<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 14 Oct 2020 20:27:59 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 14 Oct 2020 20:27:59 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[The Niche I am Looking to Fill]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24763209">thread link</a>) | @DoreenMichele
<br/>
October 13, 2020 | http://www.eclogiselle.com/2020/10/the-niche-i-am-looking-to-fill.html | <a href="https://web.archive.org/web/*/http://www.eclogiselle.com/2020/10/the-niche-i-am-looking-to-fill.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-206541096419142738"><p>
Eclogiselle is intended to be a compendium of free resources for small communities with paid services available below $5000. In fact, I hope to be able to offer some services for well under a thousand dollars.

</p><p>


I am looking to serve small communities that would have trouble hiring someone at all to do planning and economic development work for them. I am hoping to find creative ways to provide useful resources for communities who often either cannot afford paid staff or cannot find someone willing to work for them for what they can afford to pay.

</p><hr><p>
The small town I live in made an offer to a candidate for their city manager position and the candidate turned them down and took a higher paying job elsewhere. That seems to be par for the course.

</p><p>

Years ago when I was looking to become a professional planner, I haunted the online job listings. A lot of small communities kept the same job openings available for months at a time because of the challenges they face in filling such positions at all.

</p><p>
I have first-hand experience with my local <a href="https://www.reddit.com/r/CitizenPlanners/comments/duf6ae/main_street_america/">Main Street America</a> program. This is the leading voice for preservation-based economic development and community revitalization across the US. 
</p><p>
It is aimed at revitalizing small towns. In order to be an accredited Main Street program, you need to have an executive director: 

</p><ul><li>0-2500 people = half time volunteer Executive Director</li>

  <li>2500-5000 = half time paid Executive Director</li>

  <li>5000+ = full time paid Executive Director</li></ul><p>

So this well-established program doesn't expect a town of less than 2500 people to be able to pay their economic development director <i>at all</i>. It's a part-time, volunteer position for such communities. It's basically a labor of love. 
</p><p>
For towns between 2500 and 5000 people, they only expect them to be able to pay for a part-time director. It's only for communities above 5000 that they expect you to have a full-time paid executive director for this non-profit economic development entity.

</p><p>
Please note that if they have a full-time executive director, this is probably their only paid employee. There will also be a board running the non-profit and those are all unpaid positions.

</p><p>
So all the evidence suggests that small communities have trouble hiring planning and economic development staff <i>at all</i>, whether it is a city job or a job at a local non-profit trying to fill in the gaps in their small town. And when <a href="https://www.reddit.com/r/urbanplanning/comments/j5a0vr/dark_side_question_typical_services_and_prices_at/">I asked around</a>, the answers I got suggest small communities face additional challenges when they look to contract out services instead of hiring paid staff to serve them.
</p><p>
In one reply to my query, I was given a link to <a href="https://patch.com/new-jersey/triboro/kinnelon-council-members-fear-environmental-resource-e348f325fc">an article</a> from 2012 where The Land Conservancy of New Jersey was offering to do an Environmental Resources Inventory (ERI) for Kinnelon, a burrough in New Jersey. They were offering it at a discount and the price was expected to be $10,000 (back in 2012 -- no doubt, prices have gone up since then).
</p><p>
<a href="https://tlc-nj.org/">The Land Conservancy of New Jersey</a> is apparently a <i>non-profit</i> land trust that has a goal of protecting open space. The person who left the link implied that this is probably a typical fee for non-profits and universities serving this space for small communities.

</p><p>

Non-profits and universities are supposed to be the good guys, the affordable option, the folks doing it out of idealism and not to make a quick buck. But it doesn't take much digging to be suspicious of this $10,000 ERI and why it is being pushed.
</p><p>
In the article, one person objecting to paying for the ERI said, in part, <i>All we do is keep spending money and no ones giving us money.</i> so I pulled up the <a href="https://en.wikipedia.org/wiki/Kinnelon,_New_Jersey">Wikipedia page for Kinnelon</a>, New Jersey and, unsurprisingly, this is a wealthy suburb.
</p><p>
According to Wikipedia, in 2012 they were among the top 500 most expensive zip codes in the US. It lists them as at number 462.
</p><p>
A quick search tells me there are nearly 42,000 zip codes in the US. If you pull out a calculator and divide 462 by 42,000, the result is 0.011. So we are talking about people who are just outside of the One Percent. 
</p><p>
I read this article and I see vague, hand-wavy claims that this ERI is "useful for planning efforts" and I also see people complaining about a pattern of being bled for money over the years without getting results. I can readily believe they are being taken advantage of. 

</p><p>
I can believe that people keep going to Kinnelon burrough, selling them services "at a discount" (because "we are the good guys") for thousands of dollars -- because these people can come up with the money -- and the services aren't actually useful for development.
</p><p>
The other thing I was told was that most for-profit, private planning firms do not actively seek out projects that are below about $5k. If you approach them, they might do a small project for you, but chasing it down isn't worth it. It doesn't pay well enough.

</p><p>

Before life got in the way, I wanted to be a professional planner. I've spent years around online planning forums and attending local meetings and what not and I think I would have trouble finding a private planning firm. 
</p><p>
They seem to me to not be very visible. I'm not exactly an insider because I never got the career I wanted, but you would think this would be less opaque to me.
</p><p>

So my impression is that planning firms are hard to identify by small communities, aren't actively seeking business from small communities because it doesn't pay well enough and may not even take a bid from you even if you approach them. If it's only a few thousand dollars, they seem to feel like they are doing you some kind of favor if they are willing to work with you.

</p><p>

I am in Aberdeen, Washington. It is in a region I have dubbed The Pacific Coastal Region of Washington State or <a href="https://www.reddit.com/r/CoastalWA/">CoastalWA</a>. 

</p><p><a href="https://1.bp.blogspot.com/-bGDP0jo2muo/X4Tk73UfcOI/AAAAAAAAGyU/ng7YAFlb8jEcNG137qzgwJx-WcKRulB5QCLcBGAsYHQ/s0/CoastalWA256sq.png"><img alt="" data-original-height="256" data-original-width="256" src="https://1.bp.blogspot.com/-bGDP0jo2muo/X4Tk73UfcOI/AAAAAAAAGyU/ng7YAFlb8jEcNG137qzgwJx-WcKRulB5QCLcBGAsYHQ/s0/CoastalWA256sq.png"></a></p><p>



This is a region with a sparse number of small towns and a large number of unincorporated communities. There is at least a half million people, two or three dozen incorporated small towns and probably upwards of 200 unincorporated communities.

</p><p>
And most likely an influx of people will be coming here in the next few years because it is a relative safe haven from things like climate change. So I think the many small communities in this region need to begin preparing for growth if they don't want a bunch of well-heeled outsiders to come in and run rough-shod over the people who are already here.

</p><ul><li><a href="https://www.reddit.com/r/CoastalWA/comments/j4u0by/welcome/">
  Welcome to CoastalWA</a></li><li>
<a href="https://www.reddit.com/r/CoastalWA/comments/izecag/counties_of_coastal_wa/">Counties of CoastalWA</a></li><li>
<a href="https://www.reddit.com/r/CoastalWA/comments/iztsji/coastal_wa_is_a_relative_safe_haven_in_2020/">CoastalWA is A Relative Safehaven</a></li></ul><p>

So I think there is tremendous need for free and low cost economic development and planning resources and services that would work well for small communities. The only question in my mind is if I can figure out how to package up offerings that make sense for both me and them and find a way to connect with the people who need it.





</p><blockquote>The
  Map on this page is by <a href="http://stamen.com/">Stamen Design</a> and is being used under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Map Data by <a href="http://openstreetmap.org/">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>. It has been edited by <a href="https://doreenmichele.blogspot.com/">Doreen Traylor</a>.</blockquote>


<p>
<a href="https://news.ycombinator.com/item?id=24763209">Hacker News Discussion</a></p></div>
</div></div>]]>
            </description>
            <link>http://www.eclogiselle.com/2020/10/the-niche-i-am-looking-to-fill.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24763209</guid>
            <pubDate>Tue, 13 Oct 2020 07:40:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Predict a Reddit user's Myer Briggs type from their profile]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24762449">thread link</a>) | @ragnarkar
<br/>
October 12, 2020 | https://gimmeserendipity.com/mbtimodel/reddit/ | <a href="https://web.archive.org/web/*/https://gimmeserendipity.com/mbtimodel/reddit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

<title>Predict a Reddit User's MBTI Personality</title>

<form method="POST" action="/mbtimodel/reddit/" enctype="multipart/form-data">



<br>
<label for="message"><h4>Enter username here: </h4></label>


</form>
<p>Please be patient, this could take up to a minute to process.</p>


</div></div>]]>
            </description>
            <link>https://gimmeserendipity.com/mbtimodel/reddit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24762449</guid>
            <pubDate>Tue, 13 Oct 2020 05:05:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[At Home Covid-19 Testing for Pirates – Hello Virology]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 5 (<a href="https://news.ycombinator.com/item?id=24761208">thread link</a>) | @nikoftime
<br/>
October 12, 2020 | https://www.hellovirology.com/2020/10/at-home-covid-testing-for-pirates.html?hn | <a href="https://web.archive.org/web/*/https://www.hellovirology.com/2020/10/at-home-covid-testing-for-pirates.html?hn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-6021876468798783801">

<p>
In the age of COVID, we are all worried all the time. Am I sick? Did he just breathe on me? Will I kill my parents? I’m not even worried for myself, I say, but am I going to be the asshole that infects everyone? Every decision feels so heavy<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup> all of the time. It’s exhausting.
</p>
<p>
A friend told me one day: a group of friends planned a get-together, and everyone got tested in the morning at a nearby center with a turnaround of a couple hours.
</p>
<p>
Brilliant. Testing. How obvious a salve! If I could know with reasonable confidence before and after an event that I was safe, I wouldn’t have to worry so much about killing my friends and parents, and I could do more things and see more humans. 
</p>
<p>
But, of course, in my area, I couldn’t find a testing center that would even test me without symptoms, much less give a sub-day turnaround. And, given the timeline of infection, I would really want frequent access to testing to make sure I wasn’t missing the onset of an infection. Alas.
</p>
<p>
I admit I raged against the machine a little— how can we not have better testing infrastructure at this point<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup>? Why isn’t every PCR in the country running around the clock? Heck, I ran tests like that all the time in the lab— how hard could it be?
</p>
<p>
“How hard could it be?” — famous last words in tech. But I decided to find out, and it turns out that the answer is… not that hard. It’s actually surprisingly easy to set up, and I now have an at-home COVID testing rig that I have been using to test myself and my family. There are many caveats to that statement, and I will get to those, but, first— let me tell you a little bit more about how I set everything up.
</p>
<h3>What is a PCR, anyway?</h3>


<p>
There are a number of new technologies being developed to make testing for COVID easier, faster, and cheaper<sup id="fnref3"><a target="_blank" href="#fn3" rel="footnote">3</a></sup>, but the gold-standard is still a PCR-based test that looks for fragments of RNA from the virus. PCR stands for “polymerase chain reaction,” and it refers to the well-established process by which scientists can make copies of a given piece of DNA: a sample containing the target DNA, special DNA fragments called “primers,” and special enzymes are run through a temperature cycling program that replicates the target DNA sequence, doubling the number of target fragments with each pass through the program.
</p>

<table><tbody><tr><td><img height="413" src="https://lh4.googleusercontent.com/uBntKNqjM4N2JygvtofhLXkS0i1bDYqRg0rqiuUj9cE8y3IDyYQHK8j5RtLcGasq2-Bd54U16PK0vuiLbyi4apbmnHQmSrf10tt0uOsVPweazD5yc9sgdFFjsKqnLxMs85P1FAfQ=w640-h413" width="640"></td></tr><tr><td>Through a thermal cycling program, DNA is replicated. The magic of science.&nbsp;<br></td></tr></tbody></table><p>
PCR is run on a PCR machine. The simplest versions of these are thermal cyclers: there are little holes to put lab-sized plastic tubes in, and the machine runs programmed temperature patterns. These machines are used extensively in labs and clinics to create libraries of DNA fragments being studied for any number of reasons. 
</p>
<p>
A variation on the PCR theme is what’s called a “real-time PCR machine”<sup id="fnref4"><a target="_blank" href="#fn4" rel="footnote">4</a></sup>: a thermal cycler with the ability to measure fluorescence. Instead of just replicating the DNA fragment, a real-time PCR replicates the fragment via its thermal program while also measuring the amount of fluorescent signal created by the process of replicating each fragment in the presence of special fluorescent molecules<sup id="fnref5"><a target="_blank" href="#fn5" rel="footnote">5</a></sup>. A real-time PCR machine thus enables scientists to run a process called quantitative PCR, or qPCR, which answers the critical question, “How much of a given DNA fragment exists in this sample?” 
</p>
<p>
<a target="_blank" href="https://www.fda.gov/media/134922/download">The CDC protocol for COVID testing</a> relies on qPCR: collect a sample from the patient, extract the DNA and RNA from the sample, add special DNA fragments called “primers” that match the genetic sequence of SARS-CoV-2, and run qPCR to measure the amount of DNA in the sample that matched the SARS-CoV-2 primers. 
</p>
<p>
So, clearly, the first thing I needed to run an at-home COVID test was a real-time PCR. There are a number of major manufacturers, including <a target="_blank" href="https://lifescience.roche.com/en_us/brands/realtime-pcr-overview.html#qpcr-instruments">Roche</a> and <a target="_blank" href="https://www.bio-rad.com/en-us/category/real-time-pcr-systems?ID=059db09c-88a4-44ad-99f8-78635d8d54db">Bio-Rad</a>, but new top-of-the-line real-time PCR machines cost upwards of $20,000, which is more than I am willing to commit. There are also <a target="_blank" href="https://www.alibaba.com/trade/search?fsb=y&amp;IndexArea=product_en&amp;CatId=&amp;SearchText=real-time+pcr+system">manufacturers in China that sell on Alibaba</a>, but I couldn’t tell which machines would actually be real-time PCRs with software sufficiently in English for me to operate. Plus, after contacting several companies, it seemed they were reticent to ship to the US given regulations anyhow.
</p>
<p>
Which left the resale market. I was skeptical I could find anything given what I assumed would be a worldwide shortfall of PCRs, but I was happy to discover that the market for used real-time PCRs is robust: in addition to dedicated <a target="_blank" href="https://www.biosurplus.com/">used lab supply retailers</a>, there are a <a target="_blank" href="https://www.ebay.com/sch/i.html?_from=R40&amp;_trksid=p2380057.m570.l1311&amp;_nkw=real+time+pcr&amp;_sacat=0">wide range of systems available on eBay</a>. I watched the inventory cycle for a while, and soon enough found a good deal on the machine I wanted, the Applied Biosystems StepOne<sup id="fnref6"><a href="#fn6" rel="footnote">6</a></sup>. That was the machine I had used in the lab when getting my PhD, so I knew that it had the capabilities I needed and that the software would be ye olde and Windows-only, but usable. 
</p>



<h3>A lab to call my own</h3>


<p>
And so, for $5,000, I became the happy owner of a <strong>real</strong> real-time PCR. COVID-testing aside, real-time PCRs are workhorses of genomics labs, useful for any number of experiments, so I figured if nothing else, I was one step closer to having my own private lab space. But, reading through the CDC protocol, I realized how much standard equipment is assumed in a lab or clinic: freezer, centrifuge, eppies, tube racks, pipettes, ethanol, distilled water, and much more, even before you get to actual reagents (that is, the consumable chemicals).
</p>
<p>
Luckily, <a target="_blank" href="https://www.ebay.com/">eBay</a> and <a target="_blank" href="https://www.amazon.com/">Amazon</a> are here to help. I was quite impressed by how easy it was to quickly stock my lab with everything from pipette tips to saline. The centrifuge and pipettes I bought used; I first tried cheap new pipettes from Alibaba, but they were clearly inaccurate and inconsistent. That left the reagents and consumables. Most, including the expensive enzymes required for qPCR, came from <a target="_blank" href="https://www.thermofisher.com/">ThermoFisher</a>, and the rest came from any number of lab supply companies that turn up in Google searches.
</p>
<p>
All in all, I got everything I needed for less than $8,000 (the final supply list is <a target="_blank" href="https://docs.google.com/spreadsheets/d/1-3OBo0eH2512aYwh1O4uRNhoznlhtOHyqC2SRx1Mx1c/edit?usp=sharing">here</a>). Finding a place to put it all was tricky, especially while we’re all in our apartment all the time, but I had one dresser’s worth of space to spare. And so, in our guest bedroom above our linens and next to our assortment of exercise equipment, I now have my very own COVID-testing facility.
</p><table><tbody><tr><td><img height="480" src="https://lh6.googleusercontent.com/aYjbyGzxesocl7eDklxE_ScwNnLrlc3Bl4sMe7-yWzVCpWNmZo2X96efzQgEnj8D9atBv-qdqrgnns7JnBPhzZUh8YZohFdgiGORXWWOh_jifkzJE1Co8PMwtTVWMilDiYslbvam=w640-h480" width="640"></td></tr><tr><td>Don’t mind the hand towels I’m using to line the dresser.<br></td></tr></tbody></table>

<h3>Running an at-home COVID test</h3>


<p>
It takes me about two hours of hands-on time to collect and prep samples, plus an hour to run the PCR and analyze results. I’m intentionally not going to go through the details of the testing protocol itself; I used the <a target="_blank" href="https://www.fda.gov/media/134922/download">published CDC protocol</a>, and if you are not familiar enough with RNA extraction and qPCR to follow that protocol, then I can’t be held responsible for what you do. But, at a high level:
</p>
<ol>

<li>Nasal swabbing seems gross, so I collect a <a target="_blank" href="https://www.cdc.gov/flu/pdf/professionals/flu-specimen-collection-poster.pdf">throat swab</a>. This is the most dangerous part of the process for me as the “clinician”; reaching into the mouth of a potentially infected person is foolhardy. So, I only run the test for people who I am willing to die for<sup id="fnref7"><a href="#fn7" rel="footnote">7</a></sup>, and I have people self-swab for good measure.

</li><li>I use an <a target="_blank" href="https://www.thermofisher.com/order/catalog/product/12280050#/12280050">Invitrogen viral extraction kit</a> to lyse cells and collect RNA and DNA.

</li><li>Starting at the cell lysis step, I introduce a SARS-CoV-2 positive control (a fragment of the SARS-CoV-2 genome as a DNA plasmid) alongside the real human samples.

</li><li>I run reverse transcription (the process of turning RNA, either from the patient or the virus, into DNA) and qPCR in one go with a <a target="_blank" href="https://www.thermofisher.com/order/catalog/product/4444432#/4444432">TaqMan 1-step master mix</a> and each of three primers: two for SARS-CoV-2 genome targets and one negative control (a common human gene, RnaseP). I typically run two replicates per primer per sample to guard against my own imprecision.

</li>
  <li>In theory, qPCR would allow me to run comparative analyses, to determine how much SARS-CoV-2 is detectable in samples relative to the internal controls. However, all I really care about is the binary result, as ANY positive signal for the SARS-CoV-2 would warrant an official clinical test.

</li>
</ol>

<table><tbody><tr><td><img height="640" src="https://lh6.googleusercontent.com/URxJhR4w9LRMYyTacShsf_FDxIZtGt1WvBb3rrKG_4yi1rEdy8BiHXnfiHvyk6Mx6OhFVTrYfE-ySW0HczAawHITkE1zjDMCh7jxE_aTOwhIdVdwXsF2Im7uSs3D3fQ-NXRPZQtZ=w480-h640" width="480"></td></tr><tr><td>We have a lax shoe policy in our lab.<br></td></tr></tbody></table>

<table><tbody><tr><td><img height="366" src="https://lh4.googleusercontent.com/fzWQtnZX3bZ5CYpw4lo25PbQGaP67MhjKOnYf2JW-18GCmaFd8b07KAyH5CAL4gTOvv94dWd6uFGZWm8ItwCkRGuHbhfDTyyj8J00dn_msxjlA0Enmu4TVumDSmuTzVGTdidPtSn=w640-h366" width="640"></td></tr><tr><td>The software runs in Parallels on my Mac laptop, so that I can watch the happy rainbows of successful qPCR form as the program runs.</td></tr></tbody></table>

<table><tbody><tr><td><img height="410" src="https://lh6.googleusercontent.com/gmRHZ8UWYylh9Jj9X5eHqRYKMqAW3RucinRhLGhzBPbl2uTBtpqJARgZ32Xr9_G3_G7yIu2z1ZhDAr7A55klsomI0VPrzegxoXyOoxYIC62wtGj3AFvrK33h7jW56YYo1u3BiRcy=w640-h410" width="640"></td></tr><tr><td>The first two sets of bars represent signal from SARS-CoV-2 genes, while the third set is a common human gene used as a control. The y-axis represents the number of cycles of the thermal program required to detect signal for the target sequence, with bars at zeroish for no signal detected. The hardest part was getting Google Sheets to draw error bars, which proved impossible. Luckily, I only need the binary answer.<br></td></tr></tbody></table>

<h3>How reliable is testing?</h3>
<p>
I have now run a number of tests for myself and my family. Notably, I have not tested a COVID-positive person so far as I know, so I am not sure yet if any of this works at all. But the internal controls give me some confidence; I figure if I can successfully scrape human RNA off the inside of your throat, but not any viral RNA, chances are you’re not shedding a ton of viral particles in any case.
</p>
<p>
That said— I’m doing this in my house. Barefoot. Even if it were 100% accurate, there would still be a fourish day incubation window to contend with, during which someone could test negative but still be a threat. And I am of course not 100% accurate; even the official clinical tests have an error rate, and can return false positives (that is, return a positive result when the patient is uninfected) or false negatives (that is, return a negative result when the patient is infected). 
</p>
<p>
My lower-bound estimate is that my test is 90% accurate, so I use the 10% chance I am wrong to scale the base risk percentage. For example:
</p>
<ul>

<li>Marla is very conservative about her COVID risk, and for the two weeks prior to testing, she goes to the market twice, with a mask. She has not experienced any symptoms of COVID in relevant memory. We can ball-park Marla’s risk as 0.1% chance she has COVID. If we additionally test her and she comes back negative, there is 10% …</li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.hellovirology.com/2020/10/at-home-covid-testing-for-pirates.html?hn">https://www.hellovirology.com/2020/10/at-home-covid-testing-for-pirates.html?hn</a></em></p>]]>
            </description>
            <link>https://www.hellovirology.com/2020/10/at-home-covid-testing-for-pirates.html?hn</link>
            <guid isPermaLink="false">hacker-news-small-sites-24761208</guid>
            <pubDate>Tue, 13 Oct 2020 00:50:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learning Haskell – Miscellaneous Enlightenments]]>
            </title>
            <description>
<![CDATA[
Score 43 | Comments 21 (<a href="https://news.ycombinator.com/item?id=24760007">thread link</a>) | @ducaale
<br/>
October 12, 2020 | https://sras.me/haskell/miscellaneous-enlightenments.html | <a href="https://web.archive.org/web/*/https://sras.me/haskell/miscellaneous-enlightenments.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>
        
<!-- Main Content -->
<div>
  
  
  
  
  <hr>
  
    <p>The following are some of the so called 'Aha!' moments I have experienced
while learning Haskell. I am sharing them here so that it might help someone
spare the hopeless frustration that precedes them.</p>
<h3 id="about-the-idea-of-purely-functional-programming">About the idea of purely functional programming</h3>
<p>For a long time I didn't understand why 'functional programming' was considered better than "regular" imperative programming. So I continued to make programs in the
"regular" imperative fashion. And one day it hit me.</p>
<p>I saw the true nature of what I was doing. I saw how imperative program was
really about arranging a sequence of side effects, the majority of time the
side effect being the mutation of a variable. I saw how an invisible web of
dependencies between statements, that can span, not only spatial but also temporal dimensions, grow
inside my imperative functions with each statement I add to it. I saw how breaking
even one strand of this invisible web, can silently break function behavior and hence the whole program. And I was enlightened...</p>
<p>Enough with the Zen talk. The point is that an imperative programming language, like Python or C, allows the programmer to
create variables. It also allows the programmer refer these variables in the
future and also allows them to change their values during the runtime.</p>
<p>This is very powerful, but with that power (yea, you guessed it), comes a great
responsibility. The responsibility of tracking states of variables while
writing and reading the program. Because each statement that you add to a program depends on a state (state of all variables in scope) that was created by the statements surrounding it.</p>
<p>Purely functional programming takes away this difficult responsibility from the
programmers without taking away the associated powers. It does this by
providing a different set of tools. By this new set of tools, the programmer
can be just as or even more powerful. It takes away variable state changes and
loops and gives us continuation passing, folds, zips, filters and maps. The
enlightenment here is simple. It is that what ever you can express with state
changes and loops in an imperative language can be expressed with this new
vocabulary in a functional style.</p>
<h3 id="about-learning-haskell">About learning Haskell</h3>
<p>People say that Haskell is not complex, and that It is just different.  But I think
that is a useless statement. When the thing you are dealing with is vastly different from what
you are used to, it can appear complex no matter how simple it actually is.</p>
<p>I would say that there are parts of Haskell that are different but straight
forward, and parts that are different and not-so-straight-forward that it
will appear to be hopelessly complex when you are new to it. But bit by bit, topics that you once considered beyond your grasp will turn
approachable. When it happens, it is like unlocking a new level of a video
game; New wonders await. This is why learning Haskell is so much worth the
effort. There is enough depth and breadth to cover to keep you interested long
enough, at the same time being a very good general purpose language with an
excellent community behind it. And now it is even gaining popularity!</p>
<h4 id="about-the-terminology-you-might-encounter-while-learning-haskell">About the terminology you might encounter while learning Haskell</h4>
<p>Following is an excerpt from the script of the movie 'The Good Dinosaur'.</p>
<pre>Daddy T-Rex:
  I need you to keep on the dodge 
  and sidle up the lob lolly past them 
  hornheads , just hootin’ and hollerin’
  to score off them rustlers. We’ll cut dirt 
  and get the bulge on ‘em.
ARLO:
  What?
Son T-Rex:
  He just wants you to get on that rock and scream.
</pre>

<p>Point is, don't be fazed by the unfamiliar terminology.  Most of the time the
whole thing means something a lot simpler than it appears to be.</p>
<h3 id="about-haskell-functions">About Haskell functions</h3>
<p>Haskell functions do not have a statement to return a value to the calling
code. In hindsight, this is pretty obvious, Haskell programs does not have
statements, at all. Instead Haskell functions are expressions that evaluate to
a value, and this value is implicitly the "return" value of that function.
Despite this, you will see people say things like "this function returns x". By
that they just mean that the function evaluate to x. </p>
<h4 id="let-expressions">Let expressions</h4>
<p>If there was one thing that could have single handedly eased my mind as an
imperative programmer coming to functional programming, it is the 'let'
expression.  Because as soon as I found that Haskell functions are limited to
single expression, I am like, "there is only so much you can do with an
expression, how can one do anything useful with it?". My problem was that I was
thinking of expressions in imperative languages. The enlightenment here is that expressions in Haskell can be really elaborate, and Haskell's "let" expression allows you to define any number of intermediate expressions or functions that are required by your final expression. This brings us very close to an imperative style of programming, even though the execution is completely different, as we will see below.</p>
<pre><code>
  sumOfDoubleAndTriple :: Int -&gt; Int
  sumOfDoubleAndTriple x = let
    double = 2 * x
    triple = 3 * x 
  in double + triple
</code></pre>

<p>In the above function, we used the let expression to define two intermediate
results 'double' and 'triple' before adding them both and returning them as the
value of the function.</p>
<p>Note that these are not variable definitions. These bindings cannot change.
You won't be allowed to redefine a symbol within the same let expression. Also
the scope of the bindings are limited to the expression after the 'in' and any
other definitions nested in the same let block. Even though bindings cannot change,
bindings in a syntactically deeper level can shadow bindings coming from
levels above.</p>
<p>One important thing here is that the bindings in a let expressions are not like
assignment statements in an imperative language. They are not 'executed' from
top down. Instead one can think of the execution as starting from the expression after the
'in' clause, and the required values being looked up in the bindings and evaluated as required.</p>
<h3 id="typeclasses">Typeclasses</h3>
<p>There is something very simple about Haskell typeclasses that I took a while to
completely grasp. It is just that Haskell must be able to figure out the
matching instance from the place from which a call to a typeclass function is
made.  If it cannot, then it will be an error.</p>
<p>Without this understanding and keeping this simple thing in mind, you will not
be able to understand a lot of advanced type system features.  For example,
<code>FunctionalDependencies</code> extension. It also helps understanding a lot of
errors that the typechecker ends up throwing at you.</p>
<h3 id="return-type-polymorphism">Return type Polymorphism</h3>
<p>If you ask, this was the biggest enlightenment for me, and one that snapped
a lot things into place. The simple fact, that it is possible for Haskell functions to return
different type of values depending on the type that is required at the call
site. In other words, Haskell functions can be polymorphic in the return type.
The simplest example I can think of is the 'read' function of type <code>String -&gt;
a</code>.  The call to this function in <code>(1::Int) + (read "2")</code> will return an <code>Int</code>
and in <code>(1::Float) + (read "2")</code> will return a Float.</p>
<h3 id="about-io">About IO</h3>
<p>When I was starting with Haskell, I remember trying to take a value wrapped in
IO out of it, purely. After a while, I realized that there is no way to take a
value out of an <code>IO</code> purely, that is, you cannot have a function <code>IO a -&gt; a</code>.
It is not because <code>IO</code> is a Monad and Monads are special cased magic, but
simply because the constructor of <code>IO</code> is not exported out of its module. This
feels so obvious now, but it wasn't once.</p>
<h3 id="wrapper-confusion">Wrapper confusion</h3>
<p>When I was still new to Haskell, I some how ended up with an intution that
types of the form <code>Xyz a</code> have tiny values of <code>a</code> wrapped inside them. And one day
I came across this function of type that looked like <code>(b -&gt; a) -&gt; SomeType a -&gt; SomeType b</code>.</p>
<p>And I am like "W.T.F !? Can GHC reverse engineer functions and make them work in reverse?"
How else can you convert a <code>b</code> wrapped in <code>f</code> to an <code>a</code> when all you have is a function that
can convert from <code>a</code> to <code>b</code>?</p>
<p>Well, the SomeType was defined as something like <code>data SomeType a = SomeType (a -&gt; Int)</code>
So the function can be easily defined as something like.</p>
<pre><code>
fn1 :: (b -&gt; a) -&gt; SomeType a -&gt; SomeType b
fn1 bToA (SomeType aToInt) = SomeType (\b -&gt; aToInt $ bToA b) -- SomeType $ aToInt.bToA
</code></pre>

<p>The point is, type of the form <code>Xyz a</code> need not be 'wrappers' or sandwiches or
anything. A type does not tell you nothing about the structure of the data
without it's definition. </p>
<p>Point is, If you have flawed ideas at the a more fundamental level, it will limit your ability to wrap your head around advanced concepts.</p>
<h3 id="the-do-notation">The 'do' notation</h3>
<p>A do block such as,</p>
<pre><code>
do
  a &lt;- expression1
  expression2
  expression3
</code></pre>

<p>DOES NOT desugar to</p>
<pre><code>
  expression1 &gt;&gt;= expression2 &gt;&gt;= expression3
</code></pre>

<p>or to..</p>
<pre><code>
  expression1 &gt;&gt;= (\a -&gt; expression2) &gt;&gt;= (\_ -&gt; expression3)
</code></pre>

<p>but something equivalent to</p>
<pre><code>
  expression1 &gt;&gt;= (\a -&gt; expression2 &gt;&gt;= (\_ -&gt; expression3))
</code></pre>

<p>Even though I was aware of this, I have often caught myself holding the
preceeding two wrong intutions time to time. So I now remember it as desugaring
to 'first expression in block &gt;&gt;= rest of block wrapped in a lambda'</p>
<p>If you recall the signature of <code>&gt;&gt;=</code> from the <code>Monad</code> class, it is <code>&gt;&gt;= :: m a -&gt; (a -&gt; mb) -&gt; mb</code>
So the arguments to <code>&gt;&gt;=</code> matches with the desugared parts as follows.</p>
<pre><code>
   expression1 &gt;&gt;= (\a -&gt; expression2 &gt;&gt;= (\_ -&gt; expression3))
-- |-- m a --| &gt;&gt;= | --------- (a -&gt; mb) --------------------|
</code></pre>

<p>Another persistent, wrong intuition I had a hard time getting rid of is that it
is the Monad's context that the lambdas in the RHS of <code>&gt;&gt;=</code> get as their argument.</p>
<p>But it is not. Instead it is what ever value that came out of the Monad on the
LHS of <code>&gt;&gt;=</code>, after it was extracted by the code in <em>the Monads
implementation</em>.  It is possible to set up the monad's value in such a way so
as to make the <code>&gt;&gt;=</code> implementation in the monad's instance to do something specific.</p>
<p>For …</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sras.me/haskell/miscellaneous-enlightenments.html">https://sras.me/haskell/miscellaneous-enlightenments.html</a></em></p>]]>
            </description>
            <link>https://sras.me/haskell/miscellaneous-enlightenments.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24760007</guid>
            <pubDate>Mon, 12 Oct 2020 22:09:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Art of Oatmeal]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 11 (<a href="https://news.ycombinator.com/item?id=24759886">thread link</a>) | @hugodutka
<br/>
October 12, 2020 | https://vasilishynkarenka.com/the-art-of-oatmeal/ | <a href="https://web.archive.org/web/*/https://vasilishynkarenka.com/the-art-of-oatmeal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1598048851887-0263d4f43e73?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 300w,
                            https://images.unsplash.com/photo-1598048851887-0263d4f43e73?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 600w,
                            https://images.unsplash.com/photo-1598048851887-0263d4f43e73?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 1000w,
                            https://images.unsplash.com/photo-1598048851887-0263d4f43e73?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1598048851887-0263d4f43e73?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" alt="The art of oatmeal">
            </figure>

            <section>
                <div>
                    <p>Breakfast is not the most important meal of the day, but it’s the one most people screw up badly. Over the years, I’ve come to understand what my ideal breakfast should look like:</p><ul><li>Fast to cook and fast to eat. If I spend too much time on stuff that doesn’t matter in the morning, then the whole day gets infected with laziness.</li><li>Light enough to support creative work afterward. I begin writing immediately after I finish eating. And if I devoured a giant omelet with cheese and shrimp, I can’t think clearly.</li><li>Nutritious enough to provide energy until lunch. I don’t want to think about food when I’m working, so the breakfast must power me for at least 3h of deep work before lunch.</li></ul><p>Half a year ago, I stumbled upon oatmeal. For a no-carb fan, it didn’t seem like a big deal at first. But I gave it a shot.</p><p>I’ve tried microwaving oatmeal, boiling it with milk, and even chilling oats overnight. I’ve experimented with berries, fruit, and nuts. I’ve tested ten different types of milk, including oat drink, which is not milk at all.</p><p>I couldn’t resist.</p><figure><iframe width="612" height="344" src="https://www.youtube.com/embed/lNGnrO3thMY?start=150&amp;feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><figcaption>Oatmeal is like shrimp.</figcaption></figure><p>Here are two best combos I’ve discovered:</p><h2 id="almond-coco-coconut-milk-almonds-raisins">Almond-Coco: coconut milk, almonds, raisins</h2><figure><img src="https://vasilishynkarenka.com/content/images/2020/10/IMG_1441-Copy-1.JPG" alt="" srcset="https://vasilishynkarenka.com/content/images/size/w600/2020/10/IMG_1441-Copy-1.JPG 600w, https://vasilishynkarenka.com/content/images/size/w1000/2020/10/IMG_1441-Copy-1.JPG 1000w, https://vasilishynkarenka.com/content/images/size/w1600/2020/10/IMG_1441-Copy-1.JPG 1600w, https://vasilishynkarenka.com/content/images/size/w2400/2020/10/IMG_1441-Copy-1.JPG 2400w" sizes="(min-width: 720px) 720px"><figcaption>A glass of milk helps to cope with the tongue-burning oatmeal right from the microwave.</figcaption></figure><p>First things first: coconut milk is not <em>really</em> coconut milk. It’s not one of those cheap drinks people sell for a pound or two. The drink is a mix of crushed coconut and some water. This makes it fatty and high in calories, which is perfect for someone who wants their breakfast to be small but nutritious. It also has a natural sweetness because of the coconut itself.</p><p>Coconut milk turns oatmeal into something totally different. Oats become soft and change their structure. The density of the milk also prevents oats from getting dry quickly. This means that you can enjoy “wet” oatmeal for longer and don’t have to bother adding more milk before cooking.</p><p>Also, almonds behave differently if you use coconut milk. They become soft enough so that you don’t have to crack your teeth to bite them. Pro tip: if you’re boiling your oatmeal with milk, add almonds just 2-3 minutes before turning the heat off. This will do the trick.</p><p>Finally, raisins add sweetness and complement the taste of coconut milk nicely. Together, the two provide a sweet but not bitterly sweet taste. Just enough sweet to not add any sugar.</p><h2 id="blue-banana-oat-drink-banana-blueberries-raspberries-walnuts">Blue-Banana: oat drink, banana, blueberries, raspberries, walnuts</h2><figure><img src="https://vasilishynkarenka.com/content/images/2020/10/IMG_2718.jpg" alt="" srcset="https://vasilishynkarenka.com/content/images/size/w600/2020/10/IMG_2718.jpg 600w, https://vasilishynkarenka.com/content/images/size/w1000/2020/10/IMG_2718.jpg 1000w, https://vasilishynkarenka.com/content/images/size/w1600/2020/10/IMG_2718.jpg 1600w, https://vasilishynkarenka.com/content/images/size/w2400/2020/10/IMG_2718.jpg 2400w" sizes="(min-width: 720px) 720px"><figcaption>I buy my berries at Sainsbury's; they always have fresh ones.</figcaption></figure><p>That’s my current favorite one. I use <a href="https://www.amazon.co.uk/Oatly-Original-Drink-Litre-Pack/dp/B0168UVSPG">Oatly Original Oat Drink</a> as a foundation here; that’s something I’ve only been able to find in the UK. It’s a nicely designed drink made from 80% water and 10% rolled oats. I loved it from the first try, and now I drink about 1L every day. And there’s something special in using oat drink for cooking oatmeal. It just feels right.</p><p>The blueberries-banana-raspberries combo is worth a few words. First, it’s a perfect mix of sweetness and acidity. I usually do about 50g of blueberries and raspberries, and one banana per portion. Berries complement banana nicely and also add those tiny bursts of juice when you bite them. I love it so much.</p><p>Lastly, walnuts make this one more nutritious. If you microwave them with the oats at 900w for 1m40s, they also become soft and perfectly match mushy banana.</p><figure><img src="https://vasilishynkarenka.com/content/images/2020/10/IMG_5795.jpg" alt="" srcset="https://vasilishynkarenka.com/content/images/size/w600/2020/10/IMG_5795.jpg 600w, https://vasilishynkarenka.com/content/images/size/w1000/2020/10/IMG_5795.jpg 1000w, https://vasilishynkarenka.com/content/images/size/w1600/2020/10/IMG_5795.jpg 1600w, https://vasilishynkarenka.com/content/images/size/w2400/2020/10/IMG_5795.jpg 2400w" sizes="(min-width: 720px) 720px"><figcaption>Watching the sunrise at 6 a.m. from the 29th floor in Minsk, Belarus. Looks like a nuclear bomb.</figcaption></figure><p>The mornings are special to me. </p><p>If I waste a second in the morning, I feel like the day is not going well already. This leads to anxiety, stress, and busyness of mind.</p><p>But if I win the morning, I almost always win the day. That’s why I move through those precious morning hours almost like a robot, performing the same routine over and over again. I only break the habit on some exceptional occasions. For example, last week, I’d been helping a friend with a YC application until 3 am and woke up at about 9.</p><hr><p>I wake up at 5:30 and go straight to the bathroom. I wash my face, clean my teeth, and go to the toilet. At 5:40, I put up training clothes and begin working out. After about 50 minutes of HIIT, I take a shower and go downstairs to have breakfast. I turn on some music like Christmas Jazz on Spotify (it’s September, I know, but so what?) and begin cooking my breakfast.</p><p>First, I get my dishes ready. I open the cupboard and take one deep plate and one flat. I also bring two spoons and a cup to pour some oat drink. This may sound like a hell of a process, but you’d be surprised if you saw how automatic it is.</p><p>Once the dishes are out there, I grab the ingredients. I take the oatmeal and nuts from the cupboard and bring fruit, berries, and oat drink from the fridge. </p><p>I open the oatmeal pack and pour some rolled oats into the deep dish. About 2/3 is enough; more will not leave enough space for fruit and berries. Next, I add some walnut pieces on top of the rolled oats and begin pouring the thing with oat drink. I add the liquid gradually, giving oats the time to soak some of the liquid so that the whole thing becomes consistent. Once pouring is done, I mix the oatmeal with a large spoon and bring it to the microwave.</p><p>I set the microwave for 900W and 2 minutes; that’s the best mode of cooking oatmeal I’ve found so far. Once the microwave starts heating the oatmeal, I begin washing banana and blueberries, my current favorite mix. Usually, I try to do it in parallel and manage to get the banana cut in small circles right before 1:20-1:30 hits. At this time, I throw the knife away and jump to the microwave to save the oatmeal.</p><p>Sometimes I fail.</p><figure><img src="https://vasilishynkarenka.com/content/images/2020/10/IMG_0684.jpg" alt="" srcset="https://vasilishynkarenka.com/content/images/size/w600/2020/10/IMG_0684.jpg 600w, https://vasilishynkarenka.com/content/images/size/w1000/2020/10/IMG_0684.jpg 1000w, https://vasilishynkarenka.com/content/images/size/w1600/2020/10/IMG_0684.jpg 1600w, https://vasilishynkarenka.com/content/images/size/w2400/2020/10/IMG_0684.jpg 2400w" sizes="(min-width: 720px) 720px"><figcaption>There’s no way to mastery without mistakes.</figcaption></figure><p>But in most cases, it’s okay. I <em>feel</em> when it’s ready and usually pause the microwave at about 1:20. I open the microwave and mix the oatmeal with a large spoon. I’ve found mixing to be necessary for rolled oats to become soft enough to not get stuck between my teeth and not too soft to turn into porridge. Just right. After I’m done with mixing, I close the microwave and resume heating.</p><p>After two minutes are done, the microwave stops. I grab my small flat plate and cover the oatmeal. This helps to steam cook rolled oats a bit more to make them soft.</p><p>Once I get the oatmeal covered, I begin preparing fruit and berries. If you ever played fruit ninja, you know exactly what I mean. I tried all sorts of forms but found banana to be the most delicious when cut into medium width circles, about .3 inches wide. Once the banana is ready, I uncover the oatmeal plate and put banana in there. Then I mix it up with the oatmeal with a large spoon. </p><p>By this point, the oatmeal is already great. But I’ve found that mixing it up with banana and leaving covered for another 30 seconds makes it just perfect. The oats soften even more and the whole thing becomes more consistent and viscous, and I love it that way.</p><p>After the oatmeal is ready, I add berries on top. I used to mix them with oats, but now I just add them on top because berries look nicer if they’re not covered with the oatmeal mucus.</p><p>I pour a cup of oat drink, bring the dish to my table, take a picture, and begin eating.</p><p>You just spent five minutes reading about how I cook oatmeal for breakfast. Or you didn’t. In both cases, you might be wondering why I am telling you all of this. And how on Earth can a person be so stoked about microwaving oatmeal for breakfast; it doesn’t sound very exciting. He seems to be very passionate about it.</p><p>When I began practicing, I wasn’t. All I wanted was to find an easy to cook breakfast, and nothing more.</p><p>But day after day, I was getting better at cooking oatmeal. I started being curious about it and began experimenting with ingredients, milk and oats. Months later, I stopped thinking about cooking when I was doing it. My body was in perfect sync with my mind, and I started moving like a dancer around the kitchen. I was in the flow.</p><p>That’s when passion came. I became passionate about oatmeal <em>after</em> I’ve become good at it. And if you told me a year ago that I’d be passionate about putting a bunch of oats in the microwave, I’d never believed you.</p><p>So don’t believe people who sell you on the idea of following your passion. It’s very seductive because all the cool guys seem to be very passionate about what they do. But if you think about it, there are two ways to this place. You can begin with passion and develop greatness. Or you can become a master and pick up some passion <a href="https://youtu.be/uaSqh4DiQSw">along the way</a>.</p><p>And as most people preach the first one, I naturally think the opposite is true. Here’s a quick thought experiment to try. Play back your childhood and try to understand <em>why</em> you became passionate about some things and not the others. You were likely naturally good at them. Or you figured them out way faster than other kids did. In any case, you tried lots of stuff.</p><p>Now, apply this passion discovery idea to the present. Instead of following your small set of existing passions, try to broaden them a little bit first. <a href="https://vasilishynkarenka.com/learning/">Learn a bunch of things</a>. Experiment. Become a master at something. No matter if you succeed or fail, you’ll discover something amusing about yourself. And I bet that passion will follow.</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to Vasili Shynkarenka</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://vasilishynkarenka.com/the-art-of-oatmeal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24759886</guid>
            <pubDate>Mon, 12 Oct 2020 21:54:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Towards Tactic Metaprogramming in Haskell]]>
            </title>
            <description>
<![CDATA[
Score 178 | Comments 34 (<a href="https://news.ycombinator.com/item?id=24759649">thread link</a>) | @headalgorithm
<br/>
October 12, 2020 | https://reasonablypolymorphic.com/blog/towards-tactics/index.html | <a href="https://web.archive.org/web/*/https://reasonablypolymorphic.com/blog/towards-tactics/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <center>
<img src="https://reasonablypolymorphic.com/images/fmaptree.gif">
</center>
<p>Isn’t it weird that we treat source code as text? That is, we have this extremely well-structured and strongly-typed object — the abstract syntax tree — that exists conceptually in our minds, and in actuality inside of our compiler, but for some reason we pretend it’s just a pile of bytes and edit it byte-by-byte rather than semantically?</p>
<p>When you stop and think about it, that’s like the stupidest idea ever. We as the authors don’t think of our code as bytes, nor does our interpreter or compiler. But instead we take the semantic understanding inside of our heads, serialize it into bytes, and then get the compiler to parse and rediscover the ideas inside our head. What a waste of effort.</p>
<p>Instead, you can use the incredible <a href="https://totbwf.github.io/">TOTBWF</a> and my new Tactics Plugin for the <a href="https://github.com/haskell/haskell-language-server">Haskell Language Server</a>, which will automatically and intelligently fill holes in your Haskell programs.</p>
<p>This blog post describes what a tactics engine is and why you want one, and is a good introduction to how in the hell we can automatically write your code for you.</p>
<h2 id="tactics">Tactics</h2>
<p>Imagine you’re pair programming with a junior engineer. In the navigator seat, you’ll be guiding your partner through the implementation, guiding them through the high-level strokes and letting them actually do the coding part. In order to implement <code>foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b</code>, for example, the guidance you give your partner might be:</p>
<ol type="1">
<li>Bind the function arguments</li>
<li>Case split on the <code>[a]</code> parameter</li>
<li>If it’s <code>[]</code>, do the obvious thing</li>
<li>Otherwise call your function and recurse.</li>
</ol>
<p>These instructions aren’t a real program by any means, but you might call them a “program sketch.” The hard part of programming (thinking about what to do) is captured here, but <em>actually doing it</em> is left as an exercise to the reader.</p>
<p>A tactics engine transforms a program sketch like the above into an actual program. Tactics free us from the tyranny of text editing and pedantic details, allowing us to work at a higher semantic level of programming.</p>
<p>Tactics correspond to semantic operations over our program. Much like how the primitive commands in text editors (delete to end of line, insert parentheses, etc) can be composed to refine the textual representation of one program into the textual representation of another, we can compose small tactics in order to build larger ideas.</p>
<p>As an example, consider how we can fill in the following hole:</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>data</span> <span>Id</span> a <span>=</span> <span>Id</span> a</span>
<span id="cb1-2"></span>
<span id="cb1-3"><span>instance</span> <span>Functor</span> <span>Id</span> <span>where</span></span>
<span id="cb1-4"><span>  fmap ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Id</span> a <span>-&gt;</span> <span>Id</span> b</span>
<span id="cb1-5">  <span>fmap</span> <span>=</span> _</span></code></pre></div>
<p>Rather than writing this function all at once, we can instead build it, one idea at a time. The first step is obviously to bind function arguments (the <code>intros</code> tactic), which results in the refined expression:</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Id</span> a <span>-&gt;</span> <span>Id</span> b</span>
<span id="cb2-2"><span>fmap</span> <span>=</span> \fab ida <span>-&gt;</span> _</span></code></pre></div>
<p>We’re left with a new hole, but this one is “smaller” than the old one; we’ve refined the previous hole, filling in some of its structure. As a result, the type of our new hole is <code>Id b</code>, and we now have both <code>fab :: a -&gt; b</code> and <code>ida :: Id a</code> in scope. We can simplify the hole further by now pattern matching on <code>ida</code> (the <code>destruct ida</code> tactic):</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Id</span> a <span>-&gt;</span> <span>Id</span> b</span>
<span id="cb3-2"><span>fmap</span> <span>=</span> \fab ida <span>-&gt;</span> <span>case</span> ida <span>of</span></span>
<span id="cb3-3">  <span>Id</span> a <span>-&gt;</span> _</span></code></pre></div>
<p>The resulting hole still has type <code>Id b</code>, but we’ve now introduced <code>a :: a</code> in scope. Our next step is to build an <code>Id</code> value, which we can do by producing its data constructor (the <code>split</code> tactic):</p>
<div id="cb4"><pre><code><span id="cb4-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Id</span> a <span>-&gt;</span> <span>Id</span> b</span>
<span id="cb4-2"><span>fmap</span> <span>=</span> \fab ida <span>-&gt;</span> <span>case</span> ida <span>of</span></span>
<span id="cb4-3">  <span>Id</span> a <span>-&gt;</span> <span>Id</span> _</span></code></pre></div>
<p>Again we’ve shrunk the problem — now our hole has type <code>b</code>. At this point we can call the <code>fab</code> function to produce a <code>b</code> (via the <code>apply fab</code> tactic):</p>
<div id="cb5"><pre><code><span id="cb5-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Id</span> a <span>-&gt;</span> <span>Id</span> b</span>
<span id="cb5-2"><span>fmap</span> <span>=</span> \fab ida <span>-&gt;</span> <span>case</span> ida <span>of</span></span>
<span id="cb5-3">  <span>Id</span> a <span>-&gt;</span> <span>Id</span> (fab _)</span></code></pre></div>
<p>All that’s left is a hole with type <code>a</code>. Fortunately, we have <code>a :: a</code> in scope, so we can just plop that in to the hole via the <code>assumption</code> tactic:</p>
<div id="cb6"><pre><code><span id="cb6-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Id</span> a <span>-&gt;</span> <span>Id</span> b</span>
<span id="cb6-2"><span>fmap</span> <span>=</span> \fab ida <span>-&gt;</span> <span>case</span> ida <span>of</span></span>
<span id="cb6-3">  <span>Id</span> a <span>-&gt;</span> <span>Id</span> (fab a)</span></code></pre></div>
<p>And just like that, we’ve produced an implementation of our desired function! By thinking in terms of the semantic operations we’d like to perform at each hole (instead of how to manipulate the bytes of text), we’ve changed the level of abstraction at which we think about editing. The implications of this might not be immediately obvious, so let’s explore them together.</p>
<p>Let’s list the tactic steps we took to derive <code>fmap</code>:</p>
<div id="cb7"><pre><code><span id="cb7-1">intros</span>
<span id="cb7-2">destruct ida</span>
<span id="cb7-3">split</span>
<span id="cb7-4">apply fab</span>
<span id="cb7-5">assumption</span></code></pre></div>
<p>Up to alpha renaming, this composition of tactics is sufficient to derive <code>fmap</code> for any sum or product type that doesn’t do anything “exciting” with its type variable. By running the same steps, we can implement <code>fmap</code> for any of the following types:</p>
<div id="cb8"><pre><code><span id="cb8-1">(a, b)</span>
<span id="cb8-2"><span>Either</span> a b</span>
<span id="cb8-3"><span>Maybe</span> a</span>
<span id="cb8-4"><span>Const</span> a b</span></code></pre></div>
<p>Let’s convince ourselves of this by quickly running through the derivation for <code>Maybe a</code>. We start again with <code>fmap</code> and its type:</p>
<div id="cb9"><pre><code><span id="cb9-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Maybe</span> a <span>-&gt;</span> <span>Maybe</span> b</span>
<span id="cb9-2"><span>fmap</span> <span>=</span> _</span></code></pre></div>
<p>After running <code>intros</code>:</p>
<div id="cb10"><pre><code><span id="cb10-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Maybe</span> a <span>-&gt;</span> <span>Maybe</span> b</span>
<span id="cb10-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> _</span></code></pre></div>
<p>and then <code>destruct ma</code></p>
<div id="cb11"><pre><code><span id="cb11-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Maybe</span> a <span>-&gt;</span> <span>Maybe</span> b</span>
<span id="cb11-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb11-3">  <span>Nothing</span> <span>-&gt;</span> _</span>
<span id="cb11-4">  <span>Just</span> a  <span>-&gt;</span> _</span></code></pre></div>
<p>Applying <code>split</code> here is a little tricky; technically it will force us to try both <code>Nothing</code> and <code>Just _</code> at each hole in a weird sort of quantum superposition. Let’s ignore this detail for right now, and come back to it immediately after finishing the derivation. Assuming we pick the right data cons, after <code>split</code> our program looks like this:</p>
<div id="cb12"><pre><code><span id="cb12-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Maybe</span> a <span>-&gt;</span> <span>Maybe</span> b</span>
<span id="cb12-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb12-3">  <span>Nothing</span> <span>-&gt;</span> <span>Nothing</span></span>
<span id="cb12-4">  <span>Just</span> a  <span>-&gt;</span> <span>Just</span> _</span></code></pre></div>
<p>Now we run <code>apply fab</code>. Because <code>Nothing</code> doesn’t take any arguments, it didn’t produce any holes, so we need look only at the <code>Just</code> case:</p>
<div id="cb13"><pre><code><span id="cb13-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Maybe</span> a <span>-&gt;</span> <span>Maybe</span> b</span>
<span id="cb13-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb13-3">  <span>Nothing</span> <span>-&gt;</span> <span>Nothing</span></span>
<span id="cb13-4">  <span>Just</span> a  <span>-&gt;</span> <span>Just</span> (fab _)</span></code></pre></div>
<p>and finally we run <code>assumption</code> to fill in the hole:</p>
<div id="cb14"><pre><code><span id="cb14-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Maybe</span> a <span>-&gt;</span> <span>Maybe</span> b</span>
<span id="cb14-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb14-3">  <span>Nothing</span> <span>-&gt;</span> <span>Nothing</span></span>
<span id="cb14-4">  <span>Just</span> a  <span>-&gt;</span> <span>Just</span> (fab a)</span></code></pre></div>
<p>Look at that! Even though it would require significantly different editing commands to write the syntax of these two functor instances, they are both descried by the same composition of tactics. This is what I mean by “semantic editing,” we’re moving the algorithm for producing functor instances out of our heads and reifying it into something the computer understands. In essence, by writing <code>fmap</code> once, we can teach the computer how to write it for us in the future.</p>
<p>I mentioned earlier that <code>split</code> gives us some issues here. Reading closely, you’ll notice that there is nothing in our tactics that say we need to <code>split</code> the same data constructor that we just <code>destruct</code>ed. In actuality there are four different, valid programs that can be produced by the above set of tactics:</p>
<div id="cb15"><pre><code><span id="cb15-1"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb15-2">  <span>Nothing</span> <span>-&gt;</span> <span>Nothing</span></span>
<span id="cb15-3">  <span>Just</span> a  <span>-&gt;</span> <span>Nothing</span></span>
<span id="cb15-4"></span>
<span id="cb15-5"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb15-6">  <span>Nothing</span> <span>-&gt;</span> <span>Nothing</span></span>
<span id="cb15-7">  <span>Just</span> a  <span>-&gt;</span> <span>Just</span> (fab a)</span>
<span id="cb15-8"></span>
<span id="cb15-9"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb15-10">  <span>Nothing</span> <span>-&gt;</span> <span>Just</span> _</span>
<span id="cb15-11">  <span>Just</span> a  <span>-&gt;</span> <span>Nothing</span></span>
<span id="cb15-12"></span>
<span id="cb15-13"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> ma <span>of</span></span>
<span id="cb15-14">  <span>Nothing</span> <span>-&gt;</span> <span>Just</span> _</span>
<span id="cb15-15">  <span>Just</span> a  <span>-&gt;</span> <span>Just</span> (fab a)</span></code></pre></div>
<p>Choosing the “best” implementation of these possibilities is largely a matter of heuristics, which I plan to describe in a later post. For now, let’s just assume our tactics engine is smart enough to come up with the one you had in mind.</p>
<p>Of course, the real issue here is that nothing forces our <code>destruct</code> and <code>split</code> tactics to use the same data constructor. We can eliminate this ambiguity by noticing that in <code>fmap</code>, we’re not actually trying to destruct and then split, but instead we’re trying to implement a homomorphism (a structure-preserving function.) In order to preserve structure, we’d better map a data constructor to itself. So instead, let’s use the <code>homo</code> tactic instead of <code>destruct</code> and <code>split</code>. Our new tactics metaprogram for writing functor instances is thus:</p>
<div id="cb16"><pre><code><span id="cb16-1">intros</span>
<span id="cb16-2">homo ida</span>
<span id="cb16-3">apply fab</span>
<span id="cb16-4">assumption</span></code></pre></div>
<p>This new version now can no longer generate any of the pathological <code>fmap</code> implementations for <code>Maybe</code>, as they are not structure preserving. We’re left only with the good implementation. Let’s do one more derivation, this time for <code>Either c a</code>. After <code>intros</code> and <code>homo eca</code>, we’re left with:</p>
<div id="cb17"><pre><code><span id="cb17-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Either</span> c a <span>-&gt;</span> <span>Either</span> c b</span>
<span id="cb17-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> eca <span>of</span></span>
<span id="cb17-3">  <span>Left</span>  c <span>-&gt;</span> <span>Left</span> _</span>
<span id="cb17-4">  <span>Right</span> a <span>-&gt;</span> <span>Right</span> _</span></code></pre></div>
<p>For the first time, we’re now left with <em>two</em> holes. The default behavior is for a tactic to apply to all holes (although there are combinators for “zipping” holes), meaning that the <code>apply fab</code> tactic will be run on both holes. For the <code>Left</code> case, our hole has type <code>c</code>, but <code>fab _</code> has type <code>b</code>, so this tactic <em>fails to apply here.</em> Tactic failure is per-hole, so we can still apply it to the other hole, resulting in:</p>
<div id="cb18"><pre><code><span id="cb18-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Either</span> c a <span>-&gt;</span> <span>Either</span> c b</span>
<span id="cb18-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> eca <span>of</span></span>
<span id="cb18-3">  <span>Left</span>  c <span>-&gt;</span> <span>Left</span> _</span>
<span id="cb18-4">  <span>Right</span> a <span>-&gt;</span> <span>Right</span> (fab _)</span></code></pre></div>
<p>And finally, <code>assumption</code> fills the hole with whatever would typecheck. In the first hole that’s <code>c</code>, and in the second it’s <code>a</code> as before.</p>
<div id="cb19"><pre><code><span id="cb19-1"><span>fmap</span><span> ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>Either</span> c a <span>-&gt;</span> <span>Either</span> c b</span>
<span id="cb19-2"><span>fmap</span> <span>=</span> \fab ma <span>-&gt;</span> <span>case</span> eca <span>of</span></span>
<span id="cb19-3">  <span>Left</span>  c <span>-&gt;</span> <span>Left</span> c</span>
<span id="cb19-4">  <span>Right</span> a <span>-&gt;</span> <span>Right</span> (fab a)</span></code></pre></div>
<p>Amazing! Three different functor implementations, with different numbers of data constructors, type variables, and cardinalities. By programming at the level of tactics rather than bytes, we can ignore the superficial differences between these implementations, focusing instead on the fact that they’re all derived the same way.</p>
<p>Hopefully this post has given you some insight into what tactics are and why they’re valuable. In the next post we’ll look at how this stuff is implemented behind the scenes, and the difficulties we’ve had integrating it into the language server. Stay tuned!</p>

<p>
    <span>
        <a href="https://reasonablypolymorphic.com/blog/algebra-driven-design">←</a>
    </span>
</p>

</div></div>]]>
            </description>
            <link>https://reasonablypolymorphic.com/blog/towards-tactics/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24759649</guid>
            <pubDate>Mon, 12 Oct 2020 21:30:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kubernetes: Curated List of Tools and Resources]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24759091">thread link</a>) | @sharjeelsayed
<br/>
October 12, 2020 | https://devopsunlocked.com/kubernetes-curated-list-of-tools-and-resources/ | <a href="https://web.archive.org/web/*/https://devopsunlocked.com/kubernetes-curated-list-of-tools-and-resources/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
				<div id="content">
			
	<div id="primary">
		<main id="main">
			
<article id="post-1233" itemtype="https://schema.org/CreativeWork" itemscope="">
	<div>
					
			
		<div itemprop="text">
			
<figure><img loading="lazy" width="1024" height="467" src="https://i2.wp.com/devopsunlocked.com/wp-content/uploads/2020/10/k8s-tools-mini-pic.jpg?resize=1024%2C467&amp;ssl=1" alt="" srcset="https://i2.wp.com/devopsunlocked.com/wp-content/uploads/2020/10/k8s-tools-mini-pic.jpg?resize=1024%2C467&amp;ssl=1 1024w, https://i2.wp.com/devopsunlocked.com/wp-content/uploads/2020/10/k8s-tools-mini-pic.jpg?resize=300%2C137&amp;ssl=1 300w, https://i2.wp.com/devopsunlocked.com/wp-content/uploads/2020/10/k8s-tools-mini-pic.jpg?resize=768%2C350&amp;ssl=1 768w, https://i2.wp.com/devopsunlocked.com/wp-content/uploads/2020/10/k8s-tools-mini-pic.jpg?w=1280&amp;ssl=1 1280w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></figure>



<p>Below is a large, curated list of Kubernetes tools and resources. This is an “active” post which means as new tools are identified I will add to this and provide the update here. </p>



<h3>Command Line Tools</h3>



<ul><li><a href="https://github.com/astefanutti/kubebox">Kubebox</a>  – Terminal and Web console for Kubernetes</li><li><a href="https://github.com/derailed/k9s">K9s</a> – K9s provides a terminal UI to interact with your Kubernetes clusters. <strong>[Highly Recommend]</strong></li><li><a href="https://github.com/weaveworks/kubediff">kubediff</a> – Kubediff is a tool for Kubernetes to show you the differences between your running configuration and your version controlled configuration.</li><li><a href="https://github.com/helm/helm">Helm</a> – Helm is a tool for managing Charts. Charts are packages of pre-configured Kubernetes resources.</li><li><a href="https://github.com/jlesquembre/kubeprompt">kubeprompt</a> – Isolates KUBECONFIG in each shell and shows the current Kubernetes context/namespace in your prompt</li><li><a href="https://github.com/ahmetb/kubectx">kubectx + kubens</a> – Kubectx helps you switch between clusters back and forth, and <code>kubens</code> helps you switch between Kubernetes namespaces smoothly.</li><li><a href="https://github.com/cloudnativelabs/kube-shell">kube-shell</a> – Kube-shell: An integrated shell for working with the Kubernetes CLI.</li><li><a href="https://github.com/omrikiei/ktunnel">Ktunnel</a>  – Ktunnel is a CLI tool that establishes a reverse tunnel between a kubernetes cluster and your local machine.</li><li><a href="https://github.com/ahmetb/kubectl-aliases">kubectl-aliases</a>  – This repository contains a script to generate hundreds of convenient shell aliases for kubectl.</li><li><a href="https://github.com/johanhaleby/kubetail">Kubetail</a> – Bash script that enables you to aggregate (tail/follow) logs from multiple pods into one stream.</li><li><a href="https://github.com/wercker/stern">stern</a>  – Stern allows you to tail multiple pods on Kubernetes and multiple containers within the pod.</li><li><a href="https://github.com/ahmetb/kubectl-tree">kubectl tree</a> – A kubectl plugin to explore ownership relationships between Kubernetes objects through owners.</li><li><a href="https://github.com/FairwindsOps/nova/">nova</a> – Nova scans your cluster for installed Helm charts, then cross-checks them against all known Helm repositories.</li></ul>



<h3><a href="https://github.com/tomhuang12/awesome-k8s-resources#cluster-provisioning"></a></h3>



<h3>Cluster Provisioning</h3>



<ul><li><a href="https://github.com/kubernetes-sigs/kind">kind</a> – kind is a tool for running local Kubernetes clusters using Docker container “nodes”.</li><li><a href="https://github.com/rancher/k3s">k3s</a>  – Lightweight Kubernetes. Easy to install, half the memory, all in a binary less than 100 MB.</li><li><a href="https://github.com/weaveworks/eksctl">eksctl</a>  – eksctl is a simple CLI tool for creating clusters on EKS – Amazon’s new managed Kubernetes service for EC2.</li><li><a href="https://github.com/kubernetes-sigs/kubespray">kubespray</a>  – Deploy a production ready Kubernetes cluster</li><li><a href="https://github.com/kubernetes/kops">kops</a> – kops helps you create, destroy, upgrade and maintain production-grade, highly available, Kubernetes clusters from the command line.</li><li><a href="https://github.com/kubernetes-sigs/bootkube">Bootkube</a>  – Bootkube is a tool for launching self-hosted Kubernetes clusters.</li><li><a href="https://github.com/kubernetes-incubator/kube-aws">kube-aws</a> – <code>kube-aws</code> is a command-line tool to create/update/destroy Kubernetes clusters on AWS.</li><li><a href="https://github.com/kubernetes/minikube">Minikube</a> – minikube implements a local Kubernetes cluster on macOS, Linux, and Windows.</li><li><a href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm/">Kubeadm</a> – kubeadm performs the actions necessary to get a minimum viable cluster up and running.</li><li><a href="https://conjure-up.io/" target="_blank" rel="noreferrer noopener">Conjure-Up</a> – A tool provided by Canonical that will allow you to deploy Kubernetes to Ubuntu.</li></ul>







<h3>Automation and CI/CD</h3>



<ul><li><a href="https://github.com/fluxcd/flux">Flux</a> – Flux is a tool that automatically ensures that the state of a cluster matches the config in git.</li><li><a href="https://github.com/argoproj/argo-cd">Argo CD</a> – Argo CD is a declarative, GitOps continuous delivery tool for Kubernetes.</li><li><a href="https://github.com/argoproj/argo-rollouts">Argo Rollouts</a> – Argo Rollouts controller, uses the Rollout custom resource to provide additional deployment strategies such as Blue Green and Canary to Kubernetes.</li><li><a href="https://github.com/fluxcd/helm-operator">Helm Operator</a> – The Helm Operator is a Kubernetes operator, allowing one to declaratively manage Helm chart releases.</li><li><a href="https://github.com/weaveworks/flagger">Flagger</a> – Flagger is a progressive delivery tool that automates the release process for applications running on Kubernetes.</li><li><a href="https://github.com/argoproj/argo">Argo Workflows</a> – Argo Workflows is an open source container-native workflow engine for orchestrating parallel jobs on Kubernetes.</li><li><a href="https://github.com/kedacore/keda">KEDA</a> – KEDA allows for fine grained autoscaling (including to/from zero) for event driven Kubernetes workloads.</li><li><a href="https://github.com/kubesphere/kubesphere">KubeSphere</a> – KubeSphere is a distributed operating system providing cloud native stack with Kubernetes as its kernel, and aims to be plug-and-play architecture for third-party applications seamless integration to boost its ecosystem.</li><li><a href="https://github.com/GoogleContainerTools/skaffold">Skaffold</a> – Skaffold is a command line tool that facilitates continuous development for Kubernetes applications.</li><li><a href="https://github.com/logzio/apollo">Apollo</a> – Apollo is a simple, lightweight, Continuous Deployment (CD) solution on top of Kubernetes.</li><li><a href="https://github.com/spinnaker/spinnaker">Spinnaker</a> – Spinnaker is an open-source continuous delivery platform for releasing software changes with high velocity and confidence.</li><li><a href="https://github.com/argoproj/argo-events">Argo Events</a> – Argo Events is an event-driven workflow automation framework for Kubernetes which helps you trigger K8s objects, Argo Workflows, Serverless workloads, etc.</li><li><a href="https://github.com/stakater/Reloader">Reloader</a> – Reloader can watch changes in <code>ConfigMap</code> and <code>Secret</code> and do rolling upgrades on Pods with their associated <code>DeploymentConfigs</code>, <code>Deployments</code>, <code>Daemonsets</code> and <code>Statefulsets</code>.</li></ul>



<h3><a href="https://github.com/tomhuang12/awesome-k8s-resources#cluster-resources-management"></a></h3>



<h3>Cluster Resources Management</h3>



<ul><li><a href="https://github.com/openkruise/kruise">Kruise</a> – Kruise consists of several controllers which extend and complement the Kubernetes core controllers for workload management.</li><li><a href="https://github.com/grafana/tanka">Grafana Tanka</a>– The clean, concise and super flexible alternative to YAML for your Kubernetes cluster.</li><li><a href="https://github.com/bluek8s/kubedirector">KubeDirector</a> – KubeDirector uses standard Kubernetes (K8s) facilities of custom resources and API extensions to implement stateful scaleout application clusters.</li><li><a href="https://github.com/kubernetes-sigs/multi-tenancy/tree/master/incubator/hnc">The Hierarchical Namespace Controller</a> – Hierarchical namespaces make it easier to share your cluster by making namespaces more powerful.</li></ul>



<h3><a href="https://github.com/tomhuang12/awesome-k8s-resources#secrets-management"></a></h3>



<h3>Secrets Management</h3>



<ul><li><a href="https://github.com/godaddy/kubernetes-external-secrets">Kubernetes External Secrets</a> – Kubernetes External Secrets allows you to use external secret management systems, like AWS Secrets Manager or HashiCorp Vault, to securely add secrets in Kubernetes.</li><li><a href="https://github.com/bitnami-labs/sealed-secrets">Sealed Secrets</a> – Encrypt your Secret into a SealedSecret, which is safe to store – even to a public repository.</li></ul>



<h3><a href="https://github.com/tomhuang12/awesome-k8s-resources#networking"></a></h3>



<h3>Networking</h3>



<ul><li><a href="https://github.com/kubernetes/ingress-nginx">ingress-nginx</a> – <code>ingress-nginx</code> is an Ingress controller for Kubernetes using NGINX as a reverse proxy and load balancer.</li><li><a href="https://github.com/nginxinc/kubernetes-ingress">kubernetes-ingress</a> – An implementation of an Ingress controller for NGINX and NGINX Plus (commercial).</li><li><a href="https://github.com/projectcalico/calico">Calico Networking</a>  – Calico is an open source networking and network security solution for containers, virtual machines, and bare-metal workloads</li><li><a href="https://github.com/coredns/coredns">CoreDNS</a>  – CoreDNS is a fast and flexible DNS server that works on Kubernetes.</li><li><a href="https://github.com/Kong/kubernetes-ingress-controller">Kong for Kubernetes</a> – Configure plugins, health checking, load balancing and more in Kong for Kubernetes Services.</li><li><a href="https://github.com/jetstack/cert-manager">cert-manager</a> – cert-manager is a Kubernetes add-on to automate the management and issuance of TLS certificates from various issuing sources.</li><li><a href="https://github.com/eldadru/ksniff">ksniff</a>  – A kubectl plugin that utilize tcpdump and Wireshark to start a remote capture on any pod in your Kubernetes cluster.</li><li><a href="https://github.com/iovisor/kubectl-trace">kubectl trace</a>  – <code>kubectl trace</code> is a kubectl plugin that allows you to schedule the execution of bpftrace programs in your Kubernetes cluster.</li></ul>



<h3><a href="https://github.com/tomhuang12/awesome-k8s-resources#storage"></a></h3>



<h3>Storage</h3>



<ul><li><a href="https://github.com/rook/rook">Rook</a> – Rook is an open source cloud-native storage orchestrator for Kubernetes.</li><li><a href="https://github.com/openebs/openebs">OpenEBS</a> – OpenEBS is the most widely deployed and easy to use open-source storage solution for Kubernetes.</li><li><a href="https://github.com/longhorn/longhorn">Longhorn</a> – Longhorn is a distributed block storage system for Kubernetes.</li><li><a href="https://github.com/kubernetes-sigs/aws-ebs-csi-driver">Amazon EBS CSI Driver</a> – The Amazon Elastic Block Store Container Storage Interface (CSI) Driver provides a CSI interface used by Container Orchestrators to manage the lifecycle of Amazon EBS volumes.</li><li><a href="https://github.com/kubernetes-sigs/aws-efs-csi-driver">Amazon EFS CSI Driver</a> – The Amazon Elastic File System Container Storage Interface (CSI) Driver implements the CSI specification for container orchestrators to manage the lifecycle of Amazon EFS filesystems.</li><li><a href="https://github.com/kubernetes-sigs/aws-fsx-csi-driver">Amazon FSx for Lustre CSI Driver</a> – The Amazon FSx for Lustre Container Storage Interface (CSI) Driver implements CSI specification for container orchestrators (CO) to manage lifecycle of Amazon FSx for Lustre filesystems.</li></ul>



<h3><a href="https://github.com/tomhuang12/awesome-k8s-resources#testing-and-troubleshooting"></a></h3>



<h3>Testing and Troubleshooting</h3>



<ul><li><a href="https://github.com/asobti/kube-monkey">kube-monkey</a> – It randomly deletes Kubernetes (k8s) pods in the cluster encouraging and validating the development of failure-resilient services.</li><li><a href="https://github.com/vapor-ware/kubetest">Kubetest</a>– Kubetest is a pytest plugin that makes it easier to manage a Kubernetes cluster within your integration tests.</li><li><a href="https://github.com/litmuschaos/litmus">Litmus</a> – Litmus provides tools to orchestrate chaos on Kubernetes to help SREs find weaknesses in their deployments.</li><li><a href="https://github.com/bloomberg/powerfulseal">PowerfulSeal</a> – PowerfulSeal injects failure into your Kubernetes clusters, so that you can detect problems as early as possible. It is very Similar to Kube-Monkey.</li><li><a href="https://github.com/aylei/kubectl-debug">Kubectl-debug</a> – Kubectl-debug an out-of-tree solution for troubleshooting running pods, which allows you to run a new container in running pods for debugging purpose.</li><li><a href="https://github.com/eldadru/ksniff">ksniff</a> – A kubectl plugin that utilize tcpdump and Wireshark to start a remote capture on any pod in your Kubernetes cluster.</li><li><a href="https://github.com/loadimpact/k6">k6</a> – k6 is a modern load testing tool, building on Load Impact’s years of experience in the load and performance testing industry.</li><li><a href="https://github.com/open-policy-agent/conftest">Conftest</a> – Conftest helps you write tests against structured configuration data.</li><li><a href="https://github.com/linki/chaoskube">chaoskube</a> – <code>chaoskube</code> periodically kills random pods in your Kubernetes cluster.</li><li><a href="https://github.com/pingcap/chaos-mesh">Chaos Mesh</a> – Chaos Mesh® is a cloud-native Chaos Engineering platform that orchestrates chaos on Kubernetes environments.</li><li><a href="https://popeyecli.io/">popeye</a> – Popeye is a utility that scans live Kubernetes cluster and reports potential issues with deployed resources and configurations.</li><li><a href="https://github.com/zegl/kube-score">kube-score</a> – <code>kube-score</code> is a tool that performs static code analysis of your Kubernetes object definitions.</li><li><a href="https://github.com/lucky-sideburn/KubeInvaders">KubeInvaders</a> – Through KubeInvaders you can stress Kubernetes cluster in a fun way and check how it is resilient.</li></ul>



<h3><a href="https://github.com/tomhuang12/awesome-k8s-resources#monitoring-alerts-and-visualization"></a></h3>



<h3>Monitoring, Alerts, and Visualization</h3>



<ul><li><a href="https://github.com/prometheus/prometheus">Prometheus</a> – Prometheus, a Cloud Native Computing Foundation project, is a systems and service monitoring system.</li><li><a href="https://github.com/grafana/grafana">Grafana</a> – Grafana allows you to query, visualize, alert on and understand your metrics no matter where they are stored.</li><li><a href="https://github.com/kubernetes/kube-state-metrics">kube-state-metrics</a>  – kube-state-metrics is a simple service that listens to the Kubernetes API server and generates metrics about the state of the objects.</li><li><a href="https://github.com/kubernetes-sigs/metrics-server">Kubernetes Metrics Server</a> – Metrics Server is a scalable, efficient source of container resource metrics for Kubernetes built-in autoscaling pipelines.</li><li><a href="https://github.com/hjacobs/kube-ops-view">Kubernetes Operational View</a> –  A tool that aims to provide a common operational picture for multiple Kubernetes clusters.</li><li><a href="https://github.com/kubernetes/dashboard">Kubernetes Dashboard</a> – Kubernetes Dashboard is a general purpose, web-based UI for Kubernetes clusters.</li><li><a href="https://github.com/thanos-io/thanos">Thanos</a> – Thanos is a set of components that can be composed into a highly available metric system with unlimited storage capacity.</li><li><a href="https://github.com/cortexproject/cortex">Cortex</a> – Cortex provides horizontally scalable, highly available, multi-tenant, long term storage for Prometheus.</li><li><a href="https://github.com/FairwindsOps/goldilocks">Goldilocks</a>  – This tool creates a vertical pod autoscaler for each deployment in a namespace …</li></ul></div></div></article></main></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://devopsunlocked.com/kubernetes-curated-list-of-tools-and-resources/">https://devopsunlocked.com/kubernetes-curated-list-of-tools-and-resources/</a></em></p>]]>
            </description>
            <link>https://devopsunlocked.com/kubernetes-curated-list-of-tools-and-resources/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24759091</guid>
            <pubDate>Mon, 12 Oct 2020 20:27:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Bay-Area AI startups that are actively hiring (Fall 2020)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24758830">thread link</a>) | @achalshah
<br/>
October 12, 2020 | https://www.pujaarajan.com/writing/my-top-4-bay-area-ai-startups-that-are-actively-hiring-fall-2020 | <a href="https://web.archive.org/web/*/https://www.pujaarajan.com/writing/my-top-4-bay-area-ai-startups-that-are-actively-hiring-fall-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-layout-label="Post Body" data-type="item" data-updated-on="1602384410610" id="item-5f826ae6fa00313a7c5f7c5c"><div><div><div data-block-type="2" id="block-3f39fe93219ab4d869a7"><div><p>When I was job hunting, the best job recommendation came via word of mouth from people in my network. I remember when I was leaving Wall Street for my first job in tech, and I didn’t know anyone in the industry to help. Because of this, I wanted to share the my top startups out of all the ones that were recommended to me. I would work at all of them while working at Stripe if I could.  </p><p>The companies below are in no particular order. I won’t bore you about what the company does because you can find that out on their website. Instead, I’ll focus on my personal experiences with the company.</p><p>1. <a href="https://www.tecton.ai/">Tecton</a></p><p>Tecton is a feature store for machine learning by the creators of <a href="https://eng.uber.com/michelangelo-machine-learning-platform/">Michelangelo</a>. Uber’s state of the art machine learning platform. I finagled a interview here after requesting a free trial using my email on their website, and then replying back to the first email they sent me asking for a job. I met with the founders <a href="https://www.linkedin.com/in/michaeldelbalso/">Mike Del Blasio</a> and <a href="https://www.linkedin.com/in/kevinstumpf/">Kevin Stumpf</a> three, maybe more, times. I walked away impressed and inspired every time. They take culture seriously having learned from their experience at Uber. Case in point, they had the longest interview process really trying to find a mutual fit. Tecton offers the opportunity to become an expert in machine learning infrastructure at a high-growth company, founded and led by people who already have the answer key because they’ve done it before.</p><p>2. <a href="https://www.viaduct.ai/">Viaduct</a></p><p>Viaduct is a machine learning platform to empower automakers and their partners to make safer, personalized and reliable vehicles. I decided to apply after <a href="https://twitter.com/sh_reya">Shreya Shankar</a>, recommended applying. I reached out to her because I was intrigued a <a href="https://github.com/shreyashankar/gpt3-sandbox">GPT-3 project</a> that she built with her colleague, <a href="https://twitter.com/notsleepingturk">Bora Uyumazturk</a>. The founder, <a href="https://www.linkedin.com/in/david-hallac-593a5987/">David Hallac</a>, spoke with me multiple times, and he was an obviously expert in the startup’s field. I was starstruck by his cofounder and advisor, <a href="https://cs.stanford.edu/people/jure/">Jure Lescovec</a>. Jure is not only a Stanford CS professor, <a href="http://www.pinterest.com/">Pinterest</a>’s Chief Scientist, a <a href="https://www.czbiohub.org/">Chan Zuckerberg Biohub</a> investigator, but also a pioneer in the field of graph neural networks, whose work I’ve read since my undergraduate days. Viaduct offers the opportunity to work with a fun team and learn from experts while developing domain expertise with cars and IoT devices.</p><p>3. <a href="https://www.fiddler.ai/">Fiddler.ai</a></p><p>Fiddler is an explainable AI Platform for enterprises that helps not only explain, but also monitor, your machine learning models in production. They are one of the few startups that not only talk about, but also build ethical AI. <a href="https://www.linkedin.com/in/krishnagade/">Krishna Gade</a>, founder and CEO, was previously an engineering manager working on the Newsfeed at Facebook, whicher he learned what not to do…(my words, not his). Their mission is to make AI trustworthy, and I felt like the founders, <a href="https://www.linkedin.com/in/cheenath/">Krishna Gade</a>, <a href="https://www.linkedin.com/in/amitpaka/">Amit Paka</a> and <a href="https://www.linkedin.com/in/cheenath/">Manoj Cheenath</a>, had created a culture of trust within the company too. Fiddler offers the opportunity to become an expert in explainable AI while building a product everyone wants and needs in an open environment.</p><p>4. <a href="https://su-sea.github.io/jobs/">Susea.ai</a></p><p>Susea is using the latest NLP and AI technology to help our users confidently make better decisions. I was starstruck by the founders, <a href="https://www.socher.org/">Richard Socher</a>, who was previously the founder MetaMind and the Chief Scientist at Salesforce, and&nbsp;<a href="https://bmccann.github.io/">Bryan McCann</a>, who was previously an early employee MetaMind and a research lead at Salesforce. I can’t believe I had an opportunity to meet via the interviews. This is a unique opportunity because it’s an extremely early stage company with only 4 employees who’ve worked together from at Metamind and Salesforce. Susea offers the opportunity to build a new company as the 5th employee with people who have built, led, and sold companies before.</p></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.pujaarajan.com/writing/my-top-4-bay-area-ai-startups-that-are-actively-hiring-fall-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-24758830</guid>
            <pubDate>Mon, 12 Oct 2020 20:03:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Real-Time Analytics on DynamoDB: The Ultimate Guide]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24758794">thread link</a>) | @box2A1
<br/>
October 12, 2020 | https://rockset.com/real-time-analytics-dynamodb-ebook | <a href="https://web.archive.org/web/*/https://rockset.com/real-time-analytics-dynamodb-ebook">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Amazon DynamoDB is optimized for real-time transactions but does not provide strong performance for analytical workloads. That’s why it’s a best practice to pair DynamoDB with an analytics solution like Athena, Hive/Spark, Elasticsearch, Redshift and more. In this ebook, we compare analytics solutions on query and data latency, concurrency and ease of use.</p><div><p>Amazon DynamoDB has been one of the most popular NoSQL databases in the cloud since its
introduction in 2012. It is central to many modern applications in ad tech, gaming, IoT, and
financial services. As opposed to a traditional RDBMS , like PostgreSQL, DynamoDB scales
horizontally, obviating the need for careful capacity planning, resharding, and database
maintenance.</p><p>Companies turn to DynamoDB for building event-driven architectures and user-friendly,
performant applications at scale. As an operational database, DynamoDB is optimized for
real-time transactions even when deployed across multiple geographic locations. However, it
does not provide strong performance for analytics workloads. In this ebook, we discuss the 
analytical query performance of DynamoDB and compare different options for ETL and analytics 
tools including Athena, Hive/Spark, Elasticsearch, ElasticCache for Redis, Redshift and Rockset.</p>
</div></div>]]>
            </description>
            <link>https://rockset.com/real-time-analytics-dynamodb-ebook</link>
            <guid isPermaLink="false">hacker-news-small-sites-24758794</guid>
            <pubDate>Mon, 12 Oct 2020 20:00:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Our New Machine Learning Visualization IDE]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24758672">thread link</a>) | @slewis
<br/>
October 12, 2020 | https://wandb.ai/wandb/posts/reports/Announcing-the-W-B-Machine-Learning-Visualization-IDE--VmlldzoyNjk3Nzg | <a href="https://web.archive.org/web/*/https://wandb.ai/wandb/posts/reports/Announcing-the-W-B-Machine-Learning-Visualization-IDE--VmlldzoyNjk3Nzg">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://wandb.ai/wandb/posts/reports/Announcing-the-W-B-Machine-Learning-Visualization-IDE--VmlldzoyNjk3Nzg</link>
            <guid isPermaLink="false">hacker-news-small-sites-24758672</guid>
            <pubDate>Mon, 12 Oct 2020 19:48:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Durability: Linux File APIs]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 38 (<a href="https://news.ycombinator.com/item?id=24758024">thread link</a>) | @zdw
<br/>
October 12, 2020 | https://www.evanjones.ca/durability-filesystem.html | <a href="https://web.archive.org/web/*/https://www.evanjones.ca/durability-filesystem.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h3>[ 2020-October-12 10:26 ]</h3>
<p>As part of investigating the durability provided by cloud systems, I wanted to make sure I understood the basics. I started by <a href="https://www.evanjones.ca/durability-nvme.html">reading the NVMe specification, to understand the guarantees provided by disks</a>. The summary is that you should assume your data is corrupt between when a write is issued until after a flush or force unit access write completes. However, most programs use system calls to write data. This article looks at the guarantees provided by the Linux file APIs. It seems like this should be simple: a program calls <code>write()</code> and after it completes, the data is durable. However, <code>write()</code> only copies data from the application into the kernel's cache in memory. To force the data to be durable you need to use some additional mechanism. This article is a messy collection of notes about what I've learned. (The really brief summary: use fdatasync or open with O_DSYNC.) For a better and clearer overview, see LWN's <a href="https://lwn.net/Articles/457667/">Ensuring data reaches disk</a>, which walks from application code through to the disk.</p>


<h2>The semantics of write()</h2>

<p>The write system call is defined in the <a href="https://en.wikipedia.org/wiki/POSIX">IEEE POSIX standard</a> as attempting to write data to a file descriptor. After it successfully returns, reads are required to return the bytes that were written, even when read or written by other processes or threads (<a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/write.html#tag_16_685_08">POSIX standard write(); Rationale</a>). There is an addition note under <a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html#tag_15_09_07">Thread Interactions with Regular File Operations</a> that says "If two threads each call one of these functions, each call shall either see all of the specified effects of the other call, or none of them." This suggests that all file I/O must effectively hold a lock.</p>

<p>Does that mean write is atomic? Technically, yes: future reads must return the entire contents of the write, or none of it. However, write is not required to be <em>complete</em>, and is allowed to only transfer <em>part</em> of the data. For example, we could have two threads, each appending 1024-bytes to a single file descriptor. It would be acceptable for the two writes to each only write a single byte. This is still "atomic", but also results in undesirable interleaved output. There is a great <a href="https://stackoverflow.com/a/42442926/413438">StackOverflow answer with more details</a>.</p>


<h2>fsync/fdatasync</h2>

<p>The most straightforward way to get your data on disk is to call <a href="https://man7.org/linux/man-pages/man2/fsync.2.html">fsync()</a>. It requests the operating system to transfer all modified blocks in cache to disk, along with all file metadata (e.g. access time, modification time, etc). In my opinion, that metadata is rarely useful, so you should use fdatasync unless you know you need the metadata. The <a href="https://man7.org/linux/man-pages/man2/fdatasync.2.html">fdatasync man page</a> says it is required to flush as much metadata as necessary "for a subsequent data read to be handled correctly", which is what most applications care about.</p>

<p>One issue is this is not guaranteed to ensure you can <em>find</em> the file again. In particular, when you first create a file, you need to call fsync on the directory that contains it, otherwise it might not exist after a failure. The reason is basically that in UNIX, a file can exist in multiple directories due to hard links, so when you call fsync on a file, there is no way to tell which directories should be written out (<a href="https://www.quora.com/When-should-you-fsync-the-containing-directory-in-addition-to-the-file-itself">more details</a>). It appears that ext4 may actually <a href="https://lwn.net/Articles/799807/">fsync the directory automatically, but that might not be true for other filesystems</a>.</p>

<p>The way this is implemented will vary depending on the file system. I used <a href="https://git.kernel.org/pub/scm/linux/kernel/git/axboe/blktrace.git/tree/README">blktrace</a> to examine what disk operations ext4 and xfs use. They both issue normal disk writes for both the file data and the file system journal, use a cache flush, then finish with a FUA write to the journal, probably to indicate the operation has committed. On disks that do not support FUA, this involves two cache flushes. My experiments show that fdatasync is slightly faster than fsync, and blktrace shows fdatasync tends to write a bit less data (ext4: 20 kiB for fsync vs 16 kiB for fdatasync). My experiments also show that xfs is slightly faster than ext4, and again blktrace shows it tends to flush less data (xfs: 4 kiB for fdatasync).</p>


<h2>fsync controversies</h2>

<p>In my professional career, I can remember three fsync-related controversies. The first, in 2008, was that Firefox 3's UI would hang when lots of files were being written. The problem is the UI used the SQLite database to save state, which provides strong durability guarantees by calling fsync after each commit. On the ext3 filesystem of the time, fsync wrote out <em>all</em> dirty pages on the system, rather than just the relevant file. This meant that clicking a button in Firefox could wait for many megabytes of data to be written on magnetic disks, which could take seconds. The solution, as I understand <a href="http://shaver.off.net/diary/2008/05/25/fsyncers-and-curveballs/">from a blog</a>, was to move many database commits to asynchronous background tasks. This means Firefox was previously using stronger durability guarantees than it needed, although the problem was made much worse by the ext3 filesystem.</p>

<p>The second controversy, in 2009, was that after a system crash, users of the new ext4 filesystem found many recently created files would have zero length, which did not happen with the older ext3 filesystem. In the previous controversy, ext3 was flushing too much data, which caused really slow fsync calls. To fix it, ext4 flushes only the relevant dirty pages to disk. For other files, it keeps them in memory for much longer to improve performance (defaulting to 30 seconds, configured with <a href="https://www.kernel.org/doc/Documentation/sysctl/vm.txt">dirty_expire_centiseconds</a>; <a href="https://www.spinics.net/lists/linux-ext4/msg68941.html">note</a>). This means after a crash, lots of data might be missing. The solution is to add fsyncs to applications that want to ensure data will survive crashes, since fsyncs are much more efficient with ext4. The downside is this still makes operations like installing software slower. For more details, see <a href="https://lwn.net/Articles/322823/">LWN's article</a>, or <a href="https://thunk.org/tytso/blog/2009/03/12/delayed-allocation-and-the-zero-length-file-problem/">Ted Ts'o's explaination</a>.</p>

<p>The third controversy, in 2018, is that Postgres discovered that when fsync encounters an error, it can mark dirty pages as "clean", so future calls to fsync do nothing. This leaves modified pages in memory that are never written to disk. This is pretty catastrophic, since the application thinks some data has been written, but it has not. There are very few things an application can do in this rare case when fsync fails. Postgres and many other applications now crash when it happens. A paper titled <a href="https://www.usenix.org/conference/atc20/presentation/rebello">Can Applications Recover from fsync Failures?</a> published in USENIX ATC 2020 investigates the issue in detail. The best solution at the moment is to use Direct I/O with O_SYNC or O_DSYNC, which will report errors on specific write operations, but requires the application to manage buffers itself. For more details, see the <a href="https://lwn.net/Articles/752063/">LWN article</a> or the <a href="https://wiki.postgresql.org/wiki/Fsync_Errors">Postgres wiki page about fsync errors</a>.</p>


<h2>open with O_SYNC/O_DSYNC</h2>

<p>Back to system calls for durability. Another option is to use the O_SYNC or O_DSYNC options with the <a href="https://man7.org/linux/man-pages/man2/open.2.html">open() system call</a>. This causes every write to have the same semantics as a write followed by fsync/fdatasync, respectively. The POSIX specification calls this <a href="https://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap03.html#tag_03_373">Synchronized I/O File Integrity Completion and Data Integrity Completion</a>. The main advantage of this approach is that you need a single system call, instead of write followed by fdatasync. The biggest disadvantage is that all writes using that file descriptor will be synchronized, which may limit how the application code is structured.</p>


<h2>Direct I/O with O_DIRECT</h2>

<p>The open() system call has an O_DIRECT option which is intended to bypass the operating system's cache, and instead do I/O directly with the disk. This means in many cases, an application's write call will translate directly into a disk command. However, in general this is not a replacement for fsync or fdatasync, since the <a href="https://www.evanjones.ca/durability-nvme.html">disk itself is free to delay or cache those writes</a>. Even worse, there are <a href="https://ext4.wiki.kernel.org/index.php/Clarifying_Direct_IO%27s_Semantics">edge cases that mean O_DIRECT I/O falls back to traditional buffered I/O</a>. The easiest solution is to also use the O_DSYNC option to open, which means each write is effectively followed by fdatasync.</p>

<p>It turns out that XFS somewhat recently added a "fast path" for O_DIRECT|O_DSYNC writes. If you are overwriting blocks with O_DIRECT|O_DSYNC, XFS will issue a FUA write if the device supports it, rather than using a cache flush. I used blktrace to confirm this happens on my Linux 5.4/Ubuntu 20.04 system. This should be more efficient, since it writes the minimum amount of data to disk, and uses a single operation instead of a write followed by a cache flush. I found a link to the <a href="https://patchwork.kernel.org/patch/10250257/">kernel patch that implemented this in 2018</a>, which has some discussion about implementing this optimization for other filesystems, but as far as I know XFS is the only one that does.</p>


<h2>sync_file_range</h2>

<p>Linux also has <a href="https://man7.org/linux/man-pages/man2/sync_file_range.2.html">sync_file_range</a>, which can allow flushing <em>part</em> of a file to disk, rather than the entire file, and triggering an asynchronous flush, rather than waiting for it. However, the man page states that it is "extremely dangerous" and discourages its use. The best description of some of the differences and dangers with sync_file_range is <a href="http://yoshinorimatsunobu.blogspot.com/2014/03/how-syncfilerange-really-works.html">Yoshinori Matsunobu's post about how it works</a>. Notably, it seems that RocksDB uses this to control when the kernel flushes dirty data to disk, and still uses fdatasync to ensure durability. It <a href="https://github.com/facebook/rocksdb/search?q=sync_file_range">has some interesting comments in its source code</a>. For example, it appears that with zfs, the sync_file_range call does not actually flush data. Given my experience that code that is rarely used probably has bugs, I would recommend avoiding this system call without very good reasons.</p>


<h2>System calls for durable I/O</h2>

<p>My conclusion is there are basically three approaches for durable I/O. All of them require you to call fsync() on the containing directory when you first create a file.</p>

<ol>
<li>fdatasync or fsync after a write (prefer fdatasync).</li>
<li>write on a file descriptor opened with O_DSYNC or O_SYNC (prefer O_DSYNC).</li>
<li>pwritev2 with the RWF_DSYNC or RWF_SYNC flag (prefer RWF_DSYNC).</li>
</ol>


<h2>Some random performance observations</h2>

<p>I have not measured these carefully, and many of these differences are very small, which means they could be false, or are highly likely to change. These are roughly ordered from …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.evanjones.ca/durability-filesystem.html">https://www.evanjones.ca/durability-filesystem.html</a></em></p>]]>
            </description>
            <link>https://www.evanjones.ca/durability-filesystem.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24758024</guid>
            <pubDate>Mon, 12 Oct 2020 18:55:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advice to my young self: forget side projects and focus on your job]]>
            </title>
            <description>
<![CDATA[
Score 409 | Comments 337 (<a href="https://news.ycombinator.com/item?id=24758020">thread link</a>) | @megalomanu
<br/>
October 12, 2020 | https://manuel.darcemont.fr/posts/focus-on-jour-job/ | <a href="https://web.archive.org/web/*/https://manuel.darcemont.fr/posts/focus-on-jour-job/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I’ve always been suspicious of the idea of being attached to a company.</p><p>It could be because of the leftist spirit of my generation in France, or because of my readings during my student years, or because of my familial history (which saw way more self-employed, farmers, nurses or teachers than company employees), but I’ve never accepted the idea of giving even a tiny portion of my independence of mind to a company. When I was a student, I wasn’t dreaming about joining a company like Google, who seemed too sectarian to me, to rather prefer boring companies, where we only expect you to work well. Keeping a distance from my company was, I thought, the way to stay <em>who I am</em>, without being infected by an external force.</p><p>It doesn’t mean that I didn’t care about my job. I’ve always been involved in my work, being proactive in bringing new technologies, mentoring the other developers, helping the team to grow, but I was doing this just because I liked my job. I was not considering this as something important in my career, simply because I didn’t want too. To develop my career, I was spending a lot of time outside work reading technical books, doing toy projects, going to meetups, browsing Hacker News. I was finding here what my company was fundamentally unable to give me, and I was feeling holding my fate in my own hands. I thought it was the best recipe to end with a successful career, while remaining free and protected from the meanders of corporate culture (or corporate politics, actually).</p><p>I was wrong.</p><p>First, most recruiters don’t care about your personal projects or how many meetups you went during the year.
What matters the most is your current company - and by that I mean the name of your current company. It was saddening me before, but now that I’m on the other side today, with a manager position, I better understand this. This is plain common sense. You can generally assume that a developer coming from a cutting-edge company has better chances to be a great developer than a developer coming from a Java 1.4 shop. He may not be smarter, but he has been hired by a company with a most demanding hiring process, and has been surrounded by some of the smartest developers.</p><p>Worse, having too many personal projects can raise a flag and be scary for the recruiter. When my entrepreneurial experience has been over, I was disappointed and somewhat regretful of some of our choices, but generally proud of everything we did and excited to share my story to recruiters. I was surprised to see that most of them were only asking questions about my previous experiences as an employee. My CTO experience was an anomaly, at best two lost years, at worst a sign that I was too independent, too individualistic, not a good team player. Only relatively small and ambitious startups, like the one I’m in today, were valuing this experience.<br>Today, I recommend not hiding your side projects, but to not displaying them as a primary part of your identity, to not scare the recruiter and let him feel that you have a secondary plan.</p><p>Secondly, I don’t think that multiplying the side projects is useful unless they are substantial.
Side projects that we consider futile, that we do just to get away from our daily work, don’t make us better in our job. The things that make us progress are the issues we want to avoid and that generally come only when your toy project has been transformed into a product and when you have to deal with users, production issues, and money (your money). Basically, all the things that no one wants to do on his free time. Even from a purely technical point of view, you will not really understand a library or a framework by just sticking to the tutorial or its basic features. You’ll have to dig into and to face its most painful aspects to deeply understand it.</p><p>Shallow side projects are useful to develop a first opinion about a technology that will need to be confirmed with a more elaborate project. I’d compare them to school.<br>When I was a teenager, I remember what we were saying about it: <em>it will never help us in our future job</em>. After all, how teachings about antiderivatives, Rimbaud’s poetry or Napoleonic wars could be useful for our future adult life? We were right. Most of what we learned is pretty useless today, whether you are a cook, a hairdresser or a developer.<br>But this formed a complete package that infuses our adult life. Junior school is great because you don’t learn to find a job. You’re at school to grow as a citizen, not to prepare to your future life, and actually you’re better not to think about your future if you don’t want to question yourself about the meaning of your existence. This is the same thing for side projects. See them as a way to discover a new topic and enlarge your horizon, not as something that you could action in your current position or to find a new job. Otherwise, you expose yourself to severe disillusions.</p><p>The best way to dig a new technology is to practice it in your daily job. You’ll spend seven hours a day on it and will quickly become infinitely more proficient than if you just barely used it on nights and weekends. You may tell me that we face a chicken or egg problem here. How to get a job where you’ll work on a really attractive technology if you never used it before? Well, instead of spending nights superficially learning this technology, spend your nights preparing interviews. Read “Cracking the code interview”, learn everything you need to know about algorithms and binary trees. As we all know, the interview process is broken. Instead of deploring it, take advantage of it.</p><p>I don’t want to make this blog post a rant against side projects. In fact, I’m advocating the exact opposite. Continue to do as many side projects as ever, code on nights and weekends if you want to, but don’t do them because you think they could be useful to you to get a new job. This is wrong. I know too many developers who are stuck into this pipe dream. This is an illusion and this leads to a waste of time and energy.</p><p>Don’t create a project just to prove that you know Vue.js, but use this weird technology that you saw yesterday on Hacker News and that intrigues you. Don’t think about what are the best (and boring) blog post topics that could expand your personal branding, but write poetry or a review of the last movie you saw. Create the apps, services, websites, or video games you want to use. These side-projects are truly great. They may not make your portfolio or your public image convincing for the next recruiter you’ll meet, but this is how you will be able to express all that you have in you and end up affirming yourself. At least, you should end having something meaningful to show, something to be proud about.</p><p>You want to feel free and have time for your projects? Focus your efforts on joining a great company. This will make your career considerably easier and will make you as free as you wanted to be initially. The link you’ll develop with your company will be a source of discomfort sometimes, but it will protect you from the never-ending competition on the job market. The satisfaction of seeing your career flourishing while you will use all your free time to do what you like (including… side projects) will give you a valuable peace of mind.<br>By trading a little bit of what you think is your independence, you’ll get the real one.</p></div></div>]]>
            </description>
            <link>https://manuel.darcemont.fr/posts/focus-on-jour-job/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24758020</guid>
            <pubDate>Mon, 12 Oct 2020 18:55:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zheap – Reinvented PostgreSQL Storage]]>
            </title>
            <description>
<![CDATA[
Score 242 | Comments 63 (<a href="https://news.ycombinator.com/item?id=24757333">thread link</a>) | @PhilipTrauner
<br/>
October 12, 2020 | https://cybertec-postgresql.github.io/zheap/ | <a href="https://web.archive.org/web/*/https://cybertec-postgresql.github.io/zheap/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>
  <img width="500px" src="https://media.githubusercontent.com/media/cybertec-postgresql/zheap/master/img/zheap.png">
  <br>
  <i>Reinvented PostgreSQL Storage</i>
</p>

<hr>

<p>
  <a href="#about">About</a> •
  <a href="#contributing">Contributing</a> •
  <a href="#status">Status</a> •
  <a href="#documentation">Documentation</a> •
  <a href="#benchmarks">Benchmarks</a> •
  <a href="#contact">Contact</a>
</p>

<p><a href="https://github.com/postgres/postgres/tree/REL_13_STABLE"><img src="https://img.shields.io/badge/postgres-13-blue.svg" alt="Postgres 13"></a>
<a href="https://github.com/cybertec-postgresql/postgres/tree/REL_13_ZHEAP"><img src="https://img.shields.io/badge/status-early%20development-orange" alt="Status"></a></p>

<h2 id="about">About</h2>

<p><em>zheap</em> is a way to <strong>keep table bloat under control</strong> by implementing a new PostgreSQL storage engine capable of running <strong><code>UPDATE</code>-intense workloads</strong> more efficiently. The project was originally started by <a href="https://www.enterprisedb.com/">EnterpriseDB</a>.</p>

<p>To make <em>zheap</em> ready for production, we are proud to announce that our partners at <a href="https://heroiclabs.com/">Heroic Labs</a> have committed to <strong>fund the development</strong> of <em>zheap</em> and <strong>release all code to the community</strong>. <a href="https://www.cybertec-postgresql.com/en/">CYBERTEC</a> has decided to <strong>double the funding amount</strong>, and to put up additional expertise and manpower to move <em>zheap</em> forward.</p>

<h3 id="why">Why?</h3>

<p>Table bloat describes the phenomenon of tables and / or indices growing in size, even if the amount of data stored in the database stays constant. If one wants to support transactions it is necessary not to overwrite data in case it is rolled back.</p>

<p>PostgreSQL copies rows on <code>UPDATE</code> and stores them in the same table. Stale rows are periodically garbage-collected by an automatic process called <a href="https://www.postgresql.org/docs/current/sql-vacuum.html">VACUUM</a>. Problems start to crop up in <code>UPDATE</code>-heavy workloads, as VACUUM might not always be able to keep up.</p>

<h3 id="how">How?</h3>

<p>CYBERTEC has started a <a href="https://www.cybertec-postgresql.com/en/zheap-reinvented-postgresql-storage/">series of blog posts</a> that go into the design-goals of <em>zheap</em>.</p>

<h2 id="contributing">Contributing</h2>

<p>There are a number of active branches that will be merged together once they reach maturity.</p>

<ul>
  <li><a href="https://github.com/cybertec-postgresql/postgres/tree/zheap_logical_decoding">Logical decoding</a></li>
  <li><a href="https://github.com/cybertec-postgresql/postgres/tree/undo-record-set-ah">Undo record set</a></li>
  <li><a href="https://github.com/cybertec-postgresql/postgres/tree/REL_13_ZHEAP">Rebase on PostgreSQL 13</a></li>
</ul>

<h2 id="status">Status</h2>

<ul>
  <li>12-10-2020: <a href="https://github.com/cybertec-postgresql/postgres/blob/REL_13_ZHEAP/src/test/README.md">Most regression tests are passing</a>, but write-speeds are still low.</li>
</ul>

<h2 id="documentation">Documentation</h2>

<p>Managed through <a href="https://github.com/cybertec-postgresql/zheap/wiki">GitHub Wiki</a>.</p>

<h2 id="benchmarks">Benchmarks</h2>

<p>Will be conducted at a later date, as no attempts at performance tuning have been made yet.</p>



<ul>
  <li><a href="https://github.com/cybertec-postgresql/postgres/issues">Development</a></li>
  <li><a href="https://www.cybertec-postgresql.com/en/contact/">Business</a></li>
</ul>

    </div></div>]]>
            </description>
            <link>https://cybertec-postgresql.github.io/zheap/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24757333</guid>
            <pubDate>Mon, 12 Oct 2020 18:00:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I made a list of 9 thought experiments for making hard decisions]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24757176">thread link</a>) | @flreln
<br/>
October 12, 2020 | https://vasilishynkarenka.com/how-to-make-hard-decisions/ | <a href="https://web.archive.org/web/*/https://vasilishynkarenka.com/how-to-make-hard-decisions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://vasilishynkarenka.com/content/images/size/w300/2020/09/burst-aoN3HWLbhdI-unsplash.jpg 300w,
                            https://vasilishynkarenka.com/content/images/size/w600/2020/09/burst-aoN3HWLbhdI-unsplash.jpg 600w,
                            https://vasilishynkarenka.com/content/images/size/w1000/2020/09/burst-aoN3HWLbhdI-unsplash.jpg 1000w,
                            https://vasilishynkarenka.com/content/images/size/w2000/2020/09/burst-aoN3HWLbhdI-unsplash.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://vasilishynkarenka.com/content/images/size/w2000/2020/09/burst-aoN3HWLbhdI-unsplash.jpg" alt="How to make hard decisions">
            </figure>

            <section>
                <div>
                    <p>Decision-making is easy. In most cases, we already know what to do. And then we spend weeks, convincing ourselves it’s the best option. Sometimes, we never get to make the call.</p><p>Why are we doing this to ourselves?</p><ol><li>First, because we expect serious decision-making to be really hard. Maybe we even <em>want</em> it to be hard. Because if we spend weeks instead of minutes on deciding and fuck it up anyways, we’ll have a sound excuse for ourselves — “But I tried my best!”</li><li>Second, we always try to come up with the very best option. Because the stakes are damn high. This is a straight path to a weird world called Analysis-Paralysis, where we get stuck for ages.</li></ol><p>This year, I’ve made more tough decisions than ever in my life. I decided to shut down the startup we were working on, <a href="https://vasilishynkarenka.com/3-weeks-of-shaolin-kung-fu-in-china/">fly to China to study Shaolin Kung-Fu</a>, and pass on a dream job offer to start a new venture and move to London.</p><p>And I would never have made them without thought experiments.</p><h2 id="what-are-thought-experiments">What are thought experiments</h2><p>In its simplest, thought experiments are questions. Very well-structured hypothetical questions that employ our subjunctive reasoning, like <em>“What might happen if...?”</em></p><p>By using these hypothetical questions, we get two things:</p><ol><li>We gain new information. Just by looking at already known empirical data from a different and unusual perspective, we can draw new (a priori) inferences for our decision.</li><li>We invoke intuition. This is more important and less obvious. For many decisions, we already know the right answer. It just <em>feels</em> right. We need the guts to make the call.</li></ol><p>To improve my decision-making, I’ve carefully explored and tested hundreds of thought experiments. To save you months on doing the same, I’ve collected the best nine in this post. They come from brilliant people, whom I credit gratefully for their work.</p><p>Please don’t think about these experiments as a checklist to go through when making a decision. Think for yourself which one might be a good fit and apply it wisely.</p><h2 id="1-the-simulation-by-tim-urban">1. <a href="https://waitbutwhy.com/2015/11/the-cook-and-the-chef-musks-secret-sauce.html">The Simulation, by Tim Urban</a></h2><p>This is my favorite thought experiment (and most powerful).</p><p>Here’s how Tim describes it:</p><p>If someone gave you a perfect simulation of today’s world to play in and told you that it’s all fake with no actual consequences—with the only rules being that you can’t break the law or harm anyone, and you still have to make sure to support your and your family’s basic needs — what would you do?</p><hr><p>It works is by removing risk from the equation — if I have one more life anyway, why not try this crazy thing? It took me a few weeks to realize how deep is the thought behind it: there’s no difference whatsoever between the simulation and real life. </p><p>Once you accept that truth, your most risky desires start popping up.</p><h2 id="2-the-movie-guy-by-joe-rogan">2. <a href="https://youtu.be/ysTGb27yCcc?t=191">The Movie Guy, by Joe Rogan</a></h2><p>Here’s how Joe describes it:</p><p>Live your life like you’re the hero in your movie. And right now is when the fucking movie starts and your life is a shit bag disaster. Pretend you are, right now, you’re in the part of the movie that starts and it shows you as a fucking loser. And just decide not to be a loser.</p><p>Live your life like this is a documentary crew following you around, analyzing you. Do what you want to do so your kids one day will look back at it and see that documentary and look on it with pride, like, wow, my dad was a bad motherfucker, he really did what he had to do. Wow, my mom really got her shit together.</p><p>I’d love a success story, but even more than a success story I like a dude who fucks his life up and then gets it back together again story; those are my favorite stories. And the way to do that — you gotta write shit down, you gotta think that you are the hero in your own fucking movie, and then you gotta sit down, and you gotta write shit down. Write down what you need to do.</p><hr><p>The question:</p><blockquote>What would the movie guy do? – Joe Rogan</blockquote><h2 id="3-the-deathbed-me-by-tim-urban">3. <a href="https://waitbutwhy.com/2018/04/picking-career.html">The Deathbed Me, by Tim Urban</a></h2><p>Here’s how Tim describes it:</p><p>The deathbed test is casting yourself into the distant future, imagining yourself lying on your deathbed and asking what your future self would want you to do at the current juncture of your life.</p><p>To stay on the 'default' path you’re travelling now – complete with its comfort, certainty, status and security – or to take the road less travelled? To go with the convenient 'less hassle' option, or to dig deep and to veer onto a path that tugs at your heart, despite the comforts you have to give up in the process?</p><p>Let’s face it, there will always be many reasons to justify taking the easier path, sticking with the status quo and avoiding the possibility of failure. Yet the longer I am alive, the more firmly I believe that living a life that nurtures our souls, and not just a short-term sense of comfort or security or status, will often require trading comfort for inconvenience, security for uncertainty, and going that extra mile (or 10,000!) when you can easily justify not bothering.</p><p>So what about you? As you think about the big decisions in your career and life, and perhaps a few of the smaller ones, are you currently on a path that puts you at risk of one day looking back and wondering, perhaps regretfully, <em>‘What if I’d tried?’</em></p><hr><p>The question:</p><blockquote>Am I currently on a path that puts me at risk of one day looking back and wondering, perhaps regretfully, “what if I’d tried?” – Tim Urban</blockquote><h2 id="4-the-regret-minimization-framework-by-jeff-bezos">4. <a href="https://www.youtube.com/watch?v=jwG_qR6XmDQ">The Regret Minimization Framework, by Jeff Bezos</a></h2><p>Here’s how Jeff describes it:</p><p>The framework I found, which made the decision incredibly easy, was what I called — which only a nerd would call — a “regret minimization framework.” So I wanted to project myself forward to age 80 and say, “Okay, now I’m looking back on my life. I want to have minimized the number of regrets I have.”</p><p>I knew that when I was 80 I was not going to regret having tried this. I was not going to regret trying to participate in this thing called the Internet that I thought was going to be a really big deal. I knew that if I failed I wouldn’t regret that, but I knew the one thing I might regret is not ever having tried. I knew that that would haunt me every day, and so, when I thought about it that way it was an incredibly easy decision.</p><p>And I think that’s a very good if you can project yourself out to age 80 and think, <em>“What will I think at that time?”</em> it gets you away from some of the daily pieces of confusion. You know, I left this Wall Street firm in the middle of the year. When you do that, you walk away from your annual bonus and that’s the kind of thing where there short-term can confuse you but if you think about the long-term then you can really make good life decisions that you won’t regret later.</p><hr><p>Sam Altman also <a href="https://blog.samaltman.com/the-days-are-long-but-the-decades-are-short">adds on this</a>:</p><p>If you think you’re going to regret not doing something, you should probably do it. &nbsp;Regret is the worst, and most people regret far more things they didn’t do than things they did do. When in doubt, kiss the boy/girl.</p><p>Gary Vee also <a href="https://youtu.be/KFYolTZXidA">adds on this</a>:</p><p>What kids struggle with is the decision they want to do versus the decision that they think they’re supposed to do based on the other voices. Nobody old and about to die talks about what they did. They talk about what they <em>didn’t</em> do. Don’t not do what you wanna do.</p><p>The question:</p><blockquote>At the age of 80, will I regret not doing this? – Jeff Bezos</blockquote><h2 id="5-fear-setting-by-tim-ferris">5. <a href="https://tim.blog/2017/05/15/fear-setting/">Fear-Setting, by Tim Ferris</a></h2><p>Here’s how Tim describes it:</p><p>I do an exercise called “fear-setting” at least once a quarter, often once a month. It is the most powerful exercise I do. Fear-setting has produced my biggest business and personal successes, as well as repeatedly helped me to avoid catastrophic mistakes.</p><p>If you are nervous about making the jump or simply putting it off out of fear of the unknown, here is your antidote. Write down your answers, and keep in mind that thinking a lot will not prove as fruitful or as prolific as simply brain vomiting on the page. Write and do not edit—aim for volume. Spend a few minutes on each answer.</p><ol><li>Define your nightmare, the absolute worst that could happen if you did what you are considering. What doubt, fears, and “what-ifs” pop up as you consider the big changes you can—or need—to make? Envision them in painstaking detail. Would it be the end of your life? What would be the permanent impact, if any, on a scale of 1–10? Are these things really permanent? How likely do you think it is that they would actually happen?</li><li>What steps could you take to repair the damage or get things back on the upswing, even if temporarily? Chances are, it’s easier than you imagine. How could you get things back under control?</li><li>What are the outcomes or benefits, both temporary and permanent, of more probable scenarios? Now that you’ve defined the nightmare, what are the more probable or definite positive outcomes, whether internal (confidence, self-esteem, etc.) or external? What would the impact of these more likely outcomes be on a scale of 1–10? How likely is it that you could produce at least a moderately good outcome? Have less intelligent people done this before and pulled it off?</li><li>If you were fired from your job today, what would you do to get things under financial control? Imagine this scenario and run through questions 1–3 above. If you quit your job to test other options, how could you later get back on the same career track if you absolutely had to?</li><li>What are you putting off out of fear? Usually, what we most fear doing is what we most need to do. That phone call, that conversation, whatever the action might be—it is fear of unknown outcomes that prevents us from doing what we need to do. Define the worst case, accept it, and do it. I’ll repeat something you might consider tattooing on your forehead: What we fear doing most is usually what we most need to do. As I have heard said, a person’s success in life can usually be measured by the number of uncomfortable conversations he or she is willing to have. Resolve to do one thing every day that you fear. I got into this habit by attempting to contact celebrities and famous business people for advice.</li><li>What is it costing …</li></ol></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vasilishynkarenka.com/how-to-make-hard-decisions/">https://vasilishynkarenka.com/how-to-make-hard-decisions/</a></em></p>]]>
            </description>
            <link>https://vasilishynkarenka.com/how-to-make-hard-decisions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24757176</guid>
            <pubDate>Mon, 12 Oct 2020 17:48:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Software Developers Suck at UX]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 78 (<a href="https://news.ycombinator.com/item?id=24756902">thread link</a>) | @arvando
<br/>
October 12, 2020 | http://www.cakewalklabs.com/blog/2020/10/12/why-software-developers-suck-at-ux | <a href="https://web.archive.org/web/*/http://www.cakewalklabs.com/blog/2020/10/12/why-software-developers-suck-at-ux">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div data-layout-label="Post Body" data-type="item" data-updated-on="1602523706766" id="item-5f8491cd13e290350fb22d87"><div><div><div data-block-type="2" id="block-131cb583c4d6196dd9ed"><div><p><em>Note: “Generally speaking” should be placed in front of basically every sentence in this post. These conclusions are completely based on my own subjective experiences of working in Silicon Valley for 3 years, running a startup for 2 and freelancing for 5.</em></p><p>I get brought into a lot of projects where the engineering team had created user flows and user interfaces, then either pre launch through user testing or post launch through user feedback, the client discovered those designs were far too complex for their end users. So why do those engineers suck at design? They’re far smarter than me, they understand their domain much better than me, and they’ve been working on that specific problem for many months or years. In fact, it’s so rare for a good engineer to be a great UX designer that they're called ‘unicorns’.</p><p>One of the more obvious reasons is that because they’ve been working on the specific problem for so long they have blinders on, and can no longer view it from a 30,000 ft view. There might be emotional attachment to already existing solutions that were thought up months ago. But the reason I wanna mainly talk about is that engineers, developers, whatever you want to call them, function in a different way than the general population, who tend to be the end users. When engineers are developing products strictly for other engineers, like a Chrome extension for debugging code or some sort of command line tool for example, their UX is fantastic. This is where the idea of building something for yourself comes from. So that means they don’t actually suck at design.</p><p>But when they have to design something for someone whose mind doesn’t work like an engineer, it’s a different story. They feel like things are getting “dumbed down” too much, and that “obviously this makes sense”, when for their end user it does not. There is too much of a disconnect between their understanding and mental framework of technology compared with the common person, and a larger amount of empathy is needed to bridge that gap. And that amount of empathy is hard to fake. I imagine that it’s like when you’re trying to explain something technologically mundane in your world, say, Instagram Stories, to your grandma who can barely send email. Bridging that gap requires a larger amount of empathy and patience, not because your grandma is dumb, but because her mental framework of technology is quite different than yours.</p><p>So why is it that UX designers supposedly have the ability to bridge that gap with everyone? I think great UX designers just grew up naturally having much more empathy towards others and having a much better ability to place themselves in others shoes and see the world from their eyes. I would argue that generally speaking in the real world this is a burden, when others can’t empathize with you but all you can do is empathize with them… makes it really difficult to not take on other’s pain, to not be the one who bends their rules to accommodate others, to not have solid boundaries, to not be as defensive in arguments. But in the technology world, that allows for great user friendly designs.</p></div></div></div></div></div></div></div>]]>
            </description>
            <link>http://www.cakewalklabs.com/blog/2020/10/12/why-software-developers-suck-at-ux</link>
            <guid isPermaLink="false">hacker-news-small-sites-24756902</guid>
            <pubDate>Mon, 12 Oct 2020 17:29:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kautilya Arthashastra and its relevance to Urban Planning Studies [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 38 (<a href="https://news.ycombinator.com/item?id=24756863">thread link</a>) | @jelliclesfarm
<br/>
October 12, 2020 | http://www.itpi.org.in/uploads/journalfiles/jan8_10.pdf | <a href="https://web.archive.org/web/*/http://www.itpi.org.in/uploads/journalfiles/jan8_10.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>`µ¤Ç&nbsp;LC-Ò¤˜ì,?°ðö˜z¹i£§ržÆø×/²î
¾·œ‰Ë›ÔÓ'vøUc°Ê™„Ê|HYeLxCbmU/Ö+µž(€J’‚R(€ß`É¥3Še=ÉÛåÒžjZ�).s&lt;¹Åök€dl¹hšodšÇÓÖó/$’?lR0ÆZó’&nbsp;íò\Ûy¡ŸÖ%Q¸Ú³–3I'Õj‰$ýJ"";×*q¼&gt;±°jŸí†5ß¥ð¨üp¸œãOôßÀ…QÐLx
ptŠ6kàùºýs„´½Þ¬g.È±�ÈF‘XÌ‡1;&amp;»·ÖEf‚`¶ÆöÇ�ójŒ�÷þˆdÛ„f—É'Â˜_’™o9Œ× ¯åIÏ—¤¬sëð´ùÛÌÇ1év˜FÑð¯X(ªÛêÍª%—×ðàÙÖ\û½§‚»ýÚ`'ð‚²�±ôíjE74ìžas›¼,!$r~}Y&gt;í×èyù¬�iƒ½ØÈG‚Çü…gH"l9eXÂÓ‡&gt;?¢ÝR`w#x%°�ˆ8×Ÿ¿âm+1x¾xrò¼’ûà€ýÝÛñy‘+ÎÓEÝ�Ës(™³b¨E‹NLŸAvð‘'[oêÛDK ®Û÷¿û­ßj_€&amp;GmN6ñ(ð¤„J`fç¢ºwô1¶U &amp;jØ±E0¨®	7
ùl8ÈÃ¨Fiž“ÎkE?¸Ú±F˜VŒ]Ž˜'¦-Ÿ¬YóªÖ¨º‹²Ú	øãDäÏ"hãH2âÏCL³‡-<oôá;}ê¤xú ®4|þlag§jŽ�ÞÎ×lâîaÿ¹³ôee&$ëu¶iö¤Àb5œ»mÑ˜0‰½ËòÁ ¦¯<ÝuÞtœlï0k”¸ˆbÖâá®a="" n5lâ$Ã.k4‡_Â="">ò”µ¾;YyfC�³$û±wrÕ?ÅA]’a„Ô‘pe1•[çµ€P.ýT2hþÍL·ï~[Ïý¦.~W¯­E¨
—xXÉ#`œ-��
ß§2Àvåc¿rVýK(ª·X^tT˜À¢›Û/$0Æ½&gt;.B,-Ž¯´“åÕfg„©˜ãŸ“»ÌÆ&gt;	
N¹Gù²_pÈI¬¢ÔôlÞæz&nbsp;Eù²!ƒÒs¿‡ÐLþÉ{Î ‘R¦¯Ÿ&nbsp;tªÄ°½ó™&lt;Ú
B®YS¼äl`@(ÈÈ´A-¨^f`85&gt;]‡Owv�'!èû­ÌCÝ¤¢Z7-ã$€�h´]¤hœiáÄh°¡šû£Ÿ£W$G�ëF78�+;ÐîC×àëg	ØKOºàðár÷¢š"r(
³õþ5!éÕ�=º×!¨»&nbsp;¡�•pmŒÓFŸ"Î&lt;äÛ/‹V-rš]G!N4±Òf)¸?nÔ.ÖyG}ƒïËe]$gÑºK³I­‡^Q‡$R…E’^üç¹Rà´�D6A¦%&nbsp;ë+ß•ƒÞŽóˆºpa˜«:úŽ¦[Vm”+d8£,¡‚öØò—É…|™R&lt;©ðé&lt;(Ñ�¿ØƒÊ�£è¢G	W£þvÊ� ø³jEGÕ¤yÝ9…èÆt2ü{Ãi\VÏ£ãüÙx†Iã¯»78N ìÇ”e.—æT¹mÛ[B&amp;ñÈÄ]Ø‰W]Pï¥Ý±°Œ‹§’Á"Î»ÈÖ¹pS×^¤X—©0ÿ˜ÎH&nbsp;ç&gt;t*¨=­9wc5½#	‰^‚ô&lt;Ù/yŒ+8¬Á¡¼æ²�‚3ÍJÍ0—5`¯"LøQ›{:n™?ücž¤ûô	Íê’ÆèV\ž™Yw˜ûÃ`spÚ£%¬—|Ð"_âËœÎ}îÊ‚ù‘�±s£”™æç*Æ¨í�(ËïÏšcKvXÊò¥}q™c¼ã²bÐ9I!cÖ×v1%w¢{½ÑI�ù2„¾9×jg£õAÒqUÂî\Ïyù´êçžAzaÃ¦	".¼ÿèšÃ"ýÁ¨aí@nn5–wºíÖ‘ƒ?
ËÍÎªj‚Ï• ãdˆ†~©ðW‰èÓ	º‘!ç&gt;½ÞÚO	Ïž8³�©Êsñ{ÉÁ]Æ“‰léeæx,Çy4<u›ø“ík)f�@mŒiyïzÆ>N ¨Yö®¸«‘ªJé÷e(�¹y×Ôæè.¾ô=Pí:ˆø5´rºz«e»ðbÆ¥]ÅUÒTVõŠv˜Ûñ|ÃïÄÔOÔö™�<u¦ +fo¾n'ìq—:ìtêïoœosÉvÞhx2w¥–à”•qÈ="" ’ý­w’xË"`z©jàsç¯sÊfjÌwµ…!ªlõ{þl¢j¡�z¨«Ø•Äi¯"Ý£þÆŒŠÁÎ qi½nŠŠp&¿}mu·¢•y®å—ÂòÍ–n:°ÍwÊþjÈŸ="" qm¢që�¨õôžÁ4þy‘„Æ:a�qäÂØ;Ù2[Í<j#³o%="">y%É,{+¸ÇÔ¬»'5ûxç¶GûÎôC¾e3ÅÀíójöïØÄ§©ÈƒH,‘;“�½,7(¾·¶ÈWg,)1­Y	Ž®•*(Î
îEÊ}b`@²¶ÄÃ—ZjhP™½W¢r!‡KPàÆœWTd½Îeøý:=uax¹rÃœÊ’ÙÎ·,þ_˜š¬»Œ-&amp;\ðv´õ9‘ã\áÀD@&gt;ÎÝÕÝ0Å&lt;ÈWÕ¨1øùÑIë114×zZÑåc™Ž�2ˆãÕ²9»Ñ&amp;ò…nOÍÿð¬Ð·ÝSŒWCÈEæÕçfØµz¹©3g“7“’ÌNd}ðksßoã
endstream
endobj
383 0 obj&lt;&gt;
endobj
384 0 obj&lt;&gt;
endobj
385 0 obj&lt;&gt;
endobj
386 0 obj&lt;&gt;
endobj
387 0 obj&lt;&gt;
endobj
388 0 obj&lt;&gt;
endobj
389 0 obj&lt;&gt;
endobj
390 0 obj&lt;&gt;
endobj
391 0 obj&lt;&gt;stream
$B&lt;ŠÉpõ‚ËÑÜ�ŸF*ž¤K6Ln´Tz¶ë
o@³Ÿ®ÇžK–Èà#¸l´±J&gt;ã‰3f-Õ{‚âŽÑœW¦ÛÚ~=h&lt;¶
endstream
endobj
392 0 obj&lt;&gt;/Height 195/Type/XObject&gt;&gt;stream
kRí—¡ó‘„€}b°ô¢[Y Ö(}°êD·f¨¦cž~3­)™úÞpŠá_.uk¾V31†‹o…zaésÆ]ºÅ‡ø½ÀbïÛ5ªRö°ËÕç$†Žß¢MMbr3B¡ä¿p-l/DOŽì;uˆRÀ&amp;-œxî¸sB»Ù&lt;±o\áè)ÌC9‰%F‹œÀÑ&gt;8¡†ÍT|ÀÀëz°9ïˆÚõ‰´v;;0a4c¨ã&nbsp; Áy­…„²«òû%§œô²á‚Íì)ë1kzyuà«ªŠ�~À²ZÂ^ìû”J�rfŠˆDÕ®‹úÅ
´°Ö
¯zÀºï�tÁªµ b@?43k&amp;w€ð©1°Ri§0\š¸:/Û2[Íf¶—œr\‹uâTÉFÜÙ
�K?B&lt;5à7j7Ážh6òã<oÿ�?‘fnÌéqvq5%pÅ®#zpÌ€ÊüæÇe{ lÙ¸µÙÇy="">¬P¶eÏ}¥�4Ç�Y‰y¨"eoýAv³TXãÊ,“ó§Kð&lt;Ýúë4÷•þÙjµï6‡1ªšàßyÝÑô6Ë|<vq_y–`d¹iv_Ù)mç‚’÷ëh¯–mkèf�wð Ç:ê7n[`âl·™–Áè'`¯bâõ“á”†õÙ="" ¡ôtecmå€ô“5´’²É‡Óu“#zs©5þzÇ~¦="" ¢)".ýŒ˜´f]oqy®Ž‰p&Åsì}¼="">ÇUç`¬*9y¯K{¡B“áÙdlJ)¯ÅjµÝÓi®±,ÂAôênû+œ¬#
Büq´¿6ÚÉü˜MŠN2"ÿ\$]˜n�sÏÔc²œÙè‹¯¢õþ¼x”yéƒúôÓµI2Y’Ô;Q'|¦ð*#dV¥3¬lSî¬Š1ÌÁ¿ú‰y;¤cÐìL­ŽWó*	
å~~&lt;ÎÅpñÄ�Bþ‚’Ž~bÄ¿9™“iî…¹‡,&gt;=†ÂÄ:œïjä%æÈ5D›M‘o£�p~¼ü#ÉŽAë€µ|nh(Ä
žñ#v×'Ú—&lt;ÓˆTBtùÕJ¤ûk†ˆbu¦ža÷cþ”Cs»Yô=0grÙÏûƒªÉ~_Úª®ûÈÒþpž‚äzõ"7S²ã$Ê7XIì…ÕMüçä¼[ÝæÆÌŠ°lDÜÒQÎ)Ké6�ƒ$M0ßõä´¥wè)”„ÔižÇ·ÿ’Q³M©ttÐ¦&lt;¨·Þþ€óÁ…C‘YåÃœ¤xÅþ�1ÅÃÀ†ºÕs5%•Ê9ÅFÐßÝ‹ŒIÙSˆANNðjó*ýã“Uy±L_ZÓ}«ìÉÞijÙÕd4­®ßÞ¸_ŠÜcû|ÈÛG°ÈÈÜÅ	b½ü½ú®žIÞa´ŽqhxË-»_fû„:h°üv“+¯4Ùf¨�‡Ö 6««^„"ªæ‹ùú�^ÈîîõÂÎ‰Áî¹ön“.íÆès,³�ë¿5Ï™c»ñ£à*£ÞÃÅFô,óâ´ˆ.98ÃÆÏÓRJêƒâiÕØdYÁ¦¿ÌY�Fj]G`§¹Fr›x«&nbsp;ÔÛÅc||º÷š�t_ù1Ä?)(;K.âzÚáXþ’XEüŽæ&nbsp;ˆ`rþÇÂP†Ã9Á)!%þèõ¢¢–5ÔÔaè™:&lt;Ê¿í*“™Å3S…†&nbsp;ýè&lt;&lt;Êé$ ‚}t´ý&amp;µuª+Íg@(Wi3|,G»o6"¿
ð2�¿Í	.8�­2sÍ.×¼Ëä¬Îoæà›Œ
))ô,óiŠ`Ä^g¿d¹	p}77�½‘‰‰“&amp;Êö–Ýò€²{àóÔëÝñžó•½5­årq)ÿÝ¼¾¿3?q4~Vj&gt;K·gP/:RISÎ¦s—Þ³&amp;ãp±ùÙÓXÔ®M§o;„Ãª·’rzˆ;_3¿�EUŽYV¸½À½Vè%-@›?ž¨VKšB˜gÛ¹õ	A"ç{Î´-”L{¬0Œ˜ÐÞÌd*];.ü(ŸŒ|š¼ÊØ†—£ª_„ÐýÃûaåß×EúLçÅq�ìµþ!
V/Vdõ&amp;‚óðÔFF’¢øíîÜkôjK”^FC©k·þ-=K3ƒtÐÍå³lÀ1êusg-’×ÛÌxMž8ûÂ=®vÒÿwóû·»µBÔ°¢¨bø'g–¦?•éGp³`O(¬f8–Šl‹N&nbsp;ÌT{ÆÑ:¥÷2vC
¿¦½Þ(�žé¯•MÕ˜%mUã ¸n~ñ’9jÛêŠ‹¤¾ƒvQVT'fu:Aå…J0uÙu~Ò¹ÈìAŠ�9ƒ¢úë8
ÃSæ˜på?�gíYðâ9D~]ô/Ö†[»”Kf[þÀ7}ž7žK2�QÌ"¤�ü|
ÖšªB²oøe#Pyü…H†gMË‚ÞD
I`¦½S˜ñæCÈ·Q™‡N�åN*—'5öTïÜƒ;tÇãT4ø3¸inÀ�oSäˆ?±…ˆu–�,ŽG›š5)Ÿ
endstream
endobj
393 0 obj&lt;&gt;stream
§¤+*TË÷Ýt„J}¿§yDnÿ
BÜu&lt;.zôiJ	S9XPöË+ä"}ØL€R¹Â žÚn˜Ú©‚¿J
ï�ÆèÑ°ø‡Ý}Ä ùÂÀíØ9¤ô5Ó,j¦ˆççâD¯Z¥©ÞnÀÿF
öÏ4‘…ñs°Þ€èYnC…°Òµ^Œ8¡ÎÇøìLâ4iÀôdéÙÙyöX&gt;µP'¾jŒ§BgSªô?Ç"w˜ÍãuÝ1àêEæ¬½HTOk-Ä'3©vf¸ú	WÍyEC�š'ýv•2W¦RÔ®
æ,´{q|üpþŠqïÀI¤
†Xðl=Äœ.vÆ¢d
ObÝ7P[ÙÚ¹m¼.hÝMsÈt
ÿä`Iüø²Á	p¾lIB2iµ~�ú7ª+Ä�=I„Æ
‘“¢m‡šA÷/÷mZwhpˆÝþQi	MšÖµ`&lt;\}dÁý¶€NSkÊ;ôBµÓ³û½hBÂâÎ+y-åˆ¡0ˆMD2[R´E°]LTe7äd^v÷Ó|ú&amp;Íû÷ö	½B.ŠÎ#b•sE
ß¹[O6ef�4|I¶1Çî|¤å²oe”3þ¤ÈÄ"H==&amp;8'kã»EJþT%‚~]|Á!qi.¼ÌíŸç±cÀ^ºXöTÂvz•EtCÓ,Ó¢)a©ì$HGo[fÇ¢Ý’Šên»3
Kÿ´®Y&nbsp;Múr$}¾ÜxˆæÊ5�¼’öm±^N-d¿×dÚ0n øâ•°ùÿû8Ò
endstream
endobj
394 0 obj&lt;&gt;stream
.Ù‡ãnQûÜlÿóêØí(½8­ä‡,Ù[³õaâz
Çs5h­ÆÏÊ&amp;°êe}1Xÿ‡˜Az;Á¢Î'E«fn÷ä+˜ô¼½—k¥"ÉWJY¿Si0r^¬‰¨ÓmTÌ/ü¯.&lt;‡_±šl¿¶ßÚGÒ¥PÏeU,j›ÒOPKÆ¼/&nbsp;2fF~cïä(±H�ÞXÈ®‡³5·˜(_»èû�ý§ZQåyïV5œÝu/XÍ”/ÏNÛ@Û_psæáá×b˜in¶Žê÷éûêëb�oô[½ãÓgÔ§
î¥…áÖÚ®´pkg~�ûƒ(¤mZx.c	Wã)¤=h¡0Ï6&amp;¢{ä¬‹…`œõâ´”ÿ�Wh�HŸyöÝîª5H�bîîôSWÙ‚(5R›]Á˜`¸ä¡4hÛx&amp;èô½—é¸9¯¦ôrµWˆ�×�Êb¤üß³b� *¯=ç}˜ªik¨~®âqs/FéT¬00Ë)ÇjÕ¢7+¸	KMLÀ	
Ûðhì`Jû_ñ(†íú#j�ô,Wu3¯Ì$Z¯°´‘’Iæù#)ËïOgÈC¦&amp;Å�Òö�Â•…ûè“é°O}€ûôh�Š´ÿðXVÏ97àµ&amp;*@å"Ànjí%¶êZí6þéy×oûˆ‚ßPk]­ŒÔòˆêØ‡1ô…ÖýGŒ�`'úä‚‘wUxóü¨0G44aVhº8¡)®ÆMG°}x{�ÂhïENËŒwÐ¼óYØÂÍä&lt;öhÆ¯í.nÐTÎH=«ô&nbsp;v&amp;Ú„»z_�Xè‰a™3Aî1:¼r;k¸äV88ã50G"ht/"«B/Ê¬enª+³Û¤ÅsáoL/žög­¡tmÊöºG»ž¸äX’Ìu�Ê&gt;Éó˜¿ep+¸„‡ªüÿ/�sû|¤�óXœ½ÅC¯�öFðž‹­/ÇÃÁÈù„‘n°rwÖŠÏlÚÉ@«m™×X8Ds‹îÿ¡w£¦ðÿöðü&amp;‘ì9ROgþW^¹$•ê“¤ô%ÜÌ’ø:'=MK©ƒ¡µ€×¡÷ ÄjôElþ“Ö|d÷ÎAÅ»b�ÎþŸF'Žœ�U'*¾þYzB�ß*ÓZ©ÓtÙ[yáœ¹7)Ó~ZzˆÃºÍ¾§ŽFK/4#ª[Û›ß¶»gÒXm¹šÄ�L»÷ý(Þèc6˜ý›3Í’"yžòGy=w¹ÖUJÇkŒáÝ­þ^jIô0¡Î€ÇÚÃÆw9®üVxJ}M­¡u§n*/©l§)5ÈÍÙ^ènBÖ5$Zˆ´~ˆ¿mhHÉR:Lù’Aæ˜9S˜æ@%–¼jPP¨“AaÌõ)
•H$Â×A
¶Ë`ÙE$&nbsp;ÓÍ�Ò™!¯gm6ÅCõm×_Š,Ë”±7½h‡'·€èÅ ’­½Z}†}-Ú¨ËÍÕ·Ô§õÂ£¨h±Û2hn¦ÚEºØÚ›O£nˆ‘aŽo´Á[§ó:¥nŒ½·uCì¶Âg´-Ëøk\·I©ì“xÒ&gt;+A<h]7÷ï­*jÊÜ¦ö5¶ég f_ÕÃü¡pw”x)�'€�jïªüx{µ¥cëÕ"³,³éˆ‡er'k�qúµ÷om{Èb À…]ž[Ë;"ËcsâÆœƒ`)Áå:fû%g{ÈédæåÎ‰;o†4e®[kÅcñœoÖÄ ?p±1jxz¾="" ó�t8ÇyÛå‘Æy!d�1špn="" Ÿy€Ñ|0w0…83Ð©ûÜvlz?{Ó="">Pz_‹^‡¹ÑuáöÕ«õçÁ&nbsp;¯»Z^ÆbT\gÖïšÛÊ&nbsp;j¹�³^
¯KëÜ
‘7/$\‘Õ…-çCÄ07Hœ54·›ŠÑ$~-¬RK€Œ…ŽöZZk›…Æ¤&amp;q·ÞïU°fß/wsŒª¢sûìùkëRA÷UÁn¦U¯HªA,-óoúÿCqïáâd2|+ÔC*¸ù‚åu²¹u�¾-ÎUtÃûUO&amp;ßr{‹êÇóB;Ñ7D§XPŠØè&amp;påq?†õ–QÿJø0�*X¾Î3i¦°Ã<g�v‘#†lÒØ93}f´»hÈ�j1 „ópï¬-§�ÍvohŠe×zsío½`="‚¢)'Ö¹…ô" ª† aólã\å="">îñãx½4ÔiDÃªd¶•ƒ®Ä^üaöÞP„Ê×âˆLÉÑÅ;ònQxVã´UâÆM ñÐÓºy.ØdØµœU€vÕiüžaf/É÷‘ø—ŸpWŠ„�a�äœ°qÞs�J÷ÞåŽG*›3ÔsçÑCeè
þâ‘ðDáC‡#R7(yƒYÉ™%�6Ãñe„¸(œëÈAŠ‹PG�9�&lt;èuMU�Z¢2©Š€ÿwÇaCáÁV~OOEž?Í{&lt;¢?äE¦xã…Ïªl‹³í¨êäº$Ùk"¿s§n›{WÌŠtF­‰È©Î"õÆ&gt;�l:v½M™¥…ÞùÃ¯¥ôM½_•rg/…z¼±rð%ÔðfhýBQ&amp;{ž€ŒU¶ÀÔáo!Yf™Í`€ß˜±ª©”œø¬\Üâÿ æj÷·Žâoh¸94IçIº¶©&amp;ÔA¹ž!×fÔ…�|â*ƒ]gÏËƒ¢pµŽ�$Ö†åd9m-mÕ¼&nbsp;Õä<bÎóŽÞ)>Ïké:·
®C=�—€!ùû†-�,áúLÕBê�ÉW£¤Ùa"—Ä£rhÇŸ9ÞÙÜvø£Í†U¡H-`õie™ùgh¬Ì–Ýœ
[X{LZz49ñ)í…ß±1Àt1ÿ!„D(¦~|Ðõ"Ë*Š5'¶ðÀH�7ñ­$µ	tðDÌ2Ã0Å¶nr¤à(ìU&lt;‡y?ØÏ½sÐÔC¤â§õº�Ô2Wÿ-*È�ñp&nbsp;¼¾Y³òhLçO–aˆ±ûr&gt;Ôeš¬#šžÃ�Æ:Ù…½�ÌƒÄ*HEÉ©ÖR€Í=—ÐâÕûD`ð�[A°ö±iÔîE$52©&lt;	:L^„IËœ´mèß&amp;È‚sô˜”kÒ%¾nô;þç&gt;£Gšœ¶ô;Æ;þ&gt;Ä›F�¶üMJ	ï¹Ùk�PÉûE“¤ü»ÚapƒµÊ£›ø¢Jk
ù?9Œ8ŸäO³và�D½�Ð™šÚ:þtm)KM0qw¯ñùâaÌ?î°jS5*'ˆ9å�îÍËL&amp;ä]ñådþÓ–1-Ú+‘šxB/mäuFª’{S"\Ý€)§v’8Ò)éHü”ú&nbsp;_æä0õÚÐ6ä‚„OuhW2?Ðû(˜»^ö8Ã#NïZYˆ6º^Ô(¤•ù©Ÿ%;A‹Z§ÐŠ©ˆÄÚÎ¯,Ñ²!ÄËsonOhŽ–±ò:&lt;DV1Ð�HB¤ÃóE&gt;èn°
endstream
endobj
395 0 obj&lt;&gt;stream
Åï¢ˆ
endstream
endobj
396 0 obj&lt;&gt;stream
Áƒ_HÛ *Ä?åY?xIŒ-Ö`kœ …÷Œhh(¤¨-ÛCE@Þs6€±³xªÍv*ç×Ù£i&gt;&lt;Åµ-D)i„3ÜxÇ
Ý¼h’‚@�ß�
#ãZºÄY€nñ•þRØ¿åÄš&amp;Éè�GpwY�"VMÉé3p\‰ÐNÑM&nbsp;‚MH	«ë×ääðÒ¹rRO‰¦²s<oÑØŒŒ9aµ‚(fb3î°t€íot”,Î�s>ÉÐk—ßôÞ“»Ïé¨ÓM
võÍLñšóÙ¯2Ao{Ñ	5C¡IZ¹«Š56’V_É÷ù�%ŒçÂüæ¬™QÝ’ý ¯ž—\“Ñ6O…±¶PÏö”;ÐLÕÈ‰8zš³�oÍ�.àì¼8oqj®ŽöYu»µDYp«1gÜfN˜·™]ÍNse¶GáoýÝ'OñöÆw¯R¹-'&nbsp;ŸÈšÌûkÓ�£dãŸU6g;³¶°äÉx¸~PÚ´,ŒÆ�Ý34&nbsp;7Â•ç©a]”6-Ëh;ÑÏßL¬y0ÊêÒ¢K(—]ÇPkKvÊ¼)˜ÞÃw¯ŸŠ¯uú…Û*|ü8i¼q¾ƒ‘ÎF!èfz¤¾¥&amp;8¤âídRLˆ$	é‹úRþÉ�-fè`¢nbz¹�TòŽ�šqåiË¾ââEŒútÑ€Q7Ï�Èd•–))×ãù¦6¼í@Å{,Ü›‰ÆÕSo3Xdáö7$¯Mzk[‹xôÚàwÐm9Î‰vYªáËèd˜ƒÈu£E&lt;ý¨ô$#9vBVj	é×¯-?«¥‘Àéi6Õ	ÝkU‡D»gqgtÂ¥4ÄâJ8íð
¸~«\›°_ª¸J_´øÐåf—îÿÐaáh7è‚š¯›2¹?™aä%÷ub:ËñÁ·4vÒŽS´&gt;©Te˜‘¡ì
endstream
endobj
397 0 obj&lt;&gt;stream
ˆ0ü}Ý±ozPabg–=¥)«ÕQÍRç‚v7+ì5…£þ¦1MAJîm&amp;e˜¶}R2Ìo$ÅPX+õÿ~VMQÏò¬×
ÕHlíNñ¯4”?ÛGf™+uX’cõ7÷(+òd8îRmSÎâšWàÇ½Õw3Úû©þËÝ ¢³%¸F¿±ûÚ³µÜJÓ®íe•‚`úô†x…·I?•Â±¸•ËPš:qúñ9�©MàAý8­&nbsp;žÚ‡²îiOçašØQ¯Ý-e@&lt;ÉP©wé,l¬ð–UßQ4–œ®yëªÓ¾Z‰IßUŽÜ›âÉi³å†í:ŸâsnéMX;LÊA—
£¤ÕtþŒ@©&gt;&amp;B m†9Ä†¦¬¬ÃÚ@ç¢¾_™=³KÇRœ2%üÝŠì= oed„î£¢ßwÅ's|¦é¦à÷±rN6¯á)OãÙ»xfŒ×_Æ%F�&gt;ªr¶àlíøš~Ø‰rü¾p¯é]¦6í[�KýÕ•!4WöÖÀÞ9æ
Ù¼·L²c.¾ƒb#„Z®Õ4”ïÆKd¹™&nbsp;zÁª^]
èôû¼öî&amp;x½ƒ¦W™B/ÍVüÇjMŒãaŒ;7„™Õ˜¬fyš¼ðÒy²»¸c¤m‹óO«§^¹R¿ÃÌÛe=ÀšB{ö š&lt;ÆáØ`�YRÆ‘Oå93•g»E%ÆŽM©wåzh#×«5FQ7é¼ª~šÍt~ó²È3+PZ¤§éêÉ~ÿ
‘ºÄù�`ÛÛîøQ-3;{@Ø–å²ˆXžws„³&nbsp;p\þÈõ£ÇcÙ@ßÇ^³	Òº&gt;�0åÞ$‘G¤pÁÆ—†êC–£à¦§à…´ë&gt;J¶a‘·®ñn-"Ÿ¬ÑpÓQ,ý–žáë£lu‰&lt;âèi¯çRîmUzÅ¿	õ$íbFåz×·Å6&nbsp;°c@€e¢ñÜþq0&gt;Ä¥QH„ÿŒƒ&nbsp;)ZÌã¶
8„d	XIºU©ÛEmõ¿©‚lûé òý©Ø•¯&lt;ÿb(Uå=ÓNÑ=8ØÁn#›D=t©mv¥Þö^+:1Ò
4¢!ú&lt;%~NJ³3½ý†tTì¥AØjÛð¨'Y…œ¸£ÑJU¹4’ƒÈ/&amp;�úØ"Ÿâ‰P#W\ý.¬¤ÐÄ…Â‹�-ñ’¨ò$†�¼3
ñd®JBø&amp;Ùt³F�kÄ3zƒâ=XÍ7U-¾ÀtÝ@ÃPkíèMAf•¸"v¶Û’+‰ß8H¦�éY2€Ql$ŠzcØ›pè{=]Å÷©g¿E&nbsp;c†çO¯bch]P°Ø`­ò}ÁJÜO3ýóèy{Ö@R—ÐòEˆ‰³ÑŒB­,Üº#µw.TÎ×w€ê‹Ÿ¶ÿÍü…ò\‘î�VÉ$Åi¤ù•f0œJ0"ÛÙÓj¼KÏënz[ñÀ¤6¼¾–ú¹L"ýÞ™,—¦³�Þh'U{×¨|¶ùUÇOóFèÊMT†ê%,bOb-’ê�Ùvûïîõc[“Å—ZW
-¨­.ÃÏWƒÞ�JÜ‰š•íÉ{,_·Æ¦Û
³X½T�a8†1’ìœ=ìKfbãÇáÄµ¾‘€åä­N¶~y•¹Ñ
uè…"¾’ÁÃ¾Ÿh#Ì§E9ÄÿÄ©vR¤«Y6žòÔ
W�F;11ò’ÇöCÜÝ£T¨¼hà8¬Ÿ‹¬Ô-º¢aÝ}¥À—©6”Ël•u�Cƒ&gt;x
Â5�YÈ¤gµ©%ÝñÁý¿ÄÏN%þ7†äÇ�ÆÑø¿�´@p#ÊxìãyÜ"¢�ìµcwsÛ9ø%ù”ç¸–ë_d%ÏOÚÉÆÙÂßšž�oa+Â5óíÐ÷|'-ÔOßÞkfLàyNap€à‹ÜÖ“¤KÕï&gt;ÚþrÏÚ©ÈpÊô¢“Ðþ{P¦Â¹ÞXh‡¬\cÎãßAt7¿Qtk�ìWÐå—‹£u¸ÿeipÑ+ô	È¡,íÁ¶ã’®ªÍÕvßÂü)èå„™•ª`ÔÑta5¥%P|¤N�eN`æ˜ê²\Ï¨4��îqEµ
m…Íôë‚à!niñjú¯ƒd»ÄµbžGÛ’K�6UàSl Âuì÷{ù
® V/7^S"J4Ÿž‘ïon¡‰?¬fÎHÍhÛ‹ó^ eP-tâúÂdò&nbsp;%×Õ‚nCsÆúË‰M%gHŽ˜¬ºôÙ¡6âBT]øÚos:$æöÂ»ã9ø?Þ­ù%ÜÀ,�J³'l\åº7%(_‚g¯Ê¼�šÅ“µnu7	v™SCA�¡‹Ø.‡ý¢è‚()é9eA@²Â’/)BpjvÖr3±3� &gt;°dìâvûB:ObÍòžÈkÈœûR5÷‡Zê¡œÏn‡[_õ3Ö�N
t]ˆªéÔûZfb	vÐš¡~:‘p°úÌý`¹eÖ¡1ÑW$Îß(ÀµBÿ´|ƒžý
µmùŒÇVÉAËöÐEF
"¿Ö;•3b'§¼f…ÄŸÇ£Wâiç	€¼}Nì#0éû×£X‡"tdmE†àÁ“|÷îCèkm¤8òúd††×¥ãrqÔOW2/m|ãwæi01mŸk,ÿ¶é×WSÄÅkðµlˆEq¬—ég¡ÛEIÜð­š¿H!�)Œ³fÓÑ•wR~­úúÖÇZ&nbsp;ÂÅt�SsaDyÏ&amp;°iø­×qëh~-S±9Î“T$e|e¿SøõíA/SÝ5gßmþ|¥ðÿ7§»JyŸ½?“‡ÖÃM�¬fú{kÛ'}9¥7ÉGŸ¯‡²u5‘*ÐªYíxPZ£/ù"ú¿JÊÝß¨f+5üEÑ³²·(BI&nbsp;ÐôŸèÕcOËß¼�œÚ–t”1¤�ŒÍ§ÙÞ^õI½˜ûO“¥n5)ôw¿	uæ…Ã²óž2HÉÿhÅ¯* 2RL]Œõƒ![JÅ^nù@7‘mÅ—©àXm,F¥:EaÜ!Ù¼¸üþçä›ØåÜcj,}M+èå.3dPÓïuÙè	(½	æ‘Ñ‰r·.{p“�.žfÊ?x•…±‹
(sé/§)óËQl‚Xã¦vì™“ùy­�2´�VGÜÝºj9.úûº‡šUdOã¿®ñ�…dÓA°ß¶%pc…Ãß…†+ç¦�,£qptâÝp(2Äãñ³l¾+äuÙt_sœ¤éÔÇ¾ÛÈ�ç€Øxš;¦sÄA0¾‰ª;£¤®Ú§¼‡ŒT5¢Ô&amp;ßã†ëˆ£:‚òëÎ7…</oñøœœ9aµ‚(fb3î°t€íot”,î�s></bîóžþ)></g�v‘#†lòø93}f´»hè�j1></h]7÷ï­*jêü¦ö5¶ég></vq_y–`d¹iv_ù)mç‚’÷ëh¯–mkèf�wð></oÿ�?‘fnìéqvq5%på®#zpì€êüæçe{></u¦></u›ø“ík)f�@mœiyïzæ></oôá;}ê¤xú ®4|þlag§jž�þî×lâîaÿ¹³ôee&$ëu¶iö¤àb5œ»mñ˜0‰½ëòá></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.itpi.org.in/uploads/journalfiles/jan8_10.pdf">http://www.itpi.org.in/uploads/journalfiles/jan8_10.pdf</a></em></p>]]>
            </description>
            <link>http://www.itpi.org.in/uploads/journalfiles/jan8_10.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24756863</guid>
            <pubDate>Mon, 12 Oct 2020 17:25:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to implement Lambda Edge functions in Terraform]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24756558">thread link</a>) | @giacaglia
<br/>
October 12, 2020 | https://transcend.io/blog/lambda-edge-functions-in-terraform/ | <a href="https://web.archive.org/web/*/https://transcend.io/blog/lambda-edge-functions-in-terraform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p><a target="_blank" rel="noopener noreferrer" href="https://aws.amazon.com/cloudfront/">AWS CloudFront</a> is a global Content Delivery Network (CDN) that gives developers extensive controls over their frontends. CloudFront comes with many configuration options for controlling caching, dynamic origins, geographic restrictions, and much more. But the greatest control that CloudFront offers comes from a service called <a target="_blank" rel="noopener noreferrer" href="https://aws.amazon.com/lambda/edge/">Lambda@Edge</a>. </p><p>With Lambda@Edge, you can run serverless functions through AWS Lambda on any of four event hooks that happen during a request for our origin content. These functions run at the edge locations of the CDN, meaning that Lambda@Edge promises a way to have a multi-region active-active backend where you only pay for the compute time that you use.</p><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/5OL4rRqx7pi05JnCYDNt8g/756bfb4b66a5ec4fdf521161b646060f/cloudfront-events-that-trigger-lambda-functions.png" alt="XKCD: Compiling"></p><figcaption>Lambda@Edge hooks (Image via Amazon AWS)</figcaption></div><p>That sounds wonderful, but implementing these functions in practice can be challenging and error-prone. Terraform makes provisioning most cloud infrastructure a breeze, but Lambda functions have a number of challenges with them. </p><p>In a typical modern codebase, a tool like Terraform will manage infrastructure only, while your CI/CD pipeline deploys the application code. But Lambda functions blur those lines, being a serverless service that integrates with other pieces of infrastructure, while itself containing application code.</p><p><strong>This blog post aims to show that not only are making Lambda@Edge functions in Terraform possible, but that it can actually be a pleasant experience.</strong></p><p>At Transcend, these functions have enabled us to create consistently secure frontends without needing to update our frontend application code at all, which has been a wonderful experience.</p><p><em>Pro tip: If you want to host a frontend in AWS, CloudFront with an S3 origin is the recommended method. And if you want to get started with setting up a frontend with Terraform, <a href="https://transcend.io/blog/hassle-free-frontends-in-aws">check out our recent blog post on how to do so</a>.</em></p><h2 id="getting-started">Getting started</h2><p>For the purposes of this tutorial, let’s assume we have a very basic frontend that we’d like to deploy. And as a security-conscious organization, we’d like to add a Lambda@Edge function to ensure we are properly setting security headers (such as a Content Security Policy) in our responses.</p><p>To begin with, let’s start with a Terraform file that declares a frontend on AWS using S3 and Cloudfront. For an overview of how this works, check out <a href="https://transcend.io/blog/hassle-free-frontends-in-aws">our blog post here</a></p><div><pre><p><span>1</span><span>provider</span><span> "aws" </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>version</span><span> </span><span>=</span><span> </span><span>"~&gt; 2.0"</span><span></span></p><p><span>3</span><span>  </span><span>region</span><span>  </span><span>=</span><span> </span><span>"us-east-1"</span><span></span></p><p><span>4</span><span></span><span>}</span><span></span></p><p><span>5</span><span></span></p><p><span>6</span><span></span><span>module</span><span> "cloudfront-s3-cdn" </span><span>{</span><span></span></p><p><span>7</span><span>  </span><span>source</span><span>  </span><span>=</span><span> </span><span>"cloudposse/cloudfront-s3-cdn/aws"</span><span></span></p><p><span>8</span><span>  </span><span>version</span><span> </span><span>=</span><span> </span><span>"0.34.1"</span><span></span></p><p><span>9</span><span></span></p><p><span>10</span><span>  </span><span>name</span><span>               </span><span>=</span><span> </span><span>"edge-acme-example"</span><span></span></p><p><span>11</span><span>  </span><span>encryption_enabled</span><span> </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>12</span><span></span></p><p><span>13</span><span>  </span><span></span></p><p><span>14</span><span>  </span><span>default_ttl</span><span> </span><span>=</span><span> </span><span>300</span><span></span></p><p><span>15</span><span>  </span><span>compress</span><span>    </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>16</span><span></span></p><p><span>17</span><span>  </span><span></span></p><p><span>18</span><span>  </span><span>website_enabled</span><span> </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>19</span><span>  </span><span>index_document</span><span>  </span><span>=</span><span> </span><span>"index.html"</span><span></span></p><p><span>20</span><span>  </span><span>error_document</span><span>  </span><span>=</span><span> </span><span>"index.html"</span><span></span></p><p><span>21</span><span></span><span>}</span><span></span></p><p><span>22</span><span></span></p><p><span>23</span><span></span><span>output</span><span> s3_bucket </span><span>{</span><span></span></p><p><span>24</span><span>  </span><span>description</span><span> </span><span>=</span><span> </span><span>"Name of the S3 origin bucket"</span><span></span></p><p><span>25</span><span>  </span><span>value</span><span>       </span><span>=</span><span> module.cloudfront-s3-cdn.s3_bucket</span></p><p><span>26</span><span></span><span>}</span><span></span></p><p><span>27</span><span></span></p><p><span>28</span><span></span><span></span></p><p><span>29</span><span></span><span>terraform</span><span> </span><span>{</span><span></span></p><p><span>30</span><span>  </span><span>backend</span><span> "remote" </span><span>{</span><span></span></p><p><span>31</span><span>    </span><span>hostname</span><span>     </span><span>=</span><span> </span><span>"app.terraform.io"</span><span></span></p><p><span>32</span><span>    </span><span>organization</span><span> </span><span>=</span><span> </span><span>"transcend-io"</span><span></span></p><p><span>33</span><span></span></p><p><span>34</span><span>    </span><span>workspaces</span><span> </span><span>{</span><span></span></p><p><span>35</span><span>      </span><span>name</span><span> </span><span>=</span><span> </span><span>"edge-blog-frontend"</span><span></span></p><p><span>36</span><span>    </span><span>}</span><span></span></p><p><span>37</span><span>  </span><span>}</span><span></span></p><p><span>38</span><span></span><span>}</span></p></pre></div><p>This sets up a complete frontend, with an S3 bucket origin, and a CloudFront distribution on top of it <a target="_blank" rel="noopener noreferrer" href="https://d3h5cy7by9ugu9.cloudfront.net/">like we have available here</a>. To create a Lambda function, we just need to point a module towards some application code we’ve written. </p><p>In this example, we’ve written a simple function that updates a response to include the security headers we want:</p><div><pre><p><span>1</span><span>exports</span><span>.</span><span>handler</span><span> </span><span>=</span><span> </span><span>(</span><span>event</span><span>,</span><span> context</span><span>,</span><span> callback</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span></span></p><p><span>3</span><span>  </span><span>const</span><span> response </span><span>=</span><span> event</span><span>.</span><span>Records</span><span>[</span><span>0</span><span>]</span><span>.</span><span>cf</span><span>.</span><span>response</span><span>;</span><span></span></p><p><span>4</span><span>  </span><span>const</span><span> headers </span><span>=</span><span> response</span><span>.</span><span>headers</span><span>;</span><span></span></p><p><span>5</span><span></span></p><p><span>6</span><span>  </span><span></span></p><p><span>7</span><span>  headers</span><span>[</span><span>'strict-transport-security'</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span>key</span><span>:</span><span> </span><span>'Strict-Transport-Security'</span><span>,</span><span> value</span><span>:</span><span> </span><span>'max-age= 63072000; includeSubdomains; preload'</span><span>}</span><span>]</span><span>;</span><span></span></p><p><span>8</span><span>  headers</span><span>[</span><span>'content-security-policy'</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span>key</span><span>:</span><span> </span><span>'Content-Security-Policy'</span><span>,</span><span> value</span><span>:</span><span> </span><span>"default-src 'self' cdnjs.cloudflare.com style-src 'self' 'unsafe-inline';"</span><span>}</span><span>]</span><span>;</span><span></span></p><p><span>9</span><span>  headers</span><span>[</span><span>'x-frame-options'</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span>key</span><span>:</span><span> </span><span>'X-Frame-Options'</span><span>,</span><span> value</span><span>:</span><span> </span><span>'DENY'</span><span>}</span><span>]</span><span>;</span><span></span></p><p><span>10</span><span>  headers</span><span>[</span><span>'x-xss-protection'</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span>key</span><span>:</span><span> </span><span>'X-XSS-Protection'</span><span>,</span><span> value</span><span>:</span><span> </span><span>'1; mode=block'</span><span>}</span><span>]</span><span>;</span><span></span></p><p><span>11</span><span>  headers</span><span>[</span><span>'referrer-policy'</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span>key</span><span>:</span><span> </span><span>'Referrer-Policy'</span><span>,</span><span> value</span><span>:</span><span> </span><span>'same-origin'</span><span>}</span><span>]</span><span>;</span><span></span></p><p><span>12</span><span></span></p><p><span>13</span><span>  </span><span></span></p><p><span>14</span><span>  </span><span>callback</span><span>(</span><span>null</span><span>,</span><span> response</span><span>)</span><span>;</span><span></span></p><p><span>15</span><span></span><span>}</span><span>;</span></p></pre></div><p>And then to create the Lambda function, we add the Terraform module:</p><div><pre><p><span>1</span><span>module</span><span> "security_header_lambda" </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>source</span><span>                 </span><span>=</span><span> </span><span>"transcend-io/lambda-at-edge/aws"</span><span></span></p><p><span>3</span><span>  </span><span>version</span><span>                </span><span>=</span><span> </span><span>"0.0.2"</span><span></span></p><p><span>4</span><span>  </span><span>name</span><span>                   </span><span>=</span><span> </span><span>"security_headers"</span><span></span></p><p><span>5</span><span>  </span><span>description</span><span>            </span><span>=</span><span> </span><span>"Adds security headers to the response"</span><span></span></p><p><span>6</span><span>  </span><span>runtime</span><span>                </span><span>=</span><span> </span><span>"nodejs12.x"</span><span></span></p><p><span>7</span><span>  </span><span>lambda_code_source_dir</span><span> </span><span>=</span><span> </span><span>"</span><span>$</span><span>{</span><span>path</span><span>.</span><span>module</span><span>}</span><span>/../../src/security_headers"</span><span></span></p><p><span>8</span><span></span><span>}</span></p></pre></div><p>The last step is to connect that Lambda function to one of the four CloudFront events. To do so, we update the CloudFront module to add the field:</p><div><pre><p><span>1</span><span>lambda_function_association</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>event_type</span><span>   </span><span>=</span><span> </span><span>"origin-response"</span><span>   </span></p><p><span>3</span><span>  </span><span>include_body</span><span> </span><span>=</span><span> </span><span>false</span><span></span></p><p><span>4</span><span>  </span><span>lambda_arn</span><span>   </span><span>=</span><span> module.security_header_lambda.arn</span></p><p><span>5</span><span></span><span>}</span><span>]</span></p></pre></div><p>You can use up to four functions per CloudFront cache behavior, one for each of the hooks.</p><p>To validate that response headers are updated, we can run:</p><div><pre><p><span>1</span><span>curl</span><span> -D - https://d3h5cy7by9ugu9.cloudfront.net/ -o /dev/null</span></p></pre></div><p>And we will see that the headers include our new security settings:</p><div><pre><p><span>1</span><span>strict-transport-security: max-age= 63072000; includeSubdomains; preload</span></p><p><span>2</span><span>content-security-policy: default-src 'self' cdnjs.cloudflare.com style-src 'self' 'unsafe-inline';</span></p><p><span>3</span><span>x-frame-options: DENY</span></p><p><span>4</span><span>x-xss-protection: 1; mode=block</span></p><p><span>5</span><span>referrer-policy: same-origin</span></p></pre></div><h2 id="beyond-the-basics">Beyond the basics</h2><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/2vPyPbkZDJFxEWgDmHDkFA/16214e2d4c210278969b1c01686fbee1/susan-holt-simpson-Rd01U0tPmQI-unsplash.jpg" alt="XKCD: Compiling"></p><figcaption>Building with the right building blocks blocks blockers in the future.(Susan Holt Smith via Unsplash)</figcaption></div><p>In the remaining sections, we will expand our Terraform code to handle some common real-world use cases when dealing with Lambda@Edge functions.</p><h3 id="setting-up-a-cicd-pipeline">Setting up a CI/CD pipeline</h3><p>As mentioned before, Lambda@Edge blurs some lines between application code and infrastructure. Because of this, your CI pipelines will need to do application code tasks, like building your code from source, while your pipeline will also need to deploy your infrastructure with Terraform commands.</p><p>As an example, here is an example of a Github Action workflow that can build and deploy a Lambda@Edge function from scratch using our module we made above:</p><div><pre><p><span>1</span><span>name</span><span>:</span><span> Deploy a Lambda@Edge function and website</span></p><p><span>2</span><span></span></p><p><span>3</span><span></span><span>on</span><span>:</span><span></span></p><p><span>4</span><span>  </span><span>push</span><span>:</span><span></span></p><p><span>5</span><span>    </span><span>branches</span><span>:</span><span></span></p><p><span>6</span><span>    </span><span>-</span><span> master</span></p><p><span>7</span><span></span></p><p><span>8</span><span></span><span>jobs</span><span>:</span><span></span></p><p><span>9</span><span>  </span><span>deploy</span><span>:</span><span></span></p><p><span>10</span><span>    </span><span>runs-on</span><span>:</span><span> ubuntu</span><span>-</span><span>latest</span></p><p><span>11</span><span>    </span><span>defaults</span><span>:</span><span></span></p><p><span>12</span><span>      </span><span>run</span><span>:</span><span></span></p><p><span>13</span><span>        </span><span>working-directory</span><span>:</span><span> infra/lambda_at_edge_example</span></p><p><span>14</span><span>    </span><span>steps</span><span>:</span><span></span></p><p><span>15</span><span>    </span><span></span></p><p><span>16</span><span>    </span><span>-</span><span> </span><span>uses</span><span>:</span><span> actions/checkout@master</span></p><p><span>17</span><span></span></p><p><span>18</span><span>    </span><span></span></p><p><span>19</span><span>    </span><span>-</span><span> </span><span>uses</span><span>:</span><span> hashicorp/setup</span><span>-</span><span>terraform@v1</span></p><p><span>20</span><span>      </span><span>with</span><span>:</span><span></span></p><p><span>21</span><span>        </span><span>terraform_version</span><span>:</span><span> 0.13.3</span></p><p><span>22</span><span>        </span><span>cli_config_credentials_token</span><span>:</span><span> $</span><span>{</span><span>{</span><span> secrets.TF_API_TOKEN </span><span>}</span><span>}</span><span></span></p><p><span>23</span><span>        </span><span>terraform_wrapper</span><span>:</span><span> </span><span>false</span><span></span></p><p><span>24</span><span></span></p><p><span>25</span><span>    </span><span></span></p><p><span>26</span><span>    </span><span>-</span><span> </span><span>name</span><span>:</span><span> Configure AWS Credentials</span></p><p><span>27</span><span>      </span><span>uses</span><span>:</span><span> aws</span><span>-</span><span>actions/configure</span><span>-</span><span>aws</span><span>-</span><span>credentials@v1</span></p><p><span>28</span><span>      </span><span>with</span><span>:</span><span></span></p><p><span>29</span><span>        </span><span>aws-access-key-id</span><span>:</span><span> $</span><span>{</span><span>{</span><span> secrets.AWS_ACCESS_KEY_ID </span><span>}</span><span>}</span><span></span></p><p><span>30</span><span>        </span><span>aws-secret-access-key</span><span>:</span><span> $</span><span>{</span><span>{</span><span> secrets.AWS_SECRET_ACCESS_KEY </span><span>}</span><span>}</span><span></span></p><p><span>31</span><span>        </span><span>role-to-assume</span><span>:</span><span> $</span><span>{</span><span>{</span><span> secrets.AWS_ROLE_TO_ASSUME </span><span>}</span><span>}</span><span></span></p><p><span>32</span><span>        </span><span>role-skip-session-tagging</span><span>:</span><span> </span><span>true</span><span></span></p><p><span>33</span><span>        </span><span>role-duration-seconds</span><span>:</span><span> </span><span>1200</span><span></span></p><p><span>34</span><span>        </span><span>aws-region</span><span>:</span><span> us</span><span>-</span><span>east</span><span>-</span><span>1</span><span></span></p><p><span>35</span><span></span></p><p><span>36</span><span>    </span><span></span></p><p><span>37</span><span>    </span><span>-</span><span> </span><span>uses</span><span>:</span><span> actions/setup</span><span>-</span><span>node@v2</span><span>-</span><span>beta</span></p><p><span>38</span><span>      </span><span>with</span><span>:</span><span></span></p><p><span>39</span><span>        </span><span>node-version</span><span>:</span><span> </span><span>'12'</span><span></span></p><p><span>40</span><span>    </span><span>-</span><span> </span><span>run</span><span>:</span><span> yarn</span></p><p><span>41</span><span>      </span><span>working-directory</span><span>:</span><span> src/security_headers</span></p><p><span>42</span><span></span></p><p><span>43</span><span>    </span><span></span></p><p><span>44</span><span>    </span><span>-</span><span> </span><span>run</span><span>:</span><span> terraform init</span></p><p><span>45</span><span>    </span><span>-</span><span> </span><span>run</span><span>:</span><span> terraform validate</span></p><p><span>46</span><span>    </span><span>-</span><span> </span><span>run</span><span>:</span><span> terraform plan </span><span>-</span><span>out planfile</span></p><p><span>47</span><span>    </span><span>-</span><span> </span><span>run</span><span>:</span><span> terraform apply planfile</span></p><p><span>48</span><span></span></p><p><span>49</span><span>    </span><span></span></p><p><span>50</span><span>    </span><span>-</span><span> </span><span>name</span><span>:</span><span> Deploy static site to S3 bucket</span></p><p><span>51</span><span>      </span><span>run</span><span>:</span><span> aws s3 sync ../../public s3</span><span>:</span><span>//$(terraform output s3_bucket) </span><span>-</span><span>-</span><span>delete</span></p></pre></div><p>There’s nothing terribly fancy in this action. It checks out the repository, downloads dependencies, sets up credentials, builds the code, deploys the terraform to create the Lambda function and CloudFront distribution, then deploys the static site to the CloudFront origin.</p><p>Even if you don’t use Github actions, these steps should be straightforward enough to port to your CI/CD platform of choice. For a complete example of a working repo with this pipeline set up, check out <a target="_blank" rel="noopener noreferrer" href="https://github.com/transcend-io/blog-frontend">https://github.com/transcend-io/blog-frontend</a>.</p><h3 id="using-typescript">Using Typescript</h3><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/3Bes3hDYJCCTon9Rm280k8/33354b28fb5dae34c04127077bb8f1cb/anthony-delanoix-vmrCxMRdq58-unsplash__1_.jpg" alt="XKCD: Compiling"></p><figcaption>Fancy drinks for a fancy language. (Anthony Delanoix via Unsplash)</figcaption></div><p>When you upload a Lambda function artifact, the artifact should contain runnable Javascript. That means that the Lambda runtime environment will not compile down your code, nor will it install node_modules. It’s up to you to package your code so it is ready to run.</p><p>First, let’s add a <code>tsconfig.json</code> to our package. For this example, I’ll keep things with most of the defaults from running <code>tsc --init</code>:</p><div><pre><p><span>1</span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>"compilerOptions"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>3</span><span>    </span><span>"target"</span><span>:</span><span> </span><span>"ES2017"</span><span>,</span><span>                      </span></p><p><span>4</span><span>    </span><span>"module"</span><span>:</span><span> </span><span>"commonjs"</span><span>,</span><span>                  </span></p><p><span>5</span><span>    </span><span>"strict"</span><span>:</span><span> </span><span>true</span><span>,</span><span>                 </span></p><p><span>6</span><span>    </span><span>"noImplicitAny"</span><span>:</span><span> </span><span>true</span><span>,</span><span></span></p><p><span>7</span><span>    </span><span>"esModuleInterop"</span><span>:</span><span> </span><span>true</span><span>,</span><span>                 </span></p><p><span>8</span><span>    </span><span>"forceConsistentCasingInFileNames"</span><span>:</span><span> </span><span>true</span><span> </span><span>,</span><span></span></p><p><span>9</span><span>    </span><span>"outDir"</span><span>:</span><span> </span><span>"dist"</span><span>,</span><span></span></p><p><span>10</span><span>  </span><span>}</span><span></span></p><p><span>11</span><span></span><span>}</span></p></pre></div><p>Next, we will update our <code>package.json</code> to install a specific typescript version and to know how to build our code with <code>tsc</code>:</p><div><pre><p><span>1</span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>"author"</span><span>:</span><span> </span><span>"Transcend Inc."</span><span>,</span><span></span></p><p><span>3</span><span>  </span><span>"name"</span><span>:</span><span> </span><span>"@main/security_headers"</span><span>,</span><span></span></p><p><span>4</span><span>  </span><span>"license"</span><span>:</span><span> </span><span>"UNLICENSED"</span><span>,</span><span></span></p><p><span>5</span><span>  </span><span>"main"</span><span>:</span><span> </span><span>"index.js"</span><span>,</span><span></span></p><p><span>6</span><span>  </span><span>"dependencies"</span><span>:</span><span> </span><span>{</span><span>}</span><span>,</span><span></span></p><p><span>7</span><span>  </span><span>"scripts"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>8</span><span>    </span><span>"build"</span><span>:</span><span> </span><span>"tsc --build"</span><span></span></p><p><span>9</span><span>  </span><span>}</span><span>,</span><span></span></p><p><span>10</span><span>  </span><span>"devDependencies"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>11</span><span>    </span><span>"@types/aws-lambda"</span><span>:</span><span> </span><span>"^8.10.62"</span><span>,</span><span></span></p><p><span>12</span><span>    </span><span>"typescript"</span><span>:</span><span> </span><span>"^4.0.3"</span><span></span></p><p><span>13</span><span>  </span><span>}</span><span></span></p><p><span>14</span><span></span><span>}</span></p></pre></div><p>Notice that we included a dev dependency on some AWS Lambda types so that we can strongly type our code as we write it. Outside of adding types, our JavaScript code stays mostly the same. Here’s the new <code>index.ts</code>:</p><div><pre><p><span>1</span><span>import</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>CloudFrontResponseEvent</span><span>,</span><span></span></p><p><span>3</span><span>  </span><span>CloudFrontResponseHandler</span><span>,</span><span></span></p><p><span>4</span><span>  </span><span>Context</span><span>,</span><span></span></p><p><span>5</span><span>  </span><span>CloudFrontResponseCallback</span><span>,</span><span></span></p><p><span>6</span><span></span><span>}</span><span> </span><span>from</span><span> </span><span>'aws-lambda'</span><span>;</span><span></span></p><p><span>7</span><span></span></p><p><span>8</span></p><p><span>9</span></p><p><span>10</span><span></span></p><p><span>11</span><span></span><span>export</span><span> </span><span>const</span><span> handler</span><span>:</span><span> </span><span>CloudFrontResponseHandler</span><span> </span><span>=</span><span> </span><span>(</span><span></span></p><p><span>12</span><span>  event</span><span>:</span><span> </span><span>CloudFrontResponseEvent</span><span>,</span><span></span></p><p><span>13</span><span>  _</span><span>:</span><span> </span><span>Context</span><span>,</span><span></span></p><p><span>14</span><span>  callback</span><span>:</span><span> </span><span>CloudFrontResponseCallback</span><span>,</span><span></span></p><p><span>15</span><span></span><span>)</span><span>:</span><span> </span><span>void</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>16</span><span>  </span><span></span></p><p><span>17</span><span>  </span><span>const</span><span> response </span><span>=</span><span> event</span><span>.</span><span>Records</span><span>[</span><span>0</span><span>]</span><span>.</span><span>cf</span><span>.</span><span>response</span><span>;</span><span></span></p><p><span>18</span><span>  </span><span>const</span><span> headers </span><span>=</span><span> response</span><span>.</span><span>headers</span><span>;</span><span></span></p><p><span>19</span><span></span></p><p><span>20</span><span>  </span><span></span></p><p><span>21</span><span>  headers</span><span>[</span><span>'strict-transport-security'</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span>key</span><span>:</span><span> </span><span>'Strict-Transport-Security'</span><span>,</span><span> value</span><span>:</span><span> </span><span>'max-age= 63072000; includeSubdomains; preload'</span><span>}</span><span>]</span><span>;</span><span></span></p><p><span>22</span><span>  headers</span><span>[</span><span>'content-security-policy'</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>{</span><span>key</span><span>:</span><span> </span><span>'Content-Security-Policy'</span><span>,</span><span> value</span><span>:</span><span> </span><span>"default-src 'self' cdnjs.cloudflare.com style-src 'self' 'unsafe-inline';"</span><span>}</span><span>]</span><span>;</span><span></span></p><p><span>23</span><span>  headers</span><span>[</span><span>'x-frame-options'</span><span>]</span><span> </span>…</p></pre></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://transcend.io/blog/lambda-edge-functions-in-terraform/">https://transcend.io/blog/lambda-edge-functions-in-terraform/</a></em></p>]]>
            </description>
            <link>https://transcend.io/blog/lambda-edge-functions-in-terraform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24756558</guid>
            <pubDate>Mon, 12 Oct 2020 17:00:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don’t pay for 95% (2016)]]>
            </title>
            <description>
<![CDATA[
Score 245 | Comments 369 (<a href="https://news.ycombinator.com/item?id=24755614">thread link</a>) | @PascLeRasc
<br/>
October 12, 2020 | https://5kids1condo.com/dont-pay-for-95/ | <a href="https://web.archive.org/web/*/https://5kids1condo.com/dont-pay-for-95/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
	
		

		
		
	<div id="main">	
			
	<div>	
<div id="content">
	
			
<div>
<article id="post-793">
	
	
			
				
		<div>				
			<p>Your car sits idle over <a href="http://www.reinventingparking.org/2013/02/cars-are-parked-95-of-time-lets-check.html">95% of the time</a>.</p>
<p>Your guest bedroom is occupied&nbsp;one week out of every 52.</p>
<p>Your kids use the yard less than <a href="http://www.usatoday.com/story/opinion/2012/10/04/backyards-overrated-outdoors-indoors/1613815/">40 minutes a week</a>.</p>
<p>Yet we consumers love to envision the maximum usage for a particular item – like a house or a car – then buy the item with a capacity high enough to accommodate our visions.&nbsp;It makes us feel prepared, it feeds our egos, and it feels as though we got more value for our money than if we’d bought something smaller.</p>
<p>We do this despite knowing that we won’t be boarding&nbsp;guests year ’round, driving groups of eight&nbsp;in our minivan, and hosting lavish backyard parties, nightly.</p>
<p>But rather than buy for peak usage, I prefer to stay flexible.</p>
<div id="attachment_810"><p><a href="http://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160415_152650new.jpg"><img aria-describedby="caption-attachment-810" src="http://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160415_152650new-1024x681.jpg" alt="" width="1024" height="681" srcset="https://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160415_152650new-1024x681.jpg 1024w, https://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160415_152650new-300x199.jpg 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p><p id="caption-attachment-810">The kids in front of the Modo minivan we book every couple weeks or so. Just $8 an hour!</p></div>
<p>I scale my solutions up and down in response to my needs at the time.</p>
<p>Friends visiting from out of town? I’ll pay for their hotel, so I can live in a smaller, cheaper, better located condo for the rest of the year.</p>
<p>I have to schlep a bunch of kids far away? I’ll get a <a href="http://modo.coop/">Modo minivan</a>, a local car share, for a few hours. Let someone else maintain that gorgeous van.</p>
<p>Need some outdoors time? Walk a couple blocks to a park. I’m not interested in mowing something I only use a couple hours a week.</p>
<p>When I tell people this, they&nbsp;usually&nbsp;recoil at the cost. “Hotels are expensive!” “You RENT a car?!” They see only the short term price&nbsp;of my solutions.</p>
<p>They don’t see the other 95% of the time. The time when I didn’t need and therefore didn’t own or maintain those items.&nbsp;It’s in that 95% that I rack up huge savings. I make that 95% work <em>for me</em>, not against me.</p>
<p>Meanwhile, they’re living further out to afford that guest bedroom and yard, driving the $50,000 8-seater minivan, and paying for 5% usage,&nbsp;100% of the time.</p>
<div id="attachment_796"><p><a href="http://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160327_114527-1.jpg"><img aria-describedby="caption-attachment-796" src="http://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160327_114527-1-1024x766.jpg" alt="Being car-free, we're more likely to opt for active transportation modes - like biking. But we can scale up to vehicles when needed too." width="1024" height="766" srcset="https://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160327_114527-1-1024x766.jpg 1024w, https://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160327_114527-1-300x224.jpg 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p><p id="caption-attachment-796">Being car-free, we’re more likely to opt for active transportation modes – like biking. But we can scale up to vehicles when needed too.</p></div>
<p>Not owning the high capacity solution also gives me huge flexibility. Do I need a two-seater car? Or a five-seater? Minivan, cargo van, sports car? I can access them all, only when I need them.</p>
<p>So what motivates&nbsp;people to plan for occasional peaks and idealized usage, rather than actual daily utilization?</p>
<p>Ego is part of it. A large SUV or huge house is still a sign of success to many. Your neighbours won’t congratulate you in your driveway for scaling up and&nbsp;down your transportation needs in a responsible, real-time fashion.</p>
<div id="attachment_797"><p><a href="http://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160406_073653.jpg"><img aria-describedby="caption-attachment-797" src="http://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160406_073653-1024x768.jpg" alt="For daily kid hauling, nothing beats the bus for price, independence and level of engagement." width="1024" height="768" srcset="https://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160406_073653-1024x768.jpg 1024w, https://5kids1condo.com/wp-content/uploads/2016/04/IMG_20160406_073653-300x225.jpg 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p><p id="caption-attachment-797">For daily kid hauling, nothing beats the bus for price, independence and level of engagement.</p></div>
<p>A mistaken sense of “value” is also at play. We’re often taught that “more is more,” up-selling ourselves to a larger house or car on the premise of “just in case.” It’s something we’ve all been guilty of at one time or another.</p>
<p>But&nbsp;next time a big decision comes up, try forgoing your ego and asking yourself if more really means more. Account for the hidden costs: longer commutes to a big house, higher&nbsp;expenses, more maintenance, etc. Try making a rational, needs-based decision. A decision&nbsp;based not on anticipated peaks, but on actual&nbsp;daily usage.</p>
<p><strong>In short, don’t pay for the 95% you won’t use.</strong></p>
<p>You’ll save a ton of money and gain a better quality of life.</p>
<div id="ts-fab-below"><p><span>The following two tabs change content below.</span></p><ul><li><a href="#ts-fab-bio-below">Bio</a></li><li><a href="#ts-fab-latest-posts-below">Latest Posts</a></li></ul><div>
	<div id="ts-fab-bio-below">
		<div><p><img src="https://secure.gravatar.com/avatar/ad8dc0b6838480ef540933f51be16685?s=80&amp;d=mm&amp;r=g" width="80" height="80" alt="Avatar"></p>
		</div>
		
		<div>
			<!-- /.ts-fab-header -->
			<p>Adrian Crook is a father of five living in beautiful downtown Vancouver, Canada. He's an advocate for rental housing and public transit.</p>
		</div>
	</div>
	<div id="ts-fab-latest-posts-below">
		<div><p><img src="https://secure.gravatar.com/avatar/ad8dc0b6838480ef540933f51be16685?s=80&amp;d=mm&amp;r=g" width="80" height="80" alt="Avatar"></p>
		</div>
		
	</div>
		</div>
	</div>					</div><!-- /entry-content -->
		
		
		
	</article><!-- /post-793 -->

</div><!-- /post-wrap -->		

		
			
</div><!-- /content -->

 
	<!-- /sidebar -->	
		</div><!-- /content-wrap -->
	</div><!-- /main -->
</div></div>]]>
            </description>
            <link>https://5kids1condo.com/dont-pay-for-95/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24755614</guid>
            <pubDate>Mon, 12 Oct 2020 15:45:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Escape Analysis in PyPy, LuaJIT, V8, C++, Go and More]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24754861">thread link</a>) | @kipply
<br/>
October 12, 2020 | https://carolchen.me/blog/escape-analysis/ | <a href="https://web.archive.org/web/*/https://carolchen.me/blog/escape-analysis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="js-article">
    
<p>With software engineering, speed and memory are the basic measurement-benchmarks. For programming language implementations, the two affect each other heavily. In JIT compilers, that means storing more things in memory to speed up the program drastically. It also means putting time into garbage collection to keep memory down, spending time to try to eliminate allocations and deciding where to put some piece of data. </p>
<p>Escape Analysis is a technique that determines the behaviour of how a variable (more specifically, a pointer) is used in a certain scope, and whether it not it escapes that scope (the scope is usually a function). Escape analysis allows the program to stack allocate (here is an article on <a href="https://stackoverflow.com/questions/79923/what-and-where-are-the-stack-and-heap/80113#80113">Stack vs Heap </a>allocations) when it's determined the variable will not be used outside of the scope or in other cases, try to eliminate the allocation completely. </p>
<blockquote>
<h4 id="thank-you-box">Thank You Box<a href="#thank-you-box" aria-label="Anchor link for: thank-you-box"> <i></i></a>
</h4>
<p>I'm writing this away from family during (Canadian) Thanksgiving so thank you kind and curious friends for coming to read this!</p>
<p>Also thanks to <a href="https://chrisseaton.com/">Chris Seaton</a> who was my intern mentor back when I actually worked on compilers and taught me sooo much, and <a href="https://jfbastien.com/">JF Bastien</a> who showed me how to look into <code>clang</code> and has just been generally helpful. Props to <a href="https://alberto.donizetti.eu/">Alberto</a> who fixed a bug  in Go I ran into while investigating escape analysis in Go in a matter of hours after I opened an issue, and thanks to <a href="https://blog.janestreet.com/author/lwhite/">Leo White</a> who answered my question about the lack of escape analysis in OCaml.</p>
</blockquote>
<p>For a little background on how programming languages work, skim through my post <a href="https://carolchen.me/blog/jits-intro">A Deep Introduction to JIT Compilers: JITs are not very Just-in-time</a>. </p>
<h2 id="highlights">Highlights<a href="#highlights" aria-label="Anchor link for: highlights"> <i></i></a>
</h2>
<ul>
<li><a href="https://carolchen.me/blog/escape-analysis/#pypy-escapes-boxing">Escaping Boxing</a></li>
<li><a href="https://carolchen.me/blog/escape-analysis/#luajit-allocation-sinking">Allocation Sinking</a></li>
<li><a href="https://carolchen.me/blog/escape-analysis/#some-security-escaped-v8">Chrome had a Security Incident because of Escape Analysis</a></li>
<li><a href="https://carolchen.me/blog/escape-analysis/#escape-analysis-with-llvm-backed-languages">Escape Analysis with LLVM backed languages</a></li>
<li><a href="https://carolchen.me/blog/escape-analysis/#go">Escape Analysis in Go</a></li>
<li><a href="https://carolchen.me/blog/escape-analysis/#other-compilers-that-do-escape-analysis">Other Compilers that do Escape Analysis</a></li>
</ul>
<h3 id="pypy-escapes-boxing">Pypy Escapes Boxing<a href="#pypy-escapes-boxing" aria-label="Anchor link for: pypy-escapes-boxing"> <i></i></a>
</h3>
<p>Pypy puts a lot of work into minimizing <em>boxing</em>, which is done through escape analysis. Boxing is when a primitive is boxed into an object wrapper type, such as an <code>int</code> to <code>Integer</code> in Java. Object oriented language implementations often utilize boxing (sometimes called auto-boxing), including JavaScript, C#, Haskell and others! Computers natively understands types like booleans and integers, but not objects, and unfortunately many languages need to store most of their data as an object and not the primitive. For example, <code>314</code> as a constant can be stored as a primitive on the stack, but when <code>314.toString()</code> is executed, <code>314</code> has to be boxed so that the method can be run on the object. Unboxing is performed to extract the value. </p>
<p>Boxing and unboxing is an expensive operation, with .NET citing 20x the time for boxed assignment and 4x the time for unboxing assignment (when you explicitly cast back). Pypy also has expensive boxing operations, as it's not just assigning/computing more values but organizing them into a heap structure. </p>
<p>Pypy considers this to be its second most important problem, and uses "virtual objects", also called virtualisation. It's a fancy term that means they avoid creating the entire heap structure, store the primitive value (not on the heap) and mock any object-operations that need to happen. While the virtual object is used in some applicable scope, read and writes are done to the virtual object without the expense of boxing/unboxing. Even more computation is saved as since the virtual object exists and no guards need to exist to verify information about the value in the object, whereas guards are usually in place to check the class after loading a value. </p>
<p>Pypy will virtualise onto the stack optimistically and then allocate later should it become necssary. Escape analysis is really powerful in JITs mostly because jitted langauges tend to be more dynamic, but also because they can very aggressively stack allocate.  Languages that compile once have to be completely confident that the escape analysis is valid (or also compile code in case of failure) <em>and</em> make decisions about how far it should look to determine a scope. JITs can kind of just hope it'll work and then actually do the allocation if it doesn't -- and remember what happened for next time (though that makes it sound a lot easier than it actually is). </p>
<p>For example;</p>
<pre><code><span>x </span><span>= </span><span>0
</span><span>for </span><span>i </span><span>in </span><span>range</span><span>(</span><span>10000</span><span>):
  </span><span># Integer.random() is not an actual stdlib operation in Python, I used it to indicate a non-primitive object is created
  </span><span>y </span><span>= </span><span>Integer</span><span>.</span><span>random</span><span>() </span><span>+ </span><span>x
  x </span><span>+= </span><span>y </span><span>* </span><span>4 </span><span># this would also involves boxing without escape analysis, since operators are implemented as methods
</span><span>print</span><span>(x)
</span></code></pre>
<p>There are two cases of virtualisation here. The first is <code>y</code>, which will be virtualised as it does not escape. Thus in the second line of the loop, Pypy would no longer need a guard for the value of <code>y</code>. This saves us a lot more than just constructing and traversing the heap structure. When boxed, Pypy has to check the class types of <code>y</code> and <code>x</code> due to the dynamic-ness of Python -- can these values be added? If they can, where is the method to describe how they are added (Python allows operator overloading). It also has to recreate a boxed object to reassign to <code>y</code> and in more complex cases could leave behind additional garbage for the GC. </p>
<p><code>x</code> on the other hand, does escape, but it's still valuable to virtualise it, for that allocation is in a loop and the escape is outside the loop. When a jump instruction comes in (loop ends), it’ll come with code that actually allocates <code>x</code> for the garbage collector and future use. Another case of escape analysis can be found in methods;</p>
<pre><code><span>def </span><span>foo</span><span>():
  x </span><span>= </span><span>{</span><span>"A"</span><span>: </span><span>1</span><span>, </span><span>"B"</span><span>: </span><span>2</span><span>}
  </span><span>return </span><span>x[</span><span>"A"</span><span>]
</span></code></pre>
<p>In this case, <code>x</code> will likely never escape and the allocation isn't even needed to execute the rest of the function. This particular case may actually be constant-folded away (the constant is replicated at usage sites), but abstractions of this pattern will use escape analysis. Escape analysis also often takes place for language-internal operations, and I'll describe how Javascript features and internals makes escape analysis very important. </p>
<h3 id="how-javascript-uses-escape-analysis-in-language-internals">How Javascript Uses Escape Analysis in Language Internals<a href="#how-javascript-uses-escape-analysis-in-language-internals" aria-label="Anchor link for: how-javascript-uses-escape-analysis-in-language-internals"> <i></i></a>
</h3>
<p>The most complex question about escape analysis (other than maybe "how do I implement it") is probably "is this only beneficial to very shortlived variables, and if so how does it help much?". As mentioned in the Pypy example, it is sometimes to protect allocations that are made by the language implementation rather than the programmer. Here's a quick example in Javascript (example token from <a href="https://www.jfokus.se/jfokus18/preso/Escape-Analysis-in-V8.pdf">this PDF</a>, which has a <a href="https://www.youtube.com/watch?v=KiWEWLwQ3oI">corresponding talk</a> that might be elementary at this point in the blog post). </p>
<pre><code><span>function </span><span>bar</span><span>(</span><span>o</span><span>) </span><span>{
  </span><span>return </span><span>Math</span><span>.</span><span>sqrt</span><span>(</span><span>o</span><span>.</span><span>x</span><span>*</span><span>o</span><span>.</span><span>x </span><span>+ </span><span>o</span><span>.</span><span>y</span><span>*</span><span>o</span><span>.</span><span>y)
</span><span>}

</span><span>function </span><span>foo</span><span>(</span><span>i</span><span>) </span><span>{
  </span><span>return </span><span>bar</span><span>(</span><span>{</span><span>x: </span><span>i</span><span>, y: </span><span>i}</span><span>)
</span><span>}
</span></code></pre>
<p>One might not expect anything to allocate even without escape analysis, but when you create the object to pass into <code>bar</code> it is created and allocated by default since it now exists for <code>bar</code> and can escape <code>bar</code>. This is a good example of a full allocation elimination, the allocation isn't just moved into the stack, rarther <code>bar</code> is inlined and then the usage of any object at all can be optimized away. </p>
<h3 id="luajit-allocation-sinking">LuaJIT Allocation Sinking<a href="#luajit-allocation-sinking" aria-label="Anchor link for: luajit-allocation-sinking"> <i></i></a>
</h3>
<p>In most languages that box, essentially everything gets a box (except <code>null</code> and <code>undefined</code> types, though <code>NaN</code> in Javascript is boxed into a <code>Number</code> so terms and conditions may apply). LuaJIT is smarter off the bat and manages to not box floats and is good at not allocating (when I say "allocate", I mean to the heap) constants. </p>
<p>LuaJIT's does something called <a href="http://wiki.luajit.org/Allocation-Sinking-Optimization"><em>Allocation Sinking</em></a>, which is based on escape analysis and the result is very powerful allocation removals, doing things that even the age-old Hotspot can't do. Pypy implemented a vast majority of the things that LuaJIT did (see this <a href="http://www1.maths.lth.se/matematiklth/vision/publdb/reports/pdf/ardo-bolz-etal-dls-12.pdf">2012 paper</a>) though I'd want to describe some of these optimizations in the context of LuaJIT rather than Pypy because LuaJIT gave me free examples. </p>
<p>When data is allocated, there's typically a "store" and then a "load" later on. Store-to-load forwarding is essentially what it sounds like, getting the subsequent "load" function to receive data directly from the location of storing. This is used to have powerful allocation sinking, more commonly called "code motion" (or specifically, loop-invariant code motion as JITs tend to be concerned with loop optimizations). This examples do not use executable Lua code</p>
<pre><code><span>local </span><span>x </span><span>= </span><span>0
</span><span>for </span><span>i</span><span>=</span><span>1</span><span>,</span><span>1000 </span><span>do
  </span><span>x </span><span>= </span><span>y </span><span>+ </span><span>z </span><span>-- i don't think this actually allocates in lua, but let’s pretend it does
  </span><span>local </span><span>a </span><span>= </span><span>i </span><span>+ </span><span>x
</span><span>end
</span></code></pre>
<p>What we want is for <code>x</code> to be declared outside of the loop, as it saves us that allocation every time we iterate. This could be done through code motion. </p>
<pre><code><span>local </span><span>x </span><span>= </span><span>y </span><span>+ </span><span>z 
</span><span>for </span><span>i</span><span>=</span><span>1</span><span>,</span><span>1000 </span><span>do
  </span><span>a </span><span>= </span><span>i </span><span>+ </span><span>x
</span><span>end
</span></code></pre>
<p>In the example below, the allocation of <code>i</code> to <code>y</code> should be moved to be inside the conditional. Note that this optimization is not quite covered by the base strategy described for Pypy.</p>
<pre><code><span>for </span><span>i</span><span>=</span><span>1</span><span>,</span><span>1000 </span><span>do  
  local </span><span>y </span><span>= </span><span>i
  </span><span>if </span><span>random</span><span>() </span><span>&gt; </span><span>0.5</span><span>:  </span><span>-- but does not escape this if statement
    </span><span>x </span><span>= </span><span>y </span><span>+ </span><span>z
  </span><span>local </span><span>a </span><span>= </span><span>i </span><span>+ </span><span>x
</span><span>end
</span><span>-- should become
</span><span>for </span><span>i</span><span>=</span><span>1</span><span>,</span><span>1000 </span><span>do  
  if </span><span>random</span><span>() </span><span>&gt; </span><span>0.5</span><span>: 
    </span><span>local</span><span> </span><span>y </span><span>= </span><span>i
    x </span><span>= </span><span>y </span><span>+ </span><span>z
  </span><span>local </span><span>a </span><span>= </span><span>i </span><span>+ </span><span>x
</span><span>end
</span></code></pre>
<p>Here, LuaJIT defers the write and <em>forwards</em> the data to the read. As a result, the allocation and read is very much removed. The forwarding destination is the point of escape, which is where the escape analysis comes in. </p>
<p>LuaJIT has an explicit mark-and-sweep pass to do sinks. For an example that highlights the allocation sinking, LuaJIT performed on par with C++ and 700x faster than Lua. Specifically (taken from the <a href="http://wiki.luajit.org/Allocation-Sinking-Optimization#implementation%5B">LuaJIT Blog</a>): </p>
<pre><code><span>local </span><span>ffi </span><span>= </span><span>require</span><span>(</span><span>"ffi"</span><span>)
</span><span>local </span><span>point
point </span><span>= </span><span>ffi</span><span>.</span><span>metatype</span><span>(</span><span>"struct { double x, y; }"</span><span>, </span><span>{
  </span><span>__add </span><span>= </span><span>function</span><span>(</span><span>a</span><span>, </span><span>b</span><span>)
   </span><span>return </span><span>point</span><span>(</span><span>a</span><span>.</span><span>x </span><span>+ </span><span>b</span><span>.</span><span>x, </span><span>a</span><span>.</span><span>y </span><span>+ </span><span>b</span><span>.</span><span>y)
  </span><span>end
</span><span>}</span><span>)
</span><span>local </span><span>a</span><span>, </span><span>b </span><span>= </span><span>point</span><span>(</span><span>1.5</span><span>, </span><span>2.5</span><span>), </span><span>point</span><span>(</span><span>3.25</span><span>, </span><span>4.75</span><span>)
</span><span>for </span><span>i</span><span>=</span><span>1</span><span>,</span><span>100000000 </span><span>do </span><span>a </span><span>= </span><span>(</span><span>a </span><span>+ </span><span>b</span><span>) </span><span>+ </span><span>b </span><span>end
</span><span>print</span><span>(</span><span>a</span><span>.</span><span>x, </span><span>a</span><span>.</span><span>y)
</span></code></pre>
<p>This example does some things that are familiar from the Pypy example -- it creates temporary objects while performing the arithmetic (<code>point(a.x + b.x, a.y + b.y)</code>). These two under-the-hood allocations are expensive, but LuaJIT optimizes …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://carolchen.me/blog/escape-analysis/">https://carolchen.me/blog/escape-analysis/</a></em></p>]]>
            </description>
            <link>https://carolchen.me/blog/escape-analysis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24754861</guid>
            <pubDate>Mon, 12 Oct 2020 14:48:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Tried to Reduce Pylint Memory Usage]]>
            </title>
            <description>
<![CDATA[
Score 241 | Comments 29 (<a href="https://news.ycombinator.com/item?id=24754397">thread link</a>) | @zdw
<br/>
October 12, 2020 | https://rtpg.co/2020/10/12/pylint-usage.html | <a href="https://web.archive.org/web/*/https://rtpg.co/2020/10/12/pylint-usage.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        
<div>

  

  <article>
    <p>Through work I have to deal with a pretty huge codebase, and run Pylint on it during our continuous integration process. It's always been a bit slow, but recently I also noticed that it was consuming a <em>lot</em> of memory, causing OOM failures if we tried to run it too much in parallel.</p>
<p>I decided to roll up my sleeves and figure out:</p>
<ul>
<li>What exactly was consuming so much memory?</li>
<li>Is there a way to avoid doing this?</li>
</ul>
<p>This is a log of how I went about these two questions, as future reference for when I do other profiling work in Python.</p>
<p>Looking at Pylint from the entrypoint(<code>pylint/__main__.py</code>), I end up digging downwards and finding the "quintessential" <code>for</code> loop that you would expect in a program that checks a bunch of files for errors:</p>
<pre><code>    def _check_files(self, get_ast, file_descrs):
            # in pylint/lint/pylinter.py
            with self._astroid_module_checker() as check_astroid_module:
                for name, filepath, modname in file_descrs:
                    self._check_file(get_ast, check_astroid_module, name, filepath, modname)
</code></pre>
<p>First I just threw in a <code>print("HI")</code> statement in there to confirm that this is indeed what's being run when I do <code>pylint my_code</code>, and that goes off without a hitch.</p>
<p>First is to try and figure out what's being held in memory, so I do a really basic "heap dump" with heapy to see if anything stands out</p>
<pre><code>        from guppy import hpy
        hp = hpy()
        i = 0
        for name, filepath, modname in file_descrs:
            self._check_file(get_ast, check_astroid_module, name, filepath, modname)
            i += 1
            if i % 10 == 0:
                print("HEAP")
                print(hp.heap())
            if i == 100:
                raise ValueError("Done")
</code></pre>
<p>My heap profiles end up being almost entirely "frame types" (which I was kind of expecting, for some reason), but also holding ont a bunch of tracebacks. Enough of these kinds of objects that I told myself "surely this is more than is needed".</p>
<pre><code>    Partition of a set of 2751394 objects. Total size = 436618350 bytes.
    Index  Count   %     Size   % Cumulative  % Kind (class / dict of class)
        0 429084  16 220007072  50 220007072  50 types.FrameType
        1 535810  19 30005360   7 250012432  57 types.TracebackType
        2 516282  19 29719488   7 279731920  64 tuple
        3 101904   4 29004928   7 308736848  71 set
        4 185568   7 21556360   5 330293208  76 dict (no owner)
        5 206170   7 16304240   4 346597448  79 list
        6 117531   4  9998322   2 356595770  82 str
        7  38582   1  9661040   2 366256810  84 dict of astroid.node_classes.Name
        8  76755   3  6754440   2 373011250  85 tokenize.TokenInfo
</code></pre>
<p>It's at this point that I discovered heapy's <a href="https://zhuyifei1999.github.io/guppy3/pbscreen.jpg">Profile Browser</a>, which seemed like a bit of a nicer way to look at this data</p>
<p>I switched up the heap mechanism to dump to a file every 10 iterations, then graph the entire runtime behaviour</p>
<pre><code>    for name, filepath, modname in file_descrs:
        self._check_file(get_ast, check_astroid_module, name, filepath, modname)
        i += 1
        if i % 10 == 0:
            hp.heap().stat.dump("/tmp/linting.stats")
        if i == 100:
            hp.pb("/tmp/linting.stats")
            raise ValueError("Done")
</code></pre>
<p>I get the following result, confirming that frames and tracebacks are a big deal in this run of Pylint:</p>
<p><a href="https://rtpg.co/files/pylint/browser-profile-1.png">
  <img src="https://rtpg.co/files/pylint/browser-profile-1.png">
</a></p>
<p>My next step is to actually look at the frame objects. Because Python is reference coutned, things are held in memory because <em>something</em> is pointing at them, so I'm going to try and find out which one.</p>
<p>The wonderful <code>objgraph</code> library takes advantage of the Python memory manager to let you look at all objects still in memory, as well as lookup references to an object.</p>
<p>It's actually very amazing that you can do this. Just have an object reference and you can find everything <em>pointing towards</em> that reference (there's some asterisks around C extensions but close enough). This is just wonderful technology for debugging, and another thing that makes Python a joy to work with, thanks to how much of CPython's internals are exposed for these kinds of tools.</p>
<p>First I struggled to find objects because <code>objgraph.by_type('types.TracebackType')</code> wasn't finding any objects, despite me having records of having half a million of them. Turns out the name to use was <code>traceback</code>. Didn't quite nail down why...</p>
<p><code>random.choice(objgraph.by_type('traceback'))</code></p>
<p>Gives me a "random traceback". <code>objgraph.show_backrefs</code> will draw a graph of objects referencing this traceback. </p>
<p>So I put an <code>import pdb; pdb.set_trace()</code> into the for loop after 100 iterations instead of just raising an exception, and I started looking at random tracebacks </p>
<pre><code>def exclude(obj):
    return 'Pdb' in str(type(obj))

def f(depth=7):
    objgraph.show_backrefs([random.choice(objgraph.by_type('traceback'))],
                            max_depth=depth,
                            filter=lambda elt: not exclude(elt))
</code></pre>
<p>Originally I was just seeing a chain of tracebacks, so I went for a depth of 100 and....</p>
<p><a href="https://rtpg.co/files/pylint/traceback-stack.png">
 <img src="https://rtpg.co/files/pylint/traceback-stack.png">
    </a>
  So a bunch of tracebacks referencing other tracebacks. Cool. So many of them were like this.</p>
<p>I ended up just trying a bunch and failing, so I went after a secondary target: the <code>frame</code> types. These also seemed suspicious to me, and whatI end up finding is something like the following:</p>
<p><a href="https://rtpg.co/files/pylint/traceback-nest.png">
 <img src="https://rtpg.co/files/pylint/traceback-nest.png">
 </a></p>
<p>So tracebacks are holding onto frames (hence some similar cardinality). It's all a big mess, but the frames were at least pointing to lines of code. And this made me realize something silly: <em>I had never bothered to actually look at the data using up so much memory</em>. I totally should have just looked at the traceback objects themselves.</p>
<p>So for this I ended up doing this in the most convoluted way possible, which is look at the addresses in the <code>objgraph</code> image dump, seeing the memory addresses, searching the web for "how do I get a Python object from its address" and ending up finding the neat trick that I had noted:</p>
<pre><code>ipdb&gt; import ctypes
ipdb&gt; ctypes.cast(0x7f187d22b880, ctypes.py_object)
py_object(&lt;traceback object at 0x7f187d22b880&gt;)
ipdb&gt; ctypes.cast(0x7f187d22b880, ctypes.py_object).value
&lt;traceback object at 0x7f187d22b880&gt;
ipdb&gt; my_tb = ctypes.cast(0x7f187d22b880, ctypes.py_object).value
ipdb&gt; traceback.print_tb(my_tb, limit=20)
</code></pre>
<p>You can just tell Python "hey look at this memory, it's definitely at least a python object" and it will work.</p>
<p>Later I realized I had references to these objects through <code>objgraph</code> and could just use that.</p>
<p>It looks like Astroid is building up tracebacks through exception handling code a bit all over the place. I feel like most "cool tricks" are gotten to by forgetting about the easy way to do something, so I won't complain too much.</p>
<p>The traceback itself had a bunch of lines going through Astroid, the AST parser backing Pylint. Progress! Astroid does seem like a program that might hold onto a lot of stuff in memory as its parsing files.</p>
<p>I look around and end up seeing the following line in <code>astroid/manager.py</code></p>
<pre><code>except Exception as ex:
    raise exceptions.AstroidImportError(
    "Loading {modname} failed with:\n{error}",
    modname=modname,
    path=found_spec.location,
) from ex
</code></pre>
<p>"Aha!" Itell myself. This is what I'm lookign for! Some sort of exception chain that would generate super long tracebacks. Plus it's file parsing so there's reccursion, etc... <code>raise thing from other_thing</code> would chain them together!</p>
<p>I remove this <code>from ex</code> and .... nothing. Memory usage is still basically the same, and the tracebacks are still here.</p>
<p>I remember that exceptions hold their local bindings in the tracebacks, so the <code>ex</code> is still accessible. It can't be garbage colleceted just yet! </p>
<p>I do a bunch of refactorings to try and remove the <code>except</code> block for the most part, at least to avoid the reference to <code>ex</code>. Again, nothing!</p>
<p>For the life of me I can't get these tracebacks to garbage collect, despite there being no references to them. At least I thought this was the remaining reference.</p>
<p>Really though, this was all a red herring. I don't know if this actually had anything to do with my memory leak, because at one point I started noticing that <strong>I had no evidence</strong> backing up this entire exception chaining theory. Just a bunch of hunches, plus half a million tracebacks. </p>
<p>I started just kind of randomly looking at tracebacks looking for any extra clues. I tried going up the chain of references by hand but was getting nowhere. </p>
<p>Then I had the revelation: these tracebacks are all stacked on top of each other, but there will be a traceback that is above all these other ones. There is a traceback that doesn't just have another traceback pointing to it! </p>
<p>the references were through the <code>tb_next</code> property, as a simple chain. So I decided to look for the tracebacks at the end of their respective chains:</p>
<p><code>bottom_tbs = [tb for tb in objgraph.by_type('traceback') if tb.tb_next is None]</code></p>
<p>There's something magical about one-lining your way through 500,000 stack traces to find the one you actually care about.</p>
<p>This led me to what I was actually looking for: the reason why Python really wanted to keep these objects around in the first place.</p>
<p><a href="https://rtpg.co/files/pylint/traceback-filecache.png">
<img src="https://rtpg.co/files/pylint/traceback-filecache.png">
</a>
We had a file cache! </p>
<p>Basically Astroid will cache the results of loading a module, so that if some part of the code asks for the same module/file again, it can just provide the previous result. It will also reproduce the errors as well, by holding onto thrown exceptions.</p>
<p>This is where I made a bit of a judgement call. Caching the "error-ness" makes sense, but for me it's not at all worth holding onto the number of tracebacks our code is generating. </p>
<p>Instead I decided to throw away the exception, store a custom <code>Error</code> class, and then just re-building exceptions when they are asked for. The details can be found over at <a href="https://github.com/PyCQA/astroid/pull/837">this PR</a>, though it's not super interesting.</p>
<p>The end result: we went from 500MB memory usage to 100MB for the codebase I was working against</p>
<p><a href="https://rtpg.co/files/pylint/bp-post-fix.png">
    <img src="https://rtpg.co/files/pylint/bp-post-fix.png">
</a>
80% improvement's not bad, if I do say so myself.</p>
<p>The PR itself, I'm not sure if it will actually …</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rtpg.co/2020/10/12/pylint-usage.html">https://rtpg.co/2020/10/12/pylint-usage.html</a></em></p>]]>
            </description>
            <link>https://rtpg.co/2020/10/12/pylint-usage.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24754397</guid>
            <pubDate>Mon, 12 Oct 2020 14:01:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Automated fractal generation based on user feedback]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24754292">thread link</a>) | @jackholt
<br/>
October 12, 2020 | https://thefractalproject.com/explore | <a href="https://web.archive.org/web/*/https://thefractalproject.com/explore">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://thefractalproject.com/explore</link>
            <guid isPermaLink="false">hacker-news-small-sites-24754292</guid>
            <pubDate>Mon, 12 Oct 2020 13:48:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exposing covert surveillance backdoors in children’s smartwatches]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24754127">thread link</a>) | @chillax
<br/>
October 12, 2020 | https://www.mnemonic.no/blog/exposing-backdoor-consumer-products | <a href="https://web.archive.org/web/*/https://www.mnemonic.no/blog/exposing-backdoor-consumer-products">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
                                




<p><em>By Harrison Sand and Erlend Leiknes, Security Researchers, mnemonic</em></p>

<h2><strong>TL;DR</strong></h2>
<p>This blog post provides a technical description of how we discovered a backdoor in a smartwatch made for children. The device is a wearable smartphone, and the backdoor enables remote and covert surveillance through wiretapping, taking pictures, and location tracking.</p>
<p>The backdoor appears to be authored by the manufacturer of the watch, the Chinese technology company Qihoo 360. The watch is re-branded and sold to European and US markets by the Norwegian firm Xplora, who claim to have sold more than 350 000 smartwatches for children globally.</p>
<p>The backdoor itself is not a vulnerability. It is a feature set developed with intent, with function names that include remote snapshot, send location and wiretap. The backdoor is activated by sending SMS commands to the watch.</p>
<p>To trigger the backdoor, knowledge of a secret encryption key is required. Our research leads us to believe that the functionality cannot be used without knowledge of the key. However, as the technical run-through will show, there are several parties with the necessary access, including Xplora and Qihoo 360.</p>
<p>Qihoo 360 and the US government have a documented history, with accusations that include foreign espionage and imposing export sanctions.</p>
<p>All technical findings have been shared with Xplora and relevant authorities prior to publication.</p>

<p><em> Update 13.10.2020: Specified that the watch communicates directly with the Qihoo 360 domain 360.cn</em></p>

<h2><strong>Background</strong></h2>
<p>Children’s smartwatches are designed to enable parents to locate, track and communicate with their children. While they may look like a smartwatch, they are in fact and marketed as a child’s first phone.</p>
<p>The exact features and functions will vary amongst providers, but the primary functions typically include:</p>
<ul>
<li>SIM card with 3G/4G connectivity, including a phone number</li>
<li>GPS for location data</li>
<li>Microphone and speaker for two-way audio communication</li>
<li>Camera for still images or video communication</li>
<li>An accompanying app for parents to locate, track and communicate with the smartwatch and child</li>
</ul>
<p>Children’s smartwatches have had a checkered past, to put it lightly. In 2017, mnemonic worked together with the Norwegian Consumer Council on <a href="https://www.mnemonic.no/news/2017/watchout/" target="_blank" rel="noopener">the #WatchOut project</a>. The study investigated the data handling and security mechanisms of four children’s smartwatches that were popular at the time. The full report can be found <a href="https://www.forbrukerradet.no/undersokelse/2017/watchout/" target="_blank" rel="noopener">here</a>.</p>
<p>The investigation in general revealed serious gaps in security across the market. The most serious finding at the time was that it was effectively possible to take control over some of the watches. Hence, an adversary could find the location of a child, or communicate directly with the child through the watch without the parent noticing.</p>
<p>The project resulted, among other things, in:</p>
<ul>
<li><a href="https://www.bbc.com/news/technology-42030109" target="_blank" rel="noopener">Germany banning the watches and asking consumers to destroy the devices.</a></li>
<li>The Norwegian Consumer Council being invited to <a href="https://www.forbrukerradet.no/side/demand-safe-iot-products-for-children/" target="_blank" rel="noopener">present suggestions at the 2018 G20 meeting</a>, aiming to improve the security in connected/IoT devices targeted at children.</li>
<li><a href="https://www.mnemonic.no/news/2019/watchout-european-commission/" target="_blank" rel="noopener">The European Commission aiming to expand the EU’s Radio Equipment Directive</a> to adopt a new regulation that includes security requirements for IoT products. The proposal directly pointed to the findings from the #WatchOut project.</li>
</ul>
<p>Amongst the four watches included in the #WatchOut study was one produced by Xplora.</p>

<h2><strong>Who is Xplora? </strong></h2>
<p>Xplora is a line of children’s smartwatches sold by the Norwegian company XPLORA Mobile AS (and XPLORA Technologies AS outside of the Nordics). Their watches are sold throughout the Nordics, UK, Spain, Germany, France and Poland, and from mid-September 2020, the United States. On their website, they claim to have sold over <a href="https://xplora.no/" target="_blank" rel="noopener">350 000 devices</a> and have <a href="https://myxplora.co.uk/" target="_blank" rel="noopener">more than 400 000 users</a>, and in <a href="https://finansavisen.no/lordag/gruender-intervju/2019/09/27/7012425/ukjent-tronder-inntar-hollywood" target="_blank" rel="noopener">an interview with a local newspaper</a> in 2019, they state that they had a turnover of over $9 million USD last year.</p>
<p>Since the #WatchOut study, Xplora is emerging as one of the leaders in their geographical markets, and expanding into new territories.</p>
<p>With this in mind, we thought it was a worthwhile endeavor to look at their updated model, the Xplora 4. In our previous assessment, our scope and focus was limited to the communication between the watch and the local servers, and the parental application. This time around decided to take a deeper look at the watch itself.</p>



<div>
        <a href="https://www.mnemonic.no/globalassets/blog-bilder/picture-1-watch-in-box.jpg?width=1600&amp;quality=60">
    <figure>
        <img src="https://www.mnemonic.no/globalassets/blog-bilder/picture-1-watch-in-box.jpg?width=790&amp;factor=2&amp;quality=60" alt="" itemprop="image">
    </figure>
        </a>
</div>
<p><em>The Xplora 4</em></p>


<h2><strong>Accessing the watch software</strong></h2>
<p>To figure out how the Xplora worked, the first thing we needed to do was gain access to its software.</p>
<p>Browsing through the menus on the watch revealed it was running Android Nougat, and that it had a Qualcomm Snapdragon Wear 2100 processor. As with any Android-based device, getting access as root is a good place to start. Root access would allow us to browse through the file system and look at the code it was running. With root, we would also be able set up a man-in-the-middle proxy and inspect its network traffic and communication.</p>
<p>Enabling root access on an Android device usually starts with modifying the file system. If we wanted to do this, a USB was going to be helpful. Though after a quick look at the USB cable that came with the Xplora, it was apparent we needed something different.</p>



<div>
        <a href="https://www.mnemonic.no/globalassets/blog-bilder/picture-2-included-cable.jpg?width=1600&amp;quality=60">
    <figure>
        <img src="https://www.mnemonic.no/globalassets/blog-bilder/picture-2-included-cable.jpg?width=790&amp;factor=2&amp;quality=60" alt="" itemprop="image">
    </figure>
        </a>
</div>
<p><em>The Xplora 4 with provided USB cable missing two pins</em></p>

<p>Some light soldering and two data lines later, we had a functioning USB cable.</p>



<div>
        <a href="https://www.mnemonic.no/globalassets/blog-bilder/picture-3-custom-cable.jpg?width=1600&amp;quality=60">
    <figure>
        <img src="https://www.mnemonic.no/globalassets/blog-bilder/picture-3-custom-cable.jpg?width=790&amp;factor=2&amp;quality=60" alt="" itemprop="image">
    </figure>
        </a>
</div>
<p><em>Modified USB cable</em></p>

<p>Qualcomm chipsets have an “EDL” mode, short for ‘emergency download’. Basically, this is a feature that allows manufacturers to flash new firmware to a device. It also conveniently allows you to download everything that is stored in the device’s flash memory. Using EDL mode we could take a snapshot of the device’s storage, inspect its contents, and make the necessary modifications to gain root.</p>
<p>We found that holding both buttons on the side of the watch forced it into Android’s fastboot mode. From there you could issue the “fastboot oem edl” command to enter EDL mode. Alternatively, there are special USB cables that can be used to accomplish the same task. A quick Google search for “edl cable” returns a number of options.</p>
<p>We used a somewhat interesting piece of software called Miracle Box that allows you to upload and download data through Qualcomm’s EDL interface.</p>



<div>
        <a href="https://www.mnemonic.no/globalassets/blog-bilder/picture-4.png?width=1600&amp;quality=60">
    <figure>
        <img src="https://www.mnemonic.no/globalassets/blog-bilder/picture-4.png?width=790&amp;factor=2&amp;quality=60" alt="" itemprop="image">
    </figure>
        </a>
</div>
<p><em>Screenshot from Miracle Box</em></p>

<p>After reading the flash storage, Miracle Box saves each partition as an individual file. These partitions can be easily modified in Linux with the standard mount utilities. Editing the build.prop file in the system partition allowed us to enable the Android Debug Bridge (ADB). It was as simple as uncommenting a configuration option left in by the watch developers:</p>
<p><code>#Set composition for USB</code><br><code>persist.sys.usb.config=diag,serial_smd,rmnet_qti_bam,adb</code></p>
<p>We uploaded the newly modified system partition, booted up the watch, and root!</p>



<div>
        <a href="https://www.mnemonic.no/globalassets/blog-bilder/picture-5.png?width=1600&amp;quality=60">
    <figure>
        <img src="https://www.mnemonic.no/globalassets/blog-bilder/picture-5.png?width=790&amp;factor=2&amp;quality=60" alt="" itemprop="image">
    </figure>
        </a>
</div>
<p><em>Command Prompt showing root access</em></p>

<h2><strong>Investigating the apps</strong></h2>
<p>The next step was to start looking through the apps installed on the watch. Listing all packages with the “pm list packages” command returned a total of 90 applications. As you would expect, most were related to the Android OS or Qualcomm.</p>
<p>However, 19 of the apps were authored by the original equipment manufacturer Qihoo 360, the earlier mentioned technology company based in China.</p>
<p>It was a bit surprising to us that none of applications on the watch appeared to be authored by Xplora &nbsp;themselves. After some light research we discovered a nearly identical watch for sale in China, sold directly by Qihoo 360.</p>



<div>
        <a href="https://www.mnemonic.no/globalassets/blog-bilder/picture-6.png?width=1600&amp;quality=60">
    <figure>
        <img src="https://www.mnemonic.no/globalassets/blog-bilder/picture-6.png?width=790&amp;factor=2&amp;quality=60" alt="" itemprop="image">
    </figure>
        </a>
</div>
<p><em>Screenshot of website selling a nearly identical watch in China</em></p>

<p>The watch sold directly from Qihoo 360 is branded as the “360 Kids Guard”. Googling this term results in pages of articles on the product dating back as far as 2013, and the watch brand is also mentioned in past Securities and Exchange Commission (SEC) filings for Qihoo 360 Technology Co Ltd.</p>
<p>A browse through the Terms of Service for the Xplora App also makes several references to a company named “360 Kids Guard Co., Ltd.”, including them being a data processor:</p>



<div>
        <a href="https://www.mnemonic.no/globalassets/blog-bilder/picture-7.png?width=1600&amp;quality=60">
    <figure>
        <img src="https://www.mnemonic.no/globalassets/blog-bilder/picture-7.png?width=790&amp;factor=2&amp;quality=60" alt="" itemprop="image">
    </figure>
        </a>
</div>
<p><a href="https://support.myxplora.com/hc/en-gb/articles/360003182654-TERMS-OF-SERVICE-XPLORA-APP" target="_blank" rel="noopener"><em>Terms of Service for the Xplora App</em></a></p>

<p>This led us to the conclusion that while Xplora had developed their own backend server infrastructure and parental companion app, the majority of the watch itself was developed by Qihoo 360.</p>

<p><em>Qihoo 360</em></p>
<p>Qihoo 360 and the US government have a documented history, with accusations that include foreign espionage and imposing export sanctions.</p>
<p>In June 2020, Qihoo 360’s Chinese and UK business entities (Qihoo 360 Technology Company and Qihoo 360 Technology Co. Ltd. respectively) were added to an export sanctions list by the US Department of Commerce, thereby placing restrictions on the companies from using exported US technology in their products. As documented in the official records from <a href="https://www.federalregister.gov/documents/2020/06/05/2020-10869/addition-of-entities-to-the-entity-list-revision-of-certain-entries-on-the-entity-list" target="_blank" rel="noopener">the Office of the Federal Register</a>, it’s not revealed exactly why they were placed on the list, but the official wording is “there is reasonable cause to believe that these entities pose a significant risk of becoming involved in activities—the procurement of commodities and technologies for military end-use in China—that are contrary to the national security interests of the United States.”</p>
<p>Meanwhile in March 2020, <a href="https://blogs.360.cn/post/APT-C-39_CIA_EN.html" target="_blank" rel="noopener">Qihoo 360 published findings accusing the CIA of an 11-year espionage campaign against several Chinese industries</a>. The report cites evidence of the CIA hacking toolset "Vault 7" that was leaked in 2017.</p>

<h2><strong>A backdoor for covert surveillance?</strong></h2>
<p>After poking around a bit, we noticed a suspicious looking package <em>APTly</em> named “Persistent Connection Service”. The application starts automatically at boot and iterates through all applications installed on the watch. As it goes through each application, it creates a list of …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.mnemonic.no/blog/exposing-backdoor-consumer-products">https://www.mnemonic.no/blog/exposing-backdoor-consumer-products</a></em></p>]]>
            </description>
            <link>https://www.mnemonic.no/blog/exposing-backdoor-consumer-products</link>
            <guid isPermaLink="false">hacker-news-small-sites-24754127</guid>
            <pubDate>Mon, 12 Oct 2020 13:29:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Giving up on wlroots-rs (2019)]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 29 (<a href="https://news.ycombinator.com/item?id=24753626">thread link</a>) | @dgellow
<br/>
October 12, 2020 | http://way-cooler.org/blog/2019/04/29/rewriting-way-cooler-in-c.html | <a href="https://web.archive.org/web/*/http://way-cooler.org/blog/2019/04/29/rewriting-way-cooler-in-c.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
      <section>
        

<p><a href="https://github.com/way-cooler/way-cooler">Way Cooler</a> is a Wayland compositor
that was written in Rust using <a href="https://github.com/Cloudef/wlc">wlc</a>. Since
<a href="https://github.com/way-cooler/way-cooler/pull/516">last April</a> I’ve been
rewriting it to use <a href="https://github.com/swaywm/wlroots">wlroots</a>. In order to do
that however I had to wrap the library so that it could be used in Rust. I
worked on <a href="https://github.com/swaywm/wlroots-rs">wlroots-rs</a> and put Way Cooler
on the back burner for a long time. After over 1,000 commits I’m giving up on it.</p>

<h2 id="problems-with-wlroots-rs-in-detail">Problems with wlroots-rs in detail</h2>

<h3 id="ownership-with-handles">Ownership with handles</h3>

<p>wlroots-rs was going to be the safe Rust wrapper for the very complicated
<a href="https://github.com/swaywm/wlroots">wlroots library</a>. wlroots implements large
parts of a Wayland compositor and provides pluggable modules that most
compositors will want.</p>

<p>The biggest problem when wrapping wlroots was defining the ownership model of
the objects that wlroots exposes. To demonstrate this I will focus on a single
resource that illustrates the problem: an output.</p>

<p>A Wayland “output” is the resource that represents a display device. Commonly
this means it handles a computer monitor. This resource could disappear at any
time in the life cycle of the application. This is easy enough to imagine: all
it takes is a yank of the display’s power cord and the monitor goes away. This
is basically the exact opposite of the Rust memory model. Rust likes to own
things and give compile-time defined borrows of that memory. This is runtime
lifetime management that must be managed in some way.</p>

<p>You cannot simply define it like so:</p>

<div><div><pre><code><span>struct</span> <span>Output</span> <span>{</span>
    <span>output_c_ptr</span><span>:</span> <span>*</span><span>mut</span> <span>wlr_output</span>
<span>}</span>

<span>impl</span> <span>Output</span> <span>{</span>
    <span>// Forward all the calls to the c pointer</span>
<span>}</span>
</code></pre></div></div>

<p>If this was done then it would be possible to leak the memory using <code>Box::leak</code>
and say that an output will live forever – even though it can’t.</p>

<p>The simplest way to achieve this safely would be to use reference counted
pointers and expose only weak pointers. Here is a (fake) example of how this
could look:</p>

<div><div><pre><code><span>// This is a _very_ simple example for clarity.</span>
<span>// wlroots-rs is not implemented like this.</span>

<span>struct</span> <span>RealOutput</span> <span>{</span>
    <span>lifeline</span><span>:</span> <span>Rc</span><span>&lt;*</span><span>mut</span> <span>wlr_output</span><span>&gt;</span>
<span>}</span>

<span>struct</span> <span>Output</span> <span>{</span>
    <span>lifeline</span><span>:</span> <span>Weak</span><span>&lt;*</span><span>mut</span> <span>wlr_output</span><span>&gt;</span>
<span>}</span>

<span>impl</span> <span>Output</span> <span>{</span>
    <span>/// Changes the mode (resolution) of an output.</span>
    <span>pub</span> <span>fn</span> <span>change_mode</span><span>(</span><span>&amp;</span><span>mut</span> <span>self</span><span>,</span> <span>mode</span><span>:</span> <span>Mode</span><span>)</span> <span>-&gt;</span> <span>Result</span><span>&lt;</span><span>(),</span> <span>()</span><span>&gt;</span> <span>{</span>
        <span>unsafe</span> <span>{</span>
            <span>let</span> <span>output_ptr</span> <span>=</span> <span>lifeline</span><span>.upgrade</span><span>()</span><span>.ok_or</span><span>(())</span><span>?</span><span>;</span>
            <span>wlr_output_change_mode</span><span>(</span><span>output_ptr</span><span>,</span> <span>mode</span><span>.into</span><span>());</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>This naive style implementation could work, however it would cause a lot of
branching code. Each call to wlroots will require a check to see if the handle
has been dropped, even though it almost certainly has not been dropped (it can
only be dropped between event callbacks, wlroots/Wayland is callback based).
This means there will be unnecessary paths (that are hopefully marked cold) that
either panic or return an error.</p>

<p>This is obviously not wanted so the next best thing is define a range where it
is safe to use the reference to the resource: i.e. we want to be able to define
a lifetime for a code block. This leads us to the <em>actual</em> design of wlroots-rs,
using handles (note that this <em>is</em> actual code):</p>

<div><div><pre><code><span>/// A non-owned reference counted handle to a resource.</span>
<span>///</span>
<span>/// The resource could be destroyed at any time, it depends on the resource.</span>
<span>///</span>
<span>/// For example an output is destroyed when its physical output is</span>
<span>/// "disconnected" on DRM. "disconnected" depends on the output (e.g. sometimes</span>
<span>/// turning it off counts as "disconnected").</span>
<span>/// However, when the backend is instead headless an output lives until it is</span>
<span>/// destroyed explicitly by the library user.</span>
<span>///</span>
<span>/// Some resources are completely controlled by the user. For example although</span>
<span>/// you refer to a `Seat` with handles it is only destroyed when you call the</span>
<span>/// special destroy method on the seat handle.</span>
<span>///</span>
<span>/// Please refer to the specific resource documentation for a description of</span>
<span>/// the lifetime particular to that resource.</span>
<span>pub</span> <span>struct</span> <span>Handle</span><span>&lt;</span><span>D</span><span>:</span> <span>Clone</span><span>,</span> <span>T</span><span>,</span> <span>W</span><span>:</span> <span>Handleable</span><span>&lt;</span><span>D</span><span>,</span> <span>T</span><span>&gt;</span> <span>+</span> <span>Sized</span><span>&gt;</span> <span>{</span>
    <span>pub</span><span>(</span><span>crate</span><span>)</span> <span>ptr</span><span>:</span> <span>NonNull</span><span>&lt;</span><span>T</span><span>&gt;</span><span>,</span>
    <span>pub</span><span>(</span><span>crate</span><span>)</span> <span>handle</span><span>:</span> <span>Weak</span><span>&lt;</span><span>Cell</span><span>&lt;</span><span>bool</span><span>&gt;&gt;</span><span>,</span>
    <span>pub</span><span>(</span><span>crate</span><span>)</span> <span>_</span><span>marker</span><span>:</span> <span>PhantomData</span><span>&lt;</span><span>W</span><span>&gt;</span><span>,</span>
    <span>pub</span><span>(</span><span>crate</span><span>)</span> <span>data</span><span>:</span> <span>Option</span><span>&lt;</span><span>D</span><span>&gt;</span>
<span>}</span>


<span>impl</span><span>&lt;</span><span>D</span><span>:</span> <span>Clone</span><span>,</span> <span>T</span><span>,</span> <span>W</span><span>:</span> <span>Handleable</span><span>&lt;</span><span>D</span><span>,</span> <span>T</span><span>&gt;&gt;</span> <span>Handle</span><span>&lt;</span><span>D</span><span>,</span> <span>T</span><span>,</span> <span>W</span><span>&gt;</span> <span>{</span>
    <span>/// Upgrades a handle to a reference to the backing object.</span>
    <span>///</span>
    <span>/// # Safety</span>
    <span>/// This returns an "owned" value when really you don't own it all.</span>
    <span>/// Depending on the type, it's possible that the resource will be freed</span>
    <span>/// once this returned value is dropped, causing a possible double free.</span>
    <span>/// Potentially it instead is just unbound, it depends on the resource.</span>
    <span>///</span>
    <span>/// Regardless, you should not use this interface. Use the `run` method.</span>
    <span>#[doc(hidden)]</span>
    <span>pub</span> <span>unsafe</span> <span>fn</span> <span>upgrade</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> <span>-&gt;</span> <span>HandleResult</span><span>&lt;</span><span>W</span><span>&gt;</span> <span>{</span>
        <span>self</span><span>.handle</span><span>.upgrade</span><span>()</span>
            <span>.ok_or</span><span>(</span><span>HandleErr</span><span>::</span><span>AlreadyDropped</span><span>)</span>
            <span>// NOTE</span>
            <span>// We drop the Rc here because having two would allow a dangling</span>
            <span>// pointer to exist!</span>
            <span>.and_then</span><span>(|</span><span>check</span><span>|</span> <span>{</span>
                <span>if</span> <span>check</span><span>.get</span><span>()</span> <span>{</span>
                    <span>return</span> <span>Err</span><span>(</span><span>HandleErr</span><span>::</span><span>AlreadyBorrowed</span><span>)</span>
                <span>}</span>
                <span>let</span> <span>wrapper_obj</span> <span>=</span> <span>W</span><span>::</span><span>from_handle</span><span>(</span><span>self</span><span>)</span><span>?</span><span>;</span>
                <span>check</span><span>.set</span><span>(</span><span>true</span><span>);</span>
                <span>Ok</span><span>(</span><span>wrapper_obj</span><span>)</span>
            <span>})</span>
    <span>}</span>

    <span>/// Run a function with a reference to the resource if its still alive.</span>
    <span>///</span>
    <span>/// Returns the result of the function, if successful.</span>
    <span>///</span>
    <span>/// # Safety</span>
    <span>/// By enforcing a rather harsh limit on the lifetime of the resource</span>
    <span>/// to a short lived scope of an anonymous function,</span>
    <span>/// this function ensures the resource does not live longer</span>
    <span>/// than it exists.</span>
    <span>///</span>
    <span>/// # Panics</span>
    <span>/// This function will panic if multiple mutable borrows are detected.</span>
    <span>/// This will happen if you call `upgrade` directly within this callback,</span>
    <span>/// or if a handle to the same resource was upgraded some where else up the</span>
    <span>/// stack.</span>
    <span>pub</span> <span>fn</span> <span>run</span><span>&lt;</span><span>F</span><span>,</span> <span>R</span><span>&gt;</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>runner</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>HandleResult</span><span>&lt;</span><span>R</span><span>&gt;</span>
    <span>where</span>
        <span>F</span><span>:</span> <span>FnOnce</span><span>(</span><span>&amp;</span><span>mut</span> <span>W</span><span>)</span> <span>-&gt;</span> <span>R</span>
    <span>{</span>
        <span>let</span> <span>mut</span> <span>wrapped_obj</span> <span>=</span> <span>unsafe</span> <span>{</span> <span>self</span><span>.upgrade</span><span>()</span><span>?</span> <span>};</span>
        <span>// We catch panics here to deal with an extreme edge case.</span>
        <span>//</span>
        <span>// If the library user catches panics from the `run` function then their</span>
        <span>// resource used flag will still be set to `true` when it should be set</span>
        <span>// to `false`.</span>
        <span>let</span> <span>res</span> <span>=</span> <span>panic</span><span>::</span><span>catch_unwind</span><span>(</span><span>panic</span><span>::</span><span>AssertUnwindSafe</span><span>(||</span> <span>runner</span><span>(</span><span>&amp;</span><span>mut</span> <span>wrapped_obj</span><span>)));</span>
        <span>if</span> <span>let</span> <span>Some</span><span>(</span><span>check</span><span>)</span> <span>=</span> <span>self</span><span>.handle</span><span>.upgrade</span><span>()</span> <span>{</span>
            <span>// Sanity check that it hasn't been tampered with. If so, we should</span>
            <span>// just panic. If we are currently</span>
            <span>// panicking this will abort.</span>
            <span>if</span> <span>!</span><span>check</span><span>.get</span><span>()</span> <span>{</span>
                <span>wlr_log!</span><span>(</span><span>WLR_ERROR</span><span>,</span> <span>"After running callback, mutable lock was false"</span><span>);</span>
                <span>panic!</span><span>(</span><span>"Lock in incorrect state!"</span><span>);</span>
            <span>}</span>
            <span>check</span><span>.set</span><span>(</span><span>false</span><span>);</span>
        <span>}</span>
        <span>match</span> <span>res</span> <span>{</span>
            <span>Ok</span><span>(</span><span>res</span><span>)</span> <span>=&gt;</span> <span>Ok</span><span>(</span><span>res</span><span>),</span>
            <span>Err</span><span>(</span><span>err</span><span>)</span> <span>=&gt;</span> <span>panic</span><span>::</span><span>resume_unwind</span><span>(</span><span>err</span><span>)</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The full implementation can be found
<a href="https://github.com/swaywm/wlroots-rs/blob/91a18bd541a6ec565d6ef78d18ee5cc6a413f684/src/utils/handle.rs">here</a>,
its far too long and complicated to paste into a blog post.</p>

<p>This code is very complicated, which isn’t what you want for the defining
abstraction of your safe library. As far as I’m aware though it is correct. It’s
also incredibly ugly to use in practice:</p>

<div><div><pre><code><span>fn</span> <span>some_wlroots_callback</span><span>(</span><span>output_handle</span><span>:</span> <span>OutputHandle</span><span>,</span>
                         <span>surface_handle</span><span>:</span> <span>SurfaceHandle</span><span>)</span> <span>{</span>
    <span>output_handle</span><span>.run</span><span>(|</span><span>output</span><span>|</span> <span>{</span>
        <span>surface_handle</span><span>.run</span><span>(|</span><span>surface</span><span>|</span> <span>{</span>
            <span>// maybe some more nested layers...</span>
        <span>})</span><span>.unwrap</span><span>()</span>
    <span>})</span><span>.unwrap</span><span>()</span>
<span>}</span>
</code></pre></div></div>

<p>To avoid this callback hell, I defined two macros to help: <a href="https://github.com/swaywm/wlroots-rs/blob/91a18bd541a6ec565d6ef78d18ee5cc6a413f684/src/macros.rs#L355">one normal
macro</a>
and a very complicated <a href="https://github.com/swaywm/wlroots-rs/blob/91a18bd541a6ec565d6ef78d18ee5cc6a413f684/wlroots-dehandle/src/lib.rs">procedural
macro</a>.
Here’s what the procedural macro looks like:</p>

<div><div><pre><code><span>// This does the same thing as the above code, but nicer.</span>
<span>#[wlroots_dehandle]</span>
<span>fn</span> <span>some_wlroots_callback</span><span>(</span><span>output_handle</span><span>:</span> <span>OutputHandle</span><span>,</span>
                         <span>surface_handle</span><span>:</span> <span>SurfaceHandle</span><span>)</span> <span>{</span>
    <span>#[dehandle]</span> <span>let</span> <span>output</span> <span>=</span> <span>output</span><span>;</span>
    <span>#[dehandle]</span> <span>let</span> <span>surface</span> <span>=</span> <span>surface_handle</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This expands out the lines to use the non-proc macro, which in turn becomes the
callback hell mess. The only problem with this scheme is now that the control
flow is all wrong:</p>

<div><div><pre><code><span>// this is actual code I had to write (simplified)</span>
<span>for</span> <span>shell</span> <span>in</span> <span>mapped_shells</span> <span>{</span>
    <span>#[dehandle]</span>
    <span>let</span> <span>surface</span> <span>=</span> <span>shell</span><span>.surface</span><span>();</span>
    <span>// If not ready to render, don't render it yet</span>
    <span>if</span> <span>!</span><span>surface</span><span>.is_mapped</span><span>()</span> <span>{</span>
        <span>// What we _want_ to write</span>
        <span>// break</span>

        <span>// What we have to write because this is actually in a callback...</span>
        <span>return</span> <span>// actually goes to the next shell in the mapped_shells...</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>So this solution “works” but it’s not great. Ultimately it’s very confusing for
users. It was too confusing for <a href="https://puri.sm/posts/end-of-year-librem-5-update/">purism to get
working</a> (this
<a href="https://www.youtube.com/watch?v=oX5yVyLbLZE">video</a> was very painful for me to
watch - the library was unusable). <a href="https://github.com/buffet/kiwmi">Kiwmi</a>
initially tried using wlroots-rs but swiftly gave up and used wlroots itself.</p>

<h3 id="the-sheer-amount-of-api-to-wrap">The sheer amount of API to wrap</h3>

<p>Currently there is 11 <strong>THOUSAND</strong> lines of Rust in wlroots-rs. <em>All</em> of this
code is just wrapper code, it doesn’t do anything but memory management. This
isn’t just repeated code either, I defined a <a href="https://github.com/swaywm/wlroots-rs/blob/91a18bd541a6ec565d6ef78d18ee5cc6a413f684/src/macros.rs#L201">very complicated and ugly
macro</a>
to try to make it easier.</p>

<p>This wrapper code doesn’t cover even half of the API surface of wlroots. It’s
exhausting writing wlroots-rs code, memory management is constantly on my mind
because that’s the whole purpose of the library. It’s a very boring problem and
it’s always at odds with usability - see the motivation for the escape from
callback hell described above.</p>

<p>To do all of this, and then go write Way Cooler, already a big undertaking, is too
much for me to commit to. When the benefit at the end of the day is just so I
don’t have to write C, that doesn’t really make it worth it. If I got this out
of the box by simply linking to the library, like I can in C++, then it would be
much more tenable.</p>

<p>I can always just use unsafe bindings to wlroots, just like I would with any
other language. However, the <em>entire point</em> of Rust is that it’s safe. Doing
that is not an option because at that point you lose the entire …</p></section></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://way-cooler.org/blog/2019/04/29/rewriting-way-cooler-in-c.html">http://way-cooler.org/blog/2019/04/29/rewriting-way-cooler-in-c.html</a></em></p>]]>
            </description>
            <link>http://way-cooler.org/blog/2019/04/29/rewriting-way-cooler-in-c.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24753626</guid>
            <pubDate>Mon, 12 Oct 2020 12:17:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft is not rebasing Windows to Linux]]>
            </title>
            <description>
<![CDATA[
Score 246 | Comments 299 (<a href="https://news.ycombinator.com/item?id=24753564">thread link</a>) | @sunbum
<br/>
October 12, 2020 | https://boxofcables.dev/no-microsoft-is-not-rebasing-windows-to-linux/ | <a href="https://web.archive.org/web/*/https://boxofcables.dev/no-microsoft-is-not-rebasing-windows-to-linux/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://boxofcables.dev/content/images/size/w300/2020/10/Screenshot-2020-10-11-184607.png 300w,
                            https://boxofcables.dev/content/images/size/w600/2020/10/Screenshot-2020-10-11-184607.png 600w,
                            https://boxofcables.dev/content/images/size/w1000/2020/10/Screenshot-2020-10-11-184607.png 1000w,
                            https://boxofcables.dev/content/images/size/w2000/2020/10/Screenshot-2020-10-11-184607.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://boxofcables.dev/content/images/size/w2000/2020/10/Screenshot-2020-10-11-184607.png" alt="No, Microsoft is not rebasing Windows to Linux">
            </figure>

            <section>
                <div>
                    <p>There have been a <a href="http://esr.ibiblio.org/?p=8764">string</a> <a href="https://www.zdnet.com/article/linux-based-windows-makes-perfect-sense/">of</a> <a href="https://www.techrepublic.com/article/could-microsoft-be-en-route-to-dumping-windows-in-favor-of-linux/?ftag=COS-05-10aaa0g&amp;taid=5f814f0d8911f90001eb9436&amp;utm_campaign=trueAnthem:+Twitter+Card&amp;utm_medium=trueAnthemCard&amp;utm_source=twitterCard">pieces</a> wondering aloud whether Microsoft is going to rebase Windows on the Linux kernel in the future.</p><p>I have a unique perspective on Microsoft's Linux involvement. I help deliver Ubuntu on Windows Subsystem for Linux in my job on the Desktop team at Canonical. I regularly talk to many Microsoft employees working on Linux and various open source projects. I also get briefings on Microsoft products and strategy as an MVP. Note though, these are my personal thoughts, and I am not sharing anything here that is not public.</p><p>I have become somewhat of an intermediary between the Microsoft and Linux communities. It is something I am glad to do. There are creative, kind, and fascinating people in both communities. Interesting things happen when the lines between them blur. Fostering cross-pollination will make computing better for everyone.</p><figure><blockquote data-width="550"><p lang="en" dir="ltr">WSL does not by default do unattended upgrades, there is no traditional init like systemd to do them in the background. You can set a Basic Task in Windows Task Scheduler to run apt update as root on login, then add an action to that task that runs apt upgrade: <a href="https://t.co/jvaJIwfaqs">pic.twitter.com/jvaJIwfaqs</a></p>— Hayden Barnes (@unixterminal) <a href="https://twitter.com/unixterminal/status/1314688641877315586?ref_src=twsrc%5Etfw">October 9, 2020</a></blockquote>

<figcaption>Using Windows Scheduler to run automated updates on Ubuntu on WSL</figcaption></figure><p>I am deeply skeptical of the notion that Microsoft is going to shift the core of the Windows operating system to the Linux kernel, for both product and engineering reasons, any time soon. Let me explain why.</p><p>First, the reasons why I think this fantasy this keeps cropping up on Slashdot and Hacker News.</p><ol><li>It is effective clickbait.</li><li>It is a long-held fantasy for open source and Linux advocates.</li><li>The role of Windows is changing in a world where the pie of operating systems powering devices is now shared with Android, iOS, macOS, Chrome OS, and Ubuntu.</li><li>The perceived plausibility of something like this is increasing, with things like Linux usage on Azure and WSL. The Overton Window has shifted.</li></ol><figure><blockquote data-width="550"><p lang="en" dir="ltr">Windows and Linux exist is an cosmic duality. Two opposing yet complimentary forces, we cannot have one without the other. Knowing how to blend the two is to conjure magic. <a href="https://t.co/Eoh22Rn4Fn">https://t.co/Eoh22Rn4Fn</a></p>— Hayden Barnes (@unixterminal) <a href="https://twitter.com/unixterminal/status/1276895377430634498?ref_src=twsrc%5Etfw">June 27, 2020</a></blockquote>

<figcaption>"Competition with Windows and macOS makes Linux a better operating system."</figcaption></figure><p>The reasons I do not think Windows will be rebasing to a Linux kernel are as followed:</p><ol><li>The NT kernel in Windows offers a degree of backward compatibility, long-term support, and driver availability that Linux is just now approaching. It would cost millions of dollars to replicate these in Linux. Microsoft has plenty of paying customers to continue supporting Windows as-is, some for decades. Windows is not a drain on Microsoft that would justify the expense of rebasing to Linux for savings, as <a href="http://esr.ibiblio.org/?p=8764">Raymond</a> has argued. <a href="https://www.arcanoae.com/">Lots</a> of <a href="https://www.oracle.com/solaris/solaris11/">profitable</a> <a href="https://vmssoftware.com/">companies</a> <a href="https://www.xinuos.com/">exist</a> solely to service existing operating systems. Even if it came down to rebasing to Linux, it could result in an undesirable kernel monoculture. Competition with Windows and macOS makes Linux a better operating system. The more desirable outcome is that open source innovation continues spreading across and between <em>all</em> operating systems. That Windows and Linux open source contributors share the best of both ecosystems.</li><li>It is unclear if the Windows user space could even be rebased from NT to the Linux kernel and maintain the compatibility that Windows is known for, specifically what enterprise clients with mission-critical applications are paying to get. Windows does not have the same strict division between kernel space and user space that Linux does. The NT kernel has about 400 documented syscalls plus about 1700 documented Win32 API calls. That would be a huge amount of re-implementation to ensure precise compatibility that Windows developers and their tools expect. It goes beyond contributing some fixes to Wine. Linux only has 313 syscalls on amd64 and, even then, part of the reason Microsoft switched from a syscall translation layer in WSL 1 to a virtualized kernel in WSL 2 is because re-implementing the dozens of non-standard ways developers had come to exploit the Linux ABI was <a href="https://github.com/microsoft/WSL/discussions/4022">a pain in the ass</a>. It is one thing to provide a NT-related compatibility layer for <a href="https://cloudblogs.microsoft.com/sqlserver/2016/12/16/sql-server-on-linux-how-introduction/">SQL Server on Linux</a>, which Microsoft owns, it is another to guarantee it for millions of other developer's applications.</li><li>Microsoft has doubled down on Windows in recent years. Microsoft has invested in usability, new features, and performance improvements for Windows 10 that have paid off. These improvements, <a href="https://www.windowscentral.com/what-are-microsoft-precision-touchpad-drivers">collaborations with OEMs</a>, and the Surface <a href="https://thejournal.com/articles/2020/01/29/traditional-pcs-seeing-resurgence-after-7-years-of-decline.aspx">helped revitalize</a> a PC market that at one point <a href="https://www.usatoday.com/story/tech/2013/03/06/apple-google-microsoft-hewlett-packard-dell-ipad-iphone-android-ios-samsung-galaxy/1946325/">looked in danger of falling</a> to iPads and Chromebooks. Microsoft has been working hard to make Windows an excellent development platform, with projects like Windows Terminal, <a href="https://github.com/microsoft/PowerToys">PowerToys</a>, Windows Subsystem for Linux, and Visual Studio 2019. The Insiders program is <a href="https://www.zdnet.com/article/microsoft-weve-got-10-million-insiders-testing-windows-10-to-keep-bugs-at-bay/">remarkably successful</a>. Windows powers most of the Surface device lineup, a key focus of Microsoft right now. Internal reorganizations in 2018 and <a href="https://www.geekwire.com/2020/microsoft-brings-windows-ux-surface-teams-together-exec-panos-panay-latest-reorg/">2020</a> show that the future of the Surface and Windows are now inextricably linked. Windows powers the Xbox and we are in a <a href="https://www.pcgamer.com/the-state-of-pc-gaming-in-2020/">resurgence</a> of mostly Windows-based PC gaming. Microsoft also has ideas for <a href="https://www.windowscentral.com/windows-10x">Windows 10X</a>, the next operating system concept following Windows 10 (that I think we will <a href="https://www.windowscentral.com/windows-10x-out-box-experienced-shown-leaked-video">get in gradual pieces</a>), with future hardware like the <a href="https://www.techradar.com/news/microsoft-confirms-its-dual-screen-surface-neo-has-been-delayed">Surface Neo</a> in mind.</li><li>Microsoft does not have to rebase to Linux to stay relevant. Microsoft is aware of a changing device landscape after losing on Windows in mobile. They recognize a more diverse set of operating systems and platforms are powering the computing devices we use, which now includes Android, Ubuntu, iOS, macOS, Alexa, Chrome OS, and not just x86 but ARM. Microsoft has shown they are able to adapt by making relevant products and services available on those other platforms while simultaneously keeping their own platform, Windows, competitive in its traditional footholds. Microsoft is now driving innovation on Android in the mobile space, not just with ported Office apps, but a home screen launcher, and now the Surface Duo. On Ubuntu, they offer their tools that would make sense for Linux workstations, such as Code, .NET, Azure tools, Teams, PowerShell, Sysinternals for Linux, and soon Edge, which comes with Microsoft's custom <a href="https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide">web dev tools</a>. Do you want to run Ubuntu on Azure? Microsoft has you covered and works closely with Canonical to make that a wonderful experience. </li></ol><p>The much more interesting question is not whether Microsoft is planning to rebase Windows to Linux, but how far Windows will go on open source. We are already seeing components like <a href="https://github.com/Microsoft/Terminal">Windows Terminal</a>, PowerToys, and other Windows <a href="https://devblogs.microsoft.com/commandline/windows-command-line-introducing-the-windows-pseudo-console-conpty/">components</a> either begin life as or go open source. The more logical and realistic goal here is a continued opening of Windows components and the <a href="https://github.com/microsoft/WinDev">Windows development</a> process, even beyond the Insiders program, in a way that benefits other operating systems.</p><p>After all, Windows has already adopted the Ubuntu release cadence, of six-month releases in April and October with set releases getting extended support. Windows 2004 and Ubuntu 20.04 landed within days of each other. I kid.</p><p>Raymond is correct in one key part of his blog. I do think the era of the desktop OS wars is ending. We are entering a new era where your high-end workstation will run multiple operating systems simultaneously, like runtimes, and not necessarily all locally. The choice will not really be Windows or Linux, it will be whether you boot Hyper-V or KVM first, and Windows and Ubuntu stacks will be tuned to run well on the other. Microsoft contributes patches to the Linux kernel to <a href="https://www.zdnet.com/article/microsoft-these-patches-aim-to-make-linux-run-as-root-partition-on-hyper-v/">run Linux well on Hyper-V</a> and tweaks Windows to <a href="https://www.theregister.com/2019/03/11/windows_10_on_kvm/">play nicely on KVM</a>.</p><p>The best parts of Ubuntu will come to Windows and the best open source parts of Windows will come to Ubuntu, thanks to an increasing trend <a href="https://boxofcables.dev/microsoft-and-open-source-an-unofficial-timeline/">towards open source across Microsoft</a>.</p><figure><blockquote data-width="550"><p lang="en" dir="ltr">Check out this sneak preview of our work on adding Linux GUI application support to WSL! <a href="https://t.co/lcx4WWwxTo">pic.twitter.com/lcx4WWwxTo</a></p>— Craig Loewen (@craigaloewen) <a href="https://twitter.com/craigaloewen/status/1308452901266751488?ref_src=twsrc%5Etfw">September 22, 2020</a></blockquote>

</figure><p>The key take-away though is that <a href="https://boxofcables.dev/microsoft-and-open-source-an-unofficial-timeline/">open source has won</a>. And Raymond can be proud of helping to <a href="http://www.catb.org/~esr/writings/cathedral-bazaar/cathedral-bazaar/index.html">articulate the case</a> for the open source development model when he did.</p><figure><iframe width="612" height="344" src="https://www.youtube.com/embed/dLZRY3uLJ4s?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><figcaption>Excerpt from 'Revolution OS'&nbsp;</figcaption></figure><p>Neither Windows nor Ubuntu are going anywhere. They are just going to keep getting better through open source. Each will play to their relative strengths. Just now with more open source collaboration than imaginable before.</p><figure><blockquote data-width="550"><p lang="en" dir="ltr">Word on Ubuntu 20.04. Very usable on an i5-6300U with just integrated graphics. It is not WINE, remote/cloud, or GNOME on WSL. It is something else I put together. Next, I plan to add working file associations. <a href="https://t.co/nGQ8USeR0m">pic.twitter.com/nGQ8USeR0m</a></p>— Hayden Barnes (@unixterminal) <a href="https://twitter.com/unixterminal/status/1255919797692440578?ref_src=twsrc%5Etfw">April 30, 2020</a></blockquote>

<figcaption><em>The work being done for GUI support on WSL has the potentially to dramatically improve the remote desktop and Windows virtualization experience on Linux.</em></figcaption></figure><p><a href="https://pastebin.ubuntu.com/p/HHR4sVFn2S/">π</a></p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://boxofcables.dev/no-microsoft-is-not-rebasing-windows-to-linux/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24753564</guid>
            <pubDate>Mon, 12 Oct 2020 12:09:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A tool that increased my typing speed]]>
            </title>
            <description>
<![CDATA[
Score 117 | Comments 146 (<a href="https://news.ycombinator.com/item?id=24753493">thread link</a>) | @chipz
<br/>
October 12, 2020 | https://vasilishynkarenka.com/how-to-type-3x-faster/ | <a href="https://web.archive.org/web/*/https://vasilishynkarenka.com/how-to-type-3x-faster/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://vasilishynkarenka.com/content/images/size/w300/2020/10/https___bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com_public_images_9d6b9df3-d665-43a4-bbd7-8cdf5910d6cb_599x409.jpeg 300w,
                            https://vasilishynkarenka.com/content/images/size/w600/2020/10/https___bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com_public_images_9d6b9df3-d665-43a4-bbd7-8cdf5910d6cb_599x409.jpeg 600w,
                            https://vasilishynkarenka.com/content/images/size/w1000/2020/10/https___bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com_public_images_9d6b9df3-d665-43a4-bbd7-8cdf5910d6cb_599x409.jpeg 1000w,
                            https://vasilishynkarenka.com/content/images/size/w2000/2020/10/https___bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com_public_images_9d6b9df3-d665-43a4-bbd7-8cdf5910d6cb_599x409.jpeg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://vasilishynkarenka.com/content/images/size/w2000/2020/10/https___bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com_public_images_9d6b9df3-d665-43a4-bbd7-8cdf5910d6cb_599x409.jpeg" alt="How to type 3x faster">
            </figure>

            <section>
                <div>
                    <p>In the last post, I’ve explained how the speed of symbol manipulation <a href="https://vasilishynkarenka.com/writing-as-a-tool-for-thought/">augments our intellect</a>. Today, I will describe an interface I’ve designed that increased my typing speed 3x, changed how I plan projects, and helped me develop a growth mindset.</p><p>Here’s what’s coming:</p><ul><li>How QWERTY was invented</li><li>Why Dvorak keyboard failed despite being more efficient</li><li>The sausage theory of innovation</li><li>How to type 3x faster</li><li>How shortcuts help to discover new knowledge, plan projects in minutes and develop a growth mindset</li><li>What comes after shortcuts</li></ul><p>You can find references at the end of the post.</p><p>I hope you’ll enjoy your reading.</p><hr><h2 id="how-qwerty-was-invented"><strong><strong>How QWERTY was invented</strong></strong></h2><p>Most people type one symbol at a time.</p><p>That’s because our keyboard is designed that way. No matter how much time you spend in the gym, weightlifting your left thumb, there’s an apparent speed limit beyond which you can’t go. You’ve only got ten fingers.</p><p>But very few people know <em>why</em> the keyboard is designed that way. And if we want to go beyond the speed of the keyboard, we need to first understand how we ended up here.</p><p>So let’s travel back in time.</p><hr><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F94fd314f-be54-46cf-9f08-759ae1975b7d_1500x1786.jpeg" alt=""></figure><p>On July 1, 1874, the first typewriter hit the market.</p><p>You’re probably now scratching the back of your head and thinking:</p><p><em>“Well, I’ve seen this keyboard somewhere..”</em></p><p>That’s right. The very first “Type-Writer,” designed by Christopher Sholes 146 years ago, used the exact same QWERTY keyboard that‘s in front of you.</p><p>Here’s how it worked.</p><p>His machine had a mechanism with characters at the end of a bar. When a key was struck, a linkage would swing the bar into a tape coated with ink. And when the character hit the tape, the impression of the character was transferred onto the paper.</p><p>The problem was that bars were colliding with each other and jamming. That’s why Christopher arranged the keys with the most common letters in hard to reach spots. He decided to slow typists down to prevent bars from jamming.</p><p>But that’s excusable. Christopher couldn’t have imagined one-third of humankind using his invention every day for hours. He lived 150 years ago when typing was not even a skill because typewriters didn’t exist.</p><p>And for the next 68 years after the “Type-Writer” hit the market, nobody cared about the speed.</p><p>But then one American professor tried to go faster.</p><h2 id="why-dvorak-keyboard-failed-despite-being-more-efficient"><strong><strong>Why Dvorak keyboard failed despite being more efficient</strong></strong></h2><p>By the 1930s, the typewriters started getting traction.</p><p>The Underwood typewriter was selling like hotcakes. They reached 5 million units sold by 1939, and that was just the beginning.</p><p>On May 12th, 1936, August Dvorak and his brother-in-law, William, submitted a patent for a better-designed keyboard that decreased typing errors, advanced typing speed, and lessened typist fatigue.</p><p>Here’s how it looked:</p><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7358b134-c94b-42d2-b51b-ceb79676f87a_1232x723.jpeg" alt=""></figure><p>Their idea was to minimize the distance traveled by the fingers. To do that, August placed all the most commonly used letters in the home row—so that your fingers don’t have to move at all to hit these keys.</p><p>August and William also improved how vowels and consonants are located. They put all the vowels to be used by the left hand and made the right hand to manipulate only consonants. This enabled at least 2x speed improvement as there are very few words in the English language that can be typed with only one hand on the Dvorak keyboard (for the curious, the two are “papaya” and “opaque”).</p><p>Below you can see how much work each of the fingers does when typing on Dvorak instead of QWERTY:</p><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9d6b9df3-d665-43a4-bbd7-8cdf5910d6cb_599x409.jpeg" alt=""></figure><p>But Dvorak’s keyboard never took off.</p><p>The timing was terrible. Amid the Great Depression, most companies didn’t have the cash to buy new typewriters. And when World War II started, many typewriter plants shut down manufacturing of all typewriters—including ones with Dvorak layouts.</p><p>But the most important reason was psychological.</p><p>Despite Dvorak-trained typists getting banned from typing contests for “unfair advantage,” the QWERTY layout got deep into people’s minds as “normal.” And as soon as something gets “normal,” we forget <em>why</em> we do the thing in the first place.</p><p>I call it the sausage theory.</p><h2 id="the-sausage-theory-of-innovation"><strong>The sausage theory of innovation</strong></h2><p>Here’s how the story goes.</p><p><em>The daughter-in-law is cooking dinner. She’s got some sausages from the local grocery store and is ready to boil them. But as soon as she takes the first one to throw it into the pot, the husband’s mom shows up.</em></p><p><em>The mother pulls the sausage from the daughter’s hands, cuts it in half, and throws into the boiling pot.</em></p><p><em>The daughter is shocked.</em></p><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc6031b-c728-43b4-892a-fd1091d1d4df_1536x954.png" alt=""></figure><p><strong>D:</strong> “Why are you doing this?”</p><p><strong>M:</strong> “Because that’s how you cook sausages right.”</p><p><strong>D:</strong> “Why so?”</p><p><strong>M:</strong> “Because if you cut them in half, they end up being soft and juicy. And my mom has been doing that all the time, and she can’t be wrong<em>.”</em></p><p><em>So the daughter goes to the grandma.</em></p><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F618d05a3-0ab6-4ff4-9369-8548ec7ddfa9_1536x732.png" alt=""></figure><p><strong>D:</strong> “Hey grandma, we were cooking some sausages last night, and mom started cutting them in half. I asked why and she said that’s because you’ve been doing that for years. What’s the point of cutting them in half??”</p><p><strong>G:</strong> “Well, dear, that’s because how you cook sausages right.”</p><p><strong>D:</strong> “Oh, really... Okay. And why is this the right way to cook them?”</p><p><strong>G:</strong> “You know, if you cut them in half, they don’t end up being dry and tough to bite. But as I remember, my mom has been doing that for decades, so I just picked it up from her. Mom can’t be wrong.”</p><p><em>To discover the ultimate why, the daughter goes to the grand-grandmother, a 103-year-old woman living hundreds of miles away from the town.</em></p><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7e7b283b-6706-4c2c-af23-ba5992384437_1536x852.png" alt=""></figure><p><strong>D:</strong> “Hey granny, we were doing sausages for dinner, and mom started cutting them in half. I’ve asked what’s the point, but she doesn’t know, and even your daughter said that she picked it up from you. WHY IN THE HELL DID YOU CUT SAUSAGES IN HALF???”</p><p><strong>GG:</strong> “Oh honey, are you still doing that? I had to cut them in half because they didn’t fit in my tiny pot…”</p><h2 id="how-to-type-3x-faster"><strong>How to type 3x faster</strong></h2><p>The first typewriter had only one symbol per key because of its mechanical nature. You couldn’t program it to type one word, a combination of words, or an entire sentence for one press of a key. It had to be universal so that everybody could type what they want.</p><p>In other words, the pot was tiny.</p><p>But 146 years later, we are still cutting sausages in half.</p><hr><p>The way to type faster is not to increase the typing speed but to rethink what typing actually is.</p><p>Here’s a demo of myself outlining this article:</p><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd09c3ea-88ce-4a89-a422-93365264a3f2_600x450.gif" alt=""></figure><p><em>If your email client doesn’t support GIF, click on the image, and it will open in your browser.</em></p><p>40 words; 23 seconds in total. I don’t know if you noticed but I actually stopped for a second to sip my coffee.</p><p>Without shortcuts, it took me 62 seconds to type the same 40 words:</p><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F774c5e6a-97b7-46a2-972b-c61c1135c0bc_600x450.gif" alt=""></figure><p>My method is built on two principles:</p><ol><li>You can’t go fast by typing one symbol at a time</li><li>Most words you type are exactly the same</li></ol><p>You can 3x your typing speed if you set up shortcuts for most frequently used words to decrease the number of symbols you have to type.</p><p>Here’s how it works on Mac OS or iOS. When you type a symbol, i.e., “rr” or “wd,” and press a space bar, the system transforms your input into “remember” or “would be” accordingly. You can set up these pairs in Settings/Keyboard/Text Replacement.</p><p>But it’s not only the speed that matters:</p><ul><li><em>Shortcuts work on your iPhone.</em> As you spend 2-4h a day with your iPhone and type at least a few times slower, it’s useful to have shortcuts to speed up your input process.</li><li><em>Shortcuts take care of apostrophes.</em> You can have a “dont” shortcut that turns into “don’t.” This removes the necessity to press the apostrophe key at all.</li><li><em>Shortcuts prevent typos.</em> Typos come from the word type, which means pressing keys one after another. When you do shortcuts, you don’t type. And if you don’t type, then you don’t have typos.</li><li><em>Shortcuts simplify blind typing.</em> Getting all eleven symbols of the word “progressive” right when staring at a screen requires deliberate practice and exceptional motor skills. But if you type two symbols, “pg,” instead of eleven, you will make fewer errors.</li><li><em>Shortcuts let you instantly look up relevant information.</em> If you have an iPad with a keyboard, you can look up stuff from Notes and other apps by pressing Cmd+Space and hitting your shortcut. Here’s how it works:</li></ul><figure><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_lossy/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe06b0035-b3f8-4979-9bc2-9aef3ace58ed_600x450.gif" alt=""></figure><ul><li><em>Shortcuts speed up your handwriting.</em> When you start using shortcuts extensively, you’ll notice that you also use them in handwriting. This happens because you remember the meaning behind the symbol. And as handwriting is even slower than typing on a 146-year-old keyboard, this yields enormous speed benefits compared to scribbling full words and sentences.</li><li><em>Shortcuts speed up your thinking.</em> Inevitably, you will start thinking in shortcuts as well. Thoughts such as “Can I TTS this OL?” (“Can I use my three three screens writing method for this essay outline?”) begin to pop up.</li></ul><p>I can speculate that after three years of using shortcuts every single day for 5-10 hours, my thought process became significantly faster. That’s not only because of smaller symbols but also because shortcuts compress knowledge. They serve as dynamic pointers to the territory in my brain where the meaning is stored.</p><p>This means that I’m climbing up the ladder of information just like a chess player does when he progresses from being an amateur to a grandmaster.</p><p>The between the two is that an amateur calculates moves of individual figures on the board, and the grandmaster can play blind chess with ten people because he operates different information units. The grandmaster thinks not only in combinations and positions but even in entire games.</p><hr><p>Here’s how to integrate shortcuts into your workflow:</p><ul><li><em>Go bottoms-up.</em> Don’t just download 300 most popular English words but make shortcuts based on your unique needs. This means,</li><li><em>Look for big words.</em> You must become the Sherlock of your own typing. Whenever you catch a big word that you type often, go ahead and set up a shortcut for it. The bigger the word, the more benefit you get. For example, you can take the word “progressive” and turn it into a “pg” shortcut. This reduces the number of symbols you need to type 5x and …</li></ul></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vasilishynkarenka.com/how-to-type-3x-faster/">https://vasilishynkarenka.com/how-to-type-3x-faster/</a></em></p>]]>
            </description>
            <link>https://vasilishynkarenka.com/how-to-type-3x-faster/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24753493</guid>
            <pubDate>Mon, 12 Oct 2020 11:56:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MIVD boss: Meet without a smartphone, risk of espionage too great]]>
            </title>
            <description>
<![CDATA[
Score 201 | Comments 119 (<a href="https://news.ycombinator.com/item?id=24753290">thread link</a>) | @jacquesm
<br/>
October 12, 2020 | https://www.nu.nl/tech/6083317/mivd-baas-vergader-zonder-smartphone-risico-op-spionage-te-groot.html | <a href="https://web.archive.org/web/*/https://www.nu.nl/tech/6083317/mivd-baas-vergader-zonder-smartphone-risico-op-spionage-te-groot.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="block-359449" data-id="block-359449" data-position="" data-type="article.body" data-sac-marker="block.article.body">
    <div>
        <div>
            <p>Jan Swillens, de directeur van de Militaire Inlichtingen- en Veiligheidsdienst (MIVD), adviseert grote organisaties niet met een smartphone of tablet op tafel te vergaderen. Het risico op spionage is dan te groot, zegt hij in een maandag verschenen interview met <a href="https://www.telegraaf.nl/nieuws/1347006281/mivd-baas-jan-swillens-prijst-tophackers-die-ons-land-veilig-houden" target="_blank"><em>De Telegraaf</em></a>.</p>

<p>"Ik denk dat geen raad van bestuur van een grote organisatie meer moet vergaderen over bedrijfsgeheimen met de smartphone of iPad op tafel", aldus Swillens.</p><p>In Nederland wordt de dreiging volgens hem onderschat. De MIVD-directeur noemt de cyberbeveiliging in Nederland nog niet goed genoeg. "Kennis wordt gestolen, vitale systemen en infrastructuur worden aangevallen en er worden pogingen gedaan om onze samenleving via desinformatie te beïnvloeden."</p><p>Swillens kan niet ingaan op recente grote zaken, waarbij werd gepoogd informatie te stelen. Ook legt hij niet uit hoe hackers organisaties via smartphones kunnen afluisteren.</p><p>In 2018 werden spionnen van de Russische inlichtingendienst op heterdaad betrapt door de MIVD. De spionnen probeerden op dat moment het wifinetwerk van de organisatie voor het verbod op chemische wapens (OPCW) binnen te dringen. De vier Russen kregen daarom dit jaar <a href="https://www.nu.nl/tech/6067694/eu-legt-vier-russen-sancties-op-voor-hackaanval-op-opcw-in-den-haag.html" target="_blank">sancties</a> opgelegd.</p>
        </div>
    </div>
</div></div>]]>
            </description>
            <link>https://www.nu.nl/tech/6083317/mivd-baas-vergader-zonder-smartphone-risico-op-spionage-te-groot.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24753290</guid>
            <pubDate>Mon, 12 Oct 2020 11:20:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using an iPhone as a Mac Webcam]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24753024">thread link</a>) | @rofrischmann
<br/>
October 12, 2020 | https://weser.io/blog/using-an-iphone-as-a-mac-webcam | <a href="https://web.archive.org/web/*/https://weser.io/blog/using-an-iphone-as-a-mac-webcam">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p><a href="https://weser.io/blog">← Back</a></p><p>12<!-- --> <!-- -->Oct<!-- -->, <!-- -->2020<!-- --> -<!-- --> <!-- -->15<!-- -->min<!-- --> read </p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/teaser.jpg"></p><p><strong>Disclaimer</strong>: This post becomes quite technical at some point where we're using developer tools such as a terminal and Xcode. We also fiddle with security mechanisms, so try it at your own risk!</p><p>If you're working from home due to Corona, chances are that you're participating in way more online meetings than you'd usually do.
I've been working remotely for almost 2 years now and the number of online meetings has grown rapidly.</p><p>While meeting online is quite effective, one can quickly miss the in-person interaction; especially when you don't have an active webcam.
I usually use a single big display to work on, so my Macbook is closed and I can't use its built-in webcam, which has a bad quality anyway.</p><p>I already considered buying an external webcam, when my friend and co-worker <a href="https://www.webcloud.se/">Daniel</a> told me about his experiments with OBS and his iPhone camera.
After some research, we found an <a href="https://joshspicer.com/quarantine-cam">article</a> by <a href="https://joshspicer.com/">Josh Spicer</a> who used <a href="https://obsproject.com/">OBS</a> and <a href="https://github.com/johnboiles/obs-mac-virtualcam">obs-mac-virtualcam</a> to utilize his old iPhone as a mac webcam.</p><p>Since the article already is a couple of months old and outdated to some degree, I decided to write my own blog post about it! We're also not enrolled in the <a href="https://developer.apple.com/programs/">Apple Developer Program</a> which lead to some extra work on our side.</p><h2>OBS Setup</h2><p>First of all, we need to setup <a href="https://obsproject.com/">OBS</a>, so we can access our phone screen. The fastest way is to <a href="https://obsproject.com/download">download the installer</a>.<br>
<!-- -->Once installed, open the app and choose the default settings.</p><p>Now, in order to see our phone screen, we need to add a <strong>Video Capture Device</strong> in the <strong>Sources</strong> Tab at the bottom.
<img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/1.jpg"></p><p>Make sure that your iPhone is connected to your Mac via USB or else it won't show up in the <strong>Device</strong> dropdown.
Select your iPhone and make sure to choose <strong>High</strong> from the <strong>Preset</strong> dropdown to ensure the best possible output quality.</p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/2.jpg"></p><p>You should now be able to see your iPhone screen inside the scene preview. Next, we want to rotate and center it so that it fills the preview.
<strong>Right-click</strong> on the source and navigate to <strong>Transform</strong>. Here we'll be able to do all kinds of manipulations.</p><p>I usually start with <strong>Fit to screen</strong> followed by <strong>Rotate 90 degrees CW</strong>.<br>
<!-- -->Then I use the cropping tools to scale my screen all the way up until it fully covers the preview box.</p><p>Note: We need to cut some pixels on both ends in order to make it fit the box.</p><p>In the end it should look something like this:</p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/3.jpg"></p><p>Don't worry about the details right away, because we'll need to adjust the screen once again anyways.</p><h3>Virtual Cam</h3><p>We can now see our phone screen in OBS, but we can't use it as a webcam just yet.<br>
<!-- -->To achieve that, we need to somehow export our video output as a virtual cam for apps to recognize it as an actual webcam.</p><p>Luckily, there's an OBS plugin called <a href="https://github.com/johnboiles/obs-mac-virtualcam">obs-mac-virtualcam</a> which does exactly that.
Jump over to the <a href="https://github.com/johnboiles/obs-mac-virtualcam/releases">Releases</a> section and download the latest <code>.pkg</code> installer.<br>
<!-- -->Once installed, you should see a <strong>Start Virtual Cam</strong> option under <strong>Tools</strong> in the OBS menubar.</p><p>Start the virtual cam and your OBS scene is now available as an external webcam!<br>
<!-- -->Let's test it: Head over to <strong>QuickTime Player</strong> and try <strong>File &gt; New Movie Recording</strong> and you should be able to select your <strong>OBS Virtual Cam</strong> right next to the <strong>"Record"</strong>-button.</p><p>If there's no <strong>OBS Virtual Cam</strong> option, something went wrong in the setup process. Maybe restart OBS or try a clean setup once again.</p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/4.jpg"></p><h2>iPhone Setup</h2><p>We can see our iPhone screen in OBS, but it's not really a good webcam quite yet.<br>
<!-- -->We could open the native camera app, to get the camera input. But, since OBS <em>just</em> mirrors the phone screen, you'll quickly find that there's a lot of distracting UI which we'd have to crop in order to get a real webcam feeling.</p><p>So, ideally we'd want a "camera" app that has little or no UI.<br>
<!-- -->There are plently of options in the App Store, but I found an app which I personally like a lot: <a href="https://apps.apple.com/us/app/shuttercast/id1510249252">ShutterCast</a>.<br>
<!-- -->It has no UI elements and we only need to crop away some padding on both ends.</p><p>Once the camera app of your choice is active, go over to OBS and manipulate the scene until it nicely fits all edges.</p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/5.jpg"></p><p>Tip: I use a <a href="https://www.amazon.de/-/en/gp/product/B06XZK9XKL">flexible camera stand</a> which is attached to my desk and sits behind my external display.<br>That way I can adjust my desk height without having to readjust the phone stand every time.</p><h2>App Support</h2><p>Alright, now we are all setup with OBS and got a nice webcam output. One might think we're already done at that point, but it turns out to be way more complicated.
Most apps won't initially support or even recognize the virtual cam and the reason is <a href="https://joshspicer.com/quarantine-cam#the-problem">Apple's security policy</a>: The operating system is not allowing any libraries not signed by the same App ID.</p><p>So what we ultimately need to do, is resigning our apps with our own certificates.</p><p><strong>Warning!</strong> Resigning applications actively disables security mechanisms that are there for a reason. I take no responsibility from here on. <strong>Try it at your own risk</strong>.</p><h3>Code Signing</h3><p>In order to be able to use the <code>codesign</code> CLI, <a href="https://developer.apple.com/Xcode/">Xcode</a> including its <strong>Command Line Tools</strong> need to be installed on your machine.</p><h4>Generating a Apple Developer certificate</h4><p>Before we're able to sign apps, we need our own Appler Developer certificate.<br>
<strong>If you have a paid Apple Developer account, you should be able to skip this part entirely.</strong></p><p>Note: This does <strong>NOT</strong> require a paid Apple Developer account.</p><p>Open Xcode and navigate to <strong>File &gt; Preferences</strong> in the menubar.<br>
<!-- -->Select the <strong>"Account"</strong> tab and follow these steps:</p><ol><li>Add your <strong>Apple ID</strong> if not already present.</li><li>Select your <strong>Personal Team</strong> in the <strong>Teams</strong> table.</li><li>Click the <strong>"Manage Certificates..."</strong> button in the bottom right corner.</li></ol><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/6.jpg"></p><p>If there's no certificate present already, go ahead and create a new <strong>Apple Development</strong> certificate.</p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/7.jpg"></p><p>Last but not least, we need to get the full title of the certificate we just created.</p><ol><li>Open the <strong>Keychain Access</strong> app and search for <strong>Apple Development</strong>.</li><li>Select the latest with type <strong>certificate</strong> and copy the full title.<br> e.g. <code>Apple Development: foo@bar.com (ABCD123)</code></li><li>Safe it or check back later since we'll need it for some specific apps.</li></ol><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/8.jpg"></p><p>Now we should be all setup to finally start signing our apps and see some results!</p><h3>Zoom</h3><p>Edit: The latest version of Zoom now officially supports third-party virtual cameras, so we shouldn't need to sign it anymore.</p><p><a href="https://zoom.us/">Zoom</a> can be signed with a single command:</p><pre><div><pre><code><p><span>sudo</span><span> codesign -dv </span><span>"/Applications/zoom.us.app"</span></p></code></pre></div></pre><p>Et voilà, we can now select our <strong>OBS Virtual Cam</strong> in the video settings!</p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/9.jpg"></p><h3>Teams</h3><p><a href="https://teams.microsoft.com/">Microsoft Teams</a> is similarly easy, although we need to sign both the actual <strong>Microsoft Teams.app</strong> as well as its <strong>Helper.app</strong> which runs in the backround.</p><pre><div><pre><code><p><span>sudo</span><span> codesign --remove-signature </span><span>"/Applications/Microsoft Teams.app"</span><span> </span></p><p><span> </span><span>sudo</span><span> codesign --remove-signature </span><span>"/Applications/Microsoft Teams.app/Contents/Frameworks/Microsoft Teams Helper.app"</span></p></code></pre></div></pre><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/10.jpg"></p><h3>Skype</h3><p>Same company, same procedure.<br>
<a href="https://www.skype.com/en/">Skype</a> also has a <strong>Helper.app</strong> which needs to be signed as well.</p><pre><div><pre><code><p><span>sudo</span><span> codesign -f -s - </span><span>"/Applications/Skype.app"</span><span> </span></p><p><span> </span><span>sudo</span><span> codesign --remove-signature </span><span>"/Applications/Skype.app/Contents/Frameworks/Skype Helper (Renderer).app"</span></p></code></pre></div></pre><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/11.jpg"></p><h3>Slack</h3><p>Trying to codesign <a href="https://slack.com/">Slack</a> the same way as the other apps above, I ran into some issues. Slack is based on <a href="https://www.electronjs.org/">Electron</a> and thus needs additional steps.<br>
<!-- -->I came across <a href="https://github.com/electron/electron-osx-sign">electron-osx-sign</a> which is a wrapper around the <code>codesign</code> CLI specifically built for signing Electron-based apps.</p><p>One can install it with <a href="https://www.npmjs.com/">npm</a> running:</p><pre><div><pre><code><p><span>npm</span><span> </span><span>install</span><span> -g electron-osx-sign</span></p></code></pre></div></pre><p>If you do not have Node.js/npm installed on your machine already, go ahead and get the <a href="https://nodejs.org/en/download/">latest version</a>.</p><p>Additionally, we'll be using a minimal <code>entitlements.xml</code> file to sign those apps.<br>
<!-- -->I created mine under <code>/Users/USERNAME/</code> or respectively <code>~</code>.</p><p>Let's create a new file <code>~/entitlements.xml</code>:</p><pre><div><pre><code><p><span>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span> </span></p><p><span> </span><span>&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span><span> </span></p><p><span> </span><span>&lt;</span><span>plist</span><span> </span><span>version</span><span>=</span><span>"</span><span>1.0</span><span>"</span><span>&gt;</span><span> </span></p><p><span> </span><span>&lt;</span><span>dict</span><span>&gt;</span><span> </span></p><p><span>    </span><span>&lt;</span><span>key</span><span>&gt;</span><span>com.apple.security.cs.disable-library-validation</span><span>&lt;/</span><span>key</span><span>&gt;</span><span> </span></p><p><span>    </span><span>&lt;</span><span>true</span><span>/&gt;</span><span> </span></p><p><span> </span><span>&lt;/</span><span>dict</span><span>&gt;</span><span> </span></p><p><span> </span><span>&lt;/</span><span>plist</span><span>&gt;</span></p></code></pre></div></pre><p>Now we can use the <code>electron-osx-sign</code> CLI to sign any Electron-based app.<br>
<!-- -->Here's where we also need that <strong>certificate title</strong> which we already got earlier.</p><pre><div><pre><code><p><span>electron-osx-sign </span><span>"/Applications/Slack.app"</span><span> </span><span>\</span><span> </span></p><p><span>--type</span><span>=</span><span>development </span><span>\</span><span> </span></p><p><span>--entitlements</span><span>=</span><span>"~/entitlements.xml"</span><span> </span><span>\</span><span> </span></p><p><span>--gatekeeper-assess</span><span>=</span><span>false </span><span>\</span><span> </span></p><p><span>--identity</span><span>=</span><span>"YOUR_CERTIFICATE_TITLE"</span></p></code></pre></div></pre><p>If you have a paid Apple Developer account, you can leave the <code>--identity</code> parameter as that should be pre-filled with your paid certificate automatically.</p><p><img src="https://weser.io/posts/using-an-iphone-as-a-mac-webcam/12.jpg"></p><h4>Other Electron-based Apps</h4><p>If you're using other Electron-based messenger tools like e.g. <a href="https://stationhq.com/">Station</a> or <a href="https://meetfranz.com/">Franz</a>, just replace the application name in the first line and you're ready to go!</p><h2>Conclusion</h2><p>With a little bit of extra work, we can now use our iPhone in every major meeting software!<br>
<!-- -->While I usually disabled my video in the past, I'm nowadays almost looking forward to my next meeting just because I enjoy the setup that much 🤷‍♂️.</p><p>If you run into trouble, please let me know via <a href="https://twitter.com/robinweser">Twitter</a> and I'll try to update the article accordingly.</p><h2>Credits</h2><p>Thanks to my wife and to my friend and co-worker <a href="https://www.webcloud.se/">Daniel</a> for reviewing this article.<br>
<!-- -->Credits to <a href="https://joshspicer.com/">Josh Spicer</a> for his <a href="https://joshspicer.com/quarantine-cam">article</a> which served as a basis for this post.</p><div><p><img src="https://weser.io/avatar.jpg"></p><div><p>Thanks for <!-- -->reading<!-- -->!</p><p>I’m Robin, Freelancer &amp; Frontend Architect from Germany.<br>Any question regarding this <!-- -->article<!-- -->? Reach out to me on<!-- --> <a href="https://twitter.com/robinweser">Twitter</a>!<br>You can also find me on<!-- --> <a href="https://github.com/robinweser">GitHub</a>.</p></div></div></div></div></div></div>]]>
            </description>
            <link>https://weser.io/blog/using-an-iphone-as-a-mac-webcam</link>
            <guid isPermaLink="false">hacker-news-small-sites-24753024</guid>
            <pubDate>Mon, 12 Oct 2020 10:24:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GPU-accelerated ODE solving in R with Julia]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24752823">thread link</a>) | @fanf2
<br/>
October 12, 2020 | http://www.stochasticlifestyle.com/gpu-accelerated-ode-solving-in-r-with-julia-the-language-of-libraries/ | <a href="https://web.archive.org/web/*/http://www.stochasticlifestyle.com/gpu-accelerated-ode-solving-in-r-with-julia-the-language-of-libraries/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-1449">
    <!--end post header-->
    <div>
                <p><a href="https://www.r-project.org/">R</a> is a widely used language for data science, but due to performance most of its underlying library are written in C, C++, or Fortran. <a href="https://julialang.org/">Julia</a> is a relative newcomer to the field which has busted out since its 1.0 to become <a href="https://spectrum.ieee.org/static/interactive-the-top-programming-languages-2020">one of the top 20 most used languages</a> due to its high performance libraries for scientific computing and machine learning. Julia's value proposition has been its high performance in high level language, known as solving the two language problem, which has allowed allowed the language to build <a href="https://juliahub.com/ui/Home">a robust, mature, and expansive package ecosystem</a>. While this has been a major strength for package developers, the fact remains that there are still large and robust communities in other high level languages like R and Python. Instead of spawning distracting language wars, we should ask the question: can Julia become a language of libraries to accelerate these other languages as well?</p>
<p>This is definitely not the first time this question was asked. The statistics libraries in Julia were developed by individuals like <a href="http://128.105.7.173/~bates/">Douglas Bates who built some of R's most widely used packages like lme4 and Matrix</a>. Doug had <a href="https://rpubs.com/dmbates/377897">written a blog post in 2018 showing how to get top notch performance in linear mixed effects model fitting via JuliaCall</a>. In 2018 the JuliaDiffEq organization had <a href="https://sciml.ai/news/2018/04/30/Jupyter/"> written a blog post demonstrating the use of DifferentialEquations.jl in R and Python (the Jupyter of Diffrential Equations)</a>. Now rebranded as <a href="https://sciml.ai/">SciML</a> for <a href="https://sciml.ai/roadmap/">Scientific Machine Learning</a>, we looked to expand our mission and bring <a href="https://arxiv.org/abs/2001.04385">automated model discovery and acceleration</a> include other languages like R and Python with Julia as the base.</p>
<p>With the release of <a href="https://cran.r-project.org/web/packages/diffeqr/index.html">diffeqr</a> v1.0, we can now demonstrate many advances in R through the connection to Julia. Specifically, I would like to use this blog post to showcase:</p>
<ol>
<li>The new direct wrapping interface of diffeqr</li>
<li>JIT compilation and symbolic analysis of ODEs and SDEs in R using Julia and <a href="https://github.com/SciML/ModelingToolkit.jl">ModelingToolkit.jl</a></li>
<li>GPU-accelerated simulations of ensembles using Julia's <a href="https://github.com/SciML/DiffEqGPU.jl">DiffEqGPU.jl</a></li>
</ol>
<p>Together we will demonstrate how models in R can be accelerated by 1000x without a user ever having to write anything but R.</p>
<h2>A Quick Note Before Continuing</h2>
<p>Before continuing on with showing all of the features, I wanted to ask for support so that we can continue developing these bridged libraries. Specifically, I would like to be able to support developers interested in providing a fully automated Julia installation and static compilation so that calling into Julia libraries is just as easy as any Rcpp library. To show support, the easiest thing to do is to star our libraries. The work of this blog post is build on <a href="https://github.com/SciML/DifferentialEquations.jl">DifferentialEquations.jl</a>, <a href="https://github.com/SciML/diffeqr">diffeqr</a>, <a href="https://github.com/SciML/ModelingToolkit.jl">ModelingToolkit.jl</a>, and <a href="https://github.com/SciML/DiffEqGPU.jl">DiffEqGPU.jl</a>. Thank you for your patience and now back to our regularly scheduled program.</p>
<h2>diffeqr v1.0: Direct wrappers for Differential Equation Solving in R</h2>
<p>First let me start with the new direct wrappers of differential equations solvers in R. In the previous iterations of diffeqr, we had relied on specifically designed high level functions, like "ode_solve", to compensate for the fact that one could not directly use Julia's original DifferentialEquations.jl interface directly from R. However, the new diffeqr v1.0 directly exposes the entirety of the Julia library in an easy to use framework.</p>
<p>To demonstrate this, let's see how to define the Lorenz ODE with diffeqr. In Julia's DifferentialEquations.jl, we would start by defining an "ODEProblem" that contains the initial condition u0, the time span, the parameters, and the f in terms of `u' = f(u,p,t)` that defines the derivative. In Julia, this would look like:</p>


<div><div><div><div><div><div><div><pre><span>using</span> DifferentialEquations
<span>function</span> lorenz<span>(</span>du,u,p,t<span>)</span>
  du<span>[</span><span>1</span><span>]</span> = p<span>[</span><span>1</span><span>]</span><span>*</span><span>(</span>u<span>[</span><span>2</span><span>]</span>-u<span>[</span><span>1</span><span>]</span><span>)</span>
  du<span>[</span><span>2</span><span>]</span> = u<span>[</span><span>1</span><span>]</span><span>*</span><span>(</span>p<span>[</span><span>2</span><span>]</span>-u<span>[</span><span>3</span><span>]</span><span>)</span> - u<span>[</span><span>2</span><span>]</span>
  du<span>[</span><span>3</span><span>]</span> = u<span>[</span><span>1</span><span>]</span><span>*</span>u<span>[</span><span>2</span><span>]</span> - p<span>[</span><span>3</span><span>]</span><span>*</span>u<span>[</span><span>3</span><span>]</span>
<span>end</span>
u0 = <span>[</span><span>1.0</span>,<span>1.0</span>,<span>1.0</span><span>]</span>
tspan = <span>(</span><span>0.0</span>,<span>100.0</span><span>)</span>
p = <span>[</span><span>10.0</span>,<span>28.0</span>,<span>8</span>/<span>3</span><span>]</span>
prob = ODEProblem<span>(</span>lorenz,u0,tspan,p<span>)</span>
sol = solve<span>(</span>prob,saveat=<span>1.0</span><span>)</span></pre></div></div></div></div></div></div></div>


<p>With the new diffeqr, diffeq_setup() is a function that does a few things:</p>
<ol>
<li>It instantiates a Julia process to utilize as its underlying compute engine</li>
<li>It first checks if the correct Julia libraries are installed and, if not, it installs them for you</li>
<li>Then it exposes all of the functions of DifferentialEquations.jl into its object</li>
</ol>
<p>What this means is that the following is the complete diffeqr v1.0 code for solving the Lorenz equation is:</p>


<div><div><div><div><div><div><div><pre>library(diffeqr)
de &lt;- diffeqr::diffeq_setup()
f &lt;- function(u,p,t) {
  du1 = p[1]*(u[2]-u[1])
  du2 = u[1]*(p[2]-u[3]) - u[2]
  du3 = u[1]*u[2] - p[3]*u[3]
  return(c(du1,du2,du3))
}
u0 &lt;- c(1.0,1.0,1.0)
tspan &lt;- c(0.0,100.0)
p &lt;- c(10.0,28.0,8/3)
prob &lt;- de$ODEProblem(f, u0, tspan, p)
sol &lt;- de$solve(prob,saveat=1.0)</pre></div></div></div></div></div></div></div>


<p>This then carries on through SDEs, DDEs, DAEs, and more. Through this direct exposing form, the whole library of DifferentialEquations.jl is at the finger tips of any R user, making it a truly cross-language platform.</p>
<p>(Note that the only caveat is that diffeq_setup requires that the user has already installed Julia and julia is included in the path. We hope that future developments can eliminate this need.)</p>
<h2>JIT compilation and symbolic analysis of ODEs and SDEs in R via ModelingToolkit.jl</h2>
<p>The reason for Julia is speed (well and other things, but here, SPEED!). Using the pure Julia library, we can solve the Lorenz equation 100 times in about 0.05 seconds:</p>


<div><div><div><div><div><div><div><pre>@<span>time</span> <span>for</span> i <span>in</span> <span>1</span>:<span>100</span> solve<span>(</span>prob,saveat=<span>1.0</span><span>)</span> <span>end</span>
<span>0.048237</span> seconds <span>(</span><span>156.80</span> k allocations: <span>6.842</span> MiB<span>)</span>
<span>0.048231</span> seconds <span>(</span><span>156.80</span> k allocations: <span>6.842</span> MiB<span>)</span>
<span>0.048659</span> seconds <span>(</span><span>156.80</span> k allocations: <span>6.842</span> MiB<span>)</span></pre></div></div></div></div></div></div></div>


<p>Using diffeqr connected version, we get:</p>


<div><div><div><div><div><div><div><pre>lorenz_solve &lt;- function (i){
  de$solve(prob,saveat=1.0)
}
&nbsp;
&gt; system.time({ lapply(1:100,lorenz_solve) })
   user  system elapsed
   6.81    0.02    6.83
&gt; system.time({ lapply(1:100,lorenz_solve) })
   user  system elapsed
   7.09    0.00    7.10
&gt; system.time({ lapply(1:100,lorenz_solve) })
   user  system elapsed
   6.78    0.00    6.79</pre></div></div></div></div></div></div></div>


<p>That's not good, that's about 100x difference! In <a href="https://www.stochasticlifestyle.com/why-numba-and-cython-are-not-substitutes-for-julia/">this blog post I described that interpreter overhead and context switching</a> are the main causes of this issue. We've also demonstrated that <a href="https://gist.github.com/ChrisRackauckas/cc6ac746e2dfd285c28e0584a2bfd320">ML accelerators like</a> <a href="https://gist.github.com/ChrisRackauckas/6a03e7b151c86b32d74b41af54d495c6">PyTorch</a> generally do not perform well in this regime since those kinds of accelerators rely on heavy array operations, unlike the scalarized nonlinear interactions seen in a lot of differential equation modeling. For this reason we cannot just slap any old JIT compiler onto the f call and then put it into the function since there would still be left over. So we need to do something a bit tricky.</p>
<p>In my <a href="https://www.youtube.com/watch?v=UNkXNZZ3hSw">JuliaCon 2020 talk, Automated Optimization and Parallelism in DifferentialEquations.jl</a> I demonstrated how <a href="https://github.com/SciML/ModelingToolkit.jl">ModelingToolkit.jl</a> can be used to trace functions and generate <a href="https://mtk.sciml.ai/dev/tutorials/auto_parallel/">highly optimized sparse and parallel code</a> for scientific computing all in an automated fashion. It turns out that JuliaCall can do a form of tracing on R functions, something that exploited to allow <a href="https://github.com/Non-Contradiction/autodiffr">autodiffr to automatically differentiate R code with Julia's AD libraries</a>. Thus it turns out that the same <a href="https://github.com/SciML/AutoOptimize.jl">modelingtoolkitization methods used in AutoOptimize.jl</a> can be used on a subset of R codes which includes a large majority of differential equation models.</p>
<p>In short, we can perform automated acceleration of R code by turning it into sparse parallel Julia code. This was exposed in diffeqr v1.0 as the `jitoptimize_ode(de,prob)` function (also `jitoptimize_sde(de,prob)`). Let's try it out on this example. All you need to do is give it the ODEProblem which you wish to accelerate. Let's take the last problem and turn it into a pure Julia defined problem and then time it:</p>


<div><div><div><div><div><div><div><pre>fastprob &lt;- diffeqr::jitoptimize_ode(de,prob)
fast_lorenz_solve &lt;- function (i){
  de$solve(fastprob,saveat=1.0)
}
&nbsp;
system.time({ lapply(1:100,fast_lorenz_solve) })
&nbsp;
&gt; system.time({ lapply(1:100,fast_lorenz_solve) })
   user  system elapsed
   0.05    0.00    0.04
&gt; system.time({ lapply(1:100,fast_lorenz_solve) })
   user  system elapsed
   0.07    0.00    0.06
&gt; system.time({ lapply(1:100,fast_lorenz_solve) })
   user  system elapsed
   0.07    0.00    0.06</pre></div></div></div></div></div></div></div>


<p>And there you go, an R user can get the full benefits of Julia's optimizing JIT compiler without having to write lick of Julia code! This function also did a few other things, like automatically defined the <a href="https://diffeq.sciml.ai/stable/tutorials/advanced_ode_example/#Automatic-Sparsity-Detection">Jacobian code to make implicit solving of stiff ODEs much faster as well</a>, and it can perform sparsity detection and automatically optimize computations on that.</p>
<p>To see how much of an advance this is, note that this Lorenz equation is the same from the <a href="http://desolve.r-forge.r-project.org/">deSolve examples page</a>. So let's take their example and see how well it performs:</p>


<div><div><div><div><div><div><div><pre>library(deSolve)
Lorenz &lt;- function(t, state, parameters) {
  with(as.list(c(state, parameters)), {
    dX &lt;-  a * X + Y * Z
    dY &lt;-  b * (Y - Z)
    dZ &lt;- -X * Y + c * Y - Z
    list(c(dX, dY, dZ))
  })
}
&nbsp;
parameters &lt;- c(a = -8/3, b = -10, c = 28)
state      &lt;- c(X = 1, Y = 1, Z = 1)
times      &lt;- seq(0, 100, by = 1.0)
out &lt;- ode(y = state, times = times, func = Lorenz, parms = parameters)
&nbsp;
desolve_lorenz_solve &lt;- function (i){
  state      &lt;- c(X = runif(1), Y = runif(1), Z = runif(1))
  parameters &lt;- c(a = -8/3 * runif(1), b = -10 * runif(1), c = 28 * runif(1))
  out &lt;- ode(y = state, times = times, func = Lorenz, parms = parameters)
}
&nbsp;
&gt; system.time({ lapply(1:100,desolve_lorenz_solve) })
   user  system elapsed
   5.03    0.03    5.07
&gt;
&gt; system.time({ lapply(1:100,desolve_lorenz_solve) })
   user  system elapsed
   5.42    0.00    5.44
&gt; system.time({ lapply(1:100,desolve_lorenz_solve) })
   user  system elapsed
   5.41    0.00    5.41</pre></div></div></div></div></div></div></div>


<p>Thus we see 100x acceleration over the leading R library without users having to write anything but R code. This is the true promise in action of a "language of libraries" helping to extend all other high level languages!</p>
<h2>What about writing C?</h2>
<p>What about writing C code and directly calling it with deSolve? It turns out that's still not as efficient as this JIT. Following <a href="https://tpetzoldt.github.io/deSolve-compiled/deSolve-compiled.html">the tutorial from deSolve on how to write an …</a></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.stochasticlifestyle.com/gpu-accelerated-ode-solving-in-r-with-julia-the-language-of-libraries/">http://www.stochasticlifestyle.com/gpu-accelerated-ode-solving-in-r-with-julia-the-language-of-libraries/</a></em></p>]]>
            </description>
            <link>http://www.stochasticlifestyle.com/gpu-accelerated-ode-solving-in-r-with-julia-the-language-of-libraries/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24752823</guid>
            <pubDate>Mon, 12 Oct 2020 09:43:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking together a USB-C charger for a cheap Chromebook]]>
            </title>
            <description>
<![CDATA[
Score 167 | Comments 64 (<a href="https://news.ycombinator.com/item?id=24752714">thread link</a>) | @laktak
<br/>
October 12, 2020 | https://blog.filippo.io/usb-c-charger-for-a-cheap-chromebook/ | <a href="https://web.archive.org/web/*/https://blog.filippo.io/usb-c-charger-for-a-cheap-chromebook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <p>The era of USB-C has come. The other day I threw all other cables into a box, and bought a set of USB-C to USB-C, Lightning, and microUSB cables. USB-C chargers around the house, USB-C PD power bank, even a nice small USB-C dock that works with the Nintendo Switch if the charger can do the right voltage. It's glorious.</p><p>Only one thing won't charge with USB-C, my awfully cheap ($190 for 4GB of RAM) Samsung Chromebook 3, a machine I use when I want the extra security of the Chrome OS platform. Instead, this laptop charges from an old-school 12V barrel connector, forcing me to carry around an extra brick. 😢</p><figure><img src="https://blog.filippo.io/content/images/2020/04/zypds----1.jpeg" alt="side view of the laptop with round charging connector"></figure><p>USB traditionally delivers 5V of power, but with the introduction of the USB Power Delivery standard, devices can negotiate higher voltages with capable power bricks. Indeed, 12V is an option, and at least a couple of my chargers support it.</p><figure><img src="https://blog.filippo.io/content/images/2020/04/zypds----3.jpeg" alt="USB charger with 12V marking amongst others"></figure><p>It should be possible to hack together a USB-C charger for my cheap Chromebook!</p><p>What we need is called a "USB-C PD trigger", a little board that negotiates a specific PD voltage with a charger. There are a few variants, including ones with a button to select the voltage, but the most common one is a tiny board with a female USB-C connector called ZYPDS.</p><p>They are so cheap that I suspect the reason the laptops don't come with them is that 1) it requires a charger that can deliver that specific voltage, and people are already confused enough by USB-C and 2) the USB-C charger side is probably more expensive.</p><p>They usually support 15V/20V (selected by soldering a bridge), and while I suspect 15V would have worked too, I found one on eBay claiming 9V/12V. It has the same model name, but a different PCB color. Perfect!</p><figure><img src="https://blog.filippo.io/content/images/2020/04/Screen-Shot-2020-04-18-at-15.39.38.png" alt="an order for a blue 9V/12V ZYPDS for $4.42"></figure><p>This thing is small enough to fit in a cable (or even in the laptop, but I wanted to keep this as uninvasive as possible) so I also got a short cable with a barrel connector, and some heat shrink tubing.</p><p>When it arrived it was already configured for 12V, and delivered more or less on the spot.</p><figure><img src="https://blog.filippo.io/content/images/2020/04/zypds----7.jpeg" alt="multimeter connected to the ZYPDS showing 12.17V"></figure><p>The only tricky thing was figuring out the polarity of the cable and the connector. I learned that the polarity of the connector is the marking on the charger that looks a little like <code>⊖--Ｃ●--⊕</code>, and commonly the outer surface of the barrel is the negative. I figured out which wire connected to the outer surface with the multimeter continuity mode.</p><figure><img src="https://blog.filippo.io/content/images/2020/04/zypds----8.jpeg" alt="multimeter connected to the barrel connector and a wire from the cable"></figure><p>A mediocre soldering job later I had a short adaptor from USB-C to a barrel connector.</p><figure><img src="https://blog.filippo.io/content/images/2020/04/zypds----9-1.jpeg" alt="ZYPDS with two wires soldered to the connector pads"></figure><p>And it successfully charges the laptop!</p><figure><img src="https://blog.filippo.io/content/images/2020/04/zypds----11.jpeg" alt="the adaptor connected to a charging laptop"></figure><p>The only snag was that the barrel connector I got wasn't a perfect fit for the laptop, so it would lose connection if not pulled downwards. Knowing the setup worked, I just cut the stock charger and used its connector instead. It was more annoying to solder because it's a concentric cable, but it works perfectly.</p><p>With the heat shrink tubing on it doesn't even look that bad, and definitely beats carrying an extra charger around! (By the way, heat shrink tubing is amazing.)</p><figure><img src="https://blog.filippo.io/content/images/2020/04/zypds----2.jpeg" alt="the adaptor charging a laptop"></figure><p>For more hacks, <a href="https://twitter.com/FiloSottile">follow me on Twitter</a>.</p>
        </section></div>]]>
            </description>
            <link>https://blog.filippo.io/usb-c-charger-for-a-cheap-chromebook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24752714</guid>
            <pubDate>Mon, 12 Oct 2020 09:20:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Overloading by Return Type in C++]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 50 (<a href="https://news.ycombinator.com/item?id=24752527">thread link</a>) | @fanf2
<br/>
October 12, 2020 | https://artificial-mind.net/blog/2020/10/10/return-type-overloading | <a href="https://web.archive.org/web/*/https://artificial-mind.net/blog/2020/10/10/return-type-overloading">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main" role="main">
    <div>

        <article>

            

            
            <figure>
            </figure>
            

            <section>
                <div>
                    <div><div><pre><code><span>// this is OK</span>
<span>std</span><span>::</span><span>string</span> <span>to_string</span><span>(</span><span>int</span> <span>i</span><span>);</span>
<span>std</span><span>::</span><span>string</span> <span>to_string</span><span>(</span><span>bool</span> <span>b</span><span>);</span>

<span>std</span><span>::</span><span>string</span> <span>si</span> <span>=</span> <span>to_string</span><span>(</span><span>0</span><span>);</span>
<span>std</span><span>::</span><span>string</span> <span>sb</span> <span>=</span> <span>to_string</span><span>(</span><span>true</span><span>);</span>

<span>// this is not OK</span>
<span>int</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span>
<span>bool</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span>

<span>int</span> <span>i</span> <span>=</span> <span>from_string</span><span>(</span><span>"7"</span><span>);</span>
<span>bool</span> <span>b</span> <span>=</span> <span>from_string</span><span>(</span><span>"false"</span><span>);</span>
</code></pre></div></div>

<p>Overloading by argument types is a pretty straightforward feature of many imperative languages.
However, most of them don’t support overloading by return types.
In particular, C++ does not.
For example, <a href="https://godbolt.org/z/ddWcE8">clang complains</a>:</p>

<div><div><pre><code><span>&lt;</span><span>source</span><span>&gt;:</span><span>4</span><span>:</span><span>6</span><span>:</span> <span>error</span><span>:</span> <span>functions</span> <span>that</span> <span>differ</span> <span>only</span> <span>in</span> <span>their</span> <span>return</span> <span>type</span> <span>cannot</span> <span>be</span> <span>overloaded</span>
<span>bool</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span>
<span>~~~~</span> <span>^</span>

<span>&lt;</span><span>source</span><span>&gt;:</span><span>3</span><span>:</span><span>5</span><span>:</span> <span>note</span><span>:</span> <span>previous</span> <span>declaration</span> <span>is</span> <span>here</span>
<span>int</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span>
<span>~~~</span> <span>^</span>
</code></pre></div></div>

<p>So… what if I told you we actually <em>can</em> overload by return type in C++?</p>

<p>…</p>

<p>By a slight misuse of user-defined conversion operators.</p>

<h2 id="a-proof-of-concept">A Proof-of-Concept</h2>

<p><a href="https://en.cppreference.com/w/cpp/language/cast_operator">Conversion operators can be user-defined</a> in C++.
They allow us to add custom implicit or explicit conversion to our types.
These conversions themselves can also be overloaded, which leads us to a simple prototype:</p>

<div><div><pre><code><span>struct</span> <span>to_string_t</span>
<span>{</span>
    <span>std</span><span>::</span><span>string_view</span> <span>s</span><span>;</span>

    <span>operator</span> <span>int</span><span>()</span> <span>const</span><span>;</span>  <span>// int  from_string(std::string_view s);</span>
    <span>operator</span> <span>bool</span><span>()</span> <span>const</span><span>;</span> <span>// bool from_string(std::string_view s);</span>
<span>};</span>

<span>int</span> <span>i</span> <span>=</span> <span>to_string_t</span><span>{</span><span>"7"</span><span>};</span>
<span>bool</span> <span>b</span> <span>=</span> <span>to_string_t</span><span>{</span><span>"true"</span><span>};</span>
</code></pre></div></div>

<p><a href="https://godbolt.org/z/f3chze">Looking at godbolt</a>, this compiles and calls the desired conversion operators.
An important point to note here is that the compiler needs to know the <em>target</em> type for the conversion.
Thus, <code>auto i = to_string_t{"7"};</code> does not work as intended.
<code>i</code> will be of type <code>to_string_t</code> and not <code>int</code>.</p>

<h2 id="packaging-and-usage">Packaging and Usage</h2>

<p>We can achieve the original goal of an overloaded function by simply returning <code>to_string_t</code>:</p>

<div><div><pre><code><span>to_string_t</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>)</span> <span>{</span> <span>return</span> <span>to_string_t</span><span>{</span><span>s</span><span>};</span> <span>}</span>

<span>int</span> <span>i</span> <span>=</span> <span>from_string</span><span>(</span><span>"7"</span><span>);</span>
<span>bool</span> <span>b</span> <span>=</span> <span>from_string</span><span>(</span><span>"true"</span><span>);</span>
</code></pre></div></div>

<p>Alternatively, one can adhere to <a href="https://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/">almost always auto</a> and write:</p>

<div><div><pre><code><span>auto</span> <span>i</span> <span>=</span> <span>int</span><span>(</span><span>from_string</span><span>(</span><span>"7"</span><span>));</span>
<span>auto</span> <span>b</span> <span>=</span> <span>bool</span><span>(</span><span>from_string</span><span>(</span><span>"true"</span><span>));</span>
</code></pre></div></div>

<p>This technique also works when calling other functions:</p>

<div><div><pre><code><span>void</span> <span>foo</span><span>(</span><span>bool</span> <span>b</span><span>,</span> <span>int</span> <span>i</span><span>);</span>

<span>foo</span><span>(</span><span>from_string</span><span>(</span><span>"false"</span><span>),</span> <span>from_string</span><span>(</span><span>"0"</span><span>));</span>
</code></pre></div></div>

<p>And even interacts properly with more complex, potentially templated objects:</p>

<div><div><pre><code><span>std</span><span>::</span><span>vector</span><span>&lt;</span><span>int</span><span>&gt;</span> <span>vec</span><span>;</span>
<span>std</span><span>::</span><span>map</span><span>&lt;</span><span>int</span><span>,</span> <span>bool</span><span>&gt;</span> <span>map</span><span>;</span>

<span>vec</span><span>.</span><span>push_back</span><span>(</span><span>from_string</span><span>(</span><span>"11"</span><span>));</span>
<span>map</span><span>[</span><span>from_string</span><span>(</span><span>"3"</span><span>)]</span> <span>=</span> <span>from_string</span><span>(</span><span>"true"</span><span>);</span>
<span>vec</span><span>.</span><span>emplace_back</span><span>(</span><span>from_string</span><span>(</span><span>"5"</span><span>));</span>
</code></pre></div></div>

<p>Note how <a href="https://en.cppreference.com/w/cpp/container/vector/emplace_back"><code>emplace_back</code> is templated</a> and internally constructs an <code>int</code> from our <code>to_string_t</code>.</p>

<p>Finally, <code>if (cond)</code> tries to convert <code>cond</code> to <code>bool</code> and thus also works:</p>

<div><div><pre><code><span>if</span> <span>(</span><span>from_string</span><span>(</span><span>"true"</span><span>))</span>
    <span>on_true</span><span>();</span>
<span>else</span>
    <span>on_false</span><span>();</span>
</code></pre></div></div>

<p>These examples can be seen in action <a href="https://godbolt.org/z/1x5de4">at godbolt</a>.</p>

<h2 id="where-it-doesnt-work">Where It Doesn’t Work</h2>

<p>While we can achieve overloading by return type in many cases using the conversion operator technique, it doesn’t always apply.
As previously mentioned, the compiler needs to know the target type to choose the proper conversion operator and will not convert unless forced to.
We already saw the simplest case where no conversion is applied:</p>

<div><div><pre><code><span>auto</span> <span>i</span> <span>=</span> <span>to_string</span><span>(</span><span>"7"</span><span>);</span>
<span>// decltype(i) is to_string_t, not int</span>
</code></pre></div></div>

<p>Another problematic case arises when paired with normal overloading that leads to ambiguities:</p>

<div><div><pre><code><span>void</span> <span>bar</span><span>(</span><span>int</span><span>);</span>
<span>void</span> <span>bar</span><span>(</span><span>bool</span><span>);</span>

<span>bar</span><span>(</span><span>from_string</span><span>(</span><span>"true"</span><span>));</span>
</code></pre></div></div>

<p>Which results in:</p>

<div><div><pre><code><span>error:</span> <span>call</span> <span>to</span> <span>'</span><span>bar</span><span>'</span> <span>is</span> <span>ambiguous</span>
<span>bar</span><span>(</span><span>from_string</span><span>(</span><span>"true"</span><span>));</span>
<span>^~~</span>
<span>&lt;</span><span>source</span><span>&gt;:</span><span>41</span><span>:</span><span>6</span><span>:</span> <span>note</span><span>:</span> <span>candidate</span> <span>function</span>
<span>void</span> <span>bar</span><span>(</span><span>int</span><span>);</span>
     <span>^</span>
<span>&lt;</span><span>source</span><span>&gt;:</span><span>42</span><span>:</span><span>6</span><span>:</span> <span>note</span><span>:</span> <span>candidate</span> <span>function</span>
<span>void</span> <span>bar</span><span>(</span><span>bool</span><span>);</span>
     <span>^</span>
</code></pre></div></div>

<p>Similarly, this means that <code>std::cout &lt;&lt; from_string("2") &lt;&lt; std::endl;</code> does not work.
(The error message for that is slightly ghastly as we have at least 16 candidate overloads.)</p>

<p>Finally, only one user-defined conversion can be applied implicitly, so the following <a href="https://godbolt.org/z/Gxq1rb">doesn’t work</a>:</p>

<div><div><pre><code><span>struct</span> <span>bar</span> 
<span>{</span>
    <span>bar</span><span>(</span><span>int</span> <span>i</span><span>);</span>
<span>};</span>

<span>void</span> <span>test_bar</span><span>(</span><span>bar</span> <span>b</span><span>);</span>

<span>test_bar</span><span>(</span><span>from_string</span><span>(</span><span>"3"</span><span>));</span>
</code></pre></div></div>

<p>The compiler only tries to directly convert <code>to_string_t</code> to <code>bar</code>:</p>

<div><div><pre><code><span>&lt;</span><span>source</span><span>&gt;:</span><span>22</span><span>:</span><span>5</span><span>:</span> <span>error</span><span>:</span> <span>no</span> <span>matching</span> <span>function</span> <span>for</span> <span>call</span> <span>to</span> <span>'</span><span>test_bar</span><span>'</span>
    <span>test_bar</span><span>(</span><span>from_string</span><span>(</span><span>"3"</span><span>));</span>
    <span>^~~~~~~~</span>
<span>&lt;</span><span>source</span><span>&gt;:</span><span>18</span><span>:</span><span>6</span><span>:</span> <span>note</span><span>:</span> <span>candidate</span> <span>function</span> <span>not</span> <span>viable</span><span>:</span> <span>no</span> <span>known</span> <span>conversion</span> <span>from</span> <span>'</span><span>to_string_t</span><span>'</span> <span>to</span> <span>'</span><span>bar</span><span>'</span> <span>for</span> <span>1s</span><span>t</span> <span>argument</span>
<span>void</span> <span>test_bar</span><span>(</span><span>bar</span> <span>b</span><span>);</span>
     <span>^</span>
</code></pre></div></div>

<p>All these cases can be resolved by explicitly adding a cast to the desired type, e.g. <code>int(to_string("10"))</code>.</p>

<h2 id="extensibility">Extensibility</h2>

<p>One important aspect of normal function overloading in C++ is the extensibility of the overload set.
Independent authors and libraries can add to the same overload set simply by providing a function with the proper name in the same namespace.
We might also add to the overload set via <a href="https://en.cppreference.com/w/cpp/language/adl">argument-dependent lookup</a>, though if this should be considered feature or bug is slightly controversial.</p>

<p>In its base form, our conversion operator approach is not extensible.
User-defined conversion functions must be member functions and we cannot add members to other classes post-hoc.
Thus, if our library defines</p>

<div><div><pre><code><span>struct</span> <span>to_string_t</span>
<span>{</span>
    <span>std</span><span>::</span><span>string_view</span> <span>s</span><span>;</span>

    <span>operator</span> <span>int</span><span>()</span> <span>const</span><span>;</span>  <span>// int  from_string(std::string_view s);</span>
    <span>operator</span> <span>bool</span><span>()</span> <span>const</span><span>;</span> <span>// bool from_string(std::string_view s);</span>
<span>};</span>
</code></pre></div></div>

<p>Then this means “overload for return types <code>int</code> and <code>bool</code>” and other libraries / files cannot add to that.</p>

<p>There is a way to fix this and add extensibility.
This will add some implementation complexity and for more specialized use cases, extensibility might not actually be desired.
However, I would argue that <code>from_string</code> should be designed with extensibility in mind.</p>

<blockquote>
  <p>Note: the rest of this section focuses more on metaprogramming and API design than the return-type overloading.
You can skip to the next section to see the final version.</p>
</blockquote>

<p>The solution here is that conversion functions can be templated.
We will use that to delegate the conversion to a template specialization, which is then properly extensible:</p>

<div><div><pre><code><span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>struct</span> <span>to_string_impl</span> 
<span>{</span>
    <span>static_assert</span><span>(</span><span>always_false</span><span>&lt;</span><span>T</span><span>&gt;</span><span>,</span> <span>"conversion to T not supported"</span><span>);</span>
<span>};</span>

<span>struct</span> <span>to_string_t</span>
<span>{</span>
    <span>std</span><span>::</span><span>string_view</span> <span>s</span><span>;</span>

    <span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
    <span>operator</span> <span>T</span><span>()</span> <span>const</span> <span>{</span> <span>return</span> <span>to_string_impl</span><span>&lt;</span><span>T</span><span>&gt;::</span><span>from_string</span><span>(</span><span>s</span><span>);</span> <span>}</span>
<span>};</span>

<span>to_string_t</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>)</span> <span>{</span> <span>return</span> <span>to_string_t</span><span>{</span><span>s</span><span>};</span> <span>}</span>
</code></pre></div></div>

<p>The conversion in <code>to_string_t</code> is now templated and always calls <code>to_string_impl&lt;T&gt;::from_string(s)</code>.
<code>to_string_impl&lt;T&gt;</code> is a class template that is specialized for all supported conversions.
Should a non-supported conversion be called, the <a href="https://artificial-mind.net/blog/2020/10/03/always-false"><code>always_false&lt;T&gt;</code> produces a nice(-ish) error message</a>.
We can now add our supported conversions via:</p>

<div><div><pre><code><span>template</span> <span>&lt;</span><span>&gt;</span>
<span>struct</span> <span>to_string_impl</span><span>&lt;</span><span>int</span><span>&gt;</span>
<span>{</span>
    <span>static</span> <span>int</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span>
<span>};</span>

<span>template</span> <span>&lt;</span><span>&gt;</span>
<span>struct</span> <span>to_string_impl</span><span>&lt;</span><span>bool</span><span>&gt;</span>
<span>{</span>
    <span>static</span> <span>bool</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span>
<span>};</span>
</code></pre></div></div>

<p>And similarly, other authors or the end user can add conversions for custom types.
Sometimes, it is useful to conditionally add conversions.
For example <code>my_range&lt;T&gt;</code> might only be supported if <code>T</code> itself supports <code>from_string</code>.
Thus, it is customary to add a second template argument to the base template:</p>

<div><div><pre><code><span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>,</span> <span>class</span> <span>=</span> <span>void</span><span>&gt;</span>
<span>struct</span> <span>to_string_impl</span> 
<span>{</span>
    <span>static_assert</span><span>(</span><span>always_false</span><span>&lt;</span><span>T</span><span>&gt;</span><span>,</span> <span>"conversion to T not supported"</span><span>);</span>
<span>};</span>
</code></pre></div></div>

<p>This enables our imaginary end user to write:</p>

<div><div><pre><code><span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>struct</span> <span>to_string_impl</span><span>&lt;</span><span>my_range</span><span>&lt;</span><span>T</span><span>&gt;</span><span>,</span> <span>std</span><span>::</span><span>enable_if_t</span><span>&lt;</span><span>has_from_string</span><span>&lt;</span><span>T</span><span>&gt;&gt;&gt;</span>
<span>{</span>
    <span>static</span> <span>my_range</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span> <span>// e.g. "[1, 2, 3]"</span>
<span>};</span>
</code></pre></div></div>

<p>The partial specialization is only “active”, if <code>T</code> itself satisfies <code>has_from_string&lt;T&gt;</code>.
(This, of course, is an example of <a href="https://en.cppreference.com/w/cpp/language/sfinae">SFINAE</a>).</p>

<p>Such a <code>has_from_string&lt;T&gt;</code> might look like this:</p>

<div><div><pre><code><span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>auto</span> <span>impl_has_from_string</span><span>(</span><span>int</span><span>)</span> <span>-&gt;</span> <span>decltype</span><span>(</span>
    <span>to_string_impl</span><span>&lt;</span><span>T</span><span>&gt;::</span><span>from_string</span><span>(</span><span>std</span><span>::</span><span>declval</span><span>&lt;</span><span>std</span><span>::</span><span>string_view</span><span>&gt;</span><span>()),</span> 
    <span>std</span><span>::</span><span>true_type</span><span>{});</span>

<span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>std</span><span>::</span><span>false_type</span> <span>impl_has_from_string</span><span>(</span><span>char</span><span>);</span>

<span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>constexpr</span> <span>bool</span> <span>has_from_string</span> <span>=</span> <span>decltype</span><span>(</span><span>impl_has_from_string</span><span>&lt;</span><span>T</span><span>&gt;</span><span>(</span><span>0</span><span>))</span><span>::</span><span>value</span><span>;</span>
</code></pre></div></div>

<p>Here, we use <a href="https://en.cppreference.com/w/cpp/language/sfinae#Expression_SFINAE">Expression SFINAE</a> to disable the first <code>impl_has_from_string</code> overload if <code>to_string_impl&lt;T&gt;::from_string</code> does not exist.
<code>impl_has_from_string</code> itself is overloaded on <code>int</code> and <code>char</code> and called via <code>impl_has_from_string&lt;T&gt;(0)</code>.
This is a cheap way to say “try the <code>int</code> overload first and if it doesn’t apply, take the <code>char</code> overload”.
However, if we try to check <code>has_from_string&lt;T&gt;</code> for some type that has no <code>from_string</code>, we trigger the <code>static_assert(always_false&lt;T&gt;);</code> in the base template.
Thus, we move the <code>static_assert</code> to <code>to_string_t::operator T()</code> (see next section).</p>

<p>Note that the templated <code>to_string_impl</code> class is not the only option.
We could also use <a href="https://arne-mertz.de/2016/10/tag-dispatch/">tag dispatch</a> or even normal overloading, e.g. by delegating to (a user-extensible) <code>void convert_to(std::string_view s, T&amp; v)</code> that is overloaded on the second parameter.</p>

<h2 id="final-version">Final Version</h2>

<p>For reference, our extensible and checkable version of return-type overloading in C++:</p>

<div><div><pre><code><span>// base template, specialize and provide a static from_string method</span>
<span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>,</span> <span>class</span> <span>=</span> <span>void</span><span>&gt;</span>
<span>struct</span> <span>to_string_impl</span> 
<span>{</span>
<span>};</span>

<span>namespace</span> <span>detail</span> <span>// hide impl detail</span>
<span>{</span>
<span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>auto</span> <span>has_from_string</span><span>(</span><span>int</span><span>)</span> <span>-&gt;</span> <span>decltype</span><span>(</span>
    <span>to_string_impl</span><span>&lt;</span><span>T</span><span>&gt;::</span><span>from_string</span><span>(</span><span>std</span><span>::</span><span>declval</span><span>&lt;</span><span>std</span><span>::</span><span>string_view</span><span>&gt;</span><span>()),</span> 
    <span>std</span><span>::</span><span>true_type</span><span>{});</span>

<span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>std</span><span>::</span><span>false_type</span> <span>has_from_string</span><span>(</span><span>char</span><span>);</span>
<span>}</span>

<span>// check if T has a from_string</span>
<span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
<span>constexpr</span> <span>bool</span> <span>has_from_string</span> <span>=</span> <span>decltype</span><span>(</span><span>detail</span><span>::</span><span>has_from_string</span><span>&lt;</span><span>T</span><span>&gt;</span><span>(</span><span>0</span><span>))</span><span>::</span><span>value</span><span>;</span>

<span>// return-type overload mechanism</span>
<span>struct</span> <span>to_string_t</span>
<span>{</span>
    <span>std</span><span>::</span><span>string_view</span> <span>s</span><span>;</span>

    <span>template</span> <span>&lt;</span><span>class</span> <span>T</span><span>&gt;</span>
    <span>operator</span> <span>T</span><span>()</span> <span>const</span> 
    <span>{</span>
        <span>static_assert</span><span>(</span><span>has_from_string</span><span>&lt;</span><span>T</span><span>&gt;</span><span>,</span> <span>"conversion to T not supported"</span><span>);</span>
        <span>return</span> <span>to_string_impl</span><span>&lt;</span><span>T</span><span>&gt;::</span><span>from_string</span><span>(</span><span>s</span><span>);</span> 
    <span>}</span>
<span>};</span>

<span>// convenience wrapper to provide a "return-type overloaded function"</span>
<span>to_string_t</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>)</span> <span>{</span> <span>return</span> <span>to_string_t</span><span>{</span><span>s</span><span>};</span> <span>}</span>
</code></pre></div></div>

<p>Anyone can register new types, optionally using SFINAE to conditionally support them:</p>

<div><div><pre><code><span>template</span> <span>&lt;</span><span>&gt;</span>
<span>struct</span> <span>to_string_impl</span><span>&lt;</span><span>int</span><span>&gt;</span>
<span>{</span>
    <span>static</span> <span>int</span> <span>from_string</span><span>(</span><span>std</span><span>::</span><span>string_view</span> <span>s</span><span>);</span>
<span>};</span>

<span>template</span> <span>&lt;</span>…</code></pre></div></div></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://artificial-mind.net/blog/2020/10/10/return-type-overloading">https://artificial-mind.net/blog/2020/10/10/return-type-overloading</a></em></p>]]>
            </description>
            <link>https://artificial-mind.net/blog/2020/10/10/return-type-overloading</link>
            <guid isPermaLink="false">hacker-news-small-sites-24752527</guid>
            <pubDate>Mon, 12 Oct 2020 08:43:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft SharePoint is being used to send spam]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24751422">thread link</a>) | @chmaynard
<br/>
October 11, 2020 | https://utcc.utoronto.ca/~cks/space/blog/spam/SharepointSpam | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/spam/SharepointSpam">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Microsoft SharePoint is being used to send spam</h2>

	<p><small>October 11, 2020</small></p>
</div><div><p>I'm paying more attention to what our mail system detects as spam
and where it's coming from than usual, so I'm getting to notice
things (or, in the alternate phrasing, being forced to notice
things). Today's thing that I noticed is that to no one's surprise,
Microsoft SharePoint is currently being used as a spam sending
vector. I say 'to no one's surprise' because it's a long standing
rule that <a href="https://utcc.utoronto.ca/~cks/space/blog/spam/FirstFreemailRule">anything that can be used to send email to random people
with any user supplied content will be exploited for spam</a> (<a href="https://utcc.utoronto.ca/~cks/space/blog/spam/GoogleAccountNotificationSpam">eg</a>).</p>

<p>The email we see is genuine SharePoint email sent from Microsoft,
DKIM signed by both sharepointonline.com and 'spoapaceop.onmicrosoft.com',
with the envelope address of no-reply@sharepointonline.com and sent
to us by outlook.com machines.  Typical headers look like:</p>

<blockquote><p>From: Katholina Keth &lt;no-reply@sharepointonline.com&gt; <br>
Subject: Katholina Keth shared "â�¤Unsatisfied women Need a  guy â�¤" with you.</p>
</blockquote>

<p>The header samples I've seen have a long list of To: addresses at
all sorts of places (not just our university subdomain or even the
university as a whole). Some messages have a Reply-To: pointing to
various addresses at a legitimate domain, which may be a signal
that the spammer has compromised a part of that organization so
that they can either hijack accounts there or register their own,
then use them to register in SharePoint.</p>

<p>(I only have access to some message headers, so I can't tell what
is in the body of the email. Hopefully Microsoft doesn't allow
SharePoint emails to include substantial amounts of user-supplied
content, so all people get is a link to where the spam is.)</p>

<p>At one level all of this is unsurprising. As a product feature,
it's attractive to let SharePoint users share their files and other
SharePoint materials with people who haven't already signed up with
SharePoint, and when you do that of course SharePoint has to tell
the target something about what is being shared. The title is an
obvious thing to include, and you have to let users change the title
of their documents. But now Microsoft has given spammers the ability
to send some amount of relatively arbitrary text to relatively
arbitrary email addresses.</p>

<p>(I would like to say 'and now Microsoft has a problem', but of
course they don't. Very few people are in a position where they can
block SharePoint email over this.)</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/spam/SharepointSpam</link>
            <guid isPermaLink="false">hacker-news-small-sites-24751422</guid>
            <pubDate>Mon, 12 Oct 2020 04:34:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Case 001 – The Stolen Szechuan Sauce]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 11 (<a href="https://news.ycombinator.com/item?id=24751122">thread link</a>) | @wglb
<br/>
October 11, 2020 | https://dfirmadness.com/the-stolen-szechuan-sauce/ | <a href="https://web.archive.org/web/*/https://dfirmadness.com/the-stolen-szechuan-sauce/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><span><span>Reading Time: </span> <span>5</span> <span>minutes</span></span></p><h2>The Case of the Stolen Szechuan Sauce</h2>
<div id="attachment_533"><p><img aria-describedby="caption-attachment-533" loading="lazy" src="https://i1.wp.com/dfirmadness.com/wp-content/uploads/2020/09/stolen-szechuan-sauce.jpg?resize=1024%2C930&amp;ssl=1" alt="The Stolen Szechuan Sauce" width="1024" height="930" srcset="https://i1.wp.com/dfirmadness.com/wp-content/uploads/2020/09/stolen-szechuan-sauce.jpg?w=1024&amp;ssl=1 1024w, https://i1.wp.com/dfirmadness.com/wp-content/uploads/2020/09/stolen-szechuan-sauce.jpg?resize=300%2C272&amp;ssl=1 300w, https://i1.wp.com/dfirmadness.com/wp-content/uploads/2020/09/stolen-szechuan-sauce.jpg?resize=768%2C698&amp;ssl=1 768w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></p><p id="caption-attachment-533">The Stolen Szechuan Sauce [image courtesy of <a href="https://www.deviantart.com/artwork-tee/art/Mulan-Szechuan-McNugget-Sauce-683650185" target="_blank" rel="noopener noreferrer">artwork-tee</a>]</p></div><p>Your bedroom door bursts open, shattering your pleasant dreams. Your mad scientist of a boss begins dragging you out of bed by the ankle. He simultaneously explains between belches that the FBI contacted him. They found his recently-developed Szechuan sauce recipe on the dark web. As you careen past the door frame you are able to grab your incident response “Go-Bag”. Inside is your trusty incident thumb drive and laptop.</p>
<p>Resources for getting started will be provided at the <em><span>bottom of the post</span></em>. <em><span>Additionally</span><span>, i</span><span>ndividual articles on working through the artifacts and solving the case will be posted in the coming weeks!</span></em> So be sure to check back soon.</p>
<h3>Purpose</h3>
<p>This lab is for learning and practicing forensics obviously! We will also be providing training for free through a series of upcoming posts on how to solve the case!</p>
<h3>Target Audience</h3>
<p>Experienced digital forensics Jedi Masters who want a fun case as well as aspiring forensics folks who want to learn and practice.</p>
<p>Teachers, Professors, Mentors, and Students are welcome to use these materials so long as credit is given to this site and its authors.</p>
<h3>Game-isms</h3>
<p>With training in mind, there are intentional (not to mention unintentional) mistakes in the data. Consequently, the timelines are sometimes compressed. For example, the time between the victim’s notification and when someone acquired the images does not make sense in the real world. Likewise, some of the adversary activities are stealthy, funny, or enable training efforts. However, the attack mirrors real-world adversary tactics, techniques, tools, and procedures. Consequently, it will support training and real-world incident preparedness.</p>
<h3>Questions to Answer / Goals</h3>
<ol>
<li>What’s the Operating System of the Server?</li>
<li>What’s the Operating System of the Desktop?</li>
<li>What was the local time of the Server?</li>
<li>Was there a breach?</li>
<li>What was the initial entry vector (how did they get in)?</li>
<li>Was malware used? If so what was it? If there was malware answer the following:
<ol>
<li>What process was malicious?</li>
<li>Identify the IP Address that delivered the payload.</li>
<li>What IP Address is the malware calling to?</li>
<li>Where is this malware on disk?</li>
<li>When did it first appear?</li>
<li>Did someone move it?</li>
<li>What were the capabilities of this malware?</li>
<li>Is this malware easily obtained?</li>
<li>Was this malware installed with persistence on any machine?
<ol>
<li>When?</li>
<li>Where?</li>
</ol>
</li>
</ol>
</li>
<li>What malicious IP Addresses were involved?
<ol>
<li>Were any IP Addresses from known adversary infrastructure?</li>
<li>Are these pieces of adversary infrastructure involved in other attacks around the time of the attack?</li>
</ol>
</li>
<li>Did the attacker access any other systems?
<ol>
<li>How?</li>
<li>When?</li>
<li>Did the attacker steal or access any data?
<ol>
<li>When?</li>
</ol>
</li>
</ol>
</li>
<li>What was the network layout of the victim network?</li>
<li>What architecture changes should be made immediately?<strong><br>
</strong></li>
<li>Did the attacker steal the Szechuan sauce? If so, what time?</li>
<li>Did the attacker steal or access any other sensitive files? If so, what times?</li>
<li>Finally, when was the last known contact with the adversary?</li>
</ol>
<h3>Advanced and Bonus Questions</h3>
<ol>
<li>What CIS Top 20 or SANS Top 20 Controls would have <em>directly </em>prevented this breach?</li>
<li>What major architecture improvement could be made that would have prevented this breach?</li>
<li>Can you identify policy improvements or controls that should be implemented to secure this environment?</li>
<li>Which users have actually logged onto the DC?</li>
<li>Which users have actually logged onto the Desktop machine?</li>
<li>What are the passwords for the users in the domain?</li>
<li>Can you recover the original file about Beth’s Secrets?
<ol>
<li>What was the original name?</li>
<li>Original Contents?</li>
</ol>
</li>
<li>Finally, what file was time stomped?</li>
</ol>
<p>The answers for the Stolen Szechuan Sauce are here. A humble recommendation: require that students produce screenshots with their names in a report explaining their findings since the answers are here.</p>
<h3>Client Interview</h3>
<p><img loading="lazy" src="https://i1.wp.com/dfirmadness.com/wp-content/uploads/2020/09/RickSanchez.jpg?resize=600%2C338&amp;ssl=1" alt="Rick Sanchez and The Stolen Szechuan Sauce" width="600" height="338" srcset="https://i1.wp.com/dfirmadness.com/wp-content/uploads/2020/09/RickSanchez.jpg?w=600&amp;ssl=1 600w, https://i1.wp.com/dfirmadness.com/wp-content/uploads/2020/09/RickSanchez.jpg?resize=300%2C169&amp;ssl=1 300w" sizes="(max-width: 600px) 100vw, 600px" data-recalc-dims="1"></p>
<p>This interview was conducted while retrieving the artifacts from the system using FTK Imager Lite and a Redline Collector.</p>
<p><strong>Where were the files in question stored?</strong></p>
<p>On the <em>bellllcchhhh</em> File Server on the Domain Controller.</p>
<p><strong>What was the Operating System version of this server?</strong></p>
<p><em>Belch</em> Whatever that idiot Jerry put on there a few years back.</p>
<p><strong>May I have a network map where the affected systems were located?</strong></p>
<p>Sure. All the systems were loc-<em>bellllch</em>-ated in 10.42 something something</p>
<p><strong>Were there any other systems or files you are concerned about?</strong></p>
<p>Yeah, certainly. Morty is ramble <em>belllch</em> rambling on about something he might have had on there. Also, there was a secret about Be<em>belllech</em> …. Beth on the server. So if you find it, and YOU TELL ANYBODY I WILL KILL YOU!</p>
<p>(The threat here matches a character from a popular cartoon character and not any real threat so stay calm).</p>

<p><strong>Note:</strong> This incident occurred at an organization located in Colorado in September. So, this places the incident at UTC -6. Keep this in mind when looking at the output of various tools.</p>

<p><strong>The questions here are not a full example of what to ask during a breach.</strong> It’s part of the training scenario as much as anything else here. It’s also a decent starting point to your investigation would be going through the questions for the exercise and trying to answer those and use them as pivots.</p>
<h3>Potential Questions You May Have</h3>
<p><strong>Why (outdated) Windows 2012?</strong></p>
<p>Its end of life isn’t until 2023 and plenty of people still use it. In fact, investigations reveal that even Windows 2008r2 shows high usage despite an End of Life date of January 2020.</p>
<p><strong>Windows 10?</strong></p>
<p>This will contrast nicely with 2012 for the Memory Forensics as it uses compressed memory. There will also be a difference in Disk Artifacts to explore between the two.</p>
<p><strong>I Don’t Know Forensics! Where do I start?</strong></p>
<p>That’s specifically the point of this training set! We will teach you how to approach this investigation, how to set-up your environment, analyze artifacts, and then to generate a great report!</p>
<h3>The Artifacts</h3>
<p>Separate posts will start appearing soon on how to approach these artifacts, and how to answer the questions above.</p>
<h4>Estimated Difficulty Levels:</h4>
<p><strong>Nightmare</strong> – Disk Image Only</p>
<p><strong>Ultra-Violence</strong> – Disk and Memory</p>
<p><strong>Hurt Me Plenty</strong> – Disk, Memory, and Autoruns</p>
<p><strong>I’m Too Young to Die</strong> – Disk, Memory, Autoruns, and PCAPS.</p>
<p>Also, for a fun twist, try and solve as much of the case as you can without the artifacts from the Desktop.</p>
<hr>
<p><strong>To get the E01’s you may need to use Firefox in a Private Window, hit the back button, select the file, and hit Download.</strong></p>
<p>However, if you are worried about storage and bandwidth ditch the <code>protected files</code> and the <code>pagefiles</code> for now.</p>
<hr>
<p>DC01 <a href="https://dfirmadness.com/case001/DC01-E01.zip">Disk Image (EO1)</a></p>
<p>DC01 <a href="https://dfirmadness.com/case001/DC01-memory.zip">Memory</a> and <a href="https://dfirmadness.com/case001/DC01-pagefile.zip">PageFile</a></p>
<p>DC01 <a href="https://dfirmadness.com/case001/DC01-autorunsc.zip"><span>Autoruns</span></a></p>
<p>DC01 <a href="https://dfirmadness.com/case001/DC01-ProtectedFiles.zip"><span>Protected Files</span></a></p>
<p>Case001 <a href="https://dfirmadness.com/case001/case001-pcap.zip"><span>PCAP</span></a></p>
<p>Desktop <a href="https://dfirmadness.com/case001/DESKTOP-E01.zip">Disk Image (E01)</a></p>
<p>Desktop <a href="https://dfirmadness.com/case001/DESKTOP-SDN1RPT-memory.zip">Memory</a> and <a href="https://dfirmadness.com/case001/Desktop-SDN1RPT-pagefile.zip"><span>PageFile</span></a></p>
<p>Desktop <a href="https://dfirmadness.com/case001/DESKTOP-SDN1RPT-autorunsc.zip"><span>Autoruns</span></a></p>
<p>Desktop <a href="https://dfirmadness.com/case001/DESKTOP-SDN1RPT-Protected%20Files.zip"><span>Protected Files</span></a></p>
<p>To verify file integrity in Windows Powershell, from the Download Dir: Get-FileHash -Algorithm md5 *</p>
<p>To verify file integrity in Linux, from the Download Dir: md5sum *</p>
<p>MD5 422046B753CF8A4DF49D2C4CE892DB16&nbsp;&nbsp;&nbsp; case001-pcap.zip<br>
MD5 964F2D710687D170C77C94947DA29E66&nbsp;&nbsp;&nbsp; DC01-autorunsc.zip<br>
MD5 E57FC636E833C5F1AB58DFACE873BBDE&nbsp;&nbsp;&nbsp;&nbsp; DC01-E01.zip<br>
MD5 64A4E2CB47138084A5C2878066B2D7B1 &nbsp;&nbsp; DC01-memory.zip<br>
MD5 964EEAF0009D08CC101DE4A83A4E5D23&nbsp;&nbsp;&nbsp; DC01-pagefile.zip<br>
MD5 AD29830A583EFE49C8C1C35FAFFD264F&nbsp;&nbsp;&nbsp; DC01-ProtectedFiles.zip<br>
MD5 71C5C3509331F472ABCDF81EB6EFFF07&nbsp;&nbsp;&nbsp;&nbsp; DESKTOP-E01.zip<br>
MD5 3627DCAFA54E1365489A4EC0CC3D6A1C&nbsp;&nbsp; DESKTOP-SDN1RPT-autrunsc.zip<br>
MD5 CF31E2635C77811AAA1BB04A92A721E2&nbsp;&nbsp;&nbsp; DESKTOP-SDN1RPT-memory.zip<br>
MD5 45C096F2688A0B5DE0346FB72391B245&nbsp;&nbsp;&nbsp; Desktop-SDN1RPT-pagefile.zip<br>
MD5 3E1A358D50003A9351AC2160AE6F0495&nbsp;&nbsp;&nbsp; DESKTOP-SDN1RPT-Protected Files.zip</p>
<hr>
<h3>Choose Your Next Move</h3>
<p><a href="https://dfirmadness.com/case-001-memory-analysis/" target="_blank" rel="noopener noreferrer">Learn how to look at the memory!</a></p>
<p>How to look at the autoruns!</p>
<p>Show me how to look at the PCAP!</p>
<p>I want to learn how to look at the Disks!</p>
<p><a href="https://dfirmadness.com/answers-to-szechuan-case-001/" target="_blank" rel="noopener noreferrer">Give me the answers!</a></p>
<h3>That’s The Case of the Stolen Szechuan Sauce, in conclusion, please feel free to leave your thoughts in the comments.</h3>
                <div>
                    
                                        
        <div>

                <p><a href="https://dfirmadness.com/author/smithsjames/"><img alt="" src="https://secure.gravatar.com/avatar/7cdd754f0eabaed51cf5b298c8e0f5bb?s=150&amp;r=pg" srcset="https://secure.gravatar.com/avatar/7cdd754f0eabaed51cf5b298c8e0f5bb?s=300&amp;r=pg 2x" height="150" width="150" loading="lazy"></a>
                </p>
                
        </div>

                                            </div>
                
                              

        </div></div>]]>
            </description>
            <link>https://dfirmadness.com/the-stolen-szechuan-sauce/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24751122</guid>
            <pubDate>Mon, 12 Oct 2020 03:24:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PySDR: A Guide to SDR and DSP Using Python]]>
            </title>
            <description>
<![CDATA[
Score 194 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24750588">thread link</a>) | @sohkamyung
<br/>
October 11, 2020 | https://pysdr.org/index.html | <a href="https://web.archive.org/web/*/https://pysdr.org/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  <div>
    
      <div role="navigation" aria-label="main navigation">
        <div>
<p>
  <a href="#">
    <img src="https://pysdr.org/_static/logo.svg" alt="Logo">
    
    </a></p>



<p>By <a href="https://www.cs.umd.edu/people/sdr">Dr. Marc Lichtman</a></p>






<h3>Navigation</h3>
<ul>
<li><a href="https://pysdr.org/content/intro.html">1. Introduction</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html">2. Frequency Domain</a></li>
<li><a href="https://pysdr.org/content/sampling.html">3. IQ Sampling</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html">4. Digital Modulation</a></li>
<li><a href="https://pysdr.org/content/pluto_intro.html">5. PlutoSDR Basics</a></li>
<li><a href="https://pysdr.org/content/pluto_advanced.html">6. PlutoSDR Advanced Topics</a></li>
<li><a href="https://pysdr.org/content/noise.html">7. Noise and dB</a></li>
<li><a href="https://pysdr.org/content/filters.html">8. Filters</a></li>
<li><a href="https://pysdr.org/content/link_budgets.html">9. Link Budgets</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html">10. Channel Coding</a></li>
<li><a href="https://pysdr.org/content/iq_files.html">11. IQ Files</a></li>
<li><a href="https://pysdr.org/content/multipath_fading.html">12. Multipath Fading</a></li>
<li><a href="https://pysdr.org/content/pulse_shaping.html">13. Pulse Shaping</a></li>
<li><a href="https://pysdr.org/content/sync.html">14. Synchronization</a></li>
<li><a href="https://pysdr.org/content/appendix_text_comparison.html">15. Textbook Comparison</a></li>
<li><a href="https://pysdr.org/content/about_author.html">16. About the Author</a></li>
</ul>


<hr>
<ul>
    
    <li><a href="https://repl.it/languages/python3">Online Python Console</a></li>
    
</ul>
<div>
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="https://pysdr.org/content/intro.html" title="next chapter"><span>1. </span>Introduction</a></li>
  </ul></li>
</ul>
</div>


        </div>
      </div>
      <div>
        <div>
              <div>
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          <a href="https://pysdr.org/content/intro.html" title="Next document"><span>1. </span>Introduction</a>
          →
        </li>
    </ul>
  </nav>
              </div>
          

          <div role="main">
            
  <div id="pysdr-a-guide-to-sdr-and-dsp-using-python">

<p>by <a href="https://www.cs.umd.edu/people/sdr/" rel="noopener noreferrer" target="_blank">Dr. Marc Lichtman</a></p>
<div>
<ul>
<li><a href="https://pysdr.org/content/intro.html">1. Introduction</a><ul>
<li><a href="https://pysdr.org/content/intro.html#purpose-and-target-audience">Purpose and Target Audience</a></li>
<li><a href="https://pysdr.org/content/intro.html#contributing">Contributing</a></li>
<li><a href="https://pysdr.org/content/intro.html#acknowledgements">Acknowledgements</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/frequency_domain.html">2. Frequency Domain</a><ul>
<li><a href="https://pysdr.org/content/frequency_domain.html#fourier-series">Fourier Series</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#time-frequency-pairs">Time-Frequency Pairs</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#fourier-transform">Fourier Transform</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#time-frequency-properties">Time-Frequency Properties</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#fast-fourier-transform-fft">Fast Fourier Transform (FFT)</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#negative-frequencies">Negative Frequencies</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#order-in-time-doesn-t-matter">Order in Time Doesn’t Matter</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#fft-in-python">FFT in Python</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#windowing">Windowing</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#fft-sizing">FFT Sizing</a></li>
<li><a href="https://pysdr.org/content/frequency_domain.html#spectrogram-waterfall">Spectrogram/Waterfall</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/sampling.html">3. IQ Sampling</a><ul>
<li><a href="https://pysdr.org/content/sampling.html#sampling-basics">Sampling Basics</a></li>
<li><a href="https://pysdr.org/content/sampling.html#nyquist-sampling">Nyquist Sampling</a></li>
<li><a href="https://pysdr.org/content/sampling.html#quadrature-sampling">Quadrature Sampling</a></li>
<li><a href="https://pysdr.org/content/sampling.html#complex-numbers">Complex Numbers</a></li>
<li><a href="https://pysdr.org/content/sampling.html#receiver-side">Receiver Side</a></li>
<li><a href="https://pysdr.org/content/sampling.html#receiver-architectures">Receiver Architectures</a></li>
<li><a href="https://pysdr.org/content/sampling.html#carrier-and-downconversion">Carrier and Downconversion</a></li>
<li><a href="https://pysdr.org/content/sampling.html#baseband">Baseband</a></li>
<li><a href="https://pysdr.org/content/sampling.html#dc-spike-and-offset-tuning">DC Spike and Offset Tuning</a></li>
<li><a href="https://pysdr.org/content/sampling.html#sampling-using-the-plutosdr">Sampling Using the PlutoSDR</a></li>
<li><a href="https://pysdr.org/content/sampling.html#calculating-average-power">Calculating Average Power</a></li>
<li><a href="https://pysdr.org/content/sampling.html#calculating-power-spectral-density">Calculating Power Spectral Density</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/digital_modulation.html">4. Digital Modulation</a><ul>
<li><a href="https://pysdr.org/content/digital_modulation.html#symbols">Symbols</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html#wireless-symbols">Wireless Symbols</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html#amplitude-shift-keying-ask">Amplitude Shift Keying (ASK)</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html#phase-shift-keying-psk">Phase Shift Keying (PSK)</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html#iq-plots-constellations">IQ Plots/Constellations</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html#quadrature-amplitude-modulation-qam">Quadrature Amplitude Modulation (QAM)</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html#frequency-shift-keying-fsk">Frequency Shift Keying (FSK)</a></li>
<li><a href="https://pysdr.org/content/digital_modulation.html#python-example">Python Example</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/pluto_intro.html">5. PlutoSDR Basics</a><ul>
<li><a href="https://pysdr.org/content/pluto_intro.html#software-drivers-install">Software/Drivers Install</a></li>
<li><a href="https://pysdr.org/content/pluto_intro.html#python-exercises">Python Exercises</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/pluto_advanced.html">6. PlutoSDR Advanced Topics</a><ul>
<li><a href="https://pysdr.org/content/pluto_advanced.html#automatic-gain-control">Automatic Gain Control</a></li>
<li><a href="https://pysdr.org/content/pluto_advanced.html#transmitting-over-the-air-legally">Transmitting Over the Air Legally</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/noise.html">7. Noise and dB</a><ul>
<li><a href="https://pysdr.org/content/noise.html#gaussian-noise">Gaussian Noise</a></li>
<li><a href="https://pysdr.org/content/noise.html#decibels-db">Decibels (dB)</a></li>
<li><a href="https://pysdr.org/content/noise.html#noise-in-frequency-domain">Noise in Frequency Domain</a></li>
<li><a href="https://pysdr.org/content/noise.html#complex-noise">Complex Noise</a></li>
<li><a href="https://pysdr.org/content/noise.html#awgn">AWGN</a></li>
<li><a href="https://pysdr.org/content/noise.html#snr">SNR</a></li>
<li><a href="https://pysdr.org/content/noise.html#external-resources">External Resources</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/filters.html">8. Filters</a><ul>
<li><a href="https://pysdr.org/content/filters.html#filter-basics">Filter Basics</a></li>
<li><a href="https://pysdr.org/content/filters.html#filter-representation">Filter Representation</a></li>
<li><a href="https://pysdr.org/content/filters.html#filter-implementation">Filter Implementation</a></li>
<li><a href="https://pysdr.org/content/filters.html#filter-design-tools">Filter Design Tools</a></li>
<li><a href="https://pysdr.org/content/filters.html#convolution">Convolution</a></li>
<li><a href="https://pysdr.org/content/filters.html#filter-design-in-python">Filter Design in Python</a></li>
<li><a href="https://pysdr.org/content/filters.html#intro-to-pulse-shaping">Intro to Pulse Shaping</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/link_budgets.html">9. Link Budgets</a><ul>
<li><a href="https://pysdr.org/content/link_budgets.html#intro">Intro</a></li>
<li><a href="https://pysdr.org/content/link_budgets.html#signal-power-budget">Signal Power Budget</a></li>
<li><a href="https://pysdr.org/content/link_budgets.html#noise-power-budget">Noise Power Budget</a></li>
<li><a href="https://pysdr.org/content/link_budgets.html#snr">SNR</a></li>
<li><a href="https://pysdr.org/content/link_budgets.html#example-link-budget-ads-b">Example Link Budget: ADS-B</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/channel_coding.html">10. Channel Coding</a><ul>
<li><a href="https://pysdr.org/content/channel_coding.html#why-we-need-channel-coding">Why We Need Channel Coding</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html#types-of-codes">Types of Codes</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html#code-rate">Code-Rate</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html#modulation-and-coding">Modulation and Coding</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html#hamming-code">Hamming Code</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html#soft-vs-hard-decoding">Soft vs Hard Decoding</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html#shannon-limit">Shannon Limit</a></li>
<li><a href="https://pysdr.org/content/channel_coding.html#state-of-the-art-codes">State of the Art Codes</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/iq_files.html">11. IQ Files</a><ul>
<li><a href="https://pysdr.org/content/iq_files.html#binary-files">Binary Files</a></li>
<li><a href="https://pysdr.org/content/iq_files.html#python-examples">Python Examples</a></li>
<li><a href="https://pysdr.org/content/iq_files.html#max-values-and-saturation">Max Values and Saturation</a></li>
<li><a href="https://pysdr.org/content/iq_files.html#annotating-iq-files">Annotating IQ Files</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/multipath_fading.html">12. Multipath Fading</a><ul>
<li><a href="https://pysdr.org/content/multipath_fading.html#multipath">Multipath</a></li>
<li><a href="https://pysdr.org/content/multipath_fading.html#fading">Fading</a></li>
<li><a href="https://pysdr.org/content/multipath_fading.html#mitigating-multipath-fading">Mitigating Multipath Fading</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/pulse_shaping.html">13. Pulse Shaping</a><ul>
<li><a href="https://pysdr.org/content/pulse_shaping.html#inter-symbol-interference-isi">Inter-Symbol-Interference (ISI)</a></li>
<li><a href="https://pysdr.org/content/pulse_shaping.html#matched-filter">Matched Filter</a></li>
<li><a href="https://pysdr.org/content/pulse_shaping.html#splitting-a-filter-in-half">Splitting a Filter in Half</a></li>
<li><a href="https://pysdr.org/content/pulse_shaping.html#specific-pulse-shaping-filters">Specific Pulse Shaping Filters</a></li>
<li><a href="https://pysdr.org/content/pulse_shaping.html#roll-off-factor">Roll-off Factor</a></li>
<li><a href="https://pysdr.org/content/pulse_shaping.html#python-exercise">Python Exercise</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/sync.html">14. Synchronization</a><ul>
<li><a href="https://pysdr.org/content/sync.html#introduction">Introduction</a></li>
<li><a href="https://pysdr.org/content/sync.html#simulating-wireless-channel">Simulating Wireless Channel</a></li>
<li><a href="https://pysdr.org/content/sync.html#time-synchronization">Time Synchronization</a></li>
<li><a href="https://pysdr.org/content/sync.html#time-synchronization-with-interpolation">Time Synchronization with Interpolation</a></li>
<li><a href="https://pysdr.org/content/sync.html#coarse-frequency-synchronization">Coarse Frequency Synchronization</a></li>
<li><a href="https://pysdr.org/content/sync.html#fine-frequency-synchronization">Fine Frequency Synchronization</a></li>
<li><a href="https://pysdr.org/content/sync.html#frame-synchronization">Frame Synchronization</a></li>
</ul>
</li>
<li><a href="https://pysdr.org/content/appendix_text_comparison.html">15. Textbook Comparison</a></li>
<li><a href="https://pysdr.org/content/about_author.html">16. About the Author</a></li>
</ul>
</div>
</div>


          </div>
              <div>
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          <a href="https://pysdr.org/content/intro.html" title="Next document"><span>1. </span>Introduction</a>
          →
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    
  </div>
    <p>
      ©2020, Marc Lichtman.
      
    </p>

    

    
  
</div>]]>
            </description>
            <link>https://pysdr.org/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24750588</guid>
            <pubDate>Mon, 12 Oct 2020 01:19:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basic Concepts in Unity for Software Engineers]]>
            </title>
            <description>
<![CDATA[
Score 263 | Comments 115 (<a href="https://news.ycombinator.com/item?id=24750263">thread link</a>) | @Eyas
<br/>
October 11, 2020 | https://blog.eyas.sh/2020/10/unity-for-engineers-pt1-basic-concepts/ | <a href="https://web.archive.org/web/*/https://blog.eyas.sh/2020/10/unity-for-engineers-pt1-basic-concepts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>If you’re trying to get into game development as a Software Engineer, finding
learning materials with the right level of context can be challenging. You’ll
likely face a choice between following materials introducing you to basic C# and
OOP concepts while also describing Unity concepts, or starting with advanced
tutorials and be left to figure out the core concepts deductively.</p><p>To fill that gap, I’m writing a series called
<strong><a href="https://blog.eyas.sh/tag/unity-for-software-engineers">Unity for Software Engineers</a></strong>. This is
the first piece, and I’ll be releasing additional installments over the next few
weeks, so <a href="http://eepurl.com/gVgusL">make sure to subscribe</a> for updates. The
series is intended for folks already comfortable with programming and software
architecture, especially those who learn best as I do: starting with first
principles and working your way upwards.</p><hr><p>I started my programming journey around 17 years ago by picking up
<a href="https://www.yoyogames.com/gamemaker">Game Maker</a>. Countless hours spent coding
little games and tools led me to a bigger passion for programming. Eventually, I
was at a point where I focused mainly on Software Engineering. From my peers, I
know this is quite a common path that many of us took to find programming.</p><p>Yet the game development scene has changed significantly from those days. When I
went to pick up Unity after a long absence from game development, I was mostly
interested in understanding the basic concepts: what are the fundamental
building blocks of a game? What do I need to know about how these building
blocks are represented in memory or on disk? How is idiomatic code organized?
What patterns are preferred?</p><p>In the first article in the series, we’ll focus on those first two questions.</p><h2 id="scene">Scenes</h2><p>A <strong>Scene</strong> is the largest unit of organizing your objects in-memory. Scenes
contain the objects making up your game.</p><p>In basic use, one scene represents a <strong>single level</strong> in your game, where one
scene is loaded at any given point. In more “advanced” use, you can have two or
more active scenes at a time. Scenes can be loaded additively and unloaded <sup id="fnref-1"><a href="#fn-1">1</a></sup>.
Having multiple scenes loaded during gameplay comes especially handy when
building a massive world; keeping far-away areas on-disk rather than in-memory
will help you stay within your performance budget.</p><div><figure><p><span>
      <a href="https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/20a35/empty-scene.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/28a80/empty-scene.webp 400w,https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/8d2ea/empty-scene.webp 800w,https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/e1ffd/empty-scene.webp 1016w" sizes="(max-width: 1016px) 100vw, 1016px" type="image/webp">
        <source srcset="https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/a3397/empty-scene.png 400w,https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/a331c/empty-scene.png 800w,https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/20a35/empty-scene.png 1016w" sizes="(max-width: 1016px) 100vw, 1016px" type="image/png">
        <img src="https://blog.eyas.sh/static/8a63c592f9c8efe7c6fe5027f8075845/20a35/empty-scene.png" alt="A scene editor showing an empty scene in 3D Mode." title="A scene editor showing an empty scene in 3D Mode." loading="lazy">
      </picture>
  </a>
    </span></p><figcaption><p>Unity Scene editor opening a default empty scene in 3D mode. Empty Scenes in
Unity3D will by default include <em>Main Camera</em> and <em>Directional light</em> objects.</p></figcaption></figure><figure><p><span>
      <a href="https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/02ee0/scene-with-objects.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/28a80/scene-with-objects.webp 400w,https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/8d2ea/scene-with-objects.webp 800w,https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/97a89/scene-with-objects.webp 1014w" sizes="(max-width: 1014px) 100vw, 1014px" type="image/webp">
        <source srcset="https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/a3397/scene-with-objects.png 400w,https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/a331c/scene-with-objects.png 800w,https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/02ee0/scene-with-objects.png 1014w" sizes="(max-width: 1014px) 100vw, 1014px" type="image/png">
        <img src="https://blog.eyas.sh/static/3663ec5a133582da273a56e10f2811b6/02ee0/scene-with-objects.png" alt="A scene editor showing a heavily populated scene in 3DM mode." title="A scene editor showing a heavily populated scene in 3DM mode." loading="lazy">
      </picture>
  </a>
    </span></p><figcaption><p>Unity Scene editor showing an example scene, with a few objects selected. You
can use the scene view to edit levels in your game.</p></figcaption></figure></div><p>Every <a href="#gameobject"><em>game object</em></a> in Unity needs to be <em>in</em> a scene.</p><h2 id="gameobject">Game Objects</h2><p>A <strong>Game Object</strong> (in code, <code>GameObject</code>) is one of the basic building blocks of
a game.</p><p>Game Objects can represent both <em>physical</em> things you see in the game (e.g., a
player, the ground, a tree, a terrain, lights, a weapon, a bullet, an explosion)
<em>as well as</em> <em>metaphysical</em> things (e.g., an inventory manager, a multiplayer
controller, etc.) in your game.</p><p>Every Game Object has a position and rotation. For metaphysical objects, this
doesn’t matter.</p><p>Game Objects can nest under each other. Each object’s position and rotation is
relative to its parent object. An object directly in the scene is relative to
“world space” coordinates.</p><figure><p><span>
      <a href="https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/d1176/nested-objects-organizational.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/28a80/nested-objects-organizational.webp 400w,https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/8d2ea/nested-objects-organizational.webp 800w,https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/43d96/nested-objects-organizational.webp 1600w,https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/b5638/nested-objects-organizational.webp 2045w" sizes="(max-width: 1600px) 100vw, 1600px" type="image/webp">
        <source srcset="https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/a3397/nested-objects-organizational.png 400w,https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/a331c/nested-objects-organizational.png 800w,https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/1a152/nested-objects-organizational.png 1600w,https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/d1176/nested-objects-organizational.png 2045w" sizes="(max-width: 1600px) 100vw, 1600px" type="image/png">
        <img src="https://blog.eyas.sh/static/1fa53e027dc03e25490512c1ad1b4e93/1a152/nested-objects-organizational.png" alt="Screenshot showing nested objects for organizational purposes" title="Screenshot showing nested objects for organizational purposes" loading="lazy">
      </picture>
  </a>
    </span></p><figcaption><p>A group of objects nested together in a scene under an empty “Interior_Props”
object, for organizational purposes.</p></figcaption></figure><p>You might choose to nest your objects for many reasons. For example, you might
decide it organizationally makes sense to put all your “environment” (e.g.,
individual pieces that make up a city or village) objects under an empty parent
object. This way, it can be collapsed in the scene view and easily moved
together when building your game.</p><figure><p><span>
      <a href="https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/171d2/nested-objects-functional.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/28a80/nested-objects-functional.webp 400w,https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/8d2ea/nested-objects-functional.webp 800w,https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/71c32/nested-objects-functional.webp 1106w" sizes="(max-width: 1106px) 100vw, 1106px" type="image/webp">
        <source srcset="https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/a3397/nested-objects-functional.png 400w,https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/a331c/nested-objects-functional.png 800w,https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/171d2/nested-objects-functional.png 1106w" sizes="(max-width: 1106px) 100vw, 1106px" type="image/png">
        <img src="https://blog.eyas.sh/static/c5e377de23f2c41444e43b1dee3b86a7/171d2/nested-objects-functional.png" alt="Screenshot showing nested objects for functional purposes" title="Screenshot showing nested objects for functional purposes" loading="lazy">
      </picture>
  </a>
    </span></p><figcaption><p>A group of objects nested under the player. These include the player’s weapon,
avatar, and various UI elements rendered around the player.</p></figcaption></figure><p>Game Object nesting can also have <em>functional significance</em>. For example, a
“Car” can be an object, with code that controls the car’s speed and rotation as
a whole. But individual child objects might represent the four wheels (these
would spin independently), the car body, windows, etc. Moving the parent car
object would move all the child objects, keeping their relative orientation to
the parent (and each other). We might want the player to interact with a door
separately from the rest of the car, for instance.</p><h2 id="component">Components (&amp; MonoBehaviors)</h2><figure><p><span>
      <a href="https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/faa4f/inspector-with-components.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/28a80/inspector-with-components.webp 400w,https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/8d2ea/inspector-with-components.webp 800w,https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/e432d/inspector-with-components.webp 878w" sizes="(max-width: 878px) 100vw, 878px" type="image/webp">
        <source srcset="https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/a3397/inspector-with-components.png 400w,https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/a331c/inspector-with-components.png 800w,https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/faa4f/inspector-with-components.png 878w" sizes="(max-width: 878px) 100vw, 878px" type="image/png">
        <img src="https://blog.eyas.sh/static/6c13139bed0d3e0340ef8308a17e47fd/faa4f/inspector-with-components.png" alt="Screenshot showing the inspector window on an object." title="Screenshot showing the inspector window on an object." loading="lazy">
      </picture>
  </a>
    </span></p><figcaption><p>The Warrior object from the previous screenshot is shown above in Unity’s
“Inspector” window. Each illustrated section (e.g., Animator, Rigidbody,
Collider) are <em>Components</em> making up this object.</p></figcaption></figure><p>Every Game Object is comprised of <strong>Components</strong>.</p><p>A Component implements a well-defined set of behaviors for a GameObject to
execute. Everything that makes an object what it is would come from the
components that make it up:</p><ul><li>A single “visible” piece of a car will have a <em>Renderer</em> component that
paints it, and likely a <em>Collider</em> component that sets up its collision
bounds.</li><li>If a car represents the player, the car object itself might have a <em>Player
Input Controller</em> that takes key input events and translates these to code
moving the car around.</li></ul><p>While you can write large and complex Components that correspond 1:1 to an
object (e.g., a player component codes the entire player, while an enemy
component codes the enemy as a whole), it’s typically common to factor out your
logic into streamlined pieces corresponding to individual <em>traits</em>. For example:</p><ul><li>All objects with <em>health</em>, whether a Player or an Enemy, might have a
<code>LivingObject</code> component that sets an initial health value, takes damage,
and triggers a death event once it dies.</li><li>A player might additionally have an input component controlling its
movement, while the enemy might have an AI component that controls its
movement instead.</li></ul><p>Components receive various callbacks throughout their lifetime, known in Unity
as <em>Messages</em>. Examples of Messages include <code>OnEnable</code>/<code>OnDisable</code>, <code>Start</code>,
<code>OnDestroy</code>, <code>Update</code>, and others. If an object implements an <code>Update()</code> method,
this method will automagically be called by Unity in every frame of the game
loop while the object is active, and the given component is enabled. These
methods can be marked <code>private</code>; the Unity engine will still call them.</p><p>Components can also expose public methods as you’d expect. Other components can
take a reference to a component and call these public methods.</p><h2 id="asset">Assets</h2><p><strong>Assets</strong> are the on-disk resources that make up your game project. These
include meshes (models), textures, sprites, sounds, and other resources.</p><p>When serialized to the disk, your scenes are represented as assets made up of
the Game Objects inside of them. We’ll also discuss in the next section how you
can make Game Objects that are reused often into an asset known as a
<a href="#prefab">Prefab</a>.<sup id="fnref-2"><a href="#fn-2">2</a></sup></p><figure><p><span>
      <a href="https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/3c2e3/assets-in-project-view.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/28a80/assets-in-project-view.webp 400w,https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/8d2ea/assets-in-project-view.webp 800w,https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/cedc5/assets-in-project-view.webp 1291w" sizes="(max-width: 1291px) 100vw, 1291px" type="image/webp">
        <source srcset="https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/a3397/assets-in-project-view.png 400w,https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/a331c/assets-in-project-view.png 800w,https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/3c2e3/assets-in-project-view.png 1291w" sizes="(max-width: 1291px) 100vw, 1291px" type="image/png">
        <img src="https://blog.eyas.sh/static/65a370888c3e5f061718bfab6daec6eb/3c2e3/assets-in-project-view.png" alt="Unity Asset view showing visual assets in a game project" title="Unity Asset view showing visual assets in a game project" loading="lazy">
      </picture>
  </a>
    </span></p></figure><p>Assets can also represent less tangible things, such as Input Control Maps,
Graphics Settings, i18n string databases, and more. You can also create your own
custom asset types
<a href="https://unity.com/how-to/architect-game-code-scriptable-objects">using ScriptableObjects</a>.
I wrote about how these are saved
<a href="https://blog.eyas.sh/2020/09/where-scriptableobjects-live/">here</a>.</p><p>For your in-development project, assets form the key representation of your
project’s codebase, alongside your code.</p><p>Your built-and-bundled game will include <em>most</em><sup id="fnref-3"><a href="#fn-3">3</a></sup> of your assets. These assets
will be saved on disk on the device where the game is installed.</p><h2 id="prefab">Prefabs</h2><figure><p><span>
      <a href="https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/af8d6/container-homes.jpg" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/28a80/container-homes.webp 400w,https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/8d2ea/container-homes.webp 800w,https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/43d96/container-homes.webp 1600w,https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/f3ff0/container-homes.webp 1920w" sizes="(max-width: 1600px) 100vw, 1600px" type="image/webp">
        <source srcset="https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/4cda9/container-homes.jpg 400w,https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/c60e9/container-homes.jpg 800w,https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/56dca/container-homes.jpg 1600w,https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/af8d6/container-homes.jpg 1920w" sizes="(max-width: 1600px) 100vw, 1600px" type="image/jpeg">
        <img src="https://blog.eyas.sh/static/c795152ffc6beb8afcfe8b85fbb6886a/56dca/container-homes.jpg" alt="Photo of rows of container homes" title="Photo of rows of container homes" loading="lazy">
      </picture>
  </a>
    </span></p></figure><p>Game Objects, their Components, and their input parameters exist as individual
<em>instances</em> in a scene. But what if a particular class of objects is commonly
repeated? Such objects can be made into a <strong>Prefab</strong>, which is effectively the
object in asset form.</p><p>Instances of a prefab in a scene can have local modifications that distinguish
it (e.g., if a <em>tree</em> object is a prefab, you can have tree instances of
different heights). Instances of a prefab all inherit and override data from
their prefab.</p><h3>Nested Prefabs</h3><p>Starting with Unity 2018.3, Prefabs can be nested just as you expect:</p><ol><li>A parent object with prefab child objects can be a prefab itself. In the
parent prefab, the child prefab instance can have its own modifications. In
the scene, the entire prefab hierarchy is instantiated, and scene-specific
modifications can layer on top.</li><li>A prefab instance in a scene with its own local modifications can be saved as
its own “Prefab Variant” asset. A variant is a prefab asset that inherits
from another prefab, applying additional modifications on top.</li></ol><p>These concepts compose; a prefab variant of a nested prefab, or a prefab variant
of a prefab variant, for instance.</p><h2 id="serialization">Serialization &amp; Deserialization</h2><p>Your project’s assets, scenes, and objects are all persisted on-disk. When
editing your game, these objects are loaded in memory and saved back to disk
using
<a href="https://blogs.unity3d.com/2014/06/24/serialization-in-unity/">Unity’s serialization system</a>.
When playtesting your game, the objects and scenes in-memory are loaded through
the same serialization system. This system also maps between assets in your
compiled bundle and the loaded/unloaded scene objects in-memory.</p><p>The Unity Engine’s Serialization/Deserialization flow loads on-disk assets into
memory (in your project: for editing/playtesting; in-game, when loading a scene)
and is responsible for saving the state of your edited objects &amp; components back
into their scenes and prefabs.</p><p>Therefore, the serialization system is also at the core of the Unity Editor
experience itself. For a <code>MonoBehavior</code> to take an input on construction when
instantiated in a scene, those fields must be <em>serialized</em>.</p><p>Most core Unity types such as <code>GameObject</code>s, <code>MonoBehavior</code>s, and asset
resources are
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.serializableattribute">Serializable</a>
and can receive initial values on creation from within the Unity Editor. Public
fields on your <code>MonoBehavior</code> are serialized by default (if they’re of a
serializable type), and private fields need to be marked with Unity’s
<a href="https://docs.unity3d.com/ScriptReference/SerializeField.html"><code>[SerializeField]</code></a>
attribute to be serialized as well.</p><figure><p><span>
      <a href="https://blog.eyas.sh/static/d0cfe39b333b7b70ede27e286ad3be48/7d442/chaos-reborn-screenshot.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
   …</picture></a></span></p></figure></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.eyas.sh/2020/10/unity-for-engineers-pt1-basic-concepts/">https://blog.eyas.sh/2020/10/unity-for-engineers-pt1-basic-concepts/</a></em></p>]]>
            </description>
            <link>https://blog.eyas.sh/2020/10/unity-for-engineers-pt1-basic-concepts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24750263</guid>
            <pubDate>Mon, 12 Oct 2020 00:14:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MomentJs is deprecated. Here's how I chose a successor OSS Test suite included]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 5 (<a href="https://news.ycombinator.com/item?id=24749966">thread link</a>) | @terodox
<br/>
October 11, 2020 | https://terodox.tech/migrating-away-from-momentjs-part1/ | <a href="https://web.archive.org/web/*/https://terodox.tech/migrating-away-from-momentjs-part1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h6 id="cover-photo-credit-christian-erfurt"><a href="#cover-photo-credit-christian-erfurt" aria-label="cover photo credit christian erfurt permalink"></a>Cover photo credit: <a href="https://unsplash.com/@christnerfurt">Christian Erfurt</a></h6>
<p>MomentJs recently announced that <a href="https://momentjs.com/docs/#/-project-status/">the library is now deprecated</a>. This is a big deal for the javascript community who actively downloads moment almost 15 million times a week. With that I began a journey during a Hackathon to replace moment in a core library at my company.</p>
<h2 id="the-old-king-is-dead-but-whos-the-new-king"><a href="#the-old-king-is-dead-but-whos-the-new-king" aria-label="the old king is dead but whos the new king permalink"></a>The old king is dead, but who’s the new king?</h2>
<p>The start of any journey to replace a deprecated library has to begin with finding a replacement. In the case of moment, this is no trivial task. Moment offers a lot of functionality, and when combined with moment-timezone, the challenge is even greater.</p>
<p>Let’s talk about my particular use case. My team chooses to deploy our web apps following the <a href="https://immutablewebapps.org/">Immutable Web Apps</a> philosophy. The TL;DR here is that we deliver fully qualified versions of dependencies and built assets. This helps ensure the only changes between staging and production are basic configuration values. Read more about it <a href="https://immutablewebapps.org/">here</a>.</p>
<p>The other major consideration is that I work for an international company with clients in 13 different languages, and countless timezones. Localization, timezone, and offset support are all critical.</p>
<p>With that in mind let’s check out the contenders.</p>
<h2 id="and-in-this-corner"><a href="#and-in-this-corner" aria-label="and in this corner permalink"></a>And in this corner…</h2>
<p>We started with recommendations from the moment deprecation guide and tossed in some fan favorites to make sure we made the best choice we could. Keep in mind that there was a time constraint, so we couldn’t examine every option. Here’s the list we compiled:</p>
<ul>
<li><a href="https://github.com/date-fns/date-fns#readme">date-fns</a></li>
<li><a href="https://day.js.org/">day.js</a></li>
<li><a href="https://github.com/spencermountain/spacetime#readme">spacetime</a></li>
<li><a href="https://moment.github.io/luxon/">luxon</a></li>
</ul>
<h2 id="how-to-decide-a-winner"><a href="#how-to-decide-a-winner" aria-label="how to decide a winner permalink"></a>How to decide a winner</h2>
<p>Once we compiled our list of options, we got the bundle size for each of the packages including all required plugins/addons to support timezones and locales. Here’s how they stacked up:</p>
<ul>
<li>
<p>moment - 327KB, but also needs moment-timezone (185KB)</p>
<ul>
<li>Total: 513KB 😮</li>
</ul>
</li>
<li>
<p>date-fns - 37.3 KB, but also needs date-fns-timezone (2KB), and all locales (26 KB)</p>
<ul>
<li>Total: ~64KB</li>
<li>Eliminated due to lack of pre-built bundle. We need a single source of truth for IWA, and did not want to have to maintain a build process.</li>
</ul>
</li>
<li>
<p>day.js - 2KB, but also needs the utc and timezone plugins (4KB), and all locales (26 KB)</p>
<ul>
<li>Total: ~32KB</li>
</ul>
</li>
<li>spacetime - Eliminate early due to this DST <a href="https://github.com/spencermountain/spacetime#-dst-changes-within-1-hour">comment in the readme</a>.</li>
<li>luxon - 71KB, Everything is included, and it relies on the INTL api for locales.</li>
</ul>
<p>The next step is to vet the remaining two libraries for the functionality we need. The best way we could come up with to accomplish this is to write a test suite to exercise moment’s features, then run each library through that gauntlet.</p>
<p>What we tested: (<a href="https://github.com/terodox/mirgrating-away-from-momentjs#readme">It’s open sourced!</a>)</p>
<ul>
<li>
<p>basics</p>
<ul>
<li>Parsing dates</li>
<li>formatting dates (with offsets)</li>
</ul>
</li>
<li>
<p>Date math (with timezones and offsets)</p>
<ul>
<li>Adding (minutes, hours, days, weeks, months, years)</li>
<li>Subtracting (minutes, hours, days, weeks, months, years)</li>
</ul>
</li>
<li>
<p>Assistive functions</p>
<ul>
<li>startOf (day, week, month, quarter)</li>
<li>endOf (day, week, month, quarter)</li>
</ul>
</li>
<li>
<p>Localization</p>
<ul>
<li>For each of the 13 locales</li>
</ul>
</li>
<li>
<p>Timezones</p>
<ul>
<li>Change timezone</li>
<li>Apply same timezone (time shouldn’t change)</li>
<li>Test for valid <a href="https://www.iana.org/time-zones">IANA timezone string</a></li>
</ul>
</li>
<li>
<p>Daylight savings time</p>
<ul>
<li>Crossing into daylight savings time</li>
<li>Crossing out of daylight savings time</li>
<li>Starting in DST and adding time to end up in DST</li>
<li>Starting outside DST and adding time to end up outside DST</li>
</ul>
</li>
</ul>
<p>Well. That was exhausting…</p>
<p><img src="https://terodox.tech/c6346f20c903209f7c47c3a7b67b2a07/exhausted.gif" alt="exhausted"></p>
<p>We first started by writing the test suite against moment to have a “static” source of truth for values we trusted. This yielded a set of function names that we then needed to fulfill with day.js and luxon.</p>
<h2 id="ding-ding-ding-we-have-a-winner"><a href="#ding-ding-ding-we-have-a-winner" aria-label="ding ding ding we have a winner permalink"></a>Ding! Ding! Ding! We have a winner!</h2>
<p>This test suite proved invaluable. We were able to learn how both libraries worked for our use cases as well as finding a critical failure in day.js.</p>
<p>It turns out the day.js does not support daylight savings time very well, and there are <a href="https://github.com/iamkun/dayjs/issues?q=is%3Aissue+is%3Aopen+DST+OR+%22daylight%22">numerous open issues</a> around it on the repo. The most critical of which does not calculate offset properly when entering or leaving DST.</p>
<p>So we have our winner: <strong>luxon</strong></p>
<h2 id="wrapping-up"><a href="#wrapping-up" aria-label="wrapping up permalink"></a>Wrapping up</h2>
<p>It was not a very long journey to arrive here honestly. A little more than a day of effort allowed us to have full confidence in our choice of <strong>luxon</strong> as our library moving forward. It has all of the utilities, timezone support and locale support that we need. It’s bundle size is not the smallest, but compared to the 513KB of moment + moment-timezone, it’s still a huge improvement.</p>
<p>Check out Part 2 (coming soon) for how we migrated the actual library.</p></div></div>]]>
            </description>
            <link>https://terodox.tech/migrating-away-from-momentjs-part1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24749966</guid>
            <pubDate>Sun, 11 Oct 2020 23:19:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Twilio Acquired Segment? (by RudderStack)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24749080">thread link</a>) | @soumyadeb
<br/>
October 11, 2020 | https://rudderstack.com/blog/why-twilio-acquired-segment/ | <a href="https://web.archive.org/web/*/https://rudderstack.com/blog/why-twilio-acquired-segment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                                    <figure>
                        <img src="https://rudderstack.com/wp-content/uploads/2020/10/RudderStack-Cloud-teaser-images-2-750x355.jpg" alt="" title="Twilio + Segment">                    </figure>
                                
                                
                <section>
                    <div>
                        
<p>Congratulations to the team at <strong>Segment</strong> for their massive acquisition by Twilio. From being founded in 2012 to getting acquired in 2020 (for billions) is a huge success and a testament to their team’s outstanding execution.  </p>



<p>When Segment initially released <code>analytics.js</code>, it was criticized for being only marginally better than a tag manager but developers on HackerNews <a href="https://news.ycombinator.com/item?id=4912076">loved the idea</a>. Hence, Segment’s success is also a testament to the power of the developer community on HN—hats off to everyone who supported the project, especially in the early days.</p>







<h2>Twilio &amp; Segment</h2>







<p>Segment recently <a href="https://segment.com/blog/customer-data-platform/">published a CDP report</a> where they shared some data around top destinations. Interestingly, the SMS &amp; push category was in a distant 11th place, with only 13% of businesses leveraging those types of connections. Even more interesting is that within the SMS and push category companies like Braze &amp; Customer.IO were listed, but not Twilio.</p>



<p>In fact, Twilio was not even a top destination for Segment, which means there is very little overlap between buyers of Segment and Twilio. Or, to put it differently, people who buy Twilio don’t have a significant need for Segment and vice-versa.&nbsp; Twilio didn’t make the acquisition simply to resell Segment to their existing customer base.&nbsp;</p>







<h2>So, Why Twilio?</h2>







<p>To a lot of people, Twilio was a surprise acquirer. Many expected Segment to be picked off by one of the usual suspects like Adobe or Salesforce.  We believe there are a few reasons underpinning this as a true <em>strategic </em>acquisition.&nbsp;</p>







<ul><li><strong>API to application stack – </strong>Twilio’s Sendgrid acquisition gives us a few hints into what’s happening here. Twilio was built as a platform providing telecom services over an API and other companies build applications on top of their APIs. While Twilio has a near-complete monopoly on this API business, it is still a low margin business where most of the money goes to gateways, providers, etc. Plus, the gateways like bandwidth.com started to compete by getting into the API business themselves. The result has been aggressive discounting, which makes it hard to compete. So, while Twilio may have the best developer tools, the nature of the core product (low margin telecom) means that customers will naturally price shop as they scale and the offering becomes more commoditized. To move away from the low-margin API business, Twilio needs to go higher up the stack and build <em>applications</em>.&nbsp;</li></ul>







<ul><li><strong>End to end marketing cloud –</strong> The demand for messaging in marketing automation products has grown significantly and is only growing, so it is natural for Twilio to go after the marketing use case. They already owned the SMS/push channel and their Sendgrid acquisition covered the email channel. In full form, though, the marketing use case requires data collection and audience building in addition to messaging. The Segment acquisition gives Twilio the missing half of the equation and will allow them to build a unified marketing platform. Perhaps most importantly, Twilio has the ability to reinvent significant pieces of the marketing cloud as API-first, which would give them a foot in the door to the market currently owned by Adobe, who has a $250 billion market cap.&nbsp;</li></ul>



<ul start="3"><li><strong>The sandwich</strong> – This is probably the most interesting impact of the acquisition: instead of sitting towards the <em>end</em> of the stack as an API endpoint, Twilio has bought a seat in the extreme <em>front seat</em> of the stack. Not only will this give them significant insight into what is being used effectively in the market amongst a plethora of tools, but could potentially enable Twilio to build/buy the important verticals that are considered indispensable, but are missing from their stack. This could— and should—make some of Segment’s partners wary. This isn’t a new dynamic, as many companies in the ecosystem have already developed a healthy distrust of Segment, and now Twilio, along with their roadmaps and product ambitions. Amplitude and Braze are examples of the many products sitting downstream of Segment that will now feel the increasing pressure of “the sandwich.” As a result, we wouldn’t be surprised if Twilio continues to add more of the “missing middle” components of the marketing stack, most likely through acquisitions.<br></li></ul>



<ul start="3"><li><strong>Ambitious Jeff</strong> – Jeff is now interested in building a truly iconic business such as Salesforce and Wall Street has given him the checkbook to do M&amp;A. Twilio’s stock price has rapidly climbed from $100 to $300 in the last 6 months. We have heard that Segment is at approximately $150M ARR and given Twilio’s current EV/ARR multiple of approximately 25x, Twilio will add about $3B-5B in market capitalization, making this a solid acquisition in terms of basic exchange of value. Moreover, Twilio’s margins in their core business are arguably lower than Segment. We have also observed that Segment is struggling to make the transition to both enterprise as well as build a product beyond the pipe that has meaningful traction. All in all, we believe this is a win for both parties involved. Jeff is well on his way to building a once-in-a-lifetime business..<br></li></ul>



<p>So again, congratulations to Segment and everyone involved. We have a huge amount of respect for what their team has accomplished and for such a smart acquisition by Twilio.&nbsp;</p>



<p>Also, not to state the obvious, but if you’re interested in an <a href="http://www.rudderstack.com/">open-source alternative to Segment</a>, we’d love to talk 🙂 </p>




























                    </div>
                </section>
            </article><div>
                <div>
                                        <p><img src="https://rudderstack.com/wp-content/uploads/2020/04/soumyadeb.jpeg">
                    </p>
                    <p><span>Soumyadeb</span>
                                                                            <span>Mitra</span>
                                                                    </p>
                    
                </div>
                <p>
                                            Founder and CEO of RudderStack. Passionate about finding engineering solutions to real-world problems.                                    </p>
            </div></div>]]>
            </description>
            <link>https://rudderstack.com/blog/why-twilio-acquired-segment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24749080</guid>
            <pubDate>Sun, 11 Oct 2020 21:02:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Open Source Tools and Data for Music Source Separation]]>
            </title>
            <description>
<![CDATA[
Score 266 | Comments 42 (<a href="https://news.ycombinator.com/item?id=24748793">thread link</a>) | @homarp
<br/>
October 11, 2020 | https://source-separation.github.io/tutorial/landing.html | <a href="https://web.archive.org/web/*/https://source-separation.github.io/tutorial/landing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-content">
        <div>
        
              <div>
                
  <div id="open-source-tools-data-for-music-source-separation">

<p><strong>By Ethan Manilow, Prem Seetharaman, and Justin Salamon</strong></p>
<p>Shared under <a href="https://github.com/source-separation/tutorial/blob/master/LICENSE.txt">Creative Commons BY-NC-SA 4.0</a>.</p>
<p><img alt="Separating of musical signals." src="https://source-separation.github.io/tutorial/_images/source_separation_io2.png"></p><p>Hello and welcome to the website for our tutorial at <a href="https://ismir.github.io/ISMIR2020/">ISMIR 2020</a>!
We’re excited that you’ve decided to join us!</p>
<p>In this tutorial, we will guide you through modern, open-source tooling and datasets
for running, evaluating, researching, and deploying source separation approaches.
We will pay special attention to musical source separation, though we will note
where certain approaches are applicable to a wider array of source types.</p>
<div id="desired-outcomes">
<h2>Desired Outcomes<a href="#desired-outcomes" title="Permalink to this headline">¶</a></h2>
<p>The goal of this tutorial is that you leave with:</p>
<ol>
<li><p>A practical overview of source separation, including some history and current
research trends,</p></li>
<li><p>A high-level intuition for how and why each source separation approach works,</p></li>
<li><p>The ability to make an educated decision about when and how to incorporate source
separation into your own work,</p></li>
<li><p>A set of well-tested, open-source tools that you can use if you do choose to
incorporate source separation into your work, or train your own models.</p></li>
</ol>
<p>After you go through this tutorial, you should be confident about using source
separation in your work and you should know which tools to reach for. We hope
this website will serve as a reference guide or starting point for your future
endeavours with source separation technology.</p>
</div>
<div id="let-s-get-started">
<h2>Let’s get started!<a href="#let-s-get-started" title="Permalink to this headline">¶</a></h2>
<p>Click the button on the bottom right of the page to begin going through the tutorial!</p>








</div>
</div>

    
    

              </div>
              
        </div>
    </div></div>]]>
            </description>
            <link>https://source-separation.github.io/tutorial/landing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24748793</guid>
            <pubDate>Sun, 11 Oct 2020 20:23:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Javis v0.2 and the Future]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24748588">thread link</a>) | @wikunia
<br/>
October 11, 2020 | https://opensourc.es/blog/javis-v0.2-and-future/ | <a href="https://web.archive.org/web/*/https://opensourc.es/blog/javis-v0.2-and-future/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>We released v0.2 of <a href="https://github.com/Wikunia/Javis.jl">Javis</a> a few days back and even though I've posted about one of my favorite features of that release about three weeks ago (<a href="https://opensourc.es/blog/javis-animations">Using Animations.jl for Javis</a>), I would like to post here about some other things we have added and talk a bit about the future of Javis as well.</p>

<h2 id="v020_features"><a href="#v020_features">v0.2.0 Features</a></h2>
<p>Let's have a look at the new features first:</p>
<ul>
<li><p>Animations.jl as shown in the <a href="https://opensourc.es/blog/javis-animations">previous post</a></p>
</li>
<li><p>Having a built-in image viewer</p>
</li>
<li><p>Faster rendering with <a href="https://github.com/JuliaIO/VideoIO.jl">VideoIO.jl</a></p>
</li>
<li><p>A follow path function to define the movement of an object</p>
</li>
<li><p>Minor improvements for morphing</p>
</li>
<li><p>Some bugfixes</p>
</li>
</ul>
<h3 id="image_viewer"><a href="#image_viewer">Image viewer</a></h3>
<p>The biggest change besides having more control over the speed of an animation is the image viewer which was built by <a href="http://jacobzelko.com/">Jacob Zelko</a>.</p>
<p>The image viewer is basically a way to easily view created frames and jump to frames directly without having to open the temp directory or even save the frames to disk in the first place. A major point for this feature is that rendering the full animation and save it to disk can take a while. For debugging it's often a good idea to show the frames directly and control the frame rate by jumping through the frames manually.</p>
<p>The backbone of the image viewer is the <a href="https://github.com/JuliaGraphics/Gtk.jl">Gtk.jl</a> package. In the backend of Javis only the currently displayed frame is computed to have a fast experience. If you want to know how it's done internally you should probably check out the source code or ask Jacob directly. He is on Zulip and Slack 😉</p>
<p><a href="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/javis_viewer.gif"><img src="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/javis_viewer.gif" alt="Image viewer"></a></p><p>One has the ability to click through the frames with the buttons but I prefer to use the arrow keys on my keyboard to navigate.</p>
<p>Besides that one can of course jump directly to the frame of interest or scroll through them using the slider.</p>
<h3 id="faster_rendering"><a href="#faster_rendering">Faster rendering</a></h3>
<p>In v0.1 of Javis each frame was saved to disk and in the end ffmpeg was used to create a gif or mp4 out of those files. Now with <a href="https://github.com/JuliaIO/VideoIO.jl">VideoIO.jl</a> it's possible to incrementally encode the mp4 format without saving frames to disk. This provides a nice speed improvement.</p>
<h3 id="follow_a_path"><a href="#follow_a_path">Follow a path</a></h3>
<p>In v0.1 it was in principle possible to write <code>Translation</code> after <code>Translation</code> inside an <code>SubAction</code> to move an object along a path but that would be quite cumbersome to do every time. </p>
<p>It's now very easy to let an object follow any path you define. You can find some code <a href="https://wikunia.github.io/Javis.jl/stable/examples/">here</a> and you can check out our <a href="https://wikunia.github.io/Javis.jl/stable/howto/#How-can-I-have-an-object-follow-a-path?">How to? section</a> to get some more information.</p>
<p><a href="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/follow_bezier_path.gif"><img src="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/follow_bezier_path.gif" alt="Creating a car"></a></p><p>Generally we try to make it as easy as possible to get you started with Javis by providing tutorials but it's hard to write a good tutorial for each feature. Additionally, I think it's not always the best use of our and your time. Tutorials are great to learn something in general but not when one knows exactly what is needed and just wants to know how to do a particular thing. </p>
<p>For this reason we started the "How To" section and an examples section as well.</p>
<h3 id="morphing"><a href="#morphing">Morphing</a></h3>
<p>You should know that morphing is my favorite feature but it's not ready enough so it will be part of v0.3 and then I'll finally write a tutorial about it. More on that in the future section 😉</p>
<p>In v0.2 you can at least morph one shape into another. Yeah we should probably have that in the documentation...</p>
<p>Let me give you some kind of code here:</p>
<pre><code>using Javis

function ground(args...)
    background("white")
    sethue("black")
end

astar(args...) = star(O, 50)
acirc(args...) = circle(Point(100, 100), 50)

vid = Video(500, 500)
action_list = [
    BackgroundAction(1:100, ground),
    Action(1:100, morph(astar, acirc; action = :fill)),
]

javis(vid, action_list, pathname = "morph.gif")</code></pre>
<p>this creates:</p>
<p><a href="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/morph.gif"><img src="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/morph.gif" alt="Morphing a shape"></a></p><p>one can of course make that much more interesting with some color and maybe a bit more speed.</p>
<pre><code>using Javis, Animations, Colors

function ground(args...)
    background("white")
    sethue("black")
end

astar(args...) = star(O, 50)
acirc(args...) = circle(Point(100, 100), 50)

color_anim = Animation(
    [0, 0.5, 1], # must go from 0 to 1
    [Lab(colorant"red"), Lab(colorant"cyan"), Lab(colorant"red")],
    [sineio(), sineio()],
)

vid = Video(500, 500)
action_list = [
    BackgroundAction(1:100, ground),
    Action(1:50, morph(astar, acirc; action = :fill); 
        subactions = [
            SubAction(1:50, color_anim, sethue())
        ]),
    Action(Rel(50), morph(acirc, astar; action = :fill); 
        subactions = [
            SubAction(1:50, color_anim, sethue())
        ]),
]

javis(vid, action_list, pathname = "morph.gif")</code></pre>
<p><a href="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/morph_2.gif"><img src="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/morph_2.gif" alt="Morphing a shape with color"></a></p><h2 id="v03_and_beyond"><a href="#v03_and_beyond">v0.3 and Beyond</a></h2>
<p>We finished talking about what exists and now we can talk about ideas 😄</p>
<p>Well okay before we do that you should check out this:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/uM2sbIsqGg4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>It's or biggest success story from a Javis user. You can check out the story here: <a href="https://discourse.julialang.org/t/fourier-draws-the-julia-logo/47309">Fourier series in Javis</a>.</p>
<p>Shortly after we have released v0.2 we saw that on discourse and were stunned. It's just amazing that the first animation we see that wasn't created by us developers is so stunning.</p>
<p>Okay now we can talk about the future. </p>
<h3 id="transposing_a_matrix_and_other_morphing_madness"><a href="#transposing_a_matrix_and_other_morphing_madness">Transposing a matrix and other morphing madness</a></h3>
<p>One of the features I'm looking forward to is of course morphing which can do:</p>
<p><a href="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/emc.gif"><img src="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/emc.gif" alt="E=mc^2"></a></p><p>or some transposing</p>
<p><a href="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/transpose_2x3.gif"><img src="https://opensourc.es/assets/blog/2020-09-29-javis-v0.2-and-future/images/transpose_2x3.gif" alt="Transposing"></a></p><p>and in general it tries to interpolate between two states, which of course has drawbacks.</p>
<p>In the future we would like to make it easy to manipulate latex in such a way that one can say swap the indices x and y and then this gets animated as well as color this part in red for example.</p>
<p>This is still a long way to go but the morphing feature will be part of v0.3. There are only some small parts that need to be changed to make it production ready.</p>
<h3 id="layers"><a href="#layers">Layers</a></h3>
<p>We definitely need some way to combine several actions into a layer such that one can move a complete later around and scale it. An example would be to show some animation and then scale it down and move it to the upper left corner of the video while explaining some other stuff.</p>
<h3 id="renaming_stuff"><a href="#renaming_stuff">Renaming stuff </a></h3>
<p>We got told and have realized that our usage of <code>Action</code> and <code>SubAction</code> is a bit confusing. It would be clearer to have <code>Object</code> and <code>Action</code> and the <code>Object</code> doesn't define any animation just the object itself. This will obviously break some code not just because of name changes but also because one can currently define simple animations without using what now is a <code>SubAction</code>.</p>
<h3 id="define_stuff_outside_the_javis_function"><a href="#define_stuff_outside_the_javis_function">Define stuff outside the javis function</a></h3>
<p>Currently we have the <code>javis(video, actions, ...)</code> form but it would be much nicer to have something like:</p>
<pre><code>video = Video(1000, 700)
@Background(1:100, ground)
ball = @Object(1:100, circle(O, 50, :fill))
ball += @Action(1:100, appear(:fade))

render("test.mp4")</code></pre>
<p>This would solve several problems:</p>
<ul>
<li><p>easier to debug as the stacktrace can point to the line where the error appears quite easily.</p>
</li>
<li><p>Do not need to write <code>(args...)</code> all the time when one uses the macro syntax.</p>
</li>
<li><p>One can easily define <code>@Action</code> somewhere and just add it to the objects. One can have an <code>appear_action</code> which one can add to several objects.</p>
</li>
</ul>
<p>If you have some more ideas or suggestions: Please open an issue or comment on one that discusses these things.</p>
<p><strong>Thanks for reading and special thanks to my 9 patrons!</strong></p>
<p>List of patrons paying more than 4$ per month:</p>
<ul>
<li><p>Site Wang</p>
</li>
<li><p>Gurvesh Sanghera</p>
</li>
<li><p>Szymon Bęczkowski</p>
</li>
<li><p>Logan Kilpatrick</p>
</li>
</ul>
<p>Currently I get more than 20$ per month using Patreon and PayPal. </p>
<p>For a donation of a <strong>single</strong> dollar per month you get early access to the posts.</p>
<p>I'll keep you updated on <a href="https://twitter.com/opensourcesblog">Twitter OpenSourcES</a>.</p>
<p><a href="https://patreon.com/opensources"><img src="https://opensourc.es/assets/patreon.png"></a></p>
    

                            

<div>
  
  <p>
    © Ole Kröger. Last modified: October 01, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </p>
</div></div></div>]]>
            </description>
            <link>https://opensourc.es/blog/javis-v0.2-and-future/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24748588</guid>
            <pubDate>Sun, 11 Oct 2020 19:57:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stratix V accelerator card from eBay]]>
            </title>
            <description>
<![CDATA[
Score 73 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24748565">thread link</a>) | @todsacerdoti
<br/>
October 11, 2020 | https://j-marjanovic.io/stratix-v-accelerator-card-from-ebay.html | <a href="https://web.archive.org/web/*/https://j-marjanovic.io/stratix-v-accelerator-card-from-ebay.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->          <p>A couple of weeks ago <a href="https://twitter.com/rombik_su">@rombik_su</a> in a <a href="https://twitter.com/rombik_su/status/1250382904074608642">Twitter
thread</a> pointed out a
very cheap FPGA accelerator card on eBay. The board contains a proprietary
Samtec board-to-board connector, most likely carrying power, PCI Express, and
auxiliary signals (JTAG, IPMI to BMC, ...), two QSFP cages, DDR3 and a large
FPGA, hidden under the heatsink.</p>
<p>Being passionate about everything FPGA-related, and with Coronavirus lockdown
limiting the number of fun things to do, I decided to purchase the board. An
evaluation kit of this kind can easily cost thousands, and 40 USD is a real
bargain.</p>
<h2>Initial research</h2>
<p>While waiting for the board to arrive, I did some initial investigation. The
description on eBay is quite cryptic. The title of the listing included all the
text from the labels on the board, including the label "AIRFLOW" indicating
the direction of the forced air through the board.</p>
<p>One of the most fruitful clues was the label "Microsoft" on the board. It was
well-publicized a couple of years ago that Microsoft is using FPGAs to
accelerate Bing searches, and this might be one of the boards used in the
servers.</p>
<p>Remembering that Microsoft went with Altera (now Intel PSG) and that this was
some years back, it is most likely that the card contains a Stratix V FPGA.</p>
<p>The <a href="https://www.microsoft.com/en-us/research/uploads/prod/2014/06/HC26.12.520-Recon-Fabric-Pulnam-Microsoft-Catapult.pdf">first
link</a>
on Google (or should I have used Bing? would the FPGAs be aware that I am
looking for information about them?) for "microsoft catapult stratix v"
presented some conceptually similar cards, but not exactly the same.</p>
<p>The <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/10/Cloud-Scale-Acceleration-Architecture.pdf">second
link</a>,
however, presented the exact card which I have purchased:</p>
<p><img alt="FPGA card, from A. Caulfield et al: A Cloud-Scale Acceleration Architecture" src="https://j-marjanovic.io/images/2020_fpga_card/img-002.jpg"></p>
<p><small>(from A. Caulfield et al: A Cloud-Scale Acceleration Architecture)</small></p>


<p>The paper also contains a block diagram highlighting the main components
of the board:</p>
<p><img alt="Block diagram, from A. Caulfield et al: A Cloud-Scale Acceleration Architecture" src="https://j-marjanovic.io/images/2020_fpga_card/block_diagram.png"></p>
<p><small>(from A. Caulfield et al: A Cloud-Scale Acceleration Architecture)</small></p>


<p>The paper also mentions "widely-used OpenCompute server" which could give out
some information about the pinout on the Samtec connector. Since there are
numerous formats for mezzanine cards standardized by the OpenCompute project,
and finding the matching one is not trivial, I decided to leave this task for
later.</p>
<p>Further digging in the search results, I was also able to find <a href="https://mspoweruser.com/microsoft-talks-about-the-project-that-helped-them-build-the-worlds-first-ai-supercomputer/">another photo</a>
of the board with the heatsink removed.</p>
<p>The marking on the FPGA are removed, but we already know that it is a Stratix V,
and some things were expected from previous documents, e.g. 5 DDR3 chips for
a combined of 9 chips for 72-bit DDR3 data width).</p>
<p>What I found interesting in this picture is a Flash memory (Micron 25Q256) in
the top right corner, which means that the image for the FPGA is most likely
stored on the board and is not downloaded through the connector at the startup.
It is also possible that <a href="https://www.intel.com/content/www/us/en/programmable/support/support-resources/support-centers/devices/cfg-index/cfg-via-protocol.html">Configuration via
Protocol</a>
is used, and only the basic image is stored in the Flash.</p>

<p>Then one day, the board finally arrives. The board matches the description
in the previously-mentioned article.</p>
<p>A quick look at the board identifies the following components:</p>
<ul>
<li>160 pin Samtec SEARAY™ connector</li>
<li>USB (FT232H, used as a JTAG interface)</li>
<li>power entry (FDMS0310AS MOSFET, 0.01 Ohm resistor, unidentified IC with the markings "L536FCD")</li>
<li>power converters (Enpirion® EN2342QI DC-DC converter)</li>
<li>programmable oscillator (IDT8N4Q001)</li>
<li>Flash memory for FPGA (Micron N25Q256A)</li>
<li>I2C EEPROM (ST M24128-BW)</li>
<li>DDR3 memory (SK hynix H5TC4G83BFR)</li>
</ul>
<p><img alt="The board with annotated sections" src="https://j-marjanovic.io/images/2020_fpga_card/9560_annotated.jpg"></p>

<p>At this point, it was time to start experimenting with the board. The FT232H
seems to be powered from the USB BUS voltage: pin 1 of J3 is connected to pin 40
(VREGIN) of FT232H. This is why I decided to first start with the USB. With the
datasheet for FT232H it was trivial to determine the pin assignments on the
connector. I did not want to solder directly on the connector pins, as I would
like to make a proper cable in the future.</p>
<p><img alt="USB connection with signal annotations" src="https://j-marjanovic.io/images/2020_fpga_card/9570_annotated.jpg"></p>
<p>After plugging the cable in the computer, the FT232H is recognized as "USB
Serial Converter":</p>
<p><img alt="Driver information about the FT232H" src="https://j-marjanovic.io/images/2020_fpga_card/device_manager2.png"></p>

<p>At this point I could start trying to reverse engineer the connector pinout. I
managed to figure out the following connections:</p>
<ul>
<li>Ground</li>
<li>Input power: there are a couple of pins connected to the Drain of the large
    MOSFET. I also assume that the level is, as it is common for PCIe cards,
    12V.</li>
<li>There are 16 pairs of AC-coupling capacitors near the connector. PCIe
    standard mandates capacitors on the TX side, so I assume this is PCIE_TX.
    Not knowing the exact lane numbering, I decided to enumerate them with
    letters instead of numbers.</li>
<li>PCIe RX is TBD, but looking at unassigned pins a clear pattern is visible</li>
<li>Some of the pins are connected to the circuit above the connector - I have
    annotated these pins, but right now I do not have a clear idea what is the
    purpose. I annotated those pins as AUX.</li>
</ul>
<p><img alt="Samtec connector with partial pinout, 1" src="https://j-marjanovic.io/images/2020_fpga_card/pinout_1.png"></p>

<p>I have connected the 12V on the Drain side of the Q12 (FDMS0310AS), which has
also energized the PU12 and +12V pins on the Samtec connector. However, the
power consumption was only 3 mA, and the MOSFET was left closed.</p>
<p>I could not find any information about PU12 (L536FCD). I assume it is some
kind of a current-limit protection, measuring the current through the 0.01 Ohm
shunt resistor and controlling the Gate pin of Q12.</p>
<p>To literally bypass this problem, I have decided to also connect 12 V on the
other side of the Q12. This yielded some results; the power consumption raised
to 695 mA, which is what one would expect from such board, and the LEDs turned
on. </p>
<p><img alt="Power consumption" src="https://j-marjanovic.io/images/2020_fpga_card/fr_9586_size1024.jpg"></p>
<p>On various points in the circuit I could also measure all the voltages one
would expect to find in such a circuit:</p>
<ul>
<li>1.5V on the Enpirion (PU16) output</li>
<li>1.35 V on C406 (DDR3 voltage)</li>
<li>0.674 V on C1005 (DDR3 termination voltage)</li>
<li>2.5 V on C442 (periphery)</li>
<li>3.3 V on QSFP capacitors</li>
<li>0.9 V on C354 (FPGA core voltage)</li>
</ul>

<h2>FPGA configuration memory</h2>
<p>The heatsink covers the large part of the top side of the board including the
Flash memory for the FPGA configuration. One can, however, still reach the pins
8 and 9 (DQ1 and DQ2, respectively) with an oscilloscope probe.</p>
<p>After the power is applied to the board, we can observe that the FPGA gets
programmed in roughly a second. This is above the 100 ms/200 ms limit required
by the PCIe standard, but in this custom form factor the value might be
different.</p>
<p>DQ2 pin on N25Q256A:</p>
<p><img alt="Data from DQ2 pin after power up" src="https://j-marjanovic.io/images/2020_fpga_card/mem_top_left_pin.png"></p>
<p>LEDs on the board are also driven by the FPGA and remain lit for a second until
the FPGA is not programmed, another indication that the FPGA gets configured
from the memory.</p>
<h2>EEPROM</h2>
<p>Another memory on the board is a small 128Kbit EEPROM, which probably stores MAC
addresses, serial numbers, and other similar information.</p>
<p>Quite interestingly, SDA and SCL lines remain stuck low after some time.
Maybe the EEPROM is not used at all, or maybe there is some other part
of the circuit is keeping the EEPROM interface state machine in a reset.</p>
<p>SDA pin on M24128-BW, SCL is very similar:</p>
<p><img alt="SDA pin on M24128-BW" src="https://j-marjanovic.io/images/2020_fpga_card/M24128_SDA.png"></p>

<p>With the board powered on, I could measure the voltage on the connector pins.
As expected, on 16 differential pairs I can sense a bias voltage of the PCIe
receivers, around 0.7 V.</p>
<p>Some of the AUX pins have a slight bias, but this is probably caused by
pull-up resistors and other components. It would require more investigation
to fully understand the purpose of these pins.</p>
<p><img alt="Samtec connector with partial pinout, 2" src="https://j-marjanovic.io/images/2020_fpga_card/pinout_2.png"></p>

<h2>QSFP</h2>
<p>Plugging in a QSFP cable only marginally increases the power consumption.
It is clear that the high-speed circuit is disabled, most likely because
of an internal register configuration and less likely because the cable
is "not compatible", i.e. the board parses the EEPROM and it does not enable
the high-speed circuit.</p>
<p>Consumption from the 12V input:</p>
<ul>
<li>without the QSFP module inserted: 696.7 mA</li>
<li>with the QSFP module inserted: 697.5 mA</li>
</ul>
<h2>IDT oscillator</h2>
<p>IDT oscillator is producing 645 MHz clock.</p>
<h2>DDR3</h2>
<p>I have probed what I presume are the DDR3 termination resistors (on the bottom
side, on the other side of the 5th DDR3 component on the top) and observed
no switching activity. It seems that the DDR3 controller is kept in reset.</p>

<p>The first bring-up session was quite successful; I have managed to turn on the
board without damaging it and figure out the basic pinout of the connector.</p>
<p>For the next step, I plan to investigate the OpenCompute website if there exists
a document that would describe the pinout of the connector. Still left to be
determined are the reference clock and an enable signal from the connector.</p>
<p>Eventually I plan to produce a small PCB that would allow plugging this board
in a normal PCIe card slot.</p>
<hr>
<p>All trademarks and registered trademarks are the property of their respective owners.</p>
        </div></div>]]>
            </description>
            <link>https://j-marjanovic.io/stratix-v-accelerator-card-from-ebay.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24748565</guid>
            <pubDate>Sun, 11 Oct 2020 19:54:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Speak for the Trees]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24747605">thread link</a>) | @dleskosky
<br/>
October 11, 2020 | https://www.danielleskosky.com/i-speak-for-the-trees/ | <a href="https://web.archive.org/web/*/https://www.danielleskosky.com/i-speak-for-the-trees/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.danielleskosky.com/i-speak-for-the-trees/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24747605</guid>
            <pubDate>Sun, 11 Oct 2020 17:47:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Timekeeping in Financial Exchanges]]>
            </title>
            <description>
<![CDATA[
Score 178 | Comments 183 (<a href="https://news.ycombinator.com/item?id=24746836">thread link</a>) | @lucaspauker
<br/>
October 11, 2020 | https://www.lucaspauker.ml/articles/20 | <a href="https://web.archive.org/web/*/https://www.lucaspauker.ml/articles/20">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.lucaspauker.ml/articles/20</link>
            <guid isPermaLink="false">hacker-news-small-sites-24746836</guid>
            <pubDate>Sun, 11 Oct 2020 16:19:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Compiling a Lisp to x86-64: Heap allocation]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24746587">thread link</a>) | @tekknolagi
<br/>
October 11, 2020 | https://bernsteinbear.com/blog/compiling-a-lisp-9/ | <a href="https://web.archive.org/web/*/https://bernsteinbear.com/blog/compiling-a-lisp-9/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p><span data-nosnippet="">
<em><a href="https://bernsteinbear.com/blog/compiling-a-lisp-0/">first</a></em> – <em><a href="https://bernsteinbear.com/blog/compiling-a-lisp-8/">previous</a></em>
</span></p>

<p>Welcome back to the “Compiling a Lisp” series. Last time we added support for
<code>if</code> expressions. This time we’re going add support for basic heap allocation.</p>

<p>Heap allocation comes in a couple of forms, but the one we care about right now
is the <code>cons</code> primitive. Much like <code>AST_new_pair</code> in the compiler, <code>cons</code>
should:</p>

<ul>
  <li>allocate some space on the heap,</li>
  <li>set the <code>car</code> and <code>cdr</code>, and</li>
  <li>tag the pointer appropriately.</li>
</ul>

<p>Once we have that pair, we’ll want to poke at its data. This means we should
probably also implement <code>car</code> and <code>cdr</code> primitive functions today.</p>

<h3 id="what-a-pair-looks-like-in-memory">What a pair looks like in memory</h3>

<p>In order to generate code for packing and pulling apart pairs, we should
probably know how they are laid out in memory.</p>

<p>Pairs contain two elements, side by side — kind of like a two-element array.
The first element (<code>pair[0]</code>) is the <code>car</code> and the second one (<code>pair[1]</code>) is
the <code>cdr</code>.</p>

<div><div><pre><code>   +-----+-----+
...| car | cdr |...
   +-----+-----+
   ^
   pointer
</code></pre></div></div>

<p>The untagged pointer points to the address of the first element, and the tagged
pointer has some extra information (<code>kPairTag</code> == <code>1</code>) that we need to get rid
of to inspect the elements. If we don’t, we’ll try and read from one byte after
the pointer, somewhere in the middle of the <code>car</code>. This will give us bad data.</p>

<p>To make things more concrete, imagine our pair is allocated at <code>0x10000</code>. Our
<code>car</code> lives at <code>*(0x10000)</code> (using C notation) and our <code>cdr</code> lives at
<code>*(0x10000 + kWordSize)</code>. The tagged pointer in this case would be <code>0x10001</code>
and <code>kWordSize</code> is 8.</p>

<h3 id="allocating-some-memory">Allocating some memory</h3>

<p>We <em>could</em> make a call to <code>malloc</code> whenever we need a new object. This has a
couple of downfalls, notably that <code>malloc</code> does a lot of internal bookkeeping
that we really don’t need, and that there’s no good way to keep track of what
memory we have allocated and needs garbage collecting (which we’ll handle
later). It also has the unfortunate property of requiring C functional call
infrastructure, which we don’t have yet.</p>

<p>What we’re going to do instead is allocate a big slab of memory at the
beginning of our process. That will be our heap. Then, to keep track of what
memory we have used so far, we’re going to bump the pointer every time we
allocate. So here’s what the heap looks like before we allocate a pair:</p>

<div><div><pre><code>+-----+-----+-----+-----+-----+-----+-----+-----+
|     |     |     |     |     |     |     |     |...
+-----+-----+-----+-----+-----+-----+-----+-----+
^
heap
</code></pre></div></div>

<p>The empty cells aren’t necessarily empty, but they are unused and they are
garbage data.</p>

<p>Here is what it looks like after we allocate a pair:</p>

<div><div><pre><code>+-----+-----+-----+-----+-----+-----+-----+-----+
| car | cdr |     |     |     |     |     |     |...
+-----+-----+-----+-----+-----+-----+-----+-----+
^           ^
pair        heap
</code></pre></div></div>

<p>Notice how the <code>heap</code> pointer has been moved over 2 words, and the <code>pair</code>
pointer is the returned cons cell. Although we’ll tag the <code>pair</code> pointer, I am
pointing it at the beginning of the <code>car</code> for clarity in the diagram.</p>

<p>In order to get this big slab of memory in the first place, we’ll have the
outside C code (right now, that’s our test handler) call <code>malloc</code>.</p>

<p>You’re probably wondering what we’re going to do when we run out of memory. At
some point in this series we’ll have a garbage collector that can reclaim some
space for us. Right now, though, we’re just going to do … nothing. That’s
right, we won’t even raise some kind of “out of memory” error. Remember, we
don’t yet have error reporting facilities! Instead, we’ll use tools like
Valgrind and AddressSanitizer to make sure we’re not overrunning our allocated
buffer.</p>

<h3 id="implementation-strategy">Implementation strategy</h3>

<p>In order to make allocation from that big buffer fast and easy, we’re going to
keep the heap pointer in a register. Our compiler emits instructions that use
<code>rbp</code>, <code>rsp</code>, and <code>rax</code>, so we’ll have to pick another one. Ghuloum uses <code>rsi</code>,
so we’ll use that as well.</p>

<p>In order to get the heap pointer in <code>rsi</code> in the first place, we’ll have to
capture it from the outside C code. To do this, we’ll add a parameter to our
<em>entrypoint</em> by modifying the function prologue.</p>

<p>Remember <code>JitFunction</code>? This is what the C code uses to understand how to call
our <code>mmap</code>-ed function. We’re going to need to modify this first.</p>

<div><div><pre><code><span>// Before:</span>
<span>typedef</span> <span>uword</span> <span>(</span><span>*</span><span>JitFunction</span><span>)();</span>

<span>// After:</span>
<span>typedef</span> <span>uword</span> <span>(</span><span>*</span><span>JitFunction</span><span>)(</span><span>uword</span> <span>*</span><span>heap</span><span>);</span>
</code></pre></div></div>

<p>That’s going to need to take a new parameter now — a pointer to the heap.
This means that our <code>kFunctionPrologue</code> will need to expect that in the first
parameter register in the calling convention, and store it somewhere safe. This
register is <code>rdi</code>, so we can emit a <code>mov rsi, rdi</code> to store our heap pointer
away.</p>

<p>Now, for the lifetime of the Lisp entrypoint, we can refer to the heap by the
name <code>rsi</code> and modify it accordingly. We’ll keep an internal convention that
<code>rsi</code> <em>always</em> points to the next available chunk of memory.</p>

<p>Want to allocate memory? Copy the current heap pointer into <code>rax</code> and update
the heap pointer with <code>add rsi, AllocationSize</code>. We’ll need to add a new
instruction for moving data between registers. Honestly, I am kind of surprised
we haven’t needed that yet.</p>

<p>Want to store your <code>car</code> and <code>cdr</code> in your new pair? Write to offset <code>0</code> and
<code>kWordSize</code> of <code>rax</code>, respectively. We’ll reuse our indirect store instruction.</p>

<p>Want to tag your pointer? <code>add rax, Tag</code> or <code>or rax, Tag</code>. These two
instructions are equivalent because all the three taggable bits in a heap
object will be zero.</p>

<blockquote>
  <p>This word-alignment is easy to maintain now because all pairs will be size
16, which is a multiple of 8. Later on, when we add symbols and strings and
other data types that have non-object data in them, we’ll have to insert
padding between allocations to keep the alignment invariant.</p>
</blockquote>

<p>Once we have pairs allocated, it’s kind of useless unless we can also poke at
their elements.</p>

<p>To implement <code>car</code>, we’ll remove the tag from the pointer and read from the
memory pointed to by the register: <code>mov rax, [Ptr+Car-Tag]</code>. You can also do
this with a <code>sub rax, Tag</code> and then a <code>mov</code>.</p>

<p>Implementing <code>cdr</code> is very similar, except we’ll be doing <code>mov rax,
[Ptr+Cdr-Tag]</code>.</p>

<h3 id="brass-tacks">Brass tacks</h3>

<p>Now that we’ve gotten our minds around the abstract solution to the problem, we
should write some code.</p>

<p>First off, here is the addition to the prologue I mentioned earlier:</p>

<div><div><pre><code><span>const</span> <span>byte</span> <span>kEntryPrologue</span><span>[]</span> <span>=</span> <span>{</span>
  <span>// Save the heap in rsi, our global heap pointer</span>
  <span>// mov rsi, rdi</span>
  <span>kRexPrefix</span><span>,</span> <span>0x89</span><span>,</span> <span>0xfe</span><span>,</span>
<span>};</span>
</code></pre></div></div>

<p>Let’s once more add an entry to <code>Compile_call</code>.</p>

<div><div><pre><code><span>int</span> <span>Compile_call</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>ASTNode</span> <span>*</span><span>callable</span><span>,</span> <span>ASTNode</span> <span>*</span><span>args</span><span>,</span>
                 <span>word</span> <span>stack_index</span><span>,</span> <span>Env</span> <span>*</span><span>varenv</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span><span>AST_is_symbol</span><span>(</span><span>callable</span><span>))</span> <span>{</span>
    <span>// ...</span>
    <span>if</span> <span>(</span><span>AST_symbol_matches</span><span>(</span><span>callable</span><span>,</span> <span>"cons"</span><span>))</span> <span>{</span>
      <span>return</span> <span>Compile_cons</span><span>(</span><span>buf</span><span>,</span> <span>/*car=*/</span><span>operand1</span><span>(</span><span>args</span><span>),</span> <span>/*cdr=*/</span><span>operand2</span><span>(</span><span>args</span><span>),</span>
                          <span>stack_index</span><span>,</span> <span>varenv</span><span>);</span>
    <span>}</span>
    <span>// ...</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>We don’t <em>really</em> need to add a whole new function for <code>cons</code> since we’re not
doing structural recursion on the parameters or anything, but <code>Compile_call</code>
just keeps getting bigger and this helps keep it smaller.</p>

<p><code>Compile_cons</code> is pretty much exactly what I described above. I pulled out
<code>rsi</code> into <code>kHeapPointer</code> so that we can change it later if we need to.</p>

<div><div><pre><code><span>const</span> <span>Register</span> <span>kHeapPointer</span> <span>=</span> <span>kRsi</span><span>;</span>

<span>int</span> <span>Compile_cons</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>ASTNode</span> <span>*</span><span>car</span><span>,</span> <span>ASTNode</span> <span>*</span><span>cdr</span><span>,</span>
                 <span>int</span> <span>stack_index</span><span>,</span> <span>Env</span> <span>*</span><span>varenv</span><span>)</span> <span>{</span>
  <span>// Compile and store car on the stack</span>
  <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>car</span><span>,</span> <span>stack_index</span><span>,</span> <span>varenv</span><span>));</span>
  <span>Emit_store_reg_indirect</span><span>(</span><span>buf</span><span>,</span>
                          <span>/*dst=*/</span><span>Ind</span><span>(</span><span>kRbp</span><span>,</span> <span>stack_index</span><span>),</span>
                          <span>/*src=*/</span><span>kRax</span><span>);</span>
  <span>// Compile and store cdr</span>
  <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>cdr</span><span>,</span> <span>stack_index</span> <span>-</span> <span>kWordSize</span><span>,</span> <span>varenv</span><span>));</span>
  <span>Emit_store_reg_indirect</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>Ind</span><span>(</span><span>kHeapPointer</span><span>,</span> <span>kCdrOffset</span><span>),</span>
                          <span>/*src=*/</span><span>kRax</span><span>);</span>
  <span>// Fetch car and store in the heap</span>
  <span>Emit_load_reg_indirect</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>kRax</span><span>,</span> <span>/*src=*/</span><span>Ind</span><span>(</span><span>kRbp</span><span>,</span> <span>stack_index</span><span>));</span>
  <span>Emit_store_reg_indirect</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>Ind</span><span>(</span><span>kHeapPointer</span><span>,</span> <span>kCarOffset</span><span>),</span>
                          <span>/*src=*/</span><span>kRax</span><span>);</span>
  <span>// Store tagged pointer in rax</span>
  <span>Emit_mov_reg_reg</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>kRax</span><span>,</span> <span>/*src=*/</span><span>kHeapPointer</span><span>);</span>
  <span>Emit_or_reg_imm8</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>kRax</span><span>,</span> <span>kPairTag</span><span>);</span>
  <span>// Bump the heap pointer</span>
  <span>Emit_add_reg_imm32</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>kHeapPointer</span><span>,</span> <span>kPairSize</span><span>);</span>
  <span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p><del>Note that even though we’re compiling two expressions one right after another,
we don’t need to bump <code>stack_index</code> or anything. This is because we’re storing
the results not on the stack but in the pair</del>.</p>

<p>As it turns out, we <em>do</em> need to store one of the intermediates on the stack
because otherwise we risk overwriting random data in the heap. As <a href="https://github.com/KCreate">Leonard
Schütz</a> pointed out to me, the previous
version of this code would fail if either the <code>car</code> or <code>cdr</code> expressions
modified the heap pointer. Thank you for the correction!</p>

<p>As promised, here is the new instruction to move data between registers:</p>

<div><div><pre><code><span>void</span> <span>Emit_mov_reg_reg</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>Register</span> <span>dst</span><span>,</span> <span>Register</span> <span>src</span><span>)</span> <span>{</span>
  <span>Buffer_write8</span><span>(</span><span>buf</span><span>,</span> <span>kRexPrefix</span><span>);</span>
  <span>Buffer_write8</span><span>(</span><span>buf</span><span>,</span> <span>0x89</span><span>);</span>
  <span>Buffer_write8</span><span>(</span><span>buf</span><span>,</span> <span>0xc0</span> <span>+</span> <span>src</span> <span>*</span> <span>8</span> <span>+</span> <span>dst</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>Alright, that’s <code>cons</code>. Let’s implement <code>car</code> and <code>cdr</code>. These are
extraordinarily short implementations:</p>

<div><div><pre><code><span>int</span> <span>Compile_call</span><span>(</span><span>Buffer</span> <span>*</span><span>buf</span><span>,</span> <span>ASTNode</span> <span>*</span><span>callable</span><span>,</span> <span>ASTNode</span> <span>*</span><span>args</span><span>,</span>
                 <span>word</span> <span>stack_index</span><span>,</span> <span>Env</span> <span>*</span><span>varenv</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span><span>AST_is_symbol</span><span>(</span><span>callable</span><span>))</span> <span>{</span>
    <span>// ...</span>
    <span>if</span> <span>(</span><span>AST_symbol_matches</span><span>(</span><span>callable</span><span>,</span> <span>"car"</span><span>))</span> <span>{</span>
      <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>operand1</span><span>(</span><span>args</span><span>),</span> <span>stack_index</span><span>,</span> <span>varenv</span><span>));</span>
      <span>Emit_load_reg_indirect</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>kRax</span><span>,</span>
                             <span>/*src=*/</span><span>Ind</span><span>(</span><span>kRax</span><span>,</span> <span>kCarOffset</span> <span>-</span> <span>kPairTag</span><span>));</span>
      <span>return</span> <span>0</span><span>;</span>
    <span>}</span>
    <span>if</span> <span>(</span><span>AST_symbol_matches</span><span>(</span><span>callable</span><span>,</span> <span>"cdr"</span><span>))</span> <span>{</span>
      <span>_</span><span>(</span><span>Compile_expr</span><span>(</span><span>buf</span><span>,</span> <span>operand1</span><span>(</span><span>args</span><span>),</span> <span>stack_index</span><span>,</span> <span>varenv</span><span>));</span>
      <span>Emit_load_reg_indirect</span><span>(</span><span>buf</span><span>,</span> <span>/*dst=*/</span><span>kRax</span><span>,</span>
                             <span>/*src=*/</span><span>Ind</span><span>(</span><span>kRax</span><span>,</span> <span>kCdrOffset</span> <span>-</span> <span>kPairTag</span><span>));</span>
      <span>return</span> <span>0</span><span>;</span>
    <span>}</span>
    <span>// ...</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Both <code>car</code> and <code>cdr</code> compile their argument and then load from the resulting
address.</p>

<p>That’s it. That’s the whole implementation! It’s kind of nice that now we have
these building blocks, adding new features is not so hard.</p>

<h3 id="testing">Testing</h3>

<p>I’ve written a couple of tests for this implementation. In order to make this</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bernsteinbear.com/blog/compiling-a-lisp-9/">https://bernsteinbear.com/blog/compiling-a-lisp-9/</a></em></p>]]>
            </description>
            <link>https://bernsteinbear.com/blog/compiling-a-lisp-9/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24746587</guid>
            <pubDate>Sun, 11 Oct 2020 15:50:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We Need a Nuclear New Deal, Not a Green New Deal]]>
            </title>
            <description>
<![CDATA[
Score 459 | Comments 370 (<a href="https://news.ycombinator.com/item?id=24746397">thread link</a>) | @oedmarap
<br/>
October 11, 2020 | https://www.thebellows.org/we-need-a-nuclear-new-deal-not-a-green-new-deal/ | <a href="https://web.archive.org/web/*/https://www.thebellows.org/we-need-a-nuclear-new-deal-not-a-green-new-deal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					
<p>In July, presidential candidate Joe Biden released his climate and infrastructure plan, “<a href="https://joebiden.com/clean-energy/" target="_blank" rel="noreferrer noopener">The Biden Plan to Build a Modern, Sustainable Infrastructure and an Equitable Clean Energy Future</a>.” From the automotive industry, to infrastructure, to addressing racial inequality, to labor protections, to a massive renewable energy build out, Biden aims to remake the American industrial base, right past wrongs, and generate a gobsmacking 10 million “good union jobs” in the process. For comparison, the Works Progress Administration under the New Deal created <a href="https://www.nytimes.com/1943/07/01/archives/wpa-pays-up-and-quits-turns-back-130000000-after-spending-10-12.html">8.5 million jobs</a>.&nbsp;</p>



<p>Biden’s capacious plan has raised eyebrows. Some believe it speaks to his “<a href="https://www.ft.com/content/f207fc7e-2afc-407c-beda-6e7e38100739" target="_blank" rel="noreferrer noopener">deceptive radicalism</a>;” others <a href="https://www.theguardian.com/commentisfree/2020/jul/20/joe-biden-has-endorsed-the-green-new-deal-in-all-but-name" target="_blank" rel="noreferrer noopener">rightly point out</a> that he’s “endorsed the Green New Deal in all but name.” Both Biden’s plan and the Green New Deal rely heavily on “variable renewables” (i.e. wind and solar, the output of which varies with the weather) to decarbonize the economy. Renewables like solar and wind, which don’t create greenhouse gas emissions, play a starring role in what is called an “energy mix”: a combination of existing nuclear energy, variable renewables, hydropower, and <a href="https://www.eia.gov/energyexplained/biomass/" target="_blank" rel="noreferrer noopener">biomass</a>. Unfortunately, the view of renewables as a naturally harmonious, carbon-neutral technology is more romantic than scientific.</p>



<p>Take California as an example. Since 2001, the state has sought to replace its fossil fuel energy with renewables. The subsequent instability of their electrical grid <a href="https://www.mercurynews.com/2020/08/17/california-blackouts-expose-problems-in-states-transition-to-clean-energy/" target="_blank" rel="noreferrer noopener">caused blackouts</a> during a heatwave this August; when wildfires broke out the following month, a blanket of ash blotted out the sun in some places, cutting the state’s solar energy output by <a href="https://www.eenews.net/stories/1063713459" target="_blank" rel="noreferrer noopener">one-third</a>.&nbsp;</p>



<div id="block_5f6e335ef7b77">
    <p>
		Any climate plan that doesn’t prioritize nuclear is destined to exacerbate climate problems.     </p>
</div>


<p>But the grid’s efficacy is only part of the problem. Energy in California is incredibly expensive for ratepayers, despite the <a href="https://www.forbes.com/sites/brianmurray1/2019/06/17/the-paradox-of-declining-renewable-costs-and-rising-electricity-prices/#4311f37d61d5" target="_blank" rel="noreferrer noopener">declining cost</a> of wind and solar installations. Since the state further <a href="https://energyathaas.wordpress.com/2017/02/21/breaking-news-california-electricity-prices-are-high/" target="_blank" rel="noreferrer noopener">expanded</a> its variable renewables portfolio between 2011 and 2019, consumer electricity prices <a href="https://www.theintelligencer.net/opinion/local-columns/2019/08/mandated-wind-solar-power-makes-electric-bills-soar/" target="_blank" rel="noreferrer noopener">have leapt 30%</a>.&nbsp;</p>



<p>California could be a preview of what American life will look like if Biden’s plan or the Green New Deal succeeds, but it doesn’t have to be this way. Had California spent its money on nuclear energy instead of renewables, it could have <a href="https://environmentalprogress.org/big-news/2018/9/11/california-and-germany-decarbonization-with-alternative-energy-investments" target="_blank" rel="noreferrer noopener">decarbonized by now</a>. That is why any climate plan that doesn’t prioritize nuclear above all other energy sources is destined to exacerbate climate problems rather than solve them.&nbsp;</p>



<h5><strong>Nuclear Superiority</strong></h5>







<p>Much of the anxiety about nuclear energy is due to the displacement of<a href="https://blogs.scientificamerican.com/guest-blog/the-rise-of-nuclear-fear-how-we-learned-to-fear-the-bomb/" target="_blank" rel="noreferrer noopener"> Cold War-era fears</a> of military nuclear weapons. Fortunately, despite their shared history and basic science, nuclear weapons and civilian nuclear energy couldn’t be more dissimilar. Reactors from civilian plants don’t blow up <a href="https://science.fusion4freedom.com/why-a-nuclear-reactor-cannot-explode-like-an-atom-bomb/" target="_blank" rel="noreferrer noopener">like atomic bombs</a> and nuclear waste isn’t a glowing toxic ooze.</p>



<p>Throughout seven decades of service, nuclear power has consistently been proven to be <a href="https://ourworldindata.org/safest-sources-of-energy">safer</a> than every other mass scale form of energy production. In one year, residents who live near a nuclear power plant are exposed to less radiation than anyone who has eaten <a href="https://www.universityofcalifornia.edu/longform/what-know-you-go-bananas-about-radiation" target="_blank" rel="noreferrer noopener">a single banana</a>. Though it may sound counterintuitive, because elements such as uranium and plutonium have such long half-lives, the radiation they emit is low enough to safely hold in your hand. Nuclear is also far and away the <a href="https://www.energy.gov/ne/articles/nuclear-power-most-reliable-energy-source-and-its-not-even-close" target="_blank" rel="noreferrer noopener">most reliable</a> form of energy generation in the US, which makes it ideal for providing baseload power for the electrical grid. Nuclear reactors routinely spend years in continuous operation. The current fleet of nuclear power plants have no technical limits that prevent them from being in service for <a href="https://www.energy.gov/ne/articles/whats-lifespan-nuclear-reactor-much-longer-you-might-think" target="_blank" rel="noreferrer noopener">80 years</a>, if not a century.</p>



<div id="block_5f6e33cff7b78">
    <p>
		Waste from the entire history of American nuclear power can fit within an area the size of a football field.    </p>
</div>


<p><a href="https://grist.org/energy/nuclear-powers-big-new-idea-is-really-small/" target="_blank" rel="noreferrer noopener">Many nuclear advocates</a> direct attention to the innovative (though pointedly market-based) nuclear technology breakthroughs that always seem to be <a href="https://www.washingtonexaminer.com/policy/energy/nuclear-advocates-fret-as-first-maker-of-small-reactors-encounters-trouble" target="_blank" rel="noreferrer noopener">years away</a> from commercialization and are dependent on massive, inconstant <a href="https://thebulletin.org/2019/06/what-will-be-required-for-a-significant-expansion-of-global-nuclear-energy/" target="_blank" rel="noreferrer noopener">government grants</a>. As impressive and potentially useful as these developments may be, many existing reactors in the global fleet have capabilities that could be considered “advanced” in and of themselves: the currently operating <a href="https://www.world-nuclear-news.org/NN-Russian-fast-reactor-reaches-full-power-1708165.html" target="_blank" rel="noreferrer noopener">BN-800 plant</a> in Russia is a fast breeder reactor, which means it can use nuclear waste as fuel, and the 1950s design <a href="https://inis.iaea.org/collection/NCLCollectionStore/_Public/14/720/14720546.pdf" target="_blank" rel="noreferrer noopener">CANDU reactor</a> is small enough to be considered  “modular” and can also use unenriched uranium or thorium as fuel. Nuclear power works now and works well.&nbsp;</p>



<figure><img src="https://lh5.googleusercontent.com/y6D0-PCEyOjxETliFjWqAl34h-jcyJ082pxS2egDt5IhFhUi88unOp8W7IiZsqt0PT7fDOFqfi37ZKeQBtGMsL3LGYJsfbaHmZ2VL9EIwywgQY188bVLChrvwv01kTcaa_dyUgJC" alt=""></figure>



<p>Probably the biggest bugbear for anti-nuclear environmentalists is the question of radioactive waste disposal. But not all nuclear waste is created equal; in fact, most is composed of low-level waste (LLW) made up of protective clothing, cleaning materials, equipment, and tools exposed to neutron radiation. LLW accounts for <a href="https://www.world-nuclear.org/nuclear-essentials/what-is-nuclear-waste-and-what-do-we-do-with-it.aspx" target="_blank" rel="noreferrer noopener">90% of nuclear waste by volume but only 1% of its total radioactivity</a> and can be disposed of safely and permanently. After about half a decade of providing carbon-free energy in the reactor core, the uranium fuel itself must be replaced. This high-level waste (HLW) is the highly radioactive and long-living stuff that you see caricatured in popular imagination. Yet this type of waste comprises <a href="https://www.world-nuclear.org/information-library/nuclear-fuel-cycle/nuclear-wastes/radioactive-wastes-myths-and-realities.aspx" target="_blank" rel="noreferrer noopener">only 3%</a> of total nuclear waste. To put this in perspective, all of the waste from the entire history of American nuclear power plants can fit within an area <a href="https://environmentalprogress.org/the-complete-case-for-nuclear" target="_blank" rel="noreferrer noopener">the size of a football field</a>, 50 feet high—half the height of a single wind turbine.&nbsp;</p>



<figure><img src="https://lh3.googleusercontent.com/YZgc8FsRYP6AOHeHwILcDeeYKwkU_PHGjVdn7kcAyhwEPIeJl9TVfVn1m2cthkIzkSX8b5iI4IAmACz21QACd3O-f2z9vbF3gibNaLO1owaKVcTRT8KqN49I9EdjSw_UHTQ5tHj0" alt=""><figcaption>Graphic provided by <a href="https://www.linkedin.com/in/erikvogtchicago/" target="_blank" rel="noreferrer noopener">Erik Vogt</a></figcaption></figure>



<p>Meanwhile, weather-dependent renewables require 400-450 times the land to produce the same amount of electricity as nuclear. Leveling an area of land larger than almost a third of all U.S. states for energy production might be an acceptable compromise to some, but it does not solve the weather-dependent nature of those sources. Further complicating matters is the fact renewable energy must be stored for later, which requires the use of lithium batteries. But the sheer scale of mining and land use required, and the fact that it involves the domination and exploitation of predominantly developing countries, makes the choice not only inefficient, but unethical. With the abundant uranium reserves already in the United States today, we have the capacity to <a href="https://www.energy.gov/ne/articles/building-uranium-reserve-first-step-preserving-us-nuclear-fuel-cycle" target="_blank" rel="noreferrer noopener">cultivate an industry</a> to domestically fuel our reactors right now.</p>					
			
                

            
		
		



<h5><strong>The Nuclear New Deal</strong></h5>







<p>No nuclear energy program has ever launched without heavy state intervention—the capital costs are just too high for private entities to take on. The Biden campaign <a href="https://joebiden.com/clean-energy/" target="_blank" rel="noreferrer noopener">says</a> it wants to rely on “innovation” and “rapid commercialization” to drive down costs for nuclear energy, but that means praying to the gods of Silicon Valley for rain.&nbsp;</p>



<p>The price-trolling is disingenuous. Other countries, especially those that at least partially subsidize their nuclear industries <a href="https://thebulletin.org/2019/06/why-nuclear-power-plants-cost-so-much-and-what-can-be-done-about-it/#:~:text=The%20design%20and%20construction%20of,costs%2C%20which%20can%20become%20significant.&amp;text=Because%20of%20its%20high%20construction,plants%20by%20the%20discount%20rate.">pay </a><a rel="noreferrer noopener" href="https://thebulletin.org/2019/06/why-nuclear-power-plants-cost-so-much-and-what-can-be-done-about-it/#:~:text=The%20design%20and%20construction%20of,costs%2C%20which%20can%20become%20significant.&amp;text=Because%20of%20its%20high%20construction,plants%20by%20the%20discount%20rate." target="_blank">l</a><a href="https://thebulletin.org/2019/06/why-nuclear-power-plants-cost-so-much-and-what-can-be-done-about-it/#:~:text=The%20design%20and%20construction%20of,costs%2C%20which%20can%20become%20significant.&amp;text=Because%20of%20its%20high%20construction,plants%20by%20the%20discount%20rate." target="_blank" rel="noreferrer noopener">ess</a> than we do for nuclear. Russia’s Rosatom, for example, <a rel="noreferrer noopener" href="https://www.rbth.com/economics/2015/02/27/why_electricity_from_russian_nuclear_power_plants_is_cheaper_41689" target="_blank">benefits</a> from its industrial capacity and experience, the two ingredients necessary for cheaper nuclear production. Unlike most industries, innovation actually makes nuclear more expensive. As researchers Michel Berthélemy and Lina Escobar Rangel have <a rel="noreferrer noopener" href="https://hal.archives-ouvertes.fr/hal-00956292/document" target="_blank">pointed out</a>, construction costs can only be reduced by mass-producing identical reactors, assembly-line style.</p>



<p>In order for this to work in the United States, the federal government could consolidate the nuclear arms of General Atomics, General Electric, Westinghouse, and others into a single public corporation. This federal entity would be mandated to decarbonize the American electricity grid.&nbsp;</p>



<p>First, the US will need to commit to an industrial policy like those of <a href="https://www.google.com/books/edition/The_Radiance_of_France_new_edition/8yl2BbxqFY0C?hl=en&amp;gbpv=1" target="_blank" rel="noreferrer noopener">France</a> and <a href="https://www.world-nuclear.org/information-library/country-profiles/countries-o-s/south-korea.aspx#:~:text=History%20of%20the%20nuclear%20sector,was%20established%20by%20the%20government." target="_blank" rel="noreferrer noopener">South Korea</a>, which allowed them to create their own nuclear programs to manufacture the necessary reactors. These reactors (and their plants) will need to be standardized if they’re going to recoup the aforementioned benefits of repetitive construction. A <a href="https://thebulletin.org/2019/06/what-will-be-required-for-a-significant-expansion-of-global-nuclear-energy/" target="_blank" rel="noreferrer noopener">substantial number</a> of new reactors will need to be built per year, so American industry would have to increase its construction capacity, especially to provide the necessary <a href="https://www.industryweek.com/the-economy/environment/article/21946577/us-cedes-capability-for-largest-nuclear-forgings" target="_blank" rel="noreferrer noopener">heavy forging</a>. Reactors already in service should undergo safety reviews that extend their licensing. They should also undergo refurbishment and retrofitting with technical upgrades to increase efficiency and safety. Alongside the reactor buildout, <a href="https://cnpp.iaea.org/countryprofiles/France/France.htm" target="_blank" rel="noreferrer noopener">a strong domestic fuel cycle industry</a> to provide the uranium would need to be developed.</p>



<p>Second, the US will have to train a workforce. Staffing these new plants would strain the capacity of the currently existing nuclear engineering programs in both academia and industry, which need to pass along decades of expertise to a new generation of nuclear workers. In the original spirit of the <a href="https://www.nsf.gov/about/history/nsf50/nsf8816.jsp#chapter3" target="_blank" rel="noreferrer noopener">National Defense Education Act of 1958</a>, the federal government should forgo market incentives and directly award government grants to higher education institutions, <a href="https://www.nrc.gov/reactors/operator-licensing/licensing-process.html" target="_blank" rel="noreferrer noopener">vocational schools</a>, and students in nuclear energy and related fields to scale up along with the growing industry as quickly as possible. Not counting construction, and taking the <a href="https://www.sanluisobispo.com/news/business/article121404573.html" target="_blank" rel="noreferrer noopener">Diablo Canyon plant</a> as a model, an estimated 250,000 workers will be needed to operate some 230 of these plants <em>in perpetuity</em>.&nbsp;</p>



<p>If the American rollout of its 21st century nuclear fleet is in line with <a href="https://thebreakthrough.org/issues/energy/the-green-new-deal-and-the-legacy-of-public-power" target="_blank" rel="noreferrer noopener">historical nuclearizations</a>, the annual decarbonization rate should end up being 0.5% less than the 5% per-year “<a href="https://www.stockholmresilience.org/research/research-news/2017-03-23-curbing-emissions-with-a-new-carbon-law.html" target="_blank" rel="noreferrer noopener">carbon law</a>” emissions reduction suggested by&nbsp; the Stockholm Resilience Centre. This steep rate would reduce the risk of blowing past our carbon budget to stay under 2°C by 2050.</p>



<p>But the emissions reduction does not stop there. Once the energy grid is nuclear and carbon-free, we could then turn our attention to producing district heat, high-temperature industrial heat, and hydrogen and ammonia production. We could also decarbonize transport and agriculture. Decarbonizing electricity would only be the first …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.thebellows.org/we-need-a-nuclear-new-deal-not-a-green-new-deal/">https://www.thebellows.org/we-need-a-nuclear-new-deal-not-a-green-new-deal/</a></em></p>]]>
            </description>
            <link>https://www.thebellows.org/we-need-a-nuclear-new-deal-not-a-green-new-deal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24746397</guid>
            <pubDate>Sun, 11 Oct 2020 15:23:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Note about Spotify Transfers]]>
            </title>
            <description>
<![CDATA[
Score 384 | Comments 166 (<a href="https://news.ycombinator.com/item?id=24746001">thread link</a>) | @davidbarker
<br/>
October 11, 2020 | https://songshift.com/blog/spotify_transfers | <a href="https://web.archive.org/web/*/https://songshift.com/blog/spotify_transfers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    
                    <p>Unfortunately, as of SongShift v5.1.2, you will no longer be able to create transfers from Spotify to another music service. We understand this will be a disappointment for a lot of you. We wish we didn't have to.</p>
<h6 id="whythen">Why then?</h6>
<p>The Spotify Developer Platform Team reached out and let us know we'd need to remove transferring from their service to a competing music service or have our API access revoked due to TOS violation. While this is not the news we wanted to hear, we respect their decision. </p>
<h6 id="asweadvance">As we advance</h6>
<p>To continue to provide some level of support for Spotify, we'll still be supporting transferring from other services to Spotify.</p>
<p>We will continue to roll out planned features for SongShift. Some quality of life improvements, some new supported services, and other things best left a surprise. </p>
<p>*Any new features will have the same limitation of not supporting transfers out of Spotify. </p>
<h6 id="closingwords">Closing Words</h6>
<p>This update is a painful one to push out to you all. We hope to continue to be of help with all your other music transferring needs. </p>
                </div></div>]]>
            </description>
            <link>https://songshift.com/blog/spotify_transfers</link>
            <guid isPermaLink="false">hacker-news-small-sites-24746001</guid>
            <pubDate>Sun, 11 Oct 2020 14:23:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From an Airtable to $9.2k in Side Income]]>
            </title>
            <description>
<![CDATA[
Score 128 | Comments 56 (<a href="https://news.ycombinator.com/item?id=24745539">thread link</a>) | @sak5sk
<br/>
October 11, 2020 | https://www.swipe.page/p/from-an-airtable-to-10k-in-side-income | <a href="https://web.archive.org/web/*/https://www.swipe.page/p/from-an-airtable-to-10k-in-side-income">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This is a short story of how I turned an Airtable file into $9.2k in side income. Just to be honest up front, I&nbsp;did not expect it to even pass $1k when I launched. It's a bit of a surprise, but I&nbsp;think I&nbsp;figured out a few things that worked well.</p><figure id="w-node-5834e42205eb-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f82fab08f8ef544030bdac8_sales9k.png" loading="lazy" alt=""></p></figure><h2>Final Numbers:</h2><ul role="list"><li>💵 Prelaunch sales: ~$700</li><li>💵 Sales from Product Hunt featured: $3,797</li><li>💵 Sales from PH newsletter the next day: $1,131</li><li>💵 $ 488 residual sales</li><li>💵 $ 6,116 total sales</li><li>💵 Post-launch sales: $3,161</li><li>💵 Sales to date: $9,277</li><li>📄 85 sales</li><li>📄 15 short of 100 goal</li><li>💔 Refunds: 1</li><li>🔣 7.45% conversion rate (includes PH newsletter)</li><li>💵 Average sales is $69</li></ul><p>Earlier this year in May, I saw something interesting. I stumbled across an airtable file with growth strategies that sold ~3k worth according to the person who made it.</p><p>I thought, hmm, there's money in info products.</p><p>So I set out to create my own.</p><p>Some time shortly after, I assembled my first version of an airtable file that contained various conversion strategies to help SaaS companies get more customers and revenue.</p><p>The info came part from experience and part from seeing others succeed with some of these strategies. You see, I am conversion rate consultant by day, so I figured I could package some of this knowledge and sell it as a product.</p><p>Ok, so the easy part was done. Now what? How do I sell without an audience?</p><h2>Created a Landing Page in Webflow</h2><p>Since I was already a customer of Webflow and knew my way around, I decided to put up a quick landing page.</p><p>The first version sucked.</p><p>So much so that I completely gutted it. You can see what it looked like here:</p><figure id="w-node-707638c9361c-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f824fd0dc86b559835333d9_Swipe-Initial.jpg" loading="lazy" alt=""></p></figure><p>Over time I refined the landing page into what it is today, but the point is that it needed to be done quickly. My goal was to validate my own idea as quickly as possible.</p><h2>Validating an Idea</h2><p>Normally you validate an idea BEFORE you create something. But, since I already had customers who came to me for conversion audits, I figured this was a service in high demand, so it would naturally do well as a product.</p><p>In short, I performed no other validation aside from knowing people come to me for a service.</p><p>However, this doesn't mean I didn't want to try and sell a few copies to make sure my hunch was right.</p><p>Since I had no idea how to find any customers, I decided to take up the old indie hacker mantra: "build in public".</p><h2>Build in Public</h2><p>At the time, my twitter account had about 390 followers. Nope, I was not active on Twitter at all.</p><p>But this had to be changed. I started talking about my product.</p><p>At the same time, I added Swipe to Indie Hackers. Started plugging it here and there while answering posts and just generally trying to be useful. </p><p>The main file / product was finished with 153 items on May 18:</p><figure id="w-node-3db0bdbb9956-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f82510a0e855727a27ff921_May%20Update.png" loading="lazy" alt=""></p></figure><p>I also joined IndieLog.com where I started vlogging my journey. I actually did not share much about Swipe until August.</p><figure id="w-node-486522f5d25c-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f8251b1b15390e87754d5c8_indielog.png" loading="lazy" alt=""></p></figure><h2>Registered a Domain</h2><p>I&nbsp;used Google Domains to register swipe.page. It was going for $36/year ... not the cheapest but I&nbsp;loved the name. In case you are wondering, a "swipe file"&nbsp;is something marketers used to have in the olden days where they would literally have a folder with marketing ideas used in previous campaigns. They'd go through the file and pick out something that has worked and try it again.</p><p>I&nbsp;thought this would be appropriate considering my product consisted of ideas you can implement on your own website.</p><p>A friend later told me that Google "re-evaluates" expiring domains and raises prices in some cases. I&nbsp;guess the cost could go up to as much as $400. True or not, I didn't want to risk it so I&nbsp;renewed my domain for 4 years (after I've already made some sales).&nbsp;Just something to think about if you are buying from Google Domains!</p><figure id="w-node-9dc7d4c8d6d7-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f825c0486c4510019546d68_Google%20Domains.png" loading="lazy" alt=""></p></figure><h2>First Customer</h2><p>The first customer purchased a copy of Swipe back when the landing page was total junk. I managed to write some comprehensive article on Indie Hackers. Someone liked what I wrote, checked out my profile and bought the first copy.</p><figure id="w-node-b9fb486958c0-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f825216b1539068ca54d5e2_1st-sale.png" loading="lazy" alt=""></p></figure><p>I was pretty happy! It's one thing to make $3k on an audit, and a totally different feeling getting $87 from a product. You have to experience it to know what I'm talking about.</p><h2>Broken Redirect Almost Cost Me My 2nd Sale</h2><p>While talking about my product in as many places as I could, someone told me they tried to purchase a copy but my website was not working.</p><p>I rushed as quickly as I could to see what was happening. It turns out, I didn't have www to non-www redirect setup so the person could not get to the functional site.</p><p>Luckily, as soon as I fixed the redirect, that person bought the 2nd copy of Swipe.</p><h2>3rd Sale</h2><p>Don't worry, I won't go into how I got every sale one by one... but I thought I'd cover the first handful.</p><p>The 3rd sale came from the founder of<a href="http://indielog.com/"> IndieLog.com</a> Damon Chen. Seeing how I was uploading videos on IndieLog, Damon noticed the product and purchased a copy. Today, I would consider Damon a close friend as we've gotten to know each other a lot over Twitter DMs.</p><h2>Sale 4-7</h2><p>The next batch of sales came from a huge IndieHacker thread where I offered to glance at people's websites for free and record a first impression video.</p><figure id="w-node-5eee2a8c6241-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f8252b05451d71e4eee9a1e_IH-Thread.png" loading="lazy" alt=""></p></figure><p>The thread was received so well that I ended up recording over 100 videos. It took me 3 days!</p><figure id="w-node-d7313086160a-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f8253011bcbb04ec9e268b1_videos.png" loading="lazy" alt=""></p></figure><p>Eventually, I turned the recordings into its own <a href="https://gumroad.com/cogentgene1#GzGkO">product</a>, now available on Gumroad.</p><p>A handful of people who saw my videos also decided it was worth buying Swipe.</p><p>As the momentum for sales started picking up, I saw a glimmer of hope, and thought that with appropriate effort I could eventually scale it up.</p><h2>Sale 8-9</h2><p>One of the next sales came through a friend who was also my boss early on. They saw value in Swipe and picked it up.</p><p>Sale #9 was a cold outreach email. One email sent, one sale made. I am waiting to test this strategy again to make sure it is replicable.</p><h2>Product Hunt Launch</h2><p>If you did the math, by now the product made $783. Peanuts to most, but not nothing for a new product with no audience.</p><p>I was very nervous, but with Damon's encouragement, decided to share Swipe on Product Hunt.</p><p>At this point, I refined my landing page significantly. <strong>I went through my own product and used it as a checklist </strong>to apply treatment to various parts of my website.</p><p>From copy to headlines, social proof, sales letter, scarcity, urgency — it was all there.</p><p>To add some excitement to the product, I recorded a video where I introduced a 20% OFF discount.</p><figure id="w-node-1181a923ca66-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f825c7659d4232edaf6889a_Swipe-PH.png" loading="lazy" alt=""></p></figure><p>If you are curious to read more about the entire launch process, I am writing an ebook that spells out the entire process, provides examples and shows how you can do the same STEP&nbsp;BY&nbsp;STEP. </p><figure id="w-node-7197419dd875-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f82f824374a417165de57f5_ebookcover.png" loading="lazy" alt=""></p></figure><p>This ebook spells out all of the details including the page optimizations I made to get to 7.45% sale conversion rate. It is almost finished. I'm going to give away 5 copies to a random person on my mailing list, so sign up if you haven't (email box at the top and below this article).</p><figure id="w-node-2881cf37f46a-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f82f7f25451d750c1efb5bf_ebook-announcement.png" loading="lazy" alt=""></p></figure><p>In short, the launch went really well, much better than expected. I set my initial goal to $1k sales as a best case scenario, but in the following few days the product sold almost $5,000 worth. A followup tweet from Product Hunt generated another 7 sales. &nbsp;To say that I was happy is an understatement!</p><h2>Post-Launch</h2><p>After the successful launch, I gained about 100 new Twitter followers. Not that I was counting... I&nbsp;honestly don't care about Twitter follower numbers, just wanted to report the effects. </p><p>To keep the momentum going, I set up a few new affiliates (who saw that my product did well and wanted to sell it with me). My affiliates brought in more sales. About 8 in total.</p><p>I also started tweeting about the launch itself, and that seems to have generated some interest and additional sales.</p><p>The most recent tweet about my first Gumroad payout had a ton of engagement, profile clicks, and I think lead to a sale or two.</p><figure id="w-node-0685237791aa-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f82f8c971a3e4bfdaffd602_Payout.png" loading="lazy" alt=""></p><figcaption>Gumroad payout 1 of 2.</figcaption></figure><p>Of course, any time a tweet seems to pick up steam, I pin it to my profile to make sure everyone sees it.</p><h2>Going Forward</h2><p>My plans for Swipe are pretty big and I am just getting started. Going forward, I am looking to partner with lifetime deal companies to launch to wider audiences. Since I don't have a following or even a mailing list, I figured I'd rather launch to other people's audiences.</p><p>Recently, I created and tweeted this graphic to describe my mindset:</p><figure id="w-node-ce36b954f323-d0fac31f"><p><img src="https://uploads-ssl.webflow.com/5f8194bf5b030146a768cd8c/5f81a74f968d58c459f29c60_EjuBt89U0AU5CJD.jpeg" loading="lazy" alt=""></p></figure><p>While promoting Swipe, I also plan to finish my other 2 products: Swipe Grow, and Swipe Sell — one for ecommerce strategies and one for growth strategies. If you have any interest in either, hop on the mailing list or DM&nbsp;me on Twitter.</p><p>In terms of sales, things have slowed down for now. I am still getting 1-2 sales per day at $157 price tag, but soon the 2nd tier will sell out and the product will go up to $187. I don't know what that will do to conversions but I hope nothing too dramatic. If you consider the cost of an audit, it's still a great deal.</p><h2>Want to try and replicate my results?&nbsp;Here are my top tips:</h2><ol role="list"><li>Build something you enjoy, or know a lot about. This will help you stay motivated when it feels like you are not making any progress.</li><li>Start building in public from day 1. Put up a website / blog / whatever, and slap an email collection box on it. Just like I did here. Your goal should be to share as much as possible about your idea from day 1, and document it as it gets built.</li><li>As part of building in public, start tweeting about your project and related concepts / topics at least 8 times a day. For most, this will seem like a lot, but eventually you will be fine doing it without thinking. Yes, you can skip this step, it is not totally crucial but it will help a lot! If you already have a Twitter following, great!</li><li>Start sharing on relevant sites. While you build in public and tweet, start sharing your content, learnings or findings on sites relevant to your product. For me it was IndieHackers.</li><li>Start connecting with people in Twitter DMs. Most people make a huge mistake - they interact on sites, and leave it at that. Instead, while you are interacting and notice someone comment on your things in a positive way, reach out to them on Twitter and strike up a conversation. Get to know them, their work, what drives them. Be genuinely …</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.swipe.page/p/from-an-airtable-to-10k-in-side-income">https://www.swipe.page/p/from-an-airtable-to-10k-in-side-income</a></em></p>]]>
            </description>
            <link>https://www.swipe.page/p/from-an-airtable-to-10k-in-side-income</link>
            <guid isPermaLink="false">hacker-news-small-sites-24745539</guid>
            <pubDate>Sun, 11 Oct 2020 13:15:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The implementation of epoll (2014)]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24745257">thread link</a>) | @bhaavan
<br/>
October 11, 2020 | https://idndx.com/2014/09/01/the-implementation-of-epoll-1/ | <a href="https://web.archive.org/web/*/https://idndx.com/2014/09/01/the-implementation-of-epoll-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
<div>
<article>

<section>
<div>
<p>In this series of blog posts, I will be taking notes about the internals and implementation details of the Linux event poll (<code>epoll</code>) subsystem.</p>

<p>Please note that I am assuming the audiences of those articles are familiar with <code>epoll</code> APIs and usages. I will be focusing on the actual kernel implementation of the <code>epoll</code> subsystem, not it's usages. If you are not familiar with the usage of <code>epoll</code> or didn't quite understand what it does, I strongly encourage you to read <a href="http://man7.org/linux/man-pages/man7/epoll.7.html">epoll's man page</a> first, since it will make understanding the implementation much easier.</p>
<p>In this series of articles, I will explain the internal of <code>epoll</code> based on the <code>Linux 3.16.1</code> kernel source code.</p>

<p>This article will refers to the actual code that comes from the Linux kernel distribution. Those codes are released under the <code>GPL v2</code> license. However, redistribution of other parts of this article is not allowed, unless author's consent was acquired prior to the distribution.</p>

<p><code>epoll</code> consists of a few system calls provided by the Linux kernel as an efficient way to perform I/O Multiplexing. Thanks to Linux's Virtual File System design, any file that is "pollable", or more specifically, implements the <code>poll()</code> file operation could be used with <code>epoll</code>. This includes socket files, which is one of the primary interest nowadays.</p>

<p>Traditionally, programmers used <code>select</code> or <code>poll</code> as ways to perform I/O multiplexing. However, both <code>select</code> and <code>poll</code> were designed long time ago, when network services were only dealing with thousands of concurrent clients. The way <code>select</code> and <code>poll</code> works are extremely similar. In fact, they are both implemented within a single file under the Linux kernel repository (<code>fs/select.c</code>). The ways they works are also straightforward. The application generates an array of fds that it is interested in. Then the application make a system call to the Kernel. The the Kernel will then copy the array of fds from user space and then went through every single one of them to see whether there are any events available with file's <code>poll()</code> operation. After that, <code>select</code> will simply generate a bit array and copy it back to the user space, where <code>poll</code> will directly manipulate the <code>pollfd</code> struct in the user space, without copying back.</p>

<p>As we can see, the implementation of <code>select</code> and <code>poll</code> means that they will not scale well with large amounts of file descriptors, since their time complexity are both O(n). This was not a problem, until the number of people using the Internet boomed in the last ten years. Nowadays, it is very common for servers to handle 100000 TCP connections at the same time. Although it is possible to handle that much connection with <code>select</code> or <code>poll</code>, what is likely to happen is that valuable CPU times will be wasted on polling those file descriptors. This will have a significant impact on the scalability and responsiveness of the server. In order to solve this problem, we need a solution that could notify us about file descriptors events in a smarter way, and this is exactly what <code>epoll</code> came for.</p>

<p>Before we decide to dig deep into the Linux kernel source code, let's have an general idea about how <code>epoll</code> works.</p>
<p>The biggest difference between <code>epoll</code> and traditional I/O multiplexing mechanisms is that, instead of building and passing a giant array of file descriptors into the Kernel every time, the application simply acquires an <code>epoll</code> instance and <strong>register</strong> file descriptors onto it. And rather than polling a whole array of file descriptors, the <code>epoll</code> instance <strong>monitors</strong> registered file descriptors and "report" events to the application when being asked. This process is very effective when the ratio of <em>{file descriptors that has events occurred} / {total number of monitored file descriptors}</em> is relatively small. Since the time complexity of <code>epoll</code> subsystem is constant, it is very easy to handle few hundred thousands of open TCP connections at ease with it.</p>

<p>The <code>epoll</code> instance is the heart of the <code>epoll</code> subsystem. Under Linux, we request an <code>epoll</code> instance by calling either <code>epoll_create(2)</code> or <code>epoll_create1(2)</code>. Both functions return a file descriptor. The reason of using a file descriptor as the reference to an <code>epoll</code> instance is that this makes the <code>epoll</code> instance also pollable. This enables advanced usage such as monitor epoll instances with <code>epoll</code>, <code>select</code> or even <code>poll</code>. But the actual important part of the <code>epoll</code> instance is a kernel data structure <code>struct eventpoll</code>, defined in <code>fs/eventpoll.c</code> line 180. This data structure maintains almost everything an <code>epoll</code> instance needs to work properly. The code that allocates a <code>struct eventpoll</code> and returns a file descriptor could be found at <code>fs/eventpoll.c</code>, line 1767, here is the snippet of it:</p>
<pre><code>/*
 * Create the internal data structure ("struct eventpoll").
 */
error = ep_alloc(&amp;ep);
</code></pre>
<p><code>ep_alloc()</code> simply allocates enough space to hold <code>struct eventpoll</code> from the kernel heap and initialize it.</p>
<p>After that, <code>epoll_create()</code> will try to get an unused file descriptor from the process:</p>
<pre><code>/*
* Creates all the items needed to setup an eventpoll file. That is,
* a file structure and a free file descriptor.
*/
fd = get_unused_fd_flags(O_RDWR | (flags &amp; O_CLOEXEC));
</code></pre>
<p>If <code>epoll_create()</code> was able to acquire an file descriptor, it will try to get an anonymous inode from the system. Notice that <code>epoll_create()</code> saved the the pointer to the previously allocated <code>struct eventpoll</code> into the file's <code>private_data</code> field. Since any system calls that manipulates the <code>epoll</code> instance refers to it using the instance's file descriptor number, this makes reacquiring <code>struct eventpoll</code> extremely easy and efficient later on:</p>
<pre><code>file = anon_inode_getfile("[eventpoll]", &amp;eventpoll_fops, ep,
                          O_RDWR | (flags &amp; O_CLOEXEC));
</code></pre>
<p>After that, <code>epoll_create</code> will bind the anonymous inode with the file descriptor, and return the file descriptor back to the calling process:</p>
<pre><code>fd_install(fd, file);
return fd;
</code></pre>
<h2 id="howdoestheepollinstanceremembersfiledescriptors">How does the epoll instance "remembers" file descriptors?</h2>
<p>For obvious reason, the <code>epoll</code> have to somehow "remembers" the file descriptors it was asked to pay attention to. <code>epoll</code> uses a very commonly used kernel data structure - <a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree">Red–black tree</a> (abbreviated as RB-Tree), to keep track of all file descriptors that are currently being monitored by a certain <code>epoll</code> instance. The root of the RB-Tree is the <code>rbr</code> member of <code>struct eventpoll</code>, and is initialized within the <code>ep_alloc()</code> function.</p>
<p>For each file descriptor monitored by an <code>epoll</code> instance, there will be a corresponding <code>struct epitem</code> within the RB-Tree that refers to it. <code>struct epitem</code> also contains some important data structures that will be used by the <code>epoll</code> instance throughout the monitoring lifecycle of this file descriptor.</p>
<p>When we use <code>epoll_ctl(2)</code> to add a file descriptor into an epoll instance, the kernel first uses <code>ep_find()</code> to try locate a <code>struct epitem</code> corresponding to the file descriptor, code could be found at <code>fs/eventpoll.c</code> line 973.</p>
<p>Since RB-Tree is a binary search tree, that means that we have to have a comparable key for each <code>struct epitem</code> before we can store them inside the RB-Tree. For <code>epoll</code>, the key for RB-Tree entries is a struct called <code>struct epoll_filefd</code> that is being stored inside <code>struct epitem</code>. The definition of <code>struct epoll_filefd</code> is very simple, at <code>fs/eventpoll.c</code> line 106 (comments added):</p>
<pre><code>struct epoll_filefd {
	struct file *file; // pointer to the target file struct corresponding to the fd
	int fd; // target file descriptor number
} __packed;
</code></pre>
<p>The function that performs the actual comparison is <code>ep_cmp_ffd()</code>, defined in <code>fs/eventpoll.c</code> line 326:</p>
<pre><code>/* Compare RB tree keys */
static inline int ep_cmp_ffd(struct epoll_filefd *p1,
                            struct epoll_filefd *p2)
{
	return (p1-&gt;file &gt; p2-&gt;file ? +1:
		   (p1-&gt;file &lt; p2-&gt;file ? -1 : p1-&gt;fd - p2-&gt;fd));
}
</code></pre>
<p><code>ep_cmp_ffd()</code> first compares the memory address of the <code>struct file</code>, the one with higher address will be considered as "bigger".</p>
<p>If the memory address are the same, which is possible since multiple file descriptors could be referring to the same <code>struct file</code> (for example, via <code>dup()</code>), <code>ep_cmp_ffd()</code> will simply consider the file with higher file descriptor number as "bigger". By doing this, it is guaranteed that for any two nonequivalent file descriptor, <code>ep_cmp_ffd()</code> can compare them. And for two file descriptors that are the same, <code>ep_cmp_ffd()</code> will return <code>0</code>.</p>
<p>Once the comparison function is defined, searching file descriptors from the RB-Tree is no different from searching a node within any binary search tree.</p>
<p>Assuming we are trying to add a file descriptor into the <code>epoll</code> instance, once <code>ep_find()</code> returns, <code>epoll_ctl()</code> will make sure <code>ep_find()</code> didn't found anything, otherwise it will return with errno set to <code>EEXIST</code>.</p>
<p>After that, <code>epoll_ctl()</code> will call <code>ep_insert()</code> to add the new file descriptor into the RB-Tree, as well as setup some required data structures and callbacks for receiving event notifications. More details about <code>ep_insert()</code> will be talked in the next article.</p>

</div>
</section>

</article>
</div>
</div></div>]]>
            </description>
            <link>https://idndx.com/2014/09/01/the-implementation-of-epoll-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24745257</guid>
            <pubDate>Sun, 11 Oct 2020 12:13:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sexuality, Disability and the Journey to Inner Freedom]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24745053">thread link</a>) | @dsego
<br/>
October 11, 2020 | https://violinscratches.com/2017/04/20/sexuality-disability-for-tedxyale/ | <a href="https://web.archive.org/web/*/https://violinscratches.com/2017/04/20/sexuality-disability-for-tedxyale/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

				<!-- BEGIN .postarea -->
				<div>

					



	

	
<p>Mind the Gap. What does that mean to me? In a way my whole life has been lived in the gap. I have a physical disability called Osteogenesis Imperfecta, or Brittle Bones Disease. Due to numerous fractures in utero, I have bent arms and legs, which cause me to have a shortened stature. I have never walked, but I started using an electric wheelchair when I was two and a half years old (many doorways and toenails were destroyed in the process of learning how to drive at such a young age). I have been playing violin for over 20 years, in large part thanks to a creative music teacher who helped me to adapt my style of playing. I hold my violin upright in my wheelchair like a tiny cello instead of on my shoulder. In 2006 I joined my first band, in 2011 I wrote my first original song, and in 2016 I won NPR Music’s Tiny Desk Contest.</p>
<p><img loading="lazy" data-attachment-id="947" data-permalink="https://violinscratches.com/performance/11950145_713396762099856_8153043841824708073_o/" data-orig-file="https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg" data-orig-size="1033,1106" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="11950145_713396762099856_8153043841824708073_o" data-image-description="" data-medium-file="https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg?w=280" data-large-file="https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg?w=698" src="https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg?w=290&amp;h=310" alt="11950145_713396762099856_8153043841824708073_o" width="290" height="310" srcset="https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg?w=290&amp;h=310 290w, https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg?w=580&amp;h=620 580w, https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg?w=140&amp;h=150 140w, https://violinscratches.files.wordpress.com/2015/09/11950145_713396762099856_8153043841824708073_o.jpg?w=280&amp;h=300 280w" sizes="(max-width: 290px) 100vw, 290px">Now I am a full-time touring musician, with the help of my husband who travels with me. We are constantly improvising on this new musical journey, navigating our lives in the Gap. After all, having a disability often puts you outside the mainstream, where you are forced to fight your own battles for equal access while others your age are busy partying or generally being young and carefree. What’s more, pursuing a career in music with a noticeable disability is unfortunately still a relative anomaly and I have to work around additional obstacles in order to get across the country and play shows. And while accessibility issues mean perhaps life often lived on the fringe, it isn’t the area where I feel the gap the most.</p>
<p>If you were to ask me what the biggest “gap” has been for me so far, I would say sexuality. That may seem surprising, but I know am not alone in my sentiments. Research shows that sexuality is often an area of emotional turmoil for people with disabilities. According to an article from the Center on Human Policy, “many people with disabilities consider sexuality to be the area of greatest oppression.”</p>
<p>So why is sexuality such a difficult area for people with disabilities? And what have I learned from my life in this gap? And how can the lessons I’ve learned along the way help you, regardless of your physical ability?</p>
<p>First, in the spirit of full disclosure, let me start by saying that I am just one person with a disability. I cannot possibly represent every person in the disability community and I don’t intend to speak for others. Furthermore, I was born in 1984 and I identify as a heterosexual woman – so my experiences with sexuality and beauty come from a very specific time and place. There are as many stories of disability and gender as there are people – so after you hear my talk, try to remain open to the millions of other stories and perspectives there are out there. The human race is an incredibly diverse and beautiful collection of souls.</p>
<p>Second, let’s identify the gap. What I mean by the gap is that people with disabilities are virtually left out of mainstream cultural discussions about sexuality and beauty. This might seem like a small omission, but it is not. According to the US Census Bureau, nearly one in 5 people in America has a disability – 19%. Just think about it for a second – how many times can you recall movies or books or magazines or advertisements portraying a person with a disability as a love interest or in a romantic relationship or as beautiful? Likely not many, and certainly not 19% of the time!</p>
<p>There are reasons for the omission in our culture. First of all, our country has historically propagated the view that people with disabilities are “defective” and “unfit to raise families”… Eugenics programs were legal in 33 states as recently as 1956, and forced sterilization of people with mental or psychiatric disabilities still exists today. These practices obviously negate the reproductive and sexual freedom of people with disabilities and likely have farreaching effects on our national psychology.</p>
<p>For example, often people with disabilities are viewed as “eternal children” because of their need for extra care; I can’t tell you how often I get called “sweetie” or talked to like I am 10 years old. People with disabilities are also seen as “asexual”, in part because it’s hard for people to picture someone with a disability partaking in a physical act like having sex. These beliefs are certainly not true, but they are ingrained in our culture and not questioned nearly as often as they should be. Instead of addressing the sexuality of people with disabilities, we are preconditioned to ignore it – pretending that it just doesn’t exist.</p>
<p><img loading="lazy" data-attachment-id="3351" data-permalink="https://violinscratches.com/2017/04/20/sexuality-disability-for-tedxyale/gaelynn-with-her-sister-corry/" data-orig-file="https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg" data-orig-size="658,566" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Gaelynn with her sister, Corry" data-image-description="" data-medium-file="https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg?w=300" data-large-file="https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg?w=658" src="https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg?w=277&amp;h=238" alt="Gaelynn with her sister, Corry" width="277" height="238" srcset="https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg?w=277&amp;h=238 277w, https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg?w=554&amp;h=476 554w, https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg?w=150&amp;h=129 150w, https://violinscratches.files.wordpress.com/2017/04/gaelynn-with-her-sister-corry.jpg?w=300&amp;h=258 300w" sizes="(max-width: 277px) 100vw, 277px">On a personal level, I felt left out of the mainstream sex and beauty culture from a very young age. When all my friends were getting asked out to our first “school dance” in 5th grade, I received no offers. In fact, the boy I eventually asked myself (I have always preferred taking matters into my own hands) said no, because he “just thought of me as a friend”. This terrible line would follow me for the next twelve years or so… Every time I thought maybe I’d found a boy who returned the romantic feelings I had, I was rebuffed with the “Friend Clause”. Whether or not that was actually true in all cases, or if the boys just couldn’t admit they had feelings for a girl in a wheelchair, is up for debate. Either way, it sucked. Loneliness &amp; despair were frequent visitors to my angst-ridden teenage heart.</p>
<p>The other problem facing a girl in a wheelchair with bendy arms is that there is virtually NO ONE depicting your body type as beautiful in this culture. The standard of beauty in America is arguably tall, thin, busty and blonde — I was about as far from that standard as possible! Luckily I had pretty healthy self-esteem overall so actually I never developed a hatred of my body, but I must admit I didn’t have a lot of hope that someone else would eventually find me to be physically attractive. I wanted to date, to marry, and to have kids, but my chances seemed slim to none. This kept me up a lot at night. As it turns out, my fears were not completely unfounded: according to research done by Thomas Gerschick in 2002, women are four times as likely as men to divorce after developing a disability, and only one-third to one-fourth as likely to marry [as men].”</p>
<p>Luckily I had awesome parents that gave me some good advice while I was sitting on the sidelines of love. First, my Dad told me that most boys are idiots until at least age 25. He said to give it time, and that eventually someone would love me for me. I didn’t really believe him, but I tried to tell myself this anyway as a coping mechanism. I was only 18, so I still had a few years until I’d have to call his theory into question.</p>
<p>My mom had another helpful tip. She said two of the coolest ladies she knew didn’t get married until they were in their 40’s – but that instead of letting their singleness bother them, they focused on doing things they thought were fun and interesting – expanding their horizons and creating some awesome stories in the meantime. Then, by the time they did meet their “Mr. Rights”, they were great catches because they were some of the most interesting people you could talk to… Their partners loved them for their depth – that’s part of what made them beautiful.</p>
<p>This gave me a sort of mission – a way to be proactive about dating even if I wasn’t dating – by focusing my energies on expanding my horizons. So I did a lot of cool things – I joined a disability rights group and played music and hung out with friends and got involved in organic farming and politics. Maybe my motives for being so involved were a little questionable, but it was certainly better than sitting around and moping about my singleness. I was becoming confident in my self-worth, but I still felt pretty conflicted about issues of sex and beauty and love. I remained unsure about whether I could ever be viewed as beautiful or find someone who loved me, wheelchair and bendy arms and all.</p>
<p>It was around this time, during my fourth year in college, that I had an epiphany. A mind-blowing epiphany. I was taking a class called Political Theory and I had to write a paper about a book by a guy named Marcuse. He wrote all about this concept called Eros – which basically means sexual and creative energy. Marcuse and other theorists have argued that sexuality has been usurped by capitalism… That one of the reasons the media created these ridiculously unattainable standards of beauty is so that people would feel bad about themselves and buy whatever product would “fix” them and help them to better fit the mold of beautiful.</p>
<p>You must admit, these theorists were onto something. People buy cold cream to mask their wrinkles and pay for expensive workout videos to lose that “stubborn last 10 pounds.” In some dark and secret recess of their brain they have bought the idea that maybe, just maybe, if they work hard enough and buy the right things or wear the right clothes, they too can be “beautiful”. But what they don’t acknowledge, at least in the deepest sense, is that they are being scammed. These images staring back at us from the magazines aren’t real – they are airbrushed and often depicting women who are malnourished and 21 years old. And you, my friend are a real person who probably eats normal amounts of food and will also eventually be 45 years old…. Hopefully even 85!</p>
<p>Where does that leave you? These ideals cannot usually be achieved at all, and if they can it is for but a moment in youth. There is a serious disconnect between the media’s image of beauty and actual human biology. If you really think about it, the traditional standard of beauty in this country is a terrible standard by which to measure oneself.</p>
<p>And that’s when a lightning bolt struck my brain! All these years during my childhood I had wished to be “beautiful” like the images I saw in the media – but I knew that realistically it was never going to happen. No amount of cold cream would un-bend my arms and …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://violinscratches.com/2017/04/20/sexuality-disability-for-tedxyale/">https://violinscratches.com/2017/04/20/sexuality-disability-for-tedxyale/</a></em></p>]]>
            </description>
            <link>https://violinscratches.com/2017/04/20/sexuality-disability-for-tedxyale/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24745053</guid>
            <pubDate>Sun, 11 Oct 2020 11:24:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tolstoy as philosopher]]>
            </title>
            <description>
<![CDATA[
Score 62 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24744973">thread link</a>) | @jaza
<br/>
October 11, 2020 | https://greenash.net.au/thoughts/2020/10/tolstoy-the-forgotten-philosopher/ | <a href="https://web.archive.org/web/*/https://greenash.net.au/thoughts/2020/10/tolstoy-the-forgotten-philosopher/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>I recently finished reading the classic novel <a href="https://www.goodreads.com/book/show/656.War_and_Peace">War and Peace</a>. The 19<sup>th</sup>-century epic is considered the masterpiece of <a href="https://www.biography.com/scholar/leo-tolstoy">Leo Tolstoy</a>, and I must say it took me by surprise. In particular, I wasn't expecting <a href="https://voegelinview.com/consciousness-memory-history-tolstoys-war-peace/">its second epilogue</a>, which is a distinct work of its own (and one that arguably doesn't belong in a novel): a philosophical essay discussing the question of "<a href="https://www.informationphilosopher.com/freedom/history/">free will</a> vs necessity". I know that the second epilogue isn't to everyone's taste, but personally I feel that it's a real gem.
</p>
<p>I was also surprised to learn, after doing a modest bit of research, that Tolstoy is seldom mentioned amongst any of the prominent <a href="https://listverse.com/2011/02/19/top-10-greatest-philosophers-in-history/">figures in philosophy or metaphysics</a> over the <a href="https://bryannelson.wordpress.com/2009/08/24/the-20-most-important-philosophers-of-the-modern-era/">past several centuries</a>. The only articles that even <a href="https://philosophy.redzambala.com/leo-tolstoy/leo-tolstoy-philosophic-views.html">deign to label Tolstoy</a> as a philosopher, are ones that are actually <a href="https://www.brainpickings.org/2014/06/03/tolstoy-confession/%22">more concerned</a> with Tolstoy as <a href="https://www.rbth.com/arts/2014/10/14/the_influence_of_buddhism_and_hinduism_on_leo_tolstoys_life_39017">a cult-inspirer</a>, as <a href="http://peacemagazine.org/archive/v11n5p24.htm">a pacifist</a>, and as <a href="https://www.theguardian.com/commentisfree/belief/2016/jan/21/tolstoy-war-peace-christian-anarchism-church-state">an anarchist</a>.
</p>
<p>So, while history has been just and <a href="https://www.thevintagenews.com/2016/05/06/leo-tolstoy/">generous in venerating Tolstoy</a> as a novelist, I feel that his contribution to the field of philosophy has gone unacknowledged. This is no doubt in part because Tolstoy didn't consider himself a philosopher, and because he didn't pen any purely philosophical works (published separately from novels and other works), and because he himself criticised the value of such works. Nevertheless, I feel warranted in asking: is Tolstoy a forgotten philosopher?
</p>
<p><img src="https://greenash.net.au/media/cache/0c/56/0c56d05df12e4198ac82ca77c2495081.jpg" width="720" height="432" alt="Tolstoy statue in British Columbia"></p><p><em>Tolstoy statue in British Columbia</em></p>
<p><em>Image source:</em> <a href="https://www.waymarking.com/waymarks/WMFDEF_Leo_Tolstoy_Castlegar_British_Columbia">Waymarking</a>
</p>
<h2>Free will in War and Peace</h2>
<p>The concept of free will that Tolstoy articulates in War and Peace (particularly in the second epilogue), in a nutshell, is that there are two forces that influence every decision at every moment of a person's life. The first, <em>free will</em>, is what resides within a person's mind (and/or soul), and is what drives him/her to act per his/her wishes. The second, <em>necessity</em>, is everything that resides external to a person's mind / soul (that is, a person's body is also for the most part considered external), and is what strips him/her of choices, and compels him/her to act in conformance with the surrounding environment.
</p>
<blockquote><p>Whatever presentation of the activity of many men or of an individual we may consider, we always regard it as the result partly of man's free will and partly of the law of inevitability.
</p>
<p>War and Peace, second epilogue, chapter IX</p></blockquote>
<p>A simple example that would appear to demonstrate acting completely according to free will: say you're in an ice cream parlour (with some friends), and you're tossing up between getting chocolate or hazelnut. There's no obvious reason why you would <em>need</em> to eat <a href="https://www.finedininglovers.com/article/what-does-your-favourite-ice-cream-flavour-say-about-you">one flavour vs another</a>. You're partial to both. They're both equally filling, equally refreshing, and equally (un)healthy. You'll be able to enjoy an ice cream with your friends regardless. You're free to choose!
</p>
<blockquote><p>You say: I am not and am not free. But I have lifted my hand and let it fall. Everyone understands that this illogical reply is an irrefutable demonstration of freedom.
</p>
<p>War and Peace, second epilogue, chapter VIII</p></blockquote>
<p>And another simple example that would appear to demonstrate being completely overwhelmed by necessity: say there's a gigantic asteroid on a collision course for Earth. It's already entered the atmosphere. You're looking out your window and can see it approaching. It's only seconds until it hits. There's no obvious choice you can make. <a href="https://www.vice.com/en/article/a3agjz/the-story-of-the-end-of-the-world-one-of-the-first-ever-viral-videos">You and all of humanity</a> are going to die very soon. There's nothing you can do!
</p>
<blockquote><p>A sinking man who clutches at another and drowns him; or a hungry mother exhausted by feeding her baby, who steals some food; or a man trained to discipline who on duty at the word of command kills a defenseless man – seem less guilty, that is, less free and more subject to the law of necessity, to one who knows the circumstances in which these people were placed …
</p>
<p>War and Peace, second epilogue, chapter IX</p></blockquote>
<p><img src="https://greenash.net.au/media/cache/64/e6/64e6949053c564b5881e9ccf31a94485.jpg" width="720" height="540" alt="Decisions decisions"></p><p><em>Decisions decisions</em></p>
<p><em>Image source:</em> <a href="https://commons.wikimedia.org/wiki/File:Decisions_Decisions_(Horton,_Point_or_Green)_-_geograph.org.uk_-_1512831.jpg">Wikimedia Commons</a>
</p>
<p>However, the main point that Tolstoy makes regarding these two forces, is that neither of them does – and indeed, neither of them <em>can</em> – ever exist in absolute form, in the universe as we know it. That is to say, a person is never (and can never be) free to decide anything 100% per his/her wishes; and likewise, a person is never (and can never be) shackled such that he/she is 100% compelled to act under the coercion of external agents. It's a spectrum! And every decision, at every moment of a person's life (and yes, <em>every</em> moment of a person's life involves a decision), lies somewhere on that spectrum. Some decisions are made more freely, others are more constrained. But all decisions result from a mix of the two forces.
</p>
<blockquote><p>In neither case – however we may change our point of view, however plain we may make to ourselves the connection between the man and the external world, however inaccessible it may be to us, however long or short the period of time, however intelligible or incomprehensible the causes of the action may be – can we ever conceive either complete freedom or complete necessity.
</p>
<p>War and Peace, second epilogue, chapter X</p></blockquote>
<p>So, going back to the first example: there are always <em>some</em> external considerations. Perhaps there's a little bit more chocolate than hazelnut in the tubs, so you'll feel just that little bit guilty if you choose the hazelnut, that you'll be responsible for the parlour running out of it, and for somebody else missing out later. Perhaps there's a deal that if you get exactly the same ice cream five times, you get a sixth one free, and you've already ordered chocolate four times before, so you feel compelled to order it again this time. Or perhaps you don't really want an ice cream at all today, but you feel that peer pressure compels you to get one. You're not completely free after all!
</p>
<blockquote><p>If we consider a man alone, apart from his relation to everything around him, each action of his seems to us free. But if we see his relation to anything around him, if we see his connection with anything whatever – with a man who speaks to him, a book he reads, the work on which he is engaged, even with the air he breathes or the light that falls on the things about him – we see that each of these circumstances has an influence on him and controls at least some side of his activity. And the more we perceive of these influences the more our conception of his freedom diminishes and the more our conception of the necessity that weighs on him increases.
</p>
<p>War and Peace, second epilogue, chapter IX</p></blockquote>
<p>And, going back to the second example: you always have <em>some</em> control over your own destiny. You have but a few seconds to live. Do you cower in fear, flat on the floor? Do you cling to your loved one at your side? Do you grab a steak knife and hurl it defiantly out the window at the approaching asteroid? Or do you stand there, frozen to the spot, staring awestruck at the vehicle of your impending doom? It may seem pointless, weighing up these alternatives, when you and your whole world are <a href="https://www.deviantart.com/lynx318/art/Vogons-destroy-Earth-807541821">about to be pulverised</a>; but aren't your last moments in life, especially if they're desperate last moments, the ones by which you'll be remembered? And how do you know for certain that there will be nobody left to remember you (and does that matter anyway)? You're not completely bereft of choices after all!
</p>
<blockquote><p>… even if, admitting the remaining minimum of freedom to equal zero, we assumed in some given case – as for instance in that of a dying man, an unborn babe, or an idiot – complete absence of freedom, by so doing we should destroy the very conception of man in the case we are examining, for as soon as there is no freedom there is also no man. And so the conception of the action of a man subject solely to the law of inevitability without any element of freedom is just as impossible as the conception of a man's completely free action.
</p>
<p>War and Peace, second epilogue, chapter X</p></blockquote>
<h2>Background story</h2>
<p>Tolstoy's philosophical propositions in War and Peace were heavily influenced by the ideas of one of his contemporaries, the German philosopher Arthur <a href="https://plato.stanford.edu/entries/schopenhauer/">Schopenhauer</a>. In later years, Tolstoy candidly expressed his admiration for Schopenhauer, and he even went so far as to assert that, philosophically speaking, War and Peace <a href="https://medium.com/lessons-from-history/the-power-of-schopenhauer-17c818b755e1">was a repetition</a> of Schopenhauer's seminal work <a href="https://en.wikipedia.org/wiki/The_World_as_Will_and_Representation">The World as Will and Representation</a>.
</p>
<p>Schopenhauer's key idea, was that the whole universe (at least, as far as any one person is concerned) consists of two things: the <em>will</em>, which doesn't exist in physical form, but which is the essence of a person, and which contains all of one's drives and desires; and the <em>representation</em>, which is a person's mental model of all that he/she has sensed and interacted with in the physical realm. However, rather than describing the <em>will</em> as the engine of one's freedom, <a href="https://academyofideas.com/2013/11/introduction-to-schopenhauer-the-world-as-will/">Schopenhauer argues</a> that one is enslaved by the desires imbued in his/her will, and that one is liberated from the will (albeit only temporarily) by <a href="https://emusicology.org/article/view/5115/4604">aesthetic experience</a>.
</p>
<p><img src="https://greenash.net.au/media/cache/c4/12/c4129e87ccbeaf675827bd4e1456bc14.jpg" width="720" height="962" alt="Schopenhauer: big on grey tufts, small on optimism"></p><p><em>Schopenhauer: big on grey tufts, small on optimism</em></p>
<p><em>Image source:</em> <a href="https://9gag.com/tag/arthur-schopenhauer">9gag</a>
</p>
<p>Schopenhauer's theories were, in turn, directly influenced by those of <a href="https://plato.stanford.edu/entries/kant/">Immanuel Kant</a>, who came a generation before him, and who is generally <a href="https://www.dw.com/en/kant-is-the-most-influential-thinker-of-the-modern-age/a-1111992">considered the greatest</a> philosopher of the modern era. Kant's ideas (and his works) were many (and I have <a href="https://greenash.net.au/thoughts/2019/03/how-can-we-make-ai-that-reasons/">already written</a> about Kant's ideas recently), but the one of chief concern here – as expounded primarily in his <a href="https://en.wikipedia.org/wiki/Critique_of_Pure_Reason">Critique of Pure Reason</a> – was that there are two realms in the universe: the <em>phenomenal</em>, that is, the physical, the universe as we experience and understand it; and the <a href="https://www.britannica.com/topic/noumenon"><em>noumenal</em></a>, that is, a theoretical non-material realm where everything exists as a "thing-in-itself", and about which we know nothing, except for what we are able to deduce via <a href="https://plato.stanford.edu/entries/kant-reason/">practical reason</a>. Kant argued that the phenomenal realm is <a href="https://thegreatthinkers.org/kant/introduction/">governed by absolute causality</a> (that is, by necessity), but that in the noumenal realm there exists absolute free will; and that the fact that a person exists in both realms simultaneously, is <a href="https://philosophy.stackexchange.com/questions/22223/kant-and-free-will">what gives meaning</a> to one's decisions, and what makes them able to be measured and judged …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://greenash.net.au/thoughts/2020/10/tolstoy-the-forgotten-philosopher/">https://greenash.net.au/thoughts/2020/10/tolstoy-the-forgotten-philosopher/</a></em></p>]]>
            </description>
            <link>https://greenash.net.au/thoughts/2020/10/tolstoy-the-forgotten-philosopher/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24744973</guid>
            <pubDate>Sun, 11 Oct 2020 11:06:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hands-On Review: GemPro Enclosure for Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24744714">thread link</a>) | @walterbell
<br/>
October 11, 2020 | https://diyodemag.com/reviews/hands_on_review_gempro_enclosure_for_raspberry_pi | <a href="https://web.archive.org/web/*/https://diyodemag.com/reviews/hands_on_review_gempro_enclosure_for_raspberry_pi">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            	<p>Highly effective <a href="https://www.raspberrypi.org/" target="_blank" rel="noopener">Raspberry Pi</a> cooling without the need for a fan.</p>
<p>If you have had any experience with the Raspberry Pi 4 and especially closer to its launch, you would have likely become aware that this iteration of the Raspberry Pi gets quite toasty under a moderate load. This initially resulted in some pretty crazy active cooling designs on the market for the Raspberry Pi 4. </p>
<p>Whilst many of the heat issues plaguing the Raspberry Pi 4 have been alleviated with firmware updates to dramatically reduce the power dissipation at idle and medium loads, the Raspberry Pi 4 still gets blisteringly hot when pushed with higher loads. This causes the <abbr title="Acorn RISC Machine">ARM</abbr> quad-core chipset to protect itself by reducing performance using dynamic frequency scaling (DFS) and dynamic voltage scaling (DVS). DFS and DVS are the methods used to reduce the performance of a chipset in order to reduce the junction temperature, and are often simply referred to as thermal throttling. On the Raspberry Pi 4, this thermal throttling begins at around 80°C.</p>
<p>With this in mind, when we heard that there was a passive cooling solution for the Raspberry Pi which would keep the temperatures low enough to prevent thermal throttling at stock speeds, we were a little dubious. With that said, we put the GemPro case to the test to see if it did what it claimed. </p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb960e" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb960e,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb960e,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb960e,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb960e,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb960e,816,544 800w" alt="" width="816px">
      </a>
      
    </figure> 


<p>The case itself is made from forged or cast aluminium and is a surprisingly hefty 262.7 grams when loaded with the Raspberry Pi and <abbr title="Secure Digital">SD</abbr> card. This heft is a good sign and adds quite a bit of veracity to support the claims made in relation to this case's cooling abilities. Simply put, this style of passive cooling case uses the entire enclosure itself as a heatsink, and thus, the more material and surface area the better the cooling potential. </p>
<p>The enclosure consists of two main pieces that are screwed together, and both have a sandblasted textured finish. The top of the enclosure has a pattern that appears to be milled into its surface that somewhat resembles a cobblestone path and certainly makes the design unique looking. </p>
<p>The holes to the micro <abbr title="High-Definition Multimedia Interface">HDMI</abbr>, audio, and <abbr title="Universal Serial Bus">USB</abbr>-C connectors are precision cut into the side of the enclosure, and there is no recess around the micro HDMI inputs to accommodate the overmolding on some micro HDMI connectors. Whilst this will likely work fine with many types of micro HDMI cables, ours struggled to make a reliable connection. Bumping the cable would result in losing the image on the screen. This could also be an issue with the cable rather than the enclosure, but it is certainly worth mentioning. </p>
<p>Overall, the quality looks and feels amazing and would look great on any desk. </p>
<p>There are, however, a couple of things missing that we would have liked to have seen included. The first is some non-slip rubber feet. The screws in the bottom of the case are countersunk so they fit flush with the case and won’t scratch your desk’s surface, however, we think rubber feet to hold it off your desk’s surface would be a great addition allowing airflow under the case as well as over. </p>
<p>It would also be nice to have some pre-tapped mounting holes in the rear or bottom of the case so you could mount the enclosure. This would make it much easier to create a <abbr title="Video Electronics Standards Association">VESA</abbr> bracket, for example, which would allow you to mount the Raspberry Pi to the back of your monitor or Television.</p>
<p>The most egregious issue we noticed was that the GPIO header was broken out on the lower side of the case, requiring the connected cables to be manipulated at odd angles to exit the enclosure. This seems to have been a bit of an afterthought. </p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9614" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9614,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb9614,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb9614,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb9614,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb9614,816,544 800w" alt="" width="816px">
      </a>
      <figcaption>The wires you connect to the <abbr title="General Purpose Input Output">GPIO</abbr> port or camera etc are required to be routed out of this small slot on the side of the Gem Pro case.</figcaption>
    </figure> 

<p>Finally, while assembly is fairly straight forward, instructions are included to get you going without too much fuss.  </p>
<p>The enclosure requires a little assembly before use. It has two machined aluminium blocks designed to draw heat from various areas of the Raspberry Pi and into the aluminium of the enclosure itself. The blocks are attached to the case via a thermal paste.</p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9618" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9618,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb9618,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb9618,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb9618,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb9618,816,544 800w" alt="" width="816px">
      </a>
      
    </figure> 

<p>This is a significant point of difference between the GemPro case and some of the more extreme active cooling methods we have seen for the Raspberry Pi 4. Some of the popular active cooling designs are only designed to cool the processor itself. However, if we look at the Raspberry Pi thermals, we can see there are several areas which get hot under load. The large white square is the hottest area reaching 75°C. This is not surprisingly the Broadcom BCM2711 processor.</p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb961d" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb961d,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb961d,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb961d,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb961d,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb961d,816,544 800w" alt="" width="816px">
      </a>
      <figcaption><strong>IMAGE CREDIT:</strong> <a href="https://www.raspberrypi.org/" target="_blank" rel="noopener">raspberrypi.org</a></figcaption>
    </figure> 
<p>We can also see there is a hot spot beside the USB-C input connector. This section of the <abbr title="Printed Circuit Board">PCB</abbr> is the MaxLinear MxL7704 power management integrated circuit (PMIC) and the accompanying inductor. This <abbr title="Integrated Circuit">IC</abbr> is responsible for delivering the regulated supply to the processor and associated hardware. As we can see from the thermal image, under normal operation, these can easily reach temperatures around 70°C. This would increase with overclocking and if you are drawing a significant current from the GPIO, as this regulator would, then be under even more stress. </p>
<p>The GemPro case has an L-shaped block which connects to this area as well as the main processor.</p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9621" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9621,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb9621,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb9621,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb9621,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb9621,816,544 800w" alt="" width="816px">
      </a>
      <figcaption>The MXL7704 power management IC and the R47 inductor, along with the supporting components, are connected to the heatsinking case via a soft rubber thermal rubber strip.</figcaption>
    </figure> 

<p>The GemPro also comes with a smaller square block which connects to the VI Labs VL805 USB controller. Interestingly, this was not shown to get too hot in the thermal image, however, if you’re running several USB devices it's very likely that the chip will become incredibly hot. Thus, very much a nice to have addition.</p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9625" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb9625,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb9625,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb9625,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb9625,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb9625,816,544 800w" alt="" width="816px">
      </a>
      <figcaption>The VIA Labs USB controller, whilst not shown as hot on the thermal image, has the potential to get very hot when dealing with multiple connected devices, its nice to see that this has been addressed with the Gem Pro and is also cooled.</figcaption>
    </figure> 

<p>All in all, the case appears to cover all of the requirements to keep the Raspberry Pi running smoothly without thermal throttling. With that said, the proof is in the results and we were itching to put the case through its paces.</p> 

<p>To thoroughly test the enclosure and reach meaningful conclusions based on the results, we needed a way to test the enclosure’s thermal capabilities. For this, we created a fresh new Raspberry Pi OS SD card and installed the Stressberry program, available from: <a href="https://pypi.org/project/stressberry/" target="_blank" rel="noopener">https://pypi.org/project/stressberry/</a></p>
<p>This program will allow us to simulate a load on the processor for a predetermined period and graph the temperature during the process. This will show us how hot the Raspberry Pi 4 gets above ambient temperature, and thus, can be used to gauge the effectiveness of a particular enclosure. </p>  				
				<p>To minimise variables, we set the air-conditioning in the office to 25°C and ensured that the unit under test was not in the path of any draughts from opening doors or the air-conditioning unit. </p>
<p>The Stressberry test will load the processor so that it is maxed out for 30 minutes. It will measure and display the temperature at idle for 5 minutes prior and after the test to show the idle temperature and the recovery. </p>
<p>Our first step was to obtain a baseline result which we can use to gauge the effectiveness. For this, we tested the Raspberry Pi 4 without any cooling or enclosure and at stock speeds. </p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb962a" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb962a,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb962a,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb962a,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb962a,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb962a,816,544 800w" alt="" width="816px">
      </a>
      
    </figure> 

<p>As we can see, the processor temperature started at around 47°C (22°C above ambient) at idle and rose a degree or two at idle. When the load was applied, the temperature rapidly rose to 80°C and the device thermally throttled the processor to prevent damage. Within 15 minutes of the load being applied, the Raspberry Pi had reached 80°C.  Once the load was removed from the processor, the temperature dropped quickly down to 60°C. It then reached a temperature of 52°C after about 5 mins at idle.</p>
<p>With the baseline test done, we installed the same Raspberry Pi into the GemPro enclosure and repeated the exact same test. This produced the following results.</p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb962c" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb962c,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb962c,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb962c,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb962c,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb962c,816,544 800w" alt="" width="816px">
      </a>
      
    </figure> 

<p>With the GemPro case, our idle temperature is already significantly lower at 30°C, which is only 5°C above ambient temperature.  When the load is applied, the temperature shoots up to around 36°C. After 15 minutes at full load, the temperature has reached the maximum temperature of around 43°C or 18°C above ambient temperature. This is 5°C cooler than the Raspberry Pi 4 without any cooling at idle!!! Once the load is removed, the temperature of the processor rapidly drops from the max temperature of 43°C to about 37°C and holds that temperature until the test ends. </p>
<p>This was incredibly exciting, as we did not expect such significant cooling results from a passively cooled enclosure. The device was nowhere near reaching temperatures to cause thermal throttling, and was only 18°C above ambient temperature. This prompted us to try an extreme style of active cooling for the Raspberry Pi 4, which was an <a href="https://www.seeedstudio.com/New-Colorful-ICE-Tower-Cooler-for-Raspberry-Pi-p-4496.html" target="_blank" rel="noopener">ICE tower cooler from Seeed studios.</a></p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0639c672e0cf79bb962e" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0639c672e0cf79bb962e,40,27" data-sizes="auto" data-src="/_images/5f4a0639c672e0cf79bb962e,816,816" data-srcset="/_images/5f4a0639c672e0cf79bb962e,400,400 400w,
                         /_images/5f4a0639c672e0cf79bb962e,600,600 600w,
                         /_images/5f4a0639c672e0cf79bb962e,816,544 800w" alt="" width="816px">
      </a>
      
    </figure> 

<p>With this monster bolted to the Raspberry Pi and under the same test conditions, we achieved the following results.</p>
    <figure>
    
      <a href="https://diyodemag.com/_images/5f4a0710c672e05679bb9632" data-lightbox="all_images">
        <img src="https://diyodemag.com/_images/5f4a0710c672e05679bb9632,40,27" data-sizes="auto" data-src="/_images/5f4a0710c672e05679bb9632,816,816" data-srcset="/_images/5f4a0710c672e05679bb9632,400,400 400w,
                         /_images/5f4a0710c672e05679bb9632,600,600 600w,
                         /_images/5f4a0710c672e05679bb9632,816,544 800w" alt="" width="816px">
      </a>
      
    </figure> 

<p>As we can see, at idle the ICE tower kept the Raspberry Pi 4 just a little bit cooler than the GemPro enclosure. At full load, it only achieved temperatures about 5°C less than the passively cooled GemPro. </p>
<p>This result was completely mind blowing and was not at all how we expected the experiment to go. This made us ponder what would happen if we …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://diyodemag.com/reviews/hands_on_review_gempro_enclosure_for_raspberry_pi">https://diyodemag.com/reviews/hands_on_review_gempro_enclosure_for_raspberry_pi</a></em></p>]]>
            </description>
            <link>https://diyodemag.com/reviews/hands_on_review_gempro_enclosure_for_raspberry_pi</link>
            <guid isPermaLink="false">hacker-news-small-sites-24744714</guid>
            <pubDate>Sun, 11 Oct 2020 09:43:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Defective DevOps]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24744113">thread link</a>) | @HereticLocke
<br/>
October 10, 2020 | https://blog.odoom.net/defective-devops/ | <a href="https://web.archive.org/web/*/https://blog.odoom.net/defective-devops/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <!--kg-card-begin: markdown--><p><img src="https://blog.odoom.net/content/images/2020/10/scream__1_-1.jpg" alt="The Scream"><br>
<em>The Scream</em></p>
<dl><span color="red">When your Devops implementation is flawed what do you do? Run in circles, scream and shout?</span></dl>
<p>DevOps is difficult. It's not something that can happen overnight no matter how hard teams try. It requires compliance, collaboration and the willingness to try new things. There is no one way of implementing DevOps across a team. From what I've read, lots of teams within various companies do it differently. However, though there are different practices, these teams exercise the same core principles which basically amount to multiple teams working together to support each other while testing and deploying rapidly.<sup><a href="#fn1" id="fnref1">[1]</a></sup></p>
<h2 id="cultureclash">Culture Clash</h2>
<p>Unfortunately, one of the biggest issues when implementing DevOps (in my experience but most will agree) is the cultural shift. And that's what makes DevOps difficult. It's not the tools, it's the people. You can change tools, make them "work", that's the easy part. But you can't change people, you can only persuade them.</p>
<p>The cause of this depends of course on the situation. It could be lack of knowledge from leadership who may be unwilling to follow this new path simply because they do not understand it. And for this reason they may feel threatened. Another reason could be not wanting to change. Because who wants or needs change? "Things have been great the way they've been and we've never needed this as everything has been working fine." Which makes total sense because here in tech things move slowly and there is no such thing as advancement.<sup><a href="#fn2" id="fnref2">[2]</a></sup></p>
<p>And sure, you may take the time to deliver multiple presentations internally, educating your team or even your Technical Lead one-on-one to minimize conflict and social engineer the situation to sway them when asking for change. However, no matter how hard you try the result is imperfect. You're at a better place than in the beginning. But it's not where you need to be. Because your DevOps implementation is half-assed. Who re-painted the purple fence red on the front but left the back purple?</p>
<p>Then you're stuck.</p>
<p>So what do you do? Surely, you don't want a war. Your job isn't to be a soldier and you know you should stay out of politics. In this case, it's best to minimize conflict. Because you understand that this transition won't work if leadership isn't on board.</p>
<p><img src="https://blog.odoom.net/content/images/2020/10/giphy.gif" alt="This is Fine"><br>
<em>"This is Fine" GIF</em></p>
<h2 id="letthingsfail">Let things Fail</h2>
<p>The issue it seems is communication. How do you reach your leaders? Surely, the presentations aren't working. Is there something else going on? You're getting paranoid. You need to tone it down. You're too passionate. Don't be this passionate or you will be disappointed.</p>
<p>Just wait and see. Let it happen and eventually when things fail you'll have multiple examples of why the current process isn't good enough and that's why you must "go all the way."</p>
<p>And through the flames you emerge.....<br>
<img src="https://blog.odoom.net/content/images/2020/10/elmo.gif" alt="Elmo Rise"><br>
<em>Hellmo GIF</em></p>
<p>It's unfortunate that this is what it takes to not only "force DevOps" but do what you set out to do. Yet, this is the only alternative when educating leaders doesn't work once you've exercised all options. This is part of continuous improvement. I personally believe that in scenarios such as these, it's important to let things fail. The reason being so you have an example to reference such as, "...this is why we should tag commits. So we can track changes between different environments" for instance.</p>
<h2 id="failtosucceed">Fail to succeed</h2>
<p>When bringing DevOps practices to a new team it's important to understand that it will take time. For this reason, you have to lower your expectations. You also shouldn't resist. If you're hired as a DevOps Engineer it's because your team or organizations needs it. And whether or not it's embraced by leadership or developers instantly, if there are any issues they will be exposed. So you must give in and endure the resistance.</p>
<p>Failure overcomes resistance to change better than education because failure in a way is in itself a learning tool. You held the meetings, gave the presentations on why changes need to be made in order to "achieve DevOps." Though that didn't work, you've allowed things to fail. Learning from our mistakes is something we first learn as children and continue to learn. It makes us better humans. Incidents such as these are bound to that same philosophy. It's part of the process. It's not only a learning experience for leadership but also for the DevOps Engineer.</p>
<p>You may also feel responsible if things go wrong or blamed for things going wrong and that's okay. Blame culture is extremely toxic. It's unproductive and creates an uncomfortable work environment. However, this is all part of the process too and as such you have to be stoic in how you respond. Eventually, these failures will become their own examples and you will be able to pick up the pieces.</p>
<h2 id="begentle">Be Gentle</h2>
<p>In the beginning of this post I mentioned how DevOps is implemented differently in various organizations. However, it's important to note that regardless, if a team chooses to not have a Dev environment there are still things that must be implemented independent of tools that need to be followed or you will fail.</p>
<p>Teams have to not only work together but change how they work.</p>
<p>Approach this gently. If leadership refuses to follow the principals or make lazy excuses regarding there not being enough time to practice the tenets of DevOps it's important to have a "This will be fine" attitude. Allow everything to play out because eventually things will come crashing down. Because DevOps practices aren't something you can cherry-pick and expect to work. You have to go all the way.</p>
<hr>
<section>
<ol>
<li id="fn1"><p>I'll take this moment to clarify. Though this isn't a post about what DevOps is I don't want to mislead so I will explicitly state that the point of DevOps isn't to just push code but to improve flow. <a href="#fnref1">↩︎</a></p>
</li>
<li id="fn2"><p>Sarcasm meter has detected sarcasm. <a href="#fnref2">↩︎</a></p>
</li>
</ol>
</section>
<!--kg-card-end: markdown-->
        </section></div>]]>
            </description>
            <link>https://blog.odoom.net/defective-devops/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24744113</guid>
            <pubDate>Sun, 11 Oct 2020 06:23:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why you should write]]>
            </title>
            <description>
<![CDATA[
Score 226 | Comments 78 (<a href="https://news.ycombinator.com/item?id=24743944">thread link</a>) | @grwthckrmstr
<br/>
October 10, 2020 | https://www.preetamnath.com/blog/why-you-should-write | <a href="https://web.archive.org/web/*/https://www.preetamnath.com/blog/why-you-should-write">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Be a creator, not just a consumer<br></h2><p>I sit down every weekend to write. It’s a routine I’ve deliberately cultivated for myself during this year as a way to get out of my own head and put my thoughts on (metaphorical) paper. </p><p>It started with this post on cultivating a <a href="https://www.preetamnath.com/blog/daily-writing-habit" target="_blank">daily writing habit</a>, which I moved away from after <a href="https://www.preetamnath.com/blog/writing-25-blog-posts-in-25-days" target="_blank">25 days</a> into a weekly schedule.</p><p>Some of my writings go out as tweet threads, others as blog posts on this site. Invariably, I am creating and publishing week after week.</p><p>It's not just to achieve end goal (follow systems, not goals) that I write every week. I thoroughly enjoy the process of creation, the act of sitting with lo-fi or synthwave tunes in the background and punching away at the keyboard brain dumping onto a notepad.</p><p>I’ve managed to get <a href="https://www.sankalpjonna.com/all-posts" target="_blank">Sankalp</a> (my co-founder) onto writing as well. He’s still working out a schedule that helps him create and publish good content consistently, but he’s started walking the treadmill which is the important part.</p><p>Recently I’ve been engaging with my team at DelightChat to get into a regular publishing routine. <a href="https://www.akashj.com/" target="_blank">Akash</a> already writes occasionally, Deb published his podcast on <a href="https://saascontentatscale.com/" target="_blank">SaaS content marketing</a>, and Niraj is setting up his blog as we speak.</p><p>However, I didn’t want to be some old fart, a preacher who is saying “get on the horse” without explaining the why.</p><p>So here goes.<br></p><h2>Reasons to write</h2><p>Before proceeding further, I must make one thing clear. While I personally prefer writing, the message here is to create stuff. </p><p>Create art, design album covers, shoot vlogs, record podcasts, write code. The focus is on creation, and becoming a creator in a world where most people are only consuming.</p><p>Here’s how I explained the importance of writing and being a creator to my team.</p><p>The whole world and everything in it, people and entities, are connected by invisible strings. You can visualise it like a web, an interconnected web with billions of points. </p><p>Yes, I’m describing the model of the internet. Yes it’s more relevant than ever, because until recently majority of the world wasn’t online and connected to each other. With over <a href="https://www.statista.com/statistics/617136/digital-population-worldwide/" target="_blank">4.57 billion</a> people on the internet, we are literally living in the interconnected web. And hence it’s important for you to visualise and grasp the enormity of it.</p><p>Back to reasons.</p><p>You can take this giant web of interconnected beings and entities, and splice it in any direction you want. And you always end up with a subset of people. </p><figure id="w-node-5239bfbcbdf9-2f0d8df6"><p><img src="https://uploads-ssl.webflow.com/5e085291ed2a2769a872e587/5f817d2c1f8d6ba3787fa59e_node%20network%20map%20of%20the%20internet.png" loading="lazy" alt=""></p><figcaption><em>A map of the internet. Which cross-section will you splice?</em></figcaption></figure><p>Example of a large splice - people who enjoy listening to music.</p><p>Example of a smaller splice - people who enjoy alternative rock music.</p><p>Even smaller splice - people who enjoy alternative rock and compose tracks and sing in a band in the same genre.</p><p>You can take this concept and apply it to any idea and pull at the strings.</p><p>With this blog post, I’m pulling at the strings that connect people who want to create stuff, have the ability to create stuff, and want to get started but haven’t yet. More specifically, my blog might appeal to people who have the ability and desire to write.</p><p>Anyway, now you have identified a splice or subset. What next?</p><p>The question really becomes, how do you make yourself a valuable entity in a given subset or splice of this giant interconnected web? How do you become a valuable node.</p><p>And there’s only one answer to it.</p><p>The only way to become a valuable node is by pushing/publishing/releasing value into the web. But like an ocean, a drop won’t be noticed by anybody. You need a pond where you can make a splash. </p><p>You need to narrow down and focus on a small enough splice, such that when you tug at its strings, you have a real chance to get noticed. That way the value that you create in the form of written, video, audio, code, etc about topics that your narrow splice of the web cares about has a chance of earning their attention.</p><p>There is no other way. It’s not going to be easy. Many others are trying to grab the same splice of attention. </p><p>But, life is not a zero sum game. </p><p>Multiple people can win. You can win too.</p><p>And that’s brings me to the #1 reason to write or create stuff.</p><p><strong>You can’t win if you don’t participate.</strong><br></p><h2>Common obstacles to writing</h2><p>From my conversations with people, I’ve found the most common obstacles to be</p><ol role="list"><li>You don’t know why to write or create stuff</li><li>You don’t know what to write about</li><li>You don’t have a schedule or consistency</li><li>Procrastination (the human mind is marvelous)</li></ol><p>I’ve already solved the first problem by explaining the why. <br></p><h3>Create a consistent writing schedule</h3><p>The third problem can be solved by committing to a schedule. <a href="https://jamesclear.com/scale" target="_blank">James Clear</a> published on Mondays and Thursdays for three years until his blog finally took off. The rest we already know about. </p><p>I committed to a daily writing schedule at first, which was hard but it helped me get out of my rut. This commitment was made in public and to my girlfriend in person. </p><p>The two factors combined pushed me enough to get over my mental barriers and keep writing daily, especially on days I didn’t feel like. Back then I was writing shorter posts, which I’ve traded for longer thought pieces once a week.</p><p>You too can set a simple but achievable routine. </p><p>Set a reminder on Fridays to think of a topic to create about, spend a few hours on Saturday punching the keyboard furiously until you’ve dumped all your thoughts on paper, and then edit it before hitting publish on Sunday. </p><p>The DelightChat team has a recurring event on the calendar to help maintain a consistent creator schedule.</p><figure id="w-node-1e110a69cf8d-2f0d8df6"><p><img src="https://uploads-ssl.webflow.com/5e085291ed2a2769a872e587/5f81679d2365946712414656_consistent%20writing%20schedule%20write%20weekly.png" loading="lazy" alt=""></p></figure><p>Remember to set a target that’s easy enough to achieve. You’re not aiming for the pulitzer prize, you are trying to create a habit that’s super easy to do, thereby reducing chances of failure.</p><h3>Overcome writing procrastination</h3><p>Here are a few common procrastination arrows your brain is going to shoot at you. I’m going to make you aware of them so you can dodge them. <br></p><p><strong>“I don’t have time to write.”</strong></p><p>Create a schedule, commit to it, tell your friends, family or someone who will ask you and therefore hold you accountable.<br></p><p><strong>“I don’t know what to write about.”</strong></p><p>I’ve answered that in the next section.<br></p><p><strong>“Ding! New notification from WhatsApp.”</strong></p><p>Pour oil on your phone, throw it in the dustbin, and light it on fire.</p><p>Or, you could put it on silent and place it exactly behind your laptop screen (out of eyesight). Has served me well.</p><p><strong>"I don't have something interesting to say. I only want to write if I have something unique to say."</strong></p><p>You are a unique person with a unique perspective and thoughts about life due to your unique circumstances and upbringing and the hundreds and thousands of experiences you've had up until now.</p><p>You have something unique to say. The topic might be old (it always is), but your unique perspective, your anecdotal experience, all add up.<br></p><p><strong>“But I need to setup my blog, set up markdown, and more.”</strong></p><p>No, you need to write. Writing is the goal, not integrating markdown.<br></p><p><strong>“But the text editor I use isn’t friendly. It doesn’t integrate with my blog.”</strong></p><p>Google Keep or Apple Notes works perfectly and is very distraction free. </p><p>Blow up the font size until you can’t see anything else on the screen. It’s what I do and it works.</p><p>Your real challenge, and the only one that matters is sitting down and penning your thoughts, or creating stuff. You can do it on a piece of paper (but do it on Google Keep or Apple Notes, seriously).<br></p><p><strong>“But should I publish on Medium, on Substack, how do I format it into a tweet thread, etc.”</strong></p><p>The medium can come later. The medium is a constraint. </p><p>Constraints can be walked around of using creativity. But it's not a limiting factor by any means. </p><p><strong>Your goal is to write or create.</strong><br></p><p>There is no perfect moment, the right time to start, or a sign from the universe where you suddenly kick procrastination in the face and get started. There is only the here and now.</p><figure id="w-node-3259c2c4fa4e-2f0d8df6"><p><img src="https://uploads-ssl.webflow.com/5e085291ed2a2769a872e587/5f8275f05451d7829eeee560_beat%20procrastination%20there%20is%20no%20sign%20from%20the%20universe.jpg" loading="lazy" alt=""></p><figcaption><em>Photo by </em><a href="https://unsplash.com/@austinchan" target="_blank"><em>Austin Chan</em></a><em> </em></figcaption></figure><p>Hopefully these prompts I've written will help you dodge your brain’s procrastination bullets.<br></p><h2>What to write about</h2><p>Throughout the week I gather ideas on what to write about </p><ul role="list"><li>from conversations with my co-founder, team and other people, </li><li>by observing what others have written about and if I have a perspective to share, </li><li>thoughts circling in my head, </li></ul><p>and so on..</p><p>There’s infinite sources for gathering ideas, but it’s important to have an eye for catching ideas (similar to how one can train themselves to spot business or startup ideas). </p><p>And it's equally important to jot down those ideas somewhere safe and easy to access.</p><p>I have a private WhatsApp group to drop ideas whenever I have them.</p><figure id="w-node-3fbdec9be5eb-2f0d8df6"><p><img src="https://uploads-ssl.webflow.com/5e085291ed2a2769a872e587/5f8166d013df6c908d268c79_writing%20ideas%20store%20in%20whatsapp%20group.png" loading="lazy" alt=""></p></figure><p>Sankalp was facing a problem with coming up with topics to write about. Here’s what I told him.</p><p>Take the next 1 hour to generate ideas you can write about.</p><ol role="list"><li>Think about topics you like reading about, or talking about, or you know enough about to write.</li><li>Plug in the topic keywords on Twitter and Google, or HN even. Find what others have written about it. Pick the headlines you liked jot down 20 article ideas. Write about them. Make them yours. They don't have to be your original ideas. </li></ol><p>Since Sankalp is a programmer, he could even browse through open source repos, find that he had written a similar one but more simply or elegantly or using a different language or framework, and decide to package and publish them, and write a short note about it.</p><p>Apply the idea above to your own craft.</p><p>Whatever it takes.<br></p><h2>Get started creating stuff this weekend</h2><p>All of us have the same tools available to connect with the rest of the web.</p><p>We all have our smartphones or computers, access to the internet, accounts on the social media layer of the web (Twitter, Instagram, etc.) where we can publish, and the ability to tap into code layer (websites, products, apps) by learning to code or using no-code tools.</p><p>By publishing even a tiny tweet thread about a super specific idea or topic, you play the <a href="https://www.preetamnath.com/blog/life-is-a-video-game-a-mental-model" target="_blank">game</a>.</p><p>You could open source some old code you had written, share a design template in Figma community, or share that home workout and fitness video that you’ve been meaning to record on Instagram.</p><p><strong>The key is to participate..</strong></p><p>..and to give your tiny splice of the massively …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.preetamnath.com/blog/why-you-should-write">https://www.preetamnath.com/blog/why-you-should-write</a></em></p>]]>
            </description>
            <link>https://www.preetamnath.com/blog/why-you-should-write</link>
            <guid isPermaLink="false">hacker-news-small-sites-24743944</guid>
            <pubDate>Sun, 11 Oct 2020 05:35:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Making of “My Octopus Teacher“]]>
            </title>
            <description>
<![CDATA[
Score 98 | Comments 25 (<a href="https://news.ycombinator.com/item?id=24743862">thread link</a>) | @localhost
<br/>
October 10, 2020 | https://seachangeproject.exposure.co/the-making-of-my-octopus-teachernbsp?embed=true | <a href="https://web.archive.org/web/*/https://seachangeproject.exposure.co/the-making-of-my-octopus-teachernbsp?embed=true">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<p>
We are a community of scientists, storytellers, journalists and filmmakers, dedicated to exploring and documenting #TheGreatAfricanSeaforest
</p>
</div>
</div></div>]]>
            </description>
            <link>https://seachangeproject.exposure.co/the-making-of-my-octopus-teachernbsp?embed=true</link>
            <guid isPermaLink="false">hacker-news-small-sites-24743862</guid>
            <pubDate>Sun, 11 Oct 2020 05:09:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Creating a Slack app that uses fewer resources]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 75 (<a href="https://news.ycombinator.com/item?id=24743790">thread link</a>) | @underanalyzer
<br/>
October 10, 2020 | https://kofi.sexy/blog/slack-app-fewer-resources | <a href="https://web.archive.org/web/*/https://kofi.sexy/blog/slack-app-fewer-resources">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>
  I recently created a macOS app called Slack Lite, which beats Slack's desktop app across a few performance metrics.
  Slack Lite uses Slack's official UI, so it's visually indistinguishable from the official client.
  Even so, Slack Lite uses 5x fewer threads, 3.5x less time to startup, and significantly less CPU.
  In the Activity Monitor screenshots below, you can see the raw numbers (Slack Lite's processes are highlighted):
</p>


<img src="https://kofi.sexy/slack-app-fewer-resources/cpu.png" alt="
Table from Activity Monitor's CPU tab:
Slack Helper (Renderer), CPU %: 0.9, Threads: 15.
Highlighted: https://app.slack.com, CPU %: 0.1, Threads: 6.
Slack, CPU %: 0.1, Threads: 30.
Slack Helper, CPU %: 0.0, Threads: 9.
Slack Helper (GPU), CPU %: 0.0, Threads: 8.
Highlighted: Slack Lite, CPU %: 0.0, Threads: 5.
">


<img src="https://kofi.sexy/slack-app-fewer-resources/memory.png" alt="
Table from Activity Monitor's Memory tab:
Highlighted: https://app.slack.com, Memory: 262.4 MB.
Slack Helper (Renderer), Memory: 95.4 MB.
Slack, Memory: 62.8 MB.
Slack Helper (GPU), Memory: 49.7 MB.
Highlighted: Slack Lite, Memory: 24.1 MB.
Slack Helper, Memory: 12.4 MB.
">

<blockquote>
    Edit: this post previously claimed that Slack Lite used 1.2x less memory, but the numbers in the screenshots do not support that claim.
    I retook the screenshots between drafts of this post, and I suspect that's how I introduced that error.
    In practice, the memory difference is negligible.
  </blockquote>


<p>
  It's time to come clean: the performance differences described in this post are not really inherent to Slack Lite.
  I suspect you could get similar numbers by applying this Slack Lite approach to any Electron-based macOS app.
  Slack Lite is a <a href="https://github.com/kofigumbs/multi">Multi</a> app, which means it's using a WebKit WebView behind the scenes.
  Ultimately, the numbers above are a proxy for the Chrome vs. Safari comparison.
</p>

<p>
  I'm neither a performance engineer nor a desktop application engineer, but the Slack Lite approach just <em>feels right</em> to me.
  If I already have a browser engine built into my operating system, why should application developers ship a different one for use with their "native" app?
  Especially if that application is a minimal wrapper for an existing web application.
  I know that the answer circles around developer productivity, but to me the "state of the art" still feels off.
  I also know that other folks are thinking about this tension!
  Here's a neat demo from Twitter via <a href="https://twitter.com/nateparrott/status/1275829708354211840" rel="external">@nateparrott</a>:
</p>

<blockquote>
    Here's another experiment we built at <a href="https://twitter.com/browsercompany" rel="external">@browsercompany</a>: "Launcher." Half the apps I use are web apps, and half are macOS apps. What if they behaved the same? (1/5)
    <video src="https://video.twimg.com/tweet_video/EbSmCcZWAAES5EK.mp4" autoplay="" muted="" controls="" loop="" alt="Screen recording of a macOS app called Launcher. It appears to work much like Spotlight or Alfred, except that once an item is \" launched\",="" it="" becomes="" a="" full="" macos="" app="" with="" new="" window="" and="" dockbar="" entry."="">
    </video>
  </blockquote>


<p>
  Perhaps the most exciting part of this experiment is that I created the Slack Lite in <a href="https://kofi.sexy/slack-app-fewer-resources/demo.mp4">30 seconds</a>.
  As I mentioned above, Slack Lite is a Multi app.
  I built Multi specifically for this use case: quickly creating a lightweight macOS app from any group of websites.
  If that approach <em>feels right</em> to you as well, I hope you take a moment to try out Multi, which is open-source and available on GitHub:
  <a href="https://github.com/kofigumbs/multi">github.com/kofigumbs/multi</a>.
</p>

</div></div>]]>
            </description>
            <link>https://kofi.sexy/blog/slack-app-fewer-resources</link>
            <guid isPermaLink="false">hacker-news-small-sites-24743790</guid>
            <pubDate>Sun, 11 Oct 2020 04:45:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Going Viral as a Woman in Tech]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 59 (<a href="https://news.ycombinator.com/item?id=24743439">thread link</a>) | @DLay
<br/>
October 10, 2020 | https://www.emilykager.com/writing/2020/10/08/virality.html | <a href="https://web.archive.org/web/*/https://www.emilykager.com/writing/2020/10/08/virality.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>A few days ago I had an idea for a silly skit that I would post on TikTok. I spent about 5-10 minutes filming it with no script or plan and posted it on <a href="https://www.tiktok.com/@shmemmmy/video/6880323857903799558?source=h5_m">my TikTok</a> and my <a href="https://twitter.com/EmilyKager/status/1313303791186268160?s=20">Twitter</a>. I went to bed and in the morning was awoken to messages from my friends and acquaintances that I was suddenly on the front page of Reddit.</p>

<p>
<img src="https://i.imgur.com/0dpllvD.png" alt="My video on the front page of reddit" width="400px">
</p>

<p>I was excited about going viral and initially happy that people were liking my silly little video, but of course, as a woman with her face and body suddenly in front of millions of people, that faded quickly.</p>

<p>The video was shared on a programming humor subreddit (without attribution I might add), but my annoyance and fear wasn’t in the missed clout or internet points, but it was that I lost control of being able to delete the post, delete comments, or block commenters when it was posted on a new platform.</p>

<p>Here’s just a small example of the comments that started streaming in</p>

<p>
<img src="https://i.imgur.com/pYyqNRq.png" alt="Sexist and sexualized commentary" width="400px">
<img src="https://i.imgur.com/BsaeIjB.png" alt="Sexist and sexualized commentary" width="400px">
<img src="https://i.imgur.com/Wvpe2tl.png" alt="Sexist and sexualized commentary" width="400px">
<img src="https://i.imgur.com/GVm3IBV.png" alt="Sexist and sexualized commentary" width="400px">
<img src="https://i.imgur.com/ilTNB89.png" alt="Sexist and sexualized commentary" width="400px">
<img src="https://i.imgur.com/wcZpArc.png" alt="Sexist and sexualized commentary" width="400px">
<img src="https://i.imgur.com/BOXJoSG.png" alt="Sexist and sexualized commentary" width="400px">
</p>

<p>And how did this impact me personally? While the video was going viral, I felt like prey and couldn’t focus. I knew people were watching, judging, possibly trying to find me elsewhere on the internet to harass me in real-time. I started getting notifications people were trying to log in to my internet accounts. I locked everything down with 2FA (which I should have had anyway). My past experiences have primed me to expect the worse and feel foolish to hope for the best.</p>

<h3 id="what-happened-next">What happened next:</h3>

<p>I reported all of the terrible comments (as did friends) but ~24 hours later, almost none of them had been removed. I reached out to the moderators of the subreddit with an appeal.</p>

<blockquote>
  <p>This is my first time being posted on Reddit, and I’m a bit disappointed by the moderation here. There are clearly disgusting sexual comments directed at me and unrelated to the video content or programming humor ranging from the stupid (“boobs”) to the more troublesome - including people directing people to go to my social media to get a better look at my body parts and violent imagery about me. All of these comments I have been reporting over the past 24 hours and very few of them have been removed.</p>

  <p>I would hope you can be more vigilant about moderating these types of comments because it does not create a very welcoming environment for women in tech. The sub isn’t SexistProgrammerHumor and I am personally seeing and reading these sexualized comments about my body (as are thousands of other people including my friends, partner, acquaintances, and coworkers).</p>

  <p>I would urge you to please add a new sub rule about these types of comments if you are interested in being a more welcoming place where I would feel comfortable posting my content. Also if a woman is the subject of a viral post, these types of comments and behavior should be expected and nipped in the bud as unacceptable.</p>
</blockquote>

<p>I wasn’t expecting much but the next day I received a response which was basically the best I could have hoped for. I do appreciate the response, and here’s to hoping this doesn’t happen on this sub again, but of course there are thousands of other subs/communities online and other women posting content still out there. </p>

<blockquote>
  <p>First I’d like to apologize for what happened here, this is seriously unacceptable and we really screwed up moderating this as the tread should’ve been locked way earlier. I’ve removed most if not all of the offending comments and the most egregious offenders have been permanently banned.</p>

  <p>We’re definitely going to adjust our rules to ban sexualized comments of any kind, since again any behaviour like this is unacceptable and I’m sorry we didn’t have clearer rules for this earlier.</p>

  <p>We’re also going to look into enlisting more mods, to help us better manage situations like this.</p>

  <p>We’re here to help in any way we can, so please don’t hesitate to write back if anything else is going wrong.</p>
</blockquote>

<p>I’m sure some of you have thoughts about this and I will try to address them.</p>

<h3 id="but-content-creators-should-expect-some-level-of-criticism-on-the-internet">“But content creators should expect some level of criticism on the internet”</h3>

<p>Yes, you are correct. And there were some actual “criticisms” posted that I was able to brush off easily. One example: “You can see her hand move when she is starting/pausing the filming”. And you’re right! My video editing skills for a silly TikTok I didn’t know was going to go viral were sub-par and this is a valid criticism.</p>

<p>But there’s a huge difference between a critique of the filming process and threads discussing me personally - everything about how annoying my voice is to debating my breast size (and directing people to go look at my social media to settle the debate). Whether you think these constitute valid criticisms or not, I think we can agree it will make people feel unsafe.</p>

<p>I didn’t post the video on Reddit myself for this exact reason. I find it to be a pretty toxic place for women and POC. There are places on Reddit where this commentary is allowed and even encouraged (see all the NSFW and controversial subreddits), but a programming humor subreddit allowing this is just continuing the trend of making women feel unwelcome in this industry.</p>



<p>While at first, it seems like a solid idea to ignore the haters, so to speak, first of all, if no one is reading the worst comments, we’re not reporting these things so nothing will ever change. Secondly, a discussion that starts as mild can escalate to doxxing, organized dogpiling, or threats. Not knowing that this is happening could be dangerous.  </p>

<h3 id="these-people-are-just-incels-and-the-scum-of-the-internet">“These people are just incels and the scum of the internet”</h3>

<p>When I was in college there were 2 anonymous message boards (YikYak and ACB) where students would post terribly racist and sexist things in addition to harassing individual girls at the school (not me because I wasn’t popular). It’s especially alarming to me that this was at an Ivy League school where most of these kids were raised “well” and would continue to go on to start companies, go to the best graduate programs, and be the “future leaders” of our world. And I’m sure most of these kids would have NEVER said any of those things in person, but being anonymous gives you a strange power and a weird desire to say harmful things.</p>

<p>I think people rush to dismiss these trolls as “the scum of the internet incels”, but I think that this is wrong. I think it’s way closer to home than that. I think they are Ivy League grads, fellow software engineers in SF, and people I ride the subway with. Normal people who really live normal lives in real life, but take out some internal rage online under the veil of anonymity.</p>

<p>Further, I think dismissing them as lost causes or “just trolls” minimizes the problem and gives an excuse for their behavior.</p>

<h3 id="i-know-what-some-of-you-are-still-thinking-i-agree-that-its-bad-but-when-you-put-yourself-out-there-on-the-internet-this-should-be-expected">I know what some of you are still thinking. “I agree that it’s bad, but when you put yourself out there on the internet, this should be expected”</h3>

<p>I think this is bullshit. Why should a woman have to expect to be harassed every time she puts herself out there online?</p>

<p>If somehow, you’ve made it this far as someone who has posted a nasty comment under the safety of anonymity before, I urge you to consider your words and how you are contributing to unsafe communities.</p>

<p>Platforms and their moderators can stop turning a blind eye to this type of behavior. It’s time to spend some resources, set clear rules, and enforce them. Your bottom line won’t matter if more than half of the human race feels unsafe on your platform.</p>

<p>I think we can all do better. We can call out and report this behavior as unacceptable when we see it. We can ask for and expect our communities to be held to a higher standard. I call on all of you to see and report these things. While it is not ideal that the onus is on us to take action, if we see it and don’t report it, nothing will ever change.</p>

<p>Maybe one day a woman will be able to post a silly video on the internet without fear.</p>

  </div></div>]]>
            </description>
            <link>https://www.emilykager.com/writing/2020/10/08/virality.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24743439</guid>
            <pubDate>Sun, 11 Oct 2020 02:53:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Machine Learning Engineering Book]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24743103">thread link</a>) | @roody_wurlitzer
<br/>
October 10, 2020 | http://www.mlebook.com/wiki/doku.php | <a href="https://web.archive.org/web/*/http://www.mlebook.com/wiki/doku.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="dokuwiki__content"><div>
                
                <p><span>start</span></p>

                <div class="page">
                                                            <!-- wikipage start -->
                    



<center><b>The book is now released!</b> Purchase <a href="https://leanpub.com/MLE">PDF</a>, <a href="https://www.amazon.com/dp/B08HKSG5X8">Kindle</a>, <a href="https://www.amazon.com/dp/1777005442">paperback</a>, <a href="https://www.amazon.com/dp/1777005469/">hardcover</a>.</center>



<p>
<img src="http://www.mlebook.com/wiki/lib/exe/fetch.php?w=900&amp;tok=febfcc&amp;media=kindle_cover.png" alt="" width="900">
</p>

<p>
This is the supporting wiki for the book <strong>Machine Learning Engineering</strong> written by me, <a href="https://www.linkedin.com/in/andriyburkov/" title="https://www.linkedin.com/in/andriyburkov/" rel="nofollow">Andriy Burkov</a>.
</p>

<p>
<em>“If you intend to use machine learning to solve business problems at scale, I'm delighted you got your hands on this book.”</em>
</p>

<p>
—<strong>Cassie Kozyrkov</strong>, Chief Decision Scientist at <strong>Google</strong>
</p>

<p>
<em>“Foundational work about the reality of building machine learning models in production. Comes at the right time when companies start to see through the AI hype, realizing it takes a conscious engineering effort and best practices to make machine learning work. Another great book from Andriy!”</em>
</p>

<p>
—<strong>Karolis Urbonas</strong>, Head of Machine Learning and Science at <strong>Amazon</strong>
</p>

<p>
Just like my previous bestselling <a href="http://themlbook.com/" title="http://themlbook.com" rel="nofollow">The Hundred-Page Machine Learning Book</a>, this book is distributed on the “read-first, buy-later” principle. I strongly believe that paying for the content before consuming it is buying a pig in a poke. You can see and try a car in a dealership before you buy it. You can try on a shirt or a dress in a department store. You have to be able to read a book before paying for it.
</p>

<p>
The read-first, buy-later principle implies that you can freely download the book, read it, and share it with your friends and colleagues. Only if you liked the book or found it useful, then buy it.
</p><p>

The book is available for purchase as a <a href="https://leanpub.com/MLE">PDF</a>, <a href="https://www.amazon.com/dp/B08HKSG5X8">Kindle</a>, <a href="https://www.amazon.com/dp/1777005442">paperback</a>, and <a href="https://www.amazon.com/dp/1777005469/">hardcover</a>.
</p><p>
Enjoy!
</p>

<h2 id="join_the_mailing_list">Join the Mailing List</h2>


<h2 id="released_drafts_of_the_chapters">Released Drafts of the Chapters</h2>


                    <!-- wikipage stop -->
                                    </div>

                <div><bdi>start.txt</bdi><p> · Last modified: 2020/10/02 21:01 by </p><bdi>aburkov</bdi></div>

                            </div></div></div>]]>
            </description>
            <link>http://www.mlebook.com/wiki/doku.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-24743103</guid>
            <pubDate>Sun, 11 Oct 2020 01:10:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Monolithic vs. Microservices: Pros and Cons]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24743002">thread link</a>) | @renanmoura
<br/>
October 10, 2020 | https://renanmf.com/monolithic-microservices-pros-and-cons/ | <a href="https://web.archive.org/web/*/https://renanmf.com/monolithic-microservices-pros-and-cons/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-container"><main id="main" itemscope="itemscope" itemtype="https://schema.org/CreativeWork"><div id="primary" data-v-spacing="top:bottom"><div data-sidebar="right"><section><article id="post-385" data-structure="default:wide"><section data-type="type-1"></section><div><h2>What is a Monolith?</h2><p>A Monolithic system is designed to produce one, self-contained, deliverable.</p><p>This deliverable will then be deployed in a whole bunch of different environments to be tested, validated, and finally, go to production and serve its users.</p><p>Monoliths are well-suited for a wide spectrum of solutions, especially small applications.</p><h3>Some pros of Monoliths</h3><p>It’s the current status quo on software development, which means everybody is used to think, design and work on systems following this architecture.</p><ul><li>To check the health status of your application is incredibly easy and there are a plethora of tools to help you with that.</li><li>Speaking on tools, on the developer’s side, our favorite IDE’s are all heavily optimized to work with monoliths: indexing, finding references, refactoring, debugging, etc.</li><li>Last but not least: the deploy is pretty straightforward! Well, in most cases at least.</li></ul><h3>Some cons of Monoliths</h3><ul><li>Updating the application’s technology stack gets harder and harder as the codebase grows.</li><li>A CI/CD (Continuous Integration and Continuous Delivery – aka Continuous Deployment) flow takes longer as the app becomes more complex, harming the feedback cycle.</li><li>Your system is so complete and full of functionalities that testing it takes forever, either manually or automatically.</li><li>The size of the app also implies a bigger team, which implies <a href="https://www.pmi.org/learning/library/effective-communication-better-project-management-6480">the biggest problem in project management</a>: communication.</li><li>Last but not least, the whole team’s productivity goes down as the project advances:<ul><li>The developer has too much code to handle and your IDE becomes a bottleneck.</li><li>The product manager has difficulties in planning releases because everything is so tied.</li><li>You have 600 feature branches that have to be synchronized, even if they are not directly related to each other.</li><li>The last point also implies rather complex merges</li></ul></li><li>Scaling is hard: remember Pareto’s 80/20? Well, if your users use 20% of the functionalities 80% of the time, as you get more users, you can’t scale only the 20%, you have to scale 100% of the software in production.</li><li>Domino effect: one bug can take down the entire system at once.</li></ul><h2>Enters Microservices</h2><p>A Microservices Architecture is typically described as an approach to divide your application into small and independent services. Done right, these small modules may be reusable and shared in multiple systems. Think about each service as SaaS (Software as a Service) on its own when consumed by other services.</p><h3>Some pros of Microservices</h3><ul><li>CI/CD becomes easier, if you need to update service A, service B will keep running.</li><li>Scalability where it needs to be: you can pinpoint the most used services and give them more RAM and CPU, which is also gonna save you some cash.</li><li>A bug crashing service B doesn’t take down service A, especially if you have implemented some good caching strategy in service A if it consumes some API in service B.</li><li>You can have small, specialized teams for every service, which diminishes the communication problems.</li><li>It is possible to use different technology stacks for each service and to consider the one that suits better the required features.</li><li>Different microservices can be reused for many systems, e.g., you may have a microservice specifically to deal with payments and share it with all your applications.</li></ul><h3>Some cons of Microservices</h3><ul><li>The health check is more difficult, you have to monitor every service and aggregate logs as well as track the requests passing by each microservice to debug them properly.</li><li>It is no easy task to find the boundaries between services properly, thus a good understanding of the business domain is needed, a good approach is DDD as described in <a href="https://www.amazon.com.br/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215">Domain-Driven Design: Tackling Complexity in the Heart of Software</a>.</li><li>As a distributed system, you have to deal with other issues like network latency and failures.</li><li>Even with independent deploys, some level of coordination is necessary amongst the teams when major changes are made.</li><li>Knowing when and how to migrate from a Monolith to a Microservice.</li></ul><h2>Conclusion</h2><p>This was a first introduction to the topic of Microservices, I plan on doing more posts to explore it even further, concerning the right moment of adoption, actual tools for implementation and design patterns. As a general rule, when in doubt, start with a monolithic approach and move to microservices if needed.</p></div></article></section></div></div></main></div></div>]]>
            </description>
            <link>https://renanmf.com/monolithic-microservices-pros-and-cons/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24743002</guid>
            <pubDate>Sun, 11 Oct 2020 00:42:12 GMT</pubDate>
        </item>
    </channel>
</rss>
