<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sun, 20 Sep 2020 12:29:50 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sun, 20 Sep 2020 12:29:50 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Don't hate the book because you don't use it]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24514953">thread link</a>) | @aseure
<br/>
September 18, 2020 | https://aseure.fr/articles/2020-09-18-dont-hate-the-book-because-you-dont-use-it/ | <a href="https://web.archive.org/web/*/https://aseure.fr/articles/2020-09-18-dont-hate-the-book-because-you-dont-use-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
<h3>
  18 September 2020
</h3>


  <p>In a few months, I‚Äôll celebrate my fifth year as a professional - understand paid - software engineer. I find this role to be a right balance of technical skills, human relationships and it fulfils my curiosity. As time goes by, I‚Äôm also starting to be disappointed by some of its negative aspects. While it doesn‚Äôt prevent me from sleeping, I think an effort could be made to challenge some lousy and short-sighted comments we see daily on social platforms.</p>
<p>Today, I‚Äôd like to talk about <a href="https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8">Design Patterns: Elements of Reusable Object-Oriented Software</a>, a book written by Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides, famously known as the <em>Gang of Four</em>. If you never read it: this is a fundamental programming book describing programming abstractions published in 1994. The date is essential here, but we‚Äôll come to that later.</p>
<p>This book has recently been discussed by many, due to <a href="https://twitter.com/unclebobmartin/status/1306581616983183361">a recent tweet from Robert. C. Martin aka Uncle Bob</a>. Long story short, telling a massive audience that book X is great, and treating people who consider it outdated as ‚Äúfoolish‚Äù does not end well.</p>
<p>While I disagree with the tone here, I‚Äôd like to focus on the negative comments which followed, including but not limited to:</p>
<ul>
<li>the book is outdated</li>
<li>its concepts are outdated</li>
<li>its authors said it‚Äôs outdated</li>
<li>the book is only focused on mid-90s C++ developers</li>
<li>no one ever used the ‚Äúflyweight‚Äù design pattern</li>
<li>the book is not even readable</li>
<li>its abstractions make code unreadable</li>
</ul>
<p>First of all, let‚Äôs get back to 1994. I was two at the time. All Internet websites could probably fit on a floppy disk, Jeff Bezos founded Amazon, Rasmus Lerdorf was only starting to work on its <em>Personal Home Page/Forms Interpreter</em> CGI C program, and Larry Page and Sergey Brin would only start their research project for a web search engine two years later. The biggest technology companies were IBM, Hewlett-Packard, Motorola and Xerox, which mostly sat behind the oil, car, and food industries. Programming existed, but it wasn‚Äôt the same field as we know it today. Tech companies were a few, and I assume a lot of programmers were working in other industries. Being a professional in this sector was arguably more difficult then, and knowledge was not as easily accessible as it is today. This book was published in a world where programming started to spread in many industries. It surely was a very good resource, to try to apply its concepts, and see what works and what doesn‚Äôt. The authors were literally inventing the field at the time: Erich Gamma, for instance, teamed up with Kent Beck to create the Java JUnit test framework just a few years later, which hugely helped to popularise testing.</p>
<p>My point is: let‚Äôs remind ourselves we stand on the shoulders of many people who tried and experimented a lot at the time. We too often take for granted the knowledge and productivity we have today. On top of that, let‚Äôs not be disrespectful towards the previous generation. My father and my grandfather both work(ed) as electricians: never did my father complain about his father‚Äôs tools or habits before him. He learned them and perfected them with modern knowledge.</p>
<p>Now about the book in itself. While I agree with people saying that some design patterns are too abstract, I strongly disagree with the ones saying the whole book is outdated. Should you develop in a OO language today, such as Java, C++, Python or Ruby, or even more notably, develop a framework or a tool <em>for</em> developers, I think this book is still highly relevant today.</p>
<p>Here are my top picks from the book and why I chose them.</p>
<p><strong>Builder:</strong> because in OOP, objects often hold too much data in them, you need to control how to instantiate them properly. Even with overloaded constructors, data validation at instantiation can become messy. Do you like your testing framework using a <em>fluent interface</em> with method chaining (<code>assert(...).not().equalTo(...)</code>)? Guess what, it‚Äôs directly inspired by the builder design pattern.</p>
<p><strong>Prototype:</strong> I often hear people complaining about how complicated JavaScript is. While I don‚Äôt think this language makes it easy for the developer to write non error-prone code, I better understood the language via the lens of its prototype-based nature, precisely described by the prototype design pattern.</p>
<p><strong>Most of the structural patterns:</strong> While everyone is focused on the bad parts of OOP, namely inheritance, all those design patterns are focused on composability. If you want to be cool nowadays, you could say you prefer ‚Äúcomposition over inheritance‚Äù. Well, if you think composition is only about embedding objects in each other, you should read the part of structural design patterns. For instance, you probably know decorators from Python or annotations in Java/C#, they derive from the decorator design pattern.</p>
<p><strong>Chain of Responsibility:</strong> I think we can all agree on how great it is to use and implement a middleware in our modern web framework. Just use or write functions which take a <em>next</em> handler, a request object. Pass it to your web framework instance via a <code>.use(...)</code> method and you‚Äôre done. This is what the Chain of Responsibility pattern is all about. All Rails, Django, and Laravel developers knew that was NIH.</p>
<p><strong>Iterator:</strong> This one seems obvious now, perhaps not so much at a time where iterating on arrays with pointer arithmetic was common. Today, iterators are even buried behind standard libraries to implement even higher abstract functionalities, but they are still there. I don‚Äôt see a more universal way to implement, with the same public API, a traversal of an array, a tree, or a graph (they are better ways of iterating those last data structures though).</p>
<p><strong>Observer:</strong> For this last one, here is the verbatim definition from the book: ‚ÄúDefine a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically‚Äù. Now, if we take a look at some modern technologies, doesn‚Äôt this resonate with PubSub models or React hooks for instance?</p>
<p>To conclude, I‚Äôm not saying the book is not old, quite the opposite: you can feel it when it takes as examples from 90s user interfaces. I‚Äôm merely advocating that our industry and its workers have changed a lot in the last 30 years, dare I say even more than in any other industry. But this should not be an excuse to sweep away years of meticulous R&amp;D and documentation, on which our modern tools still rely on nowadays, and the people behind it.</p>
<p>Because a lot of people complained that they were never able to finish the book, here is an extract from the end, section ‚ÄúWhat to Expect from Design Patterns‚Äù, page 351:</p>
<blockquote>
<p>It‚Äôs possible to argue that this book hasn‚Äôt accomplished much. After all, it doesn‚Äôt present any algorithms or programming techniques that haven‚Äôt been used before. [‚Ä¶] it just documents existing designs. You could conclude that it makes a reasonable tutorial, perhaps, but it certainly can‚Äôt offer much to an experienced object-oriented designer.</p>
<p>We hope you think differently. Cataloging design patterns is important. It gives us standard names and definitions for the techniques we use. If we don‚Äôt study design patterns in software, we won‚Äôt be able to improve them, and it‚Äôll be harder to come up with new ones.</p>
<p>This book is only a start.</p>
</blockquote>

</div></div>]]>
            </description>
            <link>https://aseure.fr/articles/2020-09-18-dont-hate-the-book-because-you-dont-use-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24514953</guid>
            <pubDate>Fri, 18 Sep 2020 10:14:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Security Headlines: cURL special with Daniel Stenberg [audio]]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24514932">thread link</a>) | @devrustr
<br/>
September 18, 2020 | https://blog.firosolutions.com/2020/09/security-headlines-curl-special/ | <a href="https://web.archive.org/web/*/https://blog.firosolutions.com/2020/09/security-headlines-curl-special/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  





<p><img alt="curl security headlines podcast" src="https://blog.firosolutions.com/shcurl.png"></p><h3 id="summary">Summary:</h3>

<p>In this episode of Security Headlines, we jump into curl with<br>
its founder and maintainer Daniel Stenberg.<br>
We talk security, CI systems, creation of curl, Fuzzing, IRC bots<br>
and a lot more!</p>

<p>Relax, Tune in and enjoy this episode of Security Headlines:</p>







<p><a href="https://anchor.fm/firo-solutions/episodes/Curl-special-with-Daniel-Stenberg-ejqn0g">https://anchor.fm/firo-solutions/episodes/Curl-special-with-Daniel-Stenberg-ejqn0g</a></p>

<p>Few software developers never even get near to having one<br>
of their projects being picked up by a larger community.</p>

<p>A project that started as a currency plugin to an IRC bot.<br>
Spun off and ended up becoming bigger and bigger resulting in being
adopted by over 10 billion devices.  Well, this project is called<br>
curl!  Curl is known to be the stable swizz army knife that can<br>
be used for making various types of transfer requests.</p>

<p>Need to download a file? Curl is here for you<br>
Need to test a socks5 proxy? Curl is here for you<br>
Need to download an ezine over Gopher? Curl is here for you<br>
Need to test a unix socket? Curl is here for you</p>

<p>In this episode of Security Headlines, we are joined by Daniel<br>
Stenberg who is the founder and maintainer of Curl.<br>
He has even been awarded a gold medal by the Swedish king for<br>
his work with Curl.</p>



<p><img alt="curl Daniel stenberg King medal" src="https://blog.firosolutions.com/daniel-king.jpg"></p><p>The curl codebase is around 100 000 lines of C code, filled with<br>
hidden gems such as a libcurl code generator that creates a template<br>
based on the command line arguments you give it.</p>

<p>One of curl‚Äôs many features is the ‚Äìlibcurl option which<br>
takes the commmand you give curl and generate a C program that use<br>
libcurl with the same functionally, you can even port it to other<br>
programming languages with a similar syntax and use it with libcurl‚Äôs<br>
bindings.</p>

<pre><code>$ curl https://blog.firosolutions.com --libcurl example.c   
$ head example.c 
/********* Sample code generated by the curl command line tool **********
 * All curl_easy_setopt() options are documented at:
 * https://curl.haxx.se/libcurl/c/curl_easy_setopt.html
 ************************************************************************/
#include &lt;curl/curl.h&gt;

int main(int argc, char *argv[])
{
  CURLcode ret;
  CURL *hnd;

</code></pre>

<p>Even Google love Curl, having curl in over 100 devices.<br>
This leads us to Google‚Äôs fuzzing project, where they have<br>
an army of computers that feed automated generated data in order<br>
to find bugs.<br>
This has resulted in curl being more stable, secure, and mature.</p>

<p>The world is always moving and so is the technology evolution.<br>
Getting a bit dystopian here, but maybe we will move to a future<br>
where we are running everything in a browser.<br>
A world where everything runs ipv6 and http3.</p>

<p>In that world, I know one tool we can count on.</p>

<h3 id="external-links">External links:</h3>

<p><a href="https://curl.haxx.se/">https://curl.haxx.se/</a><br>
<a href="https://curl.haxx.se/docs/security.html">https://curl.haxx.se/docs/security.html</a><br>
<a href="https://en.wikipedia.org/wiki/CURL">https://en.wikipedia.org/wiki/CURL</a><br>
<a href="https://twitter.com/bagder">https://twitter.com/bagder</a><br>
<a href="https://www.wolfssl.com/">https://www.wolfssl.com/</a><br>
<a href="https://daniel.haxx.se/">https://daniel.haxx.se/</a><br>
<a href="https://bugs.chromium.org/p/oss-fuzz/issues/list?sort=-opened&amp;can=1&amp;q=proj:curl">https://bugs.chromium.org/p/oss-fuzz/issues/list?sort=-opened&amp;can=1&amp;q=proj:curl</a><br>
<a href="https://en.wikipedia.org/wiki/Gopher_%28protocol%29">https://en.wikipedia.org/wiki/Gopher_%28protocol%29</a><br>
<a href="https://curl.haxx.se/mail/">https://curl.haxx.se/mail/</a></p>

</div></div>]]>
            </description>
            <link>https://blog.firosolutions.com/2020/09/security-headlines-curl-special/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24514932</guid>
            <pubDate>Fri, 18 Sep 2020 10:10:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hardware Design of a 8088 based Chinese Typewriter made in the 1980s]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24514269">thread link</a>) | @tifan
<br/>
September 18, 2020 | https://tifan.net/blog/2020/09/17/ms240x-chinese-typewriter-2-ms-2401h-hardware-design/ | <a href="https://web.archive.org/web/*/https://tifan.net/blog/2020/09/17/ms240x-chinese-typewriter-2-ms-2401h-hardware-design/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <header id="banner">
      
    </header><!-- /#banner -->
    <!-- /#menu -->
<section id="content">
  <header>
    <h2>
      Stone MS-240x Typewriter (2): Hardware Design
    </h2> 
    
  </header>
  <!-- /.post-info -->
  <div>
    <p>In case you misseed it -- I talked about the backgrounds of the MS-240x typewriter in the <a href="https://tifan.net/blog/2020/09/09/revealing-a-forgotten-chinese-compute-history-stone-ms240x-chinese-typewritter-1-background/">previous article</a>. In this article, I'm going to discuss the hardware design of the legendary Stone MS-240x Chinese Typewriter (ÂõõÈÄö MS-240x ‰∏≠Ëã±ÊñáÊâìÂ≠óÊú∫) designed and sold in the mid-1980s.</p>
<p>Both the hardware and the BIOS was designed by ALPS Electric Co. ALPS provided a BIOS reference manual before the development began so that the developers in China could just write an emulator on the PC emulating the ALPS BIOS, and just focus on the development of the word processor.</p>
<div id="the-hardware">
<h2>The Hardware</h2>
<p><img alt="Stone MS-2401H ÂõõÈÄö MS-2401H ÊâìÂ≠óÊú∫" src="https://tifan.net/images/20200917-ms-2401h.jpg"></p><p>(<a href="https://www.lty.me/stone-ms-2401h/">Picture taken by @lty1993</a>)</p>
<p>As I mentioned in the previous article, the hardware is just a 8088 machine in its core. In the 80s, the Japanese engineer reverse engineered and implemented Japanese counterparts of almost all popular chips in the west. The ALPS motherboard is not an exception to that.</p>
<p>I bought the machine on Xianyu (Chinese eBay equivalent) and shipped it to @lty1993 in China for examination, disassembly, and ROM dumps. The machine is quite heavy -- shipping it to the west coast would probably cost 200 USD. Guess there won't be any Stone Chinese Typewriters in the US for a while!</p>
</div>
<div id="processor-nec-v20">
<h2>Processor: NEC V20</h2>
<p>Instead of using the actual 8088 processor, MS-240x series used the NEC V20 running at different clock frequencies. The original MS-2400 clocks at 4.9125 MHz, the upgraded MS-2401 runs at 8 MHz, and the later MS-2401H model runs at 10 MHz.</p>
<p>The V20 is 30% faster than the original 8088 running at the same clock speed, providing additional power for the heavy lifting work a Chinese Typewriters needs to do.</p>
</div>
<div id="memory-hard-wired-memory-map-with-page-control">
<h2>Memory: Hard-wired Memory Map with Page Control</h2>
<p>The RAM itself is not interesting at all. It's just a bunch of Japanese made SRAM connected to the address bus of the processor.</p>
<p>The BIOS is mapped at <cite>0xF8000</cite> to <cite>0xFFFF</cite>, and CPU will execute the instruction at <cite>0xFFFF0</cite> -- that's the convention for 8088. So naturally, the BIOS was hard wired at that address.</p>
<p>Remember we talked about the Chinese fonts? It's a mask ROM, and it is quite large -- larger than the address space of 8088 processor if we include high precision Chinese fonts at 24x24 dot (which is still pretty awful in today's standard). To solve this problem, all external ROMs were divided into 32KB pages. To access any page in the ROM, you would send a command to the ASIC to select the page first (bank switching) before reading memory from the hard wired memory location. Sounds like a MMU? Well, this <em>is</em> a poor man's MMU.</p>
<p>One thing worth noting is that all models have built in battery backup units. Newer models (such as MS-2401) can even operate with battery with up to 3 hours battery life -- it almost makes the typewritter a laptop with a built-in printer.</p>
<p>Here's the memory map for various models of the Chinese typewriter.</p>
<p><img alt="Memory Map for MS-2400" src="https://tifan.net/images/20200917-ms-2400-memory-map.png"></p><p>MS-2400 have the Chinese font mapped at <cite>0xA0000</cite> with 16 pages in total. It can support up to 3 Chinese IMEs (input methods, such as Pinyin, Wubi or Cangjie) -- a standard IME comes with the machine, up to 2 additional IMEs can be purchased as a EPROM chip inserted in the expansion ROM socket. As there's only 1 IME socket, regardless of how many IMEs would you purchase, you'll always get just one 64KB EPROM. The keyboards are mapped at <cite>0x90000</cite> and have up to 3 pages in total.</p>
<p>When the machine was designed, there's also an expansion socket at <cite>0xE8000</cite>. However, the expansion socket was never used.</p>
<p>As the only display device is a 240x64 LCD, the VRAM is just 2KB in size mapped at <cite>0x80000</cite>.</p>
<p><img alt="Memory Map for MS-2401" src="https://tifan.net/images/20200917-ms-2401-memory-map.png"></p><p>MS-2401 is significantly more capable with a bigger LCD display, larger RAM, and larger Chinese font ROM. To conserve mask ROM space, all font data in the mask ROM was compressed.</p>
<p><img alt="Memory Map for MS-2401H" src="https://tifan.net/images/20200917-ms-2401h-memory-map.png"></p><p>You might wonder what does "V-RAM (CRT Áî®)" in MS-2401H/01C mean. MS-2401H/01C is the top of the line model in MS-2401 series featuring ability to attach an external monitor. The graphics chip is <cite>MGP TM6066A</cite>, a Hercules clone, with MDA output.</p>
</div>
<div id="system-devices">
<h2>System Devices</h2>
<p>We all know the 8088 is not a very capable machine. ALPS custom made a few ASICs to connect system devices such as printers, keyboards and LCD monitors to the system. That's also what makes it extremely hard to write an emulator -- without knowing exactly how the ASIC works, it's close to impossible to emulate all devices and peripherals. Even with the original designer's help, we still can't be quite sure what is the exact IO address for each device, let alone determining what each command would do.</p>
<p>But anyway, we do have an rough idea of what the system is doing.</p>
<div id="external-storage-device">
<h3>External Storage Device</h3>
<p>The first model, MS-2400, have an audio cassette connector running at 1200bps. Each cassette can hold around 500KB of data, or 250k Chinese characters.</p>
<p>In 1986, when 3 1/2 inch disk just came out, Mr Jizhi Wang chose to use the very new technology in MS-2401. This is a killer function at that time, because digital documents could be finally archived relatively cheaply. Of course you could always use a computer, but that's a big upfront investment.</p>
</div>
<div id="keyboard">
<h3>Keyboard</h3>
<p><img alt="Memory Map for MS-2401" src="https://tifan.net/images/20200917-ms-2401-keyboard.jpg"></p><p>It's not a ANSI keyboard. The design seems to be inspired by JIS keyboard, and was fully translated into Chinese -- you can't even find "Ctrl" on the keyboard, instead, you'll see "ÊéßÂà∂" (lit. control). This flattens learning curve for the typewriter, as it doesn't feel foreign to the users. Just like we say "it's all Chinese to me" -- the Chinese users would say "it's all English to me" -- because it really is!</p>
<p>One interesting fact to point out is instead of commonly seem Esc, Tab, Caps Lock, Shift, Ctrl arrangement on the left, the keyboard is actually Âçä/ÂÖ® (half width / full width), Tab, Ctrl, Shift, Â∏∏Áî®Â≠ó (frequently used characters). Of course, it's a Chinese typewriter, Caps Lock isn't that important after all.</p>
</div>
<div id="printer">
<h3>Printer</h3>
<p>It sees that the printer only accepts low level commands -- or shall we say, the printer itself does not have a controller. According to the reference manual, the printer head and motor are directly controlled by the ASIC. It also needs a few dedicated timers.</p>
</div>
<div id="asic-and-fdd-controller">
<h3>ASIC and FDD Controller</h3>
<p>In MS-2401H, there are 2 ASICs, each of them contains around 8000 gates. the model is uPD91260GD-5BD and uPD91261GD-5BB.</p>
<p>The floppy controller for MS-2401 MS-2401H is UPD72067GC.</p>
</div>
</div>
<div id="conclusion">
<h2>Conclusion</h2>
<p>The MS series machines are classical examples of pushing the hardware to its limits. Most people would simply say it's impossible to use a 8088-equivalent to drive a Chinese typewriter, but the engineers did it. By abusing the system and designing chips around the 8088, they were even able to map memory larger than the actual address space of the machine! Hats off to the hardworking engineers both in Stone Company and ALPS Electric.</p>
<p>Another thing to point out is Stone Company wrote fabulous documentations. It's really pleasing to read, contains a lot of technical details, and in some occasions, it teaches you electrical engineering! It even contained the layout of the diagnostics program so that you can just disassemble them and add new functionalities should you need them.</p>
<p><img alt="manga illustration in technical document" src="https://tifan.net/images/20200917-stone-documentation-manga.png"></p><p>Plus, the manga illustration is pretty cute. Haven't seen them for a long long time.</p>
</div>


  </div><!-- /.entry-content -->
  

</section>
    <!-- /#contentinfo -->
    
    
  </div></div>]]>
            </description>
            <link>https://tifan.net/blog/2020/09/17/ms240x-chinese-typewriter-2-ms-2401h-hardware-design/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24514269</guid>
            <pubDate>Fri, 18 Sep 2020 08:21:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing an x86 bootloader in Rust that can launch vmlinux]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 22 (<a href="https://news.ycombinator.com/item?id=24514100">thread link</a>) | @lukastyrychtr
<br/>
September 18, 2020 | https://vmm.dev/en/rust/krabs.md | <a href="https://web.archive.org/web/*/https://vmm.dev/en/rust/krabs.md">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
<article id="contents">
<section>

<p>I've been developping an x86 bootloader in Rust that can use Linux boot protocol. In this article, I'd like to write about my motivation, features of this project, and issues. </p>
 
</section>
<section>
<h2>KRaBs - Kernel Reader and Booters</h2>
<p>KRaBs is a 4-stage chain loader for x86/x86_64 written in Rust.
<br>
 It can boot an ELF-formatted kernel placed on a FAT32 filesystem in the EFI System Partition. The ELF-formatted kernel is read from the filesystem and relocated, and then the kernel is booted. 
<br>
 It is all implemented in Rust. </p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/o8vm/krabs/">GitHub - o8vm/krabs: An x86 bootloader written in Rust.</a> </p>
<p>It has the following features: </p>
<ol> <li> Currently, only legacy BIOS is supported.</li> <li> Both 64 bit and 32 bit system are supported.</li> <li> Both 64 bit long mode and 32 bit protected mode kernel are supported.</li> <li> GPT format partition table is supported.</li> <li> FAT32 file system support.</li> <li> The boot-time behavior can be controlled by CONFIG.TXT, which is placed on the FAT32 filesystem.</li> <li> Minimal x86/x86_64 Linux boot protocol is supported.</li> <li> kernel command line setting in CONFIG.TXT is supported.</li> <li> Some modules such as initramsfs/initrd are supported.</li> 10. The multi-boot specification is not supported. </ol> 
<p>An example of starting 64bit vmlinux with kernel command line and initrd is described in <a target="_blank" rel="noopener noreferrer" href="https://github.com/o8vm/krabs/blob/master/docs/linux-image-setup-64.md">this article</a>. </p>
<p>Just git clone the project and run a <code>cargo run</code> to experience after some preparation: </p>
<pre><code>
cargo run -- -we disk.img
</code></pre>
<p><a target="_blank" rel="noopener noreferrer" href="https://vmm.dev/en/rust/gogWCnI37-demo3.gif"><img src="https://vmm.dev/en/rust/gogWCnI37-demo3.gif" alt="demo3.gif"></a></p>
</section>
<section>
<h2>What motivated me to develop KRaBs?</h2>
<p>I thought that lower level programming below the OS stack could be also made more modern by using Rust. I wanted to extract the minimum essentials from the process of booting the Linux kernel and finally make up original bootloader where there is no black box for me.
<br>
 </p>
<p>In addition: </p>
<ul> <li>It's not easy for me to read the source code of an existing chain loader.</li> <li>Reading large amounts of assembly and C source code is tough for a beginner. It takes a lot of time and effort to read it. </li> <li>It is said that Rust binaries tend to be too big and not suitable for writing bootloaders, but I wondered if it is true.</li> </ul> 
<p>Based on the above, I've decided to write down the bootloader in Rust from scratch. </p>
</section>
<section>
<h2>How KRaBs Works</h2>
</section>
<section>
<h3>Linux kernel bootstrapping mechanism</h3>
<p>While it may be difficult to unravel the Linux kernel bootstrapping mechanism from the bzImage and GRUB bootloader sources, The mechanism itself is surprisingly simple.
<br>
 There are four basic things: Loading the ELF-formatted image from the file system, Relocating it according to the program headers, and initializing system and setting parameters according to The Linux/x86 Boot Protocol. That's all there is to it. </p>
<p>Specifically, the following four types of initialization are performed: </p>
<p><strong>Hardware initialization:</strong> </p><ul> <li>Setting the keyboard repeat rate.</li> <li>Disable interrupts and mask all interrupt levels.</li> <li>Setting Interrupt descriptor (IDT) and segment descriptor (GDT). As a result,</li> all selectors (CS, DS, ES, FS, GS) refer to the 4 Gbyte flat linear address space. <li>Change the address bus to 32 bits (Enable A20 line).</li> <li>Transition to protected mode.</li> <li>If the target is ELF64, set the 4G boot pagetable and transition to long mode.</li> </ul> 
<p><strong>Software initialization:</strong> </p><ul> <li>Get system memory by BIOS call.</li> </ul> 
<p><strong>Information transmission to the kernel:</strong> </p><ul> <li>KRaBs mount the FAT32 EFI System Partition and Reading the CONFIG.TXT.</li> <li>Setting <a target="_blank" rel="noopener noreferrer" href="https://www.kernel.org/doc/html/latest/x86/zero-page.html">Zero Page</a> of kernel parameters and transmit it to the OS.</li> </ul> 
<p><strong>Load items and Relocate the kernel:</strong> </p><ul> <li>Load kernel, initrd and command line according to CONFIG.TXT.</li> <li>The target is an ELF file, KRaBs do the ELF relocation.</li> </ul> 
<p>The format of CONFIG.TXT is a simple matrix-oriented text file that looks like this: </p>
<pre><code>
main.kernel sample-kernel
main.initrd sample-initrd
main.cmdlin sample command line clocksource=tsc net.ifnames=0
</code></pre>
<p>To perform the above process, KRaBs uses a program that is divided into four stages. </p>
</section>
<section>
<h3>Stages Overview</h3>
<ol> <li> stage1  </li> A 446 byte program written to the boot sector. The segment registers(CS, DS, ES, SS) are set to <code>0x07C0</code>, and the stack pointer (ESP) is initialized to <code>0xFFF0</code>. After that, stage2 is loaded to address <code>0x07C0:0x0200</code>, and jumps to address <code>0x07C0:0x0206</code>. In the latter half of stage1, there is an area for storing the sector position and length (in units of 512 bytes) of the stage2 program. <li> stage2  </li> Load stage3 and stage4, then jump to stage3. The stage3 program is loaded at address <code>0x07C0:0x6000</code>, the stage4 is loaded at address <code>0x0003_0000</code> in the extended memory area. The file is read from the disk using a 2K byte track buffer from address <code>0x07C0:0xEE00</code>, and further transferred to an appropriate address using <code>INT 15h</code> BIOS Function <code>0x87h</code>. A mechanism similar to this function is used in stage 4. When the loading of stage3 and stage4 is completed, jump to address <code>0x07C0:0x6000</code>.  <li> stage3  </li> Do hardware and software initialization which need BIOS calls. After a series of initialization, empty_zero_page information is prepared in <code>0x07C0:0x0000</code> to <code>0x07C0:0x0FFF</code>. Enable the A20 line, change the address bus to 32 bits, and shift to the protect mode. Then, jump to the Stage4. <li> stage4  </li> Mount the FAT32 EFI System Partition. Then, read and parse the CONFIG.TXT on that partition. Load ELF kernel image, initrd, and kernel command line according to CONFIG.TXT. Drop to real mode when executing I/O. Set Command line and image informations in empty_zero_page. ELF kernel image is stored to the extended memory address <code>0x100000</code> or later, and then the ELF32/ELF64 file is parsed and loaded. If the target is ELF64, set the 4G boot pagetable and transition to long mode. Finally, jump to the entry point to launch the kernel. At this time, put the physical address (<code>0x00007C00</code>) of the empty_zero_page information prepared in the low-order memory into the <code>ESI</code> or <code>RSI</code> register. <li> planktonü¶†  </li> library common to stage1 ~ stage4. </ol> 
</section>
<section>
<h3>How build KRaBs</h3>
<p>The directory structure of the KRaBs project is as follows: </p>
<pre><code>
$ cd /path/to
$ tree . -L 3
.
‚îú‚îÄ‚îÄ build.rs
‚îú‚îÄ‚îÄ Cargo.toml
‚îú‚îÄ‚îÄ rust-toolchain
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ bios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ plankton
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stage_1st
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stage_2nd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stage_3rd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stage_4th
‚îÇ   ‚îú‚îÄ‚îÄ main.rs
‚îÇ   ‚îî‚îÄ‚îÄ uefi
...
</code></pre>
<p>All four stages that make up the bootloader for the legacy BIOS and a library called plankton are stored as a sub crate under a directory named <code>src/bios</code>.
<br>
 Under the <code>src/uefi</code> directory, we plan to store UEFI-compatible bootloader crates.
<br>
 All these sub-crates will be built by <code>build.rs</code> at <code>cargo build</code> time.
<br>
 </p>
<p><code>src/main.rs</code> is not the main body of the bootloader, <code>src/main.rs</code> is the CLI program that places KRaBs on the disk. This <code>main.rs</code> will write each stage of the KRaBs to the appropriate location on the disk. The <code>-w</code> option is used to write the stages to disk. </p>
<p>With this directory structure, just run <code>cargo buil</code> to build the CLI and the boot loader, and <code>cargo run -- -w disk.img</code> to burn the boot loader to disk. You can also test it with qemu by running <code>cargo run -- -e disk</code>. </p>
</section>
<section>
<h3>DISK Structure</h3>
<p>KRaBs supports disks that are partitioned in GPT format.
<br>
 The BIOS Boot Partition and the EFI System Partition are required. Place stage1 in the boot sector and stage2 ~ stage4 boot code for legacy BIOS in the BIOS Boot Partition. Place the CONFIG.TXT, Linux kernel, initrd on the FAT32 file system of the EFI System Partition. </p>
<p>Example: </p>
<pre><code>
$ gdisk -l disk.img 
...
Found valid GPT with protective MBR; using GPT.
Disk disk2.img: 204800 sectors, 100.0 MiB
Sector size (logical): 512 bytes
Disk identifier (GUID): 2A1F86BB-74EA-47C5-923A-7A3BAF83B5DF
Partition table holds up to 128 entries
Main partition table begins at sector 2 and ends at sector 33
First usable sector is 34, last usable sector is 204766
Partitions will be aligned on 2048-sector boundaries
Total free space is 2014 sectors (1007.0 KiB)

Number  Start (sector)    End (sector)  Size       Code  Name
   1            2048            4095   1024.0 KiB  EF02  BIOS boot partition
   2            4096          106495   50.0 MiB    EF00  EFI system partition
   3          106496          204766   48.0 MiB    8300  Linux filesystem
</code></pre>
</section>
<section>
<h3>Why use EFI System Partition?</h3>
<p>The reason for this is to make this project compatible with the UEFI environment in the future.
<br>
 I didn't support UEFI from the start because: </p>
<ul> <li>This bootloader was originally intended to be used on older PCs, such as the ThinkPad 600X.</li> <li>Currently, Legacy BIOS support works in a wider range system than UEFI.</li> <li>It is mainly intended to be used in the cloud environment except my PC. Legacy BIOS is the mainstream in x86 cloud environment, and there seems to be no merit to replace it with UEFI.</li> </ul> 
</section>
<section>
<h2>Is Rust good for writing a bootloader?</h2>
<p>I know there are pros and cons, but for me, Rust has been so much easier and better than writing C and assemblies. Personally, I think Rust is also pretty good for low-level programming, like bootloaders. </p>
<ol> <li> It's a great relief when the compilation is completed without problems   </li> When something goes wrong, most of the time I only need to suspect the unsafe part. This has made debugging a lot easier. I'm an amateur programmer, but thanks in part to this, I was able to complete my first prototype in a week. <li> Rust's build system is the best  </li> In Rust, you don't have to wonder which object file to link with which, like in C. <li> I can use my C experience</li> Since the chain loader is a rocket structure, we always have to code the unsafe parts in order to move to the next stage, and I thought it would be nice to be able to use the same techniques I often use in C for the unsafe parts.  <li> I think even the low-level code in no_std can be written in a modern way.</li> </ol> 
</section>
<section>
<h2>Issues</h2>
</section>
<section>
<h3>(RESOLVED) Setting Page Tables</h3>
<p>I tried to set up the page table with an alignment with a linker script or a struct attribute <a target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/reference/type-layout.html#representations">align</a>, but none of these things worked. It looked like the alignment settings were breaking other data structures. It's possible that I wasn't doing it right, but I didn't understand why and gave up debugging. In the end, I dealt with it by manually allocating the page table to the area where I wanted to set up. </p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/o8vm/krabs/blob/master/src/bios/stage_4th/src/svm/lm.rs#L44-L69">This code:</a> </p>
<pre><code>
fn setup_page_tables() {
    use plankton::layout::PGTABLE_START;
    use plankton::mem::MemoryRegion;
    let mut pg_table = ‚Ä¶</code></pre></section></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vmm.dev/en/rust/krabs.md">https://vmm.dev/en/rust/krabs.md</a></em></p>]]>
            </description>
            <link>https://vmm.dev/en/rust/krabs.md</link>
            <guid isPermaLink="false">hacker-news-small-sites-24514100</guid>
            <pubDate>Fri, 18 Sep 2020 07:54:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How can we, as web professionals, help to make the web more energy efficient?]]>
            </title>
            <description>
<![CDATA[
Score 107 | Comments 223 (<a href="https://news.ycombinator.com/item?id=24513427">thread link</a>) | @giuliomagnifico
<br/>
September 17, 2020 | https://cmhb.de/web-design-and-carbon-impact | <a href="https://web.archive.org/web/*/https://cmhb.de/web-design-and-carbon-impact">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<section>
    <div><blockquote>
<p>How can we, as web professionals, help to make the web more energy efficient?</p>
</blockquote>
<p>From data centres to transmission networks to the devices that we hold in our hands, it is all consuming electricity, and in turn producing carbon emissions. According to recent estimates, the entire network already consumes 10% of global electricity production, with data traffic doubling roughly every two years. It‚Äôs probably something very few people think about, or are even aware of as being an issue. But the fact of the matter is that the Internet consumes a huge amount of electricity. And when it comes to web design, there is a lot that can be done to make the web far more energy efficient.</p>
<hr>
<h2>Attitudes</h2>
<p>Creating a website is a lot more accessible today, made simpler by the emergence of no-code site builders. But it might be asking a lot for your typical web user or amateur creator to be aware of the environmental impact of their site. This, however, shouldn‚Äôt really be the case for any digital professional. Naturally, web developers will be more conscious of the weight of their pages, given that they are fully immersed in the code and content management that serves what you see on a web page. But even then, many developers simply look for the quickest route to completing a project, rather than the best way to produce the quickest and most efficient site. </p>
<p>So they load a website with bulky Javascript and third-party tools to meet the visual specification of the client or designer. As long as it works, right? They probably don‚Äôt care. They‚Äôre probably happy with their site that loads quickly on their 500Mbps connection. Who cares if they‚Äôre wasting expensive data on mobile connections in other countries? ‚ÄúBut Carl, some of us don‚Äôt have the luxury of building super high-performance, lightweight, and optimised sites due to client budgets and deadlines.‚Äù Well, I think you need to work on your craft, change your attitude and your priorities, or find another profession.</p>
<p>When we talk about the energy efficiency of websites, it‚Äôs easy to assume that it‚Äôs a purely technical topic. However, efficiency can be improved before we even build a website. Design and content have a big impact on energy efficiency.</p>
<p>Therefore, some of the biggest contributors to heavy sites and large CO2 emissions, are <em>designers</em>. Large moving imagery, multiple web fonts, animation, sound, autoplaying video, and generally esoteric design is prevalent these days. We see showcase after showcase of the <em>best of the web</em>, where the only criteria is: ‚ÄúDoes it look well-designed?‚Äù Well, look under the hood. It‚Äôs pretty terrifying. And that‚Äôs not even getting into the many accessibility concerns. If only more designers would ask themselves, ‚ÄúWhen was the last time I considered page size when designing something? When was the last time I decided that page weight was more important than aesthetics?‚Äù </p>
<p>These are questions I have put to designers before, and the response quite often is, ‚ÄúI‚Äôm just experimenting with technologies and trying to improve my UI skills. What harm is there in that?‚Äù Well, <em>Site of the Day</em>, the harm is your energy usage, and the likelihood that nobody‚Äîbesides an echo chamber of fellow designers‚Äîgive a shit about your over-design. People just want to access content quickly, without distraction, without friction, and without it using a tonne of data. That‚Äôs not to say aesthetics aren‚Äôt important‚Äîthey certainly are. The visual design of a site can play a significant role in user experience, readability, and conversion, but as with most things, there is a balance to be achieved. And there is a responsibility to be shared.</p>
<hr>
<h2>Solutions</h2>
<p>Fortunately, there are a growing number of web professionals who do care about the impact sites have on the planet, and there are many solutions designers and developers alike can find to improve their sites without overly compromising their designs. Solutions that I am actively looking into to improve my own work.</p>
<p>So how can we be more energy efficient in web design? Well, the folks over at <a href="https://www.wholegraindigital.com/blog/website-energy-efficiency/">Wholegrain Digital</a> put together a comprehensive list, but here are some key considerations:</p>
<h3>Reduce Images</h3>
<p>The single largest contributors to page weight. The more images, the more data needs to be transferred and the more energy is used. A good starting point is to ask oneself:</p>
<ul>
<li>Does the image genuinely add value to the user?</li>
<li>Does it communicate useful information?</li>
<li>Could the same impact be achieved if the image was smaller?</li>
<li>Could we achieve the same effect with a vector graphic (or even CSS style) instead of a photo?</li>
</ul>
<h3>Optimise Images</h3>
<p>Some designs are focused almost entirely on imagery, in which case optimisation is vital to better performance. There are technical decisions that significantly affect the file size of images displayed on a page. These include:</p>
<ul>
<li>Load images at the correct scale instead of relying on CSS to resize them, so that you avoid loading images that are larger than the scale they will be displayed at.</li>
<li>Use image optimisation tools before you upload them to your site. I personally use <a href="https://imageoptim.com/mac">ImageOptim</a>.</li>
<li>Use the most efficient file format for each image, such as WebP instead of JPEG (although this is not supported by all browsers).</li>
<li>Use image processing tools to resize, crop, and enhance your images that are served. I use <a href="https://www.imgix.com/">imgimx</a> for this, which works well for image-heavy sites such as <a href="https://minimalissimo.com/">Minimalissimo</a>.</li>
</ul>
<h3>Reduce Video</h3>
<p>By far the most data intensive and processing intensive form of content. As with images, ask yourself if videos are really necessary. If they are, never autoplay a video. It creates a much higher load on the users CPU, resulting in vastly greater energy consumption. Plus, it‚Äôs annoying as hell. Let the user decide whether or not to play a video.</p>
<h3>Font Selection and Optimisation</h3>
<p>Web fonts can enhance the visual appeal of site designs, as well as improve readability, but they can add significant file weight to the sites on which they are used. A single font file could be as much as 250Kb, and that might only be for the standard weight. If you want bold, add another 250Kb! A couple of options worth considering:</p>
<ul>
<li>Use system fonts where possible.</li>
<li>Use fewer font variations.</li>
<li>Stick to modern web font file formats like WOFF and WOFF2.</li>
<li>Subset fonts to only include the characters needed on the site.</li>
</ul>
<h3>Write Clean Code</h3>
<p>Tidy and streamlined code is a fundamentally good thing. Keep code clean and simple, avoid duplication, and write efficient queries. The code behind the scenes should be a well oiled, lean machine. And I‚Äôll take this opportunity to share a controversial opinion: <em>all designers should learn to code.</em> At least if they want a website. No-code site builders can be very good, but if you‚Äôre not aware of the underlying code, then you‚Äôll be less aware of ways to optimise your site.</p>
<h3>Use Less Javascript</h3>
<p>JS impacts website efficiency in two ways: by adding file weight to the web page and by increasing the amount of processing required by the user‚Äôs device. The second of these is something that applies to JS much more than to other types of files. Look for ways to achieve front-end interactions, functionality, and animations using more efficient technologies like CSS, or at least use JS efficiently. A particular mention should be given here to tracking and advertising scripts that rarely offer any value to the user, but can add significant file weight. Don‚Äôt let advertising get in the way of craftsmanship.</p>
<h3>Use Server Caching</h3>
<p>Using caching technologies such as <a href="https://memcached.org/">Memcached</a> or <a href="https://varnish-cache.org/">Varnish</a> pre-generate static versions of each page so that the server overhead can be significantly reduced for most visitors. This significantly reduces server energy consumption and makes a big difference to page load times. </p>
<h3>SEO</h3>
<p>When optimising a site for search engines, we are helping people find the information they want quickly and easily. When SEO is successful, it results in people spending less time browsing the web looking for information, and visiting fewer pages that don‚Äôt meet their needs.</p>
<hr>
<p>No site is perfect, but appreciating that we have a responsibility to produce better digital design for the planet and for users is a good place to start. Web efficiency is an attitude and the result of a mindful approach to building for the web.</p>
<hr>
<h2>Useful Resources</h2>
<ul>
<li><a href="https://www.websitecarbon.com/">Website Carbon</a> (test your site‚Äôs carbon footprint)</li>
<li><a href="https://imageoptim.com/mac">ImageOptim</a> (image optimisation tool)</li>
<li><a href="https://www.imgix.com/">imgix</a> (image processing tool)</li>
<li><a href="https://developers.google.com/speed/pagespeed/insights/">Google PageSpeed Insights</a> (test your site‚Äôs performance)</li>
<li><a href="https://solar.lowtechmagazine.com/low-tech-solutions.html">Low-tech Solutions</a> (by Low-tech Magazine)</li>
</ul></div>
</section>
    </div></div>]]>
            </description>
            <link>https://cmhb.de/web-design-and-carbon-impact</link>
            <guid isPermaLink="false">hacker-news-small-sites-24513427</guid>
            <pubDate>Fri, 18 Sep 2020 06:02:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CCP announces plan to take control of China's private sector]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24511672">thread link</a>) | @apsec112
<br/>
September 17, 2020 | https://www.asiatimesfinancial.com/ccp-announces-plan-to-take-control-of-chinas-private-sector | <a href="https://web.archive.org/web/*/https://www.asiatimesfinancial.com/ccp-announces-plan-to-take-control-of-chinas-private-sector">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        
        
        
      
        <h3>(ATF)√Ç&nbsp;Chinese President Xi Jinping and the Communist Party's Central Committee have laid out a plan for a √¢‚Ç¨Àúnew era√¢‚Ç¨‚Ñ¢ in which the party has better control over private business in China. </h3><p><a href="http://www.xinhuanet.com/fortune/2020-09/15/c_1126497384.htm">The plan</a> was detailed in a 5,000-word statement √¢‚Ç¨‚Äú and all regions and departments in the country have been told to follow the new guidelines.</p><p><span>This was the top story on Wednesday's CCTV Evening News √¢‚Ç¨‚Äú how the president had issued √¢‚Ç¨≈ìimportant instructions√¢‚Ç¨ÔøΩ.</span></p><p><span>It had a long-winded title: "Opinion on Strengthening the United Front Work of the Private Economy in the New Era".</span></p><p><span>The ultimate goal is for the party to have ideological leadership of private enterprise.</span></p><p><span>The statement seeks to improve CCP control over private enterprise and entrepreneurs through United Front Work √¢‚Ç¨≈ìto better focus the wisdom and strengthen of the private businesspeople on the goal and mission to realise the great rejuvenation of the Chinese nation.√¢‚Ç¨ÔøΩ</span></p><p><span>Xi's instructions were issued ahead of a conference today on this very topic.√Ç&nbsp;</span>The party wants to see a "united front" between private enterprise and government business.</p><h3><figure><iframe frameborder="0" scrolling="no" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" mozallowfullscreen="" webkitallowfullscreen="" oallowfullscreen="" msallowfullscreen="" allowtransparency="true" src="//player.vimeo.com/video/459459469"></iframe></figure>100 ways to rein in the private sector</h3><p>Since the 18th National Congress in May, members of the party's Central Committee and Comrade Xi have proposed a series of new concepts and strategies, and adopted a series of major measures to guide and promote private economic 'united front' work. They say these moves have achieved "remarkable results". </p><p>As China√¢‚Ç¨‚Ñ¢s private economy has grown and diversified, the statement says "these measures will bring about a great rejuvenation of the Chinese nation under Xi Jinping thought".</p><p>Overall, there are more than 100 measures, including guidance on selection of personnel to implement the measures. </p><p>"We must also see that socialism with Chinese characteristics has entered a new era, [as] the scale of the private economy has continued to expand, risks and challenges have increased significantly, the values and interests of the private economy have become increasingly diverse, and the united front work of the private economy is facing new situations and tasks," the statement says.</p><p>"In order to thoroughly implement the major decisions and deployments of the Party Central Committee, to further strengthen the Party's leadership of the private economic united front work, and to better integrate the wisdom and strength of private economic personnel to the goal and task of achieving the great rejuvenation of the Chinese nation, the following opinions are hereby offered."</p><p>The primary stated significance of the measures is √¢‚Ç¨≈ìenhancement of the party√¢‚Ç¨‚Ñ¢s leadership over the private economy √¢‚Ç¨‚Äú private economic figures are to be more closely united around the party.√¢‚Ç¨ÔøΩ</p><h3>More CCP involvement in business</h3><p>This is quite a turnaround. Previously, private business was not considered very worthy for party membership or influence, but it has gradually entered the heart of the regime.</p><p>According to the new provisions, private firms will need a certain amount of CCP registered employees, which is already a long-term practise in large private firms but not smaller ones. </p><p>These cadres will make sure businesses follow the guiding ideology√Ç&nbsp;√¢‚Ç¨≈ìGuided by Xi Jinping√¢‚Ç¨‚Ñ¢s Thought on Socialism with Chinese Characteristics for a New Era.√¢‚Ç¨ÔøΩ </p><p>They will also guide private business people to enhance the latest CCP catchphrases √¢‚Ç¨‚Äú √¢‚Ç¨≈ìfour consciousnesses√¢‚Ç¨ÔøΩ, strengthen the √¢‚Ç¨≈ìfour self-confidences√¢‚Ç¨ÔøΩ, and achieve the √¢‚Ç¨≈ìtwo safeguards.√¢‚Ç¨ÔøΩ</p><p>Duties of cadres will include the duties of strengthening ideological guidance,√Ç&nbsp;guiding private economic figures to increase their awareness of self-discipline, build a strong line of ideological and moral defence, strictly regulate their own words and deeds, cultivate a healthy lifestyle, and create a good public image.√Ç&nbsp;</p><p>They will also need to continuously improve law abidance and moral standards of private citizens.√Ç&nbsp;</p><p>Communication channels will be set up between private business and the party to report back on progress and other matters.</p>
      
      
        <p>Tags:</p>
      
      </article></div>]]>
            </description>
            <link>https://www.asiatimesfinancial.com/ccp-announces-plan-to-take-control-of-chinas-private-sector</link>
            <guid isPermaLink="false">hacker-news-small-sites-24511672</guid>
            <pubDate>Fri, 18 Sep 2020 00:33:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The End of the Arab-Israeli Conflict]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 7 (<a href="https://news.ycombinator.com/item?id=24511291">thread link</a>) | @brandonlc
<br/>
September 17, 2020 | https://ottomansandzionists.com/2020/09/17/the-end-of-the-arab-israeli-conflict/ | <a href="https://web.archive.org/web/*/https://ottomansandzionists.com/2020/09/17/the-end-of-the-arab-israeli-conflict/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

					
						<div>

							
<p>Tuesday‚Äôs ceremony on the White House lawn formalizing the normalization of relations between Israel and the United Arab Emirates, along with an agreement for Israel and Bahrain to do the same, marks the end of the Arab-Israeli conflict. The agreements do not create a new Middle East, as some have maintained, but cement that what had arrived haltingly and in fits and starts is here to stay. The Arab-Israeli conflict was already over in practice, and the Abraham Accord put a significant stamp on a process that had been underway for years. This does not lessen that it is something to be celebrated, and it should be clear to everyone without blinders on why Israelis are rightly happy. The Abraham Accord also brings with it another significant consequence, one that is perhaps unintended, in that the end of the Arab-Israeli conflict will put the focus on the Israeli-Palestinian conflict in an unavoidable way.</p>



<p>&nbsp;The Abraham Accord is a positive development for Israel, the UAE, and Bahrain, and nobody should pretend otherwise. Like nearly everything in foreign policy, it will bring some downsides along with it, but that doesn‚Äôt alter the cost-benefit analysis. It is a true Jared Kushner accomplishment, and credit should be given where credit is due. While Kushner and the Trump team‚Äôs vision for an ‚Äúultimate deal‚Äù when they took office was clearly intended to be one between Israelis and Palestinians, the decision to recognize Jerusalem as Israel‚Äôs capital without any reciprocal gesture toward the Palestinians and ‚Äì crucially ‚Äì the Palestinian reaction in the aftermath very obviously shifted their focus. Their vision ultimately became one of isolating and bypassing the Palestinians in order to craft agreements between Israel and Arab states and demonstrate to the Palestinians that they would not be able to exercise a veto over Israel‚Äôs place in the region writ large. Whether you agree with this approach or not ‚Äì and previous administrations did not ‚Äì the Trump administration succeeded in carrying it out.&nbsp;</p>



<p>&nbsp;While the way to the agreement was paved by the UAE publicly setting forth that normalization could not coexist with annexation, the text of the agreement itself demonstrates how well the Trump administration managed to divorce the Palestinian issue from the wider regional context. The agreement does not explicitly mention the Arab Peace Initiative or the 1967 lines, does not mention annexation, does not mention two states, does not mention past UN agreements, does not mention the Palestinians themselves, and the only reference to the conflict is an open-ended commitment to ‚Äúrealize a negotiated solution to‚Äù it ‚Äúthat meets the legitimate needs and aspirations of both people, and to advance comprehensive Middle East peace, stability and prosperity.‚Äù For anyone looking to demonstrate to the Palestinians just how little they matter in this new reality, you could not come up with a clearer statement of just that.</p>



<p>&nbsp;That Israel and Arab states have been moving closer together for years due to a confluence of shared interests and a desire to benefit economically, militarily, and technologically does not mean that Kushner‚Äôs success was accidental. He was able to come up with the right set of incentives for the UAE to formalize what had been informal, and was also able to make the case that any concerns about breaking the Arab Peace Initiative approach ‚Äì no normalization before an agreement with the Palestinians ‚Äì would not carry any real consequences for states willing to do so. For all of the years of talk about secret relations underneath the table, things are now out in the open, and that is indeed a big deal.</p>



<p>&nbsp;But just as it is hollow to argue that the Israel-UAE deal does not matter, it is also hollow to argue that it is the only thing that matters. In the past few weeks, there has been a strange phenomenon of simultaneously embarking on a new path while turning back the clock. In the decades after Israel‚Äôs founding, its battles for survival and struggle for acceptance were collectively known as the Arab-Israeli conflict, which accurately reflected the primary threats and challenges that Israel faced. Following repeated Israeli military victories against Egypt, Syria, Jordan, and others, and the subsequent acknowledgement of Israeli military superiority and permanence in the region, the Arab-Israeli conflict transformed into the Israeli-Palestinian conflict. That conflict remains, yet many this week want to pretend that we are back in Arab-Israeli conflict territory. Acting as if peace between Israel and Gulf states, and only peace between Israel and Gulf states, was the terminal goal all along is absurd. It does not detract from the actual accomplishment to describe it accurately and put it in the wider context, or to point out that this is an important and consequential deal but not the ultimate one that President Trump initially sought.</p>



<p>&nbsp;The fact that the Israeli-Palestinian conflict is what remains means that there will be a true return to it in a more crystallized and concentrated way. For some, that will make it even easier to ignore, because left on its own and severed from the prospect of it being the gateway to normal relations with other states, it will seem even less important and relevant. For others, it will mean even greater awareness, as it will be easier to see all of the ways in which it is different from past Israeli conflicts and how it is not going to disappear one day on its own. Whether or not one wants to minimize the Israeli-Palestinian conflict‚Äôs importance, it is far harder in the wake of the Israel-UAE accord ‚Äì one that does not explicitly recognize Israel as a Jewish state but does explicitly recognize Jews‚Äô place in the region and rebuts the charge that Israeli Jews are colonialist interlopers ‚Äì to maintain the posture that ‚Äúthey will always hate Jews and never accept Israel‚Äù and thus no deal can ever be struck. And if you argue that there is something qualitatively different about the Palestinians, it is also harder to simultaneously insist that they are not a distinct nationality and that they should be satisfied going to one of twenty two other Arab countries.</p>



<p>&nbsp;Most saliently, leaving the Arab-Israeli conflict behind while the Israeli-Palestinian conflict remains will create an ever starker contrast between a situation where Israeli actions and control do not have a direct impact on the parties across the table ‚Äì such as the Emiratis and the Bahrainis ‚Äì and the glaring situation with the Palestinians, where they do. This is also a Trump administration accomplishment, albeit an unintended one. When Arab states that were not directly impacted by Israeli actions in the West Bank would not engage with Israel, it was easy to criticize and point out the unfair standard involved and lump everyone together. With the Palestinians standing alone in every way, not only in how they relate to Israel but in how Israel relates to them, it is going to be ever clearer why and how the Israeli-Palestinian conflict is not the same as the Arab-Israeli conflict, why and how it cannot be reduced to economic or security interests, and why and how the Palestinians are not going to be overcome by U.S. inducements or the promise of access to Israeli benefits quite so easily.</p>
			
			
			
							
						</div>

					
					

				</div></div>]]>
            </description>
            <link>https://ottomansandzionists.com/2020/09/17/the-end-of-the-arab-israeli-conflict/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24511291</guid>
            <pubDate>Thu, 17 Sep 2020 23:41:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Universal flu vaccine finishes Phase 3 trial, results expected before December]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24510293">thread link</a>) | @apsec112
<br/>
September 17, 2020 | https://www.biondvax.com/2020/07/last-of-12400-participants-completes-final-visit-in-biondvaxs-m-001-universal-flu-vaccine-pivotal-phase-3-clinical-trial/ | <a href="https://web.archive.org/web/*/https://www.biondvax.com/2020/07/last-of-12400-participants-completes-final-visit-in-biondvaxs-m-001-universal-flu-vaccine-pivotal-phase-3-clinical-trial/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p>Jerusalem, Israel ‚Äì July 1, 2020 ‚Äì <strong>BiondVax Pharmaceuticals Ltd. (Nasdaq: BVXV)</strong> today announced that all participants in the placebo-controlled, blinded, pivotal, clinical efficacy, Phase 3 trial of BiondVax‚Äôs M‚Äë001 universal influenza vaccine candidate have now completed their site visits. In total, over 12,400 volunteers aged 50+ (with half aged 65+) were enrolled in the trial over the past two flu seasons in 83 sites across seven European countries. The purpose of the study is to assess M-001‚Äôs ability as a standalone non-adjuvanted vaccine to provide clinical protection from circulating influenza strains as measured by reduction of influenza illness rate (as a primary endpoint) and severity (as a secondary endpoint), as well as to assess M-001‚Äôs safety.</p>
<p>Seasonal influenza annually infects approximately <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5596521/">10-20% of the world‚Äôs population</a> resulting in up to about <a href="https://www.who.int/en/news-room/fact-sheets/detail/influenza-(seasonal)">five million cases of severe illness and 650,000 deaths</a>. In addition, pandemic influenza, such as the H1N1 Swine Flu pandemic of 2009, is a constant global threat. However, current influenza vaccines, which target frequently mutating parts of the flu virus and therefore must be updated annually in the hope they will match the next flu season‚Äôs circulating strains, achieve on average only about <a href="https://www.cdc.gov/flu/vaccines-work/effectiveness-studies.htm">40% vaccine effectiveness</a> in the general population and as low as <a href="https://www.cdc.gov/flu/vaccines-work/2018-2019.html">12% in older adults</a>.</p>
<p>BiondVax‚Äôs M-001 is a single recombinant protein of highly conserved influenza epitopes. Consequently:</p>
<ul>
<li>M-001 does not need to be updated and therefore can be manufactured and distributed year-round.</li>
<li>M-001 is designed to provide protection to both existing and future seasonal A and B strains, as well as emerging pandemic strains.</li>
</ul>
<p><a href="http://www.biondvax.com/about-us/management/tamar-ben-yedidia-cso/"><strong>Dr. Tamar Ben-Yedida</strong></a>, BiondVax‚Äôs Chief Scientist, commented, ‚Äú<em>We are pleased that despite the ongoing COVID-19 pandemic, and the challenge of conducting the trial across 83 sites and seven countries, thanks to all the people involved ‚Äì including the CRO, investigators, and thousands of participants ‚Äì we have maintained the planned timelines of our pivotal Phase 3 trial. In light of the ongoing COVID-19 pandemic, the need for improved influenza vaccines has arguably never been clearer. To better protect lives and economies, influenza vaccines must be more effective in reducing illness rates and severity. Needless to say, we are eagerly anticipating results of our trial by the end of this year.</em>‚Äù</p>
<p>Participants in the trial‚Äôs second cohort were enrolled prior to the 2019/20 flu season and monitored for influenza-like illness (ILI) symptoms throughout the flu season. Swabs samples were collected from those participants with ILI, and influenza confirmation is currently being conducted by a qualified laboratory. Analysis will continue in the coming months, and results are expected by the end of 2020.</p>
<p>As part of this Phase 3 study, cell-mediated immunogenicity markers of M-001 will be evaluated in a subset of participants. The recently completed clinical study report (CSR) of a U.S. National Institute of Allergy and Infectious Diseases (NIAID) supported Phase 2 clinical trial of M-001 concluded that, ‚Äú<em><a href="http://www.biondvax.com/2020/06/nih-report-on-phase-2-clinical-trial-of-biondvaxs-m-001-universal-influenza-vaccine-candidate-concludes-both-primary-endpoints-achieved/">M-001 induced significant polyfunctional T cell responses</a>.</em>‚Äù</p>
<p>In addition to the ongoing pivotal, clinical efficacy, Phase 3 trial, equipment installation and manufacturing process scale-up in BiondVax‚Äôs pilot facility in Jerusalem are in progress. The facility has planned annual capacity of up to between 10 and 20 million doses in bulk.</p>
<p><strong>About BiondVax </strong><br>
BiondVax (NASDAQ: BVXV) is a Phase 3 clinical stage biopharmaceutical company developing a universal flu vaccine. The vaccine candidate, called M-001, is designed to provide multi-strain and multi-season protection against current and future, seasonal and pandemic influenza. BiondVax‚Äôs proprietary technology utilizes a unique combination of conserved and common influenza virus peptides intended to stimulate both arms of the immune system for a cross-protecting and long-lasting effect. In a total of seven completed Phase 1/2 and Phase 2 clinical trials enrolling 818 participants, the vaccine has been shown to be safe, well-tolerated, and immunogenic. The ongoing pivotal Phase 3 clinical trial aims to assess safety and effectiveness of M-001 in reducing flu illness and severity. For more information, please visit <a href="http://www.biondvax.com/">www.biondvax.com</a>.</p>
<p><strong>Contact Details</strong><br>
Joshua E. Phillipson<strong> | </strong>+972 8 930 2529<strong> | </strong>j.phillipson@biondvax.com</p>
<p><strong>Forward Looking Statements</strong><br>
<em>This press release contains forward-looking statements within the meaning of the Private Litigation Reform Act of 1995. Words such as ‚Äúexpect,‚Äù ‚Äúbelieve,‚Äù ‚Äúintend,‚Äù ‚Äúplan,‚Äù ‚Äúcontinue,‚Äù ‚Äúmay,‚Äù ‚Äúwill,‚Äù ‚Äúanticipate,‚Äù and similar expressions are intended to identify forward-looking statements. These forward-looking statements reflect the management‚Äôs current views with respect to certain current and future events and are subject to various risks, uncertainties and assumptions that could cause the results to differ materially from those expected by the management of BiondVax Pharmaceuticals Ltd. Risks and uncertainties include, but are not limited to, risks relating to the COVID-19 (coronavirus) pandemic, including a risk of delay in the availability of the top line results from our pivotal clinical efficacy Phase 3 trial for M-001, the prosecution, timing and results of the ongoing Phase 2 and Phase 3 trials and any subsequent trials; timing of receipt of regulatory approval of our manufacturing facility in Jerusalem; ability to demonstrate the efficacy and safety of the vaccine; the timing of clinical trials and marketing approvals; the risk that drug development involves a lengthy and expensive process with uncertain outcome; the ability of the Company to maintain, preserve and defend its intellectual property and patents granted; whether our&nbsp; vaccine candidate will successfully advance through the clinical trial process on a timely basis, or at all, and receive approval from the U.S. Food and Drug Administration or equivalent foreign regulatory agencies; the adequacy of available cash resources and the ability to raise additional capital when needed. More detailed information about the risks and uncertainties affecting the Company is contained under the heading ‚ÄúRisk Factors‚Äù in our Annual Report on Form 20-F for the year ended December 31, 2019 filed with the U.S. Securities and Exchange Commission, or SEC, which is available on the SEC‚Äôs website, www.sec.gov. We undertake no obligation to revise or update any forward-looking statement for any reason.</em></p>
<p>###</p>
							</div></div>]]>
            </description>
            <link>https://www.biondvax.com/2020/07/last-of-12400-participants-completes-final-visit-in-biondvaxs-m-001-universal-flu-vaccine-pivotal-phase-3-clinical-trial/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24510293</guid>
            <pubDate>Thu, 17 Sep 2020 21:41:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deep Learning in Clojure with Fewer Parentheses Than Keras and Python]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24509374">thread link</a>) | @dragandj
<br/>
September 17, 2020 | https://dragan.rocks/articles/20/Deep-Diamond-Deep-Learning-in-Clojure-Fewer-Parentheses-Python-Keras | <a href="https://web.archive.org/web/*/https://dragan.rocks/articles/20/Deep-Diamond-Deep-Learning-in-Clojure-Fewer-Parentheses-Python-Keras">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="text-org5455e07">
<p>
How about the number of dreaded parentheses, <code>(</code> and <code>)</code>?
</p>

<table>


<colgroup>
<col>

<col>

<col>
</colgroup>
<thead>
<tr>
<th scope="col">&nbsp;</th>
<th scope="col">Python</th>
<th scope="col">Clojure</th>
</tr>
</thead>
<tbody>
<tr>
<td>( and )</td>
<td>48</td>
<td>28</td>
</tr>

<tr>
<td>(, ), [, and ]</td>
<td>50</td>
<td>48</td>
</tr>

<tr>
<td>Grouped (())</td>
<td>8</td>
<td>2</td>
</tr>

<tr>
<td>)))</td>
<td>2</td>
<td>1</td>
</tr>

<tr>
<td>,</td>
<td>17</td>
<td>0</td>
</tr>

<tr>
<td>model.add</td>
<td>8</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>
As we can see from the table, on every punctuation metric that I could think
of, Deep Diamond and Clojure fare better than Keras &amp; Python.
</p>

<p>
Keras uses almost twice as much parentheses than Deep Diamond. Clojure uses <code>[]</code>
for vector literals, which Deep Diamond uses as tensor shapes. You will note that
there are more than a few of these, and argue that these are parentheses, too.
Fine. Add them up, and Clojure fares slightly better than Python!
</p>

<p>
A parenthesis here and there is not a problem, but there are horror tales of
<code>(((((((</code> and <code>)))))))</code> in Lisps. Not in Clojure. See that there is not a
single <code>((</code> in the Clojure example, and only two occurances of <code>))</code>.
In Python - there are 8.
</p>

<p>
Then we come to all additional assorted punctuation in Python: commas, dots, etc.
In Clojure, there are none, while in Python there are dozens.
</p>

<p>
Python is also riddled with redundant stuff such as <code>model.add()</code>.
</p>

<p>
Etc., etc. You get my point.
</p>
</div></div>]]>
            </description>
            <link>https://dragan.rocks/articles/20/Deep-Diamond-Deep-Learning-in-Clojure-Fewer-Parentheses-Python-Keras</link>
            <guid isPermaLink="false">hacker-news-small-sites-24509374</guid>
            <pubDate>Thu, 17 Sep 2020 20:11:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Algorithms discern our mood from what we write online]]>
            </title>
            <description>
<![CDATA[
Score 43 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24508610">thread link</a>) | @sinapticasblog
<br/>
September 17, 2020 | https://sinapticas.com/2020/09/17/how-algorithms-discern-our-mood-from-what-we-write-online/ | <a href="https://web.archive.org/web/*/https://sinapticas.com/2020/09/17/how-algorithms-discern-our-mood-from-what-we-write-online/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Researchers&nbsp;and companies are harnessing computers to identify the emotions behind our written words. While sentiment analysis is far from perfect, it manages to distill meaning from huge amounts of data ‚Äî and could one day even monitor mental health.</p>



<p>By Dana Mackenzie</p>



<p>9.14.2020</p>



<p>Many people have declared 2020 the worst year ever. While such a description may seem hopelessly subjective, according to one measure, it‚Äôs true.</p>



<p>That yardstick is the Hedonometer, a computerized way of assessing both our happiness and our despair. It runs day in and day out on computers at the University of Vermont (UVM), where it scrapes some 50 million tweets per day off Twitter and then gives a quick-and-dirty read of the public‚Äôs mood. According to the Hedonometer, 2020 has been by far the most horrible year since it began keeping track in 2008.</p>



<p>The <a rel="noreferrer noopener" href="http://hedonometer.org/timeseries/en_all/" target="_blank">Hedonometer</a> is a relatively recent incarnation of a task computer scientists have been working on for more than 50 years: using computers to assess words‚Äô emotional tone. To build the Hedonometer, UVM computer scientist Chris Danforth had to teach a machine to understand the emotions behind those tweets ‚Äî no human could possibly read them all. This process, called sentiment analysis, has made major advances in recent years and is finding more and more uses.</p>



<div><figure><img loading="lazy" data-attachment-id="2008" data-permalink="https://sinapticas.com/g-hedonometer/" data-orig-file="https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png" data-orig-size="1179,600" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="g-hedonometer" data-image-description="" data-medium-file="https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=300" data-large-file="https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=672" src="https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=1024" alt="" width="720" height="366" srcset="https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=1024 1024w, https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=720 720w, https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=150 150w, https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=300 300w, https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png?w=768 768w, https://sinapticas.files.wordpress.com/2020/09/g-hedonometer.png 1179w" sizes="(max-width: 720px) 100vw, 720px"><figcaption>The Hedonometer tracks the sentiments expressed in tweets, an effort underway since late 2008. This screenshot shows data from mid-August 2019 to the present and reveals a record low in early March of this year coinciding with the Covid-19 pandemic going global; that record was shattered in May after George Floyd‚Äôs killing. Portion of scale shown at right goes from 1 (extremely negative) to 9 (extremely positive). Gray at bottom shows total volume of Twitter posts.<br>CREDIT: COMPUTATIONAL STORY LAB AT THE UNIVERSITY OF VERMONT</figcaption></figure></div>



<p>In addition to taking Twitter user‚Äôs emotional temperature, researchers are employing sentiment analysis to gauge people‚Äôs perceptions of climate change and to test conventional wisdom such as, in music, whether a minor chord is sadder than a major chord (and by how much). Businesses who covet information about customers‚Äô feelings are harnessing sentiment analysis to assess reviews on platforms like Yelp. Some are using it to measure employees‚Äô moods on the internal social networks at work. The technique might also have medical applications, such as identifying depressed people in need of help.</p>



<p>Sentiment analysis is allowing researchers to examine a deluge of data that was previously time-consuming and difficult to collect, let alone study, says Danforth. ‚ÄúIn social science we tend to measure things that are easy, like gross domestic product. Happiness is an important thing that is hard to measure.‚Äù</p>



<h2>Deconstructing the ‚Äòword stew‚Äô</h2>



<p>You might think the first step in sentiment analysis would be teaching the computer to understand what humans are saying. But that‚Äôs one thing that computer scientists cannot do; understanding language is one of the most notoriously difficult problems in artificial intelligence. Yet there are abundant clues to the emotions behind a written text, which computers can recognize even without understanding the meaning of the words.</p>



<p>The earliest approach to sentiment analysis is word-counting. The idea is simple enough: Count the number of positive words and subtract the number of negative words. An even better measure can be obtained by weighting words: ‚ÄúExcellent,‚Äù for example, conveys a stronger sentiment than ‚Äúgood.‚Äù These weights are typically assigned by human experts and are part of creating the word-to-emotion dictionaries, called lexicons, that sentiment analyses often use.</p>



<p>But word-counting has inherent problems. One is that it ignores word order, treating a sentence as a sort of word stew. And word-counting can miss context-specific cues. Consider this product review: ‚ÄúI‚Äôm so happy that my iPhone is nothing like my old ugly Droid.‚Äù The sentence has three negative words (‚Äúnothing,‚Äù ‚Äúold,‚Äù ‚Äúugly‚Äù) and only one positive (‚Äúhappy‚Äù). While a human recognizes immediately that ‚Äúold‚Äù and ‚Äúugly‚Äù refer to a different phone, to the computer, it looks negative. And comparisons present additional difficulties: What does ‚Äúnothing like‚Äù mean? Does it mean the speaker is <em>not</em> comparing the iPhone with the Android? The English language can be so confusing.</p>



<p>To address such issues, computer scientists have increasingly turned to more sophisticated approaches that take humans out of the loop entirely. They are using machine learning algorithms that teach a computer program to recognize patterns, such as meaningful relationships between words. For example, the computer can learn that pairs of words such as ‚Äúbank‚Äù and ‚Äúriver‚Äù often occur together. These associations can give clues to meaning or to sentiment. If ‚Äúbank‚Äù and ‚Äúmoney‚Äù are in the same sentence, it is probably a different kind of bank.</p>



<div><figure><img data-attachment-id="2010" data-permalink="https://sinapticas.com/captura-de-pantalla-2020-09-17-a-las-15-44-31/" data-orig-file="https://sinapticas.files.wordpress.com/2020/09/captura-de-pantalla-2020-09-17-a-las-15.44.31.png" data-orig-size="577,396" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="captura-de-pantalla-2020-09-17-a-las-15.44.31" data-image-description="" data-medium-file="https://sinapticas.files.wordpress.com/2020/09/captura-de-pantalla-2020-09-17-a-las-15.44.31.png?w=300" data-large-file="https://sinapticas.files.wordpress.com/2020/09/captura-de-pantalla-2020-09-17-a-las-15.44.31.png?w=577" src="https://sinapticas.files.wordpress.com/2020/09/captura-de-pantalla-2020-09-17-a-las-15.44.31.png?w=577" alt="" srcset="https://sinapticas.files.wordpress.com/2020/09/captura-de-pantalla-2020-09-17-a-las-15.44.31.png 577w, https://sinapticas.files.wordpress.com/2020/09/captura-de-pantalla-2020-09-17-a-las-15.44.31.png?w=150 150w, https://sinapticas.files.wordpress.com/2020/09/captura-de-pantalla-2020-09-17-a-las-15.44.31.png?w=300 300w" sizes="(max-width: 577px) 100vw, 577px"><figcaption>A computer using a shallow neural network can easily be trained for the task of next-word prediction ‚Äî a familiar example is the suggested words featured while typing on a smartphone. Here, a neural network-trained language model calculates the probability that various words will follow ‚ÄúThou shalt.‚Äù Once the network is fully trained, it can be reverse-engineered to generate the mathematical constructs called ‚Äúword embeddings,‚Äù which link words that tend to go together. These, in turn, are used as an input to more difficult language-processing tasks, including sentiment analysis.</figcaption></figure></div>



<p>A major step in such methods came in 2013, when Tomas Mikolov of Google Brain applied machine learning to construct a tool called word embeddings. These convert each word into a list of 50 to 300 numbers, called a vector. The numbers are like a fingerprint that <a href="https://jalammar.github.io/illustrated-word2vec/" target="_blank" rel="noreferrer noopener">describes a word</a>, and particularly the other words it tends to hang out with.</p>



<p>To obtain these descriptors, Mikolov‚Äôs program looked at millions of words in newspaper articles and tried to predict the next word of text, given the previous words. Mikolov‚Äôs embeddings recognize synonyms: Words like ‚Äúmoney‚Äù and ‚Äúcash‚Äù have very similar vectors. More subtly, word embeddings capture elementary analogies ‚Äî that king is to queen as boy is to girl, for example ‚Äî even though it cannot define those words (a remarkable feat given that such analogies were part of how SAT exams assessed performance).</p>



<p>Mikolov‚Äôs word embeddings were generated by what‚Äôs called a neural network with one hidden layer. Neural networks, which are loosely modeled on the human brain, have <a href="https://www.knowablemagazine.org/article/technology/2020/why-some-artificial-intelligence-smart-until-its-dumb" target="_blank" rel="noreferrer noopener">enabled stunning advances in machine learning</a>, including AlphaGo (which learned to play the game of Go better than the world champion). Mikolov‚Äôs network was a deliberately shallower network, so it could be a useful for a variety of tasks, such as translation and topic analysis.</p>



<p><a href="https://www.knowablemagazine.org/article/technology/2020/synthetic-media-real-trouble-deepfakes" target="_blank" rel="noreferrer noopener">Deeper neural networks</a>, with more layers of ‚Äúcortex,‚Äù can extract even more information about a word‚Äôs sentiment in the context of a particular sentence or document. A common reference task is for the computer to read a movie review on the Internet Movie Database and predict whether the reviewer gave it a thumbs up or thumbs down. The earliest lexicon methods achieved about 74 percent accuracy. The most sophisticated ones got up to 87 percent. The very first neural nets, in 2011, scored 89 percent. Today they perform with upwards of 94 percent accuracy ‚Äî approaching that of a human. (Humor and sarcasm remain big stumbling blocks, because the written words may literally express the opposite of the intended sentiment.)</p>



<p><a href="https://www.knowablemagazine.org/collection/coronavirus-0" target="_blank" rel="noreferrer noopener">Explore&nbsp;<em>Knowable</em>‚Äôs coronavirus coverage</a></p>



<p>Despite the benefits of neural networks, lexicon-based methods are still popular; the Hedonometer, for instance, uses a lexicon, and Danforth has no intention to change it. While neural nets may be more accurate for some problems, they come at a cost. The training period alone is one of the most computationally intensive tasks you can ask a computer to do.</p>



<p>‚ÄúBasically, you‚Äôre limited by how much electricity you have,‚Äù says the Wharton School‚Äôs Robert Stine, who covers the <a href="https://www.annualreviews.org/doi/10.1146/annurev-statistics-030718-105242" target="_blank" rel="noreferrer noopener">evolution of sentiment analysis</a> in the 2019 <em>Annual Review of Statistics and Its Application</em>. ‚ÄúHow much electricity did Google use to train AlphaGo? The joke I heard was, enough to boil the ocean,‚Äù Stine says.</p>



<p>In addition to the electricity needs, neural nets require expensive hardware and technical expertise, and there‚Äôs a lack of transparency because the computer is figuring out how to tackle the task, rather than following a programmer‚Äôs explicit instructions. ‚ÄúIt‚Äôs easier to fix errors with a lexicon,‚Äù says Bing Liu of the University of Illinois at Chicago, one of the pioneers of sentiment analysis.</p>



<h2>Measuring mental health</h2>



<p>While sentiment analysis often falls under the purview of computer scientists, it has <a href="https://www.cs.cmu.edu/~ylataus/files/TausczikPennebaker2010.pdf" target="_blank" rel="noreferrer noopener">deep roots in psychology</a>. In 1962, Harvard psychologist Philip Stone developed the General Inquirer, the first computerized general purpose text analysis program for use in psychology; in the 1990s, social psychologist James Pennebaker developed an early program for sentiment analysis (the Linguistic Inquiry and Word Count) as a view into people‚Äôs psychological worlds. These earlier assessments revealed and confirmed patterns that experts had long-observed: Patients diagnosed with depression had distinct <a href="https://journals.sagepub.com/doi/abs/10.1177/0261927x09351676" target="_blank" rel="noreferrer noopener">writing styles</a>, such as using pronouns ‚ÄúI‚Äù and ‚Äúme‚Äù more often. They used more words with negative affect, and sometimes more death-related words.</p>



<p>Researchers are now probing mental health‚Äôs expression in speech and writing by <a rel="noreferrer noopener" href="https://www.annualreviews.org/doi/full/10.1146/annurev-biodatasci-030320-040844" target="_blank">analyzing social media posts</a>. Danforth and Harvard psychologist Andrew Reece, for example, analyzed the Twitter posts of people with formal diagnoses of depression or post-traumatic stress disorder that were written <em>prior</em> to the diagnosis (with consent of participants). <a rel="noreferrer noopener" href="https://www.nature.com/articles/s41598-017-12961-9" target="_blank">Signs of depression began to appear</a> as many as nine months earlier. And Facebook has an algorithm to detect users who seem to be at risk of suicide; human experts ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sinapticas.com/2020/09/17/how-algorithms-discern-our-mood-from-what-we-write-online/">https://sinapticas.com/2020/09/17/how-algorithms-discern-our-mood-from-what-we-write-online/</a></em></p>]]>
            </description>
            <link>https://sinapticas.com/2020/09/17/how-algorithms-discern-our-mood-from-what-we-write-online/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24508610</guid>
            <pubDate>Thu, 17 Sep 2020 19:03:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Marker ‚Äì open source hand-drawn illustrations]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24507433">thread link</a>) | @alokepillai
<br/>
September 17, 2020 | https://usepastel.com/marker-illustrations | <a href="https://web.archive.org/web/*/https://usepastel.com/marker-illustrations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://usepastel.com/marker-illustrations</link>
            <guid isPermaLink="false">hacker-news-small-sites-24507433</guid>
            <pubDate>Thu, 17 Sep 2020 17:29:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Introduction to Data Oriented Design with Rust]]>
            </title>
            <description>
<![CDATA[
Score 398 | Comments 134 (<a href="https://news.ycombinator.com/item?id=24506744">thread link</a>) | @headalgorithm
<br/>
September 17, 2020 | https://jamesmcm.github.io/blog/2020/07/25/intro-dod/ | <a href="https://web.archive.org/web/*/https://jamesmcm.github.io/blog/2020/07/25/intro-dod/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In the post we will investigate the main concepts of <a href="https://en.wikipedia.org/wiki/Data-oriented_design">Data-oriented
Design</a> using Rust.</p>

<p>The source code for this example is <a href="https://github.com/jamesmcm/data-oriented-example">available on Github</a>.</p>

<!--more-->

<h2 id="what-is-data-oriented-design">What is data-oriented design?</h2>

<p>Data-oriented design is an approach to optimising programs by carefully
considering the memory layout of data structures, and their implications
for auto-vectorisation and use of the CPU cache. I highly recommend
watching Mike Acton‚Äôs <a href="https://www.youtube.com/watch?v=rX0ItVEVjHc">‚ÄúData-Oriented Design and C++‚Äù</a> talk
if you haven‚Äôt seen it already.</p>

<p>In this post we will cover 4 cases, using <a href="https://docs.rs/criterion/0.3.3/criterion/">criterion</a> for
benchmarking. The cases are:</p>

<ul>
  <li>Struct of arrays vs. array of structs</li>
  <li>The cost of branching inside a hot loop</li>
  <li>Linked List vs. Vector iteration</li>
  <li>The cost of dynamic dispatch vs. monomorphisation</li>
</ul>

<h2 id="struct-of-arrays-vs-array-of-structs">Struct of Arrays vs. Array of Structs</h2>

<p>The <a href="https://en.wikipedia.org/wiki/AoS_and_SoA">Struct of Arrays vs. Array of Structs</a> 
refers to two contrasting ways of organising entity data to be operated
over.</p>

<p>For example, imagine we are writing a video game and we would like to
have a Player struct with the following fields:</p>

<div><div><pre><code><span>pub</span> <span>struct</span> <span>Player</span> <span>{</span>
    <span>name</span><span>:</span> <span>String</span><span>,</span>
    <span>health</span><span>:</span> <span>f64</span><span>,</span>
    <span>location</span><span>:</span> <span>(</span><span>f64</span><span>,</span> <span>f64</span><span>),</span>
    <span>velocity</span><span>:</span> <span>(</span><span>f64</span><span>,</span> <span>f64</span><span>),</span>
    <span>acceleration</span><span>:</span> <span>(</span><span>f64</span><span>,</span> <span>f64</span><span>),</span>
<span>}</span>
</code></pre></div></div>

<p>Then at each frame, we want to update the locations and velocities of all
Players. We could write something like:</p>

<div><div><pre><code><span>pub</span> <span>fn</span> <span>run_oop</span><span>(</span><span>players</span><span>:</span> <span>&amp;</span><span>mut</span> <span>Vec</span><span>&lt;</span><span>Player</span><span>&gt;</span><span>)</span> <span>{</span>
    <span>for</span> <span>player</span> <span>in</span> <span>players</span><span>.iter_mut</span><span>()</span> <span>{</span>
        <span>player</span><span>.location</span> <span>=</span> <span>(</span>
            <span>player</span><span>.location</span><span>.</span><span>0</span> <span>+</span> <span>player</span><span>.velocity</span><span>.</span><span>0</span><span>,</span>
            <span>player</span><span>.location</span><span>.</span><span>1</span> <span>+</span> <span>player</span><span>.velocity</span><span>.</span><span>1</span><span>,</span>
        <span>);</span>
        <span>player</span><span>.velocity</span> <span>=</span> <span>(</span>
            <span>player</span><span>.velocity</span><span>.</span><span>0</span> <span>+</span> <span>player</span><span>.acceleration</span><span>.</span><span>0</span><span>,</span>
            <span>player</span><span>.velocity</span><span>.</span><span>1</span> <span>+</span> <span>player</span><span>.acceleration</span><span>.</span><span>1</span><span>,</span>
        <span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>This would be the usual object-oriented approach to this problem. The
issue here is that in memory the structs are stored as follows (assuming
no field re-ordering i.e. <code>#[repr(C)]</code>), on a 64-bit architecture each field will be 64
bits (8 bytes, so each Player is 64 bytes):</p>

<div><div><pre><code>-- Vec&lt;Player&gt;
name  (pointer to heap)  -- Player 1
health    
location0  (tuple split for clarity) 
location1
velocity0
velocity1
acceleration0
acceleration1
name  (pointer to heap)  -- Player 2
location0    
location1
velocity0
velocity1
acceleration0
acceleration1
...
</code></pre></div></div>

<p>Note the parts we want to operate on (locations, velocities and
accelerations) are not stored contiguously across different Players.
This prevents us from using vector operations to operate on multiple
players at once (since they cannot be loaded in the same CPU cache
line, usually ~64 bytes).</p>

<p>In contrast, the data-oriented approach is to design around this
limitation and optimise for auto-vectorisation. Instead of using a
struct per Player, we now use one struct for all Players and each Player
has their values stored at their index in the separate attribute Vectors:</p>

<div><div><pre><code><span>pub</span> <span>struct</span> <span>DOPlayers</span> <span>{</span>
    <span>names</span><span>:</span> <span>Vec</span><span>&lt;</span><span>String</span><span>&gt;</span><span>,</span>
    <span>health</span><span>:</span> <span>Vec</span><span>&lt;</span><span>f64</span><span>&gt;</span><span>,</span>
    <span>locations</span><span>:</span> <span>Vec</span><span>&lt;</span><span>(</span><span>f64</span><span>,</span> <span>f64</span><span>)</span><span>&gt;</span><span>,</span>
    <span>velocities</span><span>:</span> <span>Vec</span><span>&lt;</span><span>(</span><span>f64</span><span>,</span> <span>f64</span><span>)</span><span>&gt;</span><span>,</span>
    <span>acceleration</span><span>:</span> <span>Vec</span><span>&lt;</span><span>(</span><span>f64</span><span>,</span> <span>f64</span><span>)</span><span>&gt;</span><span>,</span>
<span>}</span>
</code></pre></div></div>

<p>Now we can do the same calculation as in the OOP case as follows:</p>

<div><div><pre><code><span>pub</span> <span>fn</span> <span>run_dop</span><span>(</span><span>world</span><span>:</span> <span>&amp;</span><span>mut</span> <span>DOPlayers</span><span>)</span> <span>{</span>
    <span>for</span> <span>(</span><span>pos</span><span>,</span> <span>(</span><span>vel</span><span>,</span> <span>acc</span><span>))</span> <span>in</span> <span>world</span>
        <span>.locations</span>
        <span>.iter_mut</span><span>()</span>
        <span>.zip</span><span>(</span><span>world</span><span>.velocities</span><span>.iter_mut</span><span>()</span><span>.zip</span><span>(</span><span>world</span><span>.acceleration</span><span>.iter</span><span>()))</span>
    <span>{</span>
        <span>*</span><span>pos</span> <span>=</span> <span>(</span><span>pos</span><span>.</span><span>0</span> <span>+</span> <span>vel</span><span>.</span><span>0</span><span>,</span> <span>pos</span><span>.</span><span>1</span> <span>+</span> <span>vel</span><span>.</span><span>1</span><span>);</span>
        <span>*</span><span>vel</span> <span>=</span> <span>(</span><span>vel</span><span>.</span><span>0</span> <span>+</span> <span>acc</span><span>.</span><span>0</span><span>,</span> <span>vel</span><span>.</span><span>1</span> <span>+</span> <span>acc</span><span>.</span><span>1</span><span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>In this case the memory layout is as follows:</p>
<div><div><pre><code>-- DOPlayers
name1    -- names
name2
...
health1    -- health
health2
...
location1    -- locations
location2
...
</code></pre></div></div>

<p>The relevant fields are now stored contiguously. Given that each
location tuple will be 16 bytes, we could now feasibly load 4 location
tuples on the same cache line to operate on them simultaneously with
SIMD instructions.</p>

<h3 id="benchmark">Benchmark</h3>

<p>Here are the results of the criterion benchmark for the above code (the
full code and benchmark code is available <a href="https://github.com/jamesmcm/data-oriented-example">in the Github repo</a>):</p>

<p><img src="https://jamesmcm.github.io/images/soa.svg" alt="AoS vs. SoA benchmark" title="AoS vs. SoA benchmark"></p>

<p>Overall, we see that the data-oriented approach finishes in half the
time. This would seem to be due to the data-oriented case operating on
two Players at a time - we can confirm this by reviewing the compiled
assembly.</p>

<p>Reviewing the <a href="https://godbolt.org/z/d8bjMb">output on Godbolt</a> we see the following:</p>

<pre><code>// Relevant OOP loop
.LBB0_2:
        movupd  xmm0, xmmword ptr [rax + rdx + 32]
        movupd  xmm1, xmmword ptr [rax + rdx + 48]
        movupd  xmm2, xmmword ptr [rax + rdx + 64]
        addpd   xmm0, xmm1
        movupd  xmmword ptr [rax + rdx + 32], xmm0
        addpd   xmm2, xmm1
        movupd  xmmword ptr [rax + rdx + 48], xmm2
        add     rdx, 80
        cmp     rcx, rdx
        jne     .LBB0_2

// ...
// Relevant DOP loop
.LBB1_7:
        movupd  xmm0, xmmword ptr [rcx + rdx - 16]
        movupd  xmm1, xmmword ptr [rax + rdx - 16]
        addpd   xmm1, xmm0
        movupd  xmmword ptr [rcx + rdx - 16], xmm1
        movupd  xmm0, xmmword ptr [r9 + rdx - 16]
        movupd  xmm1, xmmword ptr [rax + rdx - 16]
        addpd   xmm1, xmm0
        movupd  xmm0, xmmword ptr [rax + rdx]
        movupd  xmmword ptr [rax + rdx - 16], xmm1
        add     rdi, 2
        movupd  xmm1, xmmword ptr [rcx + rdx]
        addpd   xmm1, xmm0
        movupd  xmmword ptr [rcx + rdx], xmm1
        movupd  xmm0, xmmword ptr [rax + rdx]
        movupd  xmm1, xmmword ptr [r9 + rdx]
        addpd   xmm1, xmm0
        movupd  xmmword ptr [rax + rdx], xmm1
        add     rdx, 32
        cmp     rsi, rdi
        jne     .LBB1_7
        test    r8, r8
        je      .LBB1_5
</code></pre>

<p>We can see in the data-oriented case, the loop is unrolled to operate on
two elements at once - resulting in the 50% speed up overall!</p>

<p><strong>Addendum</strong>: As noted by <a href="https://www.reddit.com/r/rust/comments/hxqwom/an_introduction_to_data_oriented_design_with_rust/fz8lxcq/">/u/five9a2 on Reddit</a>
the above output is specifically for the default target, which is
misleading since <code>cargo bench</code> uses the native target by default (i.e.
all possible features on your CPU), so our benchmarks are not using the
above assembly code.</p>

<p>By setting the compiler flag to <code>-C target-cpu=skylake-avx512</code> to enable 
Skylake features, we get the <a href="https://godbolt.org/z/PEPdvn">following output</a>:</p>

<pre><code>// OOP loop
.LBB0_2:
        vmovupd ymm0, ymmword ptr [rax + rdx + 32]
        vaddpd  ymm0, ymm0, ymmword ptr [rax + rdx + 48]
        vmovupd ymmword ptr [rax + rdx + 32], ymm0
        add     rdx, 80
        cmp     rcx, rdx
        jne     .LBB0_2

...
// DOP loop
.LBB1_19:
        vmovupd zmm0, zmmword ptr [rsi + 4*rax - 64]
        vaddpd  zmm0, zmm0, zmmword ptr [rcx + 4*rax - 64]
        vmovupd zmmword ptr [rsi + 4*rax - 64], zmm0
        vmovupd zmm0, zmmword ptr [rcx + 4*rax - 64]
        vaddpd  zmm0, zmm0, zmmword ptr [r10 + 4*rax - 64]
        vmovupd zmmword ptr [rcx + 4*rax - 64], zmm0
        vmovupd zmm0, zmmword ptr [rsi + 4*rax]
        vaddpd  zmm0, zmm0, zmmword ptr [rcx + 4*rax]
        vmovupd zmmword ptr [rsi + 4*rax], zmm0
        vmovupd zmm0, zmmword ptr [rcx + 4*rax]
        vaddpd  zmm0, zmm0, zmmword ptr [r10 + 4*rax]
        vmovupd zmmword ptr [rcx + 4*rax], zmm0
        add     r11, 8
        add     rax, 32
        add     rdi, 2
        jne     .LBB1_19
        test    r9, r9
        je      .LBB1_22
</code></pre>

<p>Here we see the OOP loop making use of the 256-bit ymm registers for the
position tuple and velocity tuple, and another for the velocity tuple
and acceleration tuple. This is possible because they are adjacent in
memory (due to the ordering of the fields). In the DOP loop,
the 512-bit zmm register is used.</p>

<p>It seems the performance differences comes from the bandwidth between
cache levels, since the performance is identical for the small examples.
This can be demonstrated further by removing the extra fields from the
struct - in this case we see only a 25% performance difference (<a href="https://godbolt.org/z/Th91Wa">godbolt
link</a>), and this
corresponds to Player struct now being 384 bits (and so 1/4 of the
512-bit read/write is unused).</p>

<p>This emphasises how important it is to consider your deployment target,
and if deploying performance-sensitive code, to consider setting the
target-cpu explicitly to benefit from all of its features.</p>

<p>It also demonstrates how the ordering of fields can be important to
performance. By default Rust will re-order fields automatically, but you can set
<code>#[repr(C)]</code> to disable this (necessary for C interoperability for
example).</p>

<h3 id="summary">Summary</h3>

<p>This example demonstrates the importance of considering memory layout
when aiming for performant code and auto-vectorisation.</p>

<p>Note that the same logic can also apply when working with arrays of
structs - making your struct smaller will allow you to load more
elements on the same cache line and possibly lead to autovectorisation.
<a href="https://github.com/Rene-007/flake_growth/blob/master/src/helpers.rs">Here is an example</a> of
a crate (which was shared on the <a href="https://www.reddit.com/r/rust/comments/hmqjvs/growing_gold_with_rust/">Rust subreddit</a>) that achieved a 40% performance
improvement by doing just that.</p>

<p>This particular re-organisation has a direct analogue in database design. A
major difference between databases aimed at transactional (OLTP)
workloads and analytical (OLAP) workloads is that the latter tend to use
columnar-based storage. Just like the case above, this means that
operations on one column can take advantage of the contiguous storage
and use vector operations, which tends to be the main access pattern for
analytical workloads (e.g. calculate the average purchase size across all rows,
rather than updating and retrieving entire, specific rows).</p>

<p>In the case of analytical databases this is actually a double win, since it also
applies to the serialisation of the data to disk, where compression can
now be applied along the column (where the data is guaranteed to be of the
same type) leading to much better compression ratios.</p>

<p>If you are working on a problem that might benefit from the struct of
arrays approach, and want to run a quick benchmark, you might be
interested in the <a href="https://github.com/lumol-org/soa-derive">soa-derive</a>
crate that will allow you to derive the struct of arrays from your
struct.</p>

<h2 id="branching-in-a-hot-loop">Branching in a hot loop</h2>

<p>Another optimisation tactic is to avoid branching in any ‚Äúhot‚Äù parts of
the code (i.e. any part that will be executed many, many times).</p>

<p>Branching can arise in subtle ways, often by trying to use one struct for many
different cases. For example, we might define some general Node type ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jamesmcm.github.io/blog/2020/07/25/intro-dod/">https://jamesmcm.github.io/blog/2020/07/25/intro-dod/</a></em></p>]]>
            </description>
            <link>https://jamesmcm.github.io/blog/2020/07/25/intro-dod/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24506744</guid>
            <pubDate>Thu, 17 Sep 2020 16:34:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Speeding Tesla driver caught napping behind the wheel on Alberta highway]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 5 (<a href="https://news.ycombinator.com/item?id=24506649">thread link</a>) | @mtr
<br/>
September 17, 2020 | https://www.cbc.ca/news/canada/edmonton/tesla-driver-autopilot-alberta-ponoka-speeding-dangerous-driving-1.5727828 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/canada/edmonton/tesla-driver-autopilot-alberta-ponoka-speeding-dangerous-driving-1.5727828">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A 20-year-old B.C. motorist who who found reclining behind the wheel of a Tesla while the electric vehicle was on autopilot has been charged by the RCMP in Alberta with speeding.</p><div><figure><div><p><img alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5727840.1600356254!/fileImage/httpImage/image.JPG_gen/derivatives/16x9_780/tesla-speeding-alberta.JPG"></p></div><figcaption>The 20-year-old B.C. driver of this Tesla Model S has been charged with speeding and dangerous driving, a criminal offence. The incident occurred on July 9 on Highway 2 near Ponoka, about 100 kilometres south of Edmonton.<!-- --> <!-- -->(Alberta RCMP)</figcaption></figure><p><span><p>The RCMP&nbsp;in Alberta have charged a&nbsp;20-year-old British Columbia man with&nbsp;speeding while he was asleep at the wheel of a Tesla electric car.</p>  <p>The RCMP&nbsp;received&nbsp;a call at about&nbsp;4 p.m. on July 9 concerning&nbsp;a 2019 Tesla Model S speeding south on Highway 2 near Ponoka, about 100&nbsp;kilometres south of Edmonton.</p>  <p>Both front seats were fully&nbsp;reclined, and both the driver and passenger&nbsp;appeared to be sound asleep, police say.&nbsp;</p>  <p>The car appeared to be driving on&nbsp;autopilot at more than 140 km/h, RCMP&nbsp;Sgt. Darrin Turnbull&nbsp;told CBC News on Thursday. The speed limit on that stretch of highway is 110 km/h.</p>  <p>"Nobody was looking out the windshield to see where the car was going," he&nbsp;said.&nbsp;</p>  <p>"I've been in policing for over 23 years&nbsp;and the&nbsp;majority of that in traffic&nbsp;law enforcement, and I'm speechless.</p>  <p>"I've never, ever seen anything like this before, but of course the technology wasn't there."&nbsp;</p>  <p>Tesla Model S sedans have autopilot functions, including auto-steer and "traffic-aware" cruise control, and both functions appeared to be activated.</p>  <p>"We believe the vehicle&nbsp;was operating on the autopilot system, which is really just an advanced driver safety system, a driver assist program. You still need to be driving the vehicle," Turnbull said.&nbsp;</p>  <p>"But of course, there are after-market things that can be done to a vehicle against the manufacturer's recommendations to change or circumvent the safety system."&nbsp;</p>  <p>After the responding officer activated emergency lights on their vehicle, the Tesla automatically began to accelerate, Turnbull said, even as those vehicles that were ahead of the Tesla on the highway moved out of the way.</p>  <p>"Nobody appeared to be in the car, but the vehicle sped up because the line was clear in front."</p>  <ul>  </ul>  <p>The responding officer obtained radar readings on the vehicle, confirming that it had automatically accelerated to exactly 150 km/h.</p>  <p>The RCMP charged the driver with speeding and issued a 24-hour licence suspension for fatigue.&nbsp;</p>  <p>After further investigation and consultation with the Crown, a Criminal Code charge of dangerous driving was laid against the driver, police said.</p>  <p>The driver was served with a summons for court in December.</p>  <ul>   <li><strong><a href="https://www.cbc.ca/news/business/tesla-s-self-driving-autopilot-system-under-scrutiny-1.5413931" target="_blank">Tesla's self-driving Autopilot system under scrutiny after 3 deadly crashes</a></strong></li>   <li><strong><a href="https://www.cbc.ca/news/canada/british-columbia/driverless-tesla-richmond-b-c-1.5349855" target="_blank">Driverless Tesla coasting along mall parking lot raises questions, causes confusion</a></strong></li>  </ul>  <p>Autonomous cars are in their early stages in much of Canada, with Ontario and Quebec approving pilot projects as long as a vigilant driver is present to take control of the vehicle when needed.</p>  <p>There have not been any reported self-driving car crashes in Canada, but several have been reported in the United States, putting Tesla's autopilot driving system functions&nbsp;under scrutiny.</p>  <p>On Dec. 29, 2019, a Tesla Model S sedan left a freeway in Gardena, Calif., at high speed, ran a red light and struck a Honda Civic, killing two people inside, police said. On the same day, a Tesla Model 3 hit a parked firetruck on an Indiana freeway, killing a passenger in the Tesla.</p>  <p>On Dec. 7, a Model 3 struck a police cruiser on a Connecticut highway, but&nbsp;no one was hurt.</p>  <p>Tesla's autopilot function is designed to keep a car in its lane and at a safe distance from other vehicles. Autopilot also can change lanes on its own.</p>  <ul>  </ul>  <h2>'It&nbsp;gives all of us a bad name'</h2>  <p>Angie Dean, president of the Tesla Owners Club of Alberta, said the incident is troubling for the 300 paying members of her group&nbsp;and the more than 1,000 active members of the club's online Facebook group.&nbsp;</p>  <p>Dean said the driver-assist functions in Tesla vehicles are designed to enhance safety, not detract from it.</p>  <p>"This type of story is sort of next to&nbsp;a worst-case scenario," she&nbsp;said. "The only thing that would be worse than this is if someone had got hurt.&nbsp;Everyone that I've spoken with is just so disappointed and so frustrated because it's abuse of the system.</p>  <p>"It&nbsp;gives all of us a bad name, and the vast majority of us would never do something like this. We bought these cars because we want to be safer."</p>  <p>The driver-assist program&nbsp;requires&nbsp;regular input from the driver to function,&nbsp;Dean said. If the driver's hands come off the wheel, warnings begin going off every 15 seconds, she said.</p>  <p>"It asks you to put your hands on the wheel&nbsp;and&nbsp;turn it a little bit so that it knows that your hands are on the wheel," Dean said.&nbsp;</p>  <p>"If you don't, it starts beeping at you. And if you still don't, it gets even louder. And&nbsp;if you still don't, it actually turns the hazard lights on, slows the vehicle down and it pulls it over. It turns the car off and autopilot will not engage for the rest of that drive."</p>  <p><strong><em>WATCH | Is the technology behind driverless cars ready for the road?</em></strong></p>  <p><span><span><span></span><span>The technology behind self-driving cars is available and in use, but there are examples showing it may not be fully ready for the real world.<!-- --> <!-- -->2:09</span></span></span></p>  <p>Despite the built-in safeguards, videos&nbsp;circulating online instruct drivers on ways to "hack" and override&nbsp;these systems, Dean&nbsp;said.</p>  <p>"There are a lot of systems that are in place that are really, really trying not to make this possible. But if there's a will, there's a way, I suppose. "&nbsp;</p>  <p>Just because some vehicles can drive themselves, it doesn't mean they should, the RCMP said.&nbsp;</p>  <p>&nbsp;"Although manufacturers of new vehicles have built in safeguards to prevent drivers from taking advantage of the new safety systems in vehicles, those systems are just that ‚Äî supplemental safety systems," said Supt. Gary Graham of Alberta RCMP Traffic Services.&nbsp;</p>  <p>"They are not self-driving systems, they still come with the responsibility of driving."</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/canada/edmonton/tesla-driver-autopilot-alberta-ponoka-speeding-dangerous-driving-1.5727828</link>
            <guid isPermaLink="false">hacker-news-small-sites-24506649</guid>
            <pubDate>Thu, 17 Sep 2020 16:28:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Adding Auth to a Flask App with Azure Active Directory and Oso]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24506252">thread link</a>) | @todsacerdoti
<br/>
September 17, 2020 | https://www.osohq.com/post/oso-azure | <a href="https://web.archive.org/web/*/https://www.osohq.com/post/oso-azure">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Securing application resources usually consists of two security processes: authentication and authorization. <em>Authentication</em> determines the identity of a user, and is often accomplished by some kind of sign-in process. <em>Authorization</em> determines whether or not a user is allowed to access a resource, typically based on their authenticated identity but often based on other factors as well, like having a certain role, being in a group, having specific attributes or meeting other criteria relevant to the use case.</p>
<p>A common authentication pattern involves the application exchanging information with an <em>Identity Provider,</em> or "IdP", to confirm the identity of the user. Well-known IdPs include Facebook, Google, and GitHub.</p>
<p>This post will show how to add authentication and authorization to a simple Flask app, using Azure Active Directory B2C as an IdP, and oso's <code>oso-flask</code> library to authorize requests.</p>
<h3>Summary of what we'll cover:</h3>
<ul>
<li>Sign in users with Azure AD B2C</li>
<li>Use oso to restrict access to signed-in users</li>
<li>Add custom user attributes to our user profile</li>
<li>Write a policy to control access based on user attributes, like job title or team</li>
<li>Access Microsoft user data, like groups and managers, with the Graph API</li>
<li>Write an oso policy to implement role-based access control using Microsoft groups</li>
</ul>
<h3><strong>Background</strong></h3>
<p>This post uses an example application that's written in Python with Flask. You can find the source code <a href="https://github.com/osohq/oso-azure-ad-example">here</a>.</p>
<p><strong>Azure Active Directory</strong> ("AD") is Microsoft's cloud-based identity management service. We'll use it to sign in users and store user data. This example uses a newer variant of Active Directory called "<a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/overview">B2C</a>", which is designed for business-to-consumer apps to manage customer identities.</p>
<p><strong>oso</strong> is an open-source policy engine for authorization that is embedded in your application. We'll use oso to authorize user access to our application's resources. Since our example application uses Flask, we're using the <code>oso-flask</code> <a href="https://docs.osohq.com/using/frameworks/flask.html">integration</a>, which includes middleware for authorizing Flask requests.</p>
<p>The example we'll use in this post is a very simple application that stores and displays documents. Its authorization model is as follows:</p>
<ul>
<li>Users can always view documents that they are the owner of</li>
<li>Documents can belong to user groups</li>
<li>Public documents can be viewed by anyone</li>
<li>Private documents can only be viewed by users that belong to one of the document's groups</li>
</ul>
<h2>Authentication with Azure AD B2C</h2>
<p>We used a <a href="https://github.com/Azure-Samples/ms-identity-python-webapp">sample app</a> provided by Microsoft as the starting point for our example. Following Microsoft's <a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/tutorial-web-app-python?tabs=app-reg-ga">tutorial</a> on setting up authentication in their sample application will get you to the same starting point (you may have to complete a few prerequisite steps as well).</p>
<p>By the end of the tutorial, you should have <a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/tutorial-register-applications?tabs=app-reg-ga">registered the application</a> with your Azure AD <a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/tutorial-create-tenant">B2C tenant</a>. We've registered ours as "python-webapp":</p>
<p><img alt="Adding%20auth%20to%20a%20Flask%20App%20with%20Azure%20Active%20Direc%20e4020384c5a348e499250ae95d24e0d1/Untitled.png" src="https://images.osohq.com/oso-azure/Adding%20auth%20to%20a%20Flask%20App%20with%20Azure%20Active%20Direc%20e4020384c5a348e499250ae95d24e0d1/Untitled.png"></p>
<p>You should also have set up several <a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/tutorial-create-user-flows">User Flows</a> in the Azure portal for signing in, profile editing, and logging out:</p>
<p><img alt="Adding%20auth%20to%20a%20Flask%20App%20with%20Azure%20Active%20Direc%20e4020384c5a348e499250ae95d24e0d1/Untitled%201.png" src="https://images.osohq.com/oso-azure/Adding%20auth%20to%20a%20Flask%20App%20with%20Azure%20Active%20Direc%20e4020384c5a348e499250ae95d24e0d1/Untitled%201.png"></p>
<p>When you set up the user flows, make sure that you check the following boxes in "User Attributes" and "Application Claims":</p>
<ul>
<li>Email</li>
<li>Given name</li>
<li>Surname</li>
<li>Display Name</li>
<li>Job Title</li>
<li>Object ID (Application Claims only)</li>
</ul>
<p>Once you've reached the end of the tutorial, your app should be able to sign users in with an email and password, allow them to edit their profile, and log them out. Each of these user flows should return an <code>id_token</code> JWT to your app's redirect handler that stores the above attributes as claims. If you use Microsoft's provided JWT decoder, <a href="https://jwt.ms/">https://jwt.ms</a>, to test your user flow, you should see something like this:</p>
<p><img alt="Adding%20auth%20to%20a%20Flask%20App%20with%20Azure%20Active%20Direc%20e4020384c5a348e499250ae95d24e0d1/Untitled%202.png" src="https://images.osohq.com/oso-azure/Adding%20auth%20to%20a%20Flask%20App%20with%20Azure%20Active%20Direc%20e4020384c5a348e499250ae95d24e0d1/Untitled%202.png"></p>
<p>Once you've completed the tutorial, the application can be run with the following command from the root directory:</p>
<pre><code>flask run --host localhost --port 5000
</code></pre>

<p>If you'd like to run our <a href="https://github.com/osohq/oso-azure-ad-example">sample application</a>, make sure to update the information in <a href="https://github.com/osohq/oso-azure-ad-example/blob/11aa2c113b7802b3136575e9900420511089834d/app_config.py#L3-L17">app_config.py</a>:</p>
<pre><code># app_config.py

b2c_tenant = "your-tenant-name"
signupsignin_user_flow = "B2C_1_signupsignin1"
editprofile_user_flow = "B2C_1_profileediting1"
resetpassword_user_flow = "B2C_1_passwordreset1"
authority_template = (
    "https://{tenant}.b2clogin.com/{tenant}.onmicrosoft.com/{user_flow}"
)

CLIENT_ID = (
    "Enter_the_Application_Id_here"  # Application (client) ID of app registration
)

CLIENT_SECRET = (
    "Enter_the_Client_Secret_Here"  # Placeholder - for use ONLY during testing.
)
</code></pre>

<h3>Creating the User model</h3>
<p>Microsoft's sample app stores a raw dictionary of the <code>id_token</code> claims globally in <code>session["user"]</code>. In our app, we created a User <a href="https://github.com/osohq/oso-azure-ad-example/blob/11aa2c113b7802b3136575e9900420511089834d/user.py#L13-L20">class</a> to store the user data, which we'll add to later on:</p>
<pre><code># user.py

class User:
    def __init__(self, id_token_claims):
        self.id = id_token_claims.get("oid")
        self.display_name = id_token_claims.get("name")
        self.first_name = id_token_claims.get("given_name")
        self.surname = id_token_claims.get("family_name")
        self.emails = id_token_claims.get("emails")
        self.job_title = id_token_claims.get("jobTitle")
</code></pre>

<p>In <a href="https://github.com/osohq/oso-azure-ad-example/blob/11aa2c113b7802b3136575e9900420511089834d/app.py#L60-L61">our redirect handler</a>, we construct an instance of the current <code>User</code> from the <code>id_token_claims</code> dictionary, and store it on the <code>session</code> object:</p>
<pre><code># app.py

@app.route(app_config.REDIRECT_PATH)
def authorized():
    # ...
    user = User(id_token_result.get("id_token_claims"))
    session["user"] = user
</code></pre>

<p>We've successfully added authentication to our app. Now let's use oso to authorize our authenticated users' requests.</p>
<h2>Adding oso</h2>
<p>Since we're building a Flask app, we're going to use the <code>flask-oso</code> package to add oso to our application. <code>flask-oso</code> is an even lighter weight form of the <code>oso</code> package that provides convenient middleware for authorizing Flask requests. You can find a helpful guide to using <code>flask-oso</code> in our <a href="https://docs.osohq.com/using/frameworks/flask.html">docs</a>.</p>
<p>We followed three steps to add oso to the application:</p>
<ol>
<li>Create a <code>.polar</code> policy file</li>
<li>Initialize the global oso instance by loading the policy and registering relevant application classes</li>
<li>Add calls to <code>flask_oso.FlaskOso.authorize()</code> at authorization enforcement points</li>
</ol>
<h3>Writing a policy</h3>
<p>oso policies are written in a declarative policy language called Polar, and are stored in files with the <code>.polar</code> extension. Take a look at <a href="https://docs.osohq.com/getting-started/policies/index.html">Writing Policie</a>s for an overview of how to use oso policies.</p>
<p>The policy file in this example is called <a href="https://github.com/osohq/oso-azure-ad-example/blob/11aa2c113b7802b3136575e9900420511089834d/authorization.polar#L1-L3">authorization.polar</a>. We started with a simple rule to allow any logged-in user to get a public document:</p>
<pre><code># authorization.polar

# allow anyone to get public documents
allow(_actor: User, "GET", doc: Document) if
    not doc.is_private;
</code></pre>

<p>This rule works by specializing the <code>_actor</code> on the <code>User</code> class, which means that only actors of type <code>User</code> are allowed to take any action on any resource. Since <code>get_current_user()</code>, which is used to get the default actor, returns <code>None</code> when the current user is not logged in, the rule only applies when the current user is authenticated. The <code>doc</code> argument is specialized on the <code>Document</code> class, which allows us to safely access the <code>is_private</code> field.</p>
<h3>Initializing oso</h3>
<p>We wrote a function called <code>init_oso()</code>, which we put in a file called <a href="https://github.com/osohq/oso-azure-ad-example/blob/master/oso_auth.py">oso_auth.py</a>:</p>
<pre><code># oso_auth.py

from oso import Oso
from flask_oso import FlaskOso

from document import Document
import user
from user import User

def init_oso(app):
    """ set up the `Oso` and `FlaskOso` objects, and add them to the global `app` instance."""
    oso = Oso()
    oso.register_class(Document)
    oso.register_class(User)
    oso.load_file("authorization.polar")

    flask_oso = FlaskOso(app=app, oso=oso)
    flask_oso.set_get_actor(user.get_current_user)

    app.oso = oso
    app.flask_oso = flask_oso
</code></pre>

<p>The <code>init_oso()</code> function creates an <code>Oso</code> instance, on which it registers the <code>User</code> class and the <code>Document</code> class that represents the app's document resources (registering Python classes with oso lets us reference them in our oso policies).</p>
<p>The function then uses the <code>Oso</code> instance to create the <code>FlaskOso</code> instance that we'll use to authorize requests. We call the <code>set_get_actor()</code> method to set the default actor to the current user. This default is used when we make calls to <code>flask_oso.authorize()</code> later on. The <a href="https://github.com/osohq/oso-azure-ad-example/blob/11aa2c113b7802b3136575e9900420511089834d/user.py#L56-L57">method</a> we pass in, <code>get_current_user()</code> looks up the user on the session object:</p>
<pre><code># user.py

from flask import session

def get_current_user():
    return session.get("user")
</code></pre>

<h3>Authorizing requests</h3>
<p>We're now ready to use the oso library to authorize requests. In this example application, the resources we want to secure are documents, represented by the <code>Document</code> <a href="https://github.com/osohq/oso-azure-ad-example/blob/11aa2c113b7802b3136575e9900420511089834d/document.py#L11-L46">class</a> in <code>document.py</code>:</p>
<pre><code># document.py

@dataclass
class Document:
    id: int
    owner_id: str
    groups: list
    is_private: bool
    content: str

def find_by_id(id):
    return DOCUMENTS.get(id)

DOCUMENTS = {
    1: Document(
        id=1,
        owner_id="5890e32a-c2ac-4aa0-902d-0717017d1bc3",
        groups=["engineering"],
        is_private=True,
        content="This is a private engineering doc.",
    ),
    2: Document(
        id=2,
        owner_id="273dd85f-0728-44c0-8588-c130f39c900b",
        groups=["marketing"],
        is_private=True,
        content="This is a private marketing doc.",
    ),
    3: Document(
        id=3,
        owner_id="273dd85f-0728-44c0-8588-c130f39c900b",
        groups=["admin"],
        is_private=False,
        content="This is a public admin doc.",
    ),
}
</code></pre>

<p>For this example we've simply hardcoded the document data, but this data would normally be stored in a database.</p>
<p><code>document.py</code> has a <a href="https://github.com/osohq/oso-azure-ad-example/blob/11aa2c113b7802b3136575e9900420511089834d/document.py#L55-L59">route</a> for viewing the documents, to which we've added a call to <code>flask_oso.FlaskOso.authorize()</code>:</p>
<pre><code># document.py

@bp.route("/docs/&lt;int:id&gt;", methods=["GET"])
def get_doc(id):
    doc = find_by_id(id)
    current_app.flask_oso.authorize(resource=doc)
    return str(doc)
</code></pre>

<p>The <code>authorize()</code> method accepts the same arguments as the <code>is_allowed()</code> method of the <code>oso</code> package (actor, action, and resource), but provides sensible defaults for working with Flask. With our call to <code>set_get_actor()</code>, we set the default actor to the current user. The action defaults to the method of the current request, <code>flask.request.method</code>. We have to provide the resource we want to authorize; in this case, we pass in the <code>Document</code> instance that is being ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.osohq.com/post/oso-azure">https://www.osohq.com/post/oso-azure</a></em></p>]]>
            </description>
            <link>https://www.osohq.com/post/oso-azure</link>
            <guid isPermaLink="false">hacker-news-small-sites-24506252</guid>
            <pubDate>Thu, 17 Sep 2020 15:59:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thinking Clearly About Correlations and Causation (2018) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24506243">thread link</a>) | @Anon84
<br/>
September 17, 2020 | https://dacemirror.sci-hub.tw/journal-article/7fe084d6885f9339910bf080b718c012/rohrer2018.pdf?download=true | <a href="https://web.archive.org/web/*/https://dacemirror.sci-hub.tw/journal-article/7fe084d6885f9339910bf080b718c012/rohrer2018.pdf?download=true">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://dacemirror.sci-hub.tw/journal-article/7fe084d6885f9339910bf080b718c012/rohrer2018.pdf?download=true</link>
            <guid isPermaLink="false">hacker-news-small-sites-24506243</guid>
            <pubDate>Thu, 17 Sep 2020 15:58:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Favorite Rust Function Signature]]>
            </title>
            <description>
<![CDATA[
Score 234 | Comments 111 (<a href="https://news.ycombinator.com/item?id=24505436">thread link</a>) | @brundolf
<br/>
September 17, 2020 | https://www.brandonsmith.ninja/blog/favorite-rust-function | <a href="https://web.archive.org/web/*/https://www.brandonsmith.ninja/blog/favorite-rust-function">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody">
      

      

      

      


      <p>I've gotten really into writing parsers lately, and Rust has turned out to be
        the perfect language for that. In the course of my adventures, I came up with
        the following:</p>
      <pre><code><span>fn</span> tokenize<span>&lt;</span><span>'a</span><span>&gt;</span><span>(</span>code<span>:</span> <span>&amp;</span><span>'a</span> str<span>)</span> <span>-&gt;</span> <span>impl</span> Iterator<span>&lt;</span>Item<span>=</span><span>&amp;</span><span>'a</span> str<span>&gt;</span> <span>{</span>
  <span>...</span>
<span>}</span>
</code></pre>
      <p>and it really deepened my appreciation for Rust.</p>
      <h2 id="what-does-this-function-do%3F">What does this function do? </h2>
      <p>For those not familiar with parsing, tokenization is the first step of the
        process. It takes a raw code string, like this:</p>
      <pre><code>let a = "foo";
</code></pre>
      <p>and turns it into a linear series of meaningful tokens, like so:</p>
      <pre><code>["let", "a", "=", "\"foo\"", ";"]
</code></pre>
      <p>This phase isn't terribly complicated, but it simplifies the mental model for
        the next pass: constructing an "abstract syntax tree". It removes whitespace
        from the equation, bundles up segments like strings and numbers, and just
        generally makes the code in the next pass cleaner.</p>
      <p>The downside is that, if you perform this as a separate pass, your parser now
        has to iterate over all of the source code <em>twice</em>. This may not be the end of
        the world: tokenizing isn't the most expensive operation. But it isn't ideal,
        so some parsers combine the two passes into a single one, saving cycles at the
        expense of readability.</p>
      <h2 id="what's-going-on-in-the-rust-version%3F">What's going on in the Rust version? </h2>
      <p>I'll copy the signature here again for reference:</p>
      <pre><code><span>fn</span> tokenize<span>&lt;</span><span>'a</span><span>&gt;</span><span>(</span>code<span>:</span> <span>&amp;</span><span>'a</span> str<span>)</span> <span>-&gt;</span> <span>impl</span> Iterator<span>&lt;</span>Item<span>=</span><span>&amp;</span><span>'a</span> str<span>&gt;</span> <span>{</span>
  <span>...</span>
<span>}</span>
</code></pre>
      <p>There are several things going on here.</p>
      <p><code>&amp;str</code>, in Rust, is a "string slice". It's effectively a character pointer and a
        length. The contents of the slice are guaranteed to be in valid, alive memory.
        <code>&amp;'a str</code> is a string slice <em>with a lifetime</em>. The lifetime <code>'a</code>, to be
        exact. This lifetime describes a limited span of time in which the
        reference (and the full contents of the slice) are guaranteed to be in valid,
        alive memory. More on this later.</p>
      <p><code>Iterator&lt;Item=&amp;'a str&gt;</code> is an iterator over elements of type <code>&amp;'a str</code>. This
        is a <em>trait</em>, though, not a concrete type. Rust needs a concrete type with a
        fixed size when you're defining something like a function, but luckily we can
        say <code>impl Iterator&lt;Item=&amp;'a str&gt;</code>, which tells Rust, "fill in some type that
        implements <code>Iterator&lt;Item=&amp;'a str&gt;</code>, to be inferred at compile-time". This is
        very helpful because in Rust there are lots and lots of different concrete types
        for <code>Iterator</code>; applying something like a <code>map()</code> or a <code>filter()</code> returns a whole
        new concrete type. So this way, we don't have to worry about keeping the
        function signature up to date as we work on the logic.</p>
      <h2 id="so-what's-so-great-about-all-this%3F">So what's so great about all this? </h2>
      <p>Okay, so we have a function that takes a reference to a string slice and returns
        an iterator over string slices. Why's that special? There are two reasons.</p>
      <h3 id="iterators-let-you-treat-one-pass-like-it's-two">Iterators let you treat one pass like it's two </h3>
      <p>Remember how I said you traditionally have to pick between doing a separate
        tokenization pass, and doing a single pass with all the logic interleaved? With
        an iterator, you can have the best of both worlds.</p>
      <p>When this function completes, it hasn't yet iterated over the string. It hasn't
        allocated any kind of collection in memory. It returns a structure that's
        <em>prepared</em> to iterate over the input string slice and produce a sequence of new
        slices. When this value later gets <code>map()</code>ed into something else, or
        <code>filter()</code>ed, or any other <code>Iterator</code> transformations get applied, the stages
        of the process get interleaved, and the "loops" effectively get folded into a
        single one. By doing this, we're able to get the clean abstraction of a
        tokenizing "pass" without the runtime overhead of a second loop!</p>
      <p>But other languages have iterators. Rust's may be extra powerful and ergonomic,
        but they aren't a totally unique feature. The next part is very much unique to
        Rust.</p>
      
      <p>The <code>tokenize()</code> function doesn't allocate any new memory for a collection of
        tokens. That's great. But what may be less obvious is that it <em>also</em> doesn't
        allocate any memory for the tokens themselves! Each string slice representing a
        token is a <em>direct pointer to part of the original string</em>.</p>
      <p>You can do this in C/C++, of course, but there's a danger: if those tokens are
        ever accessed after the original code string has been freed, you'll have a
        memory error.</p>
      <p>For example: let's say you open a file and load the source code from it, and
        store the result in a local variable. Then you <code>tokenize()</code> it and send the
        tokens on to somewhere else outside of the function where the original string
        lived. Voil√†, you've got a <a href="https://en.wikipedia.org/wiki/Dangling_pointer">use-after-free error</a>.</p>
      <p>One way to guard against this is by copying each string segment into a <em>new</em>
        string, allocated on the heap, which allows you to safely pass it on after the
        original string is gone. But this comes with a cost: creating, copying, and
        eventually disposing of each of those new strings takes time (and memory). Code
        down the line also has to be aware that it's responsible for de-allocating those
        strings, otherwise they'll leak.</p>
      <p>This is where the magic of lifetimes comes into play.</p>
      <p>Rust prevents the above situation entirely. Normally, though, to accomplish this
        a <code>&amp;str</code> coming into a function from elsewhere must be assumed to be <em>static</em>,
        or to be alive for the entire duration of the program's execution. This is the
        status assigned to, for example, a string literal that you've manually entered
        into your Rust code. Rust doesn't know, in the context of the function, how
        long that reference will be valid, so it must be pessimistic.</p>
      <p><strong>But.</strong> That little <code>'a</code> says: "these things all live for the same span of time". We
        can <em>assert</em> that the original source code string lives at least as long as the
        <em>tokens</em> that reference it. By doing so, Rust can reason about whether or not
        those resulting token references are valid at a given point, and therefore
        doesn't have to assume them to be static! We can do <em>whatever we want</em> with
        those tokens and the compiler will guarantee that they always point to something
        valid, even if the source code is loaded in dynamically at runtime (from a file
        or otherwise). If we find out later via a compiler error that they really do
        need to outlive the source string, then we can copy them ("take ownership") at
        that point. If the compiler doesn't force us to do so, we know we're safe,
        and we know we can continue using the most efficient possible approach,
        <em>fearlessly</em>.</p>
      <p>What we've effectively done is written the most optimistic possible function
        (in terms of memory safety), with no downsides, because the Rust compiler will
        tell us if we're misusing it and force us to then "step down" to whatever level
        of extra accommodation is needed.</p>
      <h2 id="conclusion">Conclusion </h2>
      <p>I've been using (and loving) Rust for about a year and a half now. And there are
        many things to love, but when I got this function working I immediately saw it
        as a microcosm of what really sets the language apart. This is something that
        you <strong>cannot do</strong> both a) this safely and b) this efficiently <strong>in any other
language</strong>. This is the power of Rust.</p>


    </article></div>]]>
            </description>
            <link>https://www.brandonsmith.ninja/blog/favorite-rust-function</link>
            <guid isPermaLink="false">hacker-news-small-sites-24505436</guid>
            <pubDate>Thu, 17 Sep 2020 15:00:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Shutting Down NavHere]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 31 (<a href="https://news.ycombinator.com/item?id=24505232">thread link</a>) | @jermaustin1
<br/>
September 17, 2020 | https://jeremyaboyd.com/post/shutting-down-navhere | <a href="https://web.archive.org/web/*/https://jeremyaboyd.com/post/shutting-down-navhere">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://jeremyaboyd.com/post/shutting-down-navhere</link>
            <guid isPermaLink="false">hacker-news-small-sites-24505232</guid>
            <pubDate>Thu, 17 Sep 2020 14:45:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SuperAnnotate Desktop: A better alternative to free annotation tools]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24505211">thread link</a>) | @tigranhakobian
<br/>
September 17, 2020 | https://blog.superannotate.com/superannotate-desktop-a-better-alternative-to-free-annotation-tools | <a href="https://web.archive.org/web/*/https://blog.superannotate.com/superannotate-desktop-a-better-alternative-to-free-annotation-tools">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text">
<p><img src="https://blog.superannotate.com/hs-fs/hubfs/SuperAnnotate%20OpenCV%20partnership-1.png?width=1200&amp;name=SuperAnnotate%20OpenCV%20partnership-1.png" alt="SuperAnnotate OpenCV partnership-1" width="1200" srcset="https://blog.superannotate.com/hs-fs/hubfs/SuperAnnotate%20OpenCV%20partnership-1.png?width=600&amp;name=SuperAnnotate%20OpenCV%20partnership-1.png 600w, https://blog.superannotate.com/hs-fs/hubfs/SuperAnnotate%20OpenCV%20partnership-1.png?width=1200&amp;name=SuperAnnotate%20OpenCV%20partnership-1.png 1200w, https://blog.superannotate.com/hs-fs/hubfs/SuperAnnotate%20OpenCV%20partnership-1.png?width=1800&amp;name=SuperAnnotate%20OpenCV%20partnership-1.png 1800w, https://blog.superannotate.com/hs-fs/hubfs/SuperAnnotate%20OpenCV%20partnership-1.png?width=2400&amp;name=SuperAnnotate%20OpenCV%20partnership-1.png 2400w, https://blog.superannotate.com/hs-fs/hubfs/SuperAnnotate%20OpenCV%20partnership-1.png?width=3000&amp;name=SuperAnnotate%20OpenCV%20partnership-1.png 3000w, https://blog.superannotate.com/hs-fs/hubfs/SuperAnnotate%20OpenCV%20partnership-1.png?width=3600&amp;name=SuperAnnotate%20OpenCV%20partnership-1.png 3600w" sizes="(max-width: 1200px) 100vw, 1200px"></p>

<h3><strong>As part of our partnership with OpenCV, we are launching the best free annotation tool for the computer vision community.</strong></h3>

<p><em>In this post, I will be introducing SuperAnnotate‚Äôs new free-to-use desktop app, discuss some of the reasons why we built it, and share more about many of the features which we feel will dramatically increase the speed, accuracy, and efficiency of annotation projects. There is a massive functionality gap between free and commercial image annotation tools. SuperAnnotate Desktop is closing this gap by providing the fastest all-inclusive software tool for computer vision engineers to complete their annotation tasks.&nbsp;</em></p>
<!--more-->
<h3><strong><span>Outline</span></strong></h3>
<ul>
<li>The world of free image annotation tools</li>
<li>Introducing SuperAnnotate Desktop‚Ää</li>
<li>Eight reasons why you should use SuperAnnotate Desktop‚Ää</li>
<li>Importing annotations from other platforms</li>
<li>The future of SuperAnnotate Desktop</li>
</ul>
<h2><strong>1. The World of Free Image Annotation Tools</strong></h2>
<p>Instead of writing a rather long introduction on the universe of free image annotation tools, I will quickly summarize many of the well-written articles, blogs, and websites covering the topic. Probably the most informative website discussing free tools is <a href="https://awesomeopensource.com/"><span>https://awesomeopensource.com/</span></a>, which ranks open source tools based on the number of&nbsp; GitHub stars each tool has received. The list for image annotation tools can be found<a href="https://awesomeopensource.com/projects/annotation-tool"> <span>here</span></a>. According to the list, it becomes apparent that CVAT (managed by Intel) and VOTT (managed by Microsoft) are among the most popular free tools for image annotation. There are several other interesting articles that include CVAT and VOTT among the best annotation tools available for free. Here are a few examples:<a href="https://bohemian.ai/blog/image-annotation-tools-which-one-pick-2020/"> <span>Bohemian.ai</span></a>,<a href="https://www.sicara.ai/blog/2019-09-01-top-five-open-source-annotation-tools-computer-vision"> <span>Sicara.ai</span></a>,<a href="https://en.wikipedia.org/wiki/List_of_manual_image_annotation_tools"> <span>Wikipedia</span></a>.</p>
<p>These articles are wonderful resources, and I strongly recommend reading them to learn about the different tools available and even try some of them if you have the time. However, what you soon start to realize is that free tools are lacking in many areas resulting in slow speeds, disjointed project management, and an overall non-intuitive user experience - especially when you consider what we‚Äôve come to expect from software today.&nbsp;</p>

<h2><strong>2. </strong><strong>Introducing SuperAnnotate Desktop‚Ää</strong><strong>‚Ää</strong></h2>
<p>The founding team of SuperAnnotate (my brother and I) were PhD students in biomedical imaging and computer vision, respectively. During the course of our PhDs, we spent a considerable amount of time working with images, particularly with annotations. In 2018, free annotation tools were as incredibly inconvenient as they are today, and it was quite painful using them. They were not only extremely slow and clunky, but also lacked many key annotation functionalities. These pains led us to launch SuperAnnotate.&nbsp;</p>
<p>Since founding SuperAnntotate, we have always been focused on releasing software that is lightning-fast, easy to use, and extremely functional for all types of computer vision tasks. Over the last two years, we‚Äôve worked hard to build what we think is the fastest and most efficient annotation platform for computer vision pipelines. And, as we came from academia, we also wanted to make a version of our platform easily installable and free for anyone, to help eliminate many of the pains my brother and I faced as PhD students.&nbsp;</p>
<p>Back in June we announced our partnership with OpenCV to bring a free annotation tool to the broader computer vision community that is a significant upgrade over the current free tools available.</p>
<p>A few days ago we released software for <strong>Mac</strong>, <strong>Windows</strong> and <strong>Linux</strong> users. Despite being the initial release, the software already provides multiple advanced features that will accelerate your labeling process by 3‚Äì5x.</p>
<p><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-d65647e7-d436-4d5f-831c-82dae9c73cef"><span id="hs-cta-d65647e7-d436-4d5f-831c-82dae9c73cef"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/7839526/d65647e7-d436-4d5f-831c-82dae9c73cef"><img id="hs-cta-img-d65647e7-d436-4d5f-831c-82dae9c73cef" src="https://no-cache.hubspot.com/cta/default/7839526/d65647e7-d436-4d5f-831c-82dae9c73cef.png" alt="Download SuperAnnotate Desktop"></a></span></span><!-- end HubSpot Call-to-Action Code --></p>
<p>We will keep updating our desktop app on a monthly basis and would love to get the community‚Äôs feedback on features you all like, as well as the ones that are missing. We‚Äôre excited to be a bigger part of the OpenCV community, and to help provide the best computer vision tools to its members.</p>

<p><img src="https://lh3.googleusercontent.com/yWBnNCxg3fqyUsM_kxoSPxZ2ELSDlAGx2q4y_xKmqHYZBBc2IceePuyJbsjzCXyYCDtVm8-66hTbIXoqCS01eJC8RiINmUJqolVcOyu2IBLmFCFPM6t2dG6WgtIzwt397BGsNv9i" width="624" height="391" alt="SuperAnnotate Desktop free annotation tool"></p>

<h2><strong>3. Eight reasons why you should use SuperAnnotate Desktop&nbsp;</strong></h2>
<p>In this section, I will do a deeper dive into some of the features that make our app unique compared to some of the most popular alternatives. As I mentioned above, the paid version of our platform is focused on delivering lightning-fast speed, robust workflows, and a delightful user experience. We tried to bring that focus (and a few of the features) into our desktop app. Here we go:&nbsp;</p>
<p><em>Note: I strongly recommend watching the video below which summarizes all these components.</em></p>

<div data-service="youtube" data-responsive="true"><div><p data-mce-style="position: relative; overflow: hidden; max-width: 100%; padding-bottom: 56.25%; margin: 0px;"><iframe width="480" height="270" src="https://www.youtube.com/embed/_wFYtQY3v14?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" xml="lang" data-mce-src="https://www.youtube.com/embed/_wFYtQY3v14?feature=oembed" data-mce-style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; border: none;"></iframe></p></div></div>

<p><strong>3.1 Born out of SuperAnnotate‚Äôs Core Platform</strong>&nbsp;‚Äî‚Ää We‚Äôve spent the last two years and we have invested hundreds of thousands of engineering hours and millions of dollars on the core web version of SuperAnnotate, building what we feel is the fastest and most efficient annotation platform for computer vision. It incorporates feedback from annotators working hundreds of thousands of hours in the web version of our platform as well. This has allowed us to deliver our desktop editor with some of the designs, features, and refinements from our core product offering. We hope the result is a 100% free product that is delightful, feature-rich, and professional grade.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p><strong>3.2 Advanced polygon tool‚Ää</strong>‚Äî‚ÄäPolygon annotation is often the most time-consuming annotation task. Anyone who has tried free annotation tooling knows how poor the experience can be. We made several additions to traditional polygon tools in order to make manual polygon creation and editing much faster. Some of these features include:</p>
<ul>
<li><em>Pen-polygon tool ‚Ää</em>‚Äî‚Ääuse the polygon as a pen making curved annotations much faster</li>
<li><em>Point addition/removal </em>‚Äî<em> Add</em> <em>and remove</em> polygon points with just a couple of clicks<strong>&nbsp;</strong></li>
<li><em>Edit polygon</em>‚Ää‚Äî‚Ää Substantially increase the speed of editing polygons with our pen polygon tool&nbsp;</li>
<li><em>Share polygon boundaries</em>‚Ää‚Äî‚Äädraw polygons with shared boundaries 2x faster than traditional tools</li>
<li><em>Polygon move</em><span>/group/delete ‚Äî‚Ääselect, drag, drop, or delete individual or groups of polygons wherever you want</span></li>
</ul>
These are just some of the features that allow us to reduce polygon annotation times by 20-60% while making polygon annotations significantly more accurate.&nbsp;
<p><strong>3.3 Filtering </strong>‚Ää‚Äî‚Ää Most annotation tools lack the ability to filter images. Yet we have found that class filtering has a dramatic impact on speeding up the annotation review process. Through SuperAnnotate‚Äôs filtering menu, users can display only images with certain classes they are interested in reviewing, avoiding the need to comb through all of the images and saving tremendous amounts of time.&nbsp;</p>
<p><strong>3.4 Tracking multiple objects between frames</strong>‚Ää‚Äî‚Ää Tracking multiple objects between consecutive frames can dramatically improve the annotation experience while also making annotating much faster. Our desktop app allows users to select multiple objects and perform operations such as move, delete, group, copy, paste, and duplicate. Users can copy and duplicate annotations in successive frames while keeping the same attribute ID so that a particular attribute can be tracked through multiple frames easily.&nbsp;</p>
<p><strong>3.5 Huge list of shortcuts</strong>‚Ää‚Äî Gamers and power users of tools like excel and photoshop know how a robust list of shortcuts can both improve the user experience and add considerable speed. That was why we made a huge list of shortcuts for actions like tool selection, on-screen navigation, copy/paste/group/ungroup objects, switching between frames, and others. All shortcuts take place on the left side of the keyboard (similar to gaming), so your right hand can stay focused on the mouse, and your left hand does not have to move while finding the right shortcut.&nbsp;</p>
<p><strong>3.6 Labeling Flexibility</strong> ‚Ää‚Äî‚ÄäCurrent platforms (both free and paid) limit you to one labeling workflow: you set the attributes and then draw the shapes. Oftentimes, it can be significantly more efficient to have different workflows such as drawing shapes first, or copying classes between instances. With SuperAnnotate, we allow for a wide range of labeling workflows, giving users the flexibility they need to be most efficient.</p>
<p><strong>3.7 Classes/attributes/point labels ‚Ää</strong>‚Äî‚ÄäCreating, adding, or deleting classes and attributes is made very simple in the SuperAnnotate desktop app. Users can easily import classes from previous projects saving the time needed to define projects. In addition, we allow users to annotate individual points with free text. This can have multiple uses such as, describing the object by a sentence, giving a tag to the object, or describing the specific point in the polygon (e.g. rear-right wheel).</p>
<p><strong>3.8 Leveling up your annotations</strong>‚Ää‚Äî‚ÄäAs your annotation needs increase, you will likely find yourself looking for things like increased automations, ML features, more robust project management, detailed quality assurance, team collaboration, and user roles. You might also find yourself needing outsourced annotation teams. At SuperAnnotate, we can satisfy all of these needs and much more via our core platform. <span>Our core platform leverages ML and workflow-based features to help computer vision teams increase annotation speed by up to 10x, while dramatically improving the quality of training data and increasing the efficiency of managing annotation projects. We also have integrated services on the platform, giving customers the ability to access thousands of professionally managed outsourced annotators armed with our lightning-fast tooling. If you are interested in learning more about our core platform and services, please fill out </span><a href="https://www.superannotate.com/contacts?utm_source=blog&amp;utm_medium=article&amp;utm_campaign=SuperAnnotate_Desktop_Launch" rel="noopener"><span>this form</span></a><span>.&nbsp;</span></p>

<h2><strong>4. Importing annotations from other platforms or open-source tools</strong></h2>
<p>Migrating to SuperAnnotate from other software is something important to our customers. This was a common request from our users as many of them wanted to use our platform to quality check their previous work and transition over from other tools. We‚Äôve made it super easy to import annotated data from other annotation tools using only a few lines of code, which I‚Äôve described below. Then, once in our platform, users can leverage features described above like filtering and advanced ‚Ä¶</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.superannotate.com/superannotate-desktop-a-better-alternative-to-free-annotation-tools">https://blog.superannotate.com/superannotate-desktop-a-better-alternative-to-free-annotation-tools</a></em></p>]]>
            </description>
            <link>https://blog.superannotate.com/superannotate-desktop-a-better-alternative-to-free-annotation-tools</link>
            <guid isPermaLink="false">hacker-news-small-sites-24505211</guid>
            <pubDate>Thu, 17 Sep 2020 14:43:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[UK government‚Äôs plans to regulate the internet are a threat to free speech]]>
            </title>
            <description>
<![CDATA[
Score 225 | Comments 176 (<a href="https://news.ycombinator.com/item?id=24505074">thread link</a>) | @timthorn
<br/>
September 17, 2020 | https://freespeechunion.org/why-the-governments-plans-to-regulate-the-internet-are-a-threat-to-free-speech/ | <a href="https://web.archive.org/web/*/https://freespeechunion.org/why-the-governments-plans-to-regulate-the-internet-are-a-threat-to-free-speech/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-17831" itemtype="https://schema.org/CreativeWork" itemscope="itemscope">

	
	
<div>

	
	<!-- .entry-header -->

	
	<div itemprop="text">

		
		
<p>Dr Radomir Tylecote</p>



<p>September 2020</p>



<p><a href="https://freespeechunion.org/fsu-briefing-online-harms/">Full Report</a><br><a href="https://www.gofundme.com/f/the-free-speech-union-fighting-fund">GoFundMe appeal</a></p>



<figure><div>
<p><iframe title="How the Government‚Äôs plans to regulate the internet are a threat to free speech" width="1200" height="675" src="https://www.youtube.com/embed/CQac6mzC444?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
</div></figure>







<h3>The Government‚Äôs proposed new internet regulator will infringe free speech</h3>



<p>The Government published the Online Harms White Paper in April 2019 and intends to put a Bill before Parliament next year. The proposals aim to make the UK ‚Äúthe safest place in the world to go online‚Äù, but they will seriously infringe free speech.</p>



<p>Some of the harms the White Paper identifies are real, including distributing images of child abuse and online activities by terrorists. But these would be better dealt with by simpler legislation and more resources for law enforcement.</p>



<p>However, some of the harms the White Paper describes are vague, such as ‚Äúunacceptable content‚Äù and ‚Äúdisinformation‚Äù. These are not fixed but would be determined by a future regulator. This will lead to sweeping censorship. Online Harms does not even properly define ‚Äúharm‚Äù, so the definition risks being outsourced to activists and lobby groups.</p>



<p>A proposed new regulator will even have the power to censor lawful content: the government says new regulation should prohibit material ‚Äúthat may directly or indirectly cause harm‚Äù even if ‚Äúnot necessarily illegal‚Äù. The Government also singled out ‚Äúoffensive material‚Äù, as if giving offence is a harm the public should be protected from by the state.</p>



<h3>The proposals move the UK towards the internet laws of China, Russia and Belarus</h3>



<p>The Government‚Äôs proposals are partly inspired by Germany‚Äôs 2017 ‚ÄúNetzDG‚Äù internet law, but Human Rights Watch has called for Germany to scrap the law, saying it ‚Äúturns internet companies into censors‚Äù. President Lukashenko of Belarus, Vladimir Putin‚Äôs United Russia Party and the Venezuelan government have cited NetzDG as the model for their online laws.</p>



<p>Our government‚Äôs plans also bear a worrying similarity to Beijing‚Äôs internet censorship policies. Beijing censors ‚Äúrumours‚Äù because they cause ‚Äúsocial harms‚Äù. Our government‚Äôs proposals describe ‚Äúdisinformation‚Äù as ‚Äúharmful‚Äù, and will make ‚Äúcontent which has been disputed by reputable fact-checking services less visible to users‚Äù, forcing companies to promote ‚Äúauthoritative news sources‚Äù. This contradicts our government‚Äôs claim that ‚Äúthe regulator will not be responsible for policing truth and accuracy online‚Äù.</p>



<p>While the authors of the White Paper believe their proposals will mean more ‚Äútolerance‚Äù and less ‚Äúhate‚Äù, they will likely have the opposite effect, as people respond angrily to censorship and conspiracy theorists enjoy the cachet of being banned by the state.</p>



<p>In this briefing we outline the Government‚Äôs Online Harms plans and explain why they are a danger to freedom of speech. Later this year, the Free Speech Union will propose alternative regulation to protect the vulnerable without jeopardising free speech.</p>



<p><a href="https://freespeechunion.org/fsu-briefing-online-harms/">Full Report</a><br><a href="https://www.gofundme.com/f/the-free-speech-union-fighting-fund">GoFundMe appeal</a></p>



<p><em>FSU research papers are designed to promote discussion of free speech issues. As with all FSU publications, the views expressed are those of the author(s) and not those of the FSU, its directors, Advisory Councils or other senior staff.</em></p>

		
		
			</div><!-- .entry-content .clear -->
</div>

	
</article></div>]]>
            </description>
            <link>https://freespeechunion.org/why-the-governments-plans-to-regulate-the-internet-are-a-threat-to-free-speech/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24505074</guid>
            <pubDate>Thu, 17 Sep 2020 14:31:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Data-Oriented Programming in Python]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24504947">thread link</a>) | @jbredeche
<br/>
September 17, 2020 | https://www.moderndescartes.com/essays/data_oriented_python/ | <a href="https://web.archive.org/web/*/https://www.moderndescartes.com/essays/data_oriented_python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
	

<p> Originally posted 2020-09-13</p>
<p> Tagged: <a href="https://www.moderndescartes.com/essays/tags/optimization">optimization</a>, <a href="https://www.moderndescartes.com/essays/tags/computer_science">computer_science</a>, <a href="https://www.moderndescartes.com/essays/tags/python">python</a></p>
<p> <em>Obligatory disclaimer: all opinions are mine and not of my employer </em></p>
<hr>

<p>Many users of Python deprioritize performance in favor of soft benefits like ergonomics, business value, and simplicity. Users who prioritize performance typically end up on faster compiled languages like C++ or Java.</p>
<p>One group of users is left behind, though. The scientific computing community has lots of raw data they need to process, and would very much like performance. Yet, they struggle to move away from Python, because of network effects, and because Python‚Äôs beginner-friendliness is appealing to scientists for whom programming is not a first language. So, how can Python users achieve some fraction of the performance that their C++ and Java friends enjoy?</p>
<p>In practice, scientific computing users rely on the NumPy family of libraries e.g.&nbsp;NumPy, SciPy, TensorFlow, PyTorch, CuPy, JAX, etc.. The sheer proliferation of these libraries suggests that the NumPy model is getting something right. In this essay, I‚Äôll talk about what makes NumPy so effective, and where the next generation of Python numerical computing libraries (e.g.&nbsp;TensorFlow, PyTorch, JAX) seems to be headed.</p>
<h2 id="data-good-pointers-bad">Data good, pointers bad</h2>
<p>A pesky fact of computing is that computers can compute far faster than we can deliver data to compute on. In particular, data transfer <em>latency</em> is the Achille‚Äôs heel of data devices (both RAM and storage). Manufacturers disguise this weakness by emphasizing improvements in data transfer <em>throughput</em>, but latency continues to stagnate. Ultimately, this means that any chained data access patterns, where one data retrieval must be completed before the next may proceed, are the worst case for computers.</p>
<p>These worst-case chained data access patterns are unfortunately quite common ‚Äì so common that they have a name you may be familiar with: a pointer.</p>
<p>Pointers have always been slow. In the ‚Äô80s and ‚Äô90s, our hard drives were essentially optimized record players, with a read head riding on top of a spinning platter. These hard drives had physical limitations: The disk could only spin so fast without shattering, and the read head was also mechanical, limiting its movement speed. Disk seeks were slow, and the programs that were most severely affected were databases. Some ways that databases dealt with these physical limitations are:</p>
<ul>
<li>Instead of using binary trees (requiring <span>\(\log_2 N\)</span> disk seeks), B-trees with a much higher branching factor <span>\(k\)</span> were used, only requiring <span>\(\log_k N\)</span> disk seeks.</li>
<li>Indices were used to query data without having to read the full contents of each row.</li>
<li>Vertically-oriented databases optimized for read-heavy workloads (e.g.&nbsp;summary statistics over one field, across entire datasets), by reorganizing from <a href="https://en.wikipedia.org/wiki/AoS_and_SoA">arrays of structs to structs of arrays</a>. This maximized effective disk throughput, since no extraneous data was loaded.</li>
</ul>
<p>Today, compute speed is roughly <span>\(10^5 - 10^6\)</span> times faster than in 1990. Today, RAM is roughly <span>\(10^5\)</span> times faster than HDDs from 1990. I was amused and unsurprised to find that Raymond Hettinger‚Äôs <a href="https://www.youtube.com/watch?v=npw4s1QTmPg">excellent talk on the evolution of Python‚Äôs in-memory <code>dict</code> implementation</a> plays out like a brief history of early database design. Time, rather than healing things, has only worsened the compute-memory imbalance.</p>
<h2 id="numpys-optimizations">NumPy‚Äôs optimizations</h2>
<h3 id="boxing-costs">Boxing costs</h3>
<p>In many higher-level languages, raw data comes in boxes containing metadata and a pointer to the actual data. In Python, the PyObject box holds reference counts, so that the garbage collector can operate generically on all Python entities.</p>
<p>Boxing creates two sources of inefficiency:</p>
<ul>
<li>The metadata bloats the data, reducing the data density of our expensive memory.</li>
<li>The pointer indirection creates another round trip of memory retrieval latency.</li>
</ul>
<p>A NumPy array can hold many raw data within a single PyObject box, <em>provided that all of those data are of the same type</em> (int32, float32, etc.). By doing this, NumPy amortizes the cost of boxing over multiple data.</p>
<p>In <a href="https://www.moderndescartes.com/essays/deep_dive_mcts">my previous investigations into Monte Carlo tree search</a>, a naive UCT implementation performed poorly because it instantiated millions of UCTNode objects whose sole purpose was to hold a handful of float32 values. In the optimized UCT implementation, these nodes were replaced with NumPy arrays, reducing memory usage by a factor of 30.</p>
<h3 id="attribute-lookup-function-dispatch-costs">Attribute lookup / function dispatch costs</h3>
<p>Python‚Äôs language design forces an unusually large amount of pointer chasing. I mentioned boxing as one layer of pointer indirection, but really it‚Äôs just the tip of the iceberg.</p>
<p>Python has no problem handling the following code, even though each of these multiplications invokes a completely different implementation.</p>
<pre><code>&gt;&gt;&gt; mixed_list = [1, 1.0, 'foo', ('bar',)]
&gt;&gt;&gt; for obj in mixed_list:
...     print(obj * 2)

2
2.0
'foofoo'
('bar', 'bar')</code></pre>
<p>Python accomplishes this with a minimum of two layers of pointer indirection:</p>
<ol type="1">
<li>Look up the type of the object.</li>
<li>Look up and execute the <code>__mul__</code> function from that type‚Äôs operation registry.</li>
</ol>
<p>Additional layers of pointer indirection may be required if the <code>__mul__</code> method is defined on a superclass: the chain of superclasses must be traversed, one pointer at a time, until an implementation is found.</p>
<p>Attribute lookup is similarly fraught; <code>@property</code>, <code>__getattr__</code>, and <code>__getattribute__</code> provide users with flexibility that incurs pointer chasing overhead with something as simple as executing <code>a.b</code>. Access patterns like <code>a.b.c.d</code> create exactly the chained data access patterns that are a worst-case for data retrieval latency.</p>
<p>To top it all off, merely <em>resolving</em> the object is expensive: there‚Äôs a stack of lexical scopes (local, nonlocal, then global) that are checked in order to find the variable name. Each check requires a dictionary lookup, another source of pointer indirection.</p>
<p>As the saying goes: ‚ÄúWe can solve any problem by introducing an extra level of indirection‚Ä¶ except for the problem of too many levels of indirection‚Äù. The NumPy family of libraries deals with this indirection, not by removing it, but again by sharing its cost over multiple data.</p>
<pre><code>&gt;&gt;&gt; homogenous_array = np.arange(5, dtype=np.float32)
&gt;&gt;&gt; multiply_by_two = homogenous_array * 2
&gt;&gt;&gt; print(multiply_by_two)
array([ 0.,  2.,  4.,  6.,  8.], dtype=float32)</code></pre>
<p>Sharing a single box for multiple data allows NumPy to retain the expressiveness of Python while minimizing the cost of the dynamism. As before, this works because of the additional constraint that all data in a NumPy array must have identical type.</p>
<h2 id="the-frontier-jit">The Frontier: JIT</h2>
<p>So far, we‚Äôve seen that NumPy doesn‚Äôt solve any of Python‚Äôs fundamental problems when it comes to pointer overhead. Instead, it merely puts a bandaid on the problem by sharing those costs across multiple data. It‚Äôs a pretty successful strategy ‚Äì in my hands (<a href="https://www.moderndescartes.com/essays/vectorized_pagerank">1</a>, <a href="https://www.moderndescartes.com/essays/deep_dive_mcts">2</a>), I find that NumPy can typically achieve 30-60x speedups over pure Python solutions to dense numerical code. However, given that C code typically achieves <a href="https://www.moderndescartes.com/essays/data_oriented_python/(https://benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/python3-gcc.html)">100-200x performance</a> over pure Python on dense numerical code (common in scientific computing), it would be nice if we could further reduce the Python overhead.</p>
<p>Tracing <a href="https://en.wikipedia.org/wiki/Just-in-time_compilation">JITs</a> promise to do exactly this. Roughly, the strategy is to trace the execution of the code and record the pointer chasing outcomes. Then, when you call the same code snippet, reuse the recorded outcomes! NumPy amortizes Python overhead over multiple data, and JIT amortizes Python overhead over multiple function calls.</p>
<p>(I should note that I‚Äôm most familiar with the tracing JITs used by TensorFlow and JAX. <a href="https://doc.pypy.org/en/latest/">PyPy</a> and <a href="https://numba.pydata.org/">Numba</a> are two alternate JIT implementations that have a longer history, but I don‚Äôt know enough about them to treat them fairly, so my apologies to readers.)</p>
<p>Tracing unlocks many wins typically reserved for compiled languages. For example, once you have the entire trace in one place, operations can be fused together (e.g., to make use of the <a href="https://en.wikipedia.org/wiki/FMA_instruction_set">fused multiply-add instructions</a> common to most modern computers), memory layouts can be optimized, and so on. TensorFlow‚Äôs <a href="https://www.tensorflow.org/guide/graph_optimization">Grappler</a> is one such implementation of this idea. Traces can also be <a href="https://en.wikipedia.org/wiki/Backpropagation">walked backwards</a> to automatically compute derivatives. Traces can be compiled for different hardware configurations, so that the same Python code executes on CPU, GPU, and TPU. JAX can <a href="https://jax.readthedocs.io/en/latest/notebooks/quickstart.html#Auto-vectorization-with-vmap">autovectorize traces</a>, adding a batch dimension to all operations. Finally, a trace can be exported in a language-agnostic manner, allowing a program defined in Python to be executed in <a href="https://www.tensorflow.org/js">Javascript</a>, <a href="https://www.tensorflow.org/tfx/guide/serving">C++</a>, or more.</p>
<p>Unsurprisingly, there‚Äôs a catch to all this. NumPy can amortize Python overhead over multiple data, but only if that data is the same type. JIT can amortize Python overhead over multiple function calls, but only if the function calls would have resulted in the same pointer chasing outcomes. Retracing the function to verify this would defeat the purpose of JIT, so instead, TensorFlow/JAX JIT uses array shape and dtype to guess at whether a trace is reusable. This heuristic is necessarily conservative, rules out otherwise legal programs, often requires unnecessarily specific shape information, and doesn‚Äôt make any guarantees against mischievous tinkering. Furthermore, data-dependent tracing is a known issue (<a href="https://pytorch.org/docs/stable/generated/torch.jit.trace.html">1</a>, <a href="https://jax.readthedocs.io/en/latest/notebooks/Common_Gotchas_in_JAX.html#python-control-flow-+-JIT">2</a>). I worked on <a href="https://blog.tensorflow.org/2018/07/autograph-converts-python-into-tensorflow-graphs.html">AutoGraph</a>, a tool to address data-dependent tracing. Still, the engineering benefits of a shared tracing infrastructure are too good to pass up. I expect to see JIT-based systems flourish in the future and iron out their user experience.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The NumPy API‚Äôs specifically addresses Python‚Äôs performance problems for the kinds of programs that scientific computing users want to write. It encourages users to write code in ways that minimize pointer overhead. Coincidentally, this way of writing code is a fruitful abstraction for tracing JITs targeting vastly parallel computing architectures like GPU and TPU. (Some people argue that <a href="https://dl.acm.org/citation.cfm?id=3321441">machine learning is stuck in a rut</a> due to this NumPy monoculture.) In any case, tracing JITs built on top of ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.moderndescartes.com/essays/data_oriented_python/">https://www.moderndescartes.com/essays/data_oriented_python/</a></em></p>]]>
            </description>
            <link>https://www.moderndescartes.com/essays/data_oriented_python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24504947</guid>
            <pubDate>Thu, 17 Sep 2020 14:21:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deduplicating Decklists]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24504939">thread link</a>) | @umanwizard
<br/>
September 17, 2020 | http://justinjaffray.com/deduplicating-decklists/ | <a href="https://web.archive.org/web/*/http://justinjaffray.com/deduplicating-decklists/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    

<p><small>17 Sep 2020</small></p><p>This is not going to be my normal kind of post, it‚Äôs not very focused, and
going to be a bit rambley, as I talk about a problem I thought about one day.</p>
<p>Magic: The Gathering is a card game where players construct decks, typically of
60 cards plus a 15 card sideboard, for 75 cards total.</p>
<p>Periodically, the company that makes the game,
Wizards of the Coast (WotC) publishes a
list of decks that did well recently.
Just recently they
<a href="https://magic.gg/news/esports-update-grand-finals-formats-decklist-hub-and-more">announced</a> that they were going to start doing this for their most recent digital offering of the game.
Stay with me! This isn‚Äôt a post about card games.
This list, however, is doctored: they want the data shown to be broad and not repetitive, so they perform some amount of deduplication on the data.
This means that if two ‚Äúsimilar‚Äù decks do well, only one will be shown in the dump.
The linked article outlines what is meant by ‚Äúsimilar:‚Äù</p>
<blockquote>
<p>We will be publishing lists from Standard Ranked, Traditional Standard Ranked, Historic Ranked, and Traditional Historic Ranked play queues. Like we do for Magic Online Leagues, we will be posting an example list for each category of deck that share a minimum number of cards: at least 55 of 75 cards (across main deck and sideboard) shared in Traditional (best of three games, or Bo3) or at least 45 of 60 main deck cards shared in best of one (Bo1). All lists published will have won at least six consecutive matches.</p>
</blockquote>
<p>This seemed to me like an interesting problem!
Given a raw set of decks that did well, how could we produce such a
deduplicated set of decks?</p>
<p>At a high level, we might envision the set of decks as a bunch of points in some
space, where points are closer together if the decks are more ‚Äúsimilar‚Äù (for some
meaning of ‚Äúsimilar‚Äù we haven‚Äôt made precise yet).</p>
<p><img src="http://justinjaffray.com/images/decks1.png">
</p>
<p>With a solution being a set of decks which ‚Äúcover‚Äù the set of all other decks
(for some meaning of ‚Äúcover‚Äù we haven‚Äôt made precise yet).</p>
<p><img src="http://justinjaffray.com/images/decks2.png">
</p>
<p>To be slightly more precise, given a set \(D\) of ‚Äúdecks,‚Äù we want to find a
minimal set \(D^\prime \subseteq D\) such that every \(d \in D\) is
‚Äúsufficiently close‚Äù to some \(d^\prime \in D^\prime\).</p>
<p>Let‚Äôs define what we mean by ‚Äúdeck‚Äù and ‚Äúsufficiently close.‚Äù We can represent
decks as maps from the set of cards \(C\) to some integer \(n \in \mathbb N\)
denoting how many copies of a given card are in the deck.
We might also think of this as an \(\mathbb N\) vector indexed by \(C\), which can be denoted \(\mathbb N ^ C\).
That‚Äôs all to say, you should think of one of these decks as just a sequence of numbers denoting how many of a given card were included,
where each index corresponds to a particular card:
\[
\langle
\ldots, 4 \ldots, 2, \ldots, 1, \ldots, 4, \ldots
\rangle
\]
The sequence is finite, since there‚Äôs a finite number of Magic cards (about twenty thousand).</p>
<p>For ‚Äúcloseness‚Äù of two decks, per the statement above from WotC we are interested in the <em>total number of different cards between them</em>.
That is, the distance between two decks \(a\) and \(b\) is the sum
of the absolute difference of the quantity of each card:
\[
|a - b| = \sum_{c \in C} \left| a_c - b_c \right|.
\]
This way of measuring distance is pretty natural, and satisfies some
nice properties:</p>
<ol>
<li>\(|a - b| = 0\) if and only if \(a = b\),</li>
<li>\(|a - b| = |b - a|\) (symmetry), and</li>
<li>\(|a - c| \le |a - b| + |b - c|\) (triangle inequality).</li>
</ol>
<p>A notion of distance that satisfies properties 1, 2, and 3 happens to be called a <em>metric</em>,
and a set combined with a metric on that set is called a <em>metric space</em>.
This particular metric we‚Äôve stumbled on is actually well known, and is called
the \(\ell_1\)-norm.</p>
<p>We‚Äôll be a little abstract here, but when you hear ‚Äúmetric‚Äù you should just
think ‚Äúway of thinking about distance.‚Äù
If you look at the three properties, they‚Äôre all pretty natural things you‚Äôd want from a measure of ‚Äúdistance:‚Äù</p>
<ol>
<li>says the only thing ‚Äúzero distant‚Äù from a thing is the thing itself,</li>
<li>says that \(a\) is exactly as far from \(b\) as \(b\) is from \(a\), and</li>
<li>says two things can‚Äôt be further away than the sum of their distances to a third thing.</li>
</ol>
<p>There are lots of metrics people use for various things.
Another one is the \(\ell_2\)-norm, which you might also know as Euclidean distance:
if you have two points in Euclidean space and draw a straight line between
them, their \(\ell_2\)-distance is the length of that line.
In two-dimensional space,
\[
|a - b| = \sqrt{(a_x - b_x)^2 + (a_y - b_y)^2}
\]
Which is just the Pythagorean theorem.
For our problem we‚Äôre concerned with the \(\ell_1\)-distance, as described above.</p>
<p>Why bother introducting this abstraction?
Well, mostly I just thought it was kind of neat, but
I think making this kind of hop upwards the abstraction hierarchy can be useful to understand problems sometimes,
because it lets us make concrete the link between our actual problem, \(\ell_1\)-distance of 20,000-dimensional \(\mathbb N\)-points, weird, scary, hard to visualize, to
a problem which is easier to conceptualize: \(\ell_2\)-distance of two-dimensional points.</p>
<p><img src="http://justinjaffray.com/images/decks2.png">
</p>
<p>Seen this way, this kind of picture isn‚Äôt just a helpful mental model,
but it actually has a real, quantifiable link to the original problem we were trying to solve.</p>
<p>When thinking about this problem, it‚Äôs not completely accurate, but it‚Äôs not
too bad to just imagine the \(\ell_2\) picture above.</p>
<p>Remember that the thing we‚Äôre primarily interested in is going to be
all the points ‚Äúsufficiently close‚Äù to a given point,
where ‚Äúsufficiently close‚Äù means ‚Äúhas distance less than some \(r\).‚Äù
It turns out this thing has a name, the <em>(closed) ball of radius \(r\) centered at \(p\)</em> is
the set of points \(x\) satisfying \(|x - p| \le r\).
A ‚Äúball‚Äù is basically what you expect in most contexts, in 2D space, under the \(\ell_2\)-norm (our diagram above)
a ball is a (filled in) circle.
In 3D it‚Äôs a sphere.
In ‚Äúdeck-space,‚Äù it‚Äôs the set of decks you can make from \(p\) by adding and removing at most \(r\) cards.</p>
<p>This lets us rephrase our problem a bit more generally.
Given a metric space \(M\), a finite set of points \(P \subseteq M\), and a radius \(r\),
we want to find a set \(P^\prime \subseteq P\) such that every \(p \in P\)
is within some ball of radius \(r\) centered at some \(p^\prime \in P^\prime\).</p>
<p>So, can we solve <em>this</em> problem, in a <em>general</em> metric space, efficiently?
It turns out we actually can‚Äôt!
Why did I bother going down this road of generalization if it was going to lead to a dead-end?
Well, it‚Äôs the road I took when thinking about this problem and it‚Äôs my blog,
and also it‚Äôs actually easy to show that the problem at this level of generality is NP-hard.
As a reminder, to show this is NP-hard for metric spaces in general, we must:</p>
<ol>
<li>Fix some metric space, and</li>
<li>show that computing the size of the cover is NP-hard by showing that an
efficient solution to <em>that</em> would allow us to solve some other NP-hard
problem.</li>
</ol>
<p>Consider a graph \(G\):</p>
<p><img src="http://justinjaffray.com/images/petersen.png">
</p>
<p>The <em>dominating set problem</em> is this:
given a graph \(G = (V, E)\), find a set \(V^\prime\) of vertices such that every \(v \in V\) is adjacent to some
\(v^\prime \in V^\prime\).
That is, we want to choose some set of vertices that ‚Äúcover‚Äù all other vertices: every other vertex is adjacent to one we chose.
Finding a minimum dominating set is a well known NP-complete problem,
and already smells similar to our problem!</p>
<p>If we define a binary function on the vertices of \(G\):
\[
d(a, b) = \text{the length of the shortest path between $a$ and $b$},
\]
it turns out \(d\) is a metric (check this yourself, it‚Äôs easy)!</p>
<p>If we take this metric and set \(r\) to 1, we‚Äôve exactly recreated the
dominating set problem, which, being NP-complete, means our problem
in a general metric space is also NP-complete.
While this doesn‚Äôt mean that our original problem about Magic decks is
NP-complete (though it‚Äôs evidence that suggests this might be the case),
it does mean that any algorithm that <em>only</em> uses the properties of a metric space
probably doesn‚Äôt have an efficient solution.</p>
<p>When asked about this, my friend <a href="https://www.its.caltech.edu/~fshinko/">Forte</a>
found a nice reduction from 3SAT to the deck problem if \(r\) is at least four.
The gist of it is this:</p>
<ul>
<li>Given an instance of 3SAT with \(n\) variables \(\{v_1, \ldots, v_n\}\), let your set of ‚Äúcards‚Äù be
\(\{x_1, \ldots, x_n\} \cup \{y_1, \ldots, y_n\}\).</li>
<li>For each clause \(a \vee b \vee c\), take the vector that is 1 at \(x_i\) for the variable for \(a\) if \(a\) is not negated, and -1 if it is, and the same for \(b\) and \(c\).</li>
<li>For each variable \(v_i\), add three vectors that are all 2 at \(y_i\), and -1, 0, and 1 at \(x_i\), respectively (the choice of the one at 1 or -1 will correspond to whether we take that variable to be true or not, and the 0 one is there to ensure you need to take at least one of them).</li>
<li>This set of decks has a cover of size \(n\) (for radius 4) if and only if the 3SAT instance was satisfiable (the numbers can be tweaked to support radii larger than 4).</li>
</ul>
<p>If \(r\) is one then there actually <em>is</em> an efficient solution,
because in this case the adjacency graph is bipartite, and a dominating set of a
bipartite graph can be found in polynomial time.
I don‚Äôt know if there‚Äôs an efficient solution when \(r\) is two or three.</p>
<p>Ok, well, we are probably not going to find an efficient solution then, how about an
inefficient solution?
Wizard of the Coast must have <em>some</em> way of doing that, since they regularly
publish such deduplicated decklists.
The likely answer, I‚Äôd guess, is that they don‚Äôt fret about finding the minimum cover,
and just do something like ‚Äúoutput uncovered decks until none remain.‚Äù
Or possibly there are just few enough decklists that they have an excel spreadsheet
or something that makes sure their stated invariants are upheld. Unsure!
If you work at WotC and somehow came across this post I‚Äôd be curious to learn the real answer.</p>
<p>I can‚Äôt say how they actually do it, but there are plenty of heuristic methods
for solving this kind of thing that they might employ if you‚Äôre actually
interested in finding a good solution.</p>
<p>Techniques like
<a href="http://justinjaffray.com/branch-and-bound/">Branch and Bound</a> or simulated</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://justinjaffray.com/deduplicating-decklists/">http://justinjaffray.com/deduplicating-decklists/</a></em></p>]]>
            </description>
            <link>http://justinjaffray.com/deduplicating-decklists/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24504939</guid>
            <pubDate>Thu, 17 Sep 2020 14:20:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Retro Unix Operating System]]>
            </title>
            <description>
<![CDATA[
Score 79 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24504891">thread link</a>) | @elvis70
<br/>
September 17, 2020 | https://www.singlix.com/runix | <a href="https://web.archive.org/web/*/https://www.singlix.com/runix">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="390">

            
<p>
<span lang="en-us"><span face="Arial" color="#003366" size="2">
Retro UNIX 8086 v1 operating system has been developed by Erdogan Tan as a 
special purposed derivation of original UNIX v1 (by Ken Thompson, 1970-1972).</span></span></p>

<p>
<span face="Arial" color="#003366" size="2"><span lang="en-us">Source code has 
been ported from PDP-11 Unix assembler syntax to Microsoft Macro Assembler 
(INTEL x86 real mode) syntax and original unix source code has been modified for 
IBM PC/AT compatibility with standard ROM BIOS functions, without 
dropping/removing original UNIX v1 multitasking (time-sharing) features.</span></span></p>

<p><span lang="en-us">
<span face="Arial" size="2" color="#003366">Retro UNIX 386 v1 is 32 bit (80386 
protected mode) version of Retro UNIX 8086 v1. Retro UNIX 386 v1 operating 
system kernel and binaries have been written in assembly language syntax of 
Netwide Assembler (NASM). </span>
</span></p>

<p>
<span face="Arial" color="#003366" size="2"><span lang="en-us">Retro UNIX is a 
predecessor to SINGLIX operating system project.<br>
&nbsp;</span></span></p>
            </div></div>]]>
            </description>
            <link>https://www.singlix.com/runix</link>
            <guid isPermaLink="false">hacker-news-small-sites-24504891</guid>
            <pubDate>Thu, 17 Sep 2020 14:16:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Introduction to LLVM LibFuzzer]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24503889">thread link</a>) | @fcambus
<br/>
September 17, 2020 | https://www.moritz.systems/blog/an-introduction-to-llvm-libfuzzer/ | <a href="https://web.archive.org/web/*/https://www.moritz.systems/blog/an-introduction-to-llvm-libfuzzer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Fuzzing is a software testing method that involves passing malformed
data as input to the program and monitoring it for misbehavior.
Today, fuzzing is one of the most effective ways to find software security problems.
In 2014, Micha≈Ç Zalewski presented American Fuzzy Lop, the first coverage
guided fuzzer. This started the modern world of fuzzing solutions and
techniques on the market.</p>

<p>In this article, we will discuss libFuzzer, a LLVM utility that allows you to integrate fuzzing
methodology into your libraries, and briefly introduce techniques to maximize the effectiveness
of catching problems.</p>



<p><a href="https://llvm.org/docs/LibFuzzer.html">libFuzzer</a>
is part of the <a href="https://llvm.org/">LLVM</a>
package. It allows you to integrate the
coverage-guided fuzzer logic into your C / C++ application. A crucial feature
of libFuzzer is its close integration with
<a href="https://clang.llvm.org/docs/SanitizerCoverage.html">Sanitizer Coverage</a>
and bug detecting sanitizers, namely:
<a href="https://clang.llvm.org/docs/AddressSanitizer.html">Address Sanitizer</a>,
<a href="https://clang.llvm.org/docs/LeakSanitizer.html">Leak Sanitizer</a>,
<a href="https://clang.llvm.org/docs/MemorySanitizer.html">Memory Sanitizer</a>,
<a href="https://clang.llvm.org/docs/ThreadSanitizer.html">Thread Sanitizer</a>
and <a href="https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html">Undefined Behavior Sanitizer</a>.
The use of these projects
ensures that a wide range of memory corruption bugs and undesired
application behavior are detected. A few examples of these are: Heap/Stack/Global Out Of Bounds,
Use After Free, Use After Return, Uninitialized Memory Reads, Memory Leaks
or Uninitialized Mutex Use.</p>

<p>Everything is provided with a relatively low performance and memory overhead.
The project requires merely a functional LLVM 5.0 toolchain or newer (release date: 07 Sep 2017).</p>



<p>AFL has been on the market since 2014 and has been able to detect
over 1000 different types of software errors.  When the development of
the <a href="https://github.com/google/AFL">original AFL repository</a> stalled for
a long time, the community created a fork called
<a href="https://github.com/AFLplusplus/AFLplusplus">AFL++</a> in 2018.
The development of Google hosted project was eventually resumed
by a different team of Google employees (as Micha≈Ç Zalewski changed
his workplace). Therefore, there are two independent versions of AFL
in active development today.</p>

<p>The design of AFL is primarily based on code coverage through tracing code path execution
(with SanitizerCoverage), then providing feedback to the fuzzer (again with SanitizerCoverage callbacks),
and then using genetic algorithms to craft new inputs
(using <a href="https://en.wikipedia.org/wiki/Standard_streams">standard input</a>) to widen the code coverage.
The <a href="https://github.com/google/AFL#2-the-afl-fuzz-approach">simplified algorithm of AFL</a> is as follows:</p>

<ol>
<li>Load user-supplied initial test cases into the queue,</li>
<li>Take the next input file from the queue,</li>
<li>Attempt to trim the test case to the smallest size that doesn‚Äôt alter the measured behavior of the program,</li>
<li>Repeatedly mutate the file using a balanced and well-researched variety of traditional fuzzing strategies,</li>
<li>If any of the generated mutations results in a transition to a new state recorded by the instrumentation, add mutated output as a new entry in the queue.</li>
<li>Go to point 2.</li>
</ol>

<p>The readers might ask, why create a new fuzzer?</p>

<p>First of all, AFL was incapable of handling different types of coverage, such as
tracking the evaluation of comparison instructions (in C <code>==</code>, <code>&gt;</code>, <code>&lt;</code>, <code>!=</code>, etc.).
Next, AFL was unaware of tracking the evaluation of standard (and non-standard)
functions that return certain values depending on the input, such as
the functions for comparing strings (in C <code>strcmp()</code>, <code>strncmp()</code>, etc.).
Finally, AFL was not sufficiently flexible to integrate in environments that
accept input from a different source than the <code>standard input</code>.</p>

<p>The Google employees created a new fuzzer to overcome all the mentioned limitations
and take advantage of the bug detecting features that were already present in LLVM.
The libFuzzer philosophy was to create a tool that operates
similarly to unit testing. We write a small fuzzing program (called the ‚Äúharness‚Äù)
and create programming environment to quickly integrate it into projects
that consists of callable set of functions, typically API of a library.
The fuzzer input is provided as parameters to a regular C function (instead of stdin),
and if possible the fuzzing process is run in persistent mode that
avoids respawning it for every input.</p>

<p>The simplest integration of libFuzzer is as follows:</p>

<pre><code>// fuzz_API.cpp
extern "C" int LLVMFuzzerTestOneInput(const uint8_t *Data, size_t Size) {
  DoSomethingWithMyAPI(Data, Size);
  return 0;
}
</code></pre>

<p>There are two arguments to the <code>LLVMFuzzerTestOneInput()</code> function, Data and Size.
This is the buffer of a fixed length that then has to be processed by our
unit testing-like program and passed on to our API.</p>

<p>That said, libFuzzer is tailored towards:</p>

<ul>
<li>Fuzzing libraries and their APIs, rather than standalone programs.</li>
<li>The behavior should be as deterministic as possible. The same input must result in the same output.</li>
<li>The called library should avoid exiting (by <code>exit()</code> or raising signals) for valid code paths.</li>
<li>It should avoid mutating the global state as otherwise it will confuse the fuzzer.</li>
<li>It should evaluate as quickly as possibly, returning to the fuzzer.</li>
<li>It may use threads, but all newly spawned threads should be joined before returning to libFuzzer.</li>
<li>Collecting diverse sources of coverage as productive as possible.</li>
</ul>

<p>AFL is better for one type of projects and libFuzzer for another one.
For example, projects that are not designed as libraries
are hard to integrate with libFuzzer, while entry barrier to AFL testing
can be lower. It is a matter of rebuilding the software and running the fuzzer as-is.</p>

<p>As we presented above libFuzzer operates entirely inside the memory while AFL
feeds the fuzzed program with specially crafted files and passed them to its input.</p>



<p>The fuzzing process begins with the construction of test corpora.
In the case of libFuzzer, this is not necessarily true - it
can generate entirely random input. Of course, this implies practically
no code coverage at the start, and many hours of work before the first
input passing initial integrity checks is produced. Therefore, it is
worth having even a few/odd test cases to start with.</p>

<p><img src="https://raw.githubusercontent.com/Moritz-Systems/moritz_staticDir/master/fuzzing_corpora.svg" alt="Fuzzing corpora"></p>

<p>The goal of minimizing the test files is to get as much code coverage as possible
with as small input file size as possible. The relation is simple:
the smaller the file, the more executions per second can be achieved. It is worth adding that
there is also a process of minimizing a single input file. This operation aims
to remove any redundant data from the test case causing the crash to capture
what exactly happened. According to the libFuzzer documentation, the minimum speed
at which it is worthwhile to start meaningful fuzzing with a prepared body is
1000 iterations per second.</p>

<p>Crash management usually boils down to deduplicating a set of test cases by
comparing the function call stack or a stack trace. Due to limited fuzzer
information during a crash, there are different approaches to solve the
problem here. libFuzzer does not have a module for managing test cases,
and every new fuzzing job is a ‚Äúclean card‚Äù for it. The user must automate
this process by writing the report parser himself/herself.</p>

<p>Readers are encouraged to create and maintain their test corpora - in
the long run, and this is much better than using the ‚Äúready-made‚Äù
ones found on the Internet or, as mentioned earlier, generating one from scratch.
It is worth categorizing the corpus per application (in case of a single
application) or per file type - if we test many different programs, using
the same file formats.</p>

<p>The more diverse the initial test data, the better. The corpus continuously
evolves during fuzzing: you find inputs that pass through previously unknown
paths in the code. During the operation, smaller files push large files
out of the corpus (if they provide equivalent code coverage). Of course,
you find test cases that cause the program to terminate. The process of
merging the corpus is nothing more than minimizing the sum of the sets:
the corpora that started fuzzing and the newly created test cases.</p>



<p>As mentioned earlier, to use libFuzzer in your projects, you need to prepare
a lightweight library entry code.</p>

<p>Let‚Äôs see at a real world example from the LLVM libFuzzer test-suite, an
example called
<a href="https://github.com/llvm/llvm-project/blob/master/compiler-rt/test/fuzzer/SingleStrcmpTest.cpp">SingleStrcmpTest.cpp</a></p>

<pre><code>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception

// Simple test for a fuzzer. The fuzzer must find a particular string.
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;cstring&gt;

extern "C" int LLVMFuzzerTestOneInput(const uint8_t *Data, size_t Size) {
  if (Size &gt;= 7) {
    char Copy[7];
    memcpy(Copy, Data, 6);
    Copy[6] = 0;
    if (!strcmp(Copy, "qwerty")) {
      fprintf(stderr, "BINGO\n");
      exit(1);
    }
  }
  return 0;
}
</code></pre>

<p>In this example, we have two conditions for triggering the bug (in our case, calling <code>exit(2)</code> and exiting):</p>

<ul>
<li>Size of the input buffer is larger or equal to 7 bytes.</li>
<li>The first 6 bytes store the sequence <code>"qwerty"</code>, followed by <code>\0</code>.</li>
<li>The rest of the input buffer is ignored.</li>
</ul>

<p>We note that there is no <code>main()</code> function in the program, as it is provided directly by the
libFuzzer library. Besides that, the code contains SanCov instrumentation that feedbacks the fuzzer.</p>

<p>This fuzzer uses the <code>strcmp(3)</code> function interceptors that are integrated through Address Sanitizer
into the coverage reporting mechanism in libFuzzer. Thus, there are two ways of executing the program,
with Address Sanitizer enabled and without, and we can see the difference. This also illustrates that
even if the code path is relatively simple, AFL would be totally incapable of guessing code
to break <code>strcmp(3)</code> conditionals in the code and passing random inputs, possibly even never breaking
the program in a finite time.</p>

<p>This happens inside
<a href="https://github.com/llvm/llvm-project/blob/master/compiler-rt/lib/sanitizer_common/sanitizer_common_interceptors.inc">sanitizer_common_interceptors.inc</a>:</p>

<pre><code>DECLARE_WEAK_INTERCEPTOR_HOOK(__sanitizer_weak_hook_strcmp, uptr called_pc,
                              const char *s1, const char *s2, int result)

INTERCEPTOR(int, strcmp, const char *s1, const char *s2) {
  void *ctx;
  COMMON_INTERCEPTOR_ENTER(ctx, strcmp, s1, s2);
  unsigned char c1, c2;
  uptr i;
  for (i = 0;; i++) {
    c1 = (unsigned char)s1[i];
    c2 = (unsigned char)s2[i];</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.moritz.systems/blog/an-introduction-to-llvm-libfuzzer/">https://www.moritz.systems/blog/an-introduction-to-llvm-libfuzzer/</a></em></p>]]>
            </description>
            <link>https://www.moritz.systems/blog/an-introduction-to-llvm-libfuzzer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24503889</guid>
            <pubDate>Thu, 17 Sep 2020 12:42:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I think I want to drop modern Python packages into a single program]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 55 (<a href="https://news.ycombinator.com/item?id=24503292">thread link</a>) | @pcr910303
<br/>
September 17, 2020 | https://utcc.utoronto.ca/~cks/space/blog/python/PipDropInInstall | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/python/PipDropInInstall">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>How I think I want to drop modern Python packages into a single program</h2>

	<p><small>September 16, 2020</small></p>
</div><div><p>For reasons beyond the scope of this blog entry, I'm considering
augmenting <a href="https://github.com/siebenmann/exim-attachment-logger">our Python program to log email attachment information
for Exim</a> to
use <a href="https://github.com/decalage2/oletools">oletools</a> to peer
inside MS Office files for indications of bad things. Oletools is
not packaged by Ubuntu as far as I can see, and in any case it would
be an older version, so we would need to add the oletools Python
packages ourselves.</p>

<p>The official oletools install instructions talk about using either
pip or setup.py. As a general rule, we're very strongly against
installing anything system-wide except through Ubuntu's own package
management system, and the environment our Python program runs in
doesn't really have a home directory to use pip's --user option, so
the obvious and simple pip invocations are out. I've used a setup.py
approach to install a large Python package into a specific directory
hierarchy in the past (Django), and it was a big pain, so I'd like
not to do it again.</p>

<p>(Nor do we want to learn about how to build and maintain Python
virtual environments, and then convert how we run this Python program
to use one.)</p>

<p>After some looking at pip's help output I found the '<code>pip install
--target &lt;directory&gt;</code>' option and tested it a bit. This appears to
do more or less what I want, in that it installs oletools and all
of its dependencies into the target directory. The target directory
is also littered with various metadata, so we probably don't want
to make it where the program's normal source code lives. This means
we'll need to arrange to run the program so that <code>$PYTHONPATH</code> is
set to the target directory, but that's a solvable problem.</p>

<p>(This '<code>pip install</code>' invocation does write some additional pip
metadata to your <code>$HOME</code>. Fortunately it actually does respect the
value of the <code>$HOME</code> environment variable, so I can point that at
a junk directory and then delete it afterward. Or I can make <code>$HOME</code>
point to my target directory so everything is in one place.)</p>

<p>All of this is not quite as neat and simple as dropping an <code>oletools</code>
directory tree in the program's directory, <a href="https://utcc.utoronto.ca/~cks/space/blog/python/UpdatingToRarfile30">in the way that I could
deal with needing the rarfile module</a>, but then
again oletools has a bunch of dependencies and pip handles them all
for me. I could manually copy them all into place, but that would
actually create a sufficiently cluttered program directory that I
prefer a separate directory even if it needs a <code>$PYTHONPATH</code> step.</p>

<p>(Some people will say that setting <code>$PYTHONPATH</code> means that I should
go all the way to a virtual environment, but that would be a lot
more to learn and it would be more opaque. But looking into this
a bit did lead to me learning that <a href="https://docs.python.org/3/tutorial/venv.html">Python 3 now has standard
support for virtual environments</a>.)</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/python/PipDropInInstall</link>
            <guid isPermaLink="false">hacker-news-small-sites-24503292</guid>
            <pubDate>Thu, 17 Sep 2020 11:24:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Toward a Technological Cage for the Masses]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 74 (<a href="https://news.ycombinator.com/item?id=24503179">thread link</a>) | @sT370ma2
<br/>
September 17, 2020 | https://cheapskatesguide.org/articles/techno-cage.html | <a href="https://web.archive.org/web/*/https://cheapskatesguide.org/articles/techno-cage.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://cheapskatesguide.org/articles/techno-cage.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24503179</guid>
            <pubDate>Thu, 17 Sep 2020 11:05:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Become an Ultralearner ‚Äì Scott H. Young on the Artists of Data Science Podcast]]>
            </title>
            <description>
<![CDATA[
Score 34 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24502962">thread link</a>) | @harpreetsahota
<br/>
September 17, 2020 | https://theartistsofdatascience.fireside.fm/scott-h-young | <a href="https://web.archive.org/web/*/https://theartistsofdatascience.fireside.fm/scott-h-young">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    

    <p>Scott H Young a writer, programmer, traveler and avid reader of interesting things. For the last ten years he's been experimenting to find out how to learn and think better. Today he swings by the show and talks to us about how we can master hard skills faster!</p>

<p><strong>QUOTES</strong><br>
"What you need is not just motivation, but you need some kind of system. You need some way to channel that initial burst of enthusiasm into creating structures for your life so that you will kind of consistently re-engage with it and consistently do what you need to do to learn things better." [00:07:37] </p>

<p>"The way that mental models become useful is when you really spent a lot of time thinking about them, not when you just heard their name and kind of written them down and understood a few sentences." [00:13:54] </p>

<p>"There is a certain type of person, I guess you could say that like they do need to stop reading, they need to actually start just taking action on things and implementing things." [00:24:23] </p>

<p>"The possibilities of learning are a lot more vast than you've maybe previously considered." [01:02:17]</p>

<p><strong>CONNECT WITH SCOTT</strong><br>
Website: <a href="https://www.scotthyoung.com/" rel="nofollow">https://www.scotthyoung.com/</a></p>

<p>Twitter: <a href="https://twitter.com/scotthyoung/" rel="nofollow">https://twitter.com/scotthyoung/</a></p>

<p>Facebook: <a href="https://www.facebook.com/AuthorScottYoung/" rel="nofollow">https://www.facebook.com/AuthorScottYoung/</a></p>

<p><strong>SHOW NOTES</strong></p>

<p>[00:01:27] Introduction for our guest</p>

<p>[00:02:42] Talk to us a bit about your journey. How did you get to where you are today?</p>

<p>[00:03:30] The struggles on the path to becoming an ultralearner</p>

<p>[00:06:22] The pitfalls of motivation</p>

<p>[00:08:25] A walk down the narrow path to success</p>

<p>[00:10:47] How to make sure you‚Äôre applying effort intelligently</p>

<p>[00:13:18] The benefits and limits of mental models</p>

<p>[00:16:32] The difference between knowing the name of a thing and knowing the thing</p>

<p>[00:18:54] Scott‚Äôs favorite mental model</p>

<p>[00:21:05] Scott talks about his doodles</p>

<p>[00:23:33] Is reading making you stupid?</p>

<p>[00:26:23] The danger of learning theories and not applying them</p>

<p>[00:27:37] You need to do more than just homework</p>

<p>[00:29:27] What to do when you‚Äôre stunned into inaction</p>

<p>[00:31:39] You can‚Äôt see your brain getting buff</p>

<p>[00:33:36] Luck to destiny</p>

<p>[00:39:14] What exactly is ultralearning?</p>

<p>[00:40:27] How can we use ultralearning to accelerate, transition, or rescue our careers?</p>

<p>[00:41:46] Why is it that we procrastinate?</p>

<p>[00:42:55] Mental habits to combat procrastination</p>

<p>[00:45:40] You‚Äôre more ready than you think you are</p>

<p>[00:49:32] How can we mitigate the distraction of our mind?</p>

<p>[00:51:18] Do you have any tips for our listeners for what they could start doing today to improve the quality of their focus?</p>

<p>[00:53:27] The principle of intuition</p>

<p>[00:59:47] Building expert intuition</p>

<p>[01:02:04] What's the one thing you want people to learn from your story?</p>

<p>[01:03:25] The random round</p>




      
      
  </div></div>]]>
            </description>
            <link>https://theartistsofdatascience.fireside.fm/scott-h-young</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502962</guid>
            <pubDate>Thu, 17 Sep 2020 10:34:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sixty second stories of exceptional founders, sent out every 10 days]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24502932">thread link</a>) | @plincoln8
<br/>
September 17, 2020 | http://tareksway.com/visionaries | <a href="https://web.archive.org/web/*/http://tareksway.com/visionaries">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://tareksway.com/visionaries</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502932</guid>
            <pubDate>Thu, 17 Sep 2020 10:28:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Is 1 World Trade Center Missing from Spider-Man?]]>
            </title>
            <description>
<![CDATA[
Score 170 | Comments 114 (<a href="https://news.ycombinator.com/item?id=24502706">thread link</a>) | @tosh
<br/>
September 17, 2020 | https://www.stevenbuccini.com/why-1wtc-isnt-in-spiderman | <a href="https://web.archive.org/web/*/https://www.stevenbuccini.com/why-1wtc-isnt-in-spiderman">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Like many people across the world, I‚Äôm using my quarantine effectively: by catching up on all the video games I wasn‚Äôt able to play while traveling. The game at the top of my list? <a href="https://en.wikipedia.org/wiki/Spider-Man_(2018_video_game)">Spider-Man</a>, which was widely recognized as one of the top games of 2018. The game is features an open-world, which means you can travel around the game map as you see fit. And since Spider-Man, canonically, lives in real-life New York City, this means you‚Äôll spend hours webbing around an incredibly detailed version of the city that never sleeps.</p>

<p>If you‚Äôve spent any appreciable amount of time in New York, the in-game world will immediately feel familiar. The developers nailed the look and feel of the city. I found myself using real-world landmarks to orient myself as I slinged (slunged?) across Manhattan. The game leans into this realism‚Äîit even includes a challenge where you can take photos of in-game landmarks. While some are unique to the Marvel universe, like Avengers Tower and Uncle Ben‚Äôs grave, many exist in the real world and are faithfully reproduced within the game: Williamsburg/Brooklyn/Manhattan/Queensboro Bridges all make an appearance, as does Grand Central, Madison Square Garden, Saint Patrick‚Äôs Cathedral, Columbus Circle, the High Line and many more points of reference. As you‚Äôre swinging through the city, you‚Äôre treated to great views of Manhattan‚Äôs skyline, anchored by the Empire State Building, Chrysler Building, and Freedom Tower. Except, it‚Äôs <em>not</em> the Freedom Tower, despite being located in the exact same location as its real-life counterpart. Why are equally famous buildings like the Empire State Building accurately depicted, but the Freedom Tower isn‚Äôt?</p>

<p>Here‚Äôs what the ‚ÄúFreedom Tower‚Äù looks like in the game:
<img src="https://www.stevenbuccini.com/assets/spiderman/spiderman-1wtc.png" alt="In-Game 1WTC">
<em>(credit to Polygon because I was too lazy to get this off my PS4 myself)</em></p>

<p>Interestingly enough, the in-game design looks to be based on Libeskind‚Äôs original design for Freedom Tower (an interesting recap of the changes can be found <a href="https://www.newyorker.com/business/currency/daniel-libeskinds-world-trade-center-change-of-heart">here</a>), lending further credence to the theory that this building is supposed to be 1WTC.</p>

<p>My curiosity was further piqued when I learned that the <em>real</em> One World Trade Center was actually in the game during a demo at E3 in June of 2018, less than 4 months before the final game was set to be released to the public!</p>

<p><img src="https://www.stevenbuccini.com/assets/spiderman/1wtc_e3.png" alt="Real-life 1WTC in Spider-Man demo from E3 2018"></p>

<p>This deadline is even closer than it appears at first glance as the <a href="https://en.wikipedia.org/wiki/Software_release_life_cycle#RTM">‚Äúgold master‚Äù</a> is finalized weeks before release date so manufacturers have time to make and distribute the game to retailers. This change must have been implemented at the 11th hour.</p>

<p>And even after swapping the model out, they featured the building prominently on the home screen in the released version of the video game!
<img src="https://www.stevenbuccini.com/assets/spiderman/spiderman-start.png" alt="Start screen">
<em>(<a href="https://www.noobfeed.com/features/1119/marvel-s-spider-man-how-do-you-access-new-game-plus-and-ultimate-difficulty">credit</a>)</em></p>

<p>So <em>why</em> isn‚Äôt the real-life 1 WTC featured? At this point, we can eliminate time and budget constraints because we know the model already existed and was implemented before launch. We know that the designers thought this building was important as it‚Äôs the first thing you notice when starting the game.</p>

<p>I wish to briefly introduce <strong>Buccini‚Äôs razor</strong>‚Äîif something fun disappears unexpectedly, the cause is litigation (real or imagined).</p>

<p>It turns out that just like an author can copyright their book and a musician can copyright a song, an architect can copyright a building. Sure enough, here‚Äôs the copyright record for One World Trade Center:
<img src="https://www.stevenbuccini.com/assets/spiderman/copyright_record.png" alt="Record from [copyright.gov](https://www.copyright.gov/); can't deeplink the record but you can find it yourself by using the document record seen above"></p>

<p>At this point, I had a strong feeling copyright law was the reason for the change. The <a href="https://www.reddit.com/r/SpidermanPS4/comments/9grnr8/freedom_tower/">internet</a> <a href="https://www.reddit.com/r/SpidermanPS4/comments/9d3paw/the_real_reason_for_the_redesigned_freedom_tower/">seems</a> <a href="https://gamefaqs.gamespot.com/boards/191635-marvels-spider-man/76988485">to</a> <a href="https://www.neogaf.com/threads/one-world-trade-center-has-been-removed-from-spider-man-ps4.1465315/">agree</a>.</p>

<p>As luck<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> would have it, there was <a href="https://www.nexsenpruet.com/professionals/jeff-reichard">an expert in architectural copyright</a> right around the corner from my house here in Greensboro! Jeffrey was kind enough to spend a few minutes of his time thinking about this not-at-all-important question.</p>

<p>First, Jeffrey noted that <em>copyrights expire</em>. Just as music and books can pass into the public domain for anyone to replicate freely, you can also build an exact replica of the Empire State Building here in the United States if you so choose. Generally, any building constructed after December 1, 1990 is covered by the <a href="https://www.djc.com/news/ae/11151054.html">Architectural Works Copyright Protection Act</a>. This would explain why older structures are replicated faithfully but the Freedom Tower is not.</p>

<p>However, this doesn‚Äôt tell the full story. As Jeffrey noted, <a href="https://www.law.cornell.edu/uscode/text/17/120">17 U.S. Code ¬ß‚ÄØ120(a)</a> ‚Äúprovides an exception related to pictorial representations of of buildings that are visible from a public place. Therefore, I am not sure exactly why they changed it in the video game.‚Äù</p>

<p>The final piece of the puzzle lies at the <a href="https://www.youtube.com/watch?v=vo5A_fuDgtk&amp;feature=youtu.be&amp;t=2666">end of the credits</a>, where the creators of the game specifically thank the owners of certain famous buildings in New York, including the Empire State Building. I found this curious as the Empire State Building should be doubly safe: it was constructed long before 1990 so it is not covered under copyright law, and it is visible from a public place so it should be exempt from any potential copyrights. But look closer. You‚Äôll see that they are acknowledging the <em>trademark</em> holders, NOT the <em>copyright</em> holders.</p>

<p><a href="https://www.photosecrets.com/buildings-copyright-and-trademarks">As this page</a> helpfully explains, applying a trademark to the building limits how the building‚Äôs image can be used in the sale of goods and services (like video games)! The credits hint that the video game creators obtained limited licenses to use the trademark, i.e. the distinctive design and appearance of the building, for certain buildings such as the Flatiron Building.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<p>Therefore, the most likely answer is that the distinctive shape of 1 World Trade Center is either trademarked (although I could not find it within USPTO databases) or is so recognizable that it is easily defensible via a common law trademark and the game developers were unable to secure a license to use the trademark before their deadline.</p>

<p>However, <a href="https://www.youtube.com/watch?v=gHzuHo80U2M">Sony just announced</a> an expansion to the Spider-Man video game, so perhaps the additional time and the demonstrated popularity of the first installment will help resolve this issue for the upcoming title.</p>



  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://www.stevenbuccini.com/why-1wtc-isnt-in-spiderman</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502706</guid>
            <pubDate>Thu, 17 Sep 2020 09:38:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I overslept because iOS 14 disabled my alarm]]>
            </title>
            <description>
<![CDATA[
Score 474 | Comments 306 (<a href="https://news.ycombinator.com/item?id=24502697">thread link</a>) | @dewey
<br/>
September 17, 2020 | https://annoying.technology/posts/e82ff3bde8b225e6/ | <a href="https://web.archive.org/web/*/https://annoying.technology/posts/e82ff3bde8b225e6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://d33wubrfki0l68.cloudfront.net/9261d105b12f5c6c5928c9532d1f8721b84005cd/62d1b/media/oversleeping.jpg"></p><p>I‚Äôm using the iOS <a href="https://support.apple.com/en-us/HT208655">Bedtime</a> feature for years now. With yesterday‚Äôs iOS 14 update the feature got moved from the Clock app to the Health app. Unfortunately the migration is done by disabling your existing alarm and showing a button to open the Health app to set it up again.</p><p>I woke up late and well rested today.</p></div></div>]]>
            </description>
            <link>https://annoying.technology/posts/e82ff3bde8b225e6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24502697</guid>
            <pubDate>Thu, 17 Sep 2020 09:36:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Infosec Apocalypse]]>
            </title>
            <description>
<![CDATA[
Score 153 | Comments 97 (<a href="https://news.ycombinator.com/item?id=24501803">thread link</a>) | @chillax
<br/>
September 16, 2020 | https://blog.rickasaurus.com/2020/08/31/The-Infosec-Apocalypse.html | <a href="https://web.archive.org/web/*/https://blog.rickasaurus.com/2020/08/31/The-Infosec-Apocalypse.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>The rise of tooling for vulnerability detection combined with pressure driven by Vendor Due Diligence is causing a massive enterprise freezeout for non-mainstream technologies across the board. Of particular concern is the impact this will have on the adoption of functional programming in enterprise and small business B2B development.</p>

<p>I see now that the last 10 years were ‚Äúeasy mode‚Äù for the growth of new programming tools and infrastructure, with many new breakthrough technologies seeing rapid adoption. Languages like Node, Go and to some degree Scala saw breakaway success, not to mention all of the new cloud tech, NoSQL tech, containerization and data processing platforms along with their custom query DSLs. Other languages like Haskell saw success in small companies and skunkworks style teams solving very difficult problems.</p>

<h3 id="the-rise-of-vulnerability-scanning">The Rise of Vulnerability Scanning</h3>

<p>Just this past year I‚Äôve come to see we‚Äôre in the middle of a massive change across the industry. There are new forces at play which will calcify current software stacks and make it extremely hard for existing or new entrants to see similar success without a massive coordinated push backed by big enterprise companies. This force is the rise of InfoSec and vulnerability detection tooling.</p>

<p>Tools like <a href="https://owasp.org/www-community/Source_Code_Analysis_Tools">Blackduck, WhiteSource, Checkmarx, Veracode</a> are exploding in popularity, there are too many to list and many variations on the same theme. In the wake of so many data leaks and hacking events enterprises no longer trust their developers and SREs to take care of security, and so protocols are being implemented top down. This isn‚Äôt just on the code scanning side, there is a similar set of things going on with network scanning as well which impacts programming languages less, but similarly will calcify server stacks.</p>

<p>These tools are quickly making their way into SOC2 and SDLC policies across industry, and if your language or new infrastructure tool isn‚Äôt supported by them there‚Äôs little chance you will get the previously already tenuous approval to use them. This sets the already high bar for adoption much higher. As you might expect, vendors will only implement support for languages that meet some threshold for profitability of their tools. Not only do you need to build a modern set of tools for your language to compete, now you also need support from external vendors.</p>

<h3 id="vendor-due-diligence">Vendor Due Diligence</h3>

<p>Maybe we just cede this territory to enterprise tools with big backers like Microsoft and Oracle, we never more than a few small inroads anyway. The use of these tools is arguably a good thing overall for software security. Unfortunately, the problem cannot be sidestepped so easily, and I‚Äôm afraid this is where things look very bleak. The biggest new trend is in enforcement of these tools through Vendor Due Diligence.</p>

<p>You may not be familiar with Vendor Due Diligence if you aren‚Äôt in a manager role. The basic idea is your customer will send you a long list of technical questions about your product which you must fill out to their satisfaction before they buy your product or service. In the B2B space where I work these lists are nothing new, but have been getting longer and longer over the last 10 years, now often numbering in the hundreds of questions.</p>

<p>Most recently I‚Äôve seen more and more invasive questions being asked, some even going into how teams are organized, but important to this article is that across the board they now all ask about vulnerability scanning and now often request specific outputs for well-known vulnerability scanning tools. The implication being that if you‚Äôre not scanning with these tools they won‚Äôt buy your software, and the list of supported languages is small.</p>

<p>Any experienced technology manager sees the natural tradeoff here. When it comes down to making money versus using cool tech, cool tech will lose every time. You‚Äôre just burning money if you‚Äôre building cool things with cool tech if you know no one will buy it.</p>

<h3 id="so-what-now">So What Now?</h3>

<p>Potentially we will see a resurgence of ‚Äúcompile-to‚Äù functional programming with mainstream language targets to sidestep the issue. I suppose though that the extra build complexity and problems debugging will prevent this from ever being mainstream, not to mention that the vulnerability tools look for specific patterns and likely won‚Äôt behave well on generated code.</p>

<p>There is some hope in the form of projects like SonarCube which enables users to come together and <a href="https://github.com/SonarSource/sonar-custom-plugin-example">build custom plugins</a>. Will functional programming communities come together to build and maintain such boring tech? I somewhat doubt it. This kind of work is not what most programmers would choose to do in their off time. Similarly, vulnerability detection is unlikely to be a good target to be advanced a little at a time with academic papers. It would take true functional programming fanatics to build companies or tools dedicated to the cause. If you are interested in helping out, pay attention to the <a href="https://owasp.org/www-project-top-ten/">OWASP Top 10</a> as this list drives focus for many infosec teams.</p>

<p>Where does this leave us? If our communities do nothing then smaller B2B software operations focused mom and pop shops or consumer focused web applications likely won‚Äôt see any impact unless static analysis makes it into data protection law. Beyond these use cases FP will be relegated to tiny boxes on the back end where vulnerabilities are much less of a concern and the mathematical skills of functional programmers can bring extreme amounts of value.</p>

<p>I know there are many deeper facets I didn‚Äôt cover here, if you want to continue the discussion <a href="https://twitter.com/rickasaurus/status/1300487826782420995">join the thread on twitter</a>.</p>


  </div></div>]]>
            </description>
            <link>https://blog.rickasaurus.com/2020/08/31/The-Infosec-Apocalypse.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24501803</guid>
            <pubDate>Thu, 17 Sep 2020 06:34:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking on Bug Bounties for Four Years]]>
            </title>
            <description>
<![CDATA[
Score 64 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24500198">thread link</a>) | @infosecau
<br/>
September 16, 2020 | https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/ | <a href="https://web.archive.org/web/*/https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <ul>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#intro">Intro &amp; Motivations</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#findings">Findings</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#analysis">Analysis</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#collaboration">Collaboration</a></li>
  <li><a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/#methodology">Methodology</a></li>
</ul>

<hr>





<p>I value transparency a lot, especially when it comes to the bug bounty space. Bug bounty hunters all around the world are submitting a range of reports where the issues found span across multiple domains, often leveraging numerous techniques and methodologies. However, if you‚Äôre not already an active bug bounty hunter who has a good understanding of what a bounty program expects, or will pay out for, you have a major disadvantage compared to someone who does have this knowledge. I hope through this blog post, I can demystify the sort of issues bug bounty programs pay for.</p>

<p>The last blog post I did in this series was around four years ago, <a href="https://shubs.io/high-frequency-security-bug-hunting-120-days-120-bugs/">120 days, 120 bugs</a>. In the last four years, a lot has happened. I moved to Europe for six months, I moved interstate in Australia twice, I won a <a href="https://www.youtube.com/watch?v=VojwIY4GL-4">live hacking event</a>, I co-founded a company and helped build an <a href="https://assetnote.io/">attack surface management platform</a> with a team of people I consider family.</p>

<p>Unlike my previous blog post, I did not set myself a goal to find a bug a day. Instead, I participated in bug bounties whenever time allowed. There were many months where I found nothing at all, which often terrified me when it came to evaluating my self worth as a hacker. I also admitted to myself, that I might be a good hacker, but there is always going to be a better hacker out there, and I‚Äôve made my peace with that as a hyper-competitve person.</p>

<p>If you don‚Äôt have an excellent understanding of fundamental application security <a href="http://projects.webappsec.org/w/page/13246978/Threat%20Classification">attacks and weaknesses</a> before you approach bug bounties, in my opinion, you are wasting your time. <a href="https://portswigger.net/web-security">Practice and learn more here</a>.</p>

<p>If you‚Äôre looking for a paid, more extensive resource, check out and practice with <a href="https://pentesterlab.com/">PentesterLab</a>.</p>

<p>Participating so heavily in bug bounties has given us the knowledge at Assetnote about what security teams <em>actually</em> care about. It‚Äôs the reason we can maintain high signal when we are continuously finding exposures.</p>

<p>My primary motivation for this blog post is to educate the masses on what bug bounty programs are paying out for.</p>

<p>For example, would you know that you could submit a dangling EC2 IP (subdomain pointing to an EC2 IP that is no longer owned by the company) as a bug report without reading the proof in the pudding below? I‚Äôve been paid for this by programs, so clearly they value this sort of information.</p>

<hr>




<p>Below are all of my findings for the last four years. I‚Äôve redacted information where necessary, but by reading the titles, it should give you a good understanding of what I was reporting to programs.</p>

<table data-order="[[ 0, &quot;desc&quot; ]]" id="bugs">
<thead><tr><th title="Field #1">Date</th>
<th title="Field #2">Bug</th>
<th title="Field #3">Payout</th>
</tr></thead>
<tbody><tr>
<td>2020-09-02 14:04:11 UTC</td>
<td>[redacted] Hosted Zone Takeover</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-07-16 18:39:22 UTC</td>
<td>Spring debugging endpoints exposed leading to disclosure of all secrets via heapdump on [redacted] &amp; Account takeover by Trace</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-06-30 22:54:07 UTC</td>
<td>Blind SSRF on [redacted] through invoicing API - access to internal hosts</td>
<td>$60.00</td>
</tr>
<tr>
<td>2020-06-10 13:53:43 UTC</td>
<td>Full Account takeover through subdomain takeover via [redacted]</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-06-10 13:24:10 UTC</td>
<td>Full Account takeover through subdomain takeover via [redacted]</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-06-10 13:21:57 UTC</td>
<td>Full Account takeover through subdomain takeover via  [redacted]</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-06-08 14:28:05 UTC</td>
<td>Amazon S3 Subdomain Hijack - [redacted]</td>
<td>$256.00</td>
</tr>
<tr>
<td>2020-06-08 05:29:58 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-06-05 16:27:42 UTC</td>
<td>Admin panel for Cisco IP Conference Station CP-7937G exposed on the internet on [redacted] IP ranges</td>
<td>$400.00</td>
</tr>
<tr>
<td>2020-06-03 21:07:51 UTC</td>
<td>Pre-auth Blind MSSQL Injection affecting [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-03 14:18:24 UTC</td>
<td>Pre-auth MSSQL Injection affecting [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-02 15:28:50 UTC</td>
<td>Pre-auth SQL Injection affecting [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-02 15:26:58 UTC</td>
<td>RCE via arbitrary file write and path traversal [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-06-02 15:25:08 UTC</td>
<td>RCE via arbitrary file write and path traversal [redacted]</td>
<td>$1,024.00</td>
</tr>
<tr>
<td>2020-05-18 10:12:38 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-18 10:11:58 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-18 10:06:22 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-18 10:05:20 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-05-11 18:47:54 UTC</td>
<td>Route53 Hosted Zone Takeover of [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2020-05-11 14:59:23 UTC</td>
<td>Account takeover through Subdomain Takeover of [redacted] (Cookie Disclosure -&gt; Account Takeover)</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-05-11 14:31:18 UTC</td>
<td>Account takeover through Subdomain Takeover of [redacted] (Cookie Disclosure -&gt; Account Takeover)</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-05-07 01:47:49 UTC</td>
<td>View all metadata for any [redacted] IDOR [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2020-04-29 22:58:57 UTC</td>
<td>IDOR view all [redacted]</td>
<td>$4,000.00</td>
</tr>
<tr>
<td>2020-04-29 22:57:55 UTC</td>
<td>IDOR view the [redacted]</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2020-04-24 18:19:23 UTC</td>
<td>Subdomain takeover of [redacted] through Heroku</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-04-24 18:18:45 UTC</td>
<td>Subdomain takeover of [redacted] through Heroku</td>
<td>$300.00</td>
</tr>
<tr>
<td>2020-04-23 19:45:04 UTC</td>
<td>Ability to horizontal bruteforce [redacted] accounts by abusing [redacted] sign up flow</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-22 17:44:29 UTC</td>
<td>View all metadata for any [redacted] IDOR [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-22 17:42:51 UTC</td>
<td>IDOR view the [redacted] for any [redacted] for today [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-22 17:42:06 UTC</td>
<td>IDOR view all [redacted] for a [redacted] [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-04-06 19:13:19 UTC</td>
<td>Facebook - Payout For [redacted]</td>
<td>$5,000.00</td>
</tr>
<tr>
<td>2020-03-07 15:12:24 UTC</td>
<td>Accessing Querybuilder on [redacted] to gain access to secrets</td>
<td>$3,000.00</td>
</tr>
<tr>
<td>2020-02-25 15:02:20 UTC</td>
<td>Subdomain takeover of [redacted] via Amazon S3</td>
<td>$750.00</td>
</tr>
<tr>
<td>2020-02-20 23:01:58 UTC</td>
<td>HTML injection, DOS of email receipts and potentially template injection within [redacted] via "Expense Info" section</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-02-18 14:45:40 UTC</td>
<td>Admin account bruteforce via [redacted]/libs/granite/core/content/login.html</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-02-15 12:24:57 UTC</td>
<td>Blind XSS via registering on [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2020-02-04 03:45:38 UTC</td>
<td>HTML Injection in email when contributing to a [redacted]</td>
<td>$700.00</td>
</tr>
<tr>
<td>2020-01-21 17:13:58 UTC</td>
<td>Ability to attach malicious attachments (of any name and of any content type) to [redacted] support staff via [redacted]</td>
<td>$2,000.00</td>
</tr>
<tr>
<td>2020-01-15 11:41:59 UTC</td>
<td>No authentication required to view and delete Terraform locks at [redacted]</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-12-12 16:25:11 UTC</td>
<td>[redacted] Webhook URL + object leaked in JavaScript on [redacted]</td>
<td>$3,000.00</td>
</tr>
<tr>
<td>2019-11-21 22:15:20 UTC</td>
<td>AWS &amp; Screenhero JWT Credentials from [redacted] not rotated, still working</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-10-17 13:44:23 UTC</td>
<td>RCE on [redacted] via IBM Aspera exploit leading to compromise of secure file storage </td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-10-15 14:29:25 UTC</td>
<td>SSO bypass on [redacted] leading to access of internal documents and portals</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-10-11 18:07:51 UTC</td>
<td>Admin access to [redacted] via guessing credentials</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-10-11 18:06:15 UTC</td>
<td>3rd party subdomain hijack - EC2 IP of [redacted] is no longer controlled by [redacted]</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-09-30 16:56:50 UTC</td>
<td>Multiple server-side issues affecting [redacted] (SSRF, admin panels)</td>
<td>$2,660.00</td>
</tr>
<tr>
<td>2019-09-25 22:10:00 UTC</td>
<td>Read any [redacted] details using UUID - IDOR in [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-09-10 16:17:59 UTC</td>
<td>SSRF in [redacted]</td>
<td>$2,000.00</td>
</tr>
<tr>
<td>2019-09-03 15:28:36 UTC</td>
<td>SSRF in [redacted]</td>
<td>$17,900.00</td>
</tr>
<tr>
<td>2019-08-29 00:43:00 UTC</td>
<td>Bypassing email whitelists for organisation signup flows on [redacted]</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-08-09 05:15:44 UTC</td>
<td>[Pre-Submission] SSRF in [redacted] (Iframely)</td>
<td>$2,970.30</td>
</tr>
<tr>
<td>2019-07-29 16:32:59 UTC</td>
<td>[Bypass] SSRF via [redacted] leads to internal network access, ability to read internal JSON responses</td>
<td>$23,000.00</td>
</tr>
<tr>
<td>2019-07-24 02:52:42 UTC</td>
<td>PHPInfo exposed at [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2019-07-24 02:46:02 UTC</td>
<td>SSRF on [redacted] leading to AWS breach via security credentials</td>
<td>$5,000.00</td>
</tr>
<tr>
<td>2019-07-08 14:44:23 UTC</td>
<td>Remote command execution on production [redacted] (via tsi parameter) - CVE-2017-12611</td>
<td>$2,000.00</td>
</tr>
<tr>
<td>2019-06-12 17:42:53 UTC</td>
<td>Username/Password for Aspera and other secrets leaked in [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-06-12 17:42:08 UTC</td>
<td>SSO/Authorization bypass for APIs hosted on [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-06-12 14:45:09 UTC</td>
<td>Remote Code Execution (many endpoints) - [redacted]</td>
<td>$4,500.00</td>
</tr>
<tr>
<td>2019-06-10 17:29:35 UTC</td>
<td>Extract email, dob, full address, federal tax ID and other PII for all leads in [redacted]</td>
<td>$1,800.00</td>
</tr>
<tr>
<td>2019-06-10 16:53:22 UTC</td>
<td>Obtain email, mobile of customers of [redacted] by iterating through Lead IDs via the API</td>
<td>$12,600.00</td>
</tr>
<tr>
<td>2019-06-10 16:52:40 UTC</td>
<td>Ability to pull out all opportunities (IDOR) extract PII for customers of [redacted]</td>
<td>$12,600.00</td>
</tr>
<tr>
<td>2019-06-07 18:51:24 UTC</td>
<td>[redacted][IDOR] - Accessing all accounts via regression / new attack vector by abusing [redacted] (regression?)</td>
<td>$2,500.00</td>
</tr>
<tr>
<td>2019-06-07 18:17:31 UTC</td>
<td>Blind SSRF on [redacted] through RPC call to checkAvailableLivechatAgents</td>
<td>$62.50</td>
</tr>
<tr>
<td>2019-06-07 18:07:22 UTC</td>
<td>HTML injection in emails when adding a reviewer to [redacted]</td>
<td>$125.00</td>
</tr>
<tr>
<td>2019-06-07 17:42:09 UTC</td>
<td>[IDOR] Impersonating an [redacted] employee via /api/readHandler on [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-06-07 15:33:31 UTC</td>
<td>Extract mobile number and [redacted] using only an email address, for any [redacted]</td>
<td>$750.00</td>
</tr>
<tr>
<td>2019-06-07 14:36:01 UTC</td>
<td>Zendesk Ticket IDOR / Ability to enumerate  IDs via [redacted]</td>
<td>$125.00</td>
</tr>
<tr>
<td>2019-06-07 14:24:15 UTC</td>
<td>Extract mobile number and [redacted] using only an email address, for any [redacted] user</td>
<td>$750.00</td>
</tr>
<tr>
<td>2019-06-07 14:11:20 UTC</td>
<td>HTML Injection in [redacted] receipts if printed from [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2019-06-07 13:56:46 UTC</td>
<td>Ability to access the airwatch admin panels and APIs in [redacted]</td>
<td>$1,000.00</td>
</tr>
<tr>
<td>2019-06-07 13:21:31 UTC</td>
<td>IDOR on [redacted] allows you to access [redacted] information for any [redacted] user</td>
<td>$250.00</td>
</tr>
<tr>
<td>2019-06-07 10:13:20 UTC</td>
<td>[redacted][IDOR] - Accessing all accounts via regression / new attack vector by abusing [redacted] (regression?)</td>
<td>$15,000.00</td>
</tr>
<tr>
<td>2019-05-22 19:33:27 UTC</td>
<td>SQLi and Authentication Bypass in [redacted]</td>
<td>$4,500.00</td>
</tr>
<tr>
<td>2019-04-29 14:14:42 UTC</td>
<td>Reflected XSS in [redacted]</td>
<td>$500.00</td>
</tr>
<tr>
<td>2019-04-29 14:14:29 UTC</td>
<td>SSRF in [redacted]</td>
<td>$1,500.00</td>
</tr>
<tr>
<td>2019-04-25 07:33:22 UTC</td>
<td>Local file disclosure through Rails CVE-2019-5418 in [redacted]</td>
<td>$100.00</td>
</tr>
<tr>
<td>2019-04-19 02:28:54 UTC</td>
<td>SSRF - [redacted]</td>
<td>$4,950.00</td>
</tr>
<tr>
<td>2019-04-19 02:28:35 UTC</td>
<td>SSRF at [redacted] via the 'url' parameter</td>
<td>$4,950.00</td>
</tr>
<tr>
<td>2019-03-29 11:23:14 UTC</td>
<td>AWS S3 secrets leaked in [redacted] meeting connector ‚Ä¶</td></tr></tbody></table></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/">https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/</a></em></p>]]>
            </description>
            <link>https://blog.assetnote.io/2020/09/15/hacking-on-bug-bounties-for-four-years/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24500198</guid>
            <pubDate>Thu, 17 Sep 2020 01:29:10 GMT</pubDate>
        </item>
    </channel>
</rss>
