<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 10]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 10. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 19 Aug 2020 04:20:33 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-10.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 19 Aug 2020 04:20:33 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[A-Levels: The Model is not the Student]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 26 (<a href="https://news.ycombinator.com/item?id=24185621">thread link</a>) | @tosh
<br/>
August 17, 2020 | http://thaines.com/post/alevels2020 | <a href="https://web.archive.org/web/*/http://thaines.com/post/alevels2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://thaines.com/post/alevels2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-24185621</guid>
            <pubDate>Mon, 17 Aug 2020 09:47:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ACCC: Response to Google Open Letter]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 81 (<a href="https://news.ycombinator.com/item?id=24185374">thread link</a>) | @ajdlinux
<br/>
August 17, 2020 | https://www.accc.gov.au/media-release/response-to-google-open-letter | <a href="https://web.archive.org/web/*/https://www.accc.gov.au/media-release/response-to-google-open-letter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content-column">
              
            <div id="readspeaker-process">
        <section>
                                
                            </section>
        <div>
          <section>
                                                                                                    <div>
    <section id="block-system-main">

      
  <div>
    <article id="node-87993" about="/media-release/response-to-google-open-letter" typeof="sioc:Item foaf:Document">
    <header>
            <span property="dc:title" content="Response to Google open letter"></span>      </header>
    <div><div><div property="content:encoded"><p>The open letter published by Google today contains misinformation about the draft news media bargaining code which the ACCC would like to address.&nbsp;</p>

<p>Google will not be required to charge Australians for the use of its free services such as Google Search and YouTube, unless it chooses to do so.</p>

<p>Google will not be required to share any additional user data with Australian news businesses unless it chooses to do so.</p>

<p>The draft code will allow Australian news businesses to negotiate for fair payment for their journalists’ work that is included on Google services.</p>

<p>This will address a significant bargaining power imbalance between Australian news media businesses and Google and Facebook.</p>

<p>A healthy news media sector is essential to a well-functioning democracy.</p>

<p>We will continue to consult on the draft code with interested parties, including Google.</p>

<p><a href="https://www.accc.gov.au/focus-areas/digital-platforms/news-media-bargaining-code/draft-legislation">Consultation</a> closes on 28 August 2020.</p>

<p>More information about the draft news media bargaining code can be found here:&nbsp;<a href="https://www.accc.gov.au/media-release/australian-news-media-to-negotiate-payment-with-major-digital-platforms">Australian news media to negotiate payment with major digital platforms</a></p>
</div></div></div>    </article>
  </div>

</section> <!-- /.block -->
<section id="block-service-links-service-links">

        <p>
      <h2>Share</h2>
    </p>
    
  

</section> <!-- /.block -->
  </div>
                                  </section>
                  </div>
      </div>
    </section></div>]]>
            </description>
            <link>https://www.accc.gov.au/media-release/response-to-google-open-letter</link>
            <guid isPermaLink="false">hacker-news-small-sites-24185374</guid>
            <pubDate>Mon, 17 Aug 2020 08:59:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Handmade: A Community for Self-Rolled Performant Software (2016)]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 17 (<a href="https://news.ycombinator.com/item?id=24184688">thread link</a>) | @TheUndead96
<br/>
August 16, 2020 | https://handmade.network/manifesto | <a href="https://web.archive.org/web/*/https://handmade.network/manifesto">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
        
            <div>
                
                
    <div>
        
        
            

<p> Modern computer hardware is amazing. Manufacturers have orchestrated billions of pieces of silicon into terrifyingly complex and efficient structures that sweep electrons through innumerable tangled paths, branchings, and reunions with the sole purpose of performing computations at more than a billion times per second. This awe-inspiring piece of computational wizardry has at its disposal multiple billions of uniquely addressible silicon plates where it can store the results of millions of computations in an array of several vanishingly small chips. All of this hardware, though each component often sits no further than 7 or 8 centimeters away from the others, cycles so fast that the speed of light, a physical law of the universe, limits the rate at which they communicate with each other.
</p><p><span>So why is software still slow?</span>
</p><p>Why does it take your operating system 10 seconds, 30 seconds, a minute to boot up? Why does your word processor freeze when you save a document on the cloud? Why does your web browser take 3, 4, 10 seconds to load a web page? Why does your phone struggle to keep more than a few apps open at a time? And why does each update somehow make the problem worse?
</p><p><span>We made it slow</span>.
</p><p>Not necessarily you, not necessarily me, not necessarily any single person in particular. But we, the software development community, made it slow by ignoring the fundamental reality of our occupation. We write code, code that runs on computers. Real computers, with central processing units and random access memory and hard disk drives and display buffers. Real computers, with integer and bitwise math and floating point units and L2 caches, with threads and cores and a tenuous little network connection to a million billion other computers. Real computers not built for ease of human understanding but for blindingly, incomprehensibly fast speed.
</p><p><span>A lot of us have forgotten that</span>.
</p><p>In our haste to get our products, our projects, the works of our hands and minds, to as many people as possible, we take shortcuts. We make assumptions. We generalize, and abstract, and assume that just because these problems have been solved before that they never need to be solved again. We build abstraction layers, then forget we built them and build more on top.
</p><p>And it's true that many of us think we do not have the time, the money, the mental bandwidth to always consider these things in detail. The deadline is approaching or the rent is due or we have taxes to fill out and a manager on our back and someone asking us why we always spend so much time at the office, and we just have to stick the library or virtual machine or garbage collector in there to cover up the places we can't think through right now.
</p><p>Others of us were never taught to think about the computer itself. We learned about objects and classes and templates and how to make our code clean and pretty. We learned how to write code to make the client or the manager or the teacher happy, but made the processor churn. And because we did, that amazing speed we'd been granted was wasted, by us, in a death by a thousand abstraction layers.
</p><p><span>But some of us aren't satisfied with that.</span>
</p><p>Some of us take a few extra steps into the covered territory, the wheels sitting, motionless, in a pile behind us, examine their designs and decide there is a better way. The more experienced among us remember how software used to be, the potential that we know exists for computer programs to be useful, general, <em>and</em> efficient. Others of us got fed up with the tools we were expected to use without complaint, but which failed us time and time again. Some of us are just curious and don't know what's good for us. Don't trust what we've been told is good for us.
</p><p>We sat down and looked at our hardware, and examined our data, and thought about how to use the one to transform the other. We tinkered, and measured, and read, and compared, and wrote, and refined, and modified, and measured again, over and over, until we found we had built the same thing, but 10 times faster and incomparably more useful to the people we designed it for. And we had built it by hand.
</p><p>That is what Handmade means. It's not a technique or a language or a management strategy, it isn't a formula or a library or an abstraction. It's an idea. The idea that we can build software that works with the computer, not against it. The idea that sometimes an individual programmer can be more productive than a large team, that a small group can do more than an army of software engineers and *do it better*. The idea that programming is about transforming data and we wield the code, the tool we use to bend that data to our will.
</p><p> It doesn't require a degree, or a dissertation, or a decade of experience. You don't need an
expensive computer or a certificate or even prior knowledge. All you need is an open mind and a sense of
curiosity. We'll help you with the rest.
</p><p><span>Will you join us?</span>
</p><p>Will you build your software by hand?</p>

        
        
        <p>
            
                Last updated by Andrew Chronister on April 23, 2016, 1:39 a.m.
            
        </p>
    </div>

                
            </div>
        
    </div>
    
</div></div>]]>
            </description>
            <link>https://handmade.network/manifesto</link>
            <guid isPermaLink="false">hacker-news-small-sites-24184688</guid>
            <pubDate>Mon, 17 Aug 2020 06:56:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How long since Google said a Google Drive Linux client is coming?]]>
            </title>
            <description>
<![CDATA[
Score 140 | Comments 94 (<a href="https://news.ycombinator.com/item?id=24183399">thread link</a>) | @zdw
<br/>
August 16, 2020 | https://abevoelker.github.io/how-long-since-google-said-a-google-drive-linux-client-is-coming/ | <a href="https://web.archive.org/web/*/https://abevoelker.github.io/how-long-since-google-said-a-google-drive-linux-client-is-coming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
        
        <p>
          have elapsed since <a href="https://productforums.google.com/forum/#!category-topic/drive/report-a-problem/KeC7Ax76dAA">Google said to "hang tight" about Linux support for Google Drive</a>.
        </p>
        <p>
          <strong><a href="https://tools.google.com/dlpage/drive">We're still waiting</a></strong>.
        </p>
        <p><a href="https://productforums.google.com/forum/#!category-topic/drive/report-a-problem/KeC7Ax76dAA">
          <img src="https://abevoelker.github.io/how-long-since-google-said-a-google-drive-linux-client-is-coming/img/waiting.gif">
        </a></p><hr>
        <p>
          Made with frustration by <a href="https://twitter.com/abevoelker">@abevoelker</a>
        </p>
      </div></div>]]>
            </description>
            <link>https://abevoelker.github.io/how-long-since-google-said-a-google-drive-linux-client-is-coming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24183399</guid>
            <pubDate>Mon, 17 Aug 2020 02:47:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why does Google think the slowest animal is the sloth?]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24182094">thread link</a>) | @tedsanders
<br/>
August 16, 2020 | https://www.tedsanders.com/why-does-google-think-the-slowest-animal-is-the-sloth/ | <a href="https://web.archive.org/web/*/https://www.tedsanders.com/why-does-google-think-the-slowest-animal-is-the-sloth/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <article>
          

<p>Google <a href="https://web.archive.org/web/20200809222648/https://www.google.com/search/howsearchworks/mission/">writes</a>:</p>

<blockquote>
  <p>Our mission is to organize the world’s information and make it universally accessible and useful.</p>
</blockquote>

<p>This is pretty hard, but Google has been at it a while. Let’s see how well Google is doing by asking it for some basic factual information, like the slowest animal.</p>

<p>Google says it’s the three-toed sloth:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-google.png" alt="Google search for slowest animal"></p>

<p>To see just how wrong this is, take a look at this video of a sloth climbing a tree:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/zNnWhQPQRFQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Can you imagine a <a href="https://en.wikipedia.org/wiki/Smallest_organisms#Animals">1 millimeter snail</a> moving this quickly? A sponge? A coral? A <a href="https://en.wikipedia.org/wiki/Tardigrade">tardigrade</a>? A 100-micron long mite?</p>

<p>It takes almost no research at all to see that the sloth wouldn’t even be invited to the slowest animal Olympics, let alone win the gold medal.</p>

<p>Google has plenty of company though.</p>

<p>Siri guesses that it’s the <em>two-toed</em> sloth:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-siri.png" alt="Siri search for slowest animal"></p>

<p>Bing returns images of sloths, but text saying it’s the seahorse:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-bing.png" alt="Bing search for slowest animal"></p>

<p>Cortana returns text saying three-toed sloth while its first image is a Gila monster:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-cortana.png" alt="Cortana search for slowest animal"></p>

<p>Although DuckDuckGo doesn’t elevate an editorial snippet, it returns 8 images of sloths and 1 image of a loris:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-duckduckgo.png" alt="DuckDuckGo search for slowest animal"></p>

<p>YouTube’s top hit for animals used to say seahorse, but today says the three-toed sloth:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-youtube.png" alt="YouTube search for slowest animal"></p>

<p>WolframAlpha gets it the closest yet, returning the brown garden snail and explicitly states that it reinterpreted my query as the slowest <em>land</em> animal:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-wolfram-alpha.png" alt="Wolfram Alpha search for slowest animal"></p>

<p>Wikipedia returns an article with slowest animal by phylum and class, including coral with a speed of 0 m/s:</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-wikipedia.png" alt="Wikipedia search for slowest animal"></p>

<p>I find it quite interesting that of the 8 websites I asked, the only website that got the answer partially correct was the also the only website that’s a non-profit.</p>

<p><strong>2020 update:</strong> Despite being higher quality than all results returned by search engines, the Wikipedia article was deleted for being too low quality. Alas.</p>

<p><img src="https://www.tedsanders.com/images/the-slowest-animal-wikipedia-deletion.png" alt="Wikipedia deletion notice"></p>

<!--
If you [ask Google for a shirt without stripes](https://github.com/elsamuko/Shirt-without-Stripes), it shows you shirts *with* stripes:
![Google search for shirt without stripes](/images/shirts-without-stripes-google.png "Shirts without striples - Google")
To be fair, 'without' is a pretty tricky word. Amazon and Microsoft fail at this too. -->

      </article>
  </div></div>]]>
            </description>
            <link>https://www.tedsanders.com/why-does-google-think-the-slowest-animal-is-the-sloth/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24182094</guid>
            <pubDate>Sun, 16 Aug 2020 22:55:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Factorio and Software Engineering]]>
            </title>
            <description>
<![CDATA[
Score 312 | Comments 128 (<a href="https://news.ycombinator.com/item?id=24181783">thread link</a>) | @nindalf
<br/>
August 16, 2020 | https://blog.nindalf.com/posts/factorio-and-software-engineering/ | <a href="https://web.archive.org/web/*/https://blog.nindalf.com/posts/factorio-and-software-engineering/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="wrapper">
            <article>
                <header>
                    
                    <h2>
                    Aug 16, 2020 00:15
                    · 1364 words
                    · 7 minute read
                      <span>
                      
                      
                          
                              <a href="https://blog.nindalf.com/tags/tech">tech</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                <section id="post-body">
                    <p>I’ve been a software engineer a while now and I can say this with confidence - it is fun. It’s great and I wouldn’t trade it for anything else. It’s so much fun that some folks try to capture the most enjoyable elements and put them into games.</p>

<p>I’ve played two such games. The first is <strong><a href="https://store.steampowered.com/app/504210/SHENZHEN_IO/">Shenzhen.io</a></strong>. This one looks similar to what an engineer working on embedded devices would see. You solve puzzles by writing assembly code on low power devices. What makes this game great is that they remove the annoying parts of writing and shipping code.</p>

<ul>
<li>The requirements are clear, rarely true on the job.</li>
<li>The edit-debug-compile loop is lightning quick. That combined with a great test suite means you can try several potential solutions in a minute.</li>
<li>The platform your code depends on (the game itself) doesn’t have bugs. You don’t need to fix your dependencies before you start on your own code.</li>
</ul>

<p>Should a software engineer play Shenzhen.io? The gameplay isn’t for everyone. For some people it feels too much “like work”. At the end of the day you want to relax, not work at tasks that feel similar to what you did for 8 hours. Despite that, I think it’s worthwhile just to see how much more fun a task becomes when the requirements are clear and developer tools are fast. Everyone knows that investing in our direction and our tools will help, but having fun playing this game reinforces that feeling.</p>

<!-- There's a great article about Shenzhen.io that I couldn't quite work in - https://probablydance.com/2016/11/07/lessons-learned-from-shenzhen-io/ -->

<p>The second game is <strong><a href="https://factorio.com/">Factorio</a></strong> which released last Friday, though it has been available as an early access preview for about 4 years now. Those who’ve played it are probably scratching their heads right now - this is a game about building a factory, not coding. You work with conveyor belts, metals, oil products to craft products necessary to make a spacecraft.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/BqaAjgpsoW8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>And yet, this game reminds me of software engineering more than any other. Let me explain why.</p>

<ul>
<li><strong>Technical debt</strong>. Do we hack it for now or do we implement it right? The answer as always - it depends. Hacking it gets us closer to our goals right now but we have to pay off the debt eventually. Novice players (like me!) start out connecting various parts of our base by conveyor belts till our base resembles spaghetti, similar to poorly maintained codebases. Eventually we learn techniques to tame this complexity so our base/codebase becomes easier to reason about.</li>
<li><strong>Don’t Repeat Yourself (DRY)</strong>. One of those techniques is reducing duplication. If you have a component that’s needed in multiple places, do you make it once and use it everywhere or do you copy paste in each place it’s needed? The answer is “it depends”. As an engineer, sometimes you use a library while other times you copy paste. It depends on the complexity of the component - a couple of functions can be copy pasted while something complex probably shouldn’t. So it is in Factorio, a certain component (electronic circuits) was being produced in 4-5 places. I eventually replaced them all with one centralised production array to simplify the factory.</li>
<li><strong>Scaling</strong>. A repeated theme in this game is building a production array and later finding we need 3-5x the throughput. The first few times this happens, it requires redoing from scratch. After we wise up, we start design our arrays with space for scaling up. So it is with software - our systems need to scale to many more users, sometimes without much warning. We design our systems keeping that in mind.</li>
<li><strong>Rebuilding</strong>. When we’re rebuilding a component in a single player game or a personal software project we don’t usually care if the component or the whole system stops working briefly. I was playing multiplayer with friends though, so I tried to make sure components I was working on didn’t break anything else. I created a new oil refinery system, shifted existing customers to the new one before decommissioning the old one. Zero downtime.</li>
<li><strong>Debugging</strong> to find root causes. Our factory is far from perfect, so something is always breaking as we add stuff to it. Finding the root causes of these issues is tricky, especially when fixing those leads to other problems, like playing whack-a-mole. An example from yesterday - We don’t have enough electricity, so we add more boilers, but now the water pipes need fixing. Then the water is fine, but we don’t have enough coal. That mirrors real life</li>
<li><strong>Teamwork</strong>. Most things are possible solo given enough time. But it’s quicker and more fun working with a team you like. We were able to move fast by splitting responsibilities among the team. We have one oil guy (me), one trains guy, one secretary of defense, among other roles. The others don’t care about the internals of the refinery system, just the interface - they use the outputs and let me know if it’s broken. It’s the same on large software projects - everyone can’t learn the intricacies of the whole system. Instead everyone learns the APIs of all components while a few are responsible for the implementation.</li>
<li><strong>Researching</strong>. We spend most of our time exploiting our existing knowledge to keep us in our local maxima of output. However, a smart player dedicates some time to learning new techniques. In our game, coal power wasn’t working out for us and I had dismissed nuclear power as an option because we didn’t have enough uranium ore. I looked into it again when we were desperately short of power and producing too much pollution. Turns out even a little ore is enough to power the base for a 100 hours if we do it right. It’s the same with software - our existing stack probably works well, but it’s smart to see what’s out there and possibly learn from others. New team mates can help here too - everything is new to them so they’re spending more time than you on learning. They can come across stuff that we didn’t know about and use that knowledge to find a higher maxima. A fresh pair of eyes is always good.</li>
<li><strong>Automation</strong>. You can do most things manually, it just takes time. But if you’re doing something repeatedly, it should be automated. The game gently eases you towards this idea by requiring a few items be automated. It gets better later in the game you unlock construction robots. You can tell them the layout of the production array you’ve designed, give them the materials and they will construct it for you. This reminded me of AWS CloudFormation and similar tools - although it’s possible to set up servers by hand, it’s quicker and less error prone to specify the end state and let a tool do it for us. But if you’ve developed software, you know that automation isn’t just a means to an end - it’s an end in and of itself. We do it because it makes us happy, even if we do too much of it and <a href="https://xkcd.com/1319/">forget what we were doing in the first place</a>.</li>
<li><strong>Putting out fires</strong>. Sometimes it’s hard to implement new features because we’re being pulled away to deal with alerts - all too common on software engineering teams. The typical solution is to have one team member deal with alerts while the rest focus on adding features. That’s we did in the game too.</li>
</ul>

<p>But more than any one thing, the game is about managing complexity. Designing a specification and implementing systems that fulfill that specification. Maintaining and growing that system over time.</p>

<p>IMO, playing Factorio will not make you a better software engineer. But if you’re a software engineer, you’ll likely find the game fun. And conversely, if you’re good at the game you should give software engineering a shot.</p>

<p>You can get Factorio at on the <a href="https://factorio.com/">official website</a> or <a href="https://store.steampowered.com/app/427520/Factorio/">Steam</a>. There’s also a <a href="https://factorio.com/download">free demo</a>, in case you’d like to try before you buy. (Just one thing - don’t wait for a sale. This game has never gone on sale and possibly never will.)</p>

<hr>

<p>Thanks to Minesh Patel for reading drafts of this and suggesting improvements.</p>

<p>Check out the comments on <a href="https://news.ycombinator.com/item?id=24181783">Hacker News</a> and <a href="https://blog.nindalf.com/posts/factorio-and-software-engineering/">reddit</a>.</p>

                </section>
            </article>

            

            

            

            

        </section></div>]]>
            </description>
            <link>https://blog.nindalf.com/posts/factorio-and-software-engineering/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24181783</guid>
            <pubDate>Sun, 16 Aug 2020 22:08:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pure Skill Minesweeper]]>
            </title>
            <description>
<![CDATA[
Score 227 | Comments 74 (<a href="https://news.ycombinator.com/item?id=24181772">thread link</a>) | @ColinWright
<br/>
August 16, 2020 | https://github.andrewt.net/mines/ | <a href="https://web.archive.org/web/*/https://github.andrewt.net/mines/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
	
	<p>
		If you're around my age, you'll remember Windows Minesweeper. It was one of several games included with Windows back in the day to try to train users in the use of the then-newfangled â€˜mouseâ€™. It doesnâ€™t come with Windows any more. You can get Minesweeper for Windows 10, but the developers haveâ€¦ made some choices.
	</p>
	<p>
		If you havenâ€™t played it, Minesweeper is a grid of squares, some of which have mines underneath, and your job is to click on all the others. If you click on a mine, you lose. You can also flag squares with the right mouse button to record that you think they are a mine. Your only clue as to where the mines are is that when you click on a square that isnâ€™t a mine, it tells you how many of the eight adjacent squares are mines. If that number is zero, the game automatically clicks on all the adjacent squares for you so you can get a little patch to start from. Hopefully that will include a 1 in a tight corner so thereâ€™s only one place its mine can go, and that will complete a nearby 1 so you can get some more numbers to work from, eventually leading you to complete the game.
	</p>
	<p>
		If youâ€™re not so lucky, you might not get a solvable board. A common situation is that you get down to the last two spaces and you know one of them is a mine but thereâ€™s no wat to predict which one. You have to guess. Heads you win, tails you just wasted 10 minutes carefully clearing the whole board only to be scuppered by a forced guess.
	</p>
	<p>
		<a href="https://www.chiark.greenend.org.uk/~sgtatham/puzzles/js/mines.html">Thereâ€™s a version of Minesweeper that guarantees you never have to guess</a>, which is very nice. It neatly solves the problem of unwinnable games, and while I find that always knowing you can make a deduction can be too big a clue, in regular Minesweeper you could even lose straight off the bat â€” you have to guess the first move and maybe itâ€™ll be a mine. In this case, Windows Minesweeper quietly chooses a different arrangement of mines and pretends like you got lucky after all â€” but it doesnâ€™t do that if youâ€™re stuck at the <em>end</em>.
	</p>
	<p>
		So what if we went further? Below is a version of Minesweeper where you will <em>never</em> be penalised when forced to guess. Any time there simply isnâ€™t enough information to deduce a safe move, weâ€™ll pull Windowsâ€™s trick and quietly rearrange the mines so you donâ€™t get penalised.
	</p>
	<p>
		But since that would on its own make the game too easy, the flip side of this coin is that if you <em>can</em> in theory deduce a safe move but guess anyway, the code will quietly rearrange the mines so that your unnecessary risk backfires and you lose.
	</p>
	<p><label>Width </label>
		<label>Height </label>
		<label>Mines </label>
		
	</p>
	
	<p>
		This game is also rigged to give you a zero on your first click rather than simply a non-mine space. To be honest this is mostly to avoid situations that are computationally difficult â€” this is not what I would call carefully optimised code. If I wanted to expand this I would (eg) make it precalculate things while youâ€™re staring at the screen instead of waiting for you to choose a square and then trying to work out what to do about it.
	</p>
	<p>
		More importantly, I would like to make the game recognise when thereâ€™s a forced guess _coming_ â€” currently if thereâ€™s a 50/50 chance in one corner of the grid that youâ€™re clearly going to have to take eventually, you have to wait until thatâ€™s <em>all</em> there is. If you take the chance when there was a safe space available elsewhere, youâ€™ll always lose.
	</p>
	<p>
		If I was feeling especially mean, I could insist that the player choose the square with the best odds of being safe, rather than simply judging whether or not each square is theoretically knowable. But I think that would be taking things too far.
	</p>
	

</div>]]>
            </description>
            <link>https://github.andrewt.net/mines/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24181772</guid>
            <pubDate>Sun, 16 Aug 2020 22:07:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The neuroscience of getting and staying motivated (EPFL)]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24181164">thread link</a>) | @seesawtron
<br/>
August 16, 2020 | https://actu.epfl.ch/news/the-neuroscience-of-getting-and-staying-motivated/ | <a href="https://web.archive.org/web/*/https://actu.epfl.ch/news/the-neuroscience-of-getting-and-staying-motivated/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p> Neuroscientists at EPFL and the University of Edinburgh have discovered that the degree of motivation and the stamina to keep it up depends on the ratio between the neurotransmitters glutamine and glutamate in the nucleus accumbens of the brain.<br></p><div id="news-content-text" itemprop="description"><p>There is no question that motivation is one of the hardest and yet important factors in life. It’s the difference between success and failure, goal-setting and aimlessness, well-being and unhappiness. And yet, why is it so hard to get motivated – or even if we do, to keep it up?</p><p>That is the question that scientists led by Professor Carmen Sandi at EPFL and Dr Gedi Luksys at the University of Edinburgh have sought to answer. The researchers worked off previous knowledge that told them two things: First, that people differ a lot in their capacity to engage in motivated behavior and that motivational problems like apathy are common in neurodegenerative and psychiatric disorders. Second, to target an area of the brain called the “nucleus accumbens”.</p><p>Sitting close to the bottom of brain, the nucleus accumbens has been the subject of a lot of research. The reason is that it was quickly found to be a major player in functions like aversion, reward, reinforcement, and motivation.</p><p>To test and quantify motivation, the EPFL team designed what is known as a “monetary incentive force task”. The idea is that participants perform a task with increasing – and measurable – effort and get paid sums of money that correspond to their effort. Basically, do more and get paid more.</p><p>In this study, 43 men were scanned to measure–metabolites in the nucleus accumbens in their brains with a sophisticated brain-imaging technique called “proton magnetic resonance spectroscopy”, or <sup>1</sup>H-MRS. This can specifically measure the abundance of neurochemicals in the brain, such as neurotransmitters and metabolites. Because of this <sup>1</sup>H-MRS is used even in clinical settings to determine neurological disorders.</p><p>Subsequently, each participant was asked to squeeze a device that measures force – a dynamometer – to a given level of contraction in order to earn either 0.2, 0.5, or 1 Swiss franc. This procedure was repeated for a number of 120 consecutive trials, which made performance in the task quite demanding.</p><p><iframe allowfullscreen="" frameborder="0" height="360" src="https://www.youtube.com/embed/Du-EkGwPRnA?rel=0" width="640"></iframe></p><p><em>Illustration of the hand-grip force exertion task. In the experiment, participants were first asked to squeeze the grip at their maximal force or capacity. Then, during task performance, in each trial, they had to squeeze it up to a force threshold of 50% of their maximal voluntary contraction and maintained at that force for another 3 seconds in order to earn the particular monetary incentive ascribed to each trial. The task consisted of 80 consecutive trials. Credit: João Rodrigues (EPFL)</em></p><p>The idea of the experiment was that the different sums would push participants to decide if they were going to invest energy and perform the task accordingly at each trial. The scientists also ran the experiment under isolation and group conditions to investigate the influence of competition on performance.</p><p>Once they had gathered the behavioral data, the researchers processed it through a computational model that estimated the most appropriate parameters that should be measured with regard to utility, effort, and performance functions. This allowed them to interrogate whether particular neurotransmitter levels predicted specific motivational functions.</p><p>The analysis revealed that the key to performance – and, by extension, motivation – lies within the ratio of two neurotransmitters in the nucleus accumbens: glutamine and glutamate. Specifically, the ratio of glutamine to glutamate relates to our capacity for maintaining performance over a long period of time – what the researchers term “stamina”.</p><p>Another discovery was that competition seems to boost performance even from the beginning of the task. This was especially the case for individuals with low glutamine-to-glutamate ratios in the nucleus accumbens.</p><p>“The findings provide novel insights in the field of motivation neuroscience,” says Carmen Sandi. “They show that the balance between glutamine and glutamate can help predict specific, computational components of motivated performance. Our approach and data can also help us develop therapeutic strategies, including nutritional interventions, that address deficits in effort engagement by targeting metabolism.”</p><p><em>Professor Carmen Sandi’s lab is part of EPFL’s </em><a href="https://www.epfl.ch/schools/sv/bmi/"><em>Brain Mind Institute</em></a><em>, situated in the </em><a href="https://www.epfl.ch/schools/sv"><em>School of Life Sciences</em></a><em>.</em></p><p><strong>Other contributors</strong></p><ul><li>EPFL Center for Biomedical Imaging</li><li>EPFL Laboratory of Functional and Metabolic Imaging</li><li>ICM Institute for Brain and Spinal Cord</li></ul></div></div>]]>
            </description>
            <link>https://actu.epfl.ch/news/the-neuroscience-of-getting-and-staying-motivated/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24181164</guid>
            <pubDate>Sun, 16 Aug 2020 20:46:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I tried to use WordPress with GitHub Pages]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 103 (<a href="https://news.ycombinator.com/item?id=24181153">thread link</a>) | @mdu96
<br/>
August 16, 2020 | https://www.melissadu.com/i-tried-to-use-wordpress-with-github-pages-and-it-was-a-nightmare/ | <a href="https://web.archive.org/web/*/https://www.melissadu.com/i-tried-to-use-wordpress-with-github-pages-and-it-was-a-nightmare/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><!-- .entry-header --><div><p>Recently I migrated this website over to WordPress.org. I tried to set it up so I could use my WordPress site with Github Pages. This post details the tribulations I faced while doing so. Here are the different sections; feel free to skip around however you like:&nbsp;</p><ol><li><a href="#backstory">The backstory: my previous setup and why I switched</a></li><li><a href="#requirements">Requirements for a new solution</a></li><li><a href="#mistakes">Two big initial mistakes</a></li><li><a href="#warning">A warning (because hindsight is 20/20)</a></li><li><a href="#run-locally">The treacherous journey to run WordPress locally</a></li><li><a href="#annoying-issues">More annoying issues I faced</a></li><li><a href="#is-it-working">Finally, it’s working?</a></li><li><a href="#conclusion">The Conclusion</a></li><li><a href="#postscript">Postscript: I’m never satisfied and here are a few more things about WordPress that I’m annoyed with</a></li></ol><h2 id="backstory"><strong>The backstory: my previous setup and why I switched</strong> to WordPress</h2><p>Prior to WordPress, I had a nice set up with <a href="https://jekyllrb.com/">Jekyll</a> (static site generator) and <a href="https://pages.github.com/">Github/Github Pages</a> (hosting &amp; serving). I liked this old setup because it was simple and free. I also liked Jekyll’s plain, minimal look. Jekyll’s visual style is very barebones and that’s exactly what I wanted.</p><p>My old workflow for editing and publishing posts was simple. I’d open a text editor, write a post in Markdown, and build and run my website locally to test the changes. Next, I’d push the new post to Github, where I’d re-deploy my website with the changes.</p><p>I first started to get annoyed with this setup when I had to re-remind myself how Jekyll glued together and rendered my site each time I wanted to publish a post. I got even more annoyed when I wanted to make changes to the layout. For example, I tried and failed multiple times to add a <code>&lt;meta&gt;</code> tag to the head of my <code>index.html</code> file. This theoretically should have been a very simple change.&nbsp;</p><p>If this happened once or twice, I’d be fine with it. The bigger problem is that the purpose of my website is to encourage me to write more. I started to procrastinate writing because there was always some small thing I wanted to fix with Jekyll first. Then, when I made time to tinker around with Jekyll, I was annoyed that I spent more time doing that than actually writing.</p><h2 id="requirements"><strong>Requirements for a new solution</strong></h2><p>So, I decided to make it was time to change my setup. My new setup had to fulfill just two requirements:</p><ol><li><strong>Easy content management. </strong>I really like the idea of just writing something, editing it, and then hitting a button to publish it once it’s ready. I didn’t like diving into Ruby files just to fix configuration issues, deploy issues, UI issues, etc. (what was happening with Jekyll).&nbsp;</li><li><strong>Be a writing first experience. </strong>I’ve never quite liked writing in text editors. Something about it just doesn’t <em>feel</em> right, though I can’t put my finger on exactly what.&nbsp;</li></ol><p>I decided to go with WordPress because it seemed like it fulfilled both of those requirements really well. Also <a href="https://wordpress.org/">WordPress.org</a> is free, unlike Webflow and Ghost, two alternatives I considered that are both quite pricey ($20/month for Webflow and $29/month for Ghost) and loaded with a bunch of features I don’t need yet.</p><h2 id="mistakes"><strong>Two big initial mistakes</strong></h2><p>As mentioned above, previously I used Github/Github Pages to host and serve my website. Github was free and worked great, so I wanted to rig up my WordPress setup to also use Github and Github Pages.&nbsp;</p><p>The only requirement to use Github Pages is that your site has to be static. Some light Googling showed me that there were a few plugins that converted WordPress site files to static pages. There were even <a href="https://www.hywel.me/static/site/wordpress/2016/07/17/fast-free-static-website-with-wordpress-and-github-pages.html">a few tutorials</a> describing how to do this, so I was confident this would be possible. That was my first big mistake.</p><p>Next, I began figuring out how to get WordPress to run locally. That was my second big mistake. My logic here was simple. Previously with Jekyll, I’d run my website locally, add my changes, and then push the new version of my website to Github to redeploy it. Thus, if I wanted to use WordPress with Github and Github Pages, then I should run my WordPress site locally, add my changes, and then push the new version of the site to Github.&nbsp;</p><p>While this logic wasn’t bad, I really should have tested the core assumption that it relied on first (the fact that the WordPress site <em>could</em> be converted into a static website). Or I should have done a bit more research than just some “light Googling” before venturing into a solution and stubbornly refusing to give up.&nbsp;</p><h2 id="warning"><strong>A warning (because hindsight is 20/20)</strong></h2><p>Here’s what I know now: running WordPress locally is a nightmare. Successfully figuring it out was way harder than it should have been. If you’re trying to do this yourself, don’t. You most likely don’t need to, and there’s probably another solution you can use to get to what you want.&nbsp;</p><p>(I should also caveat that I know almost nothing about Apache, MySQL, FTP, and PHP. If you’re familiar with them, then you might not have the same issues. However, I really don’t think I should have needed to learn about all of those technologies just to set up WordPress locally.)</p><h2 id="run-locally"><strong>The treacherous journey to run WordPress locally</strong></h2><p>First, I downloaded WordPress.org and installed it locally. The <a href="https://wordpress.org/support/article/installing-wordpress-on-your-own-computer/">official WordPress installation page</a> implied that I also needed some combination of Apache, MySQL, and PHP. A few of the links on that page were broken, a red flag that I promptly ignored.&nbsp;</p><p>I read a few other tutorials and subsequently downloaded and installed <a href="https://sourceforge.net/projects/xampp/files/">XAMPP</a>, making sure to include Apache, MySQL, PHP, and phpMyAdmin in the installation. I opened up XAMPP and pressed the “Start Application” button. That took me to an error page.</p><p>I clicked through some XAMPP tabs and pressed a few more buttons that started Apache, MySQL, and ProFTD. Now pressing “Start Application” took me to an XAMPP page. This seemed promising, but I still got an error page when trying to access my WordPress site which should have been running locally.</p><p>I bopped around a bit more and figured out that I had to enable local forwarding in XAMPP on an available port. I roll my eyes and question why XAMPP is so difficult to use.</p><p>Now that I could <em>see</em> my WordPress site locally, I still couldn’t do anything (e.g. create post). I learned that I needed to create a database locally via phpMyAdmin. Again, this is something that should have been easy, but the interface SUCKED. I had such difficulty performing such a simple action. I mean…just look at it:&nbsp;</p><figure><img width="1024" height="544" src="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-1024x544.png" alt="phpMyAdmin home screen" srcset="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-1024x544.png 1024w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-300x159.png 300w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-768x408.png 768w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-1536x817.png 1536w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-2048x1089.png 2048w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-600x319.png 600w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-1024x544.png" data-srcset="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-1024x544.png 1024w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-300x159.png 300w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-768x408.png 768w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-1536x817.png 1536w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-2048x1089.png 2048w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.01.03-PM-600x319.png 600w"><figcaption><em>phpMyAdmin home screen</em></figcaption></figure><figure><img width="1022" height="486" src="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM.png" alt="bad database creation UI" srcset="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM.png 1022w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM-300x143.png 300w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM-768x365.png 768w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM-600x285.png 600w" sizes="(max-width: 1022px) 100vw, 1022px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM.png" data-srcset="https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM.png 1022w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM-300x143.png 300w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM-768x365.png 768w, https://www.melissadu.com/wp-content/uploads/2020/08/Screen-Shot-2020-08-15-at-10.02.19-PM-600x285.png 600w"><figcaption><em>phpMyAdmin “Create Database” page</em></figcaption></figure><p>Looking at these screenshots now makes me annoyed all over again.</p><h2 id="annoying-issues"><strong>More annoying issues I faced</strong></h2><p>I then ran into some issues that took me a long time to figure out. Surprisingly, there was not a lot of advice out there on good solutions. I spent more time than I’d like to admit on WordPress support forums and arcane blogs. I’ll include the two most annoying issues here for posterity and in the event that another poor soul is also sifting through Google searching for a solution.&nbsp;</p><p><strong><em>Annoying error #1: “to perform the requested action WordPress needs to access your web server”</em></strong></p><p>To fix this, add <code>define( 'FS_METHOD', 'direct' );</code> to your <code>wp-config.php</code> file.</p><p><strong><em>Annoying error #2: fix the file and folder permissions error in WordPress / “installation failed could not create directory”</em></strong></p><p>To fix this, you need to give XAMPP write access to the local directory you have WordPress set up in. I spent awhile messing around with quite a few config files (like .htaccess) and FTP permission codes to no avail. The solution was ultimately simple: right-click on your local WordPress directory, click “Get Info”, scroll to “Sharing &amp; Permissions”, and change the permissions on your directory to “Read and Write (anyone)”.</p><h2 id="is-it-working"><strong>Finally, it’s working?</strong></h2><p>At long last, all of this is finally working and I now have WordPress running locally.&nbsp;</p><p>Anyways, the next step is to install a plugin to convert my site into a bunch of static pages. I go with <a href="https://www.simplystatic.co/">SimplyStatic</a>, the most popular and highly recommended plugin to do this.</p><p>I immediately run into quite a few errors with SimplyStatic. After progressively resolving each one, I ultimately run into one I can’t fix. I search some more and realize that it’s because SimplyStatic was only compatible with an earlier version of WordPress than the one I was running. I dig further and realize that the plugin hasn’t been updated for over two years. And there don’t seem to be <em>any</em> currently updated plugins that do this conversion. Epic FAIL.&nbsp;</p><p>I didn’t want to sink in even more time to learn how to convert the WordPress PHP files into static pages. I decided to cut my losses right there and abandon ship.&nbsp;</p><h2 id="conclusion"><strong>The Conclusion</strong></h2><p><strong><span>TL;DR? Don’t try to run WordPress locally, and don’t try to use WordPress with Github Pages to host and serve it. It won’t work.</span></strong></p><p>I ultimately ended up going with <a href="http://siteground.com/">Siteground</a> for managed hosting. Siteground’s interface is awful, but after poking around a bit I got most of it set up. I had a few minor configuration issues when enabling HTTPS and spent ~30 minutes chatting with a customer support agent, who was actually quite helpful.&nbsp;</p><h2 id="postscript"><strong>Postscript: I’m never satisfied and here are a few more things about WordPress that I’m annoyed with</strong></h2><ol><li>Unless you want your WordPress site to look bad or just like everyone else’s, you’ll probably want to customize an existing theme to your own liking. <strong>To do this, you’ll still need to hack around with code<em> </em></strong><em>(in this case, a combination of HTML, CSS and PHP)</em>. Theoretically, you could probably install a plugin to help you do this, but that’d probably slow down your site and further obscure how things actually work.&nbsp;</li><li>Getting used to WordPress itself was a bit of a curve. The main dashboard, for instance, is completely useless to me. I’ve just been ignoring all parts of the interface I don’t need, which thus far has been working pretty well.&nbsp;</li></ol><hr><p>If you liked this post, add your email address below to stay updated whenever there’s a new one.  Or you can <a href="https://www.twitter.com/melissadooo">follow me on Twitter</a>. I like talking to people there.</p></div><!-- .entry-content --></article></div>]]>
            </description>
            <link>https://www.melissadu.com/i-tried-to-use-wordpress-with-github-pages-and-it-was-a-nightmare/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24181153</guid>
            <pubDate>Sun, 16 Aug 2020 20:45:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WebAssembly without the browser]]>
            </title>
            <description>
<![CDATA[
Score 122 | Comments 51 (<a href="https://news.ycombinator.com/item?id=24180303">thread link</a>) | @pacificat0r
<br/>
August 16, 2020 | https://alexene.dev/2020/08/17/webassembly-without-the-browser-part-1.html | <a href="https://web.archive.org/web/*/https://alexene.dev/2020/08/17/webassembly-without-the-browser-part-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        

<article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Most WebAssembly tutorials and examples you will find online focus on using it inside the browser in order to accelerate various functionality of a website or web app.<br>
However, there is an area where WebAssembly is really powerful but not talked too much about: outside the browser usage scenarios. That is what we’ll focus on in this series of posts.</p>

<h2 id="what-is-webassembly">What is WebAssembly?</h2>
<p>Web people are on a roll of giving bad names to things (web-gpu is another example).<br>
WebAssembly is neither web or assembly, but a bytecode that can be targeted from languages like C++, C#, Rust and others. This means you can write some Rust code, compile it into WebAssembly and run that code in a WebAssembly virtual machine.</p>

<p>This is powerful because you won’t have to deal with garbage collected scripted languages anymore, and essentially use Rust or C++ as your <em>scripting language</em>.  WebAssembly enables predictable and stable performance because it doesn’t require garbage collection like the usual options (LUA/JavaScript).</p>

<p>It’s a relatively new product and there are a lot of rough edges, especially for out-of-browser scenarios. One of the roughest ones in my experience has been documentation for out-of-browser scenarios and this is the reason for my blog posts, to document my findings and hopefully help some people that may be interested in this subject.</p>

<h2 id="why-would-we-want-to-run-webassembly-outside-of-a-browser">Why would we want to run WebAssembly outside of a browser?</h2>
<p>For out of browser scenarios, one of its main advantage is that it provides system level access without compromising on security. This is done through WASI, the Web Assembly System Interface. <a href="https://wasi.dev/">WASI</a> is a collection of C-like functions that provide access to functionality such as <code>fd_read</code>, <code>rand</code>, <code>fd_write</code>, threads (WIP), in a safe way.</p>

<p>Here are a few scenarios where you would be able to use web-assembly outside of a browser:</p>
<ul>
  <li>A scripting language for a video game.</li>
  <li>To run some code with minimal overhead as Fastly/Cloudflare are doing with their compute-at-edge scenarios.</li>
  <li>To run some easy to update code on IoT devices safely and with minimal runtime overhead.</li>
  <li>Extreamly fast programs in environments where you can’t JIT for <em>reasons</em>.</li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>
<p>For the best experience in this adventure, I suggest using <a href="https://code.visualstudio.com/">Visual Studio Code</a> as your IDE and install the following extensions:</p>
<ul>
  <li><code>rust-analyzer</code>: for autocomplete and other great features.</li>
  <li><code>Code-LLDB</code>: For debugging with LLDB (even works on Windows)</li>
  <li><code>WebAssembly by the WebAssembly foundation</code>: Allows you to disassemble and inspect <code>.wasm</code> binaries.</li>
</ul>


<p>First you need a Virtual Machine (VM) that can run your WebAssembly program. This VM needs to be embeddable, so you can add it in your game engine, or what we will call from now on <strong>host program</strong>. There are a few to pick from: <a href="https://github.com/wasm3/wasm3">WASM3</a>, <a href="https://github.com/bytecodealliance/wasmtime">Wasmtime</a>, <a href="https://github.com/bytecodealliance/wasm-micro-runtime">WAMR</a>, and many others. They have various characteristics, such as supporting JIT, using as little memory as possible and so on and you have to choose one one that fits your target platform and scenario.</p>

<p>It doesn’t matter too much what VM you’re choosing besides runtime properties, with the exception of debugging. The only VM that allows for a seamless debugging experience that I’ve found is Wasmtime (this is another one of those rough edges). So even if you don’t plan on deploying that anywhere due to other constraints, I suggest using it as the <strong>debug VM</strong>. Whenever you’d want to debug some WASM code you can launch it with Wasmtime.</p>



<p>First, we need to create a new <code>lib</code> project:</p>
<div><div><pre><code>cargo new <span>--lib</span> wasm_example
</code></pre></div></div>

<p>In <code>Cargo.toml</code> add the following:</p>

<div><div><pre><code>[lib]
crate-type = ["cdylib"]
</code></pre></div></div>

<p>Now we can edit <code>lib.rs</code> and export the following <code>C</code> FFI compatible function from it:</p>

<div><div><pre><code><span>#[no_mangle]</span>
<span>extern</span> <span>"C"</span> <span>fn</span> <span>sum</span><span>(</span><span>a</span><span>:</span> <span>i32</span><span>,</span> <span>b</span><span>:</span> <span>i32</span><span>)</span> <span>-&gt;</span> <span>i32</span> <span>{</span>
    <span>let</span> <span>s</span> <span>=</span> <span>a</span> <span>+</span> <span>b</span><span>;</span>
    <span>println!</span><span>(</span><span>"From WASM: Sum is: {:?}"</span><span>,</span> <span>s</span><span>);</span>
    <span>s</span>
<span>}</span>
</code></pre></div></div>

<p>This a function that takes two numbers, adds them, then prints the result before returning their sum.<br>
WebAssembly doesn’t define a default function that’s executed after a module is loaded, so in the host program you need to get a function by it’s signature, and run it (quite similar to how <code>dlopen</code>/<code>dlsym</code> works).</p>

<p>We expose this <code>sum</code> function (and any other functions we want to call from the host VM) as a function that’s callable from <code>C</code>, using <code>[#no_mangle]</code> and <code>pub extern "C"</code>. If you’re coming here from some WASM for the browser tutorials, you may notice we don’t need to use <code>wasm-bindgen</code> at all.</p>

<h2 id="how-do-we-compile-it">How do we compile it?</h2>
<p>Rust supports two targets for WebAssembly: <code>wasm32-unknown-unknown</code> and <code>wasm32-wasi</code>. The first one is bare-bones WebAssembly. Think of it like the <code>[#no-std]</code> of WebAssembly. It’s the kind you’d use for the browser that doesn’t assume any system functions are available.</p>

<p>At the other end, <code>wasm32-wasi</code> assumes that the VM exposes the <code>WASI</code> functionality, allowing a different implementation of the standard library to be used (the implementation that depends on the WASI functions to be available).</p>

<p>You can take a look at the available implementations for the Rust’s stdlib here: <a href="https://github.com/rust-lang/rust/tree/master/library/std/src/sys">https://github.com/rust-lang/rust/tree/master/library/std/src/sys</a>  <br>
This is the implementation that assumes WASI functions are available to the rust program when running in a WebAssembly VM: <a href="https://github.com/rust-lang/rust/tree/master/library/std/src/sys/wasi">https://github.com/rust-lang/rust/tree/master/library/std/src/sys/wasi</a>.</p>

<p>To comile for wasm32-wasi run:</p>
<div><div><pre><code><span># Run this just once</span>
rustup target add wasm32-wasi

<span># Compile for the wasm32-wasi target.</span>
cargo build <span>--target</span> wasm32-wasi
</code></pre></div></div>

<h2 id="but-how-does-println-work">But how does <code>println!()</code> work?</h2>
<p>You may have noticed that we’re calling <code>println!()</code> and expecting the program to work and print to the console, but how does a WebAssembly program knows how to do that?</p>

<p>This is why we’re using <code>wasm32-wasi</code>. This target selects for the rust stdlib the version that assumes some functionality to be there (the <code>WASI</code> functions). Printing to the console means just writing to a special file descriptor. Most VMs allow that by default so we don’t need to do any special settings, besides compiling the correct <code>wasm32-wasi</code> target.</p>

<p>If you have installed the required extensions for vscode, you can now right click on <code>target/wasm32-wasi/debug/wasm_example.wasm</code> and select <code>Show WebAssembly</code> and you should have a new file open in vscode that looks like this:</p>

<div><div><pre><code><span>(</span><span>module</span><span>
  </span><span>....</span><span>
  </span><span>(</span><span>type</span><span> </span><span>$</span><span>t15</span><span> </span><span>(</span><span>func</span><span> </span><span>(</span><span>param</span><span> </span><span>i64</span><span> </span><span>i32</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>result</span><span> </span><span>i32</span><span>)))</span><span>
  </span><span>(</span><span>import</span><span> </span><span>"wasi_snapshot_preview1"</span><span> </span><span>"fd_write"</span><span> </span><span>(</span><span>func</span><span> </span><span>$</span><span>_</span><span>ZN4wasi13lib_generated22wasi_snapshot_preview18fd_write17h6ec13d25aa9fb6acE</span><span> </span><span>(</span><span>type</span><span> </span><span>$</span><span>t8</span><span>)))</span><span>
  </span><span>(</span><span>import</span><span> </span><span>"wasi_snapshot_preview1"</span><span> </span><span>"proc_exit"</span><span> </span><span>(</span><span>func</span><span> </span><span>$</span><span>__</span><span>wasi_proc_exit</span><span> </span><span>(</span><span>type</span><span> </span><span>$</span><span>t0</span><span>)))</span><span>
  </span><span>(</span><span>import</span><span> </span><span>"wasi_snapshot_preview1"</span><span> </span><span>"environ_sizes_get"</span><span> </span><span>(</span><span>func</span><span> </span><span>$</span><span>__</span><span>wasi_environ_sizes_get</span><span> </span><span>(</span><span>type</span><span> </span><span>$</span><span>t2</span><span>)))</span><span>
  </span><span>(</span><span>import</span><span> </span><span>"wasi_snapshot_preview1"</span><span> </span><span>"environ_get"</span><span> </span><span>(</span><span>func</span><span> </span><span>$</span><span>__</span><span>wasi_environ_get</span><span> </span><span>(</span><span>type</span><span> </span><span>$</span><span>t2</span><span>)))</span><span>
  </span><span>(</span><span>func</span><span> </span><span>$</span><span>_</span><span>ZN4core3fmt9Arguments6new_v117hb11611244be67330E</span><span> </span><span>(</span><span>type</span><span> </span><span>$</span><span>t9</span><span>)</span><span> </span><span>(</span><span>param</span><span> </span><span>$</span><span>p0</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>param</span><span> </span><span>$</span><span>p1</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>param</span><span> </span><span>$</span><span>p2</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>param</span><span> </span><span>$</span><span>p3</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>param</span><span> </span><span>$</span><span>p4</span><span> </span><span>i32</span><span>)</span><span>
    </span><span>(</span><span>local</span><span> </span><span>$</span><span>l5</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>local</span><span> </span><span>$</span><span>l6</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>local</span><span> </span><span>$</span><span>l7</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>local</span><span> </span><span>$</span><span>l8</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>local</span><span> </span><span>$</span><span>l9</span><span> </span><span>i32</span><span>)</span><span> </span><span>(</span><span>local</span><span> </span><span>$</span><span>l10</span><span> </span><span>i32</span><span>)</span><span>
    </span><span>global.get</span><span> </span><span>$</span><span>g0</span><span>
    </span><span>local.set</span><span> </span><span>$</span><span>l5</span><span>
  </span><span>...</span><span>
</span></code></pre></div></div>

<p>This is a <code>wat</code> file. <code>wat</code> stands for WebAssembly text format. It’s kind of like looking at x64/ARM ASM instructions when disassembling a binary, just uglier and harder to understand. I have read that this was because the creators of WebAssembly couldn’t decide on a text format so they just left it in this ugly s-expression form.</p>

<p>The import statements here tell us that the WASM program needs the following functions <code>proc_exit</code>, <code>fd_write</code>, <code>environ_get</code>, <code>environ_sizes_get</code> to exist in the <code>wasi_snapshot_preview1</code> namespace.<br>
All imported or exported functions from a WebAssembly module require a namespace. <code>wasi_snapshot_preview1</code> is the WASI namespace so you can think of it as a reserved namespace for these functions. <code>println!</code> needs <code>wasi_snapshot_preview1::fd_write</code> to write to stdout.</p>

<h2 id="the-host-program">The host program</h2>
<p>You can pick any VM that has WASI available. I will use Wasmtime because later on I want to show you how to debug WebAssembly and this VM is the only one where debugging works at the moment.</p>

<p>The program loads the wasm binary file from the path: <code>examples/wasm_example.wasm</code>.<br>
This is the file you have previously compiled that you can find in <code>wasm_example/target/wasm32-wasi/debug/wasm_example.wasm</code>. <strong>Make sure you move it in the right place before running the host program.</strong></p>

<p>Here is the full listing of the host VM rust program that initializes the Wasmtime VM, loads the module, links against WASI and loads and executes the exported <code>sum</code> function from the WASM module:</p>

<div><div><pre><code><span>use</span> <span>std</span><span>::</span><span>error</span><span>::</span><span>Error</span><span>;</span>
<span>use</span> <span>wasmtime</span><span>::</span><span>*</span><span>;</span>
<span>use</span> <span>wasmtime_wasi</span><span>::{</span><span>Wasi</span><span>,</span> <span>WasiCtx</span><span>};</span>

<span>fn</span> <span>main</span><span>()</span> <span>-&gt;</span> <span>Result</span><span>&lt;</span><span>(),</span> <span>Box</span><span>&lt;</span><span>dyn</span> <span>Error</span><span>&gt;&gt;</span> <span>{</span>
    <span>// A `Store` is a sort of "global object" in a sense, but for now it suffices</span>
    <span>// to say that it's generally passed to most constructors.</span>
    <span>// let store = Store::default();</span>
    <span>let</span> <span>engine</span> <span>=</span> <span>Engine</span><span>::</span><span>new</span><span>(</span><span>Config</span><span>::</span><span>new</span><span>()</span><span>.debug_info</span><span>(</span><span>true</span><span>));</span>
    <span>let</span> <span>store</span> <span>=</span> <span>Store</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>engine</span><span>);</span>

    <span>// We start off by creating a `Module` which represents a compiled form</span>
    <span>// of our input wasm module. In this case it'll be JIT-compiled after</span>
    <span>// we parse the text format.</span>
    <span>let</span> <span>module</span> <span>=</span> <span>Module</span><span>::</span><span>from_file</span><span>(</span><span>&amp;</span><span>engine</span><span>,</span> <span>"examples/wasm_example.wasm"</span><span>)</span><span>?</span><span>;</span>

    <span>// Link the WASI module to our VM. Wasmtime allows us to decide if WASI is present.</span>
    <span>// So we need to load it here, as our module rquires certain functions to be present from the</span>
    <span>// wasi_snapshot_preview1 namespace as seen above.</span>
    <span>// This makes println!() from our WASM program to work. (it uses fd_write).</span>
    <span>let</span> <span>wasi</span> <span>=</span> <span>Wasi</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>store</span><span>,</span> <span>WasiCtx</span><span>::</span><span>new</span><span>(</span><span>std</span><span>::</span><span>env</span><span>::</span><span>args</span><span>())</span><span>?</span><span>);</span>
    <span>let</span> <span>mut</span> <span>imports</span> <span>=</span> <span>Vec</span><span>::</span><span>new</span><span>();</span>
    <span>for</span> <span>import</span> <span>in</span> <span>module</span><span>.imports</span><span>()</span> <span>{</span>
        <span>if</span> <span>import</span><span>.module</span><span>()</span> <span>==</span> <span>"wasi_snapshot_preview1"</span> <span>{</span>
            <span>if</span> <span>let</span> <span>Some</span><span>(</span><span>export</span><span>)</span> <span>=</span> <span>wasi</span><span>.get_export</span><span>(</span><span>import</span><span>.name</span><span>())</span> <span>{</span>
                <span>imports</span><span>.push</span><span>(</span><span>Extern</span><span>::</span><span>from</span><span>(</span><span>export</span><span>.clone</span><span>()));</span>
                <span>continue</span><span>;</span>
            <span>}</span>
        <span>}</span>
        <span>panic!</span><span>(</span>
            <span>"couldn't find import for `{}::{}`"</span><span>,</span>
            <span>import</span><span>.module</span><span>(),</span>
            <span>import</span><span>.name</span><span>()</span>
        <span>);</span>
    <span>}</span>
    <span>// After we have a compiled `Module` we can then instantiate it, creating</span>
    <span>// an `Instance` …</span></code></pre></div></div></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://alexene.dev/2020/08/17/webassembly-without-the-browser-part-1.html">https://alexene.dev/2020/08/17/webassembly-without-the-browser-part-1.html</a></em></p>]]>
            </description>
            <link>https://alexene.dev/2020/08/17/webassembly-without-the-browser-part-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24180303</guid>
            <pubDate>Sun, 16 Aug 2020 19:08:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Matrix Calculus for Deep Learning]]>
            </title>
            <description>
<![CDATA[
Score 45 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24180065">thread link</a>) | @tosh
<br/>
August 16, 2020 | https://explained.ai/matrix-calculus/ | <a href="https://web.archive.org/web/*/https://explained.ai/matrix-calculus/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">




<p><a href="http://parrt.cs.usfca.edu/">Terence Parr</a> and <a href="http://www.fast.ai/about/#jeremy">Jeremy Howard</a></p>



<p>(We teach in University of San Francisco's <a href="https://www.usfca.edu/arts-sciences/graduate-programs/data-science">MS in Data Science program</a> and have other nefarious projects underway. You might know Terence as the creator of the <a href="http://www.antlr.org/">ANTLR parser generator</a>. For more material, see Jeremy's <a href="http://course.fast.ai/">fast.ai courses</a> and University of San Francisco's Data Institute <a href="https://www.usfca.edu/data-institute/certificates/deep-learning-part-one">in-person version of the deep learning course</a>.)</p>

<p><a href="https://arxiv.org/abs/1802.01528" onclick="gtag('event', 'download', {
  'video_title': 'PDF version',
  'non_interaction': true
});">Printable version</a> (This HTML was generated from markup using <a href="https://github.com/parrt/bookish" onclick="gtag('event', 'bookish', {
  'video_title': 'bookish',
  'non_interaction': true
});">bookish</a>)</p>



<p><b>Abstract</b></p>
<p>This paper is an attempt to explain all the matrix calculus you need in order to understand the training of deep neural networks. We assume no math knowledge beyond what you learned in calculus 1, and provide links to help you refresh the necessary math where needed. Note that you do <b>not</b> need to understand this material before you start learning to train and use deep learning in practice; rather, this material is for those who are already familiar with the basics of neural networks, and wish to deepen their understanding of the underlying math. Don't worry if you get stuck at some point along the way---just go back and reread the previous section, and try writing down and working through some examples. And if you're still stuck, we're happy to answer your questions in the <a href="http://forums.fast.ai/c/theory">Theory category at forums.fast.ai</a>. <b>Note</b>: There is a <a href="#reference">reference section</a> at the end of the paper summarizing all the key matrix calculus rules and terminology discussed here.</p>






<h2 id="intro">Introduction </h2>


<p>Most of us last saw calculus in school, but derivatives are a critical part of machine learning, particularly deep neural networks, which are trained by optimizing a loss function. Pick up a machine learning paper or the documentation of a library such as <a href="http://pytorch.org/">PyTorch</a> and calculus comes screeching back into your life like distant relatives around the holidays.  And it's not just any old scalar calculus that pops up---you need differential <i>matrix calculus</i>, the shotgun wedding of <a href="https://en.wikipedia.org/wiki/Linear_algebra">linear algebra</a> and <a href="https://en.wikipedia.org/wiki/Multivariable_calculus">multivariate calculus</a>. </p>

<p>Well... maybe <i>need</i> isn't the right word; Jeremy's courses show how to become a world-class deep learning practitioner with only a minimal level of scalar calculus, thanks to leveraging the automatic differentiation built in to modern deep learning libraries. But if you really want to really understand what's going on under the hood of these libraries, and grok academic papers discussing the latest advances in model training techniques, you'll need to understand certain bits of the field of matrix calculus.</p>

<p>For example, the activation of a single computation unit in a neural network is typically calculated using the dot product (from linear algebra) of an edge weight vector <span>w</span> with an input vector <span>x</span> plus a scalar bias (threshold): <img src="https://explained.ai/matrix-calculus/images/eqn-EEDCFA4252D0992243A283CE0EB777A6-depth003.31.svg">. Function <img src="https://explained.ai/matrix-calculus/images/eqn-C599D931407509E0FA08F8686B205B6D-depth003.25.svg"> is called the unit's <i>affine function</i> and is followed by a <a href="https://goo.gl/7BXceK">rectified linear unit</a>, which clips negative values to zero: <img src="https://explained.ai/matrix-calculus/images/eqn-66258AA93A4746DA10D306190271DE4B-depth003.25.svg">. Such a computational unit is sometimes referred to as an “artificial neuron” and looks like:</p>

<center>
<p><img src="https://explained.ai/matrix-calculus/images/neuron.png" alt="neuron.png" width="250"></p>
</center>

<p>Neural networks consist of many of these units, organized into multiple collections of neurons called <i>layers</i>. The activation of one layer's units become the input to the next layer's units. The activation of the unit or units in the final layer is called the network output.</p>

<p><i>Training</i> this neuron means choosing weights <span>w</span> and bias <span>b</span> so that we get the desired output for all <span>N</span> inputs <span>x</span>.  To do that, we minimize a <i>loss function</i> that compares the network's final <img src="https://explained.ai/matrix-calculus/images/eqn-7971D42A6C6C6A28D6443F0645E4A036-depth003.25.svg"> with the <img src="https://explained.ai/matrix-calculus/images/eqn-E146B831A1E53B95E4C63775285D62CF-depth003.25.svg"> (desired output of <span>x</span>) for all input <span>x</span> vectors. To minimize the loss, we use some variation on gradient descent, such as plain <a href="https://en.wikipedia.org/wiki/Stochastic_gradient_descent">stochastic gradient descent</a> (SGD), SGD with momentum, or <a href="https://en.wikipedia.org/wiki/Stochastic_gradient_descent#Adam">Adam</a>.   All of those require the partial derivative (the gradient) of <img src="https://explained.ai/matrix-calculus/images/eqn-7971D42A6C6C6A28D6443F0645E4A036-depth003.25.svg"> with respect to the model parameters <span>w</span> and <span>b</span>. Our goal is to gradually tweak <span>w</span> and <span>b</span> so that the overall loss function keeps getting smaller across all <span>x</span> inputs.</p>

<p>If we're careful, we can derive the gradient by differentiating the scalar version of a common loss function (mean squared error):</p>
<p><img src="https://explained.ai/matrix-calculus/images/blkeqn-A129949CD1EF7BE2CA8BD424D34F9930.svg" alt=""></p>

<p>But this is just one neuron, and neural networks must train the weights and biases of all neurons in all layers simultaneously.  Because there are multiple inputs and (potentially) multiple network outputs, we really need general rules for the derivative of a function with respect to a vector and even rules for the derivative of a vector-valued function with respect to a vector.</p>

<p>This article walks through the derivation of some important rules for computing partial derivatives with respect to vectors, particularly those useful for training neural networks. This field is known as <i>matrix calculus</i>, and the good news is, we only need a small subset of that field, which we introduce here.  While there is a lot of online material on multivariate calculus and linear algebra, they are typically taught as two separate undergraduate courses so most material treats them in isolation.  The pages that do discuss matrix calculus often are really just lists of rules with minimal explanation or are just pieces of the story. They also tend to be quite obscure to all but a narrow audience of mathematicians, thanks to their use of dense notation and minimal discussion of foundational concepts. (See the annotated list of resources at the end.)</p>

<p>In contrast, we're going to rederive and rediscover some key matrix calculus rules in an effort to explain them. It turns out that matrix calculus is really not that hard! There aren't dozens of new rules to learn; just a couple of key concepts.  Our hope is that this short paper will get you started quickly in the world of matrix calculus as it relates to training neural networks. We're assuming you're already familiar with the basics of neural network architecture and training. If you're not, head over to <a href="http://course.fast.ai/">Jeremy's course</a> and complete part 1 of that, then we'll see you back here when you're done. (Note that, unlike many more academic approaches, we strongly suggest <i>first</i> learning to train and use neural networks in practice and <i>then</i> study the underlying math. The math will be much more understandable with the context in place; besides, it's not necessary to grok all this calculus to become an effective practitioner.)</p>

<p><i>A note on notation</i>: Jeremy's course exclusively uses code, instead of math notation, to explain concepts since unfamiliar functions in code are easy to search for and experiment with. In this paper, we do the opposite: there is a lot of math notation because one of the goals of this paper is to help you understand the notation that you'll see in deep learning papers and books. At the <a href="#notation">end of the paper</a>, you'll find a brief table of the notation used, including a word or phrase you can use to search for more details.</p>


<h2 id="sec2">Review: Scalar derivative rules</h2>


<p>Hopefully you remember some of these main scalar derivative rules. If your memory is a bit fuzzy on this, have a look at <a href="https://www.khanacademy.org/math/ap-calculus-ab/ab-derivative-rules">Khan academy vid on scalar derivative rules</a>.</p>
<center>
<table>
<thead>
	<tr>
		<th>Rule</th><th><img src="https://explained.ai/matrix-calculus/images/eqn-50BBD36E1FD2333108437A2CA378BE62-depth003.25.svg"></th><th>Scalar derivative notation with respect to <span>x</span></th><th>Example</th>
	</tr>
</thead>
<tbody>
	<tr>
		<td><b>Constant</b></td><td><span>c</span></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-CFCD208495D565EF66E7DFF9F98764DA-depth000.20.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-64F478FC4F8CA7284B3A00A378371DD9-depth004.58.svg"></td>
	</tr>
	<tr>
		<td><b>Multiplication by constant</b></td><td><span>cf</span></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-6F4437952F8A3645EDFDBA34800939C7-depth004.58.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-E6BBA7095B8356839BB31CBAA81BEB2D-depth004.58.svg"></td>
	</tr>
	<tr>
		<td><b>Power Rule</b></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-B41952E9DFED8E1ED562FDDAFECA7C70-depth000.14.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-778B829130B1FD49AB222C57E43AA511-depth000.14.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-0E35EE43AF43B99B9DEC113EF495C9B1-depth004.58.svg"></td>
	</tr>
	<tr>
		<td><b>Sum Rule</b></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-F90CB0F11C73CF039948C790CB958167-depth002.72.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-272CCFD170B42C2D5FC34B8F6B59B919-depth004.58.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-30CBA4C53B1DA339D30A685E5F750181-depth004.58.svg"></td>
	</tr>
	<tr>
		<td><b>Difference Rule</b></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-6BF1771953527A02849B0FD62C669A81-depth002.72.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-94A32391D8AF942F5DD6DF56F3A6B9D7-depth004.58.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-A5BC3AF74DAB50898B00534C3A67F8E7-depth004.58.svg"></td>
	</tr>
	<tr>
		<td><b>Product Rule</b></td><td><span>fg</span></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-BEE9614EE8574DD7D3739CB7B896CF87-depth004.58.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-80B75BFF0AE78CDC1377C9DA385E5733-depth004.58.svg"></td>
	</tr>
	<tr>
		<td><b>Chain Rule</b></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-8BC3A7E80988236E8F017205F413461C-depth003.25.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-8FF3736047AA480DA61894A92CA055ED-depth004.58.svg">,  let <img src="https://explained.ai/matrix-calculus/images/eqn-F1EA68A4A1E70E96ADA7592EF8752C30-depth003.25.svg"></td><td><img src="https://explained.ai/matrix-calculus/images/eqn-951A8B94D11F280E3A440D55B3D520D3-depth004.61.svg"></td>
	</tr>
</tbody>
</table>
</center>

<p>There are other rules for trigonometry, exponentials, etc., which you can find at <a href="https://www.khanacademy.org/math/differential-calculus">Khan Academy differential calculus course</a>.</p>

<p>When a function has a single parameter, <img src="https://explained.ai/matrix-calculus/images/eqn-50BBD36E1FD2333108437A2CA378BE62-depth003.25.svg">, you'll often see <img src="https://explained.ai/matrix-calculus/images/eqn-6BDA8AF54C40BC23ED858E9E9F5C11D2-depth002.72.svg"> and <img src="https://explained.ai/matrix-calculus/images/eqn-74CAF4D1EC90D3A36EA7C7BBFE65B516-depth003.25.svg"> used as shorthands for <img src="https://explained.ai/matrix-calculus/images/eqn-5BA9D16419154B1BDBECA39D99E8E809-depth004.58.svg">. We recommend against this notation as it does not make clear the variable we're taking the derivative with respect to. </p>

<p>You can think of <img src="https://explained.ai/matrix-calculus/images/eqn-624FEBB9A49A3FC96353C861D175C806-depth004.58.svg"> as an operator that maps a function of one parameter to another function.  That means that <img src="https://explained.ai/matrix-calculus/images/eqn-EC0CEC5F9488EC510F8D688E7003222D-depth004.58.svg"> maps <img src="https://explained.ai/matrix-calculus/images/eqn-50BBD36E1FD2333108437A2CA378BE62-depth003.25.svg"> to its derivative with respect to <span>x</span>, which is the same thing as <img src="https://explained.ai/matrix-calculus/images/eqn-07A5EA519C4CEA1A3539E3A7FC289163-depth004.58.svg">. Also, if <img src="https://explained.ai/matrix-calculus/images/eqn-FD91C508F91C2C84498680BD337C1D7A-depth003.25.svg">, then <img src="https://explained.ai/matrix-calculus/images/eqn-B1ED3CF9BA4D6F25A5A4F481C45EC658-depth004.58.svg">. Thinking of the derivative as an operator helps to simplify complicated derivatives because the operator is distributive and lets us pull out constants. For example, in the following equation, we can pull out the constant 9 and distribute the derivative operator across the elements within the parentheses.</p>
<p><img src="https://explained.ai/matrix-calculus/images/blkeqn-A1EC7F214318E08949CC8BFCED138D94.svg" alt=""></p>

<p>That procedure reduced the derivative of <img src="https://explained.ai/matrix-calculus/images/eqn-FDFD125C741CD062B2CA779DDE0524BE-depth003.25.svg"> to a bit of arithmetic and the derivatives of <span>x</span> and <img src="https://explained.ai/matrix-calculus/images/eqn-32F5240D0DBF2CCBE75EF7F8EF2015E0-depth000.14.svg">, which are much easier to solve than the original derivative.</p>


<h2 id="sec3">Introduction to vector calculus and partial derivatives</h2>


<p>Neural network layers are not single functions of a single parameter, <img src="https://explained.ai/matrix-calculus/images/eqn-50BBD36E1FD2333108437A2CA378BE62-depth003.25.svg">. So, let's move on to functions of multiple parameters such as <img src="https://explained.ai/matrix-calculus/images/eqn-3BAF1600AE50930A155F58AE172B51BD-depth003.25.svg">. For example, what is the derivative of <span>xy</span> (i.e., the multiplication of <span>x</span> and <span>y</span>)? In other words, how does the product <span>xy</span> change when we wiggle the variables? Well, it depends on whether we are changing <span>x</span> or <span>y</span>.  We compute derivatives with respect to one variable (parameter) at a time, giving us two different <i>partial derivatives</i> for this two-parameter function (one for <span>x</span> and one for <span>y</span>).  Instead of using operator <img src="https://explained.ai/matrix-calculus/images/eqn-624FEBB9A49A3FC96353C861D175C806-depth004.58.svg">, the partial derivative operator is  <img src="https://explained.ai/matrix-calculus/images/eqn-4D6C379F66675645B3FFE28A15306857-depth004.67.svg"> (a stylized <span>d</span> and not the Greek letter <img src="https://explained.ai/matrix-calculus/images/eqn-77A3B715842B45E440A5BEE15357AD29-depth000.22.svg">). So, <img src="https://explained.ai/matrix-calculus/images/eqn-08DCCFBE629A14FCCD9FB9A20F2E367C-depth004.67.svg"> and <img src="https://explained.ai/matrix-calculus/images/eqn-1FDCF7A9F137AE48FA25EE34A69F8201-depth006.34.svg"> are the partial derivatives of <span>xy</span>; often, these are just called the <i>partials</i>.  For functions of a single parameter, operator <img src="https://explained.ai/matrix-calculus/images/eqn-4D6C379F66675645B3FFE28A15306857-depth004.67.svg"> is equivalent to <img src="https://explained.ai/matrix-calculus/images/eqn-624FEBB9A49A3FC96353C861D175C806-depth004.58.svg"> (for sufficiently smooth functions). However, it's better to use <img src="https://explained.ai/matrix-calculus/images/eqn-624FEBB9A49A3FC96353C861D175C806-depth004.58.svg"> to make it clear you're referring to a scalar derivative.</p>

<p>The partial derivative with respect to <span>x</span> is just the usual scalar derivative, simply treating any other variable in the equation as a constant.  Consider function <img src="https://explained.ai/matrix-calculus/images/eqn-D6DEAE7E403381C2C425D4B40CCA936E-depth003.25.svg">. The partial derivative with respect to <span>x</span> is written <img src="https://explained.ai/matrix-calculus/images/eqn-F063B8EC812DF3D204F9327F5D094073-depth004.67.svg">. There are three constants from the perspective of <img src="https://explained.ai/matrix-calculus/images/eqn-4D6C379F66675645B3FFE28A15306857-depth004.67.svg">: 3, 2, and <span>y</span>. Therefore, <img src="https://explained.ai/matrix-calculus/images/eqn-D981BA4BD14AC44C43A4E4E0EC750B4A-depth004.67.svg">. The partial derivative with respect to <span>y</span> treats <span>x</span> like a constant: <img src="https://explained.ai/matrix-calculus/images/eqn-55A3A400FAD3326FEF1BB9DDD2658383-depth006.34.svg">.  It's a good idea to derive these yourself before continuing otherwise the rest of the article won't make sense.  Here's the <a href="https://www.khanacademy.org/math/multivariable-calculus/multivariable-derivatives/partial-derivative-and-gradient-articles/a/introduction-to-partial-derivatives">Khan Academy video on partials</a> if you need help.</p>

<p>To make it clear we are doing vector calculus and not just multivariate calculus, let's consider what we do with the partial derivatives <img src="https://explained.ai/matrix-calculus/images/eqn-84D799755A7F73945BD58B2E057121AB-depth004.67.svg"> and <img src="https://explained.ai/matrix-calculus/images/eqn-A2DE2EC029172B84A0A0E8A8D00F5A6F-depth006.34.svg"> (another way to say <img src="https://explained.ai/matrix-calculus/images/eqn-75645E70B6C95F7466C353E9C2306FE0-depth004.67.svg"> and <img src="https://explained.ai/matrix-calculus/images/eqn-B20FF70C037320C2D0B710F4B592927E-depth006.34.svg">) that we computed for <img src="https://explained.ai/matrix-calculus/images/eqn-D6DEAE7E403381C2C425D4B40CCA936E-depth003.25.svg">.  Instead of having them just floating around and not organized in any way, let's organize them into a horizontal vector. We call this vector the <i>gradient</i> of <img src="https://explained.ai/matrix-calculus/images/eqn-3BAF1600AE50930A155F58AE172B51BD-depth003.25.svg"> and …</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://explained.ai/matrix-calculus/">https://explained.ai/matrix-calculus/</a></em></p>]]>
            </description>
            <link>https://explained.ai/matrix-calculus/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24180065</guid>
            <pubDate>Sun, 16 Aug 2020 18:39:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Recent Advances in Natural Language Processing]]>
            </title>
            <description>
<![CDATA[
Score 253 | Comments 153 (<a href="https://news.ycombinator.com/item?id=24179795">thread link</a>) | @saadalem
<br/>
August 16, 2020 | https://deponysum.com/2020/01/16/recent-advances-in-natural-language-processing-some-woolly-speculations/ | <a href="https://web.archive.org/web/*/https://deponysum.com/2020/01/16/recent-advances-in-natural-language-processing-some-woolly-speculations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1118">
	<!-- .entry-header -->

	<div>
		<p><em>If you enjoy this article, please check out my free book by clicking <a href="https://deponysum.com/2020/03/30/something-to-read-in-quarantine-essays-2018-to-2020/">Here: “Something to Read in Quarantine: Essays 2018-2020.”</a></em></p>
<p id="b9a9">Natural Language Processing (NLP) per Wikipedia:</p>
<p id="34cf">“Is a subfield of linguistics, computer science, information engineering, and artificial intelligence concerned with the interactions between computers and human (natural) languages, in particular how to program computers to process and analyze large amounts of natural language data.”</p>
<p id="7dd8">The field has seen tremendous advances during the recent explosion of progress in machine learning techniques.</p>
<p id="b5f8">Here are some of its more impressive recent achievements:</p>
<p id="cb15"><strong>A)</strong>&nbsp;The Winograd Schema is a test of common sense reasoning- easy for humans, but historically almost impossible for computers- which requires the test taker to indicate which noun an ambiguous pronoun stands for. The correct answer hinges on a single word, which is different between two separate versions of the question. For example:</p>
<p id="512d"><em>The city councilmen refused the demonstrators a permit because they feared violence.</em></p>
<p id="ece3"><em>The city councilmen refused the demonstrators a permit because they advocated violence.</em></p>
<p id="0ddf">Who does the pronoun “They” refer to in each of the instances?</p>
<p id="d33c">The Winograd schema test was originally intended to be a more rigorous replacement for the Turing test, because it seems to require deep knowledge of how things fit together in the world, and the ability to reason about that knowledge in a linguistic context. Recent advances in NLP have allowed computers to achieve near human scores:(<a href="https://gluebenchmark.com/leaderboard/" target="_blank" rel="noopener nofollow">https://gluebenchmark.com/leaderboard/</a>).</p>
<p id="0a43"><strong>B)</strong>&nbsp;The New York Regent’s science exam is a test requiring both scientific knowledge and reasoning skills, covering an extremely broad range of topics. Some of the questions include:</p>
<p id="a36d"><em>1.Which equipment will best separate a mixture of iron filings and black pepper? (1) magnet (2) filter paper (3) triplebeam balance (4) voltmeter</em></p>
<p id="9797"><em>2. Which form of energy is produced when a rubber band vibrates? (1) chemical (2) light (3) electrical (4) sound</em></p>
<p id="966a"><em>3. Because copper is a metal, it is (1) liquid at room temperature (2) nonreactive with other substances (3) a poor conductor of electricity (4) a good conductor of heat</em></p>
<p id="6d70"><em>4. Which process in an apple tree primarily results from cell division? (1) growth (2) photosynthesis (3) gas exchange (4) waste removal</em></p>
<p id="3a8a">On the 8th grade, non-diagram based questions of the test, a program was recently able to score 90%. (&nbsp;<a href="https://arxiv.org/pdf/1909.01958.pdf" target="_blank" rel="noopener nofollow">https://arxiv.org/pdf/1909.01958.pdf</a>&nbsp;)</p>
<p id="2f49"><strong>C)</strong></p>
<p id="267a">It’s not just about answer selection either. Progress in text generation has been impressive. See, for example, some of the text samples created by Megatron:&nbsp;<a href="https://arxiv.org/pdf/1909.08053.pdf" target="_blank" rel="noopener nofollow">https://arxiv.org/pdf/1909.08053.pdf</a></p>
<p id="b8f7"><strong>2.</strong></p>
<p id="db13">Much of this progress has been rapid. Big progress on the Winograd schema, for example, still looked like it might be decades away back in (from memory) much of 2018. The computer science is advancing very fast, but it’s not clear our concepts have kept up.</p>
<p id="1a6c">I found this relatively sudden progress in NLP surprising. In my head- and maybe this was naive- I had thought that, in order to attempt these sorts of tasks with any facility, it wouldn’t be sufficient to simply feed a computer lots of text. Instead, any “proper” attempt to understand language would have to integrate different modalities of experience and understanding, like visual and auditory, in order to build up a full picture of how things relate to each other in the world. Only on the basis of this extra-linguistic grounding could it deal flexibly with problems involving rich meanings- we might call this the multi-modality thesis. Whether the multi-modality thesis is true for some kinds of problems or not, it’s certainly true for far fewer problems than I, and many others, had suspected.</p>
<p id="5a4d">I think science-fictiony speculations generally backed me up on this (false) hunch. Most people imagined that this kind of high-level language “understanding” would be the capstone of AI research, the thing that comes after the program already has a sophisticated extra-linguistic model of the world. This sort of just seemed obvious- a great example of how assumptions you didn’t even know you were making can ruin attempts to predict the future.</p>
<p id="f943">In hindsight it makes a certain sense that reams and reams of text alone can be used to build the capabilities needed to answer questions like these. A lot of people remind us that these programs are really just statistical analyses of the co-occurence of words, however complex and glorified. However we should not forget that the relationships between words are isomorphic to the relations between things- that isomorphism is why language works. This is to say the patterns in language use mirror the patterns of how things are(1). Models are transitive- if x models y, and y models z, then x models z. The upshot of these facts are that if you have a really good statistical model of how words relate to each other, that model is also implicitly a model of the world.</p>
<p id="12db">It might be instructive to think about what it would take to create a program which has a model of eighth grade science sufficient to understand and answer questions about hundreds of different things like “growth is driven by cell division”, and “What can magnets be used for” that wasn’t NLP led. It would be a nightmare of many different (probably handcrafted) models. Speaking somewhat loosely, language allows for intellectual capacities to be greatly compressed. From this point of view, it shouldn’t be surprising that some of the first signs of really broad capacity- common sense reasoning, wide ranging problem solving etc., have been found in language based programs- words and their relationships are just a vastly more efficient way of representing knowledge than the alternatives.</p>
<p id="1e8b">So I find myself wondering if language is not the crown of general intelligence, but a potential shortcut to it.</p>
<p id="beea"><strong>3.</strong></p>
<p id="0095">A couple of weeks ago I finished this essay, read through it, and decided it was not good enough to publish. The point about language being isomorphic to the world, and that therefore any sufficiently good model of language&nbsp;<em>is</em>&nbsp;a model of the world, is important, but it’s kind of abstract, and far from original.</p>
<p id="e0e2">Then today I read&nbsp;<a href="https://slatestarcodex.com/2020/01/06/a-very-unlikely-chess-game/" target="_blank" rel="noopener nofollow">this report</a>&nbsp;by Scott Alexander of having trained GPT-2 (a language program) to play chess. I realised this was the perfect example. GPT-2 has no (visual) understanding of things like the arrangement of a chess board. But if you feed it enough sequences of alphanumerically encoded games- 1.Kt-f3, d5 and so on- it begins to understand patterns in these strings of characters which are isomorphic to chess itself. Thus, for all intents and purposes, it develops a model of chess.</p>
<p id="1a14">Exactly how strong this approach is- whether GPT-2 is capable of some limited analysis, or can only overfit openings- remains to be seen. We might have a better idea as it is optimised — for example, once it is fed board states instead of sequences of moves. Either way though, it illustrates the point about isomorphism.</p>
<p id="a87a">Of course everyday language stands in a woolier relation to sheep, pine cones, desire and quarks than the formal language of chess moves stands in relation to chess moves, and the patterns are far more complex. Modality, uncertainty, vagueness and other complexities enter but the isomorphism between world and language is there, even if inexact.</p>
<p id="b6c0"><strong>Postscript- The Chinese Room Argument</strong></p>
<p id="f901">After similar arguments are made, someone usually mentions the Chinese room thought experiment. There are, I think, two useful things to say about it:</p>
<p id="3d7e">A) The thought experiment is an argument about understanding in itself, separate from capacity to handle tasks, a difficult thing to quantify or understand. It’s unclear that there is a practical upshot for what <em>AI can actually do.</em></p>
<p id="1f79">B) A lot of the power of the thought experiment hinges on the fact that the room solves questions using a lookup table, this stacks the deck. Perhaps we be more willing to say that the room as a whole understood language if it formed an (implicit) model of how things are, and of the current context, and used those models to answer questions? Even if this doesn’t deal with all the intuition that the room cannot understand Chinese, I think it takes a bite from it.</p>
<p id="96a9">— — — — — — — — — — — — — — — — — — — — — — — — — — — — — —</p>
<p id="4642">(1)- Strictly of course only the patterns in true sentences mirror, or are isomorphic to, the arrangement of the world, but most sentences people utter are at least approximately true.</p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->

		<!-- .entry-auhtor -->
</article></div>]]>
            </description>
            <link>https://deponysum.com/2020/01/16/recent-advances-in-natural-language-processing-some-woolly-speculations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24179795</guid>
            <pubDate>Sun, 16 Aug 2020 18:03:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Error recovery with parser combinators, using Rust and nom]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 7 (<a href="https://news.ycombinator.com/item?id=24178208">thread link</a>) | @fanf2
<br/>
August 16, 2020 | https://www.eyalkalderon.com/nom-error-recovery/ | <a href="https://web.archive.org/web/*/https://www.eyalkalderon.com/nom-error-recovery/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
<article>

<ul id="frontmatter">
<li>
<time datetime="2020-04-01">April 01, 2020</time>
</li>
<span></span>
<li> 3534 words </li>
<span></span>
<li> 18 min </li>
</ul>
<p>As the COVID-19 pandemic continues to ravage the globe, lots of people are stuck
at home, either working remotely or sitting around without much to do. The
previous afternoon, I had stumbled across an online announcement that the
<a href="https://www.acm.org/articles/bulletins/2020/march/dl-access-during-covid-19">ACM Digital Library has been made free to all to read and download</a> to
help foster research, discovery, and learning during this time of crisis.
Feeling curious, and having previously wanted to read certain research papers
from the ACM DL previously, I took the opportunity to peruse through its library
and read as much content as I could. As I was doing so, I stumbled across a very
useful paper called <a href="https://dl.acm.org/doi/10.1145/3167132.3167261"><strong>"Syntax error recovery in parsing expression
grammars"</strong></a> by (Medeiros, S. and Fabio Mascarenhas, 2018) that I would
like to share, and I'll be testing some of its concepts using a prototype parser
written in <a href="https://www.rust-lang.org/">Rust</a> with the help of the <a href="https://docs.rs/nom"><code>nom</code></a> crate.</p>
<h2 id="some-background">Some background</h2>
<p>Language parsing is a very broad and interesting topic, with a swathe of varying
approaches and tools to choose from depending on the requirements of the task at
hand, but the basic premise is simple: the goal of a parser is to consume some
data as input, break it down into its component parts according to some grammar,
and derive meaning or understanding from it (<a href="https://en.wikipedia.org/wiki/Parsing">wiki</a>). I personally happen to
enjoy working with <em>parsing expression grammars</em> (PEGs) and <em>parser combinators</em>
when writing my own projects.</p>
<p>In case you are not familiar, PEG is a kind of declarative formal language for
describing other languages in terms of string pattern matching. That is, PEG
allows the parser author to declare the grammar of the language they wish to
parse using sets of expressions like those shown below:</p>
<pre><span>expr    ← sum
sum     ← product (('+' / '-') product)*
product ← value (('*' / '/') value)*
value   ← [0-9]+ / '(' expr ')'
</span></pre>
<p>These PEG rules would then be able to describe the rules to a simple arithmetic
language that behaves like this:</p>
<table><thead><tr><th>Input</th><th>Parsed syntax tree</th></tr></thead><tbody>
<tr><td><code>123</code></td><td><code>Value(123)</code></td></tr>
<tr><td><code>1 + 2</code></td><td><code>Sum(Value(1), Value(2))</code></td></tr>
<tr><td><code>1 + 2 * 3</code></td><td><code>Sum(Value(1), Product(Value(2), Value(3)))</code></td></tr>
<tr><td><code>(1 + 2) * 3</code></td><td><code>Product(Sum(Value(1), Value(2)), Value(3))</code></td></tr>
</tbody></table>
<p>Any PEG expression can be converted directly into a <a href="https://en.wikipedia.org/wiki/Recursive_descent_parser">recursive descent parser</a>,
either automatically using a parser generator or crafted by hand in the
programming language of your choice.</p>
<p>I really enjoy using parser combinator frameworks like <a href="https://docs.rs/nom"><code>nom</code></a> as a nice middle
ground between the two options, since they grant you the freedom and flexibility
of writing your parser fully in the host language (in this example, Rust), but
the resulting code is succinct, fairly declarative, and looks somewhat PEG-ish,
if you tilt your head and squint hard enough.</p>
<pre><span>fn </span><span>expr</span><span>(</span><span>input</span><span>: &amp;</span><span>str</span><span>) -&gt; IResult&lt;&amp;</span><span>str</span><span>, &amp;</span><span>str</span><span>&gt; {
    </span><span>sum</span><span>(input)
}

</span><span>fn </span><span>sum</span><span>(</span><span>input</span><span>: &amp;</span><span>str</span><span>) -&gt; IResult&lt;&amp;</span><span>str</span><span>, &amp;</span><span>str</span><span>&gt; {
    </span><span>let</span><span> op = </span><span>alt</span><span>((</span><span>char</span><span>('</span><span>+</span><span>'), </span><span>char</span><span>('</span><span>-</span><span>')));
    </span><span>recognize</span><span>(</span><span>pair</span><span>(product, </span><span>many0</span><span>(</span><span>pair</span><span>(op, product))))(input)
}

</span><span>fn </span><span>product</span><span>(</span><span>input</span><span>: &amp;</span><span>str</span><span>) -&gt; IResult&lt;&amp;</span><span>str</span><span>, &amp;</span><span>str</span><span>&gt; {
    </span><span>let</span><span> op = </span><span>alt</span><span>((</span><span>char</span><span>('</span><span>*</span><span>'), </span><span>char</span><span>('</span><span>/</span><span>')));
    </span><span>recognize</span><span>(</span><span>pair</span><span>(value, </span><span>many0</span><span>(</span><span>pair</span><span>(op, value))))(input)
}

</span><span>fn </span><span>value</span><span>(</span><span>input</span><span>: &amp;</span><span>str</span><span>) -&gt; IResult&lt;&amp;</span><span>str</span><span>, &amp;</span><span>str</span><span>&gt; {
    </span><span>recognize</span><span>(</span><span>alt</span><span>((digit1, </span><span>delimited</span><span>(</span><span>char</span><span>('</span><span>(</span><span>'), expr, </span><span>char</span><span>('</span><span>)</span><span>')))))(input)
}
</span></pre>
<p>Each of the four parsers above corresponds to a PEG rule, and since each one is
represented as a pure function, they compose nicely in code and each one can
easily be tested in isolation from the others, e.g. with inline unit tests. All
in all, I enjoy working with PEG and parser combinators!</p>
<h2 id="motivation">Motivation</h2>
<p>I've been hacking on a parser and <a href="https://microsoft.github.io/language-server-protocol/">language server</a> for the <a href="https://nixos.org/nix/">Nix programming
language</a> as a side project (<a href="https://github.com/ebkalderon/nix-language-server">GitHub</a>) for some time now, and this extended
period of being stuck at home renewed my interest in working on it. This
language server aims to supply code analysis, and auto-completion for compatible
third-party text editors and IDEs. This project has been very challenging for me
to work on, in a good way, because language servers tend to have very strict
requirements of their underlying parsers.</p>
<p>Most compilers and static analysis tools are <a href="https://en.wikipedia.org/wiki/Batch_program">batch programs</a> which act like a
dumb pipe, consuming source code in one end and spitting an executable out the
other (yes, incremental compilation and artifact caching bends this analogy a
bit, but the basic premise still holds). This means that their parsers and
resulting <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">abstract syntax trees</a> are optimized for very different things than
what an interactive IDE would want.</p>
<p>Since the user is continuously modifying the source text and entering keystrokes
into their editor, the parser providing syntax checking for their editor is very
frequently exposed to incomplete or downright invalid snippets of code more
often than not. This means that halting parsing and bailing with an error
message whenever the first error is encountered, like many traditional parsers
do, is <em>simply not an option</em>.</p>
<p><img src="https://user-images.githubusercontent.com/1711539/76758522-1ee9ad80-678a-11ea-84cd-111739ecd379.gif" alt="rust-analyzer in action">
<em>Source: <a href="https://rust-analyzer.github.io/thisweek/2020/03/16/changelog-16.html">rust-analyzer Changelog #16</a></em></p>
<p>Instead, the parser needs to be as fault-tolerant as possible, always producing
a syntax tree of some kind on every single parse and deriving as much syntactic
and semantic meaning as it can from user input, however malformed it might be.
Your editor should still be able to provide meaningful code completion, hover
documentation, go-to-definition, and symbol searching regardless of whether
there is a missing semicolon somewhere halfway down the page.</p>
<h2 id="a-naive-approach">A naive approach</h2>
<p>When I first started working on this project, I had chosen to implement my Nix
parser in Rust using <code>nom</code> 5.0, since that was the tool I was most comfortable
using for writing parsers at the time.</p>
<p>As I was writing up my parsers, I very quickly realized that bailing early from
parsing with an <code>Err(nom::Err::Error(_))</code> or <code>Err(nom::Error::Failure(_))</code>
wasn't a good idea for emitting errors. The former triggers a backtrack, which I
didn't always want, and the latter would halt parsing altogether with an error,
which I never wanted. <code>Err(nom::Error::Incomplete(_))</code> sounded promising due to
the name, but it too ended up being useless given the design constraints I had
in mind. I needed some way to log that a non-fatal parse error had been
encountered and resume parsing as though nothing had happened, but
unfortunately, there seemed to be nothing in the vast <code>nom</code> parser combinator
toolbox that could help me deal with this.</p>
<p>Given that <code>nom</code> parser combinators are pure functions whose signatures are
structured like this:</p>
<pre><span>impl </span><span>Fn(Input) -&gt; IResult&lt;Input, Output, Error&gt;
</span></pre>
<p>which maps to:</p>
<pre><span>impl </span><span>Fn(Input) -&gt; Result&lt;(Remaining, Output), Error&gt;
</span></pre>
<p>I decided to carry these non-fatal parse errors through the <code>Output</code> instead of
returning them through <code>Result::Err(nom::Error::Error(_))</code> using a custom data
structure which I had named <a href="https://github.com/ebkalderon/nix-language-server/blob/master/nix-parser/src/parser/partial.rs#L64-L68"><code>Partial</code></a>. This was a monadic data structure which
was essentially:</p>
<pre><span>pub struct </span><span>Partial&lt;T&gt; {
    </span><span>value</span><span>: Option&lt;T&gt;,
    </span><span>errors</span><span>: Vec&lt;Error&gt;,
}

</span><span>impl</span><span>&lt;T&gt; Partial&lt;T&gt; {
    </span><span>pub fn </span><span>map</span><span>&lt;U, F&gt;(</span><span>self</span><span>, </span><span>f</span><span>: F) -&gt; Partial&lt;U&gt;
    </span><span>where</span><span>
        F: FnOnce(T) -&gt; U
    { ... }

    </span><span>pub fn </span><span>flat_map</span><span>&lt;U, F&gt;(</span><span>mut </span><span>self</span><span>, </span><span>f</span><span>: F) -&gt; Partial&lt;U&gt;
    </span><span>where</span><span>
        F: FnOnce(T) -&gt; Partial&lt;U&gt;
    { ... }

    </span><span>pub fn </span><span>value</span><span>(&amp;</span><span>self</span><span>) -&gt; Option&lt;&amp;T&gt; {
        ...
    }

    </span><span>pub fn </span><span>errors</span><span>(&amp;</span><span>self</span><span>) -&gt; &amp;[Error] {
        ...
    }

    </span><span>pub fn </span><span>verify</span><span>(</span><span>self</span><span>) -&gt; Result&lt;T, Vec&lt;Error&gt;&gt; {
        ...
    }
}
</span></pre>
<p>This data structure was complemented with a bunch of custom <code>nom</code> combinators,
e.g. <code>map_partial()</code>, <code>expect_terminated()</code>, and <code>skip_if_err()</code>, which would
allow me to compose these fault-tolerant parsers together while accumulating
errors in the <code>errors</code> field.</p>
<p>The consumer of this data structure would then choose to either:</p>
<ol>
<li>Assert that they need a valid AST without errors by calling <code>expr.verify()</code>,
transforming the <code>Partial&lt;T&gt;</code> into a <code>Result&lt;T, Vec&lt;Error&gt;&gt;</code>. This option
would be useful for traditonal batch compiler authors, as well as for testing
and debugging.</li>
<li>Extract and examine the contents of the <code>value</code> and <code>errors</code> field
separately. This is what the language server would do: publish the
accumulated errors to the user's editor in the form of diagnostics and then
perform further analysis on the syntax tree contained in <code>value</code>.</li>
</ol>
<p>All the parser combinators would have this function signature instead:</p>
<pre><span>impl </span><span>Fn(Input) -&gt; IResult&lt;Input, Partial&lt;Output&gt;, Error&gt;
</span></pre>
<p>While this approach seemed to work well initially, it spiralled out of control
once the parser grew beyond a certain size. The number of <code>Partial</code> specific
combinators grew, the parser logic got hairier, more imperative, and trickier to
debug, and the performance implications of carrying around a heavy stack of
errors from function to function <a href="https://github.com/ebkalderon/nix-language-server/commit/4cd939a2917709a527bd1967f4a29bfd9f2767cc">were astonishingly awful</a>. It didn't
look and feel that much like PEG anymore.</p>
<p>I will admit I learned a lot about a breadth of topics during this time, from
benchmarking functions with <a href="https://github.com/bheisler/criterion.rs"><code>criterion</code></a> to generating flamegraphs with
<a href="https://github.com/ferrous-systems/flamegraph"><code>cargo-flamegraph</code></a>, and going to extreme lengths to avoid heap allocations to
make the parser as fast as possible. I used <a href="https://docs.rs/nom_locate"><code>nom_locate</code></a> to retain string span
information and be as zero-copy as possible when constructing the syntax tree.
But ultimately, I couldn't fix all the warts and fundamental flaws. I needed a
new approach.</p>
<h2 id="the-paper-s-solution">The paper's solution</h2>
<p>Finally, back to the paper that originally inspired this article! I shelved this
project some months ago due to work and personal life matters, but came back
to it last month with some fresh ideas and a better intuition of where to look.
Discouraged by the previous setbacks, I was questioning whether parser
combinators in general were flexible enough to express parsers which were both
permissive and fault-tolerant, while also emitting good hand-crafted
diagnostics. But then I stumbled upon the <a href="https://dl.acm.org/doi/10.1145/3167132.3167261">"Syntax error recovery in parsing
expression grammars" (2018)</a> paper while scouring the ACM DL search
engine for interesting articles last night.</p>
<p>The authors of this paper actually managed to get pretty great results parsing
the <a href="https://www.lua.org/">Lua programming language</a> using a set of extended PEGs, producing excellent
tailor-made diagnostics rivaling the automatic error recovering capabilities of
their control, a top-down <a href="https://en.wikipedia.org/wiki/LL_parser">LL parser</a>…</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.eyalkalderon.com/nom-error-recovery/">https://www.eyalkalderon.com/nom-error-recovery/</a></em></p>]]>
            </description>
            <link>https://www.eyalkalderon.com/nom-error-recovery/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24178208</guid>
            <pubDate>Sun, 16 Aug 2020 14:43:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hiding messages in x86 binaries using semantic duals]]>
            </title>
            <description>
<![CDATA[
Score 165 | Comments 51 (<a href="https://news.ycombinator.com/item?id=24178188">thread link</a>) | @todsacerdoti
<br/>
August 16, 2020 | https://blog.yossarian.net/2020/08/16/Hiding-messages-in-x86-binaries-using-semantic-duals | <a href="https://web.archive.org/web/*/https://blog.yossarian.net/2020/08/16/Hiding-messages-in-x86-binaries-using-semantic-duals">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<h2><em>Programming, philosophy, pedaling.</em></h2>

<ul>
    <li><a href="https://blog.yossarian.net/">Home</a></li>
    <li><a href="https://blog.yossarian.net/tags">Tags</a></li>
    <li><a href="https://blog.yossarian.net/favorites">Favorites</a></li>
    <li><a href="https://blog.yossarian.net/archive">Archive</a></li>
    
      <li><a href="https://yossarian.net/">Main Site</a></li>
    
</ul>

<hr>



<h2>
  <em>Aug 16, 2020</em>
</h2>

  <p>Tags:
  
    
    <a href="https://blog.yossarian.net/tags#rust">rust</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#devblog">devblog</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#programming">programming</a>
    
  
  </p>


<p>This is a quick writeup of a <a href="https://en.wikipedia.org/wiki/Steganography">steganographic</a> tool
that I threw together: <a href="https://github.com/woodruffw/steg86"><em>steg86</em></a>. It uses a quirk of the
x86 instruction encoding format to hide messages in pre-existing binaries with no size or
performance overhead.</p>

<p>You can play with it yourself by fetching it with <code>cargo</code>:</p>

<div><div><pre><code><span>$ </span>cargo <span>install </span>steg86
<span>$ </span>steg86 <span>--help</span>
</code></pre></div></div>

<h2 id="a-quick-steganography-refresher">A quick steganography refresher</h2>

<p>Steganography is the practice of concealing data within other data. A variety of different
common formats open themselves up to steganographic channels:</p>

<ul>
  <li>Image formats: using the least significant bits of the color space</li>
  <li>Audio formats: hiding information in background noise, or hiding an image
in the <a href="https://en.wikipedia.org/wiki/Spectrogram">spectrogram</a></li>
  <li>Plain text: using <a href="https://en.wikipedia.org/wiki/IDN_homograph_attack">homographs</a> and
<a href="https://en.wikipedia.org/wiki/Zero-width_joiner">special spacing characters</a> to encode information</li>
</ul>

<p>On its own, steganography is <em>not</em> a replacement for cryptography: it’s strictly
obfuscatory, and does not provide any deniablity of the embedded message if revealed.</p>

<p>That being said, there exist a variety of use cases for steganographic schemes:</p>

<ul>
  <li>Coupled with strong cryptography, they <em>do</em> allow for deniability: depending on the format,
an extracted message can be made indistinguishable from random noise prior to decryption.</li>
  <li>Steganography can be used for fingerprinting and asset management.
<a href="https://en.wikipedia.org/wiki/Machine_Identification_Code">Commercial printers</a> are well-known for doing this;
video games have also used it to <a href="https://www.schneier.com/blog/archives/2012/09/steganography_i_1.html">track users and their machines</a>.</li>
</ul>

<h2 id="doing-steganography-on-computer-programs">Doing steganography on computer programs</h2>

<p>There are two obvious avenues for doing steganography on compiled programs. <em>steg86</em> does
<strong>neither</strong> of these, but for the sake of completeness:</p>

<h3 id="instrumenting-the-program-via-the-compiler">Instrumenting the program via the compiler</h3>

<p>Compilers perform instruction selection to lower their internal representations into machine code.
Instruction selection can be informed by any number of weights, including
<a href="https://en.wikipedia.org/wiki/Register_allocation">register pressure</a>, individual instruction
performance (clock cycles, use of shared units), and feature availability
(e.g., selecting an older version of <a href="https://en.wikipedia.org/wiki/Streaming_SIMD_Extensions">SSE</a>
to be compatible with more CPUs).</p>

<p>In this approach, the steganographer would control the compiler and its instruction selection
weights, encoding information in particular selections of instructions (or other parts of
code generation, like stack object order).</p>

<p>This affords a great deal of flexibility and control, but also makes it more difficult for the
compiler to perform optimal selections. It also requires the steganographer to maintain
their (forked) compiler. Not a bad idea, but requires a decent amount of effort.</p>

<h3 id="instrumenting-the-container-format">Instrumenting the container format</h3>

<p>Another approach is to ignore the compiled instructions themselves, and focus on the binary
container: <a href="https://en.wikipedia.org/wiki/Executable_and_Linkable_Format">ELF</a>,
<a href="https://en.wikipedia.org/wiki/Mach-O">Mach-O</a>, or
<a href="https://en.wikipedia.org/wiki/Portable_Executable">PE</a>, among others.</p>

<p>These formats afford many opportunities for embedding information: the order
(both file and virtual address) of segments and sections, the order and layout
of <a href="https://en.wikipedia.org/wiki/Relocation_(computing)">relocation tables</a> and the composition of
their internal rules, and so on.</p>

<p>Instrumenting the binary format rather than the executable code means not having
to muck with instruction selection, but is also less bountiful in terms of
information density. It’s also not portable, e.g. tricks for hiding information
in ELF relocation entries would have to be tweaked for PEs.</p>

<h2 id="how-steg86-works">How <em>steg86</em> works</h2>

<p>Instead of controlling instruction selection or tweaking the details of the containing binary
format, <em>steg86</em> takes a third route: it uses the presence of <em>semantic duals</em> in the x86 and AMD64
instruction formats to selectively rewrite a program <em>after</em> compilation.</p>

<h3 id="semantic-duals">Semantic duals</h3>

<p>Like every ISA, x86 (and AMD64) have multiple ways to encode the semantics of a particular
(higher level, conceptual) operation. For example, clearing a register:</p>

<div><div><pre><code><span>; xor'ing a register with itself clears all bits</span>
<span>xor</span> <span>eax</span><span>,</span> <span>eax</span>

<span>; and'ing a register with 0 also clears all bits</span>
<span>and</span> <span>eax</span><span>,</span> <span>0</span>

<span>; we could also set 0</span>
<span>mov</span> <span>eax</span><span>,</span> <span>0</span>

<span>; ...or subtract</span>
<span>sub</span> <span>eax</span><span>,</span> <span>eax</span>

<span>; ...or load a "computed" address that's always 0</span>
<span>lea</span> <span>eax</span><span>,</span> <span>[</span><span>0</span><span>]</span>
</code></pre></div></div>

<p>…among many others. Unfortunately, this doesn’t work exactly as we’d like:</p>

<ul>
  <li>Each of these alternatives may have a different length when encoded, e.g. 2 bytes for
<code>xor eax, eax</code> versus 6 for <code>lea eax, [0]</code>. Consequently, rewriting one in terms of another
might entail a length change and subsequent relocation and displacement fixups.</li>
  <li>Each of these alternatives has subtle microarchitectural differences: they set and clear
different arithmetic flags, have different implicit segmentation behavior, and so on.
We don’t know perfectly whether the original operations took advantage of those details,
so many of our potential alternatives run the risk of subtle breakage.</li>
</ul>

<p>Fortunately, this is <strong>not</strong> what <em>steg86</em> does.</p>

<p>Instead, <em>steg86</em> takes advantage of one of the quirks of the x86 instruction encoding: the ModR/M
byte:</p>

<p><img src="https://blog.yossarian.net/assets/modrm.png" alt="The ModR/M byte."></p>

<p>The ModR/M byte is normally used to encode one or more explicit register and/or memory operands
to an opcode<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>: it’s how x86 can supply the rich range of source-to-sink modes that it has
(register-to-memory, memory-to-register, register-to-register, immediate-to-register, &amp;c).</p>

<p>Because register-to-memory and memory-to-register are both valid source-sink combinations for
many opcodes, many have encoding forms like the following:</p>

<div><div><pre><code><span>; xor register with register/memory32 and store register/memory32</span>
<span>xor</span> <span>r</span><span>/</span><span>m32</span><span>,</span> <span>r32</span>

<span>; xor register/memory32 with register and store register</span>
<span>xor</span> <span>r32</span><span>,</span> <span>r</span><span>/</span><span>m32</span>
</code></pre></div></div>

<p>Consequently, there are actually <strong>two</strong> ways to encode <code>xor eax, eax</code>:</p>

<div><div><pre><code>; r/m32, r
31 C0

; r, r/m32
33 C0
</code></pre></div></div>

<p>These encodings are <em>semantic duals</em>: they have different opcodes, but belong to the same
instruction family, have the same length, and have the <em>exact same behavior and performance</em>.
We could replace every occurrence of <code>31 C0</code> with <code>33 C0</code> and our programs would happily chug along,
none the wiser.</p>

<p>As it turns out, there are actually quite a few of these duals on some of the most common
x86 instructions<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup>:</p>

<div><div><pre><code>ADD r/m8, r8   &lt;=&gt; ADD r8, r/m8
ADD r/m16, r16 &lt;=&gt; ADD r16, r/m16
ADD r/m32, r32 &lt;=&gt; ADD r32, r/m32
ADD r/m64, r64 &lt;=&gt; ADD r64, r/m64

ADC r/m8, r8   &lt;=&gt; ADC r8, r/m8
ADC r/m16, r16 &lt;=&gt; ADC r16, r/m16
ADC r/m32, r32 &lt;=&gt; ADC r32, r/m32
ADC r/m64, r64 &lt;=&gt; ADC r64, r/m64

AND r/m8, r8   &lt;=&gt; AND r8, r/m8
AND r/m16, r16 &lt;=&gt; AND r16, r/m16
AND r/m32, r32 &lt;=&gt; AND r32, r/m32
AND r/m64, r64 &lt;=&gt; AND r64, r/m64

OR r/m8, r8    &lt;=&gt; OR r8, r/m8
OR r/m16, r16  &lt;=&gt; OR r16, r/m16
OR r/m32, r32  &lt;=&gt; OR r32, r/m32
OR r/m64, r64  &lt;=&gt; OR r64, r/m64

XOR r/m8, r8   &lt;=&gt; XOR r8, r/m8
XOR r/m16, r16 &lt;=&gt; XOR r16, r/m16
XOR r/m32, r32 &lt;=&gt; XOR r32, r/m32
XOR r/m64, r64 &lt;=&gt; XOR r64, r/m64

SUB r/m8, r8   &lt;=&gt; SUB r8, r/m8
SUB r/m16, r16 &lt;=&gt; SUB r16, r/m16
SUB r/m32, r32 &lt;=&gt; SUB r32, r/m32
SUB r/m64, r64 &lt;=&gt; SUB r64, r/m64

SBB r/m8, r8   &lt;=&gt; SBB r8, r/m8
SBB r/m16, r16 &lt;=&gt; SBB r16, r/m16
SBB r/m32, r32 &lt;=&gt; SBB r32, r/m32
SBB r/m64, r64 &lt;=&gt; SBB r64, r/m64

MOV r/m8, r8   &lt;=&gt; MOV r8, r/m8
MOV r/m16, r16 &lt;=&gt; MOV r16, r/m16
MOV r/m32, r32 &lt;=&gt; MOV r32, r/m32
MOV r/m64, r64 &lt;=&gt; MOV r64, r/m64

CMP r/m8, r8   &lt;=&gt; CMP r8, r/m8
CMP r/m16, r16 &lt;=&gt; CMP r16, r/m16
CMP r/m32, r32 &lt;=&gt; CMP r32, r/m32
CMP r/m64, r64 &lt;=&gt; CMP r64, r/m64
</code></pre></div></div>

<p>Each dual represents one bit of information: we can arbitrarily assign one form
to be <code>true</code> and its counterpart to be <code>false</code>. Given enough of them in a target
program, we can hide a message by translating between the forms. The result:
a binary that’s exactly the same size as the original and with the same performance
characteristics, but with a hidden message.</p>

<p>That’s all <em>steg86</em> does: it locates every semantic dual in its target program, maps
its input message to a bitstring, and translates each dual depending on its corresponding
message bit. Because it only uses duals, it’s completely agnostic to its containing format:
the <code>steg86</code> CLI currently supports ELF, Mach-O, and PE/PE32+ binaries.</p>

<p>Here’s what that actually looks like, with (some of the) differing bytes highlighted in red:</p>

<p><img src="https://blog.yossarian.net/assets/steg86_vbindiff.png" alt="vbindiff between bash and steg'd bash"></p>

<p>And, of course, try it for yourself:</p>

<div><div><pre><code><span>$ </span>steg86 profile /bin/bash
Summary <span>for</span> /bin/bash:
  175828 total instructions
  27957 potential semantic pairs
  27925 bits of information capacity <span>(</span>3490 bytes, approx. 3KB<span>)</span>

<span>$ </span>steg86 embed /bin/bash test.steg <span>&lt;&lt;&lt;</span> <span>"hello world!"</span>
<span>$ </span>file test.steg
test.steg: ELF 64-bit LSB shared object, x86-64, version 1 <span>(</span>SYSV<span>)</span>, dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]<span>=</span>a6cb40078351e05121d46daa768e271846d5cc54, <span>for </span>GNU/Linux 3.2.0, stripped

<span>$ </span>steg86 extract test.steg
hello world!
</code></pre></div></div>

<p>See the <a href="https://github.com/woodruffw/steg86/blob/master/README.md">README</a> for prior work and
future refinements to <em>steg86</em>’s informational capacity.</p>

<p><strong>Edit</strong>: An important note: because compilers and assemblers tend to select just one of the forms
above, <em>steg86</em> <strong>cannot</strong> provide deniability, even with strong encryption. Its transformations
will always look abnormal compared to a compiler-produced binary.</p>

<hr>




<hr>




  






</div>]]>
            </description>
            <link>https://blog.yossarian.net/2020/08/16/Hiding-messages-in-x86-binaries-using-semantic-duals</link>
            <guid isPermaLink="false">hacker-news-small-sites-24178188</guid>
            <pubDate>Sun, 16 Aug 2020 14:40:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Patterns of Regional Cerebral Blood Flow as a Function of Obesity in Adults]]>
            </title>
            <description>
<![CDATA[
Score 84 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24177679">thread link</a>) | @InInteraction
<br/>
August 16, 2020 | https://www.iospress.nl/ios_news/body-weight-has-surprising-alarming-impact-on-brain-function/ | <a href="https://web.archive.org/web/*/https://www.iospress.nl/ios_news/body-weight-has-surprising-alarming-impact-on-brain-function/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
            <h3>Body Weight Has Surprising, Alarming Impact on Brain Function</h3> 
			<h4>Higher BMI is linked to decreased cerebral blood flow, which is associated with increased risk of Alzheimer's disease and mental illness, according to a new study in JAD</h4>		</p><div> 
						            		
						<p>
							<em>August 5, 2020</em><br>
							<strong>Amsterdam, NL and Costa Mesa, CA, USA – As a person's weight goes up, all regions of the brain go down in activity and blood flow, according to a <a href="https://content.iospress.com/articles/journal-of-alzheimers-disease/jad200655" target="_blank">new brain imaging study</a> in the <em><a href="http://j-alz.com/" target="_blank">Journal of Alzheimer's Disease</a></em>. One of the largest studies linking obesity with brain dysfunction, scientists analyzed over 35,000 functional neuroimaging scans using single-photon emission computerized tomography from more than 17,000 individuals to measure blood flow and brain activity. </strong>
						</p><p>Low cerebral blood flow is the #1 brain imaging predictor that a person will develop Alzheimer’s disease. It is also associated with depression, ADHD, bipolar disorder, schizophrenia, traumatic brain injury, addiction, suicide, and other conditions. “This study shows that being overweight or obese seriously impacts brain activity and increases the risk for Alzheimer’s disease as well as many other psychiatric and cognitive conditions,” explained Daniel G. Amen, MD, the study’s lead author and founder of Amen Clinics, one of the leading brain-centered mental health clinics in the United States</p>
<div id="attachment_48994"><p><img src="https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image1_crop.jpg" alt="" width="454" height="293" srcset="https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image1_crop.jpg 454w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image1_crop-300x194.jpg 300w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image1_crop-148x96.jpg 148w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image1_crop-333x215.jpg 333w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image1_crop-320x207.jpg 320w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image1_crop-310x200.jpg 310w" sizes="(max-width: 454px) 100vw, 454px"></p><p><em>Areas of obesity-related hypoperfusion in brain regions vulnerable to Alzheimer’s disease: Hippocampus</em></p></div>
<p>Striking patterns of progressively reduced blood flow were found in virtually all regions of the brain across categories of underweight, normal weight, overweight, obesity, and morbid obesity. These were noted while participants were in a resting state as well as while performing a concentration task. In particular, brain areas noted to be vulnerable to Alzheimer’s disease, the temporal and parietal lobes, hippocampus, posterior cingulate gyrus, and precuneus, were found to have reduced blood flow along the spectrum of weight classification from normal weight to overweight, obese, and morbidly obese.</p>
<div id="attachment_48995"><p><img src="https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image2_crop.jpg" alt="" width="500" height="333" srcset="https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image2_crop.jpg 500w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image2_crop-300x200.jpg 300w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image2_crop-148x99.jpg 148w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image2_crop-323x215.jpg 323w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image2_crop-320x213.jpg 320w, https://www.iospress.nl/wp-content/uploads/2020/08/JAD77-3_PR1_image2_crop-310x206.jpg 310w" sizes="(max-width: 500px) 100vw, 500px"></p><p><em>3D renderings of blood flow averaged across normal BMI (BMI = 23), overweight (BMI = 29), and obese (BMI = 37) men, each 40 years of age (credit: Amen Clinics)</em></p></div>
<p>Considering the latest statistics showing that 72% of Americans are overweight of whom 42% are obese, this is distressing news for America’s mental and cognitive health.</p>
<p>Commenting on this study, George Perry, PhD, Editor-in-Chief of the <em>Journal of Alzheimer’s Disease</em> and Semmes Foundation Distinguished University Chair in Neurobiology at The University of Texas at San Antonio, stated, “Acceptance that Alzheimer’s disease is a lifestyle disease, little different from other age-related diseases, that is the sum of a lifetime is the most important breakthrough of the decade. Dr. Amen and collaborators provide compelling evidence that obesity alters blood supply to the brain to shrink the brain and promote Alzheimer’s disease. This is a major advance because it directly demonstrates how the brain responds to our body.”</p>
<p>This study highlights the need to address obesity as a target for interventions designed to improve brain function, be they Alzheimer disease prevention initiatives or attempts to optimize cognition in younger populations. Such work will be crucial in improving outcomes across all age groups.</p>
<p>Although the results of this study are deeply concerning, there is hope. Dr. Amen added, “One of the most important lessons we have learned through 30 years of performing functional brain imaging studies is that brains can be improved when you put them in a healing environment by adopting brain-healthy habits, such as a healthy calorie-smart diet and regular exercise.”</p>
<p>###</p>
<p><strong>NOTES FOR EDITORS<br>
Full open access study</strong>:&nbsp;“<a href="https://content.iospress.com/articles/journal-of-alzheimers-disease/jad200655" target="_blank" rel="noopener">Patterns of Regional Cerebral Blood Flow as a Function of Obesity in Adults</a>” by Daniel G. Amen, Joseph Wu, Noble George, and Andrew Newberg (<a href="https://doi.org/10.3233/JAD-200655" target="_blank" rel="noopener">doi.org/10.3233/JAD-200655</a>). The article appears online in the <em>Journal of Alzheimer’s Disease</em> in advance of Volume 77, Issue 3 (September 2020) published by IOS Press. The study is openly available at: <a href="https://content.iospress.com/articles/journal-of-alzheimers-disease/jad200655" target="_blank" rel="noopener">content.iospress.com/articles/journal-of-alzheimers-disease/jad200655</a>.</p>
<p><strong>Contact</strong><br>
To request the full text of the article or further information please contact Diana Murray, IOS Press (+1 718-640-5678 or <a href="mailto:d.murray@iospress.com">d.murray@iospress.com</a>) To reach the authors for comment please contact. Natalie Buchoz, Amen Clinics (+1 714-421-3778 or <a href="mailto:nbuchoz@amenclinic.com">nbuchoz@amenclinic.com</a>) For questions about the <em>Journal of Alzheimer’s Disease</em>, please contact George Perry (+1 210-458-8660 or <a href="mailto:george.perry@utsa.edu">george.perry@utsa.edu</a>)</p>
<p><strong>About the Journal of Alzheimer’s Disease</strong><br>
Now in its 23d year of publication, the&nbsp;<a href="http://www.j-alz.com/" target="_blank" rel="noopener"><em>Journal of Alzheimer’s Disease</em></a>&nbsp;(JAD) is an international multidisciplinary journal to facilitate progress in understanding the etiology, pathogenesis, epidemiology, genetics, behavior, treatment, and psychology of Alzheimer’s disease. The journal publishes research reports, reviews, short communications, book reviews, and letters-to-the-editor. Groundbreaking research that has appeared in the journal includes novel therapeutic targets, mechanisms of disease, and clinical trial outcomes. JAD has a 2019 Journal Impact Factor of 3.909 according to Journal Citation Reports (Clarivate, 2020). It is&nbsp;published by IOS Press.<a href="http://j-alz.com/" target="_blank" rel="noopener">&nbsp;j-alz.com</a></p>
<p><strong>About&nbsp;IOS Press</strong><br>
IOS Press is headquartered in Amsterdam with satellite offices in the USA, Germany, India and China and serves the information needs of scientific and medical communities worldwide. IOS Press now publishes more than 80 international peer-reviewed journals and about 75 book titles each year on subjects ranging from computer science, artificial intelligence, and engineering to medicine, neuroscience, and cancer research.&nbsp;<a href="http://iospress.com/" target="_blank" rel="noopener">iospress.com</a></p>
  
					</div></div>]]>
            </description>
            <link>https://www.iospress.nl/ios_news/body-weight-has-surprising-alarming-impact-on-brain-function/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24177679</guid>
            <pubDate>Sun, 16 Aug 2020 13:39:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AKAI MPC 3000 sampler/sequencer drum machine]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 94 (<a href="https://news.ycombinator.com/item?id=24177626">thread link</a>) | @omnibrain
<br/>
August 16, 2020 | https://audiojive.com/akai-mpc-3000/ | <a href="https://web.archive.org/web/*/https://audiojive.com/akai-mpc-3000/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
<figure><img loading="lazy" width="1024" height="655" src="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=1024%2C655&amp;ssl=1" alt="akai-mpc-3000" srcset="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=1024%2C655&amp;ssl=1 1024w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=300%2C192&amp;ssl=1 300w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=768%2C491&amp;ssl=1 768w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=1536%2C982&amp;ssl=1 1536w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=360%2C230&amp;ssl=1 360w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=545%2C349&amp;ssl=1 545w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?resize=1600%2C1023&amp;ssl=1 1600w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000.jpg?w=1911&amp;ssl=1 1911w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></figure>



<p>The AKAI MPC 3000 is a classic and legendary sampler/sequencer drum machine from the early 90’s. This music instrument has been associated with everything from Hip-Hop to R&amp;B and House music.</p>



<h2>AKAI MPC 3000 Classic</h2>



<figure><img loading="lazy" width="1024" height="655" src="https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=1024%2C655&amp;ssl=1" alt="" srcset="https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=1024%2C655&amp;ssl=1 1024w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=300%2C192&amp;ssl=1 300w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=768%2C491&amp;ssl=1 768w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=1536%2C982&amp;ssl=1 1536w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=360%2C230&amp;ssl=1 360w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=545%2C349&amp;ssl=1 545w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?resize=1600%2C1023&amp;ssl=1 1600w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-classic.jpg?w=1911&amp;ssl=1 1911w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></figure>



<p>The original AKAI MPC 3000 Classic released in 1994 as the step up from its predecessor, the MPC 60 (and the later MPC 60 mkII). MSRP was staggering, coming in at just under $4,000 in the early 90’s (a little over $7,000 in today’s money). It was clear that this machine was meant for professional studios and intended to be a tool for deliberate music applications.</p>



<h2>AKAI MPC 3000 LE</h2>



<figure><img loading="lazy" width="1024" height="655" src="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=1024%2C655&amp;ssl=1" alt="akai-mpc-3000-le" srcset="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=1024%2C655&amp;ssl=1 1024w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=300%2C192&amp;ssl=1 300w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=768%2C491&amp;ssl=1 768w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=1536%2C982&amp;ssl=1 1536w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=360%2C230&amp;ssl=1 360w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=545%2C349&amp;ssl=1 545w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?resize=1600%2C1023&amp;ssl=1 1600w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-le-.jpg?w=1911&amp;ssl=1 1911w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></figure>



<p>The black AKAI MPC 3000 LE is a limited edition release of only 2000 individually numbered units in the year 2000. </p>



<p>There is a rumor that only 1400 units have been released to the public because as far as we know, the public has not seen any units numbered 1400 through 2000. Let it be known if you have one of these rare units.</p>



<h2>AKAI MPC 3000 Specifications</h2>



<figure><img loading="lazy" width="1024" height="400" src="https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=1024%2C400&amp;ssl=1" alt="akai-mpc-3000-specifications" srcset="https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=1024%2C400&amp;ssl=1 1024w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=300%2C117&amp;ssl=1 300w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=768%2C300&amp;ssl=1 768w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=1536%2C601&amp;ssl=1 1536w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=2048%2C801&amp;ssl=1 2048w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=360%2C141&amp;ssl=1 360w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=545%2C213&amp;ssl=1 545w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?resize=1600%2C626&amp;ssl=1 1600w, https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-specifications.jpg?w=2320&amp;ssl=1 2320w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></figure>



<p><strong>Polyphony: 32 notes<br>Sampler: 16 bit, 44.1KHz, Mono and Stereo<br>Memory: 2 MB RAM (22 seconds) to upgradable 32 MB<br>Filter: Lowpass filter with resonance and envelope</strong></p>



<p><strong>General</strong><br>• Display: 320 character (240 x 64 dot graphic) LCD<br>• Disk drive: 3.5 inch HD (1.44MB formatted)<br>• CPU: V53 @ 16MHz<br>• Dimensions: 440(W) x 121(H) x 405(D) mm<br>• Weight: 9 kg<br>• Power requirements: 120 VAC 60Hz 40W<br>220-240 VAC 50Hz</p>



<p><strong>Sound Generator</strong><br>• Sampling rate: 44.1kHz (frequency response: 20Hz-20kHz)<br>• Sampling capacity: 2MB standard (21.9 seconds mono or 10.9<br>seconds stereo), expandable to 16MB (188.3 seconds mono or 94.1<br>seconds stereo).<br>• Data format: 16-bit linear<br>• Dynamic filtering: 12 dB/Octave dynamic resonant lowpass filter<br>per voice<br>• Maximum sounds in memory: 128<br>• Number of sound programs: 24<br>• Sound assignments per program: 64<br>• Simultaneous voices: 32</p>



<p><strong>Sequencer</strong><br>• Maximum notes: 75,000<br>• Resolution: 96 parts per 1/4-note (ppq)<br>• Sequences: 99<br>• Tracks per sequence: 99<br>• MIDI output channels: 64 (16 channels x 4 output ports)<br>• Song mode: 20 songs, 250 steps per song<br>• Drum pads: 16 (velocity and pressure sensitive)<br>• Drum pad banks: 4<br>• Sync modes: MIDI Time Code, MIDI clock, FSK 24, 1/4-note clicks<br>and SMPTE (optional). SMPTE frame rates supported are 24, 25,<br>29.97 drop and 30.</p>



<p><strong>Rear Panel Inputs/Outputs</strong><br>• Record input sensitivity (both L and R): (HI gain) -58dBm, 45kΩ;<br>(MID gain) -38dBm, 45kΩ; (LO gain) -18dBm, 45kΩ<br>• Digital sampling input: S/PDIF<br>• Stereo output level: 6dBm, 600Ω<br>• Level of 8 individual outputs: 6dBm, 600Ω<br>• Sync/Trigger input level: 0.5V p-p level (with input control at<br>maximum)<br>• Sync output level: 2.5V p-p, impedance 600Ω<br>• MIDI inputs: 2 (mergeable)<br>• MIDI outputs: 4 (independent)<br>• SCSI port: 1 (Apple 25-pin D-type SCSI connector)<br>• Headphone output: 1<br>• Foot Switch inputs: 2 (independently assignable)</p>



<figure><img loading="lazy" width="1024" height="404" src="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=1024%2C404&amp;ssl=1" alt="akai-mpc-3000-io-rear-back" srcset="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=1024%2C404&amp;ssl=1 1024w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=300%2C118&amp;ssl=1 300w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=768%2C303&amp;ssl=1 768w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=1536%2C606&amp;ssl=1 1536w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=360%2C142&amp;ssl=1 360w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=545%2C215&amp;ssl=1 545w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?resize=1600%2C631&amp;ssl=1 1600w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-io-rear-back.jpg?w=1800&amp;ssl=1 1800w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></figure>



<h2>History of the AKAI MPC 3000</h2>



<h3>Roger Linn</h3>



<p>In 1980 Roger Linn designed and released the worlds first drum machine that uses samples called the LM-1, under his own company Linn Moffett Electronics with then partner Alex Moffett. Eventually Linn Electronics went out of business and the next chapter would be Roger Linn and Akai Professional linking up to create new products. The collaboration was a good fit because Akai needed a creative designer and Roger Linn wasn’t a fan of the manufacturing aspects of the business. In 1988 they would release the Akai MPC 60 and later followed by the updated MPC 60 MKII. In 1994 came the release of the MPC 3000, the celebrated upgrade from the MPC 60 line.</p>



<h3>MPC 60 vs MPC 3000</h3>



<ul><li>MPC 60: 12 bit audio – MPC 3000: 16 bit audio.</li><li>MPC 60 has 750KB of stock memory, expandable to 1.5 MB. The MPC 3000 has 2 MB of stock memory, expandable up to 32 MB.</li><li>The MPC 60 only has a single mono sampling input, while the MPC 3000 has dual stereo inputs.</li><li>MPC 60 has no filters whle the MPC 3000 comes equipped with a lowpass filter.</li><li>Both sound slightly different from eachother. Some prefer the 60, others prefer the 3000.</li></ul>



<p>Roger Linn’s vision for what a drum machine could be revolved around <em>grooves</em>. A drum machine had to have great groove to it. So he wanted it to be simple and be able to record exactly what you threw at it. This required the timing to be super tight in the MPC 3000. Linn made sure all the details were figured out for this on the backend and the result is a machine that grooves perfectly.</p>



<figure><div>
<p><span><iframe width="1160" height="653" src="https://www.youtube.com/embed/vubHg2379d0?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;start=80&amp;wmode=transparent" allowfullscreen="true"></iframe></span></p>
</div><figcaption>Roger Linn talks about the AKAI MPC 3000.</figcaption></figure>



<p>Hip-hop took an immediate kinship to the machine. Early notable users were producers like DJ Quik, Battlecat, Dr. Dre and J DIlla. The creation of the drum machine sampler ushered in innovation to a musical artform that was previously based around two turntables. The innovation of the sampler elevated the artform to a new frontier. Roger Linn himself has said that he did not anticipate this.</p>



<blockquote><p><em><span><b>”The AKAI MPC simultaneously </b></span><strong>digitized beat-making, progressed the pastiche musical form, and freed Hip-Hop from the confines of earlier technology.”</strong></em></p><cite><a href="https://happymag.tv/in-praise-of-the-akai-mpc-a-hip-hop-time-machine/" target="_blank" rel="noreferrer noopener">HappyMag.Tv</a></cite></blockquote>



<h3>J Dilla</h3>



<p>J Dilla started to make a name for himself in the mid 90’s with classic records like Pharcyde’s “Runnin”, Janet Jackson’s “Got Til It’s Gone”, and Q-Tip’s “Breathe &amp; Stop”.</p>



<figure><img loading="lazy" width="1024" height="797" src="https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=1024%2C797&amp;ssl=1" alt="akai-mpc-3000-j-dilla-making-a-beat" srcset="https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=1024%2C797&amp;ssl=1 1024w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=300%2C233&amp;ssl=1 300w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=768%2C597&amp;ssl=1 768w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=1536%2C1195&amp;ssl=1 1536w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=2048%2C1593&amp;ssl=1 2048w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=360%2C280&amp;ssl=1 360w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=545%2C424&amp;ssl=1 545w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-making-a-beat.jpg?resize=1600%2C1245&amp;ssl=1 1600w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption>J Dilla making music on the AKAI MPC 3000 LE.</figcaption></figure>



<p>Out of Dilla’s music also spawned the R&amp;B sub-genre Neo-soul. Also connected to the MPC 3000 through J Dilla’s work.</p>



<p>It’s safe to say that nobody else has displayed the MPC 3000’s groove capablities better than J Dilla. He was turning off the quantize setting during a time when literally everybody was relying on quantization for electronic music creation. He approached the MPC 3000 like a drummer would, and in turn he is regarded as one of the best drum programmers of all time.</p>



<figure><img loading="lazy" width="1024" height="832" src="https://i1.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian.jpg?resize=1024%2C832&amp;ssl=1" alt="akai-mpc-3000-j-dilla-smithsonian" srcset="https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=1024%2C832&amp;ssl=1 1024w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=300%2C244&amp;ssl=1 300w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=768%2C624&amp;ssl=1 768w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=1536%2C1247&amp;ssl=1 1536w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=2048%2C1663&amp;ssl=1 2048w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=360%2C292&amp;ssl=1 360w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=545%2C443&amp;ssl=1 545w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?resize=1600%2C1299&amp;ssl=1 1600w, https://i2.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-j-dilla-smithsonian-scaled.jpg?w=2320&amp;ssl=1 2320w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption>J Dilla’s MPC 3000 LE displayed in the Smithsonian National Museum of African American History &amp; Culture.</figcaption></figure>



<h3>Dr. Dre</h3>



<p>After the release of the landscape-changing album <em>The Chronic 2001</em> in 1999 by Dr. Dre, more of the public started to take strong notice of the machine. Dr. Dre stated in an interview with Scratch Magazine that he used four or five different MPC 3000’s at one time for the creation of the album to avoid the drawbacks of using disks and memory. He shared that during this time his beats were layed down with the drums in the 3000 first, and everything else revolving around that.</p>



<figure><img loading="lazy" width="1024" height="614" src="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-dr-dre.jpg?resize=1024%2C614&amp;ssl=1" alt="akai-mpc-3000-dr-dre" srcset="https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-dr-dre.jpg?resize=1024%2C614&amp;ssl=1 1024w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-dr-dre.jpg?resize=300%2C180&amp;ssl=1 300w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-dr-dre.jpg?resize=768%2C461&amp;ssl=1 768w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-dr-dre.jpg?resize=360%2C216&amp;ssl=1 360w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-dr-dre.jpg?resize=545%2C327&amp;ssl=1 545w, https://i0.wp.com/audiojive.com/wp-content/uploads/2020/08/akai-mpc-3000-dr-dre.jpg?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"></figure>



<h2>Interesting Facts About the MPC 3000</h2>



<ul><li>There are no visual waveforms. You chop on the MPC 3000 with numbers, editing the start and end time of samples with numerical digits. Others would argue that you can chop by individually sampling each chop.</li><li>There is no EQ or FX in the MPC 3000. Only a lowpass filter and attack/decay, and delay.</li><li>You can only cutoff 2 other pads per pad. Compare this with modern drum machines where you can apply choke groups, etc. and cutoff any pad.</li></ul>



<h2>Why The MPC 3000 Is The Best Drum Machine of All Time</h2>



<p>To put it plainly, the simplicity.</p>



<p>Even though technically an MPC is a computer, the ushering in of personal computers as we know them today, and the fast innovation simply changed how music was being made. Workflow started to shift from unmanageably short sample times to hoards of collections of samples on hard drives. Modern workflow now allows freely auditioning any sized samples and endless decisions to be made with endless tools at your fingertips, effectively debilitating creativity very easily.</p>



<p>If Roger Linn had not been the first to incorporate sampling into drum machines, and then successfuly iterate on it leading into the release of the 3000, its safe to say that Hip-Hop and House music would not have taken it under their wing and catapulted the machine into the history books in the way that its heralded as a classic machine and musical instrument.</p>



<p>When you take a step back, its easy to realize that the 3000 was really where things peaked for drum machines. The MPC 3000 knocked it out of the park where it mattered most…. The sound, the timing, and the workflow. Drum machines that came after the MPC 3000 started to offer new abilities and functions, but traded them for things like the beefy analog sound and streamlined workflow.</p>



<p><strong>The Timing</strong></p>



<p>When you talk to fans of the MPC 3000, you hear them talk about “The Feel.” They will tell you that the feel of the 3000 is like no other drum machine or sampler that exists. This is due to the timing that Roger Linn built into the machine. The timing on the MPC 3000 is extremely tight and about as true as you can get. It will record exactly what you play. Essentially, it is the essense of what a “groovebox” is.<br>The sequencer on the MPC 3000 is second to none.</p>



<p><strong>The Sound</strong></p>



<p>Theres something about the sound of the MPC 3000. It’s the sampling engine, but it also seems to be more than that. For drums, while subtle… enthusiasts will tell you its unmatched. While the sampling engine will color sounds in its own way, the 3000 also seems to have a unique glue which provides subtle punch. Sounds will jump off of the track and manage to coexist beautifully on the 3000.</p>



<p><em>The low end on the MPC 3000 is amazing.</em></p>



<p>The MPC 3000 is very bottom heavy and thick in sound. Roger Linn has talked about how they tried to make it sound like a tape machine. And it clearly does. You can drive this machine extremely hot and loud without ever losing any bottom end.</p>



<p>You can’t really get a computer or any DAW to sound like an MPC 3000. Some claim its a matter of boosting the low end, and cutting some of the high end frequencies to match the sound of the 3000. This is simply false. There are much more nuances happening that have yet to be achieved on a computer… mostly the digitial to analog conversion. The DAC on the MPC 3000 is extremely unique. It’s a machine and it sounds like a machine, in a good way. In the best way possible.</p>



<p><strong>The Workflow</strong></p>



<p>The workflow is unmatched. It’s minimal, but it also gives you the proper buttons for only the functions and screens that you need. </p>



<p>The addition of a number pad is brilliant and is extremely useful allowing …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://audiojive.com/akai-mpc-3000/">https://audiojive.com/akai-mpc-3000/</a></em></p>]]>
            </description>
            <link>https://audiojive.com/akai-mpc-3000/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24177626</guid>
            <pubDate>Sun, 16 Aug 2020 13:33:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Do I Need Kubernetes?]]>
            </title>
            <description>
<![CDATA[
Score 191 | Comments 156 (<a href="https://news.ycombinator.com/item?id=24177469">thread link</a>) | @mocko
<br/>
August 16, 2020 | https://mbird.biz/writing/do-i-need-kubernetes.html | <a href="https://web.archive.org/web/*/https://mbird.biz/writing/do-i-need-kubernetes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>A question I often hear from teams - both new and established - is “should we host our stack on <a href="https://kubernetes.io/">Kubernetes</a>?”.  Given all the buzz it gets in the tech world a lot of people assume&nbsp;so.</p>
<p>I’ve been working with k8s for several years - often with very powerful and complex platforms - and I think the truth is more&nbsp;nuanced.</p>
<p>Here’s my attempt at untangling that decision.  It’s geared toward startups and self-sufficient teams in wider organisations with responsibility for hosting their own products.  It might also have value to people in more traditional <span>IT</span> departments at larger&nbsp;organisations.</p>
<h3>How Can it Help&nbsp;Me?</h3>
<p>Kubernetes isn’t just a 2018-era buzzword.  It’s a robust, highly scalable system that allows you to construct application deployments out of well-considered primitives (<code>Pod</code>, <code>Service</code>, <code>Ingress</code> etc) then does its damnedest to make the reality match.  When applications crash it restarts them.  When whole swathes of underlying machines disappear it tries to replace them.  If you’re running numerous services (probably developed as a microservice architecture) and you’re looking for efficiency, resilience and a good story for deployment it can do a lot for&nbsp;you.</p>
<p>Want a basic degree of resilience in your service? (yes you do) - run <a href="https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/">multiple replicas</a> in your deployment then balance traffic between&nbsp;them.</p>
<p>If your workload is ‘bursty’ (e.g. a lot of <span>API</span> traffic) you could build on this by rigging up <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">autoscaling</a> to grow capacity when it’s needed.  This can save you a lot of money - instead of paying for peak capacity all of the time, provision a baseload amount to keep the platform ticking over and bring up more replicas when they’re needed.  And if you can <a href="https://cloud.google.com/kubernetes-engine/docs/concepts/custom-and-external-metrics">import the queue length</a> into your system autoscaling works for queue-based workloads&nbsp;too.</p>
<p>Worried about your code breaking?  Configure liveness/readiness <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">probes</a> and Kubernetes will automatically restart your services when they fail.  Likewise for hardware failure - I’ve seen clusters who’ve lost half their nodes keep on trucking like nothing happened.  A well-configured and maintained Kubernetes cluster can be incredibly robust.  If you have the resources you might even try running a <a href="https://netflix.github.io/chaosmonkey/">chaos-monkey</a>-like <a href="https://www.gremlin.com/chaos-monkey/chaos-monkey-alternatives/kubernetes/">tool</a> to make certain your stack will tolerate regular&nbsp;failures.</p>
<p>Kubernetes has excellent features for integrating with your <span>CI</span> workflow.  The most common pattern I see for this is a build (ideally standardised across all your projects) that pushes an image to a Docker registry then kicks your k8s cluster to load it.  Depending on taste that can be done by modifying the deployment to pull a new tag, or pointing the tag to the new image and triggering k8s to reload all pods.  In most cases (migrations ruin everything) deployment can be fully automated: if you trust your tests and feature flags it can be 100% automatic (aka <a href="https://www.continuousdelivery.com/">Continuous Delivery</a>); for the less brave a manual approval step after the build eases the pain.  Either way your developers should be able to release most builds to the cluster without any help from Kubernetes&nbsp;specialists.</p>
<p>In a similar vein to <span>CI</span> it can help you standardise logging and monitoring for your applications.  Doing this is by no means unique to Kubernetes, but having a single cluster-wide system that gathers together data about all your services in the same place can greatly ease the pain of debugging.  I’ve seen particularly good results come from using <a href="https://github.com/fluent/fluentd-kubernetes-daemonset">fluentd</a> to pipe json-structured logging output from applications into <a href="https://aws.amazon.com/cloudwatch/"><span>AWS</span> CloudWatch</a> and query it through <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AnalyzingLogData.html">Insights</a>.</p>
<p>Finally it can do a great deal to increase efficiency - both at the hosting layer (i.e. jamming as many applications onto those expensive <span>EC2</span> instances as possible) and also reducing the time your developers need to spend deploying software.  Humans cost more than computers so for most organisations the second of these will be the biggest win.  But Kubernetes isn’t magic - I’ve seen some beautiful, efficient clusters and some total gas guzzlers.  <em>You’ll only save money with Kubernetes if you invest in using it&nbsp;correctly.</em></p>
<h3>Where Does Kubernetes&nbsp;Shine?</h3>
<p>First of all think about your workload.  What kind of applications do you need to run?  How do they talk to each other and the outside world?  From experience I’d say the following attributes make your stack a good&nbsp;fit:</p>
<ul>
<li>Broadly speaking have you followed a microservice architecture?  There’s little value in Kubernetes if your world only has one application.  You’ll need to <a href="https://docs.docker.com/engine/examples/">Dockerize</a> your applications to deploy them to k8s; doing this from day 1 of any project is a good way to make yourself think about the boundaries between&nbsp;services.</li>
<li>Are your services exposed to each other and the outside world via <span>HTTP</span>(s) (probably yes, it’s 2020)?  This will fit k8s’ model nicely and you can use one of the normal <a href="https://github.com/kubernetes/ingress-nginx">ingress controllers</a> to front&nbsp;them.</li>
<li>Are your applications suitable to be load balanced?  No local state (use PostgreSQL / Redis / whatever for that), communication over known endpoints, fast startup/shutdown.  That isn’t to say you can’t keep shortlived state like a Redis cache in your cluster but for many cases you’d do better to use the boxed services a cloud provider&nbsp;offers.</li>
<li>Kubernetes is also well suited to headless applications like batch processing (through its <code>Job</code> <a href="https://kubernetes.io/docs/concepts/workloads/controllers/job/">controller</a>) and long-lived&nbsp;queue-consumers.</li>
<li>Is memory (and to a lesser extent <span>CPU</span>) usage predictable?  Kubernetes will try to host your applications on the same physical machines, so if one of them goes haywire and consumes all the <span>RAM</span> other workloads may be randomly killed.  In my experience this is the single biggest source of instability on Kubernetes clusters.  If you understand the resource usage of your applications you can declare a <code>resources.requests</code> and <code>resources.limits</code> to guarantee they’ll always get the memory they need and won’t be bad&nbsp;neighbours.</li>
</ul>
<p>Conversely here are a few kinds of workload I <em>don’t</em> think you should use it&nbsp;for:</p>
<ul>
<li>Static websites.  Typically you’d do this by baking your content into an <a href="https://hub.docker.com/_/nginx/">Nginx</a>-derived image and exposing it via your cluster’s ingress controller.  That’s a terrible way to host static content: all those little copies of Nginx need to be maintained, it’s inefficient and far less resilient / performant than it could be at the network level.  Sure you could stick it behind a <span>CDN</span> but if you’re doing that, why not have a cloud service host the content as&nbsp;well?</li>
<li>Hosting untrusted code.  That could mean applications supplied by your customers or third party code with a history of security problems, e.g. Wordpress or a dodgy library from <span>NPM</span>.  By default Kubernetes’ features for isolating workloads aren’t great.  You can add things like <a href="https://www.projectcalico.org/">Calico</a> to control network access but it’s easy to screw up and your security model is always going to be 100% dependent on the container runtime.  The default for this (Docker, based on <a href="https://en.wikipedia.org/wiki/Cgroups">Linux cgroups</a>) offers a huge attack surface to compromised applications: if a codebase your cluster is running gets hacked an attacker will not find it hard to escalate their access to the rest of the cluster.  Interesting work is being doing on alternatives to cgroups (e.g. <a href="https://katacontainers.io/">Kata Containers</a>) but it’s not yet mainstream enough to recommend to the average&nbsp;user.</li>
</ul>
<p>If your workload isn’t a good fit you may still have options for shoehorning it into Kubernetes (e.g. <a href="https://kubernetes.io/docs/concepts/storage/volumes/">volumes</a> can be used for long-lived state), but expect to spend a lot of engineering time working around the problems.  A lot of them are bad practices anyhow so your resources time might be better spent designing them out of the stack altogether - they’re only going to hurt you further down the&nbsp;line.</p>
<h3>No Magic&nbsp;Bullet</h3>
<p>Kubernetes isn’t a magic bullet.  It can help to move the complexities of hosting applications into a well-designed layer of their own but it won’t make them go away.  You’re always going to have to secure and maintain your&nbsp;platform.</p>
<p>To make a cluster useful for the average workload a menagerie of add-ons will be required.  Some of them almost everyone uses, others are somewhat niche.  Examples include (the Nginx <a href="https://github.com/kubernetes/ingress-nginx">ingress controller</a>, <a href="https://github.com/jetstack/cert-manager">cert-manager</a> and <a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler">cluster-autoscaler</a> to add extra nodes when you don’t have enough capacity.  Having a bespoke set of software operating key features of the environment makes your cluster a unique snowflake and it needs to be managed as such.  Also they need to be updated regularly and can sometimes be of questionable quality.  Configuration management tools like <a href="https://helm.sh/">Helm</a> or <a href="https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs">Terraform</a> are nigh-on mandatory: tinker with a cluster by hand at your peril, absent a declarative setup you’ll never be able to spin up another in exactly the same way.  I’ve seen this lead to no end of problems when operating or replacing more mature&nbsp;clusters.</p>
<p>When running any nontrivial stack on Kubernetes a degree of curation is always going to be required.  Letting anybody deploy whatever they like, however they like to your cluster can only lead to chaos.  You’ll end up with mess of inconsistently named applications scattered across dozens (or worse, one) namespaces with nobody knowing how they fit together.  Congratulations: you took your old spaghetti infrastructure and replaced it with a new flavour of spaghetti infrastructure, just served on a cooler kind of&nbsp;plate.</p>
<p>The most successful Kubernetes implementations I’ve seen are those where infrastructure specialist(s) work with developers to make sure workloads are well-configured, standardised, protected from one another and have defined patterns of communication.  They’ll handle the initial setup of an application on an infrastructure, hopefully wired up to a build/release system so dev teams can ship new versions of the code without help.  In a lot of ways this mirrors the wider culture of your organisation - if engineering is a chaotic free-for-all of bad communication and ill-defined responsibilities your hosting environment will mirror it.  At best this leads to unreliability; at worst an unreliable, unmaintainable, expensive&nbsp;mess.</p>
<h3>Cost of&nbsp;Ownership</h3>
<p>If you’re running applications on a large scale …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mbird.biz/writing/do-i-need-kubernetes.html">https://mbird.biz/writing/do-i-need-kubernetes.html</a></em></p>]]>
            </description>
            <link>https://mbird.biz/writing/do-i-need-kubernetes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24177469</guid>
            <pubDate>Sun, 16 Aug 2020 13:10:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Market for Discontinued Photographic Film]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 5 (<a href="https://news.ycombinator.com/item?id=24177142">thread link</a>) | @leejo
<br/>
August 16, 2020 | https://leejo.github.io/2020/08/14/the_market_for_discontinued_film/ | <a href="https://web.archive.org/web/*/https://leejo.github.io/2020/08/14/the_market_for_discontinued_film/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<p>
				<center>The Market For Discontinued Photographic Film</center>
			</p>
			<div>
				<center>
				
				
				

				August 14, 2020 (
				
				
					<a href="https://leejo.github.io/2020/04/28/off_season_ibiza/">Prev</a>
				
				/
				
					Next
				
			)

			
				</center>
			</div>
			<p>My fridge was recently full of instant film. I mean that literally, it was not possible for me to put any more packets of the film into the fridge without risking damaging them:</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/fuji/fridge.jpg"></p>

<p>I had acquired all of the film one day when my printer sent me an email asking if I wanted to purchase 93 packs of Fujifilm FP-100c for 2,790.- CHF. That’s 30.- CHF per box, about three times what this film used to retail for and about one third of what it currently sells for<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>. So I thought about the offer for five minutes, then said yes.</p>

<p>I figured I could sell half of the packs and recoup my costs, after various expenses, then I would have around 45 boxes that I could shoot a photo project with. So I picked the film up and thanked my printer. He even included the above fridge, three Polaroid cameras, and a bunch of accessories for free. So whichever way I spin this, even if a few packs went missing in the post, I would still be close to doubling my investment <em>at the least</em> if I decided to sell all the film. Not bad.</p>

<p>The film had been discontinued, at least announced to be, in early 2016. The film was still available on a wholesale level up until sometime in 2018 so people had started stockpiling it and the prices inevitably went up. The problem with photographic film is that it will start go off in a few years as the chemicals break down, so it needs to be cold stored. This is especially the case with instant film as there are chemicals not just to record the image but also the entire development process is included in each frame.</p>

<p><strong>Instant Film</strong></p>

<p>There’s a market for this stuff as there is a range of old cameras and backs for other cameras that can only function with it. The film comes in dedicated plastic packs that the cameras/backs are designed to work with. You load a pack, fiddle about a bit, and you are ready to shoot. Like other instant films you take the shot, pull out the frame, give it a minute or two, then “peel apart” the frame to reveal the image.</p>

<p>The film can still be bought “new” on auction sites, some analog specific photography stores, and private sellers; but all of the film is now expired as the last batch was marked to do so in early 2019, so there’s a risk involved in any purchase of this film if you want it “fresh”. To purchase a single box of the film from one of the last batches you should expect to pay around 100.- CHF. Ten times what it originally retailed for.</p>

<p>Given there are ten frames in each box, and due to the fickle nature of the cameras that shoot this type of film you can often lose one or even two frames due to mechanical or exposure issues, you’re paying in the region of 12.- CHF <em>per photo</em>.</p>

<p>This is not a case of having to learn how to load and use the film - sometimes you just have bad luck. The paper mechanism used to pull out the shot frame and prepare the next sometimes tears. Just last week I was using some and the first frame leader from the box tore, I had to open the camera to retrieve the next leader and lost another three frames in the process. Somehow the third frame managed to hide amongst the rest and turned up again between the 6th and the 7th frame, something I’ve not experienced before.</p>

<p>This is not fun, it’s quite ridiculous, and if I’m being honest I don’t see the point of this stuff and find it all very annoying. I say that as someone who is steeped in the film process. Sure I understand the aesthetic and the tangible nature of the process, but that’s not for me. I mean, if you really want to shoot it that’s fine, but at this price point I would now prefer to <a href="https://leejo.github.io/projects/bergbahnen/polaroids/">emulate it</a>, at least when the reason to do so is to have some sort of contextual point for the aesthetic. Each to their own of course.</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/fuji/freezer.jpg"></p>

<p>Anyway, Fuji have got form with this. I’ve been using some of their film stocks for close to two decades so have seen product lines come and go, and my other fridge/freezer (above) contains some of those products that I do continue to use. Of course you can still purchase some of the discontinued film if you really want to. A few of those I use or used to are detailed below, and this is in no way an <a href="https://en.wikipedia.org/wiki/List_of_discontinued_photographic_films#Fujifilm">exhaustive list</a>:</p>

<p><strong>Neopan 1600</strong> - A mid to high speed black and white film that had a grain structure that I haven’t seen in other films. I used this quite a bit when shooting skate photos but it was never available in formats larger than 35mm so I stopped when I moved exclusively to medium format. You see this now and then for sale, but it won’t be good to shoot as it’s <em>at least</em> a decade expired and mid-high speed film doesn’t last more than a few years after expiry unless it’s frozen; and of course you can’t guarantee the storage history.</p>

<p>I have seen this selling for 30 to 50.- CHF for a <em>single</em> roll of 35mm, or 250.- CHF for ten packs. That’s five to ten times its original retail price.</p>

<p><strong>Fuji Fortia</strong> - a once/twice off colour slide film that was released around 2005. It was like Fuji’s Velvia 50 (detailed below) but with even more saturated reds. There were rumours that it was a batch of Velvia that didn’t pass quality control, so Fuji sold it as a special edition for the cherry blossom season in Japan. It was available for a couple of years so probably just a single run, which does backup the “it was a messed up Velvia batch” rumor.</p>

<p>You see rolls of this for sale now and then, with the price approaching ten times what it originally retailed for. This was available in medium format so I did shoot it and you can see what I mean about the saturation from the image below, which I actually had to <em>desaturate</em> a little in post as it was just too much.</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/fuji/2008_poppies_cambs.jpg"></p>

<p><strong>Acros 100</strong> - Another Fuji speciality, a medium to slow speed black and white film that offered four selling points: extremely fine grain for its box speed (100 ISO), very contrasty in normal development, very sharp, and very good reciprocity failure rates. You can shoot exposures up to several minutes long with little adjustment required, which may well be unique amongst all film stocks.</p>

<p>This was discontinued a couple of years ago but then came back as Acros II, however it is no longer Fuji manufacturing it and I believe it is a co-operation with Ilford<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup>. This is probably a good thing, however the 4x5 version of the film is not being made and luckily I stocked up on this a few months before its original discontinuation was announced so I have enough to last me for a few years at least. I am using this film for a specific project, which is why I bought a few boxes; my current count is 12 remaining, that’s 240 frames.</p>

<p>I rarely see this for sale in its 4x5 version, and those I do see tend to not be from the final batches, which had expiry dates of 2019-10. This was selling for about 70.- CHF a box when it was available and I suspect those final batch boxes would go for at least twice that now.</p>

<p><strong>Velvia 50</strong> - The classic landscape (and Formula 1?<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup>) photographer’s slide film. Very popular up until around, I dunno, 2005? It’s still going, but i suspect will be discontinued soon. It’s no longer available outside Japan in large format sizes, and Fuji have cut down on the number of options for it in smaller sizes. Also of note is that when I was stockpiling it the boxes had very short expiry dates, less than a year, suggesting that sales have slumped. Since then the price in Japan has gone up 50% so it’s no longer a compelling option.</p>

<p>I still shoot this, but it’s very fickle. It needs graduated neutral density filters in many cases (which I don’t have) and suffers from terrible reciprocity failure and very easy over/under exposure even if you know what you’re doing. You often have to bracket your exposures +/- a stop, which is not cheap when shooting large format film. When you get it right you understand why it was number one it its niche, again another shot that I had to pull back the saturation:</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/fuji/lac_leman_2019.jpg"></p>

<p><strong>What Does This All Mean</strong></p>

<p>Discontinued film stocks are selling for twice to ten times their original retail price, so should you invest in film? Nah, not at all. Unless you discover a batch of Fuji FP-100c that’s been cold stored, is from 2018 or 2019, and selling at less than 40.- CHF a box, in which case go for it and double your investment. Clearly there is a market for discontinued photographic film emulsions, but they’re a niche within a niche and we’re now down to the products that don’t offer a unique selling point.</p>

<p>The discontinuation of the above stocks doesn’t mean much, really - you can just switch to another stock and adjust as necessary. Yeah it’s frustrating at first, but that’s the nature of film. The issue with Fuji FP-100c being discontinued is that it also renders an entire range (and more) of cameras unusable<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup>. There are no other options, or at least limited options, to continue using the cameras<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup>.</p>

<p>That’s what’s kind of sad about this entire thing, although I guess that is the end state of all technology designed around using refills to function. Printers, things with fixed internal batteries, liquid fuel vehicles, SodaStreams? There’s more of these than you think. We will still have 35mm film for a long time I suspect, and 120 and 4x5 and 8x10 and so on; but some of the more niche products are approaching obsolescence and thus unavailability. We can retrofit some of the technology that require these refills, but eventually the expense isn’t worth it.</p>

<p>My reasons for shooting film are because it gives me access to alternative formats and some technical controls that I can’t get elsewhere, at least not at an affordable price point<sup id="fnref:6" role="doc-noteref"><a href="#fn:6">6</a></sup>. Movements, a square or panoramic frame, an alternative way to interact with my subjects. An interesting observation about instant film is the reaction to it, compared to shooting a digital image that is effectively the same. The tangible nature of the process really is a hook.</p>

<p>To refer to a blog post I have quoted on more …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://leejo.github.io/2020/08/14/the_market_for_discontinued_film/">https://leejo.github.io/2020/08/14/the_market_for_discontinued_film/</a></em></p>]]>
            </description>
            <link>https://leejo.github.io/2020/08/14/the_market_for_discontinued_film/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24177142</guid>
            <pubDate>Sun, 16 Aug 2020 12:08:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A layman's guide to understanding the Cloud]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24176918">thread link</a>) | @kislayverma
<br/>
August 16, 2020 | https://kislayverma.com/for-the-layman/for-the-layman-ep-2-what-is-the-cloud/ | <a href="https://web.archive.org/web/*/https://kislayverma.com/for-the-layman/for-the-layman-ep-2-what-is-the-cloud/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<div>
<p>Hello everyone!</p>
<p>In this episode of the “<a href="https://kislayverma.com/category/for-the-layman/">For the layman</a>” series, I am going to discuss what the “cloud” is. We’ve all heard of iCloud, AWS, cloud computing etc, and understand the power of their ubiquitous presence. Let’s understand the history and the mechanics of the Cloud a little more.</p>
<hr>
<p><span><strong>tl;dr –</strong> The Cloud is Uber for computers. It is made up of hundreds of thousands of computers (aka servers) that users can rent out to run their software in exchange for a regular fee – mostly based on usage. Cloud companies take care of running the hardware with all kinds of best practices so that software developers and software development companies don’t have to and can focus on their core work.</span></p>
<hr>
<p>Have you ever seen one of those high intensity surgery scenes in movies where the doctor keeps shouting at the nurses “Give me a clamp” or “Give me 5cc of &lt;insert medicine name&gt;”? For the longest time, software development used to be like (only less high stakes for the most part). Programmers would write awesome <a href="https://a16z.com/2011/08/20/why-software-is-eating-the-world/">applications that could eat the world</a>. But running these awesome apps required big computers. So while the programmer finished writing the last line of code or polishing the last bit of documentation (HAHAHAHA), she would start screaming, “Give me a big computer”.</p>
<div><figure><img loading="lazy" src="https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer-1024x637.jpg" alt="" width="506" height="314" srcset="https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer-1024x637.jpg 1024w, https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer-300x187.jpg 300w, https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer-768x478.jpg 768w, https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer-1536x955.jpg 1536w, https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer-1142x706.jpg 1142w, https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer-1070x665.jpg 1070w, https://kislayverma.com/wp-content/uploads/2020/08/give-me-a-big-computer.jpg 1603w" sizes="(max-width: 506px) 100vw, 506px"></figure></div>
<p>For many years, this meant going out and buying the computer, plugging it in, installing a bazillion things on it, and forever making sure no one pulled out the plug by mistake. I’m not even getting into the bureaucracy of procuring said computer. As companies started churning out more and more software, this got to be a real problem. With the rise of the cloud, today the application developer could herself set up a new computer with no more than a few clicks of the mouse. No fuss at all. <strong>The cloud has commoditized hardware and the operations around it.</strong></p>
<p>To understand the rise of cloud computing, let’s look a little bit at the history of computers and their use.</p>
<hr>
<p>The first programmable computer was (arguably) the one developed by Alan Turing’s team in Bletchley Park as part of the allied effort at intelligence gathering in WW2. “<strong>Programmable Computer</strong>” means that this was a machine that could be arranged to do any calculation. Configured one way, it could crack the Nazi ENIGMA code. Set up another way, it could compute the <a href="https://www.wired.com/2016/03/six-things-probably-didnt-know-pi/">value of Pi</a> to the umpy-umpth decimal.&nbsp;</p>
<p>This is remarkable by itself because most machines now or since do only one thing. A screwdriver, a bulldozer, an airplane, all of them do exactly one thing. Even the “swiss knife” is a collection of many machines, each for one purpose. So this “programmable computer” was a breakthrough in its own right because you could get it to do anything by programming it in different ways.</p>
<p>Anyhow, with a dazzling array of innovations in hardware and computer science, it came to be that computers became commonplace. They could be found in people’s homes, and what we know today as Silicon Valley was beginning to take shape. However, access to computers at the scale at which this new computing revolution wanted it was still not easy. You could easily buy a computer for your home or office, but buying 50 computers was still a pain. Marc Randolph recounts the story from the launch day of Netflix in his book <a href="https://www.amazon.in/gp/product/B07QRVWBX2?ie=UTF8&amp;tag=kislayverma-21&amp;camp=3638&amp;linkCode=xm2&amp;creativeASIN=B07QRVWBX2">That will never work</a> about how his team were constantly rushing out to buy more computers from a neighbourhood shop because of the unexpectedly large number of people visiting the website.</p>
<p>Since this buy-on-demand model did not work very well, software companies started buying and keeping computers in their office (this is still done widely and is called <strong>on-premise/on-prem</strong>). IT teams would set up the computers, power system, air conditioning, cable layouts, failsafes etc in some designated area in the office. This meant that the company always had a buffer stock of computing power at hand. The cost of this was the capital tied up in all the servers whether being used or not.</p>
<div><figure><img loading="lazy" src="https://kislayverma.com/wp-content/uploads/2020/08/on-prem-deployments-1013x1024.jpg" alt="" width="514" height="519" srcset="https://kislayverma.com/wp-content/uploads/2020/08/on-prem-deployments-1013x1024.jpg 1013w, https://kislayverma.com/wp-content/uploads/2020/08/on-prem-deployments-297x300.jpg 297w, https://kislayverma.com/wp-content/uploads/2020/08/on-prem-deployments-150x150.jpg 150w, https://kislayverma.com/wp-content/uploads/2020/08/on-prem-deployments-768x776.jpg 768w, https://kislayverma.com/wp-content/uploads/2020/08/on-prem-deployments-1070x1081.jpg 1070w, https://kislayverma.com/wp-content/uploads/2020/08/on-prem-deployments.jpg 1233w" sizes="(max-width: 514px) 100vw, 514px"></figure></div>
<p>And you know what the sneaky software developers did (and have been doing since)? They found out that getting computers wouldn’t be so much of a pain anymore, so they started churning out even more software. Sooo much more of it. Easy supply further fuelled the hunger for computational resources.</p>
<div>
<div>
<h4>Support this blog on Patreon</h4>

</div>
<div>
<div><figure><a href="https://www.patreon.com/bePatron?u=29760145"><img loading="lazy" src="http://167.71.230.226/wp-content/uploads/2020/08/Digital-Patreon-Logo_FieryCoral-1024x1024.png" alt="" width="100" height="100" srcset="https://kislayverma.com/wp-content/uploads/2020/08/Digital-Patreon-Logo_FieryCoral-1024x1024.png 1024w, https://kislayverma.com/wp-content/uploads/2020/08/Digital-Patreon-Logo_FieryCoral-300x300.png 300w, https://kislayverma.com/wp-content/uploads/2020/08/Digital-Patreon-Logo_FieryCoral-150x150.png 150w, https://kislayverma.com/wp-content/uploads/2020/08/Digital-Patreon-Logo_FieryCoral-768x768.png 768w, https://kislayverma.com/wp-content/uploads/2020/08/Digital-Patreon-Logo_FieryCoral.png 1080w" sizes="(max-width: 100px) 100vw, 100px"></a></figure></div>
</div>
</div>

<p>The other problem for companies was that off-the-shelf computers came in certain specific sizes. Roughly speaking, <strong>a computer is made up of storage (Hard disk), computing power (CPU cores), memory (RAM) and the network (LAN/Internet)</strong>. But in the new digital age, all kinds of programs were being written which demanded each of these in different combinations. Some wanted a lot of network but didn’t do much computing (Netflix, Zoom), some stored a lot of data but didn’t have to be fast (data backup systems), and so on.</p>
<p>Most companies couldn’t afford to keep all combinations of such machines at hand. It was too expensive to buy and they would have had to keep a team of engineers for this alone. So some smart folks at IBM, the premier computing company of its time, came up with the idea of <strong>Virtualization</strong>. Virtualization allowed us to hide multiple computers and all their resources behind a curtain and think in terms of their aggregate resources. E.g. Ten 4 core computers with 8 GB RAM and 256 GB storage each became a collection of 40 cores, 80 GB RAM, and 2560GB of storage which could be parcelled out into “<strong>virtual machines</strong>” as per the programmer’s requirement. e.g. All of the above mentioned resources could be combined to make 2 huge virtual machines (aka VMs) of 20 cores, 40 GB RAM, and 1280GB storage. Wide adoption of virtualization has since hidden the actual computers (aka <strong>bare metal</strong>) from the programmers view.</p>
<div><figure><img loading="lazy" src="https://kislayverma.com/wp-content/uploads/2020/08/virtualization-1024x753.jpg" alt="" width="460" height="338" srcset="https://kislayverma.com/wp-content/uploads/2020/08/virtualization-1024x753.jpg 1024w, https://kislayverma.com/wp-content/uploads/2020/08/virtualization-300x220.jpg 300w, https://kislayverma.com/wp-content/uploads/2020/08/virtualization-768x564.jpg 768w, https://kislayverma.com/wp-content/uploads/2020/08/virtualization-1536x1129.jpg 1536w, https://kislayverma.com/wp-content/uploads/2020/08/virtualization-1070x786.jpg 1070w, https://kislayverma.com/wp-content/uploads/2020/08/virtualization.jpg 1664w" sizes="(max-width: 460px) 100vw, 460px"></figure></div>
<p>While virtualization gave organization’s huge leeway in terms of deploying computational resources efficiently, it also introduced a huge “<strong>Virtualization Layer</strong>” to the already complex stack of hundreds, sometimes thousands of computers they were running. Some companies were reaching the stage where they couldn’t house all their servers in their offices and had to open up <strong>data-centers</strong> (separate facilities for storing and operating all the servers). This was obviously a huge capital investment and distraction for these companies. They didn’t want to be in the business of running hardware, but they had no choice.</p>
<p>Around the dot com crash of the 90s, some companies (especially Amazon) had a lot of computers and expertise in operating them, and were looking to make some money. They realized that with the internet potentially connecting all computers of the world to each other, they could not only rent out their servers to people who needed to use them, but also sell their expertise in operating them reliably as a service with the hardware. This was the origin of the <strong>cloud</strong> (or <strong>cloud computing</strong> or <strong>cloud services</strong>) as we know it today.</p>
<p>The users of the cloud (the renters of the servers) essentially reach out into the Cloud to lay their hands on mostly Virtual Machines as per their computing needs without worrying about where they kept, which brand they are, and whether they are connected to the power supply or not. Cloud companies like AWS, Azure, GCP, Digital Ocean (where this blog is hosted) take care of all that so we can just focus on running the cool Facemash applications we have written. Users pay an hourly, or monthly, or some other sort of recurring charge based on their usage of these machines. No more scrambling around to buy computers, connect them etc etc. With heavy automation, today even individual developers can manage more computing power than entire teams not too long ago.</p>
<div><figure><img loading="lazy" src="https://kislayverma.com/wp-content/uploads/2020/08/cloud-providers-and-users-923x1024.jpg" alt="" width="434" height="481" srcset="https://kislayverma.com/wp-content/uploads/2020/08/cloud-providers-and-users-923x1024.jpg 923w, https://kislayverma.com/wp-content/uploads/2020/08/cloud-providers-and-users-271x300.jpg 271w, https://kislayverma.com/wp-content/uploads/2020/08/cloud-providers-and-users-768x852.jpg 768w, https://kislayverma.com/wp-content/uploads/2020/08/cloud-providers-and-users-1070x1187.jpg 1070w, https://kislayverma.com/wp-content/uploads/2020/08/cloud-providers-and-users.jpg 1359w" sizes="(max-width: 434px) 100vw, 434px"></figure></div>
<p>In the last decade, this process of cloudification has gone beyond hardware and even into the realm of software. Most cloud providers have “<strong>managed services</strong>” under which they provide well set up and maintained installations of the most commonly used software already running. We don’t even have to set up this software now – we just rent a running version of it for our own purposes -as if it was a physical thing. This is a huge blessing for startups since some of the most commonly used types of software like databases, firewalls, caches, message queues are available at only a few clicks notice and don’t have to be installed and operated. The barrier to entry in the software world has never been lower with more and more of the grunt work being moved off to the cloud.</p>
<p>Think of cloud hardware and software in terms of the “<a href="https://kislayverma.com/for-the-layman/for-the-layman-ep-1-what-is-a-distributed-system/">distributed car</a>” I had discussed in a previous article. The engine, the wheels, the fuel injection system etc are all in the cloud now, and you can have as many of them as you can pay for. As the car maker, you can now focus on your unique value addition – the branding, the interiors and leather seats, the new electric battery that only you hold the patent to, and so on.</p>
<p>Today, the cloud is part of the internet’s infrastructure like highways or schools for the real world. Most people want highways and schools as a means to an end. They don’t want to have to build them themselves. The cloud plays the same role for anyone that wants to build software. The result – omnipresent software and huge cloud provider bills 🙂</p>
<p><strong>Read Next</strong> – More articles on <a href="https://kislayverma.com/tag/distributed-systems/">distributed systems</a>.</p>

</div>
</article></div>]]>
            </description>
            <link>https://kislayverma.com/for-the-layman/for-the-layman-ep-2-what-is-the-cloud/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24176918</guid>
            <pubDate>Sun, 16 Aug 2020 11:27:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web by Google (TM)]]>
            </title>
            <description>
<![CDATA[
Score 672 | Comments 461 (<a href="https://news.ycombinator.com/item?id=24176898">thread link</a>) | @alangibson
<br/>
August 16, 2020 | https://landshark.io/2020/08/16/web-by-google.html | <a href="https://web.archive.org/web/*/https://landshark.io/2020/08/16/web-by-google.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p>Looking at Mozilla’s finances, it’s reasonable to conclude that Google is keeping them on life support to keep the anti-trust hounds at bay. Mozilla’s deal with Google will account for at least 70% of their revenues going forward. That’s over $400 million to be the default search provider in 4% of browsers. For 1 year. I’ll bet my next paycheck that Google reupped this rather generous agreement to avoid a repeat of Microsoft’s troubles over an Internet Explorer monopoly. My guess is that Google will decide it’s in their interest to pull the plug right around the time this latest wave of anti-trust talk blows over.</p>

<p>With the troubles at Mozilla, Google is one step closer to replicating the WeChat and Facebook walled-garden model on the Web. A quick survey a the field of play shows just how far Google has come in capturing the once open Web.</p>

<h2 id="browser-war-is-over">(Browser) War is over</h2>

<p>Chrome’s ability to dictate web standards will only get stronger over time. Safari and Firefox have been able to apply some shame to Chrome on things like disabling third-party cookies, but soon it’ll just be Apple left with a voice.</p>

<p>But Google doesn’t even need Chrome to dictate standards since it controls the Web’s front door. AMP, a technology no one asked for, is now on over 70% of all marketing websites for no other reason than Google said so.</p>

<p>And let’s not forget that most people now access the web via mobile devices, 75% of which run Google’s Android.</p>

<h2 id="original-sins">Original Sins</h2>

<p>Two deficiencies have determined the course the Web has taken: lack of native search and lack of native payments.</p>

<p>Lacking native distributed search allowed Google to grab a monopoly position as the entry point to the web. The Web’s orignal architects were off base on hyperlinks; it turns out people just want to skip right to the answer they’re looking for. There was once the beginnings of an alternative in public bookmarking sites, but social networks came and sucked all the air out of that space.</p>

<p>Lack of a safe and easy way of exchanging funds was a big factor in advertising becoming the dominant business model on the Web. No-charge services became the norm because, for a long time, there was no reasonable way to pay for them. Enter advertising to fill the void. I think it’s safe to say that Google’s AdWords is the dominant advertising platform on the open Web, which means it holds a commanding position in the Web’s finances.</p>

<p>I’m also going to throw in an honorable mention to poor native video support (it is hyper_text_ after all). It’s beating a dead horse to point out that Google also serves up the vast majority of videos streamed on the Web.</p>

<h2 id="so-then">So then…</h2>

<p>So Google controls the Web’s search and video infrastructure. It can and does dictate standards and media formats. It also controls a huge chunk of the revenues available when publishing and selling on the Web. It even controls the operating system and browser through which most people interact with it.</p>

<p>Google’s capture of the Web is a <em>fait accompli</em>. Only legislation will keep the World Wide Web from finally becoming Web by Google (TM).</p>


</div></div>]]>
            </description>
            <link>https://landshark.io/2020/08/16/web-by-google.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24176898</guid>
            <pubDate>Sun, 16 Aug 2020 11:23:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I've learned about scaling OSPF in Datacenters]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24176872">thread link</a>) | @signa11
<br/>
August 16, 2020 | https://elegantnetwork.github.io/posts/What-Ive-learned-about-OSPF/ | <a href="https://web.archive.org/web/*/https://elegantnetwork.github.io/posts/What-Ive-learned-about-OSPF/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
	
	<h4>The wisdom is that BGP is the only Datacenter protocol, but is it? Do we know?</h4>
	<p>
		Published on Aug 14, 2020 by Justin Pietsch
	</p>
	<ul></ul>
</div>
</div><div>
    <div>
      <div>
          <p>I worked at Amazon for 17 years as a network engineer. Now I’m out of Amazon and looking at the industry, I’m learning new things. <strong>One of the things I’ve learned recently is that OSPF shouldn’t be used for Clos leaf-spine networks because of scale.</strong> I’ve heard that it can’t keep up with the size and scale of the modern datacenter networks. <a href="https://www.juniper.net/documentation/en_US/release-independent/solutions/topics/task/configuration/ip-fabric-underlay-cloud-dc-configuring.html">Juniper IP Fabric Underlay Network Design and Implementation</a> is an example of the recommendation.  <a href="https://tools.ietf.org/html/rfc7938">https://tools.ietf.org/html/rfc7938</a> is what as used as the reference for using eBGP to be the routing protocol inside of large Clos networks.</p>

<p><strong>This is a shock to me</strong> since we built large OSPF Clos networks a decade ago. We built networks this way with hundreds of routers (even thousands) speaking OSPF. I’m not saying it is easy or that we didn’t have to understand OSPF well; If you don’t design it well, you get a flooding disaster. But if you do set it up right, it works really well. It converges quickly and doesn’t collapse under failure. The key thing is to be sure you understand how flooding works and you focus on areas and summarization. There are different things you have to be aware of when you are designing a Clos network with BGP vs OSPF. With BGP you have to be figure out how to mitigate path hunting. With OSPF need to work on how to avoid congestion collapse.</p>

<p>There is also work on building new protocols for these large Clos or Clos-like networks, such as <a href="https://datatracker.ietf.org/wg/rift/documents/">https://datatracker.ietf.org/wg/rift/documents/</a>. I don’t understand why OSPF or ISIS isn’t good enough so I don’t understand why these are necessary. There <a href="https://pc.nanog.org/static/published/meetings/NANOG74/1763/20181003_Martin_Routing_In_Dense_v1.pdf">are some good ideas in RIFT</a>, I’m just haven’t seen a reason to use it.</p>

<p>When we did this we were using CPUs from 2003 and we were using a lesser known OSPF stack. It’s OSPF implementation was okay, but we were strongly warned away from using their BGP implementation by the developers. <strong>We had to understand and mitigate risk</strong>. We had to test it as well as we could and be very careful in our first deployments. The stack had never been battle tested like this before. We still ran into some scary performance issues but got to work with great software engineers on the protocol stack to work through problems and figure out our scale.</p>

<p>Others agree with me, <a href="https://www.youtube.com/watch?v=Qmvg2mnbcPg">https://www.youtube.com/watch?v=Qmvg2mnbcPg</a>, even though they are mostly focusing on smaller networks than I was working on. But either way, OSPF can be made to work just fine on very large (or small) Clos networks.</p>

<p>As an example of the scale, this is a generic 24 port 3-tier Clos. It is possible to make OSPF work on this. This is smaller than what we were working on in 2012.
<img src="https://elegantnetwork.github.io/assets/images/24port-3tier-clos-resize.png" alt="24 port 3-tier clos"></p>

<p>To understand and then mitigate the risks an unknown OSPF stack, at scale, is why I started building a configuration management system and started <a href="https://elegantnetwork.github.io/posts/Network-Validation-with-Vagrant/">simulating our network design</a>. We needed to understand how any OSPF protocol stack would work. Could we make the protocol scale at all? We needed to see what would actually happen with a real OSPF implementation. <strong>I cannot stress enough how important this simulation was.</strong> We did not understand the problem of flooding and we did not understand the solution until we had tried it out in simulation.</p>

<p>Before that, though, we spent a lot of time on white boards arguing about topology and OSPF. <strong>I think whiteboards are the most important tool for network design</strong> currently available, which makes me sad. I wish that wasn’t true, I want much better tools. I can’t even tell you the number of disasters averted by 2-3 great network engineers arguing over a whiteboard. This works really well, but there are important reasons it’s not good enough. One is that for many of these discussions, it’s extremely hard to get data to make the decisions. In this case, a comparison of convergence time and failure detection in a 3-tier Clos with eBGP, iBGP, and OSPF should be required, but we didn’t have that capability.</p>

<p>In a dense mesh-like network such as a Clos network, the concerns around OSPF swirled around four main issues: the effect of flooding, the size of the link state database, the speed of SPF calculations, and the ability for OSPF to carry a large number of prefixes. We were concerned about OSPF scaling w.r.t. its flooding and it’s the flooding that is expensive with a Link State Database protocol, not the Shortest Path First (SPF) calculations. Which means you have to be very careful about what is flooded, what are the areas, and how things are summarized. I didn’t understand this until I had a simulation and I could try things out with areas or without, and the effect was dramatic. I think it’s often true that there is a part of a design that you don’t understand, which is one of the big reasons to do simulation. We didn’t have the ability to lab up a network as big as we were going to be building, so the simulation was critical. I can’t even imagine what we would have done without it. Based on the simulation, we created targeted tests for real hardware to understand how it would deal with the scale.</p>

<p>The point of this article is not that OSPF is better than BGP, but that it does work in very large size Clos networks. I’m frustrated that so much of the industry went a direction without great data or analysis, just following one set of opinions and design choices. <strong>I wish there were easy ways for people to be able to design, simulate and test different designs</strong> like this so that they could decide for themselves the tradeoffs they’d like to make, rather than have to rely on some type of industry hype. There needs to be a better way to be able to describe topologies and designs so that it’s really easy to try out different ideas.</p>

<p>If you have other considerations, such as you want to run IPv6, or EVPN, a single instance of eBGP such as the one popularized by the open source routing suite, FRR, maybe the simplest or elegant. But with proper design, scale is not the reason to use BGP over OSPF. If you are running a small Clos network and don’t have IPv6 or EVPN, OSPF is more straightforward and generally faster, as was the common practice before the advent of BGP in the data center.</p>

<p>No matter what, you need to understand the choices that you are making and understand the tradeoffs. This is hard to do, and especially hard in networking because we lack design patterns and good tools to help us understand the implications of our choices.</p>

<p>If anybody knows about tools or design patterns or even somebody who’s actually compared OSPF vs BGP in Clos networks with data, I’d love to hear about it.</p>

      </div>

        <!-- Configure Disqus -->
        
        </div>
  </div></div>]]>
            </description>
            <link>https://elegantnetwork.github.io/posts/What-Ive-learned-about-OSPF/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24176872</guid>
            <pubDate>Sun, 16 Aug 2020 11:16:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python 3.8 Makes me Sad Again]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 41 (<a href="https://news.ycombinator.com/item?id=24176823">thread link</a>) | @ilyash
<br/>
August 16, 2020 | https://ilya-sher.org/2020/08/16/python-3-8-makes-me-sad-again/ | <a href="https://web.archive.org/web/*/https://ilya-sher.org/2020/08/16/python-3-8-makes-me-sad-again/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-7193">
		<!-- .entry-header -->

	<div>
					
<p>Looking at some “exciting” <a href="https://docs.python.org/3.8/whatsnew/3.8.html">features landing in Python 3.8</a>, I’m still disappointed and frustrated by the language… like by quite a few other languages.</p>



<div><figure><img data-attachment-id="7204" data-permalink="https://ilya-sher.org/chimpanzee-978809_640/" data-orig-file="https://ilyasherdotorg.files.wordpress.com/2020/08/chimpanzee-978809_640.jpg" data-orig-size="640,640" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;5.6&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;NIKON D7000&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;200&quot;,&quot;iso&quot;:&quot;400&quot;,&quot;shutter_speed&quot;:&quot;0.0015625&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="chimpanzee-978809_640" data-image-description="" data-medium-file="https://ilyasherdotorg.files.wordpress.com/2020/08/chimpanzee-978809_640.jpg?w=300" data-large-file="https://ilyasherdotorg.files.wordpress.com/2020/08/chimpanzee-978809_640.jpg?w=640" src="https://ilyasherdotorg.files.wordpress.com/2020/08/chimpanzee-978809_640.jpg?w=640" alt="" srcset="https://ilyasherdotorg.files.wordpress.com/2020/08/chimpanzee-978809_640.jpg 640w, https://ilyasherdotorg.files.wordpress.com/2020/08/chimpanzee-978809_640.jpg?w=150 150w, https://ilyasherdotorg.files.wordpress.com/2020/08/chimpanzee-978809_640.jpg?w=300 300w" sizes="(max-width: 640px) 100vw, 640px"></figure></div>



<p>As an author of another programming language, I can’t stop thinking about how things “should have been done” from my perspective. I want to be explicit here. My perspective is <strong>biased</strong> towards correctness and “WTF are you doing?”. Therefore, take everything here with a appropriate amount of salt.</p>



<p>Yes, not talking about any “positive” changes here.</p>



<h2>Assignment Expressions</h2>



<blockquote><p>There is new syntax <code>:=</code> that assigns values to variables as part of a larger expression.</p></blockquote>



<p>A fix which couldn’t be the best because of previous design decision.</p>



<p>“Somebody” ignored the wisdom of Lisp, which was “everything is an expression and evaluates to a value” (no statements vs expressions), and made assignment a statement in Python years ago. Now this can not be fixed in a straightforward manner. It must be another syntax. Two different syntaxes for almost the same thing which is <code>=</code> for assignment as a statement and <code>:=</code> for expression assignment.</p>



<h2>Positional-only Parameters</h2>



<blockquote><p>There is a new function parameter syntax <code>/</code> to indicate that some function parameters must be specified positionally and cannot be used as keyword arguments:</p></blockquote>



<pre><code>def f(a, b, /, c, d, *, e, f):
    print(a, b, c, d, e, f)</code></pre>



<p>Trying to clean up a mess created by mixing positional and named parameters. Unfortunately I did not give it enough thought at the time and copied parameters handling behaviour from Python. Now <a href="https://ngs-lang.org/">NGS</a> also has the same problem as Python had before 3.8. Hopefully, I will be able to fix it in some more elegant way than Python did.</p>



<h2>LRU cache</h2>



<blockquote><p><a href="https://docs.python.org/3.8/library/functools.html#functools.lru_cache"><code>functools.lru_cache()</code></a> can now be used as a straight decorator rather than as a function returning a decorator. So both of these are now supported</p></blockquote>



<p>OK. Bug fix. But … (functools.py)</p>



<pre><code>    if isinstance(maxsize, int):
        # Negative maxsize is treated as 0
        if maxsize &lt; 0:
            maxsize = 0</code></pre>



<p>If you are setting LRU cache size to a negative number, it’s 99% by mistake. In NGS that would be an exception. That’s the approach that causes <code>rm -rf $myfolder/</code> to remove <code>/</code> when <code>myfolder</code> is unset. Note that the <code>maxsize</code> code is not new but it’s still there in Python 3.8. I guess that is another mistake which can not be easily fixed now because that would break “working” code.</p>



<h2>Collections</h2>



<blockquote><p>The <a href="https://docs.python.org/3.8/library/collections.html#collections.somenamedtuple._asdict"><code>_asdict()</code></a> method for <a href="https://docs.python.org/3.8/library/collections.html#collections.namedtuple"><code>collections.namedtuple()</code></a> now returns a <a href="https://docs.python.org/3.8/library/stdtypes.html#dict"><code>dict</code></a> instead of a <a href="https://docs.python.org/3.8/library/collections.html#collections.OrderedDict"><code>collections.OrderedDict</code></a>. This works because regular dicts have guaranteed ordering since Python 3.7</p></blockquote>



<p>OK. Everybody had the mistake of making maps unordered: Perl, Ruby, Python.</p>



<ol><li>Ruby <a href="https://www.igvita.com/2009/02/04/ruby-19-internals-ordered-hash/">fixed that with the release of version 1.9</a> in 2008 (according to the post).</li><li>Python <a href="https://www.python.org/downloads/release/python-370/">fixed that with the release of version 3.7</a> in 2018 (which I take as 10 years of “f*ck you, the developer”).</li><li>Perl <a href="https://perldoc.perl.org/functions/keys.html">keeps using unordered maps according to documentation</a>.</li><li>Same for Raku, again according to <a href="https://docs.raku.org/language/hashmap">the documentation</a>.</li></ol>



<p>NGS had ordered maps from the start but that’s not a fair comparison because NGS project started in 2013, when the mistake was already understood.</p>



<hr>



<p>How all that helps you, the reader? I encourage deeper thinking about the choice of programming languages that you use. From my perspective, all languages suck, while NGS aims to suck less than the rest for the intended <a href="https://github.com/ngs-lang/ngs/wiki/Use-Cases">use cases</a> (tl;dr – for DevOps scripting).</p>



<hr>



<h2>Update 2020-08-16</h2>



<p>Discussions:</p>



<ol><li><a href="https://news.ycombinator.com/item?id=24176823">https://news.ycombinator.com/item?id=24176823</a></li><li><a href="https://lobste.rs/s/rgcgjz/python_3_8_makes_me_sad_again">https://lobste.rs/s/rgcgjz/python_3_8_makes_me_sad_again</a></li></ol>



<h2>Update 2020-08-17</h2>



<p>It looks like the article above needs some clarification about my perspective: background, what I am doing and why.</p>



<h3>TL;DR</h3>



<p>The main points of the article are:</p>



<ol><li>Everything still sucks, including Python. By sucks I mean does not fit well with the tasks I need to do neither aligned with how I think about these tasks.</li><li>I am trying to help the situation and the industry by developing my own programming language</li></ol>



<h3>Background about my Thinking</h3>



<p>In general, I’m amazed with how bad the overall state of programming is. That includes:</p>



<ol><li>All programming languages that I know including my own NGS. This is aggravated by inability to fix anything properly for any language with substantial amount of code written in it because you will be breaking existing code. And if you do break, you get the shitstorm like with Python 3 or Perl 6 (Raku).</li><li><a href="https://github.com/MohGovIL/hamagen-react-native/issues/115">Code quality</a> of the programs written in all languages. Most of the code that I have seen is bad. Sometimes even in <a href="https://github.com/MicrosoftDocs/cpp-docs/issues/1929">official examples</a>.</li><li>Quality of available materials, which are sometimes <a href="https://dev.to/ilya_sher_prog/comment/m9oe">plainly wrong</a>.</li><li>Many of existing “Infrastructure as code” solutions, which in most cases follow the same path:<ol><li>Invent  a DSL or use YAML.</li><li>“figure out” later that it’s not powerful enough (by the way there is an elegant solution – a programming language, forgot the name)</li><li>Create pretty ugly programming language on top of a DSL that was intended for data.</li></ol></li></ol>



<p>I am creating new programming language and a shell out of <strong>frustration with current situation, especially with bash and Python</strong>. Why these two? Because that’s what I was and still using to get my tasks done.</p>



<p>Are these languages bad? I don’t think it’s a question with any good answers. <a href="https://ilya-sher.org/2017/10/10/why-i-have-no-favorite-programming-language/">These languages don’t fit the tasks that I’m trying to do</a> nor are aligned with how I think while being apparently one of the best choices available.</p>



<h3>This Article Background</h3>



<ol><li>Seen some post on RSS about new features in Python 3.8.</li><li>Took a look.</li><li>Yep, everything is still f*cked up.</li><li>Wrote a post about it which was not meant to be “deep discussion about Python flaws”.</li></ol>



<p>I was not planning to invest more time in this but here I am trying to clarify.</p>



<h3>And your Language is Better? Really?</h3>



<p>Let’s clarify “better”.  For me, it’s to suck less than the rest for the intended use cases.</p>



<blockquote><p>author really does consider himself a superior language designer than the Python core-dev team</p></blockquote>



<p>( From <a href="https://www.reddit.com/r/Python/comments/iartgp/python_38_makes_me_sad_again/">https://www.reddit.com/r/Python/comments/iartgp/python_38_makes_me_sad_again/</a> )</p>



<p>I consider myself in much easier circumstances:</p>



<ol><li>No substantial amount of code is written in NGS yet.</li><li>I’m starting later and therefore have the advantage of looking at more languages, avoiding bad parts, copying (with adaptation) the good parts.</li><li>NGS targets a niche, it’s not intended to be general purpose language. Choices are clearer and easier when you target a niche.</li><li>The language that I’m creating is almost by definition is more aligned with how I think. Hoping that people out there will benefit from using NGS if it is more aligned with how they think too.</li><li>See also my <a href="https://ilya-sher.org/2016/10/28/creating-a-language-is-easier-now/">Creating a language is easier&nbsp;now</a> (2016) post.</li></ol>



<p>Will I be able to make a “better” language?</p>



<p><strong>From technical perspective</strong>, that’s probable: I am a skilled programmer in several languages and I have languages to look at more than everybody else had before. My disadvantage is not much experience in language design. I’m trying to offset that with thinking hard (<a href="https://github.com/ngs-lang/ngs/wiki#design-documents">about the language</a>, the essence of <a href="https://ilya-sher.org/2019/05/18/on-information-loss-in-software/">what is being expressed</a>, common patterns, etc), looking at other languages and experimenting.</p>



<p><strong>From marketing perspective</strong>, I need to learn a lot. I am aware that “technically better” doesn’t matter as much as I would like to. Without community and users that would be a failed project.</p>



<p>Also don’t forget luck which I might or might not have.</p>



<h3>What if NGS fails?</h3>



<p>I think that the situation today is unbearable. I’m trying to fix it. I feel like I have to, despite the odds. I hope that even if NGS fails to move the industry forward it would be useful to somebody who will attempt that later.</p>
					</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://ilya-sher.org/2020/08/16/python-3-8-makes-me-sad-again/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24176823</guid>
            <pubDate>Sun, 16 Aug 2020 11:04:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Messy Mediterranean]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 17 (<a href="https://news.ycombinator.com/item?id=24176329">thread link</a>) | @BerislavLopac
<br/>
August 16, 2020 | https://sovereignlimits.com/blog/the-messy-mediterranean | <a href="https://web.archive.org/web/*/https://sovereignlimits.com/blog/the-messy-mediterranean">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<h2>Or, Why is Mediterranean Maritime Sovereignty So Complicated?</h2>



<p>The Mediterranean Sea could almost be considered an inland body of water, except for a small connection to the Atlantic Ocean (only 16 km or 10 miles) between the coasts of Spain and Morocco at the Strait of Gibraltar. The waters of the Mediterranean can be further divided into the Alboran, Libyan, Levantine, Aegean, Ionian, Adriatic, Tyrrhenian, and Balearic Seas. Twenty-three separate States lay claim to the waters of the Mediterranean Sea, and many of these are overlapping or disputed leading to an incredibly complex picture of maritime sovereignty.</p>



<h2>The Established Boundaries</h2>



<p>There are, however, twenty-two established maritime boundaries between the various Mediterranean States. The oldest is between Cyprus and the UK on behalf of its Sovereign Base Areas (SBAs) of Akrotiri and Dhekelia located in the south of the island. Both the land and maritime boundaries between the SBAs and Cyprus were established by the same agreement from which Cyprus gained its independence from the UK on 16 August 1960. The <a href="https://sovereignlimits.com/boundaries/cyprus-united-kingdom-maritime" target="_blank" rel="noreferrer noopener">maritime boundary</a> extends in four separate parts from the various land boundary termini on the coast and delimits the UK’s claimed three nautical mile territorial sea and Cyprus’s 12. The UK ceded all exclusive economic zone (EEZ) claims to Cyprus.</p>



<div><figure><img loading="lazy" width="749" height="1024" src="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01-749x1024.png" alt="Map showing the maritime boundary between Cyprus and the UK Sovereign Base Areas of Akrotiri and Dhekelia. " srcset="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01-749x1024.png 749w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01-219x300.png 219w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01-44x60.png 44w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01-768x1050.png 768w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01-1123x1536.png 1123w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01-600x821.png 600w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Cyprus_UK-Airbases-01.png 1496w" sizes="(max-width: 749px) 100vw, 749px"><figcaption><em>The four-part Cyprus–UK maritime boundaries.</em></figcaption></figure></div>



<p>The most recent (as of late July 2020) Mediterranean maritime boundary is between Greece and Italy, signed on 9 June 2020. This new agreement updates a 24 May 1977 Treaty, transforming the already-established 16 point maritime boundary into WGS-84 and confirming its application for the EEZ, in addition to the continental shelf (CS). The 2020 update left the tripoints, with Albania in the north and Libya in the south, undefined. The Italy–Greece boundary is arguably less interesting than the second most recent Mediterranean maritime boundary between Turkey and Libya (signed 27 November 2019). That will be covered in greater depth below.</p>



<div><figure><img loading="lazy" width="749" height="1024" src="https://sovereignlimits.com/wp-content/uploads/sites/2/2019/04/Greece_Italy-01-749x1024.png" alt="A map depicting the maritime boundary between Greece and Italy." srcset="https://sovereignlimits.com/wp-content/uploads/sites/2/2019/04/Greece_Italy-01-749x1024.png 749w, https://sovereignlimits.com/wp-content/uploads/sites/2/2019/04/Greece_Italy-01-219x300.png 219w, https://sovereignlimits.com/wp-content/uploads/sites/2/2019/04/Greece_Italy-01-44x60.png 44w, https://sovereignlimits.com/wp-content/uploads/sites/2/2019/04/Greece_Italy-01-768x1050.png 768w, https://sovereignlimits.com/wp-content/uploads/sites/2/2019/04/Greece_Italy-01-600x821.png 600w, https://sovereignlimits.com/wp-content/uploads/sites/2/2019/04/Greece_Italy-01.png 1123w" sizes="(max-width: 749px) 100vw, 749px"><figcaption><em>Greece and Italy’s original 1977 maritime boundary was updated to WGS-84 in 2020.</em></figcaption></figure></div>



<p>If you’re interested in learning more about the maritime boundary between Greece and Italy, check out our <a href="https://sovereignlimits.com/boundaries/greece-italy" target="_blank" rel="noreferrer noopener">Boundaries</a> page.</p>



<p>Surprise! Greece and Egypt signed a new EEZ boundary Agreement on Thursday, August 6. The details have not yet been released to the public, but both Turkey and Libya have already protested the new boundary.</p>



<p>The shortest established Mediterranean maritime boundary is between <a href="https://sovereignlimits.com/boundaries/italy-slovenia" target="_blank" rel="noreferrer noopener">Italy and Slovenia</a> at 15 M and the longest is between <a href="https://sovereignlimits.com/boundaries/italy-tunisia" target="_blank" rel="noreferrer noopener">Italy and Tunisia</a>, which runs for 528 M.</p>



<p>That leaves about 30 maritime boundaries to be established, some of which are currently being negotiated (Greece and Albania) and some of which have 300 plus years of dispute that will need to be resolved before maritime boundary delimitation can begin (Spain and the UK on behalf of Gibraltar).</p>



<h2>Disputed Maritime Space</h2>



<p>When looking at disputed maritime areas in the Mediterranean, Turkey is the shadow over all of the eastern Sea. Its role in the Cyprus–Northern Cyprus conflict as well as the full extent of maritime disputes with Greece will be discussed in greater detail below. This section is to delve into Turkey’s full set of unilateral maritime claims which were updated in 2019.</p>



<div><figure><img loading="lazy" width="1024" height="576" src="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-1024x576.png" alt="Map showing Turkey's unilateral maritime claim, overlaid with established maritime boundaries and provisional equidistance lines from Sovereign Limits." srcset="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-1024x576.png 1024w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-300x169.png 300w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-60x34.png 60w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-768x432.png 768w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-1536x865.png 1536w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-2048x1153.png 2048w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/Turkey_Claims_v2-01-1-600x338.png 600w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><em>This map depicting extensions of Turkey’s EEZ claims was released by a Turkish diplomat in December 2019 (the map source and more information is from this <a href="https://www.hurriyetdailynews.com/map-delineates-turkeys-maritime-frontiers-in-med-sea-149379" target="_blank" rel="noreferrer noopener">article</a>). To capture the complicated nature of all of the other claims and established maritime boundaries, we’ve overlaid Sovereign Limits maritime data over top.</em> Between points A and B is the established maritime boundary with Northern Cyprus and between points E and F the new line with Libya.</figcaption></figure></div>



<p>Additionally, on 27 November 2019, Turkey and the UN-backed government of Libya (Libya is in the midst of a civil war, so yes, there are two entirely separate governments) signed a short, two-point maritime boundary agreement that dangles in the middle of Greek-claimed sea. This new boundary enraged neighboring Greece and Egypt as well as the entire EU. Its location deviates from the equidistance default stipulated by UNCLOS. Turkey and Libya note that the bilaterally negotiated boundary has nothing to do with third states, but as Greece claims the waters surrounding this new delimitation, it has caused quite a stir. The new August 2020 Egypt–Greece maritime boundary likely overlaps with the Libya–Turkey boundary in some capacity.</p>



<p>The conflict between Cyprus and Northern Cyprus would not have reached its modern outcome without Turkish involvement. Disagreements between Turkish Cypriots and Greek Cypriots on the island of Cyprus have been ongoing since even before Ottoman control of the island, and the modern conflict began shortly after independence from the United Kingdom. Turkey moved to occupy northern Cyprus in 1974 and the Turkish Republic of Northern Cyprus declared independence in 1983. Today, Turkey is the only country who recognizes Northern Cyprus’s statehood.</p>



<p>The island of Cyprus is now divided by a UN mandated and monitored buffer zone that snakes its way through hilly territory and divides the capital city (for both Cypruses) of Nicosia. The southern Greek Republic of Cyprus is an EU member and is recognized by the UN as the sole sovereign power of the island.</p>



<p>Related to the Cyprus dispute, the maritime picture off the coast of the island is quite complicated. The Republic of Cyprus has established maritime boundaries with <a href="https://sovereignlimits.com/boundaries/cyprus-egypt" target="_blank" rel="noreferrer noopener">Egypt</a>, <a href="https://sovereignlimits.com/boundaries/cyprus-israel" target="_blank" rel="noreferrer noopener">Israel</a>, and <a href="https://sovereignlimits.com/boundaries/cyprus-lebanon" target="_blank" rel="noreferrer noopener">Lebanon</a>, in addition to the short UK boundaries already mentioned. Northern Cyprus agreed to a maritime boundary with Turkey, that the southern Republic of Cyprus disputes. Due to the nature of the dispute, the maritime boundaries between Cyprus and Northern Cyprus are also unresolved (and unlikely to become so in the foreseeable future).</p>



<p>Turning to the maritime disputes between Turkey and neighboring Greece offers an even more complicated picture (at least delimitation wise) due to the multitude of Greek Islands that lay just off the Turkish coast. Relations between Turkey and Greece have been historically complicated and often quite problematic, negativity driven by both the conflict in Cyprus and unresolved maritime issues in the Aegean Sea. Oil was discovered in the continental shelf in 1973, adding [literal] fuel to the fire.</p>



<figure><ul><li><figure><img loading="lazy" width="1024" height="576" src="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001-1024x576.png" alt="" data-id="1366" data-full-url="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001.png" data-link="https://sovereignlimits.com/?attachment_id=1366" srcset="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001-1024x576.png 1024w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001-300x169.png 300w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001-60x34.png 60w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001-768x432.png 768w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001-1536x864.png 1536w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001-600x338.png 600w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.001.png 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></li><li><figure><img loading="lazy" width="1024" height="576" src="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002-1024x576.png" alt="" data-id="1367" data-full-url="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002.png" data-link="https://sovereignlimits.com/?attachment_id=1367" srcset="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002-1024x576.png 1024w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002-300x169.png 300w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002-60x34.png 60w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002-768x432.png 768w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002-1536x864.png 1536w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002-600x338.png 600w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.002.png 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></li><li><figure><img loading="lazy" width="1024" height="576" src="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003-1024x576.png" alt="" data-id="1368" data-full-url="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003.png" data-link="https://sovereignlimits.com/?attachment_id=1368" srcset="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003-1024x576.png 1024w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003-300x169.png 300w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003-60x34.png 60w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003-768x432.png 768w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003-1536x864.png 1536w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003-600x338.png 600w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/20190212_UN.003.png 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></li></ul><figcaption><em>This series depicts the intricacies of constructing a strict equidistance line between Greek Islands and the Turkish coast in the Aegean. Turkey’s proposed maritime boundary lies to the west of equidistance.</em></figcaption></figure>



<p>Greece and Turkey have two extremely different perspectives on the possible delimitations of the maritime boundary through the Aegean Sea. Turkey is not a signatory of UNCLOS and claims that Greece’s Aegean Islands are not entitled to full continental shelf claims and would seek to have a mainland coast equidistance boundary through the middle of the Aegean Sea, while enclaving the Greek islands on the Turkish side of the maritime boundary line. Greece, a signatory of UNCLOS, meanwhile proposes a strict equidistance-based maritime boundary utilizing all of its islands, pushing the maritime boundary far to the east, just off the Turkish coast. Turkey’s position on the Greek claim is that this would create a “Greek Lake” of the Aegean Sea and severely limit Turkey’s freedom of navigation from the Black Sea to the Mediterranean.</p>



<p>There is also at least one officially disputed island between Turkey and Greece known as Imia by the Greeks and Kardak by the Turks. Turkish claims to additional islands have been made and redacted over the years.</p>



<p>Conflict over Greek and Turkish maritime claims is common. During the summer of 2020, Turkey has been conducting seismic surveys in Greek-claimed waters. And Greece is working on increasing its military power in response to Turkish aggression. Meanwhile, diplomats from the two states also sat down for a round of negotiations. In August, Greece called for talks to continue or a referral of the dispute to the ICJ. To read more, check out this <a href="https://www.ekathimerini.com/255548/article/ekathimerini/news/pm-proposes-fresh-talks-with-turkey-on-maritime-zones-or-world-court" target="_blank" rel="noreferrer noopener">article</a>. </p>



<p>Looking beyond Turkey-centered disputes, there is a handful of interesting and impossible to resolve conflicts that speckle the entire Mediterranean Sea and neighboring bodies of water. Israel and Lebanon seem to be constantly in conflict over both their unresolved <a href="https://sovereignlimits.com/boundaries/israel-lebanon-land" target="_blank" rel="noreferrer noopener">land boundary</a> and maritime frontier. Natural gas reserves have been discovered in maritime space that both states claim, and in 2018 Lebanon auctioned off several disputed oil blocks. Israel is currently working on its own oil exploration in the disputed area.</p>



<p>The Palestinian territory of Gaza set forth maritime claims in 2015 and 2019 in which they proposed lateral boundaries with Egypt and Israel, creating a corridor of Palestinian maritime space before reaching the boundary with Cyprus. Both Israel and Egypt have submitted protests to the UN over Palestine’s unilateral maritime claims.</p>



<div><figure><img loading="lazy" width="1024" height="963" src="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/PSE_Claims-1-1024x963.jpg" alt="A map showing Palestine's unilateral maritime claims (a corridor from Gaza Strip to the already established boundaries with Cyprus)." srcset="https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/PSE_Claims-1-1024x963.jpg 1024w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/PSE_Claims-1-300x282.jpg 300w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/PSE_Claims-1-60x56.jpg 60w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/PSE_Claims-1-768x722.jpg 768w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/PSE_Claims-1-600x564.jpg 600w, https://sovereignlimits.com/wp-content/uploads/sites/2/2020/08/PSE_Claims-1.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><em>Palestine’s unilateral maritime claims extend from the Gaza Strip out to the already established boundaries with Cyprus.</em></figcaption></figure></div>



<p>The former Yugoslav States of Croatia and Slovenia also have disputed maritime space in the northern Adriatic Sea despite a <a href="https://sovereignlimits.com/boundaries/croatia-slovenia" target="_blank" rel="noreferrer noopener">2017 Permanent Court of Arbitration Award</a> delimiting the boundary (Croatia had unilaterally withdrawn from the case in 2015 following a scandal). Slovenia accepts the Tribunal’s delimitation, but Croatia does not.</p>



<p>Some similarities can be drawn to the maritime boundary between Greece and Albania in the southern reaches of the Adriatic Sea. The two States signed a maritime boundary agreement in 2009, but this document was annulled shortly thereafter by Albania. Negotiations over the maritime boundary began again in 2018 and are ongoing. And with Greece’s current dedication to maritime boundary delimitation with its neighbors it is plausible that a new Greece–Albania maritime boundary Agreement …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sovereignlimits.com/blog/the-messy-mediterranean">https://sovereignlimits.com/blog/the-messy-mediterranean</a></em></p>]]>
            </description>
            <link>https://sovereignlimits.com/blog/the-messy-mediterranean</link>
            <guid isPermaLink="false">hacker-news-small-sites-24176329</guid>
            <pubDate>Sun, 16 Aug 2020 09:01:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[RFC 188, by Damian Conway: Objects: Private keys and methods]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24175843">thread link</a>) | @lizmat
<br/>
August 16, 2020 | https://raku-advent.blog/2020/08/16/rfc-188-by-damian-conway-objects-private-keys-and-methods/ | <a href="https://web.archive.org/web/*/https://raku-advent.blog/2020/08/16/rfc-188-by-damian-conway-objects-private-keys-and-methods/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-617">

	

	
	<div>
		
<h3>Break someone’s code today!</h3><p>On September 1st of 2000 Damian Conway sent a proposal №188, promoting the idea of Private Keys and Methods.</p><p>In those days, Perl’s object-oriented programming relied heavily on hashes. Indeed, a hash can store data values by keys, as well as  references to routines, which is how you can describe an object with data attributes and methods. With bits of syntax sugar here and there one can make shortcuts to work with such an object’s state and behavior.</p><p>So can be done in Raku nowadays:</p><pre id="advent-code-fdb55dec-8cdf-4465-89e6-a64a01297843"><table>
  <tbody><tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L1"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC1"><span>my</span> <span>%</span>tipsy-object;</td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L2"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC2"><span><span>#</span> We have some data</span></td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L3"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC3"><span>%</span>tipsy-object&lt;<span>created</span>&gt; <span>=</span> <span>Date</span><span>.</span><span>new</span>(now);</td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L4"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC4"><span><span>#</span> And a "method"...</span></td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L5"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC5"><span>%</span>tipsy-object&lt;<span>tell-age</span>&gt; <span>=</span> { <span>say</span> <span>%</span>tipsy-object&lt;<span>created</span>&gt; }</td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L6"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC6"><span><span>#</span> Call it!</span></td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L7"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC7"><span>%</span>tipsy-object&lt;<span>tell-age</span>&gt;();  <span><span>#</span> 2020-08-14</span></td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L8"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC8"><span><span>#</span> Not method-y enough? Mkay, maybe this way...</span></td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L9"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC9"><span>%</span>tipsy-object<span>.</span>&lt;<span>tell-age</span>&gt;(); <span><span>#</span> 2020-08-14</span></td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L10"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC10"><span><span>#</span> Wow, what a dot it was... Now edit some data:</span></td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L11"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC11"><span>%</span>tipsy-object&lt;<span>created</span>&gt; <span>=</span> <span>Date</span><span>.</span><span>new</span>(now)<span>.</span>later(<span>:</span><span>1</span>day);</td>
  </tr>
  <tr>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-L12"></td>
    <td id="file-fdb55dec-8cdf-4465-89e6-a64a01297843-p6-LC12"><span>%</span>tipsy-object<span>.</span>&lt;<span>tell-age</span>&gt;(); <span><span>#</span> 2020-08-15, wow!</span></td>
  </tr>
</tbody></table></pre><p>This sounds awesome in its simplicity (if we pretend <code>Hash</code> itself is not an object!) until you try to share your code. The moment you post this %tipsy-object people all around the World start to play with it even when you sleep and you have no idea what they might do. With best intentions, someone might write this:</p><pre id="advent-code-8eabce7e-ab2b-4ac2-a58f-e2db0e7b8269"><table>
  <tbody><tr>
    <td id="file-8eabce7e-ab2b-4ac2-a58f-e2db0e7b8269-p6-L1"></td>
    <td id="file-8eabce7e-ab2b-4ac2-a58f-e2db0e7b8269-p6-LC1"><span>my</span> <span>%</span>tipsier-object;</td>
  </tr>
  <tr>
    <td id="file-8eabce7e-ab2b-4ac2-a58f-e2db0e7b8269-p6-L2"></td>
    <td id="file-8eabce7e-ab2b-4ac2-a58f-e2db0e7b8269-p6-LC2"><span>die</span> <span><span>'</span>Woah this was not expected, calm down!!<span>'</span></span> <span>unless</span> <span>%</span>tipsy-object&lt;<span>created</span>&gt; <span>~~</span> <span>Date</span>;</td>
  </tr>
  <tr>
    <td id="file-8eabce7e-ab2b-4ac2-a58f-e2db0e7b8269-p6-L3"></td>
    <td id="file-8eabce7e-ab2b-4ac2-a58f-e2db0e7b8269-p6-LC3"><span>%</span>tipsier-object&lt;<span>tipsy-origins</span>&gt; <span>=</span> <span>%</span>tipsy-object&lt;<span>created</span>&gt;;</td>
  </tr>
</tbody></table></pre><p>And now lying on a comfy sofa, Thinking about how someone might stare at your code even when you sleep, you notice a scary thing: you wanted to know when a %tipsy-object is created <em>exactly</em>, and so <code>Date</code> is just not nearly enough! Was it a morning, a bright day or a night? Who would tell the answer without mighty <code>DateTime</code>?</p><p>So you hurry up and do a little patch:</p><pre id="advent-code-43ef2248-5fe5-4111-b2f7-8749a9741cee"><table>
  <tbody><tr>
    <td id="file-43ef2248-5fe5-4111-b2f7-8749a9741cee-p6-L1"></td>
    <td id="file-43ef2248-5fe5-4111-b2f7-8749a9741cee-p6-LC1"><span>my</span> <span>%</span>tipsy-object <span>=</span> <span>created </span><span>=&gt;</span> <span>DateTime</span><span>.</span><span>new</span>(now), <span>tell-age </span><span>=&gt;</span> { <span>say</span> <span>%</span>tipsy-object&lt;<span>created</span>&gt; }</td>
  </tr>
  <tr>
    <td id="file-43ef2248-5fe5-4111-b2f7-8749a9741cee-p6-L2"></td>
    <td id="file-43ef2248-5fe5-4111-b2f7-8749a9741cee-p6-LC2"><span>%</span>tipsy-object<span>.</span>&lt;<span>tell-age</span>&gt;();</td>
  </tr>
</tbody></table></pre><p>What we just saw is a small, not so uncommon step for every programmer and a big leap for computer science: we broke someone’s code!</p><p>After all this rant from %tipsy-object users the next day, a lesson lived is a lesson learned: it is hard to ever underestimate the amount of assumptions people can do with your code, so spare them guessing, just tell the rules and hide everything else.</p><p>In object-oriented programming this very, very generic concept is spread across a couple of different ideas, one of which is named “encapsulation”.</p><p>In short, encapsulation allows us to say “Nobody should touch this… (unless someone really, really wants to make it happen)”. It gives you means to divide your coding efforts into a couple of different realms, one of which has “Nobody but I can use this” policy and its opposite takes the famous “Use it as you please and we will try really, really hard not to break anything knowingly” stance.</p><p>While encapsulation by itself is not a Great Code Problems Solver (you can write scary code anyways!) nor it reduces the amount of bugs (as if it happens!), but it certainly can save you some nerves during rewriting code (which sometimes is a Great Way To Solve Problems) and reduces coupling between components (which does reduce the amount of bugs, right? Hope never dies).</p><p>Here, inspired by the <code>Tie::SecureHash</code> module approach, Damian Conway has proposed a way to support encapsulation in a hash-based object-y system.</p><h3>Sugar – the keyword way</h3><p>The proposal describes a unary function named <code>private</code>, which can be applied to a single hash entry, a slice of entries or a whole hash:</p><pre id="advent-code-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7"><table>
  <tbody><tr>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-L1"></td>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-LC1">private $hash{<span>key</span>};</td>
  </tr>
  <tr>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-L2"></td>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-LC2"><span><span>#</span> ^ can note the $ sigil to refer to a value</span></td>
  </tr>
  <tr>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-L3"></td>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-LC3">private @hash{qw(_name _rank _snum)};</td>
  </tr>
  <tr>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-L4"></td>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-LC4"><span><span>#</span> ^ can note the @ sigil to refer to a number of values</span></td>
  </tr>
  <tr>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-L5"></td>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-LC5">private <span>%</span>hash;</td>
  </tr>
  <tr>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-L6"></td>
    <td id="file-922ff4d7-0f96-4ebf-b620-d3383d9fe9e7-p6-LC6"><span><span>#</span> ^ or, effectively, applied to any hash directly or via a reference</span></td>
  </tr>
</tbody></table></pre><p>This function application restricts hash entries to the current package and makes all the spared ones “public”:</p><pre id="advent-code-f51be493-1d34-4c7c-9957-56de11755bc7"><table>
  <tbody><tr>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-L1"></td>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-LC1"><span>package</span> <span>MyClass</span>;</td>
  </tr>
  <tr>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-L3"></td>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-LC3"><span>sub</span> new { <span>bless</span> private { <span>secret </span><span>=&gt;</span> <span><span>'</span>data<span>'</span></span> }, <span>$_</span>[<span>0</span>] }</td>
  </tr>
  <tr>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-L5"></td>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-LC5"><span>package</span> <span>main</span>;</td>
  </tr>
  <tr>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-L7"></td>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-LC7"><span>my</span> $obj <span>=</span> MyClass<span>-&gt;</span><span>new</span>();</td>
  </tr>
  <tr>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-L8"></td>
    <td id="file-f51be493-1d34-4c7c-9957-56de11755bc7-p6-LC8"><span>print</span> $obj<span>-&gt;</span>{secret}; <span><span>#</span> dies, inaccessible entry</span></td>
  </tr>
</tbody></table></pre><p>Such entries can be inherited:</p><pre id="advent-code-d1924b44-a634-441b-bbbe-25cc7c5259a4"><table>
  <tbody><tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L1"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC1"><span>package</span> <span>Base</span>;</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L2"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC2">
    </td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L3"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC3"><span>sub</span> new {</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L4"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC4">    <span>my</span> ($class, @data) <span>=</span> @_;</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L5"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC5">    <span>bless</span> private { <span>data </span><span>=&gt;</span> [@data] }, $class;</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L6"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC6">}</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L7"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC7">
    </td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L8"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC8"><span>package</span> <span>SortableBase</span>;</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L9"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC9"><span>use</span> <span>base</span> <span><span>'</span>Base<span>'</span></span>;</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L10"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC10">
    </td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L11"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC11"><span>sub</span> sorted {</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L12"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC12">    <span>my</span> ($<span>self</span>) <span>=</span> @_;</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L13"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC13">    <span>print</span> <span>sort</span> <span>@</span>{ $self<span>-&gt;</span>{Base::data} };</td>
  </tr>
  <tr>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-L14"></td>
    <td id="file-d1924b44-a634-441b-bbbe-25cc7c5259a4-p6-LC14">}</td>
  </tr>
</tbody></table></pre><p>And, of course, for the aforementioned “someone really, really wants it to happen”, there was a Plan B prepared:</p><blockquote><p>Although it is almost inevitably a Very Bad Idea and we shall probably All Come Regret To It Later, it ought to be possible to specify that certain entries of a private-ized hash are nevertheless public. This might, for example, be necessary when inheriting from legacy code.</p></blockquote><p>The smartest hacks require the spookiest code anyway.</p><p>When it comes to methods, which are incidentally just subroutines with a twist or two, <code>private</code> becomes a prefix keyword:</p><pre id="advent-code-e124a94a-ceae-40a6-b530-a06126ec35d7"><table>
  <tbody><tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L1"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC1"><span>package</span> <span>Base</span>;</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L2"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC2">
    </td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L3"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC3"><span>sub</span> new { <span>...</span> }</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L4"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC4">
    </td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L5"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC5">private <span>sub</span> check { <span>...</span> }</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L6"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC6">
    </td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L7"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC7"><span>sub</span> do_check {</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L8"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC8">        <span>my</span> ($<span>self</span>) <span>=</span> @_;</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L9"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC9">        $self<span>-&gt;</span>check();         <span><span>#</span> okay</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L10"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC10">        $self<span>-&gt;</span>Base::check();   <span><span>#</span> okay</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L11"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC11">        check();                <span><span>#</span> okay</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L12"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC12">        Base::check();          <span><span>#</span> okay</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L13"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC13">
    </td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L14"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC14"><span>package</span> <span>Derived</span>;</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L15"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC15"><span>use</span> <span>base</span> <span><span>'</span>Base<span>'</span></span>;</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L16"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC16">
    </td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L17"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC17"><span>sub</span> do_check {</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L18"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC18">        <span>my</span> ($<span>self</span>) <span>=</span> @_;</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L19"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC19">        $self<span>-&gt;</span>check();         <span><span>#</span> dies, no suitable accessible method</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L20"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC20">        $self<span>-&gt;</span>Base::check();   <span><span>#</span> okay</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L21"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC21">        Base::check($<span>self</span>);     <span><span>#</span> okay</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L22"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC22">}</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L23"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC23">
    </td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L24"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC24"><span>package</span> <span>main</span>;</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L25"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC25">
    </td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L26"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC26"><span>my</span> $obj <span>=</span> Base<span>-&gt;</span><span>new</span>();</td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L27"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC27">$obj<span>-&gt;</span>check();                  <span><span>#</span> dies, no suitable accessible method</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L28"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC28">$obj<span>-&gt;</span>Base::check();            <span><span>#</span> dies, no suitable accessible method</span></td>
  </tr>
  <tr>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-L29"></td>
    <td id="file-e124a94a-ceae-40a6-b530-a06126ec35d7-p6-LC29">Base::check($obj);              <span><span>#</span> dies, inaccessible subroutine</span></td>
  </tr>
</tbody></table></pre><p>What about Raku?</p>


<h3>Conclusion: Huffmanize it!</h3>

<p>Raku wisdom says “Huffmanize your syntax”, as mighty Huffman coding it tells you to make things which are common to type easier to type.</p><p>With the Raku object system being ground up overhauled, the question of encapsulation was not forgotten! Not! In! A! Bit! (sorry for all the line noise you just heard).</p>

<p>Private things in Raku are marked with an exclamation mark. Firstly, it indicates to the reader those code bits are important. Secondly, for attributes it serves as a secondary “sigil”, namely “twigil”, which tells the reader that some interesting scoping is involved here. Thirdly, it looks like it has some class. Fourthly… Do you really expect more reasons here? Please, come up with your ideas in the comments!</p><p>Using Raku for some years, it suddenly strikes with a simple consistency here:</p><pre id="advent-code-e041a903-314f-48ac-a379-d7ea49cce3f1"><table>
  <tbody><tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L1"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC1"><span>class</span> <span>Class</span> {</td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L2"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC2">    <span><span>#</span> A public attribute</span></td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L3"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC3">    <span>has</span> $.unchecked <span>=</span> <span>True</span>;</td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L4"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC4">    <span><span>#</span> A private attribute</span></td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L5"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC5">    <span>has</span> $<span>!</span>checked <span>=</span> <span>False</span>;</td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L6"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC6">
    </td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L7"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC7">    <span><span>#</span> Just a Class package scoped sub</span></td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L8"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC8">    <span>sub</span> i'm-just-a-sub {}</td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L9"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC9">
    </td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L10"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC10">    <span><span>#</span> A public method</span></td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L11"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC11">    <span>method</span> check { <span>True</span> }</td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L12"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC12">    <span><span>#</span> A private method</span></td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L13"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC13">    <span>method</span> <span>!</span>check { <span>False</span> }</td>
  </tr>
  <tr>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-L14"></td>
    <td id="file-e041a903-314f-48ac-a379-d7ea49cce3f1-p6-LC14">}</td>
  </tr>
</tbody></table></pre><p>It is kind of amusing to see how exclamation marks mean the thing they mean in both cases, so if you once just remembered the syntax as given, now you can hopefully chuckle a bit.</p><p>Another common wisdom is “Similar things should look similar and different things should look different” and this approach, evolved from the proposal done, reflects this very nicely (just don’t tell anyone similar things also should look different, as that would be the next level of wisdom).</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://raku-advent.blog/2020/08/16/rfc-188-by-damian-conway-objects-private-keys-and-methods/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24175843</guid>
            <pubDate>Sun, 16 Aug 2020 07:00:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hello “Hello World”]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24175174">thread link</a>) | @hermanradtke
<br/>
August 15, 2020 | https://blog.jfo.click/hello-hello-world/ | <a href="https://web.archive.org/web/*/https://blog.jfo.click/hello-hello-world/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p>Languages are often judged initially on their "<a href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program">Hello,
world!</a>" program.
How easy is it to write? To run? How easy is it to understand? It's a very
simple program, of course, one of the simplest, even... just produce a little
text, and display it, what could be simpler?</p>
<p>It's really not fair to judge a language by such a cursory impression, but it
<em>can</em> give you an idea of what a language <em>values</em> and how it works. What does
the syntax look like? Is it typed? Is it interpreted? You can usually tell a
lot at a glance.</p>
<p>For example, One of Ruby's (many) hello worlds is so simple, it's also Python!</p>
<pre><code>print(<span>'Hello world!'</span>)
</code></pre>
<p>Often, people coming from interpreted languages experience compiled, systems
languages to be more complicated right off the bat. There is the obvious added
complexity of compiling and running being separate steps, as opposed to simply
pointing an executable at some source code and seeing a result right away, but
there are often syntactical constructs to go along with that...</p>
<p>At first glance, Rust's hello world looks fairly inert, as well:</p>
<pre><code><span><span>fn</span> <span>main</span></span>() {
    <span>println!</span>(<span>"Hello World!"</span>);
}
</code></pre>
<p>But <code>println!</code> is actually a macro, what does it look like expanded?</p>
<pre><code><span>macro_rules!</span> println {
    () =&gt; ($crate::<span>print!</span>(<span>"\n"</span>));
    ($($arg:tt)*) =&gt; ({
        $crate::io::_print($crate::format_args_nl!($($arg)*));
    })
}
</code></pre>
<p>You'll notice that this <em>also</em> has a macro <em>inside of it.</em> This matches on the
second case (because there is an argument present) and calls into
<code>$crate::format_args_nl!</code> and passes the result of that to <code>$crate::io::_print</code></p>
<pre><code><span>pub</span> <span><span>fn</span> <span>_print</span></span>(args: fmt::Arguments&lt;<span>'_</span>&gt;) {
    print_to(args, &amp;LOCAL_STDOUT, stdout, <span>"stdout"</span>);
}
</code></pre>
<p>which calls into <code>print_to</code>, which looks like</p>
<pre><code><span><span>fn</span> <span>print_to</span></span>&lt;T&gt;(
    args: fmt::Arguments&lt;<span>'_</span>&gt;,
    local_s: &amp;<span>'static</span> LocalKey&lt;RefCell&lt;<span>Option</span>&lt;<span>Box</span>&lt;<span>dyn</span> Write + <span>Send</span>&gt;&gt;&gt;&gt;,
    global_s: <span><span>fn</span></span>() -&gt; T,
    label: &amp;<span>str</span>,
) <span>where</span>
    T: Write,
{
    <span>let</span> result = local_s
        .try_with(|s| {
            
            
            
            <span>let</span> prev = s.borrow_mut().take();
            <span>if</span> <span>let</span> <span>Some</span>(<span>mut</span> w) = prev {
                <span>let</span> result = w.write_fmt(args);
                *s.borrow_mut() = <span>Some</span>(w);
                <span>return</span> result;
            }
            global_s().write_fmt(args)
        })
        .unwrap_or_else(|_| global_s().write_fmt(args));

    <span>if</span> <span>let</span> <span>Err</span>(e) = result {
        <span>panic!</span>(<span>"failed printing to {}: {}"</span>, label, e);
    }
}

</code></pre>
<p>Which is, uh, well let's just say it's not exactly <em>simple</em> looking now? There
is a lot going on here!</p>
<p>To be clear, I'm not faulting Rust here at all, my point is exactly the
opposite actually, in that there is <em>always</em> necessarily more going on in a
"Hello world!" than <code>puts "la de da"</code> or similar would have you believe on its
face. Speaking of Ruby's <code>puts</code>, what <em>is</em> the code that runs <code>puts</code> in the
Ruby interpreter itself, which is written in C?</p>
<p>Well it looks like <a href="https://github.com/ruby/ruby/blob/7c2bbd1c7d40a30583844d649045824161772e36/io.c#L7727-L7758">this</a></p>
<pre><code><span>VALUE
<span>rb_io_puts</span><span>(<span>int</span> argc, <span>const</span> VALUE *argv, VALUE out)</span>
</span>{
    <span>int</span> i, n;
    VALUE <span>line</span>, args[<span>2</span>];

    
    <span>if</span> (argc == <span>0</span>) {
        rb_io_write(out, rb_default_rs);
        <span>return</span> Qnil;
    }
    <span>for</span> (i=<span>0</span>; i&lt;argc; i++) {
        <span>if</span> (RB_TYPE_P(argv[i], T_STRING)) {
            <span>line</span> = argv[i];
            <span>goto</span> <span>string</span>;
        }
        <span>if</span> (rb_exec_recursive(io_puts_ary, argv[i], out)) {
            <span>continue</span>;
        }
        <span>line</span> = rb_obj_as_string(argv[i]);
      <span>string</span>:
        n = <span>0</span>;
        args[n++] = <span>line</span>;
        <span>if</span> (RSTRING_LEN(<span>line</span>) == <span>0</span> ||
            !rb_str_end_with_asciichar(<span>line</span>, <span>'\n'</span>)) {
            args[n++] = rb_default_rs;
        }
        rb_io_writev(out, n, args);
    }

    <span>return</span> Qnil;
}
</code></pre>
<p>Hello world!</p>
<p>We all know that a languages like Ruby or Python are designed explicitly to
hide this sort of complexity from us and let us get on with the dirty business
of munging data blobs or serving web requests or solving sudokus or whatever,
and thank goodness for that, but wow that is <em>quite</em> a lot, isn't it?</p>
<hr>
<p>When people come from languages that were designed to be ergonomic to more
systems oriented languages, they're often jarred by what they perceive to be
code thatis inelegant, ugly, and verbose. To be sure, it sometimes <em>is</em> exactly
that... (although anyone who has worked with a "pretty" language in a production
codebase knows that those are not immune to these descriptors either).</p>
<p>Usually, the tradeoff is explicit: elegance and simplicity for
<em>control</em>...  specific and granular <em>control</em>, over the program that will
eventually be run.  It isn't always necessary, in fact it is almost always _un_necessary,
to have <em>that</em> much control over your program. Obviously, productivity matters,
and if your business is <em><em>insert viable business</em></em>, well it's likely that your
goals are not going to be optimally met by futzing with manual memory
management all day (<a href="https://danluu.com/sounds-easy/">at least from the macro level, in the general
sense</a>).</p>
<p>But what if you <em>do</em> need that control? Well then, <em>you need it</em>. When every
ounce of performance actually is necessary, or on embedded systems with hard
memory constraints, or when writing code for some bespoke or otherwise uncommon
processor.</p>
<p>I'm going to choose one language, Zig, and dive deep into its hello world, but
it is important to note here that my point is not primarily about Zig, it's
about how <em>all</em> languages have to contend with an enormous amount of complexity
in order to do <em>anything</em>, even the simplest of tasks like a hello world
program. Complexity that is, for the most part, hidden from us in our day to
day. So what in the hello world is <em>actually</em> going on then?</p>
<blockquote>
<p>I'll be using the most current minor release version of Zig: 0.6.0.</p>
</blockquote>
<h2>Let's take a walk</h2>
<p><a href="https://ziglang.org/">Zig</a>'s hello world looks like this, from the docs.:</p>
<pre><code><span>const</span> std = <span>@import</span>(<span>"std"</span>);

<span>pub</span> <span><span>fn</span> <span>main</span></span>() !<span>void</span> {
    <span>const</span> stdout = std.io.getStdOut().outStream();
    <span>try</span> stdout.print(<span>"Hello, {}!\n"</span>, .{<span>"world"</span>});
}
</code></pre>
<p>If you are new to zig, a quick word on this syntax before I get into the gritty
details.</p>
<pre><code><span>const</span> std = <span>@import</span>(<span>"std"</span>);
</code></pre>
<p><code>@import</code> is a <a href="https://ziglang.org/documentation/0.6.0/#Builtin-Functions"><em>compiler
builtin</em></a> function
that assigns the namespace of the file it is referencing to the <code>const</code>
variable on the left hand side.</p>
<pre><code><span>pub</span> <span><span>fn</span> <span>main</span></span>() !<span>void</span> {
  
}
</code></pre>
<p>Just like in C, <code>main</code> is a special function that marks the entry point to a
program after it has been compiled as an executable. Unlike in C, it accepts no
arguments (C's main function has a variety of vagaries that make it a bit
<a href="https://stackoverflow.com/a/4207223">unique</a>) and command line input is
available through utility functions to allow easier cross platform use.</p>
<p>It is marked <a href="https://ziglang.org/documentation/0.6.0/#Keyword-pub"><code>pub</code></a> so
that it is accessible from outside of the immediate module ('module' here
referring to nothing more than the top level scope of the current namespace...
i.e., the file), this is a necessary step since, as the program's entry point,
<code>main</code> would <em>have</em> to be accessible from outside the immediate scope.</p>
<p><code>fn</code> is the function keyword.</p>
<p><code>main()</code> is the name of the function (and where the argument list <em>would</em> be)
and <code>!void</code> is the return type. Looking a little closer at that return type:</p>
<p>In C, the return type of a function is declared <em>before</em> anything else. This
makes a certain amount of sense: it's congruent with how variables are
declared, after all, and scanning the file you can see clearly "calling this
will get you that."</p>
<p>In Zig, the return type comes after the function declaration but before the
function body. This also makes sense! It's the same in Rust and Go, and seems
to be generally a more modern approach. The reason is actually pretty simple:
doing it this way makes it possible to have a context-free grammar! C and C++
put the parser in a position where it <a href="https://stackoverflow.com/questions/14589346/is-c-context-free-or-context-sensitive">has to understand semantics to even just
<em>parse</em> the source
code.</a></p>
<p>In Zig, <code>main</code> returns <code>void</code> (well, actually, it can return a variety of
things, and if it returns void (which is just a way of saying it doesn't return
anything at all)), it's actually returning
<a href="https://github.com/jfo/zig/blob/7381aaf70e0cad92fc52b79f3aa2a0abb7c3ee04/lib/std/start.zig#L241-L244"><code>0</code></a>
as a success code, but) there is a wrinkle!  <code>void</code> is preceded by an
exclamation mark. This means: "This function is supposed to return <code>void</code>, but
it <em>could</em> fail and return an error." This is an <a href="https://ziglang.org/documentation/0.6.0/#Inferred-Error-Sets">inferred error
set</a>, and
whenever a function that <em>could</em> fail is called, the compiler will enforce that
you handle that error at the call site. More on Zig's error handling some other
time, for now it is enough to understand what the <code>!</code> in front of the return
type declaration means. I want to move on to the body of the function, let's go
line by line.</p>
<pre><code><span>const</span> stdout = std.io.getStdOut().outStream();
</code></pre>
<p>So, we can see that this is a call into a standard library function (<code>std</code>)
that returns something that we assign to <code>const stdout</code>. Standard out (stdout) and
standard error (stderr) may be familiar concepts from the shell, but what does it
mean to be referring to <code>stdout</code> here in this program? What exactly <em>is</em>
<code>stdout</code>? Whatever it is, it's being returned by the call to <code>outStream()</code>,
which is a method called on the return value of <code>std.io.getStdOut()</code>, so we
first need to know what <em>that</em> is.</p>
<p>To the source! In the Zig source tree, <code>std</code> lives in <code>lib/std/std.zig</code>, which
is a file that makes a wide variety of functionality available. It includes the line:</p>
<pre><code><span>pub</span> <span>const</span> io = <span>@import</span>(<span>"io.zig"</span>);
</code></pre>
<p>Which is referred to on the <code>std</code> variable as <code>std.io</code> (again, notice the <code>pub</code>
keyword, without which this declared constant would be inaccesible outside of
this immediate scope). Going deeper, into <code>lib/std/io.zig</code>...</p>
<pre><code><span>pub</span> <span><span>fn</span> <span>getStdOut</span></span>() File {
    <span>return</span> File{
        .handle = getStdOutHandle(),
        .capable_io_mode = .blocking,
        .intended_io_mode = default_mode,
    };
}
</code></pre>
<p>So, <code>stdout</code> is a <em>File</em> struct. Let's look at that. It is imported at the top
of <code>io.zig</code> as</p>
<pre><code><span>const</span> File = std.fs.File;
</code></pre>
<p>and lives in the source, perhaps unsurprisingly, at <code>lib/std/fs/File.zig</code>. This
struct definition is quite long, so I'll focus on what we want to look at, the
<code>outStream()</code> method.</p>
<h2>An aside: methods vs functions</h2>
<p>Zig doesn't <em>really</em> have methods, but it's useful to talk about a special
class of functions <em>as</em> methods, since the calling convention supports implicit
passing of <code>self</code> when called on a struct "instance" using dot syntax. Let me
show you what I mean.</p>
<pre><code><span>const</span> std = <span>@import</span>(<span>"std"</span>);

<span>con…</span></code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.jfo.click/hello-hello-world/">https://blog.jfo.click/hello-hello-world/</a></em></p>]]>
            </description>
            <link>https://blog.jfo.click/hello-hello-world/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24175174</guid>
            <pubDate>Sun, 16 Aug 2020 04:39:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a command line tool to help with Google searches]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24174672">thread link</a>) | @kaunta
<br/>
August 15, 2020 | https://johnlekberg.com/blog/2020-08-15-cli-google.html | <a href="https://web.archive.org/web/*/https://johnlekberg.com/blog/2020-08-15-cli-google.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://johnlekberg.com/blog.html">Return to Blog
</a></p><p>By John Lekberg on August 15, 2020.
</p><hr>
<p>A lot of my Google searches are specific and require lots of typing, e.g.</p>
<blockquote>
<p>site:cppreference.com OR site:cplusplus.com realloc</p>
</blockquote>
<p>This searches for "realloc" on <a href="https://en.cppreference.com/w/">cppreference.com</a> and <a href="https://www.cplusplus.com/">cplusplus.com</a>.
To reduce the amount of typing, I built a command line tool that allows me to
use <a href="https://en.wikipedia.org/wiki/Macro_(computer_science)">macros</a> that expand into larger phrases. E.g. I can write</p>
<blockquote>
<p>{cpp} realloc</p>
</blockquote>
<p>instead of writing</p>
<blockquote>
<p>site:cppreference.com OR site:cplusplus.com realloc</p>
</blockquote>
<p>In this week's post, I'll show you how I built this tool. You will learn:</p>
<ul>
<li>How to use the <a href="https://docs.python.org/3/library/pathlib.html">pathlib</a> and <a href="https://docs.python.org/3/library/re.html">re</a> modules to parse macros from a text file.</li>
<li>How to construct a Google search URL using <a href="https://docs.python.org/3/library/urllib.parse.html">urllib.parse</a>.</li>
</ul>

<blockquote>
<p><strong>search-google</strong></p>
</blockquote>
<pre><code>#!/usr/bin/env python3

import pathlib
import re
import sys
import urllib.parse
from contextlib import suppress

macro_re = re.compile(
    r"(?m)^(?P&lt;name&gt;\w+):(?P&lt;replace&gt;.*)$"
)
macro_path = pathlib.Path.home() / "search-google-macro.txt"

# This limit prevents recursive macros from causing the
# program to enter an infinite loop.
MAX_MACRO_SUBSTITIONS = 32


def MAIN():
    import argparse

    parser = argparse.ArgumentParser(
        prefix_chars=":",
        description="""
        Search Google for a list of terms. Macro
        substitutions look like '{macro}', e.g. '{gov}
        differential diagnosis'. If no terms are given,
        print the path to the macro file.
        """,
    )
    parser.add_argument(
        "term", nargs="*", help="Search for this term."
    )
    args = parser.parse_args()

    if len(args.term) == 0:
        print(macro_path)
    else:
        macro = load_macros(macro_path)

        query = " ".join(args.term)
        with suppress(KeyError):
            for _ in range(MAX_MACRO_SUBSTITIONS):
                query = query.format_map(macro)

        url = "https://www.google.com/search?q="
        url += urllib.parse.quote_plus(query)

        print(url)


def load_macros(path):
    """Load macros from a file.

    If the file doesn't exist, then return an empty
    dictionary.

    path -- pathlib.Path. The macro file.
    """
    if not path.is_file():
        return {}
    else:
        return {
            match["name"].strip(): match["replace"].strip()
            for match in macro_re.finditer(path.read_text())
        }


if __name__ == "__main__":
    MAIN()
</code></pre>
<blockquote>
<pre><code>$ search-google :h
</code></pre>
</blockquote>
<pre><code>usage: search-google [:h] [term [term ...]]

Search Google for a list of terms. Macro substitutions look
like '{macro}', e.g. '{gov} differential diagnosis'. If no
terms are given, print the path to the macro file.

positional arguments:
  term        Search for this term.

optional arguments:
  :h, ::help  show this help message and exit
</code></pre>

<p>Here's what my macro file looks like:</p>
<blockquote>
<p><strong>~/search-google-macro.txt</strong></p>
</blockquote>
<pre><code>c: {cpp}
cpp: (site:cppreference.com OR site:cplusplus.com)
edu: site:edu
goe: ({gov} OR {edu})
gov: site:gov
hn: site:news.ycombinator.com
js: site:developer.mozilla.org
movie: (site:rottentomatoes.com OR site:imdb.com)
py: site:python.org
</code></pre>
<p>Here are some example searches:</p>
<ul>
<li>
<p>Search for the <a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a> function <a href="https://en.cppreference.com/w/c/memory/realloc">realloc</a>:</p>
<blockquote>
<pre><code>$ search-google {cpp} realloc
</code></pre>
</blockquote>
<pre><code>https://www.google.com/search?q=%28site%3Acppreference.
com+OR+site%3Acplusplus.com%29+realloc
</code></pre>
</li>
<li>
<p>Search for information on <a href="https://ghr.nlm.nih.gov/condition/orthostatic-hypotension">orthostatic hypotension</a>:</p>
<blockquote>
<pre><code>$ search-google {goe} orthostatic hypotension
</code></pre>
</blockquote>
<pre><code>https://www.google.com/search?q=%28site%3Agov+OR+site%3A
edu%29+orthostatic+hypotension
</code></pre>
</li>
<li>
<p>Search for discussion about <a href="https://en.wikipedia.org/wiki/Verilog">Verilog</a>
or <a href="https://en.wikipedia.org/wiki/VHDL">VHDL</a> on <a href="https://en.wikipedia.org/wiki/Hacker_News">Hacker
News</a>:</p>
<blockquote>
<pre><code>$ search-google {hn} verilog OR vhdl
</code></pre>
</blockquote>
<pre><code>https://www.google.com/search?q=site%3Anews.ycombinator.
com+verilog+OR+vhdl
</code></pre>
</li>
<li>
<p>Search for reviews for the movie <a href="https://en.wikipedia.org/wiki/Alien_(film)">Alien (1979)</a>:</p>
<pre><code>$ search-google {movie} alien 1979
</code></pre>
<pre><code>https://www.google.com/search?q=%28site%3Arottentomatoes.
com+OR+site%3Aimdb.com%29+alien+1979
</code></pre>
</li>
</ul>
<p>I could copy-and-paste these URLs into my browser. But, since I use macOS, I
create a <a href="http://zsh.sourceforge.net/Doc/Release/Functions.html#Functions">shell function</a> that uses the <a href="https://ss64.com/osx/open.html">open</a> command:</p>
<blockquote>
<pre><code>$ gg() { open "$(./search-google "$@")" ; }
$ gg {movie} alien 1979
</code></pre>
</blockquote>
<pre><code>(Opens URL in my browser.)
</code></pre>

<p>I place the macro file in my <a href="https://en.wikipedia.org/wiki/Home_directory">home directory</a> using <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.home">pathlib.Path.home</a>.</p>
<p>I read from the macro file using <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.read_text">pathlib.Path.read_text</a> and <a href="https://docs.python.org/3/library/re.html#re.finditer">re.finditer</a>.
I use a regular expression to extract the macros from the macro file, and I use
<a href="https://docs.python.org/3/library/stdtypes.html#str.strip">str.strip</a> to remove excess whitespace from the macros.</p>
<p>I use <a href="https://docs.python.org/3/library/stdtypes.html#str.format_map">str.format_map</a> to perform the macro substitutions.</p>
<p>Instead of performing substitutions until I hit a <a href="https://en.wikipedia.org/wiki/Fixed_point_(mathematics)">fixed point</a>, I perform a
finite number of substitutions.
(This is the constant <code>MAX_MACRO_SUBSTITIONS</code>.)
I do this because it is an easy way to prevent unbounded <a href="https://en.wikipedia.org/wiki/Recursion">recursion</a>, and, in
practice, my macros are not complex enough to cause this strategy to fail.</p>
<p>A macro substitution will fail if I reference a macro that doesn't exist, e.g.
<code>{xyxhkj}</code>.
I handle this by using the context manager <a href="https://docs.python.org/3/library/contextlib.html#contextlib.suppress">contextlib.suppress</a>.
This allows me to catch the relevant exception and stop performing
substitutions, without terminating the whole program.</p>
<p>I build the URL by combining a constant prefix,
<code>https://www.google.com/search?q=</code>, with the query string.
I use <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.quote_plus">urllib.parse.quote_plus</a> to properly escape the query string. E.g.</p>
<blockquote>
<pre><code>import urllib.parse
query = "site:news.ycombinator.com haskell"
print(query)
</code></pre>
</blockquote>
<pre><code>site:news.ycombinator.com haskell
</code></pre>
<blockquote>
<pre><code>print(urllib.parse.quote_plus(query))
</code></pre>
</blockquote>
<pre><code>site%3Anews.ycombinator.com+haskell
</code></pre>

<p>In this week's post, you learned how to build a command line tool that helps
you search Google.
You learned how to use the <a href="https://docs.python.org/3/library/pathlib.html">pathlib</a> and <a href="https://docs.python.org/3/library/re.html">re</a> modules to parse the macros.
And you used the <a href="https://docs.python.org/3/library/urllib.parse.html">urllib.parse</a> module to properly construct the URL.</p>
<p>My challenge to you:</p>
<blockquote>
<p>Read about the different Google search operators. (<a href="https://support.google.com/websearch/answer/2466433?hl=en">"Refine web searches" via
google.com</a>.)</p>
<p>Create a few macros that would be useful to you. Some ideas:</p>
<ul>
<li>Create a macro that restricts searches to <a href="https://www.ruby-lang.org/en/">ruby-lang.org</a>.</li>
<li>Create a macro that searches for upcoming <a href="https://en.wikipedia.org/wiki/5K_run">5K races</a> in a specified city.</li>
<li>CreateÂ&nbsp;a macro that searches a person's name, but excludes results from
<a href="https://www.linkedin.com/">LinkedIn</a> and <a href="https://twitter.com/">Twitter</a>.</li>
</ul>
</blockquote>
<p>If you enjoyed this week's post, share it with your friends and stay tuned for next week's post. See you then!</p>

<hr>
<p>(If you spot any errors or typos on this post, contact me via my
<a href="https://johnlekberg.com/contact.html">contact page</a>.)
</p></div></div>]]>
            </description>
            <link>https://johnlekberg.com/blog/2020-08-15-cli-google.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24174672</guid>
            <pubDate>Sun, 16 Aug 2020 03:17:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A joke about the difference between mathematicians and physicists]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24174155">thread link</a>) | @tazedsoul
<br/>
August 15, 2020 | http://www.thingspondered.xyz/2020/08/excerpt-man-who-loved-only-numbers.html | <a href="https://web.archive.org/web/*/http://www.thingspondered.xyz/2020/08/excerpt-man-who-loved-only-numbers.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-7665629433863837456" itemprop="description articleBody">
<p><a href="https://1.bp.blogspot.com/-c_LMUfBgElw/XziOsG57gNI/AAAAAAAACcA/0YyZSCdHztQIDOZjFZqzAF5HfIEsMGcmACLcBGAsYHQ/s620/f6efef949e3a9dab7e1625e09a282424.jpg"><img data-original-height="330" data-original-width="620" src="https://1.bp.blogspot.com/-c_LMUfBgElw/XziOsG57gNI/AAAAAAAACcA/0YyZSCdHztQIDOZjFZqzAF5HfIEsMGcmACLcBGAsYHQ/s0/f6efef949e3a9dab7e1625e09a282424.jpg"></a></p><p>"The Man Who Loved Only Numbers" by Paul Hoffman is a biography about the memorable personality that is Paul Erdős, the prolific mathematician, who published with over 500 collaborators. Erdős, who is well-known for his contributions to number theory, set theory, probability theory, graph theory, and more, as well as the invention of the Erdős Number, a measure of one's proximity to having collaborated with him, is of course a subject himself. That said, in Hoffman's biography of him, there is a bit about the behavior of mathematicians and a lone physicist that does well to embody the spiritual and cognitive differences between the two groups, both of which share a passion for mathematical thinking but nevertheless are separable beasts.&nbsp;</p><p><span></span>The excerpt of interest tells of a mathematics conference in which a group of mathematicians return to the coffee table after a talk only to find a puzzle.</p><p><a name="more"></a><i>The rest filed out and raced toward a folding table that supported two large brown plastic tanks, one labeled WITH CAFFEINE, the other WITHOUT CAFFEINE. The mathematicians had already tanked up once, before the graph theo- rist's talk, and now the labels on the tanks were curiously switched. The mathematicians were in a tizzy and stared, puzzled, at the tanks. Their collective brainpower, fine for discerning the latest wrinkles in infinite graph theory, was stalling out on the case of the true Joe.</i></p><p><i>Finally a lightbulb went off in the head of a jovial, beer-bellied fellow in a JOY OF SETS T-shirt. He stepped forward and filled his Styrofoam cup, half from one tank and half from the other.&nbsp;</i></p><p><i>"I see," laughed one of his compatriots, "the game-theoretic solution!"</i></p><p><i>"I have another solution," said a thin man whose hands trembled slightly, apparently from a caffeine high. He&nbsp;</i><i>filled his cup a quarter full from one of the tanks.&nbsp;</i><i>"This is the asymptotic solution," he announced. "I'm already so wired I only want a little bit more; whatever is in the cup, I win."</i></p><p><i>A bystander who was a physicist rather than a mathematician didn't understand the need for all this sophisticated thinking. He pointed out that one tank was bigger than the other, and that the bigger tank presumably held caffeinated coffee since more people drink it than drink decaf. &nbsp;The mathematicians were taken aback by the simplicity of the solution. "Our different approaches," said the physicist, "remind me of an old joke. A physicist and a mathematician are flying cross-country together. Each is keeping a diary of the trip. They fly over a white horse in Iowa. The physicist writes, 'There is a white horse in Iowa.' The mathematician writes, 'There exists, somewhere in the Midwest, a horse, white on top.'"</i></p><p>For all that has been written about the difference between physicists and mathematicians, especially with the goal of illuminating their inner minds, this passage provides both a reasonable illustration and a good laugh.</p><p><b><a href="http://twitter.com/philliplevin"> Did you enjoy this? Follow me on Twitter: @philliplevin to find out when I post next</a></b></p>
</div></div>]]>
            </description>
            <link>http://www.thingspondered.xyz/2020/08/excerpt-man-who-loved-only-numbers.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24174155</guid>
            <pubDate>Sun, 16 Aug 2020 01:53:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The TikTok ban and the openness trap]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 40 (<a href="https://news.ycombinator.com/item?id=24173251">thread link</a>) | @kirillzubovsky
<br/>
August 15, 2020 | https://unintendedconsequenc.es/tiktok-ban-openness-trap/ | <a href="https://web.archive.org/web/*/https://unintendedconsequenc.es/tiktok-ban-openness-trap/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2318">
		<!-- .entry-header -->

	
	<div>
		<p>While I often say that I don’t respond to recent business news here, I have also recently broken that rule a few times. So I decided to look at the potential Tiktok ban in the US. To connect this potential ban to my other writing I’ll go back to Merton’s five causes of unintended consequences to point out some less discussed reasons for why the ban might be good or bad.</p>
<p>Related to the discussion around Tiktok, I was reminded that this week marks the 30th year since I first visited mainland China. I remember this because I was in Beijing at the same time that Saddam Hussein’s Iraq invaded Kuwait — the first week of August 1990. The hotel TV did not black out that specific part of the news.</p>
<p>Since that time I went to mainland China perhaps around 50 times both for work and to travel. For a large country with big regional differences, I don’t count 50 trips as a lot. But I’ve found my perspective to be different from that of others who spent more time there simply because I have seen the country over a longer time.</p>
<p>While it’s now been two years since I have been to China, also for work, a lot of my experience was of a China that doesn’t really exist anymore. Many of my trips to the country were in the 1990s and early 2000s. First off, that was a cash society and not the mobile payments-driven one of today. On longer trips, I had several occurrences where I needed to coax bank employees through a long process of filling out long handwritten forms so that I could make an international withdrawal. Today’s China of mobile payments (and monitoring) is one that I haven’t experienced that much personally. For example, in a previous <a href="https://unintendedconsequenc.es/a-second-step/">article</a> I used a picture of stacks of bike share bikes which were plentiful, but not accessible to me because I didn’t have a bank account linked to the relevant app.</p>
<p>Many of my trips in China were also before smart phones were common. It did not hinder anything about my experiences there, it just made them different than they would be today.</p>
<div dir="auto">
<p>In a way connected to the previous two, another experience I had in China was that a lot of my trips were during a period of growing freedom. I did many things that are probably unusual or impossible today, including making friends with <a href="https://unintendedconsequenc.es/uyghurs-xinjiang-onward-to-the-inevitable/">Uyghurs in Xinjiang</a>, seeing multiple arrests (related to <a href="https://unintendedconsequenc.es/very-different-funeral-deng-xiaoping/">Deng Xiaoping’s funeral</a> and Falun Gong), having thoughtful discussions with people I met on China’s development, the US, Taiwan, and other topics.</p>
<p>But back to Tiktok, a popular short video app that is an American company owned by ByteDance, a Chinese parent company. Tiktok’s corporate behavior and the history of non-reciprocity of tech in China is problematic. Does a ban or potential sale to an American company (perhaps Microsoft) make sense?</p>
<p>Others have <a href="https://stratechery.com/2020/the-tiktok-war/">pointed out</a> that an issue with Tiktok is not only that it censors political information unwanted by China’s government, but its algorithmic feed determines what content users see. Tiktok has hundreds of millions of users which means that at scale it can influence what ideas become the norm, whether by suppressing undesirable ones or encouraging users to avoid ones that would lead to their own accounts being suppressed.</p>
<p>And as others have mentioned, Tiktok’s users were responsible for low turnout at Trump’s political rally in Tulsa. How should we look at the potential to ban an app in the US — something that is common to do in China?</p>
<p><img src="https://unintendedconsequenc.es/wp-content/uploads/2020/08/Tiktok-Bytedance-logos-300x54.png" alt="" width="300" height="54" srcset="https://unintendedconsequenc.es/wp-content/uploads/2020/08/Tiktok-Bytedance-logos-300x54.png 300w, https://unintendedconsequenc.es/wp-content/uploads/2020/08/Tiktok-Bytedance-logos.png 587w" sizes="(max-width: 300px) 100vw, 300px"></p>
<h2>Merton’s List</h2>
<p>Robert Merton’s five causes of unintended consequences are <a href="https://unintendedconsequenc.es/acquiring-ignorance/">ignorance</a>,&nbsp;<a href="https://unintendedconsequenc.es/basic-values/">basic values</a>, <a href="https://unintendedconsequenc.es/long-reach-of-short-term-interests/">short vs long-term interests</a>, the <a href="https://unintendedconsequenc.es/the-self-defeating-prophecy">self-defeating prophecy,</a> and <a href="https://unintendedconsequenc.es/origins-of-error">error</a>. His list is high-level, but it will do for today.</p>
</div>
<p>Let’s take a quick look at each related to Tiktok and why we are in a situation to have this discussion.</p>
<h3>Ignorance</h3>
<p>One of the differences between the US and China is that it is easier to learn about the American side than the Chinese side. The exchange of people is relatively lopsided (more Chinese citizens studying and working in the US than the reverse). American customs are easier to learn. In spite of the above, the China side invests more time to learn about the US than the reverse. This is a fault of interest and expectations on the US side.</p>
<p>As I wrote in my article on <a href="https://unintendedconsequenc.es/acquiring-ignorance/">ignorance</a>, “First-order effects of ignorance include incorrect decisions. Second-order effects include not understanding why the decisions are incorrect.”</p>
<h3>Basic Values</h3>
<p>From the typical American perspective, a grating part of a ban is that “it’s not who we are, it’s just not something we do.” Let users decide where to put their time. After all, if they want to use a well-designed app that has millions of users, but also concerns around security and influence, it’s their choice. The best ideas will win out. The problem with this argument is that most of the past examples of this argument have been domestic products. The US has also been quite critical of (though seldom willing to ban or break up) domestic tech companies that gain too much power.</p>
<p>Should the same be extended to foreign companies, at least those owned by antagonistic countries? Tiktok’s own censorship, <a href="https://www.washingtonpost.com/technology/2019/09/15/tiktoks-beijing-roots-fuel-censorship-suspicion-it-builds-huge-us-audience/">including that of</a> protests in Hong Kong, treatment of Uyghurs in Xinjiang, and even of <a href="https://www.businessinsider.com/tiktok-censorship-users-deemed-ugly-overweight-or-disabled-2020-3">unattractive users</a>, is also contrary to US basic values.</p>
<h3>Short vs Long-Term Interests</h3>
<p>Tiktok’s American management of course came out against the ban. I have no idea what they actually think, though I do remember <a href="https://www.brainyquote.com/quotes/upton_sinclair_138285#:~:text=Upton%20Sinclair%20Quotes&amp;text=It%20is%20difficult%20to%20get%20a%20man%20to%20understand%20something,upon%20his%20not%20understanding%20it.">that</a> “It is difficult to get a man to understand something when his salary depends upon his not understanding it.”</p>
<p>Tiktok claims that it will create 10,000 jobs in the US over the next three years. The company is rallying its users in its defense. Why wouldn’t it?</p>
<p>But this is where the interests of Tiktok (the short-term) don’t match with the interests of the US (the long-term). Yes, banning Tiktok would leave its users without the entertainment (until they find a new app or a workaround). The ban would probably eliminate some jobs. But in the timeline of social media companies, perhaps we shouldn’t care. We rarely mourn for MySpace today, even if it’s decline was for market reasons. Other products will fill Tiktok’s void. Long-term detriments or benefits of its ban may include the slippery slope of banning other apps, opening the way for other countries to ban apps, and more.</p>
<p>Another view on the ban is that it comes up within 100 days of the presidential election. Government timescales in the US are shorter than those in China not because of the different ages of the countries but because the US has elections every four years and the political party in the executive branch often flips, while China has one party and Xi Jinping might last for decades now that he removed term limits.</p>
<h3>The Self-Defeating Prophecy</h3>
<p>I’ll just quote my earlier article on <a href="https://unintendedconsequenc.es/the-self-defeating-prophecy/">this type</a>: “I think of this phenomenon as a tortoise and hare situation. Not the “slow and steady” part, but instead that the unexpected nature of who would win a tortoise-hare race is baked into the participants’ behavior. The hare only stops to rest because it is so obvious that it will win, which in turn becomes the reason it loses.”</p>
<h3>Error</h3>
<p>A common error in American discussions of Tiktok is assumptions about a bilateral nature of its ban. China has banned or blocked many American companies for years now. A partial list of these American companies includes Google, Youtube, Facebook, Wikipedia, Instagram, and Twitter.</p>
<p>It was a mistake to not require reciprocity for the years these companies have been blocked in China. That being said, Tiktok is the first China-owned tech company to gain the consumer mass market in the US.</p>
<p>The explanations for banning US tech companies in China includes both information flow but also the ability for Chinese versions of these products to have a chance. It’s like saying that the US should ban Tiktok so that domestic companies have the ability to build their own short video apps. That’s a concept typically not considered for Americans.</p>
<p>And what happens when the movement is in a different direction? What about Zoom, an American company that has banned user activity in the US at China’s request? Actually, <a href="https://www.reddit.com/r/HongKong/comments/dfg1ce/list_of_companies_under_chinas_censorship_orders/">the list</a> of non-Chinese companies companies complying with pressure from China (to say nothing of those doing so proactively) is quite long.</p>
<p><span>The Opposite Trap</span></p>
<div dir="auto">
<p>There is a common lack of critical thinking about Tiktok but a prevalence of imagination for reasons Trump has for its ban. One of the frequent explanations is the Tulsa Rally. From a recent Forbes article: “What if this has nothing to do with China, nothing to do with national security? What if this does have everything to do with Trump’s rally in Tulsa, Oklahoma, in June?”</p>
<p>Such an argument actually is connected to national security. Such an outcome could have just as easily happened to Biden (or to Clinton had she been elected). I read much of the argument against Tiktok’s ban as being more about supporting the opposite of whatever Trump says rather than critical thinking about outcomes.</p>
<p>Quotes like this one <a href="https://www.wired.com/story/trump-tiktok-ban-hypocrisy/">from Wired</a> also make me question the supporting examples: “For the past several years, I’ve warned that the biggest threat to the internet is the technological cold war between the reasonably open, free internet of the West, and the closed authoritarian internet of the East. Now, with the President’s repudiation of free speech and open markets, I worry whether there isn’t as much difference between the two sides after all.” For the long lists of companies above and the large volume of domestic speech critical of Trump when there is no such comparison for Xi — I take this to be, well, hypocrisy on the part of the writer making this claim.</p>
<p>Even the <a href="https://twitter.com/ACLU/status/1289412933991174144?s=20">ACLU seemed to be</a> both against and for a Tiktok ban in recent tweets: “Banning an app like TikTok, which millions of Americans use to communicate with each other, is a danger to free expression and technologically impractical.” But the prevented free expression on Tiktok, noted above, is a great danger too. And since when does the ACLU care about …</p></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://unintendedconsequenc.es/tiktok-ban-openness-trap/">https://unintendedconsequenc.es/tiktok-ban-openness-trap/</a></em></p>]]>
            </description>
            <link>https://unintendedconsequenc.es/tiktok-ban-openness-trap/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24173251</guid>
            <pubDate>Sat, 15 Aug 2020 23:13:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LFE: Lisp Flavored Erlang]]>
            </title>
            <description>
<![CDATA[
Score 134 | Comments 26 (<a href="https://news.ycombinator.com/item?id=24173111">thread link</a>) | @whynotwhynot
<br/>
August 15, 2020 | https://lfe.io/books/tutorial/index.html | <a href="https://web.archive.org/web/*/https://lfe.io/books/tutorial/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <!-- Provide site root to javascript -->
    

    <!-- Work around some values being stored in localStorage wrapped in quotes -->
    

    <!-- Set the theme before any content is loaded, prevents flash -->
    

    <!-- Hide / unhide sidebar before it is displayed -->
    

    <nav id="sidebar" aria-label="Table of contents">
        <div>
            <ol><li><a href="https://lfe.io/books/tutorial/index.html">The LFE Tutorial</a></li><li><a href="https://lfe.io/books/tutorial/title.html">Title Page</a></li><li><a href="https://lfe.io/books/tutorial/front/copyright-page.html">Copyright Page</a></li><li></li><li><a href="https://lfe.io/books/tutorial/introduction/index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol><li><a href="https://lfe.io/books/tutorial/introduction/erlang.html"><strong aria-hidden="true">1.1.</strong> About Erlang</a></li><li><a href="https://lfe.io/books/tutorial/introduction/lfe.html"><strong aria-hidden="true">1.2.</strong> About LFE</a></li><li><a href="https://lfe.io/books/tutorial/introduction/deps.html"><strong aria-hidden="true">1.3.</strong> Dependencies</a></li><li><a href="https://lfe.io/books/tutorial/introduction/install.html"><strong aria-hidden="true">1.4.</strong> Installing LFE</a></li></ol></li><li><a href="https://lfe.io/books/tutorial/sequential/index.html"><strong aria-hidden="true">2.</strong> Sequential Programming</a></li><li><ol><li><a href="https://lfe.io/books/tutorial/sequential/repl.html"><strong aria-hidden="true">2.1.</strong> The REPL</a></li><li><a href="https://lfe.io/books/tutorial/sequential/modfunc.html"><strong aria-hidden="true">2.2.</strong> Modules and Functions</a></li><li><a href="https://lfe.io/books/tutorial/sequential/atoms.html"><strong aria-hidden="true">2.3.</strong> Atoms</a></li><li><a href="https://lfe.io/books/tutorial/sequential/tuples.html"><strong aria-hidden="true">2.4.</strong> Tuples</a></li><li><a href="https://lfe.io/books/tutorial/sequential/lists.html"><strong aria-hidden="true">2.5.</strong> Lists</a></li><li><a href="https://lfe.io/books/tutorial/sequential/propmaps.html"><strong aria-hidden="true">2.6.</strong> Property Lists and Maps</a></li><li><a href="https://lfe.io/books/tutorial/sequential/stdlib.html"><strong aria-hidden="true">2.7.</strong> The Erlang Standard Library</a></li><li><a href="https://lfe.io/books/tutorial/sequential/output.html"><strong aria-hidden="true">2.8.</strong> Writing Output to a Terminal</a></li><li><a href="https://lfe.io/books/tutorial/sequential/example.html"><strong aria-hidden="true">2.9.</strong> Example: Converting Temperature</a></li><li><a href="https://lfe.io/books/tutorial/sequential/matching.html"><strong aria-hidden="true">2.10.</strong> Matching, Guards and Scope of Variables</a></li><li><a href="https://lfe.io/books/tutorial/sequential/morelists.html"><strong aria-hidden="true">2.11.</strong> More About Lists</a></li><li><a href="https://lfe.io/books/tutorial/sequential/conds.html"><strong aria-hidden="true">2.12.</strong> Conditionals</a></li><li><a href="https://lfe.io/books/tutorial/sequential/bifs.html"><strong aria-hidden="true">2.13.</strong> Built-in Functions</a></li><li><a href="https://lfe.io/books/tutorial/sequential/hofs.html"><strong aria-hidden="true">2.14.</strong> Higher Order Functions</a></li></ol></li><li><a href="https://lfe.io/books/tutorial/concurrent/index.html"><strong aria-hidden="true">3.</strong> Concurrent Programming</a></li><li><ol><li><a href="https://lfe.io/books/tutorial/concurrent/processes.html"><strong aria-hidden="true">3.1.</strong> Processes</a></li><li><a href="https://lfe.io/books/tutorial/concurrent/msgpass.html"><strong aria-hidden="true">3.2.</strong> Message Passing</a></li><li><a href="https://lfe.io/books/tutorial/concurrent/names.html"><strong aria-hidden="true">3.3.</strong> Registered Process Names</a></li><li><a href="https://lfe.io/books/tutorial/concurrent/dist.html"><strong aria-hidden="true">3.4.</strong> Distributed Programming</a></li><li><a href="https://lfe.io/books/tutorial/concurrent/example.html"><strong aria-hidden="true">3.5.</strong> Example: Messenger</a></li></ol></li><li><a href="https://lfe.io/books/tutorial/robust/index.html"><strong aria-hidden="true">4.</strong> Robustness</a></li><li><ol><li><a href="https://lfe.io/books/tutorial/robust/timeouts.html"><strong aria-hidden="true">4.1.</strong> Timeouts</a></li><li><a href="https://lfe.io/books/tutorial/robust/errors.html"><strong aria-hidden="true">4.2.</strong> Error Handling</a></li><li><a href="https://lfe.io/books/tutorial/robust/example.html"><strong aria-hidden="true">4.3.</strong> Example: Robust Messenger</a></li></ol></li><li><a href="https://lfe.io/books/tutorial/records/index.html"><strong aria-hidden="true">5.</strong> Records</a></li><li><ol><li><a href="https://lfe.io/books/tutorial/records/mods.html"><strong aria-hidden="true">5.1.</strong> Modularising</a></li><li><a href="https://lfe.io/books/tutorial/records/headers.html"><strong aria-hidden="true">5.2.</strong> Header Files</a></li><li><a href="https://lfe.io/books/tutorial/records/records.html"><strong aria-hidden="true">5.3.</strong> Records</a></li></ol></li><li><a href="https://lfe.io/books/tutorial/macros/index.html"><strong aria-hidden="true">6.</strong> Macros</a></li><li><ol><li><a href="https://lfe.io/books/tutorial/macros/eval.html"><strong aria-hidden="true">6.1.</strong> Eval</a></li><li><a href="https://lfe.io/books/tutorial/macros/macros.html"><strong aria-hidden="true">6.2.</strong> Macros</a></li><li><a href="https://lfe.io/books/tutorial/macros/backquote.html"><strong aria-hidden="true">6.3.</strong> The Backquote Macro</a></li></ol></li><li><a href="https://lfe.io/books/tutorial/conclusion/index.html"><strong aria-hidden="true">7.</strong> Conclusion</a></li><li></li><li><a href="https://lfe.io/books/tutorial/feedback.html">Feedback</a></li><li><a href="https://lfe.io/books/tutorial/redirects/docs.html">LFE Documentation</a></li><li><a href="https://lfe.io/books/tutorial/redirects/mdbook.html">Built with mdBook</a></li></ol>
        </div>
        <div id="sidebar-resize-handle"></div>
    </nav>

    <div id="page-wrapper">

        <div class="page">
            
            <div id="menu-bar-hover-placeholder"></div>
            <div id="menu-bar">
                <div>
                    
                    
                    <ul id="theme-list" aria-label="Themes" role="menu">
                        <li role="none"></li>
                        <li role="none"></li>
                        <li role="none"></li>
                        <li role="none"></li>
                        <li role="none"></li>
                        <li role="none">
                        </li>
                    </ul>
                    
                    
                    
                </div>

                

                <div>
                    <a href="https://lfe.io/books/tutorial/print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button"></i>
                    </a>
                    
                    <a href="https://github.com/lfe/tutorial/" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button"></i>
                    </a>
                    
                </div>
            </div>

            
            <div id="search-wrapper">
                <form id="searchbar-outer">
                    
                </form>
                <div id="searchresults-outer">
                    <div id="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>
            

            <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
            

            <div id="content">
                <main>
                    <p><a href="https://lfe.io/books/tutorial/images/cover-large.jpg"><img src="https://lfe.io/books/tutorial/images/cover.jpg" alt=""></a></p>
<!-- Named page links below: /-->

                </main>

                <nav aria-label="Page navigation">
                    <!-- Mobile navigation buttons -->
                    

                    
                    <a rel="next" href="https://lfe.io/books/tutorial/title.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i></i>
                    </a>
                    

                    <div></div>
                </nav>
            </div>
        </div>

        <nav aria-label="Page navigation">
            

            
            <a rel="next" href="https://lfe.io/books/tutorial/title.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                <i></i>
            </a>
            
        </nav>

    </div>

    

    
    <!-- Google Analytics Tag -->
    
    

    

    
    
    

    

    
    
    
    
    

    
    
    

    <!-- Custom JS scripts -->
    

    




</div>]]>
            </description>
            <link>https://lfe.io/books/tutorial/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24173111</guid>
            <pubDate>Sat, 15 Aug 2020 22:49:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using machine learning to recreate photorealistic portraits of Roman Emperors]]>
            </title>
            <description>
<![CDATA[
Score 342 | Comments 122 (<a href="https://news.ycombinator.com/item?id=24172603">thread link</a>) | @elorant
<br/>
August 15, 2020 | https://voshart.com/ROMAN-EMPEROR-PROJECT | <a href="https://web.archive.org/web/*/https://voshart.com/ROMAN-EMPEROR-PROJECT">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://voshart.com/ROMAN-EMPEROR-PROJECT</link>
            <guid isPermaLink="false">hacker-news-small-sites-24172603</guid>
            <pubDate>Sat, 15 Aug 2020 21:32:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The BEAM Has Spoiled Me]]>
            </title>
            <description>
<![CDATA[
Score 160 | Comments 84 (<a href="https://news.ycombinator.com/item?id=24172336">thread link</a>) | @clessg
<br/>
August 15, 2020 | https://gvaughn.github.io/2020/08/08/beam_spoiled_me.html | <a href="https://web.archive.org/web/*/https://gvaughn.github.io/2020/08/08/beam_spoiled_me.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content-wrapper">
      <div>
        <section id="main-content">
          <small>8 August 2020</small>


<p>by Greg Vaughn</p>

<p>I’ve noticed changes in how I prefer to develop software since I’ve been
focusing my career on Elixir. It allows me to think bigger thoughts and to
develop with lower friction and less fear. I don’t want to go back.</p>

<h2 id="it-began-with-fault-tolerance">It Began with Fault Tolerance</h2>

<p>Many people are introduced to Elixir because of its focus on concurrency.  Joe
Armstrong even called Erlang a “concurrency oriented” language. (Note: most of
my points are generic to any BEAM language, but my experience comes from an
Elixir perspective, so please excuse bias in my terminology). I find it helpful
to consider concurrency a logical consequence of a more primeval concern: fault
tolerance. Achieving BEAM-style fault tolerance comes from isolated processes
which do not affect any other if they crash, plus a supervisory process being
informed when another process dies.</p>

<p>The core point of processes is to contain the “blast radius” of damage caused
by an error. It just so happens that the isolation qualities that enable that
also make them great candidates for concurrency.</p>

<h2 id="let-it-crash">“Let It Crash”</h2>

<p>When I first heard the “Let It Crash” mantra of the Erlang community, it
sounded crazy based on my prior development exerience. It’s important to
understand that it is not a license for irresponsibility, or that we should not
care about the system crashing. What it is, at the core, is a recognition that
our systems will have errors (even <em>if</em> we write bug-free code, hardware will
bug us eventually) and that with an architecture of managing the “blast radius”
of damage, then little parts of the system crashing are no longer a scary
thing.</p>

<p>Less fear – yes, please! I’ve learned to write my Elixir code with a focus
on “blast radius” as a driver for when to reach for processes. Even in cases where I
don’t need concurrency, I’ll use a process to enclose the damage an error might
cause. I use supervision trees and durable work queues to recover from those
minor crashes of processes.  I’ve learned to prefer upserts over inserts to
allow my logic to be retried safely for greater idempotency. These two ideas
of processes to enclose possible errors plus idempotency have become second
nature to me in any Elixir code I write.</p>

<h2 id="freedom">Freedom</h2>

<p>This automatic ability to recover from errors changes the complexion of topics
like test coverage enforcement, static types, extensive code reviews, etc. All
those, at heart, are about preventing errors from being introduced in the first
place (yes, I recognize their secondary benefits too). Those are still good
things (I am not advocating irresponsibility), but with the solid safety net of
fault tolerance from BEAM, we are able to look at them from a different
perspective and see that they do add some friction and inertia to delivering
software.  Perhaps we can temper our reliance upon them in favor of greater
delivery speed in some circumstances. Less fear means more freedom to choose.</p>

<h2 id="bigger-thoughts">Bigger Thoughts</h2>

<p>Elixir re-ignited my intellectual interest in software development. I found,
via Erlang and BEAM history in general, a huge body of wisdom in distributed
systems that I can learn from, and new tools in my toolbox of how to think
about software. With processes so lightweight, pervasive, and offering freedom
from fear of crashing, my perspective shifted in exciting ways. If I think I’m
writing a “web application” then my thoughts are immediately limited. I now
think of building systems. I can think bigger thoughts because I have better
abstractions to build them upon.</p>

<p>Some teams are happy to use Elixir to write web applications, to fit it into
their pre-existing microservice deployment model. I urge developers to reach
for those bigger thoughts that fault tolerant lighweight processes enable. You
can consider each process a logical microservice, but you don’t need the
friction of deploying it separately, and serializing to/from json, and
containers, and orchestration, and distributed logging, et.al.  You can deploy an
entire system of millions of interacting logical microservices in a single BEAM
release.</p>

<h2 id="game-changer">Game Changer</h2>

<p>Elixir and BEAM certainly have been a game changer for me. I’m more fearless when I
build systems, and I hope I can share that freedom with others. The BEAM has spoiled
me, but in a good way.</p>



  <small>tags: <em>beam</em> - <em>elixir</em> - <em>introspection</em></small>


        </section>

        
      </div>
    </div></div>]]>
            </description>
            <link>https://gvaughn.github.io/2020/08/08/beam_spoiled_me.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24172336</guid>
            <pubDate>Sat, 15 Aug 2020 20:57:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Wrote book that builds a SaaS boilerplate. Save weeks on side projects]]>
            </title>
            <description>
<![CDATA[
Score 72 | Comments 67 (<a href="https://news.ycombinator.com/item?id=24172311">thread link</a>) | @tima101
<br/>
August 15, 2020 | https://builderbook.org/book | <a href="https://web.archive.org/web/*/https://builderbook.org/book">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Learn how to build a production-ready, feature-rich SaaS web application from scratch.<br>You'll go from 0 lines of code in Chapter 1 to over 25,000 lines of code by Chapter 10.</p></div></div><div><div><p><b>Robust JavaScript stack</b></p><p>Build a web app with React, Material-UI, Next, MobX, WebSockets, Express, Node, Mongoose, MongoDB. Write with TypeScript. We keep our book up-to-date with the latest versions of all dependencies.</p></div><div><p><b>Popular third party APIs</b></p><p>Integrate your web app with Google for user authentication and analytics, AWS SES for transactional emails, AWS S3 for file manipulation, MailChimp for newsletters, and Stripe for selling.</p></div><div><p><b>Start your own SaaS product or business</b></p><p>This book is not another to-do list. You will build a practical web app that can become a SaaS business. We take you through every step to build the app from scratch.</p></div><div><p><b>Public support</b></p><p>If you have questions, search our closed<a href="https://github.com/async-labs/saas/issues?q=is%3Aissue+is%3Aclosed" target="_blank" rel="noopener noreferrer"> <!-- -->Github issues</a> <!-- -->or create a new one. We are happy to answer beginner to expert-level questions.</p></div></div><div><div><p><img alt="Kelly" src="https://storage.googleapis.com/builderbook/kelly-picture.png"></p><p><a href="https://github.com/klyburke" target="_blank" rel="noopener noreferrer">Kelly</a><br>Newport, WA</p><p>Kelly is a front-end developer. She likes using React and Material Design and enjoys solving UX problems.</p></div><div><p><img alt="Timur" src="https://storage.googleapis.com/builderbook/timur-picture.png"></p><p><a href="https://github.com/tima101" target="_blank" rel="noopener noreferrer">Timur</a><br>Newport, WA</p><p>Tima is a full-stack JavaScript web developer. He likes learning any technology that improves end-user experience.</p></div></div></div>]]>
            </description>
            <link>https://builderbook.org/book</link>
            <guid isPermaLink="false">hacker-news-small-sites-24172311</guid>
            <pubDate>Sat, 15 Aug 2020 20:53:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dashboard for tracking insider trading at S&P 500 companies]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 35 (<a href="https://news.ycombinator.com/item?id=24171490">thread link</a>) | @greatwave1
<br/>
August 15, 2020 | https://www.quiverquant.com/sources/insidertrading?hn=2 | <a href="https://web.archive.org/web/*/https://www.quiverquant.com/sources/insidertrading?hn=2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.quiverquant.com/sources/insidertrading?hn=2</link>
            <guid isPermaLink="false">hacker-news-small-sites-24171490</guid>
            <pubDate>Sat, 15 Aug 2020 19:20:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The best way to exercise self-control is not to exercise it at all]]>
            </title>
            <description>
<![CDATA[
Score 333 | Comments 267 (<a href="https://news.ycombinator.com/item?id=24170531">thread link</a>) | @MurizS
<br/>
August 15, 2020 | https://psyche.co/ideas/the-best-way-to-exercise-self-control-is-not-to-exercise-it-at-all | <a href="https://web.archive.org/web/*/https://psyche.co/ideas/the-best-way-to-exercise-self-control-is-not-to-exercise-it-at-all">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Youâ€™ve had a long week but fortunately itâ€™s Friday and things are looking up. After grinding through the day, you stop on the way home to buy groceries for dinner. After getting the necessities, you decide on impulse to buy a dozen cookies. Youâ€™re on a diet, but you reassure yourself that youâ€™ll eat only one, two at most, to celebrate the arrival of the weekend. Once home, you enjoy your celebratory cookies as planned. Two are enough, but despite your best efforts you continue eyeballing those remaining cookies. Wouldnâ€™t they go great with milk? Maybe just one more with a glass? Before you know it, youâ€™ve polished off a dozen cookies and several glasses of milk, and youâ€™re cursing your poor self-control.</p>
<p>Look on the bright side, at least it was fat-free milk. Also, youâ€™re not alone. Research that prompted people to record whatâ€™s happening multiple times a day <a href="https://www.ncbi.nlm.nih.gov/pubmed/22149456">found</a> that self-control failures are a frequent and common occurrence of everyday life. Whether itâ€™s pizza, beer or doing anything but exercising, we all have our vices, and many of us would like to have better self-control. But what is self-control exactly? A working definition is that itâ€™s the ability to do whatâ€™s in your best interests in the long run â€“ such as managing your weight â€“ over whatâ€™s enjoyable right now â€“ such as gorging on cookies.</p>
<p>In 2007, the American psychologist Roy Baumeister put forward what has become the most influential psychological model of self-control. His <a href="https://journals.sagepub.com/doi/10.1111/j.1467-8721.2007.00534.x">strength model</a> likens willpower to a muscle. If you start doing pushups, youâ€™ll feel only a minor burn. But keep it up, and that minor burn will grow into a full-blown conflagration, at which point you wonâ€™t be able to keep going. Baumeister suggested that the same thing happens when you use self-control. If you overwork your self-control muscle, youâ€™ll eventually run out of willpower, and lose the ability to exert self-control.</p>
<p>The success of Baumeisterâ€™s <a href="https://www.penguinrandomhouse.com/books/307740/willpower-by-roy-f-baumeister-and-john-tierney/">book</a> <em>Willpower: Rediscovering the Greatest Human Strength</em> (2012), co-authored with John Tierney, suggests that the strength model resonates with many people. As a doctoral student studying self-control, I can understand why. The model eloquently explains many of our most vexing self-control failures. In the cookie example, the tumultuous week, capped off by an agonising day, sapped your willpower, leaving you unable to resist those cookies. Additionally, it conforms to our commonsense beliefs about self-control. After all, everyone knows that self-control is hard and, more often than not, we need herculean willpower to overcome temptation.</p>
<p>If the strength model is correct, what does this mean for improving your self-control? Applying the muscle analogy, one possibility might be to strengthen your â€˜self-control muscleâ€™. Researchers have <a href="https://www.ncbi.nlm.nih.gov/pubmed/22149456">tested</a> this by asking people to do things such as brush their teeth with their nondominant hand for two weeks. Such exercises are quite challenging because they force you to curtail deeply ingrained habits using â€˜inhibitory self-controlâ€™. But does self-control training actually work? According to a 2017 <a href="https://journals.sagepub.com/doi/full/10.1177/1745691617697076">meta-analysis</a> of many relevant studies, self-control training seems to be effective at improving â€˜self-control staminaâ€™ â€“ the ability to exert inhibitory self-control for longer periods.</p>
<p>So, is that the solution to greater self-discipline? Exercise your self-control muscle and get better at inhibitory self-control?</p>
<p>Your heroic efforts are likely to leave you looking more like Sisyphus than Hercules</p>
<p>Unfortunately, itâ€™s not so simple. You might have noticed how I switched back and forth between â€˜inhibitory self-controlâ€™ and the broader concept of â€˜self-controlâ€™, but the two are not synonymous. Though boosting your inhibitory self-control or â€˜willpowerâ€™ might sound appealing â€“ perhaps you imagined yourself using inhibitory self-control to force yourself not to eat the cookies, just like you would if you forced yourself to brush with the opposite hand â€“ itâ€™s not clear that inhibitory self-control actually works this way in everyday life.</p>
<p>Take the findings from a 2017 <a href="https://journals.sagepub.com/doi/full/10.1177/1948550616679237">study</a> that involved volunteers recording their daily experiences of temptation for a week. The individuals who experienced more temptation were less likely to achieve their long-term goals, even if they also reported using more inhibitory self-control. This suggests that using inhibitory self-control to resist those cookies might help you in the moment, but not in the long run. So even if you use inhibitory training (eg, the teeth-brushing challenge) to build a brawny self-control muscle, your heroic efforts are likely to leave you looking more like Sisyphus than Hercules.</p>
<p>Research in my own lab and others suggests that, if you want to improve your self-control, what you should do instead is focus on proactively reducing, rather than reactively overpowering temptation. Fortunately, there are several ways and opportunities to do this.</p>
<p>Before getting to the specifics, it helps to think in terms of a model that the American psychologist Angela Duckworth and her colleagues <a href="https://journals.sagepub.com/doi/10.1177/1745691615623247">proposed</a> â€“ â€˜the process model of self-controlâ€™. It organises self-control strategies according to when theyâ€™re initiated in the â€˜temptation generation cycleâ€™. This cycle describes the stages we must go through before we get to the point where we actually act upon a temptation â€“ see the figure below.</p>
<p>For example, to gorge on those cookies at the end of your working week, you first had to go through a <em>situational stage</em>, where you put yourself in a compromising situation with tempting cookies. From there, you transitioned to an <em>attentional stage</em>, where you directed your attention back towards those cookies. After that, you went through an <em>appraisal stage</em>, where you thought about how good those cookies would taste (especially with a glass of milk). All this led to a <em>response stage</em>, where you broke down and eventually ate all the cookies. To put it bluntly, a lot of things had to go wrong for you to end up giving in to temptation. The good news is that this means you could have applied self-control at several instances prior to when you tried and failed to exert <em>inhibitory</em> self-control (or â€˜willpowerâ€™ in everyday talk).</p>
</div><div><figure data-align="center"><img src="https://d2e1bqvws99ptg.cloudfront.net/user_image_upload/1214/Williamson-self-control-Figure.jpg" alt="" title=""><figcaption><em>Figure supplied by the author</em></figcaption></figure></div><div>
<p>Letâ€™s start with the situational stage. You donâ€™t need to be well-versed in social psychology to recognise the power of the situation. Most teachers will tell you itâ€™s easier for students to focus when they sit in the front of the classroom. With this in mind, you could have employed what Duckworthâ€™s team call â€˜situational self-control strategiesâ€™. For instance, instead of sitting in front of a box of cookies and forcing yourself not to eat them, you could have either not bought them in the first place â€“ known as â€˜situation selectionâ€™ â€“ or simply removed them from sight by placing them in a cabinet (or thrown them out) â€“ â€˜situation modificationâ€™.</p>
<p>Prior research suggests that these situational strategies are quite effective. For example, one <a href="https://www.ncbi.nlm.nih.gov/pubmed/27158155">study</a> that instructed high-school students to use situational strategies (such as removing buzzing cellphones and other temptations from sight) found that they made more progress towards their academic goals, compared with others who were simply instructed to use inhibitory self-control. Similarly, dieting <a href="https://www.sciencedirect.com/science/article/pii/S0195666318305889?dgcid=api_sd_search-api-endpoint">research</a> suggests that a simple yet overlooked way to lose weight is to avoid situations where tempting, high-calorie foods are readily available. For example, when you go grocery shopping, plan to avoid walking through the bakery. That way, you are less likely to encounter cues (pleasant smells and sights) that strengthen temptation. Think â€˜out of sight, out of mindâ€™.</p>
<p>But what if you canâ€™t use situational strategies? After all, you might have no choice but to walk through the bakery, or perhaps youâ€™ll upset your kids if you throw away the cookies. Thankfully, there are other â€˜psychological strategiesâ€™, initiated during the attentional and appraisal stages, that can be useful when the situation is uncontrollable.</p>
<p>Some clues come from Walter Mischelâ€™s classic â€˜marshmallow testâ€™ that <a href="https://www.tandfonline.com/doi/abs/10.1080/152988602317319285">involved</a> children attempting to resist a single beckoning marshmallow for 15 minutes, for the reward of two if they were successful. Among other crucial variables, Mischel and his collaborators, including the American psychologist Ozlem Ayduk, suggested that one reason some kids were so good at resisting temptation was their ability to use â€˜cooling strategiesâ€™. For instance, research in Mischelâ€™s lab found that children would wait longer if they distracted themselves by simply turning away from the marshmallow. He also found that they could wait longer if he taught them to â€˜reappraiseâ€™ the temptation by thinking of the marshmallows as â€˜puffy round cloudsâ€™.</p>
<p>Importantly, these strategies work for adults too. In a series of <a href="https://journals.sagepub.com/doi/10.1177/0146167219883606">studies</a> I conducted with Ben Wilkowski at the University of Wyoming, we found that the use of distraction (for instance, directing attention away from the temptation to go out by focusing on work thatâ€™s particularly interesting) and reappraisal (reminding oneself there will be many opportunities to go out, but only one opportunity to take the upcoming exam), along with the situational strategies discussed earlier, consistently helped college students make progress towards their long-term goals. So, it might be useful to direct your attention away from the cookies by simply picking up a book or reframing the cookies in a way that makes them seem less desirable. You know, from where Iâ€™m sitting, the cookies look kind of old.</p>
<p>Taken altogether, the message from the latest research on willpower is that itâ€™s time to stop lamenting your poor self-control and accept that you have a weak self-control muscle. It might be fun to change things up while you brush your teeth but, remember, building your self-control muscle probably wonâ€™t help you …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/ideas/the-best-way-to-exercise-self-control-is-not-to-exercise-it-at-all">https://psyche.co/ideas/the-best-way-to-exercise-self-control-is-not-to-exercise-it-at-all</a></em></p>]]>
            </description>
            <link>https://psyche.co/ideas/the-best-way-to-exercise-self-control-is-not-to-exercise-it-at-all</link>
            <guid isPermaLink="false">hacker-news-small-sites-24170531</guid>
            <pubDate>Sat, 15 Aug 2020 17:26:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Failed startup to a trending open-source project: A one year followup]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24169746">thread link</a>) | @pranavrajs
<br/>
August 15, 2020 | https://www.chatwoot.com/blog/woot-journals-one-year-since-open-sourcing-chatwoot/ | <a href="https://web.archive.org/web/*/https://www.chatwoot.com/blog/woot-journals-one-year-since-open-sourcing-chatwoot/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Looking into the one year of open-sourcing Chatwoot.</p><div><p>Chatwoot is now one of the most popular open-source live chat software on Github. If you haven’t been following the story so far, here is the story, in a nutshell, to get you started. </p>
<p>Chatwoot started as a commercial project in 2016 and strived to help businesses provide exceptional customer support through Facebook messenger. The product inspiration came through the customer pain points which we observed while working in this space as a part of our previous gigs. Nevertheless, the project didn't culminate into a viable business and we shut shop in 2017. </p>
<p>With the amount of sweat we put into the project, Chatwoot still stayed alive in our hearts. In 2019, as an impromptu decision, we ended up open-sourcing the project as a part of the #hacktoberfest. The story took a different twist then and Chatwoot went on to be a top post on Hackernews. Ever since then, the project has been growing at an incredible pace with almost 5k stars on Github currently. </p>
<p>Today marks a year since the initial commit for Chatwoot’s resurrection as an open-source project and so let's take a step back to look at Chatwoot's journey in the last year.   </p>
<h2 id="the-decision-to-go-open-source"><a href="#the-decision-to-go-open-source" aria-label="the decision to go open source permalink"></a>The Decision to go open-source</h2>
<blockquote>
<p>How do you start a popular open-source project?   </p>
</blockquote>
<p>Over the last year, we might have told our story countless times. However, often, the larger story fails to capture the minute moments and the thought processes behind deciding to go open-source. Many a time, we have felt that the Chatwoot story as an answer to the question <code>How did you decide to go open-source?</code>  leaves the questioner unsatisfied. That said, in all honesty, there was never a grand scheme behind the decision. </p>
<p>In the second quarter of 2019, the core Chatwoot team was back together prototyping yet another SaaS product. It was in one of our regular sync-up calls that <a href="https://twitter.com/pranavrajs">@pranavrajs</a> floated the idea of making Chatwoot open-source. The idea didn’t attract any criticism, but there wasn’t too much enthusiasm in the air either, thanks to our Imposter Syndrome.  </p>
<p>Our experience in open-source till that point was limited to being consumers. Being ardent fans of the code quality in open source projects like Vue.js and ruby on rails, we had our insecurities exposing the project to the whole world.  </p>
<p>With zilch expectations, we went through it like just another day in our lives and decided to commit the codebase to GitHub. We would leave it there while the team continued working on our next big thing, we had thought! ;).   </p>
<h2 id="ignition-ready-set-go"><a href="#ignition-ready-set-go" aria-label="ignition ready set go permalink"></a>Ignition: Ready Set Go</h2>
<p>In August 2019, as unprepared as we were, Chatwoot codebase was brought out as a public repo. Our expectation of an uneventful day, quickly turned around, thanks to the spammers who got hold of an SES key from an old commit. The incident ended in raking up quite a surprise in the form of AWS billing alerts. We did act swiftly to mitigate the issue, but as far as the business plan behind open source goes, This is the story.</p>
<p>October saw the repo getting some attention thanks to #hacktoberfest, which re-kindled the whole team's interest in Chatwoot. It even resulted in the team deciding to put on-hold the then on-going project and give Chatwoot our full attention for the next 2 months. We did the much-needed maintenance chores over the repo and ended up shipping the website live chat feature that we lacked in. The absence of other communication channels, especially website live chat, was one of our prime hypotheses behind the earlier failure of Chatwoot. Having been able to ship that feature in 2 weeks, amidst the newfound enthusiasm, is something the team is still extremely proud of.   </p>
<p>The ultimate unexpected kickstart, however, came in December in the form of <a href="https://news.ycombinator.com/item?id=21559197">Hackernews</a>, which we attribute as the start of Chatwoot as a serious open-source business.</p>
<p>After Hacktoberfest, we saw the attention on our GitHub repo reducing despite the team shipping new updates. In all helplessness,  <a href="https://twitter.com/pranavrajs">@pranavrajs</a> gave it a final go on ShowHN one night and to our joy, we were received with much love from the community, a wonderful surprise for the whole team, and a sleepless night for <a href="https://twitter.com/pranavrajs">@pranavrajs</a>, replying to comments. Chatwoot hasn’t stopped growing ever since. </p>
<h2 id="almost-a-year-later"><a href="#almost-a-year-later" aria-label="almost a year later permalink"></a>Almost a year later</h2>
<blockquote>
<p>The work that the Chatwoot community does, matters!</p>
</blockquote>
<p>Despite the adversities since the beginning of 2020, the Chatwoot community continues to generate moments that have carried us through these tough times. Working in isolation from a remote corner of the world, you might fail to see the impact you are creating, but testimonies like the following make us realize why we matter as a community.  </p>
<blockquote>
<blockquote>
<p>"I’m so glad I found your software. It’s a tremendous help for startups like me who, because of the global pandemic, had to shift from a physical store to online selling through social media. You guys will save my store as well as the jobs of my employees as we are now about to be efficient in addressing our customers’ inquiries. Again, I’m grateful. "</p>
</blockquote>
</blockquote>
<p>We are what we are today, not just because of the core team but also because of our 70+ contributors to the codebase, the community members who have been helping us ship in multiple languages and businesses that have opted to go with Chatwoot.   </p>
<p>Over the last 6 months, Chatwoot has outgrown itself from being a Facebook only chat-solution. We have also seen the community leveraging Chatwoot as a messaging platform for their conversational business need. From specific sectors like healthcare, banking, etc for their data privacy requirements to bot companies looking for a conversational frontend, we continue to see endlessly expanding use cases than we ever imagined for Chatwoot.  </p>
<p>With the flexibility of opensource, we continue to see the community tweak Chatwoot into even powerful solutions. We have been receiving some wonderful <a href="https://satchel.com/live-chat/">reviews</a> for our cloud version too as we continue to learn from all the comments from the community and work on our future versions.  </p>
<p>We might have been relatively quiet on our blog for the last couple of months. If it ever seems like we've slowed down a bit, you can rest assured that it's only because our team is working hard on some exciting features. As always, stay tuned for all the cool updates coming your way, real soon!</p></div></div>]]>
            </description>
            <link>https://www.chatwoot.com/blog/woot-journals-one-year-since-open-sourcing-chatwoot/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24169746</guid>
            <pubDate>Sat, 15 Aug 2020 15:52:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Taking my home work setup seriously: ergonomics and setting in for the long haul]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24169729">thread link</a>) | @ahelwer
<br/>
August 15, 2020 | https://ahelwer.ca/post/2020-08-09-home-ergonomics/ | <a href="https://web.archive.org/web/*/https://ahelwer.ca/post/2020-08-09-home-ergonomics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    <div>
      <article role="main">
        <p>The headlines don’t lie.
<a href="https://www.crn.com/news/mobility/microsoft-extends-work-from-home-option-through-january">Microsoft</a>, <a href="https://www.cnn.com/2020/07/27/tech/google-work-from-home-extension/index.html">Google</a>, <a href="https://www.theverge.com/2020/7/15/21326017/amazon-work-from-home-extend-january-2021-corporate">Amazon</a>, <a href="https://www.cnbc.com/2020/08/06/facebook-will-allow-employees-to-work-remotely-until-july-2021.html">Facebook</a>, and a whole host of other tech companies have announced employees will be working from home until early-mid 2021.
There are reasons to believe this will be pushed back; even if the <a href="https://blogs.sciencemag.org/pipeline/archives/2020/04/15/coronavirus-vaccine-prospects">staggeringly ambitious</a> timelines for vaccine development are met, <a href="https://www.cbc.ca/player/play/1772035651845">a vaccine might not be a silver bullet</a> and the pandemic could require management for the next 2-3 years.
As a software engineer in big tech’s orbit, this means it’s time to settle in for the long haul and take my home work setup seriously.</p>
<p>I’ve been very concerned with ergonomics ever since early-career wrist issues had me mousing with my non-dominant hand for six months.
One of my university friends had such terrible pain that he became a pioneer in <a href="https://livestream.com/internetsociety3/hopeconf/videos/131671656">open-source speech recognition for programming by voice</a> (although his issues didn’t turn out to be from repetitive stress injuries).
All of which is to say I haven’t used a non-ergonomic keyboard or mouse in about a decade.
Still, my home setup, while decent, fell short in a few crucial areas.
It was time to make some improvements - I’m in this career for the long run.
Join me on this somewhat self-indulgent journey!</p>

<p>My top-level aims were as follows:</p>
<ol>
<li>Create a setup where I’m happy &amp; comfortable working for long periods of time</li>
<li>Create a setup which will not cause injury in the mid to long term</li>
</ol>
<p>To facilitate these aims, I chose these constraints:</p>
<ol>
<li>Focus on basic uncomplicated ergonomics, anchored in <em>adjustability</em></li>
<li>Prioritize <em>frugality</em> by buying used, and only buying features I definitely need</li>
<li>Avoid falling into the <em>consumerist perfection trap</em></li>
</ol>
<h3 id="ergonomics--adjustability">Ergonomics &amp; Adjustability</h3>
<p>When it comes to ergonomics, the science isn’t complicated; here’s how you get the biggest bang for your buck:</p>
<ol>
<li>Set the relative height of your chair &amp; desk so that you type &amp; mouse with straight wrists (not flexed up or down)</li>
<li>Reduce wrist pronation (inward twisting) by using a split/tented keyboard and vertical mouse or trackball</li>
<li>Ensure monitors are placed high enough so you can see them without sagging your neck forward (this is a big drawback with laptops)</li>
</ol>
<p>All the rest of it - standing desks, exotic chair designs, desk treadmills, mechanical keyswitches, keyboard trays, gas spring monitor arms - are basically a huge waste of time &amp; money if you can’t nail these three basic things.
I’m not going to spend time on good posture because that falls in the domain of flossing &amp; working out every day: if you want to do it, you’ll do it.
Programmer’s slouch can even be accomodated to a degree:</p>

<p>
  <iframe src="https://www.youtube.com/embed/LXYLVbt7j7o" allowfullscreen="" title="YouTube Video"></iframe>
</p>

<p>Regarding adjustability, we’ve all probably heard the tale of how the USAF designed its airplane cockpits for “average” body dimensions, with the end result that <a href="https://www.thestar.com/news/insight/2016/01/16/when-us-air-force-discovered-the-flaw-of-averages.html">literally nobody exactly fit those designs</a>.
This informs our approach here: prioritizing adjustability over other concerns like “quality” or whatever. Everyone reading this post will have body dimensions purely unique to themselves, and mere inches can make a difference.</p>
<h3 id="frugality">Frugality</h3>
<p>Buy used. Not complicated.
Computing equipment depreciates like milk left out in the sun, so you can snag perfectly good five-year-old equipment for 75-80% off MSRP.
Check Craigslist first (or Facebook Marketplace), then eBay.
I’ve been doing this for years and haven’t been burned once.
Single-core CPU performance <a href="https://www.cpubenchmark.net/year-on-year.html">has been flat for almost a decade now</a>; you probably don’t really need the latest &amp; greatest to do your work.
Also, most ergonomic equipment is built like a tank and can easily stand the test of time &amp; use.</p>
<p>The second component to frugality is much more subjective, but basically amounts to not buying what you don’t really need.
A great example here is a <a href="https://youtu.be/__K4V8pFhf4">$25 generic metal bolt monitor stand vs. $300 gas spring monitor arms</a> from Ergotron:</p>

<p>
  <iframe src="https://www.youtube.com/embed/__K4V8pFhf4" allowfullscreen="" title="YouTube Video"></iframe>
</p>

<p>If you’re like me, once your monitors are in the appropriate position they’re basically never touched again.
Buying a fancy gas spring stand would be a complete waste of money.
The example makes it sound simple, but it’s really easy to forget this as you’re watching flashy product videos.
Buying stuff is fun!
Which leads into our next constraint…</p>
<h3 id="the-consumerist-perfection-trap">The Consumerist Perfection Trap</h3>
<p>This is best illustrated by a YouTube comment I found under <a href="https://www.youtube.com/watch?v=LALQsqZP1nA">a Linus Tech Tips video</a> reviewing the very expensive Ergodox split mechanical keyboard:</p>
<figure>
    <img src="https://ahelwer.ca/img/ergonomics/ergodox-youtube-comment.PNG"> 
</figure>

<p>Humans are endlessly adaptable, for better or worse.
Before setting out, know this: you might sink days of research and thousands of dollars into your work setup, but it will never be quite perfect.
Just accept this. Live with it.
It’s called <a href="https://en.wikipedia.org/wiki/Hedonic_treadmill">hedonic adaptation</a>.
Even if your monitors end up an inch too close to your face, remember that the whole setup is <em>massively</em> better than sitting at your kitchen table or couch with a laptop.
Buying things is fun, and spending money begets spending more money.
It’s a good idea to let a setup sit for a couple weeks or a month before rushing off with further tweaks &amp; improvements.</p>
<p>Inside us all there is a void.
People want to complete themselves and fill this void with spirituality, or hedonistic pursuits, or material things.
If you’ll indulge a metaphor, this is not a void that can be filled - its nature is more akin to a black hole of the cosmic variety.
Feeding it things - for example, expensive ergonomic equipment - will simply add to its mass and pull.
Only if left alone might it slowly evaporate.
You must learn to live with it.
Materialism is the belief that something outside yourself will finally bring you permanent satisfaction, and we don’t want to be materialistic.</p>
<p>Just remember why you’re doing this: to facilitate work and avoid injury.</p>

<p>The main event. Here’s what I ended up getting.</p>
<h3 id="desk-uplift-v2-motorized-adjustable-standing-desk">Desk: UPLIFT V2 motorized adjustable standing desk</h3>
<p>This one hurt the most: it cost $835!
I’d been spoiled with a motorized adjustable standing desk while working at Microsoft, and was loathe to give it up.
I ended up springing for an uplift desk because it drives me crazy when things are wobbly, and many standing desks are allegedly quite wobbly if you’re a taller person.
I bought a <a href="https://www.upliftdesk.com/uplift-v2-standing-desk-v2-or-v2-commercial/">very basic uplift desk model</a>: 60x24” white laminate with just the memory pad and power grommet added on.
No way was I going to find something like this on the used market, sadly.
Buy once, cry once.
It came with a very nice cushy mat which really does improve the standing experience.</p>
<figure>
    <img src="https://ahelwer.ca/img/ergonomics/uplift-desk.jpeg"> 
</figure>

<p>If you’re looking to save money here and don’t mind buying the motorized legs &amp; desk top separately, there are allegedly <a href="https://lobste.rs/s/fvnhyd/taking_my_home_work_setup_seriously#c_sj3n6z">good deals to be had on Monoprice</a>.</p>
<h3 id="chair-haworth-zody">Chair: Haworth Zody</h3>
<p>Here’s where I got a pretty good deal.
Forget Herman Miller: their chairs still go for crazy prices used, but one can easily find a gently-used <a href="https://www.haworth.com/na/en/products/stools/zody-1.html">Haworth Zody</a> for $200 (vs. $1400 new) on Craigslist in any large-ish metropolitan area.
I also grew used to these while working at Microsoft, and it’s a truly wonderful high-quality chair - and very adjustable!
You can change seat height, seat depth, tilt tension (or lock it from leaning back), lumbar support height, and armrest position along all axes (height, side-to-side, forward/backward).</p>
<figure>
    <img src="https://ahelwer.ca/img/ergonomics/haworth-zody.jpg"> 
</figure>

<p>If you’re buying used you should test two things.
One, put it on a level surface and extend seat height to maximum; check whether it’s developed a wobble.
Two, test whether the tilt tension control still works (adjusted with a crank on the right side).
I use it locked all the time anyway, but you might care about this feature - I’d just use its absence to secure a further discount!</p>
<p>The only other advice here is not to buy one of those <a href="https://youtu.be/x3DpVTyQOyM">ergonomic kneeling chairs</a>.
They’re cheap &amp; compact, but if you’re like me your back will get tired and you’ll just revert to a horrible forward-slouching posture.
If you really think you’ve got what it takes, try sitting on an inexpensive yoga ball first - at least you might be able to use it for other things when the whole venture goes sideways.</p>
<h3 id="keyboard-goldtouch-gtn-0099">Keyboard: Goldtouch GTN-0099</h3>
<p>Let’s start this section with a hot take: mechanical keyswitches are wholly unnecessary for a good keyboard experience.
I had a <a href="https://www.daskeyboard.com/model-s-professional/">Das Keyboard</a> long ago (without keylabels for <em>extra hacker cred</em>), and it was nice for a bit but you quickly tune out the clickiness (although your roommates don’t).
In the end it just isn’t worth the huge extra cost &amp; noise (yes I’ve heard of Cherry MX Silent Red switches, leave me alone you fanatics).
Mechanical keyswitches provide very dubious ergonomic benefit.
I will say it’s humorous seeing tons of love &amp; effort dumped into custom mechanical keyboards that still use a flat slab layout like they’re some throwaway Dell keyboard from 2006.
Show some love toward your wrists, you barbarians!</p>
<p>For a number of years I used the <a href="https://www.microsoft.com/en-us/p/microsoft-sculpt-ergonomic-desktop/8xk02kz6k69w?activetab=pivot%3aoverviewtab">Microsoft Sculpt Ergonomic Keyboard</a>, which was nearly perfect except for the build quality being complete crap - I burned through two of them in four years (this seems to be a common story).
After the second one died I started using the <a href="https://www.microsoft.com/accessories/en-us/products/keyboards/natural-ergonomic-keyboard-4000/b2m-00012">Microsoft Natural Ergonomic Keyboard 4000</a>, an enormous dinosaur which can reliably be found for $20 used.
Unfortunately it has a full number pad on the right side, meaning you’re either reaching way out toward your mouse or pushing the keyboard to your left and typing with asymmetric hand positions:</p>
<figure>
    <img src="https://ahelwer.ca/img/ergonomics/ms4k-hand-position.jpg"> 
</figure>

<p>I wanted a keyboard that was split/tented, no number pad, bombproof build quality, and less than $120 or so.
It came down to the <a href="https://kinesis-ergo.com/shop/freestyle2-for-pc-us/">Kinesis Freestyle2</a> and the <a href="https://shop.goldtouch.com/products/goldtouch-v2-adjustable-comfort-keyboard-pc-only">Goldtouch GTN-0099</a>.
In the end I chose Goldtouch because it’s much less expensive ($60 on eBay!) and looks decidedly less cheap than the Kinesis and its weird sold-separately tenting kit.
I couldn’t be happier!
I love the Goldtouch’s chunkiness &amp; solidity.
The keyswitches are sturdy &amp; pleasant to type on.
Also, it is very adjustable - the keyboard halves are connected by a lockable ball joint you can set to any reasonable combination of split and tent angle.</p>
<figure>
    <img src="https://ahelwer.ca/img/ergonomics/goldtouch-keyboard.jpg"> 
</figure>

<p>It strikes me as odd that I so rarely saw mention of Goldtouch in any of the (many) discussions of ergonomic keyboards I’ve read in my time online.
Maybe it’s …</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ahelwer.ca/post/2020-08-09-home-ergonomics/">https://ahelwer.ca/post/2020-08-09-home-ergonomics/</a></em></p>]]>
            </description>
            <link>https://ahelwer.ca/post/2020-08-09-home-ergonomics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24169729</guid>
            <pubDate>Sat, 15 Aug 2020 15:51:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can modern software be snappy? (2008)]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 39 (<a href="https://news.ycombinator.com/item?id=24169507">thread link</a>) | @avasthe
<br/>
August 15, 2020 | https://blog.brush.co.nz/2008/06/snappy-software/ | <a href="https://web.archive.org/web/*/https://blog.brush.co.nz/2008/06/snappy-software/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page_wrapper">
    
    
    <section>
                   
        <p><a href="http://www.mattwardman.com/blog/2007/08/22/dumping-itunes-because-of-software-bloat/" title="See this blog entry, for example"><img src="https://blog.brush.co.nz/wp-content/uploads/2017/10/2008_06_nobloat.png" width="125" height="126" alt="No bloat"></a>Solomon once said <a href="http://www.biblegateway.com/passage/?search=eccl%207:10;&amp;version=31;">not to pine for the good ol’ days</a>, and that’s sage advice, but I’m sure he didn’t intend it to apply to software bloat.</p>

<p>I’m not just talking about memory and megahertz bloat — we’ve also got performance <i>un</i>bloat. And it almost seems like the two go hand-in-hand. The <i>more</i> memory something hogs, the slower it’ll run.</p>

<p>Compare <a href="http://www.foxitsoftware.com/pdf/rd_intro.php">Foxit’s PDF reader</a> to <a href="http://www.adobe.com/products/acrobat/readstep2.html">Adobe Reader</a>:</p>

<ul>
<li>Foxit is a 2.5 MB download, Adobe is a 25 MB one.</li>
<li>Foxit uses 8 MB of memory for a 700 KB PDF, Adobe uses 56 MB.</li>
<li>Foxit loads in about 1 second, Adobe in 4 seconds.</li>
<li>Foxit is as fast or faster to use.</li>
</ul>

<p>Okay, so maybe Foxit doesn’t display all the latest 3D JavaScript-enhanced PDFs, but it does all you need, and it does it (relatively) small, fast, and light.</p>

<p>Maybe it helps (or hinders) to be an <a href="http://brush.co.nz/software">embedded programmer</a>, and know how much you <i>can</i> do with 32 KB of code, 2 KB of RAM, and an 8 MHz, 8-bit processor. Sometimes I wish developers had to write code on ancient 66 MHz 486s. Constraints are the mother of optimization, and programmers will usually forget about optimization after it runs “fast enough” on their 42-core Pentium IX, 10 TB RAM development machine.</p>

<p>Sure, I grant that RAM and clock cycles are cheap these days, and we might as well use ’em. But surely there’s a limit to all this. When my (plain text!) editor runs slow enough so I can see the screen updating, there’s something wrong.</p>

<p>When Visual Studio takes 2 entire seconds to pop up a simple properties window the first time, there’s something wrong.</p>

<p>Back in the days when programmers cared about how many characters they could write to video memory during the <a href="http://en.wikipedia.org/wiki/Color_Graphics_Adapter">CGA</a> horizontal retrace time without it producing snow — back in those days, and running on a 286, I couldn’t see my screen updating.</p>

<p>We now have 1000’s of times the computing power, and as far as user experience is concerned, stuff runs slower than it used it. And we put up with it, because they’ve added one or two features we like, and it’s “good enough”. But it just ain’t right.</p>

<p>And it’s not just the my text editor and Visual Studio. When <a href="http://www.mozilla.com/thunderbird/">Thunderbird</a> first came out, it was so slow on my fairly average hardware that I simply couldn’t use it. And now on my 2 GHz dual-core whatever-it-is, it’s still slow. I click on Inbox the first time, and it takes a second and a half for the message to pop up. Come on, people — you could load a usenet thread off a floppy drive in that time!</p>

<p>Somehow we’ve convinced ourselves that Gmail’s conversation view and anti-spam features make it worth putting up with 750 millisecond <a href="http://www.codinghorror.com/blog/archives/000722.html">Ajax delays all the time</a>. <i>Nope, it just ain’t right.</i></p>

<p>Recently I was reading from Michael Abrash’s <a href="http://www.byte.com/abrash/"><i>Graphics Programming Black Book</i></a>, and he has something telling (albeit provocative) to say about all this in chapter 2:</p>

<blockquote><p><a href="http://www.byte.com/abrash/" title="Abrash is the Antibloat"><img src="https://blog.brush.co.nz/wp-content/uploads/2017/10/2008_06_abrash.png" width="150" height="133" alt="Abrash's Black Book"></a>You will notice that my short list of objectives for high-performance assembly programming does not include traditional objectives such as easy maintenance and speed of development. Those are indeed important considerations— to persons and companies that develop and distribute software. <b>People who actually <i>buy</i> software, on the other hand, care only about how well that software performs, not how it was developed nor how it is maintained.</b> These days, developers spend so much time focusing on such admittedly important issues as code maintainability and reusability, source code control, choice of development environment, and the like that they often forget rule #1: From the user’s perspective, <i>performance is fundamental.</i></p></blockquote>

<p>My theory is that it’s gonna take an <a href="http://en.wikipedia.org/wiki/Richard_Stallman">RMS</a>-style prophet to come along, take a few pages out of Abrash’s book, write his own instant-GUI operating system, wake up the masses to the 
joy of responsive computing, and watch the bloat industry crumble.</p>

<p>It’ll be a world where you can turn on your computer and use it immediately. A world where you wait at most half a second for big programs to load. A world where your screen will update even before the keyup event is sent. It won’t be utopia, but I’m still looking forward to it.</p>

<p>We’re taking submissions for this kind of prophet. Drop your résumé or CV in the comments below. :-)</p>
        <p>27 June 2008 by Ben&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://blog.brush.co.nz/2008/06/snappy-software/#comments">29 comments</a></p>
        







 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 



 





	<h3 id="respond">Add a comment</h3>

		

        <br>
                    </section>
</div></div>]]>
            </description>
            <link>https://blog.brush.co.nz/2008/06/snappy-software/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24169507</guid>
            <pubDate>Sat, 15 Aug 2020 15:23:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My One Day at Recurse Center]]>
            </title>
            <description>
<![CDATA[
Score 117 | Comments 116 (<a href="https://news.ycombinator.com/item?id=24169237">thread link</a>) | @reikonomusha
<br/>
August 15, 2020 | http://cadlag.org/posts/on-showing-up-to-school-in-your-underwear.html | <a href="https://web.archive.org/web/*/http://cadlag.org/posts/on-showing-up-to-school-in-your-underwear.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
            

            <p>
    Posted on August 10, 2020
    
        by Erik Davis
    
</p>



<p>I recently had the opportunity to participate in the Fall 1 2020 batch of the <a href="https://www.recurse.com/">Recurse Center</a>, during the midst of the COVID-19 pandemic. Unfortunately, I only attended for one day. Still, <a href="https://jvns.ca/blog/2014/02/15/how-was-hacker-school/">keeping</a> <a href="https://www.somerandomidiot.com/blog/2015/07/20/retrospective/">with</a> <a href="https://medium.com/@byshiny/my-recurse-center-batch-winter-2-2019-is-the-best-5e9593386ab">the</a> <a href="http://dev.jdherg.com/posts/2015/07/20/the-recurse-center-a-qa-for-past-me/">spirit</a> <a href="https://ljungblad.nu/post/63534520693/new-york-and-recurse-center-prev-hacker-school">of</a> <a href="https://johnloeber.com/w/hackerschool.html">the</a> <a href="https://blog.jabid.in/2017/08/10/rc.html">times</a>, I thought I would write a retrospective. Time to look back on my RC journey!</p>

<p>I had heard of the Recurse Center some years ago, through (I believe) <a href="https://danluu.com/">Dan Luu’s blog</a>. The basic idea is that RC is a “self-directed, community-driven educational retreat for programmers based in New York City”. My mental model for what this looked like is something like this: people from various walks of life come together in a common space to do cool/fun software stuff. Longer term or overarching goals vary somewhat from person to person (e.g. some may want a career change, some want to goof off, some want to learn something very specific), but broadly speaking the participants are there to learn, play, and improve as programmers. As a business, RC operates via supplying recruiters with a pool of talented and motivated job candidates. But for the participants itself it is free, and there is no particular pressure to take a job. Sounds pretty awesome!</p>
<p>Looking back at what I was hoping to get out of RC, the main things were</p>
<ul>
<li>I wanted to get better at software development, and in my experience one of the best ways to do this is through collaboration with others.</li>
<li>I get excited about sharing things I have learned with. I’m rather introverted, but when it comes to topics I am interested in (e.g. math, programming) there is a lot of joy in communication.</li>
<li>I was interested in learning more about alternative institutions for “adult education”. In today’s age, most people have to navigate an uncertain career path, which involves learning new skills, thinking about how to “rebrand” themselves, and so on. I spent some years in academia (including 5 years teaching), so I am fully aware of how that system works and the baggage it carries with it (<strong>cough</strong> lots of time and debt <strong>cough</strong>). Likewise, now that I’ve been in industry for a few years, I have also come to recognize how unseriously “career development” is taken by many employers (though good managers take it upon themselves to look out for their employees in this regard). For these reasons and more, I have felt institutions like the Recurse Center can play an increasingly important role in the future.</li>
</ul>
<p>Thus I thought the Recurse Center had a lot to offer above and beyond an independent sabbatical. But it’s not easy to make it out there to NYC.</p>

<p>I had flirted with the idea of applying to RC for some time, but personal circumstances made committment to it difficult. The first time I considered attending was in 2016, after finishing a math phd. At the time, I did not have the money to support myself living in NYC without a job for 3 months, and so let go of the idea. The second time I considered attending was last year. I was working in the Bay Area as a software engineer and had enough money to pay the bills, but I was also engaged in a long-distance relationship at that time, and was hesitant to uproot myself in a way that would put more physical and emotional distance between myself and my partner (the good news is we’re married and living together now!).</p>
<p>Due to the COVID-19 pandemic, the Recurse Center has shifted to an online-only format, and suddenly my excuses for not attending had evaporated. I applied for a batch and went through the standard interview process: first a quick Zoom call to talk about big picture stuff (personal motivation and so on), followed by a pair programming session (I worked on a toy computer algebra system in Python). And like that, I had been accepted!</p>
<p>I was quite excited to attend. But the last step was also the scariest: I had to quit my job. There’s a nerve wracking element to quitting a job during a pandemic, but I felt that in my current role I had stopped growing in a positive direction and imagined that attending RC would give me some time and space to move things forward. So I did it – I put in my notice at work, and spend the last two weeks trying my best to leave my (former) teammates in a position for success with me gone.</p>

<p>The RC interview process was relatively simple: there had been two Zoom calls scheduled, and the information about these was displayed on the Recurse website immediately upon login. Once I had been accepted, though, things got a bit messier.</p>
<p>It goes without saying that running an online educational retreat differs substantially from an in-person one. In the week leading up to the first day of my batch I received a dozen or so emails covering various operational details, invitations to join Zulip (the chat / discussion software used), to join the GitHub organization, requests to fill out my Recurse profile, links to documents with titles like “Remote RC Orientation Guide”, and so on. It was a lot to take in, and I was wrapping up my last week at work, but I figured that I would get the hang of things once the batch officially started.</p>
<p>I also was assigned an onboarding buddy, who I chatted with the Saturday before my first day. This was quite fun, as we happened to have a number of overlapping interests, so the conversation naturally took care of itself. This experience reinforced in my mind that I had made the right decision to attend: spending a few weeks / months hacking around on software stuff with people like this seemed like a real treat.</p>
<p>The last thing I remember from onboarding was a link to a shared calendar, to which anyone could create a new event. There were already quite a few on there, such as a weely meeting for people trying to learn more mathematics, another weekly meeting for a ML reading group, a daily leetcode practice time, “office hours” held by various RC staffers, some fun stuff, like a streamed cello practice on saturdays, music / book clubs, and many more.</p>
<p>One of my concerns about attending remotely is the time difference between participants. I’m on Pacific time, the Recurse Center itself is on Eastern time, and many of the participants for the remote batches are even further away: some in South America, some in Europe, and so on. But most seemed to be based out of North America, and it was a relief to see the calendar events: although some were at times which I likely wouldn’t attend (e.g. there was an Elm hacking session at 3am my time), most were mid-morning to early afternoon PST.</p>
<p>Pretty cool! I went to bed Sunday night, looking forward to my first day at RC.</p>

<p>My first day started like many of my recent days: I woke up, fed the cat, made some coffee, and then sat down at my computer. There were a few convesations on Zulip. I RSVP’ed for the ML reading group and mentioned I’d be happy to join them at whatever point they were at (this group had started a few weeks earlier, so they had already read 6 chapters of a book). I chatted with someone re: asyncio in Python. We talked about how you can view `async def` as syntactic sugar over ordinary python coroutine stuff, what the event loop is doing, and so on.</p>
<p>I observed, but did not participate in some slightly touchier conversations. One discussion was about a blog post re: Google, “don’t be evil”, and the actual nature of incentives. As you would expect, people feel rather strongly about this, and two camps emerged (one roughly “capitalism bad; eat the rich”, the other “welcome to realpolitik; smash your illusions”) before it was shut down by RC staff. I confess much of my interest in this particular conversation was just in getting a feel for the norms around such a discussion (i.e. to understand expectations around how I conduct myself or discuss controversial topics, and so on – basically, I just want to talk code and math and otherwise don’t want to piss anyone off). The Recurse Center has a formal code of conduct and set of community guidelines, but at any organization there are also many the unwritten rules. In this case, for example, I am not sure whether the discussion actually violated any explicit guideline, but once a RC staffer asked them to stop it, the participants did so.</p>
<p>And so it goes. Anyways, after this, I started scoping out the first project to work on: I wanted to write a toy version of the <a href="http://www.lihaoyi.com/mill/">mill</a> build tool in python to use for another project I had been involved with (basically a big hairy pipeline for astronomical data reduction). I thought through this some, drafted some notes on its design, and ate a late lunch.</p>

<p>There is a common dream which many people experience at some point in their life: they show up to school for the first day of classes, only to realize that they have forgotten to get dressed. I’d never thought about what form this would take for online school. With Zoom, anybody can show up in their underwear, thinking perhaps that the camera is off. But I was dressed!</p>
<p>As far as I can tell, RC used six distinct channels for communicating information to me:</p>
<ol>
<li>direct email, which was the main channel used before I was accepted to the batch</li>
<li>threads on the “Recurse Community” site, which supports something like a message board (but which will also send you emails)</li>
<li>discussions in Zulip (which seemed to be the most active – many conversations every day)</li>
<li>the 1-1 I had with my “onboarding buddy”</li>
<li>the wiki pages, mentioned above</li>
<li>the calendar itself, which is the main way in which events are communicated and coordinated. It’s how I found friends to talk about ML with, for example.</li>
</ol>
<p>There is also a “Virtual RC” space, which is something like a 2D HTML5 canvas MMO where you can move your avatar to various “rooms”. It’s kind of cute; someone was camped outside by a tree.</p>
<p>Bombarded by all of this information, much of which came last week when I was trying to wrap things up at my job, I basically a) added a tag in gmail to at least get all the RC related notifications under one heading, b) made sure to read the “Remote RC Orientation …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://cadlag.org/posts/on-showing-up-to-school-in-your-underwear.html">http://cadlag.org/posts/on-showing-up-to-school-in-your-underwear.html</a></em></p>]]>
            </description>
            <link>http://cadlag.org/posts/on-showing-up-to-school-in-your-underwear.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24169237</guid>
            <pubDate>Sat, 15 Aug 2020 14:45:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A brief introduction to definite clause grammars (2004)]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24168407">thread link</a>) | @YeGoblynQueenne
<br/>
August 15, 2020 | http://cmsmcq.com/2004/lgintro.html | <a href="https://web.archive.org/web/*/http://cmsmcq.com/2004/lgintro.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>This document provides a brief introduction to logic grammars,
as background information for work on the representation of
XSD schemas in logic grammar form.</p><p>The term <i>logic grammar</i> is used to denote
grammars written in logic-programming systems; this paper describes
both <em>definite-clause grammars</em> (DCGs), which are a
built-in part of most Prolog systems, and <em>definite-clause
translation grammars</em> (DCTGs), which employ a similar formalism.
DCTGs closely resemble attribute grammars as described by [<a href="#id2633220">Knuth 1968</a>] and later writers and it is a bit easier to
handle complex or voluminous attribute value functions in DCTGs than
in DCGs.</p><p>Both DCGs and DCTGs can be regarded as syntactic sugar for straight
Prolog; before execution, both notations are translated into Prolog
clauses in the usual notation.</p><div>
<h2><a name="id2619314">1. </a>Definite-clause grammars</h2><p>This section reviews the basics of definite-clause grammars and their
notation.  I'll present a simple grammar in two or three versions,
to illustrate the use of DCG notation.</p><p>Readers who don't find this introduction detailed enough
may consult one of the Prolog books listed among the references.</p>
<div>
<h3><a name="id2614439">1.1. </a>Grammar E1: A trivial grammar for a fragment of English</h3><div><p>Here is a simple DCG for a trivially small fragment of English, 
which I'll call E1.  It is taken from example 8.1 in 
[<a href="#id2633257">König/Seiffert 1989</a>], an 
introduction to Prolog for linguists:</p><pre>%%% Grammar E1, a trivial fragment of English
s --&gt; np, vp.  % A sentence (s) is a noun phrase (np) 
               % plus a verb phrase
np --&gt; det, n. % A noun phrase is a determiner plus a noun
np --&gt; n.      % ... or just a noun.
vp --&gt; v, np.  % A verb phrase is a verb and its direct 
               % object, which is an np
vp --&gt; v.      % ... or just the verb (for intransitives).
n --&gt; [mary].  % 'mary', 'john', 'woman, 'man', 'apple' 
               % are nouns.
n --&gt; [john].
n --&gt; [woman].
n --&gt; [man].
n --&gt; [apple].
det --&gt; [the]. % 'the' is a determiner
v --&gt; [loves]. % 'loves', 'eats', and 'sings' are verbs.
v --&gt; [eats].
v --&gt; [sings].
</pre><p>
This grammar generates sentences like “John loves Mary”
and “The man sings” and “The woman eats the apple”,
as well as the somewhat less plausible “The apple sings the Mary.”</p></div><div><p>When a Prolog system consults a file containing this grammar,
the rules of the grammar are automatically translated into 
canonical Prolog clauses using <em>difference lists</em>:</p><pre>?- listing([s,np,vp,n,det,v]).

s(A, B) :-
        np(A, C),
        vp(C, B).

np(A, B) :-
        det(A, C),
        n(C, B).
np(A, B) :-
        n(A, B).

vp(A, B) :-
        v(A, C),
        np(C, B).
vp(A, B) :-
        v(A, B).

n([mary|A], A).
n([john|A], A).
n([woman|A], A).
n([man|A], A).
n([apple|A], A).

det([the|A], A).

v([loves|A], A).
v([eats|A], A).
v([sings|A], A).

Yes
?- </pre>
</div><div><p>
Difference lists are pairs of lists such that the second list is a
suffix of the first list (i.e. the same from some point or other to
the end), for example, the pair </p><tt>[a, b, c, d]</tt><p> and
</p><tt>[c, d]</tt><p>, which together denote the list </p><tt>[a,
b]</tt><p>, or (among the terminal rules above) </p><tt>[loves|A]</tt><p>
and </p><tt>A</tt><p>, which together denote the list
</p><tt>[loves]</tt><p>. Prolog-based parsers commonly use difference
lists to represent the input; they allow the Prolog clauses which
recognize structures in the input list to consume as much of the input
list (the first list in the pair) as they wish, and pass the rest of
the input (the second list in the pair) to the next clause.  If a DCG
predicate succeeds with its final two arguments unified to the
difference-list pair </p><tt>[a, b, c, d]</tt><p> and </p><tt>[c,
d]</tt><p>, what it means is that the grammar rule recognized the list
</p><tt>[a, b]</tt><p>.
</p></div><p>
In the clause for <i>s</i>, we can see how one part of the
parser picks up where another leaves off. The input list is
<i>A</i>, and the <i>np</i> predicate recognizes a
noun phrase at the beginning of <i>A</i>.  The portion of the
list which follows the noun phrase is assigned to <i>C</i>.
The predicate <i>vp</i> then tries to recognize a verb phrase
at the beginning of list <i>C</i>.  What is left after the
verb phrase is assigned, in turn, to list <i>B</i>, which is
both ‘<span>the part of the input list after the verb phrase</span>’
(in the predicate <i>vp</i>)
and (because the verb phrase can be the last item in a sentence)
also ‘<span>the part of the input after the <i>s</i></span>’
(in the predicate <i>s</i>).
</p><div><p>For example, given the sentence </p><tt>[the, woman, eats,
the, apple]</tt><p>, the first rule for <i>np</i> will
be called with its first argument bound to the entire input
string; after it recognizes the initial noun phrase, the
second argument will be bound to the part of the sentence
which follows the noun phrase, namely </p><tt>[eats,the,apple]</tt><p>.
The predicate <i>vp</i> will then recognize the
verb phrase </p><tt>[eats,the,apple]</tt><p>, leaving the empty
list </p><tt>[]</tt><p> as the part of the input after the sentence.[<a name="ref-to-id2614744" href="#id2614744">1</a>]
</p></div></div>
<div>
<h3><a name="id2614771">1.2. </a>Calling the parser</h3><div><p>
The following fragment of a Prolog session log shows how the
grammar can be used to test the grammaticality of sentences;
it also shows that the grammar could use some refinement.
To test whether a given sequence of tokens is an <i>s</i>,
we call the Prolog predicate <i>s</i> with two difference-list
arguments.  If we specify the empty list as the second argument,
we in effect require that the entire input sequence be a legal
sentence.

</p><pre>?-  s([john,loves,mary],[]).

Yes
?- s([the,woman,eats,the,apple],[]).

Yes
?- s([the,man,sings],[]).

Yes
?- s([apple,eats,woman,the],[]).

No
?- s([apple,sings,the,mary],[]).

Yes
?- </pre>
</div><div><p>We can use a variable as a second argument, instead of the
empty list; in this case, Prolog will tell us each prefix of the
input list which can be parsed as a sentence according to our grammar:
</p><pre>?- s([the,woman,eats,the,apple],Remainder).

Remainder = [] ;

Remainder = [the, apple] ;

No
?- </pre><p>
In one parse, the entire input is parsed as a sentence, and
the remainder is the empty list.  An alternative parse, however,
is just to take </p><tt>[the,woman,eats]</tt><p> as a sentence,
leaving </p><tt>[the,apple]</tt><p> as the remainder.</p></div></div>
<div>
<h3><a name="id2614874">1.3. </a>Grammar E2: A simple attribute grammar</h3><p>An <em>attribute grammar</em> is a context-free grammar in
which the nodes of the parse tree carry attributes (annotations in the
form of name-value pairs).  The values of attributes are calculated
according to specifications associated with the production rules of
the context-free grammar.  Attribute values may propagate top-down
(inherited attributes) or bottom-up (synthesized attributes) in the
parse tree.</p><p>An accessible formal description of attribute grammars is given
by [<a href="#id2632913">Alblas 1991</a>].  Informally, attribute
grammars are sometimes described as context-free grammars with
parameters on the non-terminals.</p><p>We can turn the simple context-free grammar E1 into an attribute
grammar by adding parameters to the productions; I will call the
attribute grammar E2.  In E2, one parameter is used to generate a 
structural description of the sentence, another to check for 
subject-verb agreement in grammatical number.</p><div><p>Thus extended with parameters, and a few more words in the
lexicon, the grammar looks like this:</p><pre>%%% E2: a trivial attribute grammar for a fragment of
%%% English, with a synthesized attribute for structural 
%%% description and enforcement of number agreement.

s(s(S,P)) --&gt; np(S,Num), vp(P,Num).
np(np(D,N),Num) --&gt; det(D,Num), n(N,Num).
np(np(N),pl) --&gt; n(N,pl).
np(np(N),sg) --&gt; pn(N,sg).
vp(vp(V,O),Num) --&gt; v(V,Num), np(O,_).
vp(vp(V),Num) --&gt; v(V,Num).
n(n(L),Num) --&gt; [L], { lex(L,n,Num) }.
pn(pn(L),Num) --&gt; [L], { lex(L,pn,Num) }.
v(v(L),Num) --&gt; [L], { lex(L,v,Num) }.
det(det(L),Num) --&gt; [L], { lex(L,det,Num) }.

lex(mary,pn,sg).
lex(john,pn,sg).
lex(woman,n,sg).
lex(women,n,pl).
lex(man,n,sg).
lex(men,n,pl).
lex(apple,n,sg).
lex(apples,n,pl).
lex(the,det,_).
lex(some,det,pl).
lex(one,det,sg).
lex(loves,v,sg).
lex(love,v,pl).
lex(eats,v,sg).
lex(eat,v,pl).
lex(sings,v,sg).
lex(sing,v,pl).
</pre></div><div><p>When parsed with this grammar, the sentence 
“John loves Mary” is assigned the structure </p><tt>s(np(pn(john)),
vp(v(loves), np(pn(mary))))</tt><p> — or, with
pretty-printing:</p><pre>s(
  np(
     pn(john)
    ), 
  vp(
     v(loves), 
     np(
        pn(mary)
       )
    )
 )</pre><p>
Here, the grammatical structure for each non-terminal on the
left-hand side of a grammar rule is synthesized from
the grammatical structures of the non-terminals on the right-hand side
of the rule.  So it's a synthetic attribute.</p></div><p>On some productions, a second parameter is used to enforce
agreement in number between subject and verb and between
determiner and noun.  Here, Prolog's unification mechanism makes
it unnecessary to distinguish between synthetic and inherited
attributes.  The sentence is grammatical if and only if the
number (<i>Num</i>) of the <i>np</i> and that of
the <i>vp</i> agree; whether the attribute flows bottom-up
on each of these, or bottom-up on one and top-down on the other
need not concern us.</p><div><p>In this version of the grammar, it is worth calling the reader's
attention to the Prolog clauses enclosed in braces on the right-hand
side of some rules, e.g. in 
</p><pre>n(n(L),Num) --&gt; [L], { lex(L,n,Num)}.</pre><p>
These Prolog clauses express constraints on the grammatical
construction which are not themselves grammatical constituents.  They
are sometimes called ‘guards’ (e.g. by [<a href="#id2632980">Brown/Blair 1990</a>]); they correspond directly to
the ‘semantic conditions’ which are a constituent
part of attribute grammars as described by [<a href="#id2632913">Alblas 1991</a>].  With the guard, this rule can be paraphrased as
saying “A noun (an <i>n</i>), has the structure
</p><tt>n(L)</tt><p> and the grammatical number </p><tt>Num</tt><p>,
<em>if</em> (a) <i>L</i> (for ‘lexical
form’) is a single item in the input list </p><tt>[L]</tt><p>,
and (b) the relation <i>lex</i> contains the triple
</p><tt>(L,n,Num)</tt><p>.”</p></div><p>Such guards will be present in many of the rules we use
to represent XML Schema in logic grammars.</p><div><p>By calling the grammar rules, we can instantiate a variable
with the structural description of the sentence.</p><pre>?- s(Struc,[john,loves,mary],[]).

Struc = s(np(pn(john)), vp(v(loves), np(pn(mary)))) 

Yes
?- s(S,[the,woman,eats,the,apple],[]).

S = s(np(det(the), n(woman)), vp(v(eats), np(det(the), n(apple)))) 

Yes
?- s(S,[the,man,sings],[]).

S = s(np(det(the), n(man)), vp(v(sings))) 

Yes
?- s(S,[apple,sings,the,mary],[]).

No
?- s(S,[the,apple,sings,mary],[]).

S = s(np(det(the), …</pre></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://cmsmcq.com/2004/lgintro.html">http://cmsmcq.com/2004/lgintro.html</a></em></p>]]>
            </description>
            <link>http://cmsmcq.com/2004/lgintro.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24168407</guid>
            <pubDate>Sat, 15 Aug 2020 12:30:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BQN: An APL Variant from Marshall Lochbaum]]>
            </title>
            <description>
<![CDATA[
Score 60 | Comments 28 (<a href="https://news.ycombinator.com/item?id=24167804">thread link</a>) | @chrispsn
<br/>
August 15, 2020 | https://mlochbaum.github.io/BQN/ | <a href="https://web.archive.org/web/*/https://mlochbaum.github.io/BQN/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p><em>Try it <a href="https://mlochbaum.github.io/BQN/try.html">here</a>! The online version is mainly good for small programs currently; see <a href="https://mlochbaum.github.io/BQN/running.html">running.md</a> for more options.</em></p>
<p><strong>BQN</strong> is a new programming language in the APL lineage, which aims to remove inconsistent and burdensome aspects of the APL tradition and put the great ideas on a firmer footing. BQN is aimed at existing and aspiring APL-family programmers, and using it requires a solid understanding of functions and multidimensional arrays. However, because of its focus on providing simple, consistent, and powerful array operations, BQN should also be a good language for learning array programming and building stronger array intuition.</p>
<p>BQN maintains many of the ideas that made APL\360 revolutionary in 1966:</p>
<ul>
<li>Human-friendly <strong>infix notation</strong> with no precedence rules to remember.</li>
<li><strong>Built-in array operations</strong> handle any number of dimensions easily.</li>
<li><strong>Higher-order functions</strong> allow basic functions to be applied in more powerful ways.</li>
</ul>
<p>It incorporates concepts developed over years of APL practice:</p>
<ul>
<li>The <a href="https://mlochbaum.github.io/BQN/doc/leading.html"><strong>leading axis model</strong></a>, which allows for simpler built-in functions.</li>
<li>Trains and combinators for <strong>tacit programming</strong>.</li>
<li>Lightweight <strong>anonymous functions</strong> (like <a href="https://aplwiki.com/wiki/Dfn">dfns</a>).</li>
</ul>
<p>But BQN is redesigned from the ground up, with brand new ideas to make these paradigms easier to use and less likely to fail.</p>
<ul>
<li>The <strong>based array model</strong> makes non-arrays a fundamental part of the language, and removes the surprise of floating arrays and the hassle of explicit boxes. New <strong>array notation</strong> eliminates the gotchas of <a href="https://aplwiki.com/wiki/Strand_notation">stranding</a>.</li>
<li>A <a href="https://mlochbaum.github.io/BQN/doc/context.html"><strong>context-free grammar</strong></a> where a value's syntactic role is determined by its spelling makes it easier for machines and humans to understand code.</li>
<li>Oh, and it naturally leads to <a href="https://mlochbaum.github.io/BQN/doc/functional.html"><strong>first-class functions</strong></a>, a feature often missed in APL.</li>
<li>The <strong>new symbols</strong> for built-in functionality allow the syntactic role of a primitive to be distinguished at a glance, and aim to be more consistent and intuitive.</li>
</ul>
<h2 id="what-kind-of-name-is-bqn">What kind of name is "BQN"?</h2>
<p>It's three letters, that happen to match the capitals in "Big Questions Notation". You can pronounce it "bacon", but are advised to avoid this unless there's puns.</p>
<h2 id="what-does-bqn-look-like">What does BQN look like?</h2>
<p>Rather strange, most likely:</p>
<pre>    <span>âŠ‘+</span><span>`</span><span>âˆ˜</span><span>âŒ½</span><span>â�Ÿ</span><span>12</span><span>â†•</span><span>2</span>  144
</pre>
<p>For longer samples, you can <a href="https://github.com/mlochbaum/BQN/blob/master/src/c.bqn">gaze into the abyss</a> that is the self-hosted compiler, or the <a href="https://github.com/mlochbaum/BQN/blob/master/src/r.bqn">shallower but wider abyss</a> of the runtime, or take a look at the friendlier <a href="https://github.com/mlochbaum/BQN/blob/master/md.bqn">markdown processor</a> used to format and highlight documentation files. There are also <a href="https://github.com/mlochbaum/BQN/blob/master/examples/fifty.bqn">some translations</a> from <a href="https://www.jsoftware.com/papers/50/">"A History of APL in 50 Functions"</a> here.</p>
<h2 id="array-model">Array model</h2>
<p>Most of BQN's functionality deals with the manipulation of multidimensional arrays. However, it discards many of the complications of traditional APL <a href="https://aplwiki.com/wiki/Array_model">array models</a>. Unlike in APL, non-array data is possible, and common: numbers, characters, and functions are not arrays (see the full list of <a href="#types">types</a> below). This avoids some difficulties that show up when trying to treat scalar arrays as the fundamental unit; in particular, there is no "floating" so a value is always different from a scalar array that contains it. This system has been <a href="https://dl.acm.org/doi/abs/10.1145/586656.586663">proposed</a> in APL's past under the name <strong>based array theory</strong>.</p>
<p>Currently, the intention is that arrays will not have prototypes, so that all empty arrays of the same shape behave identically. Different elements of an array should not influence each other. While some APLs force numbers placed in the same array to a common representation, which may have different precision properties, BQN will enforce 64-bit floating-point precision, and only use representations or methods compatible with it (for example, integers up to 32 bits).</p>
<h2 id="syntax">Syntax</h2>
<p>BQN syntax consists of expressions where computation is done with a little organizing structure around them like assignment, functions, and list notation. Expressions are where the programmer is in control so the design tries to do as much as possible with them before introducing special syntax.</p>
<h3 id="expressions">Expressions</h3>
<p>Like APL, BQN uses four <em>syntactic roles</em> for values in expressions:</p>
<ul>
<li><strong>Subjects</strong>, like APL arrays or J nouns</li>
<li><strong>Functions</strong>, or verbs in J</li>
<li><strong>1-Modifiers</strong>, like APL monadic operators or J adverbs</li>
<li><strong>2-Modifiers</strong>, like APL dyadic operators or J conjunctions.</li>
</ul>
<p>These roles work exactly like they do in APL, with functions applying to one or two subject arguments, 1-modifiers taking a single function or subject on the left, and 2-modifiers taking a function or subject on each side.</p>
<p>Unlike APL, in BQN the syntactic role of a value is determined purely by the way it's spelled: a lowercase first letter (<code><span>name</span></code>) makes it a subject, an uppercase first letter (<code><span>Name</span></code>) makes it a function, and underscores are used for 1-modifiers (<code><span>_name</span></code>) and 2-modifiers (<code><span>_name_</span></code>). Below, the function <code><span>{</span><span>ð�•Ž</span><span>ð�•©</span><span>}</span></code> treats its left argument <code><span>ð�•Ž</span></code> as a function and its right argument <code><span>ð�•©</span></code> as a subject. With a list of functions, we can make a table of the square and square root of a few numbers:</p>
<pre>    <span>âŸ¨</span><span>Ã—</span><span>Ëœ</span><span>,</span><span>âˆš</span><span>âŸ©</span> <span>{</span><span>ð�•Ž</span><span>ð�•©</span><span>}</span><span>âŒœ</span> <span>1</span><span>â€¿</span><span>4</span><span>â€¿</span><span>9</span>
â”Œâ”€         
â•µ 1 16 81  
  1  2  3  
          â”˜
</pre>
<p>BQN's built-in operations also have patterns to indicate the syntactic role: 1-modifiers (<code><span>ËœÂ¨Ë˜â�¼âŒœÂ´`</span></code>) are all superscript characters, and 2-modifiers (<code><span>âˆ˜â—‹âŠ¸âŸœâŒ¾âŠ˜â—¶âš‡âŽ‰â�Ÿ</span></code>) all have an unbroken circle (two functions <code><span>âŒ½â�‰</span></code> have broken circles with lines through them). Every other built-in constant is a function, although the special symbols <code><span>Â¯</span></code>, <code><span>âˆž</span></code>, and <code><span>Ï€</span></code> are used as part of numeric literal notation.</p>
<h3 id="special-syntax">Special syntax</h3>
<p>Most of these glyphs are explained further in the section on <a href="#literal-notation">literal notation</a>.</p>
<table>
<thead>
<tr>
<th>Glyph(s)</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span>â†�</span></code></td>
<td>Define</td>
</tr>
<tr>
<td><code><span>â†©</span></code></td>
<td>Change</td>
</tr>
<tr>
<td><code><span>â†’</span></code></td>
<td>Return</td>
</tr>
<tr>
<td><code><span>â‹„,</span></code> or newline</td>
<td>Statement or element separator</td>
</tr>
<tr>
<td><code><span>()</span></code></td>
<td>Expression grouping</td>
</tr>
<tr>
<td><code><span>{}</span></code></td>
<td>Explicit function or modifier</td>
</tr>
<tr>
<td><code><span>âŸ¨âŸ©</span></code></td>
<td>List (rank-1 array)</td>
</tr>
<tr>
<td><code><span>â€¿</span></code></td>
<td>Strand (lightweight list syntax)</td>
</tr>
<tr>
<td><code><span>ð�•¨</span><span>ð�•Ž</span></code></td>
<td>Left argument</td>
</tr>
<tr>
<td><code><span>ð�•©</span><span>ð�•�</span></code></td>
<td>Right argument</td>
</tr>
<tr>
<td><code><span>ð�•—</span><span>ð�”½</span></code></td>
<td>Left operand of a modifier</td>
</tr>
<tr>
<td><code><span>ð�•˜</span><span>ð�”¾</span></code></td>
<td>Right operand of a 2-modifier</td>
</tr>
<tr>
<td><code></code></td>
<td>Comment</td>
</tr>
</tbody>
</table>
<h2 id="built-in-operations">Built-in operations</h2>
<h3 id="functions">Functions</h3>
<p>Functions that have significant differences from APL functions are marked with an asterisk. Links for these entries go to dedicated BQN documentation while other links go to the APL Wiki.</p>
<table>
<thead>
<tr>
<th>Glyph</th>
<th>Monadic</th>
<th>Dyadic</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span>+</span></code></td>
<td><a href="https://aplwiki.com/wiki/Conjugate">Conjugate</a></td>
<td><a href="https://aplwiki.com/wiki/Add">Add</a></td>
</tr>
<tr>
<td><code><span>-</span></code></td>
<td><a href="https://aplwiki.com/wiki/Negate">Negate</a></td>
<td><a href="https://aplwiki.com/wiki/Subtract">Subtract</a></td>
</tr>
<tr>
<td><code><span>Ã—</span></code></td>
<td><a href="https://aplwiki.com/wiki/Signum">Sign</a></td>
<td><a href="https://aplwiki.com/wiki/Times">Multiply</a></td>
</tr>
<tr>
<td><code><span>Ã·</span></code></td>
<td><a href="https://aplwiki.com/wiki/Reciprocal">Reciprocal</a></td>
<td><a href="https://aplwiki.com/wiki/Divide">Divide</a></td>
</tr>
<tr>
<td><code><span>â‹†</span></code></td>
<td><a href="https://aplwiki.com/wiki/Exponential">Exponential</a></td>
<td><a href="https://aplwiki.com/wiki/Power_(function)">Power</a></td>
</tr>
<tr>
<td><code><span>âˆš</span></code></td>
<td><a href="https://aplwiki.com/wiki/Square_Root">Square Root</a></td>
<td><a href="https://aplwiki.com/wiki/Root">Root</a></td>
</tr>
<tr>
<td><code><span>âŒŠ</span></code></td>
<td><a href="https://aplwiki.com/wiki/Floor">Floor</a></td>
<td><a href="https://aplwiki.com/wiki/Minimum">Minimum</a></td>
</tr>
<tr>
<td><code><span>âŒˆ</span></code></td>
<td><a href="https://aplwiki.com/wiki/Ceiling">Ceiling</a></td>
<td><a href="https://aplwiki.com/wiki/Maximum">Maximum</a></td>
</tr>
<tr>
<td><code><span>âˆ§</span></code></td>
<td>Sort Up</td>
<td><a href="https://mlochbaum.github.io/BQN/doc/logic.html">And</a>*</td>
</tr>
<tr>
<td><code><span>âˆ¨</span></code></td>
<td>Sort Down</td>
<td><a href="https://mlochbaum.github.io/BQN/doc/logic.html">Or</a>*</td>
</tr>
<tr>
<td><code><span>Â¬</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/logic.html">Not</a>*</td>
<td><a href="https://mlochbaum.github.io/BQN/doc/logic.html">Span</a>*</td>
</tr>
<tr>
<td><code><span>|</span></code></td>
<td><a href="https://aplwiki.com/wiki/Magnitude">Absolute Value</a></td>
<td><a href="https://aplwiki.com/wiki/Residue">Modulus</a></td>
</tr>
<tr>
<td><code><span>â‰¤</span></code></td>
<td></td>
<td><a href="https://aplwiki.com/wiki/Less_than_or_Equal_to">Less Than or Equal to</a></td>
</tr>
<tr>
<td><code><span>&lt;</span></code></td>
<td><a href="https://aplwiki.com/wiki/Enclose">Enclose</a></td>
<td><a href="https://aplwiki.com/wiki/Less_than">Less Than</a></td>
</tr>
<tr>
<td><code><span>&gt;</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/couple.html">Merge</a>*</td>
<td><a href="https://aplwiki.com/wiki/Greater_than">Greater Than</a></td>
</tr>
<tr>
<td><code><span>â‰¥</span></code></td>
<td></td>
<td><a href="https://aplwiki.com/wiki/Greater_than_or_Equal_to">Greater Than or Equal to</a></td>
</tr>
<tr>
<td><code><span>=</span></code></td>
<td>Rank</td>
<td><a href="https://aplwiki.com/wiki/Equal_to">Equals</a></td>
</tr>
<tr>
<td><code><span>â‰&nbsp;</span></code></td>
<td><a href="https://aplwiki.com/wiki/Tally">Length</a></td>
<td><a href="https://aplwiki.com/wiki/Not_Equal_to">Not Equals</a></td>
</tr>
<tr>
<td><code><span>â‰¡</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/depth.html">Depth</a>*</td>
<td><a href="https://aplwiki.com/wiki/Match">Match</a></td>
</tr>
<tr>
<td><code><span>â‰¢</span></code></td>
<td><a href="https://aplwiki.com/wiki/Shape">Shape</a></td>
<td><a href="https://aplwiki.com/wiki/Not_Match">Not Match</a></td>
</tr>
<tr>
<td><code><span>âŠ£</span></code></td>
<td><a href="https://aplwiki.com/wiki/Identity">Identity</a></td>
<td><a href="https://aplwiki.com/wiki/Identity">Left</a></td>
</tr>
<tr>
<td><code><span>âŠ¢</span></code></td>
<td><a href="https://aplwiki.com/wiki/Identity">Identity</a></td>
<td><a href="https://aplwiki.com/wiki/Identity">Right</a></td>
</tr>
<tr>
<td><code><span>â¥Š</span></code></td>
<td><a href="https://aplwiki.com/wiki/Ravel">Deshape</a></td>
<td><a href="https://aplwiki.com/wiki/Reshape">Reshape</a></td>
</tr>
<tr>
<td><code><span>âˆ¾</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/join.html">Join</a>*</td>
<td><a href="https://aplwiki.com/wiki/Catenate">Join to</a></td>
</tr>
<tr>
<td><code><span>â‰�</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/couple.html">Solo</a>*</td>
<td><a href="https://mlochbaum.github.io/BQN/doc/couple.html">Couple</a>*</td>
</tr>
<tr>
<td><code><span>â†‘</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/prefixes.html">Prefixes</a>*</td>
<td><a href="https://aplwiki.com/wiki/Take">Take</a></td>
</tr>
<tr>
<td><code><span>â†“</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/prefixes.html">Suffixes</a>*</td>
<td><a href="https://aplwiki.com/wiki/Drop">Drop</a></td>
</tr>
<tr>
<td><code><span>â†•</span></code></td>
<td><a href="https://aplwiki.com/wiki/Index_Generator">Range</a></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/windows.html">Windows</a>*</td>
</tr>
<tr>
<td><code><span>âŒ½</span></code></td>
<td><a href="https://aplwiki.com/wiki/Reverse">Reverse</a></td>
<td><a href="https://aplwiki.com/wiki/Rotate">Rotate</a></td>
</tr>
<tr>
<td><code><span>â�‰</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/transpose.html">Transpose</a>*</td>
<td><a href="https://mlochbaum.github.io/BQN/doc/transpose.html">Reorder axes</a>*</td>
</tr>
<tr>
<td><code><span>/</span></code></td>
<td><a href="https://aplwiki.com/wiki/Indices">Indices</a></td>
<td><a href="https://aplwiki.com/wiki/Replicate">Replicate</a></td>
</tr>
<tr>
<td><code><span>â�‹</span></code></td>
<td><a href="https://aplwiki.com/wiki/Grade">Grade Up</a></td>
<td><a href="https://aplwiki.com/wiki/Interval_Index">Bins Up</a></td>
</tr>
<tr>
<td><code><span>â�’</span></code></td>
<td><a href="https://aplwiki.com/wiki/Grade">Grade Down</a></td>
<td><a href="https://aplwiki.com/wiki/Interval_Index">Bins Down</a></td>
</tr>
<tr>
<td><code><span>âŠ�</span></code></td>
<td>First Cell*</td>
<td>Select*</td>
</tr>
<tr>
<td><code><span>âŠ‘</span></code></td>
<td><a href="https://aplwiki.com/wiki/First">First</a></td>
<td>Pick*</td>
</tr>
<tr>
<td><code><span>âŠ�</span></code></td>
<td></td>
<td><a href="https://aplwiki.com/wiki/Index_Of">Index of</a></td>
</tr>
<tr>
<td><code><span>âŠ’</span></code></td>
<td>Occurrence Count*</td>
<td>Progressive Index of*</td>
</tr>
<tr>
<td><code><span>âˆŠ</span></code></td>
<td><a href="https://aplwiki.com/wiki/Nub_Sieve">Unique Mask</a></td>
<td><a href="https://aplwiki.com/wiki/Membership">Member of</a></td>
</tr>
<tr>
<td><code><span>â�·</span></code></td>
<td><a href="https://aplwiki.com/wiki/Unique">Deduplicate</a></td>
<td><a href="https://aplwiki.com/wiki/Find">Find</a></td>
</tr>
<tr>
<td><code><span>âŠ”</span></code></td>
<td><a href="https://mlochbaum.github.io/BQN/doc/group.html">Group Indices</a>*</td>
<td><a href="https://mlochbaum.github.io/BQN/doc/group.html">Group</a>*</td>
</tr>
</tbody>
</table>
<h3 id="modifiers">Modifiers</h3>
<p><em>Combinators</em> only control the application of functions. Because a non-function operand applies as a constant function, some combinators have extra meanings when passed a constant. For example, <code><span>0</span><span>Ëœ</span></code> is the constant function that always returns 0 and <code><span>0</span><span>âŠ¸</span><span>&lt;</span></code> is the function that tests whether its right argument is greater than 0.</p>
<table>
<thead>
<tr>
<th>Glyph</th>
<th>Name(s)</th>
<th>Definition</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span>Ëœ</span></code></td>
<td>Self/Swap</td>
<td><code><span>{</span><span>ð�•©</span><span>ð�”½</span><span>ð�•¨</span><span>âŠ£</span><span>ð�•©</span><span>}</span></code></td>
<td>Duplicate one argument or exchange two</td>
</tr>
<tr>
<td><code><span>âˆ˜</span></code></td>
<td>Atop</td>
<td><code><span>{</span><span>ð�”½</span><span>ð�•¨</span><span>ð�”¾</span><span>ð�•©</span><span>}</span></code></td>
<td>Apply <code><span>ð�”¾</span></code> to both arguments and <code><span>ð�”½</span></code> to the result</td>
</tr>
<tr>
<td><code><span>â—‹</span></code></td>
<td>Over</td>
<td><code><span>{</span><span>(</span><span>ð�”¾</span><span>ð�•¨</span><span>)</span><span>ð�”½ð�”¾</span><span>ð�•©</span><span>}</span></code></td>
<td>Apply <code><span>ð�”¾</span></code> to each argument and <code><span>ð�”½</span></code> to the results</td>
</tr>
<tr>
<td><code><span>âŠ¸</span></code></td>
<td>Before/Bind</td>
<td><code><span>{</span><span>(</span><span>ð�”½</span><span>ð�•¨</span><span>âŠ£</span><span>ð�•©</span><span>)</span><span>ð�”¾</span><span>ð�•©</span><span>}</span></code></td>
<td><code><span>ð�”¾</span></code>'s left argument comes from <code><span>ð�”½</span></code></td>
</tr>
<tr>
<td><code><span>âŸœ</span></code></td>
<td>After/Bind</td>
<td><code><span>{</span><span>(</span><span>ð�•¨</span><span>âŠ£</span><span>ð�•©</span><span>)</span><span>ð�”½ð�”¾</span><span>ð�•©</span><span>}</span></code></td>
<td><code><span>ð�”½</span></code>'s right argument comes from <code><span>ð�”¾</span></code></td>
</tr>
<tr>
<td><code><span>âŒ¾</span></code></td>
<td>Under</td>
<td><code><span>{</span><span>ð�”¾</span><span>â�¼</span><span>âˆ˜</span><span>ð�”½</span><span>â—‹</span><span>ð�”¾</span><span>}</span></code> OR <code><span>{</span><span>(</span><span>ð�”¾</span><span>ð�•©</span><span>)</span><span>â†©</span><span>ð�•¨</span><span>ð�”½</span><span>â—‹</span><span>ð�”¾</span><span>ð�•©</span><span>â‹„</span><span>ð�•©</span><span>}</span></code></td>
<td>Apply <code><span>ð�”½</span></code> over <code><span>ð�”¾</span></code>, then undo <code><span>ð�”¾</span></code></td>
</tr>
<tr>
<td><code><span>âŠ˜</span></code></td>
<td>Valences</td>
<td><code><span>{</span><span>ð�”½</span><span>ð�•©;ð�•¨</span><span>ð�”¾</span><span>ð�•©</span><span>}</span></code></td>
<td>Apply <code><span>ð�”½</span></code> if there's one argument but <code><span>ð�”¾</span></code> if there are two</td>
</tr>
<tr>
<td><code><span>â—¶</span></code></td>
<td>Choose</td>
<td><code><span>{</span><span>f</span><span>â†�</span><span>(</span><span>ð�•¨</span><span>ð�”½</span><span>ð�•©</span><span>)</span><span>âŠ‘</span><span>ð�•˜</span> <span>â‹„</span> <span>ð�•¨</span><span>F</span><span>ð�•©</span><span>}</span></code></td>
<td>Select one of the functions in list <code><span>ð�•˜</span></code> based on <code><span>ð�”½</span></code></td>
</tr>
</tbody>
</table>
<p>Choose isn't really a combinator since it calls the function <code><span>âŠ‘</span></code>, and Under is not a true combinator since it has an "undo" step at the end. This step might be implemented using the left operand's inverse (<em>computational</em> Under) or its structural properties (<em>structural</em> Under).</p>
<p>Other modifiers control array traversal and iteration. In three cases a simpler 1-modifier is paired with a generalized 2-modifier: in each case the 1-modifier happens to be the same as the 2-modifier with a right operand of <code><span>Â¯1</span></code>.</p>
<table>
<thead>
<tr>
<th>1-Modifier</th>
<th>Name</th>
<th>2-Modifier</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span>Ë˜</span></code></td>
<td>Cells</td>
<td><code><span>âŽ‰</span></code></td>
<td>Rank</td>
</tr>
<tr>
<td><code><span>Â¨</span></code></td>
<td>Each</td>
<td><code><span>âš‡</span></code></td>
<td>Depth</td>
</tr>
<tr>
<td><code><span>âŒœ</span></code></td>
<td>Table</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code><span>â�¼</span></code></td>
<td>Undo</td>
<td><code><span>â�Ÿ</span></code></td>
<td>Repeat</td>
</tr>
<tr>
<td><code><span>Â´</span></code></td>
<td>Fold</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code><span>Ë�</span></code></td>
<td>Insert</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code><span>`</span></code></td>
<td>Scan</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="literal-notation">Literal notation</h2>
<h3 id="constant-notation">Constant notation</h3>
<p>BQN has single-token notation for numbers, strings, and characters.</p>
<p>Numbers allow the typical decimal notation with <code><span>Â¯</span></code> for the negative sign (because <code><span>-</span></code> is a function) and <code><span>e</span></code> for scientific notation (or <code><span>E</span></code>, as numeric notation is case-insensitive). <code><span>âˆž</span></code> and <code><span>Ï€</span></code> may be used as special numeric values. Complex numbers are also allowed, with the components separated by <code><span>i</span></code>.</p>
<p>Strings are written with double quotes <code><span>""</span></code>, and characters with single quotes <code>''</code> with a single character in between. A double quote within a string can be escaped by writing it twice; if two string literals are next to each other, they must be separated by a space. In contrast, character literals do not use escapes, as the length is already known.</p>
<h3 id="separators">Separators</h3>
<p>The characters <code><span>â‹„</span></code> and <code><span>,</span></code> and newline are completely interchangeable and are used to separate expressions. An expression might be an element in a list or a line in a function. Empty sectionsâ€”those that consist only of whitespaceâ€”are ignored. This means that any number of separators can be used between expressions, and that leading and trailing separators are also allowed. The expressions are evaluated in text order: left to right and top to bottom.</p>
<h3 id="list-notation">List notation</h3>
<p>Lists (1-dimensional arrays) are enclosed in angle brackets <code><span>âŸ¨âŸ©</span></code>, with the results of the expressions in between being the list's elements. Lists of two elements or more can also be written with the ligature character <code><span>â€¿</span></code>. This character has higher binding strength than any part of an expression. If one of the elements is a compound expression, then it will need to be enclosed in parentheses.</p>
<p>If added, <a href="https://mlochbaum.github.io/BQN/doc/extensions.html#sets-and-dictionaries">sets and …</a></p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mlochbaum.github.io/BQN/">https://mlochbaum.github.io/BQN/</a></em></p>]]>
            </description>
            <link>https://mlochbaum.github.io/BQN/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24167804</guid>
            <pubDate>Sat, 15 Aug 2020 10:30:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Language Oriented Design and SICP with Hal Abelson [audio]]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24167794">thread link</a>) | @tosh
<br/>
August 15, 2020 | https://corecursive.com/039-hal-abelson-sicp/ | <a href="https://web.archive.org/web/*/https://corecursive.com/039-hal-abelson-sicp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Adam talks to Hal Abelson about the textbook he coauthored in 1985, The Structure and Interpretation of Computer Programs and why it is still popular and influential today.</p><p>“If you pick up almost any computing book it starts out ‘here are these datatypes, these operations that you do’ and somewhere around 20 or 30% through the book, they show you how to define a function or a procedure. Whereas we really take the opposite approach. We say the key thing is abstraction. So we kind of start there.”</p><p>“The axe [the book] is grinding is that people write programs to do one particular thing. And then the price of that is that a whole lot of software engineering ends up being trying to get out of the hole you dug yourself into because you made a program that was too specific.”</p><ul><li><a href="https://www.youtube.com/watch?v=2Op3QLzMgSY">SICP Lectures</a></li><li><a href="https://mitpress.mit.edu/sites/default/files/sicp/index.html">The Structure and Interpretation of Computer Programs</a></li><li><a href="http://www.gigamonkeys.com/code-quarterly/2011/hal-abelson/">Hal Interview</a></li></ul></div></div>]]>
            </description>
            <link>https://corecursive.com/039-hal-abelson-sicp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24167794</guid>
            <pubDate>Sat, 15 Aug 2020 10:29:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[$200 PinePhone Linux smartphone comes with physical kill switch]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24167497">thread link</a>) | @vvpvijay
<br/>
August 15, 2020 | https://androidrookies.com/200-pinephone-linux-smartphone-comes-with-physical-kill-switch-to-turn-off-camera-microphone-bluetooth-and-wi-fi/ | <a href="https://web.archive.org/web/*/https://androidrookies.com/200-pinephone-linux-smartphone-comes-with-physical-kill-switch-to-turn-off-camera-microphone-bluetooth-and-wi-fi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-10179"><div><div><div><h2>Pine64’s $199 PinePhone Linux smartphone comes with a physical kill switch in the back to turn off the camera, Wi-Fi, microphone, headphone, and Bluetooth transmitters</h2><p>Ever since Pine64 launched the PinePhone Linux smartphones, it has been a subject of debates, arguments, and counter-arguments. Some find the PinePhone Linux smartphone an experiment worth trying out while others critique its hardware which is closer to a budget Android smartphone. However, we have to handover to the Pine64 engineers for tackling privacy-related issues first hand.</p><p>Ever since <a href="https://androidrookies.com/taping-your-macbook-camera-to-prevent-it-from-spying-is-not-a-good-option-says-apple/">Apple issued an advisory to MacBook users</a> not to tape their webcam, many users have been demanding a physical kill switch to stop webcam/microphone/Wi-Fi/GPS being hacked or abused. The Pine64’s PinePhone smartphone comes with a neat physical kill switch to turn those on/off. Under the back cover of PinePhone users can find an array of kill switches that can be used to physically toggle the camera, Wi-Fi, microphone, and GPS transmitters on or off.</p><div id="attachment_10180"><p><img aria-describedby="caption-attachment-10180" loading="lazy" src="https://androidrookies.com/wp-content/uploads/2020/08/physical-switch.jpg" data-src="https://androidrookies.com/wp-content/uploads/2020/08/physical-switch.jpg" alt="Pine64's $200 PinePhone Linux smartphone comes with a physical switch in the back to turn off the camera, Wi-Fi, microphone, headphone, and Bluetooth transmitters" width="657" height="371" data-srcset="https://androidrookies.com/wp-content/uploads/2020/08/physical-switch.jpg 657w, https://androidrookies.com/wp-content/uploads/2020/08/physical-switch-300x169.jpg 300w" data-sizes="(max-width: 657px) 100vw, 657px" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" srcset="https://androidrookies.com/wp-content/uploads/2020/08/physical-switch.jpg 657w, https://androidrookies.com/wp-content/uploads/2020/08/physical-switch-300x169.jpg 300w"></p><p id="caption-attachment-10180">Courtesy AndroidPolice</p></div><p>The neatly arranged stack of switches situated in the rear of the PinePhone lets you shut down the modem, Wi-Fi, Bluetooth, microphone, rear camera, front camera, and headphone with a small screwdriver.</p><h2>Specifications of Pine64’s PinePhone:</h2><p>The PinePhone comes with a 5.95-inch 1440×720 18:9 HD IPS capacitive touchscreen with 16M colors and runs on <a href="https://linux-sunxi.org/A64" target="_blank" rel="nofollow noopener noreferrer">Allwinner A64</a> (quad-core ARM Cortex A53, Mali 400 GPU) chipset. Many expected a better chip but then you are paying $200 for this smartphone. The PinePhone runs on 3GB RAM and has 32GB internal memory(eMMC) which can be extended up to 2TB via a microSD card. The PinePhone has a 5MP rear shooter with LED flash and a 2MP front camera for selfies.</p><p>For connectivity, the PinePhomes LTE, Wi-Fi 802.11 b/g/n, Bluetooth 4.0, and GPS. It also features other extras like Accelerometer, Gyro sensor, Proximity sensor, Ambient light sensor, Compass</p><p>The PinePhone comes with a removable 2,800mAh battery which is similar to the Samsung J7 battery. Unlike nano-SIM in the current lot of Android smartphones, PinePhone comes with a micro-SIM and has Type-C USB port for charging and data transfer.</p><p>The $199 PinePhone runs on PostmarketOS Linux distro and comes with a convergence package consisting of a compatible USB-C docking bar capable of charging, digital video output, dual USB 2.0 type-A host ports for peripherals (such as keyboard and mouse) and fast Ethernet.</p><p>You can place an order for the limited edition <a href="https://store.pine64.org/product/pinephone-community-edition-postmarketos-with-convergence-package-limited-edition-linux-smartphone/">PinePhone Community Edition: PostmarketOS with Convergence Package</a>&nbsp;bundle for $200. Or you can just<a href="https://store.pine64.org/product/pinephone-community-edition-postmarketos-limited-edition-linux-smartphone/"> order the phone itself for $150</a> which comes with 2GB RAM and 16GB internal memory. The Linux smartphone maker has promised deliveries by end of August 2020.</p><p>The $199 PinePhone “Community Edition: PostmarketOS With Convergence Package” does have a bit mid-range specs especially the 3GB RAM/32GB internal memory and the 5MP/2MP cameras but I did buy the PinePhone just for the physical kill switches to turn off the peripherals. If this physical security feature becomes popular we could one day be having it on flagship Android smartphones.</p></div></div></div></article></div>]]>
            </description>
            <link>https://androidrookies.com/200-pinephone-linux-smartphone-comes-with-physical-kill-switch-to-turn-off-camera-microphone-bluetooth-and-wi-fi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24167497</guid>
            <pubDate>Sat, 15 Aug 2020 09:40:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ZzFXM – A tiny JavaScript music system]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24166731">thread link</a>) | @KilledByAPixel
<br/>
August 15, 2020 | https://keithclark.github.io/ZzFXM/ | <a href="https://web.archive.org/web/*/https://keithclark.github.io/ZzFXM/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<header id="head">
  
  <h2>A tiny JavaScript music renderer for ZzFX.</h2>
  
  <p>Grab the code or contribute the project at <a href="https://github.com/keithclark/ZzFXM">GitHub</a>.
</p></header>

<section id="code">
  <h2>What is it?</h2>
  <p>ZzFXM is a tiny JavaScript function that generates stereo music tracks from patterns of note and instrument data.
  Instrument samples are created using a modified<sup>[<a href="#note-code-1">1</a>]</sup> version of the super-tiny <a href="https://github.com/KilledByAPixel/ZzFX">ZzFX</a> sound generator by <a href="https://twitter.com/KilledByAPixel">Frank Force</a>.
   </p><figure><pre><code>//! ZzFXM (v2.0.1) | (C) Keith Clark | MIT | https://github.com/keithclark/ZzFXM
zzfxM=(f,n,o,t=125)=&gt;{let z,e,l,r,g,h,x,a,u,c,d,i,m,p,G,M,R=[],b=[],j=[],k=0,q=1,s={},v=zzfxR/t*60&gt;&gt;2;for(;q;k++)R=[q=a=d=m=0],o.map((t,d)=&gt;{for(x=n[t][k]||[0,0,0],q|=!!n[t][k],G=m+(n[t][0].length-2-!a)*v,e=2,r=m;e&lt;x.length+(d==o.length-1);a=++e){for(g=x[e],u=c!=(x[0]||0)|g|0,l=0;l&lt;v&amp;&amp;a;l++&gt;v-99&amp;&amp;u?i+=(i&lt;1)/99:0)h=(1-i)*R[p++]/2||0,b[r]=(b[r]||0)+h*M-h,j[r]=(j[r++]||0)+h*M+h;g&amp;&amp;(i=g%1,M=x[1]||0,(g|=0)&amp;&amp;(R=s[[c=x[p=0]||0,g]]=s[[c,g]]||(z=[...f[c]],z[2]*=2**((g-12)/12),zzfxG(...z))))}m=G});return[b,j]}</code></pre><figcaption>The ZzFXM song generator function — 418 bytes (gzip)</figcaption></figure>   <p>ZzfxM was developed to create music for size-limited productions (i.e. js13k Games). The song format is loosely based on the tracker MOD format, using sequences of repeating patterns to create long songs from small chunks of music data.
  Songs are <em>highly</em> compressible. Once gzipped they're tiny — typically, a few hundred bytes.</p>


  <h2>Playing a song</h2>
  <p>Audio samples are compiled by passing instrument, pattern and sequence data to <code>zzfxM()</code>. The function returns a pair of arrays containing sample data for the left and right stereo channels.
  To play the rendered song, call <code>zzfxP()</code> using the generated sample data. The <code>zzfxM</code> function returns a <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode">AudioBufferSourceNode</a>, which you can use to control the song (stop it, looping etc.).</p>

  <figure><pre><code>const songData = [
  [/* zzfx instruments */],
  [/* patterns */],
  [/* sequence */],
  /* speed (BPM) */
];

const buffer = zzfxM(...songData);    // Generate the sample data
const node = zzfxP(...buffer);        // Play the song
</code></pre><figcaption>Example code</figcaption></figure>
<ul>
    <li id="note-code-1">[1] The modifications allow ZzFX to create an array of audio data without immediately playing it.</li>
  </ul>
</section>

<section id="demos">
  <header>
    
  </header>
      <div>
      <h2>
        Sanxion       </h2>
      
      <div>
        <figure><pre><code>[[[.4,0,9999,,,.1,,,,,,,.01,6.8,-.2],[1.4,0,84,,,.1,,.7,,,,.5,,6.7,1,.01],[,0,60,,.1,.1,2],[2,0,360,,,.12,2,2,,,,,,9,,.1],[.75,0,586,,,.25,6],[2,0,360,,,.3,2,3.5],[2,0,490,,.25],[.75,0,386,,,.25,6]],[[[,-1,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,],[2,-1,,20,8,8,20,8,,8,,20,,8,20,8,,20,,20,8,8,20,8,,8,,20,,8,20,8,,8,,20,8,8,20,8,,8,,20,,8,20,8,,8,,20,8,8,20,8,,8,,20,,8,20,8,,20],[,1,32,22,22,32,32,22,32,27,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,27,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,27,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,,20,,,20,,,20,20.5,20,,,20,,,20,,20,,,20,,,20,20.5,20,,,20,,,20,,20,,,20,,,20,20.5,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24.75,20.75,,,,,,,24.75,20.75,,,,21.75,20.75,,24.75,20.75,,,,,,,24.75,20.75,,,,21.75,20.75]],[[,-1,8,,,,,,8,,8,,,,,,8,,6,,,,,,6,,6,,,,,,6,,13,,,,,,13,,13,,,,,,13,,8,,,,,,8,,8,,,,,,8,,],[2,-1,,20,8,8,20,8,,8,,20,,8,20,8,,20,,18,6,6,18,6,,18,,18,,6,18,6,,6,,25,13,13,25,13,,13,,25,13.75,13,25,13,,25,,20,8,8,20,8,,8,,20,,8,20,8,,20],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[5,1,20,20,15,,18,,13,15,,11,,6,8,,18,20,11,11,13,,10,,13,18,23,23,22,,18,,13,,11,11,13,,25,,11,13,25,25,11,,13,,6,,8,,,,,,,,,,,,,,,,]],[[,-1,6,,,,,,6,,6,,,,,,6,,11,,,,,,11,,11,,,,,,11,,13,,,,,,13,,13,,,,,,13,,8,,,,,,8,,8,,,,,,8,,],[2,-1,,18,6,6,18,6,,6,,18,,6,18,6,,6,,23,11,11,23,11,,23,,23,,11,23,11,,11,,25,13,13,25,13,,13,,25,13.75,13,25,13,,25,,20,8,8,20,8,,8,,20,,8,20,8,,20],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[5,1,18,18,13,,11,,10,11,,11,,13,10,,11,13,23,23,22,,18,,13,,11,10,,18,11,,11,18,11,11,13,,25,,18,23,25,23,18,,23,23,18,,20,,20,18,11,,6,8,,,,,,,,,]],[[,-1,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,],[2,-1,,20,8,8,20,8,,8,,20,,8,20,8,,20,,20,8,8,20,8,,8,,20,,8,20,8,,8],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.5,20,,,20,,,20,,20,,,20,,,20,20.5],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,]],[[,-1,11,,,,,,11,,11,,,,,,11,,11,,,,,,11,,11,,,,,,11,,16,,,,,,16,,16,,,,,,16,,16,,,,,,16,,16,,,,,,16,,],[2,-1,,23,11,11,23,11,,11,,23,,11,23,11,,23,,23,11,11,23,11,,11,,23,,11,23,11,,11,,28,16,16,28,16,,16,,28,,16,28,16,,16,,28,16,16,28,16,,16,,28,,16,28,16,,16],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[6,1,15,,,,,,,,,,,,,,,,18,,,,,,,,,,,,15,18,15,18,18,,,,20,,,,,,,,,,,,23,,,,,,,,,,,,20,23,20,23]],[[,-1,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,15,,,,,,15,,15,,,,,,15,,15,,,,,,15,,15,,,,,,15,,],[2,-1,,25,13,13,25,13,,25,,25,,13,25,13,,13,,25,13,13,25,13,,25,,25,,13,25,13,,25,,27,15,15,27,15,,27,,27,,15,27,15,,15,,27,15,15,27,15,,27,,27,,15,27,15,,15],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[6,1,25,,,,,,,,,,,,,,,,,,,,,,,,,,,,20,23,25,,27,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[2,-1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[4,1,3,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,,,,,,,,,],[7,1,,,,,,,,,,,,,,,,,,,,,,,,,18,18,,18,13,13,10,10]],[[,-1,4,,,,,,4,,4,,,,,,4,,4,,,,,,4,,4,,,,,,4,,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,],[2,-1,,16,4,4,16,4,,16,,16,,4,16,4,,16,,16,4,4,16,4,,4,,16,,4,16,4,,4,,25,13,13,25,13,,13,,25,,13,25,13,,13,,25,13,13,25,13,,25,,25,,13,25,13,,13],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[6,1,4,,,,,,11,,,,,,16,,,,21,,,,,,20,,,,,,20,,,,11,,,,,,13,,,,,,13,,,,11,,,,,,13,,,13,,,11,11,13,13]],[[,-1,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,6,,,,,,6,,6,,,,,,6,,6,,,,,,6,,6,,,,,,6,,],[2,-1,,20,8,8,20,8,,8,,20,,8,20,8,,20,,20,8,8,20,8,,8,,20,,8,20,8,,8,,18,6,6,18,6,,18,,18,,6,18,6,,18,,18,6,6,18,6,,18,,18,,6,18,6,,18],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[6,1,8,,,,,,18,,,,,,,,,,11,,,,,,22,,,,,,,,,,,,,,18,,,,,,,,,,,,18,18,18,18,18,18,18,18,20,20,20,20,18,18,18,18],[5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18,,,,,,,,,,,,,,,,,,]],[[,-1,4,,,,,,4,,4,,,,,,4,,4,,,,,,4,,4,,,,,,4,,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,],[2,-1,,16,4,4,16,4,,16,,16,,4,16,4,,16,,16,4,4,16,4,,4,,16,,4,16,4,,4,,25,13,13,25,13,,13,,25,,13,25,13,,13,,25,13,13,25,13,,25,,25,,13,25,13,,13],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25],[3,-1,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,,,,,32,,,,],[6,1,4.25,,,,16,,16,,,,,,,,16,,,,18,,15,,,,13,,11,,,,,,1,,,,16,,16,,,,,,,,21,,,,23,,20,,,,18,,16,,11,,9,,]],[[,-1,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,8,,,,,,8,,6,,,,,,6,,6,,,,,,6,,6,,,,,,6,,6,,,,,,6,,],[2,-1,,20,8,8,20,8,,8,,20,,8,20,8,,20,,20,8,8,20,8,,8,,20,,8,20,8,,8,,18,6,6,18,6,,18,,18,,6,18,6,,18,,18,6,6,18,6,,18,,18,,6,18,6,,18],[,1,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32,32,22,22,32,32,22,32,22,32,22,22,32,32,22,32,32],[1,-1,20,,,20,,,20,22.5,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,20,,,20,,,20,20.25,20,,,20,,,20,,…</code></pre></figure></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://keithclark.github.io/ZzFXM/">https://keithclark.github.io/ZzFXM/</a></em></p>]]>
            </description>
            <link>https://keithclark.github.io/ZzFXM/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24166731</guid>
            <pubDate>Sat, 15 Aug 2020 07:14:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Types as axioms, or: playing god with static types]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 25 (<a href="https://news.ycombinator.com/item?id=24166594">thread link</a>) | @pcr910303
<br/>
August 14, 2020 | https://lexi-lambda.github.io/blog/2020/08/13/types-as-axioms-or-playing-god-with-static-types/ | <a href="https://web.archive.org/web/*/https://lexi-lambda.github.io/blog/2020/08/13/types-as-axioms-or-playing-god-with-static-types/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section role="main">
        <!-- Main column -->
        <div>



          <article>
  <header>
    
    
  </header>

<p>Just what exactly <em>is</em> a type?</p>

<p>A common perspective is that types are <em>restrictions</em>. Static types restrict the set of values a variable may contain, capturing some subset of the space of “all possible values.” Under this worldview, a typechecker is sort of like an oracle, predicting which values will end up where when the program runs and making sure they satisfy the constraints the programmer wrote down in the type annotations. Of course, the typechecker can’t <em>really</em> predict the future, so when the typechecker gets it wrong—it can’t “figure out” what a value will be—static types can feel like self-inflicted shackles.</p>

<p>But that is not the <em>only</em> perspective. There is another way—a way that puts you, the programmer, back in the driver’s seat. You make the rules, you call the shots, you set the objectives. You need not be limited any longer by what the designers of your programming language decided the typechecker can and cannot prove. You do not serve the typechecker; the typechecker serves <em>you.</em></p>

<p>…no, I’m not trying to sell you a dubious self-help book for programmers who feel like they’ve lost control of their lives. If the above sounds too good to be true, well… I won’t pretend it’s all actually as easy as I make it sound. Nevertheless, it’s well within the reach of the working programmer, and most remarkably, all it takes is a change in perspective.</p>
<!-- more-->



<p>Let’s talk a little about TypeScript.</p>

<p>TypeScript is a <em>gradually-typed</em> language, which means it’s possible to mix statically- and dynamically-typed code. The original intended use case of gradual typing was to <em>gradually</em> add static types to an existing dynamically-typed codebase, which imposes some interesting design constraints. For one, a valid JavaScript program must also be a valid TypeScript program; for another, TypeScript must be accommodating of traditional JavaScript idioms.</p>

<p>Gradually typed languages like TypeScript are particularly good illustrations of the way type annotations can be viewed as constraints. A function with no explicit type declarations<sup><a href="#2020-08-13-types-as-axioms-or-playing-god-with-static-types-footnote-1-definition" name="2020-08-13-types-as-axioms-or-playing-god-with-static-types-footnote-1-return">1</a></sup> can accept <em>any</em> JavaScript value, so adding a type annotation fundamentally restricts the set of legal values.</p>

<p>Furthermore, languages like TypeScript tend to have subtyping. This makes it easy to classify certain types as “more restrictive” than others. For example, a type like <code>string | number</code> clearly includes more values than just <code>number</code>, so <code>number</code> is a more restrictive type—a <em>subtype</em>.</p>

<p>An exceptionally concrete way to illustrate this “types are restrictions” mentality is to write a function with an unnecessarily specific type. Here’s a TypeScript function that returns the first element in an array of numbers:</p>

<div>
 <div>
  <pre><span></span><span>function</span> <span>getFirst</span><span>(</span><span>arr</span>: <span>number</span><span>[])</span><span>:</span> <span>number</span> <span>|</span> <span>undefined</span> <span>{</span>
  <span>return</span> <span>arr</span><span>[</span><span>0</span><span>];</span>
<span>}</span>
</pre></div>

</div>

<p>This function would work perfectly well given a list of strings, but if you write <code>getFirst(["hello", "world"])</code>, the typechecker will complain. Of course, in this example the restriction is thoroughly self-imposed—it would be easy to give this function a generic type—but sometimes it’s not quite so easy. For example, suppose we write a function where the return type depends upon the type of the argument:</p>

<div>
 <div>
  <pre><span></span><span>function</span> <span>emptyLike</span><span>(</span><span>val</span>: <span>number</span> <span>|</span> <span>string</span><span>)</span><span>:</span> <span>number</span> <span>|</span> <span>string</span> <span>{</span>
  <span>if</span> <span>(</span><span>typeof</span> <span>val</span> <span>===</span> <span>"number"</span><span>)</span> <span>{</span>
    <span>return</span> <span>0</span><span>;</span>
  <span>}</span> <span>else</span> <span>{</span>
    <span>return</span> <span>""</span><span>;</span>
  <span>}</span>
<span>}</span>
</pre></div>

</div>

<p>Now if we write <code>emptyLike(42) * 10</code>, the typechecker will once again complain, claiming the result could be a string—it can’t “figure out” that when we pass a number, we always get a number back.</p>

<p>When type systems are approached from this perspective, the result is often frustration. The programmer knows that the equivalent untyped JavaScript is perfectly well-behaved, so the typechecker comes off as being the highly unfortunate combination of stubborn yet dim-witted. What’s more, the programmer likely has little mental model of the typechecker’s internal operation, so when types like the above are inferred (not explicitly written), it can be unclear what solutions exist to make the error go away.</p>

<p>At this point, the programmer may give up. “Stupid typechecker,” they grumble, changing the return type of <code>emptyLike</code> to <code>any</code>. “If it can’t even figure this out, can it <em>really</em> be all that useful?”</p>

<p>Sadly, this relationship with the typechecker is all too common, and gradually-typed languages in particular tend to create a vicious cycle of frustration:</p>

<ul>
 <li>
  <p>Gradual type systems are intentionally designed to “just work” on idiomatic code as much as possible, so programmers may not think much about the types except when they get type errors.</p></li>
 <li>
  <p>Furthermore, many programmers using gradually-typed languages are already adept at programming in the underlying dynamically-typed language, so they have working mental models of program operation in terms of the dynamic semantics alone. They are much less likely to develop a rich mental model of the static semantics of the type system because they are used to reasoning without one.</p></li>
 <li>
  <p>Gradually typed languages must support idioms from their dynamically-typed heritage, so they often include ad-hoc special cases (such as, for example, special treatment of <code>typeof</code> checks) that obscure the rules the typechecker follows and make them seem semi-magical.</p></li>
 <li>
  <p>Builtin types are deeply blessed in the type system, strongly encouraging programmers to embrace their full flexibility, but leaving little recourse when they run up against their limits.</p></li>
 <li>
  <p>All this frustration breeds a readiness to override the typechecker using casts or <code>any</code>, which ultimately creates a self-fulfilling prophecy in which the typechecker rarely catches any interesting mistakes because it has been so routinely disabled.</p></li></ul>

<p>The end result of all of this is a defeatist attitude that views the typechecker as a minor tooling convenience at best (i.e. a fancy autocomplete provider) or an active impediment at worst. Who can really blame them? The type system has (unintentionally of course) been designed in such a way so as to lead them into this dead end. The public perception of type systems settles into that of a strikingly literal nitpicker we endure rather than as a tool we actively leverage.</p>



<p>After everything I said above, it may be hard to imagine seeing types any other way. Indeed, through the lens of TypeScript, the “types are restrictions” mentality is incredibly natural, so much so that it seems self-evident. But let’s move away from TypeScript for a moment and focus on a different language, Haskell, which encourages a somewhat different perspective. If you aren’t familiar with Haskell, that’s alright—I’m going to try to keep the examples in this blog post as accessible as possible whether you’ve written any Haskell or not.</p>

<p>Though Haskell and TypeScript are both statically-typed—and both of their type systems are fairly sophisticated—Haskell’s type system is almost completely different philosophically:</p>

<ul>
 <li>
  <p>Haskell does not have subtyping,<sup><a href="#2020-08-13-types-as-axioms-or-playing-god-with-static-types-footnote-2-definition" name="2020-08-13-types-as-axioms-or-playing-god-with-static-types-footnote-2-return">2</a></sup> which means that every value belongs to exactly one type.</p></li>
 <li>
  <p>While JavaScript is built around a small handful of flexible builtin datatypes (booleans, numbers, strings, arrays, and objects), Haskell has essentially no blessed, built-in datatypes other than numbers. Key types such as booleans, lists, and tuples are ordinary datatypes defined in the standard library, no different from types users could define.<sup><a href="#2020-08-13-types-as-axioms-or-playing-god-with-static-types-footnote-3-definition" name="2020-08-13-types-as-axioms-or-playing-god-with-static-types-footnote-3-return">3</a></sup></p></li>
 <li>
  <p>In particular, Haskell is built around the idea that datatypes can be defined with multiple <em>cases</em>, and branching is done via pattern-matching (more on this shortly).</p></li></ul>

<p>Let’s look at a basic Haskell datatype declaration. Suppose we want to define a type that represents a season:</p>

<div>
 <div>
  <pre><span></span><span>data</span> <span>Season</span> <span>=</span> <span>Spring</span> <span>|</span> <span>Summer</span> <span>|</span> <span>Fall</span> <span>|</span> <span>Winter</span>
</pre></div>

</div>

<p>If you are familiar with TypeScript, this may look rather similar to a union type; if you’re familiar with a C-family language, this may remind you more of an enum. Both are on the right track: this defines a new type named <code>Season</code> with four possible values, <code>Spring</code>, <code>Summer</code>, <code>Fall</code>, and <code>Winter</code>.</p>

<p>But what exactly <em>are</em> those values?</p>

<ul>
 <li>
  <p>In TypeScript, we’d represent this type with a union of strings, like this:</p>
  <div>
   <div>
    <pre><span></span><span>type</span> <span>Season</span> <span>=</span> <span>"spring"</span> <span>|</span> <span>"summer"</span> <span>|</span> <span>"fall"</span> <span>|</span> <span>"winter"</span><span>;</span>
</pre></div>

</div>
  <p>Here, <code>Season</code> is a type that can be one of those four strings, but nothing else.</p></li>
 <li>
  <p>In C, we’d represent this type with an enum, like this:</p>
  <div>
   <div>
    <pre><span></span><span>enum</span> <span>season</span> <span>{</span> <span>SPRING</span><span>,</span> <span>SUMMER</span><span>,</span> <span>FALL</span><span>,</span> <span>WINTER</span> <span>};</span>
</pre></div>

</div>
  <p>Here, <code>SPRING</code>, <code>SUMMER</code>, <code>FALL</code>, and <code>WINTER</code> are essentially defined to be global aliases for the integers <code>0</code>, <code>1</code>, <code>2</code>, and <code>3</code>, and the type <code>enum season</code> is essentially an alias for <code>int</code>.</p></li></ul>

<p>So in TypeScript, the values are strings, and in C, the values are numbers. What are they in Haskell? Well… they simply <em>are</em>.</p>

<p>The Haskell declaration invents four completely new constants out of thin air, <code>Spring</code>, <code>Summer</code>, <code>Fall</code>, and <code>Winter</code>. They aren’t aliases for numbers, nor are they symbols or strings. The compiler doesn’t expose anything about how it chooses to represent these values at runtime; that’s an implementation detail. In Haskell, <code>Spring</code> is now a value <em>distinct from all other values</em>, even if someone in a different module were to also use the name <code>Spring</code>. Haskell type declarations let us play god, creating something from nothing.</p>

<p>Since these values are totally unique, abstract constants, what can we actually do with them? The answer is one thing and <em>exactly</em> one thing: we can branch on them. For example, we can write a function that takes a <code>Season</code> as an argument and returns whether or not Christmas occurs during it:</p>

<div>
 <div>
  <pre><span></span><span>containsChristmas</span> <span>::</span> <span>Season</span> <span>-&gt;</span> <span>Bool</span>
<span>containsChristmas</span> <span>season</span> <span>=</span> <span>case</span> <span>season</span> <span>of</span>
  <span>Spring</span> <span>-&gt;</span> <span>False</span>
  <span>Summer</span> <span>-&gt;</span> <span>True</span>  <span>-- southern hemisphere</span>
  <span>Fall</span>   <span>-&gt;</span> <span>False</span>
  <span>Winter</span> <span>-&gt;</span> <span>True</span>  <span>-- northern hemisphere</span>
</pre></div>

</div>

<p><code>case</code> expressions are, to a first approximation, a lot like C-style <code>switch</code> statements (though they can do a lot more than this simple example suggests). Using <code>case</code>, we can also define conversions from our totally unique <code>Season</code> constants to other types, if we want:</p>

<div>
 <div>
  <pre><span></span><span>seasonToString</span> <span>::</span> <span>Season</span> <span>-&gt;</span> <span>S…</span></pre></div></div></article></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lexi-lambda.github.io/blog/2020/08/13/types-as-axioms-or-playing-god-with-static-types/">https://lexi-lambda.github.io/blog/2020/08/13/types-as-axioms-or-playing-god-with-static-types/</a></em></p>]]>
            </description>
            <link>https://lexi-lambda.github.io/blog/2020/08/13/types-as-axioms-or-playing-god-with-static-types/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24166594</guid>
            <pubDate>Sat, 15 Aug 2020 06:44:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Askgit – A SQL interface to your Git repository]]>
            </title>
            <description>
<![CDATA[
Score 168 | Comments 30 (<a href="https://news.ycombinator.com/item?id=24166489">thread link</a>) | @pcr910303
<br/>
August 14, 2020 | https://willschenk.com/articles/2020/using_askgit/ | <a href="https://web.archive.org/web/*/https://willschenk.com/articles/2020/using_askgit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p><a href="https://github.com/augmentable-dev/askgit">askgit</a> provides a sql interface to your git repository. Lets install
it and see what we can figure out about the repo.</p><h2 id="headline-1">Installing</h2><p>Following the instructions on the website, we can build the go binary
with:</p><div><div><pre><code data-lang="bash">go get -v -tags<span>=</span>sqlite_vtable github.com/augmentable-dev/askgit</code></pre></div></div><p>This will download the package, the dependancies, and compile
everything up into an executable. If you can't figure out where it's
installed, check that you have <code>GOPATH</code> set correctly, and it will end
up in <code>$GOPATH/bin</code>. And make sure that its in your path by checking
<code>which askgit</code>.</p><h2 id="headline-2">Get a test repository</h2><p>I'm going to look at the <code>ruby-git</code> repo so you can follow along.</p><div><div><pre><code data-lang="bash"><span>cd</span> /tmp
git clone https://github.com/ruby-git/ruby-git
<span>cd</span> ruby-git</code></pre></div></div><h2 id="headline-3">Commits</h2><p>The basic unit that git works on is a commit, which is a series of
file changes applied to a parent. Or multiple parents in the case of
a merge. Lets do some basic analysis of what's in a repo, how long
it's been working on, and who has been working on it.</p><h3 id="headline-4">How old is the repo?</h3><p>Lets find the earliest timestamps in the repo. For most workflows
these dates will be similar, but if the project shares patches over
email (like linux or postgres or anything on <a href="https://sr.ht/">sr.ht</a>) the <code>author_when</code> is
when the code was written (according to the author) and the
<code>committer_when</code> is when it was added to the repo.</p><div><div><pre><code data-lang="bash">
askgit <span>"select min(author_when), min(committer_when) from commits"</span>
+---------------------------+---------------------------+
<span>|</span>     MIN<span>(</span>AUTHOR WHEN<span>)</span>      <span>|</span>    MIN<span>(</span>COMMITTER WHEN<span>)</span>    <span>|</span>
+---------------------------+---------------------------+
<span>|</span> 2007-11-07T12:54:26-08:00 <span>|</span> 2007-11-07T12:54:26-08:00 <span>|</span>
+---------------------------+---------------------------+</code></pre></div></div><h3 id="headline-5">First commit</h3><p>And here's who did it:</p><div><div><pre><code data-lang="bash">askgit <span>"select message, author_name, author_email, author_when from commits order by committer_when asc limit 1"</span>
+-------------------------------+--------------+-------------------------------------------+---------------------------+
<span>|</span>            MESSAGE            <span>|</span> AUTHOR NAME  <span>|</span>               AUTHOR EMAIL                <span>|</span>        AUTHOR WHEN        <span>|</span>
+-------------------------------+--------------+-------------------------------------------+---------------------------+
<span>|</span> beginning of Ruby/Git project <span>|</span> scott Chacon <span>|</span> schacon@agadorsparticus.corp.reactrix.com <span>|</span> 2007-11-07T12:54:26-08:00 <span>|</span>
+-------------------------------+--------------+-------------------------------------------+---------------------------+</code></pre></div></div><h3 id="headline-6">Biggest commit</h3><p>Which commits added the most code?</p><div><div><pre><code data-lang="bash">askgit <span>"select summary, author_name, author_when, additions from commits order by additions desc limit 10"</span>
+--------------------------------+---------------+---------------------------+-----------+
<span>|</span>            SUMMARY             <span>|</span>  AUTHOR NAME  <span>|</span>        AUTHOR WHEN        <span>|</span> ADDITIONS <span>|</span>
+--------------------------------+---------------+---------------------------+-----------+
<span>|</span> added documentation and a      <span>|</span> scott Chacon  <span>|</span> 2007-11-11T17:59:18-08:00 <span>|</span>     <span>12707</span> <span>|</span>
<span>|</span> license file                   <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> updated a bunch of the         <span>|</span> scott Chacon  <span>|</span> 2007-11-13T07:36:50-08:00 <span>|</span>      <span>2223</span> <span>|</span>
<span>|</span> documentation                  <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> updated the docs               <span>|</span> scott Chacon  <span>|</span> 2007-11-16T13:24:30-08:00 <span>|</span>      <span>2109</span> <span>|</span>
<span>|</span> updated docs                   <span>|</span> scott Chacon  <span>|</span> 2007-11-19T07:34:25-08:00 <span>|</span>      <span>1448</span> <span>|</span>
<span>|</span> added push, changed some docs, <span>|</span> scott Chacon  <span>|</span> 2007-11-12T10:55:39-08:00 <span>|</span>      <span>1193</span> <span>|</span>
<span>|</span> merged README and EXAMPLES,    <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> fixed the Rake tasks to build  <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> a proper gem                   <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> Implementation and tests       <span>|</span> James Couball <span>|</span> 2019-12-11T10:04:03-08:00 <span>|</span>       <span>763</span> <span>|</span>
<span>|</span> required to ensure that        <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> <span>command</span> output encoding does   <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> not raise an exception <span>(</span><span>#405)  |               |                           |           |</span>
<span>|</span> added files from the           <span>|</span> scott Chacon  <span>|</span> 2007-11-20T12:07:46-08:00 <span>|</span>       <span>749</span> <span>|</span>
<span>|</span> gitrb project, which seems     <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> abandoned, but which is great  <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> code                           <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> adding my testing git          <span>|</span> scott Chacon  <span>|</span> 2007-11-11T17:11:19-08:00 <span>|</span>       <span>711</span> <span>|</span>
<span>|</span> directory                      <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> added branches, more log       <span>|</span> scott Chacon  <span>|</span> 2007-11-09T13:11:22-08:00 <span>|</span>       <span>522</span> <span>|</span>
<span>|</span> stuff, better tests, changed   <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> the log api a bit added        <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> tests <span>for</span> Git::Lib, started    <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> Git::Diff development          <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> added some testing files and   <span>|</span> scott Chacon  <span>|</span> 2007-11-07T17:19:09-08:00 <span>|</span>       <span>486</span> <span>|</span>
<span>|</span> got some real tests to run     <span>|</span>               <span>|</span>                           <span>|</span>           <span>|</span>
+--------------------------------+---------------+---------------------------+-----------+</code></pre></div></div><p>We can see that these are at all the beginning of the project.</p><h3 id="headline-7">Biggest cleanup</h3><p>Which commit removed the most code?</p><div><div><pre><code data-lang="bash">askgit <span>"select summary, author_name, author_when, deletions from commits order by deletions desc limit 10"</span>
+--------------------------------+--------------------+---------------------------+-----------+
<span>|</span>            SUMMARY             <span>|</span>    AUTHOR NAME     <span>|</span>        AUTHOR WHEN        <span>|</span> DELETIONS <span>|</span>
+--------------------------------+--------------------+---------------------------+-----------+
<span>|</span> remove doc from revision       <span>|</span> Jonathan Rudenberg <span>|</span> 2008-12-24T08:08:19+08:00 <span>|</span>     <span>14822</span> <span>|</span>
<span>|</span> control                        <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> updated docs                   <span>|</span> scott Chacon       <span>|</span> 2007-11-19T07:34:25-08:00 <span>|</span>      <span>1311</span> <span>|</span>
<span>|</span> updated the docs               <span>|</span> scott Chacon       <span>|</span> 2007-11-16T13:24:30-08:00 <span>|</span>      <span>1141</span> <span>|</span>
<span>|</span> updated a bunch of the         <span>|</span> scott Chacon       <span>|</span> 2007-11-13T07:36:50-08:00 <span>|</span>      <span>1061</span> <span>|</span>
<span>|</span> documentation                  <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> reverted the pure ruby code    <span>|</span> Scott Chacon       <span>|</span> 2008-03-08T18:14:15-08:00 <span>|</span>      <span>1050</span> <span>|</span>
<span>|</span> to system calls and split the  <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> pure ruby to a new library     <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> added push, changed some docs, <span>|</span> scott Chacon       <span>|</span> 2007-11-12T10:55:39-08:00 <span>|</span>       <span>976</span> <span>|</span>
<span>|</span> merged README and EXAMPLES,    <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> fixed the Rake tasks to build  <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> a proper gem                   <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> Cleaning up unused files/tasks <span>|</span> robertodecurnex    <span>|</span> 2014-02-03T18:14:29-03:00 <span>|</span>       <span>750</span> <span>|</span>
<span>|</span> have the pure ruby bindings    <span>|</span> scott Chacon       <span>|</span> 2007-11-20T13:24:44-08:00 <span>|</span>       <span>393</span> <span>|</span>
<span>|</span> working to some degree         <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
<span>|</span> add markdown styling to readme <span>|</span> schneems           <span>|</span> 2011-10-19T16:30:26-05:00 <span>|</span>       <span>240</span> <span>|</span>
<span>|</span> added documentation and a      <span>|</span> scott Chacon       <span>|</span> 2007-11-11T17:59:18-08:00 <span>|</span>       <span>179</span> <span>|</span>
<span>|</span> license file                   <span>|</span>                    <span>|</span>                           <span>|</span>           <span>|</span>
+--------------------------------+--------------------+---------------------------+-----------+</code></pre></div></div><p>Again most of these are at the beginning of the project, through there
is a big 2014 cleanup that is probably a refactor of some kind.</p><h3 id="headline-8">How many commits do we have?</h3><p>We've all seen this query before:</p><div><div><pre><code data-lang="bash">askgit <span>"select count(*) from commits"</span>
+----------+
<span>|</span> COUNT<span>(</span>*<span>)</span> <span>|</span>
+----------+
<span>|</span>      <span>402</span> <span>|</span>
+----------+</code></pre></div></div><h3 id="headline-9">How about most frequent multi-commiter?</h3><p>Lets group the commits by <code>author_name</code> and sort by the most commiters.
It looks like somewhere down the line <code>scott Chacon</code> changed to <code>Scott
Chacon</code> so he's counted twice. Still, looks like he's been doing a
lot.</p><div><div><pre><code data-lang="bash">askgit <span>"select count(*) as count, author_name from commits group by author_name having count &gt; 1 order by count desc"</span>
+-------+--------------------+
<span>|</span> COUNT <span>|</span>    AUTHOR NAME     <span>|</span>
+-------+--------------------+
<span>|</span>    <span>81</span> <span>|</span> scott Chacon       <span>|</span>
<span>|</span>    <span>78</span> <span>|</span> robertodecurnex    <span>|</span>
<span>|</span>    <span>77</span> <span>|</span> Roberto Decurnex   <span>|</span>
<span>|</span>    <span>20</span> <span>|</span> Scott Chacon       <span>|</span>
<span>|</span>    <span>20</span> <span>|</span> Joshua Nichols     <span>|</span>
<span>|</span>     <span>9</span> <span>|</span> Per Lundberg       <span>|</span>
<span>|</span>     <span>9</span> <span>|</span> James Couball      <span>|</span>
<span>|</span>     <span>8</span> <span>|</span> Daniel Mendler     <span>|</span>
<span>|</span>     <span>5</span> <span>|</span> Vern Burton        <span>|</span>
<span>|</span>     <span>5</span> <span>|</span> Kelly Stannard     <span>|</span>
<span>|</span>     <span>4</span> <span>|</span> elliottcable       <span>|</span>
<span>|</span>     <span>4</span> <span>|</span> Josh Nichols       <span>|</span>
<span>|</span>     <span>4</span> <span>|</span> James Rosen        <span>|</span>
<span>|</span>     <span>3</span> <span>|</span> Yuichi Tateno      <span>|</span>
<span>|</span>     <span>3</span> <span>|</span> Michael Mallete    <span>|</span>
<span>|</span>     <span>3</span> <span>|</span> Jorge Bernal       <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Yuya.Nishida       <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Yuta Harima        <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> TIT                <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Joshua Liebowitz   <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Jonathan Rudenberg <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Joe Moore          <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Gianni Chiappetta  <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Eric Goodwin       <span>|</span>
<span>|</span>     <span>2</span> <span>|</span> Cameron Walsh      <span>|</span>
+-------+--------------------+</code></pre></div></div><h3 id="headline-10">Commits by month</h3><p>We can look at the activity of the project over time using the sqlite
date functions. We can see that there's a lot of activity in the
beginning and it trails off.</p><div><div><pre><code data-lang="bash"><span>cd</span> /tmp/ruby-git
askgit <span>"select strftime(\"%Y-%m\", author_when) as 'month', 
</span><span>       count(*) as total_commits, sum(additions), sum(deletions)
</span><span>       from commits group by strftime(\"%Y-%me\", author_when) order by strftime(\"%Y-%m\", author_when);"</span></code></pre></div></div><pre>+---------+---------------+----------------+----------------+
|  MONTH  | TOTAL COMMITS | SUM(ADDITIONS) | SUM(DELETIONS) |
+---------+---------------+----------------+----------------+
| 2007-11 |            …</pre></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://willschenk.com/articles/2020/using_askgit/">https://willschenk.com/articles/2020/using_askgit/</a></em></p>]]>
            </description>
            <link>https://willschenk.com/articles/2020/using_askgit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24166489</guid>
            <pubDate>Sat, 15 Aug 2020 06:23:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using an old BlackBerry as a portable SSH or Telnet terminal]]>
            </title>
            <description>
<![CDATA[
Score 98 | Comments 51 (<a href="https://news.ycombinator.com/item?id=24166402">thread link</a>) | @todsacerdoti
<br/>
August 14, 2020 | https://rqsall.com/posts/using-an-old-blackberry-as-a-portable-ssh-terminal | <a href="https://web.archive.org/web/*/https://rqsall.com/posts/using-an-old-blackberry-as-a-portable-ssh-terminal">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-copy">


<h2 id="using-an-old-blackberry-as-a-portable-ssh-or-telnet-terminal">Using an old BlackBerry as a portable SSH (or Telnet) terminal</h2>
<p>You used to see BlackBerries everywhere. Sites such as CrackBerry detailed sightings of celebrities using them constantly. Nowadays, not so much. However, I believe they still have some usecases today. One of these is as a portable terminal. Here's why one might want to use one of these devices as a terminal:</p>
<ul>
<li>Nice built-in physical keyboard</li>
<li>Long standby battery life
<ul>
<li>Easily swappable batteries (see my Altoids tin filled with batteries below!)</li>
<li>The 7290 I'm using reportedly has a 216 hour standby battery life, and unlike modern phones this number seems to hold up relatively well even with network enabled</li>
</ul></li>
<li>Affordable
<ul>
<li>You can easily find these devices for ~$20 on eBay</li>
<li>You can get a 100 MB data plan from US Mobile for $2/mo. not including fees (closer to $5/mo. with fees)</li>
</ul></li>
<li>Extremely portable
<ul>
<li>Much smaller than other devices one might use for this kind of thing
<ul>
<li>OpenPandora</li>
<li>GPD Pocket</li>
<li>etc.</li>
</ul></li>
<li>Much shorter than most modern phones</li>
<li>Cellular connection means you don't need a wireless router around</li>
</ul></li>
<li>Decently rugged
<ul>
<li>Not nearly as prone to failure after drops as modern smartphones (in my experience)
<ul>
<li>The screen is recessed, so it doesn't take the brunt of falls</li>
</ul></li>
</ul></li>
<li>Easy to setup
<ul>
<li>You can simply browse to <a href="http://xk72.com/wap">http://xk72.com/wap</a> on the phone itself to install an SSH client (MidpSSH) over the air</li>
</ul></li>
</ul>
<p>I've been using a BlackBerry 7290 on the US Mobile network, which still supports GSM for now. It's notable that the SSH negotiation is decently slow (~30-45 seconds), but is decently usable after connected (things are still a little sluggish however). Furthermore, I had to reenable the weak DSA public key algorithm as well. This doesn't bother me so much as I basically have a middleman server that allows this weak standard that I talk to everything else through rather than enabling it on every server.</p>
<p>To make things easier on myself, I wrote an <a href="https://rqsall.com/posts/files/postlogin.txt">interactive script</a> that is sourced by <code>.bashrc</code> upon logging in that asks what I actually want to connect to and then does so for me.</p>
<p>In the future, I might move to a BlackBerry 8700(c/g) as they support EDGE (much faster network speed), have much faster CPUs, and a higher standby time. I am not sure what I am going to do in the long run, as 2G networks in the US will probably all be shut down by the end of the year with 3G soon to follow. I guess I can just enjoy it while it lasts.</p>
<p>Here are the lines I added to my <code>sshd</code> config for the BlackBerry to be able to connect:</p>
<pre><code>HostKeyAlgorithms +ssh-dss
PubkeyAcceptedKeyTypes +ssh-dss
KexAlgorithms +diffie-hellman-group1-sha1
Ciphers +3des-cbc
</code></pre>
<p>And here are some pictures!</p>
<p><img src="https://rqsall.com/posts/files/connected.jpg"></p>
<p><em>Connected and at the interactive prompt</em></p>
<p><img src="https://rqsall.com/posts/files/top.jpg"></p>
<p><em><code>top</code> output from one server</em></p>
<p><img src="https://rqsall.com/posts/files/htop.jpg"></p>
<p><em><code>htop</code> output from another server</em></p>
<p><img src="https://rqsall.com/posts/files/altoids.jpg"></p>
<p><em>Spare batteries kept in an Altoids tin</em></p>


</div></div>]]>
            </description>
            <link>https://rqsall.com/posts/using-an-old-blackberry-as-a-portable-ssh-terminal</link>
            <guid isPermaLink="false">hacker-news-small-sites-24166402</guid>
            <pubDate>Sat, 15 Aug 2020 06:06:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mozilla’s Uncertain Future]]>
            </title>
            <description>
<![CDATA[
Score 394 | Comments 391 (<a href="https://news.ycombinator.com/item?id=24166385">thread link</a>) | @jonathankoren
<br/>
August 14, 2020 | https://civilityandtruth.com/2020/08/13/mozillas-uncertain-future/ | <a href="https://web.archive.org/web/*/https://civilityandtruth.com/2020/08/13/mozillas-uncertain-future/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="text">
        
        <figure>
  <p><a href="https://civilityandtruth.com/assets/images/mozilla-revenues-vs-expenses.png"><img src="https://civilityandtruth.com/assets/images/mozilla-revenues-vs-expenses.png" alt="Graph of Mozilla revenues compared to expenses"></a></p>
  <figcaption>The graph above shows the consolidated revenues and
expenses of the Mozilla Foundation and Mozilla Corporation from the
Foundation’s founding in 2003 through 2018. Almost all of the revenues
and expenses are associated with the Mozilla Corporation, and almost
all of the revenues of the Mozilla Corporation are from Google and
other search engine providers. Graph © 2020 Frank Hecker, made
available under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons
Attribution 4.0 International license</a>.</figcaption>
</figure>

<p><em>tl;dr: Some thoughts on Mozilla for people who don’t know Mozilla.</em></p>

<p>By now everyone in the tech world has heard of the major layoffs at
the Mozilla Corporation, the organization that creates and distributes
the Firefox web browser. (For those who haven’t heard, about 250
people were laid off, about a quarter of the work force.) Lots of
people in the tech world have spoken their piece about the
significance of this event and what it means for the future of
Mozilla, the web, and so on.</p>

<p>Rather than write something of and for the tech world, I wanted to
briefly explain what’s going on for those of my readers who don’t know
HTML from XML, and who are more familar with the worlds of nonprofits
and regular old businesses. I used to work for Mozilla, and have more
knowledge of it and (I hope) insight into it than most people, but
I’ve been gone from Mozilla for ten years now. Thus what I write below
is based on observing it from a distance, like seeing an old friend
whose life has long since diverged from mine.</p>

<p>Disclaimer: I work for a tech company, and I don’t usually write about
other tech companies. So I will strongly emphasize that what I write
here are my personal opinions only, and do not represent the positions
of my present employer or past employers.</p>

<h2 id="what-is-mozilla">What is Mozilla?</h2>

<p>Mozilla is actually two things, the Mozilla Foundation and the Mozilla
Corporation, which are often confused and conflated in public
discourse. (There’s actually at least one other piece, but these two
are the main ones.) The Mozilla Foundation, founded in 2003 to take
over development of the source code for the Netscape web browser, is a
501(c)(3) tax-exempt nonprofit organization, with a staff of 80 people
and a budget of about $27 million in 2018, the last year for which
figures are available. The Mozilla Corporation, founded in 2005, is a
for-profit business, wholly owned by the Mozilla Foundation, with a
staff of about a thousand and revenue of about $440 million, again
from the 2018 financials.</p>

<p>This organizational structure was designed to allow the Mozilla
Corporation to engage in business activities which would be
incompatible with 501(c)(3) status, with a portion of the revenues
from those activities directed to the Mozilla Foundation to help fund
its activities. Having a nonprofit parent also means that the
management and employees of the Mozilla Corporation can help serve the
public benefit goals of the Mozilla Foundation, while still having
interesting jobs, being paid reasonably well, and feeling themselves
to be part of the overall Silicon Valley high-tech milieu.</p>

<p>Second: The customers of the Mozilla Corporation are not the users of
Firefox (among whom you may count yourself). The Mozilla Corporation’s
customers are large corporations like Google that pay for things that
will help them make money, most notably having their Internet search
service be the default in the Firefox browser. And to complete the old
saying, “If you’re not the customer…”, then the 200+ million Firefox
users are the product, potential viewers of ads served up by Google or
others.</p>

<p>(The existence of the Firefox browser as a competitor to Google’s
Chrome browser also supposedly helps Google avoid unwelcome antitrust
attention, especially now that Microsoft has abandoned its own browser
development efforts to base its own browser on the Chrome code. But
it’s unclear how important this consideration actually is to Google
senior management.)</p>

<p>In the early days of the Mozilla Corporation these search engine
relationships proved extremely lucrative, jumping from less than $5
million in 2004 to over $50 million in 2005, the first year in which
the Mozilla Corporation reported financial results, and eventually
growing to a high of about $540 million in 2017.</p>

<p>But as the number of Firefox users decreases (due to the growing
market dominance of the Chrome browser), and those users click on
fewer online ads (for example, because they’re spending less during
the COVID-19 pandemic), the willingness of Google and other customers
to pay the Mozilla Corporation for those users decreases
accordingly. Thus the Mozilla Corporation cutting a quarter of its
workforce.</p>

<p>(In contrast, to my knowledge the Mozilla Foundation itself is not
laying off anyone, at least at this time. It gets its funding from a
combination of royalties from the Mozilla Corporation for use of the
Firefox and Mozilla trademarks, government and foundation grants, and
individual donations. For 2018 the royalties accounted for about half
of the Mozilla Foundation’s budget, with grants and individual donations
each accounting for about a quarter of the budget.)</p>

<p>So, if you’re an avid user of the Firefox browser and want to chip in
a few dollars to help support its development, there’s actually no way
for you to do so, at least not at present. Your donations will go to
the Mozilla Foundation, which will use them to help fund its outreach
and advocacy initiatives, of which it has several. The Mozilla
Foundation itself does not develop Firefox—or any other software, to
my knowledge.</p>

<h2 id="whence-mozilla">Whence Mozilla?</h2>

<p>How has Mozilla (or, more correctly, the Mozilla Corporation) come
to its present pass? The best way I can explain it is that the Mozilla
Corporation is not really a business in the way we’d normally think of
a business, profit-focused and subject to market discipline.</p>

<p>Instead you can think of the Mozilla Corporation as being analogous to
the Bell Labs or Xerox PARC of yore, R&amp;D organizations funded by a
seemingly-unending stream of profits earned by other businesses that
enjoyed dominant positions in their respective markets. In this sense
Google is to Mozilla as AT&amp;T was to Bell Labs, or Xerox to Xerox
PARC.</p>

<p>Like Bell Labs and Xerox PARC, the Mozilla Corporation provided a home
for some of the smartest software developers around. Like those
organizations, the Mozila Corporation has initiated a myriad of
projects ranging from the mundane and useful (like the Firefox
browser) to the esoteric and speculative. Like those organizations,
the Mozilla Corporation has given away much of what it has produced in
the form of public goods available to everyone at no charge.</p>

<p>Like Bell Labs and Xerox PARC, the Mozilla Corporation has indulged a
taste for “build it yourself” vertical integration, and in particular
for creating its own bespoke development tools and software stack. For
example, like those organizations the Mozilla Corporation has created
its own operating system (FirefoxOS), its own programming language
(Rust), and (of course) its own graphical user environment in the form
of the Firefox browser (not to mention yet another web browser, this
one more research-oriented, and various experiments in software for
virtual reality environments).</p>

<p>And finally, the Mozilla Corporation is engaged in the same struggle
that Bell Labs and Xerox PARC found themselves in: trying to convert a
research-oriented organization into an actual business, and capture
for itself more of the value that it has been providing to the world
(and to its past, present, and future competitors) for free.</p>

<h2 id="whither-mozilla">Whither Mozilla?</h2>

<p>What will happen to Mozilla, and to the Mozilla Corporation in
particular? The basic situation is that Mozilla has tried to be at
least three things simultaneously: an advocacy organization, a
developer and distributor of mass market consumer software and related
services, and (as noted above) a research lab.</p>

<p>Being an advocacy organization is relatively inexpensive, but the
other two functions are not: software development (including
research-related activities) and branding and marketing together
consumed almost three quarters of the combined Mozilla Corporation and
Foundation expense budget of $450 million in 2018. Thus when COVID-19
hit and the Mozilla Corporation hit a brick wall in terms of search
engine revenue, its choice was apparently either to stop being a
consumer software and services company, or to stop being a research
lab.</p>

<p>In the end Mozilla Corporation senior management apparently decided to
go for being a consumer software and services company, and to ditch
any activities not related to that, including research projects.
Having done so, the Mozilla Corporation faces a number of problems:</p>

<p>First, as noted above the Mozilla ethos is arguably more like that of
an R&amp;D lab than of a business proper. Just getting Mozilla
employees to think of themselves as working in the service of a
profit-driven business, and to act in accordance with that thought
every single day, may be an uphill battle.</p>

<p>Second, Mozilla is arguably becoming superfluous, at least as far as
its own largest customer, Google, is concerned. Google has its own
browser and browser development team, its own research lab, and
presumably an inclination to want to spend its R&amp;D money on things
it can control and direct itself. Google also has the ability and the
opportunity to capture the remaining base of Firefox users, at least
those that are monetizable.</p>

<p>There will always be a core of enthusiastic Firefox users, but a lot
of them switch their search engine to something other than Google, run
ad blockers, and don’t click on online ads. Thus they are for the most
part irrelevant from Google’s point of view. At some point the major
value Firefox has for Google will be as presumed insulation from
antitrust enforcement efforts targeting Chrome, but such insurance,
even if it’s of value to Google, doesn’t necessarily require a large
Firefox user base.</p>

<p>Finally, it’s …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://civilityandtruth.com/2020/08/13/mozillas-uncertain-future/">https://civilityandtruth.com/2020/08/13/mozillas-uncertain-future/</a></em></p>]]>
            </description>
            <link>https://civilityandtruth.com/2020/08/13/mozillas-uncertain-future/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24166385</guid>
            <pubDate>Sat, 15 Aug 2020 06:03:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write Your Own Virtual Machine]]>
            </title>
            <description>
<![CDATA[
Score 320 | Comments 41 (<a href="https://news.ycombinator.com/item?id=24166137">thread link</a>) | @ChankeyPathak
<br/>
August 14, 2020 | https://justinmeiners.github.io/lc3-vm/ | <a href="https://web.archive.org/web/*/https://justinmeiners.github.io/lc3-vm/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<section>

<a name="1:1"></a>
<a name="1:2"></a><div><a name="1:2"><h4>2. Introduction</h4></a>
<p>In this tutorial, I will teach you how to write your own virtual machine (VM) that can run assembly language programs, such as my friend's <a href="https://github.com/rpendleton/lc3-2048">2048</a> or my <a href="https://github.com/justinmeiners/lc3-rogue">Roguelike</a>. If you know how to program, but would like to gain a deeper understanding of what is going on inside a computer and better understand how programming languages work, then this project is for you. Writing your own VM may sound a little scary, but I promise that you will find it to be surprisingly simple and enlightening.
</p>
<p>The final code is about 250 lines of C (<a href="https://justinmeiners.github.io/lc3-vm/src/lc3.c">unix</a>, <a href="https://justinmeiners.github.io/lc3-vm/src/lc3-win.c">windows</a>).
All you need to know is how to read basic C or C++ and how to do <a href="https://www.swarthmore.edu/NatSci/echeeve1/Ref/BinaryMath/BinaryMath.html">binary arithmetic</a>.
</p>
<blockquote><p> <strong>Note:</strong> This VM is a <a href="https://en.wikipedia.org/wiki/Literate_programming">literate program</a>. This means you are reading the source code right now! Each piece of code from the project will be shown and explained thoroughly, so you can be sure nothing is left out. The final code was created by <a href="https://github.com/zyedidia/Literate">"weaving"</a> the blocks of code together.
</p>
</blockquote>
<h3> What is a virtual machine?</h3>
<p>A VM is a program that acts like a computer. It simulates a CPU along with a few other hardware components, allowing it to perform arithmetic, read and write to memory, and interact with I/O devices, just like a physical computer. Most importantly, it can understand a machine language which you can use to program it.
</p>
<p>The amount of computer hardware the VM attempts to simulate depends on its purpose. Some VMs are designed to reproduce the behavior of some particular computer, such as video game emulators. Most people don't have an NES lying around anymore, but we can still play NES games by simulating the NES hardware in a program. These emulators must <a href="http://wiki.nesdev.com/w/index.php/Tricky-to-emulate_games">faithfully recreate</a> every <a href="http://wiki.nesdev.com/w/index.php/Emulator_tests">detail</a> and major hardware component of the original device.
</p>
<p>Other VMs don't act like any real computer and are entirely made up! This is primarily done to make software development easier. Imagine you wanted to create a program that ran on multiple computer architectures. A VM could offer a standard platform which provided portability for all of them. Instead of rewriting a program in different dialects of assembly for each CPU architecture, you would only need to write the small VM program in each assembly language. Each program would then be written only once in the VM's assembly language.
</p>
<p><img src="https://justinmeiners.github.io/lc3-vm/img/no_vm.gif" alt="architecture specific implementation">
</p>
<p><img src="https://justinmeiners.github.io/lc3-vm/img/vm.gif" alt="vm for each architecture">
</p>
<blockquote><p> <strong>Note:</strong> A compiler solves a similar problem by compiling a standard <em>high-level language</em> to several CPU architectures. A VM creates one standard <em>CPU architecture</em> which is simulated on various hardware devices. One advantage of a compiler is that it has no runtime overhead while a VM does. Even though compilers do a pretty good job, writing a new one that targets multiple platforms is very difficult, so VMs are still helpful here. In practice, VMs and compilers are mixed at various levels.
</p>
</blockquote>
<p>The <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">Java Virtual Machine (JVM)</a> is a very successful example. The JVM itself is a moderately sized program that is small enough for one programmer to understand. This has made it possible to be written for thousands of devices including phones. Once the JVM is implemented on a new device, any Java, Kotlin, or Clojure program ever written can run on it without modification. The only cost is the overhead of the VM itself and the <a href="https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/">further abstraction</a> from the machine. Most of the time, this is a pretty good tradeoff.
</p>
<p>A VM doesn't have to be large or pervasive to provide a similar benefit. Old <a href="https://fabiensanglard.net/anotherWorld_code_review/">video games</a> often used small VMs to provide simple <a href="https://sf2platinum.wordpress.com/page/1/">scripting systems</a>.
</p>
<p>VMs are also useful for executing code in a secure or isolated way. One application of this is garbage collection. There <a href="https://www.lua.org/pil/24.2.html">is no trivial way</a> to implement automatic garbage collection on top of C or C++ since a program cannot see its own stack or variables. However, a VM is “outside” the program it is running and can observe all of the <a href="https://en.wikipedia.org/wiki/Tracing_garbage_collection">memory references</a> on the stack.
</p>
<p>Another example of this behavior is demonstrated by <a href="https://solidity.readthedocs.io/en/v0.4.24/introduction-to-smart-contracts.html">Ethereum smart contracts</a>. Smart contracts are small programs which are executed by each validating node in the blockchain network. This requires the node operators to run programs on their machines that have been written by complete strangers, without any opportunity to scrutinize them beforehand. To prevent a contract from doing malicious things, they are run inside a <a href="http://ethdocs.org/en/latest/introduction/what-is-ethereum.html#ethereum-virtual-machine">VM</a> that has no access to the file system, network, disc, etc. Ethereum is also a good application of the portability features that result when using a VM. Since Ethereum nodes can be run on many kinds of computers and operating systems, the use of a VM allows smart contracts to be written without any consideration of the many platforms they run on.
</p>

</div>
<a name="1:3"></a><div><a name="1:3"><h4>3. LC-3 Architecture</h4></a>
<p>Our VM will simulate a fictional computer called the <a href="https://en.wikipedia.org/wiki/Little_Computer_3">LC-3</a>. The LC-3 is popular for teaching university students how to program in assembly language. It has a simplified instruction set <a href="http://ref.x86asm.net/coder64.html">compared to x86</a>, but contains all the main ideas used in modern CPUs.
</p>
<p>First, we need to simulate the essential hardware components of the machine. Try to understand what each component is, but don't worry right now if you are unsure of how it fits into the larger picture. Start by creating a C file. Each of the code snippets in this section should be placed in the global scope of this file.
</p>
<h3> Memory</h3>
<p>The LC-3 has 65,536 memory locations (the maximum that is addressable by a 16-bit unsigned integer <code>2^16</code>), each of which stores a 16-bit value. This means it can store a total of only 128kb, which is a lot smaller than you may be used to! In our program, this memory will be stored in a simple array:
</p>

<div>
<p><span>{Memory Storage <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span></p><pre>/* 65536 locations */
uint16_t memory[UINT16_MAX];
</pre>


<p>Used in section <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:11">11</a></p>
</div>
<h3> Registers</h3>
<p>A register is a slot for storing a single value on the CPU. Registers are like the "workbench" of the CPU. For the CPU to work with a piece of data, it has to be in one of the registers. However, since there are just a few registers, only a minimal amount of data can be loaded at any given time. Programs work around this by loading values from memory into registers, calculating values into other registers, and then storing the final results back in memory.
</p>
<p>The LC-3 has 10 total registers, each of which is 16 bits. Most of them are general purpose, but a few have designated roles.
</p>
<ul>
<li>8 general purpose registers  (<code>R0</code>-<code>R7</code>)
</li>
<li>1 program counter (<code>PC</code>) register
</li>
<li>1 condition flags (<code>COND</code>) register
</li>
</ul>
<p>The general purpose registers can be used to perform any program calculations. The program counter is an unsigned integer which is the address of the next instruction in memory to execute. The condition flags tell us information about the previous calculation.
</p>

<div>
<p><span>{Registers <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span></p><pre>enum
{
    R_R0 = 0,
    R_R1,
    R_R2,
    R_R3,
    R_R4,
    R_R5,
    R_R6,
    R_R7,
    R_PC, /* program counter */
    R_COND,
    R_COUNT
};
</pre>



</div>
<p>Just like the memory, we will store the registers in an array:
</p>

<div>
<p><span>{Register Storage <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span></p><pre>uint16_t reg[R_COUNT];
</pre>


<p>Used in section <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:11">11</a></p>
</div>
<h3> Instruction Set</h3>
<p>An instruction is a command which tells the CPU to do some fundamental task, such as add two numbers. Instructions have both an <strong>opcode</strong> which indicates the kind of task to perform and a set of <strong>parameters</strong> which provide inputs to the task being performed.
</p>
<p>Each <strong>opcode</strong> represents one task that the CPU "knows" how to do. There are just 16 opcodes in LC-3. Everything the computer can calculate is some sequence of these simple instructions. Each instruction is 16 bits long, with the left 4 bits storing the opcode. The rest of the bits are used to store the parameters.
</p>
<p>We will discuss, in detail, what each instruction does later. For now, define the following opcodes. Make sure they stay in this order so that they are assigned the proper enum value:
</p>

<div>
<p><span>{Opcodes <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span></p><pre>enum
{
    OP_BR = 0, /* branch */
    OP_ADD,    /* add  */
    OP_LD,     /* load */
    OP_ST,     /* store */
    OP_JSR,    /* jump register */
    OP_AND,    /* bitwise and */
    OP_LDR,    /* load register */
    OP_STR,    /* store register */
    OP_RTI,    /* unused */
    OP_NOT,    /* bitwise not */
    OP_LDI,    /* load indirect */
    OP_STI,    /* store indirect */
    OP_JMP,    /* jump */
    OP_RES,    /* reserved (unused) */
    OP_LEA,    /* load effective address */
    OP_TRAP    /* execute trap */
};
</pre>



</div>
<blockquote><p> <strong>Note:</strong> The Intel x86 architecture has hundreds of instructions, while others such as ARM and LC-3 have very few. Small instruction sets are referred to as <a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer">RISCs</a> while larger ones are called <a href="https://en.wikipedia.org/wiki/Complex_instruction_set_computer">CISCs</a>. Larger instruction sets typically do not provide any fundamentally new possibilities, but they <a href="https://cs.stanford.edu/people/eroberts/courses/soco/projects/risc/risccisc/">often make it more convenient</a> to write assembly for. A single instruction in CISC might take the place of several in RISC. However, they tend to be more complex and expensive for engineers to design and manufacture. This and other tradeoffs cause the designs to come <a href="https://cs.stackexchange.com/questions/269/why-would-anyone-want-cisc">in and out of style</a>.
</p>
</blockquote>
<h3> Condition Flags</h3>
<p>The <code>R_COND</code> register stores condition flags which provide information about the most recently executed calculation. This allows programs to check logical conditions such as <code>if (x &gt; 0) { ... }</code>.
</p>
<p>Each CPU has a variety of condition flags to signal various situations. The LC-3 uses only 3 condition flags which indicate the sign of the previous calculation.
</p>

<div>
<p><span>{Condition Flags <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span></p><pre>enum
{
    FL_POS = 1 &lt;&lt; 0, /* P */
    FL_ZRO = 1 &lt;&lt; 1, /* Z */
    FL_NEG = 1 &lt;&lt; 2, /* N */
};
</pre>



</div>
<blockquote><p> <strong>Note:</strong> (The <code>&lt;&lt;</code> symbol is called the <a href="https://msdn.microsoft.com/en-us/library/336xbhcz.aspx">left bitshift operator</a>. <code>(n &lt;&lt; k)</code> shifts the bits of <code>n</code> to the left <code>k</code> places. Thus <code>1 &lt;&lt; 2</code> will equal <code>4</code>. Read that link if you are not familiar. It will be important.)
</p>
</blockquote>
<p>We are finished setting up the hardware components of our VM! After adding standard includes (see reference), your file should look something like this:
</p>

<div>
<p><span>{<strong>lc3.c</strong> <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span></p><pre><span>{Includes, <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:12">12</a>}</span>

<span>{Registers, <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span>
<span>{Opcodes, <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span>
<span>{Condition Flags, <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:3">3</a>}</span>
</pre>
<p>Added to in section <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:11">11</a></p>


</div>
</div>
<a name="1:4"></a><div><a name="1:4"><h4>4. Assembly Examples</h4></a>
<p>Now let's look at an LC-3 assembly program to get an idea of what the VM actually runs. You don't need to know how to program assembly or understand everything that is going on. Just try to get a general idea of what is going on. Here is a simple "Hello World":
</p>

<div>
<p><span>{Hello World Assembly <a href="https://justinmeiners.github.io/lc3-vm/index.html#1:4">4</a>}</span></p><pre>.O…</pre></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://justinmeiners.github.io/lc3-vm/">https://justinmeiners.github.io/lc3-vm/</a></em></p>]]>
            </description>
            <link>https://justinmeiners.github.io/lc3-vm/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24166137</guid>
            <pubDate>Sat, 15 Aug 2020 05:10:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Brain Oriented Programming]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 72 (<a href="https://news.ycombinator.com/item?id=24165893">thread link</a>) | @pbw
<br/>
August 14, 2020 | https://tobeva.com/articles/brain-oriented-programming/ | <a href="https://web.archive.org/web/*/https://tobeva.com/articles/brain-oriented-programming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        
        
        <main role="main">
          
<div>
	
	<p>Write code that’s compatible with how your brain works.</p>
	
	<p><strong>Video</strong>: <a href="https://youtu.be/D8Pb8TvYsCE">Philip reading this essay</a>.</p>
<p>The 1956 paper <em><a href="http://psychclassics.yorku.ca/Miller/">The Magical Number Seven, Plus or Minus
Two</a></em> is the most widely cited paper
in the 126 year history of the journal <em><a href="https://en.wikipedia.org/wiki/Psychological_Review">Psychological
Review</a></em>. The author
<a href="https://en.wikipedia.org/wiki/George_Armitage_Miller">George A. Miller</a> is
considered one of the founders in the field of cognitive science. His
historic claim is that you can only juggle <strong>between 5 and 9 things</strong> in
your brain at any one time.</p>
<p>To my knowledge, despite some
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4486516/">controversy</a> over
the years, this 7 ± 2 figure has withstood the ongoing
<a href="https://www.nature.com/news/1-500-scientists-lift-the-lid-on-reproducibility-1.19970">reproducibility
crisis</a>
and it appears to capture a deep truth about how our brains actually
function.</p>
<p>Many people are skeptical of the claim because seven sounds like an
absurdly small number, surely if you are doing something complex like
writing software, or planning a wedding for that matter, you are juggling
dozens to hundreds of things? As it turns out you are not. At least not at
once.</p>







<div>
	<p><img src="https://tobeva.com/articles/brain-oriented-programming/pi_hu91e4edcab74d735c218b5a61e20b8fdd_76318_250x0_resize_q75_catmullrom.jpg" width="250" height="188"></p><p>
The first 225 digits of <a href="https://dancohen.org/2010/03/08/the-last-digit-of-pi/">Pi</a>.
</p>
	
</div>
<p>In 2005 <strong>Lu Chao</strong> recited <a href="https://www.livescience.com/50134-pi-day-memory-experts.html">67,890
digits</a> of
Pi, a mind-boggling demonstration of a gifted and well-trained mind. Yet
given a series of random single-digit numbers he can on average recall less
the than nine of them, to be exact he’s been measured to have a <a href="https://en.wikipedia.org/wiki/Memory_span#Digit-span">digit
span</a> of 8.83 which
fits perfectly within Miller’s finding. Amazing!</p>
<p>Chao memorizes Pi the same way story tellers once memorized long tales
about <a href="https://en.wikipedia.org/wiki/Gilgamesh">Gilgamesh</a>, yet he can only
juggle a handful of things at one time. I find this actually to be very
comforting, he is not a freak of nature, at least not as freaky as you
first thought.</p>
<p>The illusion we can hold many things in mind is almost identical to the
illusion that our field of view is high resolution everywhere. It’s
incredibly compelling because the instant we wonder <em>what’s over there</em> we
do a quick <a href="https://en.wikipedia.org/wiki/Saccade">saccade</a> and are
immediately rewarded with a high resolution view of exactly <em>what’s over
there</em>. We ask the question and we get an instant answer, so it feels like
the answer was there the whole time.</p>







<div>
	<p><img src="https://tobeva.com/articles/brain-oriented-programming/fovea_hu32924f3118f640732af8b68aadca9340_30500_512x0_resize_q75_catmullrom.jpg" width="512" height="227"></p><p> This picture exaggerates how big the
fovea is, it's actually only about as big as quarter held at arm's length.
</p>
	
</div>
<p>Thinking in general works very much like vision. This is not surprising
since it’s implemented using the same brain hardware. As we rapidly flit
from idea to idea, from concept to concept, we page in the necessary
details, but at no time do we have more than about nine individual things
in the front of our minds.</p>
<p>How do we navigate a complex world with this seemingly crippling limit on
the size of our working memory? Two of the primary tools that we use are
<a href="https://en.wikipedia.org/wiki/Chunking_(psychology)">chunking</a> and
<a href="https://en.wikipedia.org/wiki/Hierarchy">hierarchy</a>.</p>
<p>When we think of a car we naturally divide the car into a handful of high
level chunks like the <em>engine</em>, the <em>dashboard</em>, the <em>seats</em>, the <em>wheels</em>.
When we mentally zoom into the engine, however, it effortlessly resolves
into more parts: the <em>engine block</em>, the <em>pistons</em>, the <em>spark plugs</em>. And
we can keep zooming in, although how far we can zoom in highly depends on
how much we know about cars and the world in general.</p>
<p>In <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">Object Oriented
Programming</a> one
of the simplest ways to tame complexity is to limit your objects to around
seven <em>attributes</em>. In some languages attributes are called <em>member
variables</em> or <em>fields</em>. Many programmers immediately balk at this
suggestion. Sure, that works for toy examples, but I’m writing serious
software and my objects sometimes need 10, 20 or 50 attributes. You must be
working on easy stuff, they will say. My problems are special, so my code
has to be different.</p>
<p>The biggest trap of software development is that it’s easy, trivial in
fact, to write software that you yourself cannot understand, and in turn no
one else can understand. Even a novice, <em>especially</em> a novice, can in a few
weeks write software that literally no one on the planet can easily think
or reason about. That’s depressing, but also kind of impressive in a way.
With great power comes great responsibility.</p>
<p>Objects which have too many attributes are a major cause of software that’s
too complicated to understand. Some people conclude the problem is Object
Oriented Programming itself. This is not a crazy idea, there are <a href="https://tobeva.com/resources/technical/programming/functional/">other
ways</a> to program, and they do
have advantages, but in my experience most of the flaws attributed to
Object Oriented Programming stem from having done it poorly, and boy is it
easy to do poorly.</p>







<div>
	<p><img src="https://tobeva.com/articles/brain-oriented-programming/complex_hua73d922edef0eeb6c3d75f190e4c0729_39455_350x0_resize_q75_catmullrom.jpg" width="350" height="197"></p><p>
Complexity grows without bound.
</p>
	
</div>
<p>The key thing to realize is a single object with a lot of attributes is
itself <em>not</em> Object Oriented. Instead, it’s a 1970s style <a href="https://en.wikipedia.org/wiki/Structured_programming">Structured
Program</a> in disguise.
The attributes of the object are the <strong>global variables</strong> of the program,
and the object’s methods are the program’s <strong>functions</strong>. Every function
can freely access every global variable which is what causes many of the
problems.</p>
<p>A structured program with more than seven global variables is trouble, and
if many objects in your program are effectively messy structured programs
themselves, you are in serious trouble indeed. At a high level you are
doing Object Oriented Programming, but at a low level you are right back in
the 1970s struggling to deal with one confusing program after the next.</p>
<p>How do we save this sinking ship? We save it by actively and aggressively
keeping the number of attributes per object <strong>at or below seven</strong>. If you
fail to do this you are punting the problem <em>to your future self</em>, a
problem that by definition your future self is going to have a hard time
solving.</p>
<p>Just today I had a <a href="https://www.python.org/">Python</a> class called
<code>PerfEvent</code> with these attributes:</p>
<div><pre><code data-lang="python">        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>
        <span>self</span><span>.</span><span>start_ns</span> <span>=</span> <span>start_ns</span>
        <span>self</span><span>.</span><span>end_ns</span> <span>=</span> <span>end_ns</span>
        <span>self</span><span>.</span><span>category</span> <span>=</span> <span>category</span>
        <span>self</span><span>.</span><span>process_id</span> <span>=</span> <span>process_id</span>
        <span>self</span><span>.</span><span>thread_id</span> <span>=</span> <span>thread_id</span>
        <span>self</span><span>.</span><span>args</span> <span>=</span> <span>kwargs</span>
        <span>self</span><span>.</span><span>phase</span> <span>=</span> <span>phase</span></code></pre></div>
<p>That’s eight attributes, since eight is only one over the limit, should we
wait until the object grows bigger? No, let’s deal with it <em>now</em>. To reduce
the number of attributes we introduce two new classes or structs: <code>Span</code>
and <code>Origin</code>. Each only has two attributes, but now the original object has
been slimmed down to six attributes, all is well again:</p>
<div><pre><code data-lang="python">        <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>
        <span>self</span><span>.</span><span>span</span> <span>=</span> <span>Span</span><span>(</span><span>start_ns</span><span>,</span> <span>end_ns</span><span>)</span>
        <span>self</span><span>.</span><span>category</span> <span>=</span> <span>category</span>
        <span>self</span><span>.</span><span>origin</span> <span>=</span> <span>Origin</span><span>(</span><span>process_id</span><span>,</span> <span>thread_id</span><span>)</span>
        <span>self</span><span>.</span><span>args</span> <span>=</span> <span>kwargs</span>
        <span>self</span><span>.</span><span>phase</span> <span>=</span> <span>phase</span></code></pre></div>
<p>Although it’s a minor change, compare the two versions, the improved one
simply <em>looks</em> better, even if you stand far back and squint.</p>
<p>It seems minor, but if you don’t make these types of changes as you go it
will eventually lead to <em>intractable</em> complexity, the type of complexity
that causes projects and companies to fail, the type of complexity that
seduces humans into wasting <a href="https://spectrum.ieee.org/computing/software/why-software-fails">billions of
dollars</a>
every year writing software that does not work.</p>
<p>The benefits of introducing sub-objects goes far beyond just reducing the
number of attributes. While accessing the attributes is slightly more
verbose, I like the sound of <code>self.span.start_ns</code> compared to just
<code>self.start_ns</code>, but more importantly we can now pass <code>Span</code>'s and
<code>Owner</code>'s to functions, slimming down and chunking <em>their</em> argument lists.</p>
<p>We’ve introduced two natural and useful concepts that will pay ongoing
dividends, but even better don’t just think of how your code is today,
think about how it’s going to grow over time. Your single monolithic object
has sprouted two buds. You can now push functionality down into these buds,
and they can grow into branches, which later can sprout buds of their own.</p>
<p>For example we can now give <code>Span</code> a <code>get_duration_ns()</code> method. Again it seems
minor, but writing <code>span.get_duration_ns()</code> is better than writing
<code>span.end_ns - span.start_ns</code> especially if you are going to do that in
many different places.</p>
<p>The real magic though is that the benefits of being disciplined will accrue
like <a href="https://youtu.be/GtaoP0skPWc">compound interest</a> as you convert your
monolithic object into an intricately structured tree which buds and
sprouts and branches organically. You will benefit from this better design
every minute you are working on the software, and the software will benefit
greatly from your improved mood and ability to sustain focus.</p>







<div>
	<p><img src="https://tobeva.com/articles/brain-oriented-programming/featured-tree_hu59909ef0ac042e2e36ece8869e025722_141987_512x0_resize_q75_catmullrom.jpg" width="512" height="256"></p><p> 
A carefully tended <a href="https://en.wikipedia.org/wiki/Bonsai">Bonsai</a> tree.
</p>
	
</div>
<p>Code, like most human created artifacts, can be beautiful, so there is an
aesthetic pay off here, but the real jackpot is that if you assiduously
tend and groom this tree you will create a software design that slides into
your head with minimal fuss and friction, and slides similarly into the
heads of other people.</p>
<p>It’s no accident that we find natural environments to be more soothing than
the made world, than the concrete jungle. The design of the natural world
tends to be more in harmony with how our brains think about that world.
Game recognizes game.</p>
<p>Over time, you will grow a system that you and others can <strong>understand</strong>,
<strong>maintain</strong>, <strong>debug</strong> and <strong>extend</strong>. When people look at your code years
from now, maybe even in the <a href="https://archiveprogram.github.com/">far
future</a>, they will benefit from your
diligence and hard work. And the punchline is doing all this is not hard.
In fact, it’s <em>much easier</em> to do this work than not to not do it.</p>
<p>It’s easier and more pleasant to work with something that’s well crafted
and simpatico with your thinking. It’s hard and unpleasant to constantly
wrestle with something you don’t understand. Trim, prune and shape your
objects early and often. Your brain will thank you.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li>Hacker News <a href="https://news.ycombinator.com/item?id=24165893">comments</a> on this article.</li>
<li>Find your own digit span with this <a href="https://www.memorylosstest.com/digit-span/">Digit Span Memory Test</a>.</li>
<li>Some Chimpanzees have <a href="https://youtu.be/nTgeLEWr614?t=7">better working memory</a> than humans!</li>
</ul>
<p><strong>Postscript on APIs:</strong></p>
<p><em>The article discusses objects and attributes, not methods and APIs. NumPy’s</em>
<em><a href="https://numpy.org/doc/stable/reference/arrays.ndarray.html">ndarray</a> has</em>
<em>15 attributes but 50 methods. That’s totally fine, but imagine the</em>
<em>opposite, if it had 50 attributes? That would probably be a mess.</em></p>
<p><em>Attributes are global variables in the structured program that is the</em>
<em>object, so each additional attribute potentially complicates the</em>
<em>implementation of every other method in the object, present and future.</em></p>
<p><em>In contrast, adding a new …</em></p></div></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tobeva.com/articles/brain-oriented-programming/">https://tobeva.com/articles/brain-oriented-programming/</a></em></p>]]>
            </description>
            <link>https://tobeva.com/articles/brain-oriented-programming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24165893</guid>
            <pubDate>Sat, 15 Aug 2020 04:18:17 GMT</pubDate>
        </item>
    </channel>
</rss>
