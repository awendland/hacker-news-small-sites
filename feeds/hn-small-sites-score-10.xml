<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 10]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 10. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Mon, 07 Sep 2020 04:23:50 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-10.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Mon, 07 Sep 2020 04:23:50 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Radicle-Link: Extending Git with Peer-to-Peer Network Discovery]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24382589">thread link</a>) | @lftherios
<br/>
September 5, 2020 | https://radicle.xyz/radicle-link.html | <a href="https://web.archive.org/web/*/https://radicle.xyz/radicle-link.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="radicle-link">
    <div>
      <article>
        

        <p>
          This article dives into the architecture and design of Radicle Link—the peer-to-peer replication
          protocol that powers Radicle. We discuss our decision to build on Git, how we ensure data availability,
          and how we replicate data across the network.
        </p>
        <p>
          Behind every repository is a version control system—the most popular of these being Git, created in
          2005 by Linus Torvalds for the development of the Linux kernel. Git marked the rise of distributed version
          control systems as developers realized the centralized model of SVN and CVS didn't scale well with the
          number of contributors. In fact, Git was only created when Linus’ free <a href="http://www.bitkeeper.org/">Bitkeeper</a> license was revoked after a Linux kernel contributor tried to
          <a href="https://www.linuxjournal.com/content/git-origin-story">reverse engineer its networking protocols</a>.
          Git brought distributed version control to the forefront and changed the way software is developed today.
        </p>
        <figure><svg width="980" height="720" viewBox="0 0 980 720" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0)">
                <line x1="32.77" y1="366.02" x2="-0.117809" y2="358.127" stroke="black"></line>
                <rect x="157.707" y="365.563" width="469.315" height="470.446" rx="39.5" transform="rotate(-45 157.707 365.563)" stroke="#FF55FF"></rect>
                <path d="M446.702 218.954L375.153 147.405L402.733 119.825L475.481 192.573C497.358 187.907 508.986 188.41 526.645 203.765C544.188 223.906 537.837 254.929 537.837 254.929L605.789 322.88C626.463 318.539 637.877 320.624 657.352 334.472C670.49 351.891 673.63 362.829 668.144 385.236C661.268 399.871 655.451 406.191 640.564 412.816C617.837 420.185 606.987 416.401 589.4 402.424C573.869 385.728 572.513 373.998 578.208 350.461L513.854 286.106L513.055 457.984C529.605 466.765 536.011 474.942 539.036 499.155C538.718 521.246 532.71 530.282 513.854 541.924C497.861 550.57 487.995 550.676 469.885 542.724C451.896 531.381 446.078 521.806 443.105 499.155C446.503 476.344 450.204 469.184 473.083 455.586L473.083 281.31C473.083 281.31 455.342 273.557 447.901 256.128C440.461 238.698 444.944 232.439 446.702 218.954Z" stroke="#55FFFF"></path>
                </g>
                <defs>
                <clipPath id="clip0">
                <rect width="980" height="720" fill="white"></rect>
                </clipPath>
                </defs>
                </svg>
</figure>
        <p>
          Code collaboration platforms, or <q>forges</q>, started building on top of Git: they introduced
          search and discovery, canonicity, and social collaboration (issues &amp; code review) to Git-based workflows,
          albeit not always following the same distributed model that Git was designed for.
        </p>
        <p>
          Radicle was designed to provide this same functionality while retaining Git’s peer-to-peer nature, building on
          what made distributed version control so powerful in the first place.
        </p>

        <h2>
          Git gossips well
        </h2>
        <p>
          The earliest version of Radicle adopted a generalized approach to replication—it wasn’t tailored to
          replicating collaboration artifacts or source code and as we discovered, was ill-suited to the demands of
          real-world code collaboration.
        </p>
        <p>
          On the other hand, the current iteration is specifically designed for this use case. The most outstanding
          difference is the decision to <strong>use Git as our storage and replication layer</strong>, instead of a
          decentralized storage network such as IPFS. In our experimentation with decentralized storage, we realized
          that replicating Git repos on the storage layer didn't permit the use of <a href="https://git-scm.com/book/en/v2/Git-Internals-Packfiles">packfiles</a>, one of the key protocols that
          makes Git useable at scale.  Essentially, this approach would make source code a second-class citizen—
          making it impractical to store repositories with large histories. The reason is simple: <a href="https://git-scm.com/book/en/v2/Git-Internals-Transfer-Protocols">the packfile protocol is
          interactive</a>, which means before data is transferred between two parties, they determine exactly what needs
          to be sent over the wire, and the server puts together a packfile on the fly, before sending it downstream.
          This incredibly efficient approach isn't compatible with simple file storage protocols such as IPFS,
          which operate on the premise that content is usually <em>static</em>, unlike active code repositories that are
          constantly updated.
        </p>

        <blockquote>
          <p>
            The dumb protocol is simple but a bit inefficient, and it can't handle writing of data from the client
            to the server.  The smart protocol is a more common method of transferring data, but it requires a process
            on the remote end that is intelligent about Git—it can read local data, figure out what the client has and
            needs, and generate a custom packfile for it.
          </p>
          <p><cite>
            —&nbsp;<a href="https://git-scm.com/book/en/v2/Git-Internals-Transfer-Protocols">Git Internals</a>
          </cite></p>
        </blockquote>

        <p>
          In order to keep Git's efficiency when it comes to data replication, while offering global decentralized
          repository storage, we chose to design Radicle as a peer-to-peer networking layer on top of Git's smart
          transfer protocol. Radicle would take care of discovering peers, offloading the actual data transfer to Git.
        </p>

        <h2>
          radicle-link
        </h2>
        <p>
          <a href="https://github.com/radicle-dev/radicle-link">Radicle Link</a> is a peer-to-peer protocol with a
          generic distributed version control backend. It aims to be general enough to be used on top of systems such as
          <a href="https://pijul.org/">pijul</a> or <a href="https://www.mercurial-scm.org/">mercurial</a>, though
          it's initial implementation is focused on supporting Git.
        </p>
        <p>
          Radicle Link extends Git with <strong>peer-to-peer network discovery</strong>. Taking inspiration from <a href="https://scuttlebutt.nz/">Secure Scuttlebutt</a>, a peer-to-peer protocol for social networking, data is
          disseminated via a process called <strong>gossip</strong>. That is, participants in the network share and
          spread data they are "interested" in by keeping redundant copies locally and sharing deltas with peers. With
          Radicle, we replicate data across connected repositories according to a “social graph” of contributors and
          maintainers, enabling source code and changesets to be disseminated according to use and value: the more peers
          who are interested in a certain project, the more available this project is made to the network.
        </p>

        <h3>
          How it works
        </h3>
        <p>
          Repositories are the base <em>unit of replication</em> in Radicle. To publish a repository to the network, it
          must first be initialized as a <em>project</em>. Projects combine source code, issues and proposed changes
          under a single umbrella, and carry a unique, shareable peer-to-peer identifier. The entirety of the project
          data and metadata, including social artefacts such as comments, are stored within the repository. To create a
          project, the owner of a repository defines a <em>project identity</em>. In the background, a
          <em>project.json</em> file is created in a predetermined disjoint branch of the repository, by convention
          <code>rad/id</code>. This file contains important metadata such as the project name, list of maintainers, as
          well as any related links.
        </p>
        <p>
          The owner of the repository thus becomes the founder of the project and signs the initial version of the
          project metadata file (<em>project.json</em>) with their private key. The digest of the initial version,
          becomes the <em>Project ID</em>.
        </p>
        <p>
          In addition to the repository, a Radicle <em>project</em> includes the <em>identities</em> of all its
          maintainers: peers with designated rights over the project's identity. Initially, the only
          maintainer is the <em>founder</em>. By adding other maintainers to the project metadata, additional layers of
          trust can be introduced around the project. Any update to the project metadata <strong>must</strong> be signed
          by a quorum of maintainers, providing a cryptographically secure way to manage project state &amp; metadata,
          for example in the case of transferring ownership. The history of the metadata file is backed by the
          underlying DVCS, and is verified upon replication,  ensuring it was't tampered with.
        </p>

        <h3>Replication and validation</h3>
        <p>
          To ensure data integrity and authenticity in the peer-to-peer network, we adopt an algorithm similar to the
          root file update process from <a href="https://theupdateframework.io/">The Update Framework</a> (TUF). In this
          process, peers can fetch and verify the project metadata before replicating the latest changesets and
          revisions. This is important, since it effectively allows data to be served by <em>any peer</em>, in a secure
          manner. The physical location from which project data is fetched becomes irrelevant to the user.
        </p>
        <figure><svg width="980" height="361" viewBox="0 0 980 361" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="82.5" y="87.5" width="71" height="219" stroke="#55FFFF"></rect>
                <rect x="824.5" y="87.5" width="72" height="219" stroke="#FF55FF"></rect>
                <path d="M828.059 66.924C828.477 66.3667 828.965 65.9377 829.522 65.637C830.087 65.329 830.699 65.175 831.359 65.175C832.393 65.175 833.229 65.4243 833.867 65.923C834.505 66.4217 834.971 67.1257 835.264 68.035C835.557 68.937 835.704 69.993 835.704 71.203C835.704 72.369 835.528 73.4103 835.176 74.327C834.831 75.2363 834.318 75.9513 833.636 76.472C832.954 76.9927 832.114 77.253 831.117 77.253C829.775 77.253 828.723 76.769 827.96 75.801L827.828 77H826.211V60.753L828.059 60.522V66.924ZM830.677 75.757C831.645 75.757 832.389 75.383 832.91 74.635C833.431 73.887 833.691 72.7393 833.691 71.192C833.691 68.1707 832.782 66.66 830.963 66.66C830.318 66.66 829.749 66.8543 829.258 67.243C828.767 67.6243 828.367 68.0497 828.059 68.519V74.261C828.36 74.723 828.737 75.0897 829.192 75.361C829.654 75.625 830.149 75.757 830.677 75.757ZM843.813 65.175C845.449 65.175 846.684 65.7213 847.52 66.814C848.356 67.9067 848.774 69.3697 848.774 71.203C848.774 72.3837 848.584 73.4287 848.202 74.338C847.821 75.2473 847.26 75.9623 846.519 76.483C845.779 76.9963 844.869 77.253 843.791 77.253C842.156 77.253 840.917 76.703 840.073 75.603C839.23 74.503 838.808 73.0437 838.808 71.225C838.808 70.037 838.999 68.9883 839.38 68.079C839.762 67.1623 840.323 66.451 841.063 65.945C841.811 65.4317 842.728 65.175 843.813 65.175ZM843.813 66.682C842.816 66.682 842.061 67.0523 841.547 67.793C841.041 68.5337 840.788 69.6777 840.788 71.225C840.788 72.7577 841.038 73.8943 841.536 74.635C842.042 75.3683 842.794 75.735 843.791 75.735C844.789 75.735 845.537 75.3647 846.035 74.624C846.541 73.8833 846.794 72.743 846.794 71.203C846.794 69.663 846.545 68.5263 846.046 67.793C845.548 67.0523 844.803 66.682 843.813 66.682ZM854.442 66.924C854.86 66.3667 855.347 65.9377 855.905 65.637C856.469 65.329 857.082 65.175 857.742 65.175C858.776 65.175 859.612 65.4243 860.25 65.923C860.888 66.4217 861.353 67.1257 861.647 68.035C861.94 68.937 862.087 69.993 862.087 71.203C862.087 72.369 861.911 73.4103 861.559 74.327C861.214 75.2363 860.701 75.9513 860.019 76.472C859.337 76.9927 858.497 77.253 857.5 77.253C856.158 77.253 855.105 76.769 854.343 75.801L854.211 77H852.594V60.753L854.442 60.522V66.924ZM857.06 75.757C858.028 75.757 858.772 75.383 859.293 74.635C859.813 73.887 860.074 72.7393 860.074 71.192C860.074 68.1707 859.164 66.66 857.346 66.66C856.7 66.66 856.132 66.8543 855.641 67.243C855.149 67.6243 854.75 68.0497 854.442 68.519V74.261C854.742 74.723 855.12 75.0897 855.575 75.361C856.037 75.625 856.532 75.757 857.06 75.757Z" fill="#FF55FF"></path>
                <path d="M92.505 74.47C92.505 74.9393 92.582 75.2803 92.736 75.493C92.89 75.7057 93.1283 75.8597 93.451 75.955L93 77.253C92.5013 77.187 92.065 77.0293 91.691 76.78C91.317 76.5233 91.0457 76.1383 90.877 75.625C90.459 76.1603 89.9347 76.5673 89.304 76.846C88.6807 77.1173 87.995 77.253 87.247 77.253C86.0883 77.253 85.1753 76.9267 84.508 76.274C83.8407 75.6213 83.507 74.756 83.507 73.678C83.507 72.4827 83.9727 71.566 84.904 70.928C85.8353 70.29 87.181 69.971 88.941 69.971H90.646V69.003C90.646 68.167 90.4003 67.5767 89.909 67.232C89.425 66.88 88.7503 66.704 87.885 66.704C87.5037 66.704 87.0563 66.7517 86.543 66.847C86.0297 66.935 85.4723 67.0853 84.871 67.298L84.387 65.901C85.091 65.637 85.7547 65.45 86.378 65.34C87.0087 65.23 87.6063 65.175 88.171 65.175C89.6083 65.175 90.69 65.5123 91.416 66.187C92.142 66.8617 92.505 67.771 92.505 68.915V74.47ZM87.72 75.845C88.292 75.845 88.8347 75.702 89.348 75.416C89.8687 75.1227 90.3013 74.7193 90.646 74.206V71.225H88.974C87.698 71.225 86.796 71.445 86.268 71.885C85.7473 72.325 85.487 72.9153 85.487 73.656C85.487 75.1153 86.2313 75.845 87.72 75.845ZM101.912 60.753V74.14C101.912 74.712 102.088 75.119 102.44 75.361C102.8 75.5957 103.262 75.713 103.826 75.713C104.171 75.713 104.501 75.6763 104.816 75.603C105.139 75.5297 105.458 75.4307 105.773 75.306L106.268 76.659C105.953 76.813 105.561 76.9487 105.091 77.066C104.629 77.1907 104.105 77.253 103.518 77.253C102.492 77.253 101.659 76.9707 101.021 76.406C100.383 75.834 100.064 75.0457 100.064 74.041V62.216H96.5114V60.753H101.912ZM114.983 59.994C115.393 59.994 115.72 60.1187 115.962 60.368C116.211 60.6173 116.336 60.9217 116.336 61.281C116.336 61.655 116.211 61.9703 115.962 62.227C115.72 62.4763 115.393 62.601 114.983 62.601C114.594 62.601 114.275 62.4763 114.026 62.227C113.776 61.9703 113.652 61.655 113.652 61.281C113.652 60.9217 113.776 60.6173 114.026 60.368C114.275 60.1187 114.594 59.994 114.983 59.994ZM116.457 65.417V75.537H119.724V77H111.034V75.537H114.609V66.88H111.144V65.417H116.457ZM129.021 75.658C129.601 75.658 130.14 75.5663 130.638 75.383C131.144 75.1923 131.61 74.9467 132.035 74.646L132.937 75.856C132.431 76.2887 131.823 76.6297 131.111 76.879C130.4 77.1283 129.703 77.253 129.021 77.253C127.87 77.253 126.887 77.0073 126.073 76.516C125.267 76.0173 124.651 75.3207 124.225 74.426C123.8 73.524 123.587 72.468 123.587 71.258C123.587 70.0993 123.8 69.0617 124.225 68.145C124.651 67.2283 125.27 66.506 126.084 65.978C126.898 65.4427 127.885 65.175 129.043 65.175C130.517 65.175 131.808 65.6223 132.915 66.517L132.013 67.749C131.009 67.0597 130.011 66.715 129.021 66.715C128.024 66.715 127.203 67.0927 126.557 67.848C125.912 68.596 125.589 69.7327 125.589 71.258C125.589 72.8053 125.912 73.9273 126.557 74.624C127.203 75.3133 128.024 75.658 129.021 75.658ZM138.429 71.863C138.48 73.205 138.832 74.184 139.485 74.8C140.145 75.4087 140.922 75.713 141.817 75.713C142.411 75.713 142.946 75.625 143.423 75.449C143.899 75.273 144.394 75.0127 144.908 74.668L145.777 75.889C145.241 76.3143 144.625 76.648 143.929 76.89C143.232 77.132 142.521 77.253 141.795 77.253C140.665 77.253 139.705 77 138.913 76.494C138.128 75.988 137.527 75.284 137.109 74.382C136.698 73.4727 136.493 72.4203 136.493 71.225C136.493 70.0517 136.698 69.0103 137.109 68.101C137.527 67.1917 138.113 66.4767 138.869 65.956C139.631 65.4353 140.526 65.175 141.553 65.175C143.012 65.175 144.16 65.681 144.996 66.693C145.839 67.705 146.261 69.091 146.261 70.851C146.261 71.049 146.253 71.236 146.239 71.412C146.231 71.588 146.224 71.7383 146.217 71.863H138.429ZM141.575 66.693C140.717 66.693 139.998 66.9973 139.419 67.606C138.839 68.2147 138.513 69.157 138.44 70.433H144.479C144.457 69.1937 144.185 68.2623 143.665 67.639C143.144 67.0083 142.447 66.693 141.575 66.693Z" fill="#55FFFF"></path>
                <path d="M183.505 117.47C183.505 117.939 183.582 118.28 183.736 118.493C183.89 118.706 184.128 118.86 184.451 118.955L184 120.253C183.501 120.187 183.065 120.029 182.691 119.78C182.317 119.523 182.046 119.138 181.877 118.625C181.459 119.16 180.935 119.567 180.304 119.846C179.681 120.117 178.995 120.253 178.247 120.253C177.088 120.253 176.175 119.927 175.508 119.274C174.841 118.621 174.507 117.756 174.507 116.678C174.507 115.483 174.973 114.566 175.904 113.928C176.835 113.29 178.181 112.971 179.941 112.971H181.646V112.003C181.646 111.167 181.4 110.577 180.909 110.232C180.425 109.88 179.75 109.704 178.885 109.704C178.504 109.704 178.056 109.752 177.543 109.847C177.03 109.935 176.472 110.085 175.871 110.298L175.387 108.901C176.091 108.637 176.755 108.45 177.378 108.34C178.009 108.23 178.606 108.175 179.171 108.175C180.608 108.175 181.69 108.512 182.416 109.187C183.142 109.862 183.505 110.771 183.505 111.915V117.47ZM178.72 118.845C179.292 118.845 179.835 118.702 180.348 118.416C180.869 118.123 181.301 117.719 181.646 117.206V114.225H179.974C178.698 114.225 177.796 114.445 177.268 114.885C176.747 115.325 176.487 115.915 176.487 116.656C176.487 118.115 177.231 118.845 178.72 118.845ZM188.402 120V108.417H189.975L190.118 110.023C190.588 109.429 191.174 108.974 191.878 108.659C192.582 108.336 193.272 108.175 193.946 108.175C195.083 108.175 195.908 108.476 196.421 109.077C196.942 109.678 197.202 110.514 197.202 111.585V120H195.354V112.949C195.354 112.157 195.31 111.519 195.222 111.035C195.134 110.551 194.947 110.195 194.661 109.968C194.383 109.741 193.954 109.627 193.374 109.627C192.92 109.627 192.491 109.726 192.087 109.924C191.691 110.122 191.336 110.371 191.02 110.672C190.712 110.965 190.456 111.262 190.25 111.563V120H188.402ZM201.594 120V108.417H203.167L203.31 110.023C203.779 109.429 204.366 108.974 205.07 108.659C205.774 108.336 206.463 108.175 207.138 108.175C208.274 108.175 209.099 108.476 209.613 109.077C210.133 109.678 210.394 110.514 210.394 111.585V120H208.546V112.949C208.546 112.157 208.502 111.519 208.414 111.035C208.326 110.551 208.139 110.195 207.853 109.968C207.574 109.741 207.145 109.627 206.566 109.627C206.111 109.627 205.682 109.726 205.279 109.924C204.883 110.122 204.527 110.371 204.212 110.672C203.904 110.965 203.647 111.262 203.442 111.563V120H201.594ZM219.196 108.175C220.832 108.175 222.067 108.721 222.903 109.814C223.739 110.907 224.157 112.37 224.157 114.203C224.157 115.384 223.967 116.429 223.585 117.338C223.204 118.247 222.643 118.962 221.902 119.483C221.162 119.996 220.252 120.253 219.174 120.253C217.539 120.253 216.3 119.703 215.456 118.603C214.613 117.503 214.191 116.044 214.191 114.225C214.191 113.037 214.382 111.988 214.763 111.079C215.145 110.162 215.706 109.451 216.446 108.945C217.194 108.432 218.111 108.175 219.196 108.175ZM219.196 109.682C218.199 109.682 217.444 110.052 216.93 110.793C216.424 111.534 216.171 112.678 216.171 114.225C216.171 115.758 216.421 116.894 216.919 117.635C217.425 118.368 218.177 118.735 219.174 118.735C220.172 118.735 220.92 118.365 221.418 117.624C221.924 116.883 222.177 115.743 222.177 114.203C222.177 112.663 221.928 111.526 221.429 110.793C220.931 110.052 220.186 109.682 219.196 109.682ZM229.825 108.417V116.623C229.825 117.386 229.982 117.936 230.298 118.273C230.613 118.61 231.104 118.779 231.772 118.779C232.41 118.779 233.011 118.599 233.576 118.24C234.148 117.873 234.591 117.441 234.907 116.942V108.417H236.755V120H235.182L235.028 118.438C234.573 119.025 234.008 119.476 233.334 119.791C232.666 120.099 231.995 120.253 231.321 120.253C230.199 120.253 229.359 119.956 228.802 119.362C228.252 118.761 227.977 117.921 227.977 116.843V108.417H229.825ZM241.168 120V108.417H242.741L242.884 110.023C243.353 109.429 243.94 108.974 244.644 108.659C245.348 108.336 246.037 108.175 246.712 108.175C247.849 108.175 248.674 108.476 249.187 109.077C249.708 109.678 249.968 110.514 249.968 111.585V120H248.12V112.949C248.12 112.157 248.076 111.519 247.988 111.035C247.9 110.551 247.713 110.195 247.427 109.968C247.148 109.741 246.719 109.627 246.14 109.627C245.685 109.627 245.256 109.726 244.853 109.924C244.457 110.122 244.101 110.371 243.786 110.672C243.478 110.965 243.221 111.262 243.016 111.563V120H241.168ZM259.595 118.658C260.175 118.658 260.714 118.566 261.212 118.383C261.718 118.192 262.184 117.947 262.609 117.646L263.511 118.856C263.005 119.289 262.397 119.63 261.685 119.879C260.974 120.128 260.277 120.253 259.595 120.253C258.444 120.253 257.461 120.007 256.647 119.516C255.841 119.017 255.225 118.321 254.799 117.426C254.374 116.524 254.161 115.468 254.161 114.258C254.161 113.099 254.374 112.062 254.799 111.145C255.225 110.228 255.844 109.506 256.658 108.978C257.472 108.443 258.459 108.175 259.617 108.175C261.091 108.175 262.382 108.622 263.489 109.517L262.587 110.749C261.583 110.06 260.585 109.715 259.595 109.715C258.598 109.715 257.777 110.093 257.131 110.848C256.486 111.596 256.163 112.733 256.163 114.258C256.163 115.805 256.486 116.927 257.131 117.624C257.777 118.313 258.598 118.658 259.595 118.658ZM269.003 114.863C269.054 116.205 269.406 117.184 270.059 117.8C270.719 118.409 271.496 118.713 272.391 118.713C272.985 118.713 273.52 118.625 273.997 118.449C274.474 118.273 274.969 118.013 275.482 117.668L276.351 118.889C275.816 119.314 275.2 119.648 274.503 119.89C273.806 120.132 273.095 120.253 272.369 120.253C271.24 120.253 270.279 120 269.487 119.494C268.702 118.988 268.101 118.284 267.683 117.382C267.272 116.473 267.067 115.42 267.067 114.225C267.067 113.052 267.272 112.01 267.683 111.101C268.101 110.192 268.688 109.477 269.443 108.956C270.206 108.435 271.1 108.175 272.127 108.175C273.586 108.175 274.734 108.681 275.57 109.693C276.413 110.705 276.835 112.091 276.835 113.851C276.835 114.049 276.828 114.236 276.813 114.412C276.806 114.588 276.798 114.738 276.791 114.863H269.003ZM272.149 109.693C271.291 109.693 270.572 109.997 269.993 110.606C269.414 111.215 269.087 112.157 269.014 113.433H275.053C275.031 112.194 274.76 111.262 274.239 110.639C273.718 110.008 273.022 109.693 272.149 109.693ZM296.398 112.3C296.398 113.833 296.57 115.156 296.915 116.271C297.267 117.378 297.791 118.39 298.488 119.307C299.184 120.224 300.057 121.144 301.106 122.068L300.138 123.08C298.95 122.112 297.93 121.118 297.08 120.099C296.236 119.08 295.587 117.943 295.133 116.689C294.685 115.435 294.462 113.972 294.462 112.3C294.462 110.628 294.685 109.165 295.133 107.911C295.587 106.657 296.236 105.52 297.08 104.501C297.93 103.482 298.95 102.488 300.138 101.52L301.106 102.532C300.05 103.471 299.173 104.395 298.477 105.304C297.78 106.213 297.259 107.222 296.915 108.329C296.57 109.436 296.398 110.76 296.398 112.3ZM315.309 106.932L316.2 108.351L308.434 113.114L316.2 117.921L315.21 119.274L306.85 114.049V112.157L315.309 106.932ZM325.497 108.175C326.524 108.175 327.342 108.424 327.95 108.923C328.566 109.422 329.01 110.126 329.281 111.035C329.553 111.937 329.688 112.993 329.688 114.203C329.688 115.369 329.523 116.41 329.193 117.327C328.871 118.236 328.379 118.951 327.719 119.472C327.059 119.993 326.227 120.253 325.222 120.253C323.954 120.253 322.934 119.806 322.164 118.911V124.433L320.316 124.664V108.417H321.889L322.043 110.034C322.469 109.44 322.975 108.982 323.561 108.659C324.148 108.336 324.793 108.175 325.497 108.175ZM325.057 109.66C324.419 109.66 323.855 109.854 323.363 110.243C322.872 110.624 322.472 111.05 322.164 111.519V117.261C322.465 117.708 322.843 118.064 323.297 118.328C323.759 118.585 324.265 118.713 324.815 118.713C325.776 118.713 326.498 118.346 326.982 117.613C327.466 116.88 327.708 115.739 327.708 114.192C327.708 111.171 326.825 109.66 325.057 109.66ZM333.618 120V118.581H335.422V109.836H333.618V108.417H336.83L337.171 111.156C337.618 110.203 338.161 109.466 338.799 108.945C339.437 108.424 340.28 108.164 341.329 108.164C341.652 108.164 341.938 108.19 342.187 108.241C342.444 108.285 342.704 108.344 342.968 108.417L342.704 112.333H341.186V109.869C341.157 109.869 341.124 109.869 341.087 109.869C339.312 109.869 338.04 111.138 337.27 113.675V118.581H339.624V120H333.618ZM351.11 108.175C352.746 108.175 353.981 108.721 354.817 109.814C355.653 110.907 356.071 112.37 356.071 114.203C356.071 115.384 355.881 116.429 355.499 117.338C355.118 118.247 354.557 118.962 353.816 119.483C353.076 119.996 352.166 120.253 351.088 120.253C349.453 120.253 348.214 119.703 347.37 118.603C346.527 117.503 346.105 116.044 346.105 114.225C346.105 113.037 346.296 111.988 346.677 111.079C347.059 110.162 347.62 109.451 348.36 108.945C349.108 108.432 350.025 108.175 351.11 108.175ZM351.11 109.682C350.113 109.682 349.358 110.052 348.844 110.793C348.338 111.534 348.085 112.678 348.085 114.225C348.085 115.758 348.335 116.894 348.833 117.635C349.339 118.368 350.091 118.735 351.088 118.735C352.086 118.735 352.834 118.365 353.332 117.624C353.838 116.883 354.091 115.743 354.091 114.203C354.091 112.663 353.842 111.526 353.343 110.793C352.845 110.052 352.1 109.682 351.11 109.682ZM365.743 102.994C366.153 102.994 366.483 103.119 366.733 103.368C366.982 103.617 367.107 103.922 367.107 104.281C367.107 104.655 366.982 104.97 366.733 105.227C366.483 105.476 366.153 105.601 365.743 105.601C365.347 105.601 365.028 105.476 364.786 105.227C364.544 104.97 364.423 104.655 364.423 104.281C364.423 103.922 364.544 103.617 364.786 103.368C365.028 103.119 365.347 102.994 365.743 102.994ZM367.47 108.417V118.141C367.47 119.432 367.176 120.513 366.59 121.386C366.01 122.259 365.171 122.955 364.071 123.476C362.971 124.004 361.643 124.4 360.089 124.664L359.781 123.234C360.925 123.043 361.937 122.757 362.817 122.376C363.697 121.995 364.382 121.474 364.874 120.814C365.372 120.154 365.622 119.303 365.622 118.262V109.88H360.804V108.417H367.47ZM374.534 114.863C374.585 116.205 374.937 117.184 375.59 117.8C376.25 118.409 377.027 118.713 377.922 118.713C378.516 118.713 379.051 118.625 379.528 118.449C380.005 118.273 380.5 118.013 381.013 117.668L381.882 118.889C381.347 119.314 380.731 119.648 380.034 119.89C379.337 120.132 378.626 120.253 377.9 120.253C376.771 120.253 375.81 120 375.018 119.494C374.233 118.988 373.632 118.284 373.214 117.382C372.803 116.473 372.598 115.42 372.598 114.225C372.598 113.052 372.803 112.01 373.214 111.101C373.632 110.192 374.219 109.477 374.974 108.956C375.737 108.435 376.631 108.175 377.658 108.175C379.117 108.175 380.265 108.681 381.101 109.693C381.944 110.705 382.366 112.091 382.366 113.851C382.366 114.049 382.359 114.236 382.344 114.412C382.337 114.588 382.329 114.738 382.322 114.863H374.534ZM377.68 109.693C376.822 109.693 376.103 109.997 375.524 110.606C374.945 111.215 374.618 112.157 374.545 113.433H380.584C380.562 112.194 380.291 111.262 379.77 110.639C379.249 110.008 378.553 109.693 377.68 109.693ZM391.51 118.658C392.089 118.658 392.628 118.566 393.127 118.383C393.633 118.192 394.098 117.947 394.524 117.646L395.425 118.856C394.92 119.289 394.311 119.63 393.6 119.879C392.888 120.128 392.192 120.253 391.51 120.253C390.358 120.253 389.376 120.007 388.562 119.516C387.755 119.017 387.139 118.321 386.714 117.426C386.288 116.524 386.076 115.468 386.076 114.258C386.076 113.099 386.288 112.062 386.714 111.145C387.139 110.228 387.759 109.506 388.573 108.978C389.387 108.443 390.373 108.175 391.532 108.175C393.006 108.175 394.296 108.622 395.404 109.517L394.502 110.749C393.497 110.06 392.5 109.715 391.51 109.715C390.512 109.715 389.691 110.093 389.046 110.848C388.4 111.596 388.078 112.733 388.078 114.258C388.078 115.805 388.4 116.927 389.046 117.624C389.691 118.313 390.512 118.658 391.51 118.658ZM408.661 119.417C408.265 119.681 407.785 119.886 407.22 120.033C406.655 120.18 406.102 120.253 405.559 120.253C404.312 120.253 403.352 119.927 402.677 119.274C402.002 118.621 401.665 117.782 401.665 116.755V109.847H399.003V108.417H401.665V105.788L403.513 105.568V108.417H407.517L407.297 109.847H403.513V116.733C403.513 117.378 403.682 117.87 404.019 118.207C404.364 118.544 404.932 118.713 405.724 118.713C406.157 118.713 406.556 118.662 406.923 118.559C407.29 118.456 407.631 118.324 407.946 118.163L408.661 119.417ZM412.634 114.797V113.191H421.456V114.797H412.634ZM430.237 102.994C430.647 102.994 430.974 103.119 431.216 103.368C431.465 103.617 431.59 103.922 431.59 104.281C431.59 104.655 431.465 104.97 431.216 105.227C430.974 105.476 430.647 105.601 430.237 105.601C429.848 105.601 429.529 105.476 429.28 105.227C429.03 104.97 428.906 104.655 428.906 104.281C428.906 103.922 429.03 103.617 429.28 103.368C429.529 103.119 429.848 102.994 430.237 102.994ZM431.711 108.417V118.537H434.978V120H426.288V118.537H429.863V109.88H426.398V108.417H431.711ZM445.969 103.522L447.817 103.753V120H446.2L446.024 118.471C445.591 119.087 445.093 119.538 444.528 119.824C443.971 120.11 443.373 120.253 442.735 120.253C441.73 120.253 440.902 120 440.249 119.494C439.596 118.988 439.112 118.284 438.797 117.382C438.482 116.473 438.324 115.42 438.324 114.225C438.324 113.066 438.504 112.032 438.863 111.123C439.222 110.206 439.739 109.488 440.414 108.967C441.096 108.439 441.914 108.175 442.867 108.175C444.15 108.175 445.184 108.63 445.969 109.539V103.522ZM443.351 109.66C442.383 109.66 441.639 110.038 441.118 110.793C440.597 111.548 440.337 112.692 440.337 114.225C440.337 117.246 441.265 118.757 443.12 118.757C443.773 118.757 444.334 118.574 444.803 118.207C445.272 117.833 445.661 117.408 445.969 116.931V111.145C445.654 110.676 445.272 110.313 444.825 110.056C444.378 109.792 443.886 109.66 443.351 109.66ZM452.847 106.932L461.306 112.157V114.049L452.957 119.274L451.956 117.91L459.722 113.114L451.956 108.329L452.847 106.932ZM469.811 116.381C470.317 116.381 470.739 116.553 471.076 116.898C471.421 117.243 471.593 117.657 471.593 118.141C471.593 118.405 471.56 118.673 471.494 118.944C471.435 119.215 471.325 119.523 471.164 119.868L469.382 123.949H467.71L468.766 119.604C468.289 119.259 468.051 118.772 468.051 118.141C468.051 117.657 468.22 117.243 468.557 116.898C468.894 116.553 469.312 116.381 469.811 116.381ZM499.989 106.932L500.88 108.351L493.114 113.114L500.88 117.921L499.89 119.274L491.53 114.049V112.157L499.989 106.932ZM505.106 120V118.581H506.91V109.836H505.106V108.417H508.318L508.659 111.156C509.106 110.203 509.649 109.466 510.287 108.945C510.925 108.424 511.768 108.164 512.817 108.164C513.14 108.164 513.426 108.19 513.675 108.241C513.932 108.285 514.192 108.344 514.456 108.417L514.192 112.333H512.674V109.869C512.645 109.869 512.612 109.869 512.575 109.869C510.8 109.869 509.528 111.138 508.758 113.675V118.581H511.112V120H505.106ZM519.64 114.863C519.691 116.205 520.043 117.184 520.696 117.8C521.356 118.409 522.133 118.713 523.028 118.713C523.622 118.713 524.157 118.625 524.634 118.449C525.11 118.273 525.605 118.013 526.119 117.668L526.988 118.889C526.452 119.314 525.836 119.648 525.14 119.89C524.443 120.132 523.732 120.253 523.006 120.253C521.876 120.253 520.916 120 520.124 119.494C519.339 118.988 518.738 118.284 518.32 117.382C517.909 116.473 517.704 115.42 517.704 114.225C517.704 113.052 517.909 112.01 518.32 111.101C518.738 110.192 519.324 109.477 520.08 108.956C520.842 108.435 521.737 108.175 522.764 108.175C524.223 108.175 525.371 108.681 526.207 109.693C527.05 110.705 527.472 112.091 527.472 113.851C527.472 114.049 527.464 114.236 527.45 114.412C527.442 114.588 527.435 114.738 527.428 114.863H519.64ZM522.786 109.693C521.928 109.693 521.209 109.997 520.63 110.606C520.05 111.215 519.724 112.157 519.651 113.433H525.69C525.668 112.194 525.396 111.262 524.876 110.639C524.355 110.008 523.658 109.693 522.786 109.693ZM538.221 103.522C538.844 103.522 539.409 103.577 539.915 103.687C540.421 103.797 540.901 103.951 541.356 104.149L540.762 105.524C540.388 105.363 539.988 105.242 539.563 105.161C539.145 105.08 538.716 105.04 538.276 105.04C536.655 105.04 535.845 105.682 535.845 106.965V109.319H539.772L539.574 110.771H535.845V120H533.997V110.771H531.236V109.319H533.997V107.009C533.997 106.29 534.18 105.671 534.547 105.15C534.921 104.629 535.427 104.23 536.065 103.951C536.703 103.665 537.422 103.522 538.221 103.522ZM545.186 106.932L553.645 112.157V114.049L545.296 119.274L544.295 117.91L552.061 113.114L544.295 108.329L545.186 106.932ZM562.151 116.381C562.657 116.381 563.078 116.553 563.416 116.898C563.76 117.243 563.933 117.657 563.933 118.141C563.933 118.405 563.9 118.673 563.834 118.944C563.775 119.215 563.665 119.523 563.504 119.868L561.722 123.949H560.05L561.106 119.604C560.629 119.259 560.391 118.772 560.391 118.141C560.391 117.657 560.559 117.243 560.897 116.898C561.234 116.553 561.652 116.381 562.151 116.381ZM592.329 106.932L593.22 108.351L585.454 113.114L593.22 117.921L592.23 119.274L583.87 114.049V112.157L592.329 106.932ZM599.184 103.577V110.001C599.639 109.4 600.196 108.945 600.856 108.637C601.523 108.329 602.198 108.175 602.88 108.175C604.009 108.175 604.834 108.476 605.355 109.077C605.876 109.678 606.136 110.514 606.136 111.585V120H604.288V111.629C604.288 110.932 604.127 110.426 603.804 110.111C603.481 109.788 602.975 109.627 602.286 109.627C601.846 109.627 601.428 109.726 601.032 109.924C600.636 110.122 600.28 110.368 599.965 110.661C599.65 110.954 599.389 111.255 599.184 111.563V120H597.336V103.775L599.184 103.577ZM618.821 117.47C618.821 117.939 618.898 118.28 619.052 118.493C619.206 118.706 619.445 118.86 619.767 118.955L619.316 120.253C618.818 120.187 618.381 120.029 618.007 119.78C617.633 119.523 617.362 119.138 617.193 118.625C616.775 119.16 616.251 119.567 615.62 119.846C614.997 120.117 614.311 120.253 613.563 120.253C612.405 120.253 611.492 119.927 610.824 119.274C610.157 118.621 609.823 117.756 609.823 116.678C609.823 115.483 610.289 114.566 611.22 113.928C612.152 113.29 613.497 112.971 615.257 112.971H616.962V112.003C616.962 111.167 616.717 110.577 616.225 110.232C615.741 109.88 615.067 109.704 614.201 109.704C613.82 109.704 613.373 109.752 612.859 109.847C612.346 109.935 611.789 110.085 611.187 110.298L610.703 108.901C611.407 108.637 612.071 108.45 612.694 108.34C613.325 108.23 613.923 108.175 614.487 108.175C615.925 108.175 617.006 108.512 617.732 109.187C618.458 109.862 618.821 110.771 618.821 111.915V117.47ZM614.036 118.845C614.608 118.845 615.151 118.702 615.664 118.416C616.185 118.123 616.618 117.719 616.962 117.206V114.225H615.29C614.014 114.225 613.112 114.445 612.584 114.885C612.064 115.325 611.803 115.915 611.803 116.656C611.803 118.115 612.548 118.845 614.036 118.845ZM627.657 118.724C628.551 118.724 629.255 118.559 629.769 118.229C630.282 117.899 630.539 117.452 630.539 116.887C630.539 116.542 630.473 116.242 630.341 115.985C630.216 115.728 629.956 115.497 629.56 115.292C629.164 115.079 628.555 114.87 627.734 114.665C626.934 114.467 626.238 114.24 625.644 113.983C625.057 113.719 624.599 113.378 624.269 112.96C623.946 112.542 623.785 111.999 623.785 111.332C623.785 110.357 624.192 109.587 625.006 109.022C625.82 108.457 626.879 108.175 628.185 108.175C629.116 108.175 629.926 108.3 630.616 108.549C631.312 108.798 631.903 109.099 632.387 109.451L631.573 110.705C631.14 110.404 630.656 110.159 630.121 109.968C629.593 109.77 628.955 109.671 628.207 109.671C627.297 109.671 626.652 109.814 626.271 110.1C625.889 110.379 625.699 110.742 625.699 111.189C625.699 111.534 625.79 111.82 625.974 112.047C626.164 112.267 626.483 112.465 626.931 112.641C627.378 112.817 627.994 113.011 628.779 113.224C629.534 113.429 630.194 113.671 630.759 113.95C631.323 114.229 631.76 114.595 632.068 115.05C632.383 115.497 632.541 116.08 632.541 116.799C632.541 117.62 632.306 118.288 631.837 118.801C631.367 119.307 630.759 119.677 630.011 119.912C629.27 120.139 628.485 120.253 627.657 120.253C626.608 120.253 625.713 120.103 624.973 119.802C624.239 119.494 623.623 119.124 623.125 118.691L624.181 117.47C624.635 117.844 625.156 118.148 625.743 118.383C626.337 118.61 626.975 118.724 627.657 118.724ZM638.758 103.577V110.001C639.213 109.4 639.77 108.945 640.43 108.637C641.098 108.329 641.772 108.175 642.454 108.175C643.584 108.175 644.409 108.476 644.929 109.077C645.45 109.678 645.71 110.514 645.71 111.585V120H643.862V111.629C643.862 110.932 643.701 110.426 643.378 110.111C643.056 109.788 642.55 109.627 641.86 109.627C641.42 109.627 641.002 109.726 640.606 109.924C640.21 110.122 639.855 110.368 639.539 110.661C639.224 110.954 638.964 111.255 638.758 111.563V120H636.91V103.775L638.758 103.577ZM650.718 106.932L659.177 112.157V114.049L650.828 119.274L649.827 117.91L657.593 113.114L649.827 108.329L650.718 106.932ZM669.607 112.3C669.607 110.76 669.435 109.436 669.09 108.329C668.745 107.222 668.225 106.213 667.528 105.304C666.831 104.395 665.955 103.471 664.899 102.532L665.867 101.52C667.055 102.488 668.071 103.482 668.914 104.501C669.765 105.52 670.414 106.657 670.861 107.911C671.316 109.165 671.543 110.628 671.543 112.3C671.543 113.972 671.316 115.435 670.861 116.689C670.414 117.943 669.765 119.08 668.914 120.099C668.071 121.118 667.055 122.112 665.867 123.08L664.899 122.068C665.948 121.144 666.82 120.224 667.517 119.307C668.214 118.39 668.734 117.378 669.079 116.271C669.431 115.156 669.607 113.833 669.607 112.3Z" fill="#55FFFF"></path>
                <path d="M365.627 232.185L366.199 233.923C365.7 234.077 365.172 234.172 364.615 234.209C364.065 234.246 363.464 234.264 362.811 234.264C364.153 234.88 364.824 235.852 364.824 237.179C364.824 238.323 364.439 239.265 363.669 240.006C362.906 240.747 361.839 241.117 360.468 241.117C360.079 241.117 359.753 241.099 359.489 241.062C359.232 241.025 358.983 240.97 358.741 240.897C358.565 241.022 358.418 241.187 358.301 241.392C358.191 241.59 358.136 241.799 358.136 242.019C358.136 242.298 358.246 242.529 358.466 242.712C358.686 242.895 359.093 242.987 359.687 242.987H361.777C362.554 242.987 363.251 243.126 363.867 243.405C364.483 243.684 364.971 244.061 365.33 244.538C365.689 245.007 365.869 245.539 365.869 246.133C365.869 247.27 365.385 248.142 364.417 248.751C363.456 249.36 362.096 249.664 360.336 249.664C359.104 249.664 358.132 249.536 357.421 249.279C356.71 249.03 356.2 248.645 355.892 248.124C355.591 247.611 355.441 246.962 355.441 246.177H357.113C357.113 246.624 357.201 246.995 357.377 247.288C357.553 247.581 357.872 247.798 358.334 247.937C358.796 248.084 359.46 248.157 360.325 248.157C361.601 248.157 362.532 247.996 363.119 247.673C363.706 247.358 363.999 246.885 363.999 246.254C363.999 245.704 363.75 245.29 363.251 245.011C362.752 244.732 362.129 244.593 361.381 244.593H359.313C358.308 244.593 357.571 244.373 357.102 243.933C356.633 243.493 356.398 242.987 356.398 242.415C356.398 241.623 356.823 240.948 357.674 240.391C356.376 239.702 355.727 238.635 355.727 237.19C355.727 236.405 355.921 235.712 356.31 235.111C356.699 234.502 357.241 234.026 357.938 233.681C358.635 233.336 359.438 233.164 360.347 233.164C361.322 233.164 362.114 233.124 362.723 233.043C363.332 232.962 363.852 232.849 364.285 232.702C364.725 232.555 365.172 232.383 365.627 232.185ZM360.347 234.517C359.416 234.517 358.726 234.77 358.279 235.276C357.839 235.782 357.619 236.42 357.619 237.19C357.619 237.975 357.843 238.62 358.29 239.126C358.745 239.632 359.445 239.885 360.391 239.885C361.205 239.885 361.828 239.647 362.261 239.17C362.694 238.693 362.91 238.03 362.91 237.179C362.91 235.404 362.056 234.517 360.347 234.517ZM373.791 227.994C374.202 227.994 374.528 228.119 374.77 228.368C375.02 228.617 375.144 228.922 375.144 229.281C375.144 229.655 375.02 229.97 374.77 230.227C374.528 230.476 374.202 230.601 373.791 230.601C373.403 230.601 373.084 230.476 372.834 230.227C372.585 229.97 372.46 229.655 372.46 229.281C372.46 228.922 372.585 228.617 372.834 228.368C373.084 228.119 373.403 227.994 373.791 227.994ZM375.265 233.417V243.537H378.532V245H369.842V243.537H373.417V234.88H369.952V233.417H375.265ZM391.79 244.417C391.394 244.681 390.913 244.886 390.349 245.033C389.784 245.18 389.23 245.253 388.688 245.253C387.441 245.253 386.48 244.927 385.806 244.274C385.131 243.621 384.794 242.782 384.794 241.755V234.847H382.132V233.417H384.794V230.788L386.642 230.568V233.417H390.646L390.426 234.847H386.642V241.733C386.642 242.378 386.81 242.87 387.148 243.207C387.492 243.544 388.061 243.713 388.853 243.713C389.285 243.713 389.685 243.662 390.052 243.559C390.418 243.456 390.759 243.324 391.075 243.163L391.79 244.417ZM415.819 228.522C416.442 228.522 417.007 228.577 417.513 228.687C418.019 228.797 418.499 228.951 418.954 229.149L418.36 230.524C417.986 230.363 417.586 230.242 417.161 230.161C416.743 230.08 416.314 230.04 415.874 230.04C414.253 230.04 413.443 230.682 413.443 231.965V234.319H417.37L417.172 235.771H413.443V245H411.595V235.771H408.834V234.319H411.595V232.009C411.595 231.29 411.778 230.671 412.145 230.15C412.519 229.629 413.025 229.23 413.663 228.951C414.301 228.665 415.019 228.522 415.819 228.522ZM423.62 239.863C423.671 241.205 424.023 242.184 424.676 242.8C425.336 243.409 426.113 243.713 427.008 243.713C427.602 243.713 428.137 243.625 428.614 243.449C429.091 243.273 429.586 243.013 430.099 242.668L430.968 243.889C430.433 244.314 429.817 244.648 429.12 244.89C428.423 245.132 427.712 245.253 426.986 245.253C425.857 245.253 424.896 245 424.104 244.494C423.319 243.988 422.718 243.284 422.3 242.382C421.889 241.473 421.684 240.42 421.684 239.225C421.684 238.052 421.889 237.01 422.3 236.101C422.718 235.192 423.305 234.477 424.06 233.956C424.823 233.435 425.717 233.175 426.744 233.175C428.203 233.175 429.351 233.681 430.187 234.693C431.03 235.705 431.452 237.091 431.452 238.851C431.452 239.049 431.445 239.236 431.43 239.412C431.423 239.588 431.415 239.738 431.408 239.863H423.62ZM426.766 234.693C425.908 234.693 425.189 234.997 424.61 235.606C424.031 236.215 423.704 237.157 423.631 238.433H429.67C429.648 237.194 429.377 236.262 428.856 235.639C428.335 235.008 427.639 234.693 426.766 234.693ZM444.555 244.417C444.159 244.681 443.679 244.886 443.114 245.033C442.55 245.18 441.996 245.253 441.453 245.253C440.207 245.253 439.246 244.927 438.571 244.274C437.897 243.621 437.559 242.782 437.559 241.755V234.847H434.897V233.417H437.559V230.788L439.407 230.568V233.417H443.411L443.191 234.847H439.407V241.733C439.407 242.378 439.576 242.87 439.913 243.207C440.258 243.544 440.826 243.713 441.618 243.713C442.051 243.713 442.451 243.662 442.817 243.559C443.184 243.456 443.525 243.324 443.84 243.163L444.555 244.417ZM453.787 243.658C454.366 243.658 454.905 243.566 455.404 243.383C455.91 243.192 456.376 242.947 456.801 242.646L457.703 243.856C457.197 244.289 456.588 244.63 455.877 244.879C455.166 245.128 454.469 245.253 453.787 245.253C452.636 245.253 451.653 245.007 450.839 244.516C450.032 244.017 449.416 243.321 448.991 242.426C448.566 241.524 448.353 240.468 448.353 239.258C448.353 238.099 448.566 237.062 448.991 236.145C449.416 235.228 450.036 234.506 450.85 233.978C451.664 233.443 452.65 233.175 453.809 233.175C455.283 233.175 456.574 233.622 457.681 234.517L456.779 235.749C455.774 235.06 454.777 234.715 453.787 234.715C452.79 234.715 451.968 235.093 451.323 235.848C450.678 236.596 450.355 237.733 450.355 239.258C450.355 240.805 450.678 241.927 451.323 242.624C451.968 243.313 452.79 243.658 453.787 243.658ZM463.59 228.577V235.001C464.045 234.4 464.602 233.945 465.262 233.637C465.93 233.329 466.604 233.175 467.286 233.175C468.416 233.175 469.241 233.476 469.761 234.077C470.282 234.678 470.542 235.514 470.542 236.585V245H468.694V236.629C468.694 235.932 468.533 235.426 468.21 235.111C467.888 234.788 467.382 234.627 466.692 234.627C466.252 234.627 465.834 234.726 465.438 234.924C465.042 235.122 464.687 235.368 464.371 235.661C464.056 235.954 463.796 236.255 463.59 236.563V245H461.742V228.775L463.59 228.577ZM488.235 245V243.581H490.039V234.836H488.235V233.417H491.447L491.788 236.156C492.235 235.203 492.778 234.466 493.416 233.945C494.054 233.424 494.897 233.164 495.946 233.164C496.269 233.164 496.555 233.19 496.804 233.241C497.061 233.285 497.321 233.344 497.585 233.417L497.321 237.333H495.803V234.869C495.774 234.869 495.741 234.869 495.704 234.869C493.929 234.869 492.657 236.138 491.887 238.675V243.581H494.241V245H488.235ZM509.61 242.47C509.61 242.939 509.687 243.28 509.841 243.493C509.995 243.706 510.234 243.86 510.556 243.955L510.105 245.253C509.607 245.187 509.17 245.029 508.796 244.78C508.422 244.523 508.151 244.138 507.982 243.625C507.564 244.16 507.04 244.567 506.409 244.846C505.786 245.117 505.1 245.253 504.352 245.253C503.194 245.253 502.281 244.927 501.613 244.274C500.946 243.621 500.612 242.756 500.612 241.678C500.612 240.483 501.078 239.566 502.009 238.928C502.941 238.29 504.286 237.971 506.046 237.971H507.751V237.003C507.751 236.167 507.506 235.577 507.014 235.232C506.53 234.88 505.856 234.704 504.99 234.704C504.609 234.704 504.162 234.752 503.648 234.847C503.135 234.935 502.578 235.085 501.976 235.298L501.492 233.901C502.196 233.637 502.86 233.45 503.483 233.34C504.114 233.23 504.712 233.175 505.276 233.175C506.714 233.175 507.795 233.512 508.521 234.187C509.247 234.862 509.61 235.771 509.61 236.915V242.47ZM504.825 243.845C505.397 243.845 505.94 243.702 506.453 243.416C506.974 243.123 507.407 242.719 507.751 242.206V239.225H506.079C504.803 239.225 503.901 239.445 503.373 239.885C502.853 240.325 502.592 240.915 502.592 241.656C502.592 243.115 503.337 243.845 504.825 243.845ZM521.438 228.522L523.286 228.753V245H521.669L521.493 243.471C521.06 244.087 520.562 244.538 519.997 244.824C519.44 245.11 518.842 245.253 518.204 245.253C517.199 245.253 516.371 245 515.718 244.494C515.065 243.988 514.581 243.284 514.266 242.382C513.951 241.473 513.793 240.42 513.793 239.225C513.793 238.066 513.973 237.032 514.332 236.123C514.691 235.206 515.208 234.488 515.883 233.967C516.565 233.439 517.383 233.175 518.336 233.175C519.619 233.175 520.653 233.63 521.438 234.539V228.522ZM518.82 234.66C517.852 234.66 517.108 235.038 516.587 235.793C516.066 236.548 515.806 237.692 515.806 239.225C515.806 242.246 516.734 243.757 518.589 243.757C519.242 243.757 519.803 243.574 520.272 243.207C520.741 242.833 521.13 242.408 521.438 241.931V236.145C521.123 235.676 520.741 235.313 520.294 235.056C519.847 234.792 519.355 234.66 518.82 234.66ZM530.295 235.529C530.295 235.038 530.464 234.62 530.801 234.275C531.146 233.93 531.568 233.758 532.066 233.758C532.58 233.758 533.005 233.93 533.342 234.275C533.687 234.62 533.859 235.038 533.859 235.529C533.859 236.02 533.687 236.442 533.342 236.794C533.005 237.146 532.58 237.322 532.066 237.322C531.568 237.322 531.146 237.146 530.801 236.794C530.464 236.442 530.295 236.02 530.295 235.529ZM530.295 243.46C530.295 242.983 530.464 242.569 530.801 242.217C531.146 241.865 531.568 241.689 532.066 241.689C532.58 241.689 533.005 241.865 533.342 242.217C533.687 242.569 533.859 242.983 533.859 243.46C533.859 243.959 533.687 244.384 533.342 244.736C533.005 245.081 532.58 245.253 532.066 245.253C531.568 245.253 531.146 245.081 530.801 244.736C530.464 244.384 530.295 243.959 530.295 243.46ZM542.422 247.266L540.926 246.606L550.342 227.191L551.816 227.917L542.422 247.266ZM553.422 247.266L551.926 246.606L561.342 227.191L562.816 227.917L553.422 247.266ZM575.458 231.932L576.349 233.351L568.583 238.114L576.349 242.921L575.359 244.274L566.999 239.049V237.157L575.458 231.932ZM585.646 233.175C586.673 233.175 587.49 233.424 588.099 233.923C588.715 234.422 589.159 235.126 589.43 236.035C589.701 236.937 589.837 237.993 589.837 239.203C589.837 240.369 589.672 241.41 589.342 242.327C589.019 243.236 588.528 243.951 587.868 244.472C587.208 244.993 586.376 245.253 585.371 245.253C584.102 245.253 583.083 244.806 582.313 243.911V249.433L580.465 249.664V233.417H582.038L582.192 235.034C582.617 234.44 583.123 233.982 583.71 233.659C584.297 233.336 584.942 233.175 585.646 233.175ZM585.206 234.66C584.568 234.66 584.003 234.854 583.512 235.243C583.021 235.624 582.621 236.05 582.313 236.519V242.261C582.614 242.708 582.991 243.064 583.446 243.328C583.908 243.585 584.414 243.713 584.964 243.713C585.925 243.713 586.647 243.346 587.131 242.613C587.615 241.88 587.857 240.739 587.857 239.192C587.857 236.171 586.973 234.66 585.206 234.66ZM593.766 245V243.581H595.57V234.836H593.766V233.417H596.978L597.319 236.156C597.767 235.203 598.309 234.466 598.947 233.945C599.585 233.424 600.429 233.164 601.477 233.164C601.8 233.164 602.086 233.19 602.335 233.241C602.592 233.285 602.852 233.344 603.116 233.417L602.852 237.333H601.334V234.869C601.305 234.869 601.272 234.869 601.235 234.869C599.461 234.869 598.188 236.138 597.418 238.675V243.581H599.772V245H593.766ZM611.259 233.175C612.894 233.175 614.13 233.721 614.966 234.814C615.802 235.907 616.22 237.37 616.22 239.203C616.22 240.384 616.029 241.429 615.648 242.338C615.266 243.247 614.705 243.962 613.965 244.483C613.224 244.996 612.315 245.253 611.237 245.253C609.601 245.253 608.362 244.703 607.519 243.603C606.675 242.503 606.254 241.044 606.254 239.225C606.254 238.037 606.444 236.988 606.826 236.079C607.207 235.162 607.768 234.451 608.509 233.945C609.257 233.432 610.173 233.175 611.259 233.175ZM611.259 234.682C610.261 234.682 609.506 235.052 608.993 235.793C608.487 236.534 608.234 237.678 608.234 239.225C608.234 240.758 608.483 241.894 608.982 242.635C609.488 243.368 610.239 243.735 611.237 243.735C612.234 243.735 612.982 243.365 613.481 242.624C613.987 241.883 614.24 240.743 614.24 239.203C614.24 237.663 613.99 236.526 613.492 235.793C612.993 235.052 612.249 234.682 611.259 234.682ZM625.891 227.994C626.302 227.994 626.632 228.119 626.881 228.368C627.13 228.617 627.255 228.922 627.255 229.281C627.255 229.655 627.13 229.97 626.881 230.227C626.632 230.476 626.302 230.601 625.891 230.601C625.495 230.601 625.176 230.476 624.934 230.227C624.692 229.97 624.571 229.655 624.571 229.281C624.571 228.922 624.692 228.617 624.934 228.368C625.176 228.119 625.495 227.994 625.891 227.994ZM627.618 233.417V243.141C627.618 244.432 627.325 245.513 626.738 246.386C626.159 247.259 625.319 247.955 624.219 248.476C623.119 249.004 621.792 249.4 620.237 249.664L619.929 248.234C621.073 248.043 622.085 247.757 622.965 247.376C623.845 246.995 624.531 246.474 625.022 245.814C625.521 245.154 625.77 244.303 625.77 243.262V234.88H620.952V233.417H627.618ZM634.683 239.863C634.734 241.205 635.086 242.184 635.739 242.8C636.399 243.409 637.176 243.713 638.071 243.713C638.665 243.713 639.2 243.625 639.677 243.449C640.153 243.273 640.648 243.013 641.162 242.668L642.031 243.889C641.495 244.314 640.879 244.648 640.183 244.89C639.486 245.132 638.775 245.253 638.049 245.253C636.919 245.253 635.959 245 635.167 244.494C634.382 243.988 633.781 243.284 633.363 242.382C632.952 241.473 632.747 240.42 632.747 239.225C632.747 238.052 632.952 237.01 633.363 236.101C633.781 235.192 634.367 234.477 635.123 233.956C635.885 233.435 636.78 233.175 637.807 233.175C639.266 233.175 640.414 233.681 641.25 234.693C642.093 235.705 642.515 237.091 642.515 238.851C642.515 239.049 642.507 239.236 642.493 239.412C642.485 239.588 642.478 239.738 642.471 239.863H634.683ZM637.829 234.693C636.971 234.693 636.252 234.997 635.673 235.606C635.093 236.215 634.767 237.157 634.694 238.433H640.733C640.711 237.194 640.439 236.262 639.919 235.639C639.398 235.008 638.701 234.693 637.829 234.693ZM651.658 243.658C652.237 243.658 652.776 243.566 653.275 243.383C653.781 243.192 654.247 242.947 654.672 242.646L655.574 243.856C655.068 244.289 654.459 244.63 653.748 244.879C653.037 245.128 652.34 245.253 651.658 245.253C650.507 245.253 649.524 245.007 648.71 244.516C647.903 244.017 647.287 243.321 646.862 242.426C646.437 241.524 646.224 240.468 646.224 239.258C646.224 238.099 646.437 237.062 646.862 236.145C647.287 235.228 647.907 234.506 648.721 233.978C649.535 233.443 650.521 233.175 651.68 233.175C653.154 233.175 654.445 233.622 655.552 234.517L654.65 235.749C653.645 235.06 652.648 234.715 651.658 234.715C650.661 234.715 649.839 235.093 649.194 235.848C648.549 236.596 648.226 237.733 648.226 239.258C648.226 240.805 648.549 241.927 649.194 242.624C649.839 243.313 650.661 243.658 651.658 243.658ZM668.809 244.417C668.413 244.681 667.933 244.886 667.368 245.033C666.804 245.18 666.25 245.253 665.707 245.253C664.461 245.253 663.5 244.927 662.825 244.274C662.151 243.621 661.813 242.782 661.813 241.755V234.847H659.151V233.417H661.813V230.788L663.661 230.568V233.417H667.665L667.445 234.847H663.661V241.733C663.661 242.378 663.83 242.87 664.167 243.207C664.512 243.544 665.08 243.713 665.872 243.713C666.305 243.713 666.705 243.662 667.071 243.559C667.438 243.456 667.779 243.324 668.094 243.163L668.809 244.417ZM672.783 239.797V238.191H681.605V239.797H672.783ZM690.385 227.994C690.796 227.994 691.122 228.119 691.364 228.368C691.613 228.617 691.738 228.922 691.738 229.281C691.738 229.655 691.613 229.97 691.364 230.227C691.122 230.476 690.796 230.601 690.385 230.601C689.996 230.601 689.677 230.476 689.428 230.227C689.179 229.97 689.054 229.655 689.054 229.281C689.054 228.922 689.179 228.617 689.428 228.368C689.677 228.119 689.996 227.994 690.385 227.994ZM691.859 233.417V243.537H695.126V245H686.436V243.537H690.011V234.88H686.546V233.417H691.859ZM706.118 228.522L707.966 228.753V245H706.349L706.173 243.471C705.74 244.087 705.241 244.538 704.677 244.824C704.119 245.11 703.522 245.253 702.884 245.253C701.879 245.253 701.05 245 700.398 244.494C699.745 243.988 699.261 243.284 698.946 242.382C698.63 241.473 698.473 240.42 698.473 239.225C698.473 238.066 698.652 237.032 699.012 236.123C699.371 235.206 699.888 234.488 700.563 233.967C701.245 233.439 702.062 233.175 703.016 233.175C704.299 233.175 705.333 233.63 706.118 234.539V228.522ZM703.5 234.66C702.532 234.66 701.787 235.038 701.267 235.793C700.746 236.548 700.486 237.692 700.486 239.225C700.486 242.246 701.413 243.757 703.269 243.757C703.921 243.757 704.482 243.574 704.952 243.207C705.421 242.833 705.81 242.408 706.118 241.931V236.145C705.802 235.676 705.421 235.313 704.974 235.056C704.526 234.792 704.035 234.66 703.5 234.66ZM712.995 231.932L721.454 237.157V239.049L713.105 244.274L712.104 242.91L719.87 238.114L712.104 233.329L712.995 231.932ZM726.01 247.266L724.514 246.606L733.93 227.191L735.404 227.917L726.01 247.266ZM746.946 231.932L747.837 233.351L740.071 238.114L747.837 242.921L746.847 244.274L738.487 239.049V237.157L746.946 231.932ZM752.063 245V243.581H753.867V234.836H752.063V233.417H755.275L755.616 236.156C756.064 235.203 756.606 234.466 757.244 233.945C757.882 233.424 758.726 233.164 759.774 233.164C760.097 233.164 760.383 233.19 760.632 233.241C760.889 233.285 761.149 233.344 761.413 233.417L761.149 237.333H759.631V234.869C759.602 234.869 759.569 234.869 759.532 234.869C757.758 234.869 756.485 236.138 755.715 238.675V243.581H758.069V245H752.063ZM766.597 239.863C766.648 241.205 767 242.184 767.653 242.8C768.313 243.409 769.09 243.713 769.985 243.713C770.579 243.713 771.114 243.625 771.591 243.449C772.067 243.273 772.562 243.013 773.076 242.668L773.945 243.889C773.409 244.314 772.793 244.648 772.097 244.89C771.4 245.132 770.689 245.253 769.963 245.253C768.833 245.253 767.873 245 767.081 244.494C766.296 243.988 765.695 243.284 765.277 242.382C764.866 241.473 764.661 240.42 764.661 239.225C764.661 238.052 764.866 237.01 765.277 236.101C765.695 235.192 766.281 234.477 767.037 233.956C767.799 233.435 768.694 233.175 769.721 233.175C771.18 233.175 772.328 233.681 773.164 234.693C774.007 235.705 774.429 237.091 774.429 238.851C774.429 239.049 774.421 239.236 774.407 239.412C774.399 239.588 774.392 239.738 774.385 239.863H766.597ZM769.743 234.693C768.885 234.693 768.166 234.997 767.587 235.606C767.007 236.215 766.681 237.157 766.608 238.433H772.647C772.625 237.194 772.353 236.262 771.833 235.639C771.312 235.008 770.615 234.693 769.743 234.693ZM785.178 228.522C785.801 228.522 786.366 228.577 786.872 228.687C787.378 228.797 787.858 228.951 788.313 229.149L787.719 230.524C787.345 230.363 786.945 230.242 786.52 230.161C786.102 230.08 785.673 230.04 785.233 230.04C783.612 230.04 782.802 230.682 782.802 231.965V234.319H786.729L786.531 235.771H782.802V245H780.954V235.771H778.193V234.319H780.954V232.009C780.954 231.29 781.137 230.671 781.504 230.15C781.878 229.629 782.384 229.23 783.022 228.951C783.66 228.665 784.379 228.522 785.178 228.522ZM792.143 231.932L800.602 237.157V239.049L792.253 244.274L791.252 242.91L799.018 238.114L791.252 233.329L792.143 231.932Z" fill="#FF55FF"></path>
                <path d="M824.354 136.354C824.549 136.158 824.549 135.842 824.354 135.646L821.172 132.464C820.976 132.269 820.66 132.269 820.464 132.464C820.269 132.66 820.269 132.976 820.464 133.172L823.293 136L820.464 138.828C820.269 139.024 820.269 139.34 820.464 139.536C820.66 139.731 820.976 139.731 821.172 139.536L824.354 136.354ZM154 136.5H824V135.5H154V136.5Z" fill="#55FFFF"></path>
                <path d="M153.646 260.646C153.451 260.842 153.451 261.158 153.646 261.353L156.828 264.535C157.024 264.731 157.34 264.731 157.536 264.535C157.731 264.34 157.731 264.024 157.536 263.828L154.707 261L157.536 258.172C157.731 257.976 157.731 257.66 157.536 257.464C157.34 257.269 157.024 257.269 156.828 257.464L153.646 260.646ZM824 260.5L154 260.5L154 261.5L824 261.5L824 260.5Z" fill="#FF55FF"></path>
                </svg>
</figure>

        <h3>Tracking and discovery</h3>
        <p>
          When a project is published to the network the specific repository or <em>source tree</em> becomes
          identifiable by the maintainer of this tree. This allows repositories to be addressed by a shareable URL,
          which is then resolved to a physical location on the network, for the purpose of replication. This URL has the
          following form:
        </p>
        <pre>rad://&lt;project-id&gt;/&lt;maintainer-id&gt;</pre>
        <p>
          Peers decide what data to replicate through the <strong>tracking</strong> of projects. Tracking a project
          signals interest, and means to impliestracking its maintainers, therefore replicating the data within their
          social graphs. In the context of a project, maintainers of a repository may choose to <strong>track</strong>
          the repositories of other owners (this is called a <strong>remote</strong> in Git terminology: a named
              reference to a remote repository). If the remote repository is found to track other remotes, the tracking
          repository shall also transitively track those, up to a configurable <em>N</em> degrees out.
        </p>
        <figure><svg width="980" height="720" viewBox="0 0 980 720" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M583.5 361.5C583.5 415.086 541.4 458.5 489.5 458.5C437.6 458.5 395.5 415.086 395.5 361.5C395.5 307.914 437.6 264.5 489.5 264.5C541.4 264.5 583.5 307.914 583.5 361.5Z" stroke="#FF55FF"></path>
                <path d="M705.5 362C705.5 484.896 608.557 584.5 489 584.5C369.443 584.5 272.5 484.896 272.5 362C272.5 239.104 369.443 139.5 489 139.5C608.557 139.5 705.5 239.104 705.5 362Z" stroke="#55FFFF"></path>
                <path d="M827.5 360C827.5 551.931 675.936 707.5 489 707.5C302.064 707.5 150.5 551.931 150.5 360C150.5 168.069 302.064 12.5 489 12.5C675.936 12.5 827.5 168.069 827.5 360Z" stroke="#5555FF"></path>
                <rect x="473.5" y="345.5" width="32" height="32" stroke="#FFFF55"></rect>
                <rect x="811.5" y="641.5" width="20" height="20" stroke="#FFFF55"></rect>
                <rect x="567.5" y="218.5" width="32" height="33" stroke="#FFFF55"></rect>
                <rect x="721.5" y="252.5" width="32" height="33" stroke="#FFFF55"></rect>
                <rect x="655.5" y="125.5" width="32" height="32" stroke="#FFFF55"></rect>
                <rect x="770.5" y="75.5" width="31" height="33" stroke="#FFFF55" stroke-dasharray="4 4"></rect>
                <rect x="861.5" y="236.5" width="32" height="33" stroke="#FFFF55" stroke-dasharray="4 4"></rect>
                <rect x="317.5" y="286.5" width="32" height="33" stroke="#FFFF55"></rect>
                <line y1="-0.5" x2="136.331" y2="-0.5" transform="matrix(-0.909913 -0.414799 0.397589 -0.917564 474.141 359.825)" stroke="#FFFF55"></line>
                <line y1="-0.5" x2="125.194" y2="-0.5" transform="matrix(-0.965448 -0.260595 0.248516 -0.968628 721.18 268.475)" stroke="#FFFF55"></line>
                <line y1="-0.5" x2="108.49" y2="-0.5" transform="matrix(-0.987055 0.160384 -0.152637 -0.988282 861.133 252.163)" stroke="#FFFF55" stroke-dasharray="4 4"></line>
                <line x1="655.378" y1="142.328" x2="589.024" y2="218.778" stroke="#FFFF55"></line>
                <line x1="770.249" y1="92.4338" x2="688.249" y2="139.434" stroke="#FFFF55" stroke-dasharray="4 4"></line>
                <line y1="-0.5" x2="133.76" y2="-0.5" transform="matrix(0.570709 -0.821152 0.807229 0.590239 505.949 362)" stroke="#FFFF55"></line>
                <path d="M444.321 218V216.581H446.125V207.836H444.321V206.417H447.533L447.874 209.156C448.321 208.203 448.864 207.466 449.502 206.945C450.14 206.424 450.983 206.164 452.032 206.164C452.355 206.164 452.641 206.19 452.89 206.241C453.147 206.285 453.407 206.344 453.671 206.417L453.407 210.333H451.889V207.869C451.86 207.869 451.827 207.869 451.79 207.869C450.015 207.869 448.743 209.138 447.973 211.675V216.581H450.327V218H444.321ZM458.854 212.863C458.906 214.205 459.258 215.184 459.91 215.8C460.57 216.409 461.348 216.713 462.242 216.713C462.836 216.713 463.372 216.625 463.848 216.449C464.325 216.273 464.82 216.013 465.333 215.668L466.202 216.889C465.667 217.314 465.051 217.648 464.354 217.89C463.658 218.132 462.946 218.253 462.22 218.253C461.091 218.253 460.13 218 459.338 217.494C458.554 216.988 457.952 216.284 457.534 215.382C457.124 214.473 456.918 213.42 456.918 212.225C456.918 211.052 457.124 210.01 457.534 209.101C457.952 208.192 458.539 207.477 459.294 206.956C460.057 206.435 460.952 206.175 461.978 206.175C463.438 206.175 464.585 206.681 465.421 207.693C466.265 208.705 466.686 210.091 466.686 211.851C466.686 212.049 466.679 212.236 466.664 212.412C466.657 212.588 466.65 212.738 466.642 212.863H458.854ZM462 207.693C461.142 207.693 460.424 207.997 459.844 208.606C459.265 209.215 458.939 210.157 458.865 211.433H464.904C464.882 210.194 464.611 209.262 464.09 208.639C463.57 208.008 462.873 207.693 462 207.693ZM478.228 206.175C478.594 206.175 478.95 206.256 479.295 206.417C479.639 206.578 479.922 206.89 480.142 207.352C480.362 207.814 480.472 208.489 480.472 209.376V218H478.756V209.673C478.756 208.947 478.712 208.423 478.624 208.1C478.536 207.777 478.283 207.616 477.865 207.616C477.52 207.616 477.175 207.726 476.831 207.946C476.486 208.159 476.156 208.511 475.841 209.002V218H474.114V209.673C474.114 208.947 474.07 208.423 473.982 208.1C473.894 207.777 473.641 207.616 473.223 207.616C472.863 207.616 472.515 207.726 472.178 207.946C471.84 208.159 471.514 208.511 471.199 209.002V218H469.494V206.417H470.946L471.056 207.759C471.371 207.312 471.723 206.938 472.112 206.637C472.508 206.329 472.995 206.175 473.575 206.175C474.015 206.175 474.429 206.281 474.818 206.494C475.206 206.699 475.492 207.103 475.676 207.704C475.991 207.249 476.347 206.883 476.743 206.604C477.139 206.318 477.634 206.175 478.228 206.175ZM488.196 206.175C489.832 206.175 491.067 206.721 491.903 207.814C492.739 208.907 493.157 210.37 493.157 212.203C493.157 213.384 492.967 214.429 492.585 215.338C492.204 216.247 491.643 216.962 490.902 217.483C490.162 217.996 489.252 218.253 488.174 218.253C486.539 218.253 485.3 217.703 484.456 216.603C483.613 215.503 483.191 214.044 483.191 212.225C483.191 211.037 483.382 209.988 483.763 209.079C484.145 208.162 484.706 207.451 485.446 206.945C486.194 206.432 487.111 206.175 488.196 206.175ZM488.196 207.682C487.199 207.682 486.444 208.052 485.93 208.793C485.424 209.534 485.171 210.678 485.171 212.225C485.171 213.758 485.421 214.894 485.919 215.635C486.425 216.368 487.177 216.735 488.174 216.735C489.172 216.735 489.92 216.365 490.418 215.624C490.924 214.883 491.177 213.743 491.177 212.203C491.177 210.663 490.928 209.526 490.429 208.793C489.931 208.052 489.186 207.682 488.196 207.682ZM506.173 217.417C505.777 217.681 505.296 217.886 504.732 218.033C504.167 218.18 503.613 218.253 503.071 218.253C501.824 218.253 500.863 217.927 500.189 217.274C499.514 216.621 499.177 215.782 499.177 214.755V207.847H496.515V206.417H499.177V203.788L501.025 203.568V206.417H505.029L504.809 207.847H501.025V214.733C501.025 215.378 501.193 215.87 501.531 216.207C501.875 216.544 502.444 216.713 503.236 216.713C503.668 216.713 504.068 216.662 504.435 216.559C504.801 216.456 505.142 216.324 505.458 216.163L506.173 217.417ZM511.62 212.863C511.671 214.205 512.023 215.184 512.676 215.8C513.336 216.409 514.113 216.713 515.008 216.713C515.602 216.713 516.137 216.625 516.614 216.449C517.091 216.273 517.586 216.013 518.099 215.668L518.968 216.889C518.433 217.314 517.817 217.648 517.12 217.89C516.423 218.132 515.712 218.253 514.986 218.253C513.857 218.253 512.896 218 512.104 217.494C511.319 216.988 510.718 216.284 510.3 215.382C509.889 214.473 509.684 213.42 509.684 212.225C509.684 211.052 509.889 210.01 510.3 209.101C510.718 208.192 511.305 207.477 512.06 206.956C512.823 206.435 513.717 206.175 514.744 206.175C516.203 206.175 517.351 206.681 518.187 207.693C519.03 208.705 519.452 210.091 519.452 211.851C519.452 212.049 519.445 212.236 519.43 212.412C519.423 212.588 519.415 212.738 519.408 212.863H511.62ZM514.766 207.693C513.908 207.693 513.189 207.997 512.61 208.606C512.031 209.215 511.704 210.157 511.631 211.433H517.67C517.648 210.194 517.377 209.262 516.856 208.639C516.335 208.008 515.639 207.693 514.766 207.693ZM527.297 216.724C528.192 216.724 528.896 216.559 529.409 216.229C529.923 215.899 530.179 215.452 530.179 214.887C530.179 214.542 530.113 214.242 529.981 213.985C529.857 213.728 529.596 213.497 529.2 213.292C528.804 213.079 528.196 212.87 527.374 212.665C526.575 212.467 525.878 212.24 525.284 211.983C524.698 211.719 524.239 211.378 523.909 210.96C523.587 210.542 523.425 209.999 523.425 209.332C523.425 208.357 523.832 207.587 524.646 207.022C525.46 206.457 526.52 206.175 527.825 206.175C528.757 206.175 529.567 206.3 530.256 206.549C530.953 206.798 531.543 207.099 532.027 207.451L531.213 208.705C530.781 208.404 530.297 208.159 529.761 207.968C529.233 207.77 528.595 207.671 527.847 207.671C526.938 207.671 526.293 207.814 525.911 208.1C525.53 208.379 525.339 208.742 525.339 209.189C525.339 209.534 525.431 209.82 525.614 210.047C525.805 210.267 526.124 210.465 526.571 210.641C527.019 210.817 527.635 211.011 528.419 211.224C529.175 211.429 529.835 211.671 530.399 211.95C530.964 212.229 531.4 212.595 531.708 213.05C532.024 213.497 532.181 214.08 532.181 214.799C532.181 215.62 531.947 216.288 531.477 216.801C531.008 217.307 530.399 217.677 529.651 217.912C528.911 218.139 528.126 218.253 527.297 218.253C526.249 218.253 525.354 218.103 524.613 217.802C523.88 217.494 523.264 217.124 522.765 216.691L523.821 215.47C524.276 215.844 524.797 216.148 525.383 216.383C525.977 216.61 526.615 216.724 527.297 216.724Z" fill="#55FFFF"></path>
                <path d="M480.847 299.417L476.777 311.077C476.506 311.862 476.161 312.58 475.743 313.233C475.332 313.886 474.793 314.425 474.126 314.85C473.466 315.283 472.626 315.55 471.607 315.653L471.321 314.179C472.12 314.047 472.751 313.845 473.213 313.574C473.675 313.303 474.038 312.954 474.302 312.529C474.573 312.111 474.812 311.601 475.017 311H474.401L470.353 299.417H472.333L475.655 309.592L478.933 299.417H480.847ZM488.813 299.175C490.449 299.175 491.684 299.721 492.52 300.814C493.356 301.907 493.774 303.37 493.774 305.203C493.774 306.384 493.584 307.429 493.202 308.338C492.821 309.247 492.26 309.962 491.519 310.483C490.779 310.996 489.869 311.253 488.791 311.253C487.156 311.253 485.917 310.703 485.073 309.603C484.23 308.503 483.808 307.044 483.808 305.225C483.808 304.037 483.999 302.988 484.38 302.079C484.762 301.162 485.323 300.451 486.063 299.945C486.811 299.432 487.728 299.175 488.813 299.175ZM488.813 300.682C487.816 300.682 487.061 301.052 486.547 301.793C486.041 302.534 485.788 303.678 485.788 305.225C485.788 306.758 486.038 307.894 486.536 308.635C487.042 309.368 487.794 309.735 488.791 309.735C489.789 309.735 490.537 309.365 491.035 308.624C491.541 307.883 491.794 306.743 491.794 305.203C491.794 303.663 491.545 302.526 491.046 301.793C490.548 301.052 489.803 300.682 488.813 300.682ZM499.442 299.417V307.623C499.442 308.386 499.599 308.936 499.915 309.273C500.23 309.61 500.721 309.779 501.389 309.779C502.027 309.779 502.628 309.599 503.193 309.24C503.765 308.873 504.208 308.441 504.524 307.942V299.417H506.372V311H504.799L504.645 309.438C504.19 310.025 503.625 310.476 502.951 310.791C502.283 311.099 501.612 311.253 500.938 311.253C499.816 311.253 498.976 310.956 498.419 310.362C497.869 309.761 497.594 308.921 497.594 307.843V299.417H499.442Z" fill="#FF55FF"></path>
                <path d="M864.392 647.175C865.419 647.175 866.236 647.424 866.845 647.923C867.461 648.422 867.905 649.126 868.176 650.035C868.447 650.937 868.583 651.993 868.583 653.203C868.583 654.369 868.418 655.41 868.088 656.327C867.765 657.236 867.274 657.951 866.614 658.472C865.954 658.993 865.122 659.253 864.117 659.253C862.848 659.253 861.829 658.806 861.059 657.911V663.433L859.211 663.664V647.417H860.784L860.938 649.034C861.363 648.44 861.869 647.982 862.456 647.659C863.043 647.336 863.688 647.175 864.392 647.175ZM863.952 648.66C863.314 648.66 862.749 648.854 862.258 649.243C861.767 649.624 861.367 650.05 861.059 650.519V656.261C861.36 656.708 861.737 657.064 862.192 657.328C862.654 657.585 863.16 657.713 863.71 657.713C864.671 657.713 865.393 657.346 865.877 656.613C866.361 655.88 866.603 654.739 866.603 653.192C866.603 650.171 865.719 648.66 863.952 648.66ZM873.854 653.863C873.906 655.205 874.258 656.184 874.91 656.8C875.57 657.409 876.348 657.713 877.242 657.713C877.836 657.713 878.372 657.625 878.848 657.449C879.325 657.273 879.82 657.013 880.333 656.668L881.202 657.889C880.667 658.314 880.051 658.648 879.354 658.89C878.658 659.132 877.946 659.253 877.22 659.253C876.091 659.253 875.13 659 874.338 658.494C873.554 657.988 872.952 657.284 872.534 656.382C872.124 655.473 871.918 654.42 871.918 653.225C871.918 652.052 872.124 651.01 872.534 650.101C872.952 649.192 873.539 648.477 874.294 647.956C875.057 647.435 875.952 647.175 876.978 647.175C878.438 647.175 879.585 647.681 880.421 648.693C881.265 649.705 881.686 651.091 881.686 652.851C881.686 653.049 881.679 653.236 881.664 653.412C881.657 653.588 881.65 653.738 881.642 653.863H873.854ZM877 648.693C876.142 648.693 875.424 648.997 874.844 649.606C874.265 650.215 873.939 651.157 873.865 652.433H879.904C879.882 651.194 879.611 650.262 879.09 649.639C878.57 649.008 877.873 648.693 877 648.693ZM887.046 653.863C887.097 655.205 887.449 656.184 888.102 656.8C888.762 657.409 889.539 657.713 890.434 657.713C891.028 657.713 891.563 657.625 892.04 657.449C892.516 657.273 893.011 657.013 893.525 656.668L894.394 657.889C893.858 658.314 893.242 658.648 892.546 658.89C891.849 659.132 891.138 659.253 890.412 659.253C889.282 659.253 888.322 659 887.53 658.494C886.745 657.988 886.144 657.284 885.726 656.382C885.315 655.473 885.11 654.42 885.11 653.225C885.11 652.052 885.315 651.01 885.726 650.101C886.144 649.192 886.73 648.477 887.486 647.956C888.248 647.435 889.143 647.175 890.17 647.175C891.629 647.175 892.777 647.681 893.613 648.693C894.456 649.705 894.878 651.091 894.878 652.851C894.878 653.049 894.87 653.236 894.856 653.412C894.848 653.588 894.841 653.738 894.834 653.863H887.046ZM890.192 648.693C889.334 648.693 888.615 648.997 888.036 649.606C887.456 650.215 887.13 651.157 887.057 652.433H893.096C893.074 651.194 892.802 650.262 892.282 649.639C891.761 649.008 891.064 648.693 890.192 648.693ZM898.895 659V657.581H900.699V648.836H898.895V647.417H902.107L902.448 650.156C902.896 649.203 903.438 648.466 904.076 647.945C904.714 647.424 905.558 647.164 906.606 647.164C906.929 647.164 907.215 647.19 907.464 647.241C907.721 647.285 907.981 647.344 908.245 647.417L907.981 651.333H906.463V648.869C906.434 648.869 906.401 648.869 906.364 648.869C904.59 648.869 903.317 650.138 902.547 652.675V657.581H904.901V659H898.895Z" fill="#FFFF55"></path>
                <path d="M372.321 91V89.581H374.125V80.836H372.321V79.417H375.533L375.874 82.156C376.321 81.2027 376.864 80.4657 377.502 79.945C378.14 79.4243 378.983 79.164 380.032 79.164C380.355 79.164 380.641 79.1897 380.89 79.241C381.147 79.285 381.407 79.3437 381.671 79.417L381.407 83.333H379.889V80.869C379.86 80.869 379.827 80.869 379.79 80.869C378.015 80.869 376.743 82.1377 375.973 84.675V89.581H378.327V91H372.321ZM386.854 85.863C386.906 87.205 387.258 88.184 387.91 88.8C388.57 89.4087 389.348 89.713 390.242 89.713C390.836 89.713 391.372 89.625 391.848 89.449C392.325 89.273 392.82 89.0127 393.333 88.668L394.202 89.889C393.667 90.3143 393.051 90.648 392.354 90.89C391.658 91.132 390.946 91.253 390.22 91.253C389.091 91.253 388.13 91 387.338 90.494C386.554 89.988 385.952 89.284 385.534 88.382C385.124 87.4727 384.918 86.4203 384.918 85.225C384.918 84.0517 385.124 83.0103 385.534 82.101C385.952 81.1917 386.539 80.4767 387.294 79.956C388.057 79.4353 388.952 79.175 389.978 79.175C391.438 79.175 392.585 79.681 393.421 80.693C394.265 81.705 394.686 83.091 394.686 84.851C394.686 85.049 394.679 85.236 394.664 85.412C394.657 85.588 394.65 85.7383 394.642 85.863H386.854ZM390 80.693C389.142 80.693 388.424 80.9973 387.844 81.606C387.265 82.2147 386.939 83.157 386.865 84.433H392.904C392.882 83.1937 392.611 82.2623 392.09 81.639C391.57 81.0083 390.873 80.693 390 80.693ZM406.228 79.175C406.594 79.175 406.95 79.2557 407.295 79.417C407.639 79.5783 407.922 79.89 408.142 80.352C408.362 80.814 408.472 81.4887 408.472 82.376V91H406.756V82.673C406.756 81.947 406.712 81.4227 406.624 81.1C406.536 80.7773 406.283 80.616 405.865 80.616C405.52 80.616 405.175 80.726 404.831 80.946C404.486 81.1587 404.156 81.5107 403.841 82.002V91H402.114V82.673C402.114 81.947 402.07 81.4227 401.982 81.1C401.894 80.7773 401.641 80.616 401.223 80.616C400.863 80.616 400.515 80.726 400.178 80.946C399.84 81.1587 399.514 81.5107 399.199 82.002V91H397.494V79.417H398.946L399.056 80.759C399.371 80.3117 399.723 79.9377 400.112 79.637C400.508 79.329 400.995 79.175 401.575 79.175C402.015 79.175 402.429 79.2813 402.818 79.494C403.206 79.6993 403.492 80.1027 403.676 80.704C403.991 80.2493 404.347 79.8827 404.743 79.604C405.139 79.318 405.634 79.175 406.228 79.175ZM416.196 79.175C417.832 79.175 419.067 79.7213 419.903 80.814C420.739 81.9067 421.157 83.3697 421.157 85.203C421.157 86.3837 420.967 87.4287 420.585 88.338C420.204 89.2473 419.643 89.9623 418.902 90.483C418.162 90.9963 417.252 91.253 416.174 91.253C414.539 91.253 413.3 90.703 412.456 89.603C411.613 88.503 411.191 87.0437 411.191 85.225C411.191 84.037 411.382 82.9883 411.763 82.079C412.145 81.1623 412.706 80.451 413.446 79.945C414.194 79.4317 415.111 79.175 416.196 79.175ZM416.196 80.682C415.199 80.682 414.444 81.0523 413.93 81.793C413.424 82.5337 413.171 83.6777 413.171 85.225C413.171 86.7577 413.421 87.8943 413.919 88.635C414.425 89.3683 415.177 89.735 416.174 89.735C417.172 89.735 417.92 89.3647 418.418 88.624C418.924 87.8833 419.177 86.743 419.177 85.203C419.177 83.663 418.928 82.5263 418.429 81.793C417.931 81.0523 417.186 80.682 416.196 80.682ZM434.173 90.417C433.777 90.681 433.296 90.8863 432.732 91.033C432.167 91.1797 431.613 91.253 431.071 91.253C429.824 91.253 428.863 90.9267 428.189 90.274C427.514 89.6213 427.177 88.7817 427.177 87.755V80.847H424.515V79.417H427.177V76.788L429.025 76.568V79.417H433.029L432.809 80.847H429.025V87.733C429.025 88.3783 429.193 88.8697 429.531 89.207C429.875 89.5443 430.444 89.713 431.236 89.713C431.668 89.713 432.068 89.6617 432.435 89.559C432.801 89.4563 433.142 89.3243 433.458 89.163L434.173 90.417ZM439.62 85.863C439.671 87.205 440.023 88.184 440.676 88.8C441.336 89.4087 442.113 89.713 443.008 89.713C443.602 89.713 444.137 89.625 444.614 89.449C445.091 89.273 445.586 89.0127 446.099 88.668L446.968 89.889C446.433 90.3143 445.817 90.648 445.12 90.89C444.423 91.132 443.712 91.253 442.986 91.253C441.857 91.253 440.896 91 440.104 90.494C439.319 89.988 438.718 89.284 438.3 88.382C437.889 87.4727 437.684 86.4203 437.684 85.225C437.684 84.0517 437.889 83.0103 438.3 82.101C438.718 81.1917 439.305 80.4767 440.06 79.956C440.823 79.4353 441.717 79.175 442.744 79.175C444.203 79.175 445.351 79.681 446.187 80.693C447.03 81.705 447.452 83.091 447.452 84.851C447.452 85.049 447.445 85.236 447.43 85.412C447.423 85.588 447.415 85.7383 447.408 85.863H439.62ZM442.766 80.693C441.908 80.693 441.189 80.9973 440.61 81.606C440.031 82.2147 439.704 83.157 439.631 84.433H445.67C445.648 83.1937 445.377 82.2623 444.856 81.639C444.335 81.0083 443.639 80.693 442.766 80.693ZM455.297 89.724C456.192 89.724 456.896 89.559 457.409 89.229C457.923 88.899 458.179 88.4517 458.179 87.887C458.179 87.5423 458.113 87.2417 457.981 86.985C457.857 86.7283 457.596 86.4973 457.2 86.292C456.804 86.0793 456.196 85.8703 455.374 85.665C454.575 85.467 453.878 85.2397 453.284 84.983C452.698 84.719 452.239 84.378 451.909 83.96C451.587 83.542 451.425 82.9993 451.425 82.332C451.425 81.3567 451.832 80.5867 452.646 80.022C453.46 79.4573 454.52 79.175 455.825 79.175C456.757 79.175 457.567 79.2997 458.256 79.549C458.953 79.7983 459.543 80.099 460.027 80.451L459.213 81.705C458.781 81.4043 458.297 81.1587 457.761 80.968C457.233 80.77 456.595 80.671 455.847 80.671C454.938 80.671 454.293 80.814 453.911 81.1C453.53 81.3787 453.339 81.7417 453.339 82.189C453.339 82.5337 453.431 82.8197 453.614 83.047C453.805 83.267 454.124 83.465 454.571 83.641C455.019 83.817 455.635 84.0113 456.419 84.224C457.175 84.4293 457.835 84.6713 458.399 84.95C458.964 85.2287 459.4 85.5953 459.708 86.05C460.024 86.4973 460.181 87.0803 460.181 87.799C460.181 88.6203 459.947 89.2877 459.477 89.801C459.008 90.307 458.399 90.6773 457.651 90.912C456.911 91.1393 456.126 91.253 455.297 91.253C454.249 91.253 453.354 91.1027 452.613 90.802C451.88 90.494 451.264 90.1237 450.765 89.691L451.821 88.47C452.276 88.844 452.797 89.1483 453.383 89.383C453.977 89.6103 454.615 89.724 455.297 89.724ZM482.153 79.175C483.789 79.175 485.024 79.7213 485.86 80.814C486.696 81.9067 487.114 83.3697 487.114 85.203C487.114 86.3837 486.924 87.4287 486.542 88.338C486.161 89.2473 485.6 89.9623 484.859 90.483C484.119 90.9963 483.209 91.253 482.131 91.253C480.496 91.253 479.257 90.703 478.413 89.603C477.57 88.503 477.148 87.0437 477.148 85.225C477.148 84.037 477.339 82.9883 477.72 82.079C478.102 81.1623 478.663 80.451 479.403 79.945C480.151 79.4317 481.068 79.175 482.153 79.175ZM482.153 80.682C481.156 80.682 480.401 81.0523 479.887 81.793C479.381 82.5337 479.128 83.6777 479.128 85.225C479.128 86.7577 479.378 87.8943 479.876 88.635C480.382 89.3683 481.134 89.735 482.131 89.735C483.129 89.735 483.877 89.3647 484.375 88.624C484.881 87.8833 485.134 86.743 485.134 85.203C485.134 83.663 484.885 82.5263 484.386 81.793C483.888 81.0523 483.143 80.682 482.153 80.682ZM497.776 74.522C498.399 74.522 498.964 74.577 499.47 74.687C499.976 74.797 500.456 74.951 500.911 75.149L500.317 76.524C499.943 76.3627 499.543 76.2417 499.118 76.161C498.7 76.0803 498.271 76.04 497.831 76.04C496.21 76.04 495.4 76.6817 495.4 77.965V80.319H499.327L499.129 81.771H495.4V91H493.552V81.771H490.791V80.319H493.552V78.009C493.552 77.2903 493.735 76.6707 494.102 76.15C494.476 75.6293 494.982 75.2297 495.62 74.951C496.258 74.665 496.976 74.522 497.776 74.522ZM517.426 91V89.581H519.23V80.836H517.426V79.417H520.638L520.979 82.156C521.427 81.2027 521.969 80.4657 522.607 79.945C523.245 79.4243 524.089 79.164 525.137 79.164C525.46 79.164 525.746 79.1897 525.995 79.241C526.252 79.285 526.512 79.3437 526.776 79.417L526.512 83.333H524.994V80.869C524.965 80.869 524.932 80.869 524.895 80.869C523.121 80.869 521.848 82.1377 521.078 84.675V89.581H523.432V91H517.426ZM531.96 85.863C532.011 87.205 532.363 88.184 533.016 88.8C533.676 89.4087 534.453 89.713 535.348 89.713C535.942 89.713 536.477 89.625 536.954 89.449C537.431 89.273 537.926 89.0127 538.439 88.668L539.308 89.889C538.773 90.3143 538.157 90.648 537.46 90.89C536.763 91.132 536.052 91.253 535.326 91.253C534.197 91.253 533.236 91 532.444 90.494C531.659 89.988 531.058 89.284 530.64 88.382C530.229 87.4727 530.024 86.4203 530.024 85.225C530.024 84.0517 530.229 83.0103 530.64 82.101C531.058 81.1917 531.645 80.4767 532.4 79.956C533.163 79.4353 534.057 79.175 535.084 79.175C536.543 79.175 537.691 79.681 538.527 80.693C539.37 81.705 539.792 83.091 539.792 84.851C539.792 85.049 539.785 85.236 539.77 85.412C539.763 85.588 539.755 85.7383 539.748 85.863H531.96ZM535.106 80.693C534.248 80.693 533.529 80.9973 532.95 81.606C532.371 82.2147 532.044 83.157 531.971 84.433H538.01C537.988 83.1937 537.717 82.2623 537.196 81.639C536.675 81.0083 535.979 80.693 535.106 80.693ZM551.333 79.175C551.7 79.175 552.056 79.2557 552.4 79.417C552.745 79.5783 553.027 79.89 553.247 80.352C553.467 80.814 553.577 81.4887 553.577 82.376V91H551.861V82.673C551.861 81.947 551.817 81.4227 551.729 81.1C551.641 80.7773 551.388 80.616 550.97 80.616C550.626 80.616 550.281 80.726 549.936 80.946C549.592 81.1587 549.262 81.5107 548.946 82.002V91H547.219V82.673C547.219 81.947 547.175 81.4227 547.087 81.1C546.999 80.7773 546.746 80.616 546.328 80.616C545.969 80.616 545.621 80.726 545.283 80.946C544.946 81.1587 544.62 81.5107 544.304 82.002V91H542.599V79.417H544.051L544.161 80.759C544.477 80.3117 544.829 79.9377 545.217 79.637C545.613 79.329 546.101 79.175 546.68 79.175C547.12 79.175 547.535 79.2813 547.923 79.494C548.312 79.6993 548.598 80.1027 548.781 80.704C549.097 80.2493 549.452 79.8827 549.848 79.604C550.244 79.318 550.739 79.175 551.333 79.175ZM561.302 79.175C562.937 79.175 564.173 79.7213 565.009 80.814C565.845 81.9067 566.263 83.3697 566.263 85.203C566.263 86.3837 566.072 87.4287 565.691 88.338C565.309 89.2473 564.748 89.9623 564.008 90.483C563.267 90.9963 562.358 91.253 561.28 91.253C559.644 91.253 558.405 90.703 557.562 89.603C556.718 88.503 556.297 87.0437 556.297 85.225C556.297 84.037 556.487 82.9883 556.869 82.079C557.25 81.1623 557.811 80.451 558.552 79.945C559.3 79.4317 560.216 79.175 561.302 79.175ZM561.302 80.682C560.304 80.682 559.549 81.0523 559.036 81.793C558.53 82.5337 558.277 83.6777 558.277 85.225C558.277 86.7577 558.526 87.8943 559.025 88.635C559.531 89.3683 560.282 89.735 561.28 89.735C562.277 89.735 563.025 89.3647 563.524 88.624C564.03 87.8833 564.283 86.743 564.283 85.203C564.283 83.663 564.033 82.5263 563.535 81.793C563.036 81.0523 562.292 80.682 561.302 80.682ZM579.278 90.417C578.882 90.681 578.402 90.8863 577.837 91.033C577.272 91.1797 576.719 91.253 576.176 91.253C574.929 91.253 573.969 90.9267 573.294 90.274C572.619 89.6213 572.282 88.7817 572.282 87.755V80.847H569.62V79.417H572.282V76.788L574.13 76.568V79.417H578.134L577.914 80.847H574.13V87.733C574.13 88.3783 574.299 88.8697 574.636 89.207C574.981 89.5443 575.549 89.713 576.341 89.713C576.774 89.713 577.173 89.6617 577.54 89.559C577.907 89.4563 578.248 89.3243 578.563 89.163L579.278 90.417ZM584.726 85.863C584.777 87.205 585.129 88.184 585.782 88.8C586.442 89.4087 587.219 89.713 588.114 89.713C588.708 89.713 589.243 89.625 589.72 89.449C590.196 89.273 590.691 89.0127 591.205 88.668L592.074 89.889C591.538 90.3143 590.922 90.648 590.226 90.89C589.529 91.132 588.818 91.253 588.092 91.253C586.962 91.253 586.002 91 585.21 90.494C584.425 89.988 583.824 89.284 583.406 88.382C582.995 87.4727 582.79 86.4203 582.79 85.225C582.79 84.0517 582.995 83.0103 583.406 82.101C583.824 81.1917 584.41 80.4767 585.166 79.956C585.928 79.4353 586.823 79.175 587.85 79.175C589.309 79.175 590.457 79.681 591.293 80.693C592.136 81.705 592.558 83.091 592.558 84.851C592.558 85.049 592.55 85.236 592.536 85.412C592.528 85.588 592.521 85.7383 592.514 85.863H584.726ZM587.872 80.693C587.014 80.693 586.295 80.9973 585.716 81.606C585.136 82.2147 584.81 83.157 584.737 84.433H590.776C590.754 83.1937 590.482 82.2623 589.962 81.639C589.441 81.0083 588.744 80.693 587.872 80.693ZM600.403 89.724C601.298 89.724 602.002 89.559 602.515 89.229C603.028 88.899 603.285 88.4517 603.285 87.887C603.285 87.5423 603.219 87.2417 603.087 86.985C602.962 86.7283 602.702 86.4973 602.306 86.292C601.91 86.0793 601.301 85.8703 600.48 85.665C599.681 85.467 598.984 85.2397 598.39 84.983C597.803 84.719 597.345 84.378 597.015 83.96C596.692 83.542 596.531 82.9993 596.531 82.332C596.531 81.3567 596.938 80.5867 597.752 80.022C598.566 79.4573 599.626 79.175 600.931 79.175C601.862 79.175 602.673 79.2997 603.362 79.549C604.059 79.7983 604.649 80.099 605.133 80.451L604.319 81.705C603.886 81.4043 603.402 81.1587 602.867 80.968C602.339 80.77 601.701 80.671 600.953 80.671C600.044 80.671 599.398 80.814 599.017 81.1C598.636 81.3787 598.445 81.7417 598.445 82.189C598.445 82.5337 598.537 82.8197 598.72 83.047C598.911 83.267 599.23 83.465 599.677 83.641C600.124 83.817 600.74 84.0113 601.525 84.224C602.28 84.4293 602.94 84.6713 603.505 84.95C604.07 85.2287 604.506 85.5953 604.814 86.05C605.129 86.4973 605.287 87.0803 605.287 87.799C605.287 88.6203 605.052 89.2877 604.583 89.801C604.114 90.307 603.505 90.6773 602.757 90.912C602.016 91.1393 601.232 91.253 600.403 91.253C599.354 91.253 598.46 91.1027 597.719 90.802C596.986 90.494 596.37 90.1237 595.871 89.691L596.927 88.47C597.382 88.844 597.902 89.1483 598.489 89.383C599.083 89.6103 599.721 89.724 600.403 89.724Z" fill="#5555FF"></path>
                </svg>
</figure>

        <h3>Availability</h3>
        <p>
          To improve data availability, participants in the network can choose to act as <strong>seeds</strong>. This is
          similar in concept to a <em>pub</em> in <a href="https://scuttlebutt.nz/">Secure Scuttlebutt</a>: seeds
          are <q>always-on</q> nodes that automatically track discovered projects, thereby increasing the availability of
          these projects on the network. Since seeds may track a large number of repositories for a given project,
          replicating a project from a seed will greatly increase the connectedness of the tracking graph. Tracking a
          seed will also increase the number of paths leading back to the original upstream, ensuring that contributions
          can flow back up to the project maintainers even if they come from participants not within the set of tracked
          repositories of the maintainer.
        </p>

        <h2>Offline and local-first</h2>
        <p>
          With the introduction of hosted platforms came new ‘enhanced’ workflows like pull requests, issue tracking,
          and code reviews. These workflows were unique because they were non-Git native but still tied to source code
          through rich user interfaces and features. As a result, they have further defined the common developer
          experience by making collaboration more than just code—the social interactions captured in issues,
          code …</p></article></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://radicle.xyz/radicle-link.html">https://radicle.xyz/radicle-link.html</a></em></p>]]>
            </description>
            <link>https://radicle.xyz/radicle-link.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24382589</guid>
            <pubDate>Sat, 05 Sep 2020 10:08:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software defined storage vs. hardware defined storage]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24379004">thread link</a>) | @jtsymonds
<br/>
September 4, 2020 | https://blog.min.io/comparing-software-defined-storage-with-appliances/ | <a href="https://web.archive.org/web/*/https://blog.min.io/comparing-software-defined-storage-with-appliances/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                


                <section>
                    <p>Everybody claims to be a software company these days. From the nearly decade old pronouncement by Marc Andressen that <a href="https://a16z.com/2011/08/20/why-software-is-eating-the-world/">“Software Is Eating the World”</a> to the push from Wall Street to produce recurring software revenue; the pressure is on to claim - at least - that you are a software company. <br></p><p>This is obviously problematic for appliance vendors. Try as they might, it does not take much inspection to determine which ones have become truly software defined, and which ones are hoping to use financial engineering to fake it until they get there. <br></p><p>Either way, the ongoing debate about which is better, software defined storage or hardware storage appliances. Is pretty much over. <br></p><p>Like Marc predicted, software won. <br></p><p>We need to start with a clear definition of software defined storage. First of all, it is software. It most likely started as software too - it wasn’t “extracted” from a proprietary hardware platform. <br></p><p>Software defined storage should run on multiple customer servers with direct access storage (DAS) SSDs or disk drives or JBoDs (just a bunch of disks) or JBoF (just a bunch of flash) shelves that are SAS/NVMe attached to the servers. <br></p><p>True software defined storage doesn’t run on a narrow list of pre-approved boxes - that is just hardware defined storage with choices. Software defined storage should run on almost anything. For example a <a href="https://github.com/christianbaun/ossperf/wiki/Minio-on-a-Raspberry-Pi-3-with-Raspbian-(Debian-Jessie-8.0)">Raspberry Pi</a>. Or <a href="https://min.io/resources/docs/MinIO-POWER-whitepaper-HR.pdf">IBM Power9 infrastructure</a>. Or anything <a href="https://min.io/product/reference-hardware">in-between</a>.<br></p><p>Hardware defined storage (appliances) combine server and storage hardware and software into one packaged solution that a customer buys whole from that vendor. Hardware defined storage is normally deployed by vendor personnel and can take the form of rackable hardware with vendor covers but underneath, is typically two or more servers with SAS or NVMe storage shelves attached. Hardware defined storage vendors provide the internal networking to connect the multiple servers and storage together. The appliance vendor personnel are responsible for servicing the appliance server and storage hardware as well as the storage software. <br></p><p>Let’s break it down further shall we?</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th></th>
<th>Software Defined</th>
<th>Hardware Defined/Appliance</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cost</td>
<td>Superior. The customer supplies <br>their own servers &amp; storage <br>designed for the price/performance <br>configuration the deployment <br>calls for.</td>
<td>Worse. The storage vendor supplies <br>all of the hardware,<br>software and service for <br>the solution. Difficult to unbundle.</td>
</tr>
<tr>
<td>Performance</td>
<td>Dependent on what is provisioned. <br>True high performance SDS on <br>fast HW and a fast network <br>outperforms even the “fast” <br>appliance vendors. This trend<br>will only continue. To be sure, <br>there will be niche cases <br>- but fast software is the <br>starting point.</td>
<td>Vendors optimize hardware and <br>software to get the most <br>performance and availability <br>out of the system. Price/Performance <br>curves are pretty linear.</td>
</tr>
<tr>
<td>Scalability</td>
<td>Better, as these are deployed <br>as a storage cluster, they <br>can often range from 3-4 nodes<br>to 100s of nodes and anything<br>in between.</td>
<td>Worse. Appliances typically come <br>with dual (server) controllers<br>and can typically scale up<br>to 4 of these (8 servers) <br>but generally not much higher.</td>
</tr>
<tr>
<td>Fault <br>tolerance</td>
<td>Good software defined storage <br>treats failure as a normal event. <br>Done well, clusters seamlessly <br>redirect, heal or recover. <br>Sophisticated erasure-coding <br>and bitrot protection are software<br>inventions - and ensure manageability is <br>prioritized.</td>
<td>Appliances are generally optimized<br>for providing high levels of<br>fault tolerance. They are <br>typically deployed with dual <br>controllers that quickly failover <br>when one dies and provide <br>sophisticated storage protection <br>policies. Replacing the appliance <br>is not the same, however, as <br>replacing COTS hardware.</td>
</tr>
<tr>
<td>Automation</td>
<td>Software defined storage is <br>API driven. These APIs typically <br>support most DevOps and <br>infrastructure automation and <br>monitoring packages currently <br>deployed in a data center.</td>
<td>Appliances generally support a <br>GUI first and APIs as second-class<br>citizens, if at all. This limits <br>automation and application failure <br>management. It is why most appliances<br>are only used for archival and not <br>modern apps.</td>
</tr>
<tr>
<td>Configuration <br>flexibility</td>
<td>Customers deploy these solutions <br>on whatever performance and <br>capacity they want (within HCLs). <br>The configuration flexibility is <br>nearly infinite - critical when <br>considering the modern range <br>(data center to edge).</td>
<td>Appliances typically limit options <br>to very specific offerings, <br>generally 3-5 models are available <br>with DRAM &amp; capacity limits for <br>each model. Performance is often <br>limited by the appliance model <br>selected. Mixing and matching <br>models is a no-no.</td>
</tr>
<tr>
<td>Trialability</td>
<td>Want to try out software <br>defined storage - download it <br>and get started. If your <br>provider is truly open source<br>- what you are playing with <br>is the same software their <br>best customers run.</td>
<td>Appliances must be made available <br>to the customer on their data <br>center premises or at some other <br>test facility to be tried out. <br>Massive friction in the sales process.</td>
</tr>
<tr>
<td>Upgradeability</td>
<td>Customers can switch out <br>current servers or storage <br>with better ones anytime <br>they want and do <br>this themselves.</td>
<td>Appliance vendors generally <br>offer only specific model <br>upgrades to appliances which <br>have to be purchased and <br>are typically done by vendor <br>personnel.</td>
</tr>
<tr>
<td>Ease <br>of installation</td>
<td>Better. As customers add <br>server or storage hardware <br>and deploy software on servers <br>all the time, they <br>can deploy software defined <br>storage on current or new servers <br>anytime they want.</td>
<td>Appliance vendors personnel are <br>typically used to deploy the <br>appliances. This may require <br>cross scheduling of data center <br>and vendor service personnel.</td>
</tr>
<tr>
<td>Ease <br>of operations</td>
<td>Software defined storage is <br>API first, but also supports <br>GUIs and/or are integrated <br>into larger solution interfaces <br>(think MinIO + Cisco).</td>
<td>Application vendors have invested <br>heavily in their GUI’s and <br>they are typically fully featured. <br>A good GUI can be a powerful form<br>of lock-in with IT.</td>
</tr>
<tr>
<td>Feature <br>update frequency</td>
<td>True software defined storage <br>releases continuously. Often weekly. <br>Customers consume those on <br>demand. This means more features, <br>better security and less disruption.</td>
<td>Worse. Due to their tight <br>performance and availability <br>optimizations, testing must often <br>be more stringent and take <br>longer. This lengthens the interval <br>between feature <br>updates.</td>
</tr>
<tr>
<td>Footprint <br>density</td>
<td>Density traditionally favored appliances <br>- but with boxes like this, <br>that gap has been eliminated.</td>
<td>Appliances control the hardware, <br>and target the densest storage<br>shelves available - even if that<br>requires proprietary hardware.</td>
</tr>
<tr>
<td>Hardware <br>reuseability</td>
<td>Customers can take server and storage <br>hardware out of the cluster anytime <br>they wish and deploy this <br>for other uses. Licensing <br>terms may or may not need <br>to be changed. Server maintenance <br>options are at the discretion <br>of the customer and their <br>server vendor.</td>
<td>Other than using older appliances <br>as slower storage (aka boat anchors) <br>there’s not much that can be done <br>with it. However, to continue <br>to  use appliances as (slower) <br>storage , vendor maintenance contracts <br>will need to be maintained.</td>
</tr>
<tr>
<td>Complexity</td>
<td>Good software defined storage <br>abstracts complexity. Great software <br>defined storage eliminates it.</td>
<td>A rare bright spot for appliance <br>vendors, the lack of flexibility <br>drives homogeneity and therefore <br>some semblance of simplicity. <br>It is why IT can be fiercely loyal<br>to their vendors.</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>Ultimately, there is a place for both solutions in the market today but the world is changing. <br></p><p>It burns a lot of cash to run a hardware appliance business. It ties up capital, requires large field sales and field sales support. Appliances are not built for the world we live in today. Further, as we have most famously pointed out - you <a href="https://blog.min.io/high-performance-object-storage-with-kubernetes/">can’t containerize an appliance</a>. Given that Kubernetes is the new normal - it is going to be increasingly difficult to make a living slinging steel. <br></p><p>That is why everyone is eager to say they are a “software-company” these days. Truth is, if their website is adorned with boxes showcasing their logo - it is not a software company. When they tweet a win and show some boxes, that is what they sold - not software. Just because for 45 mins every three months they say words like “revenue from software subscriptions” doesn’t mean they are a software company - it means they are on their quarterly analyst call. <br></p><p>So think about what you really want to achieve. If you want high-performance, Kubernetes-native object storage - choose software. If you want modern application support in addition to archival - choose software. If you want flexibility to design to your use case - choose software. <br></p><p>Don’t, however, choose hardware masquerading as software.</p>

                                    </section>

                <section>
                            <a href="https://blog.min.io/tag/s3-select/">S3 Select</a>
                            <a href="https://blog.min.io/tag/machine-learning/">Machine Learning</a>
                            <a href="https://blog.min.io/tag/s3/">S3</a>
                            <a href="https://blog.min.io/tag/performance/">Performance</a>
                            <a href="https://blog.min.io/tag/security/">Security</a>
                            <a href="https://blog.min.io/tag/brand-design/">Brand/Design</a>
                            <a href="https://blog.min.io/tag/spark/">Spark</a>
                            <a href="https://blog.min.io/tag/high-performance/">High Performance</a>
                            <a href="https://blog.min.io/tag/benchmarks/">Benchmarks</a>
                            <a href="https://blog.min.io/tag/integrations/">Integrations</a>
                            <a href="https://blog.min.io/tag/modern-data-lakes/">Modern Data Lakes</a>
                            <a href="https://blog.min.io/tag/kubernetes/">Kubernetes</a>
                            <a href="https://blog.min.io/tag/presto/">Presto</a>
                            <a href="https://blog.min.io/tag/sql/">SQL</a>
                            <a href="https://blog.min.io/tag/opensource/">opensource</a>
                            <a href="https://blog.min.io/tag/golang-2/">Golang</a>
                            <a href="https://blog.min.io/tag/programming/">Programming</a>
                            <a href="https://blog.min.io/tag/cloud-computing/">Cloud Computing</a>
                            <a href="https://blog.min.io/tag/golang/">golang</a>
                            <a href="https://blog.min.io/tag/microservices/">Microservices</a>
                            <a href="https://blog.min.io/tag/raspberry-pi/">Raspberry Pi</a>
                            <a href="https://blog.min.io/tag/github/">Github</a>
                            <a href="https://blog.min.io/tag/docker/">Docker</a>
                            <a href="https://blog.min.io/tag/aws/">AWS</a>
                            <a href="https://blog.min.io/tag/devops/">DevOps</a>
                            <a href="https://blog.min.io/tag/assembly/">Assembly</a>
                            <a href="https://blog.min.io/tag/compilers/">Compilers</a>
                            <a href="https://blog.min.io/tag/api/">API</a>
                            <a href="https://blog.min.io/tag/nginx/">Nginx</a>
                            <a href="https://blog.min.io/tag/dcos/">DCOS</a>
                            <a href="https://blog.min.io/tag/apache-spark/">Apache Spark</a>
                            <a href="https://blog.min.io/tag/open-source/">Open Source</a>
                            <a href="https://blog.min.io/tag/design/">Design</a>
                            <a href="https://blog.min.io/tag/support/">support</a>
                            <a href="https://blog.min.io/tag/subnet/">SUBNET</a>
                            <a href="https://blog.min.io/tag/news/">News</a>
                            <a href="https://blog.min.io/tag/splunk/">Splunk</a>
                           …</section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.min.io/comparing-software-defined-storage-with-appliances/">https://blog.min.io/comparing-software-defined-storage-with-appliances/</a></em></p>]]>
            </description>
            <link>https://blog.min.io/comparing-software-defined-storage-with-appliances/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24379004</guid>
            <pubDate>Fri, 04 Sep 2020 21:20:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Companies Experimenting with 4-Day Work Weeks]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24378704">thread link</a>) | @nbrempel
<br/>
September 4, 2020 | https://30hourjobs.com/blog/companies-with-4-day-work-weeks/ | <a href="https://web.archive.org/web/*/https://30hourjobs.com/blog/companies-with-4-day-work-weeks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>Even before the pandemic, there were a few companies choosing to work shorter weeks. In Japan, Microsoft gave it a try in later part of <a href="https://www.npr.org/2019/11/04/776163853/microsoft-japan-says-4-day-workweek-boosted-workers-productivity-by-40" rel="noopener noreferrer">2019</a> and found that doing so increased productivity, reduced stress, and lessened employee burnout. It also had the added benefit of lowering operating costs for that month.</p><p>With COVID-19, average work environments have become even more stressful. Places like <a href="https://www.washingtonpost.com/world/2020/05/24/will-coronavirus-pandemic-open-door-four-day-workweek/" rel="noopener noreferrer">New Zealand</a> are acknowledging that there is no "one size fits all" solution to helping companies recover or thrive through the global pandemic.</p><p>What would happen if your company decided to run fewer days per week? Would you discover the same benefits as other companies? To answer this question for yourself, you will have to test the theory in your own company. However, to help you, we have looked to find out how other companies are dealing with COVID-19 and what they have gained from switching to a <a href="https://30hourjobs.com/4-day-work-week/" rel="noopener noreferrer">4-day work week</a>.</p><h2 id="buffer">Buffer</h2><p>Soon after the pandemic hit, <a href="https://buffer.com/resources/4-day-workweek-2020/" rel="noopener noreferrer">Buffer</a> became a company that chose to experiment for a single month. Their goal was to reduce the stress that employees and teammates were dealing with because of the global crisis. In June, the company decided to continue their May experiment to last the rest of 2020.</p><p>Why the change from "experiment" to full-time? The answer to this is in the feedback provided by their teammates. It seems unanimous that everyone experienced lower stress levels, increased work happiness, and less burnout. Employees worked more efficiently and effectively in their four days because of how relaxed they felt.</p><p>Although it is only something they are trying for the rest of the year, there is hope that it will continue to prove such an undeniable success.</p><h2 id="elephant-ventures">Elephant Ventures</h2><p><a href="https://www.elephantventures.com/4-day-work-week-resources/" rel="noopener noreferrer">Elephant Ventures</a> has been doing 4-day work weeks in the Philippines for the past five years. They have noticed that across the board there is an increase in productivity because workers feel it balances out the work-life scenarios that we all have to face in the workforce.</p><p>In early June, the company closed its doors on their brick and mortar offices in the US. At the time, there was reasonable certainty that the doors would remain closed. However, in August, they decided that this was not what they truly wanted and began trying to come up with a way to meet the needs of clients in the "post Covid-19" world and take tips from their Philippines offices.</p><p>It is a little too soon to tell whether it is an absolute success or not. This does not mean that there isn't a hope that clients and employees will all be happy working this shorter workweek.</p><h2 id="shopify">Shopify</h2><p><a href="https://www.shopify.com/partners/blog/remote-work" rel="noopener noreferrer">Shopify's</a> employees have embraced the remote/in-office way of working for years. However, in March 2020, they closed the door and went fully remote in an effort to "flatten the curve". The fact that they are working in a digital space by default, has made the transition much easier for them than traditional brick and mortar businesses. They already understand that eliminating bad work habits and strengthening healthier ones is beneficial to everyone.</p><p>In June, Shopify once again changed things up and announced on <a href="https://twitter.com/postcarl/status/1272676581165727746" rel="noopener noreferrer">Twitter</a> that they would reserve Friday as the day for R&amp;R. Their goal at the time was to enjoy the shorter work week through August. It remains to be seen whether it is extended or not.</p><h2 id="shake-shack">Shake Shack</h2><p>For more than a year, Shake Shack has been <a href="https://www.wabe.org/enjoy-the-extra-day-off-more-bosses-give-4-day-workweek-a-try/" rel="noopener noreferrer">testing</a> the theory of shorter work weeks makes for happier employees. It began with a test run in Las Vegas to give managers an extra day off from work each week, while providing them with the typical 40-hour work week benefits. This means the same pay for fewer hours. With the success of it, the gradually spread out the "testing phase" to include more locations.</p><p>Their findings over the last year, is that employees, especially moms, appreciate working a shorter week because it gives them an extra day to spend with their families. This makes them feel better about being at work, because they do not miss out on taking kids to school, running errands on their day off, and more.</p><p>As the pandemic took hold of the US and all other areas of the globe, <a href="https://www.shakeshack.com/updates/" rel="noopener noreferrer">Shake Shack</a> did what it could to care for its employees. They still strive to do what they can for the communities that they are a part of.</p><h2 id="radioactive-public-relations">Radioactive Public Relations</h2><p>In June 2019, <a href="https://www.radioactivepr.com/agency-impact-1-year-4-day-pay-work-week/" rel="noopener noreferrer">Radioactive Public Relations</a> reached their one-year benchmark for working shorter work weeks. They were one of the first companies in the UK to give shorter weeks a try and quickly decided to extend their "test" phase.</p><p>Why was the test phase extended? The answer to this is simple. Employees were taking fewer sick days, recruitment was on the rise, business was growing, and employees were happier across the board. The employee happiness reasoning has ranged from enjoying the time with their families to doing things that they wouldn't be able to do if they worked a traditional work week.</p><h2 id="perpetual-guardian">Perpetual Guardian</h2><p>This New Zealand-based company was one of the first to jump on board with shorter work weeks. Andrew Barnes, founder of <a href="https://www.perpetualguardian.co.nz/the-four-day-week-is-here/" rel="noopener noreferrer">Perpetual Guardian</a>, began testing the water with it in 2018. Since then, they have discovered that it encourages employees to work harder while encouraging staff members to organize their time more efficiently while at work.</p><p>Overall, it has lowered the stress level of all who work within the company by allowing them to have more of a life outside the office. Employees can now use their time to take up hobbies, spend time with loved ones, return to school for extra studies, and much more.</p><p>If you are interested in learning more about balancing your work/life schedule or want to know more about transitioning to a shorter work week, we are here for you. You can contact us, join our newsletter, and more. Our goal at <a href="https://jobs.30hourjobs.com/" rel="noopener noreferrer">30 Hour Jobs</a> is to ensure everyone works the way they want to work.</p>
    </div></div>]]>
            </description>
            <link>https://30hourjobs.com/blog/companies-with-4-day-work-weeks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24378704</guid>
            <pubDate>Fri, 04 Sep 2020 20:44:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Satoshi Did Not Know (2015) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 138 | Comments 139 (<a href="https://news.ycombinator.com/item?id=24378055">thread link</a>) | @MrXOR
<br/>
September 4, 2020 | https://www.ifca.ai/pub/fc15/89750001.pdf | <a href="https://web.archive.org/web/*/https://www.ifca.ai/pub/fc15/89750001.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.ifca.ai/pub/fc15/89750001.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24378055</guid>
            <pubDate>Fri, 04 Sep 2020 19:21:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Build a State]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24377232">thread link</a>) | @tnorthcutt
<br/>
September 4, 2020 | https://www.worksinprogress.co/issue/how-to-build-a-state/ | <a href="https://web.archive.org/web/*/https://www.worksinprogress.co/issue/how-to-build-a-state/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<p>It’s easy to imagine that governments were always as bureaucratic as they are today. Certain policies, like the widespread granting of monopolies in the seventeenth century, or the presence of a powerful landed aristocracy, seem like archaic products of a past that was simply more corrupt. The fact that governments rarely got involved with healthcare or education before the mid-nineteenth century seems the product of a lack of imagination, or perhaps yet another product of our ancestors’ venality – simply what happens when you put the war-hungry knights and nobles in charge.</p>
<p>But the bureaucratic state of today, with its officials involving themselves with every aspect of modern life, is a relatively recent invention. In a world without bureaucracy, when state capacity was relatively lacking, it’s difficult to see what other options monarchs would have had. Suppose yourself transported to the throne of England in 1500, and crowned monarch. Once you bored of the novelty and luxuries of being head of state, you might become concerned about the lot of the common man and woman. Yet even if you wanted to create a healthcare system, or make education free and universal to all children, or even create a police force (London didn’t get one until 1829, and the rest of the country not til much later), there is absolutely no way you could succeed.</p>
<p>For a start, you would struggle to maintain your hold on power. Fund schools you say? Somebody will have to pay. The nobles? Well, try to tax them — in many European states they were exempt from taxation — and you might quickly lose both your throne and your head. And supposing you do manage to tax them, after miraculously stamping out an insurrection without their support, how would you even begin to go about collecting it? There was simply no central government agency capable of raising it. Working out how much people should pay, chasing up non-payers, and even the physical act of collection, not to mention protecting that treasure once collected, all takes substantial manpower. Not to mention the fact that the collecting agents will likely siphon most of it off to line their own pockets.</p>
<p>As a monarch in 1500, you would be forced to rely heavily on delegation. As the economic historian Jared Rubin emphasizes, every ruler requires agents to propagate their rule. These can take the form of big burly blokes with heavy weapons — your enforcers — and they can take the form of people spreading the ideology of your right to rule, lending your orders legitimacy and more generally spreading social norms of obedience — the local officials, jurists, and clerics. Crucially, these propagating agents needed to be kept on-side at all costs. Hence the tax exemptions for nobles, many of whom were rich enough to support their own private armies, and whose ancestors might have been granted such a privilege by one of your predecessors.</p>
<p>Joan of Arc’s village, for example, was exempted from taxation <i>forever,</i> because of her role in restoring the French king’s military fortunes. And hence the control often exerted over policy by religious figures, who could give one’s rule divine sanction in the eyes of the people. It is no surprise that the emperors of China carefully cultivated themselves at the head of as many religions as possible (one of the reasons that Christianity, with its rather awkward stress on Jesus being the king of kings, was occasionally banned from the empire). As economic historians Mark Koyama and Noel Johnson argue, this focus on appeasing religious legitimisers was one of the reasons rulers so often sought to stamp out heretics and heathens.</p>
<p>Even beyond satisfying the propagating agents, however, core state activities like tax collection were heavily reliant on delegation of authority. Absent an expensive bureaucracy to do it on your behalf, it was much easier to farm out the activity to others. When taxing a predominantly agrarian society — in 1500, only 3.6% of England’s population lived in cities — it made most sense to appoint a local noble to be tax farmer for an area. As a local, they would know the area well, and the products of the land are relatively straightforward to tax. It’s not exactly easy to hide. And as for the tax farmer, they could be remunerated by taking a cut of what they collected. Corrupt, yes. But inevitable and even seen as legitimate, given the lack of alternatives.</p>
<p>Your capacity as a ruler was thus entirely governed by the <em>quid pro quo</em>, and heavily restricted by the deals made by your predecessors. Cities were granted charters, giving them various rights of self-governance, in return for collecting taxes from among their own members (commerce and industry being much harder to tax than land, and thus requiring more consent). And, of course, there were occasionally times when the defence of the realm might require extra taxes — for such instances, rulers convened parliaments. Taxes raised by parliaments were referred to, somewhat confusingly, as “subsidies”. But that is exactly what they were: special subsidies granted to the monarch, by the collected representatives of the nobles and the various other propagating agents, for a one-off extraordinary purpose – albeit giving those collected agents some say over policy.</p>
<p>It was not until 1689, when there was a coup, that an incoming ruler allowed the English parliament to sit whenever it pleased. Before that, it was convened only at the whim of the ruler, and dispersed even at the slightest provocation. In 1621, for example, when James I was planning to marry his heir to a Spanish princess, Parliament sent him a petition asserting their right to debate the matter. Upon hearing of it, he called for the official record of parliamentary proceedings, personally ripped out the page with the offending vote, and promptly dissolved the Parliament. The downside, of course, was that James could not then acquire any parliamentary subsidies.</p>
<p>Ruling was thus an intensely personal affair, of making deals and finding ways to circumvent deals you had inherited. Increasing your capabilities as a ruler – state capacity – was thus no easy task, as the typical ruler was stuck in an essentially medieval equilibrium. Imposing a policy costs money, but raising money involves imposing policy. Breaking out of this chicken-and-egg problem took centuries of canny leadership. The rulers who achieved it most would today seem hopelessly corrupt.</p>
<p>To gain extra cash without interference from Parliament, successive monarchs first asserted and then abused their ancient prerogative rights to grant monopolies over trades and industries. They eventually granted them to whomever was willing to pay, establishing monopolies over industries like gambling cards or alehouses under the guise of regulating unsavoury activities. They also sold off knighthoods and titles, and in 1670 Charles II even made a secret deal with the French that he would convert to Catholicism and attack the Protestant Dutch, all in exchange for cash. Anything to not have to call a potentially pesky Parliament. At times, the most effective rulers even resembled mob bosses. Take Elizabeth I’s anger when a cloth-laden merchant fleet bound for an Antwerp fair in 1559 was allowed to depart. Her order to stop them had not arrived in time, thus preventing her from extracting “loans” from the merchants while she still had their goods within her power.</p>
<p>Yet, ironically, it was when monarchs lost control that they did most to boost the capabilities of the centralised state. It was under Parliament, first in the 1650s when it briefly overthrew the monarchy, and then from the late 1680s following its deal with the usurping William III, that British state capacity began to most rapidly and inexorably grow. Likewise, in France, it was following the French Revolution that the steady rise of state capacity was boosted — it was then, over three centuries after the fact, that the perpetual tax exemptions for Joan of Arc’s village were finally rescinded.</p>
<p>Parliaments, as bodies of legitimising agents, despite their lack of representation in any modern democratic sense, had the unquestioned legitimacy with which to raise taxes, change policy, and undo the deals of previous monarchs. In the process, they often trampled on the ancient liberties of citizens and subjects. But, unlike monarchs, they found it much easier to force the changes through. When motivated by the needs of war — often the one thing members could agree on — parliaments in the eighteenth century were able to raise cash that would have been unfathomable to the monarchs of even a few decades before. And it was parliaments, also, that were eventually susceptible in the nineteenth century to the lobbying of those who wished the state to involve itself in areas like education, health, and policing.</p>
<p>The route to state capacity thus took centuries of blood, dirty dealing, corruption and campaigning to make the states we have to today. But it is difficult to see how it could have been done in any other way.</p>
					</div>
				</div></div>]]>
            </description>
            <link>https://www.worksinprogress.co/issue/how-to-build-a-state/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24377232</guid>
            <pubDate>Fri, 04 Sep 2020 17:50:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Algorithmic Trading Using Logistic Regression]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 11 (<a href="https://news.ycombinator.com/item?id=24377199">thread link</a>) | @cshad
<br/>
September 4, 2020 | https://handsoffinvesting.com/an-algorithmic-trading-strategy-using-logistic-regression/ | <a href="https://web.archive.org/web/*/https://handsoffinvesting.com/an-algorithmic-trading-strategy-using-logistic-regression/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-87">
      <div>
    <section>
            <div>
        
<h3>Learn how to implement an automated machine learning strategy with the goal of finding the optimal stocks for algorithmic trading.</h3>



<hr>



<figure><img src="https://miro.medium.com/max/4096/0*Qin1Uu6TF6EGY9Qe" alt="Image for post" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Photo by&nbsp;<a href="https://unsplash.com/@stephenleo1982?utm_source=medium&amp;utm_medium=referral" target="_blank" rel="noreferrer noopener">Stephen Leonardi</a>&nbsp;on&nbsp;<a href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" target="_blank" rel="noreferrer noopener">Unsplash</a></figcaption></figure>



<p id="761b">With the increasing popularity of machine learning, many traders are looking for ways in which they can “teach” a computer to trade for them. This process is called algorithmic trading (sometimes called algo-trading).</p>



<figure><blockquote><p>Algorithmic trading is a hands off strategy for buying and selling stocks that leverages technical indicators instead of human intuition.</p></blockquote></figure>



<p id="8e73">In order to implement an algorithmic trading strategy though, you have to first narrow down a list of stocks that you want to analyze. This walk-through provides an automated process (using python and logistic regression) for determining the best stocks to algo-trade.</p>



<p id="45b0">I will dive deeper into the logic and code below, but here is a high-level overview of the process:</p>



<ol><li>Import the historical data of every stock using yahoo finance.</li><li>Pull in over 32 technical indicators for each stock using the&nbsp;<a href="https://github.com/bukosabino/ta" target="_blank" rel="noreferrer noopener">technical analysis library</a>.</li><li>Perform a logistic regression on each stock using 5, 30, and 60 day observation time periods.</li><li>Interpret the results.</li></ol>



<hr>



<h2 id="7355">Import Necessary Libraries</h2>



<p id="9268">Running this program in python requires these libraries:</p>



<p id="64b9">Libraries:</p>



<ul><li><a href="https://pypi.org/project/yfinance/" target="_blank" rel="noreferrer noopener">Yfinance</a>: Gather the historical data of each stock.</li><li><a href="https://pandas.pydata.org/docs/reference/index.html" target="_blank" rel="noreferrer noopener">Pandas</a>: Work with large datasets.</li><li><a href="https://docs.python.org/3/library/shutil.html" target="_blank" rel="noreferrer noopener">Shutil</a>,&nbsp;<a href="https://docs.python.org/3/library/glob.html" target="_blank" rel="noreferrer noopener">Glob</a>, and&nbsp;<a href="https://docs.python.org/3/library/os.html" target="_blank" rel="noreferrer noopener">OS</a>: Access folders/files on your computer.</li><li><a href="https://docs.python.org/3/library/time.html" target="_blank" rel="noreferrer noopener">Time</a>: Forcing the program to pause for a period of time.</li><li><a href="https://github.com/shilewenuw/get_all_tickers" target="_blank" rel="noreferrer noopener">Get_All_Tickers</a>: Filter through all stocks to get the list you desire.</li><li><a href="https://numpy.org/" target="_blank" rel="noreferrer noopener">Numpy</a>: Work with arrays.</li><li><a href="https://scikit-learn.org/stable/" target="_blank" rel="noreferrer noopener">Sklearn</a>: To run our logistic regression model.</li><li><a href="https://github.com/bukosabino/ta" target="_blank" rel="noreferrer noopener">TA</a>: To import the technical indicators.</li></ul>



<div><pre data-file="https://gist.github.com/cameronShadmehry/dfc993bae9f6192a88f43c22c0461302#file-atlr_lib-py" data-lang="Python"><code>import yfinance as yf, pandas as pd, shutil, os, time, glob
import matplotlib.pyplot as plt
import numpy as np
from sklearn.datasets import load_digits
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import classification_report, confusion_matrix
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from get_all_tickers import get_tickers as gt
from ta import add_all_ta_features
from ta.utils import dropna</code></pre></div>



<hr>



<h2 id="8a50">Collecting Historical Stock Data</h2>



<p id="b37a">Obtaining historical data on the stocks that we want to observe is a two-step process.</p>



<ol><li>Narrow down a list of stocks that we want to observe.</li><li>Make individual calls to the&nbsp;<a href="https://pypi.org/project/yfinance/" target="_blank" rel="noreferrer noopener">Yfinance API</a>&nbsp;in order to import data about each company.</li></ol>



<p id="d925"><strong>Choosing the Stocks We Want to Target</strong></p>



<p id="b1b8">The library&nbsp;<a href="https://github.com/shilewenuw/get_all_tickers" target="_blank" rel="noreferrer noopener">get-all-tickers</a>&nbsp;allows us to compile a list of stock tickers by filtering companies on aspects like market cap or exchange. For this example, I am looking at companies that have a market cap between $150,000 and $10,000,000 (in millions).</p>



<p id="b0b7">You will notice that I also included a line of code to print the number of tickers we are using. This is very important. You will need to be sure that you are not targeting more than 2,000 tickers, because the Yfinance API has a 2,000 API calls per hour limit.</p>



<p id="a75a">We also need to remove and create a folder on our local machine to hold historical stock data. Note that before this step runs for the first time, you will need to manually create this folder. This step is important because it will get rid of the data from past iterations and allow the program to start new.</p>



<div><pre data-file="https://gist.github.com/cameronShadmehry/7fd146a70470186482eadefde6dec7ea#file-atlr_gettickers-py" data-lang="Python"><code># List of the stocks we are interested in analyzing. At the time of writing this, it narrows the list of stocks down to 44.
# If you have a list of your own you would like to use just create a new list instead of using this, for example: tickers = ["FB", "AMZN", ...] 
tickers = gt.get_tickers_filtered(mktcap_min=150000, mktcap_max=10000000)

# Check that the amount of tickers isn't more than 2000
print("The amount of stocks chosen to observe: " + str(len(tickers)))

# These two lines remove the Stocks folder and then recreate it in order to remove old stocks. Make sure you have created a Stocks Folder the first time you run this.
shutil.rmtree("&lt;Your Path&gt;\\Bayesian_Logistic_Regression\\Stocks\\")
os.mkdir("&lt;Your Path&gt;\\Bayesian_Logistic_Regression\\Stocks\\")</code></pre></div>



<hr>



<h2 id="c45e">Importing Historical Stock Data</h2>



<p id="1c9d">We will now obtain the historical price data of each stock in our tickers list by making independent calls to Yahoo Finance. After receiving the data, the program will save each company’s information in a new CSV file that will be located in the folder you created beforehand.</p>



<div><pre data-file="https://gist.github.com/cameronShadmehry/6ca432c1d94e5ae7f44553c5288b1804#file-atlr_importdata-py" data-lang="Python"><code># Holds the amount of API calls we executed
Amount_of_API_Calls = 0

# This while loop is reponsible for storing the historical data for each ticker in our list. Note that yahoo finance sometimes incurs json.decode errors and because of this we are sleeping for 2
# seconds after each iteration, also if a call fails we are going to try to execute it again.
# Also, do not make more than 2,000 calls per hour or 48,000 calls per day or Yahoo Finance may block your IP. The clause "(Amount_of_API_Calls &lt; 1800)" below will stop the loop from making
# too many calls to the yfinance API.
# Prepare for this loop to take some time. It is pausing for 2 seconds after importing each stock.

# Used to make sure we don't waste too many API calls on one Stock ticker that could be having issues
Stock_Failure = 0
Stocks_Not_Imported = 0

# Used to iterate through our list of tickers
i=0
while (i &lt; len(tickers)) and (Amount_of_API_Calls &lt; 1800):
    try:
        stock = tickers[i]  # Gets the current stock ticker
        temp = yf.Ticker(str(stock))
        Hist_data = temp.history(period="max")  # Tells yfinance what kind of data we want about this stock (In this example, all of the historical data)
        Hist_data.to_csv("&lt;Your Path&gt;\\Bayesian_Logistic_Regression\\Stocks\\"+stock+".csv")  # Saves the historical data in csv format for further processing later
        time.sleep(2)  # Pauses the loop for two seconds so we don't cause issues with Yahoo Finance's backend operations
        Amount_of_API_Calls += 1 
        Stock_Failure = 0
        i += 1  # Iteration to the next ticker
        print("Importing stock data:" + str(i))
    except ValueError:
        print("Yahoo Finance Backend Error, Attempting to Fix")  # An error occured on Yahoo Finance's backend. We will attempt to retreive the data again
        if Stock_Failure &gt; 5:  # Move on to the next ticker if the current ticker fails more than 5 times
            i+=1
            Stocks_Not_Imported += 1
        Amount_of_API_Calls += 1
        Stock_Failure += 1
print("The amount of stocks we successfully imported: " + str(i - Stocks_Not_Imported))</code></pre></div>



<hr>



<h2 id="2687">Importing Technical Indicators</h2>



<p id="a921">In order to run a logistic regression on each stock, we need to substantiate the independent variables. These 32+ technical indicators will act as predictor variables for the dependent variable.</p>



<p id="6e7c">To bring in the technical indicators we make use of the&nbsp;<a href="https://github.com/bukosabino/ta" target="_blank" rel="noreferrer noopener">technical analysis library</a>.</p>



<p id="1d04">You will also notice that we are creating three extra columns. These will act as the value we are trying to predict (dependent variable) with the model. The three variables are 5, 30, and 60 day observations of the closing prices of each stock (1 if it increased and 0 if it did not).</p>



<div><pre data-file="https://gist.github.com/cameronShadmehry/741582a3aa0a86986773f1a47cbc5bc8#file-atlr_ti-py" data-lang="Python"><code># These two lines remove the Stocks folder and then recreate it in order to remove old stocks. Make sure you have created a Stocks Folder the first time you run this.
shutil.rmtree("&lt;Your Path&gt;\\Bayesian_Logistic_Regression\\Stocks_Sub\\")
os.mkdir("&lt;Your Path&gt;\\Bayesian_Logistic_Regression\\Stocks_Sub\\")

# Get the Y values
list_files = (glob.glob("&lt;Your Path&gt;\\Bayesian_Logistic_Regression\\Stocks\\*.csv")) # Creates a list of all csv filenames in the stocks folder
for interval in list_files:
    Stock_Name = ((os.path.basename(interval)).split(".csv")[0])
    data = pd.read_csv(interval)
    dropna(data)
    data = add_all_ta_features(data, open="Open", high="High", low="Low", close="Close", volume="Volume")
    data = data.iloc[100:]
    close_prices = data['Close'].tolist()
    Five_Day_Obs = []
    thirty_Day_Obs = []
    sixty_Day_Obs = []
    x = 0
    while x &lt; (len(data)):
        if x &lt; (len(data)-5):
            if ((close_prices[x+1] + close_prices[x+2] + close_prices[x+3] + close_prices[x+4] + close_prices[x+5])/5) &gt; close_prices[x]:
                Five_Day_Obs.append(1)
            else:
                Five_Day_Obs.append(0)
        else:
            Five_Day_Obs.append(0)
        x+=1
    y = 0
    while y &lt; (len(data)):
        if y &lt; (len(data)-30):
            ThirtyDayCalc = 0
            y2 = 0
            while y2 &lt; 30:
                ThirtyDayCalc = ThirtyDayCalc + close_prices[y+y2]
                y2 += 1
            if (ThirtyDayCalc/30) &gt; close_prices[y]:
                thirty_Day_Obs.append(1)
            else:
                thirty_Day_Obs.append(0)
        else:
            thirty_Day_Obs.append(0)
        y+=1
    z = 0
    while z &lt; (len(data)):
        if z &lt; (len(data)-60):
            SixtyDayCalc = 0
            z2 = 0
            while z2 &lt; 60:
                SixtyDayCalc = SixtyDayCalc + close_prices[z+z2]
                z2 += 1
            if (SixtyDayCalc/60) &gt; close_prices[z]:
                sixty_Day_Obs.append(1)
            else:
                sixty_Day_Obs.append(0)
        else:
            sixty_Day_Obs.append(0)
        z+=1
    data['Five_Day_Observation_Outcome'] = Five_Day_Obs
    data['Thirty_Day_Observation_Outcome'] = thirty_Day_Obs
    data['Sixty_Day_Observation_Outcome'] = sixty_Day_Obs
    data.to_csv("&lt;Your Path&gt;\\Bayesian_Logistic_Regression\\Stocks_Sub\\"+Stock_Name+".csv")
    print("Data for " + Stock_Name + " has been substantiated with technical features.")</code></pre></div>



<hr>



<h2 id="c892">Run the Logistic Regression Model</h2>



<p id="d59a">At this point, we have the historical data as well as over 32 technical indicators for each stock we chose to observe. We also created three different time-interval observations for which we want to predict the stock’s future price.</p>



<p id="1c52">Now, all that is left is to clean the data (remove infinite and …</p></div></section></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://handsoffinvesting.com/an-algorithmic-trading-strategy-using-logistic-regression/">https://handsoffinvesting.com/an-algorithmic-trading-strategy-using-logistic-regression/</a></em></p>]]>
            </description>
            <link>https://handsoffinvesting.com/an-algorithmic-trading-strategy-using-logistic-regression/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24377199</guid>
            <pubDate>Fri, 04 Sep 2020 17:46:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: AnyLeaf – PH Sensor for Microcontrollers]]>
            </title>
            <description>
<![CDATA[
Score 79 | Comments 48 (<a href="https://news.ycombinator.com/item?id=24376990">thread link</a>) | @the__alchemist
<br/>
September 4, 2020 | https://www.anyleaf.org/ph-module | <a href="https://web.archive.org/web/*/https://www.anyleaf.org/ph-module">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        <div>
            <p><img src="https://www.anyleaf.org/static/logo.png" width="300" alt="AnyLeaf"></p>
            <h2>For Arduino, Raspberry Pi, embedded</h2>
        </div>

        <p>
            <h2>Accurate</h2>
            <h2>Easy to use</h2>
            <h2>Affordable</h2>
        </p>

        <div>
            <div>
                <p><img src="https://www.anyleaf.org/static/ph_with_probe_cropped.jpg" width="640px">
                </p>
                
                <p onclick="addToCart(1)">
                    <h2>Buy with pH probe for $60</h2>
                </p>
            </div>

            <div>
                <p><img src="https://www.anyleaf.org/static/ph_cropped.jpg" width="640px">
                </p>

                <p onclick="addToCart(2)">
                    <h2>Buy without probe for $20</h2>
                </p>
            </div>

        </div>

        <p><img src="https://www.anyleaf.org/static/ph_probe_cropped.jpg" width="640px">
        </p>

        <h2>For laboratory, hydroponics, aquarium, and brewing</h2>

        <p>Available with lab-grade pH probe. Connects directly to your
            device (Arduino, Raspberry Pi, or embedded) - no other parts required. Our
            open-source software makes measuring fast and easy.</p>

        <h2>Suitable for continuous immersion</h2>

        <h3>Beyond pH</h3>
        <p>Includes temperature compensation, with built in sensor. Can be used with
            Oxidation Reduction Potential(ORP) , and other ion-selective electrodes.
            (Nitrate, Potassium, etc)

            probes.</p>

        <p>This module can be used with any probe with a BNC connection.
            The I2C interface can send data to nearly any microcontroler.</p>

        <h3>Fully tested on <a href="https://www.arduino.cc/">Arduino</a>,
            <a href="https://www.raspberrypi.org/">Raspberry Pi</a>, and
            <a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f3-series.html">STM32</a></h3>

        <h4>Output pins are labeled on the board, as follows:</h4>
        <ul>
            <li>+VCC: 2V – 5V power input</li>
            <li>SDA: I²C digital output</li>
            <li>SCL: I²C digital output</li>
            <li>GND: Ground</li>
        </ul>

        <h2>Arduino wiring</h2>
        <p><img src="https://www.anyleaf.org/static/arduino_diagram.png" width="500">
        </p>

        <h2>Raspberry Pi wiring</h2>
        <p><img src="https://www.anyleaf.org/static/pi_diagram.png" width="600">
        </p>

        
        <p><b>Arduino: </b> From the Arduino IDE: <i>Sketch</i> → <i>Include Library</i> →
            <i>Manage Libraries</i> → select <i><a href="https://www.arduino.cc/reference/en/libraries/anyleaf/">Anyleaf</a></i></p>
        <p><b>C++: </b>Download <i>Anyleaf.cpp</i>
            and <i>Anyleaf.h</i> from the C++ Github link below, and place them in your project directory
        </p>
        <p><b>Python: </b>Run <i>sudo apt install python3-scipy</i>, then
            <i>pip3 install <a href="https://pypi.org/project/anyleaf/">anyleaf</a></i>

        </p>
        <ul>
            <li><h3><a href="https://github.com/anyleaf/ph-cpp" target="_blank">Arduino and C++</a></h3></li>
            <li><h3><a href="https://github.com/anyleaf/anyleaf-python" target="_blank">Python</a></h3></li>
            <li><h3><a href="https://github.com/anyleaf/anyleaf-rust" target="_blank">Rust</a></h3></li>
        </ul>

        <h2>A miminal Arduino example</h2>

        <!--
        Syntax highlighting by http://hilite.me/


#include <Anyleaf.h>

PhSensor ph_sensor;

void setup(void) {
    Serial.begin(9600);

    ph_sensor = PhSensor();

    ph_sensor.calibrate_all(
        CalPt(0., 7., 25.), CalPt(0.18, 4., 25.)
    );
}

void loop(void) {
    Serial.print("pH: "); Serial.println(ph_sensor.read());

    delay(1000);
}
        !-->



        <!-- HTML generated using hilite.me --><div><pre><span>#include &lt;Anyleaf.h&gt;</span>

PhSensor ph_sensor;

<span>void</span> <span>setup</span>(<span>void</span>) {
    Serial.begin(<span>9600</span>);

    ph_sensor = PhSensor();

    ph_sensor.calibrate_all(
        CalPt(<span>0.</span>, <span>7.</span>, <span>25.</span>), CalPt(<span>0.18</span>, <span>4.</span>, <span>25.</span>)
    );
}

<span>void</span> <span>loop</span>(<span>void</span>) {
    Serial.print(<span>"pH: "</span>); Serial.println(ph_sensor.read());

    delay(<span>1000</span>);
}
</pre></div>

        <!--
import time
import board
import busio
from anyleaf import PhSensor, CalPt, OnBoard

def main():
    i2c = busio.I2C(board.SCL, board.SDA)
    delay = 1  # Time between measurements, in seconds
    ph_sensor = PhSensor(i2c, delay)

    ph_sensor.calibrate_all(
        CalPt(0., 7., 25.), CalPt(0.18, 4., 25.)
    )

    while True:
        print(f"pH: {ph_sensor.read(OnBoard())}")

        time.sleep(delay)


if __name__ == "__main__":
    main()
        -->

        <h2>A miminal Raspberry Pi Python example</h2>

        <!-- HTML generated using hilite.me --><!-- HTML generated using hilite.me --><div><pre><span>import</span> <span>time</span>
<span>import</span> <span>board</span>
<span>import</span> <span>busio</span>
<span>from</span> <span>anyleaf</span> <span>import</span> PhSensor, CalPt, OnBoard

<span>def</span> <span>main</span>():
    i2c = busio.I2C(board.SCL, board.SDA)
    delay = <span>1</span>  <span># Time between measurements, in seconds</span>
    ph_sensor = PhSensor(i2c, delay)

    ph_sensor.calibrate_all(
        CalPt(<span>0.</span>, <span>7.</span>, <span>25.</span>), CalPt(<span>0.18</span>, <span>4.</span>, <span>25.</span>)
    )

    <span>while</span> <span>True</span>:
        <span>print</span>(f<span>"pH: {ph_sensor.read(OnBoard())}"</span>)

        time.sleep(delay)


<span>if</span> __name__ == <span>"__main__"</span>:
    main()
</pre></div>

    <h2><a href="https://www.anyleaf.org/static/ph-module-datasheet.pdf">Datasheet</a></h2>

    <p>Regular calibration is required for accurate measurements.
        The official drivers support 2 or 3 point calibration. 2 point is sufficient for
        hydroponics, aquarium, or brewing use. 3 points, or 2 carefully chosen points are required
        for sufficient accuracy for lab use.</p>

    <h2>Specifications:</h2>
    <ul>
        <li><b>Module dimensions:</b> 50 × 25 × 17(height) mm</li>
        <li><b>Module weight:</b> 14 grams</li>
        <li><b>pH precision:</b> .01, with a suitable sensor</li>
        <li><b>pH Range:</b> 0 - 14</li>
        <li><b>Digital precision:</b> 16 bit</li>
        <li><b>Input voltage:</b> 2 - 5V</li>
        <li><b>Mounting screws:</b> 4 × M3, 6mm len (included)</li>
        <li><b>I2C address:</b> 0×48 or 0x49 (selectable)</li>
        <li><b>Sensor interface:</b> BNC male (Accepts BNC female sensors)</li>
        <li><b>Power consumption:</b> 375μA</li>
        <li><b>UPC / GTIN:</b> 860004179009</li>
    </ul>

    <h2>Specifications pertaining to the pH probe only:</h2>
    <ul>
        <li><b>Design:</b> Double junction glass hydrogen-sensitive electrode</li>
        <li><b>Dimensions:</b> 155 × 12 mm</li>
        <li><b>Weight:</b> 24g</li>
        <li><b>Measurement range:</b> 0 - 14</li>
        <li><b>Outer tube material:</b> Plastic</li>
        <li><b>Bulb shape:</b> Spherical</li>
        <li><b>Cable length:</b> 1 m</li>
        <li><b>Connector:</b> BNC female</li>
        <li><b>Temperature range: </b>0-80°C</li>
    </ul>

    <p>Compatible with the <a href="https://kizniche.github.io/Mycodo/">Mycodo Environmental
        Monitoring and Regulation System</a>. If you're using a Raspberry Pi, this is a simple
        way to get it running with a GUI, charts, and logging. Just follow the installation instructions
        on that page, and add <i>Anyleaf pH</i> as an <i>input</i>.
    </p>

</div></div>]]>
            </description>
            <link>https://www.anyleaf.org/ph-module</link>
            <guid isPermaLink="false">hacker-news-small-sites-24376990</guid>
            <pubDate>Fri, 04 Sep 2020 17:26:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google taught me to turn Impostor Syndrome into an Advantage]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24376950">thread link</a>) | @FactCore
<br/>
September 4, 2020 | https://www.zainrizvi.io/blog/the-impostors-advantage/ | <a href="https://web.archive.org/web/*/https://www.zainrizvi.io/blog/the-impostors-advantage/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
			<!-- .cover -->


				<div>
					<p>My heart was racing. My palms sweating. I was going to be fired.</p><p>Performance reviews had just ended, and it was time to meet my manager and be told my results. Except I knew what it would say. How else do you rate a programmer who doesn’t code?</p><p>As I stood up from my desk, my eyes fell on my Ship-it plaque, congratulating me for helping release Windows 7. I had joined Microsoft a mere two weeks before it was released, a fresh college hire. There wasn’t a single character I had contributed to that code.</p><p>The plaque was a lie. Just like me.</p><figure><img src="https://www.zainrizvi.io/content/images/2020/08/cropped-plaque.png" alt="" srcset="https://www.zainrizvi.io/content/images/size/w600/2020/08/cropped-plaque.png 600w, https://www.zainrizvi.io/content/images/size/w1000/2020/08/cropped-plaque.png 1000w, https://www.zainrizvi.io/content/images/2020/08/cropped-plaque.png 1325w" sizes="(min-width: 720px) 720px"></figure><p>My manager had booked a private conference room to share the results, far away from ears that might overhear anything said. Or begged. The long walk began, each step echoing down the corridor.</p><p>I racked my brains, grasping for an excuse to justify keeping my job. Instead my mind kept going back to the last bug I was supposed to fix. I’d spent all day failing to find the problem, finally giving in and asking a teammate for help. He found it in 10 minutes. I was way out of my league.</p><p>My boss must have seen it too, I bet that was why he assigned me, the kid, to help government auditors analyze our source code. Help <em>them</em>? I barely understood it myself! But this was more of a “people project.” If it didn’t require writing code, why waste real programmers on it? And so it came to me. I barely stayed afloat, constantly asking my manager for explanations and struggling to relay them to the auditors.</p><p>Yeah, I was doomed.</p><p>How would I tell my parents? Would I ever get another job? The only coding I did here was with an obsolete technology that no other company cared about; I didn’t even have the skills to land a new job.</p><p>What made me think I could work at Microsoft?</p><p>I reached the conference room, could I stall any longer? Huh, It’s the same room he interviewed me in two years ago. I doubt he remembers.</p><p>Okay, this is it. Deep breath, poker face on. No matter what, I wouldn’t let him <a href="https://www.zainrizvi.io/blog/the-interviewing-advice-no-one-shares#tip-3-be-open-to-learning-during-the-interview">see me sweat</a>.</p><p>I stepped inside. Scott was sitting at the table, laptop carefully angled to hide the screen.</p><p>“Have a seat” he said, gesturing to his right. As I sat down, Scott looked straight at me. He opened his mouth to give me the news. But it wasn’t what I expected.</p><p>“Congratulations, you’ve been promoted”</p><p>Huh? No way I heard that right. Keep that poker face tight.</p><p>“Keep up the great work! Anything you’d like to ask?”</p><p>Wait but...when did I...what?</p><p>He hadn’t noticed? I wasn’t about to point out his mistake. Can’t let any surprise show.</p><p>“Great, thanks.” That was all I trusted myself to say.</p><p>I was safe. For now.</p><p>He’d catch on in a few months, I was sure. I couldn’t hide forever.</p><p>I spent the next few years preparing for that inevitable day, desperately trying to work on projects that could teach me the skills that would catch a recruiter’s eye. I had to become hireable.</p><p>I needed a stronger resume, with skills people cared about. I switched to a new team which built stuff for the cloud: Azure Web Apps. Companies love the cloud, right? Surely I’ll learn industry relevant skills there.</p><p>Fast forward four years: I still didn’t feel like I was anything special, yet I kept getting promoted. I kept fooling them somehow, the <a href="https://www.zainrizvi.io/blog/hacking-the-bureaucracy-to-get-stuff-done/">bureaucratic</a> review process hiding my flaws. But something else also started happening, hinting that, just maybe, I wasn’t as clueless as I thought.</p><p>What changed?</p><p>People started coming to me for answers.</p><p>I still didn’t feel like I knew that much. I was just telling people about the stuff I’d worked on, occasionally pointing younger engineers towards tactics I had seen work well. That didn’t feel like anything original, but folks were finding it useful.</p><p>It got really weird when the more senior engineers started asking <em>me </em>about the code base. These were brilliant people who had often helped me over the years. Didn’t they already know everything?</p><p>I guess not, but they were still way above my league. It’s not like I knew enough to offer <em>them </em>real advice.</p><p>But still...my team seemed to think I was doing well. Would other companies think so too? Was I finally hireable? Only one way to find out: I started <a href="https://www.zainrizvi.io/blog/the-interviewing-advice-no-one-shares">applying</a>.</p><p>I couldn’t believe the results when multiple job offers came in. And one was from Google! I couldn’t pass that one up. I made the switch.</p><p>During orientation, Google spent a lot of time discussing Impostor Syndrome, the feeling of accomplished people belittling their own talents and constantly being terrified of being discovered as a fraud. That’s a thing?</p><p>“Raise your hand if you have this feeling” Hah, yeah right, and have me be the only one raising my...oh, wow, that’s a lot of hands. Mine joined the crowd.</p><p>As I started working, impostor syndrome came up constantly. It was mentioned at company meetings, folks made memes admitting to it. It was everywhere.</p><figure><img src="https://www.zainrizvi.io/content/images/2020/08/when-someone-comments-on-my-design-doc.gif" alt=""></figure><p>People freely admitted to not knowing stuff. Teammates admitted to not understanding the code, or having no idea how a tool worked. All the stuff I didn’t know, many others didn’t get either.</p><p>Seeing everyone admit their ignorance <strong>freed me</strong> from my own fear. Suddenly, feeling clueless seemed normal. &nbsp;It was a psychological quirk, not the truth.</p><p>My self-confidence grew. And gradually, without quite realizing it, something magical happened.</p><p>Impostor syndrome became a tool. I discovered the <strong>impostor’s advantage</strong>.</p><p>Did I notice feeling intimidated about asking a question? I started pushing myself to ask that question. Turns out other people had felt afraid as well, asking that question helped improve everyone’s understanding. &nbsp;When I started openly admitting to being unfamiliar with a tool or some code, my teammates felt like less of an impostor themselves. Their confidence went up. And they in turn became more likely to admit the same, creating a virtuous cycle boosting the entire team’s morale.</p><p>The impostor’s advantage was a super power.</p><p>And it offered new insights.</p><p>That feeling of being an impostor is your subconscious telling you something: It’s saying you’re about to push yourself past your comfort zone and into the growth zone. Now when an opportunity shows up and impostor syndrome starts twitching in the pit of my stomach, <strong>that’s a sign I should jump at it!</strong> This led me to take on <a href="https://www.zainrizvi.io/blog/whats-it-like-as-a-senior-engineer/#research-like-a-detective">bigger and more ambitious</a> projects, without worrying about being exposed. Somehow I still delivered results, helped by the various people I was no longer afraid to reach out to.</p><p>Every project still started with the thought, “I have no idea what to do here.” But then I’d remind myself, “no one else does either.” That was a surprising lesson about the more senior positions: <strong>Their work is so valuable </strong><em><strong>precisely because </strong></em><strong>no one knows exactly what needs to be done. It’s ambiguous.</strong> And it requires people who can still push through the uncertainty and forge a path forward.</p><p>They embrace the impostor’s advantage.</p><figure><img src="https://www.zainrizvi.io/content/images/2020/08/i-feel-like-an-impostor.png" alt="" srcset="https://www.zainrizvi.io/content/images/size/w600/2020/08/i-feel-like-an-impostor.png 600w, https://www.zainrizvi.io/content/images/2020/08/i-feel-like-an-impostor.png 666w"></figure><p>Looking back, I realize now that in my early days I'd been evaluating myself with biased glasses. &nbsp;<strong>I was comparing myself to people much more senior than me</strong>. Of course there would be a skill gap. <strong>If one person understood something, I assumed everyone knew it</strong>. That was false. As the “systems grow it’s impossible for one person to keep it all in their head”[1]; each person just knew the areas they had personally worked on.</p><p>My biggest mistake: <strong>I didn’t value the soft skills I brought to the table</strong>. Fresh out of college I had taken a significant load off my manager's plate by being the main point of contact with auditors and other teams. The fact that I was not writing code made me think I wasn’t doing anything useful, when in fact the soft skill of being able to work with them was incredibly valuable to the team.</p><p>As I continue working and taking on bigger projects, I suspect impostor syndrome will never completely go away. But now I take that as a good thing. An advantage. It’s a sign that I’m growing and stretching myself past my comfort zone.</p><p>And in thost darkest moments, when self doubt is at its highest, I remind myself:</p><p>I haven’t been fired yet.</p><p>[1] <em><a href="https://www.amazon.com/Managers-Path-Leaders-Navigating-Growth/dp/1491973897https://www.amazon.com/Managers-Path-Leaders-Navigating-Growth/dp/1491973897">The Manager’s Path</a></em>, by &nbsp;Camille Fournier</p>
				</div><!-- .post-content -->
				<!-- .post-footer -->
				<!-- .comments-area -->


		</article></div>]]>
            </description>
            <link>https://www.zainrizvi.io/blog/the-impostors-advantage/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24376950</guid>
            <pubDate>Fri, 04 Sep 2020 17:24:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Massacring C Pointers (2018)]]>
            </title>
            <description>
<![CDATA[
Score 148 | Comments 73 (<a href="https://news.ycombinator.com/item?id=24376622">thread link</a>) | @pcr910303
<br/>
September 4, 2020 | https://wozniak.ca/blog/2018/06/25/1/index.html | <a href="https://web.archive.org/web/*/https://wozniak.ca/blog/2018/06/25/1/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<p>
I'm taking a break from debugging books to talk about a calamitous shitshow of textbook writing: <i>Mastering C Pointers: Tools for Programming Power</i>, by Robert J. Traister.
</p>

<p>
I learned of the book through a <a href="https://www.youtube.com/watch?v=8SUkrR7ZfTA">talk</a> by Brian Kernighan where he refers to the book as probably “the worst C programming textbook ever written.”<span>[<a id="fnr.1" href="#fn.1">1</a>]</span>
He doesn't name it but <a href="https://twitter.com/johnregehr/status/1003411102791692288">with some help</a> I was able to track down his obliquely accurate reference.
</p>

<p>
This book has become my <a href="https://www.urbandictionary.com/define.php?term=white%20whale">white whale</a>.
Since I started reading debugging books, and especially now that I'm digging through older ones, I find bits of advice that simply don't work today.
While some of it could be construed as useless or idiotic, I've always found the authors come from a position of earnestness, attempting to draw the best conclusions based on decent principles and what they knew at the time they wrote it.
In some cases they may not have known much, but they're honestly and humbly trying to impart some wisdom.
</p>

<p>
When Kernighan put up the following example, I saw what seemed to be the opposite of that.
</p>

<pre>char *combine(s, t)
char *s, *t;
{

      int x, y;
      char r[100];

      strcpy(r, s);
      y = strlen(r);
      for (x = y; *t != '\0'; ++x)
           r[x] = *t++;

      r[x] = '\0';

      return(r);

}
</pre>

<p>
This program (formatting preserved) is taken from the first edition of the book (p.146).
It's horrific (Kernighan calls it “malpractice”).
It does not exhibit the genuineness I have seen with, say, books from the late 1970s on how to debug BASIC programs.
I didn't know what it was.
Deceit?
Laziness?
Unremitting ignorance?
What is the mindset of someone who writes this, presumably thinking it's a good idea?
Can the whole book be that bad?
Kernighan said it was.
I had to know.
</p>

<p>
The book has two editions: the first was published in 1990, the second in 1993.
The fact that there are two editions piqued my curiosity even more.
It sold enough to make another version?
Is that horrible example corrected?
I obtained a copy of each and read them.
</p>

<p>
Reviewing the book is pointless.
Kernighan was right: it's garbage.
And the second edition only makes things worse.
Teaching from either one would be a breach of ethics.
If you follow Traister’s coding practices, even adjusted for today's standards, you are <i>guaranteed</i> to create defects and vicious, latent bugs.
A subtly pernicious aspect of the book is the casual tone of the writing.
It’s informal enough that if you don’t really know much about C what he says sort of makes sense, despite the sloppy terminology and mixed, inaccurate metaphors.
</p>

<p>
Any trained programmer will recognize the lessons as worthless.
His terminology is all over the map and typically inaccurate, if not plainly wrong.
Expressions “return a value.”
Values are “handed” into locations.
Constants are “written directly into the program.”
A union is a “specialized pointer.”
The terminology isn’t even consistent.
Micro-optimizations are stressed at all times, and program efficiency is valued over comprehension.
He can’t even define a pointer correctly: “A pointer is a special variable that returns the address of a memory location.”
It does not take long to realize Traister has no idea what he’s talking about.
</p>

<p>
Although I’m not going to go over the content (that would take far too long since there’s nothing redeeming there), I did take extensive notes.
You can <a href="https://wozniak.ca/blog/2018/06/25/1/notes.html">read them</a>, if you are so inclined.
</p>

<p>
I must, however, take a moment to single out the code.
It is universally bad and much of it is simply wrong.
(Imagine trying to learn programming principles from a book that contains a large number of programs that don’t even compile.)
I’ve <a href="https://wozniak.ca/blog/2018/06/25/1/code.html">transcribed</a> some of the programs and annotated them with comments so that you can get a taste of how inept Traister is as a C programmer.
One thing to keep in mind (both for the programs and the notes) is that C89/C90 was new at the time and that the code was written on (and for) MS-DOS systems of the late 1980s/early 1990s.
Things were a bit different then.
</p>

<p>
Enough about the material.
I want to explore the question of how something so wrong even got written.  It’s not that everything in the book is wrong, but it feels like when it’s right, it’s right by accident.
</p>

<p>
Traister has <a href="https://www.amazon.com/Robert-J.-Traister/e/B001H6UPHY/ref=sr_ntt_srch_lnk_1?qid=1529540256&amp;sr=1-1">written</a> other books, some about electronics and some about programming, one called <i>Going from BASIC to C</i>.
In <i>Mastering C Pointers</i>, he talks about a product he created called CBREEZE that converts BASIC code to C.
Throughout the book he makes passing, roundabout references to BASIC and uses terminology that suggests he’s written a lot of BASIC code.
For example, there is a whole chapter on using pointers to access memory, where reading and writing memory is instead called “peeking” and “poking”, based on the PEEK and POKE instructions in BASIC.
He also says that it took him a couple of tries to learn C coming from BASIC.
In short, I’m convinced he’s knowledgeable about BASIC and has worked on writing software for small, electronic devices.
</p>

<p>
Why is this important?
As I read the book (and if you read my notes, you know where this is going) I started to notice something in the wording and tone.
The further I progressed the more I became convinced of it, and I think it explains how he managed to mangle the explanation of C pointers so badly.
</p>

<p>
I don’t think he understands the call stack.
</p>

<p>
My argument for this interpretation requires a little knowledge of BASIC and embedded devices.
</p>

<p>
With BASIC, the key thing to know about most implementations at the time is that there were no functions and no scope aside from the global scope.<span>[<a id="fnr.2" href="#fn.2">2</a>]</span>
The closest thing to a function in BASIC is the GOSUB command.
The GOSUB command jumps to a line and executes code until it gets to a RETURN statement, where control is transferred back to the line following the GOSUB command.
Within a GOSUB you can jump somewhere else with another GOSUB.
The control follows a stack principle, but no arguments are passed.
GOSUB routines are a way to factor out common code, but that common code has to work on global variables.
(And yes, it’s as terrible as it sounds.)
</p>

<p>
Now, consider the case of simple electronic devices.
Even today some embedded devices, usually programmed using C, do not have a call stack that dynamically allocates space for automatic variables.
There simply isn’t enough memory for it.
Instead, the compiler lays out memory such that each function’s local variables have fixed memory addresses (a “compiled stack” model).
The only stack you have is for return addresses and it is probably handled in hardware.
</p>

<p>
Suppose you’re used to writing BASIC for small memory electronic devices and you learn about C.
You read about pointers and realize something: it’s possible to write a subroutine that can change variables <i>without knowing their names</i>.
It’s manna from heaven!
You don’t have to devote global variables to being the “parameters” of your subroutines anymore.
Life is great.
</p>

<p>
This is the mindset I think Traister had and never got past.
In the book there is one fleeting mention of the stack in reference to excessive (automatic) memory allocation.
(On MS-DOS, if the space for local variables is too large in the program, it might not compile.)
He consistently describes variables as having “exclusive” addresses in the program.
His writing about pointers suggests that he thinks, for each function, space is set aside to hold the local variables for the duration of the program, but you can only access them when inside the function in which they were declared.
So pointers are really powerful because you can provide this address to another function and it can change the value using only a parameter.
</p>

<p>
Further evidence for his lack of understanding is that he frequently cites ridiculous space micro-optimizations within functions, such as avoiding the use of integers for index variables, if possible.
Another one, mentioned often, is local <code>char</code> arrays that have a fixed size.
There are good reasons to not use them but his are not among them.
His admonishment is that they waste space.
Technically, that is true, but they don't exist until they're on the stack.
And he never talks about global or file variables.
He only refers to locals with “exclusive” addresses “set aside” for variables.
</p>

<p>
This interpretation runs into some problems once you start asking how functions with malloc will work, but it's worth pointing out that there is almost no discussion about memory management.
In a book devoted to C pointers, that's a toxic mix of gross negligence and incompetence.
There is literally one short paragraph devoted to talking about the <code>free</code> function—and it's characterized as a “side note.”
</p>

<p>
Another sticking point in this interpretation is Traister’s incomprehensible approach to writing functions that take a variable number of arguments.
He does this by passing an arbitrary number of arguments to a function (the first being the number of arguments) and accessing them using offsets from the address of the first argument.
This suggests he has some idea about parameters being passed in a dynamic fashion, but it is so spectacularly wrong<span>[<a id="fnr.3" href="#fn.3">3</a>]</span> you’re left wondering if he even tried his programs out before publishing them.
</p>

<p>
Honestly, this is the most generous interpretation of the text I could come up with, and it still paints a terrible picture.
Occam's Razor suggests that Traister is just clueless.
But like <a href="https://www.youtube.com/watch?v=01l1WIC9mBo">analyzing a terrible movie</a> that somehow gets made, it's more fun to reason through the “behind the scenes” parts.
</p>

<p>
Given the ineptness of the book, you'd think it was self-published.
You would be wrong.
It was published through Academic Press, which was a division of Harcourt, Brace &amp; World at the time, but is now an “imprint of Elsevier.”
</p>

<p>
In the preface of the second edition it says that the first edition was reviewed “by a professional C programmer hired by the publisher.”
That programmer said it should not be published.
That programmer was right, but the publisher went ahead and …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wozniak.ca/blog/2018/06/25/1/index.html">https://wozniak.ca/blog/2018/06/25/1/index.html</a></em></p>]]>
            </description>
            <link>https://wozniak.ca/blog/2018/06/25/1/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24376622</guid>
            <pubDate>Fri, 04 Sep 2020 16:49:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Standards for Gloves]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 19 (<a href="https://news.ycombinator.com/item?id=24375011">thread link</a>) | @brudgers
<br/>
September 4, 2020 | https://guidegloves.com/en/knowledge/standards | <a href="https://web.archive.org/web/*/https://guidegloves.com/en/knowledge/standards">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <h4>About Guide</h4>
        <p>For over 30 years, our mission has been to protect and improve the performance of working hands. By being the fastest, most sustainable and innovative manufacturer of premium work gloves for a wide range of industries, we aim to make people safer and healthier at work.</p>

    </div></div>]]>
            </description>
            <link>https://guidegloves.com/en/knowledge/standards</link>
            <guid isPermaLink="false">hacker-news-small-sites-24375011</guid>
            <pubDate>Fri, 04 Sep 2020 14:04:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[List of YouTube channels for improving web development and programming skills]]>
            </title>
            <description>
<![CDATA[
Score 268 | Comments 92 (<a href="https://news.ycombinator.com/item?id=24374979">thread link</a>) | @bojanvidanovic
<br/>
September 4, 2020 | https://devandgear.com/posts/the-ultimate-list-of-youtube-channels-to-boost-your-web-development-and-programming-skills/ | <a href="https://web.archive.org/web/*/https://devandgear.com/posts/the-ultimate-list-of-youtube-channels-to-boost-your-web-development-and-programming-skills/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<header>
<figure>
<img data-srcset="https://source.unsplash.com/4-EeTnaC1S4/480 480w,
                  https://source.unsplash.com/4-EeTnaC1S4/640 640w,
                  https://source.unsplash.com/4-EeTnaC1S4/960 960w,
                  https://source.unsplash.com/4-EeTnaC1S4/1280 1280w" data-sizes="auto" src="https://source.unsplash.com/4-EeTnaC1S4/50x0" alt="A man watching his laptop">
<figcaption>
<a href="https://unsplash.com/@sickhews" target="_blank">
Wes Hicks
</a>
</figcaption>
</figure>
<div>
<p><time>
Sep 4, 2020
</time></p>
<p>These YouTubers are followed by thousands for their high-quality programming tutorials, find your favorite channel in this ultimate list to learn and boost your web development skills today.</p>
<p>
<span>in
<a href="https://devandgear.com/categories/learning"><b>Learning</b></a>
</span>
</p>
</div>
</header>
<div>
<div>
<p>Reading and listening to someone might not be the same, especially when learning
hard technical topics. With the rise of developers turned YouTubers, there is
a vast choice of technical videos from all areas of software development
available on YouTube. With that in mind, it has never been easier to learn the web
development from scratch or just boost the level of your skills thanks to the
enormous YouTube community.</p>
<p>But finding the right YouTube channel might not be easy, so we created an
ultimate list of channels for you to follow and start learning today.</p>
<p>Don’t forget to share, and let us know in the comments if your
favorite YouTube channel is not listed.</p>
<ul>
<li><a href="https://www.youtube.com/c/DevEd">Dev Ed</a></li>
<li><a href="https://www.youtube.com/WebDevSimplified">Web Dev Simplified</a></li>
<li><a href="https://www.youtube.com/c/TheNetNinja">The Net Ninja</a></li>
<li><a href="https://www.youtube.com/c/TraversyMedia">Traversy Media</a></li>
<li><a href="https://www.youtube.com/c/BenAwad97">Ben Awad</a></li>
<li><a href="https://www.youtube.com/c/coreyms">Corey Schafer</a></li>
<li><a href="https://www.youtube.com/aniakubow">Ania Kubów</a></li>
<li><a href="https://www.youtube.com/channel/UCvI5azOD4eDumpshr00EfIw">Codú Community</a></li>
<li><a href="https://www.youtube.com/channel/UCd-EhXGbXSozuzsAAdPIn3A">Tuts+ Code</a></li>
<li><a href="https://www.youtube.com/channel/UCVTlvUkGslCV_h-nSAId8Sw">LearnCode.academy</a></li>
<li><a href="https://www.youtube.com/channel/UCADyUOnhyEoQqrw_RrsGleA">Chris Coyier</a></li>
<li><a href="https://www.youtube.com/c/webcrunch">Web-Crunch</a></li>
<li><a href="https://www.youtube.com/channel/UCyU5wkjgQYGRB0hIHMwm2Sg">LevelUpTuts</a></li>
<li><a href="https://www.youtube.com/channel/UCO1cgjhGzsSYb1rsB4bFe4Q">FunFunFunction</a></li>
<li><a href="https://www.youtube.com/channel/UCxSITxL2JbF229OGCqieVZw">Garrett Love</a></li>
<li><a href="https://www.youtube.com/channel/UCpOIUW62tnJTtpWFABxWZ8g">Codecourse</a></li>
<li><a href="https://www.youtube.com/florinpop">Florin Pop</a></li>
<li><a href="https://www.youtube.com/channel/UCwRXb5dUK4cvsHbx-rGzSgw">Derek Banas</a></li>
<li><a href="https://www.youtube.com/channel/UCoebwHSTvwalADTJhps0emA">Wes Bos</a></li>
<li><a href="https://www.youtube.com/user/thenewboston">thenewboston</a></li>
<li><a href="https://www.youtube.com/user/williamprey">Alessandro Castellani</a></li>
<li><a href="https://www.youtube.com/channel/UCpzRDg0orQBZFBPzeXm1yNg">Adam Khoury</a></li>
<li><a href="https://www.youtube.com/channel/UCt0ya0xGvXu01zfXjNrGqzg">flavio</a></li>
<li><a href="https://www.youtube.com/channel/UCnUYZLuoy1rq1aVMwx4aTzw">Google Chrome Developers</a></li>
<li><a href="https://www.youtube.com/channel/UCRxWW_Ncs308nW4An23Yeig/">Simple Programmer</a></li>
<li><a href="https://www.youtube.com/channel/UChByJR-sX8CooIAc5nkV7Mg">Matt Stauffer</a></li>
<li><a href="https://www.youtube.com/channel/UCvM5YYWwfLwpcQgbRr68JLQ">Adria Twarog</a></li>
<li><a href="https://www.youtube.com/kepowob">Kevin Powell</a></li>
<li><a href="https://www.youtube.com/channel/UC-T8W79DN6PBnzomelvqJYw">James Q Quick</a></li>
<li><a href="https://www.youtube.com/c/SteveGriffith-Prof3ssorSt3v3">Steve Griffith</a></li>
<li><a href="https://www.youtube.com/user/programmingwithmosh">Programmming with Mosh</a></li>
<li><a href="https://www.youtube.com/user/CalebTheVideoMaker2">Caleb Curry</a></li>
<li><a href="https://www.youtube.com/channel/UC4JX40jDee_tINbkjycV4Sg">Tech With Tim</a></li>
<li><a href="https://www.youtube.com/channel/UC8A0M0eDttdB11MHxX58vXQ">Meth Meth Method</a></li>
<li><a href="https://www.youtube.com/channel/UCrqAGUPPMOdo0jfQ6grikZw">Colt Steele</a></li>
<li><a href="https://www.youtube.com/user/shiffman">The Coding Train</a></li>
<li><a href="https://www.youtube.com/user/andrewjosephmead1">Andrew Mead</a></li>
<li><a href="https://www.youtube.com/channel/UCHkqtrnQO2HMyW50ixOtJGw">This Dot Media</a></li>
<li><a href="https://www.youtube.com/c/KentCDodds-vids">Kent C. Dodds</a></li>
<li><a href="https://www.youtube.com/user/Weibenfalk">Weibenfalk</a></li>
<li><a href="https://www.youtube.com/channel/UCtb40EQj2inp8zuaQlLx3iQ">Andre Madarang</a></li>
<li><a href="https://www.youtube.com/channel/UC8butISFwT-Wl7EV0hUK0BQ">freeCodeCamp.org</a></li>
<li><a href="https://www.youtube.com/channel/UCJq6AEgtWeZt7ziQ-fLKOeA">Prismic</a></li>
<li><a href="https://www.youtube.com/channel/UCWr0mx597DnSGLFk1WfvSkQ">Kalle Hallden</a></li>
<li><a href="https://www.youtube.com/channel/UCtxCXg-UvSnTKPOzLH4wJaQ">Coding Tech</a></li>
<li><a href="https://www.youtube.com/channel/UCsBjURrPoezykLs9EqgamOA">Fireship</a></li>
<li><a href="https://www.youtube.com/channel/UCRLEADhMcb8WUdnQ5_Alk7g">Aaron Jack</a></li>
<li><a href="https://www.youtube.com/user/irideabanana">uidotdev</a></li>
<li><a href="https://www.youtube.com/channel/UCDCHcqyeQgJ-jVSd6VJkbCw">codeSTACKr</a></li>
<li><a href="https://www.youtube.com/channel/UCsUalyRg43M8D60mtHe6YcA">Honeypot</a></li>
<li><a href="https://www.youtube.com/unsureprogrammer">Unsure Programmer</a></li>
<li><a href="https://www.youtube.com/channel/UCJUmE61LxhbhudzUugHL2wQ">codedamn</a></li>
<li><a href="https://www.youtube.com/channel/UC80PWRj_ZU8Zu0HSMNVwKWw">Codevolution</a></li>
<li><a href="https://www.youtube.com/channel/UC8n8ftV94ZU_DJLOLtrpORA">Code Explained</a></li>
<li><a href="https://www.youtube.com/user/DesignCourse">DesingCourse</a></li>
<li><a href="https://www.youtube.com/simplesnippets">Simple Snippets</a></li>
<li><a href="https://www.youtube.com/channel/UCxA99Yr6P_tZF9_BgtMGAWA">Faraday Academy</a></li>
<li><a href="https://www.youtube.com/c/SteveSchoger">Steve Schoger</a></li>
<li><a href="https://www.youtube.com/channel/UCDrekHmOnkptxq3gUU0IyfA">Devon Crawford</a></li>
<li><a href="https://www.youtube.com/user/javaboynavin">Telusko</a></li>
<li><a href="https://www.youtube.com/c/ackzell/videos">ackzell</a></li>
<li><a href="https://www.youtube.com/c/Academind">Academind</a></li>
<li><a href="https://www.youtube.com/channel/UCQI-Ym2rLZx52vEoqlPQMdg">iCoder’s Tape</a></li>
<li><a href="https://www.youtube.com/user/IAmTimCorey">IAmTimCorey</a></li>
<li><a href="https://www.youtube.com/user/CodingEntrepreneurs">CodingEntrepreneurs</a></li>
<li><a href="https://www.youtube.com/codinggardenwithcj">Coding Garden with CJ</a></li>
<li><a href="https://www.youtube.com/channel/UCksTNgiRyQGwi2ODBie8HdA">Adam Bien</a></li>
<li><a href="https://www.youtube.com/SimonHoiberg">Simon Hoiberg</a></li>
<li><a href="https://www.youtube.com/channel/UC54NcJvLCvM2CNaBjd5j6HA">RealToughCandy</a></li>
<li><a href="https://www.youtube.com/c/QuickProgramming">Quick programmming</a></li>
<li><a href="https://www.youtube.com/user/TheCharmefis">Dani Krossing</a></li>
<li><a href="https://www.youtube.com/c/RodtheITGuy">Rod the IT guy</a></li>
<li><a href="https://www.youtube.com/channel/UCjX0FtIZBBVD3YoCcxnDC4g">dcode</a></li>
<li><a href="https://www.youtube.com/user/hiteshitube">Hitesh Choudhary</a></li>
<li><a href="https://www.youtube.com/c/Lengstorf">Jason Lengstorf</a></li>
<li><a href="https://www.youtube.com/channel/UCbwXnUipZsLfUckBPsC7Jog">Online Tutorials</a></li>
<li><a href="https://www.youtube.com/c/WrongAkram">Wrong Akram</a></li>
<li><a href="https://www.youtube.com/user/binarythistle">Les Jackson</a></li>
<li><a href="https://www.youtube.com/cleverprogrammer">Clever Programmer</a></li>
<li><a href="https://www.youtube.com/user/Conutant">Tyler Moore</a></li>
<li><a href="https://www.youtube.com/user/GeekyShow1">Geeky Shows</a></li>
<li><a href="https://www.youtube.com/channel/UC-Zcse8tC53G34Uo4kzLeAg">Chris Blakely</a></li>
<li><a href="https://www.youtube.com/channel/UCNFmBuclxQPe57orKiQbyfA">Tanay Pratap</a></li>
<li><a href="https://www.youtube.com/techsithtube">techsith</a></li>
<li><a href="https://www.youtube.com/hswolff">Harry Wolff</a></li>
<li><a href="https://www.youtube.com/c/FKnight">ForrestKnight</a></li>
<li><a href="https://www.youtube.com/user/Tychos1">Joshua Fluke</a></li>
<li><a href="https://www.youtube.com/c/sentdex">sentdex</a></li>
<li><a href="https://www.youtube.com/BeforeSemicolon">Before Semicolon</a></li>
</ul>

</div>

</div>

<section>
<section id="comments">
<h2>Comments</h2>



</section>
</section>
</article></div>]]>
            </description>
            <link>https://devandgear.com/posts/the-ultimate-list-of-youtube-channels-to-boost-your-web-development-and-programming-skills/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24374979</guid>
            <pubDate>Fri, 04 Sep 2020 13:59:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Snake in a QR Code]]>
            </title>
            <description>
<![CDATA[
Score 266 | Comments 79 (<a href="https://news.ycombinator.com/item?id=24374570">thread link</a>) | @phit_
<br/>
September 4, 2020 | https://itsmattkc.com/etc/snakeqr/ | <a href="https://web.archive.org/web/*/https://itsmattkc.com/etc/snakeqr/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>The above QR code contains a complete Windows executable that will run on Windows 7 and up. It's a simple but fully playable implementation of Snake.</p>
<p>A QR code is a data storage medium like any other, and while it's almost always used to store ASCII text, it can also be used to store binary data. As such, virtually any computer data can theoretically be stored in a QR code provided it can fit within the size limitations.</p>
<p>A QR code comes in various standard sizes, the largest being version 40 which can store up to 2,953 bytes (roughly 2.9 KB) of binary data. The above code is not quite that large, it's only storing around 1.4 KB of data (shrunk down from 3.2 KB with <a href="http://www.crinkler.net/" target="_blank">Crinkler</a>, slightly larger than the executable shown in the video because I decided to add a little more functionality).</p>

<p><b>Method 1: Webcam (automatic)</b></p>
<p>You can treat this QR code much like a QR code in the real world by using your computer's webcam to read it (e.g. after loading this page on a phone or printing the QR code out). For this, I recommend using zbarcam. I've included a download link with everything you need:</p>
<ol>
    <li><a href="https://itsmattkc.com/etc/snakeqr/zbarcam.zip">Download zbarcam</a></li>
    <li>Open "Read Snake From QR.bat". After a moment, your webcam will activate.</li>
    <li>Using either your phone screen or a print-out, hold the QR code up to the camera.</li>
    <li>Once it recognizes the code, it will close and Snake will appear, freshly read from the QR code.</li>
</ol>
<p><b>Method 2: Webcam (manual)</b></p>
<p>This method is the same as the above, however if you'd rather input the commands manually than running my script, go for it:</p>
<ol>
    <li><a href="https://itsmattkc.com/etc/snakeqr/zbarcam.zip">Download zbarcam</a></li>
    <li>Open Command Prompt</li>
    <li><span>cd</span> to the zbarcam folder.</li>
    <li>Run the following command:
        <p>zbarcam --raw --oneshot -Sbinary &gt; snake.exe</p>
        <p>The arguments used are as follows:</p>
        <ul>
            <li><span>--raw</span> - Disables any character encoding conversion.</li>
            <li><span>--oneshot</span> - Stops reading and closes zbarcam after the code has been successfully read.</li>
            <li><span>-Sbinary</span> - Informs zbarcam that the data in the code is binary data.</li>
        </ul>
    </li>
    <li>Using either your phone screen or a print-out, hold the QR code up to the camera.</li>
    <li>Once it recognizes the code, it will close and an executable called "snake.exe" will appear in the same folder.</li>
    <li>Open "snake.exe".</li>
</ol>

<ul>
    <li>The version of zbarcam provided above has been patched to correctly output binary data on Windows. This project exposed a bug in zbarcam where binary data was incorrectly treated as text, inadvertently corrupting it as Windows attempted to convert LF line endings to CRLF. The fix used here has since been merged into zbar's master source code, but as of July 2020 no stable release version has included the fix yet.</li>
    <li>The version of zbarcam provided above has been compiled with DirectShow support for greater compatibility with webcam devices. In my video, I use a build that has not been compiled for DirectShow (using VfW instead) which leads to a black and white webcam feed. This build provides a feed in color.</li>
</ul>

<p>As a proof-of-concept, I wrote an implementation of Snake in JavaScript that, when minified, could also fit into the maximum QR code size which I briefly showcased in the video. Some people were interested in playing this, so <a href="https://itsmattkc.com/etc/snakeqr/snake-minified.html">it is available here</a>.</p>

<p>
    • <a href="https://en.wikipedia.org/wiki/QR_code">QR code on Wikipedia</a><br>
    • <a href="https://github.com/mchehab/zbar">ZBar on GitHub</a><br>
</p>
</div></div>]]>
            </description>
            <link>https://itsmattkc.com/etc/snakeqr/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24374570</guid>
            <pubDate>Fri, 04 Sep 2020 13:08:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bread, How Did They Make It? Addendum: Rice]]>
            </title>
            <description>
<![CDATA[
Score 100 | Comments 50 (<a href="https://news.ycombinator.com/item?id=24373939">thread link</a>) | @Kednicma
<br/>
September 4, 2020 | https://acoup.blog/2020/09/04/collections-bread-how-did-they-make-it-addendum-rice/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2020/09/04/collections-bread-how-did-they-make-it-addendum-rice/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>As an addendum on to our four-part look at the general structures of the farming of cereal grains (<a href="https://acoup.blog/2020/07/24/collections-bread-how-did-they-make-it-part-i-farmers/">I</a>, <a href="https://acoup.blog/2020/07/31/collections-bread-how-did-they-make-it-part-ii-big-farms/">II</a>, <a href="https://acoup.blog/2020/08/06/collections-bread-how-did-they-make-it-part-iii-actually-farming/">III</a>, <a href="https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/">IV</a>) this post is going to briefly discuss some of the key ways that the structures of <strong><em>rice</em> <em>farming </em></strong>differ from the structures of wheat and barley farming.  We’ll start with some of the key differences in the mechanics of rice farming itself, before moving into how those differences might motivate different social and economic organization in the countryside, before finally discussing some of the theories as to how rice farming might – or might not – impact larger structures like the state.</p>



<p>As always, if you like what you are reading here, please share it. If you want updates whenever a new post appears, you can click the button below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts, as well as my occasional ancient history, foreign policy or pop-culture thoughts. And if you want to ensure that I can continue to get my rice, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>.</p>






<p>(Quick bibliographic aside: I relied primary for this on Hsu, <em>Han Agriculture: The Formation of Early Chinese Agrarian Economy</em> (206 B.C. – A.D. 220) (1980) and F. Bray, <em>The Rice Economies: Technology and Development in Asian Societies </em>(1986) which were recommended to me by specialists in the field.  The latter is a wealth of technical details on rice cultivation, although it is as focused on the transition to mechanization and modern agriculture as to the conditions of pre-modern rice cultivation.)</p>



<h2>Rice Cultivation</h2>



<p>We want to start with the rice cultivation process.  There are a <em>lot</em> of varieties of rice out there, but the key divide we want to make early is between dry-rice and wet-rice.  When we’re talking about ‘rice cultures’ or ‘rice agriculture,’ generally, we mean wet-rice farming, where the rice is partially submerged during its growing.  Wild rice, as far as we can tell, began as a swamp-grass and thus likes to have quite a lot of water around, although precisely controlling the water availability can lead the rice to be a lot more productive than it would be in its natural habitat.  While there are varieties of rice which can be (and are) farmed ‘dry’ (that is, in unflooded fields much like wheat and barley are farmed), the vast majority of rice farming is ‘wet.’  As with grains, this is not merely a matter of different methods of farming, but of different varieties of rice that have been adapted to that farming; varieties of dry-rice and wet-rice have been selectively bred over millennia to perform best in those environments.</p>



<p>Wet-rice is farmed in paddies, small fields (often <em>very</em> small – some Chinese agronomists write that the ideal size for an individual rice field is around 0.1 hectare, which is just 0.24 acres) surrounded by low ‘bunds’ (small earthwork walls or dykes) to keep in the water, typically around two feet high.  Because controlling the water level is crucial, rice paddies must be very precisely flat, leading to even relatively gentle slopes often being terraced to create a series of flat fields.  Each of these rice paddies (and there will be many because they are so small) are then connected by irrigation canals which channel and control the water in what is often a quite complex system.</p>



<figure><img data-attachment-id="4363" data-permalink="https://acoup.blog/535232001/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg" data-orig-size="1667,2500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="535232001" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=200" data-large-file="https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=683" src="https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=683" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=683 683w, https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=1366 1366w, https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=100 100w, https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=200 200w, https://acoupdotblog.files.wordpress.com/2020/09/535232001.jpg?w=768 768w" sizes="(max-width: 683px) 100vw, 683px"><figcaption><a href="https://www.britishmuseum.org/collection/object/A_1915-0823-0-749">Via the British Museum</a>, a Japanese color woodblock print (1855) showing rice farmers working in the fields.</figcaption></figure>



<p>The exact timing of rice production is more complex than wheat because a single paddy often sees two crops in a year and the exact planting times vary between areas;  one common cycle on the Yangtze is for a February planting (with a June harvest) followed by a June planting (with a November harvest).  In other areas, paddies planted with rice during the first planting might be drained and sown with a different plant entirely (sometimes including wheat) in the intervening time.</p>



<p>The cycle runs thusly: after the heavy rains of the monsoons (if available), the field is tilled (or plowed, but as we’ll see, manual tillage is often more common).  The seed is then sown (or transplanted) and the field is, using the irrigation system, lightly flooded, so that the young seedlings grow in standing water.  Sometimes the seed is initially planted in a dedicated seed-bed and then transferred to the field, rather than being sown there directly; doing so has a positive impact on yields, but is substantially more labor intensive.  The water level is raised as the plant grows; agian this is labor intensive, but increases yields.  Just before the harvest the fields are drained out and allowed to dry out, before the crop is harvested and then goes into processing.</p>



<p>Rice is threshed much like grain (more often manually threshed and generally not threshed with flails) to release the seeds, the individual rice grains, from the plant.  That is going to free the endosperm of the speed, along with a hull around it and a layer of bran between the two.  Hulling was traditionally done by hand-pounding, which frees the seed from the hull, leaving just the endosperm and some of the bran; this is how you get <em>brown</em> rice, which is essentially ‘whole-grain’ rice.  While it is generally less <em>tasty</em>, the bran actually has quite a lot of nutrients not present in the calorie-rich endosperm.  Whereas <em>white rice</em> is produced by then milling or polishing away the bran to produce a pure, white kernal of the endosperm; it is very tasty, but lacks many of the vitamins that brown rice has.</p>



<p>Consequently, while a diet of mostly brown rice can be healthy, a diet overwhelmingly of <em>white rice</em> leads to <a href="https://en.wikipedia.org/wiki/Thiamine_deficiency">Thiamine deficiency</a>, known colloquially as <em>beriberi</em>.  My impression from the literature is that this wasn’t as much an issue prior to the introduction of mechanical milling processes for rice. Mechanical milling made producing white rice in quantity cheap and so it came to dominate the diet to the exclusion of brown rice, producing negative health effects for the poor who could not afford to supplement their rice-and-millet diet with other foods, or for soldiers whose ration was in rice.  But prior to that mechanical milling, brown rice was all that was available for the poor, which in turn meant less Thiamine deficiency among the lower classes of society.</p>



<h2>Farmer Terrain</h2>



<p>Because rice is such a different crop than wheat or barley, there are a lot of differences in the way that rice cultivation shapes the countryside.  We’ll move here from the relatively direct impacts on the organization of farmers and then discuss the more speculative impacts on the organization of whole societies.</p>



<p>The thing to note about <strong>rice is that it is both <em>much</em> more productive on a per-acre basis than wheat or barley, but also <em>much</em> more labor intensive</strong>; it also relies on different forms of capital to be productive.  Whole-grain wheat and brown rice have similar calorie and nutritional value (brown rice is somewhat better in most categories) on a unit-weight basis (so, per pound or ton), but the yield difference is fairly large: rice is typically around (very roughly) 50% more productive per acre than wheat.  Moreover, rice plants have a more favorable ratio of seeds-to-plants, meaning that the demand to put away seeds for the next harvest is easier – whereas crop-to-seed ratios on pre-modern wheat range from 3:1 to 10:1, rice can achieve figures as high as 100:1.  As a result, not only is the gross yield higher (that is, more tons of seed per field) but a lower percentage of that seed has to be saved for the next planting.</p>



<figure><img data-attachment-id="4365" data-permalink="https://acoup.blog/1613316772/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg" data-orig-size="1565,1406" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="1613316772" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg?w=768 768w, https://acoupdotblog.files.wordpress.com/2020/09/1613316772.jpg 1565w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://www.britishmuseum.org/collection/object/A_1939-0311-0-6-56">Via the British Museum</a>, a map made of Kaliwungi, Java (1807) showing a collection of rice fields.  Of particular note is how small each individual field is (compare the village on the right-hand side!).</figcaption></figure>



<p><strong>At the same time, the irrigation demands for effective production of wet-rice requires a <em>lot</em> of labor to build and maintain</strong>.  Fields need to be flooded and drained; in some cases (particularly pre-modern terrace farming) this may involve moving the water manually, in buckets, from lower fields to higher ones.  Irrigation canals connecting paddies can make this job somewhat easier, as can bucket-lifts (there’s a picture of a simple one below), but that still demands moving quite a lot of water.  In any irrigation system, the bunds need to be maintained and the water level carefully controlled, with also involves potentially quite a lot of labor.</p>



<p>The consequence of all of this is that while the rice farming household seems to be roughly the same size as the wheat-farming household (that is, an extended family unit of variable size, but typically around 8 or so members), <strong>the farm is much smaller</strong>, with common household farm sizes, even in the modern period, clustering around 1 hectare (2.47 acres) in comparison to the standard household wheat farms clustered around 4-6 acres (which, you may note with the yield figures above, lands us right back at around the same subsistence standard).</p>



<p>Moreover, rice cultivation is less soil dependent (but more water dependent) because wet-rice farming both encourages nitrogen fixation in the soil (maintaining the fertility of it generally without expensive manure use) and because rice farming leads naturally to a process known as <a href="https://en.wikipedia.org/wiki/Podzol">pozdolisation</a>, slowly converting the underlying soil over a few years to a set of characteristics which are more favorable for more rice cultivation.  So whereas with wheat cultivation, where you often have clumps of marginal land (soil that is too wet, too dry, too rocky, too acidic, too uneven, too heavily forested, and so on), rice cultivation tends to be able to make use of almost any land where there is sufficient water (although terracing may be needed to level out the land).  The reliance on the rice itself to ‘terraform’ its own fields does mean that new rice fields tended to under-produce for the first few years.</p>



<figure><img data-attachment-id="4357" data-permalink="https://acoup.blog/terrace_field_yunnan_china_denoised/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg" data-orig-size="2000,1295" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="terrace_field_yunnan_china_denoised" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg?w=768 768w, https://acoupdotblog.files.wordpress.com/2020/09/terrace_field_yunnan_china_denoised.jpg 2000w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://en.wikipedia.org/wiki/Rice_production_in_China#/media/File:Terrace_field_yunnan_china_denoised.jpg">Via Wikipedia</a>, terraced rice paddies in Yunnan, China, showing how uneven land can be terraced to create level fields …</figcaption></figure></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2020/09/04/collections-bread-how-did-they-make-it-addendum-rice/">https://acoup.blog/2020/09/04/collections-bread-how-did-they-make-it-addendum-rice/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2020/09/04/collections-bread-how-did-they-make-it-addendum-rice/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24373939</guid>
            <pubDate>Fri, 04 Sep 2020 11:21:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MongoDB History]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 47 (<a href="https://news.ycombinator.com/item?id=24373439">thread link</a>) | @jaysonqpt
<br/>
September 4, 2020 | https://www.quickprogrammingtips.com/mongodb/mongodb-history.html | <a href="https://web.archive.org/web/*/https://www.quickprogrammingtips.com/mongodb/mongodb-history.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
							
				<p>When it comes to modern web application development, MongoDB is the king. If you are a full stack programmer, you hear about MERN or MEAN stacks every day. The <b>M</b> is in every one of them and it stands for MongoDB. The free and open source community version of MongoDB powers a large number of Web applications. From its humble beginnings in 2007, MongoDB has come a long way. It is the primary product behind the company MongoDB Inc. with over 10 billion dollars in market capitalisation. Like many other products before and after, online advertising was the key catalyst behind the vision and development of MongoDB. The story of MongoDB is an interesting one and in this article, I will take you on a journey through the MongoDB land and its history.</p>
<h2>The Idea of the Humongous Database – The Beginnings</h2>
<p>The story of MongoDB has its beginnings much earlier than 2007. In 1995, <a href="https://en.wikipedia.org/wiki/Dwight_Merriman" target="_blank" rel="noopener noreferrer">Dwight Merriman</a> and Kevin O’Connor created the famous online advertising company DoubleClick. Kevin Ryan joined the team soon after(Dwight and Kevin later cofounded 5 companies together – Gilt, 10gen, Panther Express, ShopWiki and Business Insider). DoubleClick soon took off and within a few years it was serving as much as 400,000 ads/second. Such large scale traffic was not anticipated by the relational database technologies available at that time. Configuring relational databases for such scale also required substantial amount of money and hardware resources. So Dwight(who was the CTO at the time) and his team wrote custom database implementations to scale DoubleClick for the increased traffic. In one of his <a href="https://youtu.be/hOOQJpGu1kY?t=59" target="_blank" rel="noopener noreferrer">early talks on MongoDB</a>, Dwight talks about getting a network hardware with serial number 7 and wondering whether it will work! This was even before the invention of load balancers.</p>
<p><img src="https://www.quickprogrammingtips.com/wp-content/uploads/2020/08/mongodb-people.jpg" width="300px" alt="People behind MongoDB" title="People behind MongoDB">In 2003, <a href="https://en.wikipedia.org/wiki/Eliot_Horowitz" target="_blank" rel="noopener noreferrer">Eliot Horowitz</a> joined DoubleClick R&amp;D division as a software engineer immediately after his college. Within 2 years he left DoubleClick to start ShopWiki along with Dwight. Both of them realised that they were solving the same horizontal scalability issues again and again. So in 2007, Dwight, Eliot and Kevin Ryan started a new company called 10gen. 10gen was focused on creating a PaaS hosting solution with its own application and database stack. 10gen soon got the attention of the venture capitalist Albert Wenger (Union Square Ventures) and he invested $1.5 million into it. This is what <a href="https://www.usv.com/writing/2008/07/10gen/" target="_blank" rel="noopener noreferrer">Albert Wenger wrote in 2008 about the 10gen investment</a>,</p>
<blockquote><p>
Today we are excited to announce that we are backing a team working on an alternative, the amazingly talented folks at 10gen. They bring together experience in building Internet scale systems, such as DART and the Panther Express CDN, with extensive Open Source involvement, including the Apache Software Foundation. They are building an open source stack for cloud computing that includes an appserver and a database both written from scratch based on the capabilities of modern hardware and the many lessons learned in what it takes to build a web site or service. The appserver initially supports server side Javascript and (experimentally) Ruby. The database stores objects using an interesting design that balances fast random access with efficient scanning of collections.</p></blockquote>
<p>What Albert was refering to as “the database with interesting design” was in fact MongoDB. Rapid development on the new database was undertaken from 2007 to 2009. The <a href="https://github.com/mongodb/mongo/commit/e73188b5512c82290a4070af4afddac20d0b981e" target="_blank" rel="noopener noreferrer">first commit of the MongoDB database server by Dwight can be seen here</a>. The core engine was written in C++. The database was named MongoDB since the idea was to use it to store and serve humongous amount of data required in typical use cases such as content serving. Initially the team had only 4 engineers(including Dwight and Eliot) and decided to focus just on the MongoDB database instead of the initial PaaS product. The business idea was to release the database as an open source free download and offer commercial support and training services on top of it.</p>
<p><a href="https://github.com/mongodb/mongo/tree/v1.0" target="_blank" rel="noopener noreferrer">MongoDB 1.0 was released</a> in February 2009. The initial version focused on providing a usable query language with document model, indexing and basic support for replication. It also had experimental version of sharding, but production ready sharding clusters were available only in version 1.6 released a year later.</p>
<p>Here is <a href="https://groups.google.com/forum/#!topic/mongodb-user/X0Le3mBel2I/discussion" target="_blank" rel="noopener noreferrer">how Dwight responded to a question</a> on the suitability of Mongo for a highly scalable system (MongoDB user group – September 2009),</p>
<blockquote><p>
For horizontal scaling, one would use auto-sharding to build out large MongoDB clusters.  This is in alpha now, but if your project is just getting started, it will be in production by the time you need it.</p></blockquote>
<h2>Early MongoDB Design Philosophy</h2>
<p>In the early years, the basic design principles behind MongoDB development were the following,</p>
<ul>
<li>Quick and easy data model for faster programming – document model with CRUD.</li>
<li>Use of familiar language and format – JavaScript/JSON.</li>
<li>Schema less documents for agile iterative development.</li>
<li>Only essential features for faster development and easy scaling. No join, no transactions across collections.</li>
<li>Support easy horizontal scaling and durability/availability (replication/sharding).</li>
</ul>
<p>In his ZendCon 2011 presentation titled <a href="https://www.youtube.com/watch?v=hOOQJpGu1kY" target="_blank" rel="noopener noreferrer">“NoSQL and why we created MongoDB”</a>, Dwight talks about these principles in detail. Around <a href="https://youtu.be/hOOQJpGu1kY?t=2408" target="_blank" rel="noopener noreferrer">42 minutes mark</a>, there is also an interesting discussion on the difference between replication and sharding. As the database server code matured and once MongoDB hit the mainstream, many of these principles were obviously diluted. Latest MongoDB server versions support joining to some extend and since MongoDB 4.2, even distributed transactions are supported!</p>
<h2>What is MongoDB?</h2>
<p>Before we get into detailed MongoDB history and how it evolved over the years, let us briefly look at what exactly it is!</p>
<p>MongoDB is a document based NoSQL database. It can run on all major platforms (Windows, Linux, Mac) and the open source version is available as a free download. MongoDB stores data entities in a container called collection and each piece of data stored is in a JSON document format. For example, if a customer submits an online order, the entire details of that order (order number, order line items, delivery address etc.) are kept in a single hierarchical document in JSON format. It is then saved to a collection named “customer_order”.</p>
<p>MongoDB also comes with a console client called MongoDB shell. This is a fully functional JavaScript environment using which you can add, remove, edit or query document data in the database.</p>
<h2>MongoDB Architecture</h2>
<p>The following MongoDB architecture diagram provides a high level view of the major components in the MongoDB server.</p>
<p><img src="https://www.quickprogrammingtips.com/wp-content/uploads/2020/08/mongodb-architecture.jpg" width="800px" alt="MongoDB Architecture Diagram" title="MongoDB Architecture Diagram"></p>
<p>MongoDB currently offers <a href="https://docs.mongodb.com/drivers/" target="_blank" rel="noopener noreferrer">drivers for 13 languages</a> including Java, Node.JS, Python, PHP and Swift. The storage engine MMAPv1 is removed since version 4.2. The encrypted storage engine is only supported in the commercial enterprise server.</p>
<p>The beauty of MongoDB is that using the same open source free community server you can,</p>
<ul>
<li>Run a simple single machine instance suitable for most small applications.</li>
<li>Run a multi-machine instance with durability/high availability suitable for most business applications.</li>
<li>Run a large horizontally scaled cluster of machines(shard cluster) handling both very large sets of data and high volume of query traffic. MongoDB provides automatic infrastructure to distribute both data and its processing across machines. A typical use case would be running a popular ad service with thousands of customers and millions of impressions.</li>
</ul>
<p>The following diagrams show various options available for running MongoDB instances.</p>
<h2>Single Server/Fault Tolerant Setup</h2>
<p>For small applications, a single server setup is enough with frequent data backups. For installations that require fault tolerance, a replica set implementation can be done. In the fault tolerant deployment, usually there are 3 or more MongoDB instances. Only one of them work as the primary instance and if it fails, one of the other 2 secondaries takes over as the primary. The data is identical in all instances.</p>
<p><img src="https://www.quickprogrammingtips.com/wp-content/uploads/2020/08/mongodb-deployment1.jpg" width="800px" alt="Single server/fault tolerant setup" title="Single server/fault tolerant setup"></p>
<h2>Shard Cluster for Horizontal Scalability</h2>
<p>For a large database with both horizontal scalability and fault tolerance requirements, a MongoDB shard cluster is configured. As can be seen from the diagram below, minimum recommended number of machines for a fault tolerant shard cluster is 14! Each fault tolerant replica set in this case handles only a subset of the data. This data partitioning is automatically done by MongoDB engine.<br>
<img src="https://www.quickprogrammingtips.com/wp-content/uploads/2020/08/mongodb-deployment2.jpg" width="800px" alt="Shard cluster with partitioned data" title="Shard cluster with partitioned data"></p>
<p>When you download the latest version of MongoDB (4.4) and extract it, you will find that it contains only the following 3 main files,</p>
<ul>
<li><b>mongo</b> – MongoDB shell for interacting with your server using JavaScript based commands.</li>
<li><b>mongod</b> – The MongoDB main executable. This can run as a single database instance, as a database member of a sharded cluster or as a configuration server of a sharded cluster.</li>
<li><b>mongos</b> – A router application only needed for sharded horizontally scaled cluster of database servers.</li>
</ul>
<p>In a mac machine, the total size of these 3 executables is around 150MB. These are the only components you need for any type of MongoDB deployments! In a world of bloated software, this is a welcome change! This simplicity and elegance is what makes MongoDB so powerful and reliable.</p>
<h2>Evolution of MongoDB (2009 to 2020)</h2>
<p>MongoDB 1.0 was released in February 2009 and it had most of the basic query functionalities. MongoDB 1.2 was released in December 2009 and it introduced large scale data processing using map-reduce. Realising that MongoDB has good potential, 10gen quickly ramped up the team. MongoDB 1.4 (March 2010) introduced background index creation and MongoDB 1.6 (August 2010) introduced some major features such as production ready sharding for horizontal scaling, replica sets with automatic failover and IPv6 support.</p>
<p><img src="https://www.quickprogrammingtips.com/wp-content/uploads/2020/08/mongodb-timeline1.jpg" width="800px" alt="MongoDB 2009 to 2013" title="MongoDB 2009 to 2013"></p>
<p>By 2012, 10gen had 100 employees and the company started providing 24/7 support. MongoDB 2.2 release(August 2012) introduced aggregation pipeline enabling multiple data processing steps as a chain of …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.quickprogrammingtips.com/mongodb/mongodb-history.html">https://www.quickprogrammingtips.com/mongodb/mongodb-history.html</a></em></p>]]>
            </description>
            <link>https://www.quickprogrammingtips.com/mongodb/mongodb-history.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24373439</guid>
            <pubDate>Fri, 04 Sep 2020 09:52:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reading mind and Visualizing thoughts using AI]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24372774">thread link</a>) | @umermirzapk
<br/>
September 4, 2020 | https://thinkml.ai/ai-can-read-and-visualize-our-thoughts/ | <a href="https://web.archive.org/web/*/https://thinkml.ai/ai-can-read-and-visualize-our-thoughts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://thinkml.ai/content/images/size/w300/2020/09/meditation-1000062.jpg 300w,
                            https://thinkml.ai/content/images/size/w600/2020/09/meditation-1000062.jpg 600w,
                            https://thinkml.ai/content/images/size/w1000/2020/09/meditation-1000062.jpg 1000w,
                            https://thinkml.ai/content/images/size/w2000/2020/09/meditation-1000062.jpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://thinkml.ai/content/images/size/w2000/2020/09/meditation-1000062.jpg" alt="AI can Read and Visualize our thoughts">
            </figure>

            <section>
                <div>
                    <p>Imagine a computer-based system visualizing your thoughts and secret thoughts; yes, it's possible now by artificial intelligence assistance. Recent advancements in hardware innovation have re-energized technology. It becomes more accurate, authentic, can produce better sound, accurate visualization, and understanding of the location. Outstanding computer processors support computer to make a decision, plan outputs and don't repeat the mistake as they learn from it. The four scientists in Kyoto at Kyoto University did an exceptional experiment that exceeds the global expectations about such a dreamy truth. </p><p>Tomoyasu Horikawa, Guohua Shen, Yukiyasu Kamitani, and Kei Majima recently published their <a href="https://www.biorxiv.org/content/biorxiv/early/2017/12/30/240317.full.pdf">results in a paper </a>on a scientific research platform &nbsp;BioRxiv. They have done their experiment in ATR Computational Neuroscience Laboratories. Their study mainly exposes the decoding of human thoughts using an artificially intelligent system. &nbsp;The artificial intelligence system becomes so smart and real to duplicate human minds and show what they're thinking in their minds. &nbsp;Now scientists are successful in developing the next phase of AI machine, which uses human psychology. It is a leading technology from science fiction to merely science phenomena.</p><p>Below video is demonstration of Tomoyasu’s work. </p><figure><iframe width="480" height="270" src="https://www.youtube.com/embed/YrO1v7-KcXs?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h3 id="machine-learning-is-helping-human-beings"><a href="https://thinkml.ai/artificial-intelligence-is-helping-common-people/">Machine Learning is helping human beings</a> </h3><p>Machine learning is in use since many years ago in the magnetic resonance imaging (MRI) technique. It helped generate a visual impact of human thinking in the form of binary mages or geographic shapes. The images obtained are of simple shapes or pixels. However, another prediction that the human brain thinks in unique patterns of image creation; different thinking levels, either with simple or complex components.</p><p>The idea of processing human thoughts is not new as we can see 1950s videos where doctors used to put contraptions on the human brain. It helps them to decipher the thoughts always running in their patient's minds. A British Serial <strong>Quatermass and the Pit </strong>shows a similar technique to translate the alien's thoughts.</p><p>The scientists from the United States, China, and Japan utilize this fantasy to change it into reality. They use <strong>functional magnetic resonance imaging (fMRI) </strong>strategy for better measurement of brain activity. The deep neural networks involved in replicating human brain functioning procedure.</p><h3 id="the-emergence-of-artificial-people-with-machine-learning-system">The emergence of Artificial People with Machine Learning System</h3><p>Machines come with consciousness and result in developing a direct relationship between humans and machines. The day is coming when robots not only talk but can laugh, fight, and be cruel with the power of advancement in technology. Some research laboratories are busy making a force that can sense its surrounding environment and show response according to it. They sense human thoughts running in their minds and visualize to others. It's beneficial to know and see the thoughts of those quality people who are extraordinary but can't speak.</p><p>Alan Turing said:</p><blockquote>‘’If a machine behaves as intelligently as a human being, it is as intelligent as a human being.’’</blockquote><h3 id="is-it-telepathy-or-something-advanced">Is it Telepathy or Something Advanced?</h3><p>The whole world is excited about the news of AI reading minds, but the reality is somewhat not as same as appearing to us. Machine learning is still unable to detect rightly what we think, feel, desire, wish, or need at a specific time. The science is aiming to decipher the images that subjects see for a period. Thus, machine learning uses a reconstruction of a visual filed algorithm for a visual demonstration of thoughts.</p><p>In the last years, scientists strive to create a system that can judge images based on their shapes, characters, and letters when a subject’s mind view them.</p><h3 id="kyoto-university-research-by-four-scientists">Kyoto University Research by Four Scientists</h3><p>The advances in the development of artificial intelligence also use a <strong>deep neural network </strong>to decode human thoughts. &nbsp;They aimed to develop a method that not only deciphers the images but also regenerate the same one. Therefore, the four efficient scientists at Kyoto University utilized the BioRxiv platform and <strong>Deep Neural Networks (DNN)</strong> as a proxy to share their findings of thought decoding. These neural systems help decode images of thoughts in the human brain and produce a visual prediction that resembles a person's thinking.</p><p>More generalized; the system should visualize the image about which its system is not trained previously after decoding the thoughts. &nbsp;It can see or covert human thoughts into images.</p><h3 id="how-does-ai-can-visualize-our-thinking-process">How Does AI Can Visualize our Thinking Process? </h3><p>The basis of this system is to scan the human brain deeply. For this purpose, the scientists introduce fMRI (Functional MRI) that scans the brain's core over traditional MRI that involves only monitoring brain activity. The unusual behavior of fMRI is its ability to track <strong>blood flow </strong>to the brain and <strong>brainwaves. </strong></p><p>It takes data from the scan and interprets what the subject was thinking when data was taken from it? The actual decoding occurs in the <strong>complex neural network </strong>that converts data into image format. But the humans have to rain the system first to get-go everything. They train the machine about the human brain thinking strategy that how it works and make a solution. It gets information from blood flow as it tracks blood's path, way, direction, and speed to reach the brain.</p><p>After it, the system starts producing images related to the information it gets by tracking blood flow. The process is only possible if the system comes with multilayers of <strong>deep neural networks. DNN</strong>involves the processing of information in image form. The information is then carried towards <strong>Deep Generator Network (DGN) Algorithm, </strong>which finally creates the image with high precision and accuracy. If we obtain images without using DGN, we can't get a high resolution or clear images of a different thought. DGN captures faces, eyes, and textual patterns and produces high-quality visual clues. With an efficient DGN algorithm, efficiency can be exceeded to 99%, and highly matching decoded images are obtained.</p><h3 id="the-methodology-of-the-experiment-deep-image-reconstruction">The methodology of the Experiment; Deep Image Reconstruction</h3><p>In simple words, the system consists of two necessary steps:</p><p>1. &nbsp;A subject sees an image, and the same image is shown to the AI system; thus, it can recreate its image.<br>2. &nbsp;After it, the subject’s brain thinks about that image, and AI recreates the same image by showing real-time response.</p><p>The scientists selected three subjects and showed them natural geometric shapes, artificial images, and other objects of varying characters. They repeated the same exposure of showing objects in varying periods for almost ten weeks and recorded their brainwaves. In <strong>experiment number one</strong>, they recorded the brain activity of the subject when seeing the particular object out of 25. In contrast, they measured brain activity by hiding the image and asked the brain to think about it (<strong>experiment number 2</strong>). </p><p>In both scenarios, they recorded the image created by artificial intelligence and then compared them to get staggering results. The filtered data is considered as a template of sorts. Then they used a decoder to identify the images via fMRI. They scanned brain activity and used the reverse-engineered method to produce an image of information obtained from thoughts. The scientists enabled <strong>deep learning networks </strong>to understand the brainwaves and decode its information to get output.</p><p>AI is so fast as it has the power of guessing about a particular problem. It asks and answers its questions at a rapid speed. &nbsp;</p><h3 id="ai-visualizing-static-thoughts">AI Visualizing Static Thoughts </h3><p>Results were outstanding as the computer reconstructed that image but with low accuracy. The quality of images in both experiments was fizzy and comparatively low in the second experiment case. The reason was that it's difficult for a brain to remember an image as identical as it is. It enables scientists to decode ''hieratical'' images with various colors, pixels, and formations. The system establishes, for instance, can predict a picture of a bird, a plant, or an animal. Technology goes on proceeding towards refinement for better implementation of a particular process. </p><h3 id="statement-of-kamitani-about-the-project">Statement of Kamitani About the Project</h3><p>Kamitani was excited about their mutual hard work and getting mind-blowing results. He talked to <a href="https://www.cnbc.com/make-it/">CNBC Make It</a>as:</p><blockquote>‘’We have been studying methods to reconstruct or recreate an image a person sees just by looking at its brain activity. Our previous method was to suppose that an image consists of pixels or simple shapes. But our brain processes visual information hierarchically extracting different levels of features or components of different complexities.''</blockquote><blockquote>'These neural networks or AI models can be used as a proxy for the human brain's hierarchical structure,' he added more. </blockquote><h3 id="ai-decoding-videos-you-re-watching-from-your-brain-activity">AI Decoding Videos You’re Watching from Your Brain Activity</h3><p>There is another group of scientists who published their research on ‘<strong>’Neural Encoding and Decoding with Deep Learning for Dynamic Natural Vision’’ </strong>in <em>Cerebral Cortex</em>. They developed deep learning algorithms to scan the human brain and its working principles to decode its information.</p><p>Their experiment was based on three women who watched videos of hundreds of unique categories for several hours, and the scientists recorded their brain activity. The videos were on birds, airplanes, and other related objects. They obtained images from a popular Neural Encoding and Decoding with Deep Learning for Dynamic Natural Vision. The scientists used a functional MRI machine that measures signals of activity in the visual cortex. As the women watched several clips, the deep learning algorithms predicted activity closely related to the actual brain activity. Dozens of brain parts respond to a specific thought; thus, the artificial system mimics natural brain working strategies and shows visible results. </p><p>It also helped scientists to recognize which part of the cortex is involved in thought …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thinkml.ai/ai-can-read-and-visualize-our-thoughts/">https://thinkml.ai/ai-can-read-and-visualize-our-thoughts/</a></em></p>]]>
            </description>
            <link>https://thinkml.ai/ai-can-read-and-visualize-our-thoughts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24372774</guid>
            <pubDate>Fri, 04 Sep 2020 08:01:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust testing or verifying: Why not both?]]>
            </title>
            <description>
<![CDATA[
Score 135 | Comments 25 (<a href="https://news.ycombinator.com/item?id=24372760">thread link</a>) | @adreid
<br/>
September 4, 2020 | https://alastairreid.github.io/why-not-both/ | <a href="https://web.archive.org/web/*/https://alastairreid.github.io/why-not-both/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Dijkstra famously dissed testing by saying “Program testing can be used to show
the presence of bugs, but never to show their absence!”
As if you should choose one over the other.
I don’t see them as opposites but as complementary techniques that
should both be used to improve the quality of your code.</p>

<p>I am a big fan of formal verification.
Formal verification tools can be the best bug-finding tools you have
ever used.
And they can completely eliminate entire classes of bugs from your code.
But, formal verification won’t find bugs in your
specification; or in your assumptions about your dependencies; or in your
build/CI harness, etc. (See <a href="https://alastairreid.github.io/RelatedWork/papers/fonseca:ecs:2017">Fonseca</a> for more examples
of where testing has found bugs in formally verified systems.)</p>

<p>And, we all reluctantly agree that Dijkstra was right: even a thorough,
perfectly executed test plan can miss bugs.</p>

<p>So, for the last few months, I have been trying to have both.
We (my team and I at Google) have been reimplementing Jason Lingle’s
<a href="https://github.com/AltSysrq/proptest">proptest</a> property-testing library for use with Rust formal verification tools.
The original proptest lets you write test harnesses to test that your code
(probably) satisfies properties.
Today, we are releasing <a href="https://github.com/project-oak/rust-verification-tools">a reimplementation of the proptest interface</a>
that enables you to use exactly the same test harnesses to
formally verify that the properties hold.
So far, we have only tried this with the <a href="https://klee.github.io/">KLEE symbolic execution engine</a>
but our implementation is based on the verification
interface used in <a href="https://alastairreid.github.io/verification-competitions/">verification competitions</a> so it should be
possible to port our library to many other verification tools.<sup id="fnref:for-Rust" role="doc-noteref"><a href="#fn:for-Rust">1</a></sup></p>

<p><em>[Before I go any further, I should mention that what we are <a href="https://github.com/project-oak/rust-verification-tools">releasing this
week</a> is a very early research prototype.  It is not ready for serious use
and it is definitely not an official, supported Google product.  We are
releasing it now, in its current, immature state because we want to have
a conversation about how programmers want to formally verify Rust code
and we think that it is helpful to have something to push against.
We welcome pull requests that add support for other verifiers, or that
push the design in a better direction.]</em></p>

<h2 id="a-proptest-test-harness">A proptest test harness</h2>

<p>To get an idea for what property testing looks like in <code>proptest</code>,
we’ll look at an example from the <a href="https://altsysrq.github.io/proptest-book/proptest/tutorial/macro-proptest.html">proptest book</a>.</p>

<div><div><pre><code>fn add(a: i32, b: i32) -&gt; i32 {
    a + b
}

proptest! {
    #[test]
    fn test_add(a in 0..1000i32, b in 0..1000i32) {
        let sum = add(a, b);
        assert!(sum &gt;= a);
        assert!(sum &gt;= b);
    }
}
</code></pre></div></div>

<p>This example defines a property called <code>test_add</code> that tests a function called
<code>add</code>.  In particular, it checks that, for non-negative values <code>a</code> and <code>b</code>, the
result of <code>sum(a, b)</code> is at least as large as <code>a</code> and as <code>b</code>.</p>

<p>The notation <code>0..1000i32</code> represents the set of all values in the range <code>[0 ..
1000)</code> and the notation <code>a in 0..1000i32</code> says that a value <code>a</code> should be
chosen from that set.</p>

<p>The <code>proptest!</code> macro converts this property into a test function
that repeatedly generates random values for <code>a</code> and <code>b</code> and executes the
body of the property.</p>

<p>(After adding in <a href="https://altsysrq.github.io/proptest-book/proptest/tutorial/macro-proptest.html">some additional glue code</a>) we can run this example with the command</p>



<p>which produces the following output</p>

<div><div><pre><code>running 1 test
test test_add ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre></div></div>

<p>and, if we deliberately write a property that doesn’t hold, then <code>cargo test</code>
produces output more like this</p>

<div><div><pre><code>running 1 test
test test_add ... FAILED

failures:

---- test_add stdout ----
thread 'test_add' panicked at 'assertion failed: sum &gt;= a + 100', src/main.rs:11:9
thread 'test_add' panicked at 'Test failed: assertion failed: sum &gt;= a + 100; minimal failing input: a = 0, b = 0
        successes: 0
        local rejects: 0
        global rejects: 0
', src/main.rs:7:1


failures:
    test_add

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre></div></div>

<h2 id="verifying-with-propverify">Verifying with propverify</h2>

<p>Proptest checks the above property by generating random values and testing.
But we can also interpret the property as saying that for all values
<code>a</code> and <code>b</code> in the sets, the body of the property will not panic.
That is, we can interpret it as a universally quantified specification.</p>

<p>To verify the above property, we use a script that compiles the Rust
code, invokes the <a href="https://klee.github.io/">KLEE symbolic execution engine</a> and filters
the output of KLEE to determine whether there is any choice of <code>a</code> and
<code>b</code> that can cause the body of the property to panic.</p>



<p>This produces output like this: confirming that the property does hold</p>

<div><div><pre><code>Running 1 test(s)
test test_add ... ok

test result: ok. 1 passed; 0 failed
VERIFICATION_RESULT: VERIFIED
</code></pre></div></div>

<p>And, if we change the example property so that the property does not hold,
<code>cargo-verify</code> produces this output.</p>

<div><div><pre><code>thread 'test_add' panicked at 'assertion failed: sum &gt;= a + 100', src/main.rs:11:9

running 1 test
  Value a = 0
  Value b = 0
test test_add ... FAILED

failures:

failures:
    test_add

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre></div></div>

<p>On this example, random testing and formal verification produced similar
results.
I could have chosen an example where formal verification found a bug that
random testing misses.
Or I could have chosen an example where random testing easily finds
a bug but formal verification spins forever.
But, in this post, I wanted to focus on the similarity between the two
approaches, not the differences.</p>

<h2 id="learning-more">Learning more</h2>

<p>In this article, we used an example that was easy to explain but
does not really show off the power of <code>propverify</code>.
Some slightly better examples are</p>

<ul>
  <li>
    <p><a href="https://github.com/project-oak/rust-verification-tools/blob/main/compatibility-test/src/collections.rs#L60">collections.rs</a>
where we check properties involving standard Rust collection
types such as vectors and B-trees.
(This should be read in conjunction with the <a href="https://altsysrq.github.io/rustdoc/proptest/latest/proptest/collection/index.html">proptest
documentation</a>.)</p>
  </li>
  <li>
    <p><a href="https://github.com/project-oak/rust-verification-tools/blob/0a6a0ff2b3880eb4a19d8161bfae8d163b0a65ec/compatibility-test/src/dynamic.rs#L82">dynamic.rs</a>
where we check properties involving trait objects by
quantifying over a subset of the possible instances of the trait.</p>
  </li>
</ul>

<p>And, we have more documentation about</p>

<ul>
  <li>
    <p><a href="https://github.com/project-oak/rust-verification-tools/blob/main/docs/using-propverify.md">Using the propverify library</a></p>
  </li>
  <li>
    <p><a href="https://github.com/project-oak/rust-verification-tools/blob/main/docs/using-annotations.md">Using the lower level <code>verification-annotations</code> API</a></p>
  </li>
  <li>
    <p><a href="https://github.com/project-oak/rust-verification-tools/blob/main/docs/using-klee.md">The many, many flags we use when compiling Rust code so that it can be verified with KLEE</a></p>
  </li>
</ul>

<p>The latter two are mostly for the benefit of verification tool developers.</p>

<h2 id="our-next-steps">Our next steps</h2>

<p><em>[You can either read this as a sketch of what we plan to do or
as an admission of what we have not yet done.
As <a href="https://www.youtube.com/watch?v=LOILZ_D3aRg">Fred and Ginger said</a>,
“Tomato. Tomato.”]</em></p>

<ul>
  <li>
    <p>The tools have a horrifically complicated set of dependencies.</p>

    <p>This is partly because formal verification is not quite popular
enough for enough Debian/Homebrew packages to exist and partly
because we need some very specific versions.
(It may also be possible to remove some dependencies!)</p>
  </li>
  <li>
    <p>We are in the process of adding <a href="https://github.com/GaloisInc/mir-verifier">Crux-MIR</a> support to the library
and tool.
Crux-MIR is a new part of Galois’
<a href="https://galois.com/project/software-analysis-workbench/">Software Analysis Workbench (SAW)</a>
that verifies the MIR code generated by the Rust compiler.</p>

    <p>This is taking us a bit longer than using KLEE
because the functionality of our <code>cargo-verify</code> script
overlaps with the functionality of Crux-MIR but they have slightly different
approaches – we’re still working on the best way to handle the resulting
conflicts.</p>
  </li>
  <li>
    <p>It can be useful to focus our attention on a single crate at a time.
We have some ideas for how to do that with fuzzing and verification
but we have not had a chance to try them yet.</p>
  </li>
  <li>
    <p>We have not looked seriously at how well this approach scales.</p>

    <p>The collections support in the <code>propverify</code> library has a few
tricks to avoid some obvious scaling issues, but we don’t know if
those tricks work well for all verification tools and they
probably only scratch the surface of what needs to be done.</p>
  </li>
</ul>

<h2 id="summary">Summary</h2>

<p>Testing and formal verification are usually portrayed as mortal enemies.
I think that misses a huge opportunity to use your existing familiarity and
comfort with testing to let you get value out of formal verification tools.</p>

<p>I encourage you to download <a href="https://github.com/project-oak/rust-verification-tools">our library and tool</a>,
try it out and give us feedback.
If you are working on a Rust verification tool, we would love it
if you tried to use our library with your tool.
And we would love it even more if you sent us a pull request.</p>

<p>It’s probably not a good idea to commit to using the library at this stage:
it is not very robust at the moment and I expect that it will change a lot
as we gain experience from porting the library to other types of
formal verification tools.</p>

<p>Enjoy!</p>

<hr>



<p>If you found this article interesting, you might also enjoy these related posts</p>

<ul>
  <li><a href="https://alastairreid.github.io/verification-competitions/">Verification competitions</a></li>
  <li><a href="https://alastairreid.github.io/rust-verification-tools/">Rust verification tools</a></li>
</ul>

<p>And these papers:</p>

<ul>
  <li>
    <p><a href="https://alastairreid.github.io/RelatedWork/papers/goodman:ndss:2018">goodman:ndss:2018</a> applied some very similar ideas to C++ testing
in 2018 using the <a href="https://github.com/google/googletest">GoogleTest</a> DSL as a starting point and providing
support for <a href="https://angr.io/">angr</a>, <a href="https://blog.trailofbits.com/2017/04/27/manticore-symbolic-execution-for-humans/">Manticore</a> and <a href="https://dynamorio.org/drmemory_docs/page_drfuzz.html">Dr. Fuzz</a>.</p>

    <p>They ran into and solved problems related to logging (causing a path
explosion), symbolic loop bounds and symbolic array indices (causing
a path explosion) and how to combine swarm testing with verification.</p>

    <p>Highly recommended!</p>
  </li>
</ul>

<hr>



  </div><p>
    Written on September  3, 2020.
    <br>
    The opinions expressed are my own views and not my employer's.
  </p></div>]]>
            </description>
            <link>https://alastairreid.github.io/why-not-both/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24372760</guid>
            <pubDate>Fri, 04 Sep 2020 07:58:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Preserving data integrity: A ZFS-inspired storage system]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 32 (<a href="https://news.ycombinator.com/item?id=24372662">thread link</a>) | @d2wa
<br/>
September 4, 2020 | https://insanity.industries/post/preserving-data-integrity/ | <a href="https://web.archive.org/web/*/https://insanity.industries/post/preserving-data-integrity/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
		<p>
			
			
			<h2>A ZFS-inspired storage system</h2>
			
		</p>
		<h2>07. Mar 2020</h2>
		<ul>
	<li><a href="https://insanity.industries/tags/funwithdata">#funwithdata</a></li>
	
	<li><a href="https://insanity.industries/tags/linux">#Linux</a></li>
	</ul>

		<section>
			<p>When we are storing data, we typically assume that our storage system of choice returns that data later just as we put it in.
However what guarantees do we have that this is actually the case?
The case made here is the case of <a href="https://www.redhat.com/en/blog/what-bit-rot-and-how-can-i-detect-it-rhel">bitrot</a>, the silent degradation of the physical charges that physically make up today’s storage devices.</p>
<p>To counter this type of problem, one can employ data checksumming, as it is done by both btrfs and ZFS.
However, while in the long run btrfs might be the tool of choice for this, it is fairly complex and not yet too mature, whereas ZFS, the most prominent candidate for this type of features, is <a href="https://github.com/zfsonlinux/zfs/issues/8314">not</a> <a href="https://sfconservancy.org/blog/2016/feb/25/zfs-and-linux/">without</a> <a href="https://ubuntu.com/blog/zfs-licensing-and-linux">hassle</a> and it must be recompiled for every kernel update (although <a href="https://github.com/zfsonlinux/zfs/wiki/Custom-Packages">automation exists</a>).</p>
<p>In this blogpost, we’ll therefore take a look into a storage design that actually checks whether the returned data is actually valid and not silently corrupted inside our storage system and is completely designed with components available in Linux itself without the need to recompile and test your storage layer on every kernel upgrade.
We find that this storage design, while fulfilling the same purpose as ZFS, does not only yield comparable performance, but actually in some cases even able to significantly outperform it, as the benchmarks at the end indicate.</p>

<p>The system we will test in the following will be constructed from four components (including the filesystem):</p>
<ul>
<li><strong>dm-integrity</strong> provides blocklevel checksumming for all incoming data and will check said checksum for all data read through it (and return a read error if it doesn’t match).</li>
<li><strong>mdraid</strong> provides redundancy if a disk misbehaves, avoiding data loss. If the dm-integrity-layer detects invalid data from the disk, mdraid will see a read-error and can immediately correct this error by reading it from somewhere else in the redundancy pool.</li>
<li><strong>dm-crypt</strong> on top of the RAID, right below the filesystem will encrypt the data<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></li>
<li><strong>ext4</strong> as a filesystem to actually store files on it</li>
</ul>
<p>The order matters, dm-integrity must be placed between the harddisks and the mdraid, to ensure that data corruption errors can be corrected by mdraid after they have been detected by dm-integrity. Similarly, dm-crypt has nothing to do with redundancy, therefore it should be placed on top of of mdraid, to only having to be passed once, and not multiple times as it would be the case for placing it alongside dm-integrity.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></p>
<p>This yields the following storage design:</p>
<figure>
    <h4>Storage system architecture</h4>
    <img src="https://insanity.industries/post/preserving-data-integrity/architecture.svg" alt="Architecture of the storeage system. Grey depicts physical hardware, green depicts device mapper technologies, yellow indicates mdraid and blue indicates filesystems. The encryption layer will later be ommitted when comparing performance to ZFS." height="500"> <figcaption><p>Architecture of the storeage system. Grey depicts physical hardware, green depicts device mapper technologies, yellow indicates mdraid and blue indicates filesystems. The encryption layer will later be ommitted when comparing performance to ZFS.</p>
        </figcaption>
</figure>

<p><a href="https://insanity.industries/post/preserving-data-integrity/mkstorage.sh.txt">This script will assemble the above depicted system and mount it to /mnt.</a></p>

<p>Now that we have an assembled system, we’d like to quantify the performance impact of the different layers.
The test setup for this is a <a href="https://kobol.io/helios4/">Kobol Helios4</a> (primarily because it’s the intended target platform for this storage system) with four disks<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> running Debian 10 “Buster”.
The Helios4 is powered by an energy efficient dual-core ARM SoC optimized for storage systems.
The setup was not built based on the entire disks, but on partitions of a size of 10GiB each, allowing multiple parallel designs and therefore easing the benchmarking procedure, as well as speeding up the experiments<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>.</p>
<h2 id="layer-analysis-of-performance-impact">Layer analysis of performance impact</h2>
<h3 id="throughput">Throughput</h3>
<p>To benchmark throughput, the following commands were used:</p>
<pre><code># write:
echo 3 &gt; /proc/sys/vm/drop_cache  # drop all caches
dd if=/dev/zero of=/path/to/testfile bs=1M count=8000 conv=fdatasync

# read
echo 3 &gt; /proc/sys/vm/drop_cache  # drop all caches
dd if=/path/to/testfile of=/dev/zero conv=fdatasync
</code></pre>
<p>This procedure was repeated ten times for proper statistics for the different cases for both read (<code>r</code>) and write (<code>w</code>):</p>
<ul>
<li>ext4 filesystem only (<code>f</code>, one disk only)</li>
<li>encryption, topped by ext4 (<code>cf</code>, one disk only)</li>
<li>mdraid (RAID6/double parity), topped by the former (<code>rcf</code>, 4 disks)</li>
<li>the final setup, including integrity (<code>ircf</code>, 4 disks)</li>
</ul>
<figure>
    
    <img src="https://insanity.industries/post/preserving-data-integrity/layers.svg" alt="Throughput for different arrangements of layers on Kobol Helios4 system for both read (top row) and write (bottom row). Each dot indicates one measurement. f: filesystem, cf: crypto+f, rcf:raid+cf, ircf: integrity+rcf. Testplatform"> <figcaption><p>Throughput for different arrangements of layers on Kobol Helios4 system for both read (top row) and write (bottom row). Each dot indicates one measurement. f: filesystem, cf: crypto+f, rcf:raid+cf, ircf: integrity+rcf. <a href="https://kobol.io/helios4/">Testplatform</a></p>
        </figcaption>
</figure>

<p>We see different interesting results in the data:
First of all, the encryption engine on the helios4 is not completely impact free, although the resulting performance is still more than sufficient for the designated uses for a Helios4.</p>
<p>Secondly, we see that adding integrity layer does have a noticable impact on writing, but a negligible impact on reading, indicating that especially for systems primarily intended to read data from adding the integrity layer is a matter of negligible cost.</p>
<p>For write-heavy systems, the performance impact is more considerable, but for certain workloads, such as the home-NAS-case the Helios is designed for, the performance can still be considered fully sufficient, especially as normally the system would cache those writes to a certain extend, which was explicitly disabled for benchmarking purposes (see <code>conv=fdatasync</code> in the benchmark procedure).</p>
<p>The reason for the degradation in write (but not in read) is likely due to the fact that the integrity layer and the mdraid layer are decoupled from one another, the raid-layer is not aware that for a double parity setup it effectively has to write the same information three times, and the integrity layer has to account for all three writes before the data is considered synced as required by <code>conv=fdatasync</code>.</p>
<h3 id="latency">Latency</h3>
<p>We have found that the throguhput of such a storage design is yielding useful throughput-rates.
The next question is about the latency of the system, which we will, for simplicity, only estimate for random 4K-reads.
Again, just as above, we will investigate the impact of the different layers of the system.
To do so, we read 100.000 sectors randomly from an 18GB sized testfile filling the storage mountpoint for each configuration after dropping all caches.</p>
<figure>
    <h4>Latency comparison of system layers</h4>
    <img src="https://insanity.industries/post/preserving-data-integrity/layerlatencies.svg" alt="Distribution of latencies in milliseconds for different arrangements of layers on Kobol Helios4 system. green denotes the median, black denotes the average of the latencies of the respective setup, access times below 1ms were considered cache hits and therefore excluded for the computation of mean and average. Testplatform"> <figcaption><p>Distribution of latencies in milliseconds for different arrangements of layers on Kobol Helios4 system. green denotes the median, black denotes the average of the latencies of the respective setup, access times below 1ms were considered cache hits and therefore excluded for the computation of mean and average. <a href="https://kobol.io/helios4/">Testplatform</a></p>
        </figcaption>
</figure>

<p>The figure above yields several interesting insights:
First of all, we do see cache hits close to zero milliseconds, furthermore, we see that the latency distribution is fairly evenly distributed over the available range and finally and most interestingly, we see that the impact of the several layers onto the latency is measurable, but rather irrellevant for typical practical purposes.</p>
<h2 id="performance-comparison-with-zfs">Performance comparison with ZFS</h2>
<p>So far we have tested the setup on its intended target platform, the Helios4.
To compare the resulting system against the elephant in the room, ZFS, we will use a different test platform, based on an Intel i7-2600K as CPU and 4x1TB disks, as the <code>zfs-dkms</code> was not reliably buildable on Debian Buster on ARM, and when it actually built, it explicitly stated that 32bit-processors (as the Helios’ CPU) are not supported by upstream, although technically the system would run.</p>
<p>To allow for a cleaner comparison, the testbed was accordinly changed to accomodate for ZFS’s preferences.
As ZFS did not adhere to <code>conv=fdatasync</code><sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup>, the main memory was restricted to 1GB, swap was turned off and the size of the testfile was chosen to be 18GB.
This way, any caching happening would be at least significantly reduced as there was little space next to the OS inside of the main memory for caching.</p>
<p>All tests were run on a Debian 10 “Buster” with Linux 4.19, ZFS was used in form of the package <code>zfs-dkms</code> in version 0.8.2 from backports.
The storage layer for both setups was layouted with double parity (RAID6/raidz2) and, as the <code>zfs-dkms</code> package in Debian was not able to do encryption, the mdraid-based setup was also setup without the encryption layer.</p>
<h3 id="throughput-1">Throughput</h3>
<p>The commands used for benchmarking throughput were conceptually the same as above:</p>
<pre><code># write:
echo 3 &gt; /proc/sys/vm/drop_cache  # drop all caches
dd if=/dev/zero of=/path/to/testfile bs=1M count=18000 conv=fdatasync

# read
echo 3 &gt; /proc/sys/vm/drop_cache  # drop all caches
dd if=/path/to/testfile of=/dev/zero conv=fdatasync
</code></pre>
<p>Although ZFS seemingly does not adhere to any cache dropping or syncing instructions, they were still performed and adhered to by the mdraid-based setup.</p>
<figure>
    <h4>Throughput comparison, zfs &amp; md</h4>
    <img src="https://insanity.industries/post/preserving-data-integrity/zfs-md-throughput.svg" alt="Throughput for both ZFS and the md-based setup for both read and write. Each dot indicates one measurement, the green line indicates the median of all measurements. Testplatform"> <figcaption><p>Throughput for both ZFS and the md-based setup for both read and write. Each dot indicates one measurement, the green line indicates the median of all measurements. <a href="https://insanity.industries/post/preserving-data-integrity/zfs-testbed.txt">Testplatform</a></p>
        </figcaption>
</figure>

<p>The results are very interesting: While the md-based setup performs less consistent in and of itself, it still consistently outperforms ZFS in read performance.
When it comes to write, though, ZFS performs noticably better.<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup></p>
<p>To investigate the cause of this unexpected balance, we note that while ZFS combines raid, integrity and filesystem in one component, for the md-based setup these are separate components.
Of these components, not only the filesystem, but also the <code>dm-integrity</code> implements journalling to avoid inconsistencies in case of a power outage.
This leads to increased work until the transaction has been fully flushed to disk, which can be seen in the next figure, where the md-based system (without the encryption layer) is tested with both journalling enabled and disabled in the integrity layer:</p>
<figure>
    <h4>Throughput effect of integrity journaling</h4>
    <img src="https://insanity.industries/post/preserving-data-integrity/mdraid-journalling.svg" alt="Throughput for the md-based setup, with journalling enabled and disabled in the integrity-layer for both read and write. Each dot indicates one measurement, the green line indicates the median of all measurements. Testplatform"> <figcaption><p>Throughput for the md-based setup, with journalling enabled and disabled in the integrity-layer for both read and write. Each dot indicates one measurement, the green line indicates …</p></figcaption></figure></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://insanity.industries/post/preserving-data-integrity/">https://insanity.industries/post/preserving-data-integrity/</a></em></p>]]>
            </description>
            <link>https://insanity.industries/post/preserving-data-integrity/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24372662</guid>
            <pubDate>Fri, 04 Sep 2020 07:41:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VS Code extensions I use to be more productive]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24372192">thread link</a>) | @fazlerocks
<br/>
September 3, 2020 | https://dev.vamsirao.com/vs-code-extensions | <a href="https://web.archive.org/web/*/https://dev.vamsirao.com/vs-code-extensions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1599156332456/7WwIJcqD0.jpeg?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=format&amp;q=60"><div><div itemprop="text"><p>We all use some VS Code extensions for our day to day development and are always on a hunt for more useful extensions. Here is a list of mine and how I use them:</p>
<p><a target="_blank" href="https://www.peacockcode.dev/">Peacock</a> </p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1593585542633/58FKxSF2u.png?auto=format&amp;q=60" alt=""></p>
<p>We have all been there when we have two editors open and coded in the wrong one 🤦  Peacock helps me differentiate between different workspaces by setting a different color theme to VS Code.</p>
<p><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer-2">Bracket Pair Colorizer</a></p>
<p><img src="https://github.com/CoenraadS/Bracket-Pair-Colorizer-2/raw/master/images/activeScopeBorder.png" alt=""></p>
<p>Easily distinguishable bracket scopes are always good for programming and this extension does it well.</p>
<p><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=alefragnani.Bookmarks">Bookmarks</a></p>
<p><img src="https://github.com/alefragnani/vscode-bookmarks/raw/master/images/printscreen-select-lines.gif" alt=""></p>
<p>Sometimes you are in the flow but navigating the code from one function to another becomes tedious, this lets you bookmark code at different lines and you can easily access it using shortcuts.</p>
<p><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker">Code Spell Checker</a></p>
<p><img src="https://raw.githubusercontent.com/streetsidesoftware/vscode-spell-checker/master/packages/client/images/suggestions.gif" alt=""></p>
<p>There have been times when I have embarrassingly spent more time than needed debugging an error only to find out it was a spelling mistake. This extension keeps that in check.</p>
<p><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=auiworks.amvim">AmVim</a></p>
<p> I am a huge fan of Vim, it legit increases your productivity without having to touch the trackpad. AmVim is one of the Vim mode extension for VSCode, I found this to be quite good and not bloaty compared to other Vim extensions.</p>
<p><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync">Settings Sync</a></p>
<p>Settings Sync helps you keep the same environment of VSCode (extensions and preferences) across machines.</p>
<p><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=ChakrounAnas.turbo-console-log">Turbo Console log</a></p>
<p><img src="https://image.ibb.co/dysw7p/insert_log_message.gif" alt=""></p>
<p>This one is really useful while debugging, it helps create meaningful logs using shortcuts. All you have to do is highlight the variable and press the keybindings.</p>
<p><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=TabNine.tabnine-vscode">Tab Nine</a></p>
<p><img src="https://github.com/codota/tabnine-vscode/raw/master/assets/tabnine.gif" alt="sdfsdf"></p>
<p>I just recently came across this one in one of <a href="https://hashnode.com/@dailydevtips">Chris Bongers</a>'s article. Really like it! It is sometimes just scary how accurately it predicts auto-completion (It uses deep-learning model locally on your machine to come up with the predictions).</p>
<hr><p>
Other than these I use the common ones like <a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">Prettier</a>, <a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme">Material Icon theme</a>, <a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=naumovs.color-highlight">Color Highlight</a>. <a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=wart.ariake-dark">Ariake Dark</a> is my VS Code theme.</p>
<blockquote>
<p>Hope you found this useful and feel free to share the extensions you use in the comments below. You can also @ me on <a target="_blank" href="https://twitter.com/vamsirao7">twitter</a></p>
</blockquote>
</div></div></section></div>]]>
            </description>
            <link>https://dev.vamsirao.com/vs-code-extensions</link>
            <guid isPermaLink="false">hacker-news-small-sites-24372192</guid>
            <pubDate>Fri, 04 Sep 2020 06:11:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Costs of running a Python webapp for 55k monthly users]]>
            </title>
            <description>
<![CDATA[
Score 281 | Comments 243 (<a href="https://news.ycombinator.com/item?id=24372084">thread link</a>) | @caspii
<br/>
September 3, 2020 | https://keepthescore.co/blog/posts/costs-of-running-webapp/ | <a href="https://web.archive.org/web/*/https://keepthescore.co/blog/posts/costs-of-running-webapp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

          


<article>
  <header>
    <h2 dir="auto"><a href="https://keepthescore.co/blog/posts/costs-of-running-webapp/">Costs of running a Python webapp for 55k monthly users</a></h2>
    <p><time datetime="2020-09-04T00:00:00+02:00">Fri Sep 4, 2020</time> by Caspar</p>
  </header>
  

<p>How much does running a webapp in production actually cost? Maybe more than you think. Keepthescore.co is a Python flask application running on DigitalOcean and Firebase. It currently has around 55k unique visitors per month, per day it’s around 3.4k.</p>

<p><img src="https://keepthescore.co/blog/money-tree.jpg" alt="A money tree">
<em>Image by <a href="https://unsplash.com/@micheile">Micheile Henderson</a></em></p>

<p>Here’s a monthly breakdown with some background information on each cost:</p>

<h3 id="servers-and-database-on-digitalocean">Servers and database on DigitalOcean</h3>

<p><strong>Costs per month: $95</strong></p>

<p>The webapp runs on two identical DigitalOcean servers (4 vCPUs, 8GB RAM, 80GB disk). We use a <a href="https://en.wikipedia.org/wiki/Blue-green_deployment">blue-green deployment</a>, which is a great way of running and hosting a webapp (more on that in a future post) but it does mean that you need 2 identical production servers.</p>

<p>The database is a hosted Postgres instance also on DigitalOcean.</p>

<p>Note: the servers are oversized for the load we’re currently seeing. The reason for that is that we tried to solve a production issue by increasing the server specs. It didn’t solve the problem, and now we can’t down-size the servers without re-provisioning them 🤷‍♀️.</p>

<hr>

<h3 id="code-repo-on-github">Code repo on GitHub</h3>

<p><strong>Costs per month: $0</strong></p>

<p>This is free. Thanks GitHub!
</p><hr>

<h3 id="amazon-web-services">Amazon Web Services</h3>

<p><strong>Costs per month: $60</strong></p>

<p>We use a reporting tool called <a href="https://www.metabase.com/">Metabase</a> to generate insights and reports from the database. The tool itself is opensource and free, but hosting it is fairly expensive. Currently it runs on an EC2 instance. There are definitely some savings that could be realised here.
</p><hr>

<h3 id="google-cloud">Google Cloud</h3>

<p><strong>Costs per month: $1.32</strong></p>

<p>We use Firebase for the <a href="https://keepthescore.co/basketball-scoreboard/">realtime basketball scoreboard</a>. We also use the Google Sheets API for some custom scoreboards. Overall it must be said that the Google Cloud APIs are great value for money (so far).</p>

<p>We have plans to move away from DigitalOcean and onto Google Cloud infrastructure in the next year.
</p><hr>

<h3 id="dns-hosting">DNS hosting</h3>

<p><strong>Costs per month: $5</strong></p>

<p>Our domain is registered with <a href="https://dnsimple.com/">DNSimple.com</a>.
</p><hr>



<p><strong>Costs per month: $10</strong></p>

<p>Scoreboards and this blog have the option of allowing a discussion on the same page – this uses the <a href="https://disqus.com/">Disqus</a> service. Disqus has a free tier but they began showing ads so we were forced to move to the paid tier.</p>

<p>We are planning to move to <a href="https://commento.io/">Commento</a> in the future, which is cheaper, has no ads, and respects your privacy.
</p><hr>

<h2 id="is-it-worth-it-is-there-revenue">Is it worth it? Is there revenue?</h2>

<p>In total that’s around <strong>$171 USD per month</strong>. If you’re running a company with employees that would be peanuts, but in this case the cost is being borne by a single indie-developer out of his own pocket.</p>

<p>The bigger issue is that on the revenue side there’s a big fat zero. This is the reason why we are currently working on monetization. This will include banner ads and payments via Stripe. Expect to see these features land by next week! Anyway, more about that in a future post.</p>

<h2 id="you-are-spending-way-too-much-money">You are spending way too much money!</h2>

<p>This post generated an interesting discussion on <a href="https://news.ycombinator.com/item?id=24372084">Hacker News</a>. One recurring theme
was that our stack is large and expensive and that we could massively reduce costs.</p>

<p>This is true. But here are some things that are also true:</p>

<ul>
<li>“Reducing costs” is not our primary objective at the moment: time is more valuable than money right now.</li>
<li>Our primary objective right now is velocity of product development.</li>
<li>We are not devops experts and optimizing operations takes time.</li>
</ul>

<p>There will be a follow up post once we do optimize our stack.</p>

<p>Thanks for listening and so long, 👋</p>


  

  
  <hr>
  
  

</article> 



        </div> <!-- /.blog-main -->

        


      </div> <!-- /.row -->
    </div></div>]]>
            </description>
            <link>https://keepthescore.co/blog/posts/costs-of-running-webapp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24372084</guid>
            <pubDate>Fri, 04 Sep 2020 05:46:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Libvirt – The Unsung Hero of Cloud Computing (2013)]]>
            </title>
            <description>
<![CDATA[
Score 211 | Comments 106 (<a href="https://news.ycombinator.com/item?id=24370966">thread link</a>) | @vikrantrathore
<br/>
September 3, 2020 | https://vyomtech.com/2013/12/17/libvirt_the_unsung_hero_of_cloud_computing.html | <a href="https://web.archive.org/web/*/https://vyomtech.com/2013/12/17/libvirt_the_unsung_hero_of_cloud_computing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><article><p><span>December 17, 2013</span>
        </p>
    <div id="libvirt-the-unsung-hero-of-cloud-computing">

<p><img alt="Libvirt The Unsung Hero of Cloud Computing Platforms" src="https://vyomtech.com/_images/libvirt_the_unsung_hero.png"></p><p>Initially my intention was to write an article on <strong>Round up of open source Cloud Management Platforms (CMP)</strong>, but while doing research found one piece of software library so fundamental, that it holds the key to very existence of Cloud Computing services and platforms as we know it today (that includes Amazon AWS, OpenStack and CloudStack). So I decided to postpone my idea and started to write an article on this <strong>Unsung hero of Cloud Computing</strong> called libvirt <a href="#f1" id="id1">[1]</a>, which I believe many people won’t have heard of. Obviously talking about software library tend to be technical, so this article will have a technical tone, but I will attempt to make it readable for everyone interested in Cloud Computing.</p>
<p>Libvirt is an open source API, daemon and management tool for managing platform virtualzation and these APIs are widely used in the orchestration layer of Cloud Management Platform. Libvirt makes it possible to control and manage millions of compute nodes, storage and network devices via common programmable interface. Its like being able to control and orchestrate fleet of millions of car irrespective of different manufacturer, model, or engine through a common interface from a single car (it can be more then one car for redundancy and high availability). What started as a management API for Xen, today has been extended to support major components of Cloud Computing platforms.</p>
<div id="libvirt-goals-architecture">
<h2>Libvirt Goals &amp; Architecture</h2>
<p>Libvirt defines following terms for its goals <a href="#f2" id="id2">[2]</a>:</p>
<p><img alt="Mapping of libvirt terms to virtualized or containerized physical machine" src="https://vyomtech.com/_images/libvirt_terms_mapping.png"></p><ul>
<li><strong>Node</strong> is a single physical machine.</li>
<li><strong>Hypervisor</strong> is a layer of softeare allowing to virtualize a node in a set of physical machines with possible different configurations that the node itself.</li>
<li><strong>Domain</strong> is an instance of an operating system (or subsystem in case of container virtualization like OpenVZ and lxc) running on a virtualized machine provided by the hypervisor.</li>
</ul>
<p>Based on above terms <strong>“The goal of libvirt is to provide a common and stable layer sufficient to securely manage domains on a node, possibly remote”</strong>. So libvirt should provide all APIs needed to do the management, such as: provision, create, modify, monitor, control, migrate and stop the domains - within the limits of the support of the hypervisor for those operations. This implies following sub-goals:</p>
<ul>
<li>All API can be carried remotely though secure APIs</li>
<li>While most API will be generic in term of hypervisor or Host OS, some API may be targeted to a single virtualization environment as long as the semantic for the operations from a domain management perspective is clear</li>
<li>the API should allow to do efficiently and cleanly all the operations needed to manage domains on a node, including resource provisioning and setup</li>
<li>the API will not try to provide high level virtualization policies or multi-nodes management features like load balancing, but the API should be sufficient so they can be implemented on top of libvirt</li>
<li>stability of the API is a big concern, libvirt should isolate applications from the frequent changes expected at the lower level of the virtualization framework</li>
<li>the node being managed may be on a different physical machine than the management program using libvirt, to this effect libvirt supports remote access, but should only do so by using secure protocols.</li>
<li>libvirt will provide APIs to enumerate, monitor and use the resources available on the managed node, including CPUs, memory, storage, networking, and NUMA partitions.</li>
</ul>
<p>So libvirt is intended to be a building block for higher level management tools and for applications focusing on virtualization of a single node (the only exception being domain migration between node capabilities which involves more than one node).</p>
<div id="libvirt-driver-based-architecture">
<h3>Libvirt Driver Based Architecture</h3>
<p><img alt="libvirt driver based architecture" src="https://vyomtech.com/_images/libvirt_architecture.png"></p><p>Libvirt to support wide variety of hypervisor implements a driver-based architecture. Based on car analogy, it means delegating the actual implementation of control of different cars to the drivers specifically designed for make, model and engine of the specific car. Libvirt currently supports:</p>
<p><strong>Hypervisor</strong></p>
<ul>
<li>LXC - Linux Containers</li>
<li>OpenVZ</li>
<li>QEMU</li>
<li>Test - Used for testing</li>
<li>UML - User Mode Linux</li>
<li>VirtualBox</li>
<li>VMware ESX</li>
<li>VMware Workstation/Player</li>
<li>Xen</li>
<li>Microsoft Hyper-V</li>
<li>IBM PowerVM (phyp)</li>
<li>Parallels</li>
<li>Remote - Accessing libvirt on remote node through libvirtd (libvirt daemon)</li>
</ul>
<p><strong>Storage</strong></p>
<ul>
<li>Directory backend</li>
<li>Local filesystem backend</li>
<li>Network filesystem backend</li>
<li>Logical Volume Manager (LVM) backend</li>
<li>Disk backend</li>
<li>iSCSI backend</li>
<li>SCSI backend</li>
<li>Multipath backend</li>
<li>RBD (RADOS Block Device) backend</li>
<li>Sheepdog backend</li>
</ul>
<p><strong>Virtual Networks</strong></p>
<ul>
<li>Bridging</li>
<li>NAT</li>
<li>VEPA (Virtual Ethernet Port Aggregator)</li>
<li>VN-LINK</li>
</ul>
</div>
<div id="libvirt-api-structure">
<h3>Libvirt API structure <a href="#f3" id="id3">[3]</a></h3>
<p><img alt="libvirt API structure" src="https://vyomtech.com/_images/libvirt_api_structure.png"></p><p>The figure above shows the five main objects exported by the API:</p>
<dl>
<dt><strong>virConnectPtr</strong></dt>
<dd>Represents the connection to a hypervisor. Use one of the virConnectOpen functions to obtain connection to the hypervisor which is then used as a parameter to other connection API’s.</dd>
<dt><strong>virDomainPtr</strong></dt>
<dd>Represents one domain either active or defined (i.e. existing as permanent config file and storage but not currently running on that node). The function virConnectListAllDomains lists all the domains for the hypervisor.</dd>
<dt><strong>virNetworkPtr</strong></dt>
<dd>Represents one network either active or defined (i.e. existing as permanent config file and storage but not currently activated). The function virConnectListAllNetworks lists all the virtualization networks for the hypervisor.</dd>
<dt><strong>virStorageVolPtr</strong></dt>
<dd>Represents one storage volume generally used as a block device available to one of the domains. The function virStorageVolLookupByPath finds the storage volume object based on its path on the node.</dd>
<dt><strong>virStoragePoolPtr</strong></dt>
<dd>Represents a storage pool, which is a logical area used to allocate and store storage volumes. The function virConnectListAllStoragePools lists all of the virtualization storage pools on the hypervisor. The function virStoragePoolLookupByVolume finds the storage pool containing a given storage volume.</dd>
</dl>
<p>These names follow C conventions, but developers of cloud computing platforms and applications do not need to use C directly, there are language bindings available for major languages. Currently libvirt API language bindings <a href="#f4" id="id4">[4]</a> are available for C#, Java, OCaml, Perl, PHP, Python, Ruby.</p>
</div>
<div id="domain-management-architecture">
<h3>Domain Management Architecture</h3>
<p>There are two distinct means for domain management using libvirt API.</p>
<p><strong>1. Single node domain management</strong></p>
<p><img alt="libvirt API structure" src="https://vyomtech.com/_images/libvirt_single_node_domain_management.png"></p><p>As illustrated in the figure above in this mode applications (cloud management platform i.e. CMP applications) and domains exist on the same node. In this scenario applications directly works through the libvirt api on the host operating system (os) to control and manage the local domains.</p>
<p><strong>2. Multi node domain management</strong></p>
<p><img alt="libvirt API structure" src="https://vyomtech.com/_images/libvirt_multi_node_domain_management.png"></p><p>As shown in the figure above, applications (CMP applications) using libvirt API and the domains to manage or control are on separate nodes. In this mode a special domain called <strong>libvirtd</strong> (libvirt daemon) needs to run on remote nodes. The management application nodes use the nodes underlying network communicattion to communicate with remote <em>libvirtd</em> through the local libvirt using custom protocol. Actually libvirt uses Remote <a href="#f6" id="id5">[6]</a> driver for communicating with remote node and remote API calls are handled synchronously. Remote driver for libvirt supports a range of transports like:</p>
<dl>
<dt><em>tls</em></dt>
<dd>TLS 1.0 (SSL 3.1) authenticated and encrypted TCP/IP socket, usually listening on a public port number. To use this you will need to generate client and server certificates. The standard port is 16514. This is the <strong>default</strong> transport, if no other is specified.</dd>
<dt><em>unix</em></dt>
<dd>nix domain socket. Since this is only accessible on the local machine, it is not encrypted, and uses Unix permissions or SELinux for authentication. The standard socket names are /var/run/libvirt/libvirt-sock and /var/run/libvirt/libvirt-sock-ro (the latter for read-only connections).</dd>
<dt><em>ssh</em></dt>
<dd>Transported over an ordinary ssh (secure shell) connection. Requires Netcat (nc) installed and libvirtd should be running on the remote machine. You should use some sort of ssh key management (eg. ssh-agent) otherwise programs which use this transport will stop to ask for a password.</dd>
<dt><em>ext</em></dt>
<dd>Any external program which can make a connection to the remote machine by means outside the scope of libvirt.</dd>
<dt><em>tcp</em></dt>
<dd>nencrypted TCP/IP socket. Not recommended for production use, this is normally disabled, but an administrator can enable it for testing or use over a trusted network. The standard port is 16509.</dd>
<dt><em>libssh2</em></dt>
<dd>Transport over the SSH protocol using libssh2 instead of the OpenSSH binary. This transport uses the libvirt authentication callback for all ssh authentication calls and therefore supports keyboard-interactive authentication even with graphical management applications. As with the classic ssh transport netcat is required on the remote side.</dd>
</dl>
</div>
</div>
<div id="libvirt-project">
<h2>Libvirt Project <a href="#f5" id="id6">[5]</a></h2>
<p>According to statistics on ohloh libvirt in a nutshell:</p>
<ul>
<li>15,188 commits made  by 331 contributors representing 481,506 lines of code</li>
<li>Mostly written in C</li>
</ul>
<table>
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead>
<tr><th colspan="2">Libvirt project</th>
</tr>
</thead>
<tbody>
<tr><td>C</td>
<td>74%</td>
</tr>
<tr><td>C++</td>
<td>9%</td>
</tr>
<tr><td>XML</td>
<td>6%</td>
</tr>
<tr><td>14 Other</td>
<td>11%</td>
</tr>
</tbody>
</table>
<ul>
<li>Established, mature codebase maintained by a very large development team with increasing year on year commits.</li>
<li>Estimated 128 years of efforts (COCOMO model)</li>
</ul>
</div>
<div id="conclusion">
<h2>Conclusion</h2>
<p>Libvirt is one very important library on whose giant shoulders cloud computing services and platforms like Amazon AWS, Google Compute Engine, OpenStack, CloudStack, Eucalyptus and numberous others are standing. Also this API enables developers and companies to build new and innovative cloud computing services or platforms and build awesome applications or services on top of it. Libvirt started in 2005 and with growing popularity of cloud computing, this project will continue to grow. But in most of the conferences, talks and papers related to Cloud Computing I did not find much coverage of libvirt, so while researching Cloud Management platform thought of writing and article on it. Kudos to all the libvirt code contributors for building a beautiful abstraction layer and making life easier for cloud computing services and platform developers. In spite of not getting as much press and coverage as …</p></div></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vyomtech.com/2013/12/17/libvirt_the_unsung_hero_of_cloud_computing.html">https://vyomtech.com/2013/12/17/libvirt_the_unsung_hero_of_cloud_computing.html</a></em></p>]]>
            </description>
            <link>https://vyomtech.com/2013/12/17/libvirt_the_unsung_hero_of_cloud_computing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24370966</guid>
            <pubDate>Fri, 04 Sep 2020 01:46:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How can Ceasefire be self-supporting?]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24370257">thread link</a>) | @sprague
<br/>
September 3, 2020 | https://ceasefire.net/post/a3pl4f/how_can_ceasefire_be_self-supporting | <a href="https://web.archive.org/web/*/https://ceasefire.net/post/a3pl4f/how_can_ceasefire_be_self-supporting">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://ceasefire.net/post/a3pl4f/how_can_ceasefire_be_self-supporting</link>
            <guid isPermaLink="false">hacker-news-small-sites-24370257</guid>
            <pubDate>Thu, 03 Sep 2020 23:59:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ruby adds experimental support for Rightward assignments]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24369892">thread link</a>) | @matagus
<br/>
September 3, 2020 | https://blog.saeloun.com/2020/08/31/ruby-adds-experimental-rightward-assignment.html | <a href="https://web.archive.org/web/*/https://blog.saeloun.com/2020/08/31/ruby-adds-experimental-rightward-assignment.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    


    <div role="main">
      <div>
        










<article>
  <p>This blog post discusses the support for Rightward assignments in ruby.</p>

<h3 id="before">Before</h3>

<p>Historically, all of the early programming languages were designed by Mathematicians. It’s a common practice in mathematics to say <code>let x = 4y + z</code>, which is read as let <code>x</code> be equal to <code>4y + z</code>.</p>

<p>So the same pattern is followed in programming languages as well.</p>

<p>For assigning a value to a variable, we typically do <code>age = 42</code> in ruby. Here we are assigning the <code>Rvalue</code> <code>42</code> to an <code>Lvalue</code> <code>age</code>.</p>

<p>While the above pattern has become standardized, it feels somewhat unnatural as we read most of the spoken languages from left to right.</p>

<p>We were not able to do something like <code>42 =&gt; age</code>.</p>

<h3 id="after">After</h3>

<p>With the recent <a href="https://github.com/ruby/ruby/commit/1b2d351b216661e03d497dfdce216e0d51474664#diff-8312ad0561ef661716b48d09478362f3">changes</a>, Ruby supports the <strong>Right ward assignments</strong> as demonstrated below.</p>

<div><div><pre><code>    <span>3</span> <span>=&gt;</span> <span>box_height</span> <span># This is equivalent to box_height = 3</span>
</code></pre></div></div>

<p>Let’s take a look at few more examples:</p>

<h4 id="example-1">Example 1</h4>

<div><div><pre><code><span>[</span><span>170</span><span>,</span> <span>65</span><span>]</span> <span>=&gt;</span> <span>height</span><span>,</span> <span>weight</span>
</code></pre></div></div>

<p>which is equivalent to</p>

<div><div><pre><code><span>height</span><span>,</span> <span>weight</span> <span>=</span> <span>[</span><span>170</span><span>,</span> <span>65</span><span>]</span>
</code></pre></div></div>

<h4 id="example-2">Example 2</h4>

<div><div><pre><code><span>def</span> <span>traits</span>
  <span>[</span><span>170</span><span>,</span> <span>65</span><span>]</span>
<span>end</span>

<span>traits</span> <span>=&gt;</span> <span>height</span><span>,</span> <span>weight</span>
</code></pre></div></div>

<p>which is equivalent to</p>



<h3 id="additional-notes">Additional notes:</h3>

<p>There are already some languages which support rightward assignment.</p>

<p><code>TI-BASIC’s</code> uses STO (“store”) operation to achieve this, as demonstrated below:</p>

<p><code>42→age</code></p>

<p><code>R language</code> also has a similar way of doing this  <code>42 -&gt; age</code>.</p>

<p><strong>Note</strong>: This is added as an experimental feature in Ruby, which means it could be removed depending on the feedback received.</p>

</article>


  










  


      </div>
    </div>
  </div></div>]]>
            </description>
            <link>https://blog.saeloun.com/2020/08/31/ruby-adds-experimental-rightward-assignment.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24369892</guid>
            <pubDate>Thu, 03 Sep 2020 23:12:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Daniel Stenberg (curl) has been denied entry to the US for 870 days]]>
            </title>
            <description>
<![CDATA[
Score 323 | Comments 178 (<a href="https://news.ycombinator.com/item?id=24369233">thread link</a>) | @tehwebguy
<br/>
September 3, 2020 | https://daniel.haxx.se/us-visa.html | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/us-visa.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p> Time passed since Daniel applied for a US visa </p>
<p><span>
  <span id="days">00</span> days, <span id="hours">00</span> hours,
  <span id="minutes">00</span> minutes and <span id="seconds">00</span> seconds
</span></p><p> Background </p>
<p>
 On June 26th 2017, Daniel was denied to travel to the US - while still having
 a valid ESTA and passport. He was then denied ESTA on April 3, 2018. When
 subsequently applying for a visa instead, there has been no response for over
 two years. (To <i>visit</i>, not to apply for permanent residency.)
</p><p>
 This page was edited with new content on: <b>September 4, 2020</b>.
</p><p> Blog posts </p>
<p> First blog post: <a href="https://daniel.haxx.se/blog/2018/07/28/administrative-purgatory/">Administrative

 purgatory</a>
</p><p> The one year anniversary: <a href="https://daniel.haxx.se/blog/2019/04/17/one-year-in-still-no-visa/">One

year in still no visa</a>.
</p><p> <a href="https://daniel.haxx.se/blog/2020/04/17/two-years-in/">Two years in</a>

</p><p> FAQ </p>
<p>
<a href="#long">Do you know why this takes so long?</a>
</p><div>
<p> No. They've just informed me "someone is working on it" and that it "may take a long time" but without qualifying what that means.
</p><p> I've talked to several persons who've experienced similar situations, and
  I've learned about waiting times up to 20 months until a definite "no". I used
  to think of that as a sort of "worst case" waiting time. Now we know it can
  take longer...
</p></div>
<p>
<a href="#esta">Why don't you just apply for an ESTA?</a>
</p><p>
  I already did and they denied me that. See one of the <a href="#images">images below</a>.
</p>
<p>
Why did they deny you ESTA?
</p><p>
  I don't know as they won't tell. And I also don't know why they can't respond to my visa application.
</p>
<p>
<a href="#working">So, someone is working on it?</a>
</p><p>
  Allegedly, yes. I'm sure that person must be working very hard...
</p>
<p>
<a href="#eventually">Do you think they will grant you a visa eventually?</a>
</p><div>
<p>
  No. I've been in contact with many people who have been in similar
  situations such as this, as well as many people who have applied for visas
  for very complicated matters, and it is basically unheard of that it would
  take this long time and still end up with a positive response in the end.
</p><p>
  Someone emailed me and explained how they got their visa approved after 10
  months waiting - so it obviously <i>can</i> happen after a fairly
  long time!
</p></div>
<p>
<a name="#arab">Did you travel to any arab countries, middle-east, North Korea, Sudan, Iran or Iraq?</a>
</p><p>
 No.
</p>
<p>
<a name="#ever">Did you ever visit the US?</a>
</p><div>
<p> Yes, I've visted the US around a dozen times over a time period of almost
 twenty years. I've applied and gotten ESTA permissions several times. I have
 many friends living and working in the US.
</p><p> My latest visit to the US was in December 2016 - using the same ESTA and
 passport I subsequently wanted to use in the summer of 2017 when I was first
 denied travelling to the US.
</p></div>
<p>
<a href="#blocked">How many trips have this blocked you from taking so far?</a>
</p><div>
<p> I've been invited personally to several meetings in the US that I couldn't
 attend. (excluding IETF, HTTPbis or QUIC meetings)
</p><ol>
<li> San Francisco June 2017. Mozilla All Hands.
</li><li> San Francisco June 2018. Mozilla All hands.
</li><li> San Francisco October 2018. Conference speaking engagement.
</li><li> Orlando, Florida December 2018. Mozilla All hands.
</li><li> Portland, Oregon January 2019. Conference speaking engagement.
</li><li> California, March 2019. Conference speaking engagement.
</li><li> Summer of 2019. Wedding.
</li></ol>
</div>
<p>
<a href="#employer">Can't your employer help you?</a>
</p><p> We've already tried all available ways to get information or otherwise
bring this effort forward. To no avail.
</p>
<p>
<a href="#Mozilla">Will Mozilla move more meetings outside of the US?</a>
</p><p> Yes. Several of the coming All hands are now planned and scheduled to
happen outside of the US, for example in Canada and Germany. But I will not be
there to experience them since I quit Mozilla in December 2018.
</p>
<p>
Will your visa situation change when you've quit Mozilla?
</p><p> Unfortunately, there is no reason to suspect or hope so.
</p>
<p>
<a href="#lost">Maybe they lost your application?</a>
</p><div>
<p> I emailed them in July 2019 just to make sure they just hadn't
 forgot about my case or similar over the past year, and I received their
 reply on August 1st 2019. The response said "I have forwarded your email to
 my supervisor to highlight the problem."  - but then nothing more came.
</p><p> I emailed them again on January 28, 2020.<br>
<img src="https://daniel.haxx.se/media/651-days-email.png">
</p><p>
 They responded very politely:
 </p><pre>Dear Sir,
&nbsp;
All applications are processed in the most expeditious manner
possible. While we understand your frustration, we are required to follow
immigration law regarding visa issuances. This process cannot be expedited or
circumvented. Rest assured that we will contact you as soon as the
administrative processing is concluded.
</pre>
</div>
<p>
<a href="#likely">What do you think is the most likely explanation for this treatment?</a>
</p><div>
<p> I think one of the likelier explantions is that someone somewhere has
 found my name and my code used in some evil or malicious manner and drawn the
 wrong conclusions about how my code ended up there or how I could've been
 involved. Like for example in some malware, virus or other attack software. I
 make tools and code available for free and openly and sometimes those are
 unfortunately used in ways I don't condone.
</p><p> Since they won't tell me why, basically all theories are equally likely.
 We just won't know.
</p></div>
<p>
Any other plausible explanations?
</p><div>
<p> People have mentioned my domain name <b>haxx.se</b> or suggested it is
because I've referred to myself as "a hacker" at times. I find that unlikely
since I used the domain and used the term for decades before this.
</p><p> Others have offered the explanation that the immigration authorities
might've decided that I violated the ESTA rules in a previous visit. I can of
course not know what they think, but I have not violated those rules.
</p></div>
<p>
<a href="#crime">Convicted of a crime?</a>
</p><p>
No, I've never been convicted of a crime in Sweden and not anywhere else. Not even
charged. Nor have I ever been involved in a lawsuit of any kind.
</p>
<p>
<a href="#license">Can you change the curl license?</a>
</p><div><p>
Lots of people suggest this, most probably in jest, but let me be perfectly
clear: no I won't change the curl license.
</p><ol>
 <li> excluding a specific user would make a license to not be open source anymore
 </li><li> curl has many more copyrights than mine, it would be hard
 </li><li> curl is bigger than me personally, I wouldn't do it anyway
</li></ol>
</div>
<p>
<a href="#covid">But Covid-19?</a>
</p><p>
During the Corona pandemic (starting in spring 2020), the US has closed its
borders for a lot of more people who otherwise would have been allowed
entry. I suspect the visa processing has slowed down during this period since
people can't go there anyway. But I have not been notified about anything and
I still expect to get a rejection at some point. Pandemic or not.
</p>
<p>
<a href="#officials">Have you contacted any US officials?</a>
</p><div><p>
A US citizen friend of mine sent the following text in an email to the
U.S. Congressman Gerry Connolly on September 3, 2020.
</p><pre>Dear Representative Gerry Connolly:
&nbsp;
Could you please help my friend Daniel Stenberg *finally* gain permission to
travel to the US? He has been denied permission to travel to the US for years,
yet there is no cause for it.
&nbsp;
On June 26, 2017, Mr. Stenberg was denied to travel to the US, even though he
had a valid ESTA and passport. He was then denied ESTA on April 3, 2018. He
then applied for a visa in April 2018, and has *still* not heard anything.
&nbsp;
This is especially galling because is a widely-known leader in the computer
community. He developed and maintains the "curl" program, a program used
worldwide by many software developers and computer system administrators. In
October 2017 he won the "Polhem prize" for his work on curl; in that ceremony
the Swedish king personally handed Daniel a gold medal. In February 2019 he
joined wolfSSL, an American company (he's their only Swedish hire), and yet
he's still not allowed to travel to the US.
&nbsp;
Perhaps there is a confusion about the word "hacker". In the computer
community, a "hacker" is NOT someone who breaks into computers, a hacker
is "a person who delights in having an intimate understanding of the
internal workings of a system, computers and computer networks in
particular."  ( IETF RFC 1983, https://tools.ietf.org/html/rfc1983).

Mr. Stenberg does *not* break into computers without authorization.
&nbsp;
At the least, the State Department should have asked questions instead of
reflexively denying entry to a world leader in the computer industry.
&nbsp;
More information is available on his personal website:
https://daniel.haxx.se/us-visa.html

https://daniel.haxx.se/about.html

&nbsp;
Thank you very much!
&nbsp;
--- [name redacted]
</pre>
</div>
<p> Images </p>
<p> This is what the online visa application status site showed for my case on
July 30, 2019:
</p><center>
<img src="https://daniel.haxx.se/media/Administrative-Processing.png"></center>
<p> This is what an ESTA rejection looks like:
</p><center>
<img src="https://daniel.haxx.se/media/ESTA-travel-not-authorized.png"></center>
</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/us-visa.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24369233</guid>
            <pubDate>Thu, 03 Sep 2020 21:45:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing an Efficient Vulkan Renderer]]>
            </title>
            <description>
<![CDATA[
Score 104 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24368353">thread link</a>) | @noch
<br/>
September 3, 2020 | https://zeux.io/2020/02/27/writing-an-efficient-vulkan-renderer/ | <a href="https://web.archive.org/web/*/https://zeux.io/2020/02/27/writing-an-efficient-vulkan-renderer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><span>

27 Feb 2020

</span></p><p>In 2018, I wrote an article “Writing an efficient Vulkan renderer” for GPU Zen 2 book, which was published in 2019. In this article I tried to aggregate as much information about Vulkan performance as I could - instead of trying to focus on one particular aspect or application, this is trying to cover a wide range of topics, give readers an understanding of the behavior of different APIs on real hardware and provide a range of options for each problem that needs to be solved.</p>

<p>At the time of publishing this article, the <a href="https://www.amazon.com/GPU-Zen-Advanced-Rendering-Techniques-ebook/dp/B07SYP7P6B">Kindle edition of the book</a> is available for $2.99 on Amazon - that’s cheaper than a cup of coffee and it’s definitely worth your time and money. It contains many great articles about rendering effects and design.</p>

<p>This, however, is the full, free of charge copy of the article - hopefully it will help graphics programmers to understand and use Vulkan to the full of its ability. The article has been lightly edited to mention Vulkan 1.1/1.2 promotions where applicable - fortunately, not much has changed in the last two years for Vulkan performance, so the content should still be mostly accurate.</p>

<p>Enjoy!</p>

<!--more-->



<p>Vulkan is a new explicit cross-platform graphics API. It introduces many new concepts that may be unfamiliar to even seasoned graphics programmers. The key goal of Vulkan is performance – however, attaining good performance requires in-depth knowledge about these concepts and how to apply them efficiently, as well as how particular driver implementations implement these. This article will explore topics such as memory allocation, descriptor set management, command buffer recording, pipeline barriers, render passes and discuss ways to optimize CPU and GPU performance of production desktop/mobile Vulkan renderers today as well as look at what a future looking Vulkan renderer could do differently.</p>

<p>Modern renderers are becoming increasingly complex and must support many different graphics APIs with varying levels of hardware abstraction and disjoint sets of concepts. This sometimes makes it challenging to support all platforms at the same level of efficiency. Fortunately, for most tasks Vulkan provides multiple options that can be as simple as reimplementing concepts from other APIs with higher efficiency due to targeting the code specifically towards the renderer needs, and as hard as redesigning large systems to make them optimal for Vulkan. We will try to cover both extremes when applicable – ultimately, this is a tradeoff between maximum efficiency on Vulkan-capable systems and implementation and maintenance costs that every engine needs to carefully pick. Additionally, efficiency is often application-dependent – the guidance in this article is generic and ultimately best performance is achieved by profiling the target application on a target platform and making an informed implementation decision based on the results.</p>

<p>This article assumes that the reader is familiar with the basics of Vulkan API, and would like to understand them better and/or learn how to use the API efficiently.</p>



<p>Memory management remains an exceedingly complex topic, and in Vulkan it gets even more so due to the diversity of heap configurations on different hardware. Earlier APIs adopted a resource-centric concept – the programmer doesn’t have a concept of graphics memory, only that of a graphics resource, and different drivers are free to manage the resource memory based on API usage flags and a set of heuristics. Vulkan, however, forces to think about memory management up front, as you must manually allocate memory to create resources.</p>

<p>A perfectly reasonable first step is to integrate <code>VulkanMemoryAllocator</code> (henceforth abbreviated as VMA), which is an open-source library developed by AMD that solves some memory management details for you by providing a general purpose resource allocator on top of Vulkan functions. Even if you do use that library, there are still multiple performance considerations that apply; the rest of this section will go over memory caveats without assuming you use VMA; all of the guidance applies equally to VMA.</p>

<h2 id="memory-heap-selection">Memory heap selection</h2>

<p>When creating a resource in Vulkan, you have to choose a heap to allocate memory from. Vulkan device exposes a set of memory types where each memory type has flags that define the behavior of that memory, and a heap index that defines the available size.</p>

<p>Most Vulkan implementations expose two or three of the following flag combinations<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>:</p>

<ul>
  <li><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> – this is generally referring to GPU memory that is not directly visible from CPU; it’s fastest to access from the GPU and this is the memory you should be using to store all render targets, GPU-only resources such as buffers for compute, and also all static resources such as textures and geometry buffers.</li>
  <li><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT | VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> – on AMD hardware, this memory type refers to up to 256 MB of video memory that the CPU can write to directly, and is perfect for allocating reasonable amounts of data that is written by CPU every frame, such as uniform buffers or dynamic vertex/index buffers</li>
  <li><code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT | VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code><sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup>  – this is referring to CPU memory that is directly visible from GPU; reads from this memory go over PCI-express bus. In absence of the previous memory type, this generally speaking should be the choice for uniform buffers or dynamic vertex/index buffers, and also should be used to store staging buffers that are used to populate static resources allocated with <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> with data.</li>
  <li><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT | VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code> – this is referring to GPU memory that might never need to be allocated for render targets on tiled architectures. It is recommended to use lazily allocated memory to save physical memory for large render targets that are never stored to, such as MSAA images or depth images.
On integrated GPUs, there is no distinction between GPU and CPU memory – these devices generally expose <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT | VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> that you can allocate all static resources through as well.</li>
</ul>

<p>When dealing with dynamic resources, in general allocating in non-device-local host-visible memory works well – it simplifies the application management and is efficient due to GPU-side caching of read-only data. For resources that have a high degree of random access though, like dynamic textures, it’s better to allocate them in <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code> and upload data using staging buffers allocated in <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> memory – similarly to how you would handle static textures. In some cases you might need to do this for buffers as well – while uniform buffers typically don’t suffer from this, in some applications using large storage buffers with highly random access patterns will generate too many PCIe transactions unless you copy the buffers to GPU first; additionally, host memory does have higher access latency from the GPU side that can impact performance for many small draw calls.</p>

<p>When allocating resources from <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code>, in case of VRAM oversubscription you can run out of memory; in this case you should fall back to allocating the resources in non-device-local <code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code> memory. Naturally you should make sure that large frequently used resources such as render targets are allocated first. There are other things you can do in an event of an oversubscription, such as migrating resources from GPU memory to CPU memory for less frequently used resources – this is outside of the scope of this article; additionally, on some operating systems like Windows 10 correct handling of oversubscription requires APIs that are not currently available in Vulkan.</p>

<h2 id="memory-suballocation">Memory suballocation</h2>

<p>Unlike some other APIs that allow an option to perform one memory allocation per resource, in Vulkan this is impractical for large applications – drivers are only required to support up to 4096 individual allocations. In addition to the total number being limited, allocations can be slow to perform, may waste memory due to assuming worst case possible alignment requirements, and also require extra overhead during command buffer submission to ensure memory residency. Because of this, suballocation is necessary. A typical pattern of working with Vulkan involves performing large (e.g. 16 MB – 256 MB depending on how dynamic the memory requirements are) allocations using <code>vkAllocateMemory</code>, and performing suballocation of objects within this memory, effectively managing it yourself. Critically, the application needs to handle alignment of memory requests correctly, as well as <code>bufferImageGranularity</code> limit that restricts valid configurations of buffers and images.</p>

<p>Briefly, <code>bufferImageGranularity</code> restricts the relative placement of buffer and image resources in the same allocation, requiring additional padding between individual allocations. There are several ways to handle this:</p>

<ul>
  <li>Always over-align image resources (as they typically have larger alignment to begin with) by bufferImageGranularity, essentially using a maximum of required alignment and <code>bufferImageGranularity</code> for address and size alignment.</li>
  <li>Track resource type for each allocation, and have the allocator add the requisite padding only if the previous or following resource is of a different type. This requires a somewhat more complex allocation algorithm.</li>
  <li>Allocate images and buffers in separate Vulkan allocations, thus sidestepping the entire problem. This reduces internal fragmentation due to smaller alignment padding but can waste more memory if the backing allocations are too big (e.g. 256 MB).</li>
</ul>

<p>On many GPUs the required alignment for image resources is substantially bigger than it is for buffers which makes the last option attractive – in addition to reducing waste due to lack of extra …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://zeux.io/2020/02/27/writing-an-efficient-vulkan-renderer/">https://zeux.io/2020/02/27/writing-an-efficient-vulkan-renderer/</a></em></p>]]>
            </description>
            <link>https://zeux.io/2020/02/27/writing-an-efficient-vulkan-renderer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24368353</guid>
            <pubDate>Thu, 03 Sep 2020 20:13:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Aligning Audio Recordings with Julia]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24368302">thread link</a>) | @recd
<br/>
September 3, 2020 | https://rodrigo.red/blog/aligning-video-recordings-with-julia/ | <a href="https://web.archive.org/web/*/https://rodrigo.red/blog/aligning-video-recordings-with-julia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://rodrigo.red/blog/aligning-video-recordings-with-julia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24368302</guid>
            <pubDate>Thu, 03 Sep 2020 20:09:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Accepting My Fate as a Millennial Software Engineer]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24366508">thread link</a>) | @dvaun
<br/>
September 3, 2020 | https://joygao.com/accepting-my-fate-as-a-millennial-software-engineer | <a href="https://web.archive.org/web/*/https://joygao.com/accepting-my-fate-as-a-millennial-software-engineer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<p>(back-ported from Medium - May 19, 2019)</p>

<p>I used to get rather upset about how I was born so late into the game of computer science. I mean look at it, all the coolest stuff that involves computer science fundamentals we learned in school have all been invented — programming languages, operating systems, data structures and algorithms, storage systems, cryptography, computer graphics, world wide web, etc. Our day-to-day job involves taking these wonderful tools built by other brilliant people and then stitching them together with if/else statements. Everything is becoming a blackbox and these boxes just keep on getting bigger and bigger.</p>

<p>Some examples:</p>

<ul>
<li>binaries → high level languages &amp; frameworks</li>
<li>formal proof → chaos monkey</li>
<li>on-prem → cloud</li>
<li>decision trees → neural networks</li>
</ul>

<p>Because of how high the piles of abstraction are, there is simply no way to understand everything. So we have no choice but to use the lazy evaluation approach — where we trust the systems and tools to work, and only when it doesn’t will we then start digging into the layers of abstraction in an attempt to understand and fix the problem. If we are lucky, we can dig all the way to the root of the problem. Other times it is a true blackbox (be it due to a mental constraint, like neural networks, where our brain simply doesn’t have that kind of capability to process all the information; or be it due to a physical constraint, like cloud products, where the source code is locked away as trade secrets), where all we could do is trial and error — we form an arbitrary hypothesis, run it against the box, and check its output to see if matches the hypothesis. And perhaps with this newly concluded confirmation bias we fixed the problem, but we still don’t fully understand the box so we are left with a hint of sadness. Theoretically we could build everything from scratch, but working in the industry means productivity is king; we certainly won’t be at our jobs for long if we insisted on doing that.</p>

<p>It took my ego a while to accept this reality. But once I did, I realized: how close-minded of me to think that all the coolest things have been invented! The point of invention is that it does not exist yet. So that assumption all the coolest things have been invented is absurd (and cocky). Instead, the area for innovations simply moved up in the abstraction layer, while I grudgingly stayed below. I learned to marvel at the existing robustness and intricacy of the systems and tools we already have, and at the same time try to take learnings from it in attempt to identify gaps and improve the ecosystem further.</p>

<p>Thinking on a higher level today, there are so many potential areas for improvements off the top of my head (from the perspective of an infrastructure engineer, so these ideas are rather limited in scope):</p>

<ul>
<li>Why are the most popular programming languages still designed for a single machine and have to rely on libraries built on top of application protocols to communicate between machines? I could imagine a rise of distributed + declarative programming languages in the near future that abstract all that away.</li>
<li>Why are we still stuck on application protocols like HTTP/FTP/etc. anyways? I could imagine higher level of protocols that communicate more with less code/data.</li>
<li>Why are we replicating data on so many heterogenous storage systems in order to optimize for different use patterns. I can imagine a one-size-fits-many database in the future which stores the data once but leverage machine learning to optimize for different usage patterns.</li>
</ul>

<p>In conclusion, I have come to accept my fate as a millennial software engineer that stands on the shoulder of giants and stitches their work together, because I realized that the giants before us were no different — they were also building abstraction layers on top of the work known before them. There is always room for innovation, as long as one sets the mind to it. This is what I love about this field of work — formulating ideas and then making them concrete via code.</p>
</article></div>]]>
            </description>
            <link>https://joygao.com/accepting-my-fate-as-a-millennial-software-engineer</link>
            <guid isPermaLink="false">hacker-news-small-sites-24366508</guid>
            <pubDate>Thu, 03 Sep 2020 17:40:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Open Source Everything]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24365844">thread link</a>) | @skuthus
<br/>
September 3, 2020 | https://skuth.us/post/627714418651873280/open-source-everything | <a href="https://web.archive.org/web/*/https://skuth.us/post/627714418651873280/open-source-everything">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                
                    

                    
    					<div>
    					    
        					<p>The effect of Open Sourced Software on the world is undeniable. From Android and Linux, which are used by literal billions of people, to Wordpress, GIMP, VLC, and Firefox, OSS (Open sourced software) is truly utilized by everyone, in nearly every aspect of their daily lives. This doesn’t even include the millions of open sourced softwares embedded in the web for every day use. Yet, the tech industry is still the most prosperous on earth, with Silicon Valley accounting for a higher GDP output than Finland (roughly $275 billion per year), and all tech stocks accounting for roughly 1/5th of the worlds economic output.&nbsp;</p><p>How is it than an industry that drives the entire planets economy can be based off of something free-to-use, and still be valuable? Simple: Everyone in the industry benefits from the common core of open source tech - They utilize this common base to propel their proprietary technology farther than it could have ever gone without the OSS. The sum of all these parts is greater than the whole. They don’t prosper <i>despite</i> the free software, they prosper <i>because</i> of the free software.&nbsp;</p><p>So, why cant Open Source principles be applied to other industries? Why can’t farming equipment have a common core of open sourced hardware for all farmers in all parts of the world to use? Why cant there be open sourced genetics, where GMO foods are cataloged, modified, and shared by farmers, both with CRISPR and with natural methods? What about building materials and designs? Medicines? Economic data? Camera tech?&nbsp;</p><p>The potential in all industries of what is possible when Open Source principles are applied is staggering. Organizations, both public and private, could have a shared design understanding across entire disciplines, making everyones products work better, sharply increasing both competition and performance for consumers, and in turn increase market saturation and profits for everyone.&nbsp;</p><p>Specialized companies could still stay specialized. If you offer a particular service that utilized ideas you created, you would have no obligation to share those secrets: Instead, you would have the option to base them on a common footprint of ideas shared by industry leaders, non-profit orgs, and failed businesses that have released their own ideas for the common market to use. Their incentive to do this is two-fold: One - if they are an industry leader - is a way to offload old ideas into the market and build pedigree and reputation among the industry - it shows you are not just a leader, but a supporter, of the industry you participate in. Second - if they are a startup - is to prove your capabilities so that prospective buyers, investors, etc can gauge your prowess on the market. Finally, a failed business might want to offload its ideas that have not sold as a gesture of goodwill - this is something we simply don’t do right now, but there’s no reason we couldn’t.&nbsp;</p><p>All in all, the benefits of encouraging Open Source principles in new industries is obvious. I predict that if another industry, like farming, decided to adopt this model they would see huge success from its adoption over time. I personally believe that OS principles could become a polestar for economic growth in the future, and would very likely lead to the rapid technological expansion of any given industry once employed. The future quite literally could be now.&nbsp;</p>
    					</div>
					
                    
                
                
                

                

                

                

                

                

                

                
                
                </div></div>]]>
            </description>
            <link>https://skuth.us/post/627714418651873280/open-source-everything</link>
            <guid isPermaLink="false">hacker-news-small-sites-24365844</guid>
            <pubDate>Thu, 03 Sep 2020 16:39:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pachyderm Hub: data science without the hassle of managing infrastructure]]>
            </title>
            <description>
<![CDATA[
Score 107 | Comments 31 (<a href="https://news.ycombinator.com/item?id=24365697">thread link</a>) | @jdoliner
<br/>
September 3, 2020 | https://www.pachyderm.com/blog/pachyderm-hub-is-now-in-production/ | <a href="https://web.archive.org/web/*/https://www.pachyderm.com/blog/pachyderm-hub-is-now-in-production/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-content"><article><div><div><p><img src="https://www.pachyderm.com/images/blog-images/hub-ga-announcement-hero.jpg" alt=""></p><p>Today we’re announcing the production ready availability of <a href="https://hub.pachyderm.com/">Pachyderm Hub</a>, our powerful end-to-end machine learning and data lineage platform in the cloud. Hub delivers all the key features of the <a href="https://www.pachyderm.com/">Pachyderm</a> suite but in a completely managed cloud-native environment. You no longer need to have Kubernetes and cloud infrastructure expertise in-house, Pachyderm Hub let’s you seamlessly spin up a cluster in minutes.</p><p>While Pachyderm always delivered the power teams needed to do data science at scale, you also needed a strong systems administration and architecture team to get Kubernetes and containers into production. Kuberenetes is way more than just software you download and install. It needs monitoring and management, backup, redundancy, capacity and upgrade planning, to name just a few. That represents a real challenge for some organizations. Now, we’ve removed the barriers to entry, which makes it possible for smaller teams to start doing data science faster.</p><p>Pachyderm Hub includes all of the features that were challenging for teams to set up, like autoscaling with GPUs, security and isolation, backup, and automation. Now you can rely on Pachyderm’s trained team of Kubernetes experts to handle the infrastructure for you and concentrate on data science instead of systems administration. Kubernetes is powerful, but the real power comes from the applications you can run on it.</p><blockquote><h4 id="you-simply-bring-your-code-and-data-pachyderm-hub-handles-all-the-infrastructure">You simply bring your code and data, Pachyderm Hub handles all the infrastructure.</h4></blockquote><p>More than anything, Pachyderm Hub delivers on our ultimate vision for a fully collaborative, shareable, and reproducible data science platform. It does what Git did for data, bringing powerful version control and collaboration to your AI applications development. Pachyderm Hub makes team collaboration and sharing data, code, and infra totally seamless. Team members can create and share workspaces, invite other team members to collaborate, and behind the scenes the platform scales transparently as you add workloads.</p><p>Since our launch 2014, Pachyderm’s data science platform has quickly become a foundation for the <a href="http://ai-infrastructure.org/">emerging Canonical Stack (CS) in machine learning</a>. Because other platforms only let you track metadata, they lack the true iron-clad immutability of a robust version controlled file system. If your data can change after you’ve recorded your metadata then you can’t reproduce critical data science results. Our customers understand the need for true data lineage and data versioning. That’s why over the past year, Pachyderm has attracted tremendous new enterprise customers like Shell, LogMeIn, Battelle Ecology, and AgBiome, as well as multiple government agencies, pharmaceutical and bioinformatics companies, two major North American banks, and other Fortune 500 powerhouses.</p><p>Beyond data versioning, customers choose Pachyderm because they need a clean, simple and elegant data science pipeline system that delivers data science at scale. The Pachyderm platform allows teams to bring any framework, language or library and fit them together into a smooth, automated workflow with ease. If it can run in a Docker container it can run on Pachyderm.Customers aren’t locked into one tool like Spark, R or Python, or one machine learning framework, like Pytorch or Tensorflow. They can use it all on one complete system.</p><blockquote><h4 id="launch-your-free-workspace-todayhttpshubpachydermcom"><a href="https://hub.pachyderm.com/">Launch your free workspace today!</a></h4></blockquote><p>If you’re ready to do production workloads you can easily upgrade to benefit from GPUs and enterprise team collaboration, just <strong><a href="https://www.pachyderm.com/request-a-demo/">talk with one of our experts</a></strong>, or join our <strong><a href="https://www.pachyderm.com/slack/">open source community on Slack</a></strong> and check out the Pachyderm codebase on <strong><a href="https://github.com/pachyderm/pachyderm">Github</a></strong>.</p></div></div></article></div></div>]]>
            </description>
            <link>https://www.pachyderm.com/blog/pachyderm-hub-is-now-in-production/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24365697</guid>
            <pubDate>Thu, 03 Sep 2020 16:28:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It’s Not Your Team, It’s You]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 47 (<a href="https://news.ycombinator.com/item?id=24365647">thread link</a>) | @abyx
<br/>
September 3, 2020 | https://avivbenyosef.com/its-not-your-team-its-you/ | <a href="https://web.archive.org/web/*/https://avivbenyosef.com/its-not-your-team-its-you/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1798">
	
	
	<!-- .entry-header -->

	
	<div>
		
<p>When you learn a language, you think of words in it differently than how you think about words in your native tongue. I like the word “deflect.” I don’t know why, but it just has a nice ring to it. I like it so much that I worked on a (shuttered) developer-tool SaaS by that name some years ago. Do you know who else likes deflection? You, most likely.</p>



<blockquote><p>“No matter what I say, they keep doing the same things.”</p><p>“They don’t care about the product, only working on interesting tech.”</p><p>“Product keep defining work wrong.”</p><p>“The CEO wouldn’t allow it.”</p><p>“The team simply doesn’t have a high-bar culture.”</p></blockquote>



<p>How long has it been since you’ve said something along those lines, out loud or to yourself? Even the best executives I work with do this deflection by reflex from time to time. It’s leadership aikido.</p>



<h3>It might be true</h3>



<p>I can almost hear you mutter to yourself, “wait a minute! Those are all true!” I agree. The team might genuinely not care about the product right now. Perhaps the culture is out of whack when it comes to craftsmanship and quality. </p>



<p>That’s the only reason that deflection works as a coping and defense mechanism. If you’d simply say something that was clearly false, someone would call you out on it. You have a correct observation, at least subjectively. The issue is that you are abducting your responsibility for it.</p>



<h3>Total Ownership</h3>



<p>The most successful executives I work with are those who internalize that the vast majority of limits are self-imposed. If you deflect and put the blame on someone else, you teach yourself to be helpless. With time, you genuinely come to believe that you are powerless, as detailed in the (excellent) book Learned Optimism.</p>



<p>Reconsider the deflections above and think about what your role is in making those statements true. Why would the CEO allow something if you failed to make an articulated argument? This team you’re talking about, who hired it? Who has been managing and leading it?</p>



<p>Is everything entirely up to you? Of course not. A lot <em>is</em>, though. If you take ownership of the matter and decide to act, you will find ways to move forward in most cases. Do you know how just being told there’s a solution makes you find it? See a chessboard with the question “what would you do now,” and you might feel at a loss. Instead, if the prompt was “find the mate in two,” you are significantly more likely to find it. I once spent 90 minutes in an exam trying to prove P=NP because the instructor made an error writing the exam. I was told the given problem had a polynomial solution, and I gave it a damn good try.</p>



<p>Address your work problems with the same mindset. Take complete ownership. If you still come up empty, consider <a href="https://avivbenyosef.com/">getting some help</a>. But don’t just deflect.</p>
 <div data-ck-version="6">   <div>   <div>     <h3>Get the Tech Executive Operating System</h3>     <p>Get the best newsletter for tech executives online. Tailored for your daily work. Weekly, short, and packed with exclusive insights.</p>            <!--  Form starts here  -->        </div>  </div>  </div>    			</div><!-- .entry-content -->

	<!-- .entry-footer -->

	
</article></div>]]>
            </description>
            <link>https://avivbenyosef.com/its-not-your-team-its-you/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24365647</guid>
            <pubDate>Thu, 03 Sep 2020 16:24:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Handing over Ghcide to the Haskell Community]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24365423">thread link</a>) | @MurizS
<br/>
September 3, 2020 | https://daml.com/daml-driven/handing-over-ghcide-to-the-haskell-community/ | <a href="https://web.archive.org/web/*/https://daml.com/daml-driven/handing-over-ghcide-to-the-haskell-community/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					
					<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text">
							
							
<p>We started building ghcide over 2 years ago as part of our efforts at Digital Asset to provide a great IDE experience to all <a href="https://daml.com/" target="_blank" rel="noreferrer noopener">DAML</a> users. As a lot of people in the Haskell community know, the DAML compiler is based on a modified version of GHC, so naturally the people working on it were Haskell programmers. As ghcide got better and better, and we got to experience it whenever we were working on DAML codebases, we started missing the same features from our Haskell development. Over time, we started abstracting over DAML-specifics and eventually managed to get it working on some hand-crafted Haskell projects, but couldn’t integrate with Cabal, Stack or other build tools. Around that time, we also open sourced the whole <a href="https://github.com/digital-asset/daml" target="_blank" rel="noreferrer noopener">DAML codebase</a> which included ghcide – but we didn’t announce ghcide anywhere. Luckily, at this time Matthew Pickering released <a href="https://github.com/mpickering/hie-bios" target="_blank" rel="noreferrer noopener">hie-bios</a> which made it trivial to integrate ghcide with all of the various build tools in the Haskell system while still using the same codebase as the basis for the DAML IDE.</p>



<p>External interest in ghcide was very limited until Neil gave a <a href="https://www.youtube.com/watch?v=cijsaeWNf2E&amp;list=PLxxF72uPfQVRdAsvj7THoys-nVj-oc4Ss" target="_blank" rel="noreferrer noopener">keynote at MuniHac 2019</a>. </p>



<figure><div>
<p><iframe title="MuniHac 2019: Making a Haskell IDE" width="1500" height="844" src="https://www.youtube.com/embed/videoseries?list=PLxxF72uPfQVRdAsvj7THoys-nVj-oc4Ss" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
</div></figure>



<p>Interest and external contributions skyrocketed over a few days and we split ghcide into a separate repository to make it easier for contributors and users that no longer had to deal with the DAML monorepo. Since then, there have been a huge number of contributions to ghcide that not only benefited Haskell users, but also DAML users. It is impossible to name all the amazing features that have been contributed to ghcide, but some of our favourites include:</p>



<ul><li>Support for code completions</li><li>Many significant performance improvements</li><li>Multi-component support</li><li>A wide variety of code actions</li></ul>



<p>In January 2020, a lot of ghcide contributors and contributors from <a href="https://github.com/haskell/haskell-ide-engine/" target="_blank" rel="noreferrer noopener">haskell-ide-engine</a> got together and agreed to unify their efforts as part of <a href="https://github.com/haskell/haskell-language-server" target="_blank" rel="noreferrer noopener">haskell-language-server</a> – which builds on top of ghcide while carrying over all the features and plugins that came from haskell-ide-engine. Half a year later, it’s not a stretch to say that this endeavour has been an enormous success and enthusiastic statements from users can attest to this. Finally, most efforts on Haskell tooling are focused on a single approach and everyone can benefit from improvements.</p>



<p>As the importance of ghcide to Haskell tooling has grown, keeping such an important repository in the Digital Asset organisation with only Digital Asset employees as maintainers has started to hold back the flood of contributions. Therefore, in consultation with many of the contributors, Digital Asset has made the decision to turn ghcide into a proper community project under the <a href="https://github.com/haskell" target="_blank" rel="noreferrer noopener">haskell</a> github organization. In making this transition, ghcide gains a much wider team of maintainers, sourced from the current active ghcide contributors. The DAML IDE will switch to an open source fork of ghcide and cherry-pick changes from upstream as needed and we will continue to upstream bugfixes and improvements into ghcide.</p>



<p>We are very excited to see in which directions ghcide will grow in the future. Thanks to all ghcide contributors and in particular to Pepe Iborra, Matthew Pickering, Alan Zimmermann, wz1000, Luke Lau, Alejandro Serrano, fendor and Jacek Generowicz. We’ve enjoyed being part of the Haskell IDE tooling community, and look forward to working with both current and new contributors in the future.</p>



<p>Moritz and Neil</p>



<div><figure><img loading="lazy" width="1030" height="456" src="https://daml.com/wp-content/uploads/2020/08/ghcide-meetup-1-1030x456.jpeg" alt="" srcset="https://daml.com/wp-content/uploads/2020/08/ghcide-meetup-1-1030x456.jpeg 1030w, https://daml.com/wp-content/uploads/2020/08/ghcide-meetup-1-600x266.jpeg 600w, https://daml.com/wp-content/uploads/2020/08/ghcide-meetup-1-768x340.jpeg 768w, https://daml.com/wp-content/uploads/2020/08/ghcide-meetup-1-705x312.jpeg 705w, https://daml.com/wp-content/uploads/2020/08/ghcide-meetup-1.jpeg 1474w" sizes="(max-width: 1030px) 100vw, 1030px"><figcaption>Bristol Haskell Hackathon 2020</figcaption></figure></div>
						</span>	
					</p>
				</div><div>
					<h2>Newsletter</h2>
					<p>Join the DAML mailinglist to get occasional updates on announcements and new releases</p>

					
					
					

				</div></div>]]>
            </description>
            <link>https://daml.com/daml-driven/handing-over-ghcide-to-the-haskell-community/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24365423</guid>
            <pubDate>Thu, 03 Sep 2020 16:04:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Home Office Projects Series: Air conditioner setup]]>
            </title>
            <description>
<![CDATA[
Score 161 | Comments 168 (<a href="https://news.ycombinator.com/item?id=24364080">thread link</a>) | @gcds
<br/>
September 3, 2020 | https://www.techprowd.com/home-office-projects-series-air-conditioner-setup/ | <a href="https://web.archive.org/web/*/https://www.techprowd.com/home-office-projects-series-air-conditioner-setup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>After I have moved from a tiny tiny apartment 9m^2 in Tokyo to a big one 3LDK (2 western-style rooms, kitchen, living/dining room, and tatami room) I decided that I am going to use one of the westerner rooms as my home office/laboratory and with this idea, a lot of project ideas appeared in my head what I could do with my home office. One of the first projects which I have already finished was getting an Air Conditioner in the home office room</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-7.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-7.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-7.png 1000w, https://www.techprowd.com/content/images/2020/09/image-7.png 1024w" sizes="(min-width: 720px) 720px"></figure><p>I bought two Panasonic ACs for the home office and bedroom. The living room already had an air conditioner. They are pretty small and. efficient units for 6 tatamis sized room (~9.72m^2)</p><p>As a European from North Europe Japanese spring/summer has hitten hard for an unexpected guy coming from a different continent. The weather until late May was without any issues pleasant temperatures sunny days and then <strong>THE Rainy Season</strong> came which introduced me with the new term <strong>Humidity</strong> to which I was never used or never had much concern living in Europe. When your room humidity level reaches 70-80% you would want to reduce the humidity level quickly as high humidity can introduce a lot of problems for your apartment. This is where Air Conditioner comes which helps with these issues by utilizing Dehumidifier mode which reduces humidity in the room pretty quickly.</p><p>After this unexpectedly pretty long Rainy season the real summer came up with really high temperatures as far as 35-45ºC which were devastating as my apartment was the top floor so it would heat up to around 32ºC in the home office room as soon as 8 AM. So the air conditioner was a must item in my home office!</p><p>Not to forget the winters in Tokyo can get mildly cold too, but so you know Japanese apartments in most cases lack any central heating system so you have few options to warm up urself:</p><ul><li>Electric Fan Heater (Most common device in Europe I think)</li><li>Electric Radiator</li><li>Electric Infrared Heater</li><li>Electric Blanket</li><li>Kerosine Heater</li><li>Gas Fan Heater</li><li>Gas Heater</li></ul><p>Yes I know burning stuff inside the apartment for westerners would sound crazy but most Japanese apartments there are special pipes/tubes in walls with covers for exhaust fumes, etc. same with air conditioners their special pipes for passing air conditioner refrigerant/electrical lines to the outside.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-8.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-8.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-8.png 1000w, https://www.techprowd.com/content/images/2020/09/image-8.png 1002w" sizes="(min-width: 720px) 720px"></figure><p>You probably would not believe if I told you that the small square socket near the bottom big pipe is a gas outlet. Yes, <strong>GAS </strong>outlet and the most interesting thing is it is in every room so technically I could run Gas heaters (which someone told me are cheaper than electrical counterparts) to heat rooms but that's for later on it is still just the beginning of Autumn!</p><h2 id="the-reason-why-i-choose-panasonic-air-conditioners"><br>The reason why I choose Panasonic Air Conditioners</h2><p>One of the main reasons I choose Panasonic was because my living room had Panasonic AC cs-409cfr2-w which was provided with an apartment from all 4 rooms only one living room had AC preinstalled. I had in plan to make my apartment a bit smarter I guess so I found out that Panasonic AC (In Japan don't know other countries as they heavily differ in features) I decided to go with Panasonic as they had special modules which are plugged into AC and then connects to Gateway module which would allow me to control all AC remotely.</p><h2 id="i-wouldn-t-be-an-engineer-if-i-would-not-try-to-take-apart-them-before-they-were-installed-by-professionals">I wouldn't be an engineer if I would not try to take apart them before they were installed by professionals</h2><figure><img src="https://www.techprowd.com/content/images/2020/09/image-10.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-10.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-10.png 1000w, https://www.techprowd.com/content/images/2020/09/image-10.png 1024w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-11.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-11.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-11.png 1000w, https://www.techprowd.com/content/images/2020/09/image-11.png 1024w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-12.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-12.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-12.png 1000w, https://www.techprowd.com/content/images/2020/09/image-12.png 1024w" sizes="(min-width: 720px) 720px"></figure><p>I had to take them apart as I will need to install radio modules myself as I was scared that AC installers going to charge extra as in Japan all services usually cost extra and it's not cheap!</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-13.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-13.png 600w, https://www.techprowd.com/content/images/2020/09/image-13.png 768w" sizes="(min-width: 720px) 720px"></figure><p>One of the things I like about Japan that almost everything has a schematic on there somewhere hidden makes trying to understand things much easier.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-14.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-14.png 600w, https://www.techprowd.com/content/images/2020/09/image-14.png 768w" sizes="(min-width: 720px) 720px"></figure><p>Everything looks so clean!</p><p>This module connects to the LAN and bridges all Panasonic 920Mhz compatible devices to the network.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-15.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-15.png 600w, https://www.techprowd.com/content/images/2020/09/image-15.png 640w"></figure><p>At first look, it didn't look that small, and first thought it was running some arm embedded Linux or similar stuff as it is usual with IoT devices. When it arrived from Amazon I was amazed by how small it is:</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-16.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-16.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-16.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-16.png 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/image-16.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>Again how I would not be tinkerer if I don't take it apart and see which SoC it runs?</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-17.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-17.png 600w, https://www.techprowd.com/content/images/2020/09/image-17.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-18.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-18.png 600w, https://www.techprowd.com/content/images/2020/09/image-18.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-20.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-20.png 600w, https://www.techprowd.com/content/images/2020/09/image-20.png 768w" sizes="(min-width: 720px) 720px"></figure><p>I was amazed as you! I guess it's custom labeled <a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f417ve.html">STM32F417VET6</a> 168Mhz ARM Cortex-M4! It's not even ARM9 or anything. </p><p>Considering it managers something similar to the <a href="https://en.wikipedia.org/wiki/6LoWPAN">6LoWPAN</a> network, act as <a href="https://echonet.jp/hems_en/">Echonet Lite (Japanese home automation internet protocol)</a> gateway, and also communicates with Panasonic servers as the Panasonic AC app works even outside the home internet network. I was amazed at how much they cramped inside it.</p><p>It uses <a href="http://file.elecfans.com/web1/M00/99/0F/o4YBAF0VytaAI7ezABH66fmIRIg854.pdf?filename=RTL8201F-VB-CG.pdf">Realtek RTL8201FR</a> Ethernet PHY Receiver for ethernet communication and <a href="https://www.silabs.com/wireless/proprietary/ezradiopro-sub-ghz-ics/device.si4432">Silicon Labs Si4432</a> Wireless Transceiver.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-21.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-21.png 600w, https://www.techprowd.com/content/images/2020/09/image-21.png 640w"></figure><p>This module plugs into the AC indoor unit mainboard.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-22.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-22.png 600w, https://www.techprowd.com/content/images/2020/09/image-22.png 768w" sizes="(min-width: 720px) 720px"></figure><p>Same radio transceiver but no idea about MCU as it proprietary something sad...</p><h2 id="installation-day">Installation day</h2><p>Early morning Japanese AC installers ringed at the door and came to install my AC's for which I have waited for over a month (It is summer period pretty busy I guess) I was already ready to install myself as I have watched enough of youtube videos to know how everything goes just needed to rent tools but sadly I had already paid for installation when I bought them.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-23.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-23.png 600w, https://www.techprowd.com/content/images/2020/09/image-23.png 768w" sizes="(min-width: 720px) 720px"></figure><p>The installers were pretty clean and quick-witted with their work it took a few hours to get two units installed!</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-24.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-24.png 600w, https://www.techprowd.com/content/images/2020/09/image-24.png 768w" sizes="(min-width: 720px) 720px"></figure><p>They have some special playdough or something similar to seal the hole.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-25.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-25.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-25.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-25.png 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/image-25.png 2400w" sizes="(min-width: 720px) 720px"></figure><h2 id="air-conditioner-automation">Air Conditioner Automation</h2><p>Panasonic has a pretty decent mobile application to control the air conditioners. (Sadly it's in Japanese)</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-27.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-27.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-27.png 1000w, https://www.techprowd.com/content/images/2020/09/image-27.png 1242w" sizes="(min-width: 720px) 720px"></figure><p>The app was nice but I wanted it to integrate into some other automation services which technically according Panasonic not possible apart Echonet Lite protocol.</p><p>So I spent one Saturday reverse engineering the communication protocol between iOS application and Panasonic Web Servers and managed to make NodeJS based client to their API.</p><figure><a href="https://github.com/aurimasniekis/eolia-client"><div><p>aurimasniekis/eolia-client</p><p>A NodeJS Panasonic Eolia Air Conditioner App API Client - aurimasniekis/eolia-client</p><p><img src="https://github.githubassets.com/favicons/favicon.svg"><span>GitHub</span></p></div><p><img src="https://avatars2.githubusercontent.com/u/15481?s=400&amp;v=4"></p></a></figure><p>Afterward, I spend some time trying to integrate this client with <a href="https://homebridge.io/">HomeBridge</a>. </p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-28.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-28.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-28.png 1000w, https://www.techprowd.com/content/images/2020/09/image-28.png 1242w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-29.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-29.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-29.png 1000w, https://www.techprowd.com/content/images/2020/09/image-29.png 1242w" sizes="(min-width: 720px) 720px"></figure><p>Everything went smoothly until I reached Panasonic API rate limitations some calls required a 2min delay in between calls which made using HomeKit practically impossible as HomeKit updates the accessory state every time you change some parameters. Of course, I could try to buffer those changes and send one request but then it would deny the whole idea of making it quicker to use. So I scrapped the idea but the code is still here if anybody is interested:</p><figure><a href="https://github.com/aurimasniekis/homebridge-eolia"><div><p>aurimasniekis/homebridge-eolia</p><p>A Panasonic Eolia Air Conditionner integration into HomeBridge - aurimasniekis/homebridge-eolia</p><p><img src="https://github.githubassets.com/favicons/favicon.svg"><span>aurimasniekis</span><span>GitHub</span></p></div><p><img src="https://avatars2.githubusercontent.com/u/15481?s=400&amp;v=4"></p></a></figure><p>So what I can do to make it better. Then I found out that Panasonic Wireless Gateway also exposes as Echonet Lite gateway and all air conditioners are available to be commanded via it without any limitations. After playing around with several libraries (Compared to other protocols and automation standards these severely lacks community libraries 😣) I managed to produce some code that was able to control ACs with the easy and best thing it's instant and no Beeping sound perfect for thermostat style operation!</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-26.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-26.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-26.png 1000w, https://www.techprowd.com/content/images/2020/09/image-26.png 1045w" sizes="(min-width: 720px) 720px"></figure><p>So far I haven't done anything more regarding Echonet Lite integration but I have some plans which I want to work on one of them is to make the Echonet Lite to Web API bridge interface but this time to use Golang as I have done some light coding in a different project (Which I am going to soon release an article about pretty soon)</p><p>The next article in this series will be my home office workbench design and construction.</p>
                </div>
            </section></div>]]>
            </description>
            <link>https://www.techprowd.com/home-office-projects-series-air-conditioner-setup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24364080</guid>
            <pubDate>Thu, 03 Sep 2020 13:57:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Picasso, Schoenberg, Moss: how humans unlock social capital and spark progress]]>
            </title>
            <description>
<![CDATA[
Score 72 | Comments 18 (<a href="https://news.ycombinator.com/item?id=24363273">thread link</a>) | @anacleto
<br/>
September 3, 2020 | https://blog.leonardofederico.com/2020/08/how-humans-unlock-social-capital.html | <a href="https://web.archive.org/web/*/https://blog.leonardofederico.com/2020/08/how-humans-unlock-social-capital.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h3>
<a href="https://blog.leonardofederico.com/2020/08/how-humans-unlock-social-capital.html">Picasso, Schoenberg, Moss: how humans unlock social capital</a>
</h3><p>
(See <a href="https://news.ycombinator.com/item?id=24363273">HN thread</a> here.)</p><p>

Once every while I read something that changes my perspective on things. Usually, not because it reveals a ground-breaking truth, but because it helps me connect the dots backward. Suddenly, things are now integral parts of a larger picture and everything makes more sense.</p><p>

A year ago I read this piece from Eugene Wei: <a href="https://www.eugenewei.com/blog/2019/2/19/status-as-a-service" target="_blank">Status as a Service</a>.</p><p>

Eugene writes:</p><blockquote>
Why does proof of work matter for a social network? If people want to maximize social capital, why not make that as easy as possible? As with cryptocurrency, if it were so easy, it wouldn't be worth anything. Value is tied to scarcity, and scarcity on social networks derives from proof of work. Status isn't worth much if there's no skill and effort required to mine it. It's not that a social network that makes it easy for lots of users to perform well can't be a useful one, but competition for relative status still motivates humans. Recall our first tenet: humans are status-seeking monkeys. Status is a relative ladder. By definition, if everyone can achieve a certain type of status, it’s no status at all, it’s a participation trophy.</blockquote><p>
He continues:</p><blockquote>
Read Twitter today and hardly any of the tweets are the mundane life updates of its awkward pre-puberty years. We are now in late-stage performative Twitter, where nearly every tweet is hungry as hell for favorites and retweets, and everyone is a trained pundit or comedian. It's hot takes and cool proverbs all the way down. The harmless status update Twitter was a less thirsty scene but also not much of a business. Still, sometimes I miss the halcyon days when not every tweet was a thirst trap. I hate the new Kanye, the bad mood Kanye, the always rude Kanye, spaz in the news Kanye, I miss the sweet Kanye, chop up the beats Kanye.</blockquote><p>
Then, goes:</p><blockquote>
So, to answer an earlier question about how a new social network takes hold, let’s add this: a new Status as a Service business must devise some proof of work that depends on some actual skill to differentiate among users. If it does, then it creates, like an ICO, some new form of social capital currency of value to those users.</blockquote>
<p>
This didn't just resonate with me. It helped me understand on a deeper level how and why visual arts, aesthetics, music, and human taste in general develop.</p><p>

Let’s start from the ground up.</p><p>

In a few words, the article states that:</p><ul>
<li>Social Networks to thrive need a <i>proof of concept</i></li>
<li>Prohibitions spark human creativity in a newly formed area</li>
<li>Humans, then, leverage that creativity to attract social capital and compete against each other in the newly formed arena</li>
</ul><p>
Over a long enough timeline, all the social capital available in a certain system gets allocated.</p><p>

The more we understand a system, the more effective we are at allocating social capital in it. Hence, we need new restrictions to unlock new human creativity and feed new social capital back into the system.</p><p>

This can explain on some levels how Social Networks develops, but I wondered what else? Are there are other fields where this theory applies just as well?</p><h3>
1. Painting: Cubism</h3>
<p>
For centuries, visual arts was one of the major arenas where human intellects competed. For centuries, humans challenged each other by representing reality through mere copies of the same instance.</p><p>

And gradually, we were able to go from this..</p><p>

<img alt="La pinacoteca del deserto | Wall Street International Magazine" src="https://media.wsimag.com/attachments/b875394fe3e10f195aaf936aedab87d5379b5f93/store/fill/930/523/d201b041400d593bd503ef96371789c31f312481cfd248f0a901c5876477/Pitture-rupestri-di-Jabbaren-nominate-le-libere-donne-di-Jabbaren.jpg"></p><p>

To this:</p><p>

<img alt="Frederic Edwin Church | Biography, Art, &amp; Facts | Britannica" src="https://cdn.britannica.com/88/69588-050-87EF851C/View-Cotopaxi-oil-canvas-Frederic-Edwin-Church-1857.jpg"></p><p>

Connects the dots and see how linear was the progression in the aesthetic. Over time, humans became quite extraordinary at this exercise.</p><p>

Renaissance, impressionism, pointillism, abstract expressionism, realism, etc, were all micro-steps part of the same bigger effort: representing the reality for what it is.</p><p>

Social capital in that area was progressively getting allocated up to the point where there was no much left to. Over centuries of incremental progress, we got the point where we mastered the <i>proof of work</i>.</p><p>

So, we needed a radically new thing. A new greenfield and new proofs of concept.</p><p>

Introducing cubism.</p><p>

<img alt="Georges Braque 1882–1963 | Tate" src="https://www.tate.org.uk/art/images/work/T/T00/T00445_9.jpg"></p><p>

Unlike any of the prior movements, cubisms challenged the fundamental rules, the basic assumptions upon which the system was constructed. Reality should be represented as<i>&nbsp;it is</i>.</p><p>

This new <i>proof of work</i> emphasized a flat, two-dimensional surface. It rejected the traditional techniques of perspective, foreshortening, modeling, chiaroscuro, etc, and refuted time-honored theories of art as the imitation of nature.</p><p>

For the first time in history, painters were not bound to copying form, texture, color, space, etc. That was too well understood. They were called to present reality in radically fragmented objects, whose several sides were seen simultaneously.</p><p>

The movement was pioneered by Braque who made the original proof of concept but it was Picasso who really extracted much of the social capital that came out of it.</p><h3>
2. Music: Dodecaphony (or Twelve-tonic technique, or Chromaticism)</h3><p>
First, Bach, the real explorer of Classic composition.</p><p>

Then Mozart, and Beethoven.</p><p>

Then Chopin, Debussy, and Ravel.</p><p>

Different styles emerged across centuries (from Baroque to Late Romantic) but the ground rules in the classical composition didn’t really change.</p><p>

Let me explain.</p><p>

In traditional Western music, tonality is a means of organizing pitch in accordance with the physics of sound. A fundamental tone — say, C in a C major scale — is central; the other pitches relate to it in a hierarchy of importance based on natural overtone relationships. So, whatever happens, the music keeps returning to that fundamental tonal mooring.</p><p>

This is such a key aspect in music because it provides a sense of arrival and rest.</p><p>

All Western classical and pop music relies on the idea that, no matter what, we'll eventually get to "home base".</p><p>

Leveraging this musical axiom, musical composition techniques that had been prepared over centuries&nbsp;made it possible in the 18th century to write music that was original and immediately appealing but also sophisticated under the surface.</p><p>

And by the end of the 18th century, a lot of low-hanging fruit was picked and much of the social capital in the system was already allocated in the hands of few. There wasn't much left to discover.</p><p>

In 19th-century composers,&nbsp;Wagner, Mahler, Debussy, originality frequently came at the cost of greater surface complexity, and a less direct, cheerful tone.</p><p>

It was clear that humans needed new ground-up rules to compete.</p><p>

Schoenberg was one of the first to realize&nbsp;that new innovation could only be unlocked by re-thinking the ground-rules. So he invented a new<a href="http:/#" target="_blank">&nbsp;compositional technique:&nbsp;</a><a href="http:/#" target="_blank">twelve-tonic.</a></p><p>

<img alt="Arnold Schoenberg : Quartetto per Archi - Analisi Musicale" src="https://www.armoniamusicale.com/wp-content/uploads/Schoenberg-quartetto.jpg"></p><p>

Shoenberg's twelve tonic technique comes with no musical tonality. All 12 pitches of the chromatic scale are sounded as often as one another in a piece of music without emphasis on any specific note. In other words, all 12 notes are thus given more or less equal importance, and the music avoids being in a key. Consequentially, there can't home base.</p><p>

It was a radically new game.</p><p>

Shoenberg's new musical arena unlocked new social capital and many of the composers of the 20th century competed on those new rules.</p><p>

Several giants explored the 12-tone technique as well: not only Stravinsky, whose move into the enemy camp shook up the world of modern music but also Messiaen and Copland.</p><p>

Looking backward, we can say the invention of the 12-tone system was arguably the most audacious and influential development in 20th-century music.</p><h3>
3. Fashion: Kate Moss</h3>
<p>
The world of the 19th century was a world in which the canons of beauty were sculptured.</p><p>

Up to the point where the whole fashion scene was dominated by the same characters: Cindy Crawford, Naomi Campbell, Sharon Stone, etc.</p><p>

That was a solved game.</p><p>

It was in that world, that <a href="http://fashion.telegraph.co.uk/news-features/TMG10364017/Corinne-Day-the-woman-who-discovered-Kate-Moss.html" target="_blank">Corinne Day discovered a new way to represent beauty</a>.</p><p>

Not through the canonical blonde/long hair, nor the perfect-looking skin or the mesmerizing white of the teeth.</p><p>

C. Day used the cheeky expression of a 16yo suburban skinny girl named Kate Moss to show the world an entirely new idea of aesthetics.</p><p>

Way far from what were the conventions of the time.</p><p>

Not colorful, but black and white photos.<br>
Not sinuous, but skinny body forms.<br>
Not perfect-looking, but seemingly sloppy dresses.<br>
Not cheerful, but melancholic tones.</p><p>

<img alt="calvin klein kate moss Tiziano Magni kate-jam-and-diamonds •" src="https://38.media.tumblr.com/0d7209dc40fe05243c9a9ea65b3da5b1/tumblr_n22mc1djTU1r9tciko1_500.jpg"></p><p>

It was a totally different game with totally different rules.</p><p>

The effects were immediate. Existing players were&nbsp;outplayed, new social capital was unlocked, and new icons emerged.</p><p>

Moss did to Campbell, what Braque did to Manet, and what Shoenberg did to centuries of Mozart.</p><p>

Centuries of slow but incremental linear development lost in a matter of a few years.</p><p>

Visual arts, philosophy, music, and many realms get periodically rearranged according to the same principles: when there’s no more Social Capital left on the table either because it eroded over centuries or because it was consolidated in the hands of just a few winners.</p><p>

After all, we're all are status-seeking monkeys seek out the most efficient path to maximizing social capital.</p><p>


Others essays to further explore this topic:</p><ul>
<li><a href="https://www.lesswrong.com/posts/CeZXDmp8Z363XaM6b/discontinuous-progress-in-history-an-update">https://www.lesswrong.com/posts/CeZXDmp8Z363XaM6b/discontinuous-progress-in-history-an-update</a></li>
<li><a href="https://www.youtube.com/watch?v=RWiABXiKSKo">https://www.youtube.com/watch?v=RWiABXiKSKo</a></li>
<li><a href="https://www.nytimes.com/2007/10/14/arts/music/14tomm.html">https://www.nytimes.com/2007/10/14/arts/music/14tomm.html</a></li>
</ul>

</div></div>]]>
            </description>
            <link>https://blog.leonardofederico.com/2020/08/how-humans-unlock-social-capital.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24363273</guid>
            <pubDate>Thu, 03 Sep 2020 12:22:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Introduction to React Hooks]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24363242">thread link</a>) | @mariuz
<br/>
September 3, 2020 | https://www.robinwieruch.de/react-hooks | <a href="https://web.archive.org/web/*/https://www.robinwieruch.de/react-hooks">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody"><p>React Hooks were introduced at <a href="https://www.youtube.com/watch?v=dpw9EHDh2bM" target="_blank" rel="noopener noreferrer">React Conf October 2018</a> as a way to use state and side-effects (see lifecycle methods in class components) in React function components. Whereas function components have been called functional stateless components (FSC) before, they are finally able to use state with React Hooks and therefore many people refer to them as function components now.</p><p>In this walkthrough, I want to explain the motivation for React Hooks, what will change in React, and how React hooks can be used in function components by showcasing common React Hooks such as the state and effect Hooks by example. This tutorial is only an introduction to React Hooks. At the end of this tutorial, you will find many more tutorials to learn about React Hooks in depth.</p><h2 id="why-react-hooks"><a href="#why-react-hooks" target="_blank" rel="noopener noreferrer" aria-label="why react hooks permalink"><svg height="0" width="0"></svg></a>Why React Hooks?</h2><p>React Hooks were invented by the React team to introduce state management and side-effects in <a itemprop="url" href="https://www.robinwieruch.de/react-function-component">function components</a>. It's their way of making it more effortless to use only React function components without the need to refactor a React function component to a React class component for using lifecycle methods, in order to use have side-effects, or local state. React Hooks enable us to write React applications with only function components. Thus, there is no need to use class components anymore.</p><p><strong>Unnecessary Component Refactorings:</strong> Function components with React Hooks prevent unnecessary component refactorings. Previously, only React class components were used for local state management and lifecycle methods. The latter have been essential for introducing side-effects, such as listeners or data fetching, in React class components. The following shows a React class component with state management:</p><pre><pre><p><span>import</span><span> React</span><span>,</span><span> </span><span>{</span><span> Component </span><span>}</span><span> </span><span>from</span><span> </span><span>'react'</span><span>;</span><span></span></p><p><span></span><span>class</span><span> </span><span>Counter</span><span> </span><span>extends</span><span> </span><span>Component</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>constructor</span><span>(</span><span>props</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>super</span><span>(</span><span>props</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>this</span><span>.</span><span>state </span><span>=</span><span> </span><span>{</span><span></span></p><p><span>      count</span><span>:</span><span> </span><span>0</span><span>,</span><span></span></p><p><span>    </span><span>}</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>render</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>      </span><span>&lt;</span><span>div</span><span>&gt;</span><span></span></p><p><span>        </span><span>&lt;</span><span>p</span><span>&gt;</span><span>You clicked </span><span>{</span><span>this</span><span>.</span><span>state</span><span>.</span><span>count</span><span>}</span><span> times</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>        </span><span>&lt;</span><span>button</span><span></span></p><p><span>          </span><span>onClick</span><span>=</span><span>{</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span></span></p><p><span>            </span><span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span> count</span><span>:</span><span> </span><span>this</span><span>.</span><span>state</span><span>.</span><span>count </span><span>+</span><span> </span><span>1</span><span> </span><span>}</span><span>)</span><span></span></p><p><span>          </span><span>}</span><span></span></p><p><span>        </span><span>&gt;</span><span></span></p><p><span>          Click me</span></p><p><span>        </span><span>&lt;/</span><span>button</span><span>&gt;</span><span></span></p><p><span>      </span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span></p><p><span>    </span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>export</span><span> </span><span>default</span><span> Counter</span><span>;</span><span></span></p></pre></pre><p>Only if you didn't need state or lifecycle methods, React functional <em>stateless</em> components could be used. And because React function components are more lightweight (and elegant), people already used plenty of function components. This came with the drawback of refactoring components from React function components to React class components every time state or lifecycle methods were needed (and vice versa). With Hooks there is no need for this refactoring. Side-effects and state are finally available in React function components. That's why a rebranding from functional stateless components to function components would be reasonable:</p><pre><pre><p><span>import</span><span> React </span><span>from</span><span> </span><span>'react'</span><span>;</span><span></span></p><p><span></span><span>function</span><span> </span><span>Counter</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>const</span><span> </span><span>[</span><span>count</span><span>,</span><span> setCount</span><span>]</span><span> </span><span>=</span><span> React</span><span>.</span><span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>    </span><span>&lt;</span><span>div</span><span>&gt;</span><span></span></p><p><span>      </span><span>&lt;</span><span>p</span><span>&gt;</span><span>You clicked </span><span>{</span><span>count</span><span>}</span><span> times</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>      </span><span>&lt;</span><span>button</span><span> </span><span>onClick</span><span>=</span><span>{</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>setCount</span><span>(</span><span>count </span><span>+</span><span> </span><span>1</span><span>)</span><span>}</span><span>&gt;</span><span></span></p><p><span>        Click me</span></p><p><span>      </span><span>&lt;/</span><span>button</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span></p><p><span>  </span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>export</span><span> </span><span>default</span><span> Counter</span><span>;</span><span></span></p></pre></pre><p><strong>Side-effect Logic:</strong> In React class components, side-effects were mostly introduced in lifecycle methods (e.g. componentDidMount, componentDidUpdate, componentWillUnmount). A side-effect could be <a itemprop="url" href="https://www.robinwieruch.de/react-fetching-data">fetching data in React</a> or <a itemprop="url" href="https://www.robinwieruch.de/react-intersection-observer-api">interacting with the Browser API</a>. Usually these side-effects came with a setup and clean up phase. For instance, if you would miss to remove your listener, you could run into <a itemprop="url" href="https://www.robinwieruch.de/react-warning-cant-call-setstate-on-an-unmounted-component">React performance issues</a>.</p><pre><pre><p><span>import</span><span> React </span><span>from</span><span> </span><span>'react'</span><span>;</span><span></span></p><p><span></span><span>class</span><span> </span><span>MyComponent</span><span> </span><span>extends</span><span> </span><span>React</span><span>.</span><span>Component</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>componentDidMount</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>componentWillUnmount</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>...</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>function</span><span> </span><span>MyComponent</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  React</span><span>.</span><span>useEffect</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  React</span><span>.</span><span>useEffect</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>...</span><span></span></p><p><span></span><span>}</span><span></span></p></pre></pre><p>Now, if you would introduce more than one of these side-effects in a React class component's lifecycle methods, all side-effects would be grouped by lifecycle method but not by side-effect. That's what React Hooks are going to change by encapsulating a side-effect in one hook whereas every hook has its own side-effect with a setup and clean up phase. You will see later in a tutorial how this works for real by adding and removing listeners in a React Hook.</p><p><strong>React's Abstraction Hell:</strong> Abstraction and thus reusability were introduced with <a itemprop="url" href="https://www.robinwieruch.de/react-higher-order-components">Higher-Order Components</a> and <a itemprop="url" href="https://www.robinwieruch.de/react-render-props">Render Prop Components</a> in React. There is also <a itemprop="url" href="https://www.robinwieruch.de/react-context">React's Context with its Provider and Consumer Components</a> that introduce another level of abstraction. All of these advanced patterns in React are using so called wrapping components. The implementation of the following components shouldn't be foreign to developers who are creating larger React applications:</p><pre><pre><p><span>import</span><span> React </span><span>from</span><span> </span><span>'react'</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> compose</span><span>,</span><span> withReducer </span><span>}</span><span> </span><span>from</span><span> </span><span>'recompose'</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> withRouter </span><span>}</span><span> </span><span>from</span><span> </span><span>'react-router-dom'</span><span>;</span><span></span></p><p><span></span><span>function</span><span> </span><span>App</span><span>(</span><span>{</span><span> history</span><span>,</span><span> state</span><span>,</span><span> dispatch </span><span>}</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>    </span><span>&lt;</span><span>ThemeContext.Consumer</span><span>&gt;</span><span></span></p><p><span>      </span><span>{</span><span>theme</span><span> </span><span>=&gt;</span><span></span></p><p><span>        </span><span>&lt;</span><span>Content</span><span> </span><span>theme</span><span>=</span><span>{</span><span>theme</span><span>}</span><span>&gt;</span><span></span></p><p><span>          </span><span>...</span><span></span></p><p><span>        </span><span>&lt;/</span><span>Content</span><span>&gt;</span><span></span></p><p><span>      </span><span>}</span><span></span></p><p><span>    </span><span>&lt;/</span><span>ThemeContext.Consumer</span><span>&gt;</span><span></span></p><p><span>  </span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>export</span><span> </span><span>default</span><span> </span><span>compose</span><span>(</span><span></span></p><p><span>  withRouter</span><span>,</span><span></span></p><p><span>  </span><span>withReducer</span><span>(</span><span>reducer</span><span>,</span><span> initialState</span><span>)</span><span></span></p><p><span></span><span>)</span><span>(</span><span>App</span><span>)</span><span>;</span><span></span></p></pre></pre><p>Sophie Alpert coined it "the wrapper hell" in React. You are not only seeing it in the implementation, but also when inspecting your components in the browser. There are dozens of wrapped components due to Render Prop Components (including Consumer components from React's Context) and Higher-Order Components. It becomes an unreadable component tree, because all the abstracted logic is covered up in other React components. The actual visible components are hard to track down in the browser's DOM. So what if these additional components were not needed because the logic is only encapsulated in functions as side-effects instead? Then you would remove all these wrapping components and flatten your component tree's structure:</p><pre><pre><p><span>import</span><span> React </span><span>from</span><span> </span><span>'react'</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> useTheme </span><span>}</span><span> </span><span>from</span><span> </span><span>'styled-components'</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> useRouter </span><span>}</span><span> </span><span>from</span><span> </span><span>'react-router-dom'</span><span>;</span><span></span></p><p><span></span><span>function</span><span> </span><span>App</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>const</span><span> theme </span><span>=</span><span> </span><span>useTheme</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>const</span><span> history </span><span>=</span><span> </span><span>useRouter</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>const</span><span> </span><span>[</span><span>state</span><span>,</span><span> dispatch</span><span>]</span><span> </span><span>=</span><span> React</span><span>.</span><span>useReducer</span><span>(</span><span>reducer</span><span>,</span><span> initialState</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>    </span><span>&lt;</span><span>Content</span><span> </span><span>theme</span><span>=</span><span>{</span><span>theme</span><span>}</span><span>&gt;</span><span></span></p><p><span>      </span><span>...</span><span></span></p><p><span>    </span><span>&lt;/</span><span>Content</span><span>&gt;</span><span></span></p><p><span>  </span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>export</span><span> </span><span>default</span><span> App</span><span>;</span><span></span></p></pre></pre><p>That's what React Hooks are bringing on the table. All side-effects are sitting directly in the component without introducing other components as container for business logic. The container disappears and the logic just sits in React Hooks that are only functions. Even <a href="https://github.com/acdlite/recompose/commit/7867de653abbb57a49934e52622a60b433bda918" target="_blank" rel="noopener noreferrer">Andrew Clark left a deprecation statement in favor of React Hooks in his popular Higher-Order Component library</a>.</p><p><strong>JavaScript Class Confusion:</strong> JavaScript mixes two worlds pretty well: Object-oriented programming (OOP) and functional programming (FP). React introduces many developers to both worlds. On the one side, React (and <a itemprop="url" href="https://www.robinwieruch.de/redux-javascript">Redux</a>) introduced people to functional programming (FP) with function compositions, general programming concepts with functions (e.g. higher-order functions, JavaScript built-in methods like map, reduce, filter) and other terms such as immutability and side-effects. React itself didn't really introduce these things, because they are features of the language or the programming paradigm itself, but they are heavily used in React whereas <a itemprop="url" href="https://www.robinwieruch.de/javascript-fundamentals-react-requirements">every React developer becomes automatically a better JavaScript developer</a>.</p><p>On the other side, React uses JavaScript classes as one way to define React components. A class is only the declaration whereas the actual usage of the component is the instantiation of it. It creates a class instance whereas the <code>this</code> object of the class instance is used to interact with class methods (e.g. setState, forceUpdate, other custom class methods). However, classes come with a steeper learning curve for JavaScript/React beginners who are not coming from an OOP background. That's why class bindings, the <code>this</code> object and inheritance (<a href="https://reactjs.org/docs/composition-vs-inheritance.html" target="_blank" rel="noopener noreferrer">which should be avoided anyway</a>) can be confusing.</p><pre><pre><p><span></span><span>class</span><span> </span><span>Counter</span><span> </span><span>extends</span><span> </span><span>Component</span><span> </span><span>{</span><span></span></p><p><span>  state </span><span>=</span><span> </span><span>{</span><span> value</span><span>:</span><span> </span><span>0</span><span> </span><span>}</span><span>;</span><span></span></p><p><span>  </span><span>onIncrement</span><span> </span><span>=</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>this</span><span>.</span><span>setState</span><span>(</span><span>state</span><span> </span><span>=&gt;</span><span> </span><span>(</span><span>{</span><span></span></p><p><span>      value</span><span>:</span><span> state</span><span>.</span><span>value </span><span>+</span><span> </span><span>1</span><span></span></p><p><span>    </span><span>}</span><span>)</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>;</span><span></span></p><p><span>  </span><span>onDecrement</span><span> </span><span>=</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>this</span><span>.</span><span>setState</span><span>(</span><span>state</span><span> </span><span>=&gt;</span><span> </span><span>(</span><span>{</span><span></span></p><p><span>      value</span><span>:</span><span> state</span><span>.</span><span>value </span><span>-</span><span> </span><span>1</span><span></span></p><p><span>    </span><span>}</span><span>)</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>;</span><span></span></p><p><span>  </span><span>render</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>      </span><span>&lt;</span><span>div</span><span>&gt;</span><span></span></p><p><span>        </span><span>{</span><span>this</span><span>.</span><span>state</span><span>.</span><span>value</span><span>}</span><span></span></p><p><span>        </span><span>{</span><span>}</span><span></span></p><p><span>        </span><span>&lt;</span><span>button</span><span> </span><span>onClick</span><span>=</span><span>{</span><span>this</span><span>.</span><span>onIncrement</span><span>}</span><span>&gt;</span><span>+</span><span>&lt;/</span><span>button</span><span>&gt;</span><span></span></p><p><span>        </span><span>&lt;</span><span>button</span><span> </span><span>onClick</span><span>=</span><span>{</span><span>this</span><span>.</span><span>onDecrement</span><span>}</span><span>&gt;</span><span>-</span><span>&lt;/</span><span>button</span><span>&gt;</span><span></span></p><p><span>      </span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span></p><p><span>    </span><span>)</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span><span></span></p></pre></pre><p>Now, many people argue React shouldn't take JavaScript classes away because people don't understand them. After all, they belong to the language. However, one of the hypotheses of introducing React Hooks is a smoother learning curve for React beginners when writing their React components without JavaScript classes in the first place.</p><h3 id="exercises"><a href="#exercises" target="_blank" rel="noopener noreferrer" aria-label="exercises permalink"><svg height="0" width="0"></svg></a>Exercises:</h3><ul><li>Read more about <a itemprop="url" href="https://www.robinwieruch.de/react-function-component">React Function Components</a>.</li><li>Read more about <a itemprop="url" href="https://www.robinwieruch.de/react-component-composition">Composition in React</a>.</li></ul><h2 id="whats-different-with-react-hooks"><a href="#whats-different-with-react-hooks" target="_blank" rel="noopener noreferrer" aria-label="whats different with react hooks permalink"><svg height="0" width="0"></svg></a>What's different with React Hooks?</h2><p>Every time a new feature is introduced, people are concerned about it. There is one side of the group that is ecstatic about the change, and the other side that fears the change. I heard the most common concerns for React Hooks are:</p><ul><li>Everything changes! <em>Subtle panic mode ...</em></li><li>React is becoming bloated like Angular!</li><li>It's useless, classes worked fine.</li><li>It's magic!</li></ul><p>Let me address these concerns here:</p><p><strong>Everything changes:</strong> React Hooks will change how we write React applications in the future. However, at the moment, nothing changes. You can still write class components with local state and lifecycle methods and deploy advanced patterns such as Higher-Order Components or Render Prop Components. Nobody takes these learnings away from you. See how I upgraded all my open source projects from older versions to React 16.6. and none of of these projects had problems. They are using HOCs, Render Props and I believe even the old context API (correct me if am wrong). Everything I have learned all these years still works. The React team makes sure that React stays backward compatible. It will be the same with React 16.7.</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.robinwieruch.de/static/0bbd5d89bb0bb593c9a89447e5b5fd5c/f4e34/react-upgrades.webp 256w,https://www.robinwieruch.de/static/0bbd5d89bb0bb593c9a89447e5b5fd5c/bd5dd/react-upgrades.webp 512w,https://www.robinwieruch.de/static/0bbd5d89bb0bb593c9a89447e5b5fd5c/a9a89/react-upgrades.webp 1024w" sizes="(max-width: 1024px) 100vw, 1024px" type="image/webp">
        <source srcset="https://www.robinwieruch.de/static/0bbd5d89bb0bb593c9a89447e5b5fd5c/e4a55/react-upgrades.jpg 256w,https://www.robinwieruch.de/static/0bbd5d89bb0bb593c9a89447e5b5fd5c/36dd4/react-upgrades.jpg 512w,https://www.robinwieruch.de/static/0bbd5d89bb0bb593c9a89447e5b5fd5c/72e01/react-upgrades.jpg 1024w" sizes="(max-width: 1024px) 100vw, 1024px" type="image/jpeg">
        <img src="https://www.robinwieruch.de/static/0bbd5d89bb0bb593c9a89447e5b5fd5c/72e01/react-upgrades.jpg" alt="react backward compatibility" title="react backward compatibility" loading="lazy">
      </picture>
    </span></p><p><strong>React is becoming bloated like Angular:</strong> React was always seen as a library with a slim API. That's true and shall be true in the future. However, in order to adjust things …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.robinwieruch.de/react-hooks">https://www.robinwieruch.de/react-hooks</a></em></p>]]>
            </description>
            <link>https://www.robinwieruch.de/react-hooks</link>
            <guid isPermaLink="false">hacker-news-small-sites-24363242</guid>
            <pubDate>Thu, 03 Sep 2020 12:19:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Earth's mountains form in millions of years, Moon ones near instantaneously]]>
            </title>
            <description>
<![CDATA[
Score 90 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24363074">thread link</a>) | @uncertainquark
<br/>
September 3, 2020 | https://jatan.space/exploring-moon-mountains/ | <a href="https://web.archive.org/web/*/https://jatan.space/exploring-moon-mountains/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
		
	<main id="content" role="main">

	<div>
		<div>
						<article id="post-4045">
				<div>
<p>Unlike the millions of years it takes for most mountains on Earth to form, lunar mountains crop out near instantaneously, geologically speaking.</p>



<p>Earth’s mountains primarily form when two colliding plates of the Earth’s crust lift up volumes of rock, slowly creating an elevated landform. Over millions of years, wind, water and gravity erode these uplifted sections, wearing their surface to make the mountains we are familiar with today.</p>



<p>But the Moon has no plate tectonics, atmosphere or running water. How then does it boast mountains several kilometers high? For instance, <a href="https://moontoday.jatan.space/2019/03/18/mount-as-high-as-everest-zeeman-mons/">Zeeman Mons</a> on the lunar farside peaks as tall as Mount Everest.</p>



<p>The answer lies in the one of the most apparent features on the Moon – craters.</p>



<p>Most lunar craters are <a href="https://moontoday.jatan.space/2019/05/27/what-does-a-fresh-crater-look-like-hell/">small and bowl-shaped</a>, formed when asteroids and comets impact the surface. This shape persists for crater sizes up to about 20 kilometers. Larger craters display more complexity.</p>



<p>The force imparted on the Moon’s surface by larger asteroids and comets, especially those with high velocities, can be tremendous. In such cases, in addition to a crater being formed, the surface in and around the impact point is compressed further. This causes the crust to melt. When the melted crust can’t be compressed any further, it bounces right back up, forming a central mountain. This process is visualized in the GIF below.</p>







<p>Most lunar mountains are formed by this highly energetic process that takes a geologically negligible passage of time. The kilometer-plus high central peaks of the young, city-sized <a href="https://moontoday.jatan.space/2019/03/11/glorious-aristarchus/">Aristarchus crater</a> and 86-kilometer-wide <a href="https://moontoday.jatan.space/2018/10/15/tycho-crater/">Tycho crater</a> are fine examples.</p>







<figure><img loading="lazy" width="1200" height="633" src="https://i2.wp.com/jatan.space/wp-content/uploads/2020/09/tycho-mountain-lro.jpg?resize=1200%2C633&amp;ssl=1" alt="" srcset="https://i2.wp.com/jatan.space/wp-content/uploads/2020/09/tycho-mountain-lro.jpg?w=1870&amp;ssl=1 1870w, https://i2.wp.com/jatan.space/wp-content/uploads/2020/09/tycho-mountain-lro.jpg?resize=1024%2C540&amp;ssl=1 1024w, https://i2.wp.com/jatan.space/wp-content/uploads/2020/09/tycho-mountain-lro.jpg?resize=200%2C105&amp;ssl=1 200w, https://i2.wp.com/jatan.space/wp-content/uploads/2020/09/tycho-mountain-lro.jpg?resize=768%2C405&amp;ssl=1 768w, https://i2.wp.com/jatan.space/wp-content/uploads/2020/09/tycho-mountain-lro.jpg?resize=1536%2C810&amp;ssl=1 1536w, https://i2.wp.com/jatan.space/wp-content/uploads/2020/09/tycho-mountain-lro.jpg?resize=1200%2C633&amp;ssl=1 1200w" sizes="(max-width: 1200px) 100vw, 1200px" data-recalc-dims="1"><figcaption>The central peak of Tycho crater.&nbsp;<a rel="noreferrer noopener" href="http://lroc.sese.asu.edu/posts/384" target="_blank">Credit: NASA LRO</a></figcaption></figure>



<p>Aristarchus crater was one of the candidate landing sites for the now-cancelled Apollo 17+ missions. Visiting Aristarchus or Tycho in a future surface mission will allow us to study the exposed lunar interior by the virtue of their central mountains. Craters larger than these offer two central peaks.</p>



<p>The mechanics work such that for larger crater sizes or more energetic impacts, the newly formed central peak splits into two before it can solidify. The 93-kilometer-wide <a href="https://moontoday.jatan.space/2019/04/08/a-peak-inside-the-moon-with-copernicus/">Copernicus</a> and 77-kilometer-wide <a href="https://moontoday.jatan.space/2019/01/21/y-shaped-mountains-in-king-crater/">King</a> craters respectively host two distinct peaks, each towering more than six kilometers!</p>











<p>Apart from allowing scientists to study the lunar interior, such places are key to understanding mechanics of impacts that form such features, found not just on the Moon but across the Solar System.</p>



<h3>Put a ring on it </h3>



<p>For even larger craters, the twin peaks widen into a ring of mountains, like a liquid drop causing a ripple on still water. The 312-kilometer-wide <a href="https://moontoday.jatan.space/2019/06/10/the-crowned-crater-of-schrodinger/">crater of Schrödinger</a> on the Moon’s farside is a well preserved example, despite being almost four billion years old.</p>







<p>A <a href="https://earthandsolarsystem.wordpress.com/2016/06/21/new-paper-a-robotic-mission-concept-to-return-samples-from-the-schrodinger-basin/">mission to Schrödinger</a> can help solve fundamental mysteries about the Moon’s evolution, like if the Moon indeed had a global magma ocean–a hypothesis tied to <a href="https://jatan.space/apollo-moon-origin/">its origin</a>. Further, Schrödinger lies inside the Moon’s largest impact crater, the 2,500-kilometer-wide South Pole-Aitken basin. The impact that created the basin excavated deep into the lunar crust, and perhaps even the mantle. Since Schrödinger formed later, its impact could’ve penetrated deeper and uplifted more materials, offering insights–literally and figuratively–into the lunar interior.</p>



<p>The <a href="https://en.wikipedia.org/wiki/Chicxulub_crater">Chicxulub crater</a> on Earth, linked to the extinction of dinosaurs, is also thought to have formed as a ringed crater, but wore down of its original form due to Earth’s active weathering. As such, Schrödinger offers an analog to better understand Chicxulub.</p>



<p>For crater sizes beyond 500 kilometers, you get not one but multiple rings of mountains. The 930-kilometer-wide ancient crater of <a href="https://moontoday.jatan.space/2019/01/07/outstanding-orientale-multi-ring-basin-on-the-moon/">Orientale</a> on the Moon’s farside boasts three mountain rings, most of which is preserved.</p>







<p>Missions to both Schrödinger and Orientale can tell us exactly when did large asteroids and comets excessively bombard bodies in the Solar System. This period of blistering impacts is particularly important as Earth is thought to have gotten its water during this time.</p>



<p>For some ancient craters, like Imbrium on Moon’s nearside, only parts of the outermost mountain ring are visible today. The rest of the interior has been drowned in lava, which you see as dark regions on the Moon. The prominent, arc-shaped mountain range of <a href="https://moontoday.jatan.space/2018/10/08/the-mountain-range-montes-apenninus/">Montes Apenninus</a>, forming Imbrium’s southeast border, stretches 600 kilometers long.</p>







<p>Multi-ring impact basins exist on many other worlds in the Solar System, like <a href="https://airandspace.si.edu/multimedia-gallery/9780640jpg">Caloris</a> on Mercury, <a href="https://www.planetary.org/space-images/20130614_g8gsrngbas01">an unnamed basin</a> on Jupiter’s moon Ganymede, <a href="https://commons.wikimedia.org/wiki/File:Dione_-_Evander_basin.jpg">Evander</a> on Saturn’s moon Dione, and more. Jupiter’s moon Callisto boasts the largest multi-ring basin of the solar system, called <a href="https://en.wikipedia.org/wiki/Valhalla_(crater)">Valhalla</a>, spanning 3800 kilometers wide.</p>







<p>The ubiquity of mountains formed by impacts across the Solar System and their consistent patterns indicate common geological mechanisms. And the Moon being so close to us presents us with an opportunity to study these fundamental processes in planetary science.</p>



<figure><img loading="lazy" width="1200" height="858" src="https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?resize=1200%2C858&amp;ssl=1" alt="" srcset="https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?w=2233&amp;ssl=1 2233w, https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?resize=1024%2C732&amp;ssl=1 1024w, https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?resize=200%2C143&amp;ssl=1 200w, https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?resize=768%2C549&amp;ssl=1 768w, https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?resize=1536%2C1099&amp;ssl=1 1536w, https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?resize=2048%2C1465&amp;ssl=1 2048w, https://i1.wp.com/jatan.space/wp-content/uploads/2020/09/moon-mountains.jpg?resize=1200%2C858&amp;ssl=1 1200w" sizes="(max-width: 1200px) 100vw, 1200px" data-recalc-dims="1"><figcaption>Changing morphology of mountains and craters on the Moon with increasing size. Graphic: Jatan Mehta</figcaption></figure>



<h3>Exploring the mountains</h3>



<p>Moon orbiters use remote sensing techniques to understand the composition of the lunar mountains. But to better understand the composition, structure and origin, surface missions are needed, especially sample return ones to determine precise ages. To that end, NASA had selected several of the above mentioned places as <a href="https://www.lpi.usra.edu/meetings/leag2009/presentations/Day-2%20PM/03-35_Gruener.pdf">candidate landing sites</a> for the now cancelled Constellation program to return humans to the Moon.</p>



<p>However, sending landing and roving missions to lunar mountains is a bit of an engineering hurdle. Most surface missions of the past landed in the dark lunar plains – vast, solidified lava regions that provide a relatively uniform surface for spacecraft to land on. The rocky nature of the mountainous regions make it more difficult to safely touch down on. However, things may change with NASA’s upcoming Artemis missions.</p>



<p>The Artemis program aims to explore the lunar poles in this decade, both <a href="https://www.nasa.gov/content/commercial-lunar-payload-services-overview">robotically</a> and with <a href="https://www.nasa.gov/press-release/nasa-names-companies-to-develop-human-landers-for-artemis-moon-missions">humans</a>. This requires developing precision landing technologies for safe descent on the challenging polar terrain, as a result also enabling surface missions to the lunar mountains. But there is a type of mountain that spacecraft can visit even with present-day technologies.</p>



<p>The Moon has experienced several distinct periods of volcanism in the last four billion years. Lava slowly oozing out of openings on the surface during such times have formed <a href="https://moontoday.jatan.space/2018/11/05/unique-volcanic-domes-of-gruithuisen/">volcanic domes</a>. These domes aren’t as tall as the impact-created mountains and have gentle slopes. China’s third Moon landing mission, Chang’e 5, launching end of 2020 is targeting the largest such lunar dome, Mons Rümker.</p>







<p>The 70-kilometer-wide Mons Rümker is thought to have formed less than two billion years ago. The Chang’e 5 mission aims to bring back samples from the dome and determine its exact age. Since scientists use the Moon to <a href="https://www.planetary.org/articles/0401-the-lunar-chronology">calibrate the timing</a> of events across bodies in the Solar System, analysis of Chang’e 5 samples would be an invaluable addition to happenings in the geologically recent past.</p>



<p>Mountains on the Moon are a marvel that give us a peak (pun intended) into the lunar interior, help discern the chain of events in the Solar System’s evolution and improve our understanding of the physical processes that shape airless worlds everywhere.</p>



<hr>



<blockquote><p>This post was made possible thanks to&nbsp;<a href="https://www.patreon.com/uncertainquark">my Patreon</a> supporters. I don’t display ads to run my blog and instead rely on my readers so if you like my work, consider&nbsp;<a href="https://www.patreon.com/uncertainquark">supporting me</a>.&nbsp;🚀</p></blockquote>



<p><em><a href="https://science.thewire.in/the-sciences/lunar-mountains-craters-landing-sites-solar-system/">Republished</a> by The Wire Science.</em></p>

</div>

			</article>
					</div>
	</div>
</main><!--/.neve-main-->




</div></div>]]>
            </description>
            <link>https://jatan.space/exploring-moon-mountains/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24363074</guid>
            <pubDate>Thu, 03 Sep 2020 11:54:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[India authorises sale of electric vehicles without batteries]]>
            </title>
            <description>
<![CDATA[
Score 127 | Comments 121 (<a href="https://news.ycombinator.com/item?id=24362305">thread link</a>) | @baybal2
<br/>
September 3, 2020 | https://www.electricmotorengineering.com/india-sale-of-electric-vehicles-without-batteries/ | <a href="https://web.archive.org/web/*/https://www.electricmotorengineering.com/india-sale-of-electric-vehicles-without-batteries/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>Batteries comprise 30-40% of the upfront cost. To push electric mobility, the Ministry of Road Transport and Highway (MORTH) of India, announced that all the states and union territories (UTs) <strong>have now been allowed the registration and sale of electric vehicles (EVs) without pre-fitted batteries</strong>.<br>
The move is likely to provide the necessary boost for the<strong> wider adoption of EVs across the country.</strong><br>
Practically, the government is striving to create an ecosystem to accelerate the uptake of electric mobility in the country. This will not only protect the environment and reduce the oil imports but also provide opportunities to the sunrise industry.<br>
What is the situation in India? According to the <a href="https://www.smev.in/"><strong>Society of Manufacturers of Electric Vehicles</strong></a>, the sale of electric vehicles in this country increased by 20% in 2019-20, mainly driven by rising sales of two-wheelers.</p>
    </div></div>]]>
            </description>
            <link>https://www.electricmotorengineering.com/india-sale-of-electric-vehicles-without-batteries/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24362305</guid>
            <pubDate>Thu, 03 Sep 2020 09:32:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Unix `Who` Command]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 38 (<a href="https://news.ycombinator.com/item?id=24361957">thread link</a>) | @warenhor
<br/>
September 3, 2020 | https://gauthier.uk/blog/who/ | <a href="https://web.archive.org/web/*/https://gauthier.uk/blog/who/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="contentBody"><p>While working on a completely different project, I started to ask myself how the <code>who</code> command was working under the hood. In the end, I thought it was a good topic for a blog post.</p><h2 id="who-is-who">Who is <code>who</code></h2><p>Let’s start with the basics. the <code>who</code> command allows you to list the users currently logged on the system.
For example, on my machine:</p><pre><code>$ who
gauthier tty2         2020-08-30 15:06 (tty2)
gauthier pts/1        2020-08-30 15:06 (tmux(1555).%0)
gauthier pts/2        2020-08-30 16:41 (tmux(1555).%6)
gauthier pts/4        2020-08-30 15:57 (tmux(1555).%3)
</code></pre><p>It tells me that I am logged on the “physical” terminal <code>tty2</code> and on three pseudo terminals. Indeed my current session of Gnome Shell is running on <code>tty2</code> and I have 3 <code>tmux</code> windows open.</p><p>But where is it getting those information? Probably from a file as everything is a file with Linux, but let’s check which one and how the data is stored there.</p><h2 id="a-bit-of-reverse-engineering">A bit of reverse engineering</h2><p>In order to see what the <code>who</code> command is doing I could try to find the source code and dig into it. But I found it fun to use <code>strace</code> to check what the process was doing instead. Since we are expecting <code>who</code> to read system files, we can only focus on the <code>open</code> syscalls.</p><pre><code>$ strace who 2&gt;&amp;1 | grep open
openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
openat(AT_FDCWD, "/usr/lib/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
openat(AT_FDCWD, "/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3
openat(AT_FDCWD, "/var/run/utmp", O_RDONLY|O_CLOEXEC) = 3
openat(AT_FDCWD, "/etc/localtime", O_RDONLY|O_CLOEXEC) = 3
</code></pre><p>We can quickly filter what is interesting and what is not. The first files two files <code>/etc/ld.so.cache</code>, <code>/usr/lib/libc.so.6</code> are shared libraries loaded by the process, those are interesting us.</p><p>Then <code>/usr/lib/locale/locale-archive</code>, <code>/var/run/utmp</code> and <code>/etc/localtime</code> are opened. Let’s see what those files are storing.</p><p>When exploring this kind of topics, it is always interesting to first search into the man pages before starting browsing the web. The 5th section of the manual is dedicated to “file formats and conventions” and seems a good place to start.</p><h3 id="locale-archive">locale-archive</h3><pre><code>$ man -wK 5 '/usr/lib/locale/locale-archive'
</code></pre><p>Sends us to <code>locale(5)</code> where we can read:</p><pre><code>The  locale  definition file contains all the information that the localedef(1) command needs to convert it into the binary locale data‐base.
</code></pre><p>The page also sends us to <code>locale(7)</code> for more explanation about those informations:</p><pre><code>A  locale is a set of language and cultural rules. These cover aspects such as language for messages, different character sets, lexico‐graphic conventions, and so on. A program needs to be able to determine its locale and act accordingly to be portable to different cultures.
</code></pre><p>So the <code>who</code> command read from this file, probably using the <code>setlocale(3)</code> function, to find out how the information should be formated and displayed.</p><p>We can actually check it:</p><pre><code>$ LC_ALL='fr_FR.utf8' who
gauthier tty2         Sep  2 11:38 (:1)
gauthier pts/1        Sep  2 12:11 (tmux(2445).%0)
gauthier pts/2        Sep  2 12:37 (tmux(2445).%1)
gauthier pts/3        Sep  2 13:04 (tmux(2445).%2)
</code></pre><p>Indeed, the date is is not formated the same way!</p><h3 id="localtime">localtime</h3><pre><code>$ man -wK 5 '/etc/localtime'
</code></pre><p>Sends us to <code>localtime(5)</code> which explains:</p><pre><code>The /etc/localtime file configures the system-wide timezone of the local system that is used by applications for presentation to the user.
</code></pre><p>Probably <code>who</code> uses this file (or uses a function that is using this file) to print timestamps (columns 4 and 5 of <code>who</code>'s output) using the correct timezone configured by the user.</p><h3 id="utmp">utmp</h3><p>Finally comes <code>/var/run/utmp</code>:</p><pre><code>$ man -wK 5 '/var/run/utmp'
/usr/share/man/man5/utmp.5.gz
</code></pre><p>Where we can read:</p><pre><code>The  utmp  file  allows  one to discover information about who is currently using the system.  There may be more users currently using the system, because not all programs use utmp logging.
</code></pre><p>Great! We found where the <code>who</code> command is getting its data. It would be nice to be able to read this file to get those data without using the <code>who</code> command. Unfortunately:</p><pre><code>The file is a sequence of utmp structures, declared as follows in &lt;utmp.h&gt; (note that this is only one of several definitions around; details depend on the version of libc):
</code></pre><p>At this point we understood what the <code>who</code> command is doing: it is reading <code>/var/run/utmp</code>, parsing the content and formating it nicely. Let’s see if we can reproduce this simple behavior.</p><h3 id="my-own-who">My own <code>who</code></h3><p>What we simply need to do is: open <code>/var/run/utmp</code>, read <code>n</code> bytes (where <code>n</code> is the size of the <code>utmp</code> structure), print the info contained in each structure, continue until we reach the end of the file. With a bit of formating, we can even make it look like the original <code>who</code> command.</p><pre><code>#include &lt;utmp.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;locale.h&gt;

int main() {
  // set the right locale to display the information nicely
  setlocale(LC_ALL, "");

  // open the file
  FILE * file= fopen("/var/run/utmp", "rb");

  // just for safety
  if (file == NULL) {
    return 1;
  }

  // initialize the utmp structure
  struct utmp entry;

  // read the entries from the file one by one
  while (fread(&amp;entry, sizeof(struct utmp), 1, file) != 0) {
    if (entry.ut_type != USER_PROCESS)
      continue;

    // format the date (remember who uses the /etc/localtime?)
    char date[80];
    time_t raw_time = entry.ut_tv.tv_sec;
    struct tm *ts = localtime(&amp;raw_time);
    strftime(date, sizeof(date), "%Y-%m-%d %H:%M", ts);

    // print the output for this entry, tries to mock who's output
    printf("%-8s %-12s %s (%s)\n", entry.ut_user, entry.ut_line, date, entry.ut_host);
  }

  fclose(file);
}
</code></pre><pre><code>$ clang -o who who.c
$ ./who
gauthier tty2         2020-08-31 10:02 (tty2)
gauthier pts/1        2020-08-31 10:03 (tmux(2220).%0)
gauthier pts/2        2020-08-31 10:08 (tmux(2220).%1)
gauthier pts/3        2020-08-31 10:33 (tmux(2220).%5)
</code></pre><p>TADA!</p><p>We can also check with <code>strace</code> if the behavior is the same:</p><pre><code>$ strace ./who 2&gt;&amp;1 | grep -e open
openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
openat(AT_FDCWD, "/usr/lib/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
openat(AT_FDCWD, "/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3
openat(AT_FDCWD, "/var/run/utmp", O_RDONLY) = 3
openat(AT_FDCWD, "/etc/localtime", O_RDONLY|O_CLOEXEC) = 4
</code></pre><p>Indeed our program is doing the same as the original <code>who</code>.</p><p>Of course, this only mocks the most basic features of the <code>who</code> command and doesn’t handle any option, like the famous <code>who am i</code> or <code>who mom hates</code>.</p><h3 id="going-further">Going further</h3><p>There is still a lot to say about the <code>who</code> command. We could for example mention the <code>lastlog</code> command and its corresponding file <code>/var/log/wtmp</code>, dig into the <code>utmp</code> structure, or just try to understand what <code>utmp</code> stands for.</p></div></div>]]>
            </description>
            <link>https://gauthier.uk/blog/who/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24361957</guid>
            <pubDate>Thu, 03 Sep 2020 08:33:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automatic SSL Certificates for internal IP's for home k8 setup using LetsEncrypt]]>
            </title>
            <description>
<![CDATA[
Score 152 | Comments 85 (<a href="https://news.ycombinator.com/item?id=24361930">thread link</a>) | @gcds
<br/>
September 3, 2020 | https://www.techprowd.com/automatic-ssl-certificates-for-home-microk8s-setup-using-letsencrypt/ | <a href="https://web.archive.org/web/*/https://www.techprowd.com/automatic-ssl-certificates-for-home-microk8s-setup-using-letsencrypt/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>One of the issues I discovered while playing with microk8s Kubernetes setup locally was that many services and tools like <code>Kubernetes Dashboard</code> uses HTTPS for access and I don't want to use Self-Signed SSL certificates as it would require me installing these certificates in every device I use which would be a pain in the butt. So I was on the journey finding a way to have an SSL Certificate for my internal IP addresses. This article will document my journey of getting automatic SSL certificates for my internal microk8s Kubernetes setup.</p><h2 id="ssl-certificate-for-internal-ip-address">SSL Certificate for internal IP address?</h2><p>My first question was is there a way to get an SSL certificate from Public trusted Certificate Authority after looking at many free services like Let's Encrypt and similar services don't provide certificates to IP addresses, but only to domain names.</p><p>After discovering the issue with no way to get an SSL certificate for internal IP I was looking into other options for my problem. After racking my brains for a few minutes I had a question: Could I create a DNS A record for internal IP and would it work? A quick visit to my DNS control panel adding A record to the local IP address and visiting the domain name and seeing my local IP address served website I was amazed that it worked.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image.png 1000w, https://www.techprowd.com/content/images/2020/09/image.png 1212w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-1.png" alt=""></figure><p>Discovering that I can have a domain name for internal IP working I was surprised now I had curiosity if I will be able to use service like Let's Encrypt to generate an SSL Certificate for this domain name but if I remember correctly the Let's Encrypt requires external access to verify domain name ownership. Hmm, maybe there is a way to verify domain name ownership without external access? After some digging around Let's Encrypt documentation, I found that there many ways to verify domain ownership one of them is DNS plugins which have many DNS providers to automatically verify domains by modifying DNS records using API from those providers. In my case it is DigitalOcean.</p><p>Following <code>certbot-dns-digitalocean</code> <a href="https://certbot-dns-digitalocean.readthedocs.io/en/stable/">documentation</a>I tried to generate a certificate for internal IP but I ran into the issue that default macOS <code>certbot</code> installation from <code>brew install certbot</code> had no <code>certbot-dns-digitalocean</code> plugin available.</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>After a quick search online I found that DNS Plugins are not installed by default with <code>certbot</code>. I needed to install <code>certbox-dns-digitalocean</code> plugin using PIP</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Afterward, I was able to generate a certificate without many issues:</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Applying SSL certificate to local HTTPS server I was able to get HTTPS valid response from the internal IP address using a domain name</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-5.png" alt=""></figure><p>Now that I know that I can generate &amp; use an SSL certificate for internal IP address just by using a domain name. Now I can try to migrate this knowledge to integrate this to microk8s local setup.</p><h2 id="integrating-let-s-encrypt-with-dns-challenge-into-microk8s-setup-using-cert-manager">Integrating Let's Encrypt with DNS challenge into microk8s setup using <code>cert-manager</code></h2><p>I am not going to describe microk8s Kubernetes setup as it is pretty straightforward compared to the plain Kubernetes setup.</p><p>The first step is to install <code>cert-manager</code> I will be using Helm to install it.</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Now let's configure Certificate Issuer. I will be using the configuration for DigitalOcean but it should be pretty easy to follow instructions from <a href="https://cert-manager.io/docs/configuration/acme/dns01/">documentation</a>.</p><p>First, we need DigitalOcean API token Base64 encoded to be saved in secrets</p><p>You can encode token to base64 using <code>echo -n "Token" | base64</code></p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Now we need to configure Certificate Issuer. (I had to change kind from <code>Issuer</code> to <code>ClusterIssuer</code> because of namespace issues)</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Now that we configured everything we should use the SSL certificate somewhere for this article I will configure microk8s ingress to allow access to <code>kubernetes-dashboard</code> via <code>https://server.techprowd.com/dashboard</code></p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Now after applying the resources we can check if our certificate resource was created and check if our Let's Encrypt Certificate was created too</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Now that everything created we should be able to access <code>https://server.techprowd.com/dashboard</code></p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-6.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-6.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-6.png 1000w, https://www.techprowd.com/content/images/2020/09/image-6.png 1135w" sizes="(min-width: 720px) 720px"></figure><p>If I understood correctly the Certificate will be automatically renewed when expiration time comes up.</p><p>So that's all for this article. I hope this helped other people who had similar ideas like me when started working with Kubernetes.</p><p>P.S. I am not a professional Kubernetes engineer and everything mentioned in this article is just my assumptions and trying out practices in the local environment.</p>
                </div>
            </section></div>]]>
            </description>
            <link>https://www.techprowd.com/automatic-ssl-certificates-for-home-microk8s-setup-using-letsencrypt/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24361930</guid>
            <pubDate>Thu, 03 Sep 2020 08:27:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All forms of signing email are generally solving the wrong problem]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 33 (<a href="https://news.ycombinator.com/item?id=24361675">thread link</a>) | @fomine3
<br/>
September 3, 2020 | https://utcc.utoronto.ca/~cks/space/blog/tech/SignedEmailWrongProblem | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/tech/SignedEmailWrongProblem">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>All forms of signing email are generally solving the wrong problem (a thesis)</h2>

	<p><small>August 30, 2020</small></p>
</div><div><p>Modern email is full of forms of signed email. Personally signed
email is the old fashioned approach (and wrong), but modern email
on the Internet is laced with things like <a href="https://en.wikipedia.org/wiki/DomainKeys_Identified_Mail">DKIM</a>, which
have the sending system sign it to identify at least who sent it.
Unfortunately, the more I think about it, the more I feel that
signed email is generally solving the wrong problem (and if it's
solving the right one, we won't like that solution in the long run).</p>

<p>A while ago I wrote about <a href="https://utcc.utoronto.ca/~cks/space/blog/tech/EmailVsModernProtocols">why email often isn't as good as modern
protocols</a>, which is because it's what I
described as an <em>anonymous push</em> protocol. An anonymous push protocol
necessarily enables spam since it allows anyone to send you things.
Describing email as 'anonymous push' makes it sound like the anonymity
is the problem, which would make various forms of signing the
solution (including DKIM). But this isn't really what you care about
with email and requiring email to carry some strong identification
doesn't solve the problem, as we've found out with all of the spam
email that has perfectly good DKIM signatures for some random new
domain.</p>

<p>(This is a version of <a href="https://utcc.utoronto.ca/~cks/space/blog/tech/TwoSidesOfIdentity">the two sides of identity</a>.
On the Internet people can trivially have multiple identities, so
while an identity is useful to only let selected people in, it's
not useful to keep someone out.)</p>

<p>I think that what you really care about with modern communication
protocols is <em>revocable authorization</em>. With a pull protocol, you
have this directly; you tacitly revoke authorization by stopping
pulling from the place you no longer like. With a push protocol,
you can still require authorization that you grant, which lets you
revoke that granted authorization if you wish. The closest email
comes to this is having lots of customized email addresses and
carefully using a different one for each service (which Apple has
recently automated for iOS people).</p>

<p>Obviously, requiring authorization to push things to you has a
fundamental conflict with any system that's designed to let arbitrary
strangers contact you without prearrangement (which is <a href="https://utcc.utoronto.ca/~cks/space/blog/spam/FundamentalSpamProblem">the
fundamental problem of spam</a>).
Modern protocols seem to deal with this in two ways (even with
revocable authorization); they have some form of gatekeeping (in
the form of accounts or access), and then they evolve to provide
settings that let you stop or minimize the ability of arbitrary
strangers to contact you (for example, Twitter's settings around
who can send you Direct Messages).</p>

<p>(The modern user experience of things like Twitter has also evolved
to somewhat minimize the impact of strangers trying to contact you;
for example, the Twitter website separates new DMs from strangers
from DMs from people you've already interacted with. It's possible
that email clients could learn some lessons from this, for example
by splitting your inbox into 'people and places you've interacted
with before' and 'new contacts from strange people'. This would
make DKIM signatures and other email source identification useful,
apart from the bit where senders today feel free to keep changing
where they're sending from.)</p>

<p>PS: In this view, actions like blocking or muting people on Twitter
(or the social network of your choice) is a form of revoking their
tacit authorization to push things to you.</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/tech/SignedEmailWrongProblem</link>
            <guid isPermaLink="false">hacker-news-small-sites-24361675</guid>
            <pubDate>Thu, 03 Sep 2020 07:39:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Heuristics to Generate Startup Ideas (2019)]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24361055">thread link</a>) | @docuru
<br/>
September 2, 2020 | https://avichal.com/2019/02/24/heuristics-to-generate-startup-ideas/ | <a href="https://web.archive.org/web/*/https://avichal.com/2019/02/24/heuristics-to-generate-startup-ideas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2992">
	<!-- .entry-header -->

	<div>
		
<p>I regularly help pre-seed entrepreneurs identify and evaluate potential startup opportunities. The following is a set of heuristics I’ve developed and collected over the years that might of use.</p>



<p>These heuristics are just a starting point to <strong>identify interesting, unsolved problems</strong> in the world that may turn in to great startups. Entrepreneurs must still go deep on understanding their customers, the business model, have a clear answer to <a href="https://avichal.com/2017/11/27/why-now/">Why Now?</a> there is a big shift in the market, and <a href="http://paulgraham.com/startupideas.html">focus on identifying problems rather than generating ideas that <em>sound</em> good.</a></p>



<ol><li>Tools inside a big company — High growth companies often first experience a problem other companies will soon face and solve it internally. Bringing these tools to everyone else can work well, e.g. Asana was inspired by the Facebook internal tasks tool, Cloudera was inspired by Facebook’s internal data infrastructure. </li><li>Consumer generation shift — Think about a consumer company that started ~7 years ago. Generations shift in about 7-10 years, thus tastes evolve, and platforms shift. Thus there is an opening to acquire customers, e.g. Snapchat started 2011 while Facebook started 2004</li><li>Big company acquisitions — If a company is acquired for $5B+, consider a competitor. This may indicate product maturity, a departure of talent after earnouts, or becoming focused on profits vs. product investment. Now may be a great time to re-imaginge LinkedIn or Github</li><li>Market validation from other startups — Find a company that recently raised a series A and approach solving the problem differently. Often the first company to identify an opportunity will not win but does indicate customers have a real problem they want solved.</li><li>Revisit ideas that were too early — Look back at ideas that were hot 10 years ago because entrepreneurs have a tendency to be too early. See if any might make sense now, e.g. Instacart vs. Webvan.</li><li>Invert a successful company’s core competency — Take the core strength of a company and flip it on its head to see what a product experience may be if you did the opposite, e.g. Snapchat was based on ephemerality and Facebook based on permanence of identity, or Southwest was based on a point-to-point model with only one type of plane whereas other airlines use a hub and spoke model with multiple types of planes.</li><li>Extend consumer behaviors to businesses — Take a product used by consumers and think about how it might apply to prosumers, enterprises, and small businesses, e.g. LinkedIn vs Facebook.</li><li>Turn open source projects in to SAAS businesses — Find open source projects that are very popular and turn these in to out of the box services for enterprises, e.g. PagerDuty is like Nagios.</li><li>Compete with old world industries using software — Find an industry that is resistant to using software and build a vertically integrated version to compete with that industry, e.g. Atrium vs. law firms.</li><li>Low NPS, fragmented industries — Identify a large, a highly-fragmented industry with terrible net-promoter-score and build a modern, software-first version of their product, e.g. OpenDoor (credit to <a href="https://twitter.com/rabois">Keith Rabois</a> for this one) </li><li>Make things programmable — Take a desktop utility, move it online, and make it more powerful by making it more programmable, e.g. Airtable and Notion (similar to <a href="http://blog.eladgil.com/2019/01/interesting-markets-2019-edition.html">Elad Gil’s idea around devsumers</a>)</li><li>Unbundle a company — Look at the functions of modern companies and unbundle them to make them available for companies of all sizes, e.g. WeWork is the unbundled facilities group at most big companies</li><li>Look to engineers’ hobbies — Figure out where hobbyist engineers are spending their spare time and how to productize that (<a href="http://cdixon.org/2013/03/03/what-the-smartest-people-do-on-the-weekend-is-what-everyone-else-will-do-during-the-week-in-ten-years/">Chris Dixon’s idea</a>)</li><li>Understand how teens communicate — Figure out where teenagers are spending their time to see what the communication products of the next decade may be. Teens are unencumbered and very creative, so seek to understand the motivations instead of judge.</li><li>Travel and observe non-software solutions — Travel to new places to discover non-software solutions that other countries/people/markets have come up with to various problems, e.g. I was in Moscow in 2006 and people could just hail any stranger on the street to drive them somewhere like a cab. It may not have been a big leap if you saw this behavior to Uber/Lyft on your phone.</li><li>Look at behaviors in certain geographies — Smaller, homogenous culture countries (Sweden, Korea, Japan) are early adopters of many technologies. Spend time there to understand what they are doing that isn’t globally popular yet, e.g. watching other people play video games or mobile payments took off in these markets very early relative to the US.</li><li>Unbundle the government — Think about what services the government offers and how you might build a profitable business model around these, perhaps even by offering these services in a more cost-effective way back to the government, e.g. SpaceX is a private NASA, FedEx is a private postal service.</li><li>Verticalize an already successful business — Find a massively successful business such as Salesforce and target it for a vertical that is traditionally challenging to access, e.g. Veeva is a pharma industry specific CRM worth $15B+ and raised only $7M in funding.</li><li>Build something for a distribution channel — Identify a new distribution channel that would enable access to a new customer, and then think through what that customer wants that the distribution channel does not want to provide, e.g. Pinterest and Yelp built on SEO, Paypal built on eBay, YouTube embedded inside MySpace before MySpace had a video product.</li><li>Draft on a regulatory shift — Build behind a big regulatory shift to compete with large incumbents who will be slow to move and have regulatory + technical baggage, e.g. Oscar Health after Obamacare. I’m sure some companies will spin up to help people transition to a post-GDPR world.</li></ol>



<p>I’m sure there are other good heuristics to use as a starting point. If anyone sends me others, I’ll add them to my blog post as a reference for others.</p>




			</div><!-- .entry-content -->

	<!-- .entry-footer -->

		<!-- .entry-auhtor -->
</article></div>]]>
            </description>
            <link>https://avichal.com/2019/02/24/heuristics-to-generate-startup-ideas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24361055</guid>
            <pubDate>Thu, 03 Sep 2020 05:37:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coping with Cats]]>
            </title>
            <description>
<![CDATA[
Score 138 | Comments 156 (<a href="https://news.ycombinator.com/item?id=24361029">thread link</a>) | @luu
<br/>
September 2, 2020 | https://acesounderglass.com/2020/09/02/coping-with-cats/ | <a href="https://web.archive.org/web/*/https://acesounderglass.com/2020/09/02/coping-with-cats/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-10918">
	<!-- .entry-header -->

	
	
	<div>
		<p>I love my two cats dearly and they bring a lot of joy to my life, but they also bring other things, like poop, and fur.&nbsp; When I tried to research mitigations for any of these it was 100% SEO listicles, so I’m sharing my raw data in the hopes that the next person can find something real-if-incomplete instead of a list of every automated litter box that has ever been manufactured.</p>
<p>I wrote the bulk of this in February, but then one of the cats developed dermatitis and I put it on pause until I could make sure it wasn’t caused by anything on this list. Alas, it wasn’t, she’s just allergic to my new apartment. But then I wanted to test something else, and suddenly six months had passed. So if the tenses seem weird, that’s why.</p>
<p>(Links are affiliate links when possible)</p>

<p>I screwed up choosing my new apartment (this was written before the allergy thing). I remembered to check for space to put the litter box in the bathroom, but in my joy at finding a place that allowed that at all after so many that did not,&nbsp; I forgot to check if that space was also where you stood to wash your hands. So I ended up having to put the box in the living room. I’ve done that before and didn’t want to go back to having to keep the window open year round and still smelling poop. I also didn’t love the aesthetic.&nbsp; So I set up something kind of elaborate.</p>
<h2><a href="https://kittyvent.com/products/kitty-vent">KittyVent Litter Box Ventilator</a></h2>
<p>This is a long piece of hosing with a gentle fan in it, and a plastic thingy to block off a window that has a hole for the hose to connect to (similar to what you’d use for a portable air conditioner)</p>
<p><img src="https://cdn.shopify.com/s/files/1/2969/4434/products/IMG_0842_075fb887-2c88-400b-9bc8-3973573e3915_1024x1024@2x.jpg?v=1545953794" width="423" height="282"></p>
<p>The window-blocking thing works vertically but won’t stay up on its own, I had to tape it. The fan is extremely quiet, you can’t tell it’s on from more than six inches away. I’m very sure it works because the first time I noticed a smell, I found the fan had been turned off.</p>
<p>There are instructions for how to DIY this available online (e.g. <a href="https://www.instructables.com/id/Cat-Litter-Box-Odor-Eliminator-Fan-FlowCat/">here</a>), but I just bought it and it worked fine.</p>
<h2>Litterbox Holding End Table</h2>
<p>To make it less hideous, I got an end table designed to hold a litter box. Amazon is full of these, but most have only a single entrance and no ventilation. I assume these are aimed at people who haven’t thought things through. I wanted something I could connect a vent to and actually get rid of the smell. You might be able to cut a hole in one of the ventless ones to attach the hose to but I didn’t feel like bothering, so I got one with ventilation.</p>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/91iP7ZrigoL._AC_SL1500_.jpg" width="443" height="420"></p>
<p>I chose ecoFlex (<a href="https://www.amazon.com/gp/product/B01BM8E4KK/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B01BM8E4KK&amp;linkId=12a658675d21d4d4f9cad298d5ba2314">affiliate link</a>)&nbsp; because matched my it existing furniture and was the only option with both ventilation holes and a second shelf. For this, I accepted it being really much larger than it needed to be. Also the copytext said something about liquid-proof, non-smell-absorbant material, although who knows how true that is. Then I packing taped the ventilation hose to a hole in the back that wasn’t shown in the pictures, apparently intended for electric cords to automated litter boxes.</p>
<p>My cats adapted stupidly well to this- when I set up the litter box with the door open, they both used it within 10 minutes, despite their other litter box still being available. They did just as well when I closed the door.</p>
<p>Some litter does escape the table, so have a plan for that.</p>
<h2>Dog Poop Bags</h2>
<p>My weird conservation instincts push me not to empty the litter box until I can fill a bag. Otherwise I’m wasting valuable bag. So I bought a bunch of very small, very cheap bags and stored them in that shelf in the litter box end table, which is why I wanted it so much. I chose Amazon Basics Dog Poop Bags (<a href="https://www.amazon.com/gp/product/B00NABTGY2/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B00NABTGY2&amp;linkId=4d1641dea9b445b48539e119879ecada">affiliate link</a>) based on WireCutter’s <a href="https://thewirecutter.com/reviews/best-dog-poop-bags/">recommendation</a> and so far they are resoundingly fine.</p>
<h2>Dr Esley Cat Litter (<a href="https://www.amazon.com/gp/product/B07L9WFY14/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B07L9WFY14&amp;linkId=37e0a6f0fb2ce49f0ba47c52c36791d7">affiliate link</a>)</h2>
<p>I got this because Sweethome recommended it. I didn’t appreciate how much better it was working until a delivery screw up made me use <a href="https://www.amazon.com/gp/product/B06ZZYMWVT/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B06ZZYMWVT&amp;linkId=e9f8cccc7ed36fc1765011ac565da4d4">Arm and Hammer</a> and there started to be a smell where there hadn’t been before.</p>

<h2><a href="https://www.litter-robot.com/litter-robot-3.html">Litter Robot 3</a></h2>
<p>This is so close to being a truly great product, but isn’t quite reliable enough to be the only litter box. It had a tendency to get stuck in an unusable position, which eventually forces the cats to go elsewhere. The drawer the poop stays in doesn’t completely contain the smell. Also the range of litter between “excess will get dumped” and “too low” is uncomfortably thin. I’d still recommend it as a second litter box to cut down on scooping, or in a populous household where there will always be someone to turn it off and on again.</p>
<h2>Two Layer Litter Mat (<a href="https://www.amazon.com/gp/product/B00G67FD6W/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B00G67FD6W&amp;linkId=9e1bbec26c9a003b834013f6cbb1bc7d">affiliate link</a>)</h2>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/81BjAf-AA6L._AC_SL1000_.jpg"></p>
<p>This actually worked great at its stated purpose of catching litter the cats track out of the box, but when the cats pooped on it (say, because the litter box had been upside down for six hours), it was almost impossible to clean, especially if I caught it less than instantly. Plus it is ugly.</p>
<h2>Open Window with a Fan</h2>
<p>This was definitely better than not having an open window with a fan, but there’s no comparison between it and the vent-with-hose.</p>


<h2>Silicone Grooming Gloves (<a href="https://www.amazon.com/gp/product/B01N9KSITZ/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B01N9KSITZ&amp;linkId=cf4e5b0147e03c93e42da573c5afaf32">affiliate link</a>)</h2>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/713JHXyZS9L._AC_SL1000_.jpg" width="356" height="321"></p>
<p>These collect a lot of hair, plus their squishiness means you can brush bony areas that would be a problem for a metal comb. The cats start purring the instant I pet them with these.</p>
<p>Downside: kind of a pain to get the hair off the glove, does not pick up 100% of the fur it loosens, so be sure to use it somewhere easy to vacuum or at least not your own lap.</p>

<h2>The Dryer</h2>
<p>Turns out dryers are reasonably good at removing cat hair if you wait long enough. Remember to clean the lint trap frequently.</p>
<h2>Reusable Lint Roller</h2>
<p>I tried two made of the same material- a paddle shaped one (<a href="https://www.amazon.com/gp/product/B07SBM761G/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B07SBM761G&amp;linkId=94a8f23a77ace6722af2df51d72f696b">affiliate link</a>)</p>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/71Dh0-dIIwL._SL1467_.jpg" width="341" height="324"></p>
<p>and a more traditional roller shaped one (<a href="https://www.amazon.com/gp/product/B00BAGTNAQ/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B00BAGTNAQ&amp;linkId=cb9987743b51a7b5feea72739bf6ac92">affiliate link</a>)</p>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/61VbLSzuCrL._SL1500_.jpg" width="340" height="272"></p>
<p>Of these, I found the wand shaped one easier to use, and the roller easier to clean. I prioritized use, but your mileage may vary. Also, you need to actually read the instructions on how to use it, running it back and forth like disposable lint roller just redistributes the hair.</p>
<p>Here is a picture of a pillow after I ran the paddle shaped one over part of it several times. I think this gives a good idea of what it’s capable of, i.e. it’s a significant improvement but doesn’t get everything.</p>
<p><img src="https://lh3.googleusercontent.com/CdwlDpVYOYR7uoDoi2G-hNc8DLvvdJcuKTEiekukqxS_Ao3h9i5dMpu5j-s6GWrwGTe-34ILa7rc-Y83frrUc5SpqWEqErREaYHV8QACkzN1Qc7ziND_ZkQ7bPRcB2J6jcr9cxcOWwBpDKwT-zVo5dalEK1QTcm5cntNpZpe213JKFvj0cH-3aSXp9gjvW_yvmj_PRXNWBOEbkCwYiz_sVkrhebNvKv48qHgcu0hq7P-cW5DGbFncCoHJYGk0hn5zUSJGTfBZycsdWoq9wwXV3fepvtl8koVwGgAZTu-eGAifmoPK1RIQurOfZd8aYCANtifgD21PKFn0UTrFUx6gJ1paCdQ2uEVuYunpuxPVALjhQddhCI74D525eMhQ2b7-pj7q74Q9s-DI1_DHsmdvxwlGAzbPKowjkgj_XCi3kcq6MgV4ApNaZvSE89ZV3dok7peQEkh3WdP6p_V5WZbTMLdxwSqrUWU2gWNgt5R9Su6mxnSad_vpkMcSmCmln5j5aLfC0hBCOPWtYBiZ20pr0x9q2atPvG6kUhElanjCNtJBYvsgewnqxSCbzqB0tcfJ3UNFuETuFCgQ_kSU_5JMMeqa2oi94i1GH2Gogjm9wMKO3iruENNYaRmHW-9ogCsfvOHPPP558lJu78AOFY3Ld2zEjEfijgu22QP1U3vxkZBFGR_fKbfkvI=w1760-h1320-no" width="340" height="255"></p>
<p>Note: inbetween writing this and publishing, the paddle brush people offered me actual money to publish a review, which I plan on taking them up on, assuming I can find the form.</p>
<h2>Shark Pet-Perfect II Handheld Vacuum (<a href="https://www.amazon.com/gp/product/B0037HHFMO/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B0037HHFMO&amp;linkId=4140bcc636b3132e9c69552f56ebb21e">affiliate link</a>)</h2>
<p>Sweethome’s top handheld vacuum pick was sold out everywhere and their second is specifically called out as being bad at fur, so I selected based on Amazon reviews. As a vacuum cleaner it is Not Fucking Around- it is super powerful and sucks anything off my floors. It advertises a special whirling brush aimed specifically at pet hair, but I found it choked on soft surface I tried it on, and the bristles were better. The biggest complain on Amazon was the battery life, but I got it for spot cleaning not marathons, so it’s been fine and I appreciate not paying for a feature I don’t use.</p>
<p>All of the anti-cat-hair devices work better if I stay very on top of them. Given time, the fur works itself deeper into the fabric and nothing will work except picking it out with actual human fingers.</p>

<h2>The Furminator (<a href="https://www.amazon.com/gp/product/B07MZLNVSW/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B07MZLNVSW&amp;linkId=ea4961e2a9d1ed7f9540a55d8364f886">affiliate link</a>)</h2>
<p>This is another one that was great at its official objective but failed a secret objective. It was absolutely amazing at removing fur from the cats (on areas broad and unbony enough to support the comb), and they liked it, but it left them less soft. I did not get these cats to have them at less than their maximum softness.</p>
<h2><span>Rubber Thingies You Throw in the Washer and Dryer&nbsp;</span></h2>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/71uRMoJP33L._AC_SL1500_.jpg" width="402" height="402"></p>
<p>I ran an experiment and as far as I can tell these are no better than just running an article through the dryer. Before/after photos (which I unfortunately didn’t save) didn’t show more hair being removed and the thingies are completely free of hair after many uses, which suggests to me they’re not helping much.</p>
<p>I tried wetting them and running them over a pillow case and they indeed picked up something, so I’m leaving them in my washer just in case.</p>
<p>I used LEADTEAM (<a href="https://www.amazon.com/gp/product/B07THZ68TT/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B07THZ68TT&amp;linkId=8efe81ab9e97d47fa558f5f04ff3d1f9">affiliate link</a>) and didn’t test any others, they looked identical.</p>
<h2>Wool Dryer Balls (<a href="https://www.amazon.com/gp/product/B00S0U2NVG/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B00S0U2NVG&amp;linkId=6ab6affdfd3d806f607cc564889f6bbf">affiliate link</a>)</h2>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/410dKWoCFkL._AC_.jpg" alt="Smart Sheep Reusable Wool Dryer Balls, 3-Pack" width="337" height="320"></p>
<p>Testing the dryer inserts is difficult because it’s really hard to get a control group. I can’t put in half a blanket and see what the other half does. I can’t even use my two identical blankets, because they’re not guaranteed to have identical amounts of hair on them. I tried with socks but was kind of out of patience by that point. I was pretty confident the rubber ones were doing nothing, but despite a really silly amount of rigor involving photos and test swabs with the lint roller, I just can’t tell with these.</p>
<h2>Disposable Lint Rollers</h2>
<p>These were better than nothing but not as good as the reusable roller.</p>

<p>My cats were never great at eating but had gotten to the point where between the two of them someone was vomiting almost every day without cause (cause = “I went too long without eating”, “I ate too fast because I went too long without eating” and hairballs), and one had lost a noticeable amount of weight (her current weight would be fine if she’d started there, but losing almost 20% of her body weight for no known reason is concerning). There was also behavior that made me think they didn’t like their food- things like persistently begging and then when I put new food down, sniffing it, looking upset and begging more. So I talked to the vet.</p>
<h2>Prescription Food and/or B12 vitamins (<a href="https://www.amazon.com/gp/product/B07MWKYP86/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=acesoundergla-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B07MWKYP86&amp;linkId=8707696381553f9939f9fdf6dda878ff">affiliate link</a>)</h2>
<p>I started both of these at the same time and now the cats are down to vomiting once a week, tops, some of which is for cause. They don’t love the prescription food by they will eat it. They’re fine with the vitamins.</p>
<p>In terms of specific brands:</p>
<ul>
<li>They hate <a href="https://www.royalcanin.com/us/cats/products/vet-products/feline-selected-protein-adult-pd-canned-cat-food">Royal Canin Duck and Pea protein</a>. When I included this in their diet they ate only two cans of food per day (one Royal Canin, one of their old food, Friskies), which is little enough that the already-underweight one was losing …</li></ul></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acesounderglass.com/2020/09/02/coping-with-cats/">https://acesounderglass.com/2020/09/02/coping-with-cats/</a></em></p>]]>
            </description>
            <link>https://acesounderglass.com/2020/09/02/coping-with-cats/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24361029</guid>
            <pubDate>Thu, 03 Sep 2020 05:32:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding Daemons]]>
            </title>
            <description>
<![CDATA[
Score 154 | Comments 85 (<a href="https://news.ycombinator.com/item?id=24361013">thread link</a>) | @aryamansharda
<br/>
September 2, 2020 | https://blog.digitalbunker.dev/2020/09/03/understanding-daemons-unix/ | <a href="https://web.archive.org/web/*/https://blog.digitalbunker.dev/2020/09/03/understanding-daemons-unix/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="mainEntityOfPage">
		
<p>In this article, we’ll take a closer look at daemons. We’ll understand exactly what they are, how they’re implemented, and the scope of their responsibility.&nbsp;</p>



<h2><strong>Overview</strong></h2>



<p>Simply put, a daemon (pronounced dee-mon) is an intentionally orphaned background process. Additionally, daemons are detached from the terminal in which they’re spawned, operate without user interaction, and are descendants of the system’s init process.</p>



<p>Daemons will silently wait in the background for specific events to occur or conditions to be met before executing.</p>



<p>At boot time, Linux will start the init process (init is itself a daemon) which will serve as the parent of all processes and assign it PID 1 (process identification number). It’s important to mention that the init function is a special process that is not attached to any terminal.</p>



<p>After the boot sequence is complete, Linux will start up any previously declared daemons. These will be created through a series of fork() and exit() commands which will intentionally create an orphaned process that will eventually be adopted by the init process – more on this soon.</p>



<h2><strong>Use Cases</strong></h2>



<p>Conventionally, daemon process names end with the letter “d”. If you’re interested in seeing all daemons installed on your Linux machine, use this command:</p>



<p><code>service --status-all</code></p>



<p>You’ve certainly encountered daemons whether you were aware of them or not:&nbsp;</p>



<ul><li>A web server is simply a process that runs continuously in the background waiting to process and respond to HTTP requests (http daemon)</li><li>sshd is the dameon responsible for SSH operations</li><li>“MAILURE_DEMON” is a daemon that notifies the sender of invalid email recipients&nbsp;</li><li>Monitoring hardware activity like hard drive health&nbsp;</li><li>cron jobs</li></ul>



<h2><strong>Implementation</strong></h2>



<p>We’ll take a look at the code to create a daemon shortly, but let’s establish some basics first.&nbsp;</p>



<p>Calling the fork() function creates a new process referred to as the child process. The child process runs in parallel with the process that triggered the fork() (the parent process).&nbsp;</p>



<p>A child process shares the same program counter and CPU registers as its parent. So, when a new child process is created, both the child and parent processes will execute the next instruction after the fork() call in parallel.&nbsp;</p>



<p>Here’s a simple example from Michigan Tech:&nbsp;</p>



<div><figure><img src="https://lh5.googleusercontent.com/Q9blfMxaFBFWjoLw_h9HxBAJYRhW5WO6ws4atHZKsY-6Bf5y9bu-EBQJ7qJ8F_piFCvK6wct0U-l9ykXRpt1DZZy_XdJZRCjnjx7WNjLpQu8sx59rsdAxQ25y-PGCJdGJ_VvpzwL" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<p>After fork(), both the parent and the child processes execute the following code in parallel.</p>



<div><figure><img src="https://lh3.googleusercontent.com/OeO_ztEonrxuE5Lw-N_7YS-3gOl0G0h8lQHUdax3632W6aooeiDSf7wOBIGU1aqyF_yCs6hnHv1IqJxtreeTsS_mkdukzMqcfbw2wPp_eEisclimHbtDUC45tetfvxQ_moeOVIvb" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<p>You can also make their execution paths differ if desired. If the fork() call succeeds, the PID of the child process is returned in the parent, and 0 is returned in the child.&nbsp;</p>



<p>In order to create a daemon, we’ll fork() to create a child process and then exit() the parent. This, as previously mentioned, will purposefully create an orphaned process that will be adopted by init. </p>



<p>Our new daemon is now free to sit silently in the background outside of any terminal and perform its task.</p>



<p>While this is a practical understanding, the actual implementation is a bit more nuanced. </p>



<p>We’ll need to make sure to do the following:</p>



<ul><li>Close all open file descriptors</li><li>Change the working directory</li><li>Separate from the terminal and ignore I/O signals</li><li>Disassociate from the process group and control terminal</li><li>Don’t reacquire a control terminal </li><li>Reset the file access creation mask</li></ul>



<p>The following implementation is inspired by Pascal Werkl’s work. I’ve added additional documentation to make it more approachable for someone that is unfamiliar with C and/or Linux systems. I encourage you to <a href="https://github.com/pasce/daemon-skeleton-linux-c/">checkout the original code here</a>.</p>







<h2>Understanding the double fork()</h2>



<p>Let’s try and understand why we need 2 fork() calls in the code above.&nbsp;</p>



<p>When we run this program in the terminal, several environmental settings – specifically the shell we’re working in – are replicated to our child process. So, we’ll need to disassociate our daemon from its spawning terminal.</p>



<p>That’s why we call <code>setsid()</code> and create our own independent session for the child process. </p>



<p>However, in doing so, this child process will be in its own session and process group and therefore it’ll be its own session leader. The main takeaway here is that there is potential for the session leader to reacquire a terminal later on (i..e. if say the user were to open up another terminal). </p>



<p>We don’t want that. Remember, we want to be completely independent of the terminal and any user-input.</p>



<p>By calling fork() a second time, we ensure that this new process (fork-2) will have a PID outside the bounds of fork-1’s session. Since we are not calling <code>setsid()</code> on the fork-2 process, no new session is being made. In other words, we know that fork-2 is <em><strong>not</strong></em> a session leader and therefore there’s no risk of it acquiring a terminal in the future. </p>



<p>Finally, by killing fork-2’s parent, we know that we’ve created an orphaned process that is adopted by init and can’t reacquire a terminal or be affected by user input.</p>



<blockquote><p>TLDR: The 2 fork() calls removes any chance of the daemon reacquiring a controlling terminal and helps ensure that the daemon is re-parented onto init. </p><p>If the use of the secondary fork() isn’t clear, don’t worry – it’s more to do with handling a potential edge case in the environment than a necessity in a generic daemon implementation.</p></blockquote>



<h2><strong>Wrapping Up</strong></h2>



<p>Thanks for checking out this article! If you have any topic requests, please contact me or leave a comment below!</p>



<p>If you’re interested in seeing all installed daemons on your machine, use this command on Linux machines:&nbsp;</p>



<p><code>service --status-all</code></p>



<blockquote><p>Remember daemon names generally end in “d”</p></blockquote>



<h4>Feel free to check out some of my other websites!</h4>



<p><a href="http://stickerspot.digitalbunker.dev/" target="_blank" rel="noreferrer noopener">http://stickerspot.digitalbunker.dev/</a></p>



<p><a href="http://halfway.digitalbunker.dev/" target="_blank" rel="noreferrer noopener">http://halfway.digitalbunker.dev/</a></p>



<p><a href="https://mixrecipes.digitalbunker.dev/" target="_blank" rel="noreferrer noopener">https://mixrecipes.digitalbunker.dev/</a></p>



<p><a href="http://http//lowpolygonart.com/" target="_blank" rel="noreferrer noopener">http://www.lowpolygonart.com/</a></p>




			
				</div></div>]]>
            </description>
            <link>https://blog.digitalbunker.dev/2020/09/03/understanding-daemons-unix/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24361013</guid>
            <pubDate>Thu, 03 Sep 2020 05:27:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Be Indistractable]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 56 (<a href="https://news.ycombinator.com/item?id=24360966">thread link</a>) | @nireyal
<br/>
September 2, 2020 | https://psyche.co/guides/to-become-indistractable-recognise-that-it-starts-within-you | <a href="https://web.archive.org/web/*/https://psyche.co/guides/to-become-indistractable-recognise-that-it-starts-within-you">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><h2 data-guide-section-number="1"><span>Need to know</span></h2><div><p>â€˜Just a second. I just need to respond to this one thing,â€™ I said to my daughter, as I attended to my iPhone.</p>
<p>Only much later could I count the mistakes in that statement. No, it wouldnâ€™t take â€˜just a secondâ€™; no, I didnâ€™t â€˜needâ€™ to respond to the email â€“ Iâ€™m an author and researcher, and thus rarely receive messages that have a drop-everything-and-answer urgency to them. And no, it wouldnâ€™t be â€˜one thingâ€™. My brain would be too tempted, Iâ€™d feast on it all.</p>
<p>After I finished, I looked up and my daughter was gone. The worst part: before I became distracted, we had been playing a lovely game, telling each other what superpower we most wished for. It could have brought us closer together, but Iâ€™d just blown the spirit and substance of it big-time.</p>
<p>If youâ€™re a parent in the 21st century, I bet youâ€™ve experienced your own version of this. But itâ€™s not just parents, itâ€™s all of us in our interactions with each other. Distraction has become the norm. Weâ€™re blessed with pocket-sized supercomputers that connect us to anyone and everyone, and a buffet of information. But thereâ€™s a dark side: those same gadgets distract us, often at the moments that matter most.</p>
<p>Of course, smartphones didnâ€™t invent distraction â€“ theyâ€™re just the latest culprit. Before that, we blamed television. And before that, it was the telephone, or comic books, or the radio. Go back more than 2,000 years, and Socrates was even criticising the written word, for causing â€˜forgetfulness in the learnersâ€™ soulsâ€™.</p>
<p>Still, our present feels different, with the sources of distraction seeming greater in number and more ubiquitous. One <a href="https://journals.sagepub.com/doi/full/10.1177/0013916514539755">study</a> in 2014 showed that when two people are talking, the mere presence of a smartphone resting on a table is enough to change the character of their conversation. Thatâ€™s a tame example. To see the seriousness of the problem, look at the sobering <a href="https://www.nhtsa.gov/risky-driving/distracted-driving">statistics</a> on â€˜distracted drivingâ€™ in the United States.</p>
<p>After I abandoned my daughter and our game for an utterly inconsequential email, I realised I needed to deal with my distraction problem. First, I tried a popular approach: I blamed technology and made a serious attempt at a â€˜digital detoxâ€™. I bought a flip phone, subscribed to a print newspaper, and even purchased a 1990s-era word processor without an internet connection. I convinced myself that, once I banished all the technology from my life, Iâ€™d become the disciplined writer and focused father Iâ€™d always strived to be.</p>
<p>Talk about a rude awakening. Sitting at my ancient word processor, my eyes began to peer over to my now-tantalising bookshelf. â€˜Hmmm,â€™ I said to myself, â€˜I really should take a glance at this bookâ€™. Iâ€™d justify the distraction as necessary for â€˜researchâ€™. And if it wasnâ€™t reading, then Iâ€™d find something else â€“ the laundry that <em>needed</em> to be folded right now, my desk that <em>needed</em> to be tidied-up this minute. The technology wasnâ€™t distracting me. <em>I</em> was distracting me.</p>
<p>Thatâ€™s when I started a five-year journey to understand <a href="https://www.nirandfar.com/distractions/">distraction</a>, its causes and its cures. I discovered a great deal that I found surprising and counterintuitive, and I developed methods to deal with my distraction that actually worked â€“ and didnâ€™t involve me trying to turn back time and operate a flip phone. I realised that distraction often begins from within, not without, and found that the fix came from identifying and managing the psychological discomfort that leads us off track.</p>
<p>As often as not, distraction is your brain ducking challenging feelings such as boredom, loneliness, insecurity, fatigue and uncertainty. These are the internal triggers â€“ the <a href="https://www.nirandfar.com/kids-video-game-obsession/">root causes</a> â€“ that prompt you to find the comfort of distraction and open a browser tab, Twitter or email, instead of focusing on the matter at hand. Once you identify these internal triggers, you can decide to respond in a more advantageous manner. You wonâ€™t always be able to control how you feel â€“ but you can learn to control how you react to the way you feel. A trigger that once sent you to Twitter can perhaps lead instead to 10 deep breaths.</p>
<p>Distraction, in other words, is a symptom of a problem â€“ not the problem itself. Those deeper and systemic reasons â€“ such as an inability to cope with fear, anxiety or stress â€“ deserve our concern, because itâ€™s only when we start to address them that we can make real progress. When we begin to understand what weâ€™re trying to avoid by clicking over to Twitter or checking the news for the 10th time today, we can begin to address the issue itself, and not medicate it through more distraction. We also begin to appreciate how habitual the act of avoiding discomfort via distraction can be, and how much itâ€™s become a part of how we work and live.</p>
<p>The good news is that thereâ€™s something paradoxical about discomfort: itâ€™s actually the best tool we have for evolving and developing as a species. Feeling bad isnâ€™t actually bad; itâ€™s what helped us survive. Writing in 2001, the American psychologist Roy Baumeister and his colleagues <a href="https://psycnet.apa.org/record/2018-70020-001">observed</a>: â€˜If satisfaction and pleasure were permanent, there might be little incentive to continue seeking further benefits or advances.â€™ If we didnâ€™t feel bad, in other words, weâ€™d never achieve good.</p>
<p>Once you understand the depth of distraction, you can start to manage it and improve. After years of experiments, I found myself less distracted â€“ a quality that improved nearly every aspect of my life. It turns out that being able to focus on the subjects and people in my life who matter improved everything from my health to my happiness to my productivity. That can seem obvious, but I couldnâ€™t have fully appreciated the joys of living an indistractable life if I hadnâ€™t gotten there on my own after a five-year journey. Being indistractable can lead you to not just change your life for the better, but also experience life fully.</p></div></div></section><section><div><h2 data-guide-section-number="2"><span>What to do</span></h2><div><p><strong>Self-explore</strong></p>
<p>Identifying the triggers that made you feel bad in the first place requires self-exploration. When you notice yourself feeling distracted, pause and ask yourself what youâ€™re feeling. Are you worried? Are you afraid? Then go one step deeper. What caused the sensation? How does it feel in your body?</p>
<p>In exploring my own internal triggers, I began to appreciate that my anxiety about a project, which might lead me to find a tempting Wikipedia rabbit hole, was actually adaptive: the fact that I was anxious was good because it meant I was trying to become better. It was sometimes even as easy as saying to myself: â€˜Youâ€™re getting distracted right now because youâ€™re worried this wonâ€™t be up to snuff. Thatâ€™s okay. It means youâ€™re trying to do your best work, and thatâ€™s something to feel good about.â€™ It seems like a simple mental trick, but even that thought can have a profound influence in keeping you on track.</p>
<p>Thereâ€™s an interesting paradox about internal triggers: they can be big, imposing, powerful issues, and yet the fixes can sometimes be easy and quick. Hereâ€™s an example: letâ€™s say that an internal trigger when youâ€™re about to get started on a looming project is boredom. You just canâ€™t bring yourself to get excited about doing your taxes. And because you get bored, you get distracted. But if you know youâ€™re going to get bored, you can find ways to avoid the distraction that will soothe the boredom. For instance, if you set a time limit to work on the otherwise mind-numbing task that is so short, you wonâ€™t have a chance to get bored. Anyone can work on their taxes for just 10 minutes. This is called the <a href="https://www.nirandfar.com/strange-sex-habits-of-silicon-valley/">10-minute rule</a>, and itâ€™s an effective way to avoid distractions of all sorts. The point is to anticipate the internal trigger and then intercept it with a new routine rather than allowing yourself to slink away into doing something you didnâ€™t intend to do.</p>
<p>In the case of my interaction with my daughter, the internal trigger might have been anxiety about work or <a href="https://www.nirandfar.com/fomo/">fear of missing out</a> (on an email). But I can address both of those proactively, so that they donâ€™t interfere with precious daddy-daughter time. In the case of my work anxiety, I could make sure that someone on my team is monitoring incoming messages. I could put up an â€˜out of officeâ€™ email that encourages people to call me if thereâ€™s really an emergency. Or in reality, I could get comfortable with the discomfort that I might indeed be missing out on something, but thatâ€™s all right too. Any one of those is a better and more constructive response to the internal trigger than being distracted.</p>
<p>Whatever approach you take to address your inner triggers, itâ€™s encouraging to note that merely recognising uncomfortable feelings and identifying them could be beneficial. For instance, in a smoking-cessation <a href="https://www.sciencedirect.com/science/article/abs/pii/S0376871611002535?via%3Dihub">study</a>, researchers found that participants who learned to acknowledge and explore their cravings managed to quit smoking at double the rates of those in the American Lung Associationâ€™s best-performing cessation programme. Just identifying and investigating a craving had a tremendous impact.</p>
<p><strong>Reframe</strong></p>
<p>Once youâ€™ve identified the triggers, you can reframe the task at hand. Sure, you might be â€˜forced to do your taxesâ€™. But another way of thinking about that is that you â€˜get to review last yearâ€™s business successesâ€™. It sounds laughable, but it works. When I hit rough patches mid-book writing, I would say: â€˜I get to share this with my audience,â€™ as opposed to: â€˜I really have to work on the book today.â€™</p>
<p>Hereâ€™s one strategy: I found the fun in whatever I was doing. Yes, I know, this is where you roll your eyes, but hear me out. I learned to stay focused on the tedious work of writing books by looking for and finding the mystery embedded in my work. I wasnâ€™t â€˜writingâ€™, I was â€˜exploringâ€™. I wasnâ€™t Ernest Hemingway; I was Scooby-Doo. Research indicates that even the simple act of thinking of something that you donâ€™t enjoy as …</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/guides/to-become-indistractable-recognise-that-it-starts-within-you">https://psyche.co/guides/to-become-indistractable-recognise-that-it-starts-within-you</a></em></p>]]>
            </description>
            <link>https://psyche.co/guides/to-become-indistractable-recognise-that-it-starts-within-you</link>
            <guid isPermaLink="false">hacker-news-small-sites-24360966</guid>
            <pubDate>Thu, 03 Sep 2020 05:12:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Email gateways and gatekeeping]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24360890">thread link</a>) | @axiomdata316
<br/>
September 2, 2020 | https://www.labbott.name/blog/2020/09/01/emailgateway.html | <a href="https://web.archive.org/web/*/https://www.labbott.name/blog/2020/09/01/emailgateway.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>So The Register managed to incite a lot of discussion with a <a href="https://www.theregister.com/2020/08/25/linux_kernel_email/">headline</a>
that plain-text e-mail is a barrier to entry for kernel development. While
attention grabbing, this is actually not a new debate. Like a lot of tech
arguments this one seems to come up on a cyclical basis. Maybe because
maintainer summit didn’t happen this year it needed to come out elsewhere.
I gave a few thoughts on twitter but this topic really deserves a longer
look at the problem and what e-mail being a barrier really means.</p>

<p>Linux celebrated over <a href="https://www.zdnet.com/article/commit-1-million-the-history-of-the-linux-kernel/">one million commits</a>
recently. The Linux Foundation also came out with a report about the
<a href="https://www.linuxfoundation.org/blog/2020/08/download-the-2020-linux-kernel-history-report/">history</a>
of kernel development. All of this work was completed with development being
done over e-mail. Clearly e-mail has been a successful method of development
for the past 29 years by many metrics.</p>

<p>So if it’s so successful why consider changing? Part of the answer to this
question lies in not what was accomplished by using e-mail but what was <em>not</em>
accomplished because e-mail was the preferred method of development. I
marked 10 years of being a full-time software professional a few weeks ago.
This was a recent enough time span that I can still remember enough of what
it was like to get started. There were a lot of steps to make sure your
e-mail setup was correct (i.e. plain text and no weird footers). It was a
little tricky but certainly doable. This is where the split comes in: what’s
‘a little tricky’ for one person may prevent someone else from contributing
at all. I was fortunate to have enough general working knowledge of Linux to
debug <code>git-send-email</code> when it didn’t work as well as having a corporate
setup that could actually send plain text e-mail. Google around for how to
set up <code>git-send-email</code> and you’ll see this is a step many people struggle with.</p>

<p>“But if you can’t even set up e-mail should you really be working on the
kernel?” This is unfortunately a common refrain in this discussion. I’d
turn the question on its head: why is setting up e-mail a core skill for
working on the kernel? There’s a lot of value in learning and following
community norms but what value does <em>that</em> particular norm bring? I’d argue
that showing you can set up and use plain text e-mail does not make you
a better kernel programmer. Supporting tooling for a project is important
but there’s nothing inherent to e-mail that makes it a good indicator of
anything. People can only handle keeping track of so many things at once.
Having to figure out plain text e-mail is one more task on the stack.
Reducing the overhead in mental load to participation lets people focus
much more on the actual kernel work. We can maintain tools that take less
work to run. Yes, the initial SMTP configuration is a one time setup but
sending out a patch each time with <code>git-send-email</code> involves a lot of manual
steps. Even if you get the manual steps right there’s always the chance
that your e-mail will be rejected due to over zealous spam filtering. There
was a three month period or so where all my e-mails to a particular maintainer
were being rejected because my 3rd party SMTP server had ended up on a spam
blocklist.</p>

<p>“But you can automate e-mail to do the manual parts” To some degree yes but
this is hard to do across the entire tree. The kernel has very few unifying
standards so for those who work across multiple areas you’re usually left
making a best educated guess about where things should go. MAINTAINERS is a
good start but it’s not always complete. And even if you <em>can</em> automate
everything expecting every contributor to come up with their own automation
is not a good use of time. “So provide everyone the automation” and there in
lies the problem: the fact that everyone can use their own setup is seen
as an advantage so it’s impossible to give something that works for everyone.
Even trying to guess what would be the most common setup to give some baseline
hasn’t been a fruitful conversation.</p>

<p>“So GitHub is the answer to our problems?” I’m not saying that either.
“kids these days are using GitHub so we should switch too” is a very weak
argument. Familiarity with a tool is a factor but it shouldn’t be the biggest
factor. Everyone, new and experienced developers, can learn new tools. If I
thought that e-mail was a suitable tool I would be promoting it as something
newer developers should learn. Compare that with git which both new and
experienced people will tell you can be difficult to use. It <em>is</em> worthwhile
to learn git though and there’s been some improvement in UX recently
(<code>git switch</code>). One objection to GitHub is the fact that it’s a proprietary
platform. I’m not willing to entertain conspiracy theories about GitHub
being owned by Microsoft and therefore wanting to destroy the Linux kernel
but before committing to any cloud platform it’s important to do due diligence.
Part of the concern about the ‘forge’ nature of GitHub is that it ends
up being an single point of failure. Anyone who has tried to get work done
when its down will know what a pain this is. The issue is that despite the
fact that git is a distributed version control system you end up needing
to host your repositories <em>somewhere</em> for pull requests to be useful. Anything
that’s useful is going to end up being popular so you’re going to end up
with more points of failure. “What if we all just hosted our own git trees”
running infrastructure takes time, energy, and money, it’s really nice to
not have to think about things like that.</p>

<p>“But e-mail is so much better for discussion and patch review” it’s hard
to differentiate sometimes between “better because I’m more familiar with it”
and “better because it has features I care about”. Is the experience of
reviewing code in GitHub identical to reviewing code in e-mail? No. The
steps are different. It’s never going to match 1-to-1. Do I think code
review in GitHub is usable? Absolutely. Would I take GitHub review over
e-mail? Unclear mostly because it’s hard for me to separate everything else
I hate about e-mail patches from the review part. One nice advantage of
GitHub is that it is incredibly easy to jump in on threads without having
subscribed to the thread first. <a href="https://lore.kernel.org/lists.html">lore.kernel.org</a>
has improved the experience of replying via e-mail significantly by providing
instructions and download links but it’s not as easy as point and click.
lore.kernel.org has also improved the archiving experience significantly
which was another area of concern with e-mail. Even with a proper archiving
system, discussion is still disconnected from both bug reporting and the
code review with e-mail. E-mail is really a lousy bug reporting system
simply because it’s easy for things to get lost. “You can filter e-mail”
yes, if you know what to filter on. Again, everyone having bespoke artisinal
e-mail filters doesn’t actually solve the problem. Having a distinct
separation between bug reports and new code is much easier to keep straight.
I also grow weary of having to explain to new contributors that LKML is
mostly just an archive and sending anything to LKML without another cc is
probably not going to get a response (a great way to discourage contributors).
Again, there is documentation out there to explain how to contribute but it
doesn’t actually <em>need</em> to be this complicated.</p>

<p>“GitHub could never scale to the volume of the Linux Kernel” This is an
interesting point. There was some discussion on twitter about monorepos.
The kernel does appear to be unique in terms of number of contributors and
volume of commits. Maybe GitHub can’t actually scale. That shouldn’t mean
the only option ever is e-mail. Git itself came out of a need for a version
control system that matched what the kernel needed (we’ll ignore other
parts of the <a href="https://en.wikipedia.org/wiki/BitKeeper">BitKeeper</a> saga).
The scaling issue often comes up when discussing CI. Those outside the
kernel community are somewhat shocked and appalled about how much manual
work happens. <a href="https://staging.kernelci.org/">KernelCI</a> has come a long
way in integrating CI as part of the regular development process. It’s not
clear if a traditional CI system like GitHub offers would even make sense.
For one, testing kernels requires either physical machines to test on or
a virtual environment, neither of which are particularly standard for setups
like GitHub. The kernel is also (intentionally) designed to work on an
incredibly wide variety of hardware. Testing every commit against all
possible hardware is next to impossible. Even choosing a limited set of hardware
can quickly create a bottleneck for getting anything merged. KernelCI has
done a great job trying to balance coverage and speed. Part of the issue
with the scaling argument is that it’s a bit of chicken and egg to determine
if something like GitHub would actually scale. We can’t switch over because
we are concerned it might not scale but we can’t really know if it scales
until we switch over. The kernel likes small incremental changes but switching
development workflows may be impossible to do incrementally.</p>

<p>Plain text e-mail may not be the biggest barrier for many people wanting
to do kernel development but it can still be one. There are plenty of reasons
to want something better than e-mail for development. There may be some
reasons to stay on e-mail because no better tool exists but “lowering the
bar” or other gatekeeping nonsense is not among the reasons. I personally
eagerly await the day I don’t have to think about e-mailing patches.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://www.labbott.name/blog/2020/09/01/emailgateway.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24360890</guid>
            <pubDate>Thu, 03 Sep 2020 04:52:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Even in Go, concurrency is still not easy]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 119 (<a href="https://news.ycombinator.com/item?id=24359650">thread link</a>) | @benhoyt
<br/>
September 2, 2020 | https://utcc.utoronto.ca/~cks/space/blog/programming/GoConcurrencyStillNotEasy | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/programming/GoConcurrencyStillNotEasy">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Even in Go, concurrency is still not easy (with an example)</h2>

	<p><small>September  1, 2020</small></p>
</div><div><p>Go is famous for making concurrency easy, through good language
support for <a href="https://golangbot.com/goroutines/">goroutines</a>. Except
what Go makes easy is only one level of concurrency, the nuts and
bolts level of making your code do things concurrently and communicating
back and forth through channels. Making it do the right things
concurrently is still up to you, and unfortunately Go doesn't
currently provide a lot of standard library support for correctly
implemented standard concurrency patterns.</p>

<p>For example, one common need is for a limited amount of concurrency;
you want to do several things at once, but only so many of them.
At the moment this is up to you to implement on top of goroutines,
channels, and things like the <a href="https://golang.org/pkg/sync/"><code>sync</code></a>
package. This is not as easy as it looks, and quite competent people
can make mistakes here. As it happens, I have an example ready to
hand today.</p>

<p><a href="https://github.com/google/gops">Gops</a> is a convenient command to
list (and diagnose) Go processes that are currently running on your
system. Among other things, it'll tell you which version of Go they
were compiled with, which is handy if you want to see if you have out
of date binaries that should be rebuilt and redeployed. One of the
things <code>gops</code> needs to do is look at all of the Go processes on your
system, which it does concurrently. However, it doesn't want to look
at too many processes at once, because <a href="https://github.com/google/gops/pull/118">that can cause problems with
file descriptor limits</a>. This
is a classic case of <em>limited concurrency</em>.</p>

<p>Gops implements this at the moment with code in <a href="https://github.com/google/gops/blob/6fb0d860e5fa50629405d9e77e255cd32795967e/goprocess/gp.go#L29">goprocess.FindAll()</a>
that looks like this, in somewhat sketched and reduced form:</p>

<blockquote><pre>func FindAll() []P {
   pss, err := ps.Processes()
   [...]
   found := make(chan P)
   limitCh := make(chan struct{}, concurrencyProcesses)

   for _, pr := range pss {
      limitCh &lt;- struct{}{}
      pr := pr
      go func() {
         defer func() { &lt;-limitCh }()
         [... get a P with some error checking ...]
         found &lt;- P
      }()
   }
   [...]

   var results []P
   for p := range found {
      results = append(results, p)
   }
   return results
}
</pre>
</blockquote>

<p>(In the real code there's a WaitGroup for coordination, and the
<code>found</code> channel gets closed appropriately.)</p>

<p>How this works is clear, and is a standard pattern (covered in eg
Go 101's <a href="https://go101.org/article/channel-use-cases.html">Channel Use Cases</a>). We use a
buffered channel to provide a limited number of tokens; sending a
value into the channel implicitly takes a token (and blocks if the
token supply is exhausted), while receiving a value from it puts a
token back in. We take a token before we start a new goroutine, and
the goroutine releases the token when it's done.</p>

<p>Except that <a href="https://github.com/google/gops/issues/123">this code has a bug if there are too many processes
to examine</a>. Even knowing
that there is a bug in this code, it may not be obvious.</p>

<p>The bug is that the goroutines only receive from <code>limitCh</code> to release
their token after sending their result to the unbuffered <code>found</code>
channel, while the main code only starts receiving from <code>found</code>
after running through the entire loop, and <strong>the main code takes
the token in the loop and blocks if no tokens are available</strong>. So
if you have too many processes to go through, you start N goroutines,
they all block trying to write to <code>found</code> and don't receive from
<code>limitCh</code>, and the main <code>for</code> loop blocks trying to send to <code>limitCh</code>
and never reaches the point where it starts receiving from <code>found</code>.</p>

<p>At one level, this bug is a very fragile bug; it only exists because
of multiple circumstances. If the goroutines took the token by
sending to <code>limitCh</code> instead of the main <code>for</code> loop doing it, the
bug would not exist; the main <code>for</code> loop would start them all, many
would stop, and then it would go on to receive from <code>found</code> so that
they could receive from <code>limitCh</code> and release their token so other
goroutines would run. If the goroutines received from <code>limitCh</code> to
release their token before sending to <code>found</code>, it wouldn't exist
(but because of error handling, it's simpler and more reliable to
do the receive in a <code>defer</code>). And if the entire <code>for</code> loop was in
an additional goroutine, the main code would go on to receive from
<code>found</code> and unblock completed goroutines to release their tokens,
so the fact that the <code>for</code> loop was blocked waiting to send to
<code>limitCh</code> wouldn't matter.</p>

<p>At another level, this shows how concurrency is not easy as easy
as it looks in Go. All you need is one mistake and things skid to
a halt, and all of the code involved can look good to a casual
examination. Getting concurrency correct is simply hard for people
(we can debate about why, but I think that it is is very clear).</p>

<p>(I'm sure that the people who wrote and approved the change that
added this concurrency limiting code to gops were good programmers.
A tricky case still tripped them up, passing all of their scrutiny.
Even when I knew that there was a concurrency problem in the code
and where it was (because my <code>gops</code> was hanging all of a sudden,
and <a href="https://github.com/go-delve/delve">Delve</a> told me where
everything was stuck), it still took me some time to see what the
exact problem was.)</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/programming/GoConcurrencyStillNotEasy</link>
            <guid isPermaLink="false">hacker-news-small-sites-24359650</guid>
            <pubDate>Thu, 03 Sep 2020 00:15:52 GMT</pubDate>
        </item>
    </channel>
</rss>
