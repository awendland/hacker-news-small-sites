<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 10]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 10. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 17 Sep 2020 16:24:35 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-10.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 17 Sep 2020 16:24:35 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Large-scale Abuse of Contact Discovery in Mobile Messengers [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 21 (<a href="https://news.ycombinator.com/item?id=24494505">thread link</a>) | @sizzle
<br/>
September 16, 2020 | https://encrypto.de/papers/HWSDS21.pdf | <a href="https://web.archive.org/web/*/https://encrypto.de/papers/HWSDS21.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://encrypto.de/papers/HWSDS21.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494505</guid>
            <pubDate>Wed, 16 Sep 2020 16:51:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BPF based live debugging for Go/C++/Rust in prod with no code changes]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24494486">thread link</a>) | @roopakv
<br/>
September 16, 2020 | https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/ | <a href="https://web.archive.org/web/*/https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>This is the first in a series of posts describing how we can debug applications in production using eBPF, without recompilation/redeployment. This post describes how to use <a href="https://github.com/iovisor/gobpf" target="_blank" rel="noopener noreferrer">gobpf</a> and uprobes to build a function argument tracer for Go applications. This technique is also extendable to other compiled languages such as C++, Rust, etc. The next sets of posts in this series will discuss using eBPF for tracing HTTP/gRPC data, SSL, etc.</p><p>When debugging, we are typically interested in capturing the state of a program. This allows us to examine what the application is doing and determine where the bug is located in our code. A simple way to observe state is to use a debugger to capture function arguments. For Go applications, we often use Delve or gdb.</p><p>Delve and gdb work well for debugging in a development environment, but they are not often used in production. The features that make these debuggers powerful can also make them undesirable to use in production systems. Debuggers can cause significant interruption to the program and even allow mutation of state which might lead to unexpected failures of production software.</p><p>To more cleanly capture function arguments, we will explore using enhanced BPF (<a href="https://ebpf.io/" target="_blank" rel="noopener noreferrer">eBPF</a>), which is available in Linux 4.x+, and the higher level Go library <a href="https://github.com/iovisor/gobpf" target="_blank" rel="noopener noreferrer">gobpf</a>.</p><p>Extended BPF (eBPF) is a kernel technology that is available in Linux 4.x+. You can think of it as a lightweight sandboxed VM that runs inside of the Linux kernel and can provide verified access to kernel memory.</p><p>As shown in the overview below, eBPF allows the kernel to run BPF bytecode. While the front-end language used can vary, it is often a restricted subset of C. Typically the C code is first compiled to the BPF bytecode using Clang, then the bytecode is verified to make sure it's safe to execute. These strict verifications guarantee that the machine code will not intentionally or accidentally compromise the Linux kernel, and that the BPF probe will execute in a bounded number of instructions every time it is triggered. These guarantees enable eBPF to be used in performance-critical workloads like packet filtering, networking monitoring, etc.</p><p>Functionally, eBPF allows you to run restricted C code upon some event (eg. timer, network event or a function call). When triggered on a function call we call these functions probes and they can be used to either run on a function call within the kernel (kprobes), or a function call in a userspace program (uprobes). This post focuses on using uprobes to allow dynamic tracing of function arguments.</p><p>Uprobes allow you to intercept a userspace program by inserting a debug trap instruction (<code>int3</code> on an x86) that triggers a soft-interrupt . This is also <a href="https://eli.thegreenplace.net/2011/01/27/how-debuggers-work-part-2-breakpoints" target="_blank" rel="noopener noreferrer">how debuggers work</a>. The flow for an uprobe is essentially the same as any other BPF program and is summarized in the diagram below. The compiled and verified BPF program is executed as part of a uprobe, and the results can be written into a buffer.</p><div><figure>
    <span>
      <span></span>
  <p><img alt="BPF for tracing (from Brendan Gregg)" title="BPF for tracing (from Brendan Gregg)" src="https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/073a0/bpf-tracing.jpg" srcset="https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/8356d/bpf-tracing.jpg 259w,https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/bc760/bpf-tracing.jpg 518w,https://blog.pixielabs.ai/static/a11d6d9cb78e055d59136a97665907d3/073a0/bpf-tracing.jpg 610w" sizes="(max-width: 610px) 100vw, 610px" loading="lazy"></p>
    </span>
    <figcaption>BPF for tracing (from Brendan Gregg)</figcaption>
  </figure></div><p>Let's see how uprobes actually function. To deploy uprobes and capture function arguments, we will be using <a href="https://github.com/pixie-labs/pixie/blob/main/demos/simple-gotracing/app.go" target="_blank" rel="noopener noreferrer">this</a> simple demo application. The relevant parts of this Go program are shown below.</p><p><code>main()</code> is a simple HTTP server that exposes a single <em>GET</em> endpoint on <em>/e</em>, which computes Euler's number (<strong>e</strong>) using an iterative approximation. <code>computeE</code> takes in a single query param(<em>iters</em>), which specifies the number of iterations to run for the approximation. The more iterations, the more accurate the approximation, at the cost of compute cycles. It's not essential to understand the math behind the function. We are just interested in tracing the arguments of any invocation of <code>computeE</code>.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>To understand how uprobes work, let's look at how symbols are tracked inside binaries. Since uprobes work by inserting a debug trap instruction, we need to get the address where the function is located. Go binaries on Linux use ELF to store debug info. This information is available, even in optimized binaries, unless debug data has been stripped. We can use the command <code>objdump</code> to examine the symbols in the binary:</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>From the output, we know that the function <code>computeE</code> is located at address <code>0x6609a0</code>. To look at the instructions around it, we can ask <code>objdump</code> to disassemble to binary (done by adding <code>-d</code>). The disassembled code looks like:</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>From this we can see what happens when <code>computeE</code> is called. The first instruction is <code>mov 0x8(%rsp),%rax</code>. This moves the content offset <code>0x8</code> from the <code>rsp</code> register to the <code>rax</code> register. This is actually the input argument <code>iterations</code> above; Go's arguments are passed on the stack.</p><p>With this information in mind, we are now ready to dive in and write code to trace the arguments for <code>computeE</code>.</p><p>To capture the events, we need to register a uprobe function and have a userspace function that can read the output. A diagram of this is shown below. We will write a binary called <code>tracer</code> that is responsible for registering the BPF code and reading the results of the BPF code. As shown, the uprobe will simply write to a perf-buffer, a linux kernel data structure used for perf events.</p><div><figure><img src="https://blog.pixielabs.ai/static/9f8b26f88f9b132440ef1b9d48b5a341/app-tracer.svg"><figcaption>High-level overview showing the Tracer binary listening to perf events generated from the App</figcaption></figure></div><p>Now that we understand the pieces involved, let's look into the details of what happens when we add an uprobe. The diagram below shows how the binary is modified by the Linux kernel with an uprobe. The soft-interrupt instruction (<code>int3</code>) is inserted as the first instruction in <code>main.computeE</code>. This causes a soft-interrupt, allowing the Linux kernel to execute our BPF function. We then write the arguments to the perf-buffer, which is asynchronously read by the tracer.</p><div><figure><img src="https://blog.pixielabs.ai/static/87301c7282e8f8270fee2afb9fe85c81/app-trace.svg"><figcaption>Details of how a debug trap instruction is used call a BPF program</figcaption></figure></div><p>The BPF function for this is relatively simple; the C code is shown below. We register this function so that it's invoked every time <code>main.computeE</code> is called. Once it's called, we simply read the function argument and write that the perf buffer. Lots of boilerplate is required to set up the buffers, etc. and this can be found in the complete example <a href="https://github.com/pixie-labs/pixie/blob/main/demos/simple-gotracing/trace_example/trace.go" target="_blank" rel="noopener noreferrer">here</a>.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>Now we have a fully functioning end-to-end argument tracer for the <code>main.computeE</code> function! The results of this are shown in the video clip below.</p><div><figure><img src="https://blog.pixielabs.ai/static/4de8713a5b05e1f9132350f333572174/e2e-demo.gif"><figcaption>End-to-End demo</figcaption></figure></div><p>One of the cool things is that we can actually use GDB to see the modifications made to the binary. Here we dump out the instructions at the <code>0x6609a0</code> address, before running our tracer binary.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>Here it is after we run the tracer binary. We can clearly see that the first instruction is now <code>int3</code>.</p><pre><div><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4zMzYgNUg4LjA0OEM2LjkxNjQ4IDUgNiA1LjkxNjQ4IDYgNy4wNDhWMjEuMzg0SDguMDQ4VjcuMDQ4SDIwLjMzNlY1Wk0yMy40MDggOS4wOTZIMTIuMTQ0QzExLjAxMjUgOS4wOTYgMTAuMDk2IDEwLjAxMjUgMTAuMDk2IDExLjE0NFYyNS40OEMxMC4wOTYgMjYuNjExNSAxMS4wMTI1IDI3LjUyOCAxMi4xNDQgMjcuNTI4SDIzLjQwOEMyNC41Mzk1IDI3LjUyOCAyNS40NTYgMjYuNjExNSAyNS40NTYgMjUuNDhWMTEuMTQ0QzI1LjQ1NiAxMC4wMTI1IDI0LjUzOTUgOS4wOTYgMjMuNDA4IDkuMDk2Wk0xMi4xNDQgMjUuNDhIMjMuNDA4VjExLjE0NEgxMi4xNDRWMjUuNDhaIiBmaWxsPSIjNEE0QzRGIi8+Cjwvc3ZnPgo=" alt="" title="Copy to clipboard" aria-label="copy"></p></div></pre><p>Although we hardcoded the tracer for this particular example, it's possible to make this process generalizable. Many aspects of Go, such as nested pointers, interfaces, channels, etc. make this process challenging, but solving these problems allows for another instrumentation mode not available in existing systems. Also, since this process works at the binary level, it can be used with natively compiled binaries for other languages (C++, Rust, etc.). We just need to account for the differences in their respective ABI's.</p><p>BPF tracing using uprobes comes with its own set of pros and cons. It's beneficial to use BPF when we need observability into the binary state, even when running in environments where attaching a debugger will be problematic or harmful (ex. production binaries). The biggest downside is the code required to get even trivial visibility into the application state. While BPF code is relatively accessible, it's complex to write and maintain. Without substantial high-level tooling, it's unlikely this can be used for generic debugging.</p><div><figure><img src="https://blog.pixielabs.ai/static/12645e1cb582041085ede1877e97c812/wavingnaut.svg"><figcaption></figcaption></figure></div><p>Go dynamic logging is something we are working on at Pixie. You can checkout <a href="https://docs.pixielabs.ai/tutorials/simple-go-tracing/" target="_blank" rel="noopener noreferrer">this</a> to see how Pixie traces Go applications running on K8s clusters. If this post's contents are interesting, please give <a href="https://pixielabs.ai/" target="_blank" rel="noopener noreferrer">Pixie</a> a try, or check out our <a href="https://pixielabs.ai/career" target="_blank" rel="noopener noreferrer">open positions</a>.</p><h2>References</h2><ul><li><a href="https://github.com/iovisor/gobpf" target="_blank" rel="noopener noreferrer">iovisor/gobpf</a></li><li><a href="https://github.com/iovisor/bcc" target="_blank" rel="noopener noreferrer">iovisor/bcc</a></li><li>GoPoland Meetup <a href="https://www.youtube.com/watch?v=SlcBq3xDc7I" target="_blank" rel="noopener noreferrer">Video</a> + <a href="https://www.slideshare.net/ZainAsgar/go-logging-using-ebpf" target="_blank" rel="noopener noreferrer">Slides</a></li><li>GoBangalore Meetup <a href="https://www.youtube.com/watch?v=0mxUU_--dDM&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer">Video</a>. Checkout Below:</li></ul><iframe width="560" height="315" src="https://www.youtube.com/embed/0mxUU_--dDM?start=15" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div></div></div>]]>
            </description>
            <link>https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24494486</guid>
            <pubDate>Wed, 16 Sep 2020 16:50:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Modern Web Applications Stability]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24493865">thread link</a>) | @blazeeboy
<br/>
September 16, 2020 | https://www.emadelsaid.com/on-modern-web-applications-stability/ | <a href="https://web.archive.org/web/*/https://www.emadelsaid.com/on-modern-web-applications-stability/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    <div>
    <section dir="auto">
  


  

  <div dir="auto">
    <p>I don’t like how modern web applications are built. Many of the web applications
are too unstable, That you can’t imagine having the system running without a
team supporting it. The fact that we try to automate manual processes then the
automation needs manual intervention defies the purpose. Some companies has an
army of developers if they were to do the business by hand they would make a
better job than the programmed system. There are many reasons for this
situation. One of the reasons is the excessive use of third party dependencies.</p>

<p>Lets take a look on a basic modern web based system, There are several layers
on software running on the machine, starting from firmware to your business
logic.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_212438.jpg" alt="IMG_20200915_212438.jpg"></p>

<p>I don’t think this is very helpful to understand the gravity of the situation.
There are many actors that are not considered in this picture. Layers are also
missing because they are implicit in other layers. Lets expand these hidden
layers and actors. It will help us understand better why that small Nodejs or
RubyOnRails application we wrote isn’t just one layer in this picture.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_214548.jpg" alt="IMG_20200915_214548.jpg"></p>

<p>Here are the layers we added this time:</p>

<ul>
  <li>System core utilities</li>
  <li>Other processes your application depends on like “memcached, Redis, MySQL,
Postgres…etc”</li>
  <li>Third party code your application depends on an ORM, Template engine,
pagination library, a library that <a href="https://www.theregister.com/2016/03/23/npm_left_pad_chaos/">pads your string with
spaces</a> just
because.</li>
  <li>Server applications that sits in front of your code handling HTTP and response
compression…etc.</li>
</ul>

<p>For each of these layers there is <strong>at least</strong> one team responsible for
maintaining it.</p>

<p>Again, We missed other layers and people in this picture. Most of the
applications are using external SAAS providers for logs or monitoring or bug
reporting or provide parts of the system functionality that can take more time
to build by the company team. lets add them to the picture along with their
teams.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_221047.jpg" alt="IMG_20200915_221047.jpg"></p>

<p>This picture is for one application, I won’t expand it to a whole system with
different services and programs that is the reality of all companies.
Lets stick to one application for the sake of simplicity.</p>

<p>So here is the first point I want to make: With every service you use you’re not
just a user, This service is now part of your application, You are held
responsible for it’s behavior and misbehaving. You will inherit bugs in their
system. When this service team is affected by COVID-19 and get reduced to the
point where they can’t fix issues you will be affected too. When They get slower
your application will get slower too. When their service is down your
application will experience malfunction too, Your system and theirs is now
connected. So add external services integration cautiously. By adding an
external system you’re putting your trust in this service team and their ability
in delivering what the service is promising now <strong>and</strong> in the future. This is not
an easy decision and it should be treated as such.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_224907.jpg" alt="IMG_20200915_224907.jpg"></p>

<p>Now lets move to the direct dependencies of your application. If you’re using
any modern programming language it’ll have a way to package code into reusable
format that could be reused by other applications. one package can use code from
other packages, these packages can use other packages and so on like a tree.</p>

<p><img src="https://www.emadelsaid.com/images/IMG_20200915_231326.jpg" alt="IMG_20200915_231326.jpg"></p>

<p>With every package in this tree we depend on the code inside this package and
the team that maintains it. A freshly generated rails project depends on 74
packages for ruby and <code>Yarn list</code> that lists JavaScript dependencies output 3102
lines, that’s 3176 packages with teams maintaining them and bugs and new
versions all the time.</p>

<p>This is wrong for many reasons. I will list some of them here for the sake of
clarity.</p>

<ul>
  <li>You have put your trust in at least 3176 other developers. You have never met
them, never talked to them, there are no guarantee they will continue to
maintain this package. There are no guarantee they won’t put code in their
package to show <a href="https://www.zdnet.com/article/npm-bans-terminal-ads/">ads in your
terminal</a> or <a href="https://www.trendmicro.com/vinfo/dk/security/news/cybercrime-and-digital-threats/hacker-infects-node-js-package-to-steal-from-bitcoin-wallets">code that
steals your bitcoin wallets
</a>.</li>
  <li>You are not really using all of this code. When someone is writing an open
source package it will suffer sooner or later from <a href="https://en.wikipedia.org/wiki/Feature_creep">feature
creeping</a> You are probably using
couple features of this package and don’t need the rest, but you wanted the
banana and got the whole forest now.</li>
  <li>With every package update you’re inventing unnecessary work for yourself. New
versions of packages are released all the time. Updating your project to <strong>get
the latest bug fixes and features</strong> is usually what people do. Most of the
time because of feature creeping these versions changes are not relevant to
you at all, but you won’t know until you read the change log. If it’s relevant
to your project you’ll need to do an update. if something is deprecated or
changed you’ll need to change your code. So suddenly someone somewhere is
telling you to change your code. That’s part of the control you have over your
code handed over to someone you never talked to or knew.</li>
  <li>When your programming language has a new release you can’t update unless all of
your dependencies are up to date. For ruby 2.7.0 for example some language syntax is
now deprecated and shows warning when you run your project. So to fix that you
either fix it in the package and open a PR with the change or wait for the
maintainer to update it.</li>
  <li>When you encounter a bug in a dependency you will have to understand this
package code, fork, branch, fix rinse and repeat. That requires a some
cooperation from the library maintainer which is most of the time isn’t
possible because most of the open source projects are voluntarily maintained.</li>
  <li>Developing new features or modifying existing features are ordre of magnitude
harder. You’ll need to dig into the documentation of the dependencies looking
for support for this little feature you want to add. That is if there is any
documentation at all for that part of the code. Otherwise you’ll have to dig
in to the library code.</li>
</ul>

<p>This is the second point I want to make: Using external library implies that you
trust the maintainer and you also inherit his decisions about using other
libraries and so forth. This decision should be weighed based on the benefit of
the library and how many of it’s features you’re going to use and other factors
like the maturity and how responsive is the maintainer, please don’t use GitHub
stars as a factor in your decision it’s misleading. And if the part you use from
the library isn’t too big I recommend using the library to save some time and
effort upfront but make sure you get rid of it and implement the part you need.
An example of that is a pagination library like rails “Kaminari” if you’re using
it to save you some time then sure. But keep on your todo list a task to remove
it and implement the feature yourself. An example of libraries that’s hard to
get rid of it “OpenCV” This is something that reimplementing the part you need
probably will be a huge task so it can stay. You’ll need to use your best
judgment to decide between these 2 sides of the spectrum.</p>

<p>I like to think of what I do as building an automated system, I would like this
system to run by itself, keep itself clean and healthy, doesn’t need manual
intervention. If the whole team disappeared out of existence I would like that
system to work for a very long time without any supervision.</p>

<p>More code means more bugs for me to fix, by extension more code that I didn’t write
means more bugs that I probably can’t solve. This is dangerous and shouldn’t be
taken lightly. Extending your code with external libraries or systems can cut
down effort hence the cost of development. But when this is taken lightly it
backfires badly.</p>

  </div>
</section>

<hr>



    </div>
  </section></div>]]>
            </description>
            <link>https://www.emadelsaid.com/on-modern-web-applications-stability/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24493865</guid>
            <pubDate>Wed, 16 Sep 2020 15:56:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Challenging LR Parsing]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 30 (<a href="https://news.ycombinator.com/item?id=24492675">thread link</a>) | @dilap
<br/>
September 16, 2020 | https://rust-analyzer.github.io/blog/2020/09/16/challeging-LR-parsing.html | <a href="https://web.archive.org/web/*/https://rust-analyzer.github.io/blog/2020/09/16/challeging-LR-parsing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Consider this incomplete snippet of Rust code:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
</pre></td><td><pre><span>fn</span> <span>foo</span><span>(</span>

<span>struct</span> <span>S</span> <span>{</span>
   <span>f</span><span>:</span> <span>u32</span>
<span>}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>I want to see an LR parser which produces the following syntax tree
(from <a href="https://rust-analyzer.github.io/manual.html#show-syntax-tree"><strong>Show Syntax Tree</strong></a> rust-analyzer command, with whitespace nodes elided for clarity):</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td><pre>SOURCE_FILE@0..32
  FN@0..7
    FN_KW@0..2 "fn"
    NAME@3..6
      IDENT@3..6 "foo"
    PARAM_LIST@6..7
      L_PAREN@6..7 "("
  STRUCT@9..31
    STRUCT_KW@9..15 "struct"
    NAME@16..17
      IDENT@16..17 "S"
    RECORD_FIELD_LIST@18..31
      L_CURLY@18..19 "{"
      RECORD_FIELD@23..29
        NAME@23..24
          IDENT@23..24 "f"
        COLON@24..25 ":"
        PATH_TYPE@26..29
          PATH@26..29
            PATH_SEGMENT@26..29
              NAME_REF@26..29
                IDENT@26..29 "u32"
      R_CURLY@30..31 "}"
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>The most error-resilient LR-style parser I know, <a href="https://github.com/tree-sitter/tree-sitter">tree sitter</a>, produces this instead (tree sitter is GLR, this is <strong>not</strong> the style of parsing advocated by the article):</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
</pre></td><td><pre>source_file [0, 0] - [5, 0])
  ERROR [0, 0] - [4, 1])
    identifier [0, 3] - [0, 6])
    struct_pattern [2, 0] - [4, 1])
      type: type_identifier [2, 0] - [2, 6])
      ERROR [2, 7] - [2, 8])
        identifier [2, 7] - [2, 8])
      field_pattern [3, 3] - [3, 9])
        name: field_identifier [3, 3] - [3, 4])
        pattern: identifier [3, 6] - [3, 9])
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>Note two things about the rust-analyzer’s tree:</p>
<div>
<ul>
<li>
<p>There’s an (incomplete) “function” node for <code>fn foo(</code>.
Unclosed parenthesis doesn’t preclude the parser from recognizing parameter list.</p>
</li>
<li>
<p>Incomplete function does not prevent struct definition from being recognized.</p>
</li>
</ul>
</div>
<p>These are important for IDE support.</p>
<p>For example, suppose that the cursor is just after <code>(</code>.
If we have rust-analyzer’s syntax tree, than we can figure out that we are completing a function parameter.
If we are to get fancy we might find the calls to the (not yet fully written) <code>foo</code>, run type inference to figure out the type of the first argument, and than suggest parameter name &amp; type based on that (not currently implemented — there’s soooooo much yet to be done in rust-analyzer).
And correctly recognizing <code>struct S</code> is important to not break type-inference in the code which uses <code>S</code>.</p>
<p>There’s a lot of literature about error recovery for LR parsers, how come academics haven’t figured this out already?
I have a bold claim to make: error-recovery research in academia is focusing on a problem irrelevant for IDEs.
Specifically, the research is focused on finding “minimal cost repair sequence”:</p>
<div>
<ul>
<li>
<p>a set of edit operations is defined (skip, change or insert token),</p>
</li>
<li>
<p>a “cost” metric is defined to distinguish big and small edits,</p>
</li>
<li>
<p>an algorithm is devised to find the smallest edit which makes the current text parse.</p>
</li>
</ul>
</div>
<p>This is a very academia-friendly problem — there’s a precise mathematical formulation, there’s an obvious brute force solution (try all edits), and there’s ample space for finding polynomial algorithm.</p>
<p>But IDEs don’t care about actually guessing &amp; repairing the text!
They just need to see as much of (possibly incomplete) syntax nodes in the existing text as possible.
When rust-analyzer’s parser produces</p>
<div>
<div>
<pre><code><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre>  PARAM_LIST@6..7
    L_PAREN@6..7 "("
STRUCT@9..31
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>it doesn’t think “Oh, I need to insert <code>)</code> here to complete the list of parameters”.
Rather, it sees <code>struct</code> and thinks “Oh wow, didn’t expect that! I guess I’ll just stop parsing parameter list right here”.</p>
<p>So, here’s</p>
<div>
<table>
<tbody><tr>
<td>
<i title="Important"></i>
</td>
<td>
<p>First Challenge</p>
Design error <em>resilient</em> (and not just error <em>recovering</em>) LR parsing algorithm.
</td>
</tr>
</tbody></table>
</div>
<p>Note that error resilience is a topic orthogonal to error reporting.
I haven’t payed much attention to error reporting (in my experience, synchronous reporting of syntax errors in the editor compensates for bad syntax error messages), but it might be the case that MCRS are a good approach to there.</p>
</div></div>]]>
            </description>
            <link>https://rust-analyzer.github.io/blog/2020/09/16/challeging-LR-parsing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492675</guid>
            <pubDate>Wed, 16 Sep 2020 13:48:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Direct sales for SaaS startups – our experience and tips]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24492609">thread link</a>) | @pau_alcala
<br/>
September 16, 2020 | https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups | <a href="https://web.archive.org/web/*/https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>While finding product-market fit for <a href="https://www.palabra.io/?utm_medium=direct-sales-tips-startups&amp;utm_source=blog">Palabra</a>, our marketing strategy was exclusively organic and our first sales came from 1-1 conversations with potential users. After a month of difficult conversations and failed demos, I learned a very new and innovative approach to direct sales: actually listening to what people are saying. In this post I'll share my experience and some tips to listen to users, in the hopes of saving founders &amp; early startup teams some time and energy.</p><h2>What we mean by direct sales</h2><p>As the name suggest, direct sales means you talk directly to your prospect and try to sell them your solution via a 1-1 conversation. This conversation usually starts by reaching the prospect you think your product would work for, and sharing why you think your solution would be good for them.</p><p>Taking a direct approach is more common for B2B businesses, because the decision to purchase is strategical and the price is higher, which means you get a bigger return for each user you convert. But I think it's a good strategy to follow for any early stage SaaS, because it's an easy and direct way of learning about your users and implementing solutions that work for them.</p><p>The biggest challenges to direct sales is finding the right prospects and knowing how to show them value as quickly as possible. With direct conversations you'll probably get a higher conversion rate than self-served sales, but at a much slower rate.</p><h2>Why direct sales in a SaaS startup?</h2><p>When we launched Palabra we had no audience and not enough user data to understand who we should be targeting or how to convert them into paying users. We had two possible paths to follow:</p><ol><li>Awareness-first: Experimenting with low-budget ads or organic strategies in different channels, with different messages to see which stick better. This approach is the startup playbook, feeding the top of the funnel with as many prospects as possible assuming most of them will not end up buying, and learn how to convert them better later on.</li><li>Conversion-first: Spending almost no time to feed the top of the funnel (keep a low stream of leads and prospects) but improving that funnel to have better conversions. Leads would be scarce, but we'd learn how to qualify them and provide value so they are willing to buy and stay around.</li></ol><p>The first path was the riskier for us. First, because we had little experience with paid acquisition, and wouldn't know if our misses would be due to lack of experience or just wrong channels.</p><p>Second, we wanted to engage in deep conversations with users as soon as possible. We didn't really care about general trends, we wanted to actually understand what people were struggling with in email automation, and where to take our product so that it worked for them. That's why we decided to take the second path.</p><p>Our initial strategy was to ask a bunch of questions about people's current email automation strategies and try to turn the initial conversation into a sales pitch. We'd learn fast and get a few sales in the meantime.</p><p>Sounds easy, right? Well, it was not.</p><h2>What a failed sales conversation looks like</h2><p>After my first couple of calls I knew I was doing something wrong, but didn't know what it was. Sign ups were rarely because of my "sales" 1-1s, and every conversation left me with a sour feeling.</p><p>What usually happened was that I got to a call, asked the person a couple of questions about their strategies, and at some point I'd get nervous and start talking a lot. People are usually nice and would listen to what I had to say, but I could feel they weren't really interested, and felt like I was wasting time.</p><p>So what was I doing wrong?</p><p>After talking with my co-founder and a couple of friends in the SaaS industry, I found that I wasn't really paying attention to what prospects were saying. My team would ask questions about our prospects that I didn't know how to answer.</p><p>That meant I wasn't really selling, but I also wasn't learning about our users. I found I had to learn how to listen first, and sell later.</p><h2>How to talk less and sell more</h2><p>Listening to prospects is not at easy as it sounds when you are worried about selling them your solution. Specially if you're in early stage and don't have much experience selling software, it'll be hard to keep a clear mind and letting the user take the conversation where they want to.</p><p>But here's the thing: selling isn't about convincing people to try your product, it's about identifying how your product can solve a problem for them.</p><p>In a direct sales conversation, you should have two take outs:</p><ol><li>Identifying if the person you're talking to has a problem you could solve (the more details the better)</li><li>Communicating clearly how your product is a solution to their problem.</li></ol><p>If you fail at #1, you'll end up trying to convince people who don't actually have a problem you could help them with. Those are not your users, and there's nothing you can do today to make their life easier. Even if you somehow convince them to sign up, they'll probably cancel their subscription, making your churn go up.</p><p>Failing at #2 is usually connected to #1, because the only way of communicating a solution clearly is to understand the problem perfectly. You have to <strong>listen really carefully</strong> to understand what those problems are.</p><p>Most of your conversations with prospects should be about #1. Make a lot of questions. Listen closely and follow up on what isn't clear. Make the other person feel listened to. Worst case scenario, you end up with valuable insights about what problems people have. As an early stage startup, this information is crucial to find product-market fit.</p><p>Here are some lessons I learned while taking a direct sales approach to SaaS. Most of them came from reading <a href="http://momtestbook.com/">The Mom Test</a>, talking to awesome people and experimenting on my own.</p><h2>3 direct sales tips to listen to your users</h2><h3>Writing down what you want to get from the conversation</h3><p>This list should be really short. My initial conversation guide had 15+ questions to get to understand the problem, and then a short demo. It worked kinda fine, but I usually got lost by question 5, and then started thinking about what to ask next instead of listening to the answer.</p><p>The Mom Test suggests you should "prepare your list of 3". Three things you want to get from each conversation, depending on who you'll be talking to. And that was magic.</p><p>In early Palabra demos, when I asked to have a quick chat to someone in a startup, I usually had three different scenarios:</p><ul><li>The founder talked to me directly, who had no details about the email automation strategies his/her team was using but could provide context.</li><li>I talked to a marketer in the startup, who usually had many years of experience and had tried a bunch of other email automation tools.</li><li>I talked to a technical co-founder or dev, who had a lot of questions about technical aspects of Palabra and had tried different integrations before.</li></ul><p>I prepared three different notes to look at before each conversation, one for each "buyer" persona, and wrote down my list of three.</p><p>I started asking questions that came to mind from listening to what people were saying, and spend almost no time looking at my notes. If I ever felt I was starting to get lost, I just glanced to my list of three for that particular person to check if I was missing something. Freedom.</p><h3>Having a structured set of questions</h3><p>This advice came from a great friend and the <a href="http://sofandrade.com/">best UX designer I've met</a>. She knows all about user interviews, and since I was also trying to learn from our prospects, I knew it would help. Her advice was to divide my questions into chunks or topics I wanted to know about.</p><p>Having differentiated topics gives you flexibility to follow the conversation and not worry about what to ask after each answer. If you ask a question from the first topic and your user's answer goes to a slightly different topic, you can go to that part of your guide and then come back after that's done.</p><p>As an example, this was the structure I ended up using for each guide:</p><ul><li>About them/their job/their goals</li><li>About their emails, what they were using them from</li><li>About their email automation tools, what they were using and how</li><li>About their pains, what was missing from their current tools?</li></ul><p>What usually happened is that my email questions got answers related to tools. So I just moved over to the "tools" set of questions and then looked to see if I was missing something important at the end.</p><p>A smart move was to leave questions about pains for last. By then I usually had enough information about their problem and could offer a clear solution with Palabra.</p><p>If we had a solution, I'd briefly tell people why I thought this would work, and offered to show them in a demo. By focusing on their specific solution in the demo, I only showed one feature and not the whole product, which was a much better use of everyone's time.</p><h3>Doing some background research - but still ask people</h3><p>You can't go into a sales pitch without knowing who you're talking to. For B2B sales you need to know about the company and the person you're actually going to talk to. The key here is to use that information wisely.</p><p>I used to start conversations on what I'd learned from their landing page, to let people know I had done my homework. But his was actually making me start with the wrong foot -by talking too much.</p><p>Asking about their company and what they do there gives you inside information you wouldn't get from LinkedIn or a landing page. And it also helps break the ice, since it's an easy answer for anyone.</p><p>My solution was full transparency. I started each conversation by saying I had done a bit of research about them but still wanted to hear from themselves. Then I would ask what they usually do.</p><p>This was incredibly effective. Being honest took away all of my nervousness and allowed me to relax into the conversation. I felt like I had no secrets, I was just telling the truth and asking questions. And I think this works both ways: the person you're talking to will probably trust you more if you're honest about what you're doing.</p><p>Just …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups">https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups</a></em></p>]]>
            </description>
            <link>https://blog.palabra.io/learning-to-listen-direct-sales-tips-for-early-stage-startups</link>
            <guid isPermaLink="false">hacker-news-small-sites-24492609</guid>
            <pubDate>Wed, 16 Sep 2020 13:40:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reveal 1.0: Read Eval Visualize Loop for Clojure]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24490363">thread link</a>) | @vlaaad
<br/>
September 16, 2020 | https://vlaaad.github.io/reveal/ | <a href="https://web.archive.org/web/*/https://vlaaad.github.io/reveal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      
      <p><img src="https://vlaaad.github.io/assets/reveal/demo.gif" alt="Demo"></p>



<ul id="markdown-toc">
  <li><a href="#rationale" id="markdown-toc-rationale">Rationale</a></li>
  <li><a href="#give-it-a-try" id="markdown-toc-give-it-a-try">Give it a try</a></li>
  <li><a href="#features" id="markdown-toc-features">Features</a>    <ul>
      <li><a href="#tap-support" id="markdown-toc-tap-support"><code>tap&gt;</code> support</a></li>
      <li><a href="#eval-on-selection" id="markdown-toc-eval-on-selection">Eval on selection</a></li>
      <li><a href="#inspect-object-fields-and-properties" id="markdown-toc-inspect-object-fields-and-properties">Inspect object fields and properties</a></li>
      <li><a href="#look-and-feel-customization" id="markdown-toc-look-and-feel-customization">Look and feel customization</a></li>
      <li><a href="#url-and-file-browser" id="markdown-toc-url-and-file-browser">URL and file browser</a></li>
      <li><a href="#doc-and-source" id="markdown-toc-doc-and-source">Doc and source</a></li>
      <li><a href="#ref-watchers" id="markdown-toc-ref-watchers">Ref watchers</a></li>
      <li><a href="#charts" id="markdown-toc-charts">Charts</a></li>
      <li><a href="#table-view" id="markdown-toc-table-view">Table view</a></li>
      <li><a href="#and-more" id="markdown-toc-and-more">…and more</a></li>
    </ul>
  </li>
  <li><a href="#using-reveal" id="markdown-toc-using-reveal">Using Reveal</a>    <ul>
      <li><a href="#ui-concepts-and-navigation" id="markdown-toc-ui-concepts-and-navigation">UI concepts and navigation</a></li>
      <li><a href="#customization" id="markdown-toc-customization">Customization</a></li>
      <li><a href="#user-api" id="markdown-toc-user-api">User API</a>        <ul>
          <li><a href="#repl" id="markdown-toc-repl"><code>repl</code></a></li>
          <li><a href="#io-prepl" id="markdown-toc-io-prepl"><code>io-prepl</code></a></li>
          <li><a href="#remote-prepl" id="markdown-toc-remote-prepl"><code>remote-prepl</code></a></li>
          <li><a href="#ui" id="markdown-toc-ui"><code>ui</code></a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#editor-integration" id="markdown-toc-editor-integration">Editor integration</a>    <ul>
      <li><a href="#cursive" id="markdown-toc-cursive">Cursive</a></li>
      <li><a href="#nrepl-based-editors" id="markdown-toc-nrepl-based-editors">Nrepl-based editors</a></li>
      <li><a href="#windows" id="markdown-toc-windows">Windows</a></li>
    </ul>
  </li>
  <li><a href="#extending-reveal" id="markdown-toc-extending-reveal">Extending reveal</a>    <ul>
      <li><a href="#formatters" id="markdown-toc-formatters">Formatters</a>        <ul>
          <li><a href="#low-level-text-emitting-sfs" id="markdown-toc-low-level-text-emitting-sfs">Low-level text emitting sfs</a></li>
          <li><a href="#delegating-sfs" id="markdown-toc-delegating-sfs">Delegating sfs</a></li>
          <li><a href="#overriding-sfs" id="markdown-toc-overriding-sfs">Overriding sfs</a></li>
        </ul>
      </li>
      <li><a href="#actions" id="markdown-toc-actions">Actions</a></li>
      <li><a href="#views" id="markdown-toc-views">Views</a>        <ul>
          <li><a href="#short-cljfx-intro" id="markdown-toc-short-cljfx-intro">Short cljfx intro</a></li>
          <li><a href="#built-in-components" id="markdown-toc-built-in-components">Built-in components</a></li>
          <li><a href="#pluggable-context-menu" id="markdown-toc-pluggable-context-menu">Pluggable context menu</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#closing-thoughts" id="markdown-toc-closing-thoughts">Closing thoughts</a></li>
</ul>



<p>Repl is a great window into a running program, but the textual nature of its output limits developer’s ability to inspect the program: a text is not an object, and we are dealing with objects in the VM.</p>

<p>Reveal aims to solve this problem by creating an in-process repl output pane that makes inspecting values as easy as selecting an interesting datum. It recognizes the value of text as a universal interface, that’s why its output looks like a text: you can select it, copy it, save it into a file. Unlike text, reveal output holds references to printed values, making inspecting selected value a matter of opening a context menu.</p>

<p>Unlike datafy/nav based tools, Reveal does not enforce a particular data representation for any given object, making it an open set — that includes datafy/nav as one of the available options. It does not use datafy/nav by default because in the absence of inter-process communication to datafy is to lose.</p>

<p>Not being limited to text, Reveal uses judicious syntax highlighting to aid in differentiating various objects: text <code>java.lang.Integer</code> looks differently depending on whether it was produced from a symbol or a class.</p>



<p>The easiest way to try it is to run a Reveal repl:</p>
<div><div><pre><code>clj <span>\</span>
<span>-Sdeps</span> <span>'{:deps {vlaaad/reveal {:mvn/version "1.0.128"}}}'</span> <span>\</span>
<span>-m</span> vlaaad.reveal repl
</code></pre></div></div>
<p>Executing this command will start a repl and open Reveal output window that will mirror the evaluations in the shell.</p>



<h2 id="tap-support"><code>tap&gt;</code> support</h2>

<p>Clojure 1.10 added <code>tap&gt;</code> function with the purpose similar to printing the value for debugging, but instead of characters you get the object. Reveal repls show tapped values in their output windows — you won’t need <code>println</code> anymore!</p>

<p><img src="https://vlaaad.github.io/assets/reveal/tap.gif" alt="Tap demo"></p>

<h2 id="eval-on-selection">Eval on selection</h2>

<p>You can evaluate code on any selected value by using text input in the context menu. You can write either a single symbol of a function to call or a form where <code>*v</code> will be replaced with selected value.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/eval-on-selection.gif" alt="Eval on selection demo"></p>

<h2 id="inspect-object-fields-and-properties">Inspect object fields and properties</h2>

<p>Any object in the JVM has class and fields, making them easily accessible for inspection is extremely important. With <code>java-bean</code> contextual action you get a debugger-like view of objects in the VM. Access to this information greatly improves the visibility of the VM and allows to explore it. For example, for any class you have on the classpath you can get the place where it’s coming from:</p>

<p><img src="https://vlaaad.github.io/assets/reveal/java-bean.gif" alt="Java bean demo">
I learned about it after implementing this feature :)</p>

<h2 id="look-and-feel-customization">Look and feel customization</h2>

<p>Reveal can be configured with <code>vlaaad.reveal.prefs</code> java property to use different font or theme:</p>

<p><img src="https://vlaaad.github.io/assets/reveal/light-theme.png" alt="Light theme"></p>

<h2 id="url-and-file-browser">URL and file browser</h2>

<p>You can open URL-like things and files: both internally in Reveal and externally using other applications in your OS e.g. file explorer, browser or text editor.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/browse.gif" alt="Browse demo"></p>

<h2 id="doc-and-source">Doc and source</h2>

<p>Reveal can show you documentation and sources for various runtime values — namespaces, vars, symbols, functions, keywords (if they define a spec). Like <a href="https://cljdoc.org/">cljdoc</a>, it supports <code>[[wikilink]]</code> syntax in docstrings to refer to other vars, making them accessible for further exploration.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/doc-and-source.gif" alt="Doc and source demo"></p>

<h2 id="ref-watchers">Ref watchers</h2>
<p>Reveal can watch any object implementing <code>clojure.lang.IRef</code> (things like atoms, agents, vars, refs) and display it either automatically updated or as a log of successors.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/watchers.gif" alt="Ref watchers demo"></p>

<h2 id="charts">Charts</h2>

<p>Reveal can show data of particular shapes as charts that are usually explorable: when you find an interesting data point on the chart, you can then further inspect the data in that data point.</p>

<p>The simplest shape is labeled numbers. Labeled means that those numbers exist in some collection that has a unique label for every number. For maps, keys are labels, for sequential collections, indices are labels and for sets, numbers themselves are labels.</p>

<p>A pie chart shows labeled numbers:</p>

<p><img src="https://vlaaad.github.io/assets/reveal/pie-chart.gif" alt="Pie chart demo"></p>

<p>Other charts support more flexible data shapes — both because they can show more than one data series, and because they can be explored, where it might be useful to attach some metadata with the number. Since JVM numbers don’t allow metadata, you can instead use tuples where the first item is a number and second is the metadata. Bar charts can display labeled numbers (single data series) or labeled numbers that are themselves labeled (multiple data series):</p>

<p><img src="https://vlaaad.github.io/assets/reveal/bar-chart.gif" alt="Bar chart demo"></p>

<p>Line charts are useful to display progressions, so Reveal suggests them to display sequential numbers (and labeled sequential numbers):</p>

<p><img src="https://vlaaad.github.io/assets/reveal/line-chart.gif" alt="Line chart demo"></p>

<p>Finally, Reveal has scatter charts to display coordinates on a 2D plane. A coordinate is represented as a tuple of 2 numbers and as with numbers, you can use a tuple of coordinate and arbitrary value in the place of coordinate. Reveal will suggest scatter charts for collections of coordinates and labeled collections of coordinates.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/scatter-chart.gif" alt="Scatter chart demo"></p>

<h2 id="table-view">Table view</h2>

<p>There are cases where it is better to make sense of the value when it is represented by a table: collections of homogeneous items where columns make it easier to compare corresponding parts of those items, and big deeply nested data structures where it’s easier to look at them layer by layer.</p>

<p><img src="https://vlaaad.github.io/assets/reveal/table.gif" alt="Table view demo"></p>

<h2 id="and-more">…and more</h2>

<p>Reveal was designed to be performant: it can stream syntax-highlighted output very fast. In addition to that, there are various helpers for data inspection:</p>
<ul>
  <li>text search that is triggered by <kbd>/</kbd> or <kbd>Ctrl F</kbd>;</li>
  <li>out of the box <a href="https://github.com/lambdaisland/deep-diff2">lambdaisland’s deep-diff</a> output highlighting: all you need to do is have it on the classpath;</li>
  <li>various contextual actions:
    <ul>
      <li>deref derefable things;</li>
      <li>get meta if a selected value has some meta;</li>
      <li>convert java array to vector;</li>
      <li>view the color of a thing that describes a color (like <code>"#fff"</code> or <code>:red</code>);</li>
    </ul>
  </li>
</ul>



<h2 id="ui-concepts-and-navigation">UI concepts and navigation</h2>

<p><img src="https://vlaaad.github.io/assets/reveal/concepts.png" alt="Concepts"></p>

<p>Reveal UI is made of 3 components:</p>
<ul>
  <li>output panel that contains data submitted to reveal window (e.g. repl output);</li>
  <li>a context menu that can invoke actions on selected values;</li>
  <li>results panel that has 1 or more tabs with action results produced from the context menu.</li>
</ul>

<p>Navigation:</p>
<ul>
  <li>Use <kbd>Space</kbd>, <kbd>Enter</kbd> or right mouse button to open a context menu on selection;</li>
  <li>Use <kbd>Tab</kbd> to switch focus between output and results panel;</li>
  <li>In results panel:
    <ul>
      <li>Use <kbd>Ctrl ←</kbd> and <kbd>Ctrl →</kbd> to switch tabs in results panel;</li>
      <li>Use <kbd>Esc</kbd> to close the tab</li>
    </ul>
  </li>
  <li>In a context menu:
    <ul>
      <li>Use <kbd>↑</kbd> and <kbd>↓</kbd> to move focus between available actions and input text field;</li>
      <li>Use <kbd>Enter</kbd> to execute selected action or form written in the text field;</li>
      <li>Use <kbd>Esc</kbd> to close the context menu.</li>
    </ul>
  </li>
</ul>

<h2 id="customization">Customization</h2>

<p>Reveal can be customized using <code>vlaaad.reveal.prefs</code> java property that contains an edn map of UI preferences. Supported keys (all optional):</p>
<ul>
  <li><code>:theme</code> — color theme, <code>:light</code> or <code>:dark</code>;</li>
  <li><code>:font-family</code> — system font name (like <code>"Consolas"</code>) or URL (like <code>"file:/path/to/font.ttf"</code> or <code>"https://ff.static.1001fonts.net/u/b/ubuntu.mono.ttf"</code>) — reveal only supports monospaced fonts;</li>
  <li><code>:font-size</code> — font size, number.</li>
</ul>

<p>Example:</p>
<div><div><pre><code><span>$ </span>clj <span>-A</span>:reveal <span>\</span>
<span>-J-Dvlaaad</span>.reveal.prefs<span>=</span><span>'{:font-family "Consolas" :font-size 15}'</span> <span>\</span>
<span>-m</span> vlaaad.reveal repl
</code></pre></div></div>

<h2 id="user-api">User API</h2>

<p>The main entry point to Reveal is <code>vlaaad.reveal</code> ns that has various repls and lower-level functionality for data inspection.</p>

<h3 id="repl"><code>repl</code></h3>

<p>It is a repl wraps <code>clojure.main/repl</code> with additional support for <code>:repl/quit</code> and <code>tap&gt;</code>. It is as simple as it gets. I use it all the time. Example:</p>

<div><div><pre><code><span>$ </span>clj <span>-A</span>:reveal <span>-m</span> vlaaad.reveal repl
<span># Reveal window appears</span>
Clojure 1.10.1
<span>user</span><span>=&gt;</span>
</code></pre></div></div>

<h3 id="io-prepl"><code>io-prepl</code></h3>

<p>This prepl works like <code>clojure.core.server/io-prepl</code>. Its purpose is to be run in a process on your machine that you want to connect to using another prepl-aware tool. Example:</p>

<div><div><pre><code><span>$ </span>clj <span>-A</span>:reveal <span>\</span>
<span>-J-Dclojure</span>.server.reveal<span>=</span><span>'{:port 5555 :accept vlaaad.reveal/io-prepl}'</span>
</code></pre></div></div>
<p>Now you can connect to this process using any socket repl and it will show a Reveal window for every connection:</p>
<div><div><pre><code><span>$ </span>nc localhost 5555
<span># reveal window appears</span>
<span>(</span>+ 1 2 3<span>)</span> <span># input</span>
<span>{</span>:tag :ret, :val <span>"6"</span>, :ns <span>"user"</span>, :ms 1, :form <span>"(+ 1 2 3)"</span><span>}</span> <span># output</span>
</code></pre></div></div>

<h3 id="remote-prepl"><code>remote-prepl</code></h3>

<p>Reveal is the most useful when it runs in the process where the development happens. This prepl, unlike the previous two, is not like that: it connects to a remote process and shows a window for values that arrived from the network. It can’t benefit from easy access to printed references because these references are pointing to values deserialized from bytes, not values in the target VM. It’s still nice and performant repl, and it’s useful when you want to use Reveal to talk to another process that does not have Reveal on the classpath (e.g. production or ClojureScript prepl).</p>

<p>Example:</p>
<ol>
  <li>Start a prepl without Reveal on the classpath:
    <div><div><pre><code><span>$ </span> clj <span>\</span>
<span>-Sdeps</span> <span>'{:deps {org.clojure/clojurescript {:mvn/version "1.10.764"}}}'</span> <span>\</span>
<span>-J-Dclojure</span>.server.cljs-prepl<span>=</span><span>'{:port 50505 :accept cljs.server.browser/prepl}'</span>
</code></pre></div>    </div>
  </li>
  <li>Connect to that prepl using Reveal:
    <div><div><pre><code>$ clj -A:reveal -m vlaaad.reveal remote-prepl :port 50505
# at this point, 2 things happen:
# 1. Browser window with cljs prepl appears
# 2. Reveal window opens

# input
js/window

# output
{:tag :ret, 
 :val #object [Window [object Window]], 
 :ns "cljs.user", 
 :ms 25, 
 :form "js/window"}
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="ui"><code>ui</code></h3>

<p>Calling this function will create and show a Reveal window. It returns a function that you can submit values to — they will appear in the output panel. All built-in visual repls are thin wrappers of other repls that submit values to a window created by this generic function. You can use it to create custom Reveal-flavored repls, or, instead of using it as a repl, you can configure Reveal to only show tapped values.</p>

<p>Example:</p>
<div><div><pre><code><span>(</span><span>require</span><span> </span><span>'</span><span>[</span><span>vlaaad.reveal</span><span> </span><span>:as</span><span> </span><span>reveal</span><span>])</span><span>

</span><span>;; open a window that will show tapped values:</span><span>
</span><span>(</span><span>add-tap</span><span> </span><span>(</span><span>reveal/ui</span><span>))</span><span>

 </span><span>;; submit value to the window:</span><span>
</span>…</code></pre></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vlaaad.github.io/reveal/">https://vlaaad.github.io/reveal/</a></em></p>]]>
            </description>
            <link>https://vlaaad.github.io/reveal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490363</guid>
            <pubDate>Wed, 16 Sep 2020 07:33:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why is Apple acting like an Asshole?]]>
            </title>
            <description>
<![CDATA[
Score 392 | Comments 290 (<a href="https://news.ycombinator.com/item?id=24490326">thread link</a>) | @ig0r0
<br/>
September 16, 2020 | https://www.jessesquires.com/blog/2020/09/15/why-is-apple-acting-like-an-asshole/ | <a href="https://web.archive.org/web/*/https://www.jessesquires.com/blog/2020/09/15/why-is-apple-acting-like-an-asshole/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>Today Apple announced <a href="https://www.apple.com/apple-events/september-2020/">at their media event</a> that the final public release of iOS 14 ships tomorrow, which came as quite a shock to all third-party developers.</p>

<!--excerpt-->

<p>This unwelcome surprise comes against the backdrop of dozens of controversies around the App Store — most recently <a href="https://www.theverge.com/2020/6/16/21293419/hey-apple-rejection-ios-app-store-dhh-gangsters-antitrust">Hey.com</a> and <a href="https://daringfireball.net/linked/2020/08/28/apple-terminates-epic-games-account">Epic</a>, but more generally its <a href="https://marco.org/2020/09/11/app-review-changes">painfully confusing</a> and <a href="https://inessential.com/2020/05/10/heads_up_to_rss_reader_authors">arbitrarily applied</a> rules, its incomprehensible <a href="https://mjtsai.com/blog/tag/rejection/">app rejections</a> and their often sudden retractions, app <a href="https://www.macrumors.com/2016/03/07/flexbright-adjust-display-temperature/">approvals followed by sudden removals</a> without explanation, and the general unequal treatment of developers where <a href="https://gizmodo.com/researchers-uber-s-ios-app-had-secret-permissions-that-1819177235">big companies</a> or favorites <a href="https://mjtsai.com/blog/2019/02/27/bbedit-12-6-to-return-to-the-mac-app-store/">get special treatment</a>. It leaves me wondering, what the hell is Apple’s strategy here? This is not a flurry of bad PR for the sake of it. There are serious problems here that need to be addressed — in particular, Developer Relations.</p>

<div>
    
    <div>
        <figure>
            <img src="https://www.jessesquires.com/img/appholes.jpg" title="Appholes" alt="Appholes">
            <div>
                
            </div>
        </figure>
    </div>
    
</div>

<h4>* * *</h4>

<p>Historically, these events announce new hardware and the upcoming release of the next major version of iOS, which is typically made public a few days later or the following week. For as long as I can remember it goes something like this:</p>

<ul>
  <li>Apple hosts a media event on a Tuesday in September.</li>
  <li>Announcements include new iPhones, iPads, and Watches. Or, at least some combination of those. Maybe something about Apple TV.</li>
  <li>All of the new hardware will run the latest version of iOS (or watchOS, or tvOS).</li>
  <li>The next major release of iOS is announced to be shipping on Friday (in a few days) or sometime the following week, like the next Tuesday.</li>
</ul>

<p>But today, Apple announced that iOS 14 is shipping <strong>tomorrow</strong>. This was near the end of the event — at roughly 11:00 AM Pacific time. This means West Coast developers have half a day to put the final touches on their app updates for iOS 14 <strong>AND</strong> get their apps submitted with the just-released Xcode 12 GM <strong>AND</strong> get through App Store review. None of those tasks are trivial, and no one familiar with them would agree that this is a sufficient amount of time to complete them. If you happen to be working on the East Coast, this means you were given just a few hours before the working day was over to get your app ready and submitted. And if you live in Europe or anywhere else in the world, well, go fuck yourself and good luck tomorrow!</p>

<p>On top of this, critical bugs still exist in the latest releases of the SDKs, Xcode 12, and iOS 14. It seems they will not be addressed.</p>

<h4>* * *</h4>

<p>Given the increasingly tenuous relationship that Apple has with developers, I do not understand how it could be in their interest to act like such an asshole right now. Not to mention, it is unlikely that they will even be able to review all of these app submissions in time. We already do not feel valued due to the aforementioned issues, and this is an outright negligent response to developer relationships the company has damaged over the past few years. Announcing that iOS 14 ships tomorrow with virtually no notice to developers is yet another breach of trust, another disappointment, and quite frankly feels like a big ‘fuck you’ to developers. What purpose does it serve to place this last-minute, unnecessary stress on third-party developers?</p>

<p>Who is in charge of iOS releases at Apple that thought this was a good idea? Who is the head of Developer Relations that thought this was a good idea?</p>

<p>To whomever made these decisions: <strong>y’all fucked up. Again.</strong></p>

    </div></div>]]>
            </description>
            <link>https://www.jessesquires.com/blog/2020/09/15/why-is-apple-acting-like-an-asshole/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490326</guid>
            <pubDate>Wed, 16 Sep 2020 07:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bazel For Open-Source C/C++ Libraries Distribution]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 56 (<a href="https://news.ycombinator.com/item?id=24490089">thread link</a>) | @todsacerdoti
<br/>
September 15, 2020 | https://liuliu.me/eyes/bazel-for-libraries-distribution-an-open-source-library-author-perspective/ | <a href="https://web.archive.org/web/*/https://liuliu.me/eyes/bazel-for-libraries-distribution-an-open-source-library-author-perspective/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In the past a few days, I’ve been experimenting with Bazel as a library distribution mechanism for <a href="https://github.com/liuliu/ccv">ccv</a>.</p>

<p>I am pretty familiar with hermetic build systems at this point. My main knowledge comes from Buck dating 8 years back. At that time, it never occurred to me such a build system could eventually be a library distribution mechanism. During the same 8 years, NPM has taken over the world. New language-dependent package managers such as Go module, Cargo and Swift Package Manager popularized the concept of using the public repositories (GitHub) as the dependency references. Languages prior to this period, mainly C / C++ are moving to this direction, slowly.</p>

<p><a href="https://github.com/liuliu/ccv">ccv</a> has a simple autoconf based feature detection / configuration system. You would expect the package to work when <code>./configure &amp;&amp; make</code>. However, it never made any serious attempt to be too smart. My initial experience with monorepos at companies strongly influenced the decision to have a simple build system. I fully expect that serious consumers will vendor the library into their monorepo using their own build systems.</p>

<p>This has been true for the past a few years. But as I am finishing up <a href="https://libnnc.org/">nnc</a> and increasingly using that for other closed-source personal projects, maintaining a closed-source <em>monorepo</em> setup for my personal projects while upstreaming fixes is quite an unpleasant experience. On the other hand, <a href="https://libnnc.org/">nnc</a> from the beginning meant to be a low-level implementation. I am expected to have high-level language bindings at some point. Given that I am doing more application-related development with <a href="https://libnnc.org/">nnc</a> in closed-source format now, it feels like the right time.</p>

<p>Although there is no one-true library distribution mechanism for C / C++, there are contenders. From the good-old apt / rpm, to Conan, which has gained some mind-share in the open-source world in recent years.</p>

<p>The choice of Bazel is not accidental. I’ve been doing <a href="https://liuliu.me/eyes/migrating-ios-project-to-bazel-a-real-world-experience/">some Swift development with Bazel</a> and the experience has been positive. Moreover, the choice of high-level binding language for <a href="https://libnnc.org/">nnc</a>, I figured, would be Swift.</p>

<h2 id="configure">Configure</h2>

<p><a href="https://github.com/liuliu/ccv">ccv</a>’s build process, as much as I would rather not, is host-dependent. I use autoconf to detect system-wide libraries such as libjpeg and libpng, to configure proper compiler options. Although <a href="https://github.com/liuliu/ccv">ccv</a> can be used with zero dependency, in that configuration, it can sometimes be slow.</p>

<p>Coming from the monorepo background, Bazel doesn’t have many utilities that are as readily available as in autoconf. You can write automatic configurations in Starlark as <a href="https://docs.bazel.build/versions/master/skylark/repository_rules.html">repository rules</a>, but there is no good documentation on how to write robust ones.</p>

<p>I ended up <a href="https://github.com/liuliu/ccv/blob/unstable/WORKSPACE#L25">letting whoever use ccv to decide how they are going to enable certain features</a>. For things like CUDA, such configuration is not tenable. I ended up copying over <a href="https://github.com/liuliu/rules_cuda">TensorFlow’s CUDA rules</a>.</p>

<h2 id="dependencies">Dependencies</h2>

<p>Good old C / C++ libraries are notoriously indifferent to libraries dependencies v.s. toolchains. Autoconf detects both toolchain configurations as well as available libraries. These types of host dependencies make cross-compilation a skill in itself.</p>

<p>Bazel is excellent for in-tree dependencies. For out-tree dependencies however, there is no established mechanism. The popular way is to write a <a href="https://github.com/protocolbuffers/protobuf/blob/master/protobuf_deps.bzl#L5">repository rules to load relevant dependencies</a>.</p>

<p>This actually works well for me. It is versatile enough to handle cases that <a href="https://github.com/liuliu/ccv/blob/unstable/config/ccv.bzl#L103">have Bazel integrations</a> and <a href="https://github.com/liuliu/dflat/blob/unstable/deps.bzl#L17">have no Bazel integrations</a>.</p>

<h2 id="consume-bazel-dependencies">Consume Bazel Dependencies</h2>

<p>Consumption of the packaged Bazel dependencies then becomes as simple as adding <code>git_repository</code> to the <code>WORKSPACE</code> and call proper <code>&lt;your_library_name&gt;_deps()</code> repository rule.</p>

<p>After packaging <a href="https://libccv.org/">ccv</a> with Bazel, now <a href="https://github.com/liuliu/s4nnc/blob/main/WORKSPACE#L3">Swift for nnc can consume the packaged dependency</a>.</p>

<h2 id="semantic-versioning-challenges">Semantic Versioning Challenges</h2>

<p>While the Bazel-provided library distribution mechanism works well for my case, it is simplistic. For one, there is really no good way to do <a href="https://semver.org/">semantic versioning</a>. It is understandable. Coming from a monorepo culture, it is challenging for anyone to dive into dependency hells of library versioning. A <a href="https://donatstudios.com/Go-v2-Modules">slightly different story happened to Go</a> a while back as well.</p>

<p>It is messy if you want to pin a specific version of the library while your dependencies are not agreeing with you. This is going to be messy regardless in C / C++ world, unless you prelink these extremely carefully. Bazel’s philosophy from what I can see, seems largely on <em>keeping the trunk working</em> side. It is working so far, but one has to wonder whether this can scale if more libraries adopted Bazel as the distribution mechanism.</p>

<h2 id="closing-words">Closing Words</h2>

<p>The past a few months experience with Bazel has been delightful. While I would continue to use language specific tools (pip, Go modules, Cargo, NPM) when doing development in that particular language, Bazel is a capable choice for me when doing cross-language development. Concepts such as <code>workspace</code>, <code>git_repository</code>, <code>http_archive</code> fit well within the larger open-source ecosystem. And most surprisingly, it works for many-repo setup if you ever need to.</p>
</div></div>]]>
            </description>
            <link>https://liuliu.me/eyes/bazel-for-libraries-distribution-an-open-source-library-author-perspective/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24490089</guid>
            <pubDate>Wed, 16 Sep 2020 06:28:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Short History of LED Lighting]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24489268">thread link</a>) | @blast
<br/>
September 15, 2020 | https://www.stet.build/ia/031 | <a href="https://web.archive.org/web/*/https://www.stet.build/ia/031">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
  <p><img src="https://blotcdn.com/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/e294bb61-15a2-42d5-999c-b1d5c20f0429.svg" alt="In Abeyance Logo" width="900" height="150"></p>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/8006e258-67aa-456f-be91-f47df313bcc6.png" alt="Issue 031" width="2048" height="2048"></p>

<h4>
By Khaled Abou Alfa • Published 29th of July, <span>2020
</span></h4>
<p>
In 1927, Oleg Losev, a Russian inventor and scientist would introduce the world to the light-emitting diode. This technology would remain dormant for decades. Progress was made in 1962 with the introduction of the first red <span>LED</span>. For the next 30 years, an industry would hunt for the elusive colour blue. Over time the risk of pouring resource and treasure into this pursuit increased - you were chasing the pot of gold at the end of a blue coloured rainbow.
</p>
<p>
These pursuits would continue with little success until the early 90s. Then the work of Shuji Nakamura, Isamu Akosaki and Hiroshi Amano unlocked the secrets of the blue <span>LED</span>. So significant was this discovery that in 2004, the trio would receive the Nobel price in Physics.
</p>
<p>
This work would be employed in diverse contexts, from the multitude of screens we depend upon to data communications. For the built environment, this discovery would transform artificial lighting across the world. The incandescent (and to a lesser extent the fluorescent) lamp illuminated the 20th century. Light for the 21st century would be ushered in by the <span>LED</span> lamp.
</p>
<h2 id="obsolete-lighting-law">Obsolete Lighting Law</h2>
<p>In 1999, <a href="http://www.haitzs-law.com/uploads/7/6/3/6/76362633/1999-_national_research_report__same_as_2000_sarndia_nrp_.pdf">Roland Haitz co-authored</a> a research report, on the future of <span>LED</span> lighting (which was renamed as solid state lighting). The paper included data collected over decades that plotted both the cost of lumens and the red light output per <span>LED</span> package since the 1970s. 20 years ago Haitz empirically predicted the world we are living in today and captured in a<span></span> <span>‘</span>law’ which states:</p>
<blockquote>
<p>Every decade, for a given wavelength of light, the cost per lumen falls by a factor of 10 and the amount of light generated per <span>LED</span> package increases by a factor of 20.<br>
— Haitz’s Law</p>
</blockquote>
<p>
A new report, which addressed the shortcomings and reviewed the impact of the earlier report, was published <a href="http://www.haitzs-law.com/uploads/7/6/3/6/76362633/2011-physica_-_haitz_r_2011_pssa.pdf">a decade later in 2010</a>. This paper predicted that within the decade (by 2020), we would have reached a point of diminishing returns. It acknowledged that Solid State Lighting (<span>SSL</span>) is limited in two areas. The conversion efficacy - converting electrical energy to luminous flux cannot exceed 100%. The actual need for increased flux range - just because you can produce it, doesn’t mean the market needs it. The paper provided indications of where the future after 2020 is likely to evolve:
</p>
<p><em><span>‘</span>These include digital tuning of both the chromaticity and the temporal/spatial placement of light within the environment that is being lit.’</em></p>
<p><span>
27</span> years after the initial spark of the blue <span>LED</span> revolution, we are now entering a period of equilibrium of both the efficacy and flux of solid state lighting. The advances in lighting have now begun to shift into new territory, one of circadian rhythms, diurnal patterns and refined controllability.
</p>
<h2 id="controllability">Controllability</h2>
<p>Inline with the predictions from 10 years ago, the lighting industry has begun to focus its attention on how <span>SSL</span> can be controlled and manipulated. The technology available today would be considered both technically impossible and prohibitively expensive, compared with technology from only 15 years ago.</p>
<p>
The terms<span></span> <span>‘</span>circadian lighting’ or<span></span> <span>‘</span>human centric lighting’ have begun entering the lexicon as a means to enhance the wellbeing of everyone interacting with the built world. With the advent of <span>SSL</span> technology we are now able to control parameters such as colour spectrum, intensity and directionality. These systems offer control based on the exact location, the relationship to the outside world and what is happening outside in real time.
</p>
<p>
The main debate for the use of this type of lighting control is whether it actually works. Does it suppress the levels of Melatonin in the body? Does it make people more alert and therefore more responsive throughout the day? These are some of the questions that the industry will need to address for the technology to become more widespread.
</p>
<p>
<strong>In the last two decades, the lighting industry has experienced a revolution. This has led to an expanded scope of what is achievable with light in a manner unimaginable back in 1927. Incredibly these benefits have come at a greatly reduced level of energy consumption (typically 1/5th of previous technologies). The work is far from done, as incandecent lamp sources (amongst others) remain in wide use throughout the world (<a href="https://www.statista.com/statistics/246030/estimated-led-penetration-of-the-global-lighting-market/">global penetration of LEDs hovers around 61%</a>). We must wean ourselves both for our own wellbeing and that of the planet.</strong>
</p>

<h2 id="dysons-car">Dyson’s Car</h2>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/da258a83-f760-46bc-8d61-23c8faa2a5e8.png" alt="Timber" width="900" height="596"></p>
<p>We now know what form factor Dyson had chosen for their <a href="https://www.autocar.co.uk/car-news/features/exclusive-inside-story-dyson-ev">now shelved electric vehicle</a>. Micromobility this is <em>not</em>.</p>
<p>
The Dyson’s interview demonstrates the tone deaf nature associated with cars. You may need a car for some activities, but for most of your mobility needs, you likely can get away with other methods. How different our cities would be if we could understand and embrace that reality together.
</p>
<p>
In adjacent news the guys over at Micromobility.io have been documenting our transition for a while. Just released is <a href="https://micromobility.io/landscape">version 2.0 of their Landscape document</a>. The document demonstrates the breadth that is on offer in this field.
</p>
<h2 id="wide-timber">Wide Timber</h2>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/771a70fd-390a-4021-a8ee-e108b34d748e.jpg" alt="Timber" width="1800" height="650"></p>
<p>The 2020 Tokyo Olympics may have been postponed but that doesn’t mean we don’t get to marvel at some stunning timber architecture. As covered in <a href="https://www.stet.build/ia/007">issue 007</a>, the Japanese know a thing or two about building in timber. The completion of the <a href="https://www.designboom.com/architecture/nikken-sekkei-timber-gymnastics-center-tokyo-olympic-games-07-23-2020/">Ariake gymnastics center</a> is a wonderful extension of that history.</p>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/a5fb78b8-d41f-4f9e-9bbe-ca1a8b265307.jpeg" alt="Timber" width="818" height="545"></p>

<h2 id="spoke-pens">Spoke Pens</h2>
<p><img src="https://blot.im/cdn/blog_78585a67eddd4bfcb7936222fddae5c7/_image_cache/59e3faa3-40df-46fe-98d7-bbf3cdd7d852.jpg" alt="Spoke Pens" width="680" height="680"></p>
<p>Over the past 5–10 years there has been an incredible industry of machined pens produced and sold on Kickstarter. I have found that the ergonomic design and available refill options to be under-represented. Rather than focusing on the utility of the pen itself, many focus on both the materials and aesthetic design instead.</p>
<blockquote>
<p>Most people make the mistake of thinking design is what it looks like. People think it’s this veneer — that the designers are handed this box and told,<span></span> <span>“</span>Make it look good!” That’s not what we think design is. It’s not just what it looks like and feels like. Design is how it works.<br>
— Steve Jobs</p>
</blockquote>
<p>
In this regard, the <a href="https://spokedesign.com/">Spoke pens and pencils</a> are different. The inside was considered first - even though the outside has a strong design language. The pen is primarily a wrap around the pen refill or pencil mechanism. The pens accept the standard Muji Gel ink refills or the Uni Signo <span>DX</span> refills (both come in a range of colours and go down to the 0.38mm range). While the pencil is based on the Pentel <span>P20</span># mechanical pencil mechanism. Both are highly recommended.
</p>
  <br>
      </div></div>]]>
            </description>
            <link>https://www.stet.build/ia/031</link>
            <guid isPermaLink="false">hacker-news-small-sites-24489268</guid>
            <pubDate>Wed, 16 Sep 2020 03:25:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Go’s Major Versioning Sucks – From a Fanboy]]>
            </title>
            <description>
<![CDATA[
Score 159 | Comments 147 (<a href="https://news.ycombinator.com/item?id=24488745">thread link</a>) | @lanecwagner
<br/>
September 15, 2020 | https://qvault.io/2020/09/15/gos-major-version-handling-sucks-from-a-fanboy/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/09/15/gos-major-version-handling-sucks-from-a-fanboy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			
<p>I’m normally a fan of the rigidity within the Go toolchain. In fact, we use Go on the <a href="https://app.qvault.io/dashboard/courses">front and backend at Qvault</a>. It’s wonderful to have standardized formatting, vetting, and testing across the entire language. The first real criticism I’ve had is with the way Go modules handle major versions. It’s over-the-top opinionated and slows down development in a significant number of scenarios.</p>



<h2>Refresher on “Go Mod”</h2>



<p>Go modules, and the associated commands <code>go mod</code> and <code>go get</code> can be thought of as Go’s equivalents to NPM and Yarn. The Go toolchain provides a way to manage dependencies and lock the versions that a collection of code depends on.</p>



<p>One of the most common operations is to update a dependency in an existing module. For example:</p>



<pre><code lang="bash"># update all dependencies
go get -u ./...

# add missing and remove unused dependencies
go mod tidy

# save all dependency code in the project's "vendor" folder
go mod vendor</code></pre>



<h2>Semantic Versioning</h2>



<p>Go modules use git tags and semantic versioning to keep track of the versions of dependencies that are compatible with the module in question. Semantic versioning is a way to format version numbers and it looks like this: <code>v{MAJOR}.{MINOR}.{PATCH}</code>. For example, <code>v1.2.3</code>.</p>



<p>Each number is to be incremented according to the following standards:</p>



<pre><code lang="bash">MAJOR version when you make incompatible API changes,
MINOR version when you add functionality in a backwards compatible manner, and
PATCH version when you make backwards compatible bug fixes.</code></pre>



<h2>Package-Side Problems</h2>



<p>Go has decided that all versions beyond <code>v0</code> and <code>v1</code> are required to use the major version in the module path. There are two ways to accomplish this. </p>



<p><strong>The first and recommended way</strong> is laid out in an example on the <a rel="noreferrer noopener" href="https://blog.golang.org/v2-go-modules#TOC_4." target="_blank">Go Blog</a>:</p>



<blockquote><p>To start development on&nbsp;<code>v2</code>&nbsp;of&nbsp;<code>github.com/googleapis/gax-go</code>, we’ll create a new&nbsp;<code>v2/</code>&nbsp;directory and copy our package into it.</p></blockquote>



<p>In other words, for every major version, we are encouraged to maintain a new copy of the entire codebase. This is also the only way to do it if you want pre-modules users to be able to use your package.</p>



<p><strong>The second way</strong> is to just change the name of your module in <code>go.mod</code>. Fore example, <code>module github.com/lane-c-wagner/go-tinydate</code> would become <code>module github.com/lane-c-wagner/go-tinydate/v2</code>. Besides this not working for older versions of Go, I also find it problematic because it breaks (in my mind) one of the most useful things about module names – they reflect the file path.</p>



<h2>Package-Side Solutions</h2>



<p>Allow package maintainers to specify the major version simply by updating git tags, no module name changes required. There is no need for two sources of truth.</p>



<p>We can enforce safe updating by adding warnings or prompts to the <code>go get</code> CLI. We don’t have to add unnecessary time-consuming policies.</p>



<h2>Client-Side Problems</h2>



<p>When new versions of dependencies are released we have a simple command to get the newest stuff: <code>go get -u</code>. The problem is that this command has no way to automatically update to a new major version. It will only download new minor changes and patches. There isn’t even a console message to inform you that a new major version exists!</p>



<p>That said, the reason for not auto-updating is clear, and to be fair, well-founded:</p>



<blockquote><p>If an old package and a new package have the same import path, the new package must be backwards compatible with the old package.</p><cite><a href="https://research.swtch.com/vgo-import" rel="noopener">Import compatibility rule</a></cite></blockquote>



<p>In other words, we should only increment major versions when making breaking changes, and if breaking changes are made they can’t have the same import path. While this makes sense, I think a simple console warning would have been a better solution than forcing a cumbersome updating strategy on the community.</p>



<p><strong>Another problem </strong>on the client-side is that we don’t only need to update <code>go.mod</code>, but we actually need to <code>grep</code> through our codebase and change each import statement to point to the new major version:</p>



<blockquote><p>Users who wanted to use&nbsp;<code>v2</code>&nbsp;had to change their package imports and module requirements to&nbsp;<code>github.com/googleapis/gax-go/v2</code>.</p></blockquote>



<p>Instead of a few simple CLI commands to get the latest dependencies, we’re making changes to the code itself.</p>



<h3>A Caveat – Diamond Imports</h3>



<p>Using different paths for different major versions makes more sense in situations where we may require two different versions of the same package, you know, <a aria-label="diamond imports (opens in a new tab)" href="https://research.swtch.com/vgo-import#dependency_story" target="_blank" rel="noreferrer noopener nofollow">diamond imports</a> and all that. This is the exception, not the rule, and it seems strange to tap dance around a problem that doesn’t exist in most codebases.</p>



<h2>Client-Side Solution</h2>



<p><code>go get -u</code> should have an additional command line flag to update major versions, and should default to showing a warning that there is a newer major version you don’t have yet.</p>



<p><em>Default</em> import paths should not change between major versions. If a module requires various versions, those <em>extra</em> versions could be flagged by having a different path.</p>



<h2>Why This Sucks For Me</h2>



<p>It is often the case that I want to build a package that has domain-specific logic and will only be used only in services at the small company I work for. For example, we have a repo that holds the <code>struct{}</code> definitions for common entities used across our system.</p>



<p>Occasionally we need to make backward-incompatible changes to those struct definitions. If it were an open-source library we wouldn’t make changes so often, but because it’s internal and we are aware of all the dependencies, we change the names of exported fields <em>regularly</em>. We aren’t changing names because we chose bad ones to begin with, we are usually changing names because requirements from the business change rapidly in a startup. </p>



<p>This means major version changes are a fairly regular occurrence. Some say that we should just stay on <code>v0</code>, and that’s a reasonable solution. The problem is these ARE production packages that are being used by a wide number of services. We WANT to Semver.</p>



<p>Go makes updating major versions so cumbersome that in the majority of cases, we have opted to just increment minor versions when we should increment major versions. We want to follow the proper versioning scheme, we just don’t want to add the unnecessary steps to our dev process.</p>



<h2>Hey – I Get It</h2>



<p>I understand why these decisions were made – and I even think in a lot of cases they were great decisions. For any open-source or public facing module this makes great sense. The Go toolchain is enforcing strict rules that encourage good API design.</p>



<p>In their effort to make public APIs great, they made it unnecessarily hard to have good “local” package design.</p>



<p>There is an <a href="https://github.com/golang/go/issues/40323" rel="noopener">open issue on Github</a> that would make new major versions more discoverable from the CLI. Take a look at that if you are interested.</p>



<p>Go still has the best toolchain and ecosystem. NPM and PIP can suck it.</p>



<p>If you disagree, @ me on Twitter.</p>







<h2>Related Reading</h2>



<ul><li><a href="https://qvault.io/2020/08/15/optimize-for-simplicity-first/">Optimize for Simplicity First</a></li><li><a href="https://qvault.io/2019/10/21/golang-constant-maps-slices/">Constant Maps and Slices in Go</a></li><li><a href="https://qvault.io/2020/08/07/saving-a-third-of-our-memory-by-re-ordering-go-struct-fields/">Saving Memory by Re-ordering Go Structs</a></li></ul>
		</div></div>]]>
            </description>
            <link>https://qvault.io/2020/09/15/gos-major-version-handling-sucks-from-a-fanboy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488745</guid>
            <pubDate>Wed, 16 Sep 2020 01:42:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When you browse Instagram and find Tony Abbott's passport number]]>
            </title>
            <description>
<![CDATA[
Score 1870 | Comments 286 (<a href="https://news.ycombinator.com/item?id=24488224">thread link</a>) | @michael_fine
<br/>
September 15, 2020 | https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram | <a href="https://web.archive.org/web/*/https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

    

    <div itemprop="articleBody">
        <hr>
        <p><img src="https://mango.pdf.zone/img/sunburnt-country/title.png" alt="title image what's up twitter-large"></p>



<p>So you know when you’re flopping about at home, minding your own business, drinking from your water bottle in a way that does not possess <em>any</em> intent to subvert the Commonwealth of Australia?</p>

<p>It’s a feeling I know all too well, and in which I was vigorously partaking when I got this message in “the group chat”<sup id="fnref:groupchat" role="doc-noteref"><a href="#fn:groupchat">1</a></sup>.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/groupchat.png" alt="Can you hack this man?|medium">
<em>A nice message from my friend, with a photo of a boarding pass 🙂 A good thing about messages from your friends is that they do not have any rippling consequences 🙂🙂🙂</em></p>

<p>The man in question is <a href="https://en.wikipedia.org/wiki/Tony_Abbott">Tony Abbott</a>, one of Australia’s <em>many</em> former Prime Ministers.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/tony_abbott_wikipedia.png" alt="if u google tony abbott u get this|small">
<em>That’s him, officer</em></p>

<p>For security reasons, we try to change our Prime Minister every six months, and to never use the same Prime Minister on multiple websites.<sup id="fnref:kevin07" role="doc-noteref"><a href="#fn:kevin07">2</a></sup></p>

<h4 id="the-boarding-pass-photo">The boarding pass photo</h4>
<p>This particular former PM had just posted a picture of his boarding pass on Instagram (Instagram, in case you don’t know it, is an app you can open up on your phone any time to look at ads).</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/instagrampost.PNG" alt="Instagram post showing boarding pass|large">
<em>The since-deleted Instagram post showing the boarding pass and baggage receipt. The caption reads “coming back home from japan 😍😍  looking forward to seeing everyone! climate change isn’t real 😌 ok byeee”</em></p>

<h4 id="can-you-hack-this-man">“Can you hack this man?”</h4>
<p>My friend<sup id="fnref:hoggemoade" role="doc-noteref"><a href="#fn:hoggemoade">3</a></sup> (who we will refer to by their group chat name, 𝖍𝖔𝖌𝖌𝖊 𝖒𝖔𝖆𝖉𝖊) is asking<sup id="fnref:onbehalf" role="doc-noteref"><a href="#fn:onbehalf">4</a></sup> whether I can “hack this man” not because I am the kind of person who regularly commits 𝒄𝒚𝒃𝒆𝒓 𝒕𝒓𝒆𝒂𝒔𝒐𝒏 on a whim, but because we’d recently been talking about boarding passes.</p>

<p>I’d said that people post pictures of their boarding passes all the time, not knowing that it can sometimes be used to get their passport number and stuff. They just post it being like “omg going on holidayyyy 😍😍😍”, unaware that they’re posting cringe.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/instagramboardingpasses.png" alt="screenshot of #boardingpass on instagram|medium">
<em>People post their boarding passes all the time, because it’s not clear that they’re meant to be secret</em></p>

<p>Meanwhile, some hacker is rubbing their hands together, being all “yumyum identity fraud 👀” in their dark web Discord, because this happens a <em>lot</em>.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/boardingpassposts.png" alt="screenshot of #boardingpass on instagram"></p>

<hr>

<p>So there I was, making intense and meaningful eye contact with this chat bubble, asking me if I could “hack this man”.</p>

<h3 id="surely-you-wouldnt">Surely you wouldn’t</h3>
<p>Of course, my friend wasn’t <em>actually</em> asking me to hack the former Prime Minister.</p>



<p>However.</p>



<p>You <em>gotta</em>.</p>

<p>I mean… what are you gonna do, <em>not</em> click it? Are you gonna let a <em>link</em> that’s like 50% advertising tracking ID tell you what to do? Wouldn’t you be <em>curious</em>?</p>

<p>The former Prime Minister had just posted his boarding pass. Was that <em>bad</em>? Was someone in danger? I didn’t know.</p>

<p>What I did know was: the <em>least</em> I could do<sup id="fnref:nocrime" role="doc-noteref"><a href="#fn:nocrime">5</a></sup> for my country would be to have a casual browse 👀</p>

<h2 id="investigating-the-boarding-pass-photo">Investigating the boarding pass photo</h2>
<h3 id="step-1-hubris">Step 1: Hubris</h3>

<p>So I had a bit of a casual browse, and got the picture of the boarding pass, and then…. I didn’t know what was supposed to happen after that.</p>

<p>Well, I’d heard that it’s bad to post your boarding pass online, because if you do, a bored 17 year-old Russian boy called “Katie-senpai” might somehow use it to commit identity fraud. But I don’t know anyone like that, so I just clumsily googled some stuff.</p>

<h4 id="googling-how-2-hakc-boarding-pass">Googling how 2 hakc boarding pass</h4>
<p><img src="https://mango.pdf.zone/img/sunburnt-country/uhhboardingpasshacking.png" alt="uhhh|small"></p>

<p>Eventually I found <a href="https://null-byte.wonderhowto.com/how-to/hackers-use-hidden-data-airline-boarding-passes-hack-flights-0180728/">a blog post</a> explaining that yes, pictures of boarding passes can indeed be used for Crimes. The part you wanna be looking at for all your criming needs is the barcode, because it’s got the “Booking Reference” (e.g. <code>H8JA2A</code>) in it.</p>

<p>Why do you want the booking reference? It’s one of the two things you need to log in to the airline website to manage your flight.</p>

<p>The second one is your… last name. I was really hoping the second one would be like a password or something. But, no, it’s the booking reference the airline emails you and prints on your boarding pass. And it also lets you log in to the airline website?</p>

<p>That sounds suspiciously like a password to me, but like I’m still fine to pretend it’s not if you are.</p>

<h3 id="step-2-scan-the-barcode">Step 2: Scan the barcode</h3>
<p>I’ve been practicing every morning at sunrise, but still can’t scan barcodes with my eyes. I had to settle for a barcode scanner app on my phone, but when I tried to scan the picture in the Instagram post, it didn’t work :((</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/boardingpass.png" alt="the boarding pass photo">
<em>Maybe I shouldn’t have blurred out the barcode first</em></p>

<h3 id="step-2-scan-the-barcode-but-more">Step 2: Scan the barcode, but more</h3>

<p>Well, maybe it wasn’t scanning because the picture was too blurry.</p>

<p>I spent around 15 minutes in an “enhance, ENHANCE” montage, fiddling around with the image, increasing the contrast, and so on. Despite the montage taking up way too much of the 22 minute episode, I couldn’t even get the barcode to scan<sup id="fnref:step3" role="doc-noteref"><a href="#fn:step3">6</a></sup>.</p>

<h3 id="step-2-notice-that-the-booking-reference-is-printed-right-there-on-the-paper">Step 2: Notice that the Booking Reference is printed right there on the paper</h3>

<p>After staring at this image for 15 minutes, I noticed the Booking Reference is just… printed on the baggage receipt.</p>

<p>I graduated university.</p>

<p>But it did not prepare me for this.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/bookingrefhighlighted.png" alt="Boarding pass with booking reference highlighted">
<em>askdjhaflajkshdflkh</em></p>

<h3 id="step-3-visit-the-airlines-website">Step 3: Visit the airline’s website</h3>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/bookinglogin2.png" alt="Manage booking login screen with empty fields-large"></p>

<p>After recovering from <em>that</em> emotional rollercoaster, I went to <a href="https://qantas.com.au/">qantas.com.au</a>, and clicked “Manage Booking”. In case you don’t know it because you live in a country with fast internet, Qantas is the main airline here in Australia.</p>

<p>(I also very conveniently started recording my screen, which is gonna pay off <em>big time</em> in just a moment.)</p>

<h3 id="step-4-type-in-the-booking-reference">Step 4: Type in the Booking Reference</h3>

<p>Well, the login form was just… <em>there</em>, and it was asking for a Booking Reference and a last name. I had just flawlessly read the Booking Reference from the boarding pass picture, and, well… I knew the last name<sup id="fnref:lastname" role="doc-noteref"><a href="#fn:lastname">7</a></sup>.</p>

<p>I did hesitate for a split-second, but… no, I had to know.</p>

<h3 id="step-5-crimes">Step 5: Crimes(?)</h3>

<video controls="" preload="auto">

    <source src="https://mango.pdf.zone/img/sunburnt-country/youngman.mp4" type="video/mp4">

<img src="https://mango.pdf.zone/img/sunburnt-country/summary.gif">
</video>
<p><em>youngman.mp4</em></p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/loggedin.png" alt="The logged in &quot;manage booking page&quot;">
<em>The “Manage Booking” page, logged in as some guy called Anthony Abbott</em></p>

<h3 id="can-i-get-a-yikes-in-the-chat">Can I get a YIKES in the chat</h3>

<p>Leave a comment if you really felt that.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/yikes.png" alt="yikes"></p>

<p>I guess I was now logged the heck in as Tony Abbott? And for all I know, everyone else who saw his Instagram post was right there with me. It’s kinda wholesome, to imagine us all there together. But also probably suboptimal in a governmental sense.</p>

<h5 id="was-there-anything-secret-in-here">Was there anything secret in here?</h5>

<p>I then just incredibly browsed the page, browsed it so hard.</p>

<p>I saw Tony Abbott’s name<sup id="fnref:name" role="doc-noteref"><a href="#fn:name">8</a></sup>, flight times, and Frequent Flyer number, but not really anything <em>super</em> secret-looking. Not gonna be committing any cyber treason with a Frequent Flyer number. The flight was in the past, so I couldn’t change anything, either.</p>

<p>The page said the flight had been booked by a travel agent, so I guessed some information would be missing because of that.</p>

<p>I clicked around and scrolled a considerable length, but still didn’t find any government secrets.</p>

<p>Some people might give up here. But I, the Icarus of computers, was simply too dumb to know when to stop.</p>

<h3 id="were-not-done-just-because-a-web-page-says-were-done">We’re not done just because a <em>web page</em> says we’re done</h3>

<p>I wanted to see if there were juicy things hidden <em>inside</em> the page. To do it, I had to use the <em>only</em> hacker tool I know.</p>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/inspectelement.png" alt="Right click > Inspect-small">
<em>Right click &gt; Inspect Element, all you need to subvert the Commonwealth of Australia</em></p>

<p>Listen. This is the only part of the story that might be confused for highly elite computer skill. It’s not, though. Maybe later someone will show you this same thing to try and flex, acting like only <em>they</em> know how to do it. You will not go gently into that good night. You will refuse to acknowledge their flex, killing them instantly.</p>

<h5 id="how-does-inspect-element-work">How does “Inspect Element” work?</h5>
<p>“Inspect Element”, as it’s called, is a feature of Google Chrome that lets you see the computer’s internal representation (HTML) of the page you’re looking at. Kinda like opening up a clock and looking at the cool cog party inside.</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/6/67/Pocketwatch_cutaway_drawing.jpg" alt="cog party|small">
<em>Yeahhh go little cogs, look at ‘em absolutely going off. Now imagine this but with like, JavaScript</em></p>

<p>Everything you see when you use “Inspect Element” was already downloaded to your computer, you just hadn’t asked Chrome to show it to you yet. Just like how the cogs were already in the watch, you just hadn’t opened it up to look.</p>

<p>But let us dispense with frivolous cog talk. Cheap tricks such as “Inspect Element” are used by programmers to try and understand how the website works. This is ultimately futile: Nobody can understand how websites work. Unfortunately, it kinda <em>looks</em> like hacking the first time you see it.</p>

<p>If you’d like to know more about it, I’ve prepared a short video.</p>

<blockquote><p lang="en" dir="ltr">hey youtube welcome to my hacking tutorial, today we're gonna hack.... the nsa <a href="https://t.co/2Z35GJjSZE">pic.twitter.com/2Z35GJjSZE</a></p>— “Alex” (@mangopdf) <a href="https://twitter.com/mangopdf/status/1123400764926226432?ref_src=twsrc%5Etfw">May 1, 2019</a></blockquote>


<h3 id="browsing-the-manage-booking-pages-html">Browsing the “Manage Booking” page’s HTML</h3>

<p>I scrolled around the page’s HTML, not really knowing what it meant, furiously trying to find anything that looked out of place or secret.</p>

<p>I eventually realised that manually reading HTML with my eyes was not an efficient way of defending my country, and Ctrl + F’d the HTML for “passport”.</p>

<h3 id="oh-no">oh no</h3>

<p><img src="https://mango.pdf.zone/img/sunburnt-country/passportjson.gif" alt="Blurred screenshot of close up &quot;passport&quot; number"></p>

<h3 id="oh-yes">Oh yes</h3>

<p>It’s just <em>there</em>.</p>

<p>At this point I was fairly sure I was looking at the <em>extremely</em> secret government-issued ID of the <em>28th Prime Minister of the Commonwealth of Australia, servant to her Majesty Queen Elizabeth II</em> and I was <em>kinda</em> worried that I was somehow doing something wrong, but like, not enough to stop.</p>

<h3 id="anything-else-in-this-page">….anything <em>else</em> in this page?</h3>

<p>Well damn, if Tony Abbott’s passport number is in this treasure trove of computer spaghetti, maybe there’s wayyyyy more. Perhaps this HTML contains the lost launch codes to the Sydney Opera House, or Harold Holt<sup id="fnref:holt" role="doc-noteref"><a href="#fn:holt">9</a></sup>.</p>

<p>Maybe there’s a phone number?</p>

<p>Searching for <code>phone</code> and <code>number</code> didn’t get anywhere, so I searched for <code>614</code>, the first 3 digits of an Australian phone number, using my colossal and highly celestial galaxy brain.</p>

<h5 id="weird-uppercase-letters">Weird uppercase letters</h5>
<p>A weird pile of what I could only describe as extremely uppercase letters came up. It looked like this:</p>

<div><div><pre><code>RQST QF HK1 HNDSYD/03EN|FQTV QF HK1|CTCM QF HK1 614[phone number]|CKIN QF HN1 DO NOT SEAT ROW [row number] PLS SEAT LAST ROW OF [row letter] WINDOW
</code></pre></div></div>
<p>So, there’s a lot going on here. There is indeed a phone number in here. But what the heck is all this <em>other</em> stuff?</p>

<p>I realised this was like… Qantas staff talking to eachother <em>about</em> Tony Abbott, but not <em>to</em> him?</p>

<p>In what is surely the subtweeting of the century, it has a …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram">https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram</a></em></p>]]>
            </description>
            <link>https://mango.pdf.zone/finding-former-australian-prime-minister-tony-abbotts-passport-number-on-instagram</link>
            <guid isPermaLink="false">hacker-news-small-sites-24488224</guid>
            <pubDate>Wed, 16 Sep 2020 00:16:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Finding and Fixing Django N+1 Problems]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24486020">thread link</a>) | @silent1mezzo
<br/>
September 15, 2020 | https://blog.sentry.io/2020/09/14/finding-and-fixing-django-n-1-problems/ | <a href="https://web.archive.org/web/*/https://blog.sentry.io/2020/09/14/finding-and-fixing-django-n-1-problems/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The <a href="https://www.djangoproject.com/">Django</a> Python framework allows people to build websites extremely fast. One of its best features is the Object-relational mapper (ORM), which allows you to make queries to the database without having to write any SQL. Django will allow you to write your queries in Python and then it will try to turn those statements into efficient SQL. Most of the time the ORM creates the SQL flawlessly, but sometimes the results are less than ideal.</p>
<p>One common database problem is that ORMs can cause N+1 queries. These queries include a single, initial query (the +1), and each row in the results from that query spawns another query (the N). These often happen when you have a parent-child relationship. You select all of the parent objects you want and then when looping through them, another query is generated for each child. This problem can be hard to detect at first, as your website could be performing fine. But as the number of parent objects grows, the number of queries increases as well — to the point of overwhelming your database and taking down your application.</p>
<p>Recently, I was building a simple website that kept track of expenses and expense reports. I wanted to use Sentry’s new <a href="https://sentry.io/for/performance/">Performance</a> tool to assess how the application was performing in production. I quickly set it up using the instructions for <a href="https://docs.sentry.io/performance-monitoring/getting-started/?platform=python">Django</a> and immediately saw results.</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png?fm=webp&amp;w=500 500w,
https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png?fm=webp&amp;w=1000 1000w,
https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png?fm=webp&amp;w=1999 1999w" sizes="(max-width: 800px) 100vw, 800px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png?w=500 500w,
https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png?w=1000 1000w,
https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png?w=1999 1999w" sizes="(max-width: 800px) 100vw, 800px">
          <img alt="n+1 post image 1" title="" src="https://images.ctfassets.net/em6l9zw4tzag/71r4MgdfxcWWigd9AeyIiz/0e79f4865d5984123da18837cf000679/c9c72eb4-image1.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>The first thing I noticed was that the median root transaction was taking 3.41 seconds. All this page did was display a list of reports and the sum of all of the expenses on a report. Django is fast and it definitely shouldn’t take 3.41 seconds.</p>
<div data-language="py"><pre><code>
<span>from</span> django<span>.</span>db <span>import</span> models
<span>class</span> <span>Reports</span><span>(</span>models<span>.</span>Model<span>)</span><span>:</span>
    name <span>=</span> models<span>.</span>CharField<span>(</span>max_length<span>=</span><span>255</span><span>)</span>
    submitted_date <span>=</span> models<span>.</span>DateTimeField<span>(</span>null<span>=</span><span>True</span><span>,</span> blank<span>=</span><span>False</span><span>)</span>

    <span>@property</span>
    <span>def</span> <span>get_expense_total</span><span>(</span>self<span>)</span><span>:</span>
        <span>for</span> expense <span>in</span> self<span>.</span>expenses<span>.</span><span>all</span><span>(</span><span>)</span><span>:</span>
            <span>return</span> expense<span>.</span>amount

<span>class</span> <span>Expenses</span><span>(</span>models<span>.</span>Model<span>)</span><span>:</span>
    report <span>=</span> models<span>.</span>ForeignKey<span>(</span>Reports<span>,</span> related_name<span>=</span>‘expenses’<span>,</span> on_delete<span>=</span>models<span>.</span>CASCADE<span>)</span>
    amount <span>=</span> models<span>.</span>DecimalField<span>(</span>max_digits<span>=</span><span>10</span><span>,</span> decimal_places<span>=</span><span>2</span><span>)</span>


<span>from</span> django<span>.</span>views<span>.</span>generic<span>.</span><span>list</span> <span>import</span> ListView
<span>from</span> expense_reports<span>.</span>models <span>import</span> Reports

<span>class</span> <span>ReportsList</span><span>(</span>ListView<span>)</span><span>:</span>
    model <span>=</span> Reports
    context_object_name <span>=</span> <span>'reports'</span>


<span>{</span><span>%</span> <span>for</span> report <span>in</span> reports <span>%</span><span>}</span>
    <span>&lt;</span>div<span>&gt;</span>
        <span>&lt;</span>h2<span>&gt;</span><span>{</span><span>{</span> report<span>.</span>name <span>}</span><span>}</span><span>&lt;</span><span>/</span>h2<span>&gt;</span>
        <span>{</span><span>%</span> <span>for</span> expense <span>in</span> report<span>.</span>expenses<span>.</span><span>all</span> <span>%</span><span>}</span>
                <span>&lt;</span>small<span>&gt;</span><span>{</span><span>{</span> expense<span>.</span>name <span>}</span><span>}</span><span>&lt;</span><span>/</span>small<span>&gt;</span>
                <span>&lt;</span>small<span>&gt;</span><span>{</span><span>{</span> expense<span>.</span>amount <span>}</span><span>}</span><span>&lt;</span><span>/</span>small<span>&gt;</span>
        <span>{</span><span>%</span> endfor <span>%</span><span>}</span>
        <span>&lt;</span>small<span>&gt;</span><span>{</span><span>{</span> report<span>.</span>get_expense_total <span>}</span><span>}</span><span>&lt;</span><span>/</span>small<span>&gt;</span>
    <span>&lt;</span><span>/</span>div<span>&gt;</span>
<span>{</span><span>%</span> endfor <span>%</span><span>}</span></code></pre></div>
<p>Looking at the code I couldn’t see any immediate problems, so I decided to dig into the Event Detail page for a recent transaction.</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png?fm=webp&amp;w=500 500w,
https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png?fm=webp&amp;w=1000 1000w,
https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png?fm=webp&amp;w=1999 1999w" sizes="(max-width: 800px) 100vw, 800px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png?w=500 500w,
https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png?w=1000 1000w,
https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png?w=1999 1999w" sizes="(max-width: 800px) 100vw, 800px">
          <img alt="n+1 post image 2" title="" src="https://images.ctfassets.net/em6l9zw4tzag/1ShePT0KXuhbRvQYMBeSAE/3f96422236a848c6fb0261ddf8be63dd/86b1a8df-image3.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>The second thing I noticed was just how many queries the ORM had generated. It was at this point that I saw that I had a single query to fetch all of the reports and then another query for each report to fetch all of the expenses —an N+1 problem.</p>
<p>Django evaluates queries lazily by default. This means that Django won’t run the query until the Python code is evaluated. In this case, when the page initially loads, <code>Reports.objects.all()</code> is called. When I call <code>{{ report.get_expense_total }}</code> Django runs the second query to fetch all of the expenses. There are two ways to fix this, depending on how your models are set up: <a href="https://docs.djangoproject.com/en/3.0/ref/models/querysets/#select-related"><code>[select_related()]</code></a> and <a href="https://docs.djangoproject.com/en/3.0/ref/models/querysets/#prefetch-related"><code>[prefetch_related()]</code></a>.</p>
<p><code>select_related()</code> works by following one-to-many relationships and adding them to the SQL query as a JOIN. <code>prefetch_related()</code> works similarly, but instead of doing a SQL join it does a separate query for each object and then joins them in Python. This allows you to prefetch many-to-many and many-to-one relationships.</p>
<p>We can update ReportsList to use <code>prefetch_related()</code>. This cuts the number of database queries in half, since we’re now making one query to fetch all of the Reports, one query to fetch all of the expenses, and then n queries in <code>report.get_expense_total</code>.</p>
<div data-language="py"><pre><code><span>class</span> <span>ReportsList</span><span>(</span>ListView<span>)</span><span>:</span>
    model <span>=</span> Reports
    context_object_name <span>=</span> ‘reports’
    queryset <span>=</span> Reports<span>.</span>objects<span>.</span>prefetch_related<span>(</span>‘expenses’<span>)</span></code></pre></div>
<p>To fix the <code>n</code> queries from <code>report.get_expense_total</code> we can use Django’s <a href="https://docs.djangoproject.com/en/3.0/ref/models/querysets/#django.db.models.query.QuerySet.annotate"><code>annotate</code></a> to pull in that information before passing it to the template.</p>
<div data-language="py"><pre><code>
<span>class</span> <span>ReportsList</span><span>(</span>ListView<span>)</span><span>:</span>
    model <span>=</span> Reports
    context_object_name <span>=</span> ‘reports’
    queryset <span>=</span> Reports<span>.</span>objects<span>.</span>prefetch_related<span>(</span>‘expenses’<span>)</span><span>.</span>annotate<span>(</span>total_amount<span>=</span>Sum<span>(</span>‘expenses__amount’<span>)</span><span>)</span>


<span>{</span><span>%</span> <span>for</span> report <span>in</span> reports <span>%</span><span>}</span>
    <span>&lt;</span>div<span>&gt;</span>
        <span>&lt;</span>h2<span>&gt;</span><span>{</span><span>{</span> report<span>.</span>name <span>}</span><span>}</span><span>&lt;</span><span>/</span>h2<span>&gt;</span>
        <span>{</span><span>%</span> <span>for</span> expense <span>in</span> report<span>.</span>expenses<span>.</span><span>all</span> <span>%</span><span>}</span>
                <span>&lt;</span>small<span>&gt;</span><span>{</span><span>{</span> expense<span>.</span>name <span>}</span><span>}</span><span>&lt;</span><span>/</span>small<span>&gt;</span>
                <span>&lt;</span>small<span>&gt;</span><span>{</span><span>{</span> expense<span>.</span>amount <span>}</span><span>}</span><span>&lt;</span><span>/</span>small<span>&gt;</span>
         <span>{</span><span>%</span> endfor <span>%</span><span>}</span>
        <span>&lt;</span>small<span>&gt;</span><span>{</span><span>{</span> report<span>.</span>total_amount <span>}</span><span>}</span><span>&lt;</span><span>/</span>small<span>&gt;</span>
    <span>&lt;</span><span>/</span>div<span>&gt;</span>
<span>{</span><span>%</span> endfor <span>%</span><span>}</span></code></pre></div>
<p>Now the median transaction time is down to 290ms!</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png?fm=webp&amp;w=500 500w,
https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png?fm=webp&amp;w=1000 1000w,
https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png?fm=webp&amp;w=1999 1999w" sizes="(max-width: 800px) 100vw, 800px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png?w=500 500w,
https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png?w=1000 1000w,
https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png?w=1999 1999w" sizes="(max-width: 800px) 100vw, 800px">
          <img alt="n+1 post image 3" title="" src="https://images.ctfassets.net/em6l9zw4tzag/4AGHrJZ2DiE1V086gXuhnf/d9af9534067edf4ae08310a0868eba06/e03fbbbd-image4.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>In the event the number of queries increases to the point where it could take your application down, try using prefetch_related or select_related. This way, Django will fetch all of the additional information without the extra queries. After doing this, I ended up saving 950 queries on my main page and decreasing the page load by 91%.</p></div></div>]]>
            </description>
            <link>https://blog.sentry.io/2020/09/14/finding-and-fixing-django-n-1-problems/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24486020</guid>
            <pubDate>Tue, 15 Sep 2020 19:57:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Details on the Ham Radio Equipment Being Used on the ISS]]>
            </title>
            <description>
<![CDATA[
Score 216 | Comments 32 (<a href="https://news.ycombinator.com/item?id=24484336">thread link</a>) | @themoralone
<br/>
September 15, 2020 | http://k0lwc.com/new-ham-radio-onboard-the-iss-is-on-the-air/ | <a href="https://web.archive.org/web/*/http://k0lwc.com/new-ham-radio-onboard-the-iss-is-on-the-air/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://k0lwc.com/new-ham-radio-onboard-the-iss-is-on-the-air/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24484336</guid>
            <pubDate>Tue, 15 Sep 2020 17:53:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Middle Child – 90s Kids and Why We Aren’t Millennials]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 16 (<a href="https://news.ycombinator.com/item?id=24484335">thread link</a>) | @Fiveplus
<br/>
September 15, 2020 | https://unbelievab.ly/the-forgotten-middle-child-90s-kids-and-why-we-arent-millennials/ | <a href="https://web.archive.org/web/*/https://unbelievab.ly/the-forgotten-middle-child-90s-kids-and-why-we-arent-millennials/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-4520">
		<!-- .entry-header -->

	
	<div>
		
<p><img loading="lazy" src="https://i1.wp.com/cdn1.theodysseyonline.com/files/2015/03/01/635607807249844625283530652_today-is-middle-childs-day-it-will-probably-be-forgotten-like-i-was-3827c.imgopt1000x70.png?resize=420%2C294" alt="" width="420" height="294" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/cdn1.theodysseyonline.com/files/2015/03/01/635607807249844625283530652_today-is-middle-childs-day-it-will-probably-be-forgotten-like-i-was-3827c.imgopt1000x70.png?resize=420%2C294&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>We all know the story. Some of us have even lived it. Forgotten, overshadowed, and pushed aside. Being the middle child was the worst. The oldest sibling received all the accolades and rewards, the youngest received all the attention. And there we were, waving our hands in the air trying to say, “Hey! I’m right here and I’m not like them!” And here we are, still waving our hands, still trying to push our way past the shoulders of our surrounding siblings. A little older, a little wiser, but still just as frustrated. Being a 90’s kid is tough.</p>


<p>“<em>Damn Millennials</em>.” Many times have these words been uttered through the lips of baby boomers and Gen X’s. “All they care about is social media! They don’t know how to work hard!” We hear it. And we take it. But it’s a load of bulls**t. Sorry, I’m getting ahead of myself. Let’s go back. The definition of a Millennial is someone who was born between around 1980 and around the early 2000’s. While the characteristics of a Millennial can vary depending on the source, the gist is relatively the same. Lazy, narcissistic, coddled, materialistic, disengaged. Positive isn’t it? However in reality, the term “Millennial” isn’t as generalizable as many make it out to be.</p>
<p><img loading="lazy" src="https://i1.wp.com/www.partyfeverltd.co.uk/media/catalog/category/Disco-section.jpg?resize=500%2C200" alt="" width="500" height="200" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/www.partyfeverltd.co.uk/media/catalog/category/Disco-section.jpg?resize=500%2C200&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>People born in the 1980’s are currently aged anywhere between 26 and 35 years old. Having been in the working world for around four or five years, this decade of people are usually seen as responsible employees and entrepreneurs, creating a name for themselves and making short work of corporate ladders all around the world (sounds like the eldest sibling doesn’t it?). Racking up accomplishments and higher salaries, they’re already integrated with Gen X and often aren’t thought of when someone mentions Millennials. People born in the latter half of the term “Millennial” are currently in the height of their teenage years, and because of their youth, are usually grouped in with the rest of the post-century birth crowd. This is where the stereotypes of being a Millennial stem from. But I’ll come back to that later. Right smack in the middle, as always, are 90s kids. Currently aged 16 to 25, we are forced to be grouped into this almost derogatory term, “Millennial”. However we couldn’t be more different than our two surrounding siblings.</p>
<p><img loading="lazy" src="https://i1.wp.com/i.imgur.com/nSOoS53.jpg?resize=525%2C295" alt="" width="525" height="295" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/nSOoS53.jpg?resize=525%2C295&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>I was born in 1994. A great year if I allow myself to say so. Nelson Mandela, Netscape, Rwanda massacre, World Trade Center Bombing…Kurt Cobain…O.J. Simpson… Okay so maybe it wasn’t that great of a year. My point though is that all this happened in one year. Look at what 90’s kids have been through over the course of their short lives: Y2K, 9/11, the dot com boom and bust, the Gulf War, the War in Afghanistan, and the War in Iraq, Apple’s rise to power, the Great Recession, the first black president, the legalization of gay marriage. And those are just a few off the top of my head. We’ve been left to solve the energy crisis and are the last generation that can reduce climate change and global warming before it’s too late. The world has changed immensely in the past 25 years. It’s led to one of the greatest qualities that 90’s kids possess. Nostalgia. And a whole lot of it. We grew up in a time that was almost entirely analog and the biggest fear was Y2K instead of war and the economy. We came of age in a time of great turmoil both domestic and abroad. We became adults in an entirely digital age and a slowly recovering economy. We are incredibly young, and yet possess the nostalgia of an old man.</p>
<p><img loading="lazy" src="https://i0.wp.com/vector.me/files/images/3/8/38289/aol_instant_messenger.png?resize=465%2C258" alt="" width="465" height="258" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/vector.me/files/images/3/8/38289/aol_instant_messenger.png?resize=465%2C258&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>We yearn for the simpler times, when the TV was turned on only after finishing family dinners and calling our friend’s home phone was the only way to reach them (other than AIM). And now I’m currently sitting in front of two computer screens as my phone sits within an arm’s reach dinging with updates of text messages, emails, and social media updates (perhaps this nostalgia is why hipsters came about). This dichotomy in ways of life leaves us 90’s kids wishing we were kids again. And that age was only 15 years ago! This isn’t a bad thing though. Growing up through all of this change has allowed us to adapt to all of the new tech and be very proficient with it. But we also see the value in writing a handwritten note to an employer after a job interview and enjoy relaxing with a good book. In a way, we are the most tech savvy analog people out there. Yes, I know what a tape deck is and watched VHS movies. I also owned a CD player. 90’s kids learned on Gateway computers but can do programming on any Mac book or PC no problem. I could go on and on but my point is that in our eyes, technology doesn’t seem to be advancing that fast. See, we grew up at the same time Apple did. At the same rate Google and Microsoft did. The pace of new technological advancements is about as routine as our birthday coming around every year. And it’s allowed us to be a pretty rare breed. Yes, we are different. But don’t you dare tell me I’m a Millennial.</p>
<p>As I mentioned before, I believe the term Millennial comes from the stereotypes derived from the post-turn of the century kids. All these kids know is digital. This group of kids was seven years old when the first iPhone came out. Is it their fault? Not to me it isn’t. It’s the result of being thrust into a rapidly advancing, tech dependent world and having a cell phone in their hands since 1<sup>st</sup> grade (that’s not an exaggeration, see the link at the bottom**). Look, our society is convenience oriented. Everything is about what makes things easier and faster. Is it any surprise that it has rubbed off on the very kids that are in their peak of susceptibility? Call it lazy if you want, I call it the effects of their environment. And everything <em>is</em> faster and easier. My cell phone (or mini-computer, however you look at it) has the capability to do anything I want and more. It houses the ability to connect with anyone I know in about 30 different ways. It’s no wonder these kids live and breathe social media. When everyone is connected to everyone else at all times, it’s easy to want to keep attention on yourself (after all, they are the youngest sibling; attention is everything). Has it implanted an entitled “me, me, me” loop track in these kids heads? Gen X seems to think so. And I’m inclined to agree. This is what is scaring employers and causing feelings of regurgitation every time they encounter a so called Millennial.</p>
<p><img loading="lazy" src="https://i2.wp.com/s-media-cache-ak0.pinimg.com/736x/da/07/b1/da07b17c932845ab5bd550153adcb5ef.jpg?resize=406%2C393&amp;ssl=1" alt="" width="406" height="393" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/s-media-cache-ak0.pinimg.com/736x/da/07/b1/da07b17c932845ab5bd550153adcb5ef.jpg?resize=406%2C393&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>Sure, call me bitter. I think all of us 90s kids are. We are sick of being grouped into all these <em>Millennials</em> stereotypes. <em>But it is not us</em>. I suppose it’s our fault we’re included in this. We’ve had our heads down, working hard to build a name for ourselves. Haven’t heard of us? Well you’re about to. We are the kids from the 90’s. And we’re about to step out from behind our siblings and shake up the world.</p>
<p>*This article expresses the opinions of a possibly bias student born in the 90’s.</p>
<p>** http://abc7chicago.com/technology/study-53%-of-kids-get-a-cell-phone-at-age-6/637197/</p>
<p>Written by Devon Dietrich, senior at the University of Montana majoring in Marketing, Management, and Psychology.</p>
<p><span>Sources:</span></p>
<p>http://www.cbsnews.com/news/the-millennials-are-coming/</p>
<p>http://www.theatlantic.com/national/archive/2014/03/here-is-when-each-generation-begins-and-ends-according-to-facts/359589/</p>
<p>https://www.google.com/search?tbm=isch&amp;q=90s+collage&amp;imgrc=pxdfMx4kof5G_M%3A&amp;ei=ZC4wVu3EDIiojwO0wr7oDw&amp;emsg=NCSR&amp;noj=1#emsg=NCSR&amp;imgrc=pxdfMx4kof5G_M%3A</p>
<p>http://theodysseyonline.com/ole-miss/middle-child-syndrome-it-is-real/93262</p>
<p>http://www.partyfeverltd.co.uk/party-supplies/birthday-party-themes/60s-70s-disco-80s-party.html</p>
<p><a href="http://isys6621.com/2013/01/29/social-media-and-the-internet-a-retrospective/">Social Media and the Internet: A&nbsp;Retrospective</a></p>

	</div><!-- .entry-content -->

	 <!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://unbelievab.ly/the-forgotten-middle-child-90s-kids-and-why-we-arent-millennials/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24484335</guid>
            <pubDate>Tue, 15 Sep 2020 17:53:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dogs Align Their Poops with Earth’s Magnetic Field and 22 Other Dog Facts]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24482591">thread link</a>) | @KaiserSanchez
<br/>
September 15, 2020 | https://www.gethuan.com/dog-facts/ | <a href="https://web.archive.org/web/*/https://www.gethuan.com/dog-facts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="154261b3" data-element_type="widget" data-widget_type="theme-post-content.default"><div><p>No, really.</p><p>Researchers — <em>actual researchers</em>&nbsp;— monitored 37 different dog breeds over two years to determine that they can sense the Earth’s magnetic field and that they “<a href="https://www.sciencealert.com/dogs-prefer-to-poo-along-a-north-south-axis" target="_blank" rel="noreferrer noopener"><u>prefer to relieve themselves along a north-south axis.</u></a>” And most of the time, they’ll even try to avoid pottying on the east-west axis.</p><p>So if you’ve ever wondered why the heck your dog spends so much time sniffing and spinning to find the right spot, now you know. But, do you know why your pooch tilts its head when you’re talking to it or how many colors it can actually see?</p><p>Keep reading to learn more interesting dog facts you can use to win virtual trivia or impress your friends on your next Zoom happy hour.</p><h2>22 More Outrageous Dog Facts</h2><p>From the fun to the serious to the slightly outrageous, enjoy these facts that’ll help you learn more about human’s best friend. &nbsp;</p><h3>Dogs Have 50x More Scent Receptors Than Humans</h3><p>It’s thought that humans can detect trillions of scents — which makes the number of smells dogs can probably pick up on practically unfathomable.</p><p><a href="https://www.petpooskiddoo.com/blog/how-is-a-dogs-sense-of-smell-different-from-ours-and-why/" target="_blank" rel="noreferrer noopener"><u>That’s because dogs have up to 300 million olfactory receptors</u></a>&nbsp;depending on the breed, while humans have around 6 million. The olfactory system in a dog’s brain is three times larger than the one in a human’s, even though their actual brain is ten times smaller. &nbsp;</p><figure><img loading="lazy" width="1250" height="682" src="https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain.jpg" alt="Dogs Have 50x More Scent Receptors Than Humans" srcset="https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-300x164.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-1024x559.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-768x419.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-150x82.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-512x279.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-60x33.jpg 60w" sizes="(max-width: 1250px) 100vw, 1250px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221250%22%20height%3D%22682%22%20viewBox%3D%220%200%201250%20682%22%3E%3Cfilter%20id%3D%22b%22%3E%3CfeGaussianBlur%20stdDeviation%3D%2212%22%20%2F%3E%3C%2Ffilter%3E%3Cpath%20fill%3D%22%23ec896a%22%20d%3D%22M0%200h1250v678H0z%22%2F%3E%3Cg%20filter%3D%22url(%23b)%22%20transform%3D%22translate(2.4%202.4)%20scale(4.88281)%22%20fill-opacity%3D%22.5%22%3E%3Cellipse%20fill%3D%22%23c6b47a%22%20cx%3D%22147%22%20cy%3D%22124%22%20rx%3D%22113%22%20ry%3D%2254%22%2F%3E%3Cellipse%20fill%3D%22%23ffc79c%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22rotate(-6.2%201241.1%20-1339)%20scale(67.38392%2019.8942)%22%2F%3E%3Cellipse%20fill%3D%22%23ff7164%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(-4.22419%20-47.172%20227.8315%20-20.40198%2098.9%2027.9)%22%2F%3E%3Cellipse%20fill%3D%22%23c18b5d%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22rotate(-101.1%20103%20-7.8)%20scale(18.51095%2082.52158)%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-src="https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain.jpg" data-srcset="https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-300x164.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-1024x559.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-768x419.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-150x82.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-512x279.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/02-HUAN-dog-facts-brain-60x33.jpg 60w"></figure><h3>A Dog’s Nose Print is Like Your Fingerprint</h3><p>Between the outlines of their nostrils, ridges, and dimples; dogs have a pattern on their nose that’s <a href="https://www.dummies.com/pets/dogs/understanding-a-dogs-sense-of-smell/" target="_blank" rel="noreferrer noopener"><u>believed to be as unique as a fingerprint</u></a>. That’s why some organizations actually register nose prints to help identify individual dogs.</p><h3>There’s a Scientific Reason for That Cute Head Tilt</h3><p>It’s no surprise that dogs can hear a large range of frequencies — and part of that may be thanks to the way they move their heads to catch sounds.</p><p>If your dog tilts its head when you’re talking to it, it’s not just to be cute. It’s thought that <a href="https://www.rd.com/article/scientific-reason-dogs-tilt-heads/" target="_blank" rel="noreferrer noopener"><u>dogs do this to adjust their pinnae</u></a>&nbsp;— that cute floppy or upright outer portion of the ear — so they can locate the source of a sound.</p><p>It’s also believed that dogs may reposition their heads when you’re talking to them so that they can better see your face, which helps them understand the emotion you’re conveying (more on that later).</p><h3>There’s a Reason Dachshunds Are So Small Yet So Mighty</h3><p>Among the <em>many</em>&nbsp;things we didn’t know about <a href="https://www.akc.org/expert-advice/lifestyle/things-you-didnt-know-about-the-dachshund/" target="_blank" rel="noreferrer noopener"><u>Dachshunds is that they were bred to hunt badgers</u></a>. “Dachshund” is German for badger dog and their short legs keep them close to the ground where they can track smells while their narrow frames enable them to crawl into badger burrows.</p><h3>Weaker Taste Buds Explain a Lot</h3><p>Compared to their noses and ears, dogs are pretty underpowered in the taste department.</p><p><a href="https://www.akc.org/expert-advice/lifestyle/can-dogs-taste/" target="_blank" rel="noreferrer noopener"><u>Your dog has about one-sixth of the taste buds you have</u></a>, which makes it a lot easier to understand why they’re so quick to scarf down old food scraps, dirty puddle water, and other unsavory snacks if given any chance at all.</p><h3>Dogs Can Sense When You Have Bad Feelings About Someone</h3><p><a href="https://www.rd.com/list/dog-knows-about-you/"><u>Dogs are incredibly perceptive to body language</u></a>&nbsp;and their heightened senses mean they can hear small breathing changes and smell the pheromones you release. All of these senses enable them to pick up on subtle shifts that may happen when you feel uncomfortable around someone. So it might not be that your dog doesn’t like that weird neighbor you always avoid on walks —&nbsp;they can just tell that <em>you</em>&nbsp;don’t like them!</p><h3>Three Dogs Survived the Titanic Catastrophe</h3><p><a href="http://www.vetstreet.com/our-pet-experts/the-dogs-of-the-rms-titanic" target="_blank" rel="noreferrer noopener"><u>Only three dogs survived the tragic sinking of the RMS Titanic</u></a>&nbsp;in 1912. The two Pomeranians and the Pekingese were thought to have survived because they were kept in their owners’ first-class cabins instead of the kennel on board.</p><p>But the real question is, could <em>they</em>&nbsp;have fit <a href="https://www.smithsonianmag.com/smart-news/its-definitive-rose-and-jack-could-both-have-survived-in-titanic-66108527/" target="_blank" rel="noreferrer noopener"><u>on the raft with Rose</u></a>?</p><figure><img loading="lazy" width="1250" height="719" src="https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic.jpg" alt="Three Dogs Survived the Titanic Catastrophe" srcset="https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-300x173.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-1024x589.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-768x442.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-150x86.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-512x295.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-60x35.jpg 60w" sizes="(max-width: 1250px) 100vw, 1250px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221250%22%20height%3D%22719%22%20viewBox%3D%220%200%201250%20719%22%3E%3Cfilter%20id%3D%22b%22%3E%3CfeGaussianBlur%20stdDeviation%3D%2212%22%20%2F%3E%3C%2Ffilter%3E%3Cpath%20fill%3D%22%23dcac3c%22%20d%3D%22M0%200h1250v717H0z%22%2F%3E%3Cg%20filter%3D%22url(%23b)%22%20transform%3D%22translate(2.4%202.4)%20scale(4.88281)%22%20fill-opacity%3D%22.5%22%3E%3Cellipse%20fill%3D%22%23bf7e91%22%20cx%3D%22123%22%20cy%3D%2284%22%20rx%3D%2250%22%20ry%3D%2236%22%2F%3E%3Cellipse%20fill%3D%22%23d29c00%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(17.93635%20-33.73337%20105.92545%2056.32156%20200.5%200)%22%2F%3E%3Cpath%20fill%3D%22%23c5a100%22%20d%3D%22M41.9-13.6l18%2093.2-61.8%2012-18-93.2z%22%2F%3E%3Cellipse%20fill%3D%22%23f7c963%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(254.99845%20.89012%20-.10707%2030.67354%20116.6%20118.6)%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-src="https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic.jpg" data-srcset="https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-300x173.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-1024x589.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-768x442.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-150x86.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-512x295.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/03-HUAN-dog-facts-titanic-60x35.jpg 60w"></figure><h3>That Sniffer May Save Your Life</h3><p>Dogs have been taught to sniff out and warn humans about all kinds of ailments, including infections as well as oncoming migraines, low blood sugar events, and seizures.</p><p>Some pups are even being trained to <a href="https://www.rd.com/list/dog-knows-about-you/" target="_blank" rel="noreferrer noopener"><u>detect the smells of certain chemicals that cancer cells emit</u></a>. In one study, they were 88% accurate at sniffing out breast cancer and 99% accurate at detecting lung cancer.</p><h3>Yes, They Can Sense Fear — But in a Good Way</h3><p>Does your dog ever “check on you” after you hear a startlingly loud noise from outside? Do they seem to stay right on your heels when everyone is out and you’re the only one at home?</p><p>That’s because <a href="https://www.rd.com/list/dog-knows-about-you/" target="_blank" rel="noreferrer noopener"><u>dogs can sense “fear” in the form of adrenaline</u></a>&nbsp;that your body releases when you’re afraid or startled by something. They recognize this scent and stay close to you in order to comfort and protect a cherished member of their pack.</p><h3>Pooches Are Savvier Than Their Goofy Grins Let On</h3><p>And it’s not just their razor-sharp senses that dogs use to pick up on clues, they’re savvier than you think. Just like they can pick up on your body language to tell how you feel about someone, they can also use it to tell what you’re thinking to an extent. For example, in one study, <a href="https://www.rd.com/list/dog-knows-about-you/" target="_blank" rel="noreferrer noopener"><u>dogs were able to find hidden food</u></a>&nbsp;just by following their human’s gaze.</p><h3>They Can Read Human Facial Expressions</h3><p>In addition to reading body language, <a href="https://www.rd.com/list/dog-knows-about-you/" target="_blank" rel="noreferrer noopener"><u>dogs can also accurately unravel your emotional state</u></a>&nbsp;just by seeing your facial expressions. One study found that dogs can definitely tell when a face is sad — even in a photo. Interestingly, they’re also more likely to approach a person who looks sad, which may hint at some form of empathy.</p><h3>You May Think Twice Next Time You Say One of These Phrases</h3><p>Many seeing eye dogs are trained to go potty on demand so their owners can more effectively find it and clean it up. <a href="https://www.ctvsh.com/services/dogs/blog/23-amazing-facts-about-dogs-you-probably-didnt-know-0" target="_blank" rel="noreferrer noopener"><u>Popular demands to do their business</u></a>&nbsp;are “Get busy” and “Go time.” Really makes you think twice about using those phrases, doesn’t it?</p><h3>The Tallest Dog Ever Recorded was Over 7’ When Standing</h3><p>According to Guinness World Records, <a href="https://www.guinnessworldrecords.com/world-records/tallest-dog-ever"><u>the tallest</u></a><u><a href="https://www.guinnessworldrecords.com/world-records/tallest-dog-ever" target="_blank" rel="noreferrer noopener"> </a></u><a href="https://www.guinnessworldrecords.com/world-records/tallest-dog-ever" target="_blank" rel="noreferrer noopener"><u>dog they’ve measured to date</u></a>&nbsp;stood at 44” tall when measured at the withers (the high point of a dog’s shoulder blade) and 7’ 4” when standing on his hind legs! <a href="https://www.guinnessworldrecords.com/world-records/smallest-dog-living-(height)" target="_blank" rel="noreferrer noopener"><u>Their shortest dog on record</u></a>&nbsp;was a minuscule 3.8” tall at the withers and weighed just one pound.</p><figure><img loading="lazy" width="1250" height="804" src="https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size.jpg" alt="The Tallest Dog Ever Recorded was Over 7’ When Standing" srcset="https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-300x193.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-1024x659.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-768x494.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-150x96.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-512x329.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-60x39.jpg 60w" sizes="(max-width: 1250px) 100vw, 1250px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221250%22%20height%3D%22804%22%20viewBox%3D%220%200%201250%20804%22%3E%3Cfilter%20id%3D%22c%22%3E%3CfeGaussianBlur%20stdDeviation%3D%2255%22%20%2F%3E%3C%2Ffilter%3E%3Cpath%20fill%3D%22%23d6825f%22%20d%3D%22M0%200h1250v800H0z%22%2F%3E%3Cg%20filter%3D%27url(%23c)%27%20fill-opacity%3D%27.5%27%3E%3Cellipse%20fill%3D%22%237a5a2a%22%20fill-opacity%3D%22.5%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(264.00294%20-81.72256%2070.23553%20226.89433%20452.3%20445)%22%2F%3E%3Cellipse%20fill%3D%22%23ff836f%22%20fill-opacity%3D%22.5%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(-435.78435%20-99.60311%20207.01848%20-905.749%201154.5%20409.4)%22%2F%3E%3Cellipse%20fill%3D%22%23d0ab77%22%20fill-opacity%3D%22.5%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22rotate(-113.8%20158.4%20-57)%20scale(216.24189%20580.6473)%22%2F%3E%3Cellipse%20fill%3D%22%23b4a367%22%20fill-opacity%3D%22.5%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(-237.61744%20-52.67852%2022.80328%20-102.85894%20928.5%20373.7)%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-src="https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size.jpg" data-srcset="https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-300x193.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-1024x659.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-768x494.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-150x96.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-512x329.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/04-HUAN-dog-facts-size-60x39.jpg 60w"></figure><h3>Dogs Are About as Smart as Toddlers</h3><p>While canine intelligence varies by breed — with Border Collies being the smartest — most dogs can count to some extent, understand 150 words, and even trick people and other dogs when there’s food on the line. Generally speaking, that makes <a href="https://www.rd.com/list/dog-facts-you-didnt-know/" target="_blank" rel="noreferrer noopener"><u>dogs about as smart as the average two-year-old</u></a>&nbsp;human.</p><h3>Dogs’ Noses Are Wet Thanks to a Special Mucus That Absorbs Chemicals</h3><p>That cold, wet dog nose is <a href="https://www.purina.co.uk/dogs/behaviour-and-training/understanding-dog-behaviours/amazing-dog-facts" target="_blank" rel="noreferrer noopener"><u>the result of special mucus dogs secrete</u></a>&nbsp;to absorb scent molecules and chemicals. When the dog licks its nose, it can then taste those particles to better understand what the smell is.</p><p>And for a bonus fact, it’s totally normal for a dog to have a warm and dry nose for a variety of reasons! <a href="https://www.hillspet.com/dog-care/healthcare/dry-dog-nose-concerns#:~:text=Most%20often%2C%20a%20dog's%20dry,of%20water%20from%20slight%20dehydration." target="_blank" rel="noreferrer noopener"><u>What you should look out for is changes in the regular texture of their nose</u></a>&nbsp;or what it’s secreting.</p><h3>Dogs Are Great for Your Love Life!</h3><p>Nearly 70% of people report that they <a href="https://www.ctvsh.com/services/dogs/blog/23-amazing-facts-about-dogs-you-probably-didnt-know-0" target="_blank" rel="noreferrer noopener"><u>wouldn’t date a person who didn’t like pets</u></a>. Can you blame them?</p><h3>A Wag Is Worth a Thousand Words</h3><p>You’ve probably wondered what your dog is thinking from time to time. If you learn to understand what they’re saying with their tail, you might get a little closer to figuring it out.</p><p><a href="https://www.rd.com/list/dog-facts-that-are-false/" target="_blank" rel="noreferrer noopener"><u>According to Jess Trimble</u></a>, a Doctor of Veterinary Medicine and chief veterinary officer for the online veterinary consultation company <a href="https://www.home.yourfuzzy.com/" target="_blank" rel="noreferrer noopener"><u>Fuzzy Pet Health</u></a>, a vigorous wag from side to side often means happiness, a slow wag with the tail held low may signify fear or insecurity, and a very high tail wagged quickly might show fear or even aggression.</p><h3>Dogs Experience Jealousy!</h3><p>Going along with the theory that dogs are about as mature as toddlers, it makes sense that <a href="https://www.rd.com/list/dog-facts-you-didnt-know/" target="_blank" rel="noreferrer noopener"><u>they experience jealousy</u></a>&nbsp;the same way young kinds might. You’re not imagining that your dog fights for your attention when you’re busy fawning over other animals — or that they’re extra suspicious about your smell when you come home from another household with pets.</p><h3>No Surprise — The US Has a Lot of Pet Pooches</h3><p>The United States has the highest population of pet dogs in the entire world. In fact, <a href="https://www.theatlantic.com/business/archive/2012/11/the-dog-economy-is-global-but-what-is-the-worlds-true-canine-capital/265155/" target="_blank" rel="noreferrer noopener"><u>there’s one pet pooch for every four Americans</u></a>! <a href="https://www.akc.org/expert-advice/news/labrador-retriever-most-popular-breed-29th-year-row/" target="_blank" rel="noreferrer noopener"><u>Labs have been the most popular breed</u></a>&nbsp;among Americans for nearly 3 decades now.</p><figure><img loading="lazy" width="1250" height="698" src="https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors.jpg" alt="No Surprise — The US Has a Lot of Pet Pooches" srcset="https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-300x168.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-1024x572.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-768x429.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-150x84.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-512x286.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-60x34.jpg 60w" sizes="(max-width: 1250px) 100vw, 1250px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221250%22%20height%3D%22698%22%20viewBox%3D%220%200%201250%20698%22%3E%3Cfilter%20id%3D%22b%22%3E%3CfeGaussianBlur%20stdDeviation%3D%2212%22%20%2F%3E%3C%2Ffilter%3E%3Cpath%20fill%3D%22%23d0a232%22%20d%3D%22M0%200h1250v693H0z%22%2F%3E%3Cg%20filter%3D%22url(%23b)%22%20transform%3D%22translate(2.4%202.4)%20scale(4.88281)%22%20fill-opacity%3D%22.5%22%3E%3Cellipse%20fill%3D%22%23a76472%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(56.53058%205.30418%20-3.77804%2040.26531%20173%2062.3)%22%2F%3E%3Cellipse%20fill%3D%22%23ffd460%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22matrix(-2.5443%20-38.30636%2074.19082%20-4.92775%2062%2062.4)%22%2F%3E%3Cellipse%20fill%3D%22%23cdb400%22%20cx%3D%2246%22%20cy%3D%22126%22%20rx%3D%2297%22%20ry%3D%2229%22%2F%3E%3Cellipse%20fill%3D%22%23d4bb00%22%20rx%3D%221%22%20ry%3D%221%22%20transform%3D%22rotate(168.1%2019.2%209)%20scale(67.51459%2022.10641)%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-src="https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors.jpg" data-srcset="https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors.jpg 1250w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-300x168.jpg 300w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-1024x572.jpg 1024w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-768x429.jpg 768w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-150x84.jpg 150w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-512x286.jpg 512w, https://www.gethuan.com/wp-content/uploads/2020/08/05-HUAN-dog-facts-labradors-60x34.jpg 60w"></figure><h3>They Can See More Color Than We Think</h3><p>Contrary to a very common belief, dogs can actually see colors. However, since they only have one-tenth of the cones that humans have, they see those colors differently.</p><p><a href="https://petsdoc.org/through-the-eyes-of-your-dog" target="_blank" rel="noreferrer noopener"><u>Dogs are dichromatic</u></a>, which means they can see two color families — blue-violets and yellows. This makes them unable to clearly distinguish between green, yellow, orange, and red; much like color-blind humans. Instead of color, dogs use a variety of other cues (including smell, texture, brightness, etc.) along with superior night and motion vision to navigate the world around them.</p><h3>Dogs Understand Your Tone More Than Your Words</h3><p>Since dogs can’t really grasp the breadth of human language, they’ve developed ways to tie meaning to what they <em>can</em>&nbsp;understand — sound. The pitch, intonation, rhythm, and other <a href="https://www.rd.com/list/dog-facts-you-didnt-know/" target="_blank" rel="noreferrer noopener"><u>tones in your voice communicate more to your dog</u></a>&nbsp;than your actual words (and pure volume!) do a lot of the time. So, yelling commands at your dog might not be as effective as consistently using a stern tone for admonishment and an upbeat tone for praise. &nbsp;</p><h3>Petting a Dog Can Drop Your Blood Pressure — And Other Ways They’re Good for Your Health</h3><p>We already know that dogs are pretty great at detecting ailments, but did you know that just having one around can improve your overall health?</p><p>Studies have found that <a href="https://www.rd.com/list/benefits-having-pet/" target="_blank" rel="noreferrer noopener"><u>older adults who own pets are 36% less likely to suffer from loneliness</u></a>, petting a dog can lower the “stress hormone” cortisol and increase the “happy hormone” oxytocin, lower heart rates, increase executive function, reduce the need for pain medication, and <a href="https://www.rd.com/list/dog-facts-you-didnt-know/" target="_blank" rel="noreferrer noopener"><u>lower your blood pressure by 10%</u></a>.</p><h2>And Now a Not-So-Fun Fact: A Microchip Isn’t Enough</h2><p>Our final fact is less of a fun-to-know and more of a need-to-know that <em>every</em>&nbsp;dog owner should be aware of: <a href="https://www.gethuan.com/can-you-track-your-dog-with-a-microchip/"><strong><u><strong>You cannot track your dog with a microchip</strong></u></strong><u>.</u></a>&nbsp;</p><p>Mi…</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.gethuan.com/dog-facts/">https://www.gethuan.com/dog-facts/</a></em></p>]]>
            </description>
            <link>https://www.gethuan.com/dog-facts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24482591</guid>
            <pubDate>Tue, 15 Sep 2020 15:46:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpunk 2077 Logos]]>
            </title>
            <description>
<![CDATA[
Score 185 | Comments 81 (<a href="https://news.ycombinator.com/item?id=24482538">thread link</a>) | @rglover
<br/>
September 15, 2020 | https://www.valencygraphics.com/cyberpunk-2077 | <a href="https://web.archive.org/web/*/https://www.valencygraphics.com/cyberpunk-2077">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="pageWrapper" role="main">
        <!-- CATEGORY NAV -->
        
      <section id="page">

      <div data-content-field="main-content">
        <div data-type="page" data-updated-on="1591725964138" id="page-5e71ab7c46e95a63aa843b23"><div><div><div data-block-type="2" id="block-5e71ab7c46e95a63aa843b24"><div><div><p>It’s finally here! I’ve added half again as many logos as well as updated many existing logos as new reference material has surfaced. I’ve put in quite a few hours, scouring for typefaces that may or may not exist, giving up and making things from scratch, and of course, finding that perfect reference to make something perfect. In the process, I’ve found lots of fun easter eggs, plenty of mistakes, and lots of friends who share the same love as I do of these particular logos and designs. I am so happy that I have been able to do as much as I have and I hope to continue in the coming year. Thanks to all of you who have supported me be it in materials submitted, advice, references, financial aid, linking, etc! I am very humbled by the community and will continue to try to support these as long as I can.</p><p>This is a personal project that I began working on once the Cyberpunk 2077 Gameplay reveal came out, remaking many of the assets that the game has to offer in terms of graphic design. Its diversity in styles makes it such a fantastic game to replicate and I hope that these will come in handy for anyone hoping to make their own custom assets along with any cosplayers, modelmakers, or printers who need these files to lend authenticity to their own work. I truly appreciate the amount of time and effort the team at CD Projekt Red and their designers/artists have put out towards making such a real and visceral world. I am very excited for the game and look forward to finding many more amazing examples of their fine handiwork!</p><p>If there is an asset you would like to see recreated from the game, trailer, or something else, <a href="https://www.valencygraphics.com/contact">please let me know</a>. My WIP list is at the end of this page, but subject to change as new logos are found. These logos are also subject to change due to the fact that I am working with low-res screenshots and odd angles when recreating the logos from reference, thus some proportions might be off, certain designs may be modified, or some fonts might be off completely. Just know that I tried my best and if anything, that’s just my extra “spin” on things for now. :)</p><p>Special thanks to Eli (<a href="https://twitter.com/hey_elium" target="_blank">@hey_elium</a>) for contributing a few of these logos as well as The Madqueen (<a href="https://twitter.com/MadqueenShow">@MadqueenShow</a>), herself! They are denoted by the *. Also thanks to <a href="https://www.twitter.com/coolpollution">@coolpollution</a> for reference materials! </p><p>Follow me on <a href="https://www.twitter.com/ValencyGraphics">twitter</a> for any updates to this page!</p></div><h3><strong>WARNING / LICENSING INFORMATION:</strong></h3><p><strong><em>These assets are not for redistribution or for commercial use and are owned by CD Projekt Red.</em> </strong><br>Unless express permission is obtained through CD Projekt Red for commercial usage, you will be subject to licensing laws in your country and possible legal action may be taken against you. I do not own any of these logos and will not be held responsible for actions taken against you should you choose to ignore this warning.  I have recreated the logos you see here and shared them purely for non-commercial projects and for other fans to use in their own fan projects. CD PROJEKT®, Cyberpunk®, Cyberpunk 2077® are registered trademarks of CD PROJEKT S.A. © 2020 CD PROJEKT S.A. All rights reserved. All other copyrights and trademarks are the property of their respective owners.</p></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_16103"><p>Contents: <br>2nd Amendment vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_16768"><p>Contents: <br>4ST Store vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_17436"><p>Contents: <br>6th Street vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_18115"><p>Contents: <br>24/7 Store vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_28043"><p>Contents: <br>All Foods vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_28901"><p>Contents: <br>Animals vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_29762"><p>Contents: <br>Arasaka vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_30633"><p>Contents: <br>Below Deck vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_51582"><p>Contents: <br>Bliss vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_52702"><p>Contents: <br>Braindance vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_53823"><p>Contents: <br>Braindance Caution vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_54956"><p>Contents: <br>Brooklyn Barista vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_81672"><p>Contents: <br>Buck-A-Slice vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_83072"><p>Contents: <br>Bumelant vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_84455"><p>Contents: <br>Cali Express vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_85851"><p>Contents: <br>Capitan Caliente vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_118343"><p>Contents: <br>CC+ vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_119987"><p>Contents: <br>Centzon Totochtin vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_121632"><p>Contents: <br>Chromanticore vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_123290"><p>Contents: <br>Cinema vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_161563"><p>Contents: <br>Cirrus Cola vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_163469"><p>Contents: <br>Combat Cab vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_165376"><p>Contents: <br>Connection Symbols vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_167295"><p>Contents: <br>Constitutional Arms vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_211340"><p>Contents: <br>Cyberpunk 2077 high res PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_213508"><p>Contents: <br>Cyberware vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_215677"><p>Contents: <br>Data Inc. vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_217858"><p>Contents: <br>Delamain Taxi vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_267682"><p>Contents: <br>Devil’s Luck vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_270112"><p>Contents: <br>Dexter DeShawn vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_272544"><p>Contents: <br>DTR (Decker, Tanaka &amp; Rogers) vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_274988"><p>Contents: <br>Dynalar vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_341975"><p>Contents: <br>El Guapo vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_344668"><p>Contents: <br>Exit Sign vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_347360"><p>Contents: <br>Foodscape vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_350065"><p>Contents: <br>Fuyutsuki vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_411446"><p>Contents: <br>Grand Imperial Mall vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_414400"><p>Contents: <br>Guard Pacc vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_417355"><p>Contents: <br>Hot Mess vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_420322"><p>Contents: <br>Kabayan Foods vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_487481"><p>Contents: <br>King Size vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_490697"><p>Contents: <br>Kiroshi vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_493914"><p>Contents: <br>Lizzy Wizzy vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_497143"><p>Contents: <br>Love Hub vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_669911"><p>Contents: <br>Macroware vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_673389"><p>Contents: <br>Maelstrom vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_676868"><p>Contents: <br>Mark X 24 vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584507788166_680359"><p>Contents: <br>Masala Studios vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_104661"><p>Contents: <br>Medtech vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_108405"><p>Contents: <br>Metro vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_112147"><p>Contents: <br>Militech vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_115902"><p>Contents: <br>NC Industries vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_209673"><p>Contents: <br>NCart vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_213675"><p>Contents: <br>NCPD vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_217679"><p>Contents: <br>Netwatch vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_221695"><p>Contents: <br>NiCola vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_311964"><p>Contents: <br>Orbital Air vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_316228"><p>Contents: <br>Piez vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_320493"><p>Contents: <br>Quadra vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_324770"><p>Contents: <br>Riot vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_420821"><p>Contents: <br>Samurai vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_425347"><p>Contents: <br>Shwab vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_429874"><p>Contents: <br>Softsys vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_434413"><p>Contents: <br>Spunky Monkey vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_678262"><p>Contents: <br>Tao Industries vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_683050"><p>Contents: <br>The Atlantis vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_687840"><p>Contents: <br>Thorton vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_692640"><p>Contents: <br>Totentanz vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_800259"><p>Contents: <br>Trauma Team vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_805309"><p>Contents: <br>Turbo vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_810360"><p>Contents: <br>Valentinos vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_815426"><p>Contents: <br>Vargas vector, high res JPG &amp; PNG</p></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_1085979"><p>Contents: <br>Voodoo Boys vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_1091291"><p>Contents: <br>X9 vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_1096605"><p>Contents: <br>Yaiba vector, high res JPG &amp; PNG</p></div></div><div><div data-block-type="2" id="block-yui_3_17_2_1_1584510547001_1101930"><p>Contents: <br>Zetatech vector, high res JPG &amp; PNG</p></div></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3729820"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Plug-In-Now-Ad-Wallpaper-02-t5ds.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966425170-XJW5WBXJGNT20UBQVZ3I/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Plug+In+Now+Ad+Wallpaper-02.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966425170-XJW5WBXJGNT20UBQVZ3I/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Plug+In+Now+Ad+Wallpaper-02.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Plug In Now Advertisement" data-load="false" data-image-id="5e78ab174919f8518bfd2f6d" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966425170-XJW5WBXJGNT20UBQVZ3I/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Plug+In+Now+Ad+Wallpaper-02.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Plug In Now Advertisement</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3737782"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/2nd-Amendment-Wallpaper.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966487342-W286IP3MYYWJBKCSHGB8/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/2nd+Amendment+Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966487342-W286IP3MYYWJBKCSHGB8/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/2nd+Amendment+Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="2nd Amendment 4K Wallpaper" data-load="false" data-image-id="5e78ab54e08d1b666d2d629f" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966487342-W286IP3MYYWJBKCSHGB8/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/2nd+Amendment+Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>2nd Amendment 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3744929"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Capitan-Caliente-Wallpaper.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966575952-9HF3LDUCOFIUA6WRUOG1/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Capitan+Caliente+Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966575952-9HF3LDUCOFIUA6WRUOG1/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Capitan+Caliente+Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Capitan Caliente 4K Wallpaper" data-load="false" data-image-id="5e78abaed07f467077b97971" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966575952-9HF3LDUCOFIUA6WRUOG1/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Capitan+Caliente+Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Capitan Caliente 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3751889"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/CC_CP2077_Wallpaper.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966650760-HTAOBUSZ26KJ1MEOKJXE/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/CC%2B_CP2077_Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966650760-HTAOBUSZ26KJ1MEOKJXE/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/CC%2B_CP2077_Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="CC Plus (CC+)* 4K Wallpaper" data-load="false" data-image-id="5e78abfac54f956f568bb963" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966650760-HTAOBUSZ26KJ1MEOKJXE/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/CC%2B_CP2077_Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>CC Plus (CC+)* 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3817609"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Combat-Cab-Wallpaper-4ra5.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966963321-AXAEV9EAQ4ZW6O8918WX/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Combat+Cab+Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966963321-AXAEV9EAQ4ZW6O8918WX/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Combat+Cab+Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Combat Cab 4K Wallpaper" data-load="false" data-image-id="5e78ad2bb0412f11a934c16b" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966963321-AXAEV9EAQ4ZW6O8918WX/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Combat+Cab+Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Combat Cab 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div><div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3758496"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Connected-Wallpaper.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966740424-E47TSYN9AC8Y2BLU807C/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Connected+Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966740424-E47TSYN9AC8Y2BLU807C/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Connected+Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Connected Symbol 4K Wallpaper" data-load="false" data-image-id="5e78ac4cb0412f11a934a869" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966740424-E47TSYN9AC8Y2BLU807C/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Connected+Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Connected Symbol 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div></div><div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3765610"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Disconnected-Wallpaper.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966818741-AQD15MVTJ77CTMVOLEAZ/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Disconnected+Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966818741-AQD15MVTJ77CTMVOLEAZ/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Disconnected+Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Disconnected Symbol 4K Wallpaper" data-load="false" data-image-id="5e78ac9db0412f11a934b249" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584966818741-AQD15MVTJ77CTMVOLEAZ/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Disconnected+Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Disconnected Symbol 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3811594"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Dex_CP2077_Wallpaper-j8ze.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967058455-3M7BY0UTUPU9S24LOVFZ/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Dex_CP2077_Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967058455-3M7BY0UTUPU9S24LOVFZ/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Dex_CP2077_Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Dexter DeShawn 4K Wallpaper" data-load="false" data-image-id="5e78ad8f46fbdd70dc790d62" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967058455-3M7BY0UTUPU9S24LOVFZ/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Dex_CP2077_Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Dexter DeShawn 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3836251"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Foodscape-Wallpaper.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967170161-VRMI62ZOCVWQT1X824N5/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Foodscape+Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967170161-VRMI62ZOCVWQT1X824N5/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Foodscape+Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Foodscape 4K Wallpaper" data-load="false" data-image-id="5e78ae01ac495155650aaf9c" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967170161-VRMI62ZOCVWQT1X824N5/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Foodscape+Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Foodscape 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3843096"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Macroware_CP2077_Wallpaper-heyh.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967263418-1WVEBDPDF5CVZI1JMPY6/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Macroware_CP2077_Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967263418-1WVEBDPDF5CVZI1JMPY6/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Macroware_CP2077_Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Macroware 4K Wallpaper" data-load="false" data-image-id="5e78ae5d0ff82c2320756998" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967263418-1WVEBDPDF5CVZI1JMPY6/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Macroware_CP2077_Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Macroware 4K Wallpaper</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1584944756693_3875409"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          <a href="https://www.valencygraphics.com/s/Maelstrom_CP2077_Wallpaper-7arp.jpg">
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967376496-HPNJPMCO6XXZI7KINE07/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Maelstrom_CP2077_Wallpaper.jpg" data-image="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967376496-HPNJPMCO6XXZI7KINE07/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Maelstrom_CP2077_Wallpaper.jpg" data-image-dimensions="2500x1406" data-image-focal-point="0.5,0.5" alt="Maelstrom 4K Wallpaper" data-load="false" data-image-id="5e78aecb64f35a2e28a14fc6" data-type="image" src="https://images.squarespace-cdn.com/content/v1/54c566cbe4b0f7430cbc6a73/1584967376496-HPNJPMCO6XXZI7KINE07/ke17ZwdGBToddI8pDm48kPTrHXgsMrSIMwe6YW3w1AZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k5fwC0WRNFJBIXiBeNI5fKTrY37saURwPBw8fO2esROAxn-RKSrlQamlL27g22X2A/Maelstrom_CP2077_Wallpaper.jpg">
          </p>
        
          </a>
        

        
          
          <figcaption>
            <p>Maelstrom 4K Wallpaper</p>
          </figcaption>
        
      
        </figure></div></div></div></div></div></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.valencygraphics.com/cyberpunk-2077">https://www.valencygraphics.com/cyberpunk-2077</a></em></p>]]>
            </description>
            <link>https://www.valencygraphics.com/cyberpunk-2077</link>
            <guid isPermaLink="false">hacker-news-small-sites-24482538</guid>
            <pubDate>Tue, 15 Sep 2020 15:43:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Red flags I saw while doing technical interviews]]>
            </title>
            <description>
<![CDATA[
Score 439 | Comments 361 (<a href="https://news.ycombinator.com/item?id=24482119">thread link</a>) | @leeny
<br/>
September 15, 2020 | http://blog.interviewing.io/6-red-flags-i-saw-while-doing-60-technical-interviews-in-30-days/ | <a href="https://web.archive.org/web/*/http://blog.interviewing.io/6-red-flags-i-saw-while-doing-60-technical-interviews-in-30-days/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
						
<p><em>Hey, Aline (founder of interviewing.io) here. We’re trying something new. Up till now, all posts on this blog have been written by interviewing.io employees or contractors. Why? Frankly, it’s hard to find great content in the recruiting space. There’s so much fluff and bad advice out there, and we didn’t want any part of that.</em></p>



<p><em>The other day though, I was reading Hacker News and saw </em><a href="https://medium.com/@meekg33k/14-lessons-i-learned-from-doing-60-technical-interviews-in-30-days-7732e4f7608d?source=---------4------------------"><em>an article by Uduak Obong-Eren about how he did over 60 technical interviews in 30 days</em></a><em> and what he learned from that gauntlet of an experience. I thought it was honest, vulnerable, well-written, and brimming with actionable advice. So, I reached out to him to see if he’d want to write something else. Fortunately, he did, and the article below is the inaugural post in what I hope will become our Guest Author series. You can read more about Uduak in the bio below.</em></p>



<p><em>A quick note because this is the first time we’re doing this. One of the things I’m most excited about with this new Guest Author series is the diversity of opinions it will bring to our blog. Technical interviewing and hiring is fraught with controversy, and not everything these posts contain will be in line with my opinions or the official opinions of interviewing.io. But that’s what’s great about it. After over a decade in this business, I *still* don’t think there’s a right way to conduct interviews, and I think hiring is always going to be a bit of a mess because it’s a fundamentally human process. Even if we don’t always agree, I do promise that the content we put forth will be curated, high quality, and written by smart people who are passionate about this space.</em></p>



<p><em>Now, off we go!</em></p>



<hr>



<p><img loading="lazy" width="150" height="193" src="http://blog.interviewing.io/wp-content/uploads/2020/09/Uduak-Obong-Eren-Photo-e1600132427566.jpg" alt=""><em><em>Uduak Obong-Eren is a Software Engineer based in the San Francisco Bay Area who is passionate about architecting and building scalable software systems. He has about five years of industry experience and holds a Masters in Software Engineering from Carnegie Mellon University. He is also an open source enthusiast and writes technical articles – you can view some of his writings at </em><a href="https://meekg33k.dev/"><em>https://meekg33k.dev</em></a><em>. He especially enjoys conducting free mock technical interviews to help folks get better at technical interviewing. You can follow him on Twitter </em><a href="https://www.twitter.com/meekg33k"><em>@meekg33k</em></a><em>.</em></em></p>



<p>What is the one thing you would look out for if you had to join a company?</p>



<p>Sometime between January and February 2020, I wanted to change jobs and was looking to join a new company. This, among other reasons, led me to embark on a marathon of technical interviews – <a href="https://www.freecodecamp.org/news/what-i-learned-from-doing-60-technical-interviews-in-30-days/">60+ technical interviews in 30 days</a>.&nbsp;</p>



<p>Doing that many number of interviews in such a short time meant I had an interesting mix of experiences from the various companies I interviewed with, each with their unique culture and values that often reflected in the way their interviews were conducted, intentionally or not.</p>



<p>In this article, I will be sharing some of the red flags I observed while I was on this marathon of technical interviews. I will not be mentioning names of any companies because that’s not the intent behind this article.&nbsp;</p>



<p>The goal of this article is also not to make you paranoid and be on the hunt for red flags in your next interview, far from it. Rather the goal is to equip you with knowledge to help you immediately identify exactly the same or similar red flags in your next interview<em>,</em> and hopefully identifying them will set you up to better handle them.&nbsp;</p>



<p>Even though the stories I’ll be sharing come from my marathon of <em>technical </em>interviews, these red flags do not apply only to technical interviews. They apply to all kinds of interviews and so there’s a lot to learn here for everyone.</p>



<span>The Red Flags</span>




<span>Your interviewer is only open to solving the problem ONE way</span>



<p>In the world of computing and in life generally, for any given problem, there is typically more than one way to solve that problem. For example, given a sorting problem, you could solve it using a<a href="https://www.programiz.com/dsa/merge-sort"> merge-sort</a> algorithm or a<a href="https://www.programiz.com/dsa/heap-sort"> heap sort</a> algorithm.&nbsp;</p>



<p>Having this rich number of techniques to solve a problem makes it even more interesting and the general expectation in technical interviews is that you should have the flexibility to solve a problem using your preferred technique.</p>



<p>I had an interview where the interviewer asked me to solve an algorithmic problem. I had started solving the problem using a specific technique when the interviewer stopped me in my tracks and asked that I use another technique.&nbsp;</p>



<p>When I probed a bit further to know why, it appeared that the reason he asked that I used the second wasn’t to test my knowledge of that second technique; it was because he was more ‘comfortable’ with that approach.</p>



<p>It is different if the interviewer wants to test your knowledge of something very specific. For example, given a problem that can be solved using iteration and recursion, the interviewer may want to test your knowledge of recursion and can ask you to solve the problem recursively. That wasn’t the case here.</p>



<p>I ended up using both techniques and discussed the trade-offs but frankly that experience left a bad taste in my mouth especially because that interview was with the hiring manager — my would-be manager, who is someone that can significantly influence your career growth and trajectory.&nbsp;</p>



<span>Undue pressure to accept an offer letter</span>



<p>It’s very exciting and fulfilling when you go through all preliminary stages of a technical interview, through to the onsite interview (remote or in-person) and then you receive that “<em>Congratulations &lt;insert name here&gt;, we are pleased to offer you…</em>” email.</p>



<p>However, that excitement often becomes short-lived when there is some form of pressure from your soon-to-be employer to accept the offer. It’s a bit more manageable when the pressure comes from someone in HR or the recruiter, but when it’s from the hiring manager, that can be harder to manage.</p>



<p>That was the case for me when I interviewed with a startup based in Palo Alto. They were a small company in terms of staff strength. My onsite interview with them had gone quite well. I had a good conversation with the hiring manager and an even better conversation with the VP of Engineering, so much so that I could tell that I was going to be extended an offer. I asked to know how long I had to accept the offer letter and I was told seventy-two hours.</p>



<p>The offer letter arrived later that evening, and it looked great — a six-figure offer definitely didn’t seem like a bad start. I was also at the final stage of the interview process with other companies too and thankfully, I had enough time to negotiate and accept the offer, or so I thought.&nbsp;</p>



<p>Then the pressure started, incessant calls from the hiring manager and the VP of Engineering, back-to-back emails, all within the allotted time. So much was the pressure that it got to a point where I wasn’t sure I wanted to negotiate the offer anymore. I turned down the offer.</p>



<p>I turned down the offer because the experience got me thinking about the company’s work culture. Were the methods employed by the company to get me to accept the offer indicative of their work culture? If they needed to get something done, how far would they go?&nbsp;</p>



<p>Now don’t get me wrong, yes the company wants to employ you, yes the recruiting team wants to ‘close the deal’ however, it’s very important to pay attention to how the company does this. Do they remain professional about it?</p>



<p>A company’s values go beyond what they say, it shows in what they do and how they do it.</p>



<span>Not enough clarity about your role</span>



<p>Among the many reasons why you would join a company is your desire to be involved in valuable work. I had the opportunity to join a US company based in Boulder, Colorado. They had contracted a recruiting agency to help them find someone to fill a Software Engineer position in their firm.&nbsp;</p>



<p>The hiring process started with an exploratory interview with the recruiting agency closely followed by a second interview with a recruiter from the company. In both interviews, I couldn’t get a clear sense of the details of my specific role was — what team I would be on, what kinds of projects I’d be working on, what the career growth pathway was, etc.&nbsp;</p>



<p>I understand that sometimes companies can be going through restructuring, but that didn’t seem to be the case here. It seemed more like the company was focused on completing their headcount. Even though there’s nothing wrong with completing a headcount, I think there is everything wrong with not having a clear purpose for a role for a couple of reasons:</p>



<ul><li>It means the role may not be critical to the company’s core business.</li><li>If the role isn’t that important, it may mean when a layoff comes, your position may be impacted.</li></ul>



<p>On a more personal note, I don’t want to be just a number. I want to work at a place where I have the opportunity to contribute in an impactful way, and I like to believe you would too. So it’s important to get clarity about your role, for where you are today and for future career growth.</p>



<span>Consistent lack of interest or low morale from interviewers</span>



<p>When looking to join a company, one of the things you simply must care about is the team you will end up working on. At least 25% of your waking hours will be spent interacting with that team whether in-person or virtually.</p>



<p>Interviews offer you an opportunity to experience firsthand what it will look like to work with your prospective teammates, especially since, unless you’re interviewing at a huge company, your interviewers are likely to become your teammates.</p>



<p>If through all the different stages of the interview process, you experience a <strong>consistent</strong> lack of interest or low morale from your interviewers, you might want to pay attention .&nbsp;</p>



<p>When I experienced that during one of my interviews, I couldn’t exactly tell what the cause was, but I knew something just wasn’t right. After some internal tussle, I decided to trust my gut feelings and ended the interview process with the company.&nbsp;</p>



<p>Fast forward to two months …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://blog.interviewing.io/6-red-flags-i-saw-while-doing-60-technical-interviews-in-30-days/">http://blog.interviewing.io/6-red-flags-i-saw-while-doing-60-technical-interviews-in-30-days/</a></em></p>]]>
            </description>
            <link>http://blog.interviewing.io/6-red-flags-i-saw-while-doing-60-technical-interviews-in-30-days/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24482119</guid>
            <pubDate>Tue, 15 Sep 2020 15:15:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Landlord Tech Watch – What Is Landlord Tech?]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 133 (<a href="https://news.ycombinator.com/item?id=24481990">thread link</a>) | @dfgdghdf
<br/>
September 15, 2020 | https://antievictionmappingproject.github.io/landlordtech/ | <a href="https://web.archive.org/web/*/https://antievictionmappingproject.github.io/landlordtech/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://antievictionmappingproject.github.io/landlordtech/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24481990</guid>
            <pubDate>Tue, 15 Sep 2020 15:05:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Performance Profiling: Google.com]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 82 (<a href="https://news.ycombinator.com/item?id=24481854">thread link</a>) | @toddgardner
<br/>
September 15, 2020 | https://requestmetrics.com/web-performance/performance-profiling-google | <a href="https://web.archive.org/web/*/https://requestmetrics.com/web-performance/performance-profiling-google">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>How is Google so fast? It’s so fast we take it for granted.  It feels instant from the time you search to when results are displayed.  What can we learn about the techniques they use to make their site so fast?</p>

<!--more-->

<h2 id="google-search-results-are-fast">Google Search Results are Fast</h2>
<p>The Google homepage is known for it’s speed, but that’s partly a function of how sparse it is.  For this discussion, let’s focus instead on the Google <strong>search results</strong> page.  There’s a lot more functionality and content, and it still loads incredibly fast.  Here we’re searching for “request metrics” from a mobile phone.</p>

<figure>
    <video controls="" muted="" preload="metadata">
        <source src="https://requestmetrics.com/assets/images/webperf/perf-google/results-load.mp4" type="video/mp4">
    </video>
    <figcaption>Google Search Results for "Request Metrics"</figcaption>
</figure>

<p>Wow.  That is almost instant. If we compare the speed of Google’s search results to our <a href="https://requestmetrics.com/web-performance/performance-profiling-nike">web performance profile of Nike.com</a>, there’s no question which experience is preferable.  But how does Google load those results so quickly?</p>

<h3 id="search-result-page-statistics">Search Result Page Statistics</h3>
<p>Let’s look at the statistics for this page load (gathered in the Network tab in Chrome Developer Tools)</p>
<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/page-load-totals.png" alt="Network resources loaded for search results">
</figure>
<ul>
  <li><strong>130</strong> requests total to load the search results</li>
  <li><strong>707 KB</strong> of assets over the wire (compressed using gzip)</li>
  <li><strong>9</strong> JS files</li>
  <li><strong>104</strong> image files</li>
  <li><strong>0</strong> CSS files</li>
</ul>

<p>Compared to many sites this is a “lightweight” page load, but there’s still over one hundred requests.  And there’s three quarters of a megabyte of assets shipped over the wire.</p>

<p>Interestingly, Google is using <strong>gzip</strong> for compression instead of their own <a href="https://github.com/google/brotli">Brotli algorithm</a>, even though my browser will accept either.  In benchmarks <a href="https://blogs.akamai.com/2016/02/understanding-brotlis-potential.html">Brotli can be configured to increase compression and performance</a> compared to gzip, so it’s not clear why they’re making this choice.</p>

<p>Overall these statistics are OK, but they don’t explain the speed we see.  The most notable insight here is that there are <em>zero</em> external CSS files.</p>

<h4 id="where-are-the-styles-coming-from">Where are the styles coming from?</h4>
<p>The browser did not request a single CSS file, and yet the page is styled nicely. Let’s look at the HTML that we got back from Google to see if we can figure out where the styles are coming from.</p>

<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/inline-styles.png" alt="Inline styles">
    <figcaption>Inlined CSS in the page response.</figcaption>
</figure>

<p>They are inline!  Google is inlining the CSS and sending it out with the page response.  This allows the browser to render the styled content without waiting for an external resource to come back.  But Google doesn’t just inline CSS.</p>

<h2 id="inline-every-static-resource">Inline Every Static Resource</h2>
<p>Google takes inlining seriously.  Not only do they inline the styles, they inline their JavaScript!</p>

<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/inline-script.png" alt="Inline scripts">
    <figcaption>Inlining JavaScript too.</figcaption>
</figure>

<p>In fact, we can run some selectors against the page to see just how pervasive the inlining of scripts and styles is.</p>
<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/inline-stats.png" alt="Inline scripts">
    <figcaption>Inline vs. external script and style resources.</figcaption>
</figure>

<p>We can see that of <em>all</em> the scripts and styles on the page, everything is inlined except <strong>2</strong> external JavaScript files.  (<em>Note:</em> those two external scripts dynamically load additional JS files which is how we get <strong>9</strong> total on page load).</p>

<h3 id="what-if-we-dont-load-any-external-assets">What if We Don’t Load Any External Assets?</h3>
<p>To illustrate just how far Google has taken the concept of inlining static resources, let’s <em>only</em> load the HTML.  <strong>No other external assets</strong>.  No external JavaScript, no external images, no external anything.  I saved the HTML response from Google and opened it with my network turned off. How does it look?</p>

<figure>
    <video controls="" muted="" preload="metadata">
        <source src="https://requestmetrics.com/assets/images/webperf/perf-google/doc-only.mp4" type="video/mp4">
    </video>
    <figcaption>The source HTML only.  No external assets.</figcaption>
</figure>

<p>It looks great!  There’s even favicons for all the search results.  The hamburger menu doesn’t work, and the images carousel towards the end is missing its images. But everything else looks pretty good.</p>

<p>Earlier we saw that <strong>104</strong> image files were loaded during the real page load.  And yet, we see most of the images working here.  What gives?</p>

<h3 id="inlining-images-with-data-uris">Inlining Images with Data URIs</h3>
<p>Google is using a clever optimization with most of the images.  If we look at the Request Metrics favicon image in the inspector we can see that the image has a special <code>src</code> URI - a <a href="https://css-tricks.com/data-uris/">Data URI!</a> The binary image content is Base64 encoded and shoved directly into the <code>src</code> attribute.</p>

<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/base64-rm.png" alt="Data URI base64 encoded favicon">
    <figcaption>The Base64 encoded Request Metrics favicon Data URI source.</figcaption>
</figure>

<p>Using Data URIs is yet another way Google shows their committment to inlining assets.  It’s a perfect technique to use when there’s many small images to display. The Data URI approach has diminishing returns for larger images since it bloats the page size. That’s why the “Images” carousel is blank - they are still using externally sourced images to populate that section.</p>

<p><em>Important:</em> It’s worth noting that each one of these Base64 encoded images is counted as a “request” in the Network tab of Chrome developer tools.   This explains why there are so many images “requested” but the page is so fast.  The browser never goes over the network to get them!  Here’s what they look like in the developer tools:</p>

<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/data-img.png" alt="Network tab showing data uri images.">
    <figcaption>Data URI Image "Requests" in the Network Tab</figcaption>
</figure>

<h3 id="inlining-for-speed">Inlining For Speed</h3>
<p>Google’s dedication to inlining JS, CSS and images shows how important it is for maximizing performance. Every external request the browser makes is a performance problem waiting to happen.</p>

<p>Google is taking no chances here.  Once a user’s browser receives that <em>very first</em> response from Google, it can render <strong>90%</strong> of the UI without going over the wire again.  This speeds things up and also mitigates slow or unreliable networks.</p>

<p>Of course, getting that first response to the user <em>quickly</em> is also important.  And 90% is not 100% - there <em>are</em> other requests necessary for a fully featured experience.  Inlining is not the only thing Google does to be fast.</p>

<h2 id="googles-fast-edge-network">Google’s Fast Edge Network</h2>
<p>Optimizing the content of a page is important, but perhaps equally important is delivering that page and its associated resources quickly over the wire.</p>

<h3 id="a-globally-distributed-infrastructure">A Globally Distributed Infrastructure</h3>
<p>Google runs <a href="https://peering.google.com/#/infrastructure">a robust network with multiple layers of infrastructure</a> to ensure that requests are handled as close to the end user as possible.  They have numerous <a href="https://www.peeringdb.com/net/433">peering arrangements</a> with ISPs around the world, and a comprehensive edge caching setup that ensures static resources are almost always nearby.</p>

<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/ggc-nodes.png" alt="Google Edge Cache Nodes">
    <figcaption>Areas with at least one Google Global Cache edge node.</figcaption>
</figure>

<p>It’s <a href="https://peering.google.com/#/learn-more/faq">difficult to objectively measure</a> the performance of Google’s network with traditional tools like <code>ping</code>, but we can look at how things perform in our browser.</p>

<h3 id="the-initial-search-results-response">The Initial Search Results Response</h3>
<p>Here’s what the developer tools say about our search results loading times:</p>

<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/doc-load.png" alt="Search results page load">
    <figcaption>Search results page load timing.</figcaption>
</figure>

<p>The initial request to Google had a <a href="https://en.wikipedia.org/wiki/Time_to_first_byte">time to first byte</a> (TTFB) of <strong>145 ms</strong> (the blue box).  That is, the browser started receiving the response from Google after 145 milliseconds.  <a href="https://web.dev/time-to-first-byte/">That’s pretty fast</a>. The overall time to finish reading the response was <strong>880 ms</strong> (orange box).  This includes the time to download the entire response from Google.</p>

<p>Remember, because of Google’s aggressive static content inlining, 90% of the UI can be displayed to the user once the response is finished.</p>

<h3 id="the-static-content-is-even-faster">The Static Content Is Even Faster</h3>
<p>There are a few external JavaScript files retrieved during page load.</p>

<figure>
    <img src="https://requestmetrics.com/assets/images/webperf/perf-google/static-load.png" alt="JS file load times">
    <figcaption>JavaScript File Load Times</figcaption>
</figure>

<p>These files all have an average TTFB of <strong>~30 ms</strong>. This suggests the server is nearby, with minimal hops between my browser.  Considering I loaded this page over a Comcast internet connection, this is a solid response time.</p>

<h4 id="the-protocol-makes-a-difference">The Protocol Makes A Difference</h4>
<p>Not only are the Google servers nearby, they’re also serving files using a new protocol.  You might have noticed the value <strong>h3-Q050</strong> in the screenshots above. That’s because the browser is talking to Google over <a href="https://en.wikipedia.org/wiki/HTTP/3">HTTP/3</a>.</p>

<p>It’s still a draft standard, but the main difference between HTTP/3 and HTTP/2 is that TCP is no longer the underlying connection protocol.  They’ve adopted <a href="https://en.wikipedia.org/wiki/QUIC">QUIC</a> instead of TCP because it improves performance:</p>

<blockquote>
[QUIC] does this by establishing a number of multiplexed connections between two endpoints over User Datagram Protocol (UDP). This works hand-in-hand with HTTP/2's multiplexed connections, allowing multiple streams of data to reach all the endpoints independently, and hence independent of packet losses involving other streams.
</blockquote>

<h2 id="how-to-be-fast-like-google">How to Be Fast, Like Google</h2>
<p>Most companies don’t have access to Google’s network or vast developer pool, but the same ideas they use to make their pages load quickly can be applied to any site.</p>

<h3 id="make-less-requests">Make Less Requests</h3>
<p>Google takes it to a new level, but avoiding network requests is major factor in improving web performance. Even with newer HTTP protocols, bundling assets to coalesce static content is still a good idea.  If you can inline some JavaScript or CSS that’s even better.  Using data URIs to transmit small images can also help. Networks are unreliable, and every request the browser makes has the potential to fail or be delayed.</p>

<p>Webpack is a staple in modern front-end tool chains, and there are several plugins that can help if you want to go the inlining route:</p>
<ul>
  <li><a href="https://github.com/DustinJackson/html-webpack-inline-source-plugin">html-webpack-inline-source-plugin</a> - for inlining all CSS <em>and</em> JS.</li>
  <li><a href="https://webpack.js.org/loaders/style-loader/">style-loader</a>- if you just want to inline your styles.</li>
  <li><a href="https://webpack.js.org/loaders/url-loader/">url-loader</a> - building Data URIs from images or other sources.</li>
</ul>

<h3 id="use-cdns-and-modern-protocols">Use CDNs and Modern Protocols</h3>
<p>It’s unlikely you’ll have access to a network quite as sophisticated as Google’s, but modern cloud providers offer many similar features. Things like purpose-built CDNs and dynamic geo-based DNS routing are available to anyone.</p>

<p>Hosting static content on a CDN is an easy way to get some of the network benefits Google enjoys, including HTTP/2 or HTTP/3 support.  And using a geo-aware DNS solution let’s you take data locality to the next level if that’s important for your use case or customer base.</p>

<p>Even if you don’t use the cloud, third parties like <a href="https://www.stackpath.com/maxcdn/">MaxCDN</a> and <a href="https://www.fastly.com/">Fastly</a> make it simple to deliver static content from around the globe.  And there are DNS providers like <a href="https://easydns.com/dns/pro/">easyDNS</a> offering full GeoDNS routing.</p>

<p>Google is one of the premier web properties on the Internet, and the company is driving many new web standards.  It’s no surprise their site is one of the fastest.  For everyone else, we’ve built <a href="https://requestmetrics.com/">Request Metrics</a>. Now you can see how your users really experience your site.</p>

</div></div>]]>
            </description>
            <link>https://requestmetrics.com/web-performance/performance-profiling-google</link>
            <guid isPermaLink="false">hacker-news-small-sites-24481854</guid>
            <pubDate>Tue, 15 Sep 2020 14:52:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don’t Call Yourself a Developer If You Don’t Code]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 71 (<a href="https://news.ycombinator.com/item?id=24481462">thread link</a>) | @ZnZirconium
<br/>
September 15, 2020 | https://mariopeshev.com/dont-call-yourself-a-developer-if-you-dont-code/ | <a href="https://web.archive.org/web/*/https://mariopeshev.com/dont-call-yourself-a-developer-if-you-dont-code/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-11873">  <div> <p>This essay was originally written in 2015 after years of “race to the bottom” in the WordPress space, especially among service providers who sell low-cost solutions without revealing the drawbacks of their work.</p> <p>For some unknown reason, the number of “WordPress Developers” out there is probably&nbsp;nearing the number of Java developers, despite the fact that all&nbsp;Java developers do program extensively whilst the WordPress developers far too often have no idea what’s going on behind the admin panel.</p> <p><em>Full disclosure: I am a WordPress Core contributor since version 3.7 with background in Java and Python. Many of our agency projects serve over 100 million monthly page views and we integrate with hundreds of APIs, analytics solutions, ad providers, and more.</em></p> <p>I do conduct interviews on a weekly basis for various reasons, and over the past several years I’ve probably shortlisted over 1,000 applications for WordPress development. This includes hiring locally, virtually, and telecommuters interested in joining our team or any of the technical teams led by our ongoing retainer clients.</p> <div><figure><img alt="Existing programming solutions. Via http://dilbert.com/" data-recalc-dims="1" nitro-lazy-src="https://nitrocdn.com/mdqikLgfKYGSrbmTldEJjFfznWndiqoY/assets/static/source/rev-89836d7/devwp.eu/wp-content/uploads/2015/11/73d9f63cbf68d5d7391d41bb4dcbecbf.existing-programming-solutions.gif" nitro-lazy-empty="" src="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNjQwIDE5OSIgd2lkdGg9IjY0MCIgaGVpZ2h0PSIxOTkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PC9zdmc+"><figcaption>Existing programming solutions. Via http://dilbert.com/</figcaption></figure></div> <p>A small chunk of the applicants had any exposure to actual programming at all. The rest of them usually fall in one of the following categories:</p> <ul><li><strong>WordPress installers</strong> – setting up WP websites and installing themes</li><li><strong>WordPress administrators</strong> – people who use theme options panels from premium themes and a multitude of plugins to “build” a website</li><li><strong><a href="https://mariopeshev.com/hiring-virtual-assistants/">Virtual assistants</a></strong></li><li><strong>Bloggers</strong></li><li>People who have in fact <strong>edited some HTML/CSS</strong> to align a menu or hide an element</li></ul> <h2>Developers Actually Code</h2> <p>According to <a href="https://en.wikipedia.org/wiki/Software_development" target="_blank" rel="noopener noreferrer">Wikipedia</a>, “Software Development” is:</p> <blockquote><p>Software development is the process of <strong>computer programming</strong>, documenting, testing, and <strong>bug fixing</strong> involved in creating and maintaining applications and <strong>frameworks</strong> involved in a software release life cycle and resulting in a software product. The term refers to a process of <strong>writing and maintaining the source code</strong>, but in a broader sense of the term it includes all that is involved between the conception of the desired software through to the final manifestation of the software, ideally in a planned and structured process.</p></blockquote> <p>There is no ambiguity here. At all.</p> <p>Programming, writing code, building products, maintaining code and bug fixing. None of those means “<em>installing a platform with a few clicks</em>” or “<em>customizing options built by other programmers</em>“.</p> <p>I used to find that amusing over the first dozen or two interviews and applications. Nowadays, I do receive submissions by various people, including folks with little to no exposure to power user Internet usage or even “developers” who don’t own a computer (but rather use a smartphone to change themes, write short posts and&nbsp;post statuses on Facebook).</p> <p>Most people suffer from the <a href="http://rationalwiki.org/wiki/Dunning-Kruger_effect" target="_blank" rel="noopener noreferrer">Dunning-Kruger effect</a>&nbsp;and know nothing, hence claim to be developers. But far too often this is not the case.</p> <p>I stumbled upon a tweet that was defined in a proper&nbsp;manner:</p> <figure><div> <blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">As a WordPress Designer/Super Admin – I can't wait to give <a href="https://twitter.com/hashtag/blog?src=hash&amp;ref_src=twsrc%5Etfw">#blog</a> insights from <a href="https://twitter.com/hashtag/mnblogcon?src=hash&amp;ref_src=twsrc%5Etfw">#mnblogcon</a> to my blogger clients!</p>— Erica Schaaf (@EricaSchaaf1) <a href="https://twitter.com/EricaSchaaf1/status/665557797912743936?ref_src=twsrc%5Etfw">November 14, 2015</a></blockquote><template data-nitro-marker-id="372de9843891598aa58675a785cc4349-1"></template> </div></figure> <p>Running a website could be WordPress administration&nbsp;or&nbsp;operation, or a number of different terms that have nothing to do with&nbsp;web development.</p> <p>This wouldn’t have been&nbsp;a major problem unless it affected the entire industry:</p> <ul><li>Millions of amateurs selling WordPress services claiming to do what they don’t, in fact, do</li><li>Various clients looking for expert programmers and getting lost in the pool of amateurs</li><li>New clients receiving ridiculously low price offers from “<em>super admins</em>” which leads to huge gaps when receiving an offer for a custom solution on top of WordPress</li><li>Large customers picking another platform due to disappointment by their experience with “WordPress developers” (or generally being unable to find any decent ones)</li><li>Amateurs not knowing what “development” entails and lacking the&nbsp;scope of work a developer deals with on a day-to-day basis</li><li>WordPress customers being hacked, suffering from slow page load times and broken websites</li><li>WordPress plugin repository filled in with plugins causing various issues related to performance, compatibility, broken UI and more</li><li>I’m not even going to touch on the premium WP themes</li></ul> <p>I’ve written about that plenty of times in different context:</p> <ul><li><a href="http://devwp.eu/why-wordpress-expert-is-not-a-real-title/" target="_blank" rel="noopener noreferrer">Why “WordPress Expert” is Not a Real Title?</a></li><li><a href="http://devwp.eu/the-wordpress-industry-is-just-as-every-other-field/" target="_blank" rel="noopener noreferrer">The WordPress Industry Is Just As Every Other Field</a></li><li><a href="http://devwp.eu/on-wordpress-talent-shortage/" target="_blank" rel="noopener noreferrer">On WordPress Talent Shortage</a></li><li><a href="http://devwp.eu/wordpress-job-titles-skills-stand/" target="_blank" rel="noopener noreferrer">WordPress Job Titles and Skills â€“ Where Do We Stand?</a></li><li><a href="http://devwp.eu/setting-wrong-example/" target="_blank" rel="noopener noreferrer">Setting the Wrong Example</a></li><li><a href="http://devwp.eu/envato-or-why-race-to-the-bottom-is-dangerous/" target="_blank" rel="noopener noreferrer">Envato Or Why Race To the Bottom Is Dangerous?</a></li><li><a href="http://devwp.eu/code-quality-and-free-plugins/" target="_blank" rel="noopener noreferrer">Code Quality and Free Plugins</a></li><li><a href="http://devwp.eu/your-wordpress-business-is-not-there-yet/" target="_blank" rel="noopener noreferrer">Your WordPress Business is Not There Yet</a></li><li><a href="http://devwp.eu/keeping-wordpress-date-not-enough/" target="_blank" rel="noopener noreferrer">Keeping WordPress Up-To-Date Is Not Enough</a></li><li><a href="http://devwp.eu/the-problem-with-having-to-educate-your-customers/" target="_blank" rel="noopener noreferrer">The Problem With Having To Educate Your Customers</a></li><li><a href="http://devwp.eu/blogging-and-helping-the-wordpress-business-ecosystem/" target="_blank" rel="noopener noreferrer">Blogging And Helping the WordPress Business Ecosystem</a></li></ul> <h2>The State Of WordPress Development</h2> <p>For everyone working actively in the software engineering industry programming all day long and shaming WordPress, there is some merit to the global perception of the WordPress community. A good percentage of the small business websites and blogs are often DIY solutions or merely WordPress installations with a bunch of themes and plugins installed.</p> <p>And this is totally fine for a hobby blog or a single page app that displays general information about the business.</p> <p>That said, there are more than enough use cases that require heavy programming, scaling large systems, performing migrations from 3rd party frameworks to WordPress platforms, enhancing security for enterprises, building educational multisite networks for universities, crafting Software as a Service solutions on top of WordPress and more.</p> <p>We’ve been involved in each of these cases. Currently, we do&nbsp;provide ongoing development for several sites generating over 10M page views a month, as well as franchise networks ran by enterprises, large media outlets, professional event management platforms and several more.</p> <h2>WordPress as An Application Framework</h2> <p>While WordPress has initially started as a blogging platform, its popularity has led to increasing the scope of applications that WordPress is a suitable solution for.</p> <p>Back in WordPress 3.0, custom post types and an editable taxonomy engine were introduced. Over the years, WordPress became a tool of choice for application framework development as well. In 2016, the REST API had been included as a part of the WordPress Core, making it possible to build single page applications or completely detached software solutions interacting with a WordPress website through its various APIs.</p> <p>Moreover, the most popular eCommerce solution nowadays is WooCommerce – currently powering 41% of all eCommerce websites using a known eCommerce platform:</p> <div><figure><a href="https://trends.builtwith.com/shop"><img alt="" data-recalc-dims="1" nitro-lazy-src="https://nitrocdn.com/mdqikLgfKYGSrbmTldEJjFfznWndiqoY/assets/static/optimized/rev-89836d7/devwp.eu/wp-content/uploads/2015/11/73d9f63cbf68d5d7391d41bb4dcbecbf.ecommerce-usage-statistics.png" nitro-lazy-empty="" src="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNjQwIDM3OCIgd2lkdGg9IjY0MCIgaGVpZ2h0PSIzNzgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PC9zdmc+"></a></figure></div> <p>WordPress has been used by thousands of reputable brands, high-traffic websites, Fortune 500 companies and some of the leading giants on the Internet. Their teams are comprised of capable PHP and JavaScript engineers, devops experts, integration specialists and other qualified folks who make sure that the system is up and running, compatible with&nbsp;upcoming features and additional enhancements, secure, and fast.</p> <p>I wrote the definitive guide to the skills taught at a Computer Science specialty that is relevant to WordPress development at WP Elevation:</p> <div><figure><a href="http://www.wpelevation.com/2015/11/wordpress-install-developed-solutions/"><img alt="Building a Web Product Requires a Set of Skills" data-recalc-dims="1" nitro-lazy-src="https://nitrocdn.com/mdqikLgfKYGSrbmTldEJjFfznWndiqoY/assets/static/optimized/rev-89836d7/devwp.eu/wp-content/uploads/2015/11/73d9f63cbf68d5d7391d41bb4dcbecbf.disconnect-wordpress-install-developed.png" nitro-lazy-empty="" src="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNjQwIDU3MCIgd2lkdGg9IjY0MCIgaGVpZ2h0PSI1NzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PC9zdmc+"></a><figcaption>Building a Web Product Requires a Set of Skills</figcaption></figure></div> <p>My guide includes a list of skills such as: Computer Architectures, Operating Systems, Networks, Databases,&nbsp;Programming Languages, Data Structures, Algorithms and more that are used by developers while building a web solution in order to build a robust, scalable and reliable end product for the right stack while considering other aspects related to building, operating and running a web solution.</p> <h2>Should Web Developers Use WordPress?</h2> <p>Yes, there is no practical reason for web developers to avoid WordPress whenever the platform provides a good chunk of the required functionality.</p> <p>Let’s take into account the fact that WordPress comes with a bunch of features out of the box:</p> <ul><li>An engine for creating pages and posts (news entries, articles)</li><li>A role&nbsp;engine with several roles and different capabilities having access to various features</li><li>A media component for uploading media, resizing images, creating post thumbnails</li><li>A full-fledged dashboard with limited features depending on the user role</li><li>A large suite of themes and plugins that you can extend further</li><li>Comments, additional tools, default website settings</li></ul> <p>With that in mind, as a web developer, you don’t need to reinvent the wheel when you can use WordPress. Put your PHP and JavaScript skills in use, study the default database schema and the plugin APIs provided by WordPress and use it as an application framework accordingly – just as you’d do with Laravel, FuelPHP, CakePHP, CodeIgniter or any of the other frameworks out there (excluding the UI element).</p> <p>Otherwise, if you’re someone who offers “WordPress development” but don’t code, and you haven’t read about the different layers under WordPress itself, <strong>please change your title to something relevant to your skills</strong> and service offering. Also, in order to&nbsp;evolve and start offering valuable solutions, allocate some time, and start reading – extensively – about everything that happens from the hardware through the network layers to the databases and programming languages.</p> <p>Installing a website itself is of no service to most clients who can accomplish the same in a couple of hours with a cheap host providing a detailed guide on their website. Providing&nbsp;real value and investing your relevant&nbsp;skills or partnering with a technical expert would be far more rewarding to you and your customers, and allow you to step up and take on great custom <a href="https://mariopeshev.com/main-considerations-when-working-with-big-enterprises/">projects for large businesses</a>.</p>  </div>  </article></div>]]>
            </description>
            <link>https://mariopeshev.com/dont-call-yourself-a-developer-if-you-dont-code/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24481462</guid>
            <pubDate>Tue, 15 Sep 2020 14:20:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Stargate – An open source API framework for data]]>
            </title>
            <description>
<![CDATA[
Score 71 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24481448">thread link</a>) | @dwettlaufer
<br/>
September 15, 2020 | https://stargate.io/2020/09/14/init-stargate.html | <a href="https://web.archive.org/web/*/https://stargate.io/2020/09/14/init-stargate.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <p><img data-src="/assets/images/stargate-profile.png" alt="The Stargate Authors " width="32" height="32" src="https://stargate.io/assets/images/stargate-profile.png">
          <span>By <span>The Stargate Authors </span></span>
          •
          <span>Sep 14, 2020</span>
        </p>
      </div>
    </div><div>
      <div>
        <div>
          <p>We’re excited to release the first preview of Stargate, an open source API framework for data. This project came about because we got tired of using different databases and different APIs depending on the work that we were trying to get done. With “read the manual” fatigue and lengthy selection processes wearing on us every time we created a new project, we thought - why not create a framework that can serve many APIs for a range of workloads? From this, Stargate was born.</p>

<p>For example, if you’re a JavaScript developer building a website, saving and searching JSON is great and maybe you also have some GraphQL sprinkled throughout. If you’re a Java or C# developer working on an enterprise application, SQL is likely more your style. The goal of Stargate is to make your data available for you through whatever API you can dream up regardless of the backing datastore.</p>

<p>So far we’ve started with Apache Cassandra as the first backend and implemented the Cassandra Query Language (CQL) and a REST API for CRUD access to data in tables and have many more APIs coming soon.</p>

<p>For any project to thrive it needs to be easy to work with and contribute to. We kept that in mind while architecting Stargate and the core codebase is modularized to facilitate extensibility and collaboration. We hope that you’ll join us on this journey to redefine what’s possible when it comes to interacting with data at scale and if you’re interested in getting involved you can check out the code on <a href="https://github.com/stargate/stargate">GitHub</a>, join our <a href="https://groups.google.com/a/lists.stargate.io/g/stargate-users">mailing list</a>, or follow us on Twitter <a href="https://twitter.com/stargateio">@stargateio</a>! 🚀</p>

<p><img alt="" data-src="/assets/images/init-stargate/stargate.png" src="https://stargate.io/assets/images/init-stargate/stargate.png"></p>

<h2 id="how-does-stargate-work">How does Stargate work?</h2>

<p>Stargate is a data gateway component that is deployed between your client applications and database. We chose Cassandra as the first database because it solves the world’s hardest scale and availability challenges and we think there’s low hanging fruit in terms of APIs for the database.</p>

<p>Stargate itself is based on the concept of a Cassandra <a href="https://cassandra.apache.org/doc/latest/architecture/dynamo.html">coordinator node</a> and is very similar to the “fat client” that Eric Lubow explains in his <a href="https://www.slideshare.net/DataStax/optimizing-your-cluster-with-coordinator-nodes-eric-lubow-simplereach-cassandra-summit-2016">presentation</a> at Cassandra Summit in 2016. This means when Stargate is deployed, it joins the Cassandra cluster as a coordinator node but does not store any data. We chose this design because coordinator nodes in Cassandra already handle most of the request handling and routing that’s needed for a highly available storage proxy and it made sense to reuse that time-tested logic. This architecture allows for compute to be scaled independently of storage; a common model when using cloud infrastructure.</p>

<p>The high-level architecture diagram below explains where Stargate fits in the stack and the vision for new APIs and integrations.</p>

<p><img alt="" data-src="/assets/images/init-stargate/kubernetes.png" src="https://stargate.io/assets/images/init-stargate/kubernetes.png"></p>

<p>Taking a closer look, when a request is sent to Stargate, it is handled by the API Service, translated to the database query, and dispatched to the Persistence Service. The Persistence service then sends the request to the storage replicas of that row using Cassandra’s internal QueryHandler. The Persistence Service processes the request and responds to the client once it receives acknowledgements from the number of storage replicas specified by the request consistency level.</p>

<p>This is a pretty classic implementation of “<a href="https://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf">Dynamo-based</a>” coordination. Stargate’s ultimate goal is to have pluggable APIs on the front-end and pluggable storage engines on the <em>back-end</em> with all the Dynamo magic happening in the middle.</p>

<p>To understand how this distributed coordination works a bit more, in a single 6-node datacenter cluster with 3 storage replicas, an incoming request will go to all 3 replicas that own the requested row. In this case, the nodes labeled 1, 3, and 4 are storages nodes that own the data for the request. In the example below, the consistency level is LOCAL_QUORUM which means that Stargate will read or write data to 2 of the 3 storage replicas in order to satisfy the client request and ack the success.</p>

<p><img alt="" data-src="/assets/images/init-stargate/steps.png" src="https://stargate.io/assets/images/init-stargate/steps.png"></p>

<h2 id="get-started">Get Started</h2>
<p>Below is an example of the REST API for CRUD operations that serves the data stored in Cassandra tables over HTTP. You can try this example by downloading <a href="https://www.postman.com/downloads/">Postman</a> and importing the Stargate REST API collection in the <a href="https://github.com/stargate/docs/blob/master/modules/developers-guide/examples/stargate-rest-api.postman_collection.json">documentation</a>.</p>

<p><strong>Step 1: Pull down the docker image</strong> (<a href="https://hub.docker.com/u/stargateio">https://hub.docker.com/u/stargateio</a>)</p>

<figure><pre><code data-lang="bash">docker pull stargateio/stargate-3_11:v0.0.3</code></pre></figure>

<p><strong>Step 2: Start the docker container</strong> using the <code>DEVELOPER_MODE=true</code> env variable. This removes the need to install a separate Cassandra instance.</p>

<figure><pre><code data-lang="bash">  docker run <span>--name</span> stargate <span>-p</span> 8081:8081 <span>-p</span> 8082:8082 <span>-p</span> 127.0.0.1:9042:9042 <span>-d</span> <span>-e</span> <span>CLUSTER_NAME</span><span>=</span>stargate <span>-e</span> <span>CLUSTER_VERSION</span><span>=</span>3.11 <span>-e</span> <span>DEVELOPER_MODE</span><span>=</span><span>true </span>stargateio/stargate-3_11:v0.0.3</code></pre></figure>

<p><strong>Step 3: Generate an auth token</strong></p>

<figure><pre><code data-lang="bash">  curl <span>-L</span> <span>-X</span> POST <span>'http://localhost:8081/v1/auth'</span> <span>-H</span> <span>'Content-Type: application/json'</span> <span>--data-raw</span> <span>'{
    "username": "cassandra",
    "password": "cassandra"
  }'</span></code></pre></figure>

<p>Expected Output:</p>

<figure><pre><code data-lang="json"><span>  </span><span>{</span><span>"authToken"</span><span>:</span><span>"{auth-token-here}"</span><span>}</span></code></pre></figure>

<p><strong>Step 4: Create a keyspace</strong></p>

<figure><pre><code data-lang="bash">  curl <span>--location</span> <span>--request</span> POST <span>'localhost:8082/schemas/keyspaces'</span> <span>\</span>
    <span>--header</span> <span>'X-Cassandra-Token: {auth-token-here}'</span> <span>\</span>
    <span>--header</span> <span>'Content-Type: application/json'</span> <span>\</span>
    <span>--data-raw</span> <span>'{
      "name": "users_keyspace",
      "replicas": 1
    }'</span></code></pre></figure>

<p>Expected Output:</p>

<figure><pre><code data-lang="json"><span>  </span><span>{</span><span>"name"</span><span>:</span><span>"users_keyspace"</span><span>}</span></code></pre></figure>

<p><strong>Step 5: Create a table</strong></p>

<figure><pre><code data-lang="bash">  curl <span>--location</span> <span>--request</span> POST <span>'localhost:8082/schemas/keyspaces/users_keyspace/tables'</span> <span>\</span>
    <span>--header</span> <span>'X-Cassandra-Token: {auth-token-here}'</span> <span>\</span>
    <span>--header</span> <span>'Content-Type: application/json'</span> <span>\</span>
    <span>--data-raw</span> <span>'{
      "name": "users",
      "columnDefinitions": [
        {
          "name": "firstname",
          "typeDefinition": "text"
        },
        {
          "name": "lastname",
          "typeDefinition": "text"
        },
        {
          "name": "email",
          "typeDefinition": "text"
        },
        {
          "name": "favorite color",
          "typeDefinition": "text"
        }
      ],
      "primaryKey": {
        "partitionKey": ["firstname"],
        "clusteringKey": ["lastname"]
      },
      "tableOptions": {
        "defaultTimeToLive": 0,
        "clusteringExpression":[
          {
            "column": "lastname",
            "order": "ASC"
          }
        ]
      }
    }'</span></code></pre></figure>

<p>Expected Output:</p>

<figure><pre><code data-lang="json"><span>  </span><span>{</span><span>"name"</span><span>:</span><span>"users"</span><span>}</span></code></pre></figure>

<p><strong>Step 6: Add rows</strong></p>

<figure><pre><code data-lang="bash">  curl <span>--location</span> <span>--request</span> POST <span>'localhost:8082/v2/keyspaces/users_keyspace/users'</span> <span>\</span>
  <span>--header</span> <span>'X-Cassandra-Token: {auth-token-here}'</span> <span>\</span>
  <span>--header</span> <span>'Content-Type: application/json'</span> <span>\</span>
  <span>--data-raw</span> <span>'{
    "firstname": "Mookie",
    "lastname": "Betts",
    "email": "mookie.betts@gmail.com",
    "favorite color": "blue"
  }'</span></code></pre></figure>

<p>Expected Output:</p>

<figure><pre><code data-lang="json"><span>  </span><span>{</span><span>"firstname"</span><span>:</span><span>"Mookie"</span><span>,</span><span>"lastname"</span><span>:</span><span>"Betts"</span><span>}</span></code></pre></figure>

<p><strong>Step 7: Get rows</strong></p>

<figure><pre><code data-lang="bash">  curl <span>-G</span> <span>--location</span> <span>'http://localhost:8082/v2/keyspaces/users_keyspace/users'</span> <span>\</span>
    <span>--header</span> <span>'X-Cassandra-Token: {auth-token-here}'</span> <span>\</span>
    <span>--header</span> <span>'Content-Type: application/json'</span> <span>\</span>
    <span>--data-urlencode</span> <span>'where={"firstname": {"$eq": "Mookie"}}'</span></code></pre></figure>

<p>Expected Output:</p>

<figure><pre><code data-lang="json"><span>  </span><span>{</span><span>"count"</span><span>:</span><span>1</span><span>,</span><span>"data"</span><span>:[{</span><span>"firstname"</span><span>:</span><span>"Mookie"</span><span>,</span><span>"favorite color"</span><span>:</span><span>"blue"</span><span>,</span><span>"email"</span><span>:</span><span>"mookie.betts@gmail.com"</span><span>,</span><span>"lastname"</span><span>:</span><span>"Betts"</span><span>}]}</span></code></pre></figure>

<p>Voila! You can find the full reference for the table-based REST API and more in the <a href="https://stargate.io/docs">docs</a>.</p>

<h2 id="how-can-i-get-involved">How can I get involved?</h2>
<p>Check out the code and start building with us! We’ve architected this project with exploration, flexibility, and API and storage agnosticism as our <em>first class</em> citizens; the goal is that this makes it easy for the community to innovate and add new APIs and extensions.</p>

<p>The diagram below shows how the Stargate modules fit together.</p>

<p><img alt="" data-src="/assets/images/init-stargate/stargate-modules.png" src="https://stargate.io/assets/images/init-stargate/stargate-modules.png"></p>

<p>To get started building a new API extension, have a look at the existing <a href="https://github.com/stargate/stargate/tree/master/restapi">REST API</a> implementation in the Stargate repo first. To get started building a new storage extension, check out the <a href="https://github.com/stargate/stargate/tree/master/persistence-cassandra-3.11">persistence-cassandra-3.11</a> implementation. Once you have an idea of what you want to build, shoot us a note on the <a href="https://groups.google.com/a/lists.stargate.io/g/stargate-users">mailing list</a> to discuss. Note that the internal APIs are under active development and they are likely to change before the first version is released.</p>

<p>To request new features or file bugs, create a new GitHub issue in the <a href="https://github.com/stargate/stargate">stargate/stargate</a> repository and we’ll take it from there.
Let’s Explore
We can’t wait to see where this project takes <em>us</em> and we’ll be rolling out a few new APIs in the coming weeks. You can get updates by following us on Twitter <a href="https://twitter.com/stargateio">@stargateio</a> and throw us a star on Github if you like what you see!</p>

<p>We’re ready for lift-off, see you in the stars! ✨</p>

<p><img alt="" data-src="/assets/images/init-stargate/astronaut.png" src="https://stargate.io/assets/images/init-stargate/astronaut.png"></p>

        </div>
      </div>
    </div></div>]]>
            </description>
            <link>https://stargate.io/2020/09/14/init-stargate.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24481448</guid>
            <pubDate>Tue, 15 Sep 2020 14:19:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Qt, OpenNebula and a CI System Running Millions of VMs]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24480620">thread link</a>) | @amarti
<br/>
September 15, 2020 | https://opennebula.io/qt-opennebula-and-a-ci-system-running-millions-of-virtual-machines/ | <a href="https://web.archive.org/web/*/https://opennebula.io/qt-opennebula-and-a-ci-system-running-millions-of-virtual-machines/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
			    <!-- .entry-header -->

				
					
<article id="post-26736">

    <!-- .entry-header -->

    <div>

		
<p>When I ask people whether or not they know what Qt is, they have either never heard of it, or know pretty well what it is. And usually the people who know what it is, have used it for software development, or simply built it because some other piece of software needs Qt. For you who don’t know what Qt is, I’d say without quoting Wikipedia or <a rel="noreferrer noopener" href="https://www.qt.io/" target="_blank">our own web site</a>, that Qt is a software platform with which you can easily create software that after written once, runs on all platforms supported by Qt. Meaning that you could have your calculator app running on an infotainment screen in your car, any desktop operating system, phone, tablet… you name it, but it would always run because of Qt. Honestly, the amount of supported target devices is huge. But to be able to support all these target devices, we at <strong>The Qt Company</strong> need to ensure that your app actually works everywhere. That’s, where our <strong>Continuous Integration</strong> (CI) comes in.</p>



<p>We spawned over <strong>4 million virtual machines</strong> during 2019, with the intent of testing something perhaps you created. Qt is <strong>open source</strong>. Anyone can suggest or implement a new feature or fix a bug they might have found. Your commit would then be peer reviewed and thrown in the mouth of the CI. The CI’s job is either to accept the change and merge it into the code base, or reject it when it doesn’t pass the vigorous testing done to it.</p>



<div><figure><img src="https://opennebula.io/wp-content/uploads/2020/09/coin_for_blog-1024x453.jpg" alt="" width="768" height="340" srcset="https://opennebula.io/wp-content/uploads/2020/09/coin_for_blog-1024x453.jpg 1024w, https://opennebula.io/wp-content/uploads/2020/09/coin_for_blog-300x133.jpg 300w, https://opennebula.io/wp-content/uploads/2020/09/coin_for_blog-768x339.jpg 768w, https://opennebula.io/wp-content/uploads/2020/09/coin_for_blog-1536x679.jpg 1536w, https://opennebula.io/wp-content/uploads/2020/09/coin_for_blog.jpg 1708w" sizes="(max-width: 768px) 100vw, 768px"></figure></div>



<p>The back bone of our CI is <strong>OpenNebula</strong> along with <a href="https://testresults.qt.io/coin" target="_blank" rel="noreferrer noopener">Coin</a>. Coin is our own tool which monitors <a href="http://codereview.qt-project.org/" target="_blank" rel="noreferrer noopener">Gerrit</a> for any changes staged for the CI. Coin is quite complex actually and does the work of figuring out what exactly needs to be built or tested. One staged commit in Gerrit causes a cascade of events where Coin requests OpenNebula for dozens of virtual machines at a time followed by yet dozens if not hundreds. One staged commit in Gerrit can in some cases produce over 2000 virtual machines, running various Windows, Linux and macOS distributions. These virtual machines compile the new code both natively and by cross compiling to different target architectures / devices and they also run automated tests.</p>



<p>The important task of <strong>maintaining the life cycle</strong> of all these virtual machines lands in the hands of OpenNebula. OpenNebula monitors the capacity of our infrastructure and queues up all requests it can’t handle yet due to lack of computing capacity on the servers. It keeps a constant eye on the servers watching that they respond and are healthy and takes them offline for maintenance if something goes amiss.</p>



<p>The <strong>orchestration of the virtual machines</strong> happens on the fly. Coin knows what needs to be built, and in the request for a virtual machine it defines the amount of CPU and RAM we wish to have, all depending on the task at hand. OpenNebula takes care of creating these virtual machines instantly using backing files over the network and not by doing slow deep clones out of the VMs.</p>



<div><figure><img src="https://opennebula.io/wp-content/uploads/2020/09/grafana_for_blog.jpg" alt="" width="688" height="431" srcset="https://opennebula.io/wp-content/uploads/2020/09/grafana_for_blog.jpg 917w, https://opennebula.io/wp-content/uploads/2020/09/grafana_for_blog-300x188.jpg 300w, https://opennebula.io/wp-content/uploads/2020/09/grafana_for_blog-768x481.jpg 768w" sizes="(max-width: 688px) 100vw, 688px"></figure></div>



<p>Combined with an SQL database, OpenNebula stores all the data about what it has done. This allows us to collect that data and send it to <a href="https://grafana.com/">Grafana</a> for easy tracking. There we can further visualize the loads in different time scales combined with the graphs from the servers as well. And OpenNebula’s <strong>support for custom hooks</strong> enables us to do various things whenever OpenNebula goes from one state to another with a virtual machine, further allowing us to <strong>optimize or track the performance</strong> of our CI system.</p>



<p>With the support of VNC within OpenNebula, we can go in to the desktop view and watch the progress within the virtual machine, and possibly start debugging a problem. We can also leave VMs up and running for longer periods of time, if we enable breakpoints in our flow so that in case of a test failure, we stop right there and allow a developer to go in and have a look.</p>



<div><figure><img src="https://opennebula.io/wp-content/uploads/2020/09/one_for_blog_.jpg" alt="" width="912" height="408"></figure></div>



<p><strong>Setting up OpenNebula</strong> is or can be very easy. Sometimes the flexibility of a software can be its downfall. If the software is too generic or works by dozens of plugins there’s a risk that the learning curve is too steep. Naturally, the more you can change the behaviour, the more you must also answer questions about how you want it to work. OpenNebula is quite flexible in those areas in which it works, yes, but luckily we have pretty good documentation regarding those other tweaks—at least if you ask me. And the OpenNebula dev team hasn’t thrown in a bunch of plugins that are not related to the core idea that’s behind it.</p>



<p>The documentation actually provides us with the means of <strong>self implementing drivers</strong> we use, and we even did so when we implemented the support for <a href="https://www.parallels.com/">Parallels</a>. So instead of only running virtual machines via KVM (in Linux), we can also run them in Parallels (in macOS). The code for the drivers isn’t very complex either, so by looking at the existing code you can quite easily figure out what you need to do and whether you might need to start working on your own driver.</p>



<p>The last piece of the puzzle is then how OpenNebula really doesn’t care about how these build servers came to be. We use <a href="https://maas.io/">MAAS</a> to automatically deploy our servers. After the fully deployment process, we have a server online which OpenNebula can connect to. Add the server to the list and it is ready to serve. Ta-da!</p>



<p>I’m eager to see if some day in the near future OpenNebula incorporates Grafana and MAAS as a part of their standard delivery… Although this again starts to sound a bit like the plugin world where everything seems so complex, when all you wanted to do was schedule tasks on hosts, right? Maybe, sometimes, a tool is simply just complete and good enough to perform its original purpose? Wasn’t Winamp actually ready at 2.91? 😉</p>
		
		


        <div>
            <p><img alt="" src="https://secure.gravatar.com/avatar/8ba51929e46eeb1a436fb6d15d2e6277?s=96&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8ba51929e46eeb1a436fb6d15d2e6277?s=192&amp;d=mm&amp;r=g 2x" height="96" width="96">            </p>
            <div>
                <p><span id="autorblog">Tony Sarajärvi</span></p><p>CI Tech Lead at The Qt Company</p>
            </div>
        </div>
	</div><!-- .entry-content -->

</article><!-- #post-## -->

					
<!-- #comments -->

				
			</div></div>]]>
            </description>
            <link>https://opennebula.io/qt-opennebula-and-a-ci-system-running-millions-of-virtual-machines/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24480620</guid>
            <pubDate>Tue, 15 Sep 2020 12:51:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Emacs Prelude 1.0]]>
            </title>
            <description>
<![CDATA[
Score 196 | Comments 59 (<a href="https://news.ycombinator.com/item?id=24480448">thread link</a>) | @tosh
<br/>
September 15, 2020 | https://emacsredux.com/blog/2020/09/15/emacs-prelude-1-0/ | <a href="https://web.archive.org/web/*/https://emacsredux.com/blog/2020/09/15/emacs-prelude-1-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
        <p>I’ve got a big news to share with you today - after (over) 9 years of
development, <a href="https://github.com/bbatsov/prelude">Emacs Prelude</a> finally made it to version 1.0! There’s nothing
really big or groundbreaking there, as Prelude has been in a pretty good place for a very
long time feature-wise, but I felt like tagging a 1.0 release, because it’s 2020 and
all sort of crazy things are happening the entire year. Most of you probably
don’t know this, but Prelude was one of my first open-source projects<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>,
that’s why making it to 1.0 means a great deal to me. Open-source projects are a
product of love, plain and simple.</p>

<p>I know that Prelude has probably lost some of its significance in the era of
Spacemacs, Doom Emacs, and a myriad other great Emacs distributions with more
features, sophisticated plugin systems, bells, whistles, kitchen sinks, and all that jazz, but
I don’t really care. I’m happy that we made it so far, I’m glad that Prelude was
the gateway to Emacs for many people, I’m proud of the community we’ve built,
I’m proud that it inspired many other distributions to go in different
directions, and I’m proud that Prelude always stood true to its core philosophy:</p>

<ul>
  <li>simple</li>
  <li>easy to understand and extend</li>
  <li>stable</li>
  <li>a foundation for you to build upon, as opposed to some end-user product that you’re supposed to use as-is</li>
</ul>

<p>This means that it intentionally doesn’t pack all the bells and whistles that it could.
Prelude aims to enhance the classic Emacs experience without deviating a lot from it - e.g.
it would never enable something like <code>evil-mode</code> (vim keybindings) by default and so on.</p>

<p>All the third-party packages that it bundles are carefully vetted and are known to be of
good quality and to have reliable maintainers. That generally means that Prelude’s unlikely
to immediate adopt some shiny new package, that has established tried and true alternatives.</p>

<p>I know some people were pissed/disappointed that in recent years Prelude didn’t
change much, but for me this was never a problem - it was actually a feature, in
the same way that stability is a feature for Clojure. Fewer changes mean fewer
breakages, fewer things to learn, fewer confused users, etc. They also mean that
I believe that in terms of functionality and experience Prelude is where I want
it to be. Believe it or not, from time to time software projects are (mostly)
done.  Yeah, there’s always some room for more improvements, but after a certain
point the return on investment is simply not worth it (or even worse - it
becomes negative).</p>

<p>I’m always amused by how many people come to CIDER’s issue tracker reporting basic
issues with packages like <code>sayid</code> and <code>clj-refactor</code> (CIDER plugins) that were automatically
installed and enabled by their distribution. Most casual CIDER users don’t need those
packages and the complexity that comes with them, and power users can obviously
install and configure the packages themselves. That’s not a good user experience
in my book, and it’s a classic example of the power of the “less is more”
philosophy. Prelude bundles only CIDER (no extensions) and it just works.
Same with many other programming languages.</p>

<p>Rest assured that Prelude will continue to evolve in the future, but don’t
expect anything massive to change.  Lately I’ve been pondering switching to
<code>use-package</code> for the internals, although I don’t see a strong reason to do so,
and to leverage more of LSP here and there. Leveraging some Emacs 27 features is
also on the agenda. Better documentation would be an awesome improvement as
well!<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<p>One thing I’ve vowed to do going forward is to keep a better track of changes
and to tag releases more often. As a result the project finally has a
<a href="https://github.com/bbatsov/prelude/blob/master/CHANGELOG.md">changelog</a> and
better contribution templates. I plan (hope) to cut a couple of “stable” releases 2-3
times a year. I also plan to find a couple of co-maintainers to ensure I can
retire quietly down the road, but I’m in no rush to do this.</p>

<p>I guess that was one pretty weird release announcement, but that’s the release
announcement I felt like writing.  Thanks to everyone who helped and used
Prelude for almost a decade! I love you all! Keep hacking!</p>



    </div></div>]]>
            </description>
            <link>https://emacsredux.com/blog/2020/09/15/emacs-prelude-1-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24480448</guid>
            <pubDate>Tue, 15 Sep 2020 12:29:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bubble barriers: a smart solution to plastic pollution in rivers]]>
            </title>
            <description>
<![CDATA[
Score 320 | Comments 140 (<a href="https://news.ycombinator.com/item?id=24480289">thread link</a>) | @dwenzek
<br/>
September 15, 2020 | https://thegreatbubblebarrier.com/en/ | <a href="https://web.archive.org/web/*/https://thegreatbubblebarrier.com/en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<div>
				
				
				<div>
				
				
				<div>
					<div id="lp-pom-text-320">
<h3><strong>A SMART SOLUTION TO PLASTIC POLLUTION</strong></h3>

<h2><span><span>Every minute, the equivalent of one full garbage truck of plastic trash is dumped in the sea. That is 1440 trucks per 24 hours and in total 8 billion kilos per year. With 80% of those plastics coming directly from&nbsp;land. </span></span></h2>
<h2><span><span>The Great Bubble Barrier® creates a barrier stopping plastics from flowing past, but it also allows fish and ships to pass through the barrier unimpeded.</span></span></h2>
</div>
				</div>
			</div> <!-- .et_pb_text -->
			</div> <!-- .et_pb_column -->
				
				
			</div></div>]]>
            </description>
            <link>https://thegreatbubblebarrier.com/en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24480289</guid>
            <pubDate>Tue, 15 Sep 2020 12:10:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tracking users via CSS]]>
            </title>
            <description>
<![CDATA[
Score 198 | Comments 113 (<a href="https://news.ycombinator.com/item?id=24480239">thread link</a>) | @lawik
<br/>
September 15, 2020 | https://underjord.io/is-this-evil.html | <a href="https://web.archive.org/web/*/https://underjord.io/is-this-evil.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<small>2020-09-15</small><!-- RSS:2020-09-15T14:00:01Z -->
<p>I try to be a friendly citizen of the web. I try to keep my site in good
   shape. It should load quickly, track nothing beyond your basic server logs,
   not hassle you about cookies, GDPR or my newsletter. I do have a newsletter
   but it won't pop up in your face here. I try to stay firmly on the side of
   friendly and a good experience in how I run this site.
</p>
<p>I do these things because I want my site to be not just bearable but an
   actually great experience in its own quiet way. Just
   as important to me as replying to email in a reasonable timeframe, doing
   what I've told people I will and following up on things that require my
   attention. I try my best and I want this to also be true for my website.
   As a consequence it also happens to have a perfect Lighthouse score most
   of the time.
</p>
<p>A while back I had an idea that smells a bit funny.
   It has the scent of some poor web ethics. But it may also be a very useful.
   I'm not the first to discover it but I also haven't seen a lot about it.
   It seems to be usable for reasonable things but it is also somewhat
   abusable. Also, it definitely breaks the principle of least astonishment
   (or least surprise) in that it makes your browser do things you do not
   expect.
</p>
<p>I'm talking about <strong>tracking users via CSS</strong>. So one of the
   potential downsides of only knowing your traffic via server logs is that
   <a href="https://plausible.io/blog/server-log-analysis#the-total-number-of-unique-visitors">they are not a very good
      indicator of readership</a>
   as outlined by the Plausible Analytics people. Lots of automated traffic
   on the web, bots, crawlers and scrapers. So if there is a way that can
   remove most of the automated traffic without loading any JS, is that a win?
</p>
<p>Consider this CSS:</p>
<pre>    body:hover {
        background-image: url("https://underjord.io/you-was-tracked.png");
    }
</pre>
<p>There are endless ways to do it. This has a certain elegance because it
   actually requires mouse interaction. You could probably cover accessibility
   with some use of <code>:focus</code> as well. CSS won't load the URL until
   the selector is hit and it will only load it once for a given page view.
   You'd want a separate URL per page, which is trivial enough, query params
   would likely be enough. I'm convinced that this would give me better data.
</p>
<p><em>I am</em> <strong>not</strong> <em>going to be implementing it.</em>
   I think it's mostly fine to use things like Plausible or Fathom that are
   privacy-oriented analytics platforms because it is a lot better than what
   was going on before and I think the exchange between visitor and site isn't
   entirely clearcut. The negotiation is implicit and the browsers set the
   outer boundary terms. But what we do within that space is what determines
   our character. And I think the best way to serve my audience is to be
   mindful of this stuff, not stare myself blind at the numbers and keep
   working to maintain the trust and attention I've built up.
</p>
<p>The ugly side is that there are things that you can do to indicate every
   single link your users hover, even if they are blocking all JS. You can
   absolutely use this to do things I consider somewhat of an overstep that
   are probably just table stakes in the analytics space. One could also
   measure how long people stay using invisible animations, doing the same
   thing I believe.
</p>
<p>But it is a neat hack and I hadn't really thought about the possibility
   before. It is already somewhat known. I haven't checked who does and doesn't
   do this. So I figured I'd share. Because I do like a neat hack.
</p>
<p>If you want to register your opinion in the aggregate you can just click one
   of the following links and you and all the bots will be recorded in the
   server logs:</p>
<ul>
<li><a href="https://underjord.io/it-is-evil.html" target="_blank">It is evil</a></li>
<li><a href="https://underjord.io/it-is-not-evil.html" target="_blank">It is not evil</a></li>
</ul>
<p>Where do you draw your lines on privacy? Are there things sites are fine to
   do to understand their traffic and visitors or should even the server log
   be abolished?</p>
<p>I'm genuinely curious how you feel. Feel free to get in touch via <a href="mailto:lars@underjord.io">lars@underjord.io</a> or just find me on Twitter as <a href="https://twitter.com/lawik">@lawik</a>.</p></div></div>]]>
            </description>
            <link>https://underjord.io/is-this-evil.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24480239</guid>
            <pubDate>Tue, 15 Sep 2020 12:04:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One Shot 3D Photography (Facebook Siggraph 2020)]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24479891">thread link</a>) | @juretriglav
<br/>
September 15, 2020 | https://facebookresearch.github.io/one_shot_3d_photography/ | <a href="https://web.archive.org/web/*/https://facebookresearch.github.io/one_shot_3d_photography/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="Abstract">
      <div>
        <div>
          <div>
            <h2>Abstract</h2>

            <p>
              3D photography is a new medium that allows viewers to more fully experience a captured moment.
              In this work, we refer to a <i>3D photo</i> as one that displays parallax induced by moving the viewpoint (as opposed to a stereo pair with a fixed viewpoint).
              3D photos are static in time, like traditional photos, but are displayed with interactive parallax on mobile or desktop screens, as well as on Virtual Reality devices, where viewing it <i>also</i> includes stereo.
              We present an end-to-end system for creating and viewing 3D photos, and the algorithmic and design choices therein.
              Our 3D photos are captured in a single shot and processed directly on a mobile device.
              The method starts by estimating depth from the 2D input image using a new monocular depth estimation network that is optimized for mobile devices.
              It performs competitively to the state-of-the-art, but has lower latency and peak memory consumption and uses an order of magnitude fewer parameters.
              The resulting depth is lifted to a layered depth image, and new geometry is synthesized in parallax regions.
              We synthesize color texture and structures in the parallax regions as well, using an inpainting network, also optimized for mobile devices, on the LDI directly.
              Finally, we convert the result into a mesh-based representation that can be efficiently transmitted and rendered even on low-end devices and over poor network connections.
              Altogether, the processing takes just a few seconds on a mobile device, and the result can be instantly viewed and shared.
              We perform extensive quantitative evaluation to validate our system and compare its new components against the current state-of-the-art.            </p>
          </div>
        </div>
      </div>
    </section></div>]]>
            </description>
            <link>https://facebookresearch.github.io/one_shot_3d_photography/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24479891</guid>
            <pubDate>Tue, 15 Sep 2020 11:13:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: My journey to create a Text Editor that allows you to build apps]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24479813">thread link</a>) | @johndamaia
<br/>
September 15, 2020 | https://zecoda.com/about | <a href="https://web.archive.org/web/*/https://zecoda.com/about">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <header>We believe software development will become ubiquitous. You will be able to create your own custom apps according to your specific needs from a simple text editor.</header>

            <p> The text editor is the living force of the modern world. We use it everyday for countless use cases. It’s our go to tool for putting words down. But it seems there’s room to improve the text editor for the next generation of makers and builders that grew up with the cloud, collaboration and information at the tip of their fingers.</p>

            <p>So, we tried to reimagine this piece of software from the ground up. The result is a simple text editor tool that helps you do more and be more productive.</p>

            <p>Main features</p>

            <ul>
                <li>Build with growing collection of components</li>
                <li>Connect your text editor document to a database</li>
                <li>Integrate logic operations to build custom no code applications</li>
                <li>Markdown editor to take notes, scribble ideas or plan your work</li>
                <li>Call APIs to get information quickly. Build your own internal tools</li>
            </ul>

            <p>We’ve decided to have a fairly large set of features in the beginning but with limited functionality (e.g. we only have a handful of Components and Functions to start with). This will allow us to learn from our users and build new features for them.</p>
            
            <call-to-action></call-to-action>

            <p>Next steps</p>            

            <p>We are working hard every single day to improve our product. We are in a very early stage and bugs <i></i> can appear from anywhere. <a href="https://zecoda.com/contact">Drop us a note</a> if you catch one of those 🙏</p>
            
        </article></div>]]>
            </description>
            <link>https://zecoda.com/about</link>
            <guid isPermaLink="false">hacker-news-small-sites-24479813</guid>
            <pubDate>Tue, 15 Sep 2020 10:58:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Amstrad CPC 472, an unusual case]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 51 (<a href="https://news.ycombinator.com/item?id=24479103">thread link</a>) | @sohkamyung
<br/>
September 15, 2020 | https://auamstrad.es/sin-categoria/amstrad-cpc-472-en/ | <a href="https://web.archive.org/web/*/https://auamstrad.es/sin-categoria/amstrad-cpc-472-en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><hr><p><em>This is an automatic translation, we apologize for any mistakes. You can read the original spanish <a href="https://auamstrad.es/hardware/mundo-cpc/amstrad-cpc-472/">version here</a>.</em></p><hr><p><strong>The Amstrad CPC 472 is an 8-bit Microcomputer of the Amstrad brand, </strong>belonging to the classic range of <strong>CPC </strong>(<strong>Colour Personal Computer</strong>) and sold exclusively in Spain between 1985 and 1986. It is a personal computer almost identical to its predecessor, the CPC 464.</p><p>At the sight, it is only distinguished by the screen printing of the case, where the «64» is replaced by a «72», however, it has a particularity that <strong>makes it special: those extra 8 KB of RAM</strong> that indicates its name and that are accompanied by a hilarious and sometimes even crazy story. A succession of anecdotes, occurrences and arguing that will delight the most curious by the history of microinformatics.</p><p>For example, not everyone knows that <strong>t</strong>he CPC 472<strong> owes its existence to another 8-bit microcomputer: the Dragon</strong>. Had it not been for the emergence of Dragon computers in the Spanish computer scene, the Range of the Amstrad CPC would have gone from version 464 to 664 and completed in the 6128 (not counting the plus range). However, the Dragon brand was decisive for Amstrad to take out in Spain, and only in Spain, its version 472.</p><p><strong>How and why did it all happen?</strong> It’s a fascinating story, full of ambitious characters, business odagos, influence-trade and even palatial intrigue. But let’s start at the beginning….</p><h3>Dragon, the microcomputer made in Spain</h3><p>In 1982<strong>, <a href="https://es.wikipedia.org/wiki/Dragon_Data" target="_blank" aria-label="Dragon Data (opens in a new tab)" rel="noreferrer noopener nofollow">Dragon Data</a> was a subsidiary of a British toy company called Mettoy,</strong> which then had financial problems. They get more funding from a number of sources, one of them bein<strong>g the Welsh Development Office</strong>. As a result, this UK-constituting nation moves the Dragon factory and began producing mass microcomputers.</p><p>However, after various commercial vicissitudes, in 1984 the majority distributor decided to abandon its distribution and try to settle the brand. Several bids from companies such as Tandy or Philips come into play, but eventually it was <strong>Spain’s</strong> Eurohard who bought Dragon’s<strong> right</strong>s for 150 million pesetas (almost one million euros), which accounted for less than a third of its real value. In principle, it seemed like a good deal.</p><figure><img width="640" height="499" src="https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer.jpg.webp" data-src="https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer.jpg" alt="The Amstrad CPC 472, an unusual case 2" data-srcset="https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer.jpg 640w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer-300x234.jpg 300w" data-sizes="(max-width: 640px) 100vw, 640px" title="The Amstrad CPC 472, an unusual case 2" data-src-webp="https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer.jpg.webp" data-srcset-webp="https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer.jpg.webp 640w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer-300x234.jpg.webp 300w" srcset="https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer.jpg.webp 640w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon_32_computer-300x234.jpg.webp 300w"><figcaption>Dragon 32</figcaption></figure><p>Eurohard’s di<strong>rective</strong> moved in the high circles of Spanish politics. Its president, <strong>Eduardo Merigó</strong>, had been Secretary of State with Adolfo Suárez, promoter of the Liberal Democratic Party and president of Visa España. No one better connected than him to get the money needed to buy a bankrupt factory in Wales and set it up on Spanish territory.</p><figure><img width="800" height="553" src="https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3.jpg.webp" data-src="https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3.jpg" alt="The Amstrad CPC 472, an unusual case 3" data-srcset="https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3.jpg 800w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3-300x207.jpg 300w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3-768x531.jpg 768w" data-sizes="(max-width: 800px) 100vw, 800px" title="The Amstrad CPC 472, an unusual case 3" data-src-webp="https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3.jpg.webp" data-srcset-webp="https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3.jpg.webp 800w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3-300x207.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3-768x531.jpg.webp 768w" srcset="https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3.jpg.webp 800w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3-300x207.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Dragon200-3-768x531.jpg.webp 768w"><figcaption> Dragon 200 tag, showing its Extremaduran origin</figcaption></figure><p>It secured funding, among others, from the<strong> Society for Industrial Development of Extremadura (SODIEX) </strong>and, with the ambition of creating a specie<em>s </em><a href="https://elpais.com/tecnologia/2019/12/02/actualidad/1575302981_189309.html" target="_blank" aria-label="of Silicon Valley in Extremadura (opens in a new tab)" rel="noreferrer noopener nofollow"><em>of Silicon Va</em>lley in Extremadura</a>, <strong>bought the rights to Dragon computers and that’s how Eurohard started manufacturing and distributing them in Spain.</strong></p><h2>Dragon, the Extremaduran computer</h2><p>The underlying idea was to get its <strong><a href="http://redined.mecd.gob.es/xmlui/handle/11162/70047" rel="nofollow noopener" target="_blank">foot into the Athena Project</a></strong>, an experimental national plan that aimed to introduce new information technologies into Spanish basic (EGB) and secondary (BUP) teachings. <a href="http://www.educacionyfp.gob.es/dam/jcr:a090ac11-e536-4919-99d7-a0682b759ef0/re2760000502-pdf.pdf" target="_blank" aria-label="The requirements for the equipment (opens in a new tab)" rel="noreferrer noopener nofollow">The requirements for the equipment</a> were as follows:</p><ul><li>CP/M operating system for 8-bit computers, and MS-DOS for 16-bit computers.</li><li>64 KB RAM.</li><li>5 1/4″ floppy disk drive</li><li>Color and high resolution of the screen.</li><li>Basic, Pascal and Logo languages.</li></ul><p>In the initial plan, Athena intended to put 5 microcomputers into 2,300 schools, which involved selling more than 10,000 teams, not to mention the advertising and visibility that such an institutional presence would provide. An appetizing and hearty candy for any company.</p><blockquote><p><em>Dragon computer ad in 1985</em></p></blockquote><p>Unfortunately, <strong>Eurohard’s leaders failed </strong>to convince the Minister of Education and Science, socialist <strong>José María Maravall</strong>, and the<strong> </strong>Athena project was eventually nurtured with mostly foreign teams (Olivetti, IBM, Fujitsu…), with MS-DOS-compatible PCs being preferred as an operating system. To be sure, foreign brands also had their contacts in important circles of power.</p><p>Despite the clarity of the technical specifications (including the 5 1/4 floppy disk), we can find on the Internet <a href="http://www.elmundodelspectrum.com/proyecto-atenea-conoceis-a-atenea/" target="_blank" aria-label="testimonials from people (opens in a new tab)" rel="noreferrer noopener nofollow">testimonials from people</a> who had at their <strong>Amstrad CPC 6128 schools and even Spectrum without a disk drive</strong>, so it follows that the application of Project Athena was also not very strict. In any case, <strong>Eurohard’s management failed</strong> to take over this succulent business for its <strong>Dragons</strong> and, at most, a few microcomputers of the brand would manage to enter the Spanish classrooms, which was a major economic blow to the company’s ambitions.</p><h3>The Spanish tariff policy</h3><p>However, not all aces had fallen out of their sleeves. What <strong>Eurohard</strong> did<strong> </strong>get from the Spanish government, in this case the Minister of Economy and Finance<strong>, Carlos So<em>lchaga</em></strong><em>, was <a href="https://www.boe.es/boe/dias/1985/07/25/pdfs/A23677-23677.pdf" target="_blank" aria-label="Royal Decree 1215/1985, of 17 July, amending certain subheadings of the customs tariff (opens in a new tab)" rel="noreferrer noopener nofollow">Royal Decree 1215/1985, of 17 July, amending certain subheadings of the customs tariff</a>,</em> which imposed the importation of a wide range of electronic machines and, in this way, it was intended to curb the interferences of foreign computer manufacturers on the Spanish market. Tariffs ranged from a minimum of 15,000 pesetas (90o) to a cooler of 300,000 pesetas (about 1,800 euros).</p><figure><img width="921" height="725" src="https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel.jpg.webp" data-src="https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel.jpg" alt="The Amstrad CPC 472, an unusual case 4" data-srcset="https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel.jpg 921w, https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel-300x236.jpg 300w, https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel-768x605.jpg 768w" data-sizes="(max-width: 921px) 100vw, 921px" title="The Amstrad CPC 472, an unusual case 5" data-src-webp="https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel.jpg.webp" data-srcset-webp="https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel.jpg.webp 921w, https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel-300x236.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel-768x605.jpg.webp 768w" srcset="https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel.jpg.webp 921w, https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel-300x236.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Primer-arancel-768x605.jpg.webp 768w"><figcaption> BOE num. 177 – 25 July 1985 – Royal Decree 1215/1985</figcaption></figure><p><em>«That’s what I did. Since we were liberals of origin, we hesitated. But we also thought that as a little boy you had to protect yourself from </em>the big ones,» Eurohard CEO <strong>Javier Saavedra</strong> recalled as a <a aria-label="political feat (opens in a new tab)" href="https://elpais.com/tecnologia/2019/12/02/actualidad/1575302981_189309.html" target="_blank" rel="noreferrer noopener nofollow">political feat</a>. In his statements he hints that, being liberal (we have already commented on connections with the Suarez government), they did not believe in tariffs, but it seems that when their ideals clashed against their interests, they decided to have other principles. Years later, this lawyer by profession <a aria-label="was convicted of another matter to 6 months (opens in a new tab)" href="https://elpais.com/elpais/2018/01/08/gente/1515414335_850144.html" target="_blank" rel="noreferrer noopener nofollow">was convicted of another matter to 6 months</a> in prison and barred by the Supreme Court. We do not know if he played any role in the <a href="https://elpais.com/diario/1987/05/29/espana/549237621_850215.html" target="_blank" aria-label="irregularities (opens in a new tab)" rel="noreferrer noopener nofollow">irregularities</a> that helped sink the manufacturer of Dragon computers. This is a topic that exceeds the purposes of this article. We will stick to what concerns the appearance of CPC 472.</p><figure><img width="1024" height="496" src="https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1024x496.jpg.webp" data-src="https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1024x496.jpg" alt="The Amstrad CPC 472, an unusual case 5" data-srcset="https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1024x496.jpg 1024w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-300x145.jpg 300w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-768x372.jpg 768w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1536x744.jpg 1536w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-scaled.jpg 1170w" data-sizes="(max-width: 1024px) 100vw, 1024px" title="The Amstrad CPC 472, an unusual case 6" data-src-webp="https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1024x496.jpg.webp" data-srcset-webp="https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1024x496.jpg.webp 1024w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-300x145.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-768x372.jpg.webp 768w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1536x744.jpg.webp 1536w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-scaled.jpg.webp 1170w" srcset="https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1024x496.jpg.webp 1024w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-300x145.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-768x372.jpg.webp 768w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-1536x744.jpg.webp 1536w, https://auamstrad.es/wp-content/uploads/2020/03/Javier-Saavedra-consejero-delegado-de-Eurohard-scaled.jpg.webp 1170w"><figcaption> Javier Saavedra, CEO of Eurohard</figcaption></figure><p>Going back to the story we’re interested in, these businessmen had gone too far. They had been overly ambitious with their tariff move. Business pressures from foreign groups did not wait. They counterattacked and forced the Spanish government to rectify its policy. As a result,<strong> something decisive happened </strong>for the appearance of the Amstrad CPC 472. Here’s how it happened.</p><h2>CPC 472 and Royal Decree «<em>express</em>«</h2><p>After the government’s summer holidays ended on August 28, 1985 and just a month after the first decree, there was a council of ministers. A good tug of ears should have been given to <strong>Mr. Solchaga</strong>, because that same day the minister was traveling to the Balearic Islands (as collected <a aria-label="deepfb (opens in a new tab)" href="https://www.amstrad.es/forum/memberlist.php?mode=viewprofile&amp;u=9&amp;sid=16eecceab2c7a11b8210f91cc80d882b" target="_blank" rel="noreferrer noopener nofollow">deepfb</a><a aria-label="(opens in a new tab)" rel="noreferrer noopener nofollow" href="https://www.cpcwiki.eu/index.php/472" target="_blank"> </a>in cpcwiki<a aria-label="(opens in a new tab)" rel="noreferrer noopener nofollow" href="https://www.cpcwiki.eu/index.php/472" target="_blank">, article dedicated to 472</a>) to get the signature of his majesty King Juan Carlos, who was still there on holiday rest with the family, and thus be able to urgen<em>tly publish<a aria-label="(opens in a new tab)" rel="noreferrer noopener nofollow" href="http://Real Decreto 1558/1985, de 28 de agosto, por el que se aclara el alcance del mínimo específico introducido en la subpartida 84.53.B.II del Arancel de Aduanas, por el Real Decreto 1215/1985." target="_blank"> Royal Decree 1558/1985 of 28 August, clarifying the scope of the specific minimum introduced in subheading 84.53.B.II of the Customs Tariff, by Royal Decree 1215/1985</a></em>.</p><p>Basically, this new decree rectified the previous one and taxed with a single tariff of 15,000 pesetas, not to any electronic machine, but specifically to microcomputers with RAM not exceeding 64 KB. Thus, at the very least, Dragon made things difficult for foreign competitors in its particular niche market.</p><figure><img width="574" height="432" src="https://auamstrad.es/wp-content/uploads/2020/03/Limitaci%C3%B3n-64k.jpg.webp" data-src="https://auamstrad.es/wp-content/uploads/2020/03/Limitación-64k.jpg" alt="The Amstrad CPC 472, an unusual case 6" data-srcset="https://auamstrad.es/wp-content/uploads/2020/03/Limitación-64k.jpg 574w, https://auamstrad.es/wp-content/uploads/2020/03/Limitación-64k-300x226.jpg 300w" data-sizes="(max-width: 574px) 100vw, 574px" title="The Amstrad CPC 472, an unusual case 7" data-src-webp="https://auamstrad.es/wp-content/uploads/2020/03/Limitación-64k.jpg.webp" data-srcset-webp="https://auamstrad.es/wp-content/uploads/2020/03/Limitación-64k.jpg.webp 574w, https://auamstrad.es/wp-content/uploads/2020/03/Limitación-64k-300x226.jpg.webp 300w" srcset="https://auamstrad.es/wp-content/uploads/2020/03/Limitaci%C3%B3n-64k.jpg.webp 574w, https://auamstrad.es/wp-content/uploads/2020/03/Limitaci%C3%B3n-64k-300x226.jpg.webp 300w"><figcaption> BOE num. 211 – 28 August 1985 – Royal Decree 1558/1985</figcaption></figure><p>If you look at the text you will see that, unlike the previous decree, which is initialled in Madrid, this Royal Decree was actually given in Palma de Mallorca. In fact, we can see in the press library of the time that, just the night before, their majesties <a aria-label="(opens in a new tab)" rel="noreferrer noopener nofollow" href="http://hemeroteca.abc.es/nav/Navigate.exe/hemeroteca/madrid/abc/1985/08/28/067.html" target="_blank">had been for dinner with the Balearic authorities</a>. All this gives an idea of the haste with which the correction of the protectionist policy sought by the Spanish manufacturer should be rectified. As <a href="https://www.amstrad.es/forum/memberlist.php?mode=viewprofile&amp;u=9&amp;sid=16eecceab2c7a11b8210f91cc80d882b" target="_blank" aria-label="deepfb (opens in a new tab)" rel="noreferrer noopener nofollow">deepfb</a> states in the above-mentioned <a href="https://www.cpcwiki.eu/index.php/472" target="_blank" aria-label="article of cpcwiki (opens in a new tab)" rel="noreferrer noopener nofollow">article of cpcwiki</a>, it is to be imagined that the pressure received by the Government of Spain by foreign capital had to be very high.</p><figure><img width="567" height="494" src="https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca.jpg.webp" data-src="https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca.jpg" alt="The Amstrad CPC 472, an unusual case 7" data-srcset="https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca.jpg 567w, https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca-300x261.jpg 300w" data-sizes="(max-width: 567px) 100vw, 567px" title="The Amstrad CPC 472, an unusual case 8" data-src-webp="https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca.jpg.webp" data-srcset-webp="https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca.jpg.webp 567w, https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca-300x261.jpg.webp 300w" srcset="https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca.jpg.webp 567w, https://auamstrad.es/wp-content/uploads/2020/03/Reyes-en-Mallorca-300x261.jpg.webp 300w"><figcaption> News of the ABC newspaper of August 28, 1985, the same day as the signing of the second RD</figcaption></figure><p>Finally, to say that all this effort and political outrage had very little way to go, because <a href="https://canalhistoria.es/hoy-en-la-historia/se-aprueba-ingreso-espana-la-union-europea/" target="_blank" aria-label="Spain would enter the European Economic Community (opens in a new tab)" rel="noreferrer noopener nofollow">Spain would enter the European Economic Community</a> a few months later, on 1 January 1986, and its tariff policies would be contingent on the signing of this treaty and, de facto, suspended.</p><p>However, this short period of a few months, during which microcomputers of 64 KB or less were taxed with an import tax, was enough for I<a href="https://es.wikipedia.org/wiki/Indescomp" target="_blank" aria-label="ndescomp (opens in a new tab)" rel="noreferrer noopener nofollow">ndescomp </a>(later Amstrad Spain) for the conception, gestation and birth of the <strong>Amstrad CPC 472.</strong> A 72 KB microcomputer appeared on the scene, as its name indicated; that is, higher by 8 KB to the 64 that the Spanish tariff policy put by limit and, therefore, a personal computer that could be <strong>imported to Spain from Korea (country of manufacture) without paying a hard time</strong>. Clever, isn’t it? And something misleading, too, as we’ll see below.</p><h2>The birth of the Amstrad CPC 472</h2><p><em>«In August 1985, I received a panic call from <strong>Dominguez, </strong>who told me that he had a serious problem, that all 64 KB computers and fewer were prohibited from importing into Spain», </em>are the words of <strong>Sir Alan Sugar, </strong>the creator of Amstrad, in his autobiography entitled «<a href="https://www.amazon.co.uk/What-You-See-Get-Autobiography/dp/0330520474" target="_blank" aria-label="What you see is what you get (opens in a new tab)" rel="noreferrer noopener nofollow">W<em>hat you see is what you get</em></a>«, published in 2011.</p><figure><img width="1024" height="794" src="https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1024x794.jpg.webp" data-src="https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1024x794.jpg" alt="The Amstrad CPC 472, an unusual case 8" data-srcset="https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1024x794.jpg 1024w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-300x233.jpg 300w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-768x595.jpg 768w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1536x1191.jpg 1536w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-scaled.jpg 1170w" data-sizes="(max-width: 1024px) 100vw, 1024px" title="The Amstrad CPC 472, an unusual case 9" data-src-webp="https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1024x794.jpg.webp" data-srcset-webp="https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1024x794.jpg.webp 1024w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-300x233.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-768x595.jpg.webp 768w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1536x1191.jpg.webp 1536w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-scaled.jpg.webp 1170w" srcset="https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1024x794.jpg.webp 1024w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-300x233.jpg.webp 300w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-768x595.jpg.webp 768w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-1536x1191.jpg.webp 1536w, https://auamstrad.es/wp-content/uploads/2020/03/Queremos-su-dinero-scaled.jpg.webp 1170w"><figcaption> Dominguez and Sugar on the cover of the book «<a href="https://auamstrad.es/retroescena/queremos-su-dinero-el-hombre-tras-amstrad-espana/" target="_blank" aria-label="We Want Your Money (opens in a new tab)" rel="noreferrer noopener nofollow">We Want Your Money</a>»</figcaption></figure><p><strong>José Luis Domíngu</strong>ez was the <strong>president of Indescomp</strong>, a small Spanish technology company. Dominguez was very interested in bringing Amstrad’s performance to Spain, so he went to see Sugar wi<strong>th the</strong> intention of giving him two games: <a href="https://www.cpc-power.com/index.php?page=detail&amp;num=1837" target="_blank" aria-label="La Pulga (opens in a new tab)" rel="noreferrer noopener nofollow">La Pulga</a> (Roland in the Caves) and <a href="https://www.cpc-power.com/index.php?page=detail&amp;num=1839" target="_blank" aria-label="Fred (opens in a new tab)" rel="noreferrer noopener nofollow">Fred</a><a aria-label="(opens in a new tab)" rel="noreferrer noopener nofollow" href="https://www.cpc-power.com/index.php?page=detail&amp;num=1839" target="_blank"> </a>(Roland on the Ropes). After enduring the British tycoon’s displeasure, he obtained a licence to sell Amstrad in Spain, reaping a clamorous bestseller to the surprise of the English entrepreneur. After so much effort, your mood can be …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://auamstrad.es/sin-categoria/amstrad-cpc-472-en/">https://auamstrad.es/sin-categoria/amstrad-cpc-472-en/</a></em></p>]]>
            </description>
            <link>https://auamstrad.es/sin-categoria/amstrad-cpc-472-en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24479103</guid>
            <pubDate>Tue, 15 Sep 2020 08:39:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Building Pastebin for text using Nginx and Lua]]>
            </title>
            <description>
<![CDATA[
Score 47 | Comments 24 (<a href="https://news.ycombinator.com/item?id=24479065">thread link</a>) | @usamaejaz
<br/>
September 15, 2020 | https://usamaejaz.com/nginx-lua-pastebin/ | <a href="https://web.archive.org/web/*/https://usamaejaz.com/nginx-lua-pastebin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>At times I use different services for sharing text or code snippets. Pastebin is a well known term for such services (where you <em>paste</em> whatever you want to share). The functionality is also simple (mostly) and that’s why I decided to build a pastebin service using only NGINX.</p>

<p><img src="https://usamaejaz.com/images/nginx-lua.png" alt="NGINX and Lua"></p>

<p>I have been a fan of NGINX the moment I learnt of it. In my earlier days (about 5 yrs ago), I was an <em>Apache guy</em>. But the moment I became familiar with NGINX and its vast power, I never looked at any other webserver software.</p>

<p>I often share text or code snippets online and that is why, It was fun to build it without using any “backend”. NGINX alone was enough with its <a href="https://github.com/openresty/lua-nginx-module">awesome Lua module</a> which offers unlimited possibilities. I wanted to make it simple so there is not much in it other than the only feature of storing plain-text pastes.</p>

<h2 id="nginx-config">NGINX Config</h2>

<p>The whole backend of this pastebin is inside of the NGINX config. The Lua code within <code>content_by_lua_block</code> is all responsible for saving the paste. The code is saving the pastes to the local filesystem but there are endless possibilities (for example, storing in a database like mysql or redis).</p>

<p>The following location block is responsible for all <code>/api/pastes</code> requests. The directory to which the paste is saved must also be writeable by the webserver user.</p>

<div><div><pre><code># api for storing paste
location = /api/pastes {
	default_type "text/plain";

		client_max_body_size 128k;
		client_body_buffer_size 128k;
			
	content_by_lua_block {
		ngx.req.read_body()
		
		local method = ngx.req.get_method()

		if method == "POST" then
			local args, err = ngx.req.get_post_args(1)

			if err == "truncated" then
				ngx.say("error: only one POST parameter allowed.")
				ngx.exit(403)
			end

			if not args then
				ngx.say("error: failed to get post args: ", err)
				ngx.exit(500)
			end
			
			local content = args.content

			if content == nill then
				ngx.say("error: required parameter 'content' not set")
				ngx.exit(400)
			elseif content == "" then
				ngx.say("error: required parameter 'content' is empty")
				ngx.exit(400)
			end

			math.randomseed(os.clock()+os.time())
			local random = math.random
			local function randid()
				local template ='xxxx4xxxxxxyxxxx'
				return string.gsub(template, '[xy]', function (c)
					local v = (c == 'x') and random(0, 0xf) or random(8, 0xb)
					return string.format('%x', v)
				end)
			end
			local name = randid()
			local file, err = io.open("/var/www/nginx-pastebin/pastes/" .. name, "w")
			if file == nill then
				ngx.say("error: couldn't open file: ", err)
			else 
				file:write(content)
				file:close()
			end
			
			ngx.say("https://", ngx.var.host, "/", name)

		elseif method == "GET" then
			ngx.say("send a post request with 'content=your_text_content'")
		else 
			ngx.say("error: not allowed")
			ngx.exit(405)
		end
	}
}
</code></pre></div></div>

<p>This is an example of how services involving simple (or even complicated?) logic can be written using Lua inside NGINX.</p>

<p><code>ngx</code> has many other APIs and you can perform almost every NGINX-related action in your Lua code (rewriting, redirects, caching, serving content and much more).</p>

<h2 id="demo-and-complete-code">Demo and Complete Code</h2>

<p>I have set this up on <a href="https://pastebin.usamaejaz.com/">pastebin.usamaejaz.com</a>  and the source code has been pushed to <a href="https://github.com/usamaejaz/nginx-pastebin">github.com/usamaejaz/nginx-pastebin</a>.</p>


  </div></div>]]>
            </description>
            <link>https://usamaejaz.com/nginx-lua-pastebin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24479065</guid>
            <pubDate>Tue, 15 Sep 2020 08:31:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Crowdsec, the behavior and reputation-based collaborative firewall]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24478876">thread link</a>) | @Philippe_H
<br/>
September 15, 2020 | https://crowdsec.net/2020/09/10/crowdsec-the-community-powered-firewall/ | <a href="https://web.archive.org/web/*/https://crowdsec.net/2020/09/10/crowdsec-the-community-powered-firewall/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="vc_row-5f638d11d5ea9"><div><div><div>
	<div>
		<div>
			
<p><span><a href="https://github.com/crowdsecurity/crowdsec" target="_blank" rel="noopener noreferrer"><span>CrowdSec</span></a></span><span> is a behavior &amp; reputation-based security engine, designed to protect any exposed resource on the Internet, servers, containers, VMs, IoT objects, etc.<br>
</span><span>Installation is quick and wizard-assisted. The software is currently in a production-grade state, and runs in many places, including hosting companies. </span></p>
<p><span>The agent</span><span>&nbsp;parses logs from various data sources and applies heuristic scenarii to <strong>identify</strong> aggressive <strong>behavior</strong> and protect you against most attack classes. Cyber threats like credential stuffing, web or port scans, credentials brute-force (ssh / FTP / remote desktop / telnet), and many others are easy to defeat with CrowdSec. Written in Golang, the Agent uses an advanced grammar to allows complex or subtle treatments. The choice of Golang will allow us to port it to other platforms like Windows or MacOS.</span></p>
<p><span><img data-attachment-id="2325" data-permalink="https://crowdsec.net/2020/09/10/crowdsec-the-community-powered-firewall/screenshot-2020-09-10-at-15-57-59/" data-orig-file="https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?fit=2056%2C350&amp;ssl=1" data-orig-size="2056,350" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Mitigate port scans web scans credential stuffing scrapping and more" data-image-description="<p>Mitigate port scans web scans credential stuffing scrapping and more</p>
" data-medium-file="https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?fit=300%2C51&amp;ssl=1" data-large-file="https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?fit=1024%2C174&amp;ssl=1" data-tgpli-src="https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=588%2C100&amp;ssl=1" alt="Mitigate port scans web scans credential stuffing scrapping and more" width="588" height="100" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=300%2C51&amp;ssl=1 300w, https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=1024%2C174&amp;ssl=1 1024w, https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=768%2C131&amp;ssl=1 768w, https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=1536%2C261&amp;ssl=1 1536w, https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=2048%2C349&amp;ssl=1 2048w, https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=1200%2C204&amp;ssl=1 1200w" data-lazy-sizes="(max-width: 588px) 100vw, 588px" data-lazy-src="https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=588%2C100&amp;is-pending-load=1#038;ssl=1" data-tgpli-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-tgpli-inited="" data-tgpli-image-inited="" id="tgpli-5f638d11dab06" src="https://i0.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.57.59.png?resize=588%2C100&amp;is-pending-load=1#038;ssl=1"></span></p>
<h2><img data-attachment-id="2329" data-permalink="https://crowdsec.net/2020/09/10/crowdsec-the-community-powered-firewall/screenshot-2020-09-10-at-16-16-11/" data-orig-file="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?fit=2070%2C1428&amp;ssl=1" data-orig-size="2070,1428" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Behavior detection" data-image-description="<p>Behavior detection</p>
" data-medium-file="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?fit=300%2C207&amp;ssl=1" data-large-file="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?fit=1024%2C706&amp;ssl=1" data-tgpli-src="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=446%2C308&amp;ssl=1" alt="Behavior detection" width="446" height="308" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=300%2C207&amp;ssl=1 300w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=1024%2C706&amp;ssl=1 1024w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=768%2C530&amp;ssl=1 768w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=1536%2C1060&amp;ssl=1 1536w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=2048%2C1413&amp;ssl=1 2048w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=1200%2C828&amp;ssl=1 1200w" data-lazy-sizes="(max-width: 446px) 100vw, 446px" data-lazy-src="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=446%2C308&amp;is-pending-load=1#038;ssl=1" data-tgpli-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-tgpli-inited="" data-tgpli-image-inited="" id="tgpli-5f638d11dab83" src="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.11.png?resize=446%2C308&amp;is-pending-load=1#038;ssl=1"></h2>
<h2>… building a global IP reputation engine</h2>
<p><img data-attachment-id="2324" data-permalink="https://crowdsec.net/2020/09/10/crowdsec-the-community-powered-firewall/screenshot-2020-09-10-at-15-55-37/" data-orig-file="https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?fit=734%2C746&amp;ssl=1" data-orig-size="734,746" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Collaborative firewall" data-image-description="<p>Collaborative firewall</p>
" data-medium-file="https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?fit=295%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?fit=734%2C746&amp;ssl=1" data-tgpli-src="https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?resize=181%2C184&amp;ssl=1" alt="Collaborative firewall" width="181" height="184" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?resize=295%2C300&amp;ssl=1 295w, https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?w=734&amp;ssl=1 734w" data-lazy-sizes="(max-width: 181px) 100vw, 181px" data-lazy-src="https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?resize=181%2C184&amp;is-pending-load=1#038;ssl=1" data-tgpli-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-tgpli-inited="" data-tgpli-image-inited="" id="tgpli-5f638d11dabe2" src="https://i2.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-15.55.37.png?resize=181%2C184&amp;is-pending-load=1#038;ssl=1"></p>
<p><span>The real endgame is to harness the <strong>power of the Crowd</strong> to have each other’s back.</span></p>
<p>While your agent is blocking aggressive IP, it can also share them with the global network. The community then gets fed with your spottings and you also benefit from the community ones in return. The goal is to create the most accurate and complete IP reputation database. Together we create a real-time IP reputation system that benefits all of our community members. So far, it gathers and maintains a fresh (less than 72 hours) list of 100 000 malevolent IPs addresses.</p>
<p><span>The consensus database (which stores aggressive IPs) includes a native anti-false-positive and anti-poisoning system. API oriented from day 1, our goal is to make it usable anywhere (infra, code, app, framework, libs, etc.). L</span><span>ast but not least, it has also been designed to be GD</span><span>PR compliant and privacy respectful.</span></p>
<h2>Born in the Cloud, thought for the Cloud</h2>
<p><span>To adapt to modern architectures, CrowdSec uses a decoupled approach “<strong>detect here, remedy there</strong>”. For example, if it detects an attack directed toward your database, it could remediate it on your firewall. To date, Netfilter (with an Ipset), Cloudflare, Nginx &amp; WordPress are supported. We work on new ones like Captcha, MFA, throttling,&nbsp; limiting access to some folders or features, etc. </span></p>
<p><span>If you decide to write Datasource connectors, log parsers, scenarios, you can share them on the </span><span><a href="http://hub.crowdsec.net/" target="_blank" rel="noopener noreferrer"><span>community hub</span></a></span><span>. The scenario grammar (YAML) is very versatile and allows for a lot of creativity. ie: If someone is hammering a webpage that takes a lot of CPU to generate, you can throttle. If an IP is port scanning, web scanning, and brute-forcing, you could consider it’s a targeted attack and not an opportunistic one and apply different remediation.</span></p>
<h2>Fully Open-Source&amp; Free</h2>
<p><span>CrowdSec, the behavior &amp; reputation-based security engine, is based on an <strong>MIT license</strong> and is open to contributions.<br>
Don’t hesitate to reach out to us through our </span><span><a href="https://crowdsec.net/" target="_blank" rel="noopener noreferrer"><span>Website</span></a></span><span>, </span><span><a href="https://github.com/crowdsecurity/crowdsec" target="_blank" rel="noopener noreferrer"><span>GitHub</span></a></span><span>, or interact directly with the team on our </span><span><a href="https://gitter.im/crowdsec-project/community#" target="_blank" rel="noopener noreferrer"><span>Gitter</span></a></span>, we’ll be glad to help.</p>
<h2><strong>&lt;TLDR&gt;</strong></h2>
<p><img data-attachment-id="2331" data-permalink="https://crowdsec.net/2020/09/10/crowdsec-the-community-powered-firewall/screenshot-2020-09-10-at-16-16-27-2/" data-orig-file="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?fit=2378%2C982&amp;ssl=1" data-orig-size="2378,982" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="How CrowdSec Works" data-image-description="<p>How CrowdSec Works</p>
" data-medium-file="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?fit=300%2C124&amp;ssl=1" data-large-file="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?fit=1024%2C423&amp;ssl=1" data-tgpli-src="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=618%2C256&amp;ssl=1" alt="How CrowdSec Works" width="618" height="256" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=300%2C124&amp;ssl=1 300w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=1024%2C423&amp;ssl=1 1024w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=768%2C317&amp;ssl=1 768w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=1536%2C634&amp;ssl=1 1536w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=2048%2C846&amp;ssl=1 2048w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=1200%2C496&amp;ssl=1 1200w, https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?w=2340&amp;ssl=1 2340w" data-lazy-sizes="(max-width: 618px) 100vw, 618px" data-lazy-src="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=618%2C256&amp;is-pending-load=1#038;ssl=1" data-tgpli-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-tgpli-inited="" data-tgpli-image-inited="" id="tgpli-5f638d11dac4a" src="https://i1.wp.com/crowdsec.net/wp-content/uploads/2020/09/Screenshot-2020-09-10-at-16.16.27-1.png?resize=618%2C256&amp;is-pending-load=1#038;ssl=1"></p>



		</div>
	</div>
</div></div></div></div></div>]]>
            </description>
            <link>https://crowdsec.net/2020/09/10/crowdsec-the-community-powered-firewall/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24478876</guid>
            <pubDate>Tue, 15 Sep 2020 07:58:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Use Your Android Tablet as a Second Monitor]]>
            </title>
            <description>
<![CDATA[
Score 72 | Comments 59 (<a href="https://news.ycombinator.com/item?id=24478534">thread link</a>) | @rodrigo975
<br/>
September 14, 2020 | https://blog.8bitbuddhism.com/2019/12/01/how-to-use-your-android-tablet-as-second-monitor/ | <a href="https://web.archive.org/web/*/https://blog.8bitbuddhism.com/2019/12/01/how-to-use-your-android-tablet-as-second-monitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1058"><div><p>I spend a lot of time working remotely, and while I have a decently sized laptop, I often miss having a second monitor. I looked at USB monitors, but then I remembered my old 2014 Galaxy Tab. Could I use it as a second monitor? The answer is: yes!</p><p>This setup works via virtual output devices and VNC. It essentially creates a remote desktop session on your laptop, which you can view and even interact with from your tablet. It’ll technically work with any network-ready computing device for that matter, whether it’s a tablet, a phone, a Raspberry Pi, or even another laptop.</p><p>These instructions are for Linux. Any Linux distribution should work, but you <em>must</em> be using X.org, not Wayland. You’ll also need to install the <a href="https://developer.android.com/studio/command-line/adb">Android Debug Bridge</a> (adb) and <a href="http://www.karlrunge.com/x11vnc/">x11vnc</a>.</p><p>You can <a href="https://gist.github.com/8bitbuddhist/7ab180286d6eb7fdc68d374063814175">download the full script from GitHub</a>. This post explains how the script works and provides setup instructions.</p><h2>Step 1: Create a Virtual Output Device</h2><p>First, we need to create a virtual output device by configuring Xorg. Create a file named <code>/usr/share/X11/xorg.conf.d/20-virtual.conf</code> and add the following contents:<br> <code>Section "Device"<br> </code><code>&nbsp;Identifier "intelgpu0"<br> Driver "intel"<br> Option "VirtualHeads" "1"<br> EndSection</code></p><p>The Identifier and Driver options will be different if your GPU is AMD or Nvidia. You can add more virtual outputs by changing the <code>VirtualHeads</code> option, but for now let’s keep it at one. Save the file, then log out and log back in to apply the changes. To confirm, run the <code>xrandr</code> command. You should see a line starting with <code>VIRTUAL1 disconnected</code>.</p><h2>Step 2: Configuring and Enabling the Virtual Display</h2><p>Now, we need to configure the virtual display by setting its resolution and placement relative to the primary display (i.e. the laptop screen).</p><p>Open the <a href="https://gist.github.com/8bitbuddhist/7ab180286d6eb7fdc68d374063814175"><code>create-android-display.sh</code></a> file in a text editor and change the following lines to match your specific setup:</p><ul><li><code>W=1920</code> and <code>H=1080</code> set the width and height of the virtual display. Set this to your tablet screen’s resolution.</li><li><code>VIRTUAL1</code> should match the name of the virtual display as reported by xrandr.</li><li><code>eDP1</code> should match the name of your primary display. You can use xrandr to confirm this as well.</li></ul><p>The line starting with <code>PW</code> uses xrandr to get the width of the primary display. We’ll use this later on when creating the VNC session.</p><p>The lines starting with <code>gtf</code> configure the display and set its position relative to the primary display. In the third line, you can change where the display is located by changing <code>--right-of</code> to <code>--left-of</code>, <code>--above</code>, or <code>--below</code>.&nbsp;These instructions assume you’re using <code>--right-of</code>, so if you decide to change the placement, note that you’ll need to change the crop options when running x11vnc.</p><h2>Step 3: Create a VNC Session</h2><p>For VNC, we’ll use <a href="http://www.karlrunge.com/x11vnc/">x11vnc</a> because it can expose an existing Xorg session without requiring root permissions. We’ll use the <code>-clip</code> option to restrict the visible area to the virtual monitor.&nbsp;We’ll also use <code>-localhost</code> to prevent x11vnc from exposing the session over the network for better security.</p><p><code>x11vnc -localhost -clip ${W}x${H}+${PW}+0</code></p><p>Some 3D applications and compositing window managers don’t work well over VNC, so if your screen isn’t updating, try adding <a href="http://www.karlrunge.com/x11vnc/faq.html#faq-beryl"><code>-noxdamage</code></a>&nbsp;to the command.</p><h2>Step 4: Create an ADB Session</h2><p>VNC software uses port 5900 by default. However, since we ran x11vnc with <code>-localhost</code>, only software running on the laptop itself can access the VNC session. Fortunately, we can use adb to forward port 5900 on our laptop to port 5900 on our tablet. With port forwarding enabled, our tablet can access x11vnc as if it was coming from localhost.</p><p>We’ll forward the port with the command:</p><p><code>adb reverse tcp:5900 tcp:5900</code></p><h2>Step 5: Connect From Your Tablet</h2><p>The final step is to use a VNC viewer app on your tablet to open the x11vnc session. I use <a href="https://play.google.com/store/apps/details?id=com.iiordanov.freebVNC&amp;hl=en_US">bVNC</a>, but any viewer app will work.</p><p>From the app, enter <code>localhost</code> as the target and click connect. In a moment, you should see your virtual monitor appear on screen. Move your cursor around, drag windows, and watch them appear on your tablet! Once you disconnect, the script automatically turns off the virtual display on your laptop so you don’t have “invisible windows” floating off-screen.</p><figure id="attachment_1062" aria-describedby="caption-attachment-1062"><img src="https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?resize=656%2C875&amp;ssl=1" alt="Using an Android tablet as a second monitor" width="656" height="875" srcset="https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?w=936&amp;ssl=1 936w" sizes="(max-width: 656px) 100vw, 656px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?w=936&amp;ssl=1 936w" data-lazy-src="https://i0.wp.com/blog.8bitbuddhism.com/wp-content/uploads/2019/11/tablet-second-monitor.jpg?resize=656%2C875&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption id="caption-attachment-1062">Kate and Konsole on an Android tablet via VNC.</figcaption></figure><h2>Final Thoughts</h2><p>VNC isn’t a perfect protocol, and it can be slow even over USB. It’s alright for web browsing and Slack/Discord, but I wouldn’t use it to watch movies. You <em>can</em> use VNC over the network, but this comes with some severe security implications. Make sure you enable encryption and password protection before exposing your desktop to <em>any</em> network.</p><p>One problem I couldn’t completely resolve was black bars appearing on my tablet when the tablet resolution was different from the laptop resolution. The bars completely covered the desktop and any windows I had on the screen. My only solution was to use the same resolution for both the laptop and the tablet, but this was workable for me.</p><p>Have any issues, thoughts, or suggestions? Leave a comment!</p></div></article></div>]]>
            </description>
            <link>https://blog.8bitbuddhism.com/2019/12/01/how-to-use-your-android-tablet-as-second-monitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24478534</guid>
            <pubDate>Tue, 15 Sep 2020 06:51:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dancing Orchards on the I-5]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24478087">thread link</a>) | @underanalyzer
<br/>
September 14, 2020 | https://hardmath123.github.io/orchard.html | <a href="https://web.archive.org/web/*/https://hardmath123.github.io/orchard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="postcontent">
            <section>
                
                <center><em><p>Investigating number-theoretic patterns in large grids of trees</p>
</em></center>
                <h4>Tuesday, September 10, 2019 · 3 min read</h4>
<p>The last time I spent a long time on I-5, I started thinking about
<a href="https://hardmath123.github.io/envelope.html">envelopes</a>. This time, I started thinking about orchards. As
you drive along the central valley highway, you can see thousands and thousands
of perfect rows of trees. You can actually see them from the top on Google’s
<a href="https://www.google.com/maps/@36.6590095,-120.643549,2656a,35y,236.91h/data=!3m1!1e3">satellite
imagery</a>;
try zooming in slowly on that point, it’s really quite beautiful.</p>
<p>When you drive by them, you see the side view rather than the top view. In
fact, you see the side view <em>in motion</em> – the trees look like they’re dancing
an elaborate dance, continuously lining up into different formations to form
different rows in different angles. Really, of course, it is you who is moving;
the trees are still but by viewing them from different angles you can see
different “alignments” of the grid.</p>
<p>The effect is most pronounced with freshly-planted trees (or perhaps those are
markers?), where there is no foliage blocking the horizon.</p>
<p><img src="https://hardmath123.github.io/static/orchard.png" alt="orchard"></p>
<p>I didn’t think to make a video at the time, but you can imagine that as the car
moves forwards a little bit, the pattern re-aligns in an incredibly satisfying
way.</p>
<p>I’m intrigued by the multiple “vanishing points” you can see in that picture.
The trees are regularly spaced in a square grid, but somehow there are multiple
(!) irregularly-spaced (!!) points along the horizon to which rows of trees
appear to converge. What’s going on here — is there a pattern to the
patterns? You could either stop reading here to have food for thought on your
next road trip, or you could keep reading for my ideas.</p>
<hr>
<p>The I-5 trees are a variation on a well-known theme: a theme called <em>Euclid’s
orchard</em> (<a href="https://en.wikipedia.org/wiki/Euclid%27s_orchard">Wikipedia</a>,
<a href="http://mathworld.wolfram.com/EuclidsOrchard.html">MathWorld</a>). You stand at
the origin of the plane, and at every integer point there is a line segment
(“tree”) extending one unit upwards perpendicular to the plane. What you see
from your vantage point is Euclid’s orchard. Try to imagine what it looks like;
then, play with a JavaScript simulation of it
<a href="https://www.khanacademy.org/computer-programming/euclids-orchard/5282060266635264">here</a>.</p>
<p>The main idea of Euclid’s orchard is that trees at integer points (x, y)
occlude trees at any integer multiples of that point (nx, ny), so you don’t see
anything behind them. Also, nearby trees appear taller than farther-away trees
because that’s how perspective works. So there is a “horizon” where in each
direction you either see (1) a tree if the direction’s slope is rational, and
the tree is shorter if its denominator is larger; (2) nothing if the
direction’s slope is irrational. All sorts of fun can be had with this: see for
example a <a href="https://mathlesstraveled.com/2017/07/22/a-few-words-about-pww-20/">nice connection to the Fibonacci
numbers</a>.</p>
<p>The I-5 orchard in the picture is similar, but now we look upon it from some
height. Imagine mapping each point on the horizon to the direction in which I
would have to point my camera to look directly at that point. The “vanishing
points” have lots of trees along those directions, giving the illusion of
“rows.” What does this mean? It means that if you walked along that ray in
Euclid’s orchard, you would run into trees more frequently than other rays. In
other words, those rays represent directions whose slopes are rational with
small denominators.</p>
<p>Hmm… rational with small denominators… where have I blogged about that
before…? Right — around four years ago, when we
<a href="https://hardmath123.github.io/a-balance-of-powers.html">showed</a> that 2^12864326 begins with the digits
“10000000…” (and other number-theoretic shenanigans).  I wasn’t kidding,
rational approximation really is one of my favorite topics!</p>
<p>At the time I showed you this picture with little explanation.</p>
<p><img src="https://hardmath123.github.io/static/ford-circle.png" alt="Ford circle"></p>
<p>Here is a little more explanation of its significance: as you start filling in
circles to some level, you generate a sequence of fractions called the <a href="https://en.wikipedia.org/wiki/Farey_sequence">“Farey
sequence”</a> by listing the points
of tangency of the circle and the X axis. The Farey sequence is the list of
completely reduced fractions whose denominators are smaller than some bound.
Putting those two facts together: the points of tangency of the circles
represent points that are “rational with small denominators” — exactly what
we thought our I-9 orchard’s “vanishing points” were!</p>
<p>Looking back at the image, this is somewhat believable. We see a couple of
“strong” vanishing points, and then “weaker” vanishing points in between the
strong ones, and then <em>even</em> “weaker” vanishing points between the strong and
the weak vanishing points, and so on.</p>
<p>There are a number of cool implications of this. For example, the “least
patterned” regions of the horizon would correspond to regions that are “hard to
rationally approximate”; so, you’d expect them at plus-or-minus the golden
ratio’s slope from your line of sight.</p>

            </section>

            

        </article></div>]]>
            </description>
            <link>https://hardmath123.github.io/orchard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24478087</guid>
            <pubDate>Tue, 15 Sep 2020 05:14:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Differentiable Dithering]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 44 (<a href="https://news.ycombinator.com/item?id=24477913">thread link</a>) | @underanalyzer
<br/>
September 14, 2020 | https://www.peterstefek.me/differentiable-dithering.html | <a href="https://web.archive.org/web/*/https://www.peterstefek.me/differentiable-dithering.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
 <div>
  
  <p><label>Posted on <strong>09 September 2020</strong></label></p><p>Colab source code can be found <a href="https://gist.github.com/Mr4k/1f1b7ecaf30de073a50cbedd0da4dc82">here</a>.</p>
<p><strong>Problem</strong><br>
Let's say we want to reduce the number of colors in an image. For example consider the image of fruit below:
</p><p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/fruit.jpg" width="50%"> 
</p> <p>
If we run a count of how many colors are in the above image we get a whopping 157376 (for a 900 x 450 pixel image). Are all those colors really necessary?
</p><p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/fruit-16-final.png" width="50%"> 
</p> <p>
The image above has 16 colors and the one below only has 8.
</p><p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/fruit-8-final.png" width="50%"> 
</p> <p>
The problem of color palette reduction has been studied extensively and the typical approach works roughly as follows:  </p>
<ol>
<li>
<p>Build a reduced color palette of size N by dividing the color space up into N distinct regions where each region is represented by one color. This is usually accomplished by one of serveral <a href="https://en.wikipedia.org/wiki/Color_quantization">popular approaches</a>.  </p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Dither">Dither</a> the image. The process of dithering eliminates color banding and creates the illusion of more colors through a stippling like effect. If you are not familar with dithering we will explore it in more detail later. Given a fixed color palette there are specialized algorithms for dithering such as <a href="https://research.cs.wisc.edu/graphics/Courses/559-s2004/docs/floyd-steinberg.pdf">Floyd Stienberg</a>.  </p>
</li>
</ol>
<p>Instead of the usual approach, we are going to solve both of these problems at the same time using gradient descent.  </p>
<p>First of all let's define a palette of N colors. For this article the colors will be 3 component vectors in rgb space. A quick warning to graphics nerds, for portability and simplicity we do not take <a href="http://xahlee.info/img/what_is_gamma_correction.html">gamma correction</a> into account.</p>
<p>Now how do we assign a discrete set of colors to pixels in a differentiable way? I decided to do this using probability distributions. Each pixel is represented by a vector containing the probabilities of each palette color being chosen for that pixel. When actually generating an image we just sample each pixel's color from it's distribution.  </p>
<p>The above formulation is pretty general. Importantly both the colors in the palette and the mapping of image pixels to palette colors are variables which we can optimize over simultaneously. Now all we need to do is attach any one of a number of loss functions.   </p>
<p>The loss function I chose to use at first was just the squared difference between the original image and the expected value of the output image:  </p>
<p><span>\(loss(output, target)=\sum_{i\in pixels}(target_i\)</span> <span>\(-\)</span> <span>\(E[output_i])^2\)</span> (equation 1)  </p>
<p>So what's the idea here? Basically the expected output allows our image to pretend it has more colors than it really does.   </p>
<p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/dither-grey.png" width="50%"> 
</p>

<p>For example let's pretend our palette has only two colors, black and white. Also suppose our target image is a 50% gray square. Consider the following three possible representations of the image. One is an all black image, one is all white and the third has 50% black and 50% white pixels randomly distributed across the image. If we look from far away the third image will look better. This is because the black and white pixels will blur together and appear gray. This effect is called dithering.   </p>
<p>By the above reasoning we want to make sure that the dithered pixel assignment (each pixel has a 50% chance of being black or white) should appear more desirable than the other two candidates to our loss function. Taking the squared error between the target image and the expected color of each pixel does exactly this.   </p>
<p>You might be asking, why not take the expected value of the whole squared error? This would look like:</p>
<p><span>\(loss(output, target) = E[\sum_{i\in pixels}(target_i\)</span> <span>\(-\)</span> <span>\(output_i)^2]\)</span>    </p>
<p>This actually does not work. To see why, let's look at the same setup as above and consider the expectation of an individual pixel (for math sticklers we can do this because expectation is linear). The loss function for a pixel denoted by the random variable <span>\(X\)</span> that always chooses black is: </p>
<p><span>\(E[(0.5 - X)^2] = (0.5 - 0)^2 = 0.25\)</span>   </p>
<p>And the loss function for a pixel denoted by the random <span>\(X\)</span> which is 50% black and 50% white is:</p>
<p><span>\(E[(0.5-X)^2] = (0.5-0)^2 * 0.5\)</span> <span>\(+\)</span> <span>\((0.5-1)^2 * 0.5 = 0.25\)</span>  </p>
<p>Unfortunately the values here are the same in both cases which rules out this loss function.  </p>
<p>Let's try using the loss from equation 1 with a palette of two colors:</p>
<p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/fruit-2-final.png" width="50%"> 
</p>

<p>Hey! Not too bad! As we can see, different shades are captured by different densities of darker pixels. For a starker example let's try this image of a vertical black and white gradient:</p>
<p><img src="https://www.peterstefek.me/images/differentiable-dithering/bw-grad.png" width="25%"> 
        <img src="https://www.peterstefek.me/images/differentiable-dithering/bw-grad-2.png" width="25%">
    </p> 


<p>Now let's try 16 colors:
</p><p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/fruit-16-noisy.png" width="50%"> 
</p> <p>
The above image highlights one weakness of our current loss function. It's very noisy, even when it doesn't have to be.   </p>
<p>To give an extreme example, consider an image with three colors red, blue and purple (a mix of 50% red and 50% blue). Let's say we have room for 3 colors in our palette. In the eyes of equation 1 both of the following solutions would have the same loss:  </p>
<ol>
<li>
<p>The red pixels are red, the blue pixels are blue and the purple pixels are purple. We are using all three colors in our palette to the best of our ability and the image is reproduced perfectly.  </p>
</li>
<li>
<p>Each red pixel is red, each blue pixel is blue, each purple pixel has a <span>\(\frac{1}{2}\)</span> chance of being red and a <span>\(\frac{1}{2}\)</span> chance of being blue. Notice here we only use two out of three possible colors and the final image is clearly lower quality.   </p>
</li>
</ol>
<p>To control for this weakness, I added an additional term to the loss function which penalizes the sum of the pixel variances. Right now I just hand tune the coefficient of the variance penalty. A good rule of thumb seems to be larger palettes should weigh variance more heavily. Applying this penalty (variance coefficient = 0.25) gives us the 16 color image from the top of this post:
</p><p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/fruit-16-final.png" width="50%"> 
</p>   
<p>The tradeoff is that too little variance removes noise which, due to the absence of dithering, makes the final image appear to contain fewer colors and also creates <a href="https://en.wikipedia.org/wiki/Colour_banding">banding effects</a>. The image below has 16 colors and variance coefficient = 1.0. It demonstrates both of these problems:<br>
</p><p>
    <img src="https://www.peterstefek.me/images/differentiable-dithering/fruit-16-saturated.png" width="50%"> 
</p>   
<p>Note there are many valid choices of loss function here and I'm not claiming mine is perfect at all. For example <a href="https://blog.demofox.org/2017/12/23/c-differentiable-programming-searching-for-an-optimal-dither-pattern/">this article</a> on creating optimal dither patterns blurs both images and takes the difference between those. We could try to use this idea or search for something else to replace our simple squared error. It would also be interesting to try to use a real image quality metric like <a href="https://www.cns.nyu.edu/~lcv/ssim/">SSIM</a> to measure image quality instead of using variance as a proxy.   </p>
<p>Another place for improvement is that our approach is sloooow (up to several minutes). It also does not scale well memory wise to large palettes (when I try using more than 200 colors for the 900x450 pixel fruit image my colab notebook runs out of ram). This is because in that case there are more than 200x950x450 variables to optimize over. We could potentially tackle these problems in two ways. To address speed we could try to break the image up into mini batches. To address memory usage we could try to use a neural network to output probabilities at each pixel location instead of storing them all explicitly.   </p>
<p><strong>Why do I think this approach is interesting?</strong><br>
Although this approach is not state of the art by any means in either speed or quality I think it's interesting that we can optimize both the palette selection and dithering at the same time.  </p>
<p>As far as I know dithering and palette selection aren't really part of state of the art lossy compression today. However it would be neat if these same concepts could be applied to something like the color space transform, discrete cosine transform and weight quantization steps of <a href="http://pi.math.cornell.edu/~web6140/TopTenAlgorithms/JPEG.html">jpeg compression</a>.  </p>
<p>A pipedream would be an entirely differentiable image compression pipeline where all the steps can be fine tuned together to optimize a particular image with respect to any differentiable loss function.</p>
<p>Have questions / comments / corrections?<br>
Get in touch: <a href="mailto:pstefek.dev@gmail.com">pstefek.dev@gmail.com</a></p>

 </div>
</div></div>]]>
            </description>
            <link>https://www.peterstefek.me/differentiable-dithering.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24477913</guid>
            <pubDate>Tue, 15 Sep 2020 04:35:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MonsterMash – A Single-View Approach to Casual 3D Modeling and Animation]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24477099">thread link</a>) | @phront
<br/>
September 14, 2020 | https://dcgi.fel.cvut.cz/home/sykorad/monster_mash | <a href="https://web.archive.org/web/*/https://dcgi.fel.cvut.cz/home/sykorad/monster_mash">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://dcgi.fel.cvut.cz/home/sykorad/monster_mash</link>
            <guid isPermaLink="false">hacker-news-small-sites-24477099</guid>
            <pubDate>Tue, 15 Sep 2020 01:44:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Raspberry Pi as a local server for self hosting applications]]>
            </title>
            <description>
<![CDATA[
Score 352 | Comments 305 (<a href="https://news.ycombinator.com/item?id=24474309">thread link</a>) | @christian_fei
<br/>
September 14, 2020 | https://cri.dev/posts/2020-09-12-Raspberry-Pi-as-a-local-server-for-self-hosting-applications/ | <a href="https://web.archive.org/web/*/https://cri.dev/posts/2020-09-12-Raspberry-Pi-as-a-local-server-for-self-hosting-applications/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>Doing an experiment with my RPi 4, using it as a small but powerful local server.</p><p>My current PC is a 10 year old Macbook Pro 13" 2010, which is sluggish sometimes.</p><p>So I want to offload some heavy tasks (ffmpeg time-lapse creation, long-running tasks and services) to the Raspberry Pi and connect to it either via LAN or Wi-Fi.</p><p>Below you can read my findings about performance, applications and general issues I encountered and tried to solve.</p><hr><h2>Table of Contents</h2><ul><li><a href="#first-steps">First steps</a></li><li><a href="#connection-via-lan-to-pc">Connection via LAN to PC</a><ul><li><a href="#internet-sharing-from-pc-to-rpi">Internet Sharing from PC to RPi</a></li></ul></li><li><a href="#connection-via-wi-fi">Connection via Wi-Fi</a></li><li><a href="#benchmarking-transfer-speeds-via-iperf">Benchmarking Transfer speeds via iperf</a><ul><li><a href="#benchmark-over-lan">Benchmark over LAN</a></li><li><a href="#benchmark-over-wi-fi">Benchmark over Wi-Fi</a></li></ul></li><li><a href="#applications">Applications</a><ul><li><a href="#ffmpeg-for-time-lapse">ffmpeg for time-lapse</a></li><li><a href="#n8n-for-automation">n8n for automation</a></li><li><a href="#emby-for-media-server">emby for media server</a></li><li><a href="#hakatime">hakatime</a></li><li><a href="#tor-proxy">Tor proxy</a></li></ul></li><li><a href="#final-words">Final words</a></li></ul><p>I started by:</p><ul><li>Flashing a minimal RaspiOS Buster Lite image on a 32GB SD card (prob better for the future if I used a 128GB one)</li><li>No setup of Wi-Fi connectivity through <code>wpa_supplicant</code></li><li>Creating an empty <code>ssh</code> file in the SD card to enable SSH access</li></ul><p>Powered up the Pi and I was able to connect via LAN.</p><p>Additionally, I changed the hostname of the Raspberry Pi to <code>serverry</code> (through <code>raspi-config</code>).</p><p><img src="https://cri.dev/assets/images/posts/rpi-mac/rpi-mac-lan.jpg" alt="rpi mac lan"></p><p>Connecting the RPi to my MBP through LAN was the first thing I wanted to try.</p><p>The Pi is now available on my PC as <code>serverry.local</code>.</p><h2>Internet Sharing from PC to RPi</h2><p>"Internet Sharing" from the PC to the Pi was super easy.</p><p>Worked first try, just had to enable the internet sharing setting on my Mac:</p><p><img src="https://cri.dev/assets/images/posts/rpi-mac/internet-sharing-mac.png" alt="mac internet sharing"></p><p>Set up a <code>wpa_supplicant.conf</code> in <code>/etc/wpa_supplicant/wpa_supplicant.conf</code> or place it in the root of the SD card.</p><p>This enables the Raspberry Pi to have independent internet connectivity.</p><p>Here is an example:</p><pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
ap_scan=1
update_config=1

network={
  scan_ssid=1
  ssid="YOUR_SSID"
  psk="YOUR_PSK"
}
</code></pre><p>Now the RPi is also available in my home-network under <code>serverry.fritz.box</code></p><p>Did a simple benchmark using <code>iperf</code>, once using Wi-Fi and once using the direct ethernet connection to my PC.</p><p>Here are the results:</p><ul><li>LAN transfer speeds (Mac - RPi): 900+MBits/s</li><li>WLAN transfer speeds (Mac - RPi): 60+MBits/s)</li></ul><p>Makes total sense, still interesting.</p><h2>Benchmark over LAN</h2><pre><code>~ iperf3 -c serverry.local
Connecting to host serverry.local, port 5201
[  7] local fe80::58b0:35ff:feef:3a64 port 62068 connected to fe80::b713:505e:420e:d16b port 5201
[ ID] Interval           Transfer     Bitrate
[  7]   0.00-1.00   sec   111 MBytes   933 Mbits/sec
[  7]   1.00-2.01   sec  97.9 MBytes   817 Mbits/sec
[  7]   2.01-3.01   sec   110 MBytes   919 Mbits/sec
[  7]   3.01-4.01   sec   110 MBytes   929 Mbits/sec
[  7]   4.01-5.01   sec   107 MBytes   891 Mbits/sec
[  7]   5.01-6.01   sec   110 MBytes   925 Mbits/sec
[  7]   6.01-7.01   sec   109 MBytes   911 Mbits/sec
[  7]   7.01-8.01   sec   107 MBytes   902 Mbits/sec
[  7]   8.01-9.01   sec   108 MBytes   908 Mbits/sec
[  7]   9.01-10.00  sec   109 MBytes   916 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate
[  7]   0.00-10.00  sec  1.05 GBytes   905 Mbits/sec                  sender
[  7]   0.00-10.01  sec  1.05 GBytes   904 Mbits/sec                  receiver
</code></pre><h2>Benchmark over Wi-Fi</h2><pre><code>~ iperf3 -c serverry.fritz.box
Connecting to host serverry.fritz.box, port 5201
[  7] local 192.168.188.52 port 62063 connected to 192.168.188.53 port 5201
[ ID] Interval           Transfer     Bitrate
[  7]   0.00-1.00   sec  8.18 MBytes  68.6 Mbits/sec
[  7]   1.00-2.00   sec  7.78 MBytes  65.2 Mbits/sec
[  7]   2.00-3.00   sec  7.77 MBytes  65.2 Mbits/sec
[  7]   3.00-4.00   sec  7.63 MBytes  63.9 Mbits/sec
[  7]   4.00-5.00   sec  7.24 MBytes  60.6 Mbits/sec
[  7]   5.00-6.00   sec  7.49 MBytes  63.2 Mbits/sec
[  7]   6.00-7.00   sec  7.28 MBytes  61.0 Mbits/sec
[  7]   7.00-8.08   sec  7.94 MBytes  61.6 Mbits/sec
[  7]   8.08-9.00   sec  6.25 MBytes  57.0 Mbits/sec
[  7]   9.00-10.12  sec  7.32 MBytes  54.8 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate
[  7]   0.00-10.12  sec  74.9 MBytes  62.1 Mbits/sec                  sender
[  7]   0.00-10.12  sec  74.9 MBytes  62.0 Mbits/sec                  receiver
</code></pre><h2>ffmpeg for time-lapse</h2><p><a href="https://cri.dev/posts/2020-09-01-Simple-Time-lapse-with-a-Raspberry-Pi/">Lately I've been busy with time-lapses</a>, and the process of creating one with ffmpeg on my MBP was getting slower and slower (seemingly).</p><p>Did a benchmark of creating a time-lapse of 20 FPS, based on 775 snapshots. The snapshots were taken every minute from 7AM til 8PM.</p><p><em>There is to mention that the Pi has 4 cores 4GB RAM, while my MBP has 2 cores 8GB RAM.</em></p><p>On the Raspberry Pi the <code>ffmpeg</code> process took <strong>12m30s</strong> to complete.</p><p>While on my MBP it took <strong>20m</strong>!</p><p>Almost twice as fast, daaamn!</p><p><em>I think for more graphics intensive uses, the MBP would win though, since it has a Nvidia 320m, for what's worth</em></p><p>This is a comparison of <code>htop</code> between both devices</p><p>Raspberry Pi</p><p><img src="https://cri.dev/assets/images/posts/rpi-mac/time-lapse-cpu-rpi.png" alt="time-lapse-cpu-rpi"></p><p>Macbook Pro 13" 2010</p><p><img src="https://cri.dev/assets/images/posts/rpi-mac/time-lapse-cpu-mac.png" alt="time-lapse-cpu-mac"></p><h2>n8n for automation</h2><p>I wanted to use <a href="https://n8n.io/">n8n.io</a> to automate some personal tasks, and create useful workflow automations.</p><p>There is an ARM build for n8n using docker, fortunately:</p><pre><code>docker run -d --restart always --name n8n -p 5678:5678 -v ~/.n8n:/root/.n8n n8nio/n8n:0.78.0-rpi
</code></pre><p>You could also use <code>npx</code>, <code>npx n8n</code></p><p>The dashboard is available via <code>http://serverry.local:5678</code>, you now have access to your local n8n instance.</p><h2>emby for media server</h2><p>Recently discovered <a href="https://emby.media/">emby.media</a>.</p><p>It can be used as a personal library of your media files, for easy access, organization and streaming.</p><p>The installation was as easy as:</p><pre><code>wget https://github.com/MediaBrowser/Emby.Releases/releases/download/4.5.0.25/emby-server-deb_4.5.0.25_armhf.deb -O emby-server.deb
sudo dpkg -i emby-server.deb
</code></pre><p>Emby is now available on <code>http://serverry.local:8096/</code></p><h2>hakatime</h2><p>Hakatime is a server implementation of <a href="https://wakatime.com/">Wakatime</a>.</p><p>Unfortunately, the docker image is not built for ARM, so it cannot work on the Pi.</p><p>I'm getting the classic error when spinning up the docker image:</p><pre><code>standard_init_linux.go:211: exec user process caused "exec format error"
</code></pre><p>Will have to figure out how to build the project manually..</p><p>That's a pity though, I was super stoked to get Hakatime up and running :(</p><h2>Tor proxy</h2><p>Managed to easily set up a tor proxy on the Raspberry Pi.</p><p>As easy as</p><pre><code>sudo apt install tor

echo "SocksPort 0.0.0.0:9050\nSocksPolicy accept *\nRunAsDaemon 1" &gt;&gt; /etc/tor/torrc

sudo systemctl restart <a href="https://cri.dev/cdn-cgi/l/email-protection" data-cfemail="1c68736e5c78797a7d697068326f796e6a757f79">[email&nbsp;protected]</a>
</code></pre><p>Now I can connect from my Mac to the RPi and browse via Tor.</p><pre><code># turn on
networksetup -setsocksfirewallproxy "Wi-Fi" "serverry.fritz.box" "9050" off

# turn off
networksetup -setsocksfirewallproxystate "Wi-Fi" off
</code></pre><p>Verify connectivity through <a href="https://check.torproject.org/?lang=en">check.torproject.org</a></p><p><img src="https://cri.dev/assets/images/posts/rpi-mac/tor.png" alt="tor connectivity"></p><p>So far the experience was pretty pleasant.</p><p>4 out of 5 use cases (ffmpeg, n8n, emby, hakatime, tor) worked out of the box.</p><p>What I want to try out next is:</p><ul><li><a href="https://inboxen.org/">Inboxen</a>: infinite number of unique inboxes</li><li><a href="https://trigger-happy.readthedocs.io/en/latest/">TriggerHappy</a></li><li><a href="https://nextcloud.com/">NextCloud</a></li><li><a href="https://github.com/carlos8f/zenbot">Zenbot</a>: trading bot</li><li><a href="https://www.firefly-iii.org/">Firefly</a>: personal finance</li><li>A password manager, haven't decided yet</li></ul></div></div>]]>
            </description>
            <link>https://cri.dev/posts/2020-09-12-Raspberry-Pi-as-a-local-server-for-self-hosting-applications/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24474309</guid>
            <pubDate>Mon, 14 Sep 2020 19:49:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ferrari 250 GTO Kit Cars Could Be Coming Soon]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24474042">thread link</a>) | @rmason
<br/>
September 14, 2020 | https://enzari.com/2020/07/ferrari-250-gto-kit-cars-could-be-coming-soon/ | <a href="https://web.archive.org/web/*/https://enzari.com/2020/07/ferrari-250-gto-kit-cars-could-be-coming-soon/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <article id="post-66613" role="article" itemscope="" itemtype="http://schema.org/WebPage">
            <header>
                
            </header>

            <div>
                <div>
                    <section itemprop="articleBody">
                    <figure><img width="1024" height="683" src="https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/12/20125037/02-1962-Ferrari-250-GTO-Berlinetta-Credit_Bonhams-1024x683.jpeg" alt="Ferrari 250 GTO" srcset="https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/12/20125037/02-1962-Ferrari-250-GTO-Berlinetta-Credit_Bonhams-1024x683.jpeg 1024w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/12/20125037/02-1962-Ferrari-250-GTO-Berlinetta-Credit_Bonhams-300x200.jpeg 300w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/12/20125037/02-1962-Ferrari-250-GTO-Berlinetta-Credit_Bonhams-768x512.jpeg 768w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/12/20125037/02-1962-Ferrari-250-GTO-Berlinetta-Credit_Bonhams-135x90.jpeg 135w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/12/20125037/02-1962-Ferrari-250-GTO-Berlinetta-Credit_Bonhams-600x400.jpeg 600w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/12/20125037/02-1962-Ferrari-250-GTO-Berlinetta-Credit_Bonhams.jpeg 1800w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><p>The<a href="https://enzari.com/category/manufacturers/ferrari/" title="Ferrari"> Ferrari</a> 250 GTO is famous for being two things. The first, is exceptionally beautiful. The GTO is 60’s car design at it’s very best. However, the second thing is, it’s expensive. The cars are so rare and have so much value, that in 2018, it broke the record for the most expensive car ever sold; when David MacNeil paid $70,000,000 for a 1963 car. With only 39 250 GTOs left in existence, it is understandable why they are of so much value. But soon, we could see a flurry of replica 250’s and kit cars hitting the market. So what’s changed now?</p>
<h5><u>Court Battle</u></h5>
<p>Ferrari had the design of the iconic 250 trademarked, so that no one could produce anything that could, potentially, devalue such an iconic car. However, a bespoke car manufacturer, also based in Modena, called Ares Design, took<a href="https://enzari.com/category/manufacturers/ferrari/" title="Ferrari"> Ferrari</a> to the Cancellation division of the EU’s Intellectual Property Office. They put forward the argument that<a href="https://enzari.com/category/manufacturers/ferrari/" title="Ferrari"> Ferrari</a> had not put the contested trademark to genuine use for a period of 5 years straight. They argued that the trademark, filed in 2008, was filed in bad faith, and as a defensive mark to block kit cars of the GTO hitting the market; similar to what we see with the AC Cobra and the many modern versions of the Lotus Seven.</p>

<p>In Article 58(1)(a) EUTMR, an EU trademark can be revoked if not used genuinely within a period of 5 years.<a href="https://enzari.com/category/manufacturers/ferrari/" title="Ferrari"> Ferrari</a> had not used it, and considering that they had filed a trademark in 2007 for a design that hadn’t been used in over 50 years, it didn’t appear<a href="https://enzari.com/category/manufacturers/ferrari/" title="Ferrari"> Ferrari</a> would use it.<br>
<u><br>
The Outcome</u></p>
<p>In short,<a href="https://enzari.com/category/manufacturers/ares-design/" title="Ares Design"> Ares Design</a> won. The trademark has been revoked in the context of proper cars.<a href="https://enzari.com/category/manufacturers/ferrari/" title="Ferrari"> Ferrari</a> still hold a trademark for scale models of the GTO. The EU ruling is certainly an interesting one, given that 2 years ago, there was a similar lawsuit between the same two companies. It was heard by a court in Bologna, which declared the GTO a work of art that could not be imitated or reproduced.</p>

<p>This leaves us in an interesting place. Whilst the GTO is a timeless classic, perhaps the ultimate classic car, I hate the idea of shoddy replicas being made that don’t do the real car justice. However, companies such as<a href="https://enzari.com/category/manufacturers/ares-design/" title="Ares Design"> Ares Design</a> clearly would make quality replicas, based off the stunning work that they do already. While many may disagree, I do think that there’s a place for high quality 1:1 replicas, especially in motorsport. These days, barely any 250s are seen on track, as they’re too valuable. A replica would look and sound the same, but not have as much value. This would give us an insight into the incredible GTO in its natural habitat, that we just don’t get to see in the modern day.</p>
<p><img src="https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/06/01221741/1962-Ferrari-250-GTO-chassis-3413-GT-Patrick-Ernzen-C2A9-2018-Courtesy-of-RM-SothebyE28099s-300x176.jpg" alt="" width="600" height="352" srcset="https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/06/01221741/1962-Ferrari-250-GTO-chassis-3413-GT-Patrick-Ernzen-C2A9-2018-Courtesy-of-RM-SothebyE28099s-300x176.jpg 300w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/06/01221741/1962-Ferrari-250-GTO-chassis-3413-GT-Patrick-Ernzen-C2A9-2018-Courtesy-of-RM-SothebyE28099s-768x450.jpg 768w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/06/01221741/1962-Ferrari-250-GTO-chassis-3413-GT-Patrick-Ernzen-C2A9-2018-Courtesy-of-RM-SothebyE28099s-1024x600.jpg 1024w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/06/01221741/1962-Ferrari-250-GTO-chassis-3413-GT-Patrick-Ernzen-C2A9-2018-Courtesy-of-RM-SothebyE28099s-154x90.jpg 154w, https://s3-eu-west-2.amazonaws.com/enzari2018/enzari/wp-content/uploads/2018/06/01221741/1962-Ferrari-250-GTO-chassis-3413-GT-Patrick-Ernzen-C2A9-2018-Courtesy-of-RM-SothebyE28099s-600x352.jpg 600w" sizes="(max-width: 600px) 100vw, 600px"></p>
                    </section>

                    
                    
                </div>
            </div>
        </article>

        

    </div></div>]]>
            </description>
            <link>https://enzari.com/2020/07/ferrari-250-gto-kit-cars-could-be-coming-soon/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24474042</guid>
            <pubDate>Mon, 14 Sep 2020 19:23:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apprentice, Journeyman, and Master: The Medieval Guild (2018)]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 34 (<a href="https://news.ycombinator.com/item?id=24473869">thread link</a>) | @bribri
<br/>
September 14, 2020 | https://blog.philosophicalsociety.org/2018/01/10/apprentice-journeyman-and-master-the-medieval-guild/ | <a href="https://web.archive.org/web/*/https://blog.philosophicalsociety.org/2018/01/10/apprentice-journeyman-and-master-the-medieval-guild/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-3933">
<a href="https://blog.philosophicalsociety.org/category/history/">History</a>
	
	<section>
<p><span>I became fascinated with guilds when I moved to Germany. Being an avid reader of all medieval history I could get my hands on, I was well aware of the <em>Hansa</em> (slang for Hanseatic) League’s rise in the 1100s in northern Europe – mainly Germany. The word&nbsp;<em>Hansa</em> is Low German for “convoy” – thus, this league of towns and merchant houses was a consolidated group of merchants and businessmen who strove to create their own answer to feudal Europe. The members of the League had their own legal system, their own armies, and had direct allegiance to the Holy Roman Emperor. Landed Barons and Earls did not stand a chance.</span></p>
<p><span>The rise of these independent towns and merchants also gave rise to the guild system. Where the Hansa League was a merchant’s guild, craft guilds began in a like manner around the same time period. The craft guilds were a system to protect knowledge that heretofore had been handed down by father to son, or nephew, or random laborer. Prior to the rise of larger towns and cities, just after the Dark Ages, it was difficult to form a “convoy” of skilled craftsmen because there was no system or codification of work. As towns grew, and more independent towns grew, the need for a steady flow of crafts began. Thus, craft guilds provided the goods and merchants fed the need: the beginning of real capitalism.</span></p>
<p><span>Both types of guilds, Merchants and Craftsmen provided a variety of important functions, very similar: “They established a monopoly of trade in their locality or within <img loading="lazy" data-attachment-id="3938" data-permalink="https://blog.philosophicalsociety.org/2018/01/10/apprentice-journeyman-and-master-the-medieval-guild/guilds1/" data-orig-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg" data-orig-size="962,1500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;NX530\/NX635\/BX535\/SX535&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="guilds1" data-image-description="" data-medium-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg?w=192" data-large-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg?w=639" src="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg?w=271&amp;h=422" alt="guilds1" width="271" height="422" srcset="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg?w=271&amp;h=422 271w, https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg?w=542&amp;h=844 542w, https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg?w=96&amp;h=150 96w, https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds1.jpg?w=192&amp;h=300 192w" sizes="(max-width: 271px) 100vw, 271px">a particular branch of industry or commerce; they set and maintained standards for the quality of goods and the&nbsp;<a id="___id15" href="https://www.merriam-webster.com/dictionary/integrity">integrity</a>&nbsp;of trading practices in that industry; they worked to maintain stable prices for their goods and commodities; and they sought to control town or city governments in order to further the interests of the guild members and achieve their economic objectives.” <em>(Encyclopedia Britannica)&nbsp;</em></span></p>
<p><span>The craft guilds are of interest to Freemasons and those interested in Freemasonry because they have like terms. The use of the terms of Apprentice, Journeyman, and Master is well known, with slight variation, to Freemasons as well as to any member of a guild in the middle ages in Europe. These were the common terms to designate the proficiency of a laborer.&nbsp;Guilds in Medieval Europe employed the apprenticeship system of hierarchy, which has its origins in the Roman Empire and possibly Mesopotamia.&nbsp; From young ages, boys (and in some cases women, depending on the profession) were brought in to learn the craft, ensuring that an adequate number of skilled craftsmen were able to supply the growing towns with goods and services of equal and competitive quality. Standardization and quality were the driving force behind a steady stream of apprentices bonded to masters, and journeymen sent out to learn their craft.</span></p>
<p><span>The Apprentice was one who “apprehends” or takes hold of learning. One might also say it is one who is taken hold of, as he is bound to a Master to learn his trade. The term Apprentice does come from the Latin root of “apprehend,” and it does indicate in the <img data-attachment-id="3935" data-permalink="https://blog.philosophicalsociety.org/2018/01/10/apprentice-journeyman-and-master-the-medieval-guild/guilds4/" data-orig-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds4-e1515625355297.jpg" data-orig-size="307,321" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="guilds4" data-image-description="" data-medium-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds4-e1515625355297.jpg?w=287" data-large-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds4-e1515625355297.jpg?w=307" src="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds4-e1515625355297.jpg?w=639" alt="guilds4" srcset="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds4-e1515625355297.jpg 307w, https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds4-e1515625355297.jpg?w=143 143w, https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds4-e1515625355297.jpg?w=287 287w" sizes="(max-width: 307px) 100vw, 307px">most basic terms “someone learning.” An Apprentice was one who learned for a specified amount of time, learning specific skills and techniques of both hand and mind. He was, however, not allowed to be an official member of the guild until he had satisfied the requirements set out by the guild and even more importantly, by his Master.</span></p>
<p><span>The word Journeyman has a more interesting etymology. A Journeyman is someone who does work for “another.” That is, he is an Apprentice who has been sent out into the world to work, generally for other Masters or shops. An original meaning of the word “journey” was “a day” and a Journeyman was someone who performed work for a day and then moved on, as it were. The Journeyman was no longer bonded to a single Master and could choose the work they wished to do. The Journeyman’s former Master, however, still guaranteed the Journeyman’s character and abilities. Shame on the Journeyman meant shame to the Master, and to the guild in which the Journeyman had become a member. Perfection in work and bearing meant the same perfection to the associated Master and Guild.</span></p>
<p><span>Master is an even more interesting term as used in the same time period (mid-16th Century) as these other two definitions. At this time, the term Master meant “one who controls or has authority.” It also meant “one who subjugates.” This means that a Master has perfected and honed his skills to the point of being competent in all areas of his craft, under all variety of conditions, with a variety of materials. A guild member might go their whole life being a Journeyman; Master’s were few and far between. A Master, then, is partially self-determined and partially a bestowed title.&nbsp;“A journeyman who could provide proof of his technical competence (the “masterpiece”) might rise in the guild to the status of a master, whereupon he could set up his own workshop and hire and train apprentices. The masters in any particular craft guild tended to be a select inner circle<em><img loading="lazy" data-attachment-id="3936" data-permalink="https://blog.philosophicalsociety.org/2018/01/10/apprentice-journeyman-and-master-the-medieval-guild/guilds3/" data-orig-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds3.gif" data-orig-size="447,434" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="guilds3" data-image-description="" data-medium-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds3.gif?w=300" data-large-file="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds3.gif?w=447" src="https://philosophicalsocietyblog.files.wordpress.com/2018/01/guilds3.gif?w=221&amp;h=214" alt="guilds3" width="221" height="214"></em> who possessed not only technical competence but also proof of their wealth and social position.”&nbsp;<em>(Encyclopedia Britannica)&nbsp;</em></span></p>
<p><span>The interesting thing is that the main function of the guild was not to produce goods or fix techniques ‘per se’ – those were supporting roles to the main function of the guild. The guild existed to serve a singular purpose:&nbsp;to train Apprentices. Bringing in and bonding Apprentices ensured a continuity of quality workmanship, consistent goods being produced, and traditions being maintained. Thus, the role of the Guild was not to form rules, mores, regulations, and laws with respect to their crafts; their role was to introduce a system of art or craft to a new individual, to instill in them the idea of standards, quality, consistency, and perfection. Their goal was to expand their horizons and technical knowledge in a specific area so they might provide for their towns as well as their families. Guilds and guild members served the community as much as they served themselves.</span></p>
	<div>
		<p>
Categories: <a href="https://blog.philosophicalsociety.org/category/history/" rel="category tag">History</a>		</p>
<p>Tagged as: <a href="https://blog.philosophicalsociety.org/tag/apprentice/" rel="tag">Apprentice</a>, <a href="https://blog.philosophicalsociety.org/tag/co-freemasonry/" rel="tag">Co-Freemasonry</a>, <a href="https://blog.philosophicalsociety.org/tag/co-masonry/" rel="tag">Co-Masonry</a>, <a href="https://blog.philosophicalsociety.org/tag/co-masons/" rel="tag">Co-Masons</a>, <a href="https://blog.philosophicalsociety.org/tag/craftsmen/" rel="tag">Craftsmen</a>, <a href="https://blog.philosophicalsociety.org/tag/encyclopedia-britannica/" rel="tag">Encyclopedia Britannica</a>, <a href="https://blog.philosophicalsociety.org/tag/freemason/" rel="tag">Freemason</a>, <a href="https://blog.philosophicalsociety.org/tag/freemasonry/" rel="tag">Freemasonry</a>, <a href="https://blog.philosophicalsociety.org/tag/freemasons/" rel="tag">Freemasons</a>, <a href="https://blog.philosophicalsociety.org/tag/hansa/" rel="tag">Hansa</a>, <a href="https://blog.philosophicalsociety.org/tag/journeyman/" rel="tag">Journeyman</a>, <a href="https://blog.philosophicalsociety.org/tag/master/" rel="tag">Master</a>, <a href="https://blog.philosophicalsociety.org/tag/the-medieval-guild/" rel="tag">The Medieval Guild</a>, <a href="https://blog.philosophicalsociety.org/tag/women/" rel="tag">Women</a></p>	</div>
	</section>
</article></div>]]>
            </description>
            <link>https://blog.philosophicalsociety.org/2018/01/10/apprentice-journeyman-and-master-the-medieval-guild/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24473869</guid>
            <pubDate>Mon, 14 Sep 2020 19:08:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WebRTC Samples]]>
            </title>
            <description>
<![CDATA[
Score 174 | Comments 42 (<a href="https://news.ycombinator.com/item?id=24473864">thread link</a>) | @simonpure
<br/>
September 14, 2020 | https://webrtc.github.io/samples/ | <a href="https://web.archive.org/web/*/https://webrtc.github.io/samples/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>

        <p>
            This is a collection of small samples demonstrating various parts of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API">WebRTC APIs</a>. The code for all
            samples are available in the <a href="https://github.com/webrtc/samples">GitHub repository</a>.
        </p>

        <p>Most of the samples use <a href="https://github.com/webrtc/adapter">adapter.js</a>, a shim to insulate apps
            from spec changes and prefix differences.</p>

        <p><a href="http://www.webrtc.org/testing" title="Command-line flags for WebRTC testing">https://webrtc.org/testing</a>
            lists command line flags useful for development and testing with Chrome.</p>

        <p>Patches and issues welcome! See <a href="https://github.com/webrtc/samples/blob/gh-pages/CONTRIBUTING.md">CONTRIBUTING.md</a>
            for instructions.</p>

        <p><strong>Warning:</strong> It is highly recommended to use headphones when testing these
            samples, as it will otherwise risk loud audio feedback on your system.</p>
    </section></div>]]>
            </description>
            <link>https://webrtc.github.io/samples/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24473864</guid>
            <pubDate>Mon, 14 Sep 2020 19:07:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Repl.it Database]]>
            </title>
            <description>
<![CDATA[
Score 310 | Comments 111 (<a href="https://news.ycombinator.com/item?id=24472941">thread link</a>) | @amasad
<br/>
September 14, 2020 | https://blog.repl.it/database | <a href="https://web.archive.org/web/*/https://blog.repl.it/database">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>Repl.it is already the best place to build your apps. But there was a missing piece: where do you store your data?</p>
<p>We’re introducing Repl.it Database: a fast, free, and easy key-value store that’s built into every repl.</p>
<p>All you have to do is import one of our packages for <a href="https://pypi.org/project/replit/">Python</a>, <a href="https://www.npmjs.com/package/@replit/database">Node.js</a>, or <a href="https://github.com/replit/database-go">Go</a>, and you can instantly start setting keys in your database.</p>
<p><img src="https://blog.repl.it/images/database/database1.gif" alt="Database"></p>
<p>Because Database is built-in, there is no setup, provisioning, or configuration. It's the fastest and easiest way to store data on Repl.it.</p>
<p>To get off the ground, fork our <a href="https://repl.it/@util/Database-Flask-comments-example">example Python and Flask emoji app</a> so that you can quickly get to hacking!</p>


<h2 id="key-value">Key-value</h2>
<p>Key-value databases are conceptually simple: they’re a flat map of keys to their values. There are no schemas, tables, or columns. There are only a few operations that you need to perform: set a key to a value, get a key’s value, delete a key, and search for keys.</p>
<p>Those simple operations are enough to support all kinds of applications, from blogs with posts and comments, to game backends with leaderboards, to <a href="https://repl.email/">email platforms</a>.</p>
<h2 id="multi-language">Multi-language</h2>
<p>We provide Database clients for <a href="https://pypi.org/project/replit/">Python</a>, <a href="https://www.npmjs.com/package/@replit/database">Node.js</a>, or <a href="https://github.com/replit/database-go">Go</a>. But you can talk to Database from any language over HTTP. Take a look at <a href="https://docs.repl.it/misc/database">the documentation</a> for more details.</p>
<p>In Python, our client serializes and deserializes dictionaries and lists so that you can use them to store more complex data:</p>
<p><img src="https://blog.repl.it/images/database/database2.gif" alt="Database"></p>
<h2 id="get-started">Get started</h2>
<p>Repl.it is the best place to start building your app. And Database is the easiest way to just jump in, get coding, and store your data without having to set anything up.</p>
<p>For more details on Database, click on the Database icon in your repl’s sidebar or <a href="https://docs.repl.it/misc/database">check out the documentation</a>.</p>
<p>With Database, you can build a fully-featured app entirely on Repl.it. We can’t wait to see what you create!</p>

	</div></div>]]>
            </description>
            <link>https://blog.repl.it/database</link>
            <guid isPermaLink="false">hacker-news-small-sites-24472941</guid>
            <pubDate>Mon, 14 Sep 2020 17:46:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The State of SwiftUI]]>
            </title>
            <description>
<![CDATA[
Score 135 | Comments 112 (<a href="https://news.ycombinator.com/item?id=24472063">thread link</a>) | @tosh
<br/>
September 14, 2020 | https://steipete.com/posts/state-of-swiftui/ | <a href="https://web.archive.org/web/*/https://steipete.com/posts/state-of-swiftui/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <p><img src="https://d33wubrfki0l68.cloudfront.net/2cc5b5dcbba58e6a8ab6be0fc5ba3f4135fc9844/bc970/assets/img/2020/fruta-swiftui/fruta-crash.png"></p><p>Apple released SwiftUI last year, and it’s been an exciting and wild ride. With iOS 14, a lot of the rough edges have been smoothed out — is SwiftUI finally ready for production?</p><h2 id="fruta-sample-app">Fruta Sample App</h2><p>Let’s look at <a href="https://developer.apple.com/documentation/app_clips/fruta_building_a_feature-rich_app_with_swiftui">Apple’s Fruta example</a>, a cross-platform feature-rich app that’s built completely in SwiftUI. It’s great that Apple is finally releasing a more complex application for this year’s cycle.</p><p>I took a look when Big Sur beta 1 came out, and it was pretty unpolished:</p><div><blockquote><div lang="en" dir="ltr"><p>Been clicking around for a minute with Apple's new Fruta SwiftUI sample. </p><p>Things jump around wildly, fav' doesn't work, and it crashes once you open a second window. I understand it's b1, but looking at how SwiftUI went last year I doubt this will all be fixed. <a href="https://t.co/zGRRYswRde">pic.twitter.com/zGRRYswRde</a></p></div>— Peter Steinberger (@steipete) <a href="https://twitter.com/steipete/status/1277623561604214784?ref_src=twsrc%5Etfw">June 29, 2020</a></blockquote></div><p>Since then, there have been many betas, and we’re nearing the end of the cycle, with the GM expected in October. So it’s time to look at Fruta again. And indeed, the SwiftUI team did a great job fixing the various issues: The toolbar is pretty reliable, the sidebar no longer jumps out, multiple windows works… however, <a href="https://twitter.com/steipete/status/1305054121523916806?s=21">views are still sometimes misaligned</a>, and it’s still fairly easy to make it crash on both <a href="https://twitter.com/steipete/status/1305051342596177921?s=21">macOS (FB8682269)</a> and <a href="https://twitter.com/steipete/status/1305052083989684224?s=21">iOS 14b8 (FB8682290)</a>.</p><h2 id="swiftui-attributegraph-crashes">SwiftUI AttributeGraph Crashes</h2><p>Most SwiftUI crashes are a result of either a diffing issue in AttributeGraph, or a bug with one of the bindings to the platform controls (AppKit or UIKit). Whenever you see <code>AG::Graph</code> in the stack trace, that’s SwiftUI’s AttributeGraph (written in C++), which takes over representing the view hierarchy and diffing. Crashes there are usually in this form:</p><div><p><code><table><tbody><tr><td><pre>1
</pre></td><td><pre> Fruta[3607:1466511] [error] precondition failure: invalid size for indirect attribute: 25 vs 24
</pre></td></tr></tbody></table></code></p></div><p>Googling for this error reveals that there are <a href="https://github.com/fermoya/SwiftUIPager/issues/60">a</a> <a href="https://developer.apple.com/forums/thread/129171">lot</a> <a href="https://stackoverflow.com/questions/58304009/how-to-debug-precondition-failure-in-xcode">of</a> <a href="https://www.reddit.com/r/SwiftUI/comments/fosrbf/precondition_failure_invalid_input_index/">similar</a> <a href="https://twitter.com/steipete/status/1258762457805455361">problems</a>. People sometimes do find workarounds via wrapping views into other views or changing the hierarchy. But mostly, we’re powerless, and this is something Apple needs to fix in its framework. Since SwiftUI ships as part of the OS, end users need to update their devices to get these fixes.</p><h2 id="platform-binding-crashes">Platform-Binding Crashes</h2><p>SwiftUI uses many components from AppKit and UIKit, which is a much better strategy than reinventing the wheel. These components are stateful and are synced with custom manager classes that perform the state diffing. These wrappers can cause issues, and as they’re written in Swift, there aren’t many possibilities to fix issues from the outside (unlike with swizzling in the earlier days).</p><p>Example: Removing a favorited item while it’s selected crashes in the AppKit binding that syncs the SwiftUI state with <code>NSTableView</code> (FB8684522).</p><blockquote data-conversation="none" data-dnt="true"><p lang="en" dir="ltr">Removing a favorite crashes the app immediately. <a href="https://t.co/i5wiMJr4XX">pic.twitter.com/i5wiMJr4XX</a></p>— Peter Steinberger (@steipete) <a href="https://twitter.com/steipete/status/1305075451711369216?ref_src=twsrc%5Etfw">September 13, 2020</a></blockquote><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td><pre>2020-09-13 10:31:25.483965+0200 Fruta[79371:2051792] [General] Row 0 out of row range [0--1] for rowViewAtRow:createIfNeeded:
2020-09-13 10:31:25.498144+0200 Fruta[79371:2051792] [General] (
	0   CoreFoundation                      0x00007fff20cdb0df __exceptionPreprocess + 242
	1   libobjc.A.dylib                     0x00007fff20b3d469 objc_exception_throw + 48
	2   AppKit                              0x00007fff237a7905 -[NSTableRowData rowViewAtRow:createIfNeeded:] + 675
	3   AppKit                              0x00007fff23813008 -[NSTableView viewAtColumn:row:makeIfNecessary:] + 29
	4   SwiftUI                             0x00007fff49565fc7 $s7SwiftUI19ListCoreCoordinatorC17selectionBehavior5atRow2inAA012PlatformItemC0V0L0V09SelectionG0VSgSi_So11NSTableViewCtF + 39
	5   SwiftUI                             0x00007fff49566b36 $s7SwiftUI19ListCoreCoordinatorC18selectionDidChange2inySo11NSTableViewC_tF + 2662
	6   SwiftUI                             0x00007fff49187850 $s7SwiftUI26NSTableViewListCoordinatorC05tableD19SelectionIsChangingyy10Foundation12NotificationVFTm + 112
	7   SwiftUI                             0x00007fff49187912 $s7SwiftUI26NSTableViewListCoordinatorC05tableD19SelectionIsChangingyy10Foundation12NotificationVFToTm + 114
	8   CoreFoundation                      0x00007fff20c56a6c __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 12
	9   CoreFoundation                      0x00007fff20cf23bb ___CFXRegistrationPost_block_invoke + 49
	10  CoreFoundation                      0x00007fff20cf232f _CFXRegistrationPost + 454
	11  CoreFoundation                      0x00007fff20c275ce _CFXNotificationPost + 723
	12  Foundation                          0x00007fff218ba5e2 -[NSNotificationCenter postNotificationName:object:userInfo:] + 59
	13  AppKit                              0x00007fff237ae588 -[NSTableView _sendSelectionChangedNotificationForRows:columns:] + 219
	14  AppKit                              0x00007fff2373b739 -[NSTableRowData _updateVisibleViewsBasedOnUpdateItems] + 4503
	15  AppKit                              0x00007fff2373a453 -[NSTableRowData _updateVisibleViewsBasedOnUpdateItemsAnimated] + 224
	16  AppKit                              0x00007fff2371a2dc -[NSTableRowData _doWorkAfterEndUpdates] + 95
	17  AppKit                              0x00007fff2371a19d -[NSTableView _endUpdateWithTile:] + 119
	18  SwiftUI                             0x00007fff49186759 $s7SwiftUI26NSTableViewListCoordinatorC011updateTableD0_4from2toySo0cD0C_xxtF + 1145
	19  SwiftUI                             0x00007fff4956c010 $s7SwiftUI19ListCoreCoordinatorC29updateTableViewAndVisibleRows_4from2toySo07NSTableH0C_xxtFyyXEfU_ + 304
	20  SwiftUI                             0x00007fff4956ccf5 $s7SwiftUI19ListCoreCoordinatorC24withSelectionUpdateGuardyyyyXEF + 53
	21  SwiftUI                             0x00007fff4956b2ff $s7SwiftUI19ListCoreCoordinatorC29updateTableViewAndVisibleRows_4from2toySo07NSTableH0C_xxtF + 79
</pre></td></tr></tbody></table></code></p></div><p>It’s likely there more bugs waiting to be discovered, but I only spent a few hours with Fruta and on writing up this article.</p><h2 id="performance">Performance</h2><p>On my 2,4 GHz 8-Core Intel Core i9 MacBook Pro, it takes longer than a second to update the main view when changing the selection. This feels sluggish, not to mention it’s significantly longer than even most websites — that load data via the network — need. Fruta has everything local. What’s so slow here? Let’s look at Instruments!</p><p><img src="https://d33wubrfki0l68.cloudfront.net/46551951d369616ff89d71678a98813dfcd2d94b/97d03/assets/img/2020/fruta-swiftui/instruments.png" alt=""></p><ul><li>Of the 10 seconds captured, 30 percent of them are used for the various retain/release and malloc calls in Swift and Objective-C.</li><li><code>NSAttributedString</code> shows up often in stack traces, which hints that text layout seems especially expensive.</li><li>The AttributeGraph SwiftUI layout engine seems to create a lot of throwaway objects. These might mostly be Swift structs, but they’re still expensive.</li><li>JPG decoding happens on the main thread, but it’s only responsible for less than 1 percent of the time spent here.</li><li>When checking Hide System Libraries, there’s basically no work done in Fruta’s business logic.</li><li>Sorting for Top Functions, we see that AppKit’s auto layout logic, combined with SwiftUI’s graph, is taking up a lot of time.</li><li>There seems to be a lot of unnecessary invalidation. For example, <code>AppKitToolbarCoordinator</code> adds a toolbar item, which triggers <code>NSHostingView.preferencesDidChange()</code>, causing everything to lay itself out once again, even though the toolbar size doesn’t change.</li></ul><p>The good news is there seem to be a lot of potential future optimizations possible to make this fast. Alternatively, there’s always the possibility of <a href="https://twitter.com/noahsark769/status/1304938866999046144?s=21">dropping out of SwiftUI for performance critical parts</a>.</p><p>This isn’t unique to Fruta. I’ve been taking a look at <a href="https://twitter.com/Dimillian">@Dimillian’s</a> RedditOS app, which is built with SwiftUI on macOS. He <a href="https://twitter.com/Dimillian/status/1301802048824979456">stopped development</a> because it’s so slow that it’s not shippable. I did some debugging with an earlier version of Big Sur where the app still somewhat worked:</p><div><blockquote><p lang="en" dir="ltr">The AppKit port of SwiftUI is... not very efficient. Been testing <a href="https://t.co/67UCuKmPts">https://t.co/67UCuKmPts</a> for a minute, 10% of the time it freezes on the main thread are just spent to... update toolbar buttons? It's a bit hard to measure because it crashes so quickly. <a href="https://t.co/hW4nNe0ydV">pic.twitter.com/hW4nNe0ydV</a></p>— Peter Steinberger (@steipete) <a href="https://twitter.com/steipete/status/1282655123244752897?ref_src=twsrc%5Etfw">July 13, 2020</a></blockquote></div><p>The general pattern here points to AppKit: The interaction between SwiftUI views and AppKit views <a href="https://twitter.com/fcbunn/status/1259078251340800000">seems to</a> be <a href="https://twitter.com/stuartcarnie/status/1301895206875181056">poor</a>. It’s important to understand that SwiftUI itself is fast — for many use cases it’s even faster than using <code>CALayer</code>, <a href="https://twitter.com/cocoawithlove/status/1143859576661393408">as @cocoawithlove proved</a> — and the UIKit port is by far faster and better than the AppKit port.</p><h2 id="update-for-ios-14-gm">Update for iOS 14 GM</h2><p>It’s still <a href="https://twitter.com/steipete/status/1306129037719269376?s=21">trivial</a> to crash the SwiftUI C++ AttributeGraph in Apple’s Fruta example on iOS 14 GM.</p><h2 id="conclusion">Conclusion</h2><p>If your target platform is iOS 14, you’re now good to go with hobby projects or individual screens in SwiftUI. I’m currently working on making our <a href="http://pspdfkit.com/">PDF SDK for iOS</a> easier to use with SwiftUI, and we’ll replace the settings/about screen of <a href="https://pdfviewer.io/">PDF Viewer</a> with a SwiftUI version.</p><p>I personally wouldn’t yet go all-in on SwiftUI for production apps, although the crash rate is likely manageable and Apple is actively improving things with every release. Remember that SwiftUI ships with the OS, not with your app, so any bug fixes will only help if your users update the OS.</p><p>Other ports are not so great. AppKit seems particularly troublesome, but I’ve also heard of big issues with tvOS. If you need to deploy your app to the Mac, use Catalyst, which is a much more stable binding and feels really good with Big Sur’s native mode, where content is no longer scaled.</p><p>If you’re curious about SwiftUI, <strong>please don’t let this dampen your enthusiasm</strong>. It’s extremely fun to write, it’s clearly the future at Apple, and all these issues will surely be resolved within a few years.</p></div></div>]]>
            </description>
            <link>https://steipete.com/posts/state-of-swiftui/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24472063</guid>
            <pubDate>Mon, 14 Sep 2020 16:30:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Debian-installer, mdadm configuration and the Bad Blocks Controversy]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 40 (<a href="https://news.ycombinator.com/item?id=24471544">thread link</a>) | @zdw
<br/>
September 14, 2020 | http://strugglers.net/~andy/blog/2020/09/13/debian-installer-mdadm-configuration-and-the-bad-blocks-controversy/ | <a href="https://web.archive.org/web/*/http://strugglers.net/~andy/blog/2020/09/13/debian-installer-mdadm-configuration-and-the-bad-blocks-controversy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2308">
	<!-- .entry-header -->

	<div>
        		<h3>MD and mdadm<a title="back to content" href="#Content-bal-title"> ^</a></h3>
<p>MD is the Linux kernel driver that is used for running software RAID arrays. <strong><code>mdadm</code></strong> is the software that you run to manage MD devices. They are both part of the same project.</p>
<h3>First, about the Bad Blocks List<a title="back to content" href="#Content-bal-title"> ^</a></h3>
<p>Since about 2010, MD has had a bad blocks log (BBL) feature. When it fails to read from an underlying device it will (sometimes?) mark that block as bad and read the correct data from a different device, and then forever more redirect reads away from those bad blocks. <strong>This feature defaults to being on</strong>.</p>
<p>One problem with this feature is that read errors can occur for many reasons besides permanent failure of part of a storage device. For example, it could be a failure of the backplane or controller that causes many read errors on multiple devices, or the devices could be reached over a network of some sort and temporary network problems could propagate errors.</p>
<p>Even if the particular part of the device is unreadable, the operating system is supposed to try to write the correct data over the top. This write will either clear the problem or else be redirected to a spare sector on the drive by the drive’s firmware. The operating system is not supposed to be taking on this role, the drives are, and when the drives fail to do so then the redundancy of the array is supposed to save the day.</p>
<p>Even worse, there are apparently bugs somewhere in the BBL code that cause a device’s BBL to be copied onto a new device when the array is rebuilt or a device replaced. Clearly it does not make sense for a new device to get a copy of another device’s BBL because they are inherently a per-device thing. So far there has been no successful intentional reproduction of this, only people unwittingly hitting it at the worst possible moments.</p>
<p><strong><code>mdadm</code></strong> doesn’t even try particularly hard to warn you if a new bad block is found. Unlike when a device fails, it doesn’t send you an email. The MD driver writes in the syslog about the bad block(s). There’s also no change to <strong>/proc/mdstat</strong>. You have to examine some files in sysfs.</p>
<p>As a result the current situation is that:</p>
<ul>
<li>there’s <a href="https://www.spinics.net/lists/raid/msg65522.html">some people who want the feature removed</a> as a bad idea that makes no sense in the modern era;</li>
<li>there’s <a href="https://www.spinics.net/lists/raid/msg65524.html">others</a> <a href="https://www.spinics.net/lists/raid/msg51381.html">who</a> want it defaulted to off;</li>
<li>there’s the RAID wiki which says that <a href="https://raid.wiki.kernel.org/index.php/The_Badblocks_controversy">the feature has merit but it also has bugs which must be fixed</a>;</li>
<li>there’s probably a very large number of mdadm users who have no opinion because they have no idea about this situation.</li>
</ul>
<p>No one seems to have made any progress on fixing any of this in 10 years.</p>
<h3>Doing something about it<a title="back to content" href="#Content-bal-title"> ^</a></h3>
<p>I’ll say right now that this story doesn’t (yet?) have a satisfying ending.</p>
<p>I’ve been aware of the “Bad Blocks Controversy” for about 5 years but I haven’t ever personally experienced any problems and it was always at the bottom of my list to look at. <a href="https://www.spinics.net/lists/raid/msg65522.html">Roy’s recent thread</a> spurred me into deciding that in future no MD array I created would have a BBL.</p>
<p>I also took the opportunity to deploy Sarah Newman’s <a href="https://github.com/prgmrcom/ansible-role-mdadm-bad-blocks">Ansible role which checks all array components have an empty BBL</a>. None of <a href="https://bitfolk.com/">BitFolk</a>‘s array components currently have any entries in their BBLs – phew!</p>
<h4>Removing an existing BBL<a title="back to content" href="#Content-bal-title"> ^</a></h4>
<p>Currently the only way to remove a BBL from an array component is to stop the array and then assemble it with an argument like this:</p>

<div><div><pre># mdadm --assemble /dev/mdX --update=no-bbl</pre></div></div>

<p>(<a href="http://strugglers.net/~andy/blog/2020/09/13/debian-installer-mdadm-configuration-and-the-bad-blocks-controversy/comment-page-1/#comment-1017218">This won’t work if a BBL currently has any entries</a>)</p>
<p>The big problem with this is that stopping the array obviously causes downtime for whatever is using it. If your root filesystem is on an MD array (and why wouldn’t it be, if you use MD?) then that means the entire server, and you’re having to do this from sort of rescue environment.</p>
<p><a href="https://www.spinics.net/lists/raid/msg65835.html">I have suggested that a config option be added</a> to remove a BBL on assembly, so that this will happen the next time the machine is rebooted. This does not appear to have provoked any interest.</p>
<p>Without that sort of assistance I don’t think I will be removing the BBL from any of my existing arrays — downtime is really painful and I can’t justify spending the extra time to boot into a rescue environment and manually assemble all arrays.</p>
<p><a href="https://news.ycombinator.com/item?id=24479235">Over on Hacker News Jakub Wilk said</a> that it could be done without downtime by faulting out an array member and adding it again, like this:</p>

<div><div><pre># mdadm /dev/md127 --fail /dev/sda --remove /dev/sda --re-add /dev/sda --update=no-bbl</pre></div></div>

<p>Unfortunately that didn’t work for me, neither on Ubuntu 18.04 nor Debian buster:</p>

<div><div><pre>$ sudo mdadm --fail /dev/md0 /dev/sdb1 --remove /dev/sdb1 --re-add /dev/sdb1 --update=no-bbl                                        
mdadm: set /dev/sdb1 faulty in /dev/md0   
mdadm: hot removed /dev/sdb1 from /dev/md0
mdadm: --re-add for /dev/sdb1 to /dev/md0 is not possible
$ sudo mdadm --add /dev/md0 /dev/sdb1 --update=no-bbl
mdadm: --update in Manage mode only allowed with --re-add.
$ sudo mdadm --add /dev/md0 /dev/sdb1
$ sudo mdadm --examine-badblocks /dev/sdb1
Bad-blocks list is empty in /dev/sdb1</pre></div></div>

<p>so I’m still looking in to that one.</p>
<h4>Avoiding the BBL at creation time<a title="back to content" href="#Content-bal-title"> ^</a></h4>
<p>So if the BBL cannot be easily removed, at least it can be prevented from ever existing, right? When Neil Brown, the previous MD maintainer, was asked in 2016 if the feature could be defaulted to off, <a href="https://www.spinics.net/lists/raid/msg51383.html">Neil said that putting this in the config file was as good as that</a>:</p>



<p>The thing is, it’s not as good as disabling it by default when you consider what many users’ experience is of running the <strong><code>mdadm</code></strong> command: they don’t run <strong><code>mdadm</code></strong>, something else runs it for them. I’d go as far as to say that the majority of uses of <strong><code>mdadm</code></strong> are done by helper scripts and installers, not by human beings.</p>
<p>If it’s a program that is running <strong><code>mdadm</code></strong> for you then you are going to have to find out how to set that <strong>mdadm.conf</strong> before it reads it.</p>
<p>Take for example my own process of installing <a href="https://debian.org/">Debian</a>. I do it by booting the <a href="https://wiki.debian.org/DebianInstaller">Debian Installer</a> <a href="https://www.debian.org/releases/stable/amd64/ch04s05">by PXE</a>. I have some pre-seeding done to answer a lot of the installer questions, but actually I do still do the disk partitioning stage in the installer’s text interface.</p>
<p>So there I was thinking this is actually going to be quite simple, because the Debian Installer is really lovely about letting you execute a shell and poke around. Surely all I am going to need to do is open a shell once and edit <strong>/etc/mdadm/mdadm.conf</strong> and then go back into the mdcfg menu and carry on, right? Oh dear me no.</p>
<p><a href="https://lists.debian.org/debian-boot/2020/09/msg00074.html">You can read the details of my wild ride</a> that involved me uploading a binary of <strong><code>strace</code></strong> into the d-i to run <strong><code>mdadm</code></strong> under to work out what was going on, but just the relevant discoveries are in this article for those who’d rather not.</p>
<h5><strong><code>mdadm</code></strong> in d-i uses a config file at <strong>/tmp/mdadm.conf</strong></h5>
<p>After quite a bit of confusion over why even arrays I created manually with the <strong><code>mdadm</code></strong> command in the d-i shell still had a BBL, I discovered that <a href="https://sources.debian.org/src/mdadm/4.1-6/debian/rules/?hl=37#L37">the <strong><code>mdadm</code></strong> binary in d-i is compiled to have its config at <strong>/tmp/mdadm.conf</strong></a>. I don’t know why, but probably there is a good reason.</p>
<p>(At this point a number of people responded, “that’s because everything else will be set read-only.” That’s not the case with debian-installer which runs entirely off of a tmpfs. It’s all writeable.)</p>
<h5>So just make the edit to <strong>/tmp/mdadm.conf</strong> then?</h5>
<p>Oh ho ho no. <a href="https://salsa.debian.org/installer-team/mdcfg/-/blob/master/mdcfg.sh#L443">Every time you go into the MD configuration section (mdcfg) it clobbers its own <strong>/tmp/mdadm.conf</strong></a>, and you can’t get to the “execute a shell” option without returning to the MD configuration section.</p>
<p>If you’re on something with multiple virtual consoles (like if you’re sitting in front of a conventional PC) then you could switch to one of those after you’ve entered the MD configuration part and modify <strong>/tmp/mdadm.conf</strong> then. I don’t have that option because I’m on a serial console.</p>
<p>There is an earlier option to load an installer component that enables one to continue the installation process over SSH. If you select that then you can SSH in to the running installer system so if you do that after you’ve entered the MD configuration bit in your main console then I guess you can then edit the config file and continue.</p>
<p>At this point though it’s all becoming a bit complicated. I was trying to avoid it but <strong>realistically I recommend just creating your MD arrays manually from the d-i shell</strong>. It’s less weirdness to remember.</p>
<p>If it’s a simple case where you’ve just got an <strong>sda</strong> and an <strong>sdb</strong> disk identically partitioned and you want to make a bunch of arrays on them, it can be a fairly legible shell session like:</p>

<div><div><pre>~ # mkdir -vp /etc/mdadm &amp;&amp; echo "CREATE bbl=no" &gt; /etc/mdadm/mdadm.conf
~ # for part in 1 2 3 5; do \
      mdadm --create \
            -v \
            --config=/etc/mdadm/mdadm.conf \
            /dev/md${part} \
            --level=1 \
            --raid-devices=2 \
            /dev/sd[ab]${part}; \
    done</pre></div></div>

<p>Do not try this until you understand exactly what it is doing.</p>
<p>It iterates the list 1, 2, 3, 5 (I use the 4th partition for something else) and makes arrays called <strong>mdX</strong> out of <strong>sdaX</strong> and <strong>sdbX</strong>. The <strong><code>mdadm</code></strong> binary is forced to use our config file that disables creation of a BBL.</p>
<p>You can verify that a BBL does not exist on any of the array components like this:</p>

<div><div><pre>~ # mdadm --examine-badblocks /dev/sda1
No bad-blocks list configured on /dev/sda1</pre></div></div>

<p>You should get identical output for every component. If a component <em>did</em> have a BBL it would output something like this:</p>

<div><div><pre>~ # mdadm --examine-badblocks /dev/sda1
Bad-blocks list is empty in /dev/sda1</pre></div></div>

<p>You can then exit the d-i shell and go back to the disk partitioning section. You won’t need the MD configuration part now but even if you do go into it, it should detect all your manually-created arrays.</p>
<h4>How to make progress?<a title="back to content" href="#Content-bal-title"> ^</a></h4>
<p>All of this isn’t great but at least it’s fairly easy to pause the Debian installer and take some manual action. I suspect users of other Linux distributions may not be so lucky, and so I too think it would be a good idea if this buggy feature was disabled by default, or at least if there were a way to tell <strong><code>mdadm</code></strong> to remove the BBL on assembly.</p>
<p>In fact I would very much like to be able to tell it to remove the BBL on assembly so that I can disable the BBL feature on …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://strugglers.net/~andy/blog/2020/09/13/debian-installer-mdadm-configuration-and-the-bad-blocks-controversy/">http://strugglers.net/~andy/blog/2020/09/13/debian-installer-mdadm-configuration-and-the-bad-blocks-controversy/</a></em></p>]]>
            </description>
            <link>http://strugglers.net/~andy/blog/2020/09/13/debian-installer-mdadm-configuration-and-the-bad-blocks-controversy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24471544</guid>
            <pubDate>Mon, 14 Sep 2020 15:48:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Home Server Room Power Upgrade and Multi-Room UPS]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 85 (<a href="https://news.ycombinator.com/item?id=24471434">thread link</a>) | @monstermunch
<br/>
September 14, 2020 | https://blog.networkprofile.org/home-server-room-power-upgrade-multi-room-ups/ | <a href="https://web.archive.org/web/*/https://blog.networkprofile.org/home-server-room-power-upgrade-multi-room-ups/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.networkprofile.org/content/images/size/w300/2020/09/2020-09-10-16.25.03-1.JPG 300w,
                            https://blog.networkprofile.org/content/images/size/w600/2020/09/2020-09-10-16.25.03-1.JPG 600w,
                            https://blog.networkprofile.org/content/images/size/w1000/2020/09/2020-09-10-16.25.03-1.JPG 1000w,
                            https://blog.networkprofile.org/content/images/size/w2000/2020/09/2020-09-10-16.25.03-1.JPG 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.networkprofile.org/content/images/size/w2000/2020/09/2020-09-10-16.25.03-1.JPG" alt="Home Server Room Power Upgrade + Multi-room UPS">
            </figure>

            <section>
                <div>
                    <p>This post shows how I upgraded the power delivery to my home server room, as well as installing the infrastructure to replace 5 UPS's around my house with just one large UPS.</p><p><strong>Why Upgrade the power?</strong></p><p>The electrical in my home when I moved in was terrible, it was also Aluminum and has been incorrectly terminated by some house flipper, here is a great example of what I have come up against. Do you really want to use this outlet? Probably not.</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-05-17_12.40.16.jpg"></figure><p>The 15a circuit that powers the server room was also shared with the <em>refrigerator </em>for some reason. I have a pretty large fridge which pulls quite a lot of power when the compressor kicks on, this means my inbox is spammed with emails from my UPS complaining about the spikes in power when the compressor turns on and off</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-11-10_30_31-Inbox---sean@bondhou.com---Outlook.png"></figure><p>I finally reached the end when I charged some Milwaukee batteries in the server closet and it tripped the breaker, I decided to go all out and get a ton of power in the room.</p><p><strong>Why the multi room UPS setup? </strong></p><p>There are many reasons this makes sense, this addresses all of the issues I had with my old setup of having UPS's scattered around the house.</p><p><strong>Batteries</strong></p><p>No longer will I have to keep track of batteries in 5 different UPS's all with different expiration dates. It will also save me money as the total number of batteries is much less in one large UPS.</p><p><strong>Noise</strong></p><p>This seems crazy, but some UPS's like the APC SMT line make a slight hum all the time, its very quiet but in a silent room you can hear it, this is super annoying. With this setup the UPS can be as loud as it wants, its in my server rack in its own room</p><p><strong>Space</strong></p><p>Do I really want 2 UPS's sitting under my desk? No. It also lets me cable manage much better</p><p><strong>Load</strong></p><p>When me and my wife are playing PC games, the load can get to the upper limit of a single UPS, meaning I'd have to buy a second one, and then both UPS's would be only half loaded. By having one large UPS, I can size it properly for all the loads</p><p>There could be some drawbacks though, here is all I could come up with</p><p><strong>Single Point of failure</strong></p><p>By having one large UPS, if the UPS fails, everything goes down. I decided this was okay, as my entire network lives in the closet and is only powered by a single UPS anyway, so if the network goes down, everything else is essentially down anyway. So I felt like there really wasn't any increased risk here. Also, UPS's in general are pretty bulletproof, especially enterprise grade units.</p><p><strong>Code compliance</strong></p><p>There are several points here that probably don't comply with code. The fact that an extension cord has been brought into a permanent circuit is probably one of them. I decided this wasn't a real risk as that SOOW cord is 1000x tougher than romex. I would argue that romex in the wall is of greater risk of getting damaged from someone running a screw or a nail to hang a picture frame</p><p>9/14/2020 Update - I believe this is actually to code - <a href="https://www.electricallicenserenewal.com/Electrical-Continuing-Education-Courses/NEC-Content.php?sectionID=111.0">https://www.electricallicenserenewal.com/Electrical-Continuing-Education-Courses/NEC-Content.php?sectionID=111.0</a></p><p>The other one is that the outlets are now not AFCI protected. I am unsure if the UPS protects against this, but I don't think it does. This could possibly be resolved by running the UPS from an AFCI breaker, but I am unsure. Either way I don't really care about this part, the chance of that kind of failure is low, especially when I did a good job installing everything. Its also still a 1000000x safety improvement over the old wiring in the room</p><p>There also could be something said for the fact that if you shut the breaker off, the power keeps flowing from the UPS. This however is only a risk to people who don't know about the setup, and since its my house, everyone does. If I were to sell the house, I could simply remove the inlets.</p><p><strong>The Install</strong></p><p>First I had to figure out how exactly I was going to get UPS power from my server closet, to somewhere else. I found you can get pretty cheap Power Inlets which are often used for block heaters on cars, and for RV power inputs. I got one of these and drilled a hole in a blank metal wall plate, and made a pretty good inlet</p><p>You can buy this kind of thing pre-made for flush TV mounting, but they seem lower quality and are way more expensive.</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-05-19-19.51.58.JPG"></figure><p>I got the highest quality extension cord ends I could find so this would be fine plugged in 24/7. These are in there SUPER tight.</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-05-19-19.52.14.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-06-02-11.06.46.JPG"></figure><p>I then got myself a reel of 12/3 SOOW cable. This stuff is SUPER thick and SUPER tough. Its overkill for this in every way, but given that these will be hanging on the floor in the server room, I figured the tougher the better. As it turns out, buying good quality USA made extension cords is pretty much impossible, so you have to make your own</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-05-30-10.46.44.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-06-02-11.02.14.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-06-02-11.02.04.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-06-02-11.02.09.JPG"></figure><p>The downside with these super heavy duty cord ends is that they don't fit well in compact locations, like when I was testing with this SMT1500 UPS. As you can see, you can't use the outlets above and below</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-06-02-11.07.19.JPG"></figure><p>Next I had to find a way to mount all of these in the wall, plus the regular power oulets I wanted to run. Since they rely on the single metal plates, I can't use a 4 gang box that attaches to the stud. In the end I decided to use a piece of 3/4" inch plywood paired with some old work boxes that just clip into the hole. The ply wood will span the studs and get screwed in</p><p>I measured everything out, cut some holes with a holesaw and then finished up with my jigsaw</p><p>I decided I wanted the 4 inlets, a single gang for the 30a power I will supply, and two double boxes for the 20a circuits</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-08-14.54.45.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-08-14.54.13.JPG"></figure><p>Then I cut out the drywall in the server room, plus another hole on the other side to make thing easier. The hole on the other side was more to scout the correct position in the server room, and you could probably skip it</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-08-16.36.08.JPG"></figure><p>With that done, I simply screwed it in with 4 screws and inserted the old work boxes. As you can see, I also spray painted the wood white to somewhat match the wall</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-08-16.52.27.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-08-16.52.24.JPG"></figure><p>Its not the neatest thing in the world, but honestly it doesn't have to be.</p><p>I brought the cables down through the top of the wall through a few 1/2 holes. I used 12/2 Romex for all of the inlets and the 20a power circuits, and 10/2 for the 30a</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-10-11.29.20.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-08-20.04.14.JPG"></figure><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-08-20.03.10.JPG"></figure><p>Here it is with everything installed and labeled up</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-10-16.26.22.JPG"></figure><p>I went with the 30a in the middle for a large UPS, and then decided to pull 2 x 20a circuits. One for the server rack in general (Currently I don't have the 30a UPS) and then also an extra one for general use. This lets me plug whatever I want in, without affecting the power to the rack</p><p>Some may ask why the outlets are installed upside-down, its common in commercial settings to do this as it means if the cord sags down, only the ground prong will be exposed. Things can also get lodged between the two hot prongs if the outlet is the normal way up, like this from an image I stole from reddit</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/image.png"></figure><p>Here is the first test of the UPS power</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-10-16.25.03.JPG"></figure><p>And then all the way on the other side of the house, the dedicated outlet under the desk lights up</p><figure><img src="https://blog.networkprofile.org/content/images/2020/09/2020-09-10-16.24.40.JPG"></figure><p>Overall I am super pleased with how this has turned out. </p><p>If anyone has any comments or suggestions, feel free to email me from the contact page</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.networkprofile.org/home-server-room-power-upgrade-multi-room-ups/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24471434</guid>
            <pubDate>Mon, 14 Sep 2020 15:39:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Your Language Sucks, It Doesn’t Matter]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 58 (<a href="https://news.ycombinator.com/item?id=24471244">thread link</a>) | @Sindisil
<br/>
September 14, 2020 | https://matklad.github.io//2020/09/13/your-language-sucks.html | <a href="https://web.archive.org/web/*/https://matklad.github.io//2020/09/13/your-language-sucks.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Sep 13, 2020</p>
  <p>This post describes my own pet theory of programming languages popularity.
My understanding is that no one knows why some languages are popular and others aren’t, so there’s no harm done if I add my own thoughts to the overall confusion.
Obviously, this is all wild speculation and a just-so story without any kind of data backed research.</p>
<p>The central thesis is that the actual programming language (syntax, semantics, paradigm) doesn’t really matter.
What matters is characteristics of the runtime — roughly, what does memory of the running process look like?</p>
<p>To start, an observation.
A lot of software is written in vimscript and emacs lisp (<a href="https://magit.vc/">magit</a> being one example I can’t live without).
And these languages are objectively bad.
This happens even with less esoteric technologies, notable examples being PHP and JavaScript.
While JavaScript is great in some aspects (it’s the first mainstream language with lambdas!), it surely isn’t hard to imagine a trivially better version of it (for example, without two different <code>null</code>s).</p>
<p>This is a general rule — as soon as you have a language which is Turing-complete, and has some capabilities for building abstractions, people will just get the things done with it.
Surely, some languages are more productive, some are less productive, but, overall, FP vs OOP vs static types vs dynamic types doesn’t seem super relevant.
It’s always possible to overcome the language by spending some more time writing a program.</p>
<p>In contrast, overcoming language runtime is not really possible.
If you want to extend vim, you kinda have to use vimscript.
If you want your code to run in the browser, JavaScript is still the best bet.
Need to embed your code anywhere? GC is probably not an option for you.</p>
<p>This two observations lead to the following hypothesis:</p>
<div>
<table>
<tbody><tr>
<td>
<i title="Note"></i>
</td>
<td>
Languages generally become popular when they bring innovative runtime, or when they have runtime exclusivity.
The quality of the language itself is secondary.
</td>
</tr>
</tbody></table>
</div>
<p>Let’s see some examples which can be “explained” by this theory.</p>
<div>
<dl>
<dt>C</dt>
<dd>
<p>C has a pretty spartan runtime, which is notable for two reasons.
First, it was the first fast enough runtime for a high-level language.
It was possible to write the OS kernel in C, which had been typically done in assembly before that for performance.
Second, C is the language of Unix.
(And yes, I would put C into the “easily improved upon” category of languages. Null-terminated strings are just a bad design).</p>
</dd>
<dt>JavaScript</dt>
<dd>
<p>This language has been exclusive in the browsers for quite some time.</p>
</dd>
<dt>Java</dt>
<dd>
<p>This case I think is the most interesting for the theory.
A common explanation for Java’s popularity is “marketing by Sun”, and subsequent introduction of Java into University’s curricula.
This doesn’t seem convincing to me.
Let’s look at the 90’s popular languages (I am not sure about percentage and relative ranking here, but the composition seems broadly correct to me):</p>
<div>
<p><img src="https://matklad.github.io/assets/lang-pop.png" alt="lang pop">
</p>

</div>
<p>On this list, Java is the only non-dynamic cross-platform memory safe language.
That is, Java is both memory safe (no manual error-prone memory management) and can be implemented reasonably efficiently (field access is a load and not a dictionary lookup).
This seems like a pretty compelling reason to choose Java, irrespective of what the language itself actually looks like.</p>
</dd>
<dt>Go</dt>
<dd>
<p>One can argue whether focus on simplicity at the expense of everything else is good or bad, but statically linked zero dependency binaries definitely were a reason for Go popularity in the devops sphere.
In a sense, Go is an upgrade over “memory safe &amp; reasonably fast” Java runtime, when you no longer need to install JVM separately.</p>
</dd>
</dl>
</div>
<p>Naturally, there are also some things which are not explained by my hypothesis.
One is scripting languages.
A highly dynamic runtime with <code>eval</code> and ability to easily link C extensions indeed would be a differentiator, so we would expect a popular scripting language.
However, it’s unclear why they are Python and PHP, and not Ruby and Perl.</p>
<p>Another one is language evolutions: C++ and TypeScript don’t innovate runtime-wise, yet they are still major languages.</p>
<p>Finally, let’s make some bold predictions using the theory.</p>
<p><em>First</em>, I expect Rust to become a major language, naturally :)
This needs some explanation — on the first, blush, Rust is runtime-equivalent to C and C++, so the theory should predict just the opposite.
But I would argue that memory safety is a runtime property, despite the fact that it is, uniquely to Rust, achieved exclusively via language machinery.</p>
<p><em>Second</em>, I predict Julia to become more popular.
It’s pretty unique, runtime-wise, with its stark rejection of <a href="https://en.wikipedia.org/wiki/Ousterhout's_dichotomy">Ousterhout’s Dichotomy</a> and insisting that, yeah, we’ll just JIT highly dynamic language to suuuper fast numeric code at runtime.</p>
<p><em>Third</em>, I wouldn’t be surprised if Dart grows.
On the one hand, it’s roughly in the same boat as Go and Java, with memory safe runtime with fixed layout of objects and pervasive dynamic dispatch.
But the quality of implementation of the runtimes is staggering: it has first-class JIT, AOT and JS compilers.
Moreover, it has top-notch hot-reload support.
Nothing here is a breakthrough, but the combination is impressive.</p>
<p><em>Fourth</em>, I predict that Nim, Crystal and Zig (which is very interesting, language design wise) would not become popular.</p>
<p><em>Fifth</em>, I predict that Swift will be pretty popular on Apple hardware due to platform exclusivity, but won’t grow much outside of it, <em>despite</em> being very innovative in language design (generics in Swift are the opposite of the generics in Go).</p>
</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io//2020/09/13/your-language-sucks.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24471244</guid>
            <pubDate>Mon, 14 Sep 2020 15:24:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free hosting providers for static websites in 2020]]>
            </title>
            <description>
<![CDATA[
Score 77 | Comments 28 (<a href="https://news.ycombinator.com/item?id=24470458">thread link</a>) | @bojanvidanovic
<br/>
September 14, 2020 | https://devandgear.com/posts/18-free-hosting-providers-for-your-static-website-in-2020/ | <a href="https://web.archive.org/web/*/https://devandgear.com/posts/18-free-hosting-providers-for-your-static-website-in-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Let’s assume you made a static website made in <a href="https://gohugo.io/">Hugo</a>, <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://www.gatsbyjs.com/">Gatsby</a>, or <a href="https://hexo.io/">Hexo</a> for instance. Or maybe you made a JavaScript application in one of the popular frameworks <a href="https://reactjs.org/">ReactJS</a>, <a href="https://angular.io/">Angular</a>, <a href="https://vuejs.org/">Vue.js</a>, <a href="https://svelte.dev/">Svelte</a>… etc. It may be a simple side-project or just an app for learning, but it always
comes to the problem where to host it, which provider to use, and which
provider offers most features for free so you can show to everybody your work.</p>
<p>Well, it’s 2020 and it has never been easier to host your static website for
free. Each one differs in some way but essentially they all offer the same
service, so we created a list of 18 free hosting providers that you might
consider for your current or next project.</p>
<p>Are you using some of these providers? Let us know in the comments on your
experience with them.</p>
<h2 id="1-aws-s3httpsawsamazoncoms3">1. <a href="https://aws.amazon.com/s3">AWS S3</a></h2>
<p><a href="https://aws.amazon.com/s3">Amazon AWS</a> is probably one of the most known hosting providers on the internet,
even if you don’t choose AWS, chances are you’ll end up on AWS since many of
the providers below are built on top of them. So instead you may consider
hosting your website directly on AWS.</p>
<p>AWS is completely free for the first year of use, after that, you get charged
for what you use.</p>
<h3 id="free-plan-includes">Free plan includes:</h3>
<p>Upon sign-up, new AWS customers receive 5GB of Amazon S3 storage in the S3
Standard storage class; 20,000 GET Requests; 2,000 PUT, COPY, POST, or LIST
Requests; and 15GB of Data Transfer Out each month for one year.</p>
<h2 id="2-netlifyhttpswwwnetlifycom">2. <a href="https://www.netlify.com/">Netlify</a></h2>
<p><a href="https://www.netlify.com/">Netlify</a> gained a good reputation in the developers’ community for their
hassle-free service and a very generous plan with plenty of features. It’s an
all-in-one platform offering Analytics, Forms, Serverless functions, and much
more.</p>
<p>FYI, <a href="https://devandgear.com/">Dev &amp; Gear</a> is hosted on Netlify.</p>
<h3 id="free-plan-includes-1">Free plan includes:</h3>
<ul>
<li>100GB/month of bandwidth</li>
<li>300min/month of build time</li>
<li>Unlimited websites</li>
<li>Automated builds from Git</li>
<li>Deploy to global Edge network</li>
<li>Site previews for every push</li>
<li>Instant rollbacks to any version</li>
<li>Deploy static assets &amp; dynamic serverless functions</li>
<li>SSL</li>
</ul>
<h2 id="3-firebasehttpsfirebasegooglecom">3. <a href="https://firebase.google.com/">Firebase</a></h2>
<p>Although <a href="https://firebase.google.com/">Firebase</a> has all the features for you to launch a full-stack
application, it’s also a very convenient hosting provider. Very simple to use
with their <a href="https://firebaseopensource.com/projects/firebase/firebase-tools/">Firebase CLI tool</a>.</p>
<h3 id="free-plan-includes-2">Free plan includes:</h3>
<ul>
<li>10GB/month of bandwidth</li>
<li>10GB of storage</li>
<li>Custom domain</li>
<li>SSL</li>
<li>Unlimited websites</li>
</ul>
<h2 id="4-herokuhttpsherokucom">4. <a href="https://heroku.com/">Heroku</a></h2>
<p><a href="https://heroku.com/">Heroku</a> is free for non-commercial apps. It doesn’t offer hosting for static websites out-of-the-box but need some hacky tricks, check out <a href="https://medium.com/@agavitalis/how-to-deploy-a-simple-static-html-website-on-heroku-492697238e48">this tutorial</a> on how to host your static website.</p>
<h2 id="5-github-pageshttpspagesgithubcom">5. <a href="https://pages.github.com/">Github Pages</a></h2>
<p><a href="https://pages.github.com/">Github Pages</a> is a very popular choice for
non-commercial projects. It’s free where you get to host one site per GitHub account and organization, and unlimited project sites.</p>
<h3 id="free-plan-includes-3">Free plan includes:</h3>
<ul>
<li>Custom domain</li>
<li>SSL</li>
<li>Bulid on deploy</li>
</ul>
<h2 id="6-gitlab-pageshttpsdocsgitlabcomeeuserprojectpages">6. <a href="https://docs.gitlab.com/ee/user/project/pages/">Gitlab Pages</a></h2>
<p><a href="https://docs.gitlab.com/ee/user/project/pages/">Gitlab Pages</a> is free forever with no limits, but the website needs to be in GitLab repository.</p>
<h3 id="free-plan-includes-4">Free plan includes:</h3>
<ul>
<li>Use for any personal or business website.</li>
<li>Use any Static Site Generator (SSG) or plain HTML.</li>
<li>Create websites for your projects, groups, or user account.</li>
<li>Host your site on your own GitLab instance or on GitLab.com for free.</li>
<li>Connect your custom domains and TLS certificates.</li>
<li>Attribute any license to your content.</li>
</ul>
<h2 id="7-vercelhttpsvercelcom">7. <a href="https://vercel.com/">Vercel</a></h2>
<p><a href="https://vercel.com/">Vercel</a>, previously known as Zeit, focuses a lot on
end-user performances. It’s a platform specificaly built for front-end
developers.</p>
<h3 id="free-plan-includes-5">Free plan includes:</h3>
<ul>
<li>Custom domain</li>
<li>SSL</li>
<li>Continuous Deployment with Git</li>
<li>Unlimited websites &amp; APIs</li>
<li>Serverless Functions in Node.js, Go, and more</li>
</ul>
<h2 id="8-surgehttpssurgesh">8. <a href="https://surge.sh/">Surge</a></h2>
<p><a href="https://surge.sh/">Surge</a> has been around for quite some time and developers
love it for its simplicity to instantly deploy projects using their command-line tool <a href="https://surge.sh/help/getting-started-with-surge">Surge</a>. It provides
a plentiful of features for hassle-free front-end development.</p>
<h3 id="free-plan-includes-6">Free plan includes:</h3>
<ul>
<li>Free custom domain support</li>
<li>Free SSL for surge.sh subdomains</li>
<li>pushState support for single page apps</li>
<li>Custom 404.html pages</li>
<li>Barrier-free deployment through the CLI</li>
<li>Easy integration into your Grunt toolchain</li>
<li>Cross-origin resource support</li>
</ul>
<h2 id="9-renderhttpsrendercom">9. <a href="https://render.com/">Render</a></h2>
<p><a href="https://render.com/">Render</a> is a fully-managed cloud platform where you can
host static sites, backend APIs, databases, cron jobs, and all your other apps
in one place.</p>
<h3 id="free-plan-includes-7">Free plan includes:</h3>
<ul>
<li>Lightning-fast CDN</li>
<li>Automatic continuous deploys from Git</li>
<li>Custom domains with fully managed SSL</li>
<li>Unlimited collaborators</li>
<li>Unlimited custom domains</li>
<li>Automatic Brotli compression for faster sites</li>
<li>Native HTTP/2 support</li>
<li>Automatic HTTP → HTTPS redirects</li>
<li>Custom URL redirects and rewrites</li>
<li>100 GB/month bandwidth included</li>
</ul>
<h2 id="10-stormkithttpswwwstormkitio">10. <a href="https://www.stormkit.io/">Stormkit</a></h2>
<p><a href="https://www.stormkit.io/">Stormkit</a> is specialized for JavaScript apps, offering powerful infrastructure for modern apps by simplifing and automating complex processes over the entire life cycle of a JavaScript application.</p>
<h3 id="free-plan-includes-8">Free plan includes:</h3>
<ul>
<li>1 app</li>
<li>1 team seat</li>
<li>1m requests (per app)</li>
<li>50 GB bandwidth (per app)</li>
<li>Unlimited domains</li>
<li>Unlimited deployments</li>
<li>Unlimited environments</li>
<li>TLS certificates included</li>
</ul>
<h2 id="11-microsoft-azurehttpsazuremicrosoftcomen-usservicesapp-servicestatic">11. <a href="https://azure.microsoft.com/en-us/services/app-service/static/">Microsoft Azure</a></h2>
<p><a href="https://azure.microsoft.com/en-us/services/app-service/static/">Microsoft Azure</a> Static Web Apps is a relatively new service from Microsoft which still has not defined pricing, but free in preview.</p>
<h3 id="free-plan-includes-9">Free plan includes:</h3>
<ul>
<li>Productivity from local development to GitHub native workflows for CI/CD</li>
<li>Managed global availability for static content</li>
<li>Dynamic scale for serverless APIs</li>
<li>Streamlined management including custom domain configuration and authentication and authorization</li>
</ul>
<h2 id="12-hostmanhttpshostmancom">12. <a href="https://hostman.com/">Hostman</a></h2>
<p><a href="https://hostman.com/">Hostman</a> is full-stack hosting provider that works on
top of AWS and DigitalOcean to provide the best reliability possible, making it
painless to host and manage your application with plenty of features available. It’s also pretty great for
static websites on a free plan.</p>
<h3 id="free-plan-includes-10">Free plan includes:</h3>
<ul>
<li>Automatic deploys from Github, Bitbucket or Gitlab</li>
<li>Blazing-fast CDN</li>
<li>Free domain and SSL out of the box</li>
<li>Slack integration</li>
<li>Unlimited collaborators</li>
<li>100GB/month bandwidth</li>
</ul>
<h2 id="14-oracle-cloudhttpswwworaclecomcloudstorage">14. <a href="https://www.oracle.com/cloud/storage/">Oracle Cloud</a></h2>
<p>Well, <a href="https://www.oracle.com/">Oracle Cloud</a> does not need much introduction, besides
offering the massive hosting infrastructure it’s also a place you should
consider to host projects with low traffic at no cost.</p>
<h3 id="free-plan-includes-11">Free plan includes:</h3>
<ul>
<li>1GB/month outbound data transfer</li>
<li>10k requests/month</li>
<li>1GB storage capacity per month</li>
</ul>
<h2 id="15-detahttpswwwdetash">15. <a href="https://www.deta.sh/">Deta</a></h2>
<p><a href="https://www.deta.sh/">Deta</a> is a relatively new Cloud service for building fast applications offering a generous free plan, but the Deta Drive service is still in development which allows you to upload, host, and serve images and files, so keep an eye on this startup.</p>
<h3 id="free-plan-includes-12">Free plan includes:</h3>
<ul>
<li>Unlimited Databases</li>
<li>2 GB Storage</li>
<li>25k requests/month</li>
</ul>
<h2 id="16-fosshosthttpsfosshostorg">16. <a href="https://fosshost.org/">Fosshost</a></h2>
<p><a href="https://fosshost.org/">Fosshost</a> is available only for free and open source software community. If you have a free open source project, then you should
consider this provider.</p>
<h2 id="17-flyiohttpsflyio">17. <a href="https://fly.io/">Fly.io</a></h2>
<p><a href="https://fly.io/">Fly.io</a> is a platform for applications that need to run
globally. It runs your code close to users and scales compute in cities where
your app is busiest. But you can also run a static website for free! Fly gives you a $10 montly credit to use for your website.</p>
<h2 id="18-aerobatichttpswwwaerobaticcom">18. <a href="https://www.aerobatic.com/">Aerobatic</a></h2>
<p><a href="https://www.aerobatic.com/">Aerobatic</a> is specifialy built for static websites made in Jekyll, Hugo, Hexo,
Gatsby… etc. By offering blazing fast performance on a higly tuned,
purpose-built CDN.</p>
<p>Every new website has 30 day trial to test out all Aerobatic features, after
that features like custom domain name and SSL starts at $15/month</p>
<h3 id="free-plan-includes-13">Free plan includes:</h3>
<ul>
<li>Unlimited deployments to <a href="https://your-site-name.aerobaticapp.com/">https://your-site-name.aerobaticapp.com</a></li>
</ul>
<h2 id="bonus-self-hosting-on-raspberry-pihttpsamznto2zrz2xe">BONUS. <a href="https://amzn.to/2Zrz2XE">Self-hosting on Raspberry Pi</a></h2>
<p>If none of the providers listed above works for you, then you might consider
going self-hosted which definitely has its strong points. Great for small
projects and learning, giving you an opportunity to get your hands on the server do
some fine-tuning and optimizations. There are plenty of tutorials on the
internet, but you might want to start from the <a href="https://www.raspberrypi.org/documentation/remote-access/web-server/">Raspberry Pi tutorial</a>.</p>

</div></div>]]>
            </description>
            <link>https://devandgear.com/posts/18-free-hosting-providers-for-your-static-website-in-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24470458</guid>
            <pubDate>Mon, 14 Sep 2020 14:21:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Org-mode 9.4 is out. Can you help?]]>
            </title>
            <description>
<![CDATA[
Score 188 | Comments 112 (<a href="https://news.ycombinator.com/item?id=24470336">thread link</a>) | @bzg
<br/>
September 14, 2020 | https://bzg.fr/en/org-mode-9.4-is-out-can-you-help.html | <a href="https://web.archive.org/web/*/https://bzg.fr/en/org-mode-9.4-is-out-can-you-help.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
            

            <div id="container">


<div>
    <article itemscope="" itemtype="http://schema.org/BlogPosting">
        

        <div itemprop="articleBody">
    

    <p>(You can Discuss this post <a href="https://news.ycombinator.com/item?id=24470336" title="on Hacker News">on Hacker News</a> or <a href="https://www.reddit.com/r/emacs/comments/ispqm8/org_94_is_out_can_you_help/" title="on reddit.com">on reddit.com</a>.)</p>

<p>Org 9.4 is out.  <a href="https://orgmode.org/Changes.html" title="Enjoy">Enjoy</a>!</p>

<p>Most of the time, when you hear that a free software project is
struggling, it is too late.  E.g. both <a href="https://www.reddit.com/r/emacs/comments/ip17pu/looking_for_a_maintainer_for_pdftoolstablist/" title="pdf-tools">pdf-tools</a> and <a href="https://github.com/emacs-helm/helm/issues/2386" title="helm">helm</a> don't have a
maintainer since a few days: did you see this coming?</p>

<p>Org is doing quite well, but I feel we are at a turning point: either
we attract more contributors and we can afford to fix more bugs and
deliver new releases, or we might get overwhelmed by user requests and
lose both our energy and our motivation to continue.</p>

<p>Of course, part of this problem is my limited free time over the past
few years: don't worry, I am no <a href="https://en.wikipedia.org/wiki/Benevolent_dictator_for_life" title="BDFL">BDFL</a> and I will soon step down as the
maintainer.  Also, other core contributors have been more active than
I was able to be, so I guess my feeling is still valid, even for when
I won't be contributing anymore.</p>

<p>I think it boils down to this: we are not very good at <strong>helping you
help us</strong>.  So, here is my modest attempt at getting better at this:</p>

<ul>
<li>If <strong>you are a power user</strong> but no Elisp hacker, can you <a href="https://lists.gnu.org/mailman/listinfo/emacs-orgmode" title="subscribe to</li>
  the mailing list">subscribe to</a></li><a href="https://lists.gnu.org/mailman/listinfo/emacs-orgmode" title="subscribe to</li>
  the mailing list">
  the mailing list</a> and help answering questions and reproducing bug
  reports?  I cannot insist enough on this: it really helps <em>a lot</em>.
</ul>

<p>Of course, you are also welcome to <a href="https://orgmode.org/worg/org-web-social.html" title="help people on Stackoverflow and
  on Reddit">help people on Stackoverflow and
  on Reddit</a>, but <em>upstream help</em> on the mailing list is decisive to let
  code contributors focus on their contributions.</p>

<ul>
<li>If <strong>you are an Elisp hacker</strong>, can you help us fix bugs?  Here is a</li>
  list of <a href="https://updates.orgmode.org/#bugs" title="confirmed bugs">confirmed bugs</a> that you can <a href="https://updates.orgmode.org/feed/bugs" title="subscribe to (as RSS)">subscribe to (as RSS)</a>.
</ul>

<ul>
<li>If you just want to <strong>help occasionally</strong>, here are <a href="https://updates.orgmode.org/#help" title="our requests for</li>
  help">our requests for</a></li><a href="https://updates.orgmode.org/#help" title="our requests for</li>
  help">
  help</a> that you also can <a href="https://updates.orgmode.org/feed/help" title="subscribe to">subscribe to</a>.
</ul>

<ul>
<li>If you have <strong>better ideas</strong> on how to let anyone contribute more, can</li>
  you send a patch against <a href="https://orgmode.org/worg/org-contribute.html" title="the org-contribute page">the org-contribute page</a>?  See <a href="https://code.orgmode.org/bzg/worg/" title="worg.git">worg.git</a>.
</ul>

<ul>
<li>If money is not an issue for you, can you <a href="https://orgmode.org/worg/donate.html" title="make a donation">make a donation</a>?  Yes, it</li>
  does help.
</ul>

<p>Also, if <strong>you already contribute</strong> to Org with code, emails on the list
  or contributions to worg, and if money is a factor for you, please
  don't be shy and add yourself to <a href="https://orgmode.org/worg/donate.html" title="the donation page">the donation page</a>.</p>

<ul>
<li>If <strong>you have feature requests</strong>, they are also welcome, but at the</li>
  bottom of this list.  If you or a friend of yours can work on a
  patch for your feature request, that'd be really appreciated!
</ul>

<p>In any case, feel free to <a href="https://lists.gnu.org/mailman/listinfo/emacs-orgmode" title="share your ideas on the list">share your ideas on the list</a> or to <a href="https://bzg.fr/en/about/" title="share
them with me">share
them with me</a> directly.</p>

</div>
        

    </article>
</div>

            </div>
        </div></div>]]>
            </description>
            <link>https://bzg.fr/en/org-mode-9.4-is-out-can-you-help.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24470336</guid>
            <pubDate>Mon, 14 Sep 2020 14:10:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Diary of a Data Engineer]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24469408">thread link</a>) | @ozkatz
<br/>
September 14, 2020 | https://lakefs.io/2020/09/14/diary-of-a-data-engineer/ | <a href="https://web.archive.org/web/*/https://lakefs.io/2020/09/14/diary-of-a-data-engineer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-397" itemtype="https://schema.org/CreativeWork" itemscope="itemscope"><div><div itemprop="text"><h3>Day 1: Finally, an easy one</h3><p>Got a pretty simple task for a change – read a new type of event stream generated by sales, and publish it to the data lake. Sounds like a straightforward ETL. I estimate this as one day of work. I can reuse a bunch of code from similar jobs and maybe finish even earlier.</p><p>This input data is being spilled from Kafka to S3, as Parquet files, which is nice, but oh boy – they decided to include every possible bit of information here – 350 different columns.</p><p>I need to understand both the schema and the properties – volume, column ranges, possible values and their meaning, and decide which fields I want to extract from this.</p><p>I also need to understand the SLA for this source – how often does it update? How much could it delay?&nbsp; Is it only ever appended to – or will history change?</p><p>Another important aspect – how does it relate to other data in the org? Can I join it using the columns I have? Do I need a lookup table? Does a “user_id” mean the same thing here as it does in other collections in the organization?</p><h3>Day 2: Let’s write a Spark Job</h3><p>Once I have all these sorted out, it’s time to do something useful with this data. Let’s start by aggregating it, pruning out the uninteresting columns, and partitioning it by date. Not sure which of the six columns that look like a date I should be using.&nbsp;</p><p>Guess I’ll need to sit down with the collection team a third time.</p><p>Now that I know what transformation I want to write, I remembered I have a Spark job that does something similar – I’ll modify it for this collection.&nbsp;</p><p>Spark is so expressive – it’s only 6 lines of code!</p><p>Well, 6 lines of business logic surrounded by 120 lines of wiring and boilerplate. Still nice though.</p><h3>Days 3-5: From sample data to real, somewhat big data</h3><p>So running on a small sample looks ok, lets run it on all of yesterday’s events!</p><p>Spark basically died. I’ll now spend the next day digging through logs: Spark executors, driver, yarn, stdout and stderr. Found a weird JVM error – <a href="https://stackoverflow.com/">StackOverflow</a> says I need to add some property to an xml file. Not sure I understand which one – all examples I found are for much older Hadoop versions. After 2 days of brute-forcing this setting into all possible XML files, I managed to complete successfully!</p><h3>Days 6-11: Let’s write a table</h3><p>So now, I need to think about how my output will be consumed: how often do I run it? Where do I keep its metadata? Do I provide an SLA? What guarantees do I give about the quality and validity of this dataset? Also, how do I keep it in sync with other related data? How long do I retain it for?</p><h3>Days 12-17: Going to Production</h3><p>Ok, so now we can deploy this to production!</p><p>I will write an Airflow DAG to orchestrate a daily job. When should it start? How do I know a full day is available for processing?</p><p>I’ll wait long enough and assume it’ll be fine. DAG deployed, scheduled for 3AM daily.</p><p>Maybe I’ll try to spin up a dedicated cluster on EMR?&nbsp;</p><p>4 days and 7 Zoom meetings later, I have pretty clear requirements. I think.</p><p>Last time I tried that, we ran out of IP addresses in the subnet. A time before that we hit the quota for the instance type I chose, so it couldn’t start running.</p><p>Let’s try just running it at 3:17 instead..? 🤷‍♂️</p><p>Next morning I see that our new collection is live! Airflow is green! Task is DONE.</p><p>Took only 6 lines of code, 17 Zoom meetings and 3 weeks to complete 🤦‍♀️</p><figure><img src="https://lakefs.io/wp-content/uploads/2020/09/Diary-2.png" alt="Diary of a Data Engineer" width="597" height="336" srcset="https://lakefs.io/wp-content/uploads/2020/09/Diary-2.png 960w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-300x169.png 300w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-768x432.png 768w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-24x14.png 24w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-36x20.png 36w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-48x27.png 48w" sizes="(max-width: 597px) 100vw, 597px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lakefs.io/wp-content/uploads/2020/09/Diary-2.png" data-srcset="https://lakefs.io/wp-content/uploads/2020/09/Diary-2.png 960w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-300x169.png 300w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-768x432.png 768w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-24x14.png 24w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-36x20.png 36w, https://lakefs.io/wp-content/uploads/2020/09/Diary-2-48x27.png 48w"><figcaption>Diary of a Data Engineer</figcaption></figure><h3>Day 21: Oh no, I forgot about monitoring.</h3><p>A few days later – i’m thinking, maybe it’d be a good idea to do a quick count(*) from Athena to make sure it still looks ok.</p><p>Damn. Yesterday’s partition is only about 10% the size of previous days. I better reply-all on my go-live email and tell everyone. Not even sure who else is using this. Seems like it’s gonna be one of THOSE days again…</p><p>Coming in the next day, I see my simple Spark job has been running for 8 hours already, barely making any progress. Apparently using a shared Spark cluster wasn’t the best idea – there are 12 other jobs scheduled to start at 3AM as well. Guess everyone else also thought 3 hours after midnight was a safe bet for daily data.</p><h5><strong><a href="https://twitter.com/ozkatz100">Oz Katz</a> is the co-creator of <a href="https://docs.lakefs.io/">lakeFS</a>, an open source platform that delivers resilience and manageability to object-storage based data lakes. Check out the project’s <a href="https://github.com/treeverse/lakeFS">GitHub repository</a> to learn more.</strong></h5></div><!-- .entry-content .clear --></div></article></div>]]>
            </description>
            <link>https://lakefs.io/2020/09/14/diary-of-a-data-engineer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24469408</guid>
            <pubDate>Mon, 14 Sep 2020 12:43:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I stay motivated working on my long-term project]]>
            </title>
            <description>
<![CDATA[
Score 233 | Comments 60 (<a href="https://news.ycombinator.com/item?id=24469292">thread link</a>) | @durmonski
<br/>
September 14, 2020 | https://durmonski.com/self-improvement/the-three-year-rule/ | <a href="https://web.archive.org/web/*/https://durmonski.com/self-improvement/the-three-year-rule/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
																					<div>
																										<p><span>Last updated:</span><time datetime="2020-09-15T04:42:19+00:00">15/09/2020</time></p>
<p><em>Do you know why social media sites are so addictive? Yeah, sure, let’s cover the basics: they’re flooded with funny memes and short-form videos that play themselves when you scroll, all of your friends are on social media, and besides, where else to nag about your recent Uber experience? But there is something else entirely that’s keeping you inside Facebook and Twitter like a crackhead inside a drugstore – immediate feedback. Sadly, this same thing, is also the reason you abandon your <a href="https://durmonski.com/life-advice/long-term-thinking/">long-term projects</a>.</em></p>



<p>A lot of times writing, to me, feels like sitting alone and talking to myself. I write stuff, I publish them, and nothing really happens. <a aria-label=" (opens in a new tab)" href="https://durmonski.com/self-improvement/lack-of-feedback/" target="_blank" rel="noreferrer noopener">The lack of feedback</a> – good or bad – makes me doubt the work I do. It immediately instills negative thoughts that whisper in my head, “Go do something else, you suck at writing. You see? No one is noticing.”</p>



<p>The same is with any other form of venture if you’re just starting. You open an online shop, you carefully arrange your categories, you sit, and you wait. Unless you market the shit out of your brand new site, no one will notice what you did – except probably your mom. If you want to make sales, you need to basically purchase your own stuff in the beginning.</p>



<p>But this is not limited to business, this same principle applies if you want to lose weight, learn a new language, a new skill, <a href="https://durmonski.com/book-summaries/atomic-habits/">adopt a new habit</a>, and anything else that can potentially make you a better human being.</p>



<p>“Good things take time,” others say. But being patient in the world of reactions without delay is hard. It takes true heroism to keep working on a project for years until you finally <em>make it</em>.</p>



<p>The lack of immediate feedback, or any form of feedback for that matter, can crush your enthusiasm and get you back to the drawing board. That’s why social media platforms feel so good and so many people sit inside. You publish something, and you immediately get some sort of response or reaction. Yes, you can only get a few likes but it surely feels a lot better than writing for years till someone notices, or restlessly sweating in the gym till you finally <em>get </em>that shred body.</p>



<p>Fortunately, there is a way to overcome the devastating thoughts that consume your mind when there’s no response from users and keep working on your business idea. You just need to shift your perspective and use the three-year rule.</p>







<h2><strong>What’s The Three Year Rule</strong>?</h2>



<p>Nowadays, we expect things to happen overnight. We have same-day deliveries, instant messaging, a quick way to buy things online, leave a review, get a refund, and above all we see people who worked as bank clerks, as if it were yesterday, but today, these same people run a multi-million dollar business.</p>



<p>Media outlets emphasis only on the last part of creating a project – the part where people are now successful. They don’t talk enough about the long hours, the doubt, all the hard work. They try to sell you the idea that you, too, can make it big. And I’m not saying that you can’t, but it will surely take a lot more time than what the online gurus are telling you.</p>



<p>That’s where the three year rule comes in.</p>



<p>There’s nothing fancy about this command. It will simply give you a different perspective when you want to make a project successful or make some positive changes in your life.</p>



<p>Instead of hoping to succeed till the end of the month, and be disappointed when this doesn’t happen, give yourself the opportunity to make it. Give yourself three years.</p>


<div id="ub_click_to_tweet_d948d44f-7576-4384-80fc-c740963b536a"><p>Instead of hoping to succeed till the end of the month, and be disappointed when this doesn’t happen, give yourself the opportunity to make it. Give yourself three years.</p></div>






<h2>Why The Three Year Rule is Important?</h2>



<p>Ask any successful person. Ask any experienced person. They’ll all tell you the same thing – It takes time to create something valuable. Something worth doing.</p>



<p>Yet, we’re not able to accept this narrative. We want things to happen right now because everything around us is moving so fast. </p>



<p>When we begin working on a project, start learning something new, when we open our online store, we want to see results. We want to see some sort of progress because progress means that what we’re doing is working. That our efforts are not in vain. </p>



<p>Of course, things don’t work like that. Reality is different from our expectations. Progress is slow, sales are stagnant, people are not commenting on our new blog post… When these things happen, naturally, we start to lose faith in what we’re doing and we abandoned things.</p>



<p>But the problem is not that our work suck – at least this is not the main issue – or because we’re not doing the right things, it’s simply because we’re entering the project with the wrong expectations. We expect things to happen fast, and when they don’t – which is normal – we blame the market, our customers, our spouse, and we close shop.</p>



<figure><img width="1024" height="512" src="https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-1024x512.jpg" alt="when-we-expect-overnight-success" srcset="https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-1024x512.jpg 1024w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-300x150.jpg 300w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-770x385.jpg 770w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-1536x768.jpg 1536w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-566x283.jpg 566w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-1151x575.jpg 1151w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-1481x740.jpg 1481w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-274x137.jpg 274w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-751x376.jpg 751w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success-1381x691.jpg 1381w, https://durmonski.com/wp-content/uploads/2020/02/when-we-expect-overnight-success.jpg 2000w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>This is how people usually approach projects. They expect quick results and when reality does not meet their expectations, they give up.</figcaption></figure>







<p>But things can be way different if we reframe our expectations. If we enter this project, any project, with reasonable expectations. </p>



<p>Instead of hoping for overnight success, we need to accept reality. To tell our instant-feedback-craving minds that it takes time to create something lasting. </p>



<figure><img width="1024" height="512" src="https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-1024x512.jpg" alt="when-we-start-a-project-with-the-right-expectations" srcset="https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-1024x512.jpg 1024w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-300x150.jpg 300w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-770x385.jpg 770w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-1536x768.jpg 1536w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-566x283.jpg 566w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-1151x575.jpg 1151w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-1481x740.jpg 1481w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-274x137.jpg 274w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-751x376.jpg 751w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations-1381x691.jpg 1381w, https://durmonski.com/wp-content/uploads/2020/02/when-we-start-a-project-with-the-right-expectations.jpg 2000w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>If you start working on a project with the right expectations, you won’t feel bad when there are no results initially.</figcaption></figure>



<p>Right from the start, set the right expectations. Don’t aim to succeed this month, neither this year, plan to succeed after 3 years.</p>







<h2>How To Apply The Three Year Rule?</h2>



<p>Commit to doing something for 3 years. 5 years. Even 20 years.</p>



<p>The number of years is not that important – of course, it should be at least a couple of years so you can make some real progress. The most important thing is to set the right expectations right from the start. To convince your mind that it will take time to see results.</p>



<p>Here are some actionable steps:</p>



<ul><li><strong>What?</strong> Start with what you want to do and why you want to do it. Opening an online shop surely feels exciting but if your main ambition is to make money, and nothing else, you won’t last long. You need a strong motive. Something that will inspire you to wake up every day at 5 in the morning. Something that will motivate you to <a aria-label="keep you going despite the obstacles (opens in a new tab)" href="https://durmonski.com/self-improvement/overcoming-obstacles/" target="_blank" rel="noreferrer noopener">keep you going despite the obstacles</a>.<span id="easy-footnote-1-8884"></span><span><a href="#easy-footnote-bottom-1-8884" title="Read <a href=&quot;https://durmonski.com/book-summaries/start-with-why/&quot; target=&quot;_blank&quot; aria-label=&quot;Start with Why (opens in a new tab)&quot; rel=&quot;noreferrer noopener&quot; class=&quot;ek-link&quot;>Start with Why</a> by Simon Sinek for more actionable strategies on this."><sup>1</sup></a></span></li><li><strong>Commit:</strong> Allow yourself at least 3 years to do the above. Good things take time. There’s no such thing as an overnight success. The stories we read online are showing us only the tip of the iceberg. Beneath the water, there’s always years of hard work. If you’re not willing to commit at least 3 years to a project, save yourself some time and money and don’t start at all.</li><li><strong> Say no:</strong> Once you know what you’re going to do, say no to things unrelated to your main goal. Say no to other opportunities. Say no to emerging business trends. And be firm when you say it. This step is crucial. If you stay open for opportunities you won’t make any progress. Close all windows of opportunity and stay committed to your long term goal.</li><li><strong>Adjust:</strong> Don’t blindly follow the path you originally set. It’s normal for our mission to be flawed at first. After all, we didn’t have any experience in the field initially. When we actually start working on the project, we’ll know better. So, after a couple of months, when we see the flaws in our original idea, once we know what’s not working, and what’s not going to work, make the correct adjustments and move forward.</li></ul>



<p>These are the basics.</p>



<p>For reference, and inspiration, let me share how things look for me at <a href="https://durmonski.com/">durmonski.com</a>:</p>



<ul><li><strong>What?</strong> I see more and more people obsessing about trivial stuff – cheap clothes, gadgets, video games, famous people with no real values, the latest trends, etc. Sadly, The more we consume this type of hollow content, the more ambitionless we became. We settle for Netflix and chill, and we don’t have any desire to make something lasting. I want to even things out. I want to be a source of quality content that can help more people realize that they can do so much more with their time. My drive since the beginning of this site is to create thought-provoking content that will inspire and help folks become more rational.</li><li><strong>Commitment:</strong> I started in 2018 and my original commitment was to work on the site for 3 years. It’s been 2 years, but progress is slower than I thought. And while I often feel down about the lack of big results, my original commitment changed to 5 years. Why keep doing it since results are low? Because I can see myself doing this type of work for at least another 10 or 20 years. I love it and I often receive praise from readers. With this in mind, I’m fine with waiting for 2-3 more years to see results.<span id="easy-footnote-2-8884"></span><span><a href="#easy-footnote-bottom-2-8884" title="I say that the progress is slow because I don&amp;#8217;t have a lot of visitors to my site. Hence, a lot of <a aria-label=&quot;members (opens in a new tab)&quot; href=&quot;https://durmonski.com/membership/&quot; target=&quot;_blank&quot; rel=&quot;noreferrer noopener&quot; class=&quot;ek-link&quot;>members</a>. Getting a lot of traffic usually happens when you have a lot of sites linking back to your site. And this process, unfortunately, takes time."><sup>2</sup></a></span></li><li><strong>Say no: </strong>Every now and then, I have an idea for a new project. A concept for a new site that seems way better than what I’m currently doing. But instead of going forward with the new ideas, I write them down. In most cases, after just a few days, I realize that this new concept is not going to work and I feel even more inspired to work on my main goal.</li><li><strong>Adjust:</strong> When I first started this site, I was publishing mainly articles about <a aria-label="how to become a minimalist (opens in a new tab)" href="https://durmonski.com/well-being/the-remedy-for-modern-busyness/" target="_blank" rel="noreferrer noopener">how to become a minimalist</a>, how to travel with less, all the minimal stuff. I did it because it was trendy back then. My goal was still the same back then – help people get out of the consumerist mindset. However, after a couple of months, I realized that I want to write about slightly different things. Put simply, I was trying to be someone I’m not initially. So, I’ve made some adjustments. The main mission didn’t change much but my daily actions did. The content I publish now represents truly who I am.</li></ul>







<div id=""><div><div><div><div><p><strong>Diversion</strong>: Regardless of our efforts and our desire to make things work, sometimes, our idea is simply not that good. Probably there isn’t a market for our Bionic Boot and pouring more and more hours and money into this …</p></div></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://durmonski.com/self-improvement/the-three-year-rule/">https://durmonski.com/self-improvement/the-three-year-rule/</a></em></p>]]>
            </description>
            <link>https://durmonski.com/self-improvement/the-three-year-rule/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24469292</guid>
            <pubDate>Mon, 14 Sep 2020 12:30:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Memory Pill]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 49 (<a href="https://news.ycombinator.com/item?id=24469140">thread link</a>) | @nickbild
<br/>
September 14, 2020 | https://www.hackster.io/nickbild/memory-pill-9f6b2e | <a href="https://web.archive.org/web/*/https://www.hackster.io/nickbild/memory-pill-9f6b2e">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><h3 id="toc-memory-pill-0"><span>Memory Pill</span></h3><p>Memory Pill passively records the last time a medication bottle was opened to prevent over- and underdosing of medications when you cannot remember if you have already taken a scheduled dose.</p>
<h3 id="toc-how-it-works-1"><span>How It Works</span></h3>
<p><span>A small hole is drilled into the threaded portion of a medicine bottle. A pushbutton is attached inside the bottle so that the button lines up with the hole. A 3D printed </span><a href="https://github.com/nickbild/memory_pill/tree/master/3d_models" data-ha="{&quot;eventName&quot;:&quot;Clicked link&quot;,&quot;customProps&quot;:{&quot;value&quot;:&quot;button extender &quot;,&quot;href&quot;:&quot;https://github.com/nickbild/memory_pill/tree/master/3d_models&quot;,&quot;type&quot;:&quot;story&quot;,&quot;location&quot;:&quot;story&quot;},&quot;clickOpts&quot;:{&quot;delayRedirect&quot;:true}}" rel="nofollow">button extender </a><span>is glued to the button such that the bottle top depresses the button. Removing the bottle top will then release the button.</span></p><p><span>The button is connected to an Arduino Nano 33 IoT. When the button is released, the </span><a href="https://github.com/nickbild/memory_pill/tree/master/memory_pill" data-ha="{&quot;eventName&quot;:&quot;Clicked link&quot;,&quot;customProps&quot;:{&quot;value&quot;:&quot;Arduino connects &quot;,&quot;href&quot;:&quot;https://github.com/nickbild/memory_pill/tree/master/memory_pill&quot;,&quot;type&quot;:&quot;story&quot;,&quot;location&quot;:&quot;story&quot;},&quot;clickOpts&quot;:{&quot;delayRedirect&quot;:true}}" rel="nofollow">Arduino connects </a><span>to a remote </span><a href="https://github.com/nickbild/memory_pill/blob/master/api.py" data-ha="{&quot;eventName&quot;:&quot;Clicked link&quot;,&quot;customProps&quot;:{&quot;value&quot;:&quot;web API,&quot;,&quot;href&quot;:&quot;https://github.com/nickbild/memory_pill/blob/master/api.py&quot;,&quot;type&quot;:&quot;story&quot;,&quot;location&quot;:&quot;story&quot;},&quot;clickOpts&quot;:{&quot;delayRedirect&quot;:true}}" rel="nofollow">web API,</a><span> over WiFi, that records the time the request was received. A </span><a href="https://github.com/nickbild/memory_pill/tree/master/t_watch_2020" data-ha="{&quot;eventName&quot;:&quot;Clicked link&quot;,&quot;customProps&quot;:{&quot;value&quot;:&quot;Memory Pill app &quot;,&quot;href&quot;:&quot;https://github.com/nickbild/memory_pill/tree/master/t_watch_2020&quot;,&quot;type&quot;:&quot;story&quot;,&quot;location&quot;:&quot;story&quot;},&quot;clickOpts&quot;:{&quot;delayRedirect&quot;:true}}" rel="nofollow">Memory Pill app </a><span>was created on a LILYGO TTGO T-Watch-2020 that will connect to the web API and display the stored time.</span></p><h3 id="toc-uses-2"><span>Uses</span></h3><p>I see the main use for Memory Pill as a monitoring device for assisted living patients or elderly relatives. In the former case, it can aggregate data from a large number of individuals and provide alerts where medications have been missed (or taken more than scheduled). This has the potential to significantly reduce time taken by humans to physically check on each case. For the elderly, relatives could check up on medicine taking habits from across town, state, or country.</p><p>It also has uses for the young and healthy who can sometimes forget if they took a medication. The idea for Memory Pill came to me when my wife had a headache, but couldn't remember if she had already taken medicine for it, or had just thought about it and not yet done so (kids can do that to a person).</p><h3 id="toc-media-3"><span>Media</span></h3>
<p>Closeup of triggering mechanism:</p>
<p>Internal electronics pulled out:</p>
<p>Watch closeup:</p>
<p>Bottle without extender:</p>
<p>Button extender:</p>
<p>Button extender model:</p>
<h3 id="toc-bill-of-materials-4"><span>Bill of Materials</span></h3><ul><li>1 x Arduino Nano 33 IoT</li><li>1 x LILYGO TTGO T-Watch-2020</li><li>1 x 2.2K resistor</li><li>1 x 10K resistor</li><li>1 x Pushbutton</li><li>1 x Small LiPo battery pack</li><li>OPTIONAL: 3D printer to print button extender (can be replaced with misc. scrap materials)</li><li>Miscellaneous wire</li></ul><h3 id="toc-future-direction-5"><span>Future Direction</span></h3><p>I would like to move to more purpose-built parts (rather than off-the-shelf) to make the components smaller, and even further drive down the cost per unit. I would also like to experiment with other methods of detecting when the lid has been removed—perhaps a simple contact built into the bottle itself or a reed switch.</p><p>On the software side, some minor tweaks to put the microcontroller into a sleep state and wake upon opening the bottle would keep the battery running for a long time. I think 30 days (typical prescription length) of opening a bottle would be easy to achieve with a very small battery.</p><p>A custom bottle with a small compartment on the bottom, with a battery that can be charged wirelessly (e.g. Qi charger) would complete the design.</p><h3 id="toc-about-the-author-6"><span>About the Author</span></h3><p><a href="https://nickbild79.firebaseapp.com/#!/" data-ha="{&quot;eventName&quot;:&quot;Clicked link&quot;,&quot;customProps&quot;:{&quot;value&quot;:&quot;Nick A. Bild, MS&quot;,&quot;href&quot;:&quot;https://nickbild79.firebaseapp.com/#!/&quot;,&quot;type&quot;:&quot;story&quot;,&quot;location&quot;:&quot;story&quot;},&quot;clickOpts&quot;:{&quot;delayRedirect&quot;:true}}" rel="nofollow">Nick A. Bild, MS</a></p></div></div>]]>
            </description>
            <link>https://www.hackster.io/nickbild/memory-pill-9f6b2e</link>
            <guid isPermaLink="false">hacker-news-small-sites-24469140</guid>
            <pubDate>Mon, 14 Sep 2020 12:09:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing an Overkill workbench for home office]]>
            </title>
            <description>
<![CDATA[
Score 146 | Comments 98 (<a href="https://news.ycombinator.com/item?id=24469135">thread link</a>) | @gcds
<br/>
September 14, 2020 | https://www.techprowd.com/home-office-project-overkill-workbench-series/ | <a href="https://web.archive.org/web/*/https://www.techprowd.com/home-office-project-overkill-workbench-series/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>After moving into a new apartment I have already had plans in my to build a custom workbench setup for my home office room so this series will be oriented in the home office room and workbench design.</p><p>Currently, my room looks pretty simple it's 6.5 tatamis sized room with an integrated closet. It has 2 windows one on the north side and another on the east side.</p><figure><div><div><p><img src="https://www.techprowd.com/content/images/2020/09/photo_2020-09-14_18-04-25-1.jpg" width="1280" height="960" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/photo_2020-09-14_18-04-25-1.jpg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/photo_2020-09-14_18-04-25-1.jpg 1000w, https://www.techprowd.com/content/images/2020/09/photo_2020-09-14_18-04-25-1.jpg 1280w" sizes="(min-width: 720px) 720px"></p><p><img src="https://www.techprowd.com/content/images/2020/09/photo_2020-09-14_18-04-26.jpg" width="1280" height="960" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/photo_2020-09-14_18-04-26.jpg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/photo_2020-09-14_18-04-26.jpg 1000w, https://www.techprowd.com/content/images/2020/09/photo_2020-09-14_18-04-26.jpg 1280w" sizes="(min-width: 720px) 720px"></p><p><img src="https://www.techprowd.com/content/images/2020/09/photo_2020-09-14_18-04-25--2-.jpg" width="1280" height="960" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/photo_2020-09-14_18-04-25--2-.jpg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/photo_2020-09-14_18-04-25--2-.jpg 1000w, https://www.techprowd.com/content/images/2020/09/photo_2020-09-14_18-04-25--2-.jpg 1280w" sizes="(min-width: 720px) 720px"></p></div></div></figure><p>The first step was, to measure out the room to have the exact dimensions for future planning. For this task was done by a pretty nice small laser range finder.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-40.png" alt=""></figure><p>By having measured the room's most important dimension I was able to build a 3D representation in the room using CAD software.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-41.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-41.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-41.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-41.png 1600w, https://www.techprowd.com/content/images/2020/09/image-41.png 1885w" sizes="(min-width: 720px) 720px"></figure><p>Now that I have room in the CAD software, I can try to design the table.</p><h2 id="design-idea">Design Idea</h2><p>I had a few design requirements for my workbench.</p><ul><li>Table depth of around 90cm</li><li>The tabletop should be made of solid wood</li><li>Solid table frame to be able to hold heavy objects.</li></ul><p>Following my previous table design which I had built in the UK for which I have used galvanized steel tubes as framing and kitchen countertop.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-42.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-42.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-42.png 1000w, https://www.techprowd.com/content/images/2020/09/image-42.png 1280w" sizes="(min-width: 720px) 720px"></figure><p>I have decided to go with a metal frame again, but as these galvanized steel tubes are not available in Japan and are really too heavy to carry I decided to look for an alternative. Which ended up being aluminum extrusion profiles. After spending a day on CAD software I have designed some preliminary design but after calculating the price on materials and etc, the total cost of only the metal frame was way out the league for just a simple workbench.</p><p>After considering for some time I decided to go with plain wood framing using standardized Japanese wood planks like 2x4 (38x76 mm) 1x2 (19x38 mm), 2x2 (38x38).</p><p>Now that I can build a much larger sized workbench my initial thoughts were to build an inverse U shaped workbench but the room width is too narrow for going 90cm depth table on both sides it would leave only a 70cm gap between two sides. So in the end I decided to build L style shape workbench.</p><p>The long L part will be my DIY/Electronics work station with soldering and construction space. The shorter L part will be the PC workstation.</p><p>To try out the location I have put my temporary table in the corner where I am planning to put the PC workstation.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-43.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-43.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-43.png 1000w, https://www.techprowd.com/content/images/2020/09/image-43.png 1280w" sizes="(min-width: 720px) 720px"></figure><p>After seeing the situation with monitors I decided to place the left monitor on top of the center monitor to make better as the left one with the angle it blocks a lot of space on the table and blocks the window.</p><p>After knowing all details it was time for design.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-44.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-44.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-44.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-44.png 1600w, https://www.techprowd.com/content/images/2020/09/image-44.png 1770w" sizes="(min-width: 720px) 720px"></figure><p>I kept rear columns tall and with supports because I am planning to use them for mounting some cabinets/shelves and have the grided panel for hooks. The right side will be used to mount wall mount monitor arms like these:</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-45.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-45.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-45.png 1000w, https://www.techprowd.com/content/images/2020/09/image-45.png 1500w" sizes="(min-width: 720px) 720px"></figure><p>After adding a simple tabletop I realized I would like to add some power sockets and etc stuff after some thinking I decided that I also would like to have some lower shelf for putting electronic tools like soldering iron station, hot air station, oscilloscope, and similar.</p><p>So I decided to shorten the original depth and make a bit higher shelf with overhang.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-46.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-46.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-46.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-46.png 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/image-46.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>For the walls under the shelf I decided to go for red-colored MDF 5mm panel like this: </p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-47.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-47.png 600w, https://www.techprowd.com/content/images/2020/09/image-47.png 700w"></figure><p>For the under shelf/cabinet space I decided to use this kind of panel for hook mount systems.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-48.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-48.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-48.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-48.png 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/image-48.png 2400w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-49.png" alt=""></figure><p>I would love to have a dark gray style tabletop as Christina from Youtube <a href="https://www.youtube.com/watch?v=lA5zFUf_5N8">Get Hands Dirty latest video</a> but sadly that kind of style MDF is not available in Japan so I will try on small peace to find some dark gray stain and use it on tabletop which I am gonna select.</p><p>After planning some simple cabinets it should look pretty good.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-50.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-50.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-50.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-50.png 1600w, https://www.techprowd.com/content/images/2020/09/image-50.png 1636w" sizes="(min-width: 720px) 720px"></figure><p>I still haven't yet decided on the exact styling of cabinets but my guess it will be made out of birch plywood or something similar.</p><p>For the small shelf on the tabletop, I am planning to use Panasonic Horizontal Style outlets like this</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-51.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-51.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-51.png 1000w, https://www.techprowd.com/content/images/2020/09/image-51.png 1473w" sizes="(min-width: 720px) 720px"></figure><p>Just in black/gray because these are so slim I probably gonna stack 2 or 3 in the same column, as I plan to make some with USB-A + USB-C combined ports which will be switched between several PC's that's for future parts of this series.</p><p>Some primitive modeling based on official dimensions and it should look pretty good.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-52.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-52.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-52.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-52.png 1600w, https://www.techprowd.com/content/images/2020/09/image-52.png 1669w" sizes="(min-width: 720px) 720px"></figure><h2 id="next-steps">Next Steps</h2><p>After having finalized the basic project now it is time to realize it. The first step is to export the BOM list of all the wood planks and their sizes to be able to calculate all required amounts of wood stock I will need to order.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-53.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-53.png 600w, https://www.techprowd.com/content/images/2020/09/image-53.png 732w" sizes="(min-width: 720px) 720px"></figure><p>Now that I have all sizes I need I can try to calculate efficient cuts to safe material using this amazing project called <a href="https://www.cutlistoptimizer.com/">CutListOptimizer</a> which helped me to calculate the required amount of plans based on wood stock I found in a home improvement store.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-54.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-54.png 600w, https://www.techprowd.com/content/images/2020/09/image-54.png 647w"></figure><p>Now that I have a final bill of material to buy I will be going tomorrow to my local Super Viva Home to order all materials and try to get them delivered to my home. That's going to be a big challenge as I don't speak Japanese much.</p><h2 id="what-s-next">What's next?</h2><p>Tomorrow I am getting all the materials and tools required for this project. I am not sure how long it will take it to get it delivered to home probably a few workdays.</p><p>I will be trying to set up a live stream on <a href="https://www.twitch.tv/techprowd">Twitch </a>the live build video with GoPro mounted on the head and similar still haven't figured out a way I am going to work about it but I am gonna post the article day before with a specific time I am gonna start a stream.</p><p>Keep In Touch!</p><h2 id="part-2-is-available-here">Part 2 is available here</h2><figure><a href="https://www.techprowd.com/home-office-project-overkill-workbench-series-part-2-going-shopping/"><div><p>Home Office Project: Overkill Workbench Series Part 2: Going Shopping + HYPERLAPSE</p><p>Following my yesterday introduced Overkill Workbench series articles today Ifollow up with part 2. Home Office Project: Overkill Workbench Series Part 1After moving into a newapartment I have already had plans in my to build acustom workbench setup formyhome office room so this series will be o…</p><p><img src="https://www.techprowd.com/content/images/2020/09/logo.png"><span>techprowd</span></p></div><p><img src="https://images.unsplash.com/photo-1586979816990-1819efcad0de?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ"></p></a></figure>
                </div>
            </section></div>]]>
            </description>
            <link>https://www.techprowd.com/home-office-project-overkill-workbench-series/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24469135</guid>
            <pubDate>Mon, 14 Sep 2020 12:08:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple Tried Charging the Price of a New MacBook Pro for a Screen Replacement]]>
            </title>
            <description>
<![CDATA[
Score 316 | Comments 268 (<a href="https://news.ycombinator.com/item?id=24469025">thread link</a>) | @plow-tycoon
<br/>
September 14, 2020 | https://luketully.ca/macbook-screen-replacement-costs-as-much-as-a-brand-new-model/ | <a href="https://web.archive.org/web/*/https://luketully.ca/macbook-screen-replacement-costs-as-much-as-a-brand-new-model/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://luketully.ca/content/images/size/w300/2020/09/Screen-Shot-2020-09-13-at-8.23.25-PM-1.png 300w,
                            https://luketully.ca/content/images/size/w600/2020/09/Screen-Shot-2020-09-13-at-8.23.25-PM-1.png 600w,
                            https://luketully.ca/content/images/size/w1000/2020/09/Screen-Shot-2020-09-13-at-8.23.25-PM-1.png 1000w,
                            https://luketully.ca/content/images/size/w2000/2020/09/Screen-Shot-2020-09-13-at-8.23.25-PM-1.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://luketully.ca/content/images/size/w2000/2020/09/Screen-Shot-2020-09-13-at-8.23.25-PM-1.png" alt="Apple Tries to Charge as Much as a New MacBook Pro for a Screen Replacement">
            </figure>

            <section>
                <div>
                    <!--kg-card-begin: markdown--><blockquote>
<p>There isn't a great pullquote here, because the whole thing is ridiculous</p>
</blockquote>
<p>While out at a nearby cafe in smoke-engulfed Vancouver, I noticed that the screen on my partner's 2015 13" MacBook Pro had experienced some delamination. She's also been complaining about her battery life, and since the computer had just run out of that, and since I had the same screen problem resolved under their repair program, I decided to start up a chat with Apple Support to see if they could assist us.</p>
<p>To be clear, the vast majority of my experiences with Apple Support have been pretty good. Sometimes it takes a little bit of work, but I've generally ended up better off than before with few exceptions. This was the single most dissapointing interaction I've had with any tech support rep as far as I can recall. The numbers Joe suggested in this conversation are either entirely fabricated, or belong to the cost of replacing the entire machine if its experienced catastrophic damage. But, after clarifying numerous times about what the numbers actually represent and comparing to previous repair bills for the same issue, my belief is that the rep used a false and obscured repair order to persuade me to replace my girlfriend's minimally damaged screen with a new computer.</p>
<p>I'm sorry ahead of time for the entire transcript taking the form of a number of screenshots, but after trying to wrangle Acrobat Pro for far too long in order to redact the sensitive information, I just took the shortest path.</p>
<p>Also, after re-reading, I did make some minor grammatical errors and typos, particularly when asking for clarification on the cost of the 2019 MBP screen repair. This should be the $2051.84 from the post screenshot.</p>
<p>All dollar amounts are in <strong>CAD</strong></p>
<!--kg-card-end: markdown--><figure><img src="https://luketully.ca/content/images/2020/09/1-1.jpg" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/1-1.jpg 600w, https://luketully.ca/content/images/size/w1000/2020/09/1-1.jpg 1000w, https://luketully.ca/content/images/2020/09/1-1.jpg 1275w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://luketully.ca/content/images/2020/09/2-1.jpg" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/2-1.jpg 600w, https://luketully.ca/content/images/size/w1000/2020/09/2-1.jpg 1000w, https://luketully.ca/content/images/2020/09/2-1.jpg 1275w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://luketully.ca/content/images/2020/09/3-1.jpg" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/3-1.jpg 600w, https://luketully.ca/content/images/size/w1000/2020/09/3-1.jpg 1000w, https://luketully.ca/content/images/2020/09/3-1.jpg 1275w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://luketully.ca/content/images/2020/09/4-2.jpg" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/4-2.jpg 600w, https://luketully.ca/content/images/size/w1000/2020/09/4-2.jpg 1000w, https://luketully.ca/content/images/2020/09/4-2.jpg 1275w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://luketully.ca/content/images/2020/09/5-1.jpg" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/5-1.jpg 600w, https://luketully.ca/content/images/size/w1000/2020/09/5-1.jpg 1000w, https://luketully.ca/content/images/2020/09/5-1.jpg 1275w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://luketully.ca/content/images/2020/09/6-1.jpg" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/6-1.jpg 600w, https://luketully.ca/content/images/size/w1000/2020/09/6-1.jpg 1000w, https://luketully.ca/content/images/2020/09/6-1.jpg 1275w" sizes="(min-width: 720px) 720px"></figure><p>All throughout summer, Apple has been embroiled in discussions and conflict surrounding the themes of anti-competitive, anti-consumer, and otherwise heavy-handed behavior. This conversation seems to do nothing but reinforce the widespread impression of the company that long-time fans and other onlookers have been developing.</p><p>Update: I neglected to a screenshot of what Joe actually sent via email, other than the main post image. Here it is below, for both my 2019 MBP 13" and the 2015 model that spurred the conversation. My main issue here, is that it's just a number and a payment request, there isn't any way to confirm the very confident claims made by the support rep. Is it really just a top case replacement? Probably not, considering previous top case replacements have only run between $500 and $1000.</p><figure><img src="https://luketully.ca/content/images/2020/09/image-1.png" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/image-1.png 600w, https://luketully.ca/content/images/size/w1000/2020/09/image-1.png 1000w, https://luketully.ca/content/images/2020/09/image-1.png 1062w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://luketully.ca/content/images/2020/09/image-2.png" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/image-2.png 600w, https://luketully.ca/content/images/2020/09/image-2.png 691w"></figure><figure><img src="https://luketully.ca/content/images/2020/09/image-3.png" alt="" srcset="https://luketully.ca/content/images/size/w600/2020/09/image-3.png 600w, https://luketully.ca/content/images/2020/09/image-3.png 991w" sizes="(min-width: 720px) 720px"><figcaption>But what's it for!?</figcaption></figure><p>Here also is a copy of a previous repair bill, this time for a logic board and display assembly replacement under warranty. Notably, there is very little available (that I was able to track down) information regarding the item numbers listed below. S490LL/A does seem to be consistent across the reports posted elsewhere, but I wasn't able to find much else to confirm or deny my suspicion that the numbers weren't accurate.</p><figure><img src="https://luketully.ca/content/images/2020/09/image-4.png" alt=""></figure>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://luketully.ca/macbook-screen-replacement-costs-as-much-as-a-brand-new-model/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24469025</guid>
            <pubDate>Mon, 14 Sep 2020 11:45:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Visual Explanation of the Conjugate Gradient Algorithm]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 12 (<a href="https://news.ycombinator.com/item?id=24469007">thread link</a>) | @mercurymercury
<br/>
September 14, 2020 | https://pwacker.com/CG.html | <a href="https://web.archive.org/web/*/https://pwacker.com/CG.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                
                  <p><span>Warning: While this article can be accessed on mobile, I strongly recommend using a somewhat larger screen. Many elements cannot be shown or are too big to fit on a mobile phone screen</span></p><p>Click on <i></i> and <i></i> symbols to expand content you are interested in.</p>
                    <div>
                    <h2> <span><i onclick="clickMinimizeUnminimize(['section_intro'], this, event)" onmouseout="unhighlightParent(this.parentNode.parentNode.parentNode)" onmouseover="highlightParent(this.parentNode.parentNode.parentNode)"></i> </span>
                      Introduction</h2>
                    <p>What this article is about, what I assume you to know, how the article is structured and how it is to be used.</p>
                    <div id="section_intro">
                      <p>The Conjugate Gradient method is one of the most important ideas in scientific computing: It is applied for solving large sparse linear equations, like those arising in the numerical solution of partial differential equations 
                        and it is also used as a powerful optimization method.
                      </p>
                      <p>This article is trying to give an intuitive introduction to the <span>Conjugate Gradient method.<span>from now on often abbreviated as "CG"</span></span></p>
                      <p>The CG method is based on a beautiful geometric idea but this idea is barely explained in most exposition texts, a fact that was lamented (and alleviated) by Jonathan Shewchuk's grandiose paper "An Introduction to the Conjugate Gradient Method Without the Agonizing Pain". 
                        This article tries to transfer Shewchuk's brilliant explanations into a more interactive medium. 
                      </p>
                      <p>Note that this article is designed to be read on a decently sized monitor. While a phone screen will show the necessary info, there are some features and visualizations that might not work satisfactorily.</p>
                      <p>If you find errors, have comments on the mathematical and/or didactical exposition, please drop me an email at contact@pwacker.com.</p>
                      <p>I assume you need this algorithm for one of the following use-cases:
                        </p><ol>
                          <li>Solving a linear system of equations \[A x = b\]for a matrix \(A\in \mathbb R^{n\times n}\) 
                            symmetric and positive definite and vectors \(x, b\in \mathbb R^n\). This setting typically arises when you need to solve partial differential equations numerically.</li>
                          <li>Minimizing a quadratic function \[f(x) = \frac{1}{2}x^TAx - b^T x + c\] with a matrix 
                            \(A\in \mathbb R^{n\times n}\) symmetric and positive definite, vectors \(x, b\in \mathbb R^n\) 
                            and a scalar \(c\in \mathbb R\)</li>
                          <li>Minimizing a more complicated function \[f : \mathbb R^n\to \mathbb R.\]</li>
                        </ol>
                          <p>The first two cases are equivalent (<span><i onclick="clickMinimizeUnminimize(['equivalenceLGS_SQOPT'], this, event)" onmouseout="unhighlightParent(document.getElementById('equivalenceLGS_SQOPT'), col='lavender')" onmouseover="highlightParent(document.getElementById('equivalenceLGS_SQOPT'))"></i> </span>).</p>
                          <p>
                            Note that the quadratic function is differentiable and has gradient \(\nabla f(x) = \frac{1}{2}(A^T + A)x - b = Ax - b\) (last step by symmetry of \(A\)) and (by positive definiteness of \(A\)) 
                            is guaranteed to have exactly one minimum which needs to fulfill \(\nabla f(x) = 0\). Hence, minimization of \(f\) amounts exactly to solving the linear equation \(Ax = b\).
                          </p>
                          <p>Although CG was developed for minimization of quadratic functions, it is
                            applied to non-quadratic minimization problems as well.
                          </p>
                          <p>
                            Obviously, the solution to \(Ax = b\) is \(x = A^{-1}b\) but we assume that the dimension \(n\) of the problem 
                            is so high that we cannot invert the matrix. From here on, we won't allow matrix inversion as a feasible operation. We even forbid 
                            explicitly solving linear equations of the form \(Ax = b\). This is not the same as inverting \(A\) and multiplying \(A^{-1}b\) and is a lot 
                            faster than that, but we assume that the problem is so big that even this will not work.
                            We allow, on the other hand, all kinds of (valid) multiplications between vectors and matrices and assume that those can be 
                            done efficiently.
                          </p>
                          <p>Because the CG method is most intuitively understood in the context of optimization, we will drop the \(Ax = b\) aspect for now and 
                            we will mostly look at the problem of minimizing a quadratic function of the form \[f(x) = \frac{1}{2}x^TAx - b^T x + c.\]
                            We also make the standing assumption that \(A\) is square, symmetric and positive definite. 
                          </p>
                          <p>
                            Because we assume that exact solution of the minimization problem (or equivalently, solving the corresponding linear equation) cannot be done efficiently, 
                            we will look at <emph>iterative methods</emph>, i.e. we will construct an iteration \(x_{i}\mapsto x_{i+1}\) such that the sequence 
                            \[ x_0, x_1,x_2,\ldots\] converges to the minimum.
                          </p>
                          <p>
                            In the course of this article, I am assuming that you are familiar with basic linear algebra, in particular the following topics:
                            </p><ul>
                              <li>vectors, matrices</li>
                              <li>eigenvalues and eigenvectors</li>
                              <li>Gram-Schmidt orthogonalization (although you don't need explicit knowledge about it, only a passing idea of what it does)</li>
                            </ul>
                          
                      
                    </div>
                  </div>                      
                  <!-- <hr>
                  <div>
                    <h2><span class="proofnav"><i class="fas fa-plus-circle min_unmin" onclick="clickMinimizeUnminimize(['section_prelim'], this, event)" onmouseout="unhighlightParent(this.parentNode.parentNode.parentNode)" onmouseover="highlightParent(this.parentNode.parentNode.parentNode)"></i> </span>
                      Preliminaries </h2>
                    <div class="sectionsubheading">Some linear algebra. Skip if you are comfortable with: 
                      <ol>
                        <li>square, symmetric, positive definite matrices and the fact that they "create ellipses" via their associated quadratic forms.</li>
                        <li>Eigenvalues and -vectors</li>
                      </ol>
                    </div>
                    <div class="minimized" id="section_prelim">
                      <p>Bla</p>
                    </div>
                  </div> -->
                  <hr>
                  <div>
                    <h2><span><i onclick="clickMinimizeUnminimize(['section_notation'], this, event)" onmouseout="unhighlightParent(this.parentNode.parentNode.parentNode)" onmouseover="highlightParent(this.parentNode.parentNode.parentNode)"></i> </span> 
                      Important notation</h2>
                    <p>Conventions and notations</p>
                    <div id="section_notation">
                        <p id="minimum">Recall that we want to find the minimum \[x^\star = \operatorname{arginf}_{x\in\mathbb R^n} \frac{1}{2}x^TAx -b^Tx + c\] for a symmetric, positive definite 
                          matrix \(A\in \mathbb R^{n\times n}.\) and that the objective function's derivative is given by \(f'(x) = Ax - b.\)</p>
                        <p>Surfaces of constant value of \(f\) ("level sets") are ellipses in 2d, ellipsoids in 3d and so on.</p>
                        <figure>
                          <span id=""><svg width="350" height="250" id="figureLevelsets">
                           
                          </svg></span>
                          <figcaption>Figure 1a: Level sets of a quadratic function \(f:\mathbb R^2 \to \mathbb R.\)</figcaption>
                        </figure> 
                        <figure>
                          
                          <figcaption>Figure 1b: Level sets of a quadratic function \(f:\mathbb R^3 \to \mathbb R.\)</figcaption>
                        </figure>
                          
                          
                        <p>We are going to discuss iterative optimization methods, i.e. we will construct
                          a sequence \[x_0, x_1, x_2,\ldots\] such that 
                        </p>
                        <ol>
                          <li>Every iteration is computationally feasible and</li>
                          <li>The more iterations we compute, the closer we are to \(x^\star\), i.e. \(\lim_{i\to\infty} x_i = x^\star.\)</li>
                        </ol>
                        <p>Compare this to the direct solution of the optimization problem, which is possible by computing \(x^\star \) such that \(A x^\star = b\). This is one giant calculation and it does not make sense to "stop early", i.e. you
                        are either done or not (with the obvious upside of the solution being provably exact).</p>
                        <p>The following two definitions are of vital importance for the rest of the article so try to really internalize them (see also the cheat sheet on the left hand side).</p>
                        <p>Give a current point (remember, we will optimize in iterations, this is one of those iterates) \(x_i\), we define</p>
                          <ul>
                            <li id="error">
                              The <emph>error</emph> \[e_i := x_i - x^\star\] is the vector that <emph>points from the solution to the current iterate</emph>. 
                                This will be an important variable in the analysis of Gradient descent and CG but we will never be able to obtain it <span>otherwise,
                                  we would be done immediately: For a given \(x_i\) and known \(e_i\), the solution is \(x^\star = x_i - e_i\) and we would be done.</span> during the optimization procedure 
                            </li>
                            <li id="residual">
                              The <emph>residual</emph> \[r_i := b - Ax_i = -f'(x_i) = -Ae_i\] should be  <span>interpreted<span>There is another 
                                interpretation as an error, mapped into the space in which \(b\) resides, but this is largely irrelevant for the exposition here.</span></span> as the <emph>direction of steepest descent</emph> 
                              (starting in \(x_i\)). 
                            </li>
                              
                          </ul>
                          
                        <figure>
                          <span id=""><svg width="600" height="600" id="figureNotation">
                              <defs>
                                <!-- arrowhead marker definition -->
                                <marker id="arrow_del" viewBox="0 0 10 10" refX="15" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z"></path>
                                </marker>
                              <marker id="arrow_del_grey" viewBox="0 0 10 10" refX="15" refY="5" markerWidth="6" markerHeight="6" fill="grey" orient="auto-start-reverse">
                            <path d="M 0 0 L 10 5 L 0 10 z"></path>
                          </marker>
                              <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z"></path>
                              </marker>
                                </defs>
                          </svg></span>
                          <figcaption>Figure 2: For a given iterate \(x_0\), error \(e_0\) (in grey because we cannot use it in practice) and residual \(r_0\). Note that the residual (as the direction of steepest descent) needs to 
                            be perpendicular to level sets of the objective function (grey ellipses).
                          </figcaption>
                        </figure> 
                        
                        
                      <p> The following items are major take-aways from this section:
                      </p>
                      <ul>
                        <li>The error \(e_i\) is a quantity used in theoretical analysis of the optimization algorithms but is inaccessible for each concrete optimization problem.</li>
                        <li>The residual \(r_i\) is the direction of steepest descent and is easily computed by \(r_i = b - Ax_i\). </li>
                        <li>Error and residual do in general <emph>not</emph> point along the same axis. It is for this reason that gradient descent does not converge in exactly one step (more to this later).</li>
                      </ul>
                    </div>
                  </div>
                  <hr>
                  <div>
                    <h2><span><i onclick="clickMinimizeUnminimize(['section_graddesc'], this, event)" onmouseout="unhighlightParent(this.parentNode.parentNode.parentNode)" onmouseover="highlightParent(this.parentNode.parentNode.parentNode)"></i> </span>
                      Gradient descent </h2>
                    <p>A decent first idea for function minimization </p>
                    <div id="section_graddesc">
                      <p>
                        …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pwacker.com/CG.html">https://pwacker.com/CG.html</a></em></p>]]>
            </description>
            <link>https://pwacker.com/CG.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24469007</guid>
            <pubDate>Mon, 14 Sep 2020 11:42:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Benchmarking Http4k, Ktor (Kotlin) and Actix (Rust) Microservices]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24468782">thread link</a>) | @dochtman
<br/>
September 14, 2020 | https://matej.laitl.cz/bench-rust-kotlin-microservices/ | <a href="https://web.archive.org/web/*/https://matej.laitl.cz/bench-rust-kotlin-microservices/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><img src="https://matej.laitl.cz/images/2020-09-13-bench-rust-kotlin-microservices/cover.png" alt="illustration">
Back in spring 2020 at <a href="https://goout.net/">GoOut</a>,
we were looking to replace our <a href="https://spring.io/projects/spring-framework">Spring</a>-<a href="https://tomcat.apache.org/">Tomcat</a>
duo by a more lightweight framework to power our future Kotlin microservices.
We did some detailed (at times philosophical) theoretical comparisons that I much enjoyed,
but these cannot substitute a hands-on experience.
We decided to implement proof-of-concept microservices using the most viable frameworks,
stressing them in a benchmark along the way.
While <strong>Kotlin</strong> was the main language,
I saw this as an opportunity to have some fun at home and test (my proficiency with) <strong>Rust</strong>,
which is touted for being fast.
I ended up stress-testing Kotlinâ€™s <a href="https://www.http4k.org/"><strong>Http4k</strong></a>, <a href="https://ktor.io/"><strong>Ktor</strong></a>,
and Rustâ€™s <a href="https://actix.rs/"><strong>Actix</strong> Web</a>, read on to see how they fared.</p>

<p><em>Feel free to <a href="#the-results">jump to the results</a> and read the background later, if youâ€™re impatient.</em></p>

<h2 id="on-techempower-framework-benchmarks">On TechEmpower Framework Benchmarks</h2>

<p>Why not just refer to excellent <a href="https://www.techempower.com/benchmarks/">TechEmpower Benchmarks (TEB)</a>?</p>

<p>A very valid question to ask. A couple of reasons:</p>

<ul>
  <li>Submitted TEB implementations tend to be rather optimised.
We wanted to measure such a code style that we would normally write:
one striving to be simple/idiomatic/readable,
but finished promptly and not extensively profiled.
On the other hand, we wanted to include production-grade API error handling
(correct HTTP codes and JSON error messages listing problems of individual parameters etc.),
request logging, and OpenAPI (Swagger) spec generation.</li>
  <li>Besides high-water req/s performance and associated latencies,
we wanted to capture more operational characteristics like memory usage, CPU usage and efficiency,
along the lifetime of a microservice instance.</li>
  <li>In production, we run our microservices in a rather high-density Kubernetes cluster,
where every instance has to be CPU- and memory-constrained.
We wanted to simulate this environment
and check whether we can use trending â€œserverlessâ€� offerings for new services.</li>
  <li>Our data store, Elasticsearch, differs from ones included in TEB,
and we were curious how synchronous vs. asynchronous flavours of the Elasticsearch client compare.</li>
</ul>

<h2 id="the-service">The Service</h2>

<p>For a description of the service to implement &amp; benchmark,
<a href="https://github.com/strohel/locations-rs/blob/master/api-spec.md">see its API Spec document available in the locations-rs repository</a>.</p>

<p>We benchmark its simplest <code>/city/v1/get</code> endpoint,
whose work is to look up a <code>city</code> document by id in Elasticsearch,
look up associated <code>region</code> document,
and render response JSON.
It uses internal in-memory cache for regions (there is just tens of them),
but no cache for much more numerous cities.</p>

<p>To reduce bandwidth when fetching documents from Elasticsearch,
all implementations instruct it to strip (at least) the largest property <code>geometry</code>.
This property is only used in Elasticsearch-side filtering, not by the microservice.
I believe the stripping significantly strains Elasticsearch
(or rather transfers the strain from the microservice to it).</p>

<h2 id="the-benchmark">The Benchmark</h2>

<h3 id="recipe">Recipe</h3>

<p>The benchmark consists of multiple identical â€œrunsâ€� for each Dockerised implementation spawned
by <a href="https://github.com/strohel/locations-rs/blob/master/bench-3-impls.py">bench-3-impls.py</a>.
The runs are named after the implementation and their ordinal number,
thus <code>rs-actix-1</code> is the first run of the Rust (Actix) implementation,
and <code>kt-ktor-3</code> is the third run of Kotlin (Ktor) implementation.</p>

<p>Each run simulates the first couple of minutes of the microservice instance using <a href="https://github.com/strohel/locations-rs/blob/master/test-image.py">test-image.py</a>.
Steps of one run:</p>
<ol>
  <li>Docker container is started, measuring the time until the service starts responding,</li>
  <li>a suite of HTTP checks is made ensuring correct responses and error handling behaviour,</li>
  <li>HTTP load is generated using <a href="https://github.com/wg/wrk">wrk</a>
in a series of 10-second long steps with increasing concurrent connection count;
the metrics are collected from <code>wrk</code> and Docker API after each step:
    <ul>
      <li>first 5 steps use just one concurrent connection, acting as a warm-up,</li>
      <li>each of the next 11 steps doubles concurrent connection count, i.e. continuing with 2, 4,
8, â€¦, 1024, 2048.<sup id="fnref:conn-count" role="doc-noteref"><a href="#fn:conn-count">1</a></sup></li>
    </ul>
  </li>
</ol>

<p>Finally, all runs are plotted using the awesome <a href="http://www.pygal.org/">Pygal</a> library
in <a href="https://github.com/strohel/locations-rs/blob/master/render-tests.py">render-tests.py</a>.
Different runs of a single implementation use the same colour,
allowing for visual inspection of the variance between them.</p>

<h3 id="runtime-environment">Runtime Environment</h3>

<p>Docker is told to constrain resources available to the microservice containers,
a practice usual in typical Kubernetes clusters.</p>

<p>The CPU is limited to 1.5 CPU-units using an equivalent of the <code>--cpus=1.5</code> Docker option.
This means that even though the instance has access to all 4 CPU cores of the machine,
it can use only 15 CPU-seconds (out of theoretical 40 CPU-seconds) in each 10-wall-clock-second step.
The value of 1.5 was chosen small enough to ensure the tested microservice is the actual bottle-neck during the benchmark,
and large enough to assert frameworks make proper use of multiple CPU cores.</p>

<p>Memory is limited to 512 MiB. I argue that anything beyond 512 MiB should not be called a <em>micro</em>service.</p>

<p>The two JVM-hosted Kotlin implementations run in OpenJDK 11,
with <code>-XX:MaxRAMPercentage=75</code> as the sole option.
It should allow JVM to allocate up to 75% of available 512 MiB memory to Java heap.</p>

<h3 id="hardware">Hardware</h3>

<p>The benchmarks run on 2 Virtual Machines in Google Cloud Platform (GCP) Compute Engine
located in the same zone.</p>

<ul>
  <li>1st VM, <code>n2d-highcpu-4</code> machine type (4 AMD Epyc <em>Rome</em> vCPUs, 4 GB memory):
    <ul>
      <li>Runs the benchmarked microservice in a Docker container <em>and</em> the <code>wrk</code> load generator.</li>
      <li>As the container is limited to 1.5 CPU and <code>wrk</code> takes less than leftover 2.5 CPUs,
they should not affect each other.</li>
      <li>Indeed, the maximum CPU utilisation during short peaks never exceeded 70%.</li>
      <li>The N2D <a href="https://www.quortex.io/post/an-open-source-framework-to-benchmark-cloud-providers-performances-for-live-streaming">machine type is said to have the best performance/cost ratio on GCP and even across cloud providers</a>.</li>
    </ul>
  </li>
  <li>2nd VM, <code>e2-custom</code> machine type
(12 <a href="https://cloud.google.com/blog/products/compute/understanding-dynamic-resource-management-in-e2-vms">high-density vCPUs</a>, 6 GB memory):
    <ul>
      <li>Runs a stock Dockerised Elasticsearch 7.8.0 instance, storage backend for the microservices.</li>
      <li>Maximum CPU utilisation during short peaks never exceeded 80% â€”
I have scaled the number of Elasticsearch CPU cores up until it ceased to be a bottleneck, arriving at 12.</li>
    </ul>
  </li>
</ul>

<h2 id="the-contenders">The Contenders</h2>

<ol>
  <li><code>locations-kt-http4k</code>: <a href="https://gitlab.com/gooutopensource/locations-kt-http4k/-/tree/kt-http4k">code on GitLab</a>
    <ul>
      <li>lang: <strong>Kotlin</strong> v1.3.72</li>
      <li>framework: <a href="https://www.http4k.org/"><strong>Http4k</strong></a> v3.163.0 with <em>Undertow</em> server engine v2.0.22<sup id="fnref:http4k-perf" role="doc-noteref"><a href="#fn:http4k-perf">2</a></sup></li>
      <li>programming model: classic <strong>synchronous</strong> (threads &amp; blocking I/O calls)</li>
    </ul>
  </li>
  <li><code>locations-kt-ktor</code>: <a href="https://gitlab.com/gooutopensource/locations-kt-ktor/-/tree/kt-ktor">code on GitLab</a>.
    <ul>
      <li>lang: <strong>Kotlin</strong> v1.3.70</li>
      <li>framework: <a href="https://ktor.io/"><strong>Ktor</strong></a> v3.163.0 with <em>Netty</em> server engine v4.1.44</li>
      <li>programming model: <strong>async</strong> (Kotlin coroutines)</li>
    </ul>
  </li>
  <li><code>locations-rs</code>: <a href="https://github.com/strohel/locations-rs/tree/rs-actix">code on GitHub</a>.
    <ul>
      <li>lang: <strong>Rust</strong> v1.45.2</li>
      <li>framework: <a href="https://actix.rs/"><strong>Actix</strong> Web</a> v2.0 (later we find v3.0 performs equally)</li>
      <li>programming model: <strong>async</strong> (Rust <em>async/await</em> with <a href="https://tokio.rs/">Tokio</a> runtime v0.2.22 through <code>actix-rt</code>)</li>
    </ul>
  </li>
</ol>

<p>We also initially implemented a Kotlin proof-of-concept in <a href="https://vertx.io/">Vert.x</a>,
but it turned out none of the team members was keen on the programming paradigm this framework suggested
(which may be a subjective matter), so we hadnâ€™t proceeded further with it.</p>

<h3 id="the-story-of-locations-kt-http4k">The Story of <code>locations-kt-http4k</code></h3>

<p>Http4k Locations service was written by <a href="https://buhvi.co/">@<strong>goodhoko</strong></a> at <a href="https://goout.net/">GoOut</a>.
It became the production implementation at GoOut
and is thus most complete along with extras like Swagger serving.</p>

<p>Http4k <a href="https://www.http4k.org/guide/modules/servers/">allows one to select from several server backends</a>,
so we first need to do a qualification benchmark and select the best performing engine to be fair.</p>

<p>See <a href="https://storage.googleapis.com/strohel-pub/bench-http4k-server-engines-pub/bench-results.html"><strong>Kttp4k server engine results on a dedicated page</strong></a>.
Line labels on the graph correspond to <a href="https://gitlab.com/gooutopensource/locations-kt-http4k/-/tags">tags in the locations-kt-http4k repository</a>.</p>

<p>One nice side-effect of this benchmarking was that
I have <a href="https://github.com/http4k/http4k/issues/141#issuecomment-679330954">discovered a cause</a>
of the <a href="https://github.com/http4k/http4k/issues/141"><strong>Netty</strong> backend performance issue</a>,
and <a href="https://github.com/http4k/http4k/pull/480">@<strong>daviddenton</strong> was quick to fix it</a>.
The <code>netty-updfix-*</code> graphs, which exhibit some nice latency characteristics, already contain the fix.
It was later released in http4k v3.259.0 (be sure to upgrade if you use this backend).</p>

<p><strong>Apache HttpCore</strong> version 4.4, labelled as <code>apache4-*</code>, was most CPU-efficient backend
and achieved shared first place in peak req/s performance.
However, it tends to draw too much memory as the number of concurrent connections grows,
and is out-of-memory-killed once their number reaches (extreme) 1024.
Apache HttpCore version 5.0 (<code>apache-*</code>) and a variant with lowered socket backlog (<code>apache-q100-*</code>)
suffer from the same problem.
I have <a href="https://github.com/http4k/http4k/issues/481">opened an issue</a> to see if thatâ€™s a bug or not,
insights welcome.
Meanwhile, I would recommend different http4k backends for services not shielded by load balancers.</p>

<p>The winner of this qualification round is the <strong>Undertow</strong> backend
(<code>undertow-*</code> for v3.163.0 and <code>undertow-upd-*</code> for v3.258.0),
which shares the first place in high-water req/s performance,
but also brings good all-round results in the rest of the metrics,
especially memory consumption under load.</p>

<p>The <strong>Jetty</strong> backend (<code>jetty-*</code>) slightly but consistently lags behind other production engines
in most metrics.
For completeness, I have also included the <strong>SunHttp</strong> backend that is intended for development only,
which the benchmarks confirm.</p>

<p><em>Update: Http4k author <a href="https://gitlab.com/gooutopensource/locations-kt-http4k/-/issues/1">has pointed out that OpenAPI generation through Contracts API may incur some performance penalty</a>.
<a href="https://storage.googleapis.com/strohel-pub/bench-http4k-contractless/bench-results.html"><strong>Benchmarks confirm that removing the Contracts layer indeed increases performance</strong></a>, shifting Http4k closer to Ktor.
Graphs below reflect the original version with Contracts (OpenAPI support).</em></p>

<h3 id="the-story-of-locations-kt-ktor">The Story of <code>locations-kt-ktor</code></h3>

<p>Ktor variant was also written by <a href="https://buhvi.co/">@<strong>goodhoko</strong></a> at <a href="https://goout.net/">GoOut</a>,
I later tweaked the <code>/city/v1/get</code> endpoint for functional parity with other implementations.
It remains the least complete implementation with just this single endpoint.</p>

<p>It uses <a href="https://github.com/jillesvangurp/es-kotlin-wrapper-client">es-kotlin-wrapper-client</a> to wrap
<a href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-asynchronous-usage.html">intrinsic async API of the Elasticsearch client</a>
into Kotlin coroutines.</p>

<p>Ktor also allows for pluggable HTTP server engines which I benchmarked.
See <a href="https://storage.googleapis.com/strohel-pub/bench-ktor-server-engines/bench-results.html"><strong>Ktor server engine benchmarks page</strong></a>.</p>

<p>The pattern is similar here with <strong>Netty</strong> being more efficient and performant than <strong>Jetty</strong>,
thus qualified as Ktorâ€™s engine of choice for the main benchmark.</p>

<h3 id="the-story-of-locations-rs">The story of <code>locations-rs</code></h3>

<p>I wrote the Rust clone in my free time, closely following the development of <code>locations-kt-http4k</code>.</p>

<p>As <a href="https://www.reddit.com/r/rust/comments/iqq8k9/announcing_actixweb_v30/">Actix Web 3.0 was <em>just</em> released</a>
and I was eager to compare how it fares against v2.0 performance-wise.
<a href="https://storage.googleapis.com/strohel-pub/bench-actix-versions/bench-results.html"><strong>The one-to-one benchmark shows v3.0 is at least on par with v2.0</strong></a>.
I think thatâ€™s good news given that v3.0 …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://matej.laitl.cz/bench-rust-kotlin-microservices/">https://matej.laitl.cz/bench-rust-kotlin-microservices/</a></em></p>]]>
            </description>
            <link>https://matej.laitl.cz/bench-rust-kotlin-microservices/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24468782</guid>
            <pubDate>Mon, 14 Sep 2020 11:02:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advocates want to name heatwaves like hurricanes to raise awareness of dangers]]>
            </title>
            <description>
<![CDATA[
Score 240 | Comments 142 (<a href="https://news.ycombinator.com/item?id=24468701">thread link</a>) | @pseudolus
<br/>
September 14, 2020 | https://www.cbc.ca/radio/day6/naming-heatwaves-custodians-vs-covid-19-nba-barbers-online-moderators-jesse-owens-granddaughter-and-more-1.5719784/advocates-want-to-name-heatwaves-like-hurricanes-to-raise-awareness-of-their-dangers-and-save-lives-1.5719800 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/day6/naming-heatwaves-custodians-vs-covid-19-nba-barbers-online-moderators-jesse-owens-granddaughter-and-more-1.5719784/advocates-want-to-name-heatwaves-like-hurricanes-to-raise-awareness-of-their-dangers-and-save-lives-1.5719800">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Kathy Baughman-McLeod, who leads the Extreme Heat Resilience Alliance, wants extreme heat treated as extreme weather events like those that “tear the roof off your house or blow down trees."</p><div><figure><div><p><img alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5720363.1599833661!/cpImage/httpImage/image.jpg_gen/derivatives/16x9_780/cp19107588.jpg"></p></div><figcaption>People are seen at the beach during a heat wave, Sunday, Sept. 6, 2020, in Huntington Beach, Calif. In Los Angeles, temperatures reached a record-breaking 49 C over the Labour Day weekend.<!-- --> <!-- -->(Christian Monterrosa/The Associated Press)</figcaption></figure><p><span></span><span>Listen</span><span>0:00</span></p><p><span><p>With heat records broken across parts of the United States this summer, one advocacy group wants to see heat waves named in the same way tropical storms are, in hopes of creating greater awareness of their danger.</p>  <p>"We need more drama for heat waves and we think that a name is going to do that," said Kathy Baughman-McLeod, director of the Adrienne Arsht–Rockefeller Foundation Resilience Center and a leader&nbsp;of Extreme Heat Resilience Alliance, the group pushing for the approach.</p>  <p>"Naming tropical storms and hurricanes and cyclones has brought the awareness and the culture of prevention and preparation and resources to areas of the world that are plagued by hurricanes and cyclones."</p>  <p>Baughman-McLeod wants extreme heat treated as extreme weather events like those that "tear the roof off your house or blow down trees."</p>    <p><a href="https://www.cbc.ca/news/world/u-s-heatwave-1.5714899">Over the Labour Day weekend</a>, Los Angeles reached a record high of 49 C (121 F), while Phoenix and Las Vegas faced similar highs at 46 C.</p>  <p>The hot, dry weather has exacerbated already-devastating wildfires across the western U.S., including California.</p>  <p><span><figure><div><p><img alt="" srcset="https://i.cbc.ca/1.5720355.1599833453!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/california-wildfires.jpg 300w,https://i.cbc.ca/1.5720355.1599833453!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/california-wildfires.jpg 460w,https://i.cbc.ca/1.5720355.1599833453!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/california-wildfires.jpg 620w,https://i.cbc.ca/1.5720355.1599833453!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/california-wildfires.jpg 780w,https://i.cbc.ca/1.5720355.1599833453!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/california-wildfires.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5720355.1599833453!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/california-wildfires.jpg"></p></div><figcaption>Extreme heat is exacerbating already devastating wildfires in California. The Extreme Heat Resilience Alliance believes naming heat waves will bring more attention to the threats they pose.<!-- --> <!-- -->(Frederic Larson/The Associated Press)</figcaption></figure></span></p>  <p>But heat can present a more insidious threat, Baughman-McLeod said. "We call it the silent killer," she&nbsp;told <a href="http://cbc.ca/day6"><em><u>Day 6</u></em></a><em> </em>host Brent Bambury.</p>  <p>According to a <u><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7125937/">recent study out of Duke University</a></u>, heat-related illnesses are responsible for more than 12,000 premature deaths each year in the U.S.</p>  <p>The U.S. Centres for Disease Control, meanwhile, puts that number at approximately 600. Baughman-McLeod says the lower number is likely the result of underreporting given many health record-keeping systems don't allow for heat-related mortality and morbidity in most places.</p>  <p>"Part of the challenge is that we don't keep records of heat-related illness and death, and oftentimes you would show up to the emergency room with a heat illness and it would be categorized as a kidney failure or a heart attack," she said.</p>  <h2>Protecting the most vulnerable</h2>  <p>Several cities — including Athens, Tel Aviv and Melbourne — and international climate organizations have signed on in support of the alliance's naming goal.</p>  <p>Those living in cities are more susceptible to the effects of extreme heat. Cities are built from materials that trap heat and lead to a "heat island effect" that can increase temperatures by up to 8 C, sayid&nbsp;Baughman-McLeod.</p>    <p>She believes that naming heat waves could help create measures that protect those most vulnerable to the heat, including those living in cities without access to air conditioning or other ways to cool down.</p>  <p>"Farm workers and delivery workers and construction workers ...&nbsp;wouldn't be expected to work during a named heat wave where they are," she said as an example.</p>  <p><span><span><span></span><span>Area residents capture video along the San Francisco-Oakland Bay Bridge as the city's skies are blanketed with smog and debris from wildfires throughout the state.<!-- --> <!-- -->0:45</span></span></span></p>  <p>With a name, she argued, news and social media could more easily elevate awareness of a heat wave.</p>  <p>But not everyone agrees on what is considered extreme heat, a challenge Baughman-McLeod is aware of.</p>  <p>She says that for this to work, an international framework must be created. From there, regions will be able to adapt what is considered extreme to their own climate.</p>  <p>"It will be about local conditions and the people who live in those areas there, what they're used to," she said.</p>  <p>When the U.S.-based Weather Channel began naming winter storms, there was <a href="https://www.mentalfloss.com/article/74744/why-it-controversial-name-winter-storms">disagreement</a> among meteorologists and scientists. While Baughman-McLeod acknowledges that it has presented some challenges, she believes her group is working to develop the best framework.</p>  <p>"We are in discussions with those groups of scientists and researchers, applied scientists, climatologists, heat-health scientists, social scientists," she told <em>Day 6.</em></p>  <p>"We will 100 per cent depend on science- and data-informed strategy to get to heat wave naming."</p>  <hr>  <p><em>Written by Jason Vermes&nbsp;with files from The Associated Press. Produced by Annie Bender.</em></p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/day6/naming-heatwaves-custodians-vs-covid-19-nba-barbers-online-moderators-jesse-owens-granddaughter-and-more-1.5719784/advocates-want-to-name-heatwaves-like-hurricanes-to-raise-awareness-of-their-dangers-and-save-lives-1.5719800</link>
            <guid isPermaLink="false">hacker-news-small-sites-24468701</guid>
            <pubDate>Mon, 14 Sep 2020 10:49:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Playing with fonts]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24468213">thread link</a>) | @Moist-Toes
<br/>
September 14, 2020 | https://venam.nixers.net/blog/unix/2020/09/14/playing_with_fonts.html | <a href="https://web.archive.org/web/*/https://venam.nixers.net/blog/unix/2020/09/14/playing_with_fonts.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    <p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/mexican_calendar_systems.jpg" alt="Confusing Mexican Calendar, at least for those not in the know" loading="lazy"></p>

<p>Freetype, included in the <a href="https://venam.nixers.net/blog/unix/2017/06/04/fonts-on-unix.html">font stack on
Unix</a>, is quite
complex. There are so many layers to get it to do what it does that
it’s easy to get lost. From finding the font, to actually rendering it,
and everything in between.<br>
Like most of the world, I use a rather low screens definition
(1366x768 with 96 dpi) and rather old-ish laptop, unlike some <a href="https://tonsky.me/blog/monitors/">font
designers that live in a filter bubble where everyone has the latest
macbook</a>. Thus, good and legible font
rendering is important.<br>
Let’s play with lesser known toggles available to us when it comes to font
rendering and see what they do, let’s have fun and explore possibilities.</p>

<h2 id="a-general-picture">A General Picture</h2>

<p>Generally, to make a font look better on screens, which are arrays of
pixels, we use a combination of these three:</p>

<ul>
  <li><strong>Antialiasing</strong>: Applying a light shade around the glyph. It is useful
at small scale, when you don’t have enough pixels, but it makes most
glyphs look bolder.</li>
</ul>

<p><img src="https://venam.nixers.net/blog/assets/font_antialias.jpg" alt="Font anti-alias example" loading="lazy"></p>

<ul>
  <li><strong>Subpixel rendering</strong>: A technique similar to antialias but using
subpixels, the color components inside the pixels. By applying a
small amount of colors on the sides you can reach more granular
precision. However, if applied clumsily, or if you simply move the
window containing the text, these colored subpixels will become
apparent, what we call fringe.</li>
</ul>

<p><img src="https://venam.nixers.net/blog/assets/font_subpixel_rendering.jpg" alt="Font sub-pixel rendering example" loading="lazy"></p>

<ul>
  <li><strong>Hinting</strong>: Pixels are blocks but text is made of curves, that means
these curves will never match exactly with screen pixels. Hinting
is about repositioning or selecting the closest pixels while trying
as much as possible to keep the shape of the glyph intact. There are
multiple levels of hinting, hinting information provided by the font
itself (bytecode interpreter hinting), and hinting provided by the
rendering library (auto-hinting).</li>
</ul>

<p><img src="https://venam.nixers.net/blog/assets/font_hinting.jpg" alt="Font hinting example" loading="lazy"></p>

<p><em>NB</em>: “It’s just text”… This article is yet another that
shows how fonts aren’t as easy as they look.  For more info
about the font stack, please visit <a href="https://venam.nixers.net/blog/unix/2017/06/04/fonts-on-unix.html">my previous article on the
topic</a>, and if you
want an idea of what it means to draw them on the screen take a look a
<a href="https://venam.nixers.net/blog/unix/2018/09/02/fonts-xcb.html">this article</a>.</p>

<p>What is applied, when, how to control all of this, can we see what they
do, and should we even care?</p>

<p>Freetype and fontconfig default rendering these days is pretty good,
so there shouldn’t be anything to worry about; Until there’s something
to worry about, like a font not looking the way you want.<br>
Our first stop will be something that intrigued me because I haven’t
heard many talk about it: the Freetype driver’s properties.<br>
The Freetype driver is used whenever hinting is needed, so this is the
part it actually changes — how hinting is applied.</p>



<p>Let’s start with arming ourselves with ways to easily test all this.<br>
Freetype2 demos utilities are a must, you can clone them
<a href="https://venam.nixers.net/blog/unix/2020/09/14/git.sv.nongnu.org/freetype/freetype2-demos.git">here</a>
or fetch them from your package repositiory, for example
<a href="https://packages.debian.org/jessie/freetype2-demos">Debian</a> and <a href="https://www.archlinux.org/packages/extra/x86_64/freetype2-demos/">Arch
Linux</a>.<br>
These will give you a bunch of useful tools such as <code>ftdiff</code>, <code>ftview</code>,
<code>ftstring</code> <code>ftgrid</code>, <code>fttimer</code>, <code>ftbench</code>, and others. The most important
ones for us are <code>ftdiff</code> and <code>ftgrid</code>.</p>

<p>Example usage:</p>

<figure><pre><code data-lang="shell">ftdiff <span>-r</span> 96 <span>-s</span> 10 ~/.local/share/fonts/times.ttf
ftgrid <span>-r</span> 96 <span>-f</span> 20 10 ~/.local/share/fonts/times.ttf
ftstring <span>-r</span> 96 <span>-m</span> <span>'Hello World!'</span> 10 ~/.local/share/fonts/times.ttf</code></pre></figure>

<p>Additionally, you can install <code>pango-view</code> from <code>pango-tools</code>
to later test if fontconfig applies your configurations
properly. It can be used by preparing a file written in <a href="https://developer.gnome.org/pygtk/stable/pango-markup-language.html">pango
markup</a>
and displaying it using <code>pango-view --markup file.pangpang</code>.<br>
You can set the fontconfig debug level higher to see which font is
actually loaded by setting the <code>FC_DEBUG</code> to something like 4096,
<code>FC_DEBUG=4096</code>.</p>

<p>More values can be found here, we’ll use them later to see if our
fontconfig settings are applied properly:</p>

<figure><pre><code data-lang="man">Name         Value    Meaning
---------------------------------------------------------
MATCH            1    Brief information about font matching
MATCHV           2    Extensive font matching information
EDIT             4    Monitor match/test/edit execution
FONTSET          8    Track loading of font information at startup
CACHE           16    Watch cache files being written
CACHEV          32    Extensive cache file writing information
PARSE           64    (no longer in use)
SCAN           128    Watch font files being scanned to build caches
SCANV          256    Verbose font file scanning information
MEMORY         512    Monitor fontconfig memory usage
CONFIG        1024    Monitor which config files are loaded
LANGSET       2048    Dump char sets used to construct lang values
MATCH2        4096    Display font-matching transformation in patterns</code></pre></figure>

<p>Yet another way is to test directly in your browser URL bar:</p>

<figure><pre><code data-lang="xml">data:text/html,<span>&lt;meta</span> <span>charset=</span><span>"utf8"</span><span>&gt;&lt;p</span> <span>style=</span><span>"font-family: Times New Roman;"</span><span>&gt;</span>Hello World<span>&lt;/p&gt;</span></code></pre></figure>

<h2 id="the-freetype2-drivers-properties">The Freetype2 Drivers Properties</h2>

<p>So let’s get back to our testing of Freetype2 drivers.<br>
On <a href="https://www.freetype.org/freetype2/docs/reference/ft2-properties.html">this documentation
page</a>,
ft (freetype) properties are listed and are said to affect the behavior
of the drivers, each touching a different one. They are set by modifying
the <code>FREETYPE_PROPERTIES</code> environment variable, normally loaded from
<code>/etc/profile.d/freetype2.sh</code>.<br>
However, most of the ones listed are targeted at the CFF, Type 1,
and CID fonts driver and not at TrueType fonts, so they do nothing
if you don’t have these font types. The only toggle <a href="https://www.freetype.org/freetype2/docs/reference/ft2-tt_driver.html">available for
TrueType</a>
is the <code>interpreter-version</code> which controls the bytecode interpreter,
the rasterizer, and thus how the outline gets hinted.</p>

<p>The options available to us are the following:</p>

<ul>
  <li>35 — For classic mode GDI (Win 98/2000)</li>
  <li>38 — GDI+ old (Vista, Win 7), Infinality, considered slow</li>
  <li>40 — For minimal mode (stripped down Infinality, this is the default)
(After Win 7)</li>
</ul>

<p>Kind of weird that we jump from 35 to 38, where did 36 and the rest go? The
answer is that it’s a choice from the Freetype devs to only include those
and not the ones in between.</p>

<p>And the differences look as follows, notice the native hinter in the
left column:</p>

<ul>
  <li>v35</li>
</ul>

<figure><pre><code data-lang="shell"><span>FREETYPE_PROPERTIES</span><span>=</span><span>"truetype:interpreter-version=35"</span> ftdiff <span>-r</span> 96 <span>-s</span> 10 ~/.local/share/fonts/times.ttf</code></pre></figure>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/ftdiff_v35.png" alt="ftdiff interpreter v35" loading="lazy"></p>

<figure><pre><code data-lang="shell"><span>FREETYPE_PROPERTIES</span><span>=</span><span>"truetype:interpreter-version=35"</span> ftgrid <span>-r</span> 96 <span>-f</span> 36 10 ~/.local/share/fonts/times.ttf</code></pre></figure>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/ftgrid_v35.png" alt="ftgrid interpreter v35" loading="lazy"></p>

<ul>
  <li>v38</li>
</ul>

<figure><pre><code data-lang="shell"><span>FREETYPE_PROPERTIES</span><span>=</span><span>"truetype:interpreter-version=38"</span> ftdiff <span>-r</span> 96 <span>-s</span> 10 ~/.local/share/fonts/times.ttf</code></pre></figure>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/ftdiff_v38.png" alt="ftdiff interpreter v38" loading="lazy"></p>

<figure><pre><code data-lang="shell"><span>FREETYPE_PROPERTIES</span><span>=</span><span>"truetype:interpreter-version=38"</span> ftgrid <span>-r</span> 96 <span>-f</span> 36 10 ~/.local/share/fonts/times.ttf</code></pre></figure>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/ftgrid_v38.png" alt="ftgrid interpreter v38" loading="lazy"></p>

<ul>
  <li>v40</li>
</ul>

<figure><pre><code data-lang="shell"><span>FREETYPE_PROPERTIES</span><span>=</span><span>"truetype:interpreter-version=40"</span> ftdiff <span>-r</span> 96 <span>-s</span> 10 ~/.local/share/fonts/times.ttf</code></pre></figure>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/ftdiff_v40.png" alt="ftdiff interpreter v40" loading="lazy"></p>

<figure><pre><code data-lang="shell"><span>FREETYPE_PROPERTIES</span><span>=</span><span>"truetype:interpreter-version=40"</span> ftgrid <span>-r</span> 96 <span>-f</span> 36 10 ~/.local/share/fonts/times.ttf</code></pre></figure>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/ftgrid_v40.png" alt="ftgrid interpreter v40" loading="lazy"></p>

<p>We can also test using <code>pango-view</code> (remember again that this should be a font
that has native hinting enabled but not the auto-hinter):</p>

<figure><pre><code data-lang="xml"><span>&lt;span</span> <span>font_family=</span><span>"Times New Roman"</span> <span>font=</span><span>"10"</span> <span>foreground=</span><span>"black"</span> <span>alpha=</span><span>"83%"</span><span>&gt;</span>
Lorem ipsum dolor sit amet, c
onsectetur adipiscing elit, s
ed do eiusmod tempor incididu
nt ut labore et dolore magna 
aliqua. Ut enim ad minim venia
m, quis nostrud exercitation u
llamco laboris nisi ut aliquip
ex ea commodo consequat. Duis 
aute irure dolor in reprehende
rit in voluptate velit esse ci
llum dolore eu fugiat nulla pa
riatur. Excepteur sint occaeca
t cupidatat non proident, sunt
in culpa qui officia deserunt 
mollit anim id est laborum.
<span>&lt;/span&gt;</span></code></pre></figure>

<p>You can also change the font via the <code>--font=</code> argument of <code>pango-view</code>.</p>

<figure><pre><code data-lang="shell"><span>FREETYPE_PROPERTIES</span><span>=</span><span>"truetype:interpreter-version=35"</span> pango-view <span>--markup</span> text.bangarang</code></pre></figure>

<ul>
  <li>v35</li>
</ul>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/pango-view_v35.png" alt="pango interpreter v35" loading="lazy"></p>

<ul>
  <li>v38</li>
</ul>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/pango-view_v38.png" alt="pango interpreter v38" loading="lazy"></p>

<ul>
  <li>v40</li>
</ul>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/pango-view_v40.png" alt="pango interpreter v40" loading="lazy"></p>

<p>So definitely, older interpreter versions were rougher with hinting, much
bolder, and could deform the glyphs. The newer ones are more minimal with
it. We also notice that the auto-hinter isn’t that bad and that avoiding
hinting can help. I took the specific case of the Windows font ‘Times New
Roman’ because it has the reputation of rendering badly with Freetype,
mostly because of the job the interpreter does. Applying very light or no
hinting at all helps tremendously, even at very small point size as you
can see in the next comparison. The hinting does indeed help legibility
at this scale but the font shape and personality is completely destroyed.</p>

<p>From left to right: v35, v38, v40.</p>

<p><img src="https://venam.nixers.net/blog/assets/fun_with_fonts/pango-view_small_point.png" alt="pang interpreter small point comparison" loading="lazy"></p>

<h2 id="how-fontconfig-works">How Fontconfig Works</h2>

<p>We’re not done with hinting yet, there can be many levels of hinting
that can be applied, but let’s first take a detour and learn a bit about
fontconfig and how to use it.</p>

<p>Fontconfig is the layer in the font stack responsible for loading the
font along with the configurations that tell the next layer how to find
the font file and what changes to apply when rendering it. It is usually
composed of a library, a preset of configuration files, and a bunch
of helpful tools all starting with the prefix <code>fc-</code> such as: <code>fc-cache</code>,
<code>fc-query</code>, <code>fc-match</code>, and <code>fc-conflist</code>, to name a few.</p>

<p>The configuration files are usually found in <code>/etc/fonts/</code> and split into
the presets available <code>/etc/fonts/conf.avail</code>, and the chosen presets in
<code>/etc/fonts/conf.d</code>, which are symbolic links to the former.<br>
The precedence of the rules is alphanumerical, a first-come
first-served principle, thus <code>01-custom-rule.conf</code> will be loaded
before <code>99-not-important-rule.conf</code>. Local user configurations, in
the user’s <code>$XDG_CONFIG_HOME/fontconfig</code> directory, are loaded from
one of these configurations that contains an include statement. On
my machine it is the <code>50-user.conf</code>, so it’s precedence is lower
than anything loaded before it. This isn’t practical when testing
rules so rename this file to something like <code>01-user.conf</code>. Now
anything you put in <code>$XDG_CONFIG_HOME/fontconfig/conf.d</code> or
<code>$XDG_CONFIG_HOME/fontconfig/fonts.conf</code> should have priority.<br>
You can make sure the order and configurations are loaded properly by
using the <code>fc-conflist</code> command. It lists in order of precedence the
configurations found, the ones starting with a <code>+</code> are loaded, the ones
with <code>-</code> are not.</p>

<p>These files are composed of mainly 4 components:</p>

<ul>
  <li>Match rules: If something matches, then edit the properties
mentioned. There are ton of matching and editing rules, even including
stuff like the program name that is currently trying to load …</li></ul></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://venam.nixers.net/blog/unix/2020/09/14/playing_with_fonts.html">https://venam.nixers.net/blog/unix/2020/09/14/playing_with_fonts.html</a></em></p>]]>
            </description>
            <link>https://venam.nixers.net/blog/unix/2020/09/14/playing_with_fonts.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24468213</guid>
            <pubDate>Mon, 14 Sep 2020 09:09:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Tour of the Tiny and Obfuscated Image Decoder]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24468039">thread link</a>) | @a_e_k
<br/>
September 14, 2020 | http://eastfarthing.com/blog/2020-09-14-decoder/ | <a href="https://web.archive.org/web/*/http://eastfarthing.com/blog/2020-09-14-decoder/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<header>

</header><p>
I was mystified when I first came across the <a href="http://www.ioccc.org/2018/bellard/hint.html">“Most Inflationary”</a> winning
<a href="http://www.ioccc.org/2018/bellard/">entry</a> in the 2018 <a href="https://www.ioccc.org/">IOCCC</a>.  Written by the <a href="https://bellard.org/">incredibly prolific</a> Fabrice
Bellard, this tiny program with just 4KB of source code emitted a
128×128 resolution version of the <a href="https://en.wikipedia.org/wiki/Lenna#Criticism">(in)famous</a> Lena test image.  Voodoo!
The IOCCC judges wrote “We could understand some of the arithmetic but none
of the magic.”  I was determined to figure out the magic and inspired by
<a href="https://fabiensanglard.net/">Fabien Sanglard</a> to try to write up how it works.
</p>

<p>
Using the program is straightforward enough, and both the source and the
details of running it can be found on its IOCCC page.  I used GCC to
compile it and piped the output directly to ImageMagick to view it:
</p>

<div>
<pre>gcc -O3 -o prog prog.c
./prog | display -                        # Show embedded image
./prog d &lt; vintage_cars.bin | display -   # Show an external image
</pre>
</div>

<p>
Running it with no arguments like the first case will decompress the
embedded data and produce the following image (zoomed for detail):
</p>


<figure>
<img src="http://eastfarthing.com/blog/2020-09-14-decoder/image.png" alt="image.png">

</figure>

<p>
Admittedly, this has a fair number of compression artifacts, but it’s still
pretty darned impressive for 2439 bytes of image data and 1544 bytes of
source code for the decompressor.
</p>

<p>
So let’s see how it works.  This will be a deep dive and by far my longest
post yet (I’ve erred on the side of too much detail), so make
yourself comfortable!  From here on in, I’m going to show the pieces of the
original program juxtaposed with the corresponding pieces from my
deobfuscated version.  When I mention line numbers, I’ll be referring to
the later unless noted otherwise.  I’ll typically use italicized numbers in
parenthesis to denote these.
</p>

<p>
For my version I have expanded the lone macro (used to compact <code>for</code>
loops), reformated the source, and renamed the variables.  The only
structural changes that I have made are from updating to modern style
function headers and pushing declarations down to be as local in scope as
possible (C99 style).  In one case, I gave a variable different names when
pushing it down into two blocks where it had been reused in different ways.
</p>


<div id="outline-container-org65f3743">
<h2 id="org65f3743">Input Header</h2>
<div id="text-org65f3743">
<p>
We’ll start at the end of the program with the <code>main()</code> function and then
work our way backwards to the beginning; we’ll essentially go from top to
bottom in terms of control flow.  Here’s the <code>main()</code> function:
</p>

<div>
<pre><span>112: </span><span>main</span>(D){
<span>113: </span><span>int</span> <span>a</span>,<span>l</span>,<span>L</span>,<span>M</span>,<span>g</span>,<span>N</span>;
<span>114: </span>s=D&gt;1?256:1968;
<span>115: </span>Q();
<span>116: </span>g=n(5);
<span>117: </span>f=1&lt;&lt;g;
<span>118: </span>N=f-n(5);
<span>119: </span>O=n(5);
<span>120: </span>P=n(5);
<span>121: </span>W(0,0,g);
<span>122: </span>printf(<span>"P6 %d %d 255 "</span>,f,N);
<span>123: </span>e(a,N*f){
<span>124: </span>l=y[0][a];
<span>125: </span>L=y[1][a];
<span>126: </span>M=y[2][a];
<span>127: </span>D=l-L;
<span>128: </span>K(D+M);
<span>129: </span>K(l+L);
<span>130: </span>K(D-M);
<span>131: </span>}
<span>132: </span><span>return</span> 0;
<span>133: </span>}
</pre>
</div>
<div>
<pre><span>228: </span><span>int</span> <span>main</span>( <span>int</span> <span>argc</span> )
<span>229: </span>{
<span>230: </span>    radix = argc &gt; 1 ? 256 : 1968;
<span>231: </span>    renormalize_and_read();
<span>232: </span>    <span>int</span> <span>level</span> = decode_unsigned( 5 );
<span>233: </span>    width = 1 &lt;&lt; level;
<span>234: </span>    <span>int</span> <span>height</span> = width - decode_unsigned( 5 );
<span>235: </span>    luma = decode_unsigned( 5 );
<span>236: </span>    chroma = decode_unsigned( 5 );
<span>237: </span>    extract_block( 0, 0, level );
<span>238: </span>    printf( <span>"P6 %d %d 255 "</span>, width, height );
<span>239: </span>    <span>for</span> ( <span>int</span> <span>pixel</span> = 0; pixel &lt; height * width; pixel++ )
<span>240: </span>    {
<span>241: </span>        <span>int</span> <span>Y</span>  = image[ 0 ][ pixel ];
<span>242: </span>        <span>int</span> <span>Cg</span> = image[ 1 ][ pixel ];
<span>243: </span>        <span>int</span> <span>Co</span> = image[ 2 ][ pixel ];
<span>244: </span>        <span>int</span> <span>temporary</span> = Y - Cg;
<span>245: </span>        write_byte_clamped( temporary + Co );
<span>246: </span>        write_byte_clamped( Y         + Cg );
<span>247: </span>        write_byte_clamped( temporary - Co );
<span>248: </span>    }
<span>249: </span>    <span>return</span> 0;
<span>250: </span>}
</pre>
</div>

<p>
The image is basically encoded in two distinct layers.  The lower level
uses a lossless <a href="https://en.wikipedia.org/wiki/Entropy_encoding">entropy encoding</a> scheme that stores only single bits and
unsigned integers.  We’ll see this in detail later.  For now, it’s enough
to know that the first line (<i>230</i>) checks for an argument to determine
whether to expect the image on standard input or to decompress the image
from an internal string.  The data is stored slightly differently in the
two modes and the related value here doubles as a flag.  The second line
(<i>231</i>) then primes the pump for the decoding this bitstream.  (However,
this turns out to be superfluous as it would have been called later
anyway.)
</p>

<p>
At the higher level, the first thing to be decoded (<i>232–236</i>) is a small
header comprised of four integers.  The first of these stores the image
width as a power of two.  Due to a fixed-size array used to store the
decompressed image, the width is limited to 1024.  The second integer
stores how many lines shorter the image height is compared to the width.
This will be zero for square images but means that only square or landscape
oriented images are possible.  The next two lines decode a pair of
parameters related to the image quality.  Higher numbers here give greater
compression at the expense of image quality.  The lowest legal values for
each are 1 and should produce near lossless results.  For the built-in Lena
image, the four values in this header are 7, 0, 41, and 82, respectively.
</p>
</div>
</div>


<div id="outline-container-org4f12528">
<h2 id="org4f12528">PPM Output</h2>
<div id="text-org4f12528">
<p>
The decoded image is written to standard output in the form of a PPM file.
This is a <a href="http://netpbm.sourceforge.net/doc/ppm.html">wonderfully simple format</a> for writing that consist of a small
header indicating the image type, resolution, and maximum color value.  A
single <code>printf()</code> suffices for this (<i>238</i>).  Following this, the image
data itself is simply a series of unsigned bytes in interleaved RGB order
for each pixel and the pixels in left-to-right, top-to-bottom order
(<i>245–247</i>).  Because of the lossy format, the decompressed RGB values may
fall outside the 0 to 255 range, so a small helper function is used to
clamp and then write them:
</p>

<div>
<pre><span>109: </span><span>K</span>(b){
<span>110: </span>putchar(b&lt;0?0:b&gt;255?255:b);
<span>111: </span>}
</pre>
</div>
<div>
<pre><span>223: </span><span>int</span> <span>write_byte_clamped</span>( <span>int</span> <span>byte</span> )
<span>224: </span>{
<span>225: </span>    putchar( byte &lt; 0 ? 0 : byte &gt; 255 ? 255 : byte );
<span>226: </span>}
</pre>
</div>
</div>
</div>


<div id="outline-container-orgf3b7761">
<h2 id="orgf3b7761">YCgCo Color Space</h2>
<div id="text-orgf3b7761">
<p>
The compressed image data is not actually encoded using the usual RGB color
space, though of course it outputs this at the end.  Instead, it uses the
<a href="https://en.wikipedia.org/wiki/YCgCo">YCgCo</a> color space.  This is easily transformed back to RGB (<i>244–247</i>) but
has some nice properties where image compression is concerned.  Notably,
it decorrelates the <a href="https://en.wikipedia.org/wiki/Luma_(video)">luma</a> from the <a href="https://en.wikipedia.org/wiki/Chrominance">chroma</a> data.
</p>

<p>
To see this, lets look at the just the Y (luma) color channel of the
built-in image.  We can do this by zeroing out the Cg (green–magenta) and
Co (orange–blue) chroma channels before transforming back to RGB:
</p>


<figure>
<img src="http://eastfarthing.com/blog/2020-09-14-decoder/y.png" alt="y.png">

</figure>

<p>
Note how the result is simply the image in greyscale.
</p>

<p>
We can also look at the Cg channel in isolation by setting the Y values in
all pixels to 128 and the Co values in all pixels to zero.  This will show
us how the Cg data looks added to a neutral grey image:
</p>


<figure>
<img src="http://eastfarthing.com/blog/2020-09-14-decoder/cg.png" alt="cg.png">

</figure>

<p>
And we can do likewise to view the Co channel in isolation by setting the Y
values to 128 and the Cg values to zero:
</p>


<figure>
<img src="http://eastfarthing.com/blog/2020-09-14-decoder/co.png" alt="co.png">

</figure>

<p>
Hopefully it is clear now why this transform is useful: the majority of the
actual image detail is contained in the Y channel with only a little bit in
the Cg and Co channels.  Moreover, the human eye is more sensitive to
luminance than chrominance so by separating these out the encoder can
compress them with different degrees of lossiness.  This is why there are
not one but two image quality factors (<i>235–236</i>).
</p>

<p>
Many lossy image and video codecs, such as <a href="https://en.wikipedia.org/wiki/JPEG#Downsampling">JPEG</a>, offer an option called
<a href="https://en.wikipedia.org/wiki/Chroma_subsampling">chroma subsampling</a>.  When used, the luminance channel is typically stored
at full resolution while the chrominance channels are downscaled and stored
as a lower resolution image by the encoder, then upscaled by the decoder.
The tiny image decoder doesn’t bother with this.  Instead, the encoded
images just crank up the lossiness factor for the chrominance channels
(which JPEG images usually do too).
</p>

<p>
It’s also worth noting (<i>241–243</i>) that the decoder decompresses
the Y, Cg, and Co channels to a <a href="https://en.wikipedia.org/wiki/Planar_(computer_graphics)">planar format</a> in memory before writing the
transformed RGB values in the PPM-required <a href="https://en.wikipedia.org/wiki/Packed_pixel">interleaved</a> form.
</p>
</div>
</div>


<div id="outline-container-orgdf2665b">
<h2 id="orgdf2665b">Quadtree Traversal</h2>
<div id="text-orgdf2665b">
<p>
The actual extraction of the image to these planes in memory occurs
completely within the function called at line 237.  This is the main
routine for the higher level decoding of the image and is by far the
largest function in the program:
</p>

<div>
<pre><span> 61: </span><span>W</span>(z,l,g){
<span> 62: </span><span>int</span> <span>v</span>,<span>a</span>,<span>j</span>,<span>I</span>,<span>d</span>,<span>k</span>,<span>A</span>,*<span>o</span>,<span>c</span>,<span>B</span>,<span>q</span>,<span>C</span>,<span>h</span>,<span>w</span>,<span>J</span>;
<span> 63: </span><span>if</span>(g&gt;5||g&gt;2&amp;&amp;t(g-3)){
<span> 64: </span>c=1&lt;&lt;--g;
<span> 65: </span>e(a,4)W(z+a%2*c,l+a/2*c,g);
<span> 66: </span>}
<span> 67: </span><span>else</span>{
<span> 68: </span>c=1&lt;&lt;g;
<span> 69: </span>d=c*c;
<span> 70: </span>q=n(73);
<span> 71: </span>e(A,3){
<span> 72: </span>o=y[A]+l*f+z;
<span> 73: </span>B=A&gt;0;
<span> 74: </span>e(a,d)i[a]=0;
<span> 75: </span>e(a,d){
<span> 76: </span><span>if</span>(t(61+g*2+B))<span>break</span>;
<span> 77: </span>a+=n(5+B*10);
<span> 78: </span>k=1-2*t(3);
<span> 79: </span>i[a]=k*(n(25+(B+(a&lt;d/8)*2)*10)+1)*(A?P:O);
<span> 80: </span>}
<span> 81: </span><span>if</span>(<span>!</span>q){
<span> 82: </span>v=0;
<span> 83: </span>e(a,c){
<span> 84: </span>v+=l?o[-f+a]:0;
<span> 85: </span>v+=z?o[a*f-1]:0;
<span> 86: </span>}
<span> 87: </span>*i+=z&amp;&amp;l?v/2:v;
<span> 88: </span>}
<span> 89: </span>R(i+d,1,i,1,c,c,10);
<span> 90: </span>R(o,f,i+d,c,1,c,10+g);
<span> 91: </span><span>if</span>(q){
<span> 92: </span>C=q&lt;17;
<span> 93: </span>w=C?9-q:q-25;
<span> 94: </span>e(a,c)e(j,c){
<span> 95: </span>e(I,2){
<span> 96: </span>h=a*w+w;
<span> 97: </span>J=h&amp;7;
<span> 98: </span>h=(h&gt;&gt;3)+j+I;
<span> 99: </span><span>if</span>(k=h&lt;0)h=(h*8+w/2)/w-2;
<span>100: </span>h=h&lt;c?h:c-1;
<span>101: </span>i[I]=k^C?o[h*f-1]:o[-f+h];
<span>102: </span>}
<span>103: </span>o[C?j*f+a:a*f+j]+=*i*(8-J)+i[1]*J+4&gt;&gt;3;
<span>104: </span>}
<span>105: </span>}
<span>106: </span>}
<span>107: </span>}
<span>108: </span>}
</pre>
</div>
<div>
<pre><span>143: </span><span>void</span> <span>extract_block</span>( <span>int</span> <span>left</span>, <span>int</span> <span>top</span>, <span>int</span> <span>level</span> )
<span>144: </span>{
<span>145: </span>    <span>if</span> ( level &gt; 5 || level &gt; 2 &amp;&amp; decode_bit( level - 3 ) )
<span>146: </span>    {
<span>147: </span>        <span>int</span> <span>size</span> = 1 &lt;&lt; --level;
<span>148: </span>        <span>for</span> ( <span>int</span> <span>corner</span> = 0; corner &lt; 4; corner++ )
<span>149: </span>            extract_block( left + corner % 2 * size,
<span>150: </span>                           top  + corner / 2 * size,
<span>151: </span>                           level );
<span>152: </span>    }
<span>153: </span>    <span>else</span>
<span>154: </span>    {
<span>155: </span>        <span>int</span> <span>size</span> = 1 &lt;&lt; level;
<span>156: </span>        <span>int</span> <span>area</span> = size * size;
<span>157: </span>        <span>int</span> <span>predictor</span> = decode_unsigned( 73 );
<span>158: </span>        <span>for</span> ( <span>int</span> <span>channel</span> = 0; channel &lt; 3; channel++ )
<span>159: </span>        {
<span>160: </span>            <span>int</span> *<span>output</span> = image[ channel ] + top * width + left;
<span>161: </span>            <span>int</span> <span>is_chroma</span> = channel &gt; 0;
<span>162: </span>            <span>for</span> ( <span>int</span> <span>coefficient</span> = 0; coefficient &lt; area; coefficient++ )
<span>163: </span>                buffer[ coefficient ] = 0;
<span>164: </span>            <span>for</span> ( <span>int</span> <span>coefficient</span> = 0; coefficient &lt; area; coefficient++ )
<span>165: </span>            {
<span>166: </span>                <span>if</span> ( decode_bit( 61 + level * 2 + is_chroma ) )
<span>167: </span>                    <span>break</span>;
<span>168: </span> …</pre></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://eastfarthing.com/blog/2020-09-14-decoder/">http://eastfarthing.com/blog/2020-09-14-decoder/</a></em></p>]]>
            </description>
            <link>http://eastfarthing.com/blog/2020-09-14-decoder/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24468039</guid>
            <pubDate>Mon, 14 Sep 2020 08:32:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Technology leadership lessons from TV show writing]]>
            </title>
            <description>
<![CDATA[
Score 34 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24467351">thread link</a>) | @daniel-tlt21
<br/>
September 13, 2020 | https://www.tlt21.com/tech-leadership-lessons-from-tv/ | <a href="https://web.archive.org/web/*/https://www.tlt21.com/tech-leadership-lessons-from-tv/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          

<article>
  

    <section>
      <p>Have you ever noticed how many words used in software engineering come from, well, engineering? For any software project, you have architects, developers, project managers and designers, dealing with infrastructure, hardware, programs and frameworks. Listening to a project conversation without context could fool you into thinking that they’re talking about building houses, not software. But what if, as <a href="https://medium.com/coaching-notes/youre-not-managing-a-team-of-software-engineers-you-re-managing-a-team-of-writers-b263d3a10cc7">pointed out</a> by executive coach Joe Dunn, you were managing a team of writers, not engineers?</p><p>When you think about it, it makes sense, right? First of all, software engineers write code. Like writers, their activities can be summarised in three main creative phases: impregnation, structuration and writing/rewriting. Sometimes what they have to write is very straightforward, like the 100th episode of a legal drama TV show. Sometimes it is very creative with a lot of unknowns, like a screenplay. Finally, both groups have to abide by deadlines and business imperatives.</p><p><strong>If software engineers are like writers, wouldn’t there be some lessons to learn from the writing world?</strong> With over 200 TV shows produced per year, the TV business could be the closest equivalent to the technology world (obviously not counting the show Silicon Valley which is about tech startups 😅). TV shows raise multi-million dollar budgets, they have to release episodes (<em>features</em>) under tight deadlines, they pay close attention to viewers ratings (<em>analytics</em>), and they’re, of course, trying to generate outsized returns for their investors.</p><figure><img src="https://www.tlt21.com/content/images/2020/09/image-2.png" alt="" srcset="https://www.tlt21.com/content/images/size/w600/2020/09/image-2.png 600w, https://www.tlt21.com/content/images/size/w1000/2020/09/image-2.png 1000w, https://www.tlt21.com/content/images/2020/09/image-2.png 1296w" sizes="(min-width: 720px) 720px"><figcaption>Christopher Patey - The Hollywood Reporter</figcaption></figure><p>In television, the equivalent of a technology leader would be the executive producer. Also called showrunners, executive producers are responsible for making a budget for the season and episodes, liaising with the studio and, most importantly, managing the writers. And like most engineering and product leaders, they usually have an individual contributor background, being writers themselves. <strong>So, how do showrunners manage their team?</strong></p><h3 id="1-they-know-their-show-and-tell-everyone-what-it-is"><strong>1. They know their show and tell everyone what it is</strong></h3><p>In his <em>Eleven laws of showrunning</em>, television screenwriter and producer Javier Grillo-Marxuach writes that “<em>not knowing - or not telling - what the show is, is a common showrunner dysfunction.</em>” Instead, a showrunner’s job is mainly to <strong>communicate information to other people</strong> so that they can execute it within their field of expertise. Some showrunners <strong>write down a show “bible”</strong> beforehand so that writers won’t ask the showrunner the same questions over and over.</p><p><strong>Ideas for technology leaders:</strong></p><ul><li>Have your team spend more time discussing product requirements, user stories, architecture or implementation strategies before rushing to the keyboard and code</li><li>Define and share a clear <a href="https://www.tlt21.com/technology-vision/">technology vision</a></li></ul><h3 id="2-they-create-a-safe-space"><strong>2. They create a safe space</strong></h3><p><a href="https://www.fastcompany.com/2683460/creative-management-lessons-from-the-difficult-men-who-changed-television">According</a> to GQ correspondent Brett Martin, the author of <em>Difficult Men: Behind the Scenes of a Creative Revolution</em>, “<em>to be a writer in these rooms is to be rejected constantly. It’s brutal. So the ability to inspire people despite rejecting them is really important.</em>” Great showrunners understand that <strong>creation is iterative and it takes a lot of no(s) to get a great idea</strong>. They make writers feel comfortable with rejection and small failures.</p><p><strong>Ideas for technology leaders:</strong></p><ul><li>Raise your standards by creating a culture where everyone is challenging others and is OK to be challenged (on ideas, features, implementation…)</li></ul><h3 id="3-they-make-writers-pitch"><strong>3. They make writers pitch</strong></h3><p>According to an insider’s comment on <a href="https://www.reddit.com/r/Screenwriting/comments/551hf2/how_does_a_tv_writers_room_work_in_a_literal_and/">Reddit</a>, “<em>once the overall arc of the season is settled, [writers]</em> <em>will pitch ideas for episodes. Lots and lots and lots of ideas for episodes. most will be rejected either by the room, the showrunner, the network etc. Ideas that aren’t rejected will end up on a big board in the room. From there they will be broken down into story points, usually by the room.</em>” Usually, the writer whose pitch is selected gets to write the episode or the script concept. This process creates an environment where <strong>writers have to pay as much attention to the story, as to how they pitch it</strong>.</p><p><strong>Ideas for technology leaders:</strong></p><ul><li>Make product owners and developers pitch their ideas or solutions, and select only the best pitches. Poorly pitched ideas might get another go during a future session</li></ul><h3 id="4-they-give-everyone-a-chance-to-talk"><strong>4. They give everyone a chance to talk</strong></h3><p>Started in 1975, Saturday Night Live is one of the longest-running, most successful shows on American television. Lorne Michaels, the show’s executive producer, <a href="https://www.fastcompany.com/3066570/the-management-secret-that-makes-snls-chaotic-writers-room-succeed">says</a> the reason why SNL has succeeded is because he’s always followed the following two rules: <strong>he gives everyone a voice, and he forces people to listen to each other</strong>. Michaels will often keep a sheet of paper during a meeting, making a note each time someone speaks, and won’t end the meeting until he forces everyone to talk a roughly equal number of times.</p><p><strong>Ideas for technology leaders:</strong></p><ul><li>Force everyone to talk an equal amount of time during stand-ups and meetings</li></ul><h3 id="5-they-combine-creative-thinking-and-passion"><strong>5. They combine creative thinking and passion</strong></h3><p>Sternberg and Lubart, the authors of <em>Defying the Crowd: Cultivating Creativity in a Culture of Conformity</em>, <a href="https://hbr.org/2003/09/how-to-pitch-a-brilliant-idea">say</a> that great showrunners show <strong>practical intelligence</strong>, a “<em>feel for which ideas are likely to contribute to the business</em>”. When pitching a show idea to studio executives, they pull back and project what the executive needs onto their idea to make the story whole.</p><p><strong>Ideas for technology leaders:</strong></p><ul><li>Make product owners and developers pitch their ideas or solutions with the end-user in mind</li></ul><h3 id="6-they-rotate-writers-and-make-them-work-collaboratively"><strong>6. They rotate writers and make them work collaboratively</strong></h3><p>While individual episodes may be assigned to writers early on, it’s common for showrunners to <strong>rotate writers or have certain script concepts assigned to different writers</strong> for the same episode. And even when there is just one writer on an episode, the <strong>other writers are still involved</strong>. They will challenge each other in the writers’ room, or give a hand on a few scenes and storylines.</p><p><strong>Ideas for technology leaders:</strong></p><ul><li>Give an “expiry date” to feature teams so team members can work on another feature or system</li><li>Hire mainly full-stack engineers who can work on multiple projects</li></ul><h3 id="7-they-write-and-rewrite-quickly"><strong>7. They write and rewrite quickly</strong></h3><p>For Javier Grillo-Marxuach, “<em>a week to a week and a half is considered ample time to write the first draft of a script from a solid story break and outline.</em>” When done, writers will “<em>take that script apart, re-think it, throw most of it out and start all over again</em>” as shared by showrunner Manny Coto. Because script writing is an iterative process and TV shows are under tight deadlines, showrunners establish a <strong>quick writing pace and help writers dissociate themselves from their ideas</strong>.</p><p><strong>Ideas for technology leaders:</strong></p><ul><li>Organise shorter sprints with a focus on making each iteration visible</li><li>Have the team challenge a newly built feature and consider rebuilding it if it’s not up to your standards</li></ul><hr><h3 id="summary"><strong>Summary</strong></h3><ul><li>Software engineers share a lot of characteristics with writers, especially TV show writers</li><li>Technology leaders can manage their teams the same way showrunners manage their writers' room</li><li>Mixing creativity with business imperatives is possible if team members work collaboratively, discuss a lot beforehand and don't get attached to ideas</li></ul><h3 id="reading-list"><strong>Reading List</strong></h3><p>[ESSAY] <strong><a href="https://okbjgm.weebly.com/uploads/3/1/5/0/31506003/11_laws_of_showrunning_nice_version.pdf">The eleven laws of showrunning</a></strong> - Javier Grillo-Marxuach </p><p>[BOOK] <strong><a href="https://crc.business-school.ed.ac.uk/wp-content/uploads/sites/47/papers/susan-elaine-murphy-leadership-lessons-from-creative-industries-the-case-of-producers-directors-and-executives-in-film-and-television.pdf">Leadership lessons from creative industries: the case of producers, directors and executives in film and television</a></strong> - Susan Elaine Murphy</p><p>[ARTICLE] <strong><a href="https://hbr.org/2003/09/how-to-pitch-a-brilliant-idea">How to Pitch a Brilliant Idea</a></strong> - Kimberly D. Elsbach</p>
    </section>

      <section>
        <a href="https://www.tlt21.com/tag/people/">People Management</a><a href="https://www.tlt21.com/tag/project/">Project Management</a>
      </section>

          <section>
            <h3>TLT21 Newsletter</h3>
            <p>Join the newsletter to receive the latest updates in your inbox.</p>
            <form data-members-form="subscribe">
  <p><label for="subscribe-email-post">Your email address</label>
    
    
  </p>

  <p>Please check your inbox and click the link to confirm your subscription.</p>
  <p>Please enter a valid email address!</p>
  <p>An error occurred, please try again later.</p>
</form>          </section>

  <hr>
</article>


<!--
  Get related posts based on tags
 -->

    

        </div></div>]]>
            </description>
            <link>https://www.tlt21.com/tech-leadership-lessons-from-tv/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24467351</guid>
            <pubDate>Mon, 14 Sep 2020 06:21:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Old, Good Database Design]]>
            </title>
            <description>
<![CDATA[
Score 179 | Comments 158 (<a href="https://news.ycombinator.com/item?id=24467136">thread link</a>) | @jelnur
<br/>
September 13, 2020 | https://relinx.io/2020/09/14/old-good-database-design/ | <a href="https://web.archive.org/web/*/https://relinx.io/2020/09/14/old-good-database-design/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-190">

	

	
			<figure>
				<img width="814" height="737" src="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=814" alt="" loading="lazy" srcset="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png 814w, https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=150 150w, https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=300 300w, https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=768 768w" sizes="(max-width: 814px) 100vw, 814px" data-attachment-id="205" data-permalink="https://relinx.io/hospital-database-e-r-diagram/" data-orig-file="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png" data-orig-size="814,737" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hospital-database-e-r-diagram" data-image-description="" data-medium-file="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=300" data-large-file="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=750">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>Why Should I Care?</p>



<p>Applications, even databases come and go, but data is the most important part of the story. Usually, data is the purpose of the system exists in the first place. That’s why we should consider a database system not only as a black box to hold our data, but also a tool to verify and guard it against corruptions.</p>



<p>This is achieved with a help of robust and well-thought database design. Of course, business logic is coded in the application layer and it makes sure data is in a proper format before arriving at the database. But who guarantees that a network failure or a bug will not allow corrupted “guests”? Also, the application layer is not the only “door” to the database. We can have import scripts, maintenance scripts, and mere mortal DBAs and developers interacting with it. Having preventive measures at a very low level ensures our data is always checked before stored.</p>



<p>Having robust, reliable data also helps with development and testing. Setting a column as a Not Null excludes many test scenarios assuming the emptiness of that column and also simplifies code freeing developers to check value [nearly] every time before accessing it.</p>



<p>Having stressed the importance of good database design, let’s have a look at the tools at our disposal to achieve it.</p>



<p>Normalization</p>



<figure><img loading="lazy" data-attachment-id="205" data-permalink="https://relinx.io/hospital-database-e-r-diagram/" data-orig-file="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png" data-orig-size="814,737" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hospital-database-e-r-diagram" data-image-description="" data-medium-file="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=300" data-large-file="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=750" src="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=814" alt="" width="611" height="553" srcset="https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=611 611w, https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=150 150w, https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=300 300w, https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png?w=768 768w, https://relinxapp.files.wordpress.com/2020/09/hospital-database-e-r-diagram.png 814w" sizes="(max-width: 611px) 100vw, 611px"><figcaption>Image credits: <a href="https://www.w3resource.com/" rel="nofollow">https://www.w3resource.com</a></figcaption></figure>



<p>This is of no doubt the first rule of good design. We are not going to delve into normalization rules here, just want to emphasize it’s importance. A good piece of reading about the topic could be&nbsp;<a target="_blank" href="https://docs.microsoft.com/en-us/office/troubleshoot/access/database-normalization-description" rel="noreferrer noopener">this article.</a></p>



<p>Data Types</p>



<p>Defining proper types for attributes is another thing that needs attention. This will not only improve the performance of the database but also validate the data before storing it. So we should keep numeric data in “integer”, “numeric” fields. Timestamps in “timestamp”, “timestamptz” fields. Booleans in “bit”, “char(1)” or “boolean” (whichever RDBMS supports) fields, etc.</p>



<p>Dates deserve a specific mention. If a Date attribute is supposed to have only the date part (OrderDate, ReleaseDate) use a type without a time portion (“date”). If you need to keep only the time (StartTime, EndTime) use a suitable time type. If you don’t need precision specify it as zero (“time(0)”). The problem with dates having a time portion is that you always have to cut off the time part to display only the date and make sure not to display yesterday or tomorrow when you format it in a different timezone than your database. Dates with time portion also may cause problems with subtracting and addition when hopping over daylight change dates.</p>



<hr>



<div><figure><a href="https://relinx.io/"><img data-attachment-id="140" data-permalink="https://relinx.io/cropped-logo-1-3-png/" data-orig-file="https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="cropped-logo-1-3.png" data-image-description="<p>https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png</p>
" data-medium-file="https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png?w=300" data-large-file="https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png?w=512" src="https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png?w=512" alt="" srcset="https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png 512w, https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png?w=150 150w, https://relinxapp.files.wordpress.com/2020/07/cropped-logo-1-3.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"></a></figure></div>



<hr>



<p>Constraints</p>



<p>Constraints are our main topic of discussion today. They are what keeps invalid data out and ensures the robustness of it. Let’s look at them one by one.</p>



<p>Not Null Constraint</p>



<p>If business rules state that attribute should always be present, make it Not Null without hesitating. Good candidates to be Not Null are fields like Id, Name, AddedDate, IsActive, State, CategoryId (if all items should have a category), ItemCount, Price, and many others. Usually, these attributes play important roles in business logic. Other optional informative fields may still be Null.</p>



<p>But be careful not overusing Not Null constraint for attributes that CAN BE Null. For example, a long-running Task always has a StartTimestamp (Not Null), but EndTimestamp is updated only when the task finishes (Null). Or another classic example: Employee table has ManagerId, but not all employees have a manager. Don’t be tempted to make ManagerId Not Null and insert “0” or “-1” for employees that don’t have a manager. This will lead to other problems down the way when we will be adding Foreign Key constraints.</p>



<p>Unique Constraint</p>



<p>Again, depending on business rules, some attributes (or combinations of attributes) should be unique, such as Id, PinNumber, BookId and AuthorId, OrderNo, etc. These attributes should be made unique by adding Unique constraints. One more note: you may use Unique Index to achieve the same effect, but adding constraint is a better approach. Because when you add a Unique constraint a non-unique index is created automatically. So if for some reason you would have to temporarily disable/enable the constraint it’d be very easy. In the case of a unique index, you would have to drop/recreate the index which is an expensive operation in terms of performance degradation and time.</p>



<p>Primary Key</p>



<p>Not Null and Unique constraints together make up a Primary Key. Columns like Id or ObjectId quickly come to mind when we think of primary keys. But primary keys can also be composite, like BookId and AuthorId. The dilemma here is whether to have a separate Id column as a primary key, or make a composite primary key of them both? Having a separate Id column is usually a better method as it makes your joins cleaner and also allows easily add another column to a unique combination. However, having a separate primary key (Id) doesn’t free us from the need to add a Unique constraint to BookId and AuthorId columns.</p>



<p>Check Constraint</p>



<p>Check constraints allow us to define valid values/ranges for data. Perfect candidates for check constraints are Percent (between 0 and 100), State (0, 1, 2), Price, Amount, Total (greater than or equal to 0), PinNumber (fixed length), etc. Again don’t try to code business logic into check constraints. I remember a case when adding a Check constraint “greater than or equal to zero” to the AccountBalance column saved us from accidental over-drawing balances.</p>



<p>Default Constraint</p>



<p>Default constraints are also important. They allow us to add new Not Null columns to existing tables and make the “older” API to be compatible with the new structure until all parties are upgraded (though after complete upgrade default constraint should be removed).</p>



<p>One thing to remember here. Don’t code business logic into a Default constraint. For example function “now()” can be a good fit (though not always) as a default value for a Timestamp field in a Log table, but not for an OrderDate field in an Orders table. You may be tempted to omit OrderDate in inserts, relying on a default constraint and this means spreading your business logic down to the database level. Also at some point business may decide to assign OrderDate only after it has been approved and because the Default constraint is buried deep into the database it will not be obvious when we make changes to the code in the application layer.</p>



<p>Foreign Key Constraint</p>



<p>Foreign Key constraint is the king of the relational database design. Together with Primary Keys, Foreign Keys ensure data consistency at the inter-table level. Normalization rules tell us when to extract data into its table and reference it with Foreign keys. Here we will focus on subtle nuances, like OnDelete and OnUpdate rules.</p>



<figure><img data-attachment-id="208" data-permalink="https://relinx.io/untitled/" data-orig-file="https://relinxapp.files.wordpress.com/2020/09/untitled.png" data-orig-size="1062,232" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="untitled" data-image-description="" data-medium-file="https://relinxapp.files.wordpress.com/2020/09/untitled.png?w=300" data-large-file="https://relinxapp.files.wordpress.com/2020/09/untitled.png?w=750" src="https://relinxapp.files.wordpress.com/2020/09/untitled.png?w=1024" alt="" srcset="https://relinxapp.files.wordpress.com/2020/09/untitled.png?w=1024 1024w, https://relinxapp.files.wordpress.com/2020/09/untitled.png?w=150 150w, https://relinxapp.files.wordpress.com/2020/09/untitled.png?w=300 300w, https://relinxapp.files.wordpress.com/2020/09/untitled.png?w=768 768w, https://relinxapp.files.wordpress.com/2020/09/untitled.png 1062w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Foreign Key editor dialog in DBeaver</figcaption></figure>



<p>Let’s start with the easy part: OnUpdate. Foreign keys reference primary keys and they are rarely (if ever) changed. So the OnUpdate rule is not very popular, but it makes sense to set it to Cascade, as sometimes we may have to update the primary keys of some rows (usually after migration). This way database will allow us to make the update and new ids will be propagated to the child tables.</p>



<p>OnDelete rule is a bit more complicated. Depending on the database we have options NoAction, Restrict, SetNull, SetDefault, and Cascade. So which one to choose?</p>



<p>NoAction is usually selected for keys referencing lookups or entities that can exist without referencing entity. For example, Products -&gt; Categories, Books -&gt; Authors, etc. Restrict in most cases is the same as NoAction, though for some databases there’re subtle <a href="https://www.vertabelo.com/blog/on-delete-restrict-vs-on-delete-no-action/" target="_blank" rel="noreferrer noopener">differences</a>.</p>



<p>On the other hand, Cascade is selected when child records can not exist without their parent. In Book and Author example, when a book is removed we should remove records from the BookAuthor table too. Other examples: OrderDetails -&gt; Orders, PostComments -&gt; Posts etc. Here some of you may disagree that the database should not automatically remove child rows, they should be removed by the application layer. Depending on business logic, yes, that’s true. But sometimes “unimportant” child deletions can be delegated to the database.</p>



<p>SetNull is rarely used. For example, the Foreign key between Employee.ManagerId and Employee.Id can be Set Null. When a manager is removed (if ever) his subordinates become orphans. Obviously, this rule should be selected only if the column is nullable.</p>



<p>SetDefault is the rarest among his counterparts. It sets the column to its default value when the parent record is removed. Because foreign keys reference primary keys we can hardly imagine a hard-coded default value for a field with a foreign key. But anyway this option exists in case we need it.</p>



<p>Indexes</p>



<p>Indexes are an important part of good database design, but a bit off-topic for our discussion, as they do little to protect our data (except for unique indexes). One underwater rock to be aware of: some RDBMS systems (e.g. Oracle) will automatically create an index on foreign key creation and we don’t have to worry about that. Others (e.g. MS SQL Server) will not and we have to add indexes ourselves.</p>



<p>Conclusion</p>



<p>A well-thought design can save us many hours of coding, testing, and troubleshooting. Writing queries and reports against a well-designed database is a pleasure. Publishing and migrating that data to a new system is also very easy.</p>



<p>Opinions presented in this article are the result of many years dealing with various database systems. Some may be suitable for your case and some even contrary. So don’t take them for granted.</p>



<p>Happy coding!</p>



<hr>



<p>This article is published by Elnur, founder of <a rel="noreferrer noopener" href="https://relinx.io/" target="_blank">Relinx – free and simple CMDB and IT Asset Manager</a></p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			<!-- .author-bio -->
	
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://relinx.io/2020/09/14/old-good-database-design/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24467136</guid>
            <pubDate>Mon, 14 Sep 2020 05:40:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The compositor is evil]]>
            </title>
            <description>
<![CDATA[
Score 243 | Comments 165 (<a href="https://news.ycombinator.com/item?id=24466929">thread link</a>) | @raphlinus
<br/>
September 13, 2020 | https://raphlinus.github.io/ui/graphics/2020/09/13/compositor-is-evil.html | <a href="https://web.archive.org/web/*/https://raphlinus.github.io/ui/graphics/2020/09/13/compositor-is-evil.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>First, I want to make it clear that I’m not accusing the compositor of true evil, which I define roughly as deliberately causing suffering. There’s unfortunately too much of that in the world. I mean it in the more metaphorical sense that it causes serious problems and forces other parts of the system to be more complex to work around its limitations.</p>

<p>I will also outline a better design that might be implemented in the future, as well as some possibilities for how applications can deal with the current situation. But first, to understand better how we got into this mess, we’ll look a bit into the past.</p>

<h2 id="8-bit-systems-video-processing-engines">8-bit systems: video processing engines</h2>

<p>Early home computers and video games had 8-bit CPUs and only a few kilobytes of RAM. Some computers, like the Apple II, allocated some of the RAM as a frame buffer and used the CPU to fill it, but this approach is quite limiting. So designers of most other systems of the time got creative - in particular, they augmented the CPU with a graphics processing engine. This engine did a fair amount of processing during <em>scanout,</em> in other words on the fly as the system generated a video signal.</p>

<p>The details of these early graphics processors varied, but most were a combination of four basic operations:</p>

<ul>
  <li>Indirect lookup of tile images (also useful for text).</li>
  <li>Expansion of low bit depth pixels into more colors through a palette.</li>
  <li>Control over the offset in video memory to read (for scrolling effects).</li>
  <li>Overlay of small graphic elements (sprites).</li>
</ul>

<p>The combination of even a modest CPU and one of these video processing engines led to a creative explosion of games, with a unique aesthetic formed from the primitives provided by the video chip: colorful scrolling backgrounds formed from tiles, with the player avatar and other characters overlaid, also moving dynamically. One of the most popular (and best documented) such chips is the <a href="https://en.wikipedia.org/wiki/MOS_Technology_VIC-II">C64 VIC-II</a>, and of course the <a href="https://en.wikipedia.org/wiki/Picture_Processing_Unit">NES PPU</a> is another classic example. People still create software for these beloved systems, learning from tutorials such as <a href="https://dustlayer.com/vic-ii/2013/4/22/when-visibility-matters">VIC-II for beginners</a>.</p>

<p>While the constraints of the hardware served as artistic inspiration for a diverse and impressive corpus of games, they also limited the kind of visual expression that was possible. For example, any attempt at 3D was primitive at best (though there were driving games that did impressive attempts, using the scrolling and color palette mechanisms to simulate a moving roadway).</p>

<p>The most ambitious games and demos agressively poked at the hardware, “racing the beam” to dynamically manipulate the registers in the video chip, unlocking more colors and other graphical effects that no doubt were not even anticipated by the original designers of the hardware.</p>

<p>Also worth mentioning as an extreme example is the Atari 2600, which had all of 20 bits (that’s right, two and a half bytes) devoted to what might be considered a frame buffer. Basically all graphical effects needed to be implemented by racing the beam. Fortunately, the programmer could make use of the deterministic cycle counts for instructions on the 6502 microprocessor, so that writes to the video registers would happen with timing considerably finer than one scan line. Even so, it requires some <a href="https://gist.github.com/anonymous/67b32347d5ca97d21a4c9e69a3b1a1a3">fairly tricky code</a> to even display the <a href="https://8bitworkshop.com/v3.6.0/embed.html?p=vcs&amp;r=TFpHAAAQAAAAAR1Ufls8AQMFDBJ42KIAiqjKmkjQ%2B6kOhQKFAErQ%2Ba2EAgyGCanGhQaFB6kAhQipGIUKDI%2BiJYUCytD7hgGgB4YNhg6GD4UCBADqEg%2BFEIURhQKI0PugEKIMeQ2FDrki8YUPuVXxhRu5ZfGFBLkz8YUNuUTxhQ4MFww%2BytDYuQAMSxEMCwyk6uoFDhyI0LKgOAUERgzH%2B6kChQGpIYUCjZYCBQOXTAvwABIeEgb8rFz4wPwE9BIDBPwAAPCgUPAw8ADwEgMA8AAAwMDAgADAQBIFwAUJNGwAqAULRDcSIRIR%2FxIfEh8SHxIfEh8SHxIfEh8SHxIfEh8SHxIfEh8SHxIfEh8SHxIfEh8SHxIfEh8SHxIfEh8SHxIfEh4SHBIIAPAA8A%3D%3D">Recurse Center logo</a> in all three colors.</p>

<p>An important aspect of all these systems, even those as underpowered as the Atari 2600, is that latency was <em>very</em> low. A well coded game might process the inputs during the vertical blanking interval, updating scroll and sprite coordinates (just a few register pokes), so they apply to the next frame being scanned out - latency under 16ms. Similar math applies to the latency of typing, which is why the Apple IIe <a href="https://danluu.com/input-lag/">scores so well</a> on latency tests compared to modern computers.</p>

<h2 id="16-and-32-bit-home-computers-cpu--framebuffer">16 and 32 bit home computers: CPU + framebuffer</h2>

<p>Through the late 80s, while arcade games continued to evolve their graphics hardware, the IBM PC became ascendant as a home computer. From its roots as a “business” computer, its CPU performance and RAM grew dramatically, but video output was generally a framebuffer with almost none of the capabilities listed above. Even so, display resolutions and bit depths improved (VGA was 640x480 with 16 colors per pixel). A reasonably powerful CPU, especially in the hands of an expert coder, can produce rather impressive graphics. An example is Microsoft Flight Simulator, which had 3D graphics, fully drawn in software.</p>

<p>Another landmark release was the original Doom, released in 1993, which also was entirely software-rendered graphics, complete with lighting and textures.</p>

<p>The rendering of UI and 2D graphics continued to evolve during this time as well, with proportional spaced fonts becoming the standard, and <a href="http://www.truetype-typography.com/ttalias.htm">antialiased font rendering</a> slowly becoming standard as well during the 90s. (Likely the <a href="https://telcontar.net/Misc/GUI/RISCOS/#text">Acorn Archimedes</a> was the first to ship with antialiased text rendering, around 1992)</p>

<h2 id="multiple-windows-and-process-separation">Multiple windows and process separation</h2>

<p>A trend at the same time was the ability to run multiple applications, each with their own window. While the idea had been around for a while, it burst on to the scene with the Macintosh, and the rest of the world caught up shortly after.</p>

<p>Early implementations did <em>not</em> have “preemptive multitasking,” or what we would call process separation. Applications, even when running in windowed mode, wrote directly into the framebuffer. The platform basically provided a library for applications to keep track of visible regions, so they wouldn’t paint in regions where the window was occluded. Related, when an occluding window went away, the system would notify the application it needed to repaint (WM_PAINT on Windows), and, because computers were slow and this took a while, the “damage region” was visible for a bit (this is explained and animated in Jasper St. Pierre’s <a href="https://magcius.github.io/xplain/article/x-basics.html">X Window System Basics</a> article).</p>

<p>In this early version of windowing GUI, latency wasn’t seriously affected. Some things were slower because resolution and bit depth was going up, and of course text needed to be rendered into bitmaps (more computationally expensive with antialiasing), but a well-written application could still be quite responsive.</p>

<p>However, running without process separation was a serious problem, if for no other reason than the fact that a misbehaving application could corrupt the entire system; consumer desktop systems were seriously behind the Unix/X11 ecosystem in this regard. System crashes were extremely common in the days of pre-X Mac OS, and pre-NT Windows (though Windows 95 had a limited form of process separation in that the display server bounded the window’s drawing area). Certainly in the Unix tradition, applications would run in their own process, with some kind of client-server protocol to combine the presentation of the multiple applications together. The X System (aka X11) came to dominate in Unix, but before that there were many other proposals, notably <a href="https://en.wikipedia.org/wiki/Blit_(computer_terminal)">Blit</a> and <a href="https://en.wikipedia.org/wiki/Blit_(computer_terminal)">NeWS</a>. Also common to the Unix tradition, these would commonly run across a network.</p>

<h2 id="apples-aqua-compositor">Apple’s Aqua compositor</h2>

<p>When <a href="https://en.wikipedia.org/wiki/Mac_OS_X_10.0">OS X</a> (now macOS) first shipped in 2001, it was visually striking in a number of ways. Notably for this discussion, the contents of windows were blended with full alpha transparency and soft shadows. At the heart of this was a <em>compositor.</em> Applications did not draw directly to the screen, but to off-screen buffers which were then composited using a special process, <a href="https://en.wikipedia.org/wiki/Quartz_Compositor">Quartz Compositor</a>.</p>

<p>In the first version, all the drawing and compositing was done in software. Since machines at the time weren’t particularly powerful, performance was bad. According to a <a href="https://arstechnica.com/gadgets/2011/05/mac-os-x-revisited/2/">retrospective review</a>, “in its initial incarnation, Aqua was unbearably slow and a huge resource hog.”</p>

<p>Even so, things improved. By 10.2 (Jaguar) in August 2002, Quartz Extreme did the compositing in the GPU, finally making performance comparable to pre-compositor designs.</p>

<p>While there have been changes (discussed in some detail below), Quartz Compositor is fundamentally the modern compositor design used today. Microsoft Vista adopted a similar design with <a href="https://docs.microsoft.com/en-us/windows/win32/dwm/dwm-overview">DWM</a>, first in Vista, and made non-optional by Windows 8. Also, while I consider Aqua the first real <a href="https://en.wikipedia.org/wiki/Compositing_window_manager">compositor</a> in the modern sense, there were important predecessors, notably the Amiga. Jasper St. Pierre points out that Windows 2000 had a limited compositor, known as <a href="https://docs.microsoft.com/en-us/windows/win32/winmsg/window-features#layered-windows">“layered windows”</a>, where certain windows could be redirected offscreen.</p>

<h2 id="doing-more-in-the-compositor">Doing more in the compositor</h2>

<p>Using the GPU to just bitblt window contents is using a tiny fraction of its capabilities. In the compositing process, it could be fading in and out alpha transparency, sliding subwindows around, and applying other effects without costing much at all in performance (the GPU is already reading all the pixels from the offscreen buffers and writing to the display surface). The only trick is exposing these capabilities to the application.</p>

<p>On the Apple side, this was driven by iOS and its heavy reliance on <a href="https://developer.apple.com/documentation/quartzcore">Core Animation</a>. The idea is that “layers” can be drawn using relatively slow software rendering, then scrolling and many other effects can be done smoothly at 60fps by compositing these layers in the GPU.</p>

<p>Core Animation was also made available in Mac OS 10.5 (Leopard). The corresponding Windows version was <a href="https://docs.microsoft.com/en-us/windows/win32/directcomp/directcomposition-portal">DirectComposition</a>, introduced in Windows 8 and a core feature of the <a href="https://en.wikipedia.org/wiki/Metro_(design_language)">Metro</a> design language (which was not very popular at the time).</p>

<p>These features have made the compositor more integral to modern GUI software, though there is a range of how aggressively applications make use of compositor feature.</p>

<h2 id="where-does-the-latency-come-from">Where does the latency come from?</h2>

<p>I talk a lot about latency, but let’s understand why introducing the compositor fundamentally adds so much of it. Some of this is also discussed in the blog post <a href="http://www.lofibucket.com/articles/dwm_latency.html">Desktop compositing latency is real and it annoys me</a> (also see <a href="https://news.ycombinator.com/item?id=15747650">HN discussion</a>).</p>

<p>The amount of time needed to render a frame of content varies. If the goal is smooth 60fps (as I think it should be!) then …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raphlinus.github.io/ui/graphics/2020/09/13/compositor-is-evil.html">https://raphlinus.github.io/ui/graphics/2020/09/13/compositor-is-evil.html</a></em></p>]]>
            </description>
            <link>https://raphlinus.github.io/ui/graphics/2020/09/13/compositor-is-evil.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24466929</guid>
            <pubDate>Mon, 14 Sep 2020 05:03:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Do Computers Generate Random Numbers?]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 49 (<a href="https://news.ycombinator.com/item?id=24465225">thread link</a>) | @aryamansharda
<br/>
September 13, 2020 | https://digitalbunker.dev/2020/09/08/how-do-computers-generate-random-numbers/ | <a href="https://web.archive.org/web/*/https://digitalbunker.dev/2020/09/08/how-do-computers-generate-random-numbers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="mainEntityOfPage">
<p>Anyone with any programming experience understands that computers are deterministic machines. If you provide the same input, you’ll always get the same output. That’s why having computers generate something by chance is trickier than it may seem.</p>
<p>Computers use random numbers for everything from cryptography to gambling, generative algorithms, video games, and more. However, computers are inherently incapable of being random. Instead, programmers rely on pseudorandom number generators (PRNGs). These are simply a category of algorithms that programmatically generate new random numbers from a given starting value called the seed.&nbsp;</p>
<p>These algorithms are not without their own limitations. Since the random numbers are programmatically generated, if someone were able to identify the seed value and the PRNG algorithm you were using, they’d be able to predict the next random number in the sequence. This would allow an attacker to break encryption, predict the next playing card in a sequence, cheat in a video game, etc. </p>
<p>Despite this concern, PRNGs are extremely useful in situations involving modeling and simulations as it allows you to “replay” a series of random events by initializing your random number generator with the same seed.&nbsp;</p>
<p>In situations where the randomness of the random numbers is critical, we use a “true” random number generator (TRNGs). Unlike PRNGs that have an arbitrary seed value, TRNGs pick a seed value from their environment / external data. </p>
<p>Here are a few potential options:</p>
<ul><li>Mouse movements</li><li>Fan noise</li><li>Atmospheric pressure</li><li>Number of microseconds since the last whole second</li></ul>
<p>We just need to pick a seed that an attacker wouldn’t be able to predict. This seed value will then be passed into an algorithm, similar to PRNGs, that will generate a random number to use.&nbsp;</p>
<p>The use case will generally dictate whether a PRNG will suffice or if a “true” RNG is needed. Regardless, it’s important to understand the practical differences between both approaches. </p>
<p>PRNGs are faster than TRNGs and their determinism is extremely useful in cases where you want to replay a series of “random” events. Additionally, some PRNGs are periodic in nature, but modern PRNGs with the right initialization parameters have a period long enough that it’s not a major concern. Conversely, TRNGs are slower than PRNGs, are non-deterministic, and are not periodic.</p>
<h2>Linear Congruential Generator</h2>
<p>Let’s take a look at implementing a simple PRNG. We’ll implement a variant called the <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">linear congruential generator</a> (LCG) algorithm. LCG was previously one of the most commonly used and studied PRNGs (<a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">more info</a>).&nbsp;</p>
<p>Here’s the recurrence relation for LCG:</p>
<div><figure><img src="https://lh3.googleusercontent.com/iNcDHvHA6BvD1fpYntUkZ-11dzW6EYoW5dHv7mMhPZhDNo5fJaIMZXUh7SmZq0AoobvHxg7K5MMvqoWav7ee0xHase0fhAjWmNWoW7RcT5GzAao1jVwtGY11q2yL6iuvWiYFgyHS" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<p>The <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">Wikipedia page on LCG</a> documents a few commonly used values for modulus, multiplier, and increment. There’s no consensus on the best values to use hence the differing values across implementations.&nbsp;</p>
<p>We have to be mindful of what values we use for these parameters. Choosing the wrong values can create a period that is too short which would render our random number generator useless. </p>
<p>In the image below, you can see that small changes to our parameters can greatly impact the period length.</p>
<div><figure><img src="https://lh4.googleusercontent.com/FVum2kuYt4oMYjOdzHx2txpQH0NgheDDSUSxyQJamzGbZgPcUALt3Mmv4H-BElodwXwTzcLaqicG8IdsPFAgolV4DK8NkZXtghDQ_hX6MyMsxU_irWeOxR1ijaoYgecOU3fbuPbQ" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<h2>Implementation</h2>
<p>For our implementation, we’ll use the values documented in previous standards of the C languages (C90/C99/ANSI C,&nbsp; and C11).&nbsp;</p>
<p><code>a = 1103515245</code></p>
<p><code>m = 2³¹</code></p>
<p><code>c = 12345</code></p>
<blockquote><p>Whatever PRNG algorithm you choose should result in a uniform distribution of random numbers and a sufficiently long period.&nbsp;&nbsp;</p></blockquote>
<p>Here’s a simple implementation in Swift:</p>

<h2>Simulating Dice Rolls</h2>
<p>Let’s say you wanted to simulate a dice roll. </p>
<p>It might seem reasonable to change the modulus to 6, but this would create a period far too short to be usable. We need to stick with well-chosen and tested values for our parameters. </p>

<p>Instead, using the approach in the code above, we can simulate 40,000 dice rolls:</p>
<div><figure><img src="https://lh6.googleusercontent.com/uVT2lMlmWHcYIio5WmgkMMXz9nkkA_P4lzIVWeyVETxasCDn5s_5qQWgBh5FAvfPDwHipyMaqHWmb_lOp_J7oOXiRdxo_3lywqvrIo4Ky40QoDUYIrJ15w5mC6B9XWVLWvyySRWr" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<p>Dice Value: 40,000 Roll Simulations</p>
<blockquote><p>Looking at the results, we can see that it is indeed a uniform distribution of values.</p></blockquote>
<h2>Generating Random Numbers In A Range</h2>
<p>Next, let’s consider generating random numbers that fall in a range. Again, we shouldn’t change our parameters without fully understanding how it affects the period. </p>
<p>Instead, we should map our PRNG’s results to values in our desired range.&nbsp;</p>

<div><figure><img src="https://lh4.googleusercontent.com/A2h_s4Z_eN-qGkjEZabgPwWpOjMmIDdD9fQlYcdM344voNTlxPIvammtm6RRXJ6aDgG83h67zZYf4E4olN7jz5VRiIK10D_XeRTf0whcfHLZhn8Q9142vJBZU9Ma40DIvFVw7FdU" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<p>After a million simulations across the specified range [30, 80)</p>
<h2>Further Reading</h2>
<p>If you’re interested in a <a href="https://en.wikipedia.org/wiki/List_of_random_number_generators">more modern PRNG</a>, I’d recommend exploring the <a href="https://en.wikipedia.org/wiki/Mersenne_Twister">Mersenne-Twister</a> approach. It’s currently the most popular PRNG algorithm and currently used in Python (numpy), Ruby, PHP, R, and C++.&nbsp;This was meant to be a high-level introduction into this topic. If you’re interested in learning more about this topic, <a href="https://en.wikipedia.org/wiki/List_of_random_number_generators#Pseudorandom_number_generators_(PRNGs)">here a few other PRNGs to consider. </a> </p>
<p>Hope you enjoyed this article! Feel free to check out my other articles below!</p>
 
</div></div>]]>
            </description>
            <link>https://digitalbunker.dev/2020/09/08/how-do-computers-generate-random-numbers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24465225</guid>
            <pubDate>Mon, 14 Sep 2020 00:22:20 GMT</pubDate>
        </item>
    </channel>
</rss>
