<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 10]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 10. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sun, 27 Sep 2020 12:30:54 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-10.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sun, 27 Sep 2020 12:30:54 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Time Zone Bugs I Ran Into]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 19 (<a href="https://news.ycombinator.com/item?id=24586991">thread link</a>) | @Sandeepg33k
<br/>
September 24, 2020 | https://blog.davidojeda.dev/4-time-zone-bugs-i-ran-into | <a href="https://web.archive.org/web/*/https://blog.davidojeda.dev/4-time-zone-bugs-i-ran-into">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1600871234687/et6yX6Wlb.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=format&amp;q=60"><div><div itemprop="text"><p>Software development is hard. Time zones are hard. Dealing with time zones in software development?  Yeah, <strong>harder</strong>.</p>
<p>Here are <strong>4</strong> places where time zones might differ; and 4 personal bug stories for each case. I'll be referring to the same app for each story, the one I work with and maintain in my day-to-day job. This app works with Mexico's City time zone.</p>

<h2 id="time-zone-of-your-app">Time zone of your app</h2>
<p>Your app runs with a default time zone. It's usually the time zone of the server it runs on, but it can be different.</p>
<p>In Java, you can define the time zone of the whole application when it boots. If for some reason you don't want to work with your server's timezone, this is the place to change it.</p>
<h3 id="the-bug-time-in-chile-off-by-one-hour">The bug - Time in Chile off by one hour</h3>
<p>The app shows the date of creation of an object in many places. Three of these places were showing different times; <strong>two incorrect and one correct</strong>.</p>
<p>One error was because I forgot to pass the user's timezone to the date formatter. Quick fix.</p>
<p>The second error was weird. I couldn't identify why, so I compared it with the correct one.</p>
<p>But the third case was only right because the date had been double parsed! Once on the server and a second time on the client (browser).</p>
<p>So none of the three dates were actually correct. <strong>WTF?</strong></p>
<p>After some headaches, I learned that each version of Java comes with a time zone data file. This file includes the latest information on the world's time zones, and the <a target="_blank" href="https://www.iana.org/time-zones">Internet Assigned Numbers Authority (IANA)</a> manages it. </p>
<p>Time zone changes happen when governments decide to apply or not to apply daylight saving times (DST). </p>
<p>In 2015, Chile decided to move from seasonal DST to permanent DST, and some JRE releases included this change. But then, in 2016 Chile decided to revert to how it was before; seasonal DST instead of permanent. <strong>What was the issue?</strong> The app was using one of these JRE releases with an outdated time zone data file.</p>
<p>You can read more about these <a target="_blank" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0622033">DST issues with Java here</a>.</p>

<h2 id="time-zone-of-your-server">Time zone of your server</h2>
<p>The operative system defines your server's time zone. I've always used Linux for production servers, and they come with UTC as the default time zone.</p>
<p>If you need to change this time zone, make sure to do it before your application starts or it won't reflect the change.</p>
<h3 id="the-bug-app-using-the-wrong-default-time-zone-from-the-server">The bug - App using the wrong default time zone from the server</h3>
<p>I was migrating some processes in our build and deployment pipeline. From configuring the app with every deploy to a pre-built AWS Amazon Machine Image (AMI) with HashiCorp's Packer.</p>
<p>One step of the initial configuration was to change the server's time zone to America/Mexico_City, and I was aware of it. So I created a bash script that changed the time zone on the AMI we were going to use. The script worked well when I tested it on a Linux instance. No problem there.</p>
<p>I proceeded to use this AMI in our staging environment and neither I nor my teammates noticed something off. So, to production!</p>
<p>Customer's questions and complaints about dates behaving weird arrived minutes later üò•</p>
<p><strong>The issue?</strong> The script that updated the server's time zone was failing silently and I missed double-checking it in the staging environment. The app wasn't using an explicit time zone, so it took the server's. And the server's time zone was UTC by default, and we needed America/Mexico_City. I fixed the script and, to make sure, updated the app's default time zone to the expected one.</p>

<h2 id="time-zone-of-your-database">Time zone of your database</h2>
<p>You can also change your database's time zone. I use AWS Relational Database Service (RDS) and the default time zone is UTC. You can update it from the parameter group of your cluster or individual instance.</p>
<h3 id="the-bug-wrong-database-time-zone">The bug - Wrong database time zone</h3>
<p>Now I was doing a migration of our database. I anticipated myself by changing the database's time zone to America/Mexico_City because the app and server had it. Every part of the system should be in the same page, right? <strong>Wrong!</strong></p>
<p>The database was perfectly okay being in UTC while the app and server were in America/Mexico_City. That's how it worked. </p>
<p>This bug was not as critical as the previous ones because I caught it in our staging environment. </p>

<h2 id="time-zone-of-your-users">Time zone of your users</h2>
<p>If it wasn't enough, each one of your users can have a different time zone, and you have to take that into consideration when showing time sensitive-data.</p>
<h3 id="the-bug-many-of-them">The bug - Many of them!</h3>
<p>I've encountered many bugs related to user's time zones:</p>
<ul>
<li>Missing time zone in date formatter.</li>
<li>Incorrect time zone selection from the user.</li>
<li>Missing DST time zone options for users to select.</li>
<li>Storing dates with time zone modifications that get parsed again when retrieved.</li>
</ul>
<hr>
<p>Time zones are one of the most complicated topics you'll find while developing software. They're complex by themselves, and even more when you throw some code into the mix.</p>
<p>I hope these short stories can help you avoid my mistakes in the future üôåüèº</p>
<p><strong>Thanks for reading me! üíô</strong></p>
</div></div></section></div></div>]]>
            </description>
            <link>https://blog.davidojeda.dev/4-time-zone-bugs-i-ran-into</link>
            <guid isPermaLink="false">hacker-news-small-sites-24586991</guid>
            <pubDate>Fri, 25 Sep 2020 06:01:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Simple WireGuard Docker network setup]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 11 (<a href="https://news.ycombinator.com/item?id=24583512">thread link</a>) | @bjoko
<br/>
September 24, 2020 | https://www.eisfunke.com/article/docker-wireguard-systemd.html | <a href="https://web.archive.org/web/*/https://www.eisfunke.com/article/docker-wireguard-systemd.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
                        A simple solution for routing specific docker containers through a WireGuard VPN using only two simple systemd-networkd files, no cumbersome <code>wg</code> or <code>ip</code> calls.
                    </p><div id="article">
                <!-- Body -->
<figure>
<img src="https://www.eisfunke.com/res/article/metro-tunnel.jpg" alt=""><figcaption>I heard that dramatic article images heavy with meaning are a meme, so here you have a picture of a subway tunnel because VPNs are network tunnels. <a href="#fn1" id="fnref1" role="doc-noteref"><sup>1</sup></a></figcaption>
</figure>
<p><a href="#instructions-in-short">Jump to short instructions</a></p>
<p>I recently reorganized my self-hosted stuff to use Docker. While Docker not really fits my philosophy, the broad availability and low-maintenance of images for pretty much all software convinced me to switch and so far I‚Äôm happy, it‚Äôs significantly less work than before, I can check the Docker Compose files into version control, and backups are easy with everthing inside Docker volumes.</p>

<p>Anyway ‚Äì here is the scenario I want to talk about: You have one or more Docker containers and you want to route all its traffic through a WireGuard VPN, but not the other containers‚Äô or the host‚Äôs traffic. You have root access to the host machine.</p>

<h2 id="wg-quick">wg-quick</h2>
<p>The most straightforward way of using WireGuard is <a href="https://git.zx2c4.com/wireguard-tools/about/src/man/wg-quick.8"><em>wg-quick</em></a>. You just need a configuration file, about 10 lines long (take a look at an OpenVPN config file and you will appreciate this shortness), run <code>sudo wg-quick up {config file}</code> and your VPN is up and running. These files also work with the Android/iOS/MacOS/Windows apps.</p>
<p>For example, the VPN provider <a href="https://mullvad.net/">Mullvad</a>, which I can recommend 100%, lets you download wg-quick files for easy setup.</p>
<p>wg-quick is easy, but it routes <em>all</em> traffic through the VPN, which is what you want <em>most of the times</em>, but not in our use case. Watch out, the allowed IP range does not help as you might think: You can tell WireGuard that only traffic <em>to</em> specific IPs should be routed through the VPN, which makes sense for something like a VPN for employees: only traffic to the company‚Äôs network should go through the VPN. We however need to filter by <em>source</em>. wg-quick can‚Äôt do that.</p>

<p>After quite a lot of searching I finally found a great <a href="https://nbsoftsolutions.com/blog/routing-select-docker-containers-through-wireguard-vpn#solution-2">blog article</a> detailing a solution to our exact problem using the <code>wg</code> and <code>ip</code> tools directly (and one using WireGuard client inside another container). This article is mostly based on that one.</p>
<p>The gist of that that method is: You set up a WireGuard interface manually, the same way wg-quick does internally, but without any routing to it yet. Then you add a routing rule via <code>ip</code> that sends all traffic from a specific subnet to the VPN. Lastly, you configure the desired Docker container to use exactly that subnet using Docker Compose or <code>docker network</code>.</p>
<p>While it is a nice and elegant solution, I think it is kind of cumbersome to configure, so I tried to find a more comfortable way of setting this up.</p>
<h2 id="systemd-networkd">systemd-networkd</h2>
<p>While I agree with some of the criticism against systemd and its policies, systemd-networkd really is the best thing that ever happened to network configuration on Linux. Instead of fiddling around with awfully complex tools like <code>ip</code> or weird network managers, you can set up your network with short, few and well-documented plain-text config files. I love it. Turns out it also has everything we need for tunneling our Docker containers, and in a nice and easy way. This is the solution I went with and want to show you.</p>

<p>For the impatient. For detailed instructions see below.</p>
<p>To tunnel a container through a WireGuard VPN given a wg-quick config file from your VPN provider, add these files to <code>/etc/systemd/network/</code>:</p>
<p><strong><code>80-wg0.netdev</code>:</strong></p>
<div id="cb1"><pre><code><span id="cb1-1"><span>[NetDev]</span></span>
<span id="cb1-2"><span>Name </span><span>=</span><span> wg0</span></span>
<span id="cb1-3"><span>Kind </span><span>=</span><span> wireguard</span></span>
<span id="cb1-4"><span>Description </span><span>=</span><span> WireGuard VPN</span></span>
<span id="cb1-5"></span>
<span id="cb1-6"><span>[WireGuard]</span></span>
<span id="cb1-7"><span>PrivateKey </span><span>=</span><span> {Private key, same as in wg-quick config}</span></span>
<span id="cb1-8"></span>
<span id="cb1-9"><span>[WireGuardPeer]</span></span>
<span id="cb1-10"><span>PublicKey </span><span>=</span><span> {Public key, same as in wg-quick config}</span></span>
<span id="cb1-11"><span>AllowedIPs </span><span>=</span><span> </span><span>0</span><span>.</span><span>0</span><span>.</span><span>0.0</span><span>/</span><span>0</span><span>,::</span><span>0</span><span>/</span><span>0</span></span>
<span id="cb1-12"><span>Endpoint</span><span>=</span><span> {Endpoint, same as in wg-quick config}</span></span></code></pre></div>
<p><strong><code>85-wg0.network</code>:</strong></p>
<div id="cb2"><pre><code><span id="cb2-1"><span>[Match]</span></span>
<span id="cb2-2"><span>Name</span><span>=</span><span>wg0</span></span>
<span id="cb2-3"></span>
<span id="cb2-4"><span>[Network]</span></span>
<span id="cb2-5"><span># If you need multiple addresses, e.g. for IPv4 and 6, use multiple Address lines.</span></span>
<span id="cb2-6"><span>Address </span><span>=</span><span> {Address to bind to inside the VPN, same as in wg-quick config}</span></span>
<span id="cb2-7"></span>
<span id="cb2-8"><span>[RoutingPolicyRule]</span></span>
<span id="cb2-9"><span>From </span><span>=</span><span> </span><span>10</span><span>.</span><span>123</span><span>.</span><span>0.0</span><span>/</span><span>16</span></span>
<span id="cb2-10"><span>Table </span><span>=</span><span> </span><span>242</span></span>
<span id="cb2-11"></span>
<span id="cb2-12"><span>[Route]</span></span>
<span id="cb2-13"><span>Gateway </span><span>=</span><span> {The address of the interface, same as above in [Network] in Address}</span></span>
<span id="cb2-14"><span>Table </span><span>=</span><span> </span><span>242</span></span>
<span id="cb2-15"></span>
<span id="cb2-16"><span>[Route]</span></span>
<span id="cb2-17"><span>Destination </span><span>=</span><span> </span><span>0</span><span>.</span><span>0</span><span>.</span><span>0.0</span><span>/</span><span>0</span></span>
<span id="cb2-18"><span>Type </span><span>=</span><span> blackhole</span></span>
<span id="cb2-19"><span>Metric </span><span>=</span><span> </span><span>1</span></span>
<span id="cb2-20"><span>Table </span><span>=</span><span> </span><span>242</span></span></code></pre></div>
<p>Then run <code>sudo docker network create tunneled0 --subnet 10.123.0.0</code>. Now you can run docker containers with <code>--net=tunneled0</code> to tunnel them.</p>
<p>Alternatively use Docker Compose to create and use a Docker network in that subnet:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>version</span><span>:</span><span> </span><span>"3.7"</span></span>
<span id="cb3-2"><span>services</span><span>:</span></span>
<span id="cb3-3"><span>  </span><span>app</span><span>:</span></span>
<span id="cb3-4"><span>    </span><span>image</span><span>:</span><span> </span><span>{</span><span>image</span><span>}</span></span>
<span id="cb3-5"><span>    </span><span>dns</span><span>:</span><span> </span><span>"{DNS server to use}"</span></span>
<span id="cb3-6"><span>    </span><span>networks</span><span>:</span></span>
<span id="cb3-7"><span>      </span><span>tunneled0</span><span>:</span><span> </span><span>{}</span></span>
<span id="cb3-8"><span>networks</span><span>:</span></span>
<span id="cb3-9"><span>  </span><span>tunneled0</span><span>:</span></span>
<span id="cb3-10"><span>    </span><span>ipam</span><span>:</span></span>
<span id="cb3-11"><span>      </span><span>config</span><span>:</span></span>
<span id="cb3-12"><span>        </span><span>-</span><span> </span><span>subnet</span><span>:</span><span> 10.123.0.0/16</span></span></code></pre></div>
<p>That‚Äôs it!</p>

<h2 id="preparation">Preparation</h2>
<p>Make sure that your host has:</p>
<ul>
<li>systemd. Most Linuxes do.</li>
<li>The WireGuard kernel module installed or kernel 5.6 or newer running.</li>
<li>The WireGuard tools installed.</li>
<li>Docker and optionally Docker Compose installed.</li>
<li>A working network connection. I don‚Äôt think it needs to be configured using systemd-networkd, though I haven‚Äôt tested that. I recommend to use networkd if possible anyway.</li>
<li>systemd-networkd running and enabled (<code>sudo systemctl enable systemd-networkd &amp;&amp; systemctl start system-networkd</code>).</li>
</ul>
<h2 id="setting-up-the-interface">Setting up the Interface</h2>
<p>First we have to get the WireGuard interface running. We couldn‚Äôt do it with <code>wg-quick</code> as it automatically routes all traffic through it, and using <code>wg</code> is cumbersome, so we use systemd-networkd. All we have to do is add two files in <code>/etc/systemd/network/</code>:</p>
<p><strong><code>80-wg0.netdev</code>:</strong></p>
<div id="cb4"><pre><code><span id="cb4-1"><span>[NetDev]</span></span>
<span id="cb4-2"><span># Or any other name</span></span>
<span id="cb4-3"><span>Name </span><span>=</span><span> wg0</span></span>
<span id="cb4-4"><span>Kind </span><span>=</span><span> wireguard</span></span>
<span id="cb4-5"><span># Or your own description</span></span>
<span id="cb4-6"><span>Description </span><span>=</span><span> WireGuard VPN</span></span>
<span id="cb4-7"></span>
<span id="cb4-8"><span>[WireGuard]</span></span>
<span id="cb4-9"><span>PrivateKey </span><span>=</span><span> {Private key, same as in wg-quick config}</span></span>
<span id="cb4-10"></span>
<span id="cb4-11"><span>[WireGuardPeer]</span></span>
<span id="cb4-12"><span>PublicKey </span><span>=</span><span> {Public key, same as in wg-quick config}</span></span>
<span id="cb4-13"><span># Remeber, these are allowed target IPs, not source, therefore we allow all</span></span>
<span id="cb4-14"><span>AllowedIPs </span><span>=</span><span> </span><span>0</span><span>.</span><span>0</span><span>.</span><span>0.0</span><span>/</span><span>0</span><span>,::</span><span>0</span><span>/</span><span>0</span></span>
<span id="cb4-15"><span>Endpoint</span><span>=</span><span> {Endpoint, same as in wg-quick config}</span></span></code></pre></div>
<p><strong><code>85-wg0.network</code>:</strong></p>
<div id="cb5"><pre><code><span id="cb5-1"><span>[Match]</span></span>
<span id="cb5-2"><span># Same as in .netdev file</span></span>
<span id="cb5-3"><span>Name</span><span>=</span><span>wg0</span></span>
<span id="cb5-4"></span>
<span id="cb5-5"><span>[Network]</span></span>
<span id="cb5-6"><span># If you need multiple addresses, e.g. for IPv4 and 6, use multiple Address lines.</span></span>
<span id="cb5-7"><span>Address </span><span>=</span><span> {Address to bind to inside the VPN, same as in wg-quick config}</span></span></code></pre></div>
<p>As you can see, it‚Äôs very similar to and just as easy as a wg-quick config file and most values can be taken straight from said file. For more info take a look at the man pages of <a href="https://www.freedesktop.org/software/systemd/man/systemd.netdev.html">netdev</a> and <a href="https://www.freedesktop.org/software/systemd/man/systemd.network.html">network</a> files.</p>
<p>The names of the files can be adjusted to your liking. Note that systemd-networkd reads config files in alphabetic order, so adjust the prefixed numbers in the names if necessary.</p>
<p>Use <code># systemctl restart systemd-networkd</code> (or reboot to be sure) to apply the configs. Now you can verify that the inferface is actually working:</p>
<pre><code>$ curl -4 icanhazip.com
$ sudo curl -4 --interface wg0 icanhazip.com</code></pre>
<p>The results of the two <code>curl</code> calls should be different, the first shows your normal IP, the second one should yield the VPN IP address. Note that for me the second curl only works as root (probably curl can only bind to the interface as root for some reason). With <code>sudo wg</code> and <code>networkctl status wg0</code> you can get further info about the interface.</p>
<h2 id="routing">Routing</h2>
<p>Now that we got the WireGuard interface up and running we have to arrange for the traffic of our Docker container to actually go through it. Turns out all we have to do is adding four lines to <code>85-wg0.network</code>. This it how it should look like:</p>
<p><strong>Updated <code>85-wg0.network</code>:</strong></p>
<div id="cb7"><pre><code><span id="cb7-1"><span>[Match]</span></span>
<span id="cb7-2"><span>Name</span><span>=</span><span>wg0</span></span>
<span id="cb7-3"></span>
<span id="cb7-4"><span>[Network]</span></span>
<span id="cb7-5"><span># If you need multiple addresses, e.g. for IPv4 and 6, use multiple Address lines.</span></span>
<span id="cb7-6"><span>Address </span><span>=</span><span> {Address to bind to inside the VPN, same as in wg-quick config}</span></span>
<span id="cb7-7"></span>
<span id="cb7-8"><span>[RoutingPolicyRule]</span></span>
<span id="cb7-9"><span># Or any other unused private subnet</span></span>
<span id="cb7-10"><span>From </span><span>=</span><span> </span><span>10</span><span>.</span><span>123</span><span>.</span><span>0.0</span><span>/</span><span>16</span></span>
<span id="cb7-11"><span># Or any other unused table number</span></span>
<span id="cb7-12"><span>Table </span><span>=</span><span> </span><span>242</span></span>
<span id="cb7-13"></span>
<span id="cb7-14"><span>[Route]</span></span>
<span id="cb7-15"><span>Gateway </span><span>=</span><span> {The address of the interface, same as above}</span></span>
<span id="cb7-16"><span># Same table number as above</span></span>
<span id="cb7-17"><span>Table </span><span>=</span><span> </span><span>242</span></span>
<span id="cb7-18"></span>
<span id="cb7-19"><span>[Route]</span></span>
<span id="cb7-20"><span>Destination </span><span>=</span><span> </span><span>0</span><span>.</span><span>0</span><span>.</span><span>0.0</span><span>/</span><span>0</span></span>
<span id="cb7-21"><span>Type </span><span>=</span><span> blackhole</span></span>
<span id="cb7-22"><span>Metric </span><span>=</span><span> </span><span>1</span></span>
<span id="cb7-23"><span># Same table number as above</span></span>
<span id="cb7-24"><span>Table </span><span>=</span><span> </span><span>242</span></span></code></pre></div>
<p>What the <code>[RoutingPolicyRule]</code> section does is taking all traffic from the specified subnet and looking up the routes in routing table 242 for it. We add a route to (hopefully previously empty) table 242 with the <code>[Route]</code> section, and that route sends the traffic to our WireGuard interface because we set the interface‚Äôs address as gateway.</p>
<p>The second <code>[Route]</code> section sets a blackhole route in the same table with a metric of 1, that means a lower priority than the default metric of 0. This should discard all traffic (instead of routing it through the default network without any VPN) if the VPN gateway is down and therefore prevent leaks.</p>
<p>That should be all we have to do on the system side!</p>
<h2 id="using-it-with-docker">Using it with Docker</h2>
<p>To actually get Docker to use the interface with specific containers we have two possibilities.</p>
<p>Note for both methods that published ports will not be available on <code>localhost</code> on the host as they normally would as all container traffic goes through the VPN (which is what we wanted, of course). So if you add an exposed port it must be accessed through the VPN‚Äôs outside address.</p>
<h3 id="docker-directly">Docker Directly</h3>
<p>Create a Docker network in the subnet we used in the systemd-networkd config file with <code>sudo docker network create tunneled0 --subnet 10.123.0.0</code> (or use any other name than <code>tunneled0</code>), then run containers in that network by using the <code>--net=tunneled0</code> option. With the <code>--dns</code> option you can set a custom DNS so that no DNS traffic gets leaked.</p>
<p>For example, you can use <code>sudo docker run -t --net=tunneled0 curlimages/curl icanhazip.com</code> to check that the returned IP is actually the VPN‚Äôs IP.</p>
<h3 id="docker-compose">Docker Compose</h3>
<p>This is the more comfortable method. You can use this as a base for your own compose files:</p>
<div id="cb8"><pre><code><span id="cb8-1"><span>version</span><span>:</span><span> </span><span>"3.7"</span></span>
<span id="cb8-2"><span>services</span><span>:</span></span>
<span id="cb8-3"><span>  </span><span>app</span><span>:</span></span>
<span id="cb8-4"><span>    </span><span>image</span><span>:</span><span> </span><span>{</span><span>image</span><span>}</span></span>
<span id="cb8-5"><span>    </span><span>dns</span><span>:</span><span> </span><span>"{DNS server to use}"</span></span>
<span id="cb8-6"><span>    </span><span>networks</span><span>:</span></span>
<span id="cb8-7"><span>      # Or your own name</span></span>
<span id="cb8-8"><span>      </span><span>tunneled0</span><span>:</span></span>
<span id="cb8-9"><span>networks</span><span>:</span></span>
<span id="cb8-10"><span>  # Same name as above</span></span>
<span id="cb8-11"><span>  </span><span>tunneled0</span><span>:</span></span>
<span id="cb8-12"><span>    </span><span>ipam</span><span>:</span></span>
<span id="cb8-13"><span>      </span><span>config</span><span>:</span></span>
<span id="cb8-14"><span>        </span><span>-</span><span> </span><span>subnet</span><span>:</span><span> 10.123.0.0/16</span></span></code></pre></div>
<h2 id="port-forwarding">Port Forwarding</h2>
<p>You can use Docker‚Äôs normal port publishing options to make ports available through the VPN. So, for example, if your VPN provider gives you port <code>1234</code> and you want port <code>80</code> inside your container to be available through the VPN, call Docker with <code>-p 1234:80</code> (do not forget ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.eisfunke.com/article/docker-wireguard-systemd.html">https://www.eisfunke.com/article/docker-wireguard-systemd.html</a></em></p>]]>
            </description>
            <link>https://www.eisfunke.com/article/docker-wireguard-systemd.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24583512</guid>
            <pubDate>Thu, 24 Sep 2020 20:54:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Consume less, produce more]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24582837">thread link</a>) | @hecticjeff
<br/>
September 24, 2020 | https://www.chrismytton.com/2020/09/24/consume-less-produce-more/ | <a href="https://web.archive.org/web/*/https://www.chrismytton.com/2020/09/24/consume-less-produce-more/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
<p>If you have too many inputs then your brain gets overwhelmed. Every piece of information you consume takes up some brain cycles.</p>

<p>If you‚Äôre not producing enough output to match your inputs then it can get clogged up in your brain. You end up with too many strands of thought. Too many lines of enquiry.</p>

<h2 id="excess-consumption-causes-anxiety">Excess consumption causes anxiety</h2>

<p>This can often be a cause of anxiety, stress and depression. Just increasing the amount you produce allows your brain to work through your anxieties.</p>

<p>Perhaps this is why mental health issues are on the rise. There are just so many inputs for our brain in the modern world that we don‚Äôt have time to process them all into coherent outputs, so that we can understand the information we‚Äôre being presented with.</p>

<h2 id="reduce-consumption">Reduce consumption</h2>

<p>Reduce the number of inputs in your daily life.</p>

<ul>
  <li>Stop reading the news</li>
  <li>Spend less time on social media</li>
  <li>Reduce the number of websites you visit daily</li>
  <li>Delete unused apps from your phone</li>
  <li>Eliminate unnecessary calendar appointments</li>
  <li>Spend less time watching TV series</li>
</ul>

<p>Generally stimulate your brain less.</p>

<h2 id="increase-production">Increase production</h2>

<p>Increase the number of productive outputs in your life.</p>

<ul>
  <li>Create something with your hands</li>
  <li>Draw or paint pictures (doesn‚Äôt matter if you‚Äôre good or not)</li>
  <li>Write more, keep a journal or a blog</li>
  <li>Increase your daily step count</li>
  <li>Explore new places</li>
  <li>Exercise regularly</li>
  <li>Cook for yourself, rather than eating out</li>
</ul>

<p>These are things that allow you to express yourself. Express the ideas in your brain. Work through the inputs in your life.</p>

<p>Not everything has to have a point, sometimes you just need to <a href="https://www.chrismytton.com/2019/09/24/do-things-for-fun/">do things for fun</a>.</p>

<p><img src="https://www.chrismytton.com/assets/images/chelt-paint-fest-2020.jpg" alt="Cheltenham Paint Festival 2020 at Cheltenham Spa station"></p>

<h2 id="express-yourself">Express yourself</h2>

<p>It‚Äôs by expressing the ideas in your brain that you can actually think clearly. Because the more you express them the more you can see them. Then you can visualise the ideas. Then you can better structure and organise them and compartmentalize them.</p>

<p>Now stop consuming these words and go and produce something. Express yourself.</p>

  </div></div>]]>
            </description>
            <link>https://www.chrismytton.com/2020/09/24/consume-less-produce-more/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24582837</guid>
            <pubDate>Thu, 24 Sep 2020 19:53:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Work on What Matters]]>
            </title>
            <description>
<![CDATA[
Score 395 | Comments 95 (<a href="https://news.ycombinator.com/item?id=24581810">thread link</a>) | @wholien
<br/>
September 24, 2020 | https://staffeng.com/guides/work-on-what-matters | <a href="https://web.archive.org/web/*/https://staffeng.com/guides/work-on-what-matters">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><h4><a href="https://staffeng.com/guides">Guides</a> / <a href="https://staffeng.com/guides/work-on-what-matters">Work on what matters</a></h4><div><p>We all have a finite amount of time to live, and within that mortal countdown we devote some fraction towards our work. Even for the most career-focused, your life will be filled by many things beyond work: supporting your family, children, exercise, being a mentor and a mentee, hobbies, and so the list goes on. This is the sign of a rich life, but one side-effect is that time to do your work will become increasingly scarce as you get deeper into your career.</p>
<p>If you‚Äôre continuing to advance in your career, then even as your time available for work shrinks, the expectations around your impact will keep growing. For a while you can try sleeping less or depriving yourself of the non-work activities you need to feel whole, but you‚Äôll inevitably find that your work maintains an aloof indifference to your sacrifice rather than rewarding it. Only through <a href="https://lethain.com/forty-year-career/">pacing your career to your life</a> can you sustain yourself for the long-term.</p>
<p>Indeed, pacing yourself becomes the central challenge of a sustained, successful career: increasingly senior roles require that you accomplish more and more, and do it in less and less time. The ledge between these two constraints gets narrower the further you go, but it remains walkable if you take a deliberate approach.</p>
<p>First a discussion on a few common ways to get tripped up: <em>snacking</em>, <em>preening</em>, and <em>chasing ghosts</em>. Then we‚Äôll get into the good stuff: how <em>do</em> you work on what really matters?</p>
<h2>Avoid snacking</h2>
<p>Hunter Walk recommends that folks <a href="https://hunterwalk.com/2016/06/18/the-best-startups-resists-snacks-im-not-talking-about-food/">avoid ‚Äúsnacking‚Äù</a> when they prioritize work. If you‚Äôre in a well-run organization, at some point you‚Äôre going to run out of things that are both high-impact and easy. This leaves you with a choice between shifting right to hard and high-impact or shifting down to easy and low-impact. The latter choice--easy and low-impact--is what Walk refers to as <em>snacking</em>.</p>
<p>When you‚Äôre busy, these snacks give a sense of accomplishment that makes them psychologically rewarding but you‚Äôre unlikely to learn much from doing them, others are likely equally capable of completing them (<em>and</em> for some of them it might be a good development opportunity), and there‚Äôs a tremendous opportunity cost versus doing something higher impact.</p>
<p>It‚Äôs ok to spend some of your time on snacks to keep yourself motivated between bigger accomplishments, but you have to keep yourself honest about how much time you‚Äôre spending on high-impact work versus low-impact work. In senior roles, you‚Äôre more likely to self-determine your work and if you‚Äôre not deliberately tracking your work, it‚Äôs easy to catch yourself doing little to no high-impact work.</p>
<h2>Stop preening</h2>
<p>Where ‚Äúsnacking‚Äù is the broad category of doing easy and low-impact work, there‚Äôs a particularly seductive subset of snacking that I call ‚Äúpreening.‚Äù Preening is doing low-impact, high-visibility work. Many companies conflate high-visibility and high-impact so strongly that they can‚Äôt distinguish between preening and impact, which is why it‚Äôs not uncommon to see some companies‚Äô senior-most engineers spend the majority of their time doing work of dubious value but that is frequently recognized in company meetings.</p>
<p>If you‚Äôre taking a short-term look at <a href="https://yenkel.dev/posts/how-to-achieve-career-growth-opportunities-skills-sponsors">career growth</a>, then optimizing for your current organization‚Äôs pathologies in evaluating impact is the optimal path: go forth and preen gloriously. However, if you‚Äôre thinking about developing yourself to succeed as your <a href="https://lethain.com/growing-with-your-company/">current role grows in complexity</a> or across multiple organizations, then it‚Äôs far more important to strike a balance between valued work and self-growth.</p>
<p>This is also an important factor to consider when choosing a company to work at! Dig into what a company values and ensure it aligns with your intended personal growth. If a company‚Äôs leadership is entirely folks who focus their energy on performant urgency or acts of fealty, don‚Äôt be surprised when your success in the company depends on those activities.</p>
<p>Worse, to be a successful preener requires a near invulnerability to criticism of your actual impact, and your true work <em>will</em> suffer if your energy is diverted to preening. Typically this means you need to be a vanity hire of a senior leader or to present yourself in the way a company believes leaders look and act. If that isn‚Äôt you, then your attempt to exchange your good judgement for company success will end up failing anyway: you‚Äôll get held accountable for the lack of true impact where others who match the company‚Äôs expectation of how a leader appears will somehow slip upward.</p>
<h2>Stop chasing ghosts</h2>
<p>Many folks would assume that companies, rational optimizers that they are, avoid spending much time on low-impact high-effort projects. Unfortunately that isn‚Äôt consistently the case. It‚Äôs surprisingly common for a new senior leader to join a company and immediately drive <a href="https://lethain.com/grand-migration/">a strategy shift that fundamentally misunderstands the challenges at hand</a>. The ghosts of their previous situation hold such a firm grasp on their understanding of the new company that they misjudge the familiar as the essential.</p>
<p>As a senior leader, you have to maintain a hold on your ego to avoid investing into meaningless work at a grand scale. This can be surprisingly challenging when during your hiring process you‚Äôve been repeatedly told that you‚Äôve been hired to fix something deeply broken -- you‚Äôre the newly-hired savior, of course your instincts are right! Taking the time to understand the status quo before shifting it will always repay diligence with results.</p>
<p>I had a recent discussion with someone who argued that new senior leaders <em>deliberately</em> push for major changes even though they suspect the efforts will fail. Such changes make the organization increasingly dependent on the new leader, and also ensures anything that <em>does</em> go well gets attributed to the new leader directly rather than their team. If this is your approach to leadership, please know that you‚Äôre awful and take the time to work on yourself until the well-being and success of an entire company matters to you more than being perceived as essential.</p>
<h2>Existential issues</h2>
<p>Now that you‚Äôre done snacking, preening and chasing ghosts, the first place to look for work that matters is exploring whether your company is experiencing an existential risk. Companies operate in an eternal <a href="https://lethain.com/iterative-elimination-tournaments/">iterative elimination tournament</a>, balancing future success against surviving until that future becomes the present. If you‚Äôre about to lose one of those rounds, then always focus there.</p>
<p>Running out of money, <a href="https://lethain.com/digg-v4/">like my experience at Digg</a>, can be the most obvious issue, but not every existential issue is financial, like <a href="https://www.theatlantic.com/technology/archive/2015/01/the-story-behind-twitters-fail-whale/384313/">Twitter‚Äôs fail whale stability challenges</a> or adapting to the shifts caused by the Covid-19 pandemic.</p>
<p>If something dire is happening at your company, then that‚Äôs the place to be engaged. Nothing else will matter if it doesn‚Äôt get addressed.</p>
<h2>Work where there‚Äôs room <em>and</em> attention</h2>
<p>Existential issues are usually <em>not</em> the most efficient place to add your efforts, but efficiency isn‚Äôt a priority when the walls are crashing down around you. You <em>should</em> swarm to existential problems, but if a problem isn‚Äôt existential then you should be skeptical of adding your efforts where everyone‚Äôs already focused. Folks often chase leadership‚Äôs top priority, but with so many folks looking to make their impact there, it‚Äôs often challenging to have a meaningful impact.</p>
<p>Instead, the most effective places to work are those that matter to your company but still have enough room to actually do work. What are priorities that will become critical in the future, where you can do great work ahead of time? Where are areas that are doing <em>ok</em> but could be doing <em>great</em> with your support?</p>
<p>Sometimes you‚Äôll find work that‚Äôs <em>worthy</em> of attention, but which an organization is incapable of paying attention to, usually because its leadership doesn‚Äôt value that work. In some companies this is developer tooling work, in others it‚Äôs inclusion work, and in most companies it‚Äôs <a href="https://noidea.dog/glue">glue work</a>.</p>
<p>There is almost always a great deal of room to do this sort of work that no one is paying attention to, so you‚Äôll be able to make rapid initial progress on it, which <em>feels</em> like a good opportunity to invest. At some point, though, you‚Äôll find that the work needs support, and it‚Äôs quite challenging to get support for work that a company is built to ignore or devalue. Your early wins will slowly get eroded by indifference and misalignment, and your initial impact will be reclaimed by the sands of time.</p>
<p>Does this mean you shouldn‚Äôt do inclusion work? No, that‚Äôs not the conclusion I want you to take away from this. Sometimes an area that an organization doesn‚Äôt pay attention to is so important that you‚Äôre going to want to advocate for it to start paying attention. Teaching a company to value something it doesn‚Äôt care about is considerably the hardest sort of work you can do, and it often fails, so you should do as little of it as you can, but no less. As a senior leader, you have an ethical obligation that goes beyond maximizing your company-perceived impact, but it‚Äôs important to recognize what you‚Äôre up against and time your efforts accordingly.</p>
<h2>Foster growth</h2>
<p>One area that‚Äôs often underinvested in (e.g. lots of room to work in) while also being highly leveraged is growing the team around you. <em>Hiring</em> has a lot of folks involved in it, usually in terms of optimizing the <a href="https://lethain.com/hiring-funnel/">hiring funnel</a>, but onboarding, mentoring and coaching are wholly neglected at many companies despite being <em>at least</em> <a href="https://lethain.com/productivity-in-the-age-of-hypergrowth/">as impactful as hiring to your company‚Äôs engineering velocity</a>.</p>
<p>If you start dedicating even a couple hours a week to developing the team around you, it‚Äôs quite likely that will become your legacy long after your tech specs and pull requests are forgotten.</p>
<h2>Edit</h2>
<p>A surprising number of projects are one small change away from succeeding, one quick modification that unlocks a new opportunity, or one conversation away from consensus. I think of making those small changes, quick modifications and short conversations as <em>editing</em> your team‚Äôs ‚Ä¶</p></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://staffeng.com/guides/work-on-what-matters">https://staffeng.com/guides/work-on-what-matters</a></em></p>]]>
            </description>
            <link>https://staffeng.com/guides/work-on-what-matters</link>
            <guid isPermaLink="false">hacker-news-small-sites-24581810</guid>
            <pubDate>Thu, 24 Sep 2020 18:26:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We cancelled standups and let the team build]]>
            </title>
            <description>
<![CDATA[
Score 182 | Comments 226 (<a href="https://news.ycombinator.com/item?id=24581360">thread link</a>) | @thellimist
<br/>
September 24, 2020 | https://www.usehaystack.io/blog/we-cancelled-standups-and-let-the-team-build-heres-what-happened | <a href="https://web.archive.org/web/*/https://www.usehaystack.io/blog/we-cancelled-standups-and-let-the-team-build-heres-what-happened">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-w-id="0ea0c8ae-8333-a516-8908-f86a85ef9373"><p>üëã I'm Julian, the Cofounder of <a href="https://www.usehaystack.io/?utm_source=Blog&amp;utm_medium=internal%20link&amp;utm_campaign=image%20source">Haystack</a>. We're building dashboards and alerts that plug into Github - helping engineering leaders build happier, healthier, more productive teams. </p><p>We wanted to share a quick story on why "we cancelled standups and just let the team build". </p><p>It's not as crazy as it sounds so let's dive an and see what happened..</p><p>‚Äç</p><h2>So.. why did we do this?</h2><p>‚Äç</p><h4>At first we were doing great</h4><p>At first the team was moving at (what seemed to be) the speed of light. We were handling issues, fixing bugs, launching features. We even tackled our biggest, nagging pieces of technical debt. Dream come true, right? As a team of technical founders, we patted ourselves on the back for a job well done. It felt like we couldn't be stopped.</p><p>‚Äç</p><h4>But things quickly turned around on us..</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f593cc6238ba8f66e10c539_Screenshot_2020-09-08_at_10.22.47_PM.png" loading="lazy" alt=""></p><figcaption>Source:&nbsp;<a href="https://www.usehaystack.io/?utm_source=Blog&amp;utm_medium=internal%20link&amp;utm_campaign=image%20source">Haystack</a></figcaption></figure><p>‚Äç</p><h4>And we noticed an odd pattern happening daily..</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cc18e8a5d4f630d45d4f2_2.png" loading="lazy" alt=""></p><figcaption>Source:&nbsp;<a href="https://www.usehaystack.io/?utm_source=Blog&amp;utm_medium=internal%20link&amp;utm_campaign=image%20source">Haystack</a></figcaption></figure><p>‚Äç</p><h4>We brought this data to the team and uncovered a few issues.. Here are some notes from our retro</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6ccdaf16b35490656f58c6_retro-summary.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><h2>So.. What did we do?</h2><p>‚Äç</p><h4>We asked for suggestions. Here are the results..</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cd0bbf86c9040f44cc92b_retro-votes.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><h4>Top Votes:&nbsp;</h4><ol start="" role="list"><li>Cancel Standup</li><li>Work on 'Fun Projects'</li></ol><p>‚Äç</p><p>Might seem crazy but we like to empower the team to improve themselves. &nbsp;We take pride in our ability to iterate our process as often as possible. </p><p>Plus we've got Haystack to see if our changes are working.</p><p>So why not?&nbsp;Let's try it for a week. Revert back if it isn't working out.</p><p>‚Äç</p><h2>We cancelled standup and let the team 'just build'.</h2><p>‚Äç</p><h4>We did agree on some ground rules though..</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cd49e16b35472506f74b8_fun-sprint-etiquette.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><h4>And with those rules in place we were off üí®üö£‚Äç‚ôÄÔ∏è</h4><p>Without hesitation we kicked off. Very surprised to see how many 'fun projects' the team already had in mind. It didn't take much prompting at all.</p><p>‚Äç</p><h2>And.. We had our most productive week EVER:</h2><p>‚Äç</p><h4>We recovered our Throughput!</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cc209c0fe2df87e4583c0_3.png" loading="lazy" alt=""></p><figcaption>Source:&nbsp;<a href="https://www.usehaystack.io/?utm_source=Blog&amp;utm_medium=internal%20link&amp;utm_campaign=image%20source">Haystack</a></figcaption></figure><p>‚Äç</p><h4>Improved our Cycle Time (reversing the trend)!</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cc20f1523b25682b1fe92_4.png" loading="lazy" alt=""></p><figcaption>Source:&nbsp;<a href="https://www.usehaystack.io/?utm_source=Blog&amp;utm_medium=internal%20link&amp;utm_campaign=image%20source">Haystack</a></figcaption></figure><p>‚Äç</p><h4>Got our 'deep work' back.</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cc2169b6b491e6744cd11_5.png" loading="lazy" alt=""></p><figcaption>Source:&nbsp;<a href="https://www.usehaystack.io/?utm_source=Blog&amp;utm_medium=internal%20link&amp;utm_campaign=image%20source">Haystack</a></figcaption></figure><p>‚Äç</p><h4>And tackled projects we've wanted to do for MONTHS.</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cc2313f047785e14bf727_11.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><h4>Most Importantly..We DECREASED BURNOUT</h4><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cd71016b35499cd6f7f8d_before.png" loading="lazy" alt=""></p></figure><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f6cc24b1523b2af6fb20099_13.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><p>‚Äç</p><h2>It was a HUGE success.</h2><p>The experiment went better than we could have hoped. By removing standups and letting the team work on new, exciting projects we were able to get out of the funk we found ourselves in. Without skipping a beat our team is refreshed, recovered, and excited.</p><p>‚Äç</p><p>‚Äç</p><h2>Does this mean no more stand-ups or roadmaps?</h2><p>Well.. No. But we are considering it. </p><p>‚Äç</p><p>We'll continue to experiment until we find the right balance. Today, we do 2-3 in-person standups per week with async standups on Slack the other days. We carefully document our work in Notion everyday and have Weekly Kick-Off meetings every Monday.</p><p>‚Äç</p><p>The new process is working well so far - plus we have Haystack to help us check-in and make changes if needed.</p><p>‚Äç</p><p>‚Äç</p><h2>So.. how often do YOU experiment with process?</h2><p>The 'right' process is a constantly moving target. What works one day might not work the next. It's important to empower your team to make changes when necessary and improve their day-to-day experience. </p><p>‚Äç</p><p>If you want to experiment like a mad man(woman) on your process. AGGRESSIVELY enable improvement. Empower your team to improve their own work environment - then come check out <a href="https://www.usehaystack.io/?utm_source=Blog&amp;utm_medium=internal%20link&amp;utm_campaign=image%20source">Haystack</a> and we'll show you how to implement a culture of continuous improvement.</p><p>‚Äç</p><p>Either way, hope our story got your wheels turning!</p><p>‚Äç</p><p>‚Äç</p><p>‚Äç</p><figure><p><img src="https://uploads-ssl.webflow.com/5ed57622ee14fb96d022d544/5f5123c19bb423a1492c778d_Haystack_Designed_Presentation.png" loading="lazy" alt=""></p></figure><p><a href="https://usehaystack.io/?utm_source=blog&amp;utm_medium=subscription-sequence&amp;utm_campaign=3-ways-to-identify-blockers">Haystack</a> helps engineering leaders identify blockers and trends. Instead of guessing if you're improving, or constantly bothering your team for progress updates, simply use Haystack to get insights in your inbox every morning. Plus a dashboard to track improvements over time.</p><p>‚Äç</p><p><a href="https://usehaystack.io/?utm_source=blog&amp;utm_medium=subscription-sequence&amp;utm_campaign=3-ways-to-identify-blockers">Try it for free</a></p><p>‚Äç</p></div></div>]]>
            </description>
            <link>https://www.usehaystack.io/blog/we-cancelled-standups-and-let-the-team-build-heres-what-happened</link>
            <guid isPermaLink="false">hacker-news-small-sites-24581360</guid>
            <pubDate>Thu, 24 Sep 2020 17:52:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Escaping the Dark Forest]]>
            </title>
            <description>
<![CDATA[
Score 304 | Comments 122 (<a href="https://news.ycombinator.com/item?id=24580879">thread link</a>) | @CyrusL
<br/>
September 24, 2020 | https://samczsun.com/escaping-the-dark-forest/ | <a href="https://web.archive.org/web/*/https://samczsun.com/escaping-the-dark-forest/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
<div>
<article>

<figure>
<img srcset="https://samczsun.com/content/images/size/w300/2020/09/109768371_xl.jpg 300w,
                            https://samczsun.com/content/images/size/w600/2020/09/109768371_xl.jpg 600w,
                            https://samczsun.com/content/images/size/w1000/2020/09/109768371_xl.jpg 1000w,
                            https://samczsun.com/content/images/size/w2000/2020/09/109768371_xl.jpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://samczsun.com/content/images/size/w2000/2020/09/109768371_xl.jpg" alt="Escaping the Dark Forest">
</figure>
<section>
<div>
<p><em>On September 15, 2020, a small group of people worked through the night to rescue over 9.6MM USD from a vulnerable smart contract. This is our story.</em></p><p>I was about to wrap up for the night when I decided to take another look at some smart contracts.</p><p>I wasn‚Äôt expecting anything interesting, of course. Over the past few weeks I had seen countless yield farming clones launch with the exact same pitch: stake your tokens with us and you could be the next cryptocurrency millionaire. Most were simply forks of well-audited code although some tweaked bits and pieces, sometimes with catastrophic results.</p><p>But amidst all of the noise there was some code I hadn‚Äôt seen before. The contract held over 25,000 Ether, worth over 9,600,000 USD at the time, and would be a very juicy payday for anyone who managed to find a bug in its logic.</p><p>I quickly looked through the code for where Ether is transferred out and found two hits. One of them transferred the Ether to a hardcoded token address, so that could be ignored. The second was a burn function that transferred Ether to the sender. After tracing the usage of this function, I discovered that it would be trivial for anyone to mint tokens to themselves for free, but then burn them in exchange for all of the Ether in the contract. My heart jumped. Suddenly, things had become serious.</p><p>Some digging revealed that the contract I had found was part of <a href="https://lien.finance/">Lien Finance</a>‚Äôs protocol. Unfortunately, their team was anonymous! The only IM platform they supported was Telegram, and I couldn‚Äôt be sure that the admins of that channel were actually protocol developers or just a few early supporters. The last thing I wanted to do was accidentally leak the exploit to the wrong person.</p><p>After browsing their website a little while longer, I noticed that they had worked with ConsenSys Diligence and CertiK for an audit. This seemed like a good avenue, since both ConsenSys and CertiK must have interacted with the developers during their audits. I quickly pinged <a href="https://twitter.com/maurelian_">maurelian</a> on Telegram.</p><figure><img src="https://samczsun.com/content/images/2020/09/image.png" alt=""><figcaption>You never want to be on the receiving end of this message</figcaption></figure><p>Unfortunately, time ticked on, my heart kept pounding, but there was no response from maurelian. It seemed like he had already gone to sleep. Desperate, I sent a message to the ETHSecurity Telegram channel.</p><figure><img src="https://samczsun.com/content/images/2020/09/image-1.png" alt=""><figcaption>Artist's rendering of the message, since I deleted the original</figcaption></figure><p>Within minutes, I got a message from someone I‚Äôd worked with quite a few times in the past - <a href="https://twitter.com/wadealexc">Alex Wade</a>.</p><hr><p>My head had just hit the pillow when I got a knock on my door. It was my roommate: ‚ÄúSam‚Äôs in the ETHSec Telegram asking for anyone from Diligence.‚Äù</p><figure><img src="https://samczsun.com/content/images/2020/09/image-2.png" alt=""><figcaption>It was, in fact, a long night</figcaption></figure><p>Knowing Sam, this couldn‚Äôt be good. I found a channel we‚Äôd set up with Lien a few months ago and an email address. Better than nothing, given their team was anon.</p><p>I was still half asleep. Sam, not wanting to commit details to text, asked for a Zoom call. Groggily wishing I was back in bed, I attempted to gauge the severity of the situation:</p><figure><img src="https://samczsun.com/content/images/2020/09/image-4.png" alt=""><figcaption>Five minutes later, it was clear that the situation called for coffee</figcaption></figure><p>Sam and I reviewed the code together. By this point, Sam had already prepared a sample exploit and was able to confirm the issue on his machine. The conversation quickly turned to discussing options:</p><ol><li>Attempt to exploit the issue ourselves.</li><li>Reach out to Lien and have them go public, urging users to withdraw.</li></ol><p>Neither of these were appealing options. The first was risky because, as discussed in <a href="https://medium.com/@danrobinson/ethereum-is-a-dark-forest-ecc5f0505dff">Ethereum is a Dark Forest</a> by <a href="https://twitter.com/danrobinson">Dan Robinson</a> and <a href="https://twitter.com/gakonst/">Georgios Konstantopoulos</a>, the possibility of our transactions getting frontrun was very real. The second option was similarly risky, as a public announcement would draw attention to the problem and create a window of opportunity for attackers. We needed a third option.</p><p>Recalling a section from <em>Ethereum is a Dark Forest</em>, Sam reached out to <a href="https://twitter.com/epheph">Scott Bigelow</a>:</p><blockquote>If you find yourself in a situation like this, we suggest you reach out to Scott Bigelow, a security researcher who has been studying this topic and has a prototype implementation for a better obfuscator.</blockquote><hr><p>After participating in the recovery attempt from <em>Ethereum is a Dark Forest, </em>which ultimately lost to front-runners, I was hungry for a re-match. I‚Äôve spent time monitoring front-running and designing a simple system that seemed able to fool generalized front-runners, at least for the $200 I‚Äôd been able to test it with. When Sam reached out to me in the late evening with the innocent-sounding ‚Äúmind staying up for another hour or so‚Äù, I couldn‚Äôt wait to try it out! I was already working it out: how I‚Äôd make a few tweaks, stay up a couple hours, feel a sense of accomplishment having helped rescue and return a few thousand dollars of user funds, and get a good night‚Äôs sleep.</p><p>Those plans immediately fell apart when Sam shared the contract with me: ~25,000 ETH, valued at $9.6M, at stake. For as much as I wanted that rematch, $9.6M was way outside my humble script‚Äôs weight class.</p><p><br>For the past few months, I had been trying to establish contacts with miners for this very purpose: white-hat transaction cooperation. If ever there was a time to appeal to a miner to include a transaction without giving front-runners the chance to steal it, it was now. Luckily, <a href="https://twitter.com/tzhen">Tina</a> and I have worked together over the past few months on establishing this cooperation. It seemed like a slim chance at the time, but it was worth a shot: let‚Äôs bring Tina into the rescue attempt to work with a mining pool to mine a private transaction.</p><hr><p>I had just evacuated from the Bobcat forest fire and was sipping on unknown beachy drinks zoning out to the monotonic sound of dark Pacific waves, when a Telegram DM from Sam buzzed me back to a darker reality: ‚Äúfunds at risk, frontrunnable‚Äù. Over the last few weeks, I had been collaborating with Sam and Scott on a research project on MEV and could already guess their ask before they sent it: a direct channel to shield a whitehat tx from getting sniped by the ‚Äúadvanced predators‚Äù in the mempool‚Äôs ‚Äúdark forest‚Äù.</p><p>Since this was a risky move that entailed exposing our strategy to miners, we decided we should first try to get the greenlight from the anonymous Lien team. While Alex was trying to get in contact via ConsenSys-internal channels, we tried to loop in CertiK as well.</p><p>I realized it may take another 4 hours before Certik's US-based auditors would wake up, yet the clock was ticking. &nbsp;Knowing nothing much about CertiK beyond the fact it had serviced quite a few Asian projects, I tried to reach the CertiK China team to arbitrage the time zone difference. I blasted a casual sounding message in ‚ÄúDeFi the World‚Äù and ‚ÄúYellow Hats‚Äù WeChat groups. Four leads slid into my DMs independently within 30 minutes, confirming the WeChat ID that I connected with was indeed the real Zhaozhong Ni, CTO of CertiK. I was added to a WeChat group with 5 CertiK team members, yet at this point I was still not in a position to disclose the project nor the vulnerability. To minimize the exposure and potential liability, we could only invite one member from Certik to join our whitehat operation. After passing a final verification via official email, Georgios Delkos, the engineering lead at CertiK joined our call.</p><p>With Georgios‚Äôs help, Alex was able to quickly get in contact with the Lien team and verify their identity. We brought them up-to-speed on the current situation and asked for their permission to try working directly with a mining pool to rescue the vulnerable funds. After some deliberation, the Lien team agreed that the risk from trying to rescue the funds directly or publishing a warning was too high, and gave the go-ahead to continue.</p><p>Now we needed to identify a mining pool that had the infrastructure ready in place and would be willing to cooperate with us ASAP. Which mining pool should we tap? Which contact from the pool would be in a position to make technical decisions swiftly that help us beat the clock?</p><p>SparkPool came to mind, as I knew they had been working on a piece of public infrastructure called Taichi Network that could easily offer what we needed. I decided to ping Shaoping Zhang, SparkPool‚Äôs co-founder, who had helped me investigate mempool events in the past.</p><p>Half an hour later, Shaoping responded: ‚ÄúYou mean do we have a whitelist service for transactions? Sorry, we don‚Äôt.‚Äù Oops, something was lost in translation, ‚Äúwhitehat‚Äù and ‚Äúwhitelist‚Äù sounded similar in Chinese.</p><p>‚ÄúThere‚Äôs 10mn dollar worth of funds at risk. samczsun is on the line.‚Äù I tried again to communicate the situation without revealing any specifics.</p><figure><img src="https://samczsun.com/content/images/2020/09/photo5145442418169063579.png" alt="" srcset="https://samczsun.com/content/images/size/w600/2020/09/photo5145442418169063579.png 600w, https://samczsun.com/content/images/size/w1000/2020/09/photo5145442418169063579.png 1000w, https://samczsun.com/content/images/size/w1600/2020/09/photo5145442418169063579.png 1600w, https://samczsun.com/content/images/2020/09/photo5145442418169063579.png 1920w" sizes="(min-width: 720px) 720px"></figure><p>‚ÄúAre you guys saving the world again? Do you need help from our mining pool?‚Äù To my surprise and great relief, Shaoping jokingly extended an offer to help. After official email verification, Shaoping popped into our marathon Zoom call with the support of a roomful of SparkPool devs.</p><hr><p>After lunch, just when I was about to take a nap, I received a message from Tina: ‚ÄúHas SparkPool ever helped with whitehat transactions??‚Äù I mistook it for whitelisting a transaction at first. No whitehats had approached us before, and we were not familiar with what ‚Äúwhitehat transactions‚Äù entailed. After Tina explained it in more details, I realized that what they needed was a private transaction service, i.e. the whitehats wanted to send transactions to save a DeFi contract, but in order to prevent getting front-runned, they needed a mining pool to include the transaction without broadcasting it.</p><p>We had been working on a ‚Äúprivate transaction‚Äù feature on our Taichi Network, which was still under development and had not been tested. I brought the whitehats‚Äô request to our development team, and explained the urgency: our private transaction feature needed to be in production within a few hours. Our devs said they could try their best to finish in time, and we immediately got to work. We finished development of the private transaction feature in 2 hours, and then spent some time fixing bugs.</p><p>After we completed our internal testing, we sent the <em>whitehat.taichi.network</em> endpoint to ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://samczsun.com/escaping-the-dark-forest/">https://samczsun.com/escaping-the-dark-forest/</a></em></p>]]>
            </description>
            <link>https://samczsun.com/escaping-the-dark-forest/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24580879</guid>
            <pubDate>Thu, 24 Sep 2020 17:09:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fintech Is Not New]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24580770">thread link</a>) | @mattmarcus
<br/>
September 24, 2020 | https://www.moderntreasury.com/journal/fintech-is-not-new | <a href="https://web.archive.org/web/*/https://www.moderntreasury.com/journal/fintech-is-not-new">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>There‚Äôs a myth going around now that fintech is a new industry, poised to take over, and that now that it‚Äôs here, every company will be a fintech company. The myth continues: some of the most promising new tech is of a new, different, novel flavor called ‚Äúfintech.‚Äù</p><p>In reality, though, fintech is just as old as "tech." For as long as engineers and entrepreneurs have been coming up with new technology amongst the hills of Cupertino and the orange groves of Mountain View, there have been fintech entrepreneurs right amongst them. And in many instances, the two groups have utilized the same technology advances to push the world forward.</p><h5>1956</h5><p>In 1956, the same year that William Shockley founded the Shockley Semiconductor Laboratory in Palo Alto, Bill Fair and Earl Isaac set up Fair, Isaac, &amp; Company, better known today as <a href="https://www.fico.com/">FICO</a>.&nbsp;</p><p>Bill Fair and Earl Isaac met at the Stanford Research Institute in Menlo Park and worked on a project as data heavy as it gets: the mathematics and statistics behind credit scoring tools for lenders. In 1956 they moved up north, invested $400 each in their new company, and set off to sell credit assessment systems to lenders. The FICO score as we know it today, set on a scale between 300 and 850, was not formulated until the 1980s, but the <a href="https://www.fico.com/en/about-us#history%20(edited)" target="_blank">FICO concept</a> started simultaneously with the semiconductor. Today we‚Äôd describe what they were doing as ‚Äúdata science.‚Äù&nbsp;</p><p>‚Äç</p><h5>1957</h5><p>The very next year, in 1957, as Arthur Rock was making one of the first venture capital investments in Fairchild Semiconductor, Bank of America‚Äôs team in San Francisco was coming up with the BankAmericard program, which launched in 1958. The famous ‚ÄúFresno drop,‚Äù <a href="#1">[1]</a> in which BofA mailed credit cards to everyone in Fresno, became <a href="https://usa.visa.com/">Visa</a>. Like many consumer fintech startups, it was riddled with fraud at first. But it turned a profit in 1961 and the rest is <a href="https://usa.visa.com/about-visa/our_business/history-of-visa.html" target="_blank">history</a>. Visa, in its pursuit of the perfect payment experience at a store or restaurant, drove some of the most demanding requirements on data center reliability, redundancy, and latency in the 1970s. Today we‚Äôd describe these as ‚Äúcloud services.‚Äù&nbsp;</p><p>‚Äç</p><h5>1968</h5><p>In 1968, Robert Noyce, Gordon Moore, Andy Grove, and several other high profile Fairchild employees left Fairchild to start Intel. They too turned to Arthur Rock for seed funding. That was the year Ross Perot‚Äôs Electronic Data Systems IPO‚Äôd on the strength of multimillion dollar contracts building early software necessary to enable Medicare and Medicaid. EDS <a href="https://www.dxc.technology/about_us/ds/140019-our_history" target="_blank">built</a> the backends of ATMs, electronic funds transfer, and point-of-sale terminals for banks and credit unions. Today we‚Äôd probably describe EDS as a ‚Äúbanking core‚Äù or, at the very least, a ‚Äúsystems integrator‚Äù for banks‚Äîsystems that eventually came to run on Intel chips.&nbsp;</p><p>‚Äç</p><h5>1972</h5><p>In 1972, the year Steve Jobs graduated from high school, Charles Schwab‚Äôs new startup began offering brokerage services.<a href="#1">[1]</a> The company grew and expanded, and in 1979 Schwab spent a fortune on the ‚ÄúBETA‚Äù system, which stood for ‚ÄúBrokerage Execution and Transaction Analysis.‚Äù That was the same year Bill Gates and Paul Allen moved their fledgling startup from Albuquerque to Seattle, and renamed it Microsoft from the previous, awkward ‚ÄúMicro-Soft.‚Äù Steve Ballmer joined Microsoft the following year, the year that Schwab used its now-stable BETA system to offer 24 hour stock price quotes.&nbsp;</p><p>‚Äç</p><h5>1984</h5><p>In 1984, Apple released the Macintosh. That same year, a group of entrepreneurs started a startup bank aimed at serving the tech industry that the traditional banks didn‚Äôt want to serve. When they opened their first branch in Mountain View, they needed something to attract PR, and they decided to <a href="https://www.computerhistory.org/collections/catalog/102739976" target="_blank">borrow</a> bunny suits from their first customers, which were semiconductor companies. The grand opening landed them in the local papers as the Valley wondered what was going on with this upstart bank with ‚Äúbankers‚Äù dressed in bunny suits, but the message was clear. That bank is now the familiar banking institution we know today as <a href="https://www.svb.com/">Silicon Valley Bank</a>. Their strategy, of focusing on startups, was radical, but it worked.&nbsp;</p><p>‚Äç</p><h5>Today</h5><p>There may be no better time to build fintech companies. </p><p>There‚Äôs no good reason for payments to take three days to settle in 2020. There‚Äôs no good reason for the most sophisticated companies in the world to pay workers on a rigid bimonthly schedule. There‚Äôs no good reason why predatory payday lenders are the best option for millions to turn to in economic hardship. There‚Äôs no good reason for the government to disburse stimulus funds by paper check delivered via the postal service. Each of these is an opportunity to build a product of real consequence.&nbsp;</p><p>But this industry is not new. If anything, today‚Äôs companies are just an extension of a long tradition. Square, Stripe, Adyen, Plaid, Brex, Modern Treasury, and others all stand on the shoulders of giants. We benefit from FICO‚Äôs pioneering work in instant decision making, Visa‚Äôs mastery of electronic payment networks, and SVB‚Äôs startup-focused business model. </p><p>If we study the lessons of history, we will build products with more impact.<br></p></div></div></div>]]>
            </description>
            <link>https://www.moderntreasury.com/journal/fintech-is-not-new</link>
            <guid isPermaLink="false">hacker-news-small-sites-24580770</guid>
            <pubDate>Thu, 24 Sep 2020 16:59:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The missing harm of manual dispatch in Julia]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 28 (<a href="https://news.ycombinator.com/item?id=24580479">thread link</a>) | @amkkma
<br/>
September 24, 2020 | https://andreaskroepelin.de/blog/manual_dispatch/ | <a href="https://web.archive.org/web/*/https://andreaskroepelin.de/blog/manual_dispatch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>Just a short one today:
New users of Julia coming from other dynamically typed languages might write functions like</p>
<div><pre><code data-lang="julia"><span>function</span> <span>foo</span><span>(</span><span>x</span><span>)</span>
    <span>if</span> <span>x</span> <span>isa</span> <span>Int</span>
        <span>x</span> <span>+</span> <span>x</span>
    <span>elseif</span> <span>x</span> <span>isa</span> <span>Float64</span>
        <span>x</span> <span>/</span> <span>2.0</span>
    <span>elseif</span> <span>x</span> <span>isa</span> <span>String</span>
        <span>length</span><span>(</span><span>x</span><span>)</span>
    <span>else</span>
        <span>1</span>
    <span>end</span>
<span>end</span>
</code></pre></div><p>This is clearly unidiomatic and should be written as</p>
<div><pre><code data-lang="julia"><span>bar</span><span>(</span><span>x</span><span>::</span><span>Int</span><span>)</span> <span>=</span> <span>x</span> <span>+</span> <span>x</span>
<span>bar</span><span>(</span><span>x</span><span>::</span><span>Float64</span><span>)</span> <span>=</span> <span>x</span> <span>/</span> <span>2.0</span>
<span>bar</span><span>(</span><span>x</span><span>::</span><span>String</span><span>)</span> <span>=</span> <span>length</span><span>(</span><span>x</span><span>)</span>
<span>bar</span><span>(</span><span>x</span><span>)</span> <span>=</span> <span>1</span> <span># or bar(x::Any), to be explicit</span>
</code></pre></div><p>because it is nicer to read and very easy to extend for other types of <code>x</code>.
Well, you technically can extend <code>foo</code> the same way as <code>bar</code>, but reading the definition of <code>foo</code> one would expect to then know its complete behavior, so it would be misleading.</p>
<p><em>However</em>, my point is that there is actually (maybe surprisingly) no harm at runtime for code as in <code>foo</code>!
The Julia compiler isn‚Äôt tricked that easily and will still produce optimal machine code for each type of the argument:</p>
<div><pre><code data-lang="julia"><span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>bar</span><span>(</span><span>1</span><span>)</span>
    <span>.</span><span>text</span>
    <span>leaq</span>	<span>(</span><span>%</span><span>rdi</span><span>,</span><span>%</span><span>rdi</span><span>),</span> <span>%</span><span>rax</span>
    <span>retq</span>
    <span>nopw</span>	<span>%</span><span>cs</span><span>:</span><span>(</span><span>%</span><span>rax</span><span>,</span><span>%</span><span>rax</span><span>)</span>

<span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>foo</span><span>(</span><span>1</span><span>)</span>
    <span>.</span><span>text</span>
    <span>leaq</span>	<span>(</span><span>%</span><span>rdi</span><span>,</span><span>%</span><span>rdi</span><span>),</span> <span>%</span><span>rax</span>
    <span>retq</span>
    <span>nopw</span>	<span>%</span><span>cs</span><span>:</span><span>(</span><span>%</span><span>rax</span><span>,</span><span>%</span><span>rax</span><span>)</span>
</code></pre></div><p>Both functions basically compile down to a single adding instruction (<code>leaq</code>; <code>retq</code> is for returning from the function and <code>nopw</code> is an operation that does nothing and is there for <a href="https://en.wikipedia.org/wiki/NOP_%28code%29%23Machine_language_instructions">technical reasons</a>).
Think about it this way:
When Julia compiles <code>foo(1)</code>, it knows that <code>1</code> is of type <code>Int</code>, can evaluate the <code>x isa Int</code> expression at compile time to <code>true</code>, and discard everything but the <code>x + x</code> without a problem.</p>
<h2 id="appendix">‚ÄúAppendix‚Äù</h2>
<p>For completeness, here is what‚Äôs produced in the other cases:</p>
<div><pre><code data-lang="julia"><span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>bar</span><span>(</span><span>1.0</span><span>)</span>
    <span>.</span><span>text</span>
    <span>movabsq</span>	<span>$</span><span>140581530607976</span><span>,</span> <span>%</span><span>rax</span>  <span># imm = 0x7FDBB031A168</span>
    <span>vmulsd</span>	<span>(</span><span>%</span><span>rax</span><span>),</span> <span>%</span><span>xmm0</span><span>,</span> <span>%</span><span>xmm0</span>
    <span>retq</span>
    <span>nop</span>

<span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>foo</span><span>(</span><span>1.0</span><span>)</span>
    <span>.</span><span>text</span>
    <span>movabsq</span>	<span>$</span><span>140581530608088</span><span>,</span> <span>%</span><span>rax</span>  <span># imm = 0x7FDBB031A1D8</span>
    <span>vmulsd</span>	<span>(</span><span>%</span><span>rax</span><span>),</span> <span>%</span><span>xmm0</span><span>,</span> <span>%</span><span>xmm0</span>
    <span>retq</span>
    <span>nop</span>


<span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>bar</span><span>(</span><span>"abc"</span><span>)</span>
    <span>.</span><span>text</span>
    <span>pushq</span>	<span>%</span><span>rax</span>
    <span>movabsq</span>	<span>$</span><span>"ncodeunits;"</span><span>,</span> <span>%</span><span>rax</span>
    <span>callq</span>	<span>*%</span><span>rax</span>
    <span>popq</span>	<span>%</span><span>rcx</span>
    <span>retq</span>
    <span>nop</span>

<span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>foo</span><span>(</span><span>"abc"</span><span>)</span>
    <span>.</span><span>text</span>
    <span>pushq</span>	<span>%</span><span>rax</span>
    <span>movabsq</span>	<span>$</span><span>"ncodeunits;"</span><span>,</span> <span>%</span><span>rax</span>
    <span>callq</span>	<span>*%</span><span>rax</span>
    <span>popq</span>	<span>%</span><span>rcx</span>
    <span>retq</span>
    <span>nop</span>


<span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>bar</span><span>([])</span>
    <span>.</span><span>text</span>
    <span>movl</span>	<span>$</span><span>1</span><span>,</span> <span>%</span><span>eax</span>
    <span>retq</span>
    <span>nopw</span>	<span>%</span><span>cs</span><span>:</span><span>(</span><span>%</span><span>rax</span><span>,</span><span>%</span><span>rax</span><span>)</span>

<span>julia</span><span>&gt;</span> <span>@code_native</span> <span>debuginfo</span><span>=:</span><span>none</span> <span>foo</span><span>([])</span>
    <span>.</span><span>text</span>
    <span>movl</span>	<span>$</span><span>1</span><span>,</span> <span>%</span><span>eax</span>
    <span>retq</span>
    <span>nopw</span>	<span>%</span><span>cs</span><span>:</span><span>(</span><span>%</span><span>rax</span><span>,</span><span>%</span><span>rax</span><span>)</span>
</code></pre></div>
        </div></div>]]>
            </description>
            <link>https://andreaskroepelin.de/blog/manual_dispatch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24580479</guid>
            <pubDate>Thu, 24 Sep 2020 16:36:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Compiling a Lisp: Reader]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 26 (<a href="https://news.ycombinator.com/item?id=24580453">thread link</a>) | @azhenley
<br/>
September 24, 2020 | https://bernsteinbear.com/blog/compiling-a-lisp-6/ | <a href="https://web.archive.org/web/*/https://bernsteinbear.com/blog/compiling-a-lisp-6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p><em><a href="https://bernsteinbear.com/blog/compiling-a-lisp-0/">first</a></em> ‚Äì <em><a href="https://bernsteinbear.com/blog/compiling-a-lisp-5/">previous</a></em></p>

<p>Welcome back to the ‚ÄúCompiling a Lisp‚Äù series. This time I want to take a break
from compiling and finally add a <em>reader</em>. I‚Äôm finally getting frustrated
manually entering increasinly complicated ASTs, so I figure it is time. After
this post, we‚Äôll be able to type in programs like:</p>



<p>and have our compiler make ASTs for us! Magic. This will also add some nice
debugging tools for us. For example, imagine an interactive command line
utility in which we can enter Lisp expressions and the compiler prints out
human-readable assembly (and hex? maybe?). It could even run the code, too.
Check out this imaginary demo:</p>

<div><div><pre><code>lisp&gt; 1
; mov rax, 0x4
=&gt; 1
lisp&gt; (add1 1)
; mov rax, 0x4
; add rax, 0x4
=&gt; 2
lisp&gt;
</code></pre></div></div>

<p>Wow, what a thought.</p>

<h3 id="the-reader-interface">The Reader interface</h3>

<p>To make this interface as simple and testable as possible, I want the reader
interface to take in a C string and return an <code>ASTNode *</code>:</p>

<div><div><pre><code><span>ASTNode</span> <span>*</span><span>Reader_read</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>);</span>
</code></pre></div></div>

<p>We can add interfaces later to support reading from a <code>FILE*</code> or file
descriptor or something, but for now we‚Äôll just use strings and line-based
input.</p>

<p>On success, we‚Äôll return a fully-formed <code>ASTNode*</code>. But on error, well, hold
on. We can‚Äôt just return <code>NULL</code>. On many platforms, <code>NULL</code> is defined to be
<code>0</code>, which is how we encode the integer <code>0</code>. On others, it could be defined to
be <code>0x55555555</code><sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> or something equally silly. Regardless, its value might
overlap with our type encoding scheme in some unintended way.</p>

<p>This means that we have to go ahead and add another immediate object: an
<code>Error</code> object. We have some open immediate tag bits, so sure, why not. We can
also use this to signal runtime errors and other fun things. It‚Äôll probably be
useful.</p>

<h3 id="the-error-object">The Error object</h3>

<p>Back to the object tag diagram. Below I have reproduced the tag diagram from
previous posts, but now with a new entry (denoted by <code>&lt;-</code>). This new entry
shows the encoding for the canonical <code>Error</code> object.</p>

<div><div><pre><code>High							     Low
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX00  Integer
0000000000000000000000000000000000000000000000000XXXXXXX00001111  Character
00000000000000000000000000000000000000000000000000000000X0011111  Boolean
0000000000000000000000000000000000000000000000000000000000101111  Nil
0000000000000000000000000000000000000000000000000000000000111111  Error &lt;-
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX001  Pair
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX010  Vector
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX011  String
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX101  Symbol
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX110  Closure
</code></pre></div></div>

<p>If we wanted to, we could even add additional tag bits to the (currently all 0)
payload, to signal different kinds of errors. Maybe later. For now, we add a
tag constant and associated <code>Object</code> and <code>AST</code> functions:</p>

<div><div><pre><code><span>const</span> <span>unsigned</span> <span>int</span> <span>kErrorTag</span> <span>=</span> <span>0x3f</span><span>;</span> <span>// 0b111111</span>
<span>uword</span> <span>Object_error</span><span>()</span> <span>{</span> <span>return</span> <span>kErrorTag</span><span>;</span> <span>}</span>

<span>bool</span> <span>AST_is_error</span><span>(</span><span>ASTNode</span> <span>*</span><span>node</span><span>)</span> <span>{</span> <span>return</span> <span>(</span><span>uword</span><span>)</span><span>node</span> <span>==</span> <span>Object_error</span><span>();</span> <span>}</span>
<span>ASTNode</span> <span>*</span><span>AST_error</span><span>()</span> <span>{</span> <span>return</span> <span>(</span><span>ASTNode</span> <span>*</span><span>)</span><span>Object_error</span><span>();</span> <span>}</span>
</code></pre></div></div>

<p>That should be enough to get us going for now. Perhaps we could even convert
our <code>Compile_</code> suite of functions to use this object instead of an <code>int</code>. It
would certainly be more informative. Maybe in a future post.</p>

<h3 id="language-syntax">Language syntax</h3>

<p>Let‚Äôs get back to business and think about what we want our language to look
like. This is a Lisp series but really you could adapt your reader to read any
sort of syntax. No need for parentheses if you‚Äôre allergic.</p>

<p>I‚Äôm going to use this simple Lisp reader because it‚Äôs short and simple, so
we‚Äôll have some parens.</p>

<p>First, our integers will look like integers in most languages ‚Äî <code>0</code>, <code>123</code>,
<code>-123</code>.</p>

<p>You can add support for other bases if you like, but I don‚Äôt plan on it here.</p>

<p>Second, our characters will look like C characters ‚Äî <code>'a'</code>, <code>'b'</code>, etc. Some
implementations opt for <code>#'a</code> but that has always looked funky to me.</p>

<p>Third, our booleans will be <code>#t</code> and <code>#f</code>. You‚Äôre also welcome to go ahead and
use symbols to represent the names, avoid special syntax, and have those
symbols evaluate to truthy and falsey values.</p>

<p>Fourth, the nil object will be <code>()</code>. We can also later bind the symbol <code>nil</code> to
mean <code>()</code>, too.</p>

<p>I‚Äôm going to skip error objects, because they don‚Äôt yet have any sort of
user-land meaning yet ‚Äî they‚Äôre just used in compiler infrastructure right
now.</p>

<p>Fifth, pairs will look like <code>(1 2 3)</code>, meaning <code>(cons 1 (cons 2 (cons 3
nil)))</code>. I don‚Äôt plan on adding support for dotted pair syntax. Whitespace will
be insignificant.</p>

<p>Sixth, symbols will look like any old ASCII identifier: <code>hello</code>, <code>world</code>,
<code>fooBar</code>. I‚Äôll also include some punctuation in there, too, so we can use <code>+</code>
and <code>-</code> as symbols, for example. Or we could even go full Lisp and use
<code>train-case</code> identifiers.</p>

<p>I‚Äôm going to skip closures, since they don‚Äôt have a syntactic representation
‚Äî they are just objects known to the runtime. Vectors and strings don‚Äôt have
any implementation right now so we‚Äôll add those to the reader later.</p>

<p>That‚Äôs it! Key points are: mind your plus and minus signs since they can appear
in both integers and symbols; don‚Äôt read off the end; have fun.</p>

<h3 id="the-reader-implementation">The Reader implementation</h3>

<p>Now that we‚Äôve rather informally specified what our language looks like, we can
write a small reader. We‚Äôll start with the <code>Reader_read</code> function from above.</p>

<p>This function will just be a shell around an internal function with some more
parameters.</p>

<div><div><pre><code><span>ASTNode</span> <span>*</span><span>Reader_read</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>)</span> <span>{</span>
  <span>word</span> <span>pos</span> <span>=</span> <span>0</span><span>;</span>
  <span>return</span> <span>read_rec</span><span>(</span><span>input</span><span>,</span> <span>&amp;</span><span>pos</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>This is because we need to carry around some more state to read through this
string. We need to know how far into the string we are. I chose to use an
additional <code>word</code> for the index. Some might prefer a <code>char**</code> instead. Up to
you.</p>

<p>With any recursive reader invocation, we should advance through all the
whitespace, because it doesn‚Äôt mean anything to us. For this reason, we have a
handy-dandy <code>skip_whitespace</code> function that reads through all the whitespace
and then returns the next non-whitespace character.</p>

<div><div><pre><code><span>void</span> <span>advance</span><span>(</span><span>word</span> <span>*</span><span>pos</span><span>)</span> <span>{</span> <span>++*</span><span>pos</span><span>;</span> <span>}</span>

<span>char</span> <span>next</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>,</span> <span>word</span> <span>*</span><span>pos</span><span>)</span> <span>{</span>
  <span>advance</span><span>(</span><span>pos</span><span>);</span>
  <span>return</span> <span>input</span><span>[</span><span>*</span><span>pos</span><span>];</span>
<span>}</span>

<span>char</span> <span>skip_whitespace</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>,</span> <span>word</span> <span>*</span><span>pos</span><span>)</span> <span>{</span>
  <span>char</span> <span>c</span> <span>=</span> <span>'\0'</span><span>;</span>
  <span>for</span> <span>(</span><span>c</span> <span>=</span> <span>input</span><span>[</span><span>*</span><span>pos</span><span>];</span> <span>isspace</span><span>(</span><span>c</span><span>);</span> <span>c</span> <span>=</span> <span>next</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>))</span> <span>{</span>
    <span>;</span>
  <span>}</span>
  <span>return</span> <span>c</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>We can use <code>skip_whitespace</code> in the <code>read_rec</code> function to fetch the next
non-whitespace character. Then we‚Äôll use that character (and sometimes the
following one, too) to determine what structure we‚Äôre about to read.</p>

<div><div><pre><code><span>bool</span> <span>starts_symbol</span><span>(</span><span>char</span> <span>c</span><span>)</span> <span>{</span>
  <span>switch</span> <span>(</span><span>c</span><span>)</span> <span>{</span>
  <span>case</span> <span>'+'</span><span>:</span>
  <span>case</span> <span>'-'</span><span>:</span>
  <span>case</span> <span>'*'</span><span>:</span>
  <span>case</span> <span>'&gt;'</span><span>:</span>
  <span>case</span> <span>'='</span><span>:</span>
  <span>case</span> <span>'?'</span><span>:</span>
    <span>return</span> <span>true</span><span>;</span>
  <span>default:</span>
    <span>return</span> <span>isalpha</span><span>(</span><span>c</span><span>);</span>
  <span>}</span>
<span>}</span>

<span>ASTNode</span> <span>*</span><span>read_rec</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>,</span> <span>word</span> <span>*</span><span>pos</span><span>)</span> <span>{</span>
  <span>char</span> <span>c</span> <span>=</span> <span>skip_whitespace</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>);</span>
  <span>if</span> <span>(</span><span>isdigit</span><span>(</span><span>c</span><span>))</span> <span>{</span>
    <span>return</span> <span>read_integer</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>,</span> <span>/*sign=*/</span><span>1</span><span>);</span>
  <span>}</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>'+'</span> <span>&amp;&amp;</span> <span>isdigit</span><span>(</span><span>input</span><span>[</span><span>*</span><span>pos</span> <span>+</span> <span>1</span><span>]))</span> <span>{</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip '+'</span>
    <span>return</span> <span>read_integer</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>,</span> <span>/*sign=*/</span><span>1</span><span>);</span>
  <span>}</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>'-'</span> <span>&amp;&amp;</span> <span>isdigit</span><span>(</span><span>input</span><span>[</span><span>*</span><span>pos</span> <span>+</span> <span>1</span><span>]))</span> <span>{</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip '-'</span>
    <span>return</span> <span>read_integer</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>,</span> <span>/*sign=*/</span><span>-</span><span>1</span><span>);</span>
  <span>}</span>
  <span>if</span> <span>(</span><span>starts_symbol</span><span>(</span><span>c</span><span>))</span> <span>{</span>
    <span>return</span> <span>read_symbol</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>);</span>
  <span>}</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>'\''</span><span>)</span> <span>{</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip '\''</span>
    <span>return</span> <span>read_char</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>);</span>
  <span>}</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>'#'</span> <span>&amp;&amp;</span> <span>input</span><span>[</span><span>*</span><span>pos</span> <span>+</span> <span>1</span><span>]</span> <span>==</span> <span>'t'</span><span>)</span> <span>{</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip '#'</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip 't'</span>
    <span>return</span> <span>AST_new_bool</span><span>(</span><span>true</span><span>);</span>
  <span>}</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>'#'</span> <span>&amp;&amp;</span> <span>input</span><span>[</span><span>*</span><span>pos</span> <span>+</span> <span>1</span><span>]</span> <span>==</span> <span>'f'</span><span>)</span> <span>{</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip '#'</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip 'f'</span>
    <span>return</span> <span>AST_new_bool</span><span>(</span><span>false</span><span>);</span>
  <span>}</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>'('</span><span>)</span> <span>{</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span> <span>// skip '('</span>
    <span>return</span> <span>read_list</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>);</span>
  <span>}</span>
  <span>return</span> <span>AST_error</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>Note that I put the integer cases above the symbol case because we want to
catch <code>-123</code> as an integer instead of a symbol, and <code>-a123</code> as a symbol instead
of an integer.</p>

<p>We‚Äôll probably add more entries to <code>starts_symbol</code> later, but those should
cover the names we‚Äôve used so far.</p>

<p>For each type of subcase (integer, symbol, list), the basic idea is the same:
while we‚Äôre still inside the subcase, add on to it.</p>

<p>For integers, this means multiplying and adding (concatenating digits, so to
speak):</p>

<div><div><pre><code><span>ASTNode</span> <span>*</span><span>read_integer</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>,</span> <span>word</span> <span>*</span><span>pos</span><span>,</span> <span>int</span> <span>sign</span><span>)</span> <span>{</span>
  <span>char</span> <span>c</span> <span>=</span> <span>'\0'</span><span>;</span>
  <span>word</span> <span>result</span> <span>=</span> <span>0</span><span>;</span>
  <span>for</span> <span>(</span><span>char</span> <span>c</span> <span>=</span> <span>input</span><span>[</span><span>*</span><span>pos</span><span>];</span> <span>isdigit</span><span>(</span><span>c</span><span>);</span> <span>c</span> <span>=</span> <span>next</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>))</span> <span>{</span>
    <span>result</span> <span>*=</span> <span>10</span><span>;</span>
    <span>result</span> <span>+=</span> <span>c</span> <span>-</span> <span>'0'</span><span>;</span>
  <span>}</span>
  <span>return</span> <span>AST_new_integer</span><span>(</span><span>sign</span> <span>*</span> <span>result</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>It also takes a sign parameter so if we see an explicit <code>-</code>, we can negate the
integer.</p>

<p>For symbols, this means reading characters into a C string buffer:</p>

<div><div><pre><code><span>const</span> <span>word</span> <span>ATOM_MAX</span> <span>=</span> <span>32</span><span>;</span>

<span>bool</span> <span>is_symbol_char</span><span>(</span><span>char</span> <span>c</span><span>)</span> <span>{</span>
  <span>return</span> <span>starts_symbol</span><span>(</span><span>c</span><span>)</span> <span>||</span> <span>isdigit</span><span>(</span><span>c</span><span>);</span>
<span>}</span>

<span>ASTNode</span> <span>*</span><span>read_symbol</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>,</span> <span>word</span> <span>*</span><span>pos</span><span>)</span> <span>{</span>
  <span>char</span> <span>buf</span><span>[</span><span>ATOM_MAX</span> <span>+</span> <span>1</span><span>];</span> <span>// +1 for NUL</span>
  <span>word</span> <span>length</span> <span>=</span> <span>0</span><span>;</span>
  <span>for</span> <span>(</span><span>length</span> <span>=</span> <span>0</span><span>;</span> <span>length</span> <span>&lt;</span> <span>ATOM_MAX</span> <span>&amp;&amp;</span> <span>is_symbol_char</span><span>(</span><span>input</span><span>[</span><span>*</span><span>pos</span><span>]);</span> <span>length</span><span>++</span><span>)</span> <span>{</span>
    <span>buf</span><span>[</span><span>length</span><span>]</span> <span>=</span> <span>input</span><span>[</span><span>*</span><span>pos</span><span>];</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span>
  <span>}</span>
  <span>buf</span><span>[</span><span>length</span><span>]</span> <span>=</span> <span>'\0'</span><span>;</span>
  <span>return</span> <span>AST_new_symbol</span><span>(</span><span>buf</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>For simplicity‚Äôs sake, I avoided dynamic resizing. We only get at most symbols
of size 32. Oh well.</p>

<p>Note that symbols can also have trailing numbers in them, just not at the front
‚Äî like <code>add1</code>.</p>

<p>For characters, we only have three potential input characters to look at:
quote, char, quote. No need for a loop:</p>

<div><div><pre><code><span>ASTNode</span> <span>*</span><span>read_char</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>,</span> <span>word</span> <span>*</span><span>pos</span><span>)</span> <span>{</span>
  <span>char</span> <span>c</span> <span>=</span> <span>input</span><span>[</span><span>*</span><span>pos</span><span>];</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>'\''</span><span>)</span> <span>{</span>
    <span>return</span> <span>AST_error</span><span>();</span>
  <span>}</span>
  <span>advance</span><span>(</span><span>pos</span><span>);</span>
  <span>if</span> <span>(</span><span>input</span><span>[</span><span>*</span><span>pos</span><span>]</span> <span>!=</span> <span>'\''</span><span>)</span> <span>{</span>
    <span>return</span> <span>AST_error</span><span>();</span>
  <span>}</span>
  <span>advance</span><span>(</span><span>pos</span><span>);</span>
  <span>return</span> <span>AST_new_char</span><span>(</span><span>c</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>This means that input like <code>''</code> or <code>'aa'</code> will be an error.</p>

<p>For booleans, we can tackle those inline because there‚Äôs only two cases and
they‚Äôre both trivial. Check for <code>#t</code> and <code>#f</code>. Done.</p>

<p>And last, for lists, it means we recursively build up pairs until we get to
<code>nil</code>:</p>

<div><div><pre><code><span>ASTNode</span> <span>*</span><span>read_list</span><span>(</span><span>char</span> <span>*</span><span>input</span><span>,</span> <span>word</span> <span>*</span><span>pos</span><span>)</span> <span>{</span>
  <span>char</span> <span>c</span> <span>=</span> <span>skip_whitespace</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>);</span>
  <span>if</span> <span>(</span><span>c</span> <span>==</span> <span>')'</span><span>)</span> <span>{</span>
    <span>advance</span><span>(</span><span>pos</span><span>);</span>
    <span>return</span> <span>AST_nil</span><span>();</span>
  <span>}</span>
  <span>ASTNode</span> <span>*</span><span>car</span> <span>=</span> <span>read_rec</span><span>(</span><span>input</span><span>,</span> <span>pos</span><span>);</span>
  <span>assert</span><span>(</span><span>car</span> <span>!=</span> <span>AST_error</span><span>());</span>
  <span>ASTNode</span> <span>*</span><span>cdr</span> <span>=</span> <span>read_l‚Ä¶</span></code></pre></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bernsteinbear.com/blog/compiling-a-lisp-6/">https://bernsteinbear.com/blog/compiling-a-lisp-6/</a></em></p>]]>
            </description>
            <link>https://bernsteinbear.com/blog/compiling-a-lisp-6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24580453</guid>
            <pubDate>Thu, 24 Sep 2020 16:35:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Handshake ‚Äì A Namespace for the Decentralized Web]]>
            </title>
            <description>
<![CDATA[
Score 136 | Comments 82 (<a href="https://news.ycombinator.com/item?id=24579284">thread link</a>) | @rasengan
<br/>
September 24, 2020 | https://meowis.ms/handshake.html | <a href="https://web.archive.org/web/*/https://meowis.ms/handshake.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <a href="https://meowis.ms/"> &lt; </a>




<!-- <div class="subtitle"></div> -->

<p>Names are fundamental to human existence and how we relate to everything in the world. At the heart of all interactions lies the ability for all the parties to match names to the respective entities they stand for.</p>

<p>Names are so integral to the human experience that a strong argument can be made that if <em>something doesn√¢‚Ç¨‚Ñ¢t have a name, it does not exist.</em></p>

<p>Correspondingly, names on the internet are critical to our online existence. Users, apps, or machines locate a resource on the internet via its name. The name needs to not only be understood by humans but also needs to be uniquely identifiable by machines amongst the billions of potential destinations.</p>

<p>Given that the act of matching a name to the eventual resource is the starting point of trillions of internet transactions that happen daily,  it is no surprise that out of the three core layers of internet stack - naming (DNS), transportation (TCP/IP) and application (HTTP), naming is at the very start of the stack.</p>

<p>Naming needs a single source of truth as the names within the namespaces have to be unique across the whole system. Hence, an effective naming system cannot merely be a standard or a protocol, it has to meet all the other aspects of running an internet-scale namespace - including enforcement of unique names, the management of the naming records, scaling to internet traffic, while remaining fully accessible to anyone, anywhere.</p>

<h2 id="namespaces">Namespaces</h2>

<p>Names are the most valuable assets on the internet, but we don√¢‚Ç¨‚Ñ¢t own our own names. All of the crucial namespaces belong to centralized entities who control the namespaces and take that control away from you. This is true for all significant namespaces today - the ICANN namespace, Facebook, Twitter, and Google.</p>

<p>As a result, your name on the internet does not belong to you, but rather to the owners of these centralized namespaces.  With a stroke of the keyboard, they can remove anyone from existence.  If your name lives on a centralized namespace, your right to exist effectively belongs to someone else.</p>

<p>Centralized namespaces also determine much more than a user√¢‚Ç¨‚Ñ¢s ability to exist. They also decree a user√¢‚Ç¨‚Ñ¢s ability to search, match, and communicate with others. They unilaterally set the framework for what protocols can be used, which use cases are permitted, and what information can flow.</p>

<p>The power to enforce monopolies with little consequence also makes these centralized namespaces some of the most valuable properties on the internet today. Verisign makes billions a year controlling .com with practically zero innovation, while ICANN has the power to arbitrarily raise price caps of entire TLDs with their pet cartel companies. Facebook and Twitter controls exactly how users can use their names/accounts, and can heedlessly cancel pages and remove identities for barely specified reasons.</p>

<p>Everywhere we see, we are seeing the serious dangers of depending on centralized entities to exist and be found by others. The Internet is supposed to be kingless, but the ability to strike away one√¢‚Ç¨‚Ñ¢s existence and control exactly how the name is to be used makes the owners of these namespaces the de-facto kings/governors of the internet.</p>

<h2 id="the-world-needs-a-decentralized-namespace">The World Needs a Decentralized Namespace</h2>

<p>Of course, the ability of these centralized namespace owners to control digital existence, lockout access, and enforce monopolistic economics is the complete opposite goal of the decentralized web, which is the ability to exist, innovate, and create their own business models without the need for centralized control or systems.</p>

<p>Whether it√¢‚Ç¨‚Ñ¢s decentralized currencies, decentralized file systems, or decentralized servers - if these decentralized entities do not live on a widely used namespace, they simply do not exist to the vast majority of users on the internet.</p>

<p><em>Without a decentralized namespace widely readable by humans and resolvable by machines, it is impossible for the decentralized world to be widely adopted by users</em>.</p>

<p><strong>Criteria for a Decentralized Naming System</strong></p>

<p>Naming systems play a crucial role in discovery, connection and identification. As one of the most fundamental and long-lasting components of the internet backbone infrastructure, the bar needs to be set very high in terms of longevity, stability, and technical scalability.</p>

<p>For a decentralized naming system to become the legitimate namespace for the decentralized world, the bar is even higher. Without a centralized body in charge, the world has to trust that this naming system will exist in a stable state for a long time to come and stay relevant regardless of potential upheavals and technological progress.</p>

<p>As such, this naming system√¢‚Ç¨‚Ñ¢s fundamental construction needs to have certain key technical, social, and governance requirements:</p>

<ol>
  <li><strong>Be truly decentralized</strong>: what is the point of a decentralized naming system if it remains controlled by a small set of people?</li>
  <li><strong>Main key focus as a naming system</strong>: naming systems need to be extremely focused and fast. Can you imagine the DNS system operating reliably if it was also designed for delivering 4K video?</li>
  <li><strong>Be as accessible yet trustless as possible</strong>: anyone should be able to access the namespace directly in a fully trustless manner without intensive resources</li>
  <li><strong>Compatible with the rest of the internet</strong>: allowing for seamless usage with the rest of the application, user, and technical stack</li>
  <li><strong>Stability and upgradability at the protocol level</strong>: allowing for innovation moving forward without disrupting regular operations</li>
</ol>

<h2 id="handshake-design">Handshake Design</h2>

<p>Given these objectives, and with the general goal of the decentralized root zone and certificate authority, Handshake is the only naming system that is fundamentally suitable to be the namespace for decentralized web.</p>

<h3 id="1-focus-as-a-naming-system">1. Focus as a Naming System</h3>

<p>Let√¢‚Ç¨‚Ñ¢s consider the inherent complexity of an internet-scale naming system. For reference, the naming layer (DNS), unlike the other layers of the internet stack, is the only layer that is a system and not a protocol - the key difference between the two is that a protocol cannot enforce uniqueness of names, which is essential to a functioning namespace. It√¢‚Ç¨‚Ñ¢s also arguably by far the most complex layer with many competing technical, political, and economical demands.</p>

<p>As a standalone blockchain, Handshake has room to grow all on its own and govern itself without interfering with other projects or having to compete with different priorities with other use cases (like gaming or DeFi) trying to run in parallel on the same network. In addition, there are several fundamental constraints in other blockchains - for example, Bitcoin limited OP sizes and Ethereum√¢‚Ç¨‚Ñ¢s notoriously hard to sync blockchain.</p>

<p>If Handshake is built on another blockchain, the instability caused by these competing priorities for use cases and political interests also eliminates one of the core requirements for a decentralized naming infrastructure - which is stability. A naming infrastructure needs to be highly stable - remember - both users, hosts and developers need to be confident that the names will be around for a long time in the same format. For instance, Ethereum√¢‚Ç¨‚Ñ¢s sky high gas prices due to DeFi and the complex migration to ETH2 are both creating high levels of certainty around how apps will work in the future, and whether retail users will be able to have the same level of access as large ticket users.</p>

<p>Lastly, creating a native auction system is complicated and requires highly specific primitives, such as making coins unspendable for certain periods, and increases the complexity of the system if HNS is a non-native token.</p>

<h3 id="2-decentralization">2. Decentralization</h3>

<p>The other critical consideration is decentralization. <em>Remember, the goal here is to achieve a truly decentralized, uncensorable namespace independent of centralized control and policies. Anything less than will be completely redundant.</em></p>

<p>Ethereum is the most decentralized smart contract platform of date, but it√¢‚Ç¨‚Ñ¢s still insufficient as a base layer blockchain for a truly decentralized naming system. A system based on Ethereum either would have to be strictly immutable or engineer a governance mechanism with a single or multiple signers. For example, the ENS system on Ethereum has a 7-part multisig making it either censorable and shutting it off to any future innovations or upgrades. These mechanisms either risk shutting off future innovations or don√¢‚Ç¨‚Ñ¢t meet the decentralized requirement.</p>

<p>How about sidechains? Sidechains mostly rely on the main chain√¢‚Ç¨‚Ñ¢s security, which makes them completely subject to the same concerns above in terms of sharing priorities with the main chain. In addition, there is currently no such thing as a decentralized side-chain on Bitcoin. Counterparty is a one-way system, Liquid requires a small federated multisig, and Rootstock is currently federated waiting on Drivechain support from Bitcoin.</p>

<p>For all of PoW√¢‚Ç¨‚Ñ¢s issues, namely with the limited number of miners, it is built on competition which is inherently decentralized as well as clear separation of concerns between developers, users, and miners. This is in contrast to PoS which encourages stakeholders to collude and centralize, creating a largely plutocratic environment.</p>

<p>As such, true naming decentralization with the ability to upgrade is likely best achieved on a standalone PoW chain with robust hash power, a strong ecosystem, and miner confidence in the value of the blockchain.</p>

<h3 id="3-ease-of-trustless-resolution">3. Ease of Trustless Resolution</h3>

<p>Compared to other naming blockchains, _the entire Handshake stack is engineered for the use case of creating a human readable, truly decentralized, fully accessible and secure namespace. _</p>

<p>The naming data in Handshake is stored in a novel data structure called an Urkel Tree,  which was designed specifically for this purpose. The proofs are small and verify quickly, allowing name resolution to happen with very little computation.</p>

<p>Secondly, a highly unique application called HNSD written in C only handles the DNS functions of Handshake (avoiding ‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://meowis.ms/handshake.html">https://meowis.ms/handshake.html</a></em></p>]]>
            </description>
            <link>https://meowis.ms/handshake.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24579284</guid>
            <pubDate>Thu, 24 Sep 2020 15:05:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[IPFS 0.7.0, the SECIO retirement edition]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 44 (<a href="https://news.ycombinator.com/item?id=24578953">thread link</a>) | @georgyo
<br/>
September 24, 2020 | https://blog.ipfs.io/2020-09-24-go-ipfs-0-7-0/ | <a href="https://web.archive.org/web/*/https://blog.ipfs.io/2020-09-24-go-ipfs-0-7-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    


    <div>
      
      <p>by Jacob Heun &amp; Adin Schmahmann on 2020-09-24</p>

      

      

<p>In August we announced the <a href="https://blog.ipfs.io/2020-08-07-deprecating-secio/">deprecation of the SECIO security transport</a>. In this release we have disabled SECIO by default, which will have an impact on older nodes on the network. The best way to mitigate the impact of this change is to <a href="https://docs.ipfs.io/recent-releases/go-ipfs-0-7/update-procedure">upgrade your IPFS nodes</a> as soon as possible! Not only will upgrading ensure you‚Äôre using the latest security transports, you‚Äôll get access to all of the <a href="https://blog.ipfs.io/2020-07-20-dht-deep-dive/">performance improvements</a> we‚Äôve made this year to content routing.</p>

<p>With this release you will also start seeing more Peer IDs and IPNS Keys on the network that start with <code>1</code> instead of the typical <code>Qm</code>. This is due to a switch to ed25519 keys being used by default over RSA keys, which you can read more about in the highlights below.</p>

<p>üö® For those of you using plugins with IPFS there is a breaking change detailed below to the build process.</p>



<h2 id="secio-is-now-disabled-by-default">üîí SECIO is now disabled by default</h2>

<p>As part of deprecating and removing support for the SECIO security transport, we have disabled it by default. TLS1.3 will remain the default security transport with fallback to Noise. You can read more about the deprecation in the blog post, <a href="https://blog.ipfs.io/2020-08-07-deprecating-secio/">https://blog.ipfs.io/2020-08-07-deprecating-secio/</a>. If you‚Äôre running Go IPFS older than 0.5 or JS IPFS older than 0.47, this may start to impact your performance on the public network, so we strongly encourage you to upgrade today!</p>

<h2 id="ed25519-keys-are-now-used-by-default">üóùÔ∏è Ed25519 keys are now used by default</h2>

<p>Previously go-ipfs generated 2048 bit RSA keys for new nodes, but it will now use ed25519 keys by default. This will not affect any existing keys, but newly created keys will be ed25519 by default. The main benefit of using ed25519 keys over RSA is that ed25519 keys have an inline public key. This means that someone only needs your PeerId to verify things you‚Äôve signed, such as your Peer Records or in the future Signed Provider Records, which means we don‚Äôt have to worry about storing bulky RSA public keys.</p>

<h3 id="rotating-keys">Rotating keys</h3>

<p>Along with switching the default key type, we‚Äôve added support for rotating Identity keys. If you would like to change the key type of your IPFS node, you can now do so with the rotate command. <strong>NOTE: This will affect your Peer Id, so be sure you want to do this!</strong> Your existing identity key will be backed up in the Keystore so that it can still be referenced for things like IPNS records.</p>

<pre><code>$ ipfs key rotate -o my-old-key -t ed25519
</code></pre>

<h2 id="key-export-import">üì¶ Key export/import</h2>

<p>Speaking of backing up keys, we‚Äôve added commands to allow you to export and import keys from the IPFS Keystore to a local .key file. This does not currently apply to the IPFS identity key, <code>self</code>, which is housed in the configuration file.</p>

<pre><code>$ ipfs key gen mykey
$ ipfs key export -o mykey.key mykey # ./&lt;name&gt;.key is the default path
$ ipfs key import mykey mykey.key # on another node
</code></pre>

<h2 id="ipns-paths-now-encode-the-key-name-as-a-base36-cidv1-by-default">#Ô∏è‚É£ IPNS paths now encode the key name as a base36 CIDv1 by default</h2>

<p>Previously go-ipfs encoded the key names for IPNS paths as base58btc multihashes (e.g. <code>Qmabc...</code>). We now encode them as base36 encoded CIDv1s as defined in the <a href="https://github.com/libp2p/specs/blob/master/peer-ids/peer-ids.md#string-representation">peerID spec</a> (e.g. <code>k51xyz...</code>) which also deals with the encoding of public keys. This is nice because it means that IPNS keys will by default be case-insensitive and that they will fit into DNS labels (e.g. <code>k51xyz...ipns.localhost</code>) and therefore that subdomain gateway redirections (e.g. from <code>localhost:8080/ipns/{key}</code> to <code>{key}.ipns.localhost</code>) will look better to users in the default case.</p>

<p>Many commands will accept a <code>--ipns-base</code> option that allows changing command outputs to use a particular encoding (i.e.  base58btc multihash, or CIDv1 encoded in any supported base):</p>

<pre><code>$ ipfs key list -l --ipns-base b58mh
12D3KooWCjhz69LskTZEC5vFWs8eDpHo7kYbGzrC5EjU75BHSmVK self
$ ipfs key list -l --ipns-base base36
k51qzi5uqu5dh9ihj4p2v5sl3hxvv27ryx2w0xrsv6jmmqi91t9xp8p9kaipc2 self
</code></pre>

<h2 id="multiaddresses-now-accept-peerids-encoded-as-cidv1">üìÆ Multiaddresses now accept PeerIDs encoded as CIDv1</h2>

<p>In preparation for eventually changing the default PeerID representation multiaddresses can now contain strings like <code>/p2p/k51xyz...</code> in addition to the default <code>/p2p/Qmabc...</code>. There is a corresponding <code>--peerid-base</code> option to many functions that output peerIDs:</p>

<pre><code>$ ipfs id --format "&lt;id&gt;" --peerid-base b58mh
12D3KooWCjhz69LskTZEC5vFWs8eDpHo7kYbGzrC5EjU75BHSmVK
$ ipfs id --format "&lt;id&gt;" --peerid-base base36
k51qzi5uqu5dh9ihj4p2v5sl3hxvv27ryx2w0xrsv6jmmqi91t9xp8p9kaipc2
</code></pre>

<h2 id="dag-stat-command">üßÆ <code>dag stat</code> command</h2>

<p>Initial support has been added for the <code>ipfs dag stat</code> command. Running this command will traverse the DAG for the given root CID and report statistics. By default, progress will be shown as the DAG is traversed. Supported statistics currently include DAG size and number of blocks.</p>

<pre><code>$ ipfs dag stat bafybeihpetclqvwb4qnmumvcn7nh4pxrtugrlpw4jgjpqicdxsv7opdm6e # the IPFS webui
Size: 30362191, NumBlocks: 346
</code></pre>

<h2 id="plugin-build-changes">üö® Plugin build changes üö®</h2>

<p>We have changed the build flags used by the official binary distributions on <a href="https://dist.ipfs.io/">dist.ipfs.io</a> (or <code>/ipns/dist.ipfs.io</code>) to use the simpler and more reliable <code>-trimpath</code> flag instead of the more complicated and brittle <code>-asmflags=all=-trimpath="$(GOPATH)" -gcflags=all=-trimpath="$(GOPATH)"</code> flags, however the build flags used by default in go-ipfs remain the same.</p>

<p>The scripts in <a href="https://github.com/ipfs/go-ipfs-example-plugin">go-ipfs-example-plugin</a> have been updated to reflect this change. This is a <strong>breaking change</strong> to how people have been building plugins against the dist.ipfs.io binary of go-ipfs and plugins should update their build processes accordingly. See <a href="https://github.com/ipfs/go-ipfs-example-plugin/pull/9">go-ipfs-example-plugin/pull/9</a> for details.</p>

<h2 id="the-changelog">The Changelog</h2>

<p>For a full list of updates included in this release you can review the Changelog at <a href="https://github.com/ipfs/go-ipfs/blob/v0.7.0/CHANGELOG.md#v070-2020-09-22">https://github.com/ipfs/go-ipfs/blob/v0.7.0/CHANGELOG.md#v070-2020-09-22</a>.</p>

<h2 id="thank-you-contributors">Thank you contributors!</h2>

<p>A huge thank you to <a href="https://github.com/ipfs/go-ipfs/blob/v0.7.0/CHANGELOG.md#contributors">everyone who contributed</a> patches and improvements in this release, all <strong>53</strong> of you! We couldn‚Äôt have made this happen without your help and feedback. ‚ù§</p>

<h2 id="install-upgrade-and-join-us">Install, upgrade, and join us!</h2>

<p>You can get started by <a href="https://dist.ipfs.io/#go-ipfs">installing go-ipfs</a> or <a href="https://docs.ipfs.io/recent-releases/go-ipfs-0-7/update-procedure">upgrading to go-ipfs 0.7</a>.</p>

<p>There are many ways to get involved with IPFS based on your skill set, interest, and availability.  Please check out <a href="https://github.com/ipfs/community/blob/master/CONTRIBUTING.md">our contribution page</a> on GitHub for guidance and next steps.</p>

<p>This is an exciting time for IPFS and the web in general. Join us!</p>


      
          
          
          
      
    </div>
  </div></div>]]>
            </description>
            <link>https://blog.ipfs.io/2020-09-24-go-ipfs-0-7-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24578953</guid>
            <pubDate>Thu, 24 Sep 2020 14:33:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Ready-Made CRM, Project and Content Management on Notion]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 5 (<a href="https://news.ycombinator.com/item?id=24578943">thread link</a>) | @saviorand
<br/>
September 24, 2020 | https://optemization.com/preconceived | <a href="https://web.archive.org/web/*/https://optemization.com/preconceived">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article id="/preconceived"><div id="/df2631fcf3ab4d74bfb32255cee6151d"><div id="/f3a8a7556e534222be5e49e6fb2c9ef6"><blockquote id="/7100cd2e553b454ab5102d49c9c9c48f"><span><span>Functional Notion workspaces take hours to create. To setup yourself and your team, you'd have to learn, ideate, build, iterate, and train. Let Optemization take care of this.

</span><span><strong>In two weeks flat.</strong></span></span></blockquote></div></div><h3><span id="/8dc73654f3b645b18006ee25d1bb0cfc"></span><span><span>üì¶ Components</span></span></h3><div id="/74c3d09ab64f4127abaeac25d78eed42"><div id="/a9f4c8f2706a40b19028c89ec97026e8"><p><span><span><strong>Foundational Databases</strong></span></span></p><p><span><span>‚Üí Eleven databases with properties and templates pre-built</span></span></p><ul><li id="/b56f8c313d22445ba331a9c56073cbed"><span><span>Project management suite with for task, calendar, project databases</span></span></li><li id="/7a82c37bf18a42cab68dadea85212342"><span><span>CRM suite with company, people, industry, geography databases</span></span></li><li id="/fd5f5c66de8f4986a9a784efdd6e8e39"><span><span>Resources suite with for content, topic databases</span></span></li><li id="/8ea94eb3df3c4ffa99ca78e24503cdfe"><span><span>Workspace hierarchy with three top-level pages</span></span></li><li id="/d44e005dffc84274af7dcf2f68ec130f"><span><span>Eleven database templates</span></span></li><li id="/e819d910acab47168608f868293a6a83"><span><span>$1000 credit</span></span></li><li id="/8cfdf53823ed4f6199f85397682457af"><span><span>1 hour onboarding meeting</span></span></li></ul></div></div><div id="/ce69d2f7689448ce8af6af68c6950bb9"><div id="/9987596c4d4e4e7099539209c83d70a7"><p><span><span><strong>Personalized Dashboards</strong></span></span></p><p><span><span>‚Üí Three customizable dashboards</span></span></p><ul><li id="/1bcf8781b59b47dbb85e426df06d2455"><span><span>Personal dashboard</span></span></li><li id="/b567781f9eb94096a4981739aa8bf700"><span><span>Vertical project dashboard</span></span></li><li id="/ea8517dbc1f34b49acc9333437539481"><span><span>Horizontal project dashboard</span></span></li><li id="/ecd1c7606e4c4229909eb2a4e5d786f5"><span><span>Dashboard component library</span></span></li><li id="/fe950994c03143f9b89b0f2adc7b44d0"><span><span>1 hour personalization meeting</span></span></li></ul></div></div><div id="/c43afe7bd97e4eb69e857db6c0b2abde"><div id="/d6f53f22277e4f6a9728ae71f6f03d77"><p><span><span><strong>Bonus Support</strong></span></span></p><ul><li id="/504337f059c94e02b38782626b35c482"><span><span>Shared Slack Connect channel</span><span><span>*</span></span></span></li><li id="/4b53e407064046d1b105399317f9e88c"><span><span>Curated Notion updates and content</span></span></li><li id="/fed65626c7414f0da78c7eeec6e5d222"><span><span>Discounts on future services and tools </span></span></li></ul><p><span><span>*Requires Standard Plan</span></span></p></div></div><h3><span id="/0b78decb95c24aa8b8771b3041080f4d"></span><span><span>üñ•Ô∏è Demo</span></span></h3><h3><span id="/56d6370823f34ff6bf3d2f2ddbfea3d5"></span><span><span>üìÜ Timeline</span></span></h3><p><span><span><strong>Six steps including two meetings (example dates).</strong></span></span></p><div id="/0de5b0f2af9944039b1a02342f8d0cd8"><div id="/5ea01ed9dfb244ae829b371d5c8a7ef9"><p><span><span><strong>üóøStart Installation</strong></span></span></p><p><span><span>üí¨</span><span><strong>Onboarding Meeting</strong></span></span></p><p><span><span>üì¶</span><span><strong>Ship Databases</strong></span></span></p><p><span><span>üí¨</span><span><strong>Customization Meeting</strong></span></span></p><p><span><span>üì¶</span><span><strong>Ship Dashboards</strong></span></span></p><p><span><span><strong>üóøCompletion Installation</strong></span></span></p></div><div id="/20f078e837764769ac3290a5f4ba6221"><p><span><span>Oct 5, 2020</span></span></p><p><span><span>Oct 5, 2020</span></span></p><p><span><span>Oct 12, 2020</span></span></p><p><span><span>Oct 12, 2020</span></span></p><p><span><span>Oct 19, 2020</span></span></p><p><span><span>Oct 19, 2020</span></span></p><p><span><span><strong>14 days</strong></span></span></p></div></div><h3><span id="/fdd2e4c53e3848a7ade37b394d8b9430"></span><span><span>üí≥ Pricing</span></span></h3><p><span><span><strong>$3,000. Split up as follows</strong></span></span></p><div id="/24038df326844c6693e5f7ecf3dcc093"><div id="/9ed4fc58aaec46cb9f76ca91e51408b5"><p><span><span>üßæ</span><span><strong>Deposit Payment</strong></span></span></p><p><span><span><strong>üì¶Add Credit</strong></span></span></p><p><span><span>üßæ</span><span><strong>Final Payment</strong></span></span></p></div></div><h3><span id="/6d214b8077b04c56a2b46d400dc03207"></span><span><span>üîí Checkout</span></span></h3><p><span><span><strong>You will not be charged immediately.</strong></span></span></p></article></div></div>]]>
            </description>
            <link>https://optemization.com/preconceived</link>
            <guid isPermaLink="false">hacker-news-small-sites-24578943</guid>
            <pubDate>Thu, 24 Sep 2020 14:32:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Important non-programming skills for programmers]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 69 (<a href="https://news.ycombinator.com/item?id=24577876">thread link</a>) | @IncRnd
<br/>
September 24, 2020 | https://welearncode.com/most-important-nonprogramming/ | <a href="https://web.archive.org/web/*/https://welearncode.com/most-important-nonprogramming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><a href="https://welearncode.com/">‚Üê Home</a></p><p>When I think about who I would like to work with as a programmer, I think so much more about non-technical skills than technical skills that make somebody a good co-worker. In fact, all of the skills that are in this post contribute to writing good code that improves technical projects. Most of them are really helpful for careers outside of programming too, but I'm going to focus on why they're useful for programmers specifically.</p><h2>Empathy</h2><p>To build a great product, you must put yourself in the shoes of your users. How will they be using your product? What features will be helpful for them? How can your program help them or improve their lives? And -- conversely -- how could it harm them or negatively impact their lives? What are the ethical implications of your application?</p><p>Empathy is essential for so many pieces of your programs -- if they aren't secure then your user's information could be used negatively by a third party. If they aren't accessible, then you are limiting the number of people that can use your project. If they run slowly or needs huge amounts of bandwidth to run, then users will leave and people in areas with slow internet or mobile users won't be able to run them. It seems like every day an article comes out with some harmful algorithm a company has implemented, like the <a href="https://www.theguardian.com/media/2018/sep/18/report-youtubes-alternative-influence-network-breeds-rightwing-radicalisation">YouTube algorithm radicalizing the alt-right</a>, <a href="https://www.inc.com/guadalupe-gonzalez/amazon-artificial-intelligence-ai-hiring-tool-hr.html">Amazon creating a sexist hiring algorithm (which they didn't end up using)</a>, or <a href="https://www.youtube.com/watch?v=QxuyfWoVV98">AI misgendering black women</a>. Think about everybody when you are writing your code!</p><p>Also, empathy is helpful for being a team member and a mentor. Put yourself in your manager or another developer's shoes. Why are they making their decisions? What can you do to help them? Having empathy will definitely improve your ability to be an effective teammate. If you're an employer, you can retain your employees for longer, and they will be more effective workers if you display empathy <a href="https://www.forbes.com/sites/karenhigginbottom/2018/05/31/why-empathy-matters-in-the-workplace/#386ca65d1130">(src)</a>.</p><p>Have patience for other programmers, especially ones that are learning new things. Remind yourself of something that was really hard for you to learn and how that felt. They probably feel similarly. Being rude to them, diminishing their progress, or being pedantic will only be harmful and make that process harder for them.</p><p><strong>Your words and actions have real consequences -- you can use that to enact positive change or hurt somebody. That doesn't end with in-person communication -- online communication counts too. You may think you're being funny or just letting off steam, but you may actually causing a very negative impact on someone's life. It's up to you to decide how to act, and how to apologize if you hurt someone to undo some of that harm.</strong></p><h2>Problem Solving</h2><p>When I teach people to code, I see a lot more people struggling with problem-solving than the code itself. The ability to break a problem into smaller ones and then solve all of those smaller problems takes a lot of practice. Getting good at problem-solving can help you become a much stronger programmer.</p><p>Also, for most problems, there will be more than one solution. A large part of our jobs as software developers is to think through those different solutions and choose the one that is best. Is one faster to implement? Or does it run more efficiently? Or will it be less expensive? All of these are important questions, and picking the correct solution is a challenging but important part of software development.</p><h2>Collaboration</h2><p>Chances are very high that you with other people as a programmer. You will have to work with other developers, business people, managers, open source contributors, stakeholders, and countless other people even if you are a freelancer or entrepreneur. Learning how to work well with different people and their personalities is critical.</p><p>There are so many things that contribute to good collaboration. The first is knowing that one person can't do everything, or at least do everything well. Different people have different skills, points of view, and life experiences that are more powerful in combination than isolation. Don't feel like you always need to "put the team on your back" or be everything to everybody. You can be a lot better if you allow other people to contribute too.</p><p>Ask other people for help, and be willing to help people in return. You don't need to be an expert in everything, and different people will be experts in different things. Rely on other people, and if you are stuck on something make sure to ask for help so that you don't stay stuck for too long. When somebody asks you for help, be willing to help them. You can learn a lot by explaining things well, and you will be able to reinforce your knowledge of the topic. If you're in a management position, make sure to give people time for mentorship and effective collaboration!</p><p>Along the same lines, don't talk over people or immediately dismiss their viewpoints. They will probably be much less likely to contribute in the future if their opinions aren't valued or taken into account. Actively listen when people share their ideas -- instead of thinking about your response or why your idea is better while they are talking, try to think about why their approach is also good or how it could be implemented.</p><p>Then, once you implement their awesome ideas, give them credit for those ideas. Nothing has made me less effective as an employee as being on a team where my ideas were dismissed, under-valued, and un-credited by other people on my team.</p><h2>Communication</h2><p>When you are working with other people, whether those people are co-workers, clients, the people who use your projects, managers, or people you manage, good communication is crucial. Give honest updates on how things are going, where projects currently stand, and your opinions on things honestly but kindly. People will be less receptive to feedback if you are rude or unconstructive. But, if you are dishonest or sugar-coat the truth, then you may not see a positive change. There's definitely a fine line here.</p><p>One real life example from my life: I had somebody who read one of my blog posts write a very long letter about how dumb I sound because of the tone I take. I usually use a lot of exclamation points and try to sound exciting in my posts -- and that's very intentional to try and make topics that can be intimidating or boring more fun. The person got pretty sexist in this email and said some pretty hurtful things. That being said, I probably could scale back on the exclamation points and still get people excited about programming. I would have been a lot more receptive to that point if the person had framed the criticism more constructively.</p><p>If things are not going well, make sure to say so. Be honest about needing a deadline pushed back, or how something isn't going well at work. You will have a much better chance at changing it and making the environment better for yourself if you speak up.</p><h2>Inclusiveness</h2><p>I used to work as a rock climbing instructor and counselor at a summer camp, and the age group I worked with most were middle school girls. They were some of my favorite people I've ever worked with, but, that being said, middle schoolers aren't usually the most accepting of difference or that clique-adverse. We used to run a game where we started out in one large circle, and then one counselor would tell people they were "out of the circle", and they would have to leave the game based on some characteristic that they weren't informed of and couldn't control. The people still inside the circle would play a game, and the people outside of the circle were excluded and just had to watch from afar.</p><p>This activity was super effective in showing these girls what it was like to be left out for reasons outside of your control, and I still think back on it a lot. As adults, we still leave people out of the circle and exclude them based on certain characteristics outside their control, but if we let them back into the circle and allow them to contribute then our products draw on more diverse experiences and are better. <strong>There's <a href="https://hbr.org/2016/11/why-diverse-teams-are-smarter">a lot of research</a> on more diverse teams performing better, but from an individual perspective, think about what it feels like to be left out of the circle and try to make your circle larger, not smaller.</strong> Chances are, a lot of your users may be people that have traditionally been left out of the circle in tech. I can tell you from my own experience, that it's really difficult to be the only person like you on a team as someone who's been on a team with another woman for ~5% of my programming career.</p><p>This also links into empathy -- make sure that you are making your programs for a wide variety of users. Not just the able-bodied or those with cutting-edge internet or technologies. You will be able to reach more people.</p><h2>Patience</h2><p>The first person that you need to have patience with when you are programming is yourself. <strong>Programming is hard</strong> and sometimes you will have bugs or difficult problems to overcome. If it's always easy, then you aren't challenging yourself, and you aren't growing as a programmer. Have the tenacity to keep working through a problem and not give up when it gets hard. But, also, know that you can take a break and come back to the problem in a little while. Maybe taking a break will help you solve the problem more efficiently or to see it differently when you come back to it.</p><p>Also, be patient with other people. Things can take a while to learn and people are not perfect. Making mistakes and failing can be some of the most important experiences in the learning process, so allow for that instead of creating an environment where it isn't safe to take risks or grow. Understand that different things click more easily for different people, and know that learning can take a while.</p><h2>Creativity</h2><p>My favorite thing about being a programmer is that I get to use my creative energy to build things that other people can then benefit from. You get to think outside of the box to create really cool things.</p><p>Having creative ideas is important for coming up with ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://welearncode.com/most-important-nonprogramming/">https://welearncode.com/most-important-nonprogramming/</a></em></p>]]>
            </description>
            <link>https://welearncode.com/most-important-nonprogramming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24577876</guid>
            <pubDate>Thu, 24 Sep 2020 12:21:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Smart Cow Collars]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 57 (<a href="https://news.ycombinator.com/item?id=24577468">thread link</a>) | @troydavis
<br/>
September 24, 2020 | https://halterhq.com/smart-cow-collars | <a href="https://web.archive.org/web/*/https://halterhq.com/smart-cow-collars">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-ca2563ba93dc6cf1ddae"><div><p>Shift, manage and monitor your herd remotely - we‚Äôve summed it up fairly concisely, but how we do that may require a little more paper and a sharpening of the pencil. How are we able to shift a cow to and from the milk shed with the click of a button? Essentially, we train cows to respond to sensory cues which help them understand where they can and cannot go, a method based on the theory of Pavlovian Conditioning. Now, it‚Äôs likely your list of questions is long, so we‚Äôve brought in our Head of Rural, Chris, who oversees all on farm training to give you some answers.</p><p><strong>You say that you use sensory cues to guide cows‚Ä¶ how does that work?</strong></p><p>Like any animal, cows learn behaviours through the use of positive and negative reinforcement. This technique is commonly known as Pavlovian Conditioning, whereby certain stimuli such as sounds, touches and smells are paired with a conditioned response in order to elicit a desired behaviour.</p><p>If you think about the way we farm today, farmers use a multitude of different cues to shift cows or keep them in a particular zone. To put it really simply, Halter replicates these cues and places them on a collar in the form of sound and vibration. </p><p>Vibration can be seen as a positive reinforcer, enabling us to shift cows around the farm as well as indicating to a cow that she is moving in the right direction. You might like to think of vibration as a farmer walking behind their cows to shift them up to the shed! Sound on the other hand helps a cow understand she is moving in the wrong direction or outside of the allocated zone. Currently on the farm an electric fence is the only real means available for farmers to keep their cows within a particular boundary; we instead use sound to replicate a fence line with a pulse used during the initial training period to help a cow understand the meaning of sound. Once the girls are trained we combine sound cues with vibration and we have the ability to guide cows around a farm, keep them out of waterways and set up virtual paddocks and break fences.</p><p><strong>How quick is the training process? Do all cows learn or do some just not get it?&nbsp;</strong></p><p>Cows are extremely quick to respond to sound, within a couple hours of wearing a collar cows learn to stay within a static boundary. It takes a little longer for them to associate vibration with positive cues, however we are currently seeing this happen within a week. In general onboarding takes a week, however this process is continually being modified and improved.</p><p>To date we haven‚Äôt come across any cows that we couldn‚Äôt train! Some learn faster than others but due to the fact that cows are herd animals, the slower ones tend to follow and learn from the faster cows.</p><p><strong>How do you ensure that the training is safe and ethical?</strong></p><p>We‚Äôve been working with animal ethics committees from the start and continue to work closely with them, along with vets and professors in this domain. Welfare is our top priority and our founding vision is to unlock the connection between animals and humans to create a better world, with the hope of not only improving the welfare of cows but other animals in the future. </p><p>We are employing a number of systems to ensure our technology is never harmful to a cow, for instance we have hardcoded mechanisms in place that will shut down a collar should anything out of the ordinary happen, for example a cow getting spooked. We have also considered the training process itself and will begin training softly until a cow becomes more comfortable. </p><p>We want to dramatically improve the welfare of cows and will never compromise their wellbeing.</p><p><strong>Will Halter work on other livestock like sheep and beef cattle? And what about calves?</strong></p><p>Absolutely. Beef cattle would be simple - it just requires a slight change in use case. Sheep would require a collar redesign to fit their small fluffy necks and, no, they are not too stupid! I am confident that the fundamental techniques will work on pretty much any mammal. Pavlovian conditioning is a concept that appeals to very basic animalistic instincts that all mammals, and most likely many other types of animals share.</p><p>In terms of calves there is no reason that Halter wouldn‚Äôt work for them, we‚Äôd just need collars small enough! Although we are currently focused on dairy cattle I see no reason why Halter wouldn‚Äôt work on other livestock in the future!</p><p>Setting up a virtual break fence, shifting cows automatically or drafting a single cow with the touch of a button sounds like a rather crazy concept, but we hope this has given you a touch of background and understanding to it all. We‚Äôll leave you to train your dogs, but trust us when we say - we‚Äôve got the cows covered.</p></div></div></div>]]>
            </description>
            <link>https://halterhq.com/smart-cow-collars</link>
            <guid isPermaLink="false">hacker-news-small-sites-24577468</guid>
            <pubDate>Thu, 24 Sep 2020 11:20:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Most Dangerous Cult of Our Times: QAnon's Inexorable Spread Beyond the U.S.]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 19 (<a href="https://news.ycombinator.com/item?id=24577419">thread link</a>) | @nabla9
<br/>
September 24, 2020 | https://www.spiegel.de/international/world/the-most-dangerous-cult-of-our-times-qanon-s-inexorable-spread-beyond-the-u-s-a-e2b13c80-246a-43e5-945b-80ad7767a170 | <a href="https://web.archive.org/web/*/https://www.spiegel.de/international/world/the-most-dangerous-cult-of-our-times-qanon-s-inexorable-spread-beyond-the-u-s-a-e2b13c80-246a-43e5-945b-80ad7767a170">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-article-el="body">
<section data-app-hidden="true">


</section>
<section>
<div>
<p>The path into the parallel world follows rural roads snaking through the hills of Baden-Wurttemberg to a house located on the edge of a village with a bright white fa√ßade, well-swept driveway and carefully trimmed lawn. The conspiracy has long since eaten its way into the southern German idyll. A friendly man opens the door - muscular, burly, he does a lot of lifting.</p>


<div>
<p>It was not easy to set up a meeting. He has a deep aversion to journalists and other members of a supposed elite, whom he believes are covering up a worldwide plot to oppress humanity. Over the phone, he said that he hopes to open the reporter‚Äôs eyes. "Maybe I can wake you up.‚Äù He requested that his real name not be used, so we'll call him Martin Schmidt.</p><p>"The goal of the elites is to stay powerful, to stay rich and to enslave the world,‚Äù he says.</p><p>Schmidt is 27, works as an electrician and has been living with his parents again since the beginning of the pandemic. He leads the way into the living room, with its bright tile floor and woodchip wallpaper, and says he has been thinking about the big questions for a long time. The death of John F. Kennedy, the attacks of September 11, the coronavirus pandemic: He believes they have all been faked as part of a giant plan.</p>
</div>

<p>His father nods next to him. He also believes people are being systematically deceived by politicians and members of the media. Schmidt says: "This elite, they are various men and women who work on Wall Street, to whom the banks belong, all these people.‚Äù He believes businesspeople like George Soros, Bill Gates and Mark Zuckerberg are among them, as well as the Rockefellers and the Rothschilds.</p>

<section data-area="contentbox">
<div>
<figure data-component="Image" data-settings="{&quot;id&quot;:&quot;996d8f55-bef6-471b-ad10-5c788bf27a9e&quot;, &quot;zoomable&quot;:false,&quot;zoomId&quot;:&quot;e7a12de2-75d3-4553-8079-734b91d3afd9&quot;}">
<span>
<span data-image-el="aspect">
<span>

<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w568_r0.7571817357121258_fpx50.98_fpy47.69.jpg" srcset="https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w284_r0.7571817357121258_fpx50.98_fpy47.69.jpg 284w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w335_r0.7571817357121258_fpx50.98_fpy47.69.jpg 335w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w568_r0.7571817357121258_fpx50.98_fpy47.69.jpg 568w" width="568" height="750" sizes="568px" loading="lazy" data-srcset="https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w284_r0.7571817357121258_fpx50.98_fpy47.69.jpg 284w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w335_r0.7571817357121258_fpx50.98_fpy47.69.jpg 335w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w568_r0.7571817357121258_fpx50.98_fpy47.69.jpg 568w">
</span>
</span>
</span>
</figure>

</div>
</section>
<p>He takes out his smartphone. "I‚Äôll show you how the rich and beautiful party.‚Äù He shows a photo of performance artist Marina Abramoviƒá&nbsp;with the singer Lady Gaga at a charity event. In the picture, they are standing next to a naked female body covered with a red liquid. For Schmidt, the photo is proof of how morally degenerate the leaders of society have become, and that even the so-called elite aren‚Äôt afraid of killing people - even if, in this case, the photo is of an art performance. He says the situation is alarming. "I have awoken.‚Äù</p>

<p>Martin Schmidt is part of a growing number of QAnon sympathizers, one of tens of thousands in Germany. Followers of this right-wing conspiracy theory are convinced that an influential group of Satanist pedophiles is kidnapping boys and girls and using their blood to produce a drug. They believe that the coronavirus was developed in a Chinese lab ‚Äì possibly with the help of Barack Obama ‚Äì in order to hurt Donald Trump and prevent his reelection, a claim that is as absurd as it is false. And they believe Donald Trump is a hero fighting against the "deep state,‚Äù and that he wants to protect the world from the demonic group.</p>

<p>"He is trying to save humanity,‚Äù says Schmidt. "He will take away the elites‚Äô power.‚Äù</p>
<div>
<p>One could dismiss QAnon as crazed paranoia, like the false claims that the moon landing was faked or that the attacks of September 11th were planned by the U.S. government. But what makes the movement unique and, especially, dangerous, is its ideas.</p><p>QAnon‚Äôs followers spread disturbingly familiar themes: a supposed conspiracy of rich elites, including many Jewish businesspeople, targeting the rest of the world; a supposed group of corrupt left-wing politicians infiltrating democracies; journalists who spread propaganda as accomplices to the powerful. These centuries-old fictions from the right-wing, anti-Semitic fringe have been spread into the international public sphere via 21st-century media - part Dreyfus Affair, part Dan Brown.</p><p>"It is no exaggeration to view QAnon as a potential threat to national security,‚Äù says extremism researcher Julia Ebner from the London-based think tank Institute for Strategic Dialogue. Ebner has been researching online radicalization for years and is watching with concern as the German Q movement is becoming more independent and itself trying to recruit new followers.</p><p>Indeed, QAnon is on its way to becoming the most dangerous cult in the world ‚Äì the first ideology to come from the digital realm and to emerge from an online niche into real life, aided by Donald Trump-supporters and right-wing demagogues. The "Q‚Äù cult is fueled by one or several anonymous users who regularly post to the web and who claim to have access to top-secret U.S. government documents ‚Äì a claim that is more than questionable.</p><p>Just as disturbing is how QAnon builds on age-old anti-Semitic conspiracy theories that, centuries ago, claimed Jews drink the blood of Christians and seek to control the world. At the same time, the movement‚Äôs potential for violence is also becoming clearer. In March 2019, a QAnon believer shot an alleged mafia boss in New York because he believed the man was a member of the "deep state.‚Äù In April, U.S. police officers took a woman into custody who had threatened Hillary Clinton on Facebook because she had allegedly abused a child. In 2018, a man in Florida sent mail bombs to prominent Democrats whom he believed to be members of a "deep state" conspiracy.</p><p>The gunman in the central German city of Hanau who killed 10 people and then himself in February alluded to topics circulating in the QAnon cosmos. In a YouTube video, he argued that there were subterranean military installations in the U.S. where children are abused and killed and where the devil is worshipped.</p><p>QAnon followers also played a role in the storming of the Reichstag, the seat of German parliament, in Berlin in late August by a group protesting the authorities‚Äô measures to control COVID-19. Naturopath Tamara Kirschbaum, who called on people to run up the building‚Äôs stairs to the entrance, is identified online as a "freelance employee‚Äù of Qlobal-Change, a portal of QAnon followers. She describes herself as "the voice‚Äù of the "X22 Report,‚Äù a YouTube show about QAnon-related topics that is also translated into German. The Office for the Protection of the Constitution, the German domestic intelligence agency, in the western German state of North Rhine-Westphalia classifies her as a member of the Reichsb√ºrger (or "citizens of the Reich‚Äù) scene, a group that does not believe in the legitimacy of the modern German state.</p><p>Large U.S. tech companies have played a decisive role in the dissemination of the ideology. QAnon would not have been able to spread as fast and far around the world without YouTube, Facebook, Twitter and other social networks. During the coronavirus pandemic and in the first lockdowns in February, the ideology spread even more rapidly, especially in Germany. QAnon has been like a second virus spreading around the world, but this one is very definitely man-made.</p>
</div>

<div>
<p>It is no accident that Trump‚Äôs campaign team has recognized QAnon disciples as an important part of his base and is catering to them. Indeed, several Republican candidates for Congress have professed their affiliation to the movement.</p><p>The QAnon ideology, the first to emerge in the 21st century, is like a blend of video game and online treasure hunt, and emerged on a rather noxious platform that caters largely to young men: 4chan, a simple web forum that was founded in 2003 by a 15-year-old programmer from New York.</p><p><strong>4chan is essentially</strong> a giant digital pinboard with virtually no oversight. Anyone can write and post pretty much anything they want, always anonymously. Only very few things are not allowed and are then deleted. Its offerings include hardcore pornography, as well as tasteless, insulting or right-wing extremist speech. It has given birth to both good and repulsive ideas, which are then commented on and discussed - before immediately being overwhelmed by new posts and ideas.</p><p>4chan‚Äôs roots are in the Japanese manga scene. First-time visitors to the platform will struggle to make sense of its hundreds of discussion groups, manga photos and inside jokes. There are hundreds of thousands of entries every day, supposedly 27 million visitors per month. A unique language has emerged almost without any oversight that, like the jokes, is incomprehensible to outsiders. Thus far, there have been 3.5 billion entries. Users are bound together by the belief that they are part of one of the last bastions of free speech and opinion.</p><p>On October 28, 2017, an anonymous user on 4chan posted the following message: "Hillary Clinton will be arrested between 7:45 AM ‚Äì 8:30 AM EST on Monday ‚Äì the morning of Oct 30, 2017." The author signed later entries with the letter "Q.‚Äù It was the movement's Big Bang, launched by a false prediction. Clinton wasn‚Äôt arrested on October 30th, nor has she been arrested since, but the curiosity of users was piqued.</p><p>Author and conspiracy-theory researcher Timothy Melley at the University of Miami says many Americans are familiar with the elements of the QAnon movement. "It is like a detective novel, where you always inch closer to the truth.‚Äù Q has been posting increasingly complex entries since fall 2017, called "drops‚Äù by followers. These entries contain so-called "breadcrumbs‚Äù that must be followed to reach the goal. Which is ultimately unattainable.</p><p>Q‚Äôs breadcrumbs are like seeds, out of which the stories about the alleged elite conspiracy grow almost by themselves. Q is asking his or her (or their) followers to do their own research if they do not believe the media, turning conspiracy theorists into investigators. Melley argues that the desire to be a part of a revelation keeps them going, even if they never prove anything, and merely keep finding new breadcrumbs.</p>
</div>
<section>
<div data-component="HTMLEmbed">

<p>Illustration: Iris Kuhlmann / DER SPIEGEL; Fotos: Getty Images (3); klaput.blogspot.com; Twitter; wilkowmajority.com; YouTube.</p>
</div>
</section>
<div>
<p>The participatory nature of the ideology is what makes it so attractive. Melley argues that QAnon blends two big conspiracy theories together: a belief that the Illuminati, or someone else, rules the world and that there is a "deep state‚Äù within the government that is ‚Ä¶</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spiegel.de/international/world/the-most-dangerous-cult-of-our-times-qanon-s-inexorable-spread-beyond-the-u-s-a-e2b13c80-246a-43e5-945b-80ad7767a170">https://www.spiegel.de/international/world/the-most-dangerous-cult-of-our-times-qanon-s-inexorable-spread-beyond-the-u-s-a-e2b13c80-246a-43e5-945b-80ad7767a170</a></em></p>]]>
            </description>
            <link>https://www.spiegel.de/international/world/the-most-dangerous-cult-of-our-times-qanon-s-inexorable-spread-beyond-the-u-s-a-e2b13c80-246a-43e5-945b-80ad7767a170</link>
            <guid isPermaLink="false">hacker-news-small-sites-24577419</guid>
            <pubDate>Thu, 24 Sep 2020 11:13:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Database Version Control with Liquibase]]>
            </title>
            <description>
<![CDATA[
Score 100 | Comments 79 (<a href="https://news.ycombinator.com/item?id=24577239">thread link</a>) | @asafg6
<br/>
September 24, 2020 | https://www.turtle-techies.com/database-version-controler-with-liquibase/ | <a href="https://web.archive.org/web/*/https://www.turtle-techies.com/database-version-controler-with-liquibase/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
        
        <h4>Introduction to managing DB shcema changes with Liquibase</h4>
                <h6>
                    By Suresh Regmi, Published 2020-09-06
                </h6>
    </p><div itemprop="articleBody"><h2 id="motivation">Motivation</h2>
<p>Let me give you a scenario,<br>
You have a project with multiple database instances in different environments (Dev, QA, Production) and you need to manage the database schema changes that are done against those environments.
Let‚Äôs assume that you are managing those changes by creating a git project or a shared file on a drive and adding a new SQL file for each database changes you are doing.
To implement your changes in that database, for each SQL file, you need to run the changes in each environment manually and add a flag or note to indicate which change is run on which environment.<br>
Would it be able to complete your task?
Yes, Yet, is it a decent method to manage schema changes?<br>
Of Course Not.</p>
<h2 id="here-are-some-of-the-many-problems-you-might-face-while-doing-so">Here are some of the many problems you might face while doing so</h2>
<ol>
<li>Hard to synchronize database and application code changes in different environments</li>
<li>The tedious process to run each change manually in different environments</li>
<li>Collaboration across the development team on what change is deployed and what is not</li>
<li>Hard to roll-back to the previous version of the database</li>
<li>Possibility of data loss</li>
</ol>
<h2 id="here-comes-liquibase">Here comes Liquibase</h2>
<p>Liquibase is an open-source library for tracking and managing database schema changes that can be used for any database with a JDBC driver.<br>
It is a platform-independent database migration tool that allows the database changes referred to as ‚Äòchangesets‚Äô to be written in various formats including XML, JSON, YAML, and SQL.</p>
<h2 id="features">Features</h2>
<ol>
<li>Supports almost all databases that have a JDBC driver.</li>
<li>Changesets can be written in different formats like XML, JSON, YAML, and SQL.</li>
<li>Can be used to automatically generate changesets for an existing database</li>
<li>Easy to integrate with build tools like Jenkins, Maven etc</li>
<li>Supports database rollbacks</li>
<li>Supports context-dependent logic allowing us to use global context and preconditions</li>
<li>Can be executed via command line, Apache Maven, Apache Ant, Spring Framework</li>
<li>Has feature to generate changeset from an existing database and can also generate schema difference as changesets</li>
</ol>
<h2 id="different-ways-to-run-liquibase">Different ways to run liquibase</h2>
<ol>
<li><strong>Embed liquibase with your app:</strong> Embedding liquibase with your application code will automatically deploy liquibase on the app startup.</li>
<li><strong>Run liquibase using build tools:</strong> Integrate liquibase into your build process (with build tools like Jenkins, Ant, Maven, and Gradle) and update them without being tied up with the application.</li>
<li><strong>Generate the SQL and run it manually:</strong> Using update SQL, Liquibase provides the SQL generated from the changeset along with the database changes required to keep the tracking tables up to date. DBA will then inspect the SQL and run them against the database.</li>
</ol>
<h2 id="installation-process">Installation Process</h2>
<p><strong>Prerequisites:</strong> Liquibase requires Java 8+</p>
<p>There are two ways to install Liquibase, Manual installation and using liquibase installer.</p>
<p>If you set up liquibase using the liquibase installer, dependencies, directories, config and properties files will all be in place already.
It also provides some examples which will provide you with the core concepts required to understand the changesets.</p>
<p>In the case of manual installation, you need to download the compressed liquibase file and extract it in your workspace.<br>
For windows users, you need to add a new <code>PATH</code> variable in the <code>Environment Variables</code>.<br>
For macOS users, the path should be added to the <code>bash.profile</code> file.</p>
<p>For detailed instruction on Installation please follow this <a href="https://docs.liquibase.com/concepts/installation/home.html" target="_blank"> document </a>.</p>
<h2 id="core-concepts">Core Concepts</h2>
<ol>
<li><strong>liquibase.properties:</strong> The file <code>liquibase.properties</code> is a text-based file that stores common properties like database connection parameters, driver details, classpath parameters, global changelog parameters etc.
If you install liquibase using liquibase installer, it will provide pre-written <code>liquibase.properties</code> file while in case of manual installation, you need to create <code>liquibase.properties</code> file using a sample file provided.</li>
</ol>
<p><a href="https://www.turtle-techies.com/database-version-controler-with-liquibase/image01.png" target="_blank"><img src="https://www.turtle-techies.com/database-version-controler-with-liquibase/image01.png" alt="Sample liquibase.properties file for Oracle"></a></p>
<ol start="2">
<li><strong>DatabaseChangeLog:</strong> Databasechangelog is a file where all changesets go. Each database changelog can include one or more changesets.</li>
</ol>
<p><a href="https://www.turtle-techies.com/database-version-controler-with-liquibase/image02.png" target="_blank"><img src="https://www.turtle-techies.com/database-version-controler-with-liquibase/image02.png" alt="Example of an empty DatabaseChangeLog file
"></a></p>
<ol start="3">
<li><strong>Changeset:</strong> In liquibase, a changeset is represented as an atomic change to the database. Each changeset should be uniquely identified using author and id fields.
The database handles each changeset as a single transaction.
Changesets can be written in JSON, XML, SQL and YAML formats.</li>
</ol>
<p><a href="https://www.turtle-techies.com/database-version-controler-with-liquibase/image03.png" target="_blank"><img src="https://www.turtle-techies.com/database-version-controler-with-liquibase/image03.png" alt="Example of a changeset in XML format"></a></p>
<ol start="4">
<li><strong>DATABASECHANGELOG &amp; DATABASECHANGELOGLOCK:</strong> These two tables are created by liquibase to track the changes that are run against the database and to make sure that no other migrations age going on.</li>
</ol>
<p><a href="https://www.turtle-techies.com/database-version-controler-with-liquibase/image04.png" target="_blank"><img src="https://www.turtle-techies.com/database-version-controler-with-liquibase/image04.png" alt="DATABASECHANGELOG table structure"></a></p>
<p><a href="https://www.turtle-techies.com/database-version-controler-with-liquibase/image05.png" target="_blank"><img src="https://www.turtle-techies.com/database-version-controler-with-liquibase/image05.png" alt="DATABASECHANGELOGLOCK table structure"></a></p>
<h2 id="what-if-i-dont-like-liquibase">What if I don‚Äôt like Liquibase?</h2>
<p>If you told me that you don‚Äôt like liquibase and are looking for alternatives, I would ask why not Liquibase first.<br>
Liquibase is a sophisticated tool for database migration that has all features that you need for professional database refactoring and versioning.</p>
<p>But still, if you don‚Äôt want to use liquibase, here are some alternatives.</p>
<ol>
<li>
<p><strong>Flyway:</strong> Flyway is an open-source Apache licenced tool for database migration where you can write migrations in database-specific SQL or using Java code. For more details on Flyway, you can refer to this website. <a href="https://flywaydb.org/">https://flywaydb.org/</a></p>
</li>
<li>
<p><strong>YUNIQL:</strong> YUNIQL is also an open-source schema versioning and database migration engine that uses plain SQL scripts which can be integrated with CI/CD pipelines. If you want to check out YUNIQL, you can refer to this website. <a href="https://yuniql.io/">https://yuniql.io/</a></p>
</li>
</ol>
</div></div>]]>
            </description>
            <link>https://www.turtle-techies.com/database-version-controler-with-liquibase/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24577239</guid>
            <pubDate>Thu, 24 Sep 2020 10:43:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust programming language exploit mitigations]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24575844">thread link</a>) | @DyslexicAtheist
<br/>
September 23, 2020 | https://rcvalle.blog/2020/09/16/rust-lang-exploit-mitigations/ | <a href="https://web.archive.org/web/*/https://rcvalle.blog/2020/09/16/rust-lang-exploit-mitigations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>By  on <time itemprop="datePublished" datetime="2020-09-16T00:00:00-07:00">September 16, 2020</time>. <a href="https://rcvalle.blog/2020/09/16/rust-lang-exploit-mitigations/#disqus_thread" data-disqus-identifier="/2020/09/16/rust-lang-exploit-mitigations/"></a></p><div itemprop="articleBody">
    <p>The Rust programming language provides memory[1] and thread[2] safety
guarantees via its ownership[3], references and borrowing[4], and slice
types[5] features. However, Unsafe Rust[6] introduces unsafe blocks, unsafe
functions and methods, unsafe traits, and new types that are not subject to
the borrowing rules.</p>

<p>Parts of the Rust standard library are implemented as safe abstractions over
unsafe code (and historically have been vulnerable to memory corruption[7]).
Furthermore, the Rust code and documentation encourage creating safe
abstractions over unsafe code. This can cause a false sense of security if
unsafe code is not properly reviewed and tested.</p>

<p>Unsafe Rust disables some of the features that provide memory and thread
safety guarantees. This causes programs or libraries to be susceptible to
memory corruption (CWE-119)[8] and concurrency issues (CWE-557)[9]. Modern C
and C++ compilers provide exploit mitigations to increase the difficulty to
exploit vulnerabilities resulting from these issues. Therefore, the Rust
compiler must also support these exploit mitigations in order to mitigate
vulnerabilities resulting from the use of Unsafe Rust. This post is going to
document these exploit mitigations and how they apply to Rust.</p>

<h2 id="exploit-mitigations">Exploit mitigations</h2>

<p>This section documents the exploit mitigations applicable to the Rust
compiler when building programs for the Linux operating system on the AMD64
architecture and equivalent.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> All examples in this section were
built using the Rust compiler version 1.40.0 (2019-12-19) on Debian testing
(Bullseye).</p>

<p>The Rust Programming Language currently has no specification. The Rust
compiler (i.e., rustc) is the language reference implementation. All
references to ‚Äúthe Rust compiler‚Äù in this post refer to the language
reference implementation.</p>

<p>Table I <br>
Summary of exploit mitigations supported by the Rust compiler when building
programs for the Linux operating system on the AMD64 architecture and
equivalent.</p>
<table>
  <tbody><tr>
   <td><strong>Exploit mitigation</strong>
   </td>
   <td><strong>Supported and enabled by default</strong>
   </td>
   <td><strong>Since</strong>
   </td>
  </tr>
  <tr>
   <td>Position-independent executable
   </td>
   <td>Yes
   </td>
   <td>0.12.0 (2014-10-09)
   </td>
  </tr>
  <tr>
   <td>Integer overflow checks
   </td>
   <td>Supported but enabled by default when debug assertions are enabled only.
   </td>
   <td>1.1.0 (2015-06-25)
   </td>
  </tr>
  <tr>
   <td>Non-executable memory regions
   </td>
   <td>Yes
   </td>
   <td>1.8.0 (2016-04-14)
   </td>
  </tr>
  <tr>
   <td>Stack clashing protection
   </td>
   <td>Yes
   </td>
   <td>1.20.0 (2017-08-31)
   </td>
  </tr>
  <tr>
   <td>Read-only relocations and immediate binding
   </td>
   <td>Yes
   </td>
   <td>1.21.0 (2017-10-12)
   </td>
  </tr>
  <tr>
   <td>Heap corruption protection
   </td>
   <td>Yes
   </td>
   <td>1.32.0 (2019-01-17) via OS default or specified allocator
   </td>
  </tr>
  <tr>
   <td>Stack smashing protection
   </td>
   <td>No
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>Forward-edge control flow protection
   </td>
   <td>No
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>Backward-edge control flow protection (e.g., shadow and safe stack)
   </td>
   <td>No
   </td>
   <td>
   </td>
  </tr>
</tbody></table>

<p id="fn:1">1. See
<a href="https://github.com/rust-lang/rust/tree/master/compiler/rustc_target/src/spec">https://github.com/rust-lang/rust/tree/master/compiler/rustc_target/src/spec</a>
for a list of targets and their default options. <a href="#fnref:1" role="doc-backlink">‚Ü©</a></p>

<h3 id="position-independent-executable">Position-independent executable</h3>

<p>Position-independent executable increases the difficulty of the use of code
reuse exploitation techniques, such as return-oriented programming (ROP) and
variants, by generating position-independent code for the executable, and
instructing the dynamic linker to load it similarly to a shared object at a
random load address, thus also benefiting from address-space layout
randomization (ASLR). This is also referred to as ‚Äúfull ASLR‚Äù.</p>

<p>The Rust compiler supports position-independent executable and enables it by
default since version 0.12.0 (2014-10-09)[10]‚Äì[13].</p>

<div><div><pre><code>$ readelf -h target/release/hello-rust | grep Type:
  Type:                              DYN (Shared object file)
</code></pre></div></div>
<p>Fig. 1.‚ÄÉChecking if an executable is a position-independent executable.</p>

<p>An executable with an object type of <code>ET_DYN</code> (i.e., shared object) and not
<code>ET_EXEC</code> (i.e., executable) is a position-independent executable (see Fig.
1).</p>

<h3 id="integer-overflow-checks">Integer overflow checks</h3>

<p>Integer overflow checks protects programs from undefined and unintended
behavior (which may cause vulnerabilities) by checking for results of signed
and unsigned integer computations that cannot be represented in their type,
resulting in an overflow or wraparound.</p>

<p>The Rust compiler supports integer overflow checks, and enables it when
debug assertions are enabled since version 1.0.0 (2015-05-15)[14]‚Äì[17], but
support for it was not completed until version 1.1.0 (2015-06-25)[16]. An
option to control integer overflow checks was later stabilized in version
1.17.0 (2017-04-27)[18]‚Äì[20].</p>

<div><div><pre><code><span>fn</span> <span>main</span><span>()</span> <span>{</span>
    <span>let</span> <span>u</span><span>:</span> <span>u8</span> <span>=</span> <span>255</span><span>;</span>
    <span>println!</span><span>(</span><span>"u: {}"</span><span>,</span> <span>u</span> <span>+</span> <span>1</span><span>);</span>
<span>}</span>
</code></pre></div></div>
<p>Fig. 2.‚ÄÉhello-rust-integer program.</p>

<div><div><pre><code>$ cargo run
   Compiling hello-rust-integer v0.1.0 (/home/rcvalle/hello-rust-integer)
    Finished dev [unoptimized + debuginfo] target(s) in 0.23s
     Running `target/debug/hello-rust-integer`
thread 'main' panicked at 'attempt to add with overflow', src/main.rs:3:23
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.
</code></pre></div></div>
<p>Fig. 3.‚ÄÉBuild and execution of hello-rust-integer with debug assertions
enabled.</p>

<div><div><pre><code>$ cargo run --release
   Compiling hello-rust-integer v0.1.0 (/home/rcvalle/hello-rust-integer)
    Finished release [optimized] target(s) in 0.23s
     Running `target/release/hello-rust-integer`
u: 0
</code></pre></div></div>
<p>Fig. 4.‚ÄÉBuild and execution of hello-rust-integer with debug assertions
disabled.</p>

<p>Integer overflow checks are enabled when debug assertions are enabled (see
Fig. 3), and disabled when debug assertions are disabled (see Fig. 4). To
enable integer overflow checks independently, use the option to control
integer overflow checks, scoped attributes, or explicit checking methods
such as <code>checked_add</code><sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup>.</p>

<p>It is recommended that explicit wrapping methods such as <code>wrapping_add</code> be
used when wrapping semantics are intended, and that explicit checking and
wrapping methods always be used when using Unsafe Rust.</p>

<p id="fn:2">2. See <a href="https://doc.rust-lang.org/std/primitive.u32.html">https://doc.rust-lang.org/std/primitive.u32.html</a> for more
information on the checked, overflowing, saturating, and wrapping methods
(using u32 as an example). <a href="#fnref:2" role="doc-backlink">‚Ü©</a></p>

<h3 id="non-executable-memory-regions">Non-executable memory regions</h3>

<p>Non-executable memory regions increase the difficulty of exploitation by
limiting the memory regions that can be used to execute arbitrary code. Most
modern processors provide support for the operating system to mark memory
regions as non executable, but it was previously emulated by software, such
as in grsecurity/PaX
<a href="https://pax.grsecurity.net/docs/pageexec.txt">PAGEEXEC</a> and
<a href="https://pax.grsecurity.net/docs/segmexec.txt">SEGMEXEC</a>, on processors that
did not provide support for it. This is also known as ‚ÄúNo Execute (NX) Bit‚Äù,
‚ÄúExecute Disable (XD) Bit‚Äù, ‚ÄúExecute Never (XN) Bit‚Äù, and others.</p>

<p>The Rust compiler supports non-executable memory regions, and enables it by
default since its initial release, version 0.1 (2012-01-20)[21], [22], but
has regressed since then[23]‚Äì[25], and enforced by default since version
1.8.0 (2016-04-14)[25].</p>

<div><div><pre><code>$ readelf -l target/release/hello-rust | grep -A 1 GNU_STACK
  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000
                 0x0000000000000000 0x0000000000000000  RW     0x10
</code></pre></div></div>
<p>Fig. 5.‚ÄÉChecking if non-executable memory regions are enabled for a given
binary.</p>

<p>The presence of an element of type <code>PT_GNU_STACK</code> in the program header
table with the <code>PF_X</code> (i.e., executable) flag unset indicates non-executable
memory regions<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup> are enabled for a given binary (see Fig. 5).
Conversely, the presence of an element of type <code>PT_GNU_STACK</code> in the program
header table with the <code>PF_X</code> flag set or the absence of an element of type
<code>PT_GNU_STACK</code> in the program header table indicates non-executable memory
regions are not enabled for a given binary.</p>

<p id="fn:3">3. See the Appendix section for more information on why it affects other
memory regions besides the stack. <a href="#fnref:3" role="doc-backlink">‚Ü©</a></p>

<h3 id="stack-clashing-protection">Stack clashing protection</h3>

<p>Stack clashing protection protects the stack from overlapping with another
memory region‚Äîallowing arbitrary data in both to be overwritten using each
other‚Äîby reading from the stack pages as the stack grows to cause a page
fault when attempting to read from the guard page/region. This is also
referred to as ‚Äústack probes‚Äù or ‚Äústack probing‚Äù.</p>

<p>The Rust compiler supports stack clashing protection via stack probing, and
enables it by default since version 1.20.0 (2017-08-31)[26]‚Äì[29].</p>

<p><img src="https://rcvalle.blog/assets/2020/09/16/rust-lang-exploit-mitigations/image1.png" alt="Screenshot listing cross references to __rust_probestack in hello-rust." title="Cross references to __rust_probestack in hello-rust.">
Fig. 6. Cross references to <code>__rust_probestack</code> in hello-rust.</p>

<div><div><pre><code><span>fn</span> <span>hello</span><span>()</span> <span>{</span>
    <span>println!</span><span>(</span><span>"Hello, world!"</span><span>);</span>
<span>}</span>

<span>fn</span> <span>main</span><span>()</span> <span>{</span>
    <span>let</span> <span>_</span><span>:</span> <span>[</span><span>u64</span><span>;</span> <span>1024</span><span>]</span> <span>=</span> <span>[</span><span>0</span><span>;</span> <span>1024</span><span>];</span>
    <span>hello</span><span>();</span>
<span>}</span>
</code></pre></div></div>
<p>Fig 7. Modified hello-rust.</p>

<p><img src="https://rcvalle.blog/assets/2020/09/16/rust-lang-exploit-mitigations/image2.png" alt="Screenshot listing cross references to __rust_probestack in modified hello-rust." title="Cross references to __rust_probestack in modified hello-rust.">
Fig. 8. Cross references to <code>__rust_probestack</code> in modified hello-rust.</p>

<p>To check if stack clashing protection is enabled for a given binary, search
for cross references to <code>__rust_probestack</code>. The <code>__rust_probestack</code> is
called in the prologue of functions whose stack size is larger than a page
size (see Fig. 6), and can be forced for illustration purposes by modifying
the hello-rust example as seen in Fig. 7 and Fig. 8.</p>

<h3 id="read-only-relocations-and-immediate-binding">Read-only relocations and immediate binding</h3>

<p><strong>Read-only relocations</strong> protect segments containing relocations and
relocation information (i.e., <code>.init_array</code>, <code>.fini_array</code>, <code>.dynamic</code>, and
<code>.got</code>) from being overwritten by marking these segments read only. This is
also referred to as ‚Äúpartial RELRO‚Äù.</p>

<p>The Rust compiler supports read-only relocations, and enables it by default
since version 1.21.0 (2017-10-12)[30], [31].</p>

<div><div><pre><code>$ readelf -l target/release/hello-rust | grep GNU_RELRO
  GNU_RELRO      0x000000000002ee00 0x000000000002fe00 0x000000000002fe00
</code></pre></div></div>
<p>Fig. 9.‚ÄÉChecking if read-only relocations is enabled for a given binary.</p>

<p>The presence of an element of type <code>PT_GNU_RELRO</code> in the program header
table indicates read-only relocations are enabled for a given binary (see
Fig. 9). Conversely, the absence of an element of type <code>PT_GNU_RELRO</code> in the
program header table indicates read-only relocations are not enabled for a
given binary.</p>

<p><strong>Immediate binding</strong> protects additional segments containing relocations
(i.e., <code>.got.plt</code>) from being overwritten by instructing the dynamic linker
to perform all relocations before transferring control to the program during
startup so all segments containing relocations can be marked read only (when
combined with read-only ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rcvalle.blog/2020/09/16/rust-lang-exploit-mitigations/">https://rcvalle.blog/2020/09/16/rust-lang-exploit-mitigations/</a></em></p>]]>
            </description>
            <link>https://rcvalle.blog/2020/09/16/rust-lang-exploit-mitigations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24575844</guid>
            <pubDate>Thu, 24 Sep 2020 06:25:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Google Grant for Libcurl Work]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24575819">thread link</a>) | @gilad
<br/>
September 23, 2020 | https://daniel.haxx.se/blog/2020/09/23/a-google-grant-for-libcurl-work/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/09/23/a-google-grant-for-libcurl-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Earlier this year I was the recipient of a monetary <a rel="noreferrer noopener" href="https://www.google.com/about/appsecurity/patch-rewards/" target="_blank">Google patch grant</a> with the expressed purpose of <strong>improving security in libcurl</strong>.</p>



<p>This was an upfront payout under this Google program describing itself as ‚Äúan experimental program that rewards proactive security improvements to select open-source projects‚Äù.</p>



<p>I accepted this grant for the curl project and <strong>I intend to keep working fiercely on securing curl</strong>. I recognize the importance of curl security as curl remains one of the most widely used software components in the world, and even one that is doing network data transfers which typically is a risky business. curl is responsible for a <a href="https://daniel.haxx.se/blog/2019/12/04/daily-web-traffic/">measurable share</a> of all Internet transfers done over the Internet an average day. My job is to make sure those transfers are done as safe and secure as possible. It isn‚Äôt my <em>only</em> responsibility of course, as I have other tasks to attend to as well, but still.</p>



<h2>Do more</h2>



<p>Security is already and always a top priority in the curl project and for myself personally. This grant will of course further my efforts to strengthen curl and by association, all the many users of it.</p>



<h2>What I will not do</h2>



<p>When security comes up in relation to curl, some people like to mention and propagate for other programming languages, But <strong>curl will not be rewritten in another language</strong>. Instead we will increase our efforts in writing good C and detecting problems in our code earlier and better.</p>



<h2>Proactive counter-measures</h2>



<p>Things we have done lately and working on to enforce everywhere:</p>



<p><strong>String and buffer size limits</strong> ‚Äì all string inputs and all buffers in libcurl that are allowed to grow now have a maximum allowed size, that makes sense. This stops malicious uses that could make things grow out of control and it helps detecting programming mistakes that would lead to the same problems. Also, by making sure strings and buffers are never ridiculously large, we avoid a whole class of integer overflow risks better.</p>



<p><strong>Unified dynamic buffer functions</strong> ‚Äì by reducing the number of different implementations that handle ‚Äúgrowing buffers‚Äù we reduce the risk of a bug in one of them, even if it is used rarely or the spot is hard to reach with and ‚Äúexercise‚Äù by the fuzzers. The ‚Äúdynbuf‚Äù internal API first shipped in curl 7.71.0 (June 2020).</p>



<p><strong>Realloc buffer growth unification</strong> ‚Äì pretty much the same point as the previous, but we have earlier in our history had several issues when we had silly realloc() treatment that could lead to bad things. By limiting string sizes and unifying the buffer functions, we have reduced the number of places we use realloc and thus we reduce the number of places risking new realloc mistakes. The realloc mistakes were usually in combination with integer overflows.</p>



<p><strong>Code style</strong> ‚Äì we‚Äôve gradually improved our code style checker (<code>checksrc.pl</code>) over time and we‚Äôve also gradually made our code style more strict, leading to less variations in code, in white spacing and in naming. I‚Äôm a firm believer this makes the code look more coherent and therefore become more readable which leads to fewer bugs and easier to debug code. It also makes it easier to grep and search for code as you have fewer variations to scan for.</p>



<p><strong>More code analyzers</strong> ‚Äì we run every commit and PR through a large number of code analyzers to help us catch mistakes early, and we always remove detected problems. Analyzers used at the time of this writing: lgtm.com, Codacy, Deepcode AI, Monocle AI, clang tidy, scan-build, CodeQL, Muse and Coverity. That‚Äôs of course in addition to the regular run-time tools such as valgrind and sanitizer builds that run the entire test suite.</p>



<p><strong>Memory-safe components</strong> ‚Äì curl already supports getting built with a plethora of different libraries and ‚Äúbackends‚Äù to cater for users‚Äô needs and desires. By properly supporting and offering users to build with components that are written in for example rust ‚Äì or other languages that help developers avoid pitfalls ‚Äì future curl and libcurl builds could potentially avoid a whole section of risks. (Stay tuned for more on this topic in a near future.)</p>



<h2>Reactive measures</h2>



<p>Recognizing that whatever we do and however tight ship we run, <strong>we will continue to slip every once in a while</strong>, is important and we should make sure we find and fix such slip-ups as good and early as possible.</p>



<p><strong>Raising bounty rewards</strong>. While not directly fixing things, offering more money in <a href="https://hackerone.com/curl">our bug-bounty program</a> helps us get more attention from security researchers. Our ambition is to gently drive up the reward amounts progressively to perhaps multi-thousand dollars per flaw, as long as we have funds to pay for them and we mange keep the security vulnerabilities at a reasonably low frequency.</p>



<p><strong>More fuzzing</strong>. I‚Äôve said it before but let me say it again: fuzzing is really the top method to find problems in curl once we‚Äôve fixed all flaws that the static analyzers we use have pointed out.  The primary fuzzing for curl is done by OSS-Fuzz, that tirelessly keeps hammering on the most recent curl code.</p>



<p>Good fuzzing needs a certain degree of ‚Äúhand-holding‚Äù to allow it to really test all the APIs and dig into the dustiest corners, and we should work on adding more ‚Äúprobes‚Äù and entry-points into libcurl for the fuzzer to make it exercise more code paths to potentially detect more mistakes.</p>



<p>See also my presentation <a href="https://daniel.haxx.se/blog/2020/07/02/video-testing-curl-for-security/">testing curl for security</a>.</p>
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/09/23/a-google-grant-for-libcurl-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24575819</guid>
            <pubDate>Thu, 24 Sep 2020 06:20:53 GMT</pubDate>
        </item>
    </channel>
</rss>
