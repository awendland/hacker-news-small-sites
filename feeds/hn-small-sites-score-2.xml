<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Tue, 02 Mar 2021 08:35:13 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Tue, 02 Mar 2021 08:35:13 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Take a look at Nomad before jumping on Kubernetes]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26291975">thread link</a>) | @sofixa
<br/>
February 28, 2021 | https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/ | <a href="https://web.archive.org/web/*/https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        
        <h2>Table of Contents</h2>
        
         
      
      <h2 id="pre-introduction">Pre-introduction</h2>
<p>Recently I stumbled upon and then stumbled upon again on <a href="https://blog.dave.tf/post/new-kubernetes/">David Anderson</a>‚Äôs interesting post about ‚Äúnew Kubernetes‚Äù, based on a discussion he had with <a href="https://timewitch.net/">Vallery Lancey</a> about what they would do differently if they were rewriting Kubernetes from scratch. Interestingly, a decent part of the proposals for a ‚Äúnew Kubernetes‚Äù are design choices made by Hashicorp for <a href="https://www.nomadproject.io/">Nomad</a>, which is a pretty underrated orchestrator, and drastically simpler ( one of the main goals of said ‚Äúnew Kubernetes‚Äù).</p>
<p>Some people are aware that Docker Swarm kinda exists but is abandonware/on life support, and isn‚Äôt really recommended anymore, but it still comes up in discussions due to how easy it is to use. For most, that leaves Kubernetes as the only ‚Äúserious‚Äù option, but it is a <em>very</em> complex piece of software, with a lot of moving parts, which isn‚Äôt actually required or need in most cases.</p>

  <figure>
    <img src="https://atodorov.me/img/nomad/kubernetes.jpg#center">
    
  </figure>


<p>This inspired me to write a series on Nomad, what it is, why it‚Äôs great, where it‚Äôs lacking and how to use it.</p>
<h2 id="introduction---what-is-nomad-and-why-its-great">Introduction - what is Nomad and why it‚Äôs great</h2>
<p>Hashicorp‚Äôs Nomad is a simple to run and maintain, yet very flexible task scheduler/orchestrator. It relies on plugins for execution, autoscaling and other features, and can run pretty much anything via its <code>task drivers</code> - Docker, contairnerd, LXC, rkt, podman, Java, fork/exec, QEMU, firecracker, FreeBSD jails.</p>
<p>It comes in the form of a single binary, run in two modes (<code>server</code>, in groups of 3 or 5, which make scheduling decisions and host the APIs and configuration, and an unlimited number of <code>worker</code>s which actually run whatever it is you want to run), and can be automatically clustered via <a href="https://consul.io/">Consul</a>. The configuration ( both for jobs and of Nomad itself) is in <a href="https://github.com/hashicorp/hcl">HCL</a> (I‚Äôll get into more detail about how great that is a bit later) or JSON (mainly for when the jobs are submitted by machines/scripts/tooling and not humans). Multiple clusters can be connected via <a href="https://learn.hashicorp.com/tutorials/nomad/federation?in=nomad/manage-clusters">multi-region federation</a> for sharing ACLs and for API forwarding ( you can submit a job or request logs to any server for any region and it will be forwarded to the appropriate server). Deployments can be complex out of the box ( rolling, canary, blue/green), and everything is version controlled and rollbackable.</p>
<p>Like most HashiCorp tools, it‚Äôs ‚Äúopen core‚Äù, meaning that the majority of features are available in an <a href="https://github.com/hashicorp/nomad">open source</a> version, and some more advanced/enterprise-y ones ( in Nomad‚Äôs case, <a href="https://www.hashicorp.com/blog/hashicorp-nomad-multi-cluster-deployment">multi-region/cluster deployments</a> - deploying something simultaneously to multiple separate clusters, policy as code with <a href="https://docs.hashicorp.com/sentinel/nomad">Sentinel</a> and similar ) require upgrading to Nomad Enterprise.</p>
<h2 id="primitives">Primitives</h2>
<ul>
<li><code>job</code> is a declarative file which contains groups of tasks, each task being a container/binary/anything run by an exec driver</li>
<li><code>system</code> jobs (run on all client nodes, equivalent to Kubernetes DaemonSets, for monitoring/logging agents/load balancers)</li>
<li><code>periodic</code> jobs (equivalent to cronjobs)</li>
<li><code>service</code>, which registers as a Consul service and is thus discoverable ( via API or DNS)</li>
<li><code>deployment</code>, each version of a job, they‚Äôre tracked and can be rollbacked to</li>
<li><code>allocation</code>, each instance of a task ( group ) on a node</li>
<li><code>namespace</code>, a logical unit to organise jobs in and ACLs around</li>
</ul>
<h3 id="jobs">Jobs</h3>
<p>Example of a very basic job that runs a Docker container (<code>jaegertracing/all-in-one:1.21</code>), with limits of 1000Mhz of CPU and 1024MB of RAM, and registers the service with Consul:</p>
<div><pre><code data-lang="hcl"><span>job</span> <span>"jaeger"</span> {
        type <span>=</span> <span>"service"</span>
        <span>group</span> <span>"api"</span> {
            <span>task</span> <span>"jaeger"</span> {
                driver <span>=</span> <span>"docker"</span>
                <span>config</span> { 
                  image <span>=</span> <span>"jaegertracing/all-in-one:1.21"</span>
                }
                <span>resources</span> {
                  cpu <span>=</span> <span>1000</span>
                  memory <span>=</span> <span>1024</span>
                }
                <span>service</span> {
                  name <span>=</span> <span>"jaeger-query"</span>
                }
            }
        }            
}
</code></pre></div><p>Note that this is a <em>very</em> basic job, there are no healthchecks, no persistent storage, no extra configuration, no update strategy, no autoscaling, no exposed ports.</p>
<h4 id="deployment-history-and-rollback">Deployment history and rollback</h4>
<p>Nomad tracks each job‚Äôs full definitions and deployment history, and allows you to easily rollback and compare them, via the UI, CLI or API, e.g.:</p>
<div><pre><code data-lang="bash"><span># List the versions of the job named "opentelemetry-collector"</span>
$ nomad job history opentelemetry-collector
Version     <span>=</span> <span>1</span>
Stable      <span>=</span> false
Submit Date <span>=</span> 2021-01-08T21:30:30+01:00

Version     <span>=</span> <span>0</span>
Stable      <span>=</span> true
Submit Date <span>=</span> 2021-01-08T21:29:48+01:00

<span># Check the difference between versions</span>
$ nomad job history -p opentelemetry-collector
Version     <span>=</span> <span>1</span>
Stable      <span>=</span> false
Submit Date <span>=</span> 2021-01-08T21:30:30+01:00
Diff        <span>=</span>
+/- Job: <span>"opentelemetry-collector"</span>
+/- Task Group: <span>"opentelemetry-collector"</span>
  +/- Task: <span>"opentelemetry-collector"</span>
    +/- Config <span>{</span>
          args<span>[</span>0<span>]</span>:  <span>"--config=local/otel/config.yaml"</span>
      +/- image:    <span>"otel/opentelemetry-collector-contrib:0.15.0"</span> <span>=</span>&gt; <span>"otel/opentelemetry-collector-contrib:0.16.0"</span>
          ports<span>[</span>0<span>]</span>: <span>"health"</span>
          ports<span>[</span>1<span>]</span>: <span>"jaeger_thrift_compact"</span>
        <span>}</span>

Version     <span>=</span> <span>0</span>
Stable      <span>=</span> true
Submit Date <span>=</span> 2021-01-08T21:29:48+01:00

<span># Revert job "opentelemetry-collector" to version 0</span>
$ nomad job revert opentelemetry-collector <span>0</span>

</code></pre></div><h4 id="state-tracking-and-job-planning">State tracking and job planning</h4>
<p>Nomad keeps the desired state and its history, and with <code>nomad job plan</code>, similar to <code>terraform plan</code>, allows us to preview what will change upon applying a new job file. There‚Äôs also a feature to verify nothing has changed between the <code>plan</code> and <code>run</code> (equivalent to <code>terraform apply</code> with a plan file) with the <code>-check-index</code> flag:</p>
<div><pre><code data-lang="bash">$ nomad job plan otel.nomad
+/- Job: <span>"otel"</span>
+/- Task Group: <span>"opentelemetry"</span> <span>(</span><span>1</span> create/destroy update<span>)</span>
  +/- Task: <span>"opentelemetry-collector"</span> <span>(</span>forces create/destroy update<span>)</span>
    +/- Config <span>{</span>
          args<span>[</span>0<span>]</span>:  <span>"--config=local/otel/config.yaml"</span>
      +/- image:    <span>"otel/opentelemetry-collector-contrib:0.15.0"</span> <span>=</span>&gt; <span>"otel/opentelemetry-collector-contrib:0.20.0"</span>
          ports<span>[</span>0<span>]</span>: <span>"health"</span>
          ports<span>[</span>1<span>]</span>: <span>"jaeger_thrift_compact"</span>
        <span>}</span>
Scheduler dry-run:
- All tasks successfully allocated.

Job Modify Index: <span>413</span>
To submit the job with version verification run:

nomad job run -check-index <span>413</span> otel.nomad

When running the job with the check-index flag, the job will only be run <span>if</span> the
job modify index given matches the server-side version. If the index has
changed, another user has modified the job and the plan<span>'</span>s results are
potentially invalid.
</code></pre></div><p>Overall, it‚Äôs a very useful feature, especially when collaborating, locally or via CI/CD.</p>
<h4 id="checking-the-status-and-logs">Checking the status and logs</h4>
<p>To check the status of a job, there are a few commands under <code>nomad job</code> and <code>nomad alloc</code></p>
<div><pre><code data-lang="bash">$ nomad job status otel
ID            <span>=</span> otel
Name          <span>=</span> otel
Submit Date   <span>=</span> 2021-02-27T20:41:29+01:00
Type          <span>=</span> service
Priority      <span>=</span> <span>50</span>
Datacenters   <span>=</span> dc1
Namespace     <span>=</span> default
Status        <span>=</span> running
Periodic      <span>=</span> false
Parameterized <span>=</span> false

Summary
Task Group  Queued  Starting  Running  Failed  Complete  Lost
otel      <span>0</span>       <span>0</span>         <span>1</span>        <span>0</span>       <span>0</span>         <span>0</span>

Latest Deployment
ID          <span>=</span> ea533b6f
Status      <span>=</span> successful
Description <span>=</span> Deployment completed successfully

Deployed
Task Group  Desired  Placed  Healthy  Unhealthy  Progress Deadline
otel      <span>1</span>        <span>1</span>       <span>1</span>        <span>0</span>          2021-02-27T20:51:45+01:00

Allocations
ID        Node ID   Task Group  Version  Desired  Status   Created  Modified
89031cfd  d3cbeb7e  otel      <span>0</span>        run      running  20s ago  4s ago

<span># logs are at the allocation level ( similar to Kubernetes, where they're at the container level), so we get them with the alloc id</span>
$ nomad alloc logs 89031cfd
<span>[</span>...<span>]</span>
</code></pre></div><h4 id="lifecycle-and-sidecars">lifecycle and sidecars</h4>
<p>Nomad allows defining the lifecycle of tasks in task groups, and their status, with the <code>lifecycle</code> stanza. We can have <code>prestart</code> ( for initialisation ), <code>poststart</code> ( companion, for proxying (aka ambassador and adapter pattern in Kubernetes )) or <code>poststop</code> for clean up, and via the <code>sidecar</code> bool we define whether or not it should run as long as the main task(s), e.g.:</p>
<div><pre><code data-lang="hcl">  <span>task</span> <span>"init"</span> {
    <span>lifecycle</span> {
      hook <span>=</span> <span>"prestart"</span>
      sidecar <span>=</span> <span>false</span>
    }
    driver <span>=</span> <span>"docker"</span>
    <span>config</span> {
      image <span>=</span> <span>"alpine/httpie"</span>
      command <span>=</span> <span>"http"</span>
      args <span>=</span> [
        <span>"POST"</span>,
        <span>"https://some-internal-service-for-provisioning-stuff.local/v1/new"</span>,
        "job_id<span>=</span><span>'</span><span>${</span><span>NOMAD_JOB_ID</span><span>}</span><span>!'"</span>
      ]
    }
  }

  <span>task</span> <span>"fluentd"</span> {
    <span>lifecycle</span> {
      hook <span>=</span> <span>"poststart"</span><span> # should start after the main task
</span><span></span>      sidecar <span>=</span> <span>true</span><span> # should run as long as the main task does, and be restarted if it fails
</span><span></span>    }
    driver <span>=</span> <span>"docker"</span>
    <span>config</span> {
      image <span>=</span> <span>"fluentd/fluentd"</span>
    }
    ...
  }

  <span>task</span> <span>"main-app"</span> {
    ...
  }

  <span>task</span> <span>"cleanup"</span> {
    <span>lifecycle</span> {
      hook <span>=</span> <span>"poststop"</span>
    }
    driver <span>=</span> <span>"docker"</span>
    <span>config</span> {
      image <span>=</span> <span>"alpine"</span>
      command <span>=</span> <span>"rm -rf"</span>
      args <span>=</span> [
        <span>"/var/lib/volume-with-super-secret-data"</span>
      
    }
  }
</code></pre></div><h3 id="aclrbac">ACL/RBAC</h3>
<p>ACL ( access-control list ), or RBAC ( role-based access control ) as it‚Äôs known in Kubernetes, allow defining who can do what, so that not everyone with network access can have full administrator privileges and run/stop whatever. Nomad‚Äôs ACL system is pretty similar to Consul and Vault‚Äôs, and uses JSON ( mostly for non-humans ) or HCL to define <code>policies</code> with <code>rules</code>, which describe what action is allowed on what object.</p>
<div><pre><code data-lang="hcl"><span># a basic policy which allows the predefined read policy with read-only access to list and read:
</span><span># job, volume and scaling details, and extra capabilities for job creation and log access within the default namespace
</span><span></span><span>namespace</span> <span>"default"</span> {
  policy <span>=</span> <span>"read"</span>
  capabilities <span>=</span> [<span>"submit-job","dispatch-job","read-logs"</span>]
}
</code></pre></div><p>Assignment of policies is done only via the CLI, unlike Kubernetes where that happens in YAML, as does policy management:</p>
<div><pre><code data-lang="bash"><span># create/update the policy within Nomad</span>
nomad acl policy apply -description <span>"Application Developer policy"</span> my-policy my-policy.hcl
nomad acl token create -name<span>=</span><span>"Test token"</span> -policy<span>=</span>my-policy -type<span>=</span>client
Accessor ID  <span>=</span> ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/">https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/</a></em></p>]]>
            </description>
            <link>https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26291975</guid>
            <pubDate>Sun, 28 Feb 2021 09:30:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Left Node for Deno]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26291506">thread link</a>) | @fazlerocks
<br/>
February 27, 2021 | https://tastet.tech/why-i-left-node-for-deno | <a href="https://web.archive.org/web/*/https://tastet.tech/why-i-left-node-for-deno">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1611746956772/OLz2GztHg.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text">
<p>If you don‚Äôt know  <a target="_blank" href="https://deno.land/">Deno</a> , it is a javascript runtime like Nodejs but with some changes.</p>
<p>We are not going to talk about the technical aspect here but only the advantages and disadvantages that I have in working with Deno.</p>

<h2 id="write-and-play">Write and play</h2>
<p>With Deno, you no longer need to install packages with package managers like NPM, so no more heavyweight node_modules folder on your computer (and also on your conscience).</p>
<p>Imports are done with Urls which can be either in deno's package manager with versioning, or directly on the git directory of your favorite library.</p>
<p>To illustrate that, here a sample code to start a web server with Deno and  <a target="_blank" href="https://oakserver.github.io/oak/">Oak Server</a> :</p>
<pre><code><span>import</span> { Application } <span>from</span> <span>"https://deno.land/x/oak/mod.ts"</span>;

<span>const</span> app = <span>new</span> Application();

app.use(<span>(<span>ctx</span>) =&gt;</span> {
  ctx.response.body = <span>"Hello world!"</span>;
});

<span>await</span> app.listen(<span>"127.0.0.1:8000"</span>);
</code></pre>
<p>You can also run codes that are not on your computer like <a target="_blank" href="https://deno.land/x/nessie@1.1.3">Nessie</a> which lets you perform database migrations directly from the command line with Deno.</p>
<pre><code>deno run --allow-net --allow-read --allow-write https://deno.land/x/nessie/cli.ts init
</code></pre>
<h2 id="typescript">Typescript</h2>
<p>Yes, Deno uses typecript by default for your code writing to avoid many errors, and since typescript is the norm in this perfect world, all libraries written in Deno uses typescript are typed.</p>
<p>And typescript is fully integrated into our IDEs, the code is easier to debug! üòÅ</p>
<h2 id="webassembly">WebAssembly üëÄ</h2>
<p>Deno integrates browser APIs and therefore has the WASM API allowing you to use functions written in other languages directly in your code.</p>
<p>I was personally tired of seeing Python run after installing each dependency in my NodeJs projects, it gave an impression of instability and that‚Äôs verified by running a code on different OS ...</p>
<p>But it's resolved as WASM is universal and standardized!</p>
<h2 id="browser-apis">Browser APIs</h2>
<p>Deno has (again) a big advantage, that offering browser APIs to make the javascript development environment more homogeneous with front-end javascript development.</p>
<p>For example : the standardized function " <a target="_blank" href="https://developer.mozilla.org/fr/docs/Web/API/Fetch_API/Using_Fetch">fetch</a> " is available with Deno.</p>
<h2 id="custom-formatter">Custom Formatter</h2>
<p>Deno integrates a custom formatter to make the code in your project between each developer more homogeneous with the <code>deno fmt</code> command</p>

<p>I only see 2 problems using Deno :</p>
<h2 id="instability">Instability</h2>
<p>Since Deno is still young, the libraries and the runtime may have bugs.</p>
<p>I have often had to spend long hours debugging my code to fix crashes.</p>
<p>Often due to a bad cache or a version change in a dependency or runtime.</p>
<p>On the other hand, the more we advance in time, the more stable Deno is and the libraries also with a strong open source community.</p>
<p>For example, I have more easily participated in open source projects using the deno runtime to improve them than NodeJs.</p>
<h2 id="libraries">Libraries</h2>
<p>The number of available libs is still quite low, again due to Deno's age, but this number is increasing day by day (javascript ecosystem, lol)!</p>

<p>In the end, I use Deno whenever I have to do something other than frontend, instead of using NodeJs, if the library I want to use doesn't exist, then I create it and make it public to help other people.</p>
<p>And I learned a lot from the open-source community by operating like this!</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://tastet.tech/why-i-left-node-for-deno</link>
            <guid isPermaLink="false">hacker-news-small-sites-26291506</guid>
            <pubDate>Sun, 28 Feb 2021 07:49:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust, Zig, and the Futility of ‚ÄúReplacing‚Äù C]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 27 (<a href="https://news.ycombinator.com/item?id=26291054">thread link</a>) | @ghoward
<br/>
February 27, 2021 | https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/ | <a href="https://web.archive.org/web/*/https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>This post has been discussed on <a href="https://news.ycombinator.com/item?id=26291054#26294846">Hacker News</a>, <a href="https://www.reddit.com/r/rust/comments/luawx6/rust_zig_and_the_futility_of_replacing_c/"><code>/r/rust</code></a>, and
<a href="https://lobste.rs/s/1iiifg"><code>lobste.rs</code></a>.</p><p>I should not have posted this to Hacker News on a Saturday night right before
going to bed, but in my defense, this post blew up in a way I didn‚Äôt expect.</p></div><h2 id="introduction">Introduction</h2><p>There was a recent <a href="https://github.com/pyca/cryptography/issues/5771">dust-up on GitHub</a> surrounding the decision by the
<a href="https://github.com/pyca/cryptography">Cryptography library</a> (which I will call <code>cryptography</code> for convenience) to
switch to <a href="https://www.rust-lang.org/">Rust</a>.</p><p>One of the distro maintainers of my distro of choice, <a href="https://www.gentoo.org/">Gentoo</a>, filed a bug
report with the <code>crytography</code> saying that the switch broke builds on several
platforms that Gentoo still supports. The <code>cryptography</code> authors replied that
those platforms are not really used anymore, and that they were going to stick
with Rust because it has better memory safety than C. They also argued that it
is better to force better programming languages on people because of better
security.</p><p>At first glance, it appears that the better argument is on the side of the
<code>cryptography</code> maintainers, but after thinking about it carefully, I think they
are wrong.</p><h2 id="reasons">Reasons</h2><p>There are a few reasons why I believe the <code>cryptography</code> maintainers are at
fault.</p><h3 id="due-diligence">Due Diligence</h3><p>First, their argument for Rust (and against C) because of memory safety implies
that they have not done due diligence in finding and fixing such bugs.</p><p>I can almost hear the rage of my readers against that paragraph above and
against the fact that I don‚Äôt have a commenting system on my blog. So let me
answer the comments preemptively.</p><p>‚ÄúThey are volunteers, giving their time away for free!‚Äù</p><p>Yes, but they also <em>intend</em> for their code to be used widely. They managed to
succeed in that, so they now have some obligation to their users.</p><p>‚ÄúThey don‚Äôt have any obligation!‚Äù</p><p>If a software project actively goes out and gets users, which just about any
project with a serious number of users has done, then yes, they have an
obligation to those users. The reason is that they sold users on the idea of
using their software. In other words, they were marketing their software, which
means making promises.</p><p>In fact, when people release <em>libraries</em> and try to get users for them, it‚Äôs
<em>because</em> they want them to be used by downstream programmers. A programmer
might write a program to scratch an itch and release it, but that reasoning
applies much less to libraries, in my opinion.</p><p>‚ÄúOkay, but they didn‚Äôt get anything in return, so there‚Äôs still no obligation.‚Äù</p><p>In return, the users gave them <strong>relevance</strong>.</p><p>One of the most vocal (in favor of Rust) developers of <code>cryptography</code> works for
Red Hat Security Engineering (if I read his GitHub profile right). I don‚Äôt know
if his work on <code>cryptography</code> helped him get that job, but it might have.</p><p>Another of the most vocal developers has a computer security company. I would
bet money that his work on <code>cryptography</code> gives his company relevance.</p><p>So they did <em>not</em> get ‚Äúnothing‚Äù from users. Quite the opposite, in fact.</p><p>By the way, this position comes from my own experience pushing my <a href="https://git.yzena.com/gavin/bc"><code>bc</code></a>. I
managed to convince the FreeBSD project to <a href="https://github.com/freebsd/freebsd-src/tree/main/contrib/bc">make it the default</a> in FreeBSD
13.</p><p>Once I did that, I shouldered, willingly, the need to keep FreeBSD happy. And
while I have made mistakes, I have done well so far.</p><p>And with my <code>bc</code>, <strong>I did my due diligence with memory safety</strong>. I fuzzed my
<code>bc</code> and eliminated all of the bugs. I even run the generated fuzzer test cases
through AddressSanitizer, and my entire test suite is run through Valgrind
<em>and</em> AddressSanitizer. I also add failing fuzzer cases to my test suite, which
means I run more and more test cases through both of those frightfully
effective tools.</p><p>For the record, those tools are only effective with effective test suites, which
I spent a lot of time building. But <em>building</em> such a test suite is part of due
diligence itself.</p><p>So it follows that if the developers have <em>not</em> done their due diligence, their
users should <strong>leave</strong>, either by forking the project or creating a new one.
The relevance they gave to the <code>cryptography</code> authors should disappear.</p><h3 id="battle-tested-c-code">Battle-Tested C Code</h3><p>In fact, I have done enough due diligence with my <code>bc</code> that I would consider it
a dereliction of duty to Rewrite It in Rust (RIIR).</p><p>Why would it be a dereliction of duty? Because rewriting it in Rust would cause
<em>more</em> bugs, not less. This is because of several reasons:</p><ol><li>I would need to <em>redesign</em> it to fit the language.</li><li>I would need to <em>reimplement</em> it, and new implementations always have bugs.</li><li>The C code is battle-tested, both by me (using fuzzing and other techniques)
and by users.</li></ol><p>That last point is the most crucial, especially in the case of <code>cryptography</code>.</p><p>If the developers of <code>cryptography</code> claim that they have, in fact, done their
due diligence with regards to memory safety in their C code, then they are
claiming that it‚Äôs battle-tested.</p><p>The saying that ‚Äúa bird in the hand is worth two in the bush,‚Äù and in this case,
<em><strong>if</strong></em> the <code>cryptography</code> developers are claiming that they have done their
due diligence, they are throwing away a bird in the hand for a single one in the
bush.</p><div><p><strong>Edit (28 Feb 2021)</strong>: This part of the post seems to be misunderstood widely,
so I am going to attempt to clarify.</p><p>People are arguing that having safe C code requires a frozen, small codebase
with a thorough test suite. And then they debate my position based on the belief
that the codebase needs to evolve.</p><p>For the record, I agree with them that in order to have safe C code, the
codebase must be small and frozen.</p><p>What I am arguing is that <strong>crypto</strong> code <em>should</em> be small and frozen, with a
thorough test suite. I wrote about that <a href="https://gavinhoward.com/2019/11/finishing-software/">here</a>.</p></div><p>And if that‚Äôs the case, their users should <strong>leave</strong> and take <code>cryptography</code>'s
relevance with them.</p><h3 id="desktops-and-smartphones-are-not-the-only-computers">Desktops and Smartphones Are Not the Only Computers</h3><p>The users of <code>cryptography</code> were claiming in the bug report discussion that Rust
is not portable to many platforms, and the authors said that they don‚Äôt have the
time or resources to target those platforms. Fair enough.</p><p>But then they claim that the <em>users</em> should put in the effort to port Rust to
their platforms. This is wrong.</p><p>The <code>cryptography</code> authors also claim that the platforms that Rust doesn‚Äôt
support do not matter. As we will see below, this is false.</p><p>While I agree that the <code>cryptography</code> authors are not responsible for porting
Rust to other platforms, the users of those platforms are not either.</p><p>That responsibility falls on the Rust developers.</p><p><em>They</em> were the ones who sold Rust to those who have used it, so as above,
<em>they</em> have the responsibility for supporting their users.</p><p>Granted, the Rust developers have made no claim about being portable to every
platform. But they <em>have</em> claimed that it is <a href="https://www.rust-lang.org/what/embedded">appropriate for embedded
software</a>.</p><p>If it were true, this would be great. After all, <a href="https://youtu.be/3HxPzutkNYw?t=257">IoT devices outnumber
desktops and smartphones by at least one order of magnitude</a>.</p><p>But there are a lot of them that LLVM, Rust‚Äôs backend, cannot generate code
for. In fact, there are a lot of them that <em>C++</em> cannot run on.</p><div><p><strong>Edit (28 Feb 2021)</strong>: Also, the Rust developers are the developers with the
most experience reading ISA manuals knowing how to make a compiler generate
code. So they are still the best placed to support those ‚Äúesoteric‚Äù
architectures.</p><p>And if they do not know how to read ISA manuals and generate code, it‚Äôs because
they lean too heavily on LLVM.</p></div><p>Make no mistake; embedded software is still running the majority of devices in
the world. And C is the king of embedded software.</p><p>I don‚Äôt know exact numbers, but I wouldn‚Äôt be surprised if the majority of
programmable devices in the world cannot run Rust.</p><p>Thus, because Rust uses LLVM, it is not portable.</p><p>And in my opinion, Rust is not appropriate for the embedded space.</p><p>So in this case, I would consider that the <code>cryptography</code> developers were
victims of the Rust developers.</p><h3 id="gcc-is-not-the-only-compiler"><code>gcc</code> Is Not the Only Compiler</h3><p>That isn‚Äôt the only problem.</p><p>There is a <a href="https://github.com/Rust-GCC/gccrs">project to make <code>gcc</code> able to compile Rust</a>. That‚Äôs commendable.</p><p>However, many people seem to believe that once it‚Äôs done, Rust will be portable.
That is not the case.</p><p>Why? Simple: <strong><code>gcc</code> is not the only compiler</strong>.</p><p>There is plenty of code out there that uses dead simple C compilers, like
<a href="https://bellard.org/tcc/">tcc</a>, <a href="http://sdcc.sourceforge.net/">sdcc</a>, and others. And often, they have <a href="https://embeddedgurus.com/stack-overflow/2012/06/optimizing-for-the-cpu-compiler/">good reason to do
so</a>.</p><p>Adding a <code>gcc</code> frontend, while it will improve the situation, will not make Rust
as portable as C. Period.</p><h3 id="pushing-for-progress-hinders-it">Pushing for Progress Hinders It</h3><p>The other thing that the <code>cryptography</code> authors claim is that their users who
refuse to adopt Rust are hindering progress.</p><p>That may be true, but it is also true that forcing ‚Äúprogress‚Äù on others hinders
<em>true</em> progress.</p><p>By forcing users to either adopt Rust or pin their dependency on <code>cryptography</code>
to the most recent version without it, they are forcing those users to use
stagnant code.</p><p>Isn‚Äôt that the very opposite of progress?</p><h2 id="cryptography-at-fault"><code>cryptography</code> at Fault</h2><p>Those reasons lay out why I think the <code>cryptography</code> authors should shoulder the
blame for this situation, and I think I can explain where they went wrong.</p><ol><li>They let ideology come before pragmatic engineering.</li><li>They sold <code>cryptography</code> to users.</li><li>They knew that switching to Rust would break existing users and did it
anyway.</li><li>They either did not do their due diligence for memory safety, or they did
and threw that battle-tested code out.</li></ol><h2 id="portability">Portability</h2><p>To be honest, I used to think that it was better to switch to a better language
than C.</p><p>I had several talks with Linux distro maintainers, as well as a talk with my
father-in-law, that convinced me that C‚Äôs portability is still important enough
that it should be used.</p><p>Unless, of course, you <em>explicitly</em> target only certain platforms. But you had
better be prepared to never target others.</p><p>In fact, after talking with the distro maintainers, who have had to build Rust,
I am also convinced that it‚Äôs not just about being portable, it‚Äôs also about how
<em>easy</em> it is to <em>build</em> software.</p><p>Rust‚Äôs bootstrap is <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html">complicated</a>, and it is one of the worst things about
it.</p><p>If building software in Rust means building Rust for a <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html">Tier 3</a> platform,
you can bet that <a href="https://drewdevault.com/2021/02/09/Rust-move-fast-and-break-things.html">people will stick with C</a>.</p><h3 id="zig">Zig</h3><p>I want to take a moment to talk about Zig.</p><p>Zig might be one of the most promising up-and-coming languages of recent memory.</p><p>But it will ultimately fail to reach its goal.</p><p>You see, Zig is meant to replace C. But ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/">https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/</a></em></p>]]>
            </description>
            <link>https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26291054</guid>
            <pubDate>Sun, 28 Feb 2021 06:04:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Horizonator: Terrain renderer based on SRTM DEMs]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290718">thread link</a>) | @pabs3
<br/>
February 27, 2021 | http://notes.secretsauce.net/notes/2021/02/27_horizonator-terrain-renderer-based-on-srtm-dems.html | <a href="https://web.archive.org/web/*/http://notes.secretsauce.net/notes/2021/02/27_horizonator-terrain-renderer-based-on-srtm-dems.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>
Check this out:
</p>


<p><img src="https://github.com/dkogan/horizonator/raw/master/example-interactive.png" alt="example-interactive.png">
</p>

<p>
I just resurrected and cleaned up an old tool I had lying around. It's now nice
and usable by others. This tool loads terrain data, and renders it from the
ground, simulating what a human or a camera would see. This is useful for
armchair exploring or for identifying peaks. This was relatively novel when I
wrote it &gt;10 years ago, but there are a number of similar tools in existence
now. <i>This</i> implementation is still useful in that it's freely licensed and
contains APIs, so fancier processing can be performed on its output.
</p>

<p>
Sources and (barely-complete-enough) documentation live here:
</p>

<p>
<a href="https://github.com/dkogan/horizonator">https://github.com/dkogan/horizonator</a>
</p>

  </div></div>]]>
            </description>
            <link>http://notes.secretsauce.net/notes/2021/02/27_horizonator-terrain-renderer-based-on-srtm-dems.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290718</guid>
            <pubDate>Sun, 28 Feb 2021 04:38:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Intro to Ephemeral Environments]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290634">thread link</a>) | @gk1
<br/>
February 27, 2021 | https://releaseapp.io/ephemeral-environments | <a href="https://web.archive.org/web/*/https://releaseapp.io/ephemeral-environments">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://releaseapp.io/ephemeral-environments</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290634</guid>
            <pubDate>Sun, 28 Feb 2021 04:16:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Some Thoughts on Community]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290434">thread link</a>) | @sarvasvkulpati
<br/>
February 27, 2021 | https://sarvasvkulpati.com/blog/community | <a href="https://web.archive.org/web/*/https://sarvasvkulpati.com/blog/community">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="__next"><main><article><div><p>There's been an explosion of people creating communities on the internet. I've thought about them a lot, and wrote this to compile some of those thoughts in a single document.</p><p>What is a community? For my purposes, I‚Äôve found a useful definition.</p><blockquote><p>A group of people, united by a shared passion or purpose, who interact with each other.</p></blockquote><p>Looking at the definition, there are only two things a community needs.</p><ul><li>A shared passion or purpose</li><li>People interacting with each other</li></ul><p>Here‚Äôs some examples of communities:</p><table><thead><tr><th>Community</th><th>Shared passion/purpose</th><th>People interacting</th></tr></thead><tbody><tr><td>Your high school</td><td>Learn (apparently)</td><td>Talking in classrooms, lunches, groupchats</td></tr><tr><td>React developers</td><td>Using the same language, interested in the development of the language</td><td>Tweeting at each other, reddit, forums</td></tr></tbody></table><p>The strength of a community, then, comes from the strength of this shared passion/purpose and the depth and frequency of interactions. And so, a useful formula for measuring the strength of a community could be:</p><p><span></span> = strength of the passion/ideal</p><p><span></span> = the ith connection</p><p><span></span> = the depth of the ith connection</p><p>We can come up with a few interesting observations through this formula.</p><ul><li><p>Notice that this definition doesn‚Äôt talk about technology or the platform used to bring these people together. <strong>Putting people into a group chat doesn‚Äôt make it a community.</strong> In fact, a group chat isn‚Äôt even necessary to build a community. There‚Äôs clearly a React developer community on the internet, but there isn‚Äôt any specific platform or group chat they congregate at. In that sense, communities can be thought of as the superset of the platform they exist on. A single community can use many platforms to interact with each other, but the discord server or slack channel they use isn‚Äôt the community itself.</p></li><li><p><strong>The strength of the shared passion/purpose acts as a force multiplier on the connections in a community.</strong> If there is no shared P, the community has no strength. Getting people together who don‚Äôt have a shared passion is the same thing as putting a bunch of random people in a group chat and calling it a community.</p></li><li><p><strong>It‚Äôs much easier to connect with people who have the same values and passions as you do, so the stronger P is, the stronger every single connection is right at the outset.</strong> So (somewhat obviously), the more passionate people are, the easier is it so make a community with them. Conversely, without a strong shared ideal, it‚Äôll be very difficult to get people to interact and form deep connections.</p></li><li><p>The shared purpose can even be something as trivial as having to be in the same place at the same time. But if you‚Äôve left high school, you‚Äôll notice how you probably haven‚Äôt kept in touch with 90% of the people you knew, even if it felt like you knew them really well during your time there. That leads us to another important point- <strong>there is a hierarchy of shared experiences that bring people together.</strong> You didn‚Äôt keep in touch simply because the strength of your connection was based on location, which is very weak compared to shared passions or experiences.</p></li></ul><p><img src="https://sarvasvkulpati.com/hierarchy.jpeg" alt="shared purpose hierarchy"></p><p>A community with a few deeply passionate people is much stronger than one with many shallow ones. You‚Äôd think that it‚Äôs merely the area under the curve (connections x depth of connections), but there‚Äôs a third dimension here-  P would likely be much higher in communities with deeper connections, making those communities stronger.</p><p><img src="https://sarvasvkulpati.com/3d.jpeg" alt="3d graph of P, depth and connections"></p><p>Notice that frequency of interaction is not a factor at all. It‚Äôs only useful to the extent that it increases the depth of relationships in a community- beyond that, it doesn‚Äôt make a difference.</p><p>Think of your closest group of friends. You could meet them all after months and you‚Äôd still feel the same sense of community you did before. The strength of your connection superseded the need to constantly interact. And so, the DAUs of a community is a terrible way to measure its strength. This is not to say it doesn‚Äôt matter, just that while frequent interactions may lead to deep connections, deep connections don‚Äôt necessarily mean frequent interactions.</p><h2>Who‚Äôs a community for?</h2><p>The need for deep connections means that communities specifically built for the internet can only fulfill a certain set of users.</p><p>The issue is <a href="https://en.wikipedia.org/wiki/Dunbar%27s_number">Dunbar‚Äôs number</a>. Humans can only maintain ~150 deep connections, and the vast majority of these are taken up by in person relationships. But to make online communities, you need people to make strong relationships. So, in a sense, you need people with enough ‚Äòmental social capacity‚Äô to form those deep relationships with people online.</p><p>This required ‚Äòmental social space‚Äô means that online communities need to cater to people who are missing some sort of social interaction offline. And so, they need to find a way to offer connections that people cannot find in person.</p><p>From a social lens, the internet is an aggregation of extremes. It allows everyone in the long tail to suddenly have an abundance of people like them. This means that people with unconvential interests who couldn't find their people in person, can do so online. So the the gamer, the programmer, the digital artist in school- they don‚Äôt need to feel so different anymore.</p><p>For example, I‚Äôve been interested in startups for years now, and after bingeing <a href="https://blog.ycombinator.com/category/podcast/">YC‚Äôs podcasts</a>, I realised that I needed a way to find people with the SV mindset. Twitter allowed me to find many people my age with similar interests, <a href="https://twitter.com/sarvasvkulpati/status/1247181074611851267?lang=en">Enlite</a> allowed me to meet a bunch of really interesting people, and interning at <a href="https://pioneer.app/">Pioneer</a> gave me a glimpse of what it‚Äôs like to work at startups. All of these happened without meeting a single one of of these people in person.</p><p><a href="https://hackclub.com/">HackClub</a> is a perfect example of a community that‚Äôs built to cater to a group of people who miss some sort of social interaction offline. It‚Äôs still strangely difficult to find kids who are interested in coding and building things, and Hack Club fills that gap by giving young hackers an online community of people just like them. It works so well because it manages to both</p><ul><li>Cater to highly passionate people</li><li>Cater to people who don‚Äôt usually find their communities in person</li></ul><h2>Building strong community</h2><p>While finding many people with a high P is a prerequisite, you need to then get them to interact with each other, to weave the web of connections that form the thing you‚Äôll call your community. When you first bring people together, each individuals connections will look like this:</p><p><img src="https://sarvasvkulpati.com/connections.jpeg" alt="a graph of connections against depth"></p><p>Each member will have fairly weak connections with all the other members.The mistake I made when I first started Enlite was thinking that putting a bunch of people in a slack channel would mean that all of them interact with every other member all the time. That wasn‚Äôt the case. Instead, a small, core group of people emerged.</p><p>When you‚Äôre in school, you‚Äôll notice that cliques naturally form. No amount of social engineering would get the jocks to suddenly integrate with the nerds. Similarly, the formation of cliques in a community is pretty normal, and in fact, is a great thing. It means people are falling into subsets of others they are comfortable with.</p><p>However, you don‚Äôt want insulated cliques. While there should be strong connections within them, they should also be connected to each other. Should this succeed, your community will look like this:</p><p><img src="https://sarvasvkulpati.com/graph.jpeg" alt="network of members in a community"></p><p>Any individual in your community will end up with a T shaped profile- many fairly shallow connections, a few very deep ones. The width of the stem would depend on the number of online friends they mentally have space to make as well as their success with connecting to people within the community.</p><p><img src="https://sarvasvkulpati.com/depth.jpeg" alt="depth"></p><p>Much like any social product, Enlite has a retention curve, and about a third are still active. An interesting observation is that the members who initially attended the most video calls are the ones who are now the most active in chat. My theory is that they acquired the best relationships and so, felt incentivised to talk and share opinions and progress on projects.</p><h2>Creating strong connections</h2><p>But how do you facilitate creating these strong connections? Something I‚Äôve noticed is that every relationship: teacher-student, parent-child, friend-friend, follows a timeline</p><p><img src="https://sarvasvkulpati.com/friendGraph.jpeg" alt="friendship timeline"></p><p>In a sense, the depth of a relationship could be measured by how much a pair knows and understands about what makes the other tick. You could have a wild drinking buddy and always have fun but unless you have some deep conversations, you don‚Äôt have a deep relationship. To increase the depth of the relationship quickly, you need to increase the bandwidth of communication- doing so allows both people to understand each other faster, and so, speeds up the timeline of the relationship.</p><p>For example, <a href="https://twitter.com/aadillpickle">Aadil</a> and I followed each other on twitter for a while. I saw his tweets, he saw mine, sometimes we interacted with each other. But then, when making Enlite, I got on a zoom call with him. Within 30 minutes, we were much, much better friends. It felt like the amount our friendship progressed in a few months of interacting with each other on Twitter was repeated several times over in 1 zoom call.</p><p>Of course, different mediums have different bandwidth, but there‚Äôs a tradeoff- the higher the bandwidth, the higher the barrier of entry. Scheduling a zoom call, for example, is much harder than sending a Twitter DM.</p><p><img src="https://sarvasvkulpati.com/bars.jpeg" alt="bar charts of communication mediums compared"></p><p>In this sense, audio is probably best placed at the intersection of bandwidth and friction. On audio calls, you don‚Äôt need to care about how you look, you don‚Äôt need to constantly stay in a ‚Äòswitched on‚Äô state and stare at the camera throughout, and it‚Äôs much easier to hop on and off. This is probably why platforms like Discord and Clubhouse are growing so fast as a tool to grow communities.</p><h2>A summary</h2><p>In conclusion:</p><ul><li>Communities = passion x interaction x strength of interactions</li><li>You don't need a group chat for a community, and putting people into a group chat doesn't make it one</li><li>Communities need to cater for connections people don't find in person</li><li>Creating connections requires a high bandwidth of communication. When in doubt, choose video</li><li>Frequent activity doesn't necessarily mean a strong community</li></ul></div></article></main></div></div>]]>
            </description>
            <link>https://sarvasvkulpati.com/blog/community</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290434</guid>
            <pubDate>Sun, 28 Feb 2021 03:30:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How fighting games use delay-based and rollback netcode (2019)]]>
            </title>
            <description>
<![CDATA[
Score 192 | Comments 78 (<a href="https://news.ycombinator.com/item?id=26289933">thread link</a>) | @Kinrany
<br/>
February 27, 2021 | https://ki.infil.net/w02-netcode.html | <a href="https://web.archive.org/web/*/https://ki.infil.net/w02-netcode.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<div>
					<div id="content">

						<!-- Content -->
					
							<article>

								<div>
								
								<div>
								<p><a href="https://ki.infil.net/words.html">
								<img src="https://ki.infil.net/images/words/header.gif"></a>
								
								</p></div>
								
								
								
								
								<hr>
								
								<div>
								
								<div>
								<p>Netcode</p>
								<p>Explaining how fighting games use delay-based and rollback netcode</p>
								<p>October 16, 2019</p>
								
								
								
								
								</div>
								
								</div>
							
								
								<!-- blog navigation -->
								
								
								

								<div>
								<div><p>
								<em>I would like to thank <a href="https://twitter.com/Krazhier">krazhier</a> and <a href="https://twitter.com/TheKeits">Keits</a> for taking hours out of their busy schedules to discuss technical aspects of netcode with me, and <a href="https://twitter.com/Sajam">Sajam</a> for taking time to answer interview questions and being supportive throughout the writing process. I would also like to especially thank <a href="https://twitter.com/MagicMoste">MagicMoste</a> for making all the wonderful videos you see in this article. All their help was offered for free and I am thankful for their friendship.
								</em></p><p><em>

								This article has been <a href="https://arstechnica.com/gaming/2019/10/explaining-how-fighting-games-use-delay-based-and-rollback-netcode/">cross-posted on Ars Technica</a>.
								</em></p><p><em>

								You may also enjoy <a href="https://www.youtube.com/watch?v=1RI5scXYhK0">watching a video feature</a> on the topics in this article.
								</em>							
								</p></div>
								</div>

								
															
								<!-- Infil -->
								<div><p><img src="https://ki.infil.net/images/words/infil_smiling_2.jpg"></p>
								<p>
								Welcome back to Fightin‚Äô Words! It‚Äôs been a while since we last discussed how the <a href="https://ki.infil.net/w01-bugs.html">most famous fighting game bugs</a> have impacted the community‚Äôs favorite games. Today‚Äôs topic is a bit more technical, but it‚Äôs an equally important factor in how our favorite modern games are played -- we‚Äôre going to be doing a <strong>deep dive into netcode</strong>.								
								</p>
								</div>

								<hr><!-- Infil -->
								<div><p><img src="https://ki.infil.net/images/words/infil_lecture.jpg"></p>
								<div><p>
								At its core, netcode is simply a method for two or more computers, each trying to play the same game, to talk to each other over the internet. While local play always ensures that all player inputs arrive and are processed at the same time, <strong>networks are constantly unstable</strong> in ways the game cannot control or predict. Information sent to your opponent may be delayed, arrive out of order, or become lost entirely depending on dozens of factors, including the physical distance to your opponent, if you‚Äôre on a WiFi connection, and whether your roommate is watching Netflix.
								</p><p>
								Online play in games is nothing new, but fighting games have their own set of unique challenges. They tend to involve direct connections to other players, unlike many other popular game genres, and <strong>low, consistent latency</strong> is extremely important because muscle memory and reactions are at the core of virtually every fighting game. As a result, two prominent strategies have emerged for playing fighting games online: <strong>delay-based netcode</strong> and <strong>rollback netcode</strong>. 
								</p></div>
								</div>

								<div><p><img src="https://ki.infil.net/images/words/infil_thoughtful.jpg"></p>
								<div><p>
								There‚Äôs been a renewed passion in the fighting game community that <strong>rollback is the best choice</strong>, and fighting game developers who <a href="https://www.youtube.com/watch?v=qW61xJNJ9m8">choose to use delay-based netcode</a> are <a href="https://www.youtube.com/watch?v=iTUtnclr2hs">preventing the growth of the genre</a>. While people have been passionate about this topic <a href="https://www.youtube.com/watch?v=Tu2kAdmUCaI&amp;t=42m34s">for many years</a>, frustrations continue to rise as new, otherwise excellent games repeatedly have bad online experiences.
								</p><p>

								There are relatively few easy-to-follow explanations for what exactly rollback netcode is, how it works, and why it is so good at hiding the effects of bad connections (though <a href="http://mauve.mizuumi.net/2012/07/05/understanding-fighting-game-networking.html">there are some</a>). Because I feel this topic is extremely important for the future health of the fighting game community, I want to help squash some misconceptions about netcode and explain both netcode strategies thoroughly so everyone can be informed as they discuss. If you stick around to the end, I‚Äôll even <strong>interview some industry experts and community leaders</strong> on the topic!
								</p><p>
								Before we dig into the details, though, let‚Äôs get one thing straight.
										
								</p></div>
								</div>

								<hr><!-- Infil -->
								<!-- header -->
								

								<div><p><img src="https://ki.infil.net/images/words/infil_smiling_3.jpg"></p>
								<div><p>
										Both companies and players should care about good netcode because <strong>playing online is no longer the future -- it's the present</strong>. 
								</p><p>
										While most other video game genres have been this way for a decade or longer, fighting game developers seem to be resistant to embracing online play, perhaps because of the genre‚Äôs roots in offline settings such as arcades and tournaments. Playing offline is great, and it will always have considerable value in fighting games, but it‚Äôs simply a reality that <strong>a large percentage of the player base will never play offline</strong>. For many fighting game fans, playing online <em>is</em> the game, and a bad online experience prevents them from getting better, playing or recommending the game to their friends, and ultimately causes them to <a href="https://youtu.be/iTUtnclr2hs?t=758">simply go do something else</a>.
								</p><p>
										Even if you think you have a good connection, or live in an area of the world with robust internet infrastructure, good netcode is still mandatory. Plus, lost or delayed information happens regularly even on the best networks, and poor netcode can <a href="https://twitter.com/john_takeuchi/status/1162562266027327488">actively hamper matches</a> no matter how smooth the conditions may be. Good netcode also has the benefit of connecting regions across greater distances, effectively uniting the global player base as much as possible.

										<!-- gif 1A -->
										</p><div><!-- image -->
											<figure>
												
											<figcaption>Bad netcode can ruin matches. This match, played online between two Japanese players, impacted who gets to attend the Capcom Pro Tour finals. <a href="https://twitter.com/john_takeuchi/status/1162562266027327488">(source)</a>
											</figcaption></figure></div>
										
								</div>
								</div>

								<div><p><img src="https://ki.infil.net/images/words/infil_content.jpg"></p>
								<div><p>
										What about those who never play online because they much prefer playing offline with their friends? The <strong>healthy ecosystem</strong> that good netcode creates around a game benefits everyone. There will be more active players, more chances to consume content for your favorite game -- from tech videos to spectating online tournaments to expanding the strategy of lesser-used characters -- and more excitement surrounding your game in the FGC. Despite <a href="http://ki.infil.net/">Killer Instinct</a>‚Äôs pedigree as an excellent game, there‚Äôs no doubt that its superb rollback netcode has played a huge part in the sustained growth of its community.
								</p><p>

										Good netcode matters, period. So let‚Äôs talk about it.
										
								</p></div>
								</div>
								
								
								<!-- blog navigation -->
								
								
								

								</div>
								
							</article>
				
					</div>
				</div>
			</section></div>]]>
            </description>
            <link>https://ki.infil.net/w02-netcode.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26289933</guid>
            <pubDate>Sun, 28 Feb 2021 01:47:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúGood Enough‚Äù Architecture]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26289677">thread link</a>) | @zwliew
<br/>
February 27, 2021 | https://mrh.io/notes/stefan-tilkov-good-enough-architecture/ | <a href="https://web.archive.org/web/*/https://mrh.io/notes/stefan-tilkov-good-enough-architecture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Adaptive Leadership for Technical Projects</strong></p><div><div><div><dl><dt><span role="img" aria-label="">üåå </span><a href="https://github.com/orbitdb/orbit-db" target="_blank">OrbitDB</a></dt><dd>P2P databases for the distributed web, build on CRDTs</dd><dt><span role="img" aria-label="">ü¶Ä </span><a href="https://github.com/ipfs-rust/rust-ipfs" target="_blank">Rust IPFS</a></dt><dd>A Rust implementation of the Interplanetary File System</dd></dl></div><div><dl><dt><span role="img" aria-label="">üìà </span><a href="https://tallylab.com/" target="_blank">TallyLab</a></dt><dd>A privacy-first, end-to-end encrypted time-series data platform</dd><dt><span role="img" aria-label="">‚öì </span><a href="https://github.com/hackforthesea/2020" target="_blank">Hack for the Sea</a></dt><dd>An annual hackathon where technology and the ocean meet.</dd></dl></div></div></div><p><small>This website does not track you.<br>The best way to reach out is via <a href="mailto:mark@mrh.io">e-mail</a>.</small></p><div><h2>by Stefan Tilkov</h2><p>April 01, 2020<!-- --> ÔΩú <span><a href="https://mrh.io/notes/tags/talk%20notes">Talk Notes</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/goto%202019">GOTO 2019</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/stefan%20tilkov">Stefan Tilkov</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/software%20architecture">Software Architecture</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/microservices">Microservices</a></span></p><div><p> <iframe src="https://www.youtube.com/embed/PzEox3szeRc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> </p>
<center>
<p><a href="https://mrh.io/notes/stefan-tilkov-good-enough-architecture/@stilkov">@ stilkov</a> |
<a href="https://files.gotocon.com/uploads/slides/conference_16/846/original/2019-10-23-Good-Enough-Architecture--GOTO.pdf">slides</a> |
<a href="https://www.youtube.com/watch?v=PzEox3szeRc">video</a></p>
</center>
<p><strong>Abstract:</strong> In this session, we‚Äôll take a look at some of the ways we can determine whether the development efforts we‚Äôre undertaking suffer from too much or too little focus on architecture. We‚Äôll examine a number of real-world examples that are intended to inspire either admiration or terror, and try to find some recipes of how we can get more of the former and less of the latter in our own projects.</p>
<hr>
<h2>Definitions of Architecture</h2>
<p><a href="http://www.iso-architecture.org/ieee-1471/cm/">ISO/IEC/IEEE 42010</a>:</p>
<blockquote>
<p>Fundamental concepts or properties of a system in its environment embodied in its elements, relationships, and in the principles of its design and evolution</p>
</blockquote>
<p><a href="https://handbookofsoftwarearchitecture.com/">Grady Booch</a>:</p>
<blockquote>
<p>Architecture represents the significant design decisions that shape a system, where significant is measured by <em>cost of change</em></p>
</blockquote>
<p>Stefan Tilkov:</p>
<blockquote>
<p>Whatever the architect considers important enough to merit their attention</p>
</blockquote>
<p><span>
      <a href="https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/d43b4/software-scaling-dimensions.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Graph of software scaling dimensions" title="Graph of software scaling dimensions" src="https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/fcda8/software-scaling-dimensions.png" srcset="https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/12f09/software-scaling-dimensions.png 148w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/e4a3f/software-scaling-dimensions.png 295w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/fcda8/software-scaling-dimensions.png 590w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/efc66/software-scaling-dimensions.png 885w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/c83ae/software-scaling-dimensions.png 1180w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/d43b4/software-scaling-dimensions.png 1202w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<p><em>Different organizations and applications will require different architectures, and those architectures will change over time</em></p>
<h2>Cases:</h2>
<h3>#1 Non-Extensible Extensibility</h3>
<p>Highly customizable multi-tenant e-commerce solution with lots of features, which has to balance between large customers with specific needs and small customers with generic needs</p>
<ul>
<li>If you attempt to design something that satisfies everybody, you will satisfy nobody.</li>
<li>Highly specific is often preferable to generic</li>
</ul>
<h3>#2 Perilously fine-grained</h3>
<p>Large-scale B2B food retailer building a new logistics system, hired &gt;200 developers to build a microservice-based system. Each developer ‚Äúowned‚Äù
a microservice, which was hell to scale. Eventually moved away from ‚ÄòEntityService‚Äô pattern</p>
<ul>
<li>Everybody wants to be <a href="https://www.youtube.com/watch?v=CZ3wIuvmHeM">Netflix</a> but nobody is</li>
<li>Small is not always beautiful</li>
<li>Refactoring within team boundaries much easier than globally</li>
<li>Ignore organizational parameters at your own risk</li>
</ul>
<h3>#3 Your system WILL be dynamic</h3>
<p>Large-scale insurance system with &gt;100 developers. 2 releases / year with 2-week modeling period  What if you miss this slot?</p>
<ul>
<li>Centralized responsibility hurts</li>
<li>Faces with too much rigidity, a way around the rules will be found</li>
<li>Just because you‚Äôre used to it doesn‚Äôt make it acceptable</li>
</ul>
<h3>#4 Free-style Architecture</h3>
<p>A small E-Commerce / Online shop which grew fast to 100-120 developers over ~10 self-contained teams</p>
<ul>
<li>Avoid increasing the numbers of developers if you can</li>
<li>Move to system of systems</li>
<li>If you don‚Äôt actively create an architecture, be prepared to deal with the one that emerges.</li>
<li>Loose coupling requires very few rules, but they need to be enforced strictly</li>
</ul>
<p><span>
      <a href="https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fe8a7/strength-of-decoupling.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Strength of decoupling" title="Strength of decoupling" src="https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fcda8/strength-of-decoupling.png" srcset="https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/12f09/strength-of-decoupling.png 148w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/e4a3f/strength-of-decoupling.png 295w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fcda8/strength-of-decoupling.png 590w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/efc66/strength-of-decoupling.png 885w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/c83ae/strength-of-decoupling.png 1180w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fe8a7/strength-of-decoupling.png 1223w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h3>#5 Cancerous Growth</h3>
<p>Financial services provider with independent brokers as clients, 20 years of company history. Spun off new company and just copied system and then <em>shared the database</em>. Also implemented own encryption in Borland C++ and noticed bug after encryption own database</p>
<ul>
<li>Successful systems often end up with the worst architecture</li>
<li>Unmanaged evolution will lead to complete chaos</li>
<li>Don‚Äôt be afraid of some light architectural governance</li>
</ul>
<h3>#6 Improve with less intelligence</h3>
<p>Bank with multiple CotS systems, phased out proprietary solution to replace with OSS. Replaced ‚ÄúMagical Integration Broker‚Äù with much more simple dockerized pubsub solution.</p>
<ul>
<li><a href="https://martinfowler.com/articles/microservices.html">Smart endpoints, dumb pipes</a> AKA never put too much logic or intelligence into infrastructure</li>
<li>Valuespecific over generic solutions</li>
</ul>
<h2>Final Takeaways</h2>
<ol>
<li>Don‚Äôt be afraid of architecture</li>
<li>Choose the simplest thing that will work</li>
<li>Create evolvable structures</li>
<li>Manage your system‚Äôs architectural evolution</li>
<li>Don‚Äôt create road blocks - create value and get out of the way</li>
</ol>
<p>Have a talk you want to see notes on? E-mail <a href="mailto:mark@mrh.io">mark@mrh.io</a></p></div><hr><ul><li><a rel="prev" href="https://mrh.io/ipfs-private-networks/">‚Üê <!-- -->Private IPFS Networks</a></li><li><a rel="next" href="https://mrh.io/notes/interledger/">Notes: Interledger Architecture<!-- --> ‚Üí</a></li></ul></div></div></div>]]>
            </description>
            <link>https://mrh.io/notes/stefan-tilkov-good-enough-architecture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26289677</guid>
            <pubDate>Sun, 28 Feb 2021 00:54:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First vaccine to immunize against malaria builds on pandemic-driven RNA tech]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26289245">thread link</a>) | @cpncrunch
<br/>
February 27, 2021 | https://academictimes.com/first-vaccine-to-fully-immunize-against-malaria-builds-on-pandemic-driven-rna-tech/ | <a href="https://web.archive.org/web/*/https://academictimes.com/first-vaccine-to-fully-immunize-against-malaria-builds-on-pandemic-driven-rna-tech/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="articleBody"><p>Consistently ranked as one of the leading causes of death around the world, malaria doesn√¢‚Ç¨‚Ñ¢t have an effective vaccine yet. But researchers have invented a promising new blueprint for one √¢‚Ç¨‚Äù with properties akin to the novel RNA-based vaccine for COVID-19.</p><p>Making a vaccine for malaria is challenging because its associated parasite, <a href="https://www.britannica.com/science/Plasmodium-protozoan-genus"><em>Plasmodium</em></a><em>,</em> contains a protein that inhibits production of <a href="https://www.sciencedirect.com/topics/biochemistry-genetics-and-molecular-biology/memory-t-cell">memory T-cells</a>, which protect against previously encountered pathogens. If the body can√¢‚Ç¨‚Ñ¢t generate these cells, a vaccine is ineffective. But scientists recently tried a new approach using an RNA-based platform.√Ç&nbsp;</p><p>Their design circumvented the sneaky protein, allowed the body to produce the needed T-cells and completely immunized against malaria. The patent application for their novel vaccine, which hasn't yet been tested on humans, was <a href="http://appft1.uspto.gov/netacgi/nph-Parser?Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=/netahtml/PTO/srchnum.html&amp;r=1&amp;f=G&amp;l=50&amp;s1=20210030859.PGNR.&amp;OS=DN/20210030859&amp;RS=DN/20210030859">published</a> by the U.S. Patent &amp; Trademark Office on Feb. 4.</p><p>√¢‚Ç¨≈ìIt's probably the highest level of protection that has been seen in a mouse model,√¢‚Ç¨ÔøΩ said Richard Bucala, co-inventor of the new vaccine and a physician and professor at Yale School of Medicine.</p><p>The team√¢‚Ç¨‚Ñ¢s breakthrough could save hundreds of thousands of lives, particularly in developing nations. <a href="https://www.who.int/news-room/fact-sheets/detail/malaria">In 2019 alone</a>, there were an estimated 229 million cases of malaria and 409,000 deaths worldwide. Of those deaths, 94% were in Africa, with children being the most vulnerable.</p><p>√¢‚Ç¨≈ìIt affects societies and populations that have the least amount of resources and expertise to manage these infections well," Bucala told <em>The Academic Times</em>. "We need new vaccines, and we need more tools."</p><p>Novartis Pharmaceuticals and the National Institutes of Health funded the work. GlaxoSmithKline is an assignee on the patent, which if approved, will allow the company to produce the vaccine and make it available to the public.</p><p>At present, the only vaccine to prevent malaria is called <a href="https://www.malariavaccine.org/sites/www.malariavaccine.org/files/content/page/files/PATH_MVI_RTSS_Fact%20sheet_042019.pdf">RTS,S</a>. Approved two years ago, this vaccine is the result of nearly two decades of research, but is only about 30% effective. And after four years, that figure drops to 15%.</p><p>√¢‚Ç¨≈ìIt doesn't work very well,√¢‚Ç¨ÔøΩ Bucala said. √¢‚Ç¨≈ìAnd the research studies all have the conclusion that the people who fail to mount a vaccine response, or who get reinfected, have poor memory T-cell responses.√¢‚Ç¨ÔøΩ</p><p>Along with Andrew Geall, a pharmaceutical researcher who developed the RNA platform that the duo used, Bucala found a way to prevent the unwanted protein in <em>Plasmodium</em>, called <a href="https://pubmed.ncbi.nlm.nih.gov/17158894/">PMIF</a>, from inhibiting T-cell generation.√Ç&nbsp;</p><p>√¢‚Ç¨≈ìOur research studies indicate that it was this particular gene product, PMIF, that was responsible for this,√¢‚Ç¨ÔøΩ Bucala said. √¢‚Ç¨≈ìIt prevented memory T-cells from forming, and that's why one could not generate a memory response to <em>Plasmodium</em>.√¢‚Ç¨ÔøΩ</p><p>In a conventional vaccine, for instance the <a href="https://www.cdc.gov/flu/prevent/keyfacts.htm">standard flu vaccine</a>, an inactivated version of the virus is injected into a host. The body recognizes an intruder, fights against it, generates antibodies against the harmless virus, then returns back to normal.√Ç&nbsp;</p><p>However, once the virus has left the host, the body needs a way to remember how it fought back. Otherwise it will have to relearn the antibody generation √¢‚Ç¨‚Äù but perhaps next time with the actual, harmful virus infecting the host all the while. This is where memory T-cells come in: They remember how to generate the immune response and remind the body when the time comes. <em>Plasmodium√Ç&nbsp;</em>prevents the immune memory system from occurring by producing PMIF.</p><p>√¢‚Ç¨≈ìSuppressing the T-cell response and immune memory is so important to the parasite that the parasite brings its own gene, PMIF, to do that,√¢‚Ç¨ÔøΩ Bucala said. √¢‚Ç¨≈ìIf you eliminate that factor, the body naturally develops memory immunity.√¢‚Ç¨ÔøΩ</p><p>The concept of the novel malaria vaccine accounts for the PMIF problem. Instead of injecting the actual pathogen, the vaccine presents the body with instructions, via RNA, on how to create the protein unique to the pathogen by itself in order to fight it √¢‚Ç¨‚Äù which is precisely how Pfizer√¢‚Ç¨‚Ñ¢s COVID-19 vaccine works.</p><p>However, rather than an <a href="https://www.cdc.gov/coronavirus/2019-ncov/vaccines/different-vaccines/mrna.html">mRNA platform</a>, Bucala and Geall use a self-amplifying <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7474593/">saRNA</a> platform. The key benefit of the latter is that it is effective at much lower doses because it can rapidly produce copies of itself inside the cell.√Ç&nbsp;</p><p>√¢‚Ç¨≈ìFor saRNA, one can potentially make a million doses of vaccine with a couple liters of synthetic production,√¢‚Ç¨ÔøΩ Bucala said. √¢‚Ç¨≈ìIt's much more efficient than the base-protected mRNA vaccines.√¢‚Ç¨ÔøΩ</p><p>The proposed saRNA vaccine tells the body to create the troublesome PMIF protein, generates antibodies against it and naturally produces the necessary memory T-cells, as Bucala had hoped.</p><p>√¢‚Ç¨≈ìWe thought we could combine RTS,S with a PMIF vaccine, but the mouse studies seem to suggest that just immunizing with PMIF is sufficient,√¢‚Ç¨ÔøΩ Bucala highlighted.√Ç&nbsp;√¢‚Ç¨≈ìThat's how striking the results were.√¢‚Ç¨ÔøΩ</p><p>Bucala and Geall have placed their vaccine in the hands of the Oxford University institution that facilitated the <a href="https://www.bbc.com/news/health-55302595">AstraZeneca</a> COVID-19 vaccine. It is one of the only places in the world that is doing phase 1 studies in malaria, meaning researchers infect human volunteers with the disease after immunizing them.</p><p>√¢‚Ç¨≈ìThis is not in humans yet," Bucala noted, √¢‚Ç¨≈ìbut they are the group that can put it into humans, I think, best. We are doing those studies this year."</p><p>Beyond the saRNA technology's use for the malaria vaccine, Bucala believes it is an ideal method for immunization design in the future, including for COVID-19 prevention, because of its dual low cost and high yield. He says it could reach far and wide.√Ç&nbsp;</p><p>√¢‚Ç¨≈ìThe current mRNA approach is an important step in that direction,√¢‚Ç¨ÔøΩ he said. √¢‚Ç¨≈ìBut we are going to, I believe, need to do better. I hope that the saRNA opens that platform.√¢‚Ç¨ÔøΩ</p><p><em>The application for the patent, Uses Of Parasite Macrophage Migration Inhibitory Factors, was filed on Oct. 16, 2020 to the U.S. Patent Trademark Office with the application number 17/073006. The inventors of the pending patent are Richard Bucala, Yale School of Medicine and Andrew Geall, Novartis Pharmaceuticals. The assignees are Yale University and GlaxoSmithKline Biologicals SA.</em></p><p><em>Parola Analytics provided technical research for this story.</em></p></div></div></div>]]>
            </description>
            <link>https://academictimes.com/first-vaccine-to-fully-immunize-against-malaria-builds-on-pandemic-driven-rna-tech/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26289245</guid>
            <pubDate>Sat, 27 Feb 2021 23:44:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Translating My Z3 Tutorial to Coq]]>
            </title>
            <description>
<![CDATA[
Score 85 | Comments 15 (<a href="https://news.ycombinator.com/item?id=26288749">thread link</a>) | @philzook
<br/>
February 27, 2021 | https://www.philipzucker.com/translating-z3-to-coq/ | <a href="https://web.archive.org/web/*/https://www.philipzucker.com/translating-z3-to-coq/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    









<p>I had a fun time giving a Z3 tutorial at Formal Methods for the Informal Engineer (FMIE) <a href="https://fmie2021.github.io/">https://fmie2021.github.io/</a> (videos coming soon hopefully!). I got to be kind of the "fun dad" with the Z3 tutorial <a href="https://github.com/philzook58/z3_tutorial">https://github.com/philzook58/z3_tutorial</a> , while at times it felt a bit like Cody's Coq tutorial <a href="https://github.com/codyroux/broad-coq-tutorial">https://github.com/codyroux/broad-coq-tutorial</a> was trying to feed the kids their vegetables. It was a fantastic tutorial (maybe the best I've seen?), but it was tough love. He knew it was going to be like this from the outset and had a fun little analogy of me downhill skiing while he was about to go on an uphill mountaineering slog.</p>
<p>There are a number of factors to lead to this:</p>
<ul>
  <li>I could use Z3‚Äôs python bindings giving an air of familiarity, whereas everything was incredibly foreign in Coq.</li>
  <li>Z3 can actually be used to declaratively state problems and pushbutton calculate solutions to them with very little user help, which gives it a lot more "Wow" factor.</li>
  <li>Coq is a tool that requires significantly more background to even comprehend what the hell it is. I still think many aspects of it are totally bizarre. But Coq users, this is just the water they swim in. For example, defining an inductive predicate as a datatype is still a bizarre notion to me, but it is Coq 101. I say this to Coq users and they look at me like I‚Äôm nuts. ‚ÄúWhat could even be the problem?‚Äù</li>
</ul>
<p>Anyway, a fun exercise for me was to take the examples from my tutorial and try to translate them into Coq. For the most part I think it isn't that hard and rather educational.</p>
<p>It's interesting the things that show up. Because the Z3 tutorial was designed for automation, the more automated tactics in MicroOmega and Ring are super useful. </p>
<p><a href="https://coq.inria.fr/refman/addendum/micromega.html">https://coq.inria.fr/refman/addendum/micromega.html</a></p>
<p>
The thing is that the sort of proofs that show up here are fine and all, but they aren't going to teach you to fish for yourself. When you step out of this super automatable fragment you're sunk if you don't know other techniques, like the ones Cody was teaching. There may be a better balance of fun and education to be found.</p>
<p>I think there is a hole in the educational content out there on Coq. Software Foundations focuses on the rudiments, CPDT and FRAP kind of takes it a little hardcore, and the Mathematical Components stuff makes you buy in on ssreflect style and some hardcore math topics, both of which are nuts I have not cracked. Also, all of them are really long and initimidating. Seems like there should be something a little more breezy, a little more automatic. It is demoralizing as a beginner to either not know how to prove obvious trivial facts, or even to struggle to do so at great length.</p>
<p>This was also a nice opportunity to take Alectryon by Cl√©ment Pit-Claudel out for a spin <a href="https://github.com/cpitclaudel/alectryon">https://github.com/cpitclaudel/alectryon</a> Alectryon allows you to see the proof state on hover over in your browser. It's a super important part of the Coq. It was pretty easy to put in my blog. Just copy and paste the gnarly html output into a Jekyll post and make sure to link in the CSS files in an assets folder, because they are where the magic happens.</p>
<p>The gist for this post is here <a href="https://gist.github.com/philzook58/acd204b4895c41f9e85618f0f6b30a58">https://gist.github.com/philzook58/acd204b4895c41f9e85618f0f6b30a58</a></p>
<div id="intro-stuff">

<p>The very first problem in the tutorial was</p>
<pre><!-- Generator: Alectryon --><span><span><span>(** python</span>
<span>x = Int('x')</span>
<span>y = Int('y')</span>
<span>solve(x &gt; 2, y &lt; 10, x + 2*y == 7)</span>
<span>*)</span></span></span></pre><p>which Z3 returns the solution [y = 0, x = 7].</p>
<p>It isn't so obvious how to get coq to find this solution in a low effort way. However, it is easy to get Coq to confirm the validity of this solution given that you know about the [lia] tactic. Otherwise it may be kind of annoying. In general, it may be a good approach to use external tools to produce solutions and just manually place the solutions into Coq. Validating a solution is often easier than producing it.</p>
<pre><!-- Generator: Alectryon --><span><span><span><span>Require Import</span> Lia.</span></span><span>
</span></span><span><label for="z3-tut-v-chk0"><span><span>Goal</span> <span>exists</span> <span>x</span> <span>y</span>, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>exists</span> <span>x</span> <span>y</span> : nat, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span></span></p></blockquote></div></div></small><span>
</span></span><span>     </span><span><label for="z3-tut-v-chk1"><span><span>exists</span> <span>7</span>, <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>7</span> &gt; <span>2</span> /\ <span>0</span> &lt; <span>10</span> /\ <span>7</span> + <span>2</span> * <span>0</span> = <span>7</span></span></p></blockquote></div></div></small><span> </span></span><span><span><span><span>lia</span>.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span></span></pre><p>A different automated version. Giving the appropriate hint database can matter a lot.
<a href="https://coq.inria.fr/refman/proofs/automatic-tactics/auto.html#hint-databases-defined-in-the-coq-standard-library">https://coq.inria.fr/refman/proofs/automatic-tactics/auto.html#hint-databases-defined-in-the-coq-standard-library</a></p>
<pre><!-- Generator: Alectryon --><span><label for="z3-tut-v-chk2"><span><span>Goal</span> <span>exists</span> <span>x</span> <span>y</span>, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>exists</span> <span>x</span> <span>y</span> : nat, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span></span></p></blockquote></div></div></small><span>
</span></span><span>     </span><span><label for="z3-tut-v-chk3"><span><span>exists</span> <span>7</span>, <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>7</span> &gt; <span>2</span> /\ <span>0</span> &lt; <span>10</span> /\ <span>7</span> + <span>2</span> * <span>0</span> = <span>7</span></span></p></blockquote></div></div></small><span> </span></span><span><span><span><span>eauto with</span> arith.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span></span></pre><p>It turns out, surprisingly to me, that stock eauto is sufficient to actually solve the problem without supplying the solutions. They are discovered via unification and a prolog like search. This found the different solution x = 3, y = 2</p>
<pre><!-- Generator: Alectryon --><span><label for="z3-tut-v-chk4"><span><span>Definition</span> <span>solution</span> : <span>exists</span> <span>x</span> <span>y</span>, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>exists</span> <span>x</span> <span>y</span> : nat, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span></span></p></blockquote></div></div></small><span>
</span></span><span>   </span><span><span><span><span>do</span> <span>2</span> <span>eexists</span>.</span></span><span> </span></span><span><span><span><span>eauto with</span> arith.</span></span><span> </span></span><span><label for="z3-tut-v-chk5"><span><span>Show Proof</span>.</span></label><small><div><div><blockquote><span>(ex_intro
   (<span>fun</span> <span>x</span> : nat =&gt;
    <span>exists</span> <span>y</span> : nat, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span>)
   <span>3</span>
   (ex_intro
      (<span>fun</span> <span>y</span> : nat =&gt; <span>3</span> &gt; <span>2</span> /\ y &lt; <span>10</span> /\ <span>3</span> + <span>2</span> * y = <span>7</span>)
      <span>2</span>
      (conj (Gt.gt_Sn_n <span>2</span>)
         (conj
            (Lt.lt_n_S <span>1</span> <span>9</span>
               (Lt.lt_n_S <span>0</span> <span>8</span>
                  (PeanoNat.Nat.lt_0_succ <span>7</span>))) eq_refl))))</span></blockquote></div></div></small><span> </span></span><span><span><span><span>Defined</span>.</span></span><span>
</span></span><span><span>

<span>(* A fairly manual version for comparison. Could be even worse. *)</span>
</span></span><span><label for="z3-tut-v-chk6"><span><span>Goal</span> <span>exists</span> <span>x</span> <span>y</span>, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>exists</span> <span>x</span> <span>y</span> : nat, x &gt; <span>2</span> /\ y &lt; <span>10</span> /\ x + <span>2</span> * y = <span>7</span></span></p></blockquote></div></div></small><span>
</span></span><span>   </span><span><label for="z3-tut-v-chk7"><span><span>exists</span> <span>7</span>, <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>7</span> &gt; <span>2</span> /\ <span>0</span> &lt; <span>10</span> /\ <span>7</span> + <span>2</span> * <span>0</span> = <span>7</span></span></p></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chk8"><span><span>split</span>.</span></label><small></small><span> 
</span></span><span>     </span><span><label for="z3-tut-v-chka"><span>-</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chkb"><span><span>unfold</span> <span>"&gt;"</span>.</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chkc"><span><span>Locate</span> <span>"&lt;"</span>.</span></label><small><div><div><blockquote><span><span>Notation</span>
<span>"x &lt;= y &lt; z"</span> := <span>and</span> (le x y) (lt y z) : nat_scope
(default interpretation)
<span>"x &lt; y &lt;= z"</span> := <span>and</span> (lt x y) (le y z) : nat_scope
(default interpretation)
<span>"x &lt; y &lt; z"</span> := <span>and</span> (lt x y) (lt y z) : nat_scope
(default interpretation)
<span>"x &lt; y"</span> := lt x y : nat_scope (default interpretation)</span></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chkd"><span><span>unfold</span> <span>"&lt;"</span>.</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chke"><span><span>Print</span> le.</span></label><small><div><div><blockquote><span><span>Inductive</span> <span>le</span> (<span>n</span> : nat) : nat -&gt; <span>Prop</span> :=
    le_n : n &lt;= n
  | le_S : <span>forall</span> <span>m</span> : nat, n &lt;= m -&gt; n &lt;= S m

<span>Arguments</span> le (_ _)%nat_scope
<span>Arguments</span> le_n _%nat_scope
<span>Arguments</span> le_S (_ _)%nat_scope</span></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chkf"><span><span>do</span> <span>4</span> <span>apply</span> 
              le_S.</span></label><small></small><span> </span></span><span><span><span><span>apply</span> le_n.</span></span><span>
</span></span><span>     </span><span><label for="z3-tut-v-chk10"><span>-</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chk11"><span><span>split</span>.</span></label><small></small><span>
</span></span><span>       </span><span><label for="z3-tut-v-chk13"><span>+</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chk14"><span><span>do</span> <span>9</span> <span>apply</span> le_S.</span></label><small></small><span> </span></span><span><span><span><span>apply</span> le_n.</span></span><span>
</span></span><span>       </span><span><label for="z3-tut-v-chk15"><span>+</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chk16"><span><span>simpl</span>.</span></label><small></small><span> </span></span><span><span><span><span>reflexivity</span>.</span></span><span>
</span></span><span><span><span><span>Qed</span>.</span></span><span> </span></span></pre><p>The next thing is the simplest possible tautology</p>
<pre><!-- Generator: Alectryon --><span><span><span>(**python</span>
<span>p = Bool("p")</span>
<span>my_true_thm = Implies(p, p)</span>
<span>prove(my_true_thm)</span>
<span>*)</span></span></span></pre><p>This is not a challenge in Coq.</p>
<pre><!-- Generator: Alectryon --><span><label for="z3-tut-v-chk17"><span><span>Goal</span> <span>forall</span> <span>P</span>, P -&gt; P.</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chk18"><span><span>intros</span>.</span></label><small></small><span> </span></span><span><span><span><span>assumption</span>.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span><span>
</span></span><span><span>
<span>(* Even shorter proof *)</span>
</span></span><span><label for="z3-tut-v-chk19"><span><span>Goal</span> <span>forall</span> <span>P</span>, P -&gt; P.</span></label><small></small><span> </span></span><span><span><span><span>auto</span>.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span></span></pre><p>A valid counterexample found by Z3. Here we prove the counterexample.</p>
<pre><!-- Generator: Alectryon --><span><span><span>(**python</span>
<span>q = Bool("q")</span>
<span>my_false_thm = Implies(q, p)</span>
<span>prove(my_false_thm)</span>

<span># counterexample</span>
<span># [p = False, q = True]</span>

<span>*)</span>

</span></span><span><label for="z3-tut-v-chk1a"><span><span>Goal</span> not (<span>True</span> -&gt; <span>False</span>).</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chk1b"><span><span>unfold</span> not.</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chk1c"><span><span>intros</span>.</span></label><small></small><span> </span></span><span><label for="z3-tut-v-chk1d"><span><span>apply</span> H.</span></label><small></small><span> </span></span><span><span><span><span>exact</span> I.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span></span></pre><p>The first exercise: 
Get a root of the polynomial x**3 + 3*x**2 + 4*x + 2 == 0 using z3. Can you use z3 to show this is the only solution?</p>
<p>Here we open up the reals.
It is easy enough to confirm that the solution of x=-1 is a zero using the [ring] tactic.</p>
<pre><!-- Generator: Alectryon --><span><span><span><span>Require Import</span> Reals.</span></span><span>
</span></span><span><span><span><span>Open Scope</span> R_scope.</span></span><span>
</span></span><span><label for="z3-tut-v-chk1e"><span><span>Print Scope</span> R_scope.</span></label><small><div><div><blockquote><span>Scope R_scope
Delimiting key <span>is</span> R
Bound to class R
<span>"r ¬≤"</span> := Rsqr r
<span>"x ^ y"</span> := pow x y
<span>"x &gt;= y"</span> := Rge x y
<span>"x &gt; y"</span> := Rgt x y
<span>"x &lt;= y &lt;= z"</span> := <span>and</span> (Rle x y) (Rle y z)
<span>"x &lt;= y &lt; z"</span> := <span>and</span> (Rle x y) (Rlt y z)
<span>"x &lt;= y"</span> := Rle x y
<span>"x &lt; y &lt;= z"</span> := <span>and</span> (Rlt x y) (Rle y z)
<span>"x &lt; y &lt; z"</span> := <span>and</span> (Rlt x y) (Rlt y z)
<span>"x &lt; y"</span> := Rlt x y
<span>"x / y"</span> := Rdiv x y
<span>"x - y"</span> := Rminus x y
<span>"x + y"</span> := Rplus x y
<span>"x * y"</span> := Rmult x y
<span>"/ x"</span> := RinvImpl.Rinv x
<span>"- x"</span> := Ropp x
</span></blockquote></div></div></small><span>
</span></span><span><span>
</span></span><span><label for="z3-tut-v-chk1f"><span><span>Goal</span> <span>exists</span> <span>x</span> : R, x^<span>3</span> + <span>3</span> * x^<span>2</span> + <span>4</span> * x + <span>2</span> = <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>exists</span> <span>x</span> : R, x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> = <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>  </span><span><label for="z3-tut-v-chk20"><span><span>exists</span> (- <span>1</span>).</span></label><small><div><div><blockquote><span><hr></span><p><span>(-<span>1</span>) ^ <span>3</span> + <span>3</span> * (-<span>1</span>) ^ <span>2</span> + <span>4</span> * -<span>1</span> + <span>2</span> = <span>0</span></span></p></blockquote></div></div></small><span> </span></span><span><span><span><span>ring</span>.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span></span></pre><p>Proving there is no other solution is a bit trickier. A important lemma about a polynomial factor of x^3 + 3 * x^2 + 4 * x + 2</p>
<pre><!-- Generator: Alectryon --><span><span><span><span>Require Import</span> Lra.</span></span><span>
</span></span><span><label for="z3-tut-v-chk21"><span><span>Lemma</span> <span>pos_poly</span> : <span>forall</span> <span>x</span>, x ^ <span>2</span> + <span>2</span> * x + <span>2</span> &gt; <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>forall</span> <span>x</span> : R, x ^ <span>2</span> + <span>2</span> * x + <span>2</span> &gt; <span>0</span></span></p></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chk22"><span><span>intros</span>.</span></label><small></small><span>
</span></span><span>   </span><span><span><span><span>nra</span>.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span><span>
</span></span><span><span>
<span>(* A slightly more manual proof involving completing the square.*)</span>
</span></span><span><label for="z3-tut-v-chk23"><span><span>Goal</span> <span>forall</span> <span>x</span>, x ^ <span>2</span> + <span>2</span> * x + <span>2</span> &gt; <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>forall</span> <span>x</span> : R, x ^ <span>2</span> + <span>2</span> * x + <span>2</span> &gt; <span>0</span></span></p></blockquote></div></div></small><span> 
</span></span><span>   </span><span><label for="z3-tut-v-chk24"><span><span>intros</span>.</span></label><small></small><span>
</span></span><span>   </span><span><label for="z3-tut-v-chk25"><span><span>assert</span> (x ^ <span>2</span> + <span>2</span> * x + <span>2</span> = (x + <span>1</span>) ^ <span>2</span> + <span>1</span>) <span>as</span> H <span>by</span> <span>ring</span>.</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x ^ <span>2</span> + <span>2</span> * x + <span>2</span> = (x + <span>1</span>) ^ <span>2</span> + <span>1</span></span></span></span></span></p></div><span><hr></span><p><span>x ^ <span>2</span> + <span>2</span> * x + <span>2</span> &gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>   </span><span><label for="z3-tut-v-chk26"><span><span>rewrite</span> H.</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x ^ <span>2</span> + <span>2</span> * x + <span>2</span> = (x + <span>1</span>) ^ <span>2</span> + <span>1</span></span></span></span></span></p></div><span><hr></span><p><span>(x + <span>1</span>) ^ <span>2</span> + <span>1</span> &gt; <span>0</span></span></p></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chk27"><span><span>Search</span> (<span>0</span> &lt;= _ ^ <span>2</span>).</span></label><small><div><div><blockquote><span>pow2_ge_0: <span>forall</span> <span>x</span> : R, <span>0</span> &lt;= x ^ <span>2</span></span></blockquote></div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x ^ <span>2</span> + <span>2</span> * x + <span>2</span> = (x + <span>1</span>) ^ <span>2</span> + <span>1</span></span></span></span></span></p></div><span><hr></span><p><span>(x + <span>1</span>) ^ <span>2</span> + <span>1</span> &gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>   </span><span><label for="z3-tut-v-chk28"><span><span>pose</span> (pow2_ge_0 (x + <span>1</span>)).</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x ^ <span>2</span> + <span>2</span> * x + <span>2</span> = (x + <span>1</span>) ^ <span>2</span> + <span>1</span></span></span></span></span></p><p><span>r</span><span><span><span>:=</span><span><span>pow2_ge_0 (x + <span>1</span>)</span></span></span><span><span>:</span><span><span><span>0</span> &lt;= (x + <span>1</span>) ^ <span>2</span></span></span></span></span></p></div><span><hr></span><p><span>(x + <span>1</span>) ^ <span>2</span> + <span>1</span> &gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>   </span><span><span><span><span>lra</span>.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span><span>
</span></span><span><span>


<span>(* I'm actually a little suprised [nra] sufficed here and not psatz. *)</span>

</span></span><span><label for="z3-tut-v-chk29"><span><span>Goal</span> <span>forall</span> <span>x</span>, x + <span>1</span> &lt;&gt; <span>0</span> -&gt; (x^<span>3</span> + <span>3</span> * x^<span>2</span> + <span>4</span> * x + <span>2</span>) &lt;&gt; <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>forall</span> <span>x</span> : R,
x + <span>1</span> &lt;&gt; <span>0</span> -&gt; x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>  </span><span><label for="z3-tut-v-chk2a"><span><span>intros</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>  </span><span><label for="z3-tut-v-chk2b"><span><span>assert</span> ((x^<span>3</span> + <span>3</span> * x^<span>2</span> + <span>4</span> * x + <span>2</span>) = 
         ((x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span> ))) <span>as</span> H0 <span>by</span> <span>ring</span>.</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x + <span>1</span> &lt;&gt; <span>0</span></span></span></span></span></p><p><span>H0</span><span><span><span>:</span><span><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> =
(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>)</span></span></span></span></p></div><span><hr></span><p><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>  </span><span><label for="z3-tut-v-chk2c"><span><span>rewrite</span> H0.</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x + <span>1</span> &lt;&gt; <span>0</span></span></span></span></span></p><p><span>H0</span><span><span><span>:</span><span><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> =
(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>)</span></span></span></span></p></div><span><hr></span><p><span>(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>) &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chk2d"><span><span>pose</span> (pos_poly x).</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x + <span>1</span> &lt;&gt; <span>0</span></span></span></span></span></p><p><span>H0</span><span><span><span>:</span><span><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> =
(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>)</span></span></span></span></p><p><span>r</span><span><span><span>:=</span><span><span>pos_poly x</span></span></span><span><span>:</span><span><span>x ^ <span>2</span> + <span>2</span> * x + <span>2</span> &gt; <span>0</span></span></span></span></span></p></div><span><hr></span><p><span>(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>) &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span> </span></span><span><span><span><span>nra</span>.</span></span><span> </span></span><span><span><span><span>Qed</span>.</span></span><span>
</span></span><span><span>
<span>(* A slightly more manual proof *)</span>
</span></span><span><label for="z3-tut-v-chk2e"><span><span>Goal</span> <span>forall</span> <span>x</span>, x + <span>1</span> &lt;&gt; <span>0</span> -&gt; (x^<span>3</span> + <span>3</span> * x^<span>2</span> + <span>4</span> * x + <span>2</span>) &lt;&gt; <span>0</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span><span>forall</span> <span>x</span> : R,
x + <span>1</span> &lt;&gt; <span>0</span> -&gt; x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>  </span><span><label for="z3-tut-v-chk2f"><span><span>intros</span>.</span></label><small><div><div><blockquote><span><hr></span><p><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>  </span><span><label for="z3-tut-v-chk30"><span><span>assert</span> ((x^<span>3</span> + <span>3</span> * x^<span>2</span> + <span>4</span> * x + <span>2</span>) = 
         ((x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span> ))) <span>by</span> <span>ring</span>.</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x + <span>1</span> &lt;&gt; <span>0</span></span></span></span></span></p><p><span>H0</span><span><span><span>:</span><span><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> =
(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>)</span></span></span></span></p></div><span><hr></span><p><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span>
</span></span><span>  </span><span><label for="z3-tut-v-chk31"><span><span>rewrite</span> H0.</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x + <span>1</span> &lt;&gt; <span>0</span></span></span></span></span></p><p><span>H0</span><span><span><span>:</span><span><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> =
(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>)</span></span></span></span></p></div><span><hr></span><p><span>(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>) &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chk32"><span><span>pose</span> (pos_poly x).</span></label><small><div><div><blockquote><div><p><span>x</span><span><span><span>:</span><span><span>R</span></span></span></span></p><p><span>H</span><span><span><span>:</span><span><span>x + <span>1</span> &lt;&gt; <span>0</span></span></span></span></span></p><p><span>H0</span><span><span><span>:</span><span><span>x ^ <span>3</span> + <span>3</span> * x ^ <span>2</span> + <span>4</span> * x + <span>2</span> =
(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>)</span></span></span></span></p><p><span>r</span><span><span><span>:=</span><span><span>pos_poly x</span></span></span><span><span>:</span><span><span>x ^ <span>2</span> + <span>2</span> * x + <span>2</span> &gt; <span>0</span></span></span></span></span></p></div><span><hr></span><p><span>(x + <span>1</span>) * (x ^ <span>2</span> + <span>2</span> * x + <span>2</span>) &lt;&gt; <span>0</span></span></p></blockquote></div></div></small><span> </span></span><span><label for="z3-tut-v-chk33"><span><span>Search</span> (_ * _ = <span>0</span>).</span></label><small><div><div><blockquote><span>Rmult_0_l: <span>forall</span> <span>r</span> : R, <span>0</span> * r = <span>0</span></span></blockquote><blockquote><span>Rmult_0_r: <span>forall</span> <span>r</span> : R, r * <span>0</span> = <span>0</span></span></blockquote><blockquote><span>Rmult_eq_0_compat_l:
  <span>forall</span> <span>r1</span> <span>r2</span> : R, r2 = <span>0</span> -&gt; r1 * r2 = <span>0</span></span></blockquote><blockquote><span>Rmult_eq_0_compat_r:
  <span>forall</span> <span>r1</span> <span>r2</span> : R, r1 = <span>0</span> -&gt; r1 * ‚Ä¶</span></blockquote></div></div></small></span></pre></div></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.philipzucker.com/translating-z3-to-coq/">https://www.philipzucker.com/translating-z3-to-coq/</a></em></p>]]>
            </description>
            <link>https://www.philipzucker.com/translating-z3-to-coq/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26288749</guid>
            <pubDate>Sat, 27 Feb 2021 22:27:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Camera Response Function]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26288521">thread link</a>) | @martomi
<br/>
February 27, 2021 | https://roboalgorithms.com/posts/camera-response-function/ | <a href="https://web.archive.org/web/*/https://roboalgorithms.com/posts/camera-response-function/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>The goal of this article is to explore the topic of the camera response function experimentally. We‚Äôll build
up from first principles and the main focus will be on building intuition with code examples. The only pre-requisite is base
familiarity with Python + NumPy and, of course, curiosity about the topic. üßë‚ÄçüöÄ</p>
<p>If you‚Äôre looking for a quick way to find out the response function of your camera, you can check out the
implementation of <a href="https://docs.opencv.org/3.4/da/d27/classcv_1_1CalibrateDebevec.html">CalibrateDebevec</a> in OpenCV, or stick around to get a deeper intuition.</p>
<p>I‚Äôve made an effort to link to interesting resources that provide a good starting point to dig deeper into specific directions
that could not be covered in this article. You‚Äôre encouraged to follow them and come back to this at your own pace.</p>
<div>
  <p>üëâ</p>
  <p>You can follow along and play with the code examples. The Jupyter notebook is <a href="https://github.com/martomi/roboalgorithms-code/blob/main/notebooks/camera-response-function.ipynb">available on
Github</a>. üìî</p>
</div>

<div>
  <p>üëâ</p>
  <p>Subscribe to the <a href="https://www.youtube.com/channel/UCB_nIiGE8XgF2166Sl1ewUg">RoboAlgorithms YT
channel</a> to be notified about the complementary video on
the camera response function (coming out soon). üé•</p>
</div>

<h2 id="what-the-crf-">What the CRF? ü§î</h2>
<p>A camera measures the light intensity hitting the imaging sensor and outputs an image with pixel values that in some way
correspond to that light intensity. This correspondence is modeled by the camera response function (CRF).</p>
<p><img src="https://roboalgorithms.com/crf/crf-animation.gif#center" alt="Camera Response Function Animation"></p>
<p>For a computer vision engineer, the pixel values are the only observation of the real-world. Thus, it is helpful to understand
how they relate to actual light intensities to correctly model that world.</p>
<p>Most cameras have some non-linearity in their response to light intensities. Images taken by consumer-grade cameras are particularly
affected by this because they are optimized for viewing experience and not for measurement accuracy.</p>
<div>
  <p>üëâ</p>
  <p>If we know the response function, we can resolve that ambiguity and turn any camera
into a scientific measurement device! üî¨</p>
</div>

<h2 id="applications-of-the-crf-">Applications of the CRF üî®</h2>
<p>Many computer vision algorithms that rely on the <a href="http://www.cs.cmu.edu/~16385/s17/Slides/14.1_Brightness_Constancy.pdf">brightness constancy
assumption</a> require accurate estimation of the
CRF. For example, <a href="https://en.wikipedia.org/wiki/Optical_flow">optical flow</a> or any direct method for visual SLAM that
works with pixel intensities such as <a href="https://vision.in.tum.de/research/vslam/dso">DSO</a>.</p>
<p>Direct methods for visual SLAM are currently one of the most robust approaches for accurate robot localization in
challenging environments where GNSS coverage is unreliable. An autonomous last-mile robot delivery service is an example that‚Äôs
increasingly gaining <a href="https://www.wired.com/story/amazon-fedex-delivery-robots-your-sidewalk/">commercial traction</a> in recent years
and may use such technology.</p>
<p><img src="https://roboalgorithms.com/crf/delivery-robot.png#center" alt="Delivery Robot"></p>
<div>
  <p>üí°</p>
  <p>One could argue that due to the shift towards deep learning approaches and more readily available cameras that are optimized
for machine vision, it will be unnecessary to manually calibrate for the camera response function in the future. Nevertheless, I still
see value in exploring the fundamentals for learning purposes.</p>
</div>

<p>In this article, we‚Äôll look at the application of generating <a href="https://people.eecs.berkeley.edu/~malik/papers/debevec-malik97.pdf">HDR images</a> which
also relies on knowledge about the camera response function because we need to ‚Äúfuse‚Äù multiple images taken at different exposure times.</p>

<p>A camera is an array of <a href="https://en.wikipedia.org/wiki/Photodiode">photodiodes</a> that converts incoming
<a href="https://en.wikipedia.org/wiki/Photon">photons</a> into electrical current or
<a href="https://en.wikipedia.org/wiki/Voltage">voltage</a>. This phenomenon is known as the
<a href="https://en.wikipedia.org/wiki/Photoelectric_effect">photoelectric effect</a> and is the
same phenomenon utilized in solar panels.</p>
<div>
  <p>üëâ</p>
  <p>We measure the voltage to determine the amount of incident light.</p>
</div>

<p>For each <a href="https://en.wikipedia.org/wiki/Active-pixel_sensor#Pixel">pixel</a>, there‚Äôs a corresponding photodiode in the
camera sensor. We take an image by exposing the sensor to light for a given period (exposure time). Since the
photodiodes produce an electrical current proportional to the amount of light they receive, we can use that measurement to
reconstruct the image.</p>
<p><img src="https://roboalgorithms.com/crf/photodiode-to-image.png#center" alt="Photodiode to Image"></p>
<h2 id="converting-voltages-to-pixel-values--">Converting voltages to pixel values  üì∫</h2>
<p>When we measure the voltage generated by the photodiode we get an <a href="https://en.wikipedia.org/wiki/Analog_signal">analog</a>
quantity. But we need a <a href="https://en.wikipedia.org/wiki/Digital_signal">digital</a> value that fits into our pixel
representation of 8 bits. A device that can perform this conversion is called an <a href="https://en.wikipedia.org/wiki/Analog-to-digital_converter">Analog-Digital (A/D)
converter</a>. Most A/D converters used in cameras today will output
an 8, 12, or 16-bit digital value.</p>
<h3 id="analog-to-digital-converter-">Analog-to-Digital Converter üìà</h3>
<p>We will start with an 8-bit A/D converter. Note that regardless of the bit depth, the range of possible values will be limited in
the digital domain. Meaning that with 8-bit we only have <span>
  \(2^{8} = 256\)
</span>
, unique values to assign to all possible voltage
measurements.</p>
<p>Let‚Äôs simulate a naive A/D converter:</p>
<div><pre><code data-lang="python"><span>def</span> <span>max_value</span>(bit_depth: int) <span>-&gt;</span> int:
    <span>"""Return max integer value for the specified bit depth"""</span>
    <span>return</span> <span>2</span><span>**</span>bit_depth <span>-</span> <span>1</span>

<span>def</span> <span>adc</span>(milivolts: np<span>.</span>ndarray, bit_depth: int <span>=</span> <span>8</span>) <span>-&gt;</span> int:
    <span>"""Naive A/D converter
</span><span>    
</span><span>    milivolts  -- accumulated voltage from a photodiode
</span><span>    bit_depth  -- target bit depth of the digitized output
</span><span>    """</span>
    <span>return</span> np<span>.</span>clip(np<span>.</span>around(milivolts), <span>0</span>, max_value(bit_depth))

<span>def</span> <span>plot_adc_examples</span>():
    <span>"""Plot a few interesting examples"""</span>
    f, axes <span>=</span> plt<span>.</span>subplots(<span>1</span>, <span>3</span>, figsize<span>=</span>(<span>20</span>, <span>5</span>))
    x_label <span>=</span> <span>'Input voltage (mV)'</span>
    y_label <span>=</span> <span>'Output pixel value'</span>

    voltages <span>=</span> np<span>.</span>arange(<span>0</span>, <span>10</span>, <span>0.1</span>)
    util<span>.</span>plot(axes[<span>0</span>], voltages, adc(voltages), 
              <span>"In supported range"</span>, x_label, y_label)

    voltages <span>=</span> np<span>.</span>arange(<span>0</span>, <span>0.5</span>, <span>0.01</span>)
    util<span>.</span>plot(axes[<span>1</span>], voltages, adc(voltages), 
              <span>"Below supported range"</span>, x_label, y_label)

    voltages <span>=</span> np<span>.</span>arange(<span>255</span>, <span>500</span>, <span>1</span>)
    util<span>.</span>plot(axes[<span>2</span>], voltages, adc(voltages), 
              <span>"Above supported range"</span>, x_label, y_label)
    
plot_adc_examples()
</code></pre></div><p><img src="https://roboalgorithms.com/crf/adc-example.png" alt="A/D Converter Output"></p>
<h4 id="quantization-noise">Quantization noise</h4>
<p>From the staircase-like plot above we can see the discrete jumps caused by the <a href="https://en.wikipedia.org/wiki/Quantization_(signal_processing)">quantization</a> effects. Because we‚Äôre losing some precision at this step, this effect also becomes a component of the <a href="https://en.wikipedia.org/wiki/Image_noise">total image noise</a> known as the <a href="https://en.wikipedia.org/wiki/Image_noise#Quantization_noise_(uniform_noise)">quantization noise</a>.</p>
<h4 id="under--and-overexposure">Under- and overexposure</h4>
<p>The plot also demonstrates that any values below or above the supported range are irreversibly lost. This phenomenon is known as under- or overexposure.
Our goal will always be to choose the exposure time such that this effect is minimized.</p>
<h4 id="dynamic-range">Dynamic Range</h4>
<p>The range of light intensities that the camera can capture without under- or overexposure is called the camera dynamic range. It is a very important
metric for outdoor robot operation due to the large variations in light intensities.</p>
<div>
  <p>üí°</p>
  <p>Curiously, extending the dynamic range of the camera isn‚Äôt as simple as increasing the bit-depth of the A/D converter. The primary limiting factor is usually linked to the physical <a href="https://hamamatsu.magnet.fsu.edu/articles/dynamicrange.html">full-well capacity and noise level</a> of the photodiodes. The bit-depth of the A/D converter is then selected to maximize that.</p>
</div>

<p>So our goal is to maximize the information we can get from every image. We have two ways to optimize for that:</p>
<ol>
<li>Choose a camera with a higher dynamic range</li>
<li>Adjust the exposure time to minimize over- and underexposure</li>
</ol>
<div>
  <p>üëâ</p>
  <p>For very dimly lit scenarios, it is not always an option to adjust the exposure time because a very long exposure time can cause <a href="https://en.wikipedia.org/wiki/Motion_blur">motion blur</a>.</p>
</div>

<h3 id="programmable-gain-amplifier-">Programmable Gain Amplifier ‚¨õ</h3>
<p>Underexposure happens for dimly lit scenes or shorter exposure times when the photodiodes don‚Äôt have a chance to convert a sufficient amount of photons into electrical current. This is how a fully underexposed image looks:</p>
<div><pre><code data-lang="py">photodiode_array_milivolts <span>=</span> np<span>.</span>array([<span>0.028</span>, <span>0.213</span>, <span>0.234</span>, <span>0.459</span>])

pixel_values <span>=</span> adc(photodiode_array_milivolts)
util<span>.</span>display_images([pixel_values], titles<span>=</span>[<span>"Underexposed image"</span>])
</code></pre></div><p><img src="https://roboalgorithms.com/crf/underexposed-image.png#center" alt="Underexposed Image"></p>
<p>Cameras have a <a href="https://en.wikipedia.org/wiki/Programmable-gain_amplifier">programmable-gain amplifier</a> (PGA) that can amplify the voltages from the photodiodes and bring them in the range supported by the A/D converter. The level of amplification can be configured on most cameras through the ISO setting.</p>
<div>
  <p>üëâ</p>
  <p>We can capture images in the dark without increasing the exposure time as much.</p>
</div>

<div><pre><code data-lang="py"><span>def</span> <span>pga</span>(milivolts: np<span>.</span>ndarray, gain: float <span>=</span> <span>1.0</span>) <span>-&gt;</span> float:
    <span>"""Naive programmable-gain amplifier
</span><span>    
</span><span>    milivolts  -- input voltage from photodiode
</span><span>    gain       -- ratio output / input
</span><span>    """</span>
    <span>return</span> gain <span>*</span> milivolts

<span># Add an amplifier to the same example values from above</span>
pixel_values <span>=</span> adc(pga(photodiode_array_milivolts, gain<span>=</span><span>300.0</span>))
util<span>.</span>display_images([pixel_values], titles<span>=</span>[<span>"Amplified image"</span>])
</code></pre></div><p><img src="https://roboalgorithms.com/crf/amplified-image.png#center" alt="Amplified Image"></p>
<p>There‚Äôs a caveat: we did not model <a href="https://en.wikipedia.org/wiki/Image_noise">image noise</a>. The weaker signal in dimply lit scenes results in a lower <a href="https://en.wikipedia.org/wiki/Signal-to-noise_ratio">signal-to-noise ratio (SNR)</a>. In other words, amplifying the signal will also amplify the noise and that‚Äôs why using a higher gain usually results in grainier and lower quality images. In extreme cases when the strength of the signal is below the <a href="https://en.wikipedia.org/wiki/Noise_floor">noise floor</a> it can be difficult to extract <em>any</em> useful information.</p>
<p>Reducing the image noise can be performed in the <a href="https://en.wikipedia.org/wiki/Digital_image_processing">digital image processing</a> pipeline which is the final step before saving the image. This part significantly differs between camera models and may include <a href="https://en.wikipedia.org/wiki/Color_balance">white balance</a>, <a href="https://en.wikipedia.org/wiki/Tone_mapping">tone mapping</a>, <a href="https://en.wikipedia.org/wiki/Gamma_correction">gamma encoding</a>, <a href="https://en.wikipedia.org/wiki/Image_compression">image compression</a> and <a href="https://en.wikipedia.org/wiki/Color_image_pipeline">more</a>.</p>
<h3 id="image-acquisition-pipeline-">Image Acquisition Pipeline üì∏</h3>
<p>The figure below provides an overview of the discussed components.</p>
<p><img src="https://roboalgorithms.com/crf/camera-simplified.png#center" alt="Overview Camera Components"></p>
<div>
  <p>üí°</p>
  <p>The camera response function is a single function that approximates the response of the whole system with all components inside. More on this later.</p>
</div>

<h2 id="further-recommended-reading-">Further Recommended Reading üìö</h2>
<p>I‚Äôm aware that I‚Äôve touched upon a lot of topics very quickly. If you don‚Äôt have a good intuition already, I highly recommend reading
this amazing interactive introduction on <a href="https://ciechanow.ski/cameras-and-lenses/">Cameras and Lenses</a>. Seriously, please go check this article out.</p>
<p><a href="https://youtu.be/MytCfECfqWc">The Science of Camera Sensors</a> is another great resource in video form that provides an excellent introduction to the physics of how photodiodes and camera sensors work.</p>
<p><strong>Advanced</strong>: For a more in-depth look into the theory and physics behind CMOS photodiodes, chapter 3 from <a href="https://tel.archives-ouvertes.fr/tel-01062484/document">this dissertation</a> provides a good overview.</p>

<h2 id="disclaimer-‚Ñπ">Disclaimer ‚ÑπÔ∏è</h2>
<p>For the sake of brevity, many of the physical aspects of cameras are oversimplified in the presented examples. They are only meant to aid the intuition and shouldn‚Äôt be relied upon for accuracy or completeness. However, if you spot any mistakes, I would love to hear about them at üì® 

 or on <a href="https://twitter.com/martinmihaylov_">üê¶ twitter</a>.</p>
<h2 id="assumptions-">Assumptions üìù</h2>
<div>
  <p>üëâ</p>
  <p>The following assumptions provide the framework for the rest of the article. Feel free to skip this section and refer back to it ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://roboalgorithms.com/posts/camera-response-function/">https://roboalgorithms.com/posts/camera-response-function/</a></em></p>]]>
            </description>
            <link>https://roboalgorithms.com/posts/camera-response-function/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26288521</guid>
            <pubDate>Sat, 27 Feb 2021 21:53:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Are Furries Freaks?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26288346">thread link</a>) | @exolymph
<br/>
February 27, 2021 | https://www.piratewires.com/p/are-furries-freaks | <a href="https://web.archive.org/web/*/https://www.piratewires.com/p/are-furries-freaks">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Furries are notorious. Among purveyors of cringe, saying, "Furries, amirite?" is like Jerry Seinfeld mentioning air travel. Furries aren't the punchline, they're a whole category of joke! Nature is red in tooth and claw, never more so than when jaded internet denizens recollect that Tony the Tiger is, to some, a hottie.</p><p>(No, seriously. Legend has it that the official Tony the Twitter account had to be shut down because furries kept offering, uh, uncomfortably positive brand feedback. Apparently the NPS boost wasn't worth it.)</p><p>Okay but like, what <em>are</em> furries, who counts? Fear not ‚Äî&nbsp;in these modern times, a venerable brand such as Merriam-Webster considers itself savvy enough to compete with the likes of Urban Dictionary and Know Your Meme. And, tbh, did a decent job <a href="https://www.merriam-webster.com/words-at-play/history-of-furry-and-fursona">covering the basics</a>:</p><blockquote><p>A rising usage of <em>furry</em> refers to people who have a keen interest in, or even dress up as, anthropomorphic animal characters, like those often seen in comics, games, and cartoons. The personalized animal identity of a furry is known as their <em>fursona</em>, the portmanteau of <em>furry</em> and <em>persona</em>. <em>Fursonas</em> can exist as costumes, online avatars, or even full lifestyles.</p></blockquote><p>Essentially, furry is all about playing pretend. Newsflash, it's fun to be silly and make up stories! A wolf with amethyst eyes <em>would</em> be awesome, that's why they keep putting them on those sick shirts.</p><p>If you're unfamiliar with furries, you might think the hobby sounds harmless, if perhaps a bit childish, and you'd be right. But you'd also be underestimating how ridiculously ‚Äî how <em>effervescently</em>, and sometimes tumescently ‚Äî over-the-top furries can be. Furries go hard for what we enjoy. By my way of thinking, the unabashed passion in face of constant ridicule is exemplary.</p><p>Because yeah, if you're not a kid and you roleplay as a fantasy animal version of yourself, people will make fun of you. FYI.</p><p>My headline asks, are furries freaks? Contra <a href="https://en.wikipedia.org/wiki/Betteridge%27s_law_of_headlines">Betteridge</a>, the answer is yes (and I'll get into why, don't you worry). Oddballs have a way of rolling into corners together. When it comes to furries, our insistence on aberrance has made us infamous, at least if you're sufficiently immersed in certain ecosystems of digital degeneracy.</p><p>Let's back up for a second. Allow me to introduce myself ‚Äî nice to meet you, I'm a cartoon rabbit. Bunsonya looks like this:</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F56c478d9-8466-4dc8-8868-eb8d8bb0bd1f_800x1173.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F56c478d9-8466-4dc8-8868-eb8d8bb0bd1f_800x1173.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/56c478d9-8466-4dc8-8868-eb8d8bb0bd1f_800x1173.jpeg&quot;,&quot;height&quot;:1173,&quot;width&quot;:800,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:107061,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>(Portrait by <a href="https://twitter.com/PastellBits">@PastellBits</a>.)</p><p>Mike asked me to explain what the heck is going on with furries after he was swarmed by communists with critter avatars. I've forgotten how he evoked such revilement, but presumably it comes with the territory when you're a Very Online‚Ñ¢ billionaire. Surely Elon Musk has attracted his share of furry ire! Among other quirks, furries lean <em>heavily </em>left politically.</p><p>Before we get into that, I know what you're wondering: Is it a sex thing? That's always the first question. Furry <em>can</em> be a sex thing ‚Äî&nbsp;is often a sex thing, I admit ‚Äî&nbsp;but it doesn't strictly have to be. One's fursona can be a more involved version of one's <a href="https://harrypotter.fandom.com/wiki/Patronus_Charm">Patronus</a>, or what people indifferent to ~le cultural appropriation~ <a href="https://twitter.com/sonyasupposedly/status/1314752483722313728">might call a spirit animal</a>.</p><p>Most fursonas are toonishly anthropomorphic, as demonstrated by Bunsonya above, but again that's not essential. The basic idea is that you have an animal alter-ego and socially abnormal enthusiasm for it.</p><p>As my Twitter mutual @Jebriel <a href="https://twitter.com/Jebriel/status/1360343188385501187">put it</a>, "I think this is just a lowkey form of dysphoria with extra steps." Not coincidentally, the furry community is chock-full of transgender and autistic people ‚Äî two demographics that already form a Venn diagram. Homo- and bisexuality are also notably prevalent.</p><p>No one will judge you for keeping horny off main, especially given that furries want to welcome under-18 anthro enthusiasts as well as the adults. Neither are adherents required to wear a fursuit, which is what those team-mascot-looking costumes are called.</p><p>In fact, fursuits are expensive, routinely running thousands of dollars, and either out of reach or undesirable to many in the fandom. Those outfits are just as sweaty and itchy as you'd guess from looking at them, and fursuiters tend to wear a layer of Under Armour HeatGear (or similar) to protect both suit and skin.</p><p>The appeal is an altered mode of self-expression, both aesthetic and interpersonal. @Aryeh___ <a href="https://twitter.com/Aryeh___/status/1360699795266961410">pointed out</a> that fursuiting is "a helpful way for people who struggle in social situations (ASD spectrum, etc) to be boisterous, cuddly, and animalistic in the safety of a covering/mask."</p><p>Regarding "the fandom" ‚Äî this is what the furry community tends to call itself, despite not being devoted to a specific media property. As you might guess, any halfway decent depiction of anthropomorphized critters is likely to be a hit with furries (the anime <em>Beastars</em> is a recent fave). And the community is teeming with original artists devoted to this subject. Yes, a great deal of it is porn.</p><p>To be abundantly clear, no one can deny that furries writ large are a lascivious bunch prone to unusual fetishes (though, as I mentioned above, valiant if ultimately quixotic attempts are made to shield the minority of kids and teenagers). Why is there a notable crossover between furry and inflation, or furry and oviposition? Because furries are perverts, duh. Our reputation nearly always precedes us.</p><p>However, furries are not <em>morally</em> depraved except by puritan busybody standards. Having sex while pretending that you are an animal is a different ball of wax from sexually assaulting an actual animal. One is fantasy play; one is a repugnant crime.</p><p>Zoosadists (people who aspire toward the latter) infiltrate the community for obvious reasons ‚Äî&nbsp;furry porn can be a tittilating "second best" for those into irl bestiality. But whenever a zoosadist's proclivities are discovered, they are promptly called out, shunned, and reported to the relevant authorities to whatever extent possible.</p><p>So, anyway, about the communism. There's no slam-dunk, smoking-gun reason why furries are rabidly leftist, though demographics are a likely cause. An <a href="https://dogpatch.press/2018/07/17/furry-socialism/">article</a> on prominent furry news site Dogpatch Press chalks it up to the fandom's communitarian and DIY ethos, making sure to note: "If you're conservative, libertarian, or other, contributing good content outlasts natural disagreement among sub-fandom groups. It takes special effort to earn unwelcome."</p><p>To translate, if you're the kind of conservative or libertarian who doesn't push progressives' buttons and is generally on the quiet side about politics, you'll be fine. That said, not everyone gives a fuck about this; some furries are of the old-school hacker ethos in which your terrible ideology, whatever it may be, is irrelevant.</p><p>The article chastises alt-right furries ‚Äî which, yes, are a thing ‚Äî that George Orwell, indubitably, would say "Nazi Furs Fuck Off." Contemporary over-application of the term "Nazi" plays into this to some degree, but incredibly there are indeed Neo-Nazi furries, or at least people who lean into that LARP. However, at a furry con you are far more likely to encounter hammer-and-sickle insignias, to the extent that you could put it on a bingo card.</p><p>A key thing to understand is that furries constitute a fringe outcast community, mocked and ostracized by default. All groups of this sort are characterized by what I call "outlierness," a polite euphemism for being seriously strange. And traits cluster ‚Äî&nbsp;for example, the gayness, transness, and autisticness of furries make it no surprise that many furries work in the tech industry. Those clustered traits become self-reinforcing stereotypes, forming cultural positive feedback loops.</p><p>If furries are startlingly often on the commie spectrum or somewhere near it, where does all the money for fursuits and porn come from? Dude, jobs. Again a comparison to the tech industry is apt ‚Äî&nbsp;I'm sure you can think of a programmer pulling several $100k in salary alone who nonetheless cheers on the DSA, and I bet that a few have alts stanning for Mao on the low.</p><p>Not that most furries are rich; the wealthy among us happen to "take one for the team" in terms of funding the community's creative endeavors, and thus are more visible. They're also the people who can afford fursuits, assumed by uninformed normies to represent the entire fandom.</p><p>Hopefully you now have a passable understanding of What the Deal Is with Furries. Perhaps you're intrigued ‚Äî&nbsp;if you'd like a fursona of your own, check out <a href="https://thisfursonadoesnotexist.com/">This Fursona Does Not Exist</a> and see what catches your fancy!</p><p>-Sonya Mann </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0066d83-7bdd-4746-ab56-7f0fcfcffef2_2746x1156.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0066d83-7bdd-4746-ab56-7f0fcfcffef2_2746x1156.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e0066d83-7bdd-4746-ab56-7f0fcfcffef2_2746x1156.png&quot;,&quot;height&quot;:613,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3960700,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div></div></div>]]>
            </description>
            <link>https://www.piratewires.com/p/are-furries-freaks</link>
            <guid isPermaLink="false">hacker-news-small-sites-26288346</guid>
            <pubDate>Sat, 27 Feb 2021 21:29:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Rich Text Math Editing on the Web with Markdown and AsciiMath]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 8 (<a href="https://news.ycombinator.com/item?id=26287948">thread link</a>) | @abhinav22
<br/>
February 27, 2021 | https://writer.math.dev/landing.html | <a href="https://web.archive.org/web/*/https://writer.math.dev/landing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><a href="https://writer.math.dev/">https://writer.math.dev</a></p>
<p>Welcome to Math Writer and thank you for visiting this page. Math Writer is a rich text web editor for math, utilising the power of MathJax and the featureful TinyMCE text editor. It allows you to enter markdown and math together and aims to be a convenient way to write digital math, particularly for your own websites, with pdf and html export options. It will always be free to use and I welcome suggestions, pull requests and bug reports.</p>
<h2>The Power of MathJax</h2>
<p>All math is entered and rendered in accordance with <a href="https://www.mathjax.org/">MathJax</a>, the popular math rendering engine for the web. This means you can enter math either as AsciiMath or LaTex, however I prefer the former for most cases as it reads better in raw form (ultimately it is a personal preference). In addition, a set of handy keyboard shortcuts are included in this editor to aide with commonly used mathematical symbols.</p>
<h2>The Power of TinyMCE</h2>
<p><a href="https://www.tiny.cloud/">TinyMCE</a> is, by their own admission, the world's most customizable and flexible rich text editor. It provides powerful WYSIWYG functionality and ease of use. By combining TinyMCE with the power of MathJax, I was able to build (what I hope is) a high quality math editor.</p>
<h2>Markdown Works!</h2>
<p>Basic markdown commands like headers (#, ##, ...), italics (*), bold (**) and lists (*, -, 1., a., etc.) work in this editor. So you can think of it as a Markdown Editor with mathematical input.</p>
<h2>Who is the Audience?</h2>
<p>I built this editor for myself, but decided it might be worthwhile for others, hence hosting it online. It is most valuable to those who enter a lot of mathematical content for websites (using MathJax), as it exports nicely to HTML and provides a convenient workflow. It is also useful for those looking for a reasonable quality math editor, who are not yet tied in to LaTeX, MS Word or another option. I believe the editor hits the sweetpot of being able to write WYSIWYG formatted rich text, with the power of mathematical input from AsciiMath &amp; LaTeX, with one-click previews of rendered maths.</p>
<h2>Suggestions &amp; Pull Requests Welcome!</h2>
<p>I would be very happy for others to take this editor and customise it for themselves or morph it into something more. I would love to see AsciiMath become a standard for mathematical input (LaTeX is good too, but I am a big fan of AsciiMath being more readable in raw form), and perhaps this project will help push in that direction.</p>
<h2>Get started!</h2>
<p>To get started, simply navigate to <a href="https://writer.math.dev/">https://writer.math.dev</a>. There is a basic tutorial under the "Read Me" tab. If you like this editor, please do star it on <a href="https://github.com/ashok-khanna/math-writer">GitHub</a>.</p>
<h2>Contact Information</h2>
<p>You can e-mail me at <a href="https://writer.math.dev/cdn-cgi/l/email-protection" data-cfemail="fa9b89929591d491929b94949bba92958e979b9396d4999597">[email&nbsp;protected]</a> for any queries, suggestions or just a general chat. Thank you again for your time and I hope you enjoy this editor.</p>
</div></div>]]>
            </description>
            <link>https://writer.math.dev/landing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26287948</guid>
            <pubDate>Sat, 27 Feb 2021 20:41:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Current State of M1 Macbooks for Developers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26287884">thread link</a>) | @stu2b50
<br/>
February 27, 2021 | https://stu2b50.dev/posts/current-state-of1da9 | <a href="https://web.archive.org/web/*/https://stu2b50.dev/posts/current-state-of1da9">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="layout">
      <div id="main">
        

    

    <div>
        <p>I'm sure everyone has heard plenty about the excellence of the M1 Macbooks (I have an Air, by the way; a fanless ultraportable with that kind of performance really attracted me), so in the beginning of this post I will stick to pain points and quirks I experienced with the Macbooks and how I solved them (if I could) to serve as a reference for others, leaving the fairly generic "wow m1 good" at the end. </p>
<p>the tl;dr judgement is: for most developers, it's going to be 95% of the way there by now. If you know what you're doing, you can fill that 5%. If you don't, you might have some frustrating googling ahead.</p>
<h3>App Compatibility</h3>
<p>I'm sure everyone has heard enough of how the M1's seamless ability to run x86 applications, but it really has to be said that it's hard to tell that you're running a program that's not in the devices native architecture.</p>
<p>Almost <em>too difficult</em> to tell. I really wanted to make sure I ran everything native that I could - and honestly sometimes it was hard to tell if I was downloading the native or emulated version. Package files don't seem to say if they're universal binaries, so you have to extract them first. I suppose this is not something Apple wants, but I wish there were an easier way to tell if an application was native or not.</p>
<p><a href="https://isapplesiliconready.com/">This database</a> is a good reference. As a side note, it also seems to have awful SEO - I consistently get articles <em>ABOUT</em> the page rather than the page itself. </p>
<p>In any case, my two main languages for my personal works are python and rust. Here is the compatibility status of my most used applications</p>
<table><thead><tr><th>Application</th><th>Status</th></tr></thead><tbody>
<tr><td>Homebrew</td><td>Native</td></tr>
<tr><td>macports</td><td>Native</td></tr>
<tr><td>Python3</td><td>Native</td></tr>
<tr><td>VSCode</td><td>Native*</td></tr>
<tr><td>iTerm2</td><td>Native</td></tr>
<tr><td>Rust</td><td>Native</td></tr>
<tr><td>Dropbox</td><td>x86</td></tr>
<tr><td>Spotify</td><td>x86</td></tr>
<tr><td>Discord</td><td>x86</td></tr>
<tr><td>Slack</td><td>Native</td></tr>
<tr><td>Zoom</td><td>Native</td></tr>
<tr><td>Chrome</td><td>Native</td></tr>
</tbody></table>
<p>* The stable release of VSCode is not native, but the "Insiders" release is.</p>
<p>Very recently true: Homebrew is native now! </p>
<p>Note that, somewhat ironically, most of the applications that are not native are electron apps - they'll likely gain an M1 native version when they eventually update their electron version (I can understand why that would be more of a challenge than it seems), but it is strange having <em>Chrome</em> work natively but not the apps that depend on it.</p>
<p>For Spotify and Discord, I actually currently run them as Chrome webapps (shortcuts-&gt;launch as window). Works fine, since I'm a fairly light user of both. I did try them as translated, but there were some graphical hitches on Discord (although I seem to be alone on that), and why run translated stripped down Chrome when I'm already running native Chrome?</p>
<p>I have to say, though, Spotify and Discord are all the more disappointing because they also disabled the iPhone clients from being used on Apple silicon. Especially for Spotify - the iPhone version would be perfectly fine for my use case and probably run better to boot!</p>
<p>Slack<em>does</em> have an M1 native version. And so does VSCode. So it seems (as you'd expect) there's no technical reason why the electron apps don't have native versions.</p>
<p>The other major exclusion is Dropbox (yes, I'm apparently one of the few people that still subscribe to dropbox), although it seems to be in the works.</p>
<hr>
<h3>Mouse Issues</h3>
<p>I'm not sure if this was just a weird issue with my specific peripheral configuration or what, but disabling mouse acceleration also crippled the sensitivity of the mouse - so much that even at max DPI on MxMaster, it was still too slow. If you moved the sensitivity in settings, it would re-enable mouse acceleration. </p>
<p>I fixed this in the end with SteerMouse, which allows you to modify the acceleration and sensitivity separately, but I remember that the good ol' <code>defaults write .GlobalPreferences com.apple.mouse.scaling -1</code> would not have this behavior. Probably a Big Sur behavior, rather than an M1 thing, but I'm a little surprised to never see this mentioned. Maybe more people use mouse acceleration than I thought? Am I the weird one?</p>
<hr>
<h3>In the Wild</h3>
<h4>Python</h4>
<p>There were some rough edges. For instance, many of my projects are in python and use postgresql, so I have <code>psycopg2-binary</code> as a dependency on many of them. While running <code>pipenv install</code> (yes, I use <code>poetry</code> now, but some of them predate that and I don't care enough to switch them) I received some linker errors.</p>
<p><a href="https://github.com/psycopg/psycopg2/issues/1200">Here's a github issues thread on it</a></p>
<p>In my case, linking <code>openssl</code> fixed it. <code>psycopg2</code> is popular enough that there were other users having the issue and finding solutions, but it's possible that less used packages, especially ones that have to interface with native code, rather than be pure python, would have issues.</p>
<p>Another python issue came with <code>PyQt5</code>. Trying to install it caused this error</p>
<pre><code>hook = backend.prepare_metadata_for_build_wheel
AttributeError: module 'sipbuild.api' has no attribute 'prepare_metadata_for_build_wheel'
</code></pre>
<p>With an ugly traceback accompanying it. This led me on a wild goose chase with <code>pyqt5-sip</code>, and Googling the error led to no useful outcomes - just people recommending others to upgrade pip. </p>
<p>Turns out, the actual issue was that qmake wasn't in my path. It is building it from source, I suppose? But what a stunningly unhelpful error. The M1 related issue is that the platform is too new for there to be wheels for PyQt5, so it had to built from source. The rest is the python packaging being an idiot.</p>
<h4>Rust</h4>
<p>On the rust side, well, Cargo seems to just compile everything from source anyway, so there's no issues here (although, if you'd believe it, the build directory for this blog, between debug and release, is almost <em>5 GB</em> in size).</p>
<h4>Flutter (and Android)</h4>
<p>I was shocked how easy it was to get the Android toolchain set up. It's running in translation, but I only know that because I checked the binary afterwards. You just install it, and it works, and Flutter has no issues interfacing with it. </p>
<p>I had to use the beta channel of flutter - before then I was hanging on a gradle build - but otherwise this is a stunningly complex chain of technologies and it all works perfectly. I had a flutter app running on my physical Android device. Of course, there is no issues with the iOS toolchain.</p>
<h4>Docker</h4>
<p>I'll admit I'm not a super heavy user of Docker, but it is the elephant in the room. It's released under a Technical Preview (and considering how stable the intel release of docker on MacOS is that's fairly foreboding)... but it seems to work? </p>
<p>Of course, with ARM containers. I believe x86 containers technically can run through QEMU, but boy that is another level of unstable. I think whether or not this is okay will depend on your use case. For me, mostly working on small servers with languages like python, it's fine. </p>
<p>It does break the "contract" that your local and prod environments were virtually the same; the ARM container may not work in the same way as your prod environment. And for some that will be a dealbreaker. You'll have to decide here.</p>
<hr>
<p>The tl;dr seems to be that for more fragile packaging systems, platform binaries for Apple Silicon have not yet been made in many cases, so they must be built from sources, and that can cause issues that other users don't expect. Be aware of that, although it will surely get better over time. And by that I mean Python, since it was where I had by far the most issues, although all were resolvable so far.</p>
<hr>
<h3>A Note on Vertical Stands</h3>
<p>I have a vertical clamshell stand for the first time, since I am no longer afraid of the device's thermal performance. However, I did have one hitch. it's very natural with the Air's wedge shape to put the back of the wedge into the stand, however, if you have a stand that's fully metal, and you center it, the stand can cover up the device's wifi antenna. </p>
<p>With the unibody metal chassis, you need somewhere to stick the wifi antenna, and on modern macbooks that's here</p>
<p><img src="https://stu2b50.dev/images/get/current-state-of1da9/macbook" alt=""></p>
<p>on the back, around where the hinge is. I had quite bad wifi performance until I changed this which mystified me for a bit. Just place it in a different orientation (or get a stand that's more airy) and it'll be fine.</p>
<h3>Performance</h3>
<p>The performance is as lovely as everyone has said it is. I did two hours or so of chrome browsing, which reduced the battery by all of 1%. It's icey cold the entire time, too. Surprisingly a big deal when you actually have it on your lap.</p>
<p>The first day I had it, it was just okay - about what you'd expect from a laptop with a powerful CPU. But after a day, and all the first-launch processes like spotlight indexing, OS updates, and so forth finish running, it's noticeably smoother in operation. Especially small things like having the display turn out, changing the resolution, moving windows around. I'm not even sure specifically what causes this; perhaps improvements with the integrated GPU instead?</p>
<p>It really cannot be overstated how cool it runs. The USB-C dongle that is attached to it runs hotter than the chassis of the laptop even after some ostensibly expensive task, like when I compiled Qt5 from source. </p>
<p>Clamshell mode is a game changer too. Never has a clamshell mode worked so well; I rarely used it before because I would always need to manually press the power button, or use the keyboard and touchpad built in whenever it inevitably bugs out. But it just works on the new M1. This is by far the best "laptop-as-desktop" experience I've had.</p>
<p>I really think the Air is the best for developers for now; you get an actual function row, you really don't notice any performance decreases because, other than long from-scratch compiles, the developer workflow is very bursty and not about sustained performance. And you reap the benefits of having no fan; there are zero moving parts in this laptop. </p>
<p>Perhaps the rumored 14'' Pro will change that for those that need more performance (especially RAM), but honestly it is perfectly fine for my purposes.</p>
<p>But so it's been good on the Air, and with most the kinks worked out on my setup, I'm enjoying the benefits, and man are those benefits great.</p>

    </div>
  

      </div>
    </div></div>]]>
            </description>
            <link>https://stu2b50.dev/posts/current-state-of1da9</link>
            <guid isPermaLink="false">hacker-news-small-sites-26287884</guid>
            <pubDate>Sat, 27 Feb 2021 20:30:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Startups in 13 Sentences (Replay, 2009)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26287486">thread link</a>) | @tosh
<br/>
February 27, 2021 | http://byronm.com/13sentences.html | <a href="https://web.archive.org/web/*/http://byronm.com/13sentences.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://byronm.com/13sentences.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26287486</guid>
            <pubDate>Sat, 27 Feb 2021 19:35:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When Honey Flows Faster Than Water]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26287355">thread link</a>) | @vo2maxer
<br/>
February 27, 2021 | https://fyfluiddynamics.com/2021/02/when-honey-flows-faster-than-water/ | <a href="https://web.archive.org/web/*/https://fyfluiddynamics.com/2021/02/when-honey-flows-faster-than-water/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-14246">

	

		<p><img width="710" height="399" src="https://i1.wp.com/fyfluiddynamics.com/wp-content/uploads/2020/12/Sam-Jarman-31-October-2020-honey.jpg?fit=710%2C399&amp;ssl=1&amp;is-pending-load=1" alt="A drop of honey inside a superhydrophobic capillary tube." loading="lazy" data-lazy-srcset="https://i1.wp.com/fyfluiddynamics.com/wp-content/uploads/2020/12/Sam-Jarman-31-October-2020-honey.jpg?w=1440&amp;ssl=1 1440w, https://i1.wp.com/fyfluiddynamics.com/wp-content/uploads/2020/12/Sam-Jarman-31-October-2020-honey.jpg?resize=300%2C169&amp;ssl=1 300w, https://i1.wp.com/fyfluiddynamics.com/wp-content/uploads/2020/12/Sam-Jarman-31-October-2020-honey.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i1.wp.com/fyfluiddynamics.com/wp-content/uploads/2020/12/Sam-Jarman-31-October-2020-honey.jpg?resize=768%2C432&amp;ssl=1 768w, https://i1.wp.com/fyfluiddynamics.com/wp-content/uploads/2020/12/Sam-Jarman-31-October-2020-honey.jpg?resize=710%2C399&amp;ssl=1 710w" data-lazy-sizes="(max-width: 710px) 100vw, 710px" data-lazy-src="https://i1.wp.com/fyfluiddynamics.com/wp-content/uploads/2020/12/Sam-Jarman-31-October-2020-honey.jpg?fit=710%2C399&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">	</p>
	
	<div>
		
<p>With its high viscosity, no one would ever pick honey to beat water in a race. But a <a href="https://doi.org/10.1126/sciadv.aba5197">new study</a> shows there‚Äôs at least one circumstance where honey wins: inside a narrow, <a href="https://fyfluiddynamics.com/tagged/superhydrophobic/">superhydrophobic</a> tube with one or both ends closed. Inside these specially coated tubes a narrow cushion of air stays between the drop and the wall, reducing friction and increasing flow speed for both fluids. </p>



<p>But when one or both ends of the tube are blocked, the drops can only move when air squeezes past. In less viscous fluids, like water, the researchers found rapid internal flows inside the drop. These flows pressed the surface of the drop outward, reducing the air cushion and making it harder for air to squeeze past so that the drop could flow. In contrast, honey showed very little internal flow and so was able to flow through the tubes ten times faster than water! (Image and research credit: <a href="https://doi.org/10.1126/sciadv.aba5197">M. Vuckovac et al.</a>; via <a href="https://physicsworld.com/a/honey-flows-faster-than-water-in-specially-coated-capillary-tubes/">Physics World</a>; submitted by <a href="https://twitter.com/sohkamyung/status/1322690286682697728">Kam-Yung Soh</a>)</p>
	</div><!-- .entry-content -->

		<!-- .entry-footer -->
			
</article></div>]]>
            </description>
            <link>https://fyfluiddynamics.com/2021/02/when-honey-flows-faster-than-water/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26287355</guid>
            <pubDate>Sat, 27 Feb 2021 19:19:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SolarWind, enough with the password already]]>
            </title>
            <description>
<![CDATA[
Score 208 | Comments 119 (<a href="https://news.ycombinator.com/item?id=26286940">thread link</a>) | @troydavis
<br/>
February 27, 2021 | https://gru.gq/2021/02/28/solarwind-enough-with-the-password-already/ | <a href="https://web.archive.org/web/*/https://gru.gq/2021/02/28/solarwind-enough-with-the-password-already/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><main><article itemscope="" itemtype="https://schema.org/CreativeWork"><div itemprop="text"><p>This is a much delayed discussion on the complexity and nuance of the SolarWind hack. The simplistic and wrong messaging from some quarters of the infosec community has resulted in an atrocious misunderstanding of the hack in the public sphere. This has extended into the policy world as these bad takes are treated as cogent analysis.</p>
<p><a href="https://twitter.com/thegrugq/status/1341439709487087618?s=21">I wrote this back in December</a>, but months later this <a href="https://edition.cnn.com/2021/02/26/politics/solarwinds123-password-intern/index.html">bad analysis is still brought up in the policy space.</a></p>
<h2>Espionage is the second oldest profession</h2>
<p>It is a truth universally acknowledged, that with spying, the ends justify the means. This is true for all espionage organisations, the opposition‚Äôs and your own. Why is that relevant? Because any standard which is used to hamper the opposition will also apply to, and hamper, yours.</p>
<p>Sometimes laying down blanket rules about acceptable espionage behaviour is not a problem. Almost always this is when a certain type of operation is out of character with the society that produces the espionage agency. China makes extensive use of their diaspora community for espionage. The US has thousands of trained professionals and doesn‚Äôt use their diaspora community for organic bottom up collection. The US sometimes coopts civilians (and China has professionals) but generally speaking the diaspora method is one that only China uses extensively.</p>
<p>Extending this a bit further: if an espionage rule was proposed that banned the use of professionals but allowed the use of amateur civilians, China would be able to easily adapt to the new espionage environment. The US would be severely constrained. For this reason, the US wouldn‚Äôt sign up to, or abide by, such a requirement. (This is complicated further by the nature of targets for espionage, and national policy, but we can explore that another day.)</p>
<p>This brings me to targeting civilian companies and supply chain attacks. The US uses these methods just as, if not more, frequently than the Russians. FLAME, a strain of malware that targeted entities in the Middle East, exploited a cryptologic bug in the way Microsoft signed their updates. The NSA was then able to inject malicious code into the updates of Microsoft software. And just like SolarWinds, it was specifically targeted to ensure only legitimate espionage targets were infected and collected.</p>
<p><strong>There is no rule that would prohibit the SolarWinds espionage campaign which the US would be willing to abide by itself.</strong></p>
<h2>Russian Intelligence aren‚Äôt script kiddies</h2>
<p>Here‚Äôs the thing: the attackers are Russian foreign intelligence, the cream of the old KGB, and they will find a way to gain access to their target. Do they need to recruit a developer at the company and trick them into installing malware? They will do that.</p>
<p>They do not need to access the target via a weak password on the build servers. If that is what they use, then that is what they use, but it is not the make or break factor for the operation.</p>
<p>Part of the problem here might be that a superficial understanding of the cyber kill chain gives the impression that if you just stop <strong>The One Critical TTP</strong> in the chain then you will defeat the opposition. This is only true for an opposition that is inflexible and using just one technique. That description does not apply to the Russian intelligence services.</p>
<p>Intelligence agencies have targets and they will find the techniques to access them. The don‚Äôt start with a technique and look for targets that they can access.</p>
<p>The SolarWind backdoor was deeply integrated into the code, it was injected during their build process, and there is no way that the server having a weak password was the pivotal factor. As if Russian Intelligence would just give up if there were a strong password instead!</p>
<p>There is practically no chance that the server‚Äôs password was in anyway relevant to the hack overall. I can forgive the ignorance from the news media, but some infosec people are repeating this garbage as if it is important part of the SolarWind compromise.</p>
<blockquote><p>‚ÄúThe offense is routinely underestimated. When companies are hacked, they react as if they had only done this one thing or avoided this one mistake everything would have been okay. The adversary is treated as if they just got lucky.‚Äù ‚Äî Network Attacks and Exploitation <a href="https://twitter.com/networkattack">@networkattack</a></p>
</blockquote>
<p>People suggesting that the weak password example is relevant because it illustrates the poor security practices overall. I would agree with you if that was the argument presented. It was not. You have to work with the words ppl said, not what you wish they‚Äôd said.</p>
<blockquote><p>‚Äò‚ÄôSecurity researcher Vinoth Kumar told Reuters that, last year, he alerted the company that anyone could access SolarWinds‚Äô update server by using the password ‚Äúsolarwinds123‚Äù<br>
‚ÄúThis could have been done by any attacker, easily,‚Äù Kumar said.‚Äô‚Äô</p>
</blockquote>
<p>I absolutely agree with the ‚Äúit is illustrative of poor security practice‚Äù but‚Ä¶ that isn‚Äôt what was said. They literally said that the weak password means that the attacker could be anyone. Anyone could do it. That is the dumbest take.</p>
<h2>The KGB vs a software vendor? Bet KGB.</h2>
<p>Here‚Äôs the thing.</p>
<p>I‚Äôm perfectly willing to believe that their build servers were using ‚Äúadmin:admin‚Äù and that‚Äôs how the Russians gained access to inject their code‚Ä¶ but, this was a clandestine intelligence operation. They did not succeed merely because SolarWind had poor password hygiene.</p>
<p>The SVR was formed from the cream of the KGB ‚Äî the first chief directorate (FCD). The most prestigious directorate in the KGB. As the SVR they are still formidable.</p>
<h2>Was SolarWind picked due to its poor security?</h2>
<p>No.</p>
<p>I suspect the primary motivation was the access that would be enabled by the attack, not the vulnerable nature of the company. This is the SVR, the cream of the KGB (first chief directorate). They are not going to be bothered by password policy.</p>
<p>That‚Äôs what kinda annoys me‚Ä¶ however easy SolarWind may have been to hack, they were hacked by the fucking First Chief Directorate of the KGB. Quite possibly the people that are frying diplomats brains with microwaves in Havana. They‚Äôre pretty fucking metal.</p>
<p>Could SolarWind have been too difficult for the KGB to use them in an enablement operation? Yes, it is possible to achieve that level of security. Creating a strong fast detection capability with rapid remediation and incident response will make it hard for attackers to dwell for any length of time, or persist on the system after they gain access. It requires vigilance and some effort, but it can be done. Of course, SolarWind wasn‚Äôt close to reaching that level.</p>
<div><p>Liked it? Take a second to support grugq on Patreon!</p><p><a rel="nofollow" target="_blank" href="https://www.patreon.com/oauth2/become-patron?response_type=code&amp;min_cents=100&amp;client_id=XPz53m5BPTmu-cnihK1RXoEaRoNywCco8VIPCNbwnAexV5YWdi_YG5Asup2LeG9p&amp;scope=identity%20identity[email]&amp;redirect_uri=https://gru.gq/patreon-authorization/&amp;state=eyJmaW5hbF9yZWRpcmVjdF91cmkiOiJodHRwczpcL1wvZ3J1LmdxXC8yMDIxXC8wMlwvMjhcL3NvbGFyd2luZC1lbm91Z2gtd2l0aC10aGUtcGFzc3dvcmQtYWxyZWFkeVwvIn0%3D&amp;utm_source=https%3A%2F%2Fgru.gq%2F2021%2F02%2F28%2Fsolarwind-enough-with-the-password-already%2F&amp;utm_medium=patreon_wordpress_plugin&amp;utm_campaign=457796&amp;utm_term=&amp;utm_content=post_unlock_button"><img src="https://i2.wp.com/gru.gq/wp-content/plugins/patron-button-and-widgets-by-codebard/images/become_a_patron_button.png?ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/gru.gq/wp-content/plugins/patron-button-and-widgets-by-codebard/images/become_a_patron_button.png?ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p></div>
<!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://gru.gq/2021/02/28/solarwind-enough-with-the-password-already/"
    dc:identifier="https://gru.gq/2021/02/28/solarwind-enough-with-the-password-already/"
    dc:title="SolarWind, enough with the password already!"
    trackback:ping="https://gru.gq/2021/02/28/solarwind-enough-with-the-password-already/trackback/" />
</rdf:RDF>-->
</div></article>
		

		
		

		</main></div></div></div></div>]]>
            </description>
            <link>https://gru.gq/2021/02/28/solarwind-enough-with-the-password-already/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26286940</guid>
            <pubDate>Sat, 27 Feb 2021 18:31:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Solving Advent of Code 2020 in under a second]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26286781">thread link</a>) | @timvisee
<br/>
February 27, 2021 | https://timvisee.com/blog/solving-aoc-2020-in-under-a-second/ | <a href="https://web.archive.org/web/*/https://timvisee.com/blog/solving-aoc-2020-in-under-a-second/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
            <pre><code><span>       ,--.-----.--.
       |--|-----|--|
       |--|     |--|
       |  |-----|  |
     __|--|     |--|__
    /  |  |-----|  |  \              mm    mmmm    mmm
   /   \__|-----|__/   \             ##   m"  "m m"   "
  /   ______---______   \/\         #  #  #    # #
 /   /               \   \/         #mm#  #    # #
{   /    _     _   _  \   }        #    #  #mm#   "mmm"
|  { /  | | . | | /|   }  |-,   
|  | \  |_| . |_| _|_  |  | |    mmmm   mmmm   mmmm   mmmm
|  {                   }  |-'   "   "# m"  "m "   "# m"  "m
{   \                 /   }         m" #  m #     m" #  m #
 \   `------___------'   /\       m"   #    #   m"   #    #
  \     __|-----|__     /\/     m#mmmm  #mm#  m#mmmm  #mm#
   \   /  |-----|  \   /
    \  |--|     |--|  /
     --|  |-----|  |--
       |--|     |--|
       |--|-----|--|
       `--'-----`--'
</span></code></pre>
<p><a rel="noopener" target="_blank" href="https://adventofcode.com/2020/">Advent of Code</a> is a popular yearly programming competition. It's an
Advent calendar of small programming puzzles for a variety of skill sets and
levels that can be solved in any programming language you like.</p>
<p>Puzzles are released daily throughout December. <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/stats">More</a> than 150k
people take part in this event. The toughest battle to solve each puzzle as soon
as possible to become the best on the global <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/leaderboard">leaderboard</a>.</p>
<p>In my timezone, puzzles are released at 6 o'clock in the morning. Since I'm a
night owl, the biggest challenge for me here is to get up so early. I,
therefore, set a different goal instead.</p>
<h2 id="subsecond">Subsecond
    <a href="#subsecond" aria-label="Anchor link for: subsecond">
        #
    </a>

</h2>
<p>I want to develop a standalone, short, compact, fast and, elegant solution for
each problem this year. In past competitions, I took part using the <a rel="noopener" target="_blank" href="https://www.rust-lang.org/">Rust</a>
language. I've been using it a lot for other projects lately, and believe it is
a fantastic language to build performant, secure, and robust software. This has
always sparked my interest so Rust is a good fit.</p>
<p>Last year I came across <a rel="noopener" target="_blank" href="https://www.forrestthewoods.com/blog/solving-advent-of-code-in-under-a-second/">this</a> article, solving all puzzles in
under a second. Yes, in less than one second total. This inspired me to
challenge myself to the same this year:</p>
<p><em>Solving Advent of Code 2020 in under a second on a single CPU core.</em></p>
<p>Spoiler alert: I succeeded!</p>
<h2 id="what-s-in-this-for-you">What's in this for you?
    <a href="#what-s-in-this-for-you" aria-label="Anchor link for: what-s-in-this-for-you">
        #
    </a>

</h2>
<p>In this article, I'd like to show you some optimizations I found appealing which
I used to keep the solutions blazingly fast. I'll only talk about the most
significant optimizations and the interesting bits. Most are algorithmic and are
consequently language agnostic.</p>
<p>I'm just using basic time measurements on my machine. I won't be theoretically
proving the efficiency of an approach. I optimized the runtime of my solutions
based on my personal input. I did not make assumptions other than what is clear
from the puzzle description though, so each solution should work for all inputs
with comparable runtime. All user input is similar after all.</p>
<p>I hope this article will present you with some out-of-the-box approaches you can
take away to make your future code more performant. Hence this piece is intended
for programmers that value performance.</p>
<pre><code><span>                     )
       CHOO CHOO     ' ))'
                      {//  '"
                           "'' )
 ___   ___  ____ ____ ____ __||_
____ -- __ {___{{___{{___{(___(o)
 ---- ----  0 0  0 0  0 0  0 0'U'

        code zooming past
</span></code></pre><h2 id="source-code">Source code
    <a href="#source-code" aria-label="Anchor link for: source-code">
        #
    </a>

</h2>
<p>Source code and measurements? See my solutions on GitHub:</p>
<p><a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020">https://github.com/timvisee/advent-of-code-2020</a></p>
<p>If you'd like to give these <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/">puzzles</a> a try and haven't done so yet, I highly
recommend doing so before you continue reading. It contains
spoilers.</p>
<p>Now, let's get started with the interesting stuff.</p>
<hr>
<h2 id="day-1-report-repair">Day 1: Report Repair
    <a href="#day-1-report-repair" aria-label="Anchor link for: day-1-report-repair">
        #
    </a>

</h2>
<p>On the first day <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/1#part2">part 2</a>, we're given a list of numbers. We must find 3 numbers
that have a sum of 2020. All numbers are around 1000, so we're likely trying to
find a pair of 3 small numbers.</p>
<p>I <a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/b8c6e75e3844714fe8fa229afa618941bd219e79/day01b/src/main.rs#L6">sort</a> the list of numbers from small to large before trying to
find the correct pair, which decreases the runtime from <code>1.38ms</code> to <code>7Œºs</code>.</p>
<p>Yup, starting simple.</p>
<h2 id="day-6-custom-customs">Day 6: Custom Customs
    <a href="#day-6-custom-customs" aria-label="Anchor link for: day-6-custom-customs">
        #
    </a>

</h2>
<p>On <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/6">day 6 part 1</a> we're trying to find the number of unique questions.
There are 26 in total, represented as letters. I take a 32-bit integer and
<a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/b8c6e75e3844714fe8fa229afa618941bd219e79/day06a/src/main.rs#L9-L10">set</a> the corresponding bit for each answer. I then count the number
of ones. No expensive data structures are required.</p>
<pre><code><span>cady:    00000010110000000000000000000010
ipldcyf: 00000000110100100100010000000010
xybgcd:  00000000110010000000000000000110
gcdy:    00000000110010000000000000000010
dygbc:   00000001110010000000000000000010
         =OR=============================
         00000011110110100100010000000110 -&gt; 11
</span></code></pre>
<p><a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/6#part2">Part 2</a> is simple now: I take the same approach but <a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/f41a0bdbce584cf160800dbebb5c49ee3023a592/day06b/src/main.rs#L8-L10">use</a>
the AND operation instead of OR when setting bits.</p>
<h2 id="day-9-encoding-error">Day 9: Encoding Error
    <a href="#day-9-encoding-error" aria-label="Anchor link for: day-9-encoding-error">
        #
    </a>

</h2>
<p>On <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/9#part2">day 9 part 2</a> we must find a sequence of numbers in a list of
numbers that sums up to a specific value.</p>
<p>The common approach seems to be to use a <code>for</code> in a <code>for</code> loop. This walks
over each position with the outer loop and tries to find a sequence with the
correct sum with the inner loop.</p>
<p>I'm <a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/b8c6e75e3844714fe8fa229afa618941bd219e79/day09b/src/main.rs#L9-L20">using</a> a <em>dynamic sliding window</em> approach instead (I better
give it a fancy name you know). I start by sliding the <em>head</em> forward, making
the window and the sum larger. When the sum becomes larger than the target value
I stop. Then I start sliding the <em>tail</em> forward, making the window and the
sequence sum smaller. When the sum becomes smaller than the target value I stop.</p>
<pre><code><span>   &gt;&gt; tail &gt;&gt;     &gt;&gt; head &gt;&gt;
         |           |
         +-----------+
... 35 20|15 25 47 40|62 55 65 95 102 ...
         +-----------+
         | tot: 127  |
</span></code></pre>
<p>I keep alternating between sliding the <em>head</em> and <em>tail</em>. Once the sum equals
the target value, we've found the sequence and can solve the puzzle. This
minimizes the number of required loops, making it more efficient.</p>
<h2 id="day-10-adapter-array">Day 10: Adapter Array
    <a href="#day-10-adapter-array" aria-label="Anchor link for: day-10-adapter-array">
        #
    </a>

</h2>
<p>On <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/10#part2">day 10 part 2</a> we get a list of adapter voltages. Adapters may be
plugged into each other if the adapter is 1 to 3 volts higher than the adapter
you're plugging into. The puzzle is to figure out how many distinct adapter
arrangements are possible.</p>
<p>I started with a sorted list because you can only plug higher-rated adapters
into lower-rated ones. The maximum difference is 3, so I soon discovered that
you can chunk the sequence of adapters. Each chunk of adapters has a difference
of 3, which only gives one way to connect between them. You can now process each
chunk separately to find distinct arrangements, multiplying their calculations.</p>
<pre><code><span>Chunks with adapters:

C1 &gt;&gt; C2 &gt;&gt; C3 &gt;&gt; C4 &gt;&gt; C5
--    --    --    --    --
1     4     10    15    19
      5     11    16
      6     12
      7
--    --    --    --    --
1x    7x    4x    2x    1x

Ways to connect:

1  +  7  +  4  +  2  +  1  =  15
</span></code></pre>
<p>This resulted in chunks that always consisted of 2, 3, or 4 adapters. This makes
it easy to find distinctions between them. I finally figured that I could
<a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/b8c6e75e3844714fe8fa229afa618941bd219e79/day10b/src/main.rs#L13-L20">optimize</a> it to a <em>fixed number of distinctions per chunk size</em>
greatly reducing complexity.</p>
<p>I found 74049191673856 distinct ways to connect all adapters in just <code>5Œºs</code>. I
can't even count to 1 within that time.</p>
<h2 id="day-11-seating-system">Day 11: Seating System
    <a href="#day-11-seating-system" aria-label="Anchor link for: day-11-seating-system">
        #
    </a>

</h2>
<p>On <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/11">day 11 part 1</a> we're given a variation of <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway's Game of
Life</a> represented as a 2D arrangement of seats on a plane. Each iteration
seat occupation changes based on a set of rules considering their neighbors, but
seats don't move.</p>
<pre><code><span>L.LL.LL.LL    L = empty seat
LLLLLLL.LL    . = nothing
L.L.L..L..
LLLL.LL.LL
L.LL.LL.LL
L.LLLLL.LL
..L.L.....
LLLLLLLLLL
L.LLLLLL.L
L.LLLLL.LL
</span></code></pre>
<p>With regular <em>Game of Life</em> you'd have to loop through all positions each
iteration and evaluate all rules to determine their new state. Because this
puzzle does not have a seat at every position (nor do seats always have 4
neighbors) our plane is more like a <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Sparse_array">sparse array</a>. A lot of
cycles would be wasted if we'd keep looping over all plane positions.</p>
<p>I decided to make a list of all seat positions and their respective neighbors.
<a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/b8c6e75e3844714fe8fa229afa618941bd219e79/day11a/src/main.rs#L38-L54">This</a> way I only had to go through this list of seats for each
iteration. Determining what neighbors a seat has just needs to be performed
once.</p>
<p>This is especially great for <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/11#part2">part 2</a> which makes things worse. It
doesn't just consider direct neighbors anymore, but neighbors in line of sight
making searching much more expensive. Luckily it doesn't affect my approach from
the first part too much, as I only search <a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/b8c6e75e3844714fe8fa229afa618941bd219e79/day11b/src/main.rs#L28-L39">once</a>. This is much more
efficient than looping through all positions and finding neighbors every time.</p>
<h2 id="day-12-rain-risk">Day 12: Rain Risk
    <a href="#day-12-rain-risk" aria-label="Anchor link for: day-12-rain-risk">
        #
    </a>

</h2>
<p>On <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/12">day 12 part 1</a> we're given a sequence of navigation instructions for
a ship. It includes cardinal directions, rotation, and forward instructions. We
must figure out the distance between the start and destination position.</p>
<p>What makes this tricky is the rotation and forward instructions. The forward
movement is dependent on your current rotation.</p>
<p>I use a single byte of which the first 4 bits define the current rotation. The
first bit means north, the second bit means east, et cetera. Because the ship
starts looking east, I start with the <code>0b01000100</code> pattern. For each rotation
instruction, I simply <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Bitwise_operation#bit_rotation">rotate</a> the bits left or right. Rotating
right would update the direction to <code>0b00100010</code>.</p>
<pre><code><span>Direction bits, shift to rotate 90 degrees left or right:

    &lt;&lt; rotate left &lt;&lt;               &gt;&gt; rotate right &gt;&gt;

... &lt;&gt; 01000100 &lt;&gt; 00100010 &lt;&gt; 00010001 &lt;&gt; 10001000 &lt;&gt; ...


                Bit meaning:

              [ y-1 ] [ y+1 ]
              [north] [south]
                    | |
Direction bits  00100010  would move ship south (y+1)
                     | |
                [east] [west]
                [ x+1] [x-1 ]
</span></code></pre>
<p>To move forward I <a rel="noopener" target="_blank" href="https://github.com/timvisee/advent-of-code-2020/blob/b8c6e75e3844714fe8fa229afa618941bd219e79/day12a/src/main.rs#L12-L18">take</a> this direction byte and use bitwise
arithmetic to update the ship position. This removes branching (<code>if</code> statements
and such) you'd normally expect for logic like this. Quite elegant.</p>
<h2 id="day-13-shuttle-search">Day 13: Shuttle Search
    <a href="#day-13-shuttle-search" aria-label="Anchor link for: day-13-shuttle-search">
        #
    </a>

</h2>
<p>On <a rel="noopener" target="_blank" href="https://adventofcode.com/2020/day/13#part2">day 13 part 2</a> you're given a series of bus lines, each having a
fixed schedule. You must find the time where each bus leaves one ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://timvisee.com/blog/solving-aoc-2020-in-under-a-second/">https://timvisee.com/blog/solving-aoc-2020-in-under-a-second/</a></em></p>]]>
            </description>
            <link>https://timvisee.com/blog/solving-aoc-2020-in-under-a-second/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26286781</guid>
            <pubDate>Sat, 27 Feb 2021 18:12:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Simplify Gmail]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26286596">thread link</a>) | @xbmcuser
<br/>
February 27, 2021 | https://simpl.fyi/gmail/#about | <a href="https://web.archive.org/web/*/https://simpl.fyi/gmail/#about">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://simpl.fyi/gmail/#about</link>
            <guid isPermaLink="false">hacker-news-small-sites-26286596</guid>
            <pubDate>Sat, 27 Feb 2021 17:51:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: GraphQL API in WordPress core would look like this]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26286388">thread link</a>) | @leoloso
<br/>
February 27, 2021 | https://graphql-api.com/blog/why-wordpress-should-have-a-graphql-api-in-core/ | <a href="https://web.archive.org/web/*/https://graphql-api.com/blog/why-wordpress-should-have-a-graphql-api-in-core/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>WordPress 5.7 is <a href="https://make.wordpress.org/core/2021/02/23/wordpress-5-7-field-guide/">coming out soon</a>. As it has been for many releases now, the WP REST API will also be <a href="https://make.wordpress.org/core/2021/02/23/rest-api-changes-in-wordpress-5-7/">shipping several new features</a>.</p><p>Among the new features, one caught my attention: "Image Editor Accepts a List of Modifiers".</p><blockquote><p>The <code>/wp/v2/media/&lt;id&gt;/edit</code> endpoint introduced in WordPress 5.5 came with a limited API that accepted top-level rotation and crop declarations. In <a href="https://core.trac.wordpress.org/changeset/50124">50124</a> this API was made more powerful and flexible by accepting an array of modifications in the new <code>modifiers</code> request parameter.</p></blockquote><pre><code><span><span>import</span> apiFetch <span>from</span> <span>'@wordpress/api-fetch'</span><span>;</span></span><br><span> </span><br><span><span>const</span> data <span>=</span> <span>{</span></span><br><span>  modifiers<span>:</span> <span>[</span></span><br><span>    <span>{</span></span><br><span>      type<span>:</span> <span>'crop'</span><span>,</span></span><br><span>      args<span>:</span> <span>{</span></span><br><span>        left  <span>:</span> <span>0</span><span>,</span></span><br><span>        top   <span>:</span> <span>0</span><span>,</span></span><br><span>        width <span>:</span> <span>80</span><span>,</span></span><br><span>        height<span>:</span> <span>80</span></span><br><span>      <span>}</span></span><br><span>    <span>}</span><span>,</span></span><br><span>    <span>{</span></span><br><span>      type<span>:</span> <span>'rotate'</span><span>,</span></span><br><span>      args<span>:</span> <span>{</span></span><br><span>        angle<span>:</span> <span>90</span></span><br><span>      <span>}</span></span><br><span>    <span>}</span></span><br><span>  <span>]</span></span><br><span><span>}</span><span>;</span></span><br><span><span>apiFetch</span><span>(</span> <span>{</span> data<span>,</span> method<span>:</span> <span>'POST'</span><span>,</span> path<span>:</span> <span>'/wp/v2/media/5/edit'</span> <span>}</span> <span>)</span><span>;</span></span></code></pre><p>This development has been a while on the making.</p><p>First, on WordPress 5.5, the <a href="https://make.wordpress.org/core/2020/07/16/new-and-modified-rest-api-endpoints-in-wordpress-5-5/#image-editing">image editing endpoint</a> was introduced.</p><p>This endpoint was initially a bit rigid, requiring to pass all the data together concerning all operations to apply on the image. For instance, to rotate the image, and modify its size, we would pass this data:</p><pre><code><span><span>{</span></span><br><span>  <span>"x"</span><span>:</span> <span>0</span><span>,</span></span><br><span>  <span>"y"</span><span>:</span> <span>0</span><span>,</span></span><br><span>  <span>"width"</span><span>:</span> <span>80</span><span>,</span></span><br><span>  <span>"height"</span><span>:</span> <span>80</span><span>,</span></span><br><span>  <span>"rotate"</span><span>:</span> <span>90</span></span><br><span><span>}</span></span></code></pre><p>Then, in WordPress 5.6, <a href="https://make.wordpress.org/core/2020/11/20/rest-api-batch-framework-in-wordpress-5-6/">batch operations</a> were introduced to the WP REST API.</p><p>Finally, in the upcoming WordPress 5.7, the operations to apply on the image have been decoupled, so we have operations <code>"crop"</code> and <code>"rotate"</code>. These operations can be executed on their own, but also together on the same request via batching.</p><p>As seen earlier on, passing data to the endpoint now looks much more elegant:</p><pre><code><span><span>{</span></span><br><span>  <span>"modifiers"</span><span>:</span> <span>[</span></span><br><span>    <span>{</span></span><br><span>      <span>"type"</span><span>:</span> <span>"crop"</span><span>,</span></span><br><span>      <span>"args"</span><span>:</span> <span>{</span></span><br><span>        <span>"left"</span>  <span>:</span> <span>0</span><span>,</span></span><br><span>        <span>"top"</span>   <span>:</span> <span>0</span><span>,</span></span><br><span>        <span>"width"</span> <span>:</span> <span>80</span><span>,</span></span><br><span>        <span>"height"</span><span>:</span> <span>80</span></span><br><span>      <span>}</span></span><br><span>    <span>}</span><span>,</span></span><br><span>    <span>{</span></span><br><span>      <span>"type"</span><span>:</span> <span>"rotate"</span><span>,</span></span><br><span>      <span>"args"</span><span>:</span> <span>{</span></span><br><span>        <span>"angle"</span><span>:</span> <span>90</span></span><br><span>      <span>}</span></span><br><span>    <span>}</span></span><br><span>  <span>]</span></span><br><span><span>}</span></span></code></pre><h2 id="heading-re-doing-what-already-exists">Re-doing what already exists?<a href="#heading-re-doing-what-already-exists"><span> permalink</span></a></h2><p>The WP REST API is not the only API for WordPress. There are (at least) two alternatives:</p><ul><li>GraphQL, via <a href="https://www.wpgraphql.com/">WPGraphQL</a></li><li>GraphQL + persisted queries, via the <a href="https://graphql-api.com/">GraphQL API for WordPress</a><br>(‚òùüèΩ This is me, your host for this blog post ‚òùüèΩ)</li></ul><p><a href="https://graphql.org/">GraphQL</a> is a newish type of API, which excels at batching operations. If using GraphQL, there is no need to spend time and energy developing a custom solution for them, as is the case for REST.</p><p>Indeed, REST could be seen as "copying" this feature from GraphQL.</p><figure><img src="https://graphql-api.com/images/rest-copying-graphql-meme.jpg" alt="REST copying GraphQL?" loading="lazy" width="579" height="431"><figcaption>REST copying GraphQL?</figcaption></figure><p>Supporting batch operations in the WP REST API took at least 2, possibly 3, release cycles to accomplish. This is not an insignificant amount of time, and it required the <a href="https://core.trac.wordpress.org/ticket/50244">contribution from several people</a>.</p><p>If WordPress could also make use of GraphQL, and the image editing endpoint was based on GraphQL instead of REST, then these contributors could instead work on other developments.</p><p>Wouldn't WordPress be better off, and be developed much faster, if it could use the best qualities from each API, whenever convenient?</p><h2 id="heading-batch-operations-in-graphql">Batch operations in GraphQL<a href="#heading-batch-operations-in-graphql"><span> permalink</span></a></h2><p>I'll show not one, but several ways in which the GraphQL API for WordPress supports batch operations.</p><p>The first one is the simplest one: adding several fields to the root of the query. For instance, <a href="https://newapi.getpop.org/graphiql/?query=mutation%20LogUserInAndAddCommentToPost%20%7B%0A%20%20loginUser(%0A%20%20%20%20usernameOrEmail%3A%22test%22%2C%0A%20%20%20%20password%3A%22pass%22%0A%20%20)%20%7B%0A%20%20%20%20id%0A%20%20%20%20name%0A%20%20%7D%0A%20%20addCommentToCustomPost(%0A%20%20%20%20customPostID%3A%201459%2C%0A%20%20%20%20comment%3A%20%22Adding%20a%20comment%3A%20bla%20bla%20bla%22%0A%20%20)%20%7B%0A%20%20%20%20id%0A%20%20%20%20content%0A%20%20%20%20date%0A%20%20%7D%0A%7D&amp;operationName=LogUserInAndAddCommentToPost">this query</a> logs the user in, and then adds a comment (press on the "Run" button to see it in action):</p><p>(Btw, this is the GraphiQL client. <a href="https://graphql-api.com/guides/intro/intro-to-the-graphiql-client/">Here is a tutorial</a> on using it.)</p><p>Now, these two operations were applied on different objects, but we want to apply several operations to the same object.</p><p>Let's do that next: <a href="https://newapi.getpop.org/graphiql/?query=mutation%20AddTwoCommentsToPost%20%7B%0A%20%20firstComment%3A%20addCommentToCustomPost(%0A%20%20%20%20customPostID%3A%201459%2C%0A%20%20%20%20comment%3A%20%22This%20is%20my%20first%20response%22%0A%20%20)%20%7B%0A%20%20%20%20id%0A%20%20%20%20content%0A%20%20%20%20date%0A%20%20%7D%0A%20%20secondComment%3A%20addCommentToCustomPost(%0A%20%20%20%20customPostID%3A%201459%2C%0A%20%20%20%20comment%3A%20%22This%20is%20my%20second%20response%22%0A%20%20)%20%7B%0A%20%20%20%20id%0A%20%20%20%20content%0A%20%20%20%20date%0A%20%20%7D%0A%7D&amp;operationName=AddTwoCommentsToPost">this query</a> adds two comments to the same post.</p><p>These two comments were added to an already-existing post. But what would happen if the post also needs be created in first place?</p><p>In that case, the simple query will not work anymore, because we don't know the ID of the post-yet-to-be-created, which is needed as argument to the other operations (notice the <code>?</code> in the field argument):</p><pre><code><span><span>mutation</span> CreatePostAndAddTwoCommentsToPost <span>{</span></span><br><span>  createPost<span>(</span><span>title</span><span>:</span> <span>"Some post"</span><span>)</span> <span>{</span></span><br><span>    id  </span><br><span>  <span>}</span></span><br><span>  addCommentToCustomPost<span>(</span></span><br><span>    <span>customPostID</span><span>:</span> ?<span>,</span></span><br><span>    <span>comment</span><span>:</span> <span>"Blah blah blah"</span></span><br><span>  <span>)</span> <span>{</span></span><br><span>    id</span><br><span>    content</span><br><span>    date</span><br><span>  <span>}</span></span><br><span><span>}</span></span></code></pre><p>But despair not, that the GraphQL API has your back covered. It provides not one, but two solutions!</p><figure><img src="https://graphql-api.com/images/count-on-you-meme.jpg" alt="The GraphQL API cares about you" loading="lazy" width="500" height="549"><figcaption>The GraphQL API cares about you</figcaption></figure><p>The first one is to use the <a href="https://graphql-api.com/guides/forward/multiple-query-execution/">multiple-query execution</a> feature.</p><p>In <a href="https://newapi.getpop.org/graphiql/?query=mutation%20__ALL%20%7B%20id%20%7D%0A%0Amutation%20AddComment%20%7B%0A%20%20addCommentToCustomPost(%0A%20%20%20%20customPostID%3A%201459%2C%0A%20%20%20%20comment%3A%20%22Some%20insightful%20comment%22%0A%20%20)%20%7B%0A%20%20%20%20id%20%40export(as%3A%22_newCommentID%22)%0A%20%20%20%20content%0A%20%20%20%20date%0A%20%20%7D%0A%7D%0A%0Amutation%20AddResponseToComment(%24_newCommentID%3AID!%3D%22%22)%20%7B%0A%20%20replyComment(%0A%20%20%20%20parentCommentID%3A%20%24_newCommentID%2C%0A%20%20%20%20comment%3A%20%22Debunking%20your%20insightful%20comment%22%0A%20%20)%20%7B%0A%20%20%20%20id%0A%20%20%20%20date%0A%20%20%20%20content%0A%20%20%20%20parent%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D&amp;operationName=__ALL">this query</a>, we execute the first operation, export its result via directive <code>@export</code>, and then inject this value as input to the second query (select the <code>__ALL</code> operation from the dropdown button, when pressing on "Run"):</p><p>More elegant still, we can use <a href="https://graphql-api.com/guides/forward/nested-mutations/">nested mutations</a>.</p><p>In <a href="https://newapi.getpop.org/graphiql/?mutation_scheme=nested&amp;query=mutation%20AddCommentAndResponseAndResponse%20%7B%0A%20%20addCommentToCustomPost(%0A%20%20%20%20customPostID%3A%201459%2C%0A%20%20%20%20comment%3A%20%22Some%20insightful%20comment%22%0A%20%20)%20%7B%0A%20%20%20%20id%0A%20%20%20%20content%0A%20%20%20%20date%0A%20%20%20%20reply(%0A%20%20%20%20%20%20comment%3A%20%22Debunking%20your%20insightful%20comment%22%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20date%0A%20%20%20%20%20%20content%0A%20%20%20%20%20%20parent%20%7B%0A%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20reply(%0A%20%20%20%20%20%20%20%20comment%3A%20%22No%2C%20it%20was%20right!%22%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%20%20date%0A%20%20%20%20%20%20%20%20content%0A%20%20%20%20%20%20%20%20parent%20%7B%0A%20%20%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D&amp;operationName=AddCommentAndResponseAndResponse">this query</a>, we execute the first operation, and nest the second operation within, so it will be applied on the object created during the first operation (and then repeat, nesting a 3rd operation, and so on):</p><p>As a bonus, the batch operations can be applied not just on a single entity, but on many entities at the same time, on the same request.</p><p>In <a href="https://newapi.getpop.org/graphiql/?mutation_scheme=nested&amp;query=mutation%20AddCommentAndResponseToManyPosts%20%7B%0A%20%20posts(ids%3A%20%5B1657%2C%201153%2C%201499%2C%201459%5D)%20%7B%0A%20%20%20%20id%0A%20%20%20%20addComment(%0A%20%20%20%20%20%20comment%3A%20%22Some%20insightful%20comment%22%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20content%0A%20%20%20%20%20%20date%0A%20%20%20%20%20%20reply(%0A%20%20%20%20%20%20%20%20comment%3A%20%22Debunking%20your%20insightful%20comment%22%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%20%20date%0A%20%20%20%20%20%20%20%20content%0A%20%20%20%20%20%20%20%20parent%20%7B%0A%20%20%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D&amp;operationName=AddCommentAndResponseToManyPosts">this query</a>, the new comments and all their responses are being added to several posts:</p><p>And the plugin has yet one more trick under its sleeve: by using the <a href="https://graphql-api.com/guides/forward/embeddable-fields/">embeddable fields</a> feature, we can customize the content passed to each field argument, using data from the object itself!</p><p>In <a href="https://newapi.getpop.org/graphiql/?mutation_scheme=nested&amp;query=mutation%20AddCustomCommentAndResponseToManyPosts%20%7B%0A%20%20posts(ids%3A%20%5B1657%2C%201153%2C%201499%2C%201459%5D)%20%7B%0A%20%20%20%20id%0A%20%20%20%20addComment(%0A%20%20%20%20%20%20comment%3A%20%22The%20post%20has%20ID%20%7B%7B%20id%20%7D%7D%20and%20title%20%7B%7B%20title%20%7D%7D%22%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20content%0A%20%20%20%20%20%20date%0A%20%20%20%20%20%20reply(%0A%20%20%20%20%20%20%20%20comment%3A%20%22The%20parent%20comment%20was%20posted%20on%20%7B%7B%20date(format%3A%5C%22d%2Fm%2FY%5C%22)%20%7D%7D.%20Cool%2C%20right%3F%22%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%20%20date%0A%20%20%20%20%20%20%20%20content%0A%20%20%20%20%20%20%20%20parent%20%7B%0A%20%20%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D&amp;operationName=AddCustomCommentAndResponseToManyPosts">this query</a>, the comments contain information from the object upon which they are being created.</p><h2 id="heading-getting-the-best-from-rest-and-graphql-whenever-convenient">Getting the best from REST and GraphQL whenever convenient<a href="#heading-getting-the-best-from-rest-and-graphql-whenever-convenient"><span> permalink</span></a></h2><p>As <a href="https://github.com/WordPress/theme-experiments">Full Site Editing</a> is developed and expanded, WordPress will increasingly depend on its API(s).</p><p>Concerning existing features, the REST API has so far fared very well. There is no need to rebuild what is not broken.</p><p>However, concerning new, yet-to-be-developed features, wouldn't WordPress benefit from using either REST or GraphQL, depending on whatever is more convenient for that specific feature?</p><p>The answer is yours...</p><figure><img src="https://graphql-api.com/images/rest-plus-graphql-meme.jpg" alt="What's your opinion?" loading="lazy" width="500" height="671"><figcaption>What's your opinion?</figcaption></figure></div></div>]]>
            </description>
            <link>https://graphql-api.com/blog/why-wordpress-should-have-a-graphql-api-in-core/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26286388</guid>
            <pubDate>Sat, 27 Feb 2021 17:31:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Not Getting Royalty Free Illustrations and Components? These Site May Help You]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26286169">thread link</a>) | @farseenmanekhan
<br/>
February 27, 2021 | https://www.dev-stuff.tech/2021/02/not-getting-royalty-free-illustrations.html | <a href="https://web.archive.org/web/*/https://www.dev-stuff.tech/2021/02/not-getting-royalty-free-illustrations.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<meta content="$ilp.uphold.com/GYJa7Bw4R3zj" name="monetization"><div><p><a href="https://1.bp.blogspot.com/-snp60hXrwqU/YCgJ5G1VyOI/AAAAAAAABHQ/GLZkNXhjYWwFHOdLdU0rJA-fRUYe1sDiACLcBGAsYHQ/s1920/sigmund-AxAPuIRWHGk-unsplash.jpg"><img alt="" data-original-height="1280" data-original-width="1920" height="426" src="https://1.bp.blogspot.com/-snp60hXrwqU/YCgJ5G1VyOI/AAAAAAAABHQ/GLZkNXhjYWwFHOdLdU0rJA-fRUYe1sDiACLcBGAsYHQ/w640-h426/sigmund-AxAPuIRWHGk-unsplash.jpg" width="640"></a></p><p>To give your website a modern look , you decide to add illustrations , but unfortunately you don't know how to make Illustrations and you google for illustrations , but chances are your site might be taken down under copyright infringement
So here are some websites where you can get Royalty Free Illustrations and Components to Add them to your Website or App
</p><ul>
<li>uidesigndaily.com</li>
<li>100dailyui.webflow.io</li>
<li>opendoodles.com</li>
<li>humaaans.com</li>
<li>products.ls.graphics</li>
<li>error404.fun</li>
<li>drawkit.io</li>
<li>absurd.design</li>
<li>undraw.co</li>
<li>manypixels.co</li>
<li>openpeeps.com</li>
<li>animaticons.co</li>
</ul></div>
</div></div>]]>
            </description>
            <link>https://www.dev-stuff.tech/2021/02/not-getting-royalty-free-illustrations.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26286169</guid>
            <pubDate>Sat, 27 Feb 2021 17:05:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Programming in Oberon ‚Äì A Tutorial [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26286057">thread link</a>) | @AlexeyBrin
<br/>
February 27, 2021 | https://people.inf.ethz.ch/wirth/Oberon/PIO.pdf | <a href="https://web.archive.org/web/*/https://people.inf.ethz.ch/wirth/Oberon/PIO.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://people.inf.ethz.ch/wirth/Oberon/PIO.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26286057</guid>
            <pubDate>Sat, 27 Feb 2021 16:53:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A single cell slime mold makes decisions without a central nervous system]]>
            </title>
            <description>
<![CDATA[
Score 159 | Comments 68 (<a href="https://news.ycombinator.com/item?id=26285926">thread link</a>) | @gmays
<br/>
February 27, 2021 | https://www.tum.de/nc/en/about-tum/news/press-releases/details/36462/ | <a href="https://web.archive.org/web/*/https://www.tum.de/nc/en/about-tum/news/press-releases/details/36462/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<div id="c49300"><figure><img title="Prof. Dr. Karen Alim in ihrem Labor" alt="Prof. Dr. Karen Alim in ihrem Labor" src="https://www.tum.de/fileadmin/_processed_/f/7/csm_2102xx_Karen_Alim_lab_2100_60155babf1.jpg" width="1280" height="540"><figcaption>
				
					Prof. Dr. Karen Alim in her laboratory.
				
				<p><span>
					
						Image: Bilderfest / TUM
					
				</span></p></figcaption></figure><div><div><article itemscope="itemscope" itemtype="http://schema.org/Article"><header><p itemprop="description">
					Having a memory of past events enables us to take smarter decisions about the future. Researchers at the Max-Planck Institute for Dynamics and Self-Organization (MPI-DS) and the Technical University of Munich (TUM) have now identified how the slime mold Physarum polycephalum saves memories ‚Äì although it has no nervous system.
				</p></header><section><p>The ability to store and recover information gives an organism a clear advantage when searching for food or avoiding harmful environments. Traditionally it has been attributed to organisms that have a nervous system.</p><p>A new study authored by Mirna Kramar (MPI-DS) and <a href="https://www.professoren.tum.de/en/alim-karen" title="Profile of Prof. Dr. Karen Alim" target="_blank">Prof. Karen Alim</a> (TUM and MPI-DS) challenges this view by uncovering the surprising abilities of a highly dynamic, single-celled organism to store and retrieve information about its environment.</p><div id="c62766"><div><div><p>The slime mold Physarum polycephalum has been puzzling researchers for many decades. Existing at the crossroads between the kingdoms of animals, plants and fungi, this unique organism provides insight into the early evolutionary history of eukaryotes ‚Äì to which also humans belong.</p><p>Its body is a giant single cell made up of interconnected tubes that form intricate networks. This single amoeba-like cell may stretch several centimeters or even meters, featuring as the largest cell on earth in the Guinness Book of World Records.</p></div></div></div><div id="c62767"><div><div><p>‚ÄúIt is very exciting when a project develops from a simple experimental observation‚Äù, says Karen Alim, head of the Biological Physics and Morphogenesis group at the MPI-DS in G√∂ttingen and professor for the <a href="http://www.bpm.ph.tum.de/" target="_blank">Theory of Biological Networks</a> at the Technical University of Munich.</p><p>When the researchers followed the migration and feeding process of the organism and observed a distinct imprint of a food source on the pattern of thicker and thinner tubes of the network long after feeding.</p><p>‚ÄúGiven P. polycephalum's highly dynamic network reorganization, the persistence of this imprint sparked the idea that the network architecture itself could serve as memory of the past‚Äú, says Karen Alim. However, they first needed to explain the mechanism behind the imprint formation.</p></div></div></div><div id="c62768"><div><div><p>For this purpose the researchers combined microscopic observations of the adaption of the tubular network with theoretical modeling. An encounter with food triggers the release of a chemical that travels from the location where food was found throughout the organism and softens the tubes in the network, making the whole organism reorient its migration towards the food.</p><p>‚ÄúThe gradual softening is where the existing imprints of previous food sources come into play and where information is stored and retrieved‚Äù, says first author Mirna Kramar. ‚ÄúPast feeding events are embedded in the hierarchy of tube diameters, specifically in the arrangement of thick and thin tubes in the network.‚Äù</p><p>‚ÄúFor the softening chemical that is now transported, the thick tubes in the network act as highways in traffic networks, enabling quick transport across the whole organism‚Äù, adds Mirna Kramar. ‚ÄúPrevious encounters imprinted in the network architecture thus weigh into the decision about the future direction of migration.‚Äù</p></div></div></div><div id="c62769"><div><div><p>‚ÄûGiven the simplicity of this living network, the ability of Physarum to form memories is intriguing. It is remarkable that the organism relies on such a simple mechanism and yet controls it in such a fine-tuned manner,‚Äù says Karen Alim.</p><p>‚ÄúThese results present an important piece of the puzzle in understanding the behavior of this ancient organism and at the same time points to universal principles underlying behavior. We envision potential applications of our findings in designing smart materials and building soft robots that navigate through complex environments‚Äù, concludes Karen Alim.</p></div></div></div><div><div><div><h3>
		Corporate Communications Center
	</h3></div></div></div><section></section></section></article></div></div><section><h2>
			Article at tum.de
		</h2><div><div><article><a title="ERC supports pioneering research projects at TUM" href="https://www.tum.de/en/about-tum/news/press-releases/details/36230-1/"><figure><img alt="Schleimpilz Physarum polycephalum" src="https://www.tum.de/fileadmin/_processed_/f/b/csm_Physarum_polycephalum_2100_6fd9eb4a44.jpg" width="1280" height="720" title="Physarum polycephalum ERC Grants"><figcaption></figcaption></figure></a><header><h2><a title="ERC supports pioneering research projects at TUM" href="https://www.tum.de/en/about-tum/news/press-releases/details/36230-1/">
						ERC supports pioneering research projects at TUM
					</a></h2><p>
					
						From new methods for examining individual cells, physical basics of the reactions of vascular systems and the development of better prognostic methods for osteoporosis to intelligent tools for urban planning and the...
				</p></header></article></div></div></section><!-- news uid 36459 --></div>


				
			</div></div>]]>
            </description>
            <link>https://www.tum.de/nc/en/about-tum/news/press-releases/details/36462/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26285926</guid>
            <pubDate>Sat, 27 Feb 2021 16:37:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[If Sapiens were a blog post]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26285624">thread link</a>) | @aleyan
<br/>
February 27, 2021 | https://neilkakkar.com/sapiens.html | <a href="https://web.archive.org/web/*/https://neilkakkar.com/sapiens.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <map name="image-map">
    <area alt="Taming fire" title="Development of Brains" href="#development-of-brains" coords="0,77,115,77,80,150,0,150" shape="poly">
    <area alt="cognitive revolution" title="Cognitive Revolution" href="#cognitive-revolution" coords="115,77,230,77,195,150,80,150" shape="poly">
    <area alt="agriculture revolution" title="Agricultural Revolution" href="#agricultural-revolution" coords="230,77,345,77,310,150,195,150" shape="poly">
    <area alt="unificiation" title="Unification of Humanity" href="#unification-of-humankind" coords="345,77,460,77,415,150,310,150" shape="poly">
    <area alt="scientific revolution" title="Scientific Revolution" href="#scientific-revolution" coords="460,77,575,77,520,150,415,150" shape="poly">
    <area alt="industrial revolution" title="Industrial Revolution" href="#industrial-revolution" coords="575,77,690,77,635,150,540,150" shape="poly">
    <area alt="present" title="The Present" href="#the-end-of-homo-sapiens" coords="690,77,805,77,750,150,655,150" shape="poly">
</map>

<figure>
    
        <a target="_blank" href="https://amzn.to/2WWNsjq" rel="noopener">
    
    <img src="https://neilkakkar.com/assets/images/sapiens.jpg" alt="">
    
        </a>
    
    
    
</figure>

<p>I spent over 25 hours building a cut-down version of Sapiens. The goal? Future-me should be happy to read this once future-me forgets how we evolved. It‚Äôs massive for a blog post, just under 30 minutes, but that‚Äôs the best I could do, condensing 9 hours worth of material.</p>

<p>I‚Äôve tried to keep editing to a minimum: It‚Äôs the original text, edited to ensure it still flows like the book.</p>

<p>You can get the book <a href="https://amzn.to/2WWNsjq" target="_blank" rel="noopener">here</a><sup id="fnref:2"><a href="#fn:2">1</a></sup></p>

<!-- 1: An Animal of No Significance -->

<p>The best way of navigating is clicking on the images. These are best experienced on a tablet or a laptop. I‚Äôve also included the table of contents, which work well on every screen size.</p>





<nav>

  <h4>Table of Contents</h4>

<ul id="markdown-toc">
  <li><a href="#development-of-brains" id="markdown-toc-development-of-brains">Development of brains</a></li>
  <li><a href="#cognitive-revolution" id="markdown-toc-cognitive-revolution">Cognitive Revolution</a></li>
  <li>
<a href="#agricultural-revolution" id="markdown-toc-agricultural-revolution">Agricultural Revolution</a>    <ul>
      <li>
<a href="#imagined-realities---solving-the-co-ordination-problem" id="markdown-toc-imagined-realities---solving-the-co-ordination-problem">Imagined Realities - Solving the co-ordination problem</a>        <ul>
          <li><a href="#the-imagined-order-is-embedded-in-the-material-world" id="markdown-toc-the-imagined-order-is-embedded-in-the-material-world"><strong>The imagined order is embedded in the material world.</strong></a></li>
          <li><a href="#the-imagined-order-shapes-our-desires" id="markdown-toc-the-imagined-order-shapes-our-desires"><strong>The imagined order shapes our desires.</strong></a></li>
          <li><a href="#the-imagined-order-is-inter-subjective" id="markdown-toc-the-imagined-order-is-inter-subjective"><strong>The imagined order is inter-subjective.</strong></a></li>
        </ul>
      </li>
      <li><a href="#preserving-the-imagined-reality" id="markdown-toc-preserving-the-imagined-reality">Preserving the imagined reality</a></li>
      <li><a href="#more-individual-suffering" id="markdown-toc-more-individual-suffering">More individual suffering</a></li>
    </ul>
  </li>
  <li>
<a href="#unification-of-humankind" id="markdown-toc-unification-of-humankind">Unification of Humankind</a>    <ul>
      <li>
<a href="#money" id="markdown-toc-money">Money</a>        <ul>
          <li><a href="#how-money-works" id="markdown-toc-how-money-works">How Money Works</a></li>
          <li><a href="#proliferation-of-gold" id="markdown-toc-proliferation-of-gold">Proliferation of gold</a></li>
        </ul>
      </li>
      <li>
<a href="#empires" id="markdown-toc-empires">Empires</a>        <ul>
          <li><a href="#the-imperial-cycle" id="markdown-toc-the-imperial-cycle">The Imperial Cycle</a></li>
        </ul>
      </li>
      <li>
<a href="#religion" id="markdown-toc-religion">Religion</a>        <ul>
          <li><a href="#battle-between-good-and-evil-for-monotheism" id="markdown-toc-battle-between-good-and-evil-for-monotheism">Battle between good and evil for monotheism</a></li>
          <li><a href="#towards-principles-other-than-god" id="markdown-toc-towards-principles-other-than-god">Towards principles other than god</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
<a href="#scientific-revolution" id="markdown-toc-scientific-revolution">Scientific Revolution</a>    <ul>
      <li><a href="#imperialism-and-science" id="markdown-toc-imperialism-and-science">Imperialism and science</a></li>
      <li><a href="#capitalism-and-science" id="markdown-toc-capitalism-and-science">Capitalism and science</a></li>
    </ul>
  </li>
  <li>
<a href="#industrial-revolution" id="markdown-toc-industrial-revolution">Industrial Revolution</a>    <ul>
      <li>
<a href="#aftereffects-of-industry" id="markdown-toc-aftereffects-of-industry">Aftereffects of Industry</a>        <ul>
          <li><a href="#collapse-of-family" id="markdown-toc-collapse-of-family">Collapse of family</a></li>
          <li><a href="#movement-from-war-to-peace" id="markdown-toc-movement-from-war-to-peace">Movement from war to peace</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#the-end-of-homo-sapiens" id="markdown-toc-the-end-of-homo-sapiens">The End of Homo Sapiens</a></li>
</ul>

</nav>

<!-- works only once jQuery is loaded -->


<h2 id="development-of-brains">Development of brains</h2>

<figure>
    
    <img src="https://neilkakkar.com/assets/images/sapiens-timeline-1.jpg" alt="" usemap="#image-map">
    
    
    
</figure>

<p>What caused our brains to develop? We‚Äôre not sure.</p>

<p>It doesn‚Äôt seem likely. A larger brain needs more energy and thus reduces the chance you‚Äôll survive. Getting more energy meant hunting more.</p>

<p>One contributing factor was the domestication of fire. Fire paved the way for cooking.</p>

<p>Whereas chimpanzees spend 5 hours a day chewing raw food, a single hour suffices for people eating cooked food. The advent of cooking enabled humans to eat more kinds of food, to devote less time to eating, and to make do with smaller teeth and shorter intestines. Some scholars believe there is a direct link between the advent of cooking, the shortening of the human intestinal track, and the growth of the human brain. Since long intestines and large brains are both massive energy consumers, it‚Äôs hard to have both. By shortening the intestines and decreasing their energy consumption, cooking inadvertently opened the way to the jumbo brains.</p>

<p>And, we weren‚Äôt alone. Competing with us were the Neanderthals, among other species. They were stronger, they had bigger brains, and they could survive the cold. How come, then, did we ‚Äúwin‚Äù?</p>

<p>We aren‚Äôt sure. The most likely answer is the very thing that makes the debate possible: Homo sapiens conquered the world thanks above all to its unique language.</p>

<h2 id="cognitive-revolution">Cognitive Revolution</h2>

<figure>
    
    <img src="https://neilkakkar.com/assets/images/sapiens-timeline-2.jpg" alt="" usemap="#image-map">
    
    
    
</figure>

<p>The appearance of new ways of thinking and communicating, between 70,000 and 30,000 years ago, constitutes the Cognitive Revolution. What caused it? We‚Äôre not sure. The most commonly believed theory argues that accidental genetic mutations changed the inner wiring of the brains of Sapiens, enabling them to think in unprecedented ways and to communicate using a new type of language. We might call it the Tree of Knowledge mutation.</p>

<!-- 
> All new humans are improvements over the past?
> As in, the de facto keeps rising.

>These mutated humans were praised for their initiative and were more successful
>Till everyone became like this and then even more better humans were praised and the previous became the normal -->

<p>What‚Äôs special about our language?</p>

<p>Our language is amazingly supple. We can connect a limited number of sounds and signs to produce an infinite number of sentences, each with a distinct meaning. We can thereby ingest, store and communicate a prodigious amount of information about the surrounding world. A monkey can yell to its comrades, ‚ÄòCareful! A lion!‚Äô But a modern human can tell her friends that this morning, near the bend in the river, she saw a lion tracking a herd of bison. She can then describe the exact location, including the different paths leading to the area. With this information, the members of her band can put their heads together and discuss whether they ought to approach the river in order to chase away the lion and hunt the bison.</p>

<!-- Most likely, both the gossip theory (who can be trusted and who can't) and the there-is-a-lion-near-the-river theory are valid.  -->

<p>Yet the truly unique feature of our language is not its ability to transmit information about men and lions. Rather, it‚Äôs the ability to transmit information about things that do not exist at all. As far as we know, only Sapiens can talk about entire kinds of entities that they have never seen, touched or smelled.</p>

<!-- The alpha male usually wins his position not because he is physically stronger, but because he leads a large and stable coalition -->

<p>Using language, lots of humans could work together, form a tribe, help each other, and hunt together.</p>

<p>However, communicating with lots of people brings with it new co-ordination problems. The critical threshold for a group interacting together is 150 people.</p>

<!-- But once the threshold of 150 individuals is crossed, things can no longer work that way. You cannot run a division with thousands of soldiers the same way you run a platoon. Successful family businesses usually face a crisis when they grow larger and hire more personnel. If they cannot reinvent themselves, they go bust.  -->

<p>How did Homo sapiens manage to cross this critical threshold, eventually founding cities comprising tens of thousands of inhabitants and empires ruling hundreds of millions? The secret was probably the appearance of fiction. Large numbers of strangers can cooperate successfully by believing in common myths. This is an imagined reality.</p>

<!-- Ever since the Cognitive Revolution, Sapiens has thus been living in a dual reality. On the one hand, the objective reality of rivers, trees and lions; and on the other hand, the imagined reality of gods, nations and corporations.  -->

<!-- As time went by, the imagined reality became ever more powerful, so that today the very survival of rivers, trees and lions depends on the grace of imagined entities such as gods, nations and corporations. -->

<p>Unlike lying, an imagined reality is something that everyone believes in, and as long as this communal belief persists, the imagined reality exerts force in the world.</p>

<p>In other words, while the behaviour patterns of archaic humans remained fixed for tens of thousands of years, Sapiens could transform their social structures, the nature of their interpersonal relations, their economic activities and a host of other behaviours within a decade or two.</p>

<!-- > Because of the cognitive Revolution and the introduction of imagined reality -->

<p>For example, consider trade. Trade cannot exist without trust, and it is very difficult to trust strangers. The global trade network of today is based on our trust in such fictional entities as the dollar, the Federal Reserve Bank, and the totemic trademarks of corporations. When two strangers in a tribal society want to trade, they will often establish trust by appealing to a common god, mythical ancestor or totem animal.</p>

<!-- One on one, even ten on ten, we are embarrassingly similar to chimpanzees. Significant differences begin to appear only when we cross the threshold of 150 individuals, and when we reach 1,000‚Äì2,000 individuals, the differences are astounding -->

<!-- The real difference between us and chimpanzees is the mythical glue that binds together large numbers of individuals, families and groups. This glue has made us the masters of creation. -->

<p>Our Tree of Knowledge mutation was significant. However, it‚Äôs not just our biology that brought us where we are today.</p>

<ol>
  <li>
    <p>Biology sets the basic parameters for the behaviour and capacities of Homo sapiens. The whole of history takes place within the bounds of this biological arena.</p>
  </li>
  <li>
    <p>This arena is extraordinarily large, allowing Sapiens to play an astounding variety of games. Thanks to their ability to invent fiction, Sapiens create more and more complex games, which each generation develops and elaborates even further</p>
  </li>
  <li>
    <p>Consequently, in order to understand how Sapiens behave, we must describe the historical evolution of their actions.</p>
  </li>
</ol>

<!-- Referring only to our biological constraints would be like a radio sports-caster who, attending the World Cup football championships, offers his listeners a detailed description of the playing field rather than an account of what the players are doing. -->

<!-- There is some evidence that the size of the average Sapiens brain has actually decreased since the age of foraging. Survival in that era required superb mental abilities from everyone. When agriculture and industry came along people could increasingly rely on the skills of others for survival, and new ‚Äòniches for imbeciles‚Äô were opened up. You could survive and pass your unremarkable genes to the next generation by working as a water carrier or an assembly-line worker. -->

<h2 id="agricultural-revolution">Agricultural Revolution</h2>

<figure>
    
    <img src="https://neilkakkar.com/assets/images/sapiens-timeline-3.jpg" alt="" usemap="#image-map">
    
    
    
</figure>

<p>The currency of evolution is neither hunger nor pain, but rather copies of DNA helixes. Just as the economic success of a company is measured only by the number of dollars in its bank account, not by the happiness of its employees, so the evolutionary success of a species is measured by the number of copies of its DNA. If no more DNA copies remain, the species is extinct, just as a company without money is bankrupt. If a species boasts many DNA copies, it is a success, and the species flourishes. From such a perspective, 1,000 copies are always better than a hundred copies. This is the essence of the Agricultural Revolution: the ability to keep more people alive under worse conditions.</p>

<p>Rather than heralding a new era of easy living, the Agricultural Revolution left farmers with lives generally more difficult and less satisfying than those of foragers. Hunter-gatherers spent their time in more stimulating and varied ways, and were less in danger of starvation and disease. The Agricultural Revolution certainly enlarged the sum total of food at the disposal of humankind, but the extra food did not translate into a better diet or more leisure. Rather, it translated into population explosions and pampered elites. The average farmer worked harder than the average forager, and got a worse diet in return. The Agricultural Revolution was history‚Äôs biggest fraud.</p>

<!-- > The average person in Jericho of 8500 BC lived a harder life than the average person in Jericho of 9500 BC or 13,000 BC. But nobody realised what was happening. Every generation continued to live like the previous generation, making only small improvements here and there in the way things were done. Paradoxically, a series of ‚Äòimprovements‚Äô, each of which was meant to make life easier, added up to a millstone around the necks of these farmers -->
<!-- 
--- Way of life being lost over generations
    Like with the foundation.
    Also short sightedness.
    As, working harder here meant more food => can better feed children => even more people exist => You're back where you started, except you're working harder.
 -->

<p>Compared to foraging, working a bit harder on the farm meant more food. Settling down on the farm also meant greater freedom to reproduce - you‚Äôre not travelling all the time, so you can afford to have more children. This in turn, meant a higher population. And a higher population meant higher food requirements. Thus, the farmers were forced to work even harder.</p>

<p>Why didn‚Äôt humans abandon farming when the plan backfired? Partly because it took generations for the small changes to accumulate and transform society and, by then, nobody remembered that they had ever lived differently. And partly because population growth burned humanity‚Äôs boats. If the adoption of ploughing increased a village‚Äôs population from a hundred to 110, which ten people would have volunteered to starve so that the others could go back to the good old times? There was no going back. The trap snapped shut.</p>

<blockquote>
  <p>One of history‚Äôs few iron laws is that luxuries tend to become necessities and spawn new obligations</p>
</blockquote>

<p>This discrepancy between evolutionary success and individual suffering is perhaps the most important lesson we can draw from the Agricultural Revolution. When we study the narrative of plants such as wheat and maize, maybe the purely evolutionary perspective makes sense. Yet in the case of animals such as cattle, sheep and Sapiens, each with a complex world of sensations and emotions, we have to consider how evolutionary success translates into individual experience.</p>

<!-- In the following chapters we will see time and again how a dramatic increase in the collective power and ostensible success of our species went hand in hand with much individual suffering. -->

<!-- How the agricultural revolution led to individual suffering -> -->

<!-- 6: Building Pyramids -->

<!-- This was a far-reaching revolution, whose impact was psychological as much as architectural. Henceforth, attachment to ‚Äòmy house‚Äô and separation from the neighbours became the psychological hallmark of a much more self-centered creature. -->

<h3 id="imagined-realities---solving-the-co-ordination-problem">Imagined Realities - Solving the co-ordination problem</h3>

<p>According to the science of biology, people were not ‚Äòcreated‚Äô. They have evolved. And they certainly did not evolve to be ‚Äòequal‚Äô. The idea of equality is inextricably intertwined with the idea of creation.</p>

<p>A natural order is a stable order. There is no chance that gravity will cease to function tomorrow, even if people stop believing in it. In contrast, an imagined order is always in danger of collapse, because it depends upon myths, and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://neilkakkar.com/sapiens.html">https://neilkakkar.com/sapiens.html</a></em></p>]]>
            </description>
            <link>https://neilkakkar.com/sapiens.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26285624</guid>
            <pubDate>Sat, 27 Feb 2021 15:57:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Taxing Families Like Companies]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 91 (<a href="https://news.ycombinator.com/item?id=26285606">thread link</a>) | @mooreds
<br/>
February 27, 2021 | https://americancompass.org/the-commons/taxing-families-like-companies/ | <a href="https://web.archive.org/web/*/https://americancompass.org/the-commons/taxing-families-like-companies/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
<div>
  <p>Sign up to receive The Commons posts in your inbox.</p>
  
</div>
<div>
    
  <div>
    <p><img data-src="https://americancompass.org/wp-content/uploads/2021/02/stellrweb-djb1whucfBY-unsplash-scaled.jpg" src="https://americancompass.org/wp-content/uploads/2021/02/stellrweb-djb1whucfBY-unsplash-scaled.jpg"></p><p><em>[Note: This post is from the policy forum <a href="https://americancompass.org/essays/7-proposals-to-make-america-more-family-friendly/">7 Proposals to Make America More Family-Friendly</a>.]</em></p>
<p>If families are people, and corporations are people, it stands to reason that families should be allowed to incorporate and file their taxes accordingly.</p>
<p>The benefits to incorporating are fairly obvious: corporations are taxed on their net income, and they enjoy a lower tax rate. Families, on the other hand, pay taxes on their revenue. And while families enjoy a few miscellaneous deductions and credits, they largely miss out on the good stuff. Corporations get to deduct nearly all capital expenditures; families receive no direct tax benefit for feeding their kids, purchasing clothes, buying a minivan, filling that minivan with unleaded, homeschooling or other education expenses, fixing a furnace, upgrading technology, or even moving to a safer neighborhood. If a corporation can demonstrate a net loss on the year, even due to its own aggressive spending habits, it doesn‚Äôt pay taxes. If a family loses money, the tax code doesn‚Äôt care.<span id="more-3557"></span></p>
<p>As a result, families pay a disproportionate share of federal tax receipts. In <a href="https://www.irs.gov/pub/irs-pdf/p55b.pdf">2019</a>, individuals paid just under 70 percent of all federal taxes, while corporations paid just 25 percent. Take payroll taxes out of the equation, and those numbers become even more lopsided: individuals paid nearly $1.6 trillion to the federal government while corporations paid about $226 billion.</p>
<p>This is not to suggest that corporations should be taxed on their revenue, or that we should dramatically increase corporate taxes. Lower taxes and reduced regulatory burdens can, at least in theory, encourage capital formation. So if Republicans are so eager to pass a $1.7 trillion, unfunded corporate tax cut on the belief that it would spur business investment, as they did in 2017, shouldn‚Äôt they be willing to consider a similar approach to other forms of capital formation‚Äînamely, human capital formation?</p>
<p>We are in the midst of a fertility crisis, which only worsened during the COVID-19 pandemic. The U.S. has already reached an all-time-low fertility rate of 1.71 births per woman, and Brookings estimates that there will be a ‚Äú<a href="https://www.brookings.edu/research/half-a-million-fewer-children-the-coming-covid-baby-bust/">baby bust</a>‚Äù in 2021 of at least 300,000 fewer American births. The long-term effects of such a decline in human capital would be far-reaching. Shrinking populations don‚Äôt often lend themselves to growing economies.</p>
<p>Financial pressures are one of the main, addressable sources of the crisis. As American Compass‚Äôs recent Home Building Survey <a href="https://americancompass.org/essays/home-building-survey-part-1/">showed</a>, half of parenting-age adults want more children than they currently have. And for all but the most well-off, these parents cite the inability to afford more children as the primary reason for this deficit.</p>
<p>If we were to find a similar impediment to the formation or growth of American businesses, wouldn‚Äôt we do something about it? Wouldn‚Äôt we have done something already?</p>
<p>We could create new deductions or expand existing credits to attempt to level the playing field between corporations and families. Options include: boosting the Child Tax Credit, reworking the Earned Income Tax Credit, extending the Child and Dependent Care Tax Credit beyond two dependents or above the current $6,000 cap, or even expanding the scope of 529 savings accounts to include all K-12 schooling options.</p>
<p>Or, we could go big and allow families access to the same tax treatment that Amazon and General Electric enjoy. Instead of a Child Tax Credit, let families write off their grocery bills. Instead of deductions for mortgage interest that only kick in if tax filers earn enough income to itemize, let families deduct all housing costs. Instead of an inadequate childcare deduction, let families deduct the entire expense. Why not? Families are corporations, my friend.</p>
<p>For decades, supply-side ideology has led Republicans to cut taxes and regulation on behalf of corporations. Now, as financial pressures constrain the supply of future Americans, we should embrace supply-side <em>oikonomics</em> and let families incorporate.</p>
    <p><a href="https://americancompass.org/the-commons/">Return to the Commons</a>
  </p></div>
  <div>
    <div>
      <p><img src="https://americancompass.org/wp-content/uploads/2021/02/Schweppe_Headshot-150x150.jpg" width="96" height="96" alt="Jon Schweppe"></p><div>
        
        <p>Jon Schweppe is the director of policy and government affairs at American Principles Project.</p>
                
              </div>
    </div>
  </div>
    
</div>
<p>
  <h3>Related Posts</h3>
</p>
<section>
    <div>
    <h5><a href="https://americancompass.org/the-commons/let-them-eat-daycare/">Let Them Eat Daycare</a></h5>
    
    <p>Our policy debates center on helping working families, but they routinely fail to capture those families‚Äô preferences for their own lives or for policies that would help them most. Proposals most useful to households with all adults in the workforce, like subsidized childcare or paid leave, often receive far more attention from policymakers and pundits [‚Ä¶]</p>
  </div>
    <div>
    <h5><a href="https://americancompass.org/the-commons/dont-federalize-family-policy/">Don‚Äôt Federalize Family Policy</a></h5>
    
    <p>[Note: This comment is from a&nbsp;series of responses&nbsp;to the proposal for a&nbsp;Family Income Supplemental Credit.] Although this is a response to the interesting and compelling Family Income Supplemental Credit (Fisc) proposal by Oren Cass and Wells King, it is meant, more broadly, to engage with those on the political right who argue for more forcefully [‚Ä¶]</p>
  </div>
  </section>
        
      </div></div>]]>
            </description>
            <link>https://americancompass.org/the-commons/taxing-families-like-companies/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26285606</guid>
            <pubDate>Sat, 27 Feb 2021 15:54:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Expert Blind Spot in Software Development]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26285182">thread link</a>) | @guptarohit
<br/>
February 27, 2021 | https://thevaluable.dev/expert-blind-spot-software-development/ | <a href="https://web.archive.org/web/*/https://thevaluable.dev/expert-blind-spot-software-development/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>
        

        <section>
            
                <picture>
                    
                        <source srcset="https://thevaluable.dev/images/2020/expert-blind-spot/expert-knowledge.webp" type="image/webp">
                    
                    <img src="https://thevaluable.dev/images/2020/expert-blind-spot/expert-knowledge.jpg" alt="learning involve the working memory">
                </picture>
            

            <p>Once upon a time, in the Fabulous Land of Web Shops Where Rivers Are Made of Honey, there was me, fresh and young PHP developer with little experience, and my colleague and team leader, who was in the industry for 10 years.</p>
<p>It was the evening, at the office. I was pretty tired, but we had to develop a backend for an important client quickly, as always. I was in charge to develop a part of it.</p>
<p>My team leader was full of passion, agitating a weird diagram full of boxes and arrows:</p>
<p>‚ÄúHere‚Äôs my idea. We should first create two interfaces, put two decorators here and maybe three factories above; we need the system to be flexible as much as we can, the client expect to keep his backend for 20 years!‚Äù.</p>
<p>My knowledge in design pattern was pretty poor at that time; heck, I even had difficulty to understand the difference between inheritance and composition. I was looking at his schema like Champollion might have looked at the <a href="https://en.wikipedia.org/wiki/Rosetta_Stone" target="_blank" rel="noopener">Rosetta Stone</a> for the first time, bringing more questions than answer.</p>
<p>Speaking of questions, they were first flowing from my mouth: what‚Äôs a decorator? Why do we create interfaces? Why this factory, there? The explanations brought even more complex concepts I couldn‚Äôt really grasp either. The <a href="https://thevaluable.dev/programmer-stress-causes/">stress of the impostor syndrome</a> was beginning to kick in heavily. I was a fraud, a newbie who wanted to play in the gods‚Äô playground.</p>
<p>My brain was boiling.  Sweat was pearling on my forehead. My confusion was growing proportionally to the amount of explanation given. The cleaning lady began to turn on her vacuum cleaner. I gave up, said yes to everything and went home.</p>
<p>As you might expect, the project didn‚Äôt go well. My team leader reproached me not to ask enough question for me to understand. Apparently, I wasn‚Äôt helping them enough to teach me correctly.</p>
<p>Why was that? I didn‚Äôt understand what was happening, but I swear to the Twelve Gods that I would remember this experience not to reproduce it. I wanted to be a better mentor when it would be my turn to be the Senior Ninja Developer of the Wizardry Crown explaining magic tricks to my apprentices.</p>
<p>At the same time, I knew that my team leader was not the only one responsible for my confusion. I was, too, and maybe even more than him. This lead me to another quest: <a href="https://thevaluable.dev/learning-developer-efficiently-effectively/">learning how to learn</a>.</p>
<p>Years forward, a miracle happened. I stumbled upon the theory of the expert blind spot, finally explaining partly what happened on this cursed project.</p>
<p>Why do I bother you with my life, you might wonder? As developers, we inevitably work with other developers who don‚Äôt know everything. It‚Äôs important to know how to share our knowledge.</p>
<p>Teaching is one of the best way of testing yourself that you understood what you‚Äôve learned; teaching and learning are tightly linked. Doing it well will increase your understanding of any subject and, therefore, your level of expertise.</p>










  
  
  
  





  


<blockquote>
  <p>While we teach, we learn.</p>
  
</blockquote>

<p>However, to teach well, we need to understand and avoid the <em>expert blind spot</em>. This might begin to explain why, in my experience, good developers are not necessarily good teacher.</p>
<p>This article will specifically speak about teaching from a person to another. I believe that things are a bit different when you try to learn by yourself with a book, for example.</p>
<p>Here‚Äôs the menu for today:</p>
<ul>
<li>First, I‚Äôll explain what‚Äôs the expert blind spot.</li>
<li>Second, we will speak about the cognitive load theory in general, how understanding and learning work, and why the expert blind spot is a consequence of our learning process.</li>
<li>Finally, I‚Äôll speak about principles as well as actionable solutions to avoid the filthy expert blind spot.</li>
</ul>
<p>Now, it‚Äôs time to embark together in this fabulous journey!</p>
<h2 id="whats-the-expert-blind-spot">What‚Äôs the Expert Blind Spot?</h2>
<h3 id="definition">Definition</h3>
<p>To answer what‚Äôs the expert blind spot, we shall first define what‚Äôs an expert is, to be sure we agree on the semantic of the key terms. From the <a href="https://www.oxfordlearnersdictionaries.com/definition/american_english/expert_1" target="_blank" rel="noopener">Oxford Dictionary</a>:</p>
<blockquote>
<p>A person with special knowledge, skill, or training in something.</p>
</blockquote>
<p>Beyond the obvious, I like to define expert as well as somebody who knows what he doesn‚Äôt know, as mentioned in the <a href="https://en.wikipedia.org/wiki/Dunning%E2%80%93Kruger_effect" target="_blank" rel="noopener">Dunning-Kruger effect</a>.</p>
<p>According to this theory, a beginner has often a lot of confidence about his own knowledge and skills, because he‚Äôs not aware about what he doesn‚Äôt know. Thus, he thinks he knows a lot. This is called illusion of competence.</p>
<p>More you become skilled and knowledgeable, more you‚Äôll know what you need to focus on to increase your expertise.</p>










  
  
  
  





  


<blockquote>
  <p>We live on an island surrounded by a sea of ignorance. As our island of knowledge grows, so does the shore of our ignorance.</p>
  
</blockquote>

<p>Even if an expert is more aware about what he doesn‚Äôt know, he‚Äôs not necessarily aware about what he knows <em>in details</em>. This sound pretty weird, but it‚Äôs exactly what the expert blind spot is.</p>
<p>Even if he forgot the details of what he knows, our expert can still apply his knowledge to perform tasks, but he will only use a <a href="https://thevaluable.dev/abstraction-software-development/">higher level of abstractions</a> of it.</p>
<h3 id="the-problem">The Problem</h3>
<p>If an expert can still use the knowledge he‚Äôs not entirely aware of anymore, why is it a problem, you might ask, rightfully?</p>
<p>A developer, explaining to a beginner his knowledge, will brush away everything he‚Äôs not consciously aware of anymore. The learner, even if he needs this hidden knowledge to understand and learn the whole concept, won‚Äôt be able to access it. Thus, he won‚Äôt understand.</p>
<p>As a result, the expert won‚Äôt understand why the beginner doesn‚Äôt understand. After all, for the expert, the concept is obvious.</p>
<p>The learner, on the other side, won‚Äôt be able to ask the good questions, since he‚Äôs not aware about what he doesn‚Äôt know. This brings us back to the lengthy story I was narrating in the introduction.</p>
<p>Even worst: the beginner might <em>misunderstand</em> what the expert try to teach without even knowing it. Absence of knowledge is better than misconceptions, which are the <a href="https://psmag.com/social-justice/confident-idiots-92793" target="_blank" rel="noopener">basis of ignorance</a>.</p>
<h2 id="why-on-earth-there-is-such-a-thing-as-the-expert-blind-spots">Why On Earth There Is Such a Thing as the Expert Blind Spots?</h2>
<p>Researches on cognitive learning show us why there‚Äôs such a thing as the expert blind spot. First, we need to see how cognitive learning works.</p>
<h3 id="types-of-memories">Types of Memories</h3>
<p>According to the <a href="https://www.cese.nsw.gov.au/images/stories/PDF/cognitive-load-theory-VR_AA3.pdf" target="_blank" rel="noopener">cognitive load theory</a>, we have two types of memory: the working memory and the long term memory.</p>
<h4 id="the-working-memory">The Working Memory</h4>
<p>The working memory is very limited in space (we can only process 4 <em>elements of information</em> at the same time) and time (around 20s). These numbers can change from an individual to another.</p>
<p>You can use this memory to:</p>
<ul>
<li>Learn a new resource.</li>
<li>Perform a task.</li>
</ul>
<p>As you can imagine, problems pop up when you try to learn too much at the same time. Your working memory can‚Äôt process everything simultaneously, because of its limited space.</p>
<p>Similarly, when you perform a task, you need to <em>recall</em> what you have in your long term memory (what you learnt) in the working memory to do that task, with the same spatial constraints. That‚Äôs why <a href="https://thevaluable.dev/kiss-principle-explained/">simplicity is so important</a> in software development.</p>
<figure>
<picture>
    <source srcset="https://thevaluable.dev/images/2020/expert-blind-spot/learning.webp" type="image/webp">
    <img src="https://thevaluable.dev/images/2020/expert-blind-spot/learning.jpg" alt="Learning in the working memory">
</picture>
<figcaption>Attempt to learn the Linux pipe</figcaption>
</figure>

<h4 id="the-long-term-memory">The Long Term Memory</h4>
<p>When you learn a new resource using effective learning methods, what‚Äôs in your working memory will go in your long term memory. To do so, you need to <em>understand</em> the knowledge you‚Äôre trying to process.</p>
<p>To understand, you need to have every <em>piece of information</em> required in your working memory. From there, you‚Äôll create <em>schemata</em> (plural of schema, if you wonder) in your long term memory to organize this knowledge.</p>
<p>Later, you can use your new schemata to perform a task.</p>
<figure>
<picture>
    <source srcset="https://thevaluable.dev/images/2020/expert-blind-spot/understanding.webp" type="image/webp">
    <img src="https://thevaluable.dev/images/2020/expert-blind-spot/understanding.jpg" alt="Understand in the working memory and long term memory">
</picture>
<figcaption>Understanding the Linux pipe thanks to new pieces of information and prior knowledge of the command line.</figcaption>
</figure>

<h3 id="pieces-of-information-and-chunking">Pieces of information and Chunking</h3>
<p>We didn‚Äôt define what a <em>piece of information</em> is. Each of them will occupy one spot in your working memory. The content itself will depend on what is learned and who‚Äôs learning it.</p>
<p>What‚Äôs in your long term memory are layers of schemata abstracting one another. When performing a task, you need to reduce the number of schemata you bring back to your working memory not to overload it.</p>
<p>Let‚Äôs take an example. Carl, your colleague developer, is running a shiny Ubuntu in his powerful laptop. He wants to know how many files, with names beginning with a ‚Äúz‚Äù, are in a folder.</p>
<p>In my example, you are the famous command line expert of the whole company. Naturally, because of your extreme empathy and your out-of-this-world generosity, you come to help to solve his problem.</p>
<p>‚ÄúHey Carl!‚Äù, you said, in the most friendly tone a human can produce. ‚ÄúIt‚Äôs super easy! All you have to do is a good old <code>ls | grep "^z" | wc -l</code>. You see, you first run <code>ls</code>, you pipe with <code>grep</code>, <code>wc</code> and voil√†! Your dreams come true!‚Äù</p>
<p>However, Carl doesn‚Äôt have your knowledge. Raised in the comfortable and boring <a href="https://en.wikipedia.org/wiki/Graphical_user_interface" target="_blank" rel="noopener">GUI</a> world, he doesn‚Äôt understand anything of your magical skills. He knows <code>ls</code>, but he doesn‚Äôt understand what a pipe is, and he has an artificial understanding of regular expressions. What about <code>grep</code> and <code>wc</code>? He has no clue whatsoever.</p>
<p>Do you think he would understand your explanation? I‚Äôm doubtful too. When you type your command line, you don‚Äôt have to remind yourself (bring from your long term memory to your limited working memory) what a pipe is and how it works.
The whole concept is abstracted under the word <code>pipe</code> for you. You don‚Äôt need to even think about it. The concept is <em>automatically</em> applied to your task at hand.</p>
<p>Because of your expertise in the command line, you save space in your working memory. It reduces the mental energy you need to perform that task, too.</p>
<p>For Carl, things are different. To understand this command, he has to bring the concept of pipe into his working memory, what‚Äôs <code>grep</code>, what‚Äôs <code>wc</code>, how regular expressions work, and link all of that.</p>
<p>It‚Äôs a lot. Too much, even for a command which seems so trivial to you. Unfortunately, you have fallen into the expert blind ‚Ä¶</p></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thevaluable.dev/expert-blind-spot-software-development/">https://thevaluable.dev/expert-blind-spot-software-development/</a></em></p>]]>
            </description>
            <link>https://thevaluable.dev/expert-blind-spot-software-development/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26285182</guid>
            <pubDate>Sat, 27 Feb 2021 14:50:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Against Packaging Rust Crates]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26285171">thread link</a>) | @lukastyrychtr
<br/>
February 27, 2021 | https://fy.blackhats.net.au/blog/html/2021/02/16/against_packaging_rust_crates.html | <a href="https://web.archive.org/web/*/https://fy.blackhats.net.au/blog/html/2021/02/16/against_packaging_rust_crates.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="against-packaging-rust-crates">

<p>Recently the discussion has once again come up around the notion of packaging Rust crates as
libraries in distributions. For example, taking a library like <cite>serde</cite> and packaging it to
an RPM. While I use RPM as the examples here it applies equally to other formats.</p>
<p>Proponents of crate packaging want all Rust applications to use the ‚Äúdistributions‚Äù versions of a crate.
This is to prevent ‚Äúvendoring‚Äù or ‚Äúbundling‚Äù. This is where an
application (such as 389 Directory Server) ships all of it‚Äôs sources, as well as the sources of
it‚Äôs Rust dependencies in a single archive. These sources may differ in version from the bundled
sources of other applications.</p>
<div id="packaging-crates-is-not-reinventing-cargo">
<h2>‚ÄúPackaging crates is not reinventing Cargo‚Äù</h2>
<p>This is a common claim by advocates of crate packaging. However it is easily disproved:</p>
<p><em>If packaging is not reinventing cargo, I am free to use all of Cargo‚Äôs features without conflicts to distribution packaging.</em></p>
<p>The reality is that packaging crates <em>is</em> reinventing Cargo - but without all it‚Äôs features. Common
limitations are that Cargo‚Äôs exact version/less than requirements can not be used safely, or Cargo‚Äôs ability to
apply patches or uses sources from specific git revisions can not be used at all.</p>
<p>As a result, this hinders upstreams from using all the rich features within Cargo to comply with
distribution packaging limitations, or it will cause the package to hit exceptions in policy and
necesitate vendoring anyway.</p>
</div>
<div id="you-can-vendor-only-in-these-exceptional-cases">
<h2>‚ÄúYou can vendor only in these exceptional cases ‚Ä¶‚Äù</h2>
<p>As noted, since packaging is reinventing Cargo, if you use features of Cargo that are unsupported
then you may be allowed to vendor depending on the distributions policy. However, this raises some
interesting issues itself.</p>
<p>Assume I have been using distribution crates for a period of time - then the upstream adds an exact version
or git revision requirement to a project or a dependency in my project. I now need to change my spec file and tooling to use vendoring
and all of the benefits of distribution crates no longer exists (because you can not have any dependency
in your tree that has an exact version rule).</p>
<p>If the upstream ‚Äòun-does‚Äô that change, then I need to roll back to distribution crates since
the project would no longer be covered by the exemption.</p>
<p>This will create review delays and large amounts of administrative overhead. It means pointless effort to swap between
vendored and distribution crates based on small upstream changes. This may cause packagers to avoid
certain versions or updates so that they do not need to swap between distribution methods.</p>
<p>It‚Äôs very likely that these ‚Äúexceptional‚Äù cases will be very common, meaning that vendoring will be occuring.
This necesitates supporting vendored applications in distribution packages.</p>
</div>
<div id="you-don-t-need-to-package-the-universe">
<h2>‚ÄúYou don‚Äôt need to package the universe‚Äù</h2>
<p>Many proponents say that they have ‚Äúalready packaged most things‚Äù. For example in 389 Directory Server
of our 60 dependencies, only 2 were missing in Fedora (2021-02). However this overlooks the fact
that I do not want to package those 2 other crates just to move forward. I want to support 389 Directory Server
the <em>application</em> not all of it‚Äôs dependencies in a distribution.</p>
<p>This is also before we come to larger rust projects, such as Kanidm that has nearly 400 dependencies. The
likelihood that many of them are missing is high.</p>
<p>So you will need to package the universe. Maybe not all of it. But still a lot of it. It‚Äôs already
hard enough to contribute packages to a distribution. It becomes even harder when I need to submit 3, 10, or 100
more packages. It could be months before enough approvals were in place. It‚Äôs a staggering
amount of administration and work, which will discourage many contributors.</p>
<p>People have already contacted me to say that if they had to package crates to distribution packages to
contribute, they would give up and walk away. We‚Äôve already lost future contributors.</p>
<p>Further to this Ruby, Python and many other languages today all recommend language native tools
such as rvm or virtualenv to avoid using distribution packaged libraries.</p>
<p>Packages in distributions should exist as a vehicle to ship bundled applications that are created
from their language native tools.</p>
</div>
<div id="we-will-update-your-dependencies-for-you">
<h2>‚ÄúWe will update your dependencies for you‚Äù</h2>
<p>A supposed benefit is that versions of crates in distributions will be updated in the background
according to semver rules.</p>
<p>If we had an exact version requirement (that was satisfiable), a silent background update will cause
this to no longer work - and will break the application from building. This would necesitate one of:</p>
<ul>
<li>A change to the Cargo.toml to remove the equality requirement - a requirement that may exist for good reason.</li>
<li>It will force the application to temporarily swap to vendoring instead.</li>
<li>The application will remain broken and unable to be updated until upstream resolves the need for the equality requirement.</li>
</ul>
<p>Background updates also ignore the state of your Cargo.lock file by removing it. A Cargo.lock file
is recommended to be checked in with binary applications in Rust, as evidence that shows ‚Äúhere is
an exact set of dependencies that upstream has tested and verified as building and working‚Äù.</p>
<p>To remove and ignore this file, means to remove the guarantees of quality from an upstream.</p>
<p>It is unlikely that packagers will run the entire test suite of an application to regain this
confidence. They will ‚Äúapply the patch and pray‚Äù method - as they already do with other languages.</p>
<p>We can already see how background updates can have significant negative consequences on application stability. FreeIPA
has hundreds of dependencies, and it‚Äôs common that if any of them changes in small ways, it can cause
FreeIPA to fall over. This is not the fault of FreeIPA - it‚Äôs the fault of relying on so many small
moving parts that can change underneath your feet without warning. FreeIPA would strongly benefit from
vendoring to improve it‚Äôs stability and quality.</p>
<p>Inversely, it can cause hesitation to updating libraries - since there is now a risk of breaking
other applications that depend on them. We do not want people to be afraid of updates.</p>
</div>
<div id="we-can-respond-to-security-issues">
<h2>‚ÄúWe can respond to security issues‚Äù</h2>
<p>On the surface this is a strong argument, but in reality it does not hold up. The security issues
that face Rust are significantly different to that which affect C. In C it may be viable to patch
and update a dynamic library to fix an issue. It saves time because you only need to update and change
one library to fix everything.</p>
<p>Security issues are much rarer in Rust. When they occur, you will have to update and re-build all
applications depending on the affected library.</p>
<p>Since this rebuilding work has to occur, where the security fix is applied is irrelevant. This frees
us to apply the fixes in a different way to how we approach C.</p>
<p>It is better to apply the fixes in a consistent and universal manner. There <em>will</em> be applications
that are vendored due to vendoring exceptions, there is now duplicated work and different
processes to respond to both distribution crates, and vendored applications.</p>
<p>Instead all applications could be vendored, and tooling exists that would examine the Cargo.toml to
check for insecure versions (RustSec/cargo-audit does this for example). The Cargo.toml‚Äôs can be
patched, and applications tested and re-vendored. Even better is these changes could easily then be forwarded to
upstreams, allowing every distribution and platform to benefit from the work.</p>
<p>In the cases that the upstream can not fix the issue, then Cargo‚Äôs native patching tooling can
be used to supply fixes directly into vendored sources for rare situations requiring it.</p>
</div>
<div id="patching-20-vulnerable-crates-doesn-t-scale-we-need-to-patch-in-one-place">
<h2>‚ÄúPatching 20 vulnerable crates doesn‚Äôt scale, we need to patch in one place!‚Äù</h2>
<p>A common response to the previous section is that the above process won‚Äôt scale as we need to find
and patch 20 locations compared to just one. It will take ‚Äúmore human effort‚Äù.</p>
<p>Today, when a security fix comes out, every distribution‚Äôs security teams will have to be made aware of
this. That means - OpenSUSE, Fedora, Debian, Ubuntu, Gentoo, Arch, and many more groups all have to
become aware and respond. Then each of these projects security teams will work with their maintainers
to build and update these libraries. In the case of SUSE and Red Hat this means that multiple developers
may be involved, quality engineering will be engaged to test these changes. Consumers of that library
will re-test their applications in some cases to ensure there are no faults of the components they
rely upon. This is all before we approach the fact that each of these distributions have many supported
and released versions they likely need to maintain so this process may be repeated for patching and
testing multiple versions in parallel.</p>
<p>In this process there are a few things to note:</p>
<ul>
<li>There is a huge amount of human effort today to keep on top of security issues in our distributions.</li>
<li>Distributions tend to be isolated and can‚Äôt share the work to resolve these - the changes to the rpm specs in SUSE won‚Äôt help Debian for example.</li>
<li>Human error occurs in all of these layers causing security issues to go un-fixed or breaking a released application.</li>
</ul>
<p>To suggest that rust and vendoring somehow makes this harder or more time consuming is discounting
the huge amount of time, skill, and effort already put in by people to keep our C based distributions functioning
today.</p>
<p>Vendored Rust won‚Äôt make this process easier or harder - it just changes the nature of the effort
we have to apply as maintainers and distributions. It shifts our focus from ‚Äúhow do we ensure this
library is secure‚Äù to ‚Äúhow do we ensure this <em>application</em> made from many libraries is secure‚Äù. It
allows further collaboration with upstreams to be involved in the security update process, which ends up
benefiting <em>all</em> distributions.</p>
</div>
<div id="it-doesn-t-duplicate-effort">
<h2>‚ÄúIt doesn‚Äôt duplicate effort‚Äù</h2>
<p>It does. By the very nature of both distribution libraries and vendored applications needing to
exist in a distribution, there will become duplicated but seperate processes and ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fy.blackhats.net.au/blog/html/2021/02/16/against_packaging_rust_crates.html">https://fy.blackhats.net.au/blog/html/2021/02/16/against_packaging_rust_crates.html</a></em></p>]]>
            </description>
            <link>https://fy.blackhats.net.au/blog/html/2021/02/16/against_packaging_rust_crates.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26285171</guid>
            <pubDate>Sat, 27 Feb 2021 14:47:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Phantom Types in Gleam]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 11 (<a href="https://news.ycombinator.com/item?id=26284976">thread link</a>) | @pd-andy
<br/>
February 27, 2021 | https://blog.pd-andy.dev/phantom-types-in-gleam | <a href="https://web.archive.org/web/*/https://blog.pd-andy.dev/phantom-types-in-gleam">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>In this post we're going to be looking at a more advanced use of <a target="_blank" href="https://gleam.run/">Gleam</a>'s type system, known as phantom types. Hopefully by the end of this you'll have another tool in your belt to help you better model data in your programs. And fear not, because many languages support phantom types (most common functional programming languages support them, but so do others like Rust, and TypeScript, and even <a target="_blank" href="https://marcosh.github.io/post/2020/05/26/phantom-types-in-php.html">PHP</a>) so you can apply this knowledge elsewhere! </p>
<p>Before we get stuck into some examples, let's tackle the obvious question.</p>
<hr>
<h2 id="what-are-phantom-types">What are phantom types?</h2>
<p>A phantom type is a type parameter that appears on the left hand side of a type's definition but not on the right hand side. In other words, it's a type parameter that is never used by any of a type's constructors.</p>
<pre><code>pub type Example(phantom) {
    Example
}
</code></pre>
<p>In the <code>Example</code> type we have a type parameter, <code>phantom</code>, that isn't used in the type's constructor. Phantom types can be used to provide additional safety or context to values without paying the runtime cost of carrying additional data around. Everything is handled at compile time!</p>
<blockquote>
<p>üí° In some languages, the compiler may emit a warning (or refuse to compile at all) when a type has unused type parameters. Often there are language-specific solutions to this, like <a target="_blank" href="https://doc.rust-lang.org/std/marker/struct.PhantomData.html">PhantomData</a> in Rust or <a target="_blank" href="https://medium.com/@dhruvrajvanshi/advanced-typescript-patterns-6cf8826c7944">impossible fields</a> in TypeScript.</p>
</blockquote>
<p>The rest of this article will see us going over <strong>four</strong> different scenarios where phantom types can come in to play. The whole article is a bit long so if any of the examples describes a scenario that fits you perfectly, feel free to jump straight to it!</p>
<hr>
<h2 id="example-one-dealing-with-ids">Example One: Dealing with Ids.</h2>
<p>To understand why phantom types might be useful, let's start with a common scenario. Imagine we're building a social blogging platform like <a target="_blank" href="http://dev.to/">dev.to</a> or <a target="_blank" href="http://medium.com/">medium.com</a>. We want to support different users and blog posts, so we assign a unique id to all of these things.</p>
<p>We're a scrappy, fast-moving startup so we implement the simplest possible system for managing IDs: just type aliasing <code>Int</code>s to get things going.</p>
<pre><code>pub type Id = Int

pub fn next (id: Id) -&gt; Id {
    id + 1
}
</code></pre>
<p>Our platform supports Reddit-style upvoting or liking of posts, and we have a function just for that. It takes in the <code>Id</code> of a post to upvote and the <code>Id</code> of the user that upvoted it, and does some magic to make the upvote happen.</p>
<pre><code>pub fn upvote_post (user_id: Id, post_id: Id) -&gt; Nil {
    // Get a post from the database and upvote it.
    ...
}
</code></pre>
<p>This lets us rush to production, but maybe you've already spotted a potential problem with what we have so far. It's only a matter of time until someone gets the parameters the wrong way round and now a totally unrelated user has upvoted a random post.</p>
<p>One solution would be to stop aliasing <code>Int</code> and define new types for <code>PostId</code> and <code>UserId</code> instead.</p>
<pre><code>pub type PostId { PostId(Int) }
pub type UserId { UserId(Int) }
</code></pre>
<p>Now the two id types are successfully disjoint, but as a consequence we'll end up with a lot more duplicated code. We'll have to have separate <code>next</code> methods to increment each id type, similarly if we want to unwrap the type we'll need separate <code>to_int</code> functions, and the story is the same for <code>to_string</code>, and so on...</p>
<p>Really, the underlying representation of an <code>Id</code> stays the same no matter how we use it. Instead, we'd like the context an <code>Id</code> is used in to determine whether it is valid or not.</p>
<pre><code>pub opaque type Id(a) {
    Id(Int)
}

pub fn new () -&gt; Id(a) {
    Id(0)
}
</code></pre>
<p>We've now redefined our <code>Id</code> type to include a type parameter, <code>a</code>, but notice how that parameter isn't used in the type's constructor: this is where the name <strong>phantom type</strong> comes from. The second  thing to notice is that our <code>new</code> function returns an id with that generic <code>a</code> parameter. This lets <em>callers of the function</em> determine what the type of <code>a</code> should be.</p>
<pre><code>let foo: Id(String)      = new()
let bar: Id(Float)       = new()
let baz: Id(Option(Int)) = new()
</code></pre>
<p>Now, <code>foo</code>, <code>bar</code>, and <code>baz</code> are all incompatible with each other. We couldn't check them for equality, for example, because the types don't match up. Fundamental to phantom types is the fact that there is no runtime component, <code>foo</code> may be annotated as <code>Id(String)</code> but no such string exists at runtime, the same for <code>Id(Float)</code> or any other parameter. </p>
<pre><code>foo == bar // Uh oh, compile error!
</code></pre>
<p>This is powerful because we gain the ability to tell the compiler a fact about a particular <code>Id</code>, and the compiler will do extra work to ensure we don't make any mistakes.</p>
<pre><code>pub type User {
    User(id: Id(User), name: String)
}

pub type Post {
    Post(id: Id(Post), content: String)
}

pub fn upvote_post (user_id: Id(User), post_id: Id(Post)) -&gt; Nil {
    // Get a post from the database and upvote it.
    ...
}
</code></pre>
<p>In the snippet above, we've defined <code>User</code> and <code>Post</code> types and parameterised the <code>Id</code> type accordingly. Knowing what we know so far about phantom types, we can see that the new type signature for <code>upvote_post</code> will prevent us from accidentally swapping the order of the ids.</p>
<pre><code>let user = User(id: new(), name: "pd-andy")
let post = Post(id: new(), content: "Phantom Types in Gleam...")

upvote_post(post.id, user.id) // Uh oh, compile error!
</code></pre>
<p>Even though our phantom type lets us specialise the <code>Id</code> type, we can still write functions that work on <em>all</em> ids by leaving the type parameter as a variable.</p>
<pre><code>pub fn show (id: Id(a)) -&gt; String {
    let Id(n) = id
    int.to_string(n)
}

show(user.id)
show(post.id)
</code></pre>
<p>The ability to restrict or open up functions to different <code>Id</code>s is where a lot of the power with phantom types comes from. </p>
<h2 id="example-two-handling-money">Example Two: Handling money.</h2>
<p>Let's consider another scenario. We want to build an application that can handle monetary transactions such that we can easily work with currencies of the same type, but different currencies must be explicitly converted via an exchange rate before they can be used together.</p>
<p>Similar to our id scenario, the underlying representation for a value of currency is always the same.</p>
<pre><code>pub opaque type Currency(a) {
  Currency(Float)
}

pub fn from_float (x: Float) -&gt; Currency(a) {
  Currency(x)
}
</code></pre>
<p>As before, our <code>Currency</code> type has a single type parameter that we'll use to <em>tag</em> values with a particular type of currency. We also need to define some types to act as our currency tags. Because these types are only used for annotations, we'll make them opaque. </p>
<pre><code>pub opaque type USD { USD }
pub opaque type GBP { GBP }
</code></pre>
<p>Now we can use everything we've defined so far to create some different currencies.</p>
<pre><code>let dollars: Currency(USD) = from_float(2.50)
let pennies: Currency(GBP) = from_float(0.55)
</code></pre>
<p>Right now we have some currency values, but we can't do a whole lot with them. While they're wrapped up in our <code>Currency</code> type, we can't use any arithmetic operators or pass these values to functions expecting <code>Float</code>s.</p>
<p>Let's remedy that by writing two functions, <code>update</code> and <code>combine</code>. We'll use <code>update</code> to apply a function to the value wrapped by a <code>Currency</code>, and we'll use <code>combine</code> to apply a function to two <code>Currency</code> values.</p>
<blockquote>
<p>üí° For other data structures these functions might be called <code>map</code> and <code>map2</code>. These imply the type can change, for example <code>list.map</code> can be used to turn a <code>List(a)</code> into a <code>List(b)</code>. </p>
<p>Because we want to preserve the type (so we can't convert <code>Currency(USD)</code> to <code>Currency(GBP)</code>) we give these functions different names so there aren't any mismatched expectations.</p>
</blockquote>
<pre><code>pub fn update (a: Currency(a), f: fn (Float) -&gt; Float) -&gt; Currency(a) {
  let Currency(x) = a
  x |&gt; f |&gt; from_float
}

pub fn combine (a: Currency(a), b: Currency(a), f: fn (Float, Float) -&gt; Float) -&gt; Currency(a) {
    let Currency(x) = a
    let Currency(y) = b
    f(x, y) |&gt; from_float
}
</code></pre>
<p>Because the type parameter for <code>Currency</code> doesn't change (these function take a <code>Currency(a)</code> and return a <code>Currency(a)</code>), they can't change the tag of any currency passed in.</p>
<blockquote>
<p>üí° Both <code>update</code> and <code>combine</code> are examples of <strong>higher-order functions</strong>.  That is, they are functions that take <em>other functions</em> as one of their arguments (or return a new function themselves).</p>
</blockquote>
<p>We can use these two functions to define some more functions so we can actually <em>do</em> things with currency values, like doubling something or adding two currencies together.</p>
<pre><code>pub fn double (a: Currency(a)) -&gt; Currency(a) {
    update(a, fn (x) { x * 2 })
}

pub fn add (a: Currency(a), b: Currency(a)) -&gt; Currency(a) {
    combine(a, b, fn (x, y) { x + y })
}
</code></pre>
<p>We can call these functions with any type of currency, but for something like <code>add</code> we get compile-time safety that ensures we only add two currencies of the same type.</p>
<pre><code>double(dollars)       //=&gt; from_float(5.00): Currency(USD)
add(pennies, pennies) //=&gt; from_float(1.10): Currency(GBP)

add(dollars, pennies) //=&gt; I won't compile!
</code></pre>
<p>But what if we <em>want</em> to add two currencies together? To do that we need a way of converting one currency to another with an exchange rate. We can use phantom types again here to define an</p>
<p><code>Exchange</code> type that describes the exchange rate from one currency to another.</p>
<pre><code>pub opaque type Exchange (from, to) {
    Exchange(Float)
}

pub fn exchange_rate (r: Float) -&gt; Exchange(from, to) {
    Exchange(r)
}
</code></pre>
<p>Now, just like we did for currencies, we can define an exchange rate to go from <code>GBP</code> to <code>USD</code> (and vice versa).</p>
<pre><code>let gbp_to_usd: Exchange(GBP, USD) = exchange_rate(1.41)
let usd_to_gbp: Exchange(USD, GBP) = exchange_rate(0.71)
</code></pre>
<p>Using everything we know about phantom types, we can define a <code>convert</code> function that is type safe; we'll never be able to pass in the wrong exchange rate because all the phantom types have to match up!</p>
<pre><code>pub fn convert (a: Currency(from), e: Exchange(from, to)) -&gt; Currency(to) {
    let Currency(x) = a
    let Exchange(r) = e
    x *. r |&gt; from_float
}
</code></pre>
<p>Although our module provided the <code>USD</code> and <code>GBP</code> types to act as currency tags, the functions we've written are general to all currencies but retain their type safety. If consumers of the module want to define another type of currency, they can do that and our functions will still work.</p>
<hr>
<h2 id="example-three-validating-data">Example Three: Validating data.</h2>
<p>So far the two examples we have seen in <code>Id</code> and <code>Currency</code> have been used to provide a general API across types ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.pd-andy.dev/phantom-types-in-gleam">https://blog.pd-andy.dev/phantom-types-in-gleam</a></em></p>]]>
            </description>
            <link>https://blog.pd-andy.dev/phantom-types-in-gleam</link>
            <guid isPermaLink="false">hacker-news-small-sites-26284976</guid>
            <pubDate>Sat, 27 Feb 2021 14:17:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new chapter ‚Äì full-time working from a van in a forest]]>
            </title>
            <description>
<![CDATA[
Score 159 | Comments 76 (<a href="https://news.ycombinator.com/item?id=26284635">thread link</a>) | @ghuntley
<br/>
February 27, 2021 | https://ghuntley.com/a-new-chapter | <a href="https://web.archive.org/web/*/https://ghuntley.com/a-new-chapter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <p>For many people, the year 2020 will go down as a moment in time of hardship in their lives but for me, the year 2019 was dramatically harder as it was the realization that a long-term relationship wasn't going to work out and that everyone, including my children, would be homeless within 14 days. <em>Oomph</em>.</p><figure><div><div><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20191111_094714.jpg" width="2000" height="2667" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20191111_094714.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20191111_094714.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/IMG_20191111_094714.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/IMG_20191111_094714.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/vlcsnap-2021-02-23-14h54m12s813.png" width="1920" height="1080" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/vlcsnap-2021-02-23-14h54m12s813.png 600w, https://ghuntley.com/content/images/size/w1000/2021/02/vlcsnap-2021-02-23-14h54m12s813.png 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/vlcsnap-2021-02-23-14h54m12s813.png 1600w, https://ghuntley.com/content/images/2021/02/vlcsnap-2021-02-23-14h54m12s813.png 1920w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://ghuntley.com/content/images/2021/02/2021-02-23_14-48-25-1.jpg" width="2000" height="769" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/2021-02-23_14-48-25-1.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/2021-02-23_14-48-25-1.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/2021-02-23_14-48-25-1.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/2021-02-23_14-48-25-1.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/_95SAnmj.jpg-large-1.jpg" width="1536" height="2048" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/_95SAnmj.jpg-large-1.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/_95SAnmj.jpg-large-1.jpg 1000w, https://ghuntley.com/content/images/2021/02/_95SAnmj.jpg-large-1.jpg 1536w" sizes="(min-width: 720px) 720px"></p></div></div><figcaption>Over the course of five years more than $110,000 had been spent on rent at that dumpster of a house.&nbsp;</figcaption></figure><p>I packed all of my artefacts and office equipment into a u-haul and left everything else, including the family car to my now ex-wife. To cut a long story short the cost of housing in Sydney, Australia and sole-income was a leading factor in the dissolution of the relationship.</p><figure><img src="https://ghuntley.com/content/images/2021/02/image-1.png" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/image-1.png 600w, https://ghuntley.com/content/images/size/w1000/2021/02/image-1.png 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/image-1.png 1600w, https://ghuntley.com/content/images/2021/02/image-1.png 1896w" sizes="(min-width: 720px) 720px"><figcaption>https://www.theguardian.com/australia-news/2018/mar/15/sydney-more-expensive-to-live-in-than-london-and-new-york-study-finds</figcaption></figure><p>I'm doing excellent, <em>now</em>, but back then the entire experience left me shattered, soul destroyed and burnt out beyond belief. Luckily an el-rando, now friend, saw that I was in need and reached out:</p><blockquote>"Heading camping to Stradbroke week after next if you want to totally unplug. <strong>If you need anything, let me know</strong>."</blockquote><p>I just want to say, thank-you. I needed that. </p><p>Dear reader, if you ever find yourself in crisis or a situation similar to mine please do not hesitate to <a href="https://ghuntley.com/contact">contact me</a> if you need a shoulder or advice. You deserve to live a life that makes you happy and not miserable.</p><p>People often ask me what got you interested in #vanlife, now you know. It wasn't an interest as-per-say but more of a necessity and a key ingredient to ensuring my children would grow up with a father in their lives. </p><p>I first heard about the concept of #vanlife back in 2015 after reading this article about a <a href="https://jalopnik.com/google-software-engineer-lives-in-a-van-to-avoid-san-fr-1737619550">Google employee who lived in a box-truck in the company's parking lot</a>:</p><blockquote>‚ÄúI realized I was paying an exorbitant amount of money for the apartment I was staying in ‚Äî and I was almost never home,‚Äù he says. ‚ÄúIt‚Äôs really hard to justify throwing that kind of money away. You‚Äôre essentially burning it ‚Äî you‚Äôre not putting equity in anything and you‚Äôre not building it up for a future ‚Äî and that was really hard for me to reconcile"</blockquote><p>The events that followed the Stradbroke camping trip put me on a path towards thinking about okay, what-next and how will I get there? Fast-forward a couple of months later I found myself on my own month-long camping trip down in Tasmania where I learned some important life lessons, bushcraft skills and met some <a href="https://www.onemanonebikeoneworld.com/2015/10/australia-at-home-in-crunchy-town/">interesting characters</a>, some of whom were living #vanlife.</p><figure><div><div><p><img src="https://ghuntley.com/content/images/2021/02/93956755_10157390553498505_8259160674995798016_o.jpg" width="1438" height="772" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/93956755_10157390553498505_8259160674995798016_o.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/93956755_10157390553498505_8259160674995798016_o.jpg 1000w, https://ghuntley.com/content/images/2021/02/93956755_10157390553498505_8259160674995798016_o.jpg 1438w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/1-dLCs9WWLvE1Goul018u-Jg-1.jpeg" width="2000" height="2872" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/1-dLCs9WWLvE1Goul018u-Jg-1.jpeg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/1-dLCs9WWLvE1Goul018u-Jg-1.jpeg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/1-dLCs9WWLvE1Goul018u-Jg-1.jpeg 1600w, https://ghuntley.com/content/images/2021/02/1-dLCs9WWLvE1Goul018u-Jg-1.jpeg 2162w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200222_091110.jpg" width="2000" height="1500" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20200222_091110.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20200222_091110.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/IMG_20200222_091110.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/IMG_20200222_091110.jpg 2400w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://ghuntley.com/content/images/2021/02/2021-02-23_14-15-36.jpg" width="2000" height="914" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/2021-02-23_14-15-36.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/2021-02-23_14-15-36.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/2021-02-23_14-15-36.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/2021-02-23_14-15-36.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/2021-02-23_14-14-28.jpg" width="2000" height="872" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/2021-02-23_14-14-28.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/2021-02-23_14-14-28.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/2021-02-23_14-14-28.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/2021-02-23_14-14-28.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/2021-02-23_14-18-14.jpg" width="2000" height="856" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/2021-02-23_14-18-14.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/2021-02-23_14-18-14.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/2021-02-23_14-18-14.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/2021-02-23_14-18-14.jpg 2400w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200308_082035-1.jpg" width="2000" height="1500" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20200308_082035-1.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20200308_082035-1.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/IMG_20200308_082035-1.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/IMG_20200308_082035-1.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/Alana-Una-Divine.jpg" width="960" height="720" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/Alana-Una-Divine.jpg 600w, https://ghuntley.com/content/images/2021/02/Alana-Una-Divine.jpg 960w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/26756404_10155262413212066_7256284448836424591_o.jpg" width="1440" height="1080" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/26756404_10155262413212066_7256284448836424591_o.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/26756404_10155262413212066_7256284448836424591_o.jpg 1000w, https://ghuntley.com/content/images/2021/02/26756404_10155262413212066_7256284448836424591_o.jpg 1440w" sizes="(min-width: 720px) 720px"></p></div></div></figure><p>I was amazed at the quality of life these people had, how they were able to make ends meet and their resourcefulness. They also knew how to have a freaking good time...</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/umxjUjqRdOY?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Over the course of a month, a small group of people <a href="https://www.google.com.au/maps/place/41%C2%B018'37.0%22S+147%C2%B047'54.2%22E/@-41.3102818,147.7966608,555m/data=!3m2!1e3!4b1!4m14!1m7!3m6!1s0xaa775776abb20549:0x403c94dd0ddf450!2sScottsdale+TAS+7260,+Australia!3b1!8m2!3d-41.166667!4d147.516667!3m5!1s0x0:0x0!7e2!8m2!3d-41.3102849!4d147.7983983">camping on crown land</a> grew to over 500 people. Love was free and it was custom to hug <em>everyone</em>. Meanwhile, in a parallel universe, this was happening...</p><figure><div><div><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200324_154236.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20200324_154236.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20200324_154236.jpg 1000w, https://ghuntley.com/content/images/2021/02/IMG_20200324_154236.jpg 1386w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200324_153304_MP.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20200324_153304_MP.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20200324_153304_MP.jpg 1000w, https://ghuntley.com/content/images/2021/02/IMG_20200324_153304_MP.jpg 1386w" sizes="(min-width: 720px) 720px"></p></div></div></figure><p>With the new-found knowledge and experiences, I flew back to sunny Queensland, Australia and started my research. After watching hundreds of hours of videos on YouTube I found this video, which to this day, represents my north star:</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/l-DgMYB6L0c?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Over the months that followed through 2020, my father and mother helped make the dream a reality. I never wanted to live in Sydney, Australia ever again, yet, much to my dismay, my children would remain living in a city that makes no sense. Putting together a van was a major step in getting my life back on track and ensuring that my children would know their father.</p><figure><div><div><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200402_162953.jpg" width="300" height="225" alt=""></p><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200419_112842.jpg" width="2000" height="1500" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20200419_112842.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20200419_112842.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/IMG_20200419_112842.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/IMG_20200419_112842.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200701_112931.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20200701_112931.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20200701_112931.jpg 1000w, https://ghuntley.com/content/images/2021/02/IMG_20200701_112931.jpg 1386w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20201128_062424513.jpg" width="2000" height="1500" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20201128_062424513.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20201128_062424513.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/PXL_20201128_062424513.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/PXL_20201128_062424513.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20201204_222041572.MP.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20201204_222041572.MP.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20201204_222041572.MP.jpg 1000w, https://ghuntley.com/content/images/2021/02/PXL_20201204_222041572.MP.jpg 1386w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://ghuntley.com/content/images/2021/02/IMG_20200919_094643.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/IMG_20200919_094643.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/IMG_20200919_094643.jpg 1000w, https://ghuntley.com/content/images/2021/02/IMG_20200919_094643.jpg 1386w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20201204_011641497.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20201204_011641497.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20201204_011641497.jpg 1000w, https://ghuntley.com/content/images/2021/02/PXL_20201204_011641497.jpg 1386w" sizes="(min-width: 720px) 720px"></p></div></div></figure><p>It's now 2021, I'm doing better than I was in the relationship and my children are having more <em>quality time</em> with their father than they have ever had. Over the last 12 months during various stages of the van kit-out, my kids and I have been going away on overnight, weekend and school holiday adventures where they get to experience the sights and sounds of Australia.</p><figure><div><div><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20210103_102322442.PORTRAIT-2.jpg" width="2000" height="1500" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20210103_102322442.PORTRAIT-2.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20210103_102322442.PORTRAIT-2.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/PXL_20210103_102322442.PORTRAIT-2.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/PXL_20210103_102322442.PORTRAIT-2.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20210103_095904261.PORTRAIT.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20210103_095904261.PORTRAIT.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20210103_095904261.PORTRAIT.jpg 1000w, https://ghuntley.com/content/images/2021/02/PXL_20210103_095904261.PORTRAIT.jpg 1386w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20210103_100004979.PORTRAIT.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20210103_100004979.PORTRAIT.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20210103_100004979.PORTRAIT.jpg 1000w, https://ghuntley.com/content/images/2021/02/PXL_20210103_100004979.PORTRAIT.jpg 1386w" sizes="(min-width: 720px) 720px"></p></div></div></figure><p>On the relationship front, I'm pleased to share that there has been minimal conflict and day-by-day we each learn to love and respect each other as the parents of our children. A large part of that is due to some early advice I received from a man who had also recently divorced:</p><blockquote>It will all work out. Just keep the focus on the kids and relationship will improve. We're at the stage where my ex will come around and have drinks with my girlfriend and I. You have drop everything (hurt, money, etc) from before on the floor and move past it. You'll be much happier.</blockquote><p>To that person, thank you for sharing your perspectives and advice on how to ensure that, unlike you see in the movies, co-parenting does not need to be adversarial.</p><figure><img src="https://ghuntley.com/content/images/2021/02/image-2.png" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/image-2.png 600w, https://ghuntley.com/content/images/size/w1000/2021/02/image-2.png 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/image-2.png 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/image-2.png 2400w" sizes="(min-width: 720px) 720px"></figure><div><p>So, in summary - everything has been going well but there was still one thing left to resolve:</p><p>‚úîÔ∏è housing.<br>‚úîÔ∏è conflict free co-parenting.<br>‚úîÔ∏è children having quality time with their father.<br>üöß <em>meaningful </em>work</p></div><p>Approx 21% to 35% of our time awake is spent at work and every two years that goes by at a company you don't like (or unemployed) is wasting 2% of your working life. Time is valuable and there are no guarantees that tomorrow will come thus it is exceedinly important for happiness that you find work that is <em>meaningful and that treats you well</em>.</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/mQkBnS4OOqU?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><figcaption>One of my first employers had meaningful work but didn't treat people well.&nbsp;</figcaption></figure><p>Work keeps us busy. &nbsp;It gives us structure, it defines us as functioning, contributing, worthwhile citizens. &nbsp;It makes us part of the team, a community of fellow workers ‚Äî even if we do our work remotely in isolation. </p><h2 id="meaningful-work">meaningful work</h2><p>Pause for a moment and think about this...</p><blockquote>What brings meaning into your life? </blockquote><p>After what I had been through in 2019 I spent a considerable amount of time in 2020 thinking about the above question. </p><p>The clock rolled over to 2021 and fortunately I have answers to the above question, a kick-ass van but what good is a van if you can't go on adventures and work remotely from it indefinitely?</p><figure><div><div><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20201217_041851644.jpg" width="2000" height="1500" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20201217_041851644.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20201217_041851644.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/PXL_20201217_041851644.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/PXL_20201217_041851644.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20201214_034618899.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20201214_034618899.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20201214_034618899.jpg 1000w, https://ghuntley.com/content/images/2021/02/PXL_20201214_034618899.jpg 1386w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20201214_034540072.jpg" width="1386" height="1848" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/PXL_20201214_034540072.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/PXL_20201214_034540072.jpg 1000w, https://ghuntley.com/content/images/2021/02/PXL_20201214_034540072.jpg 1386w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/PXL_20201214_034733334.MP.jpg" width="290" height="218" alt=""></p></div></div><figcaption>This is my office, as it is now. The interior design is temporary.</figcaption></figure><p>So anyway, I've got some news... </p><p>The founders of Gitpod recently approached me about joining them and it was a no-brainer. I have joined <a href="https://gitpod.io/?utm_medium=website&amp;utm_campaign=meaningful-work&amp;utm_source=ghuntley">Gitpod</a>. üéâ</p><p>The company is remote-first (‚úîÔ∏è), embraces asyncrony (‚úîÔ∏è), filled with brilliant people (‚úîÔ∏è), the product is open-source (‚úîÔ∏è) and built on GitHub (‚úîÔ∏è) using the light weight Visual Studio code process (‚úîÔ∏è). </p><figure><blockquote><p lang="en" dir="ltr">I was pitching the VSCode development process, with its 1-month release cycle to an open source project this morning.<br>All projects could benefit from embracing this model: <a href="https://t.co/ymkVy0OBoD">https://t.co/ymkVy0OBoD</a></p>‚Äî Miguel de Icaza (@migueldeicaza) <a href="https://twitter.com/migueldeicaza/status/1364582599000260615?ref_src=twsrc%5Etfw">February 24, 2021</a></blockquote>

</figure><p>Gitpod has been a meaningful and key piece of software in my toolkit over the last couple years because Gitpod enables me to develop on any device from anywhere. I can hop between pull-requests with a single click and there's no waiting because <a href="https://www.gitpod.io/docs/prebuilds/">the pull-request has already been pre-compiled</a>. </p><figure><iframe width="200" height="150" src="https://www.youtube.com/embed/KR8ESjGYsXI?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Gitpod has enabled me to standardize development environments between people and, like docker, move to ephemeral instances so that I never experience "but it works on my machine" ever again.</p><p>I could talk for hours on end on how meaningful the work Gitpod is doing and how it makes it easier for open-source maintainers to onboard new contributors to their project but it's better that you just <em><a href="https://gitpod.io/#https://github.com/gitpod-io/website/">experience it for yourself</a></em>.</p><figure><a href="https://gitpod.io/#https://github.com/gitpod-io/website/"><div><p>Gitpod ‚Äì Dev environments built for the cloud</p><p>Gitpod streamlines developer workflows by providing prebuilt, collaborative development environments in your browser ‚Äì powered by VS Code.</p><p><img src="https://gitpod.io/images/gitpod-196x196.png"></p></div><p><img src="https://www.gitpod.io/media-image.jpg"></p></a><figcaption>Try Gitpod for yourself by mashing the above link!</figcaption></figure><figure><img src="https://ghuntley.com/content/images/2021/02/image-3.png" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/image-3.png 600w, https://ghuntley.com/content/images/size/w1000/2021/02/image-3.png 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/image-3.png 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/image-3.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Visit https://gitpod.io/#https://github.com/gitpod-io/website/ in your browser</figcaption></figure><p>So, that's the news. Things are doing really well. I want to say thank-you for those whom <a href="https://ghuntley.com/support">have supported me</a> over the last couple years whilst I figured this all out.</p><p>This chapter is only just beginning. I'm blogging more and <a href="https://twitter.com/geoffreyhuntley">tweeting less</a> so if you want to learn about sweet places to visit in Australia, working remotely from a van or how I get internet whilst camping out in a remote forest, like, <a href="https://ghuntley.com/signup/">subscribe</a> (free) and enter your email address to be notified when future blog posts ship.</p><figure><blockquote><p lang="en" dir="ltr">Have some personal news and an exciting announcement to share with you...<a href="https://t.co/BbKl6cWKeO">https://t.co/BbKl6cWKeO</a></p>‚Äî *void malloc(geoff, üê£) (@GeoffreyHuntley) <a href="https://twitter.com/GeoffreyHuntley/status/1365067454494351364?ref_src=twsrc%5Etfw">February 25, 2021</a></blockquote>

</figure><figure><div><div><p><img src="https://ghuntley.com/content/images/2021/02/2021-02-12_7-03-15-1.jpg" width="2000" height="863" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/2021-02-12_7-03-15-1.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/2021-02-12_7-03-15-1.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/2021-02-12_7-03-15-1.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/2021-02-12_7-03-15-1.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/2021-02-12_6-51-28-1.jpg" width="2000" height="875" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/2021-02-12_6-51-28-1.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/2021-02-12_6-51-28-1.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/2021-02-12_6-51-28-1.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/2021-02-12_6-51-28-1.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/Photo_6553666_DJI_66_jpg_21669666_0_2020122385728_photo_original-2.jpg" width="1980" height="1485" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/Photo_6553666_DJI_66_jpg_21669666_0_2020122385728_photo_original-2.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/Photo_6553666_DJI_66_jpg_21669666_0_2020122385728_photo_original-2.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/Photo_6553666_DJI_66_jpg_21669666_0_2020122385728_photo_original-2.jpg 1600w, https://ghuntley.com/content/images/2021/02/Photo_6553666_DJI_66_jpg_21669666_0_2020122385728_photo_original-2.jpg 1980w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://ghuntley.com/content/images/2021/02/2021-02-12_7-00-57-1.jpg" width="2000" height="877" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/2021-02-12_7-00-57-1.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/2021-02-12_7-00-57-1.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/2021-02-12_7-00-57-1.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/2021-02-12_7-00-57-1.jpg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ghuntley.com/content/images/2021/02/Photo_6554005_DJI_405_jpg_6288768_0_202121019728_photo_original-PANO-2.jpg" width="2000" height="1007" alt="" srcset="https://ghuntley.com/content/images/size/w600/2021/02/Photo_6554005_DJI_405_jpg_6288768_0_202121019728_photo_original-PANO-2.jpg 600w, https://ghuntley.com/content/images/size/w1000/2021/02/Photo_6554005_DJI_405_jpg_6288768_0_202121019728_photo_original-PANO-2.jpg 1000w, https://ghuntley.com/content/images/size/w1600/2021/02/Photo_6554005_DJI_405_jpg_6288768_0_202121019728_photo_original-PANO-2.jpg 1600w, https://ghuntley.com/content/images/size/w2400/2021/02/Photo_6554005_DJI_405_jpg_6288768_0_202121019728_photo_original-PANO-2.jpg 2400w" sizes="(min-width: 720px) 720px"></p></div></div></figure>
            </div></div>]]>
            </description>
            <link>https://ghuntley.com/a-new-chapter</link>
            <guid isPermaLink="false">hacker-news-small-sites-26284635</guid>
            <pubDate>Sat, 27 Feb 2021 13:11:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Vim Guide for Advanced Users]]>
            </title>
            <description>
<![CDATA[
Score 546 | Comments 160 (<a href="https://news.ycombinator.com/item?id=26284618">thread link</a>) | @asicsp
<br/>
February 27, 2021 | https://thevaluable.dev/vim-advanced/ | <a href="https://web.archive.org/web/*/https://thevaluable.dev/vim-advanced/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>
        

        <section>
            
                <picture>
                    
                        <source srcset="https://thevaluable.dev/images/2021/02_vim_advanced/vim-advanced.webp" type="image/webp">
                    
                    <img src="https://thevaluable.dev/images/2021/02_vim_advanced/vim-advanced.jpg" alt="Vim for advanced users">
                </picture>
            

            <p>Welcome to the third part of this series aimed to help you unleash a power never seen on Earth using the Almighty Vim. If you don‚Äôt understand what‚Äôs happening in this article, I recommend you to read the previous ones of the series first:</p>
<ol>
<li><a href="https://thevaluable.dev/vim-beginner/">Vim for beginners</a></li>
<li><a href="https://thevaluable.dev/vim-intermediate/">Vim for intermediate users</a></li>
</ol>
<p>We‚Äôll see together in this article:</p>
<ul>
<li>Some nice keystrokes beginning with <code>g</code>.</li>
<li>What ranges are and how to use them.</li>
<li>The quickfix list and the location lists.</li>
<li>The marvelous substitute command.</li>
<li>The crazy useful <code>:global</code> (or <code>:g</code>) command.</li>
<li>What marks are and what you can do with them.</li>
<li>How to increase and decrease numbers with a single keystroke.</li>
<li>How to sort text with a nice command.</li>
</ul>
<p>But before going into the juicy content of this article, I‚Äôve some recommendations for you, dear reader:</p>
<ol>
<li>Fire up your Vim and play around with the commands and keystrokes while reading. It‚Äôs the best way for you to remember everything which blew you away. You‚Äôll then be able to be blown away whenever you like for the rest of your life.</li>
<li>Don‚Äôt use a cheatsheet; write your own as you read. It will allow you to come back easily to the commands you find the most useful for <em>your own needs</em>.</li>
</ol>
<p>Enough rambling. Let‚Äôs begin!</p>
<h2 id="useful-g-keystrokes">Useful ‚Äúg‚Äù Keystrokes</h2>
<p>Let‚Äôs begin gently with a mixed bag of keystrokes starting with <code>g</code>. There are many of these ‚Äúg‚Äù commands in Vim, and we already saw some of them in the previous articles. Can you recall them?</p>
<p>You can use these keystrokes in NORMAL mode:</p>
<ul>
<li><code>gf</code> - Edit the file located at the filepath under your cursor.
<ul>
<li>You can use <code>CTRL+W CTRL+F</code> to open the file in a new window.</li>
<li>It can open the URL under your cursor if you have the plugin <code>netrw</code>.</li>
</ul>
</li>
<li><code>gx</code> - Open the file located at the filepath under your cursor.
<ul>
<li>It will use the default application used by your OS for this filetype.</li>
<li>It works with URLs too. It will open your favorite browser and load the website.</li>
<li>It only works if you have the plugin <code>netrw</code>.</li>
</ul>
</li>
<li><code>gi</code> - Move to the last insertion you did and switch to INSERT mode.
<ul>
<li>Pretty useful if you stopped your editing to look at some other file.</li>
<li>It uses marks under the hood: more on that later in this article.</li>
</ul>
</li>
<li><code>gv</code> - Start VISUAL mode and use the selection made during the last VISUAL mode.</li>
<li><code>gn</code> - Select the match of your last search:
<ol>
<li>Move to the last searched match.</li>
<li>Switch to VISUAL mode (if you weren‚Äôt in VISUAL mode already).</li>
<li>Select the match.</li>
<li>You can continue to hit <code>n</code> (or <code>gn</code>) to select the area between the current match and the next match.</li>
</ol>
</li>
<li><code>gI</code> - Insert text at the beginning of the line, no matter what the first characters are.
<ul>
<li>The keystroke <code>I</code> insert text <em>just before the first non-blank characters</em> of the line.</li>
</ul>
</li>
</ul>
<p>To try out <code>gf</code> and <code>gx</code>, you can write for example <code>https://www.google.com/</code> in Vim, place your cursor on it, and hit the keystrokes. Don‚Äôt forget the trailing slash in your URL.</p>
<p>You‚Äôll soon discover an inconvenience with <code>gx</code>: when you use it on a filepath, Vim will hang till you close the file. That‚Äôs why I‚Äôve created the following mapping you can add to your <code>.vimrc</code>:</p>
<pre><code>nnoremap gX :silent :execute
            \ "!xdg-open" expand('%:p:h') . "/" . expand("&lt;cfile&gt;") " &amp;"&lt;cr&gt;
</code></pre><p>It maps the keystroke <code>gX</code> to use <code>xdg-open</code>  with the filepath under your cursor. It will open the file with your favorite application <em>in the background</em>. The program <code>xdg-open</code> will only work on Linux-based systems; for MacOS, try <code>open</code> instead.</p>


  




    





  





<h2 id="ranges">Ranges</h2>
<p>Now that we‚Äôre done with the appetizers, let‚Äôs discover the first real dish of our Vim feast: the ranges. You can apply them to many commands, making them terribly powerful.</p>
<h3 id="basics">Basics</h3>
<p>In Vim‚Äôs help, every command accepting a range will have the string of characters <code>[range]</code> in front of them. Multiple line specifiers are possible, separated by commas <code>,</code>.</p>
<p>Here are the most interesting ranges you can use:</p>
<ul>
<li><code>&lt;number&gt;</code> - Any number <code>&lt;number&gt;</code> in your range refers to a line number.</li>
<li><code>.</code> - Represent the current line (often the default range).</li>
<li><code>$</code> - Represent the last line of the current buffer.</li>
<li><code>%</code> - Represent the entire file (same as <code>1,$</code>).</li>
<li><code>*</code> - Use the last selection you‚Äôve made during the last VISUAL mode.</li>
</ul>
<p>For example, using the command <code>:d</code>:</p>
<ul>
<li><code>:1,40d</code> - Delete line 1 to 40 included.</li>
<li><code>:2,$d</code> - Delete every line from the second one till the end of the file.</li>
<li><code>:.,$d</code> - Delete every line from the current one till the end of the file.</li>
<li><code>:%d</code> - Delete every line.</li>
</ul>
<p>You can also do some arithmetic with ranges if you want. For example, let‚Äôs imagine your cursor is on the line 60: the range <code>.,.+10</code> will be equivalent to the range <code>60,70</code>.</p>
<h3 id="visual-mode-and-range">Visual Mode and Range</h3>
<p>If you switch to COMMAND-LINE mode after doing some selection in VISUAL mode, you‚Äôll see these two symbols appearing: <code>'&lt;</code> and <code>'&gt;</code> with a comma <code>,</code> in between. This is a range too!</p>
<p>The symbols <code>'&lt;</code> represents the first line you‚Äôve selected and <code>'&gt;</code> the last line. Each of these are marks; again, we‚Äôll see more about marks below.</p>
<p>In practice, the ranges <code>'&lt;,'&gt;</code> and <code>*</code> are synonym, but you‚Äôll have more flexibility with the first. For example, you can execute a command from the first line you‚Äôve selected till the end of the file with the range <code>'&lt;,$</code>.</p>


  




    





  

<div>
    
    <div>
         <ul>
<li><code>:help [range]</code></li>
<li><code>:help v_:</code></li>
<li><code>:help '&lt;</code></li>
<li><code>:help '&gt;</code></li>
</ul>
 
    </div>
</div>



<h2 id="vims-quickfix-and-location-list">Vim‚Äôs Quickfix And Location List</h2>
<p>Now, let‚Äôs talk about a very useful data structure available in Vim, the quickfix list.</p>
<p>Don‚Äôt confuse the quickfix list and the quickfix window: these are two different entities. The first is a data structure, the second can display this data structure.</p>
<h3 id="quickfix-lists">Quickfix Lists</h3>
<p>You can think of a quickfix list as a set of positions in one or multiple files.</p>
<h4 id="basics-1">Basics</h4>
<p>Let‚Äôs take an example: what happens if you run the command <code>:vimgrep hello *</code>?</p>
<ol>
<li>It will search the pattern ‚Äúhello‚Äù in every file of your working directory.</li>
<li>It will populate a quickfix list with every position matching your pattern ‚Äúhello‚Äù.</li>
<li>It will move your cursor to the first position of the quickfix list.</li>
</ol>
<p>If you want to know more about vimgrep and other tools you can search with, I <a href="https://thevaluable.dev/vim-search-find-replace/">wrote an article about that</a>. Other commands (like <code>:make</code> or <code>:grep</code>) also populate automatically a quickfix list.</p>
<p>Let‚Äôs expand the mystery around marks: these positions in the quickfix list are in fact hidden mark!</p>
<p>The quickfix list is often used to display specific errors in a codebase, often spit out from a compiler or a linter (via the command <code>:make</code> for example), but not only, as we just saw. I call the entries of a quickfix list ‚Äúpositions‚Äù to be more general, but sometimes Vim‚Äôs help will refer to them as ‚Äúerrors‚Äù. Don‚Äôt be confused: it‚Äôs the same idea.</p>
<p>Among other conditions, a quickfix list entry needs to have a filename for you to be able to jump to its position. Otherwise, the entry doesn‚Äôt point to anything. Difficult to move to anything.</p>
<h4 id="useful-commands">Useful Commands</h4>
<p>Here are the commands you can use to navigate through the current quickfix list:</p>
<ul>
<li><code>:cl</code> or <code>:clist</code> - Display all valid entries of the current quickfix list. You can add a range as argument (only numbers).</li>
<li><code>:cc &lt;number&gt;</code> - Move to the <code>&lt;number&gt;</code>th entry of the current quickfix list.</li>
<li><code>:cnext</code> or <code>:cn</code> - Move to the next entry of the current quickfix list.</li>
<li><code>:cprevious</code> or <code>:cp</code> - Move to the previous entry of the current quickfix list.</li>
<li><code>:cfirst</code> or <code>:cfir</code> - Move to the first entry of the current quickfix list.</li>
<li><code>:clast</code> or <code>:clas</code> - Move to the last entry of the current quickfix list.</li>
</ul>
<p>Here are additional commands which make quickfix lists really powerful:</p>
<ul>
<li><code>:cdo &lt;cmd&gt;</code> - Execute a command <code>&lt;cmd&gt;</code> on each valid entry of the current quickfix list.</li>
<li><code>:cexpr &lt;expr&gt;</code> or <code>:cex &lt;expr&gt;</code> - Create a quickfix list using the result of evaluating the Vimscript expression <code>&lt;expr&gt;</code>.</li>
<li><code>:caddexpr &lt;expr&gt;</code> or <code>:cadde &lt;expr&gt;</code> - Appends the result of evaluating the Vimscript expression <code>&lt;expr&gt;</code> to the current quickfix list.</li>
</ul>
<p>If you have no clue how to use the last two commands, you can do for example:</p>
<ul>
<li><code>:cex []</code> - Empty the current quickfix list.</li>
<li><code>:cex system("&lt;cmd&gt;")</code> - Populate your quickfix list with any shell command <code>&lt;cmd&gt;</code>. You can try it with <code>ls</code> for example.</li>
</ul>
<h3 id="the-quickfix-window">The Quickfix Window</h3>
<p>What about displaying the current quickfix list in a new buffer? You can do that with the following command:</p>
<ul>
<li><code>:copen</code> or <code>:cope</code> - Open a window (with a special buffer) to show the current quickfix list.</li>
</ul>
<p>You can only have one quickfix window open. To move to the position of the selected entry of the quickfix list in the quickfix window, hit <code>ENTER</code> or <code>.cc</code>.</p>
<h3 id="location-lists">Location Lists</h3>
<p>A location list is similar to a quickfix list, except that the first is local to a window and the second is global to your Vim instance. In other words, you can have multiple location lists available at the same time (one per window open), but you can only have access to one quickfix list.</p>
<p>The commands for location lists are similar to the ones for the quickfix lists; often, you‚Äôll only have to replace the first <code>c</code> (qui<code>c</code>fix) of the command with <code>l</code> (<code>l</code>ocation).</p>
<p>For example:</p>
<ul>
<li><code>:lli</code> or <code>:llist</code> - Display all valid entries of the current location list. You can add a range as argument (only numbers).</li>
<li><code>:ll &lt;number&gt;</code> - Move to the entry <code>&lt;number&gt;</code> of the current location list.</li>
<li><code>:lnext</code> or <code>:lne</code> - Move to the next entry of the current quickfix list.</li>
</ul>
<p>To populate your location list you can also use the commands <code>:lvimgrep</code> or <code>:lmake</code> for example.</p>
<p>Often, Vim users will use the quickfix list for anything related to errors in their codebase, and the location list for search results. But it‚Äôs up to you at the end of the day. With Vim, you‚Äôre the master of your destiny.</p>


  




    





  

<div>
    
    <div>
         <ul>
<li><code>:help quickfix</code></li>
<li><code>:help quickfix-window</code></li>
<li><code>:help location-list</code></li>
<li><code>:help location-list-window</code></li>
<li><code>:help expr</code></li>
<li><code>:help system()</code></li>
</ul>
 
    </div>
</div>



<h2 id="vims-registers">Vim‚Äôs Registers</h2>
<p>The registers are another big dish in our Vim feast. You can think of registers as places where you can read or write some text. I like to think about them as Vim‚Äôs clipboards.</p>
<h3 id="specifying-a-register">Specifying a Register</h3>
<p>Here‚Äôs a command and a NORMAL mode keystroke to display and <em>specify</em> registers:</p>
<ul>
<li><code>:registers</code> or <code>:reg</code> - Display the content of your registers.</li>
<li><code>"&lt;reg&gt;</code> - This keystroke <em>specif‚Ä¶</em></li></ul></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thevaluable.dev/vim-advanced/">https://thevaluable.dev/vim-advanced/</a></em></p>]]>
            </description>
            <link>https://thevaluable.dev/vim-advanced/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26284618</guid>
            <pubDate>Sat, 27 Feb 2021 13:06:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What You Can Actually Do About Burnout]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26284223">thread link</a>) | @olelu
<br/>
February 27, 2021 | https://www.olesyaluraschi.com/post/what-you-can-actually-do-about-burnout | <a href="https://web.archive.org/web/*/https://www.olesyaluraschi.com/post/what-you-can-actually-do-about-burnout">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.22.8"><div dir="ltr"><div><div id="viewer-4b63n"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img ariahidden="true" data-pin-url="https://www.olesyaluraschi.com/post/what-you-can-actually-do-about-burnout" data-pin-media="https://static.wixstatic.com/media/f4a2eb10b3154a8a8c1bcda2e37e94c0.jpg/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.jpg" src="https://static.wixstatic.com/media/f4a2eb10b3154a8a8c1bcda2e37e94c0.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg"></p></div></div></div></div><p id="viewer-3f4l5"><span>Burnout is becoming an epidemic. This feeling of chronic stress that does not subside is rising not just in healthcare professions, but across all types of professions. </span></p><p id="viewer-1kaiu"><span>What often goes unmentioned is that in psychology everything is a spectrum. The difference between someone who is chronically stressed and the person that is burnt out is only in the eye of the clinician. Many people are living with levels of stress that are unhealthy but are not burnt out. </span></p><p id="viewer-1bqdh"><span>Just because someone is functioning at a somewhat normal level does not mean that they should not concern themselves with mental and physical health optimization. 

</span></p><p id="viewer-71nul"><span>We could all get a little better at optimizing our lifestyles to support our human needs. Many of us have a hard time accepting this humanness. Yet like sleep, our need for mental rest and purpose is real and does not go away. 

</span></p><p id="viewer-biii1"><span>I notice a lot of talk about self-care and the need for the individual person to care for their needs. But I would like to draw attention to the fact that burnout and chronic stress are typically environmental. Meaning that burnout is more often caused by the work environment and not by an individual‚Äôs self-care routine. 

</span></p><p id="viewer-9m3qv"><span>According to scientists from Berkeley and Rutgers, burnout has <a href="https://www.researchgate.net/publication/246546370_Making_a_significant_difference_with_burnout_interventions_Researcher_and_practitioner_collaboration" target="_blank" rel="noopener"><span>six main causes</span></a>:</span></p><ol><li id="viewer-da98q"><p>Unsustainable workload</p></li><li id="viewer-doq1a"><p>Perceived lack of control</p></li><li id="viewer-55t14"><p>Insufficient rewards for effort</p></li><li id="viewer-a9okm"><p>Lack of a supportive community</p></li><li id="viewer-c9lj4"><p>Lack of fairness</p></li><li id="viewer-6an1q"><p>Mismatched values and skills</p></li></ol><p id="viewer-auilq"><span>Many of these causes are difficult to address without organization-wide changes. The opportunity for intervention that may be the most beneficial is in ‚Äúperceived lack of control‚Äù.</span></p><p id="viewer-5utp4"><span>As many of you know who attended my webinar, perception is everything in psychology. And we can shift even our physiological response to stress by shifting our perception. 

</span></p><p id="viewer-4qp9i"><span>So as you start this week, I encourage you to try to shift your thinking around your tasks from, ‚Äúwhat do I have to do today?‚Äù To: </span></p><p id="viewer-7fjsn"><span><strong>‚ÄúWhat am I choosing to do today?‚Äù</strong>

</span></p><p id="viewer-7vbjj"><span>Because in reality, almost all the things we do are choices. We do not have to do anything. We file our taxes because we don‚Äôt want to go to jail. We make dinner because we want to feed our families well. </span></p><p id="viewer-7lokk"><span>We have so many choices in life and we do the things we choose. Remembering that they are choices is key. </span></p></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.olesyaluraschi.com/post/what-you-can-actually-do-about-burnout</link>
            <guid isPermaLink="false">hacker-news-small-sites-26284223</guid>
            <pubDate>Sat, 27 Feb 2021 11:45:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[$38M USD moved for half a penny]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 62 (<a href="https://news.ycombinator.com/item?id=26284143">thread link</a>) | @hggh
<br/>
February 27, 2021 | https://nitter.42l.fr/WhaleAlertBch/status/1365427359264956416 | <a href="https://web.archive.org/web/*/https://nitter.42l.fr/WhaleAlertBch/status/1365427359264956416">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
                        <h2>Transaction c33e23505c95f1cf55e3133d423500686b1c809d3de963ddf4e1257f924b7be2 - Bitcoin Cash (BCH)...</h2>
                        <p>Providing block, transaction, and address data for the BCH and BTC chains.</p>
                        <p><span>explorer.bitcoin.com</span>
                      </p></div></div></div>]]>
            </description>
            <link>https://nitter.42l.fr/WhaleAlertBch/status/1365427359264956416</link>
            <guid isPermaLink="false">hacker-news-small-sites-26284143</guid>
            <pubDate>Sat, 27 Feb 2021 11:26:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to build a Calendly clone in 30 mins]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26283967">thread link</a>) | @mohanarpit
<br/>
February 27, 2021 | https://blog.appsmith.com/how-to-build-a-calendly-clone-in-30-minutes | <a href="https://web.archive.org/web/*/https://blog.appsmith.com/how-to-build-a-calendly-clone-in-30-minutes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1614422600466/jQNaSzTr-.jpeg?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div itemprop="text"><p>I've been a long-time Calendly user and I love how much time it saves me. But I needed a few features that were only available in their premium plans.</p>
<p>Instead of upgrading, I decided to build my own version of Calendly. I used <a target="_blank" href="https://appsmith.com/">Appsmith</a> for the UI and APIs by Google Calendar and Zoom to build this.</p>
<p>You can build this too by following the steps below. <a target="_blank" href="https://app.appsmith.com/applications/600186605b452f525458d6d2/pages/600186605b452f525458d6d4">Click here to try mine.</a> Block my time for a live demo üò¨</p>
<h2 id="connecting-google-calendar">Connecting Google Calendar</h2>
<p>First, we need to set up an API that can fetch calendar events from my Google Calendar.  I specifically needed to use the <a target="_blank" href="https://developers.google.com/calendar/v3/reference/events/list">list events</a> endpoint. This endpoint is authenticated using OAuth so I also had to grab a <code>refresh token</code> to access my calendar. Ideally, this is done by authenticating the user using the app but because other users need to see <em>my calendar</em>, we'll hardcode this.</p>
<p>To grab a <code>refresh token</code>, you have to create an app in your google cloud console and generate a set of OAuth credentials with a client Id and secret. </p>
<ol>
<li><p>Follow <a target="_blank" href="https://support.google.com/cloud/answer/6158849?hl=en">these steps to generate the client ID</a> and come back to the tutorial.</p>
</li>
<li><p>You have to then obtain an authorization code by visiting this URL with the client Id and redirect URI (can be any URI. I used <a href="https://app.appsmith.com/applications" target="_blank">app.appsmith.com/applications</a>).</p>
<pre><code><span>https:</span>/<span>/accounts.google.com/o</span><span>/oauth2/v</span>2/auth?client_id=&lt;YOUR_CLIENT_ID&gt;&amp;response_type=code&amp;redirect_uri=&lt;<span>https:</span>/<span>/app.appsmith.com/applications</span>&gt;&amp;scope=<span>https:</span>/<span>/www.googleapis.com/auth</span><span>/calendar&amp;access_type=offline&amp;prompt=consent</span>
</code></pre></li>
<li><p>You will be prompted to grant your google app permission to view and modify your calendar. (You don't need to wait for Google to approve your OAuth app, you can simply use the unapproved version since we're building a personal tool).</p>
</li>
<li><p>Once you grant the permission, it will redirect to the URL you provided with a code parameter. This is your authorization code which you can use to generate your refresh token</p>
<pre><code><span>&lt;<span>YOUR_REDIRECT_URI</span>&gt;</span>?code=<span>&lt;<span>AUTH_CODE</span>&gt;</span>&amp;scope=https://www.googleapis.com/auth/calendar
</code></pre><p>Taking the authorization code, I generated my refresh token using the following curl</p>
<pre><code>curl --location --request POST <span>'https://oauth2.googleapis.com/token'</span> \
--header <span>'Content-Type: application/x-www-form-urlencoded'</span> \
--<span>data</span>-urlencode <span>'code=&lt;YOUR_AUTH_CODE&gt;'</span> \
--<span>data</span>-urlencode <span>'redirect_uri=https://app.appsmith.com/applications'</span> \
--<span>data</span>-urlencode <span>'client_id=&lt;YOUR_CLIENT_ID&gt;'</span> \
--<span>data</span>-urlencode <span>'client_secret=&lt;YOUR_CLIENT_SECRET&gt;'</span> \
--<span>data</span>-urlencode <span>'grant_type=authorization_code'</span> \
--<span>data</span>-urlencode <span>'https://www.googleapis.com/auth/calendar'</span>
</code></pre><p>This request responds with an Access token &amp; a Refresh token but the Refresh token is all we really need.</p>
</li>
</ol>
<h2 id="fetching-calendar-events">Fetching Calendar Events</h2>
<p>Now we have a token to talk to our calendar, the next step is to create an Appsmith app and fetch all the calendar events.</p>
<ol>
<li>Sign up for <a target="_blank" href="https://app.appsmith.com/user/signup?">Appsmith</a></li>
<li><p>We first need to create an API to generate Access Tokens using the Refresh token we received from the previous CURL. Use the CURL importer and REST client and then replace our Refresh token in the API client.</p>
<pre><code>curl --location --request POST <span>'https://oauth2.googleapis.com/token'</span> \
--header <span>'Content-Type: application/x-www-form-urlencoded'</span> \
--<span>data</span>-urlencode <span>'refresh_token=&lt;YOUR_REFRESH_TOKEN&gt;'</span> \
--<span>data</span>-urlencode <span>'client_id=&lt;YOUR_CLIENT_ID&gt;'</span> \
--<span>data</span>-urlencode <span>'client_secret=&lt;YOUR_CLIENT_SECRET&gt;'</span> \
--<span>data</span>-urlencode <span>'grant_type=refresh_token'</span>
</code></pre><p>Let's name this API refresh_token and hit run to fetch a new access token.
<img src="https://dev-to-uploads.s3.amazonaws.com/i/t33z88sj2jlyfouqlu32.gif"></p>
</li>
<li><p>Configure the refresh_token API to run onPageLoad in the API settings so that we always have a fresh access_token whenever the page is accessed.
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1613537271667/IAhzVJM2b.png?auto=compress" alt="Screen Shot 2021-02-17 at 10.17.33 AM.png"></p>
</li>
<li><p>We then configure an API to fetch events from our calendar and call it fetch_calendar_events. </p>
<pre><code>curl --location --request GET <span>'https</span>:
--header <span>'Authorization</span>: Bearer &lt;ACCESS_TOKEN&gt;'
</code></pre><p>We don't want to hard code the value of the access token because it expires fairly quickly and we also want the start and end times to be dynamic depending on the current time. To do this, we'll use Javascript and moment.js, both of which can be used in Appsmith by writing '{{ }}' in any field. Use this to reference the value of the <code>access_token</code> returned by our <code>refresh_token</code> API and also use <code>moment.js</code> to configure the default value of the start and end times. The following are the javascript snippets I used in my API.</p>
<pre><code>{{<span>refresh_token</span><span>.data</span><span>.access_token</span>}} 
{{<span>moment</span>()<span>.format</span>(<span>"YYYY-MM-DDT00:mm:ss+05:30"</span>)}} 
{{<span>moment</span>()<span>.add</span>(<span>1</span>,<span>"days"</span>)<span>.format</span>(<span>"YYYY-MM-DDT00:mm:ss+05:30"</span>)}} 
</code></pre><p>Replace the placeholders with the above js snippets and hit run to fetch your calendar events!
<img src="https://dev-to-uploads.s3.amazonaws.com/i/wdmxk3d4mex0bx4sbqif.gif"></p>
</li>
</ol>
<h2 id="displaying-free-slots">Displaying Free Slots</h2>
<p>Once we have the events from our calendars, we need to build out a UI to display these events. Appsmith has a simply DnD interface to build UI. We can use the Table to display our events, a date picker to select which day we should fetch events for, and a dropdown to select the duration of the meeting we'd like our users to schedule. My UI looks <a target="_blank" href="https://app.appsmith.com/applications/600186605b452f525458d6d2/pages/600186605b452f525458d6d4">like this</a> but you can get creative and built something that feels intuitive to you. Be sure to name your widgets well. The naming I'm following in this post is</p>
<ul>
<li>durationDropdown</li>
<li>slotDatePicker</li>
<li>eventsTable
With an idea of the layout and inputs we need, we can configure our Table to display the events our API is returning using javascript. <code>{{fetch_calendar_events.data.items}}</code>
<img src="https://dev-to-uploads.s3.amazonaws.com/i/xgugvgiw145ppqbuetpk.png" alt="Alt Text">
No surprise our table doesn't look very readable because APIs are rarely built to work with views out of the box! Now with a little Javascript we can transform the ugly API response into something human-readable and add some logic to show us the free slots instead of the calendar event. The following code goes into the table data property of the <code>eventsTable</code>.<pre><code>{{
<span><span>function</span>(<span></span>) </span>{
<span>let</span> bookings = fetch_calendar_events.data.items;
<span>let</span> bookingIndex = <span>0</span>;
<span>const</span> startHour = <span>10</span>;
<span>const</span> endHour = <span>20</span>;
<span>let</span> startingTime = moment(slotDatePicker.selectedDate, <span>"DD/MM/YYYY"</span>);
startingTime.hour(startHour);
startingTime.minutes(<span>0</span>);
<span>const</span> hr = startingTime.hour();
<span>let</span> slots = [];
<span>const</span> slotDuration = <span>Number</span>(durationDropdown.selectedOptionValue);
<span>while</span> (startingTime.hour() &lt; endHour) {
  <span>if</span> (startingTime.isBefore(moment())) {
    startingTime = moment();
    <span>if</span> (startingTime.minutes() &gt; <span>30</span>) {
      startingTime.minutes(<span>0</span>);
      startingTime.hour(startingTime.hour() + <span>1</span>);
    } <span>else</span> startingTime.minutes(<span>30</span>);
  }
  <span>const</span> booking = bookings[bookingIndex];
  <span>let</span> bookingStart = <span>undefined</span>;
  <span>if</span> (booking) {
    bookingStart = moment(booking.start.dateTime);
  } <span>else</span> {
    bookingStart = moment(DatePicker1.selectedDate, <span>"DD/MM/YYYY"</span>);
    bookingStart.hour(endHour);
    bookingStart.minutes(<span>0</span>);
  }
  <span>const</span> slotNum = <span>Math</span>.floor(<span>Math</span>.round(moment.duration(bookingStart.diff(startingTime)).asMinutes()) / slotDuration);
  <span>for</span> (<span>let</span> i = <span>0</span>; i &lt; slotNum; i++) {
    <span>const</span> slotStartTime = startingTime.format(<span>"HH:mm"</span>);
    startingTime.add(slotDuration, <span>"minutes"</span>);
    <span>const</span> slotEndTime = startingTime.format(<span>"HH:mm"</span>);
    slots.push({
      <span>startTime</span>: slotStartTime,
      <span>endTime</span>: slotEndTime
    });
  }
  startingTime = booking ? moment(booking.end.dateTime) : startingTime.hour(endHour);
  bookingIndex += <span>1</span>;
}
<span>return</span> slots.map(<span>(<span>slot</span>) =&gt;</span> {
  <span>return</span> {
    <span>slot</span>: slot.startTime + <span>" - "</span> + slot.endTime
  }
})
}()
}}
</code></pre>The above logic was really the hardest part of building this application and took the longest to get right (but that was also the most fun part). The code declares a self-invoking function that iterates over the response of the <code>fetch_calendar_events</code> API and adds free time slots to an array <code>slots</code> that is returned by the function. It begins iterating from 10 am to 8 pm (again hardcoding my workday for convenience üò¨) and makes use of the value in the <code>durationDropdown</code> to determine the number of free slots of selected duration that can fit between the current available time and the next calendar event.<pre><code><span>const</span> slotNum = <span>Math</span>.floor(<span>Math</span>.round(moment.duration(bookingStart.diff(startingTime)).asMinutes()) / slotDuration);
</code></pre>It then skips to the end of the next busy calendar event and continues this till it reaches the end of my workday!</li>
</ul>
<h2 id="creating-calendar-events">Creating Calendar Events</h2>
<p>To schedule a meeting, we can create a button on the table and configure it to open a modal once it is clicked. The modal UI can also be custom-built using DnD to capture a user's name, email, and purpose of the meeting. </p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/ozi01s0vdum84jd4olk7.gif"></p>
<p>Name the inputs as <code>nameInput</code>, <code>emailInput</code> and <code>purposeInput</code> so we're able to use them in our API. Let's import the following CURL and name the API create_event</p>
<pre><code>curl 



    "<span>start</span><span>": {
        "</span>dateTime<span>": "</span>&lt;START_TIME&gt;<span>"
    },
    "</span><span>end</span><span>": {
        "</span>dateTime<span>": "</span>&lt;END_TIME&gt;<span>"
    },
    "</span>description<span>": "</span>&lt;DESCRIPTION&gt;<span>",
    "</span>summary<span>": "</span>&lt;TITLE&gt;<span>",
    "</span>attendees<span>": [{ "</span>email<span>": "</span>&lt;EMAIL&gt;<span>" }]
}'</span>
</code></pre><p>In the above API we need to accept dynamic values from our app, so we need to replace some of the params and headers. Below is the list:</p>
<ul>
<li><code>ACCESS_TOKEN</code> with <code>{{refresh_token.data.access_token}}</code>, </li>
<li><code>USER_NAME</code> with <code>{{nameInput.text}}</code>, 
-<code>START_TIME</code> with <code>{{moment(slotDatePicker.selectedDate+" "+eventsTavble.selectedRow.slot.split(" - ")[0], "DD/MM/YYYY HH:mm").toISOString()}}</code>, </li>
<li><code>END_TIME</code> with <code>{{moment(slotDatePicker.selectedDate+" "+eventsTavble.selectedRow.slot.split(" - ")[1], "DD/MM/YYYY HH:mm").toISOString()}}</code>, </li>
<li><code>DESCRIPTION</code> with <code>{{purposeInput.text}}</code>, </li>
<li><code>TITLE</code> with <code>{{nameInput.text + " Meeting with Nikhil"}}</code> and finally</li>
<li><code>EMAIL</code> with <code>{{emailInput.text + " Meeting with Nikhil"}}</code></li>
</ul>
<p>With this, our API is reading values from the <code>eventsTable</code> and the <code>slotDatePicker</code> to create the right event for the selected slot (<code>eventsTable.selectedRow</code>). We can now bind the onClick of the confirm button to call the <code>create_event</code> API and close the modal onSuccess.
<img src="https://dev-to-uploads.s3.amazonaws.com/i/mfw78qzrbojgtyrs6ul8.gif"></p>
<h2 id="video-conferencing">Video Conferencing</h2>
<p>Finally I needed it to send out a Zoom link for every event so I integrated with Zoom's APIs and created a zoom link for my calendar events. (This is one of the things I love about Calendly)
To integrate with zoom, we have to fetch a JWT to authenticate our application requests with zoom. I followed <a target="_blank" href="https://marketplace.zoom.us/docs/guides/auth/jwt">this guide</a>.
With a JWT in hand, it became as easy as importing another CURL and naming it create_zoom</p>
<pre><code>curl 



  "topic": "&lt;TOPIC&gt;",
  "type": <span>2</span>,
  ‚Ä¶</code></pre></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.appsmith.com/how-to-build-a-calendly-clone-in-30-minutes">https://blog.appsmith.com/how-to-build-a-calendly-clone-in-30-minutes</a></em></p>]]>
            </description>
            <link>https://blog.appsmith.com/how-to-build-a-calendly-clone-in-30-minutes</link>
            <guid isPermaLink="false">hacker-news-small-sites-26283967</guid>
            <pubDate>Sat, 27 Feb 2021 10:47:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Bupstash Garbage Collector]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 10 (<a href="https://news.ycombinator.com/item?id=26282771">thread link</a>) | @andrewchambers
<br/>
February 26, 2021 | https://acha.ninja/blog/the_bupstash_garbage_collector/ | <a href="https://web.archive.org/web/*/https://acha.ninja/blog/the_bupstash_garbage_collector/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<h2 id="overview">Overview</h2>
<p>My backup tool <a href="https://github.com/andrewchambers/bupstash">bupstash</a> stores backups in a repository as an evergrowing set of
encrypted data trees which use content addressing and structural sharing
to deduplicate data. In order to delete unused backups we need to do something very similar to how
many programming languages free unreferenced memory - garbage collection. This post will
explain the evolution and implementation of the garbage collector in bupstash for the curious.</p>
<h2 id="stop-mark-and-sweep">Stop, mark and sweep.</h2>
<p>The initial version of the bupstash garbage collector was a naive stop-the-world
garbage collector. It walks all backup data trees creating a set of reachable data chunks
by address and then deletes unreachable data.</p>
<p>The algorithm can be described as:</p>
<ul>
<li>Stop the world.</li>
<li>Mark.</li>
<li>Sweep.</li>
<li>Restart the world.</li>
</ul>
<p>Here is the pseudo code:</p>
<pre><code>lock_repository()
reachable_addresses = empty_set()

for data_tree in all_backups():
  
  work_list = new_work_list_from_backup(data_tree.root_address)
  
  until work_list.is_empty():
    
    node_height, node_address = work_list.pop()
    reachable_addresses.add(node_address)
    
    if node_height != 0:
      add_child_nodes_to_worklist(work_list, node_address)

for chunk_address in repository:
  if not reachable_addresses.has(chunk_address):
    delete_chunk(chunk_address)

unlock_repository()
</code></pre><p>This algorithm is short and sweet, but if the repository is very large our repository becomes unavailable
for a potentially long time. The next version shortens the downtime of the repository significantly.</p>
<h2 id="mark-stop-mark-and-sweep">Mark, stop, mark and sweep.</h2>
<p>The bupstash v0.6.4 garbage collector takes advantage of two facts:</p>
<ul>
<li>Because many backups share data with each other, we can memoize the walk phase to skip work.</li>
<li>Because backups are immutable while the repository is unlocked, we can walk most of them without
stopping the world.</li>
</ul>
<p>This time we walk the repository without the repository locked, then lock it and walk
the repository again using our memoization to quickly complete the job. If any new backups
appeared during our first walk, we are guaranteed to mark them now that the repository lock is held. Doing the majority of the slow mark phase without locking the repository greatly increases
the repository availability for other operations.</p>
<p>The algorithm can be described as:</p>
<ul>
<li>Memoized mark repository.</li>
<li>Stop the world.</li>
<li>Memoized mark repository.</li>
<li>Sweep.</li>
<li>Restart the world.</li>
</ul>
<p>Here is the pseudo code:</p>
<pre><code>walked_trees = empty_set()
reachable_addresses = empty_set()

func walk_repository():

  for data_tree in all_backups():

    if walked_trees.has(data_tree):
      continue

    walked_trees.add(data_tree)
    
    work_list = new_work_list_from_backup(data_tree.root_address)
    
    until work_list.is_empty():
      
      node_height, node_address = work_list.pop()
      already_walked = reachable_addresses.has(node_address)
      reachable_addresses.add(node_address)
      
      if node_height != 0 and not already_walked:
        add_child_nodes_to_worklist(work_list, node_address)

walk_repository()
lock_repository()
walk_repository()

for chunk_address in repository:
  if not reachable_addresses.has(chunk_address):
    delete_chunk(chunk_address)

unlock_repository()
</code></pre><h2 id="mark-stop-mark-bloom-adjust-and-sweep">Mark, stop, mark, bloom adjust, and sweep</h2>
<p>The next version of the garbage collector is a WIP unreleased version.</p>
<p>In bupstash each data chunk address is 32 bytes, which means we need at least 32 bytes of RAM per chunk in the repository to successfully perform a garbage collection. For a repository containing a 100 million chunks or
more this could easily exhaust memory on a busy or small system.</p>
<p>If we are willing to accept a very low probability of retaining some extra data, we can reduce this down
to a few <em>bits</em> per chunk reducing memory usage by 64x or more.
To do this we use a probabilistic data structure called a <a href="https://en.wikipedia.org/wiki/Bloom_filter">bloom filter</a> to track reachable addresses.</p>
<p>Bloom filters have two downsides:</p>
<ul>
<li>They can have false positives. For us this means we might keep a data chunk by accident we could have actually freed.</li>
<li>We must presize them. They cannot grow if we got the size wrong.</li>
</ul>
<p>Luckily for us these downsides are not bad:</p>
<ul>
<li>Because memory use is so low per address, we can generously size our bloom filter reducing false positives to less than one percent, even for large repositories.</li>
<li>We can easily detect when a bloom filter gets overly full and produces many false positives, and thus adjust it‚Äôs size for future garbage collections.</li>
</ul>
<p>As a bonus, the bupstash implementation of a bloom filter is actually simpler than a hash table, with the implemenation
weighing in at around 30 lines of code plus tests and helpers.</p>
<p>The algorithm can be described as:</p>
<ul>
<li>Memoized mark repository.</li>
<li>Stop the world.</li>
<li>Memoized mark the repository.</li>
<li>Adjust bloom filter size.</li>
<li>Sweep.</li>
<li>Restart the world.</li>
</ul>
<p>Here is the pseudo code:</p>
<pre><code>walked_trees = empty_set()
walked_addresses = empty_cache()
reachable_addresses = empty_bloom_filter(repository_bloom_size())

func walk_repository():

  for data_tree in all_backups():

    if walked_trees.has(data_tree):
      continue

    walked_trees.add(data_tree)
    work_list = new_work_list_from_backup(data_tree.root_address)
    
    until work_list.is_empty():
      
      node_height, node_address = work_list.pop()
      already_walked = walked_addresses.has(node_address)
      reachable_addresses.add(node_address)
      walked_addresses.add(node_address)
      
      if node_height != 0 and not already_walked:
        add_child_nodes_to_worklist(work_list, node_address)

walk_repository()
lock_repository()
walk_repository()

if bloom_filter_overutilized(reachable_addresses):
  increase_bloom_filter_size_for_next_gc()
else if bloom_filter_underutilized(reachable_addresses):
  decrease_bloom_filter_size_for_next_gc()

for chunk_address in repository:
  if not reachable_addresses.has(chunk_address):
    delete_chunk(chunk_address)

unlock_repository()
</code></pre><p>One thing to note about this implementation is that because the bloom filter has false positives we can not use it to skip processing addresses, instead
we must introduce a new cache for this purpose. A cache also lets us put a fixed upper bound on memory usage for large repositories.</p>
<p>Overall for large repositories, the addition of a bloom filter reduces ram requirements from the gigabyte range down to tens of megabytes while increasing the repository size by only a fraction of a percent.</p>

<p>The bupstash garbage collector tries hard to keep the repository avaliable as long
as possible while also providing excellent performance with a small memory profile. If you are implementing
a content addressed storage system, this post will hopefully provide you with some new ideas.</p>
<p>In the future bupstash could follow the same path as programming language garbage collectors to find more improvements:</p>
<ul>
<li>Parallelism in the mark phase.</li>
<li>Parallelism in the sweep phase.</li>
<li>Incremental collection.</li>
<li>Object generations.</li>
<li>Write barriers</li>
<li>Yet to be invented techniques‚Ä¶</li>
</ul>
<p>As always, thanks for reading and please feel free to give <a href="https://github.com/andrewchambers/bupstash">bupstash</a> a try.</p>

			</div></div>]]>
            </description>
            <link>https://acha.ninja/blog/the_bupstash_garbage_collector/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26282771</guid>
            <pubDate>Sat, 27 Feb 2021 04:59:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Do farmers have the right to repair their own equipment?]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 39 (<a href="https://news.ycombinator.com/item?id=26282642">thread link</a>) | @curmudgeon22
<br/>
February 26, 2021 | https://www.albertafarmexpress.ca/news/do-farmers-have-the-right-to-repair-their-own-equipment/ | <a href="https://web.archive.org/web/*/https://www.albertafarmexpress.ca/news/do-farmers-have-the-right-to-repair-their-own-equipment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<p><span><span>Reading Time: </span> <span>5</span> <span>minutes</span></span></p><p>It‚Äôs a story that‚Äôs becoming more and more common.</p>
<p>You‚Äôre smack dab in the middle of harvest and an error code appears on your combine‚Äôs monitor. A call to the dealership results in a long wait for a technician to come out, with anxiety rising with every passing hour because priceless harvesting time is being lost or, worse, nasty weather is moving in.</p>
<p>Then when the technician gets to your farm, he determines what is needed is to reset (or ‚Äòflash‚Äô) the onboard computer.</p>
<p>That happened to Cole Siegle last fall when he was harvesting canola, leaving the Fairview-area producer to wonder why he can‚Äôt have access to the same diagnostic tools.</p>
<div id="attachment_133445"><p><img loading="lazy" src="https://static.albertafarmexpress.ca/wp-content/uploads/2021/02/22120509/repair-rights1-siegle-supplied-150x150.jpg" alt="" width="150" height="150" srcset="https://static.albertafarmexpress.ca/wp-content/uploads/2021/02/22120509/repair-rights1-siegle-supplied-150x150.jpg 150w, https://static.albertafarmexpress.ca/wp-content/uploads/2021/02/22120509/repair-rights1-siegle-supplied.jpg 300w" sizes="(max-width: 150px) 100vw, 150px"></p><p>Cole Siegle.<br><small><i>photo:</i><span> Supplied </span></small></p></div>
<p>‚ÄúIf I could have done that myself or been able to use a mechanic or a technician who‚Äôs closer to me, our downtime could have gone from six hours to two hours,‚Äù he said. ‚ÄúThat four hours could have been the difference between getting&nbsp;a crop off before the snow or not.‚Äù</p>
<p>But these days it‚Äôs dealerships ‚Äî via sales and service agreements with manufacturers ‚Äî that have legal access to these diagnostic tools. So when an error message pops up, farmers and independent mechanics are out in the cold, sometimes literally.</p>

<ul>
<li><strong>Read more: <a href="https://www.albertafarmexpress.ca/news/connectivity-grey-under-new-trade-agreement/">Connectivity ‚Äògrey‚Äô under new trade agreement</a></strong></li>
<li><strong>Read more: <a href="https://www.albertafarmexpress.ca/news/remote-diagnostics-blocked-by-poor-internet-on-farms/">Remote diagnostics blocked by poor internet on farms</a></strong></li>

</ul>
<p>‚ÄúAs a producer I think we need access to these diagnostic tools,‚Äù said Siegle. ‚ÄúIf (manufacturers) want to continue to build equipment like this that‚Äôs fine, but we need access to the laptops with the programs that we can plug into our equipment so we can buy whatever part we need.‚Äù</p>
<p>Equipment manufacturers make a lot of repair information public, including what codes mean, but giving access to proprietary tools raises several issues, said John Schmeiser, CEO of the Western Equipment Dealers Association.</p>
<p>The hardware and software Siegle and other farmers wish to acquire for repair purposes can also be used to modify equipment to the detriment of machinery, warranties, the lawfulness of their operations and even their own safety, he said.</p>
<p>‚ÄúI applaud the manufacturers that put a lot of stuff online&nbsp;like parts, service manuals and operational guides. But it‚Äôs a slippery slope,‚Äù said Schmeiser.</p>
<p>‚ÄúWhen you provide special tools to somebody outside a controlled environment like the manufacturer/dealer&nbsp;relationship, that opens the door for illegal modification. They lose that control when they provide&nbsp;diagnostic or special tools to a third-party retailer with whom they don‚Äôt have the same sales and services agreement.‚Äù</p>
<h2>Repair versus modify</h2>
<p>‚ÄòRight to repair‚Äô is a term being thrown around a lot in ag circles today, but it means different things to different people.</p>
<p>For Siegle and other like-minded producers, it means the right to either repair equipment themselves or hire an unaffiliated local mechanic ‚Äî just as farmers have done throughout the history of mechanized agriculture.</p>
<div id="attachment_133446"><p><img loading="lazy" src="https://static.albertafarmexpress.ca/wp-content/uploads/2021/02/22120516/SchmeiserJohn-150x150.jpg" alt="" width="150" height="150" srcset="https://static.albertafarmexpress.ca/wp-content/uploads/2021/02/22120516/SchmeiserJohn-150x150.jpg 150w, https://static.albertafarmexpress.ca/wp-content/uploads/2021/02/22120516/SchmeiserJohn.jpg 300w" sizes="(max-width: 150px) 100vw, 150px"></p><p>John Schmeiser.<br><small><i>photo:</i><span> Supplied </span></small></p></div>
<p>But Schmeiser argues that farmers‚Äô right to repair is already entrenched in law in many jurisdictions (including Alberta) as long as the owner is using the equipment for its intended purpose and doesn‚Äôt violate manufacturer standards.</p>
<p>The right to repair (R2R) movement (which started in the tech sphere but expanded to other areas, such as ag equipment) is actually a front for promoting the ‚Äòright to modify,‚Äô he said.</p>
<p>Often that means making modifications to bypass environmental controls in order to boost vehicle horsepower.</p>

<p>‚ÄúThere are over 25 states that had R2R bills introduced ‚Äî every one impacting farm equipment has been defeated,‚Äù said Schmeiser. ‚ÄúThey haven‚Äôt passed&nbsp;because as the state representatives were hearing the rationale coming from R2R advocates, they were finding out that what they were really looking for is to modify the equipment in a manner where&nbsp;it can get around emission standards and violate U.S. Environmental Protection Agency laws and regulations.‚Äù</p>
<h2>DEF delete and chipping</h2>
<p>There are two specific actions that concern Schmeiser‚Äôs association (a Missouri-based advocacy group for equipment dealerships with a Canadian headquarters in Calgary).</p>
<p>One is circumventing Diesel Exhaust Fluid (or DEF) emissions systems using grey-market ‚ÄòDEF delete‚Äô kits to boost horsepower on tractors and combines. Another is ‚Äòchipping‚Äô or ‚Äòtuning,‚Äô which usually refers to adding a specific chip to increase horsepower.</p>
<p>Bypassing emissions control systems contravenes the Canadian Environmental Protection Act, leaving producers open to fines, said Schmeiser, adding he was unsure of the Canadian penalties but breaches of similar U.S. laws have produced fines in excess of $300,000.</p>
<p>Part of the problem is that not everyone knows this practice is illegal. Another is it comes with a host of potential risks including damaged equipment, voided warranties, reduced trade-in value, insurance cancellation and even safety, he said.</p>
<p>‚ÄúWe have seen an unusual number of combine fires this (past) year,‚Äù said Schmeiser.</p>
<p>‚ÄúNow, we have had some dry conditions but in some of those cases the combines were running hotter (due to alterations).</p>

<p>‚ÄúThe insurance company will look at it from the standpoint that you have altered your combine away from the manufacturer‚Äôs original standards and you are going to be denied insurance coverage in a situation like that.‚Äù</p>
<p>But Siegle isn‚Äôt convinced.</p>
<p>He said he has no interest in making such modifications to his equipment and suggested it‚Äôs a straw man argument from manufacturing and dealership interests seeking exclusive control over the diagnostic tools.</p>
<p>The kind of modification Siegle is concerned about losing is the legal ability to place, for example, a third-party manufacturer‚Äôs custom header on a John Deere combine. Specifically, he worries about big manufacturers denying third-party companies the codes required for an implement to interact with a tractor or combine.</p>
<p>Schmeiser said this isn‚Äôt considered modification but rather interoperability or connectivity: A third party designing an implement to attach to another manufacturer‚Äôs product. This is a long-standing tradition in the manufacturing and dealership industries that few if anyone has any interest in ceasing, he said (see accompanying story).</p>
<h2>The business aspect</h2>
<p>All of this still does not answer Siegle‚Äôs fundamental question: Why can‚Äôt I ‚Äî or mechanics unaffiliated with specific manufacturers ‚Äî have all the tools required to diagnose and fix a mechanical problem?</p>
<p>In the past it was relatively easy for mechanically minded producers and unaffiliated mechanics to repair machinery because it ran on tried-and-traditional engineering principles. This is still by and large the case, said Schmeiser, adding 95 per cent of equipment issues can still be fixed mechanically.</p>
<p>He said he understands the frustration farmers feel by not having diagnostic tools at their fingertips. But at the same time dealerships have rights as well, especially when one considers the considerable training and expense needed to obtain service contracts with manufacturers.</p>
<p>‚ÄúWhat the farmer is speaking to is the frustration of being down. He wants to get up and running as quickly as possible. We get that,‚Äù said Schmeiser.</p>
<p>‚ÄúBut the moment the manufacturers start providing special tools or diagnostics&nbsp;equipment to businesses that are outside of their dealer contracts, doesn‚Äôt that diminish the value of the contract in the dealer‚Äôs eyes as well?‚Ä¶ So what‚Äôs the incentive for the manufacturer&nbsp;to provide special tools or even service manuals to a third party that would be competing with somebody they have a contractual relationship with&nbsp;(and) who is also making a substantial financial investment to be the representative for the manufacturer?‚Äù</p> </div>
</div></div>]]>
            </description>
            <link>https://www.albertafarmexpress.ca/news/do-farmers-have-the-right-to-repair-their-own-equipment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26282642</guid>
            <pubDate>Sat, 27 Feb 2021 04:40:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Read Assembly Language]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26282634">thread link</a>) | @swolchok
<br/>
February 26, 2021 | https://wolchok.org/posts/how-to-read-assembly-language/ | <a href="https://web.archive.org/web/*/https://wolchok.org/posts/how-to-read-assembly-language/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Why, in 2021, does anyone need to learn about assembly language?
First, reading assembly language is the way to know <em>exactly</em> what
your program is doing. Why, <em>exactly</em>, is that C++ program 1 MiB (say)
instead of 100 KiB? Is it possible to squeeze some more performance
out of that function that gets called all the time?</p><p>For C++ in particular, it is easy to forget or just not notice some
operation (e.g., an implicit conversion or a call to a copy
constructor or destructor) that is implied by the source code and
language semantics, but not spelled out explicitly. Looking at the
assembly generated by the compiler puts everything in plain sight.</p><p>Second, the more practical reason: so far, posts on this blog haven‚Äôt
required an understanding of assembly language, despite constant
links to <a href="https://godbolt.org/">Compiler Explorer</a>. By <a href="https://twitter.com/ScottWolchok/status/1361022423399755776">popular
demand</a>,
however, our next topic will be parameter passing, and for that, we
will need a basic understanding of assembly language. We will focus
only on <em>reading</em> assembly language, not writing it.</p><p>The basic unit of assembly language is the <strong>instruction</strong>. Each
machine instruction is a small operation, like adding two numbers,
loading some data from memory, jumping to another memory location
(like the dreaded <a href="https://en.wikipedia.org/wiki/Goto">goto</a>
statement), or calling or returning from a function. (The x86
architecture has <a href="https://en.wikipedia.org/wiki/Complex_instruction_set_computer">lots of not-so-small
instructions</a>
as well. Some of these are <a href="https://stackoverflow.com/questions/5959890/enter-vs-push-ebp-mov-ebp-esp-sub-esp-imm-and-leave-vs-mov-esp-ebp">legacy
cruft</a>
built up over the 40-odd years of the architecture‚Äôs existence, and
others are <a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions">newfangled
additions</a>. )</p><p>Our first toy example will get us acquainted with simple
instructions. It just calculates the square of the
<a href="https://en.wikipedia.org/wiki/Norm_(mathematics)#Euclidean_norm">norm</a>
of a 2D vector:</p><div><pre><code data-lang="c++"><span>#include</span> <span>&lt;cstdint&gt;</span><span>
</span><span></span>
<span>struct</span> <span>Vec2</span> {
    <span>int64_t</span> x;
    <span>int64_t</span> y;
};

<span>int64_t</span> <span>normSquared</span>(Vec2 v) {
    <span>return</span> v.x <span>*</span> v.x <span>+</span> v.y <span>*</span> v.y;
}
</code></pre></div><p>and here is the resulting x86_64 assembly from clang 11, <a href="https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAFlICsupVs1qhkAUgBMAISnTSAZ0ztkBPHUqZa6AMKpWAVwC2tQVvQAZPLUwA5YwCNMxEADZSAB1QLC62nsMTQS8fNTorG3sjJxd3JRUw2gYCZmICAONTTkVlTFU/ZNSCCLtHZzdFFLSMoOyFKuLrUujy1wBKRVQDYmQOAHIpAGZrZEMsAGpxQZ1kevx6KexxAAYAQRXV%2BuIDVXGANTzJSYB2WTXxi/HrAlduAH0CcYAPKbPVy6v6W4fxgE9XjbiY4AEQBaw212%2Bj1oJCMDAAjgZUph0BADsgjgA3NonN4fYiYAjdWjjTEAOie4wAVKSKZMZLTftTGWD1iC%2Bh1WCA%2BgBWPqkUx9Zb81DcnRyOTjBRdHqYemDTj8gjc4VtDoAaxAg0GZO1ev1BvcXL63H5guFpFFfX5ChAy1IyqFHNIcFgSDQRg8eHYZAoEA9Xp9KGEok4nGW2So3oIzltEAcKv5DmsqV%2B3MVpA9Ri0BAA8rRWGmnaQsEYRMB2ImS3gCflMZhbcXME88gYY%2Bn%2BddlB2hHgHMRU3osD2CMQ8EYOx0aPQmGwODx%2BIIQ2IJTJew5bZAOqgPIlGwBaXODcb7uZTYESGRySQW%2BJ5RKabQ1LKkcwlKIxYLeXx0Z9f0J%2BO%2BZQuHUuT5HQhTVPomSCHe4FJA0QEtCBlRFH%2BdSIU0H7lJwHTSt0vRcJy3J8gKVZWk8AAcrj7rc4yjOW4xhmSyxkpw4wQLghAkPK2TjHonres4vE4uKV4yEqiZqqQmrarqBoKdqRrcqaZHFlaNp2g6UkujAiAoKggk%2BuQlABkJLgMaG4aRtGsaUAmxbJrQqY9lmOb5oWValuWlbFvgtZqPWjYWs2rbtn0GZdsaFqsH2A7EL8Q79Bao7jpOpDTowLCVguAiSEI5YoKu8ixRu8DbrufgHkeJ5noMF7FTeNpgQ%2BEDmOhr7aEhn7ZCEP7%2BNBtSeN%2BiTdThOQJAUDQdXBiSQY0kTAbB02DS%2B9RFGNIF4TKhG4UIJFmuR3JUTRdGWcATGcCxbEcVxRDELxpD8YZgbCUMkiicVklOtJsk6opin7Sah3qdymn2o6qrEX0kggxaGnaT9HT1sQPgaNwQA%3D%3D">via Compiler Explorer</a>:<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p><div><pre><code data-lang="asm">        <span>imulq</span>   %rdi, %rdi
        <span>imulq</span>   %rsi, %rsi
        <span>leaq</span>    (%rsi,%rdi), %rax
        <span>retq</span>
</code></pre></div><p>Let‚Äôs talk about that first instruction: <code>imulq %rdi, %rdi</code>. This
instruction <a href="https://www.felixcloutier.com/x86/imul">performs signed integer
multiplication</a>. The <code>q</code>
suffix tells us that it is operating on 64-bit quantities. (In
contrast, <code>l</code>, <code>w</code>, and <code>b</code> would denote 32-bit, 16-bit, and 8-bit,
respectively.) It multiplies the value in the first given register
(<code>rdi</code>; register names are prefixed with a <code>%</code> sign) by the value in
the second register and stores the result in that second
register. This is squaring <code>v.x</code> in our example C++ code.</p><p>The second instruction does the same with the value in <code>%rsi</code>, which
squares <code>v.y</code>.</p><p>Next, we have an odd instruction: <code>leaq (%rsi,%rdi), %rax</code>. <code>lea</code>
stands for ‚Äúload effective address‚Äù, and it stores the address of the
first operand into the second operand. <code>(%rsi, %rdi)</code> means ‚Äúthe
memory location pointed to by <code>%rsi + %rdi</code>‚Äù, so this is just adding
<code>%rsi</code> and <code>%rdi</code> and storing the result in <code>%rax</code>. <code>lea</code> is a quirky
x86-specific instruction; on a more
<a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer">RISC</a>-y
architecture like ARM64, we would expect to see a plain old <code>add</code>
instruction.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></p><p>Finally, <code>retq</code> returns from the <code>normSquared</code> function.</p><p>Let‚Äôs take a brief detour to explain what the registers we saw in our
example are. Registers are the ‚Äúvariables‚Äù of assembly
langauge. Unlike your favorite programming language (probably), there
are a finite number of them, they have standardized names, and the
ones we‚Äôll be talking about are at most 64 bits in size. Some of them
have specific uses that we‚Äôll see later. I wouldn‚Äôt be able to rattle
this off from memory, but <a href="https://en.wikipedia.org/wiki/X86-64#Architectural_features">per
Wikipedia</a>,
the full list<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> of 16 registers on x86_64 is <code>rax</code>, <code>rcx</code>, <code>rdx</code>, <code>rbx</code>,
<code>rsp</code>, <code>rbp</code>, <code>rsi</code>, <code>rdi</code>, <code>r8</code>, <code>r9</code>, <code>r10</code>, <code>r11</code>, <code>r12</code>, <code>r13</code>,
<code>r14</code>, and <code>r15</code>.</p><p>Now, let‚Äôs extend our example to debug print the <code>Vec2</code> in <code>normSquared</code>:</p><div><pre><code data-lang="c++"><span>#include</span> <span>&lt;cstdint&gt;</span><span>
</span><span></span>
<span>struct</span> <span>Vec2</span> {
    <span>int64_t</span> x;
    <span>int64_t</span> y;
<span>    <span>void</span> <span>debugPrint</span>() <span>const</span>;
</span>};

<span>int64_t</span> <span>normSquared</span>(Vec2 v) {
<span>    v.debugPrint();
</span>    <span>return</span> v.x <span>*</span> v.x <span>+</span> v.y <span>*</span> v.y;
}
</code></pre></div><p>and, again, let‚Äôs see <a href="https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAFlICsupVs1qhkAUgBMAISnTSAZ0ztkBPHUqZa6AMKpWAVwC2tEJICcpLegAyeWpgByxgEaZiIAGykADqgWE6rR6hiaCfgFqdHYOzkZuHt5KKlG0DATMxAQhxqYWisqYqkHpmQQxTq7uXooZWTlhnLVlFXEJXgCUiqgGxMgcAORSAMz2yIZYANTiwzrICgT49DPY4gAMAILrGwvEBqqTAGpFktMA7LKbk9eT9gSe3AD6BJMAHjOXGze39A/PkwBPD7bb4AN1QeHQkywLgMwAACsQ7hAOpM0LQFsDNuIzgARLFbTZ3P4vWgkIwMACOBkymHQEGOyFOoNROM%2BYIAdDC4YjkR0Cd9iJgCL1aJNQRzXpMAFTiyXTGRygEypUEnG4gZdVggAYAVgGpFMAzWBtQOp0cjkkwUPT6mAVw04BoIOpNHS6AGsQMNhhyff6A4HvNqBtwDUaTaQzQMDQoQGtSC7jZrSHBYEg0EYfHh2GQKBBM9ncyhhKJOJw1k0qDmCO44xAXK6DS57JkATqnaRM0YtAQAPK0Vjt5OkLBGETAdhN0d4IXFUGYOMjzCvIoGWsdg13ZSboR4FzENt6LC7ghIoybro0ehMNgcHj8QSlsSWmR7lxxyBdVA%2BVJLgC0fbDJM/4LOgMy4hIMhyJIkbJEUqSaNoDSmE01itFUHhNBEgR0Ch4T%2BLhtAYfE1RNPBxR0KU9T6LkggUak1HlPYlSkVhzQ0aEqEccxsSYVwXQ2r0/QCUIOr6oa07Rq8AAcnj/g8aLPpM5YcmsHKcJMEC4IQJAOk0kx6FmObuPpqIWtBMjOk27qkF6Pp%2BoGTk%2BsGOphpJI7RrG8aJjZqYwIgKCoMZubkJQhYmR44wTuWlakNWrC1sQ9aNiOLa0G2u7dr2A5DtOY4TlOI74HOagLkukYrmuG4DJ224hpGrD7oexAAsegyRmeeAXrVKbXowLBTg%2BAiSEIE4oK%2B8hNR%2B8Dfr%2BQQAUBIFgRBUGyDIsGxoUlGmBA1j4Zwo3oSxbRkcMviEakB2jThqQke0nDnQxJR1NktGNKNz1Ua991nTx108b9WHDIJtoiZwWrieGUk6rJ8mKdFogqZwakaVpOlEMQ%2BmkIZwVFqZIySOZk3Wcmtn2b6znOWJobQ55OreQmSZupDAySHTkZeb5ZNdAuyVBCA3BAA">the generated assembly</a>:</p><div><pre><code data-lang="asm">        <span>subq</span>    <span>$24</span>, %rsp
        <span>movq</span>    %rdi, <span>8</span>(%rsp)
        <span>movq</span>    %rsi, <span>16</span>(%rsp)
        <span>leaq</span>    <span>8</span>(%rsp), %rdi
        <span>callq</span>   <span>Vec2</span>::<span>debugPrint</span>() <span>const</span>
        <span>movq</span>    <span>8</span>(%rsp), %rcx
        <span>movq</span>    <span>16</span>(%rsp), %rax
        <span>imulq</span>   %rcx, %rcx
        <span>imulq</span>   %rax, %rax
        <span>addq</span>    %rcx, %rax
        <span>addq</span>    <span>$24</span>, %rsp
        <span>retq</span>
</code></pre></div><p>In addition to the obvious call to <code>Vec2::debugPrint() const</code>, we have
some other new instructions and registers! <code>%rsp</code> is special: it is
the ‚Äústack pointer‚Äù, used to maintain the <a href="https://en.wikipedia.org/wiki/Call_stack">function call
stack</a>. It points to the
bottom of the stack, which grows ‚Äúdown‚Äù (toward lower addresses) on
x86. So, our <code>subq $24, %rsp</code> instruction is making space for three
64-bit integers on the stack. (In general, setting up the stack and
registers at the start of your function is called the <a href="https://en.wikipedia.org/wiki/Function_prologue">function
prologue</a>.) Then, the
following two <code>mov</code> instructions store the first and second arguments
to <code>normSquared</code>, which are <code>v.x</code> and <code>v.y</code> (more about how parameter
passing words in the next blog post!) to the stack, effectively
creating a copy of <code>v</code> in memory at the address <code>%rsp + 8</code>. Next, we
load the address of our copy of <code>v</code> into <code>%rdi</code> with <code>leaq 8(%rsp), %rdi</code> and then call <code>Vec2::debugPrint() const</code>.</p><p>After <code>debugPrint</code> has returned, we load <code>v.x</code> and <code>v.y</code> back into
<code>%rcx</code> and <code>%rax</code>. We have the same <code>imulq</code> and <code>addq</code> instructions as
before. Finally, we <code>addq $24, %rsp</code> to clean up the 24
bytes<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> of stack space we allocated at the start of
our function (called the <a href="https://en.wikipedia.org/wiki/Function_prologue#Epilogue">function
epilogue</a>),
and then return to our caller with <code>retq</code>.</p><p>Now, let‚Äôs look at a different example. Suppose that we want to print
an uppercased C string and we‚Äôd like to avoid heap allocations for
smallish strings.<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> We might write something like
the following:</p><div><pre><code data-lang="c++"><span>#include</span> <span>&lt;cstdio&gt;</span><span>
</span><span>#include</span> <span>&lt;cstring&gt;</span><span>
</span><span>#include</span> <span>&lt;memory&gt;</span><span>
</span><span></span>
<span>void</span> <span>copyUppercase</span>(<span>char</span> <span>*</span>dest, <span>const</span> <span>char</span> <span>*</span>src);

<span>constexpr</span> size_t MAX_STACK_ARRAY_SIZE <span>=</span> <span>1024</span>;

<span>void</span> <span>printUpperCase</span>(<span>const</span> <span>char</span> <span>*</span>s) {
    <span>auto</span> sSize <span>=</span> strlen(s);
    <span>if</span> (sSize <span>&lt;=</span> MAX_STACK_ARRAY_SIZE) {
        <span>char</span> temp[sSize <span>+</span> <span>1</span>];
        copyUppercase(temp, s);
        puts(temp);
    } <span>else</span> {
        <span>// std::make_unique_for_overwrite is missing on Godbolt.
</span><span></span>        std<span>::</span>unique_ptr<span>&lt;</span><span>char</span>[]<span>&gt;</span> temp(<span>new</span> <span>char</span>[sSize <span>+</span> <span>1</span>]);
        copyUppercase(temp.get(), s);
        puts(temp.get());
    }
}
</code></pre></div><p>Here is <a href="https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAFlICsupVs1qhkAUgBMAISnTSAZ0ztkBPHUqZa6AMKpWAVwC2tEAHZeW9ABk8tTADljAI0zEuANlIAHVAsLqtHqGJua8vv5qdLb2Tkau7pxeSipRtAwEzMQEwcamForKmKqBGVkEMY4ubp6Kmdm5oQUK9RV2VfE1SQCUiqgGxMgcAORSAMx2yIZYANTiYzrILfio89jiAAwAguOT05hzC0sExHbAa5s7khO0Uwaz8zpGmEYkAJ4X25cAbqh46DM0N43gBVbzeNwsJQQZAILIzABUWBapEBdBagLhxERCkG3Xmsi%2B2zQtBamAAHt5sf4AF6YAD6BBmAFktgANekMAAqWx0AGl6VsAEpCrYATU5AEkAFrYQ4AERmnA2km4BMuPz%2BAKpdgIYIhxB0zGhJIxsPhCIU3TmZkJWxmDpmzAMRBmCgYeDpCrdJ3YtAgVvV20dMzwVBmAY9Xse80VrI53N5AuFoolDBl2Gt4ltlxDIfN2IIL284gArNJ3Z6DnIlWX5UH7XmHUDQeDIcbMBAi0ZvKjA2M7U2Hd4XQou8X8QPc47s4rlEobYOhwB6Zc%2B9AgEBGZgAawZBloeAAjgYGTRiPTUN83AB3U5F0MKGZGPAKfyiGZ0GZ6Ht4djY7BKVYEg3AAOmnJtlk3A9j1PelvBOR4CzLWRS3rMY5W7bwIHsG9MSyFDK2jGRazQyclybFt9XbaEsNA4BMAICBejdciILzEcCDHOiGKY7o2ODGczHrL5hOGXpWBAYZS2GUhTGGDZZNQKSdDkGsFH6QZq2uThZIIKTFP40gdxAbgxlAsZlTGABOMxS1LMZSySAAOSQhCk7hZPkxTSGU4ZZIUEANlIfSFPE0g4FgJA0F/f9yEoGLvD/GophEYBOGVThSCoP8i2IQKIGcAzZOcOwsjeKTdNIGLnnoAB5WhWAqsLSCwbdRHYYrWrwYhijUa9ApailihdEYqt1ZRKtk1g8GcYhyr0LAppC04jCm3oaHoJg2A4Hh%2BEEYRRBQNSZCEWbAsgXpUAQwJBoAWjqsYZju5ZYwkGQ5EkDZnqoWhUDu69VBIKsfr%2Bu6D2IfRWDu4DrqfO7fv%2Bikhhu9EAqKEoNAgKxGlMLKrEqOIEkECIAjoXGSb8MnaEJ6pEkKVJSlaCmspSPqmfKWnOnplpyhZupOfaImul6DSBiGLgJKkmS5K6vzyWcjw7o8bhAUO4AlU4UCNlAzgI1wQgSDmHTUR/JL/2NyzrVUj6ZD04qjJMsZzMkUszNLMxrI2MxnIc653OGTzZZavyAqCkKHYimBEBQVBYrceKYTj82UvVjKNiynLWDygqipa0raHK5aaq0AgGqarq2rSzqWvwXqSgGrrhuQUblomySWpmuaFowEYfJOPA1uGXSNroRgWE6vaBDc9Xjtt%2BQu4u5jfNR0kpIep6XoIdA3pO6QvtB/7AaIU4vQRsGIahmHUDhw%2B7uRzBV4UdHGaxnH9DyQQCaFunKciQJ%2BakzSFzYmrMMZpDKA0D%2BoQwGv3SK0EBXQBZQJCHjZBbRYi/04KLTSEtsEBxlt5JSUkFZKxVmrNKmtta631vgE%2BlssrfmTslbE4xJDWz3vbMKjsQDXFAu7VU3AHKK0kNZaypYZ4eS8nLKSYdgqhUMlLYYkhpEh1kRHbhvRrz5UCKZIAA%3D">the generated assembly</a>:<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup></p><div><pre><code data-lang="asm"><span>printUpperCase</span>(<span>char</span> <span>const</span>*):                  <span># @printUpperCase(char const*)
</span><span></span>        <span>pushq</span>   %rbp
        <span>movq</span>    %rsp, %rbp
        <span>pushq</span>   %r15
        <span>pushq</span>   %r14
        <span>pushq</span>   %rbx
        <span>pushq</span>   %rax
        <span>movq</span>    %rdi, %r14
        <span>callq</span>   <span>strlen</span>
        <span>leaq</span>    <span>1</span>(%rax), %rdi
        <span>cmpq</span>    <span>$1024</span>, %rax                     <span># imm = 0x400
</span><span></span>        <span>ja</span>      <span>.LBB0_2</span>
        <span>movq</span>    %rsp, %r15
        <span>movq</span>    %rsp, %rbx
        <span>addq</span>    <span>$15</span>, %rdi
        <span>andq</span>    <span>$-16</span>, %rdi
        <span>subq</span>    %rdi, %rbx
        <span>movq</span>    %rbx, %rsp
        <span>movq</span>    %rbx, %rdi
        <span>movq</span>    %r14, %rsi
        <span>callq</span>   <span>copyUppercase</span>(<span>char</span>*, <span>char</span> <span>const</span>*)
        <span>movq</span>    %rbx, %rdi
        <span>callq</span>   <span>puts</span>
        <span>movq</span>    %r15, %rsp
        <span>leaq</span>    -<span>24</span>(%rbp), %rsp
        <span>popq</span>    %rbx
        <span>popq</span>    %r14
        <span>popq</span>    %r15
        <span>popq</span>    %rbp
        <span>retq</span>
.LBB0_2:
        <span>callq</span>   <span>operator</span> <span>new</span>[](<span>unsigned</span> <span>long</span>)
        <span>movq</span>    %rax, %rbx
        <span>movq</span>    %rax, %rdi
        <span>movq</span>    %r14, %rsi
        <span>callq</span>   <span>copyUppercase</span>(<span>char</span>*, <span>char</span> <span>const</span>*)
        <span>movq</span>    %rbx, %rdi
        <span>callq</span>   <span>puts</span>
        <span>movq</span>    %rbx, %rdi
        <span>leaq</span>    -<span>24</span>(%rbp), %rsp
        <span>popq</span>    %rbx
        <span>popq</span>    %r14
        <span>popq</span>    %r15
        <span>popq</span>    %rbp
        <span>jmp</span>     <span>operator</span> <span>delete</span>[](<span>void</span>*)                          <span># TAILCALL
</span></code></pre></div><p>Our function prologue has gotten a lot longer, and we have some new
control flow instructions as well. Let‚Äôs take a closer look at the
prologue:</p><div><pre><code data-lang="asm">        <span>pushq</span>   %rbp
        <span>movq</span>    %rsp, %rbp
        <span>pushq</span>   %r15
        <span>pushq</span>   %r14
        <span>pushq</span>   %rbx
        <span>pushq</span>   %rax
        <span>movq</span>    %rdi, %r14
</code></pre></div><p>The <code>pushq %rbp; movq %rsp, %rbp</code> sequence is very common: it pushes
the <a href="https://en.wikipedia.org/wiki/Call_stack#FRAME-POINTER">frame
pointer</a>
stored in <code>%rbp</code> to the stack and saves the old stack pointer
(which is the new frame pointer) in <code>%rbp</code>. The following four
<code>pushq</code> instructions store registers that <a href="https://en.wikipedia.org/wiki/X86_calling_conventions#System_V_AMD64_ABI">we need to save before
using</a>.<sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup>
Finally, we save our first argument (<code>%rdi</code>) in <code>%r14</code>.</p><p>On to the function body. We call <code>strlen(s)</code> with <code>callq strlen</code> and
store <code>sSize + 1</code> in <code>%rdi</code> with <code>lea 1(%rax), %rdi</code>.</p><p>Next, we finally see our first <code>if</code> statement! <code>cmpq $1024, %rax</code> sets
the <a href="https://en.wikipedia.org/wiki/FLAGS_register">flags register</a>
according to the result of <code>%rax - $1024</code>, and then <code>ja .LBB0_2</code>
(‚Äújump if above‚Äù) transfers control to the location labeled <code>.LBB0_2</code>
if the flags indicate that <code>%rax &gt; 1024</code>. In general, higher-level
control-flow primitives like <code>if</code>/<code>else</code> statements and loops are
implemented in assembly using conditional jump instructions.</p><p>Let‚Äôs first look at the path where <code>%rax &lt;= 1024</code> and thus the branch
to <code>.LBB0_2</code> was not taken. We have a blob of instructions to create
<code>char temp[sSize + 1]</code> on the stack:</p><div><pre><code data-lang="asm">        <span>movq</span>    %rsp, %r15
        <span>movq</span>    %rsp, %rbx
        <span>addq</span>    <span>$15</span>, %rdi
        <span>andq</span>    <span>$-16</span>, %rdi
        <span>subq</span>    %rdi, %rbx
        <span>movq</span>    %rbx, %rsp
</code></pre></div><p>We save <code>%rsp</code> to <code>%r15</code> and <code>%rbx</code> for later
use.<sup id="fnref:8"><a href="#fn:8" role="doc-noteref">8</a></sup> Then, we add 15 to <code>%rdi</code> (which,
remember, contains the size of our array), mask off the lower 4 bits
with <code>andq $-16, %rdi</code>, and subtract the result from <code>%rbx</code>, which we
then put back into <code>%rsp</code>. In short, this rounds the array size up to
the next multiple of 16 bytes and makes space for it on the stack.</p><p>The following block simply calls <code>copyUppercase</code> and <code>puts</code> as written in the code:</p><div><pre><code data-lang="asm">        <span>movq</span>    %rbx, %rdi
        <span>movq</span>    %r14, %rsi
        <span>callq</span>   <span>copyUppercase</span>(<span>char</span>*, <span>char</span> <span>const</span>*)
        <span>movq</span>    %rbx, %rdi
        <span>callq</span>   <span>puts</span>
</code></pre></div><p>Finally, we have our function epilogue:</p><div><pre><code data-lang="asm">        <span>movq</span>    %r15, %rsp
        <span>leaq</span>    -<span>24</span>(%rbp), %rsp
        <span>popq</span>    %rbx
        <span>popq</span>    %r14
        <span>popq</span>    %r15
        <span>popq</span>    %rbp
        <span>retq</span>
</code></pre></div><p>We restore the stack pointer to deallocate our variable-length array
using <code>leaq</code>. Then, we <code>popq</code> the registers we saved during the
function prologue and return control to our caller, and we are done.</p><p>Next, let‚Äôs look at the path when <code>%rax &gt; 1024</code> and we branch to
<code>.LBB0_2</code>. This path is more ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wolchok.org/posts/how-to-read-assembly-language/">https://wolchok.org/posts/how-to-read-assembly-language/</a></em></p>]]>
            </description>
            <link>https://wolchok.org/posts/how-to-read-assembly-language/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26282634</guid>
            <pubDate>Sat, 27 Feb 2021 04:40:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is Greenwashing? Learn to Spot Truly Sustainable Brands]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26282619">thread link</a>) | @jradhughes
<br/>
February 26, 2021 | https://lafloreparis.com/blogs/laflore-blog/what-is-greenwashing-learn-to-spot-truly-sustainable-brands | <a href="https://web.archive.org/web/*/https://lafloreparis.com/blogs/laflore-blog/what-is-greenwashing-learn-to-spot-truly-sustainable-brands">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p><span>Greenwashing is when a company pretends to be </span><b>eco-friendly</b><span> despite using toxic ingredients and unsustainable practices to manufacture their product.&nbsp;</span></p>
<p><span>When a company engages in </span><i><span>greenwashing</span></i><span>, they effectively influence consumers to believe that they‚Äôre working towards saving the environment when they‚Äôre not. In fact, companies that go to great lengths to create a </span><b>greenwashed marketing strategy</b><span> are sometimes covering up their lack of </span>environmentally friendly products or processes<span>. They are interested only in improving their sales and making more money, and they do so by projecting a green image and deceiving </span><b>conscious consumers</b><span>.&nbsp;</span></p>
<p>It should be noted that some companies greenwash their products accidentally. Misinformation surrounding sustainability is so widespread that companies can get the wrong idea about what's sustainable and what's not. Although there's no excuse for large corporations with hefty research budgets, smaller companies sometimes think they're being eco-friendly when they're not.&nbsp;</p>
<h2><b>Why do companies use this marketing strategy?</b></h2>
<p><span>The short answer is that companies who deliberately use this strategy do so to attract more customers and increase revenue.</span><span><br></span><span><br></span><span>Over the past couple of decades, there has been a shift toward holding companies accountable for their carbon footprint and environmental impact. At the same time, consumers have become more conscious of their impact on the environment. Naturally, conscious customers try their best to buy </span><b>environmentally friendly products</b><span> when possible.&nbsp;</span></p>
<p><span>There isn‚Äôt currently a lot of regulation around sustainable terms such as: natural, green, eco-friendly, and environmentally friendly. Any company can include green colors and imagery on their products and use terms such as </span><i><span>natural</span></i><span>. Therefore, it‚Äôs usually easy for brands to attract well-meaning consumers and improve their sales. </span><span><br></span><span><br></span><span>Another reason for companies using this marketing strategy is to stand out from their competitors in the market. They promise the consumers that their product is more efficient, saves more power, or is </span><b>sustainable</b><span>. In response, many people start purchasing from them believing that they are helping the environment.&nbsp;</span></p>
<p><span>Many companies see this </span><i><span>green agenda</span></i><span> as an opportunity to gain a competitive advantage, especially because ‚Äúnatural products‚Äù are usually priced higher.&nbsp;Particularly when shopping on-the-go at the grocery store or mall, consumers don‚Äôt have time to research every single product they put into their cart. And with good reason! Unless you only buy from trusted brands, it‚Äôs hard to distinguish between the truly sustainable products and the fake ones.&nbsp;</span></p>
<p><b>Examples of Greenwashing</b><b><br></b><span><br></span><span>A very common example of greenwashing is when a company rebrands as natural or eco-friendly. If a company changes their name, logo, or slogan to appear greener without actually changing their business to be environmentally friendly, then chances are it's an attempt to greenwash. Food companies, cosmetic companies, and household product manufacturers are often seen involved in greenwashing. &nbsp;</span><span><br></span><span><br></span><span>Another example of greenwashing is when a company labels its products with buzz-words and meaningless statistics.&nbsp;</span></p>
<p><span>Have you ever seen one or more of the the following descriptions on a product?<br></span></p>
<ul>
<li><span>"99% naturally derived"&nbsp;</span></li>
<li><span><span>"100% recyclable"</span></span></li>
<li><span><span><span>"Made with natural ingredients"&nbsp;&nbsp;</span></span></span></li>
<li><span><span><span><span>"Biodegradable"&nbsp;</span></span></span></span></li>
</ul>
<p>While these things all sound great to the conscious consumer, these phrases don't mean anything.</p>
<p>Single-use plastic can be 100% recyclable, but it isn't sustainable or eco-friendly. Many chemicals are naturally-derived, yet are still harmful to the environment. Food, cosmetics, textiles, and more can all be made with "natural" ingredients, but that doesn't necessarily mean they're inherently healthy or environmentally friendly. Lastly, most things are biodegradable, but that doesn't mean it's okay to dump them in a landfill.</p>

<h2><b>Impact of Greenwashing</b></h2>
<p><img src="https://cdn.shopify.com/s/files/1/0266/4346/4271/files/pexels-catherine-sheila-2409025_480x480.jpg?v=1613572719" alt="false green claims"></p>
<p><b></b><span>Greenwashing is unethical.&nbsp;False green claims have&nbsp;a negative impact not only on consumers but also on the environment. Let‚Äôs look at some of the problems that arise because of greenwashing.&nbsp;</span></p>
<p><b>Encourages Uninformed Decisions</b> <b><br></b><b><br></b><span>The most important danger of greenwashing is that it misinforms people, leading them to make wrong decisions and contribute to unintended environmental harm. Customers, without knowing if a company‚Äôs eco-friendly claims are genuine or not, act unsustainably, and make an uninformed decision. </span><span><br></span><span><br></span><b>Harms the Environment</b></p>
<p><a href="https://ehp.niehs.nih.gov/doi/full/10.1289/ehp.118-a246"><span>Greenwashing harms the environment and public health</span></a><span>. When consumers are unable to understand the false practices of a company and they decide to buy from a greenwashing company, they contribute to the growth of that company.</span></p>
<p><span>Their support gives such companies more revenue and they continue with their greenwashed marketing and non-environmentally friendly products. Many companies that use greenwashing are often found to be using toxic ingredients in their products or using unsustainable practices such as excess water usage, causing unnecessary air pollution,&nbsp;or producing toxic run-off. To stop this, consumers should look into what they are buying and support the company only if they are genuinely working towards protecting the environment.&nbsp;&nbsp;</span></p>
<p><b>Harms Genuine Brands</b><b><br></b><b><br></b><span>Apart from harming the environment, greenwashing also causes trouble for companies that are genuinely working towards saving the environment. This happens because greenwashing breaks consumer trust and consumers start suspecting </span><i><span>all</span></i><span> brands</span><b>, </b><span>even those that are working hard to produce </span><b>environmentally friendly products</b><span>. The reputation of true eco-friendly companies are hindered, making it difficult for them to gain significant market share.&nbsp;</span></p>

<h2><b>How to Identify Greenwashing&nbsp;</b></h2>
<p><img src="https://cdn.shopify.com/s/files/1/0266/4346/4271/files/Webp.net-resizeimage_3_480x480.jpg?v=1613572793" alt="greenwashed" width="480x480" height="480x480"></p>
<p><span>Unfortunately, it can be hard to know if a company is greenwashing or not.&nbsp;It is important for consumers to be educated and aware about which companies and products are truly green and which are not, but this takes time and a lot of effort.&nbsp;</span></p>
<p><span>However, there are some things you can look out for that might help you make more informed decisions. Here are a few tips:</span></p>
<ul>
<li><span>Many companies use specific phrases like natural, sustainable, organic, healthy, vegan, etc. to attract consumers. The use of such words gives the impression that they are eco-friendly and green. However, be skeptical. You should read the information provided by the company on the packaging material, label, and website. The only way to know about the product is to read the label carefully.&nbsp;</span></li>
<ul>
<li>
<span>You should know what common products are inherently not eco-friendly: PVC, triclosan, microbeads, aerosols, phosphates, and chlorine bleach are just a few toxic materials that companies use while still marketing themselves as safe and natural. </span><span></span>
</li>
</ul>
<li>
<span>Product imagery that depicts natural scenery is also a tool used by many companies to deceive potential buyers. Consumers should be aware not to be fooled by pictures of fruit, nuts, farms, or any other natural-looking imagery on the labels of the product. Using a particular image does not represent the true sustainability of a company‚Äôs products.</span><span></span>
</li>
<li>
<span>Besides using earth-centered imagery, companies also using earthy tones to promote a natural vibe. They use greens, browns, and blues instead of bright and flashy colors while packaging their products. This is to lure the consumers who are drawn to earth-friendly products. However, consumers should remember that greens and browns don‚Äôt necessarily imply that the product is earth-friendly.</span><span><br></span><span>&nbsp;&nbsp;</span>
</li>
</ul>

<h2><b>Ways to Verify Sustainable Brands&nbsp;</b></h2>
<p><b><img src="https://cdn.shopify.com/s/files/1/0266/4346/4271/files/MG_1114_copy_480x480.jpg?v=1613568843" alt="what is greenwashing"></b></p>
<p><span>These days, the number of environmentally-conscious buyers is growing.&nbsp;</span></p>
<p><span>If you find it hard to obtain information about a company‚Äôs factory or production details, there's a chance&nbsp;that the company is greenwashing or it has something to hide.To verify the sustainability of a brand,&nbsp;you&nbsp;should try to find out more and more about the way a company operates. <p>Here are some things you can look out for:</p></span></p>
<ul>
<li><span>Don't trust everything that a company shares or says if they don't have evidence to back it up. There is a possibility that the company is sugar-coating their information or spinning the truth.&nbsp;</span></li>
<li><span>Try to find out about the company‚Äôs supply chain, their production facilities, the employees, working conditions, contractors, etc.&nbsp;</span></li>
<li><span>Evaluate the logistics of the product. If a company is claiming they're sustainable, but they're still using single-use plastics...you know something is off.&nbsp;Look for the trademarks of true sustainability such as zero waste practices and/or materials.</span></li>
<li><span>For textiles and household goods, check the material and quality of the product. For food and cosmetic products, check the ingredients and learn more about the production processes of common ingredients. For example, "palm oil" sounds relatively unproblematic, but is actually one of the <a href="https://www.wwf.org.uk/updates/8-things-know-about-palm-oil">greatest&nbsp;drivers of deforestation</a>.&nbsp;</span></li>
<li>Ask tough questions! Even true eco-friendly companies are not perfect, but they'll be happy to answer your questions and show you how they're willing to improve.</li>
</ul>
<p><span>If you really want to avoid giving business to companies who are&nbsp;intentionally greenwashing, you'll need to screen your purchases carefully. Keep an eye out for harmful ingredients, materials, and production practices. When you're informed, you can spot fake eco-friendly companies much more easily.&nbsp;<br></span></p>
<p><span>Continue to read labels and always think about the entire product lifecycle - all the way from the sourcing of materials all the way down to&nbsp;discarding, recycling, or reusing the product.</span></p>
<p><span>Greenwashing needs to be stopped and we need to hold companies accountable. Let‚Äôs continue to do our part by becoming conscious consumers and buying environment friendly products.</span></p>
<p><span>To learn more about our sustainability efforts here at&nbsp;</span><b>LaFlore Paris</b><span>, please read our <a href="https://lafloreparis.com/pages/our-promise-to-you-eco-friendly-purses">Eco-Friendly Promise</a>. Please feel free to contact us at any time if you have more questions. We'd be happy to hear from you!&nbsp;</span></p>
<p><strong><br><a href="https://lafloreparis.com/products/convertible-backpack-purse"><span>Shop Our Eco-Friendly Convertible Backpack Purse</span></a></strong></p>
    </div></div>]]>
            </description>
            <link>https://lafloreparis.com/blogs/laflore-blog/what-is-greenwashing-learn-to-spot-truly-sustainable-brands</link>
            <guid isPermaLink="false">hacker-news-small-sites-26282619</guid>
            <pubDate>Sat, 27 Feb 2021 04:37:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Privacy Is Not Property]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26282426">thread link</a>) | @samizdis
<br/>
February 26, 2021 | https://pluralistic.net/2021/02/26/meaningful-zombies/#luxury-goods | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/02/26/meaningful-zombies/#luxury-goods">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1937">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
zombies, korea, south korea, k-zombies, data dividend, propertization, information economics,

Summary:
K-Zombies; Privacy is not property

URL:
https://pluralistic.net/2021/02/26/meaningful-zombies/

Title:
Pluralistic: 26 Feb 2021 meaningful-zombies

Bullet:
ü¶∫

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Schneier (https://www.schneier.com/), Naked Capitalism (https://nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2021/02/26/meaningful-zombies/"><img src="https://i1.wp.com/craphound.com/images/26Feb2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/26Feb2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/26/meaningful-zombies/#oracles">K-Zombies</a>: Zombies conquer Korea.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/26/meaningful-zombies/#luxury-goods">Privacy is not property</a>: Interests, not exclusive rights.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/26/meaningful-zombies/#retro">This day in history</a>: 2006, 2011, 2016, 2020
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/26/meaningful-zombies/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="oracles"></a><br>
<img src="https://i0.wp.com/craphound.com/images/kca-times.brightspotcdn.com.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/kca-times.brightspotcdn.com.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>When you and your friends put your fingers on the ouija board planchette and it starts moving around, there's a chance your friends are just yanking your chain ‚Äì but just as possible is that your friends are experiencing the ideomotor response.</p>
<p>That's when your unconscious mind directs your muscles without your conscious knowledge. The movement of the planchette doesn't tell you what's going on in the spirit world, but it does tell you something about the internal weather of your friend's psyche, fears and hopes.</p>
<p>Our narratives are social-scale planchettes, directed by mass ideomotor response. When a fake news story takes hold, it reveals a true fact: namely, the shared, internal models of how the world really works.</p>
<p>Fake news is an oracle, in other words.</p>
<p><a href="https://locusmag.com/2019/07/cory-doctorow-fake-news-is-an-oracle/">https://locusmag.com/2019/07/cory-doctorow-fake-news-is-an-oracle/</a></p>
<p>There's no spirit-realm directing planchettes. Supernatural phenomena are nonsense, in all their guises. Mediums are fraudsters or deluded ‚Äì and so are soothsayers who claim to be able to predict the future. That goes for fortune-tellers and futurists alike.</p>
<p>A shocking number of self-described "rational" science fiction writers share the delusional view that they can predict the future. These pulp Nostradamii point to "predictions" of sf that have "come true" and claim to have an inside line on the world of tomorrow.</p>
<p>Sf <em>has</em> an important relationship to the future, though! It can be a planchette: all the futures imagined by all the sf writers are a kind of mutation-space, and the fitness factor that determines whether a story thrives or sinks is whether it captures public imagination.</p>
<p>Sf writers and readers are a means for society to reflect back, amplify and examine our unarticulated hopes and fears about our <em>present</em> technology. Sf doesn't predict the future, but sf readers and writers do an excellent job of predicting the present.</p>
<p>And since the present is the standing wave where the past is being transformed into the future, knowing about the present can be a source of insights into what's coming ‚Äì and not just because sf reveals what's going on in the present, but also because it influences it.</p>
<p>People who are captured by imaginative, futuristic parables about the problems and possibilities of technology acquire a set of intuition-pumps for coping with the future when it arrives, reflexive views and actions about what the future demands of us.</p>
<p>Gene Rodenberry didn't predict the Motorola flip-phone. Rather, when a generation of Motorola designers and engineers were asked to make a mobile communications device their minds immediately flew to the Star Trek communicators they grew up with.</p>
<p>Thinking of fantastic fiction as measurement device and influence machine is a productive way to pick apart the meaning of literary trends.</p>
<p>As I wrote in my intro to the bicentennial re-release of FRANKENSTEIN, the rise and fall of Shelley's book tracks to the rise and fall of fears related to the book's various themes:</p>
<p><a href="https://muse.jhu.edu/chapter/1974387">https://muse.jhu.edu/chapter/1974387</a></p>
<p>So what are we to make of K-zombies? Korean pop culture is experiencing a golden age of zombie movies, games, comics and other media.</p>
<p><a href="https://www.latimes.com/world-nation/story/2021-02-23/zombies-are-everywhere-south-korea-fears">https://www.latimes.com/world-nation/story/2021-02-23/zombies-are-everywhere-south-korea-fears</a></p>
<p>Zombies have a lot of different themes, of course, and some are easy to map to the current situation: the fear of contagion and the need to distance yourself from loved ones who have become infected. The parallels to covid hardly need explaining.</p>
<p>But the K-zombie phenomenon predates the pandemic, and zombie stories aren't merely contagion stories ‚Äì they're often stories about the lurking bestiality of nearly everyone around us.</p>
<p>That's behind stories like The Walking Dead, about the propensity of all our "normal" friends and neighbors to transform into an insensate, rampaging mob. These zombie stories are a throwback to the "cozy catastrophes" of John Wyndham and co:</p>
<p><a href="https://pluralistic.net/2020/03/29/grifters-gonna-grift/#wyndhamesque">https://pluralistic.net/2020/03/29/grifters-gonna-grift/#wyndhamesque</a></p>
<p>These are stories of racial and class anxiety, of xenophobia and the literal othering of someone who <em>seems</em> to be just like you but is actually a secret monster. Again, on a divided peninsula, it's not hard to see how stories of lurking otherness would catch hold.</p>
<p>Zombie stories are also stories about the fragility of social cohesion: stories about how we're never "all in this together" and how, when the chips are down, it'll be "the war of all against all." That, too, feels very zeitgeisty given recent South Korean politics.</p>
<p>South Korea has an ugly, authoritarian past that is at odds with its founding myth as the "good Korea," the "democratic Korea." But the post-war reconstruction of the country by the US elevated an elite to a position of near-total authority and impunity.</p>
<p>They abused this power in ghastly ways, running forced-labor camps for poor people and people with disabilities, with rampant physical and sexual abuse. Families who lost their loved ones were traumatized to learn that they'd ended up in the camps.</p>
<p><a href="https://web.archive.org/web/20160423131643/https://bigstory.ap.org/article/c22de3a565fe4e85a0508bbbd72c3c1b/ap-s-korea-covered-mass-abuse-killings-vagrants">https://web.archive.org/web/20160423131643/https://bigstory.ap.org/article/c22de3a565fe4e85a0508bbbd72c3c1b/ap-s-korea-covered-mass-abuse-killings-vagrants</a></p>
<p>These forced-labor camps (which continue in a slightly modified form to this day) supplied slaves to chaebols, the conglomerates that represent the country on a world stage. Unsurprisingly, the leadership of these companies is also grossly corrupt:</p>
<p><a href="https://www.bangkokpost.com/business/2052871/samsung-chief-jailed-for-2-5-years-over-corruption-scandal">https://www.bangkokpost.com/business/2052871/samsung-chief-jailed-for-2-5-years-over-corruption-scandal</a></p>
<p>Korea is also riven by messianic cults, and the leaders of these cults have close ties to the Korean political class, an incredibly politically destabilizing fact that has caused recent Korean governments to collapse:</p>
<p><a href="https://www.bbc.com/news/world-asia-37971085">https://www.bbc.com/news/world-asia-37971085</a></p>
<p>South Korea, in other words, isn't just haunted by the spectre of aggression from the north ‚Äì but also by the possibility of internal rupture. It has a huge, authoritarian secret police force that has been caught secretly meddling in electoral politics.</p>
<p>Far from reining in this spookocracy, the South Korean political class has tried to hand them even MORE powers, with LESS oversight. Today is the fifth anniversary of the Korean opposition's filibuster to stop the worst of these.</p>
<p>(Seo Ki-Ho, a politician with the affectionate nickname "Milhouse" for his resemblance to the Simpsons character read the Korean edition of my novel LITTLE BROTHER into the record during the filibuster!)</p>
<p><img src="https://i2.wp.com/craphound.com/images/CcHHpWmUMAAyJk-1.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/CcHHpWmUMAAyJk-1.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://memex.craphound.com/2016/02/26/south-korean-lawmakers-stage-filibuster-to-protest-anti-terror-bill-read-from-little-brother/">https://memex.craphound.com/2016/02/26/south-korean-lawmakers-stage-filibuster-to-protest-anti-terror-bill-read-from-little-brother/</a></p>
<p>This othering is also sharply illustrated in the country's culture of misogynistic voyeurism, which goes beyond "upskirt" videos and includes a roaring trade in videos captured with hidden cameras in toilets, changing rooms and hotel rooms.</p>
<p>It's hard to overstate the reach of this practice, and its political salience: it has provoked a vast mass-movement of women and allies demanding an end to the practice and a reckoning with institutional sexism:</p>
<p><a href="https://www.khaosodenglish.com/culture/net/2020/10/21/voyeurs-are-selling-photos-of-women-at-the-protest-online/">https://www.khaosodenglish.com/culture/net/2020/10/21/voyeurs-are-selling-photos-of-women-at-the-protest-online/</a></p>
<p>Zombies aren't ever just about contagion ‚Äì they're also always an expression of a deep anxiety that your neighbors aren't what they seem, that in a pinch, they'll turn on you, and not just because they've been infected, but also to protect themselves and their comfort.</p>
<p>US zombie booms always have an element of this: 1950s (reds under the bed); 1980s (red menace redux); 2000s (immigration "crisis"), etc. It'd be amazing if the only thing driving K-zombies' popularity was the pandemic, or even less plausibly, a mere aesthetic coincidence.</p>
<hr>
<p><a name="luxury-goods"></a><br>
<img src="https://i0.wp.com/craphound.com/images/datadividend.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/datadividend.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>When all you have is market orthodoxy, everything looks like a market failure. Take privacy: giant, rapacious corporations have instrumented the digital and physical worlds to spy on us all the time, so some people think they should pay us for our data.</p>
<p>There's a pretty rich theoretical history explaining why this "data dividend" is a stupid idea. First of all, private information isn't very property-like. And not  just because it shares all the problems of digital works (infinitely, instantaneously copyable at zero cost).</p>
<p>Private information makes for bad "property" because it is "owned" by multiple, overlapping parties who generally disagree about when and who to share it with. When you and I have a conversation, we both own the fact that the conversation took place.</p>
<p>What happens if I won't sell, but you will? Tech companies are <em>really</em> good at finding the cheapest seller of an information good, after all. For example, whenever you visit a "quality newspaper's" site, there's a real-time auction to bid on the right to show you ads.</p>
<p>Say there are 13 bidders for that right. One gets to show you an ad, but the other 12 get something too: your unique identifier and the fact that you read, say, the New York Times.</p>
<p>That fact is then sold on to garbage chumbox sites like Tabouleh, whose pitch to advertisers is "I can show your ads to NYT readers at 15% of the price that the Times charges." If the same fact is "owned" by lots of people, it's a commodity.</p>
<p>Buyers will find the lowest, least-discerning seller. What's more, you can't solve this by requiring consensus of all "owners" of a fact before it is disclosed ‚Äì who owns the fact that your boss sexually harassed you: you or him? Does he get a veto over your disclosures?</p>
<p>Even if we could get property rights to work in privacy (which, for the record, we cannot), all we'd manage to do is transform privacy into a luxury good wherein poor people are coerced into selling their data for pennies, as Malavika Jayaram reminds us:</p>
<p><a href="https://twitter.com/MalJayaram/status/1231373834458025984">https:/‚Ä¶</a></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/02/26/meaningful-zombies/#luxury-goods">https://pluralistic.net/2021/02/26/meaningful-zombies/#luxury-goods</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/02/26/meaningful-zombies/#luxury-goods</link>
            <guid isPermaLink="false">hacker-news-small-sites-26282426</guid>
            <pubDate>Sat, 27 Feb 2021 03:52:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mining Ethereum on M1 Mac GPU]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 123 (<a href="https://news.ycombinator.com/item?id=26281864">thread link</a>) | @gyf304
<br/>
February 26, 2021 | https://blog.yifangu.com/2021/02/26/mining-ethereum-on-a-m1-mac-gpu/ | <a href="https://web.archive.org/web/*/https://blog.yifangu.com/2021/02/26/mining-ethereum-on-a-m1-mac-gpu/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-444">

	

	
	<div>
		
<p>TL;DR: It‚Äôs possible to mine Ethereum on a M1 Mac GPU. Hashrate is about 2Mh/s.</p>



<figure><img data-attachment-id="452" data-permalink="https://blog.yifangu.com/image-1-5/" data-orig-file="https://yifangucom.files.wordpress.com/2021/02/image-1.png" data-orig-size="1338,754" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-1" data-image-description="" data-medium-file="https://yifangucom.files.wordpress.com/2021/02/image-1.png?w=300" data-large-file="https://yifangucom.files.wordpress.com/2021/02/image-1.png?w=750" src="https://yifangucom.files.wordpress.com/2021/02/image-1.png?w=1024" alt="" srcset="https://yifangucom.files.wordpress.com/2021/02/image-1.png?w=1024 1024w, https://yifangucom.files.wordpress.com/2021/02/image-1.png?w=150 150w, https://yifangucom.files.wordpress.com/2021/02/image-1.png?w=300 300w, https://yifangucom.files.wordpress.com/2021/02/image-1.png?w=768 768w, https://yifangucom.files.wordpress.com/2021/02/image-1.png 1338w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Mining on a M1 Mac</figcaption></figure>



<p>I‚Äôve had my M1 MacBook Air for a bit of time now, and I also recently started mining Ethereum. I can‚Äôt help asking myself: What‚Äôs Ethereum mining performance like on a M1 Mac?</p>



<p>The obvious thing to do first is to run the off-the-shelf <code>ethminer</code>, which gives the following error:</p>



<pre><code>ethminer 0.19.0-alpha.0
Build: darwin/release/appleclang

Unrecognized platform Apple
Error: No usable mining devices found</code></pre>



<p>Not good. Apparently Apple GPUs are not whitelisted in ethminer. That should be easy to fix. Relevant lines are in <code>libethash-cl/CLMiner.cpp</code>, and I added Apple GPUs to the whitelist, pretending it‚Äôs an Intel GPU.</p>



<p>Then <code>boost</code> won‚Äôt compile since it‚Äôs trying to compile with a <code>-fcoalesce-templates</code> argument, which doesn‚Äôt exist in recent clang versions. So I have to update <code>boost</code> to the latest version, and fix relevant <code>asio</code> code since <code>ethminer</code> was using deprecated <code>asio</code> APIs.</p>



<p>I also need to upgrade OpenSSL to the latest version to have it support darwin + arm64.</p>



<p>After getting everything to compile. Here‚Äôs the result:</p>



<pre><code>ethminer 0.19.0-17+commit.ce52c740.dirty
Build: darwin/release/appleclang

 i 19:51:36          Configured pool eth-us-east1.nanopool.org:9999
 i 19:51:36          Selected pool eth-us-east1.nanopool.org:9999
 i 19:51:36          Connection remotely closed by eth-us-east1.nanopool.org
 i 19:51:36          Stratum mode : EthereumStratum/1.0.0 (NiceHash)
 i 19:51:36          Established connection to eth-us-east1.nanopool.org [144.217.14.139:9999]
 i 19:51:36          Spinning up miners...
cl 19:51:36 cl-0     Using Device : Intel GPU 0.0 Apple M1 OpenCL 1.2  Memory : 10.67 GB (11453251584 B)
 i 19:51:36          Extranonce set to 778d
 i 19:51:36          Extranonce set to 778d
 i 19:51:36          Authorized worker [REDACTED]
 i 19:51:36          Epoch : 397 Difficulty : 10.00 Gh
 i 19:51:36          Job: c7fc5311‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
cl 19:51:38 cl-0     Generating split DAG + Light (total): 4.10 GB
 i 19:51:38          Job: 40a57756‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
cl 19:51:38 cl-0     OpenCL kernel
cl 19:51:38 cl-0     Creating DAG buffer, size: 4.10 GB, free: 6.57 GB
cl 19:51:38 cl-0     Creating light cache buffer, size: 65.62 MB
cl 19:51:38 cl-0     Loading kernels
cl 19:51:38 cl-0     Creating buffer for header.
cl 19:51:38 cl-0     Creating mining buffer
 m 19:51:41          0:00 A0 0.00 h - cl0 0.00
 i 19:51:42          Job: 077b62f6‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
 m 19:51:46          0:00 A0 0.00 h - cl0 0.00
 i 19:51:46          Job: 2835839e‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
 m 19:51:51          0:00 A0 0.00 h - cl0 0.00
 m 19:51:56          0:00 A0 0.00 h - cl0 0.00
 i 19:51:57          Job: 97f724e7‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
 m 19:52:01          0:00 A0 0.00 h - cl0 0.00
 m 19:52:06          0:00 A0 0.00 h - cl0 0.00
 m 19:52:11          0:00 A0 0.00 h - cl0 0.00
 m 19:52:16          0:00 A0 0.00 h - cl0 0.00
 i 19:52:16          Job: 54df0504‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
 m 19:52:21          0:00 A0 0.00 h - cl0 0.00
cl 19:52:22 cl-0     4.10 GB of DAG data generated in 44,060 ms.
 m 19:52:26          0:00 A0 184.16 Kh - cl0 184.16
 m 19:52:31          0:00 A0 1.96 Mh - cl0 1.96
 m 19:52:36          0:01 A0 1.98 Mh - cl0 1.98
 i 19:52:39          Job: d3b1da5e‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
 m 19:52:41          0:01 A0 1.99 Mh - cl0 1.99
cl 19:52:43 cl-0     Job: 54df0504‚Ä¶ Sol: 0x778d000001d14c71
 i 19:52:43          **Accepted 150 ms. eth-us-east1.nanopool.org [144.217.14.139:9999]
 m 19:52:46          0:01 A1 1.95 Mh - cl0 1.95
 m 19:52:51          0:01 A1 2.07 Mh - cl0 2.07
 m 19:52:56          0:01 A1 2.00 Mh - cl0 2.00
 m 19:53:01          0:01 A1 1.98 Mh - cl0 1.98
 i 19:53:01          Job: ccc2b97f‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
 m 19:53:06          0:01 A1 1.97 Mh - cl0 1.97
 i 19:53:07          Job: 23919d82‚Ä¶ eth-us-east1.nanopool.org [144.217.14.139:9999]
^C i 19:53:10 main     Got interrupt ...
 i 19:53:10 main     Disconnected from eth-us-east1.nanopool.org [144.217.14.139:9999]
 i 19:53:10 main     Shutting down miners...
 i 19:53:16 main     Terminated!</code></pre>



<p>Code is available at <a rel="noreferrer noopener" href="https://github.com/gyf304/ethminer-m1" target="_blank">https://github.com/gyf304/ethminer-m1</a></p>



<h2>Is it worth it?</h2>



<p>Um. Not really. At current Ethereum prices (2021-02-26), it generates $0.14 of profit per day. It‚Äôs still a profit, but very miniscule.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			<!-- .author-bio -->
	
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://blog.yifangu.com/2021/02/26/mining-ethereum-on-a-m1-mac-gpu/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26281864</guid>
            <pubDate>Sat, 27 Feb 2021 01:32:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[RepoDash: Performance Metrics for GitHub Repositories]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26281676">thread link</a>) | @gilad
<br/>
February 26, 2021 | https://laurencemolloy.github.io/RepoDash/ | <a href="https://web.archive.org/web/*/https://laurencemolloy.github.io/RepoDash/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <header>
        
        
          <p>Performance metrics for Github repositories</p>
        
        <p><a href="https://github.com/LaurenceMolloy/RepoDash">View the Project on GitHub <small></small></a></p>
        <ul>
        
          <li><a href="https://github.com/LaurenceMolloy/RepoDash"><strong>View On GitHub</strong></a></li>
		<li><a href="https://laurencemolloy.github.io/RepoDash"><strong>About</strong></a></li>
		<li><a href="https://laurencemolloy.github.io/RepoDash/docs/userguide"><strong>User<br>Guide</strong></a></li>
		<li><a href="https://laurencemolloy.github.io/RepoDash/docs/technical"><strong>Technical<br>Docs</strong></a></li>
        </ul>
      </header>
      <section>

      <p><img src="https://laurencemolloy.github.io/RepoDash/docs/images/RepoDash_screenshot.png" alt="Screenshot"></p>

<p>See our <a href="https://laurencemolloy.github.io/RepoDash/"><strong>github.io pages</strong></a> 
for detailed instructions on how to use RepoDash.</p>



<p>Do you maintain a project codebase on Github? Would you like to be able to collate statistics 
that summarise historic monthly activity on that codebase and see, at a glance, how that impacts 
the project issues list over time? Would you like to be able to perform this analysis for any 
given time period of your choosing?</p>

<p>RepoDash can do just this. It uses the Github API to collect repository data and generate a 
data visualisation of a range of historic metrics of the project issues list over a user-specified 
period of time. For each calendar month in the time period of interest, it displays the following 
metrics:</p>

<ul>
<li>The number of new issues created</li>
<li>How many of these issues are still open at the time of generating the dashboard</li>
<li>How many of these issues still require triage (labelling) at the time of generating the dashboard</li>
<li>The number of existing issues resolved</li>
<li>The percentage split between opened / closed issues</li>
<li>The aggregate number of open issues in the issues list (month start &amp; month end)</li>
<li>The aggregate number of open issues in the issues list requiring triage (month start &amp; month end)</li>
<li>The change in total number of open issues over the month</li>
<li>The average age and age spread of open issues in the isssues list</li>
</ul>


<p>It also displays aggregate counts for the most frequently used labels for all issues that remained open
at the end of the displayed time period.</p>

<h3>Typical Use Cases</h3>

<p>Perhaps you are managing an open source project, the maintenance of which you'd like to keep on top 
of. Or perhaps you manage a software product at work where you are required to provide your boss with 
exective summary updates of your support team's progress on an ongoing monthly basis. Either way, if 
your codebase is managed via Github, RepoDash could be just what you need.</p>

<h3>Demo Mode</h3>

<p>For demo purposes, this code processes the first 10 pages of the matplotlib<sup>1</sup> project and 
displays the most recent 12 months of metrics by default. Command line arguments allow you to set your
own project repository and analysis timeframe. It couldn't be simpler.</p>

<p><sup>1</sup> <em><a href="https://matplotlib.org/"><strong>matplotlib</strong></a> is a popular open science 
plotting library for python which is utilised by RepoDash to generate its data visualisations</em></p>

<h3>Future Development</h3>

<p>This project is a work in progress. The current version of RepoDash has only been tested with open 
source (public) projects. However, there are plans to ensure that it works with private ones as well. 
Over time, we also plan to build on the range of metrics offered and make it easy for the user to select 
which metrics to display... watch this space!</p>


      </section>
    </div></div>]]>
            </description>
            <link>https://laurencemolloy.github.io/RepoDash/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26281676</guid>
            <pubDate>Sat, 27 Feb 2021 01:00:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Predicting brain activity with Neural Nets and TensorFlow is easy(-ish)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26281492">thread link</a>) | @pizza
<br/>
February 26, 2021 | https://drorcohengithub.github.io/website/decoding/encoding/fmri/tensorflow/neural/2020/12/13/Predicting-brain-activity-using-NN-and-TensorFlow.html | <a href="https://web.archive.org/web/*/https://drorcohengithub.github.io/website/decoding/encoding/fmri/tensorflow/neural/2020/12/13/Predicting-brain-activity-using-NN-and-TensorFlow.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        <header>
          
          

  <p>
    
      
      <span>
        
        <time datetime="2020-12-13T02:28:37+00:00">December 13, 2020</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section itemprop="text">
        
          
        
        <p>Over-fitting is a lie.</p>

<h2 id="backgroud">Backgroud</h2>

<p>I <a href="https://drorcohengithub.github.io/website/decoding/encoding/fmri/2020/07/31/decoding_visual_experience.html">previously talked about</a> predicting and decoding brain activity as recorded using fMRI. In that post I followed the tried and true approach of (1) extracting some features from the stimulus and (2) fitting a regularised linear regression from the features to brain activity. It works really well.</p>

<p>One of the reasons we use linear regression in these type of ‚Äúencoding‚Äù studies is that there is not much data. For example in that study the training set had only about 7200 samples (which is quite a lot by fMRI community standards). The traditional thinking is that very rich models, such as deep neural nets (NNs) with millions of parameters, will disastrously over-fit in this type of situation, resulting in low performance. However, this traditional thinking may be out of date.</p>

<p>A <a href="https://www.biorxiv.org/content/10.1101/2020.09.11.293878v1">recent paper uploaded to bioarxiv</a> generated some discussion in our lab. It is a very thorough study looking at predicting brain activity using deep NNs with many interesting results. Among these results, the authors show that replacing the linear regression with a NN provides a substantial improvement over linear regression (see also <a href="https://www.frontiersin.org/articles/10.3389/fncom.2019.00021/full">here</a>).</p>

<p>I think is pretty likely that with some effort and a lot of NN know-how an expert can improve on the performance of a linear model. But I figured that avoiding over-fitting in this situation is going to be really hard, and that an out of the box implementation would perform disastrously. So I thought I‚Äôd give it a go.</p>

<p>In this post I go through fitting a simple NN, though still with millions of parameters, to predict brain activity. I‚Äôll use a vanilla NN paired with the same data I analyzed in my previous post. This way we will have a direct comparison with the linear model. A full notebook to reproduce this is up on my <a href="https://github.com/drorcohengithub/Prediciting_BOLD_with_TensorFlow">github</a>.</p>

<h2 id="preparations">Preparations</h2>

<p>We will use the same data from last time. For convenience I put everything you‚Äôll need <a href="https://figshare.com/s/9803543b6736009e7a83">here</a>.</p>

<div><div><pre><code><span>import</span> <span>numpy</span> <span>as</span> <span>np</span>
<span>import</span> <span>matplotlib.pyplot</span> <span>as</span> <span>plt</span>
<span>plt</span><span>.</span><span>rcParams</span><span>[</span><span>"font.size"</span><span>]</span> <span>=</span> <span>"20"</span>

<span>import</span> <span>tensorflow</span> <span>as</span> <span>tf</span>
<span>from</span> <span>tensorflow</span> <span>import</span> <span>keras</span>
<span>from</span> <span>tensorflow.keras</span> <span>import</span> <span>layers</span>
<span>from</span> <span>tensorflow.keras.callbacks</span> <span>import</span> <span>Callback</span>
<span>from</span> <span>tensorflow.keras</span> <span>import</span> <span>backend</span> <span>as</span> <span>K</span>
</code></pre></div></div>

<div><div><pre><code><span>#load the preproc data from before
</span><span>with</span> <span>np</span><span>.</span><span>load</span><span>(</span><span>"./data.npz"</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>print</span><span>(</span><span>f</span><span>.</span><span>files</span><span>)</span>
    <span>voxel_test_data</span> <span>=</span> <span>f</span><span>[</span><span>"voxel_test_data"</span><span>]</span>
    <span>voxel_train_data</span> <span>=</span> <span>f</span><span>[</span><span>"voxel_train_data"</span><span>]</span>
    <span>ME_features_train_data</span> <span>=</span> <span>f</span><span>[</span><span>"ME_features_train_data"</span><span>]</span>
    <span>ME_features_test_data</span> <span>=</span> <span>f</span><span>[</span><span>"ME_features_test_data"</span><span>]</span>
    <span>linear_model_acc</span> <span>=</span> <span>f</span><span>[</span><span>"linear_model_acc"</span><span>]</span>
</code></pre></div></div>

<ul>
  <li><strong>voxel_train_data</strong> this is the brain activity data we will use to train the model</li>
  <li><strong>voxel_test_data</strong> this is the brain activity data we will use in the final test of the model</li>
  <li><strong>ME_features_train_data</strong> this is the ME feature data we will use to train the model. The feature vector consists of stacking together four consecutive delays (t-3 to t-6, see the <a href="https://drorcohengithub.github.io/website/decoding/encoding/fmri/2020/07/31/decoding_visual_experience.html">original post</a> for details)</li>
  <li><strong>ME_features_test_data</strong> this is the ME feature data we will use in the final test of the model</li>
  <li><strong>linear_model_acc</strong> this is the accuracy data for the linear model. This is calculated as the pearsons correlation between the model predictions and the test data (i.e. voxel_test_data)</li>
</ul>

<p>I restrict the analysis to the 2000 voxels that were best predicted using the linear model. This is a bit harsh on our NN here because it is possible that the NN improves on voxels that the linear model was poor at predicting, so keep that in mind.</p>

<div><div><pre><code><span>feature_dim</span> <span>=</span> <span>ME_features_train_data</span><span>.</span><span>shape</span><span>[</span><span>1</span><span>]</span>
<span>num_voxels</span> <span>=</span> <span>voxel_train_data</span><span>.</span><span>shape</span><span>[</span><span>1</span><span>]</span>
</code></pre></div></div>

<h2 id="the-network">The network</h2>

<p>We first need to decide on the structure of the network. There is now a whole zoo of network architectures and I think it is pretty likely that many of them are superior to the linear model. However, the point here to see how well an ‚Äúout of the box‚Äù NN works. Nothing is more vanilla than a tutorial, so I will use the architecture from the <a href="https://www.tensorflow.org/tutorials/keras/regression">TensorFlow regression tutorial</a>. The architecture has two hidden, densely connected layers with relu activations. We will be fitting a mere 1,812,304 parameters.</p>

<p>There really is no reason to think that this architecture is suited to our specific problem. But if something like this <em>does</em> work, then it may not be so difficult to come up with a NN that is superior to the linear model.</p>

<p>To the model.</p>

<div><div><pre><code><span># repeatable intialization of the weights
</span><span>initializer</span> <span>=</span> <span>tf</span><span>.</span><span>keras</span><span>.</span><span>initializers</span><span>.</span><span>GlorotNormal</span><span>(</span><span>seed</span><span>=</span><span>1</span><span>)</span>

<span>vanilla</span> <span>=</span> <span>tf</span><span>.</span><span>keras</span><span>.</span><span>Sequential</span><span>([</span>
    <span>tf</span><span>.</span><span>keras</span><span>.</span><span>Input</span><span>(</span><span>shape</span><span>=</span><span>[</span><span>feature_dim</span><span>]),</span>
    <span>layers</span><span>.</span><span>Dense</span><span>(</span><span>64</span><span>,</span> <span>activation</span><span>=</span><span>'relu'</span><span>,</span><span>kernel_initializer</span><span>=</span><span>initializer</span><span>),</span> <span># set the initial weights
</span>    <span>layers</span><span>.</span><span>Dense</span><span>(</span><span>64</span><span>,</span> <span>activation</span><span>=</span><span>'relu'</span><span>,</span><span>kernel_initializer</span><span>=</span><span>initializer</span><span>),</span>
    <span>layers</span><span>.</span><span>Dense</span><span>(</span><span>num_voxels</span><span>)</span>
<span>])</span>
<span>vanilla</span><span>.</span><span>summary</span><span>()</span>
</code></pre></div></div>

<div><div><pre><code>Model: "sequential_2"
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
dense_6 (Dense)              (None, 64)                1678144   
_________________________________________________________________
dense_7 (Dense)              (None, 64)                4160      
_________________________________________________________________
dense_8 (Dense)              (None, 2000)              130000    
=================================================================
Total params: 1,812,304
Trainable params: 1,812,304
Non-trainable params: 0
_________________________________________________________________
</code></pre></div></div>

<div><div><pre><code><span>keras</span><span>.</span><span>utils</span><span>.</span><span>plot_model</span><span>(</span><span>vanilla</span><span>,</span> <span>show_shapes</span><span>=</span><span>True</span><span>,</span><span>to_file</span><span>=</span><span>'vanilla.png'</span><span>)</span>
</code></pre></div></div>

<figure>
  <img src="https://drorcohengithub.github.io/website/assets/images/vanilla.png" alt=""><figcaption>
      Model structure

    </figcaption></figure>

<h3 id="the-optimizer">The optimizer</h3>

<p>The next thing is to choose an optimizer for the network. The tutorial used ADAM with a hardwired learning rate, but I went with a simple weight decay approach. Standard stuff, though I did manually tweak it a bit. A more principled approach is to optimize this using cross validation or something but for simplicity I‚Äôll keep this as is.</p>

<div><div><pre><code><span># initial learning rate
</span><span>initial_learning_rate</span> <span>=</span> <span>0.0001</span>
<span>#expontential decay
</span><span>lr_schedule</span> <span>=</span> <span>tf</span><span>.</span><span>keras</span><span>.</span><span>optimizers</span><span>.</span><span>schedules</span><span>.</span><span>ExponentialDecay</span><span>(</span>
<span>initial_learning_rate</span><span>,</span>
<span>decay_steps</span><span>=</span><span>1000</span><span>,</span>
<span>decay_rate</span><span>=</span><span>0.8</span><span>)</span>
</code></pre></div></div>

<h3 id="compile">Compile</h3>
<p>Put it all together</p>

<div><div><pre><code><span># optimize mean squared error
</span><span>vanilla</span><span>.</span><span>compile</span><span>(</span>
    <span>optimizer</span><span>=</span><span>tf</span><span>.</span><span>optimizers</span><span>.</span><span>Adam</span><span>(</span><span>learning_rate</span><span>=</span><span>lr_schedule</span><span>),</span><span>#
</span>    <span>loss</span><span>=</span><span>'mean_squared_error'</span><span>,</span>
    <span>metrics</span><span>=</span><span>[</span><span>"mean_squared_error"</span><span>])</span>
</code></pre></div></div>

<h3 id="custom-callback-to-monitor-things">Custom callback to monitor things</h3>

<p>As I mentioned, the performance of the model is assess as the correlation between the predicted and actual response (more on this later). This will quickly evaluate our model performance</p>

<div><div><pre><code><span>zs</span> <span>=</span> <span>lambda</span> <span>v</span><span>,</span><span>dim</span><span>=</span><span>0</span><span>:</span> <span>(</span><span>v</span><span>-</span><span>v</span><span>.</span><span>mean</span><span>(</span><span>dim</span><span>,</span><span>keepdims</span><span>=</span><span>True</span><span>))</span><span>/</span><span>v</span><span>.</span><span>std</span><span>(</span><span>dim</span><span>,</span><span>keepdims</span><span>=</span><span>True</span><span>)</span>

<span>def</span> <span>respective_correlation</span><span>(</span><span>x</span><span>,</span><span>y</span><span>,</span><span>dim</span><span>=</span><span>0</span><span>):</span>

    <span>"""
        shape is samps by vars/featurs   
    """</span>  

    <span>num_samps</span> <span>=</span> <span>x</span><span>.</span><span>shape</span><span>[</span><span>dim</span><span>]</span>
    <span>if</span> <span>not</span> <span>np</span><span>.</span><span>array_equal</span><span>(</span><span>x</span><span>.</span><span>shape</span><span>,</span> <span>y</span><span>.</span><span>shape</span><span>):</span>
        <span>raise</span> <span>ValueError</span><span>(</span><span>'x and y must have same shape'</span><span>)</span>

    <span>corrs</span> <span>=</span> <span>(</span><span>zs</span><span>(</span><span>x</span><span>,</span><span>dim</span><span>)</span> <span>*</span> <span>zs</span><span>(</span><span>y</span><span>,</span><span>dim</span><span>)).</span><span>mean</span><span>(</span><span>dim</span><span>)</span>

    <span>return</span> <span>corrs</span>
</code></pre></div></div>

<div><div><pre><code><span># We create a custom call back to report on how things are progressing in the end of each epoch
</span><span>class</span> <span>CustomCallback</span><span>(</span><span>Callback</span><span>):</span>

    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>val_data</span><span>):</span> <span># this gives us access to the validation data (see https://github.com/keras-team/keras/issues/10472 )
</span>        <span>super</span><span>().</span><span>__init__</span><span>()</span>
        <span>self</span><span>.</span><span>validation_data</span> <span>=</span> <span>val_data</span>

    <span>def</span> <span>on_epoch_end</span><span>(</span><span>self</span><span>,</span> <span>epoch</span><span>,</span> <span>logs</span><span>=</span><span>{}):</span> <span># on the end of each training epoch get
</span>
        <span># the current learning rate
</span>        <span>current_lr</span> <span>=</span> <span>self</span><span>.</span><span>model</span><span>.</span><span>optimizer</span><span>.</span><span>_decayed_lr</span><span>(</span><span>'float32'</span><span>).</span><span>numpy</span><span>()</span>

        <span># the correlation between the predicted and actual response
</span>        <span>for</span> <span>val</span> <span>in</span> <span>val_dataset</span><span>:</span> <span># calculate correlation on the validation data
</span>            <span>mdl_pred</span> <span>=</span> <span>self</span><span>.</span><span>model</span><span>.</span><span>predict</span><span>(</span><span>val</span><span>[</span><span>0</span><span>])</span>        
            <span>val_corr</span> <span>=</span> <span>np</span><span>.</span><span>mean</span><span>(</span><span>respective_correlation</span><span>(</span><span>mdl_pred</span><span>,</span> <span>val</span><span>[</span><span>1</span><span>].</span><span>numpy</span><span>()))</span>

        <span># add it to the logs (not sure if this is the correct way to do it but it works)
</span>        <span>logs</span><span>[</span><span>"val_corr"</span><span>]</span> <span>=</span> <span>val_corr</span>
        <span>print</span><span>(</span><span>f</span><span>"current lr </span><span>{</span><span>current_lr</span><span>:.</span><span>2</span><span>E</span><span>}</span><span> corr </span><span>{</span><span>val_corr</span><span>:.</span><span>03</span><span>f</span><span>}</span><span>,</span><span>\
</span><span>        MSE </span><span>{</span><span>logs</span><span>[</span><span>'val_mean_squared_error'</span><span>]:.</span><span>06</span><span>f</span><span>}</span><span>"</span><span>)</span> <span>#, loss {logs['val_loss']:.06f}
</span></code></pre></div></div>

<h2 id="prepare-the-training-and-validation-data">Prepare the training and validation data</h2>

<p>I will keep some data aside for validation as we train the model. The key thing to remember here is that we are using time series data. This means that the data is not iid. If we just grabbed samples randomly for validation then there is a good chance that dependent samples will be in the training set. For example, we may end up with sample at t=n in the val set but t=n-1 in the training set. These are dependent, and in fact likely to be quite similar. In this case performance on the validation test will reflect something of double dipping and probably be much higher than what we get on the final test set.</p>

<p>I will very crudely grab three chunks of 200 samples at intervals of 2000, 4000 and 6000 samples. This is completely arbitrary and pretty poor practice. We did much better on the ridge regression in the previous post, but I think it is good enough for illustration. Note that we might have a bit of leakage (since the samples around these chunks are still in the training set), but I think it is not too much of a worry.</p>

<div><div><pre><code><span>all_data_inds</span> <span>=</span> <span>np</span><span>.</span><span>arange</span><span>(</span><span>ME_features_train_data</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>])</span>
<span>#keep the first, take three, chunk_len samples long chunks for validation
</span><span>chunk_len</span> <span>=</span> <span>200</span>
<span>chunk_starts</span> <span>=</span> <span>np</span><span>.</span><span>array</span><span>([</span><span>2</span><span>,</span><span>4</span><span>,</span><span>6</span><span>])</span><span>*</span><span>1000</span>
<span>chunk_ends</span> <span>=</span> <span>chunk_starts</span><span>+</span><span>chunk_len</span>
<span>val_inds</span> <span>=</span> <span>np</span><span>.</span><span>concatenate</span><span>([</span><span>np</span><span>.</span><span>arange</span><span>(</span><span>strt</span><span>,</span><span>stp</span><span>)</span> <span>for</span> <span>strt</span><span>,</span><span>stp</span> <span>in</span> <span>zip</span><span>(</span><span>chunk_starts</span><span>,</span><span>chunk_ends</span><span>)])</span>
<span>trn_inds</span> <span>=</span> <span>np</span><span>.</span><span>delete</span><span>(</span><span>all_data_inds</span><span>,</span><span>val_inds</span><span>)</span>
</code></pre></div></div>

<p>TensorFlow likes its data in a particular way. This is <em>really</em> irritating to me.</p>

<div><div><pre><code><span>train_dataset</span> <span>=</span> <span>tf</span><span>.</span><span>data</span><span>.</span><span>Dataset</span><span>.</span><span>from_tensor_slices</span><span>((</span><span>ME_features_train_data</span><span>[</span><span>trn_inds</span><span>,:],</span> <span>voxel_train_data</span><span>[</span><span>trn_inds</span><span>,:]))</span>
<span># organized in batches ofo 32 to update the gradients (I think this is default)
</span><span>train_dataset</span> <span>=</span> <span>train_dataset</span><span>.</span><span>batch</span><span>(</span><span>32</span><span>)</span>

<span># Prepare the validation dataset
</span><span>val_dataset</span> <span>=</span> <span>tf</span><span>.</span><span>data</span><span>.</span><span>Dataset</span><span>.</span><span>from_tensor_slices</span><span>((</span>‚Ä¶</code></pre></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://drorcohengithub.github.io/website/decoding/encoding/fmri/tensorflow/neural/2020/12/13/Predicting-brain-activity-using-NN-and-TensorFlow.html">https://drorcohengithub.github.io/website/decoding/encoding/fmri/tensorflow/neural/2020/12/13/Predicting-brain-activity-using-NN-and-TensorFlow.html</a></em></p>]]>
            </description>
            <link>https://drorcohengithub.github.io/website/decoding/encoding/fmri/tensorflow/neural/2020/12/13/Predicting-brain-activity-using-NN-and-TensorFlow.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26281492</guid>
            <pubDate>Sat, 27 Feb 2021 00:31:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Flatcat is a new robot for your home]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26281376">thread link</a>) | @zdw
<br/>
February 26, 2021 | https://jetpack.cl/your-next-robot-is-a-pet/ | <a href="https://web.archive.org/web/*/https://jetpack.cl/your-next-robot-is-a-pet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
				<div id="content">
			
	<div id="primary">
		<main id="main">
			
<article id="post-764" itemtype="https://schema.org/CreativeWork" itemscope="">
	<div>
					
			
		<div itemprop="text">
			
<p><strong>flatcat is a new robot</strong> <strong>for your home</strong></p>



<p>Jetpack Cognition Lab, a Berlin-based AI and robotics startup, today announced flatcat, a new consumer robot, to be launched in March 2021. flatcat is a firm and fluffy AI pet for the living room, that responds to touch and gravity, and has a playful life of its own.</p>



<figure><img loading="lazy" width="1800" height="1000" src="https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo.jpg" alt="" srcset="https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo.jpg 1800w, https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo-1000x556.jpg 1000w, https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo-768x427.jpg 768w, https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo-1536x853.jpg 1536w, https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo-500x278.jpg 500w, https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo-800x444.jpg 800w, https://jetpack.cl/wp-content/uploads/2021/02/jcl_flatcat_foto_lo-1280x711.jpg 1280w" sizes="(max-width: 1800px) 100vw, 1800px"></figure>



<p>flatcat invites to experience a new dimension of touch and motion. Cuddle with it, have a gentle romp, or just watch it do weird things on its own, to caress your soul. The robot feels everything exactly with cognitive sensorimotor loops based on ten years of developmental robotics research. flatcat has no face, no app, no cloud, full privacy. It is built around a 3D printed skeleton and is powered by Jetpack Cognition Lab‚Äòs own electrical motor design.</p>



<p>The new product will be available on Kickstarter and selected outlets beginning March 3, 2021. Visit https://flatcat.berlin for more information.</p>



<p><strong>Links</strong><br><a href="https://flatcat.berlin/" target="_blank" rel="noreferrer noopener">https://flatcat.berlin</a></p>



<p><strong>About Jetpack Cognition Lab</strong><br>Established in 2019, Jetpack Cognition Lab is a Berlin-based AI and Robotics startup and innovation hub. Founded by Oswald Berthold and Matthias Kubisch, it specializes in science transfer and product research. The company‚Äôs bioinspired hardware and software design is built on the neuroscience and psychology of developmental learning.</p>








		</div>

				
			</div>
</article>

			

					</main>
	</div>

	

	</div>
</div></div>]]>
            </description>
            <link>https://jetpack.cl/your-next-robot-is-a-pet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26281376</guid>
            <pubDate>Sat, 27 Feb 2021 00:12:18 GMT</pubDate>
        </item>
    </channel>
</rss>
