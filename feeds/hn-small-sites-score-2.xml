<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Mon, 07 Dec 2020 12:37:48 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Mon, 07 Dec 2020 12:37:48 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Input Events in Qt 6]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25313204">thread link</a>) | @todsacerdoti
<br/>
December 5, 2020 | https://www.qt.io/blog/input-events-in-qt-6 | <a href="https://web.archive.org/web/*/https://www.qt.io/blog/input-events-in-qt-6">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            

                            <p>
                                Friday December 04, 2020 by <a href="">Shawn Rutledge</a> | <a href="#commento">Comments</a>
                            </p>
                            
                            <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>The delivery of mouse and touch events in Qt Quick is complex, and it became clear a few years ago that we needed to refactor the event inheritance hierarchy, to have some common API for various event types, so that more of the delivery code could be shared. In Qt 5.8 we added QQuickPointerEvent and associated types, as a way of prototyping what that could look like. They are QObjects; and since then, QQuickWindow has been delivering these wrapper events that carry the original events inside. Now finally in Qt 6 we have been able to complete the QEvent refactoring, so that QQuickWindow no longer needs the wrappers. Along with that, we were able to add a few features and fix a few bugs. Many of the remaining bugs that seemed intractable in Qt 5 should at least be possible to fix later on.</p>
<!--more--><h2>Say hello to QPointerEvent and QEventPoint</h2>
<p>The inheritance hierarchy now looks like this:</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/event-hierarchy-qt6.png?width=1280&amp;name=event-hierarchy-qt6.png" alt="event-hierarchy-qt6" width="1280" srcset="https://www.qt.io/hs-fs/hubfs/event-hierarchy-qt6.png?width=640&amp;name=event-hierarchy-qt6.png 640w, https://www.qt.io/hs-fs/hubfs/event-hierarchy-qt6.png?width=1280&amp;name=event-hierarchy-qt6.png 1280w, https://www.qt.io/hs-fs/hubfs/event-hierarchy-qt6.png?width=1920&amp;name=event-hierarchy-qt6.png 1920w, https://www.qt.io/hs-fs/hubfs/event-hierarchy-qt6.png?width=2560&amp;name=event-hierarchy-qt6.png 2560w, https://www.qt.io/hs-fs/hubfs/event-hierarchy-qt6.png?width=3200&amp;name=event-hierarchy-qt6.png 3200w, https://www.qt.io/hs-fs/hubfs/event-hierarchy-qt6.png?width=3840&amp;name=event-hierarchy-qt6.png 3840w" sizes="(max-width: 1280px) 100vw, 1280px"><br>QPointerEvent is the new abstract type for all events that come from pointing devices (mouse, touchscreen, tablet stylus). It has the common API to be able to handle all these in a device-agnostic way. Since QTouchEvent can carry multiple touchpoints in one event, we standardized this concept: every QPointerEvent represents potentially a cluster of QEventPoint instances (even though most events only carry one point), and therefore has appropriate API: points(), point(i) and pointCount(). <br>Every QInputEvent (including QPointerEvent) carries a pointer to the QInputDevice that it came from. This allows event-handling code to respond in device-specific ways, even when handling synthetic mouse events. </p>
<p>Every QEventPoint has velocity. The Kalman filter that Qt Quick was using in Qt 5 has been moved to QtGui, so that the average velocity from the last few movements is available wherever the event is delivered. This enables velocity-sensitive behavior (such as distinguishing a slow drag from a quick flick, or responding to a particular direction of movement) regardless which device it comes from. Instantaneous velocity is generally too volatile for such purposes, but if you need it you can calculate it as <code>(globalPosition() - globalLastPosition()) / (timestamp() - lastTimestamp())</code>. </p>
<p>QSinglePointEvent is another abstract type that standardizes the position accessors that used to be separately and inconsistently implemented in QMouseEvent, QTabletEvent, QHoverEvent, QWheelEvent and a few more. They are all floating-point now. position() replaces pos() and posF(), scenePosition() replaces windowPos(), and globalPosition() replaces screenPos(). The old accessors are still there for now, but deprecated: a Qt 5 application will not encounter an SC break just because of handling QMouseEvent, for example. QEventPoint replaces QTouchEvent::TouchPoint, but there is a "using" declaration for the sake of source compatibililty. </p>
<p>I have <a href="https://github.com/ec1oud/clazy" rel="noopener" target="_blank">forked clazy</a> and added a new qevent-accessors check, which might save you some trouble: it can automatically apply "fixits" to get rid of the deprecation warnings stemming from the event accessor renaming. (Yes we should upstream that change.)</p>
<h2>Device-agnostic event handling in C++</h2>
<p>In various places in Qt we can now respond to mouse, touch and tablet events (such as detecting a click or a drag), either by iterating the QEventPoints, or just responding to the first point. Here's a contrived example of how a QQuickItem subclass could do that: </p>
<pre>bool MyItem::event(QEvent *ev) override {<br>  if (ev-&gt;isPointerEvent()) {<br>    QPointerEvent *pev = static_cast&lt;QPointerEvent *&gt;(ev);<br>    for (QEventPoint &amp;point : pev-&gt;points()) {<br>      switch (point.state()) {<br>      case QEventPoint::State::Pressed:<br>        if (reactToPress(point.position()))<br>          pev-&gt;setExclusiveGrabber(point, this);<br>        break;<br>      case QEventPoint::State::Updated:<br>        ...<br>      }<br>    }<br>    return true;<br>  }<br>  return QQuickItem::event(ev);<br>}</pre>
<p>QQuickFlickable::childMouseEventFilter() works this way, for example. And that has an interesting result: </p>
<h2>Flickable handles touch now! </h2>
<p>There were many open bugs related to the fact that Qt 5's Flickable could only handle actual mouse events and synthetic mouse events. Qt only supports one mouse, one mouse position, one cursor (so far, but we're working on that...) and therefore you could not flick two Flickables with two fingers. If you touch some component inside the Flickable that is able to handle touch events, but then you drag your finger across the Flickable in the allowed direction, it uses childMouseEventFilter() to steal the grab from that component; but that involved switching from the actual touch event to a synthetic mouse event, and also remembering to deliver the following updates as synth-mouse events to Flickable. Various things went wrong. Well... those days are over, because Flickable::childMouseEventFilter() no longer cares which device the QPointerEvents come from. If you set pressDelay, it's able to withhold the actual touch press and then replay it to the items inside when the timer expires. Yes, you can now drag multiple Flickables with multiple fingers too.</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/parallel-flickables.gif?width=1280&amp;name=parallel-flickables.gif" alt="parallel-flickables" width="1280" srcset="https://www.qt.io/hs-fs/hubfs/parallel-flickables.gif?width=640&amp;name=parallel-flickables.gif 640w, https://www.qt.io/hs-fs/hubfs/parallel-flickables.gif?width=1280&amp;name=parallel-flickables.gif 1280w, https://www.qt.io/hs-fs/hubfs/parallel-flickables.gif?width=1920&amp;name=parallel-flickables.gif 1920w, https://www.qt.io/hs-fs/hubfs/parallel-flickables.gif?width=2560&amp;name=parallel-flickables.gif 2560w, https://www.qt.io/hs-fs/hubfs/parallel-flickables.gif?width=3200&amp;name=parallel-flickables.gif 3200w, https://www.qt.io/hs-fs/hubfs/parallel-flickables.gif?width=3840&amp;name=parallel-flickables.gif 3840w" sizes="(max-width: 1280px) 100vw, 1280px"><br>Multi-touch still doesn't work with the remaining mouse-only items like MouseArea though, because those still rely on synth-mouse events. But it can be avoided. In general: try to use Event Handlers rather than MouseArea, because (as its name indicates) it's not really intended to support anything more than mouse interaction. </p>
<p>QTabletEvents (from your Wacom stylus, Samsung S-pen, Apple Pencil etc.) are also just pointer events that carry a few more properties, and can be handled by any device-agnostic code that handles mouse and touch events. But we will keep working on improving the experience with those. We didn't add any new virtual functions in QQuickItem for them, but they will get delivered to QQuickItem::event() soon. </p>
<p>Another thing we're still working on is making Flickable behave better with laptop touchpads. A fix is coming soon. </p>
<h2>Left to your own devices</h2>
<p>Platform plugins now have responsibility to discover and register input devices, in order to fulfill the promise that every QInputEvent tells you exactly where it came from. Some of this work is already done on some of the platforms. (On others it's proving to be problematic.) You can get a list of all registered devices from QInputDevice::devices(). The qtdiag utility also shows you this list. </p>
<p>QInputDevice is a QObject, and its parent() can be another device in case there is a natural hierarchy: for example, X11 has master and slave devices, and a tablet stylus "belongs to" a particular tablet device. In other cases, the parent is simply an object within the platform plugin that owns the device for memory management purposes. </p>
<p>On the platforms where the device discovery work is not done, QInputEvent::device() is never null, but may be a generic instance taken from QInputDevice::primaryKeyboard() or QPointingDevice::primaryMouse(). Touchscreen devices are unique though; we already did it that way in Qt 5. </p>
<p>QInputDevice::seatName() correponds to the Wayland notion of a "seat": a set of devices that one user is using. There is little multi-seat support so far, but it will be improved over time. If you configure a <a href="https://wiki.archlinux.org/index.php/Multi-pointer_X" rel="noopener" target="_blank">multi-pointer X server</a>, you can see different seat names on different devices, but those names are automatically generated from xinput IDs in the xcb plugin. On Wayland compositors such as <a href="https://manpages.debian.org/experimental/sway/sway-input.5.en.html#SEAT_CONFIGURATION" rel="noopener" target="_blank">Sway</a>, it's possible to give the seats arbitrary names; and we plan that Qt will eventually work with that. </p>
<pre>$ xinput list<br>Virtual core pointer id=2 [master pointer (3)]<br>  Virtual core XTEST pointer id=4 [slave pointer (2)]<br>  ZSA Technology Labs ErgoDox EZ Mouse id=11 [slave pointer (2)]<br>  ZSA Technology Labs ErgoDox EZ Consumer Control id=13 [slave pointer (2)]<br>  Logitech MX Master 2S id=15 [slave pointer (2)]<br>Virtual core keyboard id=3 [master keyboard (2)]<br>  Virtual core XTEST keyboard id=5 [slave keyboard (3)]<br>  Power Button id=6 [slave keyboard (3)]<br>  Power Button id=7 [slave keyboard (3)]<br>  Sleep Button id=8 [slave keyboard (3)]<br>  UVC Camera (046d:0992) id=9 [slave keyboard (3)]<br>  ZSA Technology Labs ErgoDox EZ id=10 [slave keyboard (3)]<br>  ZSA Technology Labs ErgoDox EZ System Control id=12 [slave keyboard (3)]<br>  ZSA Technology Labs ErgoDox EZ Keyboard id=14 [slave keyboard (3)]<br>  ZSA Technology Labs ErgoDox EZ Consumer Control id=16 [slave keyboard (3)]<br>  Logitech MX Master 2S id=17 [slave keyboard (3)]<br>aux pointer id=22 [master pointer (23)]<br>  Microsoft Microsoft Optical Mouse by Starck id=19 [slave pointer (22)]<br>  aux XTEST pointer id=24 [slave pointer (22)]<br>aux keyboard id=23 [master keyboard (22)]<br>  Apple, Inc Apple Keyboard id=20 [slave keyboard (23)]<br>  Apple, Inc Apple Keyboard id=21 [slave keyboard (23)]<br>  aux XTEST keyboard id=25 [slave keyboard (23)]<p>$ qtdiag<br>Qt 6.0.0 (x86_64-little_endian-lp64 shared (dynamic) debug build; by GCC 10.2.0) on "xcb" <br>OS: Arch Linux [linux version 5.9.11-arch2-1]<br>...<br>Input devices: 23<br>QInputDevice::DeviceType::Mouse "Virtual core pointer", seat: "30002" capabilities: Position Scroll Hover<br>QInputDevice::DeviceType::Keyboard "Virtual core keyboard", seat: "30002" capabilities:<br>QInputDevice::DeviceType::Mouse "aux pointer", seat: "170016" capabilities: Position Scroll Hover<br>QInputDevice::DeviceType::Keyboard "aux keyboard", seat: "170016" capabilities:<br>QInputDevice::DeviceType::Mouse "Virtual core XTEST pointer", seat: "30002" capabilities: Position Scroll Hover<br>QInputDevice::DeviceType::Keyboard "Virtual core XTEST keyboard", seat: "30002" capabilities:<br>QInputDevice::DeviceType::Keyboard "Power Button", seat: "30002" capabilities:<br>QInputDevice::DeviceType::Keyboard "Power Button", seat: "30002" capabilities:<br>QInputDevice::DeviceType::Keyboard "Sleep Button", seat: "30002" capabilities:<br>QInputDevice::DeviceType::Keyboard "UVC Camera (046d:0992)", seat: "30002" …</p></pre></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.qt.io/blog/input-events-in-qt-6">https://www.qt.io/blog/input-events-in-qt-6</a></em></p>]]>
            </description>
            <link>https://www.qt.io/blog/input-events-in-qt-6</link>
            <guid isPermaLink="false">hacker-news-small-sites-25313204</guid>
            <pubDate>Sat, 05 Dec 2020 09:54:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Apple Teaches Us About Web and Product Design]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25313100">thread link</a>) | @Alvinthj
<br/>
December 5, 2020 | https://blog.snappymob.com/what-apple-teaches-us-about-web-and-product-design | <a href="https://web.archive.org/web/*/https://blog.snappymob.com/what-apple-teaches-us-about-web-and-product-design">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Standing in line with other high-end brands, <em>“Less is better”</em> has always been the one principle that we can all observe in Apple’s branding and design. From their physical store layouts to their website and products including hardware and software, Apple has always emanated a sense of luxury in their aesthetic. And that’s what makes them stand out.</p>
<!--more--><p>What standards has Apple set for the world of design? Let’s take a close look at how they do it.</p>
<h2><strong>How Apple Does Web Design</strong></h2>
<p>Do you remember the first time you went on Apple’s website to check out their new iPhone? You were probably really quickly convinced by the clean typography, smooth animation flows, and high definition product images that immersed you by filling your screen… that you wanted one.&nbsp;</p>
<p>Apple’s web design doesn’t just function, it wows.<img src="https://blog.snappymob.com/hs-fs/hubfs/clean%20white%20space%20and%20font-min.png?width=1383&amp;name=clean%20white%20space%20and%20font-min.png" alt="Apple iPad product images and descriptions clean white space and font" width="1383" srcset="https://blog.snappymob.com/hs-fs/hubfs/clean%20white%20space%20and%20font-min.png?width=692&amp;name=clean%20white%20space%20and%20font-min.png 692w, https://blog.snappymob.com/hs-fs/hubfs/clean%20white%20space%20and%20font-min.png?width=1383&amp;name=clean%20white%20space%20and%20font-min.png 1383w, https://blog.snappymob.com/hs-fs/hubfs/clean%20white%20space%20and%20font-min.png?width=2075&amp;name=clean%20white%20space%20and%20font-min.png 2075w, https://blog.snappymob.com/hs-fs/hubfs/clean%20white%20space%20and%20font-min.png?width=2766&amp;name=clean%20white%20space%20and%20font-min.png 2766w, https://blog.snappymob.com/hs-fs/hubfs/clean%20white%20space%20and%20font-min.png?width=3458&amp;name=clean%20white%20space%20and%20font-min.png 3458w, https://blog.snappymob.com/hs-fs/hubfs/clean%20white%20space%20and%20font-min.png?width=4149&amp;name=clean%20white%20space%20and%20font-min.png 4149w" sizes="(max-width: 1383px) 100vw, 1383px">(Image Source: Apple)</p>
<p>If we look at how Apple’s website has transformed over the years, we can see that minimalistic web design is one of its most consistent catches.&nbsp;</p>
<p>Their website focuses on clutterless single content areas that highlight one piece of content at a time with plenty of white space and wide margins. Not only is this design aesthetically pleasing, it is easy on the eyes and makes content easy to take in.</p>
<p>To make reading even lighter, Apple also uses simple headlines that show you the main idea of the paragraph without requiring you to read the paragraph.&nbsp;</p>
<p><img src="https://blog.snappymob.com/hs-fs/hubfs/Apple%20homepage.png?width=1488&amp;name=Apple%20homepage.png" alt="Apple homepage iPhone 12 Pro product image" width="1488" srcset="https://blog.snappymob.com/hs-fs/hubfs/Apple%20homepage.png?width=744&amp;name=Apple%20homepage.png 744w, https://blog.snappymob.com/hs-fs/hubfs/Apple%20homepage.png?width=1488&amp;name=Apple%20homepage.png 1488w, https://blog.snappymob.com/hs-fs/hubfs/Apple%20homepage.png?width=2232&amp;name=Apple%20homepage.png 2232w, https://blog.snappymob.com/hs-fs/hubfs/Apple%20homepage.png?width=2976&amp;name=Apple%20homepage.png 2976w, https://blog.snappymob.com/hs-fs/hubfs/Apple%20homepage.png?width=3720&amp;name=Apple%20homepage.png 3720w, https://blog.snappymob.com/hs-fs/hubfs/Apple%20homepage.png?width=4464&amp;name=Apple%20homepage.png 4464w" sizes="(max-width: 1488px) 100vw, 1488px">(Image Source: Apple)</p>
<p>On their homepage, it’s difficult to ignore the huge product image that appears as soon as you enter, filling your entire screen from edge to edge, immersing you in it. The reason behind this design choice is to prevent decision fatigue and give visitors room to breathe. Instead of pushing their products onto you all at once, they let you focus on one single product, one headline, and one catchy subheadline.</p>
<p>Unlike most other websites that use multiple, smaller product photos, Apple uses techniques that obey the principles of visual hierarchy. They use large images, high contrast and bold typefaces for emphasis, and maximize space around it to draw even more attention to the subject. That is why when you glance at the image above, ‘iPhone 12 Pro’ takes center stage before anything else.</p>
<h2><strong>How Apple Does Product Design</strong></h2>
<p><span>It’s no unpopular opinion that Apple products look AND feel luxurious, whether it’s the iPhone, Mac, iPad or Apple Watch. One of the most groundbreaking moments for Apple was when they launched the original Macbook Air in 2008. Their iconic </span><a href="https://www.youtube.com/watch?v=3Ywa_EynjC8"><span>Envelope Ad</span></a><span> went viral because at the time, the Macbook Air was the thinnest laptop ever in the market.&nbsp;</span><span></span></p>
<p><span>When we look at their unrivaled history of success, we can’t help but wonder: What’s been keeping Apple products ahead of the rest all these years?</span></p>
<p><span><img src="https://blog.snappymob.com/hs-fs/hubfs/an%20image%20of%20iphone.jpg?width=724&amp;height=483&amp;name=an%20image%20of%20iphone.jpg" alt="an image of iphone" width="724" height="483" srcset="https://blog.snappymob.com/hs-fs/hubfs/an%20image%20of%20iphone.jpg?width=362&amp;height=242&amp;name=an%20image%20of%20iphone.jpg 362w, https://blog.snappymob.com/hs-fs/hubfs/an%20image%20of%20iphone.jpg?width=724&amp;height=483&amp;name=an%20image%20of%20iphone.jpg 724w, https://blog.snappymob.com/hs-fs/hubfs/an%20image%20of%20iphone.jpg?width=1086&amp;height=725&amp;name=an%20image%20of%20iphone.jpg 1086w, https://blog.snappymob.com/hs-fs/hubfs/an%20image%20of%20iphone.jpg?width=1448&amp;height=966&amp;name=an%20image%20of%20iphone.jpg 1448w, https://blog.snappymob.com/hs-fs/hubfs/an%20image%20of%20iphone.jpg?width=1810&amp;height=1208&amp;name=an%20image%20of%20iphone.jpg 1810w, https://blog.snappymob.com/hs-fs/hubfs/an%20image%20of%20iphone.jpg?width=2172&amp;height=1449&amp;name=an%20image%20of%20iphone.jpg 2172w" sizes="(max-width: 724px) 100vw, 724px"></span></p>
<p><span>Yes, Apple definitely has a strong focus on user experience, premium quality, practical design, and even tasking users’ feedback into consideration. But ask anyone what they think stands out about Apple products, and they’ll mention one thing </span><span>—</span> <em><span>simplicity</span></em><span>.</span></p>
<p><span>The book </span><em><span>Steve Jobs Biography</span></em><span> written by Walter Isaacson highlights Apple’s emphasis on simplicity:</span></p>
<p><span><em>Jobs’ belief in the power of simplicity as a design precept reached its pinnacle with the three consumer device triumphs he produced beginning in 2001: the iPod, iPhone and iPad. He immersed himself daily in the design of the original iPod and its interface.</em></span></p>
<p><span><em>His main demand was <strong>“Simplify!”</strong></em></span></p>
<p><span><em>He would go over each screen and apply a rigid test: If he wanted a song or a function, he should be able to get there in three clicks. And the click should be intuitive. If he couldn’t figure out how to navigate to something, or if it took more than three clicks, he would be brutal.</em></span></p>
<p><span><em>“There would be times when we’d wrack our brains on a user interface problem, and think we’d considered every option, and he would go, ‘Did you think of this?’” said Tony Fadell, the team leader.</em></span></p>
<p><span><em>“He’d redefine the problem or approach, and our little problem would go away.”</em></span></p>
<p><span>This is what makes Apple’s design unique. With Jobs’ hard focus on clean, simple, and sleek, iOS had started a big design wave </span><span>that, to this day, has Android operating systems scrambling to ride it.</span></p>
<p><span>When Apple launched the iPad 2 in Silicon Valley in 2011, Jobs said:</span></p>
<p><span><em>“It is in Apple’s DNA that technology alone is not enough - it’s technology married with liberal arts, married with the humanities, that yields us the results that make our heart sing.”&nbsp;</em></span></p>
<p><span>Today, it’s clear that Apple designers are continuing his legacy in keeping Apple at the intersection of technology and liberal arts. This is the reason why Apple’s design is great. Their products don't just look good, they’re designed in a way that thinks about the people they’re designed for.&nbsp;</span></p>
<h2><strong><span>Next Step for You</span></strong></h2>
<p><span>User experience makes Apple the winner that it is today. At Snappymob, we believe in the same thing.&nbsp;</span></p>
<p><span>We design products that function with feelings and connect with humans. If you’re in search of a product design and development agency, we are here to help.&nbsp;</span></p>
<p><span>Talk to us! Your consultation is on us.</span></p>
<p><strong><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-f33b2069-3350-40ff-bb1f-8570d0f9691e"><span id="hs-cta-f33b2069-3350-40ff-bb1f-8570d0f9691e"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/6960697/f33b2069-3350-40ff-bb1f-8570d0f9691e"><img id="hs-cta-img-f33b2069-3350-40ff-bb1f-8570d0f9691e" src="https://no-cache.hubspot.com/cta/default/6960697/f33b2069-3350-40ff-bb1f-8570d0f9691e.png" alt="Contact Us"></a></span></span><!-- end HubSpot Call-to-Action Code --></strong></p>
</span></p><p><label>app design</label></p>
        
      </div></div>]]>
            </description>
            <link>https://blog.snappymob.com/what-apple-teaches-us-about-web-and-product-design</link>
            <guid isPermaLink="false">hacker-news-small-sites-25313100</guid>
            <pubDate>Sat, 05 Dec 2020 09:33:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Immutable C#]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25312935">thread link</a>) | @Sankra
<br/>
December 5, 2020 | https://functional.christmas/2020/5 | <a href="https://web.archive.org/web/*/https://functional.christmas/2020/5">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><section><p>I really love C#. It's by far <a href="https://hjerpbakk.com/tag/csharp/">my favorite programming language</a>. And who wouldn't agree? I mean with a piffy, roll of the tounge <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)">Wikipedia description</a> like this, what is not to love?</p>
<blockquote>
<p>C# is a general-purpose, multi-paradigm programming language encompassing static typing, strong typing, lexically scoped, imperative, declarative, functional, generic, object-oriented (class-based), and component-oriented programming disciplines.</p>
</blockquote>
<p>"Yeah, yeah", I hear you say dear reader. "I know C# is great to use if you want to write better Java apps, even so, this is the Bekk Functional advent calendar. What are you rambling about?"</p>
<p>I know you love your pure, scalable functions in <a href="https://wiki.haskell.org/Functional_programming#Purity">Haskell</a> and your fancy web pages written in <a href="https://www.elm.christmas/2020">Elm</a>, but did you spot the magic word in the description above? It said:</p>
<blockquote>
<p>... <strong>functional</strong> ...</p>
</blockquote>
<p>Yes! As the late Sean Connery <a href="https://youtu.be/hKJZ9pzDMCk">said so excitedly</a>:</p>
<p><img src="https://hjerpbakk.com/img/christmas/the-day-is-mine.jpeg" alt="The day is mine!"></p>
<p>C# is not only useful on the <a href="https://docs.microsoft.com/en-us/aspnet/core/introduction-to-aspnet-core?view=aspnetcore-5.0">backend</a>, while writing <a href="https://docs.microsoft.com/en-us/xamarin/">iOS and Android apps</a>, <a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/?view=aspnetcore-5.0">replacing JS in the browser</a> or as a <a href="https://github.com/filipw/dotnet-script">scripting language</a>, it also becomes more and more functional-friendly with every new language version!</p>
<p>However, what does it mean to be a <em>functional-friendly</em> programming language?</p>
<h2>Functional advantages</h2>
<p>Enrico Buonanno argues in his book <a href="https://www.amazon.com/Functional-Programming-write-better-code/dp/1617293954/">Functional Programming in C#: How to write better C# code</a> that we should care about functional programming because it gives us the following:</p>
<ul>
<li><strong>Power:</strong> We can get more done with less code. Functional programming raises the level of abstraction, allowing us to write high-level code while freeing us from low-level technicalities that add complexity but no value.</li>
<li><strong>Safety:</strong> A program written in the imperative style may work well in a single-threaded implementation but due to the mutable state that is in its nature, cause all sorts of bugs when concurrency comes in. Code in the functional style might offer better guarantees in concurrent scenarios.</li>
<li><strong>Clarity:</strong> We spend more time maintaining and consuming existing code than writing new code, so it’s important that our code be clear and intention-revealing. As we learn to think functionally, achieving this clarity will become more natural.</li>
</ul>
<p>C# supports a lot of <a href="https://functionalprogrammingcsharp.com/functional-features-of-c-sharp">functional building blocks</a>, such as <em>function delegates</em>, <em>higher order functions</em>, <em>expressions instead of statements</em>, <em>method chaining</em>, <em>extension methods</em>, <em>yield</em>, <em>LINQ</em>, <em>tuples</em> and <em>local functions</em>. Despite all that, the core functional tenet of <em>immutability of data</em> has always been a C# pain point. Until now.</p>
<h2>Immutability in C#</h2>
<p>C# second greatest error<sup><sup id="fnref-1"><a href="#fn-1">1</a></sup></sup> was to one-up Java and introduce the concept of properties as a first class language feature with the poorest defaults of all time: the default property syntax made it all too easy to create classes with mutable properties. The deed is as simple as:</p>
<div data-language="csharp"><pre><code><span>public</span> <span>class</span> <span>Person</span>
<span>{</span>
    <span>public</span> <span><span>uint</span></span> Age <span>{</span> <span>get</span><span>;</span> <span>set</span><span>;</span> <span>}</span>
<span>}</span></code></pre></div>
<p><img src="https://hjerpbakk.com/img/christmas/the-wolf.png" alt="Listen to the wolf"></p>
<p>Alas, premature aging can take its toll and we should've listened to the dog, hound, wolf or whatever, and make the <code>age</code> property immutable. It came with a cost however, amounting to a lot more work and boilerplate code. I mean, I got bored by just writing out this small example from the past:</p>
<div data-language="csharp"><pre><code><span>public</span> <span>class</span> <span>Person</span>
<span>{</span>
    <span>private</span> <span>readonly</span> <span><span>uint</span></span> age<span>;</span>

    <span>public</span> <span>Person</span><span>(</span><span><span>uint</span></span> age<span>)</span>
    <span>{</span>
        <span>this</span><span>.</span>age <span>=</span> age<span>;</span>
    <span>}</span>

    <span>public</span> <span><span>uint</span></span> Age <span>{</span> <span>return</span> age<span>;</span> <span>}</span>
<span>}</span></code></pre></div>
<p><a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties#expression-body-definitions">C# 6</a> made the pit of success a bit deeper by introducing read-only properties using only a <code>get</code> accessor:</p>
<div data-language="csharp"><pre><code><span>public</span> <span>class</span> <span>Person</span>
<span>{</span>
    <span>public</span> <span>Person</span><span>(</span><span><span>uint</span></span> age<span>)</span>
    <span>{</span>
        Age <span>=</span> age<span>;</span>
    <span>}</span>

    <span>public</span> <span><span>uint</span></span> Age <span>{</span> <span>get</span><span>;</span> <span>}</span>
<span>}</span></code></pre></div>
<p><a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct#readonly-struct">C# 7.2</a> made declaring our intent more explicit by allowing a <code>struct</code> to be marked as <code>readonly</code>:</p>
<div data-language="csharp"><pre><code><span>public</span> <span>readonly</span> <span>struct</span> <span>Person</span>
<span>{</span>
    <span>public</span> <span>Person</span><span>(</span><span><span>uint</span></span> age<span>)</span>
    <span>{</span>
        Age <span>=</span> age<span>;</span>
    <span>}</span>

    <span>public</span> <span><span>uint</span></span> Age <span>{</span> <span>get</span><span>;</span> <span>}</span>
<span>}</span></code></pre></div>
<p>This is all well and good, yet consider when our class or struct has multiple readonly properties and we need to construct a new copy with an updated value in one or more of them. My head hurts just by thinking about it. The boilerplate has tested my Christmas spirit, why must we endure this error prone, manual waste? A better way must exist!</p>
<h2>Records in C# 9</h2>
<p>And finally this year, at the end of the <a href="https://www.youtube.com/watch?v=zu3k2PJumfI">worst year ever</a>, it does! Microsoft bestowed <a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9">.Net 5 and C# 9</a> upon us, giving us my most requested feature: <em>language support for immutable data types</em>, <a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9#record-types">Record types</a>!</p>
<div data-language="csharp"><pre><code><span>public</span> <span>record</span> <span>Person</span><span>(</span><span><span>uint</span></span> Age<span>)</span><span>;</span>
</code></pre></div>
<p>A <code>record</code> is immutable in that none of the properties can be modified once it's been created. When we define a record type, the compiler provides several useful methods for us:</p>
<ul>
<li>Methods for value-based equality comparisons</li>
<li>Override for <code>GetHashCode()</code></li>
<li>Copy and Clone members</li>
<li><code>PrintMembers</code> and <code>ToString()</code></li>
</ul>
<p>Seems like we're finally winning the war against boilerplate, and if we need to create a copy with an updated value, we can now easily use the <code>with</code> keyword:</p>
<div data-language="csharp"><pre><code><span><span>var</span></span> me <span>=</span> <span>new</span> <span>Person</span><span>(</span><span>37</span><span>)</span><span>;</span>
<span>Person</span> meAYearOlder <span>=</span> <span>me</span> with <span>{</span> Age <span>=</span> <span>38</span> <span>}</span><span>;</span></code></pre></div>
<p>With such quality functional features in C# like <em>immutable records</em>, not even time's inevitable flowing towards my 40th birthday and usage of 24(!) year old memes can break this aging developer's Christmas spirit!</p>
</section></article></div></div>]]>
            </description>
            <link>https://functional.christmas/2020/5</link>
            <guid isPermaLink="false">hacker-news-small-sites-25312935</guid>
            <pubDate>Sat, 05 Dec 2020 08:55:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Maybe we shouldn't want a fully decentralized web]]>
            </title>
            <description>
<![CDATA[
Score 47 | Comments 85 (<a href="https://news.ycombinator.com/item?id=25312854">thread link</a>) | @talhah
<br/>
December 5, 2020 | https://withblue.ink/2020/11/12/maybe-we-shouldnt-want-a-fully-decentralized-web.html | <a href="https://web.archive.org/web/*/https://withblue.ink/2020/11/12/maybe-we-shouldnt-want-a-fully-decentralized-web.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>I spent a large part of 2019 working with the distributed and decentralized web, especially IPFS, also known as the “Inter-Planetary File System”. I’ve written a few articles on the topic, on how you can host a web app on IPFS, one of which even ended up on the front page of HackerNews.</p><p>For about a year, I hosted my blog and other apps through an IPFS cluster. I wrote a utility for making pinning files easier on Pinata, a third-party cloud service for IPFS. I made some small contributions to the IPFS core projects. I built some projects with it, including one that I never released–nor fully completed–that used both IPFS and Ethereum. And I even gave a talk about hosting static web apps on IPFS at Node+JS Interactive last December in Montreal.</p><p>That all changed in the Spring of 2020. I called myself out of the distributed web.</p><p>My blog and other apps I built aren’t hosted on IPFS anymore. I don’t participate in those online communities anymore. I’ve stopped writing about the distributed and researching about it. I’ve shelved all my projects that were using those technologies.</p><p>I also updated my blog posts about IPFS adding a note that my blog isn’t hosted that way anymore. More than a few people asked me why, and I always gave the same answer: a mix of technical issues and mostly personal reasons. So, I think it’s time I explain the personal reasons.</p><p>First, I need to explain why I got involved with IPFS in the first place.</p><p>When I first read about IPFS, my mind immediately saw it as an exciting new platform I could build my apps for. The premise of a fully-decentralized platform included unlimited scalability, ultra-high availability and resiliency, no single points of failure, and resistance against attacks like DDoS.</p><p>Coming from a background in which I am always thinking about SLAs, number of nines of uptime, disaster recovery, etc, IPFS sounded like a dream platform that would magically solve all my concerns. And, aside from some performance issues at times, it did. Plus, the small engineer inside me was really excited about being able to play with a new, shiny toy, that had lots of hype around it!</p><p>What happened next for me was a reckoning with the reality of what many people behind the IPFS core project and the community around it saw: the dream of a radically open, unfiltered, and by-design un-censorable platform.</p><p>I have recently opened up about my experience, over a decade ago, with building an app with good intentions but that was then misused (<a href="https://withblue.ink/2020/09/24/that-time-i-accidentally-built-a-spying-app.html"><em>That time I accidentally built a spying app</em></a>). I learned early on in my life and (pre-)professional career about the importance of ethics in software development, and I am now a proponent of the idea that just because something <em>can</em> be built, it doesn’t mean it <em>should</em> be built.</p><p>And that brings me back to why, after spending some time in the world of the decentralized web, I have called myself out, and why I think that should things like IPFS actually become mainstream, they might cause more harm than good in the world.</p><p><strong>I have seen, and I am seeing every day, the dangers of completely unrestricted speech, and I don’t want to be the one enabling that.</strong></p><p>I know that last sentence is a strong ideological statement; some might call it a <em>political</em> statement, but for me it’s more than just political, which is often used to describe extemporary beliefs.</p><p>Many of you reading this will not agree with me, and that’s fine. I’m not going to try and change your beliefs with this blog post. Rather, I’m looking to explain why, while I respect that others might have differing opinions, I stopped doing anything that would actively advance a technology whose ethics I question. To put it in other terms: your freedom of speech isn’t my obligation to enable you and give you a platform.</p><p>In short, I think that while the Internet has helped the world in countless of ways, it has also brought out the worst in people.</p><p>I do believe we need some filters on the Internet. It’s not just about stopping criminal activities, terrorism and child pornography: while I am obviously unsupportive of all them, I also think they’re not the biggest dangers coming from the Internet (yet they’re a very convenient pretext for politicians).</p><p>Instead, I think that regular people’s writings on the Internet is hurting the world on a bigger scale. And the collective sentiment is often manipulated by some “agitators” that are exploiting anonymous online speech for their own agendas: that includes online militias–for example sponsored by foreign governments–whose goal is to destabilize a society.</p><p>In the last few years, completely unregulated online speech has given rise to fake news and conspiracy theories that have actually killed people. It’s offered a megaphone to those promoting dangerous ideas like white supremacy, Islamophobia, anti-Semitism, homophobia and other anti-LGBTQ positions, and sometimes outright Nazism. It has tilted many democracies towards right-wing populism and fascism.</p><p>All these extreme ideas have divided societies and increased social tensions. And they’re responsible for a number of acts of terrorism which caused the death of too many people.</p><p>Given our experiences so far, there’s no sign that indicates that a fully decentralized and unrestrained web would be anything but a dangerous wild west.</p><p>In fact, despite being tightly centralized and controlled, social media companies are facing significant challenges regulating what people write on their platforms, and in fact they are usually at the center of every scandal of these years. Decentralization and less control won’t be the solution to this issue, but rather the opposite.</p><p>If you believe that I’m overthinking this, and that it’s not going to be bad <em>this time</em>, I urge you to think twice.</p><p>First, there’s no indication that a new Web would be better than the previous one just on virtue of being decentralized. The same actors that are using today’s Internet to wreak havoc around the world would not disappear in the new Internet, and actually, they could be even more unrestrained.</p><p>Second, while almost everyone in the communities supporting a distributed web are good people, with good intentions, seeing some names in there is concerning to me. Regarding IPFS, advocates (at least for a while) included people like Nick Lim of BitMitigate and VanwaNet, companies responsible for rescuing, among others, <a href="https://www.geekwire.com/2017/seattles-bitmitigate-now-protecting-pro-nazi-site-daily-stormer-web-attacks/">pro-nazi website</a> The Daily Stormer <a href="https://arstechnica.com/information-technology/2019/11/breaking-the-law-how-8chan-or-8kun-got-briefly-back-online/">and the platform</a> 8chan, a cesspool full of Nazi propaganda, child pornography, and other hate speech. Gatherings on 8chan have been <a href="https://en.wikipedia.org/wiki/8chan#2019_shootings">blamed</a> for at least three mass shootings in 2019 alone, including the one in the <a href="https://time.com/5648479/8chan-ban-new-zealand/">mosque in Christchurch</a>, all of them motivated by racial hatred.</p><p>The first real examples of the distributed web aren’t particularly encouraging either. Among some of the most popular apps (“popular” in relative terms, of course) for the distributed web is DTube, a sort of YouTube that is built on top of IPFS. As you can expect, the website is full of questionable content, including conspiracy theories, cryptocurrency scams, weapons, RT&nbsp;International’s <a href="https://www.theguardian.com/commentisfree/2019/jul/26/russia-disinformation-rt-nuanced-online-ofcom-fine">Russian propaganda</a>… and of course, porn.</p><p>In essence, if it’s true that <em>a good beginning makes a good ending</em>… with such a mixed beginning, the outlook isn’t too rosy.</p><p>I understand that my opinion is somehow a minority one, and people will continue to build IPFS and other technologies part of the distributed web. There’s also a chance they might become successful and potentially get mainstream adoption–although at this stage the barrier to entry is too high for the average user.</p><p>However, I feel that it’s my responsibility to not be helping to advance this technology and the beliefs of at least some advocates in the world of the distributed web hold. If the advancement occurs, it won’t be because of my help.</p><hr><p><em>PS: The idea that freedom of speech is an absolute right that should have (almost) no limitations is not a universal one. While that right is granted to people living in all democratic countries, outside of North America it’s accepted that such right comes <a href="https://www.nytimes.com/2019/08/06/world/europe/el-paso-shooting-freedom-of-speech.html">with limitations</a>, and usually that has roots in the history of those places.</em></p><p><em>For example, in Italy where I grew up, the same constitution that grants freedom of expression (speech, press, etc) also criminalizes “apology of fascism”, or propagating the ideas of fascism; it also sets other limits on speech that is hateful or discriminatory. Other European countries have similar laws, such as the outlawing of Nazi rhetoric and symbology in Germany.</em></p></article></div>]]>
            </description>
            <link>https://withblue.ink/2020/11/12/maybe-we-shouldnt-want-a-fully-decentralized-web.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25312854</guid>
            <pubDate>Sat, 05 Dec 2020 08:31:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From Coils to Curves – A Primer on Elliptic Curve Cryptography]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25312733">thread link</a>) | @roberla
<br/>
December 4, 2020 | https://security.christmas/2020/5 | <a href="https://web.archive.org/web/*/https://security.christmas/2020/5">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><section><p>It is well known that prime numbers are important for cryptography, although it has not always been true. The advent of primes came with several groundbreaking papers almost 50 years ago. Pioneers in introducing asymmetric cryptography, Whit Diffie, Martin Hellman, Ron Rivest, Adi Shamir and Leonard Adleman, used results from number theory to build key agreement, encryption, and signatures. Prime numbers hold a very special position in number theory, and this carried over to cryptography.</p>
<h2>From Primes to Crypto</h2>
<p>Cryptographic protocols are typically working <em>modulo</em> some prime <em>p</em>. This can be likened to turning the number line into a coil, such that 0, <em>p</em>, 2<em>p</em>, etc. all join at the same place. From then on, whenever we add or multiply the number such that we go beyond <em>p</em>, we can simply remove as many multiples of <em>p</em> as necessary until we come between 0 and <em>p</em> again.</p>
<p>Now, imagine that we used a composite number instead, for example 12. Then 0 and 12 are "the same" in this situation, but that also means that 3 multiplied by 4 is ... 0! One of the intuitions when working with normal numbers is that if <em>ab</em> = 0, then either <em>a</em> or <em>b</em> would have to be 0. Hence, when using composite numbers, there is simply stuff that no longer works the way we’re used to. Fortunately, this is not the case when using the primes — for instance 7 — as our so-called modulus.</p>
<p><img src="https://security.christmas/assets/curves.png"></p>
<p>Let’s make a rule, and let’s call it <em>m</em>. We take the coil we just made from the number line, and since we can always reduce numbers to below <em>p</em>, we label our points on this circle from 0 to <em>p</em>-1. Given two points <em>a</em> and <em>b</em> on the circle, we decided that the output of the rule <em>m</em>(<em>a</em>, <em>b</em>) should be the point which is represented by the product <em>ab</em>, possibly after reducing modulo <em>p</em>. It may look like a very natural rule, but it is nonetheless a rule we just agreed on. If you play around with this rule a bit, you will notice some properties:</p>
<ul>
<li>If <em>a</em> = 1, then <em>m</em>(<em>a</em>, <em>b</em>) = <em>b</em> (and the other way around).</li>
<li>For any <em>a</em>, <em>b</em> not equal to 0, <em>m</em>(<em>a</em>, <em>b</em>) is never zero. So, if we removed 0 from the circle entirely, no harm would happen — the rule would still be well-defined.</li>
<li>For any nonzero <em>a</em>, there is always some <em>b</em> such that <em>m</em>(<em>a</em>, <em>b</em>) = 1.</li>
</ul>
<p>These nice properties — together with a property called associativity — are the properties we need to be able to do cryptographic computations.</p>
<p>Now focus on a particular number on the circle, and let’s call it <em>g</em>. If we take <em>m</em>(<em>g</em>, <em>g</em>), or — to return to the more usual notation — <em>g²</em>, we will reach a new point on the circle. We can continue this process and compute <em>g</em>³, <em>g</em>⁴, etc. At some point, we will reach 1. All the points we have visited in this process are members of the set of numbers <em>generated</em> by <em>g</em>, and if the number of points on the coil is a large prime, then we have a very good candidate for doing cryptography, for example Diffie-Hellman key exchange. Let <em>h</em> be some number in this set generated by <em>g</em>. That means that <em>h</em> = <em>g</em>ᵉ for some exponent <em>e</em>. If it is easy to find this <em>e</em> from <em>g</em> and <em>h</em>, we would have trouble. Fortunately, it turns out that if we use <em>large enough</em> primes, then this <em>e</em> appears to be very difficult to find.</p>
<h2>From Coils to Curves</h2>
<p>Coiling up the number line is not the only way of finding suitable primitives for cryptography. Let’s make a new rule. Instead of using a circle like we did in the previous section, we consider the following equation:</p>
<p><em>y</em>² = <em>x</em>³ + <em>ax</em> + <em>b</em>, where <em>a</em> and <em>b</em> are fixed constants.</p>
<p>If we graph this in our usual coordinate system, it may look like this curve:</p>
<p><img src="https://security.christmas/assets/curves2.png"></p>
<p>We will now make a rule on how to combine two distinct points <em>P</em> and <em>Q</em> on this curve. The agreed upon notation is to call this rule addition, but we will have to define what we mean by that. Programming languages often include this mental concept as operation overloading. Draw the straight line between <em>P</em> and <em>Q</em>. It will intersect at a third point, say, <em>R</em>. This could have been a nice candidate for <em>P</em> + <em>Q</em>, but since we are making the rules, let’s make this a bit more interesting. Draw a vertical line through <em>R</em>. It will intersect the curve on the opposite side of the <em>x</em>-axis, and we define this point as <em>P</em> + <em>Q</em>. Just as before, this is a rule we’re deciding here and now. However, this also turns out to be a very useful rule, with the same properties as before:</p>
<ul>
<li>Instead of having the point 1 on the circle, we imagine a point infinitely far up. (Remember what you see when looking at railway tracks: parallel lines actually meet beyond the horizon, at infinity.) So, now the line intersecting <em>R</em> and <em>P</em> + <em>Q</em> is indeed also intersecting a third point: the point at infinity. This can be made precise, but requires maths from algebraic geometry, which is far beyond the scope of this blog post. This point at infinity has all the same properties as 1 had above.</li>
<li>For any point <em>S</em> on the curve, there is always a point <em>T</em> such that we get a line intersecting <em>S</em>, <em>T</em> and the point at infinity. This means that for any point <em>S</em>, we can find a point we can call -<em>S</em>.</li>
</ul>
<p>You can test this rule interactively in a simple <a href="https://www.geogebra.org/m/ukhajwzs">GeoGebra demonstration</a>.</p>
<p><img src="https://security.christmas/assets/ec_group_law.gif"></p>
<p>We just assumed that <em>P</em> and <em>Q</em> were distinct. If <em>P</em> = <em>Q</em>, then we simply use the tangent to the curve at point <em>P</em> instead, and proceed as before.</p>
<p>In particular, take a point <em>G</em>, and compute 2<em>G</em> = <em>G</em> + <em>G</em>, 3<em>G</em>, 4<em>G</em>, etc. Eventually, we reach the point at infinity, and then back to <em>G</em>. We have now spent about 1000 words of this blog post getting here, just to do the same as we did above, and what was the point? Above, we said that computing exponents are secure if the primes were large enough. It turns out that "large enough" is currently about 3072 bits, or a number with approximately 925 digits. That is somewhat strenuous even for a computer, but the elliptic curve version only requires us to work on numbers of size 256 bits, or 77 digits, which is far more efficient.</p>
<h2>Elliptic Curve Diffie-Hellman Key-Exchange</h2>
<p>The Diffie-Hellman key-exchange protocol is widely used today, and its instantiation using elliptic curves is ranked as the best choice in modern cryptographic protocols like TLS and SSH. The protocol is fairly simple. The public information is an elliptic curve <em>E</em> and a generator <em>G</em> for the points on this curve. One party, Alice, samples a random integer <em>a</em> and computes a point <em>A</em> = <em>a</em> <em>G</em>. Another party, Bob, samples a random integer <em>b</em> and computes <em>B</em> = <em>b</em> <em>G</em>. Then they exchange the values <em>A</em> and <em>B</em>, and compute the shared key <em>K</em> = <em>b</em> <em>A</em> = <em>a</em> <em>B</em> = <em>a</em> <em>b</em> <em>G</em>. As long as both <em>a</em> and <em>b</em> stay secret, even when an attacker knows <em>G</em>, <em>A</em> and <em>B</em>, then the key is secure.</p>
<p><img src="https://security.christmas/assets/dh.png"></p>
<p><em>Reference: <a href="https://asecuritysite.com/encryption/go_x3dh">https://asecuritysite.com/encryption/go_x3dh</a>. Used with permission.</em></p>
<p>To achieve long-term security, to protect previous messages in the case where someone’s secret keys are leaked after the fact, Alice and Bob can do an ephemeral key-exchange every time they communicate. If <em>a</em> and <em>A</em> is Alice’s long term key pair where <em>A</em> is public to everyone, and similar for Bob, they can run the following protocol to agree upon a one-time session-key. Alice samples a random integer <em>c</em> and computes <em>C</em> = <em>c</em> <em>G</em>, and Bob samples a random integer <em>d</em> and computes <em>D</em> = <em>d</em> <em>G</em>. Then they exchange <em>C</em> and <em>D</em>, and compute the shared key as (<em>a</em> <em>b</em> + <em>c</em> <em>d</em> )<em>G</em>.</p>
<p>The interested reader can check out this <a href="https://play.golang.org/p/qJBI0_2lsGP">simple example written in Go</a>. Are you able to extend the basic protocol to the ephemeral key-exchange on behalf of Alice and Bob?</p>
<p>We finally point out that this protocol is vulnerable to a man-in-the-middle attack, and we need to also send signatures computed on the messages to ensure that the communication is authentic. Are you able to attack the protocol as described above, when signatures are not used? If you found these problems interesting, we encourage you to check out similar challenges at <a href="https://cryptohack.org/challenges/ecc/">cryptohack.org</a>.</p>
<h2>Common Curves</h2>
<p>Not all elliptic curves are suitable for cryptography. There could also be power in choosing a curve and the distinguished base point(s). Hence, implementations tend to choose among a small number of well-known curves. The US National Institute of Standards and Technology <a href="https://csrc.nist.gov/publications/detail/fips/186/4/final">maintains a list</a> of recommended curves; P-256 is perhaps the most popular among these.&nbsp;</p>
<p>Among others, there is also the <a href="https://safecurves.cr.yp.to/">SafeCurves</a> collection proposed by Dan Bernstein and Tanja Lange. In particular, their Curve25519 has proven to be a popular choice.</p>
<p>Elliptic curve libraries will typically have tailored support for certain curves.</p></section></article></div>]]>
            </description>
            <link>https://security.christmas/2020/5</link>
            <guid isPermaLink="false">hacker-news-small-sites-25312733</guid>
            <pubDate>Sat, 05 Dec 2020 07:58:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modern Tire-pressure monitoring system Sensors: Let's try a DoS attack]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25312714">thread link</a>) | @pabs3
<br/>
December 4, 2020 | http://www.mirider.com/weblog/2020/12/04#20201204_Modern_TPMS_Sensors_Lets_try_a_DoS_attack | <a href="https://web.archive.org/web/*/http://www.mirider.com/weblog/2020/12/04#20201204_Modern_TPMS_Sensors_Lets_try_a_DoS_attack">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <td>&nbsp; &nbsp;</td>

  <!-- left column -->
  <td>

<!--
   <p>
   <br />
   <b>About</b> <br />
   Dieter Spaar's blog, Dieter Spaar's personal Blosxom blog.<br /><br />
   Dieter Spaar<br />
   <a href="mailto:spaar@mirider.com">spaar@mirider.com</a> <br />
   </p>
-->

   <p>
   <a href="http://www.mirider.com/weblog/index.rss">RSS</a>
   </p>

   <p>
     <b>Dieter's Web</b> <br>
     <a href="http://www.mirider.com/">mirider.com</a><br>
   </p>

   <p>
   <b>Projects I am participating</b> <br>
    <a href="http://bb.osmocom.org/" target="_blank">OsmocomBB</a><br>
    <a href="http://openbsc.osmocom.org/" target="_blank">OpenBSC</a><br>
    
   </p>

   <p>
   <b>Categories</b> <br>
   </p>
   <ul>
<li><a href="http://www.mirider.com/weblog/index.html">Root</a> (24)
<ul>
<li><a href="http://www.mirider.com/weblog/automotive/index.html">automotive</a> (3)
</li>
<li><a href="http://www.mirider.com/weblog/gsm/index.html">gsm</a> (17)
</li>
<li><a href="http://www.mirider.com/weblog/misc/index.html">misc</a> (1)
</li>
<li><a href="http://www.mirider.com/weblog/sdr/index.html">sdr</a> (2)
</li>
</ul>
</li>
</ul>


   <p>
   <b>Archives</b> <br>
   </p>
   <ul>
	<li><a href="http://www.mirider.com/weblog/2020/">2020</a> (1)
		<ul>
			<li><a href="http://www.mirider.com/weblog/2020/12/index.html">December</a> (1)</li>
		</ul>
	</li>
	<li><a href="http://www.mirider.com/weblog/2018/">2018</a> (5)
		<ul>
			<li><a href="http://www.mirider.com/weblog/2018/09/index.html">September</a> (1)</li>
			<li><a href="http://www.mirider.com/weblog/2018/05/index.html">May</a> (1)</li>
			<li><a href="http://www.mirider.com/weblog/2018/03/index.html">March</a> (1)</li>
			<li><a href="http://www.mirider.com/weblog/2018/01/index.html">January</a> (2)</li>
		</ul>
	</li>
	<li><a href="http://www.mirider.com/weblog/2013/">2013</a> (3)
	</li>
	<li><a href="http://www.mirider.com/weblog/2012/">2012</a> (4)
	</li>
	<li><a href="http://www.mirider.com/weblog/2011/">2011</a> (3)
	</li>
	<li><a href="http://www.mirider.com/weblog/2010/">2010</a> (8)
	</li>
</ul>


<!--
   <p>
   <b>Flavours</b> <br />
   There's more than one way to view this weblog; try these flavours on
   for size.
    <li><a href="http://www.mirider.com/weblog/index.index">index</a></li>
    <li><a href="http://www.mirider.com/weblog/index.1993">circa 1993</a></li>
    <li><a href="http://www.mirider.com/weblog/index.rss">RSS</a></li>
   </p>
-->
   <p>
   <b>Other Bloggers</b> <br>
    <a href="http://laforge.gnumonks.org/weblog/" target="_blank">Harald Welte</a><br>
    <a href="http://openbts.blogspot.com/" target="_blank">David Burgess</a><br>
   </p>

<!--
   <p>
   
   </p>
-->

   <p>
    <br>
    <a href="http://www.blosxom.com/"><img src="http://mirider.com/weblog/pb_blosxom.gif" alt="blosxom"></a>
   </p>

   <p>
    <br>
    <a href="http://www.mirider.com/#Site%20Contact">Contact/Impressum</a>
   </p>

  </td>

  <td>&nbsp; &nbsp;</td>

  <td>&nbsp; &nbsp;</td> 

  <!-- main blog entry column -->
  <td> 

   <br>

<span>Fri, 04 Dec 2020</span>
<div>
<p><a name="20201204_Modern_TPMS_Sensors_Lets_try_a_DoS_attack"><b>Modern TPMS Sensors: Let's try a DoS attack</b></a></p><p>
TPMS (Tire-pressure monitoring system) sensors have been researched extensively
many years ago, they periodically transmit the tire pressure, temperature
and a unique ID which can be misused for tracking a vehicle. But there is
another aspect: modern TMPS sensors also have a receiver which is typically
used to trigger the data transmission when a new TPMS sensor is presented to
the vehicle ("learning procedure").
</p>

<p>
Here in Europe TPMS sensors usually transmit on the 433 MHz ISM band. The
receiver operates on 125 kHz, very similar to LF RFID. A simple way to make
use of the receiver is just to look for the presence of the 125 kHz carrier
and then trigger data transmission. Current sensors are usually more evolved
and use a modulated carrier which contains command packets and only if the
correct command is received data transmission is triggered.
</p>

<p>
If you already have a receiver you can do of course more than just trigger
data transmission: For example there might be support for different
commands, some sensors even allow firmware updates this way.
</p>

<p>
One such command which is typically supported is switching the sensor into
"Shipping" mode. Why would you need that? When the sensor is operating
normally it waits for motion (there is an acceleration/shock sensor inside)
and only starts periodic data transmission when the wheel is rotating. This
is used to safe battery life. When the TPMS sensor is not yet mounted in the
tire it should not react on motion, that’s why there is this "Shipping" mode.
In this mode the sensor only wakes up every few seconds and looks if there
is a 125 kHz signal, if yes it checks for a valid command, for example the
command to trigger data transmission which usually also leaves "Shipping"
mode and switches the sensor into normal operation.
</p>

<p>
This "Shipping" mode can be misused: If you can switch a TPMS sensor of a
vehicle’s wheel into "Shipping" mode the sensor will no longer transmit data
and the vehicle's tire pressure control light will go on after a while.
Just to make it clear: This warning light is annoying to the driver, it
does not affect safety of the car because the deactivated TMPS sensor has
not affected the actual tire pressure.
</p>

<p>
I have looked at a few TPMS sensors for different cars if this really works,
I choose sensors for BMW and Ford cars. Please note that most certainly
other car manufactures are affected too, mainly because there are only a
few manufactures of TPMS sensors which deliver their sensors to various
car manufactures. My choice for BMW and Ford came from the fact that I
found lots of cheap, used sensor for those cars.
</p>

<p>
Also I only looked at "OEM" sensors for BMW and Ford, which means that those
sensors are mounted by the car manufacturer. There are also so called
"Universal" sensors which are typically mounted by tire dealers, there
are some notes about them at the end of this text.
</p>

<p>
It is quite easy to build a tool for transmitting data on 125 kHz: There
is this cheap EL-50448 TMPS sensor activation tool which only transmits a
carrier without modulation. However the hardware can easily be modified
to modulate the carrier: Most of the time OOK (On-Off Keying) is used
for communication, which means that the carrier is just turned on and off.
The EL-50448 uses a power driver with an unused "enable" pin to generate
the carrier, you can use this "enable" pin to modulate the carrier. The
data rate is slow, a frequently used rate is 3900 baud.  Most of the time
Manchester encoding of the data bits is used, which means that the carrier
changes twice as much (7800 changes per second). This is nothing special
and can be done with probably any microcontroller you prefer to use. The
hardware costs for such a setup are below EUR 20, the transmission range
is about 20 centimeters.
</p>

<p>
How can you find the command to switch to Shipping" mode? Brute force by
trying all possible commands is only an option if the command is short.
The reason is that the sensor only looks for the LF 125 kHz signal every
few seconds. If the command is not longer than two bytes brute force is
possible (it takes a few days), for longer commands it is impractical.
Please note that you also have to find a way to detect if the command you
send causes a reaction of the TPMS sensor, e.g. by monitoring the power
consumption of the sensor or receiving the 433 MHz data signal (which of
course only works if the command you send causes a data transmission).
</p>

<p>
Another option is looking at those TPMS tools which tire dealers and
car repair workshops use to check TPMS sensors. Some of those tools
might support switching a TPMS sensor into "Shipping" mode.
</p>

<p>
Those are the results I found (I won't go into the details to avoid misuse):
</p>

<ul>
<li><b>BMW:</b>

  A certain sensor used in several car models from TPMS Sensor manufacturer
  "A" can be switched into "Shipping" mode. The deactivated TPMS sensor can
  be activated again with a different command. Also if the sensor detects a
  fast pressure change (e.g. by inflating the tire) the sensor leaves
  "Shipping" mode. The command length is four bytes so brute force is no option. 

</li>

<li><b>Ford:</b>

  A certain sensor used in several car models from TPMS Sensor manufacturer
  "A" (the same manufacture as above for the BMW sensor) can be switched
  into "Shipping" mode, it is the same command as used by the BMW sensor
  from above. The deactivated TPMS sensor can be activated again with a
  different command.
  
  A certain sensor used in several car models from TPMS Sensor manufacturer
  "B" can be switched into "Shipping" mode. The deactivated TPMS sensor can
  be activated again with a different command. The command in this case is
  only two bytes and I tried all combinations which resulted in several more
  "interesting" commands, a few examples:


    <ul>
<li>
      It is possible to completely turn off the TPMS sensor. In this case it
      will no longer react on anything, you have to break open the sensor
      case and apply a hardware reset or disconnect the battery to reactivate
      it again.
</li>

<li>
      It is possible to switch the sensor into continuous "carrier transmit"
      mode on 433 MHz. In this mode the sensor will continuously transmit
      the 433 MHz carrier until the battery is empty or you apply a hardware
      reset (see above), it will not react on anything else. There are two
      other similar commands which transmit on the upper and lower shifted
      frequency (the sensor uses FSK modulation, Frequency Shift Keying, when
      transmitting data).
</li>
</ul>      

  Those examples show that it is basically possible to destroy this specific
  sensor by transmitting the appropriate command. Also if the sensor is in
  "carrier transmit" mode it probably disturbs the remote control car
  key fob which usually uses the same frequency as the TPMS sensor.
</li>
</ul>

<p>
You have to be close to the sensor to send those LF 125 kHz signals but it
only takes a few seconds to send the signal. Using a larger antenna (which is
basically a coil) for the transmitter, e.g. large enough to fit in a suitcase,
might extend the transmission range to more than a meter. 
</p>

<p>
How can those problems be avoided? This is actually quite easy, the command
to switch into "Shipping" mode should not be allowed if the measured tire
pressure is above a certain limit, which means that the sensor is mounted in
the tire of a vehicle. This also applies to those other commands of the sensor
from manufacturer "B" which are probably some kind of factory test or developer
commands. Please note that during my tests the commands I described were
possible even when the measured tire pressure was in the range of a typical
vehicle wheel.
</p>

<p>
I contacted the car manufactures (BMW and Ford) before I published this
article, this is the experience I made:
</p>

<ul>
<li>
  <b>BMW:</b>
  The contact information for reporting security issues can be found on
  the BMW website. I had a phone call with the responsible person within
  a few days after reporting the issue. BMW already knew the problem, they
  found it during an internal review. Their latest TPMS sensors have fixed
  the issue by blocking certain commands if the tire pressure is above a
  certain limit.
</li>

<li>
  <b>Ford:</b>
  I wasn't able to find a security contact on the website of Ford Germany
  so I contacted the person responsible for "Public Relation". He promised
  to look for someone who takes care of the issue I reported, after several
  days I got a reply that it is possible to disturb the TPMS system due to
  the nature of radio transmission and that this is a known problem. I wasn't
  able to communicate directly with the responsible person and I then replied
  that the reported issue is not about disturbance but a "Denial of Service"
  and that it is even possible to destroy a certain TPMS sensor used in Ford
  cars. I didn't receive any further information about the security issue, I
  notified them again after several weeks that I am now going to publish
  the issue which was acknowledged.
</li>
</ul>

<p>
Some notes about those "Universal" sensors tire dealers normally use: Those
sensors are "Universal" because they can be programmed for different car
models. The main benefit for the tire dealer is that only a few different
kind of "Universal" sensors have to be on stock, it’s not necessary to have
lots of different "OEM" TPMS sensors for every possible car model lying
around. The programming of those …</p></div></td></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.mirider.com/weblog/2020/12/04#20201204_Modern_TPMS_Sensors_Lets_try_a_DoS_attack">http://www.mirider.com/weblog/2020/12/04#20201204_Modern_TPMS_Sensors_Lets_try_a_DoS_attack</a></em></p>]]>
            </description>
            <link>http://www.mirider.com/weblog/2020/12/04#20201204_Modern_TPMS_Sensors_Lets_try_a_DoS_attack</link>
            <guid isPermaLink="false">hacker-news-small-sites-25312714</guid>
            <pubDate>Sat, 05 Dec 2020 07:53:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reading Manpages Like a Pro]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25311867">thread link</a>) | @woodruffw
<br/>
December 4, 2020 | https://blog.yossarian.net/2018/01/22/Reading-Manpages-Like-a-Pro | <a href="https://web.archive.org/web/*/https://blog.yossarian.net/2018/01/22/Reading-Manpages-Like-a-Pro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<h2><em>Programming, philosophy, pedaling.</em></h2>

<ul>
    <li><a href="https://blog.yossarian.net/">Home</a></li>
    <li><a href="https://blog.yossarian.net/tags">Tags</a></li>
    <li><a href="https://blog.yossarian.net/favorites">Favorites</a></li>
    <li><a href="https://blog.yossarian.net/archive">Archive</a></li>
    
      <li><a href="https://yossarian.net/">Main Site</a></li>
    
</ul>

<hr>



<h2>
  <em>Jan 22, 2018</em>
</h2>

  <p>Tags:
  
    
    <a href="https://blog.yossarian.net/tags#programming">programming</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#workflow">workflow</a>
    
  
  </p>


<h3 id="preword">Preword</h3>

<p>I often reference the <a href="https://en.wikipedia.org/wiki/Man_page">manpages</a> when giving a development
presentation or talk, but I’ve only recently come to realize how few people are both <em>comfortable</em>
with the <code>man</code> interface and adept at discovering information through it.</p>

<p>This post is my attempt to share some of the tricks and techniques I’ve picked up over years of
reading manpages.</p>

<h2 id="a-quick-recap">A Quick Recap</h2>

<p>The manpages (short for “manual pages”) are the oldest and longest-running documentation collection
on *nix, stemming back to the
<a href="https://www.bell-labs.com/usr/dmr/www/1stEdman.html">first edition of the Unix Programmer’s Manual</a>
in 1971.</p>

<p>On a modern system, the <code>man</code> command is the most common way to access the manpages:</p>

<div><div><pre><code><span># access the first manpage named "time", which happens to be time(1)</span>
man <span>time</span>

<span># access a specific section's "time", in this case the C time function</span>
man 2 <span>time</span>

<span># attempt to access a nonexistent "time" in section 5</span>
man 5 <span>time</span>
</code></pre></div></div>

<p>Because the manpages were originally published on paper, they were (and continue to be) typeset with
<a href="https://en.wikipedia.org/wiki/Troff"><code>troff</code></a> on most systems. Today, the <code>man</code> command (and other
manpage readers) invoke <code>troff</code> internally and pipe the output to the user’s
<a href="https://en.wikipedia.org/wiki/Terminal_pager">pager</a> (like <code>more</code> or <code>less</code>).</p>

<p>In fact, a very simple manpage reader (which only works with section 1) can be implemented with
just three commands pipelined together:</p>

<div><div><pre><code><span>function </span>myman <span>{</span>
    <span># `-t` and `-e`: run `tbl` and `eqn` on the input, for tables and equations</span>
    <span># `-mandoc`: use a set of troff macros specifically for manpages</span>
    <span># `-Tutf8`: output UTF-8 text rather than PostScript</span>
    <span>gunzip</span> &lt; /usr/share/man/man1/<span>"</span><span>${</span><span>1</span><span>}</span><span>.1.gz"</span> | groff <span>-t</span> <span>-e</span> <span>-mandoc</span> <span>-Tutf8</span> | less
<span>}</span>

myman gcc
myman <span>ls</span>
</code></pre></div></div>

<p>Apart from their simplicity and adherence to the UNIX philosophy, <code>man</code> and the manpages serve a
number of important roles:</p>

<ul>
  <li>
    <p>They provide a categorization: section 1 is for system commands, 2 for system calls, 3 for library
functions, and so forth. This categorization is followed both by the system itself (which populates
several of the sections) and by programs installed by the user or package manager.</p>
  </li>
  <li>
    <p>They provide offline documentation: <code>man</code> doesn’t require an internet connection, and can provide
much of the documentation that an internet search would yield.</p>
  </li>
  <li>
    <p>They offer <em>canonical</em> information: searching for a command or function online might tell you
whether it exists, but won’t tell you the flags, arguments, or behavior specific to your system.
For example, <code>man ls</code> will tell you whether your system’s <code>ls</code> is BSD or GNU (and the differences
therebetween). The manpages (on Linux) will also tell you which feature macros you’ll need to define
in a C program in order to use a function (or a variant of a function).</p>
  </li>
</ul>

<p>So, let’s move on to some techniques.</p>

<h2 id="colorized-manpages">Colorized manpages</h2>

<p>One of the simplest things you can do to enhance the readability of manpages within <code>man</code> is to
colorize the pager’s output:</p>

<p><img src="https://blog.yossarian.net/assets/gcc_man.png" alt="A colorized version of `man gcc`"></p>

<p>In <code>less</code>, this is accomplished by setting the <code>LESS_TERMCAP_*</code> environment variables to your
preferred ANSI color codes. Here are the variables you can set:</p>

<div><div><pre><code>LESS_TERMCAP_mb <span># blinking mode (not common in manpages)</span>
LESS_TERMCAP_md <span># double-bright mode (used for boldface)</span>
LESS_TERMCAP_me <span># exit/reset all modes</span>
LESS_TERMCAP_so <span># enter standout mode (used by the less statusbar and search results)</span>
LESS_TERMCAP_se <span># exit standout mode</span>
LESS_TERMCAP_us <span># enter underline mode (used for underlined text)</span>
LESS_TERMCAP_ue <span># exit underline mode</span>
</code></pre></div></div>

<p>You may be able to set others corresponding to the
<a href="https://www.gnu.org/software/termutils/manual/termcap-1.3/html_chapter/termcap_5.html">termcap capability names</a>,
but the variables above should cover all of your manpage needs.</p>

<p>By way of example, here is the <code>bash</code> function I use to colorize my manpages:</p>

<div><div><pre><code>man<span>()</span> <span>{</span>
    <span>env</span> <span>\</span>
    <span>LESS_TERMCAP_mb</span><span>=</span><span>"</span><span>$(</span><span>printf</span> <span>"</span><span>\e</span><span>[1;31m"</span><span>)</span><span>"</span> <span>\</span>
    <span>LESS_TERMCAP_md</span><span>=</span><span>"</span><span>$(</span><span>printf</span> <span>"</span><span>\e</span><span>[1;31m"</span><span>)</span><span>"</span> <span>\</span>
    <span>LESS_TERMCAP_me</span><span>=</span><span>"</span><span>$(</span><span>printf</span> <span>"</span><span>\e</span><span>[0m"</span><span>)</span><span>"</span> <span>\</span>
    <span>LESS_TERMCAP_se</span><span>=</span><span>"</span><span>$(</span><span>printf</span> <span>"</span><span>\e</span><span>[0m"</span><span>)</span><span>"</span> <span>\</span>
    <span>LESS_TERMCAP_so</span><span>=</span><span>"</span><span>$(</span><span>printf</span> <span>"</span><span>\e</span><span>[1;44;33m"</span><span>)</span><span>"</span> <span>\</span>
    <span>LESS_TERMCAP_ue</span><span>=</span><span>"</span><span>$(</span><span>printf</span> <span>"</span><span>\e</span><span>[0m"</span><span>)</span><span>"</span> <span>\</span>
    <span>LESS_TERMCAP_us</span><span>=</span><span>"</span><span>$(</span><span>printf</span> <span>"</span><span>\e</span><span>[1;32m"</span><span>)</span><span>"</span> <span>\</span>
    man <span>"</span><span>${</span><span>@</span><span>}</span><span>"</span>
<span>}</span>
</code></pre></div></div>

<p>Note that you don’t need to use escape sequences as above — <code>tput</code> will work just fine.</p>

<h2 id="other-sections">Other sections</h2>

<p>I mentioned some of the big sections above: 1 for system commands, 2 for system calls, and so on.</p>

<p>90% of <code>man</code> lookups will be in those three, but there are a few lesser-known sections that can also
be useful:</p>

<ul>
  <li>
    <p><code>man 4</code> - Special files and devices</p>

    <p>On Linux, section 4 is used to document special files, usually representing some aspect of
  the machine or its peripherals. For example, <code>man 4 mem</code> will tell you how to use the
  <code>/dev/mem</code>, <code>/dev/kmem</code>, and <code>/dev/port</code> files to read from and write to the system’s main
  memory.</p>
  </li>
  <li>
    <p><code>man 5</code> - Configuration files and formats</p>

    <p>You probably know the <code>/etc/shadow</code> file, but do you know how its format is specified?
  <code>man 5 shadow</code> will tell you that. Similarly, <code>man 5 deb</code> describes the <code>.deb</code> package format,
  and <code>man 5 ppm</code> lists the spec for <a href="https://en.wikipedia.org/wiki/Netpbm_format">PPM images</a>.</p>
  </li>
  <li>
    <p><code>man Np</code> - POSIX pages</p>

    <p>These pages come in handy for contrasting POSIX behavior with the system’s behavior.</p>

    <p>Some examples:</p>

    <div><div><pre><code>  <span># compare the system ls (on Linux, GNU) to the POSIX ls behavior</span>
  man 1 <span>ls
  </span>man 1p <span>ls</span>

  <span># compare the read syscall to the POSIX read function</span>
  <span># note the categorization: POSIX read is a function, not a syscall!</span>
  man 2 <span>read
  </span>man 3p <span>read</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="searching-and-navigating">Searching and navigating</h2>

<p>Like colorization, searching is more of a general <code>less</code> feature than one specific to <code>man</code>. That
being said, <code>less</code>’s searching and navigating features can make browsing the manpages a much faster
and more pleasant experience.</p>

<p>Searches in <code>less</code> can be forwards or backwards, using the <code>/</code> and <code>?</code> commands respectively. The
search syntax is mostly POSIX ERE, but with some additions (<code>man less</code> has the details!).</p>

<p>For example, to find the first instance of “x86” in <code>man gcc</code> (watch the bottom of the screen for
the search prompt):</p>

<p><a href="https://asciinema.org/a/Wc0OiKVTrTDiP4tG9bPRWtDwM" target="_blank" rel="noopener noreferrer">
  <img src="https://blog.yossarian.net/assets/asc_Wc0OiKVTrTDiP4tG9bPRWtDwM.png">
</a></p>

<p>Observe that instances of the search term are highlighted with the standout colors from before.</p>

<p>Once a search term is entered, its results can be navigated via the <code>n</code> and <code>N</code> commands, which
move forwards and backwards in the results list respectively. For example, going through all
of the results for “Windows”:</p>

<p><a href="https://asciinema.org/a/n3S3wteHmbdPrtmyTSkCSVMiX" target="_blank" rel="noopener noreferrer">
  <img src="https://blog.yossarian.net/assets/asc_n3S3wteHmbdPrtmyTSkCSVMiX.png">
</a></p>

<p>When the last result has been jumped to, the statusbar changes to “Pattern not found”. Once that
happens, as in the video above, previous results can be returned to by hitting <code>N</code>.</p>

<p>Even this can be simplified: the <code>&amp;</code> command can be used to display only lines that match the given
pattern. For example, retrieving every line that contains either “ARM” or “ABI”:</p>

<p><a href="https://asciinema.org/a/Wh8QZ4eideLNmCMBmAkYExgEm" target="_blank" rel="noopener noreferrer">
  <img src="https://blog.yossarian.net/assets/asc_Wh8QZ4eideLNmCMBmAkYExgEm.png">
</a></p>

<p>The effect is more dramatic when searching for the definition of a flag (in this case <code>-D</code>):</p>

<p><a href="https://asciinema.org/a/17Kcnb8PBNIz8JdogOFKVeDQn" target="_blank" rel="noopener noreferrer">
  <img src="https://blog.yossarian.net/assets/asc_17Kcnb8PBNIz8JdogOFKVeDQn.png">
</a></p>

<p>These commands are just the tip of the iceberg — <code>less</code> supports searching multiple files at
once, jumping around scopes (opening and closing parentheses, braces, brackets), and marking the
current location for later return. Each of these is documented on the help screen, which you can
get to in any <code>less</code> session via the <code>h</code> command:</p>

<p><a href="https://asciinema.org/a/8i6kyFTbFttVTgDNbgnzyJvGB" target="_blank" rel="noopener noreferrer">
  <img src="https://blog.yossarian.net/assets/asc_8i6kyFTbFttVTgDNbgnzyJvGB.png">
</a></p>

<h2 id="wrapup">Wrapup</h2>

<p>Before picking up these tricks (especially searching), the manpages were an item of last resort
for me: I would search the internet or ask a friend, with mixed results. I had no real idea how to
use <code>less</code>, and would just clumsily page around until I found what I was looking for. More often
than not, I would give up entirely.</p>

<p>At the end of the day, the manpages (and the <code>man</code> interface) are not perfect — there’s no
hyperlinking or real cross-referencing, and the entire corpus is written in a 45+ year old
typesetting language designed for <em>physical</em> output, not display in a virtual terminal.</p>

<p>That being said, they’re a <em>fantastic</em> initial resource for pretty much anything concerning your
system — they remain up-to-date (unlike blogs and articles), they’re accurate and concise, and
they’re <em>very</em> UNIX-y (text files and pipelines!).</p>

<hr>

<h3 id="addendum">Addendum</h3>

<p>This post was discussed on <a href="https://news.ycombinator.com/item?id=25311867">HN</a>; a response
by <a href="https://news.ycombinator.com/item?id=25313405">‘djeiasbsbo</a> includes some additionally
useful tricks and advice.</p>


<hr>




  


  





</div>]]>
            </description>
            <link>https://blog.yossarian.net/2018/01/22/Reading-Manpages-Like-a-Pro</link>
            <guid isPermaLink="false">hacker-news-small-sites-25311867</guid>
            <pubDate>Sat, 05 Dec 2020 04:53:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Visualizing Poker Hands Geometrically]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25311545">thread link</a>) | @chairmanwow1
<br/>
December 4, 2020 | https://evermontbills.com/blogs/prop-money-musings/a-new-way-to-look-at-poker-hands | <a href="https://web.archive.org/web/*/https://evermontbills.com/blogs/prop-money-musings/a-new-way-to-look-at-poker-hands">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article aria-labelledby="title-0">
  <div>
    <div>
      <div id="shopify-section-article-template">

<div>
  
<p>An interesting way for getting an intuitive sense for why <a href="https://en.wikipedia.org/wiki/Poker_probability" title="Poker hand probabilities">certain hands</a> are rare in poker, I've laid out all the cards in a standard deck in a grid:&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/blank_1024x1024.png?v=1607133617" alt="Array of Playing Cards" width="1024x1024" height="1024x1024">
</p>


<p>When I first learned to play poker, it took a while before I could get an intuitive understanding of the relationships between the various poker hands. Calculating their likelihood definitely helped get a handle on how many ways for a specific hand to actually occur there were.</p>

<p>Nonetheless, I think laying the hands out in a grid like this would have given me an intuitive understanding of the game much more quickly.&nbsp;</p>
<h2>Poker Hands shown geometrically</h2>
<p>So the lowest poker hand, high card, is the most common happening 50% of the time, but will rarely be the winning hand:</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/High_Card_1024x1024.png?v=1607134813" alt="High Card" width="1023" height="1023"></p>

<p>The next highest hand is a single pair which has a geometric interpretation of one column with two dots in it:&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/Pair_1024x1024.png?v=1607134853" alt="Pair" width="1024x1024" height="1024x1024"></p>

<p>Two pair has a similar flair to it, except this one has 2 vertical lines:</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/Two_Pair_1024x1024.png?v=1607134962" width="1024x1024" height="1024x1024"></p>

<p>Three of a kind is similar in spirit, but is much rarer than the two preceding hands happening once every 50 hands:&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/three_of_a_kind_1024x1024.png?v=1607135086" alt="3 of a kind" width="1024x1024" height="1024x1024"></p>

<p>For a straight, we need 5 cards that are in order without any gaps and can look kind of like a nice scatter plot:&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/straight_1024x1024.png?v=1607135179" alt="Straight" width="1024x1024" height="1024x1024"></p>

<p>A flush requires all 5 cards in the hand to be in a single horizontal row, but there can gaps between them:</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/flush_84512f1f-428d-4ed7-b703-9372fc3575d6_1024x1024.png?v=1607135233" alt="Flush" width="1024x1024" height="1024x1024"></p>

<p>A full house requires that all points be split into two lines of 3 and 2 points each:</p>

<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/full_house_1024x1024.png?v=1607135454" alt="Full House" width="1024x1024" height="1024x1024"></p>

<p>Four of a Kind requires a vertical line that spans the entire grid with an extra point tucked away somewhere:&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/4_of_a_kind_1024x1024.png?v=1607135655" alt="4 of a kind" width="1024x1024" height="1024x1024"></p>

<p>A straight flush is one of the tidiest hands as it requires all cards to be colinear on the same row and be immediately adjacent to each other:</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/straight_flush_1024x1024.png?v=1607135809" alt="Straight Flush" width="1024x1024" height="1024x1024"></p>

<p>The best hand that you can get is a subset of all the straight flushes that you can get. It's just a straight flush all the way against the right side of the grid with the 5 highest cards:&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/Royal_Flush_1024x1024.png?v=1607135877" alt="Royal Flush" width="1024x1024" height="1024x1024"></p>


<p>Looking at poker this way made me realize that there are some interesting hands that we could add to the game.&nbsp;</p>
<h2>Rectangle</h2>
<p>This hand is formed when you have 4 points that are <a href="https://mathworld.wolfram.com/Collinear.html" title="Mathematical Definition of colinearity">colinear</a> in both orthogonal axes (form a rectangle):&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/Rectangle_1024x1024.png?v=1607136065" alt="Rectangle Hand" width="1024x1024" height="1024x1024"></p>

<h2>Flower</h2>
<p>This one seems like it would be complicated to spot in the wild, but in reality it's a lot like a full house. You need a Three of a Kind and the other two cards need to be the same suit as one of your 3oK cards, and just before and after it. So, maybe it is a little complicated to spot, but it certainly is an interesting idea.&nbsp;</p>
<p><img src="https://cdn.shopify.com/s/files/1/0502/8370/8606/files/Screen_Shot_2020-12-04_at_18.42.56_1024x1024.png?v=1607136337" alt="Flower Hand" width="1024x1024" height="1024x1024"></p>

<h2>Want More?</h2>
<p>If you found this interesting, you'll probably love the 3D reconstruction we did of <a href="https://evermontbills.com/pages/walter-white-did-not-have-80m" title="Walter White's Cash Pile Counting">Walter White's cash pile</a> in order to count it.&nbsp;</p>
</div>


  <!-- /snippets/social-sharing.liquid -->







</div>
    </div>
  </div>
</article></div>]]>
            </description>
            <link>https://evermontbills.com/blogs/prop-money-musings/a-new-way-to-look-at-poker-hands</link>
            <guid isPermaLink="false">hacker-news-small-sites-25311545</guid>
            <pubDate>Sat, 05 Dec 2020 03:48:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hiring 101: Hierarchy of Analytical Needs]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25311524">thread link</a>) | @mooreds
<br/>
December 4, 2020 | http://tmai.avinashkaushik.com/web-version?lc=f6c1fee0-bfd9-11ea-a3d0-06b4694bee2a&p=85a3b25d-35f9-11eb-a3d0-06b4694bee2a&pt=campaign&t=1607074557&s=59518f14bc577006a5c2899e074ca082b3d9193d1e2fc6a8ef973ef630669daf | <a href="https://web.archive.org/web/*/http://tmai.avinashkaushik.com/web-version?lc=f6c1fee0-bfd9-11ea-a3d0-06b4694bee2a&p=85a3b25d-35f9-11eb-a3d0-06b4694bee2a&pt=campaign&t=1607074557&s=59518f14bc577006a5c2899e074ca082b3d9193d1e2fc6a8ef973ef630669daf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://tmai.avinashkaushik.com/web-version?lc=f6c1fee0-bfd9-11ea-a3d0-06b4694bee2a&amp;p=85a3b25d-35f9-11eb-a3d0-06b4694bee2a&amp;pt=campaign&amp;t=1607074557&amp;s=59518f14bc577006a5c2899e074ca082b3d9193d1e2fc6a8ef973ef630669daf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25311524</guid>
            <pubDate>Sat, 05 Dec 2020 03:43:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Subscription Creep]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25311353">thread link</a>) | @calicruisin
<br/>
December 4, 2020 | https://www.thriftythoughts.io/subscription-creep/ | <a href="https://web.archive.org/web/*/https://www.thriftythoughts.io/subscription-creep/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<div>
    <main>
            <article>
    
    <div>
                <h3 id="given-that-thrifty-thoughts-operates-under-a-subscription-model-this-was-probably-inadvisable-">Given that thrifty thoughts operates under a subscription model this was probably inadvisable.</h3><p>Every year more and more subscription based services come into our lives. Given the ease of sign-up as well as the sheer quantity of must-have subscriptions, how much are we actually spending when it's all added up?</p><figure><img src="https://www.thriftythoughts.io/content/images/2020/12/UNCLAIMED-PROPERTY--10-.png" alt="recurring costs for subscription based services can add up over time" srcset="https://www.thriftythoughts.io/content/images/size/w600/2020/12/UNCLAIMED-PROPERTY--10-.png 600w, https://www.thriftythoughts.io/content/images/2020/12/UNCLAIMED-PROPERTY--10-.png 800w" sizes="(min-width: 720px) 720px"></figure>
                            <section>
                                <h2>Enjoying these posts? Subscribe for more</h2>
                                
                                <br>
                                
                            </section>
    </div>
        
</article>                    
                </main>
</div>
        </div></div>]]>
            </description>
            <link>https://www.thriftythoughts.io/subscription-creep/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25311353</guid>
            <pubDate>Sat, 05 Dec 2020 03:13:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Introduction to gRPC – Part 2]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25311149">thread link</a>) | @bswamina
<br/>
December 4, 2020 | https://www.polarsparc.com/xhtml/gRPC-2.html | <a href="https://web.archive.org/web/*/https://www.polarsparc.com/xhtml/gRPC-2.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <br>
    
    <br>
    
    
    <hr>
    
    <p>Overview</p>
    <div id="para-div">
      <p>In <a href="https://www.polarsparc.com/xhtml/gRPC-1.html" target="_blank"><span>Part 1</span></a> of
        this series, we provided a high-level overview of <span>gRPC</span>, installed the necessary software, setup the
        environment, and finally demonstrated the <span>Unary</span> RPC communication in both Go and Java.</p>
      <p>In this part, we will continue the journey to the next RPC communication pattern - <span>Server Streaming</span>.</p>
    </div>
    <p>Server Streaming RPC</p>
    <p>The following diagram illustrates the high-level architecture of <span>Server Streaming</span> communication
        pattern:</p>
    <div id="img-outer-div"> <p><img src="https://www.polarsparc.com/xhtml/images/grpc-06.png" alt="Server Streaming Architecture"></p><p>Figure-6</p>
    </div>
    
    <p>In the Server Streaming RPC mode, the client sends a request to the server and the server responds with sequence (or stream)
        of messages back to the client.</p>
    <p>For the Server Streaming RPC demonstration, we will implement a fictitious Currency Rate service, where the client sends the
        'from' currency and the 'to' currency as the request and the server responds with a stream of 'rates' from different 'agents'.</p>
    <div id="para-div">
      <p>We will first demonstrate the Currency Rate service using the Go programming language.</p>
      <p>In the <span>$GOPATH</span> directory, create the project directory hierarchy by executing the following
        commands:</p>
    </div>
    <div id="cmd-div">
      <p>$ cd $GOPATH/src/polarsparc.com/grpc</p>
      <p>$ mkdir -p serverstream serverstream/currencypb serverstream/server serverstream/client</p>
    </div>
    <p>The following are the contents of the file <span>currency.proto</span> located in the directory <span>
        $GOPATH/src/polarsparc.com/grpc/serverstream/currencypb</span> as shown below:</p>
    <fieldset id="sc-fieldset">
      <legend>currency.proto</legend>
      <pre>/*
    @Author: Bhaskar S
    @Blog:   https://www.polarsparc.com
    @Date:   04 Dec 2020
*/

syntax = "proto3";

package serverstream;

option go_package = "polarsparc.com/grpc/serverstream/currencypb";

option java_multiple_files = true;
option java_package = "com.polarsparc.gss";

message CurrencyRateRequest {
  string from = 1;
  string to = 2;
}

message CurrencyRateResponse {
  string agent = 1;
  string from = 2;
  string to = 3;
  double rate = 4;
}

service CurrencyService {
  rpc getCurrencyRate(CurrencyRateRequest) returns (stream CurrencyRateResponse) {};
}</pre>
    </fieldset>
    <p>The request message is defined as <span>CurrencyRateRequest</span> and the response message is defined as
        <span>CurrencyRateResponse</span>. The service interface is defined as <span>CurrencyService</span>
        with an RPC method <span>getCurrencyRate</span> that takes in a <span>CurrencyRateRequest</span>
        as an input and returns a sequence (or <span>stream</span>) of <span>CurrencyRateResponse</span>
        objects.</p>
    <p>To compile the <span>currency.proto</span> file, execute the following commands:</p>
    <div id="cmd-div">
      <p>$ cd $GOPATH/src/polarsparc.com/grpc/serverstream</p>
      <p>$ protoc currencypb/currency.proto --go_out=plugins=grpc:$GOPATH/src</p>
    </div>
    <p>On success, this will generate the Go code file called <span>currency.pb.go</span> located in the directory
        <span>$GOPATH/src/polarsparc.com/grpc/serverstream/currencypb</span>.</p>
    <p>From the file <span>currency.pb.go</span>, we see the <span>CurrencyServiceServer</span> interface,
        as shown below, that the server needs to implements:</p>
    <fieldset id="sc-fieldset">
      <legend>currency.pb.go</legend>
      <pre>.
.
.
type CurrencyServiceServer interface {
	GetCurrencyRate(*CurrencyRateRequest, CurrencyService_GetCurrencyRateServer) error
}
.
.
.</pre>
    </fieldset>
    <p>The following are the contents of the file <span>currency_provider.go</span> that simulates an in-memory
        store for initializing and returning currency rates from fictitious agents and is located in the directory <span>
        $GOPATH/src/polarsparc.com/grpc/serverstream/server</span> as shown below:</p>
    <fieldset id="sc-fieldset">
      <legend>currency_provider.go</legend>
      <pre>/*
  @Author: Bhaskar S
  @Blog:   https://www.polarsparc.com
  @Date:   04 Dec 2020
*/

package main

import (
  "fmt"
  "github.com/pkg/errors"
  "log"
  "strings"
)

type CurrencyRate struct {
  Agent string
  Rate float64
}

type RatesCache map[string][]CurrencyRate

type server struct {
  cache RatesCache
}

func (s *server) Init() {
  l1 := []CurrencyRate{{Agent: "Alice", Rate: 1.30}, {Agent: "Bob", Rate: 1.302},{Agent: "Dave", Rate: 1.31}}
  s.cache["USD:CAD"] = l1
  l2 := []CurrencyRate{{Agent: "Alice", Rate: 0.85}, {Agent: "Charlie", Rate: 0.84}}
  s.cache["USD:EUR"] = l2
  l3 := []CurrencyRate{{Agent: "Bob", Rate: 0.75}, {Agent: "Charlie", Rate: 0.751},{Agent: "Eve", Rate: 0.74}}
  s.cache["USD:GBP"] = l3
}

func (s *server) GetAgentRates(from string, to string) ([]CurrencyRate, error) {
  key := strings.ToUpper(from + ":" + to)

  log.Printf("Currency rate request for key: %s\n", key)

  rates := s.cache[key]
  if rates == nil {
    return nil, errors.New(fmt.Sprintf("No rate for currency from: %s, to: %s", from, to))
  }

  log.Printf("Currency rates for key: %s = %v", key, rates)

  return rates, nil
}</pre>
    </fieldset>
    <p>The following are the contents of the file <span>server.go</span> for the Server Streaming RPC server that
        implements the <span>CurrencyServiceServer</span> interface and is located in the directory <span>
        $GOPATH/src/polarsparc.com/grpc/serverstream/server</span> as shown below:</p>
    <fieldset id="sc-fieldset">
      <legend>server.go</legend>
      <pre>/*
  @Author: Bhaskar S
  @Blog:   https://www.polarsparc.com
  @Date:   04 Dec 2020
*/

package main

import (
  "google.golang.org/grpc"
  "log"
  "net"
  "polarsparc.com/grpc/serverstream/currencypb" // [1]
  "time"
)

func (s *server) GetCurrencyRate(req *currencypb.CurrencyRateRequest,
  stream currencypb.CurrencyService_GetCurrencyRateServer) error { // [2]
  log.Printf("Received a CurrencyRate request with req: %v\n", req)

  from := req.From
  to := req.To

  rates, err := s.GetAgentRates(from, to)
  if err == nil {
    log.Printf("Rates from agents: %v\n", rates)
    for _, r := range rates {
      res := ¤cypb.CurrencyRateResponse{Agent: r.Agent, From: from, To: to, Rate: r.Rate}
      stream.Send(res) // [3]
      time.Sleep(250 * time.Millisecond)
    }
    return nil
  }

  return err
}

func main()  {
  cs := &amp;server{
    cache: RatesCache{},
  }
  cs.Init() // [4]

  log.Println("Ready to start the CurrencyRate server...")

  lis, err := net.Listen("tcp", "localhost:20002")
  if err != nil {
    log.Fatalf("Failed to create listener on localhost:20002")
  }

  srv := grpc.NewServer() // [5]

  currencypb.RegisterCurrencyServiceServer(srv, cs) // [6]

  if err = srv.Serve(lis); err != nil {
    log.Fatalf("Failed to start server: %v", err)
  }
}</pre>
    </fieldset>
    <div id="para-div">
      <p>The following are brief descriptions for some of the Go type(s)/method(s) used in the code above:</p>
      <ul id="blue-ol">
        <li>
          <p><span>[1]</span> :: import the code from the package <span>polarsparc.com/grpc/serverstream/currencypb
            </span> generated by the <span>protoc</span> compiler</p>
        </li>
        <li>
          <p><span>[2]</span> :: associate the service method <span>GetCurrencyRate</span> as receiver method
            of the custom type <span>server</span>. This method takes two input arguments - a <span>
              CurrencyRateRequest</span> object and a stream object called <span>CurrencyService_GetCurrencyRateServer
            </span></p>
        </li>
        <li>
          <p><span>[3]</span> :: send a sequence (or stream) of <span>CurrencyRateResponse</span> objects (one
            for each of the agents) back to the client that made the request</p>
        </li>
        <li>
          <p><span>[4]</span> :: initialize the in-memory currency rates store (with some fictitious entries)</p>
        </li>
        <li>
          <p><span>[5]</span> :: create an instance of the <span>gRPC</span> server</p>
        </li>
        <li>
          <p><span>[6]</span> :: register an instance of the <span>server</span> object (that implements
            the service method <span>GetCurrencyRate</span>) with the <span>gRPC</span> server</p>
        </li>
      </ul>
    </div>
    <p>The following are the contents of the file <span>client.go</span> that implements the Server Streaming RPC
        client for the <span>CurrencyServiceServer</span> located in the directory <span>
        $GOPATH/src/polarsparc.com/grpc/serverstream/client</span> as shown below:</p>
    <fieldset id="sc-fieldset">
      <legend>client.go</legend>
      <pre>/*
  @Author: Bhaskar S
  @Blog:   https://www.polarsparc.com
  @Date:   04 Dec 2020
*/

package main

import (
  "golang.org/x/net/context"
  "google.golang.org/grpc"
  "io"
  "log"
  "polarsparc.com/grpc/serverstream/currencypb"
)

func main() {
  log.Println("Ready to start the CurrencyRate client...")

  conn, err := grpc.Dial("localhost:20002", grpc.WithInsecure())
  if err != nil {
    log.Fatalf("Failed to connect to localhost:20002")
  }
  defer conn.Close()

  cl := currencypb.NewCurrencyServiceClient(conn) // [1]

  // Success
  req := ¤cypb.CurrencyRateRequest{From: "usd",
    To: "eur"} // [2]
  stream, err := cl.GetCurrencyRate(context.Background(), req) // [3]
  if err != nil {
    log.Fatalf("[1] Failed to send CurrencyRate request to localhost:20002")
  }
  for {
    res, err := stream.Recv() // [4]
    if err == io.EOF {
      break
    }
    if err != nil {
      log.Fatalf("[1] Received and error from CurrencyRate at localhost:20002: %v", err)
    }
    log.Printf("[1] ===&gt; Agent: %s, Rate: %.03f\n", res.Agent, res.Rate)
  }

  // Error
  req2 := ¤cypb.CurrencyRateRequest{From: "usd",
    To: "jpy"}
  stream2, err := cl.GetCurrencyRate(context.Background(), req2)
  if err != nil {
    log.Fatalf("[2] Failed to send CurrencyRate request to localhost:20002")
  }
  for {
    res, err := stream2.Recv()
    if err == io.EOF {
      break
    }
    if err != nil {
      log.Fatalf("[2] Received and error from CurrencyRate at localhost:20002: %v", err)
    }
    log.Printf("[2] ===&gt; Agent: %s, Rate: %.03f\n", res.Agent, res.Rate)
  }
}</pre>
    </fieldset>
    <div id="para-div">
      <p>The following are brief descriptions for some of the Go type(s)/method(s) used in the code above:</p>
      <ul id="blue-ol">
        <li>
          <p><span>[1]</span> :: create an instance of the <span>gRPC</span> client stub
            <span>NewCurrencyServiceClient</span> generated by the <span>protoc</span> compiler</p>
        </li>
        <li>
          <p><span>[2]</span> :: create an instance of the request object <span>CurrencyRateRequest</span></p>
        </li>
        <li>
          <p><span>[3]</span> :: invoke the <span>gRPC</span> method <span>GetCurrencyRate</span>
            using the client stub. The method invocation returns a stream object</p>
        </li>
        <li>
          <p><span>[4]</span> :: invoke the <span>Recv()</span> method on the stream object until the
            end of the stream (return code of <span>io.EOF</span>)</p>
        </li>
      </ul>
    </div>
    <p>Open two <span>Terminal</span> windows - one for the server and one for the client.</p>
    <p>In the server Terminal, execute the following commands:</p>
    <div id="cmd-div">
      <p>$ cd $GOPATH/src/polarsparc.com/grpc/serverstream/server</p>
      <p>$ go run server.go currency_provider.go</p>
 …</div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.polarsparc.com/xhtml/gRPC-2.html">https://www.polarsparc.com/xhtml/gRPC-2.html</a></em></p>]]>
            </description>
            <link>https://www.polarsparc.com/xhtml/gRPC-2.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25311149</guid>
            <pubDate>Sat, 05 Dec 2020 02:36:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Esperanto Technologies to Reveal Chip with 1000 Cores at RISC-V Summit]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25310931">thread link</a>) | @FullyFunctional
<br/>
December 4, 2020 | https://www.esperanto.ai/esperanto-technologies-to-reveal-chip-with-1000-cores-at-risc-v-summit/ | <a href="https://web.archive.org/web/*/https://www.esperanto.ai/esperanto-technologies-to-reveal-chip-with-1000-cores-at-risc-v-summit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
		<a href="#content">Skip to content</a>

	<div id="boxed-wrapper">
		
		<div id="wrapper">
			
			
				
			<header>
				
				
			</header>
							
				
		
				
				
			
			

						<main id="main">
				<div>

<section id="content">
	
					<article id="post-2771">
										<span>Esperanto Technologies to Reveal Chip with 1000+ Cores at RISC-V Summit</span>
			
				
						<div>
				<div><div><div><div><div><span><img width="504" height="168" title="riscv summit" src="https://www.esperanto.ai/wp-content/uploads/2020/12/riscv-summit.jpg" srcset="https://www.esperanto.ai/wp-content/uploads/2020/12/riscv-summit-200x67.jpg 200w, https://www.esperanto.ai/wp-content/uploads/2020/12/riscv-summit-400x133.jpg 400w, https://www.esperanto.ai/wp-content/uploads/2020/12/riscv-summit.jpg 504w" sizes="(max-width: 1024px) 100vw, 504px"></span></div><div><h3><strong>Esperanto Technologies to Reveal Chip with 1000+ Cores </strong><strong>at RISC-V Summit</strong></h3>
<p><em>Art Swift, CEO of Esperanto Technologies, will present chip that accelerates Machine Learning based on RISC-V ISA</em></p>
<p><strong>MOUNTAIN VIEW, Calif., Dec. 1, 2020</strong> – <a href="https://www.esperanto.ai/">Esperanto Technologies</a>™, developer of high-performance, energy-efficient computing solutions based on RISC-V for Artificial Intelligence (AI), Machine Learning (ML) and Deep Learning (DL) applications, will participate in the <a href="https://tmt.knect365.com/risc-v-summit/">RISC-V Summit</a>, December 8-10, 2020. <a href="https://tmt.knect365.com/risc-v-summit/speakers/art-swift/">Art Swift, CEO of Esperanto</a>, will deliver the presentation: <a href="https://tmt.knect365.com/risc-v-summit/speakers/art-swift/#hardware-coressocs_esperanto-accelerates-machine-learning-with-risc-v">Esperanto Accelerates Machine Learning with 1000+ Low-Power RISC-V Cores on a Single Chip</a> on Tuesday, December 8.</p>
<ul>
<li><strong>What</strong>: <a href="https://tmt.knect365.com/risc-v-summit/">RISC-V Summit.</a></li>
<li><strong>Where</strong>: Virtual event, online.</li>
<li><strong>When</strong>: December 8, 2020.</li>
<li><strong>Agenda</strong>: <a href="https://tmt.knect365.com/risc-v-summit/agenda/1/">View the agenda here</a>.</li>
<li><strong>Register here</strong>: <a href="https://riscv.informatech.com/2020/registrations/Attendee">https://riscv.informatech.com/2020/registrations/Attendee</a></li>
</ul>
<p><strong>Presentation: </strong><strong>Esperanto Accelerates Machine Learning With 1000+ Low-Power RISC-V Cores on a Single Chip</strong></p>
<ul>
<li>Esperanto Technologies has developed a ground-breaking accelerator chip for large-scale machine learning applications employing over 1000 RISC-V cores.</li>
<li>In this talk, Esperanto provides an overview of the company’s new ET-SoC-1 chip, which features two kinds of general-purpose 64-bit RISC-V cores. The ET-Maxion, previewed at the RISC-V Summit in 2018, is a superscalar out-of-order core delivering high performance for modern operating systems and applications. The complementary ET-Minion core designed by Esperanto is a leaner, energy efficient, in-order multithreaded core with a vector/tensor accelerator unit at the heart of the massively parallel compute array.</li>
<li>The chip’s performance and efficiency is derived from a combination of factors, including the simplicity of the RISC-V instruction set, wide vector/tensor units on every ET-Minion core, a uniquely optimized memory hierarchy, state of the art process technology, and custom pipeline architecture and low-voltage circuits which enables more energy-efficient operation. The result is that Esperanto will deliver better performance per watt than legacy CPU and GPU solutions, as well as competing fixed-function designs without compromising generally purpose flexibility.</li>
</ul>
<p><strong>About Esperanto Technologies</strong></p>
<p>Esperanto Technologies develops high-performance, energy-efficient computing solutions for Artificial Intelligence / Machine Learning based on the open standard RISC-V instruction set architecture. Esperanto is headquartered in Mountain View, California with engineering sites in Portland, Oregon and Austin, Texas in the United States and multiple sites in Europe. Esperanto has brought together a seasoned team of experienced processor and software engineers with the goal of making RISC-V the architecture of choice for compute-intensive applications such as AI and Machine Learning. For more information, please visit <a href="https://www.esperanto.ai/">https://www.esperanto.ai/</a></p>
<p><strong>About the RISC-V Summit</strong></p>
<p>The third annual RISC-V Summit will highlight the continued rapid expansion of the RISC-V ecosystem, presenting both commercial offerings and exciting open-source developments. Newcomers to RISC-V, as well as the seasoned developers who are interested in broadening their toolsets, are invited to choose from the broad range of tutorials. The comprehensive 100% virtual event will feature keynotes from industry pioneers as well as thought-provoking panel discussions. Network with thought-leaders, technology companies, and researchers spearheading the adoption of this evolutionary change in the silicon market.</p>
<p><em>All trademarks or registered trademarks are the property of Esperanto Technologies or their respective holders.</em></p>
</div></div></div></div></div>
							</div>

												<span><span><a href="https://www.esperanto.ai/author/hstump/" title="Posts by Holly Stump" rel="author">Holly Stump</a></span></span><span>2020-12-01T08:33:52-08:00</span>													
													<section>
				
			
	
	
	
	
				<!-- fusion-carousel -->
</section><!-- related-posts -->


																	</article>
	</section>
						
					</div>  <!-- fusion-row -->
				</main>  <!-- #main -->
				
				
								
					
		 <!-- fusion-footer -->

		
					

												</div> <!-- wrapper -->
		</div> <!-- #boxed-wrapper -->
		
		
		
		<a></a>

		

			
		


</div>]]>
            </description>
            <link>https://www.esperanto.ai/esperanto-technologies-to-reveal-chip-with-1000-cores-at-risc-v-summit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25310931</guid>
            <pubDate>Sat, 05 Dec 2020 02:03:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Microsoft crushed Slack]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25310547">thread link</a>) | @theBashShell
<br/>
December 4, 2020 | https://www.platformer.news/p/how-microsoft-crushed-slack | <a href="https://web.archive.org/web/*/https://www.platformer.news/p/how-microsoft-crushed-slack">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc7608632-a221-494e-8d80-66d16ad2a539_4608x3456.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc7608632-a221-494e-8d80-66d16ad2a539_4608x3456.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/c7608632-a221-494e-8d80-66d16ad2a539_4608x3456.jpeg&quot;,&quot;height&quot;:1092,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1771463,&quot;alt&quot;:&quot;Image of Slack running on a laptop. Muhammed Abiodun / Unsplash&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt="Image of Slack running on a laptop. Muhammed Abiodun / Unsplash"></a><figcaption>(Muhammed Abiodun / Unsplash)</figcaption></figure></div><p>Slack’s life as an underdog darling of Silicon Valley ended on November 2, 2016. That’s when the upstart communication startup <a href="https://www.theverge.com/2016/11/2/13497766/slack-microsoft-teams-new-york-times-ad">published an open letter to Microsoft in the </a><em><a href="https://www.theverge.com/2016/11/2/13497766/slack-microsoft-teams-new-york-times-ad">New York Times</a></em>, offering the tech giant an insincere “welcome” to the world of workplace chat software. The occasion was <a href="https://www.theverge.com/2016/10/25/13405200/microsoft-teams-slack-competitor-launch">Microsoft’s launch of Teams</a>, a Slack clone that would come bundled with the company’s popular Office 365 suite of products.</p><p>In its letter, Slack warned Microsoft that “Slack is here to stay,” adding: “we’re just getting started.” But the 4 million users it had at the time would increase to just 12 million four years later, while Microsoft — which added Teams to its 365 bundle without increasing the price — <a href="https://www.theverge.com/2020/10/27/21537286/microsoft-teams-115-million-daily-active-users-stats">took Teams from zero to 115 million users</a>. </p><p>That disparity helps to explain why <a href="https://www.nytimes.com/2020/12/01/technology/salesforce-slack-deal.html">Slack sold itself this week to Salesforce</a>. The deal, which values Slack at $27.7 billion on revenues of $833 million over the past year, has largely been greeted with cheers. (Ben Thompson <a href="https://stratechery.com/2020/salesforce-acquires-slack-salesforces-reasoning-salesforces-opportunity/">offers a typically excellent rundown of the opportunity here for both Salesforce and Slack</a>.)</p><p>But it also feels like the end of an era — one where workers gained new power to bring their own tools to the office, and decide for themselves how they wanted to get work done. Slack first succeeded with small teams who wanted to accelerate their work, and was often dragged into organizations by early adopters. But today, waves of consolidation are leaving people with fewer real choices.</p><p>The rise of smart phones in the early 2010s brought with it a new surge of workplace productivity tools that made mincemeat of everything that had come before them. Box and Dropbox brought easy file storage and sharing. Evernote introduced the idea of ubiquitous, cloud-synchronized note-taking. Sunrise created a more social calendar, while Mailbox and Acompli reimagined email for the mobile phone.</p><p>Slack tiptoed into the conversation in the middle of the decade, and almost immediately became the fastest-growing enterprise software tool of all time. In 2015, just 18 months after it launched, <a href="https://www.theverge.com/2015/6/24/8836087/slack-1-million-daily-users">Slack reported having more than 1 million daily users</a> —&nbsp;a figure then unheard-of in enterprise software.</p><p>It had a great backstory —&nbsp;a last-ditch pivot from a failed video game called Glitch —&nbsp;and, in Stewart Butterfield, one of the tech world’s most charming founders. It also had a bold pitch: it was going to “kill email” —&nbsp;or, at the very least, reduce your reliance on it. And it would do so by integrating hundreds of other services into real-time work chat, creating a kind of all-knowing command console for your organization.</p><p>The company embodied the belief, so common in Silicon Valley, that the best product would win in the end. “Building a product that allows for significant improvements in how people communicate requires a degree of thoughtfulness and craftsmanship that is not common in the development of enterprise software,” the company wrote in its open letter to Microsoft. “How far you go in helping companies truly transform to take advantage of this shift in working is even more important than the individual software features you are duplicating.”</p><p>And yet if there’s a lesson of the past four years, it’s that thoughtfulness and craftsmanship only got the company about 10 percent as far as Microsoft did by copy-pasting Slack’s basic design. In its open letter, Slack famously told Microsoft: “You’ve got to do this with love.” In 2020, looking at Slack’s size, the idea seems laughable. What’s love got to do with it?</p><p>The thing is, I <em>hate</em> that this was the outcome for Slack. I love good productivity tools, and was rooting for Slack to someday become as good as the company hyped it up to be. (And perhaps it still will: like most giants Salesforce has a mixed track record when it comes to the success of its acquisitions, but some seem to be thriving. When I asked about this on Twitter, people had <a href="https://twitter.com/caseynewton/status/1333891286185644032?s=21">a lot of good things to say about post-acquisition Heroku</a>.)</p><p>But Slack’s struggle to succeed as an independent company sadly mirrors that of many one-time innovators in enterprise productivity. Mailbox died and Acompli sold to Microsoft, where it became the mobile Outlook app. Evernote is a pale shadow of its former self. Of that early cohort, only Box and Dropbox became — and still remain —&nbsp;public companies.</p><p>Why is this the case? To get some insight, I called up Aaron Levie, Box’s affable CEO. In Levie’s telling —&nbsp;and he also wrote <a href="https://blog.box.com/salesforce-slack-and-future-work">a blog post about the Slack sale</a> — it all comes down to sales. The idea that workers would someday choose all their own tools was always a fantasy, he told me, in part because most workers don’t event want to think about their tools. In such a world, the winning app will almost always be one with a giant, er, salesforce behind it. </p><p>Microsoft had one. Slack didn’t. Enter Salesforce.</p><p>“The reality with the enterprise is that you can have the best product, but that’s not good enough,” Levie told me. “You need distribution. And what Salesforce has — they have the procurement officers, they have the finance people. They have all of the apparatus you need to interact with to sell software, and they have it for the top 100,000 corporations around the world.”</p><p>Levie is bullish on the acquisition, because it puts Slack and Salesforce on more even ground. </p><p>“The only advantage Microsoft has is distribution, and so now they’ve neutralized the advantage that Microsoft has had,” he said. “All of a sudden, they can actually fulfill the ultimate promise of the opportunity, because they have 10 times the amount of salespeople that can go distribute this thing into corporations around the world.”</p><p>Assuming Levie is right — and I wouldn’t bet against him — that means the medium-term future of work is increasingly a choice between three giants: Microsoft, Salesforce, and (in a distant third) Google. And with that, the golden age of worker choice in productivity tools seems to be coming to an end.</p><p>That’s not to say that the incumbents won’t always face new challengers. But I wonder whether the low ceiling that Slack turned out to have has implications for some of the other fast-growing productivity companies of the current moment. Should Slack’s sale diminish our expectations for Airtable, or Notion, or Coda? Don’t get me wrong — I’m confident their investors will all get their money back, and then some. But do they have a real future outside the arms of a monolith?</p><p>If not, then the productivity market will become as consolidated as any number of other spaces on the internet, from app stores to search engines to social networks. And as our government antitrust regulators begin to awaken after a long period of hibernation, I wonder if they’ll have anything to say about it.</p><h3>The Ratio</h3><p><em>Today in news that could affect public perception of the big tech companies</em></p><p>⬆️ <strong>Trending up</strong>: <strong><a href="https://techcrunch.com/2020/12/02/google-news-showcase-paywalled-stories/">Google</a></strong><a href="https://techcrunch.com/2020/12/02/google-news-showcase-paywalled-stories/">’s new paid deals with publishers mean that access to some paywalled content will now be available to readers for free</a>. Good for publishers, good for Google, good for democracy. (Anthony Ha / <em>TechCrunch</em>)</p><p>🔃 <strong>Trending sideways: <a href="https://www.geekwire.com/2020/microsoft-will-remove-user-names-productivity-score-feature-privacy-backlash/">Microsoft </a></strong><a href="https://www.geekwire.com/2020/microsoft-will-remove-user-names-productivity-score-feature-privacy-backlash/">made changes to the “productivity score” feature in its 365 platform, which gave employers fine-grained data on individual employees’ use of email, chat, and other features</a>. Critics called it “full-fledged workplace surveillance tool;” Microsoft says it will now detach the data from individual employee names.  (Todd Bishop / <em>GeekWire</em>) </p><p>🔃 <strong>Trending sideways:</strong> <strong><a href="https://www.theinformation.com/articles/amazon-drops-pandemic-test-to-track-warehouse-workers-through-wi-fi?utm_source=twitter&amp;utm_medium=page">Amazon </a></strong><a href="https://www.theinformation.com/articles/amazon-drops-pandemic-test-to-track-warehouse-workers-through-wi-fi?utm_source=twitter&amp;utm_medium=page">abandoned a test of a worker safety measure that involved tracking the location of warehouse workers through their personal cell phones</a>. Big week for pushback on worker surveillance initiatives! (Mark Di Stefano / <em>The Information</em>)</p><p>⬇️ <strong>Trending down</strong>: <strong><a href="https://www.theverge.com/2020/12/2/22047383/google-spied-workers-before-firing-labor-complaint">Google</a></strong><a href="https://www.theverge.com/2020/12/2/22047383/google-spied-workers-before-firing-labor-complaint"> illegally spied on workers before firing them, according to a new lawsuit by the National Labor Relations Board</a>. Two employees were fired for looking at their colleagues’ calendars as part of an organizing effort. Google says it didn’t do anything wrong. (Zoe Schiffer / <em>The Verge</em>)</p><h3>Governing</h3><p>⭐ <strong><a href="https://www.washingtonpost.com/technology/2020/12/01/trump-repeal-section-230-ndaa/">In a pair of late-night tweets, President Trump</a></strong><a href="https://www.washingtonpost.com/technology/2020/12/01/trump-repeal-section-230-ndaa/"> threatened to veto the defense reauthorization act if Congress does not repeal Section 230 of the Communications Decency Act</a>. But it’s <a href="https://www.protocol.com/Politics/trumps-section-230-veto-threat">not clear he has the leverage to make it happen</a>. (Tony Romm /  <em>Washington Post</em>)</p><p><a href="https://www.washingtonpost.com/politics/2020/12/02/technology-202-aclu-sues-dhs-over-purchase-cellphone-location-data-used-track-immigrants/">The ACLU sued the Department of Homeland Security over its purchase of cellphone location data to track immigrants</a>. Separately, the department’s inspector general said he would investigate the matter after Senate Democrats began asking questions. (Cat Zakrzewski / <em>Washington Post</em>)</p><p><a href="https://techcrunch.com/2020/12/01/massachusetts-votes-to-pass-statewide-police-ban-on-facial-recognition/">Massachusetts passed a statewide ban on the use of facial recognition technology by police</a>. It may be the largest US ban of facial recognition tech yet, and is part of a growing patchwork of laws regulating it around the country. (Taylor Hatmaker and Zack Whittaker / <em>TechCrunch</em>)</p><p><strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">EveryAction</a></strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">, a </a><strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">Salesforce</a></strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">-like platform for liberal campaigns and causes, acquired the organizing company </a><strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">Mobilize</a></strong>. The move bolsters what Bloomberg calls “the central nervous system for practically all of Democratic politics.” (Joshua Green / Bloomberg)</p><p><a href="https://www.smh.com.au/world/asia/very-serious-situation-frydenberg-s-economic-warning-over-china-dispute-20201202-p56jzp.html">Amid rising tensions between China and Australia, </a><strong><a href="https://www.smh.com.au/world/asia/very-serious-situation-frydenberg-s-economic-warning-over-china-dispute-20201202-p56jzp.html">WeChat</a></strong><a href="https://www.smh.com.au/world/asia/very-serious-situation-frydenberg-s-economic-warning-over-china-dispute-20201202-p56jzp.html"> deleted a fabricated image sent by a Chinese foreign affairs official accusing Australian soldiers of murdering Afghan children</a>. <strong>Twitter</strong> left the post up. (Eryk Bagshaw, Anthony Galloway and Shane Wright / <em>Sydney Morning Herald</em>)</p><h3>Industry</h3><p>⭐ <strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">Facebook</a></strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/"> teamed up with former employees of popular game developer </a><strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">Telltale</a></strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/"> for </a><em><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">Rival Peak</a></em><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">, a new reality show where viewers will influence the story</a>. It feels … maybe a little too high-concept? We’ll see. Gene Park had the details at the <em>Washington Post</em>:</p><blockquote><p><em>Rival Peak</em> is a Facebook Watch program in which artificial intelligence-driven “contestants” will live, work and exist for every minute of the day within the fictional region of Rival Peak, a mountainous forest region that emulates the Pacific Northwest. With a diverse cast of internationally-based characters, Facebook users will decide what each contestant of the show will do in the game, how …</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.platformer.news/p/how-microsoft-crushed-slack">https://www.platformer.news/p/how-microsoft-crushed-slack</a></em></p>]]>
            </description>
            <link>https://www.platformer.news/p/how-microsoft-crushed-slack</link>
            <guid isPermaLink="false">hacker-news-small-sites-25310547</guid>
            <pubDate>Sat, 05 Dec 2020 01:03:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No One Ever Got Fired for Choosing React]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25310462">thread link</a>) | @petercooper
<br/>
December 4, 2020 | https://jake.nyc/words/no-one-ever-got-fired-for-choosing-react/ | <a href="https://web.archive.org/web/*/https://jake.nyc/words/no-one-ever-got-fired-for-choosing-react/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>If you spend a lot of time on Hacker News, it’s easy to get taken by the allure of building a web app without a framework. There are a bunch of potential advantages (no bloat! bespoke to your project!) and being able to say you built something with minimal dependencies gets you Engineer Points.</p>
<p>That is, if you can pull it off.</p>
<p>I started a new side project recently. It’s a web-based graphics editor, so it needs to be a single page app. My time spent profiling <a href="https://songrender.com/">SongRender</a> for performance issues has made me a little wary of React for building interfaces that update at 60 frames per second, so I decided to avoid it. I’d go (mostly) vanilla and see how far that took me.</p>
<p>I installed <a href="https://lit-html.polymer-project.org/">lit-html</a> and got to work. “Components” were simply functions that returned lit-html template results. A big singleton at the top of the tree held onto all the application state, stored as a global variable within that module.</p>
<p>The first hurdle came when a component needed local state. I could have lifted it to the singleton, but that would have broken the component’s encapsulation. I noticed that lit-html directives can keep state, so I decided to use them to build a tiny component library — ignoring a warning from the lit-html developers that this wasn’t a supported use case.</p>
<p>My home-brewed library worked great… until I needed to run some code when a component appeared on the screen. I started digging through lit-html documentation and issues looking for a way to detect a directive’s lifecycle, but it became clear to me that going down that path would be painful.</p>
<p>At that point, I recalled <a href="https://tomdale.net/2015/11/javascript-frameworks-and-mobile-performance/">this quote by Tom Dale</a>:</p>
<blockquote>
<p>I have heard from many developers who have told me that they accepted the argument that vanilla JavaScript or microlibraries would let them write leaner, meaner, faster apps. After a year or two, however, what they found themselves with was a slower, bigger, less documented and unmaintained in-house framework with no community. As apps grow, you tend to need the abstractions that a framework offers. Either you or the community write the code.</p>
</blockquote>
<p>Fair enough. Let’s avoid that trap. What about a small framework? I’d heard a lot of good things about Svelte, and although I was slightly worried about the size of the Svelte community I figured it would be fine.</p>
<p>My migration attempt quickly ground to a halt when I wanted a parent component to apply some styles to a child component. In React, I’d pass a class name in from the parent as a <code>className</code> prop. In Svelte, that’s considered a workaround, and the actual feature is the subject of an <a href="https://github.com/sveltejs/rfcs/blob/master/text/0000-style-properties.md">RFC</a>.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>
<p>Maybe this is an example of <a href="https://prog21.dadgum.com/160.html">dangling by a trivial feature</a>. But it’s so basic a capability that I’m surprised Svelte is on version three without an officially blessed way to do it. I ran into this limitation when I created my <strong>second component</strong>. Way before I got to try out any of the cool reactivity that earns Svelte all that buzz.</p>
<p>So I changed my mind and went with React. After an hour or so, I’d finished moving everything over — and my anxiety had vanished. I stopped worrying about having most efficient component system, and picked up work on the thing I wanted to build in the first place.</p>
<p>No, React isn’t perfect. It’s optimized for apps that make network requests and then display lists of things (i.e. most apps) which isn’t really what I’m doing here<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. The performance is fine now, although I expect I’ll have to optimize as my project gets more complex.</p>
<p>But React lets me stop thinking about the framework. React gets out of my way. React is <a href="https://mcfunley.com/choose-boring-technology">boring</a>. React is actively developed. React has a giant ecosystem and a giant community. React is battle-tested on some of the most visited websites in the world.</p>
<p>I’m sure there are technically better ways to build a highly interactive interface on the web, but life is too short for me to spend hours trying to figure them out. There are things I want to create, and the only way I can actually create them is to stop spending so much time on tooling.</p>
<p>For now, I’m choosing React.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>The solution they seem to have landed on — letting the child expose CSS custom properties as props — is actually pretty cool, though I don’t like that Svelte will silently wrap your component with an extra <code>div</code>. <a href="#fnref:1" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Although Dan, if you read this, the <a href="https://twitter.com/dan_abramov/status/1133341485133438982">“animation pass” mode</a> you’ve mentioned offhandedly sounds very relevant! <a href="#fnref:2" role="doc-backlink">↩︎</a></p>
</li>
</ol>
</section></div></div>]]>
            </description>
            <link>https://jake.nyc/words/no-one-ever-got-fired-for-choosing-react/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25310462</guid>
            <pubDate>Sat, 05 Dec 2020 00:52:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sales numbers for my game and every piece of marketing I did]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25310457">thread link</a>) | @chr15m
<br/>
December 4, 2020 | https://chr15m.itch.io/asterogue/devlog/201756/sales-numbers-for-asterogue | <a href="https://web.archive.org/web/*/https://chr15m.itch.io/asterogue/devlog/201756/sales-numbers-for-asterogue">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper"><div id="inner_column"><div id="game_devlog_post_page_32093"><div><div><section><a href="https://img.itch.zone/aW1hZ2UvNzYwMDkxLzQ0ODg4MTMuZ2lm/original/2WhLWn.gif" target="_blank" data-image_lightbox=""><img src="https://img.itch.zone/aW1hZ2UvNzYwMDkxLzQ0ODg4MTMuZ2lm/x200/6pclNd.gif" data-image_id="4488813" height="200"></a><a href="https://img.itch.zone/aW1hZ2UvNzYwMDkxLzQ0OTMzNDguZ2lm/original/0NaSBi.gif" target="_blank" data-image_lightbox=""><img src="https://img.itch.zone/aW1hZ2UvNzYwMDkxLzQ0OTMzNDguZ2lm/x200/ZLnRgb.gif" data-image_id="4493348" height="200"></a><a href="https://img.itch.zone/aW1hZ2UvNzYwMDkxLzQ0ODg4MzUuZ2lm/original/tRRdDT.gif" target="_blank" data-image_lightbox=""><img src="https://img.itch.zone/aW1hZ2UvNzYwMDkxLzQ0ODg4MzUuZ2lm/x200/bwgJDH.gif" data-image_id="4488835" height="200"></a></section><section><p>Asterogue has been out for a little over a month now, so it’s a good time to reflect on the sales numbers of the game. Games generally have a short-lived sales cycle so I am not expecting a huge increase in sales after this.</p>
<p>I’m writing this up to help other indie developers calibrate their expectations. You often read about the success stories because people love to read that it’s possible to make it big with a hit game, but few people bother to write up mediocre outcomes, which is the outcome of <em>most</em> game development efforts. This is called “selection bias”.</p>
<p>You can find a list of all the marketing and promotion I did below, to give you an idea of what kind of an effect you can expect from a single person doing all coding and all promotion by themselves.</p>

<p>Let’s cut to the chase.</p>
<ul>
<li><code>30</code> copies of <a href="https://play.google.com/store/apps/details?id=cx.mccormick.asterogue" rel="nofollow noopener">Asterogue for Android</a> were sold netting <code>$89 USD</code>.</li>
<li><code>18</code> copies of <a href="https://chr15m.itch.io/asterogue">Asterogue for Windows</a> were sold netting <code>$132 USD</code></li>
</ul>
<p>Total sales = <code>$221 USD</code></p>
<p>The game got a couple of five star ratings on each platform. Interestingly, the average payment for the Windows version was around $6 which is double the suggested $3 (people were able to choose any amount higher than $3).</p>
<p>The main cost making the game was my own time. If I had been charging one of my freelance clients to make this game it would have cost around <code>$5k - $10k</code> over 1.5 months of part time development at my normal hourly rate. Incidentally if you’re interested in having a game like this made, <a href="mailto:chris@mccormick.cx" rel="nofollow noopener">hit me up</a>. :)</p>

<p>It’s interesting to look at the visits to the game’s pages on each platform, and the click-through-rate of people who visited the page and then went on the buy the game.</p>
<ul>
<li>The Windows page on Itch saw <code>1,937</code> views with a click-through purchase rate of just under 1%.</li>
<li>The Google Play store doesn’t give raw numbers but it says the conversion rate is about 1% too.</li>
</ul>
<p>There’s an implication here that if I could drive more traffic to these pages I could expect 1 out of every 100 visitors to buy the game.</p>

<p>Here’s a list of all the marketing and promotion I did while building the game:</p>
<ul>
<li><a href="https://twitter.com/mccrmx/status/1306223700199448577" rel="nofollow noopener">Kept a Twitter thread up to date with the latest changes</a> (about 1250 followers).</li>
<li><a href="https://forums.tigsource.com/index.php?topic=70875.0" rel="nofollow noopener">Posted devlogs to the TIGSource forum</a>.</li>
<li><a href="https://www.reddit.com/r/roguelikedev/search/?q=saturday%20sharing&amp;source=recent&amp;restrict_sr=1" rel="nofollow noopener">Participated in Saturday Sharing on /r/roguelikedev</a>.</li>
<li>I sent a couple of updates to my own email newsletter subscribers (there are 90 subscribers).</li>
<li>Some <a href="https://dev.to/chr15m" rel="nofollow noopener">dev.to posts</a>.</li>
</ul>
<p>Here is a list of everywhere I launched the game:</p>
<ul>
<li><a href="https://www.reddit.com/r/roguelikes/comments/jkt4ue/asterogue_released_today_sci_fi_pixel_graphics/" rel="nofollow noopener">Launched on /r/roguelikes</a></li>
<li><a href="https://mccormick.cx/news/entries/it-s-asterogue-launch-day" rel="nofollow noopener">On my own blog</a>.</li>
<li>Emailed the <a href="https://infinitelives.github.io/" rel="nofollow noopener">infinitelives mailing list</a>.</li>
<li>Emailed my own email newsletter subscribers.</li>
<li>Created a listing on <a href="http://roguebasin.roguelikedevelopment.org/index.php?title=Asterogue" rel="nofollow noopener">RogueBasin</a> and in the news section too.</li>
<li>Kenney.nl discord in #promotion</li>
<li>Roguelikes discord in #advertise-releases</li>
<li>On the local game dev discord in my city.</li>
<li>On the local web dev front-enders Slack chat in my city (the game is built with front-end web technology).</li>
</ul>
<p>After release I also wrote some blog posts here on the game’s Itch devlog and linked a couple of these to Hacker News. The post <a href="https://chr15m.itch.io/asterogue/devlog/190653/my-game-wont-sell-and-thats-ok">My game won’t sell and that’s ok</a> got 7k hits.</p>

<p>There are three main strategies I can think of to improve sales for this game and future games:</p>
<ul>
<li>Kaizen. Improving the game. Fixing issues people have flagged and making quality of life improvements from player feedback.</li>
<li>Keep making more games. Compound on the interest and marketing garnered by this game. This is the strategy of <a rel="nofollow noopener">Sokpop games</a> and when I did an analysis of their collective I realized they probably didn’t make a profit until game number 8.</li>
<li>Use a 3rd party company for promotion instead of doing it myself.</li>
</ul>

<p>I am going to allocate time in my schedule to improve Asterogue. I got some great feedback and I want to polish those rough edges and fix all the issues people have flagged.</p>
<p>I will almost certainly make more graphically rich roguelike games in the future, because it was so much fun to do so. Thank you very much to everybody who bought the game, I really appreciate it.</p>
<p>I think the key is to do this without great expectations, just try to make the best games possible, and have fun doing it.</p>
<p>If you want to hear about games and other stuff I make you can follow me <a href="https://twitter.com/mccrmx" rel="nofollow noopener">on Twitter @mccrmx</a> or <a href="https://mccormick.cx/" rel="nofollow noopener">subscribe to my newsletter at mccormick.cx</a>. Thanks for reading!</p>
</section><section><h2>Get Asterogue</h2></section></div></div></div></div></div></div>]]>
            </description>
            <link>https://chr15m.itch.io/asterogue/devlog/201756/sales-numbers-for-asterogue</link>
            <guid isPermaLink="false">hacker-news-small-sites-25310457</guid>
            <pubDate>Sat, 05 Dec 2020 00:51:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I accidentally built a spying app]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 43 (<a href="https://news.ycombinator.com/item?id=25310316">thread link</a>) | @akeck
<br/>
December 4, 2020 | https://withblue.ink/2020/09/24/that-time-i-accidentally-built-a-spying-app.html | <a href="https://web.archive.org/web/*/https://withblue.ink/2020/09/24/that-time-i-accidentally-built-a-spying-app.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>In the fall of 2007, my parents gave me an unforgettable gift for my sixteenth birthday: a first-generation iPhone.</p><p>I still clearly remember watching the keynote in which Steve Jobs announced the first Apple-branded phone a few months earlier. As a teenager attending high school in my hometown of Vicenza, Italy, I tuned into the livestream just before dinner, carefully listening to every word he said. That evening, Jobs started announcing a “widescreen iPod with touch controls”, a “revolutionary mobile phone” and a “breakthrough Internet communications device”–theatrically pausing before confessing that he was actually talking about one single device: the iPhone. Thousands of miles away from me, you could hear attendees exploding cheerfully through the live feed. Jobs went on demoing this amazing invention that, a decade later, would end up changing much more than the mobile phones market: it directly or indirectly impacted our society through mobile web, app stores, changing work-life balance, and social media.</p><p>October came, and so did the day I finally got my iPhone. I was really excited as I was the first one in my social circle with one. Every other teenager (and adult!) that saw my phone reacted in awe and with lots of curiosity. More than a few were also secretly envious, something I secretly did not mind. To add to the novelty, at the time the iPhone was only available for sale in the US.</p><p>To get an iPhone for me, my father had to ask a friend traveling to New York on a business trip to bring one back on the plane with her. That was not the end of it, however, as all phones were locked to the AT&amp;T network. In order for me to be able to use my iPhone in Italy, I had to unlock it.</p><p>That process required learning a variety of tools and techniques developed by hackers in the community, then documented in various blogs and forums. The first step was to <em>jailbreak</em> the phone, which gave you full access to the system and allowed you to run third-party apps. Then you’d have add one of those “hacking” apps to your phone, which patched the bootloader to remove the lock the US carrier had put on it. Despite sounding like a mouthful, the iPhone hacking community had worked hard on the User Experience (UX), making this entire process relatively easy for most people with basic tech skills.</p><hr><p>I really loved my shiny, new iPhone, and I was so excited about it that I was willing to accept many of its original limitations. It only supported slow 2G networks, didn’t have copy/paste, couldn’t transfer files via Bluetooth to my friends, and <a href="https://www.apple.com/hotnews/thoughts-on-flash/">famously</a> didn’t support Adobe Flash, which was ubiquitous on the web at the time.</p><p>However, there was one thing I really couldn’t stand: the Messages application could only store 1,000 texts (SMS).</p><p>That was 2007 — before the days of WhatsApp, Facebook Messenger, Telegram, etc. Instant messaging was something people did on their PCs only, with things like Windows Live Messenger (née MSN Messenger) or AIM.</p><p>For a high schooler like me, text messaging was the main way I kept in touch with my friends daily (<em>what was I supposed to do, call them?</em>). With my carrier giving me a whopping 100 free texts per day (seriously, we had to pay for them), between sent and received texts it would take less than a week to reach the storage limit of 1,000.</p><p>That’s when it all started.</p><p>Because my iPhone was already “hacked” (jailbroken), as a requirement for unlocking it and use it in Italy, I had full system access already. That allowed me to c extract any document I wanted, including my phone’s text message database.</p><p>It wasn’t even a month since I got my iPhone that I had already built a small “app” running on my laptop to archive my text messages forever. I would manually extract the SMS database from my iPhone, copy it to my laptop, then use a set of scripts written in PHP (the only programming language I knew at the time) to store the messages in a local database, and finally display them using a web-based interface.</p><p>This thing I put together worked just fine for me, but I immediately realized the “business potential” of what I had just created. Just like myself, I assumed many others had the same annoyance. I could have used what I learned to help them too, and maybe make some pocket change in the process. As a matter of fact, I did consider myself an enterprising teenager.</p><p>The idea had potential, and the “app” I built for myself already provided solid foundations, so I just needed to do a bit more work to turn it into a commercially-viable project.</p><p>The biggest challenge was making the solution more accessible to others, including those who were not particularly tech-savvy. That’s when I started learning about app development for iPhone.</p><p>Famously, Apple did not want the iPhone to support third-party apps at the beginning, saying developers should build web apps instead. That policy didn’t last long, and with the iPhone OS 2 update, launched in mid-2008, the official App Store came to life: the rest, as they say, is history.</p><p>However, the hacking community had already found a way to sideload apps and had even developed an “app store” called Cydia where you could find games, apps, and even mods to enhance the capabilities of the operating system itself. Cydia came preinstalled on every <em>jailbroken</em> iPhone, which meant potentially hundreds of thousands of people had access to it.</p><p>Everyone could build apps that would be published on Cydia, as long as you knew how to–something that was not remotely as easy to do as it is with today’s tools. As an enterprising teenager with quite a bit of free time on my hand during those winter afternoons and evenings, I took on that challenge.</p><hr><p>The first version of YouArchive.It came out in January 2008.</p><p>Today, you would describe YouArchive.It as a cloud service to store iPhone text messages. You could store all your messages in there, then read and search them using a web-based application.</p><p>There’s still a video left on YouTube showing the application in action (this was the third, and last, version):</p><p><iframe src="https://www.youtube-nocookie.com/embed/ps5ohEhO3S4" allowfullscreen="" title="YouTube Video"></iframe></p><p>With YouArchive.It came an iPhone application too. Published on the Cydia app store, it allowed importing messages into the “cloud service” directly from the phone.</p><p>YouArchive.It was free to use with a limit of 80,000 text messages. Because personal communications can be sensitive, all messages were stored encrypted. With a one-time payment of just €5 (about $6), you could become a VIP, remove any limit and enjoy unlimited storage.</p><p><img src="https://cdn-images-1.medium.com/max/2000/1*vTxYRljXFl3IBXGRsXOVag.png" alt="A screenshot of iTextUploader running on a first-generation iPhone"></p><figcaption>A screenshot of iTextUploader running on a first-generation iPhone</figcaption><p>For the next year and a half, YouArchive.It continued to grow organically. A few blogs and websites dedicated to iPhone “hacking” and to the underground app stores wrote about the app. Even a small radio program in the US featured it</p><p>I continued developing the app as a side project while in high school. I was also providing tech support and maintaining the infrastructure.</p><p>Listening to users' feedback, I would periodically add new features. YouArchive.It started displaying emojis as soon as the iPhone supported that (outside of Japan, it required downloading an app to enable them). Users asked for and got the ability to restore texts in another iPhone, before iCloud was available. I also implemented other privacy features such as requiring a password to open the mobile app.</p><blockquote><h3 id="what-i-didnt-realize-at-the-time-however-is-that-i-had-unknowingly-and-unwillingly-built-a-spying-tool-and-a-really-convenient-and-efficient-one">What I didn’t realize at the time, however, is that I had, unknowingly and unwillingly, built a spying tool, and a really convenient and efficient one.</h3></blockquote><p>Enough users were paying the fee to become VIP that I could cover the costs of running the service–this was before everyone was using Amazon Web Services or Microsoft Azure, so I was renting a co-located physical server which wasn’t cheap–and keep some pocket cash. Not much, but enough to pay for some hobbies and outings with friends.</p><p>Most importantly, building YouArchive.It gave me a lot of satisfaction and the opportunity to learn a lot of things about software development, business, dealing with customers and listening to their feedback.</p><hr><p>When I finally shut the service down, in June 2010, YouArchive.It had about 32,000 registered users who stored over 76 million messages.</p><p>The first, and stated, reason for the deprecation was a technical one: YouArchive.It’s iPhone app required using private APIs, which meant it could not be published on the App Store (and it still couldn’t to this day), limiting it to <em>jailbroken</em> phones only.</p><p>The second reason however was the most important to me, even though I have not revealed it until now.</p><p>About a year before the app closed, in April 2009 I implemented a new feature that was requested by many users: the ability to upload texts automatically, in background, without user intervention. For paying “VIP” users only, the mobile app could automatically send all new text messages to YouArchive.It, as often as every 15 minutes.</p><p>Automatic upload was an incredible convenience for many users that wanted to hoard their texts like me, to keep them forever, search within them, print or export them, or just liked having a backup.</p><p>What I didn’t realize at the time, however, is that I had, unknowingly and unwillingly, built a spying tool, and a really convenient and efficient one.</p><p>Thanks to background uploads, people could install the YouArchive.It app on another person’s iPhone, set it up, maybe even hide it (something possible on a <em>jailbroken</em> iPhone), and then watch as the text messages come in, almost real-time. Jealous partners, stalkers and the likes could install this tool on an unknowing victim’s phone with relative ease.</p><p>I can’t remember how I discovered that — it might have been a support request from a user or a post in a bulletin board. I also can’t know how many people were using YouArchive.It for their own archiving rather than to spy on others. Realizing what my users were doing, however, made me feel really uncomfortable and I did not want any part of that anymore.</p><p>As a senior in high school, barely eighteen years-old, I realized for the first time how technology can have a …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://withblue.ink/2020/09/24/that-time-i-accidentally-built-a-spying-app.html">https://withblue.ink/2020/09/24/that-time-i-accidentally-built-a-spying-app.html</a></em></p>]]>
            </description>
            <link>https://withblue.ink/2020/09/24/that-time-i-accidentally-built-a-spying-app.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25310316</guid>
            <pubDate>Sat, 05 Dec 2020 00:32:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Visual Browser History, from Netscape 4 to Mozilla Firefox]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25309817">thread link</a>) | @Lammy
<br/>
December 4, 2020 | http://www.andrewturnbull.net/mozilla/history.html | <a href="https://web.archive.org/web/*/http://www.andrewturnbull.net/mozilla/history.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The development and evolution of the Mozilla browser, from its Netscape-seeded beginnings through the Firefox releases of today, can be fascinating.  Numerous changes occurred to the software in terms of technology, features, and appearance; particularly when Mozilla and Mozilla Firefox were both in their infancy and many groundbreaking developments were made.  Much of this software was not widely seen or used when initially released, with its focus limited to enterprising testers and developers for several years.  Several releases however provided the basis for Netscape 6.x and 7.x releases that were oriented towards end users, which as an essential part of the context are also covered here.</p><p>Although I could have conceivably traced this chronology all the way back to <a href="http://www.andrewturnbull.net/nscape1.html">Netscape in 1994</a>,  I have chosen to limit my focus to the post-Netscape 4.x browser development that began from the time Netscape released its preliminary "5.0" source code on March 31, 1998 through the present day.  For consistency, I have also chosen to show the browsers running on Windows 95 (which was current at the time the original code was released) at the same screen size displaying the respective browser's "About" page when possible.</p><div>

<tbody><tr>
<td><img src="http://www.andrewturnbull.net/mozilla/ns404.png" alt="[Netscape Navigator 4.04 screenshot]"></td>
<td>As a point of reference, we'll begin our look back at the history of Mozilla with a screenshot of Netscape Navigator 4.04, which was current at the time when Netscape released most of the source code to its next browser release in development on March 31, 1998.</td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/ns50.png" alt="[Unofficial Netscape 5.0 screenshot]"></td>
<td>After the Netscape source code was released, some enterprising users attempted to compile it.  This is a screenshot of one such unofficial "Netscape 5.0" build, available for download <a href="ftp://sillydog.org/pub/misc/mozilla5.zip">here</a>.<p>
The user interface at this point was substantially the same as that of Netscape 4.x, although Netscape trademark references were changed to the codename "Mozilla" or removed altogether.</p><p>
The fire-breathing Mozilla lizard graphic used on this "About" screen was originally one of many <a href="http://home.snafu.de/tilman/mozilla/">mascot graphics</a> used on Netscape's website in 1994-95, and would reappear on Mozilla later on.</p><p>
Many features are non-functional, and this happens to be the buggiest piece of software I have ever used; with frequent error dialogues and crashes.  Given circumstances such as these, perhaps it's not surprising that later in 1998 the decision was made to practically rewrite the browser from scratch...</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/geckoprev.png" alt="[Netscape Gecko Preview screenshot]"></td>
<td>There is little detailed documentation of what "Netscape 5.0" development went on throughout 1998, and due to the circumstances of the time nearly all development work was limited to inside the walls of Netscape headquarters.  (A page was once created on MozillaZine containing screenshots from this era...and it <a href="http://www.mozillazine.org/alookback/">still exists</a>!)
<p>
In December 1998, however, Netscape did publicly release a developer preview based upon this development work and its new rendering engine, called NGLayout or "Gecko."  This preview was not intended as a traditional browser beta as much as a press demonstration of the new rendering technology.</p><p>
Curiously, this build produces the user agent string of "</p><tt>Mozilla/4.05 [en] (Win95; I)</tt>," leading me to wonder if Netscape created the preview by taking Navigator 4.05 and somehow grafting the new rendering engine into it.</td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m3.png" alt="[Mozilla Milestone 3 screenshot]"></td>
<td>In March 1999, the first "proper" next-generation Netscape browser preview was released under the moniker of "Milestone 3" (Milestones 1 and 2 were apparently limited to internal development).<p>
A new user interface with bluish-purple toolbar buttons was introduced, and due to the open-source nature of the program Netscape trademarks were again absent.</p><p>
Interestingly, the "throbber" graphic used on this build was the same blue "N" used as an interim logo on <a href="http://www.andrewturnbull.net/nscape1.html">Netscape Navigator</a> 0.96 and <a href="http://www.andrewturnbull.net/nscape1.html">1.0</a> back in 1994.</p><p>
Although this is usually considered the first proper "Mozilla" release, there are in fact no overt references to "Mozilla" on the browser:  The start page calls it "the Gecko Browser," while the Help menu instead references "Communicator Prototype."</p><p>
These early Mozilla milestones had quite a few bugs:  This particular release has many non-functional features, and the status bar runs off the bottom of the screen at low display resolutions; as seen here.</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m4.png" alt="[Mozilla Milestone 4 screenshot]"></td>
<td>Mozilla Milestone 4 introduced a number of developments and changes.<p>
The Netscape 1.0 throbber was replaced by a new Gecko-themed one, in which many words and phrases (including "search," "ecstatic," "together," "free," "hungry," "all for you," and "feel good") scrolled past in four directions as the browser retrieved information.</p><p>
The caption "Mozilla" was (temporarily) added to the title bar, a vestigial "Help" menu option was added, fewer links were placed on the Personal Toolbar by default, the purple-tinted Taskbar and status bar were now visible at low screen resolutions, and the sidebar—a characteristic feature of almost all subsequent Mozilla and Netscape releases—was enabled by default.</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m5.png" alt="[Mozilla Milestone 5 screenshot]"></td>
<td>The changes in Milestone 5 were again minor, with some extra 3D definition added to the top and left edges of the toolbars and the word "Mozilla" removed from the title bar yet again.<p>
The sidebar had been visually revamped, although it was still primarily non-functional.  The sidebar panel in this screenshot rather resembles a mock-up of AOL Instant Messenger, although Don Luchini tells me he thinks it was intended to be a Resource Description Framework-based navigator at one point.</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m8.png" alt="[Mozilla Milestone 8 screenshot]"></td>
<td>As already mentioned, these early Mozilla milestones were very buggy, and in fact I couldn't get M6 or M7 to run at all without freezing.  By the time Milestone 8 had been released to prospective testers in July 1999, most of the user interface had acquired a lavender tint, the toolbar icons were more widely spaced, and a "Translate" button had been added.<p>
The "Chat" button had been removed from the Taskbar, and text on the status bar now had 3D borders drawn around them.  Additionally, the browser no longer defaulted to an internal start page, the "Mozilla" caption reappeared on the title bar (this time for good), and the "QA" menu compiling frequently-used testing tools had made its first appearance.</p><p>
Interestingly, the Help menu still referenced the software as "Communicator Prototype" at this time.</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m9.png" alt="[Mozilla Milestone 9 screenshot]"></td>
<td>Branding had improved slightly in Mozilla Milestone 9, with the familiar "m" throbber now in position replacing the earlier Gecko one and the Help menu now making references to only "Communicator" proper.<p>
Given away by their purple tint and "grippy" control, custom-drawn menus first appeared in the Windows and (presumably) Linux versions at this point.</p><p>
Some buttons and controls had also been changed:  The "Translate" button was removed, the 3D borders on the status bar were again omitted, the component icons moved from the right side to the left side of the Taskbar, and other elements on the Taskbar were now limited to three menus titled "Mozilla," "Shopping," and "Open Windows."</p><p>
Milestone 10 (which I was unable to run due to a crash error) is similar.</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m11.png" alt="[Mozilla Milestone 11 screenshot]"></td>
<td>The visual changes that came to Mozilla with Milestone 11 were dramatic, at the very least.
A totally new teal and blue look with stylized round toolbar buttons was adopted, throwing normal OS-native interface conventions into the blender.  It matched Netscape's web page layout of the time, though.<p>
The sidebar was streamlined, the separate executable used to run the program was retitled from "apprunner" to "mozilla," an "About" screen (seen here) was now implemented, a "Search" button was added to the location field, and the "Shopping" menu on the Taskbar was (wisely, IMO) omitted.  The Personal Toolbar was reduced to a sliver above the main toolbar, and also duplicated the Bookmarks menu.</p><p>
By this point, virtually all remaining references to "Communicator 5.0" in the browser or directory structure had been removed.</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m12.png" alt="[Mozilla Milestone 12 screenshot]"></td>
<td>Minor changes continued to work their way into the software in M12, with the "My Netscape" option removed from the Personal Toolbar and a custom-drawn scrollbar replacing the lingering OS-native element.</td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m13.png" alt="[Mozilla Milestone 13 screenshot]"></td>
<td>Mozilla Milestone 13 was released in January 2000 and looked almost identical to the previous release.
The Personal Toolbar and Taskbar captions were increased ever so slightly in size, and the "What's Related" sidebar panel was closed by default when first running the program:  Changes clearly on the hair-splitting side.<p>
In terms of packaging, however, Milestone 13 introduced an option of an installer to Windows and Macintosh users.  The installer screens and resulting Start Menu item (in Windows) are captioned "Mozilla Seamonkey," with "Seamonkey" being the codename for the application.</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/moz-m14.png" alt="[Mozilla Milestone 14 screenshot]"></td>
<td>More significant changes made their way into Mozilla M14.<p>
The cryptic text-line application runner had been removed (or at very least, rendered invisible).  The software "About" screen was redesigned and now included the famous mozilla.org star logo and user agent string (though the wrong milestone number was denoted in it!).</p><p>
There were some minor visual tweaks as well:  The drop-arrow was removed from the location field and the "Search" button moved from inside to outside it.</p><p>
<img src="http://www.andrewturnbull.net/mozilla/mozicon14.png" alt="[Mozilla Milestone 14 application icon]">
Furthermore, the first Mozilla application icon was added (seen at right), and the old fire-breathing Mozilla lizard graphic from circa 1994 was brought back as an <a href="http://www.andrewturnbull.net/mozilla/mozilla-splashold.png">application splash screen</a> retained through Mozilla 1.2.1 in 2002.
</p></td>
</tr>

<tr>
<td><img src="http://www.andrewturnbull.net/mozilla/ns6pr1.png" alt="[Netscape 6.0 Preview Release 1 screenshot]"></td>
<td>The first preview release, or formal beta, for Netscape 6.0 was released in April 2000, and with the exception of the Gecko developer preview from late 1998 this was the first Netscape-branded release since the groundbreaking of post-4.x browser development.<p>
This presented an interesting circumstance, as the previous Mozilla-branded milestones already effectively served as betas for Netscape 6.0.  This nevertheless was the first release to get extensive media attention and it introduced a number of proprietary features and other differences not in Mozilla M14; upon which it was based.</p><p>
<img src="http://www.andrewturnbull.net/mozilla/ns6icon.png" alt="[Netscape 6.0 application icon]">
Aside from the obvious presence of the Netscape …</p></td></tr></tbody></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.andrewturnbull.net/mozilla/history.html">http://www.andrewturnbull.net/mozilla/history.html</a></em></p>]]>
            </description>
            <link>http://www.andrewturnbull.net/mozilla/history.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25309817</guid>
            <pubDate>Fri, 04 Dec 2020 23:41:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Technologies That’ll Make Your Life Easier]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25309585">thread link</a>) | @dataguy12
<br/>
December 4, 2020 | https://www.theseattledataguy.com/5-aws-technologies-thatll-make-your-life-easier/#page-content | <a href="https://web.archive.org/web/*/https://www.theseattledataguy.com/5-aws-technologies-thatll-make-your-life-easier/#page-content">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.theseattledataguy.com/5-aws-technologies-thatll-make-your-life-easier/#page-content</link>
            <guid isPermaLink="false">hacker-news-small-sites-25309585</guid>
            <pubDate>Fri, 04 Dec 2020 23:13:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Down Here, They Sometimes Call It 'Boy']]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 43 (<a href="https://news.ycombinator.com/item?id=25308101">thread link</a>) | @pelt
<br/>
December 4, 2020 | https://www.realclearbooks.com/articles/2020/11/17/down_here_they_sometimes_call_it_boy_585675.html | <a href="https://web.archive.org/web/*/https://www.realclearbooks.com/articles/2020/11/17/down_here_they_sometimes_call_it_boy_585675.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

                            

                                                        <!-- sphereit start -->
                            <!-- startprint -->

                            <!-- end article source sponsored -->

                                                                                                                                                                                                                                                                                                    
                                                                                        
                            
                            
                            
                            
                                
                                
                                                                                        
                                                            <div>
<p><a href="https://www.amazon.com/stores/page/60E52DB6-B5F7-48D8-8FC5-73A5CE8F8AF4"> <img src="https://assets.realclear.com/images/52/527328_5_.jpg"> </a></p>

<p>Regnery Publishing</p>


</div>
<p><em>The following is an excerpt from "<a href="https://www.amazon.com/stores/page/60E52DB6-B5F7-48D8-8FC5-73A5CE8F8AF4">Big White Ghetto: Dead Broke, Stone-Cold Stupid, and High on Rage in the Dank Woolly Wilds of the "Real America"</a>" by Kevin D. Williamson.</em></p>
<p>"Dogfood—yeah, <em>d</em><em>o</em><em>g</em><em>f</em><em>o</em><em>o</em><em>d</em>—because it looks like ground-up dog food.” He’s embarrassed to be talking about this. “Or sand, because it’s brown. Or diesel. Or killa or 9-1-1. That’s the influence of rap culture down here.” He is a young, clean-cut, Eagle Scout–ish white kid, hesitant about using the words “rap culture,” like he’s not sure if he’s allowed to say that. But he goes on, matter-of-factly. He’s been off heroin for only a few months, so the details are fresh in his mind, even if he remains a little hazy on parts of his autobiographical timeline. “The 9-1-1, they call it that because they want you to know it’s potent, that you’ll have to go to the emergency room.”</p>
<p>That’s a weird and perverse and nasty kind of advertising, but then dope-buying psychology isn’t very much like Volvo-buying psychology: Crashing is just another part of the ride. One spiteful dealer boasts about spiking his product with excessive amounts of fentanyl—a pharmaceutical analgesic used for burn victims and cancer patients—his plan being to intentionally send overdosed users to the hospital or the morgue . . . for <em>m</em><em>a</em><em>r</em><em>k</em><em>e</em><em>t</em><em>i</em><em>n</em><em>g</em> <em>p</em><em>u</em><em>r</em><em>p</em><em>os</em><em>e</em><em>s</em>. Once the word got out about the hideous strength of his product, that killa went right out the door ricky-tick.</p>
<p>The young man explaining the current vocabulary of opiate addiction in Birmingham is barely old enough to buy a beer, and his face and voice are soft. He describes the past several years of his life: “dope-sick and stealing,” going from job to job—eight jobs in six months—robbing his employers of everything not physically nailed to the floor, alienating his family, descending. He was an addict on a mission: “You’re always chasing that first shot of dope, that first high—and the first one for me almost killed me. I was seventeen or eighteen years old, and I met a guy who had just got out of prison, doing a thirteen-year sentence for heroin possession and distribution. He was staying at the Oak Mountain Lodge, which is a nice little classic place.” (In 2013, four police officers and a drug dog had to be treated for exposure to dangerous chemicals after raiding a suspected meth lab in that hotel; the customer reviews online are decidedly mixed.) “I was <em>snorting </em>heroin when I met up with him, and set him up with my connect. He offered to shoot me up, and I wanted to do it. And I remember him looking me in the eyes and telling me, ‘If you do this, you’ll never stop, and you’ll never go back.’ And I said, ‘Let’s do it.’”</p>
<p>He doesn’t know what happened for the next several hours. When he regained consciousness, his junkie buddy’s girlfriend was worriedly ministering to him.</p>
<p>“That was first thing in the morning,” he says. “That night, I did another one.”</p>
<p>Same results. “I’d nodded out from snorting it, but there’s nothing like shooting it.”</p>
<p>He was, he says, a “pretty good junkie” for a time.</p>
<p>This particular opiate odyssey starts off in a Walgreens, something that turns out to be absolutely appropriate. I’m headed up the south coast and then inland on the heroin highway up to Atlanta, starting from the Port of Houston, which connects that city with 1,053 ports in nearly 200 countries and which in December alone welcomed the equivalent of 63,658 20-foot cargo containers of goods into the United States. There was, the feds are pretty sure, some dope squirreled away in there. In fact, all sorts of interesting stuff comes in and out of Houston. In May, U.S. Customs seized a Fast Attack Vehicle with gun mounts headed to the Netherlands. It hadn’t been ordered by the Dutch military. (Organized crime in the Netherlands is bananas: A raid in the summer of 2020 found Dutch police opening up a shipping container expecting to find it loaded with narcotics or stolen goods, but what they found instead was a dentist’s chair bolted to the floor and handcuffs hanging overhead—it was set up as a mobile torture chamber, God knows why.) I’m at Walgreens because I’ve got a long drive ahead and I’m going to be out of pocket for a bit, and I have a prescription to fill: an honest-to-goodness Schedule II Controlled Substance, in the official nomenclature, a term that covers some pretty interesting stuff, including the oxycodone and fentanyl I’ll be hearing so much about in the next few days. Some of us are going to heaven, some of us are going to hell, but all of us have to stop at Walgreens first.</p>
<p>The clerk is on the phone with a doctor’s office: “What’s your DEA number?”</p>
<p>For working-class white guys who haven’t found their way into the good jobs in the energy economy or the related manufacturing and construction booms that have reverberated throughout the oil patch, who aren’t college-bound or in possession of the skills to pay the bills, things aren’t looking so great: While much of the rest of the world gets healthier and longer-lived, the average life expectancy for white American men without college educations is declining. Angus Deaton, the Princeton economist who won the Nobel Prize in 2015, ran the numbers and found (in a study co-authored by his Princeton colleague Anne Case) that what’s killing what used to be the white working class isn’t diabetes or heart disease or the consumption of fatty foods and Big Gulps that so terrifies Michael Bloomberg, but alcohol-induced liver failure, along with overdoses of opioid prescription painkillers and heroin: Wild Turkey and hillbilly heroin, and regular old heroin, too, the use of which has increased dramatically in recent years as medical and law-enforcement authorities crack down on the wanton overprescription of oxy and related painkillers.</p>
<p>Which is to say: While we were <em>ignoring </em>criminally negligent painkiller prescriptions, we helped create a gigantic population of opioid addicts, and then, when we started paying attention, the first thing we did was take away the legal (and quasi-legal) stuff produced to exacting clinical standards by Purdue Pharma (maker of OxyContin) and others. So: lots of opiate addicts, fewer prescription opiates.</p>
<p>What was left was diesel, sand—<em>d</em><em>o</em><em>g</em><em>f</em><em>o</em><em>o</em><em>d</em>.</p>
<p>The clerks at this Walgreens are super friendly, but the place is set up security-wise like a bank, and that’s to be expected. This particular location was knocked over by a young white man with a gun the summer before last, an addict who had been seen earlier lurking around the CVS down the road. This is how you know you’re a pretty good junkie: The robber walked in and pointed his automatic at the clerk and demanded oxy first, then a bottle of Tusinex cough syrup, and then, almost as an afterthought, the $90 in the till. Walgreens gets robbed a lot: In January, armed men stormed the Walgreens in Edina, Minnesota, and stole $8,000 worth of drugs, mainly oxy. In October, a sneaky young white kid in an Iowa State sweatshirt made off with more than $100,000 worth of drugs—again, mainly oxy and related opioid painkillers, from a Walgreens in St. Petersburg, Florida. Other Walgreens locations—in Liberty, Kansas; East Bradford, Pennsylvania; Elk Grove, California; Kaysville, Utah; Virginia Beach; New Orleans—all have been hit by armed robbers or sneak thieves over the past year or so, and there have been many more oxy thefts.</p>
<p>It won’t make the terrified clerks feel any better, but there’s poetic justice in that: In 2013, Walgreens paid the second-largest fine ever imposed under the Controlled Substances Act for being so loosey-goosey in handling oxy at its distribution center in Jupiter, Florida, that it enabled untold quantities of the stuff to reach the black market. The typical pharmacy sells 73,000 oxycodone pills a year; six Walgreens in Florida were going through more than 1 million pills a year—each. A few years before that, Purdue was fined $634.5 million for misleading the public about the addictiveness of oxycodone. Kentucky, which has been absolutely ravaged by opiate addiction, is still pursuing litigation against Purdue, and it has threatened to take its case all the way to the Supreme Court, if it comes to that.</p>
<p>Ground Zero in the opiate epidemic isn’t some exotic Taliban-managed poppy field or some cartel boss’s fortified compound: It’s right there at Walgreens, in the middle of every city and town in the country.</p>
<p>I pick up my prescription and get on my way.</p>
<p>The next afternoon, having driven past billboards advertising boudin and strip joints with early-bird lunch specials and casino after casino after sad little casino; help-wanted signs for drilling-fluid businesses and the Tiger Truck Stop (which has a twenty-four-hour Cajun café and an actual no-kidding <em>live tiger </em>in a cage out front); past Whiskey Bay and Contraband Bayou, where the pirate Jean Lafitte once stashed his booty; around the Port of New Orleans, another <em>entrepôt </em>for heroin and cocaine—it is almost as close to Cartagena as it is to New York—I arrive at a reasonably infamous New Orleans drug corner, where I inquire as discreetly as I can about the availability of prescription …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.realclearbooks.com/articles/2020/11/17/down_here_they_sometimes_call_it_boy_585675.html">https://www.realclearbooks.com/articles/2020/11/17/down_here_they_sometimes_call_it_boy_585675.html</a></em></p>]]>
            </description>
            <link>https://www.realclearbooks.com/articles/2020/11/17/down_here_they_sometimes_call_it_boy_585675.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25308101</guid>
            <pubDate>Fri, 04 Dec 2020 21:15:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using the builder pattern to define test scenarios]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25308079">thread link</a>) | @todsacerdoti
<br/>
December 4, 2020 | https://jmmv.dev/2020/12/builder-pattern-for-tests.html | <a href="https://web.archive.org/web/*/https://jmmv.dev/2020/12/builder-pattern-for-tests.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
              
              <article><p>I’ve been playing with the builder patter to express test scenarios in a succinct and declarative manner. I’ve liked the outcome and feel that this design can yield to pretty good test code, so I’ll dig through this idea here. Note that, while this post and the associated code talk about Rust, <strong>the ideas presented here apply to any language</strong>. So don’t leave just because I said Rust!</p>
<hr>
<p>While Rust provides excellent facilities to execute unit and integration tests via <code>cargo test</code>, the APIs to write such tests are… extremely limited. In essence, we can tag tests functions with <code>#[test]</code> and we can then use the <code>assert*</code> family of macros plus <code>unwrap()/expect()</code> calls to validate values. But that’s about it. No fixtures. No <a href="https://junit.org/junit5/">JUnit-like advanced features</a>. No <a href="https://truth.dev/">Truth-like expressive assertions</a>. No nothing.</p>
<p>These limitations, and in particular the lack of fixtures, can lead to convoluted test code. The fact is that some tests, even if they are true unit tests, require quite a bit of boilerplate: prepare fake objects with golden values, inject those into the code under test, and validate results. If we want to adhere to the principle of making each individual test case (aka each <code>#[test]</code> function) focus on a single behavior, we find ourselves with a lot of code duplication. Code duplication blurs the essence behind each test, which then makes tests harder to maintain—and hard to maintain tests is something you <em>really</em> do not want in a codebase.</p>
<p>To mitigate these limitations and keep the content of test functions focused on behavior, I’ve found myself writing helpers of the form <code>do_ok_test_for_blah()</code>. These helpers wrap the <code>blah()</code> under test and abstract away all of the uninteresting setup/teardown noise, customizing these based on input parameters.</p>
<p>The problem is that functions like <code>do_ok_test_for_blah()</code> quickly become complex. As you add more test cases, the amount of parameters to pass to these functions grows too, and the tests that used to be succinct aren’t any more. To compensate, you might add extra functions like <code>do_ok_test_for_blah_with_bleh()</code> that provide even further wrapping… but then you end up with a real mess that goes counter the original goal of simplifying the test code. Mind you, a lot of the older tests in EndBASIC suffer from this problem and it’s a pain to touch them, so I had to find a solution.</p>
<p>Of course, there are crates out there to provide extra testing facilities for Rust. But how far can we get with the simple Rust primitives? Pretty far actually.</p>
<blockquote>
<p>What if we used the builder pattern to define the test scenario with required and optional properties, set expectations in a declarative manner, and then hid the test logic within it?</p>
</blockquote>
<p>The idea is to define a <em>type</em> (or <code>struct</code>, or <code>class</code>, or whatever your language of choice offers to encapsulate data) that holds all details needed to set up a test and also carries the expectations of the test. The type requires the minimum amount of parameters to run a “null” test scenario, and allows passing all other parameters in an optional manner. Lastly, a single <code>run()</code>-like function takes care of preparing the test scenario and running through it.</p>
<hr>
<p>Let’s illustrate all these words with a trivial example.</p>
<p>Consider a simple and non-generic <code>sum_all</code> function that takes an array of <code>i32</code> values and sums them all:</p>
<div>
  
  
  <div><pre><code data-lang="rust"><span>#[cfg(test)]</span><span> </span><span>mod</span> <span>tests</span><span>;</span><span>
</span><span>
</span><span></span><span>/// Sums all input `values` and returns the total.
</span><span></span><span>pub</span><span> </span><span>fn</span> <span>sum_all</span><span>(</span><span>values</span>: <span>&amp;</span><span>[</span><span>i32</span><span>])</span><span> </span>-&gt; <span>i32</span> <span>{</span><span>
</span><span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>result</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><span>
</span><span>    </span><span>for</span><span> </span><span>v</span><span> </span><span>in</span><span> </span><span>values</span><span> </span><span>{</span><span>
</span><span>        </span><span>result</span><span> </span><span>+=</span><span> </span><span>v</span><span>;</span><span>
</span><span>    </span><span>}</span><span>
</span><span>    </span><span>result</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div>
  
  </div>

<p>Yes, this is a simplistic function that can be trivially tested: using the builder pattern here is overkill, but hopefully you get the idea of how this helps verify more complex interfaces.</p>
<p>To test this function, we define a <code>SumAllTest</code> type to represent the builder pattern, with these properties:</p>
<ul>
<li>Given that <code>sum_all()</code> always returns a value, the test must always know what value to expect; therefore, we express this requirement as part of the type’s constructor.</li>
<li>The data to pass to the function is variable, though, so we make it optional via an <code>add_value()</code> method. I’ve chosen to use an accumulator method here to further illustrate how a builder might be helpful.</li>
<li>We define a <code>run()</code> method that <em>consumes the builder</em> and executes the test.</li>
</ul>
<p>Our test code looks like this:</p>
<div>
  
  
  <div><pre><code data-lang="rust"><span>#![deny(warnings)]</span><span>
</span><span>
</span><span></span><span>use</span><span> </span><span>crate</span>::<span>*</span><span>;</span><span>
</span><span>
</span><span></span><span>/// Builder pattern for tests that validate `sum_all`.
</span><span></span><span>#[must_use]</span><span>
</span><span></span><span>struct</span> <span>SumAllTest</span><span> </span><span>{</span><span>
</span><span>    </span><span>expected</span>: <span>i32</span><span>,</span><span>
</span><span>    </span><span>values</span>: <span>Vec</span><span>&lt;</span><span>i32</span><span>&gt;</span><span>,</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>impl</span><span> </span><span>SumAllTest</span><span> </span><span>{</span><span>
</span><span>    </span><span>/// Creates the test scenario and initializes it with the result we expect.
</span><span></span><span>    </span><span>fn</span> <span>expect</span><span>(</span><span>value</span>: <span>i32</span><span>)</span><span> </span>-&gt; <span>Self</span><span> </span><span>{</span><span>
</span><span>        </span><span>Self</span><span> </span><span>{</span><span> </span><span>expected</span>: <span>value</span><span>,</span><span> </span><span>values</span>: <span>vec</span><span>!</span><span>()</span><span> </span><span>}</span><span>
</span><span>    </span><span>}</span><span>
</span><span>
</span><span>    </span><span>/// Registers a value to pass to `sum_all` as an input.
</span><span></span><span>    </span><span>fn</span> <span>add_value</span><span>(</span><span>mut</span><span> </span><span>self</span><span>,</span><span> </span><span>value</span>: <span>i32</span><span>)</span><span> </span>-&gt; <span>Self</span><span> </span><span>{</span><span>
</span><span>        </span><span>self</span><span>.</span><span>values</span><span>.</span><span>push</span><span>(</span><span>value</span><span>);</span><span>
</span><span>        </span><span>self</span><span>
</span><span>    </span><span>}</span><span>
</span><span>
</span><span>    </span><span>/// Runs `sum_all` with all recorded values and checks the result.
</span><span></span><span>    </span><span>fn</span> <span>run</span><span>(</span><span>self</span><span>)</span><span> </span><span>{</span><span>
</span><span>        </span><span>let</span><span> </span><span>actual</span><span> </span><span>=</span><span> </span><span>sum_all</span><span>(</span><span>&amp;</span><span>self</span><span>.</span><span>values</span><span>);</span><span>
</span><span>        </span><span>assert_eq</span><span>!</span><span>(</span><span>self</span><span>.</span><span>expected</span><span>,</span><span> </span><span>actual</span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>#[test]</span><span>
</span><span></span><span>fn</span> <span>test_sum_all_with_no_values</span><span>()</span><span> </span><span>{</span><span>
</span><span>    </span><span>SumAllTest</span>::<span>expect</span><span>(</span><span>0</span><span>).</span><span>run</span><span>();</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>#[test]</span><span>
</span><span></span><span>fn</span> <span>test_sum_all_with_one_value</span><span>()</span><span> </span><span>{</span><span>
</span><span>    </span><span>SumAllTest</span>::<span>expect</span><span>(</span><span>5</span><span>).</span><span>add_value</span><span>(</span><span>5</span><span>).</span><span>run</span><span>();</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>#[test]</span><span>
</span><span></span><span>fn</span> <span>test_sum_all_with_many_values</span><span>()</span><span> </span><span>{</span><span>
</span><span>    </span><span>SumAllTest</span>::<span>expect</span><span>(</span><span>8</span><span>).</span><span>add_value</span><span>(</span><span>3</span><span>).</span><span>add_value</span><span>(</span><span>4</span><span>).</span><span>add_value</span><span>(</span><span>1</span><span>).</span><span>run</span><span>();</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div>
  
  </div>

<p>The beauty of this design is that each test case is now declarative. The test case expresses, <em>in code</em>, what the test scenario looks like and what the expectations are. And given the simplicity of the calls, we can trivially express each scenario in its own test case. When we run the tests, we get what we expect:</p>
<div><pre><code data-lang="text">running 3 tests
test tests::test_sum_all_many_values ... ok
test tests::test_sum_all_no_values ... ok
test tests::test_sum_all_one_value ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre></div><p>Great!</p>
<p>But before we go, there is <em>one key detail</em> I glanced over. This detail is critical to ensure that your tests always do the right thing:</p>
<p><strong>IMPORTANT: The test builder has to be annotated with <code>#[must_use]</code>.</strong> You may want also want to accompany that with the optional <code>#[deny(warnings)]</code>.</p>
<p>You see: given the above design, it’s all too easy to forget to call <code>run()</code> on the test builder—and if you forget to do that, the test will do nothing and will always pass. That’s too risky for test code. Fortunately, by using the <code>#[must_use]</code> annotation on the builder type, the compiler will catch such problems.</p>
<p>To witness: if we remove the <code>run()</code> call from any of the tests above and try to build:</p>
<div><pre><code data-lang="text">error: unused `SumAllTest` that must be used
  --&gt; src/tests.rs:33:5
   |
33 |     SumAllTest::expect(0);
   |     ^^^^^^^^^^^^^^^^^^^^^^
   |
</code></pre></div><p>Rust fails the build and tells us that we forgot to consume the builder object. There is no way we can forget to call <code>run()</code> once we have initialized a <code>SumAllTest</code> object, so the test code will always be exercised.</p>
<hr>
<p>What do you think? Interesting? Problematic?</p>
<p>For a more realistic example, check out <a href="https://github.com/jmmv/endbasic/blob/bd15aa4f2ff44c7491e5890976725ddae465d5d6/core/src/console.rs#L703">EndBASIC <code>read_line</code>’s own tests</a>.</p></article>
            </div>
          </div><div>
            <div>
              <p><b>Want more posts like this one? Take a moment to subscribe!</b></p>
            </div>
            <div>
              
              <p>
                  <a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv">
                    <img src="https://jmmv.dev/images/badges/Twitter_logo_blue_32.png" alt="Follow @jmmv on Twitter">
                  </a>
                </p>
              <p><a href="https://jmmv.dev/feed.xml"><img src="https://jmmv.dev/images/badges/feed-icon-28x28.png" alt="RSS feed"></a></p>
            </div>
          </div><div>
            <div>
              <p><b>Enjoyed this article? Spread the word or join the ongoing discussion!</b></p>
            </div>
            
          </div></div>]]>
            </description>
            <link>https://jmmv.dev/2020/12/builder-pattern-for-tests.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25308079</guid>
            <pubDate>Fri, 04 Dec 2020 21:14:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PHP8, from a Security Point of View]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25308078">thread link</a>) | @todsacerdoti
<br/>
December 4, 2020 | https://dustri.org/b/php8-from-a-security-point-of-view.html | <a href="https://web.archive.org/web/*/https://dustri.org/b/php8-from-a-security-point-of-view.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<section id="content">
  <article>
    <header>
      
    </header>
    <div>
      <p>PHP8 was <a href="https://www.php.net/releases/8.0/en.php">released</a> on the
26<sup>th</sup> of November 2020. It brought a lot of interesting things,
security-wise, but also showcases a couple of (minor) missed opportunities in my
opinion.</p>
<h2 id="type-safety"><a href="#type-safety">Type safety</a></h2>
<p>I'm a big fan on relying on typing to ensure security properties,
like <a href="https://web.dev/trusted-types/">Trusted types</a> in javascript: it
shouldn't compile if it's not secure.</p>
<p>PHP8 won't try to cast string into numbers anymore, thanks to the 
<a href="https://wiki.php.net/rfc/string_to_number_comparison">Saner string to number comparisons RFC</a>,
meaning that collision with hashes starting with <code>0e</code> and the likes are finally
a thing of the past! This is a subset of Snuffleupagus' <a href="https://snuffleupagus.readthedocs.io/features.html#preventing-sloppy-comparisons">sloppy comparison
prevention</a> feature.</p>
<p>The <a href="https://wiki.php.net/rfc/consistent_type_errors">Consistent type errors for internal functions RFC</a>
will prevent things like <code>0 == strcmp($_GET['username'], $password)</code> bypasses,
since <code>strcmp</code> won't return <code>null</code> and spit a warning any longer,
but will throw a proper exception instead. This was also a <a href="https://externals.io/message/106522">nice opportunity</a>
for PHP to add annotations for functions parameters and return types.</p>
<p>The <a href="https://wiki.php.net/rfc/arithmetic_operator_type_checks">Stricter type checks for arithmetic/bitwise operators</a>
and <a href="https://wiki.php.net/rfc/engine_warnings">PHP RFC: Reclassifying engine warnings</a> RFC
are in the same spirit.</p>
<h2 id="jit"><a href="#jit">JIT</a></h2>
<p>PHP8 comes with a <a href="https://wiki.php.net/rfc/jit">JIT</a> based on
<a href="https://luajit.org/dynasm.html">DynASM</a>, bringing an RWX memory space into
PHP's memory space, into a shared allocation, meaning that its offset won't
change between different PHP8+ processes.</p>
<p>Moreover, DynASM isn't designed with processing/compilation/execution of
untrusted code in mind, and doesn't do things like constants blinding and
advanced folding to mitigate against spraying, nor random padding/nop
insertion, nor ensuring that the memory region is never both writeable <em>and</em>
executable to prevent direct code injection. This means that it's now way
easier to gain native code execution when exploiting memory corruptions,
albeit to be fair, most attackers are happy with a php code execution,
and won't push further.</p>
<p>Having a JIT comes with a lot of code complexity and maintenance burden. I'll
be without doubt a <a href="https://bugs.php.net/search.php?cmd=display&amp;order_by=ts1&amp;direction=DESC&amp;limit=30&amp;package_name[]=JIT">great source of
bugs</a>,
for a minor speed improvement on real-life workloads.</p>
<h2 id="cryptography"><a href="#cryptography">Cryptography</a></h2>
<ul>
<li><code>password_hash</code> now automatically generates a salt, accepting a
    user-provided one is deprecated.</li>
<li><code>crypt</code> will now fail instead of silently falling back to
    <a href="https://en.wikipedia.org/wiki/Crypt_(C)#Traditional_DES-based_scheme">DES</a>
    when an unknown salt format was provided. The parameter is also made
    mandatory, hashing without a salt is now unsupported.</li>
<li><a href="https://tools.ietf.org/html/rfc5652">RFC 5652</a> is now exposed via the OpenSSL extension.</li>
</ul>
<h2 id="misc"><a href="#misc">Misc</a></h2>
<ul>
<li>The <a href="https://www.php.net/manual/en/language.operators.errorcontrol.php">error control operator</a>, aka <code>@</code>
    won't silence fatal errors anymore, meaning that poorly written webshells will have more chances
    to leave traces in your logs.</li>
<li><code>libxml_disable_entity_loader</code> is now deprecated, even if it's not (yet) reflected in php's documentation.
    This is acceptable since PHP8 now requires at least libxml 2.9.0,
    which comes with external entity loading disabled by default.</li>
<li>Access to undefined constants will throw an error, instead of being silently
  interpreted as a string, no more <code>SALT</code> being silently converted to <code>"SALT"</code>.</li>
<li><code>create_function</code> was <a href="https://github.com/php/php-src/commit/ee16d99504f0014c3d292809da927fb622293f41">removed</a>, closing its infamous code injection vector.</li>
<li><code>array_key_exists</code> throws when passed an array/object, instead of silently
  doing nonsense.</li>
<li>The <code>e</code> modifier in <code>mb_ereg_replace</code> has been removed.</li>
<li>Metadata associated with a phar will
  <a href="https://wiki.php.net/rfc/phar_stop_autoloading_metadata">no longer be unserialized</a>,
    killing a low-hanging
    <a href="https://github.com/s-n-t/presentations/blob/master/us-18-Thomas-It's-A-PHP-Unserialization-Vulnerability-Jim-But-Not-As-We-Know-It.pdf">RCE vector</a>.</li>
<li><code>FILTER_SANITIZE_MAGIC_QUOTES</code>, <code>get_magic_quotes_gpc</code> and <code>get_magic_quotes_runtime</code> have been removed,
  people will now have to do proper sanitization instead.</li>
<li>As usual, a couple of memory safety issues were fixed,
    <a href="https://bugs.php.net/bug.php?id=80242">some</a>
    <a href="https://bugs.php.net/bug.php?id=76618">exploitable</a>.</li>
</ul>
<h2 id="missed-opportunities"><a href="#missed-opportunities">Missed opportunities</a></h2>
<p><a href="https://wiki.php.net/rfc/engine_warnings#undefined_variable">Undefined
variables</a>, as
opposed to cinstants, are still not an error, meaning that things like <code>solt</code>
instead of <code>salt</code> might (and will) go unnoticed.</p>
<p>Converting an <code>Array</code> to a string will only yield a <code>Warning</code> instead of an
error, albeit that now that <code>__toString</code> <a href="https://wiki.php.net/rfc/tostring_exceptions">can <em>finally</em>
throw</a>, it might hopefully change
in the near future.</p>
<p>Albeit significant <a href="https://wiki.php.net/rfc/easy_userland_csprng">CSPRNG</a>
<a href="https://wiki.php.net/rfc/random-function-exceptions">improvements</a> have been
merged in PHP7, PHP8 didn't seize the opportunity to keep the momentum and to
aliases <code>rand</code> and <code>mt_rand</code> to <code>random_int</code>, like
<a href="https://snuffleupagus.readthedocs.io/features.html#weak-prng-via-rand-mt-rand">Snuffleupagus</a> is doing.</p>
<p>An other missed opportunity in my opinion is that there is <a href="https://bugs.php.net/bug.php?id=50715">still no
way</a> to disable some <a href="https://www.php.net/manual/en/wrappers.php">PHP's wrappers</a>, except via
<a href="https://www.php.net/manual/en/function.stream-wrapper-unregister.php"><code>stream_wrapper_unregister</code></a>
but this can be reversed with
<a href="https://www.php.net/manual/en/function.stream-wrapper-restore.php"><code>stream_wrapper_restore</code></a>.
Wrappers are scary: the main use I've seen for the <a href="https://www.php.net/manual/en/wrappers.php.php#wrappers.php.filter"><code>filter://</code>
one</a> is
exfiltrating data via <code>php://filter/convert.base64-encode/resource=/some/file</code>, and is a <a href="https://www.netsparker.com/blog/web-security/php-stream-wrappers/">decent
amount of</a>
<a href="https://lightless.me/archives/include-file-from-zip-or-phar.html">arcane</a>
<a href="https://gynvael.coldwind.pl/?lang=en&amp;id=671">stuff</a> lurking in the shadows.
Providing a way to reduce this attack surface (like making streams opt-in)
would be welcome.</p>
    </div>
  </article>
</section>
    </div></div>]]>
            </description>
            <link>https://dustri.org/b/php8-from-a-security-point-of-view.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25308078</guid>
            <pubDate>Fri, 04 Dec 2020 21:14:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zettelkasten for Indie Devs and Product Managers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25307658">thread link</a>) | @EduardMe
<br/>
December 4, 2020 | https://blog.noteplan.co/zettelkasten-for-devs/ | <a href="https://web.archive.org/web/*/https://blog.noteplan.co/zettelkasten-for-devs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><span>
      <a href="https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/6052f/noteplan-screenshot.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="NotePlan note with backlinks" title="NotePlan note with backlinks" src="https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/fcda8/noteplan-screenshot.png" srcset="https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/12f09/noteplan-screenshot.png 148w,
https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/e4a3f/noteplan-screenshot.png 295w,
https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/fcda8/noteplan-screenshot.png 590w,
https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/efc66/noteplan-screenshot.png 885w,
https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/c83ae/noteplan-screenshot.png 1180w,
https://blog.noteplan.co/static/3d18615fb1282a94d8ccaf2550a86487/6052f/noteplan-screenshot.png 2030w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<p>I finally figured it out. I’m not an academic, I build apps. So, I wondered how I could apply Zettelkasten to my work.</p>
<p>I’m not just coding, I’m also receiving constructive user feedback. This is usually about bug reports and feature suggestions. However, sometimes I get flooded by emails and messages. There are more good features than time to build and every feature needs some serious thinking and planning. So, my role I cover here is a mix of developer and product manager.</p>
<p>I was using Jira, a project management software to collect, manage and plan feature ideas and bug reports. But it quickly grew to over 1000 items. It’s mostly useless now.</p>
<p><span>
      <a href="https://blog.noteplan.co/static/b88a1129c49f39649645d4c849897402/774b6/jira-screenshot.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Jira issues" title="Jira issues" src="https://blog.noteplan.co/static/b88a1129c49f39649645d4c849897402/fcda8/jira-screenshot.png" srcset="https://blog.noteplan.co/static/b88a1129c49f39649645d4c849897402/12f09/jira-screenshot.png 148w,
https://blog.noteplan.co/static/b88a1129c49f39649645d4c849897402/e4a3f/jira-screenshot.png 295w,
https://blog.noteplan.co/static/b88a1129c49f39649645d4c849897402/fcda8/jira-screenshot.png 590w,
https://blog.noteplan.co/static/b88a1129c49f39649645d4c849897402/774b6/jira-screenshot.png 738w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<p>Then I started my Zettelkasten and I’m not opening Jira any more.</p>
<h2>What is Zettelkasten?</h2>
<p>German for ‘slip-box’. It’s a simple, but powerful note-taking system allowing you to build a second brain. The Zettelkasten was invented by Niklas Luhmann, a highly productive German sociologist. He published more than 70 books and 400 scholarly articles and attributed his productivity to his notes. His slip-box contained more than 90,000 notes.</p>
<p>Intentionally, the Zettelkasten fits and complements our imperfect and biased brains and I think that’s how it ‘just works’. Many good productivity principles are baked in.</p>
<h2>Here is how I translate it to my work</h2>
<p>In Luhmann’s work, Zettelkasten was used in an academic environment. Here is how I translate the academic Zettelkasten to a ‘Product Development’ Zettelkasten. On the left is Luhmann’s version and on the right mine:</p>
<ol>
<li><strong>Input:</strong> Reading books and academic articles = Feedback emails</li>
<li><strong>Capture:</strong> Literature notes on books = Feedback notes</li>
<li><strong>File notes and link:</strong> Permanent Zettelkasten notes are the same for me, short, atomic ideas for features, clarifications, question, interconnected where it makes sense.</li>
<li><strong>Interim Output:</strong> Manuscript for an article or book = Feature specification document</li>
<li><strong>Final Output:</strong> Final Draft for an article or book = Written code implementing a feature</li>
</ol>
<h2>The process is largely the same</h2>
<p>Every morning, when I read my emails, I take quick notes about the content and copy/paste the link to the original email (Gmail link in my case). My notes are very short and written in my words. Sometimes the title of the note is all I need, other times I elaborate a good idea or clue I found in the email. These notes are only temporary. I store them into an inbox folder at first (as recommended by GTD), waiting to be processed later.</p>
<p><strong>It’s critical to write all notes in your words</strong> and as short as possible, don’t copy and paste the content. It’s unlikely you read the full email again and often a waste of time. But just in case, you got the link.</p>
<p>Then, on the next morning, I process all accumulated inbox notes at once. By splitting the capturing from the processing process, your brain doesn’t have to switch contexts and you can work with less effort.</p>
<p>In that process I take the inbox note, quickly evaluate if it adds anything valuable to my system and either delete it or elaborate, then file it. If I decide there is something useful in it, I create a permanent slip-box note which contains a single, atomic idea. Again it’s written in my words. I look into my network of existing notes (sometimes using the search function) to find other notes which have the same context and link them together to a chain of thoughts with branches (not unlike GitHub).</p>
<p>During that process your brain often starts to have more ideas, so I create more permanent notes as good ideas come to me.</p>
<h2>How is this useful?</h2>
<p>After some time, you build a dense network of ideas. Clusters emerge. In my case, around feature ideas. If a particular feature has many connected notes, my understanding on that feature is probably very mature. I can browse through the notes (since they have clickable links) and create a draft for a specification document.</p>
<p>Without the Zettelkasten you would have to brainstorm and rely on your fragile memory to write that spec or worse, dig up the emails and read them <em>again</em>, out of context. So, naturally you spend much more time and miss important details.</p>
<p>And finally, you write well thought through code out of that specification document. The details are based on actual user feedback have matured over time.</p>
<h2>Where I’m now</h2>
<p>Today, I have 909 notes and I have used this system for a few months. I created several slip-box folders: features, bugs, general and business. Notes can be still interconnected between the folders, it’s just easier to find related end-points this way. In general you shouldn’t restrict yourself to specific topics though.</p>
<p><span>
      <a href="https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/78612/folders.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Folders" title="Folders" src="https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/fcda8/folders.png" srcset="https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/12f09/folders.png 148w,
https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/e4a3f/folders.png 295w,
https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/fcda8/folders.png 590w,
https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/efc66/folders.png 885w,
https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/c83ae/folders.png 1180w,
https://blog.noteplan.co/static/2804c5010fa5771550133321c05764dd/78612/folders.png 1260w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p></section></div>]]>
            </description>
            <link>https://blog.noteplan.co/zettelkasten-for-devs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25307658</guid>
            <pubDate>Fri, 04 Dec 2020 20:44:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why I Don't Retweet Anything]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25307654">thread link</a>) | @sonicrocketman
<br/>
December 4, 2020 | https://brianschrader.com/archive/why-i-dont-retweet-anything/ | <a href="https://web.archive.org/web/*/https://brianschrader.com/archive/why-i-dont-retweet-anything/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p>I still read Twitter (despite my <a href="https://brianschrader.com/_drafts/retweeting/">efforts to quit entirely</a>), but I've stopped retweeting. My last retweet was on July 17th and it was of a tweet I wrote for <a href="https://adventurerscodex.com/">a company I co-own</a>. And if things continue as planned, that will be the last retweet I ever do.</p>
<h3>Why No Retweets?</h3>
<p>Retweets are Twitter's original sin. Akin to Facebook's Share, or Tumblr's Re-blog, the Retweet is what allows content on Twitter to spread virally. It allows for users to effortlessly spread false or misleading information with impunity and encourages readers to never go past the title of an article (despite <a href="https://slate.com/technology/2020/10/twitter-retweet-change-election.html">Twitter's admittedly laudable attempts</a> to address this issue). Retweets allow users to easily dunk on each other and act as super-spreaders of identity-reenforcing and tribalistic memes that only serve to make Twitter a worse platform.</p>
<p>Quote retweets are a little better (at least they require the user to express some opinion about the content they're spreading), but they still allow for the easy dunking that's a mainstay of the platform.</p>
<p>To their credit, Twitter has long known that the retweet button causes problems on their platform. The original designer of the feature has even said as much.</p>
<p><a href="https://www.buzzfeednews.com/article/alexkantrowitz/how-the-retweet-ruined-the-internet">Chris Wetherell</a>:</p>
<blockquote>
<p>“We might have just handed a 4-year-old a loaded weapon,” Wetherell recalled thinking as he watched the first Twitter mob use the tool he created. “That’s what I think we actually did.”</p>
</blockquote>
<p>Both Pine.blog and Micro.blog don't have retweets, and Manton does a great job explaining why (I used the same reasoning for Pine.blog).<sup>1</sup></p>
<p><a href="https://www.manton.org/2016/11/22/fake-news-and.html">Manton Reece</a>:</p>
<blockquote>
<p>When you have to put a little work into posting, you take it more seriously. I wonder if fake news would have spread so quickly on Facebook if it was a little more difficult to share an article before you’ve read more than the headline.</p>
</blockquote>
<p>Putting in the extra effort to actually articulate an intelligible thought helps me better understand the content myself and it helps me gauge whether or not the given post is even worth sharing. On more than one occasion, I've stopped myself from sharing something because I realized that it just wasn't all that interesting.</p>
<h3>How I (Still) Use Twitter</h3>
<p>While I still read Twitter, the vast majority of my posts are cross-posted from <a href="https://pine.blog/u/sonicrocketman">my microblog</a>. I still favorite posts (because my favorites are automatically saved to Pinboard so I can find them later), but for the most part, my interactions are read-only.</p>
<p>Because I spend most of my "social media time" either reading articles on <a href="https://pine.blog/">Pine.blog</a> or browsing <a href="https://micro.blog/">Micro.blog</a>, reading Twitter now feels like wading through a nuance-lacking, toxic cesspit rather than acccessing the real-time information platform I once knew and loved, which in turn drives me further away from the platform. I see people I follow there cooking amazing meals, telling fanciful stories, sharing hilarious memes, but all of that is drowned out by the hate and vitriol in every next post.</p>
<p>With all that said though, I do still share stuff on the Web. I just do it by writing a post.</p>
<div>
<p><img alt="A sample pseudo-retweet" src="https://brianschrader.com/images/blog/pseudo-retweet.png"></p><center><small>I'd love a browser plugin that removes the Retweet button and hides all retweets. It seems like a few exist, but none that I tried worked. Presumably Twitter tries to circumvent them.</small></center>
</div>

<p>Virality is a fact of life on the Web; neither innately good nor bad. For too long we've seen it as something to be harnessed, to utilize. But a virus is incredibly difficult to control and, like with today's real-world troubles, a pandemic of memes and satire does enormous harm to our individual health and to the health of our society.<sup>2</sup></p>
<p>tl;dr Pandemics are bad. Both online and in meatspace. We should limit their spread and stop retweeting.</p>
<p><sup>1</sup> Pine.blog will show you when someone retweets or re-posts your blog posts if you allow for Webmentions, though I'm considering letting users configure this behavior. Retweets also poison the mind of the poster, not just the reader.
</p>

<p><sup>2</sup> In an effort to be transparent, I have asked others to retweet my posts before an an attempt to gain some traction outside my bubble. I'm going to stop doing that too.
</p>
        </div></div>]]>
            </description>
            <link>https://brianschrader.com/archive/why-i-dont-retweet-anything/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25307654</guid>
            <pubDate>Fri, 04 Dec 2020 20:44:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[React is slow, what now?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25307536">thread link</a>) | @franleplant
<br/>
December 4, 2020 | https://nosleepjavascript.com/react-performance/ | <a href="https://web.archive.org/web/*/https://nosleepjavascript.com/react-performance/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><h2 id="tldr-the-gist"><a href="#tldr-the-gist" aria-label="tldr the gist permalink"></a>TLDR: the gist</h2>
<ul>
<li>Measure performance! If you don’t measure it’s the same as doing nothing.</li>
<li>You can optimize your React performance by improving <strong>what</strong> (🤔) and <strong>which</strong> (🧙) components render.</li>
<li>
<p>🧙 To improve <strong>which</strong> component renders you can use</p>
<ul>
<li><code>React.memo</code></li>
<li><code>useCallback</code></li>
<li><code>useMemo</code></li>
<li>Make sure your props have stable references</li>
<li>Virtualization</li>
</ul>
</li>
<li>
<p>🤔 To improve <strong>what</strong> components render you should</p>
<ul>
<li>identify the slow components</li>
<li>simplify, use more efficient abstractions, make smaller trees, etc</li>
</ul>
</li>
</ul>
<p>If this got your attention read on:</p>
<h2 id="table-of-contents"><a href="#table-of-contents" aria-label="table of contents permalink"></a>Table of Contents</h2>

<h2 id="introduction"><a href="#introduction" aria-label="introduction permalink"></a>Introduction</h2>
<p>In general computer programs can be:</p>
<ul>
<li><strong>io-bound</strong>: spend most of their time making inputs and outputs</li>
<li><strong>cpu-bound</strong>: spend most of their time making calculations</li>
</ul>
<p>And how do these translate into Front End apps and in particular React apps?</p>
<h2 id="io-performance-problems-in-react"><a href="#io-performance-problems-in-react" aria-label="io performance problems in react permalink"></a>io performance problems in React</h2>
<ul>
<li>Browser apps can be <strong>io-bounded</strong> mostly in terms of asynchronous http calls.</li>
<li>a poor management of these network requests can slow down your app</li>
</ul>
<h3 id="potential-solutions"><a href="#potential-solutions" aria-label="potential solutions permalink"></a>Potential solutions</h3>
<p>Although this will not be the focus of this post let’s quickly cover some
important areas where solutions and improvements might be found for io-bound
problems:</p>
<ul>
<li>lazy load as much as you can.</li>
<li>careful with the initial load of assets and also backend requests.</li>
<li>reduce the amount of times you load highly static stuff (select options, configurations, etc)</li>
<li>debounce the amount of times you make certain requests.</li>
<li>parallelize request as much as possible via <code>Promise.all</code>.</li>
<li>make your critical BE endpoints more efficient (i.e. by tweaking DB accesses and such).</li>
</ul>
<h2 id="cpu-performance-problems-in-react"><a href="#cpu-performance-problems-in-react" aria-label="cpu performance problems in react permalink"></a>CPU performance problems in React</h2>
<blockquote>
<p>This is going to be the main focus of this post.</p>
</blockquote>
<p>Before talking about performance we need to define it in a more concrete way:</p>
<ul>
<li>browser apps are <a href="https://stackoverflow.com/questions/30932870/why-doesnt-javascript-get-its-own-thread-in-common-browsers">single thread</a> programs for the most part.</li>
<li>scripting, i.e. Javascript, DOM rendering, event handling, etc; all run in the same thread.</li>
<li>if a Javascript module is slow it can block the main thread.</li>
<li>if the main thread is blocked then the UI will seem unresponsive (<strong>fps</strong> will drop).</li>
<li>unresponsive UIs are one of the worst offenders in terms of <strong>User Experience</strong>.</li>
</ul>
<p>This all boils down to the concept of <code>fps</code> or <strong>Frames Per Second</strong>.
Responsive UIs will deliver a minimum of 30 fps or more ideally 60 fps, this means
that every frame of your app, even the more demanding code paths, should compute in <strong>30 ms or less</strong>.</p>
<blockquote>
<p>If your Javascript is slow it might cause “frames to be dropped” which means
computing a frame in more than 30 ms.</p>
</blockquote>
<p>To fully understand how this applies to React we need to understand how React works
and what React’s <strong>render and commit phase</strong> are but in short we can say that:</p>
<blockquote>
<p>If a React component update is triggered then the <strong>entire sub tree needs to be
rendered in less than 30ms</strong>.</p>
</blockquote>
<p>This becomes specially problematic when you have complex and long component structures
such as Tables, Trees and Lists and in which sometimes (for example the first time) you will
need to re render large parts of them.</p>
<blockquote>
<p><strong>Summary:</strong> we should figure out which expensive interactions are dropping frames,
measure them to confirm and fix them.</p>
</blockquote>
<h2 id="react-render-and-commit-phase"><a href="#react-render-and-commit-phase" aria-label="react render and commit phase permalink"></a>React render and commit phase</h2>
<p>React works (at a high level) in two phases</p>
<p><strong>Render phase:</strong></p>
<ul>
<li>Happens when a component updates i.e. props or hooks changed.</li>
<li>React traverses the component sub tree rendering each child and computing the virtual DOM (VDOM) sub tree.</li>
<li>Only the “dirty” sub tree needs to be recomputed i.e. the updated component parents might not need to be re rendered.</li>
<li>This phase is proportional to the size of the sub tree being rendered.</li>
<li>This phase is also proportional to how expensive it is to compute each child component.</li>
<li>We can give React hints to make this process more efficient i.e. <code>React.memo</code>.</li>
</ul>
<p><strong>Commit phase:</strong></p>
<ul>
<li>The render phase outputs a new virtual DOM of the entire UI.</li>
<li>In the commit phase Reacts compares the new tree with the previous one (VDOM diffing).</li>
<li>React calculates the minimum DOM mutations needed to reflect the new VDOM tree.</li>
<li>React mutates the DOM.</li>
<li>Your UI is now updated.</li>
<li>This phase is pretty efficient by default.</li>
</ul>
<p>This whole process needs to happen in less than 30 or 16 ms (30 fps and 60 fps respectively) for your UI to be considered
responsive, as you can see there’s a lot of work and that work is proportional to the size of your app.</p>
<p>We will explore ways to make mostly the <strong>Render phase</strong> more efficient but first let’s discuss
how to measure and how to find out what are the slow parts of our app and how bad they are.</p>
<h2 id="measuring"><a href="#measuring" aria-label="measuring permalink"></a>Measuring</h2>
<p>In 2020 we have pretty solid tools for measuring browser side performance, these
are the ones I use the most:</p>
<ul>
<li>Chrome dev tool’s Performance tab.</li>
<li>React dev tool’s Performance tab.</li>
</ul>
<h3 id="chrome-dev-tools-performance-tab"><a href="#chrome-dev-tools-performance-tab" aria-label="chrome dev tools performance tab permalink"></a>Chrome dev tool’s Performance tab</h3>
<p>This is the most comprehensive tool, it is useful for any browser application,
it measures frames per second, records stack traces, identifies slow / hot parts of your code,
and much more. The main UI is the <a href="http://www.brendangregg.com/flamegraphs.html">flame chart</a>.</p>
<p>Here’s a <a href="https://reactjs.org/docs/optimizing-performance.html#profiling-components-with-the-chrome-performance-tab">good doc</a>
of Chrome’s Performance Tab applied to React.</p>
<h3 id="react-dev-tools-performance-tab"><a href="#react-dev-tools-performance-tab" aria-label="react dev tools performance tab permalink"></a>React dev tool’s Performance tab</h3>
<p>You need to install the <a href="https://reactjs.org/blog/2019/08/15/new-react-devtools.html">React dev tool extension</a> in your browser.</p>
<p>It specializes the information in the Chrome dev tool’s Performance tab to
React. You can see the different <strong>commit phases</strong> and the Javascript code that was run in its respective
<strong>render phase</strong> through a <strong>flame chart</strong>.</p>
<p>Through this tool you can easily find out:</p>
<ul>
<li>when a component re renders</li>
<li>what props changed</li>
<li>what hooks changed i.e. state, context, etc.</li>
</ul>
<p>Check the <a href="https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html">introductory post</a> for more information.</p>
<h3 id="measuring-1"><a href="#measuring-1" aria-label="measuring 1 permalink"></a>Measuring</h3>
<p>This is the <strong>methodology</strong> I like to use when measuring front end applications:</p>
<ul>
<li><strong>identify the problem</strong>: identify page interactions that make the UI feel unresponsive.</li>
<li><strong>create a hypothesis</strong>: optionally, we might have some ideas where the problem might be.</li>
<li><strong>measure</strong>: verify the problem by measuring and looking at important metrics such as <strong>fps</strong>.</li>
<li><strong>measure</strong>: identify problematic pieces of code, optionally: validate your hypothesis.</li>
<li><strong>create a solution</strong>: apply a solution based off the previous steps</li>
<li><strong>measure the solution</strong>: validate that the problem has been resolved or alleviated by looking at the important metrics.</li>
</ul>
<blockquote>
<p>If you optimize something without measuring then you are practically doing nothing.</p>
</blockquote>
<p>There might be cases where the problem is super obvious and I won’t tell you that going straight
to fixing it is naturally bad, but most of the problems are not obvious and measuring will be
cornerstone of the performance improvement process.</p>
<p>Additionally, if you measure you can later tell your users, stakeholders and more importantly your <strong>boss
that you have improved the performance of a given area of your app by x%</strong> which is always a good
way of communicating upwards what we accomplish inside the rabbit hole.</p>
<h2 id="general-solutions-to-cpu-bound-problems-in-react-applications"><a href="#general-solutions-to-cpu-bound-problems-in-react-applications" aria-label="general solutions to cpu bound problems in react applications permalink"></a>General solutions to cpu-bound problems in React applications</h2>
<p>Now that we have measured and identified the problematic areas let’s cover
potential solutions.</p>
<blockquote>
<p>You can optimize your React performance by
improving <strong>what</strong> components render and
<strong>which</strong> components render.</p>
</blockquote>
<h3 id="-improving-what-components-render"><a href="#-improving-what-components-render" aria-label=" improving what components render permalink"></a>🤔 Improving <em>what</em> components render</h3>
<p>Identifying the slow parts of our React app will usually
point out to some particular components that are slow to render
(or that have too many instances in a single page, more on this in the <strong>which</strong> section).</p>
<p>There might be a number of reasons those components are slow, including:</p>
<ul>
<li>they do blocking calculations</li>
<li>they render large trees</li>
<li>they use expensive / non efficient libraries</li>
</ul>
<p>Most of these boil down to improving how fast your components render,
sometimes critical components cannot rely on too complicated libraries
and so you need to go back to basic and roll your own simpler implementation.</p>
<p>I have experienced something like this when using <a href="https://formik.org/">Formik</a> (which I love)
or should I say abusing Formik on several cells of every single row of a complex table.</p>
<p>You can go a long way making your components more efficient but eventually you will need
to focus on <strong>which</strong> components render:</p>
<h3 id="🧙-improving-which-components-render"><a href="#%F0%9F%A7%99-improving-which-components-render" aria-label="🧙 improving which components render permalink"></a>🧙 Improving <em>which</em> components render</h3>
<p>There are two broad categories where we can improve this aspect:</p>
<ul>
<li>Virtualization</li>
<li>Prop optimization</li>
</ul>
<h4 id="virtualization"><a href="#virtualization" aria-label="virtualization permalink"></a>Virtualization</h4>
<p>It means <strong>only render what is visible in the viewport</strong>, i.e. only render the
table rows that the user can see or the list items the user can see.</p>
<p>This is great because it can be applied to complex UIs without going through the <strong>what</strong> step,
although I recommend it; and modern libraries tend to have decent support for virtualizing
your tables and lists. A good example of this is <a href="https://github.com/bvaughn/react-virtualized">react-virtualized</a>.</p>
<blockquote>
<p>Virtualizing means that we <strong>reduce the amount of components React needs to render in a given frame</strong>.</p>
</blockquote>
<h4 id="props-optimization"><a href="#props-optimization" aria-label="props optimization permalink"></a>Props Optimization</h4>
<p>React tries to make your components look like pure functions but still will try to render
more times than it should.</p>
<h5 id="code-classlanguage-textreactmemocode"><a href="#code-classlanguage-textreactmemocode" aria-label="code classlanguage textreactmemocode permalink"></a><code>React.memo</code></h5>
<p>Most components in React can be <strong>memoized</strong>, which means that they do not have internal side effects
or depend on any external side effects so that we can guarantee than <strong>with the same props the component
will return the same tree</strong> (hooks, state and context are still respected though).</p>
<p>For that we can use <a href="https://reactjs.org/docs/react-api.html#reactmemo">React.memo</a>.
This tells React to skip re rendering these memoized components if their
props didn’t change.</p>
<h5 id="fake-prop-changes-code-classlanguage-textusecallbackcode"><a href="#fake-prop-changes-code-classlanguage-textusecallbackcode" aria-label="fake prop changes code classlanguage textusecallbackcode permalink"></a>Fake prop changes: <code>useCallback</code></h5>
<p>Additionally we have the problem of <strong>fake prop changes</strong> which means that although
the content of a given prop didn’t change, the reference did. The most classic example
of this is the event handler one:</p>
<div data-language="typescript"><pre><code><span>export</span> <span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>onChange</span> <span>=</span> <span>(</span><span>e</span><span>)</span> <span>=&gt;</span> <span>console</span><span>.</span><span>log</span><span>(</span>e<span>)</span><span>;</span>

  <span>return</span> <span>&lt;</span>input onChange<span>=</span><span>{</span>onChange<span>}</span> <span>/</span><span>&gt;</span><span>;</span>
<span>}</span></code></pre></div>
<p>The <code>onChange</code> callback, although semantically and content wise will be the same on every render, will be
be stored in a completely separate memory direction so React will detect it as different from the previous one.</p>
<p>This is related to how <code>React.memo</code> does shallow comparison by default (although there’s no good way of
deeply comparing functions in Javascript AFAIK).</p>
<p>An easy fix for this is to use <code>useCallback</code> which was designed exactly for this:</p>
<div data-language="typescript"><pre><code><span>export</span> <span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> onChange <span>=</span> <span>useCallback</span><span>(</span><span>(</span><span>e</span><span>)</span> <span>=&gt;</span> <span>console</span><span>.</span><span>log</span><span>(</span>e<span>)</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>

  <span>return</span> <span>&lt;</span>input onChange<span>=</span><span>{</span>onChange<span>}</span> <span>/</span><span>&gt;</span><span>;</span>
<span>}</span></code></pre></div>
<h5 id="fake-prop-changes-code-classlanguage-textusememocode"><a href="#fake-prop-changes-code-classlanguage-textusememocode" aria-label="fake prop changes code classlanguage textusememocode permalink"></a>Fake prop changes: <code>useMemo</code></h5>
<p>A similar problem can rise when building complex data structures and not memoizing them
correctly before …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nosleepjavascript.com/react-performance/">https://nosleepjavascript.com/react-performance/</a></em></p>]]>
            </description>
            <link>https://nosleepjavascript.com/react-performance/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25307536</guid>
            <pubDate>Fri, 04 Dec 2020 20:37:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building an Audience Is a Marathon]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25307048">thread link</a>) | @dbustac
<br/>
December 4, 2020 | https://danielbusta.com/marathon/ | <a href="https://web.archive.org/web/*/https://danielbusta.com/marathon/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-196">

	
<!-- .entry-header -->

	<div>

		<div>

			
<figure><img loading="lazy" src="https://images.unsplash.com/photo-1519703936-c4a3b3eb88e4?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80" alt="" width="610" height="406"><figcaption><em>Credit to <a href="https://unsplash.com/@benst287" target="_blank" rel="noreferrer noopener">@benst287</a></em></figcaption></figure>



<p>Although they might seem very similar, running and sprinting are two very different sports.</p>



<p>Running is a game of long distances. It requires steadiness and endurance. Sprinting, on the other hand, is a game of speed. It requires intensity and power.</p>



<p>Runners can’t race as fast as sprinters. And sprinters can’t last as long as runners. They are different games.</p>



<p>If audience building were a sport, it would be more like running than like sprinting.</p>



<p>You don’t build an audience in just one sprint — you need thousands of them. And if you try to sprint every day, you’ll end up burned out. It’s not sustainable.</p>



<p>You need to show up often and stay at it as long as possible. So instead of sprinting, you should try to run or even jog but at a pace you can keep up. That way it becomes sustainable.</p>



<p>When it comes to content, steadiness beats intensity. Put another way, sharing good content frequently beats sharing superb content infrequently.</p>



<p>Your content might be incredibly valuable, but if people only hear from you once in a blue moon they might not even remember who you are in the first place. They need to hear you often. They need to know you. They need to trust you.</p>



<p>Why should they give you their attention otherwise?</p>


<p><em>This piece is part of a series of 30 atomic essays where I explore what it means to be a&nbsp;<a rel="noreferrer noopener" href="https://rationalcreatives.substack.com/" target="_blank">rational creative</a>&nbsp;and the different aspects of being a creator online. You can read all the others essays&nbsp;<a rel="noreferrer noopener" href="https://twitter.com/dbustac/status/1328419048070279174?s=20" target="_blank">here</a>.</em></p>
		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://danielbusta.com/marathon/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25307048</guid>
            <pubDate>Fri, 04 Dec 2020 20:05:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Continuous Integration Mystery]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25306898">thread link</a>) | @basicallydan
<br/>
December 4, 2020 | https://danhough.com/blog/ci/ | <a href="https://web.archive.org/web/*/https://danhough.com/blog/ci/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<header>
			
			<p>
				<span>Published 03 December 2020 in Vancouver, BC, Canada</span>
				
				<span title="It took me about 5 minutes to read this blog post back to myself.">(~5min read)</span>
				
			</p>
		</header>
		<p>Yesterday I faced a version control situation I rarely face.</p>

<p>It showed me that I may rely a little too much on the green light from CI tools like CircleCI and GitHub Actions when deciding whether it’s safe to merge a branch.</p>

<p>Here’s what happened:</p>

<ol>
  <li>My colleague added new <code>expect</code> clauses to a test, plus the code to <strong>pass it</strong>.</li>
  <li>They merged this into the main branch via a PR.</li>
  <li>Later, I forked off of the main branch.</li>
  <li>I added <strong>more new clauses</strong> to the test my colleague had earlier modified.<br>I worked on it for the rest of the day.</li>
  <li>I made a <strong>pull request</strong>.</li>
  <li>Next, two colleagues reviewed my work and approved it on GitHub.<br>All the pre-merge checks on CircleCI were passing, including tests and style checks.<br>I rebased and decided to save the merge for the morning.</li>
  <li>Soon after, an error was found related to the code the first colleague had deployed.<br>They <strong>reverted</strong> the PR they had merged on Day 1.</li>
  <li>Not long after, I checked my PR again - there were no merge conflicts.<br><strong>I merged my code</strong>.</li>
</ol>

<p>An hour or so later, another colleague tells me that, according to CircleCI, a test I wrote was failing on the main branch. How could this be, they said? It appears to have been passing on the branch it came from!</p>

<p>What is the cause of this mysterious failure?</p>

<p>I’d recently touched that test, so I looked at the error and quickly worked out what it was: The test I’d added to was failing because one of it’s <code>expect</code> clauses relied on code which had been been reverted - it was no longer a valid expectation. GitHub didn’t run a new diff on my PR after the removal of the clause in question from the main branch; the reverted test code simply looks ‘unchanged’ in the diff, as if it had been and was still there.</p>

<p>I didn’t remove it, I didn’t rebase, and my PR ended up re-adding the recently-removed <code>expect</code> clause even though it didn’t appear to.</p>

<p>Is there a lesson to be learned here?</p>

<p>On one hand, the process is working. There was a merge error caused by the <code>git</code> equivalent of a race condition, we were told about it, and we were able to resolve it. Why bother running tests on the main branch before you deploy unless you are concerned that there is a chance they’ll fail?</p>

<p>Maybe the lesson is to keep on doing what we’re doing.</p>

<p>On the other hand, the process felt like it was disrupting the order of things. Something like this is often said: “if you have a reliable QA and CI process, then if something is on the main branch it should be deployable.” And yet here was an anomalous case which suggested otherwise.</p>

<p>Perhaps, then, the lesson is that our QA and CI process isn’t robust enough. Should CI create a merged branch behind-the-scenes and run tests on <em>that</em> before allowing the branch to be merged?</p>

<p>I’m not sure. In the meantime, while I try to decide what the lesson is, I think I’ll just rebase my branches more often.</p>

<p>A <a href="https://news.ycombinator.com/item?id=25306898">discussion has begun on Hacker News</a>, please share your thoughts if you have any.</p>

		<p>Heckle me on Twitter <a href="http://twitter.com/basicallydan">@basicallydan</a>.</p>
	</div></div>]]>
            </description>
            <link>https://danhough.com/blog/ci/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25306898</guid>
            <pubDate>Fri, 04 Dec 2020 19:53:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Biggest Tech Mafia You've Never Heard Of]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25306425">thread link</a>) | @donnyNz
<br/>
December 4, 2020 | https://contrarycap.com/content/trilogy-software | <a href="https://web.archive.org/web/*/https://contrarycap.com/content/trilogy-software">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><hr>
<h2><a name="the-biggest-tech-mafia-youve-never-heard-of"></a>The biggest tech mafia you've never heard of</h2>
<p>A Stanford dropout founder. "AI" technology. Recruits fresh out of MIT and Harvard. Skyrocketing valuations, huge paychecks, and a lightning-fast culture. All the makings of a legendary tech startup story. Was this Yahoo? Nope. Snapchat? Try again.</p>
<p>This was Trilogy Software in the 90s.</p>
<p>Although their glory has long since faded, their impact remains. Here's an incomplete list of Trilogy mafia members:</p>
<ul>
<li>Elie Seidman, the CEO of Tinder</li>
<li>Cyrus Massoumi and Nick Ganju, the founders of ZocDoc. They had shared a desk together at Trilogy.</li>
<li>Henry Ward, CEO and founder of Carta</li>
<li>John Lilly, former CEO of Mozilla, investor with Greylock Partners, and founder of Reactivity (acquired by Cisco).</li>
<li>Andy Palmer, CEO of Tamr Inc., former CEO of Vertica (acquired), and major angel investor (invested in Carta in part due to his connection with Henry).</li>
</ul>
<p>Crunchbase has a list of Trilogy mafia founded companies <a href="https://www.crunchbase.com/hub/trilogy-alumni-founded-companies#section-leaderboard">here</a>. There are 87 entries.</p>
<p>All in all, they are one of tech's most successful, albeit relatively unknown, "mafias". Their story is a fascinating dive into the dot-com boom tech scene, and holds lessons on recruitment and culture that founders will still find relevant today. How do tech mafias form?</p>
<h2><a name="what-was-trilogy"></a>What Was Trilogy?</h2>
<p>"Trilogy Development Group" was founded in 1989 by Joe Liemandt, a Stanford CS student who dropped out to start the company. He brought along 5 classmates to join him in Austin, Texas, where the cost of living was cheap and the taxes were lower.</p>
<p>From these humble beginnings, Trilogy became a 90s pioneer of enterprise software. Their main product was "config-price-quote" software, which allowed sales forces to accurately quote and configure complex solutions such as mainframes, central office switches, airplanes, and automobiles. In fact, their software could even identify and recommend the ideal combination of products and services for each customer. At the time, this was a game-changer for their clients.</p>
<p>They also built sales compensation software, which allowed sales leaders and HR teams to move sales commissions from spreadsheets to a software database and workflow engine. Their main clients were Fortune 500 companies, especially in the auto and airline sectors.</p>
<p>Although not the "coolest" product, Trilogy was wildly successful. By the mid 1990s they had grown to $250M in revenue, were valued at well over a billion dollars, and Joe Liemandt became the youngest self-made man to enter the Forbes 400. In 1996 he graced <a href="https://www.forbes.com/sites/abrambrown/2018/11/19/holy-cow-no-ones-done-this/#6700faa92927">the cover of the magazine</a>, with a net worth of $500 million.</p>
<p><img src="https://specials-images.forbesimg.com/imageserve/5bef0d784bbe6f78bda861c1/960x0.jpg?fit=scale" alt="https://specials-images.forbesimg.com/imageserve/5bef0d784bbe6f78bda861c1/960x0.jpg?fit=scale"></p>
<p>During this late 90's golden age they became famous for lavish parties, furious recruiting at college campuses, and massive onboardings — at one point they onboarded 250 people at once, a 50% increase in their headcount. They even spun off a publicly traded subsidiary, an early B2B marketplace for computer parts called PCOrder.com. It was the best of times for Trilogy... until the dot-com crash. PCOrder.com's stock price fell to near 0, Trilogy's valuation fell as well, and the company never regained the same stature. By 2001, Liedmandt had fallen off the Forbes 400, and many employees left or were let go, though the company never fully shut down.</p>
<p>At the time, it was a heavy loss for the burgeoning Austin tech scene.</p>
<h2><a name="trilogy-university-birthplace-of-the-mafia"></a>Trilogy University: Birthplace of the Mafia</h2>
<p>During their golden age, Trilogy was a recruitment machine, more than tripling their headcount in under three years. Liemandt wanted top talent, but they were competing for an extremely limited pool of computer science graduates, and couldn't pay as much as the "safe", established tech players of the 90s. So, they developed a pitch that distinguished them from the competition:</p>
<p>"Rather than paying you lots of money and stock options to pound out code for eight hours a day, we'll give you a ton of responsibility right away. You can lead projects, build new products, and even start a company. Have at it! Oh yeah, and we'll spend an average of $10,000 per recruit flying you out to Austin where you can play roulette with the CEO before you decide."</p>
<p>This was key. Trilogy was selecting for big risk-takers with an entrepreneur's mindset at the top of their recruitment funnel.</p>
<p>Once these recruits (all fresh out of college) got to Austin, they were enrolled at Trilogy University. This corporate bootcamp, modeled after Marine Corps training, was possibly Trilogy's greatest innovation, and participants cite its influence as having a huge impact on their careers. It lasted 12 weeks, and during that time employees would be split into 80 different teams working in intense R&amp;D projects for Trilogy, some of which became separate companies under the Trilogy umbrella. Classes started at 8am and went to midnight. You would spend almost all your waking hours with your team, and the bonds formed here ran deep.</p>
<p>One participant, Vince Mallet, recalls: “on the second day, we were all asked to tell the most significant emotional experience of our lives.” The first month focused on this emotional bonding, and instilling the values of Trilogy: humility, teamwork, customer-obsession, and, most of all, risk-taking. Employees say the bonds formed just during this first month persisted through their time at Trilogy and beyond, even as they eventually split off into different teams or left the company.</p>
<p>In month two, recruits "have to come up with a frame-breaking great new business idea." They have to come up with an idea, create a business model for it, build the product, and develop the marketing plan. It's wasn't hypothetical either. Liemandt hand-picked the best products to launch. By month three- graduation month, most employees are picked by or matched with different teams at Trilogy and graduate from the university. Some continue to work on their project, if it was in the lucky 15% selected to go on.</p>
<p>Trilogy University lived the work hard, play hard culture. The rigorous program was tempered by luxurious amenities like company cab cards to travel anywhere in Austin for free, sponsored trips to the beach and Las Vegas, more snacks than a convenience store, and free kegs of beer every Friday. It was 90s dot-com boom excess from start to finish.</p>
<p>In this environment, it's easy to see how risk-taking fresh graduates could be transformed into creative, effective entrepreneurs with incredible bonds to their fellow Trilogy University alums — all the makings for a future tech mafia. As Trilogy declined in the early 2000s, many of these employees left to start ventures that seeded the early Austin tech scene.</p>
<h2><a name="the-trilogy-mafia-impact"></a>The Trilogy Mafia Impact</h2>
<p><em>"Liemandt knows most of the kids he's hiring are too smart to work for him — or anyone else — for long. "There are a lot of people here to learn how to start a software company," he says. "That's great." He says he'd rather get a few years of boundless entrepreneurial energy from his employees than get many years of mediocre performance."</em></p>
<p>This except from a <a href="https://www.forbes.com/sites/abrambrown/2018/11/19/holy-cow-no-ones-done-this/#6700faa92927">Forbes article</a> proclaiming Liemandt as "computerdom's newest magnate" foreshadows the massive impact that the team he put together at Trilogy would have. For example, Trilogy's eventual decline was Austin's gain. Trilogy introduced over a thousand entrepreneurial, creative, and techhnically skilled people to Texas, like Joshua Baer, founder of Austin technology incubator Capital Factory and Heather Brunner, CEO of WP Engine.</p>
<p><a href="https://www.statesman.com/article/20120901/NEWS/309012327">This article</a> from the Austin Statesman cites Trilogy's lasting influence on the city. "Austin high-tech recruiter Marc Davis, himself a Trilogy alumnus, counts more than <strong>four dozen</strong> Austin tech companies that have Trilogy veterans in top leadership roles. Among those where Trilogy veterans populate the upper ranks: HomeAway, Bazaarvoice, WhaleShark Media (RetailMeNot), <a href="http://indeed.com/">Indeed.com</a>, <a href="http://vast.com/">Vast.com</a> and Socialware."</p>
<p>Their influence extends beyond Austin. For example, Bryon Krug appears as an eager college senior at Carnegie-Mellon and a potential Trilogy recruit in <a href="https://www.wiley.com/college/man/schermerhorn332879/site/student/ic/oneman.htm">this Rolling Stone piece</a> from 1998, titled "Wooing the Geeks". He ended up joining Trilogy, then went on to found his own publishing company, and co-founded CEG Solutions in 2008, a major energy efficiency company where he still serves as president.</p>
<p>As for Trilogy's founder, Joe Liemandt? He's back on the Forbes 400, with a net worth of over $3.5 billion, thanks to his private equity investments in software companies.</p>
<p>There are some parallels between the Trilogy mafia and their more famous counterpart, the <a href="https://money.cnn.com/2007/11/13/magazines/fortune/paypal_mafia.fortune/index.htm">Paypal mafia</a>.</p>
<ul>
<li>Both emerged at around the same time — the early 2000s, as the tech industry recovered and matured post dot-com crash.</li>
<li>In both cases, there was a mass exodus. Trilogy never got to a successful exit and started shedding employees. After PayPal's successful acquisition by eBay, the original team felt stifled under their new, more corporate bosses, and left.</li>
<li>Both companies selected for entrepreneurial people, then gave them confidence in their abilities, whether it was through Trilogy University's "build a company in a month" program or the near-bankruptcy battles fought at PayPal.</li>
<li>Perhaps most importantly, the founders encouraged tight bonds among their employees, all of whom skewed extremely young.</li>
</ul>
<p>Could this be the formula to build a new tech mafia?</p>
<p>Tech mafias are rare, and it's not obvious one has formed until years later. The first article on the success of PayPal's former employees was from 2007, 5 years after their acquisition. Spotting one is harder than finding a unicorn. In this case, you're looking for a whole herd.</p>
<p>In terms of tech mafias operating today, <a href="https://www.nytimes.com/2019/03/13/technology/silicon-valley-network-mafias.html">Uber and Airbnb have been selected as likely candidates</a>. Andrew Chen, who led Rider Growth at Uber and now is a partner at a16z, estimates that two dozen venture-backed startups have come out of Uber so far. Clearly, their alumni are already adding an extra jolt of entrepreneurial energy to the Valley, but what about outside California? Could some city be flying under the radar, in the way Austin was before Trilogy? Epic Games, for example, has …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://contrarycap.com/content/trilogy-software">https://contrarycap.com/content/trilogy-software</a></em></p>]]>
            </description>
            <link>https://contrarycap.com/content/trilogy-software</link>
            <guid isPermaLink="false">hacker-news-small-sites-25306425</guid>
            <pubDate>Fri, 04 Dec 2020 19:15:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gold vs. Bitcoin is a self-defeating doom-loop]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25306259">thread link</a>) | @StuntPope
<br/>
December 4, 2020 | https://outofthecave.io/articles/gold-vs-bitcoin-is-fucking-stupid/ | <a href="https://web.archive.org/web/*/https://outofthecave.io/articles/gold-vs-bitcoin-is-fucking-stupid/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><a href="https://outofthecave.io/articles/gold-vs-bitcoin-is-fucking-stupid/#comments">
			2 <span></span>
		</a></p>
		
		
				<h3><img loading="lazy" src="https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med.jpg" alt="" width="800" height="600" srcset="https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med.jpg 800w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-300x225.jpg 300w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-150x113.jpg 150w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-768x576.jpg 768w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-65x49.jpg 65w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-220x165.jpg 220w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-133x100.jpg 133w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-358x269.jpg 358w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-533x400.jpg 533w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-600x450.jpg 600w, https://outofthecave.io/wp-content/uploads/2020/12/keynsian_bliss_med-680x510.jpg 680w" sizes="(max-width: 800px) 100vw, 800px"></h3>

<p><em>With all due respect to the people arguing this one way or the other – many of whom are super intelligent. This argument is a self-defeating doom loop that can only be resolved via an act of faith.</em></p>
<h3>Introducing your Economic Apocalypse Toolkit</h3>
<p>With both Bitcoin and gold (and stonks, for that matter) at or recently off of all time highs the age old debate of whether gold is better than Bitcoin or vice versa is everywhere. I finally sat down and mapped out the <strong>Economic Apocalypse Toolkit</strong> after listening to Grant Williams and Bill Fleckenstein’s <a href="https://podcasts.apple.com/lv/podcast/the-end-game-ep-12-fred-hickey/id1508585135?i=1000501094047">End Game podcast episode with Fred Hickey</a>, who writes <strong>The High Tech Strategist</strong>.</p>
<p>In it they hit on the perennial question of “gold vs Bitcoin” and Hickey laid out his objections to it. I’ve been a subscriber of The HTS for several years now and think it’s absolutely fantastic, and of course I also subscribe to <a href="https://ttmygh.com/">Grant Williams TTMYGH</a> and <a href="https://www.fleckensteincapital.com/home.aspx">Fleck’s newsletter</a> as well. All great stuff, well written, from extremely intelligent people. I do get the sense that Williams is somewhat open to Bitcoin and he <em>wants&nbsp;</em>to talk about it and explore the idea that it may be something more than the usual tropes: <a href="https://outofthecave.io/articles/this-time-is-different-part-i-what-bitcoin-isnt/">a ponzi, based on nothing, Tulipmania, etc</a>, but maybe he’s hesitant at prospect of taking heat for suggesting it.<span id="more-1451"></span></p>
<p>I just find the entire debate pointless because people who invest in either asset class&nbsp;<em>are doing so for the same reasons.&nbsp;</em>They are reacting to the same threat, they see the same unsustainability, they are preparing for the same End Game, if you will.</p>
<p>Given that many of the people who see the underlying issues are of a capital allocator, long term mindset, why is this being thought of in terms of either/or and not in terms of probabilities and scenarios?</p>
<p>If the job at hand is to protect one’s wealth from systemically rigged and disintegrating monetary regime, arguing for one over the other feels like trying to defend against it with only half the available toolkit. Is there a mechanic who wouldn’t be caught dead with a screwdriver in his toolbox because he can give you a list of reasons why every problem can be solved with a wrench? “Screwdrivers for suckers!”</p>
<p>The entire gold vs crypto argument goes away when one realizes that there is more overlap in the objectives of each asset than there are differences. And if you can get your own biases out of the way, then even the differences when looked at objectively seem to have uncanny parallels</p>
<blockquote><p><strong>Gold</strong> has a 5,000 year track record, and has never failed to hold its value, which is quite impressive and has to count for something….<br>
<strong>Bitcoin</strong> has broken out of nowhere and taken the world by storm in an astonishingly small amount of time, which is quite impressive and has to count for something…</p>
<p><strong>Bitcoin</strong> is backed by nothing.<br>
<strong>Gold</strong> is just a shiny rock.</p>
<p>Without electricity, Bitcoin is useless.<br>
You can’t eat gold.</p>
<p><strong>Quantum computing</strong> will eventually destroy Bitcoin’s encryption.<br>
<strong>Asteroid mining</strong> will eventually make gold abundant and cheap.</p>
<p>Bitcoin is a ponzi.<br>
What’s the definition of a gold mine? A hole in the ground with a liar standing beside it.</p></blockquote>
<p>I could go on….</p>
<p>Since the future is unknowable and certainty elusive, aligning with one aspect of the above over the other has to be a choice not a fact. It’s an act of faith. So why not embrace agnosticism and make use of both sets of tools in your financial survival toolkit?</p>
<h3>The Toolkit</h3>
<p>Let’s just step briefly through some of the items in the mindmap. We have metals on one side, cryptos on the other.</p>

<div id="attachment_1452"><p><a href="https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit.png" target="_new" rel="noopener noreferrer"><img aria-describedby="caption-attachment-1452" loading="lazy" src="https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit.png" alt="" width="800" height="492" srcset="https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit.png 2074w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-300x185.png 300w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-1024x630.png 1024w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-150x92.png 150w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-768x473.png 768w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-1536x945.png 1536w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-2048x1260.png 2048w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-65x40.png 65w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-220x135.png 220w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-163x100.png 163w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-358x220.png 358w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-650x400.png 650w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-731x450.png 731w, https://outofthecave.io/wp-content/uploads/2020/12/TheToolkit-829x510.png 829w" sizes="(max-width: 800px) 100vw, 800px"></a></p><p id="caption-attachment-1452">Click for large version</p></div>
<p>On the cryptos side, I just think Bitcoin is the crypto-reserve currency and will continue to be for the foreseeable future. My preferred way to accumulate BTC is to earn it via my businesses. <a href="https://easydns.com/">easyDNS</a> has been accepting Bitcoin since 2013 and we’re <a href="https://easydns.com/landers/earn-crypto/">developing a payments service for clients</a> that will be based on <a href="https://btcpayserver.org/">BTCPayserver.</a></p>
<p>I put Litecoin and alts in there to trigger the maximalists. As per the Supersuckers song, <em>“I like it all man. (All or nothin’ I’m all in even when I’m bluffin’)”.</em></p>
<p>Ethereum is different animal, I think the Bitcoin vs Ethereum schism is every bit as fucking stupid as Gold vs Bitcoin. They do different things, and while they overlap in some aspects, that doesn’t mean there should only be one path forward.</p>
<p>The way I think about it, Bitcoin is the value, Ethereum is the execution. When I hear people dismiss Bitcoin because “there is as yet no ‘killer app’ that anybody has come up with for Bitcoin” I like to ask them “what is the killer app for the money in your wallet?”. Do you want to be able to play video games on your money? Collaborate on a document with your coworkers before you spend it? Dollars or&nbsp; euros aren’t dismissed as useless because nobody has come up with a compelling use case for them. You just spend it. <em>That’s&nbsp;</em>the use case.</p>
<p>Ethereum on the other hand, well that’s a whole different ball game. Smart contracts, DeFi, even Dao’s (despite early setbacks) will completely transform our lives. Ethereum, and other projects like it (Cardano, EOS, and even Ravencoin, which is actually a Bitcoin fork)&nbsp; are going to provide ways to code parameters and instructions around value and wealth that will be guaranteed to execute and can outrun government overreach.</p>
<p>We’re now coming out of that <a href="https://outofthecave.io/articles/welcome-to-bitcoins-trough-of-disillusionment/">“Trough of Disillusionment”</a> I wrote about back in 2018 and we have actual companies, actual businesses and ways to derive income now in crypto. We can invest in miners, in crypto based publicly traded companies, we can stake our assets or lend them and earn a return on them. Multiple income streams available here so we actually have some ability to compound whatever wealth we’ve managed to port to the crypto-economy separate from any nominal gains garnered in fiat terms.</p>
<p>And of course, with crypto we have the ability to move capital, in figurative terms, simply by thinking about it. If Actual Communism comes to your habitat and the best you can manage is to get out with your skin and some pass phrases you’ve remembered in your head, you can retrieve some of your assets wherever you come up for air (read <a href="https://amzn.to/2IghIzy">“We The Living”</a>. Take it to heart. This is the fate we seek to avoid, and large chunks of the world are barreling straight at it).</p>
<p>On the precious metals side you have your physical metals which, if all goes well, you simply keep vaulted in various places and your currency never collapses and you teach your kids that they should preserve the hoard and only use it in extreme emergencies down the road. And to teach their kids the same. You have junk silver in case there <em>is&nbsp;</em>a currency crisis and you don’t want to have to carve off a piece of a Krugerrand in order to buy some food at the market.</p>
<p>You have some gold tucked away in international vaults like <a href="http://www.bullionvaultaffiliate.com/trustable">Bullionvault</a> and <a href="https://www.goldmoney.com/w/wealthnet">Goldmoney</a>. My cousins run <a href="https://www.trustablegold.com/">TrustableGold.com</a> which rates these places.</p>
<p>All of this stuff, especially on the crypto side, has to be set up in advance, and you have to know how to navigate these systems before TSHTF. When a mob of mostly peaceful democratic socialists are tearing through your town and burning down your homes and businesses, or when the government is hanging both goldbugs and HODL-ers from lamposts, you do not want to be learning how to set up a Monero wallet and frantically converting as much as you can into it, nor do you want to be just then opening your Goldmoney account and trying to wire in some funds.</p>
<p>It has to be ready <em>now</em>, so&nbsp; when the inevitable&nbsp;<em>Financial Repressions </em>intensifies, or God forbid, the <em>Financial Tyranny</em> occurs, you can focus on executing your exit plans and coming out on the other end with enough capital and wealth to rebuild.</p>
<h3>The missing link</h3>
<p>What we really need are bridges between crypto-currencies and gold. Not metaphorical “can’t we all be friends” bridges, I mean gateways, tokenized/staked storage and transfer of precious metals. Conversion into or out of crypto from metals. This is not easy.</p>
<p>There have been attempts in the past, <a href="https://theagora.libsyn.com/gold-vs-crypto">Roger Ver, in Sal the Agorist’s recent “Gold vs Bitcoin” podcast</a> mentioned e-gold. easyDNS was the only domain registrar to accept e-gold back in the day and that’s how we amassed our physical gold which remains on our balance sheet even now. But contrary to Ver’s assertion that the government’s shutdown of E-gold speaks to gold’s inferiority to Bitcoin – that’s not entirely accurate. E-gold turned a blind eye to governance and it really was a wild west of ponzi schemes and criminal activity. Contrast with other DGCs of the day, like Pecunix or Goldmoney, the latter of which still exists. Goldmoney had far more stringent KYC and governance protocols, self-enforced, and here they are – still up and running.</p>
<p>In fact it was Goldmoney who had one of the more recent attempts at Bitcoin to vaulted gold convertability under their incarnation as Bitgold. They’ve since discontinued this precisely because of the governance hurdles.</p>
<p>I won’t trivialize how hard this is, but for people droning on about the need for a ‘killer app’, this one would probably do well.</p>
<h3>It’s all about optionality</h3>
<p>Both metals and crypto tribes look at the financial system and our legacy institutions as entering some form of breakdown and decline. Because the future is inherently unknowable, what makes more sense?</p>
<p>A) Betting on one half of a toolbox that may pay off huge in some scenarios but be worthless in others, or</p>
<p>B) Having a full toolbox that can give you some good outcomes under most imaginable circumstances?</p>
<p><strong>If you’re a goldbug</strong>, would it kill you to have a&nbsp;<em>fraction&nbsp;</em>of your liquidity in Bitcoin, knowing that from past events crypto superspikes tend to 10X or 100X or more with stubborn repetitiveness and increasing magnitude?</p>
<p><strong>If you’re into Bitcoin</strong>, buying the right gold miners now with a fraction of your capital may very well set you up with an increasingly fat, cushy dividend stream in a few years that you can use for living expenses while you continue to HODL.</p>
<p>Now there are many End Gamer luminaries out there who are invested in both even though …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://outofthecave.io/articles/gold-vs-bitcoin-is-fucking-stupid/">https://outofthecave.io/articles/gold-vs-bitcoin-is-fucking-stupid/</a></em></p>]]>
            </description>
            <link>https://outofthecave.io/articles/gold-vs-bitcoin-is-fucking-stupid/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25306259</guid>
            <pubDate>Fri, 04 Dec 2020 19:01:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Myth of Code Coverage]]>
            </title>
            <description>
<![CDATA[
Score 77 | Comments 98 (<a href="https://news.ycombinator.com/item?id=25306071">thread link</a>) | @ingve
<br/>
December 4, 2020 | https://preslav.me/2020/12/03/the-myth-of-code-coverage/ | <a href="https://web.archive.org/web/*/https://preslav.me/2020/12/03/the-myth-of-code-coverage/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body"><p>One question I often ask potential software engineering candidates is to pinpoint the percentage of code coverage in an ideal project. Interestingly enough, many of them jump to the sky with numbers beyond 90%. They would start preaching how well-tested code is more reliable and brings more value to all stakeholders. When I ask about the current projects they work on, the reality looks a bit more down to earth.</p><p>Want to know my answer? I'd say it's <strong>around 66.7%</strong>.</p><p>The reasons for that vary, but allow me to be blunt and say that <strong>1/3 of the code every software project is irrelevant, buggy, overly complicated, or simply sucks.</strong> It has a reason to be where it is, but chances are, one year down the road, it will become a liability. Being dogmatic about tests and covering every line will only make it more difficult to get rid of it.</p><p>See, no two lines of code are equal in value and importance. Adding a new feature to an existing application affects its capabilities only marginally. However, it takes a proportionally large amount of time to develop and integrate due to the existing complexity. The bigger the complexity, the longer it takes to introduce new functionality. By the time the feature finds itself in production, it may as well be already irrelevant.</p><blockquote>The only sure-fire way to improve code coverage (and by that keep software relevant) is to identify and remove the unnecessary code.</blockquote><p>How do you identify irrelevant code? Don't search for it. Instead, let it reveal itself to you. One dimension of software that few teams make good use of, is its history. Git is a great analysis tool. Start using it not only to prevent future problems but also, to understand where and how often certain parts of the code change over time.</p><p>Chances are, you will find pieces of code that have undergone fewer changes than the rest in long periods. Those are the pillars of your application - the 2/3s that <strong>must be well-tested</strong>.</p><p>You will also find others where changes occur more or less every week. Ask yourselves whether those are still relevant, both from a technical and business perspective. Adding tests for the sake of coverage would have the opposite effect of increasing the code quality. In a perfectly-design software project, the part that is allowed to change most often is the configuration. A simple analysis of the code change frequency would show whether that is the case. If it isn't, try separating the moving parts from the core logic. If this is not feasible either, most probably those portions of the code don't belong to the codebase anyway. Turning them into interchangeable scripts (even stored in a separate repository) is one way of tackling them in their own right.</p><p>Let's not get too much into technical details. I have already alluded to the work of <a href="https://twitter.com/AdamTornhill">Adam Tornhill</a> on code analysis in a previous post of mine:</p><figure><a href="https://preslav.me/2020/03/01/use-the-git-history/"><div><p>Use the Git History to Identify Pain Points in Any Project</p><p>Have you heard of Adam Tornhill [https://twitter.com/AdamTornhill]’s work? If
not, I highly recommend that you set some time aside and check out Your Code as
a Crime Scene [https://amzn.to/32DM1G9] or Software DEsign X-Rays
[https://amzn.to/2vtbjdR…</p><p><img src="https://preslav.me/favicon.png"><span>Preslav Rachev</span></p></div><p><img src="https://www.gravatar.com/avatar/fd47e6bba1f42ecacf2e7af9e4c5fb52?s=250&amp;d=mm&amp;r=x"></p></a></figure><p>In a future post, I will discuss some of the new ideas I applied to the simple git one-liner I presented there.</p></div>
</div></div>]]>
            </description>
            <link>https://preslav.me/2020/12/03/the-myth-of-code-coverage/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25306071</guid>
            <pubDate>Fri, 04 Dec 2020 18:46:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How we saved our indie coworking from Covid and got into growth mode]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25305760">thread link</a>) | @JohanCutych
<br/>
December 4, 2020 | https://www.crazymonkeys.io/written-bits/how-we-saved-our-indie-coworking-from-covid-and-got-into-growth-mode | <a href="https://web.archive.org/web/*/https://www.crazymonkeys.io/written-bits/how-we-saved-our-indie-coworking-from-covid-and-got-into-growth-mode">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>When COVID hit the first time, we lost 80% of our little independent coworking space revenue within a month 😱.</p><p>The math were pretty simple: 30% of our revenue come from the venue booking for events, 40% from sponsorship, 10% from our own events &amp; 20% from actual coworking membership. With no event, we don't only loose the revenue from this channel but also the value creation we are selling to sponsors: traffic and exposure. So all others channels are getting impacted 💥.</p><p>After a month of tears and cry, I realised that this was not a threat: it was actually a surge to upgrade our model. The way events are done and value creation perceived will never be the same again. And we better embrace it now!<br>So we turned one of our meeting room into a fully equipped studio and started promoting hybrid events to companies.</p><p>At the beginning, very few got the point: "Why would I need you when I can simply do a Facebook live on my own". Then they eventually realised that there is 99 ways to do a shitty online event 💩. And finally, when they saw the quality and engagement of our own hybrid event, it was WAY easier to sign some deals.</p><p>Quickly, hybrid events became a major part of our revenue. What so interesting is that it became an asset to leverage the existing sponsorship deals we signed pre covid. In deed we will never get the level attention we have today. Meanwhile, most companies social media are cruelly missing high quality content. Thanks to that sponsorship, they were able to deliver value added &amp; relevant content to their audience without having to create it.</p><p>Smaller content creators and individuals were also interested by the value creation: a plug and play space where they could create live content in the best possible condition without having to manage the technical parts.</p><p>Today, our revenue is mainly driven by content creation needs. Podcast, videocast, live events, interview, it really looks like more and more people understood that quality has a cost but also a return on investment and they are willing to pay for it.</p><p>Based on our successful execution, we got the attention of bigger companies and had the honor to co-create <a href="https://www.antistud.io/" target="_blank">https://www.antistud.io</a>, a series a coworking coffee in France turned into production ready spaces.</p><p>To put some context, our coworking space (<a href="https://www.facebook.com/lespot.coworking.guadeloupe" target="_blank">https://www.facebook.com/lespot.coworking.guadeloupe</a>) is based in Guadeloupe, a tiny island in the Caribbean. So you can imagine how proud we are to start from there something that is creating value for a way bigger company.</p><p>➡ The take away for you: Where ever you are, what ever is the size of what you're doing, keep in mind that in the internet world, it can be seen by anyone and inspire. So make sure you turn your valuable work into an asset by documenting it. I know, the process is often tiring but if you are doing is creating value for others, the magic of the internet karma powered by your intention will create some magic for you !</p><p>🔗 Our coworking: <a href="https://www.facebook.com/lespot.coworking.guadeloupe/" target="_blank">https://www.facebook.com/lespot.coworking.guadeloupe/</a><br>🔗 The coworking cafe startup Anticafé: <a href="https://anticafe.eu/" target="_blank">https://anticafe.eu</a><br>🔗 Our co-creation with Anticafé: <a href="https://www.antistud.io/" target="_blank">https://www.antistud.io/</a></p><p>‍</p></div></div><div id="signup"><p>💌 &nbsp;No pressure...</p><div><h2>Come, be a little crazy too</h2><p>Subscribe to our newsletter. We share many things here, but there is even more. Trust me.</p><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div></div></div><p><a href="#"><img src="https://assets.website-files.com/5fbb8bd8394558e7d25efb77/5fca02c239c7dc65b0dc4ce1_logo_cm.png" loading="lazy" width="149" alt=""></a></p></div></div>]]>
            </description>
            <link>https://www.crazymonkeys.io/written-bits/how-we-saved-our-indie-coworking-from-covid-and-got-into-growth-mode</link>
            <guid isPermaLink="false">hacker-news-small-sites-25305760</guid>
            <pubDate>Fri, 04 Dec 2020 18:17:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Git stash doesn’t have to be scary]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25305738">thread link</a>) | @chmaynard
<br/>
December 4, 2020 | https://jemma.dev/blog/git-stash | <a href="https://web.archive.org/web/*/https://jemma.dev/blog/git-stash">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>It was only when I recently heard someone else say, “git stash is scary” that I realized it was top of my list of fears too. It just usually feels like there’s a chance I’ll just lose all of my in progress work to the depths of stashes and never be able to get the right incantation of <code>git</code> commands to reincarnate my code.</p>

<h3 id="what-does-git-stash-do">What does git stash do?</h3>

<p>Let me backtrack a minute! I haven’t yet explained what <code>git stash</code> even does. On the most basic level, <code>git stash</code> is one way to store in progress work in <code>git</code> for subsequent access, leaving behind a clean working directory.</p>

<p><em>Meta-note</em>: this post will be easiest to follow along if you open up a terminal and play around with <code>git stash</code> as you’re reading! The lack of syntax highlighting makes it a little tricky to see git additions / deletions. You can play around with any git repo you have, or clone <a href="https://github.com/githubtraining/hellogitworld">this hello world one</a> locally to work in a complete sandbox!</p>

<h3 id="stacks">Stacks</h3>

<p>Stashes are more easily understood as a basic last in, first out stack.</p>

<ul>
  <li><code>git stash push</code> (equivalent to <code>git stash</code> when used with no arguments) will push any local changes onto the stash and leave a clean working directory.</li>
</ul>

<div><div><pre><code><span>$ </span>git status
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

Changes not staged <span>for </span>commit:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to update what will be committed<span>)</span>
  <span>(</span>use <span>"git restore &lt;file&gt;..."</span> to discard changes <span>in </span>working directory<span>)</span>
	modified:   README.md

no changes added to commit <span>(</span>use <span>"git add"</span> and/or <span>"git commit -a"</span><span>)</span>

<span>$ </span>git stash push
Saved working directory and index state WIP on main: 6ab43aa Initial commit

<span>$ </span>git status
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

nothing to commit, working tree clean

</code></pre></div></div>

<p>There are a plethora of arguments we can pass to <code>git stash push</code>. The ones I find most helpful are:</p>

<ul>
  <li><code>-m &lt;message&gt;</code> saves the stash with a message, can be helpful for our future selves</li>
</ul>

<div><div><pre><code><span>$ </span>git stash push <span>-m</span> <span>"description"</span>
Saved working directory and index state On main: description
</code></pre></div></div>

<ul>
  <li><code>-p</code> patches changes (used like <code>git add -p</code>), allowing us to select which hunks to add to the stash. <a href="https://www.gnu.org/software/diffutils/manual/html_node/Detailed-Unified.html">Hunks</a> are areas where two files differ. Git will partition files into hunks for us!</li>
</ul>

<div><div><pre><code><span>$ </span>git stash push <span>-p</span>
....
Details about the hunk
....
<span>(</span>1/1<span>)</span> Stash this hunk <span>[</span>y,n,q,a,d,e,?]?
</code></pre></div></div>

<ul>
  <li><code>-u</code> includes untracked files in the stash. Without this flag, a file that <code>git</code> had never seen before would not be included in a stash</li>
</ul>

<div><div><pre><code><span>$ </span><span>touch </span>new-file
<span>$ </span>git status
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

Untracked files:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to include <span>in </span>what will be committed<span>)</span>
	new-file

nothing added to commit but untracked files present <span>(</span>use <span>"git add"</span> to track<span>)</span>

<span>$ </span>git stash push <span>-u</span>
Saved working directory and index state WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<ul>
  <li><code>-k</code> keeps the files (or hunks) which were staged. Without this option, when we apply a stash, nothing will be staged. More on applying in the next section!</li>
</ul>

<h3 id="accessing-the-stash">Accessing the stash</h3>

<p>Okay, we can now push changes onto the stash. But…. they’re still the stash abyss if we have no way of accessing them.</p>

<p><code>git stash list</code> shows us what is on the stash:</p>

<div><div><pre><code><span>$ </span>git stash list
stash@<span>{</span>0<span>}</span>: On main: Clear description of these changes
stash@<span>{</span>1<span>}</span>: WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<p>This is where the <code>-m</code> message flag from earlier will be incredibly helpful. The first item in my stash had a message (<code>Clear description of these changes</code>), the second did not.</p>

<p>Okay, okay. We can now <em>see</em> what’s on the stash. But how do we access anything on the stash? Or remove it from the stash?</p>

<p><code>git stash show</code> will show us the difference between the top item on the stash, and our current working directory:</p>

<div><div><pre><code><span>$ </span>git stash show
 README.md | 1 +
 1 file changed, 1 insertion<span>(</span>+<span>)</span>
</code></pre></div></div>

<p>If we want to reference a different set of changes on the stash, and not the most recent one, we can use the stash index of those changes. As we can see above, each item on the stash has an index, and can be referred to by <code>stash@{index}</code></p>

<p>So, to see the set of changes in the next item on our stack, we can run:</p>

<div><div><pre><code><span>$ </span>git stash show stash@<span>{</span>1<span>}</span>
 README.md | 2 +-
 1 file changed, 1 insertion<span>(</span>+<span>)</span>, 1 deletion<span>(</span>-<span>)</span>
</code></pre></div></div>
<p>Neat, so we now know how to get the differences and look at what’s in the stash. But to actually access what’s on the stash, we’ll need <code>git stash apply [&lt;stash&gt;]</code>. It similarly can take an argument with the stash index to reference something later in the stash. If no argument is provided, it will default to the most recent set of changes we put in the stash (the ones at <code>stash@{0}</code>)</p>

<div><div><pre><code><span>$ </span>git stash apply stash@<span>{</span>1<span>}</span>
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

Changes not staged <span>for </span>commit:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to update what will be committed<span>)</span>
  <span>(</span>use <span>"git restore &lt;file&gt;..."</span> to discard changes <span>in </span>working directory<span>)</span>
	modified:   README.md

no changes added to commit <span>(</span>use <span>"git add"</span> and/or <span>"git commit -a"</span><span>)</span>
</code></pre></div></div>

<h4 id="removing-from-the-stash">Removing from the stash</h4>

<p>However, <code>git stash apply</code> will not <em>remove</em> the changes from the stash. If we look at the stash now, we’ll see it’s the same as it was:</p>

<div><div><pre><code><span>$ </span>git stash list
stash@<span>{</span>0<span>}</span>: On main: Clear description of these changes
stash@<span>{</span>1<span>}</span>: WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<p>In order to remove a set of changes from the stash, we can use <code>git stash drop [&lt;stash&gt;]</code></p>

<div><div><pre><code><span>$ </span>git stash drop stash@<span>{</span>0<span>}</span>
Dropped refs/stash@<span>{</span>0<span>}</span> <span>(</span>b09812812eb27de2cb49bfd02aba43889362b6de<span>)</span>

<span>$ </span>git stash list
stash@<span>{</span>0<span>}</span>: WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<p>We can see that the set of changes at <code>stash@{0}</code> are now no longer on the stash, and the set of changes which were at <code>stash@{1}</code> are now at <code>stash@{0}</code>.</p>

<p>If we want to <code>apply</code> and <code>drop</code> a set of changes, we can conveniently use <code>git stash pop [&lt;stash&gt;]</code>. <code>pop</code> will only also <code>drop</code> if there’s no merge conflict.</p>

<p>To clear the stash completely, we can run <code>git stash clear</code>. This is the <em>actual</em> scary command which will cause us to lose any work in progress that you had stashed. Only run <code>git stash clear</code> if you never again want to access what is currently on the stash.</p>

<h3 id="why-stash">Why stash?</h3>

<p>So we’ve learned how to use <code>git stash</code>, but still haven’t covered <em>why</em> to use it. Stashing is intended to be a quick and easy way to get to a clean working state while not losing in progress work. And it is! Both quick, and now hopefully easy!</p>

<p>One example of when I might use <code>git stash</code> is if I’m in progress on some changes, but realize I want to amend a prior commit. I can stash the changes, amend the commit, and then apply the stash to get back to where I was.</p>

<p>Another is if I am trying to experiment with a few different ways to solve a problem, and want small, quick examples down each solution path. I might create stashes with all of my examples, and then pick the best and pursue that set of changes in a branch structure.</p>

<p>Additionally, stashing is especially helpful because it is branch agnostic. That is to say, if we switch branches, our stash will remain the same. This means stashing can also be a convenient way to carry changes through different branches.</p>

<h3 id="when-not-to-stash">When not to stash</h3>

<p>Equally import to why stash is when <em>not</em> to use it.</p>

<p>Stashing was built for convenience, and is not intended to be a permanent way to save work; that’s what branches and commits are for. Stashing also only works locally, you can’t push stashes to a repo or have others pull them down.</p>

<h3 id="branches-from-stash">Branches from stash</h3>

<p>Speaking of branches, another fun feature of stashes is that we can create a branch directly from a stash. This is done using <code>git stash branch &lt;branch_name&gt; [&lt;stash&gt;]</code> This will also drop the changes from the stash, equivalent to a <code>git stash pop</code> not a <code>git stash apply</code>.</p>

<div><div><pre><code><span>$ </span>git stash branch new-branch
Switched to a new branch <span>'new-branch'</span>
On branch new-branch
Changes not staged <span>for </span>commit:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to update what will be committed<span>)</span>
  <span>(</span>use <span>"git restore &lt;file&gt;..."</span> to discard changes <span>in </span>working directory<span>)</span>
	modified:   README.md

no changes added to commit <span>(</span>use <span>"git add"</span> and/or <span>"git commit -a"</span><span>)</span>
Dropped refs/stash@<span>{</span>0<span>}</span> <span>(</span>d6a804a40c0b477d8e3be27939310ff677f45670<span>)</span>
</code></pre></div></div>

<h3 id="in-summary">In summary</h3>

<ul>
  <li><code>git stash</code> operates on a LIFO stack of sets of changes</li>
  <li><code>git stash list</code> shows what’s on the stash</li>
  <li><code>git stash push</code> pushes to the stash</li>
  <li><code>git stash apply</code> access changes on the stash</li>
  <li><code>git stash drop</code> removes changes from the stash</li>
  <li><code>git stash pop</code> does an <code>apply</code> and a <code>drop</code></li>
  <li>These default to the most recent item on the stash, to reference another one use <code>stash@{index}</code> where you can determine the index from <code>git stash list</code></li>
  <li>Some of these have flags which make them more convenient, including: <code>-m</code> message, <code>-p</code> patch, <code>-u</code> include untracked files, <code>-k</code> keep staged changes staged</li>
</ul>

<p>Hopefully you, too, can now add <code>git stash</code> to the list of fears you’ve conquered!</p>

<p>For further reading on stashing, take a look at the <a href="https://git-scm.com/docs/git-stash">git stash docs</a>. For further reading on <a href="https://www.brainyquote.com/topics/fear-quotes">conquering fears</a>, here is a favorite quote of mine, “Nothing in life is to be feared, it is only to be understood. Now is the time to understand more, so that we may fear less.” - <a href="https://en.wikipedia.org/wiki/Marie_Curie">Marie Curie</a></p>


  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://jemma.dev/blog/git-stash</link>
            <guid isPermaLink="false">hacker-news-small-sites-25305738</guid>
            <pubDate>Fri, 04 Dec 2020 18:15:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fable 3: F# to JavaScript compiler]]>
            </title>
            <description>
<![CDATA[
Score 227 | Comments 99 (<a href="https://news.ycombinator.com/item?id=25305650">thread link</a>) | @adamnemecek
<br/>
December 4, 2020 | https://fable.io/blog/Announcing-Nagareyama-4.html | <a href="https://web.archive.org/web/*/https://fable.io/blog/Announcing-Nagareyama-4.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Today is the day, Fable 3 Nagareyama is officially released! Does this mean the latest version is bug-free? Probably not, but at least the install command is shorter. We have also tested the release candidates in many projects and managed to fix all the outstanding issues so if you find a problem when upgrading your Fable 2 project you may even consider yourself lucky (also, please report).</p>
<p>First things first, I have to acknowledge all the people that have contributed to this release: from Don Syme himself to ncave, our mysterious contributor, and all the early-users that have helped polish this release. Very importantly, the teachers too that take care of my children in difficult times so I can focus on programming. The fact that so many people can collaborate together to put a project like Fable forward still feels like magic to me and I can only say a big THANK YOU to you all. I'm also very happy this is coincidental with the release of F# 5, as incredibly smart people are putting a lot of effort to make the development experience with the language really pleasant. Quoting Krzysztof Cieślak, what a great time to be an F# developer!</p>
<p>How can you try Fable 3, you say? This is it:</p>
<pre><code>dotnet tool install fable
dotnet fable src</code></pre><p>(Change "src" with the path to your project.) It's that easy, type <code>dotnet fable --help</code> to see more options. Of course you still need extra tooling to bundle the JS code, spin off a development server, etc. If you're upgrading an app using Webpack, please <a href="https://github.com/MangelMaxime/fulma-demo/pull/43">check this PR for reference</a>.</p>
<p>Let's quickly go through the highlights of Nagareyama:</p>
<ul>
<li>It's Fable v3. Three is bigger than two, that's already a win.</li>
<li>There are no breaking changes, your Fable 2 project should compile as is with Nagareyama (you may need to update some libraries).</li>
<li>It's a dotnet tool, following suit with most F# project. Remember when Fable, Paket and Fake had each their own way to be downloaded and version-managed? Those days are happily gone!</li>
<li>It removes the inter-process communication with JS, greatly simplifying Fable usage and development.</li>
<li>The previous point together with other fixes have improved the compilation speed by a big deal. Expect it to be at least cut in half in most cases!</li>
<li>Fable is not tightly coupled with a specific bundler anymore like Webpack so you can use any tool you like! (Webpack is still a great choice.)</li>
<li>A lot of effort has been also put to prettify the generated code, making it more readable and easier to debug if needed.</li>
<li>Nagareyama can accept plugins by library authors. Zaid is already using this feature to make it much simpler to <a href="https://youtu.be/a6Ct3CM_lj4?t=860">write React components compatible with JS tooling</a>.</li>
</ul>
<p>You can check the <a href="https://fable.io/blog/Announcing-Nagareyama-3.html">previous posts</a> for more details.</p>


<p>So what are you waiting for? Give Nagareyama a try and let the world know if it goes well... and let us know (privately) if it doesn't 😅 Have fun!</p>
</div></div>]]>
            </description>
            <link>https://fable.io/blog/Announcing-Nagareyama-4.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25305650</guid>
            <pubDate>Fri, 04 Dec 2020 18:08:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: TerminusDB 4.0 'Data and Content Management in a Box']]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25305296">thread link</a>) | @LukeEF
<br/>
December 4, 2020 | https://terminusdb.com/blog/2020/12/03/terminusdb-4-0-the-stars-end-release/ | <a href="https://web.archive.org/web/*/https://terminusdb.com/blog/2020/12/03/terminusdb-4-0-the-stars-end-release/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div id="markdown" itemprop="articleBody">
          

<p><strong>Version 4.0 of TerminusDB - the Star’s End Release</strong> * - is a big step forward in solidifying and extending the functionality of TerminusDB and TerminusHub.</p>

<p><a href="https://terminusdb.com/">TerminusDB</a> is an <a href="https://github.com/terminusdb/terminusdb">open source</a>, revision control graph database designed for distributed collaboration. TerminusDB allows you to push, pull, time-travel and merge data, much in the way that is possible with code in Git.</p>

<p>With this release TerminusDB takes a significant step towards our vision of a general-purpose tool for data &amp; content management and collaboration.</p>

<p>TerminusDB 4.0 extends the revision control features to allow greater visibility and reproducability by allowing you to look inside individual commits to see what changes were made. Provenance, lineage, and compliance are increasingly essential in the management of data and content.</p>

<p>The <em>major</em> additional features are:</p>

<h3 id="model-building-tool">Model Building Tool</h3>

<p>The database ships with an integrated visual schema building tool. It allows users to build complex data models using point and click tooling. This makes building models significantly quicker, more efficient, and inclusive of a broader range of people by lowering the technical bar for the application of business rules to your data.</p>

<p>It lets you visually design knowledge graphs in the same way they are presented to business users. We have tried to make the tool easy to use, while preserving the ability to model the most complex domains.</p>

<p>Like everything in TerminusDB, the models are versioned so you can make changes in testing and if it breaks your database, you can easily roll back to an earlier working version. This <strong>collaborative knowledge graph design and implementation functionality</strong> does not exist elsewhere.</p>

<p>You can currently share your models/schemas through TerminusHub - the next step is to make modelling and collaboration even easier by providing data-libraries on TerminusHub, including schema.org but also basic standard models for common domains such as CRM, accounting, and inventory. Users can then generate and share models with collaborators or the broader public.</p>

<h3 id="document-editor">Document Editor</h3>

<p>TerminusDB 4.0 has full surfability, clickability and editability of database documents through the console. It is a wiki or catalogue of all your data that you can edit in place. You don’t have to write code or execute a query, just edit the document directly. If you have a collaborative project, this is a useful approach to building and curating data assets.</p>

<p>The documents link to associated documents delivering a linked data application. You can filter documents, you can find the document you want using search, you can create a new document in the interface - it is a <strong>general-purpose tool for managing your data</strong>.</p>

<p>This is the beginning of the TerminusDB content management system, which we will be expanding over the coming months - next step is to provide web accessibility to TerminusHub databases and then a publisher API to provide the ability to publish the results of any query as a static content set.</p>

<h3 id="csv-manager">CSV Manager</h3>

<p>With a single click, you can now build a database from a CSV or a group of CSVs. You can easily use TerminusDB and TerminusHub as a place to version and collaborate when working with CSV data. This will be especially useful with fast changing data as frequently used in machine learning and data science projects.</p>

<p>We have tried to make it as simple as possible for users to interact with the CSV tooling. You can view and edit CSVs directly in the document viewer. You can also add CSVs from this interface. No need to write code.</p>

<p>The database automatically spots if the CSV is already in the database and will just add the delta. There is an append mode that just adds the data that is not there and an update mode that updates the entire CSV.</p>

<p><strong>Manage your CSVs and other data via TerminusDB and Hub.</strong></p>

<h3 id="command-line-interface">Command Line Interface</h3>

<p>We are excited to launch the TerminusDB CLI. You can connect to TerminusDB with a Git-like CLI to run queries or use the revision control features.</p>

<p>You can create databases and branches, you can list databases/branches, you can query in the command line and you can load CSVs. You also get full error reporting in the CLI. Use the CLI to import a CSV, commit changes and push the changes to TerminusHub.</p>

<p>The CLI will continue to develop and add new operations. We will make it easier to execute queries directly from the CLI. We’re also planning to launch CLIs for the JavaScript and Python clients.</p>

<p>TerminusDB is a big step towards our ambition to be a complete decentralized data and content management system that is accessible to all.</p>

<p><strong>END</strong></p>

<p>* Star’s End is a reference to the mysterious location of the Second Foundation in the Asimov series of novels. The home of the First Foundation was Terminus.</p>

<p><img src="https://terminusdb.com/blog/assets/uploads/4.0_2.png" alt=""></p>

        </div>

        



      </div>
    </div></div>]]>
            </description>
            <link>https://terminusdb.com/blog/2020/12/03/terminusdb-4-0-the-stars-end-release/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25305296</guid>
            <pubDate>Fri, 04 Dec 2020 17:39:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Fast Is My FPGA Design? Types Will Tell Me!]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25305242">thread link</a>) | @durst
<br/>
December 4, 2020 | https://davidbdurst.com/blog/how_fast.html | <a href="https://web.archive.org/web/*/https://davidbdurst.com/blog/how_fast.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="header">
                <div>
                    <div>
                        <p>
                            <h3>How Fast Is My FPGA Design? Types Will Tell Me!</h3>
                        </p>
                    </div>
                    
                </div>
            </div><div>
                <p>
                    Let's look at a type-directed approach for implementing
                    image processing applications on FPGAs. This approach will
                    enable us to statically verify a design's throughput. If you
                    like this post, check out my PLDI 2020 paper <a href="https://aetherling.org/">Aetherling</a>, which
                    provides a formal definition of the types and uses them
                    to make trade-offs automatically during the FPGA design process.
                </p>
            </div><div id="main_content">
                <div>
                    <!--target audience: someone at google who already knows its hard to make stuff fast, not hardware person, knows that apple and google are doing custom hardware (maybe), interested in design choices apple/google would have to make-->
                    <p>
                        Hardware designs on FPGAs offer a different set of
                        performance trade-offs compared to software running on a
                        CPU. Greater parallelism can be achieved on an FPGA by
                        allocating more resources, like adders and multipliers.
                        This is unlike a CPU with a fixed number of cores and
                        vector lanes per cores. However, FPGA have limited
                        resources, so trade-offs must be made between
                        parallelism (or throughput) and resource utilization. In
                        this blog post, we're going to look at the
                        throughput-resource utilization trade-offs for FPGA
                        implementations of image processing operations like
                        image blurring. There are many ways to blur images on an
                        FPGA. Some designs have higher throughput, and others
                        require fewer resources. I'm going to demonstrate a type
                        system for expressing designs with different
                        throughput-resource tradeoffs that enables you to
                        statically determine a design's throughput.
                        <a href="#types_of_resources">
                            (See below for a refresher on the types of resources
                            available on an FPGA.)
                        </a>
                    </p>

                    <h4 id="what_else">
                        <a href="#what_else">
                            FPGA designs for image blurring with different throughput-resources trade-offs
                        </a>
                    </h4>
                    <p>
                        Before we get to the type system, let's look at a few
                        different ways to blur an image on an FPGA. These
                        designs will have different throughout-resources
                        trade-offs. The below video shows one design that
                        processes one pixel per clock cycle. It does so by
                        streaming over the input pixels, accepting one at a
                        time, storing two prior input pixels in registers, and
                        computing the average of the current input and the prior
                        two.
                    </p>

                    

                    <p>
                        Design a in the image below shows the same one pixel per
                        clock design as the above animation. Designs b and c
                        show two other implementations with different
                        throughput-resource utilization trade-offs. Design b
                        processes two elements per clock, doubling the
                        throughput relative to design a and the animation above.
                        Design b requires double the adders and dividers
                        compared to design a in order to achieve this
                        throughput. Design c saves on adders but can only
                        process one pixel every third clock cycle.
                    </p>

                    <div>
                        <div id="three_blurs">
                            <figure>
                                <p>Design a</p>
                                <img src="https://davidbdurst.com/blog/aetherling_media/1px_per_clock_no_clk.svg">
                                <p>Design b</p>
                                <img src="https://davidbdurst.com/blog/aetherling_media/2px_per_clock_no_clk.svg">
                                <p>Design c</p>
                                <img src="https://davidbdurst.com/blog/aetherling_media/1_3px_per_clock_no_clk.svg">
                                <figcaption>
                                    Three different implementations of a blur.
                                    The gray nodes accept and emit data every
                                    clock. The red nodes accept and emit data
                                    every third clock.  For simplicity, these
                                    designs only do a blur on a 1D image.
                                </figcaption>
                            </figure>
                        </div>
                    </div>

                    <p>
                        You could write up all these different designs in
                        Verilog. Assuming you wrote correct code, they would
                        synthesize to a bitstream, run on an FPGA, and provide
                        the expected throughput. But, it would be challenging to
                        statically verify that the designs achieved the correct
                        performance.
                    </p>

                    <h4 id="st_types">
                        <a href="#st_types">
                            Space-time types encode throughput
                        </a>
                    </h4>
                    <p>
                        Now that we've seen some different designs, we're ready
                        for the types that encode their throughputs. Since we're
                        building application-specific hardware, we can encode
                        the throughput of the designs down to the clock cycle
                        without complex performance issues common in software
                        like multi-threading. I'm going to introduce these types
                        using a simpler example than blur: <code>map
                        add10</code>. This code adds 10 to each element in an
                        input sequence. When implementing a map on an FPGA,
                        there are two basic implementations. The first
                        implementation, <code>map_s add10</code> (or
                        <code>map</code> in space), is fully parallel and
                        duplicates <code>add10</code>. If the <code>map_s</code>
                        is applied to a sequence of four elements, then four
                        elements arrive on one clock cycle, <code>map_s</code>
                        adds 10 to every element, and the four elements depart
                        on the same clock cycle. The second implementation,
                        <code>map_t add10</code> (or <code>map</code> in time),
                        is fully sequential and requires only one copy of the
                        <code>add10</code> circuit. The four input elements
                        arrive on four separate clocks and <code>map_t</code>
                        adds 10 to one element at a time.
                    </p>

                    <div>
                        <div id="st_maps">
                            <figure>
                                <p><code>map_s add10</code></p>
                                <img src="https://davidbdurst.com/blog/aetherling_media/map_s_4_add10_no_arrow.svg">
                                <p><code>map_t add10</code></p>
                                <img src="https://davidbdurst.com/blog/aetherling_media/map_t_4_0_add1_no_arrow.svg">
                                <figcaption>
                                    Two different implementations of a map
                                    on an FPGA.
                                </figcaption>
                            </figure>
                        </div>
                    </div>

                    <p>
                        The types of <code>map_s</code> and <code>map_t</code>
                        encode their throughputs. <code>map_s add10 :: SSeq 4
                        int -&gt; SSeq 4 int</code> is a function on two space
                        sequences. Each space sequence (<code>SSeq 4 int</code>)
                        encodes both the length of the sequence and that all the
                        elements occur on the same clock cycle. The type
                        signature of <code>map_s add10</code> encodes it's a
                        function which accepts four <code>int</code>s on one
                        clock and emits them on one clock. This is a throughput
                        of four <code>int</code>s per clock. <code>map_t add10 :: TSeq 4 0
                        int -&gt; TSeq 4 0 int</code> is a function on two time
                        sequences. Each time sequence (<code>TSeq 4 0 int</code>)
                        encodes that all the elements elements occur on different clocks, one after another. The type
                        signature of <code>map_t add10</code> encodes it's a
                        function which accepts four <code>int</code>s on separate
                        clocks and emits them on separate clocks. This is a throughput
                        of one <code>int</code> per clock. The fully sequential
                        throughput, like the fully parallel one for <code>map_s
                        add10</code>, is easily expressed using the space-time
                        types.
                    </p>

                    <h4 id="other_throughputs">
                        <a href="#other_throughputs">
                            Space-time types enable expressing more
                            complex throughputs than just fully parallel or
                            sequential
                        </a>
                    </h4>
                    <p>
                        The prior <code>map</code> examples only had fully
                        parallel or sequential throughputs. We need to support
                        other types of throughputs in order to handle all of the
                        image blur designs. We can nest and modify the
                        parameters of the space-time types to express a wider
                        range of throughputs. The two pixel per clock blur
                        design b is partially parallel: it processes more than
                        one pixel per clock but doesn't do the entire image at
                        once. We can encode partially parallel throughputs by
              …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://davidbdurst.com/blog/how_fast.html">https://davidbdurst.com/blog/how_fast.html</a></em></p>]]>
            </description>
            <link>https://davidbdurst.com/blog/how_fast.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25305242</guid>
            <pubDate>Fri, 04 Dec 2020 17:36:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One last trip down memory lane with the Raspberry Pi Zero]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25304897">thread link</a>) | @alexellisuk
<br/>
December 4, 2020 | https://blog.alexellis.io/memory-lane-raspberry-pi-zero/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/memory-lane-raspberry-pi-zero/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><p>The <a href="https://www.raspberrypi.org/products/raspberry-pi-zero/?resellerType=home">Raspberry Pi Zero</a> and original Raspberry Pi both have a 32-bit ARM architecture which many projects have dropped support for. So when I saw that <a href="https://github.com/containerd/containerd/pull/4530">containerd recently merged a fix</a> for building containerd on armv6, started to think what I could do with it.</p>
<p>Earlier that month, a user of the <a href="http://github.com/openfaas/faasd">faasd project</a> which runs very well on VPSes, RPi 3 and RPi4 asked me whether it could work on the Zero and I told him it was not practical or worth his time. After all, an RPi4 with 2GB of RAM, 4 Cores and much faster I/O is only 25GBP/EUR/USD.</p>
<blockquote>
<p><a href="https://github.com/openfaas/faasd">faasd is OpenFaaS</a>, but for a single node, and designed for those who don't want to pay for and manage an entire Kubernetes cluster, GitOps, service-mesh, and IngressController just to deploy a few simple functions.</p>
</blockquote>
<p>My past experiences told me that it would be a challenge to get the zero working. It has such a paltry amount of memory available and its I/O is really slow. Still, sometimes it's fun to do things that we shouldn't. Had I been <a href="https://xkcd.com/356/">"nerd sniped"</a>?</p>
<p><img src="https://www.raspberrypi.org/homepage-9df4b/static/1dfa03d09c1f3e446e8d936dfb92267f/8924f/6b0defdbbf40792b64159ab8169d97162c380b2c_raspberry-pi-zero-1-1755x1080.jpg" width="60%">
&gt; The RPi Zero originally released in 2015.
</p><p>In this post I'll show you what you need to do to deploy functions through the <a href="https://github.com/openfaas/faas-cli">OpenFaaS CLI</a> and be able to invoke them, including multi-arch builds. At the end of the post I'll explain what the limitations are and whether we should leave the Raspberry Pi Zero with those fond memories we have of it when it was <a href="https://en.wikipedia.org/wiki/Raspberry_Pi">released in 2015</a>, 5 years ago.</p>
<h2 id="walkthrough">Walk-through</h2>
<h3 id="prereqs">Pre-reqs</h3>
<p>You will need:</p>
<ul>
<li>Raspberry Pi Zero</li>
<li>Ethernet adapter and USB &lt;&gt; USB A micro shim</li>
<li>16-32GB class 10 SD card</li>
<li>MicroUSB power adapter</li>
</ul>
<p>Flash the latest version of Raspberry Pi OS Lite to your SD card, and then create an <code>ssh</code> file in the <code>/boot/</code> folder.</p>
<p>Power up the Raspberry Pi and ssh to it with <code>ssh pi@raspberrypi.local</code>.</p>
<h3 id="installgo">Install go</h3>
<p>You can install Go from a package manager, but the version is likely to be rather old. Fortunately the Go team still ship a binary for armv6:</p>
<pre><code>export ARCH="armv6l"
echo "Downloading Go"

curl -SLsf https://dl.google.com/go/go1.13.15.linux-$ARCH.tar.gz --output /tmp/go.tgz
sudo rm -rf /usr/local/go/
sudo mkdir -p /usr/local/go/
sudo tar -xvf /tmp/go.tgz -C /usr/local/go/ --strip-components=1

export GOPATH=$HOME/go/
export PATH=$PATH:/usr/local/go/bin/
</code></pre>
<p>You now have Go installed, run <code>go version</code> to see it working.</p>
<h3 id="buildcontainerd">Build containerd</h3>
<p>faasd uses containerd rather than Docker, but there are no official binaries for any of the ARM CPUs, so we have to build them from source.</p>
<p>For armv7 and ARM64, you can use my repo <a href="https://github.com/alexellis/containerd-arm">alexellis/containerd-arm</a>. It's my hope to see ARM support upstreamed, but having spoken on several occasions to the containerd team, it seems very unlikely that we will see this happen.</p>
<p>On my first attempt of building I got the following error:</p>
<pre><code>+ bin/containerd
# github.com/containerd/containerd/cmd/containerd
/usr/local/go/pkg/tool/linux_arm/link: running gcc failed: fork/exec /usr/bin/gcc: cannot allocate memory
make: *** [Makefile:188: bin/containerd] Error 2
</code></pre>
<p>The RPi Zero and the largest RPi 1 only has 512MB of RAM and I slowly watched the RAM being eaten up with <code>watch -n "free -h"</code>.. I should have remembered this.</p>
<p>Fortunately I had the battle scars and knew what I had to do:</p>
<pre><code>sudo dd if=/dev/zero of=/swapfile bs=1024 count=1M &amp;&amp;\
  sudo mkswap /swapfile &amp;&amp; \
  sudo swapon /swapfile
</code></pre>
<p>This creates 1GB of swap, on the SD card.. which already has terrible I/O, but it may just work.</p>
<p>The other trick you may have seen me talk about is adding <code>gpu_mem=16</code> to <code>/boot/config.txt</code>. It seems pointless changing the split on an 8GB RPi4, but for our RPi Zero, we need every MB we can get.</p>
<p>Second time lucky?</p>
<p>No. It failed again due to some missing libraries. I reminded myself to read <a href="https://github.com/containerd/containerd/blob/master/BUILDING.md#build-containerd">BUILDING.md</a> from the containerd repo. After adding libseccomp and a few other packages, it started to move along again.</p>
<pre><code>make
+ bin/ctr
+ bin/containerd
+ bin/containerd-stress
+ bin/containerd-shim
+ bin/containerd-shim-runc-v1
+ bin/containerd-shim-runc-v2
+ binaries
</code></pre>
<p>I don't know if it was 10 minutes or over an hour, but it was slow progress.</p>
<p>I then ran <code>sudo make install</code> and copied the systemd unit file into place with:</p>
<pre><code>sudo cp containerd.service /etc/systemd/system/containerd.service
sudo systemctl enable containerd
</code></pre>
<p>I didn't want to start containerd at this time, to save on memory for the next task.</p>
<h3 id="buildfaasd">Build faasd</h3>
<p>The faasd Makefile needed a patch because it was set to cross-compile to armv7, but we needed armv6.</p>
<pre><code>.PHONY: dist
dist:
	CGO_ENABLED=0 GOOS=linux GOARCH=arm GOARM=6 go build -mod=vendor -ldflags $(LDFLAGS) -a -installsuffix cgo -o bin/faasd-armhf
</code></pre>
<p>This took so long to build on the zero that I gave up and built it on my Intel NUC. Fortunately Go is very good as cross-compiling, especially when linking into C/C++ libraries is disabled with <code>CGO_ENABLED=0</code>.</p>
<p>I then ran <code>scp</code> to copy the binary to the Raspberry Pi.</p>
<pre><code>sudo cp faasd-armhf /usr/local/bin/faasd
cd go/src/github.com/openfaas/faasd
</code></pre>
<p>The final step was to install faasd which creates two systemd unit files:</p>
<ul>
<li>faasd - for the OpenFaaS core services</li>
<li>faasd-provider - for the provider that supports CRUD and Invoke operations</li>
</ul>
<pre><code>sudo faasd install
</code></pre>
<p><img src="https://blog.alexellis.io/content/images/2020/12/faasd-install.jpg" alt="faasd-install"></p>
<h3 id="unexpectedissues">Unexpected issues</h3>
<p>I tried to log in with <code>faas-cli login</code>, but it didn't work. I saw a number of errors in the logs <code>sudo systemctl journalctl -u faasd</code>:</p>
<pre><code>Dec 03 23:18:49 zero-dns default:basic-auth-plugin[13218]: standard_init_linux.go:207: exec user process caused "exec format error"
Dec 03 23:18:50 zero-dns containerd[12169]: time="2020-12-03T23:18:50.338589900Z" level=info msg="starting signal loop" namespace=default path=/run/containerd/io.containerd.runtime.v2.task/default/gateway pid=13324
Dec 03 23:18:52 zero-dns default:gateway[13335]: standard_init_linux.go:207: exec user process caused "exec format error"
</code></pre>
<p>It turned out that out of nats, prometheus, and the openfaas gateway, the openfaas basic-auth plugin only nats was available for armv6. It seems that projects really have moved on and left armv6 behind.</p>
<h3 id="thenihadanidea">Then I had an idea</h3>
<p>What if we didn't run the whole OpenFaaS stack at all, but just the <code>faasd-provider</code>? It would allow this tiny device to support all the CRUD operations on functions, and invocations, but nothing more.</p>
<p>The provider seemed to be running well, and responding to <code>faas-cli</code> commands:</p>
<p><img src="https://blog.alexellis.io/content/images/2020/12/provider.png" alt="provider"></p>
<p>We'd lose the queue and async invocations, lose the UI, lose the metrics, but we could still deploy functions and invoke them.</p>
<p>It was already very late by this point so I decided to sleep on it.</p>
<h3 id="inthemorning">In the morning</h3>
<p>I powered up the RPi zero and tried deploying a container directly to the faasd endpoint, and it worked.</p>
<p><img src="https://blog.alexellis.io/content/images/2020/12/deploy.jpg" alt="deploy"></p>
<p>Now, I had to make a few changes. Rather than building with the OpenFaaS watchdog in the container, I just used a Dockerfile and a plain Go HTTP server.</p>
<p>Here's what I ended up with:</p>
<p>Dockerfile</p>
<pre><code>FROM --platform=${BUILDPLATFORM:-linux/amd64} golang:1.13-alpine3.11 as build
ARG TARGETPLATFORM
ARG BUILDPLATFORM
ARG TARGETOS
ARG TARGETARCH
RUN apk --no-cache add git

ENV CGO_ENABLED=0

RUN mkdir -p /go/src/handler
WORKDIR /go/src/handler
COPY . .

# Run a gofmt and exclude all vendored code.
RUN test -z "$(gofmt -l $(find . -type f -name '*.go' -not -path "./vendor/*" -not -path "./function/vendor/*"))" || { echo "Run \"gofmt -s -w\" on your Golang code"; exit 1; }

ARG GO111MODULE="off"
ARG GOPROXY=""

RUN CGO_ENABLED=${CGO_ENABLED} GOOS=${TARGETOS} GOARCH=${TARGETARCH} \
    go build --ldflags "-s -w" -a -installsuffix cgo -o handler .
RUN GOOS=${TARGETOS} GOARCH=${TARGETARCH} go test ./... -cover

FROM --platform=${TARGETPLATFORM:-linux/amd64} alpine:3.12
# Add non root user and certs
RUN apk --no-cache add ca-certificates \
    &amp;&amp; addgroup -S app &amp;&amp; adduser -S -g app app \
    &amp;&amp; mkdir -p /home/app \
    &amp;&amp; chown app /home/app

WORKDIR /home/app

COPY --from=build /go/src/handler/handler    .

RUN chown -R app /home/app

USER app

CMD ["./handler"]
</code></pre>
<p>handler.go</p>
<pre><code>package main

import (
	"fmt"
	"net/http"
)

func main() {
	s := &amp;http.Server{
		Addr:           fmt.Sprintf(":%d", 8080),
		MaxHeaderBytes: 1 &lt;&lt; 20, // Max header of 1MB
	}

	http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
		w.Write([]byte("Hello world"))
	})

	panic(s.ListenAndServe())
}
</code></pre>
<p>stack.yml</p>
<pre><code>version: 1.0
provider:
  name: openfaas
  gateway: http://127.0.0.1:8080
functions:
  http:
    lang: dockerfile
    handler: ./http
    image: alexellis2/http:0.1.4
    build_args:
      GO111MODULE: on
</code></pre>
<p>I ran this on my PC with the following:</p>
<pre><code>export OPENFAAS_URL=http://192.168.0.81:8081
faas-cli publish --platform linux/arm/v6

faas-cli deploy
</code></pre>
<p>Using the PC means we can cross-compile the Go HTTP server and push a multi-arch image to the container registry. The new <code>faas-cli publish</code> command comes in handy for this and can accept a list of architectures.</p>
<p>The <code>deploy</code> command talks to the remote machine over REST and tells it to deploy a function. The server-side handler <a href="https://github.com/openfaas/faasd/blob/master/pkg/provider/handlers/deploy.go">deploy.go</a> pulls the image into containerd and starts executing it as a container.</p>
<h3 id="onemorething">One more thing</h3>
<p>When I say that it worked. I should clarify that I'd forgotten to deploy CNI - the networking layer required for faasd and containerd.</p>
<p>I saw this error by running the following:</p>
<pre><code>sudo journalctl -u faasd
</code></pre>
<p>Not that long ago, <a href="https://github.com/openfaas/faasd/blob/master/docs/DEV.md">I'd documented all the steps required for a manual installation</a>, but somehow forgot this was needed.</p>
<pre><code>export ARCH=arm
export CNI_VERSION=v0.8.5

sudo mkdir -p /opt/cni/bin
curl -sSL https://github.com/containernetworking/plugins/releases/download/${CNI_VERSION}/cni-plugins-linux-${ARCH}-${CNI_VERSION}.tgz | sudo tar -xz -C /opt/cni/bin

# Make a config folder for CNI definitions
sudo mkdir -p /etc/cni/net.d

# Make an initial loopback configuration
sudo sh -c 'cat &gt;/etc/cni/net.d/99-loopback.conf &lt;&lt;-EOF
{
    "cniVersion": "0.3.1",
    "type": "loopback"
}
EOF'
</code></pre>
<p>Just changing "ARCH" to "arm" was enough to make it work. So the CNI project are still <a href="https://github.com/containernetworking/plugins/blob/master/.travis.yml">building the plugins against armv6</a> for the time being.</p>
<h3 id="finalattempt">Final attempt</h3>
<p>Then it was a case of simply running <code>faas-cli deploy</code> again, and finally, it actually worked.</p>
<p>An initial benchmark with <code>hey</code> identified that the …</p></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexellis.io/memory-lane-raspberry-pi-zero/">https://blog.alexellis.io/memory-lane-raspberry-pi-zero/</a></em></p>]]>
            </description>
            <link>https://blog.alexellis.io/memory-lane-raspberry-pi-zero/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25304897</guid>
            <pubDate>Fri, 04 Dec 2020 17:11:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Programming Languages]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25304566">thread link</a>) | @marcuskaz
<br/>
December 4, 2020 | https://mkaz.blog/code/on-programming-languages/ | <a href="https://web.archive.org/web/*/https://mkaz.blog/code/on-programming-languages/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content">

		<article>
			
			

			<div>
				
<p>I like types.<br>I like curly braces.<br>I like semi-colons.</p>



<p>Types guide you to better code.<br>Curly braces clearly define blocks of codes.<br>Semi-colons clearly define lines of code.</p>
			</div>

			
				 <!-- .meta -->

				
				<!-- .post-pagination -->

			
				

			
		

					

		</article></div></div>]]>
            </description>
            <link>https://mkaz.blog/code/on-programming-languages/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25304566</guid>
            <pubDate>Fri, 04 Dec 2020 16:51:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vegetarians are our main target market]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25304237">thread link</a>) | @shafyy
<br/>
December 4, 2020 | https://blog.yeticheese.com/vegetarians-are-our-main-target-customers/ | <a href="https://web.archive.org/web/*/https://blog.yeticheese.com/vegetarians-are-our-main-target-customers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>We make plant-based cheese, so why would our main target market be vegetarians, who of course do eat cheese from animals?</p><p>The reason is the same why we started Yeti in the first place: We want to make animals obsolete in food production. Therefore, we need to convince people who otherwise do eat dairy-based cheese to eat Yeti instead. For every gram of plant-based cheese they eat instead of dairy-based, we come a small step closer to our mission.</p><p>Of course, that doesn't mean we're unhappy when vegans eat our products - not at all. However, it's much easier to convince people who are already on a plant-based diet to buy our cheese. In order to convince vegetarians or omnivores, our cheese needs to be as good as or better than cheese from animals. Therefore, clearly focusing efforts on non-vegans sets a high bar for our cheeses and forces us to make excellent products. This is the goal we set for ourselves.</p><p>Now, you might ask yourself why we target vegetarians specifically and not also omnivores. The reason is a practical one: We believe that it's easier to reach and convince vegetarians, because we've been vegetarians for a long time before going 100% plant-based and cheese was what was holding us back. If you talk to any vegetarian, I'd wager that a vast majority of them will tell you that cheese is the reason that they're not vegan.</p><p>Or, put differently, we know that a big problem in the vegatarian market is the absence of great plant-based cheese. A clearly defined problem makes it easier for us to reach our customers effectively and get them try our cheese.</p>
			</section></div>]]>
            </description>
            <link>https://blog.yeticheese.com/vegetarians-are-our-main-target-customers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25304237</guid>
            <pubDate>Fri, 04 Dec 2020 16:32:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can You Remain Unbiased When Reading the News?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25304216">thread link</a>) | @amoorthy
<br/>
December 4, 2020 | https://blog.thefactual.com/can-you-remain-unbiased-when-reading-the-news | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/can-you-remain-unbiased-when-reading-the-news">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Just before the 2020 general election, a friend on Twitter paraphrased a famous quote that says, “if you don't stand for something, you'll fall for anything.” And later, another friend on Whatsapp said, “you have to take a side. Not taking a side, in the face of what we are seeing, is actually taking sides.” The <a href="https://fivethirtyeight.com/features/biden-may-have-won-the-election-but-the-deep-partisan-divide-in-america-remains/"><span>narrow margin</span></a> of victory suggests such anecdotes may be shared by a large portion of the population.&nbsp;</p>
<!--more--><p>Many journalists also <a href="https://www.nybooks.com/daily/2020/11/01/americas-press-and-the-asymmetric-war-for-truth/"><span>struggle</span></a> with the issue of taking sides. Most were trained to write in an objective manner and keep their opinions out of the story. But this style has lately been accused of having the “<a href="https://www.economist.com/books-and-arts/2020/07/16/how-objectivity-in-journalism-became-a-matter-of-opinion"><span>view from nowhere</span></a>” (i.e., reporting information on “both sides” and possibly implying false equivalence when one side is obviously right). Perhaps it is no surprise that the <a href="https://www.rand.org/news/press/2019/05/14.html"><span>level of opinionatedness</span></a> has gone up in journalism.</p>
<p>For individuals in the general public who want to be well informed, what are the implications of increasing partisanship in our communities and rising opinionatedness in the news? Should we remain loyal to our favorite news sources or challenge our perspectives by reading information we disagree with?&nbsp;</p>
<p>At a fundamental level, can you remain unbiased when reading the news?</p>
<p><img src="https://www.visualcapitalist.com/wp-content/uploads/2019/09/us-political-polarization-crop.gif" alt="Political Polarization"></p>
<p>Source: <a href="https://www.pewresearch.org/politics/2017/10/05/the-partisan-divide-on-political-values-grows-even-wider/" rel="noopener">Pew Research</a></p>
<h3>Multiple perspectives crucial to combating partisanship</h3>
<p>While many readers want unbiased news, a basic truth is that everyone is <a href="https://www.theguardian.com/science/2019/jan/12/psychology-of-group-reasoning-versus-individual"><span>subject to biases</span></a>. While some reporters and news sources claim these biases explicitly, others are less aware and may frame facts and arguments in a way they feel is truthful yet remains colored by their own experiences and beliefs.&nbsp;</p>
<p>Because of pervasive bias, a rising level of opinionatedness in journalism is not necessarily cause for alarm and reinforces a core precept of reading the news: that no single article or source will present all the facts and arguments for an issue. Hence the importance of reading multiple perspectives, ideally across the political spectrum.</p>
<p>Incidentally, this practice is more common in the history of news consumption than we think. In the days of print news, many households received multiple dailies, often representing different political viewpoints.&nbsp;</p>

<h3>False equivalence concerns may be overstated</h3>
<p>When reading multiple perspectives, we must challenge ourselves to think critically. Here are some questions to consider:</p>
<ul>
<li>What facts are presented and are any left out?</li>
<li>What’s the history of this issue and are there trends in the data presented?</li>
<li>What can we learn from other countries/locations that can inform our understanding?&nbsp;</li>
</ul>
<p>When provided with all of the facts and varying viewpoints, and some time to think things through, most readers are equipped to draw accurate conclusions. Veteran journalists such as <a href="https://twitter.com/mtaibbi/status/1329599947503767552?s=20"><span>Matt Taibbi</span></a> recommend empowering readers to be independent thinkers as a best practice. It also means that worries about false equivalency may be overstated because people can judge for themselves if they believe the evidence supporting one side even if the other side was presented in as much detail.</p>
<p>As an aside, this is how we conduct jury trials — we assume that a panel of average citizens, presented with the facts arguing for and against a conviction, will reach the <a href="https://theconversation.com/all-about-juries-why-do-we-actually-need-them-and-can-they-get-it-wrong-112703"><span>right conclusion</span></a> most of the time. So why not expect the same of our society when it comes to reading the news?&nbsp;</p>

<h3>Bias is OK, empathy is better</h3>
<p>Just as all writers are biased, so too are all readers. Reading the news doesn’t require us to put aside our biases or opinions. Rather, reading the news is a way to get the facts and arguments for and against an issue so that whatever opinions you hold are grounded in the facts.</p>
<p>Finally, by reading multiple perspectives, even if your opinions and biases don’t change, you may develop empathy for people who have viewpoints different than yours. A more empathetic society is something to strive for in a world that seems increasingly divided.</p></span>
</p>



<!-- Optional: Blog Author Bio Box -->
<div>

<div>
<h3>Written by <a href="https://blog.thefactual.com/author/arjun-moorthy">Arjun Moorthy</a></h3>
<p>Arjun Arjun is co-founder and CEO of The Factual. He's has always been passionate about news from when he was a paperboy in middle school through becoming Editor-in-chief of The Stanford Reporter. Outside of work Arjun slaves away for his children hoping they will be grateful one day.</p>

</div>
</div>
</div>
</div></div>]]>
            </description>
            <link>https://blog.thefactual.com/can-you-remain-unbiased-when-reading-the-news</link>
            <guid isPermaLink="false">hacker-news-small-sites-25304216</guid>
            <pubDate>Fri, 04 Dec 2020 16:31:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Enabling Hardware Acceleration on AWS Firecracker]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25304208">thread link</a>) | @_ananos_
<br/>
December 4, 2020 | https://blog.cloudkernels.net/posts/vaccel_v2/ | <a href="https://web.archive.org/web/*/https://blog.cloudkernels.net/posts/vaccel_v2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

<p>In our <a href="https://blog.cloudkernels.net/posts/vaccel/">previous post</a> we spoke about the potential solutions for
deploying serverless offerings with hardware acceleration support. With the
increasing adoption of the serverless and FaaS paradigms, providers will need
to offer some form of hardware acceleration semantics.</p>

<p>For some time now, Amazon has <a href="https://github.com/firecracker-microvm/firecracker/issues/1179">identifed</a> this as a “compelling use
case” for their AWS Firecracker hypervisor which powers the Amazon Lambda
service. What is more, they identify traditional techniques for GPU support in
VMs such as GPU passthrough comes with limitations and significantly increases
the attack surface of the hypervisor.</p>

<p>As an alternative to passing through the accelerator device inside the guest,
paravirtual interfaces can expose hardware acceleration capabilities inside
the VM with minimal overhead and offering a simple user interface for
offloading code to the host for acceleration.</p>

<p>In fact, such interfaces already exist. <code>virtio-crypto</code> is an example, where
the guest VM uses a simple crypto API while the actual computation is
offloaded, through the paravirtual driver, to the host.</p>

<p>We believe that the same paradigm can be applied to any kind of computation
that can benefit from acceleration. Whether that is crypto operations, Machine
Learning or linear algebra operators, the workflow from the point of view of
the developer these days is the same; You will use a framework such as
cryptodev, Jetson Inference or the BLAS library, to write your applications and
you will not deal with the low-level complexities of the actual accelerator.
Moreover, that workflow should not be different whether your application runs
on baremetal or inside a VM.</p>

<p>In the rest of this post we present  <em>vAccel</em>, an acceleration framework that
enables <strong>portable</strong> and <strong>hardware agnostic</strong> acceleration for cloud
and edge applications.</p>

<h2 id="vaccel-design">vAccel design</h2>

<p>In simple terms, vAccel is an accleration API. It offers support for a set of
operators that commonly use hardware acceleration to increase performance,
such as machine learning and linear algebra operators.</p>

<p>The API is implemented by <em>VaccelRT</em> a thin and efficient runtime system that links
against the user application and is responsible for dispatching operations to
the relevant hardware accelerators. The interaction with the hardware itself is
mediated by plugins which implement the API for the specific hardware
accelerator.</p>

<p>This design is driven by our requirements for high degree of portability, an
application that consumes the vAccel API can run without modification or even
re-compilation to any platform for which there is suitable back-end plugin.</p>

<p>In fact, this opens up the way to enable the vAccel API inside a VM guest. The missing
bits are a virtio driver that implements the vAccel API and a backend plugin that
speaks with the virtio device. Once you have this components in place, you can
run your existing vAccel application inside a VM, just by using the virtio-plugin at
runtime.</p>

<p><img src="https://blog.cloudkernels.net/static/vaccel_v2/vaccelrt.png#center" alt="vAccel runtime" title="VaccelRT"></p>

<h2 id="vaccel-support-in-aws-firecracker">vAccel support in AWS Firecracker</h2>

<p>Once we implemented the frontend vAccel-virtio driver and virtio plugin for VaccelRT,
we need a hypervisor to test this on. We already showed, in the previous post some
initial vAccel results with QEMU as the target hypervisor. In this post, we will focus
on AWS Firecracker.</p>

<p>AWS Firecracker has been designed having in mind really small boot times and small attack
surface, which makes it a compelling choice for cloud and edge deployments.
Moreover, it powers up Lambda, Amazon’s serverless platform, which we see as a
paradigm for which vAccel’s hardware abstraction level is a perfect fit.</p>

<p>AWS Firecracker already implements virtio backend drivers for net, block and vsock. That
was good news for us, we have all the required virtio machinery. All we had to do, was
add a new device for vAccel and link the hypervisor with VaccelRT.</p>

<p>The last bit required us to create the necessary Rust bindings for calling C from AWS Firecracker
which is written in Rust. This was actually a good exercise for us, since we plan to anyway
provide bindings for the vAccel API in more high-level languages.</p>

<p>With all the components in place our stack looks like this:</p>

<p><img src="https://blog.cloudkernels.net/static/vaccel_v2/vaccele2e.png#center" alt="vAccel VM execution" title="vaccel-e2e"></p>

<p>The user application is consumes the vAccel API and links against VaccelRT. Inside the VM
the application uses the vAccel-virtio backend plugin. When a vAccel function is called, the
plugin will offload the request to <code>/dev/accel</code> device which is the interface of the virtio
driver. Next, the virtio driver will forward the request to the vAccel-enabled AWS Firecracker
instance which will the host-residing VaccelRT. Finally, in the host side, VaccelRT will use
one of the available plugins, to execute the operation on the hardware accelerator.</p>

<p>But how does this perform?</p>

<p>We first grabbed a copy of jetson-inference, a rich repo full of ML inference models and example applications based on TensorRT. We patched it to be able to run on an x86 GPU (we had an NVIDIA RTX 2060 SUPER handy), and we built the vAccelRT backend for an image classification operation. To compare vAccel on AWS firecracker we patched the example imagenet-console application to properly calculate the time of execution and to account for more than 1 iteration. The average execution time for image classification on two sets of Image files (set “*_0.jpg” and “*_1.jpg) are shown below:</p>

<p><img src="https://blog.cloudkernels.net/static/vaccel_v2/vaccel_bf_0.png#center" alt="vAccel VM execution" title="vaccel-bf-0"></p>

<p>The set above is sorted by the overhead percentage (GUEST vs HOST), while the set below, is sorted by Image size (in KB). One thing to note is that on all cases, the overhead of running an image classification operation in the guest compared to the host is less than 5%.</p>

<p><img src="https://blog.cloudkernels.net/static/vaccel_v2/vaccel_bf_1.png#center" alt="vAccel VM execution" title="vaccel-bf-1"></p>

<h2 id="putting-it-all-together">Putting it all together</h2>

<p>So, are you brave (or curious) enough to try it out yourself ? Full disclosure, vAccel is WiP, in terms of software development terms, the project should be considered in a pre-alpha phase. However, since we think the idea is useful, there might be someone willing to try it out. So here we go:</p>

<p>TL;DR
The easy way to try vAccel on AWS Firecracker is to run the docker container bundled with all necessary libraries/tools etc. The only prerequisite is [Docker][<a href="https://github.com/NVIDIA/nvidia-container-runtime">https://github.com/NVIDIA/nvidia-container-runtime</a>] &amp; nvidia-container-runtime[<a href="https://github.com/NVIDIA/nvidia-container-runtime">https://github.com/NVIDIA/nvidia-container-runtime</a>] installed.</p>

<p>To fire a VM up try running:</p>

<pre><code>docker run -e LD_LIBRARY_PATH=/usr/local/lib -e VACCEL_BACKENDS=/usr/local/lib/libvaccel-jetson.so --rm -it --gpus all --privileged nubificus/jetson-runtime
</code></pre>

<p>Now what the above command does is the following:
- sets up a couple of env vars to let the container know where to find the necessary libraries
- runs in a privileged mode so that /dev/kvm is available to the container instance (we need to boot a VM in there ;))
- provides access to the GPU from the container.</p>

<p>The entrypoint for the above container image (<code>nubificus/jetson-runtime</code>) simply starts a firecracker VM with a pre-built kernel &amp; rootfs.img, available <a href="https://github.com/nubificus/fc-x86-guest-build">here</a>. This repository contains the dockerfile from which these binaries have been produced. You can download ready-made binaries from the <a href="https://github.com/nubificus/fc-x86-guest-build/releases/latest">releases</a> page.</p>

<p>If (for any reason) you want to try out jetson-inference, without the AWS Firecracker VM boot, then just run the container with /bin/bash as an entrypoint, using the following command:</p>

<pre><code>docker run --network=host --rm -it --gpus all --privileged -v nubificus/jetson-runtime /bin/bash
</code></pre>

<h3 id="host">Host</h3>

<p>The current available version of vAccelRT supports the jetson-inference plugin. Adding a new plugin is as easy as linking with vAccelRT and writing the glue code in the plugin directory – more information should be available in the coming weeks!</p>

<p>To use this plugin, the Host machine should have an NVIDIA GPU (supporting CUDA), the relevant drivers installed, as well as <a href="https://github.com/dusty-nv/jetson-inference">jetson-inference</a> installed.</p>

<p>The next step is to build &amp; install <a href="https://github.com/cloudkernels/vaccelrt">vAccelRT</a>, the glue that ties everything together. You can build it from source, or just install the binaries available from the <a href="https://github.com/cloudkernels/vaccelrt/releases/latest">releases</a> page. Make sure you specify <code>LD_LIBRARY_PATH</code> to the folder where libvaccel.so is located, as well as to choose the necessary backend by setting <code>VACCEL_BACKENDS</code> to <code>libvaccel-jetson.so</code>.</p>

<pre><code>export LD_LIBRARY_PATH=/usr/local/lib
export VACCEL_BACKENDS=/usr/local/lib/libvaccel-jetson.so
</code></pre>

<h3 id="vm">VM</h3>

<p>To run a vAccel-enabled VM, we need four basic components:</p>

<ul>
<li>the AWS firecracker VMM (with the vAccel backend patch) <a href="https://github.com/cloudkernels/firecracker">github</a> <a href="https://github.com/cloudkernels/firecracker/releases/latest">releases</a></li>
<li>a firecracker guest Linux kernel supporting modules + the virtio-accel module <a href="https://github.com/nubificus/fc-x86-guest-build">github</a> <a href="https://github.com/nubificus/fc-x86-guest-build/releases/latest">releases</a></li>
<li>the vAccel runtime system (vAccelRT) for the Host and the guest <a href="https://github.com/cloudkernels/vaccelrt">github</a> <a href="https://github.com/cloudkernels/vaccelrt/releases/latest">releases</a></li>
</ul>

<p>To facilitate the process of packing all these software components, we include links to binaries built from the respective github repositories.</p>

<p>Grab, or build <code>vmlinux</code> &amp; the <code>rootfs.img</code> from the links above, and use a template config for firecracker like the following:</p>

<pre><code>{
	"boot-source": {
		"kernel_image_path": "vmlinux",
		"boot_args": "console=ttyS0 reboot=k panic=1 pci=off loglevel=0 root=/dev/vda quiet"
	},
	"drives": [
		{
			"drive_id": "rootfs",
			"path_on_host": "rootfs.img",
			"is_root_device": true,
			"is_read_only": false
		}
	],
	"network-interfaces": [
	{
		"iface_id": "eth0",
		"guest_mac": "AA:FC:00:00:00:01",
		"host_dev_name": "tap"
	}
	],
	"crypto": {
		"crypto_dev_id": "vaccel0",
		"host_crypto_dev": "/dev/vaccel0"
	},
	"machine-config": {
		"vcpu_count": 1,
		"mem_size_mib": 1024,
		"ht_enabled": false
	}
}
</code></pre>

<p>Make sure vmlinux, rootfs.img are in the same directory as the invocation of the firecracker command. Also, ensure that you have set <code>LD_LIBRARY_PATH</code> and <code>VACCEL_BACKENDS</code> correctly, and that you’ve downloaded the ML networks needed for inference. This step can be done using <a href="https://github.com/dusty-nv/jetson-inference/blob/master/tools/download-models.sh">this script</a>. Just get this script and run:</p>

<pre><code>./download-models.sh NO
</code></pre>

<p>and the models will be placed by default at <code>../data/networks</code>. Change the path in the script if you need to. For the AWS Firecracker backend to work, we need the models in the same directory as the invocation of the firecracker binary, in a folder called networks.</p>

<p>Now, we’re ready to fire up our VM:</p>

<pre><code>firecracker --api-sock …</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.cloudkernels.net/posts/vaccel_v2/">https://blog.cloudkernels.net/posts/vaccel_v2/</a></em></p>]]>
            </description>
            <link>https://blog.cloudkernels.net/posts/vaccel_v2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25304208</guid>
            <pubDate>Fri, 04 Dec 2020 16:30:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Porting a 100% local app to the web]]>
            </title>
            <description>
<![CDATA[
Score 152 | Comments 76 (<a href="https://news.ycombinator.com/item?id=25304100">thread link</a>) | @jlongster
<br/>
December 4, 2020 | https://actualbudget.com/blog/porting-local-app-web | <a href="https://web.archive.org/web/*/https://actualbudget.com/blog/porting-local-app-web">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>While researching <a href="https://actualbudget.com/blog/cursed-caching-curious">a curious caching bug</a>, I got inspired to take another look at how Actual stores data locally on the web. There's some history I need to explain. Years ago, Actual was only going to be a desktop app. That means <em>all</em> of your data is stored locally. No server.</p><p>Then I realized how important mobile is, and that most people don't want to worry about losing their data if they drop their computer in the ocean. A syncing engine was born, and desktop and mobile apps have happily synced their data ever since. A copy is kept on a server so users can login and easily view their data, and if they worry about privacy they can enable <a href="https://actualbudget.com/docs/overview/syncing-across-devices/#end-to-end-encryption">end-to-end encryption</a>.</p><p>In the last year I grew jealous of web apps. Look at how easily they can deploy… how quickly they can drop users right into the app. No install required. Here I am asking users to download an 80MB file just to run the app. That download absolutely kills conversion rates, and makes the login flow, support, a/b testing and <em>everything</em> much harder.</p><p>I love desktop apps because you have access to much better tech (like native sqlite3), the app is super fast (no network calls), and the user owns their data. However, I can't ignore that the benefits of the web <a href="https://www.kalzumeus.com/2009/09/05/desktop-aps-versus-web-apps/">dwarfs these advantages</a>.</p><p>I started thinking about a web version of Actual. After some hacking, <a href="https://app.actualbudget.com/">I got it working</a> without changing the architecture. That means all your data is still stored locally in the browser, and there are no network calls. It's a completely 100% "local" app in the browser [0].</p><p>I haven't marketed the web version much because it hasn't been tested enough, and it needs improvements like lazy loading code to make it load faster. The biggest thing I'm worried about is the data storage layer. Since <strong>all your data is local</strong>, if something goes wrong there you could potentially lose data. And we're really stressing the browser's persistant db by storing everything in it.</p><p>To be clear: <strong>we are not deprecating the desktop version</strong>. However in the future the web version will be the primary platform, with the choice to download the desktop version if desired.</p><p>The way it works a bit unusual. Here's a high-level overview:</p><ul><li>Actual uses <a href="https://www.sqlite.org/index.html">sqlite3</a>. This is a hard requirement. The app runs tons of complex SQL queries to aggregate financial data and it's so good at doing it. Queries are easy to express and run super fast.</li><li>On desktop and mobile, native sqlite3 is used. The web does not support sqlite3, however. To get around this, Actual uses a <a href="https://github.com/sql-js/sql.js">wasm version</a> of sqlite3 and creates an in-memory db.</li><li>The obvious problem is persistence. When you make changes, we need to persist them somewhere so when the user reloads they don't lose their data. Luckily we are using <a href="https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type#State-based_CRDTs">state-based CRDT's</a> and all updates come through as a list of "messages". If you are online, these messages get synced to our server so when you reload, all your data should sync up.</li><li>It's not ideal to require a big sync every time you open the app though. Also, if you are offline there shouldn't be any chance of losing data. To solve this, Actual persists each message into IndexedDB. When the app opens, it applies all messages from the local IndexedDB to get up-to-date.</li><li>It's <em>still</em> not ideal to require applying any messages on load. It won't scale - if you use the app for months you'll accumulate tens of thousands of messages. IndexedDB would grow indefinitely and loading the app would get slower. To solve this, when the stored messages crosses a threshold it flushes the entire sqlite3 db to IndexedDB and clears all the messages.</li><li>That means both a binary representation of the sqlite3 db and a list of messages is persisted in IndexedDB. On load, the app creates the in-memory sqlite3 db from the snapshot and applies any remaining messages from IDB.</li></ul><p>Turns out this is similar to how a <a href="https://sqlite.org/wal.html">write-ahead log</a> works.</p><p>I was worried about the reliability of IndexedDB. Reading the docs it seems like browsers might delete databases as needed, but in practice this doesn't seem to happen [1]. It's probably a much bigger problem on mobile where memory is scarce, but I don't mess with the mobile web (use a native app instead). I was also worried about hitting the limit of IDB storage, but as explained next that hasn't been a problem.</p><p>This technique started as an experiment, but it has worked surprisingly well. I have 5 years worth of data in Actual, and the size of the sqlite3 db is 9.7MB. The threshold of the messages table is around 50KB, so in total I'm storing ~10MB in IndexedDB for a user who's been around for 5 years. It's not even close to hitting the IndexedDB max storage limit, which these days is at least 500MB.</p><p>While it has worked so far, I want to be 100% confident in this approach. I've been digging deep into how each browser stores IndexedDB data on disk and discovered a couple improvements I can make. I was going to write about them in this post, but I ended up writing more about the overall approach. In the next post I'll dig deep into how IndexedDB works across browsers.</p><p>[0] While I didn't talk about it in this post, this also means that the entire app runs in the browser. The "backend" runs in a background worker thread and everything happens locally.</p><p>[1] If the local data does somehow get corrupted or deleted, it's not a <em>huge</em> deal. All changes are still sent off and stored on a server (which is how all other devices get synced). If something goes wrong, the app can re-download your data from the server. The only case where you'd lose data is if you were offline and lost your local data, which is to be expected.</p></div></div></div>]]>
            </description>
            <link>https://actualbudget.com/blog/porting-local-app-web</link>
            <guid isPermaLink="false">hacker-news-small-sites-25304100</guid>
            <pubDate>Fri, 04 Dec 2020 16:23:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Histools: Visualizing my browser history over time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25304032">thread link</a>) | @thesephist
<br/>
December 4, 2020 | https://dotink.co/posts/histools/ | <a href="https://web.archive.org/web/*/https://dotink.co/posts/histools/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        

        <p>Today I made <a href="https://github.com/thesephist/histools"><strong>Histools</strong></a>, a small set of tools for visualizing browser history data from Apple’s Safari browser. It renders a heatmap of pages visited on Safari over time, alongside a searchable, sorted list of pages I’ve visited most often with mini-heatmaps for each URL.</p>
<p><img src="https://dotink.co/img/histools.png" alt="Histools screenshot"></p>
<p>Histools is built on my homebrew tech stack: Ink for the analysis script and server and the Torus UI library for the interactive visualizations. If you want to run Histools over your own Safari history file, you can find the how-to’s in the GitHub readme linked here. In the rest of this post, I want to explore how Safari stores its history entries on disk.</p>
<p><a href="https://github.com/thesephist/histools">See Histools on GitHub →</a></p>
<h2 id="inspecting-safaris-history-database">Inspecting Safari’s history database</h2>
<p>Histools works by transforming history data from the database into a format that can be usefully visualized on a heatmap. In macOS Catalina, Safari keeps history in a simple SQLite3 database, at <code>~/Library/Safari/History.db</code>. So the first step for me was to copy this database file out to a safe location, and open the sqlite shell to look at the database schema.</p>
<pre><code>sqlite History.db ".schema"
</code></pre><p>This returns us all of the table definitions, which you can also check out <a href="https://github.com/thesephist/histools/blob/main/meta/History.schema.sql">here</a>. For the sake of looking at history, we’re only really concerned with two tables: <code>history_items</code> and <code>history_visits</code>. Here’s what those tables looks like.</p>
<pre><code>CREATE TABLE history_items
(
    id INTEGER PRIMARY KEY autoincrement,
    url text NOT NULL UNIQUE,
    domain_expansion text NULL,
    visit_count INTEGER NOT NULL,
    daily_visit_counts BLOB NOT NULL,
    weekly_visit_counts BLOB NULL,
    autocomplete_triggers BLOB NULL,
    should_recompute_derived_visit_counts INTEGER NOT NULL,
    visit_count_score                     INTEGER NOT NULL
);

CREATE TABLE history_visits
(
    id           INTEGER PRIMARY KEY autoincrement,
    history_item INTEGER NOT NULL REFERENCES history_items(id) ON DELETE CASCADE,
    visit_time REAL NOT NULL,
    title text NULL,
    load_successful boolean NOT NULL DEFAULT 1,
    http_non_get    boolean NOT NULL DEFAULT 0,
    synthesized     boolean NOT NULL DEFAULT 0,
    redirect_source INTEGER NULL UNIQUE REFERENCES history_visits(id) ON DELETE CASCADE,
    redirect_destination INTEGER NULL UNIQUE REFERENCES history_visits(id) ON DELETE CASCADE,
    origin     INTEGER NOT NULL DEFAULT 0,
    generation INTEGER NOT NULL DEFAULT 0,
    attributes INTEGER NOT NULL DEFAULT 0,
    score      INTEGER NOT NULL DEFAULT 0
);
</code></pre><p>Safari stores new history entries in two different formats, one for efficiently looking through <em>distinct</em> history entries, and one for recording visits, with timestamp information. Namely, <code>history_items</code> stores distinct history entries by their URL, and <code>history_visits</code> stores information Safari expects to change with every visit, like the timestamp, load success state, and (curiously) the page title.</p>
<p>From this schema, we can also see that each history visit points to exactly one history item – there can be one or more visits to the same URL. On each visit, Safari will add a new history visit entry and increment some aggregate information for the corresponding history item, like the total <code>visit_count</code>.</p>
<p>Like any good exploration, the answer to one question also opens up many others. What are the <code>score</code>s next to each page? What’s a <code>synthesized</code> visit? What are <code>autocomplete_triggers</code> used for? I haven’t had a chance to dive into those yet, because there’s also plenty of fun to be had playing around with the Histools visualization itself. From the heatmap, I can see when I go to sleep each day and when I wake up in the morning (or the few times I was woken up overnight). I can see when my homework was due, when I was researching certain topics, and so on and on and on.</p>
<p>I’m looking forward to spinning up Histools from time to time to get another perspective on how I’ve been using the Web in my life.</p>

        <hr>
        <p>
            
            ←
            <a href="https://dotink.co/posts/schrift-code/"><em>Schrift: a faster, bytecode-driven interpreter for Ink</em></a>
            
        </p>
        <p>
            
            <a href="https://dotink.co/posts/weight-of-abstraction/"><em>Weighing software abstractions to design better programs</em></a>
            →
            
        </p>
    </article></div>]]>
            </description>
            <link>https://dotink.co/posts/histools/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25304032</guid>
            <pubDate>Fri, 04 Dec 2020 16:20:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A World Rendered Beautifully: The Making of the BFCM 3D Data Visualization]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25303999">thread link</a>) | @dmalik
<br/>
December 4, 2020 | https://shopify.engineering/bfcm-3d-data-visualization | <a href="https://web.archive.org/web/*/https://shopify.engineering/bfcm-3d-data-visualization">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
  <p>
  <em><strong><a href="https://shopify-bfcm.splashthat.com/" target="_blank" title="How it's made: The Black Friday &amp; Cyber Monday Live Map" rel="nofollow noopener noreferrer">Join us on Monday, December 7</a>, for a behind the scenes look at how and why we visually bring this
      exciting data to life. Shopify’s AR/VR team will take you through the
      technical journey from idea to execution and answer your questions
      live!</strong></em>
</p>
<p>
  <strong>﻿By Mikko Haapoja and Stephan Leroux</strong>
</p>
<p>
  2020 Black Friday Cyber Monday (BFCM) is over, and another BFCM Globe has
  shipped. We’re extremely proud of the globe, it focused on realism,
  performance, and the impact our merchants have on the world.
</p>
<figure>
  <p><iframe width="560" height="315" src="https://www.youtube.com/embed/LPm0xjr2lzo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
  <figcaption>The Black Friday Cyber Monday Live Map</figcaption>
</figure>
<p>
  We knew we had a tall task in front of us this year, building something that
  could represent orders from our one million merchants in just two months. Not
  only that, we wanted to ship a data visualization for our merchants so they
  could have a similar experience to the BFCM globe every day in their Live
  View.
</p>
<figure>
  <p><iframe width="560" height="315" src="https://www.youtube.com/embed/_r6ut_Z7pss?playlist=_r6ut_Z7pss&amp;autoplay=1&amp;loop=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
  <figcaption>Prototypes for the 2020 BFCM Globe and Live View. **</figcaption>
</figure>
<p>
  With tight timelines and an ambitious initiative, we immediately jumped into
  prototypes with three.js and planned our architecture.
</p>

<p>
  As we planned this project, we converged architecturally on the idea of
  layers. Each layer is similar to a React component where state is minimally
  shared with the rest of the application, and each layer encapsulates its own
  functionality. This allowed for code reuse and flexibility to build both the
  Live View Globe, BFCM Globe, and beyond.
</p>
<figure>
  <p><iframe width="560" height="315" src="https://www.youtube.com/embed/D56O11Y46o0?playlist=D56O11Y46o0&amp;autoplay=1&amp;loop=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
  <figcaption>A showcase of layers for the 2020 BFCM Globe. **</figcaption>
</figure>
<p>
  When realism is key, it’s always best to lean on fantastic artists, and that’s
  where
  <a href="https://twitter.com/byrondelgado" target="_blank" title="Byron Delgado on Twitter" rel="nofollow noopener noreferrer">Byron Delgado</a>
  came in. We hoped that Byron would be able to use the 3D modeling tools he’s
  used to, and then we would incorporate his 3D models into our experience. This
  is where the <code>EarthRealistic</code> layer comes in.
</p>
<figure>
  <p><iframe width="560" height="315" src="https://www.youtube.com/embed/N4oeDV4rNQo?playlist=N4oeDV4rNQo&amp;autoplay=1&amp;loop=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
  <figcaption>
    <code>EarthRealistic</code> layer from the 2020 BFCM Globe. **
  </figcaption>
</figure>
<p>
  <code>EarthRealistic</code> uses a technique called physically based
  rendering, which most modern 3D modeling software supports. In three.js,
  physically based rendering is implemented via the
  <code>MeshPhysicalMaterial</code> or
  <code>MeshStandardMaterial</code> materials.
</p>
<p>
  To achieve realistic lighting, <code>EarthRealistic</code> is lit by a 32bit
  EXR Environment Map. By using a 32bit EXR, it means we can have smooth image
  based lighting. Image based lighting is a technique where a “360 sphere” is
  created around the 3D scene, and pixels in that image are used to calculate
  how bright Triangles on 3D models should be. This allows for complex lighting
  setups without much effort from an artist. Traditionally images on the web
  such as JPGs and PNGs have a color depth of 8bits. If we were to use these
  formats and 8bit color depth, our globe lighting would have had horrible
  gradient banding, missing realism entirely.
</p>

<p>
  Once we converged on physically based rendering and image based lighting,
  building the carbon offset layer became clearer. Literally!
</p>
<figure>
  <p><iframe width="560" height="315" src="https://www.youtube.com/embed/GQ2OJCiT-wA?playlist=GQ2OJCiT-wA&amp;autoplay=1&amp;loop=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
  <figcaption>
    Carbon Offset visualization layer from the 2020 BFCM Globe. **
  </figcaption>
</figure>
<p>
  Bubbles have an interesting phenomenon where they can be almost opaque at a
  certain angle and light intensity but in other areas completely transparent.
  To achieve this look, we created a custom material based on
  MeshStandardMaterial that reads in an Environment Map and simulates the bubble
  lighting phenomenon. The following is the easiest way to achieve this with
  three.js:
</p>
<ol>
  <li>
    Create a custom Material class that extends off of MeshStandardMaterial.
  </li>
  <li>
    Write a custom Vertex or Fragment Shader and define any Uniforms for that
    Shader Program.
  </li>
  <li>
    Override
    <code>onBeforeCompile(shader: Shader, _renderer: WebGLRenderer): void&nbsp;</code>on your custom Material and pass the custom Vertex or Fragment Shader and
    uniforms via the Shader instance.
  </li>
</ol>
<p>
  Here’s our implementation of the above for the Carbon Offset Shield Material:
</p>
<ul>
  <li>
    <a href="https://gist.github.com/ShopifyEng/5e8bfa0de5630779ad7350c7a73cb650" target="_blank" rel="nofollow noopener noreferrer">ShieldMaterial.ts</a>
    - Our custom Carbon Offset Visualization Material
  </li>
  <li>
    <a href="https://gist.github.com/ShopifyEng/5a0c15b0c83ed00b66267b93994714cf" target="_blank" rel="nofollow noopener noreferrer">CustomMeshStandardMaterial.ts</a>
    - Abstraction on top of MeshStandardMaterial
  </li>
  <li>
    <a href="https://gist.github.com/ShopifyEng/cc1679cfb054f85c8689037e5d168f68" target="_blank" rel="nofollow noopener noreferrer">shield.frag</a>
    - Custom Fragment shaders that make MeshStandardMaterial look like a bubble
  </li>
</ul>
<p>
  Let’s look at the above, starting with our Fragment shader. In shield.frag
  lines 94-97
</p>
<figure>
  
</figure>
<p>
  These two lines are all that are needed to achieve a bubble effect in a
  fragment shader.
</p>
<p>
  To calculate the <code>brightness</code> of an rgb pixel, you calculate the
  length or magnitude of the pixel using the GLSL length function. In three.js
  shaders, <code>outgoingLight</code> is an RGB <code>vec3</code> representing
  the outgoing light or pixel to be rendered.
</p>
<p>
  If you remember from earlier, the bubble’s brightness determines how
  transparent or opaque it should appear.&nbsp; After calculating brightness, we can
  set the outgoing pixel’s alpha based on the brightness calculation. Here we
  use the GLSL <code>mix</code> function to go between the expected alpha of the
  pixel defined by <code>diffuseColor.a</code> and a new custom uniform defined
  as <code>maxOpacity</code>. By having the concept of min or expected opacity
  and max opacity, Byron and other artists can tweak visuals to their exact
  liking.
</p>
<p>
  If you look at our shield.frag file, it may seem daunting! What on earth is
  all of this code?&nbsp; three.js materials handle a lot of functionality, so it’s
  best to make small additions and not modify existing code. three.js materials
  all have their own shaders defined in the
  <a href="https://github.com/mrdoob/three.js/blob/dev/src/renderers/shaders/ShaderLib/" target="_blank" title="ShaderLib folder in three.js repo" rel="nofollow noopener noreferrer">ShaderLib folder</a>. To extend a three.js material, you can grab the original material shader
  code from the <code>src/renderers/shaders/ShaderLib/</code> folder in the
  three.js repo and perform any custom calculations before setting
  <code>gl_FragColor</code>. An easier option to access three.js shader code is
  to simply <code>console.log</code> the <code>shader.fragmentShader</code> or
  <code>shader.vertexShader</code> strings, which are exposed in the
  <code>onBeforeCompile</code> function:
</p>
<figure>
  
</figure>
<p>
  <code>onBeforeCompile</code> runs immediately before the Shader Program is
  created on the GPU. Here you can override shaders and uniforms.
  CustomMeshStandardMaterial.ts is an abstraction we wrote to make creating
  custom materials easier. It overrides the
  <code>onBeforeCompile</code> function and manages uniforms while your
  application runs via the
  <a href="https://gist.github.com/ShopifyEng/5a0c15b0c83ed00b66267b93994714cf#file-custommeshstandardmaterial-ts-L51" target="_blank" title="setCustomUniform in CustomMeshStandardMaterial.ts" rel="nofollow noopener noreferrer"><code>setCustomUniform</code></a>
  and
  <a href="https://gist.github.com/ShopifyEng/5a0c15b0c83ed00b66267b93994714cf#file-custommeshstandardmaterial-ts-L60" target="_blank" title="getCustomUniform in CustomMeshStandardMaterial.ts" rel="nofollow noopener noreferrer"><code>getCustomUniform</code></a>
  functions. You can see this in action in our custom Shield Material when
  getting and setting <code>maxOpacity</code>:
</p>
<figure>
  
</figure>
<h2>Using Particles to Display Orders</h2>
<figure>
  <p><iframe width="560" height="315" src="https://www.youtube.com/embed/jGUDfU1c_xE?playlist=jGUDfU1c_xE&amp;autoplay=1&amp;loop=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
  <figcaption>
    Displaying orders on Shopify from across the world using particles. **
  </figcaption>
</figure>
<p>
  One of the BFCM globe’s main features is the ability to view orders happening
  in real-time from our merchants and their buyers worldwide. Given Shopify’s
  scale and amount of orders happening during BFCM, it’s challenging to visually
  represent all of the orders happening at any given time. We wanted to find a
  way to showcase the sheer volume of orders our merchants receive over this
  time in both a visually compelling and performant way.&nbsp;
</p>
<p>
  In the past, we used visual “arcs” to display the connection between a buyer’s
  and a merchant’s location.
</p>
<figure>
  <img alt="The BFCM Globe from 2018 showing orders using visual arcs." data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/old-globe.jpg?v=1607052787" src="https://cdn.shopify.com/s/files/1/0779/4361/files/old-globe.jpg?v=1607052787">
  <figcaption>
    The BFCM Globe from 2018 showing orders using visual arcs.
  </figcaption>
</figure>
<p>
  With thousands of orders happening every minute, using arcs alone to represent
  every order quickly became a visual mess along with a heavy decrease in
  framerate. One solution was to cap the number of arcs we display, but this
  would only allow us to display a small fraction of the orders we were
  processing. Instead, we investigated using a particle-based solution to help
  fill the gap.
</p>
<p>With particles, we wanted to see if we could:</p>
<ul>
  <li>Handle thousands of orders at any given time on screen.</li>
  <li>Maintain 60 frames per second on low-end devices.</li>
  <li>
    Have the ability to customize style and animations per order, such as
    visualizing local and international orders.
  </li>
</ul>
<p>
  From the start, we figured that rendering geometry per an order wouldn't scale
  well if we wanted to have thousands of orders on screen. Particles appear on
  the globe as highlights, so they don’t necessarily need to have a 3D
  perspective. Rather than using triangles for each particle, we began our
  investigation using three.js <code>Points</code> as a start, which allowed us
  to draw using dots instead. Next, we needed an efficient way to store data for
  each particle we wanted to render. Using <code>BufferGeometry</code>, we
  assigned custom attributes that contained all the information we needed for
  each particle/order.
</p>
<figure>
  
</figure>
<p>
  To render the points and make use of our attributes, we created a
  <code>ShaderMaterial</code>, and custom vertex and fragment shaders. Most of
  the magic for rendering and animating the particles happens inside the vertex
  shader. Each particle defined in the attributes we pass to our
  <code>BufferGeometry</code> goes through a series of steps and
  transformations.
</p>
<p>
  First, each particle has a starting and ending location described using
  latitude and longitude. Since we want the particle to travel along the surface
  and not through it, we use a geo interpolation function on our coordinates to
  find a path that goes along the surface.
</p>
<figure>
  <img alt="A photo of a globe with an order represented as a particle traveling from New York City to London. The vertex shader uses each location’s latitude and longitude and determines the path it needs to travel." data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/particle-diagram-1.jpg?v=1607053616" src="https://cdn.shopify.com/s/files/1/0779/4361/files/particle-diagram-1.jpg?v=1607053616">
  <figcaption>
    An order represented as a particle traveling from New York City to London.
    The vertex shader uses each location’s latitude and longitude and determines
    the path it needs to travel. **
  </figcaption>
</figure>
<p>
  Next, to give the particle height along its path, we use high school geometry,
  a parabola equation based on time to alter the straight path to a curve.
</p>
<figure>
  <img alt="A photo of a globe with particles that follow a curved path away from the earth’s surface using a parabola equation to determine its height." data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/particle-diagram-2.jpg?v=1607053702" src="https://cdn.shopify.com/s/files/1/0779/4361/files/particle-diagram-2.jpg?v=1607053702">
  <figcaption>
    Particles follow a curved path away from the earth’s surface using a
    parabola equation to determine its height. **
  </figcaption>
</figure>
<p>
  To render the particle to make it look 3D in its travels, we combine our
  height and projected path data then convert it to a vector position our shader
  uses as it’s <code>gl_Position</code>. With our particle now knowing where it
  needs to go, using a <code>time</code> uniform, we drive animations for other
  changes such as size and color. At the end of the vertex shader, we pass the
  position and point size to render onto the fragment shader that combines the
  calculated color and alpha at the time for each particle.
</p>
<p>
  Once …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://shopify.engineering/bfcm-3d-data-visualization">https://shopify.engineering/bfcm-3d-data-visualization</a></em></p>]]>
            </description>
            <link>https://shopify.engineering/bfcm-3d-data-visualization</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303999</guid>
            <pubDate>Fri, 04 Dec 2020 16:17:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A week by week plan for starting to manage a new team]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25303976">thread link</a>) | @mcrittenden
<br/>
December 4, 2020 | https://critter.blog/2020/12/04/a-week-by-week-plan-for-starting-to-manage-a-new-team/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/12/04/a-week-by-week-plan-for-starting-to-manage-a-new-team/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-3628">

	
<!-- .entry-header -->

	<div>

		<div>

			
<p>I’m starting at a new company on Monday so I’ve been panic-reading management and leadership books. I’ve boiled a lot of that advice down into this week by week plan.</p>



<p><em>Important caveat: “plans are useless, but planning is indispensable” and all that. Stay flexible, shift things around as needed, don’t hold off on something that needs to happen just because it’s not in the plan, blah blah blah.</em></p>



<p><strong>Week 1</strong>: Find someone, anyone, and grab a 30 minute call with them. Here’s the agenda (stolen from <a href="https://boz.com/articles/career-cold-start">this post</a>):</p>



<ul><li>“Tell me everything you think I should know.” – 25 minutes</li><li>“What are the biggest challenges the team has right now?” – 3 minutes</li><li>“Who else should I talk to?” – 2 minutes</li></ul>



<p>Next, repeat that process with all of the names you get from that last question, and <em>keep repeating with every name you get until you run out of new names</em>. That should get you a nice jump start on knowledge transfer. You may even find a few easy problems to solve for quick wins.</p>



<p><strong>Weeks 1-3</strong>: Listen in on regular meetings and ask lots of questions. Don’t shy away from asking for clarification on things asynchronously after the meeting is over. And remember, <a href="https://critter.blog/2020/11/17/stop-trying-to-be-impressive-start-trying-to-be-warm/">be warm, not impressive</a>.</p>



<p>Don’t start 1-1s yet, and don’t try to do anything useful. Your goal for weeks 1-3 is to meet as many people as you can and learn as much as you can.</p>



<p>Also, sometime in weeks 1-3, start asking about any <a href="https://critter.blog/2020/11/16/the-2-responsibilities-of-a-manager/">shared measurable goals</a> for the team. How do you know if you’re succeeding? How is your impact being measured? Do those measures exist? If they don’t exist, then we’ll come back to this in a few weeks.</p>



<p><strong>Week 3</strong>: Send an email or a group chat message about starting 1-1s and list some available times so that people can choose the times that are best for them. Mention the format you plan to use so they can prep.</p>



<p><strong>Week 4</strong>: Start having weekly 1-1s. You won’t be giving any feedback in these 1-1s (or elsewhere) for a few more weeks. So for now your job is to get to know your directs and to support them however they need.</p>



<p><strong>Week 8</strong>: If the team already has measurable goals related to impact and business outcomes, then skip this step. Otherwise, now is the time to start figuring out what those goals should be. I talked about this in “<a href="https://critter.blog/2020/11/16/the-2-responsibilities-of-a-manager/">The 2 responsibilities of a&nbsp;manager</a>.”</p>



<p><strong>Week 12</strong>: Now that you have 3 months under your belt, fill out <a href="https://gist.github.com/mikecrittenden/faf2e60282912a809f1aac1423116268">the assessment at the end of “The Five Dysfunctions of a Team”</a>. That should give you a sense of which, if any, dysfunctions to focus on.</p>



<p>Also, start giving positive feedback. Send an email or group message letting people know that you’re going to start this, and tell them about <a href="https://critter.blog/2020/11/26/5-second-feedback/">the format it’ll follow</a>.</p>



<p><strong>Weeks 12-20</strong>: Give only positive feedback, early and often. To start, aim to give 1 piece of positive feedback to someone everyday, then increase it from there. Build up to a steady stream.</p>



<p><strong>Week 20</strong>: Now that you hopefully have earned some trust, you can start also giving negative feedback. Let your reports know ahead of time that it’s coming so they won’t be caught off guard. And remember, <a href="https://critter.blog/2020/11/27/future-focused-feedback/">don’t debate the past</a>.</p>



<p><strong>Week 30</strong>: By now you’ve been giving feedback for a while, so you should have a good sense of where to add <a href="https://www.manager-tools.com/2009/07/coaching-model-revised">more formal coaching</a>. Set goals with your reports and talk through a granular step by step plan for achieving it.</p>



<p>And just like that, you’re more than half a year in. You’re on your own from here. Good luck!</p>





		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://critter.blog/2020/12/04/a-week-by-week-plan-for-starting-to-manage-a-new-team/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303976</guid>
            <pubDate>Fri, 04 Dec 2020 16:15:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to send privacy friendly emails]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25303911">thread link</a>) | @jivings
<br/>
December 4, 2020 | https://blog.leavemealone.app/how-to-send-privacy-friendly-emails/ | <a href="https://web.archive.org/web/*/https://blog.leavemealone.app/how-to-send-privacy-friendly-emails/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.leavemealone.app/content/images/size/w300/2020/12/cover.png 300w,
                            https://blog.leavemealone.app/content/images/size/w600/2020/12/cover.png 600w,
                            https://blog.leavemealone.app/content/images/size/w1000/2020/12/cover.png 1000w,
                            https://blog.leavemealone.app/content/images/size/w2000/2020/12/cover.png 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://blog.leavemealone.app/content/images/size/w2000/2020/12/cover.png" alt="How to send privacy friendly emails">
            </figure>

            <section>
                <div>
                    <p>As a privacy friendly company who work mainly with newsletters, we spend a lot of time thinking about the ethics of email. </p><p>We've recently been working on a sort of "code of ethics" for email senders who are interested in privacy, and after getting a lot of feedback have condensed our main points down to the following. This is still a work in progress (and in some places <em>highly</em> subjective), so if you have any feedback at all then please raise a ticket on the <a href="https://github.com/leavemealone-app/ethical-email-manifesto">GitHub repo</a>, or leave a comment on the <a href="https://news.ycombinator.com/item?id=25303911">Hacker News discussion</a>. </p><p>Let's start off with a simple one. Above all else, recurring emails should be opt-in. If I receive an email from you it <strong><em>should not be a surprise</em></strong>.</p><p>In real terms this means;</p><ul><li>For newsletter creators, if someone signed up for your monthly newsletter, then don't sometimes send them weekly without asking.</li><li>For app makers and SaaS, a welcome email is okay, but don't automatically add a new customer to your automated Drip campaign of 25 on-boarding emails.</li></ul><p>This really is a no-brainer and benefits everyone. If you send emails that people don't expect, you make them angry and more likely to mark you as spam, hurting your reputation.</p><p>I've spoken about this before, letting your recipients easily unsubscribe from emails helps to maintain a healthy mailing list. But lets go one step further...</p><p>Being granted permission to send an email to a persons inbox <strong>should be treated as a privilege</strong>, and we should respect their right to easily deny us that permission at any time and for any reason.</p><p>This means we must provide an unsubscribe link within each email that is accessible to the recipient, this link should ideally unsubscribe in <em>one-click</em> and not require any additional steps.</p><!--kg-card-begin: html--><blockquote>Being granted permission to send an email to a persons inbox should be treated as a privilege</blockquote><!--kg-card-end: html--><p>The best way to do this is to provide an "unsubscribe" link in the email body. This should be clear and purposeful by;</p><!--kg-card-begin: markdown--><ul>
<li>Using clear language
<ul>
<li>"Click here to unsubscribe" is good</li>
<li>"Manage your preferences here" is not.</li>
</ul>
</li>
<li>Being accessible
<ul>
<li>Make your unsubscribe link obvious</li>
<li>Keep the contrast ratio high - eg don't use light grey text on a white background. This is not cool.</li>
</ul>
</li>
</ul>
<!--kg-card-end: markdown--><p>If possible, it's also good to provide a machine-readable <code>List-Unsubscribe</code> header with every email (<a href="https://www.ietf.org/rfc/rfc2369.txt">RFC 2369</a>). This allows automated tools to help your recipients unsubscribe. The URL in the List-Unsubscribe can be the same as the one you use in your unsubscribe link in the email body.</p><!--kg-card-begin: markdown--><pre><code>List-Unsubscribe: 
    &lt;http://www.host.com/list.cgi?cmd=unsub&amp;lst=list&gt;,
    &lt;mailto:<a href="https://blog.leavemealone.app/cdn-cgi/l/email-protection" data-cfemail="5f33362c2b722d3a2e2a3a2c2b1f37302c2b713c3032">[email&nbsp;protected]</a>?subject=unsubscribe&gt;
</code></pre>
<!--kg-card-end: markdown--><p>In case this doesn't go without saying, if a recipient unsubscribes from your mailing list then you should not send them any more emails from that address!</p><p>P.S. Recently I've seen more mailing lists including an unsubscribe link at the top of the email as well as at the bottom. This seems like a great idea.</p><p>There should be no doubt why someone is receiving your email, or how frequently they should expect it. It sucks to receive an email but not know why.</p><p>I understand that recipients may forget that they signed up for your service or to receive your newsletter (especially if it is not sent frequently), so make the intent of the email clear at the start. For example, by leading the content with the sentence "You are receiving this email because you signed up for an account on example.com".</p><p>Newsletter creators, if you sent emails on a schedule then let your recipient know when they will receive your next email.</p><!--kg-card-begin: image--><figure><img src="https://blog.leavemealone.app/content/images/2020/12/image.png"><figcaption>Here's how we manage this in some of our recurring emails</figcaption></figure><!--kg-card-end: image--><p>There's also an email header for this as well, the <code>List-Help</code> header. This provides a place to discover more information about the mailing list.</p><!--kg-card-begin: markdown--><pre><code>List-Help: &lt;http://www.host.com/list/&gt;, &lt;mailto:<a href="https://blog.leavemealone.app/cdn-cgi/l/email-protection" data-cfemail="cfa3a6bcbbe2a6a1a9a08fa7a0bcbbe1aca0a2">[email&nbsp;protected]</a>&gt;
</code></pre>
<!--kg-card-end: markdown--><p>Probably the most controversial point I need to make - emails should not contain spy-pixels/pixel-trackers or any other mechanism that measures open-rates.</p><p>I know it's nice to see how many people are opening your emails, but since this tracking can be done without the consent of the recipient, it should be considered a violation of privacy. Requiring recipients to disable images in their email client in order to not be tracked is <strong>not </strong>acceptable.</p><!--kg-card-begin: image--><figure><img src="https://blog.leavemealone.app/content/images/2020/12/image-1.png"><figcaption>Read tracking can be crazy intrusive (image courtesy of the SuperHuman exposé last year)</figcaption></figure><!--kg-card-end: image--><p>If you wish to see if recipients are engaging with your emails, then provide actionable elements for them. For example, clicking a link in the email is easily measurable, shows engagement, and is less intrusive.</p><p>Ideally, I think it would be nice to return to mainly plaintext emails, with a few embedded images here and there. Embedded images don't have to be fetched from an external server, and thus can't be used for tracking purposes. I <a href="https://twitter.com/JamesIvings/status/1334796362416877569">tweeted some info</a> on how to embed images recently if you want more info on this.</p><!--kg-card-begin: hr--><hr><!--kg-card-end: hr--><p>I think these 4 points cover most shady email practices, a good start!</p><p>None of this is governed by any specific law, but a bunch of it probably falls under either CAN-SPAM or GDPR email regulations. </p><p>That said, governments have been consistently slow to react with regards to protecting online privacy and barely enforce any protections they have managed to pass. So I think the best way forward is encourage email senders to act ethically, and as consumers, point out ethical violations and not do business with those who do not meet our standards wherever possible.</p><p>There's a long way to go in this space, and I want to explore it in the open with as much feedback as possible. My first draft of an <em>Ethical Email Manifesto</em> that we will be following at my company is <a href="https://github.com/leavemealone-app/ethical-email-manifesto">public on GitHub</a> and open to contributions.</p><p>If you want to support this movement and tell the world you're an "ethical email sender", then <a href="https://github.com/leavemealone-app/ethical-email-manifesto/issues">open an issue</a> and we'll add your company as a signatory to the document ❤</p><!--kg-card-begin: hr--><hr><!--kg-card-end: hr--><p>Agree (or disagree) with me about any of this? Jump on the <a href="https://news.ycombinator.com/item?id=25303911">HN thread</a>, or <a href="https://twitter.com/JamesIvings">follow me on Twitter</a>, where I post a lot about shady email practices.</p><!--kg-card-begin: html--><!--kg-card-end: html-->
                </div>
            </section>

            <section>
                <h3>Subscribe to Leave Me Alone Blog</h3>
                <p>Get the latest posts delivered right to your inbox</p>
                


            </section>

            


        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.leavemealone.app/how-to-send-privacy-friendly-emails/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303911</guid>
            <pubDate>Fri, 04 Dec 2020 16:11:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Origin of the blink HTML Tag – www]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25303324">thread link</a>) | @siliconmountain
<br/>
December 4, 2020 | http://www.montulli.org/theoriginofthe%3Cblink%3Etag | <a href="https://web.archive.org/web/*/http://www.montulli.org/theoriginofthe%3Cblink%3Etag">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="sites-canvas-main">
<div id="sites-canvas-main-content">
<div xmlns="http://www.w3.org/1999/xhtml"><div><div dir="ltr"><p>&nbsp;&nbsp;&nbsp; I am widely credited as the inventor of the &lt;blink&gt; tag. &nbsp; For those of you who are relatively new to the Web, the &lt;blink&gt; tag is an HTML command that causes text to blink, and many, many people find its behavior to be extremely annoying. &nbsp;&nbsp; I won't deny the invention, but there is a bit more to the story than is widely known.</p><p>&nbsp;&nbsp;&nbsp; Back in 1994 I was a founding engineer at Netscape, prior to that I had written the Lynx browser, which predated all of the other popular browsers at that time.&nbsp;&nbsp;&nbsp; Lynx had been and still is a text only browser and is commonly used in a console window on UNIX machines.&nbsp;&nbsp; At Netscape we were building software that used a graphical user interface and could express vastly more text styles and layouts as well as images and other media.&nbsp;&nbsp; We spent a lot of time thinking about the future of the web and new technologies that would enable new classes of documents, applications and uses. &nbsp;&nbsp; A few examples of those thoughts were, HTML Tables, SSL for secure communications, Plugins for extensions, and JavaScript to enable dynamic HTML.&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; Sometime in late summer I took a break with some of the other engineers and went to a local bar on Castro street in Mountain View.&nbsp;&nbsp; The bar was the St. James Infirmary and it had a 30 foot wonder woman statue inside among other interesting things.&nbsp;&nbsp;&nbsp; At some point in the evening I mentioned that it was sad that Lynx was not going to be able to display many of the HTML extensions&nbsp; that we were proposing,&nbsp; I also pointed out that the only text style that Lynx could exploit given its environment was blinking text.&nbsp;&nbsp;&nbsp; We had a pretty good laugh at the thought of blinking text, and talked about blinking this and that and how absurd the whole thing would be.&nbsp;&nbsp;&nbsp;&nbsp; The evening progressed pretty normally from there, with a fair amount more drinking and me meeting the girl who would later become my first wife. </p><p>&nbsp; Saturday morning rolled around and I headed into the office only to find what else but, blinking text.&nbsp;&nbsp;&nbsp; It was on the screen blinking in all its glory, and in the browser.&nbsp;&nbsp;&nbsp; How could this be, you might ask?&nbsp;&nbsp; It turns out that one of the engineers liked my idea so much that he left the bar sometime past midnight, returned to the office and implemented the blink tag overnight.&nbsp;&nbsp; He was still there in the morning and quite proud of it.</p><p>&nbsp;&nbsp;&nbsp; At the time there were 3 versions of the browser that ran on UNIX, Windows and Mac operating systems.&nbsp;&nbsp;&nbsp; For a short 12 hours the blinking was constrained only to the UNIX version, but it didn't take long for the blinking to spread to Windows and then the Mac version.&nbsp;&nbsp;&nbsp;&nbsp; I remember thinking that this would be a pretty harmless easter egg, that no one would really use it, but I was very wrong.&nbsp;&nbsp;&nbsp;&nbsp; When we released Netscape Navigator 1.0 we did not document the blink functionality in any way, and for a while all was quiet.&nbsp;&nbsp; Then somewhere, somehow the arcane knowledge of blinking leaked into the real world and suddenly everything was blinking.&nbsp;&nbsp;&nbsp; "Look here", "buy this", "check this out", all blinking.&nbsp;&nbsp; Large advertisements blinking in all their glory.&nbsp;&nbsp; It was a lot like Las Vegas, except it was on my screen, with no way of turning it off. &nbsp; &nbsp;</p><p>&nbsp;&nbsp;&nbsp; In the end, much was said, most of it in the form of flaming posts to various discussion boards, and the &lt;blink&gt; tag will probably be remembered as the most hated of all HTML tags.&nbsp;&nbsp; I would like to publicly state that at no time did I actually write code or even seriously advocate for the &lt;blink&gt; tag.&nbsp;&nbsp; It is true that I put forth the initial inspiration, but it really was merely a thought experiment.&nbsp;&nbsp;&nbsp; I am not going to name any names of the people who coded the dastardly deed, if they wish to step forward, they will need to do it themselves.&nbsp;&nbsp;&nbsp; In the end, the thing that I am truly sad about, is that Lynx never did get to blink.&nbsp;&nbsp;&nbsp;&nbsp; I am also sad to report that the St James Infirmary burned to the ground in 1997, it was a great place to hang out and will be missed.<br></p><p>&lt;blink&gt; on,</p><p>:lou<br></p></div></div></div>
</div> 
</div></div>]]>
            </description>
            <link>http://www.montulli.org/theoriginofthe%3Cblink%3Etag</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303324</guid>
            <pubDate>Fri, 04 Dec 2020 15:29:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Murder of Wilbur Wright – How many of our greatest minds have we lost?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25303289">thread link</a>) | @leopold_a
<br/>
December 4, 2020 | https://applieddivinitystudies.com/murder-of-wilbur/ | <a href="https://web.archive.org/web/*/https://applieddivinitystudies.com/murder-of-wilbur/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
       <p>How many of our greatest minds have we lost?</p>
<p>From The Dream Machine (p50) on John Atanasoff:</p>
<blockquote>
<p><strong>He was determined to build a computing machine… But with all his teaching responsibilities, he’d had very little time to focus on the problem.</strong> Finally, however, on a bitterly cold winter night in late 1937, he just couldn’t take it anymore; he had to get away to concentrate. So he jumped into his car in Ames, Iowa, and drove east through the subzero temperature at more than eighty miles per hour. Almost three hours later, after he crossed the Mississippi River into Illinois, he stopped at a roadhouse to warm up. And there, somewhere between his first and second bourbons, he conceived four crucial ideas to make him computer work.”</p>
</blockquote>
<p>Incredible! Atanasoff was busy, but finally got down to doing the thing he really loved, the world recognized his genius, and he was given all the resources he needed to complete his work.</p>
<p>At least, that’s what would have happened in any reasonable society. Instead, we’re told:</p>
<blockquote>
<p>Atanasoff didn’t develop his invention any further, as it happened. Soon after the United States entered the war, in December 1941, he went to the Naval Ordinance Laboratory in Washington, D.C., where he supervised the counting testing of mines. <strong>He never returned to computing.</strong></p>
</blockquote>
<p>Who knows what else he could have given us? Instead, his entire lifetime produces one brief period of real scientific producitivity, bookended by teaching responsibilities and war.</p>
<p>Once you start looking, these stories are everwhere. Here’s <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/History_of_Unix">The Daemon, the Gnu and the Penguin</a> on the invention of Unix:</p>
<blockquote>
<p>In August 1969, Ken Thompson’s wife Bonnie took their year-old son on a trip to California to show off to their families. As a temporary bachelor, Ken had time to work. “I allocated a week each to the operating system, the shell, the editor and the assembler [he told me]… and during the month she was gone, it was totally rewritten in a form that looked like an operating system”</p>
</blockquote>
<p>Maybe this is a greatly exaggerated myth, but how terrifying would it be if that was true? Is it possible that Thompson was burdened by responsibilities his entire life, and then in a brief moment of freedom did some of the most important work anyone has ever done?</p>
<p>And then from <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Wright_brothers#Wilbur">Wikipedia</a>, on Wilbur Wright:</p>
<blockquote>
<p>…Wilbur never flew again. He gradually became occupied with business matters for the Wright Company and dealing with different lawsuits. Upon dealing with the patent lawsuits, which had put great strain on both brothers, Wilbur had written in a letter to a French friend, “<strong>When we think what we might have accomplished if we had been able to devote this time to experiments, we feel very sad</strong>, but it is always easier to deal with things than with men, and no one can direct his life entirely as he would choose.”</p>
</blockquote>
<p>But why on earth not? Why couldn’t Wilbur Wright, now admired as one of history’s greatest investors, find time to continue his most important work? The story continues:</p>
<blockquote>
<p>Wilbur spent the next year before his death traveling, where he spent a full six months in Europe attending to various business and legal matters… He was also constantly back and forth between New York, Washington and Dayton. All of the stresses were taking a toll on Wilbur physically. Orville would remark that he would “come home white”.</p>
</blockquote>
<p>Then finally:</p>
<blockquote>
<p>After returning to Dayton in early May 1912, worn down in mind and body, he fell ill again and was diagnosed with typhoid fever. He lingered on, his symptoms relapsing and remitting for many days. Wilbur died, at age 45, at the Wright family home on May 30.</p>
</blockquote>
<p>These were some of the most brilliant minds we had, and they were each nearly unable to fulfil even a tiny fraction of their potential. We should ask how much more each of them could have accomplished, but also how much we’ve lost from would-be inventors unable to find even a month of genuine free time with which to pursue their dreams. And of course, how many have been effectively barred from research by poverty or discrimination.</p>
<p>What hits me hardest is not the material loss, but the squandering of human spirit. As <a target="_blank" rel="noopener" href="https://vimeo.com/115154289">Bret Victor once explained</a>:</p>
<blockquote>
<p>We recognize that a dog has to be allowed the full free expression of its entire range of capabilities. Sticking him in a cage or constraining his range of experience, you’re not letting him do all the things that dogs can do. And this is exactly what we’ve done to ourselves.</p>
</blockquote>
<p>And so the stories above strike me not even as tragedies, but as something more inhumane.</p>
<p>My greatest fear is that intelligent life will arrive on earth. It won’t be an invasion, or colonization, or anything horrible. They’ll just sit us down, and ask about the lives of our heroes.</p>
<p>We’ll proudly tell them about this guy Wilbur Wright. How he and his brother invented a machine to fly in the sky as gods. We’ll tell them about our culture of research and innovation, and how Wilbur, self-taught engineer from Ohio, changed the entire world.</p>
<p>And then we’ll have to explain how gruesomely we murdered him.</p>
<p>Not with sticks and stones, but with a barrage of patent lawsuits. We will have to tell the aliens how we used this great system of socially legitimate torture to slowly wear him down over the years.</p>
<p>We will tell them how in the end, poor brilliant Wilbur became old and tired and incapable of producing anything beautiful ever again.</p>
<p>I do not think they will forgive us. I am not sure we should forgive ourselves.</p>
<hr>
<p><strong>See Also</strong><br><a target="_blank" rel="noopener" href="https://guzey.com/patronage-and-research-labs/">Reviving Patronage and Revolutionary Industrial Research</a></p>
<hr>
<p><em>Yes, I understand that Wilbur also sued people. I’m not claiming that he was a good person. My point is that in a humane world, no part of this story would even be possible.</em></p>
 
    </div></div>]]>
            </description>
            <link>https://applieddivinitystudies.com/murder-of-wilbur/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303289</guid>
            <pubDate>Fri, 04 Dec 2020 15:27:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Motivate Myself Everyday]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25303279">thread link</a>) | @phongduong
<br/>
December 4, 2020 | https://phongduong.dev/blog/motivate-myself-everyday/ | <a href="https://web.archive.org/web/*/https://phongduong.dev/blog/motivate-myself-everyday/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Every day I get up, I find it hard to keep up the momentum. Things don't happen as I expected. When I publish a piece of content, I expect many people would consume it. But it doesn't. Although it's fun to create content and express my creativity, I'm sometimes frustrated because it doesn't get any engagement.</p>
<p>I have to motivate myself to keep going. I have watched an anime series recently. It's Run with the Wind. The series is about a group of 10 college students who are trying to take part in a marathon contest. They don't have any experience in running and have to run 5km in 16 minutes to meet the qualification. After all, they meet the qualification and take part in the contest. They get in the top 10.</p>
<p>There are many inspiring quotes in the series. I rewatch it 3 times and will watch one more time. These quotes help to motivate me. I find myself in the series. I am doing what I like and happy with it. But I can't be happy all the time. My process is not always linear. </p>
<p>To motivate myself, I choose to consume other creator's content. I read blogs and books, watch videos and anime. While consuming content, I can have new ideas for my content. It also inspires me to keep going because if they can, me too.</p>
</div></div>]]>
            </description>
            <link>https://phongduong.dev/blog/motivate-myself-everyday/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303279</guid>
            <pubDate>Fri, 04 Dec 2020 15:26:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gumroad vs. Amazon KDP – Which Is Better for Authors?]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25303244">thread link</a>) | @tagawa
<br/>
December 4, 2020 | https://www.writerontheside.com/gumroad-vs-amazon-kdp/ | <a href="https://web.archive.org/web/*/https://www.writerontheside.com/gumroad-vs-amazon-kdp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><main id="genesis-content"><article aria-label="Gumroad vs. Amazon KDP – Which is Better for Authors?"><div>
<figure><img loading="lazy" width="1024" height="576" src="https://www.writerontheside.com/wp-content/uploads/2020/07/Gumroad-vs-Amazon-KDP-1024x576.png" alt="Gumroad vs Amazon KDP - Which is better for Authors" srcset="https://www.writerontheside.com/wp-content/uploads/2020/07/Gumroad-vs-Amazon-KDP-1024x576.png 1024w, https://www.writerontheside.com/wp-content/uploads/2020/07/Gumroad-vs-Amazon-KDP-300x169.png 300w, https://www.writerontheside.com/wp-content/uploads/2020/07/Gumroad-vs-Amazon-KDP-768x432.png 768w, https://www.writerontheside.com/wp-content/uploads/2020/07/Gumroad-vs-Amazon-KDP-1536x864.png 1536w, https://www.writerontheside.com/wp-content/uploads/2020/07/Gumroad-vs-Amazon-KDP-2048x1152.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>For authors, deciding between Gumroad vs. Amazon KDP is not always a straightforward answer. </p>



<p>I’ve been a huge advocate of Amazon KDP (Kindle Direct Publishing) for several years now, and most of my books are published on that platform. </p>



<p>However, I decided to self publish my latest book on Gumroad, and I wanted to share my thoughts about which one I think is best for authors.</p>



<p>I have also gathered some insights from other authors who have used one or both platforms.</p>







<h2>Gumroad vs. Amazon KDP: Quick Summary</h2>



<p>This is a <em>really </em>long post (3,900+ words, which will take you around 17 minutes to read), so here’s the TL;DR version if you don’t have a lot of time:</p>



<p>Both Amazon and Gumroad have some advantages and disadvantages for authors. And what works best depends on your objective and on your current situation.</p>



<p>If you want to <strong>maximize profits</strong>, already have a <strong>fairly large audience</strong>, and <strong>have the time and energy</strong> to direct traffic to your book, then <strong>Gumroad </strong>is the best option for you.</p>



<p>If you care more about <strong>brand value</strong>, have a <strong>smaller audience</strong>, and want to <strong>rely more on organic traffic/ reach</strong> for readers to find your book, then <strong>Amazon KDP</strong> is the best option for you.</p>



<p>You can, of course, publish on both platforms at the same time, but there are some considerations that you have to factor in.</p>



<p>Here are some more details about the advantages and disadvantages of each, and which one wins in each category.</p>







<h2>Gumroad vs. Amazon KDP: Fees &amp; Royalties</h2>



<p>Let’s start with a foundational question. What are the fees you have to pay and royalties (i.e. profit margins) you get on each platform?</p>



<h3>Amazon KDP</h3>



<p>With Amazon, you can publish your book for free (i.e. there are no listing fees), and there are no monthly fees. Your royalties fall between <strong>35%</strong> and <strong>70%</strong>, depending on the book’s price point. </p>



<p>If you list your book’s price between <strong>$2.99</strong> and <strong>$9.99</strong>, then you’ll get a <strong>70%</strong> royalty (i.e., your profit is 70% of the book’s price point).</p>



<p>However, if you list your book’s price between<strong> $0.99 </strong>(lowest price allowed) and <strong>$2.99 </strong>or between<strong> $9.99</strong> and <strong>$200.00</strong> (highest price allowed), then you’ll get a <strong>35%</strong> royalty (i.e., you only get paid 35% of the book’s price point).</p>



<p>In other words, Amazon tries to incentivize you to price your book between <strong>$2.99 and $9.99</strong> because that’s a sweet spot for sales. </p>



<p><em>Note: This applies to the ebook (i.e. Kindle) version of your book’s price point. The paperback version on Amazon has a different royalty structure.</em><br></p>



<h3>Gumroad</h3>



<p>With Gumroad, you have two options to publish your book. You can do it for free (i.e. no monthly fees), or you can upgrade to a premium account that costs you $10 per month (or $108 per year).</p>



<p>Upgrading to a premium account gives you a few advantages that you can read about <a href="https://gumroad.com/features/pricing">here</a>.</p>



<p>In terms of fees, you pay an <strong>8.5% + $0.30</strong> fee per sale on the free account, and <strong>3.5% + $0.30</strong> fee per sale on the premium account.</p>



<p>In other words, your royalty will be between approximately <strong>91% and 96%</strong> of your book’s price point (which is much higher than Amazon’s <strong>35% to 70%</strong>). </p>



<p>So Gumroad definitely wins here.</p>



<p>Another important factor that plays in Gumroad’s favor is “price anchoring.” Given that Amazon persuades authors to price their book between $2.99 and $9.99, most books are listed within that range, which makes it’s very hard to justify selling a $47 Kindle ebook.</p>



<p>Gumroad doesn’t have that problem.</p>



<h4><strong>Winner</strong>: <strong>Gumroad</strong></h4>







<h2>Gumroad vs. Amazon KDP: eBook Formats</h2>



<p>When you submit your ebook to Amazon, you have to meet their specific guidelines because Amazon converts your book into their proprietary ebook file format. You can format your book using Microsoft Word or by using Amazon’s own tool called “<a href="https://www.amazon.com/Kindle-Create/b?ie=UTF8&amp;node=18292298011">Kindle Create</a>.” </p>



<p>You can also submit other formats, such as PDF, but those end up causing some formatting challenges when they’re converted to Kindle-specific files.</p>



<p>The way your readers read your Kindle book is either on a Kindle device (e.g., a Kindle Fire Tablet or a Kindle Paperwhite) or on a free Kindle app installed on any other device (e.g., iPhone, iPad, Android phone, computer, etc.). </p>



<p>When you submit your ebook to Gumroad, you basically upload whatever file format your readers will end up downloading. You can also upload multiple files of the same book.</p>



<p>For example, you might want to offer your book in PDF format only.  Or you might want to offer it in PDF, MOBI, ePUB, and HTML. Gumroad basically acts as a document repository and you can upload the same files that you want your customers to view.</p>



<p><em>Note: If you want your Gumroad customers to be able to read your book on their Kindle devices, then make sure you upload the Kindle-friendly MOBI version of your book.</em></p>



<p>Gumroad wins in this category because of the file format flexibility. </p>



<p>For example, I’m writing a new book about <a href="https://www.thecouchmanager.com/home-office-book-launch">how to design a home office</a> and because it’s picture heavy (and the layout needs tweaking) the best format that will work for me is PDF.</p>



<p>And because I wouldn’t be able to do replicate that layout in Amazon without some serious design challenges, I’ll be selling that book exclusively on Gumroad.</p>



<h4>Winner: Gumroad</h4>







<h2>Gumroad vs. Amazon KDP: Paperback Copies</h2>



<p>Most authors want to (and probably should) sell paperback copies of their book. That’s because some readers still prefer to hold physical copies of books, and it would be a mistake to ignore that potential revenue stream.</p>



<p>Here’s a recent screenshot of revenue from my books. Notice the difference between the ebook and paperback royalties.</p>



<figure><img loading="lazy" width="871" height="290" src="https://www.writerontheside.com/wp-content/uploads/2020/07/image.png" alt="Amazon ebook royalty vs. paperback royalty" srcset="https://www.writerontheside.com/wp-content/uploads/2020/07/image.png 871w, https://www.writerontheside.com/wp-content/uploads/2020/07/image-300x100.png 300w, https://www.writerontheside.com/wp-content/uploads/2020/07/image-768x256.png 768w" sizes="(max-width: 871px) 100vw, 871px"></figure>



<p>With Amazon, creating a paperback version of your book is very simple. You’ll need to convert your manuscript to a print-ready file (easy to do within Amazon KDP) and then upload a print-ready cover (that you’ll need to have designed).</p>



<p>After you publish, Amazon then simply prints your book as soon as someone orders it (called POD, which stands for print-on-demand) and ships it to them. So you don’t have to worry about inventory or paying for print copies upfront.</p>



<p>Gumroad unfortunately does not provide any of those print-on-demand capabilities, which means that you will not be able to sell any paperback copies of your book.</p>



<p>The only potential alternative is to do this manually by pre-printing copies of your book yourself and then physically sell &amp; ship them when someone makes an order (not very practical, and not very cheap). </p>



<h4>Winner: Amazon KDP</h4>







<h2>Gumroad vs. Amazon KDP: Organic Reach</h2>



<p>Organic reach is about how people find your book and how effectively each platform recommends it. </p>



<p>With Amazon, over <strong>95%</strong> of my book sales come from organic sales. In other words, it’s mostly from Amazon’s own algorithm. I don’t get a lot of sales from my own efforts of directing people to buy my books. </p>



<p><em>Note: Amazon does not disclose any data about statistics or traffic sources, so I couldn’t give you exact numbers. However, I do track my own sales channels through affiliate links to my books, and that’s why I can estimate organic sales at around 95%.</em></p>



<p>With Gumroad, it’s almost the exact opposite. For sales of my last book, only around <strong>7%</strong> of the sales came in from Gumroad’s organic reach, and <strong>93%</strong> came from my own direct efforts, so I have to do a lot more marketing to sell those books. </p>



<p>So for me, Amazon wins because of three reasons. </p>



<p>First, I can depend a bit more on sales as passive income and I don’t have to constantly market my books.</p>



<p>Second, the volume of readers and traffic on Amazon is much higher than the volume on Gumroad.</p>



<p>Third, Amazon has a sophisticated search algorithm that recommends books to readers based on recent events or on their search/ purchase history.</p>



<p>And all three factors converged for me during the COVID-19 pandemic.</p>



<p>I wrote a book around 6 years ago (called “<em><a href="https://amzn.to/2EAeP7I">Influencing Virtual Teams</a></em>“) and it was making around $200 a month. Then, during the pandemic, there was a sudden spike in interest about remote work, and the book ended up making 10X that amount in a couple of those months. </p>



<p>Although Amazon wins in this category, I do have to give Gumroad two advantages here. First, they are open about their sales sources, so I can get much better statistics. And second, I made over <a href="https://www.writerontheside.com/final-results-3294usd-in-30-days-from-the-book-part-9/">$3,294 in sales in one month</a> from one book, so the higher price-point of the book could pay off for you.</p>



<h4>Winner: Amazon KDP</h4>







<h2>Gumroad vs. Amazon KDP: Reader Emails</h2>



<p>An essential feature for authors is the ability to collect emails from their customers. There are many reasons why, but in summary, it’s to be able to stay in touch with readers and build a relationship with them so you can sell other books (or products/ services) down the line. </p>



<p>Amazon does not give authors the capability to view any of those email addresses. In fact, authors have absolutely no visibility about who their customers are. There is a workaround, where authors can offer customers a freebie in exchange for their email address, but that takes <a href="https://www.writerontheside.com/how-to-collect-email-addresses-from-readers/">a bit of effort to set up</a>, and you’ll still not capture 100% of your customers.</p>



<p>Gumroad not only gives you your customers’ information (including email addresses), but it also allows you to communicate with them through Gumroad’s email messaging system directly. You can even export those email addresses and import them into your email management system (such as <a href="https://www.writerontheside.com/aweber" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">AWeber</a>) if you’d like to. So it’s a no brainer that Gumroad wins here.</p>











<h2>Gumroad vs Amazon KDP: Listing Your Book for Free</h2>



<p>Some authors like the idea of offering one or more of their books for free to help them with branding and even making <a href="https://www.writerontheside.com/ep-025-getting-200x-more-downloads-by-offering-your-book-for-free/">money indirectly</a>. </p>



<p>With Amazon, you can list your book for free on a limited basis only (for 5 days every 90 day period if you’re enrolled in <a href="https://kdp.amazon.com/en_US/select" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">KDP Select</a>).  You can also list it as a “Permanently Free” book, but that’s not a simple process.</p>



<p>However, if you are able to list your book for free on Amazon, you’ll get the advantage of the high volume of traffic. I listed one of my books …</p></div></article></main></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.writerontheside.com/gumroad-vs-amazon-kdp/">https://www.writerontheside.com/gumroad-vs-amazon-kdp/</a></em></p>]]>
            </description>
            <link>https://www.writerontheside.com/gumroad-vs-amazon-kdp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303244</guid>
            <pubDate>Fri, 04 Dec 2020 15:24:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Indian is an Indian phone?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25303208">thread link</a>) | @coolsnakeman
<br/>
December 4, 2020 | https://restofworld.org/2020/xiaomi-made-in-india/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/xiaomi-made-in-india/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><span>T</span>he Indiranagar 100-Feet Road is the commercial heart of India’s technology capital Bangalore, lined with international brand stores, bars, restaurants, and food courts. Owning retail space here, alongside consumer giant Reliance Digital and German footwear brand Puma, is a marker of success for brands breaking into mainstream consciousness. Chinese smartphone maker Xiaomi’s two-story, 6,000-square-foot flagship store is right at the heart of the district. Behind its saffron frontage is a showcase for its as-yet-unlaunched handsets, televisions, laptops, fitness bands, e-scooters, and water purifiers.&nbsp;</p>



<p>In June, the store had a complete facelift. A new logo was put on the front of the building that read: “Made In India.” By August, the interior had been decorated with tricolored balloons in the green, white, and orange of the Indian flag. Along the walls, a company timeline showed the history of Xiaomi’s manufacturing operations in India. Mentions of the company’s heritage — it was founded in Beijing in 2010 — disappeared. <a href="https://www.indiatoday.in/india/story/xiaomi-puts-up-made-in-india-banner-outside-stores-to-counter-boycott-china-campaign-1692633-2020-06-25">Hundreds</a> of the company’s stores across the country underwent the same transformation. “Super proud to share that majority of our TVs are #MadeInIndia! We employ thousands of team members across our India factories #ProudIndian,” <a href="https://twitter.com/manukumarjain/status/1276052185638252544?s=20">tweeted</a> Manu Kumar Jain, the India head of Xiaomi.&nbsp;</p>



<p>Anti-China sentiment had already been rising in India’s heartlands before a skirmish in June in a disputed Himalayan border region left 20 Indian soldiers dead. Nationalists started <a href="https://www.thequint.com/news/india/bharat-mata-and-chinese-tvs-a-tale-of-boycotting-goods-from-china">smashing</a> Chinese-made televisions; one minister called for shutting down <a href="https://economictimes.indiatimes.com/news/politics-and-nation/restaurants-and-hotels-that-sell-chinese-food-should-be-shut-down-union-minister-ramdas-athawale/videoshow/76442910.cms">Chinese restaurants</a>. A few weeks after the skirmish, the Indian government banned TikTok, along with hundreds of Chinese apps, and, in August, passed an <a href="https://www.ft.com/content/55642551-f6e8-4f9d-b5ba-a12d2fc26ef9">unofficial</a> order to phase out dependence on Chinese telecom equipment, including 5G networks. Prime Minister Narendra Modi made a special appearance on television encouraging Indians to be <a href="https://www.youtube.com/watch?v=0xmx92Q_kQ4">“vocal” in their support for “local” products</a>, creating the #vocalforlocal slogan.&nbsp;</p>



<p>Chinese smartphone makers like Oppo, Vivo, and Xiaomi — who made up 81% of the Indian market — were left in a precarious position after the clash. Right-wing groups gathered outside Oppo’s factory in the outskirts of Delhi and <a href="https://www.newindianexpress.com/nation/2020/jun/20/anti-china-demonstration-held-outside-oppo-factory-in-greater-noida-32-protesters-booked-2159224.html">burnt effigies of Xi Jinping</a>, as they demanded that the plant be closed. Some companies battened down the hatches, <a href="https://economictimes.indiatimes.com/industry/cons-products/electronics/chinese-brands-endorsers-may-go-slow-on-promotions-some-pull-out-ads-some-plan-to-play-up-make-in-india-credentials/articleshow/76429828.cms?from=mdr">suspending their prime-time advertising campaigns</a>. Vivo <a href="https://sports.ndtv.com/cricket/ipl-title-sponsor-vivo-pulls-out-of-tournament-this-year-amid-row-2274036">pulled out</a> as the title sponsor of the country’s biggest sporting event, the Indian Premier League cricket competition, after an aggressive campaign against it on social media. Stray protests took place outside some Xiaomi stores, as threats of vandalism loomed large and mobile shipments from China were <a href="https://telecom.economictimes.indiatimes.com/news/smartphone-makers-in-panic-mode-over-stranded-shipments/76536342">stalled for manual inspection at Indian ports</a>.</p>



<p>But while other Chinese brands retreated from the limelight, Xiaomi pursued a unique — and potentially high-risk — strategy: It presented itself as not being Chinese after all, but Indian. Jain, its figurehead in India, took to television, newspapers, and social media to talk up the company’s all-Indian local leadership team and the thousands of jobs it had created in manufacturing and retail. “We are more Indian than anyone else,” Jain told <a href="https://twitter.com/manukumarjain/status/1274316181235568645?lang=en">CNBC-TV18</a>. The company even donated money to the families of soldiers “<a href="https://www.mi.com/in/service/support/crpffund.html">martyred</a>” in Kashmir.</p>



<p>Jain has proven adept in using social media and his own personal brand to launder Xiaomi’s origins. But the company faces growing pressure in an unstable political environment. Narendra Modi’s government is once again proclaiming its desire to bring manufacturing back to India, offering <a href="https://www.bloomberg.com/news/articles/2020-09-10/india-mulls-23-billion-package-to-lure-global-manufacturers?sref=QYWxDQ1o">lavish incentives</a> for export-led manufacturers, which may help once-moribund local phone brands. Xiaomi has indeed moved some of its production onshore, but the core components of its devices are still made in China. With the country’s nationalist surge unlikely to end soon, Jain and Xiaomi will eventually have to face up to the question: How Indian is Indian enough?</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-842778188-40x29.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-842778188-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-842778188-400x285.jpg 400w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-842778188-600x428.jpg 600w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-842778188-1000x713.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-842778188-1600x1140.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-842778188-2800x1995.jpg 2800w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="Manu Jain speaks during the launch of the Xiaomi Mi A1 smartphone in New Delhi in 2017.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder">Sajjad Hussain/AFP/Getty Images</span>
			</figcaption>
		</figure>


<hr>



<p><strong>Jain, 39, “is</strong> the Indian middle-class dream personified,” in the words of a former colleague. As a child, he lived in Meerut in northern India, alongside 150 members of his extended family, in an isolated housing compound inside a military quarters built by his great grandfather. “I had never even been exposed to the outside world,” Jain says.</p>



<p>After studying at the prestigious Indian Institute of Technology and at the Indian Institute of Management business school, he joined the global consulting firm McKinsey.</p>



<p>Jain’s early career in technology was successful but low profile. He quit McKinsey in 2012 to launch e-commerce portal Jabong.com, which was sold to SoftBank-backed (now Walmart-owned) rival Flipkart for $70 million in 2016. By then, Jain had already moved on to <a href="https://www.thehindubusinessline.com/companies/Jabong%E2%80%99s-former-MD-switches-attention-to-wearable-smart-devices/article20718785.ece#">start a short-lived wearables company</a>. In 2014, he became Xiaomi India’s first hire, recruited by Hugo Barra, the former Android executive who had been tasked with expanding Xiaomi outside China.</p>



<p>At the time, the market was dominated by Samsung and by Indian brands, such as Micromax, Karbonn, and Lava, whose model was to import unbranded Chinese products and sell them as their own. “There was no R&amp;D team, no product team, and no product design. They would basically just buy those products and sell them here,” says Jain.</p>



<p>Xiaomi’s entry was not just about cutting out the middleman. In China, Xiaomi, along with Oppo and Vivo, had evolved beyond their origins in cheap but unreliable products and were now designing and producing higher-quality but affordable devices that were well adapted to a market like India, where disposable income was increasing in step with demand for mobile data.</p>



<p>Jain began his tenure at Xiaomi with a big gamble. In 2014, only 6% of Indian retail sales happened through e-commerce, but Jain launched Xiaomi as an online-only brand, replicating an approach that had worked in China.&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-01-at-11.54.13-AM-40x39.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-01-at-11.54.13-AM-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-01-at-11.54.13-AM-400x394.png 400w, https://restofworld.org/wp-content/uploads/2020/12/Screen-Shot-2020-12-01-at-11.54.13-AM-600x592.png 600w, https://restofworld.org/wp-content/uploads/2020/12/Screen-Shot-2020-12-01-at-11.54.13-AM-1000x986.png 1000w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="Xiaomi dominates the Indian market.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder">Data: Counterpoint Research</span>
			</figcaption>
		</figure>


<p>“Most people said, You are going to fail. You are going to be a disaster,” he said during a 2017 TED Talk. “Most smartphone brands until then focused on building large distribution networks, and we didn’t do that.”&nbsp;</p>



<p>To drum up interest, the company organized flash sales and made sure the phones sold out quickly, to enhance their perceived popularity, a technique known as “hunger marketing.” They spent relatively little on advertising, instead relying on their users to become evangelists for the brand.</p>



<p>Xiaomi’s phones seemed to hit a sweet spot of pricing and specifications. “Their phones were undercutting basically every other device on the market by half,” says Harish Jonalaggada, Asia editor at mobile review portal Android Central. The company launched phones for $180, with high specs like 64GB storage and 4GB RAM that were previously seen on only devices over $400.</p>



<p>The rush of orders for the launch of the Mi 3 model crashed the Indian e-commerce website Flipkart in the summer of 2014.&nbsp;</p>



<p>But Xiaomi’s success wasn’t just about its hardware. Under Jain’s leadership, the company tailored its Android-based operating system, MIUI, to the local market. One feature, Smart SMS, identifies the cluttered text messages that Indian Railways sends to its customers and extracts booking information, turning it into a ticket-like document. Xiaomi was the first company in India to incorporate a popular “dual app” feature that allows users to run duplicate versions of the same app — such as WhatsApp — on the same phone.</p>



<p>As online channels exploded in popularity and started to become saturated, Xiaomi shifted direction. In 2017, the company dramatically expanded its physical retail presence, pushing deep into rural areas. In October 2018, it set a mark recognized by the Guinness World Records by opening <a href="https://gadgets.ndtv.com/mobiles/news/xiaomi-opens-over-500-retail-stores-in-a-single-day-in-rural-india-1950375">500 stores</a> in a day. “One of the reasons Xiaomi has done well is — from both a product perspective and channel perspective — they made decisions unique to the India market,” says a Shanghai-based financial analyst covering Xiaomi who requested to remain anonymous, citing geopolitical tensions. In September, Xiaomi piloted its unique <a href="https://gadgets.ndtv.com/mobiles/news/xiaomi-mi-store-on-wheels-mobile-stores-moving-trucks-launch-india-villages-watch-xiaomi-2298745">Mi Store on Wheels</a>, a van that sells everything from trimmers to phones throughout the hinterlands of India.&nbsp;</p>



<p>This sensitivity to the local market is in no small part due to the unusual autonomy that Jain has had in running Xiaomi in India. The Indian operations of Oppo and Vivo are both run by Chinese nationals. “Chinese companies are often very inward-looking and wouldn’t devolve the power in the same way Xiaomi has,” the analyst says.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-954020916-40x60.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-954020916-600x1066.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-954020916-400x600.jpg 400w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-954020916-600x900.jpg 600w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-954020916-1000x1499.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-954020916-1600x2399.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-954020916-2800x4198.jpg 2800w, " sizes="(max-width: 640px) 100vw, 300px" alt="Lei Jun, Xiaomi’s founder and CEO.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder"> Giulia Marchi/Bloomberg/Getty Images</span>
			</figcaption>
		</figure>


<p>That unusual autonomy stems from the relationship that Jain has built with Lei Jun, Xiaomi’s founder and CEO, a self-confessed acolyte of Apple founder Steve Jobs. Jain says that, when he and Jun first met, “both of us were wearing black T-shirts and denim jeans. It was cool.”</p>



<p>One former employee, who worked closely with Jain while setting up the India operations, told <em>Rest of World</em>: “Over a period of time when Xiaomi India was growing, Manu was able to earn Jun’s trust, which is actually very hard. … Manu’s bets on the Indian market proved him right. And so, after a while, the CEO decided to just let Manu make his own decisions, which is very rare.”&nbsp;</p>



<p>By 2019, Xiaomi was the largest smartphone brand in India, shifting 100 million units, according to data from the International Data Corporation. The company has expanded beyond mobile and offers everything from luggage to beard trimmers. Its rise came at the cost of Indian brands, whose market share fell from close to 50% to just 13% by the end of 2018, according to market intelligence firm Counterpoint Research.&nbsp;</p>



<p>Jun and Jain share a love of the limelight. Jun is a <a href="https://www.nytimes.com/2013/06/05/business/global/in-china-an-empire-built-by-aping-apple.html">social media celebrity</a> in China, posting mobile teasers and specifications to his 5 million …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2020/xiaomi-made-in-india/">https://restofworld.org/2020/xiaomi-made-in-india/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2020/xiaomi-made-in-india/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303208</guid>
            <pubDate>Fri, 04 Dec 2020 15:22:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Gentle Introduction to Power Flow]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25303072">thread link</a>) | @eperim
<br/>
December 4, 2020 | https://invenia.github.io/blog/2020/12/04/pf-intro/ | <a href="https://web.archive.org/web/*/https://invenia.github.io/blog/2020/12/04/pf-intro/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>04 Dec 2020</span></p>
  <p>Although governed by simple physical laws, power grids are among the most complex human-made systems.
The main source of the complexity is the large number of components of the power systems that interact with each other: one needs to maintain a balance between power injections and withdrawals while satisfying certain physical, economic, and environmental conditions.
For instance, a central task of daily planning and operations of electricity grid operators<sup id="fnref:Tong04" role="doc-noteref"><a href="#fn:Tong04">1</a></sup> is to dispatch generation in order to meet demand at minimum cost, while respecting reliability and security constraints.
These tasks require solving a challenging constrained optimization problem, often referred to as some form of optimal power flow (OPF).<sup id="fnref:Cain12" role="doc-noteref"><a href="#fn:Cain12">2</a></sup></p>

<div><p>In a series of two blog posts, we are going to discuss the basics of power flow and optimal power flow problems.
In this first post, we focus on the most important component of OPF: the power flow (PF) equations.
For this, first we introduce some basic definitions of power grids and AC circuits, then we define the power flow problem.
</p></div>

<p><img src="https://invenia.github.io/blog/public/images/us_power_grid.jpg" alt="us_power_grid">
Figure 1. Complexity of electricity grids: the electric power transmission grid of the United States (source: FEMA and <a href="https://en.wikipedia.org/wiki/North_American_power_transmission_grid">Wikipedia</a>).</p>


<h2 id="power-grids-as-graphs">Power grids as graphs</h2>

<p>Power grids are networks that include two main components: buses that represent important locations of the grid (e.g. generation points, load points, substations) and transmission (or distribution) lines that connect these buses.
It is pretty straightforward, therefore, to look at power grid networks as graphs: buses and transmission lines can be represented by nodes and edges of a corresponding graph.
There are two equivalent graph models that can be used to derive the basic power flow equations<sup id="fnref:Low14" role="doc-noteref"><a href="#fn:Low14">3</a></sup>:</p>
<ul>
  <li>directed graph representation (left panel of Figure 2): \(\mathbb{G}_{D}(\mathcal{N}, \mathcal{E})\);</li>
  <li>undirected graph representation (right panel of Figure 2): \(\mathbb{G}_{U}(\mathcal{N}, \mathcal{E} \cup \mathcal{E}^{R})\),</li>
</ul>

<div><p>where \(\mathcal{N}\), \(\mathcal{E} \subseteq \mathcal{N} \times \mathcal{N}\) and \(\mathcal{E}^{R} \subseteq \mathcal{N} \times \mathcal{N}\) denote the set of nodes (buses), and the forward and reverse orientations of directed edges (branches) of the graph, respectively.
</p></div>

<p><img src="https://invenia.github.io/blog/public/images/power_grid_graphs.png" alt="power_grid_graphs">
Figure 2. Directed graph representation of synthetic grid 14-ieee (left) and undirected graph representation of synthetic grid 30-ieee (right). Red and blue circles denote generator and load buses, respectively.</p>


<h2 id="complex-power-in-ac-circuits">Complex power in AC circuits</h2>

<p>Power can be transmitted more efficiently at high voltages as high <a href="https://en.wikipedia.org/wiki/Voltage">voltage</a> (or equivalently, low <a href="https://en.wikipedia.org/wiki/Electric_current">current</a>) reduces the loss of power due to its dissipation on transmission lines.
Power grids generally use <a href="https://en.wikipedia.org/wiki/Alternating_current">alternating current</a> (AC) since the AC voltage can be altered (from high to low) easily via transformers.
Therefore, we start with some notation and definitions for AC circuits.</p>

<p>The most important characteristics of AC circuits is that, unlike in <a href="https://en.wikipedia.org/wiki/Direct_current">direct current</a> (DC) circuits, the currents and voltages are not constant in time: both their <em>magnitude</em> and <em>direction</em> vary periodically.
Because of several technical reasons (like low losses and disturbances), power generators use sinusoidal alternating quantities that can be straightforwardly modeled by <a href="https://en.wikipedia.org/wiki/Complex_number%7D%7Bcomplex%20numbers">complex numbers</a>.</p>

<p>We will consistently use capital and small letters to denote complex and real-valued quantities, respectively.
For instance, let us consider two buses, \(i, j \in \mathcal{N}\), that are directly connected by a transmission line \((i, j) \in \mathcal{E}\).
The <a href="https://en.wikipedia.org/wiki/AC_power">complex power</a> flowing from bus \(i\) to bus \(j\) is denoted by \(S_{ij}\) and it can be decomposed into its active (\(p_{ij}\)) and reactive (\(q_{ij}\)) components:</p><p>

\[\begin{equation}
S_{ij} = p_{ij} + \mathrm{j}q_{ij},
\end{equation}\]

</p><p>where \(\mathrm{j} = \sqrt{-1}\).
The complex power flow can be expressed as the product of the complex voltage at bus \(i\), \(V_{i}\) and the complex conjugate of the current flowing between the buses, \(I_{ij}^{*}\):</p><p>

\[\begin{equation}
S_{ij} = V_{i}I_{ij}^{*},
\label{power_flow}
\end{equation}\]

</p><p>It is well known that transmission lines have power losses due to their <a href="https://en.wikipedia.org/wiki/Electrical_resistance_and_conductance">resistance</a> (\(r_{ij}\)), which is a measure of the opposition to the flow of the current.
For AC-circuits, a dynamic effect caused by the line <a href="https://en.wikipedia.org/wiki/Electrical_reactance">reactance</a> (\(x_{ij}\)) also plays a role.
Unlike resistance, reactance does not cause any loss of power but has a delayed effect by storing and later returning power to the circuit.
The effect of resistance and reactance together can be represented by a single complex quantity, the <a href="https://en.wikipedia.org/wiki/Electrical_impedance">impedance</a>: \(Z_{ij} = r_{ij} + \mathrm{j}x_{ij}\). 
Another useful complex quantity is the <a href="https://en.wikipedia.org/wiki/Admittance">admittance</a>, which is the reciprocal of the impedance: \(Y_{ij} = \frac{1}{Z_{ij}}\).
Similarly to the impedance, the admittance can be also decomposed into its real, <a href="https://en.wikipedia.org/wiki/Electrical_resistance_and_conductance">conductance</a> (\(g_{ij}\)), and imaginary, <a href="https://en.wikipedia.org/wiki/Susceptance">susceptance</a> (\(b_{ij}\)), components: \(Y_{ij} = g_{ij} + \mathrm{j}b_{ij}\).</p>

<p>Therefore, the current can be written as a function of the line voltage drop and the admittance between the two buses, which is an alternative form of <a href="https://en.wikipedia.org/wiki/Ohm%27s_law">Ohm’s law</a>:</p><p>

\[\begin{equation}
I_{ij} = Y_{ij}(V_{i} - V_{j}).
\end{equation}\]

</p><p>Replacing the above expression for the current in the power flow equation (eq. \(\ref{power_flow}\)), we get</p><p>

\[\begin{equation}
S_{ij} = Y_{ij}^{*}V_{i}V_{i}^{*} - Y_{ij}^{*}V_{i}V_{j}^{*} = Y_{ij}^{*} \left( |V_{i}|^{2} - V_{i}V_{j}^{*} \right).
\end{equation}\]

</p><p>The above power flow equation can be expressed by using the polar form of voltage, i.e. \(V_{i} = v_{i}e^{\mathrm{j} \delta_{i}} = v_{i}(\cos\delta_{i} + \mathrm{j}\sin\delta_{i})\) (where \(v_{i}\) and \(\delta_{i}\) are the voltage magnitude and angle of bus \(i\), respectively), and the admittance components:</p><p>

\[\begin{equation}
S_{ij} = \left(g_{ij} - \mathrm{j}b_{ij}\right) \left(v_{i}^{2} - v_{i}v_{j}\left(\cos\delta_{ij} + \mathrm{j}\sin\delta_{ij}\right)\right),
\end{equation}\]

</p><p>where for brevity we introduced the voltage angle difference \(\delta_{ij} = \delta_{i} - \delta_{j}\).
Similarly, using a simple algebraic identity of \(g_{ij} - \mathrm{j}b_{ij} = \frac{g_{ij}^{2} + b_{ij}^{2}}{g_{ij} + \mathrm{j}b_{ij}} = \frac{|Y_{ij}|^{2}}{Y_{ij}} = \frac{Z_{ij}}{|Z_{ij}|^{2}} = \frac{r_{ij} + \mathrm{j}x_{ij}}{r_{ij}^{2} + x_{ij}^{2}}\), the impedance components-based expression has the following form:</p><p>

\[\begin{equation}
    S_{ij} = \frac{r_{ij} + \mathrm{j}x_{ij}}{r_{ij}^{2} + x_{ij}^{2}} \left( v_{i}^{2} - v_{i}v_{j}\left(\cos\delta_{ij} + \mathrm{j}\sin\delta_{ij}\right)\right).
\end{equation}\]

</p><p>Finally, the corresponding real equations can be written as</p><p>

\[\begin{equation}
\left\{
    \begin{aligned}
        p_{ij} &amp; = g_{ij} \left( v_{i}^{2} - v_{i} v_{j} \cos\delta_{ij} \right) - b_{ij} \left( v_{i} v_{j} \sin\delta_{ij} \right) \\
        q_{ij} &amp; = b_{ij} \left( -v_{i}^{2} + v_{i} v_{j} \cos\delta_{ij} \right) - g_{ij} \left( v_{i} v_{j} \sin\delta_{ij} \right), \\
    \end{aligned}
\right.
\label{power_flow_y}
\end{equation}\]

</p><p>and</p><p>

\[\begin{equation}
\left\{
    \begin{aligned}
        p_{ij} &amp; = \frac{1}{r_{ij}^{2} + x_{ij}^{2}} \left[ r_{ij} \left( v_{i}^{2} - v_{i} v_{j} \cos\delta_{ij} \right) + x_{ij} \left( v_{i} v_{j} \sin\delta_{ij} \right) \right] \\
        q_{ij} &amp; = \frac{1}{r_{ij}^{2} + x_{ij}^{2}} \left[ x_{ij} \left( v_{i}^{2} - v_{i} v_{j} \cos\delta_{ij} \right) + r_{ij} \left( v_{i} v_{j} \sin\delta_{ij} \right) \right]. \\
    \end{aligned}
\right.
\label{power_flow_z}
\end{equation}\]

</p><h2 id="power-flow-models">Power flow models</h2>

<p>In the previous section we presented the power flow between two connected buses and established a relationship between complex power flow and complex voltages.
In power flow problems, the entire power grid is considered and the task is to calculate certain quantities based on some other specified ones.
There are two equivalent power flow models depending on the graph model used: the bus injection model (based on the undirected graph representation) and the branch flow model (based on the directed graph representation).
First, we introduce the basic formulations.
Then, we show the most widely used technique to solve power flow problems.
Finally, we extend the basic equations and derive more sophisticated models including additional components for real power grids.</p>

<h3 id="bus-injection-model">Bus injection model</h3>

<p>The bus injection model (BIM) uses the undirected graph model of the power grid, \(\mathbb{G}_{U}\).
For each bus \(i\), we denote by \(\mathcal{N}_{i} \subset \mathcal{N}\) the set of buses directly connected to bus \(i\).
Also, for each bus we introduce the following quantities<sup id="fnref:Low14:1" role="doc-noteref"><a href="#fn:Low14">3</a></sup><sup id="fnref:Wood14" role="doc-noteref"><a href="#fn:Wood14">4</a></sup> (Figure 3):</p>
<ul>
  <li>\(S_{i}^{\mathrm{gen}}\): generated power flowing into bus \(i\).</li>
  <li>\(S_{i}^{\mathrm{load}}\): demand power or load flowing out of the bus \(i\).</li>
  <li>\(S_{i}\): net power injection at bus \(i\), i.e. \(S_{i} = S_{i}^{\mathrm{gen}} - S_{i}^{\mathrm{load}}\).</li>
  <li>\(S_{i}^{\mathrm{trans}}\): transmitted power flowing between bus \(i\) and its adjacent buses.
</li>
</ul>

<p><img src="https://invenia.github.io/blog/public/images/power_quantities.png" alt="...">
Figure 3. Power balance and quantities of a bus connected to three adjacent buses and including a single generator and a single load.</p>

<p><br>
<a href="https://en.wikipedia.org/wiki/Tellegen/%27s_theorem">Tellegen’s theorem</a> establishes a simple relationship between these power quantities:</p><p>

\[\begin{equation}
S_{i} = S_{i}^{\mathrm{gen}} - S_{i}^{\mathrm{load}} = S_{i}^{\mathrm{trans}} \ \ \ \ \forall i \in \mathcal{N}.
\label{power_balance}
\end{equation}\]

</p><p>Eq. \(\ref{power_balance}\) expresses the law of conservation of power (energy): the power injected (\(S_{i}^{\mathrm{gen}}\)) to bus \(i\) must be equal to the power going out from the bus, i.e. the sum of the withdrawn (\(S_{i}^{\mathrm{load}}\)) and transmitted power (\(S_{i}^{\mathrm{trans}}\)).
In the most basic model, a bus can represent either a generator (i.e. \(S_{i} = S_{i}^{\mathrm{gen}}\)) or a load (i.e. \(S_{i} = -S_{i}^{\mathrm{load}}\)).
For a given bus, the transmitted power can be obtained simply as a sum of the powers flowing in to and out from the bus, \(S_{i}^{\mathrm{trans}} = \sum \limits_{j \in …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://invenia.github.io/blog/2020/12/04/pf-intro/">https://invenia.github.io/blog/2020/12/04/pf-intro/</a></em></p>]]>
            </description>
            <link>https://invenia.github.io/blog/2020/12/04/pf-intro/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25303072</guid>
            <pubDate>Fri, 04 Dec 2020 15:12:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Easily send anonymous suggestions to any email address]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25302848">thread link</a>) | @fersarr
<br/>
December 4, 2020 | https://feedfeedback.com/write_anon | <a href="https://web.archive.org/web/*/https://feedfeedback.com/write_anon">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="second_body">
            
            
            <p id="subtitle" data-translation_id="writeanon_h2">Send anonymous comments or suggestions to any email address</p>

            
            



            <p id="contact_at_bottom" data-translation_id="global_contact_us">Contact us at feedfeedback.app@gmail.com or use <a href="https://feedfeedback.com/feedfeedback">feedfeedback.com/feedfeedback</a></p>
        </div></div>]]>
            </description>
            <link>https://feedfeedback.com/write_anon</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302848</guid>
            <pubDate>Fri, 04 Dec 2020 14:54:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mannequin.js: An Articulated Mannequin Figure Library]]>
            </title>
            <description>
<![CDATA[
Score 146 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25302602">thread link</a>) | @petercooper
<br/>
December 4, 2020 | https://boytchev.github.io/mannequin.js/ | <a href="https://web.archive.org/web/*/https://boytchev.github.io/mannequin.js/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      

      

<ul>
  <li><a href="#About">About</a></li>
  <li><a href="#Initialization">Initialization</a>
    <ul>
      <li><a href="#Minimal-program">Minimal program</a></li>
      <li><a href="#Figure-types">Figure types</a></li>
    </ul>
  </li>
  <li><a href="#Body-parts">Body parts</a>
    <ul>
      <li><a href="#Central-body-parts">Central body parts</a></li>
      <li><a href="#Upper-limbs">Upper limbs</a></li>
      <li><a href="#Lower-limbs">Lower limbs</a></li>
    </ul>
  </li>
  <li><a href="#Body-posture">Body posture</a>
    <ul>
      <li><a href="#Static-posture">Static posture</a></li>
      <li><a href="#Dynamic-posture">Dynamic posture</a></li>
    </ul>
  </li>
  <li><a href="#Other-functions">Other functions</a>
    <ul>
      <li><a href="#Custom-colors">Custom colors</a></li>
      <li><a href="#Hiding-body-parts">Hiding body parts</a></li>
      <li><a href="#Custom-body-parts">Custom body parts</a></li>
      <li><a href="#Global-position">Global position</a></li>
    </ul>
  </li>
  <li><a href="#Future-plans">Future plans</a></li>
</ul>


<p><strong>Mannequin.js</strong> is a simple library of an articulated mannequin figure. The shape of the figure
and its movements are done purely in JavaScript. The graphics is implemented in
<a href="https://threejs.org/">Three.js</a>. Click on an image to open a live demo.</p>

<p><a href="https://boytchev.github.io/mannequin.js/examples/example-posture.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-posture.jpg" width="150"></a>
<a href="https://boytchev.github.io/mannequin.js/examples/example-figure-types.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-figure-types.jpg" width="150"></a>
<a href="https://boytchev.github.io/mannequin.js/examples/example-custom-body-parts.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-custom-body-parts.jpg" width="150"></a>
<a href="https://boytchev.github.io/mannequin.js/examples/example-point.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-point.jpg" width="150"></a>
<a href="https://boytchev.github.io/mannequin.js/examples/example-scene.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-scene.jpg" width="150"></a></p>

<p>This is the fourth incarnation of the mannequin figure. The first one was implemented
in Elica. The second one was implemented in C/C++ and OpenGL. The third one
was implemented in JS/Three.js and is a direct predecessor of the current mannequin.js.
Since its first incarnation, mannequin.js is used in the course <em>Fundamentals of Computer Graphics</em> for Computer Sciences undergraduate students from the
<a href="https://www.fmi.uni-sofia.bg/en">Faculty of Mathematics and Informatics</a>
at <a href="https://www.uni-sofia.bg/index.php/eng">Sofia University</a>.</p>

<p>Mannequin.js is licensed under <strong>GPL-3.0</strong>.</p>

<p>Three.js is included in this repository to safeguard against incompatibilities with future versions. Three.js is not a part of mannequin.js.</p>



<p>The <strong>mannequin.js</strong> library is provided as a JavaScript file that has to
be include along with three.js.</p>

<h3 id="minimal-program">Minimal program</h3>

<p>Here is a minimal program that creates a male figure in the browser (<a href="https://boytchev.github.io/mannequin.js/examples/example-minimal.html">live example</a>):</p>

<div><div><pre><code><span>&lt;!DOCTYPE html&gt;</span>
<span>&lt;html&gt;</span>
  <span>&lt;head&gt;</span>
    <span>&lt;script</span> <span>src=</span><span>"three.min.js"</span><span>&gt;&lt;/script&gt;</span>
    <span>&lt;script</span> <span>src=</span><span>"mannequin.min.js"</span><span>&gt;&lt;/script&gt;</span>
  <span>&lt;/head&gt;</span>
  <span>&lt;body&gt;</span>
    <span>&lt;script&gt;</span>
      createScene();
      var man = new Male();
    <span>&lt;/script&gt;</span>
  <span>&lt;/body&gt;</span>
<span>&lt;/html&gt;</span>
</code></pre></div></div>

<p>The helper function <code>createScene()</code> provides a default set-up of the scene and its elements, like lighting, camera, ground, etc. Another helper function, <code>animate(t)</code> is responsible for defining figures’ postures at moment <em>t</em>. If the set-up is done with a custom function, then it should also manage the animation loop by itself.</p>

<h3 id="figure-types">Figure types</h3>

<p>Mannequin figures are created as instances of classes <code>Male()</code>, <code>Female()</code> or <code>Child()</code> (<a href="https://boytchev.github.io/mannequin.js/examples/example-figure-types.html">live example</a>):</p>

<p><a href="https://boytchev.github.io/mannequin.js/examples/example-figure-types.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-figure-types.jpg"></a></p>

<div><div><pre><code><span>var</span> <span>man</span> <span>=</span> <span>new</span> <span>Male</span><span>();</span>
    <span>man</span><span>.</span><span>position</span><span>.</span><span>set</span><span>(</span><span>20</span><span>,</span><span>3.5</span><span>,</span><span>0</span><span>);</span>
    <span>man</span><span>.</span><span>turn</span><span>(</span><span>-</span><span>120</span><span>);</span>
    <span>:</span>
<span>var</span> <span>woman</span> <span>=</span> <span>new</span> <span>Female</span><span>();</span>
    <span>woman</span><span>.</span><span>position</span><span>.</span><span>set</span><span>(</span><span>-</span><span>20</span><span>,</span><span>2</span><span>,</span><span>0</span><span>);</span>
    <span>woman</span><span>.</span><span>turn</span><span>(</span><span>-</span><span>60</span><span>);</span>
    <span>:</span>
<span>var</span> <span>kid</span> <span>=</span> <span>new</span> <span>Child</span><span>();</span>
    <span>kid</span><span>.</span><span>position</span><span>.</span><span>y</span> <span>=</span> <span>-</span><span>8</span><span>;</span>
    <span>kid</span><span>.</span><span>turn</span><span>(</span><span>-</span><span>90</span><span>);</span>
    <span>:</span>
</code></pre></div></div>

<p>These three classes have a common predecessor – the class <code>Mannequin(feminine,height)</code>, where <em>feminine</em> is boolean and defines whether the shape is feminine or masculine, and the second parameter is a number for relative height (adults have height 1).</p>



<p>All types of figures have the same structure of joints. For example, the right arm of a figure is accessed by <code>r_arm</code>. Left and right body parts are in respect to the figure, not to the viewer (<a href="https://boytchev.github.io/mannequin.js/examples/example-body-parts.html">live example</a>):</p>

<p><a href="https://boytchev.github.io/mannequin.js/examples/example-body-parts.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-body-parts.jpg"></a></p>

<p>Each body part has rotation methods that turn it around a pivot point.
The first parameter <em>angle</em> of the methods is the angle of rotation in degrees,
so 180 is half turn and 360 is full turn. Negative angles are allowed and
they represent turning in the opposite direction. Some methods have an optional
second parameter for <em>direction</em> of motion, which could be the constant <code>LEFT</code> or
<code>RIGHT</code>.</p>

<h3 id="central-body-parts">Central body parts</h3>

<p>The central body parts are the ones which have single instances - <em>head</em>, <em>neck</em>, <em>torso</em>, <em>pelvis</em> and the body as a whole. To move the whole <strong>body</strong> use methods <em>bend</em>, <em>turn</em> and <em>tilt</em> of the figure (<a href="https://boytchev.github.io/mannequin.js/examples/example-body.html">live example</a>):</p>

<ul>
  <li><code>figure.bend ( angle )</code></li>
  <li><code>figure.turn ( angle )</code></li>
  <li><code>figure.turn ( angle, direction )</code></li>
  <li><code>figure.tilt ( angle )</code></li>
  <li><code>figure.tilt ( angle, direction )</code></li>
</ul>

<p>The <strong>head</strong> supports similar methods: <em>nod</em>, <em>turn</em> and <em>tilt</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-head.html">live example</a>):</p>

<ul>
  <li><code>figure.head.nod ( angle )</code></li>
  <li><code>figure.head.turn ( angle )</code></li>
  <li><code>figure.head.turn ( angle, dir )</code></li>
  <li><code>figure.head.tilt ( angle )</code></li>
  <li><code>figure.head.tilt ( angle, dir )</code></li>
</ul>

<p>The <strong>torso</strong> has the same methods as the whole body: <em>bend</em>, <em>turn</em> and <em>tilt</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-torso.html">live example</a>):</p>

<ul>
  <li><code>figure.torso.bend ( angle )</code></li>
  <li><code>figure.torso.turn ( angle )</code></li>
  <li><code>figure.torso.turn ( angle, direction )</code></li>
  <li><code>figure.torso.tilt ( angle )</code></li>
  <li><code>figure.torso.tilt ( angle, direction )</code></li>
</ul>

<p>Although the <strong>neck</strong> is a separate part of the body, it is not controlled individually. Instead, a part of the head motion is distributed over the neck. Similarly, the <strong>pelvis</strong> is not controlled individually. Instead, the whole body is controlled by bending, turning and tilting.</p>

<h3 id="upper-limbs">Upper limbs</h3>

<p>The upper limbs are symmetrical body parts: <em>arm</em>, <em>elbow</em>, <em>wrist</em> and <em>fingers</em>.</p>

<p>Both <strong>arms</strong> support methods <em>raise</em>, <em>straddle</em> and <em>turn</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-arm1.html">live example</a>). The following list refers to the right arm, however, the same methods are available for the right hand:</p>

<ul>
  <li><code>figure.r_arm.raise ( angle )</code></li>
  <li><code>figure.r_arm.straddle ( angle )</code></li>
  <li><code>figure.r_arm.straddle ( angle, direction )</code></li>
  <li><code>figure.r_arm.turn ( angle )</code></li>
  <li><code>figure.r_arm.turn ( angle, direction )</code></li>
</ul>

<p>If the <em>direction</em> parameter is omitted, then the default motions of <em>straddle</em> and <em>turn</em> are symmetrical. For example, the left arm is straddled to the left, while the right arm is straddled to the right (<a href="https://boytchev.github.io/mannequin.js/examples/example-arm2.html">live example</a>).</p>

<p>The motion of the <strong>elbow</strong> is only <em>bend</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-elbow.html">live example</a>). Negative values for <em>angle</em> result in unnatural elbow position.</p>

<ul>
  <li><code>figure.r_elbow.bend ( angle )</code></li>
</ul>

<p>The <strong>wrists</strong> have the same methods as the torso: <em>bend</em>, <em>turn</em> and <em>tilt</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-wrist.html">live example</a>), but similar to the arms, the directions are symmetrical, if <em>direction</em> is not set:</p>

<ul>
  <li><code>figure.r_wrist.bend ( angle )</code></li>
  <li><code>figure.r_wrist.turn ( angle )</code></li>
  <li><code>figure.r_wrist.turn ( angle, direction )</code></li>
  <li><code>figure.r_wrist.tilt ( angle )</code></li>
  <li><code>figure.r_wrist.tilt ( angle, direction )</code></li>
</ul>

<p>The last body parts of the upper limbs are the <strong>fingers</strong>. They can only <em>bend</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-fingers.html">live example</a>), however, they are composed of two segments and the bending angle is distributed over both of them.</p>

<ul>
  <li><code>figure.r_fingers.bend ( angle )</code></li>
</ul>

<h3 id="lower-limbs">Lower limbs</h3>

<p>The lower limbs are symmetrical body parts: <em>leg</em>, <em>knee</em> and <em>ankle</em>.</p>

<p>Both <strong>legs</strong> support methods <em>raise</em>, <em>straddle</em> and <em>turn</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-leg.html">live example</a>). Straddling and turning are symmetrical if <em>direction</em> is not set.</p>

<ul>
  <li><code>figure.r_leg.raise ( angle )</code></li>
  <li><code>figure.r_leg.straddle ( angle )</code></li>
  <li><code>figure.r_leg.straddle ( angle, direction )</code></li>
  <li><code>figure.r_leg.turn ( angle )</code></li>
  <li><code>figure.r_leg.turn ( angle, direction )</code></li>
</ul>

<p>The motion of the <strong>knee</strong> is only <em>bend</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-knee.html">live example</a>). Negative values for <em>angle</em> result in unnatural knee position.</p>

<ul>
  <li><code>figure.r_knee.bend ( angle )</code></li>
</ul>

<p>The <strong>ankles</strong> have the same methods as the wrists: <em>bend</em>, <em>turn</em> and <em>tilt</em> (<a href="https://boytchev.github.io/mannequin.js/examples/example-ankle.html">live example</a>), but similar to the legs, the directions are symmetrical, if <em>direction</em> is not set:</p>

<ul>
  <li><code>figure.r_ankle.bend ( angle )</code></li>
  <li><code>figure.r_ankle.turn ( angle )</code></li>
  <li><code>figure.r_ankle.turn ( angle, direction )</code></li>
  <li><code>figure.r_ankle.tilt ( angle )</code></li>
  <li><code>figure.r_ankle.tilt ( angle, direction )</code></li>
</ul>



<p>The posture of a figure is defined by a setting the rotations of body parts. The order of rotations is fixed independent on the order of rotations in the user program (<a href="https://boytchev.github.io/mannequin.js/examples/example-order.html">live example</a>). For example:</p>

<div><div><pre><code><span>figure</span><span>.</span><span>head</span><span>.</span><span>nod</span><span>(</span><span>30</span><span>);</span>
<span>figure</span><span>.</span><span>head</span><span>.</span><span>turn</span><span>(</span><span>45</span><span>);</span>
<span>figure</span><span>.</span><span>head</span><span>.</span><span>tilt</span><span>(</span><span>20</span><span>,</span><span>RIGHT</span><span>);</span>
</code></pre></div></div>

<p>produces the same posture as:</p>

<div><div><pre><code><span>figure</span><span>.</span><span>head</span><span>.</span><span>tilt</span><span>(</span><span>20</span><span>,</span><span>RIGHT</span><span>);</span>
<span>figure</span><span>.</span><span>head</span><span>.</span><span>turn</span><span>(</span><span>45</span><span>);</span>
<span>figure</span><span>.</span><span>head</span><span>.</span><span>nod</span><span>(</span><span>30</span><span>);</span>
</code></pre></div></div>

<p>Sometimes this might lead to unexpected results, especially if the user assumes an order of rotations that is different from what mannequin.js uses. This might happen when a body part is rotated around 3 or 2 axes.</p>

<h3 id="static-posture">Static posture</h3>

<p>The static posture defines the position of body part that do not change. By default, when a figure is created, its body parts are set to the default posture. This version of mannequin.js does not provide posture editor, so all rotations has to be defined programmatically.</p>

<p><a href="https://boytchev.github.io/mannequin.js/examples/example-posture.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-posture.jpg"></a></p>

<p>Sometimes it is better to define the figure step by step. Tai Chi Chuan posture (<a href="https://boytchev.github.io/mannequin.js/examples/example-posture.html">live example</a>) could start by defining the whole body position:</p>

<div><div><pre><code><span>// overall body position</span>
<span>man</span><span>.</span><span>position</span><span>.</span><span>y</span> <span>=</span> <span>-</span><span>7.7</span><span>;</span>
<span>man</span><span>.</span><span>tilt</span><span>(</span><span>5</span><span>,</span><span>LEFT</span><span>);</span>
<span>man</span><span>.</span><span>bend</span><span>(</span><span>15</span><span>);</span>

<span>// torso and head</span>
<span>man</span><span>.</span><span>torso</span><span>.</span><span>turn</span><span>(</span><span>30</span><span>,</span><span>RIGHT</span><span>);</span>
<span>man</span><span>.</span><span>torso</span><span>.</span><span>tilt</span><span>(</span><span>15</span><span>,</span><span>RIGHT</span><span>);</span>
<span>man</span><span>.</span><span>torso</span><span>.</span><span>bend</span><span>(</span><span>-</span><span>15</span><span>);</span>
<span>man</span><span>.</span><span>head</span><span>.</span><span>turn</span><span>(</span><span>70</span><span>,</span><span>RIGHT</span><span>);</span>
</code></pre></div></div>

<p>Then the orientation of the legs can be set:</p>

<div><div><pre><code><span>// right leg</span>
<span>man</span><span>.</span><span>r_leg</span><span>.</span><span>raise</span><span>(</span><span>85</span><span>);</span>
<span>man</span><span>.</span><span>r_leg</span><span>.</span><span>turn</span><span>(</span><span>20</span><span>);</span>
<span>man</span><span>.</span><span>r_leg</span><span>.</span><span>straddle</span><span>(</span><span>40</span><span>,</span><span>LEFT</span><span>);</span>
<span>man</span><span>.</span><span>r_knee</span><span>.</span><span>bend</span><span>(</span><span>90</span><span>);</span>
<span>man</span><span>.</span><span>r_ankle</span><span>.</span><span>bend</span><span>(</span><span>35</span><span>);</span>
<span>man</span><span>.</span><span>r_ankle</span><span>.</span><span>turn</span><span>(</span><span>20</span><span>,</span><span>RIGHT</span><span>);</span>
<span>man</span><span>.</span><span>r_ankle</span><span>.</span><span>tilt</span><span>(</span><span>-</span><span>15</span><span>);</span>

<span>// left leg</span>
<span>man</span><span>.</span><span>l_leg</span><span>.</span><span>raise</span><span>(</span><span>-</span><span>30</span><span>);</span>
<span>man</span><span>.</span><span>l_knee</span><span>.</span><span>bend</span><span>(</span><span>25</span><span>);</span>
<span>man</span><span>.</span><span>l_ankle</span><span>.</span><span>bend</span><span>(</span><span>42</span><span>);</span>
</code></pre></div></div>

<p>Finally, the arms are fixed:</p>

<div><div><pre><code><span>// left arm</span>
<span>man</span><span>.</span><span>l_arm</span><span>.</span><span>raise</span><span>(</span><span>10</span><span>);</span>
<span>man</span><span>.</span><span>l_arm</span><span>.</span><span>turn</span><span>(</span><span>-</span><span>40</span><span>);</span>
<span>man</span><span>.</span><span>l_arm</span><span>.</span><span>tilt</span><span>(</span><span>-</span><span>60</span><span>);</span>
<span>man</span><span>.</span><span>l_elbow</span><span>.</span><span>bend</span><span>(</span><span>155</span><span>);</span>
<span>man</span><span>.</span><span>l_wrist</span><span>.</span><span>turn</span><span>(</span><span>50</span><span>);</span>
<span>man</span><span>.</span><span>l_fingers</span><span>.</span><span>bend</span><span>(</span><span>-</span><span>10</span><span>);</span>

<span>// right arm</span>
<span>man</span><span>.</span><span>r_arm</span><span>.</span><span>raise</span><span>(</span><span>-</span><span>10</span><span>);</span>
<span>man</span><span>.</span><span>r_arm</span><span>.</span><span>tilt</span><span>(</span><span>70</span><span>);</span>
<span>man</span><span>.</span><span>r_arm</span><span>.</span><span>turn</span><span>(</span><span>20</span><span>);</span>
<span>man</span><span>.</span><span>r_elbow</span><span>.</span><span>bend</span><span>(</span><span>40</span><span>);</span>
<span>man</span><span>.</span><span>r_wrist</span><span>.</span><span>turn</span><span>(</span><span>30</span><span>);</span>
<span>man</span><span>.</span><span>r_fingers</span><span>.</span><span>bend</span><span>(</span><span>90</span><span>);</span>
</code></pre></div></div>

<h3 id="dynamic-posture">Dynamic posture</h3>

<p>The dynamic posture – i.e. a posture that changes over time – is set with the same methods that are used for static posture. Mannequin.js defines an empty function <code>animate(t)</code>, which is called in the animation loop once for each frame. All changes of a posture should be defined inside this function (<a href="https://boytchev.github.io/mannequin.js/examples/example-dynamic.html">live example</a>). The parameter <em>t</em> is the time, measured in tenths of seconds. This function is set up in <code>createScene()</code>. If <em>createScene</em> and <em>animate</em> are not used, then the animation loop should be managed manually.</p>

<p><a href="https://boytchev.github.io/mannequin.js/examples/example-dynamic.html"><img src="https://boytchev.github.io/mannequin.js/examples/snapshots/example-dynamic.jpg"></a></p>

<div><div><pre><code><span>function</span> <span>animate</span><span>(</span><span>t</span><span>)</span>
<span>{</span>
    <span>var</span> <span>time1</span> <span>=</span> <span>(</span><span>sin</span><span>(</span><span>2</span><span>*</span><span>t</span><span>)</span><span>+</span><span>cos</span><span>(</span><span>3</span><span>*</span><span>t</span><span>)</span><span>+</span><span>cos</span><span>(</span><span>5</span><span>*</span><span>t</span><span>))</span><span>/</span><span>3</span><span>,</span>
        <span>time2</span> <span>=</span> <span>(</span><span>sin</span><span>(</span><span>2</span><span>*</span><span>t</span><span>-</span><span>60</span><span>)</span><span>+</span><span>cos</span><span>(</span><span>3</span><span>*</span><span>t</span><span>-</span><span>90</span><span>)</span><span>+</span><span>cos</span><span>(</span><span>5</span><span>*</span><span>t</span><span>-</span><span>120</span><span>))</span><span>/</span><span>3</span><span>;</span>

    <span>ball</span><span>.</span><span>position</span><span>.</span><span>x</span> <span>=</span> <span>-</span><span>3</span><span>*</span><span>time1</span><span>;</span>

    <span>child</span><span>.</span><span>position</span><span>.</span><span>x</span> <span>=</span> <span>-</span><span>3</span><span>*</span><span>time1</span><span>;</span>
    <span>child</span><span>.</span><span>position</span><span>.</span><span>y</span> <span>=</span> <span>4</span><span>+</span><span>cos</span><span>(</span><span>90</span><span>*</span><span>time1</span><span>);</span>

    <span>child</span><span>.</span><span>turn</span><span>(</span><span>-</span><span>90</span><span>-</span><span>20</span><span>*</span><span>time1</span><span>+</span><span>20</span><span>*</span><span>time2</span><span>);</span>
    <span>child</span><span>.</span><span>tilt</span><span>(</span><span>10</span><span>*</span><span>time1</span><span>);</span>
    <span>:</span>
	
    <span>scene</span><span>.</span><span>rotation</span><span>.</span><span>y</span> <span>=</span> <span>rad</span><span>(</span><span>30</span><span>*</span><span>time1</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>To make the animation loop faster, all constant rotations should be defined outside <em>animate</em>. Also, if a rotation changing in the loop, there is no need to set it up outside the loop.</p>



<p>Apart for moving body parts, the current version of mannequin.js provides basic functionality for additional modification or accessing the figure.</p>

<h3 id="custom-colors">Custom colors</h3>

<p>By default, all figures use a predefined set of global colors for body parts. Global colors are stored in <code>Mannequin.colors</code> array as six <a href="https://threejs.org/docs/#api/en/math/Color">Three.js colors</a> or lowercase <a href="https://www.w3schools.com/colors/colors_names.asp">HTML/CSS color names</a> in specific order – head, shoes, pelvis, joints, limbs and torso:</p>

<div><div><pre><code><span>Mannequin</span><span>.</span><span>colors</span> <span>=</span> <span>[</span>
    <span>'</span><span>antiquewhite</span><span>'</span><span>,</span>	<span>// head</span>
    <span>'</span><span>gray</span><span>'</span><span>,</span>		<span>// shoes</span>
    <span>'</span><span>antiquewhite</span><span>'</span><span>,</span>	<span>// pelvis</span>
    <span>'</span><span>burlywood</span><span>'</span><span>,</span>	<span>// joints</span>
    <span>'</span><span>antiquewhite</span><span>'</span><span>,</span>	<span>// limbs</span>
    <span>'</span><span>bisque</span><span>'</span>		<span>// torso</span>
<span>];</span>
</code></pre></div></div>

<p>The global color of …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://boytchev.github.io/mannequin.js/">https://boytchev.github.io/mannequin.js/</a></em></p>]]>
            </description>
            <link>https://boytchev.github.io/mannequin.js/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302602</guid>
            <pubDate>Fri, 04 Dec 2020 14:35:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No One Ever Got Fired for Choosing React]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25302502">thread link</a>) | @jakelazaroff
<br/>
December 4, 2020 | https://jake.nyc/words/no-one-ever-got-fired-for-choosing-react/ | <a href="https://web.archive.org/web/*/https://jake.nyc/words/no-one-ever-got-fired-for-choosing-react/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>If you spend a lot of time on Hacker News, it’s easy to get taken by the allure of building a web app without a framework. There are a bunch of potential advantages (no bloat! bespoke to your project!) and being able to say you built something with minimal dependencies gets you Engineer Points.</p>
<p>That is, if you can pull it off.</p>
<p>I started a new side project recently. It’s a web-based graphics editor, so it needs to be a single page app. My time spent profiling <a href="https://songrender.com/">SongRender</a> for performance issues has made me a little wary of React for building interfaces that update at 60 frames per second, so I decided to avoid it. I’d go (mostly) vanilla and see how far that took me.</p>
<p>I installed <a href="https://lit-html.polymer-project.org/">lit-html</a> and got to work. “Components” were simply functions that returned lit-html template results. A big singleton at the top of the tree held onto all the application state, stored as a global variable within that module.</p>
<p>The first hurdle came when a component needed local state. I could have lifted it to the singleton, but that would have broken the component’s encapsulation. I noticed that lit-html directives can keep state, so I decided to use them to build a tiny component library — ignoring a warning from the lit-html developers that this wasn’t a supported use case.</p>
<p>My home-brewed library worked great… until I needed to run some code when a component appeared on the screen. I started digging through lit-html documentation and issues looking for a way to detect a directive’s lifecycle, but it became clear to me that going down that path would be painful.</p>
<p>At that point, I recalled <a href="https://tomdale.net/2015/11/javascript-frameworks-and-mobile-performance/">this quote by Tom Dale</a>:</p>
<blockquote>
<p>I have heard from many developers who have told me that they accepted the argument that vanilla JavaScript or microlibraries would let them write leaner, meaner, faster apps. After a year or two, however, what they found themselves with was a slower, bigger, less documented and unmaintained in-house framework with no community. As apps grow, you tend to need the abstractions that a framework offers. Either you or the community write the code.</p>
</blockquote>
<p>Fair enough. Let’s avoid that trap. What about a small framework? I’d heard a lot of good things about Svelte, and although I was slightly worried about the size of the Svelte community I figured it would be fine.</p>
<p>My migration attempt quickly ground to a halt when I wanted a parent component to apply some styles to a child component. In React, I’d pass a class name in from the parent as a <code>className</code> prop. In Svelte, that’s considered a workaround, and the actual feature is the subject of an <a href="https://github.com/sveltejs/rfcs/blob/master/text/0000-style-properties.md">RFC</a>.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>
<p>Maybe this is an example of <a href="https://prog21.dadgum.com/160.html">dangling by a trivial feature</a>. But it’s so basic a capability that I’m surprised Svelte is on version three without an officially blessed way to do it. I ran into this limitation when I created my <strong>second component</strong>. Way before I got to try out any of the cool reactivity that earns Svelte all that buzz.</p>
<p>So I changed my mind and went with React. After an hour or so, I’d finished moving everything over — and my anxiety had vanished. I stopped worrying about having most efficient component system, and picked up work on the thing I wanted to build in the first place.</p>
<p>No, React isn’t perfect. It’s optimized for apps that make network requests and then display lists of things (i.e. most apps) which isn’t really what I’m doing here<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. The performance is fine now, although I expect I’ll have to optimize as my project gets more complex.</p>
<p>But React lets me stop thinking about the framework. React gets out of my way. React is <a href="https://mcfunley.com/choose-boring-technology">boring</a>. React is actively developed. React has a giant ecosystem and a giant community. React is battle-tested on some of the most visited websites in the world.</p>
<p>I’m sure there are technically better ways to build a highly interactive interface on the web, but life is too short for me to spend hours trying to figure them out. There are things I want to create, and the only way I can actually create them is to stop spending so much time on tooling.</p>
<p>For now, I’m choosing React.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>The solution they seem to have landed on — letting the child expose CSS custom properties as props — is actually pretty cool, though I don’t like that Svelte will silently wrap your component with an extra <code>div</code>. <a href="#fnref:1" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Although Dan, if you read this, the <a href="https://twitter.com/dan_abramov/status/1133341485133438982">“animation pass” mode</a> you’ve mentioned offhandedly sounds very relevant! <a href="#fnref:2" role="doc-backlink">↩︎</a></p>
</li>
</ol>
</section></div></div>]]>
            </description>
            <link>https://jake.nyc/words/no-one-ever-got-fired-for-choosing-react/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302502</guid>
            <pubDate>Fri, 04 Dec 2020 14:27:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Has AI 'solved' protein folding?]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 21 (<a href="https://news.ycombinator.com/item?id=25302487">thread link</a>) | @stuartbman
<br/>
December 4, 2020 | https://explainthispaper.com/ai-solving-protein-folding/ | <a href="https://web.archive.org/web/*/https://explainthispaper.com/ai-solving-protein-folding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<h2><b>Has AI 'solved' protein folding? 📎</b></h2>
<div>
<p><i>article</i></p>
<div>
<p>Improved protein structure prediction using potentials from deep learning</p>
<p>Andrew W. Senior, Richard Evans, John Jumper, James Kirkpatrick, Laurent Sifre, Tim Green, Chongli Qin, Augustin Žídek, Alexander W. R. Nelson, Alex Bridgland, Hugo Penedones, Stig Petersen, Karen Simonyan, Steve Crossan...</p>
<p><a href="https://www.nature.com/articles/s41586-019-1923-7.epdf?author_access_token=Z_KaZKDqtKzbE7Wd5HtwI9RgN0jAjWel9jnR3ZoTv0MCcgAwHMgRx9mvLjNQdB2TlQQaa7l420UCtGo8vYQ39gg8lFWR9mAZtvsN_1PrccXfIbc6e-tGSgazNL_Xd">Nature</a>
</p></div>
</div>
<div>
<h3>TL;DR</h3>
<p><span><p>Predicting protein folding is a massive problem with huge potential to help us understand disease. It’s been stuck in a rut for the past 50 years, but one team of researchers has come out of nowhere and claims to have solved the problem. But have they?</p></span>
</p></div>
<h3 grey-text="" text-darken-4="">Clinical Need</h3>
<section>
<div>
<p><span>
<div><p>Proteins are made up of amino acids. Getting the amino acid sequence for a protein is pretty easy these days. But going from this sequence to the 3-dimensional shape of the protein is really hard.</p><p>For decades, researchers have worked out protein structures using slow and expensive techniques such as <sample>x-ray crystallography</sample>. So far we’ve only solved about 170,000 proteins using these approaches. Yet more than 200 million proteins have been discovered across all forms of life 😳</p><p>Being able to predict a protein’s shape based on its amino acid sequence would be a game changer. We could design drugs faster by targeting proteins more effectively. But computer-based predictions haven’t been accurate enough to be useful. Until now…</p></div>
</span>
</p>
<div>

<p>X-ray crystallography uses the diffraction of x-rays to work out the shape of a protein. The pictures are murky and there's a lot of guesswork involved!</p>
<p><img alt="stu.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/stu.2e16d0ba.fill-200x200.jpg" width="200">
</p>

</div>
</div>
</section>
<h3 grey-text="" text-darken-4="">What did they do?</h3>
<div><p>The team created a deep learning pipeline for predicting protein shape from its amino acid sequence.</p><p>They entered this neural network into the “Critical Assessment of Protein Structure Prediction” (CASP) competition. Teams are given amino acids sequences for ~100 proteins with unknown structures and asked to predict protein shape. The predictions are given a score from 0-100. Slow techniques (like x-ray crystallography) score above 90.</p></div>
<h3 grey-text="" text-darken-4="">How did the model work?</h3>
<section>
<div>
<p><span>
<div><p>The first version of their model (AlphaFold) performs the following stages:</p><p>First, it looks for similar sequence fragments to the protein of interest from a large protein sequence database. This helps identify features of the protein at interest. An <sample>autoencoder</sample> predicts which protein shape the sequence fragment most likely represents.</p><p>These features are then fed into a convolutional neural network which predicts the distances between different parts of the protein sequence. Predicting distances enables it to also predict contact points.</p><p>Then, using the predicted distances and contact points, the model considers all the possible shapes of the protein and identifies the most likely one.</p></div>
</span>
</p>
<div>

<p>This is a type of neural network that compresses data into a bottleneck of it's most important features, and measures it's performance by reconstructing that bottleneck back up to size. It's an in depth topic worth <a href="https://www.jeremyjordan.me/autoencoders/#:~:text=Autoencoders%20are%20an%20unsupervised%20learning,representation%20of%20the%20original%20input.">reading more on</a></p>
<p><img alt="stu.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/stu.2e16d0ba.fill-200x200.jpg" width="200">
</p>
<p><span><b>
Stu Maitland</b>
</span><br>
<span>NIHR Doctoral Fellow</span>
</p>
</div>
</div>
</section>
<section>
<div>
<p><span>
<p>With the updated model (AlphaFold-2) they made some changes. They haven't released a paper yet (only an abstract), but from what we can tell they used an <sample>attention-based deep learning</sample> to fit over the whole shape of the protein, not just the fragments.</p>
</span>
</p>
<div>

<p>Instead of working over the whole sequence at once, this method allows the learning to 'attend' to subsections individually. This is a bit like trying to translate a long german word- instead of trying to decode the whole word, you break it into sub-words and see how they match, then put it all together.</p>
<p><img alt="chris.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/chris.2e16d0ba.fill-200x200.jpg" width="200">
</p>
<p><span><b>
Chris Lovejoy</b>
</span><br>
<span>Doctor, Data Scientist</span>
</p>
</div>
</div>
</section>
<h3 grey-text="" text-darken-4="">How did the model perform?</h3>
<div><p><img alt="Animated Protein" height="450" src="https://explainthispaper.s3.amazonaws.com/images/protein.width-800.png" width="800"></p><p>From the start of the competition in 1994 up to 2016, CASP scores had been around 40. The first time DeepMind entered, they scored up to 60. This year- AlphaFold scored an average of 92.4, smashing the threshold of 90/100!</p><p>In fact, the organisers of the competition thought that DeepMind had been cheating, so they set them a special challenge- a membrane protein from an ancient species of <i>archaea</i>. For 10 years with no success, research teams tried every trick in the book to get an x-ray crystal structure of the protein.</p><p>AlphaFold had no problem, returning an image of a three part protein with two helical arms. In hindsight, this structure fit the x-ray crystallography data perfectly, effectively going beyond the limitations of current human research.</p></div>
<h3 grey-text="" text-darken-4="">So what?</h3>
<section>
<div>
<p><span>
<div><p>This is a thorny problem that researchers and pharmaceutical companies have been working on for 50+ years. This model could predict the shape of proteins without unreliable experimental measurements. This would mean faster development of a wide range of drugs, from cancer drugs that better target proteins for cell replication, to antibiotics that target surface receptors of microbes.</p><p>What’s more, this model was cheap to train- just weeks on quite a <sample>small cluster of servers</sample></p><p>It's worth saying that this isn't the whole picture of protein folding- this still doesn't inform how proteins change shape in the presence of other molecules (like oxygen near haemoglobin). These are also the crystallised protein forms rather than the true 'in vivo' structures, so there may be some errors in translation, but that remains to be seen.</p></div>
</span>
</p>
<div>

<p>Using Google's <a href="https://cloud.google.com/tpu/pricing#pricing_calculator">pricing calculator</a> and the details from the blog post, this could be trained for around $21,000. In the grand scheme of biology and pharmaceuticals, this is pennies!<br></p>
<p><img alt="stu.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/stu.2e16d0ba.fill-200x200.jpg" width="200">
</p>
<p><span><b>
Stu Maitland</b>
</span><br>
<span>NIHR Doctoral Fellow</span>
</p>
</div>
</div>
</section>

</div>
</div><div>
<h2>The latest papers in your inbox</h2>
<p>Keep up to date with the latest research, summarised concisely and clearly.</p>



</div></div>]]>
            </description>
            <link>https://explainthispaper.com/ai-solving-protein-folding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302487</guid>
            <pubDate>Fri, 04 Dec 2020 14:25:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Hitchhiker’s Guide to Online Anonymity]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25302389">thread link</a>) | @r4um
<br/>
December 4, 2020 | https://anonymousplanet.github.io/thgtoa/guide.html | <a href="https://web.archive.org/web/*/https://anonymousplanet.github.io/thgtoa/guide.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content_wrap">
      <section id="main_content">
        

<ul>
  <li><a href="#introduction">Introduction:</a></li>
  <li><a href="#requirements">Requirements:</a></li>
  <li><a href="#understanding-some-basics-of-how-some-information-can-lead-back-to-you-and-how-to-mitigate-those">Understanding some basics of how some information can lead back to you and how to mitigate those:</a>
    <ul>
      <li><a href="#your-ip-address">Your IP address:</a></li>
      <li><a href="#your-dns-requests">Your DNS requests:</a></li>
      <li><a href="#your-imei-and-imsi-and-by-extension-your-phone-number">Your IMEI and IMSI (and by extension, your phone number):</a></li>
      <li><a href="#your-wi-fi-mac-address">Your Wi-Fi MAC address:</a></li>
      <li><a href="#your-bluetooth-mac-address">Your Bluetooth MAC address:</a></li>
      <li><a href="#your-operating-systems-and-apps-telemetry-services">Your Operating Systems and Apps telemetry services:</a></li>
      <li><a href="#the-wifis-and-bluetooth-devices-around-you">The WIFIs and Bluetooth devices around you:</a></li>
      <li><a href="#your-metadata-including-your-geo-location">Your Metadata including your Geo-Location:</a></li>
      <li><a href="#your-smart-devices-in-general">Your Smart devices in general:</a></li>
      <li><a href="#your-devices-can-be-tracked-even-when-completely-powered-off">Your Devices can be tracked even when completely powered off:</a></li>
      <li><a href="#your-rfid-enabled-devices">Your RFID enabled devices:</a></li>
      <li><a href="#your-files-propertiesmetadata">Your Files Properties/Metadata:</a></li>
      <li><a href="#your-anonymized-torvpn-traffic">Your “Anonymized” Tor/VPN traffic:</a></li>
      <li><a href="#your-crypto-transactions">Your Crypto transactions:</a></li>
      <li><a href="#exploits-in-your-apps">Exploits in your apps:</a></li>
      <li><a href="#your-cloud-backupssync-services">Your Cloud backups/sync services:</a></li>
      <li><a href="#your-digital-fingerprint-and-footprint">Your Digital Fingerprint And Footprint:</a></li>
      <li><a href="#your-real-life">Your Real Life:</a></li>
      <li><a href="#your-browser-and-device-fingerprints">Your Browser and Device Fingerprints:</a></li>
      <li><a href="#your-face-and-other-biometrics">Your Face and other Biometrics:</a></li>
      <li><a href="#phishing">Phishing:</a></li>
      <li><a href="#forensics">Forensics:</a></li>
      <li><a href="#advanced-targeted-techniques">Advanced targeted techniques:</a></li>
      <li><a href="#notes">Notes:</a></li>
    </ul>
  </li>
  <li><a href="#general-preparations">General Preparations:</a>
    <ul>
      <li><a href="#picking-your-route">Picking your route:</a>
        <ul>
          <li><a href="#budgetmaterial-limitations">Budget/Material limitations:</a></li>
          <li><a href="#skills">Skills:</a></li>
          <li><a href="#adversaries-threats">Adversaries (threats):</a></li>
        </ul>
      </li>
      <li><a href="#steps-for-all-routes">Steps for all routes:</a>
        <ul>
          <li><a href="#get-a-burner-phone">Get a burner phone:</a></li>
          <li><a href="#get-an-anonymous-pre-paid-sim-card">Get an anonymous pre-paid SIM card:</a></li>
          <li><a href="#get-an-usb-key">Get an USB key:</a></li>
          <li><a href="#find-some-safe-places-with-decent-public-wifi">Find some safe places with decent public WIFI:</a></li>
        </ul>
      </li>
      <li><a href="#the-tails-route">The TAILS route:</a></li>
      <li><a href="#steps-for-all-other-routes">Steps for all other routes:</a>
        <ul>
          <li><a href="#get-a-laptop-for-your-anonymous-activities">Get a laptop for your anonymous activities:</a></li>
          <li><a href="#a-note-for-linux-users-to-avoid-wasting-your-time-later">A note for Linux users to avoid wasting your time later:</a></li>
          <li><a href="#biosuefi-settings-of-your-laptop">Bios/UEFI Settings of your laptop:</a></li>
          <li><a href="#tamper-protect-your-laptop">Tamper protect your laptop:</a></li>
        </ul>
      </li>
      <li><a href="#the-whonix-route">The Whonix route:</a>
        <ul>
          <li><a href="#picking-your-host-os-the-os-installed-on-your-laptop">Picking your Host OS (the OS installed on your laptop):</a></li>
          <li><a href="#enable-mac-address-randomization-on-your-laptop">Enable MAC address randomization on your laptop:</a></li>
          <li><a href="#setting-up-a-safe-browser-on-your-host-os">Setting up a safe Browser on your Host OS:</a></li>
          <li><a href="#enable-some-additional-privacy-settings-on-your-host-os">Enable some additional privacy settings on your Host OS:</a></li>
          <li><a href="#windows-host-os-encryption">Windows Host OS encryption:</a></li>
          <li><a href="#virtualbox">Virtualbox:</a></li>
          <li><a href="#get-an-anonymous-cash-paid-vpn-subscription">Get an anonymous (cash-paid) VPN subscription:</a></li>
          <li><a href="#download-various-utilities">Download various utilities:</a></li>
          <li><a href="#whonix-virtual-machines">Whonix Virtual Machines:</a></li>
          <li><a href="#windows-10-virtual-machine">Windows 10 Virtual Machine:</a></li>
          <li><a href="#vpn-client-installation-cash-paid">VPN client installation (cash-paid):</a></li>
          <li><a href="#keepassxc">KeePassXC:</a></li>
        </ul>
      </li>
      <li><a href="#the-qubes-route">The Qubes Route:</a></li>
    </ul>
  </li>
  <li><a href="#creating-your-anonymous-online-identities">Creating your anonymous online identities:</a>
    <ul>
      <li><a href="#understanding-the-methods-used-to-prevent-anonymity-and-verify-identity">Understanding the methods used to prevent anonymity and verify identity:</a>
        <ul>
          <li><a href="#captchas">Captchas:</a></li>
          <li><a href="#phone-verification">Phone verification:</a></li>
          <li><a href="#e-mail-verification">E-Mail verification:</a></li>
          <li><a href="#user-details-checking">User details checking:</a></li>
          <li><a href="#proof-of-id-verification">Proof of ID verification:</a></li>
          <li><a href="#ip-filters">IP Filters:</a></li>
          <li><a href="#browser-and-device-fingerprinting">Browser and Device Fingerprinting:</a></li>
          <li><a href="#human-interaction">Human interaction:</a></li>
          <li><a href="#user-moderation">User Moderation:</a></li>
          <li><a href="#behavioral-analysis">Behavioral Analysis:</a></li>
          <li><a href="#financial-transactions">Financial transactions:</a></li>
          <li><a href="#sign-in-with-some-platform">Sign-in with some platform:</a></li>
          <li><a href="#live-face-recognition-and-biometrics-again">Live Face recognition and biometrics (again):</a></li>
          <li><a href="#manual-reviews">Manual reviews:</a></li>
        </ul>
      </li>
      <li><a href="#getting-online">Getting Online:</a></li>
      <li><a href="#creating-new-identities">Creating new identities:</a></li>
      <li><a href="#protonmail">ProtonMail:</a></li>
      <li><a href="#google">Google:</a></li>
      <li><a href="#twitter">Twitter:</a></li>
      <li><a href="#linkedin">Linkedin:</a></li>
      <li><a href="#microsoft">Microsoft:</a></li>
      <li><a href="#instagram">Instagram:</a></li>
      <li><a href="#facebook">Facebook:</a></li>
      <li><a href="#github">Github:</a></li>
      <li><a href="#discord">Discord:</a></li>
      <li><a href="#telegram">Telegram:</a></li>
      <li><a href="#reddit">Reddit:</a></li>
      <li><a href="#chan">4chan:</a></li>
      <li><a href="#crypto-wallets">Crypto Wallets:</a></li>
      <li><a href="#what-about-those-mobile-only-apps-whatsappsignal">What about those mobile only apps (Whatsapp/Signal):</a></li>
      <li><a href="#anything-else">Anything else:</a></li>
      <li><a href="#maintenance-tasks">Maintenance tasks:</a></li>
    </ul>
  </li>
  <li><a href="#backup-your-work-safely-and-anonymously">Backup your work (safely and anonymously):</a></li>
  <li><a href="#covering-your-tracks">Covering your tracks:</a>
    <ul>
      <li><a href="#protecting-yourself-against-forensics">Protecting yourself against forensics:</a></li>
      <li><a href="#tails">Tails:</a></li>
      <li><a href="#windows-1">Windows:</a>
        <ul>
          <li><a href="#diagnostic-data-and-telemetry">Diagnostic Data and Telemetry:</a></li>
          <li><a href="#eventlogs">Eventlogs:</a></li>
          <li><a href="#veracrypt-history">Veracrypt History:</a></li>
          <li><a href="#external-tool-cleaning">External Tool Cleaning:</a></li>
          <li><a href="#shellbags">Shellbags:</a></li>
          <li><a href="#wi-fi-history">Wi-Fi History:</a></li>
        </ul>
      </li>
      <li><a href="#how-to-securely-wipe-your-whole-laptop-if-you-want-to-erase-everything">How to securely wipe your whole laptop if you want to erase everything:</a>
        <ul>
          <li><a href="#linux-1">Linux:</a></li>
          <li><a href="#windows-2">Windows: </a></li>
        </ul>
      </li>
      <li><a href="#if-you-think-you-got-burned">If you think you got burned:</a>
        <ul>
          <li><a href="#if-you-have-some-time">If you have some time:</a></li>
          <li><a href="#if-you-have-no-time">If you have no time:</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#some-last-opsec-thoughts">Some last OPSEC thoughts:</a></li>
  <li><a href="#appendix-a-windows-installation">Appendix A: (Windows Installation)</a>
    <ul>
      <li><a href="#installation">Installation:</a></li>
      <li><a href="#privacy-settings">Privacy Settings:</a></li>
    </ul>
  </li>
  <li><a href="#appendix-b-windows-additional-privacy-settings">Appendix B: (Windows Additional Privacy Settings)</a></li>
  <li><a href="#appendix-c-windows-installation-media-creation">Appendix C: (Windows Installation Media Creation)</a></li>
</ul>

<p>Version 0.1.1 (draft), December 2020 (work in progress, some parts are incomplete) by AnonymousPlanet</p>

<p>This guide is open-source, licensed under Creative Commons Attribution 4.0 International (cc-by-4.0).</p>

<p>Feel free to submit issues/recommendations/ideas using Github Issues at: <a href="https://github.com/AnonymousPlanet/thgtoa/issues">https://github.com/AnonymousPlanet/thgtoa/issues</a></p>

<p>PDF version of this guide at: <a href="https://github.com/AnonymousPlanet/thgtoa/raw/main/guide.pdf">https://github.com/AnonymousPlanet/thgtoa/raw/main/guide.pdf</a></p>



<p>Making a social media account with a pseudonym or artist/brand name is easy. And it’s enough is most use cases to protect your identity as the next George Orwell. There are plenty of people using pseudonyms all over Facebook/Instagram/Twitter/Linkedin/TikTok/Snapchat/Reddit/… But the vast majority of those are anything but anonymous and can easily be traced to their real identity by your local cops, random people within the OSINT<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> (Open-Source Intelligence) community and trolls<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup> on 4chan<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup>.</p>

<p>This is a good thing as most criminals/trolls are not really tech savvy and will be identified with ease. But this is also a bad thing as most political dissidents, human rights activists and whistleblowers can also be tracked rather easily.</p>

<p>This updated guide aims to provide introduction to various tracking techniques, id verification techniques and guidance to creating and maintaining anonymous identities online including social media accounts safely.</p>

<p>Will this guide help you protect yourself from the NSA, the FSB, Mark Zuckerberg or the Mossad if they’re out to find you? Probably not … Mossad will be doing “Mossad things” <sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup> and will probably find you no matter how hard to try to hide<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup>.</p>

<p>You have to consider your threat model<sup id="fnref:6" role="doc-noteref"><a href="#fn:6">6</a></sup> before going further.</p>

<p><img src="https://anonymousplanet.github.io/thgtoa/media/image1.jpeg" alt=""></p>

<p>(Illustration by xkcd.com, licensed under CC BY-NC 2.5)</p>

<p>Will this guide help you protect your privacy from OSINT researchers like Belingcat<sup id="fnref:7" role="doc-noteref"><a href="#fn:7">7</a></sup> , Doxing<sup id="fnref:8" role="doc-noteref"><a href="#fn:8">8</a></sup> trolls on 4chan<sup id="fnref:9" role="doc-noteref"><a href="#fn:9">9</a></sup> and others that have no access to the NSA toolbox? More likely. Tho I wouldn’t be so sure about 4chan.</p>

<p>It’s also important to understand this guide is the humble result of years of experience and testing from a single individual (myself) and that many of those systems that aim to prevent anonymity are opaque closed-source systems. Most of those guidelines are guessed based on experience. These experiences take a lot of time and resources and are unfortunately far from being scientific. <strong>Your mileage may vary.</strong></p>

<p>You might think this guide has no legitimate use but there are many<sup id="fnref:10" role="doc-noteref"><a href="#fn:10">10</a></sup><sup id="fnref:11" role="doc-noteref"><a href="#fn:11">11</a></sup> such as:</p>

<ul>
  <li>
    <p>Evading Censorship</p>
  </li>
  <li>
    <p>Evading Oppression</p>
  </li>
  <li>
    <p>Evading Unlawful Government Surveillance</p>
  </li>
  <li>
    <p>Whistle Blowing</p>
  </li>
  <li>
    <p>Journalism</p>
  </li>
  <li>
    <p>Activism</p>
  </li>
</ul>

<p>This guide is written for use by those good intended individuals who might not be knowledgeable enough to consider the big picture of online anonymity.</p>

<p>This guide is not intended for:</p>

<ul>
  <li>
    <p>Creating machine accounts of any kind (bots).</p>
  </li>
  <li>
    <p>Creating impersonation accounts of existing people (identity theft).</p>
  </li>
  <li>
    <p>Helping malicious individuals conduct unlawful or unethical activities (like trolls).</p>
  </li>
  <li>
    <p>Use by minors.</p>
  </li>
</ul>

<p>Feel free to report issues or recommend improvements in this repository if you have any.</p>

<p><strong>Use at your own risk. Anything in here is not legal advice and you should verify compliance with your local law before use (IANAL</strong><sup id="fnref:12" role="doc-noteref"><a href="#fn:12">12</a></sup><strong>).</strong></p>



<ul>
  <li>
    <p><strong>Be a permanent Adult resident in Germany where the courts have upheld up the legality of not using real names on online platforms (§13 VI of the German Telemedia Act of 2007</strong> <sup id="fnref:13" role="doc-noteref"><a href="#fn:13">13</a></sup><strong>). Alternatively be resident of any other country where you can validate and verify this is legal yourself.</strong></p>
  </li>
  <li>
    <p>This guide will assume you already have access to some PC (Windows/Linux) laptop computer (not a work/shared device).</p>
  </li>
  <li>
    <p>Don’t be evil (for real this time)<sup id="fnref:14" role="doc-noteref"><a href="#fn:14">14</a></sup>.</p>
  </li>
  <li>
    <p>Have patience as this process could take several weeks to finalize.</p>
  </li>
  <li>
    <p>Have a little budget to dedicate to this process (you’ll need at least budget for an USB key).</p>
  </li>
  <li>
    <p>Have a lot of free time on your hands to dedicate to this process.</p>
  </li>
  <li>
    <p>Be prepared to read a lot of references (do read them), guides (don’t skip them) and follow a lot of how-to tutorials thoroughly (don’t skip them either).</p>
  </li>
</ul>

<p><strong>This guide will (for the moment) not recommend using MacOS due to the latest Big Sur update which forces “unblockable” telemetry</strong><sup id="fnref:15" role="doc-noteref"><a href="#fn:15">15</a></sup><sup id="fnref:16" role="doc-noteref"><a href="#fn:16">16</a></sup> <strong>and because MacOS doesn’t offer MAC address randomization.</strong></p>



<p>There are many ways you can be tracked besides browser cookies and ads, your e-mail and your phone number. And if you think only the Mossad or the NSA/FSB can find you, you would be terribly wrong.</p>

<p>Here is a non-exhaustive list of some of the many ways you can be de-anonymized:</p>

<h2 id="your-ip-address">Your IP address:</h2>

<p>Your IP address<sup id="fnref:17" role="doc-noteref"><a href="#fn:17">17</a></sup> is the most known and obvious way you can be tracked. That IP is the IP you’re using at the source. This is where you connect to the internet. That IP is usually provided by your ISP (Internet Service Provider) (xDSL, Mobile, Cable, Fiber, Cafe, Bar, Friend, Neighbor). Most countries have data retention regulations<sup id="fnref:18" role="doc-noteref"><a href="#fn:18">18</a></sup> which mandates keeping logs of who is using what IP at a certain time/date for up to several years or indefinitely. Your ISP can tell a third party that you were using a specific IP at a specific date and time, years after the fact. If that IP (the origin one) leaks at any point for any reason, it can be used to track down you directly. In many countries, you won’t be able to have internet access without providing some form of identification to the provider (address, ID, real name, e-mail …).</p>

<p>Useless to say that most platforms (such as social networks) will also keep (sometimes indefinitely) the IP addresses you used to sign-up but also those you used to sign-in.</p>

<p>For those reasons, we’ll need to not use that origin IP (the one tied to your identification) or hide it as much as we can through a combination of various means:</p>

<ul>
  <li>
    <p>Using a public WIFI service (free).</p>
  </li>
  <li>
    <p>Using an anonymous VPN service<sup id="fnref:19" role="doc-noteref"><a href="#fn:19">19</a></sup> (paid by cash).</p>
  </li>
  <li>
    <p>Using the Tor Anonymity Network<sup id="fnref:20" role="doc-noteref"><a href="#fn:20">20</a></sup> (free).</p>
  </li>
</ul>

<p>All those will be explained later in this guide.</p>

<h2 id="your-dns-requests">Your DNS requests:</h2>

<p>DNS stands for “Domain Name System”<sup id="fnref:21" role="doc-noteref"><a href="#fn:21">21</a></sup> and is a service used by your browser (and other apps) to find the IP addresses of a service. It’s pretty much a huge “contact list” (phone book for older people) that works like asking it a name and it returns the number to call. Except it returns an IP instead.</p>

<p>Every time your browser wants to access a certain service such as Google through <a href="https://www.google.com/">https://www.google.com</a>. Your Browser (Chrome or Firefox) will query a DNS service to find the IP addresses of the Google web servers.</p>

<p>Usually the DNS service is provided by your ISP and automatically configured by the network you’re connecting to. This DNS service could also be subject to data retention regulations or will just keep logs for other reasons (data collection for advertising purposes for instance). Therefore this ISP will be capable of …</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://anonymousplanet.github.io/thgtoa/guide.html">https://anonymousplanet.github.io/thgtoa/guide.html</a></em></p>]]>
            </description>
            <link>https://anonymousplanet.github.io/thgtoa/guide.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302389</guid>
            <pubDate>Fri, 04 Dec 2020 14:14:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bonsai Launches Free Tax Calculator for US Freelancers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25302320">thread link</a>) | @stefanallday
<br/>
December 4, 2020 | https://pulseblueprint.com/careers/entrepreneurship/bonsai-freelance-tax-calculator/ | <a href="https://web.archive.org/web/*/https://pulseblueprint.com/careers/entrepreneurship/bonsai-freelance-tax-calculator/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A freelancer is at once the boss, the employee, and the finance manager. But there’s one thing no one likes dealing with: taxes. Even when you have <a href="https://pulseblueprint.com/careers/entrepreneurship/freelance-contract-clauses-every-freelancer-should-use/" target="_blank" rel="noreferrer noopener">iron-clad freelance contracts</a>, taxes can be a nuisance at best and overly complicated and time consuming at worst. One platform – Bonsai – is aiming to fix that.</p><p>Bonsai, a freelance business management platform boasting over 250,000 users, has just launched a new <a href="https://www.hellobonsai.com/self-employment-tax-calculator" target="_blank" rel="noreferrer noopener">freelance tax calculator</a> for US-based freelancers. The calculator provides an estimate of how much tax you might end up owing based on: your state, filing status, income levels, and business expenses.&nbsp;</p><p>“I’ve freelanced for many years, and self-employment taxes were always an area of confusion,” said Bonsai’s Head of Marketing, Madhav Bhandari, in an interview with <a href="https://aithority.com/news/bonsais-freelance-tax-hub-is-free-and-public-for-everyone-now/" target="_blank" rel="noreferrer noopener">AIThority</a>.</p><figure><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%3E%3C/svg%3E" data-src="https://lh4.googleusercontent.com/GmMCVhDxoFe_WEDJKuqqQlyvamAdCBjYwS4px3EgcdElItJpY46cLhNS-KdaTeNsJnEoJUsxNBWbOj2e25DYV_Bg9jsXykP2RHCyoX0y8It2zxtXdG-Ah7YXoUQYgPqI7a7tEgBs" alt="Bonsai self employment tax calculator" data-old-src="//pulseblueprint.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif"><figcaption>Source: <em>Bonsai Freelance Tax Calculator</em></figcaption></figure><h2>Helping freelancers with self-employment taxes</h2><p>In most states – and most countries outside of the US – freelancers are lumped in with “self-employed individuals.” This means they have to register their businesses as self-employed and handle taxes as such. Thankfully, this means access to all the same deductions as small businesses. Unfortunately, the web of deductions is incredibly complex. What supports you can access depends on both your state and your city, as different municipalities offer different support.&nbsp;</p><p>One thing that every freelancer can leverage to reduce their tax bill, though, is business expenses. Whenever you spend money legitimately to run your business, you can deduct that expense against your taxes. This web can also get complicated, so Bonsai launched a <a href="https://www.hellobonsai.com/self-employment-tax-deductions" target="_blank" rel="noreferrer noopener">library of common self-employment tax deductions</a>. At the top of the page, you’ll see a list of things that almost every freelancer can deduct. These range from set up expenses to ongoing subscriptions. At the bottom, you’ll see a list of types of freelancers – from makeup artists to software engineers – linking out to the common deductions for each type of work.&nbsp;</p><figure><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%3E%3C/svg%3E" data-src="https://lh4.googleusercontent.com/b-2xmtEMndeM-ASxgzNaFRDiKLR2d42ctCJRXDJBXge_GUoFMEj8K3YzuiIRCnqtBy3yjNktGtXzYbF0kMqAdY0PZEZNaLb7Klvc-2-l5xmCDRGppf0Nik893Hq5-9BsRa4jVUIX" alt="image of Bonsai's tax deductions by career type" data-old-src="//pulseblueprint.com/wp-content/plugins/a3-lazy-load/assets/images/lazy_placeholder.gif"><figcaption>Source: <em>Bonsai Tax Deductions Information Hub</em></figcaption></figure><h2>Avoiding the pitfalls of freelancing</h2><p>According to one study, a common <a href="https://pulseblueprint.com/news/biggest-challenges-freelancers-face-skynova-study/" target="_blank" rel="noreferrer noopener">challenge freelancers face</a> is not saving or withholding for taxes. Ideally, once you have a ballpark figure of how much tax you will need to pay, you can also begin to save so you don’t have a surprise bill.&nbsp;</p><p>Many of the other key challenges freelancers face revolve around payment. Freelancers say they have trouble ensuring on-time payment and many send invoices late or don’t have contracts before starting work. All of these challenges are also ones Bonsai says they can help with through their paid platform. However, you don’t want to pay for a platform to get this benefit. There are free ways to ensure clients pay on time, from <a href="https://pulseblueprint.com/careers/entrepreneurship/freelance-contract-clauses-every-freelancer-should-use/" target="_blank" rel="noreferrer noopener">freelance contract clauses</a> to free platforms like <a href="https://www.waveapps.com/" target="_blank" rel="noreferrer noopener">Wave</a>.</p><p>“As the year comes to an end and you start reflecting on 2020 and planning for 2021, we hope this gives freelancers some help and confidence in managing their finances,” said Bhandari.</p><h4><strong>Read Next</strong>: <a rel="noreferrer noopener" href="https://pulseblueprint.com/news/hawaii-remote-program-movers-and-shakas/" target="_blank">Hawaii Will Fly Remote Workers Over, With One Catch </a></h4></div></div>]]>
            </description>
            <link>https://pulseblueprint.com/careers/entrepreneurship/bonsai-freelance-tax-calculator/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302320</guid>
            <pubDate>Fri, 04 Dec 2020 14:07:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Guide to Effective Reading]]>
            </title>
            <description>
<![CDATA[
Score 186 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25302132">thread link</a>) | @accountLost
<br/>
December 4, 2020 | https://maartenvandoorn.nl/reading-guide/ | <a href="https://web.archive.org/web/*/https://maartenvandoorn.nl/reading-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1454">

	<!-- .entry-header -->



	<div>

		
<figure><img src="https://cdn-images-1.medium.com/max/2600/1*0tmBPKA1YGo82VNeMS3KhA.jpeg" alt=""><figcaption> <a rel="noreferrer noopener" href="https://unsplash.com/photos/9pw4TKvT3po?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Let’s make that magic&nbsp;happen</a> </figcaption></figure>



<p>Learning is a heavily misunderstood&nbsp;concept.</p>



<p>As a&nbsp;paradigm&nbsp;example of&nbsp;deep work,&nbsp;we understand that, when reading, directing your full attention to the material at hand is essential.&nbsp;Graspingcomplex information is hard.</p>



<p>But this is only half the battle.</p>



<p>After some string of words hits your retina and has made its way to your brain, you’re&nbsp;not done.</p>



<p>In a&nbsp;cruel&nbsp;irony,&nbsp;these hours of&nbsp;deep work&nbsp;often cause&nbsp;flow&nbsp;states&nbsp;and the feeling that ‘you’ve had a good day’ and learned a&nbsp;shitload&nbsp;of new stuff.</p>



<p>But for many reading&nbsp;episodes&nbsp;this feeling is&nbsp;deceptive.&nbsp;There is anineliminable&nbsp;aspect to learning that takes place&nbsp;<em>after&nbsp;</em>the&nbsp;glorious&nbsp;flow state.</p>



<p>The&nbsp;other half of the battle is&nbsp;to&nbsp;transfer the newly acquired intelligence from your working memory to your&nbsp;long-term&nbsp;understanding and&nbsp;integrate&nbsp;it into your standing stack of mental models.</p>



<p>If you don’t&nbsp;facilitate&nbsp;this, your learning&nbsp;gains&nbsp;are only a&nbsp;fraction&nbsp;of what they could have been.</p>



<p>In this article,&nbsp;I’m going to breakdown how to win the battle and the war — how to&nbsp;avoid&nbsp;these traps and organize your reading habit for a maximalReturn On Investment (ROI)&nbsp;on reading hours.</p>



<p>This is what we’ll cover:</p>



<pre><strong>Table of Contents</strong></pre>



<pre>1. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#1b1d">Meta-Learning</a><br>2. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#1d70">Learning is a two-step process</a><br>3. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#9181">Remembering the right things</a><br>4. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#7b89">Enter: Mental models</a><br>5. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#a837">Learning = upgrading your mental models</a></pre>



<pre>6. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#f0d0">How to ‘get it in there’ (macro-level)</a><br>7. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#8823">How to ‘get it in there’ (micro level)</a><br>7.1 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#19fe">Know your why</a></pre>



<pre>8. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#d988">Active reading</a><br>8.1 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#414f">How to make a mind map</a><br>8.2 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#ad79">Which Returns are you aiming for?</a><br>8.3 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#d61e">Written active recall with bullet points</a><br>8.4 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#a187">How to actively read a book</a><br>8.5 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#8ead">Remember your why (yes, again)</a></pre>



<pre>9. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#4e04">Advanced active reading</a><br>9.1 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#9782">The QEC method</a><br>9.2 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#8dac">Keep a running tally</a><br>9.3 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#dc6b">Put your unconsciousness to work</a><br>9.4 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#7a10">Pulling it all together</a><br>9.5 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#6b84">How to actively read a book (advanced)</a></pre>



<pre>10. <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#926b">Organizing repetition and reflection</a><br>10.1 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#f934">Setting up and using your review cycle</a><br>10.2 <a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#5182">Improved learning: engage in active recall</a></pre>



<pre><a href="https://medium.com/@maartenvandoorn/the-complete-guide-to-effective-reading-fc1835937757/#fc24">Conclusion: The cycle of learning</a></pre>



<p>Warning: this is a very&nbsp;nerdy&nbsp;post.</p>



<h3 id="1b1d">Meta-Learning</h3>



<p>Meta-learning&nbsp;is knowing how to learn.&nbsp;It is one of the most important skills to learn, yet few people know how to do to it.</p>



<p>Reading and writing is what I do for a living, and, interestingly, a lot of non-imaginary&nbsp;friends have been asking me how I learn.&nbsp;This is special, becausemost of the times when people don’t know how to do something, they go&nbsp;togreat&nbsp;lengths&nbsp;<em>not&nbsp;</em>to notice their&nbsp;deficiency.</p>



<p>Could it be that many students turned ‘knowledge workers’ have the&nbsp;naggingfeeling that something is missing in their skillset because they were never taught&nbsp;meta-learning?</p>



<p>This is not their fault, but a&nbsp;<a href="https://medium.com/the-understanding-project/schools-dont-support-personal-development-they-distort-it-7e1c227eb01d" target="_blank" rel="noreferrer noopener">lack in our education system</a>.</p>



<p>As Adam Robinson observed on the&nbsp;<a href="https://fs.blog/adam-robinson-pt2/" rel="noreferrer noopener" target="_blank"><em>Farnam Street&nbsp;</em>podcast</a>:</p>



<blockquote><p>“<strong>No one ever shows us how to learn, ever</strong>.&nbsp;Nowhere in school.&nbsp;For example, imagine, Shane, [Shane is the host of the FS podcast] in French class, French 101, your first French class, your teacher said,&nbsp;“Everyone, you’re going to have to learn a lot of vocabulary in this class so before I teach you any words I’m going to teach you a way to remember vocabulary.”&nbsp;They never do that.&nbsp;They just go, “We’re going to have a quiz on these 30 words on Monday.&nbsp;Good luck.”&nbsp;But they don’t teach us how to learn actually, or remember things.”</p></blockquote>



<p>This is&nbsp;weird, because,&nbsp;in today’s high-information world,&nbsp;people need the ability to&nbsp;<em>make sense of</em>&nbsp;complexity and to&nbsp;<em>combine</em>&nbsp;many bits of data into a broad picture of the world.</p>



<p>Merely&nbsp;<em>acquiring</em>information is&nbsp;<em>not&nbsp;</em>(yet) learning.</p>



<p>Learning itself is a skill, and knowing how to do it well is an incredibly valuable advantage.</p>



<p>We take this is for granted, but how to do this is&nbsp;far from&nbsp;obvious&nbsp;and doesn’t get taught in the curriculum.</p>



<hr>



<h3 id="1d70">Learning is a&nbsp;two-step&nbsp;process</h3>



<p>So, how do we learn?</p>



<p>Before we attempt to answer the question,&nbsp;let’s get clear&nbsp;on what a&nbsp;satisfactoryanswer needs to get us.&nbsp;What does it&nbsp;<em>mean&nbsp;</em>to learn?&nbsp;When have you learned something?</p>



<p>In the introduction, I stated that&nbsp;just studying the information isn’t enough(no matter how intense your focus was).&nbsp;Learning has&nbsp;two phases — not one.</p>



<ol><li>Read/listen&nbsp;the damn thing</li><li>Process and&nbsp;recall&nbsp;what you’ve just ‘learned’</li></ol>



<p>A lot has been said about the first phase — about deep work, concentration, blocking out&nbsp;distractions, and so&nbsp;forth.&nbsp;This makes sense:&nbsp;if you’re checking Facebook all the time,&nbsp;your mind is not ‘there’, and you might as well not have spent your afternoon ’reading’ this book.</p>



<p>This is all great and I‘m a big fan, but in the&nbsp;meantime, we’re ignoring step two.</p>



<p>If you don’t spend time revisiting and grappling with the book either,&nbsp;<em>the same applies</em> — you might as well not have read it.&nbsp;In the long run, there is no difference between skipping the first or the second stage (except whether you passed that French test in high school back in 2019…).</p>



<p>After you’ve killed Cersei, you’ve still got the&nbsp;White Walkers to deal with.&nbsp;If you don’t, you lose either way.</p>



<p>That is why students who&nbsp;binge-study&nbsp;the night before the exam quite literally forget everything two days later:&nbsp;while all these&nbsp;lame&nbsp;French words were still in their short-term memory,&nbsp;allowing them to pass the test,&nbsp;the information never&nbsp;transitioned&nbsp;to their long-term understanding — and so, sooner or later, it&nbsp;evaporated.</p>



<p>To learn,&nbsp;you need to transfer the newly acquired intelligence from&nbsp;your working memory to your long-term understanding.</p>



<p><strong>The jump from short-term memory to long-term understanding doesn’t happen automatically.</strong><strong>The default mode, after you close your books for the day, is not&nbsp;</strong><strong>retainment</strong><strong>&nbsp;but&nbsp;<em>forgetting</em></strong><strong>.</strong></p>



<p>This learning guide&nbsp;is not about&nbsp;<a href="https://medium.com/the-understanding-project/why-you-dont-need-to-read-those-productivity-guides-347fe02cc196" target="_blank" rel="noreferrer noopener">how to do generic deep work</a>.&nbsp;It explains how to maximize the ROI on hours spent reading,&nbsp;<em>assuming</em>&nbsp;you did them ‘deep work style’.</p>



<h3 id="9181">Remembering the right&nbsp;things</h3>



<p>First, I need to discuss a common&nbsp;objection&nbsp;that denies phase two of learning matters.&nbsp;If you have no&nbsp;quibble&nbsp;with memorization, and doing the required effort, you can skip this section.</p>



<p>“But Mr. Maarten,” the protest goes, “you mention ‘processing’ and ‘remembering’ into my ‘long-term understanding’, but isn’t memorizing pointless?&nbsp;My Google Assistant can look everything up and also is smarter than me, says my Google Assistant.”</p>



<p>Indeed,&nbsp;Albert Einstein is&nbsp;<a href="https://medium.com/the-polymath-project/studying-history-is-more-important-than-ever-in-todays-economy-c99fde4be7d0" target="_blank" rel="noreferrer noopener">supposed</a>&nbsp;to have said:&nbsp;“Never&nbsp;memorize&nbsp;what you can look up in a book”.&nbsp;In Einstein’s days, books were&nbsp;unequaled&nbsp;as a source of information.&nbsp;We, on the other hand, live in an age where nearly everything can be accessed through the magic vehicle of internet.&nbsp;Following Einstein’s logic, then,&nbsp;<em>nothing&nbsp;</em>is worth memorizing anymore, because&nbsp;<em>everything</em>&nbsp;can be looked up.</p>



<p>But, of course, that is probably not what old Albert was getting at.</p>



<p>Most likely,&nbsp;the advice he wanted to&nbsp;dispense&nbsp;was that&nbsp;you should not waste your time by committing unimportant details to memory.&nbsp;Rather,&nbsp;your&nbsp;focus should be on understanding the bigger picture — on&nbsp;how things relate to each other.</p>



<p>This reminds me of Elon Musk’s&nbsp;approach to learning.&nbsp;He&nbsp;<a href="https://www.reddit.com/r/IAmA/comments/2rgsan/i_am_elon_musk_ceocto_of_a_rocket_company_ama/" rel="noreferrer noopener" target="_blank">recommends</a>viewing knowledge as a tree:</p>



<blockquote><p>Make sure you understand the fundamental principles, the trunk and big branches, before you get into the leaves/details or there is nothing for them to hang on to.</p></blockquote>



<p>To ‘learn’, we need to do more than merely feeding ourselves new information.&nbsp;Expanding our intelligence requires&nbsp;<em>connecting</em>&nbsp;new materials to what we already knew&nbsp;(the second phase of learning).&nbsp;That, in turn, requires something to connect&nbsp;<em>to.</em></p>



<p>There’s no adding branches without a solid trunk.</p>



<p>The very possibility of genuine insight requires a memorized base.&nbsp;Without it, data you consume will not be added to your tree of knowledge.&nbsp;Instead, they will float in the air for a couple of weeks or so, before being taken away by the wind.</p>



<p>Knowledge, gone.&nbsp;Time, wasted.</p>



<p>What I’m saying is&nbsp;<em>not&nbsp;</em>that we should&nbsp;devise&nbsp;techniques which enable us torecite&nbsp;everything we’ve learned.&nbsp;That’s why we’re not talking about, for example,&nbsp;retaining&nbsp;the date of the French revolution.</p>



<p>However,&nbsp;you&nbsp;<em>should&nbsp;</em>learn by heart the lessons it tells you about how the world works&nbsp;and update your representation of reality&nbsp;accordingly.</p>



<p>In&nbsp;other words,&nbsp;you should use it to&nbsp;inform&nbsp;your&nbsp;unconscious — the&nbsp;sum&nbsp;of your mental models.</p>



<h3 id="7b89">Enter: Mental&nbsp;models</h3>



<p>I’ve long been skeptical about mental models since (1) they’re all the rage now and (2) no one seems to be able to explain in concrete terms what they are. A dangerous combination.</p>



<p>It turned out my doubt was due to ignorance on my part.</p>



<p>A mental model,&nbsp;as&nbsp;<a href="https://en.wikipedia.org/wiki/Mental_model" rel="noreferrer noopener" target="_blank">Wikipedia</a>&nbsp;tells us, is</p>



<blockquote><p>An explanation of someone’s thought process about how something works in the real world.&nbsp;<strong>It is a representation of the surrounding world</strong>, the relationships between its various parts and a person’s intuitive perception about his or her own acts and their consequences.</p></blockquote>



<p>Every problem and situation is just another ‘one of those’ — another one of a certain type.&nbsp;Figuring out what type it is and reflecting on principles for handling that type of issue will help you do a better job.</p>



<p>On the conscious level, mental models allow us to ‘fit’ different possible interpretations onto reality to see if it is ‘one of those’.</p>



<p>For example,&nbsp;according to&nbsp;<a href="https://en.wikipedia.org/wiki/Hanlon%27s_razor" rel="noreferrer noopener" target="_blank">Hanlon’s Razor</a>&nbsp;one should&nbsp;“never attribute tomalice&nbsp;that which is adequately explained by carelessness”.&nbsp;When your coworker hands you crappy slides for the presentation you have to give in five minutes — what’s going on here?</p>



<p>Which ‘one of those’ do we have here?</p>



<p>You can see&nbsp;how different mental models in our heads will cause us to reach different conclusions about the correct interpretation of the situation.</p>



<p>A mental model is a mental, simplified&nbsp;depiction&nbsp;of how something works.They are how we order complexity, why we consider some things more relevant than others, and how we reason.&nbsp;They help us filter, organize and understand.</p>



<p>For instance, according to&nbsp;<a href="https://en.wikipedia.org/wiki/Pareto_distribution" rel="noreferrer noopener" target="_blank">Pareto distribution</a>,&nbsp;“for many events,&nbsp;roughly 80% of the …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://maartenvandoorn.nl/reading-guide/">https://maartenvandoorn.nl/reading-guide/</a></em></p>]]>
            </description>
            <link>https://maartenvandoorn.nl/reading-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302132</guid>
            <pubDate>Fri, 04 Dec 2020 13:45:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Taking AWS EKS Distro for a Spin]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25302062">thread link</a>) | @robertwinter
<br/>
December 4, 2020 | https://elastisys.com/taking-eks-distro-for-a-spin/ | <a href="https://web.archive.org/web/*/https://elastisys.com/taking-eks-distro-for-a-spin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><div data-elementor-type="wp-post" data-elementor-id="8833" data-elementor-settings="[]"><div><div><section data-id="3d1c630" data-element_type="section"><div><div><div data-id="739a184" data-element_type="column"><div><div><div data-id="7afbc26" data-element_type="widget" data-widget_type="text-editor.default"><div><div><p><b>TL;DR:</b></p><blockquote><p><span>EKS Distro = kops + Kubernetes fixes + aws-iam-authenticator</span></p></blockquote><p><span>AWS has recently launched </span><a href="https://aws.amazon.com/blogs/opensource/introducing-amazon-eks-distro/"><span>EKS Distro</span></a><span>, the Kubernetes distribution that powers its managed Kubernetes offer, called Elastic Kubernetes Service (EKS). This means that customers no longer have to choose between EKS (as a managed service) and some other Kubernetes setup. Instead, they can choose between EKS as a service managed by AWS or managed by themselves. The application hosted on top won’t observe any difference.</span></p><p><span>Being big fans of Kubernetes distributions, to the point where we open-sourced our own </span><a href="https://compliantkubernetes.io/"><span>Compliant Kubernetes</span></a><span>, we took EKS Distro for a spin.</span></p><p><span>For those unfamiliar with the term, a distribution is to Kubernetes just like a distribution is to Linux. As the saying goes, Kubernetes is a powerful engine, but you need to build a car around it. In other words, a Kubernetes distribution is Kubernetes with a chosen configuration and a chosen set of addons. For example, Kubernetes is </span><a href="https://searchitoperations.techtarget.com/news/252487963/Kubernetes-security-defaults-prompt-upstream-dilemma"><span>not secure by default, nor by itself</span></a><span>. Hence, a security-focused Kubernetes distribution will configure Kubernetes with restrictive PodSecurityPolicies and add intrusion detection addons.</span></p><p><span>Specifically, a Kubernetes distribution consists of three parts:</span></p><ol><li><span>A procedure — either code or documentation — to create </span><b>infrastructure</b><span> necessary for a Kubernetes cluster, such as virtual machines, load balancers, network security policies, DNS records, etc. The distribution may impose a certain base operating system (OS) image or may cater to a large variety of base images.</span></li><li><span>A procedure to </span><b>bootstrap</b><span> Kubernetes control plane components onto the control plane and worker nodes, in particular the apiserver, scheduler, kubelets and controller manager. Most distributions come with a cloud integration. This means that Kubernetes Services of type LoadBalancer and PersistentVolumeClaims automatically work.</span></li><li><span>A procedure to set up </span><b>addons</b><span>, such as Ingress controllers, certificate managers, intrusion detection, custom authentication, to name a few.</span></li></ol><p><span>EKS Distro launched with a </span><a href="https://distro.eks.amazonaws.com/"><span>healthy documentation and code</span></a><span>. You have several ways of using it:</span></p><ul><li><b>Build it from scratch</b><span>: The documentation and code are sufficient to build EKS Distro from scratch, specifically, the container images that make up the Kubernetes control plane components.</span></li><li><b>Start EKS-D</b><span>: If you don’t need to customize control plane images, then you can use the pre-build images by AWS from their public container registry.</span></li></ul><p><span>Our next observation is related to the level of automation of EKS Distro. Let’s take an automation scale with a few levels:</span></p><ol><li><span>Prose-only documentation.</span></li><li><span>Documentation with copy-paste-able code snippets.</span></li><li><span>Command that does everything.</span></li><li><span>API that does everything.</span></li></ol><p><span>EKS Distro is level 2: It focuses on providing a lot of documentation and copy-paste-able. code snippets. However, if you are the “TL;DR” type, EKS Distro will disappoint you. </span><b>You need to carefully read the prose to understand how to use the next code snippet.</b><span>&nbsp;</span></p><p><span>While this could be seen as a weakness, we find it a strength. Instead of pre-baking and imposing many decisions on the user, </span><b>EKS Distro is rather un-opinionated</b><span>. It allows the user to control which decisions to take at each step, while at the same time offering “it just works” defaults.</span></p><p><span>Next observation: </span><b>EKS Distro is built on top of </b><a href="https://github.com/kubernetes/kops"><b>kops</b></a><span>. Comparing kops and </span><a href="https://github.com/kubernetes-sigs/kubespray"><span>kubespray</span></a><span> — the two dominant open source Kubernetes cluster life-cycle managers — deserves its own article. For now, suffice to say that, correctly setting up EKS Distro requires a fair knowledge of kops for things like setting up AWS IAM roles and the DNS stack accordingly. Even small mistakes with kops — e.g., not setting up the DNS stack correctly — will make you unsuccessful with deploying EKS Distro. On the upside, if you are already familiar with kops, EKS Distro will feel like a fairly thin and unobtrusive layer on top.</span></p><p><span>As said before, EKS Distro is a fairly thin layer on top of kops. It basically adds three things:</span></p><ol><li><span>A bit of automation on top of kops.</span></li><li><span>A few fixes for Kubernetes.</span></li><li><span>The AWS IAM authenticator.</span></li></ol><p><span>Let us focus on the last two.</span></p><p><span>The control plane images </span><a href="https://en.wikipedia.org/wiki/Backporting"><span>backport</span></a><span> a few Kubernetes fixes that are critical for EKS Distro. These fixes are available in the main branch of the Kubernetes project, however, backporting them allows AWS to provide these without waiting for a new Kubernetes release.</span></p><p><span>The AWS IAM authentication enables authentication with the Kubernetes cluster using AWS credentials. This does make sense for users who want to leverate AWS IAM roles for everything, including on-prem Kubernetes clusters. However, for users who aim for a cloud-agnostic strategy, </span><a href="https://github.com/dexidp/dex"><span>OpenID</span></a><span> is a more portable Kubernetes authentication solution.</span></p><p><span>Have I already mentioned how thin EKS Distro is? We were surprised to discover that it does not include an Ingress controller, a certificate manager or a log forwarded. Truly un-opinionated!</span></p><p><span>While the ride was pretty smooth, we did bump into a few minor issues:</span></p><ol><li><span>EKS Distro assumes the us-west-2 region in several places. Fortunately, due to its light packaging, fixing the scripts to deploy in my favorite region, eu-north-1, was a no-brainer.</span></li><li><span>EKS Distro blocked the first time I tried it out, due to my laptop being entropy starved and /dev/random being stuck. A simple change, to take randomness from /dev/urandom fixed the problem. In fact, our </span><a href="https://github.com/aws/eks-distro/commit/c1225ea8482db2c69da6b554e280a0365504f590"><span>Pull Request (PR)</span></a><span> was merged within hours. So another point goes to EKS Distro for being very welcoming.</span></li></ol><p><span>Good:</span></p><ul><li><span>Un-opinionated, thin, easy to modify for one’s own needs.</span></li><li><span>Based on kops and will feel familiar to existing kops users.</span></li><li><span>Comes with AWS IAM authentication.</span></li></ul><p><span>Bad:</span></p><ul><li><span>“No battery included, not even removable ones”. EKS Distro has no Ingress controller, no certificate manager, no log forwarder.</span></li><li><span>Minor gotchas, but overall a smooth ride.</span></li></ul><p><span>Ugly:</span></p><ul><li><span>Nothing really. A great AWS project, as expected.</span></li></ul></div></div></div></div></div></div></div></div></section></div></div></div></div></div>]]>
            </description>
            <link>https://elastisys.com/taking-eks-distro-for-a-spin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25302062</guid>
            <pubDate>Fri, 04 Dec 2020 13:36:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Google Analytics without GDPR consent]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 107 (<a href="https://news.ycombinator.com/item?id=25301500">thread link</a>) | @evrimfeyyaz
<br/>
December 4, 2020 | https://evrim.io/using-google-analytics-without-gdpr-consent/ | <a href="https://web.archive.org/web/*/https://evrim.io/using-google-analytics-without-gdpr-consent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://evrim.io/using-google-analytics-without-gdpr-consent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25301500</guid>
            <pubDate>Fri, 04 Dec 2020 12:23:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sales Prospecting on LinkedIn [tactics we tested with results]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25301415">thread link</a>) | @Ilyazovtsev
<br/>
December 4, 2020 | https://ilya.today/linkedin-prospecting-hn | <a href="https://web.archive.org/web/*/https://ilya.today/linkedin-prospecting-hn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://ilya.today/linkedin-prospecting-hn</link>
            <guid isPermaLink="false">hacker-news-small-sites-25301415</guid>
            <pubDate>Fri, 04 Dec 2020 12:09:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Big Hacks of 2020]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25301346">thread link</a>) | @henrikwm
<br/>
December 4, 2020 | https://security.christmas/2020/4 | <a href="https://web.archive.org/web/*/https://security.christmas/2020/4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>Today we are going to explore five big hacks that took place in 2020. First we'll cover two hacks that targeted Norwegian companies Sykehuspartner and NHH. Then we'll take a look at a hack that targeted the Danish company ISS. To wrap things up we'll cover what is probably the two most high profile hacks of 2020: the Twitter phish and the CWT ransom.</p>
</section><article><section><h2>Sykehuspartner</h2>
<p><img src="https://i.ibb.co/hyMVdWh/Skjermbilde-2020-11-20-kl-07-30-21.png" alt="Sykehuspartner logo" title="Sykehuspartner"></p>
<p>Sykehuspartner deliver IT, HR, project and logistics services to all hospitals in the Norwegian health region Helse Sør-Øst (Health South East). It manages vital IT systems for the hospitals, both clinical and administrative applications, as well as infrastructure and networks.</p>
<p>On august 22 2020 several of Sykehuspartners applications became the target of an unknown malicious actor. Only one hospital (Sykehuset Innlandet) was targeted in this attack. Not much is known by the type and scope of the attack, except for what type of data might possibly have been stolen. The potentially stolen data might include:</p>
<ul>
<li>Information about the deceased</li>
<li>Health information about patients from research projects</li>
<li>Personal information about employees</li>
<li>Name and social security number (fødselsnummer) of students</li>
</ul>
<p>From reports about the incident, we know that 25 patients and several employees have been notified of personal information having been stolen. Following the attack, the hospital has carried out a forced password change for all employees.</p>
<p><strong>Sources</strong></p>
<ul>
<li><a href="https://sykehuspartner.no/nyheter/dataangrep-mot-sykehuset-innlandet-hf">Sykehuspartner announcing attack</a></li>
<li><a href="https://sykehuspartner.no/nyheter/analysearbeidet-etter-dataangrepet-mot-sykehuset-innlandet-er-avsluttet">Sykehuspartners analysis of attack</a></li>
</ul>
<h2>NHH</h2>
<p><img src="https://i.ibb.co/sjQnhNF/imageedit-10-3684463812.png" alt="NHH logo" title="NHH logo"></p>
<p>In august this year, Norges handelshøgskole (NHH, English: Norwegian School of Economics), experienced a data heist. The school is one of the leading business schools in Europe and is located in the city of Bergen. </p>
<p>Usernames and passwords of both students and employees was compromised. The break in was discovered when the stolen credentials were uploaded to a “hacker” forum. The attack targeted a known vulnerability in an old version of the VPN service called Pulse Secure. An updated version that patches this vulnerability has been available since April 2019. But NHH is decommissioning the service and has thus been neglecting to update it. All students and employees were asked to change their passwords after the incident.</p>
<p><strong>Sources</strong></p>
<ul>
<li><a href="https://www.dn.no/utdannelse/nhh/datakriminalitet/nhh-oppdaterte-ikke-sikkerhetshull-kjent-siden-april-2019-na-er-handelshoyskolen-rammet-av-internasjonalt-dataangrep/2-1-853329">Norwegian news article about NHH attack</a></li>
</ul>
<h2>ISS</h2>
<p><img src="https://i.ibb.co/XDJVmgQ/imageedit-12-3910494650.png" alt="ISS logo" title="ISS logo"></p>
<p>In the middle of February this year, ISS was hit by a ransomware attack. ISS is a global facility services company, founded in Copenhagen, Denmark. The company has 450,000 employees.</p>
<p>The ransomware was a massive malware attack across IT-systems and networks. Immediately after the attack was discovered, IT-access was removed to isolate the indicent. As reported by the company. Regardless of the actions taken, the company had to write down and change big parts of the IT-infrastructure. It is estimated that the attack will cost the company between 750 and 1340 million Norwegian kroner (NOK).</p>
<p>It was reported that customer data was not stolen.</p>
<p><strong>Sources</strong></p>
<ul>
<li><a href="https://www.digi.no/artikler/dansk-servicegigant-rammet-etter-skadevareangrep/485762">Norwegian news article about ISS attack</a></li>
<li><a href="https://www.digi.no/artikler/iss-venter-milliardsmell-etter-cyberangrepet-i-februar/488264">Norwegian news article about aftermath of ISS attack</a></li>
</ul>
<h2>Twitter</h2>
<p>Twitter, you know, the social media platform? Yes, that one. In July this year, it was hit with a phishing campaign that was used to target high-profile individuals, like Barack Obama, Joe Biden and Bill Gates.</p>
<p>Twitter stated that "This attack relied on a significant and concerted attempt to mislead certain employees and exploit human vulnerabilities to gain access to our internal systems".</p>
<p>The phish was used to get access to certain high-profile accounts. The compromised accounts were used to promote a bitcoin scam.</p>
<p><img src="https://i.ibb.co/sPXDZK7/external-content-duckduckgo-com.png" alt="Tweets from Joe Biden and Barack Obama promoting a bitcoin scam" title="Biden and Obamas twitter profiles were hacked to promote a bitcoin scam"></p>
<p><strong>Sources</strong></p>
<ul>
<li><a href="https://edition.cnn.com/2020/07/15/tech/twitter-hack-elon-musk-bill-gates/index.html">News article about Twitter hack</a></li>
<li><a href="https://edition.cnn.com/2020/07/30/tech/twitter-hack-update/index.html">News article about Twitter hack - two weeks later</a></li>
</ul>
<h2>CWT</h2>
<p>CWT is a travel management company that manages business travel, meetings and so on. The 27 of July this year, the company was hit by a massive ransomware attack that knocked 30,000 computers offline. The hackers claimed to have stolen two terabytes of files, including financial reports, security documents and employees’ personal data. CWT paid $4.5 million to the hackers to restore their systems. </p>
<p>One of the fascinating things about this hack was that the negotiation chat, where the company and the hackers met to talk, was left open to the public after the negotiations ended. This gives us a never before seen insight into how the negotiations between hacker and hacked works. As many others have noted after the chat became public, it is rarely advised to actually pay the hackers like CWT did. This is, of course, because of the precedence it sets and that the chance of getting scamed is very high.</p>
<p><img src="https://i.ibb.co/QC7f7MJ/cwt-chat.jpg" alt="Screenshot of chat between hackers and CWT" title="Screenshot of the negotiation chat between hackers and CWT"></p>
<p><strong>Sources</strong></p>
<ul>
<li><a href="https://www.reuters.com/article/us-cyber-cwt-ransom-idUSKCN24W25W">News article about CWT attack</a></li>
</ul>

<p>This is of course not a complete list of all the major hacks that were reported in 2020. It sure has been a very active year in this regard. As you can see, there are many ways of being vulnerable on the internet. If you want to better understand how to prevent some of these things happening to you, take a look at the previous three posts:</p>
<ol>
<li><a href="https://security.christmas/2020/1">Application security check list</a></li>
<li><a href="https://security.christmas/2020/2">Github Security: Getting started with Dependabot</a></li>
<li><a href="https://security.christmas/2020/3">How secure is your build pipeline?</a></li>
</ol>
<p>Also, be sure to follow this advent calendar for even more articles leading up to Christmas day!</p></section></article></div>]]>
            </description>
            <link>https://security.christmas/2020/4</link>
            <guid isPermaLink="false">hacker-news-small-sites-25301346</guid>
            <pubDate>Fri, 04 Dec 2020 11:56:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wikipedia's in Trouble (2019)]]>
            </title>
            <description>
<![CDATA[
Score 100 | Comments 83 (<a href="https://news.ycombinator.com/item?id=25300942">thread link</a>) | @sanqui
<br/>
December 4, 2020 | http://blog.spencermounta.in/2019/wikipedias-in-trouble/index.html | <a href="https://web.archive.org/web/*/http://blog.spencermounta.in/2019/wikipedias-in-trouble/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
I got involved in wikipedia <a href="https://en.wikipedia.org/w/index.php?title=User%3ASpencerk&amp;action=history&amp;year=2006&amp;month=-1&amp;tagfilter=">very early</a>.

It was one of the most revealing things in my life, watching it being laughed at, to become the center of, and authority of, human knowledge.

It was obvious that it was working. The lag of this was 5 years or more.

Wikipedia was an experiment that proved itself, when every graph was going up and to the right.

Some of the graphs are now going down.

</p><p>Wikipedia's Markup language:</p><p>
One of the central design decisions in wikipedia is that <span>all information</span> is stored in an editable document.
This poses a huge amount of challenges for caching and scaling wikipedia. It's not a database, that you can run a script on.

Worse though, is that all of it's content is buried in this ad-hoc, impenetrable, opaque, and mostly <i>un-parsable</i> format.

If wikipedia had used <i>markdown</i>, <i>html</i>, or some <i>standardised format</i>, any parser would flip-it into other future formats.

Wikipedia's custom language is just <a href="https://github.com/spencermountain/wtf_wikipedia/blob/master/README.md">clearly insane</a>, undocumented, hopeless.
There's a team <span>(of great people!)</span> at wikimedia <a href="https://phabricator.wikimedia.org/tag/parsoid/">constantly working on it</a>, and unable to make any backwards-incompatible changes. I imagine their lives are hard.
People are creating weird new syntax concepts all the time.

Here's the markup for the <b>first sentence</b> of the Albert Einstein wikipedia article:
<img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/albert-einstein.jpg">

The first wikimedia parser was called <a href="https://github.com/earwig/mwparserfromhell/">mwparserfromhell</a>. DBPedia, <a href="https://upload.wikimedia.org/wikipedia/commons/a/a9/LOD_Cloud_2014-08.svg">the center of the semantic web</a>, after years of work, has only ever offered limited parsing from categories and infoboxes.
Much of the early-years at <b>Freebase</b> were spent trying, with limited-success, at parsing wikipedia.
I've spent <a href="https://github.com/spencermountain/wtf_wikipedia/graphs/commit-activity">years</a> trying to parse it myself.
I'm a shitty programmer. <i>WolframAlpha</i>, and many other serious companies are using my parser,
       which is <span>down right hilarious</span>.

<img id="rtl" src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/rtl.jpg"></p><p>yes, arabic editors must write it in right-to-left, <a href="https://youtu.be/OCQd02hORJQ">somehow</a>.</p><p>

It's hard to describe how much of a serious problem this is.
Wikipedia's content is never going to go anywhere, or be used by anything.

Wikipedia may slowly die-off - like myspace, or geocities - but it's information will not go on.

Play-around in the official wikipedia android app. Many pages are unreadable.
There is a good-deal of <i>clearfix</i>, and <span>table-span</span> logic, mushed right into the syntax.
Most developers will not touch this kind of stuff.

There will be no move to a wikipedia 2.

</p><p>Static copies of dynamic content</p><p>
The contents of the english wikipedia dump are as follows, (as of Jan 2019):
</p><p>
of the <b>14m</b> records in the wikipedia dump, only <b>5.5m</b> (40%) are public-facing articles.

   <span>Yup.</span>
This does not include deleted pages, or old versions, either.


<b>Redirects:</b>
A computer-science 101 problem is to implement a fuzzy string matching. There's usually a section in the textbook about it:
</p><div>
<p><img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/clr.jpg"></p><p>oh yes, right here in chapter 34.</p><p>
there are <b>8,550,441</b> redirects in wikipedia.
They are mostly typos, or case-changes, and are mostly created by hand, every day.

<span>and what happens to a redirect when a page gets deleted, or merged, or spli - <a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot">Yup</a>.</span>
</p></div>

<p><b>Talk pages:</b>
Wikipedia has 35m registered users. When a user joins, a bot will often send them a <a href="https://en.wikipedia.org/wiki/Template:Welcome">{{welcome}}</a> template.
Sometimes nice users will do it themselves. It looks <a href="https://en.wikipedia.org/wiki/User_talk:Kj_aviator">like this</a>.

   - when this happens, this creates a new user page, with <b>a copy of this text</b> each time.

There are millions of examples of this in the dump. The same text, verbatim over and over.

The same process happens with <b>'Wikiprojects'</b>. Bots go around adding templates, by creating a talk page, and adding a template to it.

The same process happens with <i>deleted pages, fair-use warnings, and some bot edits</i>. Each time an edit happens, a new page is created, and boilerplate text gets thrown into it.
Resulting in <a href="https://en.wikipedia.org/wiki/Talk:XTC_discography">this</a>:
<img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/boilerplate.png"></p><hr><p>
So let's get things straight:
in <b>1993</b>, a small japanese game company created <a href="https://en.wikipedia.org/wiki/A-Rank_Thunder_Tanjouhen">this videogame</a>:
</p><p><img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/thunder.jpg">
</p><p>
• In <b>2008</b>, a wikipedia user created the article with <a href="https://en.wikipedia.org/w/index.php?title=A-Rank_Thunder_Tanjouhen&amp;oldid=205879125">two sentences and a link</a>.

• In the past 10 years since, the page has been edited <a href="https://en.wikipedia.org/w/index.php?title=A-Rank_Thunder_Tanjouhen&amp;oldid=205879125">26 times by bots</a>.

• this created a Talk page filled with <a href="https://en.wikipedia.org/wiki/Talk:A-Rank_Thunder_Tanjouhen">11 automated sentences</a>.

A huge bulk of the wikipedia database is this boilerplate text. See <a href="https://en.wikipedia.org/wiki/Talk:764_Gedania">this asteroid</a>, <a href="https://en.wikipedia.org/wiki/Talk:NS3_(HCV)">this virus</a>, or this <a href="https://en.wikipedia.org/wiki/Talk:Oceania_Judo_Union">judo club</a>.

... and remember, if we wanted to change this text, we'd have to go and edit each of these pages - and because this syntax is so nuts, <b>bots have a hard time</b> making even simple stylistic changes, without ruining a whole page.

oh, so what happens to these auto-generated talk pages when a page is deleted, merged, or spli- <a href="https://en.wikipedia.org/wiki/Talk:578_Happelia">yup</a>

<b id="automation">Automated articles:</b>
There is a lot of disagreement about how much of wikipedia is generated by bots, and if this matters.
There's no way of knowing. Any boring-themed article with a few sentences, a reference, and an infobox probably won't get deleted.
So nothing's stopping you from spitting-out articles from a <b>database of enzymes</b>, or <b>college rugby players</b>, or season statistics for defunct sports teams.
</p><p><img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/enzymes.jpg">
  <img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/subgiants.png">
</p><p>
I have nothing against bots, I have nothing against the long-tail, but I think automated article-creation is responsible for a good amount of the wikipedia's claimed growth, over the past few years.
We need to be up-front about this, if we're talking about the health of the project.

Here's the distribution of words in english wikipedia, by the size of articles:
</p>

<div>
<p><span>ok hey,</span> I don't mind that the wm developers didn't develop a fancy search index, in 2001.
That's fine.
Nobody could have predicted the success and scale of wikipedia early on.
</p><p>
What angers me though
         - <i>and it should anger you</i> -
is that these problems has not been fixed in the <b>18 years</b> since.

God damn them.

Well-meaning people are wasting their time on this <span>everyday</span>.

Any <i>startup job-interview</i> asks questions about implementing a system like this.
Any CS grad can create a lucene index, to handle typos.
Some of it is complicated. Some of it is basic competence.

<span>It's annoying to whine</span>,
     but at some point, we're right to be angry at wikipedia.

            that it cannot find 2nd gear,
     when the rest of the world is zipping-along.
</p>
</div>

<p>Wikidata</p><p>
In 2007 Danny Hillis raised $57 million dollars,<a href="https://www.crunchbase.com/organization/metawebtechnologies#section-overview">[1]</a> bought-out the <b>entire</b> MIT semantic-web group,
hired 50~ employees, (including <a href="https://www.apple.com/leadership/john-giannandrea/">this person</a>, <a href="https://www.amazon.com/Toby-Segaran/e/B001I9RQVS">this person</a>, <a href="http://davidhuynh.net/">this person</a>) and got an office in the mission.

They reconciled all of wikipedia, the entire musicbrainz database, the entire open-library database, the tvdb database, and all of wordnet.
They signed a (massive) deal to import <b>all collections of the stanford library</b>.<a href="https://www.clir.org/pubs/reports/pub152/stanford-linked-data-workshop/">[2]</a>

They hit <b>high-90%</b> classification of all <a href="https://research.google.com/pubs/archive/44818.pdf"><b>50 million</b></a> entities (wikipedia has 5m)
They were evaluated at very-high 90's accuracy by several third-parties.

Facebook, Bing, Amazon, and Google all began using its data in nearly real-time in their search products.

This was one of the largest and most ambitious software projects in history.

In 2010 freebase was bought for a whack of money, and then killed-off by google.
When google announced they would be shutting down the API, they offered to import all of this data to a new wikimedia project called <span>wikidata</span>.

Wikidata was 4-or-5 Lua developers, in Germany, on a few research grants.

</p><p>and they said no. 😐</p><p>

so they said this data didn't meet it's guidelines regarding sourced data.

    <i>... aren't you pulling information <b>from wikipedia</b> blindly?</i>

    <i>... what about your (~60%) unreferenced facts?</i>

    <i>... aren't you <b>multiplying vandalism</b> from multi-lingual wikipedias?</i>

    <i>... how do you use, or verify references?</i>

They built a tool to <b>hand-transfer each freebase fact</b>, which if you have a calculator, may seem funny.
<span>(at 10 people clicking full-time, would have taken 10 million years)</span>

8 years later, <a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">Wikidata</a> remains tiny, buggy, unused, and worse - <i>majority unreferenced</i>.
I mean, they're pulling their data from wikipedia, which gets vandalized almost every minute!

It's accomplished very-little from its 5-year plan. They write academic papers.
They still don't really offer a rest api.
       ...creating new types or properties is I think, possible? or it's supposed to be...

It's got few of the safeguards, momentum, features, and ambition that Freebase had a full decade ago.
If wikidata was a company, it would not exist anymore, and you wouldn't have heard of it.

But Wikimedia places <b>banner-ads</b> on <span>hours of eye-blistering user-created content</span>,
begging children, students, and poor-people for money.
and they choose to be this petty, pithy and behind-the-times.

</p><p>Category-system</p><p>
It's a beautiful idea, to classify information with category-scheme, <a href="https://humane.computer/review-the-science-of-managing-our-digital-stuff/">until it falls-apart</a>.

<a href="http://www.shirky.com/writings/ontology_overrated.html"><img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/shirky-category.jpg"></a>
Wikipedia has many-thousands of categories. They <a href="https://en.wikipedia.org/wiki/Wikipedia:Dump_reports/Category_cycles">loop-around</a> all-over the place.

</p><p>
People:
    → Musicians
        → Singers
              → American_Idol
                  → Books_about_American_Idol
</p><p>
or worse:
</p><p><span>Albanian language</span>:
    → Albanian-speaking countries and territories
      → Kosovo (region)
        → Kosovo
          → Kosovar society
            → Languages of Kosovo
              → <span>Albanian language</span>
</p><p>
if you're ever too-cheerful, and wanting to feel depressed, have a visit <a href="https://en.wikipedia.org/wiki/Wikipedia:Categories_for_discussion/Log/Today">Categories for deletion/Today</a>,
where you'll see precious human-life spent debating whether <b>'Category:Goth'</b> should exist, if it is a genre of music, if it's is a fashion-style, etc.

Work is being ravenously deleted all the time. You'll get sad thinking about it.

</p><p>Templates</p>
<div>
  <p>what about all this stuff →</p>
  <p><img src="http://blog.spencermounta.in/2019/wikipedias-in-trouble/assets/infobox.png">
</p></div><p>
You're right.

Wikipedia has good structured-data in <b>infoboxes, lists, tables, citations, etc</b>.

The issue is, as of Feb 2019, Wikipedia has <b>634,755 different kinds of templates</b> (see this <a href="https://s3-us-west-1.amazonaws.com/spencer-scratch/allTemplates-2018-10-26.tsv">21mb download</a>).

Yes, there are all different.

Yes, there are <span>templates-within-templates-with-escaping-with-escaping</span>.

Even if you parse them perfectly, how do you know that for <a href="https://en.wikipedia.org/wiki/Template:HorseDeathYear">Template:HorseDeathYear</a>, the third parameter is the <b>birth date of the horse</b>, and the fourth is the birth-month?

see, for example:

• <a href="https://en.wikipedia.org/wiki/Category:16-Team_bracket_templates">Tennis Brackets vs Table Tennis Brackets</a>

• '<a href="https://en.wikipedia.org/wiki/Template:Birth_date_and_age">Birth_date_and_age</a>' vs '<a href="https://en.wikipedia.org/wiki/Template:Birth-date_and_age">Birth-date_and_age</a>'.

• <a href="https://en.wikipedia.org/wiki/Template:Trapezoidnotation">a template for a Trapezoid unicode symbol</a>
It's just a straight-up mess.

If you're thinking, <i>gee wikipedia editors must feel exhausted and stupid</i> - you're right.

<a href="https://en.wikipedia.org/w/index.php?title=Special:WhatLinksHere/Template:Retired&amp;limit=500">Many</a>…</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://blog.spencermounta.in/2019/wikipedias-in-trouble/index.html">http://blog.spencermounta.in/2019/wikipedias-in-trouble/index.html</a></em></p>]]>
            </description>
            <link>http://blog.spencermounta.in/2019/wikipedias-in-trouble/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300942</guid>
            <pubDate>Fri, 04 Dec 2020 10:41:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chang'e-5 unfolds Chinese national flag, takes off with lunar surface samples]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25300640">thread link</a>) | @dlcmh
<br/>
December 4, 2020 | https://www.globaltimes.cn/content/1208931.shtml | <a href="https://web.archive.org/web/*/https://www.globaltimes.cn/content/1208931.shtml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
      <h3> Chang'e-5 probe unfolds Chinese national flag, takes off from moon with lunar surface samples </h3>
    </p><div>
      <p>By Deng Xiaoci and Fan Anqi Source: Global Times Published: 2020/12/3 23:31:40 Last Updated: 2020/12/4 22:43:38 </p>
      
      
      <hr>
    </div><div>
      <div> <center>
<center><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-04/b65c88eb-92a0-4a86-aa0f-a34cb9bdff5b.jpeg"></center>
<p>Photo:CNSA</p><br>&nbsp;<img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-03/87038a0c-74a3-44f0-aa90-9210ab873966.jpeg"></center>
<p>CNSA illustration shows the lift-off moment of Chang’e-5 ascender from moon surface on Thursday 11:10 pm. About 2 kilograms of lunar surface substance have been put in the vacuum container onboard the ascender before its departure from moon. Photo: CNSA</p><br>
<center><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-03/c7fbc8a5-3e47-45d4-8af0-d0a30c11b8bd.jpeg"></center>
<p>Live image of ascender’s taking off from the lander. Photo: CNSA</p><p>The Chinese national flag shines an even brighter red from moon, and from now on it will be a grand reminder for stargazers from all over the world of the excitement and inspiration we felt from Apollo missions more than half a century ago.</p><p>Having packed samples of soil and rocks from the Earth's only natural satellite within 19 hours after its smooth soft landing, the ascender of the Chinese spacecraft using the lander as a launch pad, took off from the moon surface, according to the China National Space Administration Thursday evening.</p><p>The Chinese space agency said in a statement the CNSA sent to the Global Times on Thursday evening, the Chang'e-5 ascender has successfully taken off from the lunar surface with soil and rock samples, and sent to the lunar orbiter some 15 kilometers away with the 3,000-newton thrust engine.&nbsp;</p><p>Right before the lift-off of Chang'e-5's ascender from lunar surface, the lander vehicle of the Chinese spacecraft unfolded the five-star red national flag, a genuine one made from fabrics, marking a first in the country's aerospace history.</p><p>The probe's successful launch from the lunar surface, as some observers believe, marks the completion of probably the most challenging step in the mission.</p><center><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-03/4239fa1e-7448-4bb3-aa85-a3f2c1a3bf08.jpeg"></center>
<p>Flags on the moon Infographic: GT</p><p>"This is the first attempt in China's aerospace history to lift off from a celestial body other than Earth," chief editor of Aerospace Knowledge magazine Wang Ya'nan said. "The launch is a major test, in that the vehicle had to rely entirely on automatic maneuvers without any ground command."</p><p>Wang explained to the Global Times that the launch from the moon could not afford any time delay. "If the probe receives a command from the Earth to help it control the separation, altitude and speed, there will be at least one second delay, which will put the process in great danger."</p><center><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-04/dcc27158-a339-47cd-911b-ab2c6000a08c.jpg"></center>
<p>Photo: CNSA</p><p>Another factor that posed a challenge to the lunar takeoff is that the lander-ascender combination might sit on a slope, which would bring uncertainty to the probe's altitude and position. It means that the probe must ensure its own altitude is precise enough to enter the designated orbit through automatic decision-making, according to a statement sent to the Global Times from the China Aerospace Science and Technology Corporation (CASC.)</p><p>Chinese researchers have conducted numerous ground simulations to verify the takeoff, but the particularities of the lunar environment have made the verifications difficult, the CASC said.&nbsp;</p><p>The rendezvous and docking, if successful, could be of great value to other deep-space or even manned missions in the future, the significance of which would be no less than the Apollo mission, once the name card of human lunar exploration activities during the Cold War, Chinese analysts said.</p><p>"It will be a milestone for China's aerospace development," Song Zhongping, an aerospace expert and TV commentator, said, calling it "a foresighted practice that lays a technological foundation for future deep-space explorations."</p><p>It will also verify the viability of manned lunar landing missions, and even the construction of a lunar research base, or Mars missions, he told the Global Times.&nbsp;</p><center><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-03/7efca0cc-975e-491f-8f76-05cb5b7bbfe6.jpg"></center>
<p>Developers work on the flag presentation system miniature. Photo: CASIC<br></p>
<center><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-03/203ca177-8f1f-472d-8d8b-ad8e02436382.jpg"></center>
<p>Developers work on the flag presentation system miniature. Photo: CASIC</p><p>Lunar surface substances the lander vehicle collected by scooping and drilling the landing area in around 19 hours, have been sealed and packed in a vacuum container on board the ascender, CNSA said earlier on Thursday.</p><p>Payloads on board the Chang'e-5 lander vehicle, including its lunar soil composition analytical instrument, are working normally, carrying out planned scientific tasks and providing information support for sampling.</p><p>After taking off from the lunar surface, the ascender will rendezvous and dock with an orbital module which is flying and waiting in orbit at an average altitude of 200 kilometers above the moon. The re-entry capsule will then carry the lunar sample and bring them to a designated site in North China's Inner Mongolia Autonomous Region by mid-December.</p><center><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-04/2c167277-3ccb-4a13-8984-c8fcb52b8d88.jpeg"></center>
<p>Photo:CNSA</p><center><strong><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-03/ff29f09a-930e-4d01-8dca-d10968185b02.jpeg"></strong></center>
<p>Chang'e-5 lunar probe carries out automatic sample collecting work on moon surface. Photo: CNSA</p><p><strong>Flag mission accomplished&nbsp;&nbsp;<br></strong><br>More stylish than previous Chang'e landing missions, the lander of Chang'e-5 displayed the five-star red national flag, made of genuine fabric, on the moon.&nbsp;</p><p>The Chinese national flag made its moon debut in December 2013 during the country's first lunar landing mission of Chang'e-3, and it was recorded in pictures from the spacecraft's lander and its rover Yutu-1 took for each other.</p><p>Chang'e-4 lander and rover Yutu-2 brought China's national flag to the dark side of the moon, as the Chinese spacecraft made a historic landing in the unvisited region in January 2019.</p><p>The flags that Chang'e-3 and -4 carried were in the form of the craft's coatings, rather than an actual flag. Chinese space technological development has allowed it to take a step forward in the Chang'e-5 mission, the third consecutive safe soft landing on the moon in seven years.&nbsp;</p><p>The Chang'e-5 flag presentation system was developed by China Space Sanjiang Group under the State-owned China Aerospace Science and Industry Corporation, better known as the CASIC.</p><p>To ensure a complete and smooth unfolding of the flag, the system adopted a secondary rod-type structure, which is applied in solar panel extending for satellites and other types of spacecraft, CASIC developers told the Global Times on Thursday.</p><center>
</center><p>The system weight has been controlled at around one kilogram, and all connecting parts of the system have been given special protection, such as coldness-resistance measures, to help overcome unfavorable lunar surface conditions, including a drastic temperature difference on the moon ranging from 150 C to minus 150 C, Li Yunfeng, the project leader, said in a statement the CASIC company sent to the Global Times.</p><p>"An ordinary national flag on Earth would not survive the severe lunar environment," so the research team also spent more than a year selecting the proper materials to make sure the eventual flag would be strong enough, survive under extreme coldness and heat and capable of showing the fine colors of the national flag and remain so forever, said Cheng Chang, another leading member of the developer team.</p><p>The national flag, 2,000 millimeters wide and 900 millimeter tall, represents cutting-edge technology, they said.</p><p>How to preserve its original color and shape are the two most crucial questions in designing a national flag that must survive more than 380,000 kilometers away from Earth, under extreme temperatures and radiation during its journey, Wang Ya'nan told the Global Times.&nbsp;</p><p>To get a sense of how difficult the task it is, five of the six flags (except for the one Apollo 11 placed on the moon) brought to the moon in the late 1960s and early 1970s during six US crewed moon landings, have been bleached white due to decades-long solar radiation, although they are reportedly still standing and casting shadows.</p><p>Many reports say the Apollo 11 flag was blown over by the exhaust from the ascent engine during lift-off.</p><p>The Soviet Union was the first country to imprint its national symbol on the moon, with a football-sized metal ball, carved with its national flag, full of explosives, smashing to the lunar ground in the Luna 2 mission in 1959.</p><p>Compared to such a method, China has a more advanced approach, which also greatly increased the complexity of the design, Wang noted.</p><center><strong><img src="https://www.globaltimes.cn/Portals/0/attachment/2020/2020-12-01/bb881cd5-4e1a-4040-8160-b364db57d633.jpeg"></strong></center>
<p>A panorama of the moon's surface by the lander-ascender combination of China’s Chang’e-5 probe after its smooth moon landing on Tue Photo: CNSA</p><p><strong>Iconic inspiration</strong></p><p>The Chinese flag that Chang'e-5 displayed officially became the first and only fabric national flag that has ever been placed on the moon in the 21st century, which reminds many of the classic footage of an American national flag planted by Neil Armstrong in the Apollo 11 lunar mission more than five decades ago, observers said.</p><p>And they hailed that as the fresh and new icon of human's lunar exploration, the Chinese national flag would inspire today's mankind, just as Apollo 11 did, encourage and celebrate generations to make an endeavor to space.&nbsp;</p><p>Displaying a national flag on a celestial body represents the comprehensive strength and technological advancement of the country, Song noted.&nbsp;</p><p>&nbsp;"Yesterday's memory is still fresh and clear, when the US astronauts stepped outside their cabins and planted the first flag in human history, an American national flag, on the moon in 1969," Song Zhongping recalled. "But China is about to showcase our own national flag as well, which I believe is a recognition of the achievements and breakthroughs that we have made, which will be the most valuable thing."</p><p>Some readers have left comments under images and video of the Chang'e-5 landing published on the Global Times twitter account in recent days, saying they would not be convinced and acknowledge China's achievements until the lander takes an actual photo of the American flag planted by the previous Apollo mission.&nbsp;</p><p>"Is it an original video, or a TikTok post taken in the Gobi desert," one Twitter user wrote. "Where is the lunar dust while landing," another asked.</p><p>The landing was closely followed by space agencies from all over the world, and the European Space Agency, Russia's Roscosmos and …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.globaltimes.cn/content/1208931.shtml">https://www.globaltimes.cn/content/1208931.shtml</a></em></p>]]>
            </description>
            <link>https://www.globaltimes.cn/content/1208931.shtml</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300640</guid>
            <pubDate>Fri, 04 Dec 2020 09:48:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I made 24 high-quality Covid illustrations. Free for commercial and personal use]]>
            </title>
            <description>
<![CDATA[
Score 307 | Comments 113 (<a href="https://news.ycombinator.com/item?id=25300594">thread link</a>) | @andyydao
<br/>
December 4, 2020 | https://www.pixeltrue.com/frontliner-heroes | <a href="https://web.archive.org/web/*/https://www.pixeltrue.com/frontliner-heroes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  
<div data-collapse="small" data-animation="default" data-duration="400" role="banner"><div data-w-id="829bd4f8-a52c-9bed-f351-1f1c429ebfb2"><p><a href="#" id="w-node-1f1c429ebfb3-a3ea6df0"><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50a7fc8b859794cc27d27_COVID%20Logo.svg" loading="lazy" alt=""></a></p><div id="w-node-1f1c429ebfb6-a3ea6df0"><p><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50a7fc8b859446ec27d28_Logo%20no%20background.png" loading="lazy" sizes="(max-width: 767px) 100vw, (max-width: 1439px) 20px, (max-width: 1919px) 25px, 30px" srcset="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50a7fc8b859446ec27d28_Logo%2520no%2520background-p-500.png 500w, https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50a7fc8b859446ec27d28_Logo%2520no%2520background-p-800.png 800w, https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50a7fc8b859446ec27d28_Logo%2520no%2520background-p-1080.png 1080w, https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50a7fc8b859446ec27d28_Logo%20no%20background.png 1214w" alt=""></p></div></div></div><div><div data-w-id="f1207815-d48c-2550-8aa6-2af2cd0d2c1b"><p data-w-id="f1207815-d48c-2550-8aa6-2af2cd0d2c1c">Frontliner Heroes</p><p>24 high-quality Covid illustrations. Free for commercial and personal use.</p></div><p><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50b2c6728188179a7570d_Hero%20Illustration.svg" loading="eager" width="462" data-w-id="f1207815-d48c-2550-8aa6-2af2cd0d2c20" alt=""><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50b2c672818d125a7570c_Background.svg" loading="lazy" data-w-id="f1207815-d48c-2550-8aa6-2af2cd0d2c21" alt=""></p></div><div><div><div><div><p>Frontliner Heroes comes with exciting scenes that are commonly used to stop the spread of COVID. In addition, we'll be continually adding new illustration to this pack!</p></div></div></div></div><div><p><h2>24 Illustrations to fight against COVID!</h2></p></div><div><div><h2>Sample Applications</h2><p>These illustrations are perfect for any type of project. Simply Drag and drop them in and you're ready to go!</p></div><p><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50b4456b3fd49b0f42063_Sample%20Applications.svg" loading="eager" alt=""></p></div><div><p><h2>Awesome Features</h2></p><div id="benefits"><div><div><p><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50b54fe9410cacea1ebe4_Group%2084.png" alt=""></p><div><h3>Fully Vector<br></h3><p>All illustrations are fully vector meaning you can enlarge illustrations without quality loss<br></p></div></div><div><p><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50b54fe94105ee6a1ebe8_Group%20174.svg" alt=""></p><div><h3>Customizable<br></h3><p>Easily change illustration scenes to match your brand using common programs like Sketch and Figma.<br></p></div></div><div><p><img src="https://uploads-ssl.webflow.com/5dd3495558fd7f3d1fcb52bc/5fc50b54fe9410876ca1ebe6_Group%20148.png" alt=""></p><div><h3>Different File Formats<br></h3><p>With our Frontliners pack you'll get access to all source files - this includes SVG, PNG&nbsp;and AI&nbsp;files.<br></p></div></div></div></div></div><!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->





<!-- Memberstack --> 
 








<meta name="p:domain_verify" content="efd5329f8b1be336c6381d60a312999c">



<!-- Facebook Pixel Code -->


<!-- End Facebook Pixel Code -->


<!-- Global site tag (gtag.js) - Google Analytics -->














</div>]]>
            </description>
            <link>https://www.pixeltrue.com/frontliner-heroes</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300594</guid>
            <pubDate>Fri, 04 Dec 2020 09:40:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I cannot convince Twitter that I am human]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25300445">thread link</a>) | @gregdoesit
<br/>
December 4, 2020 | https://www.swyx.io/proving-our-humanity/ | <a href="https://web.archive.org/web/*/https://www.swyx.io/proving-our-humanity/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>If you swung by my Twitter profile in the last week, you probably saw this:</p>
<p>
  <img src="https://dev-to-uploads.s3.amazonaws.com/i/olflh5jfvk5clb15p5z9.png" alt="Alt Text">
</p>
<p>I'm not sure of the precise causes of me being locked out, but I have several abnormal usage factors that probably put me on the high end of Twitter's bot risk system:</p>
<ul>
  <li>I currently live in Singapore but am primarily active during US hours and have a US Phone Number</li>
  <li>I post about 30 tweets a day, probably on the high end of most Twitter users. (30 sounds like a lot, but it's mostly replies, and I maybe post 2-3 actual top tweets a day)</li>
  <li>I switch between and manage three different accounts (<a href="https://twitter.com/Coding_Career">Coding Career</a> and <a href="https://twitter.com/SvelteSociety">Svelte Society</a>) multiple times a day</li>
  <li>As far as I know I have not been reported on, but I do have people that strongly dislike me and they may have used the report button against me. Can't rule that out as a factor.</li>
  <li>Anecdotally <a href="https://twitter.com/b2m9/status/1295748479713779712?s=20">some IPs seem more risky</a> than others - I also use a VPN for work which probably shows me jumping across multiple countries in a single day, which is certainly suspicious on the face of it</li>
  <li>I have also noticed I get verification checks more often when I use scheduled tweets.</li>
</ul>
<p>If you clicked through my scary profile you also saw this:</p>
<p>
  <img src="https://dev-to-uploads.s3.amazonaws.com/i/6xjg8jxiwgidwffvwsnu.png" alt="Alt Text">
</p>
<p>I swear that I haven't mass unfollowed everybody! Most people see this and assume that I used some script to mass unfollow everyone and therefore got flagged as a bot. <strong>The reality is the exact opposite</strong> - I got flagged as a bot, and by default Twitter temporarily removes all follows.</p>
<p>It will be restored once I regain my Twitter account (I've filed a support ticket and am trying to reach out to friends at Twitter for help), but this is the exact user experience I wanted to talk about for this post.</p>
<p>First, a quick detour for a personal anecdote.</p>
<section>
  <h2 id="aside-my-time-as-a-cuban-detainee"><a href="#aside-my-time-as-a-cuban-detainee">Aside: My Time As A Cuban Detainee</a></h2>
  <p>A long time ago I visited Havana with some college friends. Right after landing we headed into a restaurant, all our luggage in tow. After we were done eating, I stood up and turned around - only to find all my luggage gone! Someone had stolen it while we were eating. The restaurant staff of course swore up and down that they had not seen who had taken it.</p>
  <p>Losing all your luggage on day 1 of a weeklong trip sucks, but what is worse is that <strong>my passport was in my luggage</strong>. I needed it to head back to the US at the end of my trip.</p>
  <p>If you've never lost a passport while traveling before, it's a quick trip to bureaucratic hell. If your country has an embassy where you are traveling, you can usually get it reissued in the embassy. But we were in <em>Cuba</em> - and my country had no embassy here. We reported my case to the authorities, but they had no idea what to do. I was an edge case. Worse still, because I said I had come from the US and couldn't produce any papers to prove my identity, I was detained at the police headquarters for questioning on suspicion of being a spy. (<em>I was never really at any risk - being Asian and speaking poor Spanish, I would have made for a pretty lousy spy</em>).</p>
  <p>There was a lot to figure out over the ensuing <em>month</em> of my ordeal - money, lodging, language barriers, administrative hurdles. My family and friends hit the panic button for me and my case reached the ears of both Arlen Specter on the US Senate Foreign Relations Committee and George Yeo, the Singapore Foreign Affairs Minister. We eventually worked it out, but every night for 4 weeks I would wander up and down <a href="https://en.wikipedia.org/wiki/Malec%C3%B3n,_Havana">the Malecón</a>, listening to the crashing waves, not knowing when I could ever leave the country. If I could swim <a href="https://en.wikipedia.org/wiki/Southernmost_point_buoy">the 90 miles to Key West</a> and <a href="https://en.wikipedia.org/wiki/Wet_feet,_dry_feet_policy">dry my feet</a>, I might theoretically make it back to the US on my own.</p>
  <p>
    <img src="https://dev-to-uploads.s3.amazonaws.com/i/3i8nh2cgaoj3jlrl9ecm.jpg" alt="Alt Text">
  </p>
  <p>But most of all, I thought a lot about <strong>the humanity of having a piece of paper be more important than the human it represents</strong>. I could be physically standing in front of the immigration officer with a lie detector test on and steadfastly stating all manner of provable personal detail, and they would not let me through unless I had a small piece of paper the size of my hand.</p>
  <p>We do this a lot - passports, voter registration cards, national ID systems, licenses, and insurance proofs - mostly because some humans are untrustworthy and try to exploit the system.</p>
  <p>But we often fail to design for people who are innocent and simply don't fit the system in some way.</p>
</section>
<section>
  <h2 id="the-consequences-of-not-being-provably-human"><a href="#the-consequences-of-not-being-provably-human">The Consequences of Not Being Provably Human</a></h2>
  <p>Twitter has a way in which they expect you to verify you are human - you should get a call or text message with a code, that you then enter to prove humanity. This is what I normally get (about once every 1-2 months), and I can receive text messages from Twitter, so I can usually prove humanity with no issue.</p>
  <p>This time, for some reason, I am on a code path that doesn't offer a text message option, and Twitter somehow doesn't make international US number calls, leading to this infinite loop that I think is a bug:</p>
  
  <p>As a result of this unfortunate design:</p>
  <ul>
    <li>My friends think I mass unfollowed them, because Twitter temporarily reduced my follow count to 0</li>
    <li>People who DM me think I am ignoring them, because Twitter doesn't inform them that I am currently locked out</li>
    <li>None of my past tweets show up at all in <a href="https://twitter.com/search?q=from%3Aswyx&amp;src=typed_query">Twitter search</a>, which is problematic because I <a href="https://twitter.com/swyx/status/1245281982797373441?lang=en">use Twitter as a Second Brain</a>. If you read any of my blogposts, you will see that the rich link density of my references mainly come from taking notes in public over an extended period of time.</li>
    <li>I was unable to engage in the normal personal and professional activity I would do during Black Friday and AWS Re:invent</li>
  </ul>
  <p>I've filed a support ticket with Twitter, but you can imagine that support for a 330 million user service isn't very responsive. People who have been through this tell me the only way to resolve it is to hit up a Twitter employee to get past the masses of unrelated and less urgent support issues.</p>
</section>
<section>
  <h2 id="humans-proving-humanity-to-machines"><a href="#humans-proving-humanity-to-machines">Humans Proving Humanity To Machines</a></h2>
  <p>In the grand scheme of things, I know this is minor. I've actually taken it as a welcome social media detox, which I usually take voluntarily in December anyways. But when it's not on my terms, I lose the ability to manage the personal and professional relationships I've painstakingly built up over the past 3-4 years.</p>
  <p>Above all, I think there's an <em>indignity</em> in humans having to prove to machines that they are human, and the error resolution mechanism is to send a ticket to a faceless and unresponsive support email, and the only real way to get around it is again to re-establish human connections.</p>
  <p>I think more about all the other ways that we as software developers and designers fail to honor the dignity of humans trying to interact with the systems we create.</p>
  <p><a href="https://www.theverge.com/2019/2/1/18205610/google-captcha-ai-robot-human-difficult-artificial-intelligence">In 2014</a>, Google pitted one of its machine learning algorithms against humans in solving the most distorted text CAPTCHAs: the computer got the test right 99.8 percent of the time, while the humans got a mere 33 percent. It doesn't impact everyone equally - if you as a sighted, able bodied user struggle with CAPTCHAs, imagine the elderly or differently abled. Most services do not offer any alternative resolution when you cannot prove you are human. This is a problem when your service has essentially killed off the offline alternative and is essential for their basic needs.</p>
  <p>In Eric Meyer's <a href="https://meyerweb.com/eric/thoughts/2016/01/25/designing-for-crisis-design-for-real-life/">Designing for Crisis</a>, he describes how an inaccessible hospital website nearly risked the life of his daughter. I shudder to think how it might be made worse by perfectly well meaning software engineers who don't think about the humanity of the failure path. Imagine if you had to log in to something to save your child's life, and it presented you with a CAPTCHA you couldn't pass.</p>
  <hr>
  <p><em>Update: <a href="https://twitter.com/swyx/status/1334901024201445376?s=20">I've been helped</a>, thank you for reaching out. In case you were wondering what it looks like from Twitter's side, this is what they emailed:</em></p>
  <p>
    <img src="https://dev-to-uploads.s3.amazonaws.com/i/wgdlczuq2k5ay8uhql2q.png" alt="Alt Text">
  </p>
</section>
</div></div>]]>
            </description>
            <link>https://www.swyx.io/proving-our-humanity/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300445</guid>
            <pubDate>Fri, 04 Dec 2020 09:11:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Case for Elixir]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25300420">thread link</a>) | @bendiksolheim
<br/>
December 4, 2020 | https://functional.christmas/2020/4 | <a href="https://web.archive.org/web/*/https://functional.christmas/2020/4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>Today I want to give you an introduction to the programming language Elixir, some of its features and why you might want to check it out!</p>
</section><article><section><h2>The basics</h2>
<p>First things first: Elixir is a concurrent functional language that runs on the Erlang VM. It is inspired by many different languages where Ruby and Erlang are most obvious ones based on the syntax.</p>
<p>Elixir is a <a href="https://thinkingelixir.com/elixir-in-the-type-system-quadrant/">strong, dynamically typed language</a>. This puts it in the same category as Ruby and Python and it has optional functionality for compile time type checking as well.Elixirs data structures are immutable, but variables can be reassigned/rebound. <sup><sup id="fnref-2"><a href="#fn-2">2</a></sup></sup> This was a bit strange for me in that I got started with FP through Elm where there are no variables, just constants.</p>
<p>Elixir inherits a lot its data structures and related syntax from Erlang which in many ways is its biggest influence. <a href="https://elixir-lang.org/blog/2013/08/08/elixir-design-goals/">Elixir Design Goals</a> describes the relation to Erlang like this:</p>
<blockquote>
<p>Elixir is meant to be compatible with the Erlang VM and the existing ecosystem. When we talk about Erlang, we can break it into three parts:</p>
<ul>
<li>A functional programming language, called Erlang</li>
<li>A set of design principles, called OTP (Open Telecom Plaform)</li>
<li>The Erlang Virtual Machine, referred to as EVM or BEAM</li>
</ul>
<p>Elixir runs in the same virtual machine and is compatible with OTP. Not only that, all the tools and libraries available in the Erlang ecosystem are also available in Elixir, simply because there is no conversion cost from calling Erlang from Elixir and vice-versa.</p>
</blockquote>
<p>This is a great feature of Elixir that we will talk more about later.</p>
<p>As for other inspirations Elixir has docstrings from Python, polymorphism and protocols from Clojure, macros and meta-programming from different Lisps, just to name a few. <sup><sup id="fnref-1"><a href="#fn-1">1</a></sup></sup></p>
<h3>Hello World!</h3>
<p>As I said, Elixir is a concurrent functional programming language. For the functional part it means that Elixir mainly uses functions and modules for code structure and has other features that are associated with functional languages. We'll talk about the concurrent part later. </p>
<p>A hello world example in Elixir might look something like this:</p>
<div data-language="elixir"><pre><code><span>defmodule</span> HelloWorld
  <span>def</span> hello_world <span>do</span>
    IO<span>.</span>puts<span>(</span><span>"Hello, World!"</span><span>)</span>
  <span>end</span>
<span>end</span></code></pre></div>
<p>Here we define a module with a function that simply writes "Hello, World!" to the console.</p>
<h2>Killer applications</h2>
<p>Many programming languages has <a href="https://en.wikipedia.org/wiki/Killer_application">"killer apps"</a>; libraries, frameworks and use cases, that in themself are enough to justify the transition to the language or try it out. For Ruby it was the web framework Ruby on Rails and in many ways Elixir has its own Rails: Phoenix.</p>
<h3>Phoenix web framework</h3>
<p><a href="https://www.phoenixframework.org/">Phoenix</a> is inspired by Rails (the team originally behind Elixir was previously a Ruby shop) and was an early addition to the Elixir community. The creators of Phoenix has learned from years of Rails development and made their own opinions in addition to the natural changes needed when going from an object oriented language to a functional language.
Compared to Rails Phoenix has with the help of the Erlang VM great performance. Some of you might have heard about Phoenix' amazing <a href="https://www.phoenixframework.org/blog/the-road-to-2-million-websocket-connections">2 million simultaneous web sockets</a> benchmark!</p>
<h3>The Nerves Project</h3>
<p>Another interesting project in the Elixir ecosystem is the embedded/IoT project <a href="https://www.nerves-project.org/">Nerves</a>. Nerves makes it possible to use Elixir code to create embedded system where previously you would have had to use a low level language like C. This does not stop you from bringing your own code (like C, C++, Python, Rust, and more) while using Nerves as a platform for your IoT project.
The project web site says:</p>
<blockquote>
<p>Nerves is a complete IoT platform and infrastructure for you to build and deploy maintainable embedded systems.</p>
</blockquote>
<h2>The BEAM and OTP</h2>
<p>When talking about the advantages of Elixir it is hard to not talk about the advantages of Erlang and its virtual machine, the BEAM (Bogdan's Erlang Abstract Machine). It is in many ways the biggest selling point for Elixir. We are now talking about the concurrent part of Elixir. Erlang and the BEAM has shown its resiliency over many years, exemplified in giving Ericsson 9 nines (99.9999999%) availability in their AXD301 switch.<sup><sup id="fnref-3"><a href="#fn-3">3</a></sup></sup> It is known for its "let it break" philosophy and self-healing properties and by being compatible with Erlang, Elixir inherits a lot of these traits.</p>
<p>Elixirs creator, Jose Valim, attributes one of the motivational factors for the creation of Elixir to the rise of multi-core CPUs and the need to utilize these. Ruby and other languages with a global interperter lock (GIL) limits this, but the Erlang VM and the tools and design prinsiples of OTP have proven to be a great choice for creating concurrent, performant and resilient applications.</p>
<h3>Everything is a process</h3>
<p>Everything in the BEAM is a process. These are not OS processes, but lightweight processes which can be cheaply spawned and killed. In his PhD thesis the co-inventor of Erlang, Joe Armstrong, summarized Erlangs principles regarding processes:</p>
<blockquote>
<ul>
<li>Everything is a process.</li>
<li>Processes are strongly isolated.</li>
<li>Process creation and destruction is a lightweight operation.</li>
<li>Message passing is the only way for processes to interact.</li>
<li>Processes have unique names.</li>
<li>If you know the name of a process you can send it a message.</li>
<li>Processes share no resources.</li>
<li>Error handling is non-local.</li>
<li>Processes do what they are supposed to do or fail.</li>
</ul>
</blockquote>
<p>Sidenote: For some this may sound vaguely familiar. Some object oriented languages has had similar principles, but instead of processes they are applied to objects. Smalltalk is reported to be one of the inspirations to Erlang and it is fun to think about Erlang being a functional language but still be more object oriented than some object oriented languages. This is of course not the case as the definition of OOP has changed over time and Erlang is a functional language, but it is fun to ponder the similarities. 😄 Back to the main story! 😅</p>
<p>These unique principles for processes where they communicate through messages lays a great foundation for creating concurrent application, but there is one more piece to the puzzle: OTP.</p>
<h3>OTP - The Open Telecom Platform</h3>
<p>As with so many other parts of this article OTP is a big topic and could be a separate article, but I'll try make it short! Today the name is a bit strange but it was created by Ericsson for their telephone switches in the 80s and 90s so in that context in makes more sense.</p>
<p>OTP is an integral part of many Erlang applications. In essence OTP is a set of design principles and standards including tools and libraries to make it easier to create applications that adheres to them.<sup><sup id="fnref-4"><a href="#fn-4">4</a></sup></sup> </p>
<p>Since Elixir is compatible with OTP we can leverage these principles and technologies that has been battle tested in high-pressure and critical applications for decades!</p>
<h2>The take-away</h2>
<p>Luckily you don't need to understand or know much about Erlang, BEAM and OTP.
Without deep knowledge of these topics you can still reap the benefits of highly performing web applications and resilient IoT applications. It would certainly help but it is not a prerequisite. This is the great thing about Elixir: it is an approachable language with battle tested underpinnings! 💪</p>
<p>It might not be your idea of a perfect language. It is not mine either, but that does not stop me from using the great tools at my disposal. If you are all into Haskell or the likes it might not be something you would use and that is OK. Whatever your preferences are you might now know a little more about Elixir and Erlang and some more knowledge is always a good thing. 😄</p>
<p>If you would like to check Elixir out I recommend checking out <a href="https://elixir-lang.org/getting-started/introduction.html">the official Getting started guide</a> or the interactive guide <a href="https://try-elixir.herokuapp.com/">Try Elixir</a> and then trying out a project with Phoenix or Nerves. Hands-on experience is always better than something you read on the internet! 🤓</p>
<p>Psst! By the way: there are other languages that run on the BEAM. <a href="https://lfe.io/">Lisp variants</a> and lately some work on <a href="https://gleam.run/">strong statically compiled ML-like languges</a> if you are into that!</p>
</section></article></div>]]>
            </description>
            <link>https://functional.christmas/2020/4</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300420</guid>
            <pubDate>Fri, 04 Dec 2020 09:06:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Self-host your fonts for better performance]]>
            </title>
            <description>
<![CDATA[
Score 577 | Comments 386 (<a href="https://news.ycombinator.com/item?id=25300396">thread link</a>) | @zwacky
<br/>
December 4, 2020 | https://wicki.io/posts/2020-11-goodbye-google-fonts/ | <a href="https://web.archive.org/web/*/https://wicki.io/posts/2020-11-goodbye-google-fonts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<div>
  <div>
    <div>
      
      <p>
        
          November 30, 2020
        
      </p>

      <figure>
    <img src="https://wicki.io/posts/2020-11-goodbye-google-fonts/goodbye-google-fonts.jpg" alt="Google Fonts"> 
</figure>

<p>I’ve used Google Fonts in prototypes and in 10M+ MAU products. It’s incredibly easy to get started with and provides an amazing font discovery. That’s also why it’s currently still used on over <a href="https://trends.builtwith.com/websitelist/Google-Font-API">42M websites</a>!</p>
<p>This convenience has its price: Performance. Many <a href="https://blog.cloudflare.com/fast-google-fonts-with-cloudflare-workers/">have</a> <a href="https://medium.com/clio-calliope/making-google-fonts-faster-aadf3c02a36d">already</a> <a href="https://www.keycdn.com/blog/web-font-performance#disadvantages-of-web-fonts">pointed</a> <a href="https://blog.logrocket.com/self-hosted-fonts-vs-google-fonts-api/">out</a> the cost of multiple requests. If you want the remaining speed boost, then you’re best off downloading your used Google Fonts and self-host them.</p>
<p>This is nothing new. In fact it’s been advocated already for years. Even Google themselves <a href="https://www.youtube.com/watch?v=Mv-l3-tJgGk&amp;feature=youtu.be&amp;t=24m58s">advised others to self-host fonts</a> in their Google I/O ‘18 talk about web performance.</p>
<h2 id="self-hosting-fonts-vs-google-fonts">Self-hosting fonts vs Google Fonts</h2>
<p>By nature Google Fonts, even with all its font and CSS optimisations, can’t be faster than self-hosted fonts.</p>
<p>Sia wrote <a href="https://medium.com/clio-calliope/making-google-fonts-faster-aadf3c02a36d">a great post</a> where she compared the performance between Google Fonts and self-hosted fonts without the impact of a CDN.</p>
<figure>
    <img src="https://wicki.io/posts/2020-11-goodbye-google-fonts/with-google-fonts.png" alt="Network flow with Google Fonts"> <figcaption>
            <p>Optimised Google Fonts loading with preconnect</p>
        </figcaption>
</figure>

<figure>
    <img src="https://wicki.io/posts/2020-11-goodbye-google-fonts/without-google-fonts.png" alt="Network flow with self-hosting fonts"> <figcaption>
            <p>Optimised self-hosting fonts with preload</p>
        </figcaption>
</figure>

<hr>
<h2 id="the-old-performance-argument">The old performance argument</h2>
<p>So if the bottom-line performance is in self-hosting fonts’ favour: What was the argument that convinced us developers that Google Fonts is at least as performing as the self-host approach?</p>
<p>Google Fonts was designed to be distributed on a global CDN and reap the caching benefits from it. Users request fonts via said CDN. Chances are that they have downloaded the font resources at an earlier point already from a different site.</p>
<blockquote>
<p>“[…] Our cross-site caching is designed so that you only need to load a font once, with any website, and we’ll use that same cached font on any other website that uses Google Fonts.”</p>
<p>— <a href="https://fonts.google.com/about">https://fonts.google.com/about</a></p>
</blockquote>
<h2 id="invalidating-the-old-performance-argument">Invalidating the old performance argument</h2>
<p>Since Chrome v86, released October 2020, cross-site resources like fonts can’t be shared on the same CDN anymore. This is due to the partitioned browser cache (Safari has had this for years already).</p>
<p>In <a href="https://developers.google.com/web/updates/2020/10/http-cache-partitioning">this Google post</a> they explain what the partitioned browser cache is. It got only introduced to prevent a possible cross-site tracking mechanism.</p>
<h2 id="cache-partitioning-in-other-browsers">Cache partitioning in other browsers</h2>
<p>Safari really cares about privacy. It circumvented this very cross-site tracking attack for years already. Then finally comes Chrome. Other browsers that are based off Chromium, still need to signal or implement the feature.</p>
<ul>
<li>✅ <strong>Chrome</strong>: since v86 (October 2020)</li>
<li>✅ <strong>Safari</strong>: since 2013</li>
<li>🚫 <strong>Firefox</strong>: planning to implement</li>
<li>🚫 <strong>Edge</strong>: most likely soon</li>
<li>🚫 <strong>Opera</strong>: most likely soon</li>
<li>🚫 <strong>Brave</strong>: most likely soon</li>
<li>🚫 <strong>Vivaldi</strong>: most likely soon</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Google Fonts resources will be redownloaded for every website, regardless it being cached on the CDN. Self-host your fonts for better performance. The old performance argument is not valid anymore.</p>
<p>Thanks for checking this post out!</p>


      
      <hr><div>
  <p><img src="https://wicki.io/images/me_huc890d15b6e9f2ce8978e9aa27127dd5e_67203_350x0_resize_q75_box.jpg" alt="Simon Wicki">
    
  </p>

  <div>
    <div>
      <p>
        <strong>Simon Wicki</strong> is a Freelance Frontend Developer in
				Berlin. Passionate and fluent in Vue, Angular, React and Ionic. Interested in 
				Tech, frontend &amp; non-fiction books
      </p>
      <p>
        <a href="https://twitter.com/zwacky" onclick="ga('send', 'event', 'clickout', 'bottom_cta', '\/posts\/2020-11-goodbye-google-fonts\/')" target="_blank">
          <img src="https://wicki.io/images/svg/twitter.svg" alt="Twitter" title="Twitter">
          Follow @zwacky
        </a>
      </p>
    </div>
  </div>
</div>

    </div>
  </div>
</div>


        </div></div>]]>
            </description>
            <link>https://wicki.io/posts/2020-11-goodbye-google-fonts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300396</guid>
            <pubDate>Fri, 04 Dec 2020 09:01:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Neobanks Should Monetize Status Signaling]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25300377">thread link</a>) | @julian_digital
<br/>
December 4, 2020 | https://julian.digital/2020/12/03/banking-on | <a href="https://web.archive.org/web/*/https://julian.digital/2020/12/03/banking-on">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://julian.digital/2020/12/03/banking-on</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300377</guid>
            <pubDate>Fri, 04 Dec 2020 08:58:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Invention Agreements can be Unenforceable Covenants not to compete]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25300244">thread link</a>) | @genericone
<br/>
December 4, 2020 | https://www.hkemploymentlaw.com/blog/invention-agreements-can-be-unenforceable-covenants-not-to-compete/ | <a href="https://web.archive.org/web/*/https://www.hkemploymentlaw.com/blog/invention-agreements-can-be-unenforceable-covenants-not-to-compete/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.hkemploymentlaw.com/blog/invention-agreements-can-be-unenforceable-covenants-not-to-compete/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300244</guid>
            <pubDate>Fri, 04 Dec 2020 08:27:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Project Loom and Structured Concurrency]]>
            </title>
            <description>
<![CDATA[
Score 166 | Comments 97 (<a href="https://news.ycombinator.com/item?id=25300233">thread link</a>) | @ingve
<br/>
December 4, 2020 | https://www.javaadvent.com/2020/12/project-loom-and-structured-concurrency.html | <a href="https://web.archive.org/web/*/https://www.javaadvent.com/2020/12/project-loom-and-structured-concurrency.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
							
<h2>Why Loom?</h2>
<p>In 1998, it was amazing that the Sun Java Web Server (the precursor of Tomcat) ran each request in a separate thread, and not an OS process. It was able to serve thousands of concurrent requests this way! Nowadays, that’s not so amazing. Each thread takes up a significant amount of memory, and you can’t have millions of threads on a typical server.</p>
<p>That’s why the modern mantra of server-side programming is: “Never block!” Instead, you specify what should happen once the data is available.</p>
<p>This asynchronous programming style is great for servers, allowing them to handily support millions of concurrent requests. It isn’t so great for programmers.</p>
<p>Here is an asynchronous request with the <code>HttpClient</code> API:</p>
<pre>HttpClient.newBuilder()
   .build()
   .sendAsync(request, HttpResponse.BodyHandlers.ofString())
   .thenAccept(response -&gt; . . .);
   .thenApply(. . .);
   .exceptionally(. . .);
</pre>
<p>What we would normally achieve with statements is now encoded as method calls. If we loved this style of programming, we would not have statements in our programming language and merrily code in Lisp.</p>
<p>In JavaScript, code tagged as “async” is rewritten into method calls like the ones that you’ve just seen. But that means you can only call async methods from other async methods, and your API splits into a sync and an async part, forcing you to duplicate functionality.</p>

<p>Project Loom takes its guidance from languages such as Erlang and Go, attacking the root of the problem by making blocking very cheap. You run tasks in “virtual threads”, a nearly unlimited resource that is mapped into actual “carrier” threads. When a virtual thread blocks, it is “parked” and another virtual thread runs on the carrier thread. The name is supposed to remind you of virtual memory that is mapped to actual RAM.</p>
<p>Before you complain about the name, remember that naming is hard. The Loom team previously tried “fiber”, but it is already used elsewhere with a slightly different meaning. And “lightweight” or “new” thread might look foolish when something lighter-weight or newer comes along.</p>
<p>After experimenting with separate classes for OS threads and virtual threads, they ended up deciding to use a single class for both—the familiar <code>java.lang.Thread</code>—in order to ease migration.</p>
<p>Of course, good old <code>java.lang.Thread</code>, which has been around for 25 years, ever since Java 1.0, has its share of cruft. Awkward cancellation, thread groups, priorities, depreceated methods <code>stop</code>,<code>suspend</code>, <code>resume</code>. The Loom team felt that these liabilities were minor since most programmers never explicitly use the <code>Thread</code> API but launch tasks with an <code>ExecutorService</code>. (Of course, the same argument would support coming up with a cleaner virtual thread API instead.)</p>
<p>If you have been around for a very long time, you may remember that early versions of Java had “green threads” that were mapped to an OS thread. However, there is a crucial difference. When a green thread blocked, its carrier thread was also blocked, preventing all other green threads from making progress.</p>

<p>You can download binaries of Project Loom at <a href="http://jdk.java.net/loom/">http://jdk.java.net/loom/</a>. They are updated regularly.</p>
<p>As already mentioned, a virtual thread is an object of the <code>Thread</code> class. Here are three ways of producing fibers. First, there is a new factory method that constructs and starts a virtual thread:</p>
<pre>Thread thread = Thread.startVirtualThread(runnable);
  // <cite>Note that the thread is already started</cite></pre>
<p>This is good for demos, tutorials or quick-and-dirty experiments in JShell.</p>
<p>For more customization, there is a builder API:</p>
<pre>Thread thread = Thread.builder()
   .virtual()
   .name(taskname)
   .task(runnable)
   .build();</pre>
<p>However, as you have been told for many years now, it is better to use an executor service than to manually construct <code>Thread</code> instances. The static method <code>Executors.newVirtualThreadExecutor()</code> provides one. (The existing executor services are not useful for virtual threads. It would be counterproductive to pool them!)</p>
<p>For example,</p>
<pre>ExecutorService exec = Executors.newVirtualThreadExecutor();
exec.submit(runnable1);
exec.submit(runnable2);
</pre>
<p>As with the other factory methods in the <code>Executors</code> class, you can optionally supply a <code>ThreadFactory</code>. And the new <code>Thread.Builder</code> class has an easy way to provide a factory, instead of a single instance:</p>
<pre>ThreadFactory factory = Thread.builder()
   .virtual()
   .name(taskname)
   .task(runnable)
   .<b>factory()</b>;

ExecutorService exec = Executors.newThreadExecutor(factory);
</pre>
<p>Let’s try this out. As a first test, we just sleep in each task.</p>
<pre>import java.util.concurrent.*;

public class Test {
   public static int DELAY = 10_000;
   public static int NTASKS = 1_000_000;

   public static void run(Object obj) {
      try {
         Thread.sleep((int) (DELAY * Math.random()));
      } catch (InterruptedException ex) {
         ex.printStackTrace();
      }
      System.out.println(obj);
   }

   public static void main(String[] args) {
      ExecutorService exec = Executors.newVirtualThreadExecutor();
      for (int i = 1; i &lt;= NTASKS; i++) {
         String taskname = "task-" + i;
         exec.submit(() -&gt; run(taskname));
      }
      exec.close();
   }
}
</pre>
<p>Run the program and it just works. Then try using OS threads—change to <code>Executors.newCachedThreadPool()</code> or <code>Executors.newFixedThreadPool(NTASKS)</code>. The program will run out of memory; on my laptop, after about 25,000 threads.</p>
<p>Ok, but in practice, you don’t want to sleep, but do useful work. Consider a program adapted from one of <a href="https://www.javaspecialists.eu/about/heinz/">Heinz Kabutz</a>‘ puzzlers, The program fetches a daily image, from Dilbert or Wikimedia. It consists of classes <a href="http://horstmann.com/unblog/2019-07-27/dailyImages/ImageProcessor.java"><code>ImageProcessor</code></a> and <a href="http://horstmann.com/unblog/2019-07-27/dailyImages/ImageInfo.java"><code>ImageInfo</code></a>. The code is an impenetrable maze of twisty passages, all alike (i.e. helper functions yielding completable futures).</p>
<p>With virtual threads, simply read web contents synchronously. It blocks, but we don’t care. All the complexity goes away. The control flow is simple and comprehensible.</p>
<pre>exec.submit(() -&gt; {
    String pageURL = info.getUrlForDate(date);
    String page = getSync(pageURL, HttpResponse.BodyHandlers.ofString());
    String imageURL = info.findImage(page).getImagePath();
    byte[] image = getSync(imageURL, HttpResponse.BodyHandlers.ofByteArray());
    info.setImageData(image);
    process(info);
    return null;
});</pre>
<p>Here is the simplified <a href="http://horstmann.com/unblog/2020-12-05/dailyImages/ImageProcessor.java"><code>ImageProcessor</code></a> code.</p>
<p><b>Pro tip: </b>The statement <code>return null;</code> makes the lambda into a <code>Callable</code> instead of a <code>Runnable</code>, so that you don’t have to catch checked exceptions 😜</p>
<p>Try this out with something you care about. Call web services and make database connections, without worrying about callbacks. When blocking is cheap, a whole lot of accidental complexity goes away. Of course, to use this in a web app framework, you’ll have to wait for your framework provider to run your code in virtual threads.</p>
<h2>Structured Concurrency</h2>
<p>In <a href="https://vorpus.org/blog/notes-on-structured-concurrency-or-go-statement-considered-harmful/">this highly recommended article</a> (from which the images below are taken), Nathaniel Smith proposes structured forms of concurrency. Here is his central argument. Launching a task in a new thread is really no better than programming with GOTO, i.e. harmful:</p>
<pre>new Thread(runnable).start();</pre>
<p><img src="http://horstmann.com/unblog/2019-12-05/sequential-and-go-to-schematic.svg" alt=".svg" width="38%"></p>
<p>When multiple threads run without coordination, it’s spaghetti code all over again. In the 1960s, structured programming replaced <code>goto</code> with branches, loops, and functions:</p>
<p><img src="http://horstmann.com/unblog/2019-12-05/control-schematics.svg" alt=".svg" width="42%"></p>
<p>When you look at a line of code, you know how the program got there.</p>
<p>Structured concurrency does the same for concurrent tasks. We should know, from reading the program text, when they all finish.</p>
<p><img src="http://horstmann.com/unblog/2019-12-05/nursery-schematic-unlabeled.svg" alt=".svg" width="30%"></p>
<p>That way we can control the resources that the tasks use, and we know when it is time to move on.</p>
<p>In Loom, the <code>ExecutorService</code> implements this basic construct. <code>ExecutorService</code> has a <code>close</code> method that blocks until all of its virtual threads have completed. (I used this method in the first sample program to keep <code>main</code> alive until all virtual threads are done. In the past, you had to call the <code>awaitTermination</code> method instead.)</p>
<p>Conveniently, <code>ExecutorService</code> implements the <code>AutoCloseable</code> interface, so that you can just use a <code>try</code>-with-resources statement:</p>
<pre>try (ExecutorService exec = Executor.newVirtualThreadExecutor()) {
   for (int i = 0; i &lt; NTASKS; i++) {
      exec.schedule(() -&gt; run(i));
   }
} // <cite>Blocks until all threads completed</cite>
</pre>
<p>I wrote a simple web crawler as a demonstration of virtual threads—here is the <a href="http://horstmann.com/unblog/2020-12-05/Crawler.java"><code>Crawler</code></a> class. In my first attempt, I fired off a new virtual thread for each URL in a page. If I had wanted to become Google, I could have let my crawler run forever. But I wanted to go no more than 3 hops from the starting point. With “fire and forget”, there is no way of knowing when the recursion is done.</p>
<p>Instead, for each page, I make a new executor service and wait for completion. That way, the whole program completes when all pages have been crawled.</p>
<p>This seems a lot of blocking. But in Loom, blocking is cheap, so we shouldn’t worry about that.</p>
<p>We are used to having one executor service as thread pool for all our tasks. But in Loom, you are encouraged to use a separate executor service for each task set.</p>
<h2>Deadlines</h2>
<p>When crawling the web, you are likely to encounter dead links. Reading from one should time out eventually, but it can take surprisingly long.</p>
<p>The standard remedy is, of course, to provide a timeout. Loom prefers deadlines to timeouts, so you specify</p>
<pre>ExecutorService exec = Executors.newVirtualThreadExecutor().withDeadline(
   Instant.now().plus(30, ChronoUnit.SECONDS))
</pre>
<p>Why deadlines? In general, timeouts compose poorly. Suppose you have to accomplish two sequential tasks with an overall timeout of 10 seconds. You don’t want to give each of the tasks a timeout of 5 seconds. After all, if one takes 6 seconds and the other 3 seconds, you still come in under the finish line. To get the timeout of the second task, you’d have to measure the duration of the first task and subtract that from the overall timeout. With deadlines, it is much simpler. Each task gets the same deadline.</p>
<p>The call <code>exec.close()</code> blocks until all virtual threads have completed or the …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.javaadvent.com/2020/12/project-loom-and-structured-concurrency.html">https://www.javaadvent.com/2020/12/project-loom-and-structured-concurrency.html</a></em></p>]]>
            </description>
            <link>https://www.javaadvent.com/2020/12/project-loom-and-structured-concurrency.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300233</guid>
            <pubDate>Fri, 04 Dec 2020 08:24:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[C# 9 – Improving performance using the SkipLocalsInit attribute]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25300125">thread link</a>) | @flipchart
<br/>
December 4, 2020 | https://www.meziantou.net/csharp-9-improve-performance-using-skiplocalsinit.htm | <a href="https://web.archive.org/web/*/https://www.meziantou.net/csharp-9-improve-performance-using-skiplocalsinit.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>C# 9 brings lots of new language features. One of them is the ability to suppress emitting <code>.locals init</code> flag. This feature allows to improve the performance of a method by not zeroing the local variables before executing the method. Even if <a href="https://github.com/dotnet/runtime/pull/32538">zeroing local has been improved<i></i></a> in .NET 5, not doing it will still be faster.</p><h2 id="what-is-locals-init"><a href="#what-is-locals-init">#</a>What is locals init?</h2><p>By default, the C# compiler emits the <code>.locals init</code> directive. This instructs the JIT to generate a prolog to set all local variables to their default value. This is safer as you cannot use uninitialized memory. You can validate this behavior using unsafe code. The following method constantly prints "0" to the console as the JIT initializes the variable <code>i</code> to its default value.</p><pre><code><span>static</span> <span>unsafe</span> <span><span>void</span></span> <span>DemoZeroing</span><span>(</span><span>)</span>
<span>{</span>
    <span><span>int</span></span> i<span>;</span>
    Console<span>.</span><span>WriteLine</span><span>(</span><span>*</span><span>&amp;</span>i<span>)</span><span>;</span>
    <span>// Display 0 as the local variable is automatically initialized with the default value</span>
<span>}</span></code></pre><p><img src="https://www.meziantou.net/assets/localsinit-1.png?v=da65&amp;utm_medium=social&amp;utm_source=web" width="543" height="273" srcset="https://www.meziantou.net/assets/localsinit-1-th-w500-h0.png?v=5b79&amp;utm_medium=social&amp;utm_source=web 500w,https://www.meziantou.net/assets/localsinit-1.png?v=da65&amp;utm_medium=social&amp;utm_source=web 543w" sizes="100vw"></p><h2 id="suppress-emitting-lo"><a href="#suppress-emitting-lo">#</a>Suppress emitting <code>localsinit</code> flag</h2><p>In C# 9, you can use the new attribute <code>[System.Runtime.CompilerServices.SkipLocalsInit]</code> to instruct the compiler to suppress emitting <code>.locals init</code> flag. This attribute applies at module, class, or method level:</p><pre><code><span>[</span><span><span>AttributeUsage</span><span><span>(</span>
      AttributeTargets<span>.</span>Module
    <span>|</span> AttributeTargets<span>.</span>Class
    <span>|</span> AttributeTargets<span>.</span>Struct
    <span>|</span> AttributeTargets<span>.</span>Interface
    <span>|</span> AttributeTargets<span>.</span>Constructor
    <span>|</span> AttributeTargets<span>.</span>Method
    <span>|</span> AttributeTargets<span>.</span>Property
    <span>|</span> AttributeTargets<span>.</span>Event<span>,</span> Inherited <span>=</span> <span>false</span><span>)</span></span></span><span>]</span>
<span>public</span> <span>sealed</span> <span>class</span> <span>SkipLocalsInitAttribute</span> <span>:</span> <span><span>Attribute</span></span>
<span>{</span>
    <span>public</span> <span>SkipLocalsInitAttribute</span><span>(</span><span>)</span> <span>{</span> <span>}</span>
<span>}</span></code></pre><p>Here's how to use it on a method:</p><pre><code><span>[</span><span><span>System<span>.</span>Runtime<span>.</span>CompilerServices<span>.</span>SkipLocalsInit</span></span><span>]</span>
<span>static</span> <span>unsafe</span> <span><span>void</span></span> <span>DemoZeroing</span><span>(</span><span>)</span>
<span>{</span>
    <span><span>int</span></span> i<span>;</span>
    Console<span>.</span><span>WriteLine</span><span>(</span><span>*</span><span>&amp;</span>i<span>)</span><span>;</span> <span>// Unpredictable output as i is not initialized</span>
<span>}</span></code></pre><p>You can apply the attribute per method, per class, or per module (project):</p><pre><code><span>// For the project</span>
<span>[</span>module<span>:</span> System<span>.</span>Runtime<span>.</span>CompilerServices<span>.</span>SkipLocalsInit<span>]</span>

<span>// For the class</span>
<span>[</span>System<span>.</span>Runtime<span>.</span>CompilerServices<span>.</span>SkipLocalsInit<span>]</span>
<span>class</span> <span>Sample</span>
<span>{</span>
    <span>// ...</span>
<span>}</span></code></pre><p>When decompiling the application, you can see that the method now uses <code>locals</code> instead of <code>.locals init</code> which means that the variables won't be automatically initialized by the JIT.</p><p><a href="https://www.meziantou.net/assets/skiplocalsinit-1.png?v=1593&amp;utm_medium=social&amp;utm_source=web"><img src="https://www.meziantou.net/assets/skiplocalsinit-1.png?v=1593&amp;utm_medium=social&amp;utm_source=web" width="800" height="305" srcset="https://www.meziantou.net/assets/skiplocalsinit-1-th-w500-h0.png?v=1e69&amp;utm_medium=social&amp;utm_source=web 500w,https://www.meziantou.net/assets/skiplocalsinit-1-th-w800-h0.png?v=3687&amp;utm_medium=social&amp;utm_source=web 800w,https://www.meziantou.net/assets/skiplocalsinit-1.png?v=1593&amp;utm_medium=social&amp;utm_source=web 830w" sizes="100vw"></a></p><h2 id="performance-82bd01"><a href="#performance-82bd01">#</a>Performance</h2><p><a href="https://www.meziantou.net/comparing-implementations-with-benchmarkdotnet.htm?utm_medium=social&amp;utm_source=web" title="Comparing implementations with BenchmarkDotnet">BenchmarkDotnet</a> allows to quickly check how the performance is affected depending on the local variables size. The easiest way is to use a <code>stackalloc</code>.</p><pre><code><span>public</span> <span>class</span> <span>SkipLocalsInitBenchmark</span>
<span>{</span>
    <span>[</span><span><span>Params</span><span><span>(</span><span>4</span><span>,</span> <span>8</span><span>,</span> <span>12</span><span>,</span> <span>16</span><span>,</span> <span>20</span><span>,</span> <span>24</span><span>,</span> <span>32</span><span>,</span> <span>64</span><span>,</span> <span>128</span><span>,</span> <span>256</span><span>,</span> <span>512</span><span>,</span> <span>1024</span><span>)</span></span></span><span>]</span>
    <span>public</span> <span><span>int</span></span> Size <span>{</span> <span>get</span><span>;</span> <span>set</span><span>;</span> <span>}</span>

    <span>[</span><span><span>Benchmark</span></span><span>]</span>
    <span>public</span> <span><span>byte</span></span> <span>InitLocals</span><span>(</span><span>)</span>
    <span>{</span>
        <span>Span<span>&lt;</span><span>byte</span><span>&gt;</span></span> s <span>=</span> <span>stackalloc</span> <span>byte</span><span>[</span>Size<span>]</span><span>;</span>
        <span>return</span> s<span>[</span><span>0</span><span>]</span><span>;</span>
    <span>}</span>

    <span>[</span><span><span>Benchmark</span></span><span>]</span>
    <span>[</span><span><span>SkipLocalsInit</span></span><span>]</span>
    <span>public</span> <span><span>byte</span></span> <span>SkipInitLocals</span><span>(</span><span>)</span>
    <span>{</span>
        <span>Span<span>&lt;</span><span>byte</span><span>&gt;</span></span> s <span>=</span> <span>stackalloc</span> <span>byte</span><span>[</span>Size<span>]</span><span>;</span>
        <span>return</span> s<span>[</span><span>0</span><span>]</span><span>;</span>
    <span>}</span>
<span>}</span></code></pre><p><a href="https://www.meziantou.net/assets/benchmark-2.png?v=9e81&amp;utm_medium=social&amp;utm_source=web"><img src="https://www.meziantou.net/assets/benchmark-2.png?v=9e81&amp;utm_medium=social&amp;utm_source=web" width="800" height="950" srcset="https://www.meziantou.net/assets/benchmark-2-th-w500-h0.png?v=2ec1&amp;utm_medium=social&amp;utm_source=web 500w,https://www.meziantou.net/assets/benchmark-2-th-w800-h0.png?v=6b39&amp;utm_medium=social&amp;utm_source=web 800w,https://www.meziantou.net/assets/benchmark-2.png?v=9e81&amp;utm_medium=social&amp;utm_source=web 946w" sizes="100vw"></a></p><p>Unless you heavily use the stack, the gain is very small.</p><h2 id="is-it-safe-to-use-th"><a href="#is-it-safe-to-use-th">#</a>Is it safe to use this attribute globally?</h2><p>The C# compiler ensures you don't use a variable before initializing it. So, this is safe to use the attribute in most cases. However, there are at least 3 exceptions that need manual reviews:</p><ul><li><code>unsafe</code> code</li><li><code>stackalloc</code></li><li>P/Invoke</li></ul><p>In unsafe code, you can use uninitialized variables. You should review every location where you use the address of a variable to be sure your code doesn't rely on the fact that the variable is implicitly initialized to its default value. If needed, you can manually initialize the variable.</p><pre><code><span>static</span> <span>unsafe</span> <span><span>void</span></span> <span>Pointer</span><span>(</span><span>)</span>
<span>{</span>
    <span><span>int</span></span> i<span>;</span>
    <span>int</span><span>*</span> pointer_i <span>=</span> <span>&amp;</span>i<span>;</span> <span>// ⚠ The value of i is not initialized to 0</span>

    <span><span>int</span></span> j <span>=</span> <span>0</span><span>;</span>
    <span>int</span><span>*</span> pointer_j <span>=</span> <span>&amp;</span>j<span>;</span> <span>// ok</span>
<span>}</span></code></pre><p>Starting with C# 8, you can use <code>stackalloc</code> without using the <code>unsafe</code> keyword as shown previously in this post.</p><pre><code><span>struct</span> <span>MyStruct</span>
<span>{</span>
    <span>public</span> <span><span>int</span></span> Field1<span>;</span>
    <span>public</span> <span><span>int</span></span> Field2<span>;</span>
<span>}</span>

<span>Span<span>&lt;</span>MyStruct<span>&gt;</span></span> array <span>=</span> <span>stackalloc</span> MyStruct<span>[</span><span>10</span><span>]</span><span>;</span>
array<span>[</span><span>0</span><span>]</span><span>.</span>Field1 <span>=</span> <span>42</span><span>;</span> <span>// ⚠ Other fields are uninitialize which could be problematic</span>
Console<span>.</span><span>WriteLine</span><span>(</span>array<span>[</span><span>0</span><span>]</span><span>.</span>Field2<span>)</span><span>;</span> <span>// ⚠ Unpredictable output as Field2 is not initialized</span>

array<span>[</span><span>1</span><span>]</span> <span>=</span> <span>new</span> <span>MyStruct</span> <span>{</span> Field1 <span>=</span> <span>42</span> <span>}</span><span>;</span> <span>// Ok as the ctor will initialize the values correctly</span></code></pre><p>If you call a P/Invoke method involving an out parameter, you should be sure to validate that the native method always writes the value for the case where you expect the value to be initialized.</p><pre><code><span><span>int</span></span> a<span>;</span>
NativeMethods<span>.</span><span>Sample</span><span>(</span><span>out</span> a<span>)</span><span>;</span> <span>// ⚠ Be sure that Sample writes the out parameter in any case where you need it</span>
Console<span>.</span><span>WriteLine</span><span>(</span>a<span>)</span><span>;</span> <span>// ⚠ Unpredictable output if Sample doesn't set the value of the variable</span></code></pre><h2 id="conclusion-82bd01"><a href="#conclusion-82bd01">#</a>Conclusion</h2><p>Use the <code>[SkipLocalsInit]</code> attribute if you need to get the maximum performance possible. It's a quick win, but the gains are also very small for most use cases.</p><h2 id="addition-resources-82bd01"><a href="#addition-resources-82bd01">#</a>Addition resources</h2><ul><li><a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.compilerservices.skiplocalsinitattribute?view=net-5.0">SkipLocalsInitAttribute Class<i></i></a></li><li><a href="https://devblogs.microsoft.com/dotnet/performance-improvements-in-net-5/">Performance Improvements in .NET 5<i></i></a></li><li><a href="https://github.com/dotnet/aspnetcore/issues/26586">Perf: Investigate applying SkipLocalsInitAttribute<i></i></a></li></ul><p>Do you have a question or a suggestion about this post? <a href="https://www.meziantou.net/contact.htm?utm_medium=social&amp;utm_source=web">Contact me!</a></p></div></div>]]>
            </description>
            <link>https://www.meziantou.net/csharp-9-improve-performance-using-skiplocalsinit.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300125</guid>
            <pubDate>Fri, 04 Dec 2020 08:05:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Git stash doesn’t have to be scary]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25300115">thread link</a>) | @todsacerdoti
<br/>
December 4, 2020 | https://jemma.dev/blog/git-stash | <a href="https://web.archive.org/web/*/https://jemma.dev/blog/git-stash">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>It was only when I recently heard someone else say, “git stash is scary” that I realized it was top of my list of fears too. It just usually feels like there’s a chance I’ll just lose all of my in progress work to the depths of stashes and never be able to get the right incantation of <code>git</code> commands to reincarnate my code.</p>

<h3 id="what-does-git-stash-do">What does git stash do?</h3>

<p>Let me backtrack a minute! I haven’t yet explained what <code>git stash</code> even does. On the most basic level, <code>git stash</code> is one way to store in progress work in <code>git</code> for subsequent access, leaving behind a clean working directory.</p>

<p><em>Meta-note</em>: this post will be easiest to follow along if you open up a terminal and play around with <code>git stash</code> as you’re reading! The lack of syntax highlighting makes it a little tricky to see git additions / deletions. You can play around with any git repo you have, or clone <a href="https://github.com/githubtraining/hellogitworld">this hello world one</a> locally to work in a complete sandbox!</p>

<h3 id="stacks">Stacks</h3>

<p>Stashes are more easily understood as a basic last in, first out stack.</p>

<ul>
  <li><code>git stash push</code> (equivalent to <code>git stash</code> when used with no arguments) will push any local changes onto the stash and leave a clean working directory.</li>
</ul>

<div><div><pre><code><span>$ </span>git status
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

Changes not staged <span>for </span>commit:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to update what will be committed<span>)</span>
  <span>(</span>use <span>"git restore &lt;file&gt;..."</span> to discard changes <span>in </span>working directory<span>)</span>
	modified:   README.md

no changes added to commit <span>(</span>use <span>"git add"</span> and/or <span>"git commit -a"</span><span>)</span>

<span>$ </span>git stash push
Saved working directory and index state WIP on main: 6ab43aa Initial commit

<span>$ </span>git status
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

nothing to commit, working tree clean

</code></pre></div></div>

<p>There are a plethora of arguments we can pass to <code>git stash push</code>. The ones I find most helpful are:</p>

<ul>
  <li><code>-m &lt;message&gt;</code> saves the stash with a message, can be helpful for our future selves</li>
</ul>

<div><div><pre><code><span>$ </span>git stash push <span>-m</span> <span>"description"</span>
Saved working directory and index state On main: description
</code></pre></div></div>

<ul>
  <li><code>-p</code> patches changes (used like <code>git add -p</code>), allowing us to select which hunks to add to the stash. <a href="https://www.gnu.org/software/diffutils/manual/html_node/Detailed-Unified.html">Hunks</a> are areas where two files differ. Git will partition files into hunks for us!</li>
</ul>

<div><div><pre><code><span>$ </span>git stash push <span>-p</span>
....
Details about the hunk
....
<span>(</span>1/1<span>)</span> Stash this hunk <span>[</span>y,n,q,a,d,e,?]?
</code></pre></div></div>

<ul>
  <li><code>-u</code> includes untracked files in the stash. Without this flag, a file that <code>git</code> had never seen before would not be included in a stash</li>
</ul>

<div><div><pre><code><span>$ </span><span>touch </span>new-file
<span>$ </span>git status
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

Untracked files:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to include <span>in </span>what will be committed<span>)</span>
	new-file

nothing added to commit but untracked files present <span>(</span>use <span>"git add"</span> to track<span>)</span>

<span>$ </span>git stash push <span>-u</span>
Saved working directory and index state WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<ul>
  <li><code>-k</code> keeps the files (or hunks) which were staged. Without this option, when we apply a stash, nothing will be staged. More on applying in the next section!</li>
</ul>

<h3 id="accessing-the-stash">Accessing the stash</h3>

<p>Okay, we can now push changes onto the stash. But…. they’re still the stash abyss if we have no way of accessing them.</p>

<p><code>git stash list</code> shows us what is on the stash:</p>

<div><div><pre><code><span>$ </span>git stash list
stash@<span>{</span>0<span>}</span>: On main: Clear description of these changes
stash@<span>{</span>1<span>}</span>: WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<p>This is where the <code>-m</code> message flag from earlier will be incredibly helpful. The first item in my stash had a message (<code>Clear description of these changes</code>), the second did not.</p>

<p>Okay, okay. We can now <em>see</em> what’s on the stash. But how do we access anything on the stash? Or remove it from the stash?</p>

<p><code>git stash show</code> will show us the difference between the top item on the stash, and our current working directory:</p>

<div><div><pre><code><span>$ </span>git stash show
 README.md | 1 +
 1 file changed, 1 insertion<span>(</span>+<span>)</span>
</code></pre></div></div>

<p>If we want to reference a different set of changes on the stash, and not the most recent one, we can use the stash index of those changes. As we can see above, each item on the stash has an index, and can be referred to by <code>stash@{index}</code></p>

<p>So, to see the set of changes in the next item on our stack, we can run:</p>

<div><div><pre><code><span>$ </span>git stash show stash@<span>{</span>1<span>}</span>
 README.md | 2 +-
 1 file changed, 1 insertion<span>(</span>+<span>)</span>, 1 deletion<span>(</span>-<span>)</span>
</code></pre></div></div>
<p>Neat, so we now know how to get the differences and look at what’s in the stash. But to actually access what’s on the stash, we’ll need <code>git stash apply [&lt;stash&gt;]</code>. It similarly can take an argument with the stash index to reference something later in the stash. If no argument is provided, it will default to the most recent set of changes we put in the stash (the ones at <code>stash@{0}</code>)</p>

<div><div><pre><code><span>$ </span>git stash apply stash@<span>{</span>1<span>}</span>
On branch main
Your branch is up to <span>date </span>with <span>'origin/main'</span><span>.</span>

Changes not staged <span>for </span>commit:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to update what will be committed<span>)</span>
  <span>(</span>use <span>"git restore &lt;file&gt;..."</span> to discard changes <span>in </span>working directory<span>)</span>
	modified:   README.md

no changes added to commit <span>(</span>use <span>"git add"</span> and/or <span>"git commit -a"</span><span>)</span>
</code></pre></div></div>

<h4 id="removing-from-the-stash">Removing from the stash</h4>

<p>However, <code>git stash apply</code> will not <em>remove</em> the changes from the stash. If we look at the stash now, we’ll see it’s the same as it was:</p>

<div><div><pre><code><span>$ </span>git stash list
stash@<span>{</span>0<span>}</span>: On main: Clear description of these changes
stash@<span>{</span>1<span>}</span>: WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<p>In order to remove a set of changes from the stash, we can use <code>git stash drop [&lt;stash&gt;]</code></p>

<div><div><pre><code><span>$ </span>git stash drop stash@<span>{</span>0<span>}</span>
Dropped refs/stash@<span>{</span>0<span>}</span> <span>(</span>b09812812eb27de2cb49bfd02aba43889362b6de<span>)</span>

<span>$ </span>git stash list
stash@<span>{</span>0<span>}</span>: WIP on main: 6ab43aa Initial commit
</code></pre></div></div>

<p>We can see that the set of changes at <code>stash@{0}</code> are now no longer on the stash, and the set of changes which were at <code>stash@{1}</code> are now at <code>stash@{0}</code>.</p>

<p>If we want to <code>apply</code> and <code>drop</code> a set of changes, we can conveniently use <code>git stash pop [&lt;stash&gt;]</code>. <code>pop</code> will only also <code>drop</code> if there’s no merge conflict.</p>

<p>To clear the stash completely, we can run <code>git stash clear</code>. This is the <em>actual</em> scary command which will cause us to lose any work in progress that you had stashed. Only run <code>git stash clear</code> if you never again want to access what is currently on the stash.</p>

<h3 id="why-stash">Why stash?</h3>

<p>So we’ve learned how to use <code>git stash</code>, but still haven’t covered <em>why</em> to use it. Stashing is intended to be a quick and easy way to get to a clean working state while not losing in progress work. And it is! Both quick, and now hopefully easy!</p>

<p>One example of when I might use <code>git stash</code> is if I’m in progress on some changes, but realize I want to amend a prior commit. I can stash the changes, amend the commit, and then apply the stash to get back to where I was.</p>

<p>Another is if I am trying to experiment with a few different ways to solve a problem, and want small, quick examples down each solution path. I might create stashes with all of my examples, and then pick the best and pursue that set of changes in a branch structure.</p>

<p>Additionally, stashing is especially helpful because it is branch agnostic. That is to say, if we switch branches, our stash will remain the same. This means stashing can also be a convenient way to carry changes through different branches.</p>

<h3 id="when-not-to-stash">When not to stash</h3>

<p>Equally import to why stash is when <em>not</em> to use it.</p>

<p>Stashing was built for convenience, and is not intended to be a permanent way to save work; that’s what branches and commits are for. Stashing also only works locally, you can’t push stashes to a repo or have others pull them down.</p>

<h3 id="branches-from-stash">Branches from stash</h3>

<p>Speaking of branches, another fun feature of stashes is that we can create a branch directly from a stash. This is done using <code>git stash branch &lt;branch_name&gt; [&lt;stash&gt;]</code> This will also drop the changes from the stash, equivalent to a <code>git stash pop</code> not a <code>git stash apply</code>.</p>

<div><div><pre><code><span>$ </span>git stash branch new-branch
Switched to a new branch <span>'new-branch'</span>
On branch new-branch
Changes not staged <span>for </span>commit:
  <span>(</span>use <span>"git add &lt;file&gt;..."</span> to update what will be committed<span>)</span>
  <span>(</span>use <span>"git restore &lt;file&gt;..."</span> to discard changes <span>in </span>working directory<span>)</span>
	modified:   README.md

no changes added to commit <span>(</span>use <span>"git add"</span> and/or <span>"git commit -a"</span><span>)</span>
Dropped refs/stash@<span>{</span>0<span>}</span> <span>(</span>d6a804a40c0b477d8e3be27939310ff677f45670<span>)</span>
</code></pre></div></div>

<h3 id="in-summary">In summary</h3>

<ul>
  <li><code>git stash</code> operates on a LIFO stack of sets of changes</li>
  <li><code>git stash list</code> shows what’s on the stash</li>
  <li><code>git stash push</code> pushes to the stash</li>
  <li><code>git stash apply</code> access changes on the stash</li>
  <li><code>git stash drop</code> removes changes from the stash</li>
  <li><code>git stash pop</code> does an <code>apply</code> and a <code>drop</code></li>
  <li>These default to the most recent item on the stash, to reference another one use <code>stash@{index}</code> where you can determine the index from <code>git stash list</code></li>
  <li>Some of these have flags which make them more convenient, including: <code>-m</code> message, <code>-p</code> patch, <code>-u</code> include untracked files, <code>-k</code> keep staged changes staged</li>
</ul>

<p>Hopefully you, too, can now add <code>git stash</code> to the list of fears you’ve conquered!</p>

<p>For further reading on stashing, take a look at the <a href="https://git-scm.com/docs/git-stash">git stash docs</a>. For further reading on <a href="https://www.brainyquote.com/topics/fear-quotes">conquering fears</a>, here is a favorite quote of mine, “Nothing in life is to be feared, it is only to be understood. Now is the time to understand more, so that we may fear less.” - <a href="https://en.wikipedia.org/wiki/Marie_Curie">Marie Curie</a></p>


  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://jemma.dev/blog/git-stash</link>
            <guid isPermaLink="false">hacker-news-small-sites-25300115</guid>
            <pubDate>Fri, 04 Dec 2020 08:04:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advent of Open Source]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25299743">thread link</a>) | @todsacerdoti
<br/>
December 3, 2020 | http://metaredux.com/posts/2020/12/03/advent-of-open-source.html | <a href="https://web.archive.org/web/*/http://metaredux.com/posts/2020/12/03/advent-of-open-source.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>Ah, it’s again this magical time of the year - the Advent!
When I was little I associated it mostly with advent candy boxes
with a different candy for each day of the Advent, but these days
I mostly associate this period with the famous <a href="https://adventofcode.com/">Advent of Code</a>.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup></p>

<p>As much as I love solving puzzles, I’ve realized lately that probably
it’s not the best use of my limited free time. Last year I opted to do
an <a href="http://metaredux.com/posts/2019/12/01/meta-advent-2019.html">blogging challenge</a>, instead of the Advent of Code, and this
year I’m challenging myself to contribute something (meaningful) to my <a href="http://metaredux.com/projects">open-source
projects</a> every day from the 1st of December to Christmas.
Fun times ahead!</p>

<p>Today is the 3rd of December already, so I guess I have to report what I’ve done so far.</p>

<h2 id="dec-1">Dec 1</h2>

<ul>
  <li>Shipped <a href="https://github.com/rubocop-hq/rubocop/releases/tag/v1.5.0">RuboCop 1.5</a></li>
  <li>Lots of improvements to the <a href="https://guide.clojure.style/">Clojure Style Guide</a>
    <ul>
      <li>New sections on <a href="https://guide.clojure.style/#guiding-principles">guiding principles</a> and <a href="https://guide.clojure.style/#a-note-about-consistency">consistency</a></li>
      <li>Documented the <a href="https://guide.clojure.style/#sources-of-inspiration">sources of inspiration</a></li>
      <li>Added lots of new code examples (e.g. <a href="https://guide.clojure.style/#comments">here</a>)</li>
      <li>Fixed many headings that had broken wording after the automated conversion to the current structure last year (each guideline now has a title, and the titles were auto-generated from the old permalinks associated with the guidelines)</li>
    </ul>
  </li>
</ul>

<p>I hope to gradually clean up the backlog for improvements of the style guide in the months to come. I’ll also mention here that I wouldn’t mind
some volunteers willing to help document the best practices for working with <code>cljc</code> and <code>clojure.spec</code>.</p>

<h2 id="dec-2">Dec 2</h2>

<ul>
  <li>Shipped <a href="https://github.com/rubocop-hq/rubocop/releases/tag/v1.5.1">RuboCop 1.5.1</a></li>
  <li><a href="https://github.com/bbatsov/projectile">Projectile</a>
    <ul>
      <li>Groomed the backlog (replied to some tickets, closed some tickets that were addressed/irrelevant, added tags to everything else)</li>
      <li>Merged a few outstanding PRs (see the <a href="https://github.com/bbatsov/projectile/blob/master/CHANGELOG.md#bugs-fixed">changelog</a> for details)</li>
      <li>Lots of improvements to the documentation site
        <ul>
          <li>Improved <a href="https://docs.projectile.mx/projectile/usage.html">Usage</a> page (better basic setup instructions, plus coverage of the mighty but elusive Projectile Commander)</li>
          <li>Improved <a href="https://docs.projectile.mx/projectile/projects.html">Projects</a> page (in particular, you’ll find there a lot of information about the mythical and mystical <code>projectile-project-root-functions</code>)</li>
          <li>Improved <a href="https://docs.projectile.mx/projectile/configuration.html">Configuration</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>It always feels great to revisit Projectile, as it’s both the first open-source project I ever created and the project I use more than anything else.</p>

<h2 id="dec-3-today">Dec 3 (today)</h2>

<ul>
  <li>More work on Projectile’s documentation and grooming the backlog</li>
  <li>Preparing for another RuboCop bug-fix release (1.5.2 might land later today)</li>
</ul>

<h2 id="looking-forward">Looking Forward</h2>

<p>So, what’s next?
My main priorities for the Advent of OSS are currently:</p>

<ul>
  <li>Polish the Clojure Style Guide</li>
  <li>Ship CIDER 1.0</li>
  <li>Ship Emacs Prelude 1.1</li>
  <li>Clean up Projectile’s backlog</li>
</ul>

<p>I probably won’t be able to achieve them all, but I’ve been told it’s good to be ambitious. If someone wants to help me out, be my guest.
My projects have plenty of tickets tagged with <code>Good First Issue</code> that you might try tackling.</p>

<p>I’ll try to post some updates here every few days, both to keep it
up-to-date with my progress and to keep myself honest. That’s all from
me for now. Keep hacking!</p>

<p><strong>P.S.</strong> In the time-honored tradition of the Advent, I’m inviting all of you to join my on the Christmas OSS adventure and see how far are you willing
to go! It will be fun!</p>



  </div></div>]]>
            </description>
            <link>http://metaredux.com/posts/2020/12/03/advent-of-open-source.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25299743</guid>
            <pubDate>Fri, 04 Dec 2020 06:55:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Monoliths as a Service]]>
            </title>
            <description>
<![CDATA[
Score 111 | Comments 53 (<a href="https://news.ycombinator.com/item?id=25299598">thread link</a>) | @gdeglin
<br/>
December 3, 2020 | https://www.themostfamousartist.com/maas | <a href="https://web.archive.org/web/*/https://www.themostfamousartist.com/maas">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-nc-base="header" data-controller="AncillaryLayout">
      

      

      <div>

        

        <div>
          
            
              
                
                  
                
              
            
          

          <main>
            
              <section data-content-field="main-content">
                <div data-type="page" data-updated-on="1607097261878" id="page-5fc97f1d887b444c614b8d8c"><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1607040806507_3851"><div><h2>Monoliths</h2><h2>-as-a-</h2><h2>Service</h2><p>We are the global <a href="https://community.themostfamousartist.com/">creative community</a> behind the most headline-worthy art stunts in the world…</p></div></div><div><div><div data-block-type="5" id="block-yui_3_17_2_1_1607040806507_9210"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607041819948-XGLKS00TJZNS7Q9Y5B2A/ke17ZwdGBToddI8pDm48kKgzHX-v50OZTetcbLmgWuUUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKcUecxn97ackQPp7vN6eXy76HeX13iayLWBPrh_wlieguDDFqElwGSvRuYqUGd2Qj9/En4H_GdVQAEbxof.jpg" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607041819948-XGLKS00TJZNS7Q9Y5B2A/ke17ZwdGBToddI8pDm48kKgzHX-v50OZTetcbLmgWuUUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKcUecxn97ackQPp7vN6eXy76HeX13iayLWBPrh_wlieguDDFqElwGSvRuYqUGd2Qj9/En4H_GdVQAEbxof.jpg" data-image-dimensions="1100x619" data-image-focal-point="0.5,0.5" alt="En4H_GdVQAEbxof.jpg" data-load="false" data-image-id="5fc9831ae262c01594584f4a" data-type="image" src="https://www.themostfamousartist.com/En4H_GdVQAEbxof.jpg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div><div><div data-aspect-ratio="56.47279549718574" data-block-type="5" id="block-yui_3_17_2_1_1607040806507_11756"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607042187227-P8AU33UQURGTAANT1YC8/ke17ZwdGBToddI8pDm48kM8bRIq_Jlpy-TzDnLsZvCFZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpza1AxxNfjW7BkJnaaYjyko9vKUJGGjt8ug7pUBGdtLuGURcg7iOHM7Nr4qX47O0bg/Screen+Shot+2020-12-03+at+5.32.18+PM.png" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607042187227-P8AU33UQURGTAANT1YC8/ke17ZwdGBToddI8pDm48kM8bRIq_Jlpy-TzDnLsZvCFZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpza1AxxNfjW7BkJnaaYjyko9vKUJGGjt8ug7pUBGdtLuGURcg7iOHM7Nr4qX47O0bg/Screen+Shot+2020-12-03+at+5.32.18+PM.png" data-image-dimensions="710x663" data-image-focal-point="0.5,0.5" alt="Screen Shot 2020-12-03 at 5.32.18 PM.png" data-load="false" data-image-id="5fc98488be6684539de0aaf9" data-type="image" src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607042187227-P8AU33UQURGTAANT1YC8/ke17ZwdGBToddI8pDm48kM8bRIq_Jlpy-TzDnLsZvCFZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpza1AxxNfjW7BkJnaaYjyko9vKUJGGjt8ug7pUBGdtLuGURcg7iOHM7Nr4qX47O0bg/Screen+Shot+2020-12-03+at+5.32.18+PM.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div><div><div data-block-type="5" id="block-yui_3_17_2_1_1607040806507_27247"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607042450189-ITWLCGYG711MYOL884GL/ke17ZwdGBToddI8pDm48kB4r0hTEGhin2obdF0zE7a5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzms-7abpVor2v0Z_jpb6HxwUXnH_MpeGSWjCARzTWV2WkfmJhGMIgLexgogVlDfN4/image002.png" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607042450189-ITWLCGYG711MYOL884GL/ke17ZwdGBToddI8pDm48kB4r0hTEGhin2obdF0zE7a5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzms-7abpVor2v0Z_jpb6HxwUXnH_MpeGSWjCARzTWV2WkfmJhGMIgLexgogVlDfN4/image002.png" data-image-dimensions="600x319" data-image-focal-point="0.5,0.5" alt="image002.png" data-load="false" data-image-id="5fc9858f8562787517514285" data-type="image" src="https://www.themostfamousartist.com/image002.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div><div><div data-aspect-ratio="111.9186046511628" data-block-type="5" id="block-yui_3_17_2_1_1607040806507_37744"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607042839081-56GDULGPEO49ENLEB75H/ke17ZwdGBToddI8pDm48kEJc2EGurRIpVfMw4geeYwYUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8GRo6ASst2s6pLvNAu_PZdLkWgqQttFkESsR54W-Vo-DqQFSZr6WbDVTBl4dDuN6FCj7ScNggbDYsBK08KsWg4Y/unnamed.png" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607042839081-56GDULGPEO49ENLEB75H/ke17ZwdGBToddI8pDm48kEJc2EGurRIpVfMw4geeYwYUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8GRo6ASst2s6pLvNAu_PZdLkWgqQttFkESsR54W-Vo-DqQFSZr6WbDVTBl4dDuN6FCj7ScNggbDYsBK08KsWg4Y/unnamed.png" data-image-dimensions="685x1069" data-image-focal-point="0.5,0.5" alt="unnamed.png" data-load="false" data-image-id="5fc98713fedaa13a4859642c" data-type="image" src="https://www.themostfamousartist.com/unnamed.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div><div><div data-aspect-ratio="74.10881801125704" data-block-type="5" id="block-yui_3_17_2_1_1607040806507_100133"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043738456-SDNZQKP2DZ10HUJD0CNW/ke17ZwdGBToddI8pDm48kK60W-ob1oA2Fm-j4E_9NQB7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0kD6Ec8Uq9YczfrzwR7e2Mh5VMMOxnTbph8FXiclivDQnof69TlCeE0rAhj6HUpXkw/image-asset.jpeg" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043738456-SDNZQKP2DZ10HUJD0CNW/ke17ZwdGBToddI8pDm48kK60W-ob1oA2Fm-j4E_9NQB7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0kD6Ec8Uq9YczfrzwR7e2Mh5VMMOxnTbph8FXiclivDQnof69TlCeE0rAhj6HUpXkw/image-asset.jpeg" data-image-dimensions="2500x3333" data-image-focal-point="0.5,0.5" alt="" data-load="false" data-image-id="5fc98a93be6684539de1ae1c" data-type="image" src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043738456-SDNZQKP2DZ10HUJD0CNW/ke17ZwdGBToddI8pDm48kK60W-ob1oA2Fm-j4E_9NQB7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0kD6Ec8Uq9YczfrzwR7e2Mh5VMMOxnTbph8FXiclivDQnof69TlCeE0rAhj6HUpXkw/image-asset.jpeg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div><div><div data-block-type="5" id="block-yui_3_17_2_1_1607040806507_102695"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043772160-6AJ9ZOMWE3ANBTUQ6L7B/ke17ZwdGBToddI8pDm48kLB_yMpT-58X960ldGXfhF97gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfUt7F94jAuNcGuXWqaIgpmYtJRtNO6b9ISO5qSF_BivoRwB-dUGsSquCnVTFQcaRg/Screen+Shot+2020-12-03+at+6.02.34+PM.png" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043772160-6AJ9ZOMWE3ANBTUQ6L7B/ke17ZwdGBToddI8pDm48kLB_yMpT-58X960ldGXfhF97gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfUt7F94jAuNcGuXWqaIgpmYtJRtNO6b9ISO5qSF_BivoRwB-dUGsSquCnVTFQcaRg/Screen+Shot+2020-12-03+at+6.02.34+PM.png" data-image-dimensions="2242x1656" data-image-focal-point="0.5,0.5" alt="Screen Shot 2020-12-03 at 6.02.34 PM.png" data-load="false" data-image-id="5fc98ab281b71b40858d52d6" data-type="image" src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043772160-6AJ9ZOMWE3ANBTUQ6L7B/ke17ZwdGBToddI8pDm48kLB_yMpT-58X960ldGXfhF97gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfUt7F94jAuNcGuXWqaIgpmYtJRtNO6b9ISO5qSF_BivoRwB-dUGsSquCnVTFQcaRg/Screen+Shot+2020-12-03+at+6.02.34+PM.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div><div><div data-aspect-ratio="86.11632270168855" data-block-type="5" id="block-yui_3_17_2_1_1607040806507_113021"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043820963-AXDZ2HUID2Q5XIXG8OFN/ke17ZwdGBToddI8pDm48kKmibDOp36EpI-R8w230T2h7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QHyNOqBUUEtDDsRWrJLTmFrKkuyfqIWRdt3lCufLMAX0Qfwyuk7RFPSxNYhV3IXAEkgv7Qmv4u2TS9vWgjv5P/EoWgkDoU8AEHjxE.jpg" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043820963-AXDZ2HUID2Q5XIXG8OFN/ke17ZwdGBToddI8pDm48kKmibDOp36EpI-R8w230T2h7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QHyNOqBUUEtDDsRWrJLTmFrKkuyfqIWRdt3lCufLMAX0Qfwyuk7RFPSxNYhV3IXAEkgv7Qmv4u2TS9vWgjv5P/EoWgkDoU8AEHjxE.jpg" data-image-dimensions="1241x1598" data-image-focal-point="0.5,0.5" alt="EoWgkDoU8AEHjxE.jpg" data-load="false" data-image-id="5fc98aeae262c0159459c0cc" data-type="image" src="https://www.themostfamousartist.com/EoWgkDoU8AEHjxE.jpg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div><div><div data-aspect-ratio="86.67917448405254" data-block-type="5" id="block-yui_3_17_2_1_1607040806507_124725"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043851605-G5OT65D8N3HOWGDX05U5/ke17ZwdGBToddI8pDm48kB80eW4KK5wgMfkTp6SjTNtZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpxkEDnlqEYEiGVDb0kl5jpOJsm5iyfgdjNZyk67t96-U_4JMfIDDY8RGcVnRlrKExA/En86BBMXYAE9bUh.jpg" data-image="https://images.squarespace-cdn.com/content/v1/545815c3e4b0c42e0d7a6235/1607043851605-G5OT65D8N3HOWGDX05U5/ke17ZwdGBToddI8pDm48kB80eW4KK5wgMfkTp6SjTNtZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpxkEDnlqEYEiGVDb0kl5jpOJsm5iyfgdjNZyk67t96-U_4JMfIDDY8RGcVnRlrKExA/En86BBMXYAE9bUh.jpg" data-image-dimensions="600x800" data-image-focal-point="0.5,0.5" alt="En86BBMXYAE9bUh.jpg" data-load="false" data-image-id="5fc98b0b2ae1264a0389776a" data-type="image" src="https://www.themostfamousartist.com/En86BBMXYAE9bUh.jpg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1607045462369_157150"><p><h2>Now that we have your attention…</h2></p></div><div data-block-type="2" id="block-yui_3_17_2_1_1607045462369_69251"><div><p>We are pleased to offer a small group of collectors </p><p>the opportunity to purchase an authentic alien monolith </p><p>from the studio of </p><p>“The Most Famous Artist”</p></div></div></div></div></div>
              </section>
            
          </main>

        </div>
      </div>

      


    </div></div>]]>
            </description>
            <link>https://www.themostfamousartist.com/maas</link>
            <guid isPermaLink="false">hacker-news-small-sites-25299598</guid>
            <pubDate>Fri, 04 Dec 2020 06:22:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Faroe Island roundabout under the Atlantic Ocean]]>
            </title>
            <description>
<![CDATA[
Score 93 | Comments 61 (<a href="https://news.ycombinator.com/item?id=25299574">thread link</a>) | @sohkamyung
<br/>
December 3, 2020 | https://nordfra.dk/faroe-island-first-roundabout-in-the-world-under-the-atlantic-ocean/ | <a href="https://web.archive.org/web/*/https://nordfra.dk/faroe-island-first-roundabout-in-the-world-under-the-atlantic-ocean/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<div id="content">

<div>
	<div id="primary">
		<main id="main" role="main">

			
<article id="post-1224" class="page">
	<!-- .entry-header -->
	<div>
		<p><img src="http://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o.jpg" alt="" width="2000" height="829" srcset="https://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o.jpg 2000w, https://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o-300x124.jpg 300w, https://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o-1024x424.jpg 1024w, https://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o-768x318.jpg 768w, https://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o-1536x637.jpg 1536w, https://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o-250x104.jpg 250w, https://nordfra.dk/wp-content/uploads/2020/12/128669834_3552788624799306_5681539663523713154_o-350x145.jpg 350w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px"></p>
<p>The Eysturoyartunnilin (or Eysturoy Tunnel, earlier known as Skálafjarðartunnilin) is a large infrastructure project which connects the island of Streymoy to the island of Eysturoy through a sub-sea road tunnel under the Tangafjørður sound in the Faroe Islands. It also crosses the southern part of Skálafjørður and connects the towns of Runavík on the eastern side and Strendur on the western side of the fjord. Altogether, the three-branch sub-sea tunnel measures 11.24 kilometres (6.8 miles) long, including an underwater roundabout. Construction costs are estimated to be around a billion DKK. It will open for traffic in December 2020.</p>
	</div><!-- .entry-content -->
</article><!-- #post-1224 -->

		</main><!-- #main -->
	</div><!-- #primary -->
</div><!-- .wrap -->


		</div><!-- #content -->

		<!-- #colophon -->
	</div></div>]]>
            </description>
            <link>https://nordfra.dk/faroe-island-first-roundabout-in-the-world-under-the-atlantic-ocean/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25299574</guid>
            <pubDate>Fri, 04 Dec 2020 06:18:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PostGraphile – PostgreSQL Schema Design]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25299458">thread link</a>) | @rahimnathwani
<br/>
December 3, 2020 | https://www.graphile.org/postgraphile/postgresql-schema-design/#authentication-and-authorization | <a href="https://web.archive.org/web/*/https://www.graphile.org/postgraphile/postgresql-schema-design/#authentication-and-authorization">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The Postgres database is rich with features well beyond that of any other
database. However, most developers do not know the extent to which they can
leverage the features in Postgres to completely express their application
business logic in the database.</p>
<p>Often developers may find themselves re-implementing authentication and
authorization in their apps, when Postgres comes with application level security
features out of the box. Or perhaps developers may rewrite basic insert
functions with some extra app logic where that too may be handled in the
database.</p>
<p>This reimplementation of features that come with Postgres is not just an
inefficient way to spend developer resources, but may also result in an
interface that is slower than if the logic was implemented in Postgres itself.
PostGraphile aims to make developers more efficient and their APIs faster by
packaging the repeatable work in one open source project that encourages
community contributions.</p>
<p>In this tutorial we will walk through the Postgres schema design for a forum
application with users who can login and write forum posts. While we will
discuss how you can use the schema we create with PostGraphile, this article
should be useful for anyone designing a Postgres schema.</p>
<p>If you haven't installed PostGraphile already, you can follow our
<a href="https://www.graphile.org/postgraphile/quick-start-guide/">Quick Start Guide</a> to get PostGraphile up and
running.</p>
<h3 id="table-of-contents"><a href="#table-of-contents" aria-label="table of contents permalink"></a>Table of Contents</h3>
<ul>
<li>
<p><a href="#the-basics">The Basics</a></p>
<ul>
<li><a href="#setting-up-your-schemas">Setting Up Your Schemas</a></li>
<li><a href="#the-person-table">The Person Table</a></li>
<li><a href="#table-documentation">Table Documentation</a></li>
<li><a href="#the-post-table">The Post Table</a></li>
</ul>
</li>
<li>
<p><a href="#database-functions">Database Functions</a></p>
<ul>
<li><a href="#set-returning-functions">Set Returning Functions</a></li>
<li><a href="#triggers">Triggers</a></li>
</ul>
</li>
<li>
<p><a href="#authentication-and-authorization">Authentication and Authorization</a></p>
<ul>
<li><a href="#storing-emails-and-passwords">Storing Emails and Passwords</a></li>
<li><a href="#registering-users">Registering Users</a></li>
<li><a href="#postgres-roles">Postgres Roles</a></li>
<li><a href="#json-web-tokens">JSON Web Tokens</a></li>
<li><a href="#logging-in">Logging In</a></li>
<li><a href="#using-the-authorized-user">Using the Authorized User</a></li>
<li><a href="#grants">Grants</a></li>
<li><a href="#row-level-security">Row Level Security</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<h3 id="the-basics"><a href="#the-basics" aria-label="the basics permalink"></a>The Basics</h3>
<h4 id="setting-up-your-schemas"><a href="#setting-up-your-schemas" aria-label="setting up your schemas permalink"></a>Setting Up Your Schemas</h4>
<p>All of our database objects will go into one or two custom Postgres schemas. A
schema is essentially a namespace, it allows you to create tables with the same
name like <code>a.person</code> and <code>b.person</code>.</p>
<p>You can name your schema anything, we recommend naming your schema after your
app. This way if you are working on multiple apps in the same database (this
might only realistically happen in development), you can easily query the
databases of the different apps. We are going to create two schemas:
<code>forum_example</code>, and <code>forum_example_private</code>. To create these schemas we use the
<a href="https://www.postgresql.org/docs/current/static/sql-createschema.html"><code>CREATE SCHEMA</code></a>
command.</p>
<div data-language="sql"><pre><code><span>create</span> <span>schema</span> forum_example<span>;</span>
<span>create</span> <span>schema</span> forum_example_private<span>;</span></code></pre></div>
<p>You could create more or less schemas, it is all up to you and how you want to
structure your database. We decided to create two schemas. One of which,
<code>forum_example</code>, is meant to hold data users can see, whereas
<code>forum_example_private</code> will never be directly accessible to users.</p>
<p>Theoretically we want a user to be able to log in directly to our Postgres
database, and only be able to create, read, update, and delete data for their
user all within SQL. This is a mindshift from how we traditionally use a SQL
database. Normally, we assume whoever is querying the database has full
visibility into the system as the only one with database access is our
application. In this tutorial, we want to restrict access at the database level.
Don’t worry though! Postgres is very secure about this, users will have no more
permissions than that which you explicitly grant.</p>
<blockquote>
<p><strong>Note:</strong> When starting PostGraphile, you will want to use the name of the
schema you created with the <code>--schema</code> option, like so:
<code>postgraphile --schema forum_example</code>. Also, don’t forget to add the <code>--watch</code>
flag, with watch mode enabled PostGraphile will update your API as we add
tables and types throughout this tutorial.</p>
</blockquote>
<h4 id="the-person-table"><a href="#the-person-table" aria-label="the person table permalink"></a>The Person Table</h4>
<p>Now we are going to create the tables in our database which will correspond to
our users. We will do this by running the Postgres
<a href="https://www.postgresql.org/docs/current/static/sql-createtable.html"><code>CREATE TABLE</code></a>
command. Here is the definition for our person table:</p>
<div data-language="sql"><pre><code><span>create</span> <span>table</span> forum_example<span>.</span>person <span>(</span>
  id               <span>serial</span> <span>primary</span> <span>key</span><span>,</span>
  first_name       <span>text</span> <span>not</span> <span>null</span> <span>check</span> <span>(</span>char_length<span>(</span>first_name<span>)</span> <span>&lt;</span> <span>80</span><span>)</span><span>,</span>
  last_name        <span>text</span> <span>check</span> <span>(</span>char_length<span>(</span>last_name<span>)</span> <span>&lt;</span> <span>80</span><span>)</span><span>,</span>
  about            <span>text</span><span>,</span>
  created_at       <span>timestamp</span> <span>default</span> <span>now</span><span>(</span><span>)</span>
<span>)</span><span>;</span></code></pre></div>
<p>Now we have created a table with <code>id</code>, <code>first_name</code>, <code>last_name</code>, <code>about</code>, and
<code>created_at</code> columns (we will add an <code>updated_at</code> column later). Let’s break
down exactly what each line in this command does, we will only do this once. If
you already understand, you can skip ahead.</p>
<ol>
<li><code>create table forum_example.person</code>: This tells Postgres that we are
creating a table in the <code>forum_example</code> schema named <code>person</code>. This table
will represent all of our forum’s users.</li>
<li><code>id serial primary key</code>: This line establishes an auto-incrementing id field
which is always guaranteed to be unique. The first person we create will
have an id of 1, the second user will have an id of 2, and so on. The
<code>primary key</code> bit is also very important. PostGraphile will use the
<code>primary key</code> of a table in many places to uniquely identify an object,
including the globally unique id field.</li>
<li><code>first_name text not null check (char_length(first_name) &lt; 80)</code>: We want all
of our users to enter their first name and last name seperately, so this
column definition will create a column named <code>first_name</code>, of type <code>text</code>,
that is required (<code>not null</code>), and that must be less than 80 characters long
(<code>check (char_length(first_name) &lt; 80)</code>).
<a href="https://www.postgresql.org/docs/current/static/ddl-constraints.html">Check constraints</a>
are a very powerful feature in Postgres for data validation.</li>
<li><code>last_name text check (char_length(last_name) &lt; 80)</code>: This is very similar
to our column definition for <code>first_name</code>, except it is missing <code>not null</code>.
This means that unlike the <code>first_name</code> column, <code>last_name</code> is not required.</li>
<li><code>about text</code>: We want users to be able to express themselves! So they get to
write a mini forum post which will go on their profile page.</li>
<li><code>created_at timestamp default now()</code>: This final column definition will
provide us with some extra meta-information about their user. If not
specified explicitly, the <code>created_at</code> timestamp will default to the time
the row was inserted.</li>
</ol>
<p>And that’s our person table! Pretty simple, right?</p>
<p>The syntax and features of the Postgres
<a href="https://www.postgresql.org/docs/current/static/sql-createtable.html"><code>CREATE TABLE</code></a>
command are fairly easy to learn and understand. Creating tables is the easiest,
but also the most fundamental part of your schema design.</p>
<blockquote>
<p><strong>Note:</strong> We prefer singular identifers like <code>forum_example.person</code> over
<code>forum_example.people</code> because when you create a table, it is like you are
creating a class in a statically typed language. Classes have singular names
like “Person” while collections will often have plural names like “People.”
Table as a class is a better analogy than table as a collection because
Postgres itself will internally call tables “classes.”</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> In case you don’t like serial id of our table above, an alternative
to the <code>serial</code> primary key is UUIDs. To use UUIDs you would just need to add
the popular UUID extension, <code>uuid-ossp</code>, in your database setup, and specify a
default in your table creation. Like so:</p>
<div data-language="sql"><pre><code><span>create</span> extension <span>if</span> <span>not</span> <span>exists</span> <span>"uuid-ossp"</span><span>;</span>

<span>create</span> <span>table</span> forum_example<span>.</span>person <span>(</span>
  id uuid <span>primary</span> <span>key</span> <span>default</span> uuid_generate_v1mc<span>(</span><span>)</span><span>,</span>
  <span>.</span><span>.</span><span>.</span>
<span>)</span><span>;</span></code></pre></div>
<p>Alternatively you could use fully random UUIDs:</p>
<div data-language="sql"><pre><code><span>create</span> extension <span>if</span> <span>not</span> <span>exists</span> <span>"pgcrypto"</span><span>;</span>

<span>create</span> <span>table</span> forum_example<span>.</span>person <span>(</span>
  id uuid <span>primary</span> <span>key</span> <span>default</span> gen_random_uuid<span>(</span><span>)</span><span>,</span>
  <span>.</span><span>.</span><span>.</span>
<span>)</span><span>;</span></code></pre></div>
<p>There are pros and cons to both approaches, choose what works best for your
application!</p>
</blockquote>
<h4 id="table-documentation"><a href="#table-documentation" aria-label="table documentation permalink"></a>Table Documentation</h4>
<p>Now that we have created our table, we want to document it within the Postgres
database. By adding comments to our table and its columns using the Postgres
<a href="https://www.postgresql.org/docs/current/static/sql-comment.html"><code>COMMENT</code></a>
command, we will allow tools like PostGraphile to display rich domain specific
documentation.</p>
<p>To add comments, just see the SQL below:</p>
<div data-language="sql"><pre><code><span>comment</span> <span>on</span> <span>table</span> forum_example<span>.</span>person <span>is</span> <span>'A user of the forum.'</span><span>;</span>
<span>comment</span> <span>on</span> <span>column</span> forum_example<span>.</span>person<span>.</span>id <span>is</span> <span>'The primary unique identifier for the person.'</span><span>;</span>
<span>comment</span> <span>on</span> <span>column</span> forum_example<span>.</span>person<span>.</span>first_name <span>is</span> <span>'The person’s first name.'</span><span>;</span>
<span>comment</span> <span>on</span> <span>column</span> forum_example<span>.</span>person<span>.</span>last_name <span>is</span> <span>'The person’s last name.'</span><span>;</span>
<span>comment</span> <span>on</span> <span>column</span> forum_example<span>.</span>person<span>.</span>about <span>is</span> <span>'A short description about the user, written by the user.'</span><span>;</span>
<span>comment</span> <span>on</span> <span>column</span> forum_example<span>.</span>person<span>.</span>created_at <span>is</span> <span>'The time this person was created.'</span><span>;</span></code></pre></div>
<p>Incredibly simple, yet also incredibly powerful.</p>
<blockquote>
<p><strong>Note:</strong> Feel free to write your comments in Markdown! Most tools, including
GraphiQL which PostGraphile uses, will render your comments with the
appropriate styles.</p>
</blockquote>
<p>With this we have completed our person table, now let’s create a table for our
forum posts.</p>
<h4 id="the-post-table"><a href="#the-post-table" aria-label="the post table permalink"></a>The Post Table</h4>
<p>The users of our forum will want to be able to create posts. That’s the entire
reason we have a forum after all. To create the post table we go through a very
similar process as creating our <code>forum_example.person</code> table, but first we want
to create a type we will use in one of the columns. See the SQL below:</p>
<div data-language="sql"><pre><code><span>create</span> <span>type</span> forum_example<span>.</span>post_topic <span>as</span> <span>enum</span> <span>(</span>
  <span>'discussion'</span><span>,</span>
  <span>'inspiration'</span><span>,</span>
  <span>'help'</span><span>,</span>
  <span>'showcase'</span>
<span>)</span><span>;</span></code></pre></div>
<p>The Postgres
<a href="https://www.postgresql.org/docs/current/static/sql-createtype.html"><code>CREATE TYPE</code></a>
command will let you create a custom type in your database which will allow you
to do some really cool things. You can create a
<a href="https://www.postgresql.org/docs/current/static/rowtypes.html">composite type</a>
which is basically a typed object in GraphQL terms, you can create a
<a href="https://www.postgresql.org/docs/current/static/rangetypes.html">range type</a>
which represents exactly what you might think, or you can create an
<a href="https://www.postgresql.org/docs/current/static/datatype-enum.html">enum type</a>
which is what we did here.</p>
<p>Enum types are a static set of values, you <em>must</em> use one of the string values
that make up the enum in any column of the enum’s type. Having this type is
useful for us, because we want our forum posts to have one, or none, topics so
user’s may easily see what a post is about.</p>
<blockquote>
<p><strong>Note:</strong> PostGraphile implements custom handling for user-defined types. An
enum type like that defined above will be turned into a GraphQL enum that
looks like:</p>
<div data-language="graphql"><pre><code><span>enum</span> <span>PostTopic</span> <span>{</span>
  <span>DISCUSSION</span>
  <span>INSPIRATION</span>
  <span>HELP</span>
  <span>SHOWCASE</span>
<span>}</span></code></pre></div>
<p>You can also create custom composite types which will turn into GraphQL object
types with PostGraphile.</p>
<div data-language="sql"><pre><code><span>create</span> <span>type</span> my_schema<span>.</span>my_type <span>as</span> <span>(</span>
  foo <span>integer</span><span>,</span>
  bar <span>integer</span>
<span>)</span><span>;</span></code></pre></div>
<p>Would become the following GraphQL type:</p>
<div data-language="graphql"><pre><code><span>type</span> <span>MyType</span> <span>{</span>
  <span>foo</span><span>:</span> Int
  <span>bar</span><span>:</span> Int
<span>}</span></code></pre></div>
</blockquote>
<p>Now it is time to actually create our post table:</p>
<div data-language="sql"><pre><code><span>create</span> <span>table</span> …</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.graphile.org/postgraphile/postgresql-schema-design/#authentication-and-authorization">https://www.graphile.org/postgraphile/postgresql-schema-design/#authentication-and-authorization</a></em></p>]]>
            </description>
            <link>https://www.graphile.org/postgraphile/postgresql-schema-design/#authentication-and-authorization</link>
            <guid isPermaLink="false">hacker-news-small-sites-25299458</guid>
            <pubDate>Fri, 04 Dec 2020 05:54:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I Manage My Random Daily Notes]]>
            </title>
            <description>
<![CDATA[
Score 204 | Comments 173 (<a href="https://news.ycombinator.com/item?id=25299442">thread link</a>) | @hachibu
<br/>
December 3, 2020 | https://hachibu.net/posts/2020/how-i-manage-my-random-daily-notes/ | <a href="https://web.archive.org/web/*/https://hachibu.net/posts/2020/how-i-manage-my-random-daily-notes/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img src="https://hachibu.net/posts/2020/how-i-manage-my-random-daily-notes/images/featured.png"><figcaption><p>Illustration: Hachibu</p></figcaption></figure><p>For years, I kept track of random notes by creating a text or Markdown
file on my desktop. And at the end of the day, I would delete that file and
start over again the next day. Inspired by the minimalism of <a href="https://github.com/todotxt/todo.txt-cli">todo-txt-cli</a>,
I created a similar system to manage my own notes.</p><p>Keep reading for more details or skip to the code: <a href="https://github.com/hachibu/note.sh">github.com/hachibu/note.sh</a>.</p><h4 id="introduction">Introduction</h4><p>As I mentioned before, I used to keep a single notes file on my desktop, and I
would delete it everyday. I would use this notes file to keep track of random
thoughts and details related to my work and personal life. My notes file might
contain code snippets from work, inspirational quotes, or it might have my
latest and greatest open-source software idea, or maybe even the beginning of a
new blog post. Anyway, I loved the simplicity of it, and I didn’t want any more
apps, databases or logins in my life.</p><p>But it wasn’t until I started using <a href="https://github.com/todotxt/todo.txt-cli">todo-txt-cli</a>
that I considered writing a script to manage my own notes. The brilliant part
about <code>todo-txt-cli</code> is that it’s just text files stored in my Dropbox and a
small shell script to interface with those files.</p><p>Inspired by the minimalism of <code>todo-txt-cli</code>, I built <a href="https://github.com/hachibu/note.sh">note.sh</a>.
In total, the entire project consists of 1 Bash script, 1 environment variable
to configure the notes directory and 1 symlink to install it to your
<code>/usr/local/bin</code> directory.</p><h4 id="how-it-works">How It Works</h4><p>The way it works is that every time I run the script, it opens the note for that
day in my editor of choice. For example, if today was December 2, 2020 then the
script would open a file named <code>2020-12-02.md</code> in the notes directory.</p><p>I use Vim as my editor, and I have my notes stored on Dropbox so I can access
them on all of my computers. So, my shell RC file looks like this.</p><div><pre><code data-lang="shell"><span>export</span> <span>EDITOR</span><span>=</span><span>"vim"</span>
<span>export</span> <span>NOTE_DIR</span><span>=</span><span>"</span><span>$HOME</span><span>/Dropbox/Notes"</span>
</code></pre></div><p>And my Dropbox directory looks like this.</p><p><img src="https://hachibu.net/posts/2020/how-i-manage-my-random-daily-notes/images/dropbox-screenshot.png" alt="Dropbox Screenshot"></p><p>For searching, the script accepts a pattern and runs a recursive grep over the
notes directory. I chose grep because I use this script on both Mac and Linux,
and I wanted the script to be as portable as possible.</p><h4 id="conclusion">Conclusion</h4><p>I’ve been using this script for several months across several computers, and I
still love it. I don’t search as often as I thought I would, but it’s comforting
to know it’s all there if I need it. I also ended up creating an alias for my
script so all I need to type is the letter <code>n</code> to run the script.</p><p>In the future, I’d like to add a test suite to the code base, figure out how
to create a Homebrew formula, and add archiving for older notes.</p></div></div>]]>
            </description>
            <link>https://hachibu.net/posts/2020/how-i-manage-my-random-daily-notes/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25299442</guid>
            <pubDate>Fri, 04 Dec 2020 05:51:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[That Dothraki Horde, Part I: Barbarian Couture]]>
            </title>
            <description>
<![CDATA[
Score 117 | Comments 101 (<a href="https://news.ycombinator.com/item?id=25299176">thread link</a>) | @parsecs
<br/>
December 3, 2020 | https://acoup.blog/2020/12/04/collections-that-dothraki-horde-part-i-barbarian-couture/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2020/12/04/collections-that-dothraki-horde-part-i-barbarian-couture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>This is the first part of a three part (II, III) look at the Dothraki, the fictional horse-borne nomads of the <em>Game of Thrones</em> / <em>A Song of Ice and Fire</em> series and the degree to which George R.R. Martin’s claim that they are “an amalgam of a number of steppe and plains cultures” holds up to scrutiny.  This is something that I have been suggesting I would get to since (checks notes),<a href="https://acoup.blog/2019/05/04/new-acquisitions-that-dothraki-charge/"> May.  Of Last Year.</a>  So it is about time we actually get to it.</p>



<p>The plan is for this series to run in three parts.  Part I (this part) will discuss how the Dothraki <em>look</em> in the setting.  Part II will look at broader questions of social organization and culture (I am nearly certain this is one of those cases where there will be a IIa and a IIb, but my hope for brevity springs eternal).  Part III will look at military culture.  In all three parts I am going to use both the books and the show – noting where they diverge – in part because the heaviest characterization the Dothraki got in the show was when Martin was still significantly involved with it (meaning that large parts of it likely still reflect his vision), but also because the show is how the vast majority of people experience this particular fiction.  Both the original text and the show derived from it deserve to have their vision discussed.</p>



<p>As always, if you like what you are reading here, please share it; if you really like it, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>. And if you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings.</p>






<p>First, a <strong>content warning for this series</strong>: this is discussing <em>A Song of Ice and Fire</em> and <em>Game of Thrones</em> which features a lot of content which is not G-rated.  More to the point, it is a discussion of what – I will argue – Martin presents as one of, if not the most brutal and sexually violent society in that setting.  And that means those themes are going to come up here (less in this essay, but more in the other parts); we are going to remain serious and adult about those things of course, but they will be a part of this analysis nonetheless.  If that is not for you, by all means feel free to check out for a few weeks.</p>



<p>Before we get into the main point, <strong>I want to note that I am going to reference my series on the <a href="https://acoup.blog/2020/01/17/collections-the-fremen-mirage-part-i-war-at-the-dawn-of-civilization/">Fremen Mirage</a> <em>a lot</em> here</strong>, because there is a lot of Fremen stuff going on with how Dothraki society is depicted.  As a result, it may be useful to go back and read those, but just to recap, we may define the Fremen Mirage this way:</p>



<p><a href="https://acoup.blog/2020/02/21/collections-the-fremen-mirage-interlude-ways-of-the-fremen/"><strong>The Fremen Mirage is a literary trope, <em>unconnected to historical reality</em>, which presents societies as a contrast between unsophisticated, but morally pure, hyper-masculine and militarily effective ‘strong men’ societies honed by ‘hard times’ (that is, the Fremen of the term) and a sophisticated but effeminate and decadent ‘weak men’ societies weakened by ‘good times,’ frequently with an implicit assertion of the superior worth of the former.</strong></a></p>



<p>Next, a note on citation here from the books.  My understanding is that different printings of the books have different pagination, which seems to be why the Wiki of Ice and Fire cites by chapter numbers (except that the chapters of the books, as printed, <em>aren’t numbered</em> in the print editions I’ve seen, making this classical-style citation extremely cumbersome and inexact).  I am going to cite by the page numbers of my edition, which is the 2011 Bantam Books Trade Paperback Edition (the box set).  Hopefully that will be enough.</p>



<p>Finally, a note on my expertise here.  <strong>I am not a scholar of either the peoples of the Eurasian Steppe or the American Great Plains</strong>.  The former group does intrude into my period and study, as steppe nomads, in the form of Scythians, Sarmatians and Huns did interact (sometimes peacefully, sometimes violently) with the broader Mediterranean world.  Consequently, my knowledge of steppe peoples tend to be better that my knowledge of the Native American peoples of the Great Plains, but I have tried, within the limits of time and availability, to do my research. <strong> I actually think, in a strange sense, this is useful, because my own initial unfamiliarity with the topic has demonstrated to me just how <em>basic</em> the level of research and reading necessary to avoid the failures of this depiction are</strong>.  You do not, in turns out, need to be an experienced scholar on the topic; just a few books and a couple of emails is enough to already radically improve on what we see and read in <em>A Song of Ice and Fire</em>, much less the absolute <em>mess </em>of what we see in <em>A Game of Thrones</em>.</p>



<p>Writing this has been tricky.  I am well aware that both of these broad cultural groups (that is, Steppe peoples and Plains Native Americans) are often represented in popular culture only in the form of inaccurate and demeaning stereotypes.  I do not want to be just another link in that chain of poor understanding.  I have thus tried to root my argument here, wherever possible, in either the writings of specialist scholars (there will be more of that next week as we get into subsistence patterns, warfare, etc.) or primary evidence, particularly in terms of <em>period photographs</em>, when it comes to clothing and dress.  With luck I have not erred overmuch.</p>



<figure><img data-attachment-id="5355" data-permalink="https://acoup.blog/1024px-skythian_archer_plate_bm_e135_by_epiktetos/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg" data-orig-size="1024,991" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="1024px-skythian_archer_plate_bm_e135_by_epiktetos" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg 1024w, https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2020/12/1024px-skythian_archer_plate_bm_e135_by_epiktetos.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://en.wikipedia.org/wiki/Scythians#/media/File:Skythian_archer_plate_BM_E135_by_Epiktetos.jpg">Via Wikipedia</a>, an Attic vase-painting of a Scythian archer (c. 500 BCE).  The Scythians, like the Huns and Mongols, were a Eurasian Steppe people, many of them horse-borne nomads of the same sort.  Far from being drab, their clothing was colorful and distinctive, including their particular hats, which show up not only in Greek but also in Persian artwork.</figcaption></figure>



<h2>…But, Why?</h2>



<p>But before we get into the issue proper, it is important to clear away the standard objections, both why subject <em>A Song of Ice and Fire</em> (and its spin-off properties) to critical analysis at all and also why, if we are going to do that, we are going to focus squarely in on the Dothraki.  The answer to the first is something that we’ve rehearsed a number of times, but bears restating: for most of its readers (and the watchers of <em>A Game of Thrones</em>), <em>A Song of Ice and Fire</em> will be their primary exposure to the idea of the Middle Ages.  This is particularly true because of the reputation that the series has for being ‘<a href="https://acoup.blog/2019/05/28/new-acquisitions-not-how-it-was-game-of-thrones-and-the-middle-ages-part-i/">how it really was</a>,’ a reputation that George R.R. Martin has consciously cultivated (as with his classic complaint of <a href="https://youtu.be/p-VxvKoDFIw">‘what was Aragorn’s tax policy’</a> – there is a rich irony that, had Martin understood rulership in the Middle Ages better, he would have understood why Aragorn’s tax policy was less important).  Martin has been quite open that he “<a href="https://www.westeros.org/Citadel/SSM/Entry/6040/">draw[s] inspiration from history</a>” and that fact has long been a selling point of the series over more obviously fantastical kinds of medieval-themed high fantasy as well as a <a href="https://ew.com/article/2015/06/03/george-rr-martin-thrones-violence-women/">response to some of the series’ more controversial moments</a>.</p>



<p><strong>Naturally, that cloak of verisimilitude has tended to intensify the degree to which elements of <em>A Song of Ice and Fire</em> is taken by its readers and viewers as representative of the Middle Ages more generally.</strong>  And of course as I have noted in the (quite recent) past,<strong> <a href="https://acoup.blog/2020/11/20/miscellanea-my-thoughts-on-assassins-creed-valhalla/">fiction is often how the public conceptualizes the past and that concept of the past shapes the decisions we make in the present</a></strong>.  In the case of <em>A Song of Ice and Fire</em> in particular, this vision of the past is <a href="https://acoup.blog/2019/06/12/new-acquisitions-how-it-wasnt-game-of-thrones-and-the-middle-ages-part-iii/">particularly worth interrogating</a> because it serves as the basis for a<a href="https://youtu.be/ek2O6bVAIQQ"> parable on power and violence</a>.</p>



<p>But <em>even if it didn’t</em>, it would still be worth discussing these aspects of the universe of <em>A Song of Ice and Fire</em>, because that is what we are supposed to do with cultural products, with <em>literature</em>.  <strong>I am sometimes baffled that the very fans who insist that their particular loves be treated seriously, as <em>art</em> are the same fans who react with frustration if one then sets out to interrogate those same genres the way one would interrogate serious art or literature</strong>.  This is it, after all!  This is what you (we, really) wanted!  A (quite unimpressive, I’ll grant you) ivory tower academic is taking this genre seriously and subjecting it to serious criticism!  Isn’t that what emerging genres often hope for, to be taken seriously as ‘high’ literature?</p>



<p><strong>And of course we should take it seriously.</strong>  And here I want to speak briefly to the purpose of these sorts of endeavors, <strong>because the goal here is not to force anyone to dislike <em>A Song of Ice and Fire</em></strong>.   We’re not here to ‘cancel’ <em>ASOIF</em> any more than we were going to ‘cancel’ <a href="https://acoup.blog/2020/11/20/miscellanea-my-thoughts-on-assassins-creed-valhalla/"><em>AC:Valhalla</em> two weeks ago</a> (a game I continue to play, I might add).  Instead, discussing cultural products like this is a form of inoculation against their potentially negative aspects, because once a reader knows that, for instance, the depiction of a given culture in a work of fiction has relatively little to do with any real world culture, they can compartmentalize that to the fiction itself; <strong>it loses its power to mislead</strong> <strong>and so may be enjoyed in safety, as it were</strong>.  And there are good things in <em>A Song of Ice and Fire</em> and in the first six or so seasons of <em>Game of Thrones</em>; but we also need to be honest about the failings.</p>



<p>(Of course, more broadly, doing this as a practice exercise is a key part of building up that skill – what we may term ‘critical reading’ – more generally, rendering the alert reader more resistant to this sort of thing, both in its unintended form (as, I suspect, in this case) or  in its more dangerous<em> intended form</em>.  Put another way, developing critical reading skills is one important way to make one’s self a harder target for misinformation, including historical misinformation.)</p>



<h2>A Dash of Pure Fantasy</h2>



<p>Alright, so <em>A Song of Ice and Fire</em> is worth looking at closely.  So why <em>this</em> part of the fiction?  It comes down to something <a href="https://www.westeros.org/Citadel/SSM/Entry/6040/">George R.R. Martin wrote</a>:</p>



<blockquote><p>The Dothraki were actually fashioned as an amalgam of a number of steppe and plains cultures… Mongols and Huns, certainly, but also …</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2020/12/04/collections-that-dothraki-horde-part-i-barbarian-couture/">https://acoup.blog/2020/12/04/collections-that-dothraki-horde-part-i-barbarian-couture/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2020/12/04/collections-that-dothraki-horde-part-i-barbarian-couture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25299176</guid>
            <pubDate>Fri, 04 Dec 2020 05:05:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parsing Clojure namespace forms using Raku Grammars]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25299099">thread link</a>) | @samebchase
<br/>
December 3, 2020 | https://raku-advent.blog/2020/12/04/day-4-parsing-clojure-namespaces-with-grammars/ | <a href="https://web.archive.org/web/*/https://raku-advent.blog/2020/12/04/day-4-parsing-clojure-namespaces-with-grammars/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-687">

	

	
	<div>
		
<p>One day, I started wondering if it would be possible to parse <a href="https://clojure.org/reference/namespaces">Clojure namespace</a> forms and generate a dependency graph of the various namespaces used in a real-world Clojure project. While that was the original motivation, I ended up down the <a href="https://docs.raku.org/language/grammars">Raku grammar</a> rabbit hole, and had an enjoyable time learning how to use them. I’m glad you’re joining me in reliving that journey.</p>



<h2><a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#background"></a>Background<a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#grammars"></a></h2>



<h3>Grammars</h3>



<p>Informally speaking, grammars can be thought of as a set of rules that describe a language. With these rules, one can meaningfully parse (to make sense of, or deconstruct into its grammatical components) a piece of text. It turns out that this is a common task in computing. We need to frequently translate programs from one language to another. This is the job of a compiler. Before being able to translate it, the compiler needs to know whether the original program is even valid, according to the language’s grammar.</p>



<p>While we have explained in theory what grammars are, Raku grammars help us model abstract grammars as a programming construct (the <code>grammar</code> keyword and its adjacent helpers) using which we can perform parsing tasks. It is <em>important</em> to understand this distinction.</p>



<p>First class <a href="https://docs.raku.org/language/grammars">grammars</a> are considered one of the revolutionary features of Raku. Normally, you’d find grammars as a library or a standalone tool, but Raku has embraced it wholesale, and has a powerful implementation of grammars which makes light work of most parsing tasks.<a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#clojure"></a></p>



<h3>Clojure</h3>



<p><a href="https://clojure.org/">Clojure</a> is a modern lisp, and happens to be the language I use in <code>$DAYJOB</code>. At the top of most Clojure files, there is a namespace form importing various internal and external namespaces. This way we can neatly organize our project into many separate files, rather than having to put them all into one big file. We are shortly going to design a grammar that can parse these namespace forms.</p>



<h3><a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#grammartracer"></a>Grammar::Tracer</h3>



<p><a href="https://github.com/jnthn/grammar-debugger">Grammar::Tracer</a> is helpful in figuring out where your grammar fails to match, and is invaluable in debugging. Make sure you do <code>zef install Grammar::Tracer</code> before running the code examples.</p>



<h2><a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#lets-start-cookin"></a>Let’s start cookin’</h2>



<h3><a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#a-trivial-example"></a>A trivial example</h3>



<p>A Clojure namespace is a Lisp form, which as expected starts with an open paren and ends with a close paren. Let’s write a grammar for one of the simplest Clojure forms, the empty list.</p>



<pre>()</pre>



<pre><code>grammar EmptyLispForm {
    token TOP { &lt;lparen&gt; &lt;rparen&gt; }

    token lparen { '(' }
    token rparen { ')' }
}</code></pre>



<p>This is one of the simplest possible grammars we can write. Parsing always starts with the <code>TOP</code> token, and recurses into the various component tokens from there. We just have two such tokens <code>lparen</code> and <code>rparen</code> which are used to denote the left and right parens. Play around with <a href="https://gist.github.com/samebchase/e988e1ed9609daffaf1849c2527af51d">trivial.raku</a> to see how we can parse this.</p>



<h3><a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#warmup-slaying-a-cliched-interview-question-using-raku-grammars"></a>Warmup: Slaying a cliched interview question using Raku grammars</h3>



<p>Q: Write a program that checks that parentheses are balanced.</p>



<p>For example:</p>



<pre>() ;; balanced
(()) ;; balanced
(()(())) ;; balanced
(()(((()))) ;; unbalanced</pre>



<pre>grammar BalancedParens {
    token TOP { &lt;balanced-paren&gt; }

    token balanced-paren { &lt;lparen&gt; &lt;balanced-paren&gt;* &lt;rparen&gt; }

    token lparen { '(' }
    token rparen { ')' }
}</pre>



<p>It’s likely I’ve made this more wordy than necessary, but that’s still only <em>six</em> rather-readable lines.</p>



<p>Now, under time pressure which seems more likely? Coding up a stack and fiddling with corner cases or using grammars with the awesomeness of <code>Grammar::Tracer</code> to quickly hack out a declarative solution.</p>



<p>It turns out, that we have just tackled one of the trickiest aspects of writing a real-world grammar, and that is dealing with nested structures. As programmers we know that when we see nested structures, we know we will have to deal with recursion in some form.</p>



<p>You can play around with <a href="https://gist.github.com/samebchase/fad8108cb6daeaf8043d92a40eb29276">balanced-parens.raku</a> program on the console, and observe how the grammar is parsed.</p>



<p>Note: It turns out there is a <a href="https://docs.raku.org/language/regexes#Tilde_for_nesting_structures">better</a> way to parse nested structures, but this is fine for now.<a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#parsing-our-first-namespace-form"></a></p>



<h3>Parsing our first namespace form</h3>



<p>Let’s try to parse this simple namespace declaration:</p>



<pre><code>;; 1   3
   |   |
;; (ns my-own.fancy.namespace)
    |                        |
;;  2                        4</code></pre>



<p>While this is easy, it is going to be an important building block in tackling more complicated namespace forms. Let’s break this down into its four component <a href="https://en.wikipedia.org/wiki/Lexical_analysis#Lexeme">lexemes</a>. We can see the open and close parens, we see <code>ns</code>, the namespace <code>my-own.fancy.namespace</code> and finally the close paren. That’s it! Let’s tackle these individual pieces using a grammar.</p>



<pre>grammar SimpleNs {
    token TOP { &lt;simple-ns&gt; }

    #                  1        2            3         4
    #                  |        |            |         |
    token simple-ns { &lt;lparen&gt; &lt;ns-keyword&gt; &lt;ns-name&gt; &lt;rparen&gt; }

    token ns-keyword { 'ns' }
    token ns-name { &lt;.ns-name-component&gt;+ % '.' }
    token ns-name-component { ( &lt;.alnum&gt; | '-' )+ }

    token lparen { '(' }
    token rparen { ')' }
}</pre>



<p>Over here we can see that we have translated this into a simple Raku grammar. You could argue that defining <code>simple-ns</code> is not even required, we could have just put it in <code>TOP</code> directly, but anyway.</p>



<p>We will need to deal a little with <a href="https://en.wikipedia.org/wiki/Regular_expression">regexes</a> here. In the various flavours of regexes, <code>+</code> usually means one or more. <code>|</code> has a slightly different meaning from what you’re expecting, but you can check the regex <a href="https://docs.raku.org/language/regexes">documentation</a> for all the details on the difference between <code>|</code> and <code>||</code>. Loosely speaking, we are saying that a <em>namespace component</em>, i.e. the thing between two dots, is made up of one or more alphanumneric characters or hyphens. Now, if there is a rule saying a namespace has to start with an alphabetic character, and not a number, the grammar will become a little more complex, but this is a pedagogic example, so we’ll not be too pedantic.</p>



<p>I expect eagle-eyed readers to point out a few things:</p>



<ol><li>Where is <code>&lt;.alnum&gt;</code> being defined, and why does it have a dot before it?</li></ol>



<p><code>alnum</code> is predefined. The reason it has a <code>.</code> before it is so that we are not interested in capturing each letter; it’s too low level. We are interested in capturing a top-level token like <code>ns-name</code> instead, and not each individual character. Play around with the code examples by adding and removing a dot from various tokens and see the difference in <code>Grammar::Tracer</code>‘s output.</p>



<ol start="2"><li>What does <code>%</code> mean?</li></ol>



<p>This is a very useful convenience to describe patterns where something is interspersed between a bunch of other things. For example, we can have a namespace like <code>foo.bar.baz</code> or we could have an IPv4 address <code>192.168.0.1</code> where integers are separated by dots.</p>



<pre>token ns-name { &lt;.ns-name-component&gt;+ % '.' }</pre>



<p>This means that <code>ns-name</code> is made up of at least one <code>ns-name-component</code>‘s (denoted by the <code>+</code>) and separated by a <code>.</code> (denoted by <code>%</code>).</p>



<p>Okay, so this should work I guess? Let’s see what happens when we run the code!</p>



<p>No, that didn’t work. As <code>Grammar::Tracer</code> helpfully tells us, we did not account for the space after <code>ns</code>. In traditional compiler theory, there is a process of tokenisation, where some lightweight regexes are used to separate the program into its component lexemes and discard all the extraneous spaces before the parser takes over. However, here we will not do that, and we’ll deal with it in the grammar itself. Now, it could be argued whether that is a good decision, but that’s another discussion. Let’s add some allowance for whitespace and see what happens. While building the full Clojure NS grammar, I got myself into a position where I liberally used to sprinkle <code>&lt;.ws&gt;*</code> indicating zero or more whitespace characters in places where I felt that we should allow optional whitespace, as you would expect in a real-world program.</p>



<pre>token simple-ns { &lt;lparen&gt; &lt;ns-keyword&gt; &lt;.ws&gt; &lt;ns-name&gt; &lt;rparen&gt; }</pre>



<p>With that tiny addition, we are now able to parse the simple namespace form. You can play around with <a href="https://gist.github.com/samebchase/0820b9ecfdb011a9b73aedfb4ba349d1">simple-ns.raku</a>.<a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#lets-make-our-lives-a-little-more-difficult"></a></p>



<h3>Let’s make our lives a little more difficult</h3>



<p>Okay, now we are getting the hang of this, so let’s see a namespace form which is a little more <a href="https://gist.github.com/samebchase/3debbe6190eb1c8f5325ae2640840db4">realistic</a>.</p>



<pre>(ns my-amazing.module.core
  (:require [another-library.json.module :as json]
            [yet-another.http.library :as http]))</pre>



<p>This is a realistic namespace form which we shall parse by adding support for the <code>:require</code> form where other libraries are imported and given a short nickname.</p>



<p>Can this be done? You bet!</p>



<pre>grammar RealisticNs {
    token TOP { &lt;realistic-ns&gt; }

    token realistic-ns { &lt;lparen&gt;
                           &lt;ns-keyword&gt; &lt;.ws&gt; &lt;ns-name&gt; &lt;.ws&gt;
                           &lt;require-form&gt;
                         &lt;rparen&gt; }

    token ns-keyword { 'ns' }

    token ns-name { &lt;.ns-name-component&gt;+ % '.' }
    token ns-name-component { ( &lt;.alnum&gt; | '-' )+ }

    token require-form { &lt;lparen&gt;
                           &lt;require-keyword&gt; &lt;ws&gt;? &lt;ns-imports&gt;
                         &lt;rparen&gt; }

    token require-keyword { ':require' }

    token ns-imports { &lt;ns-import&gt;+ % &lt;.ws&gt; }

    token ns-import { &lt;lsquare&gt;
                        &lt;ns-name&gt; &lt;.ws&gt; ':as' &lt;.ws&gt; &lt;ns-nickname&gt;
                      &lt;rsquare&gt; }

    token ns-nickname { &lt;.alnum&gt;+ }

    token lsquare { '[' }
    token rsquare { ']' }
    
    token lparen { '(' }
    token rparen { ')' }
}</pre>



<p>Nothing too scary as yet. We can see how the grammar evolves. At the top level, in <code>realistic-ns</code> we have added an extra token called <code>&lt;require-form&gt;</code> and we flesh out the details later. We can manage complexity in this manner, so that we have the ability to zoom in and out of the details as necessary.<a href="https://gist.github.com/samebchase/8d37f7d961ecc981e9ab9a5d36763dd5#using-the-parsed-data"></a></p>



<h3>Using the parsed data</h3>



<p>Now that we have been able to parse the data, we need to make use of what we’ve parsed. This is where <em>Actions</em> come into the picture.</p>



<p>When we do <code>RealisticNs.parse(...)</code>, that returns a <code>Match</code> object corresponding to the <code>RealisticNs</code> grammar. While we can query that object to get the pieces of data that we require, it is less cumbersome to use <em>Actions</em> to build up the data we are actually interested in.</p>



<p>Given, a namespace, we want to extract out:</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raku-advent.blog/2020/12/04/day-4-parsing-clojure-namespaces-with-grammars/">https://raku-advent.blog/2020/12/04/day-4-parsing-clojure-namespaces-with-grammars/</a></em></p>]]>
            </description>
            <link>https://raku-advent.blog/2020/12/04/day-4-parsing-clojure-namespaces-with-grammars/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25299099</guid>
            <pubDate>Fri, 04 Dec 2020 04:51:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Notes for Devs Talking to Designers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25298889">thread link</a>) | @philipkiely
<br/>
December 3, 2020 | https://philipkiely.com/essays/designer_talk.html | <a href="https://web.archive.org/web/*/https://philipkiely.com/essays/designer_talk.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>Thanks to a conversation I had with <a href="https://twitter.com/jackzerby">Jack Zerby</a> at Gumroad, I now feel confident asking designers to create a user interface, graphic, visual identity, or any other design artifact and have become much more productive at communicating and delegating design tasks. This is essential because my design skills are non-existent. Fortunately, design skills don’t matter in creating a spec, design thinking does. These are my notes from that&nbsp;conversation.</p>
<p>Readers familiar with speccing software or anything else may realize that the advice I’m conveying here matches both your use case and the general case. That, in fact, is the insight that I was missing before the conversation. I already knew how to spec a design, I just needed the right&nbsp;words.</p>
<h3>Step-by-Step&nbsp;Spec</h3>
<p>If you write a spec with all of this information, your designer should have everything they need to get&nbsp;started.</p>
<h4>Step 1: Specify context and&nbsp;canvas</h4>
<p>The canvas is the size and nature of the space the designer has to work in. For graphics, it is the literal dimensions, for software, it is the range of screens that a user might interface with the design from. Web vs mobile is also a canvas&nbsp;question.</p>
<p>Context is what else is nearby. This can mean other aspects of the application as a whole, or it can mean where the user is in a certain process when they encounter the design. If you are asking for a graphic to use on Twitter, that is part of the context, and is very different than asking for a graphic to use on a physical billboard in ways that just the size of the canvas doesn’t fully&nbsp;convey.</p>
<h4>Step 2: List the&nbsp;ingredients</h4>
<p>What actually goes in the design? What information needs to be conveyed? What actions does the user have access to? Be complete, if you don’t list it, the designer won’t know to include&nbsp;it.</p>
<p>An existing stylesheet, illustration, library, or other asset is also an ingredient in the&nbsp;design.</p>
<p>Make sure you have the right number of ingredients for your canvas and context. The more skilled your designer, the more range you get on this, but only to a certain&nbsp;limit.</p>
<h4>Step 3: Identify patterns and&nbsp;hierarchies</h4>
<p>Tell your designer which elements and ingredients are the most important. When you tell your designer the relative importance of the various aspects they use their tools to communicate that importance to the&nbsp;user. </p>
<p>Work with patterns of information within the hierarchy while avoiding identical sections blurring together. Information should match and rhyme, not repeat. But, without a pattern, the design will present friction to the&nbsp;user.</p>
<p>You can communicate hierarchy in words. Lists, especially nested lists, are important here. Order matters, especially in something that can be scrolled&nbsp;through.</p>
<p>If you communicate hierarchy in pictures, don’t go any higher fidelity than a <a href="https://basecamp.com/shapeup/1.3-chapter-04">fat marker sketch</a>. Otherwise, you’ll artificially limit your designer early in the&nbsp;process.</p>
<h4>Step 4: Set&nbsp;tone</h4>
<p>Asking to communicate emotions, impressions, and themes is okay, even good. “X but not Y” is a powerful pattern for doing so, like “minimalist but not empty” or “whimsical but not frivolous.” The more evocative your description, the&nbsp;better.</p>
<h4>Step 5: Send and&nbsp;iterate</h4>
<p>Everything in the spec should be written to avoid friction with the designer. Every time they have to ask you what you mean or you go back and forth on an aspect of your spec, that adds friction to the design process. The faster the turnaround, the more specific your request should be. Specify how many iterations your project merits or your timeline&nbsp;allows.</p>
<p>Design iterations alternate between wide and deep. A “wide” iteration yields several versions of the requested design as a whole. A “deep” iteration takes a chosen design from the wide iteration and comes up with variations on the&nbsp;theme.</p>
		</div></div>]]>
            </description>
            <link>https://philipkiely.com/essays/designer_talk.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25298889</guid>
            <pubDate>Fri, 04 Dec 2020 04:19:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No dog food today – the Linux Foundation annual report]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25298501">thread link</a>) | @BerkhanBerkdemi
<br/>
December 3, 2020 | https://daniel-lange.com/archives/166-No-dog-food-today-the-Linux-Foundation-annual-report.html | <a href="https://web.archive.org/web/*/https://daniel-lange.com/archives/166-No-dog-food-today-the-Linux-Foundation-annual-report.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><a href="https://daniel-lange.com/categories/17-Strategy"><img title="Strategy: Airplanes are interesting toys but of no military value. (Marechal Ferdinand Foch, Professor of Strategy, Ecole Superieure de Guerre)" alt="Strategy" src="https://daniel-lange.com/uploads/strategy.serendipityThumb.jpg"></a></p><p>The Linux Foundation has published its <a href="https://www.linuxfoundation.org/wp-content/uploads/2020/11/2020-Linux-Foundation-Annual-Report_113020.pdf">annual report</a> today. LWN <a href="https://lwn.net/Articles/838871">calls it glossy</a> and yeah, boy, it is shiny.</p>

<p>So shiny that people that work in the publishing industry immediately see this has been produced with the Adobe toolchain which - unfortunately - is one of the big suites of software not yet available for Linux.</p>

<p>Checking the PDF file metadata reveals the keywords "open source, open standards, open hardware, open data". That is what the Linux Foundation is about. Good stuff.</p>

<p><!-- s9ymdb:667 --><img width="552" height="676" src="https://daniel-lange.com/uploads/entries/Linux-Foundation-Annual-Report-2020-cover.jpg" title="Mouseovers are for xkcd!" alt="Linux Foundation annual report 2020 cover"></p>

<p>The PDF producer meta data for the annual report PDF has been set to "Linux kernel 0.12.1 for Workgroups" and the PDF creator meta data element to "Sharp Zaurus XR-5000 (Maemo5) Edition". Somebody thought to better hide the real data and had some tongue-in-cheek ideas. Kudos.</p>

<p>But nicer would have been to use Open Source software to produce the report, not?</p>

<p>Running <code>strings 2020-Linux-Foundation-Annual-Report_113020.pdf | grep Adobe | wc -l</code> gives us 1229 lines and confirms the suspicion of the toolchain.</p>

<p>A stale <code>/Title (Annual Report 2020) /Producer (macOS Version 10.15.7 \(Build 19H15\) Quartz PDFContext)</code> has been forgotten in the document to tell us about the platform.</p>

<p>So, ladies and gentlemen, the Linux Foundation 2020 annual report has been produced on a Mac.</p>

<p>Running Adobe Creative Cloud on MacOS Catalina 10.15.7.</p>

<p>Which is proprietary software. Its kernel (and some userland pieces) are based on BSD. Not Linux.</p>

<hr>

<p>The image on the front page also struck me as a bit odd ... using a ballpoint pen on the laptop screen?</p>

<p>Unbranded laptop.
Unbranded cup in the foreground.</p>

<p>Kid in the background <em>not</em> paying attention to his tablet.</p>

<p>All of that cries stock image so loud it hurts.</p>

<p>Google currently finds ~560 uses of the picture and any <a href="https://www.shutterstock.com/support/article/Do-I-need-to-credit-Shutterstock-the-artist-when-I-use-Images-or-Footage">editorial use</a> nicely tells us that it is © <a href="https://www.shutterstock.com/de/g/draganagordic">Dragana Gordic / Shutterstock</a>.</p>

<p>The image is "Smiling mom working at home with her child on the sofa while writing an email. Young woman working from home, while in quarantine isolation during the Covid-19 health crisis".</p>

<p>See the <a href="https://www.dailymail.co.uk/news/article-8683629/Staff-working-home-nearly-extra-hour-day-research-shows-send-emails.html">Daily Mail</a> for a wonderful example of the working mum in context. I hope, if her laptop had been powered on, it would have run Linux. I mean, what else would still run on an old white MacBook with an Intel "Core 2 Duo" processor from 2008?</p>

<p><!-- s9ymdb:668 --><img width="504" height="742" src="https://daniel-lange.com/uploads/entries/DailyMail-screenshot-stock-image.png" title="O.k., here you go: Shiny, too!" alt="Daily Mail screenshot of the same stock image used"></p>

                </div><div id="extended">
        <p>Bonus round:</p>

<p>The Ethernet port, the USB ports and the headset connector are on the left side of the MacBook. The Daily Mail got it right.</p>

<p>Mirroring images is usually not a good idea. To Linux Foundation's defense ... similar pictures are available <a href="https://www.shutterstock.com/de/image-photo/busy-young-woman-son-home-shot-1680921679">already mirrored on Shutterstuck</a> next to the <a href="https://www.shutterstock.com/de/image-photo/smiling-mom-working-home-her-child-1680923362">correctly oriented picture</a>.</p>

        </div></div>]]>
            </description>
            <link>https://daniel-lange.com/archives/166-No-dog-food-today-the-Linux-Foundation-annual-report.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25298501</guid>
            <pubDate>Fri, 04 Dec 2020 03:18:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Perfection is a process, not the result]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25298477">thread link</a>) | @phongduong
<br/>
December 3, 2020 | https://phongduong.dev/blog/perfection-is-a-process-not-the-result/ | <a href="https://web.archive.org/web/*/https://phongduong.dev/blog/perfection-is-a-process-not-the-result/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>For me, perfection is that I don't want to have any errors in what I do. It's hard and exhausted to keep everything perfect. When I publish a piece of content, I want it to be perfect. But I always feel something was wrong and afraid someone would point out the error. After all, I just make a little modification and leave it behind because it's wasting time.</p>
<p>I have so much content I want to create. I don't want to stick with a piece of content for too long. When I start creating another piece of content, I try to avoid previous mistakes. I also try something new in it. The joy of creating content is you can try something new and see if it works.</p>
<p>This is the issue that makes me hesitate to create content. I want my content to be useful to my audiences. I also want to create as much content as possible. After trying some ways, I think I should prioritize the quantity rather than quality. Because I can improve my content by creating more. </p>
<p>Now, perfection for me is not the result of a piece of content. It's a process in which I try, modify, and improve pieces by pieces. If I satisfy with a blog post or video, I just publish it and create another. When I find a mistake, I will fix it.</p>
</div></div>]]>
            </description>
            <link>https://phongduong.dev/blog/perfection-is-a-process-not-the-result/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25298477</guid>
            <pubDate>Fri, 04 Dec 2020 03:12:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PixelNeRF Neural Radiance Fields from One or Few Images]]>
            </title>
            <description>
<![CDATA[
Score 207 | Comments 55 (<a href="https://news.ycombinator.com/item?id=25298426">thread link</a>) | @choppaface
<br/>
December 3, 2020 | https://alexyu.net/pixelnerf/ | <a href="https://web.archive.org/web/*/https://alexyu.net/pixelnerf/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p id="paper-title">
            
            <h3>
                Neural Radiance Fields from One or Few Images
            </h3>
            <h3>
                <small title="Note: This is a joke">IEEE International Conference on Neural Radiance Fields (ICNeRF)</small>
            </h3>
        </p>

        
        
        <div>
            <div>
                <div id="dynamic-teaser">
                     <!-- row -->

                     <!-- row -->
                    <div id="teaser-dtu">
                        <div>
                            <p>3 Input Views</p>
                            
                            <p><strong>pixelNeRF</strong></p>
                            <p>3-view NeRF</p>
                        </div>
                        <div>
                            <p><img src="https://alexyu.net/pixelnerf/img/teaser/dtu_inputs.jpg">
                            </p>
                            
                            <p><img src="https://alexyu.net/pixelnerf/img/teaser/dtu_outputs_sm.gif">
                            </p>
                        </div> <!-- row -->
                    </div>
                </div> <!-- dynamic-teaser -->
                <!-- <img id="teaser" src="img/teaser.png" class="img-responsive" alt="teaser figure"> -->
                <p>
                    We propose pixelNeRF, a learning framework that predicts a continuous neural scene representation conditioned on
                    one or few input images.
                    The existing approach for
                    constructing neural radiance fields&nbsp;<a href="https://www.matthewtancik.com/nerf">[Mildenhall et al. 2020]</a>
                    involves optimizing the representation to every scene independently, requiring many calibrated views and significant compute time.
                    We take a step towards resolving these shortcomings
                    by introducing an architecture that conditions a NeRF on image inputs in a fully convolutional manner. This allows the network to be trained across multiple scenes to learn a scene prior, enabling it to perform novel view synthesis in a feed-forward manner from a sparse set of views (as few as one).
                </p>

            </div>
        </div>
        <div id="overview-video">
            <div>
                <h4>Narrated Overview</h4>
                <p>
                    <iframe src="https://www.youtube.com/embed/voebZx7f32g" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
                </p>
            </div>
        </div>
        <div>
            <div>
                <p>
                    Leveraging the volume rendering approach of NeRF, our model can be trained directly from images with no explicit 3D supervision.
                    We conduct extensive experiments on ShapeNet benchmarks for single image novel view synthesis tasks with held-out objects as well as entire unseen categories.
                    We further demonstrate the flexibility of pixelNeRF by demonstrating it on multi-object ShapeNet scenes and real scenes from the DTU dataset. In all cases, pixelNeRF outperforms current state-of-the-art baselines for novel view synthesis and single image 3D reconstruction.
                </p>
                <p><img src="https://alexyu.net/pixelnerf/img/pipeline.png" alt="pipeline">
            </p></div>
        </div>
        <div>
            <div>
                <h4>Feed-forward NeRF from One View</h4>
                <p>
                    Using multiview image supervision, we train a single pixelNeRF to 13 largest object categories
                    in ShapeNet in order to perform novel-view synthesis on unseen objects.
                    Our approach operates in <strong>view-space</strong>—as opposed to canonical—and requires <strong>no test-time optimization</strong>.
                    Nevertheless, in terms of image metrics, we significantly outperform existing methods quantitatively, as shown in the paper.
                </p>
                <div>
                    <div>
                        <div>
                            <p>Input</p>
                            <p>SoftRas</p>
                            <p>DVR</p>
                            <p>SRN</p>
                            <p><strong>pixelNeRF</strong></p>
                            <p>GT</p>
                        </div>
                        <p><img src="https://alexyu.net/pixelnerf/img/gif/shapenet_000.gif" alt="shapenet results animated">
                    </p></div>
                    <div>
                        <div>
                            <p>Input</p>
                            <p>SoftRas</p>
                            <p>DVR</p>
                            <p>SRN</p>
                            <p><strong>pixelNeRF</strong></p>
                            <p>GT</p>
                        </div>
                        <p><img src="https://alexyu.net/pixelnerf/img/gif/shapenet_001.gif" alt="shapenet results animated">
                    </p></div>
                </div>
            </div>
        </div>
        <div>
            <div>
                <h4>Scene-level Representation</h4>
                <p>
                    Since our method requires <strong>neither canonical space nor object-level information such as masks</strong>,
                    it can represent scenes with multiple objects, where a canonical space is unavailable,
                    without modification.
                    Our method can also <strong>seemlessly integrate multiple views</strong> at test-time to obtain better results.
                    SRN performs extremely poorly here due to the lack of a consistent canonical space.
                </p>
                <div>
                    <div>
                        <div>
                            <p>2 Input Views</p>
                            <p>SRN</p>
                            <p><strong>pixelNeRF</strong></p>
                        </div>
                        <div>
                            <p><img src="https://alexyu.net/pixelnerf/img/gif/two_000_input.jpg" alt="two object input">
                            </p>
                            <p><img src="https://alexyu.net/pixelnerf/img/gif/two_000_sm.gif" alt="two object results animated">
                            </p>
                        </div>
                    </div>
                    <div>
                        <div>
                            
                            <p>1 Input View</p>
                            <p>SRN</p>
                            <p><strong>pixelNeRF</strong></p>
                        </div>
                        <div>
                            <p><img src="https://alexyu.net/pixelnerf/img/gif/two_001_input.jpg" alt="two object input">
                            </p>
                            <p><img src="https://alexyu.net/pixelnerf/img/gif/two_001_sm.gif" alt="two object results animated">
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div>
                <h4>Real-world Scenes</h4>
                <p>
                    We show that our method can also conduct wide-baseline view synthesis on more complex real scenes from the <a href="http://roboimagedata.compute.dtu.dk/?page_id=36">DTU MVS</a> dataset,
                    producing reasonable results when given only 1-3 views at inference time.
                    Moreover, it is feed-forward without requiring test-time optimization for each scene.
                </p>
                <div>
                    
                    <div>
                        <p><img src="https://alexyu.net/pixelnerf/img/gif/dtu_inputs.jpg" alt="DTU 3 input images">
                        </p>
                        <p><img src="https://alexyu.net/pixelnerf/img/gif/dtu.gif" alt="DTU results animated">
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div>
                <h4>Generalization</h4>
                <p>
                    To demonstrate generalization capabilities,
                    we apply a model trained on ShapeNet planes, cars, and chairs to unseen ShapeNet categories.
                </p>
                <div>
                    <div>
                        <div>
                            <p>Input</p>
                            <p>DVR</p>
                            <p>SRN</p>
                            <p><strong>pixelNeRF</strong></p>
                            <p>GT</p>
                        </div>
                        <p><img src="https://alexyu.net/pixelnerf/img/gif/gen_000.gif" alt="shapenet unseen category results animated">
                    </p></div>
                    <div>
                        <div>
                            <p>Input</p>
                            <p>DVR</p>
                            <p>SRN</p>
                            <p><strong>pixelNeRF</strong></p>
                            <p>GT</p>
                        </div>
                        <p><img src="https://alexyu.net/pixelnerf/img/gif/gen_001.gif" alt="shapenet unseen category results animated">
                    </p></div>
                </div>
                <p>
                    Separately, we apply a pretrained model on real car images after background removal.
                </p>
                
                
            </div>
        </div>
        <div>
            <div>
                <h4>Related Links</h4>
                <ul>
                    <li>
                        NeRF was introduced in <a href="https://www.matthewtancik.com/nerf">Mildenhall et al. (2020)</a>
                    </li><li>
                        Local image features were used in the related regime of implicit surfaces in
                        <a href="https://shunsukesaito.github.io/PIFu/">Saito et al. (2019)</a>
                        and
                        <a href="https://arxiv.org/abs/1905.10711">Xu et al. (2019)</a>
                    </li><li>
                        Our MLP architecture is
                        inspired by
                        <a href="https://avg.is.tuebingen.mpg.de/publications/niemeyer2020cvpr">DVR</a>
                    </li><li>
                        Parts of our
                        PyTorch NeRF implementation are taken from
                        <a href="https://github.com/kwea123/nerf_pl">kwea123</a>
                    </li><li>
                        Also see the concurrent work
                        <a href="https://arxiv.org/abs/2010.04595">GRF</a>
                        which also introduces image features for NeRF, showing image features can even improve NeRF when a large number of views are available.
                </li></ul>
            </div>
        </div>
        
        <div>
            <div>
                <h4>Acknowledgements</h4>
                <p>
                    We thank Shubham Goel and Hang Gao for comments on the text. We also thank
                    Emilien Dupont and Vincent Sitzmann for helpful discussions.
                    This website is inspired by the template of <a href="http://mgharbi.com/">Michaël Gharbi</a>.
                </p>
                <p>
                    Please send any questions or comments to <a href="https://alexyu.net/">Alex Yu</a>.
                </p>
            </div>
        </div>
    </div></div>]]>
            </description>
            <link>https://alexyu.net/pixelnerf/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25298426</guid>
            <pubDate>Fri, 04 Dec 2020 03:01:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Microsoft Crushed Slack]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25297612">thread link</a>) | @aparsons
<br/>
December 3, 2020 | https://www.platformer.news/p/how-microsoft-crushed-slack | <a href="https://web.archive.org/web/*/https://www.platformer.news/p/how-microsoft-crushed-slack">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc7608632-a221-494e-8d80-66d16ad2a539_4608x3456.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc7608632-a221-494e-8d80-66d16ad2a539_4608x3456.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/c7608632-a221-494e-8d80-66d16ad2a539_4608x3456.jpeg&quot;,&quot;height&quot;:1092,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1771463,&quot;alt&quot;:&quot;Image of Slack running on a laptop. Muhammed Abiodun / Unsplash&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt="Image of Slack running on a laptop. Muhammed Abiodun / Unsplash"></a><figcaption>(Muhammed Abiodun / Unsplash)</figcaption></figure></div><p>Slack’s life as an underdog darling of Silicon Valley ended on November 2, 2016. That’s when the upstart communication startup <a href="https://www.theverge.com/2016/11/2/13497766/slack-microsoft-teams-new-york-times-ad">published an open letter to Microsoft in the </a><em><a href="https://www.theverge.com/2016/11/2/13497766/slack-microsoft-teams-new-york-times-ad">New York Times</a></em>, offering the tech giant an insincere “welcome” to the world of workplace chat software. The occasion was <a href="https://www.theverge.com/2016/10/25/13405200/microsoft-teams-slack-competitor-launch">Microsoft’s launch of Teams</a>, a Slack clone that would come bundled with the company’s popular Office 365 suite of products.</p><p>In its letter, Slack warned Microsoft that “Slack is here to stay,” adding: “we’re just getting started.” But the 4 million users it had at the time would increase to just 12 million four years later, while Microsoft — which added Teams to its 365 bundle without increasing the price — <a href="https://www.theverge.com/2020/10/27/21537286/microsoft-teams-115-million-daily-active-users-stats">took Teams from zero to 115 million users</a>. </p><p>That disparity helps to explain why <a href="https://www.nytimes.com/2020/12/01/technology/salesforce-slack-deal.html">Slack sold itself this week to Salesforce</a>. The deal, which values Slack at $27.7 billion on revenues of $833 million over the past year, has largely been greeted with cheers. (Ben Thompson <a href="https://stratechery.com/2020/salesforce-acquires-slack-salesforces-reasoning-salesforces-opportunity/">offers a typically excellent rundown of the opportunity here for both Salesforce and Slack</a>.)</p><p>But it also feels like the end of an era — one where workers gained new power to bring their own tools to the office, and decide for themselves how they wanted to get work done. Slack first succeeded with small teams who wanted to accelerate their work, and was often dragged into organizations by early adopters. But today, waves of consolidation are leaving people with fewer real choices.</p><p>The rise of smart phones in the early 2010s brought with it a new surge of workplace productivity tools that made mincemeat of everything that had come before them. Box and Dropbox brought easy file storage and sharing. Evernote introduced the idea of ubiquitous, cloud-synchronized note-taking. Sunrise created a more social calendar, while Mailbox and Acompli reimagined email for the mobile phone.</p><p>Slack tiptoed into the conversation in the middle of the decade, and almost immediately became the fastest-growing enterprise software tool of all time. In 2015, just 18 months after it launched, <a href="https://www.theverge.com/2015/6/24/8836087/slack-1-million-daily-users">Slack reported having more than 1 million daily users</a> —&nbsp;a figure then unheard-of in enterprise software.</p><p>It had a great backstory —&nbsp;a last-ditch pivot from a failed video game called Glitch —&nbsp;and, in Stewart Butterfield, one of the tech world’s most charming founders. It also had a bold pitch: it was going to “kill email” —&nbsp;or, at the very least, reduce your reliance on it. And it would do so by integrating hundreds of other services into real-time work chat, creating a kind of all-knowing command console for your organization.</p><p>The company embodied the belief, so common in Silicon Valley, that the best product would win in the end. “Building a product that allows for significant improvements in how people communicate requires a degree of thoughtfulness and craftsmanship that is not common in the development of enterprise software,” the company wrote in its open letter to Microsoft. “How far you go in helping companies truly transform to take advantage of this shift in working is even more important than the individual software features you are duplicating.”</p><p>And yet if there’s a lesson of the past four years, it’s that thoughtfulness and craftsmanship only got the company about 10 percent as far as Microsoft did by copy-pasting Slack’s basic design. In its open letter, Slack famously told Microsoft: “You’ve got to do this with love.” In 2020, looking at Slack’s size, the idea seems laughable. What’s love got to do with it?</p><p>The thing is, I <em>hate</em> that this was the outcome for Slack. I love good productivity tools, and was rooting for Slack to someday become as good as the company hyped it up to be. (And perhaps it still will: like most giants Salesforce has a mixed track record when it comes to the success of its acquisitions, but some seem to be thriving. When I asked about this on Twitter, people had <a href="https://twitter.com/caseynewton/status/1333891286185644032?s=21">a lot of good things to say about post-acquisition Heroku</a>.)</p><p>But Slack’s struggle to succeed as an independent company sadly mirrors that of many one-time innovators in enterprise productivity. Mailbox died and Acompli sold to Microsoft, where it became the mobile Outlook app. Evernote is a pale shadow of its former self. Of that early cohort, only Box and Dropbox became — and still remain —&nbsp;public companies.</p><p>Why is this the case? To get some insight, I called up Aaron Levie, Box’s affable CEO. In Levie’s telling —&nbsp;and he also wrote <a href="https://blog.box.com/salesforce-slack-and-future-work">a blog post about the Slack sale</a> — it all comes down to sales. The idea that workers would someday choose all their own tools was always a fantasy, he told me, in part because most workers don’t event want to think about their tools. In such a world, the winning app will almost always be one with a giant, er, salesforce behind it. </p><p>Microsoft had one. Slack didn’t. Enter Salesforce.</p><p>“The reality with the enterprise is that you can have the best product, but that’s not good enough,” Levie told me. “You need distribution. And what Salesforce has — they have the procurement officers, they have the finance people. They have all of the apparatus you need to interact with to sell software, and they have it for the top 100,000 corporations around the world.”</p><p>Levie is bullish on the acquisition, because it puts Slack and Salesforce on more even ground. </p><p>“The only advantage Microsoft has is distribution, and so now they’ve neutralized the advantage that Microsoft has had,” he said. “All of a sudden, they can actually fulfill the ultimate promise of the opportunity, because they have 10 times the amount of salespeople that can go distribute this thing into corporations around the world.”</p><p>Assuming Levie is right — and I wouldn’t bet against him — that means the medium-term future of work is increasingly a choice between three giants: Microsoft, Salesforce, and (in a distant third) Google. And with that, the golden age of worker choice in productivity tools seems to be coming to an end.</p><p>That’s not to say that the incumbents won’t always face new challengers. But I wonder whether the low ceiling that Slack turned out to have has implications for some of the other fast-growing productivity companies of the current moment. Should Slack’s sale diminish our expectations for Airtable, or Notion, or Coda? Don’t get me wrong — I’m confident their investors will all get their money back, and then some. But do they have a real future outside the arms of a monolith?</p><p>If not, then the productivity market will become as consolidated as any number of other spaces on the internet, from app stores to search engines to social networks. And as our government antitrust regulators begin to awaken after a long period of hibernation, I wonder if they’ll have anything to say about it.</p><h3>The Ratio</h3><p><em>Today in news that could affect public perception of the big tech companies</em></p><p>⬆️ <strong>Trending up</strong>: <strong><a href="https://techcrunch.com/2020/12/02/google-news-showcase-paywalled-stories/">Google</a></strong><a href="https://techcrunch.com/2020/12/02/google-news-showcase-paywalled-stories/">’s new paid deals with publishers mean that access to some paywalled content will now be available to readers for free</a>. Good for publishers, good for Google, good for democracy. (Anthony Ha / <em>TechCrunch</em>)</p><p>🔃 <strong>Trending sideways: <a href="https://www.geekwire.com/2020/microsoft-will-remove-user-names-productivity-score-feature-privacy-backlash/">Microsoft </a></strong><a href="https://www.geekwire.com/2020/microsoft-will-remove-user-names-productivity-score-feature-privacy-backlash/">made changes to the “productivity score” feature in its 365 platform, which gave employers fine-grained data on individual employees’ use of email, chat, and other features</a>. Critics called it “full-fledged workplace surveillance tool;” Microsoft says it will now detach the data from individual employee names.  (Todd Bishop / <em>GeekWire</em>) </p><p>🔃 <strong>Trending sideways:</strong> <strong><a href="https://www.theinformation.com/articles/amazon-drops-pandemic-test-to-track-warehouse-workers-through-wi-fi?utm_source=twitter&amp;utm_medium=page">Amazon </a></strong><a href="https://www.theinformation.com/articles/amazon-drops-pandemic-test-to-track-warehouse-workers-through-wi-fi?utm_source=twitter&amp;utm_medium=page">abandoned a test of a worker safety measure that involved tracking the location of warehouse workers through their personal cell phones</a>. Big week for pushback on worker surveillance initiatives! (Mark Di Stefano / <em>The Information</em>)</p><p>⬇️ <strong>Trending down</strong>: <strong><a href="https://www.theverge.com/2020/12/2/22047383/google-spied-workers-before-firing-labor-complaint">Google</a></strong><a href="https://www.theverge.com/2020/12/2/22047383/google-spied-workers-before-firing-labor-complaint"> illegally spied on workers before firing them, according to a new lawsuit by the National Labor Relations Board</a>. Two employees were fired for looking at their colleagues’ calendars as part of an organizing effort. Google says it didn’t do anything wrong. (Zoe Schiffer / <em>The Verge</em>)</p><h3>Governing</h3><p>⭐ <strong><a href="https://www.washingtonpost.com/technology/2020/12/01/trump-repeal-section-230-ndaa/">In a pair of late-night tweets, President Trump</a></strong><a href="https://www.washingtonpost.com/technology/2020/12/01/trump-repeal-section-230-ndaa/"> threatened to veto the defense reauthorization act if Congress does not repeal Section 230 of the Communications Decency Act</a>. But it’s <a href="https://www.protocol.com/Politics/trumps-section-230-veto-threat">not clear he has the leverage to make it happen</a>. (Tony Romm /  <em>Washington Post</em>)</p><p><a href="https://www.washingtonpost.com/politics/2020/12/02/technology-202-aclu-sues-dhs-over-purchase-cellphone-location-data-used-track-immigrants/">The ACLU sued the Department of Homeland Security over its purchase of cellphone location data to track immigrants</a>. Separately, the department’s inspector general said he would investigate the matter after Senate Democrats began asking questions. (Cat Zakrzewski / <em>Washington Post</em>)</p><p><a href="https://techcrunch.com/2020/12/01/massachusetts-votes-to-pass-statewide-police-ban-on-facial-recognition/">Massachusetts passed a statewide ban on the use of facial recognition technology by police</a>. It may be the largest US ban of facial recognition tech yet, and is part of a growing patchwork of laws regulating it around the country. (Taylor Hatmaker and Zack Whittaker / <em>TechCrunch</em>)</p><p><strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">EveryAction</a></strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">, a </a><strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">Salesforce</a></strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">-like platform for liberal campaigns and causes, acquired the organizing company </a><strong><a href="https://www.bloomberg.com/news/articles/2020-11-30/everyaction-and-mobilize-give-democrats-the-app-they-need-to-keep-winning?sref=ExbtjcSG">Mobilize</a></strong>. The move bolsters what Bloomberg calls “the central nervous system for practically all of Democratic politics.” (Joshua Green / Bloomberg)</p><p><a href="https://www.smh.com.au/world/asia/very-serious-situation-frydenberg-s-economic-warning-over-china-dispute-20201202-p56jzp.html">Amid rising tensions between China and Australia, </a><strong><a href="https://www.smh.com.au/world/asia/very-serious-situation-frydenberg-s-economic-warning-over-china-dispute-20201202-p56jzp.html">WeChat</a></strong><a href="https://www.smh.com.au/world/asia/very-serious-situation-frydenberg-s-economic-warning-over-china-dispute-20201202-p56jzp.html"> deleted a fabricated image sent by a Chinese foreign affairs official accusing Australian soldiers of murdering Afghan children</a>. <strong>Twitter</strong> left the post up. (Eryk Bagshaw, Anthony Galloway and Shane Wright / <em>Sydney Morning Herald</em>)</p><h3>Industry</h3><p>⭐ <strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">Facebook</a></strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/"> teamed up with former employees of popular game developer </a><strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">Telltale</a></strong><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/"> for </a><em><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">Rival Peak</a></em><a href="https://www.washingtonpost.com/video-games/2020/12/01/facebook-reality-tv-game-rival-peak/">, a new reality show where viewers will influence the story</a>. It feels … maybe a little too high-concept? We’ll see. Gene Park had the details at the <em>Washington Post</em>:</p><blockquote><p><em>Rival Peak</em> is a Facebook Watch program in which artificial intelligence-driven “contestants” will live, work and exist for every minute of the day within the fictional region of Rival Peak, a mountainous forest region that emulates the Pacific Northwest. With a diverse cast of internationally-based characters, Facebook users will decide what each contestant of the show will do in the game, how …</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.platformer.news/p/how-microsoft-crushed-slack">https://www.platformer.news/p/how-microsoft-crushed-slack</a></em></p>]]>
            </description>
            <link>https://www.platformer.news/p/how-microsoft-crushed-slack</link>
            <guid isPermaLink="false">hacker-news-small-sites-25297612</guid>
            <pubDate>Fri, 04 Dec 2020 00:48:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn By Example: Understanding the ampersand in Elixir (capture operator)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25297502">thread link</a>) | @2upmedia
<br/>
December 3, 2020 | https://jorgecolonconsulting.com/learn-by-example-understanding-the-ampersand-in-elixir-capture-operator/ | <a href="https://web.archive.org/web/*/https://jorgecolonconsulting.com/learn-by-example-understanding-the-ampersand-in-elixir-capture-operator/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
			
    <article id="5fbb4a63c29c8e00ed9bc152">
        
        


                <header>
                    <img srcset="https://jorgecolonconsulting.com/content/images/size/w300/2020/12/elixir-capture-operator-header@2x-1.png 250w,
                    https://jorgecolonconsulting.com/content/images/size/w600/2020/12/elixir-capture-operator-header@2x-1.png 400w,
                    https://jorgecolonconsulting.com/content/images/size/w800/2020/12/elixir-capture-operator-header@2x-1.png 600w,
                    https://jorgecolonconsulting.com/content/images/size/w1600/2020/12/elixir-capture-operator-header@2x-1.png 2x" sizes="(max-width: 600px) 400px, 800px" src="https://jorgecolonconsulting.com/content/images/size/w800/2020/12/elixir-capture-operator-header@2x-1.png" alt="Learn By Example: Understanding the ampersand in Elixir (capture operator)">
                </header>


        


        <p>Seeing the ampersand for the first time in Elixir I wanted to dig deep into what it meant. The first <code>&amp;</code> effectively either gets a reference to the original function or starts an anonymous function. Any ampersand after the first that references the positional argument passed to it. You could use this to write very concise anonymous functions. </p><p>Here's a couple of examples:</p><pre><code>messages = ["One", "Two"]

no_capture_operator = fn msg -&gt;
  IO.inspect(msg, label: 'no_capture_operator')
  %{itemValue: msg}
end
# no_capture_operator: "One"
# no_capture_operator: "Two"

messages |&gt; Enum.map(no_capture_operator)

new_messages = messages |&gt; Enum.map(&amp;%{itemValue: &amp;1})

IO.inspect(new_messages)
# [%{itemValue: "One"}, %{itemValue: "Two"}]

new_messages = messages |&gt; Enum.map(fn msg -&gt;
  IO.inspect(msg)
  %{itemValue: msg}
end)
# "One"
# "Two"

IO.inspect(new_messages, label: "new_messages =")
# new_messages =: [%{itemValue: "One"}, %{itemValue: "Two"}]

message_func = fn msg -&gt;
  IO.inspect(msg)
  %{itemValue: msg}
end

messages |&gt; Enum.map(&amp;message_func.(&amp;1))
# "One"
# "Two"

# the enum tuples have zero-based indexes, hence the + 1
message_with_odd_even = &amp;%{itemValue: &amp;1, type: (if rem(&amp;2 + 1, 2) === 0, do: "even", else: "odd")}

msg_tuple = {"One", 0}

IO.inspect(message_with_odd_even.(elem(msg_tuple, 0), elem(msg_tuple, 1)))
# %{itemValue: "One", type: "odd"}

IO.inspect(message_with_odd_even.("One", 0))
# %{itemValue: "One", type: "odd"}

new_messages = messages |&gt; Enum.with_index |&gt; Enum.map(&amp;message_with_odd_even.(elem(&amp;1, 0), elem(&amp;1, 1)))

IO.inspect(new_messages, label: 'new_messages 2 =')
# new_messages 2 =: [%{itemValue: "One", type: "odd"}, %{itemValue: "Two", type: "even"}]

messages |&gt; Enum.each(&amp;IO.inspect(&amp;1, label: "label for " &lt;&gt; &amp;1))
# label for One: "One"
# label for Two: "Two"
</code></pre><p>Read more at the official docs: <a href="https://elixir-lang.org/getting-started/modules-and-functions.html#function-capturing">https://elixir-lang.org/getting-started/modules-and-functions.html#function-capturing</a></p>


                
        
      

        
    </article>


		</div></div>]]>
            </description>
            <link>https://jorgecolonconsulting.com/learn-by-example-understanding-the-ampersand-in-elixir-capture-operator/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25297502</guid>
            <pubDate>Fri, 04 Dec 2020 00:32:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A terminal-based workflow for research, writing, and programming]]>
            </title>
            <description>
<![CDATA[
Score 263 | Comments 120 (<a href="https://news.ycombinator.com/item?id=25297268">thread link</a>) | @jerodsanto
<br/>
December 3, 2020 | http://jacobzelko.com/workflow/ | <a href="https://web.archive.org/web/*/http://jacobzelko.com/workflow/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><em>My personal workflow for terminal-based coding, writing, research, and more!</em></p>

<p>Hello everyone!
It has been quite sometime since I last posted!
Suffice it to say, I have been immensely busy the past year but I am happy to say I am able to resurrect this blog! <img title=":tada:" alt=":tada:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" height="20" width="20"></p>

<p>I have thoroughly grown into my own workflow for programming, research, and writing.
Today, I am happy to be able to share it with you!</p>

<p>If you prefer to watch a video describing most of this entire process, here is an overview of my workflow from one of my <a href="https://www.twitch.tv/thecedarprince">live streams</a>.
It does not go as in-depth as this document but should serve as a strong complement to this post. <img title=":smile:" alt=":smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" height="20" width="20"></p>

<p><a href="https://youtu.be/2SLZQQfMF8E"><img src="http://jacobzelko.com/assets/workflow_youtube_vid.jpg" alt=""></a></p>



<p>I use <a href="https://github.com/alacritty/alacritty">Alacritty</a> as my terminal, <a href="https://www.zsh.org/">zsh</a> and <a href="https://ohmyz.sh/">oh-my-zsh</a> as my shell and plugin manager respectively, <a href="https://github.com/tmux/tmux">tmux</a> as my multiplexer, <a href="https://github.com/Peltoche/lsd">lsd</a> as my list command with fun icons, <a href="https://github.com/belluzj/fantasque-sans">Fantasque Sans Mono</a> as my typeface font, <a href="https://github.com/neovim/neovim">neovim</a> for my editor, <a href="https://github.com/junegunn/fzf">fzf</a> paired with <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> for speedy and interactive file finding, <a href="https://github.com/sharkdp/bat">bat</a> an enhanced <code>cat</code> with a git diff gutter, <a href="https://github.com/jgm/pandoc">pandoc</a> for writing in markdown and LaTeX and outputting the piece to whatever file type I want, <a href="http://jacobzelko.com/setting-up-zotero/">Zotero</a> for managing my collection on scientific literature, <a href="https://github.com/ranger/ranger">ranger</a> as a terminal-based file explorer, and <a href="https://github.com/morhetz/gruvbox-contrib">gruvbox-dark</a> as my general color palette.</p>

<p>Here are gists to the relevant config files I use to modify my interface and user experience:</p>

<ul>
  <li>
<strong>neovim</strong>: <a href="https://gist.github.com/TheCedarPrince/7b9b51af4c146880f17c39407815b594">init.vim</a>
</li>
  <li>
<strong>Alacritty</strong>: <a href="https://gist.github.com/TheCedarPrince/7743091bd8743a7568b718f30bf707c2">.alacritty.yml</a>
</li>
  <li>
<strong>tmux</strong>: <a href="https://gist.github.com/TheCedarPrince/07f6f8f79b1451ec436ff8dee236ccdd">.tmux.conf</a>
</li>
  <li>
<strong>zsh</strong>: <a href="https://gist.github.com/TheCedarPrince/77afe2674803d965a0f5abd108337040">.zshrc</a>
</li>
</ul>

<p>Here is a picture of what that looks like altogether:</p>

<p><img src="http://jacobzelko.com/assets/workflow_layout.png" alt=""></p>

<h2 id="my-workflow-in-action-boom">My Workflow in Action <img title=":boom:" alt=":boom:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png" height="20" width="20">
</h2>

<p>The following sections describe in broad strokes my workflow.
I mention some plugins that I use and are provided in my config files.
If you want to learn more about them, I encourage you to read through my config files or search for them.</p>

<h3 id="floating-terminals">Floating Terminals</h3>

<p><img src="http://jacobzelko.com/assets/float_term.gif" alt=""></p>

<p>Floating terminals are immensely powerful and I love them!
This enables me to quickly pull up a terminal and do some changes without having to split tmux panes or get out of vim.
Furthermore, what is awesome is that you can use it as a sort of <code>vim-slime</code> tool to send lines of code to the floating terminal.
This is a great feature as it uses your last used floating terminal for its target - therefore, if you switch between projects a lot, just switch your floating terminal accordingly.
No need to keep opening and closing REPL sessions and such!</p>

<h3 id="persistent-working-sessions-via-tmux">Persistent Working Sessions via tmux</h3>

<p><img src="http://jacobzelko.com/assets/tmux_restore.gif" alt=""></p>

<p>Though it is a little hard to see, I closed my terminal completely.
Oh no!
All my paneling and windows have disappeared! 
I’ll have to spend valuable time getting my workflow set back up… Or do I?</p>

<p>tmux can actually remember all these layouts with the plugins, <code>resurrect</code> and <code>continuum</code>. 
This is great for when your computer unexpectedly dies or crashes as everything is backed up at regular intervals you define!
Furthermore, pairing the (neo)vim plugin, <code>obsession</code>, allows tmux to also automatically recover vim layouts and sessions as well.
You will never have to worry about losing your terminal workflow again!</p>

<h3 id="mouse-mode">Mouse Mode</h3>

<p><img src="http://jacobzelko.com/assets/mouse_mode.gif" alt=""></p>

<p>tmux and (neo)vim also support mouse mode and interactivity!
I can quickly jump all over the place with my mouse or easily resize any opened pane.</p>

<h3 id="interactive-file-finding">Interactive File Finding</h3>

<p><img src="http://jacobzelko.com/assets/vim_fzf.gif" alt=""></p>

<p>I integrated the powerful file finding tool, <code>fzf</code>, with <code>ripgrep</code> to quickly find files I am looking to use. 
Then, in my (neo)vim configuration file, I merged these two together into one function that I can easily call while editing files in (neo)vim. 
find files I search for and pandoc to enable citations in pandoc, markdown, or TeX files.</p>

<h3 id="terminal-based-file-explorer">Terminal-Based File Explorer</h3>

<p><img src="http://jacobzelko.com/assets/ranger_mode.gif" alt=""></p>

<p>Furthermore, I also use the great tool, <code>ranger</code>, which allows me to have a terminal based file explorer.
It’s nice as it pops up in its own window and does not actually directly interfere with any of the background files being edited. 
It even has image preview capabilities!</p>

<h3 id="citation-engine--live-preview">Citation Engine &amp; Live Preview</h3>

<p><img src="http://jacobzelko.com/assets/citation_mode.gif" alt=""></p>

<p>As a researcher, this part gets me immensely excited!
While I am writing, I can actively insert citation keys into whatever I am working on via <code>vim-pandoc</code>.
With my config file, you will have to specify where your own .bib file exists.
Furthermore, <code>markdown-preview</code> allows me to preview my markdown in a web browser and <code>vim-latex-live-preview</code> allows me to view my current TeX files in a pdf viewer – works for subfiles too! 
This works for whenever I write TeX files or markdown files which makes writing a breeze!</p>

<p>If any of this section is confusing, I strongly encourage you to read my article on <a href="http://jacobzelko.com/personal-research-management/">Knowledge Management</a>.</p>



<p>These are parts of my workflow that I used to use.
They have been retired for a variety of reasons but all in an effort to improve my workflow.
I have kept these around in case anyone finds it useful!</p>

<h3 id="vim-slime-for-rapid-evaluation">Vim-Slime for Rapid Evaluation</h3>

<p><strong>Rationale for deprecation:</strong> I used to use <code>vim-slime</code> but deprecated it from my workflow because of the flexibility of floating terminals.
Not only could I use floating terminals to send code, I could also quickly flip through terminals in one button press.</p>

<p><img src="http://jacobzelko.com/assets/vim_slime.gif" alt=""></p>

<p>Here, I target my Julia REPL in a tmux panel and use the <code>vim-slime</code> plugin to send code from my Julia script opened in neovim to the Julia REPL for rapid evaluation. 
This config works for any time you want to target a window.
This also works for code chunks such as functions or loops!</p>

<h2 id="conclusion">Conclusion</h2>

<p>I hope you found my workflow and toolchain interesting!
My dream would be for this workflow to serve as inspiration for your own workflow.
Make it your own and all the best!</p>

<p><em>If you spot any errors or have any questions, feel free to <a href="http://jacobzelko.com/contact/">contact me</a> about them!</em></p>

<hr>

        </div></div>]]>
            </description>
            <link>http://jacobzelko.com/workflow/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25297268</guid>
            <pubDate>Fri, 04 Dec 2020 00:05:02 GMT</pubDate>
        </item>
    </channel>
</rss>
