<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 25 Dec 2020 12:47:02 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 25 Dec 2020 12:47:02 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Sticking to It]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515687">thread link</a>) | @cromulent
<br/>
December 23, 2020 | https://automattic.design/2020/07/09/sticking-to-it/ | <a href="https://web.archive.org/web/*/https://automattic.design/2020/07/09/sticking-to-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>This story is a bit long, but I promise it will be worth it, because it contains the two most important principles every designer must know and take to heart if you intend to do great work anywhere, under almost any circumstances, over the long, long haul of your career.</p>



<h2>The Bronze Age of me</h2>



<p>Early in my career, before the web, when I was in advertising, I had the good fortune to work for legendary creative directors. They’d amassed so many awards in their careers that, in the event of Apocalypse, they could have melted their shiny trophies down and lived off the barter value of the metal.</p>



<p>These old men were giants who had once strode the halls of famous agencies, but ours was not famous—at least not for being good. It was a reeking quagmire where great ideas went to die.&nbsp;</p>



<p>Our company knew it had a problem, so it kept hiring brilliant creative leaders, paying them to inspire us demoralized and underpaid young art directors and copywriters, and pitting us against an internal culture that had been designed quite carefully to neutralize and kill the kind of work our ever-changing cast of overlords challenged us to create.&nbsp;</p>



<h2>Let me unpack that.&nbsp;</h2>



<p>Our clients were makers of aspirin and ointments. They owned financially successful chain restaurants. If it ached, if it bled, if it could be satisfied with heaping plates of deeply fried or sauce-drowned food-like products at a family-friendly low price, we probably handled its advertising.&nbsp;</p>



<p>This type of advertising, painstakingly crafted to offend no one, and baited with jingles that stick, unwanted, in the mind, works chiefly by being shown so many times that it can’t help but lodge in the collective consciousness and inexorably drive sales. Think McDonald’s, but smaller and less … glamorous.&nbsp;</p>



<p>Saturation is the name of the game, and the agency (like others of its kind) made its money by taking a commission on media placement.&nbsp;<em>Creative was something we gave away free.</em> All we wanted was a cut of the fee broadcasters charged to run the stuff.</p>



<h2>Fear of a creative planet</h2>



<p>A great ad—one people talked about, one that potentially risked offending a few people—would destroy the cozy and lucrative business relationships on which the agency was founded. The company knew it, and hired skilled account executives to prevent even a moderately good idea from ever reaching the airwaves.</p>



<p><em>But…</em></p>



<p>Creative advertising was much talked-about in the popular culture of the time, and our clients asked for it even though they wouldn’t have bought it to save their children’s lives. So the agency occasionally had to show a good idea.&nbsp;</p>



<p>Besides, we young art directors and copywriters were idealists, and the agency wasn’t paying us enough to buy our loyalty. They <em>might</em> have distributed the profits more equitably, but the account executives had houses in Darien and ex-spouses to support, so they couldn’t afford to waste any of that money on the troops who did the work the whole thing ran on.</p>



<p>Hence every six months the company hired new creative directors who, we grunts thought, would finally “turn this place around” and allow us to do the kind of work we dreamed of.</p>



<p>This is how our company came to hire legendary award winners. And although we never sold a great ad, the lesson I learned from them turned out to be the second most important guiding principle of my work as a designer. The first, most important principle, of course, is listen to the customer. But this other principle comes a close second.</p>



<p>The principle these creative directors taught me, chiefly by how they acted, was…</p>



<h2>Never give up.</h2>



<p>Never stop trying to do great work. Never get demoralized. Never stop caring.&nbsp;</p>



<p>It sounds simple. It isn’t.</p>



<p>I watched these creative directors and their partners work all night to produce a great idea in spite of all the constraints around the client and product.&nbsp;</p>



<p>I watched them enthusiastically present great work internally. Watched the internal folks sabotage it through fear. Watched my leaders cheerfully go back to the drawing board and come up with something new by the next morning.</p>



<p>I watched them enact this ritual a half-dozen times before the work even got shown to the clients.</p>



<p>I watched the clients shoot it down. I watched my leaders cheerfully get up, put their materials away, come back to the agency, and start over.</p>



<p>Never, not once, did they dial it in. Never did they just shrug their shoulders and say, “Fine, I’ll give these people what they want.” They listened to the customer but the customer didn’t dictate. The customer’s business problem dictated the creative solution. The solution would work if the customer bought it. If the customer didn’t buy, well, there was another great creative solution out there, if you just worked hard enough to find it.</p>



<p>Even in those extremely backwards times, there were great women creative directors out there, too—but our agency never hired one, so I only got to meet these men.&nbsp;</p>



<p>They were old men—one of them, who leaned forward with a hunch, and always walked as if he were in pain—looked like Moses. I swear he stared through my soul when I tried to go home before 8:00 PM. (We worked in offices then, and you never went home before your boss.) He scared me but I liked him.</p>



<div><p>Once I asked if he missed the “great” clients he had worked for in the past.&nbsp;</p><p>“Great clients?”</p><p>“Like Volkswagen.”</p></div>



<p>“They killed just as many good ads as these guys do.”</p>



<p>“What did you do?”</p>



<p>“Came up with more ads.”</p>



<p>The ability to keep coming up with more ads was why this Moses-looking dude had a roomful of shiny trophies, and I did not. If I wanted a career like his, I would have to seek deeply in my soul for the strength and willingness not to give up.</p>



<p>Career aside,<em>&nbsp;if I wanted to create meaningful work,</em>&nbsp;I would need to develop the patience and willingness to watch people kill my darlings, and come back with newer, fresher, better darlings.</p>







<p>I have not done it perfectly, not by a long shot. But keeping a positive attitude when an idea I’ve fallen in love with gets rejected remains the second most important thing I can do on a daily basis as I practice my current craft.</p>



<p>Both product work and client work are tough. The challenges can seem overwhelming. We bang our heads. We weep. Finally, we and our teammates come up with a solution. This is it! We’ve done it! Joyfully, we share it. Our lead shoots holes in it. Maybe because it runs afoul of some important learning we didn’t know about. Or because it was tried before we got here and tested badly. Or, sometimes, because they just don’t like it.</p>



<p>We come back with three ideas and none of them are quite right, either.</p>



<p>So we go back and work harder and come up with new stuff.&nbsp;</p>



<p>The well is never dry. We only run out of ideas when we choose to stop doing the work.</p>



<p>The designers I work with here today inspire me on many levels. Their energy, their talent, their sheer skill impresses me. But what blows me away most of all, is that the really good designers stand up to the misfortune of a killed idea. They take away the lesson of what went wrong, and come back with something that much stronger. Or, if not stronger, something different but equally good.</p>



<p>Never give up.</p>



<hr>



<p><em>This article was inspired by a conversation I had with one of our designers, after watching her respond graciously and positively while working on a tough project.</em></p>

		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://automattic.design/2020/07/09/sticking-to-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515687</guid>
            <pubDate>Wed, 23 Dec 2020 08:41:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Somethings are never meant to be invented. The story of BlockEvent]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25515668">thread link</a>) | @rukshn
<br/>
December 23, 2020 | https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Every few years there comes a technology that people get hyped about, everyone wants to be a specialist in that field because it appears to be the next big thing.</p>
<p>Between 2015-2019 this was largely about bitcoins and blockchain technology. Everyone wanted to be a specialist in blockchain technology. Bitcoin was booming, ICOs were happening to the left and right.</p>
<p>And people were trying to introduce/incorporate blockchain technology into everything they can get their hands on.</p>
<p>Yes sometimes blockchain technology can improve the existing system. However, when you try to introduce blockchain or any other technology into something that doesn’t require it,the results can be disastrous.</p>
<p>This is a story I wanted to write for a very long time, it was about a small startup called BlockEvent. A small startup that wanted to incorporate blockchain technology into event management.</p>
<p><em>Their website blockevent.tk is now not functioning, and I was unable to find a web archive snapshot. A mirror exists on a different domain, please check the footnotes.</em></p>
<p>Blockchain on event management has been there before BlockEvents. Smart ticketing and smart contracts are currently being used to improve the ticketing field and control pricing etc.</p>
<h2>BlockEvent</h2>
<p>BlockEvents wanted to make the whole event process a decentralized mechanism. From user data, to events, to registration, everything was supposed to be “decentralized” and was “not accessible” to and “not modifiable” by anyone.</p>
<p>According to the BlockEvent team, </p>
<blockquote><p>We made BlockEvent as a decentralized system. That means no central party can control this booking process and it will work without any third party involvement. </p><p>BlockEvent acts as a bridge between the organizers and the participants where organizers come and create events through our system, and participants can come and book their tickets. </p><p>The whole process is done through Public Blockchain.</p><p>… </p><p>Using the blockchain for user identity management is a whole new paradigm.</p><cite>BlockEvent on one of their Facebook posts, describing their system. </cite></blockquote>
<p>BlockEvent when initially started mainly hosted monthly blockchain event meetup events. However, their big break came in May 2019, during the annual Google I/O.</p>
<p>Google I/O event is celebrated in Sri Lanka every year, with local tech companies hosting events of their own, with local influencers, while live streaming the Google I/O event.</p>
<p>The selection process is a very completions, hundreds of people compete for few limited number of seats. These events are a good place to network and meet new friends in IT field. Plus you end up getting some cool swags.</p>
<p>In order to be selected to these events you need to show that you are a tech person, usually they check your GitHub page, blog or YouTube channel. And the tech company will select and send an invitation to whom they think are the most suitable to attend their events.</p>
<p>Until 2018, this was done by using a simple Google form or a regular website.</p>
<p>However, in 2019, one of the largest tech and telecom companies in Sri Lanka decided to use BlockEvents to host their Google I/O event.</p>
<p>Getting selected by a big company like them to manage their Google I/O event was big deal, because they host one of the largest I/O events in Sri Lanka. And BlockEvent can leverage this to opportunity to get bigger clients in future.</p>
<p>It was their make or break moment. They had to nail it, and if they failed then for a small startup like BlockEvent, the damage to their reputation is going to hurt them to a point where there is no return.</p>
<h2><strong>Disaster</strong> </h2>
<p>BlockEvent also in their description, said this,</p>
<blockquote><p>To ensure the user data privacy and security, <strong>we are not storing any user credentials or password</strong>[s] <strong>in our database. Even the user emails are stored as a hash. Only the users know their passwords </strong>and that will provide 100% control over your account actions. Even BlockEvent team can’t access your accounts. </p><cite>BlockEvent describing their system in a Facebook post</cite></blockquote>
<p>Since they were storing <strong>everything </strong>in the blockchain, they were not storing even user emails and passwords. This may sound as a good privacy focused system. But this will come to hurt BlockEvent in a very bad way.</p>
<p>Since no one else other than the people in monthly blockchain meetups knew about BlockEvents, like in any other new service, most people registering for the local Google I/O event used either throwaway passwords, or new passwords which they forgot or didn’t save.</p>
<p>This caused large number of people to forget their passwords. If we use a normal database to store user data, with no hashing, they would have been able to reset the user passwords.</p>
<p>However, since everything is stored in blockchain, and everything were hashed, this meant that there is no way to reset a user password. </p>
<p>This led to large number of people being locked out of their accounts, unable to create new accounts with the existing emails, and BlockEvent team unable to reset passwords.</p>
<p>This caused a wave of negative reviews on BlockEvent Facebook page and on social media. Some users demanded the organizers to go back to the old system of using a Google form for user registration.</p>
<p>BlockEvent finally responded to their users, they had no way to reseat the password. Unless you remember the password and login, or you are permanently locked out from using the account.</p>
<figure><img data-attachment-id="75" data-permalink="https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/img_0045/" data-orig-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1536%2C1517&amp;ssl=1" data-orig-size="1536,1517" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_0045" data-image-description="" data-medium-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=300%2C296&amp;ssl=1" data-large-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1024%2C1011&amp;ssl=1" loading="lazy" width="1024" height="1011" src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1" alt="" srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Large number of people were locked out from their accounts, unable to reset their passwords.</figcaption></figure>
<blockquote><p>Due to the rules of decentralization, we can’t reset your passwords as we are giving priority to user data and security. We already communicated this on registration [on sign up]. </p><p>To ensure the decentralization the same rule is applied by many other [b]lockchain projects and products all over the world.</p><cite>BlockEvent responding to the events on a Facebook page</cite></blockquote>
<p>BlockEvent also asked participants to send their personal details on Facebook and via a Google form, so they can manually arrange a way to send the gift pack to the participants.</p>
<p>Some of the users accused the selection process was also flawed and complained that some of the people who were less qualified to attend the event were selected over them.</p>
<p>All this led to irreplaceable damage on BlockEvent, and the Google I/O event didn’t happen due to the Easter Sunday bombings. </p>
<p>BlockEvent went into hiatus few months later, all thought they never mentioned that they are shutting down, their website went offline once their domain name expired. Possibly signaling the end of the startup that hoped to decentralize how we manage identity online.</p>
<h2><strong>Conclusion</strong> </h2>
<p>The title of the post is <strong>“Somethings are never meant to be invented”</strong>.</p>
<p>No matter how utopian the idea may sound like, guaranteeing 100% user privacy with everything stored on a blockchain, not even giving access to user email to the creators can have its own drawbacks.</p>
<p>And since we are all humans, and we all tend to make mistakes, there has to be a fail safe mechanism, that will keep things in check and can undo the mistakes when we make one.</p>
<p>Also a single use password is a very bad idea, not only that users can lose their passwords, but also in the event of a data breach, user handing over the password to a third party by a mistake, how can the service reset the passwords? There are so many scenarios where things can go wrong.</p>
<p>May be an idea like BlockEvent were never meant to be invented.</p>
<p><strong>The currently hyped up technology may not be ideal for your system and instead a time tested solution may be the answer that you’re looking for.</strong></p>
<h2>My thoughts</h2>
<p>When it comes to blockchain and cryptocurrency, I’m still open minded, at the same time but skeptical. I’m not yet ready to invest or build something on blockchain.</p>
<p>I still find it difficult to fully understand the idea of blockchain, what makes it different from a decentralized git repository? Why Git is easy to implement but blockchain is hard? </p>
<p>When it comes to BlockEvents, I think what they did was store the email and password both hashed on the blockchain, and when a user logs in, they match the submitted hashed email and hashed passwords against what’s stored in the blockchain, like we do it in a normal login system using a database, except the fact that we don’t hash the emails.</p>
<h4>Notes</h4>
<p><em>I’m not a blockchain expert, so I don’t know the exact reason why BlockEvent was not able to reset the passwords.</em></p>
<p><em>Was it because they didn’t know the emails because they were hashed, or was it because once you put some information to the blockchain it is immutable, or was it due to both?</em></p>
<p><em>At the time when I saw this in 2019, I thought it was due to the fact that data is immutable on the blockchain, but now at the time of writing I feel it was due to the fact that the emails were stored on the blockchain in hashed format.</em></p>
<p><em>I also don’t know what really caused so many people to lose their password, my assumption is that they used a throwaway password, or a new password which they forgot. But still this number of users getting locked out is still unexplained.</em></p>
<p><em>After further Googling I was able to find a mirror of the original website on another domain name http://blockevent.ml</em></p>
<p><em>I tried logging in using my BlockEvent account, but I also have forgotten my BlockEvent password, and now I’m also locked out.</em></p>
<ul><li>BlockEvent password forgot requests – <a href="https://m.facebook.com/pg/blockevent.live/reviews/">https://m.facebook.com/pg/blockevent.live/reviews/</a></li></ul>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515668</guid>
            <pubDate>Wed, 23 Dec 2020 08:36:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cybercriminals’ Favourite VPN Taken Down in Global Action]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515644">thread link</a>) | @doener
<br/>
December 23, 2020 | https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Law enforcement wiretapped the very service used by criminals to evade interception</p><div><p>The virtual private network (VPN) Safe-Inet used by the world’s foremost cybercriminals has been taken down yesterday in a coordinated law enforcement action led by the German Reutlingen Police Headquarters together with Europol and law enforcement agencies from around the world.&nbsp;</p>
<p>The Safe-Inet service was shut down and its infrastructure seized in Germany, the Netherlands, Switzerland, France and the United States. The servers were taken down, and a splash page prepared by Europol was put up online after the domain seizures. This coordinated takedown was carried out in the framework of the <a href="https://www.europol.europa.eu/empact">European Multidisciplinary Platform Against Criminal Threats (EMPACT)</a>.&nbsp;</p>
<h3>Turning the table on the criminals&nbsp;</h3>
<p>Active for over a decade, Safe-Inet was being used by some of the world’s biggest cybercriminals, such as the ransomware operators responsible for ransomware, E-skimming breaches and other forms of serious cybercrime.&nbsp;</p>
<p>This VPN service was sold at a high price to the criminal underworld as one of the best tools available to avoid law enforcement interception, offering up to 5 layers of anonymous VPN connections.</p>
<p>Law enforcement were able to identify some 250 companies worldwide which were being spied on by the criminals using this VPN. These companies were subsequently warned of an imminent ransomware attack against their systems, allowing them to take measures to protect themselves against such an attack.<br>
The service has now been rendered inaccessible.&nbsp;</p>
<p>Investigations are ongoing in a number of countries to identify and take action against some of Safe-Inet’s users. &nbsp;</p>
<h3>International cyber sweep&nbsp;</h3>
<p>International police cooperation was central to the success of this investigation as the critical infrastructure was scattered across the world.</p>
<p>Europol’s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3) </a>supported the investigation from the onset, bringing together all the involved countries to establish a joint strategy and to organise the intensive exchange of information and evidence needed to prepare for the final phase of the takedown.&nbsp;</p>
<p>The <strong>Police President of the Reutlingen Police Headquarters, Udo Vogel</strong>, said:</p>
<blockquote><p>The investigation carried out by our cybercrime specialists has resulted in such a success thanks to the excellent international cooperation with partners worldwide. The results show that law enforcement authorities are equally as well connected as criminals.&nbsp;</p>
</blockquote>
<p>The <strong>Head of Europol’s European Cybercrime Centre, Edvardas Šileris</strong>, said:</p>
<blockquote><p>The &nbsp;strong working relationship fostered by Europol between the investigators involved in this case on either side of the world was central in bringing down this service. &nbsp;Criminals can run but they cannot hide from law enforcement, and we will continue working tirelessly together with our partners to outsmart them.</p>
</blockquote>
<h3>Participating agencies</h3>
<ul><li><strong>Germany:</strong> Reutlingen Police Headquarters (Polizeipräsidium Reutlingen)</li>
<li><strong>The Netherlands: </strong>National Police (Politie)</li>
<li><strong>Switzerland:</strong> Cantonal Police of Argovia (Kantonspolizei Aargau)&nbsp;</li>
<li><strong>United States: </strong>&nbsp;Federal Bureau of Investigation</li>
<li><strong>France: </strong>Judicial Police (Direction Centrale de la Police Judiciaire)</li>
<li><strong>Europol:</strong> European Cybercrime Centre (EC3)&nbsp;</li>
</ul></div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515644</guid>
            <pubDate>Wed, 23 Dec 2020 08:30:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making joins faster in DataFusion based on table statistics]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515144">thread link</a>) | @hashjoiner
<br/>
December 22, 2020 | https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/ | <a href="https://web.archive.org/web/*/https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

                        
            
            

            <!-- //category -->


            <p><a href="https://github.com/apache/arrow/tree/master/rust/datafusion" title="DataFusion">DataFusion</a> is a new data processing engine written in the Rust programming language. It provides a SQL and a DataFrame API to transform datasets from multiple sources and in multiple file formats, similar to Spark. DataFusion uses <a href="https://arrow.apache.org/" title="Apache Arrow">Apache Arrow</a> as the underlying memory model, an efficient in-memory columnar format. This choice has significant performance benefits compared to a row-level representation such as used by <a href="https://spark.apache.org/" title="Apache Spark">Apache Spark</a>.</p>
<p>As other databases &amp; engines have shown, performing analytical (<a href="https://en.wikipedia.org/wiki/Online_analytical_processing" title="OLAP">OLAP</a>) queries on a <a href="http://cidrdb.org/cidr2005/papers/P19.pdf" title="columnar rather than row-by-row format">columnar rather than row-by-row format</a> can significantly speed up query execution, often by 20x or more!  When processing is done row-by-row, a lot of complex operations are being executed in the inner loop when executing a query, such as interpreting an expression, computing the result and going to the next value in the row, dealing with completely different operations and data types. In contrast, when operating on a columnar level, the inner loop can be very simple, making it easy for the CPU to see what instructions will likely run next and utilize various forms of <a href="https://en.m.wikipedia.org/wiki/Instruction-level_parallelism" title="instruction level parallelism">instruction level parallelism</a>. Modern CPUs can run hundreds of instructions at the same time, even on one core. Code can be written to use available <a href="https://en.m.wikipedia.org/wiki/SIMD" title="SIMD">SIMD</a> instructions, operating at multiple inputs at the same time to speed up things even more.<img src="https://arrow.apache.org/img/simd.png" alt="Arrow Format" title="Arrow Format"></p>
<p><em>Image source: Arrow website</em></p>
<p>DataFusion is implemented in <a href="https://www.rust-lang.org/" title="Rust">Rust</a>, a language that is both fast and has control over memory while still providing memory safety, making it a very suitable language to write performant and correct code. Compared to Java running on the JVM, systems written in Rust tend to use much less memory. This saves costs and makes it possible to run bigger workloads on a single machine! An earlier benchmark of <a href="https://ballistacompute.org/" title="Ballista">Ballista</a>, a distributed engine in Rust utilizing DataFusion, <a href="https://andygrove.io/rust_bigdata_benchmarks/" title="shows">shows</a> that it can do with about 10x less memory on small to medium sized datasets. The JVM needs at least 1 GB for the heap. Spark also keeps intermediate results in memory between stages. DataFusion can stream more in batches of records, keeping memory usage low. DataFusion also benefits from Arrow format, which stores data types such as strings in an efficient way.</p>
<p>Numerous performance improvements have been added in the Rust version of Arrow and DataFusion between version 2 and 3 which is planned for release in January.<br>
For example, I have contributed a<a href="https://github.com/apache/arrow/pull/8781" title=" faster CSV parser"> faster CSV parser</a> and <a href="https://github.com/apache/arrow/pull/8863" title="improved">improved</a> the performance of <a href="https://github.com/apache/arrow/pull/8832" title="hashing">hashing</a>. Kernels have been improved that provide implementations of often-used calculations, such as <a href="https://github.com/apache/arrow/pull/8800" title="sum">sum</a>, filter, <a href="https://github.com/apache/arrow/pull/8803" title="taking multiple elements">taking multiple elements</a> of an array by index (also called indexing or gathering), and <a href="https://github.com/apache/arrow/pull/8837" title="more">more</a>. As DataFusion and Arrow are relatively new projects, there is still a lot of room for further improvement.</p>
<p>Recently, I <a href="https://github.com/apache/arrow/pull/8961" title="added a new optimization pass to">added a new optimization pass to</a> DataFusion to make hash joins faster. A hash join is a popular algorithm to implement joins in a fast way. The hash join algorithm is divided in a <em>build</em> stage and a <em>probe</em> stage. The <em>build</em> (or left side) stage creates a lookup table to map the keys in the join condition to a row index. The <em>probe</em> (right side) stage looks up the items in the lookup table by key and adds the matching rows to the end result if there is a match.<br>
It is faster to create a lookup table for the smallest table. This will avoid work for creating the lookup table for more rows, as well as not having the requirement to keep the bigger table in memory. For the optimization to be possible, we need to know the number of rows of both sources before executing the query. Luckily, for Parquet and in-memory tables this can be calculated based on the metadata. This information has been exposed recently in DataFusion.</p>
<h4 id="implementation-results">Implementation / Results</h4>
<p>The optimization is implemented as an optimization pass on the logical plan, an abstract representation of a query. When the left side of a join has more rows than the right side, the order and join type are swapped. If the left side already is smaller, the order is kept intact.<br>
While testing the optimization something unexpected happened: When the optimization rule was used to change the order, the query performed worse than the original.<br>
While studying the implementation of the hash join in DataFusion, it became clear that next to the left side of a join, the right part creates a lookup table as well!<br>
I <a href="https://github.com/apache/arrow/pull/8965" title="changed the implementation">changed the implementation</a> to only use the probe side to look up items on the left side and simplified the implementation, removing some other inefficiencies. Now queries having joins run much faster than before. This can be demonstrated on two <a href="http://www.tpc.org/tpch/" title="TCP-H">TCP-H</a> benchmark queries that include a join and are supported in DataFusion. Notably, TCP-H 5 is now 16x faster and TCP-H 12 more than 4 times faster.<br>
I ran the <a href="https://github.com/apache/arrow/tree/master/rust/benchmarks" title="TPC-H">TPC-H</a> benchmarks using the command: <code>cargo run  --release --bin tpch -- benchmark --iterations 10 --path <location> --format tbl --query 12 --batch-size 20000 --concurrency 10 -m </location></code> and averaged the results.</p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/improved_join-900x629.png" alt=""></p>
<p>When the optimization rule is applied and combined with the improved hash join implementation, it makes the queries where the rule can be applied run faster, in this case reducing the total execution time by about 16%. For more imbalanced joins, the speedup can be greater. The data contains roughly 6 million line items (originally on the left side of the join) and 1.5 million orders (on the right side).</p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/carbon-7-900x834.png" alt=""></p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/join_build_probe_order-900x542.png" alt=""></p>
<h4 id="conclusion">Conclusion</h4>
<p>Statistics are a promising way to accelerate queries. In the future, a lot more optimizations could be added that benefit from table statistics. Many statistics however are known only after queries run, so in the future it would be interesting to add a form of <a href="https://databricks.com/blog/2020/05/29/adaptive-query-execution-speeding-up-spark-sql-at-runtime.html" title="Adaptive Query Execution">Adaptive Query Execution</a> as well.<br>
Hash joins could be further improved, for example by using <a href="https://www.cockroachlabs.com/blog/vectorized-hash-joiner/" title="vectorized hashing">vectorized hashing</a>, which can also be used for hash aggregations which are used in GROUP BY queries.</p>
<p>I am personally very excited for what the future of Arrow and DataFusion brings and making Rust and Apache Arrow accelerate data analytics &amp; data science.</p>

            

        </article><section>
            <div>
                <div>
                    <h3>Subscribe to our newsletter</h3>
                    <p>Stay up to date on the latest insights and
                        best-practices by registering for the GoDataDriven newsletter.</p>
                </div>
                            </div>
        </section></div>]]>
            </description>
            <link>https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515144</guid>
            <pubDate>Wed, 23 Dec 2020 06:53:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Axel Springer SE sues Polish journalist who shed light on its Nazi past (2018)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514510">thread link</a>) | @AndrewBissell
<br/>
December 22, 2020 | https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire | <a href="https://web.archive.org/web/*/https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The first hearing in the court case of German-Swiss media empire Ringier Axel Springer against Polish journalist Witold Gadowski was set to take place in the regional court of Warsaw Provincial court of Warsaw but was postponed due to security concerns after up to 100 of Gadowski's supporters showed up in court. </p><div><p>Axel Springer SE is the largest digital publishing house in Europe, controlling two of Germany's largest news brands, Bild and Die Welt. In Poland, it's the publisher of country's largest tabloid "Fakt" and one of the largest weeklies "Newsweek" as well as the largest newsportal Onet.pl.</p>

<p>The media group sued Gadowski for his statement in which he claimed that the company, founded in 1946, was from the outset linked to people from the Wehrmacht, the SS and Gestapo, while the company’s founder, Axel Springer, was himself involved with the Nazi regime”. In response, the media group Gadowski for infringement of personal interests.</p>

<p>Axel Springer, born in 1912 worked as an editor in his father's newspaper "Altonaer Nachrichter". After Hitler came to power in 1933, the paper participated in the anti-Jewish progaganda campaign directed against the German Jewish community. He was also a member of the Nazi paramilitary organization "The National Socialist Motor Corps". Another stain on his legacy was his decision to abandon his half-Jewish wife Martha Else Meyer, who just had given birth to their first child, soon after the Nurnberg laws came into force and remarrying with an "Aryan" woman.</p>

<p>Witold Gadowski told the media present for the hearing that he hopes that justice will prevail and that the proceeding will be on the grounds of the Polish law, where the constitution guarantees the Polish journalists’ freedom of speech. He also underlined that Axel Ringer Springer is trying to infringe on that exact freedom of speech by taking him to court.</p>

<p>The judge was surprised by the number of people who appeared in the court to support Gadowski and postponed the hearing due to safety concerns.</p>

<p>According to Gadowski, the case filed against him by Axel Springer could first step on the road to restoring the faith in the media in Poland. The columnist said that he still has faith and believes that facts and the truth will be enough to win the case.</p>
</div></div>]]>
            </description>
            <link>https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514510</guid>
            <pubDate>Wed, 23 Dec 2020 04:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Git Koans (2013)]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25514238">thread link</a>) | @mmettler
<br/>
December 22, 2020 | https://stevelosh.com/blog/2013/04/git-koans/ | <a href="https://web.archive.org/web/*/https://stevelosh.com/blog/2013/04/git-koans/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page-blog-entry"><article><p>Posted on April 8th, 2013.</p><p>Inspired by <a href="http://blog.sanctum.geek.nz/vim-koans/">Vim Koans</a>.</p>

<ol><li><a href="#s1-silence">Silence</a></li><li><a href="#s2-one-thing-well">One Thing Well</a></li><li><a href="#s3-only-the-gods">Only the Gods</a></li><li><a href="#s4-the-hobgoblin">The Hobgoblin</a></li><li><a href="#s5-the-long-and-short-of-it">The Long and Short of It</a></li></ol>

<h2 id="s1-silence"><a href="#s1-silence">Silence</a></h2>

<p>A Python programmer handed her <code>~/.gitconfig</code> to Master Git.  Among the many
lines were the following:</p>

<pre><code>[alias]
; Explicit is better than implicit.  If we want to merge
; we should do so ourselves.
pull = pull --ff-only</code></pre>

<p>Master Git nodded.  "<code>git pull origin master</code>," said the programmer.</p>

<p>Master Git pulled down the latest changes on <code>master</code> and automatically merged
them with the programmer's changes.</p>

<p>"But Master Git, did I not say to only fast-forward in my configuration?!" she
cried.</p>

<p>Master Git looked at her, nodded, and said nothing.</p>

<p>"Then why did you not warn me of a problem with my configuration?" she asked.</p>

<p>Master Git replied: "there was no problem."</p>

<p>Months later the programmer was reading <code>git --help config</code> for a different
reason and found enlightenment.</p>

<h2 id="s2-one-thing-well"><a href="#s2-one-thing-well">One Thing Well</a></h2>

<p>A UNIX programmer was working in the cubicle farms.  As she saw Master Git
traveling down the path, she ran to meet him.</p>

<p>"It is an honor to meet you, Master Git!" she said.  "I have been studying the
UNIX way of designing programs that each do one thing well.  Surely I can learn
much from you."</p>

<p>"Surely," replied Master Git.</p>

<p>"How should I change to a different branch?" asked the programmer.</p>

<p>"Use <code>git checkout</code>."</p>

<p>"And how should I create a branch?"</p>

<p>"Use <code>git checkout</code>."</p>

<p>"And how should I update the contents of a single file in my working directory,
without involving branches at all?"</p>

<p>"Use <code>git checkout</code>."</p>

<p>After this third answer, the programmer was enlightened.</p>

<h2 id="s3-only-the-gods"><a href="#s3-only-the-gods">Only the Gods</a></h2>

<p>The great historian was trying to unravel the intricacies of an incorrect merge
that had happened many months ago.  He made a pilgrimage to Master Git to ask
for his help.</p>

<p>"Master Git," said the historian, "what is the nature of history?"</p>

<p>"History is immutable.  To rewrite it later is to tamper with the very fabric of
existence."</p>

<p>The historian nodded, then asked: "Is that why rebasing commits that have been
pushed is discouraged?"</p>

<p>"Indeed," said Master Git.</p>

<p>"Splendid!" exclaimed the historian.  "I have a historical record of a merge
commit with two parents.  How can I find out which branch each parent was
originally made on?"</p>

<p>"History is ephemeral," replied Master Git, "the knowledge you seek can be
answered only by the gods."</p>

<p>The historian hung his head as enlightenment crushed down upon him.</p>

<h2 id="s4-the-hobgoblin"><a href="#s4-the-hobgoblin">The Hobgoblin</a></h2>

<p>A novice was learning at the feet of Master Git.  At the end of the lesson he
looked through his notes and said, "Master, I have a few questions.  May I ask
them?"</p>

<p>Master Git nodded.</p>

<p>"How can I view a list of <em>all</em> tags?"</p>

<p>"<code>git tag</code>", replied Master Git.</p>

<p>"How can I view a list of <em>all</em> remotes?"</p>

<p>"<code>git remote -v</code>", replied Master Git.</p>

<p>"How can I view a list of <em>all</em> branches?"</p>

<p>"<code>git branch -a</code>", replied Master Git.</p>

<p>"And how can I view the current branch?"</p>

<p>"<code>git rev-parse --abbrev-ref HEAD</code>", replied Master Git.</p>

<p>"How can I delete a remote?"</p>

<p>"<code>git remote rm</code>", replied Master Git.</p>

<p>"And how can I delete a branch?"</p>

<p>"<code>git branch -d</code>", replied Master Git.</p>

<p>The novice thought for a few moments, then asked: "Surely some of these could be
made more consistent, so as to be easier to remember in the heat of coding?"</p>

<p>Master Git snapped his fingers.  A hobgoblin entered the room and ate the novice
alive.  In the afterlife, the novice was enlightened.</p>

<h2 id="s5-the-long-and-short-of-it"><a href="#s5-the-long-and-short-of-it">The Long and Short of It</a></h2>

<p>Master Git and a novice were walking along a bridge.</p>

<p>The novice, wanting to partake of Master Git's vast knowledge, said:
"<code>git branch --help</code>".</p>

<p>Master Git sat down and lectured her on the seven forms of <code>git branch</code>, and
their many options.</p>

<p>They resumed walking.  A few minutes later they encountered an experienced
developer traveling in the opposite direction.  He bowed to Master Git and said
"<code>git branch -h</code>".  Master Git tersely informed him of the most common <code>git
branch</code> options.  The developer thanked him and continued on his way.</p>

<p>"Master," said the novice, "what is the nature of long and short options for
commands?  I thought they were equivalent, but when that developer used <code>-h</code> you
said something different than when I said <code>--help</code>."</p>

<p>"Perspective is everything," answered the Master.</p>

<p>The novice was puzzled.  She decided to experiment and said "<code>git -h branch</code>".</p>

<p>Master Git turned and threw himself off the railing, falling to his death on the
rocks below.</p>

<p>Upon seeing this, the novice was enlightened.</p>
</article></div></div>]]>
            </description>
            <link>https://stevelosh.com/blog/2013/04/git-koans/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514238</guid>
            <pubDate>Wed, 23 Dec 2020 03:59:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[30 Years Later: Early Days of the Web]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25513720">thread link</a>) | @DanielKehoe
<br/>
December 22, 2020 | https://blog.yax.com/posts/early-days-of-the-web-1991/ | <a href="https://web.archive.org/web/*/https://blog.yax.com/posts/early-days-of-the-web-1991/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div itemprop="articleBody">
                    
                    <hr> 
                    <p>The web is thirty years old this month, counting from the date the <a href="https://www.w3.org/2012/08/history-of-the-web/origins.htm">first web server was launched on Christmas 1990</a>. Personally, August 6th, 1991, is more significant, when the web was publicly announced.</p>

<p>In 1991 I was writing for <em>NeXTWORLD</em> magazine, which was a lot of fun, because I got to work with, and write about, people who were doing fascinating things with computer technology. Working for <em>NeXTWORLD</em> led to writing the book <em>Taking the Next Step</em> and a short stint at Steve Jobs’s <a href="https://en.wikipedia.org/wiki/NeXT">NeXT</a> as a technical writer.</p>

<p>The most innovative project I encountered that year was not NeXT. Rather, it was something developed by Tim Berners-Lee, a researcher at CERN, the European particle physics laboratory. He used a NeXT computer to develop a networked information system for high-energy physicists. If I hadn’t been reading  the <em>comp.sys.next</em> Usenet newsgroups carefully, I would have missed the announcement of a “a hypertext editor for the NeXT.”</p>

<p>Not many people used “WWWNeXTStepEditor version 0.12.” The NeXT community was small and many NeXT computer users did not yet have Internet access, which was required to access Tim Berners-Lee’s experimental “WorldWideWeb” documents. To me, the name WorldWideWeb seemed a bit of a conceit since the only users at the time were high-energy physicists at a few research institutes.</p>

<p>Nonetheless, as soon I’d installed and tried the software, I wanted to get involved. I told everyone about it, including a fellow editor at <em>NeXTWORLD,</em> <a href="https://en.wikipedia.org/wiki/John_Perry_Barlow">John Perry Barlow</a>. Barlow, a lyricist for the Grateful Dead, and cofounder of the (then-new) Electronic Frontier Foundation, wrote to his friend <a href="https://en.wikipedia.org/wiki/Mitch_Kapor">Mitch Kapor</a>…</p>

<p><img src="https://blog.yax.com/images/post1-barlow.gif" alt=""></p>

<p>If you don’t recognize Barlow’s references, <a href="https://en.wikipedia.org/wiki/Project_Xanadu" title="Project Xanadu">Project Xanadu</a> was a visionary hypertext project that predated the Internet. The Matrix is not the movie universe created by the Wachowskis but, rather the network of computer networks that existed before the commercialization of the Internet (as described by the researcher <a href="https://en.wikipedia.org/wiki/John_Quarterman">John Quarterman</a>).</p>

<p>Subsequently I joined the <a href="https://lists.w3.org/Archives/Public/www-talk/1991SepOct/0001.html">www-talk mailing list</a> and also contacted Tim Berners-Lee directly. I wanted to know if he was interesting in technology I’d heard about from friends at Adobe Systems. Adobe’s editable PostScript specification (which came to be named PDF and became the basis for a product named “Acrobat”) seemed to me a better match for distributed hypertext than the very-limited SGML-based “HTML tags” that Tim Berners-Lee was using. HTML offered only minimal layout and styling possibilities; <a href="https://en.wikipedia.org/wiki/PostScript">PostScript</a> was a better page description language.</p>

<p>Here’s an excerpt…</p>

<p><img src="https://blog.yax.com/images/post1-timbl.gif" alt=""></p>

<p>Tim Berners-Lee was reluctant to publicize that code for the web was available for free, as management at CERN had not yet agreed to release it publicly (that didn’t happen until <a href="https://cds.cern.ch/record/1164399">April 1993</a>), and I wasn’t able to write about it for <em>NeXTWORLD</em> (too bad, as I could have been the first journalist to write about the web!).</p>

<p>Subsequently, editable PostScript was released, and in 1993, <a href="https://en.wikipedia.org/wiki/Robert_Cailliau">Robert Cailliau</a> of CERN visited me in California. I arranged a meeting between Cailliau and management at Adobe Systems. He met with John Kunze of Adobe at the Stanford Linear Accelerator Center (SLAC) and demonstrated the World Wide Web — the first time management at Adobe had seen the Web. By that time, HTML was firmly entrenched as the native language of the new Web. Adobe later invested in Netscape Communications and produced an Acrobat plug-in for the Netscape Web browser, establishing the basis for viewing richly formatted PDF pages in web browsers.</p>

<p>For some years afterward, I regretted that the Adobe/WWW meeting had not taken place the previous year, because the sparse and limited HTML format might have been eclipsed by the richer format of PDF as the primary syntax of web pages. With the adoption of the <a href="http://www.w3.org/Style/LieBos2e/history/">Cascading Style Sheets specification</a> (from 1999 forward), my views changed, and I’ve come to appreciate that the technical underpinnings of the web are optimal, reflecting both the genius of Berners-Lee’s original vision and the rich contributions of the worldwide developer community.</p>

<p>Thirty years later, it is easy to overlook the web’s origins as a tool for sharing knowledge. Key to Tim Berners-Lee’s vision were open standards that reflected his belief in the <a href="https://www.w3.org/2001/tag/doc/leastPower">Rule of Least Power</a>, a principle that choosing the simplest and least powerful language for a given purpose allows you to do more with the data stored in that language (thus HTML is easier for humans or machines to interpret and analyze than PostScript). Along with open standards and the Rule of Least Power, Tim Berners-Lee wanted to make it easy for anyone to publish information in the form of web pages. His first web browser, named Nexus, was both a browser and editor. The NeXTSTEP SDK made editing easy to implement; editing was abandoned in subsequent non-NeXT web browsers.</p>

<p>I think we’ve lost sight of that original vision. Facebook or Wix make it easy to author web pages but at the cost of lock-in to proprietary systems. And when developers choose complex software such as React or Rails to build simple websites, I cringe at the violation of Rule of Least Power. I still have a “deep case of net religion” (as John Perry Barlow said in 1991) and I’m now writing about ways to build websites without frameworks and build tools (see my articles, <a href="https://tutorials.yax.com/articles/build-websites-the-yax-way/index.html">Build Websites the Yax Way</a>). My current project, <a href="https://yax.com/">Yax.com</a>, is a do-it-yourself website builder that uses new web standards (including web components) to help people build simple sites. Thirty years on, we still have a lot of work to do to realize the web’s original goals. I hope I’m not the only one who sees this.</p>

<p>I never anticipated that Berners-Lee’s NeXT hypertext project would become a medium to supplant print and television. In 1991, during idle moments, I imagined the world’s books and magazines might be reborn as hypertext (many others had imagined this earlier, including Ted Nelson, with his Xanadu project). But I never honestly believed that Berners-Lee’s software project could change the world. By 1999, as Web addresses appeared on billboards and the sides of buses, I started to accept that Berners-Lee naming his project “the WorldWide Web” was not vainglorious but simply prescient. Still, I hope his original vision of the web as a means for sharing the world’s knowledge is not eclipsed by its utility as a platform for commerce.</p>

<p><img src="https://blog.yax.com/images/post1-signature-dmk.gif" alt=""></p>

                </div>
                
                

            </div>
        </div></div>]]>
            </description>
            <link>https://blog.yax.com/posts/early-days-of-the-web-1991/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513720</guid>
            <pubDate>Wed, 23 Dec 2020 02:21:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things You're Allowed to Do]]>
            </title>
            <description>
<![CDATA[
Score 401 | Comments 263 (<a href="https://news.ycombinator.com/item?id=25513713">thread link</a>) | @thesephist
<br/>
December 22, 2020 | https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/ | <a href="https://web.archive.org/web/*/https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    <p>This is a list of things you’re allowed to do that you thought you couldn’t, or didn’t even know you could.</p>
<p>I haven’t tried everything on this list, mainly due to cost.
But you’d be surprised how cheap most of the things on this list are (especially the free ones).</p>
<p><strong>Note that you can replace “hire” or “buy” with “barter for” or “find a DIY guide to” nearly everywhere below.</strong>
E.g. you can clean the bathroom in exchange for your housemate doing a couple hours research for you.</p>
<h3 id="learning-and-decision-making">Learning and decision making</h3>
<ul>
<li>Hire a researcher or expert consultant
<ul>
<li>I hired a researcher (<a href="https://acesounderglass.com/">Elizabeth Van Nostrand</a>, whom you can and should <a href="https://acesounderglass.com/hire-me/">hire</a> too) to help write this very post, which is largely about how to hire people to do things!</li>
<li>They can:
<ul>
<li>Help validate whether a crazy idea is possible</li>
<li>Do <a href="https://acesounderglass.com/tag/epistemicspotcheck/">epistemic spot checks</a> of your work</li>
<li>Map the landscape of opinions on a topic</li>
<li>Write literature surveys</li>
<li>Find people worth talking to about a potential topic and writing briefs about them</li>
<li>Opposition or market research</li>
<li>Find options for big purchases like houses or insurance</li>
<li>Compile datasets</li>
<li>Find un-Googleable things</li>
</ul>
</li>
<li>To find one:
<ul>
<li>Look for books or scholarly articles on the topic, and email the author
<ul>
<li>Graduate students are especially good, and often know more than the “experts”</li>
<li>If you find someone genuinely interested in what you’re working on, you might be able to collaborate and not pay</li>
</ul>
</li>
<li>Look for interested individuals in the long tail of blogs
<ul>
<li>E.g. by Google searching with <code>"site: medium.com"</code> and finding the authors</li>
</ul>
</li>
<li>Use a matchmaking service (see <a href="#appendix-sources-of-experts">Appendix</a>)</li>
<li>Search through professional organizations directories (e.g. Bar Association, American Academy of Pediatrics)</li>
<li>Google the topic +
<ul>
<li>“blog”</li>
<li>“podcast”</li>
<li>“expert witness”</li>
<li>“book”</li>
<li>“consultant”</li>
<li>“reddit”</li>
</ul>
</li>
</ul>
</li>
<li>What do I pay them?
<ul>
<li>Some post their prices online</li>
<li>If you’re hiring a grad student you can pay them at or above their school’s graduate student stipend, which you can Google.</li>
<li><a href="https://www.lesswrong.com/posts/evyBmPw9ZnzmoFmP6/experiment-a-good-researcher-is-hard-to-find">Make sure they get something out of the project</a> (and other tips)</li>
</ul>
</li>
</ul>
</li>
<li>Ask questions online
<ul>
<li>You know those answers you enjoy reading on Stack Exchange, Reddit, Quora, etc.?  Someone had to ask those questions. It can be you.</li>
<li>If you’re embarrassed by the question, it’s easy to be anonymous</li>
</ul>
</li>
<li>Run surveys
<ul>
<li>Twitter
<ul>
<li>Or ask someone with a larger following to do it</li>
</ul>
</li>
<li>Google Surveys</li>
<li>Amazon Mechanical Turk</li>
</ul>
</li>
<li>Run <a href="https://www.gwern.net/Nootropics#blinding-yourself">genuine randomized control trials on yourself</a></li>
<li>Buy research
<ul>
<li>See <a href="#appendix-sources-of-research">Appendix</a>, <a href="https://blog.alexa.com/sites-for-market-research/">here</a>, or <a href="https://web.jinfo.com/go/blog/73431">here</a></li>
<li>Or find it on <a href="https://twitter.com/Sci_Hub">SciHub</a> or <a href="https://twitter.com/libgen_project">Libgen</a></li>
</ul>
</li>
<li>Hire someone to pentest/doxx you
<ul>
<li>Or put out a bounty for it, like <a href="https://www.gwern.net/Blackmail#pseudonymity-bounty">Gwern used to</a></li>
</ul>
</li>
<li>Hire a graphic designer to turn your appalling sketches into beautiful diagrams or slides</li>
<li>Host small gatherings or conferences on topics you care about
<ul>
<li>These are much easier to set up than you’d think, especially in the age of Zoom</li>
<li>If you can use the gathering to bootstrap a group chat or community, so much the better!</li>
</ul>
</li>
<li>Hire a tutor
<ul>
<li><a href="https://www.italki.com/">Language tutors</a> are surprisingly cheap and better than any app</li>
<li><a href="https://www.wyzant.com/">Wyzant</a> and many other sites exist for general tutoring</li>
<li>For niche tutoring you can try general freelance sites like <a href="https://www.fiverr.com/">Fiverr</a> or <a href="https://www.upwork.com/">Upwork</a></li>
<li>Services like <a href="https://www.sharpestminds.com/">Sharpest Minds</a> exist for professional training</li>
</ul>
</li>
<li>Hire someone just as an excuse to make yourself complete a project
<ul>
<li>Sure you could proofread your own document.  But if you hire a proofreader, you have to actually deliver them something at some point.</li>
</ul>
</li>
</ul>
<h3 id="interpersonal">Interpersonal</h3>
<ul>
<li><a href="https://guzey.com/personal/what-should-you-do-with-your-life/#cold-emails-and-twitter">Cold contact people</a>
<ul>
<li>Yes, even famous people. Just make sure you have something to say.</li>
</ul>
</li>
<li><a href="https://guzey.com/follow-up/">Follow up many times</a>
<ul>
<li>You won’t make people mad if you’re polite.</li>
</ul>
</li>
<li>Just ask for things
<ul>
<li>Free upgrades</li>
<li>Coupons
<ul>
<li>At checkout you can just ask “Do you have any coupons I can apply to this?”</li>
</ul>
</li>
<li>Raises</li>
<li>Better terms in a job offer
<ul>
<li>Easier than asking for a raise - you have more leverage</li>
</ul>
</li>
<li>Waiving admission or graduation requirements</li>
<li>It’s okay if the things are crazy.  You can always mollify afterward by saying “I know that’s a crazy thing to ask for, but I have a rule that I always ask.”</li>
</ul>
</li>
<li><a href="http://mindingourway.com/obvious-advice/">Ask obvious questions</a></li>
<li>Buy goods/services from your friends
<ul>
<li>It’s not weird unless you make it weird</li>
<li>Everyone knows some starving artists and needs to buy holiday gifts</li>
<li>Doesn’t apply to every service obviously: don’t take out loans from your friends</li>
</ul>
</li>
<li>Not tell white lies
<ul>
<li>You can be nice and tell the truth at the same time.</li>
<li>Especially to children when they annoy you.</li>
</ul>
</li>
<li>Say “I don’t know” or “I don’t have an opinion” when you don’t</li>
<li>Ask people out on dates
<ul>
<li>This one might just be directed at young me…</li>
</ul>
</li>
<li>Don’t drink, even when you’re expected to
<ul>
<li>Don’t drink alcohol, I mean.</li>
<li>Actually heck, don’t drink water either if you don’t want.</li>
</ul>
</li>
<li>Travel to friends just to visit them</li>
<li>Move close to friends</li>
<li>Live in multiple places with multiple people
<ul>
<li>Rent spare rooms or couches part-time in multiple homes</li>
<li>Arrange your own timeshare system with friends</li>
</ul>
</li>
<li>Be a nomad</li>
<li>Romance
<ul>
<li>Hire a matchmaker</li>
<li>Buy premium versions of dating apps</li>
<li>Get couples therapy</li>
</ul>
</li>
<li>Give to charity
<ul>
<li>You really can, to the best of our knowledge, <a href="https://www.givewell.org/giving101/Your-dollar-goes-further-overseas">save someone’s (statistical) life</a> with not that much money.
Let that idea really, fully osmose through your brain before you pass it over.</li>
</ul>
</li>
</ul>
<h3 id="support-and-accountability">Support and accountability</h3>
<ul>
<li>Hire a coach
<ul>
<li>For your professional area
<ul>
<li><a href="https://www.newyorker.com/magazine/2011/10/03/personal-best">An Atul Gawande article on the subject</a></li>
<li><a href="https://www.npr.org/2020/02/03/802422904/when-things-click-the-power-of-judgment-free-learning">On clicker training</a></li>
</ul>
</li>
<li>Personal trainer</li>
<li>Nutritionist</li>
<li>Meditation guide</li>
</ul>
</li>
<li>Visit a therapist</li>
<li>Visit a physical therapist</li>
<li>Buy task-specific devices that prevent multitasking
<ul>
<li>Kindle</li>
<li>Freewrite Traveller</li>
<li>Dedicated music players</li>
<li>Dedicated notebooks for specific purposes (day planner, exercise log, etc.)</li>
</ul>
</li>
<li>Engage a human productivity monitor
<ul>
<li>I know two people who have hired people to sit next to them or frequently contact them to keep them on-task</li>
<li>Examples: <a href="https://www.focusmate.com/">focusmate.com</a> and <a href="https://coding-pal.com/">coding-pal.com</a></li>
</ul>
</li>
</ul>
<h3 id="making-the-most-of-your-resources">Making the most of your resources</h3>
<ul>
<li>Grocery delivery</li>
<li>Cleaning services
<ul>
<li>Can be regular or just when you need a big spring clean</li>
<li>Don’t forget carpet and vent cleaning</li>
</ul>
</li>
<li>Laundry service</li>
<li>Nannies over daycare</li>
<li>Modify your stuff
<ul>
<li>Tape over annoying LED lights</li>
<li>Remove logos (<a href="https://www.youtube.com/watch?v=WVeGDitPqKo">example</a>)</li>
<li>Write in books</li>
<li>Rip off tags</li>
<li>Rotate your monitor to portrait</li>
</ul>
</li>
<li>Repair your stuff, or get it repaired
<ul>
<li>Shoes</li>
<li>Clothes</li>
<li>Luggage and <a href="https://rainypass.com/">outdoor gear</a></li>
<li>Furniture</li>
<li>Car
<ul>
<li>You can buy at-home car care</li>
</ul>
</li>
</ul>
</li>
<li>Write on a post-it note affixed to a greeting card rather than on the greeting card itself, so the recipient can throw away the post-it and reuse your card
<ul>
<li>Employ similar logic for any disposable/consumable item</li>
</ul>
</li>
<li>Treat fines like payments
<ul>
<li>E.g. park illegally and let yourself think of the (expected value of the) fine as a parking fee</li>
<li>Obviously don’t break rules that matter like blocking a fire exit</li>
</ul>
</li>
<li><a href="https://donotpay.com/">Contest unjust fines</a></li>
<li>Telemedicine</li>
<li>Surgery for appearance or comfort</li>
<li>At-home vet care</li>
<li>Enroll <a href="https://www.dummies.com/health/how-to-enroll-in-a-clinical-trial/">yourself</a> (or <a href="https://loyalfordogs.com/">your pet</a>) in a clinical trial or research study</li>
<li>Generate your own audiobooks
<ul>
<li><a href="https://gutenbergreloaded.com/collections/all">gutenbergreloaded.com</a></li>
</ul>
</li>
<li>Generate your own ebooks
<ul>
<li><a href="https://1dollarscan.com/">1dollarscan.com</a></li>
</ul>
</li>
<li>Get verbal things written down
<ul>
<li><a href="https://transcribeme.com/">transcribeme.com</a></li>
<li><a href="https://otter.ai/">otter.ai</a></li>
</ul>
</li>
<li>Personal assistant services (or a real PA if you can afford it)
<ul>
<li><a href="https://getmagic.com/">Magic</a>, <a href="https://www.taskrabbit.com/">TaskRabbit</a>, <a href="https://www.fancyhands.com/">Fancy Hands</a>, and similar services can approximate many of these.
There are also more serious services like <a href="https://withdouble.com/">Double</a>.</li>
<li>Manage email</li>
<li>Helping you move</li>
<li>Getting visas and arranging travel</li>
<li>Stand in line for you</li>
<li>Errands</li>
<li>Filing paperwork</li>
</ul>
</li>
<li>And if you grew up in a thrifty family, like me:
<ul>
<li>Paying for parking in convenient location</li>
<li>Hotels where you can sleep comfortably</li>
<li>Non-public transportation, especially when traveling</li>
<li>Buying comfortable mattress, shoes, etc.</li>
<li>Buying clothes for appearance or comfort instead of just the lowest price</li>
<li>Bottled water when you’re thirsty
<ul>
<li>And in general fulfilling any bodily need for &lt; $5 (restrooms, buying a hat when you forgot yours, etc.)</li>
</ul>
</li>
<li>Buy your way out of advertising on e.g. Spotify or YouTube</li>
<li>Actually turn the heat/AC on
<ul>
<li>And in general, <a href="https://radimentary.wordpress.com/2018/01/29/hammertime-day-1-bug-hunt/">being willing to spend a few minutes to fix small annoyances</a></li>
<li>Seriously, just put WD-40 on that squeaky hinge already</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>Katja Grace’s <a href="https://meteuphoric.com/2014/03/25/how-to-trade-money-and-time/">How to trade money and time</a></li>
<li>Sam Bowman’s <a href="https://medium.com/@s8mb/things-i-recommend-you-buy-and-use-second-edition-457a8e7163f6">Things I Recommend You Buy and Use</a></li>
<li>Rob Wiblin <a href="https://medium.com/@robertwiblin/things-i-recommend-you-buy-and-use-rob-edition-1d7b2ce27d68">channeling Sam</a></li>
<li><a href="https://www.lesswrong.com/posts/KuFSkLwhSkEZJYALE/collating-widely-available-time-money-trades">Estimated hourly costs of buying free time</a> (see comments)</li>
</ul>
<hr>
<p><em>Thanks to
<a href="https://www.gwern.net/">Gwern</a>,
<a href="https://twitter.com/an1lam">Stephen Malina</a>,
<a href="https://twitter.com/alexeyguzey">Alexey Guzey</a>,
<a href="https://twitter.com/robot__dreams">Elliot Jin</a>,
<a href="https://twitter.com/iandanforth">iandanforth</a>,
<a href="https://twitter.com/jmclulow">Joshua M. Clulow</a>,
<a href="https://twitter.com/K4y1s">Kay</a>,
<a href="https://news.ycombinator.com/user?id=zoba">zoba</a>,
<a href="https://news.ycombinator.com/user?id=ryandrake">ryandrake</a>,
a guy I can’t name who offers “personal assistant concierge services for high-net-worth families,”
and <a href="https://acesounderglass.com/">Elizabeth Van Nostrand</a>
for some of the ideas above.</em></p>
<hr>



<table>
<thead>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Comments</th>
    <th>Target Audience</th>
    <th>URL</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Expertise Finder</td>
    <td>Academics to comment on many subjects</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://expertisefinder.com/">link</a></td>
  </tr>
  <tr>
    <td>Womenâ€™s Media Center SheSource</td>
    <td>Women only, focuses on current events and politics</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://www.womensmediacenter.com/shesource/">link</a></td>
  </tr>
  <tr>
    <td>National Association of Personal Financial Advisors</td>
    <td>Financial only</td>
    <td>Seems like a low bar to entry</td>
    <td>Journalists</td>
    <td><a href="https://www.napfa.org/newsroom">link</a></td>
  </tr>
  <tr>
    <td>ProfNet</td>
    <td>Wide range of experts</td>
    <td>Owned by PR firm, presumably works for experts more than you</td>
    <td>Journalists</td>
    <td><a href="https://profnet.prnewswire.com/ProfNetHome/What-is-Profnet.aspx">link</a></td>
  </tr>
  <tr>
    <td>Coursera Expert Network</td>
    <td>Academics from top schools only</td>
    <td>Presumably biased towards people who have made Coursera courses</td>
    <td>Journalists</td>
    <td><a href="https://experts.coursera.org/">link</a></td>
  </tr>
  <tr>
    <td>ExpertFile</td>
    <td>Curated experts from universities, institutions, think tanks, associations, companies and other sources</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://expertfile.com/">link</a></td>
  </tr>
  <tr>
    <td>GURU</td>
    <td>Aimed mostly at professional expertise (Sales, Marketing, Eng, etc.)</td>
    <td></td>
    <td>Businesses</td>
    <td><a href="https://www.guru.com/">link</a></td>
  </tr>
  <tr>
    <td>Amber Biology</td>
    <td>Biologists only</td>
    <td></td>
    <td>Science projects?</td>
    <td><a href="https://www.amberbiology.com/">link</a></td>
  </tr>
  <tr>
    <td>Help a Reporter Out (HARO)</td>
    <td></td>
    <td>Requires affiliation with a highly ranked website</td>
    <td>Journalists</td>
    <td><a href="https://www.helpareporter.com/">link</a></td>
  </tr>
  <tr>
    <td>Self Improvement Experts Directory</td>
    <td></td>
    <td></td>
    <td>Individuals</td>
    <td><a href="https://www.selfgrowth.com/experts.html">link</a></td>
  </tr>
  <tr>
    <td>JurisPro</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.jurispro.com/">link</a></td>
  </tr>
  <tr>
    <td>ForensisGroup</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.forensisgroup.com/">link</a></td>
  </tr>
  <tr>
    <td>Expert Institute</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.expertinstitute.com/">link</a></td>
  </tr>
</tbody>
</table>                                                                                                                                   


<ul>
<li>Top choices:
<ul>
<li><a href="https://www.ibisworld.com/">IBIS</a></li>
<li><a href="https://profound.com/">Profound</a></li>
<li><a href="https://www.eifl.net/e-resources/research-monitor">Research Monitor</a></li>
<li><a href="https://www.euromonitor.com/store">EuroMonitor</a></li>
</ul>
</li>
<li><a href="https://www.insideview.com/">Inside View</a></li>
<li><a href="https://www.census.gov/">US Census Data</a></li>
<li><a href="https://www.sba.gov/offices/headquarters/oee/resources/2836">SBAâ€™s Office of Entrepreneurship Education Resources</a></li>
<li><a href="http://www.pewresearch.org/">Pew Research Center</a></li>
<li><a href="https://www.statista.com/">Statista</a></li>
<li><a href="https://www.marketresearch.com/">marketresearch.com</a></li>
<li><a href="https://www.plunkettresearch.com/how-to-buy/">Plunkett Research</a></li>
<li><a href="https://market-intelligence.com.au/">The Market Intelligence Co.</a></li>
<li><a href="https://www.jinfo.com/">Jinfo</a></li>
<li><a href="https://www.idc.com/">IDC</a></li>
<li><a href="https://www.gartner.com/en">Gartner</a></li>
<li><a href="https://pitchbook.com/">Pitchbook</a></li>
<li><a href="https://www.crunchbase.com/">Crunchbase</a></li>
</ul>
</article>

        </div></div>]]>
            </description>
            <link>https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513713</guid>
            <pubDate>Wed, 23 Dec 2020 02:20:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A comprehensive survey of Product Management]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513614">thread link</a>) | @regera
<br/>
December 22, 2020 | https://www.lennyrachitsky.com/p/product-management-survey | <a href="https://web.archive.org/web/*/https://www.lennyrachitsky.com/p/product-management-survey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>👋 Hello, I’m&nbsp;<a href="https://twitter.com/lennysan">Lenny</a>&nbsp;and welcome to a ✨&nbsp;<strong>once-a-month-free-edition&nbsp;</strong>✨ of my newsletter. Each week I humbly tackle reader questions about product, growth, working with humans, and anything else that’s stressing you out at the office.</em></p><p><em>If you’re not a paid subscriber, here’s what you missed this month:</em></p><ol><li><p><em><a href="https://www.lennyrachitsky.com/p/creating-buzz-at-launch-preview">Ten ways to generate buzz for your product</a></em></p></li><li><p><em><a href="https://www.lennyrachitsky.com/p/seo-experimentation">How to run SEO experiments</a></em></p></li><li><p><em><a href="https://www.lennyrachitsky.com/p/not-running-an-experiment">When NOT to run an experiment</a></em></p></li></ol><blockquote><h2>Q: What is the product manager role like at different companies?</h2></blockquote><p>What skills do companies look for in a PM? What do PMs need to get right to get promoted? How much influence do PMs have at different companies? There’s surprisingly little information out there about the differences in the PM role across the industry.</p><p>Today, I’m sharing findings from a survey I’ve been running over the past month, with nearly 1,000 responses from over 600 companies. Below, you’ll find:</p><ol><li><p>Which skills matter most when hiring PMs</p></li><li><p>What PMs have to get most right to get promoted</p></li><li><p>How much influence PMs have</p></li><li><p>Which companies prioritize Heart vs. Head vs. Hands</p></li><li><p>Takeaways, and links to dig deeper</p></li></ol><p><em>A big thank you to <a href="https://productmanagerhq.com/">PMHQ</a>, <a href="https://twitter.com/sriramk">Sriram Krishnan</a>, <a href="https://twitter.com/hnshah">Hiten Shah</a>, <a href="https://twitter.com/joshelman">Josh Elman</a>, <a href="https://twitter.com/ianmcall">Ian McAllister</a> for helping amplify this survey to get more responses, and to <a href="https://www.linkedin.com/in/talsraviv/?originalSubdomain=il">Tal Raviv</a>, <a href="https://www.linkedin.com/in/manikg">Manik Gupta</a>, <a href="https://www.linkedin.com/in/helensims">Helen Sims</a>, <a href="https://www.linkedin.com/in/ajfrank/">AJ Frank</a>, <a href="https://www.linkedin.com/in/matthias-wagner-5220b047/">Matthias Wagner</a>, <a href="https://www.linkedin.com/in/karaskrip/">Kara Skrip</a>, <a href="https://www.linkedin.com/in/seanplynch/">Sean Lynch</a>, <a href="https://www.linkedin.com/in/petesauer/">Peter Sauer</a>, and <a href="https://www.linkedin.com/in/kiyanibamba/">Kiyani Bamba</a> for feedback on the survey and post.</em></p><p><strong>A few quick disclaimers:</strong></p><ol><li><p>I’m no survey expert. I may have gotten something wrong. Please forgive me if so, and please <a href="https://forms.gle/HKtkAXRhWSRqVNqf8">give me feedback</a>.</p></li><li><p>85% of the responders were product managers (as planned), so assume bias from that perspective.</p></li><li><p>When I mention specific companies below, I made sure to have at least two data points from that company.</p></li></ol><p>Let’s dive in!</p><h2>Who took the survey</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=723289895"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F248d2fc3-c0e9-4264-92d8-2e0520a6e447_2000x1266.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/248d2fc3-c0e9-4264-92d8-2e0520a6e447_2000x1266.png&quot;,&quot;height&quot;:922,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1309072,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=723289895&quot;}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F094b4bba-2f46-4c73-8adf-3e00675a1ece_2000x1749.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/094b4bba-2f46-4c73-8adf-3e00675a1ece_2000x1749.png&quot;,&quot;height&quot;:1273,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:178028,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815&quot;}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa457b9-db26-438d-a429-88b20e801f53_2000x1392.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/8fa457b9-db26-438d-a429-88b20e801f53_2000x1392.png&quot;,&quot;height&quot;:1013,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:59220,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815&quot;}" alt=""></a></figure></div><h2>Being a Product Manager</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1402367635"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fcf1e593c-cf7e-4ec4-9dc9-b0a4988e92a2_2000x1433.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/cf1e593c-cf7e-4ec4-9dc9-b0a4988e92a2_2000x1433.png&quot;,&quot;height&quot;:1043,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:114802,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1402367635&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p><strong>Most frequently valued</strong>: Communication, execution, product sense</p></li><li><p><strong>Least frequently valued</strong>: Design/UX, empathy, raw intelligence</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=0"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa540c078-53e6-4d0e-b893-b097c28256be_2000x2042.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/a540c078-53e6-4d0e-b893-b097c28256be_2000x2042.png&quot;,&quot;height&quot;:1487,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:216224,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=0&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who spike on Communication: <strong>HubSpot, Salesforce</strong></p></li><li><p>Companies who spike on Execution: <strong>Salesforce, Tesla, VMware</strong></p></li><li><p>Companies who spike on Product sense: <strong>Asana, Flipkart, Intercom, Netflix, ServiceNow, WhatsApp</strong></p></li><li><p>Companies who spike on Strategic thinking: <strong>Coinbase, Stripe, Zillow</strong></p></li><li><p>Companies who spike on Collaboration: <strong>Atlassian, Box, ServiceNow, Spotify, Twitter</strong></p></li><li><p>Companies who spike on Data acumen: <strong>Quora, Reddit, Zynga</strong></p></li><li><p>Companies who spike on Technical background: <strong>Oracle, Stripe</strong></p></li><li><p>Companies who spike on Raw intelligence: <strong>Coinbase, Robinhood</strong></p></li><li><p>Companies who spike on Empathy: <strong>HubSpot, Intercom</strong></p></li><li><p>Companies who spike on Design/UX: <strong>WhatsApp</strong></p></li></ol></blockquote><h2>Getting promoted</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1717122536"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F74ce70b3-5879-4081-93e0-3f210c1f8332_1996x1290.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/74ce70b3-5879-4081-93e0-3f210c1f8332_1996x1290.png&quot;,&quot;height&quot;:941,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:94279,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1717122536&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Showing significant impact on the business — by far the most common thing to get right</p></li><li><p>Unlike the mini-CEO label PMs often get, in reality they must keep their external stakeholders onboard to be successful</p></li><li><p>Keeping their team and manager happy — less of a priority at most companies, but as you’ll see below, very important at some</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=336985443"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F80eb5c80-9e83-4195-bd3a-2376381d383d_2002x2682.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/80eb5c80-9e83-4195-bd3a-2376381d383d_2002x2682.png&quot;,&quot;height&quot;:1951,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:280301,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=336985443&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who prioritize Showing significant business impact: <strong>Atlassian, Capital One, Coinbase, Expedia, HubSpot, Netflix, Square, Wayfair, Yelp, YouTube, Zillow</strong></p></li><li><p>Companies who prioritize Keeping stakeholders onboard: <strong>Atlassian, Booking, IBM, VMware, Wayfair, Zillow</strong></p></li><li><p>Companies who prioritize Hitting goals: <strong>Airbnb, Reddit, Yelp, Zynga&nbsp;</strong></p></li><li><p>Companies who prioritize Shipping great product: <strong>Adobe, Hubspot, Intercom, Robinhood, Stripe, WhatsApp</strong></p></li><li><p>Companies who prioritize Making their manager happy: <strong>Apple, IBM, Oracle </strong></p></li><li><p>Companies who prioritize Keeping their team happy: <strong>Intercom, Quora, Visa</strong></p></li></ol></blockquote><h2>Influence</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8c5c2b1-1bec-4c47-97d7-f5823ac25ca9_2000x1363.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f8c5c2b1-1bec-4c47-97d7-f5823ac25ca9_2000x1363.png&quot;,&quot;height&quot;:992,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:89529,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>According to responders (mostly PMs), PMs have more influence than other functions at over 80% of companies</p></li><li><p>Similarly, PMs have “a lot more” influence at ~50% of companies</p></li><li><p>Almost no companies have PMs with a lot <em>less</em> influence than other functions</p></li></ol></blockquote><p><em>Looking at this same data but excluding responses from product managers (e.g. only looking at responses from engineers, designers, CEOs, etc.), the story shifts a bit:</em></p><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c3c9c1b-6f38-462f-bc79-484c05d3c76d_2000x1408.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/4c3c9c1b-6f38-462f-bc79-484c05d3c76d_2000x1408.png&quot;,&quot;height&quot;:1025,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:93441,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>From this perspective, we find that PMs have more influence than other functions at only 70% of companies (vs. 80% above). Clearly, PMs believe they have more influence than their teammates think they do.</p></li><li><p>However, most of the variance comes from the number of responders who believe PMs run the show — ~13% when looking at all responses, but only ~6% when PM responses are excluded.</p></li><li><p>In both cases, roughly the same percentage of companies have PMs with slightly more, or a lot more, influence (~65%).</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=259998754"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4a2909a-426a-459c-8bc0-b9151cc9a25a_2002x1035.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e4a2909a-426a-459c-8bc0-b9151cc9a25a_2002x1035.png&quot;,&quot;height&quot;:753,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:176142,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=259998754&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p><strong>The spectrum varies widely</strong>: from Zynga where PMs run the show, to Apple where PMs have the least influence</p></li><li><p><strong>Noteworthy companies where PMs have a lot more influence</strong>: YouTube, LinkedIn, Twitter, Uber, Robinhood, Lyft, Coinbase, Asana, Airbnb</p></li><li><p><strong>Noteworthy companies where PMs have relatively less influence</strong>: Apple, Oracle, Stripe, Tesla</p></li></ol></blockquote><h2>Heart vs. Hands vs. Head</h2><p>It's often said that companies are defined by how they index on Heart (e.g. empathy, culture) vs. Hands (e.g. execution) vs. Head (e.g. intelligence). When describing PMs at your company, how would you stack rank the importance of Heart, Hands, and Head?</p><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1900512953"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5d347488-07b9-4504-95bb-43f2dcc8b720_2000x1103.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/5d347488-07b9-4504-95bb-43f2dcc8b720_2000x1103.png&quot;,&quot;height&quot;:803,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:144688,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1900512953&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who spike on <strong>Heart</strong>: Asana, Spotify, WhatsApp</p></li><li><p>Companies who spike on <strong>Hands</strong>: Flipkart, Okta, PayPal, Quora, Tesla, Wayfair, Yelp </p></li><li><p>Companies who spike on <strong>Head</strong>: Coinbase, Uber, YouTube, Zynga</p></li></ol></blockquote><h2>What’s next</h2><p>This is the first time I’ve conducted a survey like this. Depending on how it’s received, I hope to run it again sometime in the future. If you have any feedback on the results, the analysis, or the way it was run, I’d love to hear it. <a href="https://forms.gle/HKtkAXRhWSRqVNqf8">Please leave your feedback here</a>.</p><p>And lastly, if you see any other interesting takeaways when looking at this data, please leave a comment 👇</p><p data-attrs="{&quot;url&quot;:&quot;https://www.lennyrachitsky.com/p/product-management-survey/comments&quot;,&quot;text&quot;:&quot;Leave a comment&quot;,&quot;class&quot;:null}"><a href="https://www.lennyrachitsky.com/p/product-management-survey/comments"><span>Leave a comment</span></a></p><p>See you next week!</p><h2><strong>🔥&nbsp;Job opportunities</strong></h2><p><strong>✨ </strong>Sponsored job of the week: <strong><a href="https://boards.greenhouse.io/userleap/jobs/4279026003">Product Manager at UserLeap</a>&nbsp;✨</strong></p><ol><li><p><strong>Product</strong>:&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4124465003">Cerebral</a>,&nbsp;<a href="https://jobs.lever.co/descript-2/08f9b563-c3e6-49a4-be07-82fafc1868af">Descript</a>,&nbsp;<a href="https://angel.co/company/kudo-meeting/jobs/913705-product-manager">KUDO</a>,&nbsp;<a href="https://jobs.lever.co/hipcamp/d04821c3-fb9a-4d3f-9a7a-1b75deacc09f">Hipcamp</a>,&nbsp;<a href="https://apply.workable.com/prenda/j/63270A44BB/">Prenda</a></p></li><li><p><strong>Growth</strong>:&nbsp;<a href="https://www.basisone.com/careers/growth-strategy-lead">BasisOne</a>,&nbsp;<a href="https://boards.greenhouse.io/coda/jobs/4794809002">Coda</a>,&nbsp;<a href="http://levels.link/growth">Levels</a>,&nbsp;<a href="https://apply.workable.com/prenda/j/AC98C5FDFB/">Prenda</a></p></li><li><p><strong>Design</strong>:&nbsp;<a href="https://jobs.ashbyhq.com/ashby/145ff46b-1441-4773-bcd3-c8c90baa598a">Ashby</a>,&nbsp;<a href="https://www.cascade.io/jobs/analytical-product-designer">Cascade</a>,&nbsp;<a href="https://docs.google.com/document/d/1_aHEl08ahc6NjOhwmi9GQlNv8CvlOwf8hL-FyCrmAes/edit">Office Hours</a>,&nbsp;<a href="https://www.notion.so/A-Product-Designer-baa24543701f472bb291d4429812064a">Runway</a>,&nbsp;<a href="https://jobs.lever.co/stytch/675e6a11-5a33-41bc-9315-5a3ca141d444">Stytch</a>,&nbsp;<a href="https://www.notion.so/Designer-Watershed-7cb7bf8bd750432399d36e83e4e32391">Watershed</a></p></li><li><p><strong>Engineering manager</strong>:&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4076598003">Cerebral</a></p></li><li><p><strong>Frontend engineer</strong>:&nbsp;<a href="https://www.notion.so/levelshealth/Join-Levels-Remote-Developer-58454f0db7e3466692f7b75db6237ddf">Levels</a>,&nbsp;<a href="https://www.notion.so/Front-end-Developer-929e1933b9b4432a851043adbb7bff04">Practice</a>, <a href="https://www.linkedin.com/jobs/view/2323962506/">Tome</a></p></li><li><p><strong>Backend engineer</strong>:&nbsp;<a href="https://boards.greenhouse.io/coda/jobs/4489268002">Coda</a>,&nbsp;<a href="https://sourcetable.com/jobs#backend-engineer">Sourcetable</a>,&nbsp;<a href="https://transformdata.io/careers/">Transform</a></p></li><li><p><strong>Fullstack engineer</strong>: <a href="https://www.cascade.io/jobs/full-stack-product-engineer">Cascade</a>,&nbsp;<a href="https://www.notion.so/Software-Developer-e7cad269968e4d5aaeb1f6da9e282626">Centered</a>,&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4188468003">Cerebral</a>,&nbsp;<a href="https://icebreaker.video/product-engineer">Icebreaker</a>,&nbsp;<a href="https://www.notion.so/askiggy/Full-Stack-Engineer-IggyAPI-5a8c1825028e421b9587538718f370b4">Iggy</a>,&nbsp;<a href="https://www.notion.so/Senior-Software-Engineer-Full-stack-web-San-Francisco-CA-3a0af35008104def82836a5b9a5a88e1">Primer</a>,&nbsp;<a href="https://www.notion.so/A-Product-first-Full-stack-Engineer-5e056689b68048aeb1ccfea6ac73eb9e">Runway</a>,&nbsp;<a href="https://jobs.lever.co/snackpass/7c3bb72b-70d3-45ca-9dea-eea57ed5333d">Snackpass</a></p></li><li><p><strong>iOS engineer</strong>:&nbsp;<a href="https://www.notion.so/Lead-iOS-Developer-ba18577b6ba44ad68e45b8e7a957353c">Pairplay</a>,&nbsp;<a href="https://www.notion.so/Senior-Software-Engineer-iOS-San-Francisco-CA-87f0fd3ee3dc4c3f8d0419c07fcdd434">Primer</a>,&nbsp;<a href="https://jobs.lever.co/stytch/d3bf3860-4aaa-4a23-8e28-dad20957be44">Stytch</a>,&nbsp;<a href="https://www.notion.so/Mobile-Engineer-Vori-c5ceccd966a04c8aa9e970f0355ca13c">Vori</a></p></li></ol><h4><strong>How would you rate this week's newsletter? 🤔</strong></h4><p><a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4Hp2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Great</a>&nbsp;•&nbsp;<a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4vX2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Good</a>&nbsp;•&nbsp;<a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4kr2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Meh</a></p><p>If you’d like to receive this newsletter weekly, consider subscribing 👇</p><p>Sincerely,<br>Lenny 👋</p></div></div>]]>
            </description>
            <link>https://www.lennyrachitsky.com/p/product-management-survey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513614</guid>
            <pubDate>Wed, 23 Dec 2020 02:03:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[DeepKey: A novel anti-counterfeiting method powered by AI and PUF]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513312">thread link</a>) | @finphil
<br/>
December 22, 2020 | https://nuadox.com/post/638251976736604160/deepkey | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638251976736604160/deepkey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638251976736604160">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638251976736604160/deepkey"><h2>DeepKey: A novel anti-counterfeiting method</h2></a>
                                <figure data-orig-width="900" data-orig-height="506"><img src="https://64.media.tumblr.com/5f2612e2233aafa67b04f56dc2d00801/c63a4c8653de1bfd-32/s1280x1920/cb74cb74122513e7c7388eae3adcd8cfdbf996e9.jpg" alt="image" data-orig-width="900" data-orig-height="506" width="900" height="506"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnus.edu.sg%2F&amp;t=NDRmODBiOGUyYTQ4NmRlNWQ4ZjMzMGQ0YmI2ZWU0ZmMzYmY4MDM1OCxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608900429">National University of Singapore</a> -</b></p><p>Researchers from the National University of Singapore (NUS) have invented a new method of anti-counterfeiting called <i>DeepKey</i>. This security innovation uses two dimensional (2-D)-material tags and artificial intelligence (AI)-enabled authentication software.</p><figure></figure><p><i>Video:&nbsp;“Anti-counterfeiting tech by NUS researchers does reliable AI authentication under extreme conditions” by&nbsp;National University of Singapore, <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fyoutu.be%2Fz5zwmqfeQ_Y&amp;t=MDIwYzExNmViNjc3M2QzYWIzZGRhM2U2ZWYzYjczMmQyM2RkODg4NSxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608900429">YouTube</a>.</i></p><p>Compared to conventional anti-counterfeiting technologies, <i>DeepKey</i> works faster, achieves highly accurate results, and uses durable identification tags that are not easily damaged by environmental conditions such as extreme temperatures, chemical spills, UV exposure, and moisture. This new authentication technology can be applied to different high-value products, ranging from drugs, jewellery, and electronics. For example, <i>DeepKey</i> is suitable for tagging COVID-19 vaccines to enable rapid and reliable authentication, as some of such vaccines need to be stored at the ultra-cold temperature of -70°C.</p><p>Led by Asst Prof Chen Po-Yen and Asst Prof Wang Xiaonan from the Department of Chemical and Biomolecular Engineering at NUS Faculty of Engineering, the team’s 2D-material secure tags exhibit Physically Unclonable Function patterns (PUF patterns), which are randomly generated by systematically crumpling the 2D-material thin films. The complex 2D-material patterns with multi-scale features can then be classified and validated by a well-trained deep learning model, enabling reliable (100 per cent accurate) authentication in less than 3.5 minutes.</p><p>Current anti-counterfeiting technologies using PUF patterns normally face several bottlenecks, including complicated manufacturing, specialised and tedious readout process, long authentication time, insufficient environmental stability, as well as being costly to make.</p><p>“With this research, we have tackled several bottlenecks that other techniques encounter,” said Asst Prof Wang. “Our 2D-material PUF tags are environmentally stable, easy to read, simple and inexpensive to make. In particular, the adoption of deep learning accelerated the overall authentication significantly, pushing our invention one step further to practical application.”</p><p>The researchers published their results in scientific journal <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.sciencedirect.com%2Fscience%2Farticle%2Fpii%2FS2590238520305592&amp;t=YzNmZmQ4ZWE1YjYxOTFiODhjNjRlOTc5YTYzODIzNTg4NjJmNTc2Nyxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608900429"><i>Matter</i></a> on 2 December 2020. This study was conducted in collaboration with researchers from Anhui University of Technology and Nanyang Technological University.</p><h2><b>A stable, simple, and scalable process to create PUF tags</b></h2><p>Remarkably, the researchers do not need any special equipment to create the secure tags. They can simply be made with a balloon, a bottle of 2D-material dispersion, and a brush.</p><p>“First, we inflate the balloon and brush over its surface with viscous 2D-material ink. After air-drying overnight, we deflate the balloon. Because of the interfacial mechanical mismatch between the 2D-material and latex substrate, large-area, crumpled PUF patterns are generated during the contraction. These PUF patterns can be cut to the required size afterwards, and normally, hundreds of them can be made at one time,” said Dr Jing Lin, a member of the research team.</p><p>Next, the researchers take a quick image of the PUF tag with an electron microscope, which is then synced to their innovative software to go through the deep learning “classification and validation” process. “The whole process takes less than 3.5 minutes, most of which is spent waiting for the readout from the electron microscope. The authentication itself is very fast, in less than 20 seconds,” explained Dr Jing.</p><figure data-orig-width="2880" data-orig-height="1620"><img src="https://64.media.tumblr.com/32922ca933e0580cc4e864cde80d8ebc/c63a4c8653de1bfd-38/s1280x1920/10ec3b7e954e357ad6da471ea33a0a91997626cc.jpg" alt="image" data-orig-width="2880" data-orig-height="1620" width="1280" height="720"></figure><p><i>Image:&nbsp;A stable, simple, and scalable process to create PUF tags. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.nus.edu.sg%2Freliable-anti-counterfeit-checks-under-extreme-conditions%2F&amp;t=MWYzMzI0ODRjNTRkN2IwZmE5YjIyZDJjZDgyZTJkOTdlNGZlMWRlMCxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608900429">National University of Singapore</a> (click <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fcontent.presspage.com%2Fuploads%2F2580%2F1920_20201221anti-counterfeitingtag-final-01.jpg%3F10000&amp;t=OWQ1OWMzY2JkNTllMTNjMmQ1MDJmNzUyMzY3Nzk1MzliNzA2NmUxNCxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608900429">here</a> for full size).</i></p><h2><b>Fast authentication using AI deep learning algorithms</b></h2><p>All PUF key-based technologies have ultra-high encoding capacities because of the huge numbers of distinct patterns that can be theoretically produced. However, the high encoding capacity also leads to long authentication time, as the “search and compare” pattern validation has to be conducted within a huge database. This trade-off between high encoding capacity and long authentication time often restricts such PUF-based anti-counterfeiting tags from practical applications.</p><p>“With our new technology, we are breaking this long-lasting trade-off between high encoding capacity and long authentication time by using classifiable 2D-material PUF tags and deep learning algorithms,” said Asst Prof Wang.</p><p>First, the researchers used various 2D materials to fabricate PUF tags with AI recognisable features. Second, they trained a deep learning model to conduct a two-step authentication mechanism. “We used the deep learning model to pre-categorise the PUF patterns into subgroups, and so the search-and-compare algorithm is conducted in a much smaller database, which shortens the overall authentication time,” Asst Prof Wang explained.</p><p>Currently, the only available technologies similar to this NUS innovation, are polymer wrinkle-based tags. Wrinkled polymer tags are authenticated based on the surface patterns just like the novel 2D-material tags. However, their authentication presently requires one-by-one feature extraction and matching, which is slow and shows only 80 per cent reliability. The NUS team’s authentication is boosted by deep learning, and is therefore much faster, and reaches nearly 100 per cent validation precision.</p><p>In addition, compared to the wet chemistry preparation of polymer wrinkle-based tags, which involves the use of harmful organic chemicals and UV light, the NUS researchers’ fabrication technique is significantly faster and safer.</p><h2><b>Next steps</b></h2><p>The NUS team has filed a patent for their invention and is now planning to push this technology one step further. “We are searching for better, faster, and more robust readout and authentication approaches for our PUF tags,” said Asst Prof Wang.</p><p>The team has already begun to conduct research on other readout techniques to further shorten the processing time. “In addition, such naturally encoded information by the PUF tags could be further secured by being kept on blockchain, so that the whole supply chain and quality control can be transparently tracked,” Asst Prof Wang added.</p><p>–</p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.nus.edu.sg%2Freliable-anti-counterfeit-checks-under-extreme-conditions%2F&amp;t=MWYzMzI0ODRjNTRkN2IwZmE5YjIyZDJjZDgyZTJkOTdlNGZlMWRlMCxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608900429">National University of Singapore</a></b></p><p><b>Full study:</b>&nbsp;“

Multigenerational Crumpling of 2D Materials for Anticounterfeiting Patterns with Deep Learning Authentication

“, <i>Matter</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1016%2Fj.matt.2020.10.005&amp;t=MTBlMDk1YjNhNmU3YmI5OWI3NjkwMWY5YjMyY2Q1NjNkZGEyZWNhNSxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608900429">https://doi.org/10.1016/j.matt.2020.10.005</a></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/190989611467/mit-small-battery-free-id-chip">MIT conceives tiny, battery-free ID chip that can authenticate many products</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/counterfeiting">counterfeiting</a>
                                    
                                        <a href="https://nuadox.com/tagged/ai">ai</a>
                                    
                                        <a href="https://nuadox.com/tagged/artificial-intelligence">artificial intelligence</a>
                                    
                                        <a href="https://nuadox.com/tagged/materials">materials</a>
                                    
                                        <a href="https://nuadox.com/tagged/iot">iot</a>
                                    
                                        <a href="https://nuadox.com/tagged/puf-tag">puf tag</a>
                                    
                                        <a href="https://nuadox.com/tagged/internet-of-things">internet of things</a>
                                    
                                        <a href="https://nuadox.com/tagged/counterfeit">counterfeit</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638251976736604160/deepkey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513312</guid>
            <pubDate>Wed, 23 Dec 2020 01:04:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft's interesting Xbox 360 fingerprinting technique]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25512858">thread link</a>) | @wfme
<br/>
December 22, 2020 | https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting | <a href="https://web.archive.org/web/*/https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p><img src="https://raw.githubusercontent.com/qf0/qf0.github.io/master/files/ty508V7sUK.gif" alt="NEX Dashboard Fingerprint"></p>

<h2 id="introduction">Introduction</h2>

<p>Like many others, when I was younger. Owned a Xbox 360 console. The Xbox 360 is one of the most popular game consoles in the past decade. With 85.50 Million units sold. Like any other gaming scene, there tends to be some sort of underground cheating scene, and typically game development company would have a dedicated anti-cheat team etc.
The Xbox 360 was no expection. Like the orginal xbox. It was eventually pwned. Hackers  found ways to execute unsigned code. If youâ€™re interested in learning more in-depth how the Xbox 360 was pwned, or more about underground Xbox 360 stories. You can do so here <a href="https://www.wired.com/story/xbox-underground-videogame-hackers/">Wired Article</a> <a href="https://darknetdiaries.com/episode/45/">Darknet Daries Series</a>
This blog will focus on counter measures that Microsoft used to try and catch hackers.</p>

<h2 id="fingerprinting">Fingerprinting</h2>

<p>In 2008, when the NEX dashboard was relased. Microsoft deployed a fingerprinting technique to try and identify some hackers who posted videos of them hacking. Hackers often had game capture cards that would capture directly display of their xbox 360, record videos and publish them online. 
Typically would display booting up console, loading game, then loading in to a match. I overlooked this when I was younger, and recently just noticed it. The Xbox 360 logo on the Dashboard (Main Menu) prints the consoleâ€™s serial number in morse code with rings around the logo. Which is very clever on Microsoftâ€™s part.
Xbox 360 underground hackers would often cesor their gametag, and other identifiable information prior to publishing cheating, or hacking videos. Though most forgot to censor the logo area. 
Some Xbox 360 underground hackers back in the day, received cease and desist letters from Microsoft. Some got their development kit, or console bricked remotely. Most just got banned. I wonder if this fingerprint method was used to identify some of them.</p>

</div></div>]]>
            </description>
            <link>https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting</link>
            <guid isPermaLink="false">hacker-news-small-sites-25512858</guid>
            <pubDate>Tue, 22 Dec 2020 23:52:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pennsylvania Court Alters Police Rules for Warrantless Vehicle Searches]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511930">thread link</a>) | @tantalor
<br/>
December 22, 2020 | https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches | <a href="https://web.archive.org/web/*/https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div property="content:encoded"><p>Police must have probable cause as well as “exigent circumstances” in order to legally search a vehicle without a warrant, a divided Pennsylvania Supreme Court ruled Tuesday.</p> <p>The 4-3 decision said the state constitution's privacy protections are greater than the U.S. Constitution's and that those protections extend to vehicles. The court overruled its own 2014 decision that probable cause alone was sufficient, given that vehicles are inherently mobile.</p> <p>“Difficulties in clarifying the scope of the exigency requirement will lead to debates about what exactly the Pennsylvania Constitution demands in a given situation. But so what?”&nbsp;<a href="http://www.pacourts.us/assets/opinions/Supreme/out/J-51-2020mo%20-%20104639940122582972.pdf?cb=1">wrote&nbsp;</a>Justice Christine Donohue, referring to the state's constitutional language on searches.</p> <p>“The long history of&nbsp;<a href="https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&amp;ttl=00&amp;div=0&amp;chpt=1&amp;sctn=8&amp;subsctn=0">Article I, Section 8</a>&nbsp;and its heightened privacy protections do not permit us to carry forward a bright-line rule that gives short shrift to citizens’ privacy rights," Donohue wrote for the majority.</p> <p>Exigent circumstances might include a belief that people are in danger or that important evidence is about to disappear. Donohue said “the universe of qualifying ‘exigent circumstances’ is impossible to define with precision,” but they must go beyond that vehicles have wheels and can be driven away.</p> <p>In a&nbsp;<a href="https://supreme.justia.com/cases/federal/us/563/452/#tab-opinion-1963504">2011 search warrant case</a>&nbsp;that did not involve a vehicle, the U.S. Supreme Court listed as exigent circumstances the need to provide emergency aid, hot pursuit of a fleeing suspect or the prospect of the destruction of evidence.</p> <p>Donohue's opinion was joined by three of the other four Democrats on the court. Both Republican justices and Democratic Justice Kevin Dougherty dissented, arguing the 2014 precedent should stand.</p> <p>“When we become untethered from our previous decisions, we instantly implicate this court’s credibility and our ability to effectively adjudicate the many types of cases upon which litigants look to us for guidance,”&nbsp;<a href="http://www.pacourts.us/assets/opinions/Supreme/out/J-51-2020do2%20-%20104639940122585532.pdf?cb=1">wrote&nbsp;</a>Republican Justice Sallie Mundy.</p> <p>She said the previous standard of probable cause alone to justify a warrantless vehicle search “offered a bright-line rule already in effect" and “deferred to the needs of those we entrust with the difficult job of policing.”</p> <p>The court sent the Philadelphia case that prompted the decision back to county court to more fully examine whether exigent circumstances existed.</p> <p>In that case, the defendant had been convicted of possession of heroin with intent to deliver after a 2016 vehicle stop in which drugs were recovered from a locked metal box inside the vehicle he had been driving.</p> </div></div></div></div>]]>
            </description>
            <link>https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511930</guid>
            <pubDate>Tue, 22 Dec 2020 22:12:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quick Reference for all modern/useful HTML5 link and meta tags]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25511860">thread link</a>) | @smpnjn
<br/>
December 22, 2020 | https://fjolt.com/article/meta-tag-ref-html-quick-start | <a href="https://web.archive.org/web/*/https://fjolt.com/article/meta-tag-ref-html-quick-start">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="container">
        



<!--#sidebar-->
        <article id="content">
            
            <div id="content-text">
                <p><strong>For every HTML page you should have a few key elements to ensure fast loading, and good SEO</strong>. The template below gives you all of those features, which you can quickly customise for your needs. I've also listed all useful meta tags below if you want to pull them out individually.</p>

<pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;My Website&lt;/title&gt;
        &lt;link rel="icon" type="text/png" href="https://fjolt.com/favicon.png"&gt;
        &lt;!-- load if you are using google fonts --&gt;
        &lt;!--&lt;link rel="preconnect" href="https://fonts.gstatic.com"&gt;--&gt;
        &lt;meta name=â€�descriptionâ€� content="Description of my website"&gt;
        &lt;meta name="robots" content="index,follow"&gt;
        &lt;meta name="keywords" content="tags,for,your,site"&gt;
        &lt;link rel="canonical" href="URL for this page"&gt;

        &lt;meta property="og:title" content="My Website" /&gt;
        &lt;meta property="og:description" content="Description of my website" /&gt;
        &lt;meta property="og:image" content="Image URL representing my website" /&gt;
        &lt;meta property="og:url" content="URL for this page" /&gt;
        &lt;meta property="og:site_name" content="My Website" /&gt;
        
        &lt;meta name="twitter:card" content="summary_large_image"&gt;
        &lt;meta name="twitter:site" content="https://fjolt.com"&gt;
        &lt;meta name="twitter:title" content="{{title}}"&gt;
        &lt;meta name="twitter:description" content="{{description}}"&gt;
        &lt;meta name="twitter:image" content="{{image}}"&gt;

        &lt;!-- For mobile devices --&gt;
        &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt;
        
        &lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;
        &lt;!-- Use if you are using google analytics, replace [[ID HERE]] in script and code with your ID --&gt;
        &lt;!-- 
        &lt;script async src="https://www.googletagmanager.com/gtag/js?id=G-[[ID HERE]]"&gt;&lt;/script&gt;
        &lt;script&gt;
        var host = window.location.hostname;
            if(host !== "localhost") {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
    
                gtag('config', '[[ID HERE]]');
            }
        &lt;/script&gt;--&gt;
        &lt;!-- Preload your stylesheets --&gt;
        &lt;link rel="preload" href="/style.css" as="style" /&gt;
        &lt;!-- if you want to load some CSS async uncomment this --&gt;
        &lt;!--&lt;link rel="preload" href="/async.css" as="style" /&gt;--&gt;
    
        &lt;!-- Preload your fonts if necessary --&gt;
        &lt;link rel="preload" href="/fonts/fontName.ttf" as="font" crossorigin="anonymous" /&gt;
        &lt;link rel="preload" href="/fonts/fontName.ttf" as="font" crossorigin="anonymous" /&gt;
        
        &lt;!-- Load your stylesheets --&gt;
        &lt;link rel="stylesheet" href="/style.css" /&gt;
        &lt;!-- if you want to load some CSS async uncomment this --&gt;
        &lt;!--link rel="stylesheet" href="/async.css" media="print" onload="this.media='all'"&gt;--&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!-- Your Website Body --&gt;
        &lt;!-- Your Main JS Script --&gt;
        &lt;script defer src="local.js"&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>

<h2>Meta Tags</h2>
<h3>SEO</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>robots<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>index,follow<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>keywords<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>tags,for,your,site<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Linking</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>shortlink<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Short form link for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>canonical<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prev<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for the prev page in this series<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>next<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for the next page in this series<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>dns-prefetch<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a DNS server far to lookup early on<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prefetch<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a document or file to prefetch and cache<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prerender<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>The document should be optimised for rendering on the page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>preload<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a document or file to prefetch and cache which will be used in the page<span>"</span></span> <span>as</span><span><span>=</span><span>"</span>script<span>"</span></span><span>&gt;</span></span> 
</code></pre>
<h3>General Social Media Page</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>My Website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Image URL representing my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:url<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>URL for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:site_name<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>My Website<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Twitter</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:card<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>summary_large_image<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:site<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Website URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Title for page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Image of page<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Apple Meta Tags</h3>
<pre><p>html <span>Copy</span></p><code>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>apple-mobile-web-app-capable<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>yes<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>apple-mobile-web-app-status-bar-style<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>black<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>format-detection<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>telephone=yes<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>viewport<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>initial-scale=1, maximum-scale=1<span>"</span></span> <span>user-scalable</span><span><span>=</span><span>"</span>no<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Social Media Video</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:secure_url<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Secure Video URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:types<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Format<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:width<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Width i.e. 100px<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:height<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Height i.e. 200px<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Placeholder image for video<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Social Media 3d Asset</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:type<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>threed.asset<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:asset<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>/link/to/asset.glb<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Title of asset<span>"</span></span><span>&gt;</span></span>
</code></pre>
                
            </div>
            
        </article>
    </section></div>]]>
            </description>
            <link>https://fjolt.com/article/meta-tag-ref-html-quick-start</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511860</guid>
            <pubDate>Tue, 22 Dec 2020 22:06:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I quit my high-paying job as a software director]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25511668">thread link</a>) | @mojoe
<br/>
December 22, 2020 | https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/ | <a href="https://web.archive.org/web/*/https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 300w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 600w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 1000w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="I quit my high-paying job as a software director">
            </figure>

            <section>
                <div>
                    <p>At the end of October I quit my job as a director of software engineering. Many (most?) people view this as insane given the amount of money I was making. I'm not going to give a precise figure here, but if you're really curious you can check out software director salaries on <a href="https://www.levels.fyi/">levels.fyi</a>. I was making enough that in another 5-10 years I could very comfortably retire with a reasonably high standard of living.</p><h3 id="working-on-my-own-terms">Working on my own terms</h3><p>So why did I leave this behind? The concept is simple – I want to see how it feels to work on my own terms. I know how that sounds. If you've hung out for any period of time in tech-oriented communities like Hacker News it's likely that you've seen at least a few posts about people losing motivation at their high-paying tech jobs and wanting to strike out on their own. I always felt a little cognitive dissonance over those posts. On the one hand I completely identified with the desire to firmly seize control of my time and spend it on things that I wanted to do, but I also had this voice in the back of my head that said, "What a ridiculous first-world problem. Sure, other people set their priorities, but they have a pretty high degree of freedom compared to other roles and industries, so they should be thankful for what they've got. Why risk it?"</p><p>Everyone's situation is unique, but I think in my case the downside is limited. At the risk of sounding overconfident, I am very good at my job, and if things go south I believe I can join a large software organization again. The upside is that I can work on lots of different projects, spend more time with my family, and build things that I want to build.</p><h3 id="kids">Kids</h3><p>A huge reason for leaving was that my second child was recently born, and my company had no official paternity leave (if a company is small enough they're not bound by FMLA). With the pandemic raging and my toddler cooped up in the house, I wanted to spend more time with my toddler so my wife could focus on our new son.</p><p>This has been going fantastically so far. We're spending time outside, getting exercise, playing games, and making progress on simple academics. If my wife had to take care of a two year old and a newborn by herself with no support during the workday it would have been a nightmare.</p><p>It can be occasionally tedious (two year olds aren't the most sophisticated conversationalists), and we are all looking forward to the day where my daughter can engage more fully with other kids, go back to the rec center and library, travel with us, etc, but for now our schedule works. I'm very much enjoying our time together.</p><h3 id="financial-stability">Financial stability</h3><p>I don't have the funds to retire – this post would read very differently if I did. I have enough savings to feel secure, but it will be necessary for me to take on contract projects to support my family.</p><p>I may write another post on the financial details of working freelance down the road, but if you're interested in the types of expenses I took into account when quitting Daniel Vassallo has a fantastic post on it: <a href="https://danielvassallo.com/from-employee-to-bootstrapper/">https://danielvassallo.com/from-employee-to-bootstrapper/</a></p><p>I'm currently paying for COBRA health insurance through my old employer, and in general it was important to me that all my insurance coverages continue uninterrupted. I think that the most important points that Daniel emphasizes are ways to avoid financial ruin when you no longer have many of the safety nets that come with large tech employers.</p><h3 id="what-s-next">What's next?</h3><p>I've already started contracting! I have a fairly broad network of friends that I've developed over the last decade in tech, and for now I'm happy sharing my expertise with them and helping to build new products.</p><h3 id="this-blog">This blog</h3><p>I've always enjoyed writing about things I'm interested in and helping others level up their skills. This blog, cloudconsultant.dev, will be focused on news about the major cloud providers (AWS, Azure, and GCP), along with comparisons between the platforms and tips and tricks I've learned while building enterprise software in the cloud. I'm hoping you'll find it easy to read and educational. My secondary objective is to build a conduit to meet potential clients who need help with their cloud projects.</p><p>Please feel free to reach out if you have cloud questions! I'll be looking for interesting cloud topics to post about every week. I plan on making conversational-style posts that will help you keep up to date in a less painful way than just reading Amazon/Microsoft/Google press releases.</p><p>My next post will be a recap of the major cloud feature releases of 2020 – if that sounds interesting, sign up for my mailing list below!</p><p>Until next time,</p><p>Joe</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to The Cloud Consultant</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511668</guid>
            <pubDate>Tue, 22 Dec 2020 21:47:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advanced TypeScript Type Tricks]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25510594">thread link</a>) | @dested
<br/>
December 22, 2020 | https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/ | <a href="https://web.archive.org/web/*/https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
        <div>

            
            <div>

                
                <h3 id="a-journey">A journey</h3>
<p>After spending some time in TypeScript you may begin to crave type safety everywhere in your life. JavaScript is an inherently unsafe language and there are dragons to be found everywhere and in almost every framework. Most frameworks are sufficiently covered, but what if you design a beautiful API internally that needs to be incredibly feature rich, and incredibly safe, but still allow for the best JavaScript idioms. Well at that point you may have to dive into writing some pretty gnarly types.</p>
<p>In general there are a number of TypeScript TYPE libraries out there, <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>, <a href="https://github.com/piotrwitek/utility-types">utility-types</a>, <a href="https://www.npmjs.com/package/type-fest">type-fest</a> to name a few. These libraries are great, and contain a plethora of information, but they are generally sparse in describing HOW they created their utility types.</p>
<blockquote>
<p>There are a lot of great type libraries, but no great documentation on how they’re built</p>
</blockquote>
<p>The goal of this post is to not only expose some great utility types, but also some tips and tricks that I realized along the way. Unfortunately this post requires a relatively strong understanding of TypeScript types and tricks. <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">Advanced Types</a> is a great place to start before diving in!</p>
<h3 id="esoteric-solutions">Esoteric solutions</h3>
<p>A lot of these solutions (and problems) may feel esoteric, and that’s because frankly they are. They are not for the faint of heart, they do not need to be known for daily TypeScript use. They are the nitty-gritty realities of writing type libraries for incredibly complex or il-defined JavaScript problems.</p>
<p>Most of these types come from a few TypeScript libraries im working on, namely <a href="https://www.npmjs.com/package/safe-schema">safe-schema</a>, and <a href="https://www.npmjs.com/package/mongo-safe">mongo-safe</a>, both of which I intend to do lengthy blog posts on in the future.</p>
<p>I have tried to organize these with an example of the usage, and the reason why the problem or solution is novel or interesting. They are in no particular order.</p>
<p>
  <img src="https://casualdeveloper.net/img/youshouldnt.gif" alt="I didnt say they couldnt I said you shouldnt">

</p>
<hr>
<h2 id="setting-a-variable-extends-infer">Setting A Variable (<code>extends infer</code>)</h2>
<h3 id="example">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> {item: <span>Fancy</span>&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>} <span>|</span> 
                Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>, Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>] <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>];
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>extends</span> <span>infer</span> TItem <span>?</span> 
                {item: <span>TItem</span>} <span>|</span> TItem <span>|</span> [TItem, TItem] <span>|</span> [TItem]<span>:</span>
                Impossible;

<span>type</span> Impossible <span>=</span> <span>never</span>;
</code></pre></div>
<h3 id="reason">Reason</h3>
<p>Occasionally you will need to use the same type over and over in your type definition. Every time TypeScript encounters your type it will have to evaluate it again. Using the infer trick you can store a variable in your type that you can use throughout the rest of it.</p>
<p>You will see this <code>extends infer</code> trick pop up in a few places. <code>infer</code> has some interesting properties that make it useful when defining complex types.</p>
<p>Note the use of <code>Impossible</code> here. We can never reach the Impossible branch, so typically we would specify never here, but I have found just putting never there will be confusing in the future when looking at these types again thinking that never branch could possibly be hit. The use of explicit type alias’s that resolve to basic types is a great way to be explicit in your definitions.</p>
<p><em>Note:</em> This will not work if the result of your type is <code>never</code>. If T or <code>Fancy&lt;Shmancy&lt;Deeply&lt;Nested&lt;T&gt;&gt;&gt;&gt;</code> is never, the whole expression will result in <code>never</code>.</p>
<hr>
<h2 id="type-is-never">Type is <code>never</code></h2>
<h3 id="example-1">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>never</span> <span>?</span> 1 : <span>0</span>;

<span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// never
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>never</span>] <span>?</span> 1 : <span>0</span>;
<span>//              ^ ^         ^     ^
</span><span></span><span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// 1
</span></code></pre></div>
<h3 id="reason-1">Reason</h3>
<p>It is not easy to test for <code>never</code>. Once one of the types in your expression is <code>never</code> it will <strong>poison</strong> the rest of the expression to evaluate to <code>never</code>. Typically, this is a useful feature, but when you actually need to check for <code>never</code> you can wrap your expression in a tuple. This will trick the TypeScript compiler to compare apples to apples instead of expanding the <code>never</code>.</p>
<p>It works by comparing the tuple <code>T</code> to the tuple <code>never</code>. We use this tuple trick in a number of places. I am not certain as to why it works, other than the fact that tuples make TypeScript slightly less greedy in its evaluation.</p>
<hr>
<p>
  <img src="https://casualdeveloper.net/img/never.gif" alt="What never? No never.">

</p>
<h2 id="compare-multiple-types-at-once">Compare Multiple Types At Once</h2>
<h3 id="example-2">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> T1 <span>extends</span> {} <span>?</span> 
                              (T2 <span>extends</span> <span>number</span> <span>?</span> 
                                  (T3 <span>extends</span> <span>string</span> <span>?</span> 
                                      1 : 
                                      <span>0</span>)<span>:</span> 
                                  <span>0</span>)<span>:</span> 
                              <span>0</span>;
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> 
                        [
                            T1 <span>extends</span> {} <span>?</span> 1 : <span>0</span>, 
                            T2 <span>extends</span> <span>number</span> <span>?</span> 1 : <span>0</span>, 
                            T3 <span>extends</span> Something <span>?</span> 1 : <span>0</span>
                        ] <span>extends</span> 
                        [<span>1</span>, <span>1</span>, <span>1</span>] <span>?</span> 
                        1:
                        <span>0</span>;
</code></pre></div>
<h3 id="reason-2">Reason</h3>
<p>You will often need to deeply check a few things, and only execute some logic if all are a certain value. This can result in an annoying deeply nested structure.</p>
<p>One clean solution to this is to check all of them upfront in a tuple and compare that to the expected results of each. Now your tree is only one level deep and your intent is much clearer!</p>
<hr>
<h2 id="dont-distribute-my-union">Don’t Distribute My Union</h2>
<h3 id="example-3">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>string</span> <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;

<span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// NO ERROR
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>string</span>] <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;
<span>//                       ^ ^         ^      ^
</span><span></span><span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// ERROR Missing 'b'
</span></code></pre></div>
<h3 id="reason-3">Reason</h3>
<p>Sometimes you will pass a union so deeply that when it reaches its final destination the union has been distributed. This <em>can</em> result in unintended behavior as described above. Since the union has been distributed, <code>value</code> in the first example will result in the type</p>
<pre><code>{thing:
    {[key in 'a']:boolean} | 
    {[key in 'b']:boolean} | 
    {[key in 'c']:boolean}
}
</code></pre><p>when your goal was simply <code>{thing: {[key in ('a'|'b'|'c')]:boolean} }</code>.</p>
<p>The solution to this is to wrap <code>T</code> in a tuple to force TypeScript to not distribute your union in subsequent expressions.</p>
<hr>
<h2 id="exclude-never">Exclude <code>never</code></h2>
<h3 id="example-4">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Bad <span>=</span> {shoes:<span>never</span>; other: <span>boolean</span>}
<span>const</span> value: <span>Bad</span> <span>=</span> {shoes:<span>1</span>, other:<span>true</span>};  <span>// throws an error on shoes but intellisense and type is misleading
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span>
<span>export</span> <span>type</span> ExcludeNever&lt;<span>T</span>&gt; <span>=</span> {
    [key <span>in</span> <span>keyof</span> T <span>as</span> T[key] <span>extends</span> <span>never</span> <span>?</span> <span>never</span> <span>:</span> key]<span>:</span> T[key];
};


<span>const</span> value: <span>ExcludeNever</span>&lt;<span>Bad</span>&gt; <span>=</span> {shoes: <span>1</span>, other: <span>true</span>} <span>// throws a full error and no intellisense
</span></code></pre></div>
<h3 id="reason-4">Reason</h3>
<p>Occasionally you will process some type in a <code>Record</code> and set a value to never. This is perfectly valid and will throw errors when the user attempts to put a value there.</p>
<p>The problem is, intellisense does not exclude this key from your result list. Sure the type is <code>never</code>, but since the key still exists it will allow you to put a value there.</p>
<p>The solution is to use the new TypeScript <code>as</code> syntax to set the key to <code>never</code> when appropriate, that way it will not be available to the user.</p>
<p>Note: the end result is the same, you cannot put a value for shoes, but the DX is significantly improved in the second case.</p>
<hr>
<h2 id="potential-solution-to-type-instantiation-is-excessively-deep-and-possibly-infinite">Potential Solution To <code>type instantiation is excessively deep and possibly infinite</code></h2>
<h3 id="example-5">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> <span>/*...*/</span> GoDeep&lt;<span>T</span>&gt;; 
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>infer</span> R <span>?</span> <span>/*...*/</span> GoDeep&lt;<span>R</span>&gt; <span>:</span> Impossible;
</code></pre></div>
<h3 id="reason-5">Reason</h3>
<p>Now this one is a bit hard to explain, but easily one of the most powerful tricks in this post. It has saved my bacon too many times to count.</p>
<p>The example above is intentionally sparse since it’s hard to find real world examples. <em>When you need it, you’ll know</em>.</p>
<p>Along your journey to making a complex library completely typesafe you will inevitably create a type that is <em>potentially</em> infinitely deeply nested.</p>
<p>A little background: TypeScript has a rule that it will generally not dive deeper than about 50 levels of type checking before it throws up its hands and resolves the dreaded “type instantiation is excessively deep and possibly infinite”. This means your type is too complex and it would take too long to evaluate, so it wont.</p>
<p>I will say that 90% of the time this is due to an issue in your code that is solvable without use of trickery. Typically, you screwed up somewhere. However, on the rare occasion where you did everything right, your type is properly optimized, but your library requirements actually do push the envelope, you can use the above trick.</p>
<p>How it works is still a bit of a mystery to me. This is a trick I learned from the incredible library <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>. The best I can tell is it <strong>defers</strong> the evaluation of the type T until it is actually requested. What this means is just because your type <strong>can</strong> be nested infinitely, this outcome will be tested <strong>based on usage</strong> rather than a blanket statement.</p>
<p>That means if you pass a T that does exhaust the 50 cap then TypeScript will be sure to let you know, but until then all of the T’s that play nice will continue to work.</p>
<p>I dont know if the explanation above is correct and would love to be corrected! In my experience and research this is how it works.</p>
<p>
  <img src="https://casualdeveloper.net/img/deep.gif" alt="Deep">

</p>
<hr>
<h2 id="potential-solution-to-excessive-union">Potential Solution To <code>excessive union</code></h2>
<h3 id="example-6">Example</h3>
<div><pre><code data-lang="typescript"><span>type</span> Depths <span>=</span> <span>1</span> <span>|</span> <span>2</span> <span>|</span> <span>3</span> <span>|</span> <span>4</span> <span>|</span> <span>5</span>;

<span>type</span> NextDepth&lt;<span>TDepth</span> <span>extends</span> <span>Depths</span>&gt; <span>=</span> TDepth <span>extends</span> <span>1</span>
  <span>?</span> 2
  : <span>TDepth</span> <span>extends</span> <span>2</span>
  <span>?</span> 3
  : <span>TDepth</span> <span>extends</span> <span>3</span>
  <span>?</span> 4
  : <span>TDepth</span> <span>extends</span> <span>4</span>
  <span>?</span> 5
  : <span>never</span>;

<span>export</span> <span>type</span> SafeTypes <span>=</span> <span>number</span> <span>|</span> <span>string</span> <span>|</span> <span>boolean</span> <span>|</span> <span>Date</span>

<span>export</span> <span>type</span> DeepKeys&lt;<span>T</span> <span>extends</span> {}, <span>TDepth</span> <span>extends</span> <span>Depths </span><span>=</span> <span>1</span>&gt; <span>=</span> TDepth <span>extends</span> <span>5</span>
  <span>?</span> <span>//                                                           ^^ here is the check …</span></code></pre></div></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</a></em></p>]]>
            </description>
            <link>https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25510594</guid>
            <pubDate>Tue, 22 Dec 2020 20:08:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mark Rober (former NASA) launches a 30 day Creative Engineering Class]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 86 (<a href="https://news.ycombinator.com/item?id=25509619">thread link</a>) | @O_H_E
<br/>
December 22, 2020 | https://monthly.com/mark-rober-engineering | <a href="https://web.archive.org/web/*/https://monthly.com/mark-rober-engineering">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://monthly.com/mark-rober-engineering</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509619</guid>
            <pubDate>Tue, 22 Dec 2020 18:41:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Small Difference in Developer Productivity Can Amplify over Time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509084">thread link</a>) | @adamhearn
<br/>
December 22, 2020 | https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-331">

	

	
	<div>
		
<p>Small differences in the productivity of software developers on a team can easily magnify themselves over time.</p>



<p>On many software teams, one engineer seems significantly faster than the others. Now, in some cases, it’s because that engineer is cutting corners left and right. They get stuff done, but they cause damage. They’re a <a href="https://www.linkedin.com/pulse/tactical-tornado-jacob-dreyer/">tactical tornado</a>.</p>



<p>Let’s assume your fastest engineer isn’t that type. They put out good code. It’s possible that they’re not actually as fast as you think. It turns out that even a marginal advantage for one engineer can translate into significant speed differences.</p>



<p>Let’s imagine a simple team of two engineers, Amy and Bob. All things equal, Amy would be 10% as fast as Bob. And by all things equal, I mean they’d produce the same quality of code, Amy would just produce 10% more. This slight speed advantage could be because she’s naturally faster, or because she joined the team earlier and hence has more context on the code.</p>



<p>That 10% difference can actually translate to a pretty large difference in output. Initially, Amy produces 10% more code. Now Bob has to increase the time he spends doing code reviews of Amy’s code, and just generally keeping up with Amy’s changes so he has context and can make the changes he needs to make. Which means he has less time to write code, which frees up Amy to be even more effective, which increases her output yet again.</p>



<p>Over time, this is amplified. Amy is spending most of her time writing code. Bob is spending most of his reviewing and keeping up. Amy’s slight advantage turns into a much larger one. Other colleagues start to view her as the go-to person, and wonder why Bob is falling behind.</p>



<p>A good engineering manager or senior engineer can detect when that’s happening and try to correct the balance. But often the team kind of settles into a mode where Amy is assumed to be better and more productive and everything is funneled to her.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509084</guid>
            <pubDate>Tue, 22 Dec 2020 17:54:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Great Covid Class War]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508370">thread link</a>) | @AndrewBissell
<br/>
December 22, 2020 | https://www.thebellows.org/the-great-covid-class-war/ | <a href="https://web.archive.org/web/*/https://www.thebellows.org/the-great-covid-class-war/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<amp-auto-ads type="adsense" data-ad-client="ca-pub-8554251701278654" i-amphtml-layout="container"></amp-auto-ads> 
<p>On January 19, 2020, Washington state reported the first US case of coronavirus. By the end of March, <a href="https://www.bbc.com/news/world-us-canada-52103066" target="_blank" rel="noreferrer noopener">245 million Americans</a> were under stay-at-home restrictions to “<a href="https://www.washingtonpost.com/graphics/2020/world/corona-simulator/" target="_blank" rel="noreferrer noopener">flatten the curve</a>.” Mainstream news terrorized the public with <a href="https://www.nytimes.com/2020/03/13/science/coronavirus-math-mitigation-distancing.html" target="_blank" rel="noreferrer noopener">exponential</a> graphs, threats of a medical supply <a href="https://www.medtechdive.com/news/hhs-officials-warn-of-medical-supply-shortages-amid-coronavirus-outbreak/573011/" target="_blank" rel="noreferrer noopener">shortage</a>, and displays of <a href="https://www.youtube.com/watch?v=TnLCYqk20YU" target="_blank" rel="noreferrer noopener">hygiene theater</a>. Appeals to science were weaponized to enforce conformity, and the media portrayed anti-lockdown protesters as <a href="https://www.thenation.com/article/politics/lockdown-protest-media/" target="_blank" rel="noreferrer noopener">backwards</a>, <a href="https://www.nytimes.com/2020/04/21/us/politics/coronavirus-protests-trump.html" target="_blank" rel="noreferrer noopener">astroturfed</a> <a href="https://www.wired.com/story/anti-lockdown-protests-online/" target="_blank" rel="noreferrer noopener">white nationalists</a> bent on endangering the public.&nbsp;</p>



<p>Today millions of Americans have <a href="https://www.nytimes.com/2020/10/15/us/politics/federal-aid-poverty-levels.html" target="_blank" rel="noreferrer noopener">fallen into poverty</a> or are on the verge of destitution. Stimulus money has largely been used as a <a href="https://www.propublica.org/article/how-the-coronavirus-bailout-repeats-2008s-mistakes-huge-corporate-payoffs-with-little-accountability" target="_blank" rel="noreferrer noopener">handout to corporations</a>, and over <a href="https://www.forbes.com/sites/christiankreznar/2020/09/16/small-businesses-are-closing-at-a-rapid-pace-with-restaurants-and-retailers-on-the-west-coast-among-the-hardest-hit/?sh=4542ee185033" target="_blank" rel="noreferrer noopener">160,000 small businesses</a> have closed. In March and April <a href="https://www.cnn.com/2020/04/30/economy/unemployment-benefits-coronavirus/index.html" target="_blank" rel="noreferrer noopener">30 million Americans</a> filed for unemployment. Now temporary job losses are <a href="https://www.cnbc.com/2020/10/13/covid-related-unemployment-is-now-permanent-for-almost-4-million.html" target="_blank" rel="noreferrer noopener">becoming permanent</a>. 12 million unemployed people may see their <a href="https://www.politico.com/news/2020/12/11/coronavirus-relief-unemployment-444645" target="_blank" rel="noreferrer noopener">benefits lapse</a> even if Congress passes a new aid deal. Homelessness is <a href="https://www.cbsnews.com/news/covid-19-homelessness-new-york-city/" target="_blank" rel="noreferrer noopener">spiking</a>, 11.4 million households owe <a href="https://www.bloomberg.com/news/articles/2020-12-10/u-s-households-may-be-70-billion-behind-on-rent" target="_blank" rel="noreferrer noopener">$70 billion</a> in back rent and fees, and <a href="https://www.cnn.com/2020/08/07/economy/eviction-stimulus/index.html" target="_blank" rel="noreferrer noopener">40 million</a> people are at risk of eviction. In some states, food bank lines stretch for <a href="https://thehill.com/policy/finance/527462-long-lines-form-at-food-banks-across-country-ahead-of-thanksgiving" target="_blank" rel="noreferrer noopener">miles</a>, and <a href="https://www.feedingamerica.org/sites/default/files/2020-05/Brief_Local%20Impact_5.19.2020.pdf" target="_blank" rel="noreferrer noopener">1 in 4 children</a> are expected to experience food insecurity.&nbsp;</p>



<p>Meanwhile, Walmart and Target <a href="https://www.nytimes.com/2020/08/19/business/coronavirus-walmart-target-home-depot.html" target="_blank" rel="noreferrer noopener">reported record sales</a>. Amazon <a href="https://www.theguardian.com/technology/2020/oct/29/amazon-profits-latest-earnings-report-third-quarter-pandemic" target="_blank" rel="noreferrer noopener">tripled</a> its profits and Jeff Bezos made <a href="https://www.msn.com/en-us/money/companies/jeff-bezos-has-gotten-70-billion-richer-in-the-past-12-months-here-are-11-mind-blowing-facts-that-show-just-how-wealthy-the-amazon-ceo-really-is/ss-BB194gAv?ocid=msedgntp" target="_blank" rel="noreferrer noopener">$70 billion</a>. Billionaires have collectively made over <a href="https://www.forbes.com/sites/niallmccarthy/2020/11/27/us-billionaires-added-1-trillion-to-their-collective-wealth-since-the-start-of-the-pandemic-infographic/?sh=3d09d39366ce" target="_blank" rel="noreferrer noopener">$1 trillion</a> since March. Alphabet, Amazon, Apple, Facebook, and Microsoft now make up <a href="https://www.nytimes.com/2020/08/19/technology/big-tech-business-domination.html" target="_blank" rel="noreferrer noopener">20% of the stock market</a>’s total worth. The tech industry has achieved an unparalleled level of wealth and dominance. Data, which has been <a href="https://www.economist.com/leaders/2017/05/06/the-worlds-most-valuable-resource-is-no-longer-oil-but-data" target="_blank" rel="noreferrer noopener">more valuable than oil</a> since 2017, is expected to expand its <a href="https://www.wsj.com/articles/why-the-u-s-economy-will-take-off-in-2021-11607612401" target="_blank" rel="noreferrer noopener">economic footprint</a>.</p>



<div id="block_5fda90a336c0f">
    <p>
		“This is not an unforced error or a good policy idea implemented poorly. It is an economic agenda disguised as a health protocol.”    </p>
</div>


<p>Unemployment, hunger, institutional breakdown, and the destruction of social bonds are not symptoms of a virus. They are the indirect violence of class warfare. The pandemic is a convenient scapegoat for the largest upward wealth transfer in modern human history. Under the pretext of a public health policy, elites have successfully waged a counterrevolution that will result in the erosion of working conditions and quality of life for generations to come.&nbsp;</p>



<h5><strong>A Self-Fulfilling Prophecy</strong></h5>



<p>Death, disease, and pandemics have always been part of human life and they always will be. <a href="https://www.cdc.gov/nchs/fastats/deaths.htm" target="_blank" rel="noreferrer noopener">2.8 million</a> Americans die every year and <a href="https://ourworldindata.org/causes-of-death" target="_blank" rel="noreferrer noopener">56 million</a> people die worldwide. Each year <a href="https://www.who.int/data/gho/data/themes/tuberculosis" target="_blank" rel="noreferrer noopener">1.3 million</a> people die of tuberculosis, <a href="https://www.unicef.org/press-releases/ten-things-you-didnt-know-about-malaria#:~:text=Almost%20half%20the%20world's%20population,global%20malaria%20control%20is%20slipping." target="_blank" rel="noreferrer noopener">445,000</a> die of malaria, and <a href="https://www.health.com/condition/cold-flu-sinus/how-many-people-die-of-the-flu-every-year" target="_blank" rel="noreferrer noopener">290,000-650,000</a> die of influenza. In 1968 <a href="https://www.britannica.com/event/1968-flu-pandemic" target="_blank" rel="noreferrer noopener">1-4 million</a> people died in the H2N3 influenza pandemic, during which businesses and schools <a href="https://nypost.com/2020/05/16/why-life-went-on-as-normal-during-the-killer-pandemic-of-1969/" target="_blank" rel="noreferrer noopener">stayed open</a> and large events were held.&nbsp;</p>



<p>Indefinite closures have never before been used as a disease control method on a global scale. These experimental restrictions were shaped by the <a href="https://www.theguardian.com/science/2020/mar/25/coronavirus-exposes-the-problems-and-pitfalls-of-modelling" target="_blank" rel="noreferrer noopener">discredited</a> <a href="https://www.imperial.ac.uk/news/196234/covid-19-imperial-researchers-model-likely-impact/" target="_blank" rel="noreferrer noopener">Imperial College Model</a> which <a href="https://www.nytimes.com/2020/03/17/world/europe/coronavirus-imperial-college-johnson.html" target="_blank" rel="noreferrer noopener">predicted</a> 2.2 million US deaths. Many <a href="https://www.wsj.com/articles/is-the-coronavirus-as-deadly-as-they-say-11585088464" target="_blank" rel="noreferrer noopener">epidemiologists</a> and <a href="https://www.nytimes.com/2020/03/20/opinion/coronavirus-pandemic-social-distancing.html" target="_blank" rel="noreferrer noopener">doctors</a> questioned these doomsday projections and pointed out that there was <a href="https://www.statnews.com/2020/03/17/a-fiasco-in-the-making-as-the-coronavirus-pandemic-takes-hold-we-are-making-decisions-without-reliable-data/" target="_blank" rel="noreferrer noopener">not sufficient data</a> to justify lockdowns. The virus has a <a href="https://www.cdc.gov/coronavirus/2019-ncov/hcp/planning-scenarios.html" target="_blank" rel="noreferrer noopener">low</a> mortality rate, especially for people <a href="https://www.sciencedirect.com/science/article/pii/S0013935120307854" target="_blank" rel="noreferrer noopener">under 65</a>, and <a href="https://www.kark.com/news/new-cdc-report-shows-94-of-covid-19-deaths-in-us-had-underlying-medical-conditions/" target="_blank" rel="noreferrer noopener">94%</a> of US covid deaths have occurred with comorbidities. Most <a href="https://www.wsj.com/articles/the-failed-experiment-of-covid-lockdowns-11599000890" target="_blank" rel="noreferrer noopener">statistical analysis</a> does <a href="https://www.frontiersin.org/articles/10.3389/fpubh.2020.604339/full#SM6" target="_blank" rel="noreferrer noopener">not show</a> lockdown measures to be an effective strategy for <a href="https://www.thelancet.com/journals/eclinm/article/PIIS2589-5370(20)30208-X/fulltext" target="_blank" rel="noreferrer noopener">reducing mortality</a>.</p>



<p>In March unprecedented policies were rationalized through shocking <a href="https://www.theguardian.com/world/2020/mar/13/italian-doctor-an-experience-i-would-compare-to-a-world-war" target="_blank" rel="noreferrer noopener">stories</a> and <a href="https://www.youtube.com/watch?v=_J60fQr0GWo" target="_blank" rel="noreferrer noopener">videos</a> from northern Italy. The region’s crowded ICUs were presented as a warning for the rest of Europe and the US. Unknown to many was the fact that Lombardy had been severely impacted by <a href="https://www.nytimes.com/2020/11/19/business/lombardy-italy-coronavirus-doctors.html" target="_blank" rel="noreferrer noopener">ongoing privatization efforts</a> and a <a href="https://www.statista.com/statistics/557042/hospitals-in-italy/" target="_blank" rel="noreferrer noopener">shrinking hospital system</a> regularly overwhelmed by <a href="https://www.sciencedirect.com/science/article/pii/S1201971219303285" target="_blank" rel="noreferrer noopener">influenza</a>. This omission by mainstream media played a key role in developing the mythology that economic shutdown could magically eradicate a virus. In reality lockdowns have accelerated a cycle of austerity and created a self-fulfilling prophecy of perpetual crisis.&nbsp;</p>



<p>Chronic <a href="https://www.cbsnews.com/news/nursing-home-deaths-coronavirus-understaffing/" target="_blank" rel="noreferrer noopener">understaffing</a> and <a href="https://www.nytimes.com/2020/10/29/nyregion/nursing-home-workers-pandemic-jobs.html" target="_blank" rel="noreferrer noopener">lockdown-induced layoffs</a> in nursing homes severely exacerbated covid’s death toll. 40% of US covid deaths are <a href="https://www.forbes.com/sites/jemimamcevoy/2020/06/16/nursing-homes-account-for-over-40-of-us-coronavirus-deaths/?sh=54afb581300b" target="_blank" rel="noreferrer noopener">linked to nursing homes</a>. 1 in 6 covid deaths in Vermont were <a href="https://theintercept.com/2020/12/02/vermont-nursing-home-covid-genesis/" target="_blank" rel="noreferrer noopener">from a single facility</a>. In New York (the state with the <a href="https://www.statista.com/statistics/1109011/coronavirus-covid19-death-rates-us-by-state/" target="_blank" rel="noreferrer noopener">second highest</a> covid deaths per million) hospitals sent over 6,300 elderly covid patients <a href="https://www.nbcnewyork.com/news/coronavirus/new-york-hospitals-sent-6300-recovering-covid-patients-to-nursing-homes/2502812/" target="_blank" rel="noreferrer noopener">back into nursing homes</a>. Unprotected, underserved, and alone, the elderly are also afflicted by the “<a href="https://www.nytimes.com/2020/10/30/us/nursing-homes-isolation-virus.html" target="_blank" rel="noreferrer noopener">slow killer</a>” of loneliness. Isolation increases risk of <a href="https://www.health.harvard.edu/mind-and-mood/loneliness-and-isolation-raise-risk-for-stroke-and-heart-disease-study-suggests" target="_blank" rel="noreferrer noopener">heart disease, stroke</a>, and <a href="https://www.alzinfo.org/articles/feeling-lonely-increases-alzheimers-risk-2/" target="_blank" rel="noreferrer noopener">Alzheimer’s</a>. It is <a href="https://www.webmd.com/balance/news/20180504/loneliness-rivals-obesity-smoking-as-health-risk" target="_blank" rel="noreferrer noopener">as deadly</a> as obesity or smoking 15 cigarettes a day.</p>



<p>Financial insecurity will exacerbate these health risks for the elderly. Economic shutdown has <a href="https://www.ft.com/content/d1fce3e7-428b-4b8a-ab6a-119a38fa1e7d" target="_blank" rel="noreferrer noopener">weakened</a> global pension funds and they may not recover. Millions of Baby Boomers have been forced into <a href="https://www.forbes.com/sites/jackkelly/2020/11/19/nearly-30-million-baby-boomers-forced-into-unwanted-retirement/?sh=4fb8019d5d7d" target="_blank" rel="noreferrer noopener">early retirement</a> without adequate savings. Many Americans are <a href="https://www.cnbc.com/2020/09/14/americans-are-forced-to-raid-retirement-savings-during-the-pandemic.html" target="_blank" rel="noreferrer noopener">dipping into their retirement funds early</a>. The Congressional Budget Office projects that $2.8 trillion in Social Security funds will be <a href="https://thehill.com/policy/finance/528268-covid-19-damage-to-social-security-to-extend-beyond-pandemic" target="_blank" rel="noreferrer noopener">used up in a decade</a> due to the impact of un- and underemployment on lowering contributions.</p>



<div id="block_5fda90f836c10">
    <p>
		“Income is the main determinant of covid mortality.”    </p>
</div>


<p>Outcomes of lockdown are equally grim for children. Even if K-12 schools reopen in January 2021, the average student will have lost <a href="https://www.washingtonpost.com/education/students-falling-behind/2020/12/06/88d7157a-3665-11eb-8d38-6aea1adb3839_story.html" target="_blank" rel="noreferrer noopener">7 months of instruction</a>. Because literacy and education levels are a main <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2713445/" target="_blank" rel="noreferrer noopener">predictor of longevity</a>, these learning losses represent years of life stolen from students. Moreover, cases of severe abuse and mental-health related ER visits <a href="https://apnews.com/article/anxiety-mental-health-boston-coronavirus-pandemic-massachusetts-004adb5ee0ef17ff4b5e2e294e36ff3d" target="_blank" rel="noreferrer noopener">are surging for children</a>. They will also experience <a href="https://www.nytimes.com/2020/11/25/opinion/sunday/covid-quarantine-children-immune-systems.html" target="_blank" rel="noreferrer noopener">weakened immune systems</a> due to lack of exposure to seasonal viruses and natural pathogens.</p>



<p>For people with chronic health conditions or those in need of urgent medical treatment, the short- and long-term consequences of lockdown are disastrous. In the United States, cancer screenings fell by <a href="https://www.radiologybusiness.com/topics/healthcare-economics/cancer-screenings-epic-ehr-covid-19-coronavirus" target="_blank" rel="noreferrer noopener">86-94%</a> in the spring. Many hospitals <a href="https://www.beckershospitalreview.com/finance/47-hospitals-closed-filed-for-bankruptcy-this-year.html" target="_blank" rel="noreferrer noopener">had to close</a> due to lack of revenue from routine surgeries and procedures. Hospitals are expected to lose a total of <a href="https://www.aha.org/news/headline/2020-06-30-aha-report-hospital-financial-losses-covid-19-expected-top-323-billion#:~:text=An%20AHA%20report%20released%20today,least%20%24323%20billion%20in%202020." target="_blank" rel="noreferrer noopener">$323 billion</a> this year. <a href="https://www.npr.org/2020/05/10/853524764/amid-pandemic-hospitals-lay-off-1-4m-workers-in-april" target="_blank" rel="noreferrer noopener">1.4 million hospital staff</a> were laid off in April while private health insurance companies <a href="https://www.nytimes.com/2020/08/05/health/covid-insurance-profits.html" target="_blank" rel="noreferrer noopener">doubled their earnings</a>.&nbsp;</p>



<p>In the absence of meaningful investments in healthcare infrastructure, the covid mitigation strategies being pushed by federal, state, and local governments are neither credible nor effective. Elected officials routinely amplify raw case numbers in order to stoke fear and blame individuals for viral spread. As a result, we are currently “saving lives” by killing people. This is not an unforced error or a good policy idea implemented poorly. It is an economic agenda disguised as a health protocol.</p>



<h5>The New Caste System&nbsp;</h5>



<p>California Governor Gavin Newsom sends his children to <a href="https://www.politico.com/states/california/story/2020/10/30/newsom-sends-his-children-back-to-school-classrooms-in-california-1332811" target="_blank" rel="noreferrer noopener">in-person private school</a> while mandating virtual education for California public schools. He announced a <a href="https://www.theguardian.com/world/2020/dec/06/california-covid-lockdown-us-new-cases-hospitalisations-deaths-stay-at-home-order" target="_blank" rel="noreferrer noopener">second statewide lockdown</a> just a few weeks after attending an indoor, unmasked <a href="https://www.politico.com/news/2020/11/18/newsom-lobbyist-dinner-party-437892" target="_blank" rel="noreferrer noopener">dinner with lobbyists</a> at a Michelin three star restaurant where meals can cost up to <a href="https://sf.eater.com/2020/9/3/21421335/french-laundry-yountville-thomas-keller-indoor-dining-rich-people" target="_blank" rel="noreferrer noopener">$850 per person</a>. Newsom is just one of many <a href="https://www.nytimes.com/2020/11/23/nyregion/cuomo-thanksgiving-mother.html" target="_blank" rel="noreferrer noopener">politicians</a>, elites, and <a href="https://www.wsj.com/articles/mask-mischief-11595625179" target="_blank" rel="noreferrer noopener">bureaucrats</a> who break the rules. A static social order is being solidified. In our new caste system the wealthy have political and social <a href="https://www.bloomberg.com/news/articles/2020-12-03/u-k-to-exempt-high-value-business-travelers-from-quarantine" target="_blank" rel="noreferrer noopener">privileges</a> because they are considered clean and disease-free, while the more low-income someone is, the more they are treated as contaminated.&nbsp;</p>



<p>The goal of lockdown enthusiasts in the “work from home” caste is to shift risk away from themselves and onto essential workers and the poor. <a href="https://www.bbc.com/worklife/article/20201023-coronavirus-how-will-the-pandemic-change-the-way-we-work" target="_blank" rel="noreferrer noopener">Only 40%</a> of the workforce can afford to stay home. <a href="https://www.commonwealthfund.org/publications/issue-briefs/2020/aug/looming-crisis-health-coverage-2020-biennial#:~:text=In%20the%20first%20half%20of%202020%2C%2043.4%20percent%20of%20U.S.,uninsured%20rate%20was%2012.5%20percent." target="_blank" rel="noreferrer noopener">43% of US adults</a> do not have adequate health insurance, and only 31% of low-paid workers have <a href="https://www.pewresearch.org/fact-tank/2020/03/12/as-coronavirus-spreads-which-u-s-workers-have-paid-sick-leave-and-which-dont/" target="_blank" rel="noreferrer noopener">paid sick leave</a> compared to 92% of high-paid workers. “Stay home” is the self-congratulatory mantra of professionals who believe that their virtuous behavior prevents them from contracting covid. In fact, income is the <a href="https://prospect.org/coronavirus/covid-19-class-war-death-rates-income/" target="_blank" rel="noreferrer noopener">main determinant</a> of covid mortality.</p>



<p>Lockdown fanatics have helped manufacture consent for a brutal reorganization of labor that will plunge millions of people into serfdom. The work-from-home lifestyle is only possible through the labor of logistics workers who transport, sort, and deliver goods. Currently about <a href="https://www.nytimes.com/live/2020/12/04/business/us-economy-coronavirus" target="_blank" rel="noreferrer noopener">10 million jobs</a> that existed in February have not been replaced. Many workers have been forced to take on part-time, no-contract work, a labor model that is <a href="https://qz.com/1556194/the-gig-economy-is-quietly-undermining-a-century-of-worker-protections/" target="_blank" rel="noreferrer noopener">rolling back</a> decades of hard-fought protections.&nbsp;&nbsp;</p>



<p>Under the Obama/Biden administration, 94% of new jobs created were gig work, and in 2017 <a href="https://www.ilo.org/washington/WCMS_642303/lang--en/index.htm#:~:text=The%20Bureau%20of%20Labor%20Statistics,to%2043%20percent%20in%202020." target="_blank" rel="noreferrer noopener">34% of the workforce</a> was employed through the gig economy. Shutdowns are accelerating this trend, with food delivery apps <a href="https://www.nytimes.com/2020/11/30/nyregion/bike-delivery-workers-covid-pandemic.html" target="_blank" rel="noreferrer noopener">growing their profits</a> as workers struggle to get by. Subscription platforms like OnlyFans saw a <a href="https://www.sfchronicle.com/bayarea/article/Coronavirus-took-their-jobs-away-OnlyFans-let-15175650.php" target="_blank" rel="noreferrer noopener">surge in accounts</a> at the beginning of lockdown. In March the company saw a <a href="https://www.nytimes.com/2020/04/10/style/camsoda-onlyfans-streaming-sex-coronavirus.html" target="_blank" rel="noreferrer noopener">75% increase in users and 60,000 new creators</a>. Lockdown has made OnlyFans a <a href="https://www.bloomberg.com/news/articles/2020-12-05/celebrities-like-cardi-b-could-turn-onlyfans-into-a-billion-dollar-media-company" target="_blank" rel="noreferrer noopener">billion dollar business</a>, but the majority of creators make less than <a href="https://www.xsrus.com/writing/explain/onlyfans/" target="_blank" rel="noreferrer noopener">$145 a month</a>.&nbsp;</p>






<p>Internationally, workplace closures and supply chain disruptions will result in the loss of <a href="http://ilo.org/global/about-the-ilo/newsroom/news/WCMS_743036/lang--en/index.html" target="_blank" rel="noreferrer noopener">305 million</a> jobs. <a href="https://www.ilo.org/global/topics/employment-promotion/informal-economy/publications/WCMS_743534/lang--en/index.htm" target="_blank" rel="noreferrer noopener">1.6 billion</a> informal economy workers are at risk of losing their livelihoods. This devastation will be compounded by famine and the increased <a href="https://www.nytimes.com/2020/08/03/health/coronavirus-tuberculosis-aids-malaria.html" target="_blank" rel="noreferrer noopener">spread of untreated diseases</a> like <a href="https://www.sciencedaily.com/releases/2020/06/200624103257.htm" target="_blank" rel="noreferrer noopener">tuberculosis</a>. In July closed food markets were linked to <a href="https://apnews.com/article/lifestyle-ap-top-news-understanding-the-outbreak-hunger-international-news-5cbee9693c52728a3808f4e7b4965cbd" target="_blank" rel="noreferrer noopener">10,000 child deaths a month</a>. <a href="https://www.nytimes.com/2020/04/11/business/coronavirus-destroying-food.html" target="_blank" rel="noreferrer noopener">Food is being discarded</a> and crops are rotting in the fields while the number of people facing acute hunger this year has doubled to <a href="https://www.nytimes.com/2020/04/22/world/africa/coronavirus-hunger-crisis.html">265 </a><a href="https://www.nytimes.com/2020/04/22/world/africa/coronavirus-hunger-crisis.html" target="_blank" rel="noreferrer noopener">million</a>.&nbsp;</p>



<p>At the start of the covid crisis, vocal segments of the American left argued that economic shutdown was a way to resist <a href="https://jacobinmag.com/2020/03/donald-trump-wall-street-coronavirus-profits" target="_blank" rel="noreferrer noopener">billionaires</a> and <a href="https://www.dsausa.org/democratic-left/we-need-a-global-democratic-socialist-response-to-covid-19/" target="_blank" rel="noreferrer noopener">capitalism</a>. This demonstrated a deep misunderstanding of the way <a href="https://www.investopedia.com/financial-edge/0411/5-investors-that-are-both-rich-and-smart.aspx" target="_blank" rel="noreferrer noopener">financiers can profit</a> from economic contraction. Many on the left chose to ignore the Biblical scale of the destruction that economic stoppages would cause, arguing that the covid crisis was an <a href="https://jacobinmag.com/2020/03/quarantine-coronavirus-economy-left-organizing" target="_blank" rel="noreferrer noopener">opportunity</a>. Today the left continues to advance the illusion that <a href="https://jacobinmag.com/2020/11/joe-biden-coronavirus-pandemic-relief" target="_blank" rel="noreferrer noopener">meaningful relief</a> is possible, while workers’ pensions are plundered, children’s futures disappear, and <a href="https://www.cnn.com/2020/10/07/economy/global-poverty-rate-coronavirus/index.html" target="_blank" rel="noreferrer noopener">150 …</a></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.thebellows.org/the-great-covid-class-war/">https://www.thebellows.org/the-great-covid-class-war/</a></em></p>]]>
            </description>
            <link>https://www.thebellows.org/the-great-covid-class-war/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508370</guid>
            <pubDate>Tue, 22 Dec 2020 16:58:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Optimizing models using the PyTorch JIT]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508269">thread link</a>) | @t-vi
<br/>
December 22, 2020 | https://lernapparat.de/jit-optimization-intro/ | <a href="https://web.archive.org/web/*/https://lernapparat.de/jit-optimization-intro/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div id="submain">
  <article>

  
  
  <p>Dec. 21, 2020</p>
  
  <section>
   <p><img src="https://lernapparat.de/static/artikel/jit-optimization-intro/title.svg"> <span><label for="fn::fusor">⊕</label><span><span><a href="https://commons.wikimedia.org/wiki/File:US3386883_-_fusor.png">fusor</a></span></span></span></p>
<p>Today we look at TorchScript, the language implemented by the PyTorch JIT ("Just in Time compiler"), PyTorch's solution for deployment and model optimization. 
We can use it to export models to work beyond Python, e.g. on mobile or embedded platforms, or just to escape the infamous Python Global Interpreter Lock during computation. This is possibly the more well-known application.<span><label for="fn:thank_you"></label><span><span>Luca Antiga and Christian Sarofeen shared many insightful comments and suggestions after the article first went live. Thak you! All errors are still mine.</span></span></span></p>
<p>But the JIT also lends itself to the implementation <em>holistic</em> optimizations that consider several operations at once. This is  as opposed to just writing a better implementation of any given PyTorch operation, although the JIT works for these, too, as we will see.</p>
<p>We will start with a high-level overview of how PyTorch and the JIT work to then dive into the how it enables compiling fused kernels to optimize models at run time.<span><label for="fn:chapter15"></label><span><span>If you want to take a look at exporting models, do check out Chapter 15 of our <a href="https://www.manning.com/books/deep-learning-with-pytorch">book</a>, from which I also took some diagrams below. There we introduce the JIT with a view towards running the model in C++ and on mobile. The book also as a comprehensive introduction from everything PyTorch to how to represent data and a detailed account of project to build an AI detecting cancerous lung nodules.</span></span></span></p>
<p>This tutorial has been prepared in the context of work I did for AMD. Thank you!</p>
<h2>The overall structure of PyTorch</h2>
<p>The first thing we want to do when considering how the JIT works is consider the structure of PyTorch.</p>
<p><img src="https://lernapparat.de/static/artikel/jit-optimization-intro/Ch15_F4_PyTorch_calling_pytorch.svg">
(image from Deep Learning with PyTorch)</p>
<p>PyTorch most prominently is a Python library, I call this part classic PyTorch. Some parts are implemented in Python (e.g. the <code>torch.nn</code> modules and the optimizers), but the compute functions (like <code>torch.matmul</code>) are provided as a Python C++ extension.</p>
<p>Looking a bit closer, this Python C++ extension is a thin wrapper around PyTorch's C++ library <em>LibTorch</em>. That in turn uses the ATen tensor library which itself dispatches into various backends.</p>
<p>The PyTorch JIT now implements a virtual machine that takes in TorchScript programs (typically created through the <code>torch.jit</code> ) and runs them by calling into LibTorch itself, circumventing the Python parts.</p>
<p>The JIT also is extendable by defining <em>Custom Ops</em>, we'll get back to this. To run PyTorch-exported programs in Torch Mobile or Torch Serving, the typical thing is to implement a wrapper around the JIT api to load and run modules.</p>
<h2>TorchScript</h2>
<p>Now that we know that we want to run our model in the JIT execution, we should see how to get our model into TorchScript<span><label for="fn:torchscript"></label><span><span>TorchScript is used simultaneously for the language - mostly a typed subset of Python - and the representation (intermediate - IR).</span></span></span>, the form the JIT can process.</p>
<p>There are two main ways of achieving this (but they can be mixed), <em>scripting</em> and <em>tracing</em>. Let's look at them.</p>
<h3>Scripting</h3>
<p>Scripting compiles (mostly) a subset of Python.
It takes the Python source code and transforms it. 
"Here is what the function should do", just like normal programming.<span><label for="fn:notebook"></label><span><span>To run the code, check out the <a href="https://nbviewer.jupyter.org/github/lernapparat/tutorials/blob/main/jit/pytorch-jit-fuser-intro.ipynb">Notebook of this tutorial</a>.</span></span></span></p>
<div><pre><span></span><span>@torch.jit.script</span>
<span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span> <span>*</span> <span>2</span>
</pre></div>



<div><pre><span></span>(&lt;torch.jit.ScriptFunction at 0x7fcd5709a310&gt;,
 graph(%x.1 : Tensor):
   %2 : int = prim::Constant[value=2]() # &lt;ipython-input-3-6dcc6c3c1c8e&gt;:3:15
   %3 : Tensor = aten::mul(%x.1, %2) # &lt;ipython-input-3-6dcc6c3c1c8e&gt;:3:11
   return (%3))
</pre></div>

<h3>Tracing</h3>
<p>Tracing runs the code and observers the calls into PyTorch with some sample input.
"Watch me, now you know how to do the same."<span><label for="fn:evaluation_vs_print"></label><span><span>The avid reader will note that I sometimes leave the evaluation last (and have the result displayed by Jupyter if we are in a notebook) and sometimes use <code>print</code>. The main difference is how strings like <code>.code</code> below are handled: Jupyter will use "the representation" as output, showing multiline strings with newline characters as `\n, while printing actually starts a new line when seeing newline characters.</span></span></span></p>
<div><pre><span></span><span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span> <span>*</span> <span>2</span>
<span>fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>fn</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>5</span><span>)])</span>

<span>print</span><span>(</span><span>fn</span><span>.</span><span>graph</span><span>,</span> <span>fn</span><span>.</span><span>code</span><span>)</span>
</pre></div>

<div><pre><span></span>graph(%x : Float(5, strides=[1], requires_grad=0, device=cpu)):
  %1 : Long(requires_grad=0, device=cpu) = prim::Constant[value={2}]() # &lt;ipython-input-5-7d43d0af2e80&gt;:2:0
  %2 : Float(5, strides=[1], requires_grad=0, device=cpu) = aten::mul(%x, %1) # &lt;ipython-input-5-7d43d0af2e80&gt;:2:0
  return (%2)
 def fn(x: Tensor) -&gt; Tensor:
  return torch.mul(x, CONSTANTS.c0)
</pre></div>

<p>By the way: The specialization for the Tensor shape isn't relevant here and will be erased e.g. during saving of the model.</p>
<h3>What is TorchScript?</h3>
<p>Now that had a glimpse of TorchScript, what is it?</p>
<p>One important difference between TorchScript and Python is that in TorchScript everything is typed. Important
types are</p>
<ul>
<li><code>bool</code>, <code>int</code>, <code>long</code>, <code>double</code> for numbers (int = 32 bit integer, long = 64 bit integer)</li>
<li><code>Tensor</code> for tensors (of arbitrary shape, dtype, ...)</li>
<li><code>List[T]</code> a list with elements fo type T (one of the above)</li>
<li>Tuples are of fixed size with arbitrary but fixed element type, so e.g. <code>Tuple(Tensor, int)</code>.</li>
<li><code>Optional[T]</code> for things that can be <code>None</code></li>
</ul>
<p><code>None</code> always is of type <code>Optional[T]</code> for some specific <code>T</code> (except in the rarest circumstances).</p>
<p>PyTorch will mostly infer the intermediate and return types, but you need to annotate any non-Tensor inputs.</p>
<p>Another important difference is the binding behaviour - when a given variable name is looked up to find the associated variable. Python uses late binding. If we write a function that calls <code>torch.matmul</code> the Python interpreter will look up what <code>torch.matmul</code> is when it executes the statement in which it is used.</p>
<p>This is in contrast to many other languages, which use early binding, as - you guessed it - TorchScript does: When we compile a function to TorchScript, the JIT looks it up then<span><label for="fn:operator_dynamics"></label><span><span>While functions are looked up at compile time, the PyTorch JIT virtual machine executing the byte code looks up the <em>operators</em> during runtime.</span></span></span> and there and puts it into our function (it even inlines the commands, but that is not the point here).</p>
<h3>Tracing vs. Scripting</h3>
<p>Scripting will process all of the code, but it may not understand all of it. This means it captures all constructs it supports (e.g. some control flow), but it will fail if there is something it doesn't understand.</p>
<p>Tracing cannot see anything that is not a direct call into PyTorch and will happily ignore it (e.g. control flow)
This is also the reason why it will loudly complain if you have non-tensor inputs.</p>
<div><pre><span></span><span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>x</span><span>.</span><span>dim</span><span>()):</span>
        <span>x</span> <span>=</span> <span>x</span> <span>*</span> <span>x</span>
    <span>return</span> <span>x</span>

<span>script_fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>script</span><span>(</span><span>fn</span><span>)</span>
<span>trace_fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>fn</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>5</span><span>,</span> <span>5</span><span>)])</span>
</pre></div>



<div><pre><span></span>def fn(x: Tensor) -&gt; Tensor:
  x0 = x
  for i in range(torch.dim(x)):
    x0 = torch.mul(x0, x0)
  return x0
</pre></div>



<div><pre><span></span>def fn(x: Tensor) -&gt; Tensor:
  x0 = torch.mul(x, x)
  return torch.mul(x0, x0)
</pre></div>

<h2>Tracing and Scripting Modules</h2>
<p>But our models often are not functions. What now?</p>
<p>With tracing, we can work with Modules just like we work with functions. We get a <code>ScriptModule</code> subclass that behaves much like a <code>Module</code> with parameters, state dict etc.</p>
<div><pre><span></span><span>model</span> <span>=</span> <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Sequential</span><span>(</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Linear</span><span>(</span><span>1</span><span>,</span> <span>10</span><span>),</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>ReLU</span><span>(),</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Linear</span><span>(</span><span>10</span><span>,</span> <span>1</span><span>))</span>

<span>traced_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>model</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>8</span><span>,</span> <span>1</span><span>)])</span>
<span>type</span><span>(</span><span>traced_model</span><span>),</span> <span>traced_model</span>
</pre></div>

<div><pre><span></span>(torch.jit._trace.TopLevelTracedModule,
 Sequential(
   original_name=Sequential
   (0): Linear(original_name=Linear)
   (1): ReLU(original_name=ReLU)
   (2): Linear(original_name=Linear)
 ))
</pre></div>

<p>Saving is a bit different, here we include the model on purpose:</p>
<div><pre><span></span><span>traced_model</span><span>.</span><span>save</span><span>(</span><span>'./traced_model.pt'</span><span>)</span>
<span>loaded_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>load</span><span>(</span><span>'./traced_model.pt'</span><span>)</span>

<span>loaded_model</span><span>(</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>8</span><span>,</span><span>1</span><span>))</span>
</pre></div>

<div><pre><span></span>tensor([[ 0.2657],
        [ 0.1038],
        [ 0.1530],
        [ 0.3578],
        [ 0.0223],
        [ 0.0336],
        [-0.0023],
        [ 0.1440]], grad_fn=&lt;AddBackward0&gt;)
</pre></div>

<h2>Scripting Modules</h2>
<p>Scripting modules is ... a bit more tricky. The class in its entirety is not scripted, instead we need to script an instance of the module<span><label for="fn:no_init"></label><span><span>In particular we do not want to script the <code>__init__</code> method, but instead inspect the instance after it has been initialized.</span></span></span> . Then all data members will be collected and methods will be processed in a way similar to how script functions work.</p>
<div><pre><span></span><span>scripted_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>script</span><span>(</span><span>model</span><span>)</span>
<span>print</span><span>(</span><span>scripted_model</span><span>.</span><span>code</span><span>)</span>
</pre></div>

<div><pre><span></span>def forward(self,
    input: Tensor) -&gt; Tensor:
  _0 = getattr(self, "0")
  _1 = getattr(self, "1")
  _2 = getattr(self, "2")
  input0 = (_0).forward(input, )
  input1 = (_1).forward(input0, )
  return (_2).forward(input1, )
</pre></div>

<p>We can also look at the graph including submodules, but it gets unwieldy rather fast:</p>
<div><pre><span></span><span>scripted_model</span><span>.</span><span>forward</span><span>.</span><span>inlined_graph</span>
</pre></div>

<div><pre><span></span><span>graph</span><span>(</span><span>%self</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>container</span><span>.</span><span>___torch_mangle_13</span><span>.</span><span>Sequential</span><span>,</span>
      <span>%input</span><span>.1</span> <span>:</span> <span>Tensor</span><span>)</span><span>:</span>
  <span>%</span><span>2</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>linear</span><span>.</span><span>___torch_mangle_10</span><span>.</span><span>Linear</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"0"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>3</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>activation</span><span>.</span><span>___torch_mangle_11</span><span>.</span><span>ReLU</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"1"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>4</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>linear</span><span>.</span><span>___torch_mangle_12</span><span>.</span><span>Linear</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"2"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>8</span> <span>:</span> <span>int</span> <span>=</span> <span>prim</span><span>::</span><span>Constant</span><span>[</span><span>value</span><span>=</span><span>1</span><span>]()</span>
  <span>%</span><span>9</span> <span>:</span> <span>int</span> <span>=</span> <span>prim</span><span>::</span><span>Constant</span><span>[</span><span>value</span><span>=</span><span>2</span><span>]()</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>22</span>
  <span>%</span><span>10</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"weight"</span><span>](</span><span>%</span><span>2</span><span>)</span>
  <span>%</span><span>11</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"bias"</span><span>](</span><span>%</span><span>2</span><span>)</span>
  <span>%</span><span>12</span> <span>:</span> <span>int</span> <span>=</span> <span>aten</span><span>::</span><span>dim</span><span>(</span><span>%input</span><span>.1</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>7</span>
  <span>%</span><span>13</span> <span>:</span> <span>bool</span> <span>=</span> <span>aten</span><span>::</span><span>eq</span><span>(</span><span>%</span><span>12</span><span>,</span> <span>%</span><span>9</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>7</span>
  <span>%input</span><span>.3</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>If</span><span>(</span><span>%</span><span>13</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>4</span>
    <span>block0</span><span>()</span><span>:</span>
      <span>%</span><span>15</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>t</span><span>(</span><span>%</span><span>10</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1665</span><span>:</span><span>39</span>
      <span>%ret</span><span>.2</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>addmm</span><span>(</span><span>%</span><span>11</span><span>,</span> <span>%input</span><span>.1</span><span>,</span> <span>%</span><span>15</span><span>,</span> <span>%</span><span>8</span><span>,</span> <span>%</span><span>8</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1665</span><span>:</span><span>14</span>
      <span>-&gt;</span> <span>(</span><span>%ret</span><span>.2</span><span>)</span>
    <span>block1</span><span>()</span><span>:</span>
      <span>%</span><span>17</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>t</span><span>(</span><span>%</span><span>10</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span>…</pre></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lernapparat.de/jit-optimization-intro/">https://lernapparat.de/jit-optimization-intro/</a></em></p>]]>
            </description>
            <link>https://lernapparat.de/jit-optimization-intro/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508269</guid>
            <pubDate>Tue, 22 Dec 2020 16:51:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing a Better Terminal]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25508230">thread link</a>) | @markessien
<br/>
December 22, 2020 | https://markessien.com/posts/terminal-concept/ | <a href="https://web.archive.org/web/*/https://markessien.com/posts/terminal-concept/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img src="https://markessien.com/img/posts/superterm.jpg" alt="SuperTerm"></p><p>Click <a href="https://markessien.com/img/posts/superterm.jpg">here</a> to view the bigger version.</p><p>I’ve been doing a lot of DevOps work recently, and terminals are horridly broken. There is so much copy and paste going on (well, unless you have a super memory). Why can’t we fix that?</p><p>I have designed an improved terminal for people who deal with a lot of different servers, and need to do a bunch of different things.</p><p>On the left side, you can add all the servers you usually ssh into. You see their name and IP address prominently displayed. The green screen shows if you are currently logged in or not. When a task you were executing has stopped, a tiny cursor starts blinking.</p><p><img src="https://markessien.com/img/posts/superterm1.jpg" alt="SuperTerm"></p><p>I admit it, I still search the web anytime I need to setup MySQL. I still search the web for almost any DevOps task. And you end up with inconsistent blog posts riddled with ads. What if all that could move straight to the terminal - you search, and you get a guide. You can then click on the commands and they instantly copy into your terminal cursor.</p><p><img src="https://markessien.com/img/posts/superterm4.jpg" alt="SuperTerm"></p><p>Running 6 servers like I do, I probably have about 20 passwords per server. That’s 120 passwords I need to regularly reference - and they are all in my password manager, which sits somewhere very far away (by click-count). What if all the passwords were right there in the terminal - so when I need MySQL root password, I can just access it.</p><p><img src="https://markessien.com/img/posts/superterm2.jpg" alt="SuperTerm"></p><p>If you are installing something complex, you often need to reference history. Either to copy some command or to check if you did things right. History is long, and scrolls your screen. It’s inconvenient to use. What if you could simply show it in the sidebar anytime you wanted? That would spead up my work immensely.</p><p><img src="https://markessien.com/img/posts/superterm3.jpg" alt="SuperTerm"></p><p>(Btw, there is a grid view also, in case you need to view up to 4 terminals from different servers at once.) But generally, I feel the above would make terminal work far more convenient for people who work with a lot of servers.</p></section></div>]]>
            </description>
            <link>https://markessien.com/posts/terminal-concept/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508230</guid>
            <pubDate>Tue, 22 Dec 2020 16:48:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VPN Safe-Inet has been taken down by Europol]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25508164">thread link</a>) | @giuliomagnifico
<br/>
December 22, 2020 | https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Law enforcement wiretapped the very service used by criminals to evade interception</p><div><p>The virtual private network (VPN) Safe-Inet used by the world’s foremost cybercriminals has been taken down yesterday in a coordinated law enforcement action led by the German Reutlingen Police Headquarters together with Europol and law enforcement agencies from around the world.&nbsp;</p>
<p>The Safe-Inet service was shut down and its infrastructure seized in Germany, the Netherlands, Switzerland, France and the United States. The servers were taken down, and a splash page prepared by Europol was put up online after the domain seizures. This coordinated takedown was carried out in the framework of the <a href="https://www.europol.europa.eu/empact">European Multidisciplinary Platform Against Criminal Threats (EMPACT)</a>.&nbsp;</p>
<h3>Turning the table on the criminals&nbsp;</h3>
<p>Active for over a decade, Safe-Inet was being used by some of the world’s biggest cybercriminals, such as the ransomware operators responsible for ransomware, E-skimming breaches and other forms of serious cybercrime.&nbsp;</p>
<p>This VPN service was sold at a high price to the criminal underworld as one of the best tools available to avoid law enforcement interception, offering up to 5 layers of anonymous VPN connections.</p>
<p>Law enforcement were able to identify some 250 companies worldwide which were being spied on by the criminals using this VPN. These companies were subsequently warned of an imminent ransomware attack against their systems, allowing them to take measures to protect themselves against such an attack.<br>
The service has now been rendered inaccessible.&nbsp;</p>
<p>Investigations are ongoing in a number of countries to identify and take action against some of Safe-Inet’s users. &nbsp;</p>
<h3>International cyber sweep&nbsp;</h3>
<p>International police cooperation was central to the success of this investigation as the critical infrastructure was scattered across the world.</p>
<p>Europol’s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3) </a>supported the investigation from the onset, bringing together all the involved countries to establish a joint strategy and to organise the intensive exchange of information and evidence needed to prepare for the final phase of the takedown.&nbsp;</p>
<p>The <strong>Police President of the Reutlingen Police Headquarters, Udo Vogel</strong>, said:</p>
<blockquote><p>The investigation carried out by our cybercrime specialists has resulted in such a success thanks to the excellent international cooperation with partners worldwide. The results show that law enforcement authorities are equally as well connected as criminals.&nbsp;</p>
</blockquote>
<p>The <strong>Head of Europol’s European Cybercrime Centre, Edvardas Šileris</strong>, said:</p>
<blockquote><p>The &nbsp;strong working relationship fostered by Europol between the investigators involved in this case on either side of the world was central in bringing down this service. &nbsp;Criminals can run but they cannot hide from law enforcement, and we will continue working tirelessly together with our partners to outsmart them.</p>
</blockquote>
<h3>Participating agencies</h3>
<ul><li><strong>Germany:</strong> Reutlingen Police Headquarters (Polizeipräsidium Reutlingen)</li>
<li><strong>The Netherlands: </strong>National Police (Politie)</li>
<li><strong>Switzerland:</strong> Cantonal Police of Argovia (Kantonspolizei Aargau)&nbsp;</li>
<li><strong>United States: </strong>&nbsp;Federal Bureau of Investigation</li>
<li><strong>France: </strong>Judicial Police (Direction Centrale de la Police Judiciaire)</li>
<li><strong>Europol:</strong> European Cybercrime Centre (EC3)&nbsp;</li>
</ul></div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508164</guid>
            <pubDate>Tue, 22 Dec 2020 16:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interfaces for Explaining Transformer Language Models]]>
            </title>
            <description>
<![CDATA[
Score 36 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508118">thread link</a>) | @Brajeshwar
<br/>
December 22, 2020 | https://jalammar.github.io/explaining-transformers/ | <a href="https://web.archive.org/web/*/https://jalammar.github.io/explaining-transformers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        











<p>Interfaces for exploring transformer language models by looking at input saliency and neuron activation.</p>

<div>

<div>
<figure>
    <figcaption>
        <strong>Explorable #1:</strong>  Input saliency of a list of countries generated by a language model<br>
         <strong>Tap or hover over</strong> the <strong>output tokens</strong>:</figcaption>
    
    <br>
    <figcaption>
    <br>
        <strong>Explorable #2:</strong>  Neuron activation analysis reveals four groups of neurons, each is associated with generating a certain type of token<br>
        <strong>Tap or hover over</strong> the sparklines on the left to isolate a certain factor:</figcaption>
    
    <br>
</figure>
    </div>
</div>

<!--
<div class="toc">
    <h3>Contents</h3>
    <ul>
        <li>
            <a href="#introduction">Introduction</a>
        </li>
        <li>
            <a href="#saliency">Input Saliency</a>
        </li>
        <li>
            <a href="#evolution">Evolution of Hidden States</a>
        </li>
        <li>
            <a href="#activations">Neuron Activations</a>
        </li>
        <li>
            <a href="#conclusion">Conclusion & Future Work</a>
        </li>
    </ul>
</div>
-->

<p id="introduction">The Transformer architecture<cite key="vaswani2017attention"></cite>
    has been powering a number of the recent advances in NLP. A breakdown of this architecture is provided <a href="https://jalammar.github.io/illustrated-transformer/">here</a> <cite key="alammar2018illustrated"></cite>. Pre-trained language models based on the architecture,
    in both its auto-regressive<cite key="liu2018generating,radford2018improving,radford2019language,brown2020language"></cite> (models that use their own output as input to next time-steps and that process tokens from left-to-right, like GPT2)
    and denoising<cite key="devlin2018bert,liu2019roberta,lan2019albert,lewis2019bart,raffel2019exploring"></cite> (models trained by corrupting/masking the input and that process tokens bidirectionally, like BERT)
    variants continue to push the envelope in various tasks in NLP and, more recently, in computer vision<cite key="dosovitskiy2020image"></cite>. Our understanding of why these models work so well, however, still lags behind these developments.
</p>

<p>This exposition series continues the pursuit to interpret<cite key="rogers2020primer,atanasova2020diagnostic"></cite>
    and visualize<cite key="vig2019visualizing,madsen2019visualizing,hoover2020,tenney2020language,wallace2019allennlp"></cite>
    the inner-workings of transformer-based language models.

We illustrate how some key interpretability methods apply to transformer-based language models. This article focuses on auto-regressive models, but these methods are applicable to other architectures and tasks as well.
     
</p>

<p>This is the first article in the series. In it, we present explorables and visualizations aiding the intuition of:</p>
<ul>
    <li>
        <strong>Input Saliency</strong> methods that score input tokens importance to generating a token.
    </li>
    <li>
        <strong>Neuron Activations</strong> and how individual and groups of model neurons spike in response to
        inputs and to produce outputs.
    </li>
</ul>

<p>The next article addresses <strong>Hidden State Evolution</strong> across the layers of the model and what it may tell us about each layer's role.</p>

<!--more-->

<!--
    <li>
        <strong>Attention</strong>, a central concept in transformers, and how recent work<cite key="abnar2020quantifying"></cite>
        leads to visualizations that are more faithful to its role.
    </li>
-->

<p>In the language of Interpretable Machine Learning (IML) literature like Molnar et al.<cite key="molnar2020interpretable"></cite>, input saliency is a method that explains individual predictions. The latter two methods fall under the
    umbrella of "analyzing components of more complex models", and are better described as increasing the transparency<cite key="du2019techniques,carvalho2019machine"> </cite> of transformer models.
</p>

<p>Moreover, this article is accompanied by <a href="https://github.com/jalammar/ecco/tree/main/notebooks">reproducible notebooks</a> and <a href="https://github.com/jalammar/ecco/">Ecco - an open source library</a> to create similar
    interactive interfaces directly in Jupyter notebooks<cite key="ragan2014jupyter"></cite>
    for GPT-based<cite key="radford2018improving"></cite> models from the HuggingFace transformers library<cite key="wolf2019huggingface"></cite>.
</p>

<p>If we're to impose the three components we're examining to explore the architecture of the transformer, it would look like the following figure.</p>
<figure>
    <img src="https://jalammar.github.io/images/explaining/transformer-input-saliency-hidden-states-neuron-activations.png">
    <figcaption>
        <strong>
            Figure: Three methods to gain a little more insight into the inner-workings of Transformer language models.
        </strong> <br>
        By introducing tools that visualize input saliency, the evolution of hidden states, and neuron activations, we aim to enable researchers to build more intuition about Transformer language models.
    </figcaption>
</figure>

<hr>

<h2 id="saliency">Input Saliency</h2>

<p>When a computer vision model classifies a picture as containing a husky, saliency maps can tell us whether the classification was made due to the visual properties of the animal itself, or because of the snow in the background<cite key="ribeiro2016whyribeiro2016why"></cite>. This is a method of <i>attribution</i> explaining the relationship between a model's output and inputs -- helping us detect errors and biases, and better understand the behavior of the system.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/dog-saliency-map.jpg">
    <figcaption>
        <strong>
            Figure: Input saliency map attributing a model's prediction to input pixels.
        </strong> <br>
    </figcaption>
</figure>

<p>Multiple methods exist for assigning importance scores to the inputs of an NLP model<cite key="li2015visualizing,arrieta2020explainable"></cite>. The literature is most often concerned with this application for classification tasks, rather than natural
    language generation. This article focuses on language generation. Our first interface calculates feature importance after each token is generated, and by
    hovering or tapping on an output token, imposes a saliency map on the tokens responsible for generating it.
</p>

<p>
    The first example for this interface asks GPT2-XL<cite key="radford2019language"></cite> for William Shakespeare's date of birth. The model is correctly able to produce the date (1564, but broken into two tokens: " 15" and "64", because the model's vocabulary does not include " 1564" as a single token). The interface shows the importance of each input token when generating each output token:
</p>
<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of Shakespeare's birth
            year using Gradient × Input.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        GPT2-XL is able to tell the birth date of William Shakespeare expressed in two tokens. In generating the
        first token, 53% of the importance is assigned to the name (20% to the first name, 33% to the last name).
        The next most important two tokens are " year" (22%) and " born" (14%). In generating the second token to
        complete the date, the name still is the most important with 60% importance, followed by the first portion
        of the date -- a model output, but an input to the second time step. <br>
        This prompt aims to probe world knowledge. It was generated using greedy decoding. Smaller variants of GPT2
        were not able to output the correct date.
    </figcaption>
</figure>

<p>Our second example attempts to both probe a model's world knowledge, as well as to see if the model
    repeats the patterns in the text (simple patterns like the periods after numbers and like new lines, and
    slightly more involved patterns like completing a numbered list). The model used here is DistilGPT2<cite key="sanh2020distilbert"></cite>.
</p>

<p>This explorable shows a more detailed view that displays the attribution percentage for each token -- in case you need that precision.</p>

<figure>
   
    
    <br>
    <figcaption>
        <strong>Explorable: Input saliency of a list of EU countries</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was generated by DistilGPT2 and attribution via Gradients X Inputs. Output sequence is cherry-picked to
        only include European countries and uses sampled (non-greedy) decoding. Some model runs would include China,
        Mexico, and other countries in the list. With the exception of the repeated " Finland", the model continues
        the list alphabetically.

    </figcaption>
</figure>

<p>Another example that we use illustratively in the rest of this article is one where we ask the model to complete
    a simple pattern:</p>

<figure>
   
    
    
    <figcaption>
        <strong>Explorable: Input saliency of a simple
            alternating pattern of commas and the number one.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        Every generated token ascribes the first token in the input the highest feature importance score. Then
        throughout the sequence, the preceding token, and the first three tokens in the sequence are often the most
        important. This uses Gradient × Inputs on GPT2-XL. <br>
        This prompt aims to probe the model's response to syntax and token patterns. Later in the article, we build
        on it by switching to counting instead of repeating the digit ' 1'. Completion gained using greedy decoding.
        DistilGPT2 is able to complete it correctly as well.
    </figcaption>
</figure>

<p>It is also possible to use the interface to analyze the responses of a transformer-based conversational agent.
    In the following example, we pose an existential question to DiabloGPT<cite key="zhang2020dialogpt"></cite>:
</p>

<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of DiabloGPT's answer to the ultimate question</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was the model's first response to the prompt. The question mark is attributed the highest score in the
        beginning of the output sequence. Generating the tokens " will" and " ever" assigns noticeably more importance to
        the word " ultimate".
        This uses Gradient × Inputs on DiabloGPT-large.

    </figcaption>
</figure>

<p><a href="https://colab.research.google.com/github/jalammar/ecco/blob/main/notebooks/Ecco_Input_Saliency.ipynb"><img src="https://jalammar.github.io/images/explaining/colab-badge.svg"></a>
</p>

<h3>About Gradient-Based Saliency</h3>
<p>Demonstrated above is scoring feature importance based on Gradients X Inputs<cite key="denil2015extraction,shrikumar2017just"></cite>-- a gradient-based saliency method shown by Atanasova et al.<cite key="atanasova2020diagnostic"></cite>
    to perform well across various datasets for text classification in transformer models.
</p>

<p>To illustrate how that works, let's
    first recall how the model generates the output token in each time step. In the following figure, we see how
    <span>①</span>
    the
    language model's final hidden state is projected into the model's vocabulary resulting in a numeric score for
    each
    token in the model's vocabulary. Passing that scores vector through a softmax operation results in a probability
    score for each token. <span>②</span> We proceed to select a token
    (e.g. select the highest-probability scoring token, or sample from the top scoring tokens) based
    on
    that vector.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/111.PNG">
    <figcaption>
        <strong>
            Figure: Gradient-based input saliency
        </strong>
    </figcaption>
</figure>

<p><span>③</span> By calculating the gradient of the
    selected logit (before the softmax) with respect to the inputs by back-propagating it all the way back to the
    input tokens, we get a signal of how important each token was in the calculation resulting in this generated
    token.
    That assumption is based on the idea that the smallest change in the input token with the highest
    feature-importance
    value makes a large change in what the resulting output of the model would be.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/gradXinput.PNG">
    <figcaption>
        <strong>
            Figure: Gradient X input calculation and aggregation
        </strong>
    </figcaption>
</figure>

<p>The resulting gradient vector per token is then multiplied by the input embedding of the respective token. Taking
    the L2 norm of the resulting vector results in the token's feature importance score. We then normalize the
    scores by dividing by the sum of these scores.</p>

<p>More formally, <span>gradient</span> × <span>input</span> is described as follows:</p>

<p>
    <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">∥</mo><msub><mi mathvariant="normal">∇</mi><msub><mi>X</mi><mi>i</mi></msub></msub><msub><mi>f</mi><mi>c</mi></msub><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mn>1</mn><mo>:</mo><mi>n</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>X</mi><mi>i</mi></msub><msub><mo stretchy="false">∥</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex"> \lVert \nabla _{X_i} f_c (X_{1:n})  X_i\lVert_2</annotation></semantics></math></span></span>
</p>

<p>
    Where <span id="input_term"></span> is the embedding vector of the input token at timestep <i>i</i>, and <span id="grad"></span> is the back-propagated gradient of the score of the selected token unpacked as follows:
</p>
<ul>
    <li>
        <span id="input_embeddings"></span> is the list of …</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jalammar.github.io/explaining-transformers/">https://jalammar.github.io/explaining-transformers/</a></em></p>]]>
            </description>
            <link>https://jalammar.github.io/explaining-transformers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508118</guid>
            <pubDate>Tue, 22 Dec 2020 16:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nix core contributor joins Scarf to build foundations of new developer tooling]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508112">thread link</a>) | @aviaviavi
<br/>
December 22, 2020 | https://about.scarf.sh/post/shea-levy-composition-fanatic | <a href="https://web.archive.org/web/*/https://about.scarf.sh/post/shea-levy-composition-fanatic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>Hello Scarf followers! I'm Shea, Scarf's new VP of Engineering. This post is to share some of who I am, what problems I'm interested in, and why that brought me to Scarf. I hope it gives you a sense of what this new role means for our mission to give open source maintainers observability into the distribution and usage of their projects!</p><p>In my career so far, I've been exposed to a wide array of problem domains and industries. I've worked in embedded hardware, industrial sensors, online retail, personalized marketing, inventory management, SaaS platforms, statistical analysis for research... It's been a fascinating journey! While my roles and responsibilities have varied, over time I've developed a number of themes in my approach to work:</p><ul role="list"><li>I am passionate about the big-picture product perspective. I am not satisfied writing a single line of code until I understand what value we're trying to create, for whom, and why the task at hand helps achieve that.</li><li>I consider proper organizational structure and practices to be crucial to my own effectiveness, not to mention the overall success of the effort. Team values, formal process, responsibilities, expectations, etc. should be as carefully designed and cultivated as the product itself.</li><li>I gravitate toward "force multiplier" aspects of the work. I'm much more likely to build a tool that helps build the end-user features than to build the feature itself, more likely to tie all of the components together than to build the component itself. My success is often measured by the problems that don't arise and the lack of difficulty others face in their work. I tend to <a href="https://startupsunplugged.com/startup-data/selling-shovels-in-the-new-gold-rush/">sell shovels, not mine gold</a>.</li></ul><p>Essentially, I'm focused on designing and building the foundations and framework required to successfully achieve the right goals.</p><h2>Barriers to composition</h2><p>One of the most important cognitive methods in an engineer’s repertoire is <strong>compositional thinking</strong>, i.e. thinking about a system in terms of fundamental components viewed as units to be combined in order to achieve the relevant functionality. We can concretize this as a set of questions to ask yourself: What are the basic building blocks of this domain, what are their individual natures, and how should we put them together to build a system whose combined characteristics meet our needs?</p><p>Suppose, for example, we want to improve the development experience for our engineering team. We break down each developer’s workflow into steps, understand the importance of these individual steps to the developer’s job, and then look at how they lead into and support each other to guide our approach to implementing each individual stage and their interfaces. Or, we want to compute how much inventory to send from our distribution centers to our stores to ensure customers find what they’re looking for with minimal operational costs. In this case, we break down the computation into individual calculations that can be solved separately, identify the inputs required for those calculations (including previous calculations!), and combine all of the steps to get the desired result.</p><p>It's hardly a novel observation that composition is a central activity in software engineering (or really in any field). Why, then, is it usually much more difficult than it needs to be? If I've already done the hard work of identifying which tools would be useful for developers on my team, why do we then each need to manually fight with our package managers to get the right versions installed? I’ve figured out what each of our microservices should do and how they should interoperate. Now not only do I need an infrastructure expert to get them deployed into production, but I need a completely different system for my teammates to run them locally. Why?</p><p>In most domains, a significant amount of our time is spent translating from our carefully designed notions of our systems to the ad hoc, operational, leaky abstractions that implement them, or working around mismatches between what we wanted and what the system is able to give. And that's before we even consider composing <em>across</em> domains! We can do better.</p><h2>Breaking the barriers with Scarf</h2><p>So where does Scarf fit in? Scarf is dedicated to the same things I am: laying the social and technical foundations and building the tools to enable developers to work more effectively, to acquire better information about the value of their products, and to trade the higher quality work that results for the resources needed to go further. In particular, effective composition is a core technical requirement for Scarf.&nbsp; Our entire approach is centered around understanding and improving how end-users leverage our maintainers' products to build their own, a deeply compositional process!</p><p>Scarf wants to improve composition, and so do I; I know how to do it, and Scarf can make it a success. We see an opportunity to work together to make this a reality.</p><p>And so that's what I'll be working on! There is a lot of development to do and many minds to convince; watch this space to follow along with what's next!</p></div></div></div></div>]]>
            </description>
            <link>https://about.scarf.sh/post/shea-levy-composition-fanatic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508112</guid>
            <pubDate>Tue, 22 Dec 2020 16:40:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Startup Valuation Nest – Check startup valuations in your industry]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25507578">thread link</a>) | @scherbak
<br/>
December 22, 2020 | https://unicorn-nest.com/valuation/ | <a href="https://web.archive.org/web/*/https://unicorn-nest.com/valuation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><p>Pick your stage and industry to see the <b>average startup valuation</b> in your vertical and how it changed since 2015,<br> check the <b>revenue to valuation multiplier</b>, and get a <b>list of top investors</b> in similar rounds.</p></div></div><div><div> <p><label>  </label> <label>  </label> <a href="" id="valuation_filter">Check valuation</a></p><p>Please pick both the stage and the industry to see the result.</p></div></div></section><section><div><div><p>Historic average valuations of <span id="seed_title"></span> rounds <span id="industry_title"></span> since 2015</p></div></div></section><section><div><div><p>Current revenue to valuation multiplier</p><div><p>Multiplier for <br><b>Agriculture</b> is</p><p><span>8.8</span> <span>*</span></p></div><p> * Multiply your annual revenue by the multiplier to check the approximate valuation of your startup. We calculated this number based on the most recent data.</p></div></div></section><section><div><div><p>Top 5 most active industry investors since 2015</p><div><table><thead><tr><th>Fund</th><th># of investments in<br> the vertical</th><th>% of portfolio<br> investments</th><th>Geo investment<br> focus</th><th>Headquarters</th></tr></thead><tbody><tr><td></td></tr></tbody></table><div><div><p>The data about investments is time-sensitive.</p><p>Learn what investors we consider the most relevant for you right now.</p></div></div></div></div></div></section><section><div><div><p>about Startup VAluation Nest</p><p>Unicorn Nest analytics team provides historical data on average startup valuation at the time of investment for <b>55 industry groups since 2015</b>.<br> All the data is based on <b>Unicorn Nest Dataset</b>, the most comprehensive, verified and constantly updated dataset of venture capital investors, startups and deals.</p></div></div></section><section></section></div></div>]]>
            </description>
            <link>https://unicorn-nest.com/valuation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507578</guid>
            <pubDate>Tue, 22 Dec 2020 16:00:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Should you Work Hard? (2019)]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 149 (<a href="https://news.ycombinator.com/item?id=25507413">thread link</a>) | @axiomdata316
<br/>
December 22, 2020 | https://jacobobryant.com/post/2019/alignment/ | <a href="https://web.archive.org/web/*/https://jacobobryant.com/post/2019/alignment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Should you work hard? Depending on your definition of "hard," it's a
<a href="https://twitter.com/elonmusk/status/1067173497909141504" target="_blank">controversial question</a>. Let's assume a
baseline level of hardness is roughly 40 hours per week of mostly focused work.
In other words, this is your typical "good employee" at a 9-to-5: they do their
time and they do good work, then they go home and focus on other things. This
is very respectable.</p><p>What about going above and beyond? There are two sides to this. Bronnie Ware
says that one of the top five <a href="https://bronnieware.com/blog/regrets-of-the-dying/" target="_blank">regrets of the
dying</a> is "I wish I
hadn't worked so hard":</p><blockquote>
<p>This came from every male patient that I nursed. They missed their children's
youth and their partner's companionship. Women also spoke of this regret. But
as most were from an older generation, many of the female patients had not been
breadwinners. All of the men I nursed deeply regretted spending so much of
their lives on the treadmill of a work existence.</p>
</blockquote><p>On the other hand, we can probably all think of several highly successful people
who worked more than 40 hours per week. My favorite example is Henry Eyring, the
chemist. <a href="https://www.goodreads.com/book/show/2300985.Mormon_Scientist" target="_blank">His
biography</a> is one
of the few books I've read twice, and he's one of my personal role models. He
was ambitious, worked extremely hard and achieved a lot—but he did this without
compromising on anything more important. He was a good husband, father, teacher
and leader. He touched the lives of many.</p><p>There are additional arguments for both sides of the debate. But what's the
resolution to this paradox? I think it's something that I've started calling
"alignment." Alignment is the situation in which there's a high correlation
between the effort you put into life and the good that comes out. In other
words, it's when your work is aligned with what's most important.</p><p>I hypothesize that the real problem with many of Bronnie
Ware's patients wasn't that they worked too hard—the problem is that they
worked too hard on things that, at the end of the day, weren't as important to
them as they thought. Notice that the #1 regret was "I wish I'd had the
courage to live a life true to myself, not the life others expected of me."
Perhaps the regret of working too hard was really just a symptom of this deeper
regret.</p><p>If you want to spend your life working really hard, it's critical to mould
yourself and your situation until working hard is actually worth it. Otherwise
you have two bad choices:</p><ul>
<li>Work hard and later regret that you neglected more important things</li>
<li>Don't work hard and later regret that you didn't fulfill your dreams</li>
</ul><p>I really like <a href="http://blog.samaltman.com/how-to-be-successful" target="_blank">Sam Altman's
advice</a> on "how to
achieve outlier success." I think it describes well this idea of alignment:</p><p>(Update since this got on HN and some people are taking issue with part of the quote:
read the whole post, or at least the opening two paragraphs, the footnote, and the
parts of the quote I ellided.)</p><blockquote>
<p>Almost everyone I've ever met would be well-served by spending more time
thinking about what to focus on. It is much more important to work on the right
thing than it is to work many hours. Most people waste most of their time on
stuff that doesn't matter.</p>
<p>Once you have figured out what to do, be unstoppable about getting your small
handful of priorities accomplished quickly. I have yet to meet a slow-moving
person who is very successful. ...</p>
<p>You can get to about the 90th percentile in your field by working either smart
or hard, which is still a great accomplishment. But getting to the 99th
percentile requires both.... Working a lot comes with huge life trade-offs,
and it's perfectly rational to decide not to do it. But it has a lot of
advantages. ... And it's often really fun. One of the great joys in life is
finding your purpose, excelling at it, and discovering that your impact
matters to something larger than yourself.</p>
<p>It's not entirely clear to me why working hard has become a Bad Thing in
certain parts of the US.... I think people who pretend you can be super
successful professionally without working most of the time (for some period of
your life) are doing a disservice.</p>
<p>One more thought about working hard: do it at the beginning of your career. Hard
work compounds like interest, and the earlier you do it, the more time you have
for the benefits to pay off.</p>
</blockquote><p>I've had several different experiences with alignment over the past six years:</p><ul>
<li>
<p>For a large, early chunk of my mission, I was completely out of alignment.
I didn't enjoy being a missionary at all—it was a living hell—and it seemed
like our efforts didn't make a difference anyway.</p>
</li>
<li>
<p>I changed a lot partway through my mission. One of the things I most enjoyed
about the end of my mission was the satisfaction of working hard all day, every
day on something that mattered.</p>
</li>
<li>
<p>Although my experience at BYU was positive overall, there was lots of
pressure from the system to work very hard, even though a large chunk of my
time was spent on things that didn't contribute to my education (this
category includes a lot of homework, most lectures, and almost all exams).</p>
</li>
<li>
<p>Being an employee was alright. I went in with the desire to make a real
contribution to Lucid and I like to think I achieved that goal. Although it
wasn't the work I wanted to spend the rest of my life on, I did learn a lot
and the money I saved up is a great benefit to me now.</p>
</li>
<li>
<p>Now that I've quit my job and have become a startup founder, it's
the first time since my mission where
I feel that I have perfect alignment. I work a
lot, but it doesn't feel like work. I don't look forward to the weekends
anymore; I love every day. Things will get more stressful as we progress, but
I'm excited.</p>
</li>
</ul><p>For me, having alignment means being a startup founder because I'm ambitious and
there are specific things I want to build—I'm not satisfied by working on
whatever the company that hired me happens to be building. But all that being
said, alignment is important for everyone, regardless of what your individual
goals and desires are. As with most <a href="https://www.goodreads.com/book/show/18176747-the-hard-thing-about-hard-things" target="_blank">hard
things</a>,
there's no formula for alignment. You have to figure out what it means for you
and how to get it. But being aware of the concept is at least the first step.</p><p>I write this all as a reminder to myself. I hope my life never falls out
of alignment.</p></div></div>]]>
            </description>
            <link>https://jacobobryant.com/post/2019/alignment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507413</guid>
            <pubDate>Tue, 22 Dec 2020 15:48:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sweden edges closer to NATO membership]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 145 (<a href="https://news.ycombinator.com/item?id=25506945">thread link</a>) | @Tomte
<br/>
December 22, 2020 | https://www.politico.eu/article/sweden-nato-membership-dilemma/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/sweden-nato-membership-dilemma/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
									
							<div id="amazon-polly-audio-table">
				<p>Press play to listen to this article</p>
				
		</div>
<p>STOCKHOLM — Sweden is rethinking its security, and whether it really is safest outside NATO.</p>



<p>Two years out from the next election, debate over whether to join the Western defense alliance is intensifying, setting up a left-versus-right clash on the question in 2022.&nbsp;</p>



<p>The current minority government of Social Democrats and Greens — plus their allies the Left Party — remain staunchly against, citing the value of neutrality in what they see as a polarizing world.</p>



<p>On the other side, four traditionally allied center-right parties — the Moderate Party, the Liberals, the Center Party and the Christian Democrats — are in favor, saying Sweden needs the security of the defense guarantees that NATO membership offers.&nbsp;</p>



<p>The pro-NATO side scored a big win last week when the far-right Sweden Democrats, who are angling for closer cooperation with the center-right bloc in a range of policy areas, reversed a previous anti-NATO stance and backed a motion for Sweden to adopt a so-called NATO option — allowing it to join NATO at some point in the future.&nbsp;Parliament voted in favor of the motion by 204 votes to 145.&nbsp;</p>



<p>“Issues of defense don’t normally sit high on the agenda in elections here, but since the Sweden Democrats have now moved their position, we could well see more interest,” said Allan Widman, a lawmaker with the Liberal Party and spokesman on defense policy.&nbsp;</p>



<p>Adopting a “NATO option” is not a commitment to join — Finland has had such an option since 1995 and remains outside the pact — but is widely seen as a movement in that direction. The government has acknowledged as much by so far refusing to act on it.&nbsp;</p>



<p>Foreign Minister Ann Linde called parliamentary backing for the move “a significant negative event for Swedish security.”</p>



<p>For Sweden, joining NATO would be a big policy shift, as it would end more than 200 years of official military neutrality. The country has not formally taken sides in a war since Napoleon was advancing across Europe, and has over recent years sought to carve out a diplomatic role as an impartial international arbiter while at the same time developing a closer partnership with NATO.&nbsp;</p>



<p>Swedish NATO membership would also shake up a delicate balance of power in the volatile Baltic Sea region, where officially unaligned Sweden and Finland and NATO members Denmark, Germany, Poland and the Baltic states regularly face off against Russia.&nbsp;</p>



<p>In August, Sweden <a rel="noreferrer noopener" href="https://www.politico.eu/article/security-alert-sweden-gotland-cold-war-memories/" target="_blank">deployed</a> troops to its Baltic island of Gotland after a security scare triggered by Russian warships sailing close to the island.&nbsp;</p>



<p>Russian military jets regularly enter Swedish airspace without permission and many pointed the finger at Russia when a mysterious submarine was detected in waters close to the capital Stockholm in 2014.</p>



<p>Analysts say that last week’s vote in the Swedish parliament on the NATO option likely signals the start of a new phase in the wrangling over full entry into the alliance.&nbsp;</p>



<p>“We can now expect a more comprehensive political debate about an eventual Swedish membership,” Calle Håkansson, an analyst at the think tank the Swedish Institute of International Affairs, told public service television.&nbsp;</p>



<p>The arguments of both sides are already clear. The Social Democrats’ resistance is based on a long-held belief that Sweden’s “freedom from alliances,” as the party calls it, has served the country well.&nbsp;</p>



<p>Defense Minister Peter Hultqvist has engineered a range of joint training exercises with NATO, such as the cold weather <a rel="noreferrer noopener" href="https://shape.nato.int/news-archive/2019/nato-allies-participate-in-swedish-exercise-northern-wind" target="_blank">exercise </a>Northern Wind in Sweden in March 2019, but at every turn, he has sought to underline Swedish independence.</p>



<p>The Social Democrats say that joining NATO would represent unnecessary antagonization of Russia, and risk destabilizing an already tense security situation along Europe’s eastern flank.&nbsp;</p>



<p>“We don’t want to go down a road of security policy experiments or adventurism,” Hulqvist <a href="https://www.dn.se/debatt/m-tycks-vara-ensidigt-fokuserade-pa-nato-medlemskap/" target="_blank" rel="noreferrer noopener">wrote</a> in an editorial in August.&nbsp;</p>



<p>Meanwhile, Widman, of the pro-NATO Liberals, said Sweden’s strategy has left it in a security “no-man’s land,” viewed by Russia as part of the “European security system” but lacking the guarantee of the NATO members’ commitment to mutual defense.</p>



<p>“That is a very dangerous position to find yourself in,” he said.&nbsp;</p>



<p>While public support for NATO membership in Finland has remained low and steady, in Sweden it has been rising.&nbsp;</p>



<p>Research by Gothenburg University’s SOM Institute <a rel="noreferrer noopener" href="https://www.gu.se/sites/default/files/2020-06/7.%20Swedish%20trends%20%281986-2019%29_v2.pdf" target="_blank">shows</a> roughly equal support (around 30 percent) for joining NATO as those opposed. In 1994, when the SOM Institute began researching the question, 48 percent said joining was a bad idea versus 15 percent in favor.&nbsp;</p>



<p>How the issue develops will depend on the rival sides’ abilities to convince voters ahead of the 2022 vote. If the pro-NATO side does well at the polls and knock the minority center-left incumbents out of power, they could push for a referendum on the question, experts say.&nbsp;</p>



<p>Moderate Party leader Ulf Kristersson has previously said that he believes Sweden will be a member of NATO before the decade is out and he called the NATO option vote “historic.” In a social media <a rel="noreferrer noopener" href="https://www.instagram.com/p/CIkl1Cdp4IU/" target="_blank">post</a>, he said it would allow Sweden to “update and modernize” its security stance and tell the world that Sweden is ready to join NATO at a future point of its choosing.</p>



<p>“A government can’t just look away from a parliamentary majority view in a foreign policy or security question,” he said. “We expect the government to get behind the parliament’s security policy line.”</p>
								</div></div>]]>
            </description>
            <link>https://www.politico.eu/article/sweden-nato-membership-dilemma/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506945</guid>
            <pubDate>Tue, 22 Dec 2020 15:12:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ToriLisp – an ersatz Lisp for tiny birds]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506759">thread link</a>) | @grzm
<br/>
December 22, 2020 | http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/ | <a href="https://web.archive.org/web/*/http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="body">

                <div id="post-6698">
                 <h3><a href="http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/" title="ToriLisp – an ersatz LISP for tiny birds">ToriLisp – an ersatz LISP for tiny birds</a></h3>
                 <p><span>Dec 22, 2020 </span></p><p>When deciding to work on a side-project three factors are needed to transition from fancy to application: goal, motivation, and time.</p>

<p>Time is usually the biggest sticking point for me personally but with COVID most of what I may have spent my time on this year was cancelled. However, motivation was still a huge sticking point until I came across a couple of projects that helped propel me forward. First, I spent some time earlier this year combing over <a href="https://twitter.com/maryrosecook">Mary Rose Cook</a>‘s lovely <a href="https://github.com/maryrosecook/littlelisp">Little Lisp</a> interpreter code. Given what I knew about Mary’s previous projects it was no surprise that the Little Lisp implementation was simple and elegant. However, what I wasn’t prepared for was that hacking on the interpreter turned out to be straight-forward and addictive. However, it wasn’t until I re-discovered <a href="https://twitter.com/wtaysom">William Taysom</a>‘s old Scheme-like language <a href="https://web.archive.org/web/20090625142941/http://moonbase.rydia.net/mental/blog/programming/misp-is-a-lisp">Misp</a> that I had a form for the interpreter in mind. At the time of William’s original blog posts about Misp I was drawn to his passion and enjoyed the implementations of the language that he posted.<sup id="fnref:dustbin"><a href="#fn:dustbin" rel="footnote">1</a></sup> Around the same time I found Paul Graham’s original Arc tutorial <a href="http://www.arclanguage.org/tut.txt">tut.txt</a> and used it extensively to guide me in what to implement next.<sup id="fnref:readme"><a href="#fn:readme" rel="footnote">2</a></sup> All discussion about Arc aside, I definitely appreciate the clarity and layout of the Arc tutorial and found it a great outline for a little language.</p>

<p>Finally, as some of you might know I <a href="https://www.amazon.com/gp/product/B00D624AQO?tag=fogus-20">dabbled in functional programming in JavaScript</a> and even went so far as to create a couple of libraries pushing the fringe of fp in js; namely <a href="https://github.com/fogus/lemonad">Lemonad</a> and <a href="https://github.com/documentcloud/underscore-contrib">underscore-contrib</a>. Some of the ideas in these libraries found their way into my own interpreter which ultimately pushed my code away from Misp, Little Lisp, and Arc into …something else — that something else I’m calling <strong>Tori Lisp — an ersatz LISP for little birds</strong>.</p>

<center>ToriLisp = Litle Lisp + Misp + tut.txt + Lemonad + underscore-contrib + a pinch of CLJ</center>

<p>Here’s a very small sample of the language:</p>

<pre><code>鳥&gt;  (let (x 3 y 4)
       (+ (* x 2) (* y 2)))
;;=&gt; 14

(def map
  (λ (fn list)
    (if (no list)
      list
      (cons (fn (first list))
            (map fn (rest list))))))

鳥&gt;  (map (+ 10) '(1 2 3))
;;=&gt; [ 11, 12, 13 ]

鳥&gt;  ({x y | (/ (+ x y) 2)} 2 4)
;;=&gt; 3

鳥&gt;  (len "abc")
;;=&gt; 3
鳥&gt;  (len {a | a})
;;=&gt; 1
鳥&gt;  (len +)
;;=&gt; 2

鳥&gt;  (read "(push [1] 'Z)")
;;=&gt; [ "'push", [ "'list", 1 ], [ "'quote", "'Z" ] ]
鳥&gt;  (eval (read "(push [1] 'Z)"))
;;=&gt; [ "'Z", 1 ]  
</code></pre>

<p>If I wanted to present a list of features then the following list would work:<sup id="fnref:mac"><a href="#fn:mac" rel="footnote">3</a></sup></p>

<ul>
<li>Functional</li>
<li>Immutable access to JavaScript arrays and hash-maps.</li>
<li>Function auto-currying</li>
<li>Function introspection</li>
<li>Bottoms-out at JavaScript structures and functions</li>
<li>ML-like Refs</li>
<li>Lightweight syntax for common language forms</li>
</ul>

<p>If you’re interested in checking out the language then the <a href="https://github.com/fogus/tori-lisp">ToriLisp Github repository</a> has a quick start, test suite, and its own tut.txt.</p>



            </div>
            <!-- end comments_wrapper -->            </div></div>]]>
            </description>
            <link>http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506759</guid>
            <pubDate>Tue, 22 Dec 2020 14:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WHO says no need for major alarm over new coronavirus strain – CTV News]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25506698">thread link</a>) | @mrfusion
<br/>
December 22, 2020 | https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287 | <a href="https://web.archive.org/web/*/https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>GENEVA/ZURICH -- 
	The World Health Organization cautioned against major alarm over a new, highly infectious variant of the coronavirus that has emerged in Britain, saying this was a normal part of a pandemic's evolution.</p>
<p>
	WHO officials even put a positive light on the discovery of the new strains that prompted a slew of alarmed countries to impose travel restrictions on Britain and South Africa, saying new tools to track the virus were working.</p>
<p>
	"We have to find a balance. It's very important to have transparency, it's very important to tell the public the way it is, but it's also important to get across that this is a normal part of virus evolution," WHO emergencies chief Mike Ryan told an online briefing.</p>
<p>
	"Being able to track a virus this closely, this carefully, this scientifically in real time is a real positive development for global public health, and the countries doing this type of surveillance should be commended."</p>
<ul>
	<li>
		<a href="https://www.ctvnews.ca/newsletters/the-covid19-brief-newsletter-signup"><strong>Newsletter sign-up: Get The COVID-19 Brief sent to your inbox</strong></a></li>
</ul>
<p>
	Citing data from Britain, WHO officials said they had no evidence that the variant made people sicker or was more deadly than existing strains of COVID-19, although it did seem to spread more easily.</p>
<p>
	Countries imposing travel curbs were acting out of an abundance of caution while they assess risks, Ryan said, adding: "That is prudent. But it is also important that everyone recognizes that this happens, these variants occur."</p>
<p>
	WHO officials said coronavirus mutations had so far been much slower than with influenza and that even the new UK variant remained much less transmissible than other diseases like mumps.</p>
<p>
	They said vaccines developed to combat COVID-19 should handle the new variants as well, although checks were under way to ensure this was the case.</p>
<p>
	"So far, even though we have seen a number of changes, a number of mutations, none has made a significant impact on either the susceptibility of the virus to any of the currently used therapeutics, drugs or the vaccines under development and one hopes that will continue to be the case," WHO Chief Scientist Soumya Swaminathan told the briefing.</p>
<p>
	The WHO said it expects to get more detail within days or weeks on the potential impact of the highly transmissible new coronavirus strain.</p>
<p>
	<em>Reporting by Emma Farge in Geneva and Michael Shields in Zurich; Writing by Josephine Mason; editing by Mark Heinrich.</em></p>
                                              </div></div>]]>
            </description>
            <link>https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506698</guid>
            <pubDate>Tue, 22 Dec 2020 14:46:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[India’s booming dark data economy]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506681">thread link</a>) | @pseudolus
<br/>
December 22, 2020 | https://restofworld.org/2020/all-the-data-fit-to-sell/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/all-the-data-fit-to-sell/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><span>A</span>yushi Sahu was ambushed. One evening in 2018, five months after her wedding, the 21-year-old college student was visiting her parents in the central Indian state of Chhattisgarh, when her husband showed up unannounced, his father and uncle in tow.</p>



<p>As the men settled in the living room, her husband said he had something he wanted them to hear. He took out his mobile phone and pressed “play.” The audio was loud and clear: private conversations between Sahu and her friends and family,<strong> </strong>which had been recorded without her permission. And it wasn’t only audio: “call logs, SMS, and WhatsApp messages, each photo and video, recordings of my video calls — he claimed to have accessed everything,” Sahu said. That was when she realized that her husband had, for months, been spying on her.</p>



<p>This was also how Sahu learned of certain things he had been holding against her. (Her name has been changed to protect against retaliation.) He had been offended to hear her complaining to her mother about problems with her in-laws. And he objected to her talking to a male friend. “He made a scene as if he was ‘exposing’ me,” Sahu recalled. “I was just sharing my concerns. That’s normal.”</p>



<p>Her husband played several more recordings, until his father eventually intervened. “I don’t want to listen to any more of this. You have heard it all? Okay, then,” he said, before reaching out to comfort Sahu, who was still in shock.</p>



<p>After processing the experience, Sahu decided she was willing to shrug it off, apologize, and move on, but her new husband continued to behave strangely. Eventually, she felt she had no choice but to end the marriage. “I don’t understand why he had to take this spying route,” she reflected. “He could have just asked. You know, in India, men can scold their wives, right? He could have done that. What was the need to go so deep into my phone and record my conversations?”</p>



<p>Sahu has no idea how her phone was bugged or for how long she was surveilled. But she has one clue: Her Vivo smartphone was an engagement gift from her husband.</p>



<p>It is likely that Sahu’s phone had off-the-shelf spyware on it. Her husband may have installed it himself or even consulted a private detective before marrying her, who provided him with the phone. In either case, he would have been part of a growing trend of individuals — often, jealous lovers — making use of personal surveillance technology.</p>



<p>According to Kunwar Vikram Singh, the chairman of the Association of Private Detectives and Investigators in India, it’s now common for wealthy families to assess the suitability of a potential bride or groom by hiring a private detective, a vetting that usually costs around $500. He attributes this to India’s changing social mores, especially among urban elites. “Work culture has changed. Values have changed,” Singh reflected, citing the influx of women into the workforce as one contributing factor. “We tell people, ‘You spend lakhs and crores on marital ceremonies; spend a few thousand on investigators’,” he said.</p>



<p>Whatever the reason, India’s private-detective services have been growing over the past decade. Singh estimates that the sector is now worth roughly $1.2 billion<strong> </strong>nationally. But because of the sensitive nature of the field, it’s impossible to know for sure: There are no official statistics, and many clients still pay in cash. “They don’t want to leave any footprint,” he noted.</p>



<p>The services offered by the detectives mainly fall into two categories: corporate and personal. The corporate investigations often involve banks hiring investigators to get information on shifty borrowers and financial firms looking for background checks on employees. The personal services range from child monitoring to matrimonial background checks. Every agency has its own specialization. Karnam Choudhary, a Jaipur-based detective who operates the Siyol Detective Network, which has around 1,500 freelance private investigators across the country, says that “since 2016, personal cases make up almost 70%.”</p>



<p>The boom in business has coincided with a growing reliance on consumer-grade spyware. These are mostly smartphone apps that cannot easily be detected, secretly record all of a device’s activity, and route that data to a third-party dashboard. A private investigator’s first move used to be shadowing somebody in person; today, many of them begin by advising the client to present the object of their suspicion with a malware-infected smartphone.</p>



<p>Growing demand for spyware first caught the attention of India’s software engineers several years ago, long before the coronavirus pandemic led to a spike. In 2013, while researching viruses and cybersecurity for his final-year engineering project, Gujarat-based coder Tushar Mepani began meeting parents who wanted to keep closer tabs on their teenagers’ whereabouts. “I could not sleep at night when these millionaires told me about their kids’ behavior,” he said, apparently in earnest. The initial prototype of <a href="http://www.convants.com/">what became his first app for tracking children</a>, EasySpyPhone, was restricted to recording calls and collecting text messages and location data, but more recent iterations can spy on social media platforms like Facebook and WhatsApp, secretly turn on a phone’s microphone to record calls and video, and capture screenshots, all for around $20 or $40 per month. “Parents were very happy,” Mepani reflected. “They learned who their kids are friends with — and who is diverting them. The app has saved kids from being spoiled.”</p>



<figure><blockquote><p>“We had no idea at the time whether people would be interested in this, but it clicked with users.”</p></blockquote></figure>



<p>Mepani doesn’t sell only one or two products, however; through his Android spyware company, Convants Information Security, he licenses surveillance software to multiple vendors, who repackage it under different names. He won’t reveal the details of these arrangements, calling them “internal business,” but he claims to have made more than 20,000 sales. In 2014, Choudhary, the Jaipur-based detective, used Mepani’s software to launch his <a href="http://spymobileprocess.com/">agency’s own app, Spy Mobile Process</a>. Instead of paying for a full investigation, those who buy Choudhary’s app may use it to conduct their own inquiries, with guidance from detectives. “We had no idea at the time whether people would be interested in this,” he said. “But it clicked with users.”</p>



<p>All of this exists in a legal gray area. As of now, there are no laws in India regulating the selling or purchasing of so-called stalkerware. Nor is there much clarity about the privacy laws currently on the books. In India, it is not illegal to physically surveil a target, for instance, but things get fuzzier when it comes to tracking somebody’s location via mobile phone. Courts have been forced to establish statutes, case by case. In 2018, for instance, a family court in Delhi <a href="https://theprint.in/judiciary/evidence-collected-in-breach-of-privacy-does-not-make-it-inadmissible-in-court-delhi-hc/452288/">admitted evidence collected from spyware</a> in a case concerning a marital dispute, stating that the right to a fair trial outweighed privacy protections.</p>



<p>But staying on the right side of the law doesn’t seem to trouble many spyware vendors. Insofar as they are concerned about legal exposure, most will simply add disclaimers that place the onus on the user. Before installing software, the customer should get “proper written consent to do so by the owner of the smartphone” and understand that it is the “responsibility of the buyer to obey all laws of their country.”</p>



<p>In August 2020, Google introduced a new Ads Policy imposing restrictions on advertising for spyware and surveillance technology. “The updated policy will prohibit the promotion of products or services that are marketed or targeted with the express purpose of tracking or monitoring another person or their activities without their authorization,” the company wrote in its updated policy. However, Google made two exceptions: “private investigation services,” like Choudhary’s, and “products or services designed for parents to track or monitor their underage children,” like Mepani’s.</p>



<p>Private detectives who admit to using spyware almost universally insist that any problems stemming from it are the result of abuse. But what they say publicly is one thing, and how they market their services is another. While Choudhary claims his app is not intended for spying on spouses, a <a href="https://twitter.com/Siyol007/status/670517689576726528?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed&amp;ref_url=notion%3A%2F%2Fwww.notion.so%2FSahil-Chajotra-JK-detectives-0f27a3d4a117474eac2b15f591b5d764">November 2015 tweet</a> from his company’s official account said just the opposite. In a series of phone interviews, Mepani also denied marketing his product to jealous husbands and wives, even as his website made clear that these are target demographics. “But you know,” he added, “it is like a knife. You can cut fruits, or you can cut someone’s head.”</p>



<p>However unsettling, the spyware sector is only one small part of a much vaster infrastructure. More than 500 million people in India use the internet every month, creating troves of private information with every click, scroll, swipe, and download. What they watch, how they date, whom they work for, and where they spend their money is constantly being captured and monetized. All this has given rise to a multimillion-dollar dark data economy, in which no piece of information is too personal to trade.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-40x18.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-400x177.png 400w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-600x265.png 600w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1000x442.png 1000w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1600x708.png 1600w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<hr>



<p><strong>The black market</strong> for data, as it exists online in India, resembles those for wholesale vegetables or smuggled goods. Customers are encouraged to buy in bulk, and the variety of what’s on offer is mind-boggling: There are databases about parents, cable customers, pregnant women, pizza eaters, mutual funds investors, and almost any niche group one can imagine. A typical database consists of a spreadsheet with row after row of names and key details: Sheila Gupta, 35, lives in Kolkata, runs a travel agency, and owns a BMW; Irfaan Khan, 52, lives in Greater Noida, and has a son who just applied to engineering college. The databases are usually updated every three months (the older one is, the less it is worth), and if you buy several at the same time, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2020/all-the-data-fit-to-sell/">https://restofworld.org/2020/all-the-data-fit-to-sell/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2020/all-the-data-fit-to-sell/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506681</guid>
            <pubDate>Tue, 22 Dec 2020 14:45:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Data Bugs and How to Fix Them]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506421">thread link</a>) | @edameme
<br/>
December 22, 2020 | https://dagshub.com/blog/data-bugs-how-to-fix-them/ | <a href="https://web.archive.org/web/*/https://dagshub.com/blog/data-bugs-how-to-fix-them/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              
              <p>As data scientists know from painful experience, bugs in the code usually aren't the big difficult problem. Data itself contains bugs, in the terms of the classic definition of bugs - unexpected behaviors, usually resulting from mistaken assumptions.</p><p>In this post, I'd like to share my personal story of a data bug, which is very indicative of the types of bugs you will come across in data science work.</p><p>At DAGsHub, we're creating tools to make these bugs easier to fix. I'll show how I applied these tools in this concrete case. Fixing data bugs is a challenging process and the tools aren't as amazing as we believe they could be. <em><strong>We're on it though! </strong></em>😉</p><h2 id="background"><strong>Background</strong></h2><p>The first tutorial we made for DAGsHub was a “standard” MNIST tutorial.</p><p>It was nice and simple - maybe too simple! A lot of users remarked that they're sick and tired of MNIST tutorials, that they don't represent reality at all - the data is already clean, balanced, labeled, and uniform. It's just straight-up images. Seeing an MNIST tutorial immediately puts them off since they feel you can make anything look good with MNIST, whether it's actually good or not.</p><p>So, we decided to create a new tutorial, based on real-world data. We decided to use the StackExchange API to generate a CSV file consisting of data from a lot of questions, specifically from CrossValidated which deals with questions about statistics. The questions include both text and tabular metadata. The label to predict was "is this tagged as a machine learning question or not?", which you can easily imagine as either a recommender system for the user writing the question or an engineered feature used in some backend BI or automation. The labels were also very unbalanced, with only 10% positive labels.</p><p>In short, this new tutorial represented reality much more faithfully than MNIST.</p><h2 id="the-problem"><strong>The problem</strong></h2><p>When I generated the original data, I didn't think about sorting by date - I just <strong>mistakenly assumed</strong> that I'll get back all the questions from the site's history or the latest questions. Oops. I think we've all been there at some point.</p><p>What I ended up getting is 50,000 samples, the upper limit of what the API is willing to return. Worse yet, the samples were not well distributed across time! If it had been a uniformly random selection, that would have been better. But I wasn't even that lucky. I don't know what weird sampling resulted in the time distribution that I actually got:</p><figure><img src="https://dagshub.com/blog/content/images/2020/12/compare_old_and_new_data-copy.png" alt="Comparing data distribution before and after fixing the data bug" srcset="https://dagshub.com/blog/content/images/size/w600/2020/12/compare_old_and_new_data-copy.png 600w, https://dagshub.com/blog/content/images/size/w1000/2020/12/compare_old_and_new_data-copy.png 1000w, https://dagshub.com/blog/content/images/size/w1600/2020/12/compare_old_and_new_data-copy.png 1600w, https://dagshub.com/blog/content/images/size/w2400/2020/12/compare_old_and_new_data-copy.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>A data scientist's before and after pic – comparing the data time distributions</figcaption></figure><p>The bottom line - although I successfully built a decent model on top of the data, the data I used was broken. <strong>I had an entirely data related bug, and no change in my code was going to fix it.</strong> I needed to replace the data completely. In other cases, maybe I would have discovered that there is a subset of the data which just needs to be thrown out manually. These kinds of stories are very common in real life.</p><h2 id="what-can-be-done-in-this-scenario-on-github"><strong>What can be done in this scenario on Github?</strong></h2><ul><li><em>Case 1:</em> The data is stored in some external storage, like S3, and a URL to download it is saved as part of the code on Github. In such a case I could go to the bucket and replace the data stored there. However, I would lose the old data, and maybe even worse, I would lose the relationship between the versions of the data and my existing code! Later on, figuring out which versions of my code, experiments, and resulting models originated from the broken data becomes exceedingly difficult. I'm likely to forget, and even if not, what happens when I'm on vacation or leave the company? Whoever tries to pick up my work is set up for failure.</li><li><em>Case 2:</em> What if I create a new version of the data on S3, name it <code>data_v2.csv</code>, and change the URL in my code? Welcome to Versioning Hell:</li></ul><figure><img src="https://lh5.googleusercontent.com/gaeI3db-6IXdHlVZaaTsW_2Sx05ik4VSxpFzgQOu802Qs7z5uZXanuB-_V6Os5Mt_r0bWOpSmLmGpgow_jf1cwCuPq2PQr7bavapBkGT4r2WZgm_5C7Dw1gvfr57zIDflUHz_N6u" alt=""></figure><ul><li><em>Case 3:</em> We use Git-LFS. Git-LFS is an extension to Git that allows you to efficiently version large files. It's not completely a part of Git - things like diffs and merges aren't supported, since it's too expensive to compute them on large data. What's more, you need a specialized server that can handle LFS. Luckily, GitHub does that. Unluckily, there are still problems - the amount of storage you get for your LFS is limited, and it's hardly a full-fledged data storage solution. I would much rather store these large files on some proper cloud storage, and find a convenient way to link them to my Git repo. What's more - GitHub provides very limited information on what has changed when you try to compare versions of these large files. A line-by-line diff is not practical, but I feel like there are more useful things to say than this:</li></ul><figure><img src="https://lh5.googleusercontent.com/RCMx178HiLbE7qxsZzjz1QXgKePFrAzBc6Et-8VKqz3h7ObTG6ykUy349yB-5SKCvb5F44RniDhhu0aq8BfSHmwoOMc7bPYdGVjNzpuQMDRlU3jWBJ1n5d-7WV4ZlsWASPOGXs7A" alt=" Git-LFS Data Diff"><figcaption>Git-LFS Data Diff (The number of modified lines is also not correct - the file is much larger)</figcaption></figure><p>Even if all the above technical issues are solved, there's one human aspect that's completely ignored - what is the impact of changing the data? OK, the file changed, but how does this affect my metrics? Is the data distributed differently now? Do I have visualizations I want to see before-and-after? In vanilla Git and Github, I can only meaningfully compare text and a few images.</p><h2 id="what-can-you-do-on-dagshub"><strong>What can you do on DAGsHub?</strong></h2><p>We rely on <a href="https://dvc.org/">DVC</a> to connect your data files to your Git commits - similar to Git-LFS, but much more flexible, allowing you to store your data on your own cloud storage, and have many other cool data-science specific features.</p><p>DAGsHub lets you see notebooks and intuitive notebook diffs, which help you understand the underlying data, and create a custom visual comparison of data versions. You can also view the contents of some data formats (more coming soon) as an integrated part of the UI. Comparing large datasets is also made possible by our Directory diffing capabilities. Finally, specifically for issues like this, we created <a href="https://dagshub.com/blog/data-science-pull-requests/">Data Science Pull Requests</a>, which lets you perform the same review process for data as you would with code.</p><p>With all these tools in hand, I can now just replace my data file with the new, corrected version, use DVC and Git to commit the new version, and voila! The data is now fixed...</p><p>...Well, almost. I still need to push the data to my remote, otherwise, the project is pretty useless to anyone not in possession of my laptop.</p><h2 id="setting-up-cloud-storage-is-hard"><strong>Setting up cloud storage is hard</strong></h2><p>OK, so now we can get a version-controlled pull request for data, with meaningful data science information to guide decisions. Our data is stored on full-fledged storage with world-scale capacity. Excellent!</p><p>But let's face it - setting up cloud storage is a pain in the neck. Credit cards? IAM? Bucket retention policies? Service accounts?</p><p>Blech 🤢 !</p><p>That's all way too hard. If we want open-source data science to flourish, we have to make it much more accessible. Well-intentioned people will want to help find and fix bugs, but we shouldn't force them to jump through hoops. Friction is a killer of creativity and productivity.</p><p><strong>It should be as easy as git push, and access control should be handled automatically.</strong></p><p>We're working hard at DAGsHub to make that a reality (stay tuned for more).</p><h2 id="summary"><strong>Summary</strong></h2><p>In real life, data is messy, and as much as you need to iterate on the code or the models, you need to iterate on your data and annotations. Reverting to old-school versioning hell is not a solution. Data should be treated as source code with its versions managed, and fixes to data should undergo the same review process that everything else does. More than that - to enable real open source, I want <strong><em>anyone</em></strong> to be able to contribute fixes to my data.<br></p>
                <section>
                  
                  <ul>
                      <li>
                        <a href="https://dagshub.com/blog/tag/collaboration/" title="Collaboration">Collaboration</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/data-science/" title="Data Science">Data Science</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/dvc/" title="DVC">DVC</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/open-source-data-science/" title="Open Source Data Science">Open Source Data Science</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/data-science-workflow/" title="Data Science Workflow">Data Science Workflow</a>
                      </li>
                  </ul>
                </section>
            </div></div>]]>
            </description>
            <link>https://dagshub.com/blog/data-bugs-how-to-fix-them/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506421</guid>
            <pubDate>Tue, 22 Dec 2020 14:13:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You Should Write a User Guide]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 41 (<a href="https://news.ycombinator.com/item?id=25506371">thread link</a>) | @opsgal
<br/>
December 22, 2020 | https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide | <a href="https://web.archive.org/web/*/https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>Decisions have always been hard for me, especially when I'm overwhelmed. For example, I break down in front of restaurants because I can't decide if I want to go in or pick a different restaurant.&nbsp;</span></p>
<p><span>Between working remotely and social distancing, I have spent a lot of time alone this year. The hardest part is needing to make way more decisions for myself. I have to decide when to get up, what to eat, what to work on, and what to do with my free time. Sure, these were largely in my control before, but I relied a lot on social pressure to choose.</span></p>
<p><span>When I was researching </span><a href="https://www.linkedin.com/in/aslawrence/" rel="follow noopener" target="_blank"><span>Adam</span></a><span> for </span><a href="https://boringstartupstuff.com/newsletter/dec-8th-2020-mastering-the-art-of-the-playbook" rel="follow noopener" target="_blank"><span>our interview</span></a><span>, I found his user guide </span><span></span><span>and decided to write one for myself. Both his and the one from the original </span><a href="https://firstround.com/review/the-indispensable-document-for-the-modern-manager/" rel="follow noopener" target="_blank"><span>First Round Review piece</span></a><span> are written from the perspective of a manager, but user guides can be just as helpful for individual contributors. The point is sharing how best to work with you, which is especially important at a time when fewer teams are in-person.&nbsp;</span></p>
<p><span>I created a template (</span><a href="https://www.notion.so/thekatieharper/User-Guide-Outline-e3130055035b455bab61c5400e96e66c" rel="follow noopener" target="_blank"><span>which you can copy here</span></a><span>) and then got stuck. Every bullet point represents a decision that I need to make about myself. My startup job requires me to make decisions constantly, and I actually enjoy that process. But I feel entirely different when it’s a personal decision.&nbsp;</span></p>
<p><span>User guides are essentially a branding exercise, and I worry that I will get called a liar for my choices. I brand myself as a morning person, a proactive doer, and a workaholic. But I’m writing this at night, at the last minute, having spent all weekend </span><i><span>not</span></i><span> working (though also somehow not relaxing). Are my stories based on truth or aspiration?</span></p>
<p><span>Decisions also open us up to rejection. By listing my preferences, personality traits, and pet peeves, I’m publishing a quick way to judge me. What if someone sees this and doesn’t want to work with me?</span></p>
<p><span>Often decisions feel selfish to me. When I decide what time of day I prefer meetings, I feel guilty for prioritizing my own wants over someone else’s. Writing a user guide forces you to confront the stories you tell about yourself. And you have to be vulnerable enough that people will actually learn something useful from reading what you write.&nbsp;</span></p>
<p><span>A year ago I was in a relationship with someone who never decided anything. Now I see that </span><i><span>not</span></i><span> deciding was selfish. And I don’t want to be that way.&nbsp;</span></p>
<p><span>In the end, this piece is my user guide, because it says more about me than a checklist can.</span></p>

</div></div>]]>
            </description>
            <link>https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506371</guid>
            <pubDate>Tue, 22 Dec 2020 14:08:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Libre Barcode Project]]>
            </title>
            <description>
<![CDATA[
Score 93 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25506298">thread link</a>) | @arthur2e5
<br/>
December 22, 2020 | https://graphicore.github.io/librebarcode/ | <a href="https://web.archive.org/web/*/https://graphicore.github.io/librebarcode/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        

<p>Libre Barcode fonts enable you to write barcodes in the</p>

<ul>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/code39">Code 39</a>,</li>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/code128">Code 128</a>, and</li>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/ean13">EAN/UPC</a></li>
</ul>

<p>formats, with or without text below the code. Visit the individual pages
for usage instructions and further information.</p>

<hr>
<p>The Code 128 Encoder is historically located at this URL and it stays here
to not break existing links to it. It is also included in the <a href="https://graphicore.github.io/librebarcode/documentation/code128#code128encoder">Code 128</a>
page.</p>

<h2 id="code-128-encoder"><a name="code128encoder">Code 128 Encoder</a></h2>

<p><label>Enter a text: </label></p>

<p>If it can be encoded with Code&nbsp;128 you will see a scannable barcode,
rendered with the <strong>Libre Barcode 128 Text</strong> font.</p>



<p><label> Copy the encoded text to use it with one of the <a href="https://fonts.google.com/?query=Libre+Barcode+128">Libre&nbsp;Barcode&nbsp;128&nbsp;fonts</a>:<br>
</label></p>


      </div>
    </div></div>]]>
            </description>
            <link>https://graphicore.github.io/librebarcode/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506298</guid>
            <pubDate>Tue, 22 Dec 2020 13:58:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to React to the Ledger Data Breach]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506289">thread link</a>) | @crecker
<br/>
December 22, 2020 | https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1 | <a href="https://web.archive.org/web/*/https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://serhack.me/images/ledger/ledger_breach.png" alt="Ledger Data Breach"></p><p><em>Post being continuously updated</em>.</p><p>If you think you are amongst the users affected by the latest <a href="https://ledger.com/">Ledger</a> data breach, it is important <strong>not to panic!</strong> Follow a few simple steps and you can check the extent of the damage and keep an eye on the security of your account.</p><h2 id="what-are-data-breaches">What are Data Breaches?</h2><p>One of the unfortunate side effects of the modern, Internet-connected world is the <a href="https://en.wikipedia.org/wiki/Data_breach">data breach</a> ― an uncontrolled leak of data and/or information. Very often is the case that you (the user) are not responsible for, or the cause of, such an intrusion. Companies have suffered (and will continue to suffer) embarrassing data breaches, whether it takes the form of server breaches, human error, or staff misconduct.</p><p>This information can range from usernames and passwords to tax IDs, physical addresses, and even payment details. These lists are then generally sold online to criminal groups who seek to use this information for profit.</p><h2 id="exploring-the-ledger-data-breach">Exploring the Ledger Data Breach</h2><p>I have already written about the <a href="https://serhack.me/articles/practical-analysis-ledger-phishing-email/">massive phishing campaign</a> that has been going on since early September 2020. However, it was only a matter of time before the attackers sold the database with over 1,000,000 email addresses.</p><p><img src="https://serhack.me/images/ledger/forum_breach.png" alt=""></p><p>The database containing the personal information of over 270,000 Ledger customers has been posted on RaidForums, a marketplace for buying, selling, and sharing information stolen from computer systems. It appears that the buying and selling is actually the result of a purchase on another forum by user <code>Burgulema111</code>.</p><p>The data leak includes two parts:</p><ul><li>The database containing the emails, personal addresses, and phone numbers of Ledger hardware wallet buyers (most likely obtained from a Shopify interface); and</li><li>A list of <strong>over 1 million</strong> emails from Ledger’s marketing campaign.</li></ul><p>Syntax of the DB file:</p><pre><code>[email]| [name_surname]| [address]| [city]| [state]| [mobile_phone]
</code></pre><h2 id="recommendations-to-follow">Recommendations to follow</h2><p>Below, I recommend 5 (+1) actions to take after such a large data breach:</p><h3 id="1-dont-send-your-seed">1. Don’t Send Your Seed!</h3><p>Whenever you are asked (especially in an unsolicited manner), do not reveal or send your seed to ANYONE. <strong>NEVER SEND YOUR SEED!</strong> Even if you think it is the CEO of Ledger himself: DO. NOT. DO. IT. A seed is a collection of 24 random words needed to retrieve the private key to your wallet. Revealing or sending this to anyone is analogous to telling someone the combination to your online safe.</p><p>Your funds are NEVER in danger if you follow common sense, which is to NEVER send or reveal your seed! Ignore emails that come to you about a detected, urgent security issue or an unverified account. If your email is on the list, consider it compromised.</p><h3 id="2-check-what-personal-data-they-have-stolen">2. Check What Personal Data They Have Stolen</h3><p>Through <a href="https://haveibeenpwned.com/">Have I Been Pwned</a> and <a href="https://intelx.io/?did=0b6c44ff-0c94-46c4-b8ad-b7cb762ba5c6">IntelX</a>, you should be able to search for your personal email address. This allows you to check whether or not, in addition to your email address, your personal address or your cell phone number has also been stolen.</p><p>By checking stolen personal information, you should be able to keep track of how much of your personal information has been disclosed and take subsequent countermeasures.</p><h3 id="3-consider-changing-your-email-address-andor-phone">3. Consider Changing Your Email address and/or Phone</h3><p>Once your email address is online, you will get lots of emails. Lists, such as Ledger’s, are recycled by spammers and attackers to create massive spam and phishing marketing campaigns. You should consider that email account compromised and, resultantly, you should open emails you receive very carefully! Even if it seems to you that the recipient may be trusted.</p><p>If you find that your primary email address is in the database, it is a good idea to change email accounts. While you might think that simply abandoning your old, compromised email address and updating your social accounts to the new email address that you have created would help, you might want to think twice. There is the risk that email providers can delete the email account and then there could eventually be an account takeover. So, do not completely abandon your old email address when changing the email address of your social accounts to your new email. While we are on the topic, it would make sense to change your password(s).</p><p>To change your cell phone, the procedure is a bit more complex. You could opt to buy a new data SIM and use it for your main accounts (bank, insurance, etc.). Another approach would be to change your mobile number, but there could be risks associated with this. In the first days, since the operation takes time and if you mess up, you risk finding your account blocked, because they often send a recovery SMS to your old number. In the future there is risk, because it is possible that the previously used mobile number will be recycled and assigned to another person.</p><p>Ultimately, be suspicious of any calls and emails you receive. After data breaches, phishing activity often occurs as criminals hope to take advantage of consumer fear and confusion.</p><h3 id="4-constantly-monitor-accounts">4. Constantly Monitor Accounts</h3><p>While you may think you are “immune” to these threats, closely monitor all of your email, social, and banking accounts. Attackers often use social engineering to steal your identity in addition to sending phishing campaigns. Warn acquaintances and colleagues who may be receiving calls on your behalf and be sure to make them aware that they should not trust the individual(s) reaching out to them.</p><p>You should monitor any changes to your medical and insurance accounts. In addition, it is important to keep an eye on your financial and credit accounts. Identity thieves may have enough sensitive information to use your existing accounts or create new ones in your name.</p><p>If you think that your data has been used for crimes, report it immediately to federal, state, or local law enforcement!</p><h3 id="5-never-pay-ransoms-or-anything-else">5. Never pay ransoms or anything else!</h3><p>If you ever receive an email that threatens you and subsequently asks for a ransom, never pay them. If you think you are in danger and fear for your physical safety, please contact your local authorities right away.</p><p><img src="https://serhack.me/images/ledger/riscatto.png" alt=""></p><h3 id="6-prevent-it-from-happening-to-you-again">6. Prevent it from happening to you again!</h3><p>This current situation is truly alarming and it should be used as a lesson and a warning for the future. Undoubtedly, there will be many people asking themselves, “How can I prevent this from happening again?” It is important to remember that while the company is to blame for this leak, it can also highlight a growing problem with regard to privacy protections. That is: How can you prevent this type of information (email address, home address, and cell phone) from getting into the wrong hands?</p><p>It is of the utmost importance that before doing simple things like making an online purchase or signing up for a social platform, that you read the tedious and bureaucratic Privacy Policy and Terms of Service. This way, you will be able to understand what data is collected and for what purpose it is used. If these disclosures are missing, it would already be a red flag.</p><p><em>I’m not affiliated with Ledger and I’m not taking any parts of the company. I just wanted to write the paragraph to wonder you how much information someone collects.</em></p><p><em>Let me know what you think, <a href="mailto:hi@serhack.me">contact me now</a>!</em></p><hr><h3 id="some-statistical-information">Some statistical information</h3><p>Table of email domains found in the data breach:</p><table><thead><tr><th>Domain</th><th>Number of occurrences found</th></tr></thead><tbody><tr><td>gmail.com</td><td>587.545</td></tr><tr><td>yahoo.com</td><td>62.630</td></tr><tr><td>outlook.com</td><td>14.794</td></tr><tr><td>protonmail.com</td><td>13.120</td></tr><tr><td>yandex.ru</td><td>4.865</td></tr><tr><td>tutanota.com</td><td>634</td></tr><tr><td>…</td><td>…</td></tr></tbody></table><p>Major states present:</p><table><thead><tr><th>States</th><th>Number of occurrences found</th></tr></thead><tbody><tr><td>United States</td><td>91.442</td></tr><tr><td>Germany</td><td>23.519</td></tr><tr><td>United Kingdom</td><td>21.130</td></tr><tr><td>France</td><td>17.263</td></tr><tr><td>Canada</td><td>12.730</td></tr><tr><td>Italy</td><td>5.672</td></tr><tr><td>Russia</td><td>4.953</td></tr><tr><td>Denmark</td><td>1.670</td></tr></tbody></table></div></div>]]>
            </description>
            <link>https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506289</guid>
            <pubDate>Tue, 22 Dec 2020 13:57:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why broot is switching from TOML to Hjson for its configuration files]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505892">thread link</a>) | @todsacerdoti
<br/>
December 22, 2020 | https://dystroy.org/blog/hjson-in-broot/ | <a href="https://web.archive.org/web/*/https://dystroy.org/blog/hjson-in-broot/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>TOML was originally the only format for configuring broot.</p>
<p>Here I explain why Hjson is now the preferred one.</p>
<h2 id="why-i-started-with-toml">Why I started with TOML</h2>
<p>The reasons I chose <a href="https://github.com/toml-lang/toml">TOML</a> when I started working on <a href="https://github.com/Canop/broot">broot</a> may be familiar to many devs:</p>
<ul>
<li>all ancient configuration formats were already known to be flawed</li>
<li>it had "obvious" in the name so it was simple, right ?</li>
<li>it did look quite simple even if the <code>[[item]]</code> thing was a little puzzling</li>
<li>many of the usual problems of other formats weren't present (more on this later)</li>
<li>it was quite popular in the Rust world, since it had been chosen for cargo configuration</li>
<li>the deserialization tooling in Rust was very good</li>
</ul>
<p>The result in broot is it was quite OK and could accommodate the rich configuration of Broot.</p>
<p>It's still usable and I expect to keep it as an alternate format.</p>
<h2 id="the-problems-with-toml">The problems with TOML</h2>
<p>Most users still consider the language alien and confusing, the structure of a big and structured configuration doesn't clearly appear, and I've had too many reports of users not understanding why the line they added was ignored.</p>
<p>Here's an exemple of a case which puzzles users. <code>chars</code> is an array of items:</p>
<pre><code><span>[[chars]]
name = "A"
value = 10

[[chars]]
name = "B"
value = 11

prop = 3
</span></code></pre>
<p>What the user wanted here, when adding the last <code>prop</code>, was to set a top level property.</p>
<p>But what really happens is that the property is added to the second item of the <code>"chars"</code> array. It's kind of easy to spot in this short example, especially when you're used to TOML, but it's not at all in a big file.</p>
<p>The workaround here would be to put simple properties before the array but that's not how humans work.</p>
<p>Adding a line to a configuration file is something that linux users do all the time.</p>
<p>People who’ve been told that to achieve an effect they would have to add this line in their config.toml file won’t read the whole file to scan whether there’s a better location, they’re used to add it at the end as they do for example in their .bashrc file. Of course, coming back later they would probably try to organize everything but they won’t because their first reaction is that there’s a bug in the application since the added line did nothing.</p>
<p>Such traps aren't really OK when you're configuring a program, especially if you just touch the file occasionnally and don't want to be an expert in it.</p>
<p>So it seemed reasonable to switch to another format but, just like there's no <em>obvious</em> format, there's no <em>obvious</em> choice. Let's review them a little.</p>
<h2 id="what-s-a-configuration-file">What's a configuration file ?</h2>
<p>The patterns we use have quite settled and the model I describe here is about universal now.</p>
<p>For the program which reads it, a configuration file contains a <code>value</code>.</p>
<p>A <code>value</code> is either</p>
<ul>
<li>a string</li>
<li>a number -- a more precise taxonomy here is useful</li>
<li>a boolean -- we can deal without it but it's clearer</li>
<li>a list of values -- also called sequence, array, etc.</li>
<li>a map of keys (strings) to values -- such a map is often used as a "structured object"</li>
<li>the absence of a value -- which is especially important to fall back to a default</li>
</ul>
<p>But before to be read by a program, a configuration file is written by a human, it's read and modified by other humans. So there's much more to it.</p>
<p>First you need comments. There's no way around that.
The purpose of a value, its syntax and meaning, must be explained.
And comments are useful too to disable a setting, either temporarily or because it's here as an example.</p>
<p>Then you need the structure to be clear, the format not to push you towards errors.</p>
<p>You want users to be able to change values without reading everything.</p>
<p>And, unless your configuration structure is very small and guaranteed frozen, you want your users to be able to <em>add</em> properties.</p>
<p>And you'd rather have not too many meaningless characters to add to explain your meaning to the program (I won't even speak of XML...).</p>
<p>As we're in 2020 I'll consider UTF-8 as a given.</p>
<p>So let's look at the offering.</p>
<h2 id="usual-configuration-formats">Usual Configuration Formats</h2>
<p>Here's a list of more or less common file formats, with their advantages and problems as configuration formats.</p>
<h3 id="ini">INI</h3>
<p><a href="https://en.wikipedia.org/wiki/INI_file">INI files</a> are cool if you want to set a few properties but there's no real solution for anything deeply structured in those files.
So you always find yourself forced to migrate for something more serious.</p>
<h3 id="json">JSON</h3>
<p><a href="https://www.json.org/json-en.html">JSON</a> is ubiquitous as a data exchange format, with files that humans can read and even create or modify.</p>
<p>It generates few errors by itself and is quite clear.</p>
<p>It maps very well to program structures, and the tooling is abundant and good.</p>
<p>It has a few problems for our purpose, though:</p>
<ul>
<li>it lacks comments. In my opinion this is enough to make it unsuitable as a configuration format despite the fact it's a frequent choice</li>
<li>you can't have trailing commas, which means you often modify other lines when you add or remove one</li>
<li>bracing every key with quotes is painful and unnatural</li>
</ul>
<h3 id="yaml">YAML</h3>
<p><a href="https://en.wikipedia.org/wiki/YAML">YAML</a> is compact, quite clear and has comments.</p>
<p>But its space based syntax makes it prone to errors, makes big structures hard to decipher, and it's occasionally hard to debug the indentation related problems.</p>
<p>And it has this strange weirdness, which may matter or not : Do you know how to tell if you have a quoteless string or a boolean ? Probably not (<code>Off</code> is a boolean, see the regexp <a href="https://yaml.org/type/bool.html">here</a>).
This last problem can be lifted with the <a href="https://hitchdev.com/strictyaml/">Strict YAML</a> variant, though.
And it doesn't matter when you deserialize into the types required by the program's structure instead of applying the format typing rules.</p>
<h3 id="toml">TOML</h3>
<p>Coming after INI, JSON and YAML, TOML solves some of their problems.</p>
<p>It has comments, doesn't make you count invisible chars or put quotes everywhere.</p>
<p>And it has quite a good support for structured data...</p>
<p>Except lists of objects.</p>
<p>I already showed an example of problem but any deep configuration is a problem in TOML.</p>
<p>And nobody seems to understand what's really the syntax and how a human should parse it.</p>
<p>In my opinion this language should be reserved to when the structure is small and mostly frozen.</p>
<h3 id="hjson">Hjson</h3>
<p><a href="https://hjson.github.io/">Hjson</a> has a very limited purpose compared to other formats. It's not a normal serialization formats.
It's not meant to be written by programs: it's meant to be written by humans, read and modified by other humans, then read by programs. It has been from the start designed for this purpose which makes it suit configuration needs.</p>
<p>The tooling today for Hjson is far behind the one of the other formats I mentioned.</p>
<p>Most parsers or deserializers are really just converting with JSON (yes there's a big overhead).</p>
<p>For Rust, as I wanted a Serde <code>derive</code> guided deserialization, I had to write the <a href="https://github.com/Canop/deser-hjson">deserializer</a> myself (it's probably still buggy at this point).</p>
<p>In another case of Hjson being behind in tooling, in order for the blog example below to be clear, I had to select "CSS" as format for the style parser.</p>
<p>But Hjson, while not perfect, is much better than the other configuration formats of today for most applications:</p>
<ul>
<li>It's clear and almost "obvious"</li>
<li>It's already familiar, especially when dealing with lists and maps</li>
<li>There are less traps</li>
<li>You don't usually have to deal with escape sequences thanks to quoteless strings</li>
<li>There are facilities for multiline strings</li>
<li>You can have trailing commas, or no commas</li>
</ul>
<p>The whole file will be wrapped betwen braces, this isn't pretty, but that's a minor point. Another (small?) problem is that you may have a little too much indentation when dealing with deep structures.</p>
<p>A trap I found was about quoteless strings: The rule may be not obvious, especially the fact that a quoteless string can't start with a colon. A least the error is usually not silent here but I'd still recommend to avoid quoteless strings when surprising strings are expected (meaning you should then use a classical quoted string).</p>
<p>Note that some other formats went the same direction, but not so far:</p>
<ul>
<li><a href="https://json5.org/">JSON5</a> which fixes some shortcomings of JSON while still being more a general purpose or data exchange format than one really focused on human writing and use in configuration</li>
<li><a href="https://rome.tools/#rome-json">Rome Json</a> which does some of the changes Hjson does</li>
</ul>
<p>All in one I find this format to be less bad than the other ones and I expect to be more convincing with an example.</p>
<h3 id="example">Example</h3>
<p>Here's the current complete default configuration of broot:</p>
<pre><code><span>###############################################################
# This configuration file lets you
# - define new commands
# - change the shortcut or triggering keys of </span><span>built-in</span><span> verbs
# - change the colors
# - set default values for flags
# - set special behaviors on specific paths
# - and more...
#
# Configuration documentation is available at
#     https:</span><span>//</span><span>dystroy</span><span>.</span><span>org</span><span>/</span><span>broot
#
# This file'</span><span>s</span><span> format is Hjson ( https:</span><span>//</span><span>hjson</span><span>.</span><span>github</span><span>.</span><span>io</span><span>/ )
</span><span>#
###############################################################
</span><span>{

	###############################################################
	# Default flags
	# You can set up flags you want broot to start with by
	# default, for example `default_flags="ihp"` if you usually want
	# to see hidden and gitignored files and the permissions (then
	# if you don't want the hidden files you can launch `br -H`)
	# A popular flag is the `g` one which displays git related info.
	#
	# default_flags:

	###############################################################
	# Date/Time format
	# If you want to change the format for date/time, uncomment the
	# following line and change it according to
	# https://docs.rs/chrono/</span><span>0.4.11</span><span>/chrono/format/strftime/index.html
	#
	# date_time_format: %Y/%m/%d %R

	###############################################################
	# Whether to mark the selected line with a triangle
	#
	# show_selection_mark: true

	###############################################################
	# Column order
	# cols_order, if specified, must be a permutation of the following
	# array. You should keep the name at the end as it has a variable
	# length.
	#
	# cols_order: [
	# 	</span><span>mark</span><span>
	# 	</span><span>git</span><span>
	# 	</span><span>size</span><span>
	# 	</span><span>permission</span><span>
	# 	</span><span>date</span><span>
	# 	</span><span>count</span><span>
	# 	</span><span>branch</span><span>
	# 	</span><span>name</span><span>
	# ]

	###############################################################
	# True Colors
	# If this parameter isn'</span><span>t set, broot tries to automatically</span><span>
</span><span>	# …</span></code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dystroy.org/blog/hjson-in-broot/">https://dystroy.org/blog/hjson-in-broot/</a></em></p>]]>
            </description>
            <link>https://dystroy.org/blog/hjson-in-broot/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505892</guid>
            <pubDate>Tue, 22 Dec 2020 13:14:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpwned: Beating Cyberpunk 2077's hacking minigame with Python]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25505848">thread link</a>) | @asicsp
<br/>
December 22, 2020 | https://nicolas-siplis.com/blog/cyberpwned | <a href="https://web.archive.org/web/*/https://nicolas-siplis.com/blog/cyberpwned">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <h3>
                Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python
            </h3>
            <p>
                December 20, 2020
            </p><p>
                If you have a passing interest in anything gaming related and haven't been living under a rock for the last couple years, you're probably somewhat familiar with Cyberpunk 2077.
                After a long and repeatedly extended wait, it's finally here! And it has a hacking minigame! And getting a good score gets you better gear! 
                Can some quick Python magic give us the edge we need in this cruel, cruel Net? You bet. 
            </p>
            
            <p>
                A quick overview of the minigame: You're given a square matrix and one or more sequences of hexadecimal numbers, along with a buffer of certain length. 
                Your goal is to complete the most amount of sequences choosing as many nodes as the buffer allows.
                Each sequence will advance in progress if the node chosen is the next node in the sequence.
                When the game starts, you may choose any of the values in the first row of the matrix.
                After that, the values you can choose will alternate between the Nth column/row each turn, with N being the index of the last picked value.
                If this horrible description wasn't helpful, click <a href="https://www.rockpapershotgun.com/2020/12/14/cyberpunk-2077-hacking-minigame-breach-protocol-explained/">here</a> for a more detailed one, courtesy of RPS.
            </p>
            
            <p>
                All valid paths are considered and the final score of each path is calculated depending on how many sequences were completed by traversing it.
                The path with the best score is then printed to screen.
                The algorithm itself isn't particularly interesting nor efficient, unfortunately. However, it should be fast enough to solve any of Cyberpunk's minigames in a few seconds, so fast enough!
                I'm sure there's some low hanging fruit that could speed up execution, but I thought I'd share what I have so far and update the post as new ideas/suggestions come up.
            </p>
            

            <p>
                Let's start off with the game's components:
                    </p><ul>
                        <li>Code Matrix: Multidimensional array containing hexadecimal values (nodes), the "gameboard"</li>
                            <pre><code>
code_matrix = [
    [0x1c, 0xbd, 0x55, 0xe9, 0x55], 
    [0x1c, 0xbd, 0x1c, 0x55, 0xe9],
    [0x55, 0xe9, 0xe9, 0xbd, 0xbd],
    [0x55, 0xff, 0xff, 0x1c, 0x1c],
    [0xff, 0xe9, 0x1c, 0xbd, 0xff]
]
                            </code></pre>
                        <li>Buffer: Number indicating maximum number of chosen coordinates</li>
                            <pre><code>
buffer_size = 7
                            </code></pre>
                        <li>Coordinate: Specific point in the code matrix</li>
                        <li>Path: Ordered collection of unique coordinates which the user accessed</li>
                            <pre><code>
# The same coordinate can't be chosen more than once per path
class DuplicatedCoordinateException(Exception):
    pass

# All paths match the following pattern:
# [(0, a), (b, a), (b, c), (d, c), ...]
class Path():
    def __init__(self, coords=[]):
        self.coords = coords

    def __add__(self, other):
        new_coords = self.coords + other.coords
        if any(map(lambda coord: coord in self.coords, other.coords)):
            raise DuplicatedCoordinateException()
        return Path(new_coords)

    def __repr__(self):
        return str(self.coords)
                            </code></pre>
                        <li>Sequence: Paths that offer varying quality rewards if completed</li>
                            <pre><code>
sequences = [
    [0x1c, 0x1c, 0x55],
    [0X55, 0Xff, 0X1c],
    [0xbd, 0xe9, 0xbd, 0x55],
    [0x55, 0x1c, 0xff, 0xbd]
]
                            </code></pre>
                        <li>Score: Calculation that can be tweaked to prioritize different rewards</li>
                            <pre><code>
class SequenceScore():

    def __init__(self, sequence, buffer_size, reward_level=0):
        self.max_progress = len(sequence)
        self.sequence = sequence
        self.score = 0
        self.reward_level = reward_level
        self.buffer_size = buffer_size

    def compute(self, compare):
        if not self.__completed():
            if self.sequence[self.score] == compare:
                self.__increase()
            else:
                self.__decrease()

    # When the head of the sequence matches the targeted node, increase the score by 1
    # If the sequence has been completed, set the score depending on the reward level
    def __increase(self):
        self.buffer_size -= 1
        self.score += 1
        if self.__completed():
            # Can be adjusted to maximize either:
            #   a) highest quality rewards, possibly lesser quantity
            self.score = 10 ** (self.reward_level + 1)
            #   b) highest amount of rewards, possibly lesser quality
            # self.score = 100 * (self.reward_level + 1)

    # When an incorrect value is matched against the current head of the sequence, the score is decreased by 1 (can't go below 0)
    # If it's not possible to complete the sequence, set the score to a negative value depending on the reward 
    def __decrease(self):
        self.buffer_size -= 1
        if self.score &gt; 0:
            self.score -= 1
        if self.__completed():
            self.score = -self.reward_level - 1

    # A sequence is considered completed if no further progress is possible or necessary
    def __completed(self):
        return self.score &lt; 0 or self.score &gt;= self.max_progress or self.buffer_size &lt; self.max_progress - self.score

class PathScore():
    
    def __init__(self, path, sequences, buffer_size):
        self.score = None
        self.path = path
        self.sequence_scores = [SequenceScore(sequence, buffer_size, reward_level) for reward_level, sequence in enumerate(sequences)]
    
    def compute(self): # Returns the sum of the individual sequence scores
        if self.score != None:
            return self.score
        for row, column in self.path.coords:
            for seq_score in self.sequence_scores:
                seq_score.compute(code_matrix[row][column])
        self.score = sum(map(lambda seq_score: seq_score.score, self.sequence_scores))
        return self.score
                            </code></pre>
                    </ul>
            

            <p>
                The path generation is pretty similar to a DFS graph traversal. 
                The only significant difference is that the nodes accessible will vary depending on the current turn and the previous node's coordinates.  
            </p>
            <pre><code>
# Returns all possible paths with size equal to the buffer
def generate_paths(buffer_size):
    completed_paths = []

    # Return next available row/column for specified turn and coordinate.
    # If it's the 1st turn the index is 0 so next_line would return the 
    # first row. For the second turn, it would return the nth column, with n
    # being the coordinate's row
    def candidate_coords(turn=0, coordinate=(0,0)):
        if turn % 2 == 0:
            return [(coordinate[0], column) for column in range(len(code_matrix))]
        else:
            return [(row, coordinate[1]) for row in range(len(code_matrix))]

    # The stack contains all possible paths currently being traversed.
    def _walk_paths(buffer_size, completed_paths, partial_paths_stack = [Path()], turn = 0, candidates = candidate_coords()):
    
        path = partial_paths_stack.pop()
        
        for coord in candidates:
            try:
                new_path = path + Path([coord])
            
            # Skip coordinate if it has already been visited
            except DuplicatedCoordinateException:
                continue

            # Full path is added to the final return list and removed from the partial paths stack
            if len(new_path.coords) == buffer_size:
                completed_paths.append(new_path) 
            else: # Add new, lengthier partial path back into the stack
                partial_paths_stack.append(new_path) 
                _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))

    _walk_paths(buffer_size, completed_paths)
    return completed_paths
            </code></pre>

            <p>
                Let's run it and check that everything is working correctly.
                While most of the breach protocol minigames have randomized values, the "Spellbound" quest involves a fixed state and the best solution is already known. Courtesy of GamerJournalist:
                <img src="https://img.gamerjournalist.com/spai/w_1024+q_lossy+ret_img+to_webp/https://cdn.gamerjournalist.com/primary/2020/12/How-to-decrypt-the-Book-of-Spells-in-Cyberpunk-2077.jpg">
            </p>

            <pre><code>
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])
# [(0, 1), (2, 1), (2, 3), (1, 3), (1, 0), (4, 0), (4, 3)] -&gt; Should traverse 3rd and 4th sequences, finishes in ~3 seconds
print(max_path[0])
            </code></pre>

            <p>
                Success! Out of curiosity, I thought I'd try increasing the buffer size until I could find a path which cleared all sequences. 
                Be warned though, the result might take some time to compute since it has to go through every possible path of length 11.
            </p>
            <pre><code>
buffer_size = 11
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])

# [(0, 0), (1, 0), (1, 3), (3, 3), (3, 1), (0, 1), (0, 3), (2, 3), (2, 0), (4, 0), (4, 2)] -&gt; Should traverse all sequences, finishes in ~40 seconds
print(max_path[0], max_path[1])
            </code></pre>

            <p>
                OK, optimization time! We'll assume that there's at least 1 path with a non-negative score.
                That way, we can actually stop traversing a partial path if its current score (adjusted depending on buffer's size and current turn) is lower than 0.
            </p>

            <pre><code>
def generate_paths(...):
    ...
    def _walk_paths(...):
    ...

                # Full path is added to the final return list and removed from the partial paths stack
                if len(new_path.coords) == buffer_size:
                    completed_paths.append(new_path)
                # If the partial path score is already lower than 0 we should be able to safely stop traversing it
                elif PathScore(new_path, sequences, buffer_size).compute() &lt; 0:
                    continue
                else: # Add new, lengthier partial path back into the stack
                    partial_paths_stack.append(new_path) 
                    _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))
    ...
            </code></pre>

            <p>
                Let's try to get our original result with a buffer of length 7 again: 
            </p>

            <pre><code>
buffer_size = 7
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, …</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolas-siplis.com/blog/cyberpwned">https://nicolas-siplis.com/blog/cyberpwned</a></em></p>]]>
            </description>
            <link>https://nicolas-siplis.com/blog/cyberpwned</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505848</guid>
            <pubDate>Tue, 22 Dec 2020 13:08:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bare-Metal Kubernetes with K3s]]>
            </title>
            <description>
<![CDATA[
Score 186 | Comments 128 (<a href="https://news.ycombinator.com/item?id=25505735">thread link</a>) | @alexellisuk
<br/>
December 22, 2020 | https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><blockquote>
<p>Learn how to configure K3s on bare-metal to run a Kubernetes cluster with just as much resilience and fault tolerance as a managed service.</p>
</blockquote>
<p>This tutorial is a follow-on from my post <a href="https://blog.alexellis.io/kubernetes-in-10-minutes/">Kubernetes on bare-metal in 10 minutes</a> from 2017. The original post focused on getting <a href="https://kubernetes.io/">Kubernetes</a> working across a number of bare-metal hosts running Ubuntu, and then it went on to deploy a microservice and the dashboard. It was a primer, and written to help new users kick the tires with Kubernetes. It used production-ready kubeadm, but only used one master node, meaning it couldn't tolerate a failure.</p>
<p>In this post, I want to provide you with a HA, production-ready cluster on bare-metal infrastructure. We will use <a href="https://metal.equinix.com/">Equinix Metal</a> for the hosts, automate the boring parts, but do the rest step by step, so that you can get an understanding on what's going on under the hood.</p>
<p>In the conclusion, we will review the setup and discuss other options for running on-premises or in a homelab with Raspberry Pis. We will also compare kube-vip to other solutions for bare-metal and self-hosted networking.</p>
<p><img src="https://blog.alexellis.io/content/images/2020/12/kube-vip-ha-k3s--6-.png" alt="kube-vip-ha-k3s--6-"></p>
<blockquote>
<p>Conceptual diagram: kubectl access provided by the stable EIP. The IngressController also has an EIP which  routes traffic for services exposed with Ingress such as the OpenFaaS gateway.</p>
</blockquote>
<p>This post also moves from kubeadm to using <a href="https://k3s.io/">K3s</a> (a <a href="https://cncf.io/">CNCF</a> project), which requires fewer resources for its control-plane and has a built-in HA mode using embedded <a href="https://etcd.io/">etcd</a>. K3s has been generally available (GA) and production ready since 2019.</p>
<blockquote>
<p><a href="https://twitter.com/alexellisuk">Follow me on Twitter @alexellisuk</a></p>
</blockquote>
<h2 id="tutorial">Tutorial</h2>
<p>We will use <a href="https://www.terraform.io/">Terraform</a> to create the nodes on <a href="https://metal.equinix.com/">Equinix Metal (aka Packet)</a> servers, k3s to create a HA control-plane, and <a href="https://kube-vip.io/">kube-vip</a> to configure a HA IP address for the API server.</p>
<p>The setup will be able to tolerate at least one failure of a server. So unlike the 2017 post, our servers will form a HA cluster, and will also have an Elastic IP (EIP) configured so that the Kubernetes API server will remain accessible if one or more of the servers becomes unavailable.</p>
<p>In a Kubernetes cluster, the Cloud Controller Manager add-on has several responsibilities including node management, routing and managing services. At the end of the tutorial, not only will your cluster have a HA control-plane, a stable IP for the API Server, but Equinix Metal's (CCM) will also allow you to expose services as type LoadBalancer. Each IP address costs around 3.25 USD / mo, you can find out more details on the IP Addresses section of the dashboard.</p>
<p>Skill level: intermediate to advanced. You should be familiar with Kubernetes, networking and public cloud infrastructure.</p>
<h3 id="installtheprerequisites">Install the pre-requisites</h3>
<p>Download <a href="https://get-arkade.dev/">arkade</a>, a portable Kubernetes marketplace and downloader for DevOps CLIs. It will be used to download the tools we need for the tutorial. You are of course welcome to do things the hard way, if you prefer.</p>
<pre><code>curl -sLS https://dl.get-arkade.dev | sh

# Install the binary using the command given as output, such as: 
sudo cp arkade-darwin /usr/local/bin/arkade

# Or on Linux:
sudo cp arkade /usr/local/bin/arkade
</code></pre>
<p>Download the following CLIS:</p>
<ul>
<li><code>kubectl</code> - the Kubernetes CLI</li>
<li><code>k3sup</code> - a k3s installer that works over SSH</li>
<li><code>terraform</code> - an Infrastructure as code (IaC) tool, which we'll used to create the initial hosts</li>
<li><code>kubectx</code> - a fast way to check and switch your Kubernetes context between clusters</li>
</ul>
<pre><code>arkade get kubectl
arkade get k3sup
arkade get terraform
arkade get kubectx
</code></pre>
<p>Follow the step to put these binaries into your PATH:</p>
<pre><code># Add (k3sup) to your PATH variable
export PATH=$PATH:$HOME/.arkade/bin/
</code></pre>
<h3 id="provisionyournodes">Provision your nodes</h3>
<p>We will use terraform to provision three servers and two agents. You can alter these numbers, but three is the minimum number required for K3s' built-in HA mode using etcd.</p>
<p>You may well ask why the entire blog post isn't just a single Terraform command. I can hear you Hacker News. This point of this post isn't to do all the work for you, but to help you understand what is required, and in what order. Creating hosts is boring, so we are going to automate that and save you some time.</p>
<p>Save <code>main.tfvars</code> with the following:</p>
<pre><code>terraform {
  required_providers {
    packet = {
      source = "terraform-providers/packet"
      version = "~&gt; 3.2.1"
    }
  }
  required_version = "&gt;= 0.13"
}

variable "api_token" {
  description = "Equinix Metal API token"
}

variable "project_id" {
  description = "Equinix Metal Project ID"
}

variable "servers" {
  description = "Count of servers"
}

variable "agents" {
  description = "Count of agents"
}

provider "packet" {
  auth_token=var.api_token
}

resource "packet_ssh_key" "key1" {
  name       = "k3sup-1"
  public_key = file("/home/alex/.ssh/id_rsa.pub")
}

resource "packet_device" "k3s-server" {
  count		         = var.servers
  hostname         = "k3s-server-${count.index+1}"
  plan             = "c1.small.x86"
  facilities       = ["ams1"]
  operating_system = "ubuntu_20_10"
  billing_cycle    = "hourly"
  project_id       = var.project_id
  depends_on       = [packet_ssh_key.key1]
}

resource "packet_device" "k3s-agent" {
  count 	         = var.agents
  hostname         = "k3s-agent-${count.index+1}"
  plan             = "c1.small.x86"
  facilities       = ["ams1"]
  operating_system = "ubuntu_20_10"
  billing_cycle    = "hourly"
  project_id       = var.project_id
  depends_on       = [packet_ssh_key.key1]
}

output "server_ips" {
  value = packet_device.k3s-server.*.access_public_ipv4
}

output "agent_ips" {
  value = packet_device.k3s-agent.*.access_public_ipv4
}
</code></pre>
<p>Then create <code>main.tfvars</code></p>
<pre><code>api_token   =   ""
project_id  =   ""
servers     =   3
agents      =   2
</code></pre>
<p>Edit <code>api_token</code> and <code>project_id</code> with the values from the Equinix Metal dashboard. The API key is found on your user profile.</p>
<p>If you wish to change the size of the nodes, you can edit <code>c1.small.x86</code> and use a different value. You can find the options in your dashboard.</p>
<p>Now run the terraform to create the hosts:</p>
<pre><code>terraform init
terraform plan -var-file=main.tfvars
terraform apply -var-file=main.tfvars
</code></pre>
<p>When the hosts have been created, you'll get output with your IP addresses.</p>
<pre><code>agent_ips = [
  "147.75.81.203",
  "147.75.33.3",
]
server_ips = [
  "147.75.32.35",
  "147.75.80.83",
  "147.75.32.99",
]
</code></pre>
<p>Open a terminal and write environment variables for each:</p>
<pre><code>export SERVER1=""
export SERVER2=""
export SERVER3=""

export AGENT1=""
export AGENT2=""
</code></pre>
<p>Save this file as <code>hosts.txt</code> as you may need it again later.</p>
<h3 id="obtainanipaddressforthecontrolplane">Obtain an IP address for the control-plane</h3>
<p>K3s can run in a HA mode, where a failure of a master node can be tolerated. This isn't enough for public-facing clusters, where a stable IP address for the Kubernetes control-plane is required.</p>
<p>We need a stable IP for port 6443, which we could also call an Elastic IP or EIP. Fortunately BGP can help us there. One of our three master nodes will advertise its IP address as the route for the EIP, then if it goes down, another will start advertising. This means our clients can always depend on a stable address of: <code>https://$EIP:6443</code> for connecting to the Kubernetes API server.</p>
<p>Obtain an IP address from your EM dashboard:</p>
<ul>
<li>
<p>IPs &amp; Networks</p>
</li>
<li>
<p>Request IP Address</p>
</li>
<li>
<p>Select the same region that you'll use for the nodes:</p>
</li>
<li>
<p>Pick a <code>/32</code> for a single IP for the control-plane.</p>
</li>
</ul>
<p>It may take some time for an engineer to approve the request.</p>
<p>Once you have the IP, set it in an environment variable:</p>
<pre><code>export EIP="147.75.100.237"
</code></pre>
<p>Add this line to <code>hosts.txt</code> so that you have it, if you need it later.</p>
<h3 id="enablebgpforeachserver">Enable BGP for each server</h3>
<p>Click on each server in the Equinix Metal dashboard. Click on its details page, then BGP. Find the Manage button on the IPv4 row and click "Enable BGP".</p>
<p>This setting allows BGP to be advertised from this server.</p>
<h3 id="provisionthefirstmaster">Provision the first master</h3>
<p>For various reasons, we can only set up kube-vip after K3s has started, so we will create the first master node:</p>
<pre><code>k3sup install \
  --ip $SERVER1 \
  --tls-san $EIP \
  --cluster \
  --k3s-channel latest \
  --k3s-extra-args "--no-deploy servicelb --disable-cloud-controller" \
  --merge \
  --local-path $HOME/.kube/config \
  --context=em-ha-k3s
</code></pre>
<ul>
<li><code>--tls-san</code> is required to advertise the EIP, so that K3s will create a valid certificate for the API server.</li>
<li>the <code>--k3s-channel</code> is specifying the latest version of K3s, which in this instance will be 1.19, by the time you run this tutorial, it may have changed, in which can you can give <code>1.19</code> as the channel, or a specific version with <code>--k3s-version</code></li>
<li>note the <code>--cluster</code> flag, which tells the server to use etcd to create a cluster for the servers we will join later on</li>
<li><code>--local-path</code>, <code>--context</code> and <code>--merge</code> all allow us to merge the KUBECONFIG from the K3s to our local file.</li>
<li>in <code>--k3s-extra-args</code> we disable the built-in K3s service load-balancer, and also disable the cloud-controller, because we will use the Equinix Metal Cloud Controller Manager instead.</li>
</ul>
<p>Now check your kubeconfig file is pointing at the right cluster:</p>
<pre><code>kubectx em-ha-k3s
</code></pre>
<p>Try querying the nodes in the cluster:</p>
<pre><code>[alex@nuc ~]$ kubectl get nodes
NAME           STATUS     ROLES         AGE   VERSION
k3s-server-1   Ready      etcd,master   7s    v1.19.5+k3s2
</code></pre>
<p>Apply the RBAC so that kube-vip can access the Kubernetes API and configure services:</p>
<pre><code>kubectl apply -f https://kube-vip.io/manifests/rbac.yaml
</code></pre>
<p>Now log into the first server using SSH. There is a one-time configuration option required for each server.</p>
<pre><code>ssh root@$SERVER1

ctr image pull docker.io/plndr/kube-vip:0.3.0

alias kube-vip="ctr run --rm --net-host docker.io/plndr/kube-vip:0.3.0"
export INTERFACE=lo
export EIP="147.75.100.237"

kube-vip vip /kube-vip manifest daemonset \
  --interface $INTERFACE \
  --vip $EIP \
  --controlplane \
  --services \
  --inCluster \
  --taint \
  --bgp \
  --packet \
  --provider-config /etc/cloud-sa/cloud-sa.json | tee /var/lib/rancher/k3s/server/manifests/vip.yaml
</code></pre>
<p>The manifest for kube-vip will be created at <code>/var/lib/rancher/k3s/server/manifests/vip.yaml</code>, any files placed here will be run by K3s.</p>
<p>Log out of the server</p>
<h3 id="deploytheequinixmetalcloudcontrollermanager">Deploy the Equinix Metal …</h3></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/">https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/</a></em></p>]]>
            </description>
            <link>https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505735</guid>
            <pubDate>Tue, 22 Dec 2020 12:50:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don’t Think, Just Defunctionalize]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25505701">thread link</a>) | @gbrown_
<br/>
December 22, 2020 | https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize | <a href="https://web.archive.org/web/*/https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>TL;DR: CPS-conversion and defunctionalization can help you to come up with a constant-stack algorithm.</p>
<p><em>Update:</em> Turns out I inadvertedly plagiarized the talk <a href="https://t.co/YlN0MOnN83?amp=1">The Best Refactoring You’ve Never Heard Of</a> by James Koppel. Please consider this a form of sincere flattery.</p>
<h3 id="the-starting-point">The starting point</h3>
<p>Today, I’ll take you on a another little walk through the land of program transformations. Let’s begin with a simple binary tree, with value of unknown type in the leaves, as well as the canonical <code>map</code> function:</p>
<div><pre><code><span>data</span> <span>T</span> a <span>=</span> <span>L</span> a <span>|</span> <span>B</span> (<span>T</span> a) (<span>T</span> a)

<span>map1 ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map1 f (<span>L</span> x) <span>=</span> <span>L</span> (f x)
map1 f (<span>B</span> t1 t2) <span>=</span> <span>B</span> (map1 f t1) (map1 f t2)</code></pre></div>
<p>As you can see, this <code>map</code> function is using the program stack as it traverses the tree. Our goal is now to come up with a <code>map</code> function that does <em>not</em> use the stack!</p>
<p>Why? Good question! In Haskell, there wouldn’t be a strong need for this, as the Haskell stack is allocated on the heap, just like your normal data, so there is plenty of stack space. But in other languages or environments, the stack space may have a hard limit, and it may be advised to not use unbounded stack space.</p>
<p>That aside, it’s a fun exercise, and that’s sufficient reason for me.</p>
<p>(In the following, I assume that tail-calls, i.e. those where a function end with another function call, but without modifying its result, do not actually use stack space. Once <em>all</em> recursive function calls are tail calls, the code is equivalent to an imperative loop, as we will see.)</p>
<h3 id="think">Think?</h3>
<p>We <em>could</em> now just stare at the problem (rather the code), and try to come up with a solution directly. We’d probably think “ok, as I go through the tree, I have to remember all the nodes <em>above</em> me… so I need a list of those nodes… and for each of these nodes, I also need to remember whether I am currently processing the left child, and yet have to look at the right one, or whether I am done with the left child… so what do I have to remember about the current node…?”</p>
<p>… ah, my brain spins already. Maybe eventually I figure it out, but why think when we can <em>derive</em> the solution? So let’s start with above <code>map1</code>, and rewrite it, in several, mechanical, steps into a stack-less, tail-recursive solution.</p>
<h3 id="go">Go!</h3>
<p>Before we set out, let me rewrite the <code>map</code> function using a local <code>go</code> helper, as follows:</p>
<div><pre><code><span>map2 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map2 f t <span>=</span> go t
  <span>where</span>
<span>    go ::</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
    go (<span>L</span> x) <span>=</span> <span>L</span> (f x)
    go (<span>B</span> t1 t2) <span>=</span> <span>B</span> (go t1) (go t2)</code></pre></div>
<p>This transformation (effectively the “static argument transformation”) has the nice advantage that we do not have to pass <code>f</code> around all the time, and that when we copy the function, I only have to change the top-level name, but not the names of the inner functions.</p>
<p>Also, I find it more aesthetically pleasing.</p>
<h3 id="cps">CPS</h3>
<p>A blunt, effective tool to turn code that is not yet using tail-calls into code that only uses tail-calls is use <em>continuation-passing style</em>. If we have a function of type <code>… -&gt; t</code>, we turn it into a function of type <code>… -&gt; (t -&gt; r) -&gt; r</code>, where <code>r</code> is the type of the result we want at the very end. This means the function now receives an extra argument, often named <code>k</code> for continuation, and instead of returning some <code>x</code>, the function calls <code>k x</code>.</p>
<p>We can apply this to our <code>go</code> function. Here, both <code>t</code> and <code>r</code> happen to be <code>T b</code>; the type of finished trees:</p>
<pre><code>map3 :: forall a b. (a -&gt; b) -&gt; T a -&gt; T b
map3 f t = go t (\r -&gt; r)
  where
    go :: T a -&gt; (T b -&gt; T b) -&gt; T b
    go (L x) k  = k (L (f x))
    go (B t1 t2) k  = go t1 (\r1 -&gt; go t2 (\r2 -&gt; k (B r1 r2)))</code></pre>
<p>Note that when initially call <code>go</code>, we pass the identity function <code>(\r -&gt; r)</code> as the initial continuation.</p>
<p>Alas, suddenly all function calls are in tail position, and this codes does not use stack space! Technically, we are done, although it is not quite satisfying; all these lambdas floating around obscure the meaning of the code, are maybe a bit slow to execute, and also, we didn’t really learn much yet. This is certainly <em>not</em> the code we would have writing after “thinking hard”.</p>
<h3 id="defunctionalization">Defunctionalization</h3>
<p>So let’s continue rewriting the code to something prettier, simpler. Something that does not use lambdas like this.</p>
<p>Again, there is a mechanical technique that can help it. It likely won't make the code prettier, but it will get rid of the lambdas, so let’s do that an clean up later.</p>
<p>The technique is called <em>defunctionalization</em> (because it replaces functional values by plain data values), and can be seen as a form of <em>refinement</em>.</p>
<p>Note that we pass around vales of type <code>(T b -&gt; T b)</code>, but we certainly don’t <em>mean</em> the full type <code>(T b -&gt; T b)</code>. Instead, only very specific values of that type occur in our program, So let us replace <code>(T b -&gt; T b)</code> with a data type that contains representatives of <em>just</em> the values we actually use.</p>
<ol>
<li><p>We find at all values of type <code>(T b -&gt; T b)</code>. These are:</p>
<ul>
<li><code>(\r -&gt; r)</code></li>
<li><code>(\r1 -&gt; go t2 (\r2 -&gt; k (B r1 r2)))</code></li>
<li><code>(\r2 -&gt; k (B r1 r2))</code></li>
</ul></li>
<li><p>We create a datatype with one constructor for each of these:</p>

<p>(This is not complete yet.)</p></li>
<li><p>We introduce an <em>interpretation</em> function that turns a <code>K</code> back into a <code>(T b -&gt; T b)</code>:</p>
<div><pre><code><span>eval ::</span> <span>K</span> <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
eval <span>=</span> (<span>*</span> <span>TBD</span> <span>*</span>)</code></pre></div></li>
<li><p>In the function <code>go</code>, instead of taking a parameter of type <code>(T b -&gt; T b)</code>, we take a <code>K</code>. And when we actually <em>use</em> the continuation, we have to turn the <code>K</code> back to the function using eval:</p>
<div><pre><code><span>go ::</span> <span>T</span> a <span>-&gt;</span> <span>K</span> a b <span>-&gt;</span> <span>T</span> b
go (<span>L</span> x) k  <span>=</span> eval k (<span>L</span> (f x))
go (<span>B</span> t1 t2) k <span>=</span> go t1 <span>K1</span></code></pre></div>
We also do this to the code fragments identified in the first step; these become:
<ul>
<li><code>(\r -&gt; r)</code></li>
<li><code>(\r1 -&gt; go t2 K2)</code></li>
<li><code>(\r2 -&gt; eval k (B r1 r2))</code></li>
</ul></li>
<li><p>Now we complete the <code>eval</code> function: For each constructor, we simply map it to the corresponding lambda from step 1:</p>
<div><pre><code><span>eval ::</span> <span>K</span> <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
eval <span>I</span> <span>=</span> (\r <span>-&gt;</span> r)
eval <span>K1</span> <span>=</span> (\r1 <span>-&gt;</span> go t2 <span>K2</span>)
eval <span>K2</span> <span>=</span> (\r2 <span>-&gt;</span> eval k (<span>B</span> r1 r2))</code></pre></div></li>
<li><p>This doesn’t quite work yet: We have variables on the right hand side that are not bound (<code>t2</code>, <code>r1</code>, <code>k</code>). So let’s add them to the constructors <code>K1</code> and <code>K2</code> as needed. This also changes the type <code>K</code> itself; it now needs to take type parameters.</p></li>
</ol>
<p>This leads us to the following code:</p>
<div><pre><code><span>data</span> <span>K</span> a b
  <span>=</span> <span>I</span>
  <span>|</span> <span>K1</span> (<span>T</span> a) (<span>K</span> a b)
  <span>|</span> <span>K2</span> (<span>T</span> b) (<span>K</span> a b)

<span>map4 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map4 f t <span>=</span> go t <span>I</span>
  <span>where</span>
<span>    go ::</span> <span>T</span> a <span>-&gt;</span> <span>K</span> a b <span>-&gt;</span> <span>T</span> b
    go (<span>L</span> x) k  <span>=</span> eval k (<span>L</span> (f x))
    go (<span>B</span> t1 t2) k  <span>=</span> go t1 (<span>K1</span> t2 k)

<span>    eval ::</span> <span>K</span> a b <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
    eval <span>I</span> <span>=</span> (\r <span>-&gt;</span> r)
    eval (<span>K1</span> t2 k) <span>=</span> (\r1 <span>-&gt;</span> go t2 (<span>K2</span> r1 k))
    eval (<span>K2</span> r1 k) <span>=</span> (\r2 <span>-&gt;</span> eval k (<span>B</span> r1 r2))</code></pre></div>
<p>Not really cleaner or prettier, but everything is still tail-recursive, <em>and</em> we are now working with plain data.</p>
<h3 id="we-like-lists">We like lists</h3>
<p>To clean it up a little bit, we can notice that the <code>K</code> data type really is just a list of values, where the values are either <code>T a</code> or <code>T b</code>. We do not need a custom data type for this! Instead of our <code>K</code>, we can just use the following, built from standard data types:</p>
<pre><code>type K' a b = [Either (T a) (T b)]</code></pre>
<p>Now I replace <code>I</code> with <code>[]</code>, <code>K1 t2 k</code> with <code>Left t2 : k</code> and <code>K2 r1 k</code> with <code>Right r1 : k</code>. I also, very suggestively, rename <code>go</code> to <code>down</code> and <code>eval</code> to <code>up</code>:</p>
<div><pre><code><span>map5 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map5 f t <span>=</span> down t []
  <span>where</span>
<span>    down ::</span> <span>T</span> a <span>-&gt;</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b
    down (<span>L</span> x) k  <span>=</span> up k (<span>L</span> (f x))
    down (<span>B</span> t1 t2) k  <span>=</span> down t1 (<span>Left</span> t2 <span>:</span> k)

<span>    up ::</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b <span>-&gt;</span> <span>T</span> b
    up [] r <span>=</span> r
    up (<span>Left</span>  t2 <span>:</span> k) r1 <span>=</span> down t2 (<span>Right</span> r1 <span>:</span> k)
    up (<span>Right</span> r1 <span>:</span> k) r2 <span>=</span> up k (<span>B</span> r1 r2)</code></pre></div>
<p>At this point, the code suddenly makes more sense again. In fact, I can try to verbalize it:</p>
<blockquote>
<p>As we traverse the tree, we have to remember for all parent nodes, whether there is still something <code>Left</code> to do when we come back to it (so we remember a <code>T a</code>), or if we are done with that (so we have a <code>T b</code>). This is the list <code>K' a b</code>.</p>
<p>We begin to go <code>down</code> the left of the tree (noting that the right siblings are still left to do), until we hit a leaf. We transform the leaf, and then go <code>up</code>.</p>
<p>If we go <code>up</code> and hit the root, we are done. Else, if we go <code>up</code> and there is something <code>Left</code> to do, we remember the subtree that we just processed (as that is already in the <code>Right</code> form), and go <code>down</code> the other subtree. But if we go <code>up</code> and there is nothing <code>Left</code> to do, we put the two subtrees together and continue going up.</p>
</blockquote>
<p>Quite neat!</p>
<h3 id="the-imperative-loop">The imperative loop</h3>
<p>At this point we could stop: the code is pretty, makes sense, and has the properties we want. But let’s turn the dial a bit further and try to make it an imperative loop.</p>
<p>We know that if we have a single tail-recursive function, then that’s equivalent to a loop, with the function’s parameter turning into mutable variables. But we have two functions!</p>
<p>It turns out that if you have two functions <code>a -&gt; r</code> and <code>b -&gt; r</code> that have the same return type (which they necessarily have here, since we CPS-converted them further up), then those two functions are equivalent to a <em>single</em> function taking “<code>a</code> or <code>b</code>”, i.e. <code>Either a b -&gt; r</code>. This really nothing else than the high-school level algebra rule of <span><em>r</em><sup><em>a</em></sup> ⋅ <em>r</em><sup><em>b</em></sup> = <em>r</em><sup><em>a</em> + <em>b</em></sup></span>.</p>
<p>So (after reordering the arguments of <code>down</code> to put <code>T b</code> first) we can rewrite the code as</p>
<div><pre><code><span>map6 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map6 f t <span>=</span> go (<span>Left</span> t) []
  <span>where</span>
<span>    go ::</span> <span>Either</span> (<span>T</span> a) (<span>T</span> b) <span>-&gt;</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b
    go (<span>Left</span> (<span>L</span> x))     k        <span>=</span> go (<span>Right</span> (<span>L</span> (f x))) k
    go (<span>Left</span> (<span>B</span> t1 t2)) k        <span>=</span> go (<span>Left</span> t1) (<span>Left</span> t2 <span>:</span> k)
    go (<span>Right</span> r)  []             <span>=</span> r
    go (<span>Right</span> r1) (<span>Left</span>  t2 <span>:</span> k) <span>=</span> go (<span>Left</span> t2) (<span>Right</span> r1 <span>:</span> k)
    go (<span>Right</span> r2) (<span>Right</span> r1 <span>:</span> k) <span>=</span> go (<span>Right</span> (<span>B</span> r1 r2)) k</code></pre></div>
<p>Do you see the loop yet? If not, maybe it helps to compare it with the following equivalent imperative looking pseudo-code:</p>
<pre><code>mapLoop :: forall a b. (a -&gt; b) -&gt; T a -&gt; T b
mapLoop f t {
  var node = Left t;
  var parents = [];
  while (true) {
    switch (node) {
      Left (L x) -&gt; node := Right (L (f x))
      Left (B t1 t2) -&gt; node := Left t1; parents.push(Left t2)
      Right r1 -&gt; {
        if (parents.len() == 0) {
          return r1;
        } else {
          switch (parents.pop()) {
            Left t2  -&gt; node := Left t2; parents.push(Right r1);
            Right r2 -&gt; node := Right (B r1 r2)
          }
        }
      }
    }
  }
}</code></pre>
<h3 id="conclusion">Conclusion</h3>
<p>I find it enlightening to see how apparently very different approaches to a problem (recursive, lazy …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize">https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize</a></em></p>]]>
            </description>
            <link>https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505701</guid>
            <pubDate>Tue, 22 Dec 2020 12:44:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quickly Looking for Developers?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505587">thread link</a>) | @pyb
<br/>
December 22, 2020 | https://vsevolod.net/quickly-looking-for-developers/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/quickly-looking-for-developers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
            <article>

    <header>
        
        <p>
          4 min read
          
        </p>
    </header>

    <section>
        <p>Because there is a significant shortage of experienced developers on the market
and has been for quite some time, you rarely have a queue of great candidates
for a newly opened position.</p>
<p>It’s common for engineers to groan about irrelevant spammy requests from
clueless recruiters on LinkedIn with “We think you can be a great fit for our
job opening. You’ll develop our front-end in KubeScript and you need 15 years of
experience in Kafka”.</p>
<p>This isn’t surprising, given the current market — how much time would an
experienced developer need to find a job? Not the best and most fulfilling job
of their life, but just some job with enough compensation to support their
family.</p>
<p>For a lot of folks all it would take are a change in their LinkedIn profile and
a tweet like “X years of experience in this and that, looking for work,
area/remote!”</p>
<p>Hence lots of developers adopt a somewhat sarcastic stance regarding unsolicited
job propositions like “suuure, tell me more”. It’s probably not the most
constructive way to go, but I’m not judging it and I was behaving like that for
years<a href="https://vsevolod.net/quickly-looking-for-developers/#note1"><sup id="back1">[1]</sup></a>.</p>
<p>What is much more surprising to me is when people transition to the hiring side
of the market and keep the same attitude. They keep thinking of themselves as
"highly wanted" and when they want to hire someone quickly, they post to social
media something along the lines of “Looking for a super-duper developer for my
project, please retweet!”</p>
<p>Yeah, suuure.</p>
<p>I had roughly the same dialogue with my friends many times over:</p>
<blockquote>
<p>“Can you recommend someone? I’m looking for a Python developer.”<br>
“Nope, everyone’s busy.”<br>
“OK.”</p>
</blockquote>
<p>Why did they need a human to hire? Do they need anybody so quickly that they do
not have time to write a description? How should I refer to someone?</p>
<blockquote>
<p>“Friends are looking for a developer, want to talk to them?”<br>
“Ehh, my current project isn’t too shabby. What do they do?”<br>
“Not really sure, I can introduce you and they’ll explain.”<br>
“Thanks, I’ll pass.”</p>
</blockquote>
<p>I’ve had this conversation a couple of times and do not bother anymore.</p>
<p>Once I’ve asked my friend a dozen or so questions about their project, pried
some information out of him and got a description that was pretty interesting to
a couple of people that I contacted.</p>
<p>Even if they weren’t hired immediately after that, they remembered it. Maybe
their friend is looking for work, maybe they’ll be open for opportunities in
half a year and you’ll still be looking for people to hire.</p>
<p>But that’s not my job to pull information about your project out of you with a
pair of pliers, it’s not a job for your friends, general public or
candidates. It’s your own job.</p>
<p>Even Elon Musk doesn’t just write “I'm hiring developers for a cool project”. He
describes and markets them, for example
<a href="https://twitter.com/elonmusk/status/667516705116065792">Tesla autopilot team</a> in
<a href="https://twitter.com/elonmusk/status/667519445414252544">2015</a>, and
<a href="https://twitter.com/elonmusk/status/1284306733720940544">Neuralink</a> in
<a href="https://twitter.com/elonmusk/status/1284642001888047104">2020</a>.</p>
<p>And everyone knows who Elon Musk is and what he does. I’m baffled whenever I see
retweets “Looking for a great frontend developer for my project!”  written by
effectively anonymous people to me. I’m seeing the same tweets with minor
variations pretty regularly for more than a decade.</p>
<p>The best thing you can do to have good candidates is to write a good honest
description of a project together with the tasks that a person will accomplish
if hired. And it must be you who writes it — a hiring manager, not a poor
recruiter whom you've given a list of five-to-ten buzzwords.</p>
<h4 id="notes">Notes<a href="#notes" aria-label="Anchor link for: notes">🔗</a></h4>
<p><a href="https://vsevolod.net/quickly-looking-for-developers/#back1"><sup id="note1">[1]</sup></a> For context: I was a professional
developer since 2006 and for half of that time I’m much more often on the hiring
side.</p>

    </section>

    

</article>


        </div></div>]]>
            </description>
            <link>https://vsevolod.net/quickly-looking-for-developers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505587</guid>
            <pubDate>Tue, 22 Dec 2020 12:27:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nim Apocrypha, Vol. I]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25505492">thread link</a>) | @ibobev
<br/>
December 22, 2020 | https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/ | <a href="https://web.archive.org/web/*/https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">

    

    <div role="main">



<article>
  <header>
    
    <p><time datetime="2020-12-21">2020 Dec 21</time></p>
  </header>

  
    <nav>
      <ul>
      
        <li><a href="https://blog.johnnovak.net/tag/coding/">coding</a></li>
      
        <li><a href="https://blog.johnnovak.net/tag/nim/">nim</a></li>
      
      </ul>
    </nav>
  

  


<ul id="markdown-toc">
  <li><a href="#intro" id="markdown-toc-intro">Intro</a></li>
  <li><a href="#i--the-not-so-obvious" id="markdown-toc-i--the-not-so-obvious">I — The Not-So-Obvious</a>    <ul>
      <li><a href="#1--reducing-executable-size-by-stripping-debug-symbols" id="markdown-toc-1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</a></li>
      <li><a href="#2--release-builds-with-exception-logging" id="markdown-toc-2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</a></li>
      <li><a href="#3--switching-to-arcorc" id="markdown-toc-3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</a></li>
      <li><a href="#4--executable-icons-on-windows-mingw" id="markdown-toc-4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</a></li>
      <li><a href="#5--debug-echo-in-windows-gui-programs-mingw" id="markdown-toc-5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</a></li>
    </ul>
  </li>
  <li><a href="#ii--the-hidden" id="markdown-toc-ii--the-hidden">II — The Hidden</a>    <ul>
      <li><a href="#6--using-keyword" id="markdown-toc-6--using-keyword">6 &nbsp; ‘using’ keyword</a></li>
      <li><a href="#7--opening-urls-in-the-default-browser" id="markdown-toc-7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</a></li>
      <li><a href="#8--cross-platform-home-and-config-directories" id="markdown-toc-8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</a></li>
      <li><a href="#9--debug-dumping-expressions" id="markdown-toc-9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</a></li>
      <li><a href="#10--measuring-elapsed-time" id="markdown-toc-10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</a></li>
      <li><a href="#11--dealing-with-openarrays" id="markdown-toc-11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</a></li>
    </ul>
  </li>
  <li><a href="#iii--the-crafty" id="markdown-toc-iii--the-crafty">III — The Crafty</a>    <ul>
      <li><a href="#12--easy-pointer-manipulations" id="markdown-toc-12--easy-pointer-manipulations">12 &nbsp; Easy pointer manipulations</a></li>
      <li><a href="#13--taming-circular-type-dependencies" id="markdown-toc-13--taming-circular-type-dependencies">13 &nbsp; Taming circular type dependencies</a></li>
      <li><a href="#14--with-macro" id="markdown-toc-14--with-macro">14 &nbsp; ‘with’ macro</a></li>
      <li><a href="#15--aliases" id="markdown-toc-15--aliases">15 &nbsp; Aliases</a></li>
    </ul>
  </li>
  <li><a href="#iv--the-grand-finale" id="markdown-toc-iv--the-grand-finale">IV — The Grand Finale</a>    <ul>
      <li><a href="#16--saving-memory-by-object-field-reordering" id="markdown-toc-16--saving-memory-by-object-field-reordering">16 &nbsp; Saving memory by object field reordering</a>        <ul>
          <li><a href="#the-enigma" id="markdown-toc-the-enigma">The Enigma</a></li>
          <li><a href="#the-explanation" id="markdown-toc-the-explanation">The Explanation</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#outro" id="markdown-toc-outro">Outro</a></li>
</ul>

<h2 id="intro">Intro</h2>

<p>Greetings fellow Nim adventurers! Below you will find 16 handy Nim tips
&amp; tricks I came across while developing a medium-sized GUI program this year,
<a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
(<a href="https://github.com/johnnovak/koi">and</a>
<a href="https://github.com/johnnovak/nim-riff">related</a>
<a href="https://github.com/johnnovak/nim-binstreams">libraries</a>).  Some of them are
about less known or undocumented Nim features or standard library functions,
a few are workarounds for some rough edges of the language, and there’s also
a handful of useful techniques I read about in forums or have invented on my
own.</p>

<p>All tips are for Nim 1.4.2 and beyond, and most are applicable to the
C backend. I hope you’ll find something useful here that will make your time
with Nim more enjoyable and productive!</p>

<h2 id="i--the-not-so-obvious">I — The Not-So-Obvious</h2>

<h3 id="1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</h3>

<p>Nim touts itself as a language capable of generating small native binaries.
But just naively compiling some program with <code>nim c -d:release</code> and looking at
the file sizes will make you wonder about the validity of that claim!</p>

<p>A release build of <a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
weighs around 12 megs. Anything but small, if you ask me!<sup id="fnref:small" role="doc-noteref"><a href="#fn:small">1</a></sup> Sure, it
statically links <a href="https://github.com/johnnovak/nim-glfw">GLFW</a> and
<a href="https://github.com/johnnovak/nim-nanovg">NanoVG</a> and a bunch of other Nim
libraries, but to put things into perspective, <a href="https://reaper.fm/">REAPER</a> (a
highly-advanced and complex DAW written in C/C++) is about the same size at
~13 megs! Surely, my program is much simpler than REAPER, so what’s going on
here?</p>

<p>It turns out that gcc debug symbols are included in Nim binaries by default,
which can account for a quite substantial 2-to 5-fold size increase! Luckily,
we can remove them easily with the <code>strip</code> command which comes with gcc.</p>

<p>How about trying to optimise for a small executable with <code>--opt:size</code>?  Sure,
that would yield about 30% smaller binaries, but at the expense of some
potential runtime performance loss. So while it might not always be the best
option, but you can always it <em>and</em> strip the debug symbols for even bigger
savings.</p>

<p>Finally, if you’re hell-bent on producing smallest possible binary,
compressing it with an executable packer like <a href="https://upx.github.io/">UPX</a>
could be just the ticket.</p>

<p>The below table summarises my findings with some concrete data:</p>

<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>12,177,797</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>2,269,696</td>
      <td>0.18</td>
    </tr>
    <tr>
      <td>compressed</td>
      <td>806,912</td>
      <td>0.07</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>7,959,126</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>1,655,296</td>
      <td>0.21</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>623,104</td>
      <td>0.08</td>
    </tr>
  </tbody></table>

  <figcaption>Table 1 — Comparison of compiled executable sizes for Gridmonger
  (with and without debug symbols, and without debug symbols and compressed
  with UPX) </figcaption>
</figure>

<p>I had repeated the experiment with the following minimal Nim program:</p>



<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release</code></td>
      <td>original</td>
      <td>125,068</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>73,728</td>
      <td>0.59</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>31,232</td>
      <td>0.25</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size</code></td>
      <td>original</td>
      <td>87,812</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>36,352</td>
      <td>0.41</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>18,944</td>
      <td>0.22</td>
    </tr>
  </tbody></table>

  <figcaption>Table 2 — Comparison of compiled executable sizes for a minimal
  Nim program (with and without debug symbols, and without debug symbols and
  compressed with UPX)</figcaption>
</figure>

<p>It is important to note that the presence of debug symbols in a binary <em>does
not</em> affect its runtime performance whatsoever. This is because debug symbols
are not even loaded into memory during normal use, only when debugging. So
really it only affects the space the executable takes up on disk.</p>

<p>In case you’re wondering, you’ll still get nice Nim stack traces with
a stripped binary if you compiled it with <code>-d:debug</code> or <code>--stacktrace=on
--linetrace=on</code> (more on that in the next tip).</p>

<h3 id="2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</h3>

<p>Creating a release build with <code>-d:release</code> gives you a speed boost, but at
the price of turning off stack traces (among other things). This can be a problem
if you’re trying to implement a crash-reporting mechanism for end-users,
which involves surrounding your main method with a <code>try/except</code> block and
writing exceptions with stack traces to a log file.</p>

<p>Luckily, you don’t need to ship debug builds to your users just to be able to
do that; you can still use <code>-d:release</code> to get most optimisation benefits
while turning stack traces back on with <code>--stacktrace=on --linetrace=on</code>. The
performance of the resulting binary might be a bit slower, but you know, life
is all about the right trade-offs.</p>

<h3 id="3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</h3>

<p>Nim defaults to the <code>refc</code> garbage collector (deferred reference counting with
a mark &amp; sweep phase for cycle collection), which works very well, even for
soft-realtime requirements. But did you know that there has been a brand new
GC introduced in 1.2.x that offers reduced memory footprint and even better
performance in most cases?</p>

<p>This is ARC, the fully deterministic Automatic Reference Counting garbage
collector. Switching to ARC is as easy as supplying the <code>--gc:arc</code> option to
the compiler. It’s a drop-in replacement for most programs. Depending on your
program, you might want to use it with the <code>--deepcopy:on
--hint[Performance]:off</code> options.</p>

<p>ARC has many other benefits, including hard realtime support, shared heaps
between threads, and simplifying the C FFI.  Mind you, ARC cannot handle
cyclic data structures. But it has a big brother called ORC, which adds support
for that.</p>

<p>You can learn more about ARC and ORC in this <a href="https://nim-lang.org/blog/2020/10/15/introduction-to-arc-orc-in-nim.html">excellent blog
post</a>
on the Nim website.</p>

<h3 id="4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</h3>

<p>Setting the icon for Windows executables is probably easier with Visual
Studio, but anyhow, here are the instructions for gcc/MinGW that I’m using.</p>

<ol>
  <li>
    <p>First, you’ll need to generate an <code>.ico</code> file that contains your icon image
in multiple resolutions. There’s lots of online tools for that, and there’s
also ImageMagick—this is outside the scope of this article.</p>
  </li>
  <li>
    <p>Once you have your image, you’ll need to create a resource definition <code>.rc</code>
file that references your icon file. I used <code>appicon</code> here for the ID, but
you can use any other string, it doesn’t matter:</p>

    <div><div><pre><code> appicon ICON "gridmonger.ico"
</code></pre></div>    </div>
  </li>
  <li>
    <p>The next step is to create the resource object file from the <code>.rc</code> file
(<code>windres</code> is included in MinGW):</p>

    <div><div><pre><code> windres gridmonger.rc -O coff -o gridmonger.res
</code></pre></div>    </div>
  </li>
  <li>
    <p>Finally, we need to instruct the compiler to link the resource file
into our program:</p>

    <div><div><pre><code> <span>when</span> <span>defined</span><span>(</span><span>windows</span><span>):</span>
   <span>{.</span><span>link</span><span>:</span> <span>"icons/gridmonger.res"</span><span>.}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</h3>

<p>This will be a rather short one but it took me a while to figure it out. It
turns out that when you link against the Windows libraries by passing
<code>-mwindows</code> to the linker (<code>-L:-mwindows</code>), you won’t be able to print stuff
the console with <code>echo</code> anymore.</p>

<p>“But this is a useless tip, of course you need to link against the Windows
libs in a GUI program!”, I hear you say. Well, not necessarily. In GLFW apps,
for example, you can get away with not linking against the Windows libs in
many cases. For instance, in Gridmonger I only need <code>-mwindows</code> so I can open
the standard open and save system dialogs. In my debug builds, I don’t link
against the Windows libs and I conditionally turn the calls to the dialog
functions to no-ops, and then I can do my debug printing to the console.</p>



<h3 id="6--using-keyword">6 &nbsp; ‘using’ keyword</h3>

<p>The
<a href="https://nim-lang.org/docs/manual.html#statements-and-expressions-using-statement">using</a>
keyword is a very useful, but often forgotten language feature. It helps to
cut down on redundancy when creating method call style APIs, or when passing
context objects around.</p>

<div><div><pre><code><span># Without `using`</span>
<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>)</span> <span>=</span> <span>...</span>

<span># With `using`</span>
<span>using</span> <span>l</span><span>:</span> <span>Level</span>
<span>using</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span>

<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>;</span> <span>a</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>;</span> <span>a</span><span>)</span> <span>=</span> <span>...</span>
</code></pre></div></div>

<h3 id="7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</h3>

<p>Did you know that the standard library has
a <a href="https://nim-lang.org/docs/browsers.html">browsers</a> module for the sole
purpose of opening URLs in the OS default browser in a cross-platform way?
In fact, I’ve been using Nim for 4 years and I’ve learned about this just
recently!</p>

<p>This is very handy if you want to navigate the user to a program’s website
from a desktop app, or to open local HTML documentation.</p>

<h3 id="8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</h3>

<p>Similarly, <a href="https://nim-lang.org/docs/os.html#getHomeDir">getHomeDir()</a> and
<a href="https://nim-lang.org/docs/os.html#getConfigDir">getConfigDir()</a> from the
<a href="https://nim-lang.org/docs/os.html">os</a> module are super handy if you need to
handle configuration files or program data in a cross-platform way.</p>

<h3 id="9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</h3>

<p>However sophisticated modern development tools might be, just echoing stuff to
the console is still one of the easiest and quickest ways to debug a program.
But writing things like <code>echo "foo: ", foo</code> for the hundredth time gets old
really fast. The <a href="https://nim-lang.org/docs/sugar.html#dump.m%2Cuntyped">dump</a>
macro in the standard <a href="https://nim-lang.org/docs/sugar.html">sugar</a> module
helps with exactly that.</p>

<p>Make sure to check out the other useful additions the module introduces!</p>

<div><div><pre><code><span>import</span> <span>sugar</span>

<span>var</span>
  <span>a</span> <span>=</span> <span>42</span>
  <span>s</span> <span>=</span> <span>"frobnicate"</span>
  <span>x</span> <span>=</span> <span>7</span>

<span>dump</span><span>(</span><span>a</span><span>)</span>
<span>dump</span><span>(</span><span>s</span><span>)</span>
<span>dump</span><span>(</span><span>a</span> <span>+</span> <span>x</span><span>)</span>

<span># prints:</span>
<span># a = 42</span>
<span># s = frobnicate</span>
<span># a + x = 49</span>
</code></pre></div></div>

<h3 id="10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</h3>

<p>Although you can use the regular <a href="https://nim-lang.org/docs/times.html">times</a>
module to measure elapsed time, to do it properly you really need a monotonic
timer. Such a thing has been added to the standard library recently in the
form of <a href="https://nim-lang.org/docs/monotimes.html">std/monotimes</a>.</p>

<div><div><pre><code><span>import</span> <span>os</span>
<span>import</span> <span>std</span><span>/</span><span>monotimes</span>
<span>import</span> <span>times</span>

<span>proc </span><span>durationToFloatMillis</span><span>*</span><span>(</span><span>d</span><span>:</span> <span>Duration</span><span>):</span> <span>float64</span> <span>=</span>
  <span>inNanoseconds</span><span>(</span><span>d</span><span>).</span><span>float64</span> <span>*</span> <span>1e-6</span>

<span>let</span> <span>t0</span> <span>=</span> <span>getMonoTime</span><span>()</span>
<span>sleep</span><span>(</span><span>10</span><span>)</span> <span># do something for a while</span>
<span>let</span> <span>d</span> <span>=</span> <span>getMonoTime</span><span>()</span> <span>-</span> <span>t0</span>

<span>echo</span> <span>durationToFloatMillis</span><span>(</span><span>d</span><span>)</span>
</code></pre></div></div>

<h3 id="11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</h3>

<p><a href="https://nim-lang.org/docs/manual.html#types-open-arrays">Openarrays</a>
are a handy Nim feature that allow you to …</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</a></em></p>]]>
            </description>
            <link>https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505492</guid>
            <pubDate>Tue, 22 Dec 2020 12:09:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new API backend for the jamstack]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25505353">thread link</a>) | @asim
<br/>
December 22, 2020 | https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html | <a href="https://web.archive.org/web/*/https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

    <article>

        

<!--         <header class="post-header">
            <a id="blog-logo" href="">
                
                    <span class="blog-title">Micro</span>
                
            </a>
        </header> -->

        <!-- <span class="post-meta">
            <time datetime="2020-12-22">22 Dec 2020</time>
            
        </span> -->

        <!-- <h1 class="post-title">Your new API backend for the jamstack</h1> -->

        <section>
            <p><br>
Last month we talked about a new architecture pattern, <a href="https://blog.m3o.com/2020/11/12/netlify-for-the-frontend-micro-for-the-backend.html">Netlify for the frontend, Micro for the backend</a>. As the frontend has evolved towards being dominated by the <a href="https://jamstack.org/">Jamstack</a>, we believe the backend also requires a fundamental shift in it’s design and consumption model.</p>

<p>Netlify, while largely agnostic of framework usage, has promoted decomposition of the traditional stack to something more driven by microservices and APIs. 
<a href="https://m3o.com/">Micro</a> has long been an advocate for that, both as an <a href="https://github.com/micro/micro">open source</a> project and now as a hosted platform called 
<a href="https://blog.m3o.com/2020/11/05/m3o-open-to-the-world.html">M3O</a>.</p>

<h2 id="get-started">Get Started</h2>

<p>If you want to skip right to getting started head to the <a href="https://m3o.com/signup">m3o.com/signup</a>.</p>

<h2 id="evolution-of-the-backend">Evolution of the Backend</h2>

<p>But what’s more, we’re seeing a need from the backend to evolve beyond providing traditional infrastructure services. It’s no longer enough to just focus on
authentication, configuration, storage, hosting, etc. What we really need is higher level APIs that provide business level value.</p>

<p>The most prime examples are Stripe, Twilio, Sengrid and Segment. Who focus on APIs for finance, communications and analytics. AWS, Google and others are providing 
coverage for infra level APIs.</p>

<p>What we really need is the next layer of abstraction. We need the building blocks for new types of APIs and services. Micro acts as a platform for these 
services and now we want to move into offering the next level of value add services.</p>

<h2 id="composition-and-value-add">Composition and Value Add</h2>

<p>What’s clear when working with microservices is that there’s an ability to decompose systems into smaller domain specific reusable services and then aggregate back 
up into many forms as value add services, products and then businesses.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/building-blocks.png">
</center>

<p>As you can see in this image and probably from common experience, most businesses are composed of the same generic building blocks from the infrastructure all the 
way up. It’s only when we get to the business specific requirements that we need our own services to handle that logic.</p>

<p>It’s insane that most of us continue to build the same systems on the backend over and over rather than reusing and building on the foundations of each others 
work. GitHub enabled this for open source at an accelerated pace but we’ve yet to see the same emerge for business logic, services and APIs.</p>

<p>It’s now our goal to facilitate this with a single unified platform and reusable services.</p>

<h2 id="introducing-micro-services">Introducing Micro Services</h2>

<p>Today we’re unveiling <a href="https://github.com/micro/services"><strong>Micro Services</strong></a>, a set of reusable building block services which can be used on the Micro Platform 
whether you’re self hosting the <a href="https://github.com/micro/micro">open source</a> project or using our managed platform <a href="https://m3o.com/">M3O</a>.</p>

<p>Browse directly to <a href="https://github.com/micro/services">github.com/micro/services</a> if you want to read through the code or kick the tyres locally.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/micro-services.png">
</center>



<h3 id="services-included">Services Included</h3>

<p>We’re including 10 services from the get go (available in <a href="https://github.com/micro/services">github.com/micro/services</a>):</p>

<ul>
  <li><strong>Helloworld</strong> - The canonical helloworld to kick the tyres</li>
  <li><strong>Chat</strong> - Messaging as an api to embed anywhere</li>
  <li><strong>Posts</strong> - The foundation for a headless CMS</li>
  <li><strong>Comments</strong> - Add comments to posts or replies to your app</li>
  <li><strong>Tags</strong> - Categorise your posts for quick searching</li>
  <li><strong>Feeds</strong> - Crawl and index RSS feeds into your posts service</li>
  <li><strong>Location</strong> - Realtime gps point location tracking and search</li>
  <li><strong>Messages</strong> - An inbox for private messages and related</li>
  <li><strong>Notes</strong> - Simple todo notes, lists, etc</li>
  <li><strong>Users</strong> - User management and authentication</li>
</ul>

<p>All of the above services are available to explore and deploy when logged in on <a href="https://web.m3o.com/">web.m3o.com</a>.</p>

<h2 id="getting-started-on-the-web">Getting Started on the Web</h2>

<p>As part of this announcement we’re releasing our new Web UI to quickly get up and running.</p>

<p>Head to <a href="https://m3o.com/signup">m3o.com/signup</a> to get started.</p>

<h3 id="deploy-services">Deploy Services</h3>

<p>When logged in you can head to the <a href="https://web.m3o.com/service/new">new service page</a> to explore and deploy any of the above 
plus any other Micro services you’ve built yourself directly from a public git url.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/new-service.png">
</center>

<h3 id="explore-api-endpoints">Explore API Endpoints</h3>

<p>After selecting and running a service, an instance of it gets deployed to your namespace. Once the service deploys it’s API endpoints can be explored and 
called directly from the web UI along with its running status and logs.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/callendpoint.png">
</center>


<h3 id="embed-services-using-microjs">Embed Services using Micro.JS</h3>

<p>All the services running can also be called from Javascript easily (currently only a vanilla JS client is available, more is coming), using what we call 
<strong>micro.js</strong>. See the embed tab for the code.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/microjs.png">
</center>
<p><br>
Micro.js provides a simple way to call services running on the platform, including handling authentication using a popup for login/registration, 
making it easy to add your micro services anywhere on the web.</p>

<p>For those interested in a typescript implementation of login, signup, user read and token refreshing API calls, the 
<a href="https://github.com/micro/web/blob/main/src/app/user.service.ts">relevant web dashboard code</a> can be useful.</p>

<h2 id="build-your-own">Build Your Own</h2>

<p>While we’re providing some services out of the box, Micro is an all encompassing ecosystem that includes a platform and framework for development 
in Go. We want to encourage everyone to get involved, whether it’s writing services for your own consumption or contributing them back to 
<a href="https://github.com/micro/services">github.com/micro/services</a> for everyone else’s consumption too.</p>

<h2 id="learn-more">Learn More</h2>

<p>To learn more about Micro itself head to open source website <a href="https://micro.mu/">micro.mu</a> or join us in <a href="https://slack.m3o.com/">slack</a>.</p>

        </section>

        

        

    </article>

</div></div>]]>
            </description>
            <link>https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505353</guid>
            <pubDate>Tue, 22 Dec 2020 11:47:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Painting by Prime Number (2018)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25504887">thread link</a>) | @rmeertens
<br/>
December 22, 2020 | http://www.pinchofintelligence.com/painting-by-prime-number/ | <a href="https://web.archive.org/web/*/http://www.pinchofintelligence.com/painting-by-prime-number/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					    <div>

<div>
<div>
<p>Two weeks ago I stumbled upon the concept of <a href="http://archive.bridgesmathart.org/2016/bridges2016-359.pdf">prime portraits</a>. In short, prime portraits are pictures in which each color is assigned a number. When we align every pixel, the result should be a prime number. Because I could not find the code used in the article, I decided to recreate these prime portraits in Python – in color! Below is the Jupyter Notebook with the code (<a href="https://github.com/rmeertens/prime_portraitshttps://github.com/rmeertens/prime_portraits">also available on Github</a>) I used to generate the Mona Lisa:</p>
<p><img src="http://www.pinchofintelligence.com/wp-content/uploads/2018/05/monalisa-prime.png" alt="mona lisa"></p>
<h2 id="The-concept">The concept</h2>
<p>A prime portrait is a prime number formatted as a matrix with X digits per line. When we select a color for each digit, we can generate an image.</p>
<p>Instead of doing this for many prime numbers and color schemes until you find something that resembles a known image, I have turned the process around. I have taken iconic images, such as the Mona Lisa and Starry Night, and converted them to images with only 10 colors. I assigned a digit to each color. Then I generated many similar images with a little bit of ‘noise’ added. The noise changed the colors in the images slightly, and thus the digits. If the digits in the image formed a prime number, I found a prime portrait!</p>
<p><img src="http://www.pinchofintelligence.com/wp-content/uploads/2018/06/starrynight-prime-386kb.png" alt="starry night"></p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>import</span> <span>matplotlib.pyplot</span> <span>as</span> <span>plt</span>
<span>%</span><span>matplotlib</span> <span>inline</span>

<span>import</span> <span>numpy</span> <span>as</span> <span>np</span>
<span>import</span> <span>skimage.transform</span>
<span>import</span> <span>skimage.io</span>
<span>from</span> <span>sklearn.cluster</span> <span>import</span> <span>KMeans</span>
<span>import</span> <span>scipy.misc</span>
<span>from</span> <span>PIL</span> <span>import</span> <span>Image</span><span>,</span> <span>ImageFont</span><span>,</span> <span>ImageDraw</span>

<span>import</span> <span>numpy</span> <span>as</span> <span>np</span>

<span>from</span> <span>multiprocessing</span> <span>import</span> <span>Pool</span>
<span>import</span> <span>time</span>
<span>import</span> <span>random</span>
<span>import</span> <span>warnings</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Testing-for-primality">Testing for primality</h2>
<p>When working with extremely long primes, the naive method of testing each divisor will take way too much time. There are a lot of prime numbers and checking your number for each possible divisor takes too long to test a lot of prime portraits.</p>
<p>Instead we take a probabilistic approach to the prime numbers. The <a href="https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test">Miller Rabin</a> test uses heuristics to determine if a number is (probably) prime or not. I downloaded the <a href="https://rosettacode.org/wiki/Miller%E2%80%93Rabin_primality_test#Python:_Probably_correct_answers">following code for the Miller-Rabin primality test from Rosetta code</a> to check for primality:</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>try_composite</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>,</span> <span>s</span><span>):</span>
    <span># test the base a to see whether it is a witness for the compositeness of n</span>
    <span>if</span> <span>pow</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>)</span> <span>==</span> <span>1</span><span>:</span>
        <span>return</span> <span>False</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>s</span><span>):</span>
        <span>if</span> <span>pow</span><span>(</span><span>a</span><span>,</span> <span>2</span><span>**</span><span>i</span> <span>*</span> <span>d</span><span>,</span> <span>n</span><span>)</span> <span>==</span> <span>n</span><span>-</span><span>1</span><span>:</span>
            <span>return</span> <span>False</span>
    <span>return</span> <span>True</span> <span># n is definitely composite</span>

    
<span>def</span> <span>is_probable_prime</span><span>(</span><span>n</span><span>,</span> <span>mrpt_num_trials</span> <span>=</span> <span>5</span><span>):</span>
    <span>"""</span>
<span>    Miller-Rabin primality test.</span>
 
<span>    A return value of False means n is certainly not prime. A return value of</span>
<span>    True means n is very likely a prime.</span>

<span>    """</span>
    <span>assert</span> <span>n</span> <span>&gt;=</span> <span>2</span>
    <span># special case 2</span>
    <span>if</span> <span>n</span> <span>==</span> <span>2</span><span>:</span>
        <span>return</span> <span>True</span>
    <span># ensure n is odd</span>
    <span>if</span> <span>n</span> <span>%</span> <span>2</span> <span>==</span> <span>0</span><span>:</span>
        <span>return</span> <span>False</span>
    <span># write n-1 as 2**s * d</span>
    <span># repeatedly try to divide n-1 by 2</span>
    <span>s</span> <span>=</span> <span>0</span>
    <span>d</span> <span>=</span> <span>n</span><span>-</span><span>1</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>quotient</span><span>,</span> <span>remainder</span> <span>=</span> <span>divmod</span><span>(</span><span>d</span><span>,</span> <span>2</span><span>)</span>
        <span>if</span> <span>remainder</span> <span>==</span> <span>1</span><span>:</span>
            <span>break</span>
        <span>s</span> <span>+=</span> <span>1</span>
        <span>d</span> <span>=</span> <span>quotient</span>
    <span>assert</span><span>(</span><span>2</span><span>**</span><span>s</span> <span>*</span> <span>d</span> <span>==</span> <span>n</span><span>-</span><span>1</span><span>)</span>
                                     
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>mrpt_num_trials</span><span>):</span>
        <span>a</span> <span>=</span> <span>random</span><span>.</span><span>randrange</span><span>(</span><span>2</span><span>,</span> <span>n</span><span>)</span>
        <span>if</span> <span>try_composite</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>,</span> <span>s</span><span>):</span>
            <span>return</span> <span>False</span>
        
    <span>return</span> <span>True</span> <span># no base tested showed n as composite</span>

<span>assert</span> <span>is_probable_prime</span><span>(</span><span>2</span><span>)</span>
<span>assert</span> <span>is_probable_prime</span><span>(</span><span>3</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>4</span><span>)</span>
<span>assert</span>  <span>is_probable_prime</span><span>(</span><span>5</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>123456789</span><span>)</span>
<span>primes_under_1000</span> <span>=</span> <span>[</span><span>i</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>2</span><span>,</span> <span>1000</span><span>)</span> <span>if</span> <span>is_probable_prime</span><span>(</span><span>i</span><span>)]</span>
<span>assert</span> <span>len</span><span>(</span><span>primes_under_1000</span><span>)</span> <span>==</span> <span>168</span>
<span>assert</span> <span>primes_under_1000</span><span>[</span><span>-</span><span>10</span><span>:]</span> <span>==</span> <span>[</span><span>937</span><span>,</span> <span>941</span><span>,</span> <span>947</span><span>,</span> <span>953</span><span>,</span> <span>967</span><span>,</span> <span>971</span><span>,</span> <span>977</span><span>,</span> <span>983</span><span>,</span> <span>991</span><span>,</span> <span>997</span><span>]</span>
<span>assert</span> <span>is_probable_prime</span><span>(</span><span>6438080068035544392301298549614926991513861075340134</span>\
<span>3291807343952413826484237063006136971539473913409092293733259038472039</span>\
<span>7133335969549256322620979036686633213903952966175107096769180017646161</span>\
<span>851573147596390153</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>7438080068035544392301298549614926991513861075340134</span>\
<span>3291807343952413826484237063006136971539473913409092293733259038472039</span>\
<span>7133335969549256322620979036686633213903952966175107096769180017646161</span>\
<span>851573147596390153</span><span>)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Generating-the-images">Generating the images</h2>
<p>The basis of the algorithm is generating images with only 10 possible color values. I did not know what a common approach to this is, so I thought applying a <a href="https://en.wikipedia.org/wiki/K-means_clustering">k-means algorithm</a> would work. To do this, I reshaped an input image (so each pixel is a point in 3D space), clustered this, and used the 10 created clusters as color values. Sidenote: when your hammer is machine learning, everything looks like a nail…</p>
<p>Important for the prime generation is that you add a little bit of noise to the original image to create images that look the same, but are slightly different. This means that you created a different number, which is a new chance for us to find a prime number.</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>get_k_means</span><span>(</span><span>image</span><span>):</span>
    <span>pointcloud</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>-</span><span>1</span><span>,</span> <span>3</span><span>))</span>
    <span>kmeans</span> <span>=</span> <span>KMeans</span><span>(</span><span>n_clusters</span><span>=</span><span>10</span><span>)</span><span>.</span><span>fit</span><span>(</span><span>pointcloud</span><span>)</span>
    <span>return</span> <span>kmeans</span>

<span>def</span> <span>create_numbered_image</span><span>(</span><span>image</span><span>,</span> <span>kmeans</span><span>):</span>
    <span>"""</span>
<span>    Turns an RGB image into an image with the labels of clusters of the supplied kmeans classifier. </span>
<span>    """</span>
    <span># apply noise</span>
    <span>stdev</span> <span>=</span> <span>np</span><span>.</span><span>std</span><span>(</span><span>image</span><span>)</span>
    <span>random_noise</span> <span>=</span> <span>np</span><span>.</span><span>random</span><span>.</span><span>random_sample</span><span>(</span><span>size</span><span>=</span><span>image</span><span>.</span><span>shape</span><span>)</span><span>*</span><span>(</span><span>stdev</span><span>/</span><span>3</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span> <span>+</span> <span>random_noise</span>
    
    <span>orig_shape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>image</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>-</span><span>1</span><span>,</span> <span>3</span><span>))</span>

    <span>numbered_image</span> <span>=</span> <span>kmeans</span><span>.</span><span>predict</span><span>(</span><span>image</span><span>)</span>
    <span>numbered_image</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>numbered_image</span><span>,</span> <span>orig_shape</span><span>[:</span><span>2</span><span>])</span>
    
    <span># make sure the end is uneven</span>
    <span>if</span> <span>numbered_image</span><span>[</span><span>-</span><span>1</span><span>,</span><span>-</span><span>1</span><span>]</span><span>%</span><span>2</span><span>==</span><span>0</span><span>:</span>
        <span>numbered_image</span><span>[</span><span>-</span><span>1</span><span>,</span><span>-</span><span>1</span><span>]</span> <span>+=</span> <span>1</span>

    <span>return</span> <span>numbered_image</span>

<span>def</span> <span>numbered_image_to_normal_image</span><span>(</span><span>numbered_image</span><span>,</span> <span>kmeans</span><span>):</span>
    <span>"""</span>
<span>    Turns an image with only values between 0 and 9 into a colored image by using the cluster centers </span>
<span>    of the supplied kmeans classifier. </span>
<span>    """</span>
    <span>shape</span> <span>=</span> <span>(</span><span>numbered_image</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>],</span> <span>numbered_image</span><span>.</span><span>shape</span><span>[</span><span>1</span><span>],</span> <span>3</span><span>)</span>
    <span>image</span> <span>=</span> <span>np</span><span>.</span><span>zeros</span><span>(</span><span>shape</span><span>)</span>
    <span>for</span> <span>label</span><span>,</span> <span>color</span> <span>in</span> <span>zip</span><span>(</span><span>range</span><span>(</span><span>10</span><span>),</span> <span>kmeans</span><span>.</span><span>cluster_centers_</span><span>):</span>
        <span>image</span><span>[</span><span>numbered_image</span><span>==</span><span>label</span><span>]</span> <span>=</span> <span>color</span>
    <span>return</span> <span>image</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h3 id="Numerised-image-examples">Numerised image examples</h3>
<p>Here I create a few examples of small numerised images of the Mona Lisa. If you look closely you can see each image is slightly different, but you can still recognise the original picture. This is crucial for us, as this allows us to generate multiple numerised images that we can test for primality.</p>
</div>
</div>
</div>
<div>
<div>
<p>In&nbsp;[4]:</p>
<div>
<div>
<div>
<pre><span>def</span> <span>load_and_resize_image</span><span>(</span><span>filename</span><span>,</span> <span>resize_factor</span><span>=</span><span>18</span><span>):</span>
    <span>image</span> <span>=</span> <span>skimage</span><span>.</span><span>io</span><span>.</span><span>imread</span><span>(</span><span>filename</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span><span>.</span><span>astype</span><span>(</span><span>np</span><span>.</span><span>float64</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span> <span>/</span> <span>255.</span>
    
    <span>oldshape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>with</span> <span>warnings</span><span>.</span><span>catch_warnings</span><span>():</span>
        <span>warnings</span><span>.</span><span>simplefilter</span><span>(</span><span>"ignore"</span><span>)</span>
        <span>resized_image</span> <span>=</span> <span>skimage</span><span>.</span><span>transform</span><span>.</span><span>resize</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>oldshape</span><span>[</span><span>0</span><span>]</span><span>//</span><span>resize_factor</span><span>,</span> <span>oldshape</span><span>[</span><span>1</span><span>]</span><span>//</span><span>resize_factor</span><span>))</span>

    <span>return</span> <span>resized_image</span>

<span>resized_image</span> <span>=</span> <span>load_and_resize_image</span><span>(</span><span>'input_pictures/monalisa.jpg'</span><span>)</span>
<span>kmeans</span> <span>=</span> <span>get_k_means</span><span>(</span><span>resized_image</span><span>)</span>
<span>N_IMAGES</span> <span>=</span> <span>3</span>

<span>f</span><span>,</span> <span>axarr</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>1</span><span>,</span><span>N_IMAGES</span><span>)</span>

<span>for</span> <span>index</span> <span>in</span> <span>range</span><span>(</span><span>N_IMAGES</span><span>):</span>
    <span>n_image</span> <span>=</span> <span>create_numbered_image</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>)</span>
    <span>normal_image</span> <span>=</span> <span>numbered_image_to_normal_image</span><span>(</span><span>n_image</span><span>,</span> <span>kmeans</span><span>)</span>
    <span>axarr</span><span>[</span><span>index</span><span>]</span><span>.</span><span>imshow</span><span>(</span><span>normal_image</span><span>)</span>
</pre>
</div>
</div>
</div>
</div>
<div>
<div>
<div>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAAC9CAYAAACj84abAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz AAALEgAACxIB0t1+/AAAEQRJREFUeJzt3XuMXOV5x/Hfg73GWWMwJrHlC+FSTIBUwpXWVqWiGJRL oWpLkNooqGqphOpUSv5AapGiVL2o/QeJ9JI/UFu3oQaJkBZaC6qiEkBchBQFmxYSqI3tEC5eGxvi uBg7xrv20z92XC1k32dmz5yZOfPM9yOh3Z13z5x35jfn2ePhmfOauwsAMPzOGvQEAAD1oKADQBIU dABIgoIOAElQ0AEgCQo6ACRBQQeAJCjoAJAEBR0AkljYzcZmdr2kb0haIOkf3f2O6PfHl5zt5y1b 0s0u52Vq6lSl7cbGFtQ8k2b53yPHdPzY+1Yab3quTRO9zvr9Wnpr/0/ecfePlcbnk+2o59ok7XI9 o3JBN7MFku6S9FlJ+yRtN7OH3f1/Stuct2yJfvf3P1N1l/N28MC7lbZbuercmmfSLFv/7vHi2DDk 2jTR66zfr6U7/uSB10tj88121HNtkijX2bp5y2WjpL3u/qq7n5T0bUk3dnF/aAZyzYtsk+umoK+R 9Oasn/e1bsNwI9e8yDa5nv9PUTPbbGY7zGzH8WPv93p36BNyzYlch1s3BX1S0oWzfl7buu0D3H2L u0+4+8T4krO72B36hFzzapstuQ63bgr6dknrzOwSM1sk6YuSHq5nWhggcs2LbJOr3OXi7tNm9hVJ j2qmBepud3+5tpnN8vEVS4tjbxw6Whyr2mEQ7a+daD5VH0ekylwXLSz/Ha8716rPZdXnI9KrXDdc XX4buurroRfqzLZJuQ5CLx5/Ha+HrvrQ3f0RSY90PQs0CrnmRba58UlRAEiCgg4ASVDQASAJCjoA JEFBB4Akuupyma9FC8+qvVWrF61fLz/wZHFs92R89bybbvtUcaxJLWx1GvVcI+T6QVlyrarXrwfO 0AEgCQo6ACRBQQeAJCjoAJAEBR0AkqCgA0ASfW1bbJIbLp4qj91+TXHs63c+G97vXX9RHv/yH5fv F/Ug15zItTOcoQNAEhR0AEiCgg4ASVDQASAJCjoAJEFBB4AkUrctjr/+Snnw4ksr3ecnf/O6cPyp oA2qnwtBZ0auOfUi1w0bV4fjT+16uzg2jLlyhg4ASVDQASAJCjoAJEFBB4AkKOgAkAQFHQCS6Kpt 0cxek3RU0ilJ0+4+Ef3+sZ9OafuLk3OOrVx1bnG7gwfeLY5tWvZecWz7c/vL220qt0E9/fSrxbEb gu0k6a5g7N///sXi2K996eriWNXFpUvbnZw+XdzmjPlke3L6dKUWryjXDVevKY5t2z5dHNu0qby/ QeS68dcvCe+3pEqunZhPrr04XqNce3G8RttJ0p33ltsW+51rHeroQ7/O3d+p4X7QPGSbE7kmxVsu AJBEtwXdJX3HzJ43s811TAiNQbY5kWti3b7lco27T5rZCkmPmdkud39m9i+0XjSbJWnJOYu73B36 KMx2dq7nnjc+qDli/jrOleN1+HR1hu7uk62vhyRtk7Rxjt/Z4u4T7j6x+COLutkd+qhdtrNzHV9y 9iCmiArmkyvH6/CpXNDNbImZLT3zvaTPSXqprolhcMg2J3LNr5u3XFZK2mZmZ+7nW+7+n9EGJ4++ r31P/nDOscNrLyhut3zdsuLY00fOKY7tm1xQ3i5odYrap3pl5zNvVNruYPDclExNnWr3K/PK9tjh 43r+W/8959h4xVwfffDl4tjxfT8ujjUt18N7jlTaLmr9q3qfmm+uR97Xcw//aM6xy648v7iTyrkO 0fEaZRCNVTle56NyQXf3VyWVm6cxtMg2J3LNj7ZFAEiCgg4ASVDQASAJCjoAJEFBB4AkGrNIdNTq FLUBRdtFLXP3bTtYHPutm8oLy7ZvkRorjqxeWr7KYdXHHyltN32ibdtibXqRa2QQuUaqPo4mGFtQ fs2Sa/25dtGO+v84QweAJCjoAJAEBR0AkqCgA0ASFHQASIKCDgBJ9LVt8ayxhcVWwqqtTtFitZHo in3diFoT9x8t//1cG9xn1Rap0nYLXyxf1a5uvWhhi7aLcj1+0SfKd9qmva1qrr0QPm+P17efXhyv kVHItWq96jRXztABIAkKOgAkQUEHgCQo6ACQBAUdAJKgoANAEkNxtcVIaXFiKW47uv13VhbHNm26 tNKYFC9mG10xLmoD++Xf+GRx7I1DR4tj0ULDdYra29b6oeJ2x1XOvLSYuNRFrhdPFcduuP2a4pgU 57pt+3RxLHocN932qeJYlGvVBcXn6/TUdLFd8PI15St2RrlGr/O9O39SHBtErtHxWjXX8ddfKY4d VHnB+05xhg4ASVDQASAJCjoAJEFBB4AkKOgAkAQFHQCS6Gvb4iJNldvYdpfb2zZsDBaBDdqnNFke atd+WFW0KO3la4INg/a+Rx8sbxa1NH58xdI5b3/iP6otjFsS5hrYtOy94tgw5RpdKVNB5o8++HJx LMw1GHvo8e9Fs5mXxWMetieWhLlGbaxLy1cBbdzxGqia64aLyvf5Tx3uu+0ZupndbWaHzOylWbct N7PHzGxP6+v5He4PDUK2OZHr6OrkLZetkq7/0G1flfSEu6+T9ETrZwyfrSLbjLaKXEdS24Lu7s9I Ovyhm2+UdE/r+3skfb7meaEPyDYnch1dVd9DX+nuB1rfvyWp+LlcM9ssabMknbO4fyvloLKOsiXX oUOuI6DrLhd3d0kejG9x9wl3n/jIGC+QYRJlS67Di1zzqlrQD5rZKklqfZ1/iwOaimxzItcRUPUt l4cl3SLpjtbXh7qdSNSaGNk9WT6LqNJy1UtP7Sq3Cx46cqI4tmJZ+Sp0ax94sjh2/PLL57z92E/L V6dTzdlWzTV6rq69Ipx/3zUl1zbIdZ6GJNcP6KRt8X5J35X0CTPbZ2a3auZF8Vkz2yPpM62fMWTI NidyHV1tz9Dd/ebC0Kdrngv6jGxzItfRxUf/ASAJCjoAJEFBB4AkKOgAkAQFHQCS6Ovlc09MWblv PLiMZWR87Yri2L5guz9/qPy5ivHdu8v3aeX9SdLeoHd19dLTxbFrryj30z+1q7y/sK9Xcz+Os06U e2irOHrCgnlUy3V1cCnVKIMo10iUuRQ/z/3O9TI7Ut6wRr3I9bIrR/t4jT43M15DrpyhA0ASFHQA SIKCDgBJUNABIAkKOgAkQUEHgCT62rYYrSIeXY7zznvfDu61fKnKqO0ocjhoddq7s7y/bkRtapHo MZYux3n6+z+utK+Ssxcv1GVXzr3m8IYN5ZfYfdsOFsf2Hw3ONYIMLitvFXqu4vPfTi9yXb5uWXnD xyvtbk5LF3vxkrbR8RrnWu34iXIdpuN1fO0FxbE6cuUMHQCSoKADQBIUdABIgoIOAElQ0AEgCQo6 ACTR17bFkxorXv3sqaA1sdQSJ0nH95Vb8KLWt9XBdrHqfwNfePNkcWzFssWV7jN6jON75r562/SJ uVtHeyFqYYtauKJ8osccvR5i/c81WjleKm9XyrVu0fG6O0muUQaHgqd5/YWLimPR44jaKKu23M7G GToAJEFBB4AkKOgAkAQFHQCSoKADQBIUdABIom3bopndLelXJR1y959v3fZnkn5P0plew6+5+yPd TCS6ulx8xbRqf5Oi1qrIoe8eqLSdVL01MWqtiu6zdPW2hS8u6FuukX7nGrW+xS2Ew2XQ2TYp114J rwZa0VqvtsD5bJ3Maquk6+e4/a/dfX3rv54d9OiZrSLXrLaKbEdS24Lu7s9IOtyHuaCPyDUvsh1d 3fy74Stm9n0zu9vMih/lNLPNZrbDzHacnJr7YvloFHLNq2225Drcqhb0v5X0c5LWSzog6S9Lv+ju W9x9wt0nFo31ZlUY1IZc8+ooW3IdbpUKursfdPdT7n5a0j9I2ljvtDAI5JoX2Y6GSgXdzFbN+vEm SS/VMx0MErnmRbajoZO2xfslXSvpo2a2T9KfSrrWzNZLckmvSfpSJzt7/8R0saVp9dLydlFLY9TO 9Dd/OPciyZL09NOvFseiRanbtR72ov2tarvj4eBqiyOZ687y+UvV57gbvdpnXdlmyLWb4zHKJ3qM VVsaS1e2nPGjju6jbUF395vnuPmbHd07Gotc8yLb0cUnRQEgCQo6ACRBQQeAJCjoAJAEBR0Akujr ItGRqq0+0cKqUavTpk2XVtpf1NIo9abVqep2pavQnZ6aLm5Ttyy5RqJ8erGAdPUFzutDrvUv+B5f pbIznKEDQBIUdABIgoIOAElQ0AEgCQo6ACRBQQeAJBrTthiJWriuDRZW3bTpmuJY1CK1/bn95f1d URySJO2eXBD/QgVRi1Rs7vapqVPV59Iv0YK5w5Rr1dbESC8WKK7TKByv6y9cVBx74c1qudZx9c1m vzIAAB2joANAEhR0AEiCgg4ASVDQASAJCjoAJDEUbYtRO8/uyfIV0b5+57PBdlG7Unmsm5axXiwg Pcyi52P3ZLktrGm5RqpmPohFq/shymcQuWY7JjlDB4AkKOgAkAQFHQCSoKADQBIUdABIgoIOAEm0 bVs0swsl3StppSSXtMXdv2FmyyX9s6SLJb0m6Qvu3v0qp/MUtSXt31X/36ssbU515jp9yis9L1Fr 3v6j5e2q5jpM2UVzbdPSOGZmT2qAuUY4Xnurk2dwWtIfuPtVkn5R0pfN7CpJX5X0hLuvk/RE62cM D3LNi1xHVNuC7u4H3P2/Wt8flbRT0hpJN0q6p/Vr90j6fK8mifqRa1pT5Dq65vVJUTO7WNIvSPqe pJXufqA19JZm/ok31zabJW2WpLEFQ/HB1JHTba5nWf2LeqB75Dp6On7TyszOkfSvkm5z93dnj7m7 a+b9up/h7lvcfcLdJxacxQukaerIlQO/ech1NHVU0M1sTDMvjvvc/d9aNx80s1Wt8VWSymtLoZHI NSdyHV1tC7qZmaRvStrp7n81a+hhSbe0vr9F0kP1Tw+9Qq6pkeuI6uRN7V+S9NuSfmBmL7Ru+5qk OyT9i5ndKul1SV/oZiJdtGnVfp8j0upUW64LF1jx+WzSczkimZ+jAefa7ytFZsmujsfRtqC7+7OS rDD86a5ngIEg17Tec3dyHVF8UhQAkqCgA0ASFHQASIKCDgBJUNABIAmb+dBYn3Zm9rZmWqYk6aOS 3unbzttr0nx6PZeL3P1jdd3Zh3KVRuu5nI9+zKW2bMm1Y43Jta8F/QM7Ntvh7hMD2fkcmjSfJs2l iibNn7nUp0nzZy5z4y0XAEiCgg4ASQyyoG8Z4L7n0qT5NGkuVTRp/sylPk2aP3OZw8DeQwcA1Iu3 XAAgiYEUdDO73sxeMbO9ZjbQtQ3N7DUz+4GZvWBmOwaw/7vN7JCZvTTrtuVm9piZ7Wl9Pb/f86qC XD+wf3Lt3XwGlm3Tc+17QTezBZLuknSDpKsk3dxaxHaQrnP39QNqPdoq6foP3TZ0C/qS68/YKnLt pUFlu1UNznUQZ+gbJe1191fd/aSkb2tmAduR5O7PSDr8oZuHcUFfcp2FXHNqeq6DKOhrJL056+d9 rdsGxSV9x8yeby2Q2wQdLejbMOTaHrnWo2nZNibXTlYsyu4ad580sxWSHjOzXa2/wo3g7m5mtCLN H7nm1dhsB53rIM7QJyVdOOvnta3bBsLdJ1tfD0nappl/Yg7aMC7oS67tkWsNGphtY3IdREHfLmmd mV1iZoskfVEzC9j2nZktMbOlZ76X9DlJL8Vb9cUwLuhLru2Ra5camm1zcnX3vv8n6Vck7Zb0Q0l/ NIg5tOZxqaQXW/+9PIi5SLpf0gFJU5p5f/JWSRdo5v+W75H0uKTlg3qOyJVcm5JrE7Jteq58UhQA kuCTogCQBAUdAJKgoANAEhR0AEiCgg4ASVDQASAJCjoAJEFBB4Ak/g9Onos1mQ8EhgAAAABJRU5E rkJggg=="></p>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Helper-functions">Helper functions</h2>
<p>I had to create some helper functions to return strings, integers, and load and show images.</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>image_to_number</span><span>(</span><span>numbered_image</span><span>):</span>
    <span>to_be_number</span> <span>=</span> <span>numbered_image</span><span>.</span><span>reshape</span><span>(</span><span>-</span><span>1</span><span>)</span>
    <span>as_string</span> <span>=</span> <span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>int</span><span>(</span><span>x</span><span>))</span> <span>for</span> <span>x</span> <span>in</span> <span>to_be_number</span><span>])</span>
    <span>as_int</span> <span>=</span> <span>int</span><span>(</span><span>as_string</span><span>)</span>
    <span>return</span> <span>as_int</span><span>,</span> <span>as_string</span>


<span>def</span> <span>show_and_save_image</span><span>(</span><span>image</span><span>,</span> <span>n_image</span><span>,</span> <span>filename</span><span>,</span> <span>fontsize</span><span>=</span><span>16</span><span>):</span>
    <span>oldshape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>resized_image</span><span>=</span> <span>scipy</span><span>.</span><span>misc</span><span>.</span><span>imresize</span><span>(</span><span>image</span><span>,(</span><span>oldshape</span><span>[</span><span>0</span><span>]</span><span>*</span><span>fontsize</span><span>,</span> <span>oldshape</span><span>[</span><span>1</span><span>]</span><span>*</span><span>fontsize</span><span>),</span> <span>interp</span><span>=</span><span>'nearest'</span><span>)</span>
    <span>img</span> <span>=</span> <span>Image</span><span>.</span><span>fromarray</span><span>(</span><span>resized_image</span><span>)</span><span>.</span><span>convert</span><span>(</span><span>"RGBA"</span><span>)</span>
    <span>txt</span> <span>=</span> <span>Image</span><span>.</span><span>new</span><span>(</span><span>'RGBA'</span><span>,</span> <span>img</span><span>.</span><span>size</span><span>,</span> <span>(</span><span>255</span><span>,</span><span>255</span><span>,</span><span>255</span><span>,</span><span>0</span><span>))</span>

    <span>draw</span> <span>=</span> <span>ImageDraw</span><span>.</span><span>Draw</span><span>(</span><span>txt</span><span>)</span>
    <span>font</span> <span>=</span> <span>ImageFont</span><span>.</span><span>truetype</span><span>(</span><span>"pirulen rg.ttf"</span><span>,</span> <span>fontsize</span><span>)</span>
    <span>for</span> <span>y_i</span><span>,</span> <span>totype</span> <span>in</span> <span>enumerate</span><span>(</span><span>n_image</span><span>):</span>
        <span>for</span> <span>x_i</span><span>,</span> <span>letter</span> <span>in</span> <span>enumerate</span><span>(</span><span>totype</span><span>):</span>
            <span>xpos</span> <span>=</span> <span>x_i</span> <span>*</span> <span>fontsize</span> <span>+</span> <span>1</span>
            <span>ypos</span> <span>=</span> <span>y_i</span> <span>*</span> <span>fontsize</span>
            <span>if</span> <span>letter</span> <span>==</span> <span>1</span><span>:</span>
                <span>xpos</span> <span>+=</span> <span>4</span>
            <span>draw</span><span>.</span><span>text</span><span>((</span><span>xpos</span><span>,</span> <span>ypos</span><span>),</span><span>str</span><span>(</span><span>letter</span><span>),(</span><span>255</span><span>,</span><span>255</span><span>,</span><span>255</span><span>,</span> <span>128</span><span>),</span><span>font</span><span>=</span><span>font</span><span>)</span>
    <span>img</span> <span>=</span> <span>Image</span><span>.</span><span>alpha_composite</span><span>(</span><span>img</span><span>,</span> <span>txt</span><span>)</span>    

    <span>img</span><span>.</span><span>save</span><span>(</span><span>filename</span><span>)</span>
    <span>plt</span><span>.</span><span>figure</span><span>(</span><span>figsize</span><span>=</span><span>(</span><span>20</span><span>,</span><span>20</span><span>))</span>
    <span>plt</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>)</span>
    <span>plt</span><span>.</span><span>show</span><span>()</span>

<span>def</span> <span>result_filename</span><span>(</span><span>filename</span><span>):</span>
    <span>return</span> <span>filename</span><span>.</span><span>split</span><span>(</span><span>'.'</span><span>)[</span><span>0</span><span>]</span> <span>+</span> <span>"-prime.png"</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<p>To verify if something is a good prime portrait I made the following helper functions:</p>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>is_good_prime_portrait</span><span>(</span><span>n_image</span><span>):</span>
    <span>integer</span><span>,</span> <span>string</span> <span>=</span> <span>image_to_number</span><span>(</span><span>n_image</span><span>)</span>
    <span>if</span> <span>is_probable_prime</span><span>(</span><span>integer</span><span>):</span> 
        <span>return</span> <span>integer</span><span>,</span> <span>string</span><span>,</span> <span>n_image</span>
    <span>else</span><span>:</span>
        <span>return</span> <span>None</span>
    
    
<span>def</span> <span>print_result</span><span>(</span><span>string</span><span>,</span> <span>n_image</span><span>):</span>
    <span>print</span><span>(</span><span>string</span><span>)</span>
    <span>print</span><span>(</span><span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>for</span> <span>line</span> <span>in</span> <span>n_image</span><span>:</span>
        <span>print</span><span>(</span><span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>x</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>line</span><span>]))</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Multi-threaded-searching">Multi threaded searching</h2>
<p>At first I created a single-threaded solution, which worked. However, my laptop has multiple cores and could work on multiple numbers at the same time, so I rewrote my initial approach in a multi-threaded fashion:</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>print_result</span><span>(</span><span>string</span><span>,</span> <span>n_image</span><span>):</span>
    <span>print</span><span>(</span><span>"Found a result: "</span> <span>+</span> <span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>print</span><span>(</span><span>string</span><span>)</span>
    <span>print</span><span>(</span><span>"Represented as portrait:"</span> <span>+</span> <span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>for</span> <span>line</span> <span>in</span> <span>n_image</span><span>:</span>
        <span>print</span><span>(</span><span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>x</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>line</span><span>]))</span>

<span>def</span> <span>multi_threaded_prime_generator</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>,</span> <span>filename</span><span>,</span> <span>threads</span><span>=</span><span>4</span><span>,</span> <span>log_process</span><span>=</span><span>True</span><span>):</span>
    <span>image_generator</span> <span>=</span> <span>(</span><span>create_numbered_image</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>)</span> <span>for</span> <span>_</span> <span>in</span> <span>range</span><span>(</span><span>1000000</span><span>))</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span> 
    <span>with</span> <span>Pool</span><span>(</span><span>threads</span><span>)</span> <span>as</span> <span>pool</span><span>:</span>
        <span>results</span> <span>=</span> <span>pool</span><span>.</span><span>imap_unordered</span><span>(</span><span>is_good_prime_portrait</span><span>,</span> <span>image_generator</span><span>)</span>
        <span>total_results</span> <span>=</span> <span>0</span>
        
        <span>for</span> <span>result</span> <span>in</span> <span>results</span><span>:</span>
            <span>total_results</span> <span>+=</span> <span>1</span>
            
            <span># Possibly log time spend searching this prime number</span>
            <span>if</span> <span>log_process</span> <span>and</span> <span>total_results</span><span>%</span><span>30</span><span>==</span><span>0</span><span>:</span>
                <span>elapsed</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
                <span>elapsed</span> <span>=</span> <span>elapsed</span> <span>-</span> <span>start</span>
                <span>print</span><span>(</span><span>"Seconds spent in (function name) is </span><span>{}</span><span> time per result: </span><span>{}</span><span>"</span><span>.</span><span>format</span><span>(</span><span>str</span><span>(</span><span>elapsed</span><span>),</span> <span>str</span><span>(</span><span>elapsed</span><span>/</span><span>total_results</span><span>)))</span>

                
            <span>if</span> <span>result</span> <span>!=</span> <span>None</span><span>:</span> 
 …</pre></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.pinchofintelligence.com/painting-by-prime-number/">http://www.pinchofintelligence.com/painting-by-prime-number/</a></em></p>]]>
            </description>
            <link>http://www.pinchofintelligence.com/painting-by-prime-number/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504887</guid>
            <pubDate>Tue, 22 Dec 2020 10:36:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From product analytics to product observability]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504778">thread link</a>) | @bastienbeurier
<br/>
December 22, 2020 | https://www.lantern.so/blog/from-product-analytics-to-product-observability | <a href="https://web.archive.org/web/*/https://www.lantern.so/blog/from-product-analytics-to-product-observability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Early ventures don't start with optimization. You begin with a big, bold bet that whatever you’re going to make will cause a revolution. Your product goes through several iterations, entirely transforming throughout the process. You test the strength of a founder's dream.</p><p>Products at this stage are simple, characterized by one 'killer' feature. Often the product doesn't have the chance to fulfill the advertised value and that's okay. The goal at this stage is to validate the appetite of the users: attract them, disappoint them, and leave them hungry for more.</p><p>Product development in this context is chaotic. No roadmap, mostly negative feedback, no clear sense of progress, and definitely no certainty when the next pivot will come. No one knows how the product will look in a month. It's the 'build things that don't scale' phase, taking shortcuts that somewhat work and dealing with most problems later.</p><p>This is where your headlight comes in: product analytics. You use product analytics to drill down what works and what doesn't. Product analytics also tell you if people are actually using your product: you choose a 'North Star' metric that guides your company in the right direction and tells you if your efforts are bearing fruit.</p><p>Then, the company moves on to the next phase. The road ahead becomes clear, product development becomes more linear, and the product itself stabilizes. It's all about doing more of the same thing. You start to build things that scale. It's the beginning of the optimization phase.</p><p>Your roadmap is clearer, traffic grows, the product becomes more and more complex and dynamic. A variety of variables start to influence the way your product performs: marketing, sales, product development, customer success, support, business development, partnerships, promotions, etc.</p><p>You realize all of a sudden the data that helped you find your feet is overwhelming you. You're swimming in data from more and more sources about how your user-base is growing, how people are interacting with your brand and your product. As your data stack grows larger and your dashboards multiply, you start getting the feeling that you’re missing something vital.</p><p>In this fast-growing deluge of data, a missing piece comes into play: product observability. Product observability keeps track of user behavior all the time, at the finest level of granularity to the highest level of abstraction.</p><p>There are many reasons why people change their behavior. Adjustments to the product, holidays, a new offering from a competitor, changing habits, etc. Product observability is capable of spotting those changes and flagging the issue as a problem or, perhaps, an opportunity. Product observability analyzes all your data all the time, noticing the finest-grained changes to overarching trends.</p><p>Product observability is proactive. Product observability informs you that something needs your attention due to a change in user behavior. Or, you learn that what you're doing is working really well and you need to double-down on your efforts. You get details on the origin of the changes and the impact it could have on your business.</p><p>Once you've reached the market with your product, you already know that you're creating value for people. But now the question becomes how much value can you capture? And for how many users? Product observability optimizes your product's ability to create value by automatically giving you feedback on what you need to fix and keep on doing.</p><p>If you’re interested in trying proactive analytics, sign up for Lantern's early access program <a href="https://lantern.so/">here</a>.</p></div></div><div><div><div><p>Subscribe to our newsletter</p><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><h4>About</h4><p>Ideas and advice on how to leverage analytics in modern product teams.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.lantern.so/blog/from-product-analytics-to-product-observability</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504778</guid>
            <pubDate>Tue, 22 Dec 2020 10:17:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why can’t you buy a good webcam?]]>
            </title>
            <description>
<![CDATA[
Score 734 | Comments 732 (<a href="https://news.ycombinator.com/item?id=25504771">thread link</a>) | @murkt
<br/>
December 22, 2020 | https://vsevolod.net/good-webcams/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/good-webcams/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <p>Some people are not satisfied with a webcam from their notebook or an old webcam
they bought many years ago.</p>
<p>My brother decided he wants to try streaming. Some people can just do a thing
and other people want to research all the bits and pieces beforehand. Our chat
history is comparable in length to all my other chats combined, so I learned a
lot of it as well. The craft is full with small details and inconveniences.</p>
<p>He found that there are basically no good webcams. A lot of the time an image
quality is meh, and the rare presence of 4k is usually not better than 1080p,
because resolution is not quality. Some camera apparently does upscaling from
1080p to 4k in its driver, indicated by poor quality and high CPU load. He also
has a really good camera, Fujifilm X-T1. It can't be used as a webcam when
connected to a USB port. Usually it's possible to buy an HDMI-to-USB converter,
but his camera can't output a live stream into HDMI, only a recorded video.</p>
<p>So we had an idea — maybe it is possible to create a good webcam
ourselves. Would anybody care? Well, it’s almost 2021 now, streaming is still on
the rise, pandemic is going strong and video meetings are everywhere. People are
willing to spend some money, as indicated by countless videos on YouTube
regarding the problem.</p>
<p>Let’s start with defining what is a good webcam.</p>
<p>A good webcam, in my opinion, is a device that provides a decent sound quality,
at least on par with recent MacBooks, and an image quality on par with top
smartphones, such as iPhone 11/12, Huawei P40 Pro, etc. As smartphones have a
good image quality, then we could probably manufacture a webcam from smartphone
parts that are cheap and easily available. How hard can it be?</p>
<p>If you’ve read at least a couple of articles on the topic of video production,
you will know that to make quality content from the technical standpoint you
need three things, in that particular order:</p>
<ol>
<li>Sound</li>
<li>Light</li>
<li>Video quality</li>
</ol>
<p>Let's discuss these properties and later how to manufacture it.</p>
<h3 id="sound">Sound<a href="#sound" aria-label="Anchor link for: sound">🔗</a></h3>
<p>If you have a recent MacBook, it provides a decent sound quality with its
three-mic array. I haven't researched it and don’t know much about other
notebooks' audio quality. If you have a desktop PC, you have to have some
external mic anyway.</p>
<p>If the web camera has shitty audio quality, you’ll have to buy additional
gear. When I researched the topic, one of the recently released webcams
(available from October 2020) with RRP of $180 was producing a sound as if a
person sits in a big plastic barrel with a closed lid. Their voice was very
muffled with lots of resonant rattles. That level of quality wasn’t acceptable
10 years ago, how this piece of gear could have been produced in 2020 escapes my
understanding.</p>
<p>There are many good enough USB mics for $50+, you also can buy a great XLR
microphone for $100, but then you’ll need an external sound card with phantom
power supply. A decent one can easily cost you $200.</p>
<p>With almost any of these options you’ll have to install and configure some
software that will provide sound level compression, noise suppression (because
your notebook fans are spinning like hell) and won’t produce clicks in the
process.</p>
<p>I would like my webcam to do this by itself, no rattling, minimized echo, etc.</p>
<h3 id="light">Light<a href="#light" aria-label="Anchor link for: light">🔗</a></h3>
<p>A lot of what makes a picture great comes from lighting the scene in a correct way.</p>
<p>The simplest thing is to sit in a room so the window is in front of you and the
Sun isn’t shining into a lens from behind your shoulder.</p>
<p>Webcam cannot provide decent lighting capabilities by itself, so I won’t spend
much time here. There is a <a href="https://www.razer.com/streaming-cameras/razer-kiyo/RZ19-02320100-R3M1">webcam by
Razer</a>
with a built-in LED circle, but it’s necessarily small, always shines from a
webcam direction and is mostly a gimmick.</p>
<p>We can rely somewhat on the good sensor here. If it provides good dynamic range,
HDR capabilities and good low-light performance, then a patch of sunlight on the
wall won't turn everything else black, or a poorly lit room won't turn into a
gray noisy picture with a bleak silhouette.</p>
<h3 id="image-quality">Image quality<a href="#image-quality" aria-label="Anchor link for: image-quality">🔗</a></h3>
<p>It’s impossible to get a good lens and image sensor into a notebook lid, because
lids are very thin. They’re often something like 4 mm thick all together, and
there is no escaping physics. Of course, it's possible to put a webcam into a
thick part below the lid, but then it'll be useful for expressing anger at our
colleagues with wide-open nostrils and not much else.</p>
<p>Maybe some crazy engineer in the future will develop an array of small sensors
with an array of tiny lenses and somehow combine all that into a good image
quality, but we don't have this tech yet. Any smartphone with a good camera has
that camera with an ugly protruding lens as a thickest part of the phone.</p>
<p>So, if you want something better than a notebook's webcam, you can get some
Logitech webcam with an image quality going back to 2012. It’s still better than
a laptop, but nowhere close to current smartphones.</p>
<p>What if you want better still? The next option is to install an app on the phone
and use it as a webcam. This gives a very good image quality, but it’s very
inconvenient and in some applications doesn’t work at all. For some reason it
isn’t always presented in applications as an option when choosing a video
source.</p>
<p>I don’t want to constantly attach, detach, charge my phone and tune the position of
a small tripod. What’s the next option?</p>
<p>The next option is to just buy a mirrorless photo-camera with a big fat 4/3” or
even APS-C sensor. It will cost $500+ for a new one (you can buy used for
cheaper). You will also need some gear to hold the camera in place, as it won’t
just rest on the top of the screen like a regular webcam. You also need an
HDMI-to-USB video grabber, and you need to be sure that the camera you buy can
output full resolution live onto that HDMI. Also make sure that it's possible to
turn off all on-screen info like <code>1/100s F3.5 ISO 800</code>, which is useful when
you're shooting photos and videos through viewfinder, but not so much when
you're in a video meeting. This feature is called "Clean HDMI".</p>
<p>Of course, you will have a lot of control over the whole stuff — set a
diaphragm, get good bokeh, set ISO, set white balance, etc. Do you actually need
it? Well, some of you do, and a lot of you do not. I learned all that stuff when
I was 16, but now I’m pretty happy with how my phone chooses everything for me
and just does great photos.</p>
<p>All that sounds pretty involved, isn’t it? It is a lot of time to research what
you need, how to set it all up, and a lot of money too.</p>
<h3 id="manufacturing-it">Manufacturing it<a href="#manufacturing-it" aria-label="Anchor link for: manufacturing-it">🔗</a></h3>
<p>So there is a market gap between so-so webcams for $100-200 and a full-blown
setup with a mirrorless camera, an external mic and lighting panels that will
cost almost a grand or two, if you're so inclined.</p>
<p>I thought that it is a good idea to create an "upmarket" webcam for $250-300
that will provide good audio and video quality, on par with current smartphones,
actually using the same parts. As smartphones are made in tens of millions, all
relevant parts should be cheap and easily obtainable.</p>
<p>I quickly contacted some people who could help me do the project — firmware
engineer, electric engineer and a company that does mechanical design.</p>
<p>What features are needed for a good webcam for streamers and video meetings?
Audio: good parts (mics and ADC), good mechanical design and assembly (so
nothing would rattle), and some post-processing. We certainly want some
beam-forming capabilities to be able to focus on the person in front of the
webcam, so we will need more than one microphone, maybe up to 4. These parts are
easy to obtain, there are many in stock, it's not a problem.</p>
<p>Even if I think that 4k is not needed, I’m pretty sure it’s really a requirement
to have in an upmarket webcam, as it will be really hard to sell a pricey webcam
that can only do 1080p.</p>
<p>Also would be very nice to have some neural network inference on the chip, so we
can run some AI stuff directly on the webcam without bothering a user’s computer
that can be busy with other things.</p>
<p>I easily found a three-piece assembly for the iPhone 11 Pro for fifty bucks,
two-piece from a Huawei P40 Pro for twenty five and a one-piece from P40 Lite for
ten dollars. That’s with a lens, and bought in retail. Does it mean it costs
peanuts (less than $5 for a sensor) to buy in bulk to produce my own webcam?
Well... Maybe. I can’t just go and buy a couple thousands of these sensors. I’m
pretty sure I can buy a couple thousands of replacement parts for phones, but
sensors themselves are not sold freely. It's easy to buy some "random" sensor
that was around for years and most certainly has "meh" quality by today's
standards, but we need a good one, with good dynamic range, HDR capabilities and
low-light performance.</p>
<p>I wrote to several vendors asking them what are the prices and conditions, and
basically their answer is either silence or “we’ll sell it if you will buy
hundreds of thousands per year”.</p>
<p>I've found suitable System-on-Chips, and it's the same — if we want to have
hardware 4k encoder, it's either "sorry, it was a demo part and we don't do it",
or "we have limited support capabilities, so we can only sell if you will buy
hundreds of thousands, maybe you want some SoMs from our partners?". It is
actually possible to buy System-on-Modules even in very small quantities, but
it's going to be pretty expensive and will be good for a prototype, but for
production it will blow past our budget. System-on-Module will cost almost the
same as the web camera itself.</p>
<p>Oh, and a lead time (from order to shipment) is systematically 16+ weeks. It
means they have no stock and will place an order at semiconductor foundry, have
it produced, packaged and sent to customer. Swiftly.</p>
<p>It means I cannot just build five hundred webcams, see how good are they selling
and build a couple thousand, and so on.</p>
<p>There is also a plastic injection step that requires upfront investment to
manufacture molds, and of course design and engineering costs. All combined it
was tens of thousands …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vsevolod.net/good-webcams/">https://vsevolod.net/good-webcams/</a></em></p>]]>
            </description>
            <link>https://vsevolod.net/good-webcams/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504771</guid>
            <pubDate>Tue, 22 Dec 2020 10:16:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designer as Writer]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504677">thread link</a>) | @omarchowdhury
<br/>
December 22, 2020 | https://stasaki.com/designer-as-writer/ | <a href="https://web.archive.org/web/*/https://stasaki.com/designer-as-writer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://stasaki.com/designer-as-writer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504677</guid>
            <pubDate>Tue, 22 Dec 2020 10:02:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to make your UI automation tests resilient to changes?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25504262">thread link</a>) | @Kodziak
<br/>
December 22, 2020 | https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes | <a href="https://web.archive.org/web/*/https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Using CSS selectors to get elements in end-to-end tests is the most common way (besides xpath), but it can also be tricky and hard to maintain. One day everything could work fine and another a CSS class could be renamed. Styles could change without touching the business flow and then we could have a problem - we'll need to maintain the tests. Of course, the developers could do those changes for us, but they don't know our scenarios, our tests etc. It would be time-consuming for them, because they don't always know if their changes could affect our tests. And for these problems, I think I might have a solution.</p>
<p>But first let's talk about CSS a bit.</p>
<h2 id="what-are-the-common-problems-with-css-selectors">What are the common problems with CSS selectors?</h2>
<p>Imagine that one day, you had to write a very ugly selector. The element you wanted to use was nested and the only solution available was to base it on CSS classes and HTML structure. And then, a developer made a little refactor that removed some useless HTML tags, which were of course, used in your selector. But he didn't change the business flow. And guess what will happen? Yes, you're right! The test will fail. Your selector will be broken and will need maintenance.</p>
<p>But let's take a step back and think about what are CSS classes designed for? For sure, not to use them in end-to-end tests. Why? Because they're designed to style elements. Everyday there might be changes in the application that don't affect the business flow - which is the most important part in end-to-end tests - but are related with class names changes. That hurts when we need to maintain a test that didn't involve any user flow changes.</p>
<p>Two examples, one simple solution - find better a mechanism to get elements.</p>
<p>What do I recommend? Read below!</p>
<h2 id="use-data-test-id-for-help">Use <code>data-test-id</code> for help!</h2>
<p>For sure, they're controversial but there are two main advantages of using them.</p>
<p>First one is that they're bulletproof. What? I mean, when we use this attribute with an element, no matter if the developer changes the HTML structure or CSS classes, we still get what we want. Unless they remove the element or change the business flow, our test should work fine.</p>
<p>And second, as you may notice, the developer will see that attribute while working with the code. It could help because they can notify us about possible changes or just maintain the tests if needed - using <code>data-test-id</code> makes it easier find occurrences in tests. And if we have more people working on end-to-end tests we can build more reliable solutions. That's what we all want to achieve - always working product:)</p>
<p>More about working closely with developers below:)</p>
<h2 id="but-should-i-use-them-everywhere">But should I use them everywhere?</h2>
<p>Nope. Only with the elements used in tests. We don't want a mess in the code where almost every element has this attribute and only a few of them is used in tests. We want to build trust towards the tests and somehow show the devs that their changes could break our work.</p>
<p>Of course, we'll add some code, but with <code>babel</code> or similar solution we'll get rid of <code>data-test-id</code> on production version. Also, you can take a look at <code>facebook</code> where these attributes are used;).</p>
<p>A little bit of extra work can bring us many benefits.</p>
<h2 id="what-are-the-benefits-of-using-them">What are the benefits of using them?</h2>
<p>For sure, we can build communication between us and developers. How? Talk. If they see this kind of attribute with an element they want to refactor, they have to maintain the test (in the best case) or just notify us that something could affect it. It's beneficial to know when something can break our tests before running them on testing environment. It'll build trust to the tests. They won't fail because of changes which don't affect the business flow. It will help all of us.</p>
<p>The only thing we need to do is give the developers an opportunity and reason to maintain the tests.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Code structure can always change and it shouldn't affect our tests unless the business flow changes. With selectors based on CSS it could. That's why we decided to go with <code>data-test-id</code> which seems like a reliable solution.</p>
<p>They have some shortcomings but overall I think there is more pros. If you use them you'll work closely with devs which could result in other interesting solutions:) Just remember to add them wisely - only in the elements you're using in tests:)</p>
<p>Have a nice day! 🥳</p></div></div>]]>
            </description>
            <link>https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504262</guid>
            <pubDate>Tue, 22 Dec 2020 08:41:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ampere Altra Wiwynn Mt. Jade Server Review the Most Significant Arm Server]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25503939">thread link</a>) | @rbanffy
<br/>
December 21, 2020 | https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg" data-caption="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"><img width="696" height="465" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-629x420.jpg 629w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg 800w" sizes="(max-width: 696px) 100vw, 696px" alt="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled" title="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"></a><figcaption>Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled</figcaption></figure></div>
            <!-- content --><p>In our Ampere Altra powered Wiwynn Mt. Jade server review, we are going to see why we feel this is the most significant new server of 2020.&nbsp;Wiwynn is far from a household name but it should not be unfamiliar to STH readers. STH got an exclusive tour in Q4 2018 of the company’s headquarters. You can read about that in <a href="https://www.servethehome.com/where-cloud-servers-come-from-visiting-wiwynn-in-taipei/">Where Cloud Servers Come From Visiting Wiwynn in Taipei</a>. Although Wiwynn may not be called out in press releases such as the&nbsp;<a href="https://www.servethehome.com/idc-3q20-server-tracker-dell-and-hpe-with-big-share-gain-lenovo-inspur-huawei/">IDC 3Q20 Server Tracker</a> it counts large cloud providers such as Facebook and Microsoft among its customers and has revenue of almost $6B USD per year the last time we checked. Compared to the traditional vendors IDC puts in their press releases, that would put them above Lenovo on hardware sales revenue, but with far fewer employees. Having the Wiwynn Mt. Jade server platform with the Arm-based Ampere Altra is a big deal. Wiwynn’s business model is not to sell low numbers of servers to customers.<span id="more-49470"></span></p>
<p>In this review, we are going to look at the platform, and discuss some of the great features and nuances. We are also going to discuss performance, and then we are going to discuss why this is one of the most important platforms to be released in 2020. Even if you are not interested in Arm servers, this review is going to have some insights that go well beyond just the Altra processor and the server itself.</p>
<h2>Video Version</h2>
<p>As with many of our new pieces, we are going to have a video version of this article as well.</p>
<p><iframe title="Most Significant Server of 2020 Wiwynn Mt Jade Ampere Altra Arm Server" width="696" height="392" src="https://www.youtube.com/embed/jESiMLQVNf4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>This is a longer video, and has a lot of commentary around the server, and the market impact. As always, we suggest opening a new browser/ tab to watch it as it is a better experience than the embedded player. Also, likes and channel subscriptions are always welcome.</p>
<h2>Ampere Altra Wiwynn Mt. Jade Server Hardware Overview</h2>
<p>With our server reviews going into more detail, we now split our hardware overview into two primary sections. The first is that we look at the exterior of the server to get the basic bits that one servicing the server in a rack would most likely notice. We then get into the internal overview to look at some of the configurability and key features of the server.</p>
<h3>Ampere Altra Wiwynn Mt. Jade Server External Hardware Overview</h3>
<p>Taking a look at the Mt. Jade platform, we can see a fairly typical 2U server layout. This has a single USB port on the left, and a VGA port along with standard power button/ LEDs on the right. The main feature, by far, is storage. There are 24x 2.5″ bays and Wiwynn is leveraging the Ampere Altra platform to deliver one of the most forward-looking designs we have seen to date.</p>
<figure id="attachment_49484" aria-describedby="caption-attachment-49484"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-front-bays/" rel="attachment wp-att-49484"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg" alt="Wiwynn Mt Jade Ampere Altra Front Bays" width="800" height="462" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-400x231.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-696x402.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-727x420.jpg 727w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49484">Wiwynn Mt Jade Ampere Altra Front Bays</figcaption></figure>
<p>Wiwynn is connecting these 24x drive bays using 6x Amphenol PCIe Gen4 x16 cables. This is not a server designed for SAS/ SATA, instead, the company is leveraging the unique capabilities of the Ampere Altra platform to deliver something decidedly ahead of what many traditional vendors such as Dell, HPE, and Lenovo offer. Here the backplane does not have features such as a SAS expander. Instead, this is a NVMe backplane. One can see the backplanes are held in by thumbscrews, but the impact of Ampere Altra is felt immediately here, this is an all-NVMe design. This design provides Wiwynn the flexibility to swap to a SAS/SATA backplane setup if a customer wishes, but we really like this hardline stance to simplify on a next-generation architecture.</p>
<figure id="attachment_49479" aria-describedby="caption-attachment-49479"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-backplane/" rel="attachment wp-att-49479"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg" alt="Wiwynn Mt Jade Ampere Altra Backplane" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49479">Wiwynn Mt Jade Ampere Altra Backplane</figcaption></figure>
<p>The chassis itself has four of those drive bays (one cable’s worth) that are optionally connected. Although the cable is connected via the backplane here, the other end can be used in a PCIe Gen4 x16 header that can instead provide PCIe connectivity to rear risers. Ampere Altra has many PCIe lanes, but there are limits. Still, Wiwynn’s forward-looking design is moving beyond the limitations of PCB and has configurability on where PCIe lanes are directed. We will see more of this type of design in the PCIe Gen4 era but it will become increasingly commonplace as we move to PCIe Gen5 and beyond. Effectively, with Ampere Altra is providing Wiwynn with a platform that is already incorporating these design principles.</p>
<p>On the rear of the server, we see a fairly standard layout. The rear I/O consists of a VGA port, a management LAN port, a serial port, and two USB 3 ports. There are three blocks for I/O risers, two are full-height and one is low-profile. One can also see an OCP NIC 3.0 slot in the middle of the platform.</p>
<figure id="attachment_49490" aria-describedby="caption-attachment-49490"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-rear/" rel="attachment wp-att-49490"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg" alt="Wiwynn Mt Jade Ampere Altra Rear" width="800" height="479" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-400x240.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-696x417.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-701x420.jpg 701w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49490">Wiwynn Mt Jade Ampere Altra Rear</figcaption></figure>
<p>The 2kW power supplies seem a bit large for the relatively lower power consumption of the Ampere Arm server chips. The 80Plus Platinum units are likely larger than a normal server of this class simply as this is also a development platform. As a result, people tend to plug a multitude of devices into this type of server. That can include many high-power NVMe SSDs up front, or even accelerators in the rear. We tried the <a href="https://www.servethehome.com/nvidia-tesla-t4-ai-inferencing-gpu-review/">NVIDIA T4</a> and it worked in this platform.</p>
<figure id="attachment_49489" aria-describedby="caption-attachment-49489"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-psu/" rel="attachment wp-att-49489"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg" alt="Wiwynn Mt Jade Ampere Altra PSU" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49489">Wiwynn Mt Jade Ampere Altra PSU</figcaption></figure>
<p>Part of the purpose of this piece is to show how similar the server is to a modern x86 server since that is a big question when organizations are looking to add Arm into their data centers.</p>
<p>Next, we are going to look at the internals of the server before proceeding with the remainder of our review.</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503939</guid>
            <pubDate>Tue, 22 Dec 2020 07:42:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This Community is Available in the App]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25502828">thread link</a>) | @rukshn
<br/>
December 21, 2020 | https://ruky.me/2020/12/22/this-community-is-available-in-the-app/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/22/this-community-is-available-in-the-app/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Yesterday’s <a href="https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">post</a> was an awesome one, I learned a lot in JavaScript and and I was happy to see people doing what I thought impossible. Writing a simple todo app within 280 chars, in plain js.</p>
<p>After I finished writing the post, I wanted to share it on Reddit JavaScript community, r/javascript at the same time I shared it on HackerNews.</p>
<p>I have seen lot of comments on HackerNews criticizing the new Reddit design, using JavaScript and breaking in their mobile website, and constant nags pushing the users to their mobile app.</p>
<p>I was one of those few who liked their new design on desktop, no page loads between posting something, lot of white spaces, I feel most of the average users would be feeling the same, except for the tech community. But as a service Reddit should be looking at the common denominator, not the outliers.</p>
<p>I’m annoyed with the mobile app nag, when I visit the mobile website, Reddit is always asking me to download the mobile app. But I just cancel it and move along in the mobile browser.</p>
<p>But what happened yesterday just took me off the ledge. When I visited the r/javascript community on my iPad, I was greeted with this screen.</p>
<figure><img data-attachment-id="73" data-permalink="https://ruky.me/2020/12/22/this-community-is-available-in-the-app/img_0041/" data-orig-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=1536%2C2048&amp;ssl=1" data-orig-size="1536,2048" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="img_0041" data-image-description="" data-medium-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=225%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=768%2C1024&amp;ssl=1" loading="lazy" width="768" height="1024" src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1" alt="" srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" sizes="(max-width: 768px) 100vw, 768px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>This community is only available in the app.</figcaption></figure>
<p>Why do you block me from from visiting the community from my mobile device?</p>
<p>Will the whole mobile website is scrapped and you end up with a landing page to download the mobile app?</p>
<p><strong>If you want to visit a popular subreddit</strong>, <strong>install our up and use it, or else login. </strong></p>
<p>I’ve managed to see the subreddit by requesting the desktop website, but I’m sure they will figure out a way, by checking the screen size to block this as well.</p>
<p>I understand that, as a company, you need to push to gain as much users as possible on their mobile devices, that’s the best way to track, to send notifications and keep you hooked and keep coming back. If I had a company like Reddit I might have done the same.</p>
<p>But for blocking users from their mobile devices, a service they once offered is a very dark pattern, instead what they should do is introduce some awesome features that will make the users download the app by themselves so they can enjoy those features. Not forcing the app though their throats.</p>
<p>Anyone else experienced a similar experience on Reddit mobile?</p>
<p><em>Only after writing the and checking the screenshot again made me see that they allow you to see the subreddit by logging in. But that is obscured and they intend to push users to download the app.</em></p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/22/this-community-is-available-in-the-app/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502828</guid>
            <pubDate>Tue, 22 Dec 2020 04:24:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Software Developer's Guide to Career Ownership]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502812">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://cult.honeypot.io/reads/developer-career-ownership-guide/ | <a href="https://web.archive.org/web/*/https://cult.honeypot.io/reads/developer-career-ownership-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="Is Your Career Drifting Out To Sea?">Is Your Career Drifting Out To Sea?</h2><p>Like a frog who's slowly being boiled in a pot but doesn't realise it, two years into my career I slowly came to discover that I wasn't progressing anywhere near what I thought I should have.</p><p>I was learning tons and growing in my skills. But it seemed like that didn't matter.</p><p>Failed job interviews, tiny salary increases after delivering on difficult long-term projects, bitterness, etc. were the results.</p><p><b>Have you ever felt the same way as I did? Feel like your quality of work and effort doesn't get the recognition and results you expected?</b></p><p>One year, I was flat-out told that I wouldn't be getting a raise because I had spent some time on parental leave (even though I had delivered on a critical project that year).</p><p>Another time, I failed a job interview due to my poor attitude and bitterness towards a situation which in reality was a very complex project that needed strong ownership, patience and leadership.</p><h2 id="I took ownership of my career">I took ownership of my career</h2><p>Faced with the reality of career progression as a software developer, I decided to make an intentional effort to take ownership of my career.</p><p>What does that mean, you ask?</p><blockquote><p><b>Taking ownership of your career means that you realise your career is an organic thing that you can either nurture and grow, ignore or even damage.</b></p></blockquote><p>It's like a garden: deciding what seeds to plant, where to plant, how to nurture your plants, deciding what plants to sow more of, etc.</p><p>If you are intentional about planting and maintaining your garden then you should get results.</p><p>If you don't maintain your plants then your garden will most likely get grown over with weeds and not do so well!</p><p>And, if you don't plant any seeds yet expect a garden to appear - well, that's kinda crazy.</p><p>Your career is the same! If you simply expect that "doing a good job" will land you promotions or position you as a competitive asset in the job market then it's just like that last analogy of ignoring your garden!</p><h2 id="Does doing good work mean getting recognised?"><b>Does doing good work mean getting recognised?</b></h2><p>For myself, the root falsehood I believed was that <i>doing good work would lead to being recognised.</i></p><p>Sadly, most of the time, that's just not true.</p><p>Our managers are overloaded with their tasks. They are juggling personal issues, internal HR conflicts, overdue projects, etc.</p><p>Is "just doing a good job" going to make you stand-out in their minds? <i>Nope.</i></p><p>This is the biggest piece of advice I give everyone who comes to me with career advice:</p><p><b>You need to simply stand-out.</b></p><p>Whether that's within your company, among other resumes, within the greater developer community, etc.</p><h2 id="Reputation"><b>Reputation</b></h2><h3><b>What is it?</b></h3><p>Reputation just means "how much you stand-out" combined with your overall professional competence.</p><p>Reputation = How much you stand-out + competence.</p><p>Think of your programming "heroes": they are very skilled and competent. <i>Yet</i>, they are constantly putting themselves in public by promoting themselves, sharing their thoughts, sharing their "wins", etc.</p><p>Do you think they have trouble landing new jobs? <i>Nope.</i></p><p>Does that mean you need to become a programming hero to get promoted and land that new job? Not at all.</p><blockquote><p>I'm simply pointing out that self-promotion, helping other people, getting involved in communities, networking with other professionals and building long-lasting relationships are all part of building your reputation.</p></blockquote><p>If you are always helping your manager, discussing your "wins" and asking about how your work has affected the company then you'll ensure that you're top of mind.</p><p>The fact is, most developers hardly talk to their managers about their work and how it's impacting the company.</p><p>Tip: Show an interest in your manager. Make their job easier by doing awesome work. And, ask about how your work is improving the company. <i>One-on-one meetings are a great time to ask about these things.</i></p><h2 id="Questions that others ask about YOU"><b>Questions that others ask about YOU</b></h2><p>Everyone is forming an opinion and view of who you are, how skilled you are, etc.</p><p>Here's a short list to get you thinking about what others are asking themselves about <b>YOU</b>:</p><ul><li><p>Are they kind?</p></li><li><p>Helpful?</p></li><li><p>Intelligent?</p></li><li><p>Do good work?</p></li><li><p>Produce results?</p></li><li><p>Learns quickly?</p></li><li><p>Good at mentoring and teaching others?</p></li></ul><p>Make sure that you can "check" all of those off!</p><p>If you are always complaining and have a poor attitude, then your peers will not see you in a good light.</p><p>On the other hand, if you aren't learning and growing then your peers will see you like a stagnant resource that will, over time, drag down the team!</p><h2 id="Navigating the stages of your career">Navigating the stages of your career</h2><p>Before looking at the specifics of how you can start to grow your reputation and grow in your career, you should get an idea of what general career stage you are at.</p><p>I use a simple framework to layout the common career path stages that most software developers will find themselves in.</p><p>The stages are:</p><ul><li><p>Coder</p></li><li><p>Junior Developer</p></li><li><p>Intermediate Developer</p></li><li><p>Senior Developer</p></li><li><p>Lead Developer</p></li><li><p>Tech Leader</p></li></ul><p>These stages are <b>not job titles.</b> They represent a developer's real experience and competence.</p><p>It's been said that someone with 10 years experience might, in practice, have repeated the same 1 year of experience over-and-over!</p><p>Let's take a look at these stages to get an idea of where you fit and where you might want to go in the future.</p><h3>Coder</h3><p>A coder is a hobbyist.</p><p>If you don't get paid professionally or work with a team of other developers, then you might be a coder.</p><h3>Junior developer</h3><p>A junior developer is entering the IT field as a paid professional and they work with a team of other professionals.</p><p>Are you a junior developer?</p><p>If you've been a professional developer for less than a year (as a very general figure) then you're probably a junior.</p><p>Take a look at the next stage to see if it resonates. If not, then you might still be a junior who's transitioning into becoming an intermediate developer.</p><h3>Intermediate developer</h3><p>An intermediate developer is a competent team member and contributor.</p><p>The telling sign I use for this stage is that <b>intermediate developers usually have a mental urge or "pull" to believe that they know everything they need to know.</b></p><p>Perhaps they feel like their views on how to best architect a system are "complete."</p><p>Perhaps they feel like Javascript is the only programming language they ever need and ever want.</p><p>Whatever it is, there is some degree of feeling like they've "found" the silver bullet or that their current view is finally "the one."</p><blockquote><p><b>The intermediate stage is like stepping into puberty for your career.</b></p></blockquote><p>For example, teens tend to begin believing that they know better than their parents.</p><p>They tend to experiment and be bold about what they believe.</p><p>They begin to tread a path of their own.</p><p>This is the intermediate developer. They are starting to think for themselves.</p><h3>Senior developer</h3><p>The senior developer is becoming very skilled and knowledgeable to the point that those around them are looking to them as a mentor and a "go-to".</p><p>They usually have some specialised or advanced programming knowledge and can build more complex systems using advanced techniques and patterns.</p><p>Seniors are confident in what they know due to their experiences. But they also have a grasp on the fact that there's <i>so much they don't know about.</i></p><p>The biggest telling sign that you are in this stage is whether or not your peers are constantly coming to you for advice and guidance. Are you mentoring others too? These are all signs of being a senior developer.</p><h3>Lead developer</h3><p>The lead developer is focused on providing high-level guidance to their dev team.</p><p>But more importantly, they are a bridge or connector between the development team and the other business-oriented departments in your organisation.</p><p>Are you leading a team of developers? Do you also have to communicate with non-technical managers or other departments about what the development team is working on, etc? If so, you're a lead developer.</p><h3>Tech Leader</h3><p>I hesitate to include this one, but I think it's helpful to see where your career could go in the future.</p><p>A tech leader has made a name for themselves as an expert in some specific area(s) and usually have a very targeted branding/positioning as to what they do well.</p><p>That might be a specific programming language, web security, front-end development with react, a developer mentor, or even a particular industry.</p><p>They could be community builders who have a following of people that look up to them as a direct or indirect mentor.</p><p>They could be thought leaders who champion some specific cause or idea.</p><p>They usually speak publicly about their area of expertise or the ideas that they champion.</p><p>In a nutshell, they are technology experts and very skilled communicators.</p><p>If that sounds like you, then you might be a tech leader.</p><h2 id="How to get to the next stage">How to get to the next stage</h2><p>I've written elsewhere about specific tips to move between each career step. For the moment, I want to highlight some more general pieces of advice that anyone can leverage and use to move forward.</p><h3>Stand-out</h3><p>You need to stand-out within your company if you want to land promotions and be a part of important and growth-inducing projects.</p><p><b>Find a gap within your team or company that could help solve some important problems your company is facing.</b></p><p>Practically speaking, if you are early in your career, just keep an eye out for whenever your peers seem surprised at some skill or way of doing things you have. This might indicate a gap that could be helpful to your organisation!</p><figure><img alt="Tulip standing out" src="https://images.ctfassets.net/cjwb7umaxoxv/21BebbVbTAiiI20dza4oac/a4a8fcfd76d42b38da278dc8a9f8449d/rupert-britton-l37N7a1lL6w-unsplash.jpg"><figcaption>Photo by Rupert Britton on Unsplash</figcaption></figure><p>For example, if you did something fancy with CSS that other developers notice and are impressed with, then that could indicate a gap.</p><p>For more seasoned developers, it should be more apparent what gaps need to be filled. And, the more experienced you are, the more you should naturally drift into a position of mentoring others and having a clear picture of what gaps need to be filled.</p><p>Once you are seasoned, you can use this principle and apply it to the global community - not just your internal company. Try to figure out where there is a need or where certain trends seem to be pointing.</p><p>The specific gap you fill doesn't matter so much. The point is that <b>you need to stand-out as a competent problem-solver who …</b></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cult.honeypot.io/reads/developer-career-ownership-guide/">https://cult.honeypot.io/reads/developer-career-ownership-guide/</a></em></p>]]>
            </description>
            <link>https://cult.honeypot.io/reads/developer-career-ownership-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502812</guid>
            <pubDate>Tue, 22 Dec 2020 04:22:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Double Blind Passwords a.k.a. Horcruxing]]>
            </title>
            <description>
<![CDATA[
Score 324 | Comments 175 (<a href="https://news.ycombinator.com/item?id=25502703">thread link</a>) | @phantom_rehan
<br/>
December 21, 2020 | https://kaizoku.dev/double-blind-passwords-aka-horcruxing | <a href="https://web.archive.org/web/*/https://kaizoku.dev/double-blind-passwords-aka-horcruxing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1607775961422/elXIChWIZ.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><p>Before we get into Horcruxing, here's a quick prologue on online security hygiene. You can skip to the  <a href="#double-blind-passwords-aka-horcruxing">Horcruxing section</a>  if it seems redundant.</p>
<h3 id="rules-for-strong-online-security">Rules for Strong Online Security</h3>
<p>1.
<strong>Longer passwords (atleast 16 characters) are better than shorter ones</strong></p>
<pre><code>=&gt; cutesamantha15101995 &gt; cutesamantha
</code></pre><p>2.
<strong>Randomized passwords are better than personally identifiable passwords</strong></p>
<pre><code>=&gt; process-cancel-stingy-garnet &gt; cutesamantha15101995
</code></pre><p><strong>NOTE: </strong> <code>process-cancel-stingy-garnet</code> is technically a passphrase - basically an easy-to-remember password in comparison to randomized strings like <code>B6fSpxMj&amp;f6DU@5^k</code></p>
<p>3.
<strong>Have a <em>significantly</em> different password for each account</strong></p>
<p>Having the same password for different accounts is like using the same key for different locks. It beats the whole point of having multiple locks! Also, having different passwords but with only one easily guessable word different (like the ones below) still poses the same risk. The passwords should be <strong><em>significantly</em></strong> different.</p>
<pre><code>bounce-unfold-stunning-chute        process-cancel-stingy-facebook
symptom-untouched-unpaid-arena  &gt;   process-cancel-stingy-twitter
sediment-tweak-annually-koala       process-cancel-stingy-gmail
</code></pre><p>4.
<strong>Use 2FA/MFA wherever possible</strong></p>
<p>Both Google and Facebook offer a 2FA feature where you need the second factor only when you login from a new device or a new location, instead of needing 2FA every time. That's a rare combination of convenience &amp; security right there! 
Most other sites also offer some variation of 2FA.</p>
<p><strong>NOTE</strong>: Use the  <a target="_blank" href="https://play.google.com/store/apps/details?id=org.shadowice.flocke.andotp">andOTP</a>  (or any other) app's TOTP as the second factor since it cannot be spoofed or spied on lock-screen like the SMS OTP and does not require a mobile network or internet connection. You can also use Biometrics (finger print or face recognition)</p>
<blockquote>
<p>Woah! How do I create a long password for each of the bazillion websites out there, <em>and</em> have them significantly different <em>and</em> remember them? Security seems like such a pain in the ass!</p>
</blockquote>
<h3 id="enter-password-manager">[enter] <strong>PASSWORD MANAGER</strong></h3>
<p>A password manager helps you manage all your passwords in one place, either in the form of a browser extension, mobile app, or website. Good password managers will offer a browser extension and a mobile app with one-click auto-fill-login-page feature by removing the hassle of copy pasting or typing your login details. A few smart ones even detect phishing pages and warn you indirectly, by not showing the login details for such web pages.</p>
<p>They enable all the above measures for strong online security with ease. While I agree it takes some effort to set it up for the very first time. But, after that, it just flows like butter. </p>
<p><br>
For example, password generator in <a target="_blank" href="https://bitwarden.com/">BitWarden</a> lets you custom design your random password in different flavours.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1607770748804/m93T3kqUH.png?auto=compress" alt="BitWarden's password generator"></p>
<h3 id="yay-im-secure">YAY! I'm Secure!</h3>
<p>You meticulously move all your passwords and secrets to a trusted password manager. Finally, you can rest easy knowing that your digital life is truly secure. Or, is it?  <br></p>
<p><strong>What if </strong></p><ul>
<li>your master password (the password to your password manager) is compromised due to a security breach or you left it in plaintext on a post-it/ email/ notes app</li>
<li>someone gained temporary access to your unlocked system (computer or phone) when you stepped away to get that last coffee for the day and your password manager is still logged in for everyone to see</li>
</ul>
<p>The answer: you're <strong><em>screwed</em></strong>. The cost of putting all your eggs in one basket is that it could all go into oblivion in one fell swoop. How do you overcome this challenge now? </p>
<h3 id="double-blind-passwords-aka-horcruxing">Double Blind Passwords (aka Horcruxing)</h3>
<p>For all his faults, Voldemort did one good thing for us muggles. He gave us the concept of a horcrux. For the uninitiated, a horcrux is any object in which you store a piece of your soul, putting the proverbial eggs of your soul into different baskets, to gain quasi-immortality. </p>
<p><strong>The basic idea</strong>: You split your password into 2 parts - one which is stored in the password manager, and the other which is stored in your head (aka horcrux).</p>
<p>Basically, at any given point in time, you and your password manager know only a piece of the password. It's double-blind. In effect, just like You-Know-Who, you're splitting your password (soul) into pieces and storing them in different places.</p>
<h4 id="before">BEFORE</h4>
<pre><code>
<span>username: rick</span>
<span>password: rollthepeople1732</span>


<span>username: rick</span>
<span>password: rollthepeople1732</span>
</code></pre><h4 id="after">AFTER</h4>
<pre><code>
<span>username: rick</span>
<span>password: roll-the-people-venus</span>


<span>horcrux: papel</span>


<span>username: rick</span>
<span>password: roll-the-people-venuspapel</span>
</code></pre><p>The horcrux adds an additional layer of security that only you can unlock. It's a kind of 2FA. Again, the longer the horcrux the better. But, a simple word should also be fine as long as only you know the horcrux.</p>
<p>If it feels like too much effort, use a horcrux only for the most important logins - your social media, bank accounts etc. </p>
<h3 id="one-last-thing">One Last Thing</h3>
<p>Security is never absolute. One can try to secure a system as tightly as possible, but never really say that it is fully secure (if you see someone claiming otherwise, it's mostly marketing bullshit). If we cannot make systems completely secure, the next best thing to do is to make them as secure as possible and a good way to do it is <a target="_blank" href="https://en.wikipedia.org/wiki/Defense_in_depth_(computing">Defense In Depth</a> - basically make sure that even if one layer of security is breached, there exist other layers to mitigate further damage - which is what we've tried to achieve all along.</p>
<h3 id="summary">Summary</h3>
<p>1.
Use a good password manager </p>
<blockquote>
<p>I use BitWarden (since it is open source and costs just $10 a year for the PRO features)</p>
</blockquote>
<p>2.
Use TOTP/ biometrics instead of SMS-based OTP</p>
<blockquote>
<p>I use andOTP (since it is open source)</p>
</blockquote>
<p>3.
Use a horcrux (a double-blind password) for the most important logins</p>

<p>P.S. Keep in mind that horcruxing only works fine until you connect your brain to NeuraLink and accidentally upload your thoughts online for everyone to see. :P</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://kaizoku.dev/double-blind-passwords-aka-horcruxing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502703</guid>
            <pubDate>Tue, 22 Dec 2020 03:58:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unconventional Warfare in Mexico: The US Trained Some of Its Most Brutal Cartels]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25502435">thread link</a>) | @AndrewBissell
<br/>
December 21, 2020 | https://narco.news/unconventional-warfare-in-mexico | <a href="https://web.archive.org/web/*/https://narco.news/unconventional-warfare-in-mexico">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-120a3898=""><div data-v-120a3898=""><p><a href="https://fas.org/irp/doddir/dod/jp1_02.pdf">Unconventional Warfare</a> (UW): Activities conducted to enable a resistance movement or insurgency to coerce, disrupt, or overthrow a government or occupying power by operating through or with an underground, auxiliary, and guerrilla force in a denied area.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.19-PM.png" width="1000" height="888"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.29-PM.png" width="1000" height="888"></p></div></div><figcaption>Unconventional Warfare associated terminology <a href="https://www.soc.mil/ARIS/books/pdf/Unconventional%20Warfare%20Pocket%20Guide_v1%200_Final_6%20April%202016.pdf">Special Operations Command</a></figcaption></figure><hr><p><em>Los Zetas</em> were the highly-trained enforcers of the Gulf cartel made up of supposed deserters from the Mexican special forces known as the <em>Grupo AeromÃ³vil de Fuerzas Especiales </em>(GAFE). The GAFES<em> </em>were formed in 1986 as an elite quick reaction force specializing in counterinsurgency and unconventional warfare. When the North American Free Trade Agreement went into effect in 1994, the GAFES received combat experience in the brutal fight with the leftist <em>EjÃ©rcito Zapatista de LiberaciÃ³n Nacional</em> (EZLN) in Chiapas. According to <a href="http://historic.edualter.org/material/ddhh/proc1.htm">reporting by Carlos Marin</a>, the army sent the GAFES to Chiapas to <strong>create paramilitaries and displace the population</strong> in order to break the support of the people for the EZLN, an approach which would be used against organized crime years later. In Ioan Grillo's book <em>El Narco</em>, he describes how the mutilated bodies of rebels captured by the GAFES were dumped along a riverbank in the Las Margaritas municipality with their ears and noses sliced off, the sort of spectacular violence that <em>Los Zetas</em> would later standardize in the Drug War.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-26-at-5.09.07-PM-1.png"><figcaption>2005 FBI memo about <em>Los Zetas</em></figcaption></figure><p>Some of the original members of <em>Los Zetas</em> are said to have been <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB499/DOCUMENT01-20050422.PDF">trained by the U.S.</a> at the notorious School of the Americas, although accounts vary about exactly who, where and when. Some say it was at <a href="https://www.kold.com/story/3394374/los-zetas-draw-concern-of-us-government/">Ft. Benning</a> in Georgia, others at <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">Ft. Bragg</a> in North Carolina, while other rumors suggest it was at <a href="https://www.army.mil/article/63245/army_north_hosts_mexican_army_leaders_to_strengthen_relationships">Ft. Hood</a> in Texas. According to Lt. Col. Craig Deare (retired), the former Academic Dean at the intellectual center of gravity of U.S. defense policy in Latin America since 1997, the Center for Hemispheric Defense Studies (CHDS), it was likely that more than 500 Mexican GAFES received training from U.S. special operations forces (SOF).</p><p>According to <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">reporting</a> in Al Jazeera:</p><p><em>Some of the cartelâ€™s initial members were elite Mexican troops, trained in the early 1990s by Americaâ€™s 7th Special Forces Group or â€œsnake eatersâ€� at Ft. Bragg, North Carolina, a former US special operations commander has told Al Jazeera.</em></p><p><em>â€œThey were given map reading courses, communications, standard special forces training, light to heavy weapons, machine guns and automatic weapons,â€� says Craig Deare, the former special forces commander who is now a professor at the US National Defence University.</em></p><p><em>â€œI had some visibility on what was happening, because this [issue] was related to things I was doing in the Pentagon in the 1990s,â€� Deare, who also served as [Mexico] director in the office of the US Secretary of Defence, says.</em></p><p>The <a href="https://en.wikipedia.org/wiki/7th_Special_Forces_Group_(United_States)">7th Special Forces Group</a> (SFG) specializes in the approach the U.S. has taken with Latin America since the end of the second world war: unconventional warfare, counterinsurgency and, more recently, counterterrorism. During the Reagan administration in the 1980s, the 7th SFG trained, supported and fought with some of the most brutal and repressive special operations and unconventional forces in El Salvador, Guatemala, Honduras, Panama, Colombia, Peru, Bolivia and Venezuela.</p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.45.27-PM.png"><figcaption>A U.S. special forces Soldier assigned to 7th SF Group, oversees a group of Guatemalan Special Forces "Kaibils" conduct pistol marksmanship training Jan. 28 in Poptun, Guatemala (<a href="https://www.dvidshub.net/image/1749645/kaibil-us-special-forces-promote-security-through-partnership">DVIDS</a>)</figcaption></figure><p>Between 1996 and 1999, <a href="https://www.jornada.com.mx/1998/08/16/mexico.html">3,200 soldiers</a>, including at least 500 GAFES, were reportedly trained by the 7th SFG in the U.S. to create elite "counternarcotics" forces for fighting on behalf of the post-Cold War U.S. national security agenda.</p><p>Conveniently framed as an ironic consequence of the corrupting influence of the cartels, the training from the U.S. special forces diffused into the service of one of Mexico's oldest drug trafficking organizations. In 1997, the same year that the Center for Hemispheric Defense Studies was founded, Arturo GuzmÃ¡n Decena, a GAFE later known by the alias "<a href="https://en.wikipedia.org/wiki/Arturo_Guzm%C3%A1n_Decena">El Zeta-uno</a>", supposedly defected along with other elite Mexican soldiers to work for the Gulf cartel in Tamaulipas. The GAFES trained by the U.S. in counterinsurgency and unconventional warfare to fight drug-trafficking would become one of the most infamous drug-trafficking organizations in Mexico: Los Zetas.</p><p>The School of the Americas changed the way that organized crime operates in Mexico. <em>Los Zetas</em> application of advanced training in insurgency and terror justified President Felipe CalderÃ³n's (2006-2012) decision to <a href="https://www.chicagotribune.com/hoy/ct-hoy-8766718-la-guerra-contra-el-narco-en-mexico-costosa-cara-y-mortal-story.html">deploy the military</a> to prosecute the War against Drug-trafficking in his first month in office. The consequences of that decision have been devastating for Mexico.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-19-at-2.08.25-PM-5.png"><figcaption>INEGI</figcaption></figure><p>According to a <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB445/docs/20090700ca.PDF">2009 DEA memo</a>, Los Zetas also recruited other U.S.-trained SOF in Latin America, like the Kaibiles. The Kaibiles and other Guatemalan security forces were trained by the U.S. in counterinsurgency and unconventional warfare before, during and after Guatemala's 36-year <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">genocide</a>. After a 1999 report commissioned by the United Nations determined that the 200,000+ people killed and disappeared by the Guatemalan Army was, <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">in fact, genocide</a>, the School of the Americas briefly closed before opening a year later as the Western Hemisphere Institute for Security Cooperation (WHINSEC). According to <a href="https://www.sfgate.com/default/article/Bay-Area-protesters-sentenced-in-Georgia-Jail-2796779.php">testimony</a> from Major Joseph Blair, a former instructor at the school, the changes were only superficial and an identical curriculum was taught from the exact same instruction manuals. Between 1999 and 2010, <a href="http://www.ghrc-usa.org/Publications/factsheet_kaibiles.pdf">3,555 Guatemalan soldiers</a>, many of them Kaibiles, were trained by the U.S. through WHINSEC and other programs.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.58.27-PM.png" width="1256" height="712"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.53-AM.png" width="1462" height="944"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.36-AM.png" width="1462" height="944"></p></div></div><figcaption><a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">New York Times</a>; <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">CEH</a>;</figcaption></figure><p>The Kaibiles are taught to kill without mercy or thought. In training, recruits are given a puppy to look after and bond with for several weeks before being ordered to kill the animal with their bare hands, drink the blood and eat the raw flesh, a method which <a href="https://www.voltairenet.org/Los-Kaibiles-mexicanos">reportedly</a> has since diffused to the Mexican GAFES and other forces that train with the Kaibiles. Like the "snake eaters" of the U.S. 7th SFG, the Kaibiles kill to eat and live to kill. Their motto is: "<em>Si avanzo, sÃ­gueme. Si me detengo, aprÃ©miame. Si retrocedo, mÃ¡tame!</em> / <em>If I advance, follow me. If I stop, urge me on. If I retreat, kill me!"</em></p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.12.06-PM-1.png" width="1256" height="946"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.23.00-PM.png" width="1222" height="776"></p></div></div><figcaption>Participant in the Dos Erres massacre and former School of the Americas Instructor Pedro Pimental Rios (<a href="https://www.ocweekly.com/pedro-pimentel-rios-accused-in-guatemalan-massacre-to-be-deported-6479330/">OC Weekly</a>; <a href="https://www.ice.gov/news/releases/ice-removes-former-member-guatemalan-army-linked-1980s-massacre">ICE</a>)</figcaption></figure><p>In 1982, the Kaibiles massacred 226 people in the Dos Erres village in Guatemala. According to the <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">United Nations Truth Commission Clarification</a> and reporting by <a href="https://www.propublica.org/article/finding-oscar-massacre-memory-and-justice-in-guatemala">ProPublica</a>, they arrived in the middle of the night and accused the residents of being guerrilla sympathizers. The smallest children were killed by smashing their heads against trees and the sides of buildings, while older children were killed with a hammer. Adults were interrogated and tortured, one by one, and the women were raped by the Kaibiles. The Kaibiles also cut fetuses out of pregnant women. After the interrogation, the adults were also killed with a hammer and the corpses were dumped in a well. A few years after the massacre, one of the Kaibil officers who had supervised the atrocity, Pedro Pimental Rios, became an instructor at the School of the Americas. He was extradited from the U.S. in 2012 and sentenced to more than 6,000 years in prison for his involvement.</p><p>According to a declassified <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">Defense Intelligence Agency (DIA) memo</a> from 1994, intelligence sources described clandestine graves outside of a Guatemalan military facility. The memo described Guatemalan soldiers flying captives over the ocean before pushing them out of helicopters to their deaths, a technique also used in <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">Argentina</a>. In 2015, former Chilean military officer Jaime Garcia Covarrubias was <a href="https://www.mcclatchydc.com/news/nation-world/national/national-security/article24781345.html">arrested</a> for torturing and executing seven people in 1973. He had been a faculty member at the Center for Hemispheric Defense Studies for 13 years.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.09.33-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.15-PM-1.png" width="1100" height="1436"></p></div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.38-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.29.05-PM.png" width="1238" height="740"></p></div></div><figcaption><a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">National Security Archive</a>; <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">New York Times</a></figcaption></figure><p>After the end of the Cold War, the Kaibiles were <a href="https://www.aljazeera.com/features/2011/8/15/guatemalas-feared-special-forces">repurposed</a> to fight the United States' new greatest threat to national security: drugs. From 2007 to 2014, U.S. SOF training <a href="https://www.wola.org/analysis/u-s-special-operations-latin-america-parallel-diplomacy/">tripled</a> in Latin America, mostly in the area of responsibility (AOR) of U.S. Department of Defense's Southern Command (SOUTHCOM) in the Caribbean, Central and South America. The U.S. military continues training the Kaibiles to this day. </p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-1.03.23-PM.png"><figcaption>U.S. soldiers training with the Kaibiles in Information Operations, July 2019 (<a href="https://www.dvidshub.net/image/5602004/us-soldiers-trek-through-jungles-with-guatemalan-special-forces">DVIDS</a>)</figcaption></figure><hr><p>While the Mexican military was fighting a war nominally against violent drug-trafficking organizations like <em>Los Zetas</em>, the U.S. military was developing and spreading a new doctrine for waging a new regional war on terror in Latin America. A <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a475840.pdf">2007 academic paper</a> outlined a new <strong>distributed operational model</strong> for command and control (C2) for Special Operations Command in the U.S. SOUTHCOM AOR based on the approach of the U.S. Marine Corps (USMC). The authors recognized the USMC approach as, "better suited for counterinsurgency and non-combat environments, where the objectives are more ambivalent." According to the authors:</p><p><em>In standard military maneuver operations where missions such as â€œattack that position,â€� are clearly defined, the [conventional] definition of C2 is sufficient. However, in an ambiguous environment where SOF often operates, the mission (e.g., plan and execute UW [Unconventional Warfare]) is not as clearly defined. As a result, a special operator in the field must be able to operate with maximum authority, flexibility, and agility to respond to immediate changes emerging from dynamic situations. The USMC definition reflects precisely how SOCSOUTHâ€™s staff currently approaches C2 in its theater of operations.</em></p><p>Officers from the Colombian military studying at the <strong>United State Marine Corps Command and Staff College</strong> at the Marine Corps University quickly recognized the advantages of the U.S. approach. According to a <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a491149.pdf">2008 academic paper</a>…</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://narco.news/unconventional-warfare-in-mexico">https://narco.news/unconventional-warfare-in-mexico</a></em></p>]]>
            </description>
            <link>https://narco.news/unconventional-warfare-in-mexico</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502435</guid>
            <pubDate>Tue, 22 Dec 2020 03:11:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502201">thread link</a>) | @phenylene
<br/>
December 21, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13”, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, we’ll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then we’ll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that I’ve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, there’s a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and don’t support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardware’s performance.</p>

<blockquote>
  <p>What’s a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixar’s Renderman,
Disney’s Hyperion, Autodesk’s Arnold, and Weta’s Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those who’ve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metal’s API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">“The RTX Shader Binding Table Three Ways”</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disney’s Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
There’s also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiX’s API provides a similar simplification, here’s the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
It’s also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure they’re available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
It’d be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502201</guid>
            <pubDate>Tue, 22 Dec 2020 02:27:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vintage Basic – Games]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25502018">thread link</a>) | @Fjolsvith
<br/>
December 21, 2020 | http://vintage-basic.net/games.html | <a href="https://web.archive.org/web/*/http://vintage-basic.net/games.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
  <div><p>
      The classic book <a href="http://www.amazon.com/BASIC-Computer-Games-Microcomputer-David/dp/0894800523">
      <em>BASIC Computer Games</em></a>,
      published by <a href="http://en.wikipedia.org/wiki/Creative_Computing">Creative Computing</a>,
      inspired a generation of programmers.  The games were written by many people, and compiled by
      <a href="http://www.swapmeetdave.com/Ahl/DHAbio.htm">David H. Ahl</a>. The fabulous illustrations
      accompanying each game were done by
      <a href="http://www.bekerbots.com/">George Beker</a>.
      </p>
      <p>
      I've included all the games here for your tinkering pleasure.
      I've tested and tweaked each one of them to make sure they'll run with Vintage BASIC, though you may see
      a few oddities. That's part of the fun of playing with BASIC: it never works quite the same on two machines.
      The games will play better if you keep CAPS LOCK on, as they were designed to be used with capital-letter
      input.
    </p>
    <p>
      The table below includes both links to the pages of the book at
      <a href="http://www.atariarchives.org/basicgames/">atariarchives.org</a>,
      and the source code for each game.  I obtained most of the source code from
      <a href="http://www.classicbasicgames.org/">classicbasicgames.org</a>, with the exception
      of Civil War and Super Star Trek, which I entered myself.  The descriptions mainly come
      from an earlier edition of the book, <em>101 BASIC Computer Games</em>, via the scans at
      <a href="http://www.digibarn.com/collections/books/basicgames/">digibarn.com</a>.
      All book content is provided with the express consent of
      David H. Ahl, editor.
    </p>
    <p>
      You can download the <strong>entire set</strong> of games as a tarball
      (<a href="http://vintage-basic.net/downloads/bcg.tar.gz">bcg.tar.gz</a>)
      or a ZIP archive (<a href="http://vintage-basic.net/downloads/bcg.zip">bcg.zip</a>).
    </p>
  </div>
  <p><small>© 2009–2017 Lyle Kopnicky</small>
  </p></div></div>]]>
            </description>
            <link>http://vintage-basic.net/games.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502018</guid>
            <pubDate>Tue, 22 Dec 2020 01:54:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[52 Things I Learned in 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501631">thread link</a>) | @kashd
<br/>
December 21, 2020 | https://www.kashdhanda.com/post/52-things-i-learned-in-2020 | <a href="https://web.archive.org/web/*/https://www.kashdhanda.com/post/52-things-i-learned-in-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Inspired by the great <a href="https://medium.com/@tomwhitwell">Tom Whitwell</a>, I've assembled a list of 52 Things I've Learned in 2020. My hope is that you'll find useful insights, but my guarantee is that you'll find a few fun pieces of trivia to discuss at (socially distanced) parties.</p><p>The learnings are roughly grouped according to my interests, including Public Policy, Creativity and Design, History, The Future, Technology, Global Affairs, Health, Money, and US Politics.</p><ol role="list"><li><strong>Needle Exchange Programs are Ridiculously Cost-Effective</strong>: &nbsp;A $1 government investment in needle exchange programs produces $6 in government savings, almost entirely by reducing the transmission rate of HIV. (<a href="https://kyhrc.org/2020/04/01/needle-exchange-programs-save-money-and-lives/">source</a>)</li><li><strong>Blue Lights Prevent Suicide</strong>: 20 years ago, the Japanese installed blue LED panels on platforms to prevent suicide. A 10 year study found an 84% decline in suicide attempts at stations where lights were installed, with no decline at stations without lights. (<a href="https://pubmed.ncbi.nlm.nih.gov/22980401/">source</a>)</li><li><strong>A Basic Income is Better than a Jobs Guarantee</strong>: Only about 15% of the jobless are your traditional unemployed people looking for a new job. 60% are disabled. Disability has doubled over the past twenty years and continues to increase. A Jobs Guarantee won't actually help most people who are unemployed. (<a href="https://slatestarcodex.com/2018/05/16/basic-income-not-basic-jobs-against-hijacking-utopia/">Scott Alexander</a>)</li><li><strong>Cement produces more air pollution than all the trucks in the world combined:</strong> Manufacturing the stone-like building material is responsible for 7% of global carbon dioxide emissions, more than what comes from all the trucks in the world. (<a href="https://www.bloombergquint.com/business/green-cement-struggles-to-expand-market-as-pollution-focus-grows">source</a>)</li><li><strong>Justice Takes a Backseat to Emotion</strong>: After the LSU football team loses a game, juvenile court judges in Louisiana hand out sentences that are 6.4% longer on average. Sentence length correlates with how far a judge lives from LSU, with the longest sentence lengths handed out by judges who live closest to LSU. (<a href="https://www.nber.org/papers/w22611#:~:text=Employing%20the%20universe%20of%20juvenile,college%20team%20in%20the%20state.)">source</a></li><li><strong>1/3 of White Harvard Students Haven't Earned Their Spot Through Academic Merit:</strong> A staggering 43% of white Harvard students are legacies, athletes, or children of donors. Of those, around 75% would have been rejected if not for their special preference. (<a href="https://www.nbcnews.com/news/us-news/study-harvard-finds-43-percent-white-students-are-legacy-athletes-n1060361">source</a>)</li><li><strong>Being Good Looking is a Privilege, Part 476</strong>: In one study, unattractive criminals were fined 3 times more than attractive criminals for moderate misdemeanours. However, appearance doesn’t seem to influence verdicts of guilt or innocence (<a href="https://medium.com/fluxx-studio-notes/52-things-i-learned-in-2020-6a380692dbb8">Tom Whitwell</a>).</li></ol><ol role="list"><li><strong>People are Endlessly Creative (or Terrible Spellers)</strong>: ~15% of daily searches on Google have never been searched for before. (<a href="https://www.digitalinformationworld.com/2020/08/google-is-still-not-the-all-knowing-almighty-search-engine-as-15-percent-of-queries-are-never-seen-before-by-tech-giant.html">source</a>)</li><li><strong>Small Design Changes Make a Big Difference</strong>: One Dutch bike manufacturer reduced shipping damage by 70-80% simply by printing the image of a big flatscreen TV on their boxes. (<a href="https://www.theverge.com/2016/9/25/13048668/vanmoof-shipping-damages-dutch-bicycle-design">source</a>)</li><li><strong>The Best Way to Give Writing Feedback</strong>: Use the acryonm CRIBS. Note anything that is Confusing, Repetitive, Interesting, Boring, or Surprising. (<a href="https://www.perell.com/tweetstorms/cribs-my-writing-feedback-formula">David Perell</a>)</li><li><strong>Silly Mistakes Happen to the Best of Us</strong>: In 1999, the $125m Mars Climate Orbiter was lost because one team was using inches, the other was using centimeters. (<a href="https://www.latimes.com/archives/la-xpm-1999-oct-01-mn-17288-story.html">source</a>)</li><li><strong>Sequencing Matters</strong>: The first item in a buffet is taken by 75% of diners, even when the food order was reversed. 66% of all food taken comes from the first 3 items, no matter how long the buffet is. (<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0077055">David Perell</a>)</li><li><strong>Betteridge's Law of Headlines:</strong> Any headline that ends with a question mark can be answered by the word "No". (<a href="https://en.wikipedia.org/wiki/Betteridge%27s_law_of_headlines">Wikipedia</a>)</li></ol><ol role="list"><li><strong>"Carrots are Good for Your Eyes" was an Anti-Nazi Scheme:</strong> The myth that carrots are beneficial for eyesight started as a military disinformation campaign in WWII by the Brits. They didn't want the Germans to realize that the RAF were shooting down so many enemy planes because they had radar, so they made up a lie about carrots that got stuck in the popular consciousness. (<a href="https://www.smithsonianmag.com/arts-culture/a-wwii-propaganda-campaign-popularized-the-myth-that-carrots-help-you-see-in-the-dark-28812484/">Smithsonian</a>)</li><li><strong>The Craziest Piece of History No One Told Me About:</strong> In 1800s China, a man claiming to be the brother of Jesus started a church. By the end of the story, 20 million people died in perhaps the bloodiest civil war in history. Fact is crazier than fiction. (<a href="https://en.wikipedia.org/wiki/Taiping_Rebellion">Wikipedia</a>)</li><li><strong>When You Don't Have a Lot, Make Use of What You Have</strong>: The Romans used to use stale urine as mouthwash. Due to the ammonia in the urine, it actually worked pretty well! (<a href="https://www.smithsonianmag.com/science-nature/from-gunpowder-to-teeth-whitener-the-science-behind-historic-uses-of-urine-442390/">Smithsonian</a>)</li><li><strong>America Did Not Start as a Democracy</strong>: Only 6% of the population was eligible to vote when George Washington ran for president. (<a href="https://en.wikipedia.org/wiki/1788%E2%80%9389_United_States_presidential_election">Wikipedia</a>)</li><li><strong>The Black Plague May Have Driven the Rise of the West</strong>: The Black Death kills over 40% of Europe's population. Some historians think that the resulting labor scarcity increased the bargaining power of peasants in the West, which led to the end of serfdom and to higher standards of living. Since the Plague was not as deadly in the East, the equivalent institutional changes never took place. [<a href="https://sloanreview.mit.edu/article/the-great-innovation-deceleration">MIT Sloan</a>]</li></ol><ol role="list"><li><strong>Internet History is Evaporating, and the Future is the Victim</strong>: 70% of links within the Harvard Law Review and 50% of URLs within United States Supreme Court opinions do not link to the originally cited information. (<a href="https://harvardlawreview.org/2014/03/perma-scoping-and-addressing-the-problem-of-link-and-reference-rot-in-legal-citations/">Harvard Law Review</a>)</li><li><strong>Deaths of Despair are Rapidly Rising:</strong> Between 1999 and 2017, midlife mortality from drug overdoses increased by nearly 400% (from 6.7 deaths/100,000 to 32.5), alcoholic liver disease increased by 40.6% (from 6.4 to 8.9), and suicide rates increased by 38.3% (from 13.4 to 18.6). (<a href="https://peterattiamd.com/why-is-life-expectancy-in-the-us-declining/">Dr. Peter Attia</a>)</li><li><strong>Clarke's First Law:</strong> When a distinguished but elderly scientist states that something is possible, he is almost certainly right. When he states that something is impossible, he is very probably wrong. (<a href="https://www.lesswrong.com/posts/irbREZtZzPi7WEYex/book-review-human-compatible-1">Scott Alexander</a>)</li><li><strong>Virtual Goods Will be a Trillion Dollar Business Someday</strong>: According to SuperData, virtual marketplaces generated $109 billion in 2019, 85% of which came from the purchase of virtual goods. (<a href="https://www.morningbrew.com/emerging-tech/stories/2020/05/25/todays-largest-games-thriving-virtual-economies?__cf_chl_jschl_tk__=8d4b1676a414c884b7e4d2f8e7f8cc1996fcdd3d-1607583077-0-AaDJV_rUtoKtK77M9bqejnODyJ4Uf98-V_BEjDsytGralRbifDBsYzco65WZVcACLBHKWOm4oEifs-vqH4Xs74o8QFgPphBDGmdv_h92Af-0fptwf5iHxEL2PLR9GhZnQbElXzz2QqqPU0KOpnixifVR90S04Eljx8WmYNAuBtxqOV5iLPoKWQ13iS6j3oNeYqbOzkPmYdO5LGSUxB_6qhIPpfYWZ7AduWDPApMGQvaHZtmJ90_lUXyhgMgZqxL4ciMEpYpT1LAzlBDFTjRKHNoXGmFIV0668Z4oFSUqtzDWDzL4cQJi0c9ADYJnYRzWy_AlJ2njxoCLzp3Bnz1--YA_cjZx_oKUGtg7GmE-8W9_nKri_VMd_-vVGQKqFBkBKLucIwa6po02QC1ZoWiZf1Tcv9tNz4iqgES_PEyCRRoNC7q3MYXapO2NCrgwEyeGIIg1_EQ_ofv0FJV49n03m1w1-os5EH7crBhx9ZcFZJ4r">Morning Brew</a>)</li><li><strong>The Age of the American Internet is Over</strong>: 80-90% of internet users are now outside the USA, there are more smartphone users in China than in the USA and western Europe combined, and the creation of venture-based startups has gone global. American policy preferences will no longer govern how the internet develops. (<a href="https://www.ben-evans.com/benedictevans/2020/10/3/the-end-of-the-american-internet">Benedict Evans</a>)</li></ol><ol role="list"><li><strong>Amazon Prime is Essential to the Fabric of America</strong>: 82% of American homes have Amazon Prime, more than voted in the 2016 election, have a pet, attend church, or decorate a Christmas tree. (<a href="https://twitter.com/profgalloway/status/1288546564374437894?lang=en">Scott Galloway</a>)</li><li><strong>The Big 3 Are The Main Beneficiaries Of The Venture Boom:</strong> Startups spend almost 40 cents of every VC dollar on Google, Facebook, and Amazon. (<a href="https://mobiledevmemo.com/facebook-google-alternative-start-up-user-acquisition/">Chamath Palihapitiya</a>)</li><li><strong>Software Matters More than Hardware:</strong> With today’s algorithms, computers would have beat the world chess champion already in 1994 (instead of 1997) on a contemporary desk computer. (<a href="https://www.lesswrong.com/posts/75dnjiD8kv2khe9eQ/measuring-hardware-overhang">hippke</a>)</li><li><strong>Public Markets Lead to Short-Termism</strong>: Less than a third of S&amp;P companies actually have R&amp;D budgets. This is largely due to the fact that R&amp;D can take years to produce meaningful revenue benefits.</li><li><strong>There's a Tsunami of Data Created Every Hour</strong>: More data is created every hour in 2020 than was created in all of the year 2000. (<a href="https://www.seagate.com/files/www-content/our-story/rethink-data/files/Rethink_Data_Report_2020.pdf">Seagate</a>)</li></ol><ol role="list"><li><strong>Hindu Nationalism Runs Deeper in India than I Knew:</strong> The RSS, a Hindu nationalist paramilitary organization, runs 30,000 schools, the largest network of farmers and social-welfare organization in the slums, the 2nd largest network of trade unions, and spawned the BJP, India's most powerful political party. (<a href="https://en.wikipedia.org/wiki/Rashtriya_Swayamsevak_Sangh#:~:text=RSS%20was%20founded%20on%2027,Hindu%20Rashtra%20(Hindu%20nation).)">Wikipedia</a></li><li><strong>The Caste System is Alive and Well in Indian Marriages</strong>: Only about 5% of marriages in India are between members of two different castes. (<a href="https://en.wikipedia.org/wiki/Inter-caste_marriages_in_India">Wikipedia</a>)</li><li><strong>Non-Chinese People Don't Want to Live in China:</strong> Sydney, Australia alone has more foreign-born residents than mainland China. (<a href="https://marginalrevolution.com/marginalrevolution/2019/12/china-facts-of-the-day-7.html">Tyler Cowen</a>)</li><li><strong>The UK Conservative Party (a.k.a the Tories) Have a Realllllly Old Support Base</strong>: In 2018, the party received twice as much money from dead members, through wills, as from the living. (<a href="https://www.bbc.co.uk/news/uk-politics-45271284">BBC</a>)</li><li><strong>Shutting Down Nuclear Power is a Really Bad Idea</strong>: After Fukushima, Germany shut down 50% of its nuclear power plants. This study estimates that this decision cost Germany $12 billiondollars, mostly from the cost of 1,100 excess deaths since then attributable to local air pollution from coal plants. (<a href="https://marginalrevolution.com/marginalrevolution/2020/01/nuclear-energy-saves-lives.html">Alex Tabarrok</a>)</li></ol><ol role="list"><li><strong>Don't Get Surgery on the Weekends:</strong> You are 44% more likely to die if you have surgery on a Friday (1.44%) compared to a Monday (1%). That jumps to 82% is you have surgery on a weekend. (<a href="https://danariely.com/2013/08/11/monday-is-good-for-something-after-all-surgery/">Dan Ariely</a>)</li><li><strong>Depression Dulls Your Senses:</strong> Depressed people have worse sense of smell, and people with worse sense of smell are more likely to get depressed. We already know that depression decreases visual contrast, causing the world to literally look washed-out and gray. (<a href="https://slatestarcodex.com/2020/04/17/depression-the-olfactory-perspective/">Scott Alexander</a>)</li><li><strong>America is Obese Partially Because Everyone is Eating Fast Food</strong>: Every day, about 84 million adults in America eat fast food. (<a href="https://www.cdc.gov/nchs/products/databriefs/db322.htm">Centers for Disease Control</a>)</li><li><strong>Zinc Dramatically Helps with Colds, If You Take a Lot Quickly:</strong> Most studies suggest that it'll shorten the cold by 12-48%. Nasal discharge goes down by 34%, congestion by 37%, and muscle ache by 54%. But you need to take a high dose, roughly 80 mg/day, started within 24 hours of the first symptoms. (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3273967/#:~:text=A%20meta%2Danalysis%20published%20in,were%20present%20after%207%20days.&amp;text=A%20meta%2Danalysis%20published%20in%20June%202011%20concluded%20that%20zinc,at%20daily%20doses%20%3E75%20mg.)">Source</a></li><li><strong>The Amish are Remarkably Healthy</strong>: The Amish outperform the English on every measured health outcome. 65% of Amish rate their health as excellent or very good, compared to 58% of English. Diabetes rates are 2% vs. 8%, heart attack rates are 1% vs. 6%, high blood pressure is 11% vs. 31%. (<a href="https://slatestarcodex.com/2020/04/20/the-amish-health-care-system/">Scott Alexander</a>)</li><li><strong>Calorie Counts are Mostly Lies</strong>: Labels on American packaged foods miss their true calorie counts by an average of 18%. The information on processed frozen foods misstates their calorific content by as much as 70%. (<a href="https://www.economist.com/1843/2019/02/28/death-of-the-calorie">The Economist</a>)</li><li><strong>American Offices are Tougher than I Thought:</strong> 48% of employees in the US alone have cried at work. (<a href="https://go.ginger.io/annual-behavioral-health-report-2019">Ginger</a>)</li></ol><ol role="list"><li><strong>Wealth Fades, Quickly</strong>: 70% of wealthy families lose their wealth by the 2nd generation, and 90% by the 3rd. (<a href="https://twitter.com/marshal/status/1281758727918542848">h/t Marshall Haas</a>)</li><li><strong>People are Less Rational than You Think:</strong> People spend more on lottery tickets than movies, video games, music, sporting events, and books combined. (<a href="https://twitter.com/david_perell/status/1285364113741209600?lang=en">David Perell</a>)</li><li><strong>The US is Rich. Really Rich</strong>: If the United Kingdom was a US state, it would be the third poorest by GDP/capita, only Arkansas and Mississippi are lower. (<a href="https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_GDP_per_capita">Wikipedia</a>)</li><li><strong>Tesla is Big. Really Big</strong>: On July 14th, …</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.kashdhanda.com/post/52-things-i-learned-in-2020">https://www.kashdhanda.com/post/52-things-i-learned-in-2020</a></em></p>]]>
            </description>
            <link>https://www.kashdhanda.com/post/52-things-i-learned-in-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501631</guid>
            <pubDate>Tue, 22 Dec 2020 00:49:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unicomp New Model M Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25501600">thread link</a>) | @todsacerdoti
<br/>
December 21, 2020 | https://www.softinio.com/post/unicomp-new-model-m-keyboard/ | <a href="https://web.archive.org/web/*/https://www.softinio.com/post/unicomp-new-model-m-keyboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><article><img src="https://www.softinio.com/img/unicomp_new_model_m.png"><p>Unicomp new Model M keyboard is the latest version of the classic and fabulous IBM Model M keyboard that came out earlier this year. This blog post is my unboxing and review of this timeless keyboard.</p><p>My favorite keyboard of all time was the <a href="https://en.wikipedia.org/wiki/Model_M_keyboard">IBM Model M keyboard</a>. Through out the 1980s and the 1990s I would exclusively use this keyboard. In fact as I type this blog post I can confirm I still have 3 of them in my garage back in London, England.</p><p>Ever since I moved to the USA, both at work and at home I have been using various keyboards by Apple. Though I have nothing bad to say about the Apple keyboards, after all they are cosmetically pleasing, of high build quality and work really well with all things Apple, I started really missing my IBM Model M. This is when I found out Unicomp have released a new Model M and I decided to buy one.</p><h2 id="who-are-unicomp">Who are Unicomp?</h2><p>When IBM decided to stop manufacturing keyboards, a company called Lexmark bought their equipment and all rights to their keyboards and continued making them. In turn Lexmark stopped manufacturing keyboards too and at that point some ex-IBM and ex-Lexmark staff got together, purchased all the manufacturing equipment and rights to continue manufacturing the keyboards (but of course without the IBM and Lexmark branding) and setup a new company called <code>Unicomp</code>. <a href="https://www.pckeyboard.com/">Unicomp</a> has since continued producing these keyboards for like the last 25 years.</p><h2 id="unboxing">Unboxing</h2><p>This is how it was delivered:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_box.png" alt="Unicomp New Model M box"></p><p>When the package arrived I could feel the keyboard moving inside the box, but when I opened the box I saw how well it was packed:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_open_box.png" alt="Unicomp New Model M opened box"></p><p>I took it out of its box and removed all packaging material it was wrapped in:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_out_of_box.png" alt="Unicomp New Model M Keyboard"></p><h2 id="review">Review</h2><p>As I looked at the keyboard, before taking it out of the box, I could immediately tell it was a Model M and its evolution. Super excited and impatient I took it out of the box. My first observation was that it comes with a USB (standard not USB-C) cable that is not removable. It felt lighter in weight than the original IBM Model M I had. Next I looked at its build quality and was overall impressed. The original IBM Model M does feel more robust but I could not fault this new Model M. All this was to be expected though, as I didn’t have my expectation set to receiving a keyboard that is made by 100% the same materials as the original Model M I had.</p><p>Having one of the newer macbooks with only USB-C ports, I set my new keyboard on my desk and plugged it in via a USB adapter and off I went looking for excuses to type so I can use my new keyboard.</p><p>I am thoroughly enjoying using this keyboard. Its typing feel and size are on par with the original Model M I had. I had forgotten how much more comfortable it is to type on Model M than an Apple keyboard. Comparing now, I can see that my hands are too big for the Apple keyboards so I would try to type in a cramped space to fit my hands in, as opposed to this Model M which is perfect for my hand size. This alone has resulted in me being able type faster, be more comfortable and make virtually no typing mistakes. As always I find the higher actuation point feel and the audible feedback the sound provided by the buckling springs with each keystroke incredibly pleasing. Comparing the sound of the buckling springs with the original IBM Model M, I would say the new Unicomp Model M is slightly quieter.</p><h3 id="how-well-does-it-work-with-macos">How well does it work with macOS</h3><p>When I went to place my order on Unicomp website they only had a windows version of the new Model M listed. Whilst that will work fine with macOS, it does have some features missing compared to a keyboard that has dedicated support for macOS, such as volume control, music play/stop/previous track /next track keys. Good news is I called Unicomp and spoke to Troy about this and he was kind enought to tell me I can place an order and request a custom configuration at a small fee to have the extra macOS features added. I did that and my keyboard has all the extra macOS keys functioning as expected. It even has the window key replaced with the macOS command key.</p><p><img src="https://www.softinio.com/img/unicomp_model_m_mac_keys.png" alt="Unicomp New Model M with macOS layout"></p><h3 id="unicomp-quality-of-service">Unicomp quality of service</h3><p>When you first visit Unicomp website, you get the sense that you just visited a website from 20 years ago with not the best user experience browsing or ordering. When you research Unicomp on the internet you won’t find much activity on social media or any form of marketing.</p><p>Please do not be put off by this and don’t judge them because of their dated look. The quality of service I received is one of the best I have ever received. When I called to find out more about the New Model M not only was the help I received exemplarity, but once I placed my order, even though it had the custom configuration of macOS support added was shipped within 24 hours of placing the order and the item received is fantastic in every possible way.</p><h2 id="conclusion">Conclusion</h2><p>I am back again reunited with my old friend a Model M. I am enjoying using it so much after a gap of not having one that I am looking for excuses to use it more and more. So expect more <a href="https://www.softinio.com/">blogs</a> and <a href="https://softinio.substack.com/">newsletters</a> from me going forward, as this keyboard is a joy to use.</p><h2 id="references">References</h2><ul><li><a href="https://www.pckeyboard.com/page/product/NEW_M">Link to Unicomp Model M that I ordered</a></li></ul></article></div></div></div>]]>
            </description>
            <link>https://www.softinio.com/post/unicomp-new-model-m-keyboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501600</guid>
            <pubDate>Tue, 22 Dec 2020 00:44:12 GMT</pubDate>
        </item>
    </channel>
</rss>
