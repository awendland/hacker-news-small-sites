<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 24 Sep 2020 12:31:09 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 24 Sep 2020 12:31:09 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Security September: Cataclysms in the Cloud Formations]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24552986">thread link</a>) | @boyter
<br/>
September 22, 2020 | https://onecloudplease.com/blog/security-september-cataclysms-in-the-cloud-formations | <a href="https://web.archive.org/web/*/https://onecloudplease.com/blog/security-september-cataclysms-in-the-cloud-formations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">

		<div data-page-title="Security September: Cataclysms in the Cloud Formations – One Cloud Please">

			<section>

	

</section>

<section>

	<p><img src="https://onecloudplease.com/images/posts/security-september-1.jpg" alt=""></p>

<p><em>This is the fourth of a 5-part series on AWS exploits and similar findings discovered over the course of 2020. All findings discussed in this series have been <a href="https://aws.amazon.com/security/vulnerability-reporting/">disclosed</a> to the AWS security team and had patches rolled out to all affected regions, where necessary. A big thanks to my friend and fellow Australian <a href="https://twitter.com/__steele">Aidan Steele</a> for co-authoring this series with me. This post was written by Aidan.</em></p>

<p>Back in November 2019, AWS CloudFormation <a href="https://aws.amazon.com/about-aws/whats-new/2019/11/now-extend-aws-cloudformation-to-model-provision-and-manage-third-party-resources/">added support</a> for “resource providers” - a new and improved way of extending CloudFormation with user-authored resources. Not just that, it is also the way that all new resources are added to CloudFormation by AWS themselves. This was a substantial improvement over “custom resources”, which hadn’t seen any change since at least 2013 other than <a href="https://aws.amazon.com/about-aws/whats-new/2015/04/aws-cloudformation-supports-aws-lambda-backed-custom-resources/">Lambda support in 2015</a>. This post won’t get into the differences or benefits of resource providers, for that check out <a href="https://aws.amazon.com/blogs/mt/managing-resources-using-aws-cloudformation-resource-types/">this AWS blog post</a>.</p>

<p>On January 17th, <a href="https://twitter.com/ben11kehoe">Ben Kehoe</a> CloudFormation extraordinaire sent me a Twitter DM with a link to a GitHub <a href="https://github.com/aws-cloudformation/cloudformation-cli-python-plugin/pull/71">pull request</a> that set off his spidey-senses. I was excited to receive this because a) Ben thought of me! and b) it combined CloudFormation and credentials in the cloud in a novel way, two of my favourite things. This was the excuse I needed to finally dig into resource providers - albeit not until the 21st when I had some time.</p>

<h2 id="pulling-things-apart">Pulling things apart</h2>

<p>The first thing I noticed is that (unlike custom resources) the Lambda function you are authoring ends up not running in your AWS account - it runs in an AWS-managed account. I was immediately curious about what permissions <strong>my</strong> code had in <strong>their</strong> account - you’d hope it’s locked down! I was also curious about how the code I wrote appeared to have a role in my account - where was the role being assumed?</p>

<p>Rather than try to understand the framework provided by CloudFormation and how things are <strong>meant</strong> to work, I decided to drop down a level and log the raw input to the Lambda function, to see how things <strong>actually</strong> work. This is an excerpt of the input passed to the Lambda when a resource is being created:</p>

<p><img src="https://onecloudplease.com/images/posts/security-september-2.png" alt=""></p>

<p>So there are at least <strong>four</strong> different sets of credentials in play here:</p>

<ul>
  <li>The <code>callerCredentials</code>: These are the credentials that I am expected to use. They are for the role assumed in <strong>my</strong> account to actually create, update, delete, etc the resource in question.</li>
  <li>The <code>providerCredentials</code>: These are the credentials for the <code>LogAndMetricsDeliveryRole</code> role in the <code>CloudFormationManagedUploadInfrastructure</code> stack, i.e. for writing logs that appear in <strong>my</strong> account.</li>
  <li>The (not pictured) Lambda execution role’s credentials: this appears to have permission only to write logs within the AWS-managed account.</li>
  <li>The <code>platformCredentials</code>: These are the interesting ones. They are for a role in the AWS-managed account. That role has permission to call a handful of permissions, but the ones that caught my eye were <code>events:PutRule</code>, <code>events:PutTarget</code>, <code>events:RemoveTarget</code>, <code>events:DeleteRule</code>.</li>
</ul>

<p>Why does the Lambda function need permission to invoke those EventBridge APIs? Resource creation might take a long time and Lambda is limited to 15 minutes, so the service has support for reinvoking the Lambda periodically to ask “is it done yet?” and EventBridge cron jobs are a great fit for this. The way it works is by creating a one-off rule scheduled to run one minute in the future, with a target of the same Lambda. It specifies that the Lambda should be reinvoked with a hardcoded input string - namely the input that <strong>this</strong> invocation of the Lambda received.</p>

<h2 id="curiosity-intensifies">Curiosity intensifies</h2>

<p>This piqued my curiosity. What if I used the API to trigger a different target, like a Lambda in my account? No luck, they must have used the <code>events:TargetArn</code> condition key to restrict the target to only this Lambda. So I tried something else: what if instead I tried a different rule? I tried to create a rule that would invoke my Lambda in their account that matched events with <code>{"detail-type": ["AWS API Call via CloudTrail"]}</code>. I was immediately inundated with a firehose of events. I rushed to turn it off as it wasn’t my intention to break things, just curiosity.</p>

<p>I looked at the events. Was this really a security issue or more a “that’s cute” kind of thing? Most events were uninteresting. But one caught my eye. It was a call to <code>events:PutTarget</code>. The CloudTrail event included the payload. I’ve highlighted the noteworthy part.</p>

<p><img src="https://onecloudplease.com/images/posts/security-september-3.png" alt=""></p>

<p>In order to reinvoke the function a minute later with the same payload, we established earlier that the target was created with a constant JSON input. That input includes credentials for a role in the customer’s account. Multiple (all?) customers are serviced by the AWS-managed account. So I could see credentials for other AWS customers using resource providers. They might be using it without realising: AWS are using this pattern for first-party types - I saw <code>AWS::WAFv2::RuleGroup</code> fly by in the logs.</p>



<p>That afternoon I reported the issue to the <a href="https://aws.amazon.com/security/vulnerability-reporting/">AWS security team</a>. They got back to me within 9 hours. They asked for some clarification (fair, I was a bit frazzled when I wrote the first email!) and any reproduction steps I could provide. Given I’d slapped together a very manual proof-of-concept, I set about creating a more useful reproduction for them.</p>

<p>The CloudFormation service team also reached out to me. They indicated that they had actually already caught this internally and a fix was underway. A few days later on January 25th, they told me that a fix had been deployed to a couple of regions and asked if I could try again. A few minutes later, I got a follow up from the AWS security team with the same request - things move surprisingly quickly at AWS!</p>

<p>I tried again. After creating my rule I got a few events, but it quickly dried up without me even needing to turn it off. I looked through the events recorded. I didn’t see any of those problematic ones before, no matter how many times I tried. I did see this interesting one though:</p>

<p><img src="https://onecloudplease.com/images/posts/security-september-4.png" alt=""></p>

<p>Clever! They had created an alarm that would trigger whenever a malicious rule was created. This was a solid tactical mitigation. Unfortunately the IAM policy conditions available on <code>events:PutRule</code> weren’t rich enough to block me outright, but this stopped the bleeding. I also noticed the unusual absence of any of the <code>events:PutTarget</code> API call events. I don’t know how they did this as omitting those from CloudTrail/EventBridge isn’t possible for customers’ accounts. I guess AWS have some secret sauce.</p>

<h2 id="closing-out">Closing out</h2>

<p>On January 31st I got a follow up email from AWS Security letting me know that the issue has been resolved.</p>

<p>On June 30th the CloudFormation team released version 2 of the resource provider protocol. It came with a number of benefits, but the change most visible to me was that the <code>platformCredentials</code> field had disappeared. It is no longer necessary as CloudFormation itself handles the reinvocation of the Lambda function.</p>

<p>Finally, on August 26th AWS sent out the following email, gently encouraging people to migrate to the new protocol for resource providers. I wouldn’t be surprised if this was followed by an eventual deprecation of v1.</p>

<p><img src="https://onecloudplease.com/images/posts/security-september-5.png" alt=""></p>

<h2 id="thanks">Thanks</h2>

<p>I’d like to thank Ben Kehoe for pointing this out to me in the first place. Without his keen eye and intuition for sensible security, I would have never noticed this. I’d like to thank Ian for being a great sounding board throughout the process. His <a href="https://twitter.com/iann0036/status/1161871038336028672">tweets</a> last year about Lake Formation issues made me feel confident that AWS would respond positively to my email. I’d also like to thank the AWS Security team who made me feel very comfortable both reporting my first issue and that it was being addressed in a thorough and impressively timely fashion. And a second thanks to Ian for motivating me to write my first blog posts in years!</p>


</section>

		</div>

	</div></div>]]>
            </description>
            <link>https://onecloudplease.com/blog/security-september-cataclysms-in-the-cloud-formations</link>
            <guid isPermaLink="false">hacker-news-small-sites-24552986</guid>
            <pubDate>Tue, 22 Sep 2020 10:48:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell's Children]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24552512">thread link</a>) | @psibi
<br/>
September 22, 2020 | https://owenlynch.org/posts/2020-09-16-haskells-children/ | <a href="https://web.archive.org/web/*/https://owenlynch.org/posts/2020-09-16-haskells-children/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
          
          <p>
    Posted on September 16, 2020
    
</p>

<p>If I were to travel back in time 4 years ago, and tell my old self that Haskell was starting to lose its shine, I wouldn’t believe it. I grew up on Haskell, my appetite for category theory was whetted by Haskell, my biggest programming projects have been in Haskell, and my dream job was to work at a company that used Haskell.</p>
<p>But now, I find myself simply not as excited about Haskell as I used to be. What changed?</p>
<p>I think there are a couple things. I think one primary factor is that the kind of programming that Haskell really excells in; i.e.&nbsp;creating abstract, correct interfaces for things, is just not a type of programming that’s interesting to me anymore. When I wanted to work on software as a career, a language that allowed incredible facilities in not repeating yourself was very useful. Types that ensure correctness of data interchange, or lenses that allow access to complicated data structures are all very well for implementing, say, a compiler, or complicated business logic in a web backend. However, my interests in software are now primarily as a scientific/mathematical tool. Numerical algorithms can be done in Haskell, but they don’t really gain much benefit from the type system, and they also don’t have great library support.</p>
<p>No doubt Haskell could be made into the kind of language to use for the problems that I am interested in, but given the choice between working on the problems that interest me, and working on infrastructure for the problems that interest me, I would rather work on the problems that interest me. The general feeling that I have is that Haskell is a great tool for a software engineer, but I don’t want to be a software engineer, I want to be a mathematician that sometimes uses computers.</p>
<p>But there is another reason too. While I think that Haskell is still a great language, it is close to 30 years old at this point. It manages to stay fresh and relevant with an ever-growing list of extensions, and constantly changing best practices and libraries (which is itself a problem…), but it would be very sad if we as a society of programmers had failed to surpass it in any respect with any of the programming languages that have had the advantage of starting from a clean slate. In this post, I want to talk about these successor languages, and what I think about them.</p>
<h2 id="rust">Rust</h2>
<p>Surprisingly, one of Haskell’s great strengths is as a systems language. It manages to be much faster than most dynamic languages, while allowing a much higher-level interface than traditional systems languages like C (obviously). One great example of a “systems” program written in Haskell is git-annex. It is a git addition that adds tracking of large files, and was my primary backup system for a long time (I eventually decided that I didn’t need the additional power from it, and was better served by a more seamless solution).</p>
<p>However, in 2020, the premier system’s language is surely Rust. It would be unfair to compare the performance of Rust and Haskell, because Haskell is optimized for things other than performance. That being said, Rust is <em>faster</em> and <em>lower-latency</em> than Haskell, both of which are important. However, it also has a great type system, unlike C or C++ (we don’t talk about Go…). The type system in Rust is obviously very influenced by the type system of Haskell, but they also implemented “ownership” which allows for the killer feature garbage-collection free automatic memory management.</p>
<p>When I first started using Rust, I really missed monads. But here’s the thing. Having used lots of monads in Haskell, and read lots of blog posts about monads, I’ve learned that in systems contexts, it’s often best to just have a simple monad stack that just consists of Reader + IO (and Maybe’s and Option’s sprinkled about occasionally). Huge monad transformer stacks often raise more problems than they solve. But Reader + IO is <em>essentially</em> the “default monad stack” of Rust.</p>
<p>Rust also has some other killer features, like the ability to compile to webassembly (yes there is ghcjs, but, really, do you want to use ghcjs?) It also from the beginning was targetted towards industry, and consequentially has a much more vibrant ecosystem.</p>
<p>This all being said, I think it is worth looking at the features that are prominent in Haskell that ended up going to Rust</p>
<ul>
<li>Typeclasses (in Rust they are Traits)</li>
<li>Sum types (you may take this for granted, but a lot of languages don’t have them….)</li>
<li>Pervasive pattern matching</li>
<li>Hindley-Mindler type inference (automatic type inference for variables)</li>
<li>Pervasiveness of things being <em>expressions</em> rather than statements</li>
<li>Parametric Polymorphism</li>
<li>The feeling that once your program compiles, it will run</li>
</ul>
<p>I think that we should recognize Rust for what it is, a child of Haskell and the Haskell community, and like all good parents, we should want it to do better than the previous generation. In as much as Haskell is the ideas that form Haskell, the success of Rust is the success of Haskell.</p>
<h2 id="idris">Idris</h2>
<p>OK, mainstream programming languages are great, but sometimes you just want to make the perfect type-based interface to your stuff and show the imperative scrubs what a wiz-kid you are. Or alternatively, sometimes you really care that your software is correct. Or you want to concretize a new category-theory inspired design for a part of a compiler. Nowadays, the language for that is not Haskell, it is Idris.</p>
<p>There are about six different ways to sort of have dependent types in Haskell (types that depend on values, like a length-<span>n</span>) array. I don’t really fully understand any of them, and it is totally unclear to me how they work together. Presumably, there are blogs which outline the One True Way, but… it’s tough. In Idris, it just seems perfectly natural to use dependent types, like, why wouldn’t you able to have a type parameter which was a value? In many ways other than dependent types, Idris is a much cleaner language than Haskell too. And with Idris2, it has support for <em>linear types</em>, which allow mutability in a functional context via guarantees that nobody is going to try and use the old value. If I want to play around with a cool type system in a language that can also actually do things with the real world (i.e., unlike Agda or Coq), I would go to Idris rather than Haskell.</p>
<p>But Idris is undeniably Haskell’s child. The first version was written in Haskell (it is now self-hosting). They are similar in more ways than it is worth counting. Enough said.</p>
<h2 id="julia">Julia</h2>
<p>Unlike the first two, Julia doesn’t really muscle into Haskell’s territory. Scientific computing was never really Haskell’s forte, despite there being some very cool libraries written in it, like <code>ad</code> for autodifferentiation, or various array-handling packages that automatically fused consecutive array operations.</p>
<p>Also, Julia is a dynamically typed language. How could a filthy dynamically typed language ever claim to be Haskell’s child??</p>
<p>Well, for one it steals some of those cool libraries, and makes them much better! Flux is a neural networks library which essentially is just autodifferentiation + some nice utilities, and it is already competitive in my mind with TensorFlow. Julia also has StaticArrays, which integrates the size of the array into the type, and Julia has some neat fusion abilities too for making array operations really fast.</p>
<p>But wait, you ask, how can it do this if it’s not a statically typed language? Well, Julia is not your average dynamically typed language. It actually has a very interesting type system, a full discussion of which is beyond the scope of this post, and the focus on types as the unit of programming is (somewhat?) similar to Haskell (now I’m stretching it a little though).</p>
<p>The real reason I include Julia, however, is because for me personally, it has replaced Haskell as the place to do category theory. This is because of a shift of viewpoint: rather than providing a type system into which category theory can be embedded in to guide typical software engineering tasks, Julia provides a system in which <em>computations</em> in category theory can be carried out in an efficient way. Specifically, I’m talking about <a href="https://github.com/olynch/Catlab.jl">Catlab.jl</a>. A discussion of Catlab.jl is also beyond the scope of this post, but I encourage you to check it out.</p>
<p>Therefore, I count Julia as a child of Haskell (or maybe, I count Catlab.jl as a child of Haskell) because the idea of organizing computation with category theory would not exist in the same way if it weren’t for Haskell.</p>
<h2 id="conclusion">Conclusion</h2>
<p>If I could talk to the Haskell-obsessed teenager that was me four years ago, I would tell him to keep his mind open. Haskell is still great for a lot of things (compilers come to mind), but if Haskell couldn’t inspire superior successors, there wouldn’t be worthwhile ideas in Haskell. There are those on the internet who are talking about how Haskell is dying, and they may or may not be wrong. Stephen Diehl, one of my main Haskell idols, is distancing himself from the Haskell community because of Haskell’s use as intellectual eye-candy on scam cryptocurrencies, and I think that there may be a tipping point where Haskell loses the zeitgeist of being exciting, and because it never had much of a foothold to begin with in industry, slips into irrelevance. But Haskell will always live on; it had a huge impact on many programmers and many languages disproportionate to its actual use, and it will always have a special place in my heart.</p>





        </div>
      </div></div>]]>
            </description>
            <link>https://owenlynch.org/posts/2020-09-16-haskells-children/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24552512</guid>
            <pubDate>Tue, 22 Sep 2020 09:21:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bypassing ESP32 Encrypted Secure Boot]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24552482">thread link</a>) | @mleonhard
<br/>
September 22, 2020 | https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/ | <a href="https://web.archive.org/web/*/https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>We arrived at the last post about our <strong>Fault Injection</strong> research on the <strong>ESP32</strong>. Please read our previous posts as it provides context to the results described in this post.</p>
<ul>
<li><a href="https://raelize.com/posts/espressif-systems-esp32-bypassing-sb-using-emfi/">Espressif ESP32: Bypassing Secure Boot using EMFI</a></li>
<li><a href="https://raelize.com/posts/espressif-systems-esp32-controlling-pc-during-sb/">Espressif ESP32: Controlling PC during Secure Boot</a></li>
<li><a href="https://raelize.com/posts/espressif-systems-esp32-bypassing-flash-encryption/">Espressif ESP32: Bypassing Flash Encryption (CVE-2020-15048)</a></li>
</ul>
<p>During our <strong>Fault Injection</strong> research on the <strong>ESP32</strong>, we gradually took steps forward in order to identify the required vulnerabilities that allowed us to bypass <strong>Secure Boot</strong> and <strong>Flash Encryption</strong> with a single <strong>EM</strong> glitch. Moreover, we did not only achieve <strong>code execution</strong>, we also extracted the <strong>plain-text flash</strong> data from the chip.</p>
<p><strong>Espressif</strong> requested a <strong>CVE</strong>  for the attack described in this post: <a href="https://www.espressif.com/sites/default/files/advisory_downloads/Security%20Advisory%20CVE-2020-15048%2C%2013629%20EN%26CN.pdf" target="_blank">CVE-2020-13629</a>. Please note, that the attack as described in this post, is only applicable to <strong>ESP32</strong> silicon revision 0 and 1. The newer <strong>ESP32 V3</strong> silicon supports functionality to disable the <strong>UART bootloader</strong> that we leveraged for the attack.</p>

<p>The <strong>ESP32</strong> implements an <strong>UART bootloader</strong> in its <strong>ROM code</strong>. This feature allows, among other functionality, to program the external flash. It's not uncommon that such functionality is implemented in the <strong>ROM code</strong> as it's quite robust as the code cannot get corrupt easily. If this functionality would be implemented by code stored in the external flash, any corruption of the flash may result in a bricked device.</p>
<p>Typically, this type of functionality is accessed by booting the chip in a special <strong>boot mode</strong>. The <strong>boot mode</strong> selection is often done using one or more external strap pin(s) which are set before resetting the chip. On the <strong>ESP32</strong> it works exactly like this pin <code>G0</code> which is exposed externally.</p>
<p>The <strong>UART bootloader</strong> supports many interesting <a href="https://github.com/espressif/esptool/wiki/Serial-Protocol#command-opcodes" target="_blank">commands</a> that can be used to read/write memory, read/write registers and even execute a stub from <strong>SRAM</strong>.</p>
<h4 id="executing-arbitrary-code">Executing arbitrary code</h4>
<p>The <strong>UART bootloader</strong> supports loading and executing arbitrary code using the <code>load_ram</code> command. The <strong>ESP32</strong>'s SDK includes all the tooling required to compile the code that can be executed from <strong>SRAM</strong>. For example, the following code snippet will print <code>SRAM CODE\n</code> on the serial interface.</p>
<div><pre><code data-lang="C"><span>void</span> <span>__attribute__</span><span>((</span><span>noreturn</span><span>))</span> <span>call_start_cpu0</span><span>()</span>
<span>{</span>
    <span>ets_printf</span><span>(</span><span>"SRAM CODE</span><span>\n</span><span>"</span><span>);</span>
    <span>while</span> <span>(</span><span>1</span><span>);</span>
<span>}</span>
</code></pre></div><p>The <code>esptool.py</code> tool, which is part of the <strong>ESP32</strong>'s SDK, can be used to load the compiled binary into the <strong>SRAM</strong> after which it will be executed.</p>
<pre><code>esptool.py --chip esp32 --no-stub --port COM3 load_ram code.bin
</code></pre><p>Interestingly, the <strong>UART bootloader</strong> cannot disabled and therefore always accessible, even when <strong>Secure Boot</strong> and <strong>Flash Encryption</strong> are enabled.</p>
<h4 id="additional-measures">Additional measures</h4>
<p>Obviously, if no additional security measures would be taken, leaving the <strong>UART bootloader</strong> always accessible would render <strong>Secure Boot</strong> and <strong>Flash Encryption</strong> likely useless. Therefore, <strong>Espressif</strong> implemented additional security measures which are enabled using dedicated <strong>eFuses</strong>.</p>
<p>These are security configuration bits implemented in special memory, often referred to as <strong>OTP memory</strong>, which can typically only change from 0 to 1. This guarantees, that once enabled, is enabled forever. The following <strong>OTP memory</strong> bits are used to disable specific functionality when the <strong>ESP32</strong> is in the <strong>UART bootloader</strong> boot mode.</p>
<ul>
<li><strong>DISABLE_DL_ENCRYPT</strong>: disables flash encryption operation</li>
<li><strong>DISABLE_DL_DECRYPT</strong>: disables transparent flash decryption</li>
<li><strong>DISABLE_DL_CACHE</strong>: disables the entire MMU flash cache</li>
</ul>
<p>The most relevant <strong>OTP memory</strong> bit is <strong>DISABLE_DL_DECRYPT</strong> as it disables the transparent decryption of the flash data.</p>
<p>If not set, it would be possible to simply access the plain-text flash data while the <strong>ESP32</strong> is in its <strong>UART bootloader</strong> boot mode.</p>
<p>If set, any access to the flash, when the chip is in <strong>UART bootloader</strong> boot mode, will yield just the encrypted data. The <strong>Flash Encryption</strong> feature, which is fully implemented in hardware and transparent to the processor,  is only enabled in when the <strong>ESP32</strong> is in <strong>Normal</strong> boot mode.</p>
<p>The attacks described in this post have all these bits set to 1.</p>

<p>The <strong>SRAM</strong> memory that's used by the <strong>ESP32</strong> is typical technology that's used by many chips. It's commonly used to the <strong>ROM</strong>'s stack and executing the first bootloader from flash. It's convenient to use at early boot as it typically require no configuration before it can be used.</p>
<p>We know from previous experience that the data stored in <strong>SRAM</strong> memory is persistent until it's overwritten or the required power is removed from the physical cells. After a <strong>cold reset</strong> (i.e. power-cycle) of the chip, the <strong>SRAM</strong> will be reset to its default state. This often semi-random and unique per chip as the default value for each bit (i.e. 0 or 1) is different.</p>
<p>However, after a <strong>warm reset</strong>, where the entire chip is reset without removing the power, it may happen that the data stored in <strong>SRAM</strong> remains unaffected. This persistence of the data is visualized in the picture below.</p>
<p>
    <a href="https://raelize.com/img/esp32/esp32-sram-persistence.png">
        <img src="https://raelize.com/img/esp32/esp32-sram-persistence.png" width="700px">
    </a>
</p>
<p>We decided to figure out if this behavior holds up for the <strong>ESP32</strong> as well. We identified that the hardware <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/wdts.html" target="_blank">watchdog</a> can be used to issue a <strong>warm reset</strong> from software. This <strong>watchdog</strong> can also be issued when the chip is in <strong>UART bootloader</strong> boot mode and therefore we can use it to reset the <strong>ESP32</strong> back into <strong>Normal</strong> boot mode.</p>
<p>Using some test code, loaded and executed in <strong>SRAM</strong> using the <strong>UART bootloader</strong>, we determined that the data in <strong>SRAM</strong> is indeed persistent after issuing a <strong>warm reset</strong> using the <strong>watchdog</strong>. Effectively this means we can boot the <strong>ESP32</strong> in <strong>Normal</strong> boot mode with the <strong>SRAM</strong> filled with controlled data.</p>
<p>But… how can we (ab)use this?</p>

<p>We envisioned that we may be able to leverage the persistence of data in <strong>SRAM</strong> across <strong>warm resets</strong> for an attack. The first attack we came up with is to fill the <strong>SRAM</strong> with code using the <strong>UART bootloader</strong> and issue a <strong>warm reset</strong> using the <strong>watchdog</strong>. Then, we inject a glitch while the <strong>ROM code</strong> is overwriting this code with the <strong>flash bootloader</strong> during a normal boot.</p>
<p>We got this ideas as during our previous experiments, where we <a href="">turned data transfers into code execution</a>, we noticed that for some experiments the chip started executing from the entry address before the bootloader was finished copying.</p>
<p>Sometimes you just need to try it…</p>
<h4 id="attack-code">Attack code</h4>
<p>The code that we load into the <strong>SRAM</strong> using the <strong>UART bootloader</strong> is shown below.</p>
<div><pre><code data-lang="C"><span>#define a "addi a6, a6, 1;"
</span><span>#define t a a a a a a a a a a
</span><span>#define h t t t t t t t t t t
</span><span>#define d h h h h h h h h h h
</span><span></span>
<span>void</span> <span>__attribute__</span><span>((</span><span>noreturn</span><span>))</span> <span>call_start_cpu0</span><span>()</span> <span>{</span>
    <span>uint8_t</span> <span>cmd</span><span>;</span>

    <span>ets_printf</span><span>(</span><span>"SRAM CODE</span><span>\n</span><span>"</span><span>);</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>

        <span>cmd</span> <span>=</span> <span>0</span><span>;</span>
        <span>uart_rx_one_char</span><span>(</span><span>&amp;</span><span>cmd</span><span>);</span>

        <span>if</span><span>(</span><span>cmd</span> <span>==</span> <span>'A'</span><span>)</span> <span>{</span>                                    <span>// 1
</span><span></span>            <span>*</span><span>(</span><span>unsigned</span> <span>int</span> <span>*</span><span>)(</span><span>0x3ff4808c</span><span>)</span> <span>=</span> <span>0x4001f880</span><span>;</span>
            <span>*</span><span>(</span><span>unsigned</span> <span>int</span> <span>*</span><span>)(</span><span>0x3ff48090</span><span>)</span> <span>=</span> <span>0x00003a98</span><span>;</span>
            <span>*</span><span>(</span><span>unsigned</span> <span>int</span> <span>*</span><span>)(</span><span>0x3ff4808c</span><span>)</span> <span>=</span> <span>0xc001f880</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>asm</span> <span>volatile</span> <span>(</span> <span>d</span> <span>);</span>                                     <span>// 2
</span><span></span>
    <span>"movi a6, 0x40; slli a6, a6, 24;"</span>                       <span>// 3
</span><span></span>    <span>"movi a7, 0x00; slli a7, a7, 16;"</span>
    <span>"xor a6, a6, a7;"</span>
    <span>"movi a7, 0x7c; slli a7, a7, 8;"</span>
    <span>"xor a6, a6, a7;"</span>
    <span>"movi a7, 0xf8;"</span>
    <span>"xor a6, a6, a7;"</span>

    <span>"movi a10, 0x52; callx8  a6;"</span> <span>// R
</span><span></span>    <span>"movi a10, 0x61; callx8  a6;"</span> <span>// a            
</span><span></span>    <span>"movi a10, 0x65; callx8  a6;"</span> <span>// e               
</span><span></span>    <span>"movi a10, 0x6C; callx8  a6;"</span> <span>// l               
</span><span></span>    <span>"movi a10, 0x69; callx8  a6;"</span> <span>// i               
</span><span></span>    <span>"movi a10, 0x7A; callx8  a6;"</span> <span>// z               
</span><span></span>    <span>"movi a10, 0x65; callx8  a6;"</span> <span>// e               
</span><span></span>    <span>"movi a10, 0x21; callx8  a6;"</span> <span>// !               
</span><span></span>    <span>"movi a10, 0x0a; callx8  a6;"</span> <span>// \n               
</span><span></span>
    <span>while</span><span>(</span><span>1</span><span>);</span>
<span>}</span>
</code></pre></div><p>To summarize, the above code implements the following:</p>
<ol>
<li>Command handler with a single command to perform a <strong>watchdog</strong> reset</li>
<li>NOP-like padding using <code>addi</code> instructions</li>
<li>Assembly for printing <code>Raelize!</code> on the serial interface</li>
</ol>
<p>Please note, the listing's numbers match the numbers in the code.</p>
<h4 id="timing">Timing</h4>
<p>We target a reasonably small attack window at the start of <strong>F</strong> which is shown in the picture below. We know from previous experiments that during this moment the <strong>flash bootloader</strong> is copied.</p>
<p>
    <a href="https://raelize.com/img/esp32/esp32-spi-pin1-during-boot.png">
        <img src="https://raelize.com/img/esp32/esp32-spi-pin1-during-boot.png" width="600px">
    </a>
</p>
<p>The glitch must be injected before our code in <strong>SRAM</strong> is entirely overwritten by the valid <strong>flash bootloader</strong>.</p>
<h4 id="attack-cycle">Attack cycle</h4>
<p>We took the following steps for each experiment to determine if the attack idea actually works. A successful glitch will print <code>Raelize!</code> on the serial interface.</p>
<ol>
<li>Set pin <strong>G0</strong> to low and perform a <strong>cold reset</strong> to enter <strong>UART bootloader</strong> boot mode</li>
<li>Use the <code>load_ram</code> command to execute our <strong>attack code</strong> from <strong>SRAM</strong></li>
<li>Send an <code>A</code> to the program to issue a <strong>warm reset</strong> into <strong>normal</strong> boot mode</li>
<li>Inject a glitch while the <strong>flash bootloader</strong> is being copied by the <strong>ROM code</strong></li>
</ol>
<h4 id="results">Results</h4>
<p>After running these experiments for more than a day, resulting in more than 1 million experiments, we did not observe any successful glitch…</p>
<h4 id="an-unexpected-result">An unexpected result</h4>
<p>Nonetheless, while analyzing the results, we noticed something unexpected.</p>
<p>The <strong>serial interface</strong> output for one of the experiments, which is shown below, indicated that the glitch caused an <strong>illegal instruction</strong> exception.</p>
<pre><code>ets Jun  8 2016 00:22:57
rst:0x10 (RTCWDT_RTC_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0008,len:4
load:0x3fff000c,len:3220
load:0x40078000,len:4816
load:0x40080400,len:18640
entry 0x40080740
Fatal exception (0): IllegalInstruction
epc1=0x661b661b, epc2=0x00000000, epc3=0x00000000, 
excvaddr=0x00000000, depc=0x00000000
</code></pre><p>These type of exceptions happened quite often when glitches are injected in a chip. This was not different for the <strong>ESP32</strong>. For most the exceptions the <code>PC</code> register is set to a value that's expected (i.e. a valid address). It does not happen often the <code>PC</code> register is set to such an interesting value.</p>
<p>The <code>Illegal Instruction</code> exception is caused as there is no valid instruction stored at the <code>0x661b661b</code> address. We conclude this value must come from somewhere and that is cannot magically end up in the <code>PC</code> register.</p>
<p>We analyzed the code that we load into the <strong>SRAM</strong> in order to find an explanation. The …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/">https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/</a></em></p>]]>
            </description>
            <link>https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24552482</guid>
            <pubDate>Tue, 22 Sep 2020 09:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Evolutionary Design of Up Banking]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24552043">thread link</a>) | @merricksb
<br/>
September 22, 2020 | https://up.com.au/blog/the-evolutionary-design-of-up/ | <a href="https://web.archive.org/web/*/https://up.com.au/blog/the-evolutionary-design-of-up/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><p>When we launched nearly 2 years ago, we declared our first principles approach to banking:</p>
<blockquote>
<p>“Challenge the assumptions and limitations in banking and re-evaluate them from a more current point of view."</p>
</blockquote>
<p>This statement did not come out of a contrived workshop, or committee, or a board of investors. It was the resonating sentiment of a team that had spent years in the weeds of banking software and its bureaucracy. Existing banks have too much baggage to be able to see the future of banking for what it could be. They lacked the courage to really re-invent themselves. Some questions that emerged from that period:</p>
<ul>
<li><em>Why doesn’t every transaction have a timestamp, a merchant logo?</em></li>
<li><em>Why are all my payments to a particular person not grouped?</em></li>
<li><em>Why isn’t it easier to pay someone I’ve paid before?</em></li>
<li><em>Why am I sitting on hold on my phone to resolve an issue?</em></li>
<li><em>How can saving money be fun and engaging?</em></li>
</ul>
<p>We knew that if we followed our noses and solved these user-centric problems, and many others of course, that winning customers would take care of itself. We now have over 280,000 Upsiders and counting.</p>
<h2>Making Feedback Easy</h2>
<p>Up does not do traditional user testing. There, I said it. That’s our dirty secret.</p>
<p>We think there are other techniques that are faster and better indicators of real-world behaviour. We also believe we have two advantages:</p>
<ul>
<li><strong>An innovation mindset</strong></li>
<li><strong>A deeper relationship with our customers than any financial institution in Australia</strong></li>
</ul>
<p>Much of banking is a known problem space. We feel like we're taking a more creative approach to the problem, but that's not to say we don't rely on user feedback. Our <em>Talk to Us</em> section encourages Upsiders to give us feedback or suggest ideas. To date, we have received over 6,000 ideas via this channel, making it one of the most crucial conduits into the minds of our customers. We also have other highly-engaged channels such as our socials and the newsletter where we hear, almost instantly, what customers think of what we’ve delivered.</p>
<figure>
  <img loading="lazy" src="https://up.com.au/449d9fa0873011802b194d6b669ffe9e/feedback-categories.gif" alt="Initiating a 'Talk to Us' chat with our team">
  <figcaption>
    Our <em>Talk to Us</em> trinity; ask for help, give feedback and report a bug
  </figcaption>
</figure>
<h2>Engagement Is the Name of the Game</h2>
<p>So where do we get our inspiration? It's rarely in the banking or fintech space. These are the apps that exist on billions of devices and set the bar for mobile digital experiences:</p>
<figure>
  <span>
      <a href="https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/c6b2e/inspire_apps.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="World leaders for designing mobile experiences" title="World leaders for designing mobile experiences" src="https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/40619/inspire_apps.jpg" srcset="https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/b0fd2/inspire_apps.jpg 175w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/aaaf9/inspire_apps.jpg 350w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/40619/inspire_apps.jpg 700w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/e8c9e/inspire_apps.jpg 1050w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/5814a/inspire_apps.jpg 1400w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/c6b2e/inspire_apps.jpg 2175w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span>
  <figcaption>
    The leaders in mobile experience design
  </figcaption>
</figure>
<p>While they vary in purpose, their collective dominance in the landscape means they teach and familiarise patterns to expect when using our phones.</p>
<ul>
<li><em>How does TikTok allow you to react to content quickly and effortlessly?</em></li>
<li><em>What similarities are there between Whatsapp, Messenger and Instagram when conversing with friends?</em></li>
<li><em>When explaining new features what language do these platforms use? When do they use visualisations? When do they use words?</em></li>
<li><em>When is Snapchat playful and when is it serious?</em></li>
<li><em>Do I identify with my real name or username for Instagram? What about Facebook?</em></li>
</ul>
<p>As users we immerse ourselves in the apps that have nailed engagement. While acknowledging the patterns they establish, we also appreciate the balance between knowing when to follow them and when to do our own thing. Up has a handful of atypical patterns, but as long as they are usable and intuitive they can become distinct moments used to engage and delight.</p>
<p>Why is it so important that Upsiders engage with the Up app? Aside from the opportunity to nurture a relationship through frequent interactions, we also think that being more engaged with your money encourages better financial literacy. It’s common that people fall into credit trouble by continuing to use their plastic cards without checking their balance regularly. By making Up an engaging experience, we’re making Upsiders more confident and connected to their finances.</p>
<h2>Becoming an Upsider</h2>
<p>We’ve previously deep-dived on our <a href="https://up.com.au/blog/designing-a-super-powered-welcome-pack-experience/">card delivery experience</a>. Before we could even get that far, we had to solve the huge problem of enabling people to sign up for a bank account without leaving the comfort of a mobile app — something that had not been done before in Australia.</p>
<p>We knew that the sheer amount of information we needed from the user was going to be a challenge. Banking is highly regulated in Australia, so we had to cater for many types of identity data (passport, license etc). Most apps can get away with just asking for a username, email and password.</p>
<p>Mobile flows tend to be atomic with a single input per screen, so with identity verification we were anticipating quite a long flow. Our focus was to trim the fat wherever possible, not just by reducing the total number of screens but also by making it easy for people to understand what was being asked of them as they progressed.</p>
<figure>
  <span>
      <a href="https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/c6b2e/signup-flow.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="Large and complicated data capture flow" title="Large and complicated data capture flow" src="https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/40619/signup-flow.jpg" srcset="https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/b0fd2/signup-flow.jpg 175w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/aaaf9/signup-flow.jpg 350w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/40619/signup-flow.jpg 700w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/e8c9e/signup-flow.jpg 1050w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/5814a/signup-flow.jpg 1400w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/c6b2e/signup-flow.jpg 2175w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span>
  <figcaption>
    A portion of the Sign-up flow
  </figcaption>
</figure>
<p>We fought to reduce the amount of data we needed to collect. Why does banking need to know your gender? We cut it. Do you need your card sent to a PO Box? We’ll give you a contextual experience based on answers you’ve already provided rather than a scrolling form full of fields. As we tested the new flow amongst ourselves and with beta users from our waitlist, we made a few changes:</p>
<ul>
<li>Anchoring buttons to the bottom of the viewport, and making them full-width. Close to your thumb and easy to hit.</li>
<li>Removing anything extra like images, so you could move faster without distractions.</li>
<li>Using conversational instructions (eg “What is your mobile number?” Instead of “Enter mobile number”). And only using secondary body text when it was really necessary.</li>
<li>Using example text for the input placeholder, so you'd know what the right info looks like.</li>
</ul>
<figure>
  <video autoplay="true" loop="true" muted="true" playsinline="true" alt="Signup flow, before and after">  
    <source type="video/mp4" src="https://up.com.au/85d89ef5fc1450db9c15cb25ceed64d1/signup-flow-tweaks.mp4">
  </video>
  <figcaption>    
    Tweaks made to the signup flow
  </figcaption>
</figure>
<p>All of these small iterations reduced the cognitive load for users and made it feel easy and fast, despite the number of screens. This granularity was important as there isn’t actually a single sign up flow, but several which vary depending on your circumstances and the information we are required to collect.</p>
<h2>Up Yeah!</h2>
<p>Once we became more confident in our onboarding flow and how streamlined it was becoming, you could feel the team were ready to ship it and move onto the next bit of work.</p>
<p>It’s easy to have the blinkers on when you have such a measurable and objective goal — get users into the app in under x time — but stepping back, we made the observation that although we’d nailed sign up speed, something was missing the first time you landed on your activity feed. A moment that should feel significant and celebratory — you’ve literally just opened a bank account in under 3 minutes through your phone — feels clinical and unimpressive. We appreciate great brand moments in digital experiences, most notably MailChimp’s use of emotive design throughout their email software.</p>
<figure>
  <img loading="lazy" src="https://up.com.au/b5b11a8931d184e937662bc553657582/mailchimp.gif" alt="Mailchimp animations">
  <figcaption>  
    Great emotive design through animations by MailChimp
  </figcaption>
</figure>
<p>Email campaigns are stressful exercises — you can’t unsend them once they go out. It’s the nature of the beast. Interestingly, it was the arm of their mascot beast Freddie that was used in these cute but situationally-aware animations. The red button before launch, the high five once your campaign is live, and the rock fist for scheduled campaigns.</p>
<p>Our creative director Pete was eager to create a moment post-signup that made you go “f*ck yeah” in celebration.</p>
<figure>
  <img loading="lazy" src="https://up.com.au/1c642ec78c4396636c3b1bc150d48a29/upyeahmoment-signup.gif" alt="Up Yeah! account created">
  <figcaption>  
    The first of many ‘Up Yeah!’ moments
  </figcaption>
</figure>
<p>Almost immediately after this launched it was being shared by new Upsiders and acknowledged through our feedback channels. Of course you only give yourself an opportunity for these moments if you are nailing the fundamentals. But this reinforcement encouraged us to lean into these seemingly frivolous treatments as a way to delight Upsiders while building a stronger brand.</p>
<h2>Logging in Sucks</h2>
<p>Sometimes the design process involves considering what you don’t see as much as what you do see. For Up, removing the login screen is a great example of this. Banking apps tend to have heavy authentication flows before you see your feed or landing screen. It’s easy to see how this came to be; mobile apps came after desktop banking sites, and so inherited their secure lockdown context. And perhaps it goes back even further back to the mindset of “money belongs in a vault, behind a locked door”.</p>
<p>With all the technological advances in mobile device security, from the humble PIN code to sophisticated biometric recognition, it’s worth questioning some of the assumptions and trade-offs made in the name of security.</p>
<blockquote>
<p>Logging in is a big friction point. Especially if we’re trying to help inform you about your finances.</p>
</blockquote>
<p>There’s an interesting distinction that’s prominent in tech — the difference between security and privacy. If we break out of the world of banking apps and look at some of the apps we use each and every day – imagine if you had to enter a passcode every time you opened your email, or your messages? Yet if someone had access to either, they could reset every password you have and really cause you some headaches. We found a helpful albeit simplified distinction when approaching this aspect of the user-experience:</p>
<br>
<table>
    <tbody><tr>
        <td><img loading="lazy" src="https://up.com.au/251bbe56c807fe4657239958a04f14e6/zap-coat.gif" alt="Mailchimp animations">
        </td>
        <td>
          <h3>Privacy</h3>
          Protecting information that is sensitive
          <em> "Read Only"</em>
        </td>
    </tr>
</tbody></table>
<table>
    <tbody><tr>
        <td><img loading="lazy" src="https://up.com.au/6e9f440aae0b397bd198cc1182838ed9/zap-lock.gif" alt="Mailchimp animations">
        </td>
        <td>
          <h3>Security</h3>
          Protecting against being compromised financially
          <em>"Write Access"</em>
        </td>
    </tr>
</tbody></table>

<p>A design decision we’ve made with this framework is removing the need to enter a passcode by default (which can be re-enabled in settings), and also when moving money where there isn’t any risk. Transfering between Savers doesn’t require you to use your phone’s authentication flow (e.g. passcode, Apple’s FaceID or Android’s BioAuth), but moving money into your spending account or sending money outside of your account (e.g. to another bank or via BPay) does.</p>
<p>Our philosophy is to ask for authentication where appropriate to maximise security, while also letting Upsiders enjoy the benefits of being more informed and connected with their money in a low-friction way.  Our push …</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://up.com.au/blog/the-evolutionary-design-of-up/">https://up.com.au/blog/the-evolutionary-design-of-up/</a></em></p>]]>
            </description>
            <link>https://up.com.au/blog/the-evolutionary-design-of-up/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24552043</guid>
            <pubDate>Tue, 22 Sep 2020 07:59:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 168 Point epic checklist for validating and growing your startup]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24551473">thread link</a>) | @veebuv
<br/>
September 21, 2020 | https://www.remoteworkly.co/the-ultimate-startup-checklist | <a href="https://web.archive.org/web/*/https://www.remoteworkly.co/the-ultimate-startup-checklist">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-w-tab="Tab 4"><div><div role="list"><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>If you're doing something worthwhile you WILL gain competition. Competition is a fantastic validation system</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>What is the average revenue per user across different plans. This will help define your actual Monthly Recurring Revenue</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Knowing where users search for solutions will help you optimise your advertising spend</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Get your close mates to upvote all your posts across every network</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Use cheap services, apps or use your own skillset to register your business</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>- CPC | Cost per click
- CR | The conversion rate of your website.</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Once the user is into the app, give them a checklist of tasks to complete that walks them through the minimum steps required to get to the "Wow" factor. This is important to improve paid conversion</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>To the point above, lazy load heavy assets as Google loves FAST sites</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Confirm that your app onboarding is working perfectly before you launch</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Ensure you follow all the GDPR and data compliance policies listed under GDPR regulations. Mainly around customer anonimity and the option to allow the customer to delete their data</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>If you've got a SPA, Google has announced that it will render JS so you don't need to worry about it, but incase you're pedantic you can set up server side rendering to make sure when content is fed to google it's fed with all the text assets pre-rendered.</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>What are the general terms of your product use, make sure you nail everything down. This will prevent a world of pain down the road</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>- CPM | Cost per 1000 impressions (what you pay to Facebook)
- CTR | Click-through rate. What’s the percentage of people clicking on your ad?</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Use the hundred 3rd party tools out there to help you identify and fix any broken links across your site</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>What is your unique insight as a founder, this unique insight will soon enough become your IP</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Version control is the only way code should be developed in 2020. Helps you create different versions and timestamp "save" versions of your code</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Set up a dropdown asking people where they heard of you, this is important. Its immediate data on which marketing channels are working great so you can look at budgeting that better</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Share all the specifics of your business and popular pages in the footer. Socials, About page, Ts and Cs</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>After user testing, identify points of resistance. Before the user experiences this stage display social proof to validate their decision. Remember people buy with emotion and justify with logic. Make them convert with emotion, and as a result they will get value from your app which will help with logical jusification e.g Asking to integrate their bank details.</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>If you just opened an email and start mass emailing people you'll end up in spam. You need to build up your IP address and domain warmth. There are manual ways to do it where you set up a network of emails and send messages through to each other. Else you can automate it using tools like lemlist with a warmup feature. They send natural emails between a network of users and automatically "open", "move from spam", and "mark as important" so your email deliverability is on fleek</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>"Share meeting notes to slack in 1 click" vs "Don't waste time copy pasting notes"</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Have user persona specific landing pages so you can really hone into the pain customers experience</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Use a product like frill, canny or getbeamer to collect important feature and roadmap feedback from your customers. It's an excellent way to communicate with your customer base</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Talk and then listen listen listen. Learn from your early customers on whats working and whats not. What they would like and what they hate. These are your early champions treat them like kings and queens</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Make communicating with your customer easy. Integrate your Drift and Slack so whenever a customer messages you can respond to them directly from slack</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Long tail keyword search helps you when you're trying to rank in a competitive space. Long-tail keywords are keywords that are much more specific – and ...well longer – than more commonly searched for keywords. They receive a lot less traffic per se, but they receive very targeted high converting traffic</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Flows with the previous point, send out advice to customers on how to achieve their goals better with your app on educational campaigns. Even if users don't use your app they will learn from you and you'll become an authority in their mind</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Trigger email for people dropped off half way through the onboarding experience to welcome them back to the app</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>People buy from people who they trust (refer to word of mouth) - sell your product via influencers and you'll automatically get validation and a huge reach. Circle.so did this with Sahil Lavingya and the founder mentioned their first 100 or 1000 customers came just from one tweet</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Be very deliberate about what problem you're solving for your customer and where your product positions itself (privacy, pace etc)</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>People innately want to use your product vs being externally triggered to use your app. You are top of mind everytime they face a problem and almost become a synonym. "Lets uber it"</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Share your journey and product build across all your social platforms. In the early days, people buy the product for the problem you're solving AS WELL as the the reason the person behind the business is building it for</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Run a small campaign across social media networks to get some warm traffic to your launch</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Don't build things from scratch. Use firebase for OAuth, use Hasura for your entire CRUD system etc etc</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Build a Look A Like audience from the eBooks you should have created during the pre-marketing phase. This is a high intent audience and it'll help FB find people for your product straight out the bat</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>If you're product targets multiple personas, ensure you have persona specific pages - this helps boost conversion. This also gives you a chance to real nail down specific pains a user faces</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Google LOVES fast pages. Improve your page speed through delaying heavy asset load like images or videos. Make user of CDNs and static sites to ensure TTL (time to load) is fast</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><p>Are customers problem aware and solution aware ? Are they aware of products solving for the problem ? This will help you understand where your customers are looking for solutions and if they are searching in the first place. You can market accordingly</p></div></div><div role="listitem"><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! …</p></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.remoteworkly.co/the-ultimate-startup-checklist">https://www.remoteworkly.co/the-ultimate-startup-checklist</a></em></p>]]>
            </description>
            <link>https://www.remoteworkly.co/the-ultimate-startup-checklist</link>
            <guid isPermaLink="false">hacker-news-small-sites-24551473</guid>
            <pubDate>Tue, 22 Sep 2020 06:19:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Extraterrestrial Zoology (1981)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24551060">thread link</a>) | @sandgraham
<br/>
September 21, 2020 | http://www.xenology.info/Papers/ETZoology1981.htm | <a href="https://web.archive.org/web/*/http://www.xenology.info/Papers/ETZoology1981.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<center>
  
</center>
<center>
  <h3>© 1981 <a href="http://www.rfreitas.com/">Robert A. Freitas Jr.</a> 
    All Rights Reserved.</h3>
</center>
<center>
  <p>Robert A. Freitas Jr., “Extraterrestrial Zoology,” <i>Analog 
    Science Fiction/Science Fact</i>, Vol. 101, 20 July 1981, pp 53-67</p>
  <p>URL: <a href="http://www.xenology.info/Papers/ETZoology1981.htm">http://www.xenology.info/Papers/ETZoology1981.htm</a></p>
  
  <hr>
  <p><a name="p1"></a>This paper contains material originally drawn from the book 
    <a href="http://www.xenology.info/Xeno.htm">Xenology</a> (1979) by <a href="http://www.rfreitas.com/">Robert 
    A. Freitas Jr.</a> 
  </p><hr>
  
</center>
<p><a name="p2"></a>“Two large dark-coloured eyes were regarding me steadfastly. 
  The mass that framed them, the head of the thing, it was rounded, and had, one 
  might say, a face. There was a mouth under the eyes, the lipless brim of which 
  quivered and panted, and dropped saliva. The whole creature heaved and pulsated 
  convulsively. A lank tentacular appendage gripped the edge of the cylinder, 
  another swayed in the air. ... There was something fungoid in the oily brown 
  skin, something in the clumsy deliberation of the tedious movements unspeakably 
  nasty.”<br>
  <span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>– H.G. Wells, <em>The War of 
  the Worlds</em> (1898) 
</p>
<p> <a name="p3"></a>Pretty disgusting, huh? The classic tales of science fiction 
  are full of Bug-Eyed Monsters (or BEMs as they are affectionately termed by 
  cognoscenti) which invade planets, threaten towns. attack rocket ships, and 
  carry off shapely human females. Hollywood producers apparently are convinced 
  most extraterrestrial (ET) beings fall in one of four zoological categories: 
  (1) Human or humanoid, (2) oversized animals, (3) amorphous blobs and pods, 
  and (4) formless energy beings.</p>
<p><a name="p4"></a>Can’t we do any better than this?</p>
<p><a name="p5"></a>Quite! In fact. anyone with access to a good library can walk 
  in and read all about the biology of one of the most fascinating, richly populated 
  worlds anywhere in the Milky Way: Earth! We inhabit a queer planet with many 
  strange settings and fabulous living creatures, altogether an excellent example 
  of what extraterrestrial life may be all about. To a team of Interstellar Zoologists, 
  researching sentient terrestrial mammals out here in the galactic boondocks, 
  our world is as rare a planetary zoo as any in the Milky Way.</p>
<p><a name="p6"></a><a href="http://www.xenology.info/Xeno.htm#PartTwo">Xenobiologists</a> 
  have formulated a simple rule called the Assumption of Mediocrity, which says, 
  in essence, that Earth should be regarded as “typically exotic.” 
  The unusual solutions devised by evolution on this planet to cope with the problem 
  of survival will find their parallels, though not necessarily their duplicates, 
  among the living species of other worlds. As biologist Allen Broms once remarked, 
  “life elsewhere is likely to consist of odd combinations of familiar bits.”</p>

<p> <strong><a name="p7"></a>Strange Life</strong></p>
<p><a name="p8"></a>Life as we know it is based on cells: small, neat packages 
  of living protoplasm containing all of the biological machinery necessary for 
  survival. Human body cells average a few microns in size. (One micron is a millionth 
  of a meter, about a hundredth of the thickness of the page these words are printed 
  on.) The smallest living thing on Earth capable of independent metabolic activity 
  is the PPLO, or “pleuropneumonia-like organism,” which measures 
  0.1 microns. Microbiologists estimate that the smallest cell that could, in 
  theory, exist would measure about 0.04 microns in diameter. It is amusing to 
  speculate that the alien analogue to a human being, constructed in the same 
  form but using these miniature cells, would weigh a mere 50 milligrams and stand 
  only 5 millimeters tall – hardly the thickness of a pencil. Whether creatures 
  so small could retain a human-level intelligence is anyone’s guess.</p>
<p><a name="p9"></a>Fairly large extraterrestrial lifeforms might well exhibit 
  acellular physiology, or be unicellular. For example, at one stage in their 
  life history, slime molds are tiny one-celled flagellates capable of individual 
  multiplication by simple fission. In the later “plasmodium” stage 
  of development, large clumps of these creatures fuse together and their cell 
  walls dissolve away to produce an amorphous acellular mass of living protoplasm 
  which can grown as large as 25 centimeters or more. Further, the largest known 
  single living cell was the egg of the now-extinct half-ton elephant bird or 
  “roc bird” (<em>Aepyornis maximus</em>). This egg measured about 
  a third of a meter across and weighed 15 kilograms.</p>
<p><a name="p10"></a>The number and kinds of organs in alien creatures may also 
  be highly variable. For example, earthly squids have two different kinds of 
  hearts – one for venous and a separate one for arterial blood – 
  and the common earthworm (<em>Pheretima</em>) has a dozen hearts. Two extinct 
  dinosaur species, <em>Brontosaurus</em> and <em>Diplodocus</em>, had two brains, 
  one in the head and an even larger hunk of neural tissue in the hip region. 
  (The volume of this “sacral enlargement” in <em>Stegosaurus</em>, 
  another fossil animal of grand proportions, was perhaps twenty times larger 
  than the brain in the cranial cavity! And the entire body of an insect is its 
  “lung” – oxygen is carried directly to cells by an intricate 
  network of tracheae or microtubules permeating the entire organism.</p>
<p><a name="p11"></a>Sometimes, organs combine several functions in one – 
  such as the human mouth. ETs need not have the same combinations as we. They 
  may have identical or separate organs for eating, drinking, excreting, breathing, 
  and speaking. The dolphin, for instance. eats through its mouth, breathes through 
  its blowhole, and “speaks” through its “ears.” The land 
  snail’s lung opens into a passageway other than its food canal, and sea 
  cucumbers breathe through their rectums (called “anal respiration”). 
  The cloacae of frogs and many other animals is a single organ which combines 
  excretory and reproduction functions. Brachiopods can only vomit excrement from 
  their “blind intestine” (a kind of alimentary cul-de-sac), and the 
  members of phylum <em>Nematomorpha</em> (long worms) eat solely by direct absorption 
  of nutrients through the skin – for they have no mouths.</p>

<p> <strong><a name="p12"></a>How Large?</strong></p>
<p><a name="p13"></a>How big can ETs be? To answer the question we need to understand 
  something called the Square-Cube Law. This universal geometrical principle, 
  first recognized by Galileo more than three centuries ago, holds that volume 
  always increases faster than surface area as size increases. A solid cubical 
  box whose edge is doubled increases in surface area by a factor of two squared 
  (2x2), or four; whereas volume, hence mass, increases by two cubed (2x2x2), 
  or eight.</p>
<p><a name="p14"></a>It’s easy to apply this to biology. Picture a bony 
  extraterrestrial herbivore placidly grazing in some alien meadow. Suddenly we 
  double its size all over. The animal’s leg bones, now twice as thick, 
  have quadrupled in cross-sectional area; but the creature weighs eight times 
  as much so its bones must sustain double the pressure. It may collapse under 
  normal exertion unless it grows proportionally stouter limbs to handle the added 
  physical stress.</p>
<p><a name="p15"></a>All parts of an animal must be reengineered when size increases. 
  Like bone, muscle strength is determined by cross-sectional area. Humanoids 
  twice as large need quadruply thick biceps: otherwise they’d be pulling 
  eight times the mass with only four times the force. Lungs, kidneys, intestines 
  and other blood filtering organs function according to surface area, so must 
  either increase in mass or become more convoluted at larger body sizes.</p>
<p><a name="p16"></a>The horror movies about giant insects ravaging the countryside 
  are really quite impossible, even on low-gravity worlds. A bug as large as a 
  house would weigh a billion times more than its flea-sized Earthly cousins. 
  Its thin spindly legs would be called upon to sustain stresses thousands of 
  times greater. To walk at all the overgrown arthropod needs muscles proportionally 
  thousands of times thicker; unfortunately, vital tissues already fill the hollow 
  skeleton of the tiny original. It did not collapse under its own weight or was 
  not immobilized by the feebleness of its muscles, an overgrown insect would 
  starve to death because its stomach would be a thousandfold too small to absorb 
  enough food; or it would suffocate because its tracheae could carry only a thousandth 
  as much air as needed.</p>
<p><a name="p17"></a>Sea creatures are free of gravity at neutral buoyancy, but 
  still they’re dogged by the Square-Cube Law. Bodies in motion like to 
  continue in motion – extraterrestrial leviathans larger than whales would 
  experience serious steering, turning and braking difficulties because of their 
  relatively great mass compared to the area of their control surfaces. Cornering 
  too fast might cause stresses in excess of the tensile strength of biological 
  materials and the behemoth would literally snap in two. These problems are familiar 
  to pilots of modem supertankers, huge ships requiring kilometers to turn or 
  stop.</p>

<p> <strong><a name="p18"></a>Gravity and Life</strong></p>
<p><a name="p19"></a>The respected zoologist D’Arcy Wentworth Thompson once 
  speculated about the <a href="http://www.xenology.info/Xeno/11.2.1.htm">effects 
  of gravity on evolution</a>. “Were the force of gravity to be doubled,” 
  Thompson declared, “our bipedal form would be a failure, and the majority 
  of terrestrial animals would resemble short-legged saurians, or else serpents. 
  Birds and insects would suffer likewise, though with some compensation in the 
  increased density of the air. On the other hand, if gravity were halved, we 
  should get a lighter, slenderer, more active type, needing less energy, less 
  heat, less heart, less lungs, less blood. Gravity not only controls the actions 
  but also influences the forms of all save the least of organisms.”</p>
<p><a name="p20"></a>It is true that the maximum weight of living species cannot 
  exceed the crushing strength of bony material. But animals are not designed 
  to stand still – if they were, human legs could be a few millimeters thick. 
  Instead they must bear up under the peak pressures and accelerations encountered 
  during normal running, jumping, and other strenuous survival activities. A horse 
  at rest seems greatly overbuilt; on the racetrack where it may pull to a halt 
  in a …</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.xenology.info/Papers/ETZoology1981.htm">http://www.xenology.info/Papers/ETZoology1981.htm</a></em></p>]]>
            </description>
            <link>http://www.xenology.info/Papers/ETZoology1981.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-24551060</guid>
            <pubDate>Tue, 22 Sep 2020 05:10:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mainline Linux on the MikroTik RB3011]]>
            </title>
            <description>
<![CDATA[
Score 76 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24550846">thread link</a>) | @pabs3
<br/>
September 21, 2020 | https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html | <a href="https://web.archive.org/web/*/https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <p>I upgraded my home internet connection to fibre (FTTP) <a href="https://www.earth.li/~noodles/blog/2019/10/native-ipv6-fttp.html">last October</a>. I’m still on an 80M/20M service, so it’s no faster than my old VDSL FTTC connection was, and as a result for a long time I continued to use my HomeHub 5A running <a href="https://openwrt.org/">OpenWRT</a>. However the FTTP ONT meant I was using up an additional ethernet port on the router, and I was already short, so I ended up with a GigE switch in use as well. Also my wifi is handled by a <a href="https://unifi-network.ui.com/">UniFi</a>, which takes its power via Power-over-Ethernet. That mean I had a router, a switch and a PoE injector all in close proximity. I wanted to reduce the number of devices, and ideally upgrade to something that could scale once I decide to upgrade my FTTP service speed.</p>

<p>Looking around I found the <a href="https://mikrotik.com/product/RB3011UiAS-RM">MikroTik RB3011UiAS-RM</a>, which is a rack mountable device with 10 GigE ports (plus an SFP slot) and a dual core <a href="https://www.qualcomm.com/products/ipq8064">Qualcomm IPQ8064</a> ARM powering it. There’s 1G RAM and 128MB NAND flash, as well as a USB3 port. It also has PoE support. On paper it seemed like an ideal device. I wasn’t particularly interested in running RouterOS on it (the provided software), but that’s based on Linux and there was some work going on within OpenWRT to add support, so it seemed like a worthwhile platform to experiment with (what, you expected this to be about me buying an off the shelf device and using it with only the supplied software?). As an added bonus a friend said he had one he wasn’t using, and was happy to sell it to me for a bargain price.</p>

<p><img alt="RB3011 router in use" src="https://www.earth.li/~noodles/blog/images/2020/rb3011.jpg"></p>

<p>I did try out RouterOS to start with, but I didn’t find it particularly compelling. I’m comfortable configuring firewalling and routing at a Linux command line, and I run some additional services on the router like my <a href="https://www.earth.li/~noodles/blog/2018/05/mqtt-broker.html">MQTT</a> broker, and <a href="https://www.earth.li/~noodles/blog/2018/09/netlink-arp-presence.html">mqtt-arp</a>, my wifi device presence monitor. I could move things around such that they ran on the <a href="https://www.earth.li/~noodles/blog/2019/07/upgrading-the-house-server.html">house server</a>, but I consider them core services and as a result am happier with them on the router.</p>

<p>The first step was to get something booting on the router. Luckily it has an RJ45 serial console port on the back, and a reasonably featured bootloader that can manage to boot via tftp over the network. It wants an ELF binary rather than a plain kernel, but Sergey Sergeev had done the hard work of getting <a href="https://github.com/adron-s/uboot-ipq806x">u-boot working for the IPQ8064</a>, which mean I could just build normal u-boot images to try out.</p>

<p>Linux upstream already had basic support for a lot of the pieces I was interested in. There’s a slight fudge around <code>AUTO_ZRELADDR</code> because the network coprocessors want a chunk of memory at the start of RAM, but there’s ongoing discussions about how to handle this cleanly that I’m hopeful will eventually mean I can drop that hack. Serial, ethernet, the QCA8337 switches (2 sets of 5 ports, tied to different GigE devices on the processor) and the internal NOR all had drivers, so it was a matter of crafting an appropriate DTB to get them working. That left niggles.</p>

<p>First, the second switch is hooked up via SGMII. It turned out the IPQ806x <code>stmmac</code> driver didn’t initialise the clocks in this mode correctly, and neither did the <code>qca8k</code> switch driver. So I need to fix up both of those (Sergey had handled the stmmac driver, so I just had to clean up and submit his patch). Next it turned out the driver for talking to the Qualcomm firmware (SCM) had been updated in a way that broke the old method needed on the IPQ8064. Some git archaeology figured that one out and provided a solution. Ansuel Smith helpfully provided the DWC3 PHY driver for the USB port. That got me to the point I could put a Debian armhf image onto a USB stick and mount that as root, which made debugging much easier.</p>

<p>At this point I started to play with configuring up the device to actually act as a router. I make use of a number of VLANs on my home network, so I wanted to make sure I could support those. Turned out the stmmac driver wasn’t happy reconfiguring its MTU because the IPQ8064 driver doesn’t configure the FIFO sizes. I found what seem to be the correct values and plumbed them in. Then the <code>qca8k</code> driver only supported port bridging. I wanted the ability to have a trunk port to connect to the upstairs switch, while also having ports that only had a single VLAN for local devices. And I wanted the switch to handle this rather than requiring the CPU to bridge the traffic. Thankfully it’s easy to find a copy of the QCA8337 datasheet and the kernel <a href="https://www.kernel.org/doc/html/latest/networking/dsa/index.html">Distributed Switch Architecture</a> is pretty flexible, so I was able to implement the necessary support.</p>

<p>I stuck with Debian on the USB stick for actually putting the device into production. It makes it easier to fix things up if necessary, and the USB stick allows for a full Debian install which would be tricky on the 128M of internal NAND. That means I can use things like <a href="https://wiki.nftables.org/">nftables</a> for my firewalling, and use the standard Debian packages for things like <a href="https://collectd.org/">collectd</a> and <a href="https://mosquitto.org/">mosquitto</a>. Plus for debug I can fire up things like tcpdump or tshark. Which ended up being useful because when I put the device into production I started having weird IPv6 issues that turned out to be a lack of proper Ethernet multicast filter support in the IPQ806x ethernet device. The driver would try and setup the multicast filter for the IPv6 NDP related packets, but it wouldn’t actually work. The fix was to fall back to just receiving all multicast packets - this is what the vendor driver does.</p>

<p>Most of this work will be present once the 5.9 kernel is released - the basics are already in 5.8. Currently not queued up that I can think of are the following:</p>

<ul>
  <li>stmmac IPQ806x FIFO sizes. I sent out an RFC patch for these, but didn’t get any replies. I probably just need to submit this.</li>
  <li>NAND. This is missing support for the QCOM ADM DMA engine. I’ve sent out the patch I found to enable this, and have had some feedback, so I’m hopeful it will get in at some point.</li>
  <li>LCD. AFAICT LCD is an ST7735 device, which has kernel support, but I haven’t spent serious effort getting the SPI configuration to work.</li>
  <li>Touchscreen. Again, this seems to be a zt2046q or similar, which has a kernel driver, but the basic attempts I’ve tried don’t get any response.</li>
  <li>Proper SFP functionality. The IPQ806x has a PCS module, but the stmmac driver doesn’t have an easy way to plumb this in. I have ideas about how to get it working properly (and it can be hacked up with a fixed link config) but it’s not been a high priority.</li>
  <li>Device tree additions. Some of the later bits I’ve enabled aren’t yet in the mainline RB3011 DTB. I’ll submit a patch for that at some point.</li>
</ul>

<p>Overall I consider the device a success, and it’s been entertaining getting it working properly. I’m running a mostly mainline kernel, it’s handling my house traffic without breaking a sweat, and the fact it’s running Debian makes it nice and easy to throw more things on it as I desire. However it turned out the RB3011 isn’t as perfect device as I’d hoped. The PoE support is passive, and the UniFi wants 802.1af. So I was going to end up with 2 devices. As it happened I picked up a cheap <a href="https://eu.dlink.com/uk/en/products/dgs-1210-series-gigabit-smart-plus-switches">D-Link DGS-1210-10P</a> switch, which provides the PoE support as well as some additional switch ports. Plus it runs Linux, so more on that later…</p>

  </article></div>]]>
            </description>
            <link>https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24550846</guid>
            <pubDate>Tue, 22 Sep 2020 04:27:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The PDP-1]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24550476">thread link</a>) | @bilegeek
<br/>
September 21, 2020 | https://www.computer-history.info/Page4.dir/pages/PDP.1.dir/ | <a href="https://web.archive.org/web/*/https://www.computer-history.info/Page4.dir/pages/PDP.1.dir/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.computer-history.info/Page4.dir/pages/PDP.1.dir/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24550476</guid>
            <pubDate>Tue, 22 Sep 2020 03:08:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[RIP iCloud, Self-Hosting Part 5: Finale]]>
            </title>
            <description>
<![CDATA[
Score 47 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24550197">thread link</a>) | @walterbell
<br/>
September 21, 2020 | https://www.naut.ca/blog/2020/05/05/self-hosting-series-part-5-finale/ | <a href="https://web.archive.org/web/*/https://www.naut.ca/blog/2020/05/05/self-hosting-series-part-5-finale/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://www.naut.ca/blog/content/images/2020/05/Screen-Shot-2020-05-05-at-3.30.56-PM.jpeg" width="400px/"></p><p>Just yesterday, I turned off iCloud on <strong>all</strong> my Apple devices. I then took a moment to savour my liberation from Apple's walled garden.</p>
<p>It has been over two years since I first dabbled in hosting my own blog server to finally disabling my iCloud account. There is a good reason as to why it took so long. Apple has cultivated a beautiful hardware+software ecosystem over the years, resulting in an ecosystem filled with magical features such as Apple Pay, Home Sharing, Handoff, and Instant Hotspot. An iCloud account is apparently a requirement for all of those features, which is a shame. I didn't find out until after I logged out and lost those features, but maybe it was for the better. Anyway, here's the proof:<br>
<img src="https://www.naut.ca/blog/content/images/2020/05/Screen-Shot-2020-05-05-at-3.38.39-PM.jpeg" alt="Screen-Shot-2020-05-05-at-3.38.39-PM"><br>
Now this may sound odd, but I feel that the fallbacks and replacements to iCloud features are sometimes easier to understand and give more of a feeling of groundedness, albeit at the cost of convenience. For example, I no longer debate about whether to use Apple Pay or not, and I feel grounded knowing that the physical card is all I need to protect, and that my credit card won't run out of battery. I now plug in a cable to backup my iPhone, and I hear the hard disks on my server grinding away as the files are transferred. I'm confident that something, if anything, is happening. By physically self-hosting emails in the house, I feel secure that a company can't tell me that my account has vanished, a concept that is becoming <a href="https://news.ycombinator.com/item?id=23057365">increasingly common</a>.</p>
<p>As we switched from using physical devices such as floppy disks, CDs, and servers to storing data and logic online, we lost a sense of physicality and tangibility, replaced by an abstract notion of the <a href="https://www.youtube.com/watch?v=8GRPArTor7w">cloud</a>. Most programmers realize that the cloud is not a magical place and are comfortable with the notion, but I've noticed that the cloud instills fear, uncertainty, and doubt in others.</p>
<p>Given that I've been to hell and back setting up a self-hosted cloud (even my programmer friends stare at me quizzically), I sound crazy to mention that this has made things "easier". I'm definitely <strong>not</strong> saying that self-hosting is easier than using iCloud, but it has made me aware of what we are missing. In any interactive system, the true complexity must hide somewhere, and in this case, Apple is offering to manage it for you. In an attempt for trust, security, and ease of use, these services create a greater disconnect between you and your "interactee". To give an example, take transactions between you and a merchant. First there was bartering. Then there was cash. These are both easy to understand, and almost nobody has trouble understanding the end-to-end concepts. However, take Apple Pay. Here's a high-level example of what it actually does:</p>
<blockquote>
<p><em>NFC Coil in POS Terminal energizes iPhone antenna ⟶ sends data to NFC Chip ⟶ activates iPhone CPU ⟶ requests Face ID unlock ⟶ beams tiny Infrared dots at your face ⟶ Infrared Camera constructs 3D model using Machine Learning model ⟶ decrypts credit card details in Secure Enclave ⟶ creates credit card token ⟶ sends back to iPhone NFC chip ⟶ transmits to POS Terminal ⟶ encrypts with TLS ⟶ sends through internet to the credit card network ⟶ network replies back</em></p>
</blockquote>
<p>To reiterate, this is a <em>high-level</em> overview. So yeah, try feeling grounded with that. It's a miracle that it even works.</p>
<h3 id="conclusion">Conclusion</h3>
<p>Overall, my self-hosting series has reduced the FUD surrounding these services for <em>me</em> (and hopefully at least another reader), since I now understand how the software works. I feel it is an accomplishment to be disconnected from Apple, knowing that I'm free to switch hardware whenever I please. Although increased privacy was one of the main reasons I started this series, I haven't really noticed anything different day-to-day. This series has been a very interesting journey, and it will be something that I will continue to explore with future blog posts. As somebody who is now examining iCloud from an outsider perspective for the first time, it is mind-boggling the amount of complexity that Apple manages and exerts power over, such as their COVID-19 Contact Tracing technology. I wonder what the future holds for Apple, and how its values will change over time.</p>
<h3 id="alternativestoicloud">Alternatives to iCloud:</h3>
<p><em>Note: E2EE software with easily exportable data is acceptable, e.g. Firefox Sync</em></p>
<p><strong>Rationale</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2019/06/19/self-hosting-series-part-1-saying-bye-bye-to-icloud/">Self-Hosting Part 1: Why I'm Ditching iCloud</a></li>
<li><a href="https://medium.com/bugbountywriteup/how-apple-stored-all-your-email-metadata-for-years-on-their-servers-2a61b1a3232d">How Apple store all your email metadata for years on their servers</a></li>
</ul>
<p><strong>iCloud Mail, Notes</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2019/10/06/self-hosting-series-part-2-mail-server/">Self-Hosting Part 2: Mail Server</a></li>
</ul>
<p><strong>iCloud Contacts, Calendar, Reminders</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2019/11/16/self-hosting-series-part-3-radicale-server/">Self-Hosting Part 3: WebDAV Server</a></li>
</ul>
<p><strong>iCloud Safari</strong></p>
<ul>
<li><a href="https://hacks.mozilla.org/2018/11/firefox-sync-privacy/">Firefox Sync</a></li>
</ul>
<p><strong>iCloud Backup</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2020/03/20/self-hosting-series-part-4-backup/">Self-Hosting Part 4: iOS + macOS Backup</a></li>
<li><a href="https://support.apple.com/en-ca/HT203977#computer">iTunes Local Backup</a></li>
</ul>
<p><strong>iCloud Drive</strong></p>
<ul>
<li><a href="https://9to5mac.com/2019/06/17/ios-13-beta-2-enables-smb-server-connectivity-in-the-files-app/">Samba Server</a></li>
<li><a href="https://nextcloud.com/">NextCloud</a></li>
</ul>
<p><strong>iCloud Photos</strong></p>
<ul>
<li><a href="https://nextcloud.com/">NextCloud</a></li>
<li><a href="https://support.apple.com/en-us/HT201313">iTunes Photo Sync</a></li>
</ul>
<p><strong>iCloud Keychain</strong></p>
<ul>
<li><a href="https://bitwarden.com/">Bitwarden (Self-hosted)</a></li>
<li><a href="https://www.enpass.io/">Enpass (Self-hosted)</a></li>
</ul>
<p><strong>iCloud Home</strong><br>
TBD. Currently, HomeKit requires iCloud Keychain to sync with your iOS devices. I am trying to develop a hub that rebroadcasts all HomeKit accessories allowing for multiple devices to connect to the same HomeKit device.</p>
<p><strong>Further Resources</strong></p>
<ul>
<li><a href="https://roll.urown.net/index.html">Roll Your Own Network</a></li>
</ul>
</div></div>]]>
            </description>
            <link>https://www.naut.ca/blog/2020/05/05/self-hosting-series-part-5-finale/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24550197</guid>
            <pubDate>Tue, 22 Sep 2020 02:07:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When feature flags do and don’t make sense (2019)]]>
            </title>
            <description>
<![CDATA[
Score 84 | Comments 34 (<a href="https://news.ycombinator.com/item?id=24549917">thread link</a>) | @nomdep
<br/>
September 21, 2020 | https://software.rajivprab.com/2019/12/19/when-feature-flags-do-and-dont-make-sense/ | <a href="https://web.archive.org/web/*/https://software.rajivprab.com/2019/12/19/when-feature-flags-do-and-dont-make-sense/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<div><figure><a href="https://www.redbubble.com/i/canvas-print/If-Else-Software-Developer-Joke-Beer-Lover-by-VaSkoy/33140544.5Y5V7" target="_blank"><img data-attachment-id="282" data-permalink="https://software.rajivprab.com/flag/" data-orig-file="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png" data-orig-size="896,1480" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="flag" data-image-description="" data-medium-file="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=182" data-large-file="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=620" src="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=182" alt="" srcset="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=182 182w, https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=364 364w, https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=91 91w" sizes="(max-width: 182px) 100vw, 182px"></a></figure></div>



<p>Over the past years, I’ve worked in multiple teams adopting very different strategies when it comes to feature flags. I’ve seen the pros and cons of both, and over time, I found myself disagreeing with any fundamentalist position on their use. There is a lot of nuance to this topic, and I think it is worth considering more carefully the various scenarios where feature flags do and do not make sense.</p>



<h2>The Reasons For</h2>



<p>There are a few major scenarios where feature flags make a lot of sense. The first is when it’s used for <a rel="noreferrer noopener" aria-label="A/B testing (opens in a new tab)" href="https://en.wikipedia.org/wiki/A/B_testing" target="_blank">A/B testing</a>, where you absolutely do want different behaviors for different users, based on their randomly assigned treatment. I’ve seen this strategy employed extremely well at Amazon where new features are gated by a “feature flag” that is actually controlled by an internal A/B testing framework. The framework randomly exposes some Amazon customers to the new feature, and then monitors their subsequent behavior in order to estimate the business impact of launching the feature.&nbsp;</p>



<p>I was initially skeptical, but was soon won over by how easy the framework was to use, and the valuable insights it provided on the benefits (or drawbacks) of certain features. “Flavor of the month” decisions were replaced with real data. And none of this is possible without the use of “feature flags” to dynamically toggle new features.</p>



<hr>



<p>Another great use case for feature flags, is when you’re working on a very complex epic that require many different sub-tasks to be completed in different parts of the system. Sub-tasks that are too numerous and invasive to be done in a single pull-request. </p>



<p>In such cases, trying to keep all these disparate changes in side-branches and coordinating a simultaneous merge and deployment, is a recipe for disaster. It’s far more manageable to gate any disruptive changes behind a master flag, merge and deploy all the sub-commits incrementally, and do a flag-flip once all the pieces are in place.</p>



<hr>



<p>One last use case for feature flags, is when you do not have control over your deployments. For example, consider the Facebook Android app, which contains code contributed by hundreds of different teams, all combined and deployed as a single binary. In such scenarios, performing rollbacks can be infeasible. For practical, political, bureaucratic or even marketing reasons. In such cases, feature flags allow your team to toggle new functionality or mitigate risky changes, without having to rollback or deploy any new binaries.</p>



<p><em><a href="https://www.reddit.com/r/programming/comments/i5zbvk/when_feature_flags_do_and_dont_make_sense/" target="_blank" rel="noreferrer noopener">Someone on Reddit pointed out</a> a similar use-case for feature flags: targeting a very specific launch date for marketing reasons, while still deploying your code much earlier, in order to ensure stability. You can then have a “dynamic” feature flag that automatically enables itself at a specific time. This is also a great use-case for similar reasons – changing functionality in situations where deploying a new binary is impractical.</em></p>



<h2>Risk Aversion</h2>



<p>The above are all fantastic use cases for feature flags, but I’ve also seen teams get bogged down by policies that overreach in their use. For example, mandating that every single code change should be behind a feature flag, <em>“just in case we made a mistake”</em>.</p>



<p>Risk management should indeed be a priority for all teams. But there are better ways of doing this than relying on feature flags, especially if your team has control over its own deployments. The <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://software.rajivprab.com/2019/04/28/rethinking-software-testing-perspectives-from-the-world-of-hardware/" target="_blank">vast majority of your bugs should be caught by your automated test suite</a> and/or QA process. And the last few stragglers should be handled using <a rel="noreferrer noopener" aria-label="incremental deployments, production alarms and rollbacks (opens in a new tab)" href="https://software.rajivprab.com/2019/11/25/the-birth-of-legacy-software-how-change-aversion-feeds-on-itself/" target="_blank">incremental deployments, production alarms and rollbacks</a>.</p>



<p>Besides, as soon as any problem is detected, the recommendation at places like Google is to <a rel="noreferrer noopener" aria-label="rollback first and ask questions later (opens in a new tab)" href="https://cloud.google.com/blog/products/gcp/reliable-releases-and-rollbacks-cre-life-lessons" target="_blank">rollback first and investigate the problem later</a>:</p>



<blockquote><p><em>We have seen this at Google any number of times, where a hastily deployed roll-forward fix either fails to fix the original problem, or indeed makes things worse. Even if it fixes the problem it may then uncover other latent bugs in the system; you’re taking yourself further from a known-good state, into the wilds of a release that hasn’t been subject to the regular strenuous QA testing. At Google, our philosophy is that “rollbacks are normal.” When an error is found or reasonably suspected in a new release, the releasing team rolls back first and investigates the problem second</em></p></blockquote>



<p> When things are on fire, the last thing you want to do is root-cause the bug and figure out which flag-flip will safely fix the problem. And that may not even fix things – there’s no guarantee that even if your teammate tried to put his changes behind a feature flag, he didn’t inadvertently introduce a bug that cannot be solved by a flag-flip.</p>



<p>Feature flags are a poor man’s alternative to binary rollbacks, and they definitely aren’t a substitute for having a great automated test suite and a robust QA process. If you’re relying on feature flags to remedy production bugs, you should stop and evaluate your team’s practices. Risk aversion is often a smell of your team <a rel="noreferrer noopener" aria-label="entering into a doom loop which will only get worse and worse with time (opens in a new tab)" href="https://software.rajivprab.com/2019/11/25/the-birth-of-legacy-software-how-change-aversion-feeds-on-itself/" target="_blank">entering into a doom loop which will only get worse and worse with time</a>.</p>



<h2>Death By Feature Flags</h2>



<p>You may be wondering at this point why we shouldn’t use feature flags anyway. After all, <em>“defense in depth” …</em> and it never hurts to have more fine-grain flexibility right?</p>



<p>While feature flags are great in some cases, we should also keep in mind their costs. Software engineering is primarily an exercise in managing complexity. And each feature flag immediately doubles the universe of corner cases that your programmers have to understand, and your code is required to handle. <em>“But what would happen if Foo is enabled, Bar is disabled, and we do independent A/B tests on Baz and Kaz on the same day?”</em> In my experience, this combinatorial explosion in complexity can and <strong>will</strong> lead to bugs. Not to mention slowing down the speed at which your team can make any changes.</p>



<p><a rel="noreferrer noopener" href="https://news.ycombinator.com/item?id=24549917" target="_blank">To quote an amusing anecdote shared online</a>: <em>“A flag that hasn’t been set to off in a year can be masking a major regression. At my last job we had two major outages in as many years from defunct flags defaulting to ‘off’ when the feature flag system failed to return flag states.”</em></p>



<p><em>“But these feature flags are only temporary. You should be removing them as soon as possible!”</em></p>



<p>Sure, and we should also not allow our tech debt to accumulate and we should follow every single best-practice religiously. Unfortunately, this never happens in any corporate environment. Even in great teams, tech debt often gets de-prioritized in the face of new requests. Newcomers to the team or those on their way out, aren’t always disciplined enough to clean up their flags after a successful rollout. And sometimes, these tasks simply slip through the cracks and get forgotten.</p>



<p><a rel="noreferrer noopener" href="https://news.ycombinator.com/item?id=24549917" target="_blank">Someone on HackerNews has pointed out</a> that as of Sept-2020, the release version of Windows <em>“has roughly 2500 feature flags. Some are permanently jammed into the on position, some off position, and the rest are configurable by its experimentation frameworks and hackers”</em>.</p>



<p>There is no better illustration of this than the KCG debacle where a financial firm lost half a billion dollars and almost went bankrupt in 30 minutes, partly due to dead code that was behind a feature flag.</p>



<blockquote><p><a href="https://www.bugsnag.com/blog/bug-day-460m-loss"><em>The cause of the failure</em></a><em> was due to multiple factors. However, one of the most important was that a flag which had previously been used to enable Power Peg… Power Peg had been obsolete since 2003, yet still remained in the codebase some eight years later.</em></p><p><em>In 2005, an alteration was made to the Power Peg code which inadvertently disabled safety-checks which would have prevented such a scenario. However, this update was deployed to a production system at the time, despite no effort having been made to verify that the Power Peg functionality still worked</em></p></blockquote>



<hr>



<p>Feature flags are a powerful tool that can help you experiment with new features, manage the rollout of complex epics, and mitigate the problems associated with not controlling your team’s deployments. </p>



<p>But they come at a significant cost, in the form of code complexity, tech debt, slower development speeds, and inevitably, bugs. </p>



<p>As tempting as it may be, there is no silver bullet here. Weigh the pros against the cons, and use this tool judiciously when it makes sense to do so.</p>



<hr>



<p><a rel="noreferrer noopener" href="https://www.reddit.com/r/programming/comments/i5zbvk/when_feature_flags_do_and_dont_make_sense/" target="_blank"><em>Discussion thread on /r/programming</em></a><br><em><a href="https://news.ycombinator.com/item?id=24549917" target="_blank" rel="noreferrer noopener">Discussion thread on Hacker News</a></em></p>
	</div></div>]]>
            </description>
            <link>https://software.rajivprab.com/2019/12/19/when-feature-flags-do-and-dont-make-sense/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24549917</guid>
            <pubDate>Tue, 22 Sep 2020 01:11:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Language Sucks, It Doesn’t Matter]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24549895">thread link</a>) | @kristianpaul
<br/>
September 21, 2020 | https://matklad.github.io/2020/09/13/your-language-sucks.html | <a href="https://web.archive.org/web/*/https://matklad.github.io/2020/09/13/your-language-sucks.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Sep 13, 2020</p>
  <p>This post describes my own pet theory of programming languages popularity.
My understanding is that no one knows why some languages are popular and others aren’t, so there’s no harm done if I add my own thoughts to the overall confusion.
Obviously, this is all wild speculation and a just-so story without any kind of data backed research.</p>
<p>The central thesis is that the actual programming language (syntax, semantics, paradigm) doesn’t really matter.
What matters is characteristics of the runtime — roughly, what does memory of the running process look like?</p>
<p>To start, an observation.
A lot of software is written in vimscript and emacs lisp (<a href="https://magit.vc/">magit</a> being one example I can’t live without).
And these languages are objectively bad.
This happens even with less esoteric technologies, notable examples being PHP and JavaScript.
While JavaScript is great in some aspects (it’s the first mainstream language with lambdas!), it surely isn’t hard to imagine a trivially better version of it (for example, without two different <code>null</code>s).</p>
<p>This is a general rule — as soon as you have a language which is Turing-complete, and has some capabilities for building abstractions, people will just get the things done with it.
Surely, some languages are more productive, some are less productive, but, overall, FP vs OOP vs static types vs dynamic types doesn’t seem super relevant.
It’s always possible to overcome the language by spending some more time writing a program.</p>
<p>In contrast, overcoming language runtime is not really possible.
If you want to extend vim, you kinda have to use vimscript.
If you want your code to run in the browser, JavaScript is still the best bet.
Need to embed your code anywhere? GC is probably not an option for you.</p>
<p>This two observations lead to the following hypothesis:</p>
<div>
<table>
<tbody><tr>
<td>
<i title="Note"></i>
</td>
<td>
Languages generally become popular when they bring innovative runtime, or when they have runtime exclusivity.
The quality of the language itself is secondary.
</td>
</tr>
</tbody></table>
</div>
<p>Let’s see some examples which can be “explained” by this theory.</p>
<div>
<dl>
<dt>C</dt>
<dd>
<p>C has a pretty spartan runtime, which is notable for two reasons.
First, it was the first fast enough runtime for a high-level language.
It was possible to write the OS kernel in C, which had been typically done in assembly before that for performance.
Second, C is the language of Unix.
(And yes, I would put C into the “easily improved upon” category of languages. Null-terminated strings are just a bad design).</p>
</dd>
<dt>JavaScript</dt>
<dd>
<p>This language has been exclusive in the browsers for quite some time.</p>
</dd>
<dt>Java</dt>
<dd>
<p>This case I think is the most interesting for the theory.
A common explanation for Java’s popularity is “marketing by Sun”, and subsequent introduction of Java into University’s curricula.
This doesn’t seem convincing to me.
Let’s look at the 90’s popular languages (I am not sure about percentage and relative ranking here, but the composition seems broadly correct to me):</p>
<div>
<p><img src="https://matklad.github.io/assets/lang-pop.png" alt="lang pop">
</p>

</div>
<p>On this list, Java is the only non-dynamic cross-platform memory safe language.
That is, Java is both memory safe (no manual error-prone memory management) and can be implemented reasonably efficiently (field access is a load and not a dictionary lookup).
This seems like a pretty compelling reason to choose Java, irrespective of what the language itself actually looks like.</p>
</dd>
<dt>Go</dt>
<dd>
<p>One can argue whether focus on simplicity at the expense of everything else is good or bad, but statically linked zero dependency binaries definitely were a reason for Go popularity in the devops sphere.
In a sense, Go is an upgrade over “memory safe &amp; reasonably fast” Java runtime, when you no longer need to install JVM separately.</p>
</dd>
</dl>
</div>
<p>Naturally, there are also some things which are not explained by my hypothesis.
One is scripting languages.
A highly dynamic runtime with <code>eval</code> and ability to easily link C extensions indeed would be a differentiator, so we would expect a popular scripting language.
However, it’s unclear why they are Python and PHP, and not Ruby and Perl.</p>
<p>Another one is language evolutions: C++ and TypeScript don’t innovate runtime-wise, yet they are still major languages.</p>
<p>Finally, let’s make some bold predictions using the theory.</p>
<p><em>First</em>, I expect Rust to become a major language, naturally :)
This needs some explanation — on the first, blush, Rust is runtime-equivalent to C and C++, so the theory should predict just the opposite.
But I would argue that memory safety is a runtime property, despite the fact that it is, uniquely to Rust, achieved exclusively via language machinery.</p>
<p><em>Second</em>, I predict Julia to become more popular.
It’s pretty unique, runtime-wise, with its stark rejection of <a href="https://en.wikipedia.org/wiki/Ousterhout's_dichotomy">Ousterhout’s Dichotomy</a> and insisting that, yeah, we’ll just JIT highly dynamic language to suuuper fast numeric code at runtime.</p>
<p><em>Third</em>, I wouldn’t be surprised if Dart grows.
On the one hand, it’s roughly in the same boat as Go and Java, with memory safe runtime with fixed layout of objects and pervasive dynamic dispatch.
But the quality of implementation of the runtimes is staggering: it has first-class JIT, AOT and JS compilers.
Moreover, it has top-notch hot-reload support.
Nothing here is a breakthrough, but the combination is impressive.</p>
<p><em>Fourth</em>, I predict that Nim, Crystal and Zig (which is very interesting, language design wise) would not become popular.</p>
<p><em>Fifth</em>, I predict that Swift will be pretty popular on Apple hardware due to platform exclusivity, but won’t grow much outside of it, <em>despite</em> being very innovative in language design (generics in Swift are the opposite of the generics in Go).</p>
</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io/2020/09/13/your-language-sucks.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24549895</guid>
            <pubDate>Tue, 22 Sep 2020 01:04:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Mike Speiser Incubation Playbook]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24549767">thread link</a>) | @sethbannon
<br/>
September 21, 2020 | https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/ | <a href="https://web.archive.org/web/*/https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>In Formula 1 racing, you can win a world championship as a driver with one team but then not even make the top 10 without that team’s car and infrastructure. Venture can often feel like this, too. Many top performing VCs would struggle if they weren’t on their firm’s platform. And similarly, a far greater number of VCs might be able to do well if they were just at a firm with a strong enough brand. Most special are those that are the source of their own success.</p>



<p>In <a href="https://kwokchain.com/2019/04/09/making-uncommon-knowledge-common/">Making Uncommon Knowledge Common</a>, I wrote about Rich Barton because he’s one of the rare founders (or investors) with the demonstrated ability to create multiple billion dollar companies. Unpacking and learning from the few who have shown repeatable and internally compounding approaches to building companies is important.</p>



<p>Unlike consumer, traditional enterprise markets lend themselves more naturally to deterministic and repeatable success. There’s a small handful of VCs who have clearly shown they can succeed repeatedly and whose approaches and playbooks are legible enough to imply it’s not a fluke. Speiser is one of them.</p>



<p>Speiser’s portfolio includes companies like Pure Storage and Snowflake Computing. It’s worth noting that Snowflake not only IPO’d and is now at a market cap of over $60B but Speiser and Sutter Hill Ventures owned more than 20% of the company leading up to the IPO. When Pure Storage went public, Sutter Hill held more than 25%. Speiser may have the highest percentage of portfolio companies that have become multi-billion dollar companies—and that trend looks to continue with his newer companies.</p>



<p>But impressive returns are not solely what matters for the industry. It’s tempting to evaluate firms by their returns, and from the LP perspective that may be the correct metric. But another, and more important way to judge VC firms is by the <a href="https://en.wikipedia.org/wiki/Value_over_replacement_player">value they add above replacement</a> to their portfolio companies. How much do they help their portfolio companies increase their likelihood and magnitude of success? Firms do this most notably by providing capital, but also by other methods like lending their brand or directly helping with operations.</p>



<p>For founders, this value added is what matters. The returns of a VC firm only matter to a startup insofar as they translate into improved brand, network, or access to capital for the startup. A firm’s financial performance is a reasonable signal that they may add real value and be worth partnering with, especially since some aspects like brand strength for recruiting, future financing, and customer development are a function of perceived firm success. But to prospective portfolio companies, a fund’s returns are important only as a means, not an end.</p>



<p>What makes Speiser intriguing is how distinct his approach is from other VCs. The tantalizing clues suggest that he has figured something out that nobody else has: the formula for creating successful companies from scratch.</p>



<figure><img loading="lazy" width="800" height="559" src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=800%2C559&amp;ssl=1" alt="" srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=768%2C537&amp;ssl=1 768w" sizes="(max-width: 800px) 100vw, 800px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=768%2C537&amp;ssl=1 768w" data-lazy-src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=800%2C559&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>you didn’t really think there wasn’t going to be a drawing of a loop did you?</figcaption></figure>



<h2>The Speiser playbook</h2>



<p>At the core of Speiser’s approach is incubating companies, or “originating companies” in <a href="https://www.strictlyvc.com/2014/11/10/sam-pullara-entrepreneur-vc-firm/">Sutter Hill nomenclature</a>. Instead of investing in existing companies, Speiser stays solely focused on one thing: starting and building companies. Even among others who have been very successful at incubations, he is the most singularly focused on this.</p>



<figure><img loading="lazy" width="800" height="560" src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=800%2C560&amp;ssl=1" alt="" srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=768%2C538&amp;ssl=1 768w" sizes="(max-width: 800px) 100vw, 800px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=768%2C538&amp;ssl=1 768w" data-lazy-src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=800%2C560&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>bespoke artisanal charts as a service</figcaption></figure>



<p>Every year Speiser incubates around one company. The core of his model is to find 2-3 co-founders and be the founding investor. Often he takes on the interim CEO role himself for the first year or two. This has many advantages. The biggest is that it reshapes the ideal founding team profile. He can focus on getting the right top technical co-founders that will have strong views on what to build and the ability to build it—even if they are people who don’t generally view themselves as having a natural inclination to be founders. This is a significant talent arbitrage.</p>



<h3>A better package for founders</h3>



<p>There has been a dearth of coverage of Snowflake’s three cofounders, Benoit Dageville, Thierry Cruanes, and Marcin Zukowski in both the news and social media. Partially this is because they have not sought the spotlight. But partially, it is due to the veneration of a certain type of founder we have, those who seek the limelight of public presence and being in control of every aspect of the company.</p>



<p>Snowflake’s founders are cut from a different cloth. As Benoit Dageville put it “We never thought of it as building a company. We just wanted to build a cloud product. The company was an afterthought.” Yet, their product and technical decisions have been prescient in threading the narrow path to taking on Amazon and Google in the most important core markets of cloud computing.</p>



<p>There are people who often don’t <em>want</em> to be CEO, or even to start a company. They are driven by their conviction of what the future should look like, as well as their frustration with the internal dynamics they confront at legacy incumbents that prevent them from creating that reality. But they are still unlikely to start a company due to all the inertial cruft that comes with founding a company—and especially with being CEO. They want to build what matters, not set up a new corporate structure, manage fundraising, or build a sales team.</p>



<p>Eric Yuan, the founder and CEO of Zoom, <a href="https://www.cnbc.com/2019/08/21/zoom-founder-left-job-because-he-wasnt-happy-became-billionaire.html">has explained</a> this feeling of being held back at Webex. He knew what should be built and that the Webex team could do it, but given the dynamics of Webex as a subsidiary of Cisco he was unable to get the political capital to do it. And he’s proven himself right by leaving with his Webex teammates and building Zoom. Considering he was VP Engineering at Webex and still unable to build what he thought was important should be a very discomfiting reality shock to large companies about the very real economic harm the malaise of their internal processes have caused. However, for every Eric Yuan, there are countless others that never leave and start a company. The inertial barriers are too high. They can stay at their company and struggle to work on what they know should be built. Or leave and take on more uncertainty and risk than they want.</p>



<p>Speiser introduces a third model that breaks through this <a href="https://en.wikipedia.org/wiki/Between_Scylla_and_Charybdis">Scylla and Charybdis</a> dilemma. Start a company with Speiser and stay focused on what you want: deciding what to build, hiring the team you need, and building it. Speiser will handle fundraising, handling the operations generally, and setting up the sales motion and machine. Founders get much of the autonomy and upside of starting a new company while also getting support and guardrails so they can stay focused while having confidence the business is being built well.</p>



<p>Speiser doesn’t just take on these roles because founders don’t want to do it. There are actually aspects of company building where he should be better than the founders. Sutter Hill Ventures has the capital already, so it’s easy for them to take on responsibility for fundraising and remove that as a blocker. Instead of having to burn a lot of cycles fundraising, Sutter Hill can provide the capital. And they often do, leading multiple rounds into their companies. Or they can bring in outside investors, with the confidence that Sutter Hill can lead the entire round as a backstop if the process becomes too much of a hassle. Also, like any VC firm, Sutter Hill builds a brand that compounds their companies’ ability to raise follow on funding. At this point there are multiple firms that have made their bread and butter following on after Sutter Hill, to great success.</p>



<p>Similarly, Speiser is likely to have more experience in setting up companies and the initial customer development process than the founders will. Perhaps most importantly, he has relationships with customers and an established reputation that can be used to bootstrap the initial pilot conversations, which may be the point of highest leverage for these new startups.</p>



<p>These advantages all <em>compound</em> with every incremental company Speiser originates, and not just because of the typical brand network effects that venture has broadly. In many tangible ways, the spread between Speiser’s process knowledge relative to a new founder should widen with every new company.</p>



<p>As an industry we seem to often want to see machismo and martyrdom in founders. A decade ago it was wanting founders to be willing to mortgage their house and their kids’ college fund. Now it is founders wanting to be in charge of every aspect of companies. If founders aren’t willing to put everything on the line for the company their companies will be worse is the thought. As an ecosystem it doesn’t appear the data bears this out. Everything we do that has expanded opportunity and decreased the friction to more people becoming founders has led to huge benefits for the industry.</p>



<p>Just as Eric Yuan should be a massive shot across the bow for all large tech incumbents, Snowflake’s founders should be a wakeup call to venture that we have much further to go to enable and support even more brilliant people who don’t think of themselves as CEOs to bring their vision of the world into existence.</p>



<h3>A better package for CEOs</h3>



<p>But this isn’t the only talent arbitrage Speiser’s playbook benefits from. The interim CEO model allows another one too. As the startup does well and figures out its product market fit, Speiser eventually rolls off as CEO and finds a full-time replacement to take on the role as he takes a step back into being solely a board member.</p>



<p>His companies are <em>very</em> advantaged in finding great CEOs to take the mantle. To understand why, look at it from the perspective of an executive looking to become the CEO of a company. Like the potential founders, these executives have their own Scylla and Charybdis dilemma. They want to be CEO of a company, but they also want to join a company that has already …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/">https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/</a></em></p>]]>
            </description>
            <link>https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24549767</guid>
            <pubDate>Tue, 22 Sep 2020 00:29:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VPNs from First Principles]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24549031">thread link</a>) | @setheron
<br/>
September 21, 2020 | https://fzakaria.com/2020/09/20/vpns-from-first-principles.html | <a href="https://web.archive.org/web/*/https://fzakaria.com/2020/09/20/vpns-from-first-principles.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      <blockquote>
  <p>If you enjoy the <em>from first principles</em> theme, consider reading the one
on <a href="https://fzakaria.com/2020/05/31/containers-from-first-principles.html">containers</a>.</p>
</blockquote>

<p>Networking can seem like <em>voodoo</em>; many of us take for granted how data transmits from one computer to the next. Recently, <a href="https://www.wireguard.com/">wireguard</a>, has attracted a lot of publicity for it’s inclusion into the Linux kernel &amp; for it’s stated goal of making setting up VPNs simpler.</p>

<p>Behind all the magic, is a very simple premise. Let’s shed some of the complexity and break it down to <em>first principles</em>.</p>

<!--more-->

<blockquote>
  <p>A virtual private network extends a private network across a public network and enables users to send and receive data across shared or public networks as if their computing devices were directly connected to the private network. <sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> <sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>
</blockquote>

<p><img src="https://fzakaria.com/assets/images/VPN_overview-en.svg" alt="VPN graphic"></p>

<p>The definition seems <em>simple</em> enough. Bridge two discrete private networks &amp; make them look like they are <strong>one</strong>.</p>

<p>We will accomplish this task with a <em>tunnel</em>.</p>

<!--more-->

<h3 id="network-reachability">Network Reachability</h3>

<p>Let’s consider a very simple example with two distinct private networks: <em>home</em> &amp; <em>office</em>.</p>

<p><strong>Home Network</strong>: Is the 192.168.1.0/24 subnet and has a laptop with the <em>private IP address</em> of 192.168.1.192.</p>

<p><strong>Office Network</strong>: Is the 172.31.0.1/20 subnet and has a server with <em>private IP address</em> of 172.31.9.116 &amp; a <em>public IP address</em> of 54.219.126.112.</p>

<p><img src="https://fzakaria.com/assets/images/vpn_simple_drawing.png" alt="VPN graphic"></p>

<blockquote>
  <p>I did not include the routers or gateways in the figure.</p>
</blockquote>

<p>This is pretty common to what most people might experience with their home setup.</p>

<p><em>private</em> IP addresses are those that can only be reached from other machines within the subnet.</p>

<p><em>public</em> IP addresses are those that are broadcasted to neighboring routers and exchanged via the BGP protocol.</p>

<p>The goal of the tunnel will be to join these two <em>distinct</em> subnets into a <em>virtual</em> one; a <em>virtual private network</em> (VPN).</p>

<p><img src="https://fzakaria.com/assets/images/vpn_simple_drawing_merge.png" alt="VPN graphic"></p>

<p>Let’s choose a VPN CIDR range of 172.31.255.0/24. I don’t need a subnet so large, so let’s set a mask of /24 which gives us ~254 hosts.</p>

<p>We will then assign two IP addresses within that subnet to the two hosts.</p>

<p><strong>Server</strong>: 172.31.255.13</p>

<p><strong>Laptop</strong>: 172.31.255.7</p>

<blockquote>
  <p>The private network address range is 172.16.0.0/12 according to <a href="https://www.arin.net/reference/research/statistics/address_filters/">https://www.arin.net/reference/research/statistics/address_filters/</a></p>
</blockquote>

<h3 id="tun-network-interface-device">TUN network interface device</h3>

<p>The first step in setting up our tunnel will be to create a <em>tun</em> network interface device<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup>. A <em>tun</em> device is a kernel virtual network device, they are not backed by a physical device.</p>

<p>Packets sent by the operating system via the <em>tun</em> device are delivered to a user space program which attaches itself to the device. A userspace program may also pass packets into a <em>tun</em> device. In this case the device delivers these packets to the operating-system network stack thus emulating as if it has arrived from an external source.<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup></p>

<blockquote>
  <p><em>tun</em> devices operate at the L3 layer (IP). There is an analogous <em>tap</em> device that operates at the L2 layer (Ethernet).</p>
</blockquote>

<div><div><pre><code><span># on server &amp; laptop run the following</span>
<span># adding the user will allow userspace programs running as that user</span>
<span># to attach to it without needing `sudo`</span>
<span>&gt;</span> <span>sudo </span>ip tuntap add dev tun0 mode tun user <span>$USER</span>
<span>&gt;</span> <span>sudo </span>ip <span>link set </span>dev tun0 up

<span>&gt;</span> ip <span>-d</span> <span>link </span>show tun0
9: tun0: &lt;POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 500
    <span>link</span>/none  promiscuity 0 minmtu 68 maxmtu 65535
    tun <span>type </span>tun pi on vnet_hdr off persist on user youruser addrgenmode random numtxqueues 1 numrxqueues 1 gso_max_size 65536 gso_max_segs 65535
</code></pre></div></div>

<p>We then need to assign the new <em>private IP addresses</em> for our new subnet.</p>

<div><div><pre><code><span># on the laptop run the following</span>
<span>&gt;</span> <span>sudo </span>ip addr add 172.31.255.7/24 dev tun0
<span># on the server run the following</span>
<span>&gt;</span> <span>sudo </span>ip addr add 172.31.255.13/24 dev tun0
</code></pre></div></div>

<p>Now let’s create a general routing rule so that anything destined for that subnet routes to the desired <em>tun</em> device.</p>

<div><div><pre><code><span># run the following on both laptop &amp; server</span>
<span>&gt;</span> <span>sudo </span>ip route add 172.16.0.0/12 dev tun0

<span># Let's validate our route. Pick a machine and</span>
<span># test the route for the other one.</span>
<span>&gt;</span> ip route get 172.31.255.8
172.31.255.8 dev tun0 src 172.31.255.7 uid 780412
    cache
</code></pre></div></div>

<blockquote>
  <p>We make sure to test the route with an IP address not present on either machine, otherwise it will match to the <em>lo</em> (loopback) device.</p>
</blockquote>

<p>Great! We have setup some network interfaces and routing rules, but what is actually transmitting the packets to give the <em>illusion</em> of a single network?</p>

<p>Our <strong>tunneling</strong> software.</p>

<h3 id="lametun">lametun</h3>

<p>The <em>heart</em> to setting up VPN is the software bridging the packets across the two networks. In our case, we will be using a userspace program and the <em>tun</em> device; however <a href="https://www.wireguard.com/">wireguard</a> has included this capability within the kernel itself.</p>

<p>Since this will be a <em>toy</em> example, I’ve named the program <strong>lametun</strong>. It will be a single <em>golang</em> file with minimal dependencies to demonstrate how simple it is.</p>

<p><img src="https://fzakaria.com/assets/images/vpn_lametun_simple.png" alt="VPN graphic"></p>

<p><strong>lametun</strong> will read all incoming packets at a particular UDP port (i.e. <em>1234</em>) and write it to the <em>tun</em> device.</p>

<p><strong>lametun</strong> will read all outgoing packets from the <em>tun</em> device and write it back out the physical network device.</p>

<p>Both the <em>server</em> &amp; <em>laptop</em> will run <strong>lametun</strong> on UDP port <em>1234</em>, listening on the physical network device.</p>

<blockquote>
  <p>Make sure your firewall allows whatever port we are using for <strong>lametun</strong>.
I was using an EC2 host and had to also allow the UDP port through the SecurityGroup as well.</p>
</blockquote>

<p>The TUN device however emits raw L3 packets (IP packets), and the IP address of the device is not-routable. Simply copying the packet to the physical device is not enough; it must be routable.</p>

<p>We will <em>encapsulate</em> the packet with a routable IP &amp; UDP header destined for the VPN peer.</p>

<blockquote>
  <p>UDP is chosen since there is a lot of literature how TCP over TCP is a bad idea; TCP Meltdown.<sup id="fnref:6" role="doc-noteref"><a href="#fn:6">5</a></sup></p>
</blockquote>

<h3 id="encapsulation">Encapsulation</h3>

<p>Encapsulation as a concept is straightforward. It is the act of embedding a protocol within the data/payload of another. Here we see an example of embedding TCP-IP within the payload of a UDP packet.<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">6</a></sup></p>

<p><img src="https://fzakaria.com/assets/images/foo-encap.png" alt="VPN graphic"></p>

<p>Using encapsulation, we can now have non-routable packets traverse the Internet. Once they arrive at the <strong>lametun</strong> destination, the inner packet is forwarded onto the <em>tun</em> device to continue routing.</p>

<h3 id="mtu">MTU</h3>

<p>Typically, in order to guarantee delivery across the Internet, network devices restrict the <em>maximum transmission unit</em> (MTU), which is the size of the Ethernet frame, to <em>1500</em> bytes.</p>

<blockquote>
  <p>Although IP protocol supports fragmentation, there is no guarantee that every link along the way does. It’s best to stay within the 1500 byte limit.</p>
</blockquote>

<p>Given that we are embedding our transmission protocol within a IP-UDP datagram, we must account for this reserved headroom accordingly or risk breaking the 1500 byte boundary.</p>

<p>Given that the IP header is 20 bytes (minimum) and the UDP header is 8 bytes, our new MTU is <em>1472</em> bytes.</p>

<p>A simple demonstration will help.</p>

<div><div><pre><code><span># Upper limit MTU is 1500 safely across the Internet</span>
<span># IPv4 header is 20 bytes (minimum)</span>
<span># UDP header is 8 bytes</span>
<span># ICMP header is 8 bytes</span>
<span>#</span>
<span># 1500 - 20 (IP) - 8 (UDP) =  1472 new maximum MTU</span>
<span>#</span>
<span># 1472 - 20 (IP) - 8 (ICMP) = 1444 maximum payload for ICMP payload</span>
<span># (We actually remove another 4 bytes due to metadata the TUN device includes)</span>
<span># = 1440 maximum payload</span>

<span># We will run the following on the laptop</span>
<span>&gt;</span> ping <span>-M</span> <span>do</span> <span>-s</span> 1440 172.31.255.13

<span># Use wireshark to check the packet</span>
<span>&gt;</span> tshark udp port 1234
1 0.000000000 76.242.91.200 → 172.31.9.116 UDP 1514 1234 → 1234 <span>Len</span><span>=</span>1472

<span># If we bump the ICMP payload by a single byte, it will fragment</span>
<span>&gt;</span> ping <span>-M</span> <span>do</span> <span>-s</span> 1441 172.31.255.13

<span>&gt;</span> <span>sudo </span>tshark udp port 1234
1 0.000000000 76.242.91.200 → 172.31.9.116 IPv4 1514 Fragmented IP protocol <span>(</span><span>proto</span><span>=</span>UDP 17, <span>off</span><span>=</span>0, <span>ID</span><span>=</span>3136<span>)</span>
</code></pre></div></div>

<p>So we simply need to adjust the MTU on our TUN device accordingly.</p>

<div><div><pre><code><span># run the following on both laptop and server</span>
<span>&gt;</span> <span>sudo </span>ip <span>link set </span>dev tun0 mtu 1472
</code></pre></div></div>

<h3 id="code">Code</h3>

<p>Sweet! Enough theory, show me the code!</p>

<p>I’ve kept the code to a single-file for demonstration purposes but you can also find it on GitHub <a href="https://github.com/fzakaria/lametun">https://github.com/fzakaria/lametun</a>. It is heavily commented for learning purposes.</p>

<blockquote>
  <p>I tried to make the code somewhat Go-idiomatic without being too pedantic as a learning exercise. If you feel the code can be improved, please <a href="mailto:farid.m.zakaria@gmail.com">reach out</a> or open a pull-request.</p>
</blockquote>

<div><div><pre><code><span>package</span> <span>main</span>

<span>import</span> <span>(</span>
    <span>"flag"</span>
    <span>"fmt"</span>
    <span>"golang.org/x/sys/unix"</span>
    <span>"net"</span>
    <span>"os"</span>
    <span>"unsafe"</span>
<span>)</span>

<span>const</span> <span>(</span>
    <span>// sizeof(struct ifreq)</span>
    <span>IfReqSize</span> <span>=</span> <span>40</span>
<span>)</span>

<span>// let's open the TUN device</span>
<span>// A tun device is a bit wonky in that you have to first open "/dev/net/tun"</span>
<span>// then run a IOCTL syscall to turn the fd returned for the desired network tun device.</span>
<span>// This code makes use of some unsafe golang code, this is merely to avoid pulling in</span>
<span>// dependencies since this is for demonstration</span>
<span>func</span> <span>openTunDevice</span><span>(</span><span>dev</span> <span>string</span><span>)</span> <span>(</span><span>*</span><span>os</span><span>.</span><span>File</span><span>,</span> <span>error</span><span>)</span> <span>{</span>
    <span>fd</span><span>,</span> <span>err</span> <span>:=</span> <span>unix</span><span>.</span><span>Open</span><span>(</span><span>"/dev/net/tun"</span><span>,</span> <span>os</span><span>.</span><span>O_RDWR</span><span>,</span> <span>0</span><span>)</span>
    <span>if</span> <span>err</span> <span>!=</span> <span>nil</span> <span>{</span>
        <span>return</span> <span>nil</span><span>,</span> <span>err</span>
    <span>}</span>

    <span>// IOCTL for TUN requires the ifreq struct</span>
    <span>// https://elixir.bootlin.com/linux/v5.8.10/source/include/uapi/linux/if.h#L234</span>
    <span>// we fill in the required struct members such as the device name &amp; that it is a TUN</span>
    <span>var</span> <span>ifr</span> <span>[</span><span>IfReqSize</span><span>]</span><span>byte</span>
    <span>copy</span><span>(</span><span>ifr</span><span>[</span><span>:</span><span>],</span> <span>dev</span><span>)</span>
    <span>*</span><span>(</span><span>*</span><span>uint16</span><span>)(</span><span>unsafe</span><span>.</span><span>Pointer</span><span>(</span><span>&amp;</span><span>ifr</span><span>[</span><span>unix</span><span>.</span><span>IFNAMSIZ</span><span>]))</span> <span>=</span> <span>unix</span><span>.</span><span>IFF_TUN</span>

    <span>_</span><span>,</span> <span>_</span><span>,</span> <span>errno</span> <span>:=</span> <span>unix</span><span>.</span><span>Syscall</span><span>(</span>
        <span>unix</span><span>.</span><span>SYS_IOCTL</span><span>,</span>
        <span>uintptr</span><span>(</span><span>fd</span><span>),</span>
        <span>uintptr</span><span>(</span><span>unix</span><span>.</span><span>TUNSETIFF</span><span>),</span>
        <span>uintptr</span><span>(</span><span>unsafe</span><span>.</span><span>Pointer</span><span>(</span><span>&amp;</span><span>ifr</span><span>[</span><span>0</span><span>])),</span>
    <span>)</span>

    <span>if</span> <span>errno</span> <span>!=</span> <span>0</span> <span>{</span>
        <span>return</span> <span>nil</span><span>,</span> <span>fmt</span><span>.</span><span>Errorf</span><span>(</span><span>"error syscall.Ioctl(): %v</span><span>\n</span><span>"</span><span>,</span> <span>errno</span><span>)</span>
    <span>}</span>

    <span>unix</span><span>.</span><span>SetNonblock</span><span>(</span><span>fd</span><span>,</span> <span>true</span><span>)</span>
    <span>return</span> <span>os</span><span>.</span><span>NewFile</span><span>(</span><span>uintptr</span><span>(</span><span>fd</span><span>),</span> <span>"/dev/net/tun"</span><span>),</span> <span>nil</span>
<span>}</span>

<span>func</span> <span>main</span><span>()</span> <span>{</span>
    <span>port</span> <span>:=</span> <span>flag</span><span>.</span><span>Int</span><span>(</span><span>"port"</span><span>,</span> <span>1234</span><span>,</span> <span>"The protocol port for lametun"</span><span>)</span>
    <span>dev</span> <span>:=</span> <span>flag</span><span>.</span><span>String</span><span>(</span><span>"device"</span><span>,</span> <span>"tun0"</span><span>,</span> <span>"The TUN device name"</span><span>)</span>
    <span>listen</span> <span>:=</span> <span>flag</span><span>.</span><span>Bool</span><span>(</span><span>"listen"</span><span>,</span> <span>false</span><span>,</span> <span>"Whether to designate this machine as the server"</span><span>)</span>
    <span>server</span> <span>:=</span> <span>flag</span><span>.</span><span>String</span><span>(</span><span>"server"</span><span>,</span> <span>""</span><span>,</span> <span>"The server to connect to"</span><span>)</span>
    <span>flag</span><span>.</span><span>Parse</span><span>()</span>

    <span>fmt</span><span>.</span><span>Printf</span><span>(</span><span>"listen:%v server:%v dev:%v port:%v</span><span>\n</span><span>"</span><span>,</span> <span>*</span><span>listen</span><span>,</span> <span>*</span><span>server</span><span>,</span> <span>*</span><span>dev</span><span>,</span> <span>*</span><span>port</span><span>)</span>

    <span>if</span> <span>*</span><span>listen</span> <span>&amp;&amp;</span> <span>*</span><span>server</span> <span>!=</span> <span>""</span> <span>{</span>
        <span>fmt</span><span>.</span><span>Fprintf</span><span>(</span><span>os</span><span>.</span><span>Stderr</span><span>,</span> <span>"Cannot listen and set server flag</span><span>\n</span><span>"</span><span>)</span>
        <span>os</span><span>.</span><span>Exit</span><span>(</span><span>1</span><span>)</span>
    <span>}</span>

    <span>if</span> <span>!*</span><span>listen</span> <span>&amp;&amp;</span> <span>*</span><span>server</span> <span>==</span> <span>""</span> <span>{</span>
        <span>fmt</span><span>.</span><span>Fprintf</span><span>(</span><span>os</span><span>.</span><span>Stderr</span><span>,</span> <span>"You must …</span></code></pre></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fzakaria.com/2020/09/20/vpns-from-first-principles.html">https://fzakaria.com/2020/09/20/vpns-from-first-principles.html</a></em></p>]]>
            </description>
            <link>https://fzakaria.com/2020/09/20/vpns-from-first-principles.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24549031</guid>
            <pubDate>Mon, 21 Sep 2020 22:14:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Syncing Oracle to Dolt Using Python]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24548870">thread link</a>) | @oscar-batori
<br/>
September 21, 2020 | https://www.dolthub.com/blog/2020-09-20-oracle-support-in-sql-sync/ | <a href="https://web.archive.org/web/*/https://www.dolthub.com/blog/2020-09-20-oracle-support-in-sql-sync/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-cy="blog-post-text"><p><a href="https://github.com/liquidata-inc/dolt">Dolt</a> is a relational database with Git-like version control features. In particular the underlying data storage format is a commit graph, and each commit represents the complete state (schema and data) of the database at a point in time. <a href="https://github.com/liquidata-inc/doltpy">Doltpy</a>, our Python API, provides users with tools to easily move data between their existing databases and Dolt. This post covers adding support for Oracle. We wanted to support Oracle because several customers asked for it. Given how widely adopted it is as a database solution, this is not surprising. Supporting Oracle proved more complicated than the other databases. Most of that complexity comes from Oracle having a model that differs substantially from Postgres and MySQL, as well as how long the database takes to actually startup. We cover how to abstract away this complexity in a clean test fixture in the final section using Docker.</p>
<h3>Overview</h3>
<p>Let's start with the goal: we want to provide a simple API for moving data from Dolt to Oracle, or from Oracle to Dolt. Let's say we want to get data from the <code>revenue_estimates</code> table in Oracle into Dolt for versioning, we want to write code like this:</p>
<div data-language="python"><pre><code><span>from</span> doltpy<span>.</span>etl<span>.</span>sql_sync <span>import</span> sync_from_dolt<span>,</span> get_dolt_target_writer<span>,</span> get_oracle_source_reader

sync_to_dolt<span>(</span>get_oracle_source_reader<span>(</span>oracle_engine<span>)</span><span>,</span>
             get_dolt_target_writer<span>(</span>dolt_repo<span>)</span><span>,</span>
             <span>{</span><span>'revenue_estimates'</span><span>:</span> <span>'revenue_estimates'</span><span>}</span></code></pre></div>
<p>We need some objects for managing database connections, which are defined as follows:</p>
<div data-language="python"><pre><code><span>from</span> doltpy<span>.</span>core <span>import</span> Dolt
<span>import</span> sqlalchemy <span>as</span> sa
<span>import</span> cx_Oracle


dolt <span>=</span> Dolt<span>.</span>init<span>(</span><span>'my-org/estiamtes'</span><span>)</span>
dolt<span>.</span>sql_server<span>(</span><span>)</span>

engine <span>=</span> create_engine<span>(</span><span>'oracle+cx_oracle://'</span><span>,</span> creator<span>=</span>_oracle_connection_helper<span>)</span>
<span>def</span> _oracle_connection_helper<span>:</span>
    <span>return</span> cx_Oracle<span>.</span>connect<span>(</span><span>'oracle_user'</span><span>,</span> <span>'oracle_pwd'</span><span>,</span> <span>'{}:{}/{}'</span><span>.</span><span>format</span><span>(</span><span>'oracle_host'</span><span>,</span> <span>1521</span><span>,</span> <span>'oracle_db'</span><span>)</span><span>)</span></code></pre></div>
<p>In order to incorporate Oracle into our SQL Sync tooling we need to verify that we can "round trip" data from Dolt to Oracle, and from Oracle to Dolt. We do the same for Postgres and MySQL. In practice this means we need instances of each of these databases running, and available to our test harness. The most repeatable and portable way we have found is to use <code>pytest-docker</code> to run a containerized instance of each database implementation. The architecture looks something like this:
<span>
      <a href="https://www.dolthub.com/blog/static/379407ef35fdd1dadd387ba867a0ae9c/ef9e5/sql_sync_test_architecture.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="SQL Sync test architecture" title="SQL Sync test architecture" src="https://www.dolthub.com/blog/static/379407ef35fdd1dadd387ba867a0ae9c/ef9e5/sql_sync_test_architecture.png" srcset="https://www.dolthub.com/blog/static/379407ef35fdd1dadd387ba867a0ae9c/a48b3/sql_sync_test_architecture.png 214w,
https://www.dolthub.com/blog/static/379407ef35fdd1dadd387ba867a0ae9c/47730/sql_sync_test_architecture.png 428w,
https://www.dolthub.com/blog/static/379407ef35fdd1dadd387ba867a0ae9c/ef9e5/sql_sync_test_architecture.png 607w" sizes="(max-width: 607px) 100vw, 607px" loading="lazy">
  </a>
    </span></p>
<p>To achieve this we need three things:</p>
<ol>
<li>a Docker image available that stands up an Oracle instance</li>
<li>augment our test harness to run that image, and populate it with a test table</li>
<li>code to execute and test the sync</li>
</ol>
<p>We will examine them in reverse order, starting with the implementation, as that's closest to the user value the feature delivers.</p>
<h2>Implementation</h2>
<p>Once Oracle was incorporated into our test harness, actually reading and writing from it was straightforward, and done via SQL Alchemy. We focus on the issues caused by how SQL Alchemy maps between higher level types and Oracle types. One main benefit of SQL Alchemy is the <a href="https://docs.sqlalchemy.org/en/13/core/tutorial.html">SQL Expression Language</a> that abstracts over multiple database implementations, something we <a href="https://www.dolthub.com/blog/2020-08-24-schema-support-in-sql-sync/">blogged</a> about. In most cases this takes care of translating between database implementation specific types by providing a higher level set of types. A concrete example is how this higher level expression language allows us to use a single definition of a test table, making our code cleaner and more readable, as well as reducing database implementation specific boilerplate:</p>
<div data-language="python"><pre><code><span>from</span> sqlalchemy<span>.</span>types <span>import</span> Integer<span>,</span> DateTime<span>,</span> String<span>,</span> Text<span>,</span> Float<span>,</span> Date

TEST_TABLE_METADATA <span>=</span> Table<span>(</span>TABLE_NAME<span>,</span>
                            MetaData<span>(</span><span>)</span><span>,</span>
                            Column<span>(</span><span>'first_name'</span><span>,</span> String<span>(</span><span>256</span><span>)</span><span>,</span> primary_key<span>=</span><span>True</span><span>)</span><span>,</span>
                            Column<span>(</span><span>'last_name'</span><span>,</span> String<span>(</span><span>256</span><span>)</span><span>,</span> primary_key<span>=</span><span>True</span><span>)</span><span>,</span>
                            Column<span>(</span><span>'playing_style_desc'</span><span>,</span> Text<span>)</span><span>,</span>
                            Column<span>(</span><span>'win_percentage'</span><span>,</span> Float<span>)</span><span>,</span>
                            Column<span>(</span><span>'high_rank'</span><span>,</span> Integer<span>)</span><span>,</span>
                            Column<span>(</span><span>'turned_pro'</span><span>,</span> DateTime<span>)</span><span>,</span>
                            Column<span>(</span><span>'date_of_birth'</span><span>,</span> Date<span>)</span><span>)</span></code></pre></div>
<p>In the snippet above <code>engine</code> is a SQL Alchemy object that manages a database connection pool. Passing that engine to a call to create the table we just defined will execute the generated query against the corresponding database instance. This is exactly what we do to create a test table in our containerized Oracle instance:</p>
<div data-language="text"><pre><code>TEST_TABLE_METADATA.metadata.create_all(engine)</code></pre></div>
<p>The type mapping issue arises because SQL Alchemy translates both <code>sqlalchemy.types.Date</code> and <code>sqlalchemy.types.DateTime</code> to Oracle's <code>DATE</code> type. This is clearly a bug, as this amounts to "destructive" type coercion, and in fact the library should not permit writes of <code>datetime.datetime</code> Python objects to <code>DATE</code> without at least warning the user of information loss. We plan to implement fixes to SQL Alchemy, and push them back to that project as a wider benefit to the community.</p>
<p>For the purposes of using the data sync, however, this is not an issue. This code is purely for creating a test table, and we do not yet support schema sync in Oracle. We work around this in our test suite.</p>
<h3>Test Harness</h3>
<p>In order for us to execute the SQL Alchemy expressions above, we need to incorporate a running Docker image that exposes an Oracle instance to our test harness. We launch our containers via <code>pytest-docker</code>, a <code>pytest</code> plugin that wraps <code>docker-compose</code>. This allows us to define Docker services using dictionaries which are in turn translated into YAML:</p>
<div data-language="python"><pre><code><span>@pytest<span>.</span>fixture</span><span>(</span>scope<span>=</span><span>'session'</span><span>)</span>
<span>def</span> <span>docker_compose_file</span><span>(</span>tmpdir_factory<span>,</span> mysql_service_def<span>,</span> postgres_service_def<span>,</span> oracle_service_def<span>)</span><span>:</span>
    compose_file <span>=</span> tmpdir_factory<span>.</span>mktemp<span>(</span><span>'docker_files'</span><span>)</span><span>.</span>join<span>(</span><span>'docker-compose.yml'</span><span>)</span>

    compose_conf <span>=</span> <span>{</span>
        <span>'version'</span><span>:</span> <span>'2'</span><span>,</span>
        <span>'services'</span><span>:</span> <span>{</span>
            <span>'mysql'</span><span>:</span> mysql_service_def<span>,</span>
            <span>'postgres'</span><span>:</span> postgres_service_def<span>,</span>
            <span>'oracle'</span><span>:</span> oracle_service_def
        <span>}</span>
    <span>}</span>

    <span>with</span> compose_file<span>.</span><span>open</span><span>(</span><span>'w'</span><span>)</span> <span>as</span> f<span>:</span>
        yaml<span>.</span>dump<span>(</span>compose_conf<span>,</span> stream<span>=</span>f<span>)</span>

    <span>return</span> compose_file<span>.</span>strpath</code></pre></div>
<p>Note that this fixture itself depends on a test fixture called <code>oracle_service_def</code> which specifies how to launch the Oracle service definition. Again, this fixture returns a dictionary, which is incorporated into <code>docker_compose_file</code> as follows:</p>
<div data-language="python"><pre><code><span>@pytest<span>.</span>fixture</span><span>(</span>scope<span>=</span><span>'session'</span><span>)</span>
<span>def</span> <span>oracle_service_def</span><span>(</span><span>)</span><span>:</span>
    <span>return</span> <span>{</span>
        <span>'image'</span><span>:</span> <span>'oscarbatori/oracle-database:18.4.0-xe-quick'</span><span>,</span>
        <span>'container_name'</span><span>:</span> ORACLE_CONTAINER_NAME<span>,</span>
        <span>'ports'</span><span>:</span> <span>[</span><span>'{port}:{port}'</span><span>.</span><span>format</span><span>(</span>port<span>=</span>ORACLE_LISTENER_PORT<span>)</span><span>,</span>
                  <span>'{port}:{port}'</span><span>.</span><span>format</span><span>(</span>port<span>=</span>ORACLE_OEM_EXPRESS_PORT<span>)</span><span>]</span>
    <span>}</span></code></pre></div>
<p>In the following section we detail how to get an Oracle image that takes a reasonable amount of time to start (around a minute). That is still too slow for <code>pytest</code> which will throw errors when our fixtures for fetching a SQL Alchemy engine object run. We can put some retry logic around those calls to make the fixture swallow errors for some reasonable period of time until it obtains a connection:</p>
<div data-language="python"><pre><code><span>@pytest<span>.</span>fixture</span>
<span>def</span> <span>oracle_engine</span><span>(</span>docker_ip<span>,</span> docker_services<span>)</span> <span>-</span><span>&gt;</span> Engine<span>:</span>
    engine <span>=</span> create_engine<span>(</span><span>'oracle+cx_oracle://'</span><span>,</span> creator<span>=</span><span>lambda</span><span>:</span> _oracle_connection_helper<span>(</span>docker_ip<span>)</span><span>)</span>

    <span>@retry</span><span>(</span>delay<span>=</span><span>10</span><span>,</span> tries<span>=</span><span>12</span><span>,</span> exceptions<span>=</span><span>(</span>sqlalchemy<span>.</span>exc<span>.</span>DatabaseError<span>)</span><span>)</span>
    <span>def</span> <span>verify_connection</span><span>(</span><span>)</span><span>:</span>
        conn <span>=</span> engine<span>.</span>connect<span>(</span><span>)</span>
        conn<span>.</span>close<span>(</span><span>)</span>
        <span>return</span> engine

    <span>return</span> verify_connection<span>(</span><span>)</span>


<span>def</span> <span>_oracle_connection_helper</span><span>(</span>host<span>)</span><span>:</span>
    <span>return</span> cx_Oracle<span>.</span>connect<span>(</span>ORACLE_USER<span>,</span> ORACLE_PWD<span>,</span> <span>'{}:{}/{}'</span><span>.</span><span>format</span><span>(</span>host<span>,</span> ORACLE_LISTENER_PORT<span>,</span> ORACLE_DB<span>)</span><span>)</span></code></pre></div>
<p>Our test harness is now augmented to fire up a service running an instance of Oracle XE. In order to get this container running we needed to create the actual image, as unlike Postgres and MySQL, there was not a freely available on one on Docker Hub.</p>
<h2>Building an Image</h2>
<p>Up until this point we have assumed the instance of an Oracle image. This proved a little tricky in practice. We found a GitHub repository containing some tools for building images <a href="https://github.com/oracle/docker-images/tree/master/OracleDatabase/SingleInstance">here</a>. We cloned the repo, and ran the following from the appropriate subdirectory:</p>
<div data-language="text"><pre><code>$ /buildDockerImage.sh -v 18.4.0 -x</code></pre></div>
<p>After about twenty minutes, this produced an image that we could then use to run a container in our development in environment, in this case locally on OSX:</p>
<div data-language="text"><pre><code>$ docker run --name test_oracle \
-p 1521:1521 -p 5500:5500 \
-e ORACLE_PWD=oracle_password \
oracle/database:18.4.0-xe</code></pre></div>
<p>Unfortunately, it takes about 15 minutes for the Oracle database to get into a state were it is accepting connections. This is far too slow for a test suite, as it would make a single test run take more than fifteen minutes. Slow tests discourage developers from using them, increasing the the likelihood of error. Fortunately, Docker provides functionality for creating an image from a running container (credit to <a href="https://www.dolthub.com/blog/2020-09-20-oracle-support-in-sql-sync/(https://medium.com/@ggajos/drop-db-startup-time-from-45-to-3-minutes-in-dockerized-oracle-19-3-0-552068593deb)%20for%20inspiration">this blog post</a>. The following command creates a snapshot of the container we fired up in our dev environment in the previous step:</p>
<div data-language="text"><pre><code>$ docker commit --author "Oscar Batori me@my-email.com" --message "Fast Oracle XE snapshot" oscarbatori/oracle-database:18.4.0-xe-quick</code></pre></div>
<p>The image could then be started as follows:</p>
<div data-language="text"><pre><code>docker run --name test_oracle \
-p 1521:1521 -p 5500:5500 \
-e ORACLE_PWD=oracle_password \
oscarbatori/oracle-database:18.4.0-xe-quick</code></pre></div>
<p>We now had an image that could present stand up a running Oracle instance in under a minute, allowing us to build the test harness and tests detailed above on top of it.</p>
<h2>Conclusion</h2>
<p>In this post we covered how we incorporated Oracle into our <code>doltpy.etl.sql_sync</code>, a module of the Dolt's Python API, Doltpy, that provides utilities to users who would like to use Dolt alongside existing relational database solutions. We hope that by supporting Oracle we will vastly increase the number of users who are able to capture the benefits for a version controlled SQL database while not having to abandon their existing tools. We have a full SQL Sync guide in our <a href="https://www.dolthub.com/docs/guides/sql-sync/">documentation</a>.</p></div></div>]]>
            </description>
            <link>https://www.dolthub.com/blog/2020-09-20-oracle-support-in-sql-sync/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24548870</guid>
            <pubDate>Mon, 21 Sep 2020 21:53:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New data on the consequences of the biggest data breach of all time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24547540">thread link</a>) | @freediver
<br/>
September 21, 2020 | https://www.iccl.ie/human-rights/info-privacy/rtb-data-breach-2-years-on/ | <a href="https://web.archive.org/web/*/https://www.iccl.ie/human-rights/info-privacy/rtb-data-breach-2-years-on/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><main id="main-content-container"><article aria-label="New data on the RTB privacy crisis: people with AIDS profiled in Ireland, and Polish elections influenced."><div>
<p><br><strong><em>This note presents new evidence of the scale of the vast RTB data breach, and of the consequences of two years of failure to enforce.&nbsp;</em></strong></p>



<p>September 2020 is the two year anniversary of my formal complaint to the Irish Data Protection Commission about the Real-Time Bidding privacy crisis. In these two years, RTB has been allowed to continue to infringe Article 5(1)f of the GDPR, which requires security of personal data. In fact, this vast data breach appears&nbsp;to have worsened.&nbsp;</p>



<p>Today, we at the ICCL submitted&nbsp;evidence to the DPC that show the consequence of failure to enforce the GDPR to stop the vast RTB data breach at the heart of the online advertising industry.</p>



<p><a href="https://www.dropbox.com/sh/7xo77grl2mnb6b6/AAAlszXoQ_zM2kUSsSRqKJSqa?dl=0" target="_blank" rel="noreferrer noopener">This evidence includes a proven case of electoral influence, profiling of people with AIDS and cancer, and a list of 968 companies that&nbsp;Google sends information to about the private things that we do and&nbsp;watch online</a>.&nbsp;</p>



<div><figure><img loading="lazy" width="720" height="405" src="https://www.iccl.ie/wp-content/uploads/2020/09/RTB-broadcast-from-website-DPC-2020.gif" alt=""></figure></div>















<h2>Key insights in the submission&nbsp;&nbsp;</h2>



<ul><li>Real-Time Bidding operates behind the scenes on websites and apps. It constantly broadcasts the private things we do and watch online, and where we are in the real-world, to countless companies. As a result, we are all an open book to data broker companies, and others, who can build intimate dossiers about each of us. <strong>Google’s RTB system sends this data to 968 companies (see <a href="https://www.iccl.ie/wp-content/uploads/2020/09/6.-The-964-companies-that-Google-sends-our-data-to-Appendix-F.pdf" target="_blank" rel="noreferrer noopener">Appendix F for a 25&nbsp;page list of these companies</a>).&nbsp;</strong></li></ul>



<figure><p>
<iframe title="The companies that Google's RTB system sends data to in Europe" src="https://player.vimeo.com/video/459871060?dnt=1&amp;app_id=122963" width="500" height="261" frameborder="0" allow="autoplay; fullscreen" allowfullscreen=""></iframe>
</p></figure>



<ul><li>A data broker company that uses RTB data to profile people <strong>influenced the 2019 Polish Parliamentary Election </strong>by<strong> targeting LGBTQ+ people</strong>. <a href="https://www.iccl.ie/wp-content/uploads/2020/09/1.-Submission-to-Data-Protection-Commissioner.pdf#page=5" target="_blank" rel="noreferrer noopener">See page 5</a>.&nbsp;<br>&nbsp;</li><li>Google’s RTB system allows users to target 1,200 people in Ireland profiled in a “<strong>Substance abuse</strong>” category, based on a data broker profile built with RTB data. Other health condition profiles from the same data broker available via Google included “<strong>Diabetes</strong>”,&nbsp; “<strong>Chronic Pain</strong>”, and “<strong>Sleep Disorders</strong>”. <a href="https://www.iccl.ie/wp-content/uploads/2020/09/1.-Submission-to-Data-Protection-Commissioner.pdf#page=6" target="_blank" rel="noreferrer noopener">See page 6</a>.&nbsp;<br>&nbsp;</li><li>The IAB’s RTB system allows users to target 1,300 people in Ireland profiled in a “<strong>AIDS &amp; HIV</strong>” category, based on a data broker profile build with RTB data. Other categories from the same data broker include “<strong>Incest &amp; Abuse Support</strong>”, “<strong>Brain Tumor</strong>”, “<strong>Incontinence</strong>”, and “<strong>Depression</strong>”.&nbsp;<a href="https://www.iccl.ie/wp-content/uploads/2020/09/1.-Submission-to-Data-Protection-Commissioner.pdf#page=6" target="_blank" rel="noreferrer noopener">See page 6</a>.&nbsp;<br>&nbsp;</li><li>A data broker that gathers RTB data tracked <strong>the movements of people in Italy</strong> to see if they observed the <strong>Covid-19 lockdown</strong>. <a href="https://www.iccl.ie/wp-content/uploads/2020/09/1.-Submission-to-Data-Protection-Commissioner.pdf#page=11" target="_blank" rel="noreferrer noopener">See page 11-12</a>.&nbsp;<br></li><li>A data broker that illicitly <strong>profiled Black Lives Matters protesters</strong> in the United States has also been allowed to gather <strong>RTB data about Europeans</strong>. <a href="https://www.iccl.ie/wp-content/uploads/2020/09/1.-Submission-to-Data-Protection-Commissioner.pdf#page=9" target="_blank" rel="noreferrer noopener">See page 9</a>.&nbsp;<br>&nbsp;</li><li>The industry template for profiles includes intimate personal characteristics such as “<strong>Infertility</strong>”, “<strong>STD</strong>”, and “<strong>Conservative</strong>” politics. <a href="https://www.iccl.ie/wp-content/uploads/2020/09/1.-Submission-to-Data-Protection-Commissioner.pdf#page=13" target="_blank" rel="noreferrer noopener">See pages 13-15</a>.&nbsp;<br>&nbsp;</li><li>RTB is the most massive data breach yet recorded, involving millions of websites and apps, and hundreds of billions of individual data leaks per day. Google’s RTB system now <strong>sends people’s private data to more companies</strong>, and <strong>from more websites than when the DPC was notified two years ago</strong>. A single ad exchange using the IAB RTB system now sends 120 billion RTB broadcasts in a day, an <strong>increase of 140% over two years ago when the DPC was notified</strong>. <a href="https://www.iccl.ie/wp-content/uploads/2020/09/1.-Submission-to-Data-Protection-Commissioner.pdf#page=16" target="_blank" rel="noreferrer noopener">See pages 16-18</a>.</li></ul>















<figure><img loading="lazy" width="1024" height="576" src="https://www.iccl.ie/wp-content/uploads/2020/09/onaudience-1024x576.png" alt="" srcset="https://www.iccl.ie/wp-content/uploads/2020/09/onaudience-1024x576.png 1024w, https://www.iccl.ie/wp-content/uploads/2020/09/onaudience-300x169.png 300w, https://www.iccl.ie/wp-content/uploads/2020/09/onaudience-768x432.png 768w, https://www.iccl.ie/wp-content/uploads/2020/09/onaudience-1536x864.png 1536w, https://www.iccl.ie/wp-content/uploads/2020/09/onaudience.png 1920w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><em>Image: a sample from data broker “OnAudience”, showing that 2,300 people in Ireland have been classified as suffering chronic pain, and can be purchased via Google’s RTB system, or through the IAB’s RTB system using The Trade Desk or Ad Form. Another sample shows that 200 people in Ireland have been classified as being interested in “Incest &amp; Abuse Support”.&nbsp;</em></figcaption></figure>



<h3>Video: the RTB privacy crisis </h3>



<figure><p>
<iframe title="The biggest data breach in history: Real-Time Bidding" src="https://player.vimeo.com/video/451973748?dnt=1&amp;app_id=122963" width="500" height="281" frameborder="0" allow="autoplay; fullscreen" allowfullscreen=""></iframe>
</p><figcaption><a href="https://vimeo.com/451973748" target="_blank" rel="noreferrer noopener">Video: Overview of the RTB Privacy Crisis</a></figcaption></figure>




</div></article></main></div></div></div></div>]]>
            </description>
            <link>https://www.iccl.ie/human-rights/info-privacy/rtb-data-breach-2-years-on/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24547540</guid>
            <pubDate>Mon, 21 Sep 2020 19:38:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust 2021 – Ethical Development]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24547276">thread link</a>) | @llogiq
<br/>
September 21, 2020 | https://llogiq.github.io/2020/09/21/ethics.html | <a href="https://web.archive.org/web/*/https://llogiq.github.io/2020/09/21/ethics.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<header></header>
<section>
<article>
  
  <p>
    <time datetime="2020-09-21 00:00:00 +0000">
      21 September 2020
    </time>
  </p>

  <p>This is my Rust 2021 post. I believe that Rust has shown that “bending the curve” is
both possible and fruitful in programming language design. We also have a strong set
of values as a community, enshrined both in the <a href="https://www.rust-lang.org/policies/code-of-conduct">Code of Conduct</a> and the example of
various high-profile rustaceans.</p>

<p>For 2021 I really couldn’t care less what features go into the next edition. Don’t
get me wrong, I want the next edition to be awesome, but I believe this is table
stakes by now. I want us to take on the harder problems.</p>

<p>I want us to grow as a community, and I don’t mean that in a population count sense.
This is what I meant when I snarkily wrote “Less doing the wrong thing, safely”. The
keyword here is <em>ethical development</em>. Just like the Rust programming language has a
set of vaues, a set of tradeoffs between them, and a set of bent curves where we
found a place in the design space that lets us have our cake and eat it where this
was a formerly accepted tradeoff, I want the Rust community to have a shared set of
values, a shared set of tradeoffs between them, and as much bent curves as possible.</p>

<p>Now what I mean by ‘values’ obviously differs when I talk about programming language
design or a programming language community. For language design, the values can
contain execution speed, productivity, safety, learnability and so on. For software
ethics values may be inclusion and diversity, welfare for all people, privacy,
freedom, lawfulness, friendlyness and hospitality, integrity, humor, and a lot more.
Some of them are by now well-known and have seen implementations, for example
privacy. But how might we hope to encode e.g. hospitality?</p>

<p>There are a few hard questions to ask, and I won’t cover everything here, but I’ll
give you a few examples of things the Rust community will have to face at some
point:</p>

<ul>
  <li>I have heard reports of companies treating their Rust developers badly. As if
using Rust should make up for abuse by an employer. This is obviously unacceptable,
and we should call out instances wherever we find them. Such employers should not
be considered part of the community (Names withheld to protect the innocent)</li>
  <li>Rust is still hosted on github, a company that has a contract with ICE, a
institution that has proven to act out genocide against immigrants in the US. For
now, we act as if this doesn’t affect us and have the mod team quell all
discussion. I’m having a hard time bringing this up after having personally
removed discussion about it on /r/rust. But while we don’t want the drama to
continue, and expressly wish this point not to debated in the replies, we as a
community need to tackle this problem</li>
  <li>I’m still not writing that “why we shouldn’t write more blockchains in Rust”
article just yet, but as I’ve written before, Blockchain tech hasn’t showed much
benefit to society just yet while binding a lot of resources and burning through a
lot of electricity (obviously proof of stake is better than proof of work in that
regard, but being better than the worst thing doesn’t make something good), thus
hastening the climate crisis</li>
</ul>

<p>So here’s my suggestions: I want an Ethics WG, tasked with both researching and
teaching Rustic Software Ethics. With the above examples, I hope to have given a
useful set of initial work items for that group.</p>


</article>

</section>

</div></div>]]>
            </description>
            <link>https://llogiq.github.io/2020/09/21/ethics.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24547276</guid>
            <pubDate>Mon, 21 Sep 2020 19:17:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mainline Linux on the MikroTik RB3011]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24547067">thread link</a>) | @edward
<br/>
September 21, 2020 | https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html | <a href="https://web.archive.org/web/*/https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <p>I upgraded my home internet connection to fibre (FTTP) <a href="https://www.earth.li/~noodles/blog/2019/10/native-ipv6-fttp.html">last October</a>. I’m still on an 80M/20M service, so it’s no faster than my old VDSL FTTC connection was, and as a result for a long time I continued to use my HomeHub 5A running <a href="https://openwrt.org/">OpenWRT</a>. However the FTTP ONT meant I was using up an additional ethernet port on the router, and I was already short, so I ended up with a GigE switch in use as well. Also my wifi is handled by a <a href="https://unifi-network.ui.com/">UniFi</a>, which takes its power via Power-over-Ethernet. That mean I had a router, a switch and a PoE injector all in close proximity. I wanted to reduce the number of devices, and ideally upgrade to something that could scale once I decide to upgrade my FTTP service speed.</p>

<p>Looking around I found the <a href="https://mikrotik.com/product/RB3011UiAS-RM">MikroTik RB3011UiAS-RM</a>, which is a rack mountable device with 10 GigE ports (plus an SFP slot) and a dual core <a href="https://www.qualcomm.com/products/ipq8064">Qualcomm IPQ8064</a> ARM powering it. There’s 1G RAM and 128MB NAND flash, as well as a USB3 port. It also has PoE support. On paper it seemed like an ideal device. I wasn’t particularly interested in running RouterOS on it (the provided software), but that’s based on Linux and there was some work going on within OpenWRT to add support, so it seemed like a worthwhile platform to experiment with (what, you expected this to be about me buying an off the shelf device and using it with only the supplied software?). As an added bonus a friend said he had one he wasn’t using, and was happy to sell it to me for a bargain price.</p>

<p><img alt="RB3011 router in use" src="https://www.earth.li/~noodles/blog/images/2020/rb3011.jpg"></p>

<p>I did try out RouterOS to start with, but I didn’t find it particularly compelling. I’m comfortable configuring firewalling and routing at a Linux command line, and I run some additional services on the router like my <a href="https://www.earth.li/~noodles/blog/2018/05/mqtt-broker.html">MQTT</a> broker, and <a href="https://www.earth.li/~noodles/blog/2018/09/netlink-arp-presence.html">mqtt-arp</a>, my wifi device presence monitor. I could move things around such that they ran on the <a href="https://www.earth.li/~noodles/blog/2019/07/upgrading-the-house-server.html">house server</a>, but I consider them core services and as a result am happier with them on the router.</p>

<p>The first step was to get something booting on the router. Luckily it has an RJ45 serial console port on the back, and a reasonably featured bootloader that can manage to boot via tftp over the network. It wants an ELF binary rather than a plain kernel, but Sergey Sergeev had done the hard work of getting <a href="https://github.com/adron-s/uboot-ipq806x">u-boot working for the IPQ8064</a>, which mean I could just build normal u-boot images to try out.</p>

<p>Linux upstream already had basic support for a lot of the pieces I was interested in. There’s a slight fudge around <code>AUTO_ZRELADDR</code> because the network coprocessors want a chunk of memory at the start of RAM, but there’s ongoing discussions about how to handle this cleanly that I’m hopeful will eventually mean I can drop that hack. Serial, ethernet, the QCA8337 switches (2 sets of 5 ports, tied to different GigE devices on the processor) and the internal NOR all had drivers, so it was a matter of crafting an appropriate DTB to get them working. That left niggles.</p>

<p>First, the second switch is hooked up via SGMII. It turned out the IPQ806x <code>stmmac</code> driver didn’t initialise the clocks in this mode correctly, and neither did the <code>qca8k</code> switch driver. So I need to fix up both of those (Sergey had handled the stmmac driver, so I just had to clean up and submit his patch). Next it turned out the driver for talking to the Qualcomm firmware (SCM) had been updated in a way that broke the old method needed on the IPQ8064. Some git archaeology figured that one out and provided a solution. Ansuel Smith helpfully provided the DWC3 PHY driver for the USB port. That got me to the point I could put a Debian armhf image onto a USB stick and mount that as root, which made debugging much easier.</p>

<p>At this point I started to play with configuring up the device to actually act as a router. I make use of a number of VLANs on my home network, so I wanted to make sure I could support those. Turned out the stmmac driver wasn’t happy reconfiguring its MTU because the IPQ8064 driver doesn’t configure the FIFO sizes. I found what seem to be the correct values and plumbed them in. Then the <code>qca8k</code> driver only supported port bridging. I wanted the ability to have a trunk port to connect to the upstairs switch, while also having ports that only had a single VLAN for local devices. And I wanted the switch to handle this rather than requiring the CPU to bridge the traffic. Thankfully it’s easy to find a copy of the QCA8337 datasheet and the kernel <a href="https://www.kernel.org/doc/html/latest/networking/dsa/index.html">Distributed Switch Architecture</a> is pretty flexible, so I was able to implement the necessary support.</p>

<p>I stuck with Debian on the USB stick for actually putting the device into production. It makes it easier to fix things up if necessary, and the USB stick allows for a full Debian install which would be tricky on the 128M of internal NAND. That means I can use things like <a href="https://wiki.nftables.org/">nftables</a> for my firewalling, and use the standard Debian packages for things like <a href="https://collectd.org/">collectd</a> and <a href="https://mosquitto.org/">mosquitto</a>. Plus for debug I can fire up things like tcpdump or tshark. Which ended up being useful because when I put the device into production I started having weird IPv6 issues that turned out to be a lack of proper Ethernet multicast filter support in the IPQ806x ethernet device. The driver would try and setup the multicast filter for the IPv6 NDP related packets, but it wouldn’t actually work. The fix was to fall back to just receiving all multicast packets - this is what the vendor driver does.</p>

<p>Most of this work will be present once the 5.9 kernel is released - the basics are already in 5.8. Currently not queued up that I can think of are the following:</p>

<ul>
  <li>stmmac IPQ806x FIFO sizes. I sent out an RFC patch for these, but didn’t get any replies. I probably just need to submit this.</li>
  <li>NAND. This is missing support for the QCOM ADM DMA engine. I’ve sent out the patch I found to enable this, and have had some feedback, so I’m hopeful it will get in at some point.</li>
  <li>LCD. AFAICT LCD is an ST7735 device, which has kernel support, but I haven’t spent serious effort getting the SPI configuration to work.</li>
  <li>Touchscreen. Again, this seems to be a zt2046q or similar, which has a kernel driver, but the basic attempts I’ve tried don’t get any response.</li>
  <li>Proper SFP functionality. The IPQ806x has a PCS module, but the stmmac driver doesn’t have an easy way to plumb this in. I have ideas about how to get it working properly (and it can be hacked up with a fixed link config) but it’s not been a high priority.</li>
  <li>Device tree additions. Some of the later bits I’ve enabled aren’t yet in the mainline RB3011 DTB. I’ll submit a patch for that at some point.</li>
</ul>

<p>Overall I consider the device a success, and it’s been entertaining getting it working properly. I’m running a mostly mainline kernel, it’s handling my house traffic without breaking a sweat, and the fact it’s running Debian makes it nice and easy to throw more things on it as I desire. However it turned out the RB3011 isn’t as perfect device as I’d hoped. The PoE support is passive, and the UniFi wants 802.1af. So I was going to end up with 2 devices. As it happened I picked up a cheap <a href="https://eu.dlink.com/uk/en/products/dgs-1210-series-gigabit-smart-plus-switches">D-Link DGS-1210-10P</a> switch, which provides the PoE support as well as some additional switch ports. Plus it runs Linux, so more on that later…</p>

  </article></div>]]>
            </description>
            <link>https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24547067</guid>
            <pubDate>Mon, 21 Sep 2020 18:57:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tweet threads cured my writer's block: Twitter as a medium for sketching]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24546469">thread link</a>) | @pcr910303
<br/>
September 21, 2020 | https://www.geoffreylitt.com/2020/09/21/twitter-and-media-for-sketching.html | <a href="https://web.archive.org/web/*/https://www.geoffreylitt.com/2020/09/21/twitter-and-media-for-sketching.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Twitter is a powerful <b>medium for sketching</b>: a tool for fluidly developing ideas in realtime. What can we learn from its design? I think it shows us the power of 1) the right constraints, 2) low barriers to starting and finishing, and 3) a social context.</p><div><figure>
  <img src="https://www.geoffreylitt.com/images/article_images/sketching.jpg?1600706839" alt="A hand sketching on a notebook">
  <figcaption>Photo by <a href="https://unsplash.com/photos/8DTIQ_Klxho">Keith Pitts on Unsplash</a></figcaption>
</figure>

<p>Writing is…hard. Like most aspiring bloggers, my folders of drafts and my dreams of future prolificness outweigh my actual output.</p>

<p>I’ve found a curious trick for getting over this hurdle, though: writing tweet threads. I’ve published many little bursts of tweets about topics I’m curious about:</p>

<ul>
<li><a href="https://twitter.com/geoffreylitt/status/1272542423001022467">connections between change in physical architecture and software</a></li>
<li><a href="https://twitter.com/geoffreylitt/status/1250443671020986368">pondering Airtable’s macro system</a></li>
<li><a href="https://twitter.com/geoffreylitt/status/1177607448682582016">the danger of “app-ifying” spreadsheets</a></li>
<li><a href="https://twitter.com/geoffreylitt/status/1258769298862100483">digging into the history of Applescript</a></li>
</ul>

<p>These are exactly the kinds of things I’d like to blog about! But somehow, I’ve found it 10 times easier to publish the tweet threads.</p>

<p>I can hear you groaning already. Of course tweeting is easier than writing, you dummy! Our minds are being driven into the meat grinder 280 characters at a time, as we replace deep logical thought with aphorisms and memes. Twitter is PowerPoint thinking on steroids.</p>

<p>But I think this dismissive response misses the point. We can’t really understand Twitter by treating it as a mediocre replacement for essays and research papers. We need to see it as a new medium on its own terms. In particular, <strong>Twitter is a medium for <em>sketching</em></strong>—for playing with ideas, on the fly. Twitter is more similar to scribbling on a whiteboard or tossing ideas around at the cafe than writing a book. (By sketching I don’t mean literally just drawing; I mean any lightweight early expression of a thought.)</p>

<p>Why does Twitter work so well for this? Here are some of my theories:</p>

<ul>
<li><strong>The right constraints</strong>: Good sketching tools provide the right limits on what you can do. Twitter’s constraints go beyond the obvious character count.</li>
<li><strong>Low barriers</strong>: Twitter makes it easy to get started. But, crucially, it also makes it easy to <em>finish</em>!</li>
<li><strong>A social context</strong>: Twitter provides a highly interconnected context for thinking. Should we be worried it takes it too far?</li>
</ul>

<p>By reflecting on these properties, I think we can gain some insight not just into Twiter specifically, but also the broader landscape of tools for thinking. Let’s dive in.</p>

<h2 id="the-right-constraints">The right constraints</h2>

<p>Thinking about big new things is hard, and our brains are good at finding ways to weasel out of the job by finding something easier to do, but still plausibly productive. Unfortunately, in the early stages of sketching out an idea, such distractions abound: worrying about word choice in the last paragraph instead of writing the next one, futzing with the font size, making a new blog system instead of writing the damn blog post.</p>

<p>We can try to avoid these temptations, but an easier route is to simply find tools that don’t allow have the temptations in the first place. <strong>This is a key property of good sketching tools: they provide the right constraints.</strong></p>

<h3 id="tiny-linear-atomic-outlines">Tiny, linear, atomic outlines</h3>

<p>Let’s examine a few of Twitter’s valuable constraints.</p>

<p>Start with the obvious one: <strong>the 280 character limit</strong>. Twitter’s main constraint is encouraging concision. It’s hard to dwell on word choice when you have so little space to work with. Twitter’s conversational tone also helps here—I can just <a href="http://www.paulgraham.com/talk.html">write like I talk</a>, and any fancy words would seem out of place. And of course, I can’t tweak fonts and margins, which cuts off a distraction vector.</p>

<p>But threads complicate the story of character limits a bit. The limit isn’t really that your entire point must fit into one tweet—it’s that <strong><em>each</em> of your individual points must squeeze under the limit</strong>. This provides a different useful constraint: each idea has to be wrapped in a little atomic package. I find this helpful for figuring out the boundaries between my thoughts and clarifying the discrete units of an argument.</p>

<p>That constraint sort of resembles the benefits of an outlining tool. But Twitter has another constraint: <strong>a thread is linear</strong>! No indenting allowed. This forces a brisk straightline through the argument, instead of getting mired in the fine points of the sub-sub-sub-arguments of the first idea. Very limiting, but simultaneously freeing.</p>

<p>Taken together, these constraints frame the pros and cons of the medium, its appropriate range of usage. Obviously, writing a book in a single-level outline would be foolish, but it works for a rough sketch. More interestingly, I think Twitter is useless for persuading a skeptical reader; there’s simply not space for providing enough detail and context. This is a common property of media for sketching: the initial mockup isn’t impressive enough to sway a user, even if it’s a useful tool for the internal team. I prefer to use Twitter as a way to workshop ideas with sympathetic parties who already have enough context to share my excitement about the ideas.</p>

<p>Perhaps there’s a general principle here: Twitter is good for sketching ideas for the same reasons it’s bad for fully developing them. You can’t accidentally start writing a book in Twitter, and that’s kind of the point.</p>

<h3 id="the-puzzle-of-constraints">The puzzle of constraints</h3>

<p>In general, what are the <em>right</em> constraints for a sketching tool? I think this question is deeper than it seems at first glance.</p>

<p>You might say something like “only offer the minimum fidelity needed to convey the point,” but I think it’s not obvious how to define that minimum level. <a href="https://basecamp.com/shapeup/1.3-chapter-04#fat-marker-sketches">Sketching with a fat marker</a> can prevent us from getting too detailed with our drawings; <a href="https://museapp.com/">Muse</a>, which I’ve been using for iPad sketching recently, intentionally limits your ink choices to just a few colors.</p>

<p>This works great for certain kinds of thinking and mockups. But for designing new interactions with animation and physics, we need <a href="http://notebook.maryrosecook.com/Prototypingtools.html">a totally different class of tools</a> with more capabilities! The line between essential and spurious depends on the goal.</p>

<p>Providing the right constraints isn’t always a matter of removing. It can require adding advanced capabiliites too, like this <a href="https://distill.pub/2017/aia/">typeface design tool</a> that uses fancy machine learning to provide a few simple knobs for controlling things like “bold.” It doesn’t let you move individual vector points, but instead lets you operate at a more natural level of abstraction.</p>

<p>If you’re not careful, constraints can easily damage fluidity—as <a href="http://gordonbrander.com/pattern/brick-pencil/">Engelbart showed</a>, tying a brick to a pencil does not yield a productive tool.</p>

<figure>
<img src="https://www.geoffreylitt.com/images/article_images/engelbart-brick-pencil.jpg?1600706839">
<figcaption>Surprise, surprise: writing with a “brick pencil” makes it harder to think big thoughts</figcaption>
</figure>

<p>Overall, it seems that we want constraints that help keep us on track with fluid thought, but don’t rule out too many interesting possibilities. Considering both of these criteria together is a subtle balancing act, and I don’t see easy answers.</p>

<h2 id="low-barriers">Low barriers</h2>

<p>There’s a <strong>low barrier to starting</strong> on Twitter. Just click a button, type a thought, no need to spend a minute remembering how to start my blog server. Often, that first minute of friction is enough to prevent me from getting into the flow of writing.</p>

<p>But the more interesting phenomenon is the <strong>low barrier to finishing</strong>. On Twitter, a single sentence is a completely acceptable unit of publication. Anything beyond that is sort of a bonus. In contrast, most of my blog posts go unpublished because I fear they’re not complete, or not good enough in some dimension. These unpublished drafts are obviously far more complete than a single tweet, but because they’re on a blog, they don’t feel “done,” and it’s hard to overcome the fear of sharing.</p>

<p>This seems like a crucial part of sketching tools: when you make a sketch, it should be understood that your idea is immature, and feel safe to share it in that state. <strong>There’s a time and a place for polished, deeply thorough artifacts… and it’s not Twitter!</strong> Everyone knows you just did a quick sketch.</p>

<p>I believe that quantity leads to quality. <a href="https://kottke.org/09/02/art-and-fear">The students who make more pots in ceramics class improve faster than the students who obsess over making a single perfect pot</a>. A tool with a built-in low barrier to finishing makes it easier to overcome the fear, do more work, and share it at an earlier stage.</p>



<p>In my experience, sketching always requires a delicate dance between individual thought and collaboration. You sketch to clarify something for yourself, but also to communicate with others. I think a good sketching medium should account for both halves of the process.</p>

<p>Writing a blog can feel like a lonely one-way mirror: release something into the world, maybe get a few comments back and some Hacker News snark. In contrast, <strong>Twitter is a bazaar, buzzing with activity</strong>. The engagement ratio is totally different. You can easily have micro-conversations around individual points in a thread. When the same people start showing up time after time, it starts to feel like <a href="https://twitter.com/simonsarris/status/1270744181313503234">seeing acquaintances in a village</a>. On Twitter, I write for my Twitter friends, not for some amorphous crowd.</p>

<p>At its best, this engagement leads to the kind of back-and-forth that characterizes my favorite kinds of sketching sessions. Ideas are in the air, it’s not clear where they came from really, they combine to form new ones in realtime. For me, Twitter does an oddly good job at simulating the thrilling creative energy of a whiteboarding session. People pop in and out of the conversation offering insights; trees and sub-trees form riffing off of earlier points.</p>

<p>Of course, my feeling of safety here presumes healthy engagement from other parties, a privilege not enjoyed by all. I suppose it’s kind of odd that such a globally public medium is suitable at all for sketching—it seems only possible because I’ve found safe, trusting mini-communities, defined by informal and permeable boundaries. Perhaps a more private Twitter would be even better for sketching, although it might cut out new people from entering the conversation?</p>



<p>In an attempt to <em>sketch</em> more in the blog medium, I just whipped up this blog post in a couple hours, so I don’t really have a grand conclusion. And yet I’m still hitting …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.geoffreylitt.com/2020/09/21/twitter-and-media-for-sketching.html">https://www.geoffreylitt.com/2020/09/21/twitter-and-media-for-sketching.html</a></em></p>]]>
            </description>
            <link>https://www.geoffreylitt.com/2020/09/21/twitter-and-media-for-sketching.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24546469</guid>
            <pubDate>Mon, 21 Sep 2020 18:02:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signposts for “when to hire more QA testers”]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 56 (<a href="https://news.ycombinator.com/item?id=24546260">thread link</a>) | @ohjeez
<br/>
September 21, 2020 | https://www.functionize.com/blog/8-ways-to-know-that-its-time-to-hire-a-new-qa-tester/ | <a href="https://web.archive.org/web/*/https://www.functionize.com/blog/8-ways-to-know-that-its-time-to-hire-a-new-qa-tester/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img width="1080" height="634" src="https://3laqvw22wekb3ykm8z4dbnq8-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester.jpg" alt="8 ways to know that it’s time to hire a new QA tester" srcset="https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester.jpg 1080w, https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester-300x176.jpg 300w, https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester-1024x601.jpg 1024w, https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester-768x451.jpg 768w" sizes="(max-width: 1080px) 100vw, 1080px">      </p>	  
    
        <blockquote><p>You want top-quality software, sure. But when is it time to increase the size of the testing team, so that you can deliver said top-quality software? Glad you asked.</p></blockquote>
<p>QA testers are part investigative reporter, part janitor—and all important to the user experience. That’s because the testers’ role is to hunt for untidy coding and to ensure that any user interaction with your software is free from error. As a result, every company worth its engineering chops knows it needs QA testers to do this crucial, sometimes dirty, work. The issue is: When do you bring on new people? How do you know it’s time to hire another QA professional?</p>
<p>In a perfect world, there would be a formula, like “hire one software tester for every five developers,” that is, runs <code>numQATesters = (numDevs+numFeatures)/(5+weWroteTests)</code>. But as life (and code) is imperfect, I came up with a few simple guidelines to justify your budget request.</p>
<p>Don’t thank me. A streamlined user experience is thanks enough.&nbsp;Particularly when it’s <em>your</em> software that I’m using.</p>
<h3>When your software is buggy</h3>
<p>Bugs are annoying yet inevitable errors that range from low priority (font change, alignment issues in text) to “Call the crisis PR team, stat!” (such as loss or exposure of data). And as we all know, a single critical flaw can result in customer dissatisfaction and a high bill from your crisis PR team. Or from the lawyers.</p>
<p>Jennifer Willy, editor of <a href="https://etia.com/" target="_blank" rel="noopener noreferrer">Etia.com</a>, considers bug complaints and customer issues a call to action, where the action is hiring a new QA tester. “User experience is vital. When you are faced with a situation like this, it is important to rely on good testers.” Hiring excellent testing staff both helps you <a href="https://www.functionize.com/blog/6-ways-to-improve-your-debugging-skills/">unravel the buggy situation</a> and also brings about a positive change in the software development process, Willy says.</p>
<p>(Of course, the lack of testers is one possible reason the software got into that sorry state. But that’s another discussion.)</p>
<p><em>Recommended hire</em>: A careful QA tester who can find bugs and other errors that the development team has overlooked. A QA with the patience of a saint, specifically Saint Monica, the saint most associated with patience.</p>
<h3>When your QA team is backlogged</h3>
<p>Christian Lavender, chief product officer of vehicle refinancing platform <a href="https://www.rategenius.com/" target="_blank" rel="noopener noreferrer">RateGenius</a>, says that it’s time to take on a new team member when QA can’t keep up with developer output. “You can hire more engineers to get projects built faster, but if your team doesn’t have the bandwidth to test releases, they’ll just sit in the QA backlog.”</p>
<p>If your developers produce more code than you can thoroughly test in a reasonable amount of time before your QA team drowns in <a href="https://www.functionize.com/blog/the-icky-sticky-tale-of-test-case-management/">a sea of test cases</a>, it’s time to consider pinging HR. Do so sooner rather than later, because as Lavender says, “When there’s a bottleneck in QA, it ripples across the company.”</p>
<p><em>Recommended hire</em>: An octopus. During crunch time, eight hands are better than two.</p>
<h3>When your QA staff is overworked</h3>
<p>If your QA department is working overtime, on weekends, and are called in during holidays, it means they’re handling an unusually heavy load. And if you overwork your QA staff, there’s no telling if your application’s name fields will accept <a href="https://www.cnet.com/news/how-elon-musk-pronounces-x-ae-a-12-his-new-sons-name/" target="_blank" rel="noopener noreferrer">user names like “X Æ A-12.”</a></p>
<p>“If you find that you’re spending more and more time testing than necessary, then you know it might be worth considering hiring a new QA tester,” says <a href="https://www.linkedin.com/in/colinlma/">Colin Ma</a>, founder of Makujin Media and a former director of engineering.</p>
<p><em>Recommended hire</em>: A QA tester who knows how to tap out when pinned to a wrestling mat.&nbsp;A QA who would never name their child X AE A-12.</p>
<h3>When you expand your application platforms</h3>
<p>Your QA team excels at what it does, and what it does is testing desktop software. But what happens <a href="https://www.functionize.com/blog/the-mobile-testing-gotchas-you-need-to-know-about/">when your users access your site on their cell phones</a>?</p>
<p>Your customer base should drive your next hire, says Lavender. “What devices do they use? What browser versions are they on? Are they on tablet, mobile, or desktop? Looking at all those breakdowns would drive you to the methods your QA team would use and what the specialties they would need.”</p>
<p><em>Recommended hire</em>: Someone who specializes in banking apps on iOS devices from versions 10 to 13 using Firefox versions 78 through 82, but only on Tuesdays during a full moon. Someone who <a href="https://www.functionize.com/blog/what-testers-should-know-about-domain-knowledge/">specializes in every other testing scenario</a>, too.</p>
<h3>When your QA team asks you to</h3>
<p>You’re in the software planning phase, and the project manager is laying out the scope of work. Joining you in the room is your QA team lead. Looking at the project, they say it straight up: “We need to hire more testers.”</p>
<p>Egor Bulyhin, project manager and team lead at consulting firm <a href="https://smart-it.com/" target="_blank" rel="noopener noreferrer">Smart IT</a>, says a good QA professional lets you know when work is beyond even their leet skillz. Part of a professional’s skill set is knowing their own limitations, including when they need more people to maintain a steady flow of approved features. It’s up to you to see that they get what they need (unless they need an early retirement).</p>
<p><em>Recommended hire</em>: A QA tester who isn’t afraid to tell you that you need a new hire. A QA tester who isn’t afraid to tell you that your fly is unzipped.</p>
<h3>When you need to keep your customer’s data secure</h3>
<p>Some testing specialties are less about platforms than reliability – including software security. Do you have someone qualified to find application vulnerabilities during testing?</p>
<p>When it comes to sensitive information, you need a higher level of either data or application integrity, Ma says. “One issue could be costly.” Issues include breach of trust or regulatory infractions that result in fines. If your product requires rock-solid data integrity, such as banking applications, you need a tester with relevant experience.</p>
<p>Even if you’re outside a regulatory regime, like the EU’s GDPR, you may still need to comply with it if you support EU customers. Also, have you ever read the term “data breach” in a feel-good piece? No, I didn’t think so.</p>
<p><em>Recommended hire</em>: Someone who knows what the acronym <a href="https://gdpr-info.eu/" target="_blank" rel="noopener noreferrer">GDPR</a> stands for. Someone who winces when you say “<a href="https://www.scmagazine.com/home/security-news/whats-really-changed-three-years-after-equifax-breach/" target="_blank" rel="noopener noreferrer">Equifax</a>.”</p>
<h3>When you need someone in a leadership position</h3>
<p>Let’s say your QA team has been working together for months, and each member excels at the job they’ve always done. But the work is piecemeal, with no cohesion or strategy. It’s time to hire someone with leadership abilities.</p>
<p>Jessica Salter, people operations manager of <a href="https://www.bestresponsemedia.co.uk/" target="_blank" rel="noopener noreferrer">Best Response Media</a>, needed someone who could create guidelines for future best practices. In making the hire, the key attribute was finding someone in a leadership position “to help us establish a strategy and implement new ways of working.” This particular hire should have management experience, to mentor the current QA team and set them up for future success.</p>
<p><em>Recommended hire</em>: Someone who has a plan for future strategies. And might know future lottery numbers.</p>
<h3>When your business is growing</h3>
<p>Maybe your application is getting new functionality. Or perhaps you’re developing an entire new product line. Or your business is among those <a href="https://www.nytimes.com/2020/09/08/style/guitar-sales-fender-gibson.html?fbclid=IwAR39kZlhJCKPqaUmzO9Ix18hFklDs-dnN1M7-yytGPT7EPD6Z4e4drgUY7E" target="_blank" rel="noopener noreferrer">getting a sales boost due to the pandemic</a>, which means it’s time to take on long-delayed projects.</p>
<p>Whatever the reason: On your to-hire list are several new developers. Make sure you add to this list a new QA professional, or you may experience that deadline-slaying backlog mentioned above.</p>
<p>Bulyhin likes to hire QA staff members before a new project begins, so he can onboard them before work ramps up in earnest. More importantly, he works with them to <a href="https://www.functionize.com/blog/the-best-qa-job-interview-questions-for-managers-to-ask/">make sure the new QA hire</a> has the skills they need for this particular job. This way, they both can achieve their work goals.</p>
<p>Recommended hire: Someone who has been there, done that, and <a href="https://duckduckgo.com/?q=%2522quality+assurance%2522+t-shirts&amp;atb=v63-1&amp;iar=images&amp;iax=images&amp;ia=images" target="_blank" rel="noopener noreferrer">has the t-shirts</a>. Very likely, the t-shirt reads, “A QA tester walks into a bar. Orders a beer. Orders 3.33 beers. Orders null beers. Orders &amp;@% beers.”</p>
<blockquote><p>Whomever you hire, surely you want someone with a steady grasp on <a href="https://www.functionize.com/project/getting-started-with-test-automation/">test automation essentials</a>? Our white paper gives you the basics.</p></blockquote>
<div>
<div>
<p><img src="https://3laqvw22wekb3ykm8z4dbnq8-wpengine.netdna-ssl.com/wp-content/uploads/2020/01/author-Carol-Pinchefsky.jpg"></p>
<div>
<p>by Carol Pinchefsky</p>
<p>Carol Pinchefsky is a freelance writer who writes about technology, science, and geek culture. She lives in New York City with her husband and their books. She can also be found on <a href="https://twitter.com/CarolPinchefsky"> Twitter</a>, <a href="https://www.facebook.com/CarolPinchefsky/">Facebook</a> and <a href="http://carolpinchefsky.com/">carol pinchefsky.com</a></p>
</div>

</div>
</div>
  </div></div>]]>
            </description>
            <link>https://www.functionize.com/blog/8-ways-to-know-that-its-time-to-hire-a-new-qa-tester/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24546260</guid>
            <pubDate>Mon, 21 Sep 2020 17:43:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yoga instructor is fighting the rise of QAnon in the wellness community]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24546235">thread link</a>) | @colinprince
<br/>
September 21, 2020 | https://www.cbc.ca/radio/asithappens/this-yoga-instructor-is-fighting-the-rise-of-qanon-in-the-wellness-community-1.5728153 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/asithappens/this-yoga-instructor-is-fighting-the-rise-of-qanon-in-the-wellness-community-1.5728153">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Seane Corn never thought her duties as yoga instructor would one day include warning&nbsp;people about the dangers of international right-wing conspiracy theories.</p><div><figure><div><p><img alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5728482.1600375194!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/seane-corn.jpg"></p></div><figcaption>Seane Corn is an L.A. yoga teacher and Instagram influencer who is part of pushback against proliferation of QAnon conspiracy theories in the wellness space. <!-- --> <!-- -->(Norman Seeff)</figcaption></figure><p><span></span><span>Listen</span><span>7:02</span></p><p><span><p><a href="https://www.cbc.ca/radio/asithappens/as-it-happens-thursday-edition-1.5728151/september-17-2020-episode-transcript-1.5730632">Read Story Transcript</a></p>  <p>Seane Corn never thought her duties as yoga instructor would one day include warning&nbsp;people about the dangers of an international right-wing conspiracy theory.</p>  <p>The Los Angeles&nbsp;yoga teacher is one of several high-profile&nbsp;Instagram influencers using their platforms to combat the rise of the QAnon conspiracy theory in wellness spaces.&nbsp;</p>  <p>"I just didn't think that I would be having to talk about things like a cabal of people in the U.S. that are kidnapping children and drinking their blood to gain power," Corn told <em>As It Happens </em>host Carol Off.</p>  <p>"I never thought that this would be a conversation I would have to have with my community to say, like, 'This isn't true. This isn't happening. Please use more discernment.'"</p>    <p>QAnon&nbsp;is a conspiracy theory that&nbsp;posits that&nbsp;U.S. President Donald Trump is secretly fighting an international&nbsp;cabal of Satan-worshipping, leftist elites&nbsp;who are&nbsp;running a global child sex trafficking&nbsp;ring.</p>  <p>It tends to overlap with conspiracy theories that involve anti-vaccination and anti-mask beliefs, and has roots in anti-Semitism and white supremacy.&nbsp;</p>  <p>Once relegated to the fringes of the internet, QAnon has&nbsp;recently made its way into more mainstream spaces. QAnon supporter&nbsp;Marjorie Taylor Greene recently<a href="https://www.cbc.ca/news/world/us-primaries-greene-omar-1.5683022a"> won the Republican nomination in Georgia's primary race</a>, and the president himself has referred to the conspiracy theory's followers <a href="https://www.nytimes.com/2020/08/19/us/politics/trump-qanon-conspiracy-theories.html">as people who "love our country."</a></p>    <p>But it's also started gaining&nbsp;significant traction among people who are into wellness,&nbsp;yoga, spirituality&nbsp;and alternative medicine.</p>  <p><em>Conspirituality,</em> a podcast that examines the links between wellness and conspiracy, has curated a list&nbsp;<a href="https://conspirituality.net/redpilled/">of more than two dozen wellness influencers</a> who have alluded to QAnon in their posts.&nbsp;</p>  <p>Corn says she started to notice it creeping into her social media feed at the start of the pandemic, with its followers&nbsp;using "yoga speak" and wellness branding to radicalize people online.&nbsp;</p>  <p>"The colours might be pastel. The fonts are very specific. There's maybe one post of someone doing yoga. Then the next day it's their food. The next day, it's a lifestyle shot," she said.</p>  <p>"But on maybe the fourth day, there's going to be a post that says, you know, very prettily "COVID is a hoax" and then a bunch of slides that keep giving misinformation and invite you to another link that then gives you more misinformation."</p>  <h2>'Magical thinking'&nbsp;</h2>  <p>For Corn, the conspiracy theory's proliferation in her community is not all that surprising.&nbsp;</p>  <p>"In the wellness community, there's often a lot of magical thinking," she said.</p>  <p>For example, she says people may turn to&nbsp;crystals or prayer as a Band-Aid solution for their life's problems, without engaging with those problems on a deeper level.&nbsp;</p>  <p>"I think that some of the messaging in QAnon&nbsp;is appealing to magical thinking. People are afraid. Their instincts are telling them that there's something else going on, but 'I just don't know what it is. I think I'm being lied to,'" she said.</p>  <p>"Someone is coming in and saying, 'Actually, you are,' and taking them down this rabbit hole."</p>  <p><span><figure><div><p><img alt="" srcset="https://i.cbc.ca/1.5727102.1600292087!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/qanon-in-quebec.jpg 300w,https://i.cbc.ca/1.5727102.1600292087!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/qanon-in-quebec.jpg 460w,https://i.cbc.ca/1.5727102.1600292087!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/qanon-in-quebec.jpg 620w,https://i.cbc.ca/1.5727102.1600292087!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/qanon-in-quebec.jpg 780w,https://i.cbc.ca/1.5727102.1600292087!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/qanon-in-quebec.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5727102.1600292087!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/qanon-in-quebec.jpg"></p></div><figcaption>Protesters hold a sign with a QAnon slogan at an anti-mask protest in Montreal. <!-- --> <!-- -->(Jonathan Montpetit/CBC)</figcaption></figure></span></p>  <p>Ali Breland,&nbsp;a reporter for Mother Jones who has been covering the overlap between QAnon and wellness, agrees.</p>  <p>He <a href="https://www.cbc.ca/radio/day6/funding-confusion-for-first-nations-schools-qanon-wellness-the-mulan-legend-bring-it-on-turns-20-and-more-1.5711574/qanon-has-found-a-home-among-wellness-influencers-and-new-audiences-says-reporter-1.5711585">told&nbsp;CBC Radio's<em> Day 6 </em>earlier this month</a>&nbsp;that wellness communities were already rife with anti-vaccination sentiment.</p>  <p>"[It's the idea that] these big powerful interests — these external interests that are beyond us, like Big Pharma, that we can't conceptualize, are trying to hurt our children ... and we need to protect them because no one else will," she said.&nbsp;</p>  <p>"That's the prevailing belief of QAnon."</p>    <blockquote><span><span><svg version="1.1" focusable="false" x="0px" y="0px" width="30px" height="25px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g><g><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g display="none"><g display="inline"> <path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg>There's a lot of women in this community who are sensitive and empathic. And so you bring in, you know, victimized children and you're going to appeal to that part of them that wants to do something, that wants to engage.'<svg focusable="false" x="0px" y="0px" width="23px" height="22px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g display="none"><g display="inline"><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g><g><path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg></span><cite>- Seane Corn</cite></span></blockquote>    <p>Annie Kelly, a researcher who studies digital extremism,&nbsp;<a href="https://www.nytimes.com/2020/09/10/opinion/qanon-women-conspiracy.html">recently wrote in the New York Times</a> that QAnon's "ranks are populated by a noticeably high percentage of women."</p>  <p>While suburban moms with yoga mats might not be the first image that pops into most people's minds&nbsp;when they think about online&nbsp;conspiracy theorists, Corn says it actually makes a lot of sense — especially as QAnon followers&nbsp;flood hashtags like #SaveTheChildren.&nbsp;</p>  <p>"There's a lot of women in this community who are sensitive and empathic. And so you bring in, you know, victimized children and you're going to appeal to that part of them that wants to do something, that wants to engage," Corn said.</p>  <h2>Risks of speaking out&nbsp;</h2>  <p>Corn, with her 100,000 Instagram followers, is trying to stem the tide by sharing posts that attempt to neutralize the disinformation.</p>  <p>Others are also heeding the call. Shannon Algeo, a&nbsp;L.A. yoga and meditation teacher with 25,000 followers, is one of several influencers who shared an Instagram post&nbsp;taking&nbsp;stand against the QAnon movement.</p>  <p>"I have a community that stands behind me, or rather stands with me," Corn said.&nbsp;"I'm not alone in this effort."</p>    <p>It's the kind of stance that could, at best, cost them some of their followers and income, and at worst, invite harassment and even violence.</p>  <p>Last week, a Texas&nbsp;woman was charged with&nbsp;aggravated assault with a deadly weapon after she&nbsp;<a href="https://wacotrib.com/news/local/crime-and-courts/affidavit-drunk-driver-who-rammed-car-claimed-to-be-chasing-pedophile/article_5989fa98-49fb-5db1-a5f2-2cef7a42e009.html">struck two strangers with her car</a>. According to the arrest affidavits, she believed they were pedophiles. Two people who knew her <a href="https://www.rightwingwatch.org/post/texas-qanon-car-attack-cecilia-fulbright/">told the website Right Wing Watch</a> she followed&nbsp;QAnon&nbsp;content&nbsp;online and sent them pro-QAnon&nbsp;messages.</p>  <p>Still, Corn says she has to speak out. She's already done interviews <a href="https://www.nytimes.com/2020/09/15/technology/yoga-teachers-take-on-qanon.html">with the New York Times</a>, <a href="https://www.rollingstone.com/culture/culture-news/qanon-wellness-influencers-seane-corn-yoga-1059856/">Rolling Stone </a>and more.&nbsp;</p>  <p>"I would feel worse being silent. That would make me complicit, and I just can't live with myself in that way,"&nbsp;she said. "So, hopefully, I'll remain safe and we'll see what happens."</p>  <hr>  <p><em>Written by Sheena Goodyear. Interview produced by Chloe Shantz-Hilkes.&nbsp;</em></p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/asithappens/this-yoga-instructor-is-fighting-the-rise-of-qanon-in-the-wellness-community-1.5728153</link>
            <guid isPermaLink="false">hacker-news-small-sites-24546235</guid>
            <pubDate>Mon, 21 Sep 2020 17:41:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A little rant about talent]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24545379">thread link</a>) | @djhaskin987
<br/>
September 21, 2020 | https://benjiweber.co.uk/blog/2020/09/19/a-little-rant-about-talent/ | <a href="https://web.archive.org/web/*/https://benjiweber.co.uk/blog/2020/09/19/a-little-rant-about-talent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1502" role="article" itemscope="" itemtype="http://schema.org/BlogPosting">
						
						<header>
						
														
							
							
							<p>Posted <time datetime="2020-09-19" pubdate="">September 19, 2020</time> by  <span>&amp;</span> filed under <a href="https://benjiweber.co.uk/blog/posts/xp/" rel="category tag">XP</a>. <a href="https://twitter.com/benjiweber" data-show-count="false">Follow @benjiweber</a></p>
						
						</header> <!-- end article header -->
					
						<section itemprop="articleBody">
							
<p>It’s become less common to hear people referred to as “resources” in recent times. There’s more trendy <a href="https://getyarn.io/yarn-clip/f89ce89e-3450-417e-a8de-5783353e3d85">“official vocab guidelines”</a>, but what’s really changed? There’s still phrases in common use that sound good but betray the same mindset.</p>



<p>I often hear people striving to <em>“</em><a href="https://www.google.com/search?&amp;q=%22hire%22+and+%22retain%22+%22best+talent%22"><em>hire and retain the best talent</em></a><em>“</em> as if that is a strategy for success, or as if talent is a limited resource we must <a href="https://en.wikipedia.org/wiki/War_for_talent">fight over.</a>&nbsp;</p>



<p>Another common one is to describe employees as your <a href="https://www.google.com/search?q=%22employees%22+%22asset%22"><em>“greatest asset”</em></a>.</p>



<p>I’d like to believe both phrases come from the good intentions of valuing people. Valuing individuals as per the <a href="https://agilemanifesto.org/">agile manifesto</a>. I think these phrases betray a lack of consideration of the <em>“…and&nbsp; interactions”</em>.&nbsp;</p>



<p>The implication is organisations are in a battle to win and then protect as big a chunk as they can of a finite resource called <em>“talent”</em>. It’s positioned as a zero-sum game. There’s an implication that the impact of an organisation is a pure function of the <em>“talent”</em> it has accumulated.&nbsp;</p>



<p>People are not Talent. An organisation can amplify or stifle the brilliance of people.&nbsp;It can grow skills or curtail talent.</p>



<p>Talent is not skill. Talent gets you so far but skills can be grown. Does the team take the output that the people in it have the skill to produce? Or does the team provide an environment in which everyone can increase their skills and get more done than they could alone?&nbsp;</p>



<figure><img src="https://deming.org/wp-content/uploads/2020/06/a-bad-system-will-10091-2.png" alt=""></figure>



<p>We might hire the people with the most pre-existing talent, and achieve nothing if we stifle them with a bureaucracy that prevents them from getting anything done. Organizational <a href="https://m.signalvnoise.com/dont-scar-on-the-first-cut/">scar tissue</a> that gets in the way; policies that demotivate.&nbsp;&nbsp;</p>



<figure></figure>



<p>Even without the weight of bureaucracy many teams are really just collections of individuals with a common manager. The outcomes of such groups <em>are</em> limited by the talent and preexisting skill of the people in them.&nbsp;</p>



<p>Contrast this with a team into which you can hire brilliant people who’ve <a href="https://benjiweber.co.uk/blog/2020/09/06/reasons-to-hire-inexperienced-engineers/">yet to have the opportunity</a> of being part of a team that grows them into highly skilled individuals. A team that gives everyone space to learn, provides challenges to stretch everyone, provides an environment where it’s safe to fail. Teams that have practices and habits that enable them to achieve great things <em>despite</em> the fallibility and limitations of the talent of each of the people in the team.&nbsp;</p>



<blockquote><p><em>“when you are a Bear of Very Little Brain, and you Think of Things, you find sometimes that a Thing which seemed very Thingish inside you is quite different when it gets out into the open and has other people looking at it.”</em>—AA Milne&nbsp;</p></blockquote>



<p>While I’m a bear of very little brain, I’ve had the opportunity to be part of great teams that have taught me habits that help me achieve more than I can alone. </p>



<p>Habits like giving and receiving feedback. Like working <em><a href="https://cucumber.io/blog/bdd/inclusive-benefits-of-mob-programming/">together</a></em> to balance each others weaknesses and learn from each other faster. Like making predictions and observing the results. Like investing in keeping <a href="https://www.amazon.co.uk/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215">things simple</a> so they can fit into my brain. Like working in <a href="https://benjiweber.co.uk/blog/2020/02/12/do-you-ci/">small steps</a>. Like scheduled <a href="https://www.youtube.com/watch?time_continue=4&amp;v=tImsExfrTPA">reflection points</a> to consider how to improve <a href="https://retrospectivewiki.org/index.php?title=Agile_Retrospective_Resource_Wiki"><em>how</em> we’re working</a>. Like occasionally <a href="https://benjiweber.co.uk/blog/2018/03/17/hack-days-removing-the-rules/" data-type="URL" data-id="https://benjiweber.co.uk/blog/2018/03/17/hack-days-removing-the-rules/">throwing away the rules</a> and seeing what happens.</p>



<p>Habits like <a href="https://www.geepawhill.org/tdd/geekery-pro-tip-think-less-sense-more/">thinking less and sensing more.&nbsp;</a></p>
							
												
						</section> <!-- end article section -->
						
						 <!-- end article footer -->
					
					</article></div>]]>
            </description>
            <link>https://benjiweber.co.uk/blog/2020/09/19/a-little-rant-about-talent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24545379</guid>
            <pubDate>Mon, 21 Sep 2020 16:33:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Let's Compare the CLI Experiences Offered by AWS, Azure, and Google Cloud]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24544931">thread link</a>) | @sciurus
<br/>
September 21, 2020 | https://seroter.com/2020/09/15/lets-compare-the-cli-experiences-offered-by-aws-microsoft-azure-and-google-cloud-platform/ | <a href="https://web.archive.org/web/*/https://seroter.com/2020/09/15/lets-compare-the-cli-experiences-offered-by-aws-microsoft-azure-and-google-cloud-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-8390" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">

	<!-- .entry-header-wrapper -->

	<div itemprop="text">
		
<p>Real developers use the CLI, or so I’m told. That probably explains why I mostly use the portal experiences of the major cloud providers. But judging from the portal experiences offered by most clouds, they prefer you use the CLI too. <strong>So let’s look at the CLIs.</strong></p>



<p>Specifically, I evaluated the cloud CLIs with an eye on five different areas:</p>



<ol><li><strong>API surface and patterns.</strong> How much of the cloud was exposed via CLI, and is there a consistent way to interact with each service?</li><li><strong>Authentication.</strong> How do users identify themselves to the CLI, and can you maintain different user profiles?</li><li><strong>Creating and viewing services.</strong> What does it feel like to provision instances, and then browse those provisioned instances?</li><li><strong>CLI sweeteners.</strong> Are there things the CLI offers to make using it more delightful?</li><li><strong>Utilities. </strong>Does the CLI offer additional tooling that helps developers build or test their software?</li></ol>



<p>Let’s dig in.</p>



<p><em>Disclaimer: I work for Google Cloud, so obviously I’ll have some biases. That said, I’ve used AWS for over a decade, was an Azure MVP for years, and can be mostly fair when comparing products and services. Please call out any mistakes I make!</em></p>







<p>You have a few ways to <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html">install the AWS CLI</a>. You can use a Docker image, or install directly on your machine. If you’re installing directly, you can download from AWS, or use your favorite package manager. AWS warns you that third party repos may not be up to date. I went ahead and installed the CLI on my Mac using <a href="https://formulae.brew.sh/formula/awscli#default">Homebrew</a>.</p>



<h3>API surface and patterns</h3>



<p>As you’d expect, the AWS CLI has <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/index.html">wide coverage</a>. Really wide. I think there’s an API in there to retrieve the name of Andy Jassy’s favorite jungle cat. The <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/ec2/index.html">EC2 commands</a> alone could fill a book. The documentation is comprehensive, with detailed summaries of parameters, and example invocations.</p>



<p>The command patterns are <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-usage-commandstructure.html">relatively consistent</a>, with some disparities between older services and newer ones. Most service commands look like:</p>



<pre>aws [service name] [action] [parameters]</pre>



<p>Most “actions” start with create, delete, describe, get, list, or update.</p>



<p>For example:</p>



<pre>aws elasticache create-cache-cluster --engine redis
aws kinesis describe-stream --stream-name seroter-stream
aws kinesis describe-stream --stream-name seroter-stream
aws qldb delete-ledger --name seroterledger
aws sqs list-queues</pre>



<p>S3 is one of the original AWS services, and <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3/index.html">its API is different</a>. It uses commands like <code>cp</code>, <code>ls</code>, and <code>rm</code>. Some services have <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/elasticache/index.html">modify</a> commands, others use <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/eks/index.html">update</a>. For the most part, it’s intuitive, but I’d imagine most people can’t guess the commands.</p>



<h3>Authentication</h3>



<p>There isn’t one way to authenticate to the AWS CLI. You might <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html">use SSO</a>, an <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sourcing-external.html">external file</a>, or inline <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html">access key and ID</a>, like I do below.</p>



<figure><img data-attachment-id="8394" data-permalink="https://seroter.com/2020-09-15-cli-01/" data-orig-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-01.png" data-orig-size="600,166" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="2020.09.15-cli-01" data-image-description="" data-medium-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-01.png?w=300" data-large-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-01.png?w=600" src="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-01.png?w=600" alt="" srcset="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-01.png 600w, https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-01.png?w=150 150w, https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-01.png?w=300 300w" sizes="(max-width: 600px) 100vw, 600px"></figure>



<p>The CLI supports “<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html#cli-configure-quickstart-profiles">profiles</a>” which seems important when you may have different access to default values based on what you’re working on.</p>



<h3>Creating and viewing service instances</h3>



<p>By default, everything the CLI does occurs in the region of the active profile. You can override the default region by passing in a region flag to each command. See below that I created a new SQS queue without providing a region, and it dropped it into my default one (us-west-2). By explicitly passing in a target region, I created the second queue elsewhere.</p>



<figure><img data-attachment-id="8397" data-permalink="https://seroter.com/2020-09-15-cli-02/" data-orig-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-02.png" data-orig-size="600,160" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="2020.09.15-cli-02" data-image-description="" data-medium-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-02.png?w=300" data-large-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-02.png?w=600" src="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-02.png?w=600" alt="" srcset="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-02.png 600w, https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-02.png?w=150 150w, https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-02.png?w=300 300w" sizes="(max-width: 600px) 100vw, 600px"></figure>



<p>The AWS Console shows you resources for a selected region. I don’t see obvious ways to get an all-up view. A few services, like S3, aren’t bound by region, and you see all resources at once. The CLI behaves the same. I can’t view all my SQS queues, or databases, or whatever, from around the world. I can “list” the items, region by region. Deletion behaves the same. I can’t delete the above SQS queue without providing a region flag, even though the URL is region-specific. </p>



<p>Overall, it’s fast and straightforward to provision, update, and list AWS services using the CLI. Just keep the region-by-region perspective in mind!</p>



<h3>CLI sweeteners</h3>



<p>The AWS CLI gives you control over the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-usage-output.html">output format</a>. I set the default for my profile to json, but you can also do yaml, text, and table. You can toggle this on a request by request basis.</p>



<p>You can also take advantage of <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-completion.html">command completion</a>. This is handy, given how tricky it may be to guess the exact syntax of a command. Similarly, I really like you can be <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-usage-parameters-prompting.html">prompted for parameters</a>. Instead of guessing, or creating giant strings, you can go parameter by parameter in a guided manner.</p>



<p>The AWS CLI also offers select opportunities to interact with the resources themselves. I can <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/sqs/send-message.html">send and receive</a> SQS messages. Or <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/put-item.html">put an item</a> directly into a DynamoDB table. There are a handful of services that let you create/update/delete data in the resource, but many are focused solely on the lifecycle of the resource itself.</p>



<p>Finally, I don’t see a way to self-update from within the CLI itself. It looks like you rely on your package manager or re-download to refresh it. If I’m wrong, tell me!</p>



<h3>Utilities</h3>



<p>It doesn’t look like the CLI ships with other tools that developers might use to build apps for AWS.</p>







<p>The Microsoft Azure CLI also has broad coverage and is <a href="https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest">well documented</a>. There’s no shortage of examples, and it clearly explains how to use each command.</p>



<p>Like AWS, Microsoft offers their <a href="https://docs.microsoft.com/en-us/cli/azure/run-azure-cli-docker?view=azure-cli-latest">CLI in a Docker image</a>. They also offer <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">direct downloads</a>, or access via a package manager. I grabbed mine from <a href="https://formulae.brew.sh/formula/azure-cli#default">Homebrew</a>.</p>



<h3>API surface and patterns</h3>



<p>The CLI supports <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">almost every major Azure service.</a> Some, like Logic Apps or Blockchain, only show up in their experimental sandbox. </p>



<p>Commands follow a particular syntax:</p>



<pre>az [service name] [object] create | list | delete | update [parameters]</pre>



<p>Let’s look at a few examples:</p>



<pre>az ad app create --display-name my-ad-app
az cosmosdb list --resource-group group1
az postgres db show --name mydb --resource-group group1 --server-name myserver
az service bus queue delete --name myqueue --namespace-name mynamespace --resource-group group1</pre>



<p>I haven’t observed much inconsistency in the CLI commands. They all seem to follow the same basic patterns.</p>



<h3>Authentication</h3>



<p><a href="https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest#az_login">Logging into the CLI </a>is easy. You can simply do <code>az login</code> as I did below—this opens a browser window and has you sign into your Azure account to retrieve a token—or you can pass in credentials. Those credentials may be a username/password, service principal with a secret, or service principal with a client certificate.</p>



<figure><img data-attachment-id="8399" data-permalink="https://seroter.com/2020-09-15-cli-03/" data-orig-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-03.png" data-orig-size="600,502" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="2020.09.15-cli-03" data-image-description="" data-medium-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-03.png?w=300" data-large-file="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-03.png?w=600" src="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-03.png?w=600" alt="" srcset="https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-03.png 600w, https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-03.png?w=150 150w, https://seroter.files.wordpress.com/2020/09/2020.09.15-cli-03.png?w=300 300w" sizes="(max-width: 600px) 100vw, 600px"></figure>



<p>Once you log in, you see all your Azure subscriptions. You can parse the JSON to see which one is active, and will be used as the default. If you wish to change the default, you can use <code>az account set --subscription [name]</code> to pick a different one. </p>



<p>There doesn’t appear to be a way to create different local profiles.</p>



<h3>Creating and viewing service instances</h3>



<p>It seems that most everything you create in Azure goes into a <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/overview">resource group</a>. While a resource group has a “location” property, that’s related to the metadata, not a restriction on what gets deployed into it. You can set a default resource group (<code>az configure --defaults group=[name]</code>) or provide the relevant input parameter on each request.</p>



<p>Unlike other clouds, <a href="https://levelup.gitconnected.com/aws-azure-gcp-resource-hierarchies-25b829127511">Azure has a lot of nesting</a>. You have a root account, then a subscription, and then a resource group. And most resources also have parent-child relationships you must define before you can actually build the thing you want. </p>



<p>For example, if you want a service bus queue, you first create a <a href="https://docs.microsoft.com/en-us/cli/azure/servicebus/namespace?view=azure-cli-latest">namespace</a>. You can’t create both at the same time. It’s two calls. Want a storage blob to upload videos into? Create a <a href="https://docs.microsoft.com/en-us/cli/azure/storage/account?view=azure-cli-latest">storage account</a> first. A web application to run your .NET app? Provision a <a href="https://docs.microsoft.com/en-us/cli/azure/appservice/plan?view=azure-cli-latest">plan</a>. Serverless function? Create a plan. This doesn’t apply to everything, but just be aware that there are often multiple steps involved.</p>



<p>The creation activity itself is fairly simple. Here are commands to create Service Bus namespace and then a queue</p>



<pre>az servicebus namespace create --resource-group mydemos --name seroter-demos --location westus
az servicebus queue create --resource-group mydemos --namespace-name seroter-demos --name myqueue</pre>



<p>Like with AWS, some Azure assets get grouped by region. With Service Bus, namespaces are associated to a geo. I don’t see a way to query all queues, regardless of region. But for the many that aren’t, you get a view of all resources across the globe. After I created a couple Redis caches in my resource group, a simple <code>az redis list --resource-group mydemos</code> showed me caches in two different parts of the US.</p>



<p>Depending on how you use resource groups—maybe per app or per project, or even by team—just be aware that the CLI doesn’t retrieve results across resource groups. I’m not sure the best strategy for viewing subscription-wide resources other than the Azure Portal.</p>



<h3>CLI sweeteners</h3>



<p>The Azure CLI has some handy things to make it easier to use. </p>



<p>There’s a <a href="https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest#az_find">find function</a> for figuring out commands. There’s <a href="https://docs.microsoft.com/en-us/cli/azure/format-output-azure-cli?view=azure-cli-latest">output formatting</a> to json, tables, or yaml. You’ll also find a useful <a href="https://docs.microsoft.com/en-us/cli/azure/interactive-azure-cli?view=azure-cli-latest">interactive mode</a> to get auto-completion, command examples, and more. Finally, I like that the Azure CLI supports <a href="https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest#az_upgrade">self-upgrade</a>. Why leave the CLI if you don’t have to?</p>



<h3>Utilities</h3>



<p>I noticed a few things in this CLI that help developers. First, there’s an <a href="https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest#az_rest">az rest</a> command that lets you call Azure service endpoints with authentication headers taken care of for you. That’s a useful tool for calling secured endpoints.</p>



<p>Azure offers a wide array of <a href="https://docs.microsoft.com/en-us/cli/azure/azure-cli-extensions-overview?view=azure-cli-latest">extensions</a> to the CLI. These aren’t shipped as part of the CLI itself, but you can easily bolt them on. And you can create your own. This is a fluid list, but <code>az extension list-available</code> shows you what’s in the pool right now. As of this writing, there are extensions for preview AKS capabilities, managing Azure DevOps, working with DataBricks, using Azure LogicApps, querying the Azure Resource Graph, and more.</p>







<p>I’ve only recently started seriously using the GCP CLI. What’s struck me most about the <a href="https://cloud.google.com/sdk/gcloud">gcloud</a> tool is that it feels more like a system—dare I say, …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://seroter.com/2020/09/15/lets-compare-the-cli-experiences-offered-by-aws-microsoft-azure-and-google-cloud-platform/">https://seroter.com/2020/09/15/lets-compare-the-cli-experiences-offered-by-aws-microsoft-azure-and-google-cloud-platform/</a></em></p>]]>
            </description>
            <link>https://seroter.com/2020/09/15/lets-compare-the-cli-experiences-offered-by-aws-microsoft-azure-and-google-cloud-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544931</guid>
            <pubDate>Mon, 21 Sep 2020 16:00:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things we learned running Postgres 13]]>
            </title>
            <description>
<![CDATA[
Score 351 | Comments 48 (<a href="https://news.ycombinator.com/item?id=24544881">thread link</a>) | @lfittl
<br/>
September 21, 2020 | https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability | <a href="https://web.archive.org/web/*/https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span>
      <a href="https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/aa440/postgres_13.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="postgres 13" title="Astronaut writing Postgres 13" src="https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/8c557/postgres_13.png" srcset="https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/4edbd/postgres_13.png 175w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/13ae7/postgres_13.png 350w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/8c557/postgres_13.png 700w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/e996b/postgres_13.png 1050w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/2cefc/postgres_13.png 1400w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/aa440/postgres_13.png 1500w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span>
</p>
<p>Postgres 13 is almost here. It's been in beta since May, and the general availability release is
coming any day. We've been following Postgres 13 closely here at pganalyze, and have been running
the beta in one of our staging environments for several months now.</p>
<p>There are no big new features in Postgres 13, but there are a lot of small but important incremental
improvements. Let's take a look.</p>

<h2 id="performance"><a href="#performance" aria-label="performance permalink"></a>Performance</h2>
<p>Postgres 13 performance improvements include both built-in optimizations and heuristics that will make
your database run better out of the box, as well as additional features to give you more flexibility
in optimizing your schema and queries.</p>
<h3 id="smaller-indexes-with-b-tree-deduplication"><a href="#smaller-indexes-with-b-tree-deduplication" aria-label="smaller indexes with b tree deduplication permalink"></a>Smaller Indexes with B-Tree Deduplication</h3>
<!-- -->

<svg xmlns:xl="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" version="1.1" viewBox="222 230.5 630.072 116" width="630.072" height="116">
  <defs>
    <font-face font-family="Avenir Next" font-size="16" panose1="2 11 5 3 2 2 2 2 2 4" units-per-em="1000" underline-position="-75" underline-thickness="50" slope="0" x-height="468" cap-height="708" ascent="1000" descent="-365.9973" font-weight="400">
      <font-face-src>
        <font-face-name name="AvenirNext-Regular"></font-face-name>
      </font-face-src>
    </font-face>
    <font-face font-family="Avenir Next" font-size="16" panose1="2 11 8 3 2 2 2 2 2 4" units-per-em="1000" underline-position="-75" underline-thickness="50" slope="0" x-height="498" cap-height="708" ascent="1000" descent="-365.9973" font-weight="700">
      <font-face-src>
        <font-face-name name="AvenirNext-Bold"></font-face-name>
      </font-face-src>
    </font-face>
  </defs>
  <metadata> Produced by OmniGraffle 7.17.2\n2020-09-20 19:29:10 +0000</metadata>
  <g id="Canvas_1" strokedasharray="none" stroke-opacity="1" stroke="none" fill="none" fill-opacity="1">
    <title>Canvas 1</title>
    <g id="Canvas_1_Layer_1">
      <title>Layer 1</title>
      <g id="Graphic_2">
        <rect x="232" y="240.5" width="250.5" height="39.5" fill="#d8d5df"></rect>
      </g>
      <g id="Graphic_3">
        <rect x="232" y="297" width="89.5" height="39.5" fill="#d8eef0"></rect>
      </g>
      <g id="Graphic_9">
        <text transform="translate(244.128 251.026)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16"></tspan>
        </text>
      </g>
      <g id="Graphic_10">
        <text transform="translate(244.128 309.013)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16"></tspan>
        </text>
      </g>
      <g id="Graphic_13">
        <text transform="translate(502 251.026)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16">deduplicate_items=off</tspan>
        </text>
      </g>
      <g id="Graphic_14">
        <text transform="translate(502 307.526)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16">deduplicate_items=on   </tspan>
          <tspan font-family="Avenir Next" font-size="16" font-weight="700" fill="black" y="16">(new in Postgres 13)</tspan>
        </text>
      </g>
    </g>
  </g>
</svg>
<p>Postgres 13 introduces a way for B-Tree indexes to <a href="https://www.postgresql.org/docs/13/btree-implementation.html#BTREE-DEDUPLICATION">avoid storing duplicate entries in some situations</a>.
In general, a B-Tree index consists of a tree of indexed values, with each leaf node pointing to a
particular row version. Because each leaf points to one row version, if you are indexing non-unique
values, those values need to be repeated.</p>
<p>The de-duplication mechanism avoids that by having a leaf node point to several row versions if possible,
which leads to smaller indexes.</p>
<p>Here is an example from our own pganalyze application schema: We have a <code>queries</code> table to
track all the queries we monitor, and a <code>database_id</code> field to track which database they belong to. We
index <code>database_id</code> (so we can quickly fetch queries for a specific database), and because each database
typically has more than one query, there is a lot of duplication in this index.</p>
<p>New B-Tree indexes in Postgres 13 use the deduplication feature by default, but if for some reason,
you need to turn it off, you can control it with the <code>deduplicate_items</code> storage parameter. Here we
create the same index in two different ways, with deduplication explicitly on and off (though again,
you don't need to specify <code>on</code>—this is the default):</p>
<div data-language="sql"><pre><code><span>CREATE</span> <span>INDEX</span> CONCURRENTLY queries_db_id_idx_no_dedup <span>ON</span> queries<span>(</span>database_id<span>)</span>
<span>WITH</span> <span>(</span>deduplicate_items<span>=</span><span>off</span><span>)</span><span>;</span>

<span>CREATE</span> <span>INDEX</span> CONCURRENTLY queries_db_id_idx_yes_dedup <span>ON</span> queries<span>(</span>database_id<span>)</span>
<span>WITH</span> <span>(</span>deduplicate_items<span>=</span><span>on</span><span>)</span><span>;</span>

<span>SELECT</span> relname<span>,</span> pg_size_pretty<span>(</span>pg_relation_size<span>(</span>oid<span>)</span><span>)</span> <span>FROM</span> pg_class
<span>WHERE</span> relname <span>IN</span> <span>(</span><span>'queries_db_id_idx_no_dedup'</span><span>,</span> <span>'queries_db_id_idx_yes_dedup'</span><span>)</span><span>;</span></code></pre></div>
<div data-language="text"><pre><code>           relname           | pg_size_pretty 
-----------------------------+----------------
 queries_db_id_idx_no_dedup  | 218 MB
 queries_db_id_idx_yes_dedup | 67 MB
(2 rows)</code></pre></div>
<p>With deduplication, the new index is more than <strong>three times smaller</strong>! Smaller indexes are faster to load
from disk, and take up less space in memory, meaning there's more room for your data.</p>
<p>One interesting note here is that the index entries point to row <em>versions</em> (as in, a row the way it
exists in one specific <a href="https://www.postgresql.org/docs/13/mvcc.html">MVCC</a> state), not rows themselves,
so this feature <strong>can improve index size even for unique indexes</strong>, where one would not expect any duplication
to occur.</p>
<p>Note that deduplication is not possible in all cases (see above link for details), and that you
will need to reindex before you can take advantage of it if upgrading via <code>pg_upgrade</code>.</p>
<h3 id="extended-statistics-improvements-in-postgres-13"><a href="#extended-statistics-improvements-in-postgres-13" aria-label="extended statistics improvements in postgres 13 permalink"></a>Extended Statistics Improvements in Postgres 13</h3>
<p>Postgres 10 introduced the concept of <a href="https://www.postgresql.org/docs/13/planner-stats.html#PLANNER-STATS-EXTENDED">extended statistics</a>. Postgres keeps some statistics about the "shape" of your data to ensure it can plan queries efficiently,
but the statistics kept by default cannot track things like inter-column dependencies. Extended statistics
were introduced to address that: These are database objects (like indexes) that you create manually with
<code>CREATE STATISTICS</code> to give the query planner more information for more specific situations. These would be
expensive for Postgres to determine automatically, but armed with an understanding of the semantics of your
schema, you can provide that additional info. Used carefully, this can lead to
<a href="https://build.affinity.co/how-we-used-postgres-extended-statistics-to-achieve-a-3000x-speedup-ea93d3dcdc61">massive performance improvements</a>.</p>
<p>Postgres 13 brings a number of small but important improvements to extended statistics, including
support for using them with <code>OR</code> clauses and in <code>IN</code>/<code>ANY</code> constant lists, allowing consideration
of multiple extended statistics objects in planning a query, and support for
<a href="https://www.postgresql.org/docs/13/sql-alterstatistics.html">setting a statistics target</a> for
extended statistics:</p>
<div data-language="sql"><pre><code><span>ALTER</span> <span>STATISTICS</span> table_stx <span>SET</span> <span>STATISTICS</span> <span>1000</span><span>;</span></code></pre></div>
<p>Like with the regular statistics target, this is a trade-off between additional planning time (and longer <code>ANALYZE</code> runs), versus having more precise plans. We recommend using this in a targeted manner using EXPLAIN plans to confirm plan changes.</p>
<h3 id="parallel-vacuum--better-support-for-append-only-workloads"><a href="#parallel-vacuum--better-support-for-append-only-workloads" aria-label="parallel vacuum  better support for append only workloads permalink"></a>Parallel VACUUM &amp; Better Support for Append-only Workloads</h3>
<p>Postgres multi-version concurrency control means you need to run <code>VACUUM</code> regularly (usually you can rely
on the autovacuum process, though it may need some tuning). In Postgres 13, one notable improvement is
that multiple indexes for a single table can be vacuumed in parallel. This can lead to big performance
improvements in <code>VACUUM</code> work. Parallel <code>VACUUM</code> is the default and can be controlled with the <code>PARALLEL</code> option:</p>
<div data-language="sql"><pre><code>VACUUM <span>(</span>PARALLEL <span>2</span><span>,</span> VERBOSE<span>)</span> queries<span>;</span></code></pre></div>
<div data-language="text"><pre><code>INFO:  vacuuming "public.queries"
INFO:  launched 2 parallel vacuum workers for index vacuuming (planned: 2)
INFO:  scanned index "index_queries_on_database_id" to remove 1403418 row versions by parallel vacuum worker
DETAIL:  CPU: user: 0.98 s, system: 0.15 s, elapsed: 2.37 s
INFO:  scanned index "index_queries_on_last_occurred_at" to remove 1403418 row versions by parallel vacuum worker
DETAIL:  CPU: user: 0.88 s, system: 0.27 s, elapsed: 2.60 s
...</code></pre></div>
<p>Parallel VACUUM occurs when the following is true:</p>
<ul>
<li>Sufficient parallel workers are available, based on the system-wide limit set by <a href="https://www.postgresql.org/docs/13/runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-MAINTENANCE"><code>max_parallel_maintenance_workers</code></a> (defaults to 2)</li>
<li>There are multiple indexes on the table (one index can be processed by one worker at a time)</li>
<li>Index types support it (all built-in index types support parallelism to some extent)</li>
<li>The indexes are large enough to exceed <a href="https://www.postgresql.org/docs/13/runtime-config-query.html#GUC-MIN-PARALLEL-INDEX-SCAN-SIZE"><code>min_parallel_index_scan_size</code></a> (defaults to 512 kB)</li>
</ul>
<p>Be aware that <strong>parallel VACUUM is currently not supported for autovacuum.</strong> This new feature is intended for use in manual VACUUM runs that need to complete quickly, such as when insufficient autovacuum tuning has lead to an imminent TXID wraparound, and you need to intervene to fix it.</p>
<p>On that note, an important <code>autovacuum</code> improvement in Postgres 13 is that the autovacuum background process can now be triggered by <code>INSERT</code> statements for append-only tables. The main purpose of VACUUM is to clean up old versions of updated and deleted rows, but it is also essential to set pages as all-visible for MVCC bookkeeping. All-visible pages allow index-only scans to avoid checking visibility status row-by-row, making them faster.</p>
<p>We make extensive use of append-only tables at pganalyze for our timeseries data, and this improvement will make our lives considerably easier, avoiding the occasional manual VACUUM run on these tables. This new behavior can be controlled by the <code>autovacuum_vacuum_insert_threshold</code> and <code>autovacuum_vacuum_insert_scale_factor</code> variables.</p>
<h3 id="incremental-sorting"><a href="#incremental-sorting" aria-label="incremental sorting permalink"></a>Incremental Sorting</h3>
<p>Sorting data is a common database task, and Postgres has a number of features to avoid unnecessary work
here. For example, if you have a B-Tree index on a column, and you query your table ordered by that column,
it can just scan that index in order to get sorted data.</p>
<p>In Postgres 13, this is improved to handle partially sorted data. If you have an index on <code>(a, b)</code> (or
the data is already sorted by <code>(a, b)</code> for another reason), and you issue a query to order by <code>(a, b, c)</code>,
Postgres understands that the input data is already partially sorted, and can avoid re-sorting the whole
dataset. This is especially useful if you have a <code>LIMIT</code> in your query, since this can avoid even more
work.</p>
<h2 id="monitoring"><a href="#monitoring" aria-label="monitoring permalink"></a>Monitoring</h2>
<p>Monitoring improvements in Postgres 13 include more details on <code>WAL</code> usage, more options for logging your
queries, and more information on query planning.</p>
<h3 id="wal-usage-stats"><a href="#wal-usage-stats" aria-label="wal usage stats permalink"></a>WAL Usage Stats</h3>
<p>The write-ahead log (<code>WAL</code>) ensures your data stays consistent in the event of a crash, even mid-write. Consistency
is a fundamental property of databases—it ensures your transaction either committed or did not commit; you don't
have to worry about in-between states. But on a busy system, <code>WAL</code> writes can often be a bottleneck. To help
diagnose this, Postgres 13 includes more information on <code>WAL</code> usage from your queries.</p>
<p><code>EXPLAIN</code> now supports information about <code>WAL</code> records generated during execution:</p>
<div data-language="sql"><pre><code><span>EXPLAIN</span> <span>(</span><span>ANALYZE</span><span>,</span> WAL<span>)</span> <span>DELETE</span> <span>FROM</span> users<span>;</span></code></pre></div>
<div data-language="text"><pre><code>                                                    QUERY PLAN                                                     
-------------------------------------------------------------------------------------------------------------------
 Delete on users  (cost=0.00..5409.00 rows=100000 width=6) (actual time=108.910..108.911 rows=0 loops=1)
   WAL: records=100000 fpi=741 bytes=11425721
   -&gt;  Seq Scan on users  (cost=0.00..5409.00 rows=100000 width=6) (actual time=8.519..51.850 rows=100000 loops=1)
 Planning Time: 6.083 ms
 Execution Time: 108.955 ms
(5 rows)</code></pre></div>
<p>You can see that the <code>WAL</code> line includes the number of records generated, the number of full page images (fpi), and
the number of <code>WAL</code> bytes generated. Only non-zero values are printed in the default text format.</p>
<p>This is also available in <code>pg_stat_statements</code>. For example, on our staging environment, here is what we ran to get
the statement that produced the most <code>WAL</code> records:</p>
<div data-language="sql"><pre><code><span>SELECT</span> query<span>,</span> calls<span>,</span> wal_records<span>,</span> wal_fpi<span>,</span> wal_bytes <span>FROM</span> pg_stat_statements
  <span>ORDER</span> <span>BY</span> wal_records <span>DESC</span> <span>LIMIT</span> <span>1</span><span>;</span></code></pre></div>
<div data-language="text"><pre><code>-[ RECORD 1 ]---------------------------------------------------------------------------------------------
query       | CREATE TEMPORARY TABLE upsert_data (server_id uuid NOT NULL, backend_id uuid NOT NULL,
            | query_start timestamp NOT NULL, query_fingerprint bytea NOT NULL, query_text text NOT NULL)
calls       | 7974948
wal_records | 966960816
wal_fpi     | 1018412
wal_bytes   | 100086092097</code></pre></div>
<p>Like many other values in <code>pg_stat_statements</code>, the <code>wal_records</code>, <code>wal_fpi</code>, and <code>wal_bytes</code> values here are
cumulative since the last <code>pg_stat_statements_reset</code> call.</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability">https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability</a></em></p>]]>
            </description>
            <link>https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544881</guid>
            <pubDate>Mon, 21 Sep 2020 15:57:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The most disputed scientific studies ever published]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24544879">thread link</a>) | @JoshN1986
<br/>
September 21, 2020 | https://scite.ai/search?disputingFrom=1&page=1&sortOn=tally.contradicting&sortOrder=desc&supportingFrom=1&supportingTo=2 | <a href="https://web.archive.org/web/*/https://scite.ai/search?disputingFrom=1&page=1&sortOn=tally.contradicting&sortOrder=desc&supportingFrom=1&supportingTo=2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p><span><i><span>Nature</span></i> volume 428, issue 6985, P821-827</span></p><p><span>Bringing together leaf trait data spanning 2,548 species and 175 sites we describe, for the first time at global scale, a universal spectrum of leaf economics consisting of key chemical, structural and physiological properties. The spectrum runs from quick to slow return on investments of nutrients and dry mass in leaves, and operates largely independently of growth form, plant functional type or biome. Categories along the spectrum would, in general, describe leaf economic variation at the global scale better than plant functional types, because functional types overlap substantially in their leaf traits. Overall, modulation of leaf traits and trait relationships by climate is surprisingly modest, although some striking and significant patterns can be seen. Reliable quantification of the leaf economics spectrum and its interaction with climate will prove valuable for modelling nutrient fluxes and vegetation boundaries under changing land-use and climate.Green leaves are fundamental for the functioning of terrestrial ecosystems. Their pigments are the predominant signal seen from space. Nitrogen uptake and carbon assimilation by plants and the decomposability of leaves drive biogeochemical cycles. Animals, fungi and other heterotrophs in ecosystems are fuelled by photosynthate, and their habitats are structured by the stems on which leaves are deployed. Plants invest photosynthate and mineral nutrients in the construction of leaves, which in turn return a revenue stream of photosynthate over their lifetimes. The photosynthate is used to acquire mineral nutrients, to support metabolism and to re-invest in leaves, their supporting stems and other plant parts.There are more than 250,000 vascular plant species, all engaging in the same processes of investment and reinvestment of carbon and mineral nutrients, and all making enough surplus to ensure continuity to future generations. These processes of investment and re-investment are inherently economic in nature [1][2][3] . Understanding how these processes vary between species, plant functional types and the vegetation of different biomes is a major goal for plant ecology and crucial for modelling how nutrient fluxes and vegetation boundaries will shift with land-use and climate change.
Data set and parametersWe formed a global plant trait network (Glopnet) to quantify leaf economics across the world's plant species. The Glopnet data set spans 2,548 species from 219 families at 175 sites (approximately 1% of the extant vascular plant species). The coverage of traits, species and sites is at least tenfold greater than previous data compilations [4][5][6][7][8][9][10][11] , extends to all vegetated continents, and represents a wide range of vegetation types, from arctic tundra to tropical rainforest, from hot to cold deserts, from boreal forest to grasslands. Site elevation ranges from below sea level (Death Valley, USA) to 4,800 m. Mean annual temperature (MAT) ranges from 216.5 8C to 27.5 8C; mean annual rainfall (MAR) ranges from 133 to 5,300 mm per year. This cove...</span></p></div></div><div><div><p><span><i><span>Arch Gen Psychiatry</span></i> volume 52, issue 12, P1048</span></p><p><span>Posttraumatic stress disorder is more prevalent than previously believed, and is often persistent. Progress in estimating age-at-onset distributions, cohort effects, and the conditional probabilities of PTSD from different types of trauma will require future epidemiologic studies to assess PTSD for all lifetime traumas rather than for only a small number of retrospectively reported "most serious" traumas.</span></p></div></div><div><div><p><span><i><span>Arch Gen Psychiatry</span></i> volume 51, issue 1, P8</span></p><p><span>The prevalence of psychiatric disorders is greater than previously thought to be the case. Furthermore, this morbidity is more highly concentrated than previously recognized in roughly one sixth of the population who have a history of three or more comorbid disorders. This suggests that the causes and consequences of high comorbidity should be the focus of research attention. The majority of people with psychiatric disorders fail to obtain professional treatment. Even among people with a lifetime history of three or more comorbid disorders, the proportion who ever obtain specialty sector mental health treatment is less than 50%. These results argue for the importance of more outreach and more research on barriers to professional help-seeking.</span></p></div></div><div><div><p><span><i><span>British Journal of Social Psychology</span></i> volume 40, issue 4, P471-499</span></p><p><span>The Theory of Planned Behaviour (TPB) has received considerable attention in the literature. The present study is a quantitative integration and review of that research. From a database of 185 independent studies published up to the end of 1997, the TPB accounted for 27% and 39% of the variance in behaviour and intention, respectively. The perceived behavioural control (PBC) construct accounted for significant amounts of variance in intention and behaviour, independent of theory of reasoned action variables. When behaviour measures were self-reports, the TPB accounted for 11% more of the variance in behaviour than when behaviour measures were objective or observed (R2s = .31 and .21, respectively). Attitude, subjective norm and PBC account for significantly more of the variance in individuals' desires than intentions or self-predictions, but intentions and self-predictions were better predictors of behaviour. The subjective norm construct is generally found to be a weak predictor of intentions. This is partly attributable to a combination of poor measurement and the need for expansion of the normative component. The discussion focuses on ways in which current TPB research can be taken forward in the light of the present review.</span></p></div></div><div><div><p><span><i><span>The Journals of Gerontology Series A: Biological Sciences and M</span></i> volume 56, issue 3, PM146-M157</span></p><p>No abstract</p></div></div><div><div><p><span><i><span>Nat Rev Neurosci</span></i> volume 3, issue 3, P201-215</span></p><p><span>We review evidence for partially segregated networks of brain areas that carry out different attentional functions. One system, which includes parts of the intraparietal cortex and superior frontal cortex, is involved in preparing and applying goal-directed (top-down) selection for stimuli and responses. This system is also modulated by the detection of stimuli. The other system, which includes the temporoparietal cortex and inferior frontal cortex, and is largely lateralized to the right hemisphere, is not involved in top-down selection. Instead, this system is specialized for the detection of behaviourally relevant stimuli, particularly when they are salient or unexpected. This ventral frontoparietal network works as a 'circuit breaker' for the dorsal system, directing attention to salient events. Both attentional systems interact during normal vision, and both are disrupted in unilateral spatial neglect.</span></p></div></div><div><div><p><span><i><span>The Lancet</span></i> volume 358, issue 9286, P958-965</span></p><p><span>In patients with chronic hepatitis C, the most effective therapy is the combination of peginterferon alfa-2b 1.5 microg/kg per week plus ribavirin. The benefit is mostly achieved in patients with HCV genotype 1 infections.</span></p></div></div><div><div><p><span><i><span>Arch Gen Psychiatry</span></i> volume 62, issue 6, P593</span></p><p><span>About half of Americans will meet the criteria for a DSM-IV disorder sometime in their life, with first onset usually in childhood or adolescence. Interventions aimed at prevention or early treatment need to focus on youth.</span></p></div></div><div><div><p><span><i><span>Science</span></i> volume 199, issue 4335, P1302-1310</span></p><p><span>The commonly observed high diversity of trees in tropical rain forests and corals on tropical reefs is a nonequilibrium state which, if not disturbed further, will progress toward a low-diversity equilibrium community. This may not happen if gradual changes in climate favor different species. If equilibrium is reached, a lesser degree of diversity may be sustained by niche diversification or by a compensatory mortality that favors inferior competitors. However, tropical forests and reefs are subject to severe disturbances often enough that equilibrium may never be attained.</span></p></div></div><div><div><p><span><i><span>Biometrics</span></i> volume 33, issue 1, P159</span></p><p><span>This paper presents a general statistical methodology for the analysis of multivariate categorical data arising from observer reliability studies. The procedure essentially involves the construction of functions of the observed proportions which are directed at the extent to which the observers agree among themselves and the construction of test statistics for hypotheses involving these functions. Tests for interobserver bias are presented in terms of first-order marginal homogeneity and measures of interobserver agreement are developed as generalized kappa-type statistics. These procedures are illustrated with a clinical diagnosis example from the epidemiological literature.</span></p></div></div></div></div>]]>
            </description>
            <link>https://scite.ai/search?disputingFrom=1&amp;page=1&amp;sortOn=tally.contradicting&amp;sortOrder=desc&amp;supportingFrom=1&amp;supportingTo=2</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544879</guid>
            <pubDate>Mon, 21 Sep 2020 15:57:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Immunity to Covid-19 is probably higher than tests have shown]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24544727">thread link</a>) | @nradov
<br/>
September 21, 2020 | https://news.ki.se/immunity-to-covid-19-is-probably-higher-than-tests-have-shown | <a href="https://web.archive.org/web/*/https://news.ki.se/immunity-to-covid-19-is-probably-higher-than-tests-have-shown">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img src="https://news.ki.se/sites/default/files/styles/article_full_width/public/qbank/Ljunggren_HansGustaf_13_SIR-custom20200629160009.jpg" alt="Portrait of Hans-Gustaf Ljunggren"></p><p>Hans-Gustaf Ljunggren. Photo: Ulf Sirborn</p>
                  </div><div>
        
            <p>“Our results indicate that public immunity to COVID-19 is probably significantly higher than antibody tests have suggested,” says Professor <a href="https://staff.ki.se/people/hanlju">Hans-Gustaf Ljunggren</a> at the Center for Infectious Medicine, Karolinska Institutet, and co-senior author. “If this is the case, it is of course very good news from a public health perspective.”</p>

<p>T-cell analyses are more complicated to perform than antibody tests and at present are therefore only done in specialised laboratories, such as that at the Center for Infectious Medicine at Karolinska Institutet.</p>

<p>“Larger and more longitudinal studies must now be done on both T cells and antibodies to understand how long-lasting the immunity is and how these different components of COVID-19 immunity are related,” says Marcus Buggert.</p>

<p><a href="https://www.biorxiv.org/content/10.1101/2020.06.29.174888v1">The results were first published on 29 June 2020 on a preprint server, bioRxiv</a> (see box) and a previous version of this news article was then published. The study has now undergone peer review and been published in the scientific journal <em>Cell.&nbsp;</em>In connection with this, <a href="https://www.eurekalert.org/pub_releases/2020-08/cp-mcc081720.php">Cell Press issued a press release about the results</a>.</p>

<p>The study was financed by the Knut and Alice Wallenberg Foundation, Nordstjernan AB, the Swedish Research Council, Karolinska Institutet, the Swedish Society for Medical Research, the Jeansson Foundations, the Åke Wiberg Foundation, the Swedish Society of Medicine, the Swedish Cancer Society, the Swedish Childhood Cancer Foundation, the Magnus Bergvall Foundation, the Hedlund Foundation, the Lars Hierta Foundation, the Swedish Physicians against AIDS foundation, the Jonas Söderquist Foundation, the Clas Groschinsky Memorial Foundation, and the Wellcome Trust.&nbsp;The authors report no conflicts of interest or patents associated with the results of the study.</p>

<h2>Publication</h2>

<p><a href="https://www.cell.com/cell/fulltext/S0092-8674(20)31008-4">“Robust T cell immunity in convalescent individuals with asymptomatic or mild COVID-19”</a><br>
Takuya Sekine, André Perez-Potti, Olga Rivera-Ballesteros, Jean-Baptiste Gorin, Annika Olsson, Habiba Kamal, Sian Llewellyn-Lacey, David Wulliman, Tobias Kamann, Gordana Bogdanovic, Sandra Muschiol, Elin Folkesson, Olav Rooyackers, Lars I. Eriksson, Anders Sönnerborg, Tobias Allander, Jan Albert, Morten Nielsen, Kristoffer Strålin, Sara Gredmark-Russ, Niklas K. Björkström, Johan K. Sandberg, David A. Price, Hans-Gustaf Ljunggren, Soo Aleman, Marcus Buggert, Karolinska COVID-19 Study Group.<br><em>Cell</em>, online 14 August 2020, doi:&nbsp;10.1016/j.cell.2020.08.017</p>
      
      </div></div>]]>
            </description>
            <link>https://news.ki.se/immunity-to-covid-19-is-probably-higher-than-tests-have-shown</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544727</guid>
            <pubDate>Mon, 21 Sep 2020 15:46:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dynamic Scoping in C++]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 54 (<a href="https://news.ycombinator.com/item?id=24544716">thread link</a>) | @stettberger
<br/>
September 21, 2020 | https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP.html | <a href="https://web.archive.org/web/*/https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page-post-dynamic-scope-cpp">
            <ol>
                      <li><a href="https://blog.dokucode.de/index.html">Home</a></li>

    <li><a href="https://blog.dokucode.de/posts.html">Posts</a></li>

    <li><strong>Dynamic Scoping in C++</strong> </li>

    </ol>

           
  <p><i>Date: 2020-07-10</i></p><p>I always had a faible for dynamic scoping as it is implemented in
Common Lisp, Emacs Lisp, or LaTeX. To me, it seems that dynamic
scoping is an almost forgotten technique and dismissed technique in
modern programming. While it is more complex to understand and more
magically than lexical scoping, there are some applications that
benefit from dynamic scoping.</p>
<p>In lexical scoping, if you access a variable, your compiler will start
searching the declaration from the point of reference outwards in
lexical order. This means it searches first in the most inner scope,
and continoues to widen its search scope by the "closed-nested-scope
rule". For example, in the following code snippet, the call to <code>foo()</code>
would return 23, as the lexcially-closest declaration is the global variable.</p>
<div><pre><span></span><span>int</span> <span>config</span> <span>=</span> <span>23</span><span>;</span>

<span>return</span> <span>foo</span><span>()</span> <span>{</span>
    <span>return</span> <span>config</span><span>;</span>
<span>}</span>

<span>void</span> <span>bar</span><span>()</span> <span>{</span>
    <span>int</span> <span>config</span> <span>=</span> <span>42</span><span>;</span>
    <span>printf</span><span>(</span><span>"%d</span><span>\"</span><span>, foo());</span>
<span>}</span>
</pre></div>


<p>With dynamic scoping, the world would look different as the closest
(time-wise) dynamic binding for a given name is found instead of
lexically closest. In the example, <code>foo()</code> would return 42, as the
binding in <code>bar()</code> happened more recently that the global binding.</p>
<p>You can think of a dynamically-scoped global variable as shadowable
global binding. By creating a new binding for the variable, we shadow
the old binding, and all references in child functions will now refer
to the new binding, although they have not received the value via an
argument transfer. Ergo, dynamically-scoped variables are shadowable
side-channels that can influence the behavior of a function.</p>
<p>For example, in Common Lisp, the variable <code>*standard-output*</code> is
dynamically scoped and functions <code>(print)</code> simply send there
characters to that variable. As it is dynamically scoped, we can just
redirect all output to a file by creating a new binding for
<code>*standard-output*</code>.</p>
<div><pre><span></span><span>(</span><span>with-open-file</span> <span>(</span><span>*standard-output*</span> <span>"somefile.dat"</span> <span>:direction</span> <span>:output</span>
                                   <span>:if-exists</span> <span>:supersede</span><span>)</span>
   <span>(</span><span>print</span> <span>"this goes into file"</span><span>))</span>
</pre></div>


<p>Wouldn't it be neat to do the same in, let's say, C++? Luckily, with
templates, the RAII pattern, and some template magic, we can write
code like this:</p>
<div><pre><span></span><span>DynamicScope</span><span>&lt;</span><span>int</span><span>&gt;</span> <span>G</span><span>(</span><span>0</span><span>);</span>

<span>void</span> <span>bar</span><span>()</span> <span>{</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"bar "</span> <span>&lt;&lt;</span> <span>*</span><span>G</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>
<span>}</span>

<span>void</span> <span>foo</span><span>()</span> <span>{</span>
    <span>DynamicScope</span><span>&lt;</span><span>int</span><span>&gt;::</span><span>BindInstance</span> <span>_</span><span>(</span><span>G</span><span>,</span> <span>3</span><span>);</span>
    <span>bar</span><span>();</span>
<span>}</span>
<span>int</span> <span>main</span><span>()</span> <span>{</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"main1 "</span> <span>&lt;&lt;</span> <span>*</span><span>G</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>
    <span>foo</span><span>();</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"main2 "</span> <span>&lt;&lt;</span> <span>*</span><span>G</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>

<span>}</span>
</pre></div>


<p>and end up with the output:</p>



<p>The source for the <code>DynamicScope&lt;T&gt;</code> can be found here:    <a href="https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP/dynamic_scope.cc">dynamic_scope.cc</a>
</p>
<h2 id="update-23092020-multi-threaded-programs">[UPDATE 23.09.2020] Multi-Threaded Programs</h2>
<p>After some discussion on
<a href="https://news.ycombinator.com/item?id=24544716">HackerNews</a> (which I
highly recommend to read), I was made aware that the previous
implementation has a problem with multi-threaded programs. As all
threads share the same global objects as a root to their dynamic-scope
value stack, bindings in one thread had an influence on the bindings
in another thread. Of coure, this would be a broken version of dynamic
scoping.</p>
<p>The problem can be circumvented by making the global variable thread local:</p>
<div><pre><span></span><span>thread_local</span> <span>DynamicScope</span><span>&lt;</span><span>int</span><span>&gt;</span> <span>G</span><span>(</span><span>0</span><span>);</span>
</pre></div>


<p>With this, every thread has its own version of the G object, which
internally is the head of a linked list of the shadowed values.
However, someone could forget the add the required thread_local attribute.</p>
<p>Unluckily, checking whether the storage class of a given variable is
thread_local is not that trivial. However, I came up with a rather
low-cost sanity check that ensures that a variable must be declared
<code>thread_local</code>. The updated version of <code>DynamicScope&lt;T&gt;</code>, as well as
some benchmarking code, can be found here:    <a href="https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP/thread_dynamic_scope.cc">thread_dynamic_scope.cc</a>
</p>
      </div></div>]]>
            </description>
            <link>https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544716</guid>
            <pubDate>Mon, 21 Sep 2020 15:45:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dating is better than ever with social distancing]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24544686">thread link</a>) | @colinprince
<br/>
September 21, 2020 | https://www.cbc.ca/radio/thedebaters/dating-is-actually-better-than-ever-with-social-distancing-1.5629793 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/thedebaters/dating-is-actually-better-than-ever-with-social-distancing-1.5629793">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>DeAnne Smith and Arthur Simeon have each other’s number when they discuss if social distancing improves dating.</p><div><figure><div><p><img alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5629807.1593220440!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/social-distance-dating.jpg"></p></div><figcaption> <!-- -->(CCO/Pexels)</figcaption></figure><p><span></span><span>Listen</span><span>17:15</span></p><p><span><p><a href="http://www.deannesmith.com/" target="_blank">DeAnne Smith</a> and <a href="https://www.arthursimeon.com/" target="_blank">Arthur Simeon</a> have each other's number when they discuss if social distancing improves dating.</p>  <p>DeAnne Smith makes it clear why dating in isolation is their fascination.</p>    <blockquote><span><span><svg version="1.1" focusable="false" x="0px" y="0px" width="30px" height="25px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g><g><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g display="none"><g display="inline"> <path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg>Being in a new relationship during a global pandemic puts things in perspective. We're not evaluating each other on whether or not we want to grow old together&nbsp;but on whether or not we want to grow vegetables together.<svg focusable="false" x="0px" y="0px" width="23px" height="22px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g display="none"><g display="inline"><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g><g><path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg></span><cite>- DeAnne Smith</cite></span></blockquote>    <p>But Arthur Simeon says he's not willing to go the distance with social distance dating.</p>    <blockquote><span><span><svg version="1.1" focusable="false" x="0px" y="0px" width="30px" height="25px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g><g><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g display="none"><g display="inline"> <path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg>Every first date is happening via video call so while you don't have to be bothered by showering or wearing anything below the waist, you still have to find the most 'interesting' corner of your house to make the call.<svg focusable="false" x="0px" y="0px" width="23px" height="22px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g display="none"><g display="inline"><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g><g><path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg></span><cite>- Arthur Simeon</cite></span></blockquote>    <p>For a debate that will make you feel like a lovesick quaran-teen-ager, click play now!</p>  </span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/thedebaters/dating-is-actually-better-than-ever-with-social-distancing-1.5629793</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544686</guid>
            <pubDate>Mon, 21 Sep 2020 15:42:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tesla Patents Metal-Air Battery Pack, May Be Strong Clue for Battery Day 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24544532">thread link</a>) | @CarCooler
<br/>
September 21, 2020 | https://www.evunite.com/blog/tesla-patent-metal-air-battery-granted-prior-to-2020-battery-day/ | <a href="https://web.archive.org/web/*/https://www.evunite.com/blog/tesla-patent-metal-air-battery-granted-prior-to-2020-battery-day/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <div> <div> <div id="page-container"> <div> <div> <div data-elementor-type="wp-post" data-elementor-id="2779" data-elementor-settings="[]"> <div> <div> <section data-id="6bc62c5" data-element_type="section">  </section> <section data-id="702536d3" data-element_type="section">  </section> <section data-id="53968388" data-element_type="section">  </section> <section data-id="3d19741f" data-element_type="section">  </section> <section data-id="662e3ffd" data-element_type="section"> <div> <div> <div data-id="588612e5" data-element_type="column"> <div> <div> <div data-id="77b28d53" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Tesla has just been granted US Patent number 10763477 for a safety method for a metal-air battery pack just weeks prior to Battery Day 2020.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="44f65aa" data-element_type="section">  </section> <section data-id="37698834" data-element_type="section">  </section> <section data-id="f135235" data-element_type="section">  </section> <section data-id="4ee04b3e" data-element_type="section">  </section> <section data-id="cc7e44f" data-element_type="section">  </section> <section data-id="af84093" data-element_type="section">  </section> <section data-id="7818ce11" data-element_type="section"> <div> <div> <div data-id="16baea41" data-element_type="column"> <div> <div> <div data-id="7b44360e" data-element_type="widget" data-widget_type="image.default"> <div> <p> <figure> <amp-img width="591" height="756" src="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477.jpg" alt="Tesla USPTO Patent 10773477" srcset="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477.jpg 591w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477-235x300.jpg 235w" layout="intrinsic"><amp-img fallback="" width="591" height="756" src="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png" alt="Tesla USPTO Patent 10773477" srcset="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png 591w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-USPTO-Patent-10773477-235x300.jpg 235w" layout="intrinsic"></amp-img></amp-img> <figcaption>Tesla USPTO Patent 10773477</figcaption> </figure> </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="6ae55e6e" data-element_type="section"> <div> <div> <div data-id="9b44c54" data-element_type="column"> <div> <div> <div data-id="4fada51d" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>As <a href="https://www.tesla.com/2020shareholdermeeting?#:~:text=2020%20Annual%20Meeting%20of%20Stockholders%20and%20Battery%20Day%20Tuesday%2C%20September,1%3A30%20PM%20Pacific%20Time." target="_blank" rel="noopener">Tesla Battery Day</a> (9/22/2020) quickly approaches Tesla owners, tech enthusiasts, TSLA shareholders, investors, and many others are eagerly waiting to see what Elon Musk will unveil on this highly anticipated day. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="ead78f6" data-element_type="section">  </section> <section data-id="815ebe4" data-element_type="section">  </section> <section data-id="b8cdac3" data-element_type="section"> <div> <div> <div data-id="9d3c67f" data-element_type="column"> <div> <div> <div data-id="6378188" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>One of these “exciting things” may be directly tied to Tesla’s newly granted piece of IP that has been added to its ever-growing collection.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="0dddc07" data-element_type="section">  </section> <section data-id="22a8552" data-element_type="section">  </section> <section data-id="23e7e10" data-element_type="section">  </section> <section data-id="654483b" data-element_type="section"> <div> <div> <div data-id="517444a" data-element_type="column"> <div> <div> <div data-id="579704c" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>The inventor behind the patent is Tesla’s Vice President of Cell and Product Development <a href="https://www.linkedin.com/in/wes-hermann-879b49132/" target="_blank" rel="noopener">Weston Arthur Hermann</a>. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="20396a5" data-element_type="section"> <div> <div> <div data-id="be7bfcf" data-element_type="column"> <div> <div> <div data-id="65d687f" data-element_type="widget" data-widget_type="he.default"> <p> <h2>What is a Metal-Air Cell?</h2> </p> </div> </div> </div> </div> </div> </div> </section> <section data-id="b5fbb4c" data-element_type="section">  </section> <section data-id="53d61bb" data-element_type="section"> <div> <div> <div data-id="2ca13a4" data-element_type="column"> <div> <div> <div data-id="1f7746c" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>As stated on Wikipedia “A metal–air electrochemical cell is an electrochemical cell that uses an anode made from pure metal and an external cathode of ambient air, typically with an aqueous or aprotic electrolyte.”</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="ea4541c" data-element_type="section">  </section> <section data-id="be9780c" data-element_type="section"> <div> <div> <div data-id="1fd144c" data-element_type="column"> <div> <div> <div data-id="711187a" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>While this definition is technical jargon to most people, what is important are the benefits of a metal-air cell.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="11fd00f" data-element_type="section"> <div> <div> <div data-id="4ca3188" data-element_type="column"> <div> <div> <div data-id="f00a0b5" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Essentially the capacity and energy density of metal–air electrochemical cells is higher than that of lithium-ion batteries.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="fd158a6" data-element_type="section"> <div> <div> <div data-id="aa6682d" data-element_type="column"> <div> <div> <div data-id="8d9ff5b" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>This makes them a prime candidate for use in electric vehicles as it extends the range of the vehicle while maintaining a low volumetric space requirement to store the cells onboard the vehicle. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="e5dea4e" data-element_type="section">  </section> <section data-id="c53c097" data-element_type="section">  </section> <section data-id="b58b08f" data-element_type="section">  </section> <section data-id="75d70b2" data-element_type="section">  </section> <section data-id="57d2c50" data-element_type="section"> <div> <div> <div data-id="8a8ab76" data-element_type="column"> <div> <div> <div data-id="2c505be" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>As stated on Wikipedia “However, complications associated with the metal anodes, catalysts, and electrolytes have hindered development and implementation of metal–air batteries.”</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="c7e9948" data-element_type="section"> <div> <div> <div data-id="5b82949" data-element_type="column"> <div> <div> <div data-id="663bd3f" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>It turns out that metal-air cells are prone to <a href="https://en.wikipedia.org/wiki/Thermal_runaway?#:~:text=Thermal%20runaway%20occurs%20in%20situations,kind%20of%20uncontrolled%20positive%20feedback." target="_blank" rel="noopener">thermal runaway</a> (a fancy way to say that they can overheat and explode).</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="6c8043e" data-element_type="section"> <div> <div> <div data-id="a68a566" data-element_type="column"> <div> <div> <div data-id="302fd1f" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>And that is where Tesla’s patent comes into play!</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="e0233b2" data-element_type="section">  </section> <section data-id="56103cb" data-element_type="section">  </section> <section data-id="1df3a0f2" data-element_type="section">  </section> <section data-id="1f8034d" data-element_type="section">  </section> <section data-id="9c37402" data-element_type="section"> <div> <div> <div data-id="c8c831d" data-element_type="column"> <div> <div> <div data-id="0d8484b" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Tesla’s patent establishes a method for safely mitigating the effects in the case of a thermal runaway scenario and as stated in the patent:</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="84a8d3e" data-element_type="section">  </section> <section data-id="565ce37" data-element_type="section"> <div> <div> <div data-id="4bfab7f" data-element_type="column"> <div> <div> <div data-id="a321c17" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p> “…the risks to vehicle passengers, bystanders, first responders and property are limited.”</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="46574e0" data-element_type="section"> <div> <div> <div data-id="51cb81a" data-element_type="column"> <div> <div> <div data-id="cf9d77b" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>Tesla’s patent outlines a method which solves the underlying issue that has prevented others from pursuing metal-air battery cells.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="54aa3a7" data-element_type="section"> <div> <div> <div data-id="6ad4cb3" data-element_type="column"> <div> <div> <div data-id="c5921df" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>In addition to solving the thermal runaway issue, the patent also outlines a method for combining BOTH metal-air battery cells AND lithium-ion battery cells to power a vehicle.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="3058a6f" data-element_type="section"> <div> <div> <div data-id="8eb94a6" data-element_type="column"> <div> <div> <div data-id="f5d8069" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>This is shown in the block diagram below directly taken from the patent:</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="7896c65" data-element_type="section"> <div> <div> <div data-id="ea8ba93" data-element_type="column"> <div> <div> <div data-id="7fee31d" data-element_type="widget" data-widget_type="image.default"> <div> <p> <figure> <amp-img width="640" height="393" src="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min.jpg" alt="Tesla Patent 10763477 Figure Metal Air and Lithium Ion Combined Battery Pack" srcset="https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min.jpg 660w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min-300x184.jpg 300w" layout="intrinsic"><amp-img fallback="" width="640" height="393" src="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png" alt="Tesla Patent 10763477 Figure Metal Air and Lithium Ion Combined Battery Pack" srcset="https://evunite.com/wp-content/plugins/accelerated-mobile-pages/images/SDdf-image.png 660w, https://www.evunite.com/wp-content/uploads/2020/09/Tesla-Patent-Figure-Metal-Air-Battery-Pack-min-300x184.jpg 300w" layout="intrinsic"></amp-img></amp-img> <figcaption>Tesla Patent 10763477 Figure Metal Air and Lithium Ion Combined Battery Pack</figcaption> </figure> </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="97addee" data-element_type="section"> <div> <div> <div data-id="7139fb8" data-element_type="column"> <div> <div> <div data-id="dcab827" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>The Tesla patent outlines a method for distributing power from a combined metal-air and lithium-ion battery pack system to a drive train by use of a controller.</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="cc3247b" data-element_type="section"> <div> <div> <div data-id="59d163f" data-element_type="column"> <div> <div> <div data-id="431e43a" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>This hybrid style battery pack may allow Tesla to reap the benefits of both technologies and minimize risk. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="45db4b44" data-element_type="section">  </section> <section data-id="bceb107" data-element_type="section">  </section> <section data-id="45e202a" data-element_type="section">  </section> <section data-id="932de69" data-element_type="section">  </section> <section data-id="5d140034" data-element_type="section"> <div> <div> <div data-id="6b2e852e" data-element_type="column"> <div> <div> <div data-id="71d64e9f" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>The reality is that we will all need to be patient and wait until Battery Day to find out what will be revealed. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="1ec6523" data-element_type="section"> <div> <div> <div data-id="94b9f2f" data-element_type="column"> <div> <div> <div data-id="13b89f3" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>But connecting the dots, it is very possible that Tesla will announce the use of metal-air batteries in their future cars. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="1d2b16a" data-element_type="section"> <div> <div> <div data-id="c345090" data-element_type="column"> <div> <div> <div data-id="6ca2a96" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>And even if this is NOT the announcement that will be made, it is still exciting to see Tesla patent potentially game changing technologies for future use. </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="4d433a9" data-element_type="section"> <div> <div> <div data-id="982b937" data-element_type="column"> <div> <div> <div data-id="47c4452" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p>So what are your thoughts? Do you think Tesla will announce metal-air cell battery packs on Battery Day? Do you think this technology will be utilized in the future? </p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="1b1398f" data-element_type="section"> <div> <div> <div data-id="3f71f60" data-element_type="column"> <div> <div> <div data-id="769ceca" data-element_type="widget" data-widget_type="text-editor.default"> <div> <p> Leave a comment below and join the conversation!</p> </div> </div> </div> </div> </div> </div> </div> </section> <section data-id="3244e94" data-element_type="section">  </section> <section data-id="ce72d76" data-element_type="section">  </section> <section data-id="13d7259" data-element_type="section">  </section> <section data-id="8f64605" data-element_type="section">  </section> <section data-id="73e08821" data-element_type="section">  </section> <section data-id="657d4234" data-element_type="section">  </section> <section data-id="1efcef52" data-element_type="section">  </section> <section data-id="4b1885e" data-element_type="section">  </section> <section data-id="7761e30c" data-element_type="section">  </section> <section data-id="532d0d3c" data-element_type="section">  </section> <section data-id="3deb64a" data-element_type="section">  </section> <section data-id="fdd5158" data-element_type="section">  </section> <section data-id="8c66bad" data-element_type="section">  </section> <section data-id="b50e447" data-element_type="section">  </section> </div> </div> </div> </div> </div> </div> </div> </div> </div></div>]]>
            </description>
            <link>https://www.evunite.com/blog/tesla-patent-metal-air-battery-granted-prior-to-2020-battery-day/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544532</guid>
            <pubDate>Mon, 21 Sep 2020 15:27:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[3 Basic Rules of Productivity]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24544084">thread link</a>) | @iuliangulea
<br/>
September 21, 2020 | https://iuliangulea.com/blog/how-people-learn-3-basic-rules-of-productivity/ | <a href="https://web.archive.org/web/*/https://iuliangulea.com/blog/how-people-learn-3-basic-rules-of-productivity/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    
    <p><img src="https://iuliangulea.com/images/how-people-learn/working-memory/3-basic-rules-of-productivity-cover.png" alt="3 Basic Rules Of Productivity Cover"></p>
<p>Have you ever wondered what happens inside our brain whenever we are thinking about something? How some people have great ideas, are able to learn fast, and are incredibly productive, while others are struggling with finalizing even a simple task? There are many components to this process, and in this article, you will learn about one of them.</p>
<p>Working Memory is one of the <a href="https://iuliangulea.com/blog/how-people-learn-memory-storage-types/">several memory types</a> where information is processed and manipulated before it is either discarded or committed to the long-term storage. Understanding its nuances can allow us to be more efficient in using it and be a bit more productive at what we do.</p>
<p>And since it is at the core of information processing by our brain, the things you are about to learn are independent of the domain you are working in.</p>
<h2 id="an-strikeirstrikerelevant-example-first">An <strike>Ir</strike>relevant Example First</h2>
<p>I don’t know how many articles online make you do exercises, but let’s do one right now. Moreover, I count on your integrity to follow the exercise’s directions since I cannot check you play by the rules.</p>
<h3 id="exercise-description">Exercise Description</h3>
<p>You will see below two blank boxes. Upon clicking on “Show Letters,” you will see two sequences (one after another) of random characters for 7 seconds each.</p>
<p><em>Rule # 1:</em> after you click on the button, you have 7 seconds to read and memorize the first sequence, and 7 seconds for the second one (the sequences will display automatically, you only have to click on the button once).
<em>Rule #2:</em> do not use any note-taking software (doc, excel, text editor, etc.) or hardware (pen and paper, pen and table, pen and walls; a pencil if fine though!). Well, you can, but you will miss the whole point of it.</p>

<p>abcdlmnowxyz</p>
<p>gdluwcemjroc</p>   
<p>Great! How it went? Sorry if you tried to click on a box the second time, and it didn’t show up. I put some sophisticated locking mechanisms in place to prevent that.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>
<p>Now, there are two more boxes below. Click on each of them, input the characters you memorized, and see how good you have performed on the task.</p>
<div id="boxAnswer1">
    
    <div id="comparisonData1">
        <p>abcdlmnowxyz</p>
        <p>&lt;-- Original sequence</p>
    </div>
    
</div>
<div id="boxAnswer2">
    
    <div id="comparisonData2">
        <p>gdluwcemjroc</p>
        <p>&lt;-- Original sequence</p>
    </div>
    
</div>   
<p>If you got neither of them correctly, do not worry. 7 seconds is quite fast, and, as you will see next, the capacity of Working Memory is limited.</p>
<p>If you did remember only the first one, though, how did you do it? Most people usually memorize it as three distinct subsets: <code>abcd</code> <code>lmno</code> <code>wxyz</code>. It is relatively easy to remember it because of several reasons:</p>
<ul>
<li>instead of 12 units of information (characters, in this case), you had to memorize much less (3 letters and the length of the groups–4);</li>
<li>you have inherent knowledge about the alphabet (if you, dear reader, are older than 6 years);</li>
<li>you have advanced <a href="https://en.wikipedia.org/wiki/Pattern_recognition_(psychology)">pattern recognition</a> abilities that help you discern and group units of information into collections;</li>
</ul>
<p>But what about the second sequence?</p>
<p>How did you attempt to memorize it? Maybe you have split the characters into chunks of 3 or 4 letters and tried to remember the groups, or perhaps you made words out of different adjacent letters and memorized those, or even you came up with a totally different strategy. Anyway, it is usually harder to remember the second sequence. And that is because the amount of information exceeded the capacity of our Working Memory. You had to memorize 12 units of information (or had to search anxiously for some associations to find a way to group those letters), while you have much less space to process at once in such a short period of time.</p>
<p>Let’s do one more similar exercise, but this time with numbers.</p>

<p>193919451969</p>
<p>826492104350</p>   
<p>How did it go? You can verify your answers below.</p>
<div id="boxAnswer3">
    
    <div id="comparisonData3">
        <p>193919451969</p>
        <p>&lt;-- Original sequence</p>
    </div>
    
</div>
<div id="boxAnswer4">
    
    <div id="comparisonData4">
        <p>826492104350</p>
        <p>&lt;-- Original sequence</p>
    </div>
    
</div>   

   
<p>There are two main approaches to store the first sequence of digits. The first is to combine them by 2, getting 19, 39, 19, 45, 19, and 69. You have 19 repeating three times, a 39 and 69 that are divisible by three, and a 45 that you just have to remember. But this approach is suboptimal. A more efficient one is to group them by four and use some knowledge of history. You can represent that sequence as three numbers: <code>1939</code>, <code>1945</code>, and <code>1969</code>. The first two are the start and end of the Second World War, and the third is the year of the <a href="https://en.wikipedia.org/wiki/Apollo_11">Apollo 11 moon landing</a>. So you just need to remember three chunks of information rather than 12. It is another demonstrative example that shows how our brain not only seeks to encode and compress information (as in the previous example with the first character sequence), but also it heavily relies on existing knowledge (as in the case with the WWII and moon landing years). The approaches you take may also vary in their efficiency.</p>
<p>The second one does not have any specific pattern to follow. Maybe you divided the sequence into groups of two or three or even four digits, or perhaps you tried to find a rule to group them. For instance, 82 add up to 10, then 64 add up to 10, but it’s not consistent. You’ll arrive at 92, and it doesn’t add up to 10. The approaches can be very different here, but the conclusion is the same - the second sequence is harder to remember because there is no exact rule or compression algorithm that would facilitate the remembering.</p>
<h2 id="the-working-memory-capacity">The Working Memory Capacity</h2>
<p>We saw that it is hard to memorize a sequence of 12 items, which implies that its capacity should be smaller than that, as otherwise, you would effortlessly remember those 12 pieces of information. But how <strike>big</strike> small is it?</p>
<p>The first quantification of the working memory capacity was provided in 1956 in a paper by George A. Miller titled: <em>“The Magical Number Seven, Plus or Minus Two: Some Limits on Our Capacity for Processing Information."</em> It is one of the most highly cited papers in psychology<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> with over 33400 papers that cited it (at the time of writing), according to <a href="https://scholar.google.com/scholar?hl=en&amp;as_sdt=0%2C5&amp;q=The+magical+number+seven%2C+plus+or+minus+two%3A+Some+limits+on+our+capacity+for+processing+information.&amp;btnG=">Google Scholar</a>. In his paper, Miller claims the working memory capacity to be 7±2 “chunks,” to which I’ll get shortly.</p>
<p>But since 1956, the Working Memory was actively researched and studied, and other theories of its capacity emerged. One such prominent hypothesis is that of Nelson Cowan, who in 2001 published the paper titled <em>“The magical number 4 in short-term memory: A reconsideration of mental storage capacity,"</em> in which, you guessed, he suggests a smaller capacity of <em>four chunks.</em></p>
<h2 id="what-is-a-chunk-anyway">What Is A Chunk Anyway?</h2>
<p>Since we can store a very limited amount of chunks in the Working Memory for processing, how does one define a <em>chunk?</em></p>
<p>Unfortunately, there is no concrete answer to this question because it is a relative measure that depends on the type of information and the pre-existing knowledge of the person who operates with it.</p>
<p>It can vary greatly:</p>
<ul>
<li>If you are not familiar with the Russian language, the sequence <code>плюшечка</code> would result in a chunk being the size of an individual letter (or even less), since you don’t have implicit knowledge about it. However, it would represent a single chunk for a Russian speaking person since it is a real word (in a diminutive form).</li>
<li>Distinct words such as <em>job, emotion, productivity</em> may represent single chunks.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></li>
<li>Combinations of words like <em>“The Fellowship Of The Ring,” “The Two Towers,” “The Return Of The King”</em> can also be considered individual chunks.</li>
<li>Entire sentences can also represent chunks: “Today, I went to the seaside.” or “I am a responsible citizen, and I will vote.”</li>
<li>When thinking about them holistically, even entire chapters and books may represent single chunks, as in the Lord Of The Rings trilogy mentioned above.</li>
</ul>
<p>As you can see, there is no exact size for a chunk, as it depends on different factors, such as:</p>
<ul>
<li>familiarity with the topic;</li>
<li>complexity of the concept;</li>
<li>one’s mental agility;</li>
</ul>
<p>But chunks are not represented only by words on paper or screen:</p>
<ul>
<li>Chess players store groups of pieces together when they are asked to reproduce a chess arrangement from memory onto an empty chessboard.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> Therefore, a chunk represents the position of several figures at once.</li>
<li>Solving a simple math equation like <code>8 * 3 - 42 / 2 = ?</code> requires an iterative approach to load the operands with the highest priority (8 and 3) and the operation to perform (multiplication), then solve that simple equation and store the result in the WM (24), repeat with next pair of operands (42 / 2), hold the result (21), and finally, repeat one more time, by accessing the results of the two simple operations in the WM and doing the subtraction (24 - 21) to get 3.</li>
<li>Attending a meeting requires keeping different presented ideas in mind to reason about them, make connections with one’s own thoughts, or doing tons of other stuff with them.</li>
</ul>
<h2 id="navigating-the-hierarchical-structure-of-information-within-a-complex-network-of-associations">Navigating The Hierarchical Structure Of Information Within A Complex Network Of Associations</h2>
<p>You might wonder how a chunk may be represented by a single word as well as a whole book? After all, the amount of information differs immensely.</p>
<p>The idea here is how data is represented in our long-term memory and the agility of our Working Memory to combine information. The processes I have described run seamlessly and fast. When we read a sentence (not a random list of words), we expect a specific structure that we are very good at understanding. We know there is usually an action, an object, and a subject in a sentence.</p>
<p>So, when we read words, our Working Memory combines parts of the sentence into chunks and stores them in one of the four available memory slots. Then, once you are done reading a sentence, WM extracts all the relevant pieces that belong to the sentence you just read, combines them into a <em>superchunk,</em> and stores it in a single memory slot or even enter it into the long-term memory. Once you have read a paragraph, you combine several sentence superchunks into one, store it, and repeat the entire process. You thus create a hierarchy of information.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/working-memory/hierarchical-information.png" alt="Image of information hierarchy"></p>
<p>You can navigate it up and down. Say, you discuss the events described in the “Lord Of The Rings: The Fellowship Of The Ring” book with …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://iuliangulea.com/blog/how-people-learn-3-basic-rules-of-productivity/">https://iuliangulea.com/blog/how-people-learn-3-basic-rules-of-productivity/</a></em></p>]]>
            </description>
            <link>https://iuliangulea.com/blog/how-people-learn-3-basic-rules-of-productivity/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544084</guid>
            <pubDate>Mon, 21 Sep 2020 14:47:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Astrocytes could be essential to blood-brain barrier health]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24543922">thread link</a>) | @finphil
<br/>
September 21, 2020 | https://nuadox.com/post/629877618586615808/blood-brain-barrier-health | <a href="https://web.archive.org/web/*/https://nuadox.com/post/629877618586615808/blood-brain-barrier-health">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="629877618586615808">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/629877618586615808/blood-brain-barrier-health"><h2>Astrocytes could be essential to blood-brain barrier health</h2></a>
                                <figure data-orig-width="1920" data-orig-height="1280"><img src="https://64.media.tumblr.com/f865dbe97dc7268cf2f290640fd2a5f0/d76379001588b933-c7/s1280x1920/86e65187906060dffb218e749874c811ab117bbb.jpg" alt="image" data-orig-width="1920" data-orig-height="1280" width="1280" height="853"></figure><p><b>- By&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fvt.edu%2F&amp;t=NzQ2NDQ3YjY0NGEwOGY3ODhhNjk1YjJmNTEyOWM5NDdmMDZhYmVkYyxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">Virginia Tech</a> -</b></p><p>Hard skulls help protect our brains from physical injuries. In addition to a tough outer shell, brains have internal defenses, including a powerful shield called the blood-brain barrier that defends brain cells from substances in the bloodstream that are toxic and dangerous to nerve cells. If the blood-brain barrier is breached, then health problems arise.</p><p>Now, in a study with potential impacts on a variety of neurological diseases, Virginia Tech researchers have provided the first experimental evidence from a living organism to show that an abundant, star-shaped brain cell known as an astrocyte is essential for blood-brain barrier health.</p><p>The research in today’s online edition of the journal <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fonlinelibrary.wiley.com%2Fdoi%2Fabs%2F10.1002%2Fglia.23908&amp;t=Y2E3YzUwMzEzM2JjYTdiY2RmODBhNjQwMDI0M2Q4ZmM1M2RlODQ2ZCxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690"><i>GLIA</i></a> reassesses traditional claims about the role of astrocytes in the brain and confirms the long-held assumption — although it had been recently disputed — that astrocytes support the blood-brain barrier.</p><p>Furthermore, the finding gives scientists a path to understand diseases where frequent blood-brain barrier damage occurs, including traumatic brain injury, stroke, epilepsy, Alzheimer’s disease, and Parkinson’s disease.</p><p>“Blood-brain barrier leakage is a problem in the aging brain as well as many different neurological diseases,” said Stefanie Robel, an assistant professor at the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Ffbri.vtc.vt.edu%2F&amp;t=ZWU2NGY1MGY5YjNiMDVjZGFlMjY3OGJhYWI1YmJhODFkODE2NDM4NSxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">Fralin Biomedical Research Institute at VTC</a> and the study’s senior author. “Without astrocytes, the blood-brain barrier becomes leaky and ineffective, leaving brain tissue vulnerable to a variety of medical conditions. If we know what maintains the barrier in the healthy brain, we will be able to better understand what goes wrong in traumatic brain injury and in Alzheimer’s disease — all health problems with blood-brain barrier damage.”</p><p>Generally, researchers suspect astrocytes support the blood-brain barrier by releasing factors helpful to maintaining tight connections between the cells in the barrier. </p><p>In the new study, scientists with the Fralin Biomedical Research Institute genetically ablated a small number of astrocytes in adult mice to determine if the cells were necessary for blood-brain barrier health.</p><p>The researchers used small, intermediate-sized, and large molecular tracers to evaluate the permeability of the blood-brain barrier. All of the markers passed through the barrier in some areas, while in other areas only small tracers leaked, suggesting that leakages were happening at various sizes. </p><p>“We now have great tools to learn about what astrocytes really do in the adult brain,” said Robel, who is also an assistant professor in Virginia Tech’s <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fneuroscience.vt.edu%2F&amp;t=N2NiNjJlNDU0ZTlhNjhjMTM2OTZlZTIzMGI1YzI2Yzk0YTMzY2MyMSxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">School of Neuroscience</a>. “It’s possible that those leaks weren’t detected in previous studies.”</p><p>In recent years, contradictory studies have emerged in which scientists removed astrocytes in animal models with no indications of harm to the blood-brain barrier. </p><p>However, when Virginia Tech scientists used a mouse model to mimic the effect of the removal of astrocytes, varying degrees of permanent blood-brain barrier damage occurred, with the amount of damage possibly in proportion with the numbers of ablated astrocytes. In these scenarios, the scientists determined neighboring astrocytes do not rescue the blood-brain barrier when it is damaged.</p><p>The research began after the scientists challenged commonly accepted statements in neuroscience.</p><p>“I would read a review article that would say astrocytes maintain the blood-brain barrier in the adult healthy brain, but rarely was it followed by a citation that would show direct evidence of that fact,” said Benjamin Heithoff, the first author of the study and a graduate student who conducts research in the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Ffbri.vtc.vt.edu%2Fresearch%2Flabs%2Frobel.html&amp;t=N2U5NjI0M2VhMDM0NmU4YWU5ODljYTRlOTI3ZWZmZDFjOTE1NGE0MyxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">Robel lab</a> at the Fralin Biomedical Research Institute.</p><figure data-orig-width="1024" data-orig-height="749"><img src="https://64.media.tumblr.com/c316d47571b9a7301d48f0fb4d99e527/d76379001588b933-da/s1280x1920/131824229863137bb74ac5697096e322b775c0cf.jpg" alt="image" data-orig-width="1024" data-orig-height="749" width="1024" height="749"></figure><p><i>Image:&nbsp;Brain cells called astrocytes appear in green, and purple represents the leakage of the blood-brain barrier. Together they show that leakage occurs around areas where astrocytes have been ablated. Now, in a study with potential impacts on a variety of neurological diseases, Fralin Biomedical Research Institute scientists have provided the first experimental evidence from a living organism to show that astrocytes are essential for blood-brain barrier health. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fvtnews.vt.edu%2Farticles%2F2020%2F09%2Fbloodbrain-fralinbiomed-09142020.html&amp;t=NDNhZTVlOTJmMDllZjFmNTQxZjk4NGZjNzdiMzdmMDQ4OTRjM2QwOCxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">Ben Heithoff et al/Virginia Tech</a>.</i></p><p>“That lack of evidence told me that the field hadn’t quite teased apart this statement,“ Heithoff said. "Assumptions can be held for a long time, and it takes studies like ours, with more sensitive tools, to re-evaluate them. Now that we have reinforced this assumption with direct experimental data, we have positioned ourselves to identify how this vital function of astrocytes is impacted in disease and after injury.”</p><p>Breakdown of the blood-brain barrier is correlated with neurodegenerative disease. In cases of traumatic brain injury or concussion, the blood-brain barrier breakdown that can occur is associated with higher risk for lifelong consequences, including cognitive decline and permanent motor deficits.</p><p>“When people sustain a concussion, we used to consider this a ‘minor injury.’ But our follow-up study shows that the blood-brain barrier leakage persists in areas where astrocytes are not functioning correctly, which suggests there is a long-term, lasting dysfunction in the barrier,” said Heithoff, who is with the Department of Biological Sciences of the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.science.vt.edu%2Findex.html&amp;t=ZGU5MmZjMGY3YjJlMjk5ZTQyN2Q4ZWU0ZmYzNGRlOTU4YTQ1MWQ0MSxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">College of Science</a>. “Understanding how that problem occurs and how it can be remedied are important public health questions. We have to know what makes this barrier functional in order to develop effective treatments when it becomes dysfunctional.”</p><p>–</p><p><b>Source: <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fvtnews.vt.edu%2Farticles%2F2020%2F09%2Fbloodbrain-fralinbiomed-09142020.html&amp;t=NDNhZTVlOTJmMDllZjFmNTQxZjk4NGZjNzdiMzdmMDQ4OTRjM2QwOCxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">Virginia Tech</a></b></p><p><b>Full study:</b>&nbsp;“Astrocytes are necessary for blood–brain barrier maintenance in the adult mouse brain”, <i>GLIA</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fonlinelibrary.wiley.com%2Fdoi%2Fabs%2F10.1002%2Fglia.23908&amp;t=Y2E3YzUwMzEzM2JjYTdiY2RmODBhNjQwMDI0M2Q4ZmM1M2RlODQ2ZCxRRldXZFhKcg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629877618586615808%2Fblood-brain-barrier-health&amp;m=0&amp;ts=1600950690">https://doi.org/10.1002/glia.23908</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/625292527384264704/ebrains">EBRAINS: A ‘Google Earth of the brain’</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/brain">brain</a>
                                    
                                        <a href="https://nuadox.com/tagged/neuroscience">neuroscience</a>
                                    
                                        <a href="https://nuadox.com/tagged/medicine">medicine</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/astrocytes">astrocytes</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/629877618586615808/blood-brain-barrier-health</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543922</guid>
            <pubDate>Mon, 21 Sep 2020 14:32:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How we priced our first product]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24543912">thread link</a>) | @fpereiro
<br/>
September 21, 2020 | https://altocode.nl/blog/how-we-calculated-the-price-of-acpic | <a href="https://web.archive.org/web/*/https://altocode.nl/blog/how-we-calculated-the-price-of-acpic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<p>How much should we charge for our product? What's the price model that makes sense to our users? We had a long discussion about it and we looked to consider all the important aspects:</p>
<ol>
<li><a onclick="document.getElementById ('1whatpricemakesourproductsustainable').scrollIntoView ()">What price makes our product sustainable?</a></li>
<li><a onclick="document.getElementById ('2isthisapriceouruserswillbewillingtopay').scrollIntoView ()">What price are users willing to pay?</a></li>
<li><a onclick="document.getElementById ('3thismodelservesourusers').scrollIntoView ()">What price model best serves our users?</a></li>
<li><a onclick="document.getElementById ('4aretheredisadvantagestothismodel').scrollIntoView ()">Are there disadvantages to this model?</a></li>
</ol>
<p>By answering these questions, we’ll be better equipped to have a solid pricing model to begin the journey of our first product: <a href="https://altocode.nl/pic/" target="_blank"> ac;pic</a>, a photo and video organization service.</p>
<p>Here's the entire process we went through.</p>
<h2 id="1whatpricemakesourproductsustainable">1. What price makes our product sustainable?</h2>
<p>There's one inescapable fact: if the product is not profitable, we can't pay ourselves and cover the costs. If that happens, there's no company, no product, no team.</p>
<p>We began with 2 straightforward questions:</p>
<ol>
<li><a onclick="document.getElementById ('1howmuchdoweneedtopayourselves').scrollIntoView ()">How much do we need to pay ourselves?</a></li>
<li><a onclick="document.getElementById ('2howmuchdoesitcosttomaintaintheserviceandthecompany').scrollIntoView ()">How much does it cost to maintain the service and the company?</a></li>
</ol>
<h4 id="1howmuchdoweneedtopayourselves">1. How much do we need to pay ourselves?</h4>
<p>If we can't support ourselves, we can't make any of this happen. Conversely, if a project that we love and believe in can pay our salaries, it will grow and prosper with our full attention.</p>
<p>Altocode works in full transparency, which means everybody can see everything we <a href="https://github.com/altocodenl" target="_blank">do,</a> we <a href="https://drive.google.com/drive/folders/1otweqrARCHe2u6DeHW3FDZmug0L1Wd6p" target="_blank">think,</a> and how much we earn. The market shall know our salaries.</p>
<p>We set salary milestones for different stages of the product. You can see them <a href="https://docs.google.com/spreadsheets/d/1XNd62OXI3dduxodI-9dBOUoxnAczPgm2yIk-jFFR6T4/edit#gid=0" target="_blank">here.</a></p>
<p>Our first milestone will enable us to work full-time in Altocode. That's a salary of €3,000 a month after tax, per founder. That's around US $3,500 after tax. We're a 2-person team, so that's €6,000 after tax a month.</p>
<p>The next question is 'how many paying users do we need to make €6,000 a month after tax?'</p>
<p>We built a simple table that takes into account:</p>
<ul>
<li>Net income per user: how much should the company earn from each paying user after taxes and costs.</li>
<li>Net salary per founder: monthly salary after tax per founder.</li>
<li>Amount of monthly paying users: amount of paying users needed for each net income and net salary.</li>
</ul>
<p><a target="_blank" href="https://docs.google.com/spreadsheets/d/1XNd62OXI3dduxodI-9dBOUoxnAczPgm2yIk-jFFR6T4/edit#gid=0"><img loading="lazy" src="https://altocode.nl/blog/img/monthly%20paying%20users%20required.png" alt="ac;pic monthly paying users required"></a></p>
<p>For each column of 'net income per user' we have the amount of paying users necessary to reach €3,000 of net monthly salary per founder.</p>
<p>The next question is, 'what should be the target amount of users for the first milestone?'</p>
<p>It can't be very high, otherwise it might take too long to get there and - as a fully bootstrapped company - we only have so much runway. On the other hand, we can't go for a very low number of paying users, because prices might get too high (we haven't added operating costs and taxes yet) and prevent people from becoming paying users.</p>
<p>In the spirit of <a href="https://kk.org/thetechnium/1000-true-fans/" target="_blank">Kevin Kelly's '1,000 true fans' article,</a> we feel that around 1,500 to 2,000 paying users should allow us to reach our first milestone. If we can't get that amount of paying users in a few months, we have bigger issues than pricing. Still, we needed to continue our analysis to get to a price.</p>
<h4 id="2howmuchdoesitcosttomaintaintheserviceandthecompany">2. How much does it cost to maintain the service and the company?</h4>
<p>This is where most companies make mistakes and later on experience a rude awakening. If we don't understand our costs well, our pricing could be way off (either too cheap or too expensive).</p>
<p>What things do we need to account for besides our net salaries?
a. Income taxes on our salaries.
b. Infrastructure costs.
c. Product-related services: design, security.
d. Business-related services: accountants, lawyers, banking.
e. Working capital.
f. Value Added Tax.
g. Credit card processing and payments.</p>
<p>Let's go through each of these points in more detail.</p>
<p>a. Income taxes on our salaries:
Altocode is based in The Netherlands (this is mainly for 2 reasons: one of the founders lives there, and the EU is a great place to start a company to steward users' data). Income taxes in The Netherlands are anywhere between 30 and 50%, depending on the tax bracket. 40% is a realistic estimation for the first stage of the business.</p>
<p>b. Infrastructure costs:
Our service is fully based on the cloud and our main providers are <a href="https://www.hetzner.com/" target="_blank">Hetzner</a> and <a href="https://aws.amazon.com/" target="_blank">Amazon AWS.</a> There's a very small fixed component to this (hosting, email), but most of this cost is proportional to the amount of space used by our users. This cost will be divided in two parts: that corresponding to free accounts (which will be covered by the company) and that to paid accounts (which is paid by the users themselves as a variable cost; <a onclick="document.getElementById ('whataboutthestorage').scrollIntoView ()">see below</a>).</p>
<p>c. Product-related services: design, security:
Neither of us is a designer or a security expert. Those skills (among others) are crucial to further develop a world-class product. We will be very happy to develop close relationships with design and security experts in the future, hence we need to account for them.</p>
<p>d. Business-related services: accountants, lawyers, banking:
We have a basic company set up, but we will definitely need to invest in accountants &amp; lawyers to set up a larger company structure as soon as we scale to thousands of users. Same goes for upgrading our type of bank account, as well as opening additional accounts for salaries, setting up processes to deal with invoices, etc. While these costs are somewhat fixed, it is reasonable to consider that they will grow based on the size of the business, but we expect that growth to be less than proportional.</p>
<p>e. Working capital:
Any company, and particularly a bootstrapped startup, needs to have working capital (ie: extra money in the bank) in order to grow and withstand crises. Although <a href="https://altocode.nl/blog/our-how" target="_blank">we're not a profit-maximizing company</a> (in short: we cannot sell the company, we cannot get rich from the company and, as we grow in paid accounts, we'll reduce the price per user), we need to be smart and have enough working capital to invest in the company's growth or cover any hiccups that might happen along the way. You either plan this ahead and have a good chance of overcoming most problems or deal with it later in a do-or-die situation. We rather have the former than the latter, for our own sake and our users' sake.</p>
<p>So, how do we take into account the infrastructure cost, product-related services, business-related services and working capital? <strong>We set a cost budget per paying user</strong>. Since all these costs are positively correlated to the size of the business, we can infer that the more users we have - especially in the beginning - the more costs we'll have to account for. Of course, these won't be linear, but in the early stages these costs can add up quickly and halt growth. As we grow we'll have to review this cost item, but now we have to ensure a solid service and business survival.</p>
<p>We concluded that these items combined add €2 per paying user.</p>
<p>An heuristic way to think about this is the following: if we have 100 paying users, it is reasonable to have about €200 of monthly expenses; at 1,000 paying users, it is reasonable to have a budget of €2,000.</p>
<p>f. Value Added Tax:
We have to make a differentiation here.</p>
<ul>
<li>For our European Union paying users, Value Added Tax must be added to the price. A 21% uptick. Nothing to do here.</li>
<li>For our non-European Union users, great news. No Value Added Tax. No changes.</li>
</ul>
<p>g. Credit card processing and payments:
We'll use Stripe. It's easy to use, reliable, and has great international coverage.</p>
<p>From Stripe we'll use 2 services:</p>
<ul>
<li>Stripe Payments to collect payments.</li>
<li>Stripe Billing to set recurring payments for our users.</li>
</ul>
<p>For The Netherlands, the pricing is a little different than for the United States (you can check it out <a href="https://stripe.com/en-nl/pricing" target="_blank">here</a>).</p>
<p>These are the Stripe fees. Stripe calculates the fees over the final price (<a href="https://docs.google.com/document/d/1f_Cxl77xqC0xbqdqrOA17CbvBs3GNCjmrROcuVR4Ox0/edit?usp=sharing" target="_blank">after tax</a>). Now it gets a little tricky.</p>
<p><img loading="lazy" src="https://altocode.nl/blog/img/stripe%20fees.png" alt="stripe fees for The Netherlands"></p>
<p>On top of the Value Added Tax (VAT) differentiation between European and non-European users, Stripe charges us differently when processing a European card, vs a non-European card. That needs to be taken into consideration in the price.</p>
<p>Lastly, we decided that <strong>we'll only bill in euros</strong>. Our wages are in euros, our costs are in euros, as well as taxes. Having other currencies would complicate things for no good reason.</p>
<h4 id="thepricecalculation">The price calculation</h4>
<p>With all this information we built another table, and built the price from the net income per user, adding all the costs and taxes. We built the price from the bottom up.</p>
<p><a target="_blank" href="https://docs.google.com/spreadsheets/d/1XNd62OXI3dduxodI-9dBOUoxnAczPgm2yIk-jFFR6T4/edit#gid=0"><img loading="lazy" src="https://altocode.nl/blog/img/fixed%20price%20calculation.png" alt="ac;pic Fixed price calculation"></a></p>
<p>You'll note that in the costs line (those €2 per user) we affected half of it with Value Added Tax (VAT). We're estimating that half of our costs will be affected by VAT, so only €1 of the cost per user will incur VAT.</p>
<p>An interesting observation (that took us a while to figure out) is that we should charge an extra amount to non-European users for the VAT incurred by those €2 per user. These services accrue VAT, but because we don't have to pay VAT for non-European users, we cannot use their payment to offset the VAT incurred by those services. Hence, we need to charge them extra to keep things fair between European and non-European users. In addition to this, this fairness ensures that both European and non-European users will be equally profitable to us.</p>
<p>Previously, we had circled between 1,500 and 2,000 paying users to reach our initial goal. That meant a net income per user between €3 and €4. With the numbers more clear, we concluded that our best choice is to go with €3 of net income per user.</p>
<p>The fixed part of ac;pic's price will be:</p>
<ul>
<li>€9 a month for European Union users.</li>
<li>€7.50 for non-European Union users.</li>
</ul>
<p><strong>We need 2,000 monthly paying users to reach the first milestone.</strong></p>
<h4 id="whataboutthestorage">What about the storage?</h4>
<p>If you followed the cost breakdown you might have noticed that we haven't considered the storage cost for the paid accounts. We accounted for servers to keep the service up &amp; running and the storage cost for free accounts, but the bulk of the cost for a photo and video organization service comes from storage.</p>
<p>The cost we have as of today is €0.05 per GB. <strong>We won't make any profit from storage cost. ac;pic's users will pay storage at cost.</strong> If it's cheaper for us, it will be cheaper for our users.</p>
<p>This cost would incur VAT, but since the underlying server costs also pay VAT at the same rate, the VATs cancel each other out. That, however, assumes that …</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://altocode.nl/blog/how-we-calculated-the-price-of-acpic">https://altocode.nl/blog/how-we-calculated-the-price-of-acpic</a></em></p>]]>
            </description>
            <link>https://altocode.nl/blog/how-we-calculated-the-price-of-acpic</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543912</guid>
            <pubDate>Mon, 21 Sep 2020 14:31:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I visualised the co-occurrence of origin and variety in coffee beans]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 7 (<a href="https://news.ycombinator.com/item?id=24543871">thread link</a>) | @DataCrayon
<br/>
September 21, 2020 | https://datacrayon.com/posts/statistics/data-is-beautiful/arabica-coffee-beans-origin-and-variety/ | <a href="https://web.archive.org/web/*/https://datacrayon.com/posts/statistics/data-is-beautiful/arabica-coffee-beans-origin-and-variety/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
            <div>
                <div>
                <div>
                    <h2>Data is Beautiful</h2>
                    <p>
                    A practical book on data visualisation that shows you how to
                    create static and interactive visualisations that are engaging and
                    beautiful.
                    </p>
                    <p><a href="https://datacrayon.com/shop/product/data-is-beautiful/">Get the book</a>
                </p></div>
                <p><img src="https://datacrayon.com/images/datacrayon/shop/covertop_dib.jpg">
</p>
                </div>
            </div>
            </div>
        </div><div itemprop="articleBody text">
    <!--% if post.meta('has_toc'):-->
    

        

        
            

            
<div id="support-this-work-top">
                                <p>Made with Chord Pro</p>
                                <p>
                        You can create beautiful interactive visualisations like this one with <a href="https://datacrayon.com/shop/product/chord-pro/">Chord Pro</a>. Learn how to make beautiful visualisations with the book, <a href="https://datacrayon.com/shop/product/data-is-beautiful/">Data is Beautiful</a>.</p>
                            </div>

            

    


                    <div id="support-this-work-bottom">
                                    <p>Made with Chord Pro</p>
                                    <p>
        You can create beautiful interactive visualisations like this one with <a href="https://datacrayon.com/shop/product/chord-pro/">Chord Pro</a>. Learn how to make beautiful visualisations with the book, <a href="https://datacrayon.com/shop/product/data-is-beautiful/">Data is Beautiful</a>.
        </p>
                                </div>
                            </div></div>]]>
            </description>
            <link>https://datacrayon.com/posts/statistics/data-is-beautiful/arabica-coffee-beans-origin-and-variety/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543871</guid>
            <pubDate>Mon, 21 Sep 2020 14:27:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google and data brokers accused of illegally collecting people’s data: report]]>
            </title>
            <description>
<![CDATA[
Score 36 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24543614">thread link</a>) | @chris_f
<br/>
September 21, 2020 | https://www.politico.eu/article/google-and-data-brokers-accused-of-illegally-collecting-data-report/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/google-and-data-brokers-accused-of-illegally-collecting-data-report/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
							<div>
            <figure><div><div><p><img src="https://g8fip1kplyr33r3krz5b97d1-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/GettyImages-1200825328-714x476.jpg"></p></div></div><figcaption><p>Google faces allegations of illegal user-data collection | Kenzo Tribouillard/AFP via Getty Images</p></figcaption></figure>        <div>
        <header>
                        
                        <p>A campaigner says much of the world’s online advertising industry doesn’t comply with Europe’s privacy rules.</p>
                    </header>
                
<!--/.meta-->
    </div><!--/.summary-->
</div><!--/.story-intro-->

							
							
							<p>Google and several data brokers are violating the EU's privacy rules by harvesting people's personal information to build highly detailed online profiles, including some firms' collection of information on sexual orientation, health status and religious beliefs, <a href="https://g8fip1kplyr33r3krz5b97d1-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/JohnnyRyanDocumnet.pdf">according to a report</a> published on Monday.</p>
<p>The accusations — from Johnny Ryan, a senior fellow at the Irish Council for Civil Liberties, an NGO — come 18 months after Ireland's privacy regulator began a probe into how Google collects and shares people's online information for its advertising business.</p>
<p>Several other European data protection authorities subsequently received separate complaints into so-called real-time bidding (RTB), a system by which advertisers use data to target people with paid-for messages when they surf the web.</p>
<p>The online advertising industry, including Google, says it has bolstered privacy protections since the European Union started enforcing its updated rules, known as the General Data Protection Regulation, or GDPR, more than two years ago.</p>
<p>But Ryan, who filed a complaint with the Irish privacy regulator about these data practices in September 2018, said that little has changed since the new rules came online two years ago.</p>
<p>He called on Ireland's Data Protection Commission (DPC) to act swiftly to clamp down on what he believes were wide-scale breaches of people's online privacy, including the use of online profiles to target individuals around sensitive topics like whether they have AIDS, and to influence voters during elections.</p>
<p>Ryan said the real-time bidding system, which broadcasted web users' online behavior and habits to multiple advertising companies and data brokers, infringed on the region's privacy rules that required data to be kept secure and used proportionately.</p>
<p>"The [Irish Data Protection] Commission has failed to stop that ongoing biggest data breach in history and as a consequence people across Europe and in Ireland are exposed to intimate profiling including of health conditions and political views and location over time, because the RTB system leaks that data into the data broker market," he told POLITICO in reference to Ireland's privacy regulator.</p>
<h3>Spotlight on Dublin</h3>
<p>Because Dublin is home to many of the world's largest tech companies like Google and Facebook, it has the responsibility to oversee how they comply with Europe's privacy standards.</p>
<p>Under the region's data protection rules, sensitive data, including information about a person's health status, sexual orientation or religious beliefs, must be handled more carefully than other information, and companies have to explicitly ask individuals if such information can be collected about them.</p>
<p>"The question for Ireland and the Irish government that must be answered is whether DPC is capable of advancing critical urgent investigations of this nature," he added. "Does it have adequate resources, including technical and procedural competence to discharge its tasks?"</p>
<p>In response, Ireland's privacy agency said that it had met with Ryan to discuss his concerns and that work on its Google investigation continues. The watchdog also has a separate ongoing probe into the data practices of Quantcast, a major online advertising firm, though it has yet to bring an enforcement action or fine against any non-Irish company or organization under Europe's privacy rules.</p>
<p>"The investigation has progressed and a full update on the next steps [was] provided to the concerned party," said Graham Doyle, deputy commissioner at Ireland's privacy agency, in reference to Ryan's complaint about how Google and others collect and use people's data. He declined to comment on what the next steps would be or when a decision would be taken in the investigation into the search giant.</p>
<p>Google said that it also has safeguards in place to protect people's personal data, including in its real-time bidding network.</p>
<p>"We do not allow advertisers to select ads based on sensitive personal data and we do not share people’s sensitive personal data, browsing histories or profiles with advertisers," Alex McPhillips, a Google spokesman, said in a statement.</p>
<p>In his report, Ryan outlines what he says are ongoing privacy failures by many of the world's largest online advertising firms and data brokers linked to the global real-time bidding industry.</p>
<p>That includes OnAudience, a data broker, that holds data on people in almost every country on the planet, according to its website.</p>
<p>It used that information,&nbsp;for instance, to target 1.4 million people who supported gay rights during last year's Polish parliamentary election, <a href="https://www.dropbox.com/sh/7xo77grl2mnb6b6/AAAlszXoQ_zM2kUSsSRqKJSqa?dl=0&amp;preview=4.+Evidence+of+election+interference+in+Poland+(Appendix+A).pdf" target="_blank">based on&nbsp;a company presentation</a>. To do that, OnAudience created online profiles of people based on whether they had read, watched or searched for content associated with LGBTQ rights ahead of the vote, and used that data for a get-out-the-vote campaign for a local group.</p>
<p>The company also uses its database to allow clients to target people who have displayed an interest in other sensitive data topics such as AIDS and HIV, diabetes, incest and abuse support. Such information is considered sensitive and must be handled with additional care under Europe's privacy rules.</p>
<p>An OnAudience representative said the company does not process any personal data, or information about sexual orientation. “Our data is only based on online behavior and visited content. The campaign mentioned [in Ryan’s research] was not conducted by a political party, but by a social organization that promotes equality.”</p>
<p>"The most intimate thing about anyone that you can buy is their health data because this dictates their life expectancy, their ability to pay their mortgage, the risk of giving them health insurance and potentially influences decisions about whether to employ them," Ryan said.</p>
<p><em>Want more analysis from </em><span>POLITICO</span><em>? </em><span>POLITICO</span><em> Pro is our premium intelligence service for professionals. From financial services to trade, technology, cybersecurity and more, Pro delivers real time intelligence, deep insight and breaking scoops you need to keep one step ahead. Email <a href="mailto:pro@politico.eu" target="_blank">pro@politico.eu</a> to request a complimentary trial.</em></p>

														<!--/.story-supplement-->
							
							
							<!--/.story-supplement-->

						</div></div>]]>
            </description>
            <link>https://www.politico.eu/article/google-and-data-brokers-accused-of-illegally-collecting-data-report/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543614</guid>
            <pubDate>Mon, 21 Sep 2020 14:06:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is revenue model more important than culture?]]>
            </title>
            <description>
<![CDATA[
Score 219 | Comments 111 (<a href="https://news.ycombinator.com/item?id=24543510">thread link</a>) | @Ozzie_osman
<br/>
September 21, 2020 | https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-101">

	

	
	<div>
		
<p>I always loved getting problems of the type “What is the limit as x approaches infinity” type in high-school/college. You’re given an equation (of the classic y=x format), and asked to derive what the value of y will be as x grows to infinity.</p>



<p>One thing you learn pretty quickly about these types of problems is that often it doesn’t matter where the function “starts” (or where it is at small values of x). It could start at zero, or at negative infinity, but its limit might be infinity, and vice versa (it could start large but have a limit of zero or negative infinity).</p>



<p>In fact, for many equations, there’s usually one <strong>dominant term</strong>. This is the term that dominates the limit. There might be countless other factors or parts of the equation that matter initially, but eventually it’s that dominant term that wins. This is sometimes known as the <strong>dominant term rule</strong>. We’ll get back to this in a second.</p>



<h3>Ads vs. Search</h3>



<p>Google had a little press kerfuffle a few months ago. You can read a summary in the New York Times <a href="https://www.nytimes.com/2020/01/31/technology/google-search-results.html">here</a>, but the short of it is that the company launched a design change that made search results and ads look very similar. Presumably, this increased revenue for Google, since many people ignore ads when they can easily identify them, the same way you’d ignore stepping in dog crap if you can identify it in the mud (and yes, given the state of online ads and content I pick this analogy deliberately). But there was a pretty strong backlash against this as a “dark pattern” designed to trick users. After the negative press, Google walked back the change.</p>



<p>If you’ve been following the news around big tech companies these past couple of years, this type of behavior is not surprising at all. These companies have grown really large, are arguably monopolistic, and hyper-focused on growth and revenue. Over and over, they have made decisions that have resulted in backlash from the press and from their users.</p>



<p>On the other hand, if I ignore the past ten years, and jump back to when I worked at Google as an entry-level Software Engineer, it is a <em>little</em> surprising to me. I worked at Google from 2006-2009. At the time, it was already a rapidly-growing public company (I think I joined when there were around 8,000 employees, and left when there were 20,000). I initially worked on the team responsible for AdWords, so I had some exposure to the culture and decisions that were made at the time (of course it wasn’t <em>deep</em> exposure, since I was an entry-level Software Engineer on the lowest rung of the ladder… but it was exposure nonetheless).</p>



<p><em>Note: I’m going to pick on Google a little bit here, but I do love that company. I think there’s a lot it can improve on, but it’s still one of my favorite and least “evil” large tech company. I chose them simply because I’m more familiar with them.</em></p>



<p>At the time, Google employees might have argued against making a change because it was “evil”. The “don’t be evil” motto was still around, and as engineers who were building parts of the product and making decisions, we were pretty ideological about it. One of the company’s values was also to put users first, employees second, and shareholders third. By any of these lenses, the type of design change that Google got flak for recently would have been highly unlikely at the time.</p>



<h3>Revenue is the Dominant Term</h3>



<p>Let’s take a dominant term view of this problem. When a company is first built, several variables dictate its decisions:</p>



<ul><li>The <em>implicit </em>values/culture of the early team. As Ben Horowitz would say, “what you do is who you are.”&nbsp;</li><li>The <em>explicit </em>values/culture of the early team. Are we user-centric? Data-driven? …</li><li>The revenue model.</li></ul>



<p>I think that over time, the revenue model is the dominant term. The limit of a product towards infinity, so to speak, is based on its revenue model. If your revenue model is ads, it doesn’t matter if your stated mission is “to organize the world’s knowledge and make it universally accessible and useful”, “to give people the power to build community and bring the world closer together”, or anything else. If your revenue model is ads, you are an ads company.</p>



<p>I’m not diminishing the role of culture and values. I think those are critical. Part of me would love to believe the hundreds of books written on how culture determines everything. But I don’t. At least not for companies that can hire some of the smartest people in the world, gather massive amounts of data, and build technology more sophisticated than ever. And be trying to “maximize shareholder value”.</p>



<p>I’ve actually agonized over whether culture or revenue are the dominant term. In fact, I agonized so much that I’ve had this article in my head for years, and in a Google Doc for months, but I couldn’t get myself to write it / publish it. Because part of me believes culture always wins. Actually, <em>all</em> of me <em>wants </em>to believe culture <em>always</em> wins. But I’ve had my idealism crushed enough times by hard realities.&nbsp;</p>



<p>Yes, having and espousing a positive culture and set of values are important. And they may shape how and how quickly the revenue model dominates (for example, companies like Enron or pre-IPO Uber show how bad things can get if you have a terrible culture). But regardless of your mission statement, your culture, your values, and so on, if you choose the wrong revenue model, it will dominate them in a shareholder-value-driven, capitalistic society. Culture can only dominate if it’s negative. A positive culture <em>is </em>necessary, but it’s not sufficient.</p>



<p><em>In other words, over the long term, a company (and its product) will morph to take the shape of its revenue streams.</em></p>



<h3>Charlie Munger Knew It</h3>



<p>Charlie Munger, Warren Buffet’s business partner, has a pretty famous speech where he talks about the power of incentives.</p>



<blockquote><p>“Well I think I’ve been in the top 5% of my age cohort all my life in understanding the power of incentives, and all my life I’ve underestimated it. And never a year passes, but I get some surprise that pushes my limit a little farther.” —<a href="https://fs.blog/2013/02/the-psychology-of-human-misjudgement/">Charlie Munger</a></p></blockquote>



<p>Charlie gives several examples: for instance, FedEx needed to move/sort their packages more quickly, so instead of paying employees per hour, they paid them per shift: productivity increased dramatically (employees now had less incentive to take longer hours to do the same amount of work). Charlie’s model of human behavior is pretty simple: we follow incentives. He makes people sound almost coin-operated.</p>



<p>Now, this isn’t entirely true—there are plenty of examples and research showing that our behavior is more complicated than simple incentives would predict. But Charlie is arguably one of the best investors in the world, and he’s onto something. Even though there might be other variables that influence our behavior, you can still simplify things down to incentives. Incentives are his dominant term.</p>



<p>That incentives are dominant is actually pretty obvious to a lot of people. Somehow in the tech industry, we seem to have just clouded our own judgement through some sense of moral superiority. We care about the impact we’re having on the world. We have noble missions that we rally around and try to hire people who are excited by them. So far, so good. But then we shoot ourselves in the foot by setting up business models with misaligned incentives.</p>



<h3>Look for Aligned Business Models</h3>



<p>So what does this mean in practice? Well, if you only care about making money, it doesn’t mean much. But if you do care about more than money, if you care about the impact your work has and you want to be proud of what you do, it’s worth thinking through this a little more deeply.</p>



<p>Whether you’re starting a company or joining one, look for a business model <em>without</em> perverse incentives. A business model that sets things up so that the better a product is, the better off the company is and its users are.</p>



<p>Sometimes, counterintuitively, a business model may seem aligned at first glance, but end up being quite harmful. The classic example that we’re all now aware of is free products. Free seems great at first glance. But companies have to make money somehow. So they sell ads, or data, or some mix of the two that their users don’t quite understand. And so now, success for the company means more time spent on the product (which may or may not be a good thing for users), less privacy (definitely not a good thing for users), and ultimately more ads.*</p>



<p>So often, paid is better than free*.  At <a href="https://www.monarchmoney.com/">Monarch Money</a>, my current startup, we’ve chosen to go with a paid model, with a hope that we’ll be more aligned in creating value for our users (who we can now call customers… notice how there’s a word for “customer service”, but no “user service”?). There will still be plenty of forks in the road where we can decide whether we help our customers, or take advantage of them, and I hope our values will help us navigate those forks, but at least the revenue model is in our favor.</p>



<p>Another layer to consider is whether your product and revenue model help people with just short-term goals, or a mix of both short and long-term goals. Products that are great and helpful, help their users with both. Good products might help with one or the other. The products with the most potential for damage provide some short-term benefit at the <em>expense</em> of longer-term goals.</p>



<p>So when you consider starting or joining a company, look at the business model, and do the “limit math”. Think about what things might look like if you become massively successful, because you might be.</p>



<hr>



<p><em>*This is an opinion piece. I had to draw a lot of simplifications to keep this article short. A lot of statements are definitely not universally true, but are true enough that they’re worth using as examples.</em></p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543510</guid>
            <pubDate>Mon, 21 Sep 2020 13:58:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elon Musk Shows the Germans How to Move Quickly]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24543038">thread link</a>) | @Tomte
<br/>
September 21, 2020 | https://www.spiegel.de/international/business/the-tesla-factory-near-berlin-elon-musk-shows-the-germans-how-to-move-quickly-a-a14a3415-a4ed-4d85-80c1-ec53b66ac0cb | <a href="https://web.archive.org/web/*/https://www.spiegel.de/international/business/the-tesla-factory-near-berlin-elon-musk-shows-the-germans-how-to-move-quickly-a-a14a3415-a4ed-4d85-80c1-ec53b66ac0cb">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-article-el="body">
<section data-app-hidden="true">


</section>
<section>
<div>
<figure data-component="Image" data-settings="{&quot;id&quot;:&quot;4f34f3e1-6c6f-4065-9ec6-3301690ac70f&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;8cc3475c-f9b6-4e51-9290-df77fc4050bb&quot;}">
<p><span>
<span data-image-el="aspect">
<span>
<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/4f34f3e1-6c6f-4065-9ec6-3301690ac70f_w948_r1.77_fpx76_fpy24.jpg" srcset="https://cdn.prod.www.spiegel.de/images/4f34f3e1-6c6f-4065-9ec6-3301690ac70f_w520_r1.77_fpx76_fpy24.jpg 520w, https://cdn.prod.www.spiegel.de/images/4f34f3e1-6c6f-4065-9ec6-3301690ac70f_w948_r1.77_fpx76_fpy24.jpg 948w" width="948" height="536" sizes="948px" title="Tesla founder Elon Musk: &quot;A ton of fun!&quot;" alt="Tesla founder Elon Musk: &quot;A ton of fun!&quot;">
</span>
</span>
</span>

</p>
<figcaption>
<p><strong>Tesla founder Elon Musk:</strong> "A ton of fun!"</p>
<span>
Foto: <p>Julian Stähle / dpa</p>
</span>
</figcaption>
</figure>
</div><div>
<p>A large property map hangs in the mayor's office, right next to a display cabinet full of memorabilia accumulated over a long term in office. The coat of arms of the town of Grünheide on the map has faded, as has the writing: "Net settlement area of 300 hectares," it reads, if you look hard enough.</p>


<div>
<p>Arne Christiani's predecessor hung up the poster 20 years ago, back when BMW wanted to build a car manufacturing plant on the site, but then chose the city of Leipzig instead. "When I was first elected mayor in 2003, I left the map up," says Christiani. The pine forest on the edge of the town has remained his field of dreams for almost 17 years.</p><p>During that time, Grünheide has grown steadily, but its population has also aged. It's a place that's beautiful for people who appreciate peace and quiet, but not one that’s particularly tempting for the younger generation. Each year, Christiani has apologized to locals on International Volunteer Day for the fact that it had once again not been possible to attract high-quality industrial jobs to the area.</p>
</div>

<div>
<p>For some time now, though, two new maps have been hanging above the old one, with the parcel of land colored red. Christiani's dream could finally be coming true, with Tesla hoping to build electric cars on the site.</p><h3><strong>Dreams Threatened, Dreams Come True</strong></h3><p>If you leave Town Hall and walk a good 800 meters through a pine forest to the edge of the village, you reach a lake called Peetzsee. Christiani had been in office for two years when Johannes Curth and his family came to fulfil their dream here, swapping a rental apartment in Berlin’s Prenzlauer Berg neighborhood for a home of their own, surrounded by forests and lakes.</p>
</div>

<p>The Curths bought a plot of land just a few meters from the shore of the lake back when prices were still reasonable. They built a house with large windows and surrounded by a good-sized yard, in which stand two magnificent old trees in it.</p>

<section data-area="contentbox">
<div>
<figure data-component="Image" data-settings="{&quot;id&quot;:&quot;996d8f55-bef6-471b-ad10-5c788bf27a9e&quot;, &quot;zoomable&quot;:false,&quot;zoomId&quot;:&quot;4a933e8e-7921-4ca7-a49e-63dfe4ef8b21&quot;}">
<span>
<span data-image-el="aspect">
<span>

<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w568_r0.7571817357121258_fpx50.98_fpy47.69.jpg" srcset="https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w284_r0.7571817357121258_fpx50.98_fpy47.69.jpg 284w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w335_r0.7571817357121258_fpx50.98_fpy47.69.jpg 335w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w568_r0.7571817357121258_fpx50.98_fpy47.69.jpg 568w" width="568" height="750" sizes="568px" loading="lazy" data-srcset="https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w284_r0.7571817357121258_fpx50.98_fpy47.69.jpg 284w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w335_r0.7571817357121258_fpx50.98_fpy47.69.jpg 335w, https://cdn.prod.www.spiegel.de/images/996d8f55-bef6-471b-ad10-5c788bf27a9e_w568_r0.7571817357121258_fpx50.98_fpy47.69.jpg 568w">
</span>
</span>
</span>
</figure>

</div>
</section>
<p>But now that Mayor Christiani's dream is coming true, Curth sees his own dream threatened. "We moved here because of the peace and quiet and the nature," he says. "What will happen if Tesla starts building cars here?" He fears for the quality of the water and air. And he worries about the extra traffic and what will happen to this sleepy community of 8,755 people when Tesla moves in.</p>

<div>
<p>Elon Musk, the entrepreneur behind the carmaker, is an uncompromising man whose ideas jump back and forth between California, Mars and Grünheide. The head of the world's largest electric car manufacturer builds rockets that ferry people into space and dreams of building a hyperloop tunnel for passenger transport. He is adored by his followers because, as an entrepreneur, he refuses to accept any limits.</p><h3><strong>Breathtaking Speed</strong></h3><p>Almost as a byproduct, Musk is now also changing not only the provincial state of Brandenburg, where he’s setting up his factory, but also Germany. The project just outside of Berlin is becoming symbolic for industrial policy in times of climate change. Whereas German companies tend to moan and dig in their heels when the government sets overly ambitious climate targets, as they did last week when the new European Union climate goals were announced, Tesla brings both together: sustainable manufacturing and speed. Breathtaking speed.</p>
</div>
<figure>
<div data-component="Image" data-settings="{&quot;id&quot;:&quot;7bfd7c90-7763-4bb3-ad45-ab17ec97c569&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;8010f1fb-8b17-4630-afb2-9d52ed0ca013&quot;}">
<div>
<div>
<p><span>
<span data-image-el="aspect">
<span>

<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/7bfd7c90-7763-4bb3-ad45-ab17ec97c569_w718_r1.5_fpx33.34_fpy50.jpg" srcset="https://cdn.prod.www.spiegel.de/images/7bfd7c90-7763-4bb3-ad45-ab17ec97c569_w488_r1.5_fpx33.34_fpy50.jpg 488w, https://cdn.prod.www.spiegel.de/images/7bfd7c90-7763-4bb3-ad45-ab17ec97c569_w616_r1.5_fpx33.34_fpy50.jpg 616w, https://cdn.prod.www.spiegel.de/images/7bfd7c90-7763-4bb3-ad45-ab17ec97c569_w718_r1.5_fpx33.34_fpy50.jpg 718w" width="718" height="479" sizes="718px" loading="lazy" data-srcset="https://cdn.prod.www.spiegel.de/images/7bfd7c90-7763-4bb3-ad45-ab17ec97c569_w488_r1.5_fpx33.34_fpy50.jpg 488w, https://cdn.prod.www.spiegel.de/images/7bfd7c90-7763-4bb3-ad45-ab17ec97c569_w616_r1.5_fpx33.34_fpy50.jpg 616w, https://cdn.prod.www.spiegel.de/images/7bfd7c90-7763-4bb3-ad45-ab17ec97c569_w718_r1.5_fpx33.34_fpy50.jpg 718w" title="Tesla Gigafactory in Grünheide: Are the Germans fast enough?" alt="Tesla Gigafactory in Grünheide: Are the Germans fast enough?">
</span>
</span>
</span>
</p><figcaption>
<p><strong>Tesla Gigafactory in Grünheide:</strong> Are the Germans fast enough?</p>
<span>
Foto: Robert Grahn&nbsp;/ euroluftbild.de / ullstein bild
</span>
</figcaption>
</div>
</div>
</div>
</figure><div>
<p>Musk's Gigafactory will be built in a region where most structures tend to be single-family homes, if there are any at all. In the first stage of development, 12,000 people will work around the clock in three shifts. Once the factory is complete, more than 40,000 people could produce a good 2 million Tesla vehicles here. "Please work at Tesla Giga Berlin! It's going to be a ton of fun," Musk recently tweeted in German.</p><p>For quite some time, German car executives and politicians tended to make fun of Musk, notorious as he was for his outrageous personality on Twitter. When he outlined his visions at a 2014 lunch with Peter Altmaier - who was chief of staff of Angela Merkel's Chancellery at the time but is now economics minister – and raved about the advantages of electric propulsion, saying it could be used in all means of transportation except for rockets flying into space, Altmaier still thought he sounded a bit unhinged. "At the time," says Altmaier, "nobody thought this technology would be so successful." At least the German competition didn't.</p><p>As recently as 2018, when the California-based company was having troubles with the serial production of its Model 3, Volkswagen considered becoming a strategic investor in Tesla to teach Musk how to do mass production. But reality has long since overtaken that idea: Tesla is now worth five times as much as Volkswagen on the stock exchange.</p><p>The days when the billionaire had to ask politicians for an appointment are over. When he came to Germany in early September to visit his construction site, the reception he received was that of a pop star. Fans shared the latest movement data of his private jet and puzzled where he might pop up next. Leading politicians cleared their calendars at short notice.</p><p>This week, the Musk party is set to continue, and his name will once again appear in newspapers around the world. He has slated this Tuesday as "Battery Day,” when he plans to announce the progress Tesla has made in battery technology in addition to identifying the site of at least one new battery plant. There are many indications, including interviews with Musk, that Grünheide may be chosen as the site. If it is, giant tree-felling machines would again show up to wait for authorization to clear another 60 hectares (nearly 150 acres) of forest.</p><p>It would send an unmistakable message. Because one day later, on Wednesday, hearings are set to begin in the nearby town of Erkner on the 406 complaints against the factory that have been filed by environmental associations and residents. Construction, though, has already been underway for months, with Tesla deciding to move ahead at its own risk with preliminary permits.</p><h3><strong>Faster and Better</strong></h3><p>A recent visit to the construction site in Grünheide provided a glimpse of the degree to which Tesla's mantra has been internalized at Tesla, a mantra by which speed counts most. Evan Horetsky, who heads the roughly 100-member Tesla team in Grünheide, showed a number of interested journalists around the construction site.</p><p>The slim man in his mid-30s with a shaved head and carefully trimmed beard is one of the troubleshooters on Musk's team. He helped out with the Tesla factory in California before going to Reno, Nevada, to lead the creation of the company's first Gigafactory. That had hardly been finished by the time construction in Shanghai began. He says that he and his people have gotten "faster and better" each time. Now, Horetsky is moving things along in Brandenburg.</p><p>Just last fall, the site was covered with tall pine trees. Now, though, they have been replaced by dozens of white concrete pillars protruding from the levelled ground. In the rear section, the shell of the paint shop has been erected. "We gained experience during the construction of the first buildings that we could directly apply in the further development of the design," the American says. "It enabled us to save a couple of days."</p>
</div>
<figure>
<div data-component="Image" data-settings="{&quot;id&quot;:&quot;557ddc99-4b15-46b4-871e-c4391a0edffd&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;9365c464-a291-4211-b295-9543967d9015&quot;}">
<div>
<div>
<p><span>
<span data-image-el="aspect">
<span>

<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/557ddc99-4b15-46b4-871e-c4391a0edffd_w718_r1.4951856946354882_fpx40.02_fpy49.94.jpg" srcset="https://cdn.prod.www.spiegel.de/images/557ddc99-4b15-46b4-871e-c4391a0edffd_w488_r1.4951856946354882_fpx40.02_fpy49.94.jpg 488w, https://cdn.prod.www.spiegel.de/images/557ddc99-4b15-46b4-871e-c4391a0edffd_w616_r1.4951856946354882_fpx40.02_fpy49.94.jpg 616w, https://cdn.prod.www.spiegel.de/images/557ddc99-4b15-46b4-871e-c4391a0edffd_w718_r1.4951856946354882_fpx40.02_fpy49.94.jpg 718w" width="718" height="480" sizes="718px" loading="lazy" data-srcset="https://cdn.prod.www.spiegel.de/images/557ddc99-4b15-46b4-871e-c4391a0edffd_w488_r1.4951856946354882_fpx40.02_fpy49.94.jpg 488w, https://cdn.prod.www.spiegel.de/images/557ddc99-4b15-46b4-871e-c4391a0edffd_w616_r1.4951856946354882_fpx40.02_fpy49.94.jpg 616w, https://cdn.prod.www.spiegel.de/images/557ddc99-4b15-46b4-871e-c4391a0edffd_w718_r1.4951856946354882_fpx40.02_fpy49.94.jpg 718w" title="Mayor Arne Christiani: A field of dreams." alt="Mayor Arne Christiani: A field of dreams.">
</span>
</span>
</span>
</p><figcaption>
<p><strong>Mayor Arne Christiani: </strong>A field of dreams.</p>
<span>
Foto: HC Plambeck / DER SPIEGEL
</span>
</figcaption>
</div>
</div>
</div>
</figure><div>
<p>The fact that final permission to build the factory has not yet been granted and that skeptical citizens must first be heard doesn't bother Horetsky. He says he takes their fears seriously. He notes that similarly complicated requirements had to be fulfilled when building the factory in Shanghai. "The difference to Germany is that here, the people who are directly affected can have their say," says Horetsky. "And who has more of a right to air their views than they do?"</p><p>It is, essentially, the concrete realization of what had been an abstract discussion. What price is society prepared to pay for the future? And are Germans capable of keeping up with the necessary pace?</p><p>The Gigafactory is set to be built in record time, with the first Y model electric SUVs slated for shipping as early as summer 2021. Plans call for 500,000 electric cars to be produced annually by the end of the first construction stage, a pace the <em>Wall Street Journal</em> has described as "breakneck."</p><p>And all this is taking place in Germany, a country where the length of approval procedures has almost doubled in the last 10 years. And in the state of Brandenburg, where construction of the Berlin-Brandenburg Airport (BER) has been marred by endless construction problems and is finally set to open its doors, fully nine years behind schedule.</p><h3><strong>Not Even Corona Has Slowed the Project</strong></h3><p>It sounded almost like a joke initially: An American high-tech car company with a volatile boss meets German environmental law, citizen participation and German bureaucracy. Now, though, it looks as though electric cars could start rolling off the assembly line in Grünheide even faster than they did in centrally steered China. And not even the coronavirus has thus far managed to slow down the project.</p><p>Somehow, the clichés didn't hold true. Tesla may be a tenacious, demanding company, but it also takes criticism seriously and tries to address it. In contrast to German companies, Musk uses every possibility that planning law avails him to accelerate construction, but he does so at his own risk. At the same time, the Brandenburg government has shown itself to be a skilful negotiator in the fight for the project. Since the contract was awarded, a task force of employees from the participating authorities has met weekly with Tesla representatives to discuss progress on the project.</p><p>Axel Vogel was one of the founding members of the Green Party in 1980. He worked in the party's …</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spiegel.de/international/business/the-tesla-factory-near-berlin-elon-musk-shows-the-germans-how-to-move-quickly-a-a14a3415-a4ed-4d85-80c1-ec53b66ac0cb">https://www.spiegel.de/international/business/the-tesla-factory-near-berlin-elon-musk-shows-the-germans-how-to-move-quickly-a-a14a3415-a4ed-4d85-80c1-ec53b66ac0cb</a></em></p>]]>
            </description>
            <link>https://www.spiegel.de/international/business/the-tesla-factory-near-berlin-elon-musk-shows-the-germans-how-to-move-quickly-a-a14a3415-a4ed-4d85-80c1-ec53b66ac0cb</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543038</guid>
            <pubDate>Mon, 21 Sep 2020 13:23:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deep Learning in Clojure with Fewer Parentheses Than Keras and Python]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24542974">thread link</a>) | @dragandj
<br/>
September 21, 2020 | https://dragan.rocks/articles/20/Deep-Diamond-Deep-Learning-in-Clojure-Fewer-Parentheses-Python-Keras | <a href="https://web.archive.org/web/*/https://dragan.rocks/articles/20/Deep-Diamond-Deep-Learning-in-Clojure-Fewer-Parentheses-Python-Keras">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="text-org5455e07">
<p>
How about the number of dreaded parentheses, <code>(</code> and <code>)</code>?
</p>

<table>


<colgroup>
<col>

<col>

<col>
</colgroup>
<thead>
<tr>
<th scope="col">&nbsp;</th>
<th scope="col">Python</th>
<th scope="col">Clojure</th>
</tr>
</thead>
<tbody>
<tr>
<td>( and )</td>
<td>48</td>
<td>28</td>
</tr>

<tr>
<td>(, ), [, and ]</td>
<td>50</td>
<td>48</td>
</tr>

<tr>
<td>Grouped (())</td>
<td>8</td>
<td>2</td>
</tr>

<tr>
<td>)))</td>
<td>2</td>
<td>1</td>
</tr>

<tr>
<td>,</td>
<td>17</td>
<td>0</td>
</tr>

<tr>
<td>model.add</td>
<td>8</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>
As we can see from the table, on every punctuation metric that I could think
of, Deep Diamond and Clojure fare better than Keras &amp; Python.
</p>

<p>
Keras uses almost twice as much parentheses than Deep Diamond. Clojure uses <code>[]</code>
for vector literals, which Deep Diamond uses as tensor shapes. You will note that
there are more than a few of these, and argue that these are parentheses, too.
Fine. Add them up, and Clojure fares slightly better than Python!
</p>

<p>
A parenthesis here and there is not a problem, but there are horror tales of
<code>(((((((</code> and <code>)))))))</code> in Lisps. Not in Clojure. See that there is not a
single <code>((</code> in the Clojure example, and only two occurances of <code>))</code>.
In Python - there are 8.
</p>

<p>
Then we come to all additional assorted punctuation in Python: commas, dots, etc.
In Clojure, there are none, while in Python there are dozens.
</p>

<p>
Python is also riddled with redundant stuff such as <code>model.add()</code>.
</p>

<p>
Etc., etc. You get my point.
</p>
</div></div>]]>
            </description>
            <link>https://dragan.rocks/articles/20/Deep-Diamond-Deep-Learning-in-Clojure-Fewer-Parentheses-Python-Keras</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542974</guid>
            <pubDate>Mon, 21 Sep 2020 13:18:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designed in Minecraft, Built IRL]]>
            </title>
            <description>
<![CDATA[
Score 62 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24542830">thread link</a>) | @donohoe
<br/>
September 21, 2020 | https://restofworld.org/2020/rebuilding-gaza-with-minecraft/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/rebuilding-gaza-with-minecraft/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>Most Sundays, Somia Hamdan visits her local park with her two friends, Amal and Laima. They sit on a picnic bench opposite one another and chat neurotically about Twitter and local gossip. Hamdan is there to socialize but also to supervise. “Since I created the space,” Hamdan said, “I like to take care of it.”</p>



<p>At 23, living in Gaza, Hamdan has been blighted by three brutal conflicts with Israel, decades of protests, a cycle of rocket fire between Israel and Gaza’s rulers, Hamas, and infighting between Palestinian factions. She faces one of the <a href="https://www.unrwa.org/where-we-work/gaza-strip">worst employment rates</a> in the world, <a href="https://www.unrwa.org/activity/education-gaza-strip">oversubscribed schools</a>, and a territory in which movement is tightly controlled and more than half the population <a href="https://www.theyworkforyou.com/wrans/?id=2020-01-23.7154.h&amp;p=11132">lives on less than $5.50 per day.</a> Live concerts and movie theaters are rare, imports and exports restricted, and <a href="https://www.un.org/unispal/humanitarian-situation-in-the-gaza-strip-fast-facts-ocha-factsheet/">children often used, and killed, for smuggling.</a></p>



<p>Though Hamdan and most of her peers have mobile phones — a lifeline for connecting with the outside world — power cuts are relentless: Az-Zawayda, her home in Deir al-Balah of some 25,000, often has barely <a href="https://www.hrw.org/news/2017/08/20/gaza-we-get-four-hours-electricity-day-if-were-lucky">four hours of electricity a day</a>. “There’s little to do here,” Hamdan said.</p>



<p>Before 2018, Hamdan had certainly never played a video game. That year, she learned to play Minecraft, the wildly popular computer game<strong> </strong>in which players make things out of blocks — but not purely for fun. In 2012, U.N.-Habitat, Microsoft, and Mojang, the company that made Minecraft, teamed up on <a href="https://www.blockbyblock.org/about">Block by Block</a>, a venture that aims to improve marginalized areas by actively engaging community members in public projects. According to the U.N., more than 17,000 people have participated in Block by Block initiatives in around 100 different countries — including three<strong> </strong>projects in Gaza — improving hundreds of thousands of lives in the process.&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2017-08-23_12.58.05-40x29.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2017-08-23_12.58.05-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2017-08-23_12.58.05-400x286.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/2017-08-23_12.58.05-600x429.jpg 600w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>Using Minecraft’s building blocks, community groups design a virtual public space, later made into concrete reality. From parks to beaches and even streets themselves, these spaces are a key indicator of the health and sustainability of cities.<strong> </strong>“If made safe, accessible, and welcoming, they can be drivers of civic cohesion, biodiversity, livelihood, and economic growth,” Christelle Lahoud, 30, a program management officer for U.N.-Habitat, told <em>Rest of World</em>. “If not, we tend to see more crime and pollution, reduced productivity, and general social disparities.”&nbsp;</p>



<p>Participants in the Gaza experiment were selected by the Aisha Association for Women and Child Protection, an independent organization and project partner working to achieve gender integration in Gaza. Promising candidates were motivated, interested, and hungry for change.&nbsp;</p>



<p>Hamdan was one of 42 others — young women, mostly — given the chance to imagine a virtually designed town center through the game.<strong> </strong>The project aimed to design and build a community garden for Az-Zawayda — a modest goal.</p>



<p>Fatma Zoqlam, 18, and her sister, Ghada, 17, also made the cut, much to the approval of their mother. “She was all, like, ‘You have to do it! It will improve your confidence! And communication!’” Fatma, wearing a floral hijab and bright-purple dress, told <em>Rest of World</em> over Skype. “Not that I needed persuading.”&nbsp;</p>



<p>But Ghada, a tad more shy, wasn’t quite as up for it. “It made me feel nervous, working in a team with strangers,” she said. The first day, the group visited the space, which was only sand, ruins, and unlit roads. “I stood there and thought, This isn’t going to work,” Fatma said.&nbsp;</p>



<p>The architects introduced the world of Minecraft. “Most of us had never played a video game before,” Hamdan said, “but it was surprisingly user-friendly.” They were split into groups of four. “We took turns figuring out the keys, playing around,” Ghada said. “Once I got going, I didn’t want to stop.”&nbsp;</p>



<p>On the second day, things got heated. Keen to impress teammates, the decision-making adults in the room, and their family and friends, things got competitive. “I wanted to have the optimal design. … Because then my work could be reflected in the actual space!” Fatma said. She leaned forward, “I wanted to be able to say to everyone I knew, I made that!”</p>


    <figure>
      <div>
				<ul>
					<li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/1-41-40x29.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/1-41-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/1-41-400x286.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/1-41-600x429.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/1-41-1000x714.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/1-41-1600x1143.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/09/1-41-2800x2000.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2-21-40x29.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2-21-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2-21-400x286.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/2-21-600x429.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/2-21-1000x714.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/2-21-1600x1143.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/09/2-21-2800x2000.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li>
				</ul>
			</div>
      <figcaption>Az-Zawayda Community Garden officially opened on December 31, 2018. Photos courtesy of Project Team.</figcaption>
    </figure>


<p>“I wanted technical approval,” Ghada said. “My group was, er, leader-heavy, though. A boy took charge. He was like, ‘We need to do this, this, and this.’”</p>



<p>What the group concluded was that protective measures were a priority. “We discussed safety a lot,” Hamdan said. “Me and my friends feel scared to leave the house alone. The threat of sexual assault is too much.” (Around 51% of women in Gaza are victims of gender-based violence.) They needed lighting, fencing, security (including a guard), and a separate area for women and families. “The fence was my input,” Ghada said.&nbsp;</p>



<p>For Fatma, aesthetics mattered — plants, trees, a proud fountain. Her team also made a cafeteria and installed<strong> </strong>municipal Wi-Fi to keep residents connected, along with solar panels.&nbsp;</p>



<p>Three female Palestinian architects brought the park to fruition. One of them, Tasneem Omar, 29, described the process as “genuinely eye-opening.” Despite Minecraft’s limitations — the game allows players to use only blocks, no curved shapes — the women’s 3D efforts made her job far simpler.&nbsp;</p>



<p>As the workshop came to a close, Omar drew up a schematic<strong> </strong>for a park based on the team’s work and handed it over to a group of selected contractors. Save for the Wi-Fi — which was costly and might detract from the community experience of the park — they used almost everything in the team’s design.</p>



<p>On December 31, 2018, Az-Zawayda Community Garden opened. Representatives from civil society organizations in the Gaza Strip, local and international NGOs, local universities, and workshop participants attended the launch. “It was a great feeling,” said Hamdan. “I gave a speech, something I wouldn’t have had the confidence to do before.”&nbsp;</p>



<p>Since then, additional projects have begun in Kosovo, Nepal, Lebanon, and Guinea; initiatives in Mozambique, South Africa, Ethiopia, Vietnam, Bangladesh, and Kyrgyzstan are currently underway. The Block by Block Foundation is also supporting coronavirus relief projects in ten affected countries.&nbsp;</p>



<p>For participants, the work is transformative. “We saw our work on the ground,” Fatma said, her eyes wide. “Nothing like this had been done before,” she added. “The municipality had never put us — the public — in charge.”</p>
		</div></div>]]>
            </description>
            <link>https://restofworld.org/2020/rebuilding-gaza-with-minecraft/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542830</guid>
            <pubDate>Mon, 21 Sep 2020 13:04:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Simple Anomaly Detection Using Plain SQL]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24542828">thread link</a>) | @haki
<br/>
September 21, 2020 | https://hakibenita.com/sql-anomaly-detection | <a href="https://web.archive.org/web/*/https://hakibenita.com/sql-anomaly-detection">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-progress-indicator="">
        <hr>
<p>Many developers think that having a critical bug in their code is the worst thing that can happen. Well, there is something much worse than that: Having a critical bug in your code and <strong>not knowing about it!</strong></p>
<p>To make sure I get notified about critical bugs as soon as possible, I started looking for ways to find anomalies in my data. I quickly found that information about these subjects tend to get very complicated, and involve a lot of ad-hoc tools and dependencies.</p>
<p>I'm not a statistician and not a data scientist, I'm just a developer. Before I introduce dependencies into my system I make sure I really can't do without them. So, <strong>using some high school level statistics and a fair knowledge of SQL, I implemented a simple anomaly detection system <em>that works</em>.</strong></p>
<figure><img alt="Can you spot the anomaly?<br><small>Photo by <a href=&quot;https://unsplash.com/photos/KmKZV8pso-s&quot;>Ricardo Gomez Angel</a></small>" src="https://hakibenita.com/images/00-sql-anomaly-detection.png"><figcaption>Can you spot the anomaly?<br><small>Photo by <a href="https://unsplash.com/photos/KmKZV8pso-s">Ricardo Gomez Angel</a></small></figcaption>
</figure>
<details open="">
   <summary>Table of Contents</summary>

</details>
<hr>

<hr>
<h2 id="detecting-anomalies"><a href="#detecting-anomalies">Detecting Anomalies</a></h2>
<p>Anomaly in a data series is a significant deviation from some reasonable value. Looking at this series of numbers for example, which number stands out?</p>
<div><pre><span></span>2, 3, 5, 2, 3, 12, 5, 3, 4
</pre></div>


<p>The number that stands out in this series is 12.</p>
<figure><img alt="Scatter plot" src="https://hakibenita.com/images/00-sql-anomaly-detection-scatter-plot.png"><figcaption>Scatter plot</figcaption>
</figure>
<p>This is intuitive to a human, but computer programs don't have intuition...</p>
<p>To find the anomaly in the series we first need to define what a reasonable value is, and then define how far away from this value we consider a significant deviation. A good place to start looking for a reasonable value is the mean:</p>
<div><pre><span></span><span>SELECT</span> <span>avg</span><span>(</span><span>n</span><span>)</span>
<span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>       avg</span>
<span>────────────────────</span>
<span>4.3333333333333333</span>
</pre></div>


<p>The mean is ~4.33.</p>
<p>Next, we need to define the deviation. Let's use <a href="https://en.wikipedia.org/wiki/Standard_deviation" rel="noopener">Standard Deviation</a>:</p>
<div><pre><span></span><span>SELECT</span> <span>stddev</span><span>(</span><span>n</span><span>)</span>
<span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>      stddev</span>
<span>────────────────────</span>
<span>3.0822070014844882</span>
</pre></div>


<p>Standard deviation is the square root of the <a href="https://en.wikipedia.org/wiki/Variance" rel="noopener">variance</a>, which is the average squared distance from the mean. In this case it's 3.08.</p>
<p>Now that we've defined a "reasonable" value and a deviation, we can define a <em>range</em> of acceptable values:</p>
<div><pre><span></span><span>SELECT</span>
   <span>avg</span><span>(</span><span>n</span><span>)</span> <span>-</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>lower_bound</span><span>,</span>
   <span>avg</span><span>(</span><span>n</span><span>)</span> <span>+</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>upper_bound</span>
<span>FROM</span>
   <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>    lower_bound    │     upper_bound</span>
<span>───────────────────┼────────────────────</span>
<span>1.2511263318488451 │ 7.4155403348178215</span>
</pre></div>


<p>The range we defined is one standard deviation from the mean. Any value outside this range is considered an anomaly:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>bounds</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>-</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>lower_bound</span><span>,</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>+</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>upper_bound</span>
   <span>FROM</span>
       <span>series</span>
<span>)</span>
<span>SELECT</span>
   <span>n</span><span>,</span>
   <span>n</span> <span>NOT</span> <span>BETWEEN</span> <span>lower_bound</span> <span>AND</span> <span>upper_bound</span> <span>AS</span> <span>is_anomaly</span>
<span>FROM</span>
   <span>series</span><span>,</span>
   <span>bounds</span><span>;</span>

<span>n  │ is_anomaly</span>
<span>───┼────────────</span>
<span> 2 │ f</span>
<span> 3 │ f</span>
<span> 5 │ f</span>
<span> 2 │ f</span>
<span> 3 │ f</span>
<span><span>12 │ t</span>
</span><span> 5 │ f</span>
<span> 3 │ f</span>
<span> 4 │ f</span>
</pre></div>


<p>Using the query we found that the value 12 is outside the range of acceptable values, and identified it as an anomaly.</p>
<h3 id="understanding-z-score"><a href="#understanding-z-score">Understanding Z-Score</a></h3>
<p>Another way to represent a range of acceptable values is using a z-score. <a href="https://en.wikipedia.org/wiki/Standard_score" rel="noopener">z-score, or Standard Score</a>, is the number of standard deviations from the mean. In the previous section, our acceptable range was one standard deviation from the mean, or in other words, a z-score in the range ±1:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_mean</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>)</span>
<span>SELECT</span>
   <span>n</span><span>,</span>
<span>   <span>(</span><span>n</span> <span>-</span> <span>series_mean</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>as</span> <span>zscore</span>
</span><span>FROM</span>
   <span>series</span><span>,</span>
   <span>stats</span><span>;</span>

<span>n  │         zscore</span>
<span>───┼─────────────────────────</span>
<span> 2 │ -0.75703329861022517346</span>
<span> 3 │ -0.43259045634870009448</span>
<span> 5 │  0.21629522817435006346</span>
<span> 2 │ -0.75703329861022517346</span>
<span> 3 │ -0.43259045634870009448</span>
<span>12 │      2.4873951240050256</span>
<span> 5 │  0.21629522817435006346</span>
<span> 3 │ -0.43259045634870009448</span>
<span> 4 │ -0.10814761408717501551</span>
</pre></div>


<p>Like before, we can detect anomalies by searching for values which are outside the acceptable range using the z-score:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_avg</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>),</span>
<span>zscores</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>n</span><span>,</span>
       <span>(</span><span>n</span> <span>-</span> <span>series_avg</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>AS</span> <span>zscore</span>
   <span>FROM</span>
       <span>series</span><span>,</span>
       <span>stats</span>
<span>)</span>
<span>SELECT</span>
   <span>*</span><span>,</span>
   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>1</span> <span>AND</span> <span>1</span> <span>AS</span> <span>is_anomaly</span>
<span>FROM</span>
   <span>zscores</span><span>;</span>

<span>n  │         zscore          │ is_anomaly</span>
<span>───┼─────────────────────────┼────────────</span>
<span> 2 │ -0.75703329861022517346 │ f</span>
<span> 3 │ -0.43259045634870009448 │ f</span>
<span> 5 │  0.21629522817435006346 │ f</span>
<span> 2 │ -0.75703329861022517346 │ f</span>
<span> 3 │ -0.43259045634870009448 │ f</span>
<span><span>12 │      2.4873951240050256 │ t</span>
</span><span> 5 │  0.21629522817435006346 │ f</span>
<span> 3 │ -0.43259045634870009448 │ f</span>
<span> 4 │ -0.10814761408717501551 │ f</span>
</pre></div>


<p>Using z-score, we also identified 12 as an anomaly in this series.</p>
<h3 id="optimizing-z-score"><a href="#optimizing-z-score">Optimizing Z-Score</a></h3>
<p>So far we used one standard deviation from the mean, or a z-score of ±1 to identify anomalies. Changing the z-score threshold can affect our results. For example, let's see what anomalies we identify when the z-score is greater than 0.5 and when it's greater than 3:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_avg</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>),</span>
<span>zscores</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>n</span><span>,</span>
       <span>(</span><span>n</span> <span>-</span> <span>series_avg</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>AS</span> <span>zscore</span>
   <span>FROM</span>
       <span>series</span><span>,</span>
       <span>stats</span>
<span>)</span>
<span>SELECT</span>
   <span>*</span><span>,</span>
<span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>0.5</span> <span>AND</span> <span>0.5</span> <span>AS</span> <span>is_anomaly_0_5</span><span>,</span>
</span><span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>1</span> <span>AND</span> <span>1</span> <span>AS</span> <span>is_anomaly_1</span><span>,</span>
</span><span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>3</span> <span>AND</span> <span>3</span> <span>AS</span> <span>is_anomaly_3</span>
</span><span>FROM</span>
   <span>zscores</span><span>;</span>

<span>n  │         zscore          │ is_anomaly_0_5 │ is_anomaly_1 │ is_anomaly_3</span>
<span>───┼─────────────────────────┼────────────────┼──────────────┼──────────────</span>
<span> 2 │ -0.75703329861022517346 │ t              │ f            │ f</span>
<span> 3 │ -0.43259045634870009448 │ f              │ f            │ f</span>
<span> 5 │  0.21629522817435006346 │ f              │ f            │ f</span>
<span> 2 │ -0.75703329861022517346 │ t              │ f            │ f</span>
<span> 3 │ -0.43259045634870009448 │ f              │ f            │ f</span>
<span>12 │      2.4873951240050256 │ t              │ t            │ f</span>
<span> 5 │  0.21629522817435006346 │ f              │ f            │ f</span>
<span> 3 │ -0.43259045634870009448 │ f              │ f            │ f</span>
<span> 4 │ -0.10814761408717501551 │ f              │ f            │ f</span>
</pre></div>


<p>Let's see what we got:</p>
<ul>
<li>When we decreased the z-score threshold to 0.5, we identified the value 2 as an anomaly in addition to the value 12.</li>
<li>When we increased the z-score threshold to 3 we did not identify any anomaly.</li>
</ul>
<p>The quality of our results are directly related to the parameters we set for the query. Later we'll see how using backtesting can help us identify ideal values.</p>
<hr>
<h2 id="analyzing-a-server-log"><a href="#analyzing-a-server-log">Analyzing a Server Log</a></h2>
<p>Application servers such as nginx, Apache and IIS write a lot of useful information to access logs. The data in these logs can be extremely useful in identifying anomalies.</p>
<p>We are going to analyze logs of a web application, so the data we are most interested in is the timestamp and the status code of every response from the server. To illustrate the type of insight we can draw from just this data:</p>
<ul>
<li><strong>A sudden increase in 500 status code</strong>: You may have a problem in the server. Did you just push a new version? Is there an external service you're using that started failing in unexpected ways?</li>
<li><strong>A sudden increase in 400 status code</strong>: You may have a problem in the client. Did you change some validation logic and forgot to update the client? Did you make a change and forgot to handle backward compatibility?</li>
<li><strong>A sudden increase in 404 status code</strong>: You may have an SEO problem. Did you move some pages and forgot to set up redirects? Is there some script kiddy running a scan on your site?</li>
<li><strong>A sudden increase in 200 status code</strong>: You either have some significant legit traffic coming in, or you are under a DOS attack. Either way, you probably want to check where it's coming from.</li>
</ul>
<h3 id="preparing-the-data"><a href="#preparing-the-data">Preparing the Data</a></h3>
<p>Parsing and processing logs is outside the scope of this article, so let's assume we did that and we have a table that looks like this:</p>
<div><pre><span></span><span>CREATE</span> <span>TABLE</span> <span>server_log_summary</span> <span>AS</span> <span>(</span>
   <span>period</span> <span>timestamptz</span><span>,</span>
   <span>status_code</span> <span>int</span><span>,</span>
   <span>entries</span> <span>int</span>
<span>);</span>
</pre></div>


<p>The table stores the number of entries for each status code at a given period. For example, our table stores how many responses returned each status code every minute:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span> <span>*</span> <span>FROM</span> <span>server_log_summary</span> <span>ORDER</span> <span>BY</span> <span>period</span> <span>DESC</span> <span>LIMIT</span> <span>10</span><span>;</span>

<span>        period         │ status_code │ entries</span>
<span>───────────────────────┼─────────────┼─────────</span>
<span>2020-08-01 18:00:00+00 │         200 │    4084</span>
<span>2020-08-01 18:00:00+00 │         404 │       0</span>
<span>2020-08-01 18:00:00+00 │         400 │      24</span>
<span>2020-08-01 18:00:00+00 │         500 │       0</span>
<span>2020-08-01 17:59:00+00 │         400 │      12</span>
<span>2020-08-01 17:59:00+00 │         200 │    3927</span>
<span>2020-08-01 17:59:00+00 │         500 │       0</span>
<span>2020-08-01 17:59:00+00 │         404 │       0</span>
<span>2020-08-01 17:58:00+00 │         400 │       2</span>
<span>2020-08-01 17:58:00+00 │         200 │    3850</span>
</pre></div>


<p>Note that the table has a row for every minute, even if the status code was never returned in that minute. Given a table of statuses, it's very tempting to do something like this:</p>
<div><pre><span></span><span>-- Wrong!</span>
<span>SELECT</span>
   <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>timestamp</span><span>)</span> <span>AS</span> <span>period</span><span>,</span>
   <span>status_code</span><span>,</span>
   <span>count</span><span>(</span><span>*</span><span>)</span> <span>AS</span> <span>entries</span>
<span>FROM</span>
   <span>server_log</span>
<span>GROUP</span> <span>BY</span>
   <span>period</span><span>,</span>
   <span>status_code</span><span>;</span>
</pre></div>


<p>This is a common mistake and it can leave you with gaps in the data. Zero is a value, and it holds a significant meaning. A better approach is to create an "axis", and join to it:</p>
<div><pre><span></span><span>-- Correct!</span>
<span>WITH</span> <span>axis</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>status_code</span><span>,</span>
       <span>generate_series</span><span>(</span>
           <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>now</span><span>()),</span>
           <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>now</span><span>()</span> <span>-</span> <span>interval</span> <span>'1 hour'</span><span>),</span>
           <span>interval</span> <span>'1 minute'</span> <span>*</span> <span>-</span><span>1</span>
       <span>)</span> <span>AS</span> <span>period</span>
   <span>FROM</span> <span>(</span>
       <span>VALUES</span> <span>(</span><span>200</span><span>),</span> <span>(</span><span>400</span><span>),</span> <span>(</span><span>404</span><span>),</span> <span>(</span><span>500</span><span>)</span>
   <span>)</span> <span>AS</span> <span>t</span><span>(</span><span>status_code</span><span>)</span>
<span>)</span>
<span>SELECT</span>
   <span>a</span><span>.</span><span>period</span><span>,</span>
   <span>a</span><span>.</span><span>status_code</span><span>,</span>
   <span>count</span><span>(</span><span>*</span><span>)</span> <span>AS</span> <span>entries</span>
<span>FROM</span>
   <span>axis</span> <span>a</span>
   <span>LEFT</span> <span>JOIN</span> <span>server_log</span> <span>l</span> <span>ON</span> <span>(</span>
       <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>l</span><span>.</span><span>timestamp</span><span>)</span> <span>=</span> <span>a</span><span>.</span><span>period</span>
       <span>AND</span> <span>l</span><span>.</span><span>status_code</span> <span>=</span> <span>a</span><span>.</span><span>status_code</span>
   <span>)</span>
<span>GROUP</span> <span>BY</span>
   <span>period</span><span>,</span></pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hakibenita.com/sql-anomaly-detection">https://hakibenita.com/sql-anomaly-detection</a></em></p>]]>
            </description>
            <link>https://hakibenita.com/sql-anomaly-detection</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542828</guid>
            <pubDate>Mon, 21 Sep 2020 13:04:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Introduction to Voice and Multimodal Interactions]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24542826">thread link</a>) | @JanKoenig
<br/>
September 21, 2020 | https://www.context-first.com/introduction-voice-multimodal-interactions/ | <a href="https://web.archive.org/web/*/https://www.context-first.com/introduction-voice-multimodal-interactions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><section><p>“<em>Are you open tomorrow?</em>”</p><p>“<em>Yes, we open at 9am.</em>”</p><p>The conversation above seems very simple, right? The goal of most voice and chat interactions is to provide a user experience that is as simple as possible. However, this doesn’t mean that these types of interactions are as easy to design or to build. Quite the contrary. There is a lot going on under the hood that the users never see (or, in this case, hear).</p><p>And it only becomes more complex as more modalities are added: With additional interfaces like visual and touch, maybe even gestures or sensory input, the design and development challenge can become multidimensional quickly. This is why it’s important to have a clear, abstracted process when building multimodal experiences.</p><p>In this post, I will walk you through some of the steps involved in building voice and multimodal interactions. We’ll take a look at the RIDR lifecycle, a concept that we introduced with the <a href="https://www.context-first.com/introducing-jovo-v3-the-voice-layer/">launch of Jovo v3</a> earlier this year.</p><p>To kick things off, let’s take a look at a typical voice interaction and then see how this can be expanded to multimodal experiences.</p><h2 id="example-of-a-voice-interaction">Example of a Voice Interaction</h2><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/conversation-intro.png"><img src="https://ghost.jovo.tech/content/images/2020/09/conversation-intro.png"></a></figure><p>In the introduction of this post, a user asks a question (“<em>Are you open tomorrow?</em>”) and the system (e.g. a bot or an assistant) responds with a (hopefully appropriate) answer like “<em>Yes, we open at 9am.</em>”</p><p>This is what we call an <em>interaction</em>. <a href="https://www.jovo.tech/docs/requests-responses">In our definition</a>, an interaction is a single pair of a user request and a system response. </p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/request-response.png"><img src="https://ghost.jovo.tech/content/images/2020/09/request-response.png"></a></figure><p>What might appear like a simple interaction actually requires many steps under the hood to deliver a meaningful response. It looks more like this:</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/ridr-lifecycle.png"><img src="https://ghost.jovo.tech/content/images/2020/09/ridr-lifecycle.png"></a></figure><p>With the <a href="https://context-first.com/introducing-jovo-v3-the-voice-layer-bf369db4808e">launch of Jovo v3</a>, we introduced the RIDR (<em>Request - Interpretation - Dialog &amp; Logic - Response</em>) lifecycle with the goal to establish an abstracted process to get from request to response and make it possible to plug into (interchangeable) building blocks for each step.</p><p>The pipeline includes four key elements:</p><ul><li><u>R</u>equest</li><li><u>I</u>nterpretation</li><li><u>D</u>ialog &amp; Logic</li><li><u>R</u>esponse</li></ul><p>Let’s briefly take a look at each of the steps.</p><h3 id="request">Request</h3><p>The <em>Request</em> step starts the interaction and captures necessary data.</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/ridr-request.png"><img src="https://ghost.jovo.tech/content/images/2020/09/ridr-request.png"></a></figure><p>If we use a voice-first device as an example, there are a few things that need to be handled, like:</p><ul><li>Knowing when to record input (e.g. after a button is pushed or using wake word detection)</li><li>Recording the input</li><li>Figuring out when the person stopped speaking (e.g. with silence detection)</li><li>Processing audio to be passed to the next step</li></ul><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/request-detail.jpg"><img src="https://ghost.jovo.tech/content/images/2020/09/request-detail.jpg"></a></figure><p>These initial steps usually happen on the device the user is interacting with. Platforms like Amazon Alexa do all these things for you, but if you want to build your own custom voice system (e.g. voice-enabling a web or mobile app, building your own hardware), you may want to handle everything yourself. Jovo Client libraries like “<a href="https://www.jovo.tech/marketplace/jovo-client-web">Jovo for Web</a>” help with some of these elements, like recording mechanisms, visual elements, silence detection, and audio conversions.</p><p>After the input is recorded, the request containing the audio is sent to the <em>Interpretation</em> step of the pipeline.</p><h3 id="interpretation">Interpretation</h3><p>The <em>Interpretation</em> step tries to make sense of the data gathered from the <em>Request</em>.<br></p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/ridr-interpretation.png"><img src="https://ghost.jovo.tech/content/images/2020/09/ridr-interpretation.png"></a></figure><p>In our voice example, the previously recorded audio is now	turned into structured meaning by going through multiple steps:</p><ul><li>An automated speech recognition (ASR) service turns the audio into text</li><li>The text is then turned into a structure with <em>intents</em> and <em>entities</em> by a natural language understanding (NLU) service</li><li>Additional steps could include speaker recognition, sentiment analysis, voice biometrics, and more</li></ul><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/interpretation-detail.png"><img src="https://ghost.jovo.tech/content/images/2020/09/interpretation-detail.png"></a></figure><p>The <em>Interpretation</em> takes an audio file as input, runs it through various services, and then outputs structured, machine-readable data. This is usually a result of a natural language understanding (NLU) service that is trained with multiple phrases:</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/nlu-intro.png"><img src="https://ghost.jovo.tech/content/images/2020/09/nlu-intro.png"></a></figure><p>The service then matches the text provided by the ASR to an intent and optionally a set of entities. In our case it would be the <em>OpenHours</em> intent with additional information (“tomorrow”) in the form of an entity.</p><p>This structured data is then passed to the actual logic of the conversational app in <em>Dialog &amp; Logic</em>.</p><h3 id="dialog-logic">Dialog &amp; Logic</h3><p>In the <em>Dialog &amp; Logic</em> step it is determined how and what should be responded to the user.</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/ridr-dialog.png"><img src="https://ghost.jovo.tech/content/images/2020/09/ridr-dialog.png"></a></figure><p>This step involves a couple of important things such as:</p><ul><li>User Context: Is this a new or existing user? Is any additional data about them available, like preferred location?</li><li>Dialog Management: Where in the conversation are we right now? Is there any additional input we need to collect from the user?</li><li>Business Logic: Is there any specific information about the business that we need to collect?</li></ul><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/dialog-detail.png"><img src="https://ghost.jovo.tech/content/images/2020/09/dialog-detail.png"></a></figure><p>In the current example, we would collect data about opening hours, maybe specific to the user’s preferred location (if the system manages multiple locations).</p><p>All the necessary data is gathered and then handed off to the <em>Response</em>.</p><h3 id="response">Response</h3><p>In the final <em>Response</em> step, the data from the previous step is assembled into the appropriate output for the specific platform or device.</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/ridr-response-1.png"><img src="https://ghost.jovo.tech/content/images/2020/09/ridr-response-1.png"></a></figure><p>This also usually involves:</p><ul><li>Collecting data from a content management system (CMS) with e.g. localization features</li><li>Sending the output to a text to speech (TTS) service that turns it into a synthesized voice</li></ul><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/response-detail.jpg"><img src="https://ghost.jovo.tech/content/images/2020/09/response-detail.jpg"></a></figure><p>The output is then played back to the user, either stopping the session (closing the microphone) or waiting for additional input (a new <em>Request</em>). Rinse and repeat.</p><p>This example of a voice-only interaction still seems like a manageable process to design and build. What if we add more modalities though? Let’s take a look.</p><h2 id="multimodal-experiences-beyond-voice">Multimodal Experiences Beyond Voice</h2><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/multimodal-request-response-1.png"><img src="https://ghost.jovo.tech/content/images/2020/09/multimodal-request-response-1.png"></a></figure><p>The previous example shows how RIDR works with a simple interaction that uses both speech input and output. Early voice applications for platforms like Amazon Alexa focused mainly on voice-only interactions, for example when people talk to a smart speaker without a display. (<em>Note: You could argue that the LED light ring—which indicates that Alexa is listening—already makes it a multimodal interaction.</em>)</p><p>As technology evolves, interactions between users and their devices are becoming increasingly complex. As I highlight in <a href="https://www.context-first.com/introducing-context-first/">Introducing Context-First</a>, products are becoming multimodal by default. This means that we’re seeing more interactions that either offer multiple input modalities (e.g. speech, touch, gestures) or output channels (e.g. speech, visual). <a href="https://www.context-first.com/alexa-please-send-this-to-my-screen/">Alexa, Please Send This To My Screen</a> covers how multimodal interactions can either be continuous, complementary, or consistent experiences.</p><p>Let’s take a look at some multimodal experiences and how they could work with RIDR.</p><h3 id="examples-of-multimodal-interactions">Examples of Multimodal Interactions<br></h3><p>A multimodal experience could be as little as displaying additional (helpful) information on a nearby screen:</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/visual-output.png"><img src="https://ghost.jovo.tech/content/images/2020/09/visual-output.png"></a></figure><p>Or, the visual display could offer touch input for faster interactions, for example in the form of a button (they are sometimes called <em>quick replies</em>):</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/quick-replies.png"><img src="https://ghost.jovo.tech/content/images/2020/09/quick-replies.png"></a></figure><p>It gets increasingly interesting, and challenging to implement, when two input modalities are used in tandem:</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/gestures-voice.png"><img src="https://ghost.jovo.tech/content/images/2020/09/gestures-voice.png"></a></figure><p>The above is similar to <a href="https://www.youtube.com/watch?v=RyBEUyEtxQo">Put That There</a> which I mentioned in my previous post <a href="https://www.context-first.com/introducing-context-first/">Introducing Context-First</a>: Someone says something and provides additional context by pointing at an object. Interactions like this are challenging to decode and interpret. The process of making sense of multiple modalities is called <em>multimodal fusion</em>.</p><h3 id="multimodal-interactions-and-ridr">Multimodal Interactions and RIDR<br></h3><p>Let’s take a look at how RIDR can be abstracted even more to work with multimodal interactions. The goal is that each of the building blocks can easily be replaced depending on the current context of the interaction.</p><p>For example, the <em>Request </em>step does not necessarily need to contain just a microphone, it could also have a camera or sensors to collect user input. We could call each of these elements a <em>modality recorder</em>.</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/request-multimodal.png"><img src="https://ghost.jovo.tech/content/images/2020/09/request-multimodal.png"></a></figure><p>In the <em>Interpretation</em> step, it could also be divided into two distinct steps. A <em>recognizer</em> that turns raw input (like audio, video, even emoji or a location) into a format that’s easier to process for an <em>interpreter</em>.</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/interpretation-multimodal.png"><img src="https://ghost.jovo.tech/content/images/2020/09/interpretation-multimodal.png"></a></figure><p>Not every interaction would need to go through each of the steps. Different input modalities might require different treatment:</p><ul><li>Text-based interactions (e.g. chatbots) can skip the speech recognition</li><li>Touch-based interactions need to take into account the payload of e.g. a button (where was it clicked?)</li><li>Vision-based interactions (e.g. gestures) need different steps that involve computer vision and interpretation</li></ul><p>As mentioned earlier, this can get even more complex as you add multiple modalities at once. For this, an additional step for <em>multimodal fusion</em> is introduced.</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/multimodal-fusion.png"><img src="https://ghost.jovo.tech/content/images/2020/09/multimodal-fusion.png"></a></figure><p>The <em>Dialog &amp; Logic</em> step from the voice example above can stay the same for now. We’ll take a deeper look at this in the next post as there are many additional layers to dive into.</p><p>The <em>Response</em> step is another interesting one. Where voice requires a text-to-speech (TTS) service, a multimodal experience might need additional elements like visual output or a video avatar. We call services fulfilling this step <em>output renderers</em>.</p><figure><a href="#" data-featherlight="https://ghost.jovo.tech/content/images/2020/09/response-multimodal.png"><img src="https://ghost.jovo.tech/content/images/2020/09/response-multimodal.png"></a></figure><p>That’s how we currently envision multimodal user interfaces to work under the hood. This model will be updated and improved as we iteratively learn and experiment with the addition of new modalities. </p><h2 id="open-questions-and-outlook">Open Questions and Outlook<br></h2><p>This post provided a first introduction to the many steps involved when building a seemingly simple voice interaction, and how this can be applied to multimodal experiences.</p><p>Again, this is a work in progress. Here are some additional questions I currently have:</p><ul><li>Right now, this only covers user-initiated (pull) request-response interactions. What if the system starts (push)? Could sensory data be used as a trigger?</li><li>Should interpretation and dialog/logic be tied together more closely? How about dialog/logic and response? <a href="https://blog.rasa.com/demonstration-of-our-ted-policy/">Rasa’s TED policy</a> is one example where the interpretation step is doing some dialog and response work.</li><li>Are there use cases where this abstraction doesn’t work at all? Do (currently still experimental) new models like <a href="https://openai.com/blog/openai-api/">GPT-3</a> work with this?</li></ul><p>While this was already getting a bit complex at the second half of the article, it was still a simple example. It …</p></section></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.context-first.com/introduction-voice-multimodal-interactions/">https://www.context-first.com/introduction-voice-multimodal-interactions/</a></em></p>]]>
            </description>
            <link>https://www.context-first.com/introduction-voice-multimodal-interactions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542826</guid>
            <pubDate>Mon, 21 Sep 2020 13:04:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Rid of Old Ships]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24542764">thread link</a>) | @mef
<br/>
September 21, 2020 | https://www.pacmar.com/story/2018/03/01/features/getting-rid-of-old-ships-the-world-of-shipbreaking/593.html | <a href="https://web.archive.org/web/*/https://www.pacmar.com/story/2018/03/01/features/getting-rid-of-old-ships-the-world-of-shipbreaking/593.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The shipbreaking industry has been around as long as there have been ships but over the past half-century it has gravitated to regions offering both inexpensive land and cheap labor. Prior to World War II, yards in Europe, the US and Japan handled most shipbreaking, with the well known Ward yard in the United Kingdom gaining public attention by breaking up some of Britain's best known ocean liners and naval vessels.</p><p>After the end of the war, and with many worn-out ships to dispose of, Taiwan became a major destination for vessels approaching the end of their economic lifespans. This saw the Port of Kaohsiung, in southern Taiwan, become a major base for the industry where vessels could be brought alongside makeshift berths and cut down using semi-skilled labor and oxy/acetylene torches. However, once the land supporting these waterfront businesses became too valuable for demolition in the 1980s the mudflats of Pakistan, India and Bangladesh rose to prominence by offering even cheaper labor as well as lax environmental regulations and low taxes.</p><p>In Europe, what remained of the shipbreaking industry gravitated from the north to less expensive locations in Spain and Turkey, with the latter nation still continuing to compete with Asian breakers for smaller ships. In the United States most shipbreaking has been consolidated along the 17-mile shipping channel leading to the Port of Brownsville,Texas, near Mexico, where much of the resulting scrap is processed, while a small yard at Port Colborne, Ontario handles some Canadian and Great Lakes ships.</p><p><strong>Kaohsiung – Once the Shipbreaking Leader</strong></p><p>The process of breaking up a ship is both dangerous and labor-intensive. In 1979 this writer was sent to Kaohsiung, Taiwan to report on the demolition of P&amp;O Line's <strong><i>Arcadia</i></strong>, which had helped pioneer the Alaska cruise industry in the early 1970s.</p><p>At the time Kaohsiung was the largest ship breaking center in the world, with Hong Kong's Junk Bay a close second and South Korea closing rapidly. <strong><i>Arcadia</i></strong>, built by Great Britain's famous John Brown yard at Clydebank in 1953, had been purchased by a Japanese broker in 1978 and resold to a Kaohsiung-based company for demolition. By that time the steam turbine propelled ship, built for the Australian immigrant trade, had steamed more than 2.5 million miles and was ready for retirement.</p><p>Through the auspices of the Regional Association of Old Ship Demolition Engineering Industry, a ponderously titled organization that served as an umbrella agency for the shipbreakers of Kaohsiung, I was introduced to Mr. Wang Fu Yin of Keun Hwa Steel who would be my guide though the yards. As an English-speaking staff member of one of the region's larger steel works he was in a good position to answer most of my questions concerning the industry.</p><p><strong>Dah Jen and Dah Lin Pu</strong></p><p>In the 1970s ship demolition was done at two major facilities located within the southern reaches of Kaohsiung <a href="https://www.pacmar.com/search/Harbor">Harbor</a>, Dah Jen and Dah Lin Pu, where vessels were brought alongside rather than "beached" as is done today in India, Pakistan and Bangladesh. This offered a much quicker demolition cycle than beaching as cut sections of ships could be loaded directly onto trucks for transport to regional mills rather than slowly pulled across mudflats for additional cutting.</p><p>Our first destination was the enormous Dah Jen complex located only a few miles from the city's airport. On our way through Kaohsiung our car was constantly passed by overburdened trucks transporting huge chunks of metal to the surrounding mills. Once in the yard itself we found ourselves surrounded by what appeared to be an endless wall of obsolete vessels; smoke, dust and powdered rust permeating the air. Around us winches were pulling cables taunt as heavy sections of metal were torn loose from hulls while fans of sparks cascaded down from hulls where workers were cutting ships apart from the inside out.</p><p><strong>Shipbreaking 101</strong></p><p>In answer to several of my questions, Mr. Wang explained how Kaohsiung's breaking industry worked. Ships were acquired on the world market through either independent brokers or the China Dismantled Vessel Trading Corporation, a purchasing cooperative formed by the breakers themselves. As is the practice today, the price was largely determined by a vessel's Light Displacement Tonnage (LDT). This is the weight of a complete but unloaded, un-fueled and un-provisioned ship. As an example, the world's largest ship of that era, the stretched petroleum tanker <strong><i>Seawise Giant</i></strong>, had a loaded displacement of 647,955 tons but a light displacement of only 83,192 tons.</p><p>Mr. Wang noted that the actual price paid per vessel varied according to market conditions, the type of ship, its construction, the quality of its steel and what additional material or equipment it might still be found aboard. This included fuel oil as well as spare propellers and shafts.</p><p>Higher prices would normally be paid for vessels having large amounts of flat steel plate, such as tankers and bulk carriers, while lower prices might be offered for passenger liners and refrigerator ships, both having complicated interiors and large amounts of wood and insulation to deal with.</p><p>During our tour of Dah Jen it could be seen that there was very little sympathy shown to ships in the actual breaking process. Great liners were torn apart, plundered, and melted down just as rapidly as the rustiest of old general cargo ships. Mr. Wang noted that each breaker maintained his own berthing area, which was sub-leased from the Kaohsiung <a href="https://www.pacmar.com/search/Harbor">Harbor</a> Authority.</p><p>The docks were staggered in such a manner that they allowed about a third of a ship alongside, the other two-thirds jutting out into the water. This permitted the greatest number of ships to be broken up in the most compact area.</p><p>Demolition would usually commence several days, and sometimes several weeks, after a vessel had arrived off port. Paper work would have to be cleared, import duties tabulated, business licenses obtained and various <a href="https://www.pacmar.com/search/Harbor">Harbor</a> fees paid. When everything was in order a vessel would be allowed to come alongside and its crew released for the long flight home.</p><p><strong>Subcontractors</strong></p><p>Once a ship was berthed the first of a number of subcontractors would scramble on board. Kaohsiung breakers at the time used various local contractors to "clean the ship," with each group having its own specialty. The first group would normally remove loose items – furnishings, tables, chairs, mattresses, lamps, cutlery, even the galley sink – all of it going over the side and into waiting trucks for delivery to second-hand shops. Next on board would be the wood removers. This group would attack the cabins, holds and decks, stripping timbers, planks, shelving and veneers, anything considered flammable, the wood itself being bundled up for sale ashore.</p><p>Once flammables were removed the cutters would come aboard. They were considered the craftsmen of the industry and their speed largely determined the profit to be made on each vessel.</p><p>At Kaohsiung the stern of a ship would usually be dismantled first, with large sections of the hull cut and lowered onto waiting trucks. The shoreside machinery used in this process – old derricks, winches and rigging – had been removed from ships long ago melted down.</p><p>Cutting would continue down to the engine room where pumps, generators and compressors would be removed for resale while the main engine would be demolished. The propeller shaft would then be removed and the bronze propeller lifted clear, its blades to be cut off by drilling. Work would then continue forward, the ship rising slowly upwards with each ton of metal removed.</p><p>Rigging and masts would come down and deck winches cut loose, all to be lowered overboard. In six weeks the average freighter or tanker could be reduced to its double-bottom, which would be towed to a separate beach and pulled ashore for final rendering.</p><p><strong><i>Arcadia</i></strong></p><p>To visit <strong><i>Arcadia</i></strong> we drove around the lower end of Kaohsiung <a href="https://www.pacmar.com/search/Harbor">Harbor</a> to the Dah Lin Pu facility where the white-hulled ship had been positioned alongside the large tanker <strong><i>Andros Apollon</i></strong>. The scene was bleak as the 100,000-dwt crude carrier, less than a decade old, was already being cut apart while <strong><i>Arcadia</i></strong> had been intentionally listed over so her remaining fuel could be pumped off, the oil going into her once pristine lifeboats for transport ashore.</p><p>At the top of the pilot ladder a guard listened patiently to Mr. Wang's excuse for our coming aboard, then waved us on into the ship's dark interior. There was neither electricity nor lights. The only sound came from a motorized pump that was working on the liner's fuel supply far below. With flashlights in hand we proceeded forward along a dark corridor until we came to the main staircase. Here, workers were moving mattresses in bundles up to the outside decks.</p><p>As we passed one cabin, its door ajar, I looked in to see the bedding gone but two glasses still standing in their holders at the sink while two white shaving towels still hung on their hooks below. Orange life vests were still visible overflowing from the closets. Nothing had been disturbed.</p><p>Moving upward, we entered a lounge where we encountered more workers cutting and rolling up sections of carpet, the furniture having already gone over the side into waiting trucks. On the outside promenade we found yet another crew busily chiseling up the wooden decks, the tropical hardwood going into large bundles.</p><p><strong>Nautical Antiques</strong></p><p>In a small room forward we came across Mr. Ming H. Wu of Rainbow Enterprises who was busy sorting through light fixtures taken from<strong> <i>Arcadia's</i></strong> various public rooms. Mr. Ming was a local antiques dealer and had purchased most of <strong><i>Arcadia's</i></strong> decorative furnishing and brass items. Beyond him were stacked many of the ship's red and white life preservers as well as brass staircase railings, bed lamps and wooden deck chairs. He explained that all of the items would be shipped overseas, largely to antique dealers in United States, Europe and Japan.</p><p>Continuing to move forward and upward we …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.pacmar.com/story/2018/03/01/features/getting-rid-of-old-ships-the-world-of-shipbreaking/593.html">https://www.pacmar.com/story/2018/03/01/features/getting-rid-of-old-ships-the-world-of-shipbreaking/593.html</a></em></p>]]>
            </description>
            <link>https://www.pacmar.com/story/2018/03/01/features/getting-rid-of-old-ships-the-world-of-shipbreaking/593.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542764</guid>
            <pubDate>Mon, 21 Sep 2020 12:57:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to solve the social dilemma and fix social media]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24542754">thread link</a>) | @ianopolous
<br/>
September 21, 2020 | https://peergos.org/posts/the-social-dilemma | <a href="https://web.archive.org/web/*/https://peergos.org/posts/the-social-dilemma">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <center>
<a href="https://www.ngi.eu/">
<img alt="The Social Dilemma" id="id" src="https://peergos.org/theme/img/blog/the-social-dilemma.png" width="50%">
</a>
<br>
Still from the Netflix documentary, The Social Dilemma
</center>
<p>Netflix recently aired a new documentary, <a href="https://www.humanetech.com/the-social-dilemma">"The Social Dilemma"</a>, which explores in detail the harmful effects that social networks such as Facebook and Instagram have on individuals and society at large. One of the interviewees in the documentary, Jeff Seibert, has written a more <a href="https://medium.com/@jeff_seibert/the-mechanics-and-psychology-behind-the-social-dilemma-719d618aa8ce">detailed piece</a> on the underlying causes, methods and impacts of current social networks on society and democracy. He argues that advertising-driven business models combined with user-generated content and machine learning lead to increased polarization and anxiety, widespread misinformation, and mass-scale manipulation of society. Some proposals to fight this include regulation, like the General Data Protection Regulation (GDPR), which place strong controls on collecting data on users, even potentially banning personalized advertising.</p>
<p>We agree with Seibert, and we also have a solution. Regulation has the danger of increasing the power of the dominant incumbents, if it's not done correctly. They treat it as a burden and moat preventing competition, and competition is what is needed most. What new competitors need is a different business model. A business based on selling ads is not aligned with the interests of its user base. <strong>What if, instead of advertisers being the customer, the actual end-users were the customer?</strong> If users paid a small amount on a subscription basis, then the business would be incentivized to keep customers happy. This model may not maximize revenue for the company, but so long as the company is sustainable and able to grow, then that shouldn't matter. The apparent obsession with maximising revenue and growth at all costs is not healthy, and models in which users pay directly for services are better in the long term - for individuals and for society.</p>
<p>Whatsapp was a great example of a succesful subscription-based business. They started off charging a subscription of $1 per year. At the time of their acquisition, in 2014, Whatsapp had 450 million monthly active users, and annualized revenue of around $32M [<a href="https://techcrunch.com/2014/10/28/whatsapp-revenue">source</a>], and were adding a million new users every day [<a href="https://investor.fb.com/investor-news/press-release-details/2014/Facebook-to-Acquire-WhatsApp/default.aspx">source</a>]. For a company that had only 55 employees and operating cost around $10M, that sounds sustainable. Whatsapp also weren't really pushing for monetization, but rather growth. For example, they were relaxed about enforcing the $1 fee after the first year, and didn't apply it at all in certain countries. For comparison, at the time Facebook was making $7 in revenue per user.</p>
<p>Even a good business model can change depending on who owns the company. If investors or shareholders demand that profit is maximized, then that's what you have to do. To prevent this you either need to have benevolent investors, who aren't focused on maximising revenue at all costs, or don't have any investors. This could mean being entirely self-owned, or being a non-profit organisation. This alone probably isn't enough though - what's needed are built-in defences keeping any potential future owners honest and aligned with the users.</p>
<p>One of these defences to keep the company's interests aligned with the users is to reduce the barrier to leaving. If the social network is <a href="https://en.wikipedia.org/wiki/Decentralization">decentralized</a> then this is structurally enforced. In that case, if the company starts to misbehave in some way, users can easily move to another company (or self host) and keep all their data and friends. This is not possible with centralized social networks without open protocols. An open protocol actually takes this even further, as the user interface itself can be replaced. If the company were to start adding malicious features to the interface, people can simply switch to a different one. Combining this with being open source means it is also easy to modify the existing user interface. Social media incentives have never been this aligned with the users before. </p>
<p>There is still one major ace card to be played to protect users: end-to-end encryption. If the service cannot read your data, then it is impossible to target ads, even if they wanted to. This means that any social feed cannot be an arbitrary black box machine learning algorithm - it has to be assembled client side, thus putting end users in full control of their data and returning their autonomy. </p>
<p>The final component is ethical humane design. That means designing for the good of the human user. No manipulative notifications or dark UI patterns designed to increase engagement and steal more of the user's life. Social media should be a tool that is used to enhance people's lives, not something that manipulates people into spending more time on it. </p>
<p><em>"If something is a tool, it genuinely is just sitting there waiting, patiently. If something is not a tool, it's demanding things from you. It's seducing you. It's manipulating you. It wants things from you. And we've moved away from having a tools based technology environment, to an addiction and manipulation based technology environment. That's what's changed. Social media isn't a tool that's just waiting to be used. It has its own goals, and its own means of pursuing them by using your psychology against you."</em> <br>
</p><p>-Tristan Harris in The Social Dilemma</p>
<p>Putting all of the above together, what is needed is an open, decentralized, end-to-end encrypted and ethical social network whose business model is subscription based.</p>
<p>That's exactly what we're building.</p>

<h4>RECENT POSTS</h4>
    </div></div>]]>
            </description>
            <link>https://peergos.org/posts/the-social-dilemma</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542754</guid>
            <pubDate>Mon, 21 Sep 2020 12:56:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to find time to keep up with coding when you are a tech lead?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24542131">thread link</a>) | @quickthrower2
<br/>
September 21, 2020 | https://www.exploringreact.com/2020/09/18/how-to-find-time-to-keep-up-with-coding-when-you-are-a-tech-lead-3-tips-that-work-from-someone-who-has-been-there/ | <a href="https://web.archive.org/web/*/https://www.exploringreact.com/2020/09/18/how-to-find-time-to-keep-up-with-coding-when-you-are-a-tech-lead-3-tips-that-work-from-someone-who-has-been-there/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-30">
	

	<div>

		<!-- .entry-header -->

		
		<div>
			
<p>If you have recently been promoted to tech lead, or doing it for a while, you’ll deeply appreciate that there is hardly any time for coding, or maybe zero time at all.</p>



<p>There are a lot of people related things to do, project planning things to do, improving for the future or responding to emergencies. It can quickly turn into a blue screen of meeting appointments and none of them say “work on your favourite coding project”.&nbsp;</p>



<p>Of course you could code in your spare time, but let’s face it often we are too tired after working all day, and there are friends, hobbies and commitments outside of work.</p>



<p>You want to code more because, it is your passion! And also so you can understand what your team is talking about. And also if things go south, to pass a coding test for your next job! For me the main reason is because coding and building stuff is damn awesome!</p>



<h2>So how to get deep into some coding again?</h2>



<p>I have come up with the top 3 ways I know from experience will help you to keep up with coding. Not all of these will be instant – it might take a few weeks to work them in, but they will pay off and free up your time for coding, which is definitely a part of your job as a tech lead in most companies.</p>



<h3>1. Delegation</h3>



<p>Delegation is more than just dumping your work on other people and slapping your hands together with a grin. In-fact if you are not used to it, it can feel mentally harder than just doing the thing yourself. However you will be forced to delegate at some point due to your limit hours per week and so many Slacks and emails coming in. I suggest you actively choose what to delegate and be ruthless.</p>



<p>Delegation can be a whole blog post of book of it’s own. So I will reduce this down to one simple tip – each day try to delegate something that you previously would be loathed to delegate. What is that for you?</p>



<p>For me it is running the daily standups, I felt like that was a “Team Leaders Job” and that developers would be against doing this. However once I started doing it, well it worked out perfectly fine and I think we got a lot of benefits in terms of engagement in the meetings. If you know it’s your turn to run the meeting soon you probably won’t zone out.</p>



<p>The key point about delegation is to be clear what you are asking, and to follow up. It’s still your responsibility, it is just someone else is doing the heavy lifting for you now.</p>



<p>Once you get better or more used to delegation you’ll get more time for yourself to do what you want, including coding work.</p>



<h2>2. Keep it boring</h2>



<p>As a tech lead you are now the voice of reason, and you are thinking of the business. Convert everything to NoSQL, Kubernetes and NextJS? As a developer you might love a company that chooses a lot of new or different tech, it’s fun to learn and apply. However as a lead you need to think about what will actually pan out well, where the future issues and risks might lay.</p>



<p>By keeping the tech boring – by which I mean make well thought out and informed technology choices – you will do your team a big favour by helping make it easy to deliver things on time. It also increases your chance of being able to contribute.</p>



<p>Here you can carve out little 1 hour tasks that you can do yourself to keep you in the loop. An example is upgrading package dependencies and fixing any issues that introduces. As a result you would be forced to, for example look at the release notes for the next version of React or Typescript say and learn what is new. Hint – if you do this a lot it won’t be anything too exciting, some bug fixes and the odd feature.</p>



<p>By keeping it boring you increase the chance of you being able to contribute to the code, and keep coding.</p>



<h2>3. Choose some people to follow</h2>



<p>Go follow blogs from great developers such as <a href="https://overreacted.io/">Dan Abarmov</a>, or read an article from the <a href="https://martinfowler.com/">Martin Fowler</a> back catalog (he writes <a href="https://martinfowler.com/bliki/CodeAsDocumentation.html">timeless stuff</a>) can keep you up to date and learning new things. It is a very efficient method to find trusted distilled information. Be choosy about who you follow! And over time keep changing it up.</p>



<p>Come up with an easy to follow schedule, e.g. read one blog post per week, whatever is easy to achieve and start from there. Even better, read a post, then discuss it with your team as part of an appropriate meeting (e.g. you might have architectural meetings or such like), and see what everyone’s viewpoint is on the ideas in the post. You might even get an action out of it that will help you on your current workload.</p>



<p>By following blogs like these, you are not coding per-se, but you are learning which will help you keep up to date, and sometimes it will mean you discover a tool or way of doing things your team can take advantage of.&nbsp;</p>



<p>Now I have just given you a lot more stuff to do, which in itself might feel like a pain. It is an investment though. Try to anchor these onto something you already do. If you do one-on-one meetings for example you could add a “work to delegate” item to that agenda. Now you don’t have to think about this anymore, until you are in the meeting.</p>







<p>They are my 3 main tips for finding more time, hope you found it useful.</p>



<p>Now it is time to think about what you are going to do next. Here is what I recommend:</p>



<p>Of the 3 tips, if you are only going to do one, then work on delegation, and do the following right now:</p>



<p><em>(If you are not at work now, send an email to your work address to remind yourself when you are back in.)</em></p>



<ul><li><strong>Actions</strong>:<ul><li>Write down a quick summary of the stuff you need to do today at work.</li><li>Pick a task that you would normally be nervous for any reason to delegate to someone else.</li><li>Acknowledge the reason why you are nervous</li><li>Make sure you can describe the task in such a way you can hand it to someone in the team.</li><li>Pick the best person to do this, and tell them to do it.</li><li>Put a date in your calendar to follow up on the task</li><li>Put a date in your calendar to repeat this exercise</li></ul></li></ul>



<p>Well done you have now <em>really</em> delegated something, and once it is done, you will be able to delegate this task again and again.</p>



<p>Soon enough, you will find the problem is what tech work to work on in your newly freed up time. A good problem to have.</p>




<div><div><p><span>
	<h2>
		JavaScript Fatigue got you Reduxed?
	</h2>
	<p>
		It's often really hard to know what to learn next in the React world, where to spend your limited time as a developer, and how to keep up with all the tech changes and fads out there.
	</p><p>
However it doesn't really have to be like that. 
</p><p>
Focus on the core things that you really need to succeed, and build your satisfaction and career. Keep on top of it, by knowing what "it" really is.
</p><p>
Sign up for updates and you will get well researched and thoughtful articles that solve your problems, guide you and are based on real experience.
</p><p>
Sounds good? Just sign up below.

	</p>
	<p>
		Sign up in the form below for the latest articles and additonal tips by email:
	</p>


<div id="mlb2-2698196">
  <div>
    <div>
      <div>
        <div>
          <h4>YOUR REACTJS PROBLEMS SOLVED</h4>
          <p>Cut through the confusion! Sign up to get Martin's tips and advice for React JS.</p>
        </div>
        
      </div>
      
    </div>
  </div>
</div>

<img src="https://track.mailerlite.com/webforms/o/2698196/p7r9j4?v1600491917" width="1" height="1" alt=".">

	</span></p></div></div>					</div><!-- .entry-content -->

			</div><!-- .entry-inner -->
</article></div>]]>
            </description>
            <link>https://www.exploringreact.com/2020/09/18/how-to-find-time-to-keep-up-with-coding-when-you-are-a-tech-lead-3-tips-that-work-from-someone-who-has-been-there/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542131</guid>
            <pubDate>Mon, 21 Sep 2020 11:37:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Aligning Span Annotations to Hugginface Tokenizers]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24541780">thread link</a>) | @talolard
<br/>
September 21, 2020 | https://www.lighttag.io/blog/sequence-labeling-with-transformers/example | <a href="https://web.archive.org/web/*/https://www.lighttag.io/blog/sequence-labeling-with-transformers/example">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote>
<p><em>This post <a href="https://github.com/LightTag/sequence-labeling-with-transformers">comes with a repo</a></em></p>
</blockquote>
<p>Our previous post on
<a href="https://www.lighttag.io/blog/sequence-labeling-with-transformers/">aligning span annotations to Hugginface's tokenizer outputs</a>
discussed the various tradeoffs one needs to consider, and concluded that a windowing strategy over the tokenized text
and labels is optimal for our use cases. </p>
<p>This post demonstrates an end to end implementation of token alignment and windowing. We'll start by implementing
utility classes that make programming a little easier, then implement the alignment functionality which aligns offset
annotations to the out of a tokenizer. Finnaly we'll implement a PyTorch Dataset that stores our aligned tokens and
labels as windows, a Collator to implement batching and a simple DataLoader to be used in training. </p>
<p>We'll show and end to end flow on the DDI Corpus, recognizing pharmacological entities with BERT.</p>
<h2>Utility Classes For Convenient APIs</h2>
<p>We'll start by defining some types and utility classes that will make our work more convenient</p>
<div data-language="python"><pre><code><span>from</span> typing_extensions <span>import</span> TypedDict
<span>from</span> typing <span>import</span> List<span>,</span>Any
IntList <span>=</span> List<span>[</span><span>int</span><span>]</span> 
IntListList <span>=</span> List<span>[</span>IntList<span>]</span> </code></pre></div>

<h2>The Alignment Algorithm</h2>
<h3>FastTokenizers Simplify Alignment</h3>
<p>Recent versions of Hugginface's tokenizers library include variants of Tokenizers that end with Fast and inherit
from <a href="https://huggingface.co/transformers/main_classes/tokenizer.html#transformers.PreTrainedTokenizerFast">PreTrainedTokenizerFast</a><br>
such as <a href="https://huggingface.co/transformers/model_doc/bert.html#berttokenizerfast">BertTokenizerFast</a>
and <a href="https://huggingface.co/transformers/model_doc/gpt2.html#gpt2tokenizerfast">GPT2TokenizerFast</a>. </p>
<p>Per the tokenizer's documentation</p>
<blockquote>
<p>When the tokenizer is a “Fast” tokenizer (i.e., backed by HuggingFace tokenizers library), [the output] provides in addition several advanced alignment methods which can be used to map between the original string (character and words) and the token space (e.g., getting the index of the token comprising a given character or the span of characters corresponding to a given token).</p>
</blockquote>
<p>Notably, the output provides the methods
<a href="https://huggingface.co/transformers/main_classes/tokenizer.html#transformers.BatchEncoding.token_to_chars">token<em>to</em>chars</a>
and <a href="https://huggingface.co/transformers/main_classes/tokenizer.html#transformers.BatchEncoding.char_to_token">char<em>to</em>token</a>
which do exactly what their name implies, provide mappings between tokens and character offsets in the original text.
That's exactly what we need to align annotations in offset format with tokens.</p>
<h2>A warmup implementation</h2>
<p>Our final implementation will use the BIOUL scheme we mentioned before. But before we do that, let's try a simple
alignment to see what it feels like</p>
<div data-language="python"><pre><code>text <span>=</span> <span>"I am Tal Perry, founder of LightTag"</span>
annotations <span>=</span> <span>[</span>
    <span>dict</span><span>(</span>start<span>=</span><span>5</span><span>,</span>end<span>=</span><span>14</span><span>,</span>text<span>=</span><span>"Tal Perry"</span><span>,</span>label<span>=</span><span>"Person"</span><span>)</span><span>,</span>
    <span>dict</span><span>(</span>start<span>=</span><span>16</span><span>,</span>end<span>=</span><span>23</span><span>,</span>text<span>=</span><span>"founder"</span><span>,</span>label<span>=</span><span>"Title"</span><span>)</span><span>,</span>
    <span>dict</span><span>(</span>start<span>=</span><span>27</span><span>,</span>end<span>=</span><span>35</span><span>,</span>text<span>=</span><span>"LightTag"</span><span>,</span>label<span>=</span><span>"Org"</span><span>)</span><span>,</span>
    
              <span>]</span>
<span>for</span> anno <span>in</span> annotations<span>:</span>
    
    <span>print</span> <span>(</span>text<span>[</span>anno<span>[</span><span>'start'</span><span>]</span><span>:</span>anno<span>[</span><span>'end'</span><span>]</span><span>]</span><span>,</span>anno<span>[</span><span>'label'</span><span>]</span><span>)</span>
    </code></pre></div>
<div data-language="text"><pre><code>Tal Perry Person
founder Title
LightTag Org</code></pre></div>
<div data-language="python"><pre><code><span>from</span> transformers <span>import</span> BertTokenizerFast<span>,</span>  BatchEncoding
<span>from</span> tokenizers <span>import</span> Encoding
tokenizer <span>=</span> BertTokenizerFast<span>.</span>from_pretrained<span>(</span><span>'bert-base-cased'</span><span>)</span> 
tokenized_batch <span>:</span> BatchEncoding <span>=</span> tokenizer<span>(</span>text<span>)</span>
tokenized_text <span>:</span>Encoding  <span>=</span>tokenized_batch<span>[</span><span>0</span><span>]</span></code></pre></div>
<div data-language="python"><pre><code>tokens <span>=</span> tokenized_text<span>.</span>tokens
aligned_labels <span>=</span> <span>[</span><span>"O"</span><span>]</span><span>*</span><span>len</span><span>(</span>tokens<span>)</span> 
<span>for</span> anno <span>in</span> <span>(</span>annotations<span>)</span><span>:</span>
    <span>for</span> char_ix <span>in</span> <span>range</span><span>(</span>anno<span>[</span><span>'start'</span><span>]</span><span>,</span>anno<span>[</span><span>'end'</span><span>]</span><span>)</span><span>:</span>
        token_ix <span>=</span> tokenized_text<span>.</span>char_to_token<span>(</span>char_ix<span>)</span>
        <span>if</span> token_ix <span>is</span> <span>not</span> <span>None</span><span>:</span> 
            aligned_labels<span>[</span>token_ix<span>]</span> <span>=</span> anno<span>[</span><span>'label'</span><span>]</span>
<span>for</span> token<span>,</span>label <span>in</span> <span>zip</span><span>(</span>tokens<span>,</span>aligned_labels<span>)</span><span>:</span>
    <span>print</span> <span>(</span>token<span>,</span><span>"-"</span><span>,</span>label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - O
I - O
am - O
Ta - Person
##l - Person
Perry - Person
, - O
founder - Title
of - O
Light - Org
##T - Org
##ag - Org
[SEP] - O</code></pre></div>
<h3>Accounting For Multi Token Annotations</h3>
<p>In the above example, some of our annotations spanned multiple tokens.
For instance "Tal Perry" spanned "Ta", "##l" and "Perry". Clearly by themselves none of those tokens are a Person, and
so our current alignment scheme isn't as useful as it could be.
To overcome that, we'll use the previously mentioned BIOLU scheme, which will indicate if a token is the beginning,
inside, last token in an annotation or if it is not part of an annotation or if it is perfectly aligned with an annotation.</p>
<div data-language="python"><pre><code><span>def</span> <span>align_tokens_and_annotations_bilou</span><span>(</span>tokenized<span>:</span> Encoding<span>,</span> annotations<span>)</span><span>:</span>
    tokens <span>=</span> tokenized<span>.</span>tokens
    aligned_labels <span>=</span> <span>[</span><span>"O"</span><span>]</span> <span>*</span> <span>len</span><span>(</span>
        tokens
    <span>)</span>  
    <span>for</span> anno <span>in</span> annotations<span>:</span>
        annotation_token_ix_set <span>=</span> <span>(</span>
            <span>set</span><span>(</span><span>)</span>
        <span>)</span>  
        <span>for</span> char_ix <span>in</span> <span>range</span><span>(</span>anno<span>[</span><span>"start"</span><span>]</span><span>,</span> anno<span>[</span><span>"end"</span><span>]</span><span>)</span><span>:</span>

            token_ix <span>=</span> tokenized<span>.</span>char_to_token<span>(</span>char_ix<span>)</span>
            <span>if</span> token_ix <span>is</span> <span>not</span> <span>None</span><span>:</span>
                annotation_token_ix_set<span>.</span>add<span>(</span>token_ix<span>)</span>
        <span>if</span> <span>len</span><span>(</span>annotation_token_ix_set<span>)</span> <span>==</span> <span>1</span><span>:</span>
            
            token_ix <span>=</span> annotation_token_ix_set<span>.</span>pop<span>(</span><span>)</span>
            prefix <span>=</span> <span>(</span>
                <span>"U"</span>  
            <span>)</span>
            aligned_labels<span>[</span>token_ix<span>]</span> <span>=</span> <span><span>f"</span><span><span>{</span>prefix<span>}</span></span><span>-</span><span><span>{</span>anno<span>[</span><span>'label'</span><span>]</span><span>}</span></span><span>"</span></span>

        <span>else</span><span>:</span>

            last_token_in_anno_ix <span>=</span> <span>len</span><span>(</span>annotation_token_ix_set<span>)</span> <span>-</span> <span>1</span>
            <span>for</span> num<span>,</span> token_ix <span>in</span> <span>enumerate</span><span>(</span><span>sorted</span><span>(</span>annotation_token_ix_set<span>)</span><span>)</span><span>:</span>
                <span>if</span> num <span>==</span> <span>0</span><span>:</span>
                    prefix <span>=</span> <span>"B"</span>
                <span>elif</span> num <span>==</span> last_token_in_anno_ix<span>:</span>
                    prefix <span>=</span> <span>"L"</span>  
                <span>else</span><span>:</span>
                    prefix <span>=</span> <span>"I"</span>  
                aligned_labels<span>[</span>token_ix<span>]</span> <span>=</span> <span><span>f"</span><span><span>{</span>prefix<span>}</span></span><span>-</span><span><span>{</span>anno<span>[</span><span>'label'</span><span>]</span><span>}</span></span><span>"</span></span>
    <span>return</span> aligned_labels


labels <span>=</span> align_tokens_and_annotations_bilou<span>(</span>tokenized_text<span>,</span> annotations<span>)</span>
<span>for</span> token<span>,</span> label <span>in</span> <span>zip</span><span>(</span>tokens<span>,</span> labels<span>)</span><span>:</span>
    <span>print</span><span>(</span>token<span>,</span> <span>"-"</span><span>,</span> label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - O
I - O
am - O
Ta - B-Person
##l - I-Person
Perry - L-Person
, - O
founder - U-Title
of - O
Light - B-Org
##T - I-Org
##ag - L-Org
[SEP] - O</code></pre></div>
<p>Notice how <strong>founder</strong> above has a <strong>U</strong> prefix and the other annotations now follow a BIL scheme.</p>
<h3>Mapping Labels To Ids</h3>
<p>It's great that we have our annotations aligned, but we need the labels as integer ids for training.
During inference, we'll also need a way to map predicted ids back to labels.
I'm going to make a custom class that handles that, called a LabelSet. </p>
<div data-language="python"><pre><code><span>import</span> itertools


<span>class</span> <span>LabelSet</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span>self<span>,</span> labels<span>:</span> List<span>[</span><span>str</span><span>]</span><span>)</span><span>:</span>
        self<span>.</span>labels_to_id <span>=</span> <span>{</span><span>}</span>
        self<span>.</span>ids_to_label <span>=</span> <span>{</span><span>}</span>
        self<span>.</span>labels_to_id<span>[</span><span>"O"</span><span>]</span> <span>=</span> <span>0</span>
        self<span>.</span>ids_to_label<span>[</span><span>0</span><span>]</span> <span>=</span> <span>"O"</span>
        num <span>=</span> <span>0</span>  
        
        <span>for</span> _num<span>,</span> <span>(</span>label<span>,</span> s<span>)</span> <span>in</span> <span>enumerate</span><span>(</span>itertools<span>.</span>product<span>(</span>labels<span>,</span> <span>"BILU"</span><span>)</span><span>)</span><span>:</span>
            num <span>=</span> _num <span>+</span> <span>1</span>  
            l <span>=</span> <span><span>f"</span><span><span>{</span>s<span>}</span></span><span>-</span><span><span>{</span>label<span>}</span></span><span>"</span></span>
            self<span>.</span>labels_to_id<span>[</span>l<span>]</span> <span>=</span> num
            self<span>.</span>ids_to_label<span>[</span>num<span>]</span> <span>=</span> l
        

    <span>def</span> <span>get_aligned_label_ids_from_annotations</span><span>(</span>self<span>,</span> tokenized_text<span>,</span> annotations<span>)</span><span>:</span>
        raw_labels <span>=</span> align_tokens_and_annotations_bilou<span>(</span>tokenized_text<span>,</span> annotations<span>)</span>    
        <span>return</span> <span>list</span><span>(</span><span>map</span><span>(</span>self<span>.</span>labels_to_id<span>.</span>get<span>,</span> raw_labels<span>)</span><span>)</span>


example_label_set <span>=</span> LabelSet<span>(</span>labels<span>=</span><span>[</span><span>"Person"</span><span>,</span> <span>"Org"</span><span>,</span> <span>"Title"</span><span>]</span><span>)</span>
aligned_label_ids <span>=</span> example_label_set<span>.</span>get_aligned_label_ids_from_annotations<span>(</span>
    tokenized_text<span>,</span> annotations
<span>)</span>

<span>for</span> token<span>,</span> label <span>in</span> <span>zip</span><span>(</span>tokens<span>,</span> aligned_label_ids<span>)</span><span>:</span>
    <span>print</span><span>(</span>token<span>,</span> <span>"-"</span><span>,</span> label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - 0
I - 0
am - 0
Ta - 1
##l - 2
Perry - 3
, - 0
founder - 12
of - 0
Light - 5
##T - 6
##ag - 7
[SEP] - 0</code></pre></div>

<p>Now that we have alignment logic in place, we need to figure out how to load, batch and pad the data. We also need
to handle the case where our text is longer than we can feed our model. Below we show an implementation of a
particular strategy, windowing over uniform length segments of the text. This isn't the only strategy, or even
necessarily the best, but it fits our use case well. You can read more about
why <a href="https://www.lighttag.io/blog/sequence-labeling-with-transformers/">we use windowing when training ner models with BERT here</a>.
Below we'll just show how to do that.</p>
<h2>The Raw Dataset</h2>
<p>We'll be using the <a href="https://www.sciencedirect.com/science/article/pii/S1532046413001123">DDI Corpus</a>. You can download
a JSON verion of it  <a href="https://github.com/LightTag/DDICorpus">here</a>.
Let's take a quick look at the data</p>
<div data-language="python"><pre><code><span>import</span> json
<span>from</span> pprint <span>import</span> pprint

raw <span>=</span> json<span>.</span>load<span>(</span><span>open</span><span>(</span><span>"./ddi_train.json"</span><span>)</span><span>)</span>
<span>for</span> example <span>in</span> raw<span>:</span>
    
    <span>for</span> anno <span>in</span> example<span>[</span><span>"annotations"</span><span>]</span><span>:</span>
        anno<span>[</span><span>"label"</span><span>]</span> <span>=</span> anno<span>[</span><span>"tag"</span><span>]</span>
pprint<span>(</span>raw<span>[</span><span>2</span><span>]</span><span>)</span></code></pre></div>
<div data-language="text"><pre><code>{'annotations': [{'end': 58, 'label': 'drug', 'start': 47, 'tag': 'drug'},
                 {'end': 75, 'label': 'drug', 'start': 62, 'tag': 'drug'},
                 {'end': 135, 'label': 'drug', 'start': 124, 'tag': 'drug'},
                 {'end': 164, 'label': 'drug', 'start': 152, 'tag': 'drug'}],
 'content': 'Pharmacokinetic studies have demonstrated that omeprazole and '
            'erythromycin significantly increased the systemic exposure of '
            'cilostazol and/or its major metabolites.',
 'metadata': {'original_id': 'DrugDDI.d452.s1'}}</code></pre></div>
<p>Lets take a look at that tokenized and aligned</p>
<div data-language="python"><pre><code>example <span>=</span> raw<span>[</span><span>2</span><span>]</span>
tokenized_batch <span>=</span> tokenizer<span>(</span>example<span>[</span><span>"content"</span><span>]</span><span>)</span>
tokenized_text <span>=</span> tokenized_batch<span>[</span><span>0</span><span>]</span>
labels <span>=</span> align_tokens_and_annotations_bilou<span>(</span>tokenized_text<span>,</span> example<span>[</span><span>"annotations"</span><span>]</span><span>)</span>
<span>for</span> token<span>,</span> label <span>in</span> <span>zip</span><span>(</span>tokenized_text<span>.</span>tokens<span>,</span> labels<span>)</span><span>:</span>
    <span>print</span><span>(</span>token<span>,</span> <span>"-"</span><span>,</span> label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - O
Ph - O
##arma - O
##co - O
##kin - O
##etic - O
studies - O
have - O
demonstrated - O
that - O
o - B-drug
##me - I-drug
##pra - I-drug
##zo - I-drug
##le - L-drug
and - O
er - B-drug
##yt - I-drug
##hr - I-drug
##omy - I-drug
##cin - L-drug
significantly - O
increased - O
the - O
systemic - O
exposure - O
of - O
c - B-drug
##ilo - I-drug
##sta - I-drug
##zo - I-drug
##l - L-drug
and - O
/ - O
or - O
its - O
major - O
meta - B-drug
##bol - I-drug
##ites - I-drug
. - L-drug
[SEP] - O</code></pre></div>
<h2>Padding and Windowing in a Dataset</h2>
<p>Our dataset is conveniently split into sentences. We still need to batch it and pad the examples.
More commonly, data is not split into sentences, and so we will window over fixed sized parts of it.
The windowing, padding and alignment logic will be done in a pytorch Dataset and we'll get to batching in a moment.</p>
<div data-language="python"><pre><code><span>from</span> dataclasses <span>import</span> dataclass
<span>from</span> torch<span>.</span>utils<span>.</span>data <span>import</span> Dataset
<span>from</span> transformers <span>import</span> PreTrainedTokenizerFast</code></pre></div>
<div data-language="python"><pre><code><span>@dataclass</span>
<span>class</span> <span>TrainingExample</span><span>:</span>
    input_ids<span>:</span> IntList
    attention_masks<span>:</span> IntList
    labels<span>:</span> IntList


<span>class</span> <span>TraingDataset</span><span>(</span>Dataset<span>)</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span>
        self<span>,</span>
        data<span>:</span> Any<span>,</span>
        label_set<span>:</span> LabelSet<span>,</span>
        tokenizer<span>:</span> PreTrainedTokenizerFast<span>,</span>
        tokens_per_batch<span>=</span><span>32</span><span>,</span>
        window_stride<span>=</span><span>None</span><span>,</span>
    <span>)</span><span>:</span>
        self<span>.</span>label_set <span>=</span> label_set
        <span>if</span> window_stride <span>is</span> <span>None</span><span>:</span>
            self<span>.</span>window_stride <span>=</span> tokens_per_batch
        self<span>.</span>tokenizer <span>=</span> tokenizer
        <span>for</span> example <span>in</span> data<span>:</span>
            
            <span>for</span> a <span>in</span> example<span>[</span><span>"annotations"</span><span>]</span><span>:</span>
        …</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lighttag.io/blog/sequence-labeling-with-transformers/example">https://www.lighttag.io/blog/sequence-labeling-with-transformers/example</a></em></p>]]>
            </description>
            <link>https://www.lighttag.io/blog/sequence-labeling-with-transformers/example</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541780</guid>
            <pubDate>Mon, 21 Sep 2020 10:34:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Authenticated Data Structures, Generically]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24541701">thread link</a>) | @dfischer
<br/>
September 21, 2020 | http://amiller.github.io/lambda-auth/ | <a href="https://web.archive.org/web/*/http://amiller.github.io/lambda-auth/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">

<p>λ● (pronounced “lambda-auth”) is a tool for generating secure “Authenticated Data Structure” protocols from simple specifications written in an ordinary programming language (OCaml).</p>

<p>The tool consists of a patched OCaml compiler, and is based on a programming language design presented at POPL 2014.</p>

<h2 id="whats-an-authenticated-data-structure">What’s an Authenticated Data Structure?</h2>

<p>Authenticated Data Structures (ADSs) are protocols for outsourcing data to untrusted parties. For example, suppose a Client doesn’t have much storage capacity (maybe it’s a mobile device) but can communicate with a powerful Server it doesn’t trust. With an ADS, the Client only has to store a tiny amount of data, yet is guaranteed that its queries are answered correctly.</p>

<p><img src="http://amiller.github.io/lambda-auth/assets/graphic.png">
</p>

<p>ADSs work by augmenting ordinary data structures with collision-resistant cryptographic hashes. </p>

<h2 id="example-binary-search-tree">Example: Binary Search Tree</h2>

<p>Creating an ADS protocol in λ● is as easy as writing an ordinary data structure program in OCaml. The following code (from <code>examples/bintree.ml</code>) is an example of membership lookup in an authenticated set of integers:</p>

<!--?prettify lang=ml?-->
<pre><code>let rec (member : 'auth tree -&gt; int -&gt; bool) x = function
  | Tip -&gt; false
  | Bin a -&gt; let (l,y,r) = (fun x -&gt; unauth x) a in
      if x = y then true else if x &lt; y
      then member x l
      else member x r &lt;br&gt;
</code></pre>

<p>The only non-standard syntax is the <code>'auth</code> type operator and <code>unauth</code> keywords, which are used to provide hints on where to compress the data structure by applying hashes. The λ● compiler automatically generates executables for both the Client and the Server from this single piece of input code.</p>

<h2 id="running-the-examples">Running the examples</h2>

<p>Get the most recent version of λ● from github:</p>

<pre><code>$ git clone https://github.com/amiller/lambda-auth
</code></pre>

<p>To run the examples, you will first need a copy of ocaml (trunk) installed, and the source directory should be located in the previous directory as <code>../ocaml-trunk</code>.</p>

<p>Next, run the following commands:</p>

<pre><code>$ make                   # Builds the compiler
$ make prover            # Builds the prover examples
$ make verifier          # Builds the verifier examples
</code></pre>

<p><span size="-1"><em><b>WARNING Although the topic here is secure software, this is a research prototype, it has not been audited, and you should not use it in production for anything serious.</b></em></span>


</p></div></div>]]>
            </description>
            <link>http://amiller.github.io/lambda-auth/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541701</guid>
            <pubDate>Mon, 21 Sep 2020 10:21:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Get TLS for OpenFaaS the easy way with arkade (updated)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24541675">thread link</a>) | @alexellisuk
<br/>
September 21, 2020 | https://blog.alexellis.io/tls-the-easy-way-with-openfaas-and-k3sup/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/tls-the-easy-way-with-openfaas-and-k3sup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><p>TLS certificates are offered for free by LetsEncrypt and cert-manager, a popular tool from Jetstack makes the management and renewal automatic. The tooling changes often and even experienced Kubernetes users find the process confusing.</p>
<blockquote>
<p>Last Updated: September 2020 - to include ingress-nginx rename, and inlets-operator to run these instructions at home or on-premises.</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/jetstack/cert-manager/ed2c0e0b3df1d10c3ad219348ed7b1ba56771655/logo/logo.svg?sanitize=true" width="200px"></p>
<p>For that reason there is <a href="https://docs.openfaas.com/reference/ssl/kubernetes-with-cert-manager/">documentation on the OpenFaaS website</a> for how to configure a TLS certificate for your OpenFaaS Gateway. Once in place, traffic between your users and your Kubernetes cluster is encrypted.</p>
<p><img src="https://avatars0.githubusercontent.com/u/27013154?s=200&amp;v=4" width="200px"></p>
<p>Today I'll show you how to bootstrap everything from scratch on a managed Kubernetes service using the OSS <code>arkade</code> tool.</p>
<h3 id="provisionyourkubernetescluster">Provision your Kubernetes cluster</h3>
<p>You can provision a cluster wherever you want, whether that be Google Kubernetes Engine, DigitalOcean Kubernetes, AWS EKS or somewhere else.</p>
<p>I suggest you create a cluster with DigitalOcean since it's fast, cheap, and a fully managed cluster. Once you have everything working, move on to your preferred choice for your company or team.</p>
<p>Product page for: <a href="https://www.digitalocean.com/products/kubernetes/">DOKS</a></p>
<ul>
<li>Setup a cluster in your preferred region with around 2-4GB RAM total and at least 2x vCPUs.</li>
<li>Download your KUBECONFIG file and run <code>export KUBECONFIG=~/Downloads/kube.config</code> (replace the path with the actual name)</li>
</ul>
<h3 id="getarkade">Get arkade</h3>
<p><code>arkade</code> can be used to install <code>apps</code> to Kubernetes clusters. The way an <code>app</code> is installed is by using its <a href="https://helm.sh/">helm</a> chart to generate YAML manifest files and then apply them. This process bypasses <code>tiller</code> completely, something which will be <a href="https://v3.helm.sh/">deprecated in helm 3</a>.</p>
<p>Install arkade, which is a Kubernetes app installer.</p>
<pre><code>curl -sLS https://dl.get-arkade.dev | sh
sudo install arkade /usr/local/bin/

arkade --help
</code></pre>
<h3 id="installnginxingresscontroller">Install nginx IngressController</h3>
<p>We need an <a href="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/">IngressController</a> to use with cert-manager, so let's install <a href="https://github.com/kubernetes/ingress-nginx">nginx-ingress</a>.</p>
<pre><code>arkade install ingress-nginx
</code></pre>
<h3 id="installcertmanager">Install cert-manager</h3>
<pre><code>arkade install cert-manager
</code></pre>
<p>This command installs <a href="https://github.com/jetstack/cert-manager">JetStack's cert-manager</a> using the helm chart, but without <code>tiller</code>.</p>
<h3 id="installopenfaas">Install openfaas</h3>
<pre><code>arkade install openfaas
</code></pre>
<p>This command <a href="https://www.openfaas.com/">installs OpenFaaS</a> using the helm chart, but without <code>tiller</code>. Try the output given by arkade to check the installation worked correctly.</p>
<h3 id="areyouonpubliccloud">Are you on public cloud?</h3>
<p>If you're running in your homelab, on-premises or with a Raspberry Pi cluster, then it's likely that you don't have a Public IP.</p>
<blockquote>
<p>Before creating an IP forwarding rule on your router, remember that you are exposing your location and ISP information to the world, there's a better way</p>
</blockquote>
<p>Get a public IP for ingress-nginx through inlets PRO and the inlets-operator:</p>
<pre><code>arkade install inlets-operator \
 --helm3 \
 --provider digitalocean \
 --region lon1 \
 --token-file ~/Downloads/digitalocean-api-key \
 --license-file ~/Downloads/inlets-pro-license.txt
</code></pre>
<p>The inlets-operator will create a public IP for you, and you can continue as if you were running on Public Cloud.</p>
<blockquote>
<p>Get a <a href="https://inlets.dev/">free trial or purchase inlets PRO here</a></p>
</blockquote>
<h3 id="configureyouringress">Configure your Ingress</h3>
<p>Let's say that you have a domain called <code>example.com</code>. If you don't have a domain yet, just buy one from Google Domains or from <a href="https://www.namecheap.com/">Namecheap.com</a>. They start at under 2 USD, so there is no reason not to.</p>
<p>We'll use a sub-domain of <code>openfaas</code> so the full address would be: <code>openfaas.example.com</code>.</p>
<pre><code>export TOP_DOMAIN=example.com
export DOMAIN=openfaas.$TOP_DOMAIN

export EMAIL=webmaster@$DOMAIN
arkade install openfaas-ingress \
 --domain $DOMAIN \
 --email $EMAIL
</code></pre>
<p>This creates an Issuer with your email address and an Ingress record, which cert-manager will use to create your TLS certificate automatically.</p>
<h3 id="updateyourdnsrecord">Update your DNS record</h3>
<p>In order for the certificate to be issued, your new LoadBalancer created for Nginx needs to point at the domain name you used in the previous step i.e. <code>echo $DOMAIN</code>.</p>
<p>Now find the IP with <code>kubectl get svc</code> - you'll see Nginx has an EXTERNAL-IP.</p>
<ul>
<li>For EKS create a DNS CNAME record for the DNS entry given</li>
<li>For all other cluster create a DNS A record with the IP given</li>
</ul>
<p>If you have the DigitalOcean CLI installed <a href="https://github.com/digitalocean/doctl">doctl</a> then you can run:</p>
<pre><code>export IP="" # populate from above
doctl compute domain create $DOMAIN --ip-address $IP
</code></pre>
<h3 id="waitalittle">Wait a little</h3>
<p>You now need to wait for your DNS entry to propagate and for cert-manager to obtain a certificate.</p>
<p>Check how things are going with:</p>
<pre><code>kubectl logs deploy/cert-manager -n cert-manager -f
</code></pre>
<h3 id="logintoopenfaaswithtls">Log-in to OpenFaaS with TLS</h3>
<pre><code>export OPENFAAS_URL=https://$DOMAIN

PASSWORD=$(kubectl get secret -n openfaas basic-auth -o jsonpath="{.data.basic-auth-password}" | base64 --decode; echo)

echo $PASSWORD | faas-cli login -s

faas-cli store deploy nodeinfo
faas-cli list -v

faas-cli invoke figlet
</code></pre>
<p>You can also open the OpenFaaS UI over an encrypted connection:</p>
<pre><code>echo Open a browser at https://$DOMAIN
</code></pre>
<p><img src="https://blog.alexellis.io/content/images/2019/10/Screenshot-2019-10-25-at-14.12.43.png" alt="Screenshot-2019-10-25-at-14.12.43"></p>
<h2 id="wrappingup">Wrapping up</h2>
<p>When I proposed that <code>arkade</code> should configure TLS for OpenFaaS in a single command, it was because I wanted to make the whole process less painful and repetitive, and to guard users from the many breaking changes we've seen in cert-manager over the course of the last 12 months.</p>
<p>I think I achieved that aim, but make up your own mind. Compare the following with the single line we typed in above:</p>
<ul>
<li>Full docs: <a href="https://docs.openfaas.com/reference/ssl/kubernetes-with-cert-manager/">Add TLS to OpenFaaS with cert-manager</a></li>
</ul>
<p>Interest in OpenFaaS and <code>arkade</code> is growing rapidly, so for me it's even more important that users have easy access to TLS certificates to encrypt their traffic.</p>
<p>If you'd like to see new "apps" (helm charts) supported in arkade, then let me know on the GitHub repository <a href="https://get-arkade.dev/">https://get-arkade.dev</a> and add your ⭐️ to show support.</p>
<p>Keep on learning:</p>
<ul>
<li><a href="https://github.com/openfaas/workshop">OpenFaaS hands-on workshop</a></li>
<li><a href="https://www.openfaas.com/blog/openfaas-oidc-okta/">Enable Single Sign-on (SSO) for OpenFaaS with Okta and OpenID Connect</a></li>
</ul>
<p>Connect with the <a href="https://slack.openfaas.io/">community on Slack</a></p>
</div>
        </section>

        

    </article>
</div></div>]]>
            </description>
            <link>https://blog.alexellis.io/tls-the-easy-way-with-openfaas-and-k3sup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541675</guid>
            <pubDate>Mon, 21 Sep 2020 10:18:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to catch a spy that is using a numbers station – The KGB Experience]]>
            </title>
            <description>
<![CDATA[
Score 141 | Comments 68 (<a href="https://news.ycombinator.com/item?id=24541163">thread link</a>) | @Shaddox
<br/>
September 21, 2020 | https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/ | <a href="https://web.archive.org/web/*/https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div id="attachment_166048"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?ssl=1"><img aria-describedby="caption-attachment-166048" src="https://i2.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547.jpg?resize=183%2C300&amp;ssl=1" alt="" width="183" height="300" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=183%2C300&amp;ssl=1 183w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=624%2C1024&amp;ssl=1 624w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=768%2C1261&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=935%2C1536&amp;ssl=1 935w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=1247%2C2048&amp;ssl=1 1247w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?w=1559&amp;ssl=1 1559w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?w=1500&amp;ssl=1 1500w" sizes="(max-width: 183px) 100vw, 183px" data-recalc-dims="1"></a></p><p id="caption-attachment-166048">Cover of the KGB manual. Mobile screen grab from Latvian national archive</p></div>


<p>From 2019 onwards the Latvian National Archive offers access to various KGB documents. The author had already previously shown the very detailed efforts of the Latvian KGB counterintelligence to monitor and study the CIA and BND numbers stations broadcasts, or what they called – “one directional communications”.<a href="#_ftn1" name="_ftnref1"><sup>[1]</sup></a> These are one of the most definitive archival sources which prove that foreign intelligence actively used shortwave in the USSR and that the KGB was aware of it. The documents showed that the KGB had monitored these broadcasts from at least 1978, but the files spoke very vaguely if the monitoring effort led to any apprehension and capture of a foreign agent. We, however, know that there were such cases like Alexander Ogorodnik<a href="#_ftn2" name="_ftnref2"><sup>[2]</sup></a>, and others where the use of shortwave signals was determined.</p>
<p>The Latvian National Archive digitized operational cases and also special KGB training manuals. These manuals were published for inner agency use and were never issued in public because they contained secret information. One such manual called “<em>Некоторые вопросы организаций работы по сигналам и делам оперативного учета лиц причастий в шпионажу”</em> published in 1985 by KGB of F. E Dzherzhinsky in Moscow.<a href="#_ftn3" name="_ftnref3"><sup>[3]</sup></a> (A few issues on organizing work on signals and cases recognizing persons taking part in espionage”). The manual was credited to major general A. A Fabrichinikov and colonel V.V Holopov The word “signal” in the title does not mean just a radio signal. In the KGB terminology “signal” meant a sign or report of a foreign intelligence or anti Soviet activity. If this “signal” indicated that the person is taking part in espionage he had to be investigated and evidence to be collected. The manual showed various historical cases as examples on how to apprehend and capture a foreign agent.</p>



<p>One such case was called” Case on Filatov”. Starting from page 41 the manual examples this case as one of the cases where radio communication was used between the agency and agent and how it was uncovered by counter intelligence. <strong>Anatoly N. Filatov</strong> was according to a 1981 Washington Post report sentenced in 1978 to be shot by a firing squad, though the sentence was commuted later to 15 years in prison.<a href="#_ftn4" name="_ftnref4"><sup>[4]</sup></a> A New York Times article in 1980 had rumored that A. Filatov was the same “Trigon” who is now commonly known as Alexandr Ogorodnik. The article states that A. Filatov was suspected of being discovered by the KGB counterintelligence and forced to send the CIA false information. The reasoning behind this hypothesis was that in 1977 “Trigon” went dark at the same time as A. Filatov sent a very questionable cable about Secretary of State Henry Kissinger, where he questioned the “bargaining position of president Carter” during the 1977 missile control talks.<a href="#_ftn5" name="_ftnref5"><sup>[5]</sup></a> Alexander Ogorodnik aka “Trigon” died on June 22 1977 after swallowing cyanide pills during a KGB break in.<a href="#_ftn6" name="_ftnref6"><sup>[6]</sup></a></p>
<p>David E. Hoffman, author of the book “The Million Dollar Spy” states that Filatov was arrested during a “car toss”, where a package is quickly swapped between two passing cars.<a href="#_ftn7" name="_ftnref7"><sup>[7]</sup></a> Russian author Aleksandr Kolpakidi in his book “The GRU Empire” writes that Filatov was born in 1940 in the Saratov district, joined the GRU in 1973. (GRU – the Main Intelligence Directorate – Soviet military intelligence agency) and served in Algiers where in 1974 he established contact with the CIA. Filatov had stated that his involvement with the adversary CIA happened as a result of being lured into a honey trap with a woman called Nadia, as similar happened to&nbsp; A. Ogorodnik. Either so or A. Filatov himself decided to become a double agent and started meeting CIA agent Edward Kane. In 1976 A. Filatov was called back to Moscow and the CIA had instructed him to receive shortwave coded broadcasts in German numbers from Frankfurt near Main, the broadcasts were to be carried out twice a week. Operative broadcast would be started with uneven numbers and training with even numbers. The broadcasts on precaution were carried out before A. Filatov returned to Moscow. The return message was to be carried out in a dead drop in an area near Dinamo sports stadium.</p>
<p>As the author states the coded messages contained such instructions: “Do not contain yourself with gathering information within your service only. Gain trust of friends and relatives. Visit them at their workplaces, their homes, invite them to restaurants, and with careful, clever talking gain information you could not get yourself”<a href="#_ftn8" name="_ftnref8"><sup>[8]</sup></a>. The instructions also stated that the agency is not just interested in documents with “Top Secret” on it but also common information about his department and situation in it. Filatov was arrested on the 2nd of September 1977. As A. Kolpakidi states he was first sentenced to death in 1978 but instead was sent to labor camp 389/35 near Perm. In 1989 Filatov was visited by French journalists to whom he stated that he took very high stakes risks in his life which he lost and now naturally pays for it.</p>
<p>After release he demanded compensation from the US embassy, but was denied as a non citizen. The Russian TV company TV Center in 2014 made the documentary series “Завербуй меня, если сможешь” (Contract me if you can) and featured the A. Filatov case showing various pictures of him and accounts from his colleagues, such as Anatoly Tereshchenko, colonel of the military counter intel. Tereshchenko stated that if A. Filatov had come to the GRU and reported that he was lured into cooperation with the CIA, they could outplay the CIA, and Filatov would be a hero.<a href="#_ftn9" name="_ftnref9"><sup>[9]</sup></a> What became of Filatov after his release, is not known, the TV documentary showed his picture after his release. Possibly A. Filatov is dead now.</p>
<div id="attachment_166050"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?ssl=1"><img aria-describedby="caption-attachment-166050" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=300%2C177&amp;ssl=1" alt="" width="300" height="177" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=300%2C177&amp;ssl=1 300w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=768%2C453&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?w=873&amp;ssl=1 873w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1"></a></p><p id="caption-attachment-166050">Anatoly Filatov</p></div>
<div id="attachment_166051"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?ssl=1"><img aria-describedby="caption-attachment-166051" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=300%2C173&amp;ssl=1" alt="" width="300" height="173" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=300%2C173&amp;ssl=1 300w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=768%2C442&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?w=871&amp;ssl=1 871w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1"></a></p><p id="caption-attachment-166051">Anatoly Filatov years after the arrest</p></div>
<p>What will follow is a translation from Russian to English from the mentioned KGB manual, where the case about Filatov is described as an example of apprehending and capturing foreign spies who use radio signals and codes. With photo scans of included photo evidence.</p>

<p><em>Start of the original translation</em></p>
<div id="attachment_166052"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?ssl=1"><img aria-describedby="caption-attachment-166052" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640.jpg?resize=225%2C300&amp;ssl=1" alt="" width="225" height="300" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=225%2C300&amp;ssl=1 225w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=768%2C1024&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=1152%2C1536&amp;ssl=1 1152w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=1536%2C2048&amp;ssl=1 1536w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?w=1920&amp;ssl=1 1920w" sizes="(max-width: 225px) 100vw, 225px" data-recalc-dims="1"></a></p><p id="caption-attachment-166052">First page in the manual about A.FIlatov case</p></div>
<p>The case regarding American agent Filatov is particularly useful for agency and operative workers. Two agents who worked on this case had limited, but clear objectives: one controlled his work shifts, the other one lured him to a position within a GRU object (facility), where he was arrested. Secondary events were mostly carried out by the workers of the operational staff.</p>
<p>In the case materials the use of operational technical and criminal resources is very clearly displayed. The workers of the operational services had a clear objective: gain information about practical espionage activity.</p>
<p>A lot of support for apprehending the spy was provided by the GRU radio counterintelligence. During the first phase of the operation the counter radio intelligence played a helpful, but mostly backseat role, in terms of gaining radio information. However, after Filatov was discovered in possession of multiple ciphers the RCI<a href="#_ftn11" name="_ftnref11"><sup>[11]</sup></a> played the most active role in gaining information about the adversary’s plans for their agent. It must be asserted that the RCI data about the new communication line only gained importance after comprehensive analysis about known agents and data gained from agency postal communication lines.</p>
<p>It is useful to take note of the surveillance tactics used to monitor&nbsp; FIlatov, during all phases of the operation. Here the artistic use of surveillance, determination of the personality of the object, working out on his work conditions and living place (such an approach is essential for any future attempts for apprehending an adversary agent).</p>
<p>Finally it’s important to point out the very high level of secrecy is required to successfully&nbsp; carry out the operation, with minimal numbers&nbsp; of agents and operative staff workers as reglamented by the authority of KGB, and adjusted fully to the set parameters.</p>
<p>All this taken to an account assured that the case was carried out in highest quality the tasks were carried out decisively.</p>
<p>“””</p>
<p>The investigation into the incoming signals, and the timeline for the search for the CIA agent Filatov took place in the following order.</p>
<p>At the start of 1977 the second chief directorate of the KGB had received data that led to the belief that a new agent from American intelligence had become active within Soviet Union.</p>
<p>On January 21 and February 6 1977 the RCI had detected the transmission of operational (combat)<a href="#_ftn12" name="_ftnref12"><sup>[12]</sup></a> radiograms on the communication line sent from Frankfurt CIA radio center, that had appeared already in the first half of 1976.<a href="#_ftn13" name="_ftnref13"><sup>[13]</sup></a> With that the general reception of the radiograms was possible within the central part of European side of the USSR. <a href="#_ftn14" name="_ftnref14"><sup>[14]</sup></a></p>
<p>In this same timeframe espionage activity within CIA station inside the US embassy in Moscow, was observed to have increased, showing signs of preparing for creating operational dead drop communications, it was determined that these activities could not be part of the ongoing cases and operational games.</p>
<p>It was expected that the agent, after receiving operational radiograms, will likely make contact with the Frankfurt radio center using postal telegraph, telephone, dead drop, radio transmission or make a meeting with his handler, usually from US diplomatic service.</p>
<p>Taking this into account together with Operative-technical and Seventh authority of the KGB, extra measures were made to control the agency channels within Moscow and eavesdrop on CIA actions.</p>
<p>On February 9 1977 a postal parcel coming from Moscow to the US, a suspicious letter was identified which had signs which made its purpose likely being for espionage uses. This letter had a date indicating it was sent on February 7 and was written in the in English language “from English tourist”<a href="#_ftn15" name="_ftnref15"><sup>[15]</sup></a>. By using a physical-chemical method on the blank side of the letter, a cipher of 353 five number …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/">https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/</a></em></p>]]>
            </description>
            <link>https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541163</guid>
            <pubDate>Mon, 21 Sep 2020 08:50:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook fears ruling may force it to pull social media platforms from EU]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 106 (<a href="https://news.ycombinator.com/item?id=24540991">thread link</a>) | @rusk
<br/>
September 21, 2020 | https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4 | <a href="https://web.archive.org/web/*/https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="app">

        





<div>
    <div>
        <p>
            Thursday September 24, 2020
        </p>
        
    </div>
</div>





        

        
    <div>
        
        
        <div>

            
            
                            <div>
                    
            
                            <p>Court filings show tech giant doesn’t believe it can convince Data Protection Commission to overturn preliminary ruling that bans transfer of data from EU to US</p>
                    
        
        

        
        
    </div>
            
                            
                <div id="img-article">
                    <figure>
                        
                        <figcaption>Under fire: Data Protection Commissioner Helen Dixon</figcaption>
                    </figure>
                </div>
                    </div>

        
        <div>
            <div>
                
                                    <div>
                                                    <div>
                                
                                <p>Facebook fears that a ruling by the Data Protection Commission (DPC) could force it to pull its social media platforms from Europe, High Court filings show.</p> <p>The social media giant said it does not believe it can convince the watchdog to overturn a preliminary ruling banning the transfer of personal data from EU citizens to servers in the US which relates to concerns about American intelligence agencies.</p> <p>In the filings which detail the gravity of...</p>
                            </div>
                        
                        
                                                    <div>
                                <div>
    <div>
        <h2>Subscribe from just €1 for the first month!</h2>
        <p>Exclusive offers:</p>
        <p>All Digital Access + eReader</p>
    </div>

            
        <div>
            <div>

                
                <div>
                    <h2>Trial</h2>
                                        <p>
                        €1
                                            </p>
                    <p>Unlimited Access for 1 Month</p>
                                            <p>Then €19.99 a month after the offer period.</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                
                <div>
                    <h2>Annual</h2>
                                            <p>€200</p>
                                        <p>
                        €149
                                                    <span>For the 1st Year</span>
                                            </p>
                    <p>Unlimited Access for 1 Year</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                
                <div>
                    <h2>Quarterly</h2>
                                            <p>€55</p>
                                        <p>
                        €42
                                            </p>
                    <p>90 Day Pass</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                                    
                    <svg version="1.1" fill="#FFF" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49.94 49.94" xml:space="preserve">
                        <path d="M48.856,22.73c0.983-0.958,1.33-2.364,0.906-3.671c-0.425-1.307-1.532-2.24-2.892-2.438l-12.092-1.757
                            c-0.515-0.075-0.96-0.398-1.19-0.865L28.182,3.043c-0.607-1.231-1.839-1.996-3.212-1.996c-1.372,0-2.604,0.765-3.211,1.996
                            L16.352,14c-0.23,0.467-0.676,0.79-1.191,0.865L3.069,16.622c-1.359,0.197-2.467,1.131-2.892,2.438
                            c-0.424,1.307-0.077,2.713,0.906,3.671l8.749,8.528c0.373,0.364,0.544,0.888,0.456,1.4L8.224,44.701
                            c-0.183,1.06,0.095,2.091,0.781,2.904c1.066,1.267,2.927,1.653,4.415,0.871l10.814-5.686c0.452-0.237,1.021-0.235,1.472,0
                            l10.815,5.686c0.526,0.277,1.087,0.417,1.666,0.417c1.057,0,2.059-0.47,2.748-1.288c0.687-0.813,0.964-1.846,0.781-2.904
                            l-2.065-12.042c-0.088-0.513,0.083-1.036,0.456-1.4L48.856,22.73z"></path>
                    </svg>
                
                <div>
                    <h2>2 Yearly</h2>
                                            <p>€315</p>
                                        <p>
                        €248
                                            </p>
                    <p>Unlimited Access for 2 Years</p>
                                    </div>
                

                <div>
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="442.533px" height="442.533px" viewBox="0 0 442.533 442.533" style="enable-background:new 0 0 442.533 442.533;" xml:space="preserve">
                        <path d="M434.539,98.499l-38.828-38.828c-5.324-5.328-11.799-7.993-19.41-7.993c-7.618,0-14.093,2.665-19.417,7.993L169.59,247.248
                            l-83.939-84.225c-5.33-5.33-11.801-7.992-19.412-7.992c-7.616,0-14.087,2.662-19.417,7.992L7.994,201.852
                            C2.664,207.181,0,213.654,0,221.269c0,7.609,2.664,14.088,7.994,19.416l103.351,103.349l38.831,38.828
                            c5.327,5.332,11.8,7.994,19.414,7.994c7.611,0,14.084-2.669,19.414-7.994l38.83-38.828L434.539,137.33
                            c5.325-5.33,7.994-11.802,7.994-19.417C442.537,110.302,439.864,103.829,434.539,98.499z"></path>
                    </svg><p>
                    This product does not auto-renew
                </p></div>
            </div>
        </div>
    
    
    <div>
        <div>
            <h2>Team Pass</h2>
            <p>Get a Business Account for you and your team</p>
        </div>
        
    </div>
    
    
</div>

                            </div>
                                            </div>
                            </div>
        </div>

        

        
                    
            </div>

        

    </div></div>]]>
            </description>
            <link>https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540991</guid>
            <pubDate>Mon, 21 Sep 2020 08:18:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We need young programmers; We need old programmers]]>
            </title>
            <description>
<![CDATA[
Score 269 | Comments 244 (<a href="https://news.ycombinator.com/item?id=24540919">thread link</a>) | @mrcsharp
<br/>
September 21, 2020 | https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/ | <a href="https://web.archive.org/web/*/https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
	<p>
		<em>The software industry loves young people, but old-timers serve an important purpose, too.</em>
	</p>
	<p>
		Our culture idolises youth. There's several reasons for this, I believe. Youth seems synonymous with vigour, strength, beauty, and many other desirable qualities. The cynical perspective is that young people, while rebellious, also tend to be easy to manipulate, if you know which buttons to push. A middle-aged man like me isn't susceptible to the argument that I should buy a particular pair of Nike shoes because they're named after Michael Jordan, but for a while, one pair wasn't enough for my teenage daughter.
	</p>
	<p>
		In intellectual pursuits (like software development), youth is often extolled as the source of innovation. You're often confronted with examples like that of <a href="https://en.wikipedia.org/wiki/%C3%89variste_Galois">Évariste Galois</a>, who made all his discoveries before turning 21. <a href="https://en.wikipedia.org/wiki/Ada_Lovelace">Ada Lovelace</a> was around 28 years when she produced what is considered the 'first computer program'. <a href="https://en.wikipedia.org/wiki/Alan_Turing">Alan Turing</a> was 24 when he wrote <a href="https://en.wikipedia.org/wiki/Turing%27s_proof">On Computable Numbers, with an Application to the Entscheidungsproblem</a>.
	</p>
	<p>
		Clearly, young age is no detriment to making ground-breaking contributions. It has even become folklore that everyone past the age of 35 is a has-been whose only chance at academic influence is to write a textbook.
	</p>
	<h3 id="800321a74c054ea0b75815c86f4ce18d">
		The story of the five monkeys <a href="#800321a74c054ea0b75815c86f4ce18d" title="permalink">#</a>
	</h3>
	<p>
		You may have seen a story called <em>the five monkeys experiment</em>. It's most likely a fabrication, but it goes like this:
	</p>
	<p>
		A group of scientists placed five monkeys in a cage, and in the middle, a ladder with bananas on the top. Every time a monkey went up the ladder, the scientists soaked the rest of the monkeys with cold water. After a while, every time a monkey went up the ladder, the others would beat it up.
	</p>
	<p>
		After some time, none of the monkeys dared go up the ladder regardless of the temptation. The scientists then substituted one of the monkeys with a new one, who'd immediately  go for the bananas, only to be beaten up by the others. After several beatings, the new member learned not to climb the ladder even though it never knew why.
	</p>
	<p>
		A second monkey was substituted and the same occurred. The first monkey participated in beating the second. A third monkey was exchanged and the story repeated. The fourth was substituted and the beating was repeated. Finally the fifth monkey was replaced.
	</p>
	<p>
		Left was a group of five monkeys who, even though they never received a cold shower, continued to beat up any monkey who attempted to climb the ladder. If it was possible to ask the monkeys why they would beat up all who attempted to go up the ladder, the answer would probably be:
	</p>
	<p>
		"That's how we do things here."
	</p>
	<p>
		While the story is probably just that: a story, it tells us something about the drag induced by age and experience. If you've been in the business for decades, you've seen numerous failed attempts at something you yourself tried when you were young. You know that it can't be done.
	</p>
	<p>
		Young people don't know that a thing can't be done. If they can avoid the monkey-beating, they'll attempt the impossible.
	</p>
	<h3 id="4add8a9af0424d7e889d3125837ed611">
		Changing circumstances <a href="#4add8a9af0424d7e889d3125837ed611" title="permalink">#</a>
	</h3>
	<p>
		Is attempting the impossible a good idea?
	</p>
	<p>
		In general, no, because it's... impossible. There's a reason older people tell young people that a thing can't be done. It's not just because they're stodgy conservatives who abhor change. It's because they see the effort as wasteful. Perhaps they're even trying to be kind, guiding young people off a path where only toil and disappointment is to be found.
	</p>
	<p>
		What old people don't realise is that sometimes, circumstances change.
	</p>
	<p>
		What was impossible twenty years ago may not be impossible today. We see this happening in many fields. Producing a commercially viable electric car was impossible for decades, until, with the advances made in battery technology, it became possible.
	</p>
	<p>
		Technology changes rapidly in software development. People trying something previously impossible may find that it's possible today. Once, if you had lots of data, you had to store it in fully normalised form, because storage was expensive. For a decade, relational databases were the only game in town. Then circumstances changed. Storage became cheaper, and a new movement of NoSQL storage emerged. What was before impossible became possible.
	</p>
	<p>
		Older people often don't see the new opportunities, because they 'know' that some things are impossible. Young people push the envelope driven by a combination of zest and ignorance. Most fail, but a few succeed.
	</p>
	<h3 id="4272a069588e47f796646bd282b9de02">
		Lottery of the impossible <a href="#4272a069588e47f796646bd282b9de02" title="permalink">#</a>
	</h3>
	<p>
		I think of this process as a lottery. Imagine that every impossible thing is a red ball in an urn. Every young person who tries the impossible draws a random ball from the urn.
	</p>
	<p>
		The urn contains millions of red balls, but every now and then, one of them turns green. You don't know which one, but if you draw it, it represents something that was previously impossible which has now become possible.
	</p>
	<p>
		This process produces growth, because once discovered, the new and better way of doing things can improve society in general. Occasionally, the young discoverer may even gain some fame and fortune.
	</p>
	<p>
		It seems wasteful, though. Most people who attempt the impossible will reach the predictable conclusion. What was deemed impossible was, indeed, impossible.
	</p>
	<p>
		When I'm in a cynical mood, I don't think that it's youth in itself that is the source of progress. It's just the <a href="https://en.wikipedia.org/wiki/Law_of_large_numbers">law of large numbers</a> applied. If there's a one in million chance that something will succeed, but ten million people attempt it, it's only a matter of time before one succeeds.
	</p>
	<p>
		Society at large can benefit from the success of the few, but ten million people still wasted their efforts.
	</p>
	<h3 id="016744f0ea77495c958a7914f08187db">
		We need the old, too <a href="#016744f0ea77495c958a7914f08187db" title="permalink">#</a>
	</h3>
	<p>
		If you accept the argument that young people are more likely to try the impossible, we need the young people. Do we need the old people?
	</p>
	<p>
		I'm turning fifty in 2020. You may consider that old, but I expect to work for many more years. I don't know if the software industry needs fifty-year-olds, but that's not the kind of old I have in mind. I'm thinking of people who have retired, or are close to retirement.
	</p>
	<p>
		In our youth-glorifying culture, we tend to dismiss the opinion and experiences of old people. <em>Oh, well, it's just a codgy old man</em> (or woman), we'll say.
	</p>
	<p>
		We ignore the experience of the old, because we believe that they haven't been keeping up with times. Their experiences don't apply to us, because we live under new circumstance. Well, see above.
	</p>
	<p>
		I'm not advocating that we turn into a gerontocracy that venerates our elders solely because of their age. Again, according to the law of large numbers, some people live to old age. There need not be any correlation between survivors and wisdom.
	</p>
	<p>
		We need the old to tell us the truth, because they have little to lose.
	</p>
	<h3 id="8b5c613ba6c44bb4b4e6dbba7ae7d19a">
		Nothing to lose <a href="#8b5c613ba6c44bb4b4e6dbba7ae7d19a" title="permalink">#</a>
	</h3>
	<p>
		In the last couple of years, I've noticed a trend. A book comes out, exposing the sad state of affairs in some organisation. This has happened regularly in Denmark, where I live. One book may expose the deplorable conditions of the Danish tax authorities, one may describe the situation in the ministry of defence, one criticises the groupthink associated with the climate crisis, and so on.
	</p>
	<p>
		Invariably, it turns out that the book is written by a professor emeritus or a retired department head.
	</p>
	<p>
		I don't think that these people, all of a sudden, had an epiphany after they retired. They knew all about the rot in the system they were part of, while they were part of it, but they've had too much to lose. You could argue that they should have said something before they retired, but that requires a moral backbone we can't expect most people to have.
	</p>
	<p>
		When people retire, the threat of getting fired disappears. Old people can speak freely to a degree most other people can't.
	</p>
	<p>
		Granted, many may simply use that freedom to spew bile or shout <em>Get off my lawn!</em>, but many are in the unique position to reveal truths no-one else dare speak. Many are, perhaps, just bitter, but some may possess knowledge that they are in a unique position to reveal.
	</p>
	<p>
		When that grumpy old guy on Twitter writes something that makes you uncomfortable, consider this: he may still be right.
	</p>
	<h3 id="2d64bd2c7ccb4b7ca2418802ed82689e">
		Being unreasonable <a href="#2d64bd2c7ccb4b7ca2418802ed82689e" title="permalink">#</a>
	</h3>
	<p>
		In a way, you could say that we need young and old people for the same fundamental reason. Not all of them, but enough of them, are in a position to be unreasonable.
		</p><blockquote>
			<p>
				"The reasonable man adapts himself to the world: the unreasonable one persists in trying to adapt the world to himself. Therefore all progress depends on the unreasonable man."
			</p>
			
		</blockquote><p>
		Young people and old people are unreasonable in each their own way, and we need both.
	</p>
	<h3 id="df88f595ec814e2bafcbd018ff5f5ad2">
		Conclusion <a href="#df88f595ec814e2bafcbd018ff5f5ad2" title="permalink">#</a>
	</h3>
	<p>
		We need young people in the software development industry. Because of their vigour and inexperience, they'll push the envelope. Most will fail to do the impossible, but a few succeed.
	</p>
	<p>
		This may seem like a cynical view, but we've all been young, and most of us have been through such a phase. It's like a rite of passage, and even if you fail to make your mark on the world, you're still likely to have learned a lot.
	</p>
	<p>
		We need old people because they're in a position to speak truth to the world. Notice that I didn't make my argument about the <em>experience</em> of old-timers. Actually, I find that valuable as well, but that's the ordinary argument: <em>Listen to old people, because they have experience and wisdom.</em>
	</p>
	<p>
		Some of them do, at least.
	</p>
	<p>
		I didn't make much out of that argument, because you already know it. There'd be no reason to write this essay if that was all I had to say. Old people have less on the line, so they can speak more freely. If someone you used to admire retires and all of a sudden starts saying or writing unpleasant and surprising things, there might be a good explanation, and it might be a good idea to pay attention.
	</p>
	<p>
		Or …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/">https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/</a></em></p>]]>
            </description>
            <link>https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540919</guid>
            <pubDate>Mon, 21 Sep 2020 08:05:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft Teams as a Platform]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 104 (<a href="https://news.ycombinator.com/item?id=24540799">thread link</a>) | @homarp
<br/>
September 21, 2020 | https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/ | <a href="https://web.archive.org/web/*/https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article aria-label="Microsoft Teams as a platform" itemref="hero-page-title"><div>
<p>2020 became the year of #WFH (work from home) and for many organizations also the turning point when Microsoft Teams became the primary place where being “at work” happens. This is accelerating the evolution of Teams from being merely a communication tool that connects human beings into a foundational service layer for many types of business applications.</p>



<p>How the concept of Teams as a platform contrasts with Microsoft’s Power Platform suite of technology is something I’ve been thinking about a lot lately. In this post I’ll first reflect on the relatively short history of where Teams came from. I’ll then examine how the recent feature announcements are brining apps front &amp; center in Teams. Finally, a few words on the possible future for Teams as part of Microsoft’s broader strategy.</p>



<h2>The road that lead to Teams</h2>



<p>Looking back ~10 years, the real-time communication &amp; instant messaging tools from MS seemed to be going through an endless renaming cycle: from OCS to Lync to Skype for Business. The core feature set presented to the end user didn’t seem to evolve nearly as much as product branding did. On a broader level, the communication activities of information workers within an organization still typically took place within Outlook’s inbox, and different servers like SharePoint and Dynamics CRM all packed their own features for posting short messages to other users.</p>



<figure></figure>



<p>4 years ago, when the first images of what was then called “Skype Teams” started to leak out, we were already waiting for MS to create something a bit more ambitious than just another online meeting tool. Office Groups had began to emerge in various different places inside the MS Cloud, but they were primarily a technical construct with no sensible UX for everyday people to approach them. Even Dynamics CRM had it’s own solution that attempted to bring together the dicussion, calendars, notes, documents and team memberships from under an Office 365 Group associated with a record like account or opportunity:</p>



<div><figure><a href="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/basics/collaborate-with-colleagues-using-office-365-groups" target="_blank" rel="noopener noreferrer"><img src="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/basics/media/office-groups-dashboard.png" alt=""></a></figure></div>



<p>I remember having many discussions with our CRM customers where I attempted to steer people away from deploying this Groups solution. Instead I wanted to encourage them to wait for something a bit more polished that I knew had to be on it’s way sooner or later.</p>



<p>At one point there was a clear &amp; present danger of another “Yammer moment” taking place, as Microsoft was reportedly quite serious about their plans to acquire Slack. In retrospect it was a blessing for both parties that MS decided to keep investing in building their own product, instead of trying to retrofit an established service like Slack into their existing software offering.</p>



<p>I would argue that this “build over buy” strategy which Microsoft has since then followed across their business software stack has been a key success factor for BizApps in particular.  It has enabled MS to move from merely chasing CRM competitors like Salesforce into redefining the business apps playing field with Power Platform. There’s a stark difference between acquiring companies and bundling them as “X Cloud” versus engineering your own software stack to act as a true platform.</p>



<h2>Teams: the collaboration chapter</h2>



<p>Initially the first version of the Microsoft Teams product that became generally available in Spring 2017 was pretty much focused on being three things: </p>



<ol><li>Replacement for Skype for Business</li><li>Alternative to Slack</li><li>UI layer for Office 365 Groups</li></ol>



<p>From a business applications perspective there wasn’t all that much you could do to hook Teams up with Dynamics 365, until Fall 2018 when the previews for the first integrated features were launched. In particular the integrated file sharing experience that Teams offered seemed almost like the Holy Grail for many CRM professionals, offering to fix the glaring hole in the SharePoint integration story that lacked any security model synchronization. The roadmap image below presents the plans from 2 years ago on how Teams and Dynamics 365 were going to be integrated:</p>



<figure></figure>







<p>The last item on the roadmap has still not been delivered, which is the visibility of Teams conversations inside the Dynamics 365 record form. Why this hasn’t been a higher priority for MS to implement seems to me like a sign of how Microsoft Teams is nowadays positioned as the primary UI for all information work. MS probably would prefer if everything always started from inside Teams. You pin record tabs into channels, you show previews of records inside teams discussions, you interact with records via bot interfaces and so on. As long as Teams is that big umbrella under which all work takes place.</p>



<p>The lack of a deep 2-way integration does not therefore mean that investments aren’t being made into the products involved. It can simply be a reflection of the new vision that is being built, by aligning many existing services to form a whole that aims to be greater than the sum of its parts.</p>



<p>As an example, if you look at Microsoft’s task management story, you’ll see that features and data from across various apps like To Do, Planner and Outlook tasks / flagged emails are currently being collapsed into a central location that is the <a href="https://docs.microsoft.com/en-us/microsoftteams/manage-tasks-app" target="_blank" rel="noreferrer noopener">Tasks app for Teams</a>. Tasks as a generic construct don’t necessarily need to be fully controlled by a single database, yet they very much need to be logically represented within “the hub for teamwork” that Teams is positioned as.</p>



<p>Going forward, when new apps appear into the MS cloud product portfolio and they need to offer task management features to users, the logical integration point to focus on would be Teams. For activity feed type of functionality the choice is even more clear for product development: choose to piggyback on Teams instead of inventing yet another stream of short messages.</p>



<h2>Teams: the platform chapter</h2>



<p>Moving beyond simply integrating Teams with products X, Y and Z, we’re now seeing the rise of a model where apps are built specifically to be used in Teams. This has of course been possible for a long time already, by developing custom web services and using the SDKs. Now there are many features coming up that will amplify the platform story around Teams on the no-code/low-code front specifically.</p>



<figure><img src="https://techcommunity.microsoft.com/t5/image/serverpage/image-id/215495iAC8095B3BF8D5E46/image-size/large?v=1.0&amp;px=999" alt="lists in teams1.png"></figure>



<p>Microsoft Lists app has been the  first to <a href="https://techcommunity.microsoft.com/t5/microsoft-teams-blog/microsoft-lists-in-microsoft-teams-is-now-generally-available/ba-p/1621979" target="_blank" rel="noreferrer noopener">reach GA</a> and offers an ultra low barrier for users to process data in a single table through a configurable, readymade UI. When accessed via Teams, the list data gains one more special dimension: discussions to be had regarding a list item. This is pretty much the same as the usage pattern offered for a Dynamics 365 record with the integration mentioned earlier.</p>



<p>Underneath the new covers of MS Lists is the technology familiar from SharePoint lists. If we were to only examine the UI layer, there is actually a remarkable similarity to a popular no-code service called Airtable. So much that the <a rel="noreferrer noopener" href="https://mspoweruser.com/airtable-accuses-microsoft-of-copying-its-service/" target="_blank">accusations</a> of MS simply copying the visuals and core features from this competitor don’t seem entirely unjustified. </p>



<figure><img loading="lazy" src="https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams.png" alt="" width="583" height="729" srcset="https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams.png 777w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams-240x300.png 240w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams-768x961.png 768w" sizes="(max-width: 583px) 100vw, 583px"></figure>



<p>Comparing these two offerings gives us some perspective on what exactly is the market position these tools are aiming to conquer. Simple lists themselves are not a particularly unique feature, rather it’s the team collaboration capabilities and ease of data sharing that turns these tables into what you’d call an actual app. Incidentally, just this week Airtable <a href="https://blog.airtable.com/airtable-platform-launch-automations-sync-apps/" target="_blank" rel="noreferrer noopener">announced</a> they were building a full platform with apps offering JavaScript based extensibility, a marketplace for sharing apps, automations for executing business logic, and finally a sync service to transfer data across environments (“bases”).</p>



<p>Collaboration scenarios around semi-structured data like lists and Excel style tables can be seen as a  gateway drug. They allow turning email or paper based manual processes into a quick first draft of what the digital process could be like. If there are indeed clear business benefits in automating the said process, the requirements for more complex app features will soon begin to emerge from the user base. Hence the collaboration platform should offer an obvious path to grow these pre-built app experiences into more advanced no-code/low-code apps.</p>



<h2>Project Oakdale a.k.a bringing CDS to Teams</h2>



<p>If Microsoft Lists is the equivalent of an Excel table within the Teams context, then <a href="https://jukkaniiranen.com/2020/07/dataflex-is-more-and-less-than-cds/">Project Oakdale</a> / “CDS Lite” could be though of as bringing SQL Server inside Teams. Now, obviously Microsoft has zero intent on actually replacing Excel nor SQL with features built into Teams. They only need to introduce those parts that make sense from a team collabocation perspective.</p>



<p>Microsoft Lists is a far cry from what a real Excel workbook can do, yet it can offer much more value in a collaboration scenarios that those lone .xlsx files ever could. Similarly, the version of CDS that will very soon be available for building Power Apps within Teams is nowhere near as powerful as the services powering enterprise CRM systems like Dynamics 365 (or the raw power offered by SQL). Still, the fact that it can be found from within every team and used by a much larger audience than what Power Apps citizen developer tools could hope to capture – those are the factors that can truly make CDS a mainstream service that most information workers in the Microsoft 365 cloud interact it.</p>



<figure><img loading="lazy" width="1024" height="576" src="https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-1024x576.jpg" alt="" srcset="https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-1024x576.jpg 1024w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-300x169.jpg 300w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-768x432.jpg 768w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The experience of defining the CDS data model in Project Oakdale will be very different from the path that Power Apps makers have gone through – let alone the XRM veterans. In fact, you could easily mistake the table design and row entry UX to be that of Microsoft Lists rather than CDS. This highlights a key aspect that not all Power Platform experts may yet have grasped: for MS this “CDS Lite” is not so much about deciding what premium features of the full Power Platform to give away for free to Teams subscibers – rather it’s about how to best simplify the enterprise CRM features of CDS into a new product that Teams users could adopt on their own.</p>



<p>This doesn’t mean that …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/">https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/</a></em></p>]]>
            </description>
            <link>https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540799</guid>
            <pubDate>Mon, 21 Sep 2020 07:36:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What do good Engineering Managers do? They taste the soup]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24540624">thread link</a>) | @liveweird
<br/>
September 21, 2020 | https://no-kill-switch.ghost.io/what-do-good-engineering-managers-do-they-taste-the-soup/ | <a href="https://web.archive.org/web/*/https://no-kill-switch.ghost.io/what-do-good-engineering-managers-do-they-taste-the-soup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-post-id="5f665b145e15b200392aedb9">
	

	<section>
		<p>Sometimes you encounter a striking figure of speech, comparison or just a metaphor that illustrates some concept in a much better way than anything you knew until now. It's so good you can't let it get unnoticed. In my case, it happened e.g. when I've learned to think about architects as "navigators". Or quite recently, while I was reading a very decent book by <a href="https://twitter.com/rands">Michael Lopp</a> - <a href="https://www.goodreads.com/book/show/50083106-the-art-of-leadership">"The Art of Leadership: Small Things, Done Well"</a>.</p><p>Speaking about the latter: my epiphany moment happened during chapter IV, entirely dedicated to the author's actionable advice for engineering leaders. The concluding one was about a reasonable alternative to micro-management: Lopp calls it ... <em>"tasting the soup"</em>. And I think it's brilliant and 100% spot-on.</p><p><strong>Tasting the soup</strong> - what does it mean?</p><p>Imagine a professional chef. A chief boss-cook. A reigning monarch of the kitchen (e.g. in a top-notch, highly reputed, Michelin-starred restaurant). (S)he is the person accountable for the quality of the holistic culinary experience here. It's his(/her) reputation at stake if customers are dissatisfied (for any reason). But still, it doesn't mean (s)he does all the job him(/her)self (to guarantee a suitable level of quality) - quite the opposite. There's the talented, hand-picked crew doing all the "dirty" work, while the chef-in-charge:</p><ul><li>tastes</li><li>probes</li><li>verifies</li></ul><p>It's not that (s)he cares only about the final outcome - the 100% ready dish. (S)he engages <u>at all the various stages</u> (of meal preparation): by inspecting raw materials, half-cooked ingredients, nearly ready products about to get the final touch. &nbsp;What's more - the soup is <u>"multi-dimensional"</u> - it has several equally important aspects (to assess separately): consistency, smell, color, temperature, sweetness, bitterness, spiciness, etc.</p><p>Needless to say - the chef can't (&amp; shouldn't) be everywhere, all the time. (S)he <strong>can't assist every elementary activity</strong> - which is good and ... desirable. One <u>should not judge</u> the effect by the activities performed (which are - in many cases - meaningful "implementation" details or just elements of a highly-individualized style) but <strong>by the outcomes and how they match expectations </strong>(stated beforehand).</p><p>That's why (s)he restrains her(/him)self <u>to taste and probe</u> - it's sufficient because of <strong>past, practical experience</strong>. Precisely because of her/his experience, (s)he knows what to expect, whether the chosen direction is correct, whether there's a chance the final product will be edible &amp; satisfactory (aka will meet the given success criteria). (S)he's been there, (s)he's seen that. And as the one who knows what to expect, the chef is more probably able to detect all those very early warning lights and propose corrective actions.</p><p>Let me emphasize it again - micro-managing all the actions is not the way. Even with experience - <strong>it's NOT possible to know all the correct paths</strong>. Never ever. The number (of correct, good enough options) is endless.</p><p>I hope you've already figured it out by yourself - this chef soup tasting story can be easily mapped onto engineering management scenarios. Everything that has been said about the chef above can be directly translated into software development leaders' reality — starting with the role of experience and the importance of probing the effects (the current state of - process, tooling, various stages of deliverable completeness).</p><p>The default mode of an engineering manager's work should NOT be to dive deep into every possible (implementation) detail - it's just not feasible (but necessary in carefully chosen, critical situations that demand a more direct approach because of some warning lights flashing). A good engineering manager has to be able to:</p><ul><li>quickly orient her(/him)self in a situational context</li><li>identify the qualities that need to be assessed at this point</li><li>find a way to inspect them efficiently and objectively</li><li>confront the perceived learnings with expectations and past experience of similar endeavors</li></ul><p>In other words - to <em>"taste the engineering soup"</em>.</p><p>I think this metaphor is useful not just in calibrating your efforts (as an engineer manager), but also (as it's very "visual") can be very helpful in clarifying the meaning and importance of the engineering manager role: why is it needed, what value does it provide and what kind of input can one expect from a person bearing such a role.</p>
	</section>

	
</article></div>]]>
            </description>
            <link>https://no-kill-switch.ghost.io/what-do-good-engineering-managers-do-they-taste-the-soup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540624</guid>
            <pubDate>Mon, 21 Sep 2020 07:05:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Monitor your internet speed with a Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24540344">thread link</a>) | @perryizgr8
<br/>
September 20, 2020 | https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html | <a href="https://web.archive.org/web/*/https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>While cleaning out some old cartons last weekend, I found my old Raspberry Pi Model B+. It is the first iteration of the Pi. It has a 700MHz ARM CPU and 512MB of RAM. It uses a micro-SD card for non-volatile storage. So as you can see, it is quite a capable little computer, and you can power it off a standard 5V USB charger, which means you can run it all the time without worrying about power consumption.</p>

<p>I decided to track my home internet speed to see if my ISP is ripping me off 😉. Here’s how I did it.</p>

<h2 id="measuring-speed-on-raspberry-pi">Measuring speed on Raspberry Pi</h2>
<p><a href="https://www.speedtest.net/">Speedtest.net</a> has an <a href="https://www.speedtest.net/apps/cli">official CLI client</a> that you can install directly using <code>apt</code>. It selects the best server automatically and reports the download and upload speed, along with the latency of your connection.</p>

<figure><pre><code data-lang="shell"><span>$ </span>speedtest-cli
Retrieving speedtest.net configuration...
Testing from ACT Fibernet <span>(</span>X.X.X.X<span>)</span>...
Retrieving speedtest.net server list...
Selecting best server based on ping...
Hosted by North East Dataa Network Pvt Ltd <span>(</span>Bangalore<span>)</span> <span>[</span>0.10 km]: 9.601 ms
Testing download speed................................................................................
Download: 83.85 Mbit/s
Testing upload speed................................................................................................
Upload: 60.37 Mbit/s</code></pre></figure>

<p>There is an option to get this info in json format, which is easier to parse.</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"download"</span><span>:</span><span> </span><span>30421342.381950885</span><span>,</span><span>
  </span><span>"upload"</span><span>:</span><span> </span><span>19739920.106307168</span><span>,</span><span>
  </span><span>"ping"</span><span>:</span><span> </span><span>30.315</span><span>,</span><span>
  </span><span>"server"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"url"</span><span>:</span><span> </span><span>"http://speed.telexair.in:8080/speedtest/upload.php"</span><span>,</span><span>
    </span><span>"lat"</span><span>:</span><span> </span><span>"12.9716"</span><span>,</span><span>
    </span><span>"lon"</span><span>:</span><span> </span><span>"77.5946"</span><span>,</span><span>
    </span><span>"name"</span><span>:</span><span> </span><span>"Bangalore"</span><span>,</span><span>
    </span><span>"country"</span><span>:</span><span> </span><span>"India"</span><span>,</span><span>
    </span><span>"cc"</span><span>:</span><span> </span><span>"IN"</span><span>,</span><span>
    </span><span>"sponsor"</span><span>:</span><span> </span><span>"TelexAir Telecom Pvt Ltd"</span><span>,</span><span>
    </span><span>"id"</span><span>:</span><span> </span><span>"14493"</span><span>,</span><span>
    </span><span>"host"</span><span>:</span><span> </span><span>"speed.telexair.in:8080"</span><span>,</span><span>
    </span><span>"d"</span><span>:</span><span> </span><span>0.10306914928173351</span><span>,</span><span>
    </span><span>"latency"</span><span>:</span><span> </span><span>30.315</span><span>
  </span><span>},</span><span>
  </span><span>"timestamp"</span><span>:</span><span> </span><span>"2020-09-18T16:47:59.425361Z"</span><span>,</span><span>
  </span><span>"bytes_sent"</span><span>:</span><span> </span><span>24870912</span><span>,</span><span>
  </span><span>"bytes_received"</span><span>:</span><span> </span><span>38423553</span><span>,</span><span>
  </span><span>"share"</span><span>:</span><span> </span><span>null</span><span>,</span><span>
  </span><span>"client"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"ip"</span><span>:</span><span> </span><span>"X.X.X.X"</span><span>,</span><span>
    </span><span>"lat"</span><span>:</span><span> </span><span>"12.9719"</span><span>,</span><span>
    </span><span>"lon"</span><span>:</span><span> </span><span>"77.5937"</span><span>,</span><span>
    </span><span>"isp"</span><span>:</span><span> </span><span>"ACT Fibernet"</span><span>,</span><span>
    </span><span>"isprating"</span><span>:</span><span> </span><span>"3.7"</span><span>,</span><span>
    </span><span>"rating"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>""</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"ispulavg"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"loggedin"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"country"</span><span>:</span><span> </span><span>"IN"</span><span>
  </span><span>}</span><span>
</span><span>}</span></code></pre></figure>

<p>So I wrote a simple python script to capture this output.</p>

<figure><pre><code data-lang="python"><span>import</span> <span>subprocess</span>
<span>import</span> <span>json</span>

<span>speed_test</span> <span>=</span> <span>subprocess</span><span>.</span><span>Popen</span><span>([</span><span>'speedtest-cli'</span><span>,</span> <span>'--json'</span><span>],</span> 
    <span>stdout</span><span>=</span><span>subprocess</span><span>.</span><span>PIPE</span><span>,</span> <span>stderr</span><span>=</span><span>subprocess</span><span>.</span><span>STDOUT</span><span>)</span>
<span>out</span><span>,</span> <span>err</span> <span>=</span> <span>speed_test</span><span>.</span><span>communicate</span><span>()</span>
<span>speed_dict</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>out</span><span>)</span>

<span>print</span><span>(</span><span>'download='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'download'</span><span>])))</span>
<span>print</span><span>(</span><span>'upload='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'upload'</span><span>])))</span>
<span>print</span><span>(</span><span>'time='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>now</span><span>)))</span></code></pre></figure>

<h2 id="store-measurments-in-a-firestore-db">Store measurments in a Firestore DB</h2>
<p>A bit of code will push this to a Firestore DB. Google lets you use a Firestore DB for free if you stay within a reasonable number of operations per day.</p>

<figure><pre><code data-lang="python"><span>from</span> <span>google.cloud</span> <span>import</span> <span>firestore</span>

<span>now</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
<span>db</span> <span>=</span> <span>firestore</span><span>.</span><span>Client</span><span>()</span>
<span>doc_ref</span> <span>=</span> <span>db</span><span>.</span><span>collection</span><span>(</span><span>'speedtests'</span><span>).</span><span>document</span><span>(</span><span>str</span><span>(</span><span>int</span><span>(</span><span>now</span><span>)))</span>
<span>doc_ref</span><span>.</span><span>set</span><span>({</span>
    <span>'download'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'download'</span><span>])),</span>
    <span>'upload'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'upload'</span><span>])),</span>
    <span>'ping'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'ping'</span><span>])),</span>
    <span>'server_url'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'url'</span><span>]),</span>
    <span>'server_lat'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'lat'</span><span>]),</span>
    <span>'server_lon'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'lon'</span><span>]),</span>
    <span>'server_name'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'name'</span><span>]),</span>
    <span>'server_country'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'country'</span><span>]),</span>
    <span>'server_cc'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'cc'</span><span>]),</span>
    <span>'server_sponsor'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'sponsor'</span><span>]),</span>
    <span>'server_id'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'id'</span><span>]),</span>
    <span>'server_host'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'host'</span><span>]),</span>
    <span>'server_distance'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'d'</span><span>]),</span>
    <span>'server_latency'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'latency'</span><span>]),</span>
    <span>'bytes_sent'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'bytes_sent'</span><span>])),</span>
    <span>'bytes_received'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'bytes_received'</span><span>])),</span>
    <span>'client_ip'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ip'</span><span>]),</span>
    <span>'client_lat'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'lat'</span><span>]),</span>
    <span>'client_lon'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'lon'</span><span>]),</span>
    <span>'client_isp'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'isp'</span><span>]),</span>
    <span>'client_isp_rating'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'isprating'</span><span>]),</span>
    <span>'client_rating'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'rating'</span><span>]),</span>
    <span>'client_ispdlavg'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ispdlavg'</span><span>]),</span>
    <span>'client_ispulavg'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ispulavg'</span><span>]),</span>
    <span>'client_loggedin'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'loggedin'</span><span>]),</span>
    <span>'client_country'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'country'</span><span>]),</span>
<span>})</span></code></pre></figure>

<h2 id="take-measurements-every-30-minutes">Take measurements every 30 minutes</h2>
<p>Then I added this to <code>crontab</code> so it runs every 30 minutes.</p>

<figure><pre><code data-lang="shell"><span>GOOGLE_APPLICATION_CREDENTIALS</span><span>=</span><span>"/home/pi/speed-monitor/speed-db-key.json"</span>
<span>*</span>/30 <span>*</span> <span>*</span> <span>*</span> <span>*</span> python3 speed-monitor.py</code></pre></figure>

<h2 id="pulling-records-from-firestore-to-google-sheets">Pulling records from Firestore to Google Sheets</h2>
<p>I let this run for a bit over 24 hours, and got 52 readings. Next step was to write a small Google Apps Script to pull these records from Firestore and put them in rows in a Google Sheets worksheet.</p>

<figure><pre><code data-lang="javascript"><span>function</span> <span>copyFromFirestore</span><span>()</span> <span>{</span>
  <span>const</span> <span>firestore</span> <span>=</span> <span>FirestoreApp</span><span>.</span><span>getFirestore</span><span>(</span><span>email</span><span>,</span> <span>key</span><span>,</span> <span>projectId</span><span>);</span>
  <span>const</span> <span>allDocuments</span> <span>=</span> <span>firestore</span><span>.</span><span>getDocuments</span><span>(</span><span>"</span><span>speedtests</span><span>"</span><span>);</span>
  <span>Logger</span><span>.</span><span>log</span><span>(</span><span>'</span><span>num=</span><span>'</span> <span>+</span> <span>allDocuments</span><span>.</span><span>length</span><span>);</span>
  <span>for</span><span>(</span><span>i</span><span>=</span><span>0</span><span>;</span><span>i</span><span>&lt;</span><span>allDocuments</span><span>.</span><span>length</span><span>;</span><span>i</span><span>++</span><span>)</span> <span>{</span>
    <span>var</span> <span>sheet</span> <span>=</span> <span>SpreadsheetApp</span><span>.</span><span>getActiveSheet</span><span>();</span>
    <span>sheet</span><span>.</span><span>appendRow</span><span>([</span><span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>createTime</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>download</span><span>.</span><span>stringValue</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>upload</span><span>.</span><span>stringValue</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>ping</span><span>.</span><span>stringValue</span><span>]);</span>
  <span>}</span>
<span>}</span></code></pre></figure>

<p>Then it’s simple to chart the speeds and latency over the roughly 24-hour period.</p>

<p><img src="https://perryizgr8.github.io/images/speedtest.png" alt="Speed test chart"></p>

<h2 id="problem-in-the-setup">Problem in the setup</h2>
<p>This chart shows that my download speed varies between 20 to 35Mbps, and the upload varies between 15 to 20Mbps. This is significantly lower than the 100Mbps symmetric I pay for. If you go back to the first test result I showed in this post, which I ran from my laptop, it shows 83Mbps download and 60Mbps upload. So why this discrepancy?</p>

<p>I suspect this is where my old Pi is showing its age. Even though it is connected to my router using a 100Mbps ethernet cable, the hardware is simply not powerful enough to fully saturate the connection. So I will not be running this setup anymore. Maybe one day I’ll get a newer model and run this for a longer duration. That would hopefully reveal some interesting patterns.</p>

<p>Another concern of mine is the amount of data transfered. Each run of the test consumes around 60MB of data. Running it every half hour for a month would use up ~85GB. That is close to 17% of my plan’s monthly quota. That would probably push me over the limit and cause the connection to slow down to something unusable like 1Mbps.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540344</guid>
            <pubDate>Mon, 21 Sep 2020 06:12:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: An Open Source Memex POC]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24540284">thread link</a>) | @steve1820
<br/>
September 20, 2020 | http://steveliu.co/memex | <a href="https://web.archive.org/web/*/http://steveliu.co/memex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div data-block-type="2" id="block-33de0799eab39cfadbe1"><div><p>I’ve never been a huge online note taker. From high school to university, I’ve always relied on pen and paper as my weapon of choice. At the time and even to some extent now, I’ve felt like this was a good enough solution to my problems.</p><p>I’ve always felt the simpler the solution the better. Why complicate things?</p><p>This changed however after working as a software engineer in industry. As I worked on a software product that derived its core functionality from machine learning, it seemed that I was constantly drowning in a sea of information.&nbsp;</p><p>It was a constant repetition of learning something, forgetting about it 5 months later and then having to recycle through my notes and reread the article/paper/blog.</p><p>My brain was a leaky bucket. Every time I poured something in, something else would leak out.</p><p>It was during those dark times of desperation that I stumbled upon the “niche” industry of Knowledge Management Systems (KMS) and as an extension, the Memex.</p><p> I was fascinated with all the innovation coming from up and coming open source projects and companies in this space. Software like Athens (https://github.com/athensresearch/athens), Roam (https://roamresearch.com/), Obsidian (https://obsidian.md/) all seemed so promising. </p><p>I was particularly inspired by reading karlicoss’s blog (https://beepb00p.xyz/promnesia.html). He outlines so many good and intuitive reasons why the current solutions are broken (although in this particular post he focuses on browser history).</p></div></div></div></div>]]>
            </description>
            <link>http://steveliu.co/memex</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540284</guid>
            <pubDate>Mon, 21 Sep 2020 06:01:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lab Snacks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24540166">thread link</a>) | @neilpanchal
<br/>
September 20, 2020 | https://neil.computer/notes/thorlabs-lab-snacks/ | <a href="https://web.archive.org/web/*/https://neil.computer/notes/thorlabs-lab-snacks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <article>
        
        <p>Throughout my engineering career (Semiconductor industry), I've come across dozens if not hundreds of equipment suppliers. But there are a few suppliers that leave a long lasting impression. Thorlabs is one of them. Why?</p><p>It is quite silly actually. Everytime I order a linear actuator, motorized stage or axis controller... something that's just normal industrial hardware, it ships unremarkably with billable weight in hundreds of dollars, docks and sits at the shipping &amp; receiving until I haul it into the lab. Cut open the box, and you see this:</p><figure><img src="https://neil.computer/content/images/2020/09/image.png" alt=""><figcaption>Source: https://jlfenimore.wixsite.com/jenniferfenimore/lab-snacks</figcaption></figure><p>Food and Drink are not allowed in our lab, except when it comes to the Thorlabs Snacks. This little red box brings so much joy it is hard to describe. Thorlabs shipping boxes contain one or more of these red boxes, it's got - cookies, candies, granola bars, chips, etc. to put a smile on the face. They didn't have to do it but they did. And they've been doing this for many years. Infact, they've trademarked "Lab Snacks" which is such a cool name on its own!</p><p>Thorlabs founder, Alex Cable, wrote an <a href="https://www.thorlabs.com/about_us.cfm">article</a> about his vision of what customer centricity is, there is so much to learn from it, Wikipedia quotes:</p><blockquote>An important part of Thorlabs' brand and culture is Lab Snacks. Lab Snacks were created to support the famished grad student researching all night, serving as an occasional meal for someone hard at work.</blockquote><p>I implore you to read the original <a href="https://www.thorlabs.com/about_us.cfm">source</a> because it exemplifies what a CEO and Founder should do to build an honest, customer centric business and how to genuinely connect with them. Everything at Thorlabs, from their phone support to documentation, is focusing on how best to make you, the customer, successful. Therein lies their success and they double-down on it.</p><p>Thorlabs has left such a long-lasting impact on me that I am writing this post after last enjoying Lab Snacks 2 years ago.</p>
        </article>
</div></div>]]>
            </description>
            <link>https://neil.computer/notes/thorlabs-lab-snacks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540166</guid>
            <pubDate>Mon, 21 Sep 2020 05:38:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SEO Workflows with Machine Learning and Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540059">thread link</a>) | @shrikar
<br/>
September 20, 2020 | https://shrikar.com/python-for-seo-using-google-search-console/ | <a href="https://web.archive.org/web/*/https://shrikar.com/python-for-seo-using-google-search-console/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In this post we will learn how to use python for improving the SEO of your site and understanding opportunities. We will start by exploring google search console data and finding topics that convert well and also topics which get impressions but doesn’t convert.</p><p>Lets start by looking at the google search console and export the performance data for our website.<br>
<a href="https://shrikar.com/wp-content/uploads/2020/09/search_console.png?x45224"><img src="https://shrikar.com/wp-content/uploads/2020/09/search_console-1024x198.png?x45224" alt="search_console" width="810" height="157"></a></p><p>Next upload the Queries file exported from google search console data to Google Drive.<br>
<a href="https://shrikar.com/wp-content/uploads/2020/09/drive.png?x45224"><img src="https://shrikar.com/wp-content/uploads/2020/09/drive-1024x374.png?x45224" alt="drive" width="810" height="296"></a></p><p>Next we will start looking at the queries and building topic clusters which will help us figure out the next course of action ( Note for this case we will not use LDA). We will use a simple TfidfVectorizer to convert the text into vector format and run KMeans Clustering Algorithm on the vectorized form of the search queries to generate clusters</p><pre>import pandas as pd
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.cluster import KMeans
from sklearn.metrics import adjusted_rand_score
from google.colab import drive

# Mount the drive.
drive.mount('/content/drive')

# Read the performance data into Pandas data frame.

df = pd.read_csv("/content/drive/My Drive/ColabData SearchConsole/Queries.csv")

documents = list(df.Query.values)
vectorizer = TfidfVectorizer(stop_words='english', ngram_range=(1,3))
X = vectorizer.fit_transform(documents)

true_k = 20
model = KMeans(n_clusters=true_k, init='k-means++', max_iter=1000, n_init=42, random_state=42)
model.fit(X)

print("Top terms per cluster:")
order_centroids = model.cluster_centers_.argsort()[:, ::-1]
terms = vectorizer.get_feature_names()
for i in range(true_k):
    
    cluster_terms = []
    for ind in order_centroids[i, :10]:
        cluster_terms.append(' %s' % terms[ind])        
    print("Cluster {}, Terms : {}".format(i, cluster_terms)),

Top terms per cluster:
Cluster 0, Terms : [' classification', ' multiclass', ' keras', ' multiclass classification', ' classification keras', ' lstm', ' multiclass classification keras', ' keras classification', ' keras multiclass', ' text classification']
Cluster 1, Terms : [' uiactivityviewcontroller', ' uiactivityviewcontroller swift', ' uiactivityviewcontroller share', ' share', ' swift', ' uiactivityviewcontroller ipad', ' ipad', ' url', ' swift uiactivityviewcontroller', ' uiactivityviewcontroller delegate']
Cluster 2, Terms : [' ios', ' xcode', ' ios swift', ' charts', ' swift', ' charts ios', ' tutorial', ' ios charts', ' s3', ' app']
Cluster 3, Terms : [' inventory', ' iphone', ' inventory app', ' app', ' app iphone', ' inventory app iphone', ' barcode', ' ios inventory', ' management', ' inventory management']
Cluster 4, Terms : [' multi class', ' class', ' multi', ' class classification', ' multi class classification', ' classification', ' keras', ' keras multi class', ' python', ' classification keras']
Cluster 5, Terms : [' uitableview', ' delegate', ' swift', ' delegate swift', ' uitableview delegate', ' datasource', ' grouped', ' delegate datasource', ' swift uitableview', ' uitableview tutorial']
Cluster 6, Terms : [' make', ' like', ' uber', ' app', ' like app', ' uber like app', ' uber like', ' make app', ' like uber', ' make uber']
Cluster 7, Terms : [' swift', ' share', ' share swift', ' swift share', ' charts', ' uipageviewcontroller', ' charts swift', ' uipageviewcontroller swift', ' coredata', ' chart']
Cluster 8, Terms : [' tutorial', ' apple', ' pay', ' apple pay', ' swift', ' swift tutorial', ' xcode', ' serverless', ' aws', ' app tutorial']
Cluster 9, Terms : [' uisearchbar', ' uisearchbar swift', ' swift', ' swift uisearchbar', ' uisearchbar example', ' uisearchbar delegate', ' ios uisearchbar', ' uisearchbar ios', ' uisearchbar tutorial', ' example']
Cluster 10, Terms : [' uitableviewcell', ' uitableviewcell swift', ' init', ' custom', ' uitableviewcell init', ' swift uitableviewcell', ' swift', ' uitableview uitableviewcell', ' custom uitableviewcell', ' uitableviewcell custom']
Cluster 11, Terms : [' counter', ' step', ' step counter', ' counter app', ' iphone', ' step counter app', ' app', ' counter iphone', ' iphone step counter', ' iphone step']
Cluster 12, Terms : [' core', ' core data', ' data', ' data swift', ' core data swift', ' swift', ' core data tutorial', ' data tutorial', ' swift core', ' tutorial']
Cluster 13, Terms : [' uber', ' uber app', ' app', ' build uber', ' build uber app', ' build', ' tutorial', ' iphone', ' create uber', ' create uber app']
Cluster 14, Terms : [' pedometer', ' iphone', ' pedometer app', ' iphone pedometer', ' pedometer iphone', ' app', ' pedometer app iphone', ' app iphone', ' pedometer swift', ' swift pedometer']
Cluster 15, Terms : [' tableview', ' tableview delegate', ' tableview datasource', ' delegate', ' swift tableview', ' datasource', ' swift', ' methods', ' grouped', ' grouped tableview']
Cluster 16, Terms : [' search', ' bar', ' search bar', ' swift search', ' swift', ' bar swift', ' search bar swift', ' swift search bar', ' search bar ios', ' bar ios']
Cluster 17, Terms : [' example', ' word2vec', ' sagemaker', ' serverless', ' framework', ' cloudkit', ' python', ' uivisualeffectview', ' serverless framework', ' view']
Cluster 18, Terms : [' uialertcontroller', ' uialertcontroller swift', ' uialertcontroller image', ' image', ' swift uialertcontroller', ' ios uialertcontroller', ' uialertcontroller ios', ' uialertcontroller example', ' swift', ' ios']
Cluster 19, Terms : [' lsa', ' gensim', ' vs', ' gensim lsa', ' lsa vs', ' word2vec', ' lda', ' lsa python', ' lsa word2vec', ' lsa gensim']

</pre><p>Google Search Console allows us to download around 1000 keywords and with the above method we have been able to cluster similar search queries together. Now it’ss time to map the clusters to well defined topics.</p><p>Next we will assign a topic label to each cluster by looking at the terms which the Clustering Algorithm has provided us. Here are the manually assigned topics.</p><pre>topic_map = {
    0: 'Multi Class Classification',
    1: 'iOS Sharing (How To)',
    2: 'iOS Charts',
    3: 'iOS BarCode and Inventory Management',
    4: 'Multi Class Classification',
    5: 'iOS UI TableViews',
    6: 'How to make an app series',
    7: 'Core Data &amp; Swift',
    8: 'Apple Pay',
    9: 'Implement Search in iOS',
    10: 'UITableViews &amp; Layouts',
    11: 'iOS HealthKit',
    12: 'Core Data',
    13: 'Build by example: Uber',
    14: 'iOS Step Counter App',
    15: 'iOS UI TableViews',
    16: 'Swift Search Bar',
    17: 'AWS Serverless',
    18: 'Notifications / Alerts Swift',
    19: 'Word Vectors'    
}
</pre><p>Next we will use the model to predict the cluster label to each of the search query we got from the google search console data.</p><pre># This will generate labels from 0 to 19 and we will use the map above to map it to readable cluster labels

df['cluster'] = model.predict(vectorizer.transform(df.Query))

df['cluster_label'] = df.cluster.map(topic_map)

# Next create the ctr from Click and impression data
df['ctr'] = df.Clicks/df.Impressions

# Find the topic cluster on your site which are converting the best and also the topic which get impression but doesn't convert well.
df['ctr'] = df.Clicks/df.Impressions
df.groupby('cluster_label')[['ctr', 'Impressions']].mean().reset_index().sort_values('ctr', ascending=False)

</pre><p><a href="https://shrikar.com/wp-content/uploads/2020/09/cluster_labels1.png?x45224"><img src="https://shrikar.com/wp-content/uploads/2020/09/cluster_labels1-1024x675.png?x45224" alt="cluster_labels" width="810" height="534"></a></p><h2>How to use this data</h2><p>The clusters with low ctr data but high impression data is the opportunity zone and you can either build new posts of improve the existing page to make it more useful. Start with updating meta description aka the snippet that the google show for you link.</p><ul><li>Add more topic pages and improve the existing ones.</li><li>Find related keywords for these topic clusters and add new pages</li><li>Linking to these new pages from existing high traffic pages.</li><li>Once we start building more content and improving&nbsp; existing pages&nbsp;we can use the model built above to see how the CTR of the topic improve over time by automating the google search console data and the clustering method described above.</li></ul><p>I am not a SEO pro please provide any feedback and if you are interested in collaborating on a areas related to SEO and Machine Learning feel free to ping me.</p></div></div>]]>
            </description>
            <link>https://shrikar.com/python-for-seo-using-google-search-console/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540059</guid>
            <pubDate>Mon, 21 Sep 2020 05:17:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Choosing the right tech stack for your product]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540001">thread link</a>) | @root993
<br/>
September 20, 2020 | https://www.sankalpjonna.com/posts/choosing-the-right-tech-stack-for-your-product | <a href="https://web.archive.org/web/*/https://www.sankalpjonna.com/posts/choosing-the-right-tech-stack-for-your-product">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>It is always difficult to choose a tech stack for your application. Especially one that is going to be worked on by many people in the future. The fact that technologies like Javascript change almost on a daily basis and new frameworks come up every time I browse the internet does not make this job any easier.<br></p><p>On one hand you want to be using the latest technologies available but on the other hand you can’t afford to have a high learning curve or use something that is not a 100% stable yet because you are most likely going to build a long term business that must stand the test of time.<br></p><p>In many ways it is similar to choosing a person to date. You wanna go with the best looking one but you also need the person to have some depth so that you can have a long term relationship!<br></p><p>So how do you choose the right tech stack? I can’t say for sure that the methods that am employing are the best ones and readers can always reach out to me on twitter and correct me but here are some of the things that I am keeping in mind right now<br></p><h3><strong>Prioritising speed over “doing the right thing”</strong><br></h3><p>It is important for a startup to move fast. If I spend time learning new technologies and understanding all the nuances of those technologies it might take a long time to actually build a product and get it out the door. <br></p><p>For instance, I am currently building a <a href="https://www.delight.chat/" target="_blank">customer support software for e-commerce businesses</a> and I have been advised by a few folks that my use case would involve dealing with a lot of unstructured data so MongoDB is the right database to use. <br></p><p>The issue here is that I do not have much experience with nosql and I have personally never used it in production. So even if this is the right thing, it might end up causing me a lot of grief down the line when I am not able to debug certain issues just because I don’t have a deeper understanding of the subject. <br></p><p>I decided to go with Postgres instead because while being a relational database which I am comfortable with, Postgres supports a datatype called JSONB where you can store unstructured data much like in Mongo. This seemed like the optimal thing to do.<br></p><h3><strong>Other people will be working on your codebase</strong><br></h3><p>I my previous venture, I wrote some services in Golang. I did this because I enjoy writing code in Go, not to mention that it is a compiled language with syntax that is easy to understand and yields performance that is close to C/C++.<br></p><p>This seemed like a good idea at the time because the services I wrote in Go were highly scalable and I did not have to touch them again for a long time. The issue came up when we exited the business and I had to transfer the codebase to folks who never worked in Golang. <br></p><p>The same thing could happen when you hire new folks who might have great aptitude for the role but do not necessarily know all the nuances of working with a brand new language. This is going to delay development time significantly.<br></p><h3><strong>Do not spend time on solved problems </strong><br></h3><p>The amount of work required to build your core product is already quite high, you don’t want to be making it worse by spending valuable development hours on building things that are not core to your product.<br></p><p>For our current product we needed a socket infrastructure so that the server can push real time updates to the browser when a certain event takes place. At first I thought of using something like <a href="http://socket.io/" target="_blank">socket.io</a> but after giving it some further thought, I realised that it would take up considerable bandwidth to maintain the socket service as the product scales in usage.<br></p><p>We decided to cough up some $$ and go with <a href="http://pusher.com/" target="_blank">pusher.com</a> instead. They are a SaaS that offer socket infrastructure as a service. If their entire business depends on one particular pain point, it is safe to assume that they would have done the best possible job of handling it and would have found out all the edge cases and bugs that might come up. <br></p><h3><strong>Break up the product into microservices</strong><br></h3><p>For a monolithic codebase there is pretty much no choice but to work on the same language and frameworks for the foreseeable future. This means that not only are you stuck with a tech stack that you choose a long time ago, but even the folks you hire in the future will be stuck working on the same thing as well.<br></p><p>To prevent this, it is important to segregate your product into micro services that can be developed, maintained and deployed independently so that you can easily swap some of these services with new ones written in a new language or framework without affecting the working of the rest of the product.<br></p><h3><strong>Closing notes</strong><br></h3><p>While speed is important, it is also important to make sure that your employees are comfortable with the tech stack and do not feel like their careers are being jeopardised due to not being able to work on the latest technologies and frameworks that are available in the market. It would not be fair for me to say that we will only use PHP and nothing else and whoever joins us must suck it up and work on it. <br></p><p>It could also negatively impact us if we miss out on the ease of problem solving that new technologies and frameworks provide. So there must always be balance &nbsp;between speed and upgrading yourself to something new and better. <br></p><p>So if you find yourself in a position where there is a new technology that can make things significantly better but it would require a learning curve and a considerable risk of not being able to find employees who can work on this technology very easily, it might still be worth to go for it.</p><p>‍</p></div></div>]]>
            </description>
            <link>https://www.sankalpjonna.com/posts/choosing-the-right-tech-stack-for-your-product</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540001</guid>
            <pubDate>Mon, 21 Sep 2020 05:06:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gitlab sped up Puma using sleep sort]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24539706">thread link</a>) | @eddietejeda
<br/>
September 20, 2020 | https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html | <a href="https://web.archive.org/web/*/https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<article>



<p><b>Summary:</b> Puma 5 is a huge major release for the project. It brings several new experimental performance features, along with tons of bugfixes and features. Let's talk about some of the most important ones. <i>(1839 words / 7 minutes)</i>
</p>
<p>Puma 5 (codename Spoony Bard<sup>1</sup><span>(When Puma gets a new ‘supercontributor’ that submits lots of important work to the project, we let them name the next release. This release features a lot of code from Will Jordan, who named this release ‘Spoony Bard’. Will said: ‘Final Fantasy IV is especially nostalgic for me, the first big open-source project I ever worked on was a fan re-translation of the game back in the late 90s.’)</span><span><sup>1</sup> When Puma gets a new ‘supercontributor’ that submits lots of important work to the project, we let them name the next release. This release features a lot of code from Will Jordan, who named this release ‘Spoony Bard’. Will said: ‘Final Fantasy IV is especially nostalgic for me, the first big open-source project I ever worked on was a fan re-translation of the game back in the late 90s.’</span>) was released today (my birthday!). There’s a lot going on in this release, so I wanted to talk about the different features and changes to give Puma users confidence in upgrading.</p>
<h2 id="experimental-performance-features-for-cluster-mode-on-mri">Experimental Performance Features For Cluster Mode on MRI</h2>
<p>This is probably the headline of the release - two features for reducing memory usage, and one for reducing latency.</p>
<p>Puma 5 contains 3 new experimental performance features:</p>
<ul>
<li><code>wait_for_less_busy_worker</code> config. This may reduce latency on MRI through inserting a small delay (sleep sort!) before re-listening on the socket if worker is busy. Intended result: If enabled, should reduce latency in high-load (&gt;50% utilization) Puma clusters.</li>
<li><code>fork_worker</code> option and <code>refork</code> command for reduced memory usage by forking from a worker process instead of the master process. Intended result: If enabled, should reduce memory usage.</li>
<li>Added <code>nakayoshi_fork</code> config option. Reduce memory usage in preloaded cluster-mode apps by GCing before fork and compacting, where available. Intended result: If enabled, should reduce memory usage.</li>
</ul>
<p>All of these experiments are only for <strong>cluster mode</strong> Puma configs running on <strong>MRI</strong>.</p>
<p>We’re calling them <em>experimental</em> because we’re not sure if they’ll actually have any benefit. We’re pretty sure they’re stable and won’t break anything, but we’re not sure they’re actually going to have big benefits in the real world. People’s workloads are often not what we anticipate, and synthetic benchmarks are usually not of any help in figuring out if a change will be beneficial or not.</p>
<p>We do not believe any of the new features will have a negative effect or impact the stability of your application. This is either a “it works” or “it does nothing” experiment.</p>
<p>If any of the features turn out to be particularly beneficial, we may make them defaults in future versions of Puma.</p>
<p><strong>If you upgrade and try any of the 3 new features, please post before and after results or screenshots to <a href="https://github.com/puma/puma/issues/2258">this Github issue</a>.</strong> “It didn’t do anything” is still a useful report in this case. Posting ~24 hours of “before” and ~24 hours of “after” data would be most helpful.</p>
<h3 id="wait_for_less_busy_worker-sleep-sort-for-faster-apps">wait_for_less_busy_worker: sleep sort for faster apps?!</h3>
<p>This feature was contributed to Puma by Gitlab. Turn it on by adding <code>wait_for_less_busy_worker</code> to your Puma config.</p>
<p>When a request comes in to a Puma cluster, the operating system randomly selects a listening, free Puma worker process to pick up the request. “Listening” and “free” being the key words - a Puma process will only listen to the socket (and pick up more requests) if it has nothing else to do. However, when running Puma with multiple threads, Puma will also listen on the socket when all of its busy threads are waiting on I/O or have otherwise released <a href="https://www.speedshop.co/2020/09/17/2020/05/11/the-ruby-gvl-and-scaling.html">the Global VM Lock</a>.</p>
<p>When Gitlab investigated switching from Unicorn to Puma, they encountered an issue with this behavior. Under high load with moderate thread settings (a max pool size of 5 in their case), average request latency increased. Why?</p>
<p>Remember, I said that the operating system <em>randomly</em> assigns a request to a <em>listening</em> worker process. So, it will never send a request to a worker process that’s busy doing other things, but what about a worker process that’s got 4 threads that are processing other requests, but all 4 of those threads happen to be waiting on I/O right now?</p>
<p>Imagine a Puma cluster with 3 workers:</p>
<ul>
<li>Worker 1: 0/5 threads busy.</li>
<li>Worker 2: 1/5 threads busy.</li>
<li>Worker 3: 4/5 threads busy.</li>
</ul>
<p>If Worker 3’s 4 active threads happen to all have released the GVL, allowing that worker to listen to the socket, and a new request comes in - which worker process should we assign the request to, ideally? Worker 1, right? Unfortunately, most operating systems will assign the request to Worker 3 33% of the time.</p>
<p>So, what do we do? We want the operating system to prefer less-loaded workers. It would be really cool if we could sort the list of workers listening on the socket so that the operating system would give requests to the least-loaded worker. Well, we can’t really do that easily, but we can do something else.</p>
<p><code>wait_for_less_busy_worker</code> causes a worker to <em>wait</em> to re-listen on the socket if it’s thread pool isn’t completely empty. This means that in high-load scenarios, the operating system will assign requests to less-loaded workers.</p>
<p><strong>This is basically sleep-sorting our workers</strong>. We’re kind of doing doing this:</p>
<div><div><pre><code>[].tap { |a| workers.map { |e| Thread.new{ sleep worker_busyness.to_f/1000; a &lt;&lt; e} }.each{|t| t.join} }
</code></pre></div></div>
<p>… and hiding “more loaded” workers from the operating system by letting less-loaded workers listen first!</p>
<p>Originally the proposal was for a more complicated sort - processes slept longer if they had more busy threads - but that was removed when it was found that a simpler on/off sleep was just as effective.</p>
<p>The net effect is that in high-load scenarios, request latency decreases. This is because workers with more busy threads are slower than workers with no busy threads. We’re assuring that requests get assigned to the faster workers. Prior to this patch, Gitlab saw an increase in latency using Puma compared to Unicorn - after this patch, latency was the same (they also were able to reduce their fleet size by almost 30% thanks to Puma’s memory-saving multithreaded design).</p>
<p>There may be even more efficient ways for us to implement this behavior in the future. There’s some magic you can do with <code>libev</code>, I’m pretty sure, or we can just implement a different sleep/wait strategy.</p>
<h3 id="fork_worker">fork_worker</h3>
<p>Adding <code>fork_worker</code> to your puma.rb config file (or <code>--fork-worker</code> from the CLI) turns on this feature. This mode causes Puma to fork additional workers from worker 0, instead of directly from the master process:</p>
<div><div><pre><code>10000   \_ puma 5.0.0 (tcp://0.0.0.0:9292) [puma]
10001       \_ puma: cluster worker 0: 10000 [puma]
10002           \_ puma: cluster worker 1: 10000 [puma]
10003           \_ puma: cluster worker 2: 10000 [puma]
10004           \_ puma: cluster worker 3: 10000 [puma]
</code></pre></div></div>
<p>Similar to the <code>preload_app!</code> option, the <code>fork_worker</code> option allows your application to be initialized only once for copy-on-write memory savings, and it has two additional advantages:</p>
<ol>
<li><strong>Compatible with phased restart.</strong> Because the master process itself doesn’t preload the application, this mode works with phased restart (<code>SIGUSR1</code> or <code>pumactl phased-restart</code>), unlike <code>preload_app!</code>. When worker 0 reloads as part of a phased restart, it initializes a new copy of your application first, then the other workers reload by forking from this new worker already containing the new preloaded application.</li>
</ol>
<p>This allows a phased restart to complete as quickly as a hot restart (<code>SIGUSR2</code> or <code>pumactl restart</code>), while still minimizing downtime by staggering the restart across cluster workers.</p>
<ol>
<li><strong>‘Refork’ for additional copy-on-write improvements in running applications.</strong> Fork-worker mode introduces a new <code>refork</code> command that re-loads all nonzero workers by re-forking them from worker 0.</li>
</ol>
<p>This command can potentially improve memory utilization in large or complex applications that don’t fully pre-initialize on startup, because the re-forked workers can share copy-on-write memory with a worker that has been running for a while and serving requests.</p>
<p>You can trigger a refork by sending the cluster the <code>SIGURG</code> signal or running the <code>pumactl refork</code> command at any time. A refork will also automatically trigger once, after a certain number of requests have been processed by worker 0 (default 1000). To configure the number of requests before the auto-refork, pass a positive integer argument to <code>fork_worker</code> (e.g., <code>fork_worker 1000</code>), or <code>0</code> to disable.</p>
<h3 id="nakayoshi_fork">nakayoshi_fork</h3>
<p>Add <code>nakayoshi_fork</code> to your puma.rb config to try this option.</p>
<p>Nakayoshi means “friendly”, so this is a “friendly fork”. The concept was <a href="https://github.com/ko1/nakayoshi_fork">originally implemented by MRI supercontributor Koichi Sasada</a> in a gem, but we wanted to see if we could bring a simpler version into Puma.</p>
<p>Basically, we just do the following before forking a worker:</p>
<div><div><pre><code><span>4</span><span>.</span><span>times</span> <span>{</span> <span>GC</span><span>.</span><span>start</span> <span>}</span>
<span>GC</span><span>.</span><span>compact</span> <span># if available</span>
</code></pre></div></div>
<p>The concept here is that we’re trying to get as clean of a Ruby heap as possible before forking to maximize <a href="https://en.wikipedia.org/wiki/Copy-on-write">copy-on-write</a> benefits. That should, in turn, lead to reduced memory usage.</p>
<h2 id="other-new-features">Other New Features</h2>
<p>A few more things in the grab-bag:</p>
<ul>
<li>You can now compile Puma on machines where OpenSSL is not installed.</li>
<li>There is now a <code>thread-backtraces</code> command in pumactl to print all active threads backtraces. This has been available via SIGINFO on Darwin, but now it works on Linux via this new command.</li>
<li><code>Puma.stats</code> now has a <code>requests_count</code> counter.</li>
<li><code>lowlevel_error_handler</code> got some enhancements - we also pass the status code to it now.</li>
<li>Phased restarts and worker timeouts should be faster.</li>
<li><code>Puma.stats_hash</code> provides Puma statistics as a hash, rather than as JSON.</li>
</ul>
<h2 id="loads-of-bugfixes">Loads of Bugfixes</h2>
<p>The number of bugfixes in this release is pretty huge. Here’s the most important ones:</p>
<ul>
<li>Shutdowns should be more reliable.</li>
<li>Issues surrounding socket closing on shutdown have been resolved.</li>
<li>Fixed some concurrency …</li></ul></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html">https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html</a></em></p>]]>
            </description>
            <link>https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539706</guid>
            <pubDate>Mon, 21 Sep 2020 04:10:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What is the Fediverse? Briefly]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24538962">thread link</a>) | @torresjrjr
<br/>
September 20, 2020 | https://torresjrjr.com/archive/2020-07-20-what-is-the-fediverse | <a href="https://web.archive.org/web/*/https://torresjrjr.com/archive/2020-07-20-what-is-the-fediverse">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>

<header id="Title">
  
  
  <time>2020-07-20</time>
</header>

<p><small> See also: <a href="https://torresjrjr.com/archive/2020-07-19-guide-to-the-fediverse"><em>full guide version</em></a> </small></p>
<p>Say you have a Twitter account 🐦, <code>@alice</code>. Your friends Bob and Charlie have Twitter accounts too, <code>@bob</code> and <code>@charlie</code>. You can talk seamlessly to each other, but <em>only</em> on <code>twitter.com</code> and nowhere else. Bad.</p>
<p>Now, you have an email account 📧, <code>alice@gmail.com</code>. Your friends Bob and Charlie also have email accounts, <code>bob@hotmail.com</code> and <code>charlie@yahoo.com</code>. You all can talk from different websites. Great, but email sucks as social media.</p>
<p>Now, imagine this. You have a Fediverse account 🌟, <code>@alice@tweet.com</code>. Your friends Bob and Charlie also have Fediverse accounts, <code>@bob@toot.net</code> and <code>@charlie@social.org</code>. <strong>You all can talk seamlessly like Twitter, from anywhere like email.</strong> That’s the Fediverse, and it’s amazing.</p>
<figure>
<img src="https://upload.wikimedia.org/wikipedia/commons/9/93/Fediverse_logo_proposal.svg" height="128" alt="Unofficial Fediverse logo">
</figure>
<h2 id="what-does-it-look-like">What does it look like?</h2>
<p>Like this. Microblogging, video sharing, photo sharing… And these Fediverse websites are <strong>all interconnected</strong>.</p>
<figure>
<img src="https://i.imgur.com/MDoyecc.png" alt="Mastodon, Pleroma, and PeerTube. All interconnected.">
</figure>
<p>Here’s an example of Fediverse accounts “tweeting” to each other across different websites. Talk to anyone, anywhere.</p>
<figure>
<img src="https://i.imgur.com/zdG7B0k.png" alt="A post and reply on Mastodon. Notice the handles in red.">
</figure>
<p>No more being tied down to a single place which abuses their power or your data. You decide were you reside.</p>
<h2 id="how-do-i-join">How do I join?</h2>
<p>Easiest way is to sign up to a <a href="https://joinmastodon.org/">Mastodon</a> instance (website/server) of your choice. If you’re feeling adventurous, browse <a href="https://fediverse.network/">Fediverse.network</a> for other Fediverse instances, including non-Mastodon ones. Remember, <strong>you can talk to anyone anywhere regardless of where they are on the Fediverse!</strong></p>
<figure>
<img src="https://i.imgur.com/EIlnJXc.png" alt="Pick a Mastodon instance and browse the Fediverse.">
</figure>
<h2 id="is-there-more-than-just-microblogging">Is there more than just microblogging?</h2>
<p>Yes, plenty! Check out <a href="https://fediverse.party/">Fediverse.party</a> for a cool interactive guide. The Fediverse is a whole family of miraculously <strong>interconnected</strong> (federated) services.</p>
<ul>
<li><a href="https://joinmastodon.org/">Mastodon</a> - Microblogging. The most popular service and Twitter alt.</li>
<li><a href="https://pleroma.com/">Pleroma</a> - Microblogging. A more lightweight, customisable alt.</li>
<li><a href="https://joinpeertube.org/">PeerTube</a> - Video streaming. YouTube alt.</li>
<li><a href="https://funkwhale.audio/">Funkwhale</a> - Audio streaming. Spotify alt.</li>
<li><a href="https://beta.joinpixelfed.org/">Pixelfed</a> - Photo sharing. Instagram alt.</li>
<li><a href="https://friendi.ca/">Friendica</a> - Microblogging+. Facebook alt.</li>
<li><a href="https://write.as/">Write.as</a> - Federated blogging.</li>
<li><a href="https://joinplu.me/">Plume</a> - Federated blogging.</li>
<li>And many more.</li>
</ul>
<h2 id="why-should-i-join">Why should I join?</h2>
<p>It’s no surprise nobody trust the big monster tech giants (Twitter, Facebook, YouTube, etc.) anymore. Why wait until the next case of them abusing your data, keeping permanent records, censoring arbitrarily, and manipulating your feed, when there is a better, thriving alternative? There’s no need to be kept shackled within their walled gardens.</p>
<figure>
<img src="https://i.imgur.com/qIttu4i.png" alt="Greedy big tech profiting from your ignorance.">
</figure>
<p>The Fediverse offers real internet <em>freedom</em>, and it’s come a long way since it’s beginnings. Sometimes you don’t value something until it’s truly gone. So don’t wait! Don’t miss out on this special internet subculture. <a href="https://joinmastodon.org/">Join</a> one of the thousands of thriving communities and get talking. It won’t hurt to sign up. We’re all waiting here for you!</p>
<p>Read <a href="https://write.as/eloquence/why-mastodon-and-the-fediverse-are-doomed-to-fail">eloquence’s article</a> for a sober take.</p>
<hr>
<p>Want to learn more? I wrote a simple <a href="https://torresjrjr.com/archive/2020-07-19-guide-to-the-fediverse"><em>Guide to the Fediverse</em></a>.</p>
<p>Or watch this great explanatory video.</p>

<p>Here’s a proper definition of the Fediverse.</p>
<blockquote>
<p>The <strong>Fediverse</strong> (federated + universe) is the decentralised social media network of federated (independent &amp; interconnected) servers, communicating via open protocols, especially ActivityPub.<br>
– <a href="https://en.wiktionary.org/wiki/Fediverse"><em>Wiktionary</em></a>, modified.</p>
</blockquote>
<p>OK now, go join the Fediverse, and enjoy internet freedom!</p>
<hr>
<p><small> Comments: <a href="https://qoto.org/@torresjrjr/104865046295137278">Fediverse</a></small></p><small>
<p><a href="https://torresjrjr.com/links#contact">Contribute</a>. Note, this article aims to explain the gist of the Fediverse to people unfamiliar with technology, not to be a comprehensive or technical overview.</p>
</small><p><small><em>Last updated: 2020 September 21th</em> </small></p>

  </article>
</div></div>]]>
            </description>
            <link>https://torresjrjr.com/archive/2020-07-20-what-is-the-fediverse</link>
            <guid isPermaLink="false">hacker-news-small-sites-24538962</guid>
            <pubDate>Mon, 21 Sep 2020 01:38:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Commons – Simple mini-forums for communities]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24538774">thread link</a>) | @kthez
<br/>
September 20, 2020 | https://www.startcommons.com/634fcf24-7448-4ac3-b393-35f52699dc23 | <a href="https://web.archive.org/web/*/https://www.startcommons.com/634fcf24-7448-4ac3-b393-35f52699dc23">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.startcommons.com/634fcf24-7448-4ac3-b393-35f52699dc23</link>
            <guid isPermaLink="false">hacker-news-small-sites-24538774</guid>
            <pubDate>Mon, 21 Sep 2020 00:58:04 GMT</pubDate>
        </item>
    </channel>
</rss>
