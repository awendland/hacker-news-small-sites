<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 09 Jul 2020 16:16:31 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 09 Jul 2020 16:16:31 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Git commit accepts several message flags (-m) to allow multiline commits]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 61 (<a href="https://news.ycombinator.com/item?id=23767866">thread link</a>) | @stefanjudis
<br/>
July 8, 2020 | https://www.stefanjudis.com/today-i-learned/git-commit-accepts-several-message-flags-m-to-allow-multiline-commits/ | <a href="https://web.archive.org/web/*/https://www.stefanjudis.com/today-i-learned/git-commit-accepts-several-message-flags-m-to-allow-multiline-commits/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>When you use git on the command line you might have used the message flag (<code>-m</code>). It allows developers to define commit messages inline when calling git commit. </p>
<pre><code>git commit -m "my commit message"</code></pre><p>I'm not the biggest fan of this approach because I prefer to edit the commit message in vim (which I only use for writing commit messages). It gives me the opportunity to double-check the files I'm committing.</p>
<p>Today I learned that the git commit command accepts multiple message flags. <span role="img" aria-label="Astonished Face" tabindex="0">üò≤</span></p>
<p>It turns out that you can use the <code>-m</code> option multiple times. <a href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--mltmsggt">The git documentation</a> includes the following paragraph:</p>
<blockquote>
<p>If multiple -m options are given, their values are concatenated as separate paragraphs</p>
</blockquote>
<p>If you run the following command</p>
<pre><code>git co -m "commit title" -m "commit description"</code></pre><p>it will result in this commit.</p>
<pre><code>Author: stefan judis <stefanjudis @gmail.com="">
Date:   Tue Jul 7 21:53:21 2020 +0200

    commit title

    commit description

 test.txt | 0
 1 file changed, 0 insertions(+), 0 deletions(-)</stefanjudis></code></pre><p>You can use multiple <code>-m</code> flags to create "multiline commits", and I have to admit that this can be very handy in some cases.</p>
<p><em>Edited</em>: Several people pointed out that you can achieve the same commit structure including a title and body (multiple lines) by opening quotes, pressing enter and closing the commit with quotes again.</p>
<pre><code>git commit -m "commit title
&gt;
&gt; commit description"
[master 2fe1ef8] commit title
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 test-2.txt</code></pre><hr>
<p>If you want to see this command in action, <a href="https://twitter.com/stefanjudis/status/1280493911434297344?s=20">I shared a short terminal session on Twitter with a little video</a>.</p>
<p>And thanks to <a href="https://twitter.com/zcei_GER">Stephan Schneider</a> who shared that little git tip in our company slack. <span role="img" aria-label="undefined" tabindex="0">üôá‚Äç‚ôÇÔ∏è</span></p>
</div></div>]]>
            </description>
            <link>https://www.stefanjudis.com/today-i-learned/git-commit-accepts-several-message-flags-m-to-allow-multiline-commits/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767866</guid>
            <pubDate>Wed, 08 Jul 2020 07:58:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing HTTPS in .NET Core 3.1]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23767857">thread link</a>) | @pradeepl
<br/>
July 8, 2020 | https://pradeeploganathan.com/aspnetcore/https-in-asp-net-core-31/ | <a href="https://web.archive.org/web/*/https://pradeeploganathan.com/aspnetcore/https-in-asp-net-core-31/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-5021">
														
							
														
							
														
							<div>
															<div>
									

<h3><span id="Https_Redirection_middleware"></span>Https Redirection middleware<span></span></h3>



<p>In asp.net core <a href="https://pradeeploganathan.com/http/https/">https </a>is enabled by default. The <a aria-label="HttpsRedirection middleware class  (opens in a new tab)" rel="noreferrer noopener" href="https://github.com/aspnet/BasicMiddleware/blob/354cb18d6304b24063d460e0a41c6c1d51ea4000/src/Microsoft.AspNetCore.HttpsPolicy/HttpsRedirectionMiddleware.cs#L139" target="_blank">HttpsRedirection middleware class </a>provides the necessary functionality to enforce redirection from http to https. The UseHttpsRedirection extension method in startup is used to enforce this. This extension method issues a 307 temporary redirect response by default. It then uses the configured https port to specify the redirection endpoint. If the https port is not specified in code, this class will get the https port from HTTPS_PORT environment variable or the IServerAddress feature. If either of them is not specified, then the middleware will log a warning and will not redirect. The code below shows an example of adding the https redirection middleware to the services collection and using it. The code below checks the environment and sets a permanent redirect to the HTTPS endpoint in production and a temporary redirect in development environment.</p>



<p><figcaption>Adding HTTPRedirection</figcaption></p>



<h3><span id="Development_certificates"></span>Development certificates<span></span></h3>



<p>To enable the use of HTTPS in the development environment, .net core provides a global tool that creates a self-signed certificate on the local environment. The following command can install this tool</p>



<blockquote><p>dotnet tool install ‚Äìglobal dotnet-dev-certs</p></blockquote>



<p>The tool can now be used to generate self-signed certificates with the following command. The -ep flag signifies the export path where the certificate will be exported and the -p flag signifies the password required to generate the certificate. We can use the ‚Äìtrust option to trust the certificate generated.</p>



<blockquote><p>dotnet dev-certs https -ep &lt;path_to_certficate&gt;/certificate.pfx -p &lt;certificate_password&gt; </p><p>dotnet dev-certs https ‚Äìtrust</p></blockquote>



<p>On Linux/Mac OS we can use OpenSSL to generate the certificate for the local environment. Trusting the certificate is however a much more involved process depending on the version and flavor of the Linux OS.</p>



<blockquote><p>openssl req -new -x509 -newkey rsa:2048 -keyout dev-certificate.key -out dev-certificate.cer -days 365 -subj /CN=localhost<br>openssl pkcs12 -export -out dev-certificate.pfx -inkey dev-certificate.key -in dev-certificate.cer</p></blockquote>



<p>The certificate path can be specified using the environmental variable  ASPNETCORE_Kestrel__Certificates__Default__Path   &amp; the password using environment variable ASPNETCORE_Kestrel__Certificates__Default__Password </p>



<h3><span id="Kestrel_as_edge_server"></span>Kestrel as edge server<span></span></h3>



<p>Kestrel can be deployed either as an edge server or with a reverse proxy such as IIS, NGINIX or Apache.</p>



<figure><img src="https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel.png" alt="" srcset="https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel.png 657w, https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel-300x115.png 300w, https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel-610x234.png 610w" sizes="(max-width: 657px) 100vw, 657px" data-lazy-srcset="https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel.png 657w, https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel-300x115.png 300w, https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel-610x234.png 610w" data-lazy-src="https://pradeeploganathan.com/wp-content/uploads/2020/05/Kestrel.png?is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Kestrel deployment scenarios</figcaption></figure>



<p>When Kestrel is deployed as a public facing edge server it can be configured to use https and a specific certificate and port using the below code</p>



<p><figcaption>Configuring Kestrel as edge server</figcaption></p>



<h3><span id="Terminating_TLS_at_a_Reverse_proxy"></span>Terminating TLS at a Reverse proxy<span></span></h3>



<p>If a reverse proxy such as Apache or NGNIX is used, then the forwarded headers middleware should be configured and setup before calling the Https redirection middleware. The forwarded headers middleware should set the X-Forwarded-Proto to https. This will enable https offloading at the proxy and a plain http call to the web application with a guarantee that the original call was made over a secure https channel. This is critical especially in non-IIS scenarios such as NGINIX or Apache.  See the code below to configure the forwarded headers middleware</p>



<p><figcaption>Forwarded headers from a reverse proxy</figcaption></p>



<h3><span id="HTTPS_in_containerized_environment"></span>HTTPS in containerized environment<span></span></h3>



<p>In a containerized environment an option is to generate the certificates as part of container creation or startup and specify the same in the docker compose file. The environment files can then be used to configure the necessary environment variables as below</p>



<p><figcaption>Using certificates in a docker volume </figcaption></p>



<p>The corresponding environment files to specify the necessary environment variables are below</p>



<p><figcaption>using environment variables in docker to specify certificate path</figcaption></p>



<h3><span id="HTTPS_strict_transport_security_(HSTS)"></span>HTTPS strict transport security (HSTS)<span></span></h3>



<p>Using HTTPS redirection still presents a minor security risk as the user can make an initial request using HTTP before being redirected to a secure HTTPS connection. To overcome this the HTTP Strict Transport Security (HSTS) Protocol adds a header in responses indicating that only HTTPS should be used when sending requests to the web endpoint. Once an HSTS header has been received, clients that support the HSTS protocol will always send requests to the application using HTTPS even if the user specifies an HTTP URL. In .NET Core 3.1, We can add the HSTS middleware to the pipeline as below.</p>



<p><figcaption>Adding HSTS</figcaption></p>



<p>In the above code we are specifying HSTS preload to be set to true. <a aria-label="undefined (opens in a new tab)" href="https://www.chromium.org/hsts" target="_blank" rel="noreferrer noopener">HSTS preloading</a> is a function built into the browser whereby a global list of hosts enforces the use of HTTPS ONLY on their site. The domains are hard coded into the browser, which avoids the initial insecure request and ensures that only HTTPS is used. Another crucial point that trips up a lot of folks is that the HSTS header is not set even if you specify the use of HSTS middleware for localhost and the loopback address for IPV6 and IPV4. This is because the ExcludeHosts parameter by default excludes these addresses.</p>



<p>In summary .NET core provides a lot of ways to configure https for web applications with Kestrel as an edge server or through SSL offloading/TLS termination. It also provides for options to configure the same through code or through configuration or using a docker compose file.</p>



<blockquote><p> Photo by&nbsp;<a href="https://unsplash.com/@alexeh99?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">alexander ehrenh√∂fer</a>&nbsp;on&nbsp;<a href="https://unsplash.com/s/photos/locks?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a> </p></blockquote>
<div id="snippet-box"><p>Summary</p><div itemscope="" itemtype="https://schema.org/Article"><div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject"><p><img width="180" src="https://pradeeploganathan.com/wp-content/uploads/2020/02/micah-williams-lmFJOx7hPc4-unsplash-2-scaled.jpg" alt="HTTPS IN ASP.NET CORE 3.1" data-lazy-src="https://pradeeploganathan.com/wp-content/uploads/2020/02/micah-williams-lmFJOx7hPc4-unsplash-2-scaled.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><meta itemprop="url" content="https://pradeeploganathan.com/wp-content/uploads/2020/02/micah-williams-lmFJOx7hPc4-unsplash-2-scaled.jpg"></div><div><p>Article Name</p><p><span itemprop="headline">HTTPS IN ASP.NET CORE 3.1</span></p><p>Description</p><p><span itemprop="description">Setting up https in an asp.net core web application or an API is an easy process but needs to be thought through since there are a myriad number of ways to configure the same.</span></p><p>Author</p>
							<div itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization"><p>Publisher Name</p><p><span itemprop="name">https://pradeeploganathan.com</span>
							</p>
							

							<p>Publisher Logo</p><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><p><img width="180" src="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg" alt="https://pradeeploganathan.com" data-lazy-src="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><meta itemprop="url" content="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg"></div></div><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="https://pradeeploganathan.com/aspnetcore/https-in-asp-net-core-31/"><meta itemprop="datePublished" content="2020-02-02T23:12:22+10:00"><meta itemprop="dateModified" content="2020-07-09T11:29:48+10:00"></div>
					</div></div></div>
														</div>
														

																				</article></div>]]>
            </description>
            <link>https://pradeeploganathan.com/aspnetcore/https-in-asp-net-core-31/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767857</guid>
            <pubDate>Wed, 08 Jul 2020 07:57:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Project mouSTer ‚Äì The ultimate mouse adapter for retrocomputers]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 7 (<a href="https://news.ycombinator.com/item?id=23767760">thread link</a>) | @retrohax
<br/>
July 8, 2020 | https://retrohax.net/project-mouster-the-ultimate-mouse-adapter-for-retrocomputers/ | <a href="https://web.archive.org/web/*/https://retrohax.net/project-mouster-the-ultimate-mouse-adapter-for-retrocomputers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-11481">

<div>
<p>‚Ä¶ or it took a while to get here üòÄ</p>
<h4>Origins</h4>
<p>This project is fully lead by Willy/Lamers with my minor participation.</p>
<p>It all started with an idea to create the most convenient modern USB mouse adapter for as many retro machines as possible.</p>
<p>Willy started working on it in his spare-time six years ago. The project goals were simple.</p>
<ul><li>small, smooth and not expensive design</li><li>reliable</li><li>quadrature encoder mouse support</li><li>easy to use and maintain</li><li>easy to personalize/configure</li><li>quick firmware upgrade</li></ul>
<p>The project came about quite quickly and Willy ordered the first batch. Unfortunately, It met almost all conditions but one ‚Äì reliability. The design was based on the FTDI Vinculum2 chip. Although the layout is not bad, the toolchain is terribly underdeveloped (at least it was at that time). There were memory leaks all over the place, debugging was almost impossible, mainly due to the processor for which there is no documentation. In addition, the configuration saved from time to time destroyed the config itself ‚Ä¶<br>It was too much. The project has been abandoned. If you are a strong-willed person you can try it yourself. All work that was done on it, is accessible <a href="http://jil.guru/16bit/projects/abbannddonnedd/hid2st.rar">HERE</a>. You can view or use it if you have the energy to break through the unfinished, wrong and undocumented code</p>
<h4>The new hope</h4>
<p>In the meantime, the design was repeatedly unearthed from a drawer, but unfortunately without much effect. Some of the original goals turned out to be impossible to fulfill.</p>
<p>Up to <a href="http://sillyventure.eu/pl/">Silly Venture 2019</a> which turned out to be a breakthrough. the demand for a functional Atari ST adapter turned out to be quite large. The mouSTer project was born.</p>
<p>The project received a new name ‚ÄúThe mouSTer‚Äù and <a href="http://www.ha.art.pl/wydawnictwo/autorzy/5334-piotr-kroll-mietniowski.html">Kroll</a> (translator required) became its godfather. I hope he doesn‚Äôt mind :). Kroll is the best tester of an Atari equipment around.</p>
<p>The project has gained a new shape and new strengths.</p>
<p>Some early prototype pics:</p>
<figure><img src="https://i1.wp.com/i.imgur.com/j2aoKg8.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/j2aoKg8.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/coaNtK4.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/coaNtK4.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>At the moment, the current size has been reduced to a minimum ‚Äì DB9 plug size + USB-A socket</p>
<p>Below some highlights:</p>
<ul><li>it works with every mouse and with every Game USB pad</li><li>PS4 pad support ‚Äì USB </li><li>config via USB flash drive ‚Äì INI file + default config</li><li>config transfer via USB flash drive</li><li>firmware upgrade via USB flash drive (takes 3 seconds, of which 2 seconds is the time the bootloader needs to recognize the flash drive)</li><li>tested with flash drives from 32MB to 32GB</li><li>mouse emulation mode defaults ‚Äì Amiga, Atari ST, joystick/gamepad</li></ul>
<h4>Current state</h4>
<p>Finally, after a few months of testing in laboratory conditions, everything works rock-solid. Changing the firmware and configuration works confidently and is trouble-free.</p>
<figure><img src="https://i0.wp.com/i.imgur.com/AOlmlqO.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/AOlmlqO.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Some pics:</p>
<figure><img src="https://i2.wp.com/i.imgur.com/dFQUg7w.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/dFQUg7w.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/jLADB2v.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/jLADB2v.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/33MeOuo.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/33MeOuo.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/2fUFUUt.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/2fUFUUt.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/CAefEa5.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/CAefEa5.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p><br>What‚Äôs left to be done<mark id="annotation-text-c72ef339-eeed-462d-a5c9-61b4fb1fb90d"></mark>:</p>
<ul><li>making a test batch in the target size ‚Äì closing the plant due to COVID19 did not help at all üôÅ</li><li>configuration file tuning</li><li>creating a poly-urethane case</li><li>adding config options for Commodore 64/128, Spectrum, and every other possible retro machine.</li><li>PS4 pad full support for all platforms.</li><li>8-bit Atari will receive a special mode that will cover all the PS4 pad functions, mouse and other HID class devices</li><li>testing, testing, testing ‚Ä¶</li></ul>
<p><strong>What has to be highlighted is that mouSTer started as an ATARI add-on but it aims to be multi-platform adapter!!</strong></p>
<h4>Outro</h4>
<p>If you want to get retro gear or hardware modules, please visit <a href="https://retrohax.net/shop/">our shop</a> -&gt; https://retrohax.net/shop/</p>
<p>Please support our work by commenting here and on <a href="https://www.facebook.com/Retrohax.net">Facebook</a> or <a href="https://twitter.com/RetrohaxN">Twitter</a></p>
 </div>

</article></div>]]>
            </description>
            <link>https://retrohax.net/project-mouster-the-ultimate-mouse-adapter-for-retrocomputers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767760</guid>
            <pubDate>Wed, 08 Jul 2020 07:35:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Curry Before Columbus]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 28 (<a href="https://news.ycombinator.com/item?id=23767747">thread link</a>) | @Thevet
<br/>
July 8, 2020 | https://contingentmagazine.org/2020/06/25/curry-before-columbus/ | <a href="https://web.archive.org/web/*/https://contingentmagazine.org/2020/06/25/curry-before-columbus/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-69820" itemscope="" itemtype="https://schema.org/Article">

	
	<header>

		
		
				

		
<meta itemprop="description" content="Well before there was heat, there was hing. 

					{
					  " @context"="" :="" "http:="" schema.org",="" "@type"="" "person",="" "name"="" "nishant="" batsha",="" "url"="" "",="" "sameas"="" [="" ]="" }="" nishant="" batshanishant="" batsha="" is="" a="" writer="" of="" fiction="" and="" histories.="" his="" writing="" has="" previously="" appeared="" in="" narrative,="" triquarterly,="" the="" believer,="" among="" others.="" he="" currently="" revising="" debut="" novel."="">
<meta itemprop="datePublished" content="2020-06-25T16:49:41-04:00">
<meta itemprop="dateModified" content="2020-06-25T18:50:18-04:00">
<meta itemprop="image" content="https://i1.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-2-e1593118602130.jpg?resize=140%2C140&amp;ssl=1">
	</header><!-- / entry header -->

	
	
	<section itemprop="articleBody">
		
		<p>I have a confession to make: I can‚Äôt eat spicy food.</p>
<p>As a person of South Asian descent, it‚Äôs incongruous, I know. I‚Äôm left adrift with the certain type of person who orders food Indian spicy. While my dining companions make an effort to signal their identity as capsaicin-consuming, I wonder if I should order my food white-guy mild. It‚Äôs not like I don‚Äôt enjoy the stinging heat or the bleary-eyed trip of something made extra hot‚Äîit‚Äôs just that I can‚Äôt digest it.</p>
<div id="attachment_69825"><p><img src="https://i1.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03.jpg?resize=771%2C1124&amp;ssl=1" alt="" width="771" height="1124" srcset="https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?resize=771%2C1124&amp;ssl=1 771w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?resize=336%2C490&amp;ssl=1 336w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?w=1756&amp;ssl=1 1756w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?w=1542&amp;ssl=1 1542w" sizes="(max-width: 771px) 100vw, 771px" data-recalc-dims="1"></p><p>Sir Joseph Paxton, <a href="https://commons.wikimedia.org/wiki/File:Paxton%27s_Magazine_of_Botany_and_Register_of_Flowering_Plants_(1838)_(14764888245).jpg">‚ÄúCapsicum ustulatum,‚Äù</a> Paxton‚Äôs Magazine of Botany and Register of Flowering Plants, 1838.</p></div>
<p>I blame dysentery. A bout of it when I was three left two lasting effects on my life: it introduced me to my oldest friendship through a circuitous game of chance (a story for another time), and it rendered my digestive system subject to pains that feel like someone is reaching into me to wring out my guts like wet laundry.</p>
<p>I‚Äôm often told by well-meaning people how much they love Indian food, and then asked if I cook it at home. I never know quite how to respond. Does roti count‚Äîespecially if it‚Äôs the buss-up shut <i>parƒÅthƒÅ</i> of Trinidad? Where do Bihari staples like <i>satt≈´</i> (ground-up roasted gram) or <i>ch≈çkha</i> (mashed and roasted eggplant) fit into this understanding? But their question isn‚Äôt an interrogation of the narrowness of national cuisines. Their question isn‚Äôt a question at all‚Äîit‚Äôs a chance to share. The woman who loves her corner Indian restaurant. The man who just took an Indian-cooking class through adult education. The reasons are usually the same: they love the heat, the fieriness, the spice.</p>
<p>All the things I‚Äôm doomed to avoid.</p>

<p>This all had me wondering: what‚Äôs Indian food without the heat? The historian in me has an answer: spiciness is historically contingent. In 1492, Columbus sailed the ocean blue and the entire world changed: slavery, war, disease, colonization, and an immense transfer of wealth to Europe. And with that wealth too came New World nightshades‚Äîpotatoes, tomatoes, tobacco, peppers of all kinds. It took some time for these fruits and vegetables to plant themselves into European cuisine. The tomato, for example, wasn‚Äôt widely used in Italian cuisine until the eighteenth century.<span id="easy-footnote-1-69820"></span><span><a href="#easy-footnote-bottom-1-69820" title="David Gentilecore, <i>Pomodoro! A History of the Tomato in Italy</i> (New York: Columbia University Press, 2010), 45‚Äì68."><sup>1</sup></a></span> But what about food further out from Europe? What about India?</p>
<p>Soon after Columbus‚Äô first expedition, the treaties of Tordesillas and Saragossa divided the oceans of the newly-known world. The Portuguese effectively took the Atlantic and Indian oceans, while the Spanish took the Pacific. With that, the Portuguese established forts and trading posts along India‚Äôs Malabar coast. In time, <i>aloo</i> (potato), <i>tamƒÅtar</i> (tomato), and <i>mirchƒ´</i> (chilies) were available on the western coast of the Indian subcontinent. Later, the English set up their first trading posts in India in the eastern Gangetic plain, bringing these same staples into North India.<span id="easy-footnote-2-69820"></span><span><a href="#easy-footnote-bottom-2-69820" title="K.T. Achaya, <i>Indian Food: A Historical Companion</i> (Delhi: Oxford University Press, 1998), 225‚Äì27."><sup>2</sup></a></span></p>
<p>So what was curry like before Columbus? Well, <i>curry</i> didn‚Äôt exist.</p>
<p>In these cases, I find it useful to consult my <i>Hobson-Jobson</i>, the nineteenth-century dictionary of Anglo-Indian loan words. According to that source, curry comes from the Portuguese word <i>karil (caril)</i> via the Tamil word <i>kari</i> (sauce, relish for rice). In the sixteenth century, this was transliterated into English as caril, but by the 1680s entered English as <i>carrees</i>, perhaps from <i>caris</i>, an Anglicized plural form of the Portuguese.<span id="easy-footnote-3-69820"></span><span><a href="#easy-footnote-bottom-3-69820" title="Sir Henry Yule, ‚ÄúCurry,‚Äù in <a href=&quot;https://dsalsrv04.uchicago.edu/cgi-bin/app/hobsonjobson_query.py?page=281&quot;><i>Hobson-Jobson: A Glossary of Colloquial Anglo-Indian Words and Phrases, and of Kindred Terms, Etymological, Historical, Geographical and Discursive</i></a>, ed. William Crooke, B.A (London: J Murray, 1903), 281."><sup>3</sup></a></span> It‚Äôs a circle: I‚Äôm back to Tordesillas and Saragossa.</p>
<p>It looks like the curry too came after Columbus. And not only that: it‚Äôs a meaningless word in the context of daily life. Indian food is cipher, built upon a matrix of regionalism, religion, and caste. A Dalit from Mararashtra‚Äôs Marathwada region might mix bovine blood with <i>yesur</i> (a local spice mix) to make <i>lakuti</i>, while a Tamil Brahmin might mix eight spices with <i>tur dƒÅl</i> and onions to make a <i>sambar</i>.<span id="easy-footnote-4-69820"></span><span><a href="#easy-footnote-bottom-4-69820" title="Shahu Patole, <a href=&quot;http://www.expressfoodie.com/main-course/why-i-wrote-a-book-on-dalit-food/&quot;>‚ÄúWhy I Wrote a Book on Dalit Food,‚Äù</a> <i>Express Foodie</i>, September 10, 2016."><sup>4</sup></a></span> Beyond the hyper-regionalism is a blunt truth as well: there are actual words for the plethora of regional dishes that can be reduced to a curry.</p>
<p>Still, curry can be a somewhat useful concept. It‚Äôs an outsider‚Äôs perspective, a shorthand glossing over an entire subcontinent‚Äôs worth of food. It‚Äôs the type of concept that takes what it wants from the original, and mixes in whatever else is ready-to-hand.</p>
<p>I went to the source: the first example of a curry recipe found in a Western cookbook. Hannah Glasse‚Äôs 1747 <i>The Art of Cookery Made Plain and Easy</i> featured a recipe ‚ÄúTo make a Currey the Indian way‚Äù alongside one ‚ÄúTo make a Pellow the Indian way.‚Äù<span id="easy-footnote-5-69820"></span><span><a href="#easy-footnote-bottom-5-69820" title="Hannah Glasse, <i>The Art of Cookery, New</i> (London: L. Wangford, 1777), 74."><sup>5</sup></a></span></p>
<p><img src="https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=771%2C372&amp;ssl=1" alt="" width="771" height="372" srcset="https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=771%2C372&amp;ssl=1 771w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=336%2C162&amp;ssl=1 336w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=768%2C370&amp;ssl=1 768w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=1536%2C741&amp;ssl=1 1536w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=2048%2C987&amp;ssl=1 2048w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=1170%2C564&amp;ssl=1 1170w" sizes="(max-width: 771px) 100vw, 771px" data-recalc-dims="1"></p>
<p>Upon first glance, I can‚Äôt tell how this recipe differs from a fricasseed chicken. But it‚Äôs there: ‚Äúan ounce of Turmerick [turmeric], a large spoonful of ginger and beaten pepper.‚Äù What makes this curry in an Indian way is not the chicken or the cream, but these three spices taken mixed together and served.</p>
<p>Before spicy came spice: the history of curry before Columbus is a history of spice. And so I wonder: what spices were used? In what quantities?</p>
<p>The best spice to help answer these questions might be asafetida (also spelled asafetida). Known in Hindi as <i>hƒ´ng</i>, it‚Äôs the dried resin taken from the root of the Ferula herb, and is used throughout Indian cuisine in nearly all Indian regions. When fried in oil, it adds a lovely umami flavor to any dish, one reminiscent of garlic or onions.</p>
<p>I‚Äôve also known it as an extremely smelly spice.</p>

<p>I had never heard of it until I was an adult. Family lore says that my father hated the smell so much, he told my mother early in their marriage to keep it out of the spice cabinet forever. But it wasn‚Äôt just him‚Äîthe smell has a noxious reputation across the world, going back centuries. The Portuguese physician and naturalist Garcia de Orta wrote in his sixteenth-century <i>Col√≥quios</i> that ‚Äúthe nastiest smell in the world for me is Assa-fetida [sic].‚Äù But he also wrote that ‚Äúthe thing most used throughout India, and in all parts of it, is that Assa-fetida.‚Äù<span id="easy-footnote-6-69820"></span><span><a href="#easy-footnote-bottom-6-69820" title="Garcia da Orta, <i>Colloquies on the Simples and Drugs of India</i>, ed. Conde de Ficalho, trans. Sir Clements Markham, New Lisbon Edition (London: Henry Sotheran and Co, 1913), 44‚Äì45."><sup>6</sup></a></span></p>
<p>This was as true in the twelfth century as it was in the sixteenth. One of the earliest South Asian texts that featured non-medicinal recipes was the Sanskrit <i>MƒÅnasollƒÅsa</i>. Written in 1129 CE by Someshvara III, king of the Western Chalukya Empire in the western Deccan and South India, the book is an encyclopedic treatise on all aspects of life in his kingdom. One of those most common ingredients found in its chapter on the enjoyment of food is asafetida.<span id="easy-footnote-7-69820"></span><span><a href="#easy-footnote-bottom-7-69820" title="Colleen Taylor Sen, <i>Feasts and Fasts: A History of Food in India</i>, Overdrive (eBook) edition (London: Reaktion Books, 2015), chap. 7."><sup>7</sup></a></span></p>
<p>For example, his general practices or preparing meat dishes called for the following:</p>
<blockquote><p>For getting good smell, dry coriander seeds, jeera, and hingu; for giving colour haridra; for good taste the powder of saindhvam, visvamarichim are sprinkled over the food and covered with a clean cloth and mixed slightly with oil.<span id="easy-footnote-8-69820"></span><span><a href="#easy-footnote-bottom-8-69820" title="P. Arundhati, trans., <i>Royal Life in MƒÅnas√¥llƒÅsa</i> (New Delhi: Sundeep Prakashan, 1994), 120."><sup>8</sup></a></span></p></blockquote>
<p>Various other recipes, including those for <i>dƒÅl</i>, meat dishes, and fish were also spiced with asafetida.<span id="easy-footnote-9-69820"></span><span><a href="#easy-footnote-bottom-9-69820" title="Sen, chap. 7."><sup>9</sup></a></span> My first inclination when I saw this was to question it: of course a king would spice his food. Spices were a luxury, and it goes without saying that a king could afford to command his kitchen to use whatever spices were available to him.</p>

<p>But a century prior to the publication of the <i>MƒÅnasollƒÅsa</i> came the <i>Lokopakara</i> (roughly translates to ‚ÄúFor the benefit of the people‚Äù). Written in 1025 by the Jain scholar Chavundaraya II, the<i> Lokopakara</i> featured a section on cooking with a recipe for <i>dƒÅl </i>that recommended a garnish of mustard, cumin seeds, asafetida, and curry leaves.<span id="easy-footnote-10-69820"></span><span><a href="#easy-footnote-bottom-10-69820" title="Sen, chap. 7."><sup>10</sup></a></span></p>
<p>Asafetida too made an appearance in recipes dating from the Sultanate era. From 1206 to 1526, a succession of Islamic dynasties known as the Delhi Sultanate ruled northern India. Nasir ud-Din Shah, a ruler of the Malwa Sultanate (a breakaway state from one of the Delhi Sultanate dynasties) produced the <i>Ni‚Äômatnama</i> (‚ÄúThe Book of Delights‚Äù). The book contained some of the recipes loved by his father, the Sultan Ghiyath Shah. Interestingly enough, the book contains a handful of recipes considered rustic or common‚Äîfood for the common folk.</p>
<p>One recommends to:</p>
<blockquote><p>take root vegetables and boil them well, then take them off and fry them in ghee flavoured with sesame and asafetida.</p>
<p>Add lime juice, salt and burned vegetable oil and mix it as explained above. Take some of it, flavor it and cook it.<span id="easy-footnote-11-69820"></span><span><a href="#easy-footnote-bottom-11-69820" title="Norah M. Titley, ed., <i>The Ni‚Äômatnama Manuscript of the Sultans of Mandu: The Sultan‚Äôs Book of Delights</i> (London: Routledge, 2004), 44‚Äì45."><sup>11</sup></a></span></p></blockquote>
<p>I‚Äôm not sure how burned vegetable oil would taste, but I‚Äôm sure the asafetida would make up for it. Maybe.</p>
<p>Humble <i>hƒ´ng</i> too made an appearance in the royal accounts of the Mughals. The Mughal Emperor Akbar reigned from 1556 to 1605. His court historian, Abu‚Äôl-Fazl ‚ÄòAllami, dutifully chronicled his reign in <i>Ain-i-Akbari</i> (‚ÄúAdministration of Akbar‚Äù). The work remains a quintessential source for the workings of Akbar‚Äôs government. It also contains a repertoire of recipes. For example, a recipe for <i>bƒÅdinjƒÅn</i> (eggplant) asks for:</p>
<blockquote><p>10 s. [<i>sƒ´r</i>, approximately 640 grams] rice; 1 ¬Ω s. g‚Äôh√≠ [ghee], 3 ¬æ s. onions; ¬º s. ginger and lime juice; pepper and coriander seed, 5 m. [misqal, approximately 6 grams] of each; cloves, cardamums [cardamom], and assafoetida, each ¬Ω m.<span id="easy-footnote-12-69820"></span><span><a href="#easy-footnote-bottom-12-69820" title="Abu‚Äôl-Fazl ‚ÄôAllami, <i>The Ain I Akbari</i>, trans. Henry Blochmann, vol. 1 (Calcutta: Rouse, 1873), 59."><sup>12</sup></a></span></p></blockquote>
<p>Strangely enough, the recipe for eggplant lacks any mention of eggplant. But regardless, there it is: a half <i>misqal</i> of asafetida.<span id="easy-footnote-13-69820"></span><span><a href="#easy-footnote-bottom-13-69820" title="A unit of mass equal to 4.25 grams. Misqal is sometimes written as mithqƒÅl."><sup>13</sup></a></span> Even the kitchens of the Mughal court were filled with the wondrous odors of <i>hƒ´ng</i>.</p>
<p>The history of curry before Columbus is truly a history of spice. There are, of course, more spices to find in the archives: turmeric, coriander, and cumin come to mind. These are spices that cross region and class, the staples thrown into the pot in meal after meal. But ubiquitous, smelly, resinous <i>hƒ´ng</i> gives a chance to take a peek into the flavors of Indian food prior to the Columbian exchange. Perhaps there should be a new way to order something, not Indian spicy, but Indian spiced, with plenty of asafetida. I‚Äôll hold my nose and ask for a generous portion, just like all those food chroniclers over the past millennium.</p>
<ol><li><span id="easy-footnote-bottom-1-69820"></span>David Gentilecore, <i>Pomodoro! A History of the Tomato in Italy</i> (New York: Columbia University Press, 2010), 45‚Äì68.<a href="#easy-footnote-1-69820"></a></li><li><span id="easy-footnote-bottom-2-69820"></span>K.T. Achaya, <i>Indian Food: A Historical Companion</i> (Delhi: Oxford University Press, 1998), ‚Ä¶</li></ol></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://contingentmagazine.org/2020/06/25/curry-before-columbus/">https://contingentmagazine.org/2020/06/25/curry-before-columbus/</a></em></p>]]>
            </description>
            <link>https://contingentmagazine.org/2020/06/25/curry-before-columbus/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767747</guid>
            <pubDate>Wed, 08 Jul 2020 07:33:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Koyeb Serverless Data Processing Platform Early Access]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23767588">thread link</a>) | @edouardb
<br/>
July 8, 2020 | https://www.koyeb.com/blog/koyeb-serverless-data-processing-platform-early-access | <a href="https://web.archive.org/web/*/https://www.koyeb.com/blog/koyeb-serverless-data-processing-platform-early-access">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><em>How will you build the platforms of your projects in the 2020s? We will go cloud-first, try to be cloud-agnostic, attempt to go full serverless, and use plenty of cloud APIs to develop faster. Such a setup is hard to achieve with complexity on both the serverless and multicloud sides. Our goal is to make this possible and dead simple.</em></p><p>Today, we are excited to share more about the technology we are building to help you with your cloud journey and to deploy all your platforms in the 2020s. Our first step is to <strong>help developers and businesses run serverless data processing apps in minutes</strong>. We provide an easy to use platform to build production-grade workflows for all your data, including Image, Video, Audio, or document processing.</p><p>What does it actually mean? Here is what we‚Äôre bringing:</p><ul><li><strong>Data-processing Serverless Engine</strong>: a scalable, distributed, processing engine for short and long running processing tasks with primitives to easily work on data,</li><li><strong>Workflow Orchestration</strong>: an easy way to build processing workflows, chain processing steps and track failures in complex workflows running on one or multiple cloud service providers,</li><li><strong>Universal Object Storage</strong>: an S3 compliant API to push your data and store processing results on the cloud storage provider of your choice (i.e. GCP, Azure Blob, AWS S3, Vultr, DigitalOcean, Wasabi, Scaleway, or even Minio servers),</li><li><strong>Ready-to-use integrations</strong>: a <a href="https://koyeb.com/catalog">catalog of integrations</a> to quickly implement data processing workflows for common use-cases.</li></ul><p>We of course take care of all the infrastructure management and scaling of the platform for all the features to provide you <strong>a complete Serverless experience</strong>.</p><p>Here is what it looks like in action to build an image optimization and computer vision workflow:</p><p><strong>We're glad to share we are now onboarding users as part of our early access phase!</strong></p><h2 id="embracing-multicloud">Embracing Multicloud</h2><p>When we started Koyeb in 2019, one of the core questions we had was: how would you build a platform running on top of multiple Cloud Service Providers? </p><p>To provide some context (we didn't wake up out of the blue with this question ;)), we spent the last decade building Cloud Service Providers and previously developed <a href="https://scaleway.com/">Scaleway</a>, a European Cloud Service Provider. We had seen a lot of users in multicloud setups, for cost, availability, or features reasons. We also knew <strong>our new cloud-native world gravity center is data</strong>. </p><p>We decided to tackle a significant issue in our new cloud-native world: data in multicloud setups. We believe multicloud is essential for innovation at the Cloud Service Provider level, in-fine impacting all industries building on top of the cloud. As the IaaS and PaaS industry has matured, <strong>being able to select the best provider to build your product is essential</strong>.</p><h2 id="designed-for-developers">Designed for developers</h2><p>All features are available through our APIs, CLI and web interface.
The APIs and CLI let you easily automate the creation of your processing stacks.</p><p>In parallel, we're working on adding <strong>support for Docker containers and custom functions</strong> to let our users combine catalog integrations with their own code in workflows. We also plan to quickly add support for new data sources to send, ingest, and import data from different services.</p><h2 id="what-is-next">What is next?</h2><p>As part of the early access phase, we're gathering as much feedback as we can to drive the roadmap and to best adapt to your needs. We conducted dozens of user interviews every month and built the platform from their. We already have over 100 users on the platform and are grateful to have <strong>strong backing with leading companies supporting our effort</strong>.</p><p>Join us on our community <a href="https://slack.koyeb.com/">Slack</a> to discuss about Serverless, multicloud, Koyeb, or simply say Hello!</p><p>If you didn‚Äôt sign-up to get early access on Koyeb yet, <a href="https://app.koyeb.com/auth/signup">ask for an invite today</a>. Give it a try and tell us what you think, we need your feedback!</p><p><em><a href="https://www.koyeb.com/careers">We're hiring Software Engineers including Growth Engineers!</a></em>
Don't forget to <a href="https://twitter.com/gokoyeb">follow us on Twitter</a> :)</p></div></div></div>]]>
            </description>
            <link>https://www.koyeb.com/blog/koyeb-serverless-data-processing-platform-early-access</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767588</guid>
            <pubDate>Wed, 08 Jul 2020 07:00:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Co-Occurrence of Species and Personality in Animal Crossing Villagers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23767318">thread link</a>) | @shahinrostami
<br/>
July 7, 2020 | https://m8.fyi/acp | <a href="https://web.archive.org/web/*/https://m8.fyi/acp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="alert">
        <p><a href="https://stamilabs.com/">
        <img src="https://m8.fyi/images/stami-labs/mascot/lablet.svg"></a>
            <a href="https://stamilabs.com/">Join our Stami Labs Patreon</a> to get <b>Exclusive Downloads</b>, <b>Direct Support</b>, <b>Early Access</b>, <b>Voting Access</b>, our <b>Books for Free</b>, and so much more!
        </p>
    </div><div role="alert">
        <p><a href="https://store.shahinrostami.com/product/data-is-beautiful/">
        <img src="https://m8.fyi/images/data-is-beautiful/front.jpg"></a>
            Enjoying these notebooks and want to support the work?
            Get the <a href="https://store.shahinrostami.com/product/data-is-beautiful/">Data is Beautiful Book</a> or check out the <a href="https://www.youtube.com/playlist?list=PLwWiU_ClpuYpC1tEY47k_-CTzDKz1UYIN">Complementary Videos</a>.
        </p>
        </div></div>]]>
            </description>
            <link>https://m8.fyi/acp</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767318</guid>
            <pubDate>Wed, 08 Jul 2020 06:05:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BattlEye Client Emulation]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766828">thread link</a>) | @todsacerdoti
<br/>
July 7, 2020 | https://secret.club/2020/07/06/bottleye.html | <a href="https://web.archive.org/web/*/https://secret.club/2020/07/06/bottleye.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>The popular anti-cheat <a href="https://battleye.com/">BattlEye</a> is widely used by modern online games such as <a href="https://www.escapefromtarkov.com/">Escape from Tarkov</a> and is considered an industry standard anti-cheat by many. In this article I will demonstrate a method I have been utilizing for the past year, which enables you to play any BattlEye-protected game online without even having to install BattlEye.</p><p>BattlEye is dynamically loaded by the respective game on startup to initialize the software service (‚ÄúBEService‚Äù) and kernel driver (‚ÄúBEDaisy‚Äù). These two components are critical in ensuring the integrity of the game, but the most critical component by far is the usermode library (‚ÄúBEClient‚Äù) that the game interacts with directly. This module exports two functions: <code>GetVer</code> and more importantly <code>Init</code>.</p><p>The <em>Init</em> routine is what the game will call, but this functionality has never been documented before, as people mostly focus on BEDaisy or their <a href="https://secret.club/tags#battleye">shellcode</a>. Most important routines in <em>BEClient</em>, including <em>Init</em>, are protected and virtualised by <a href="https://vmpsoft.com/">VMProtect</a>, which we are able to devirtualise and reverse engineer thanks to <a href="https://github.com/vtil-project">vtil</a> by secret club member <a href="https://secret.club/author/can1357">Can Boluk</a>, but the inner workings of <em>BEClient</em> is a topic for a later part of this series, so here is a quick summary.</p><p><em>Init</em> and its arguments have the following definitions:</p><pre><code><span>// BEClient_x64!Init</span>
<span>__declspec</span>(dllexport)
battleye<span>::</span>instance_status Init(std<span>::</span><span>uint64_t</span> integration_version,
                               battleye<span>::</span>becl_game_data<span>*</span> game_data,
                               battleye<span>::</span>becl_be_data<span>*</span> client_data);
  
<span>enum</span> instance_status
{
    NONE,
    NOT_INITIALIZED,
    SUCCESSFULLY_INITIALIZED,
    DESTROYING,
    DESTROYED
};

<span>struct</span> <span>becl_game_data</span>
{
    <span>char</span><span>*</span>         game_version;
    std<span>::</span><span>uint32_t</span> address;
    std<span>::</span><span>uint16_t</span> port;

    <span>// FUNCTIONS</span>
    <span>using</span> print_message_t <span>=</span> <span>void</span>(<span>*</span>)(<span>char</span><span>*</span> message);
    print_message_t print_message;

    <span>using</span> request_restart_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint32_t</span> reason);
    request_restart_t request_restart;

    <span>using</span> send_packet_t <span>=</span> <span>void</span>(<span>*</span>)(<span>void</span><span>*</span> packet, std<span>::</span><span>uint32_t</span> length);
    send_packet_t send_packet;

    <span>using</span> disconnect_peer_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> guid, std<span>::</span><span>uint32_t</span> guid_length, <span>char</span><span>*</span> reason);
    disconnect_peer_t disconnect_peer;
};

<span>struct</span> <span>becl_be_data</span>
{
    <span>using</span> exit_t <span>=</span> <span>bool</span>(<span>*</span>)();
    exit_t exit;

    <span>using</span> run_t <span>=</span> <span>void</span>(<span>*</span>)();
    run_t run;

    <span>using</span> command_t <span>=</span> <span>void</span>(<span>*</span>)(<span>char</span><span>*</span> command);
    command_t command;

    <span>using</span> received_packet_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> received_packet, std<span>::</span><span>uint32_t</span> length);
    received_packet_t received_packet;

    <span>using</span> on_receive_auth_ticket_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> ticket, std<span>::</span><span>uint32_t</span> length);
    on_receive_auth_ticket_t on_receive_auth_ticket;

    <span>using</span> add_peer_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> guid, std<span>::</span><span>uint32_t</span> guid_length);
    add_peer_t add_peer;

    <span>using</span> remove_peer_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> guid, std<span>::</span><span>uint32_t</span> guid_length);
    remove_peer_t remove_peer;
};
</code></pre><p>As seen, these are quite simple containers for interopability between the game and <em>BEClient</em>. <code>becl_game_data</code> is defined by the game and contains functions that <em>BEClient</em> needs to call (for example, send_packet) while <code>becl_be_data</code> is defined by <em>BEClient</em> and contains callbacks used by the game after initialisation (for example, received_packet). Note that these two structures slightly differ in some games that have special functionality, such as the recently introduced packet encryption in <em>Escape from Tarkov</em> that we‚Äôve already <a href="https://secret.club/2020/06/19/battleye-packet-encryption.html">cracked</a>. Older versions of BattlEye (DayZ, Arma, etc.) use a completely different approach with function pointer swap hooks to intercept traffic communication, and therefore these structures don‚Äôt apply.</p><p>A simple <em>Init</em> implementation would look like this:</p><pre><code><span>// BEClient_x64!Init</span>
<span>__declspec</span>(dllexport)
battleye<span>::</span>instance_status Init(std<span>::</span><span>uint64_t</span> integration_version,
                               battleye<span>::</span>becl_game_data<span>*</span> game_data,
                               battleye<span>::</span>becl_be_data<span>*</span> client_data)
{
    <span>// CACHE RELEVANT FUNCTIONS</span>
    battleye<span>::</span>delegate<span>::</span>o_send_packet    <span>=</span> game_data<span>-&gt;</span>send_packet;

    <span>// SETUP CLIENT STRUCTURE</span>
    client_data<span>-&gt;</span>exit                   <span>=</span> battleye<span>::</span>delegate<span>::</span>exit;
    client_data<span>-&gt;</span>run                    <span>=</span> battleye<span>::</span>delegate<span>::</span>run;
    client_data<span>-&gt;</span>command                <span>=</span> battleye<span>::</span>delegate<span>::</span>command;
    client_data<span>-&gt;</span>received_packet        <span>=</span> battleye<span>::</span>delegate<span>::</span>received_packet;
    client_data<span>-&gt;</span>on_receive_auth_ticket <span>=</span> battleye<span>::</span>delegate<span>::</span>on_receive_auth_ticket;
    client_data<span>-&gt;</span>add_peer               <span>=</span> battleye<span>::</span>delegate<span>::</span>add_peer;
    client_data<span>-&gt;</span>remove_peer            <span>=</span> battleye<span>::</span>delegate<span>::</span>remove_peer;

    <span>return</span> battleye<span>::</span>instance_status<span>::</span>SUCCESSFULLY_INITIALIZED;
}
</code></pre><p>This would allow our custom BattlEye client to receive packets sent from the game server‚Äôs <em>BEServer</em> module.</p><p>The function <code>received_packet</code> is by far the most important routine used by the game, as it handles incoming packets from the BattlEye server component. BattlEye communication is extremely simple compared to how important the integrity of it is. In recent versions of BattlEye, packets follow the same general structure:</p><pre><code><span>#pragma pack(push, 1)
</span><span>struct</span> <span>be_fragment</span>
{
    std<span>::</span><span>uint8_t</span> count;
    std<span>::</span><span>uint8_t</span> index;
};

<span>struct</span> <span>be_packet_header</span>
{
    std<span>::</span><span>uint8_t</span> id;
    std<span>::</span><span>uint8_t</span> sequence;
};

<span>struct</span> <span>be_packet</span> <span>:</span> be_packet_header
{
    <span>union</span> 
    {
        be_fragment fragment;

        <span>// DATA STARTS AT body[1] IF PACKET IS FRAGMENTED</span>
        <span>struct</span>
        {
            <span>std</span><span>::</span><span>uint8_t</span> no_fragmentation_flag;
            std<span>::</span><span>uint8_t</span> body[<span>0</span>];
        };
    };
    <span>inline</span> <span>bool</span> fragmented()
    {
        <span>return</span> <span>this</span><span>-&gt;</span>fragment.count <span>!=</span> <span>0x00</span>;
    }
};
<span>#pragma pack(pop)
</span></code></pre><p>All packets have an identifier and a sequence number (which is used by the requests/response communication and the heartbeat). Requests and responses have a fragmentation mode which allows <em>BEServer</em> and <em>BEClient</em> to send packets in chunks of <code>0x400</code> bytes (seemingly arbitrary) instead of sending one big packet.</p><p>In the current iteration of BattlEye, the following packets are used for communication:</p><h3 id="init-00"> <a href="#init-00">INIT (<code>00</code>)</a></h3><p>This packet is sent to the <em>BEClient</em> module as soon as the connection with the game server has been established. This packet is only transmitted once, contains no data besides the packet id <code>00</code> and the response to this packet is simply <code>00 05</code>.</p><h3 id="start-02"> <a href="#start-02">START (‚Äò02‚Äô)</a></h3><p>This packet is sent right after the ‚ÄòINIT‚Äô packets have been exchanged, and contains the server-generated guid of the client. The response of this packet is simply the header: <code>02 00</code></p><h3 id="request-04--response-05"> <a href="#request-04--response-05">REQUEST (<code>04</code>) / RESPONSE (<code>05</code>)</a></h3><p>This type of packet is sent from <em>BEServer</em> to <em>BEClient</em> to request (and in rare cases, simply transmit) data, and <em>BEClient</em> will send back data for that request using the <code>RESPONSE</code> packet type.</p><p>The first request contains crucial information such as service- and integration version, not responding to it will get you disconnected by the game server. Afterwards, requests are game specific.</p><h3 id="heartbeat-09"> <a href="#heartbeat-09">HEARTBEAT (<code>09</code>)</a></h3><p>This type of packet is used by the <em>BEServer</em> module to ensure that the connection hasn‚Äôt been dropped. It is sent every 30 seconds using a sequential index, and if the client doesn‚Äôt respond with the same packet, the client is disconnected from the game server. This heartbeat packet is only three bytes long, with the sequential index used for synchronization being incremental and therefore easily emulated. An example heartbeat could be: <code>09 01 00</code>, which is the second heartbeat (sequence starts at zero) transmitted.</p><p>With this knowledge, it is possible by emulating the entire BattlEye anti-cheat with only two proprietary points of data: the responses for request sequence one and two. These can be intercepted using a tool such as wireshark and replayed as many times as you want for the respective game, because the packet encryption used by BattlEye is static and contextless.</p><p>Emulating the <code>INIT</code> packet is as stated simply responding with the sequence number five:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>INIT<span>:</span>
{
    <span>auto</span> info_packet <span>=</span> battleye<span>::</span>be_packet{};
    info_packet.id       <span>=</span> battleye<span>::</span>packet_id<span>::</span>INIT;
    info_packet.sequence <span>=</span> <span>0x05</span>;

    battleye<span>::</span>delegate<span>::</span>o_send_packet(<span>&amp;</span>info_packet, <span>sizeof</span>(info_packet));
    <span>break</span>;
}
</code></pre><p>Emulating the <code>START</code> packet is done by replying with the received packet‚Äôs header:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>START<span>:</span>
{
    battleye<span>::</span>delegate<span>::</span>o_send_packet(received_packet, <span>sizeof</span>(battleye<span>::</span>be_packet_header));
    <span>break</span>;
}
</code></pre><p>Emulating the <code>HEARTBEAT</code> packets is done by replying with the received packet:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>HEARTBEAT<span>:</span>    
{
    battleye<span>::</span>delegate<span>::</span>o_send_packet(received_packet, length);
    <span>break</span>;
}
</code></pre><p>Emulating the <code>REQUEST</code> packets can be done by replaying previously generated responses, which can be logged with code hooks or man-in-the-middle software. These packets are game specific and some games might disconnect you for not handling a specific request, but most games only require the first two requests to be handled, afterwards simply replying with the packet header is enough to not get disconnected by the game server. It is important to notice that all <code>REQUEST</code> packets are immediately responded to with the header, to let the server know that the client is aware of the request. This is how BottlEye emulates them:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>REQUEST<span>:</span>
{
    <span>// IF NOT FRAGMENTED RESPOND IMMEDIATELY, ELSE ONLY RESPOND TO THE LAST FRAGMENT</span>
    <span>const</span> <span>auto</span> respond <span>=</span> 
        <span>!</span>header<span>-&gt;</span>fragmented() <span>||</span> 
        (header<span>-&gt;</span>fragment.index <span>==</span> header<span>-&gt;</span>fragment.count <span>-</span> <span>1</span>);

    <span>if</span> (<span>!</span>respond)
        <span>return</span>;

    <span>// SEND BACK HEADER</span>
    battleye<span>::</span>delegate<span>::</span>o_send_packet(received_packet, <span>sizeof</span>(battleye<span>::</span>be_packet_header));

    <span>switch</span> (header<span>-&gt;</span>sequence)
    {
    <span>case</span> <span>0x01</span>:
    {
        battleye<span>::</span>delegate<span>::</span>respond(header<span>-&gt;</span>sequence,
            {
                <span>// REDACTED BUFFER</span>
            });
        <span>break</span>;
    }
    <span>case</span> <span>0x02</span>:
    {
        battleye<span>::</span>delegate<span>::</span>respond(header<span>-&gt;</span>sequence, 
            {    
                <span>// REDACTED BUFFER</span>
            });
        <span>break</span>;
    }
    <span>default:</span>
        <span>break</span>;
    }
    <span>break</span>;
}
</code></pre><p>Which uses the following helper function for responses:</p><pre><code><span>void</span> battleye<span>::</span>d‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://secret.club/2020/07/06/bottleye.html">https://secret.club/2020/07/06/bottleye.html</a></em></p>]]>
            </description>
            <link>https://secret.club/2020/07/06/bottleye.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766828</guid>
            <pubDate>Wed, 08 Jul 2020 04:12:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Paycheck Protection Program Recipient Map]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766743">thread link</a>) | @miles
<br/>
July 7, 2020 | https://www.quiverquant.com/sources/sbaloans | <a href="https://web.archive.org/web/*/https://www.quiverquant.com/sources/sbaloans">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.quiverquant.com/sources/sbaloans</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766743</guid>
            <pubDate>Wed, 08 Jul 2020 03:52:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sweden Has Become the World‚Äôs Cautionary Tale]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23766497">thread link</a>) | @jgwil2
<br/>
July 7, 2020 | https://www.nytimes.com./2020/07/07/business/sweden-economy-coronavirus.html | <a href="https://web.archive.org/web/*/https://www.nytimes.com./2020/07/07/business/sweden-economy-coronavirus.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="story"><div><header><p id="article-summary">Its decision to carry on in the face of the pandemic has yielded a surge of deaths without sparing its economy from damage √¢‚Ç¨‚Äù a red flag as the United States and Britain move to lift lockdowns.</p><div data-testid="photoviewer-wrapper"><div data-testid="photoviewer-children"><figure aria-label="media" role="group" itemscope="" itemprop="associatedMedia" itemid="https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-articleLarge.jpg?quality=90&amp;auto=webp" itemtype="http://schema.org/ImageObject"><div><picture><source media="(max-width: 599px) and (min-device-pixel-ratio: 3),(max-width: 599px) and (-webkit-min-device-pixel-ratio: 3),(max-width: 599px) and (min-resolution: 3dppx),(max-width: 599px) and (min-resolution: 288dpi)" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-mobileMasterAt3x.jpg?quality=75&amp;auto=webp&amp;disable=upscale&amp;width=600"><source media="(max-width: 599px) and (min-device-pixel-ratio: 2),(max-width: 599px) and (-webkit-min-device-pixel-ratio: 2),(max-width: 599px) and (min-resolution: 2dppx),(max-width: 599px) and (min-resolution: 192dpi)" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-mobileMasterAt3x.jpg?quality=75&amp;auto=webp&amp;disable=upscale&amp;width=1200"><source media="(max-width: 599px) and (min-device-pixel-ratio: 1),(max-width: 599px) and (-webkit-min-device-pixel-ratio: 1),(max-width: 599px) and (min-resolution: 1dppx),(max-width: 599px) and (min-resolution: 96dpi)" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-mobileMasterAt3x.jpg?quality=75&amp;auto=webp&amp;disable=upscale&amp;width=1800"><img alt="Sweden largely avoided imposing prohibitions. The government allowed restaurants, gyms, shops, playgrounds and most schools to remain open." src="https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-articleLarge.jpg?quality=75&amp;auto=webp&amp;disable=upscale" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-articleLarge.jpg?quality=90&amp;auto=webp 600w,https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-jumbo.jpg?quality=90&amp;auto=webp 1024w,https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-superJumbo.jpg?quality=90&amp;auto=webp 2048w" sizes="((min-width: 600px) and (max-width: 1004px)) 84vw, (min-width: 1005px) 80vw, 100vw" decoding="async" itemprop="url" itemid="https://static01.nyt.com/images/2020/07/06/business/06sweden-01/06sweden-01-articleLarge.jpg?quality=75&amp;auto=webp&amp;disable=upscale"></picture></div><figcaption itemprop="caption description"><span itemprop="copyrightHolder"><span>Credit...</span><span><span>Johan Nilsson/EPA, via Shutterstock</span></span></span></figcaption></figure></div></div></header></div><section name="articleBody" itemprop="articleBody"><div><div><p>LONDON √¢‚Ç¨‚Äù Ever since the coronavirus emerged in Europe, Sweden has captured international attention by conducting an <a href="https://www.nytimes.com/2020/04/28/world/europe/sweden-coronavirus-herd-immunity.html" title="">unorthodox, open-air experiment</a>. It has allowed the world to examine what happens in a pandemic when a government allows life to carry on largely unhindered.</p><p>This is what has happened: Not only have <a href="https://www.nytimes.com/interactive/2020/05/15/world/europe/sweden-coronavirus-deaths.html" title="">thousands more people died </a>than in neighboring countries that imposed lockdowns, but Sweden√¢‚Ç¨‚Ñ¢s economy has fared little better.</p><p>√¢‚Ç¨≈ìThey literally gained nothing,√¢‚Ç¨ÔøΩ said Jacob F. Kirkegaard, a senior fellow at the Peterson Institute for International Economics in Washington. √¢‚Ç¨≈ìIt√¢‚Ç¨‚Ñ¢s a self-inflicted wound, and they have no economic gains.√¢‚Ç¨ÔøΩ</p><p>The results of Sweden√¢‚Ç¨‚Ñ¢s experience are relevant well beyond Scandinavian shores. In the United States, where the <a href="https://www.nytimes.com/interactive/2020/us/coronavirus-us-cases.html" title="">virus is spreading</a> with alarming speed, many states have √¢‚Ç¨‚Äù at <a href="https://www.nytimes.com/2020/04/12/us/when-lockdown-ending-coronavirus.html" title="">President Trump√¢‚Ç¨‚Ñ¢s urging</a> √¢‚Ç¨‚Äù avoided lockdowns or lifted them prematurely on the assumption that this would foster economic revival, allowing people to return to workplaces, shops and restaurants.</p></div></div><div><div><p>In Britain, Prime Minister Boris Johnson √¢‚Ç¨‚Äù <a href="https://www.nytimes.com/2020/04/06/world/europe/boris-johnson-coronavirus-hospital-intensive-care.html" title="">previously hospitalized </a>with Covid-19 √¢‚Ç¨‚Äù <a href="https://www.nytimes.com/2020/06/23/world/europe/uk-coronavirus-reopening.html" title="">reopened pubs</a> and restaurants last weekend in a bid to <a href="https://www.nytimes.com/2020/06/23/world/europe/uk-coronavirus-reopening.html" title="">restore normal economic life</a>.</p><p>Implicit in these approaches is the assumption that governments must balance saving lives against the imperative to spare jobs, with the extra health risks of rolling back social distancing potentially justified by a resulting boost to prosperity. But Sweden√¢‚Ç¨‚Ñ¢s grim result √¢‚Ç¨‚Äù more death, and nearly equal economic damage √¢‚Ç¨‚Äù suggests that the supposed choice between lives and paychecks is a false one: A failure to impose social distancing can cost lives and jobs at the same time.</p><p>Sweden put stock in the sensibility of its people as it largely <a href="https://www.nytimes.com/2020/03/28/world/europe/sweden-coronavirus.html" title="">avoided imposing government prohibitions</a>. The government allowed restaurants, gyms, shops, playgrounds and most schools to remain open. By contrast, Denmark and Norway opted for strict quarantines, banning large groups and locking down shops and restaurants.</p><p>More than three months later, the coronavirus is blamed for 5,420 deaths in Sweden, according to the <a href="https://covid19.who.int/region/euro/country/se" title="" rel="noopener noreferrer" target="_blank">World Health Organization</a>. That might not sound especially horrendous compared with the more than 129,000 Americans who have died. But Sweden is a country of only 10 million people. Per million people, Sweden has suffered 40 percent more deaths than the United States, 12 times more than Norway, seven times more than Finland and six times more than Denmark.</p></div></div><div data-testid="photoviewer-wrapper"><div data-testid="photoviewer-children"><figure aria-label="media" role="group" itemprop="associatedMedia" itemscope="" itemid="https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-articleLarge.jpg?quality=90&amp;auto=webp" itemtype="http://schema.org/ImageObject"><div><p><span>Image</span></p><picture><source media="(max-width: 599px) and (min-device-pixel-ratio: 3),(max-width: 599px) and (-webkit-min-device-pixel-ratio: 3),(max-width: 599px) and (min-resolution: 3dppx),(max-width: 599px) and (min-resolution: 288dpi)" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-mobileMasterAt3x.jpg?quality=75&amp;auto=webp&amp;disable=upscale&amp;width=600"><source media="(max-width: 599px) and (min-device-pixel-ratio: 2),(max-width: 599px) and (-webkit-min-device-pixel-ratio: 2),(max-width: 599px) and (min-resolution: 2dppx),(max-width: 599px) and (min-resolution: 192dpi)" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-mobileMasterAt3x.jpg?quality=75&amp;auto=webp&amp;disable=upscale&amp;width=1200"><source media="(max-width: 599px) and (min-device-pixel-ratio: 1),(max-width: 599px) and (-webkit-min-device-pixel-ratio: 1),(max-width: 599px) and (min-resolution: 1dppx),(max-width: 599px) and (min-resolution: 96dpi)" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-mobileMasterAt3x.jpg?quality=75&amp;auto=webp&amp;disable=upscale&amp;width=1800"><img alt="Per million people, Sweden has suffered 40 percent more coronavirus-related deaths than the United States." src="https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-articleLarge.jpg?quality=75&amp;auto=webp&amp;disable=upscale" srcset="https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-articleLarge.jpg?quality=90&amp;auto=webp 600w,https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-jumbo.jpg?quality=90&amp;auto=webp 1024w,https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-superJumbo.jpg?quality=90&amp;auto=webp 2048w" sizes="((min-width: 600px) and (max-width: 1004px)) 84vw, (min-width: 1005px) 60vw, 100vw" decoding="async" itemprop="url" itemid="https://static01.nyt.com/images/2020/07/06/business/06sweden-02/merlin_171728283_4312516e-eec8-4ff7-bbce-5e06f49445dc-articleLarge.jpg?quality=75&amp;auto=webp&amp;disable=upscale"></picture></div><figcaption><span itemprop="copyrightHolder"><span>Credit...</span><span>Jonathan Nackstrand/Agence France-Presse √¢‚Ç¨‚Äù Getty Images</span></span></figcaption></figure></div></div><div><p>The elevated death toll resulting from Sweden√¢‚Ç¨‚Ñ¢s approach has been clear for many weeks. What is only now emerging is how Sweden, despite letting its economy run unimpeded, has still suffered business-destroying, prosperity-diminishing damage, and at nearly the same magnitude of its neighbors.</p></div><div><div><p>Sweden√¢‚Ç¨‚Ñ¢s <a href="https://www.reuters.com/article/sweden-cenbank-forecast/table-swedish-cbank-forecasts-key-rate-at-0-for-coming-years-idUSS3N2AC001" title="" rel="noopener noreferrer" target="_blank">central bank</a> expects its economy to contract by 4.5 percent this year, a revision from a previously expected gain of 1.3 percent. The unemployment rate jumped to 9 percent in May from 7.1 percent in March. √¢‚Ç¨≈ìThe overall damage to the economy means the recovery will be protracted, with unemployment remaining elevated,√¢‚Ç¨ÔøΩ Oxford Economics concluded in a recent research note.</p><p>This is more or less how damage caused by the pandemic has played out in Denmark, where the <a href="https://www.reuters.com/article/health-coronavirus-denmark-economy/denmarks-central-bank-sees-economy-shrink-by-41-this-year-idUSFWN2DT0WQ" title="" rel="noopener noreferrer" target="_blank">central bank</a> expects that the economy will shrink 4.1 percent this year, and where joblessness has edged up to 5.6 percent in May from 4.1 percent in March.</p><p>In short, Sweden suffered a vastly higher death rate while failing to collect on the expected economic gains.</p><p>The coronavirus does not stop at national borders. Despite the government√¢‚Ç¨‚Ñ¢s decision to allow the domestic economy to roll on, Swedish businesses are stuck with the same conditions that produced recession everywhere else. And Swedish people responded to the fear of the virus by limiting their shopping √¢‚Ç¨‚Äù not enough to prevent elevated deaths, but enough to produce a decline in business activity.</p><p>Here is one takeaway with potentially universal import: It is simplistic to portray government actions such as quarantines as the cause of economic damage. The real culprit is the virus itself. From Asia to Europe to the Americas, the risks of the pandemic have disrupted businesses while prompting people to avoid shopping malls and restaurants, regardless of official policy.</p></div></div><div data-testid="photoviewer-wrapper"><div data-testid="photoviewer-children"><figure aria-label="media" role="group" itemprop="associatedMedia" itemscope="" itemid="https://static01.nyt.com/images/2020/07/06/business/06sweden-03/merlin_171448116_dc72db1b-94a8-4bf3-89c9-4ae78673174b-articleLarge.jpg?quality=90&amp;auto=webp" itemtype="http://schema.org/ImageObject"><div><p><span>Image</span></p><div></div></div><figcaption><span itemprop="copyrightHolder"><span>Credit...</span><span>Jonathan Nackstrand/Agence France-Presse √¢‚Ç¨‚Äù Getty Images</span></span></figcaption><img src="https://static01.nyt.com/images/2020/07/06/business/06sweden-03/merlin_171448116_dc72db1b-94a8-4bf3-89c9-4ae78673174b-articleLarge.jpg?quality=90&amp;auto=webp"></figure></div></div><div><div><p>Sweden is exposed to the vagaries of global trade. Once the pandemic was unleashed, it was certain to suffer the economic consequences, said Mr. Kirkegaard, the economist.</p><div id="NYT_MAIN_CONTENT_3_REGION"><section id="styln-faq-coronavirus"><div><!--

======================================================

THIS IS A GENERATED TEMPLATE FILE. DO NOT EDIT.

======================================================

-->




<div id="g-inlineguide-id">
  <div>
    <div>
      <div id="truncate-content">
        
        <ul>
          
          <li>
            
            <p>Updated July 7, 2020</p>

            
            
            <ul id="g-inlineguide-item-list">
              <li>
                <h4><strong>Is the coronavirus airborne?</strong></h4>
                <p>The coronavirus <a href="https://www.nytimes.com/2020/07/04/health/239-experts-with-one-big-claim-the-coronavirus-is-airborne.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">can stay aloft for hours in tiny droplets in stagnant air</a>, infecting people as they inhale, mounting scientific evidence suggests. This risk is highest in crowded indoor spaces with poor ventilation, and may help explain super-spreading events reported in meatpacking plants, churches and restaurants. <a href="https://www.nytimes.com/2020/07/06/health/coronavirus-airborne-aerosols.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">It√¢‚Ç¨‚Ñ¢s unclear how often the virus is spread</a> via these tiny droplets, or aerosols, compared with larger droplets that are expelled when a sick person coughs or sneezes, or transmitted through contact with contaminated surfaces, said Linsey Marr, an aerosol expert at Virginia Tech. Aerosols are released even when a person without symptoms exhales, talks or sings, according to Dr. Marr and more than 200 other experts, who <a href="https://academic.oup.com/cid/article/doi/10.1093/cid/ciaa939/5867798">have outlined the evidence in an open letter to the World Health Organization</a>.</p>
              </li>
            </ul>
            

            
            
            <ul id="g-inlineguide-item-list">
              <li>
                <h4><strong>What are the symptoms of coronavirus?</strong></h4>
                <p>Common symptoms <a href="https://www.nytimes.com/article/symptoms-coronavirus.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">include fever, a dry cough, fatigue and difficulty breathing or shortness of breath.</a> Some of these symptoms overlap with those of the flu, making detection difficult, but runny noses and stuffy sinuses are less common. <a href="https://www.nytimes.com/2020/04/27/health/coronavirus-symptoms-cdc.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">The C.D.C. has also</a> added chills, muscle pain, sore throat, headache and a new loss of the sense of taste or smell as symptoms to look out for. Most people fall ill five to seven days after exposure, but symptoms may appear in as few as two days or as many as 14 days.</p>
              </li>
            </ul>
            

            
            
            <ul id="g-inlineguide-item-list">
              <li>
                <h4>What√¢‚Ç¨‚Ñ¢s the best material for a mask?</h4>
                <p>Scientists around the country <a href="https://www.nytimes.com/article/coronavirus-homemade-mask-material-DIY-face-mask-ppe.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">have tried to identify everyday materials that do a good job of filtering microscopic particles.</a> In recent tests, HEPA <a href="https://www.nytimes.com/article/coronavirus-homemade-mask-material-DIY-face-mask-ppe.html?action=click&amp;action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq&amp;module=Spotlight&amp;pgtype=Homepage">furnace filters</a> scored high, as did vacuum cleaner bags, fabric similar to flannel pajamas and those of 600-count pillowcases. Other materials tested included layered coffee filters and scarves and bandannas. These scored lower, but still captured a small percentage of particles.</p>
              </li>
            </ul>
            

            
            
            <ul id="g-inlineguide-item-list">
              <li>
                <h4>Is it harder to exercise while wearing a mask?</h4>
                <p>A <a href="https://blogs.bmj.com/bjsm/2020/06/12/should-people-wear-a-face-mask-during-exercise-what-should-clinicians-advise/">commentary published this month on the website of the British Journal of Sports Medicine</a> points out that covering your face during exercise √¢‚Ç¨≈ìcomes with issues of potential breathing restriction and discomfort√¢‚Ç¨ÔøΩ and requires √¢‚Ç¨≈ìbalancing benefits versus possible adverse events.√¢‚Ç¨ÔøΩ <a href="https://www.nytimes.com/2020/06/17/well/move/exercising-while-wearing-a-mask.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">Masks do alter exercise</a>, says Cedric X. Bryant, the president and chief science officer of the American Council on Exercise, a nonprofit organization that funds exercise research and certifies fitness professionals. √¢‚Ç¨≈ìIn my personal experience,√¢‚Ç¨ÔøΩ he says, √¢‚Ç¨≈ìheart rates are higher at the same relative intensity when you wear a mask.√¢‚Ç¨ÔøΩ Some people also could experience lightheadedness during familiar workouts while masked, says Len Kravitz, a professor of exercise science at the University of New Mexico.</p>
              </li>
            </ul>
            

            
            
            <ul id="g-inlineguide-item-list">
              <li>
                <h4>I√¢‚Ç¨‚Ñ¢ve heard about a treatment called dexamethasone. Does it work?</h4>
                <p>The steroid, dexamethasone, is <a href="https://www.nytimes.com/2020/06/16/world/europe/dexamethasone-coronavirus-covid.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">the first </a><a href="https://www.nytimes.com/2020/06/16/world/europe/dexamethasone-coronavirus-covid.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">treatment shown to reduce mortality in severely ill patients,</a> according to scientists in Britain. The drug appears to reduce inflammation caused by the immune system, protecting the tissues. In the study, dexamethasone reduced deaths of patients on ventilators by one-third, and deaths of patients on oxygen by one-fifth.</p>
              </li>
            </ul>
            

            
            
            <ul id="g-inlineguide-item-list">
              <li>
                <h4>What is pandemic paid leave?</h4>
                <p><a href="https://www.nytimes.com/2020/03/19/upshot/coronavirus-paid-leave-guide.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">The coronavirus emergency relief package</a> gives many American workers paid leave if they need to take time off because of the virus. It gives qualified workers two weeks of paid sick leave if they are ill, quarantined or seeking diagnosis or preventive care for coronavirus, or if they are caring for sick family members. It gives 12 weeks of paid leave to people caring for children whose schools are closed or whose child care provider is unavailable because of the coronavirus. <a href="https://www.nytimes.com/2020/03/19/upshot/coronavirus-paid-leave-guide.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">It is the first time the United States has had widespread federally mandated paid leave,</a> and includes people who don√¢‚Ç¨‚Ñ¢t typically get such benefits, like part-time and gig economy workers. But <a href="https://www.nytimes.com/2020/03/14/opinion/coronavirus-pelosi-sick-leave.html?action=click&amp;pgtype=Article&amp;state=default&amp;module=styln-coronavirus-markets&amp;region=MAIN_CONTENT_3&amp;context=storylines_faq">the measure excludes</a> at least half of private-sector workers, including those at the country√¢‚Ç¨‚Ñ¢s largest employers, and gives small employers significant leeway to deny leave.</p>
              </li>
            </ul>
            

            
            
            <ul id="g-inlineguide-item-list">
              <li>
                <h4><strong>Does asymptomatic transmission of Covid-19 happen?</strong></h4>
                <p>So far, the evidence seems to show it does. A widely cited <a href="https://www.nature.com/articles/s41591-020-0869-5">paper</a> published in April suggests that people are most infectious about two days before the onset of coronavirus symptoms and estimated that 44 percent of new infections were a result of transmission from people who were not yet showing symptoms. Recently, a top ‚Ä¶</p></li></ul></li></ul></div></div></div></div></div></section></div></div></div></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.nytimes.com./2020/07/07/business/sweden-economy-coronavirus.html">https://www.nytimes.com./2020/07/07/business/sweden-economy-coronavirus.html</a></em></p>]]>
            </description>
            <link>https://www.nytimes.com./2020/07/07/business/sweden-economy-coronavirus.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766497</guid>
            <pubDate>Wed, 08 Jul 2020 02:59:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Many Stay Sick After Recovering from Coronavirus]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766449">thread link</a>) | @spzx
<br/>
July 7, 2020 | https://www.spiegel.de/international/world/covid-19-many-people-stay-sick-after-recovering-from-coronavirus-a-d814c20b-fb3d-47b1-bd2b-d6fd65e0ef33 | <a href="https://web.archive.org/web/*/https://www.spiegel.de/international/world/covid-19-many-people-stay-sick-after-recovering-from-coronavirus-a-d814c20b-fb3d-47b1-bd2b-d6fd65e0ef33">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-article-el="body">
<section data-app-hidden="true">


</section>
<section>
<div>
<figure data-component="Image" data-settings="{&quot;id&quot;:&quot;dd9718d7-8ed0-4cc4-89ba-bfee1322516b&quot;, &quot;zoomable&quot;:true}">
<p><span>
<span data-image-el="aspect">
<span>
<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/dd9718d7-8ed0-4cc4-89ba-bfee1322516b_w948_r1.77_fpx45_fpy24.jpg" srcset="https://cdn.prod.www.spiegel.de/images/dd9718d7-8ed0-4cc4-89ba-bfee1322516b_w520_r1.77_fpx45_fpy24.jpg 520w, https://cdn.prod.www.spiegel.de/images/dd9718d7-8ed0-4cc4-89ba-bfee1322516b_w948_r1.77_fpx45_fpy24.jpg 948w" width="948" height="536" sizes="948px" title="The real estate agent Alexander Riesch (whose name has been changed by the editors) still feels sick even after officially recovering from COVID-19." alt="The real estate agent Alexander Riesch (whose name has been changed by the editors) still feels sick even after officially recovering from COVID-19.">
</span>
</span>
</span>

</p>
<figcaption>
<p>The real estate agent Alexander Riesch (whose name has been changed by the editors) still feels sick even after officially recovering from COVID-19.</p>
<span>
Foto: <p>Nora Klein/ DER SPIEGEL</p>
</span>
</figcaption>
</figure>
</div><div>
<p>It all began with a scratchy throat on Friday, March 13. A colleague had brought the novel coronavirus back with him from the Austrian ski resort <a target="_blank" rel="noopener noreferrer" href="https://www.spiegel.de/international/europe/the-ischgl-outbreak-families-of-covid-19-victims-seek-justice-a-bbf9aa92-dfed-42d0-870c-ff9d17125d45" data-link-flag="english">Ischgl</a>. Shortly thereafter, Alexander Riesch, 26, whose name has been changed for this story, also tested positive for the virus.</p>


<div>
<p>"At first I thought, well, at least now you'll have gotten it over with," Riesch says. His doctors also had no doubt: The body of a young, healthy person wouldn't take long to vanquish the virus. They sent Riesch home to recover. But a few days later, he felt so miserable that he had to call an emergency doctor. He spent a week in the hospital.</p><p>Officially, Riesch has been recovered for nearly three months. He has antibodies against the virus in his blood. Yet he still goes through spells in which he feels very sick. So far, none of his doctors have been able to explain why.</p>
</div>

<section data-area="contentbox">
<div>
<figure data-component="Image" data-settings="{&quot;id&quot;:&quot;ddf7f1b7-27e9-4abc-be39-44538f0a44aa&quot;, &quot;zoomable&quot;:false}">
<span>
<span data-image-el="aspect">
<span>
<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/ddf7f1b7-27e9-4abc-be39-44538f0a44aa_w568_r0.7570837312957657_fpx50.97_fpy65.84.jpg" srcset="https://cdn.prod.www.spiegel.de/images/ddf7f1b7-27e9-4abc-be39-44538f0a44aa_w284_r0.7570837312957657_fpx50.97_fpy65.84.jpg 284w, https://cdn.prod.www.spiegel.de/images/ddf7f1b7-27e9-4abc-be39-44538f0a44aa_w335_r0.7570837312957657_fpx50.97_fpy65.84.jpg 335w, https://cdn.prod.www.spiegel.de/images/ddf7f1b7-27e9-4abc-be39-44538f0a44aa_w568_r0.7570837312957657_fpx50.97_fpy65.84.jpg 568w" width="568" height="750" sizes="568px" data-srcset="https://cdn.prod.www.spiegel.de/images/ddf7f1b7-27e9-4abc-be39-44538f0a44aa_w284_r0.7570837312957657_fpx50.97_fpy65.84.jpg 284w, https://cdn.prod.www.spiegel.de/images/ddf7f1b7-27e9-4abc-be39-44538f0a44aa_w335_r0.7570837312957657_fpx50.97_fpy65.84.jpg 335w, https://cdn.prod.www.spiegel.de/images/ddf7f1b7-27e9-4abc-be39-44538f0a44aa_w568_r0.7570837312957657_fpx50.97_fpy65.84.jpg 568w">
</span>
</span>
</span>
</figure>

</div>
</section>
<p>In addition to suffering from sore throats that range from mild to severe and seem to come and go at random, his lungs are also still affected. The symptoms didn't begin until after the doctors released him from the hospital and he returned home. A respiratory physician prescribed him an asthma inhaler and advised him to be patient. The cortisone does help a little, Riesch says, but his cough and the tightness in his chest return as soon as he stops taking it.</p>

<div>
<p>There's also the sudden muscle pain. Sometimes the left half of Riesch's body becomes numb, other times he feels so weak that he has to lay down immediately. And that's not even to mention the abdominal pain and nausea, skin rash and severe fatigue.</p><p>Riesch was on sick leave for 10 weeks. Meanwhile, he's back at work as a real estate agent. But every now and then, he has to cancel appointments because he simply feels too exhausted. Most of the time, he tries to live a normal life. "I've come to accept the pain I'm in now."</p><h3>A Very Strange Disease</h3><p>Half a year since the pandemic began, doctors are now observing an increasing number of coronavirus patients like Riesch who are officially recovered but in reality are far from healthy.</p>
</div>

<div>
<p>"COVID-19 is very unpredictable," says Timothy Spector of King's College London, who is tracking the course of the disease in more than 200,000 COVID-19 patients over a longer period of time, with the help of a mobile app, as part of a major research project. "I am trained as a rheumatologist, so I am used to strange diseases. But COVID-19 is the strangest disease I know."</p><p>Roughly one in 10 people with the disease continue to suffer from unexplainable symptoms for more than a month, many for more than two months. The most common are exhaustion, headaches, a loss of smell, trouble breathing, dizziness, diarrhea and skin rashes. "And some of our participants still have a fever after three months," Spector says.</p>
</div>

<section>

</section>
<div>
<p>Severe damage to the lungs, heart and nervous system in some people is also of concern. The disease can cause cardiac arrhythmia or even trigger diabetes mellitus. Some patients suffer from severe concentration and memory disorders, much like dementia. Even young people can be affected. More than 1,000 children around the world have contracted multisystem inflammatory syndrome in connection with a SARS-CoV-2 infection, which can lead to myocarditis and circulatory failure.</p><h3>Nothing To Be Done</h3><p>"Many patients say: 'Before the coronavirus infection, I was a different person,'" says the Swiss heart surgeon Paul Vogt. Doctors now fear that the pandemic will leave behind an army of chronically ill people. Some hospitals in Germany are already beginning to set up outpatient clinics for the follow-up care of COVID-19 patients.</p><p>"People tend to think: Either you are dead, or you are healthy again," says the British physician Helen Salisbury. "But it does not work like this."</p><p>For weeks, all people talked about was intensive care units and artificial ventilation. "But now there are all these people, that will maybe be ill for a long time."</p><p>Salisbury treats several people who were infected with SARS-CoV-2 and still suffer from exhaustion and bouts of fever or coughing and who quickly get out of breath. "All the tests are normal," she says. "There is no therapy I can offer to them." Many of the chronically sick are young -- and desperate. "But I can do nothing but listen to them," Salisbury says.</p><p>It's still a mystery to experts as to why the symptoms are so persistent and severe even after the patients have supposedly recovered from the disease. Doctors suspect it could be due to malfunctions in the immune system caused by an infection. It's also possible that once the virus succeeds in establishing itself somewhere in the body, it can strike repeatedly.</p><p>Or the lasting ailments could be a consequence of a lack of oxygen during the acute phase of the disease. Young COVID-19 patients in particular often don't notice for a long time just how badly their body is doing.</p><h3>Like Other Viruses</h3><p>Doctors see a parallel to another coronavirus disease. After the SARS pandemic in 2003, doctors continued to notice many chronically sick people, for instance in Toronto, Canada, where the worst outbreak outside of Asia took place. "When I heard of the SARS-CoV-2 long-term patients, I thought: Oh, I was waiting for this," says Harvey Moldofsky, a sleep and pain researcher and a professor emeritus at the University of Toronto.</p>
</div>

<div>
<p>A physician, Moldofsky has been a specialist in unusual diseases since early on in his career. That's why he was asked to step in and help after the 2003 SARS pandemic had subsided. "There was a group of 50 people that had all survived SARS, but although they had gone through rehab, they could not go back to work full time," Moldofsky says.</p><p>He interviewed 22 of those people in detail, and the stories he heard all sounded similar. "Over one year post-infection, they were still fatigued, weak, had muscle pain, sleeping problems and could not think straight," says Moldofsky.</p><p>All of these grievances are familiar to experts. Patients suffering from chronic fatigue syndrome also complain of muscle, head and neck pain. Many also speak of a "brain fog" that prevents them from being able to concentrate.</p><p>A number of viruses are believed to cause chronic fatigue syndrome. Among them are the influenza and Epstein-Barr viruses, the latter of which is known to cause infectious mononucleosis, or mono. Researchers now suspect that the strange affliction is, in fact, an autoimmune reaction triggered by the viral infection, which can affect the autonomic nervous system. Other symptoms can include heart palpitations, an increased susceptibility to infection and sleep disorder.</p><h3>Neurological Problems</h3><p>Carmen Scheibenbogen, the head of the outpatient clinic for adult immunodeficiencies at Berlin's Charit√© University Hospital, is one of the few German experts on chronic fatigue syndrome. Many people with COVID-19 are currently turning to the physician for answers about their odd symptoms.</p><p>But even she has to disappoint them for the time being. A reliable diagnosis can only be made six months after infection. "By then, there's a good chance that everything will calm down on its own," Scheibenbogen says. Only symptoms that last longer than six months are considered chronic. And even then, there are few options for treatment.</p><p>Scheibenbogen advises those affected to take good care of their bodies. "Overexerting oneself or doing sports that exacerbate symptoms should definitely be avoided. This can make things worse," she says.</p><p>In addition to chronic fatigue, COVID-19 patients can also suffer from a number of other neurological complications. "The neuroscience research community is slowly waking up to this," says Benedict Michael, a senior clinician scientist and neurologist at the Health Protection Research Unit and the University of Liverpool. He adds that 20 to 30 percent of patients who require hospitalization develop some neurological complication.</p><p>In late June, Michael and some colleagues published a study on the matter in the medical journal <em>The Lancet Psychiatry</em>. In it, they examined 125 patients who developed neurological problems as a result of COVID-19. Around 60 percent of participants, mainly older people, suffered a stroke after being infected. Close to a third of them showed signs of other cognitive or psychiatric changes, including many younger patients.</p><p>In all, 8 percent of the 125 people examined developed a psychosis in connection with their coronavirus infection. Just under 5 percent developed dementia. "Many young people are still living their lives in the pandemic and do not even think about the fact that there is a potential risk of developing problems for them too," warns Michael.</p><p>At least in some cases it's easy to explain what caused the brain damage. Strokes can occur because COVID-19 often causes blood to clot. It's also known that the SARS-CoV-2 virus can sometimes lead to encephalitis.</p><p>In many other cases, however, the cause of the complications is still unclear. "It is quite possible that this is an immune reaction," Michael says. For some, it could also be a result of stress or a lack of oxygen -- or everything altogether.</p><h3>Not the Only One</h3><p>For many patients, there's still hope that the neurological and psychiatric problems, as well as the other persistent complications like exhaustion, will diminish or eventually disappear.</p><p>The case of the general practitioner Stephanie de Giorgio from Kent in the UK is also cause for hope. The 44-year-old was likely infected by one of her patients. A mother of two, de Giorgio had no risk factors other than mild asthma and being a bit overweight could have been cause for concern. "Well, now it has got me, too," she thought. Fifteen days later, her fever subsided.</p>
</div>
<figure>
<div data-component="Image" data-settings="{&quot;id&quot;:&quot;9fc1d8ba-e746-4d41-b214-9bc6f8a30614&quot;, &quot;zoomable&quot;:true}">
<div>
<div>
<p><span>
<span data-image-el="aspect">
<span>
<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/9fc1d8ba-e746-4d41-b214-9bc6f8a30614_w685_r0.6517602283539486_fpx49.79_fpy66.32.jpg" srcset="https://cdn.prod.www.spiegel.de/images/9fc1d8ba-e746-4d41-b214-9bc6f8a30614_w488_r0.6517602283539486_fpx49.79_fpy66.32.jpg 488w, https://cdn.prod.www.spiegel.de/images/9fc1d8ba-e746-4d41-b214-9bc6f8a30614_w616_r0.6517602283539486_fpx49.79_fpy66.32.jpg 616w, https://cdn.prod.www.spiegel.de/images/9fc1d8ba-e746-4d41-b214-9bc6f8a30614_w685_r0.6517602283539486_fpx49.79_fpy66.32.jpg 718w," width="685" height="1051" sizes="685px" data-srcset="https://cdn.prod.www.spiegel.de/images/9fc1d8ba-e746-4d41-b214-9bc6f8a30614_w488_r0.6517602283539486_fpx49.79_fpy66.32.jpg 488w, https://cdn.prod.www.spiegel.de/images/9fc1d8ba-e746-4d41-b214-9bc6f8a30614_w616_r0.6517602283539486_fpx49.79_fpy66.32.jpg 616w, https://cdn.prod.www.spiegel.de/images/9fc1d8ba-e746-4d41-b214-9bc6f8a30614_w685_r0.6517602283539486_fpx49.79_fpy66.32.jpg 718w," title="The British general practitioner Stephanie de Giorgio" alt="The British general practitioner Stephanie de Giorgio">
</span>
</span>
</span>
</p><figcaption>
<p>The British general practitioner Stephanie de Giorgio</p>
<span>
Foto: Horst ‚Ä¶</span></figcaption></div></div></div></figure></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spiegel.de/international/world/covid-19-many-people-stay-sick-after-recovering-from-coronavirus-a-d814c20b-fb3d-47b1-bd2b-d6fd65e0ef33">https://www.spiegel.de/international/world/covid-19-many-people-stay-sick-after-recovering-from-coronavirus-a-d814c20b-fb3d-47b1-bd2b-d6fd65e0ef33</a></em></p>]]>
            </description>
            <link>https://www.spiegel.de/international/world/covid-19-many-people-stay-sick-after-recovering-from-coronavirus-a-d814c20b-fb3d-47b1-bd2b-d6fd65e0ef33</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766449</guid>
            <pubDate>Wed, 08 Jul 2020 02:49:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jupyter in the wet lab]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766420">thread link</a>) | @colinhb
<br/>
July 7, 2020 | https://www.ivynatal.com/blog/cpmm93or5adxobeetr4mkn2kl315h4 | <a href="https://web.archive.org/web/*/https://www.ivynatal.com/blog/cpmm93or5adxobeetr4mkn2kl315h4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-bcedcce2f0e613cfa45d"><div><p>As a new and small team, it's easy for us to experiment with different ways of working. We don't have a lot data or code locked away in legacy systems, and we don't have the inertia of established workflows.</p><p>One of our experiments in "how to work" has been surprisingly successful, and that is using <a href="https://jupyter.org/" target="_blank">Jupyter notebooks</a> in the wet lab.</p><p>We initially resisted the idea, even though we were already big fans of Jupyter. Instead, we tried to make purpose-built wet lab tools work for us, but we kept feeling like the problems they were solving were less important than the problems they <em>weren't</em> solving.</p><p>What finally pushed us over the edge was our experience developing a protocol to produce a protein from a new construct. In those kinds of situations, you usually have a basic framework for a protocol, but you need to work out the specifics in the lab ‚Äî which depend on whatever is "new" about what you're doing.</p><p>We think of those specifics, which include things like time, temperature, and concentration as well as more complicated biological variables, as parameters of an abstract protocol. However, our tools didn't allow us to express the problem this way, and every time we adjusted a "parameter" or some assumption of our protocol, we needed to manually rederive the protocol steps.</p><p>Translating this protocol into a Jupyter notebook allowed us express the protocol design and steps as functions of parameters, which more closely matched our conceptual model. This immediately solved our practical pain points, and it also made scaling up production trivial, since the protocol was paramterized over all inputs.</p><p>We've put together a notebook to illustrate some of the concepts behind our Jupyter workflows. You can play around with a live version using <a href="https://mybinder.org/v2/gl/ivynatal%2Fpublic-notebooks/master">Binder</a> or just view it using <a href="https://nbviewer.jupyter.org/urls/gitlab.com/ivynatal/public-notebooks/-/raw/master/jupyter-workflows-wet-lab.ipynb">nbviewer</a> . The source is in a <a href="https://gitlab.com/ivynatal/public-notebooks">GitLab repository</a>.</p><p>We've since transitioned all of our lab protocols and notebooks (and some of our analyses) to Jupyter notebooks, and we've discovered that our Jupyter-based workflows increase documentaiton, reduce data duplication, and ease analysis.</p><p>So far, we haven't had any trouble working with partners or collaborators, because a PDF of a well annotated notebook is as good or better than many alternatives.</p><p>We hope over time to share more details of our workflows because we think they could be useful to other labs. Of course, this approach won't be for everyone; it's technology that our team was already comfortable with, and our switching costs were low.</p><p>We'd love to hear what you think ‚Äî please <a href="https://www.ivynatal.com/contact" target="_blank">drop us a line</a>!</p><p>‚ÄîJeff and Colin</p></div></div></div>]]>
            </description>
            <link>https://www.ivynatal.com/blog/cpmm93or5adxobeetr4mkn2kl315h4</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766420</guid>
            <pubDate>Wed, 08 Jul 2020 02:44:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why ‚ÄúI don‚Äôt have time‚Äù is a lie]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 43 (<a href="https://news.ycombinator.com/item?id=23766342">thread link</a>) | @hackernewsreadr
<br/>
July 7, 2020 | https://blogofjake.com/2020/07/06/why-i-dont-have-time-is-a-lie/ | <a href="https://web.archive.org/web/*/https://blogofjake.com/2020/07/06/why-i-dont-have-time-is-a-lie/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Everyone has the same amount of time in a day, except for the day they are born and the day that they die. Those days are started late and ended early, respectively. Every other day is the same, 24 hours. </p>



<p>Most of what happens within our days are the results of choices, concious or otherwise. I may choose to sleep 8 hours while someone else chooses only to sleep 5. I am sure you have often heard people respond to something that they say they want to do with ‚ÄúI don‚Äôt have time‚Äù. ‚ÄúI know I should work out but I don‚Äôt have time ‚Ä¶ I wish I spent more time with my kids but I don‚Äôt have time ‚Ä¶ I love to read but I just don‚Äôt have time anymore.‚Äù These people are either lying to you, or more likely, they are lying to themselves. </p>



<p>Most of us feel we do not have time for things but in reality we do not have the relative desire for them. We may want them, but we do not want them as much as the other things we are doing with our time. If we did, we would do them instead. Importantly, I am not referring to a spoken want but an actual one. I can say I want six pack abs but if I am not willing to put in the physical work to get there I don‚Äôt really want that more than the other things I spend my time doing during my days.</p>



<p>Most of the time, most people don‚Äôt truly want hardly anything as much as they want to check Instagram or Twitter or email. Of course, these are not the things they want directly but a means towards getting them. A dopamine hit from an Instagram like, a bite size piece of information or entertainment from a Tweet, or a sense of purpose through a feeling that one is needed, good at their job, and therefore good at something because they are known to respond to their emails in less than 10 minutes no matter the hour or the day. I know these things from experience.</p>



<p>The fact is that when one truly wants something and wants it more than everything else competing for the time in their day, one will absolutely make the time for that thing. Time does not come out of thin air. It comes from the other things we occupy ourselves doing. Everything is a trade-off. We operate based on a descending list of the things we care about whether we know them are not. </p>



<p>To understand what a real want feels like, it is helpful to think about and experience the fundamentals. Years ago, I watched <a href="https://www.youtube.com/watch?v=GLcJHC9J7l4">an awesome motivational speech by a guy named Eric Thomas</a> where he tells his students they will be successful when they want it as badly as a person who is drowning wants to breathe (if you want to watch the first 3 minutes you will get the gist). Occasionally, I run several miles without a water bottle and I am reminded in the last couple of miles what it feels like to be truly thirsty, to want nothing but water. When you are sick, you usually want nothing but to feel better. When you are starving, all you want to do is eat. You will make time for what you want most. We can only do so much at a time and more distractions than ever are competing for our attention. This is why so many people feel there is not enough time in the day. </p>



<p>Next time you think about something you want to do or know you should do but ‚Äúdon‚Äôt have time‚Äù for, think again. You have the time, you just don‚Äôt care enough. In many cases, you will be content with that realization. In others, you will want to change it. Fortunately, you can. It is not about time. It is about you.</p>
	</div></div>]]>
            </description>
            <link>https://blogofjake.com/2020/07/06/why-i-dont-have-time-is-a-lie/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766342</guid>
            <pubDate>Wed, 08 Jul 2020 02:26:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software Wars Free Download]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766331">thread link</a>) | @keithcu2
<br/>
July 7, 2020 | https://video.detroitquaranteam.com/videos/watch/07696431-2f2d-4926-a429-29ac9c7d22b1 | <a href="https://web.archive.org/web/*/https://video.detroitquaranteam.com/videos/watch/07696431-2f2d-4926-a429-29ac9c7d22b1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://video.detroitquaranteam.com/videos/watch/07696431-2f2d-4926-a429-29ac9c7d22b1</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766331</guid>
            <pubDate>Wed, 08 Jul 2020 02:23:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Event-Streaming: An Additional Architectural Style to Supplement API Design]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766319">thread link</a>) | @mooreds
<br/>
July 7, 2020 | https://www.asyncapi.com/blog/event-streaming-an-additional-architectural-style-to-suplement-api-design/ | <a href="https://web.archive.org/web/*/https://www.asyncapi.com/blog/event-streaming-an-additional-architectural-style-to-suplement-api-design/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<blockquote>
<p>This post originally appeared on <a href="https://medium.com/capital-one-tech/event-streaming-an-additional-architectural-style-to-supplement-api-design-703c4f801722" target="_blank">Capital One Tech</a></p>
</blockquote>

<p>The growth and adoption of web-based APIs is key to the transformational technology journey of any enterprise. Those APIs, whether they are RESTful or not, remain synchronous. They, like the web, utilize the pattern of HTTP to implement a request-response interaction approach.</p>

<p>To illustrate, assume we have a project management API with the following interactions:</p>

<ol>
<li>Create a project (e.g. POST /projects)</li>
<li>Create a new task (e.g. POST /projects/{projectId}/tasks)</li>
<li>Assign the task to someone on our team (e.g. POST /tasks/{taskId}/assignees)</li>
<li>The assignee marks the task as complete (e.g. PUT /tasks/{taskId})</li>
</ol>

<p>An API following this design works if design of the user interface closely mirrors those endpoints. But suppose an additional application requirement is to ‚Äòautomatically‚Äô update a task‚Äôs status when marked complete by another user. With a request/response web-API, an option is to incessantly poll a status API on the chance a status might have changed. This is both cumbersome and error-prone.
Instead of polling, we can introduce an <strong>event-driven architecture</strong>.</p>

<h2 id="introduction-to-event-driven-architecture">Introduction to Event-Driven Architecture<a href="#introduction-to-event-driven-architecture" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>In an event-driven architecture (or EDA), an application is composed of independent components that react to events published by other components. EDA is popular for distributed applications, as new components may be introduced into a solution to solve emerging problems ‚Äî without the knowledge of previously developed components. Message brokers are used as an intermediary for communication, producing a loosely coupled design by preventing components from directly communicating with one another.</p>

<p>If you are familiar with service-oriented architecture (SOA), you have experienced EDA. Most service-oriented architectures used an enterprise service bus (ESB) for service communication rather than a message broker. Events were published to the ESB, where they were then routed to other services to integrate two or more software systems. However, ESBs proved problematic as they were used as ‚Äúintegration glue‚Äù, causing integration code to become scattered across services, apps, and the ESB; fragile systems were created. This fragility produced a greater need for coordination between teams, slowing software delivery.</p>

<h2 id="the-emergence-of-a-microservice-and-event-driven-architecture">The Emergence of a Microservice and Event-Driven Architecture<a href="#the-emergence-of-a-microservice-and-event-driven-architecture" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>To overcome this increased coordination, the microservice architecture was introduced as a replacement for traditional SOA. This newer distributed architecture, built on APIs and microservices, encourages ‚Äúdumb pipes, smart endpoints.‚Äù Integration logic is pushed to the consumers and producers. Message brokers, rather than ESBs, are used for message routing, not integration logic. Services and APIs talk to one another while hiding implementation details. This loose coupling makes software more resilient to evolution as new requirements emerge.</p>

<p>As enterprises shift to APIs backed by a microservice architecture, the number of published events has grown considerably. Message brokers are typically transactional in nature, ensuring once-and-only-once delivery of messages. While useful for traditional software development, the transactional nature of message brokers limits the scalability of service communication.</p>

<p>Distributed streaming data platforms, such as Apache Kafka, now offer enterprises higher throughput than traditional message brokers. Kafka removes the need for transactional messaging found in message brokers, opting instead for turning events into message streams. These streams are accessible by any authorized subscriber and may be accessed real-time or processed sequentially from a predetermined location or at the start of the stream.</p>

<h2 id="api-design-with-event-streaming">API Design with Event Streaming<a href="#api-design-with-event-streaming" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>Event streams help software extend beyond the request-response approach common to web API styles such as REST, GraphQL, and gRPC. Software can communicate bi-directionally, removing the need for API consumers to continually poll for state changes. Instead, APIs publish events to an event stream for notification of data changes or important business events to any number of subscribed services for further processing.</p>

<p>Let‚Äôs revisit our previous example. We needed to solve two separate requirements:</p>

<ol>
<li>Notification when a task is marked as completed. Our only option without a message-driven architecture is to require interested parties to constantly make API calls to see if the task has been completed (aka polling)</li>
<li>Alerting a project owner when a task has been modified or marked as completed. Our only option is to mix our user interface concerns with our API by making the API send an email. The API is no longer responsible for managing projects and tasks ‚Äî it is now responsible for the content and look-and-feel for email alerts</li>
</ol>

<p>If we introduce a message-driven architecture to our solution, we can develop an API that delivers project and task resources that offer the necessary capabilities (create, read, update, delete, and mark as complete). Our API doesn‚Äôt need to know about how the task completion event notification will be used, including that an email will be sent. All it needs to do is publish event messages when those events occur and allow other services to take action as appropriate. Events this API may publish include:</p>

<p><img src="https://www.asyncapi.com/images/posts/event-streaming-an-additional-architectural-style-to-suplement-api-design/event-examples.webp" alt="Example of API events" title="Example of API events"></p>

<p>Interested parties can then subscribe to the event(s) they are interested in and safely ignore the rest. In our example, we may end up with three components:</p>

<ol>
<li><strong>Projects API</strong> ‚Äî Manages the Projects and Project Tasks resources via a REST-based API. The API may be comprised of one or more microservices that implement the capabilities offered by the REST API. When any event, from the list in the table above, occurs then the API publishes an event into the appropriate message stream for consumption by event subscribers</li>
<li><strong>Task Completed Email Microservice</strong> ‚Äî Subscribes to the Task.Completed event, notifying project manager(s) via email when any task has been marked as completed</li>
<li><strong>Task Modified Email Microservice</strong> ‚Äî Subscribes to the Task.Updated event, notifying all team members via email when any task has been edited</li>
</ol>

<p>The API has no awareness of the two microservices subscribed to the specific events; it just publishes the events to the appropriate message stream. The solution is considered loosely coupled and therefore capable of evolving over time as new requirements emerge, perhaps with new types of notifications (e.g. SMS, web dashboard alerts) or integrations (e.g. synching to JIRA).</p>

<h2 id="conclusion">Conclusion<a href="#conclusion" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>The demand for more robust methods of software communication is pushing the limits of today‚Äôs interface solutions. Request/response-based APIs are essential. However, today‚Äôs technical problems are now demanding event-driven support ‚Äî in addition to request/response ‚Äî to improve an API‚Äôs capability offerings.</p>

<p>As API designers, we must strive to use all available tools to offer a better developer experience. As you enhance your existing APIs and new APIs emerge, ask yourself:</p>

<ol>
<li>How can my solution architecture be improved by moving beyond standard REST APIs and into a loosely-coupled event-driven architecture?</li>
<li>What events should my API publish that would benefit API consumers?</li>
<li>How will my API consumers benefit from the addition of these events and how do they take advantage of them?</li>
</ol>

<p>Let‚Äôs shift our approach from strictly request-response to thinking in terms of how our APIs can not only offer endpoints for requests, but events that enable the API to push to other services. The result will be increased innovation and more transformative APIs both within and across our LOBs.</p>
</div></div>]]>
            </description>
            <link>https://www.asyncapi.com/blog/event-streaming-an-additional-architectural-style-to-suplement-api-design/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766319</guid>
            <pubDate>Wed, 08 Jul 2020 02:20:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The true cost of ‚Äúfree‚Äù YouTube (2019)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766285">thread link</a>) | @nathanyz
<br/>
July 7, 2020 | https://buzz.swarmify.com/true-cost-of-youtube-video-player/ | <a href="https://web.archive.org/web/*/https://buzz.swarmify.com/true-cost-of-youtube-video-player/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <p>When running your business, you engage with the services of many different suppliers. This can range from your power company to your web hosting service. In all of these arrangements, your business is buying a specific service at an agreed upon price.</p><p>For example, when you pay a web hosting provider, they are managing your server, your website content management system <em>(like WordPress)</em>, backups, availability, and security. This simplifies all of that for your business and the monthly fee you pay them is a fair exchange of value for the services they provide.</p><p>Now let's look at YouTube. Everyone knows the power of embedding marketing videos on their website. YouTube greatly simplifies this, allowing you to easily add videos to help build your business. In return for this life-bettering service, you pay YouTube‚Ä¶ <strong>nothing (?)</strong>. </p><!--kg-card-begin: markdown--><p><mark>Sounds like a great deal, except when you think about it, would <em>your</em> business provide its service for free?</mark></p>
<!--kg-card-end: markdown--><p>Most businesses are built to, ultimately, exchange risk and hard work <em>(what it takes to build a business)</em> for financial return. While it might be nice to give away services for free, most business owners can‚Äôt afford to do so and keep the doors open due to all the costs associated with keeping those doors open.</p><p>So when YouTube offers their service to you for free, it doesn't mean they aren't looking to do the same things with their business as you are doing with yours. It just means that <strong>you aren't the customer</strong>.</p><p>So who <em>is</em> the customer? <em>Someone </em>must be paying YouTube for the service that they provide. We know it's not you the business owner embedding videos using their player on your website. Who is paying their bills?</p><p>Here's the answer: <strong>YouTube's customers are the advertisers</strong> who pay for access to the large audience and detailed targeting data that YouTube provides them. This is similar to the way advertisers pay for the ability to show commercials on television networks, or banners on media websites. These advertisers are the <em>real </em>customers, therefore, YouTube's business model is optimized to solve for the problems and needs of these paying customers.</p><p>So what does this mean for you, the web guy or small business owner that embeds videos using YouTube on your website? It means that YouTube is offering that free service to you in order to serve their actual customer the advertisers. Let's go through a couple of the ways that YouTube ends up benefiting from your video embed that you may not have thought about.</p><h3 id="showing-ads-">Showing Ads üëÄ</h3><p>The simplest, most direct way is that each video embed is a source of your customer/leads‚Äô eyeballs that YouTube can now show ads to. This is in the form of inserting video commercials into your content, banner overlays on top of the video, and suggesting other videos after the user watches your video. </p><p>These are all fairly obvious and they <em>do </em>offer switches to turn some of this off during the embed process. However, the difficulty lies in keeping up with this as <strong>YouTube continually adds new ways to monetize these free video views on your website</strong>. So while you may believe you have ads on your videos turned off <em>today</em>, when YouTube introduces a new banner format, icon, or related videos format <em>tomorrow</em>, you‚Äôll need to figure out how to turn them off all over again. You must continually stay on top of these changes and keep adjusting your embeds, otherwise, what you thought would be a clean video promoting your business ends up showcasing ads for other products. Or worse... ads for <strong>your competitors</strong>.</p><!--kg-card-begin: html--><p>At Swarmify, our mission is to bring an accelerated, distraction-free video experience to websites of all sizes. Whether you‚Äôre a  <a href="https://swarmify.com/pricing/"><strong>website owner</strong></a>, <a href="https://swarmify.com/agencies/"><strong>an agency</strong></a>, or you just want to get in on <a href="https://swarmify.com/affiliate-program/"><strong>our affiliate program</strong></a>, we have a plan for you!</p><!--kg-card-end: html--><h3 id="user-siphoning">User Siphoning</h3><!--kg-card-begin: markdown--><p>This is a much more subtle cost but one that can have an incredible impact on your business. If you have ever watched a video on YouTube, you‚Äôve most definitely seen related videos appear at the end of the video you watched. These related videos are personalized to each user‚Äôs behavior and fine-tuned with the strength of a million Google AI servers to pull them into watching more content. <mark>To be blunt, this is weaponized AI</mark> being used to maximize YouTube's chances of convincing a user on your website who watched your video, to watch additional videos chosen by YouTube. And with each of these videos watched, YouTube is able to serve more ads and make more revenue. That's the payoff on their end. Get your customers/leads to watch more YouTube videos and show them more ads.</p>
<!--kg-card-end: markdown--><figure><img src="https://buzz.swarmify.com/content/images/2019/05/xtraffic_funnel-1.png.pagespeed.ic.x-xBpQW1fh.png" alt="YouTube costs you customers"></figure><!--kg-card-begin: markdown--><p>In addition to related videos, there's the not-so-subtle YouTube logo shown overtop your video. This means you are contributing to the company‚Äôs branding with every single watch of content on your website. By the time a user finishes watching one of your videos, it can be hard to tell who gets more benefit; your business or YouTube with all of the branding they throw on top.</p>
<!--kg-card-end: markdown--><h3 id="secret-weapon-detailed-targeting-">Secret Weapon: Detailed Targeting üéØ</h3><p>As discussed above, part of what YouTube is selling are the eyeballs to watch advertiser videos. But what becomes just as important for advertisers is the ability to target ideal potential customers. <strong>Showing ads for dog food to people without pets would be a huge waste of money</strong>. So YouTube needs to be able to deliver as much detail as possible on the motivations, demographics, and current needs each user has in order to better target ads for their advertisers.</p><p>The latest in AI-powered targeting is called <em>"in-market targeting"</em>. It uses AI to attempt to determine which users are likely to be ready to purchase some category of goods or services. This makes sense as we are all in-market for various goods or services at a given time. We might be tired of fixing our old car and so we are ready to start looking for a new one, but it might also be lunchtime and we are hungry and trying to figure out what food to get delivered. We are constantly <em>"in-market"</em> for purchases both large and small. Allowing an advertiser to show us their ad for a healthy and convenient chicken sandwich when we are ready to head out for lunch can be <em>devastatingly effective</em> at driving our behavior. Whereas showing us that same ad late in the evening when we are about ready to go to sleep would be almost useless.</p><p>Great. So <em>"in-market targeting"</em> is the greatest thing since sliced bread for YouTube's advertisers. How does this matter to your website where you simply embed a video showing off your beautiful dental office and smiling, friendly staff? Maybe it‚Äôs hit you how this ties together. <strong>YouTube is tracking the audience that views your website and feeding that into AI servers</strong> to determine what each user is in-market for. What that means, using the example of the dentist, is YouTube now knows these users are in the market for dental services. It learned that because they came to your dental website and watched your office promo video.</p><!--kg-card-begin: markdown--><p>Now the value for advertisers kicks in. Those users will start seeing ads for other dental offices nearby as you have just clued YouTube (Google) into very valuable potential leads for your competitors. Every dentist using Google or YouTube ads can now start showing banner and video ads around the web talking about why they should choose their office over yours. <mark>By embedding a simple video on your website, you have just given all of your competitors access to your hard-earned leads</mark> who were highly likely to buy from you since they were already on your website. But now, they start researching or second guessing as they suddenly see ads for other options at every turn. All of us have been the victim of viewing a certain product and then, suddenly, every ad across the Internet seems consumed with selling variations or alternatives to that product. Now you know how it works. Its all enabled by an unassuming, <em>‚Äúfree‚Äù</em> video player.</p>
<!--kg-card-end: markdown--><h3 id="other-options">Other Options</h3><p>At least now you know the <em>actual </em>cost of that video player. Part of the reason YouTube seems like such a great bargain for you is because of the imbalance in understanding the amount of value they get every time a business like yours uses their player. If you are fine trading off some of your leads and customers in return for the free price, then YouTube may work for you.</p><p>On the other hand, if the cost of leads and customers being siphoned away seems too high, then there are other options. Just like your web hosting and other services, there are providers that will give you simple tools to embed videos just as easily as YouTube. You pay a small monthly fee in exchange for a video player that is focused on delivering your video to your customers and keeping those high value leads on your website where they belong. Matching your site‚Äôs look, feel, and color scheme, with no obnoxious logos or branding to distract from your message.</p><p>We provide unlimited video hosting at <a href="https://swarmify.com/">Swarmify</a>, but there are many other providers depending on your needs.</p><!--kg-card-begin: markdown--><p><a href="https://swarmify.com/pricing/#pricing-table"><img src="https://buzz.swarmify.com/content/images/2020/06/xbottom-cta.png.pagespeed.ic.l6DzEnm0ti.png" alt="Try SmartVideo today!"></a></p>
<!--kg-card-end: markdown-->
            </section></div>]]>
            </description>
            <link>https://buzz.swarmify.com/true-cost-of-youtube-video-player/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766285</guid>
            <pubDate>Wed, 08 Jul 2020 02:13:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[macOS vs. Windows ‚Äì What kernels tell you about security events]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23765929">thread link</a>) | @soheilpro
<br/>
July 7, 2020 | https://www.elastic.co/blog/macos-windows-what-kernels-tell-you-about-security-events-part-1 | <a href="https://web.archive.org/web/*/https://www.elastic.co/blog/macos-windows-what-kernels-tell-you-about-security-events-part-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><p>How would you compare the Windows and macOS operating systems? In what ways are they similar? Why do they each take different approaches to solving the same problem? For the last 19&nbsp;years I've developed security software for Windows. Recently, I‚Äôve started implementing similar features on macOS. Since then, people have asked me questions like this. The more experience I gained on these two operating systems, the more I realized they‚Äôre very different. Even when the problems they set out to solve are common, their paths differ. In this two-part series, I will focus on the operating system events supported by Windows and macOS, and explain each operating system's approach.
</p><h2>Overview</h2><p>In Part 1, we‚Äôll discuss process events.&nbsp;In Part 2, we‚Äôll discuss file and network events. These events&nbsp;are crucial for endpoint security analysis. Through multiple perspectives in this post, I hope to:
</p><ul><li>Help you better understand the general differences between macOS and Windows on the system level
	</li><li>Help those who want to expand their experiences onto another platform be better prepared and adapted to differences that might seem to be shocking from their past experiences
	</li><li>Help cybersecurity professionals enrich their toolsets for creating innovative security products</li></ul><p>This post is based on some of my own experiences.&nbsp;It does not intend to be an exhaustive list.
</p> <p><strong><h3>Open vs. closed</h3></strong></p><p>Microsoft Windows has traditionally been open. It runs on hardware from different vendors and allows third-party developers to write applications on top of it. macOS is part of Apple‚Äôs end-to-end integrated ecosystem, which is quite the opposite of being ‚Äúopen.‚Äù This article does not try to take sides on the decades-long ‚Äúopen vs. closed‚Äù debate. Apart from end-to-end user experience, developers and researchers usually care about other things.&nbsp;
</p><p>The abundance of APIs and documents provided by Windows really enabled developers to do virtually anything in the cyber world. While on the macOS side, the beauty of simplicity reminds people that Apple takes lots of things as their own responsibility instead of sharing them with third-party developers. If you find something from Apple difficult to use, it‚Äôs perhaps because you‚Äôre looking at something&nbsp;Apple feels is their own backyard.&nbsp;Take&nbsp;<a href="https://knight.sc/debugging/2018/08/15/macos-kernel-debugging.html">kernel mode debugging</a> or <a href="http://mirror.informatimago.com/next/developer.apple.com/technotes/tn2004/tn2118.html">kernel core dumps</a>&nbsp;as examples. On the upside though, macOS developers can indulge themselves in the open source&nbsp;<a href="https://github.com/apple/darwin-xnu">Darwin kernel</a>, whereas Windows‚Äô kernel is closed source&nbsp;and yet Windows developers feel spoiled with an abundance of <a href="https://docs.microsoft.com/en-us/">documentation</a>.
</p> <p><strong><h3>Microkernel vs. monolithic kernel</h3></strong></p><p><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt0a39b4008faf9cb9/5eea6e7d18cea32a006fba82/macos-windows-kernels-blog-monolothic-kernel-vs-microkernel.png" data-sys-asset-uid="blt0a39b4008faf9cb9" alt=""></p><figcaption>Figure 1: <a href="https://en.wikipedia.org/wiki/Microkernel">Structure of monolithic and microkernel-based operating systems</a></figcaption><p>Modern macOS and Microsoft Windows both have hybrid kernels, which are neither a pure microkernel, nor monolithic. However, one cannot infer that the two kernels are similarly architectured based on the same kernel type ‚Äî they actually came from different places.
</p><p>Microsoft Windows, in the Windows 9x days, used a <a href="https://en.wikipedia.org/wiki/Monolithic_kernel">monolithic</a> kernel. macOS <a href="https://en.wikipedia.org/wiki/XNU">XNU</a> consists of several core building blocks, one of which came from the <a href="https://en.wikipedia.org/wiki/Mach_(kernel)">Mach kernel</a> that carries the genes of a <a href="https://en.wikipedia.org/wiki/Microkernel">microkernel</a>. Even though both operating systems have evolved into today‚Äôs ‚Äúhybrid‚Äù form, their early influences still manifest and affect developers‚Äô daily lives. For example, Apple announced in WWDC 2019 it‚Äôs going to <a href="https://developer.apple.com/videos/play/wwdc2019/702/">deprecate kernel extensions (kext) support</a> for third-party developers starting with macOS 10.16. This means they are kicking third-party developers out of the kernel. For some, this may seem shocking. However, thinking from a microkernel point of view, this change sounds just like a logical next step.
</p><p>Over the years, Microsoft created a new <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/wdf/">Windows Driver Framework</a>. It also moved lots of traditional kernel mode driver support into user mode, encouraging people to implement <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/wdf/getting-started-with-umdf-version-2">drivers in user mode</a>. However, caveats exist. For example, in <a href="https://docs.microsoft.com/en-us/windows/win32/fwp/windows-filtering-platform-start-page">Windows Filtering Platform</a>, even though most of the functionalities can be done in user mode, some of the <a href="https://stackoverflow.com/questions/23533627/is-it-possible-to-implement-user-mode-callouts-in-wfp-windows-filtering-platfor">crucial functionalities</a> still have to be done in the kernel.&nbsp;
</p> <p><strong><h3>Backward compatibility vs. complete rewrite</h3></strong></p><p>Some people have doubts about Apple's WWDC 2019 kext deprecation announcement, as it means that backward compatibility is broken for any third-party software that includes kexts. People will have to rewrite things in user mode from scratch. It‚Äôs understandable that some may want Apple to delay or cancel the deprecation. Regardless, deprecation is&nbsp;happening as <a href="https://developer.apple.com/news/?id=g28d5j9l">planned</a>. Because it is a closed ecosystem and Apple retains end-to-end control, backward compatibility is never on its menu and deprecation has been a consistent part of macOS releases. Check out the ‚ÄúDeprecation‚Äù sections in a few of the past release notes: <a href="https://developer.apple.com/documentation/macos_release_notes/macos_mojave_10_14_release_notes?language=objc">Mojave</a>, <a href="https://developer.apple.com/documentation/macos_release_notes/macos_catalina_10_15_release_notes?language=objc">Catalina</a>, and the coming release of <a href="https://developer.apple.com/documentation/macos-release-notes/macos-big-sur-11-beta-release-notes">Big Sur</a>.
</p><p>This means, as a macOS developer, you may frequently find yourself rewriting everything from scratch ‚Äî even if your software is well-architected and implemented. Windows, on the other hand, has been keeping its promise of backward compatibility. You may find applications created for <a href="https://en.wikipedia.org/wiki/Windows_3.1x">Windows 3.1</a> still run on the latest Windows 10. Microsoft does occasionally attempt to deprecate things. For example, it has been trying to deprecate support for <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ifs/about-file-system-legacy-filter-drivers">legacy file system drivers</a> ever since the introduction of its replacement ‚Äî&nbsp; <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ifs/filter-manager-concepts">file system minifilter</a> ‚Äî in <a href="https://en.wikipedia.org/wiki/Windows_XP">Windows XP SP2</a> on August 25, 2004. But, as of today, it‚Äôs still unable to do so. However, this doesn‚Äôt mean legacy file system drivers remain a viable choice for third-party developers.
</p> <p><strong><h2>Process events</h2></strong></p><p>Windows and macOS organize process events very differently. Windows provides a single kernel callback, set by <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddk/nf-ntddk-pssetcreateprocessnotifyroutine">PsSetCreateProcessNotifyRoutine</a>/<a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddk/nf-ntddk-pssetcreateprocessnotifyroutineex">Ex</a>, to trace all process creations and terminations. macOS process events are mainly retrieved from two sources:
</p><ul><li>An executable file‚Äôs <a href="https://man.openbsd.org/vnode.9">vnode</a> operations
	</li><li><a href="https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/vfork.2.html"><em>fork()</em></a> system call activities</li></ul> <p><strong><h3>Windows</h3></strong></p><p><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddk/nf-ntddk-pssetcreateprocessnotifyroutineex">PsSetCreateProcessNotifyRoutineEx</a> allows developers to register a callback with Windows. Later on when a process is created or exits, Windows will notify the caller by invoking the callback. The callback can be used for both prevention and notification. The parameters passed to the callback contain a rich set of information useful for process events, shown in the following figure:
</p><p><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt45abfe2a9f2dc473/5eea6ea834f8f30c7cfb289a/macos-windows-kernels-blog-process-events.png" data-sys-asset-uid="blt45abfe2a9f2dc473" alt=""></p><figcaption>Figure 2: Screenshot of a debug session that shows PsSetCreateProcessNotifyRoutineEx parameters
</figcaption><p>To learn how to use <strong><em>PsSetCreateProcessNotifyRoutineEx</em></strong>, take a look at Microsoft‚Äôs <a href="https://github.com/microsoft/Windows-driver-samples/tree/master/general/obcallback">ObCallback&nbsp; Registration Driver</a> sample code.&nbsp;<br></p><p>It‚Äôs also worth mentioning the <a href="http://www.tldp.org/LDP/LG/issue23/flower/context.html">context of a process</a>. On Windows, when the callback registered by <strong><em>PsSetCreateProcessNotifyRoutineEx</em></strong> is invoked, it‚Äôs in the context of the creating process for process creations. For process terminations, it‚Äôs in the context of the terminating process (see the <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddk/nf-ntddk-pssetcreateprocessnotifyroutineex">document</a>). Inside the Windows kernel, most of the time you can find out the actor process by simply calling <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddk/nf-ntddk-psgetcurrentprocessid">PsGetCurrentProcessId</a>, because the kernel service usually shares context with the actor process. However, in the macOS kernel (for <a href="http://mirror.informatimago.com/next/developer.apple.com/technotes/tn2005/tn2127.html#SECLISTENERGOTCHAS">reasons</a>), developers are advised to avoid calling <a href="https://developer.apple.com/documentation/kernel/1488975-proc_self?language=objc">proc_self</a> in the kernel to find out the actor process. This is easier to understand from a microkernel‚Äôs point of view, because most of the system services are delegated to other processes on a microkernel system. Particularly, when <a href="https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KernelProgramming/Extend/Extend.html">kernel extensions</a> are replaced by <a href="https://developer.apple.com/system-extensions/">system extensions</a> (which runs in user mode) in macOS 10.16, the same advice should be strictly followed.
</p> <p><strong><h3>macOS</h3></strong> <strong><h4>Kauth/MACF</h4></strong></p><p><a href="http://mirror.informatimago.com/next/developer.apple.com/technotes/tn2005/tn2127.html">Kauth</a> is a Kernel Programming Interface (KPI) provided by macOS to allow third parties ‚Äî primarily security software developers ‚Äî to intercept select operations.<sup>1</sup> As the definition suggests, it can only be used in kernel mode. There‚Äôs another KPI, called <a href="https://www.freebsd.org/doc/handbook/mac.html">Mandatory Access Control Framework</a> (MACF), which is way more powerful than Kauth, but it‚Äôs Apple‚Äôs private KPI and not ‚Äúopen‚Äù for third-party developers. With the kext deprecation announcement, both Kauth and MACF won‚Äôt be available for third-party developers, starting with macOS 10.16. I briefly describe Kauth here to present a continuity view for you to get an idea of macOS's evolution:
</p><p>Kauth defines ‚Äúscopes,‚Äù&nbsp;which Apple describes as ‚Äúareas of interest‚Äù for authorization within the kernel.<sup>1</sup> A couple scopes in Kauth provide means for third-party software to get notified when a process is launched.
</p><ul><li><a href="http://mirror.informatimago.com/next/developer.apple.com/technotes/tn2005/tn2127.html#SECVNODESCOPE">Vnode scope</a>&nbsp;- Vnode scope is capable of preventing a process from being launched. By calling KPI <em>kauth_listen_scope(KAUTH_SCOPE_VNODE,...)</em>, a developer can register a vnode scope listener callback. When an operation on a vnode is about to happen, macOS will invoke the callback. The callback can then block or allow the operation. Vnode operations are not limited to executions. There are other types of vnode operations as well, such as open/close/read/write/etc. By checking <em>KAUTH_VNODE_EXECUTE</em> flag against the vnode operation (<em>action</em>), we know a file is executed ‚Äî which roughly translates to ‚Äúa process is launched‚Äù in Windows language.</li></ul><ul><li><a href="http://mirror.informatimago.com/next/developer.apple.com/technotes/tn2005/tn2127.html#SECFILEOPSCOPE">File operation scope</a>&nbsp;- Similar to vnode, file operation scope is able to report operations on a file. The <em>KAUTH_FILEOP_EXEC</em> flag in the <em>action</em> parameter indicates that a file is being executed. However, file operation scope works only in listening mode. It can not be used to prevent a file from being executed inline.</li></ul> <p><strong><h4>Endpoint Security system extensions</h4></strong></p><p>macOS <a href="https://developer.apple.com/documentation/endpointsecurity">Endpoint Security</a> (ES) is a kind of System Extension which runs in user mode, and it‚Äôs the <a href="https://developer.apple.com/videos/play/wwdc2019/702/">replacement</a> for Kauth. In the new ES framework, event types are better organized in one enum definition 
	<strong><em><a href="#es_event_type_t">es_event_type_t</a></em></strong> defined in XCode‚Äôs SDK header file:
</p><p>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/EndpointSecurity/ESTypes.h
</p><p>You can see that process events are just a subset of ES events (more discussion about ES events can be found in the next File Events section). The few types of ES events pertaining to process events are:&nbsp;
</p><ul> <em><li><em>ES_EVENT_TYPE_AUTH_EXEC</em></li></em> <em><li><em>ES_EVENT_TYPE_NOTIFY_EXEC</em></li></em> <em><li><em>ES_EVENT_TYPE_NOTIFY_FORK</em></li></em> <em><li><em>ES_EVENT_TYPE_NOTIFY_EXIT</em></li></em></ul><p>Note that if you find ‚Äú<strong><em>AUTH</em></strong>‚Äù in the event ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.elastic.co/blog/macos-windows-what-kernels-tell-you-about-security-events-part-1">https://www.elastic.co/blog/macos-windows-what-kernels-tell-you-about-security-events-part-1</a></em></p>]]>
            </description>
            <link>https://www.elastic.co/blog/macos-windows-what-kernels-tell-you-about-security-events-part-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-23765929</guid>
            <pubDate>Wed, 08 Jul 2020 00:54:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to become a Bayesian (2016)]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23765580">thread link</a>) | @noch
<br/>
July 7, 2020 | https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/ | <a href="https://web.archive.org/web/*/https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
			
		<div>
		<main id="main" role="main">

					<div>
				
<article id="post-2255">
	<!-- .entry-header -->

	<div>
		<h3>How to become a Bayesian in eight easy steps: An annotated reading list</h3>
<p><em>(TLDR: We wrote an annotated reading list to get you started in learning Bayesian statistics. <span><a href="https://link.springer.com/article/10.3758%2Fs13423-017-1317-5" target="_blank" rel="noopener">Published version</a></span>. <span><a href="https://www.researchgate.net/publication/301981861_How_to_become_a_Bayesian_in_eight_easy_steps_An_annotated_reading_list" target="_blank" rel="noopener">Researchgate</a>. <a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">PsyArxiv</a></span>.)</em></p>
<p>It can be hard to know where to start when you want to learn about&nbsp;Bayesian statistics.&nbsp;I am frequently asked&nbsp;to share&nbsp;my favorite&nbsp;introductory resources to Bayesian statistics, and my go-to answer has been to share a dropbox folder with a bunch of PDFs that aren‚Äôt really sorted or cohesive. In some sense&nbsp;I was acting as&nbsp;little&nbsp;more than a glorified Google Scholar search bar.</p>
<p>It seems like there is&nbsp;some&nbsp;tension out there with regard to Bayes, in that many people want to know more about it, but when they pick up, say, Andrew Gelman and colleagues‚Äô&nbsp;<em>Bayesian Data Analysis</em> they get totally overwhelmed. And then they just think, ‚ÄúScrew this esoteric B.S.‚Äù and give up because it doesn‚Äôt seem like it is worth their time or effort.</p>
<p>I think this&nbsp;happens a lot. Introductory Bayesian texts usually assume a level of training in mathematical statistics that most researchers simply don‚Äôt have time (or otherwise don‚Äôt need) to learn. There are actually&nbsp;a lot of accessible Bayesian resources&nbsp;out there that don‚Äôt require much math stat background at all, but it just so happens&nbsp;that they are not consolidated anywhere so people don‚Äôt necessarily know about them.</p>
<h3>Enter the eight step program</h3>
<p>Beth Baribault, Peter Edelsbrunner (<span><a href="https://twitter.com/peter1328" target="_blank" rel="noopener">@peter1328</a></span>), Fabian Dablander (<span><a href="https://twitter.com/fdabl" target="_blank" rel="noopener">@fdabl</a></span>), Quentin Gronau, and I have just finished <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">a&nbsp;new paper</a></span> that tries to&nbsp;remedy this situation, titled, ‚ÄúHow to become a Bayesian in eight easy steps: An annotated reading list.‚Äù We were invited to submit this paper for a special issue on Bayesian statistics for&nbsp;<em>Psychonomic Bulletin and Review</em>.&nbsp;Each paper in the special issue addresses a specific question we often hear about Bayesian statistics, and ours was the following:</p>
<blockquote><p>I am a reviewer/editor handling a manuscript that uses Bayesian methods; which articles should I read to get a quick idea of what that means?</p></blockquote>
<p>So <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span>‚Äòs goal is not so much to teach readers how to actually&nbsp;<em>perform</em> Bayesian data analysis ‚Äî there are other papers in the special issue for that ‚Äî but to facilitate readers in their quest to understand basic Bayesian concepts. We think it will&nbsp;serve as a nice introductory reading list for any interested researcher.</p>
<p>The format of <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span> is straightforward. We highlight&nbsp;eight papers that had a big impact on our own understanding of Bayesian statistics, as well as short descriptions of an additional 28 resources in the&nbsp;<em>Further reading </em>appendix. The first four papers&nbsp;are focused on theoretical introductions, and the second four&nbsp;have a&nbsp;slightly more applied focus.</p>
<p>We also give every resource&nbsp;a ranking from 1‚Äì9 on two dimensions: Focus (theoretical vs. applied) and Difficulty (easy vs. hard). We tried to provide a wide range of resources, from easy&nbsp;applications (#14: Wagenmakers, Lee, and Morey‚Äôs ‚ÄúBayesian benefits for the pragmatic researcher‚Äù) to challenging&nbsp;theoretical discussions (#12: Edwards, Lindman and Savage‚Äôs ‚ÄúBayesian statistical inference for psychological research‚Äù) and others&nbsp;in between.</p>
<p>The figure below (Figure A1, available on the last page of <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span>) summarizes our rankings:</p>
<p><img data-attachment-id="2338" data-permalink="https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/readinglist/#main" data-orig-file="https://nicebrain.files.wordpress.com/2016/02/readinglist.png" data-orig-size="1100,1000" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Readinglist" data-image-description="" data-medium-file="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=300" data-large-file="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=700" src="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=700" alt="Readinglist.png" srcset="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=700 700w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=150 150w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=300 300w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=768 768w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=1024 1024w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png 1100w" sizes="(max-width: 700px) 100vw, 700px"></p>
<p>The emboldened numbers (1‚Äì8) are the papers that we‚Äôve commented on&nbsp;in detail, numbers in light text (9‚Äì30) are papers we briefly describe in the appendix, and the italicized numbers (31‚Äì36) are our recommended introductory books (also listed in the appendix).</p>
<p>This is how we chose to frame&nbsp;<span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span>,</p>
<blockquote><p>Overall, the guide is designed such that a researcher might be able to read all eight of the highlighted articles and some supplemental readings within a few days. After readers acquaint themselves with these sources, they should be well-equipped both to interpret existing research and to evaluate new research that relies on Bayesian methods.</p></blockquote>
<h3>The list</h3>
<p>Here‚Äôs the list of papers we chose to cover&nbsp;in detail:</p>
<ol>
<li>&nbsp;Lindley (1993):&nbsp;The analysis of experimental data: The appreciation of tea and wine. <span><a href="http://tinyurl.com/lindley1993" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Kruschke (2015, chapter 2):&nbsp;Introduction: Credibility, models, and parameters. <span><a href="https://sites.google.com/site/doingbayesiandataanalysis/sample-chapter" target="_blank" rel="noopener">Available on the DBDA website</a></span>.</li>
<li>Dienes (2011): Bayesian versus orthodox statistics: Which side are you on? <span><a href="http://tinyurl.com/dienes2011" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Rouder, Speckman, Sun, Morey, &amp; Iverson (2009): Bayesian&nbsp;<em>t</em> tests for accepting and rejecting the null hypothesis. <span><a href="http://tinyurl.com/rouder2009" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Vandekerckhove, Matzke, &amp; Wagenmakers (2014): Model comparison and the principle of parsimony. <span><a href="http://tinyurl.com/vandekerckhove2015" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>van de Schoot, Kaplan, Denissen, Asendorpf, Neyer, &amp; Aken (2014):&nbsp;A gentle introduction to Bayesian analysis:&nbsp;Applications to developmental research. <span><a href="http://tinyurl.com/vandeschoot" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Lee and Vanpaemel (from the same special issue): Determining priors for cognitive models. <span><a href="https://webfiles.uci.edu/mdlee/LeeVanpaemel2015.pdf" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Lee (2008):&nbsp;Three case studies in the Bayesian analysis of cognitive models. <span><a href="http://tinyurl.com/lee2008cognitive" target="_blank" rel="noopener">PDF</a></span>.</li>
</ol>
<p>You‚Äôll have to check out&nbsp;<span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span> to see our commentary&nbsp;and to find out what other articles we&nbsp;included in the&nbsp;<em>Further reading</em> appendix. We provide urls (web archived when possible;&nbsp;<span><a href="http://archive.org/web/" target="_blank" rel="noopener">archive.org/web/</a></span>) to PDFs of the eight main papers (except #2, that‚Äôs on the DBDA website), and wherever possible for the rest of the resources (some did not have free copies online;&nbsp;see&nbsp;the <em>References</em>).</p>
<p>I thought this was a fun&nbsp;paper&nbsp;to write, and if you think you might want to learn some Bayesian basics I hope you will consider reading it.</p>
<p>Oh, and I should mention that we wrote the whole paper collaboratively on <span><a href="https://www.overleaf.com/signup?ref=19f671ddd62a" target="_blank" rel="noopener">Overleaf.com</a></span>. It is a great site that makes it easy to&nbsp;get started using&nbsp;LaTeX, and I highly recommend trying it out.</p>
<p>This is the fifth post in the&nbsp;<span><em><a href="https://alexanderetz.com/understanding-bayes/" target="_blank" rel="noopener">Understanding Bayes</a></em></span> series. Until next time,</p>
<p><img data-attachment-id="2420" data-permalink="https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/bill-murray-youre-awesome/#main" data-orig-file="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg" data-orig-size="817,1046" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bill-murray-youre-awesome" data-image-description="" data-medium-file="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=234" data-large-file="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=700" src="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=234&amp;h=300" alt="bill-murray-youre-awesome" width="234" height="300" srcset="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=234&amp;h=300 234w, https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=468&amp;h=600 468w, https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=117&amp;h=150 117w" sizes="(max-width: 234px) 100vw, 234px"></p>
			</div><!-- .entry-content -->

	<!-- .entry-meta -->
</article><!-- #post-## -->
			</div>

				<nav role="navigation" id="nav-below">
		

	
				
	
	</nav><!-- #nav-below -->
	
			
<!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

					<!-- #secondary -->
	
	</div></div>]]>
            </description>
            <link>https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23765580</guid>
            <pubDate>Tue, 07 Jul 2020 23:48:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stripe Atlas includes $5k in AWS credits ‚Äì we recevied $1k]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 28 (<a href="https://news.ycombinator.com/item?id=23764785">thread link</a>) | @CoreSet
<br/>
July 7, 2020 | https://formcake.com/blog/stripe-atlas-includes-five-thousand-credits-this-is-what-we-got | <a href="https://web.archive.org/web/*/https://formcake.com/blog/stripe-atlas-includes-five-thousand-credits-this-is-what-we-got">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A few months ago we wrote about "<a href="https://formcake.com/blog/our-experience-with-stripe-atlas">Our Experience with Stripe Atlas</a>" and what it was like to use them to start a small internet business (tldr; generally good).</p>
<p>One of the perks of Stripe Atlas is that they offer a heap of credits for multiple cloud platforms. From the Stripe site:</p>
<p>"Stripe Atlas founders can access free credits, exclusive access to free products, and discounted pricing from our partners, including $5,000 in credits from Amazon Web Services and $10,000 in credits from DigitalOcean."</p>
<p>There's always an understanding with services like this that credit offers come with a lot of hand-waving and "caveat emptor"-ing: notice founders "<em>have access to</em>" free credits (emphasis ours), which could imply that some founders have the capacity to call on those funds, but not all. But still, the language does seem very direct and makes it easy to believe signing up includes $5,000 in AWS credits.</p>
<p>We have not received $5,000 in AWS credits. But now the good news: We <em>have</em> still received <strong>$1,000 in AWS credits</strong>.</p>
<p>$1,000 is still very generous, and a great gift from Stripe. No business filing with Stripe Atlas should ever depend on $1,000 of AWS credits as some kind of life-or-death runway, and for everyone receiving it it's more a small bonus than some kind of critical seed money.</p>
<p>But I do think it's useful to note, if you're an entrepreneur considering Stripe Atlas, what general figures you can expect. We're not a high capital-intensive operation of course, so if you're in a similar micro-saas space, then you also probably won't get the full 5k.</p>
<p>We're not sure what path you should take <em>to get</em> that possible $5,000 in AWS credits. There's not much communication about what criteria Stripe uses to arrive at the number they finalize on.</p>
<p>But you heard it from us: Take that 5,000 number with a grain of salt. It's a great gift - just maybe not as great as you think.</p>
</div></div>]]>
            </description>
            <link>https://formcake.com/blog/stripe-atlas-includes-five-thousand-credits-this-is-what-we-got</link>
            <guid isPermaLink="false">hacker-news-small-sites-23764785</guid>
            <pubDate>Tue, 07 Jul 2020 22:18:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No leap second will be introduced at the end of December 2020]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23764571">thread link</a>) | @fanf2
<br/>
July 7, 2020 | https://hpiers.obspm.fr/iers/bul/bulc/bulletinc.60 | <a href="https://web.archive.org/web/*/https://hpiers.obspm.fr/iers/bul/bulc/bulletinc.60">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://hpiers.obspm.fr/iers/bul/bulc/bulletinc.60</link>
            <guid isPermaLink="false">hacker-news-small-sites-23764571</guid>
            <pubDate>Tue, 07 Jul 2020 21:58:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Windows Telemetry service elevation of privilege]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23764258">thread link</a>) | @wslh
<br/>
July 7, 2020 | https://secret.club/2020/07/01/diagtrack.html | <a href="https://web.archive.org/web/*/https://secret.club/2020/07/01/diagtrack.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>Today, we will be looking at the ‚ÄúConnected User Experiences and Telemetry service,‚Äù also known as ‚Äúdiagtrack.‚Äù This article is quite heavy on NTFS-related terminology, so you‚Äôll need to have a good understanding of it.</p><p>A feature known as ‚ÄúAdvanced Diagnostics‚Äù in the Feedback Hub caught my interest. It is triggerable by all users and causes file activity in <code>C:\Windows\Temp</code>, a directory that is writeable for all users.</p><p><img src="https://secret.club/assets/img/jonas_eop1.png" alt=""></p><p>Reverse engineering the functionality and duplicating the needed interactions was quite a challenge as it used WinRT IPC instead of COM and I did not know WinRT existed, so I had some catching up to do.</p><p>In <code>C:\Program Files\WindowsApps\Microsoft.WindowsFeedbackHub_1.2003.1312.0_x64__8wekyb3d8bbwe\Helper.dll</code>, I found a function with surprising possibilities:</p><pre><code>WINRT_IMPL_AUTO(<span>void</span>) StartCustomTrace(param<span>::</span>hstring <span>const</span><span>&amp;</span> customTraceProfile) <span>const</span>;
</code></pre><p>This function will execute a <code>WindowsPerformanceRecorder</code> profile defined in an XML file specified as an argument in the security context of the Diagtrack Service.</p><p>The file path is parsed relative to the <code>System32</code> folder, so I dropped an XML file in the writeable-for-all directory <code>System32\Spool\Drivers\Color</code> and passed that file path relative to the system directory aforementioned and voila - a trace recording was started by Diagtrack!</p><p>If we look at a minimal <code>WindowsPerformanceRecorder</code> profile we‚Äôd see something like this:</p><div><div><pre><code><span>&lt;WindowsPerformanceRecorder</span> <span>Version=</span><span>"1"</span><span>&gt;</span>
 <span>&lt;Profiles&gt;</span>
  <span>&lt;SystemCollector</span> <span>Id=</span><span>"SystemCollector"</span><span>&gt;</span>
   <span>&lt;BufferSize</span> <span>Value=</span><span>"256"</span> <span>/&gt;</span>
   <span>&lt;Buffers</span> <span>Value=</span><span>"4"</span> <span>PercentageOfTotalMemory=</span><span>"true"</span> <span>MaximumBufferSpace=</span><span>"128"</span> <span>/&gt;</span>
  <span>&lt;/SystemCollector&gt;</span>  
  <span>&lt;EventCollector</span> <span>Id=</span><span>"EventCollector_DiagTrack_1e6a"</span> <span>Name=</span><span>"DiagTrack_1e6a_0"</span><span>&gt;</span>
   <span>&lt;BufferSize</span> <span>Value=</span><span>"256"</span> <span>/&gt;</span>
   <span>&lt;Buffers</span> <span>Value=</span><span>"0.9"</span> <span>PercentageOfTotalMemory=</span><span>"true"</span> <span>MaximumBufferSpace=</span><span>"4"</span> <span>/&gt;</span>
  <span>&lt;/EventCollector&gt;</span>
   <span>&lt;SystemProvider</span> <span>Id=</span><span>"SystemProvider"</span> <span>/&gt;</span> 
  <span>&lt;Profile</span> <span>Id=</span><span>"Performance_Desktop.Verbose.Memory"</span> <span>Name=</span><span>"Performance_Desktop"</span>
     <span>Description=</span><span>"exploit"</span> <span>LoggingMode=</span><span>"File"</span> <span>DetailLevel=</span><span>"Verbose"</span><span>&gt;</span>
   <span>&lt;Collectors&gt;</span>
    <span>&lt;SystemCollectorId</span> <span>Value=</span><span>"SystemCollector"</span><span>&gt;</span>
     <span>&lt;SystemProviderId</span> <span>Value=</span><span>"SystemProvider"</span> <span>/&gt;</span>
    <span>&lt;/SystemCollectorId&gt;</span> 
    <span>&lt;EventCollectorId</span> <span>Value=</span><span>"EventCollector_DiagTrack_1e6a"</span><span>&gt;</span>
     <span>&lt;EventProviders&gt;</span>
      <span>&lt;EventProviderId</span> <span>Value=</span><span>"EventProvider_d1d93ef7"</span> <span>/&gt;</span>
     <span>&lt;/EventProviders&gt;</span>
    <span>&lt;/EventCollectorId&gt;</span>    
    <span>&lt;/Collectors&gt;</span>
  <span>&lt;/Profile&gt;</span>
 <span>&lt;/Profiles&gt;</span>
<span>&lt;/WindowsPerformanceRecorder&gt;</span>
</code></pre></div></div><h2 id="information-disclosure"> <a href="#information-disclosure">Information Disclosure</a></h2><p>Having full control of the file opens some possibilities. The name attribute of the <code>EventCollector</code> element is used to create the filename of the recorded trace. The file path becomes:</p><p><code>C:\Windows\Temp\DiagTrack_alternativeTrace\WPR_initiated_DiagTrackAlternativeLogger_DiagTrack_XXXXXX.etl</code> (where XXXXXX is the value of the name attribute.)</p><p>Full control over the filename and path is easily gained by setting the name to: <code>\..\..\file.txt:</code> which becomes the below:</p><p><code>C:\Windows\Temp\DiagTrack_alternativeTrace\WPR_initiated_DiagTrackAlternativeLogger_DiagTrack\..\..\file.txt:.etl</code></p><p>This results in <code>C:\Windows\Temp\file.txt</code> being used.</p><p>The recorded traces are opened by SYSTEM with <strong><a href="https://docs.microsoft.com/en-us/windows/win32/api/winternl/nf-winternl-ntcreatefile">FILE_OVERWRITE_IF</a></strong> as disposition, so it is possible to overwrite any file writeable by SYSTEM. The creation of files and directories (by appending <code>::$INDEX_ALLOCATION</code>) in locations writeable by SYSTEM is also possible.</p><p>The ability to select any ETW provider for traces executed by the service is also interesting from an information disclosure point of view.</p><p>One scenario where I could see myself using the data is when you don‚Äôt know a filename because a service creates a file in a folder where you do not have permission to list the files.</p><p>Such filenames can get leaked by <code>Microsoft-Windows-Kernel-File</code> provider as shown in this snippet from an etl file recorded by adding <code>22FB2CD6-0E7B-422B-A0C7-2FAD1FD0E716</code> to the <code>WindowsPerformanceRecorder</code> profile file.</p><div><div><pre><code><span>&lt;EventData&gt;</span>
 <span>&lt;Data</span> <span>Name=</span><span>"Irp"</span><span>&gt;</span>0xFFFF81828C6AC858<span>&lt;/Data&gt;</span>
 <span>&lt;Data</span> <span>Name=</span><span>"FileObject"</span><span>&gt;</span>0xFFFF81828C85E760<span>&lt;/Data&gt;</span>
 <span>&lt;Data</span> <span>Name=</span><span>"IssuingThreadId"</span><span>&gt;</span>  10096<span>&lt;/Data&gt;</span>
 <span>&lt;Data</span> <span>Name=</span><span>"CreateOptions"</span><span>&gt;</span>0x1000020<span>&lt;/Data&gt;</span>
 <span>&lt;Data</span> <span>Name=</span><span>"CreateAttributes"</span><span>&gt;</span>0x0<span>&lt;/Data&gt;</span>
 <span>&lt;Data</span> <span>Name=</span><span>"ShareAccess"</span><span>&gt;</span>0x3<span>&lt;/Data&gt;</span>
 <span>&lt;Data</span> <span>Name=</span><span>"FileName"</span><span>&gt;</span>\Device\HarddiskVolume2\Users\jonas\OneDrive\Dokumenter\FeedbackHub\DiagnosticLogs\Install and Update-Post-update app experience\2019-12-13T05.42.15-SingleEscalations_132206860759206518\file_14_ProgramData_USOShared_Logs__<span>&lt;/Data&gt;</span>
<span>&lt;/EventData&gt;</span>
</code></pre></div></div><p>Such leakage can yield exploitation possibility from seemingly unexploitable scenarios.</p><p>Other security bypassing providers:</p><ul><li><code>Microsoft-Windows-USB-UCX {36DA592D-E43A-4E28-AF6F-4BC57C5A11E8}</code></li><li><code>Microsoft-Windows-USB-USBPORT {C88A4EF5-D048-4013-9408-E04B7DB2814A}</code> (Raw USB data is captured, enabling keyboard logging)</li><li><code>Microsoft-Windows-WinINet {43D1A55C-76D6-4F7E-995C-64C711E5CAFE}</code></li><li><code>Microsoft-Windows-WinINet-Capture {A70FF94F-570B-4979-BA5C-E59C9FEAB61B}</code> (Raw HTTP traffic from iexplore, Microsoft Store, etc. is captured - SSL streams get captured pre-encryption.)</li><li><code>Microsoft-PEF-WFP-MessageProvider</code> (IPSEC VPN data pre encryption)</li></ul><h2 id="code-execution"> <a href="#code-execution">Code Execution</a></h2><p>Enough about information disclosure, how do we turn this into code execution?</p><p>The ability to control the destination of <code>.etl</code> files will most likely not lead to code execution easily; finding another entry point is probably necessary. The limited control over the files content makes exploitation very hard; perhaps crafting an executable PowerShell script or bat file is plausible, but then there is the problem of getting those executed.</p><p>Instead, I chose to combine my active trace recording with a call to:</p><pre><code>WINRT_IMPL_AUTO(Windows<span>::</span>Foundation<span>::</span>IAsyncAction) SnapCustomTraceAsync(param<span>::</span>hstring <span>const</span><span>&amp;</span> outputDirectory)
</code></pre><p>When supplying an <code>outputDirectory</code> value located inside <code>%WINDIR%\temp\DiagTrack_alternativeTrace</code> (Where the <code>.etl</code> files of my running trace are saved) an interesting behavior emerges.</p><p>The Diagtrack Service will rename <em>all</em> the created <code>.etl</code> files in <code>DiagTrack_alternativeTrace</code> to the directory given as the <code>outputDirectory</code> argument to <code>SnapCustomTraceAsync</code>. This allows destination control to be acquired because rename operations that occur where the source file gets created in a folder that grants non-privileged users write access are exploitable. This is due to the permission inheritance of files and their parent directories. When a file is moved by a rename operation, the DACL does not change. What this means is that if we can make the destination become <code>%WINDIR%\System32</code>, and somehow move the file then we will still have write permission to the file. So, we know we control the <code>outputDirectory</code> argument of <code>SnapCustomTraceAsync</code>, but some limitations exist.</p><p>If the chosen <code>outputDirectory</code> is not a child of <code>%WINDIR%\temp\DiagTrack_alternativeTrace</code>, the rename will not happen. The <code>outputDirectory</code> cannot exist because the Diagtrack Service has to create it. When created, it is created with SYSTEM as its owner; only the READ permission is granted to users.</p><p>This is problematic as we cannot make the directory into a mount point. Even if we had the required permissions, we would be stopped by not being able to empty the directory because Diagtrack has placed the snapshot output etl file inside it. Lucky for us, we can circumvent these obstacles by creating two levels of indirection between the <code>outputDirectory</code> destination and <code>DiagTrack_alternativeTrace</code>.</p><p>By creating the folder <code>DiagTrack_alternativeTrace\extra\indirections</code> and supplying <code>%WINDIR%\temp\DiagTrack_alternativeTrace\extra\indirections\snap</code> as the <code>outputDirectory</code> we allow Diagtrack to create the snap folder with its limited permissions, as we are inside <code>DiagTrack_alternativeTrace</code>. With this, we can rename the <code>extra</code> folder, as it is created by us. The two levels of indirection is necessary to bypass the locking of the directory due to Diagtrack having open files inside the directory. When <code>extra</code> is renamed, we can recreate <code>%WINDIR%\temp\DiagTrack_alternativeTrace\extra\indirections\snap</code> (which is now empty) and we have full permissions to it as we are the owner!</p><p>Now, we can turn <code>DiagTrack_alternativeTrace\extra\indirections\snap</code> into a mount point targeted at <code>%WINDIR%\system32</code> and Diagtrack will move all files matching <code>WPR_initiated_DiagTrack*.etl*</code> into <code>%WINDIR%\system32</code>. The files will still be writeable as they were created in a folder that granted users permission to WRITE. Unfortunately, having full control over a file in System32 is not quite enough for code execution‚Ä¶ that is, unless we have a way of executing user controllable filenames - like the DiagnosticHub plugin method popularized by <strong><a href="https://twitter.com/tiraniddo">James Forshaw</a></strong>. There‚Äôs a caveat though, DiagnosticHub now requires any DLL it loads to be signed by Microsoft, but we do have some ways to execute a DLL file in system32 under SYSTEM security context - if the filename is something specific. Another snag though is that the filename is not controllable. So, how can we take control?</p><p>If instead of making the mountpoint target System32, we target an Object Directory in the NT namespace and create a symbolic link with the same name as the rename destination file, we gain control over the filename. The target of the symbolic link will become the rename operations destination. For instance, setting it to<code>\??\%WINDIR%\system32\phoneinfo.dll</code> results in write permission to a file the Error Reporting service will load and execute when an error report is submitted out of process. For my mountpoint target I chose <code>\RPC Control</code> as it allows all users to create symbolic links inside.</p><p>Let‚Äôs try it!</p><p>When Diagtrack should have done the rename, nothing happened. This is because, before the rename operation is done, the destination folder is opened, but now is an object directory. This means it‚Äôs unable to be opened by the file/directory API calls. This can be circumvented by timing the creation of the mount point to be after the opening of the folder, but before the rename. Normally in such situations, I create a file in the destination folder with the same name as the rename destination file. Then ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://secret.club/2020/07/01/diagtrack.html">https://secret.club/2020/07/01/diagtrack.html</a></em></p>]]>
            </description>
            <link>https://secret.club/2020/07/01/diagtrack.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23764258</guid>
            <pubDate>Tue, 07 Jul 2020 21:23:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I got 400 signups with a video of a product that didn‚Äôt exist]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 40 (<a href="https://news.ycombinator.com/item?id=23764098">thread link</a>) | @semy
<br/>
July 7, 2020 | https://www.lunadio.com/blog/i-got-400-signups-with-a-video-of-a-product-that-didnt-exist/ | <a href="https://web.archive.org/web/*/https://www.lunadio.com/blog/i-got-400-signups-with-a-video-of-a-product-that-didnt-exist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>In this blog post, I would like to show you a practical example of a ‚Äúfake it till you make it‚Äù approach to product development. To my mind, it basically means that you are trying to stay a few steps ahead of your current situation. You are ‚Äúfaking‚Äù the idea that you have progressed more, but you actually haven‚Äôt. This approach gave me invaluable answers for my product which were hard to get otherwise.</p><h2 id="here-is-my-story">Here is my story:</h2><p>3 years ago, my former manager came to me and told me to do around 1500 banner ads. The company I worked for got new products and they wanted to market them in different countries. We got 6 products in 5 colors and the aim was to create ad banners for 3 countries. The goal was to create 15 formats of each banner ad. It was a nightmare for the graphic department. And I was its team leader.</p><p>When I imagined myself doing 1500 banner ads, I wanted to cry. This scenario of creating thousands of banners could happen easily every month. It is possible to do manually 1500 ad banners, but it is just‚Ä¶ too boring! I wanted to be a creator, not a generator.</p><p>I started immediately googling how I can automate the process of creating banners sets. I found some solutions but they were pretty useless. They weren‚Äôt flexible enough.</p><p>I decided to create my own solution. I experimented with Photoshop, more specifically with the ‚ÄúActions‚Äù feature there. Basically, the Actions feature was recording my steps in Photoshop. So, I could record how I manually generated banners, then play it again and&nbsp;generate the banners. It was pretty simple: Yet powerful. With this script I created, I was able to automate some parts of the process and help our department to be faster.</p><p>I was interested in a community of graphic designers who had the same problem. With my friend <a href="https://twitter.com/iChangeTheWay" target="_blank" rel="noreferrer">Ivan</a>, I created a landing page in a few hours. <a href="https://twitter.com/tmvst" target="_blank" rel="noreferrer">Tomas</a> sketched the logo in 5 minutes, then we came up with pricing. I created a video of the script and‚Ä¶</p><p>I posted it to a local Facebook designers‚Äô community group.</p><p>And this is what happened:</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/95d0df87d8da034d24483b75d2251286/f4429/a85fdc4a-a52b-200a-d884-31ab650ffc31.webp 530w" sizes="(max-width: 530px) 100vw, 530px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/95d0df87d8da034d24483b75d2251286/dd866/a85fdc4a-a52b-200a-d884-31ab650ffc31.png 530w" sizes="(max-width: 530px) 100vw, 530px" type="image/png">
        <img src="https://www.lunadio.com/static/95d0df87d8da034d24483b75d2251286/dd866/a85fdc4a-a52b-200a-d884-31ab650ffc31.png" alt="Bannerium Alpha post to a local Facebook designers‚Äô community group.
">
      </picture>
    </span>
<em>My post to a local Facebook designers‚Äô community group.</em></p><p>I was amazed by how many people had the same problem as us. What was more amazing was that 5 people bought the script. It wasn‚Äôt cheap, it cost around 110‚Ç¨. Looking back retrospectively, I think it was‚Ä¶ a miracle. It showed me that the problem was there and people were willing to pay for the solution.</p><p>At that time I didn‚Äôt know anything about building a product, selling, consumer behavior, or SaaS (Software as a Service). Well, I knew the theory, but just from videos, friends, or lectures. But I didn‚Äôt have any tangible experience.</p><h2 id="i-started-with-experimentation">I started with experimentation.</h2><p>I created <strong>a free version of a Photoshop ad generator as a Freemium model,</strong> which could automate only 6 banner formats in contrast to the full version which could automate 20 formats. I gave it for free to people in exchange for getting feedback from them.</p><p>To be honest‚Ä¶</p><p>0 people bought the full version after they tried the free version.</p><p>Frankly put, it failed. I was overly optimistic&nbsp;and thought that the product would do better. On the other hand, It motivated me to ask people what was not working for them and how I could get better. I even gave the full professional freelancers version, which cost 110‚Ç¨, for free in exchange for feedback.</p><p>And what happened?</p><p><strong>Nobody wrote me back.</strong></p><p>It sucked. I didn‚Äôt know what to do next.</p><p>At that time I let it go. I didn‚Äôt have money to build the product and I didn‚Äôt feel that I had enough experience to build the software from scratch.</p><h2 id="after-more-than-a-year-break">After more than a year break</h2><p>After a year and a half, I decided to explore this topic again. I learned new things from Product Management, User Experience design, I was closer to friends who were dealing with product development on a daily basis. So I gave it a try.</p><p>The last script didn‚Äôt work for all graphics of banners, it worked only for a few specific graphics. It was good, but once you wanted to generate some complicated banner, this script did not work smoothly. Meanwhile, Photoshop developed a few other features, which changed the game. My game.</p><h2 id="little-technical-context">Little technical context</h2><p>Scripts are technically the easiest to do however, they are quite limited. I decided to learn more about what was feasible in Photoshop. I‚Äôd learned about plugins, which seemed like the right way to do things. However, to do a plugin, I needed a front end developer, because I couldn‚Äôt code on a sufficient level.</p><p>The problem is that building something with a developer is the most expensive thing to do. And I didn‚Äôt even know if people were still interested in the solution. The only thing I knew was that I wanted to improve generating ad banners as much as I could, but how it should work? I had no clue.</p><h2 id="just-do-it">Just do it!</h2><p>But I had something that I believed was powerful. Designer superpower. Really, Sam? Superpower?‚Ä¶ Yes, superpower. Let me explain.</p><p>If I want to get rid of generating, what should I do? I could&nbsp; just hit some magic button and everything would be set. But how would it work? It‚Äôs time for ü•Å designer superpower, (which I believe is a designers‚Äô toolset).</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/8f073372c757154040975d2e8aa7322b/a35e2/1c0d2543-eaab-1927-33e6-ed8ad4e8921b.webp 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/8f073372c757154040975d2e8aa7322b/84019/1c0d2543-eaab-1927-33e6-ed8ad4e8921b.png 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/png">
        <img src="https://www.lunadio.com/static/8f073372c757154040975d2e8aa7322b/84019/1c0d2543-eaab-1927-33e6-ed8ad4e8921b.png" alt="Designer superpower - designers' toolset">
      </picture>
    </span>
<em>Designer superpower - designers<!-- -->‚Äô<!-- --> toolset</em></p><p>I realized that I could ‚Äúfake‚Äù the whole plugin and interactions in it. The reason for faking the plugin was that I needed to see if people were still interested in my solution.</p><p>I knew that the demo of the plugin would serve me as a great tool for explaining graphic designers the power of that extension and could give developers a vision of what to build.</p><h2 id="so-i-started">So I started:</h2><p>I created basic wireframes of Photoshop plugin in Sketch.</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/45430bd91642a28ebc94468ffd5d724f/a35e2/e4527606-43e4-1ce6-dd0c-6af52bf6536a.webp 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/45430bd91642a28ebc94468ffd5d724f/84019/e4527606-43e4-1ce6-dd0c-6af52bf6536a.png 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/png">
        <img src="https://www.lunadio.com/static/45430bd91642a28ebc94468ffd5d724f/84019/e4527606-43e4-1ce6-dd0c-6af52bf6536a.png" alt="First ketch wireframes of Photoshop plugin Bannerium - Photoshop plugin for generating ads.">
      </picture>
    </span>
<em>Preparation for video.</em></p><p>Then I needed somehow to fake the algorithm of generating banners. So I recorded screen videos and I got rid of some parts. I removed these parts where I needed to manually re-organize components in banners. In the end, these screen recordings looked like a great generating algorithm.</p><p>Now the final part. I needed to connect these parts. For this purpose I used Adobe After Effects.</p><p>And this is the final video which took me 2 weeks to do:</p><p><a href="https://youtu.be/JWApMjQ3-jE" target="_blank" rel="noreferrer">https://youtu.be/JWApMjQ3-jE</a></p><p>I showed this video to friends of mine and they thought that I had learned how to code. At that point, I knew I had done it well.</p><p><strong>üóíSide note:</strong> When you think of that, this is a superpower. With some tools, you can show people (in my case graphic designers) the future them and spark imagination. You can take some ideas and make them look real. Suddenly, all the people can see how your product should behave and what it should do. Isn‚Äôt that powerful?</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/5ae22898c4f073ca65670bb6bedda258/a35e2/549e8b44-33ab-3699-1a5a-e2fa3ef7862e.webp 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/5ae22898c4f073ca65670bb6bedda258/84019/549e8b44-33ab-3699-1a5a-e2fa3ef7862e.png 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/png">
        <img src="https://www.lunadio.com/static/5ae22898c4f073ca65670bb6bedda258/84019/549e8b44-33ab-3699-1a5a-e2fa3ef7862e.png" alt="Picture showing how to understand your solution. Ultimate goal is to solve the user's problem.">
      </picture>
    </span>
<em>Ultiimate goal of your product is to solve user<!-- -->‚Äô<!-- -->s problem</em></p><p>After the video was complete, I created a landing page and posted the plugin into local facebook design/marketing communities</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/1d266b5754999b47d6d0fac1a66e9883/30224/bb768f3f-f15f-dae9-1565-9cbe4f966957.webp 547w" sizes="(max-width: 547px) 100vw, 547px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/1d266b5754999b47d6d0fac1a66e9883/bb683/bb768f3f-f15f-dae9-1565-9cbe4f966957.png 547w" sizes="(max-width: 547px) 100vw, 547px" type="image/png">
        <img src="https://www.lunadio.com/static/1d266b5754999b47d6d0fac1a66e9883/bb683/bb768f3f-f15f-dae9-1565-9cbe4f966957.png" alt="Facebook post with faked video. I got valuable 400 signups">
      </picture>
    </span>
<em>Facebook post with video which gave me 400 signups</em></p><p>I added my <a href="https://www.bannerium.com/" target="_blank" rel="noreferrer">landing page</a> in the post, then I shared it to other groups/forums and I got 400 signups.</p><p>I even got some deal with a design agency, which told me that they would give us some money to develop a plugin. Moreover, I even had 2 meetings with them. Just based on the video.</p><p>In the end, nothing came from this deal. That was reasonable. Here is why: The truth was, that I had just released the video. I didn‚Äôt have anything else. Just some parts connected with duct tape. At that time, I had no clue how close we could get with the real code.</p><p><strong>üí°Lesson learned</strong></p><p>Showing a ‚Äúfake‚Äù video is powerful for sharing a vision and testing if there is a need for a solution. On the other hand, if the video is too ambitious, people will take it as a norm and will base their expectations on the video. If the real product doesn‚Äôt match the video afterward, they will probably be unsatisfied because the product is&nbsp;incomplete. This thing happened to me when I had a call with a user during beta testing. She expected that the complete product should work as it was on the video. So sometimes it is better to be realistic. Otherwise, you will create unhappy initial users. But I believe it is a trade-off and you need to count on that.</p><p>Once I saw that the product was still in demand I found a programmer called Petr and we started with the development of the plugin. The video was also a great tool for how to communicate what I wanted to achieve. Of course, video showed happy path&nbsp;and I needed to design ‚Äúwhat if‚Äù scenarios, afterwards. But it served my expectations&nbsp;perfectly.</p><p>Then we went through beta testing, which 50 people joined. Nowadays the <a href="https://bannerium.com/" target="_blank" rel="noreferrer">product is live.&nbsp;</a></p><h2 id="summary">Summary:</h2><h3 id="a-designer-toolset-is-a-superpower-you-can-easily-create-something-that-was-not-on-the-market-before-and-validate-your-idea-just-in-a-week">A Designer toolset is a superpower. You can easily create something that was not on the market before and validate your idea. Just in a week.</h3><ul><li>Creating a video is a powerful tool but if it is too ambitious, you will create unhappy first users.</li><li>Count on the trade-off that some people will think that product is actually working, but are unsure. I suggest you create beta testers out of them. It can bring you value afterward, <a href="https://www.lunadio.com/blog/4-cognitive-bias-examples-you-should-be-aware-of-as-a-designer" target="_blank" rel="noreferrer">as I wrote in my previous article.</a></li></ul><p>After this example, I would use a fake demo of the product more sensitively. I still believe it can save you a lot of money, help you validate your idea and get you traction in your idea.</p><p>I hope this example will show designers how powerful they are. Furthermore, it will show non-designers what they can achieve with designers onboard.</p><p>If you are interested in my future content about building products through designer eyes, feel free to join the newsletter below.</p></div></article></div>]]>
            </description>
            <link>https://www.lunadio.com/blog/i-got-400-signups-with-a-video-of-a-product-that-didnt-exist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23764098</guid>
            <pubDate>Tue, 07 Jul 2020 21:09:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Library of Growth Marketing Strategies]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23763907">thread link</a>) | @pallavkaushish
<br/>
July 7, 2020 | https://academy.pallav.io/marketing-strategies/ | <a href="https://web.archive.org/web/*/https://academy.pallav.io/marketing-strategies/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><img height="1" width="1" src="https://www.facebook.com/tr?id=331091714105481&amp;ev=PageView&amp;noscript=1">
<!-- End Facebook Pixel Code -->


		<a href="#content">Skip to content</a>

	<div id="boxed-wrapper">
		
		<div id="wrapper">
			
			
			<header>
				
				
			</header>
						
			
		
				
			
			

						<main id="main">
				<div>
<section id="content">
					<div id="post-1801" class="page">
			<span>Library of Growth Marketing Strategies</span><span><span><a href="https://academy.pallav.io/author/pallavkaushish/" title="Posts by Pallav Kaushish" rel="author">Pallav Kaushish</a></span></span><span>2020-06-29T14:35:57+05:30</span>						<div>
				<div><div><div><div data-bg-url=""><div><p><span>Get new strategies in your inbox every week</span></p>
</div></div></div></div></div><div><div><div id="strategy-list"><div data-bg-url=""><div><div><div id="pt-cv-view-dba7745f0m"><div data-id="pt-cv-page-1" data-cvc="3" data-cvct="2" data-cvcm="1">






<div data-pid="ad-0"><div><p>No more guesswork! Get new marketing strategies every week to accelerate your business.</p>


		  <!-- .wpforms-container --></div></div>










<div data-pid="ad-1"><div><p>Get proven marketing strategies in your inbox every week.</p>


		  <!-- .wpforms-container --></div></div>










</div></div>
</div>			
			
</div></div></div></div></div>
<span></span>							</div>
												</div>
	</section>
						
					</div>  <!-- fusion-row -->
				</main>  <!-- #main -->
				
				
								
					
		 <!-- fusion-footer -->

		
					

												</div> <!-- wrapper -->
		</div> <!-- #boxed-wrapper -->
		
		
		
		<a></a>

		<div>
						
			
		<div id="cp_popup_id_2112" data-style="cp_style_2112" data-module-type="modal_popup" data-class-id="2112" data-styleslug="exit-intent-v1">

							<div>
			
			<div>
				<div>

					
				
					<div data-entry-animation="cp-fadeIn" data-overlay-click="1" data-title="Exit Intent v1 (Desktop)" data-module-type="modal_popup" data-step="1" data-width="900" data-mobile-width="320" data-height="520" data-mobile-height="185" data-mobile-break-pt="480" data-mobile-responsive="yes">
												
					<div>                             
						<div id="cp_heading-1-2112" data-type="cp_heading"><div><div name="cp_heading-1"><p>CLAIM YOUR FREE CHECKLIST &amp; MORE</p></div></div>
</div><div id="cp_image-1-2112" data-type="cp_image" data-action="none" data-step="1">
	<div>
		<div><img data-cp-src="https://academy.pallav.io/wp-content/uploads/2020/04/checklist-page-v1-193x300.jpg" name="cp_image-1" alt="" src="https://academy.pallav.io/wp-content/uploads/2020/04/checklist-page-v1-193x300.jpg">
			
		</div>
		
	</div>
</div><div id="cp_paragraph-1-2112" data-type="cp_paragraph" data-field-title="Paragraph"><div><div name="{{name}}"><p>The Ultimate Pre-Publishing Checklist is one of many resources available with the free membership of <strong><a href="https://academy.pallav.io/" target="_blank" rel="noopener">Kaushish Academy</a></strong>.</p>

<p>And when you sign up you get access to our <span>exclusive Facebook group</span> + <span>priority access</span> to every upcoming resource.</p></div></div>
</div><div id="cp_close_image-1-2112" data-type="cp_close_image" data-field-title="Close Image" data-action="close">	
	<div>
		<div><img data-cp-src="https://academy.pallav.io/wp-content/plugins/convertpro/assets/admin/img/close1.png" alt="" name="cp_close_image-1" value="" src="https://academy.pallav.io/wp-content/plugins/convertpro/assets/admin/img/close1.png">
			
		</div>
		
	</div>
</div>							</div>              
														
						</div><!-- .cp-popup-content -->
						      
		
		
		
		
						</div>
							</div><!-- .cp-popup-wrapper -->
			
							</div><!-- Overlay -->
				

					</div><!-- Modal popup container -->
			
		

		
	
	



































































































































































	
			
				<!-- WooCommerce JavaScript -->


				<!-- This is minified version of cp-ga-front.js file located at convertpro-addon/analytics/assets/js/cp-ga-front.js if you want to make changes to this, edit cp-ga-front.js file, minify it and paste code here -->

				
								
						</div>
	

</div>]]>
            </description>
            <link>https://academy.pallav.io/marketing-strategies/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763907</guid>
            <pubDate>Tue, 07 Jul 2020 20:51:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gradient Origin Networks (GONs)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23763551">thread link</a>) | @goodmachine
<br/>
July 7, 2020 | https://cwkx.github.io/data/GON/ | <a href="https://web.archive.org/web/*/https://cwkx.github.io/data/GON/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        
        <p><strong>Abstract</strong> This paper proposes a new type of implicit generative model that is able to quickly learn a latent representation without an explicit encoder. This is achieved with an implicit neural network that takes as inputs points in the coordinate space alongside a latent vector initialised with zeros. The gradients of the data fitting loss with respect to this zero vector are jointly optimised to act as latent points that capture the data manifold. The results show similar characteristics to autoencoders, but with fewer parameters and the advantages of implicit representation networks.</p>
        
        <h2>Approach</h2>
        <p>
            Gradient Origin Networks (GONs) are comparable to Variational Autoencoders in that both compress data into latent representations and permit sampling in a single step. However, GONs use gradients as encodings meaning that they have a much simpler architecture:
        </p>
        
        <p>
            In Gradient Origin Networks, unknown parameters in the latent space are initialised at the origin. This zero vector is concatenated with the known coordinate parameters, which becomes the inputs of an implicit representation network <i>F</i> with a prior over the gradients (a <a href="https://vsitzmann.github.io/siren/">SIREN</a> whose gradients are normally distributed). This means we can compute gradients of the data fitting loss with respect to these inputs, and jointly optimise for the new latents:
        </p>

        <p><img alt="Gradient Origin Network" src="https://cwkx.github.io/data/GON/data/gon-eqn.png"></p><p>At inference, the latent vector can be sampled in a single step without requiring iteration. Here are some random spherical interpolations showing this:</p>

        <table>
            <tbody><tr>
                <td> 
                    <video width="240" height="240" autoplay="" loop="">
                        <source src="https://cwkx.github.io/data/GON/data/mnist-slerp.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </td>
                <td> 
                    <video width="240" height="240" autoplay="" loop="">
                        <source src="https://cwkx.github.io/data/GON/data/fashion-slerp.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </td>
                <td>
                    <video width="240" height="240" autoplay="" loop="">
                        <source src="https://cwkx.github.io/data/GON/data/coil-slerp.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </td>
            </tr>
            <tr>
                <td>MNIST</td>
                <td>FashionMNIST</td>
                <td>COIL20</td>
            </tr>
        </tbody></table>

        <h2>YouTube video</h2>

        <iframe width="100%" height="430" src="https://www.youtube.com/embed/ro7t98Q1gXg?transparent=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

        <p>In practice, we find GONs to be parameter-efficient and fast to train. For more details, please watch the YouTube video and read the paper in the links above.</p>

        <p><strong>Conclusion</strong> We have proposed a new type of implicit generative model that captures the dataset without requiring an explicit encoder. By initialising a latent vector of our unknown parameters with zeros, we have shown that it is possible to compute the gradients of the data fitting loss with respect to this origin, and then jointly fit the data while learning this new point of reference in the latent space. The results show this approach is able to represent datasets using a small number of parameters, with the advantage of implicit representation networks being able to model many different types of discrete signals.</p>
        <h2>Citation</h2>
        <div>
            <pre><code>@article{bondtaylor2020gradient,
  title={Gradient Origin Networks},
  author={Sam Bond-Taylor and Chris G. Willcocks},
  journal={arXiv preprint arXiv:2007.02798},
  year={2020}
}</code></pre>
        </div>
    </div></div>]]>
            </description>
            <link>https://cwkx.github.io/data/GON/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763551</guid>
            <pubDate>Tue, 07 Jul 2020 20:20:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python async frameworks ‚Äì Beyond developer tribalism ‚Äì Encode]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23763299">thread link</a>) | @rbanffy
<br/>
July 7, 2020 | https://www.encode.io/articles/python-async-frameworks-beyond-developer-tribalism | <a href="https://web.archive.org/web/*/https://www.encode.io/articles/python-async-frameworks-beyond-developer-tribalism">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
    <p><br>
I‚Äôve been thinking about writing this article for a bit, but have been most prompted by a post grandly titled ‚Äú<a href="http://calpaterson.com/async-python-is-not-faster.html">Async Python is not faster</a>‚Äù. The post was rooted with some good motivations and observations, but also fell somewhat into a polarising mode of discussion that I‚Äôd like to see our communities try to move beyond.</p>

<p>Async concurrency necessarily brings with it an element of ecosystem split, and this can mean that it‚Äôs a bit of a divisive area to try to have conversations within.</p>

<p>However I think we could probably benefit from a bit more recognition of where there is shared ground. And in areas where there‚Äôs less clarity, to be able to have constructive conversations around the relative merits in differing approaches.</p>

<hr>



<h3 id="-why-you-shouldnt-care-about-performance">‚òÖ Why you shouldn‚Äôt care about ‚Äúperformance‚Äù.</h3>

<p>If you‚Äôre starting a new project, and choosing a python async framework vs a python sync framework, then any ‚Äúperformance‚Äù metrics around the frameworks <em>almost certainly don‚Äôt actually matter</em>, and are almost always a nonsense point of debate.</p>

<p>What is <em>actually</em> critical to your business is the development experience and strength of the surrounding ecosystem. What is your time to market going to be? How will the maintenance overhead be? How robust and evolvable is your codebase?</p>

<h3 id="-why-you-might-care-about-performance">‚òÖ Why you might care about ‚Äúperformance‚Äù.</h3>

<p>Having said that, there <em>are</em> a small portion of cases where the performance characteristics are a valid consideration. Particularly if your web framework makes lots of outgoing HTTP requests or other networking and I/O.</p>

<p>It‚Äôs important for the Python ecosystem that it ought to compare favourably to other dynamic languages in domains where async is beneficial. We don‚Äôt want to be in a position where ‚Äúwe‚Äôre using JavaScript because we believe it‚Äôll scale up better‚Äù is a valid market blocker vs. choosing Python.</p>

<h3 id="-what-were-talking-about-when-we-talk-about-performance">‚òÖ What we‚Äôre talking about when we talk about ‚Äúperformance‚Äù.</h3>

<p>Like-for-like a single async function call in isolation will be marginally slower than a plain function call. That‚Äôs not contentious.</p>

<p>What we‚Äôre actually interested in is how <em>efficiently</em> we can interleave multiple concurrent tasks. In I/O bound systems co-operative concurrency (async) performs more efficiently under high concurrency than threaded concurrency (sync). Again, not contentious.</p>

<p>Again - Async Python is not faster. It <em>is</em> more efficient. Which will <em>tend</em> to mean that on I/O bound systems, the latency will <em>continue</em> to remain low even as the level of concurrency increases.</p>

<h3 id="-there-are-no-good-benchmarks">‚òÖ There are no good benchmarks.</h3>

<p>JSON ‚Äúhello world‚Äù benchmarks are junk. Almost all cases of ‚ÄúI‚Äôve created this benchmark myself‚Äù are likely to be junk. The prevalence of new frameworks overly focusing on nebulous benchmarking claims is generally junk. An obsession on benchmarking numbers can also sometimes result in poor overall design choices, such as obfuscated or unnecessarily coupled bits of codebase, because some not-very-meaningful metric is being prioritised over the code design itself. None of this should be contentious.</p>

<p>It‚Äôs not <em>always</em> true, for example, when Sanic was introduced there was a genuine step forward which was worth talking about, so I can understand why there was a focus there. But there‚Äôs still a ridiculous hype-cycle attached as a result, and we need to be really careful about trying to step beyond that.</p>

<p>It‚Äôs also reasonable if benchmarking is discussed in a sensible context and placement. For example, to the extent that Uvicorn and Starlette have discussed performance it has only ever been with a view to making a solid case that having a <em>properly specified</em> server/framework boundary API isn‚Äôt a negative performance consideration. Prior to the introduction of ASGI, Python‚Äôs async web ecosystem had generally bundled together both the low-level HTTP handling and the high level framework, and there was a notion that needed dispelling that introducing a properly specified separation of concerns wasn‚Äôt a good approach because <em>‚Äúsomething something performance something‚Äù</em>.</p>

<p>If you <em>are</em> going to look at web framework benchmarks for some very rough first-pass ideas about relative efficiency then the TechEmpower benchmarks should almost certainly be your baseline, since they‚Äôre at least independent, and have a decent range of test cases. If you‚Äôre going to diverge from them have some good argument for doing so.</p>

<p>The ‚ÄúAsync Python is not faster‚Äù benchmarking is a reasonable example here, since it had clearly applied a decent degree of thoughtfulness. Even so there were still problems with the methodology, as <a href="https://twitter.com/llanga/status/1271719778324025349">≈Åukasz Langa did a good job of unpicking</a>.</p>

<p>Having said that, the TechEmpower benchmarks only show throughput, and don‚Äôt include any <em>meaningful</em> latency information. There‚Äôs actually a good reason for that, since
comparing latencies is really difficult. You can‚Äôt arrive at a single ‚Äú95% latency‚Äù figure, because the figure you‚Äôll arrive at <em>also depends on what throughput load you‚Äôre putting the system under</em> at the time of measuring the latency.</p>

<p>As a result measuring latency is only ever really meaningful if you‚Äôre looking at <em>graphs of how the latencies vary over a range of different throughputs</em>. Amber Brown‚Äôs <a href="https://www.youtube.com/watch?v=YxP1I-tm_2c">DjangoCon 2019 keynote talk does a fantastic job of showing some examples here</a>.</p>

<h3 id="-asgi-is-a-really-positive-step-for-the-async-ecosystem">‚òÖ ASGI is a really positive step for the async ecosystem.</h3>

<p>Having a decently specified server/framework interface is a <em>really good thing</em>. Andrew Godwin‚Äôs design for ASGI fills this gap with a WSGI-like approach. That has a set of trade-offs, but it‚Äôs a pretty pragmatic and well rounded choice.</p>

<p>This should not really be contentious.</p>

<h3 id="-its-about-functionality">‚òÖ It‚Äôs about functionality.</h3>

<p>Async isn‚Äôt just about achieving higher levels of concurrency-per-server, it also makes it a bunch of new functionality more feasible, including‚Ä¶</p>

<ul>
  <li>Handling long-lived network connections like Websockets.</li>
  <li>Long-lived HTTP connections and server sent events.</li>
  <li>Dealing with background tasks without necessarily needing a full blown task queue subcomponent.</li>
  <li>Parallelizing outgoing HTTP requests or other high latency I/O.</li>
</ul>

<h3 id="-not-everything-is-perfect">‚òÖ Not everything is perfect.</h3>

<p>The async ecosystem is far more immature than the existing thread synchronous. There are different challenges there, such as ensuring that <a href="https://lucumr.pocoo.org/2020/1/1/async-pressure/">backpressure is handled consistently throughout the various async APIs</a>, or in <a href="https://vorpus.org/blog/notes-on-structured-concurrency-or-go-statement-considered-harmful/">applying the lessons of structured concurrency</a>.</p>

<p>Nor is the ‚Äústdlib asyncio isn‚Äôt perfect‚Äù line a good argument either against asyncio specifically, or against async/await in general.</p>

<p>It‚Äôs okay that there‚Äôs still work to do in places. We know.  Let‚Äôs get that work done.</p>

<h3 id="-async-is-harder">‚òÖ Async is harder.</h3>

<p>Having to <em>think</em> about if a function does or doesn‚Äôt make I/O or could otherwise block <em>is unarguably more complex than not having to think about it</em>. It‚Äôs also more precise - you‚Äôre having to think about that for a reason, and done properly it‚Äôs presenting you with more information as a result. Being able to reason more clearly about which parts of your framework stack do or don‚Äôt perform I/O has a cost but also brings benefits.</p>

<p>There‚Äôs an analogy to make there in that writing Python using explicitly enforced typing is likely to be a harder than writing Python in an untyped style. It‚Äôs harder because you‚Äôre <em>also being more precise</em>. That‚Äôs not necessarily either good or bad, but it is definitively <em>different</em>.</p>

<p>This also gets to the point about why the ‚Äú<a href="https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/">What colour is your function</a>‚Äù argument isn‚Äôt actually a good case against async code, even if it seems to make clear sense on first pass. We‚Äôre coloring our functions because we‚Äôre <em>enforcing the exposure of some important information all the way throughout the stack</em>. That‚Äôs not an inherently bad thing to do.</p>

<hr>



<p>If those are areas where I think we ought to be able to reach consensus on, then there‚Äôs also a few areas where I think that the possible outcomes are less clear‚Ä¶</p>

<h3 id="-you-take-the-high-road-and-ill-take-the-low-road">‚òÖ You take the high road, and I‚Äôll take the low road.</h3>

<p>There‚Äôs a few different tacks we might take onto introducing async into the Python web framework ecosystem‚Ä¶</p>

<ul>
  <li>Promoting mostly staying with threaded web frameworks. There‚Äôs actually a perfectly decent case to make that Python <em>on the whole</em> should eschew a <em>wide move towards async</em>. That the drawbacks of moving large swathes of the ecosystem towards an async model outweigh the advantages. (Pros: Simpler for the end developer. Huge existing ecosystem.)</li>
  <li>Working towards blended approaches. This is being championed within the Django community which is incrementally adding async support, largely off the back of some Herculean work by Andrew Godwin and others. This approach can either be in the form of adding support for async at the server level, while keeping the framework level strictly thread-synchronous. Or it can gradually start to expose optional async capabilities all the way through the stack. (Pros: Brings along the existing ecosystem, while adding async capabilities when they‚Äôre needed.)</li>
  <li>Working towards async-native frameworks. (Pros: Lower overall complexity of the stack then blended approach. More efficient since there‚Äôs less overhead in marshalling between two style all the way through the stack. If we‚Äôre having to write large amounts of new code then it‚Äôs not a bad inflection point at which to also rethink and finesse other aspects of how we‚Äôre putting together new frameworks.)</li>
</ul>

<p>We can‚Äôt really say which of these will yield the best dividends. Personally I <em>happen</em> to be working in the last of those three slices, simply because I can see a bunch of areas where I can contribute meaningfully towards the ecosystem there.</p>

<h3 id="-positioning-asyncio-and-trio">‚òÖ Positioning asyncio and Trio</h3>

<p>There another big question mark over the relative positioning of asyncio and Trio in the ecosystem. Trio is a newer approach to a Python async framework, that‚Äôs meticulously designed, and based on the principles of structured concurrency, that have been outlined by it‚Äôs author, Nathaniel Smith.</p>

<p>The difficulty this brings is that Trio is necessarily incompatible with asyncio, and introduces an ecosystem-split within an ecosystem-split.</p>

<p>There‚Äôs a few different ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.encode.io/articles/python-async-frameworks-beyond-developer-tribalism">https://www.encode.io/articles/python-async-frameworks-beyond-developer-tribalism</a></em></p>]]>
            </description>
            <link>https://www.encode.io/articles/python-async-frameworks-beyond-developer-tribalism</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763299</guid>
            <pubDate>Tue, 07 Jul 2020 19:54:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Help Message for Shell Scripts]]>
            </title>
            <description>
<![CDATA[
Score 412 | Comments 106 (<a href="https://news.ycombinator.com/item?id=23763166">thread link</a>) | @reconquestio
<br/>
July 7, 2020 | https://samizdat.dev/help-message-for-shell-scripts/ | <a href="https://web.archive.org/web/*/https://samizdat.dev/help-message-for-shell-scripts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    <p>Have you ever thought how good it would be to have a help message for your shell script
that you wrote a month ago and already forgot what it is supposed to do?</p>
<p>Yeah, there is always a way to show a message using cat (meow) or a bunch of echo
calls.</p>
<p>But there is a neat trick.</p>
<p>Add your message with all the required information on top of your file, just right
after the shebang.</p>
<div><pre><code data-lang="bash"><span>#!/bin/bash
</span><span></span><span>###</span>
<span>### my-script ‚Äî does one thing well</span>
<span>###</span>
<span>### Usage:</span>
<span>###   my-script &lt;input&gt; &lt;output&gt;</span>
<span>###</span>
<span>### Options:</span>
<span>###   &lt;input&gt;   Input file to read.</span>
<span>###   &lt;output&gt;  Output file to write. Use '-' for stdout.</span>
<span>###   -h        Show this message.</span>
</code></pre></div><p>Halfway done, now need to get this message in runtime with sed.</p>
<div><pre><code data-lang="bash">help<span>()</span> <span>{</span>
    sed -rn <span>'s/^### ?//;T;p'</span> <span>"</span><span>$0</span><span>"</span>
<span>}</span>
</code></pre></div><p><code>$0</code> means a filename of a file that is being executed.</p>
<p>A bit about the magic that is going here:</p>
<ul>
<li><code>s</code> ‚Äî stands for substitute the following pattern;</li>
<li><code>/</code> ‚Äî keyword to define start/end of the pattern;</li>
<li><code>^### ?</code> ‚Äî match a string starting with ### and an optional space after;</li>
<li><code>//</code> ‚Äî there could be something between the slashes, but since nothing is here, replace
the pattern with an empty string;</li>
<li><code>T</code> ‚Äî Jumps to the end of sed-script if no s/// has done a successful substitution;</li>
<li><code>p</code> ‚Äî Prints the result of the substitution.</li>
</ul>
<p>Now just call the <code>help</code> function if an arg <code>-h</code> or no args passed.</p>
<div><pre><code data-lang="bash"><span>if</span> <span>[[</span> <span>$#</span> <span>==</span> <span>0</span> <span>]]</span> <span>||</span> <span>[[</span> <span>"</span><span>$1</span><span>"</span> <span>==</span> <span>"-h"</span> <span>]]</span><span>;</span> <span>then</span>
    <span>help</span>
    <span>exit</span> <span>1</span>
<span>fi</span>
</code></pre></div><p>Hope it helps, cheers!</p>
<p>Full gist is available on GitHub: <a href="https://gist.github.com/kovetskiy/a4bb510595b3a6b17bfd1bd9ac8bb4a5">https://gist.github.com/kovetskiy/a4bb510595b3a6b17bfd1bd9ac8bb4a5</a></p>
</article>

        </div></div>]]>
            </description>
            <link>https://samizdat.dev/help-message-for-shell-scripts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763166</guid>
            <pubDate>Tue, 07 Jul 2020 19:40:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This Month in Rust GameDev #11 ‚Äì June 2020]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23763075">thread link</a>) | @ozkriff
<br/>
July 7, 2020 | https://rust-gamedev.github.io/posts/newsletter-011 | <a href="https://web.archive.org/web/*/https://rust-gamedev.github.io/posts/newsletter-011">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
            
    <article itemscope="" itemtype="http://schema.org/BlogPosting">
        

        <div itemprop="articleBody">
            <p>Welcome to the eleventh issue of the Rust GameDev Workgroup‚Äôs
monthly newsletter.
<a href="https://rust-lang.org/">Rust</a> is a systems language pursuing the trifecta:
safety, concurrency, and speed.
These goals are well-aligned with game development.
We hope to build an inviting ecosystem for anyone wishing
to use Rust in their development process!
Want to get involved? <a href="https://github.com/rust-gamedev/wg#join-the-fun">Join the Rust GameDev working group!</a></p>
<p>You can follow the newsletter creation process
by watching <a href="https://github.com/rust-gamedev/rust-gamedev.github.io/issues?q=label%3Acoordination">the coordination issues</a>.
Want something mentioned in the next newsletter?
<a href="https://github.com/rust-gamedev/rust-gamedev.github.io">Send us a pull request</a>.
Feel free to send PRs about your own projects!</p>
<p>Table of contents:</p>
<ul>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#legion-game-jam">Legion Game Jam</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#game-updates">Game Updates</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#learning-material-updates">Learning Material Updates</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#library-tooling-updates">Library &amp; Tooling Updates</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#popular-workgroup-issues-in-github">Popular Workgroup Issues in Github</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#meeting-minutes">Meeting Minutes</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#requests-for-contribution">Requests for Contribution</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#bonus">Bonus</a></li>
</ul>
<!--
Ideal section structure is:

```
### [Title]

![image/GIF description](image link)

A paragraph or two with a summary and [useful links].

_Discussions:
[/r/rust](https://reddit.com/r/rust/todo),
[twitter](https://twitter.com/todo/status/123456)_

[Title]: https://first.link
[useful links]: https://other.link
```

Discussion links are added only if they contain
some actual interesting discussions.

If needed, a section can be split into subsections with a "------" delimiter.
-->
<h2 id="legion-game-jam"><a href="https://itch.io/jam/legion-jam-rustlang">Legion Game Jam</a>&nbsp;
</h2>
<p><a href="https://wikipedia.org/wiki/Roman_Empire"><img src="https://rust-gamedev.github.io/posts/newsletter-011/roman-empire.jpeg" alt="The Roman Empire at its greatest extent"></a></p>
<p>The "Legion" game jam by <a href="https://itch.io/profile/laticoda">Laticoda</a> is about
<a href="https://wikipedia.org/wiki/Roman_Empire">the Roman Empire</a> for the background theme
and ECS paradigm for the technical side.
The conditions are:</p>
<ul>
<li>Open-source &amp; Rust only.</li>
<li>Projects should use some ECS library
(you can choose <a href="https://github.com/TomGillen/legion">Legion</a> if you don't have one).</li>
<li>Team working and recycling old assets are allowed.</li>
</ul>
<blockquote>
<p>Submissions open to August 1st 2020.</p>
<p>It can be RPG, strategic, arcade or else; multi or solo. What you want.
Just try to include a little bit of history and culture taste.
Don't be afraid, it is not ranked.</p>
</blockquote>
<p>Also, participants are encouraged to
<a href="https://itch.io/jam/legion-jam-rustlang/community">document the development process at the event's forum</a>.</p>
<h2 id="game-updates">Game Updates&nbsp;
</h2>
<h3 id="way-of-rhea"><a href="https://www.anthropicstudios.com/way-of-rhea">Way of Rhea</a>&nbsp;
</h3>
<p><a href="https://youtube.com/watch?v=eVrbZss_B3g"><img src="https://rust-gamedev.github.io/posts/newsletter-011/way-of-rhea.jpeg" alt="Way of Rhea Trailer"></a></p>
<p>^ <em>Click to see the latest version of the game's trailer</em></p>
<p><a href="https://www.anthropicstudios.com/way-of-rhea">Way of Rhea</a> (<a href="https://store.steampowered.com/app/1110620/Way_of_Rhea">steam</a>)
is an upcoming puzzle platformer that takes place in a world
where you can only interact with objects that match your current color.
It's being built in a custom engine, and custom scripting language both written
in Rust by <a href="https://twitter.com/masonremaley">Mason Remaley</a>. This month's updates:</p>
<ul>
<li>A demo was released as part of the
<a href="https://store.steampowered.com/sale/gamefestival">Steam Game Festival</a>!
The festival has since ended, so the demo is no longer available.</li>
<li><a href="https://twitter.com/masonremaley">@masonremaley</a> ran An AMA <a href="https://reddit.com/r/rust_gamedev/comments/hc7vex/i_just_released_a_demo">at /r/rust_gamedev</a>
and <a href="https://reddit.com/r/IndieDev/comments/hc7mf2/i_just_released_a_demo">/r/IndieDev</a> about the development of the game.</li>
<li>The studio hosted a <a href="https://steamcommunity.com/app/1110620/discussions/0/2569815696856844856">speedrun competition</a> as part
of the Steam festival, <a href="https://youtu.be/AmYU0TXc4Ls">here's the winning run</a>.</li>
<li>A colorblind friendly mode was added to the game,
and <a href="https://store.steampowered.com/newshub/app/1110620/view/2445966074565244552">a couple other changes</a> were made in response
to feedback from the festival.</li>
</ul>
<p>Follow development updates on <a href="https://twitter.com/anthropicst">the game's Twitter</a>
or <a href="https://www.anthropicstudios.com/newsletter/signup/tech">subscribe to its newsletter</a>.</p>
<h3 id="a-b-street-adjust-traffic-patterns-in-real-cities"><a href="https://abstreet.org/">A/B Street</a> - Adjust Traffic Patterns in Real Cities&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/abstreet-evaluating-impacts.gif" alt="Measuring the effects of changes"></p>
<p>^ <em>Measuring the effects of some changes</em></p>
<p><a href="https://abstreet.org/">A/B Street</a> is a traffic simulation game exploring how
small changes to roads affect cyclists, transit users, pedestrians, and drivers.</p>
<p>June highlights:</p>
<ul>
<li>Alpha release with a <a href="https://www.youtube.com/watch?v=LxPD4n_1-LU">trailer</a>, an excited reaction from
<a href="https://old.reddit.com/r/Seattle/comments/hdtucd/ab_street_think_you_can_fix_seattles_traffic/">r/seattle</a>, and some
<a href="https://www.thestranger.com/slog/2020/06/29/43999454/ab-streets-game-lets-you-create-the-seattle-street-grid-of-your-dreams">local press coverage</a></li>
<li>Support for parking lots, automatically inferring the number and position of
individual slots from OpenStreetMap geometry</li>
<li>Names of roads shown in-game, in a way that doesn't cause clutter with agents
moving nearby</li>
<li>Work starting on light rail and restricting through-traffic to zones</li>
</ul>
<p>A/B Street uses a <a href="https://github.com/dabreegster/abstreet/tree/master/ezgui/">custom GUI library</a>, leveraging <code>glium</code>, <code>usvg</code>, and
<code>lyon</code>. Help with Rust and visual/game design is always welcome! Check out the
<a href="https://github.com/dabreegster/abstreet/blob/master/docs/roadmap.md">roadmap</a> and <a href="https://github.com/dabreegster/abstreet/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22">good first issues</a>.</p>
<h3 id="crate-before-attack"><a href="https://cratebeforeattack.com/">Crate Before Attack</a>&nbsp;
</h3>
<p><a href="https://youtu.be/LLAc9_cOR9o"><img src="https://rust-gamedev.github.io/posts/newsletter-011/crate_before_attack.gif" alt="In-game visual scripting prototype"></a></p>
<p>^ <em>In-game visual scripting prototype</em></p>
<p><a href="https://cratebeforeattack.com/">Crate Before Attack</a> by <a href="https://twitter.com/CrateAttack">koalefant (@CrateAttack)</a>
is a skill-based grappling hook multiplayer game where frogs combat their friends
while navigating the landscape with their sticky tongues.</p>
<p>A summary of recent changes:</p>
<ul>
<li>Visuals: added two new artist-painted levels:
<a href="https://youtu.be/IOmD1LRJ6NA">Space</a>
and <a href="https://youtu.be/UgIBNolI7Wo">Dinosaurs</a>.</li>
<li>Gameplay: <a href="https://youtu.be/IUBZgusI7aI">AI can now play all game modes</a>,
added Quick Game option,</li>
<li>In-game <a href="https://youtu.be/LLAc9_cOR9o">visual scripting prototype</a>.</li>
<li>Physics tweaks and <a href="https://youtu.be/r5BAe03MRZo">improved terrain normal sampling</a></li>
<li>Multiplayer: added in-game chat, private matches with secret links,
improved game setup UI. Numerous bugfixes and tweaks</li>
<li><a href="https://cratebeforeattack.com/play">Playable Browser build</a>.</li>
</ul>
<p>More details in <a href="https://cratebeforeattack.com/posts/20200630-june-update/">June Update DevLog-entry</a>
and on <a href="https://youtube.com/channel/UC_xMilPTLuuE5iLs1Ml9zow">the YouTube channel</a>.</p>
<h3 id="garden-june-devlog"><a href="https://epcc.itch.io/garden">Garden</a>: June Devlog&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/garden.jpeg" alt="screenshot: concrete &amp; trees"></p>
<p><a href="https://epcc.itch.io/garden">Garden</a> is an upcoming game centered around growing realistic plants.
Some of the updates from <a href="https://cyberplant.xyz/posts/june">the June devlog</a>:</p>
<ul>
<li>Soil collision detection &amp; changes to the soil column generation.</li>
<li>Plant sim &amp; terrain updates happen at different times &amp; separately.</li>
<li>Proper Global Illumination research.</li>
<li>Automatic in-game texture reloading.</li>
</ul>
<h3 id="veloren"><a href="https://veloren.net/">Veloren</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/veloren-wolf.gif" alt="Animation improvements"></p>
<p>^ <em>Animation improvements</em></p>
<p><a href="https://veloren.net/">Veloren</a> is an open world, open-source voxel RPG inspired by Dwarf
Fortress and Cube World.</p>
<p>In June, Veloren did a big interview with GamingOnLinux, be sure to <a href="https://www.gamingonlinux.com/2020/06/interviewed-veloren-an-upcoming-foss-multiplayer-voxel-rpg">check it
out</a>! Veloren's lead artist also started a weekly blog
about his work on Veloren, which you can see <a href="https://www.patreon.com/posts/weekly-blog-no-1-37819335">here</a>. Veloren recently
reached the <a href="https://gitlab.com/explore/projects/starred">first page</a> of most starred projects on Gitlab! The
<a href="https://www.youtube.com/channel/UCmRjlnKnSRRihWPPNasl_Qw">Veloren Youtube channel</a> also reached 1000
subscribers.</p>
<p>A lot has been done over the last month towards 0.7, which is slated to release
at the beginning of August. Lots of work has been done improving UI and
animations. These will help towards the goal of 0.7 being the "progression"
update. Many improvements have been made to the continuous integration system to
make it more reliable and faster. Mac support was added to Airshipper, the
Veloren launcher. Significant work was done on the world simulation front. This
includes economic simulations that will represent trade and resource pricing in
settlements and cities. Castle generation is also now in the works.</p>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/veloren2.jpeg" alt="Work on castle generation"></p>
<p>Test coverage and documentation has started to improve, and a workflow around it
is being developed. The project is now hosting a <a href="https://docs.veloren.net/veloren_voxygen/index.html">proper documentation
site</a> that is updated with each merge. A #ux working group was
created to facilitate discussions on improvements to player interactions in
Veloren. Lots of translations were merged, including Swedish, Polish, and
Brazilian Portugese. The skill system is moving on to implementation, being a
coordinated effort between the game design, art, and combat working groups.</p>
<p>You can read more about some specific topics from June:</p>
<ul>
<li><a href="https://veloren.net/devblog-70#mod-analysis-by-bottledbyte">Mod Analysis</a></li>
<li><a href="https://veloren.net/devblog-70#improving-ci-by-xmac94x">Improving CI</a></li>
<li><a href="https://veloren.net/devblog-72#economic-research-by-zesterer">Economic Research</a></li>
<li><a href="https://veloren.net/devblog-72#compilation-improvements-by-xmac94x">Compilation Improvements</a></li>
<li><a href="https://veloren.net/devblog-73#improving-test-coverage-by-angelonfira">Improving Test Coverage</a></li>
<li><a href="https://veloren.net/devblog-74#skill-system-work-by-xvar">Skill System Work</a></li>
<li><a href="https://veloren.net/devblog-74#animation-updates">Animation updates</a></li>
</ul>
<p>June's full weekly devlogs: "This Week In Veloren...":
<a href="https://veloren.net/devblog-70">#70</a>,
<a href="https://veloren.net/devblog-71">#71</a>,
<a href="https://veloren.net/devblog-72">#72</a>,
<a href="https://veloren.net/devblog-73">#73</a>,
<a href="https://veloren.net/devblog-74">#74</a>.</p>
<p>In July, work will be done to complete the progression systems. There will be
financial meetings held to discuss how funds from the project's Open Collective
will be distributed.</p>
<hr>
<p>Also, check out <a href="https://youtube.com/watch?v=aS26sqT09Pw">a talk about open source and Veloren</a>:</p>
<p><a href="https://youtube.com/watch?v=aS26sqT09Pw"><img src="https://rust-gamedev.github.io/posts/newsletter-011/veloren-talk.jpeg" alt="Veloren talk"></a></p>
<h3 id="zero-to-game"><a href="https://zerotoga.me/">Zero to Game</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/zerotogame-destruction.gif" alt="ships with greater thrust explode"></p>
<p>^ <em>The initial destruction prototype applied across different thrust levels</em></p>
<p><a href="https://zerotoga.me/">Zero to Game</a> is a project that documents
the creation of an independent space game from zero.</p>
<blockquote>
<p>My plan for this website is to narrate my independent development
of a computer game in the Rust programming language.
I've never done this before, and so I hope to be able to show you
the progression right from zero all the way up to a game.</p>
<ul>
<li>Zero game programming experience.</li>
<li>Zero experience in the Rust programming language.</li>
<li>Zero experience making assets, images, sounds, models, etcetera.</li>
</ul>
</blockquote>
<p>Currently published posts:</p>
<ul>
<li><a href="https://zerotoga.me/dev/findingzero">#1 "Finding Zero"</a>
- where the game development journey is beginning.</li>
<li><a href="https://zerotoga.me/dev/inspiringdesign">#2 "Inspiring Design"</a>
- how Factorio, Screeps, and Space Station 13 are inspiring the game's design.</li>
<li><a href="https://zerotoga.me/dev/pickingtechnology">#3 "Picking Technology"</a>
- researching a technology path for the game project to start out on.</li>
<li><a href="https://zerotoga.me/dev/leadingdesignchallenges">#4 "Leading Design Challenges"</a>
- the spacetime issues with combining gameplay inside and outside of spaceships.</li>
<li><a href="https://zerotoga.me/dev/fastspaceshipphysics">#5 "Fast Spaceship Physics"</a>
- prototyping a spaceship physics simulation aimed at speed.</li>
<li><a href="https://zerotoga.me/dev/physicaldestruction">#6 "Physical Destruction"</a>
- the structure and implementation of a spaceship destruction prototype.</li>
<li><a href="https://zerotoga.me/dev/renderinginrust">#7 "Rendering in Rust"</a>
- working through from tutorial code to meet the needs
of the game's first Rust scene render.</li>
</ul>
<h3 id="pont"><a href="https://pont.mattkeeter.com/">Pont</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/pont_screenshot.png" alt="Screenshot of the Pont board game"></p>
<p>Pont is a multiplayer online board game based on
<a href="https://en.wikipedia.org/wiki/Qwirkle">Qwirkle</a>, implemented by <a href="https://twitter.com/impraxical">Matt Keeter</a>.
Both the client and server are written in Rust,
using WebAssembly to run the client in the browser
without any Javascript (besides a small shim).</p>
<p>It can be played online <a href="https://pont.mattkeeter.com/">here</a>!</p>
<p>The system architecture is described in a <a href="https://mattkeeter.com/projects/pont">blog post</a>
and the source is available <a href="https://github.com/mkeeter/pont">on Github</a></p>
<p><em>Discussions:
<a href="https://www.reddit.com/r/rust/comments/gu1bq5/pont_a_board_game_in_rust_webassembly/">/r/rust</a>,
<a href="https://news.ycombinator.com/item?id=23649369">Hacker News</a></em></p>
<h3 id="scale"><a href="https://github.com/Uriopass/Scale">Scale</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/scale.png" alt="Scale screenshot"></p>
<p><a href="https://github.com/Uriopass/Scale">Scale</a>'s objective is to become a granular society simulation,
filled with fully autonomous agents interacting with their world in real time.</p>
<p>The 4th <a href="http://douady.paris/blog/scale_4.html">devlog</a> was published, talking about
the new renderer based on <a href="https://github.com/gfx-rs/wgpu-rs">wgpu-rs</a>, pathfinding, parking,
curved roads and a new crate extracted from the project called <a href="https://crates.io/crates/flat_spatial">flat_spatial</a>.</p>
<p><em>Discussions:
<a href="https://www.reddit.com/r/rust_gamedev/comments/henx2n/scale_devblog_4/">/r/rust_gamedev</a></em></p>
<h3 id="runner"><a href="https://github.com/jayrave/runner">runner</a>&nbsp;
</h3>
<p><a href="https://vimeo.com/428851779"><img src="https://rust-gamedev.github.io/posts/newsletter-011/runner_gameplay_sample.png" alt="Runner gameplay sample"></a></p>
<p><a href="https://github.com/jayrave/runner">runner</a> is a simple side-scrolling endless runner game that takes place in
a bright world that only has our fearless adventurer &amp; a few pesky beings
that are bent on keeping her from running! It uses <a href="https://github.com/amethyst/specs">specs</a> for <a href="https://en.wikipedia.org/wiki/Entity_component_system">ECS</a>
and has multiple frontends: <a href="https://github.com/Rust-SDL2/rust-sdl2">sdl2</a> &amp; <a href="https://github.com/ryanisaacg/quicksilver">quicksilver</a>.
Between the two frontends it can target the majority of the platforms:
Web, Mac, Linux, Windows (untested) &amp; possible even iOS &amp; Android.</p>
<h3 id="animal-chess"><a href="https://github.com/netcan/AnimalChess">Animal Chess</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/animal-chess.jpeg" alt="Part of the game map"></p>
<p>^ <em>Part of the game map</em></p>
<p><a href="https://github.com/netcan/AnimalChess">Animal Fight Chess</a> (ÊñóÂÖΩÊ£ã, "Doe Show Chee") by <a href="https://github.com/netcan">@netcan</a>
is a Rust implementation of a popular Chinese game.</p>
<p>To win the game, one player must successfully move any animal into
the Den(ÂÖΩÁ©¥) of the opponent or eat all animals of the opponent.
The basic move is just one space either forward, backward, left, or right.
The pieces never move diagonally.
Each player has eight pieces,
<a href="http://ancientchess.com/graphics-rules/dou_shou_qi_jungle_game-pieces-values.jpg">different animals with different degrees of power</a>,
a larger power piece can eat a little power piece, but rat can eat elephant.
Here's a picture of the pieces, their English names,
and relative powers indicated by a number.
See full rules at <a href="http://ancientchess.com/page/play-doushouqi.htm">ancientchess.com</a>
or <a href="https://en.wikipedia.org/wiki/Jungle_(board_game)">Wikipedia</a>.</p>
<p>The project uses alpha beta pruning algorithm for AI and provides
a python module to use AlphaZero algorithm for training.</p>
<h3 id="rs-type"><a href="https://github.com/akiross/rs-type">rs-type</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/rs-type.png" alt="screenshot: planets and words"></p>
<p><a href="https://github.com/akiross/rs-type">rs-type</a> is a WIP typing game
inspired by <a href="https://zty.pe/">zty.pe</a>.
It can load <a href="https://github.com/KDE/ktouch/tree/master/data/courses">KTouch courses</a>
and also has a built-in basic vector drawing tool for painting backgrounds.</p>
<h3 id="guacamole-runner"><a href="https://github.com/EllenNyan/guacamole-runner">Guacamole Runner</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/guacamole.gif" alt="gif"></p>
<p><a href="https://github.com/EllenNyan/guacamole-runner">Guacamole Runner</a> is a small game made with
<a href="https://github.com/17cupsofcoffee/Tetra">Tetra</a> and <a href="https://github.com/leudz/shipyard">Shipyard</a> in approximately 2 days
by <a href="https://twitter.com/EllenNyan0214">@EllenNyan</a>.
The game's concept is that the player is constantly falling
and must jump off planes to stay in the air.
When they go over the top of the dirt tiles
they plant flowers which gives them points.</p>
<h3 id="wooting-snake"><a href="https://github.com/TanTanDev/wooting_snake">Wooting Snake</a>&nbsp;</h3></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rust-gamedev.github.io/posts/newsletter-011">https://rust-gamedev.github.io/posts/newsletter-011</a></em></p>]]>
            </description>
            <link>https://rust-gamedev.github.io/posts/newsletter-011</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763075</guid>
            <pubDate>Tue, 07 Jul 2020 19:29:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Guide to Start Journaling]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23762891">thread link</a>) | @soneca
<br/>
July 7, 2020 | https://blog.quidsentio.com/posts/a-guide-to-start-journaling/ | <a href="https://web.archive.org/web/*/https://blog.quidsentio.com/posts/a-guide-to-start-journaling/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Maybe you‚Äôve never done much journaling, but you‚Äôre thinking you might want to
start, or maybe you‚Äôve tried a few times but struggle to make it into a habit.</p>
<p>Journaling is highly personal and everyone does it a little differently.
Eventually, you will develop your own unique way to do it, but until then, we
can help you get started.</p>
<h4>For our intro to journaling and tips on how to begin, continue reading, but if you are looking for a specific topic, here are a few quick links:</h4>
<!-- - [Journaling prompts](/posts/journaling-prompts/) -->
<ul>
<li><a href="https://blog.quidsentio.com/posts/journal-types-and-writing-techniques/">Journal Types and Writing Techniques</a></li>
<li><a href="https://blog.quidsentio.com/posts/journaling-your-old-stories/">Journaling your old stories</a></li>
<li><a href="https://blog.quidsentio.com/posts/journaling-through-audio/">Journaling through audio</a></li>
<li><a href="https://blog.quidsentio.com/posts/sharing-your-personal-journal/">Sharing your personal journal</a></li>
</ul>
<p>Before we get into practical tips on how to start, it is important to clarify
some concepts about journaling itself.</p>
<h2>What is journaling</h2>
<p>Put simply, journaling is the habit of writing about yourself.</p>
<p>Of course, writing about yourself can be very broad! Your journal might be a
simple record of what you do each day, or it might include your mood and
feelings, the weather, introspection, your thoughts about others, or what's
happening in the world.</p>
<p>Just talk to yourself while nobody is watching. Most often, you are talking to
your future self. On occasion, you may opt to share your thoughts with people
you trust. Later in this guide, we‚Äôll discuss what to share and with whom, but
for now, treat your journal as a conversation with yourself.</p>
<h2>Why start journaling</h2>
<p>If you are reading a guide to start journaling, you probably already have an
idea of why you want to do it. Any reason is valid if it works for you, but
knowing why other people do it might strengthen your habit.</p>
<p>You might journal to deepen your understanding of yourself or your emotions, to
heal past hurts, or to cope with current challenges. It can help to organize
your ideas, make sense of what's happening in your life, and build a foundation
to make decisions. You can use it to track activities, develop healthy habits or
eliminate unhealthy ones, and understand how what you do relates to how you
feel. Or you might simply record life events and create memories that you can
revisit in a distant future. You could use your journal to exercise your
creativity, experiment with new ways of self-expression, ramble, or vent. Or, if
none of those reasons strike your fancy, you might choose to start a journal for
a brand new reason altogether.</p>
<h2>How to start journaling</h2>
<p>Developing a new habit is never easy. On one hand, you just have to start. The
problem is, some people are so good at starting, that they just keep starting
and starting and starting...</p>
<p>We hope that with our tips, you will start journaling definitively and not have
to start again!</p>
<h3>Give some thought to the reason you are journaling</h3>
<p>It can be anything, but you have to have a reason. If you can't explain to
yourself why you‚Äôre starting this, you probably won't be able to convince
yourself to keep doing it. Once you develop the habit you might discover new
reasons to maintain it, but you must already know at least one good reason to
start.</p>
<h3>The second day you write matters more than the first</h3>
<p>When you start journaling, you might put a lot of thought and time into that
first entry, but one entry doesn‚Äôt constitute journaling. Remember, journaling
is a habit, which means it continues for more than just a day. That first
journal entry is just a pre-requisite to what will eventually become a habit if
you do it again and again and again.</p>
<p>You should care a little bit less about what you write on the first day, but do
consider what you are going to write tomorrow. If you start thinking about what
you want to write tomorrow, you‚Äôre more likely to actually do it.</p>
<h3>Timebox the first days of writing</h3>
<p>Timeboxing is the technique of allocating a fixed amount of time to an activity.
In the first days of writing your journal entries, timebox your writing so you
don‚Äôt get overwhelmed‚Äîand keep it short, like 15 minutes.</p>
<p>You might feel inspired and be tempted to pour your heart out for hours to make
up for all the days that you haven‚Äôt written anything. Resist that temptation!
No marathon ever started with a sprint. You won't be capable of creating a daily
habit of something if it takes hours out of your day. If you set such a high bar
for yourself, you‚Äôll feel pressure keep writing long and inspired entries, and
the pressure will make you quit.</p>
<p>While you are still forming the habit, don't abuse it. Long entries will
sometimes occur, but let it happen naturally once you have already formed the
habit.</p>
<h3>Set an alarm</h3>
<p>When you are starting a new habit it is not, by definition, part of your
routine. You won't naturally remember to do it, and the day will get away from
you. So set an alarm. Try to predict the time of day when you‚Äôre most likely to
do it‚Äîit usually fits best as one of the last parts of the day ‚Äî and set a daily
reminder on your phone. Don't trust your memory tomorrow, take advantage of your
resolve today.</p>
<h3>Tell someone you started journaling</h3>
<p>A public announcement becomes a public commitment. Even if it is just one
person, it is one more person who can hold you accountable for your resolution.
If you can find someone who already has a journaling habit, even better.</p>
<h3>Don't worry if you miss a day, but never miss two in a row</h3>
<p>It is not a big deal to miss a day during that first week, or even two, as long
as they are not consecutive. Be diligent to never miss two days in a row. Having
a flawless streak of daily entries is motivating ‚Äî so imagine how demotivating a
negative streak can be.</p>
<h3>After a few days, read your early entries</h3>
<p>When you read your first entries after a few days you will feel how rewarding is
to have a personal journal. You will understand much better the value of the
habit of journaling and you will imagine how you would feel reading the same
thing a year from now, then five years from now, or ten, or twenty. It‚Äôs
powerful!</p>
<p>If you think you are ready to start, you can start with Quid Sentio. We make it
easy to write, easy to find and filter older entries, and easy to share with
trusted people when you are ready to do it.</p>
<p><a href="https://www.quidsentio.com/">Sign up here</a> and give it a try, and follow all the
tips above to set yourself up for success!</p>
<p>If you want to continue exploring more about journaling, we still have several
more topics to cover in this guide. Choose yours:</p>
<!-- - [Journaling prompts](/posts/journaling-prompts/) -->
<ul>
<li><a href="https://blog.quidsentio.com/posts/journal-types-and-writing-techniques/">Journal Types and Writing Techniques</a></li>
<li><a href="https://blog.quidsentio.com/posts/journaling-your-old-stories/">Journaling your old stories</a></li>
<li><a href="https://blog.quidsentio.com/posts/journaling-through-audio/">Journaling through audio</a></li>
<li><a href="https://blog.quidsentio.com/posts/sharing-your-personal-journal/">Sharing your personal journal</a></li>
</ul>
</div></div>]]>
            </description>
            <link>https://blog.quidsentio.com/posts/a-guide-to-start-journaling/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762891</guid>
            <pubDate>Tue, 07 Jul 2020 19:09:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pattern Matching, Racial Diversity and the Hypocrisy of Big Tech Media]]>
            </title>
            <description>
<![CDATA[
Score 130 | Comments 82 (<a href="https://news.ycombinator.com/item?id=23762876">thread link</a>) | @OoTheNigerian
<br/>
July 7, 2020 | https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/ | <a href="https://web.archive.org/web/*/https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<h2><em>It‚Äôs Time to Watch the Watchmen ‚Äì The Diversity Report of TechCrunch, Recode, The Information, Business Insider and Protocol.</em></h2>



<div><figure><img src="https://lh4.googleusercontent.com/QTSx6MgSrYd5pwZwobk89Xec66X0GkNbYOHlVXsLtIl7k72caVj3WcuYrYU5eWrBc_LqSI2hj7n9-Z-5crONenrK8bPF6nQjAbPYgsXtnAppymJwHTVpYzXR0OR6M7FcKGRnjhwV" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption><strong>The Big Dogs of Big Tech Media.</strong> <br>Clockwise from top left: Lessin of The Information, Swisher of Recode (Vox), Panzarino of TechCrunch, Shontell of Business Insider and Pierce of Protocol are Editors-in-Chief of the most influential tech publications in the world.</figcaption></figure></div>



<h2>Prelude</h2>



<p><em>I have been writing about </em><a href="https://oonwoye.com/2010/04/05/black-founders/"><em>Diversity in Tech for over a decade now</em></a><em> ‚Äì a long time. However, my self-published posts have never really got the audience it was targeted at, which is, the Silicon Valley Main Street. This time around, I wanted to do something different with regard to distribution.&nbsp;</em></p>



<p><em>Since I completed this post over two weeks ago, I‚Äôve hawked it as an Op-Ed to </em><strong><em>ALL</em></strong><em> main street US (Tech) media ‚Äì 22 of them. Sadly, but unsurprisingly and understandably, I‚Äôve had no takers. It is a big request to ask anyone, including journalists, to give a dissenting voice an audience, so I have decided to self-publish again, but this time around, I hope the primary intended audience gets to see it and the conversation happens. <strong>Abeg (please), share it</strong> as you wish me luck holding these very powerful people to account.</em></p>



<h2>Introduction</h2>



<p>No thanks to the brutal execution of George Floyd and more importantly, thanks to the persistence of protesters, the conversation about institutional racism in various parts of American life is back to the fore and has been sustained. The tech industry has not been exempted.</p>



<p>As with previous cycles, it has cast blame towards the typical suspects: Big Tech and Venture Capital. And as with previous conversation cycles, one key player in the diversity deficient tech world is wriggling away unscathed, yet again. Silicon Valley Big Tech Media.</p>



<h2>Pattern Matching in Tech</h2>



<p><em>Pattern matching</em> is a colloquial terminology in the tech industry that refers to the propensity for established players in tech e.g. Venture Capitalists, taking superficial patterns of successful founders (young white boys who have dropped out of Stanford or Harvard) and using them to determine future investment decisions.</p>



<blockquote><p>‚ÄúI can be tricked by anyone who looks like Mark Zuckerberg‚Äù</p><cite><em>Paul Graham (According to The New York Times)</em></cite></blockquote>



<p>Though <a href="http://www.paulgraham.com/tricked.html">eventually clarified by Paul Graham</a>, that attributed quote articulately captures the spirit of Pattern Matching. Since how one ‚Äúlooks‚Äù is one of the obvious patterns one can observe in a human, it is believed that pattern matching disproportionally affects ‚Äúpeople of colour‚Äù (why do we use this term?).</p>



<p>I have no problem with pattern matching. In psychology it is known as <a href="https://en.wikipedia.org/wiki/Pattern_recognition_(psychology)">pattern recognition</a>, which is natural and critical for survival. It is how human beings recognise things and make vital decisions quickly, with little data.</p>



<p>My first memory of Pattern Matching was while playing football (the real one) as a kid. The guys with the bow-legged swagger, wearing boots and a shin guard were always picked first. It was almost automatic because they looked like talented footballers. And that‚Äôs how I learned to pick my teams. After missing out on some straight legged barefoot talents and picking several kitted-out clowns, I adjusted and used more sensible parameters.</p>



<p>I learned something from that though: Pattern matching is all well and good until it receives contradicting data. It‚Äôs all about the data.</p>



<h2>The Role of Big Tech Media in Pattern Matching</h2>



<p>In the past decade, Big Tech Media has rightfully shone the light on racial inequality in the ranks of Big Corporations and Venture Capital in the tech industry. The Diversity Reports ‚Äî as they are known, of Big Tech and VC have been published routinely.</p>



<p>The media are very powerful. It is through them we learn and understand the world beyond ourselves. Their importance and power in shaping opinions cannot be overstated as they are very key in providing the data which influences patterns that lead to decisions.&nbsp;</p>



<p>In Tech, when it comes to personnel, a lot of that data comes in the form of presence. The Big Tech Media controls it all via narrative and coverage in their publications and mega conferences. It is through the media that every player ‚Äì VCs, Tech Executives, Founders etc learn about the tech world that exists outside of their immediate spheres.</p>



<p>However, when it comes to the diversity in tech debate, I wonder: how have Big Tech Media, the primary opinion shapers of the tech industry, escaped any scrutiny? Then it hit me: when you are busy pointing your torch at others, you forget to point it at yourself.</p>



<p>Since Big Tech Media remains a critical piece if we are to rejig the data to alter diversity-deficient patterns in tech, it‚Äôs high-time we shone the light on Big Tech Media.</p>



<p><em>[RANDOM: Watching the film </em><a href="https://www.imdb.com/title/tt4846340/"><em>Hidden Figures</em></a><em> made me almost cry. I had </em><strong><em>absolutely no idea</em></strong><em> that in the 60s, there were Black women mathematicians and programmers who were good enough to work for the NASA Space Program. Imagine if this was always common knowledge. I can only imagine how many more black folks it would have influenced to take up a career in Computer Science and Technology].</em></p>



<h2>Diversity Report of (Silicon Valley) Big Tech Media</h2>



<p>In 2015, I looked at <a href="https://oonwoye.com/2015/10/15/where-are-the-black-tech-foundersexecutive-speakers-at-major-tech-conferences/">the racial makeup of the largest tech conferences in the world</a>. The results were damning. I wondered how these organisers could be so oblivious. It then occurred to me to check out the people making these decisions, and it was clear why they were colour blind; they didn‚Äôt have the right ‚Äòlenses‚Äô i.e., makeup of the editorial/media team, to notice the absence of certain colours.</p>



<p>In this report card, I will look at the racial diversity makeup of both speaker line-ups and the editorial teams of Big Tech Media ‚Äì who are mostly in Silicon Valley, and contrast their 2015 with today.</p>



<h2>The Candidates</h2>



<h3><strong>TechCrunch</strong></h3>



<p>TechCrunch, owned by AOL/Verizon has been the Big Dog of tech startup chronicling and commentary since 2005. More so, they host arguably the largest and most influential startup conference called Disrupt. I have followed TechCrunch since 2007 and experienced the startup evolution through them.</p>



<h3><strong>Recode</strong></h3>



<p>In the past decade, Recode has evolved from being All Things Digital at WSJ to being Independent to now being a unit at Vox Media. One constant throughout its evolution has been the very formidable Kara Swisher, who is arguably the single most influential person in Big Tech Media.&nbsp;</p>



<h3><strong>The Information</strong></h3>



<p>This subscription-based tech publication is high up the list in shaping opinion among Venture Capitalists in Silicon Valley. It was started by Jessica Lessin who is a formidable reporter and an Alumnus of WSJ. They have a <a href="https://www.theinformation.com/vc-diversity-index">VC Diversity Index</a>.&nbsp;</p>



<h3><strong>Business Insider</strong></h3>



<p>Based in New York and founded by the great Henry Blodget, Business Insider is a top 3 tech voice in the tech industry.</p>



<h3><strong>Protocol</strong></h3>



<p>Backed by a bunch of heavyweights, this publication launched this year with a lot of panache.&nbsp;</p>



<p>How well have they done?</p>



<h2>Racial Diversity Report Card of Major US/Silicon Valley Tech Media</h2>



<figure><img src="https://lh4.googleusercontent.com/Zd5PvX7kGrFnUadYJgep593NbaDVe1T6PYMlXsDtanuGqwQyV7qBIsH9SUo8e2vdWelOEfqmzDYcv8VyV-U909zgRSOcL3c2J7QQgNrsEr5CQbZ3zh6iNZdeuXbYdHwXDqIa8pzG" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The diversity report of Big Tech Media</figcaption></figure>



<p><a href="https://docs.google.com/spreadsheets/d/1l6Bmj3M1sgqCR3PijCsyoYF5OrovGUDFEEujYSItZb0/edit?usp=sharing">Here is the data for this table</a> in spreadsheet format and links to sources.</p>







<p>It is good to highlight problems but better to proffer solutions. But first, do these people recognise that there is a problem? Do they want to solve it?&nbsp;</p>



<p>In 2015 when I wrote my previous post, I had the impression some did. In my <a href="https://twitter.com/OoTheNigerian/status/738076047539896321">Twitter engagement with Kara Swisher</a> after my first post, Aunty Kara gave the patronising response by referencing ‚Äúthe adept use of social media‚Äù as a representation of Black in Tech, I offered to engage privately (I threw in my<a href="https://twitter.com/OoTheNigerian/status/802151006754795520"> beer diplomacy</a> for good measure). It came to nought.</p>



<p><em>[Shalaye (Explanation): Aunty Kara took me up on the offer. As agreed, I reached out on 3 subsequent trips to the US and Silicon Valley. After sending about half a dozen emails, initially replied with excuses, Kara went cold and stopped responding. She is not the first Silicon Valley person whose Twitter (public) position contrasts with their private ones, so I haven‚Äôt taken it personally. I‚Äôd be more than happy to grab that beer if she‚Äôs open to it]</em></p>



<p>If Big Tech companies especially the media wish to change things, they have to first stop being colour-blind and get competent people who have eyes for the blind spots. A deliberate, sincere effort will yield good fruit.</p>



<p><strong>If you are a privileged person in the tech industry who wants to be a true ‚Äúally‚Äù and see things improve, here are some actionable things to do:&nbsp;</strong></p>



<ol><li>If you are on yet another panel and you notice the absence of accomplished Black tech players, speak up. Make recommendations. I am happy for you to ask me if your black network isn‚Äôt that vast. See Appendix (<strong>Note:</strong> Black folks have great competence about things outside the diversity topic).</li><li>If you are a VC and you are in on a good deal, try to work with the founder and carve out an allocation for those good black investors that aren‚Äôt as opportune to have your network. We all know the deal flow is the <em>koko (main thing).</em> If you want to help, share the deal.</li><li>If you are recruiting for a senior role in your executive team or board, you can take a book from the NFL beyond Colin Kaepernick‚Äôs brave kneeling protest; the <a href="https://en.wikipedia.org/wiki/Rooney_Rule">Rooney Rule</a>. Just make sure you have a qualified black person in your interview shortlist. That‚Äôs not too much of an ask.&nbsp;</li></ol>



<p>I wrote in an email to my white founder friend recently: <em>I see many organisations ‚Äúfighting‚Äù systemic racism by opening their cheque books. A donation here, a freebie there. It makes them feel good, perhaps. It‚Äôs like a retweet but with money.</em></p>



<p>So, decide if you want to show concern or effect change. I prefer both.</p>







<ol><li>Every company (including Big Tech Media) has the prerogative to invite or cover anyone they like. However, the proprietors of Tech Media cannot play watchmen and feign concern about the diversity in tech debate while their actions are in direct contrast.</li><li>In this post, I focused on these ‚Ä¶</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/">https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/</a></em></p>]]>
            </description>
            <link>https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762876</guid>
            <pubDate>Tue, 07 Jul 2020 19:08:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: "DeStack‚Äù see what's new for your stack (Terraform/cloudformation)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23762209">thread link</a>) | @FigmentEngine
<br/>
July 7, 2020 | https://moca.computingarchitectures.com/en/~destack/ | <a href="https://web.archive.org/web/*/https://moca.computingarchitectures.com/en/~destack/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
         <header>
            
            <p>A tool to help you understand what's new for your AWS stack</p>
            <p>
               						07/July/2020
               					
            </p>
         </header>
         <section>
            <header>
               <h2>DeStack: An AWS Stack deconstructor</h2>
               <p>A tool to help you understand what's new for your stack</p>
            </header>
            
            <p><a href="https://moca.computingarchitectures.com/en/vendors/aws/" title="Amazon Web Services">AWS</a> has a terrific rate of innovation, which is amazing when you are building a new system.
               				But, <i>how can you keep up with it all? which updates are relevant to my systems</i>? 
               				
               				<a href="https://moca.computingarchitectures.com/en/~destack/" title="An AWS Stack deconstructor">DeStack</a> is a tool to help you with that! <b>by showing you the updates that matters to you</b>.				
               			
            </p>
            <p>
               				Deconstruction is a process that has been applied to philosophy, and food -
               				to understand something anew by looking at its parts.
               				<a href="https://moca.computingarchitectures.com/en/~destack/" title="An AWS Stack deconstructor">DeStack</a> applies this same thinking to deconstruct your <a href="https://moca.computingarchitectures.com/en/vendors/aws/" title="Amazon Web Services">AWS</a> Stack.
               				With <i>infrastructure-as-code</i> you can define your entire architecture using text.
               				<a href="https://moca.computingarchitectures.com/en/~destack/" title="An AWS Stack deconstructor">DeStack</a> can analyze this (<a href="https://moca.computingarchitectures.com/en/vendors/aws/products/cloudformation/" title="infra as code (decl)">AWS CloudFormation</a> or Terraform HCL) template text and tell you what's new for your stack.
               				Just paste your stack below, and hit "What's new?"
               			
            </p>
            
            <form method="POST" action="https://api.destack.xyz/report" enctype="multipart/form-data"></form>
         </section>
         <section>
            <header>
               <h2>Background</h2>
               <p>wait, how does this work?</p>
            </header>
            <p><a href="https://moca.computingarchitectures.com/en/~destack/" title="An AWS Stack deconstructor">DeStack</a> uses the 
               				"<a href="https://moca.computingarchitectures.com/en/~hello-world/" title="MoCA">Map Of Computing Architectures</a>" (Moca)
               				to understand your stack. It then finds the latest relevant news to your stack.
               			
            </p>
            <p>
               				Having a way for you to see <i>what's new</i> for your stack will
               				help you in multiple ways:			
               			
            </p>
            <ul>
               <li>
                  <p><span><a href="https://moca.computingarchitectures.com/en/vendors/aws/" title="Amazon Web Services">AWS</a></span> releases many new updates
                     						each day. Keeping up can be a challenge!
                     						Using <a href="https://moca.computingarchitectures.com/en/~destack/" title="An AWS Stack deconstructor">DeStack</a> allows you to filter that stream of updates,
                     						allowing you to focus on the ones that matter to you.
                     					
                  </p>
               </li>
               <li>
                  <p>
                     						Evolving your architecture as your business requirements
                     						change is a good idea.
                     						This ensures your systems remain fit for purpose,
                     						and no large-scale rewrites are called for.
                     						<a href="https://moca.computingarchitectures.com/en/~destack/" title="An AWS Stack deconstructor">DeStack</a> helps you see what features and updates
                     						have been released since you last reviewed your architecture.
                     					
                  </p>
               </li>
            </ul>
            <p>
               				I hope <a href="https://moca.computingarchitectures.com/en/~destack/" title="An AWS Stack deconstructor">DeStack</a> is useful to you, if you spot any problems, or improvements that could be
               				made please contact me by email (<b>mocagon at figmentengine.com</b>).
               			
            </p>
         </section>
         
      </article></div>]]>
            </description>
            <link>https://moca.computingarchitectures.com/en/~destack/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762209</guid>
            <pubDate>Tue, 07 Jul 2020 18:09:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Analysis of all YouTube trending videos in US for 2019]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 38 (<a href="https://news.ycombinator.com/item?id=23762180">thread link</a>) | @ammar_x
<br/>
July 7, 2020 | https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us | <a href="https://web.archive.org/web/*/https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-cover.png"></p>

<p>Around 1.5 years ago, I did an <a href="https://www.kaggle.com/ammar111/youtube-trending-videos-analysis">analysis of YouTube trending videos</a> in US. That analysis was performed on trending videos of some months in 2017 and 2018. The analysis received a lot of interest on <a href="https://www.kaggle.com/ammar111/youtube-trending-videos-analysis">Kaggle</a> and <a href="https://www.reddit.com/r/datascience/comments/9kpmcn/i_analyzed_more_than_40000_youtube_trending/">Reddit</a>; I also received some emails praising the work done. That was 1.5 years ago.</p>

<p><strong>Today</strong>, I present an improved and expanded version of that analysis. This analysis is more advanced and contains new interesting elements. In this analysis, <strong>All trending videos for the whole year of 2019</strong> were analyzed (More than <strong>70,000</strong> videos).</p>

<p>Titles, descriptions, thumbnails, tags, views, likes/dislikes, and comments were all analyzed to produce the results shown in this post. Continue reading to know more about the analysis and the data or you can <a href="#analysis-res">jump directly to the results section</a>.</p>

<ul id="markdown-toc">
  <li><a href="#what-are-youtube-trending-videos" id="markdown-toc-what-are-youtube-trending-videos">What are YouTube Trending Videos?</a></li>
  <li><a href="#goals-of-the-analysis" id="markdown-toc-goals-of-the-analysis">Goals of the Analysis</a></li>
  <li><a href="#tools-used" id="markdown-toc-tools-used">Tools Used</a>    <ul>
      <li><a href="#code-used" id="markdown-toc-code-used">Code Used</a></li>
    </ul>
  </li>
  <li><a href="#data-source" id="markdown-toc-data-source">Data Source</a></li>
  <li><a href="#data-size-and-description" id="markdown-toc-data-size-and-description">Data Size and Description</a></li>
  <li><a href="#analysis-results" id="markdown-toc-analysis-results">Analysis Results</a>    <ul>
      <li><a href="#trending-videos-and-views" id="markdown-toc-trending-videos-and-views">Trending Videos and Views</a>        <ul>
          <li><a href="#how-many-views-videos-had-when-they-first-became-trending" id="markdown-toc-how-many-views-videos-had-when-they-first-became-trending">How Many Views Videos Had When they First Became Trending?</a></li>
        </ul>
      </li>
      <li><a href="#trending-for-30-days" id="markdown-toc-trending-for-30-days">Trending for 30 days!</a></li>
      <li><a href="#trending-videos-titles" id="markdown-toc-trending-videos-titles">Trending Videos Titles</a>        <ul>
          <li><a href="#number-of-fully-uppercase-words-in-titles" id="markdown-toc-number-of-fully-uppercase-words-in-titles">Number of Fully-Uppercase Words in Titles</a></li>
          <li><a href="#what-are-the-most-common-words-in-video-titles" id="markdown-toc-what-are-the-most-common-words-in-video-titles">What are the Most Common Words in Video Titles?</a></li>
          <li><a href="#what-are-the-most-common-2-grams-in-video-titles" id="markdown-toc-what-are-the-most-common-2-grams-in-video-titles">What are the Most Common 2-Grams in Video Titles?</a></li>
          <li><a href="#titles-lengths" id="markdown-toc-titles-lengths">Titles Lengths</a></li>
        </ul>
      </li>
      <li><a href="#trending-channels" id="markdown-toc-trending-channels">Trending Channels</a></li>
      <li><a href="#trending-videos-categories" id="markdown-toc-trending-videos-categories">Trending Videos Categories</a></li>
      <li><a href="#when-were-trending-videos-published" id="markdown-toc-when-were-trending-videos-published">When were Trending Videos Published?</a></li>
      <li><a href="#trending-videos-and-comments" id="markdown-toc-trending-videos-and-comments">Trending Videos and Comments</a>        <ul>
          <li><a href="#how-many-comments-videos-had-when-they-first-became-trending" id="markdown-toc-how-many-comments-videos-had-when-they-first-became-trending">How Many Comments Videos Had When they First Became Trending?</a></li>
        </ul>
      </li>
      <li><a href="#trending-videos-and-likes-and-dislikes" id="markdown-toc-trending-videos-and-likes-and-dislikes">Trending Videos and Likes.. and Dislikes</a></li>
      <li><a href="#how-long-does-it-take-a-video-to-become-trending" id="markdown-toc-how-long-does-it-take-a-video-to-become-trending">How Long Does it Take a Video to Become Trending?</a></li>
      <li><a href="#trending-videos-descriptions" id="markdown-toc-trending-videos-descriptions">Trending Videos Descriptions</a>        <ul>
          <li><a href="#how-long-is-the-description" id="markdown-toc-how-long-is-the-description">How Long is the Description?</a></li>
          <li><a href="#most-common-words-in-trending-videos-descriptions" id="markdown-toc-most-common-words-in-trending-videos-descriptions">Most Common Words in Trending Videos Descriptions</a></li>
          <li><a href="#does-trending-videos-descriptions-contain-hashtags" id="markdown-toc-does-trending-videos-descriptions-contain-hashtags">Does Trending Videos Descriptions Contain Hashtags?</a></li>
        </ul>
      </li>
      <li><a href="#trending-videos-tags" id="markdown-toc-trending-videos-tags">Trending Videos Tags</a>        <ul>
          <li><a href="#most-common-words-in-trending-videos-tags" id="markdown-toc-most-common-words-in-trending-videos-tags">Most Common Words in Trending Videos Tags</a></li>
        </ul>
      </li>
      <li><a href="#correlations-of-trending-videos" id="markdown-toc-correlations-of-trending-videos">Correlations of Trending Videos</a></li>
      <li><a href="#what-are-the-most-used-colors-in-trending-videos-thumbnails" id="markdown-toc-what-are-the-most-used-colors-in-trending-videos-thumbnails">What are the Most Used Colors in Trending Videos Thumbnails?</a></li>
      <li><a href="#whats-inside-trending-videos-thumbnails" id="markdown-toc-whats-inside-trending-videos-thumbnails">What‚Äôs Inside Trending Videos Thumbnails?</a></li>
      <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
    </ul>
  </li>
</ul>
<h2 id="what-are-youtube-trending-videos">What are YouTube Trending Videos?</h2>

<p>YouTube, as you know, is the most popular and most used video platform in the world today. YouTube has <a href="https://www.youtube.com/feed/trending">a list of <strong>trending videos</strong></a>. I‚Äôll quote the description of trending videos from <a href="https://support.google.com/youtube/answer/7239739?hl=en">YouTube itself</a>:</p>

<blockquote>
  <p>Trending helps viewers see what‚Äôs happening on YouTube and in the world. Trending aims to surface videos that a wide range of viewers would find interesting. Some trends are predictable, like a new song from a popular artist or a new movie trailer. Others are surprising, like a viral video. Trending isn‚Äôt personalized and displays the same list of trending videos in each country to all users.</p>

  <p>The list of trending videos is updated roughly every 15 minutes. With each update, videos may move up, down, or stay in the same position in the list.</p>
</blockquote>

<h2 id="goals-of-the-analysis">Goals of the Analysis</h2>

<p>The main goal of the analysis is to find interesting facts and patterns by exploring the data and by using effective visualizations.</p>

<p>Some of the questions the analysis will answer:</p>

<ul>
  <li>What is the average/minimum/maximum view count for 2019‚Äôs trending videos?</li>
  <li>Which videos appeared on the trending list the most (because some videos might appear on the trending list for more than one day)?</li>
  <li>What are the most common words in the titles/descriptions/tags of trending videos?</li>
  <li>What are the title lengths of the trending videos? What is the average/minimum/maximum title length?</li>
  <li>Which channels have more trending videos than others?</li>
  <li>What are the top categories of trending videos? Are ‚ÄúEntertainment‚Äù videos more trending than ‚ÄúGaming‚Äù videos?</li>
  <li>How many views/comments/likes trending videos have when first appearing on the trending list?</li>
  <li>How many days are between publishing a video and its first appearance on the trending list?</li>
  <li>How long are the descriptions/tags of trending videos?</li>
  <li>What are the most used colors in the thumbnails of trending videos?</li>
  <li>What are the most common objects in the thumbnails of trending videos? (Running AI object detection algorithm on all thumbnails)</li>
</ul>

<p>The analysis covers much more topics as you will see soon.</p>



<p>This analysis was performed using Python and a powerful group of Python libraries including Pandas, Matplotlib, NLTK, ImageAI, WordCloud, and more.</p>

<p>The analysis were performed in a Jupyter Notebook.</p>

<h3 id="code-used">Code Used</h3>

<p>You can find all the code used for this analysis in a Jupyter notebook <a href="https://github.com/ammar1y/YouTube-Trending-Videos-Analysis-2019">on this link</a>. Feel free to read the code and re-use it however you want. Also note that the notebook contains more analyses than the ones shown here in this post, so if you want to see everything, refer to the notebook after you finish reading this post.</p>

<h2 id="data-source">Data Source</h2>

<p>The data used in this analysis was retrieved using YouTube API. A script was scheduled to run <strong>each day throughout 2019 and fetch data from YouTube API about the trending videos of that day</strong>. The script would then process the data received from YouTube and store them in text files.</p>

<p>The scraping script is not my work. It can be found on Github: <a href="https://github.com/mitchelljy/Trending-YouTube-Scraper"> Trending-YouTube-Scraper</a>. I put the script on a AWS EC2 instance and scheduled it‚Äîusing Crontab‚Äîto run every day at a specific time.</p>

<p>After 2019 ended, I connected to the AWS instance using FileZilla application and downloaded all the data produced by the script. There was a file for each day of 2019. To perform the analysis, I needed to process the data in order to merge the files into a single CSV file.</p>

<p>If you want to <strong>download the data used in this analysis</strong> which describes 2019's trending videos in the United States, you can buy it securely on Gumroad <u><strong><a href="https://gum.co/qEzKK" target="_blank">on this link</a></strong></u> or by using the button below. Along with United States, you'll also get trending-videos data for United Kingdom, Canada, Denmark, Malaysia, Saudi Arabia, and other countries as well.</p>

<h2 id="data-size-and-description">Data Size and Description</h2>

<p><strong>In this post, United-States trending videos will be analyzed</strong>, which constitute a total of <strong>72,994</strong> videos. YouTube usually place 200 videos in the trending list each day which would mean that we should have 73,000 (365 x 200) videos. We have 72,994. This is probably because on a few days, the number of Trending videos was slightly less than 200.</p>

<p>So we have data on 72,994 trending videos to analyze. On YouTube, <strong>the same video might appear on the trending list for many days. This means that the 72,994 videos are not unique videos</strong>. In fact, among the 72,994 videos, <strong>we have 11,177 unique videos</strong>.</p>

<p>In other words, 11,177 videos showed on the trending list throughout 2019. Some of them might have stayed on the list for 10 days, some for 20 days, etc. We will see later in the analysis more info about this.</p>

<p>The following table shows an example of <strong>the data that we have for each video</strong>:</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-data.png" alt=""></p>

<p><br>
As we can see, we have the ID of the video which is a unique value for the video across YouTube (No two videos have the same ID). We also have the title of the video, its publishing date and time, the channel that published it, its category, and its description and tags. We also have the number of the views, likes, dislikes, and comments of the video. There are also a few more data shown in the table.</p>

<p>We can see that there is a field named ‚Äútrending_date‚Äù. This field specifies the date on which this video was trending. As we said earlier, the same video might appear on the trending-videos list for more than one day. This means that we might find another record in the data for the same video ID but with different ‚Äútrending_date‚Äù and maybe different number of views, comments, likes, etc. (because those numbers are likely to increase from one day to another).</p>



<h2 id="analysis-results">Analysis Results</h2>

<p>Now let‚Äôs start the best part of this post, let‚Äôs see the analysis results.</p>

<p><span id="note-uniq"></span><strong>Please note</strong> that for the following analyses, <strong>unless otherwise stated</strong>, we applied the analysis on all of the <strong>72,994</strong> trending videos, <strong>not</strong> on the unique trending videos only. The reasoning behind this is that we are interested in videos considered trending by YouTube. So if a video is considered trending for 3 days, then we believe that it has more trending power and more trending characteristics than a video that was trending for 1 day only; thus, it should have more weight. So <strong>we include the 3 occurrences of that video in the analysis</strong>.</p>

<p>For some analyses, considering only unique videos is more appropriate. When that is the case, you will see a note telling you about that.</p>

<h3 id="trending-videos-and-views">Trending Videos and Views</h3>

<p><strong>The Trending Video with the Highest Number of Views</strong> is a song by BTS band named ‚ÄúBoy With Luv‚Äù. The video was published on 12/April/2019 and on 23/04/2019, it appeared on the trending list with 195,376,667 views which is the highest number of views a trending video had in 2019.</p>

<p>In the table below, you can see <strong>the top 3 trending videos based on the number of views</strong>. These trending videos had views when they appeared on the trending list more than any other trending video. This table was produced by considering unique trending videos only (<a href="#note-uniq">For more</a>).</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-top-views.png" alt=""></p>



<p>And now we will look at the distribution of views for trending videos. The histogram below shows this distribution:</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-view-dist.png" alt=""></p>



<p><em>Notice that the y-axis is <a href="https://www.mathsisfun.com/definitions/logarithmic-scale.html">log scaled</a>. It is 10, 100, 1000‚Ä¶ not 10, 20, 30‚Ä¶</em></p>

<p>We can see that the vast majority of trending videos had less than 20 million views when they became trending. In fact, when they became trending, around <strong>94% of trending videos had less than 10 million views</strong> and around 99.9% had less than 100 million views.</p>

<p>Now, we might ask: <strong>What are the trending videos with the least amount of views?</strong> The table below shows the 3 trending videos with the lowest number of views when appearing on the trending list. This table was produced by considering unique trending videos only (<a href="#note-uniq">For more</a>).</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-least-views.png" alt=""></p>



<p>You can see that these three videos appeared on the trending list on the same day they were published on. Maybe they received a high number of views in the first few hours after they were published which sent them to the trending list.</p>

<h4 id="how-many-views-videos-had-when-they-first-became-trending">How Many Views Videos Had When they First Became Trending?</h4>

<p>We mentioned earlier that there were many videos that appeared on the trending list on more than one day. We now want to consider the first appearance only of each video. We ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us">https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us</a></em></p>]]>
            </description>
            <link>https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762180</guid>
            <pubDate>Tue, 07 Jul 2020 18:07:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dune: The Battle for Arrakis ‚Äì Extended Reference (2003)]]>
            </title>
            <description>
<![CDATA[
Score 170 | Comments 96 (<a href="https://news.ycombinator.com/item?id=23762027">thread link</a>) | @tosh
<br/>
July 7, 2020 | http://ledmeister.com/dunexref.htm | <a href="https://web.archive.org/web/*/http://ledmeister.com/dunexref.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://ledmeister.com/dunexref.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762027</guid>
            <pubDate>Tue, 07 Jul 2020 17:54:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Easy way to set up Kubernetes environments for testing: Soluble Cinderella]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23762017">thread link</a>) | @melindacat
<br/>
July 7, 2020 | https://app.soluble.cloud/start/try-cinderella | <a href="https://web.archive.org/web/*/https://app.soluble.cloud/start/try-cinderella">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://app.soluble.cloud/start/try-cinderella</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762017</guid>
            <pubDate>Tue, 07 Jul 2020 17:53:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VirtualGym, a real-time platform for online video-chat fitness training]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23761519">thread link</a>) | @leonardopaffi
<br/>
July 7, 2020 | https://virtualgym.run/dashboard | <a href="https://web.archive.org/web/*/https://virtualgym.run/dashboard">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://virtualgym.run/dashboard</link>
            <guid isPermaLink="false">hacker-news-small-sites-23761519</guid>
            <pubDate>Tue, 07 Jul 2020 17:20:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Common Lisp style guide]]>
            </title>
            <description>
<![CDATA[
Score 188 | Comments 86 (<a href="https://news.ycombinator.com/item?id=23761346">thread link</a>) | @fanf2
<br/>
July 7, 2020 | https://google.github.io/styleguide/lispguide.xml | <a href="https://web.archive.org/web/*/https://google.github.io/styleguide/lispguide.xml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div title="Google Common Lisp Style Guide">


<p>

Revision 1.28
</p>


<address>
Robert Brown
</address>
<address>
  <a href="mailto:tunes@google.com">Fran√É¬ßois-Ren√É¬© Rideau</a>
</address>

<address>
   In memoriam Dan Weinreb
</address>

<p>
<cite>Patterns mean "I have run out of language."</cite> √¢‚Ç¨‚Äù Rich Hickey
</p>


<overview>
<category title="Important Note">
  <stylepoint title="Note: Displaying Hidden Details in this Guide">
     <summary>
       This style guide contains many details
       that are initially hidden from view.
       They are marked by the triangle icon, which you see here on your left.
       Click it now. You should see "Hooray" appear below.
     </summary>
     
       <p>
        Hooray!  Now you know you can expand points to get more details.
        Alternatively, there's an "expand all" at the top of this document.
       </p>
     
  </stylepoint>
</category>
<category title="Background">
  <p>
    Common Lisp is a powerful multiparadigm programming language.
    With great power comes great responsibility.
  </p>
  <p>
    This guide recommends formatting and stylistic choices
    designed to make your code easier for other people to understand.
    For those internal applications and free software libraries that
    we develop at Google,
    you should keep within these guidelines when making changes.
    Note however that each project has its own rules and customs
    that complement or override these general guidelines;
    the speed-oriented QPX low fare search engine notably
    has a very different style and feel from the QRes reservation system.
  </p>
  <p>
    If you're writing Common Lisp code outside Google,
    we invite you to consider these guidelines.
    You may find some of them useful
    where they don't conflict with other priorities you have.
    We welcome remarks and constructive feedback
    on how to improve our guide, and
    on what alternate styles work for you and why.
  </p>
  
  <p>
    This guide is not a Common Lisp tutorial.
    For basic information about the language, please consult
    <a href="http://www.gigamonkeys.com/book/">Practical Common Lisp</a>.
    For a language reference, please consult the
    <a href="http://www.lispworks.com/documentation/HyperSpec/Front/index.htm">Common Lisp HyperSpec</a>.
    For more detailed style guidance, take (with a pinch of salt)
    a look at Peter Norvig and Kent Pitman's
    <a href="http://norvig.com/luv-slides.ps">style guide</a>.
  </p>
</category>
</overview>
<category title="Meta-Guide">
  <stylepoint title="Must, Should, May, or Not">
    <summary>
      Each guideline's level of importance is indicated
      by use of the following keywords and phrases, adapted from
      <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>.
    </summary>
    
      <table>
        <tbody><tr>
          <th>MUST</th>
          <td>
            <p>
              This word, or the terms "REQUIRED" or "SHALL",
              means that the guideline is an absolute requirement.
              You must ask permission to violate a MUST.
            </p>
          </td>
        </tr>
        <tr>
          <th>MUST NOT</th>
          <td>
            <p>
              This phrase, or the phrase "SHALL NOT",
              means that the guideline is an absolute prohibition.
              You must ask permission to violate a MUST NOT.
            </p>
          </td>
        </tr>
        <tr>
          <th>SHOULD</th>
          <td>
            <p>
              This word, or the adjective "RECOMMENDED", means that
              there may exist valid reasons in particular circumstances
              to ignore the demands of the guideline, but
              the full implications must be understood and carefully weighed
              before choosing a different course.
              You must ask forgiveness for violating a SHOULD.
            </p>
          </td>
        </tr>
        <tr>
          <th>SHOULD NOT</th>
          <td>
            <p>
              This phrase, or the phrase "NOT RECOMMENDED", means that
              there may exist valid reasons in particular circumstances
              to ignore the prohibitions of this guideline, but
              the full implications should be understood and carefully weighed
              before choosing a different course.
              You must ask forgiveness for violating a SHOULD NOT.
            </p>
          </td>
        </tr>
        <tr>
          <th>MAY</th>
          <td>
            <p>
              This word, or the adjective "OPTIONAL",
              means that an item is truly optional.
            </p>
          </td>
        </tr>
      </tbody></table>
      <p>
        Unlike RFCs, we don't capitalize every instance of one of the above
        keywords when it is used.
      </p>
    
  </stylepoint>
  <stylepoint title="Permission and Forgiveness">
    <summary>
      There are cases where transgression of some of these rules
      is useful or even necessary.
      In some cases, you must seek permission or obtain forgiveness
      from the proper people.
    </summary>
    
      <p>
        Permission comes from the owners of your project.
      </p>
      
      <p>
        Forgiveness is requested in a comment
        near the point of guideline violation,
        and is granted by your code reviewer.
        The original comment should be signed by you, and
        the reviewer should add a signed approval to the comment at review time.
      </p>
      
    
  </stylepoint>
  <stylepoint title="Conventions">
    <summary>
      You MUST follow conventions. They are not optional.
    </summary>
    
      <p>
        Some of these guidelines are motivated by universal principles of good programming.
        Some guidelines are motivated by technical peculiarities of Common Lisp.
        Some guidelines were once motivated by a technical reason,
        but the guideline remained after the reason subsided.
        Some guidelines, such those about as comments and indentation,
        are based purely on convention, rather than on clear technical merit.
        Whatever the case may be, you must still follow these guidelines,
        as well as other conventional guidelines
        that have not been formalized in this document.
      </p>
      <p>
        You MUST follow conventions.
        They are important for readability.
        When conventions are followed by default,
        violations of the convention are a signal
        that something notable is happening and deserves attention.
        When conventions are systematically violated,
        violations of the convention are a distracting noise
        that needs to be ignored.
      </p>
      <p>
        Conventional guidelines <em>are</em> indoctrination.
        Their purpose is to make you follow the mores of the community,
        
        so you can more effectively cooperate with existing members.
        It is still useful to distinguish the parts that are technically motivated
        from the parts that are mere conventions,
        so you know when best to defy conventions for good effect,
        and when not to fall into the pitfalls that the conventions are there to help avoid.
      </p>
    
  </stylepoint>
  <stylepoint title="Old Code">
    <summary>
      Fix old code as you go.
    </summary>
    
      <p>
        A lot of our code was written before these guidelines existed.
        You should fix violations as you encounter them
        in the course of your normal coding.
      </p>
      <p>
        You must not fix violations en masse
        without warning other developers and coordinating with them,
        so as not to make the merging of large branches
        more difficult than it already is.
      </p>
    
  </stylepoint>
  <stylepoint title="Future Topics">
    <summary>
      There are many topics for additional standardization
      not covered by current version of this document,
      but deferred to future versions.
    </summary>
    
      <ul>
        <li>
          File and directory structure
        </li>
        <li>
          Packages and modularity
        </li>
        <li>
          Threads and locking
        </li>
        <li>
          How to add configurable components
        </li>
        <li>
          CLOS style: initforms, slot and accessor names, etc.
        </li>
        <li>
          Recommendations on max number of slots per class.
        </li>
        <li>
          More concrete examples of good code:
          <ul>
            <li>
              exceptions
            </li>
            <li>
              transactions, with retry
            </li>
            <li>
              XML
            </li>
            <li>
              typing
            </li>
            <li>
              encapsulation / abstraction
            </li>
            <li>
              class and slot names
            </li>
            <li>
              etc.
            </li>
          </ul>
        </li>
        <li>
          When (not) to use conditional compilation:
          <ul>
            <li>
              modifying the product
            </li>
            <li>
              conditional debugging/console output/etc.
            </li>
            <li>
              "temporarily" commenting-out blocks of code
            </li>
            <li>
              etc.
            </li>
          </ul>
        </li>
      </ul>
    
  </stylepoint>
  </category>
<category title="General Guidelines">
  <stylepoint title="Principles">
    <summary>
      There are some basic principles for team software development
      that every developer must keep in mind.
      Whenever the detailed guidelines are inadequate, confusing or contradictory,
      refer back to these principles for guidance:
      <ul>
        <li>
          Every developer's code must be easy for another developer
          to read, understand, and modify
          √¢‚Ç¨‚Äù even if the first developer isn't around to explain it.
          (This is the "hit by a truck" principle.)
        </li>
        <li>
          Everybody's code should look the same.
          Ideally, there should be no way to look at lines of code
          and recognize it as "Fred's code" by its style.
        </li>
        <li>
          Be precise.
        </li>
        <li>
          Be concise.
        </li>
        <li>
          KISS √¢‚Ç¨‚Äù Keep It Simple, Stupid.
        </li>
        <li>
          Use the smallest hammer for the job.
        </li>
        <li>
          Use common sense.
        </li>
        <li>
          Keep related code together.
          Minimize the amount of jumping around
          someone has to do to understand an area of code.
        </li>
      </ul>
    </summary>
    
    
  </stylepoint>
  <stylepoint title="Priorities">
    <summary>
      <p>
        When making decisions about how to write a given piece of
        code, aim for the following -ilities in this priority order:
      </p>
      <ul>
        <li>
          Usability by the customer
        </li>
        <li>
          Debuggability/Testability
        </li>
        <li>
          Readability/Comprehensibility
        </li>
        <li>
          Extensibility/Modifiability
        </li>
        <li>
          Efficiency (of the Lisp code at runtime)
        </li>
      </ul>
    </summary>
    
      <p>
        Most of these are obvious.
      </p>
      <p>
        Usability by the customer means that the system has to do what the
        customer requires; it has to handle the customer's transaction
        volumes, uptime requirements; etc.
      </p>
      <p>
        For the Lisp efficiency point,
        given two options of equivalent complexity,
        pick the one that performs better.
        (This is often the same as the one that conses less,
        i.e. allocates less storage from the heap.)
      </p>
      <p>
        Given two options where one is more complex than the other,
        pick the simpler option and revisit the decision only if
        profiling shows it to be a performance bottleneck.
      </p>
      <p>
        However, avoid premature optimization.
        Don't add complexity to speed up something that runs rarely,
        since in the long run, it matters less whether such ‚Ä¶</p></stylepoint></category></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://google.github.io/styleguide/lispguide.xml">https://google.github.io/styleguide/lispguide.xml</a></em></p>]]>
            </description>
            <link>https://google.github.io/styleguide/lispguide.xml</link>
            <guid isPermaLink="false">hacker-news-small-sites-23761346</guid>
            <pubDate>Tue, 07 Jul 2020 17:07:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I hacked Kuando Busylight to control it from my Apple watch]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23761176">thread link</a>) | @tckb
<br/>
July 7, 2020 | https://tckb.tgrthi.me/2020/busylight-driver/ | <a href="https://web.archive.org/web/*/https://tckb.tgrthi.me/2020/busylight-driver/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://tckb.tgrthi.me/2020/busylight-driver/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23761176</guid>
            <pubDate>Tue, 07 Jul 2020 16:57:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automating Threat Intel with NLP: Grasping Concepts from Underground Discussions]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23761031">thread link</a>) | @_soruso
<br/>
July 7, 2020 | https://delvesecurity.com/automating-threat-intel-with-machine-learning-extracting-the-underlying-concepts-from-underground-discussions-and-osint/ | <a href="https://web.archive.org/web/*/https://delvesecurity.com/automating-threat-intel-with-machine-learning-extracting-the-underlying-concepts-from-underground-discussions-and-osint/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        

<h2><span>Introduction</span></h2>
<p><span>In cybersecurity, news regarding new vulnerabilities appears </span><span>continuously every day</span><span> through an array of various sources, be it news networks, social networks, blogs, security advisories, etc. These fall under the umbrella of open-source intelligence (OSINT). Yet not all vulnerabilities generate the same level of interest and length of discussion.</span></p>
<p><span>As such, one interesting aspect of vulnerability prioritization is to consider what types of vulnerabilities are currently trending in these OSINT sources, in order to establish the types of vulnerabilities an attacker might favor.&nbsp; For example, if discussions in public sources and underground networks currently mention reflected XSS attacks on particular frameworks more often than usual, then other attackers reading these discussions could be tempted to attack other similar XSS vulnerabilities, or find similar inflection points in other frameworks. Attackers, just like cybersecurity experts, are very much influenced by trends in exploitation methods.</span></p>
<p><span>This blogpost explains in part how </span><a href="https://delvesecurity.com/delves-vulnerability-threat-intelligence-feed/"><span>Delve's Vulnerability Threat Intelligence Feed</span></a><span> identifies the top trending vulnerabilities on a daily basis.</span></p>
<p><span>The goal of the approach presented in this blog is to identify the patterns or trends underlying online discussions. These are what we aim to model in order to generalize which vulnerabilities might receive more attention from attackers, regardless of the vulnerability‚Äôs direct mentions (e.g., its CVE number) in online discussions. The goal is the identification of the underlying concepts associated with online cybersecurity discussions, first to assess the importance of existing vulnerabilities, and second to use this representation as input to future predictive models. To extract this information, a natural language approach is employed, which uses machine learning, and more specifically,</span><i><span> topic modeling</span></i><span>.</span></p>
<p><span>In short, it is possible to build a representation of a vulnerability that captures both its intrinsic features as well as its relationship with the external world.</span></p>
<p><span>This framework aims to:&nbsp;</span></p>
<ul>
<li><span>Create a representation that encodes the semantic meaning of vulnerabilities, i.e., topics from the textual descriptions of all disclosed vulnerabilities to date.</span></li>
<li><span>Crawl online infosec discussions and apply them to a topic model, so as to obtain a weighted list of topics, which we call </span><i><span>trends</span></i><span>.</span></li>
<li><span>Combine the previously-built trends to their respective topics in a vulnerability, in order to indicate its importance to current infosec discussions.</span></li>
<li><span>Use these trends and topics in future machine learning projects as input features</span></li>
</ul>
<h2><span>Methodology</span></h2>
<p><span>In order to accomplish these goals, we can use topic modeling, which is an unsupervised machine learning technique where a number of topics are automatically extracted from a text corpus, along with each one‚Äôs probability to appear in any of the texts. A </span><i><span>topic</span></i><span> consists of one or more weighted words, where a higher weight indicates a higher importance to the topic. A topic represents an underlying concept extracted from the text through statistical analysis.&nbsp;</span></p>
<p><span>For example, there are a great number of disclosed buffer overflow vulnerabilities out there, each with a different but similar description. This technique can capture a generic topic representing the words associated with buffer overflow vulnerabilities, looking somewhat like this:</span></p>
<div id="attachment_4694"><p><img aria-describedby="caption-attachment-4694" src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-1.png" alt="" width="596" height="450" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-1.png 596w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-1-300x227.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-1-100x76.png 100w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-1-550x415.png 550w" sizes="(max-width: 596px) 100vw, 596px"></p><p id="caption-attachment-4694"><strong>Figure 1: An example of a buffer overflow topic</strong></p></div>
<p><span>A prominent topic modeling technique is Latent Dirichlet Allocation (LDA), which is a generative model that computes the probability of a word being associated with a topic[1]. LDA has been proven effective in previous research and applications[2,3], and is one of the most common topic modeling methods.&nbsp;</span></p>
<h3><span>Creating the Topic Model&nbsp;</span></h3>
<p><span>First, let‚Äôs extract the textual definition of all vulnerabilities in the National Vulnerability Database (NVD) of the NIST, each associated with a CVE number. These texts are then processed, as depicted by Figure 2. In step 1, URLs and common words are removed, the text is split into tokens (single words), and the words are lemmatized</span><span> (<a href="https://nlp.stanford.edu/IR-book/html/htmledition/stemming-and-lemmatization-1.html">Stanford</a>) to group together different inflections of a word.&nbsp;</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-2.png" alt="" width="591" height="101" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-2.png 591w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-2-300x51.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-2-100x17.png 100w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-2-550x94.png 550w" sizes="(max-width: 591px) 100vw, 591px"></p>

<p><strong>Figure 2: Filtering of a description‚Äôs words, and splitting into tokens</strong></p>
<p><span>These lists of tokens can then be transformed into a numerical representation using the bag-of-words model, as depicted in Figure 3. In this new representation, each token is identified by an ID and its number of occurrences, where the ID is chosen based on its first appearance in the definitions. This transformation is necessary since LDA requires numerical inputs.</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-3.png" alt="" width="512" height="82" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-3.png 512w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-3-300x48.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-3-100x16.png 100w" sizes="(max-width: 512px) 100vw, 512px"></p>
<p><strong>Figure 3: Transformation of a description‚Äôs tokens into a numerical representation</strong></p>
<p><span>These are then used as input to LDA, as shown in Figure 4, which generates a set of topics identified by a series of words and an importance factor between 0 and 1. This model is implemented using online learning, where new published vulnerabilities are fed to the model daily and the model is updated incrementally.</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Feature-Image.png" alt="" width="531" height="292" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Feature-Image.png 531w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Feature-Image-300x165.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Feature-Image-100x55.png 100w" sizes="(max-width: 531px) 100vw, 531px"></p>

<p><strong>Figure 4: Association of words in numerical form to their topics through LDA</strong></p>
<h3><span>Building Trends from Online Discussions</span></h3>
<p><span>Once we have learned a suitable model for vulnerabilities, one that understands the specifics of language in the description of vulnerabilities, we gather online discussions of vulnerabilities and exploitations from various public sources. While a number of previous works have extracted information from online discussions in order to build models[4,5,6,7], none applied them to a topic model in the same way this blog details. Now, let‚Äôs process text posts from discussions in the same way as specified in Figure 2 and Figure 3, and apply them to the existing topic model.&nbsp;</span></p>
<p><span>This results in a vector of weights for each text post, where each topic‚Äôs importance to this discussion is expressed by a number between 0 and 1, named a </span><i><span>weight</span></i><span>. By averaging these vectors together across all posts, we obtain a final single vector denoting the relative importance of each of our topics in what we observe in online discussions. We call those ‚Äútrends‚Äù. In the end, by extracting the topics with the highest weights, we obtain the set of current trends. Figure 5 describes the creation of trends:</span></p>

<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-5.png" alt="" width="471" height="271" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-5.png 471w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-5-300x173.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-5-100x58.png 100w" sizes="(max-width: 471px) 100vw, 471px"></p>
<p><strong>Figure 5: The creation of a trends score from online discussions</strong></p>
<h3><span>Scoring Vulnerabilities</span></h3>
<p><span>Finally, we look back at the vulnerabilities from the NIST database which were used to build the initial topic model, and identify the ones with topics matching the newly established trends. This is done by applying the dot product to each vulnerability topic vector and the trends vector, or in slightly more human language, by computing the product of each of a vulnerability‚Äôs topic weights and its corresponding trend weights, and summing them. This gives us a final Vulnerability Trends Score (VTS).&nbsp;</span></p>
<p><span>The higher the VTS is, the more closely this vulnerability matches with online discussions.</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-6.png" alt="" width="533" height="301" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-6.png 533w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-6-300x169.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-6-100x56.png 100w" sizes="(max-width: 533px) 100vw, 533px"></p>

<p><strong>Figure 6: The dot product between the vulnerability topics and the trends</strong></p>
<p><span>The framework can be summarized in the figure below. First, the topic model is trained with vulnerability descriptions, and outputs a number of topics:</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-7.png" alt="" width="512" height="351" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-7.png 512w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-7-300x206.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-7-100x69.png 100w" sizes="(max-width: 512px) 100vw, 512px"></p>
<p><span>Second, online discussions are run through the same topic model to establish which of the previously obtained topics are most important for these discussions:</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-8.png" alt="" width="532" height="365" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-8.png 532w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-8-300x206.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-8-100x69.png 100w" sizes="(max-width: 532px) 100vw, 532px"></p>

<p><strong>Figure 7: Overview of the approach</strong></p>
<h3><span>Example of a Use Case</span></h3>
<p><span>Let‚Äôs see how this works in practice: 30 topics (why 30? See the Appendix below) were identified on all of NIST‚Äôs vulnerabilities, each identifying a concept observed in vulnerability descriptions. Then, data was gathered from online discussions, such as these tweets from Twitter :</span></p>
<ul>
<li><span>We have created the first write-up on the recent Apache Tomcat RCE (CVE-2020-9484), read here: [url] #infosec #javahacking #exploit #tomcat #deserialization #webapplicationhacking #vulnerability</span></li>
</ul>
<ul>
<li><span>Security Bulletin: Open Source Apache Tomcat vulnerabilities affect IBM Tivoli Application Dependency Discovery Manager (CVE-2020-1938) [url] Multiple vulnerabilities in Open Source Apache Tomcat reported by The Apache Software Foundation [url]</span></li>
</ul>
<ul>
<li><span>Apache Tomcat AJP Vulnerability (CNVD-2020-10487/CVE-2020-1938)&nbsp; (<a href="https://nvd.nist.gov/vuln/detail/CVE-2020-1938">NIST</a>) .This vulnerability was discovered by a security researcher of Chaitin Tech . You can read any webapps files or include a file to RCE .JUST A POC-GIF with no DETAILS Tomcat has fix this vulnerability ,UPDATE! [url]"</span></li>
</ul>
<p><span>When applying the topic model to these tweets, a weight for every topic of the model is obtained, relative to&nbsp; these specific tweets. This is what we identify as </span><i><span>trends</span></i><span>. Among others, these three topics, in a human-interpretable form, came out as important:</span></p>
<ul>
<li><b>Topic A</b><span>, related to file upload vulnerabilities</span></li>
<li><b>Topic B</b><span>, related to applications having default settings and making HTTP requests&nbsp;</span></li>
<li><b>Topic D</b><span>, related to code execution vulnerabilities</span></li>
</ul>
<p><span>Finally, we can use the trends and the vulnerabilities‚Äô topics to obtain a VTS for each vulnerability, using the method described previously.&nbsp;</span></p>
<p><span>The top-ranked vulnerability comes out as CVE-2020-1938</span><span>, which identifies an Apache Tomcat vulnerability, code-named Ghostcat, enabling attackers to upload files through a default connection, and potentially obtain a remote code execution. The following figure illustrates the evolution of this specific vulnerability over the month of June 2020:</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-9.png" alt="" width="392" height="300" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-9.png 392w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-9-300x230.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-9-100x77.png 100w" sizes="(max-width: 392px) 100vw, 392px"><strong>Figure 8: The evolution of CVE-2020-1938‚Äôs VTS score over the month of June</strong></p>
<p><span>This vulnerability appearing as the most important is expected, given that many tweets mention Tomcat vulnerabilities, and some directly speak of this vulnerability. More interestingly, other vulnerabilities matching with topics A, B and D will also have a high trending score, while not necessarily being the most mentioned online.&nbsp;&nbsp;</span></p>
<h2><span>Results</span></h2>
<p><span>With a model trained in early June 2020, the top trending topics obtained are shown in Figure 9 as word clouds. The model is trained everyday to observe the evolution of trends.</span></p>
<p><img src="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-10.png" alt="" width="563" height="475" srcset="https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-10.png 563w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-10-300x253.png 300w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-10-100x84.png 100w, https://delvesecurity.com/wp-content/uploads/2020/07/VTS-Blog-Image-10-550x464.png 550w" sizes="(max-width: 563px) 100vw, 563px"></p>

<p><strong>Figure 9: Word clouds detailing four top trending topics</strong></p>
<p><span>As you can see, topic A is centered around file ‚Ä¶</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://delvesecurity.com/automating-threat-intel-with-machine-learning-extracting-the-underlying-concepts-from-underground-discussions-and-osint/">https://delvesecurity.com/automating-threat-intel-with-machine-learning-extracting-the-underlying-concepts-from-underground-discussions-and-osint/</a></em></p>]]>
            </description>
            <link>https://delvesecurity.com/automating-threat-intel-with-machine-learning-extracting-the-underlying-concepts-from-underground-discussions-and-osint/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23761031</guid>
            <pubDate>Tue, 07 Jul 2020 16:47:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyral launches data breach detection]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23760892">thread link</a>) | @bpetrin
<br/>
July 7, 2020 | https://cyral.com/news/cloud-based-data-layer-security-startup-cyral-announces-general-availability-of-enterprise-platform/ | <a href="https://web.archive.org/web/*/https://cyral.com/news/cloud-based-data-layer-security-startup-cyral-announces-general-availability-of-enterprise-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3><em>New platform extends ‚ÄúZero Trust‚Äù to the data layer and accelerates customer adoption with more than 60 third-party cloud and data store native integrations</em></h3><p>Cyral, provider of the first cloud security platform for the data layer, today announced general availability of its data layer security platform.</p><p>‚ÄúCyral pioneered the concept of a security platform for the data layer and has closed scores of new customer trials and production deployments since announcing our funding in January 2020,‚Äù&nbsp; said Manav Mital, founder and CEO of Cyral. ‚ÄúThe new GA platform gives customers security directly at the data layer. It is cloud native, fast and light, and lets organizations install and deploy with one-click native integrations to the most popular enterprise tools without requiring changes to any applications.‚Äù</p><p>Cyral provides data layer security protection across an enterprise, providing immediate benefits for security, DevOps and IT and data governance teams.</p><p><strong>CISOs:</strong></p><ul><li>Enhance cloud security with granular data access policies;</li><li>Extend Zero Trust to the data layer;</li><li>Protect your organization from data breaches;</li><li>Increase trust with your customers and provide assurance.</li></ul><p><strong>IT &amp; Data Governance:</strong></p><ul><li>Simplify user management for databases and data warehouses;</li><li>Discover and enforce least privileges across all data endpoints;</li><li>Meet compliance requirements for data activity monitoring;</li><li>Continuous change management compliance through security as code.</li></ul><p><strong>Security Operations:</strong></p><ul><li>Use data layer context to respond to incidents faster and reduce alert fatigue;</li><li>Detect and prevent exfil attacks using advanced policies not possible elsewhere;</li><li>Alert on high-severity anomalies and analyze suspicious behavior patterns</li><li>Integrate with existing tools and leverage the MITRE ATT&amp;CK framework.</li></ul><p><strong>DevOps</strong></p><ul><li>Automate data security to provide security SLAs and enforce business policies;</li><li>Monitor resource usage, trace data flows and resolve issues with data layer visibility;</li><li>Use monitoring, management and orchestration tools of your choice;</li><li>Integrate into your CI/CD workflow to enable policies as code.</li></ul><p>As databases, pipelines and data warehouses move to the cloud, the concept of infrastructure as code is now the defacto model for most enterprises today. While proving a boon for productivity and agility, these changes also make it much harder for security and DevOps teams to keep track of their data, making it nearly impossible to know who has access to what data and what they are doing with it. Cyral provides DevOps and security teams unmatched visibility and control without any changes to their production applications.&nbsp;</p><p>‚ÄúAt Uplift, data is a key asset and its security is paramount, said Stu Kelly, CTO of Uplift. ‚ÄúFor us, a security solution must strike the right balance between agility and effectiveness. We needed efficient access controls that allow us to do more with our data while simultaneously eliminating risk and enabling teams to move forward with the greatest speed. With Cyral, we found a solution that does just that.‚Äù</p><p>Cyral‚Äôs GA security platform now supports native and seamless integration of more than <a aria-label="undefined (opens in a new tab)" href="http://cyral.com/integrations?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target="_blank" rel="noreferrer noopener">60 leading enterprise software tools and datastores</a> broadly used among Global 2000 enterprises. Cyral‚Äôs pioneering data layer security <a href="http://cyral.com/platform?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">platform</a> has now been proven in production deployments across multiple major verticals.&nbsp;</p><p><a aria-label="undefined (opens in a new tab)" href="http://cyral.com/white-papers/cyral-product-brief?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target="_blank" rel="noreferrer noopener">Download the product brief</a> to learn more, and please visit <a href="http://cyral.com/" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">www.cyral.com</a> to register.</p><p><a href="http://cyral.com/white-papers/cyral-product-brief?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target=""><span>Download the Product Brief</span><i></i></a></p><p><strong>About Cyral</strong></p><p><a href="http://cyral.com/" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">Cyral</a> is the first cloud-native platform providing security as code for the modern data layer. DevOps and security teams get granular visibility and policy enforcement across all data endpoints for an unmatched unified view of any organization‚Äôs data layer activity.&nbsp; Cyral is venture-backed by Redpoint, A.Capital and Costanoa. Follow us at @cyralinc</p></div></div>]]>
            </description>
            <link>https://cyral.com/news/cloud-based-data-layer-security-startup-cyral-announces-general-availability-of-enterprise-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760892</guid>
            <pubDate>Tue, 07 Jul 2020 16:35:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ultra Cheap VPS Hosts for Tor Bridges]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760845">thread link</a>) | @worldofmatthew
<br/>
July 7, 2020 | https://worldofmatthew.com/post/webhosting-for-tor-bridge/ | <a href="https://web.archive.org/web/*/https://worldofmatthew.com/post/webhosting-for-tor-bridge/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<article>
<div>
<p>As of the 5th July 2020, there are 1357 Tor bridges available for users in countries who censor the Tor network to use. Having just over 1,000 IP addresses is not a lot for such a big privacy network as Tor is, especially considering that the number of Tor Bridges peaked at 4,227 on the 4th January 2015. That means since then the network has lost more than two-thirds of its bridges.</p>
<p>The lack of bridges only makes it harder for people in oppressive countries to take advantage of both the anti-censorship and anonymizing power of the Tor network. In light of this, many people including the Tor project themselves have been trying to convince more people to become bridge operators.</p>
<p>This article will go over some ultra-cheap VPS hosts that will allow anyone to become a bridge operators without having to spend a sizeable amount of money;</p>
<h2 id="vps-hosting-below-1-per-month-including-yearly-deals">VPS Hosting below $1 per month (including yearly deals)</h2>
<table>
<thead>
<tr>
<th>Provider:</th>
<th>Price per month:</th>
<th>More information:</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.oracle.com/uk/cloud/free/">Oracle Cloud</a></td>
<td>Free</td>
<td>Oracle may rarely be associated with the word "free", but their cloud service provides 2 VM with 1GB of RAM and 1/8 core each. (Bandwidth: 10TB outgoing, shared between the 2 VMs).Just make sure to allow traffic on all ports (incoming and outgoing in the firewall and to uninstall iptables).</td>
</tr>
<tr>
<td><a href="https://orders.fdcservers.net/order/plan/920">FDC Servers</a></td>
<td>$0.99 ($1.98 for Asia locations)</td>
<td>FDC Servers are a budget server host who are single homed to Cogent (AS174). The "Budget VPS" packages comes with; 256MB RAM and 1 shared CPU core (5Mbits Unmetered).</td>
</tr>
</tbody>
</table>
<h2 id="vps-hosting-below-2-per-month-including-yearly-deals">VPS Hosting below $2 per month (including yearly deals)</h2>
<table>
<thead>
<tr>
<th>Provider:</th>
<th>Price per month:</th>
<th>More information:</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://alexhost.com/cart/ssd-vps-vds/">Alexhost</a></td>
<td>‚Ç¨0.99 (Paid Yearly)</td>
<td>Alexhost has a cheap yearly VPS deal with 100Mbps unmetered bandwidth. They are based out of Moldova. 1.5GB RAM and 1 shared CPU core.</td>
</tr>
<tr>
<td><a href="https://manage.maxkvm.com/cart.php?a=add&amp;pid=1&amp;billingcycle=annually">MaxKVM</a></td>
<td>$1.25 (Paid Yearly)</td>
<td>A VPS from a small web host in America. 500GB monthly bandwidth, 512MB RAM, 1 shared CPU core.</td>
</tr>
<tr>
<td><a href="https://www.powerfulbox.co.uk/manager/cart.php?a=add&amp;pid=11">PowerfulBox</a></td>
<td>¬£1.33 (Paid Yearly)</td>
<td>A VPS offering services from OVH in London. 2TB monthly bandwidth, 512MB RAM and 1 shared CPU core.</td>
</tr>
<tr>
<td><a href="https://zomro.com/vds.html">zomro</a></td>
<td>$1.99</td>
<td>A VPS provider based out of Netherlands who offer multiple VPS packages with unmetered bandwidth (50Mbits in this offer). 512MB RAM and 1 shared CPU core.</td>
</tr>
</tbody>
</table>
<p>I hope this list has helped you to find the correct VPS for your Tor bridge, any mistakes you have spotted or if you have found a host not listed here, please email: <a href="https://worldofmatthew.com/cdn-cgi/l/email-protection#11727e7c7c747f656251667e637d757e777c7065657974663f727e7c"><span data-cfemail="385b5755555d564c4b784f574a545c575e55594c4c505d4f165b5755">[email&nbsp;protected]</span></a></p>
</div>

</article>
</div></div>]]>
            </description>
            <link>https://worldofmatthew.com/post/webhosting-for-tor-bridge/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760845</guid>
            <pubDate>Tue, 07 Jul 2020 16:30:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rethinking Interactions in a Touchless World]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760609">thread link</a>) | @rekwah
<br/>
July 7, 2020 | https://blog.routegy.com/2020/07/07/rethinking-interactions-touchless-world | <a href="https://web.archive.org/web/*/https://blog.routegy.com/2020/07/07/rethinking-interactions-touchless-world">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <p><img src="https://blog.routegy.com/images/posts/rethinking-interactions-touchless-world/storefront-qr-code.jpg" alt="A restaurant storefront with QR code posters fixed to the door"></p><p>COVID-19 didn‚Äôt start the drive towards a more automated, touchless future, but it certainly hastened it. In the US, QR codes and NFC were often viewed as a <a href="https://adage.com/article/digital/marketer-love-qr-codes-shared-consumers/231854" target="_blank" rel="noopener noreferrer">nice-to-have or novelty</a>. Now, you‚Äôd be hard-pressed to walk down a street full of businesses and not see QR codes on storefront windows offering core business interactions as new, contactless experiences.</p> <p>It‚Äôs early-days, though, and solutions of varying sophistication are popping up all over the place. I thought I‚Äôd document some of the traditionally physical and person-to-person interactions we‚Äôve observed getting the touchless treatment, and highlight some of the emerging hallmarks of good, contactless interaction design (Spoiler: general <a href="https://www.goodreads.com/book/show/840.The_Design_of_Everyday_Things" target="_blank" rel="noopener noreferrer">interaction design guidelines</a> still apply).</p> <p>Let‚Äôs get started.</p> <h2 id="check-ins-and-wait-lists"><a href="#check-ins-and-wait-lists">#</a> Check-ins and wait-lists</h2> <p><img src="https://blog.routegy.com/images/posts/rethinking-interactions-touchless-world/check-in-wait-list.jpg" alt="A tablet at a restaurant prompting customers to check in by entering a name and phone number" width="40%"></p><p>What‚Äôs the first thing you encounter when you walk into a hotel, restaurant, or office? It‚Äôs likely a check-in flow. Do you have a reservation? Who are you here to see? How many are in your party? These interactions often involve talking to a receptionist and using a pen on paper or a shared tablet.</p> <p>This interaction can be relatively easy to automate. In fact, pre-COVID, tablets were appearing in all sorts of businesses, from restaurants to corporate offices, that allowed check-in without the need for human interaction. While the concept is sound, customers are now hesitant to touch a surface shared with countless others.</p> <p>Now, these tablets are beginning to use QR codes that can be scanned by a kiosk, allowing people to sign in from their own device. Unfortunately, many solutions require an app and oftentimes an account or exchange of personal information to use them. We‚Äôll get into why this is bad a bit later.</p> <h2 id="curbside-pickup"><a href="#curbside-pickup">#</a> Curbside pickup</h2> <p>Curbside pickup isn‚Äôt new, but it has certainly expanded during the pandemic. Put simply, a customer should be able to order and pay electronically, get notified when their order is available, and provide some notification for the order to be delivered to their vehicle.</p> <p><img src="https://blog.routegy.com/images/posts/rethinking-interactions-touchless-world/curbside-pickup.jpg" alt="Buckets with posts and signs in a retailer's parking lot instructing customers to call when they arrive"></p><p>It‚Äôs now common to see reserved parking spaces and signage with instructions to call a number with the order ID and parking space or tap a button in an app to type the information in. <a href="https://blog.routegy.com/2020/06/30/examination-curbside-pickup-experience/" target="_blank" rel="noopener noreferrer">As we wrote previously</a>, these experiences require unnecessary overhead, burden customers by requesting redundant information, and tie up phone lines, resulting in lost orders and revenue.</p> <p>Some solutions use geofencing to track when customers leave for the location and arrive, but this too has issues, as they require customers to have an app and allow access to fine-grained location information. Besides battery and privacy concerns, this can be confusing. Do customers open the app and let you know when they‚Äôre leaving? Do they have to keep the app open? Who else can access their location information? The goal is to make it easy for customers, not instill uncertainty and doubt.</p> <h2 id="menus-table-service-and-payments"><a href="#menus-table-service-and-payments">#</a> Menus, table service, and payments</h2> <p><img src="https://blog.routegy.com/images/posts/rethinking-interactions-touchless-world/contactless-pos-gas-station.jpg" alt="A QR code on a fuel pump at a gas station offering a link to install an app for payment instead of using the keypad" width="60%"></p><p>We‚Äôre all familiar with handling physical menus (the condition of which can vary wildly, from pristine to yikes) and talking to servers throughout a meal, from ordering to asking for refills to paying the check. It‚Äôs easy to think of menus and service as specific to restaurants and retail, but the high-level concepts apply more broadly. Basically, any interaction that allows people to select options and pay for goods or services is being rethought. Think stadiums, theme parks, theaters, and so on.</p> <p>Restaurants are now placing QR codes on tables that point to their webpages or install a 3rd party app to enable a virtual menu and ordering system. A restaurant webpage isn‚Äôt likely to be interactive or allow for selection, so human interaction is still required. Apps provide interactive menus and POS functionality, but require a download, account creation, and the overhead that comes along with it.</p> <h2 id="requests-and-issue-reporting"><a href="#requests-and-issue-reporting">#</a> Requests and issue reporting</h2> <p>Where do people go when they need something or want to report a facility issue? Before, even in large companies with ticketing systems, it was often easiest to just tap someone on the shoulder. This particular interaction was already pretty bad (imagine being the someone whose shoulder is constantly getting tapped), and now it comes with a health risk.</p> <p>Besides requiring social distancing or using Slack/email/voice, the interaction is still problematic in terms of efficiency, just as it was pre-COVID. Ideally, people would make requests and report issues in a contextual way with their own devices without the need to navigate a ticketing system or go find someone to help. Need something or see something? Scan or tap this sign to let us know!</p> <h2 id="surveys-and-feedback"><a href="#surveys-and-feedback">#</a> Surveys and feedback</h2> <p><img src="https://blog.routegy.com/images/posts/rethinking-interactions-touchless-world/customer-feedback-survey.jpg" alt="A sign in a doorway asking for customer feedback with a QR code" width="50%"></p><p>How do we know how we‚Äôre doing and how we can improve? One of the best ways is to simply ask. Customer and employee feedback is invaluable, and it‚Äôs typically gathered via paper forms, shared tablets, or other physical interactions (E.g. the Happy or Not kiosks you encounter at airport restrooms).</p> <p>Contactless ways of gathering feedback via email and text already exist, of course, but those require personal information and also lack context, typically showing up when it‚Äôs convenient for us, not when it‚Äôs relevant to them. Ideally we would collect feedback in the moment, and do so in a safe way.</p> <p>Some basic solutions have begun to show up, like QR codes that point to Google forms. While you may get the data you need, you‚Äôll still need to figure out how to format and import that information into your workflow.</p> <h2 id="so-what-makes-a-good-touchless-interaction"><a href="#so-what-makes-a-good-touchless-interaction">#</a> So, what makes a good, touchless interaction?</h2> <p><img src="https://blog.routegy.com/images/posts/rethinking-interactions-touchless-world/routegy-request-qr-nfc.jpg" alt="A QR code and NFC tag are mounted to a wall, prompting visitors to interact via their phone to make requests"></p><p>People are used to face-to-face interactions when they need something. Introducing technology into the equation is inevitably going to complicate things, especially at first. So what should we consider to minimize the impact, increase safety and comfort, and ease folks into this new world?</p> <h4 id="low-friction"><a href="#low-friction">#</a> Low friction</h4> <p>Requiring apps and accounts is a burden. Unless you‚Äôre confident that a large percentage of your customers already have your app installed (and actually like it vs. installing it begrudgingly), avoid requiring an app installation. Similarly, unless absolutely necessary, do not require account creation or sign-in. Oftentimes the information you need to serve and communicate with your customers can be achieved without the extra hurdles.</p> <h4 id="intuitive"><a href="#intuitive">#</a> Intuitive</h4> <p>Most people are not used to pulling out their phone to accomplish traditionally touch-heavy tasks, let alone using it to scan QR codes and tap NFC tags. Despite most modern devices supporting these functions natively, we must educate customers. Clear signage and instruction works wonders here. But the experience doesn‚Äôt end there, does it? We also need to be mindful to offer data entry that is <a href="https://www.hhs.gov/web/policies-and-standards/hhs-web-policies/accessibility/index.html" target="_blank" rel="noopener noreferrer">accessible</a>, easy to navigate on a phone, and that doesn‚Äôt collect unnecessary information we can collect contextually and automatically.</p> <h4 id="fast"><a href="#fast">#</a> Fast</h4> <p>Talking to someone typically has instant feedback and gratification. With a touchless experience, it‚Äôs difficult to know who or what is on the receiving end of the communication, so it‚Äôs important to set expectations and deliver on them. Is this going to contact staff inside? Do we expect that this might take a few minutes? Tell people up front and eliminate confusion.</p> <h4 id="long-term-design"><a href="#long-term-design">#</a> Long-Term design</h4> <p>It‚Äôs tempting to slap something together as a temporary stop-gap until a vaccine is discovered, but that‚Äôs doing a disservice to your customers and to your business. Many, if not all, of the interactions we‚Äôve discussed have benefits that go beyond limiting the spread of the virus. Done right, touchless interactions deliver better experiences because they streamline interactions and enable staff to focus on more important things while respecting your customers‚Äô time and privacy.</p> <h4 id="automated"><a href="#automated">#</a> Automated</h4> <p>Consider whether the interaction can be accomplished without any data input at all (E.g. requesting a bellhop or flight attendant, reporting a bathroom in need of attention, or marking a desk as occupied), and make the interaction as simple as possible. We‚Äôll explore this topic in more detail in an upcoming article.</p> <h2 id="wrapping-up"><a href="#wrapping-up">#</a> Wrapping up</h2> <p>As you can see, there‚Äôs a lot of work to do, but these are problems that can and will be solved. It‚Äôs amazing to see the ingenuity and creativity on display. While there is much to refine, it‚Äôs clear that in just a short time we‚Äôve already begun to adjust to this new, contactless world, and these experiences will only get better.</p> <p>If you have some thoughts on how contactless, touchless interactions are evolving, I'd love to hear about them in our <a href="https://community.routegy.com/t/an-examination-of-the-curbside-pickup-experience/20" target="_blank" rel="noopener noreferrer">comments section</a> for this post.</p> <h2 id="need-help"><a href="#need-help">#</a> Need help?</h2> <p>If you‚Äôre looking for help in adapting your business to offer intuitive, contactless integrations, please <a href="https://www.routegy.com/connect/" target="_blank" rel="noopener noreferrer">reach out for a demo</a> of our product, Routegy, or <a href="https://web.routegy.com/auth/join/" target="_blank" rel="noopener noreferrer">try it for yourself</a>. You‚Äôll be up and running in just a few minutes with a system that offers flexibility and, most importantly, great contactless experiences for your customers.</p></div></div>]]>
            </description>
            <link>https://blog.routegy.com/2020/07/07/rethinking-interactions-touchless-world</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760609</guid>
            <pubDate>Tue, 07 Jul 2020 16:06:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unconventional tips for Mastering Software Interviews]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760576">thread link</a>) | @ZainRiz
<br/>
July 7, 2020 | https://zainrizvi.io/blog/the-interview-advice-no-one-gives-you/ | <a href="https://web.archive.org/web/*/https://zainrizvi.io/blog/the-interview-advice-no-one-gives-you/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
      
      <p>‚ÄúWhat would you say if I asked you to design me a service capable of responding to millions of user requests every second and latency was critical?‚Äù</p>

<p>‚ÄúUmm‚Ä¶that you have to solve this problem at work. But you‚Äôre out of ideas, and are looking to interviewees for suggestions‚Äù</p>

<p>That‚Äôs the actual response I gave the interviewer the first time I was asked a design question. He had a good laugh. But then still made me design the service.</p>

<p>In the decade since I‚Äôve lost track of how many hours I‚Äôve spent in the interview room, on both sides of the table. I‚Äôve worked at Microsoft, Google, and Stripe, and received offers from many other companies. As I interviewed, I realized one thing: standard interviewing advice falls woefully short.</p>

<p>What good does it do to practice coding problems for weeks if your mind goes blank in an interview room? How can you show your ‚Äúbest self‚Äù if you‚Äôre too afraid to let it out? Everyone says to be wary of the recruiters, but what if you weren‚Äôt?</p>

<p>I tested the answers to these questions multiple times (sometimes by accident). Turns out conventional wisdom gets you conventional results. But you can do better. Interviewing is a skill and anyone can learn it.</p>

<p>For some reason no one talks about these challenges with interviewing. But I‚Äôve found some principles that help me over and over again:</p>

<p>We‚Äôll cover:</p>
<ul>
  <li>Using recruiters to your advantage</li>
  <li>Going to real interviews for practice</li>
  <li>Being open to learning during interviews</li>
  <li>Keeping those skills sharp even when you‚Äôre not job hunting</li>
</ul>



<p>Their voice sounds so friendly and helpful when you chat with them on the phone. ‚ÄúZain, I‚Äôm looking forward to seeing you when you come for your interview!‚Äù Clearly it‚Äôs all an act, past-me assumed. I was sure they were secretly judging me, deciding if I was good enough to work at the company.</p>

<p>And they do judge. But not in the way I was expecting.</p>

<p>Recruiters aren‚Äôt evaluating you technically, not by the time you pick up the phone anyways. Their decision on whether you have the technical chops to be worth interviewing was made well before that call. If you‚Äôre being offered an interview: Congratulations, you‚Äôve already passed that bar</p>

<p>Now the recruiter wants to work with you. Their whole job is to, you know, recruit. They know that you statistically have poor interview prep skills, and they‚Äôre happy to help fix that flaw. Why discard a strong candidate who can‚Äôt interview well? They‚Äôll level the playing field by helping everyone show their best selves when interviewing.</p>

<p><strong>How can you take advantage of this?</strong></p>

<p>Ask them questions! Things like:</p>
<ul>
  <li>‚ÄúWhat are the company values that would be good to highlight during the interview?‚Äù</li>
  <li>‚ÄúI‚Äôm interested in X, Y, &amp; Z. What other companies are hiring?‚Äù (Only try this if the recruiter reached out to you first, they work for a recruiting agency, and you haven‚Äôt had your interview yet)</li>
</ul>

<p>And you can be forthright about any problems you run into:</p>
<ul>
  <li>If you get sick the day before the interview, call up the recruiter and ask to reschedule. They want to test you when you‚Äôre at your best!</li>
  <li>Work pressures left you with no time to prepare? You can still try rescheduling. At worst they‚Äôll say ‚Äúsorry, we can‚Äôt do that‚Äù. It will not hurt your chances of getting in</li>
</ul>

<p>Your mad technical skills no longer matter to them. If anything, humility and an openness to learning will show you in the best light.</p>



<p>You need to build up your interview skills. LeetCode is great, but it doesn‚Äôt come close to the real thing. Try to interview at actual companies as much as possible. And don‚Äôt limit yourself to the companies you care about.</p>

<p><strong>Learn to deal with pressure</strong></p>

<p>When you‚Äôre in a real interview the world changes: You‚Äôre locked in a cage with a lion. Every heartbeat is a gorilla bashing to break free. Your mental gears gunk up as your body goes into fight or flight mode. Your clammy hands struggle to write half legible code on the white board. A threat hides behind every shadow. Even an innocuous ‚ÄúWould you like something to drink?‚Äù is a nefarious test: do I pick coke or coffee?</p>

<p>You only get that experience in a real interview. And only real interviews teach you how to deal with it. The first interview will kick your ass. So will the second. But once you get a few under your belt you‚Äôll get used to the adrenaline rush. Perhaps enjoy it even. You‚Äôll become a bullfighter, confidently facing down the charging bull. That‚Äôs how you get over the fear.</p>

<p>You may even find that these practice interviews are much easier! When the stakes are low that lion doesn‚Äôt look so fierce. I‚Äôve found that I perform the best in the interviews where I don‚Äôt care about the outcome. I‚Äôm much more relaxed and at ease. I can think faster, my brain reaches out to more possibilities. Now, even in important interviews I try to convince myself that I don‚Äôt really care. That mindset shift is only possible because I got to experience it in the low stakes games first.</p>

<p><strong>Learn to answer the more ambiguous questions</strong></p>

<p>And what about the questions? After each interview write down all the questions you were asked. The same evening look over the questions while they‚Äôre still fresh in your mind. Focus especially on ones which have no clear right answer, such as behavioral and design questions. Think about how you could have responded better. Are there stories from your life you could have referenced? Wait a few days and look at them again. You‚Äôll find better answers.</p>

<p>Each answer you prepare this way becomes a blob of paint on your pallet. Chances are high that you‚Äôll come across similar questions in future interviews. Over time you‚Äôll be able to mix the answers from your pallet to paint a picture demonstrating just how valuable an asset you can be to their company.</p>

<p><strong>Stay open to serendipity</strong></p>

<p>As you do these interviews, you may discover that the ‚Äúpractice‚Äù company is actually interesting after all. Recruiters count on that. I‚Äôve had recruiters suggest I interview even when I told them I didn‚Äôt care for the company. ‚ÄúMaybe you‚Äôll change your mind after seeing us up close‚Äù, they‚Äôd suggest.</p>

<p>And I did. More than once.</p>



<p>I learned this one by accident, but boy does it pay off.</p>

<p>I was wandering around the booths with my bag full of swag. My eyes caught a pile of rubik‚Äôs cubes being given away by some company I‚Äôd never heard of. I wanted one! Of course I couldn‚Äôt just go up and ask for it directly, so I went and chatted with the guy manning the booth. His name was Vince. A few minutes later I walked away with my prized rubik‚Äôs cube in hand. That evening Vince called me up offering to conduct a full interview loop on campus. I already had a job offer from a company I liked, but I thought ‚ÄúSure, why not? I could use the experience‚Äù</p>

<p>I had no intention of joining the company, they were some boring finance business. There was nothing to lose. So during the interview I felt free to ask any question I wanted. When I thought I got the answer to an interview question wrong, I‚Äôd ask ‚ÄúI don‚Äôt think I did so great here. What‚Äôs the right answer to this problem?‚Äù (I wanted to learn the answer for future interviews!). When asked a challenging question I could grin and delight in the problem solving aspect instead of worrying about how badly it would reflect on me. (Remember my smart aleck remark in the intro? That was this interview.)</p>

<p>Turns out they liked that: the next day I had a second job offer. At a significantly higher salary than my first one. Oh, and they wanted to fly me to New York in two weeks for an introduction to the company. I still didn‚Äôt want to join, but a free trip to New York? Sign me up! The company‚Äôs name: Bloomberg</p>

<p>Bloomberg was a practiced hand at recruiting. They had a full two days of events to leave us starry eyed about the company (I came thiiiiis close to accepting their offer). While there, Vince told me I‚Äôd made a great impression by fearlessly asking questions, even when I was stumped.</p>

<p>Since then I‚Äôve stopped hesitating before asking any question in an interview. Let your curiosity run free! Don‚Äôt cage it! And as an interviewer, I can attest: sincere interest is always a good sign.</p>



<p><a href="https://twitter.com/docjamesw">James Whittaker</a> recommends trying to get a job offer every year, just to make sure you can.</p>

<p>It‚Äôs an extremely liberating feeling knowing that even if you lose your job you‚Äôll be able to find another one quickly. That‚Äôs a huge stress off your back.</p>

<p>I haven‚Äôt been very good about this myself, but every once in a while I‚Äôll accept an invitation from a recruiter (it helps to set up your LinkedIn account). I don‚Äôt bother doing any prep for these interviews, at least not initially. Those interviews show me the areas I need to brush up on or where the industry practices are changing.</p>

<p>For example, in a tech screen I did last summer there was some miscommunication and I didn‚Äôt realize they expected actual working code. Instead of the usual pseudo code written in a google doc, the interviewer told me to select my language of choice on an online IDE. Now, I don‚Äôt have a particular language I consider myself super proficient in. I touch many different tools at work and end up having to use a different language about every 5 months. So even basic things like ‚Äúcreate an array‚Äù tends to require googling the syntax. Given that, what‚Äôs my favorite language of choice? C#, hands down. So I selected that.</p>

<p>What hadn‚Äôt occurred to me at the time is that C# is a very verbose language which Visual Studio beautifully automates away the tedious parts of. This online IDE automated nothing. Even for a basic task like creating an array I had to spend precious interview minutes looking up the right package to import and the exact syntax to use. Needless to say, I ran out of time. I crashed and burned there, but it opened my eyes to the way interviews are changing and how I needed to prepare in the future.</p>

<p>Four months later a company called Stripe reached out to me. They also expect you to write working code and even let you use your own IDE. This time I was ready. And ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://zainrizvi.io/blog/the-interview-advice-no-one-gives-you/">https://zainrizvi.io/blog/the-interview-advice-no-one-gives-you/</a></em></p>]]>
            </description>
            <link>https://zainrizvi.io/blog/the-interview-advice-no-one-gives-you/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760576</guid>
            <pubDate>Tue, 07 Jul 2020 16:03:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Data Engineering Perspective on Go vs. Python (Part 2 ‚Äì Dataflow)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760548">thread link</a>) | @otter-in-a-suit
<br/>
July 7, 2020 | https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/ | <a href="https://web.archive.org/web/*/https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="introduction">Introduction</h2><p>In Part 2 of our comparison of Python and go from a Data Engineering perspective, we‚Äôll finally take a look at Apache Beam and Google Dataflow and how the go SDK and the Python SDK differ, what drawbacks we‚Äôre dealing with, how fast it is by running extensive benchmarks,and how feasible it is to make the switch.</p><blockquote><p>You can find <a href="https://chollinger.com/blog/2020/06/a-data-engineering-perspective-on-go-vs.-python-part-1/">Part 1 here</a></p></blockquote><h2 id="apache-beam--google-dataflow">Apache Beam &amp; Google Dataflow</h2><p>While we have used <a href="https://beam.apache.org/">Apache Beam</a> on several occasions <a href="https://chollinger.com/blog/2018/06/analyzing-reddits-top-posts-images-with-google-cloud-part-1/#introducing-data-flow">before</a>, allow me to give another short introduction.</p><blockquote><p>Apache Beam is an open source, unified model for defining both batch and streaming data-parallel processing pipelines. Using one of the open source Beam SDKs, you build a program that defines the pipeline. The pipeline is then executed by one of Beam‚Äôs supported distributed processing back-ends, which include Apache Flink, Apache Spark, and Google Cloud Dataflow.</p><p><a href="https://beam.apache.org/get-started/beam-overview/">https://beam.apache.org/get-started/beam-overview/</a></p></blockquote><p>Beam can be used for a variety of data use cases, not unlike Apache Spark - ETL (Extract, Transform, Load) pipelines, stream analytics, or simple data movement from, for instance, a file system to an RDMBS.</p><h2 id="why-beam-is-interesting">Why Beam is interesting</h2><p>One of the best professional advice I ever got is to ask ‚ÄúSo What?". That being said: So what, why do I care about Beam?</p><p>For me, one of the most interesting aspects of Beam‚Äôs model is the decoupling of pipeline logic, language, and execution environment. I can design my logic on a piece of paper (i.e., draw a <code>DAG</code> with some <code>Beam</code>-specific terminology - we‚Äôll do that in a second), implement it in any of the major languages - even multiple - and run it on any of the supported <code>Runners</code>.</p><p>The last time we used it on this blog, we used it to write a Pipeline to analyze reddit posts and executed it on the <code>Dataflow</code> runner as such:</p><p><img src="https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/images/dataflow-old.png" alt="dataflow-old.png"></p><p>As this pipeline was written in Python, there is nothing stopping us from running <em>the exact same job</em> on a on-premise Hadoop cluster, on AWS EMR, or just run it locally using the <code>DirectRunner</code>. This level of portability, in combination with a programming model that I happen to find more streamlined than say <code>Spark</code>'s, makes <code>Beam</code> a very interesting framework.</p><p>We‚Äôll actually do exactly that in the example section of this article and design a pipeline, write it in both <code>Python</code> and <code>go</code>, and run it on different <code>Runners</code>.</p><h2 id="core-concepts">Core Concepts</h2><p>Everything in <code>Beam</code> starts with a <code>Pipeline.</code> The <code>Beam</code> programming model works by exposing high-level abstractions through code that allow your <code>Pipeline</code> to execute a graph of <code>PTransforms</code> on a given dataset, which in term is operating on immutable collections, called <code>PCollections</code>, which can be moved to a persistent state through <code>IO</code> operations. Jobs can be executed on different <code>Runners</code> to provide a (distributed) execution environment.</p><p>Let‚Äôs dig into those concepts before we look at a real-world example.</p><blockquote><p>This is a condensed version of the <a href="https://beam.apache.org/documentation/programming-guide/">official Apache Beam documentation</a>, which I suggest you read in full for a more in-depth view</p></blockquote><h3 id="pipeline">Pipeline</h3><p>A <code>Pipeline</code> object is the starting point of any job, which is usually initialized with a <code>configuration</code> object that defines <em>how</em> and <em>where</em> your pipeline runs.</p><h3 id="pcollections">PCollections</h3><p>A <code>PCollection</code>, not unlike a Spark <code>RDD</code> or <code>DataFrame</code>, are immutable collections of data that can be modified in-memory through the lifecycle of a pipeline.</p><p>The data within a <code>PCollection</code> can be of any arbitrary type, as long as the elements can be encoded as <code>string</code> for serializing them across the workers.</p><p><code>PCollections</code> can be of any size, but their elements might be worked on by different workers, if the collection is too large to fit into memory on a single worker node. Furthermore, they can be either <em>bounded</em> (i.e., have a fixed size) or <em>unbounded</em> (i.e., are ‚Äúopen ended‚Äù, like in a streaming scenario).</p><h3 id="transforms">Transforms</h3><p><code>Transforms</code> apply logic on individual elements of a <code>PCollection</code>, by <code>apply</code>ing user code and logic, and returning a full <code>PCollection</code> that can be used in a subsequent step.</p><p><img src="https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/images/design-your-pipeline-linear.svg" alt=""></p><p>It is also possible to <code>branch</code> a pipeline, by splitting the DAG into multiple, independent steps:
<img src="https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/images/design-your-pipeline-multiple-pcollections.svg" alt="">
(<a href="https://beam.apache.org/documentation/programming-guide/#applying-transforms">https://beam.apache.org/documentation/programming-guide/#applying-transforms</a>)</p><p>Custom <code>transforms</code> need to adhere to some rules, most notably <strong>serializability</strong> (as data needs to be transmitted between workers), <strong>single threaded execution</strong> (as each element should be worked on, as orchestrated by the underlying Runner, in its own thread), and <strong>idempotence</strong> (as re-tries might occur).</p><p><code>Beam</code> provides several core <code>transforms</code> that can be utilized out-of-the-box:</p><ul><li><code>ParDo</code></li><li><code>GroupByKey</code></li><li><code>CoGroupByKey</code></li><li><code>Combine</code></li><li><code>Flatten</code></li><li><code>Partition</code></li></ul><h4 id="pardo">ParDo</h4><p>A <code>ParDo</code> transform is probably the most common one, as it is comparable to a <code>map</code> operation: Applying logic to each element of a <code>PCollection</code> and returning said element (or not returning it and hence, <code>filtering</code> the collection).</p><p>Thing of <code>ParDo</code> as your fundamental building blog of a job that applies logic on a flat stream of data, which can then be further enhanced by <code>grouping</code>, <code>flattening</code>, and other aggregation logic down the line.</p><p>To understand what a <code>ParDo</code> actually does, the <code>Beam</code> docs provide a great explanation of the lifecycle of a <code>ParDo</code>:</p><p><img src="https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/images/dofn-sequence-diagram.svg" alt=""></p><h4 id="cogroupbykey">CoGroupByKey</h4><p><code>CoGroupByKey</code> aggregates all input elements by their key over multiple input collections. CoGroupByKey performs a relational join of two or more key/value PCollections that have the same key type - a very useful thing we‚Äôll be using in the example below.</p><h3 id="schemas">Schemas</h3><p>A <code>Schema</code> defines the logical structure and data types for the elements within a <code>PCollection</code>. <code>Beam Schemas</code>, similar to a <code>parquet</code> or <code>database</code> schema, should define <code>names</code>, <code>types</code>, and information on whether a field can be <code>NULL</code>.</p><p>Beam supports the following primitive types:</p><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>BYTE</td><td>An 8-bit signed value</td></tr><tr><td>INT16</td><td>A 16-bit signed value</td></tr><tr><td>INT32</td><td>A 32-bit signed value</td></tr><tr><td>INT64</td><td>A 64-bit signed value</td></tr><tr><td>DECIMAL</td><td>An arbitrary-precision decimal type</td></tr><tr><td>FLOAT</td><td>A 32-bit IEEE 754 floating point number</td></tr><tr><td>DOUBLE</td><td>A 64-bit IEEE 754 floating point number</td></tr><tr><td>STRING</td><td>A string</td></tr><tr><td>DATETIME</td><td>A timestamp represented as milliseconds since the epoch</td></tr><tr><td>BOOLEAN</td><td>A boolean value</td></tr><tr><td>BYTES</td><td>A raw byte array</td></tr></tbody></table><h3 id="io">I/O</h3><p><code>I/O</code> is needed for providing input data and giving the pipeline one or multiple defined outputs. I will refer to <a href="https://chollinger.com/blog/2020/06/a-data-engineering-perspective-on-go-vs.-python-part-1/#io">Part 1</a> for a somewhat complete list of all <code>I/O</code> connectors by SDK.</p><p><code>I/O</code> connectors can also be customized, by inheriting from the existing Base classes to read non-supported file types. This can be challenging (as you want to be able to split a file source so it can be worked on by multiple workers), but after a while, becomes quite straightforward.</p><h3 id="runners">Runners</h3><p><code>Runners</code> define which system executes the pipeline, for instance by running locally (<code>DirectRunner</code>), on <code>Google Dataflow</code>, or via <code>Apache Spark</code>.</p><p>Similar to <code>I/O</code>, please refer to <a href="https://chollinger.com/blog/2020/06/a-data-engineering-perspective-on-go-vs.-python-part-1/#runners">Part 1</a> for an overview.</p><h2 id="the-use-case-for-a-sample-job">The Use Case for a Sample Job</h2><p>In order to demonstrate some of the fundamental differences, let‚Äôs define a sample use case that we can implement in both <code>Python</code> and <code>go</code>.</p><p>In this example, we follow this simple user story: ‚ÄúAs a <em>movie enthusiast</em>, I want to <em>find movies that fit my preferences</em>, so that <em>I can watch a new movie‚Äù</em>.</p><p>Our <em>preferences</em> shall be:</p><ol><li>We want to parse both titles and ratings (<em>Reading data</em>)</li><li>We are only interested in movies, not TV shows; furthermore, movies should be made after 1970, to get some more reliable metadata to base our decision on, as older titles often only have basic information (<em>Filtering data</em>)</li><li>We want both basic title as well as rating information from different sources (<em>Combining data</em>)</li><li>We want the data in a useable format (<em>Writing data</em>) [0]</li></ol><p>For this, we‚Äôll use the <a href="https://www.imdb.com/interfaces/">IMDb DataSet</a>, which can be utilized for non-commercial use and is refreshed daily.</p><p><em>The full source code is available on <a href="https://github.com/chollinger93/beam-examples">GitHub</a>.</em></p><p><em>[0] You might have gathered by now that these ‚Äúpreferences‚Äù are to demonstrate various <code>Beam</code> functionality - this is not a fancy recommendation engine and we don‚Äôt really care about the output</em></p><h3 id="drawing-the-design">Drawing the design</h3><p>As I‚Äôve said in the introduction, we can start by designing our pipeline first and then cover the language-specific logic later.</p><p><img src="https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/images/movie_flow.svg" alt="Movie flow"></p><p>We have 2 main flows here, both of which do similar things: They read data, parse their format, and apply custom filters to the data. Next, they are being combined into one coherent set and written to one or multiple I/O targets.</p><p>Let‚Äôs so how to translate this into code.</p><h3 id="getting-data">Getting data</h3><p>If you agree with IMDb‚Äôs license, you can find the data <a href="https://datasets.imdbws.com/">here</a>.</p><p>We‚Äôll start with the basic title data and make sure we start with a small test set, so we can develop locally without a cluster. In order to do that, we‚Äôll grab random test data, as well as a movie we know fits our criteria, the 1971 classic ‚ÄúVanishing Point‚Äù, with the id <code>tt0067927</code> (as it is unlikely we‚Äôll find more matches between the 2 data sets we‚Äôll be using otherwise, given the volume).</p><div><div><table><tbody><tr><td><pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span></code></pre></td><td><pre><code data-lang="bash">wget https://datasets.imdbws.com/title.basics.tsv.gz <span>&amp;&amp;</span> gunzip title.basics.tsv.gz 
<span># Create a small test file</span>
head -1 title.basics.tsv &gt; title.basics.100.tsv
shuf -n <span>100</span> title.basics.tsv &gt;&gt; title.basics.100.tsv
grep <span>"tt0067927"</span> title.basics.tsv &gt;&gt; title.basics.100.tsv</code></pre></td></tr></tbody></table></div></div><h4 id="titlebasics"><code>title.basics</code></h4><p>This datasets contains basic title information as such and is a <em>564MB Tab Separated file</em>.</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tconst</td><td>String</td><td>A unique ID</td></tr><tr><td>titleType</td><td>String</td><td>Type of title</td></tr><tr><td>primaryTitle</td><td>String</td><td>Popular title</td></tr><tr><td>originalTitle</td><td>String</td><td>Original title</td></tr><tr><td>isAdult</td><td>Integer</td><td>0: non adult; 1: adult</td></tr><tr><td>startYear</td><td>Integer</td><td>Release date of a title</td></tr><tr><td>endYear</td><td>Integer</td><td>End date; for TV shows</td></tr><tr><td>runtimeMinutes</td><td>Integer</td><td>Runtime in minutes</td></tr><tr><td>genres</td><td>Array</td><td>Genres</td></tr></tbody></table><p>We‚Äôll be using this to filter the majority of the records.</p><h4 id="titleratings"><code>title.ratings</code></h4><p>This dataset contains ratings of all titles and is a <em>18MB Tab Separated file</em>.</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tconst</td><td>String</td><td>A unique ID</td></tr><tr><td>averageRating</td><td>Float</td><td>Average rating</td></tr><tr><td>numVotes</td><td>Integer</td><td>Number of votes</td></tr></tbody></table><h2 id="creating-the-pipeline">Creating the Pipeline</h2><p>The first step in our Beam Pipeline is to create a skeleton code that creates the <code>Pipeline</code> object, parsing arguments, and setting up a logger.</p><h3 id="python">Python</h3><p>We first need to install Beam by running <code>pip3 install --upgrade pip</code> and <code>pip3 install apache-beam==2.22.0 --upgrade</code>.</p><p>Our skeleton uses <code>Python</code>'s standard <code>logger</code> module for logging and <code>argparse</code> to read arguments that will be passed to the pipeline.</p><div><div><table><tbody><tr><td><pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span>‚Ä¶</code></pre></td></tr></tbody></table></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/">https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/</a></em></p>]]>
            </description>
            <link>https://chollinger.com/blog/2020/07/a-data-engineering-perspective-on-go-vs.-python-part-2-dataflow/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760548</guid>
            <pubDate>Tue, 07 Jul 2020 16:00:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Case for Cheating]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760540">thread link</a>) | @rickdeveloper
<br/>
July 7, 2020 | https://rickwierenga.com/blog/edu/sucks.html | <a href="https://web.archive.org/web/*/https://rickwierenga.com/blog/edu/sucks.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<header>
<p>July 07, 2020</p>
<p>

<h2>The case for cheating</h2>
</p>
</header>
<p>I‚Äôm a high school student, and like most students I studied from home for the last 4-ish months. I study in my bedroom which is similar to my future workplace, or maybe it even is. My bedroom is equipped with a computer with an internet connection, same setup as my working parents. Since school is meant to prepare us for our careers, my bedroom seems to be the perfect place to pursue an education.</p>
<p>Not having strict supervision allows for easy cheating. No one will know if you use a dictionary. No one will know if you use a calculator. And no one will know if you collaborate with your peers. This got me thinking. If my bedroom <em>is</em> my workplace <em>and</em> I can cheat so easily, does this mean I get a free ride to being a billionaire?</p>
<p>I don‚Äôt believe that is the case. Why not? I have come to the conclusion that cheating at school is nothing like cheating in real life. In fact, this ‚Äúcheating‚Äù thing is actually appreciated by employers. Employers don‚Äôt care if you use a calculator or dictionary. Using all available tools to the fullest extent is a positive skill. Furthermore, employers value employees who collaborate and discuss difficult problems with other people.</p>
<p>At school, however, you will likely be disqualified for doing any of those things during a test. Weird, since I‚Äôm at school to prepare for my life. And my life just happens to provide all of those tools<sup>1</sup>.</p>
<h2 id="calculators-dictionaries-and-wikipedia">Calculators, dictionaries and Wikipedia</h2>
<p>Why do children spend countless hours doing basic arithmetic, when they will be using a calculator for all serious decisions after they graduate? Seriously, who is going to do taxes from the top of their head when they can easily use a calculator? I‚Äôm not advocating to stop teaching children math. On the contrary, I actually do think teaching students <em>why</em> addition exists, <em>what</em> it is and <em>when</em> they should use it are important topics that everyone should know. But I don‚Äôt care if they can add up 90234 and 87623 leaving a calculator (phone) in their pocket.</p>
<p>I‚Äôm also not advocating to stop teaching languages at school and relying on dictionaries instead. I wouldn‚Äôt have been able to write this text if I didn‚Äôt know English. But I also believe a dictionary helped me improve this text. It‚Äôs a combination of practice and resources that made this text what it is. I‚Äôm sure native speakers will find some mistakes, and I would love to know how to improve this text but at least we learned Shakespeare died in 1616.</p>
<p>Everyone has access to almost all of mankind‚Äôs knowledge regardless of where they are thanks to websites like Wikipedia. That‚Äôs a wonderful thing. This is no excuse, however, to stop education altogether; or humans would have been replaced already. Knowing how to apply something requires context, analytical skills and creativity, things a computer cannot yet do, but we can teach children.</p>
<h2 id="cheating-is-bad">Cheating is bad</h2>
<p>Many people say you only fool yourself by cheating. I agree. Cheating is bad if it will hurt you later on. I don‚Äôt believe collaborating will ever hurt me. Nor do I believe using a dictionary will.</p>
<p>‚ÄúBut knowing something is quicker than looking it up.‚Äù Absolutely! I wish I knew how to provide first aid in pressing situations. I wish I hadn‚Äôt wasted time learning to memorize facts I don‚Äôt use. And in the rare event of me needing to know who painted some piece, I have Wikipedia right in my pocket.</p>
<p>It‚Äôs not fair to cheat at an exam and earn a certificate tricking people into believing you can do something in isolation, when in fact you cannot. So will I study for that exam? Probably not, but I will make sure I can get things done.</p>
<h2 id="what-school-should-do">What school should do</h2>
<p>Surprisingly, exercises are that impossible to cheat at are, besides the fairest, possibly among the best exercises we can spend time on. Filling out a fancy survey, read exam, may be a way to validate the products in an assembly line, but one would be stupid to believe human qualities can be captured by a number. We shouldn‚Äôt test humans the same way we test tools. But most importantly, we are only teaching students facts we know today, and that does not seem to be particularly responsible in a world evolving this rapidly.</p>
<p>An alternative to exams could be asking students to devise something new. After all, how could one cheat at doing something that does not exist yet? Writing a philosophical essay, debating issues in society or writing computer programs seem good places to start. Students should be free to use the tools that are available to professionals in the field, work within common constraints such as deadlines, and above all, be able to collaborate. Using a smart rotation system it would still be possible to extract individual student performance from a shared environment.</p>
<h2 id="final-words">Final words</h2>
<p>Exercises I can cheat at are <em>exercises</em>, for what exactly? I think school should pose exercises I can‚Äôt cheat at. If cheating takes time that could be made as a constraint on the exercise. Looking up how to make an argument during a debate won‚Äôt sound very convincing. Math requires exact answers and computers often can‚Äôt manage that. Fair enough, we will have to do it by hand. There is nothing inherently bad about it.</p>
<p>If I can cheat at something and still get the correct answer or get a project done, I have found a loophole in education. It means education is not prepared for the technological advancements. School today doesn‚Äôt really prepare us for the future. Let‚Äôs change that.</p>
<hr>
<p><sup>1</sup> I'm not taking the great technology for granted, but I am planning on continuing to enjoy using it.
</p>
<hr>
<h2>Thanks for reading</h2>
<p>I hope this post was useful to you. If you have any questions or comments, feel free to <a href="https://twitter.com/rickwierenga">reach out on Twitter</a> or email me directly at rick_wierenga [at] icloud [dot] com.</p>
</article></div>]]>
            </description>
            <link>https://rickwierenga.com/blog/edu/sucks.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760540</guid>
            <pubDate>Tue, 07 Jul 2020 15:59:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Play Videos in the Chrome Dev Tools Console]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23760427">thread link</a>) | @coldsauce
<br/>
July 7, 2020 | https://snoogism.com/Play-Videos-in-the-Chrome-Dev-Tools-Console-ef8f124de89b4f25b083cf320f1e8cc0 | <a href="https://web.archive.org/web/*/https://snoogism.com/Play-Videos-in-the-Chrome-Dev-Tools-Console-ef8f124de89b4f25b083cf320f1e8cc0">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://snoogism.com/Play-Videos-in-the-Chrome-Dev-Tools-Console-ef8f124de89b4f25b083cf320f1e8cc0</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760427</guid>
            <pubDate>Tue, 07 Jul 2020 15:49:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comparison of Multithreading Development Tools]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760362">thread link</a>) | @gantleman
<br/>
July 7, 2020 | https://surparallel.org/Comparison_of_multithreading_development_tools.html | <a href="https://web.archive.org/web/*/https://surparallel.org/Comparison_of_multithreading_development_tools.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://surparallel.org/Comparison_of_multithreading_development_tools.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760362</guid>
            <pubDate>Tue, 07 Jul 2020 15:42:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Supercharge Your Bash History]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760304">thread link</a>) | @tosh
<br/>
July 7, 2020 | https://metaredux.com/posts/2020/07/07/supercharge-your-bash-history.html | <a href="https://web.archive.org/web/*/https://metaredux.com/posts/2020/07/07/supercharge-your-bash-history.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>For some weird reason I‚Äôve decided to abandon my insane ZShell
setup for a while and switch to a vanilla Bash. Guess I needed a bit of simplicity in my life.
One thing about my initial Bash experience that drove me nuts is the way it handles the
history out-of-the-box:</p>

<ul>
  <li>Each shell session has its own history and once you terminate a session it history
is dumped to <code>.bash_history</code>, overwriting whatever was there in the past. For me this pretty much kills the value of
persistent shell history. Note that if you
don‚Äôt exit cleanly your history will just be lost.</li>
  <li>As a corollary - you can‚Äôt really share history between different shell sessions. Each shell loads the history file on startup
and augments it whatever commands were executed in it, after loading the file. If you ran a build command in shell A you can‚Äôt
easily recall it in shell B.</li>
  <li>It keeps duplicated entries in the history.</li>
  <li>By default it doesn‚Äôt store many history entries (only the last 500 commands).</li>
</ul>

<p>Obviously there‚Äôs no right way to do shell history and what you consider right or optimal depends on how exactly are using your shell.
I know many people who hate sharing data between shell sessions, as they want to keep them isolated for various reason.</p>

<p>On the other hand - I don‚Äôt know a single person who likes their shell history to be constantly overwritten.
Let‚Äôs teach Bash to append to the history file instead
of overwriting it! Just add the following to your <code>.bashrc</code>:</p>

<div><div><pre><code><span># append to the history file, don't overwrite it</span>
<span>shopt</span> <span>-s</span> histappend
</code></pre></div></div>

<p>Note that some Linux distros (e.g. Ubuntu) might be enabling this shell option
in the default <code>.bashrc</code> they copy to each user‚Äôs home folder.</p>

<p>Now, let‚Äôs increase the history size and teach Bash to ignore duplicate entries in the history:</p>

<div><div><pre><code><span># don't put duplicate lines or lines starting with space in the history.</span>
<span># See bash(1) for more options</span>
<span>HISTCONTROL</span><span>=</span>ignoreboth

<span># for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</span>
<span>HISTSIZE</span><span>=</span>100000
<span>HISTFILESIZE</span><span>=</span>10000000
</code></pre></div></div>

<p>You can obviously go really big here, but unless you have a very fast SSD I would not recommend
it, as reading the history can add a bit of latency to new shell sessions.</p>

<p>Now, we‚Äôre moving to the crux of it - let‚Äôs teach Bash to update the history after each
command we invoke and to reload it. The reloading is what ensures that different shell
sessions are synced in terms of history.</p>

<div><div><pre><code><span># append and reload the history after each command</span>
<span>PROMPT_COMMAND</span><span>=</span><span>"history -a; history -n"</span>
</code></pre></div></div>

<p><code>history -a</code> writes to the history file and <code>history -n</code> reloads the history from the file, but with a twist - it loads only the new entries that were added there. This makes it way more efficient
than another similar (and quite popular) approach - namely using <code>history -a; history -c; history -r</code>. Full
reloads of a huge history file would exhibit themselves as slight delays after each command you run. The solution I‚Äôve
suggested should largely avoid them.</p>

<p>You might also want to remove the use of certain commands from your history, whether for privacy or readability reasons. This can be done with the <code>$HISTIGNORE</code> variable. It‚Äôs common to use this to exclude <code>ls</code> (and similar) calls, job control built-ins like <code>bg</code> and <code>fg</code>, and calls to <code>history</code> itself:</p>

<div><div><pre><code><span>HISTIGNORE</span><span>=</span><span>'ls:ll:cd:pwd:bg:fg:history'</span>
</code></pre></div></div>

<p>Feel free to add here any other commands that you don‚Äôt want to store in the history.
Note that here you‚Äôre specifying exact matches for exclusion - the above config would
exclude <code>ls</code>, but it won‚Äôt exclude <code>ls projects</code>. Most of the time you‚Äôd be using this
with commands invoked without arguments.</p>

<p>So, putting it all together, that‚Äôs my magic recipe to supercharge Bash‚Äôs history:</p>

<div><div><pre><code><span># place this in your .bashrc</span>

<span># don't put duplicate lines or lines starting with space in the history.</span>
<span># See bash(1) for more options</span>
<span>HISTCONTROL</span><span>=</span>ignoreboth

<span># append to the history file, don't overwrite it</span>
<span>shopt</span> <span>-s</span> histappend
<span># append and reload the history after each command</span>
<span>PROMPT_COMMAND</span><span>=</span><span>"history -a; history -n"</span>

<span># ignore certain commands from the history</span>
<span>HISTIGNORE</span><span>=</span><span>"ls:ll:cd:pwd:bg:fg:history"</span>

<span># for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</span>
<span>HISTSIZE</span><span>=</span>100000
<span>HISTFILESIZE</span><span>=</span>10000000
</code></pre></div></div>

<p>That‚Äôs all I have for you today! Keep hacking!</p>

  </div></div>]]>
            </description>
            <link>https://metaredux.com/posts/2020/07/07/supercharge-your-bash-history.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760304</guid>
            <pubDate>Tue, 07 Jul 2020 15:37:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Reclaim ‚Äì an adaptive calendar app that plans time for your routines]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 41 (<a href="https://news.ycombinator.com/item?id=23760278">thread link</a>) | @Lightbody
<br/>
July 7, 2020 | https://reclaim.ai/daily-habits/ | <a href="https://web.archive.org/web/*/https://reclaim.ai/daily-habits/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
<!-- bloc-menu -->
<div id="bloc-menu">
	<div>
		<div>
			<div>
				<nav role="navigation">
					<a href="https://reclaim.ai/"><img src="https://reclaim.ai/img/Primary_FullColor.svg" alt="Reclaim"></a>
					
					
					
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- bloc-menu END -->

<!-- bloc-hero -->
<div id="bloc-hero">
	<div>
		<div>
			<div>
				<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/undraw_healthy_habit_bh5w.svg" alt="PersonalityIcon"></p>
				<h2>
					Habits is a better way to ensure you always get time during the week for the things you do most often.<p>In just a few steps, Reclaim will find and defend time on your calendar for anything you want to do regularly.
				</p></h2>
				<div>
					<p><a href="https://app.reclaim.ai/signup">Get started for free</a></p><p>
						* We may occasionally contact you with product-related updates when you sign up. No spam, we promise.
					</p>
				</div>
			</div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/undraw_healthy_habit_bh5w.svg" alt="PersonalityIcon">
			</p>
		</div>
	</div>
</div>
<!-- bloc-hero END -->

<!-- bloc-63 -->

<!-- bloc-63 END -->

<!-- bloc-get-instant-insights -->
<div id="bloc-get-instant-insights">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/HabitsList.svg" alt="Reclaim">
			</p>
			<div>
				<h2>
					<strong>Make time for work (and life)</strong>
				</h2>
				<p>
					With Habits, you can tell Reclaim things that you want to get done regularly, give a rough idea of when you want them to happen, and Reclaim finds the time to get them done.<br>
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-get-instant-insights END -->

<!-- bloc-rapidly-map-priorities -->
<div id="bloc-rapidly-map-priorities">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/Reclaimv2.svg" alt="Habits">
			</p>
			<div>
				<h2>
					<strong>Keep your schedule agile</strong>
				</h2>
				<p>
					Habits aren‚Äôt just recurring events ‚Äî they‚Äôre intelligent, adaptive calendar events that automatically move and change status as your week changes.&nbsp;
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-rapidly-map-priorities END -->

<!-- bloc-identify-additional-time -->
<div id="bloc-identify-additional-time">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/HabitEdit.svg" alt="Tasks">
			</p>
			<div>
				<h2>
					<strong>Set rules for time defense</strong>
				</h2>
				<p>
					With every Habit you create, you can tell Reclaim the ideal times for it to happen as well as define how aggressively you want to defend the time on your calendar.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-identify-additional-time END -->

<!-- bloc-67 -->
<div id="bloc-67">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/Interruptions.svg" alt="PersonalSyncOnTravelOnv2">
			</p>
			<div>
				<h2>
					<strong>Avoid duplication &amp; interruptions</strong>
				</h2>
				<p>
					Just like an Out-of-Office event, you can tell Reclaim to decline interruptions that interfere with your Habits. You can also give Reclaim a list of words to look for on your calendar and avoid duplicating the Habit if it‚Äôs already on your calendar.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-67 END -->

<!-- bloc-68 -->
<div id="bloc-68">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/SlackIntegrationHabits.png" data-src="../img/SlackIntegrationHabits.png" alt="LunchOnv2">
			</p>
			<div>
				<h2>
					<strong>Stay on track in Slack</strong>
				</h2>
				<p>
					With Reclaim‚Äôs Slack integration, your Habits are only a click away. You can view which Habits are scheduled, decide to delay ones that you don‚Äôt want to do that day, and modify Habits on-the-fly.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-68 END -->

<!-- bloc-69 -->

<!-- bloc-69 END -->

<!-- bloc-70 -->
<div id="bloc-70">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/HIW_01.png" data-src="../img/HIW_01.png" alt="SlackIntegrationTask">
			</p>
			<div>
				<h2>
					<strong>1. Communicate your routines</strong>
				</h2>
				<p>
					You can add anything you want to get done regularly ‚Äî exercise, coding, reading, taking a walk, or whatever matters to you ‚Äî to Reclaim as a Habit.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-70 END -->

<!-- bloc-71 -->
<div id="bloc-71">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/HIW_02.png" data-src="../img/HIW_02.png" alt="Logos">
			</p>
			<div>
				<h2>
					<strong>2. Tell us when to block them</strong>
				</h2>
				<p>
					Give Reclaim a rough idea of when you‚Äôd like the the Habit to happen, a range for how long you‚Äôd like to spend on it, and set how aggressively you want Reclaim to defend the time on your calendar.&nbsp;
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-71 END -->

<!-- bloc-72 -->
<div id="bloc-72">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/HIW_03.png" data-src="../img/HIW_03.png" alt="SlackIntegrationTask">
			</p>
			<div>
				<h2>
					<strong>3. Your routines get defended</strong>
				</h2>
				<p>
					Reclaim starts to add your Habit to your calendar! Reclaim will look ahead at your schedule and determine how busy your week looks. If your week is pretty free, the blocks will initially be added as Free time and then change to Busy as your days fill up.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-72 END -->

<!-- bloc-73 -->

<!-- bloc-73 END -->

<!-- bloc-74 -->

<!-- bloc-74 END -->

<!-- bloc-75 -->

<!-- bloc-75 END -->

<!-- bloc-76 -->
<div id="bloc-76">
	<div>
		<div>
			<div>
				<p>
					<i>‚ÄúReclaim takes a ton of methods I‚Äôve been using at work for years -- blocking time for tasks, mapping my calendar to my priorities, and safeguarding time for personal events -- and makes them 10x easier to implement. It‚Äôs like they read my mind and built a product out of it.‚Äù</i>
				</p>
				<p>
					<strong>- Jade Rubick, VP of Engineering, Gremlin</strong>
				</p>
			</div>
			<div>
				<p>
					<i>‚ÄúReclaim keeps my calendar aligned with my priorities, plain and simple. It‚Äôs a whole new way to visualize my schedule and understand where my time is going every week.‚Äù</i>
				</p>
				<p>
					<strong>- James Ferguson, Head of Design, Atlassian</strong>
				</p>
			</div>
			<div>
				<p>
					<i>"I‚Äôve introduced Reclaim to the entire Packet team and now they spend less time tinkering with their calendars and are able to focus more, prioritize what really matters and carve out time for their own mental and personal health.‚Äù</i><br>
				</p>
				<p>
					<strong>- Zac Smith, Managing Director, Equinix and Founder of Packet</strong><br>
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-76 END -->

<!-- bloc-77 -->

<!-- bloc-77 END -->

<!-- bloc-13 -->
<div id="bloc-13">
	<div>
		<div>
			<div>
				<nav role="navigation">
					<a href="https://reclaim.ai/"><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/Primary_FullColor.svg" alt="Reclaim"></a>
					
					
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- bloc-13 END -->

</div></div>]]>
            </description>
            <link>https://reclaim.ai/daily-habits/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760278</guid>
            <pubDate>Tue, 07 Jul 2020 15:34:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HelloSign Scaled Traffic 1,308%]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760032">thread link</a>) | @KaiserSanchez
<br/>
July 7, 2020 | https://www.yesoptimist.com/saas-content-marketing-framework/ | <a href="https://web.archive.org/web/*/https://www.yesoptimist.com/saas-content-marketing-framework/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
				
				
<p>It was a frigid cold day in Des Moines on January 28, 2019.&nbsp;<br></p>



<p>Like most January days, I was just hoping to hold on a few more weeks until the early signs of Spring would start to thaw things out and give me that yearly boost of energy.</p>



<p>But, it turned out that I was going to get a different kind of jolt.</p>



<p>‚Äú<a href="https://www.hellosign.com/blog/a-letter-from-our-ceo-were-joining-dropbox" target="_blank" rel="noreferrer noopener" aria-label="Dropbox Acquires HelloSign for $230mm (opens in a new tab)">Dropbox Acquires HelloSign for $230mm</a>,‚Äù the headline read in my push notifications.<br></p>



<p>I stared at it for a long time.</p>



<p>A combination of shock and elation took hold as I bounded out of bed.<br></p>



<p>HelloSign and Optimist had been working together for nearly two years at this point. But I had no idea that the acquisition was in play. The whole deal has been basically kept under wraps. Most of the team only found out about it right before it was finalized.<br></p>



<p>It was a momentous achievement for their team.<br></p>



<p>When we first started working with HelloSign, they had just raised their Series A and were on a path to rapidly expand their eSignature solution, roll out HelloWorks, and move upmarket with HelloSign integrations and API.<br></p>



<p>There was a lot to do and a lot of content and strategy to figure out.&nbsp;<br></p>



<p><em>We had our work cut out for us.</em><br></p>



<p>Luckily, our team and the HelloSign team are both full of outrageously smart people. We dug in and put together a strategy.<br></p>



<figure><img src="https://lh4.googleusercontent.com/IcibgJc6j5tpYXEm_m_ik9W_YNLIIrvzZmHTBHmriqbihYkO2NXDz9SogzmE-H203ML1Ju0uP7cRPqUx1tfIZVWA1m96_8xdxPLSvlIP7m05Ej7q9o3kuaEoE_oESJVNPETObhOq" alt="HelloSign's Organic Traffic Growth (October 2017 to January 2019)"></figure>



<p>Over the previous 17 months (and to this day), we worked closely with the HelloSign team to drive 1,308% growth in targeted organic traffic. This growth correlated almost perfectly with the growth of their business and the acquisition that took place in January.<br></p>



<p>Through this process and in working with many other SaaS companies over the years, we have developed and refined some key strategies and tactics that we use to drive growth for all of our clients and other SaaS businesses in particular.<br></p>



<p>From that, we‚Äôve distilled those strategies into a core framework that defines how we achieve specific results and reach key goals.&nbsp;<br></p>



<p>This article is about that framework.</p>



<h2>Content Marketing for SaaS: Driving User Signups</h2>



<p>Nearly all SaaS companies have pretty straightforward goals for their content marketing:<br></p>



<ol><li>Drive product sign-ups and trials</li><li>Everything else. (Traffic, brand awareness,&nbsp;leads, emails, etc)</li></ol>



<p>HelloSign is no different.&nbsp;<br></p>



<p>Although they have a number of market focuses and products that were in play, the ultimate business objective of our work together was‚Äìunsurprisingly‚Äìto grow users.&nbsp;<br></p>



<p>So, that‚Äôs what we set out to do.&nbsp;<br></p>



<p>The question, of course, is how you use content as a lever for both capturing the right audience, convincing them of the value of the product, and ultimately converting them into customers.<br></p>



<figure><img src="https://lh4.googleusercontent.com/NE0svR6j4qHgtXc2V0wxw-XR_jXTW2e6L1PcoXncPqUFLJJf-5yorAWPbmSo7GTA0rQ1AVPBM5L13O3khI7G6SyuyCWMJdKTaxAHrwyqa1jQ8A24fTUK7JHuZ6iz4crHUrOTLlkI" alt=""></figure>



<p>In most instances, these goals feel at odds with one another. The content that is most valuable to you as a business (most product-focused) is often less valuable to a reader who is trying to learn about a topic or solve a problem broadly.<br></p>



<p>As with most content marketing frameworks, we find that the key is to unpack the specific moving parts and build a strategy that addresses each specific goal as part of a broader strategy.&nbsp;<br></p>



<p>In other words, break it down and solve for each piece independently. Then pull everything together into a cohesive framework.</p>



<h2>The SaaS Content Funnel Paradox</h2>



<p>Most SaaS product signups (trials, leads, etc) come from the middle of the funnel.<br></p>



<p>In other words, a prospect has researched their problem, discovered a general solution, and they begin researching products that offer it. In most cases, few prospects read content that‚Äôs at the top of the funnel and immediately hop into a product‚Äìit‚Äôs rare.&nbsp;<br></p>



<p>This means that in order for a SaaS content marketing strategy to be successful, you need to put a lot of emphasis on driving solution-aware traffic to content and pages that are in the middle of the funnel.<br></p>



<p><em>But there‚Äôs a challenge</em>.&nbsp;<br></p>



<p>The pages on your site that are most relevant to a middle-of-the-funnel searcher are your core product pages‚Äìfeatures, integrations, solutions, etc.&nbsp;<br></p>



<p>These are notoriously difficult pages to rank (especially in a crowded market like esignatures) because there are very few ways for them to naturally accrue links or promote such product-focused content directly to a prospect.&nbsp;<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1.png" alt="HelloSign's Product Marketing site is full of targeted landing pages" srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1-980x521.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1-480x255.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>This creates a paradox.&nbsp;<br></p>



<p>The pages that you care most about ranking and generating traffic to are also, often, the most difficult to rank and drive traffic to.&nbsp;<br></p>



<p>So, how do you overcome this obstacle, resolve the paradox, and restore order to the universe? (Okay, maybe just that first part.)<br></p>



<p>The solution is to <a href="http://yesoptimist.com/frameworks">create a framework</a> that leverages <em>top of the funnel content</em> as a means to generate not just traffic, but also links (domain and topical authority) that helps these important pages rank over time.<br></p>



<p>This has become the basis for our work with most SaaS clients.</p>



<h2>The Optimist SaaS Content Marketing Framework</h2>



<p>Before we get into the specifics of how we executed this strategy, I want to reveal the framework that we use to shape our thinking and our approach.&nbsp;<br></p>



<p>This framework builds on our trifecta strategy that we originally developed from my work scaling College Raptor from <a href="https://www.yesoptimist.com/content-marketing-seo-case-study-the-trifecta-strategy/">0 to 100,000 organic searches/mo</a>.&nbsp;<br></p>



<p>But, given the specific nuances of the SaaS business model and the extended B2B buyer‚Äôs journey, it‚Äôs not a simple cut-and-paste process.&nbsp;<br></p>



<figure><img src="https://lh6.googleusercontent.com/JdENWX5eN_LOMVx2I778zGXks82Eu5MkC92ktCgboJrcur7JAo8f4fL_h--FFGUsYwsffYMq9_RderLzTycXIEcGwE4gZKm9WyTrHe2w27jUojSYaRNlB8-e_WwMoQj5rkKBiHG0" alt=""></figure>



<p>The framework that we developed integrates key insights about how buyers interact with SaaS businesses and which strategies are most effective for driving actual conversions.<br></p>



<p>For our work with HelloSign, we applied a framework similar to this. Ultimately, we‚Äôve found that most SaaS businesses have similar goals and thus, the overall approach to content marketing is a variation of this general framework.&nbsp;<br></p>



<p>It‚Äôs not one-size-fits-all, but it‚Äôs about as close as you can get when you‚Äôre talking about true strategy.<br></p>



<p>Let‚Äôs step through all of the types of content that were part of HelloSign‚Äôs massive growth.</p>



<h2>Pre-Funnel Content: Targeting the Right Buyers</h2>



<p>Before we dive into the actual funnel and the buyer‚Äôs journey, I want to begin with what we call pre-funnel or persona-qualified content.&nbsp;<br></p>



<p>Although it‚Äôs often at least one step removed from a buying cycle, pre-funnel content can serve an important supporting role in a SaaS content marketing strategy. The idea here is to create content that attracts your target buyer <em>broadly</em>, even if they aren‚Äôt problem-aware.<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-1024x544.png" alt="Thought leadership content attracts relevant buyers, even if they are pre-funnel." srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-1024x544.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-980x521.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-480x255.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>Case in point: HelloSign speaks a lot to sales leaders in their content. We created a lot of content that was aimed at generally helping this persona do their job better, even if that didn‚Äôt involve using HelloSign‚Äôs products to do it.<br></p>



<p>This allows us to accomplish a number of things:&nbsp;<br></p>



<ol><li>Expand search/social footprint</li><li>Build brand awareness and familiarity with our target personas</li><li>Drive retargeting and email marketing</li></ol>



<p>But, keep in mind that this content, while valuable if used strategically, can also be a distraction from the key objective. It rarely leads to a product conversion.&nbsp;<br></p>



<p>Don‚Äôt let it become the center of your approach unless you have already built out every other part of the funnel in full.</p>



<h2>Top of the Funnel Content: Helping Prospects Solve Problems</h2>



<p>The top of the funnel is often misunderstood in the world of content marketing generally and SaaS, especially.&nbsp;<br></p>



<p>Our take is simple: <em>The top of the funnel starts when a buyer begins to actively learn about or seek a solution to problem that could lead to a purchase.</em><br></p>



<p>In the world of HelloSign, we see this as the pain point that the user is looking to solve that <em>could </em>ultimately lead to a product conversion.<br></p>



<p>If the buyer is a VP of Sales or Sales Operations Director, then they may begin their journey by looking to accelerate their sales cycle‚Äìcut down the days between contract and close.&nbsp;<br></p>



<p><em>One solution to this problem is to implement esignatures.</em><br></p>



<p>So, from a content perspective, we target this initial need as an opportunity to capture the buyer at the point where they are looking for solutions to a problem. In my <a href="https://www.yesoptimist.com/saas-seo-strategy/">post about SaaS SEO</a>, I talked about our process of using a JTBD framework to identify and map these specific pain points to key product use cases and features.&nbsp;<br></p>



<p>Within the top of the funnel content, we break down our content strategy into <a href="http://yesoptimist.com/100k">3 key types of content that each serve a specific purpose</a>. I‚Äôve outlined this approach before, but it allows us to get very specific and tactical while staying strategic in our content planning and creation.&nbsp;</p>



<h3>1. Social-viral content (Thought leadership)</h3>



<p>For HelloSign, what we pursue as social-viral content is strong thought leadership content that‚Äôs likely to generate a lot of shares and buzz around a particular topic.&nbsp;<br></p>



<p>What we have found is that the more of a strong stance we are willing to take topics related to work, culture, and operations, the more reaction we generate among our target readers. Of course, this approach can be polarizing as well.<br></p>



<p>The key to our approach here is to be thoughtful about where we plant a flag.<br></p>



<p>Knowing that readers who align with specific thinking are most likely to become users and customers, we can draw a line in the sand to help attract like-minded buyers who feel strongly about the nature of work and productivity.&nbsp;<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-1024x679.png" alt="Social-viral style content aimed at agitating common problems and generating product demand for HelloSign's eSignature software" srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-1024x679.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-980x650.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-480x318.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>Keep in mind that the search (SEO) opportunity for this content may not be enormous.<br></p>



<p>That‚Äôs okay.&nbsp;<br></p>



<p>The role of this content is to reach prospects through channels other than search; social and community channels. We want to generate a buzz and demand based on the content and drive problem awareness. That means that this topics often have a short shelf life.&nbsp;<br></p>



<p>They‚Äôre perennial rather than evergreen. We can circle back to them every few months or every year and use them to drive traffic through key channels.</p>



<h3>2. Evergreen content</h3>



<p>The meat and potatoes of our SaaS content marketing framework‚Äìthe workhorse‚Äìis evergreen content.<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-1024x679.png" alt="Evergreen content targeted prospective buyers based on need at the top of the funnel" srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-1024x679.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-980x650.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-480x318.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>This topical, keyword-focused content ranks for the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.yesoptimist.com/saas-content-marketing-framework/">https://www.yesoptimist.com/saas-content-marketing-framework/</a></em></p>]]>
            </description>
            <link>https://www.yesoptimist.com/saas-content-marketing-framework/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760032</guid>
            <pubDate>Tue, 07 Jul 2020 15:09:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unified perceptual modeling for consistent software architecture]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23759961">thread link</a>) | @goblista
<br/>
July 7, 2020 | https://klaussilveira.com/unified-perceptual-modeling-for-consistent-software-architecture.html | <a href="https://web.archive.org/web/*/https://klaussilveira.com/unified-perceptual-modeling-for-consistent-software-architecture.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article itemscope="" itemtype="http://schema.org/BlogPosting">
      <header>
        
      </header>
      <div itemprop="articleBody">
        <p>As a software architect, it‚Äôs easy to get lost in technicalities, design patterns and implementation details. This often leads to your vision of the whole being blurred and obfuscated by building blocks that don‚Äôt really correlate with the system you are trying to design. Understanding that the whole is other than the sum of its parts, as Kurt Koffka once said, deeply affects our perception of the function imposed on those parts. If the whole is independent and has its own meaning, then what is the purpose of each one of those parts? None. They are meaningless, merely means to an end.</p>

<p>You can see where i‚Äôm going with this: a Factory, a Builder, a Strategy, they are nothing without the whole. And the whole has a purpose of its own, tied to the domain of our solution. Therefore, the purpose of the whole should never be tied to the intricacies of its parts. In <a href="http://a.co/7xaidXJ">Domain-Driven Design</a>, Eric Evans introduces the term <em>ubiquitous language</em>, which is a common language between developers and users of a software, tied to its domain model. In order to achieve a good architecture, your whole should be able to communicate it‚Äôs meaning using this same language. And so does the parts.</p>

<p>In the early 1910s, Kurt Koffka worked with Wolfgang K√∂hler and Max Wertheimer on several theories that formed the Gestalt psychology, which attempts to understand how humans visually perceive the world surrounding them and describes how they tend to organize visual elements into wholes. When learning the psychology of design and essential concepts such as space, balance and visual hierarchy, i also learned the principles of Gestalt. Rudolf Arnheim, in <a href="http://a.co/7Tg0pOz">his excellent book</a>, explains in great detail the principles of similarity, proximity, continuity, closure and ground symmetry.</p>

<p>I highly recommend you to take some time and read more about design psychology and, specifically, Arnheim‚Äôs book. But for now, i want to focus on the principle of similarity:</p>

<p><img src="http://klaussilveira.com/assets/gestalt.jpg" alt="Similarity"></p>

<p>You see the triangle. But the triangle does not exist, only three pacman-like structures. The structures are meaningless, but what they compose has an enormous complexity of its own. And this is what makes great software architecture: a software application is not just the sum of each of it‚Äôs components, it‚Äôs something else, independent, with a purpose of it‚Äôs own. And it is your responsibility, as a software architect, to find this purpose.</p>

<p>This is what i call unified perceptual modeling: bound by the rules of the language of your domain, you must model your application using several components, yet always through the perspective of the whole. If you don‚Äôt see the whole and its purpose, you will never achieve consistency.</p>

      </div>
    </article>
  </div></div>]]>
            </description>
            <link>https://klaussilveira.com/unified-perceptual-modeling-for-consistent-software-architecture.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23759961</guid>
            <pubDate>Tue, 07 Jul 2020 15:02:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ten Paradoxes of Technology ‚Äì great essay for all technologists [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23759860">thread link</a>) | @Gigamouse
<br/>
July 7, 2020 | https://www.sfu.ca/~andrewf/paradoxes.pdf | <a href="https://web.archive.org/web/*/https://www.sfu.ca/~andrewf/paradoxes.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.sfu.ca/~andrewf/paradoxes.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-23759860</guid>
            <pubDate>Tue, 07 Jul 2020 14:53:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A better remedy for cancel culture is to end at-will employment]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23759114">thread link</a>) | @Melchizedek
<br/>
July 7, 2020 | https://www.persuasion.community/p/a-better-remedy-for-cancel-culture | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/a-better-remedy-for-cancel-culture">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a target="_blank" href="https://cdn.substack.com/image/fetch/c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9a172446-edcd-47f6-8d44-f467e59ebe25_4000x2223.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9a172446-edcd-47f6-8d44-f467e59ebe25_4000x2223.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/9a172446-edcd-47f6-8d44-f467e59ebe25_4000x2223.jpeg&quot;,&quot;height&quot;:809,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:5515692,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></p><p>The U.S. Constitution offers very broad protections for freedom of speech. While criticizing the government, or even waving the wrong flag, <a href="https://www.bbc.com/news/world-asia-china-53244862">could get you imprisoned</a> in any territory under Chinese rule, your right to freedom of expression is sacrosanct under the First Amendment‚Äîuntil you step into your place of work, that is. While the government is not entitled to punish political dissent, in most parts of America it is perfectly legal for your boss to fire you if they happen to dislike the person you voted for in the last election. </p><div><p>This restriction on political expression is especially harmful at a time when, nearly every day, somebody is accused of having transgressed against some commonly (or even not so commonly) held taboo. In many of these cases, employees‚Äîfrom senior staff at prominent institutions to working-class laborers‚Äîhave been fired. Even outside of working hours, it would now be perfectly reasonable for most Americans to think twice before speaking their minds about hot-button issues.</p><p> In their attempts to remedy the most pernicious aspects of cancel culture, critics have mostly concentrated on advocating less punitive social norms. This is good as far as it goes. Our political culture will only become more liberal if we all stop demanding that people be punished or fired for imaginary transgressions. Yet, this emphasis on culture ignores the important role that legislative reform could play in defending the most vulnerable: If it were harder for employers to fire people for frivolous reasons, Americans would have less reason to fear that expressing their views might cost them their livelihoods.</p></div><p><strong>The Problem with At-Will Employment</strong></p><p>At the moment, most American workers are subject to ‚Äúat-will‚Äù contracts. As long as their employers do not fire them on the basis of a narrow set of protected characteristics, such as gender, race, and sexual orientation, they can lose their jobs at any time, for any reason. Nor is there a due process requirement: Companies are under no legal obligation to investigate whether the ostensible reasons for axing an employee are grounded in reality. (The only state that categorically prohibits at-will employment, after six months on the job, <a href="https://spoonlaw.com/437-2/">is Montana</a>). </p><div><p> The prevalence of at-will employment makes it easier for employers to engage in knee-jerk reactions to short-lived social media controversies. For instance, a Hispanic electrician working for the San Diego Gas and Electric company was fired for cracking his knuckles in a photograph because a <a href="https://www.nbcsandiego.com/news/local/sdge-worker-fired-over-alleged-racist-gesture-says-he-was-cracking-knuckles/2347414/">social media mob believed that he was</a> flashing a white power sign. The man who took the picture has since admitted that he probably misinterpreted the interaction, and thousands of people have now <a href="https://www.change.org/p/sdge-reinstate-emmanuel-caffertys-job-sdge">signed a petition</a>, asking the electrician‚Äôs former employer to reverse the mistake. But since the employee has already lost his job, it will be hard for him to obtain justice. As in many other cases, both parties would have been better off if the law had required the company to afford due process to an accused worker <em>before</em> deciding whether or not to fire him. </p><p> There is a better alternative: Contracts negotiated by labor unions often provide so-called ‚Äújust cause‚Äù protections for employees. The tests of just cause <a href="https://www.massnurses.org/labor-action/labor-education-resources/grievances-101/just-cause#:~:text=Just%20cause%20is%20the%20standard,must%20be%20just%20and%20fair.&amp;text=The%20concept%20of%20just%20cause%20is%20well%20established%20in%20labor%20law.">typically include questions</a> such as whether the employee was forewarned of the consequences of his or her actions, whether the rules were applied evenly, and whether there was an objective investigation into the employee‚Äôs conduct. In other words, it forces employers to conduct a fair process before firing their employees, which gives the accused a real chance to defend themselves. If we really care about free speech and due process, these protections should be available to every American.</p></div><div><p>Opponents of these reforms have long argued that they would come at a heavy cost to the economy. But scholars who have studied the impact of wrongful discharge protections have obtained mixed results. <a href="https://www.nber.org/papers/w12860.pdf">One 2007 study of U.S. employers</a>, for example, found that the introduction of such protections resulted in some loss of productivity, but also led to strong growth in overall employment numbers.</p></div><p><strong>Stop Employers From Discriminating Against Views They Don‚Äôt Like</strong></p><p> Just cause legislation would help to reduce the number of capricious firings. But, as long as bosses can legally terminate employees because they dislike their political views, such legislation would only go partway towards remedying the chilling effects on free speech. That‚Äôs why those of us who worry about cancel culture should also push for the inclusion of political affiliation in the rubric of anti-discrimination laws. </p><p> The Civil Rights Act has long prohibited employers from discriminating on the basis of race, color, religion, gender, pregnancy, or national origin. In June, the Supreme Court <a href="https://www.npr.org/2020/06/15/863498848/supreme-court-delivers-major-victory-to-lgbtq-employees">ruled that this provision</a> also protects gay, lesbian, and transgender employees. But there are no equivalent federal protections to prevent employees from being disadvantaged because of their political views.</p><div><p>This is a missed opportunity, as the success of local ordinances mandating such protections has shown. In Washington D.C., for example, the <a href="https://ohr.dc.gov/sites/default/files/dc/sites/ohr/publication/attachments/LawsAndRegs-HumanRightsAct-1977-English.pdf">Human Rights Act</a> prohibits employment discrimination based on political affiliation, defined as ‚Äúthe state of belonging to or endorsing any political party.‚Äù As Edgar Njatou, Executive Director of Workplace Fairness, told me in an interview, this ensures that your boss can‚Äôt fire you if they ‚Äúfind out you voted for Hillary or that you‚Äôre a Republican.‚Äù</p><p> Seattle has even more ambitious protections for workers‚Äô political views. Its laws prohibit discrimination based on ‚Äú<a href="https://library.municode.com/wa/seattle/codes/municipal_code?nodeId=TIT14HURI_CH14.06UNPUACPR&amp;showChanges=true">political ideology</a>,‚Äù which is defined as ‚Äúany idea or belief ‚Ä¶ relating to the purpose, conduct, organization, function or basis of government institutions and activities, whether or not characteristic of any political party or group.‚Äù But even this law mostly serves to protect people with relatively common political views. After the 2016 election, for example, local rental listings began to discourage Trump supporters from applying. ‚ÄúIf you are a landlord,‚Äù city government spokesperson Elliot Bronstein, <a href="https://www.king5.com/article/news/local/seattle/no-trump-clause-is-new-requirement-for-some-seattle-renters/416269805">wrote in response</a>, ‚Äúyou cannot discriminate on political status.‚Äù (Like other protections against discrimination, this does not apply to housemates, who share an apartment or living space.) </p></div><p>There are two obvious objections‚Äîboth of which could easily be addressed. First, some organizations have a legitimate interest in ensuring that their employees share a broad worldview: It would make no sense, for example, to stop a political campaign group from discriminating against a job applicant who opposes the organization‚Äôs goals. Explicitly political organizations should therefore enjoy a carve-out from the stricture against discriminating on the basis of political beliefs (though they would still have to afford existing employees the due process protections guaranteed under ‚Äújust cause‚Äù provisions). </p><p>Second, employers have a legitimate interest in protecting their staff from the hateful conduct of colleagues: Clearly, for example, no member of an ethnic minority should have to endure racist taunts at their place of work. But this could also be addressed through carefully worded legislation. Seattle already offers exemptions for political conduct that would cause ‚Äúsubstantial and material disruption of the property rights of the provider of a place of public accommodation.‚Äù Employers also have an affirmative obligation to protect employees from racist harassment.</p><p>Balancing competing goods is one of the core purposes of any legal system. There is no reason to think that our laws could not protect the speech of political minorities, without hampering the operation of overtly political organizations or burdening ethnic, religious, or sexual minorities with the fear of harassment.</p><p><strong>We Can Make It Happen</strong></p><p>New employment regulations always face an especially tough uphill battle in Congress. But, though it will not be easy to win legislative approval for such reforms, every major faction of American political life has its own reasons for supporting them. </p><p>The left should be sympathetic to the wish to expand job protections for American workers, which lag significantly behind those of other developed countries. While conservatives are usually hostile to such regulations, they should recognize that these reforms would help to protect them against the growing influence of cancel culture. And philosophical liberals‚Äîthose of us who believe in a pluralistic society that encourages ideological diversity‚Äîhave the most principled reason to get on board.</p><p>Hatred of any form of wrong think now <a href="https://www.vox.com/2015/12/7/9790764/partisan-discrimination">threatens the foundations</a> of our social fabric. Since the stakes of public policy debates are high, it is understandable‚Äîand even admirable‚Äîfor citizens to subject each other‚Äôs views to vigorous criticism. But, if ordinary people fear that a minor misunderstanding or a deeply held difference of opinion might cost them their jobs, freedom of speech‚Äîthe cornerstone of any liberal order‚Äîis under serious threat. </p></div></div>]]>
            </description>
            <link>https://www.persuasion.community/p/a-better-remedy-for-cancel-culture</link>
            <guid isPermaLink="false">hacker-news-small-sites-23759114</guid>
            <pubDate>Tue, 07 Jul 2020 13:39:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blockchain and the primary value of interoperability ‚Äì connectivity]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758937">thread link</a>) | @simplertms
<br/>
July 7, 2020 | https://spec-rationality.com/interoperability-overview/ | <a href="https://web.archive.org/web/*/https://spec-rationality.com/interoperability-overview/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
	
</section><section>
	<div>
		

	    <div>
	    	<p><img src="https://spec-rationality.com/wp-content/uploads/2018/09/shutterstock_696944128-e1543823849606.jpg" alt="" width="1000" height="250"></p>
<blockquote>
<p><em><b>Criteria:</b> The core use case of interoperability is not a specific application, but rather a concept: Connectivity. The primary value of interoperability (connectivity) comes down to the basic need for wide inclusivity ‚Äì enabling the widest range of networks to connect whilst reducing the impediments to the path of connection.Given the primary value is satisfied, developers and end users may look at these solutions through the lens of trustlessness, performance, decentralisation etc. as secondary values to evaluate tools. </em></p>
</blockquote>
<p>A close look at the DLT space reveals a series of public and private chains that operate largely in distinct silos. As DLTs accelerate towards maturity a key infrastructure requirement will be the ability for information to be transmitted in real time from chain to chain and even off-chain to old world systems.</p>
<p>However the question of why we need interoperability is sometimes complicated by developers and users thinking of very specific use cases- a complex array of applications and niche features. This mindset needs to be geared towards something far more simple, going down to the very basics of interoperability.</p>
<p>CONNECTIVITY</p>
<p>This glaringly obvious but often overlooked use case of interoperability is a concept without which DLTs will continue to function in silos but never capitalise on their full potential. Take for example, any decentralised application or network and ask if that by enabling connectivity, would it suffer or thrive?</p>
<p>If the internet has taught us anything, it is the true value and weight of change that connectivity has brought to the world. Connectivity itself is therefore the use case of interoperability, and to underestimate the value that this simple concept brings would be negligent.</p>
<p>If we assume interoperability technology is perfected and that comprehensive connectivity is available, perhaps the issue or disconnect for many lie in the tribalism forming around DLTs such as BTC, ETH, NEO, EOS etc. To bring things into perspective, it‚Äôs akin to saying Country A should remain isolated from Country B. However this mindset will restrict DLTs from even competing with existing world systems to which connectivity is inextricably linked.</p>
<p>This article will therefore not focus on the specific use cases as popularly imagined by most, a Decentralized Exchange being perhaps the most popular. Instead we will imagine a world in which connectivity plays a significant role in a global decentralised economy. The challenge now faced by interoperability technologies is their ability to effectively optimise for connectivity without compromising the other core tenets of DLTs ‚Äì specifically the trustless nature of decentralisation.</p>
<h3>The Varying Degrees of Decentralised Interoperability</h3>
<p>Connectivity to certain degrees is already apparent in the current landscape. Take for example the service Changelly or a centralised exchange like Binance, they act as a medium to allow exchange of one token for another. These mediums however do not align with the tenets that the underlying traded assets were built upon, a decentralised network that does not require the trust of a centralised third party.</p>
<p>As such the response within the space has been to develop technologies focusing on interoperability that do align with the core decentralisation tenets of Blockchain. The main technologies can be summarized as:</p>
<ol>
<li><span>Notary Schemes</span></li>
<li><span>Relaychain and Parachains</span></li>
<li><span>Cross-Chain Hash Locking</span></li>
<li><span>Multichain Weaving</span></li>
</ol>
<p><span>(Please refer to </span><a href="https://spec-rationality.com/methods-interoperability/" target="_blank" rel="noopener"><span>Methods of Interoperability</span></a><span> for more information)</span></p>

<table>
<tbody>
<tr>
<th></th>
<th><strong>Notary Schemes</strong></th>
<th><strong>Relaychain/<br>
</strong><strong>Parachains (Multichain)</strong></th>
<th><strong>Hashlocking</strong></th>
<th><strong>Multichain / Weaving</strong></th>
</tr>
<tr>
<td><strong>Value Transfer</strong></td>
<td><span>Yes</span></td>
<td><span>Yes</span></td>
<td><span>Yes</span></td>
<td><span>Yes</span></td>
</tr>
<tr>
<td><strong>Access to data</strong></td>
<td><span>Verifying states</span></td>
<td><span>Full states as part of the core protocol</span></td>
<td><span>Intended only for value transfer</span></td>
<td><span>Full states as part of the core protocol</span></td>
</tr>
<tr>
<td><strong>Validators Required</strong></td>
<td><span> Yes</span></td>
<td><span>Yes</span></td>
<td><span>No</span></td>
<td><span>No</span></td>
</tr>
<tr>
<td><strong>Conditional Requirements to participate</strong></td>
<td><span>‚Äì Consensus on core protocol</span>
<p><span>‚Äì Resources to set up new bridge</span></p></td>
<td><span>‚Äì Consensus on core protocol</span>
<p><span>‚Äì Resources to set up Parachain / Bridgechain</span></p></td>
<td><span>‚Äì Same type of hashing algorithm </span></td>
<td><span>‚Äì Consensus on core protocol</span>
<p><span>‚Äì Technical implementation to include member chain as part of the mining process</span></p>
<p><span>‚Äì Hard fork to the adjusted multichain architecture</span></p></td>
</tr>
</tbody>
</table>
<p><span>What is important to draw from the above technologies is the ability to identify the varying degrees to which these technologies have achieve decentralised interoperability ‚Äì the extent of connectivity established while maintaining decentralisation. </span></p>
<p><span>Ultimately users have the choice of any number of interoperable methods, even centralised exchanges. </span><span>To assist in this choice, consider the problems these technologies solve in regards to relationship of trust (blockchain tenets), security and access (connectivity). The problems manifest themselves as three core problems, in summary below and discussed in detail further down: </span></p>
<ol>
<li><span>Opportunities/limitations of interoperability ‚Äì Trust and security based on knowing full state vs verifying state</span>
<ul>
<li><span>Value transfer</span>
<ul>
<li>Full state of member chains as part of the protocol‚Äôs data</li>
<li>Compatible chain communications (Hashlocking)</li>
<li>Verifying the state based on verification by a validator</li>
</ul>
</li>
<li><span>Access to Data ‚Äì Knowing the states of member chains ‚Äì i.e. Proving data relative to another network, effectively allowing smart contracts and applications to leverage this ‚Äúknowing‚Äù.&nbsp;Can be achieved via:</span>
<ul>
<li><span>Full state of member chains as part of the protocol‚Äôs data</span></li>
<li><span>Verifying the state based on verification by a validator</span></li>
</ul>
</li>
</ul>
</li>
<li><span>Methods of interoperability ‚Äì Trust based on validators vs no validators</span>
<ul>
<li><span>Centralised hubs </span></li>
<li><span>Validator based (Verification via Validators, 3rd party)</span></li>
<li><span>Work based (Verification does not require validators)</span></li>
</ul>
</li>
<li><span>Access to interoperability ‚Äì conditions to participate</span>
<ul>
<li><span>Conditional requirement to participate ‚Äì i.e. requires smart contract or requires change to core protocol</span></li>
</ul>
</li>
</ol>
<p><b>The first problem: </b><span>Opportunities / limitations of interoperability ‚Äì &nbsp;Trust and security based on knowing full state vs verifying state</span></p>
<p><span>The variable here is trust based. The two options being ‚Äúknowing‚Äù of states vs verification of a state. Multichain technology can ‚Äúknow‚Äù full states as all member chains are part of the parent chain, allowing constant knowing of the latest states of said member chains. Where on the other hand variations of the notary scheme require verification of the latest state by validators. To put it simply, the difference lies in that notary schemes have to confirm information external to their protocol, where multichains are in a constant state of knowing ergo internal confirmation. </span></p>
<p><span>If we are to look at this in regard to security, if the members chains‚Äô data is part of the core protocol (as proposed by Polkadot and Block Collider ‚Äì multichain technology) the states of those chains is secured by the entire protocol and therefore verification and use of that data is as secure as the protocol. As popularly proposed, notary schemes, that verify states based on interoperable actions triggered, are separate chains or nodes bridging information between chains to the core protocol. The security then of the bridges is independent of the core protocol making it more vulnerable to attacks. A slight exception lies with projects like ARK, where the whole protocol acts as one cohesive notary scheme for all member chains, where the bridges are not separate chains or clusters of nodes. By doing so the resources utilised are not split to many disparate smaller bridges, ensuring more security overall. </span></p>
<p><b>The second problem:</b><span> Methods of interoperability ‚Äì Trust based on validators vs no validators</span></p>
<p>To understand this problem we must first understand the core tenets of which blockchain technology was built upon and what it ultimately means to the end user. The tenets or pillars can be thought of as four topics:</p>
<ol>
<li><span>Objective networks</span></li>
<li><span>Unforgeable costliness </span></li>
<li><span>True Trustless Networks</span></li>
<li><span>True permissionless networks</span></li>
</ol>
<p><span>For a more comprehensive breakdown of these topics that act as the pillars of Decentralised Protocols please read <a href="https://spec-rationality.com/scalability-overview/#merits_of_pow" target="_blank" rel="noopener">here</a>. </span></p>
<p><span>‚ÄúThe most valued merit of the trustless model is its ability to preserve the network‚Äôs independence from any entity acting as a trusted third party (government, bank or otherwise) with the power to tamper with, control or censor any element of the network.</span></p>
<p><span>It is this distinguishing feature of PoW, that enables it to offer a level of trustlessness beyond other consensus mechanisms which rely on the use of validators. A validator in a blockchain is a ‚Äúhuman element‚Äù or third party to whom the network cedes some degree of trust to confirm the verification of transactions. ‚Äú‚Ä¶ To understand the spectrum of trustlessnes, one can imagine that centralised systems which completely relinquish trust to a third party are on one end and variations of PoW that eliminate trust are on the other. The various validator reliant consensus mechanisms lie in the middle, redistributing rather than eliminating trust.‚Äù </span></p>
<p><span>As alluded to above, trust minimization is a crucial element of blockchain technology, where PoW variations (work based schemes) like the multichain proposed by Block Collider (PoD) attempt to preserve the network as trustless. Further mining (wok based) schemes preserve objectivity and unforegable costliness, something that is compromised when we move towards validator based consensus.</span></p>
<p><span>Notary schemes by design have the underlying consensus as validator based (refer to <a href="https://spec-rationality.com/methods-interoperability/" target="_blank" rel="noopener">Methods of Interoperability</a>). Multichains need not only be work based either, for example Polkadot has taken the route of multichains with a validator based consensus. (Note: Polkadot only creates the multichain between compatible parachains) </span></p>
<p><b>The third problem:</b><span> Access to interoperability ‚Äì &nbsp;conditions to participate</span></p>
<p><span>Access can be defined by the ability for a interoperable technology to incorporate chains with as low an entry threshold as possible. Access can viewed than as a spectrum that is defined by the conditional requirement to participate.</span></p>
<p><span>The ideal is that if a new protocol/chain were to come into existence that it is able to join an ‚Ä¶</span></p></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://spec-rationality.com/interoperability-overview/">https://spec-rationality.com/interoperability-overview/</a></em></p>]]>
            </description>
            <link>https://spec-rationality.com/interoperability-overview/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758937</guid>
            <pubDate>Tue, 07 Jul 2020 13:22:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Supercharge Your Shallow ML Models with Hummingbird]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758867">thread link</a>) | @klarahorton
<br/>
July 7, 2020 | https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird | <a href="https://web.archive.org/web/*/https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-cy="project"><div><div><div><div><div><p>Jul 3, 2020</p><!-- --><p> by</p><!-- --> <p><span>Anthony Agnone for Deepnote</span><span><a target="_blank" rel="noopener noreferrer" href="https://medium.com/@anthonyagnone"><span><svg viewBox="0 0 16 16" version="1.1"><defs></defs><g id="Icons" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Artboard" transform="translate(-493.000000, -25.000000)"><path d="M501,25 C496.6,25 493,28.6 493,33 C493,37.4 496.6,41 501,41 C505.4,41 509,37.4 509,33 C509,28.6 505.4,25 501,25 L501,25 Z M500.2,39.32 C497.08,38.92 494.6,36.2 494.6,33 C494.6,32.52 494.68,32.04 494.76,31.56 L498.6,35.4 L498.6,36.2 C498.6,37.08 499.32,37.8 500.2,37.8 L500.2,39.32 L500.2,39.32 Z M505.72,37.32 C505.48,36.68 504.92,36.2 504.2,36.2 L503.4,36.2 L503.4,33.8 C503.4,33.32 503.08,33 502.6,33 L497.8,33 L497.8,31.4 L499.4,31.4 C499.88,31.4 500.2,31.08 500.2,30.6 L500.2,29 L501.8,29 C502.68,29 503.4,28.28 503.4,27.4 L503.4,27.08 C505.72,28.04 507.4,30.36 507.4,33 C507.4,34.68 506.76,36.2 505.72,37.32 L505.72,37.32 Z" id="Shape"></path></g></g></svg></span></a></span></p></div></div><p>With Hummingbird, your ML pipelines will start to look cleaner. You'll know that, regardless of algorithm, you end up with a model that creates its predictions via tensor computations. Not only that, these tensor computations will be run by the same deep learning framework of choice that your organization has likely already given allegiance to.

All of this from one function call. Not a bad deal in my book!</p><p><img src="https://storage.googleapis.com/published-content/supercharge-your-shallow-ml-models-with-hummingbird/levi-jones-grRhpfQbBZI-unsplash.jpg" alt="Supercharge Your Shallow ML Models With Hummingbird - preview image"></p></div><div><div><div><div><div><div><div><p><span>&lt;</span>span<span>&gt;</span>Photo by <span>[</span>Levi Jones<span>]</span><span>(</span>https<span>:</span><span>//</span>unsplash<span>.</span>com<span>/</span>@levidjones?utm_source<span>=</span>unsplash<span>&amp;</span>amp<span>;</span>utm_medium<span>=</span>referral<span>&amp;</span>amp<span>;</span>utm_content<span>=</span>creditCopyText<span>)</span> on <span>[</span>Unsplash<span>]</span><span>(</span>https<span>:</span><span>//</span>unsplash<span>.</span>com<span>/</span>s<span>/</span>photos<span>/</span>hummingbird?utm_source<span>=</span>unsplash<span>&amp;</span>amp<span>;</span>utm_medium<span>=</span>referral<span>&amp;</span>amp<span>;</span>utm_content<span>=</span>creditCopyText<span>)</span><span>&lt;</span><span>/</span>span<span>&gt;</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Since the most recent resurgence of deep learning <span>in</span> <span>2012</span><span>,</span> a lion's share of new ML libraries <span>and</span> frameworks have been created<span>.</span> 
The ones that have stood the test of time <span>(</span>PyTorch<span>,</span> Tensorflow<span>,</span> ONNX<span>,</span> etc<span>)</span> are backed by _massive_ corporations<span>,</span> <span>and</span> likely aren't going away anytime soon<span>.</span> 

This also presents a problem<span>,</span> however<span>,</span> <span>as</span> the deep learning community has diverged <span>from</span> popular traditional ML software libraries like scikit<span>-</span>learn<span>,</span> XGBoost<span>,</span> <span>and</span> LightGBM<span>.</span> 
When it comes time <span>for</span> companies to bring multiple models <span>with</span> different software <span>and</span> hardware assumptions into production<span>,</span> things get<span>.</span><span>.</span><span>.</span>hairy<span>.</span> 
<span>-</span> How do you keep ML inference code <span>[</span>DRY<span>]</span><span>(</span>https<span>:</span><span>//</span>en<span>.</span>wikipedia<span>.</span>org<span>/</span>wiki<span>/</span>Don<span>%</span>27t_repeat_yourself<span>)</span> when some models are tensor<span>-</span>based <span>and</span> others are vector<span>-</span>based?
<span>-</span> How do you keep the inference runtime efficiency of your traditional models competitive<span>,</span> <span>as</span> GPU<span>-</span>based neural networks start to run circles around them?
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>
I know<span>,</span> I know<span>.</span> Using microservices <span>in</span> Kubernetes can solve the design pattern issue to an extent by keeping things de<span>-</span>coupled<span>.</span><span>.</span><span>.</span><span>if</span> that's even what you want?

But<span>,</span> I think that really just ignores the problem<span>.</span> What <span>if</span> you want to seamlessly deploy either an XGBoost regressor <span>or</span> fully<span>-</span>connected DNN <span>as</span> your service's main output? 
Sure<span>,</span> you could hot<span>-</span>swap the hardware your service launches onto<span>.</span> How about the code? 

Are you going to ram <span>in</span> a dressed<span>-</span>up version of an <span>if</span><span>-</span><span>else</span> switch to use one software framework vs the other<span>,</span> depending on the model <span>type</span>? 
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Well<span>,</span> <span>for</span> a lot of use cases<span>,</span> _it is_<span>.</span> 
However<span>,</span> there's still a huge gap between problems requiring neural nets <span>and</span> problems that can be sufficiently solved <span>with</span> more traditional models<span>.</span> 
For the more traditional models<span>,</span> don<span>'t you still want to be able to use the latest and greatest computational frameworks to power your model'</span>s predictions? 
This would allow you to scale your model _up_ more before you need to resort to scaling it _out_ via redundant instances<span>.</span>

</p></div></div></div></div></div></div><div><div><div><div><div><div><p>Microsoft research has introduced `hummingbird` to bridge this gap between CPU<span>-</span>oriented models <span>and</span> tensor<span>-</span>oriented models<span>.</span> 
The library simply takes <span>any</span> of our already<span>-</span>trained traditional models <span>and</span> returns a version of that model built on tensor computations<span>.</span> 
Hummingbird aims to solve two core concerns <span>with</span> current ML applications<span>:</span>

<span>1</span><span>.</span> Traditional <span>and</span> deep learning software libraries have different abstractions of their basic computational unit <span>(</span>vector vs tensor<span>)</span><span>.</span>
<span>2</span><span>.</span> As a result of this difference<span>,</span> traditional ML libraries do <span>not</span> receive the same performance gains <span>as</span> hardware accelerators <span>(</span>read<span>:</span> GPUs<span>)</span> improve<span>.</span>
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>With Hummingbird<span>,</span> your ML pipelines will start to look cleaner<span>.</span> 
You'll know that<span>,</span> regardless of algorithm<span>,</span> you end up <span>with</span> a model that creates its predictions via tensor computations<span>.</span> 
Not only that<span>,</span> these tensor computations will be run by the same deep learning framework of choice that your organization has likely already given allegiance to<span>.</span> 

All of this <span>from</span> one function call<span>.</span> Not a bad deal <span>in</span> my book!

Let's see it <span>in</span> action<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>Let's get this part out of the way<span>.</span> You know the drill<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>!pip install seaborn
!pip install hummingbird_ml
!pip install hummingbird<span>-</span>ml<span>[</span>extra<span>]</span>
!pip install torch torchvision
!pip install onnxruntime<span>-</span>gpu
!pip install onnxmltools<span>&gt;=</span><span>1.6</span><span>.0</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>import</span> torch
<span>import</span> numpy <span>as</span> np
<span>import</span> pandas <span>as</span> pd
<span>import</span> matplotlib<span>.</span>pyplot <span>as</span> plt
<span>import</span> seaborn <span>as</span> sns
<span>import</span> mpl_toolkits
<span>from</span> sklearn<span>.</span>datasets <span>import</span> make_classification
<span>from</span> sklearn<span>.</span>model_selection <span>import</span> train_test_split
<span>from</span> sklearn<span>.</span>ensemble <span>import</span> RandomForestRegressor
<span>from</span> hummingbird<span>.</span>ml <span>import</span> convert

<span>print</span><span>(</span><span>'GPU available: %s'</span> <span>%</span> torch<span>.</span>cuda<span>.</span>is_available<span>(</span><span>)</span><span>)</span>

<span>%</span>matplotlib inline</p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>
Let's control randomness <span>in</span> Numpy <span>and</span> PyTorch <span>with</span> <span>[</span>the answer to everything <span>in</span> the universe<span>.</span><span>]</span><span>(</span>https<span>:</span><span>//</span>www<span>.</span>dictionary<span>.</span>com<span>/</span>e<span>/</span>slang<span>/</span><span>42</span><span>/</span><span>)</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>RND_SEED <span>=</span> <span>42</span>
np<span>.</span>random<span>.</span>seed<span>(</span>RND_SEED<span>)</span>
torch<span>.</span>manual_seed <span>=</span> RND_SEED
torch<span>.</span>backends<span>.</span>cudnn<span>.</span>deterministic <span>=</span> <span>True</span>
torch<span>.</span>backends<span>.</span>cudnn<span>.</span>benchmark <span>=</span> <span>False</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>
Let's define a quick helper to quickly make some classification data<span>,</span> <span>and</span> create some data sets <span>with</span> it<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>def</span> <span>make_data</span><span>(</span>n_samples<span>=</span><span>1000</span><span>)</span><span>:</span>
    <span>"""
    Return some synthetic classification data from sklearn.datasets.

    @param int n_samples: number of samples the data set should have.
    @param int n_features: number of features the data set should have.
    @return tuple:
        [0]: numpy.ndarray data set of shape (n_samples, n_features)
        [1]: numpu.ndarray labels of shape (n_samples, )
    """</span>
    X<span>,</span> y <span>=</span> make_classification<span>(</span>
        n_samples<span>=</span><span>int</span><span>(</span>n_samples<span>)</span><span>,</span> n_features<span>=</span><span>20</span><span>,</span>
        n_informative<span>=</span><span>8</span><span>,</span> n_redundant<span>=</span><span>2</span><span>,</span> n_repeated<span>=</span><span>0</span><span>,</span> n_classes<span>=</span><span>2</span><span>,</span> n_clusters_per_class<span>=</span><span>2</span><span>,</span>
        shuffle<span>=</span><span>True</span><span>,</span> random_state<span>=</span><span>42</span>
    <span>)</span>
    <span>return</span> X<span>.</span>astype<span>(</span><span>'|f4'</span><span>)</span><span>,</span> y
</p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>X_train<span>,</span> y_train <span>=</span> make_data<span>(</span>n_samples<span>=</span><span>1e3</span><span>)</span>
X_test<span>,</span> y_test <span>=</span> make_data<span>(</span>n_samples<span>=</span><span>1e4</span><span>)</span>

clf <span>=</span> RandomForestRegressor<span>(</span>n_estimators<span>=</span><span>250</span><span>,</span> max_depth<span>=</span><span>10</span><span>)</span>
clf<span>.</span>fit<span>(</span>X_train<span>,</span> y_train<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>Thanks to Deepnote<span>,</span> I don't have to take up half of this notebook just printing out data shapes <span>and</span> distributions <span>for</span> you<span>.</span> 
These notebooks come <span>with</span> a feature<span>-</span>packed variable explorer which provides most of the basic EDA<span>-</span>style questions you will have about your data<span>.</span> 
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Now<span>,</span> the one<span>-</span>liner to get your model transformed into tensor computations via Hummingbird <span>is</span> `convert<span>(</span>clf<span>,</span> <span>'pytorch'</span><span>)</span>`<span>.</span> 

That<span>'s it. That'</span>s Hummingbird<span>.</span> 

Just to make our comparisons even easier<span>,</span> let<span>'s make a quick method on top of that to automatically move it to a GPU when it'</span>s available<span>.</span> 
As some final added sugar<span>,</span> we'll take <span>in</span> a flag that forces keeping the model on CPU<span>,</span> should the need arise<span>.</span> 
Keep <span>in</span> mind though<span>,</span> the single call to `convert<span>(</span><span>)</span>` <span>is</span> the only interface you need to have <span>with</span> Hummingbird<span>;</span> it does <span>all</span> of its magic under the hood of that single function call<span>.</span> 
Once you get the model returned to you<span>,</span> you call `predict<span>(</span><span>)</span>` on it like <span>any</span> other traditional pythonic ML model<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>def</span> <span>compile_pytorch</span><span>(</span>model<span>,</span> force_cpu<span>=</span><span>False</span><span>)</span><span>:</span>
    <span>"""
    Use Hummingbird to compile a PyTorch model, moving it to a GPU if available.

    @param Model model: trained ML model which has a predict() method for inference.
    @param bool force_cpu: whether to keep the model on CPU, regardless of the presence of a GPU.
    @return Model: augmented ML model, which uses tensor computations to perform inference
    """</span>
    model <span>=</span> convert<span>(</span>clf<span>,</span> <span>'pytorch'</span><span>,</span> extra_config<span>=</span><span>{</span><span>"tree_implementation"</span><span>:</span><span>"gemm"</span><span>}</span><span>)</span>
    <span>if</span> torch<span>.</span>cuda<span>.</span>is_available<span>(</span><span>)</span> <span>and</span> <span>not</span> force_cpu<span>:</span>
        <span>print</span><span>(</span><span>'Moving model to GPU'</span><span>)</span>
        model<span>.</span>to<span>(</span><span>'cuda'</span><span>)</span>
    <span>else</span><span>:</span>
        <span>print</span><span>(</span><span>'Keeping model on CPU'</span><span>)</span>
    <span>return</span> model
</p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>print</span><span>(</span><span>'Creating CPU Hummingbird model\n\t'</span><span>,</span> end<span>=</span><span>''</span><span>)</span>
clf_cpu <span>=</span> compile_pytorch<span>(</span>clf<span>,</span> force_cpu<span>=</span><span>True</span><span>)</span>

<span>print</span><span>(</span><span>'Creating GPU Hummingbird model\n\t'</span><span>,</span> end<span>=</span><span>''</span><span>)</span>
clf_gpu <span>=</span> compile_pytorch<span>(</span>clf<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>
Alright<span>,</span> it<span>'s time to benchmark! Don'</span>t worry about a flurry of imports <span>or</span> method wrappers<span>.</span> 
Let's keep it simple here <span>with</span> the `<span>%</span><span>%</span>timeit` magic command<span>.</span> 
This magic command will automatically run the code <span>in</span> the cell multiple times<span>,</span> reporting out the mean <span>and</span> standard deviation of the runtime samples<span>.</span> 
First<span>,</span> we'll time the `sklearn` model <span>as</span><span>-</span><span>is</span><span>.</span> 
Then<span>,</span> we'll see how the Hummingbird on<span>-</span>CPU <span>and</span> on<span>-</span>GPU models compare<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>%</span><span>%</span>timeit
clf<span>.</span>predict<span>(</span>X_test<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>%</span><span>%</span>timeit
clf_cpu<span>.</span>predict<span>(</span>X_test<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>!<span>[</span><span>]</span><span>(</span>https<span>:</span><span>//</span>storage<span>.</span>googleapis<span>.</span>com<span>/</span>published<span>-</span>content<span>/</span>supercharge<span>-</span>your<span>-</span>shallow<span>-</span>ml<span>-</span>models<span>-</span><span>with</span><span>-</span>hummingbird<span>/</span>giphy<span>-</span>turtle<span>-</span>mAwCycImTr7JC<span>.</span>gif<span>)</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>Yikes!

Well<span>.</span><span>.</span><span>.</span>that was unexpected<span>.</span> There's no two ways about this one<span>:</span> Hummingbird might run slower on CPU <span>for</span> certain data sets<span>.</span>
This can even be seen by some of their current example notebooks <span>in</span> the Hummingbird <span>[</span>Github repo<span>]</span><span>(</span>https<span>:</span><span>//</span>github<span>.</span>com<span>/</span>microsoft<span>/</span>hummingbird<span>)</span><span>.</span> 
Also<span>,</span> I did mention that the runtime <span>is</span> slower _on certain data sets_ <span>with</span> intention<span>,</span> <span>as</span> it does outperform <span>for</span> others<span>.</span>  

That being said<span>,</span>this side effect shouldn<span>'t have anyone running for the door -- remember the library'</span>s goal! 
The main reason <span>for</span> converting a model to tensor computations <span>is</span> to leverage hardware that _excels_ <span>in</span> that area<span>.</span> 

Spoiler alert<span>:</span> I'm talking about GPUs! 
This Deepnote notebook comes powered by an <span>[</span>NVIDIA T4 Tensor Core<span>]</span> GPU<span>.</span> 
Let's see how the model runs on _that_<span>.</span>

 </p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>%</span><span>%</span>timeit
clf_gpu<span>.</span>predict<span>(</span>X_test<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>There we go! 
Now<span>,</span> we <span>not</span> only have a <span>73</span><span>%</span> mean speedup over the original<span>,</span> but also an _order of magnitude_ tighter variance<span>.</span> 
The original standard deviation of runtime <span>is</span> <span>1.1</span><span>%</span> of its mean<span>,</span> <span>and</span> the GPU runtime's standard deviation <span>is</span> <span>0.18</span><span>%</span>! 
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>!<span>[</span>Courtesy of Giphy<span>]</span><span>(</span>https<span>:</span><span>//</span>storage<span>.</span>googleapis<span>.</span>com<span>/</span>published<span>-</span>content<span>/</span>supercharge<span>-</span>your<span>-</span>shallow<span>-</span>ml<span>-</span>models<span>-</span><span>with</span><span>-</span>hummingbird<span>/</span>giphy<span>-</span>B1uajA01vvL91Urtsp<span>.</span>gif<span>)</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Hold <span>in</span> your excitement <span>for</span> now<span>,</span> though<span>.</span> Your model could have the fastest runtime <span>in</span> the world<span>;</span> <span>if</span> it doesn't maintain its accuracy through the conversion<span>,</span> it could be utterly useless<span>.</span>
Let's see how the predictions compare between the original model <span>and</span> both transformed models<span>.</span>
For this<span>,</span> we turn to one of my favorite visualization libraries<span>,</span> `seaborn`<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>
y_pred <span>=</span> clf<span>.</span>predict<span>(</span>X_test<span>)</span>
y_pred_cpu <span>=</span> clf_cpu<span>.</span>predict<span>(</span>X_test<span>)</span>
y_pred_gpu <span>=</span> clf_gpu<span>.</span>predict<span>(</span>X_test<span>)</span>


<span>def</span> <span>plot_distributions</span><span>(</span>data_label_pairs<span>,</span> title<span>=</span><span>'Score Distribution(s)'</span><span>)</span><span>:</span>
    <span>"""
    Plot the distribution of a list of prediction vectors.

    @param List data_label_pairs:
    """</span>
    plt<span>.</span>figure<span>(</span>figsize<span>=</span><span>(</span><span>12</span><span>,</span> <span>6</span><span>)</span><span>)</span>
    <span>for</span> data<span>,</span> label <span>in</span> data_label_pairs<span>:</span>
        sns<span>.</span>distplot<span>(</span>data<span>,</span> hist<span>=</span><span>False</span><span>,</span> label<span>=</span>label<span>)</span>
    plt<span>.</span>legend<span>(</span><span>)</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird">https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird</a></em></p>]]>
            </description>
            <link>https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758867</guid>
            <pubDate>Tue, 07 Jul 2020 13:15:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Flatter wait-free hazard pointers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758797">thread link</a>) | @ingve
<br/>
July 7, 2020 | https://pvk.ca/Blog/2020/07/07/flatter-wait-free-hazard-pointers/ | <a href="https://web.archive.org/web/*/https://pvk.ca/Blog/2020/07/07/flatter-wait-free-hazard-pointers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><small>2020-07-09: we can fix <a href="#hp_read_swf-relaxed">time-travel in <code>hp_read_swf</code></a> without changing the fast path. See <a href="#addendum-2020-07-09">the addendum</a>.</small></p>
<p>Back in February 2020, Blelloch and Wei submitted this cool preprint: <a href="https://arxiv.org/abs/2002.07053">Concurrent Reference Counting and Resource Management in Wait-free Constant Time</a>.
Their work mostly caught my attention because they propose a wait-free implementation of hazard pointers for safe memory reclamation.<sup id="fnref:but-also"><a href="#fn:but-also">1</a></sup>
<a href="http://www.cs.toronto.edu/~tomhart/papers/tomhart_thesis.pdf">Safe memory reclamation (PDF)</a> is a key component in lock-free algorithms when garbage collection isn‚Äôt an option,<sup id="fnref:it-is-gc"><a href="#fn:it-is-gc">2</a></sup>
and <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.395.378&amp;rep=rep1&amp;type=pdf">hazard pointers (PDF)</a> let us bound the amount of resources stranded by delayed cleanups much more tightly than, e.g., <a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-579.pdf">epoch reclamation (PDF)</a>.
However the usual implementation has a <em>loop</em> in its <a href="https://www.iecc.com/gclist/GC-algorithms.html">read barriers (in the garbage collection sense)</a>,
which can be annoying for code generation and bad for worst-case time bounds.</p>
<p>Blelloch and Wei‚Äôs wait-free algorithm eliminates that loop‚Ä¶ with a construction that stacks <a href="https://arxiv.org/abs/1911.09671">two emulated primitives‚Äîatomic copy, itself implemented with strong LL/SC‚Äî</a>on top of what real hardware offers.
I see the real value of the construction in proving that wait-freedom is achievable,<sup id="fnref:not-obvious"><a href="#fn:not-obvious">3</a></sup>
and that the key is atomic memory-memory copies.</p>
<p>In this post, I‚Äôll show how to flatten down that abstraction tower into something practical with a bit of engineering elbow grease,
and come up with wait-free alternatives to the usual lock-free hazard pointers
that are competitive in the best case.
Blelloch and Wei‚Äôs insight that hazard pointers can use any wait-free atomic memory-memory copy lets us improve the worst case
without impacting the common case!</p>
<p>But first, what are hazard pointers?</p>
<h2 id="hazard-pointers-and-the-safe-memory-reclamation-problem">Hazard pointers and the safe memory reclamation problem</h2>
<p>Hazard pointers were introduced by <a href="https://dblp.uni-trier.de/pers/m/Michael:Maged_M=.html">Maged Michael</a>
in <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.395.378&amp;rep=rep1&amp;type=pdf">Hazard Pointers: Safe Memory Reclamation for Lock-Free Objects (2005, PDF)</a>,
as the first solution to reclamation races in lock-free code.
The introduction includes a concise explanation of the safe memory reclamation (SMR) problem.</p>
<blockquote>
<p>When a thread removes a node, it is possible that some other contending thread‚Äîin the course of its lock-free operation‚Äîhas earlier read a reference to that node, and is about to access its contents. If the removing thread were to reclaim the removed node for arbitrary reuse, the contending thread might corrupt the object or some other object that happens to occupy the space of the freed node, return the wrong result, or suffer an access error by dereferencing an invalid pointer value. [‚Ä¶] Simply put, the memory reclamation problem is how to allow the memory of removed nodes to be freed (i.e., reused arbitrarily or returned to the OS), while guaranteeing that no thread accesses free memory, and how to do so in a lock-free manner.</p>
</blockquote>
<p>In other words, a solution to the SMR problem lets us know when it‚Äôs safe to
<em>physically release</em> resources that used to be owned by a linked data structure,
once all links to these resources have been removed from that data structure (after ‚Äúlogical deletion‚Äù).
The problem makes intuitive sense for dynamically managed memory,
but it applies equally well to any resource (e.g., file descriptors),
and its solutions can even be seen as extremely read-optimised reader/writer locks.</p>
<p>The basic idea behind Hazard Pointers is to have
each thread publish to permanently allocated<sup id="fnref:stable-alloc"><a href="#fn:stable-alloc">4</a></sup> hazard pointer records (HP records) the set of resources (pointers) it‚Äôs temporarily borrowing from a lock-free data structure.
That‚Äôs enough information for a background thread to snapshot the current list of resources that have been logically deleted but not yet physically released (the limbo list),
scan all records for all threads,
and physically release all resources in the snapshot that aren‚Äôt in any HP record.</p>
<p>With just enough batching of the limbo list, this scheme can be practical:
in practice, lock-free algorithms only need to pin a few (usually one or two) nodes at a time to ensure memory safety. As long as we avoid running arbitrary code while holding hazardous references, we can bound the number of records each thread may need at any one time.
Scanning the records thus takes time roughly linear in the number of active threads, and we can amortise that to constant time per deleted item by waiting until the size of the limbo list is greater than a multiple of the number of active threads.<sup id="fnref:even-with-pinned-nodes"><a href="#fn:even-with-pinned-nodes">5</a></sup></p>
<p>The tricky bit is figuring out how to reliably publish to a HP record without locking.
Hazard pointers simplify that challenge with three observations:</p>
<ol>
<li>It‚Äôs OK to have arbitrary garbage in a record (let‚Äôs disregard language-level<sup id="fnref:or-hw-level"><a href="#fn:or-hw-level">6</a></sup> undefined behaviour), since protected values are only ever subtracted from the limbo list: a garbage record simply doesn‚Äôt protect anything.</li>
<li>It‚Äôs also OK to leave a false positive in a record: correctness arguments for hazard pointers already assume each record keeps a different node (resource) alive, and that‚Äôs the worst case.</li>
<li>1 and 2 mean it doesn‚Äôt matter what pinned value we read in a record whose last update was started after we snapshotted the limbo list: resources in the limbo list are unreachable, so freshly pinned resources can‚Äôt refer to anything in the snapshot.</li>
</ol>
<p>This is where the clever bit of hazard pointers comes in:
we must make sure that any resource (pointer to a node, etc.) we borrow from a lock-free data structure is immediately protected by a HP record.
We can‚Äôt make two things happen atomically without locking.
Instead, we‚Äôll <em>guess</em><sup id="fnref:guessing-is-fine"><a href="#fn:guessing-is-fine">7</a></sup> what resource we will borrow,
publish that guess,
and then actually borrow the resource.
If we guessed correctly, we can immediately use the borrowed resource;
if we were wrong, we must try again.</p>
<p>On an ideal <a href="https://en.wikipedia.org/wiki/Sequential_consistency">sequentially consistent</a> machine,
the pseudocode looks like the following. The <code>cell</code> argument points to the resource we wish to acquire
(e.g., it‚Äôs a reference to the <code>next</code> field in a linked list node), and <code>record</code> is the hazard pointer
record that will protect the value borrowed from <code>cell</code>.</p>
<div><notextile><figure><figcaption><span>hp_read_sc.py </span></figcaption>
<div><table><tbody><tr><td><pre><span>1</span>
<span>2</span>
<span>3</span>
<span>4</span>
<span>5</span>
<span>6</span>
<span>7</span>
</pre></td><td><pre><code><span><span></span><span>def</span> <span>hp_read_sc</span><span>(</span><span>cell</span><span>,</span> <span>record</span><span>):</span>
</span><span>    <span>"Reads the resource (pointer) in `cell`, and protects it through `record`."</span>
</span><span>    <span>while</span> <span>True</span><span>:</span>
</span><span>        <span>guess</span> <span>=</span> <span>cell</span><span>.</span><span>load</span><span>()</span>
</span><span>        <span>record</span><span>.</span><span>pin</span> <span>=</span> <span>guess</span>
</span><span>        <span>if</span> <span>guess</span> <span>==</span> <span>cell</span><span>.</span><span>load</span><span>():</span>
</span><span>            <span>return</span> <span>guess</span>
</span></code></pre></td></tr></tbody></table></div></figure></notextile></div>
<p>In practice, we must make sure that our write to <code>record.pin</code> is visible before re-reading the <code>cell</code>‚Äôs value, and we should also make sure the pointer read is ordered with respect to the rest of the calling read-side code.<sup id="fnref:beware-accidental-success"><a href="#fn:beware-accidental-success">8</a></sup></p>
<div><notextile><figure><figcaption><span>hp_read_explicit.py </span></figcaption>
<div><table><tbody><tr><td><pre><span>1</span>
<span>2</span>
<span>3</span>
<span>4</span>
<span>5</span>
<span>6</span>
<span>7</span>
</pre></td><td><pre><code><span><span></span><span>def</span> <span>hp_read_explicit</span><span>(</span><span>cell</span><span>,</span> <span>record</span><span>):</span>
</span><span>    <span>while</span> <span>True</span><span>:</span>
</span><span>        <span>guess</span> <span>=</span> <span>cell</span><span>.</span><span>load_relaxed</span><span>()</span>
</span><span>        <span>record</span><span>.</span><span>pin</span><span>.</span><span>store_relaxed</span><span>(</span><span>guess</span><span>)</span>
</span><span>        <span>fence_store_load</span><span>()</span>  <span># R1</span>
</span><span>        <span>if</span> <span>guess</span> <span>==</span> <span>cell</span><span>.</span><span>load_acquire</span><span>():</span> <span># R2</span>
</span><span>            <span>return</span> <span>guess</span>
</span></code></pre></td></tr></tbody></table></div></figure></notextile></div>
<p>We need a store/load fence in <code>R1</code> to make sure the store to the record (just above <code>R1</code>) is visible by the time the second read (<code>R2</code>) executes. Under the <a href="https://www.cl.cam.ac.uk/~pes20/weakmemory/x86tso-paper.tphols.pdf">TSO memory model implemented by x86 chips (PDF)</a>,
this fence is the only one that isn‚Äôt implicitly satisfied by the hardware.
It also happens that fences are best implemented with atomic operations
on x86oids,
so we can eliminate the fence in <code>R1</code>
by replacing the store just before <code>R1</code> with an atomic exchange (fetch-and-set).</p>
<p>The slow cleanup path has its own fence that matches <code>R1</code> (the one in <code>R2</code>
matches the mutators‚Äô writes to <code>cell</code>).</p>
<div><notextile><figure><figcaption><span>hp_cleanup_explicit.py </span></figcaption>
<div><table><tbody><tr><td><pre><span>1</span>
<span>2</span>
<span>3</span>
<span>4</span>
<span>5</span>
<span>6</span>
<span>7</span>
<span>8</span>
<span>9</span>
<span>10</span>
</pre></td><td><pre><code><span><span></span><span>def</span> <span>hp_cleanup_explicit</span><span>(</span><span>limbo</span><span>,</span> <span>records</span><span>):</span>
</span><span>    <span>to_reclaim</span> <span>=</span> <span>limbo</span><span>.</span><span>consume_snapshot_acquire</span><span>()</span>  <span># C1</span>
</span><span>    <span>pinned</span> <span>=</span> <span>set</span><span>()</span>
</span><span>    <span>for</span> <span>record</span> <span>in</span> <span>records</span><span>:</span>
</span><span>        <span>pinned</span><span>.</span><span>add</span><span>(</span><span>record</span><span>.</span><span>pin</span><span>.</span><span>load_relaxed</span><span>())</span>  <span># C2</span>
</span><span>    <span>for</span> <span>resource</span> <span>in</span> <span>to_reclaim</span><span>:</span>
</span><span>        <span>if</span> <span>resource</span> <span>in</span> <span>pinned</span><span>:</span>
</span><span>            <span>limbo</span><span>.</span><span>add</span><span>(</span><span>resource</span><span>)</span>
</span><span>        <span>else</span><span>:</span>
</span><span>            <span>resource</span><span>.</span><span>destroy</span><span>()</span>
</span></code></pre></td></tr></tbody></table></div></figure></notextile></div>
<p>We must make sure all the values in the limbo list we grab in <code>C1</code>
were added to the list (and thus logically deleted) before we read any
of the records in <code>C2</code>, with the acquire read in <code>C1</code>
matching the store-load fence in <code>R1</code>.</p>
<p>The following sequence diagrams shows how the fencing guarantees that any
iteration of <code>hp_read_explicit</code> will fail if it starts before <code>C1</code>
and observes a stale value.
If the read succeeds, the ordering between <code>R1</code> and <code>C1</code> instead
guarantees that the cleanup loop will observed the pinned value
when it reads the record in <code>C2</code>.</p>
<p><a href="https://sequencediagram.org/index.html#initialData=C4S2BsFMAIDFIHYGNIBNoAsCGAvLAndABwHsQFhJ8Aoaog0JEei6AJUi1SutS2CwAjLAGcYAWUgBbEvgCedBiCYtg0AOr4wVAPQBhKFgQBXIrU3b8+wyaIBaAHySZ8gFzQAqkT6VoKcODQAG5Y4MaQAPzUHFxUADx2zrJy7gDi4SIifpABwaHh0Zzc+I5JbtAACsaC4CAiGNBE5Aho0ADmGVnAJND4kEiyqNQWlFYGnLal0snuXj4w-oEhYZHUZXKOI7rjRqZp+ELQtVKCPbUiwNQAvFfwyDBsAIzQOtB6jzeFsfgJ6+4A8oIxPgggscoFTPMADS9SDAeTQEgIaCoEAAMzRa2m8k2WlG1gme2ggOBoOIzVaywKQA">
<img src="https://pvk.ca/images/2020-07-07-flatter-wait-free-hazard-pointers/fenced-hp.png">
</a></p>
<p>This all works, but it‚Äôs slow:<sup id="fnref:travis-says-its-fine"><a href="#fn:travis-says-its-fine">9</a></sup> we added an <em>atomic</em> write instruction (or worse, a fence) to a read-only operation. We can do better with a little help from our operating system.</p>
<h2 id="injecting-fences-with-os-support">Injecting fences with OS support</h2>
<p>When we use fences or memory ordering correctly, there should be
an implicit pairing between fences or ordered operations: we use fencing to
enforce an ordering (one must fully execute before or after another,
overlap is forbidden) between pairs of instructions in different
threads. For example, the pseudocode for hazard pointers with
explicit fencing and memory ordering paired the store-load fence in
<code>R1</code> with the acquisition of the limbo list in <code>C1</code>.</p>
<p>We only need that pairing very rarely, when a thread actually executes the
cleanup function. The amortisation strategy guarantees we don‚Äôt scan records all the time, and we can always increase the amortisation factor if we‚Äôre
generating tiny amounts of garbage very quickly.</p>
<p>It kind of sucks that we have to incur a full fence on the fast read
path, when it only matches reads in the cleanup loop maybe as rarely
as, e.g., once a second. If we waited long enough on the slow path, we could
<a href="https://pvk.ca/Blog/2019/01/09/preemption-is-gc-for-memory-reordering">rely on events like preemption or other interrupts to insert a barrier</a>
in all threads that are executing the read-side.</p>
<p>How long is ‚Äúenough?‚Äù
Linux has the <a href="https://man7.org/linux/man-pages/man2/membarrier.2.html"><code>membarrier</code> syscall</a>
to block the calling thread until (more than) long enough has elapsed,
Windows has <a href="https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-flushprocesswritebuffers">the similar <code>FlushProcessWriteBuffers</code></a>, and
on other operating systems, we can probably <a href="https://github.com/pkhuong/barrierd">do something useful with scheduler statistics</a> or ask for a new syscall.</p>
<p>Armed with these new blocking system calls, we can replace the store-load fence in <code>R1</code> with a compiler barrier, and execute a slow <code>membarrier</code>/<code>FlushProcessWriteBuffers</code> after <code>C1</code>.
The cleanup function will then wait long enough<sup id="fnref:arguably-lock-ful"><a href="#fn:arguably-lock-ful">10</a></sup> to ensure that any
read-side operation that had ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pvk.ca/Blog/2020/07/07/flatter-wait-free-hazard-pointers/">https://pvk.ca/Blog/2020/07/07/flatter-wait-free-hazard-pointers/</a></em></p>]]>
            </description>
            <link>https://pvk.ca/Blog/2020/07/07/flatter-wait-free-hazard-pointers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758797</guid>
            <pubDate>Tue, 07 Jul 2020 13:07:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Hitchhiker‚Äôs Guide to Research Software Engineering: From PhD to RSE]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758699">thread link</a>) | @eperim
<br/>
July 7, 2020 | https://invenia.github.io/blog/2020/07/07/software-engineering/ | <a href="https://web.archive.org/web/*/https://invenia.github.io/blog/2020/07/07/software-engineering/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>07 Jul 2020</span></p>
  <p>In 2017, the twilight days of my PhD in computational physics, I found myself ready to leave academia behind.
While my research was interesting, it was not what I wanted to pursue full time.
However, I was happy with the type of work I was doing, contributing to research software, and I wanted to apply myself in a more industrial setting.</p>

<p>Many postgraduates face a similar decision.
A <a href="https://royalsociety.org/-/media/Royal_Society_Content/policy/publications/2010/4294970126.pdf">study conducted by the Royal Society</a> in 2010 reported that only 3.5% of PhD graduates end up in permanent research positions in academia.
Leaving aside the roots of the <a href="https://jakevdp.github.io/blog/2013/10/26/big-data-brain-drain/">brain drain</a> on Universities, it is a compelling statistic that the <em>vast</em> majority of post-graduates end up leaving academia for industry at some point in their career.
It comes as no surprise that there are a growing number of bootcamps like <a href="https://www.s2ds.org/index.html">S2DS</a>, <a href="https://faculty.ai/">faculty.ai</a>, and <a href="https://insightfellows.com/data-science">Insight</a> that have sprung up in response to this trend, for machine learning and data science especially.
There are also no shortage of helpful <a href="https://news.ycombinator.com/item?id=17944306">forum discussions</a> and <a href="https://pascalbugnion.net/blog/from-academia-to-data-science.html">blog posts</a> outlining what you should do in order to ‚Äúbreak into the industry‚Äù, as well as many that relate the personal experiences of those who ultimately made the switch.</p>

<p>While the advice that follows in this blog post is directed at those looking to change careers, it would equally benefit those who opt to remain in the academic track.
Since the environment and incentives around building academic research software are very different to those of industry, the workflows around the former are, in general, not guided by the same engineering practices that are valued in the latter.</p>

<p>That is to say: <em>there is a difference between what is important in writing software for research, and for a user-focused, software product</em>.
Academic research software prioritises scientific correctness and flexibility to experiment above all else in pursuit of the researchers‚Äô end product: published papers.
Industry software, on the other hand, prioritises maintainability, robustness, and testing as the software (generally speaking) <em>is</em> the product.</p>

<p>However, the two tracks share many common goals as well, such as catering to ‚Äúusers‚Äù, emphasising performance and <a href="https://codecheck.org.uk/">reproducibility</a>, but most importantly both ventures are <em>collaborative</em>.
Arguably then, both sets of principles are needed to write and maintain high-quality research software.
Incidentally, the <a href="https://society-rse.org/about/">Research Software Engineering</a> group at Invenia is uniquely tasked with incorporating all these incentives into the development of our research packages in order to get the best of both worlds.
But I digress.</p>

<h2 id="what-i-wish-i-knew-in-my-phd">What I wish I knew in my PhD</h2>
<p>Most postgrads are self-taught programmers and learn from the same resources as their peers and collaborators, which are ostensibly adequate for academia.
Many also tend to work in isolation on their part of the code base and don‚Äôt require merging with other contributors‚Äô work very frequently.
In industry, however, <a href="https://en.wikipedia.org/wiki/Continuous_integration">continuous integration</a> underpins many development workflows. 
Under a continuous delivery cycle, a developer benefits from the prompt feedback and cooperation of a full team of professional engineers and can, therefore, learn to implement engineering best practices more efficiently.</p>

<p>As such, it feels like a missed opportunity for universities not to promote good engineering practices more and teach them to their students.
Not least because having stable and maintainable tools are, in a sense, <a href="https://en.wikipedia.org/wiki/Commons#Digital_commons">‚Äúpublic goods‚Äù</a> in academia as much as industry.
Yet, while everyone gains from improving the tools, researchers are not generally incentivised to invest their precious time or effort on these tasks unless it is part of some well-funded, high-impact initiative.
As Jake VanderPlas <a href="https://jakevdp.github.io/blog/2013/10/26/big-data-brain-drain/">remarked</a>: ‚Äúany time spent building and documenting software tools is time spent not writing research papers, which are the primary currency of the academic reward structure‚Äù.</p>

<p>Speaking personally, I learned a great deal about conducting research and scientific computing in my PhD; I could read and write code, squash bugs, and I wasn‚Äôt afraid of getting my hands dirty in monolithic code bases.
As such, I felt comfortable at the command line but I failed to learn the basic tenets of proper code maintenance, unit testing, code review, version control, etc., that underpin good software engineering.
While I had enough coding experience to have a sense of this at the time, I lacked the awareness of what I needed to know in order to improve or even where to start looking.</p>

<p>As is clear from the earlier statistic, this experience is likely not unique to me.
It prompted me to share what I‚Äôve learned since joining Invenia 18 months ago, so that it might guide those looking to make a similar move.
The advice I provide is organised into three sections: the first recommends ways to learn a new programming language efficiently<sup id="fnref:1"><a href="#fn:1">1</a></sup>; the second describes some best practices you can adopt to improve the quality of the code you write; and the last commends the social aspect of community-driven software collaborations.</p>

<h2 id="lesson-1-hone-your-craft">Lesson 1: Hone your craft</h2>
<p><strong>Practice</strong>: While clich√©d, there is no avoiding the fact that it takes consistent practice <a href="https://norvig.com/21-days.html">over many many years</a> to become masterful at anything, and programming is no exception.</p>

<p><strong>Have personal projects</strong>: Practicing is easier said than done if your job doesn‚Äôt revolve around programming.
A good way to get started either way is to undertake personal side-projects as a fun way to get to grips with a language, for instance via <a href="https://projecteuler.net/">Project Euler</a>, <a href="https://www.kaggle.com/">Kaggle Competitions</a>, etc.
These should be enough to get you off the ground and familiar with the syntax of the language.</p>

<p><strong>Read code</strong>: Personal projects on their own are not enough to improve. 
If you really want to get better, you‚Äôve got to read other people‚Äôs code: a lot of it.
Check out the repositories of some of your favourite or most used packages‚Äîparticularly if they are considered ‚Äúhigh quality‚Äù<sup id="fnref:2"><a href="#fn:2">2</a></sup>.
See how the package is organised, how the documentation is written, and how the code is structured.
Look at the open issues and pull requests.
Who are the main contributors? Get a sense of what is being worked on and how the open-source community operates.
This will give you an idea of the open issues facing the package and the language and the direction it is taking.
It will also show you how to write <a href="https://stackoverflow.com/questions/84102/what-is-idiomatic-code"><em>idiomatic code</em></a>, that is, in a way that is natural for that language.</p>

<p><strong>Contribute</strong>: You should actually contribute to the code base you use.
This is by far the most important advice for improving and I cannot overstate how instructive an experience this is.
By getting your code reviewed you get prompt and informative feedback on what you‚Äôre doing wrong and how you can do better.
It gives you the opportunity to try out what you‚Äôve learned, learn something new, and improves your confidence in your ability.
Contributing to open source and seeing your features being used is also rewarding, and that starts a positive feedback loop where you feel like contributing more.
Further, when you start applying for jobs in industry people can see your work, and so know that you are good at what you do (I say this as a person who is now involved in reviewing these applications).</p>

<p><strong>Study</strong>: Learning by experience is great but‚Äîat least for me‚Äîit takes a deliberate approach to formalise and cement new ideas.
Read well-reviewed books on your language (appropriate for your level) and reinforce what you learn by tackling more complex tasks and venturing <a href="https://www.geeksaresexy.net/2016/12/20/comfort-zone-comic/">outside your comfort zone</a>.
Reading blog posts and articles about the language is also a great idea.</p>

<p><strong>Ask for help:</strong> Sometimes a bug just stumps you, or you just don‚Äôt know how to implement a feature.
In these circumstances, it‚Äôs quicker to reach out to experts who can help and maybe teach you something at the same time.
More often than not, someone has had the same problem or they‚Äôre happy to point you in the right direction.
I‚Äôm fortunate to work with Julia experts at Invenia, so when I have a problem they are always most helpful.
But posting on public fora like <a href="https://slackinvite.julialang.org/">Slack</a>, <a href="https://discourse.julialang.org/">Discourse</a>, or <a href="https://stackoverflow.com/">StackOverflow</a> is an option we all have.</p>

<h2 id="lesson-2-software-engineering-practices">Lesson 2: Software Engineering Practices</h2>
<p>With respect to the environment and incentives in industry surrounding code maintainability, robustness, and testing, there are certain practices in place to encourage, enable, and ensure these qualities are met.
These key practices can turn a collection of scripts into a fully implemented package one can use and rely upon with high confidence.</p>

<p>While there are without doubt many universities and courses that teach these practices to their students, I find they are often neglected by coding novices and academics alike, to their own disadvantage.</p>

<p><strong>Take version control seriously:</strong> <a href="https://git-scm.com/">Git</a> is a programming staple for version control, and while it is tempting to disregard it when working alone, without it you soon find yourself creating <a href="https://uidaholib.github.io/get-git/1why.html">convoluted naming schemes</a> for your files; frequently losing track of progress; and wasting time looking through email attachments for the older version of the code to replace the one you just messed up.</p>

<p><a href="https://git-scm.com/">Git</a> can be <a href="https://xkcd.com/1597/">a little intimidating</a> to get started, but once you are comfortable with the basic commands (fetch, add, commit, push, pull, merge) and a few others (checkout, rebase, reset) you will never look back.
<a href="https://github.com/">GitHub</a>‚Äôs utility, meanwhile, extends far beyond that of a programmatic hosting service; it provides <a href="https://guides.github.com/features/wikis/">documentation hosting</a>, <a href="https://help.github.com/en/actions/building-and-testing-code-with-continuous-integration/about-continuous-integration">CI/CD pipelines</a>, and many other features that enable efficient cross-party collaboration on an <em>enterprise</em> scale.</p>

<p>It cannot be overstated how truly indispensable <a href="https://git-scm.com/">Git</a> and <a href="https://github.com/">GitHub</a> are when it comes to turning your code into functional packages, and the earlier you adopt these the better.
It also helps to know how <a href="https://semver.org/">semantic versioning</a> works, so you will know what it means to increment a package version from 1.2.3 to 1.3 and why.</p>

<p><strong>Organise your code</strong>: In terms of packaging your code, get to know the typical package folder structure.
Packages often contain src, docs, and test directories, as well as standard ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://invenia.github.io/blog/2020/07/07/software-engineering/">https://invenia.github.io/blog/2020/07/07/software-engineering/</a></em></p>]]>
            </description>
            <link>https://invenia.github.io/blog/2020/07/07/software-engineering/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758699</guid>
            <pubDate>Tue, 07 Jul 2020 12:57:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Forks and pull requests versus emails [video]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758659">thread link</a>) | @ddevault
<br/>
July 7, 2020 | https://spacepub.space/videos/watch/1619c000-7c44-4330-9177-29a0854bd759 | <a href="https://web.archive.org/web/*/https://spacepub.space/videos/watch/1619c000-7c44-4330-9177-29a0854bd759">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://spacepub.space/videos/watch/1619c000-7c44-4330-9177-29a0854bd759</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758659</guid>
            <pubDate>Tue, 07 Jul 2020 12:52:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving GitHub's New Design]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758652">thread link</a>) | @bradley_taunt
<br/>
July 7, 2020 | https://uglyduck.ca/improving-githubs-new-design/ | <a href="https://web.archive.org/web/*/https://uglyduck.ca/improving-githubs-new-design/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>July 7, 2020</p>
		
<p>Like many other Github users, I am not a big fan of their recent repository page redesign. In my mind it seems like a change just for the sake of change ‚Äì the original UI worked perfectly fine.</p>



<p><em>Sigh.</em></p>



<p>I was planning on recreating the original Github layout with custom CSS but decided against it. Tackling such a big change in design would cause headaches if Github ever changed even one simple class or id on a given element. My final conclusion was to just improve their new design with my own personal quality of life improvements.</p>



<p>So, enough chit-chat. Let‚Äôs get into it.</p>



<h2>Current Design (2020)</h2>



<p>The default view for a repo‚Äôs ‚Äúhomepage‚Äù and ticket items are locked at a set <code>max-width</code>. This causes some visual strain in comparison to the full-width headers and navigations directly above. I use a decently sized montior when using your app Gitub ‚Äì <strong>let me use all the space available to me</strong>!</p>



<figure><img src="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons1-1024x509.png" alt="" srcset="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons1-1024x509.png 1024w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons1-300x149.png 300w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons1-768x382.png 768w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons1-1536x764.png 1536w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons1.png 1908w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>The current design of a repo‚Äôs ‚Äúhomepage‚Äù.</figcaption></figure>



<figure><img src="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons2-1024x509.png" alt="" srcset="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons2-1024x509.png 1024w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons2-300x149.png 300w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons2-768x382.png 768w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons2-1536x764.png 1536w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons2.png 1908w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>The current design of a ticket item.</figcaption></figure>



<h2>My Improvements</h2>



<p>Your users shouldn‚Äôt have to jump around the page looking for the important information they want to see. Resetting the basic repo information to the left side of the screen allows user to <em>instantly</em> read-up on the project details. (This design is catered towards left-to-right readers mind you).</p>



<p>We now also utilize all the available screen space, dependent on the user‚Äôs browser window size.</p>



<figure><img src="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons-1024x509.png" alt="" srcset="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons-1024x509.png 1024w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons-300x149.png 300w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons-768x382.png 768w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons-1536x764.png 1536w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons.png 1908w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>The repo‚Äôs ‚Äúhomepage‚Äù now uses all available space</figcaption></figure>



<p>We make similar updates to the ticket item view and also remove the out-of-place <code>margin-bottom</code> from the project link headers.</p>



<figure><img src="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons3-1024x509.png" alt="" srcset="https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons3-1024x509.png 1024w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons3-300x149.png 300w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons3-768x382.png 768w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons3-1536x764.png 1536w, https://uglyduck.ca/wp-content/uploads/2020/07/Screenshot_2020-07-07-icon-font-dont-seem-to-render-properly-%C2%B7-Issue-13-%C2%B7-tabler-tabler-icons3.png 1908w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Github  ticket items now align better with their header siblings</figcaption></figure>



<h2>Try It Yourself!</h2>



<p>You can very easily implement these custom CSS changes with an extension for the browser of your choice:</p>



<ul><li>Firefox: <a href="https://addons.mozilla.org/en-US/firefox/addon/styl-us/">Stylus</a></li><li>Chrome: <a href="https://chrome.google.com/webstore/detail/stylebot/oiaejidbmkiecgbjeifoejpgmdaleoha">Stylebot</a></li></ul>



<p>Then create a new custom CSS file to target <code>github.com</code> with the following properties:</p>



<pre><code>.container-xl {
    max-width: 100%;
}

.repository-content .gutter-condensed.gutter-lg {
    flex-direction: row-reverse !important;
}

.repository-content #discussion_bucket .gutter-condensed.gutter-lg {
    flex-direction: row !important;
}

.repohead &gt; div.d-flex {
    margin-bottom: 0 !important;
}

#show_issue {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
}

.repository-content #discussion_bucket,
#partial-discussion-header {
    width: 100%;
}</code></pre>



<p>That‚Äôs it! Feel free to improve on this and further make it your own! I might create a new repo for this project if I end up adding even more improvements to the core CSS.</p>
        <hr>
<h2><svg viewBox="0 0 24 24" width="24" height="24" style="transform:scale(1.2);" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg> Comments</h2>
    

	<!-- #respond -->
		</article></div>]]>
            </description>
            <link>https://uglyduck.ca/improving-githubs-new-design/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758652</guid>
            <pubDate>Tue, 07 Jul 2020 12:51:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free blockchain storage ‚Äì Tale of a bug in Substrate's FRAME runtime]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758626">thread link</a>) | @z3phyr
<br/>
July 7, 2020 | https://mudit.blog/free-blockchain-storage-bug-substrate/ | <a href="https://web.archive.org/web/*/https://mudit.blog/free-blockchain-storage-bug-substrate/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-635" itemtype="https://schema.org/CreativeWork" itemscope="itemscope"><div><div itemprop="text"><p><img src="https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720.jpg" alt="" srcset="https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720.jpg 960w, https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720-300x180.jpg 300w, https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720-768x461.jpg 768w" sizes="(max-width: 960px) 100vw, 960px"></p><p>This is the story of a simple bug in the FRAME runtime of Parity‚Äôs Substrate blockchain framework. The bug allowed attackers to do infinitely large transactions without paying any extra fees. The vulnerability was the result of a buggy implementation of fee calculation in the FRAME runtime of Substrate. By exploiting this vulnerability, an attacker could‚Äôve added their manga collection to the payload of a simple transaction without paying any extra fees. This would‚Äôve resulted in the manga collection becoming a part of the blockchain, forever. Cheapest decentralized blockchain storage!</p><p>Sample fees for a 2 megabyte payload before the bug-fix:<br><img src="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-50-18.png" alt="" srcset="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-50-18.png 494w, https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-50-18-300x86.png 300w" sizes="(max-width: 494px) 100vw, 494px"><br></p><p>Sample fees for a 2 megabyte payload after the bug-fix:<br><img src="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-52-32.png" alt="" srcset="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-52-32.png 439w, https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-52-32-300x98.png 300w" sizes="(max-width: 439px) 100vw, 439px"></p><p>Please note that this bug is now fixed and a runtime upgrade has been deployed to Kusama, Polkadot and Polymesh Aldebaran testnet.</p><h3>Bug details</h3><p>The transaction fee is supposed to increase as the size of the transaction increases. There‚Äôs a constant <code>TransactionByteFee</code> that is supposed to be added to the total fee for every byte of data contained in the transaction. This would‚Äôve prevented the above exploit from working but due to a very tiny bug in the code, this fee was not being applied under certain circumstances.</p><p>The fee was being calculated as:</p><pre><code>fee = base_fee + targeted_fee_adjustment * (len_fee + weight_fee);</code></pre><ul><li><code>base_fee</code> is a static fee applied to all transactions (analogous to the 21k gas fee in Ethereum).</li><li><code>targeted_fee_adjustment</code> is a fee multiplier that is based on recent activity on the chain. If the recent blocks have been full, this multiplier will increase and if the recent blocks have been empty, this multiplier will decrease.</li><li><code>len_fee</code> is the extra fee charged for the size of a transaction. Transactions with bigger payloads will have a bigger <code>len_fee</code>.</li><li><code>weight_fee</code> is based on the compute requirements of a transaction. A more resource-intensive transaction will have a higher <code>weight_fee</code>.</li></ul><p>There are two problems here. Firstly, the <code>len_fee</code> is being affected by the <code>targeted_fee_adjustment</code> multiplier. However, as per the <a aria-label="undefined (opens in a new tab)" href="https://research.web3.foundation/en/latest/polkadot/Token%20Economics.html#setting-transaction-fees" target="_blank" rel="noreferrer noopener">W3F docs</a>, it should not be. The second problem is that the <code>targeted_fee_adjustment</code> multiplier was allowed to go as low as zero. The combined result of these two problems is that when the chain is not busy, no <code>len_fee</code>, and <code>weight_fee</code> are charged and anyone can submit large transactions to inflate the blockchain size.</p><h3>Reproduction steps</h3><p>The vulnerability was very easy to exploit. All you had to do was to send a huge payload alongside a valid transaction. Sample reproduction steps are as follows:</p><ol><li>Open the Polkadot UI ‚Äì <a aria-label="undefined (opens in a new tab)" href="https://polkadot.js.org/apps/#/explorer" target="_blank" rel="noreferrer noopener nofollow"></a><a href="https://polkadot.js.org/apps">https://polkadot.js.org/apps</a>.</li><li>Click on the ‚ÄúExtrinsics‚Äù tab on the left.</li><li>Select the ‚Äúremark‚Äù extrinsic from the ‚Äúsystem‚Äù frame.</li><li>Click on ‚Äúfile upload‚Äù on the right and upload your payload (anything you want to put on the blockchain).</li><li>Submit the transaction.</li></ol><h3>Resolution</h3><p>The <a aria-label="undefined (opens in a new tab)" href="https://github.com/paritytech/substrate/pull/6334" target="_blank" rel="noreferrer noopener">fix</a> was twofold but simple. Firstly, the <code>len_fee</code> was moved out so that it was not affected by the <code>targeted_fee_adjustment</code> multiplier. The new fee formula is</p><pre><code>fee = base_fee + len_fee + targeted_fee_adjustment * weight_fee;</code></pre><p>In addition, the <code>targeted_fee_adjustment</code> was adjusted so that the minimum multiplier is one instead of zero. This brings the implementation closer to what the W3F research suggested. It makes exploit like the one mentioned in this post impossible.</p><h3>Timeline</h3><ul><li>Reported ‚Äì 17/06/2020</li><li>Acknowledged ‚Äì 17/06/2020</li><li>Fixed ‚Äì 17/06/2020</li></ul><h3>Addendum</h3><p>I‚Äôd like to thank Parity Technologies for being responsive and fixing the bug within hours of the report. Kusama and Polkadot were upgraded soon after the bug fix. Parity offered me a 250 USD bug bounty for this disclosure which they have kindly donated to the <a aria-label="undefined (opens in a new tab)" href="https://www.smilefoundationindia.org/" target="_blank" rel="noreferrer noopener">Smile Foundation</a> on my behalf. I‚Äôd like to thank them for that as well.</p><p>Everyone is welcome to try their hands on Kusama and report any bugs to Parity. Below is a direct quote from Fredrik, CTO at parity:</p><blockquote><p>We are thankful to Mudit for reporting this to us. We created Kusama for this specific purpose of testing the underlying economic assumptions before they reach Polkadot and are happy that it worked in this case. We encourage everyone to continue hunting bugs on Kusama and reporting them to us!</p><cite>Fredrik Harrysson, CTO at Parity</cite></blockquote><p>Happy hacking!</p></div></div></article></div>]]>
            </description>
            <link>https://mudit.blog/free-blockchain-storage-bug-substrate/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758626</guid>
            <pubDate>Tue, 07 Jul 2020 12:48:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Go's Error Handling Is Awesome]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 90 (<a href="https://news.ycombinator.com/item?id=23758509">thread link</a>) | @michaelanckaert
<br/>
July 7, 2020 | https://rauljordan.com/2020/07/06/why-go-error-handling-is-awesome.html | <a href="https://web.archive.org/web/*/https://rauljordan.com/2020/07/06/why-go-error-handling-is-awesome.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  
  
  <p>Published on 06 Jul 2020</p>
  
  <p>Go‚Äôs <a href="https://github.com/golang/go/issues/32825">infamous error handling</a> has caught quite the attention from outsiders to the programming language, often touted as one of the language‚Äôs most questionable design decisions. If you look into any project on Github written in Go, it‚Äôs almost a guarantee you‚Äôll see the lines more frequently than anything else in the codebase:</p>

<div><div><pre><code><span>if</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>return</span><span> </span><span>err</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>
<p>Although it may seem redundant and unnecessary for those new to the language, the reason errors in Go are treated as first-class citizens (values) has a deeply-rooted history in programming language theory and the main goal of Go as a language itself. Numerous efforts have been made to change or improve how Go deals with errors, but so far, one proposal is winning above all others:</p>

<p><img src="https://i.imgur.com/QvF1AbH.png" alt="Image"></p>

<p>- <a href="https://github.com/golang/go/issues/32825">Leave if err != nil alone!</a></p>

<h2 id="gos-error-philosophy">Go‚Äôs error philosophy</h2>

<p>Go‚Äôs philosophy regarding error handling forces developers to incorporate errors as first class citizens of most functions they write. Even if you ignore an error using something like:</p>

<div><div><pre><code><span>func</span><span> </span><span>getUserFromDB</span><span>()</span><span> </span><span>(</span><span>*</span><span>User</span><span>,</span><span> </span><span>error</span><span>)</span><span> </span><span>{</span><span> </span><span>...</span><span> </span><span>}</span><span>

</span><span>func</span><span> </span><span>main</span><span>()</span><span> </span><span>{</span><span>
    </span><span>user</span><span>,</span><span> </span><span>_</span><span> </span><span>:=</span><span> </span><span>getUserFromDB</span><span>()</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>
<p>Most linters or IDEs will catch that you‚Äôre ignoring an error, and it will certaintly be visible to your teammates during code review. However, in other languages, it may not be clear that your code is not handling a potential exception in a <code>try catch</code> code block, being completely opaque about handling your control flow.</p>

<p>If you handle errors in Go the standard way, you get the benefits of:</p>

<ol>
  <li>No hidden control-flows</li>
  <li>No unexpected <code>uncaught exception</code> logs blowing up your terminal (aside from actual program crashes via panics)</li>
  <li>full-control of errors in your code as <em>values</em> you can handle, return, and do anything you want with</li>
</ol>

<p>Not only is the syntax of <code>func f() (value, error)</code> easy to teach to a newcomer, but also a standard in any Go project which ensures consistency.</p>

<p>It‚Äôs important to note Go‚Äôs error syntax does not <strong>force</strong> you to handle every error your program may throw. Go simply provides a pattern to ensure you think of errors as critical to your program flow, but not much else. At the end of your program, if an error occurs, and you find it using <code>err != nil</code>, and your application doesn‚Äôt do something actionable about it, you‚Äôre in trouble either way - <strong>Go can‚Äôt save you</strong>. Let‚Äôs take a look at an example:</p>

<div><div><pre><code><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>criticalDatabaseOperation</span><span>();</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>log</span><span>.</span><span>Errorf</span><span>(</span><span>"Something went wrong in the DB: %v"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
</span><span>}</span><span>

</span><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>saveUser</span><span>(</span><span>user</span><span>);</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>log</span><span>.</span><span>Errorf</span><span>(</span><span>"Could not save user: %v"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>

<p>If something goes wrong and <code>err != nil</code> in calling <code>criticalDatabaseOperation()</code>, we‚Äôre not doing anything with the error aside from logging it! We might have data corruption or an otherwise unexpected issue that we are not handling intelligently, either via retrying the function call, canceling further program flow, or in worst-case scenario, shutting down the program. Go isn‚Äôt magical and can‚Äôt save you from these situations. Go only provides a standard approach for returning and using errors as values, but you still have to figure out how to handle the errors yourself.</p>

<h3 id="how-other-languages-do-it-throwing-exceptions">How other languages do it: throwing exceptions</h3>

<p>In something like the Javascript Node.js runtime, you can structure your programs as follows, known as throwing <code>exceptions</code>:</p>

<div><div><pre><code><span>try</span> <span>{</span>
    <span>criticalOperation1</span><span>();</span>
    <span>criticalOperation2</span><span>();</span>
    <span>criticalOperation3</span><span>();</span>
<span>}</span> <span>catch</span> <span>(</span><span>e</span><span>)</span> <span>{</span>
    <span>console</span><span>.</span><span>error</span><span>(</span><span>e</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>If an error occurs in any of these functions, the stack trace for the error will pop up at runtime and will be logged to the console, but there is no explicit, programmatic handling of what went wrong.</p>

<p>Your <code>criticalOperation</code> functions don‚Äôt need to explicitly handle error flow, as any exception that occurs within that try block will be raised at runtime along with a stack trace of what went wrong.
A benefit to exception-based languages is that, compared to Go, even an unhandled exception will still be raised via a stack trace at runtime if it occurs. In Go, it is possible to not handle a critical error at all, which can arguably be much worse. Go offers you full control of error handling, but also <strong>full responsibility</strong>.</p>

<p>EDIT: Exceptions are definitely not the only way other languages deal with errors. Rust,  for example, has a good compromise of using option types and pattern matching to find error conditions, leveraging some nice syntactic sugar to achieve similar results.</p>

<h3 id="why-go-doesnt-use-exceptions-for-error-handling">Why Go doesn‚Äôt use exceptions for error handling</h3>

<h4 id="the-zen-of-go">The Zen of Go</h4>

<p>The Zen of Go mentions two important proverbs:</p>

<ol>
  <li>Simplicity matters</li>
  <li>Plan for failure, not success</li>
</ol>

<p>Using the simple <code>if err != nil</code> snippet to all functions which return <code>(value, error)</code> helps ensure failure in your programs is thought of <em>first and foremost</em>. You don‚Äôt need to wrangle with complicated, nested <code>try catch</code> blocks which appropriately handle all possible exceptions being raised.</p>

<h4 id="exception-based-code-can-often-be-opaque">Exception-based code can often be opaque</h4>

<p>With exception-based code, however, you‚Äôre forced to be aware of every situation in which your code could have exceptions without actually handling them, as they‚Äôll be caught by your <code>try catch</code> blocks. That is, it encourages programmers to never check errors, knowing that at the very least, some exception will be handled automatically at runtime if it occurs.</p>

<p>A function written in an exception-based programming language may often look like this:</p>

<div><div><pre><code><span>item</span> <span>=</span> <span>getFromDB</span><span>()</span>
<span>item</span><span>.</span><span>Value</span> <span>=</span> <span>400</span>
<span>saveToDB</span><span>(</span><span>item</span><span>)</span>
<span>item</span><span>.</span><span>Text</span> <span>=</span> <span>'price changed'</span>
</code></pre></div></div>

<p>This code does nothing to ensure exceptions are properly handled. Perhaps the difference between making the code above become aware of exceptions is to switch the order of <code>saveToDB(item)</code> and <code>item.Text = 'price changed</code>, which is <strong>opaque</strong>, hard to reason about, and can encourage some lazy programming habits. In functional programming jargon, this is known as the fancy term: <a href="https://stackoverflow.com/questions/28992625/exceptions-and-referential-transparency/28993780#28993780">violating referential transparency</a>. This <a href="https://devblogs.microsoft.com/oldnewthing/?p=36693">blog post</a> from Microsoft‚Äôs engineering blog in 2005 still holds true today, namely:</p>

<blockquote>
  <p>My point isn‚Äôt that exceptions are bad.
My point is that exceptions are too hard and I‚Äôm not smart
enough to handle them.</p>
</blockquote>

<h2 id="benefits-of-gos-error-syntax">Benefits of Go‚Äôs error syntax</h2>

<h3 id="easy-creation-of-actionable-error-chains">Easy creation of actionable error chains</h3>

<p>A superpower of the pattern <code>if err != nil</code> is how it allows for easy error-chains to traverse a program‚Äôs hierarchy all the way to where they need to be handled. For example, a common Go error handled by a program‚Äôs <code>main</code> function might read as follows:</p>

<p>[2020-07-05-9:00] ERROR: Could not create user: could not check if user already exists in DB: could not establish database connection: no internet</p>

<p>The error above is (a) clear, (b) actionable, (c) has sufficient context as to what layers of the application went <em>wrong</em>. Instead of blowing up with an unreadable, cryptic stack trace, errors like these that are a result of factors we can add human-readable context to, and should be handled via clear error chains as shown above.</p>

<p>Moreover, this type of error chain arises naturally as part of a standard Go program‚Äôs structure, likely looking like this:</p>

<div><div><pre><code><span>// In controllers/user.go</span><span>
</span><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>database</span><span>.</span><span>CreateUser</span><span>();</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>log</span><span>.</span><span>Errorf</span><span>(</span><span>"Could not create user: %v"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
</span><span>}</span><span>

</span><span>// In database/user.go</span><span>
</span><span>func</span><span> </span><span>CreateUser</span><span>()</span><span> </span><span>error</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>db</span><span>.</span><span>SQLQuery</span><span>(</span><span>userExistsQuery</span><span>);</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>fmt</span><span>.</span><span>Errorf</span><span>(</span><span>"could not check if user already exists in db: %v"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
    </span><span>}</span><span>
    </span><span>...</span><span>
</span><span>}</span><span>

</span><span>// In database/sql.go</span><span>
</span><span>func</span><span> </span><span>SQLQuery</span><span>()</span><span> </span><span>error</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>sql</span><span>.</span><span>Connected</span><span>();</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>fmt</span><span>.</span><span>Errorf</span><span>(</span><span>"could not establish db connection: %v"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
    </span><span>}</span><span>
    </span><span>...</span><span>
</span><span>}</span><span>

</span><span>// in sql/sql.go</span><span>
</span><span>func</span><span> </span><span>Connected</span><span>()</span><span> </span><span>error</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>noInternet</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>errors</span><span>.</span><span>New</span><span>(</span><span>"no internet connection"</span><span>)</span><span>
    </span><span>}</span><span>
    </span><span>...</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>

<p>The beauty of the code above is that each of these errors are completely namespaced by their respective function, are informative, and only handle responsibility for what they are aware of. This sort of error chaining using <code>fmt.Errorf("something went wrong: %v", err)</code> makes it trivial to build awesome error messages that can tell you <em>exactly</em> what went wrong based on how <em>you</em> defined it.</p>

<p>On top of this, if you want to also attach a stack trace to your functions, you can utilize the fantastic <a href="https://godoc.org/github.com/pkg/errors">github.com/pkg/errors</a> library, giving you functions such as:</p>

<div><div><pre><code><span>errors</span><span>.</span><span>Wrapf</span><span>(</span><span>err</span><span>,</span><span> </span><span>"could not save user with email %s"</span><span>,</span><span> </span><span>email</span><span>)</span><span>
</span></code></pre></div></div>

<p>which print out a stack trace <em>along</em> with the human-readable error chain you created through your code. If I could summarize the most important pieces of advice I‚Äôve received regarding writing idiomatic error handling in Go:</p>

<ol>
  <li>
    <p><strong>Add stack traces when your errors are actionable to developers</strong></p>
  </li>
  <li>
    <p><strong>Do something with your returned errors, don‚Äôt just bubble them up to main, log them, and forget them</strong></p>
  </li>
  <li>
    <p><strong>Keep your error chains unambiguous</strong></p>
  </li>
</ol>

<p>When I write Go code, error handling is the one thing I <em>never</em> worry about, because errors themselves are a central aspect of every function I write, giving me full control in how I handle them safely, in a readable manner, and responsibly.</p>

<blockquote>
  <p>‚Äúif ‚Ä¶; err != nil‚Äù is something you‚Äôll probably type if you write go. I don‚Äôt think it‚Äôs a plus or a negative. It gets the job done, it‚Äôs easy to understand, and it empowers the programmer to do the right thing when the program fails. The rest is up to you.</p>
</blockquote>

<p>- From <a href="https://news.ycombinator.com/item?id=20303468">Hacker News</a></p>

<h2 id="key-readings">Key Readings</h2>

<ul>
  <li><a href="https://github.com/golang/go/issues/32825">Leave if err != nil alone!</a></li>
  <li><a href="https://godoc.org/github.com/pkg/errors">Go pkg errors</a></li>
</ul>

</div></div>]]>
            </description>
            <link>https://rauljordan.com/2020/07/06/why-go-error-handling-is-awesome.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758509</guid>
            <pubDate>Tue, 07 Jul 2020 12:33:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fractally Broken]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 4 (<a href="https://news.ycombinator.com/item?id=23758256">thread link</a>) | @NiallBunting
<br/>
July 7, 2020 | https://niallbunting.com/fractally/broken/daily/2020/06/18/fractally-broken.html | <a href="https://web.archive.org/web/*/https://niallbunting.com/fractally/broken/daily/2020/06/18/fractally-broken.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

    <article>

        

<!--         <header class="post-header">
            <a id="blog-logo" href="https://www.niallbunting.com/">
                
                    <span class="blog-title">Niall Bunting</span>
                
            </a>
        </header> -->

        <!-- <span class="post-meta">
            <time datetime="2020-06-18">18 Jun 2020</time>
            
                on fractally, broken, and daily
            
        </span> -->

        <!-- <h1 class="post-title">Fractally Broken</h1> -->

        <section>
            <p>Fractally broken a definition.</p>

<p><strong>Fractal</strong>: <em>A never ending pattern.</em><br><strong>Broken</strong>: <em>Not functioning properly.</em></p>

<p>This is a phrase I heard from <a href="https://kragniz.eu/">Louis Taylor</a> a few years ago and I absolutely love it. <em>Edit: I have been told that the original source may have been <a href="https://eev.ee/blog/2012/04/09/php-a-fractal-of-bad-design/">https://eev.ee</a>.</em></p>

<p>It means that however much you zoom in or out from a thing it has faults. In an almost recursive manner.</p>

<p>It really sums up some projects. You look at the whole system and think some very bad words. Then you look at a component and think the same. Finally, you end up reading individual lines of code and the words continue flowing.</p>

<p>I also composed a limerick:</p>

<blockquote>
  <p>There once was a very bad project,</p>

  <p>With a fixed cost, scope and budget,</p>

  <p>It grew fractally broken,</p>

  <p>And the severs began smokin‚Äô,</p>

  <p>so none of the dev‚Äôs wanted to touch it.</p>
</blockquote>


        </section>

        


<!--
        <section id="more-work">
            
            <div class="left">
                <a class="equalize" href="/wii/balance/board/alarm/clock/daily/2020/06/17/wii-balance-board-alarm-clock-part-one.html" title="Previous Post: Wii Balance Board Alarm Clock">
                    <div>
                        <h6> ‚Üê Previous Project </h6>
                        <h4> Wii Balance Board Alarm Clock </h4>
                    </div>
                </a>
            </div>
        
            
            <div class="right">
                <a class="equalize" href="/covid/alone/daily/2020/06/19/covid-thoughts.html" title="next Post: Living alone during COVID">
                    <div>
                        <h6> Next Project ‚Üí</h6>
                        <h4> Living alone during COVID</h4>
                    </div>
                </a>
            </div>
        </section>
-->

        

    </article>

</div></div>]]>
            </description>
            <link>https://niallbunting.com/fractally/broken/daily/2020/06/18/fractally-broken.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758256</guid>
            <pubDate>Tue, 07 Jul 2020 11:59:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pulsar vs. Kafka ‚Äì Comparison and Myths Explored]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758216">thread link</a>) | @wiradikusuma
<br/>
July 7, 2020 | https://www.kai-waehner.de/blog/2020/06/09/apache-kafka-versus-apache-pulsar-event-streaming-comparison-features-myths-explored/ | <a href="https://web.archive.org/web/*/https://www.kai-waehner.de/blog/2020/06/09/apache-kafka-versus-apache-pulsar-event-streaming-comparison-features-myths-explored/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<p><b>Pulsar vs Kafka</b> ‚Äì which one is better? This blog post explores <b>pros and cons, popular myths, and non-technical criteria to find the best tool for your business problem</b>.</p>
<p>My discussions are usually around Apache Kafka and its ecosystem as I work for Confluent. <b>The only questions I got about Pulsar in the last years came from Pulsar committers and contributors</b>. They asked me deep technical questions so as to be able to explain where Kafka sucks and why Pulsar is the much better option. Discussions about this topic on platforms like Reddit are typically very opinionated, often inaccurate, and brutal. The following is my point of view based on years of experience with open source streaming platforms.</p>
<h2 id="tech-comparisons-are-the-new-black-kafka-vs-middleware-event-streaming-and-api-platforms">Tech comparisons are the new black: Kafka vs. Middleware, Event Streaming and API Platforms</h2>
<p>Tech comparisons are meant to <b>guide people to choose the right solution and architecture for their business problem</b>. There is no all-rounder, and there should be no bias. Choose the right tool for the problem.</p>
<p>However, <strong>technical comparisons are almost always biased</strong>. Even if the author does not work for a vendor and is an ‚Äúindependent‚Äù consultant, he or she is still likely to have a biased opinion from past experiences and knowledge, whether purposely or unknowingly. Still, comparisons from different perspectives are useful, and we‚Äôve seen Apache Pulsar discussed in a few places on the internet, so I wanted to share my personal views of how Kafka and Pulsar compare. <strong>I work for Confluent, the leading experts behind Apache Kafka and its ecosystem</strong>, so keep that in mind, but the aim of this post is not to provide opinion, it‚Äôs to <b>weigh up facts rather than myths</b>.</p>
<p>Technical comparisons of open source frameworks and commercial software products happen all the time. I did several comparisons in the past on my blog or other platforms like InfoQ, including a <a href="https://www.kai-waehner.de/blog/2012/01/10/spoilt-for-choice-which-integration-framework-to-use-spring-integration-mule-esb-or-apache-camel/">Comparison of integration frameworks</a>, <a href="https://www.infoq.com/articles/ESB-Integration">Choosing the right ESB for your integration needs</a>, <a href="https://www.kai-waehner.de/blog/2019/03/07/apache-kafka-middleware-mq-etl-esb-comparison/">Kafka vs. ETL / ESB / MQ</a>, <a href="https://www.kai-waehner.de/blog/2020/04/24/mainframe-offloading-replacement-apache-kafka-connect-ibm-db2-mq-cdc-cobol/">Kafka vs. Mainframe</a> and <a href="https://www.kai-waehner.de/blog/2020/05/25/api-management-gateway-apache-kafka-comparison-mulesoft-kong-apigee/">Apache Kafka and API Management / API Gateway</a>. All these comparisons were done because customers wanted to understand when to use which tool.</p>
<p>For Pulsar vs. Kafka, the situation is a little bit different.</p>
<h2 id="why-compare-pulsar-and-kafka">Why compare Pulsar and Kafka?</h2>
<p><b>Talking to prospects or customers, I rarely get asked about Pulsar.</b> To be fair, this increased slightly in the last months. I guess the question comes up in every ~15th or ~20th meeting due to the overlapping feature set and use cases. However, this seems to be mostly due to a few posts on the internet that claim Pulsar is in some ways better than Kafka. There is no fact checking andou very little material, if any, for the opposing view.</p>
<p><b>I have not talked to a single organization who seriously considered deploying Pulsar in production, </b>although I know there are a large number of users out there in the world who need a distributed messaging technology like Kafka or Pulsar. But I also think that Pulsar‚Äôs alleged reference users are not particularly accurate. For example, their flagship user is Tencent, a large Chinese tech company, but Tencent is a huge Kafka user, whereas Pulsar‚Äôs use is limited to just one project.</p>
<h4 id="comparison-of-two-competitive-open-source-frameworks">Comparison of two competitive open source frameworks</h4>
<p><b>Apache Kafka and Apache Pulsar are two exciting and competing technologies</b>. Therefore, it makes a lot of sense to compare them. Period.</p>
<p><strong>Both Apache Kafka and Apache Pulsar have very similar feature sets</strong>. I recommend that you evaluate both frameworks for available features, maturity, market adoption, open source tools and projects, training material, availability of local meetups, videos, blog posts, etc. Reference use cases from your industry or business problems help making the right decision.</p>
<p>Confluent published such a comparison about ‚Äú<a href="https://www.confluent.io/kafka-vs-pulsar/">Kafka vs. Pulsar vs. RabbitMQ: Performance, Architecture, and Features Compared</a>‚Äú. I was involved in creating this comparison. So we have that comparison already‚Ä¶</p>
<p>What is this blog post here about then?</p>
<p>I want to <b>explore the myths from some ‚ÄòKafka vs. Pulsar‚Äô arguments</b> which I see regularly in blog posts and forum discussions. Afterwards, I will give a more <b>comprehensive comparison beyond just technical aspects</b> because most Pulsar discussions focus purely on tech features.</p>
<p><img src="https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison.jpg" data-src="https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison.jpg" alt="Apache Kafka vs Apache Pulsar Comparison and Myths Explored" width="760" height="572" data-srcset="https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison.jpg 760w, https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison-300x225.jpg 300w, https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison-200x150.jpg 200w, https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison-380x286.jpg 380w" data-sizes="(max-width: 760px) 100vw, 760px" srcset="https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison.jpg 760w, https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison-300x225.jpg 300w, https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison-200x150.jpg 200w, https://www.kai-waehner.de/wp-content/uploads/2020/05/Apache-Kafka-vs-Apache-Pulsar-Comparison-380x286.jpg 380w"></p>
<h2 id="kafka-vs-pulsar-technology-myths-explored">Kafka vs Pulsar ‚Äì Technology myths explored<b><br>
</b></h2>
<p><b>The following discusses some myths I have come across. I agree with some of them, but also counter some others with hard facts</b>. Of course, different opinions can exist for some of these statements. Again, this is totally fine. The following is my point of view.</p>
<h3 id="myth-1-pulsar-has-differentiating-built-in-features-compared-to-kafka">Myth 1: ‚ÄúPulsar has differentiating built-in features compared to Kafka‚Äù?</h3>
<p><b>True.</b></p>
<p>If you compare Apache Kafka to Apache Pulsar, features like its tiered architecture, queuing, and multi-tenancy are mentioned as differentiators.</p>
<p><b>But:</b></p>
<p>Kafka has many differentiating features, too:</p>
<ul>
<li>Half as many servers to run</li>
<li>Data saved to disk only once</li>
<li>Data cached in memory only once</li>
<li>Battle-tested replication protocol</li>
<li>Zero copy performance</li>
<li>Transactions</li>
<li>Built-in stream processing</li>
<li>Long term storage</li>
<li>In the works: ZooKeeper removal (<a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-500%3A+Replace+ZooKeeper+with+a+Self-Managed+Metadata+Quorum">KIP-500</a>), which makes Kafka even more simple to operate and deploy than Pulsar (which has a four-component architecture of Pulsar, ZooKeeper, BookKeeper, and RocksDB), apart from making Kafka more scalable, more resilient, etc. etc..)</li>
<li>In the works: Tiered Storage (<a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-405%3A+Kafka+Tiered+Storage">KIP-405</a>), which makes Kafka more elastic and cost-efficient.</li>
</ul>
<p>Also ask yourself: Should you really compare just the open source frameworks or products and vendors with their complete offering?</p>
<p>It is <b>easy to add new features if you don‚Äôt have to provide mission-critical support for it</b>. Don‚Äôt just evaluate features in a checklist, but also evaluate how they are battle-tested in production scenarios. <b>How many ‚Äúdifferentiating features‚Äù are low-quality and implemented quickly vs. high-quality implementations?</b></p>
<p>For instance: <b>It took a few years to implement and battle-test Kafka Streams as Kafka-native stream processing engine. Do you really want to compare this to Pulsar Functions?</b> The latter is a feature to add user-defined functions (UDF); without any relation to ‚Äúreal stream processing‚Äù. Or is this more like Single Message Transformations (SMT), a core feature of Kafka Connect? Just be sure to a) compare apples to apples (instead of apples to oranges) and b) don‚Äôt forget to think about the maturity of a feature. The more powerful and critical, the more mature it should be‚Ä¶</p>
<p>The Kafka community spends a large amount of efforts to improve the core project and its ecosystem. <b>Confluent alone has over 200 full time engineers</b> working on the Kafka project, additional community components, commercial products and the SaaS offering on major cloud providers.</p>
<h3 id="myth-2-pulsar-has-a-few-very-big-users-like-tencent-in-china">Myth 2: ‚ÄúPulsar has a few very big users like Tencent in China‚Äù?</h3>
<p><b>True.</b></p>
<p><b>But: Tencent actually uses Kafka more than Pulsar</b>. The billing, which uses Pulsar, department is only a small fraction at Tencent, whereas a large portion of the core business is using Kafka, and they have a Global-Kafka like architecture that combines 1000+ brokers into a single logical cluster.</p>
<p>Always be cautious with open source projects. Check out the success at ‚Äúnormal companies‚Äù. Just because a tech giant uses it, does not mean it will work for your company well. How many Fortune 2000 companies shared their success stories around Pulsar in the past?</p>
<h4 id="look-for-proof-points-beyond-tech-giants">Look for proof points beyond tech giants!</h4>
<p><b>Proof points beyond the tech giants are helpful to get insights and lessons learned from other people</b>. Not from the software vendors. The Kafka website gives many <a href="https://kafka.apache.org/powered-by">examples about mission-critical deployments</a>. Even more impressive: At the past<a href="https://kafka-summit.org/"> Kafka Summit</a> conferences in San Francisco, New York and London, every year various enterprises from different industries present their use cases and success stories. Including fortune 2000 companies, mid-size enterprises and startups.</p>
<p>Just to give you <b>one specific example in the Kafka world</b>: Various different implementations exist for replication of data in real time between separate Kafka clusters, including MirrorMaker 1 (part of the Apache Kafka project), MirrorMaker 2 (part of the Apache Kafka project), Confluent Replicator (built by Confluent and only available as part of Confluent Platform or Confluent Cloud), uReplicator (open sourced by Uber), Mirus (open sourced by Salesforce), Brooklin (open sourced by LinkedIn).</p>
<p>In practice, only two options are reasonable if you don‚Äôt want to maintain and improve the code by yourself: MirrorMaker 2 (very new, not mature yet, but a great option mid and long term) and Confluent Replicator (battle-tested in many mission-critical deployments, but not open source). All the other options work, too. But who maintains the projects? Who solves bugs and security issues? Who do you call when you have a problem in production? Deployment in production for mission-critical deployments is different from evaluating and trying out an open source project.</p>
<h3 id="myth-3-pulsar-provides-message-queuing-and-event-streaming-in-a-single-solution">Myth 3: ‚ÄúPulsar provides message queuing and event streaming in a single solution‚Äù?</h3>
<p><b>True.</b></p>
<p>Message queues are used for point-to-point communication. They provide an asynchronous communications protocol, meaning that the sender and receiver of the message do not need to interact with the message queue at the same time.</p>
<p>I really like the support of Message Queuing in Pulsar. This means you have <b>out-of-the-box support for event streaming and message queues in Pulsar</b>.</p>
<p>In Kafka, different workarounds are required to realize ‚Äúreal queuing‚Äù behavior.</p>
<p>Having said this, I typically ask customers what exactly they want to do with queuing. Often, Kafka provides out-of-the-box solutions for the use case which simply require thinking of the solution in new terms.</p>
<p>If you want to use separate message queues instead of shared Kafka topics for:</p>
<ul>
<li>Security? =&gt; Use Kafka‚Äôs ACLs (and optional tools like Confluent‚Äôs role-based access control aka RBAC)).</li>
<li>Semantics (i.e. separate applications)? =&gt; Use Kafka‚Äôs consumer groups.</li>
<li>Load balancing? =&gt; Use Kafka‚Äôs partitions.</li>
</ul>
<p><b>Kafka Topics have two ‚Ä¶</b></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.kai-waehner.de/blog/2020/06/09/apache-kafka-versus-apache-pulsar-event-streaming-comparison-features-myths-explored/">https://www.kai-waehner.de/blog/2020/06/09/apache-kafka-versus-apache-pulsar-event-streaming-comparison-features-myths-explored/</a></em></p>]]>
            </description>
            <link>https://www.kai-waehner.de/blog/2020/06/09/apache-kafka-versus-apache-pulsar-event-streaming-comparison-features-myths-explored/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758216</guid>
            <pubDate>Tue, 07 Jul 2020 11:53:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Guided Tour of the Plane-Based Geometric Algebra PGA]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23758179">thread link</a>) | @enkimute
<br/>
July 7, 2020 | https://bivector.net/PGA4CS.html | <a href="https://web.archive.org/web/*/https://bivector.net/PGA4CS.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="three">
				<div>
				        <div><p>
				        PGA is a <b>plane-based geometric algebra</b> which appears eminently suited for the description and computation of operations in <b>3D Euclidean geometry</b>. 
It naturally contains, in a real framework, efficient motion representations like homogeneous coordinates and  dual quaternions, fully integrated with oriented object models. 
PGA's encoding of primitives and operators in blocks of four coordinates makes it very suitable for <b>fast GPU
implementation</b>.</p><p>

To satisfy the curiosity raised by the <a href="https://www.youtube.com/watch?v=tX4H_ctggYo&amp;t=1080s" target="blank"><b>2019 SIGGRAPH</b></a> presentation on PGA, Leo Dorst decided to upgrade
<b>Chapter 11</b> of the 2007 book <a href="http://geometricalgebra.net/" target="blank"><b>Geometric Algebra for Computer Science (GA4CS)</b></a> to treat these new developments in a similarly precise but accessible style.
</p>
<p>

The present text assumes some <b>basic geometric algebra</b> knowledge (though it could be read without that, as a motivational inspiration to acquire that knowledge). 
Throughout, we try to be no more mathematical than required, and provide <b>illustrations</b> and links to <b>software demonstrations</b>.
</p><p>

This text takes care to propagate <b>orientational signs</b> and <b>scaling factors</b> through all its operations, since the author believes that PGA allows for such a consistently <b>oriented Euclidean geometry</b>. 
Guessing signs afterwards should no longer be required...</p><p>

Enjoy! We plan to post updates on new developments on this page, and in upgraded versions of this '<a href="https://bivector.net/PGA4CS.pdf">Guided Tour to the Plane-Based Geometric Algebra PGA</a>'.</p><p>

Leo Dorst<br>
Steven De Keninck</p><p>

July 2020
				        </p></div>
					
                                </div>
                        </section></div>]]>
            </description>
            <link>https://bivector.net/PGA4CS.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758179</guid>
            <pubDate>Tue, 07 Jul 2020 11:46:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Statically sized higher-kinded polymorphism]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758147">thread link</a>) | @fanf2
<br/>
July 7, 2020 | http://blog.ielliott.io/sized-hkts/ | <a href="https://web.archive.org/web/*/http://blog.ielliott.io/sized-hkts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section> <article>
    

    <p>07 July 2020</p>

    <div>
  <div>
    <p>
        Memory-sensitive languages like C++ and Rust use compile-time information to calculate
        sizes of datatypes. These sizes are used to inform alignment, allocation, and calling conventions in ways
        that improve runtime performance. Modern languages in this setting support generic types, but so far
        these languages only allow parameterisation over types, not type constructors. In this article I describe
        how to enable parameterisation over arbitrary type constructs, while still retaining compile-time calculation
        of datatype sizes.
    </p>
    <p>
        The code for this project can be found <a href="https://github.com/LightAndLight/sized-hkts">here</a>.
    </p>
  </div>

  
</div>

<h2 id="background">Background</h2>

<h3 id="generics">Generics</h3>

<p>Many typed languages support some form of generic (parameterised) datatypes. This ability to abstract
over types is known as ‚Äòparametric polymorphism‚Äô (polymorphism for short). In Rust, for example, one
can define type of polymorphic pairs as <code>struct Pair&lt;A, B&gt;(fst: A, snd: B)</code>. In this definition, <code>A</code> and <code>B</code> are type 
variables (or type parameters), and can be substituted for other types: 
<code>Pair&lt;bool, bool&gt;</code>, <code>Pair&lt;bool, char&gt;</code>, and <code>Pair&lt;String, int32&gt;</code> are all valid pairs.</p>

<p>The name of a type, without any parameters, is known as a type constructor. <code>Pair</code> is not a type on its own; 
<code>Pair&lt;A, B&gt;</code> (for some types <code>A</code> and <code>B</code>) is. The number of types required to ‚Äòcomplete‚Äô a type constructor is known
as its arity (so <code>Pair</code> has arity 2). The arity of a type constructor must always be respected; it‚Äôs an error to 
provide greater or fewer type parameters than are expected. For example, <code>Pair&lt;bool&gt;</code> and 
<code>Pair&lt;char, int32, String&gt;</code> are invalid.</p>

<h3 id="sizing">Sizing</h3>

<p>When using C++ or Rust, the compiler will calculate how many bytes of memory each datatype requires. Simple
types like <code>int32</code> and <code>bool</code> have a constant size; 4 bytes and 1 byte respectively. The size of datatypes 
built using of other simple types is easy to calculate. The simplest way to calculate the size of a struct 
is to sum the sizes of the fields, and the simplest way to calculate the size of an enum (or tagged union)
is to find the largest variant, and add 1 (for a tag byte). This is rarely the exact formula used by production
compilers, because they take <a href="https://en.wikipedia.org/wiki/Data_structure_alignment">alignment</a> into account.
This article will assume the simple sizing formula, because the results can easily be adapted to more nuanced
formulae.</p>

<p>The size of a datatype like <code>struct TwoInts(x: int32, y: int32)</code> is known immediately at its definition. <code>TwoInts</code>
requires 8 bytes of memory. On the other hand, the size of a generic datatype is not always known at its definition.
What is the size of <code>struct Pair&lt;A, B&gt;(fst: A, snd: B)</code>? It‚Äôs the size of <code>A</code> plus the size of <code>B</code>, for some 
unknown <code>A</code> and <code>B</code>.</p>

<p>This difficulty is usually addressed by only generating code for datatypes and functions when all the generic
types have been replaced with concrete types. This process is known as monomorphisation. If the program contains a 
<code>Pair(true, true)</code>, then the compiler will generate
a new type <code>struct PairBoolBool(fst: bool, snd: bool)</code> whose size is statically known. If <code>Pair(true, true)</code>
is passed to a function <code>fn swap&lt;A, B&gt;(p: Pair&lt;A, B&gt;) -&gt; Pair&lt;B, A&gt;</code>, then the compiler generates a new
function <code>fn swapBoolBool(p: PairBoolBool) -&gt; PairBoolBool</code>. Because this new function only uses types with known
sizes, the code for memory allocation and calling conventions can be generated correctly.</p>

<p>There are also generic types that <em>don‚Äôt</em> depend on the size of their parameters. An example of
this is the pointer, commonly known in Rust as <code>Box&lt;A&gt;</code>. A pointer has the same size (often 4 or 8 bytes depending
on your CPU) regardless of what it points to. But in order to allocate a new pointer, the size of the item must
be known.</p>

<p>For each generic datatype or function, the compiler keeps track of which type variables are important for sizing
calculations. The specifics of this is discussed in the <a href="#type-classes">Type Classes</a> section.</p>

<h3 id="kinds">Kinds</h3>

<p>A consequence of all this is that in these languages, type variables can only stand for types. But there
are good reasons to have type variables that stand for type constructors, too:</p>

<div><div><pre><code><span>struct</span> <span>One</span><span>&lt;</span><span>A</span><span>&gt;</span><span>(</span><span>A</span><span>)</span>

<span>impl</span> <span>&lt;</span><span>A</span><span>&gt;</span> <span>One</span><span>&lt;</span><span>A</span><span>&gt;</span><span>{</span>
  <span>map</span><span>&lt;</span><span>B</span><span>,</span> <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>One</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span> <span>...</span> <span>}</span>
<span>}</span>

<span>struct</span> <span>Two</span><span>&lt;</span><span>A</span><span>&gt;</span><span>(</span><span>A</span><span>,</span> <span>A</span><span>)</span>

<span>impl</span> <span>&lt;</span><span>A</span><span>&gt;</span> <span>Two</span><span>&lt;</span><span>A</span><span>&gt;</span><span>{</span>
  <span>map</span><span>&lt;</span><span>B</span><span>,</span> <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Two</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span> <span>...</span> <span>}</span>
<span>}</span>

<span>struct</span> <span>Three</span><span>&lt;</span><span>A</span><span>&gt;</span><span>(</span><span>A</span><span>,</span> <span>A</span><span>,</span> <span>A</span><span>)</span>

<span>impl</span> <span>&lt;</span><span>A</span><span>&gt;</span> <span>Three</span><span>&lt;</span><span>A</span><span>&gt;</span><span>{</span>
  <span>map</span><span>&lt;</span><span>B</span><span>,</span> <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Three</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span> <span>...</span> <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Here are some 1-arity container types. The only difference between these datatypes is the number of elements
they contain. They all support a <code>map</code> operation, which applies a function to all the datatype‚Äôs elements. Functions
that use <code>map</code> need to be implemented once for each type, even when their implementations are identical:</p>

<div><div><pre><code><span>fn</span> <span>incrOne</span><span>(</span><span>x</span><span>:</span> <span>One</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>One</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span>

<span>fn</span> <span>incrTwo</span><span>(</span><span>x</span><span>:</span> <span>Two</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>Two</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span>

<span>fn</span> <span>incrThree</span><span>(</span><span>x</span><span>:</span> <span>Three</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>Three</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span>
</code></pre></div></div>

<p>To remedy this, there must first be a way to abstract over the type constructors, so that the code can
be written <em>once</em> and for all:</p>

<div><div><pre><code><span>fn</span> <span>incr</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>x</span><span>:</span> <span>F</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>F</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span> <span>// when F&lt;A&gt; has map, for all types A</span>
</code></pre></div></div>

<p>Then, there must be some way to rule out invalid types. For example, replacing <code>F</code> with <code>bool</code> in <code>F&lt;int32&gt;</code>
is invalid, because <code>bool&lt;int32&gt;</code> is not a type. This is the job of kinds<sup id="fnref:1"><a href="#fn:1">1</a></sup>.</p>

<p>Kinds describe the ‚Äòshape‚Äô of types (and type constructors) in the same way that types describe the ‚Äòshape‚Äô 
of values. A type‚Äôs kind determines whether or not it takes any parameters. Here‚Äôs the syntax of kinds:</p>

<div><div><pre><code>kind ::=
  Type
  kind -&gt; kind
</code></pre></div></div>

<p>Types that take no arguments (like <code>bool</code>, <code>char</code>, and <code>String</code>) have kind <code>Type</code>. Types that take one argument,
like <code>One</code>, have kind <code>Type -&gt; Type</code>. In the code for <code>incr</code> above, <code>F</code> implicitly has kind <code>Type -&gt; Type</code>. Types
that take more than one argument are represented in <a href="https://en.wikipedia.org/wiki/Currying">curried form</a>. This
means that <code>Two</code> has kind <code>Type -&gt; Type -&gt; Type</code>, not <code>(Type, Type) -&gt; Type</code>. <code>Three</code> has kind <code>Type -&gt; Type -&gt; Type -&gt; Type</code>,
and so on.</p>

<p>Curried type constructors are standard in this setting, but not <em>necessary</em>. The results in this article could
also be applied to a setting with uncurried type constructors, at cost to expressiveness or implementation complexity.</p>

<p>Kinds put types and type constructors on equal footing. For the remainder of the article, both concepts will be
referred to as types. The kind becomes the distinguishing feature. For example, ‚Äútype constructor of arity 2‚Äù would
be replaced by ‚Äútype of kind <code>Type -&gt; Type -&gt; Type</code>‚Äù.</p>

<p>Some final jargon: types with a kind other than <code>Type</code> are known as ‚Äòhigher-kinded types‚Äô, and parameterising
over higher-kinded types is known as ‚Äòhigher-kinded polymorphism‚Äô.</p>

<h3 id="type-classes">Type Classes</h3>

<p>Rust uses <a href="https://blog.rust-lang.org/2015/05/11/traits.html">traits</a> to coordinate sizing calculations. Each
datatype implicitly receives an implementation of the <code>Sized</code> trait, and every type variable that is relevant for
a sizing calculation is given a <code>Sized</code> bound. This means that trait resolution, an already useful feature, can
be re-used to perform size calculations.</p>

<p>Closely related to traits is the functional programming concept of type classes<sup id="fnref:1:1"><a href="#fn:1">1</a></sup>. There are differences between the two,
but those differences don‚Äôt impact the results of this article. Type classes will prove a more convenient language
in which to discuss these ideas.</p>

<p>A type class (or trait) can be considered a predicate on types. A type class constraint (or trait bound) is an assertion
that the predicate must be true. For each constraint that is satisfied, there is corresponding ‚Äòevidence‚Äô that the
predicate is true.</p>

<p>When a type <code>T</code> has a <code>Sized</code> constraint, it is being asserted that the statement ‚Äú<code>T</code> has a known size‚Äù is true. For
brevity, this will be written as <code>Sized T</code>. When this statement satisfied (for instance, when <code>T</code> is <code>int32</code>), the
evidence is produced is <em>the actual size</em> of <code>T</code> (when <code>Sized int32</code> is satisfied, the evidence
is the number <code>4</code> - the size of <code>int32</code>).</p>

<p>Generic types like <code>Two&lt;A&gt;</code> have a size that depends on their type parameter. In terms of constraints, it can
be said that <code>Sized A</code> <em>implies</em> <code>Sized Two&lt;A&gt;</code>. If <code>A</code> is <code>int32</code>, then its size is <code>4</code>, which implies that
<code>Two&lt;int32&gt;</code> has a size of <code>4 + 4 = 8</code>. Similarly, of <code>Pair</code> it can be said that <code>Sized A</code> implies [ <code>Sized B</code> implies 
<code>Sized Pair&lt;A, B&gt;</code> ]. There is a choice between a curried an uncurried version; it could also be said that
[ <code>Sized A</code> <em>and</em> <code>Sized B</code> ] implies <code>Sized Pair&lt;A, B&gt;</code>, but the curried version will be used for convenience.</p>

<p>Note that type <em>constructors</em> don‚Äôt have a size. In other words, only types of kind <code>Type</code> have a size. A type constructor
such as <code>Two</code> (of kind <code>Type -&gt; Type</code>) has a size <em>function</em>. Given the sizes of the type constructor‚Äôs parameters,
a size function computes the size of the resulting datatype. <code>Two</code>‚Äôs size function is <code>\a -&gt; a + a</code>. <code>Pair</code>‚Äôs size
function <code>\a -&gt; b -&gt; a + b</code> (it could also be <code>\(a, b) -&gt; a + b</code> in an uncurried setting).</p>

<h3 id="problem-statement">Problem Statement</h3>

<p>With the background out of the way, the specific problem can be stated:</p>

<p>When a type of kind <code>Type</code> is relevant for a size calculation, it is given a <code>Sized</code> constraint, which will be
satisfied with a concrete size as evidence. What is the equivalent notion of constraint and evidence for
higher-kinded types that contribute to size calculations?</p>

<h2 id="solution">Solution</h2>

<p>An elegant solution to this problem can found by introducing quantified class constraints<sup id="fnref:2"><a href="#fn:2">2</a></sup>. Quantified constraints 
are an extension to type classes that add implication and quantification to the language of constraints, and corresponding
notions of evidence.</p>

<p>Here‚Äôs new syntax of quantified size constraints:</p>

<div><div><pre><code>constraint ::=
  Sized type               (size constraint)
  constraint =&gt; constraint (implication constraint)
  forall A. constraint     (quantification constraint)
</code></pre></div></div>

<p>The evidence for a constraint <code>c1 =&gt; c2</code> is a function that takes evidence for <code>c1</code> and produces evidence for <code>c2</code>, and the
evidence for <code>forall A. c</code> is just the evidence for <code>c</code>. The evidence for quantification constraints is a bit more nuanced
in general, but this description is accurate when only ‚Ä¶</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://blog.ielliott.io/sized-hkts/">http://blog.ielliott.io/sized-hkts/</a></em></p>]]>
            </description>
            <link>http://blog.ielliott.io/sized-hkts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758147</guid>
            <pubDate>Tue, 07 Jul 2020 11:43:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Are You Living in a Kettle?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23758005">thread link</a>) | @alfarez
<br/>
July 7, 2020 | https://farez.me/are-you-living-in-a-kettle/ | <a href="https://web.archive.org/web/*/https://farez.me/are-you-living-in-a-kettle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1531429962657-7f21d228a9b2?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 300w,
                            https://images.unsplash.com/photo-1531429962657-7f21d228a9b2?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 600w,
                            https://images.unsplash.com/photo-1531429962657-7f21d228a9b2?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 1000w,
                            https://images.unsplash.com/photo-1531429962657-7f21d228a9b2?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1531429962657-7f21d228a9b2?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Are you living in a kettle?">
            </figure>

            <section>
                <div>
                    <p>Living in a city is like living inside a kettle.</p><p>You don‚Äôt realise it but slowly over the years limescale accumulates on you. The longer you stay in the city the thicker that layer of limescale becomes, slowly desensitising you to anything external to you.</p><p>If you were born in the city and lived in one your whole life, you will think this is normal. You think having thick layers of limescale is normal and part of being an adult. Empathy is something to learn rather than something that should come naturally. You notice the hardness and defensiveness in in other kettle-dwellers, and see the same when you look in the mirror.</p><p>But spend a bit of time outside and in nature and you‚Äôll slowly de-scale and start to see the world again. You‚Äôll see that the city isn‚Äôt a natural place for us to be. You‚Äôll start to feel again and have more empathy towards the world and nature. You realise that <a href="https://farez.me/not-buying-stuff-will-save-you-even-more-money/">possessions weigh you down instead of making you happy</a>.</p><p>I‚Äôve been fortunate enough to escape city life and the rat race after years of living in London and Kuala Lumpur. For the last year and a half, I have spent less than 3 months in total in a big city and have for the most part been living either in small villages or towns.</p><p>Now, even a short period back in the kettle feels uneasy and de-humanising.</p><p>If you live in a city, take time out to get out. Make time. No excuses.</p><p>Or better still, get out permanently, and stop living inside a kettle.</p><hr><p>If you think this post is useful, please do share by forwarding this email to your friends.</p><p>You can follow me on <a href="https://twitter.com/farez">Twitter @farez</a> where I post on my startup progress.</p><p>Subscribe to posts by email at <a href="https://farez.substack.com/">https://farez.substack.com</a>.</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://farez.me/are-you-living-in-a-kettle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758005</guid>
            <pubDate>Tue, 07 Jul 2020 11:23:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Hey Freelancers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23757924">thread link</a>) | @raunometsa
<br/>
July 7, 2020 | https://remotehub.io/blog/freelancers | <a href="https://web.archive.org/web/*/https://remotehub.io/blog/freelancers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        <p><a href="https://remotehub.io/blog/founder">Founder</a></p>

            <p>
                Let‚Äôs build a new Fiverr or Upwork, but something much more smaller and fun? I started to build something. Would be fun to hear your thoughts.
            </p>
        </div><div>
                        <div>
            <p>RemoteHub is a community of remote workers. There are currently <a href="https://remotehub.io/open/users">more than 1,000</a> members. They are full-time remote workers, freelancers, digital nomads.</p><p>We have a world full of great talent. Designers, developers, writers and other knowledge workers. I‚Äôve been thinking about how to connect RemoteHub talents with people who need their help.</p><p>And now I need a help with one of my own projects (write responsive html/css based on designs) and I thought what a great way to start through this.</p><p>Btw, you can let me know if you‚Äôd like to work on the project:&nbsp;<a href="https://remotehub.io/freelance/mygames-website-development">https://remotehub.io/freelance/mygames-website-development</a></p>
        </div>
                                <div>
            <h2>Fiverr, Upwork etc</h2><p>I know freelancer marketplaces exist and I‚Äôm not looking to compete with them. They are huge. I‚Äôm thinking something much smaller.&nbsp;</p><p>There are many things I don‚Äôt like about these huge freelancer marketplaces. First, they take a lot of money from the talent‚Äôs pocket (20%?). But also because it seems that it‚Äôs mostly about competing about who makes the lowest offer (maybe I‚Äôm wrong about this).<br></p>
        </div>
                                <div>
            <h2>We have profiles here!</h2><p>RemoteHub members <a href="https://remotehub.io/blog/remote-work-user-profiles">build their profiles</a> ‚Äì add something about yourself and list your skills. I should also add a way to showcase your projects!</p>
        </div>
                                <p><img src="https://remotehub.io/storage/posts/screens/K1IOE3jaraShJobbqo7XjHAMiPxB7WaXMQIS1pWN.png"></p><div>
            <h2>How to connect freelancers with clients?</h2><p>One way would be to just let clients post freelance jobs. Title and description. But that‚Äôs quite boring I think.</p><p>Maybe add a way to build out a project with tasks and let clients post their projects. Then freelancers browse these projects with tasks in them and decide if they would like to be part of it. More fun?<br></p><p>I started to play aroung with this and my first project is live (I‚Äôm looking for a freelance html/css human) ‚Äì <b>you can let me know if you‚Äôre interested:</b></p><p><a href="https://remotehub.io/freelance/mygames-website-development">https://remotehub.io/freelance/mygames-website-development</a><br></p><p>I can see a list of members who apply and I can invite someone to the project. I would then work with this person here on RemoteHub, through tasks.</p>
        </div>
                                <div>
            <h2>Where to take this next?</h2><p>Here are some more ideas I‚Äôve been thinking about:</p><p>1. <b>Client can have their network of freelancers.</b> You need something &gt; you create a task &gt; you share it with your network. Someone picks it up and pushes a button "I‚Äôll do it".</p><p>2. <b>Freelancer friends.</b> Client needs a website design + coding and finds a designer on RemoteHub. But this client also needs coding when the design is ready. There can be "freelancer friends" (or something like that) ‚Äì people who have been working together. So they know how to work together. It‚Äôs much better to order coding part from a friend of this designer from someone stranger.&nbsp;</p><p>Happy to talk with you! My email is raumet@hey.com</p>
        </div>
                        </div></div>]]>
            </description>
            <link>https://remotehub.io/blog/freelancers</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757924</guid>
            <pubDate>Tue, 07 Jul 2020 11:09:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How I built a fast SSO utility using Cloudflare Workers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757918">thread link</a>) | @Sandeepg33k
<br/>
July 7, 2020 | https://sandeep.dev/how-hashnode-implements-sso-for-blogs-running-on-custom-domains-ckcae7lrk0012tbs12s03euju | <a href="https://web.archive.org/web/*/https://sandeep.dev/how-hashnode-implements-sso-for-blogs-running-on-custom-domains-ckcae7lrk0012tbs12s03euju">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>As you may know, Hashnode is a community of independent developers who blog on their own domain. Hashnode users discover content published by the bloggers on their feed. Since our users are logged in on Hashnode and <strong>not the custom domains</strong> where the articles live, we had to carry the session forward somehow. </p>
<p>For example, I am logged in on Hashnode, but I am reading a content published on a different Hashnode powered domain. For example:</p>

<p>How do we ensure that my session reflects on this domain so that I can like the post or write a comment?</p>
<h2 id="sso-on-our-own-cloud">SSO on our own cloud</h2>
<p>Initially we relied on third party cookies to do auth. We waited for the page to load fully and then made an API call to Hashnode to fetch the currently logged in user. It worked quite well. However, we soon realized that Safari blocks all third-party cookies!  So, we decided to implement SSO on Hashnode and activated it only for Safari users. Here is the flow:</p>
<ul>
<li>User requests a blog and it hits one of our edge servers.</li>
<li>We detect if the user is on Safari. In that case we redirect them to <code>https://hashnode.com/identity</code> and pass a <code>next</code> query param which is the blog URL.</li>
<li>Hashnode checks for a login cookie. If found, we create a short lived token for the user and store it against a <code>guid</code>. We redirect the user back to the blog by appending <code>guid</code> as a query param.</li>
<li>After being redirected, the blog renders and our JavaScript code pulls in the <code>guid</code> and exchanges it with our server for an auth token.</li>
<li>Subsequent API calls use the auth token and send it in <code>x-auth-token</code> header to authenticate with Hashnode endpoints.</li>
</ul>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1594031517862/FXfL-Qhds.png?auto=format&amp;q=60" alt="hn-authentication-chart.png"></p>
<p>This worked quite well, but as you may have guessed the redirection process took a bit of time. Our edge caching didn't really matter since we redirected the requests to Hashnode before serving the content. But this flow was in place just for Safari. For Chrome, Firefox and other browsers, we served content straightaway from our edge cache and used third-party cookies to communicate with Hashnode.</p>
<p>However, we soon realized that Brave browser also blocks third-party cookies when privacy shield is on. Also, we didn't have any reliable way of knowing whether the request came from Brave browser. The <code>user-agent</code> header simply didn't give any info. A few days later, Chrome also joined the bandwagon and started blocking third-party cookies. Now our only choice was to redirect every request intended for Hashnode-powered domains to <code>https://hashnode.com</code> first and obtain auth token -- that meant we could no longer take advantage of our CDN. SSO would make the blogs slower. </p>
<p>After a few sleepless nights, I thought why not use Cloudflare Workers for implementing SSO? Worker scripts run in 150+ data centres across the globe and can handle millions of redirections easily! The best part is that the requests will be sent to a DC that is closest to the users. This means we can implement an SSO feature without sacrificing the speed and benefits of our own CDN.</p>
<p>So, last week I sat down to build this. Here is how it works:</p>
<h2 id="sso-on-cloudflare-workers">SSO on Cloudflare Workers</h2>
<p>As I mentioned above, we already have a home grown CDN which routes user requests to locations that are geographically closest to our users. Since Workers also factor in geo proximity while serving requests, we came up with the following steps to implement SSO. It's largely same as our previous setup, but the redirection part is handled by Cloudflare Workers.</p>
<ul>
<li><p>Whenever a request comes for any specific domain in our network (e.g. <code>https://sandeep.dev</code>), we redirect the user to <code>https://hashnode.com/identity</code> which is powered by Workers. It passes the current hostname in a query param called <code>next</code>.</p>
</li>
<li><p>The script checks if a login cookie is present in the request. If yes, it generates a short lived JWT token and a GUID. </p>
</li>
<li><p>The script stores the JWT against the generated GUID using Workers KV Store. It redirects the user to URL passed in <code>next</code> query param and sends the GUID along with it.</p>
</li>
<li><p>After redirection happens, the blog exchanges the <code>guid</code> for the short lived JWT and uses it to authenticate API calls.</p>
</li>
</ul>
<p>Here is how the worker script looks like:</p>
<pre><code><span>let</span> next = getQueryParam(request, <span>'next'</span>); 

<span>if</span> (!next) { 
    <span>return</span> Response.redirect(<span>`https://hashnode.com`</span>, <span>302</span>);
}

next = <span>decodeURIComponent</span>(next);

<span>const</span> cookie = getCookie(request, <span>'login.jwt'</span>);

<span>if</span> (!cookie) { 
    <span>return</span> Response.redirect(<span>`<span>${next}</span>?guid=none`</span>, <span>302</span>);
}

<span>const</span> decodedJwt = jwt.verify(cookie, jwtSecret); 
<span>const</span> userId = decodedJwt.data.userId; 

<span>const</span> data = {
    userId: userId,
    expires: <span>new</span> <span>Date</span>().getTime() + (cookieTTL * <span>3600</span> * <span>1000</span>),
    v: <span>1</span>
}

<span>const</span> signedToken = jwt.sign(data, jwtSecret); 
<span>const</span> guid = uuidv4(); 
<span>await</span> guids.put(guid, signedToken, { expirationTtl: <span>60</span> }); 

<span>return</span> Response.redirect(<span>`<span>${next}</span>?guid=<span>${guid}</span>`</span>, <span>302</span>); 
</code></pre>
<p>Once the client extracts the GUID, it makes an API call and retrieves the JWT. Here's workers script for that accepts the GUID and responds back with the JWT:</p>
<pre><code><span>const</span> token = <span>await</span> guids.get(guidFromQuery); 
<span>const</span> origin = request.headers.get(<span>'origin'</span>);

<span>const</span> init = {
  headers: {
    <span>'Content-Type'</span>: <span>'application/json'</span>,
    <span>'Access-Control-Allow-Origin'</span>: origin,
    <span>'Access-Control-Allow-Headers'</span>: <span>'Content-Type'</span>
  }
}
guids.delete(guidFromQuery); 
<span>return</span> <span>new</span> Response(<span>JSON</span>.stringify({ token: token }), init);
</code></pre>
<p>It has been working out really well so far. We don't suffer if third party cookies are blocked in certain browsers. The performance doesn't degrade because the initial redirection is based on geo proximity. For example, if someone is accessing <code>sandeep.dev</code> from Bangalore then the initial redirection always goes to Bangalore/Singapore. Then the actual content is served from Bangalore.</p>
<p>If we take a look at the network tab, we'll notice that the TTFB value is still &lt; 500ms most of the times. The redirection is short and consumes &lt; 300ms. While this setup is slightly slower than serving content from CDN directly (without SSO), it solves one big problem which is <strong>Authentication</strong>. So, the slight reduction in speed is acceptable.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1593956516429/iqKY_B2do.png?auto=format&amp;q=60" alt="Screenshot 2020-07-05 at 7.10.50 PM.png"></p>
<p>The best part is that Workers is handling this gracefully with 100% success rate so far.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1593956822020/FSGo4ZjvC.png?auto=format&amp;q=60" alt="Screenshot 2020-07-05 at 7.14.17 PM.png"></p>
<hr>
<p>This is the first time I used Cloudflare Workers in a prod set up. You should definitely check it out if you have a similar use case. Additionally, do checkout KV store which is a <a target="_blank" rel="noopener noreferrer" href="https://blog.cloudflare.com/building-with-workers-kv/">fast distributed key-value store</a>.</p>
</div></div>]]>
            </description>
            <link>https://sandeep.dev/how-hashnode-implements-sso-for-blogs-running-on-custom-domains-ckcae7lrk0012tbs12s03euju</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757918</guid>
            <pubDate>Tue, 07 Jul 2020 11:08:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Concurrency Cost Hierarchy]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757786">thread link</a>) | @signa11
<br/>
July 7, 2020 | https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html | <a href="https://web.archive.org/web/*/https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    
<!-- boilerplate 
page.assets: /assets/concurrency-costs
assetpath: /assets/concurrency-costs
tablepath: /misc/tables/concurrency-costs
-->

<h2 id="introduction">Introduction</h2>

<p>Concurrency is hard to get <em>correct</em>, at least for those of us unlucky enough to be writing in languages which expose directly the guts of concurrent hardware: threads and shared memory. Getting concurrency correct <em>and</em> fast is hard, too. Your knowledge about single-threaded optimization often won‚Äôt help you: at a micro (instruction) level we can‚Äôt simply apply the usual rules of Œºops, dependency chains, throughput limits, and so on. The rules are different.</p>

<p>If that first paragraph got your hopes up, this second one is here to dash them: I‚Äôm not actually going to do a deep dive into the very low level aspects of concurrent performance. There are a lot of things we just don‚Äôt know about how atomic instructions and fences execute, and we‚Äôll save that for another day.</p>

<p>Instead, I‚Äôm going to describe a higher level taxonomy that I use to think about concurrent performance. We‚Äôll group the performance of concurrent operations into six broad <em>levels</em> running from fast to slow, with each level differing from its neighbors by roughly an order of magnitude in performance.</p>

<p>I often find myself thinking in terms of these categories when I need high performance concurrency: what is the best level I can practically achieve for the given problem? Keeping the levels in mind is useful both during initial design (sometimes a small change in requirements or high level design can allow you to achieve a better level), and also while evaluating existing systems (to better understand existing performance and evaluate the path of least resistance to improvements).</p>

<h3 id="a-real-world-example">A ‚ÄúReal World‚Äù Example</h3>

<p>I don‚Äôt want this to be totally abstract, so we will use a real-world-if-you-squint<sup id="fnref:realworld"><a href="#fn:realworld">1</a></sup> running example throughout: safely incrementing an integer counter across threads. By <em>safely</em> I mean without losing increments, producing out-of-thin air values, frying your RAM or making more than a minor rip in space-time.</p>

<h3 id="source-and-results">Source and Results</h3>

<p>The source for every benchmark here is <a href="https://github.com/travisdowns/concurrency-hierarchy-bench">available</a>, so you can follow along and even reproduce the results or run the benchmarks on your own hardware. All of the results discussed here (and more) are available in the same repository, and each plot includes a <code>[data table]</code> link to the specific subset used to generate the plot.</p>

<h3 id="hardware">Hardware</h3>

<p>All of the performance results are provided for several different hardware platforms: Intel Skylake, Ice Lake, Amazon Graviton and Graviton 2. However except when I explicitly mention other hardware, the prose refers to the results on Skylake. Although the specific numbers vary, most of the qualitative relationships hold for the hardware too, but <em>not always</em>. Not only does the hardware vary, but the OS and library implementations will vary as well.</p>

<p>It‚Äôs almost inevitable that this will be used to compare across hardware (‚Äúwow, Graviton 2 sure kicks Graviton 1‚Äôs ass‚Äù), but that‚Äôs not my goal here. The benchmarks are written primarily to tease apart the characteristics of the different levels, and <em>not</em> as a hardware shootout.</p>

<p>Find below the details of the hardware used:</p>

<table>
  <thead>
    <tr>
      <th>Micro-architecture</th>
      <th>ISA</th>
      <th>Model</th>
      <th>Tested Frequency</th>
      <th>Cores</th>
      <th>OS</th>
      <th>Instance Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Skylake</td>
      <td>x86</td>
      <td>i7-6700HQ</td>
      <td>2.6 GHz</td>
      <td>4</td>
      <td>Ubuntu 20.04</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Ice Lake</td>
      <td>x86</td>
      <td>i5-1035G4</td>
      <td>3.3 GHz</td>
      <td>4</td>
      <td>Ubuntu 19.10</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Graviton</td>
      <td>AArch64</td>
      <td>Cortex-A72</td>
      <td>2.3 GHz</td>
      <td>16</td>
      <td>Ubuntu 20.04</td>
      <td>a1.4xlarge</td>
    </tr>
    <tr>
      <td>Graviton 2</td>
      <td>AArch64</td>
      <td>Neoverse N1</td>
      <td>2.5 GHz</td>
      <td>16<sup id="fnref:g2cores"><a href="#fn:g2cores">2</a></sup></td>
      <td>Ubuntu 20.04</td>
      <td>c6g.4xlarge</td>
    </tr>
  </tbody>
</table>

<h2 id="level-2-contended-atomics">Level 2: Contended Atomics</h2>

<p>You‚Äôd probably expect this hierarchy to be introduced from fast to slow, or vice-versa, but we‚Äôre all about defying expectations here and we are going to start in the <em>middle</em> and work our way outwards. The middle (rounding down) turns out to be <em>level 2</em> and that‚Äôs where we will jump in.</p>

<p>The most elementary way to safely modify any shared object is to use a lock. It mostly <em>just works</em> for any type of object, no matter its structure or the nature of the modifications. Almost any mainstream CPU from the last thirty years has some type of locking<sup id="fnref:parisc"><a href="#fn:parisc">3</a></sup> instruction accessible to userspace.</p>

<p>So our baseline increment implementation will use a simple mutex of type <code>T</code> to protect a plain integer variable:</p>

<div><div><pre><code><span>T</span> <span>lock</span><span>;</span>
<span>uint64_t</span> <span>counter</span><span>;</span>

<span>void</span> <span>bench</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>std</span><span>::</span><span>lock_guard</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>holder</span><span>(</span><span>lock</span><span>);</span>
        <span>counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>We‚Äôll call this implementation <em><abbr title="Uses a std::mutex and std::lock_guard to protect a plain integer counter.">mutex add</abbr></em>, and on my 4 CPU Skylake-S i7-6700HQ machine, when I use the vanilla <code>std::mutex</code> I get the following results for 2 to 4 threads:</p>



<p>The reported value is the median of all trials, and the vertical black error lines at the top of each bar indicate the <em>interdecile range</em>, i.e., the values at the 10th and 90th percentile. Where the error bars don‚Äôt show up, it means there is no difference between the p10 and p90 values at all, at least within the limits of the reporting resolution (100 picoseconds).</p>

<p>This shows that the baseline contended cost to modify an integer protected by a lock starts at about 125 nanoseconds for two threads, and grows somewhat with increasing thread count.</p>

<p>I can already hear someone saying: <em>If you are just modifying a single 64-bit integer, skip the lock and just directly use the atomic operations that most ISAs support!</em></p>

<p>Sure, let‚Äôs add a couple of variants that do that. The <code>std::atomic&lt;T&gt;</code> template makes this easy: we can wrap any type meeting some basic requirements and then manipulate it atomically. The easiest of all is to use <code>std::atomic&lt;uint64&gt;::operator++()</code><sup id="fnref:post"><a href="#fn:post">4</a></sup> and this gives us <em><abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>atomic_counter</span><span>{};</span>

<span>void</span> <span>atomic_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>atomic_counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The other common approach would be to use <a href="https://en.wikipedia.org/wiki/Compare-and-swap">compare and swap (<abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>)</a> to load the existing value, add one and then <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> it back if it hasn‚Äôt changed. If it <em>has</em> changed, the increment raced with another thread and we try again.</p>

<p>Note that even if you use increment at the source level, the assembly might actually end up using <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> if your hardware doesn‚Äôt support atomic increment<sup id="fnref:atomicsup"><a href="#fn:atomicsup">5</a></sup>, or if your compiler or runtime just don‚Äôt take advantage of atomic operations even though they are available (e.g., see what even the newest version of <a href="https://godbolt.org/z/5h4K7y">icc does</a> for atomic increment, and what Java did for years<sup id="fnref:java"><a href="#fn:java">6</a></sup>). This caveat doesn‚Äôt apply to any of our tested platforms, however.</p>

<p>Let‚Äôs add a counter implementation that uses <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> as described above, and we‚Äôll call it <em><abbr title="Uses a CAS loop to increment a single shared counter.">cas add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>cas_counter</span><span>;</span>

<span>void</span> <span>cas_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>uint64_t</span> <span>v</span> <span>=</span> <span>cas_counter</span><span>.</span><span>load</span><span>();</span>
        <span>while</span> <span>(</span><span>!</span><span>cas_counter</span><span>.</span><span>compare_exchange_weak</span><span>(</span><span>v</span><span>,</span> <span>v</span> <span>+</span> <span>1</span><span>))</span>
            <span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Here‚Äôs what these look like alongside our existing <code>std::mutex</code> benchmark:</p>



<p>The first takeaway is that, at least in this <em>unrealistic maximum contention</em> benchmark, using <abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr> (<a href="https://www.felixcloutier.com/x86/xadd"><code>lock xadd</code></a> at the hardware level) is significantly better than <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>. The second would be that <code>std::mutex</code> doesn‚Äôt come out looking all that bad on Skylake. It is only slightly worse than the <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> approach at 2 cores and beats it at 3 and 4 cores. It is slower than the atomic increment approach, but less than three times as slow and seems to be scaling in a reasonable way.</p>

<p>All of these operations are belong to <em>level 2</em> in the hierarchy. The primary characteristic of level 2 is that they make a <em>contended access</em> to a shared variable. This means that at a minimum, the line containing the data needs to move out to the caching agent that manages coherency<sup id="fnref:l3"><a href="#fn:l3">7</a></sup>, and then back up to the core that will receive ownership next. That‚Äôs about 70 cycles minimum just for that operation<sup id="fnref:inter"><a href="#fn:inter">8</a></sup>.</p>

<p>Can it get slower? You bet it can. <em>Way</em> slower.</p>

<h3 id="level-3-system-calls">Level 3: System Calls</h3>

<p>The next level up (‚Äúup‚Äù is not good here‚Ä¶) is level 3. The key characteristic of implementations at this level is that they make a <em>system call on almost every operation</em>.</p>

<p>It is easy to write concurrency primitives that make a system call <em>unconditionally</em> (e.g., a lock which always tries to wake waiters via a <code>futex(2)</code> call, even if there aren‚Äôt any), but we won‚Äôt look at those here. Rather we‚Äôll take a look at a case where the fast path is written to avoid a system call, but the design or way it is used implies that such a call usually happens anyway.</p>

<p>Specifically, we are going to look at some <em>fair locks</em>. Fair locks allow threads into the critical section in the same order they began waiting. That is, when the critical section becomes available, the thread that has been waiting the longest is given the chance to take it.</p>

<p>Sounds like a good idea, right? Sometimes yes, but as we will see it can have significant performance implications.</p>

<p>On the menu are three different fair locks.</p>

<p>The first is a <a href="https://en.wikipedia.org/wiki/Ticket_lock">ticket lock</a> with a <code>sched_yield</code> in the spin loop. The idea of the yield is to give other threads which may hold the lock time to run. This <code>yield()</code> approach is publicly frowned upon by concurrency experts<sup id="fnref:notwhat"><a href="#fn:notwhat">9</a></sup>, who then sometimes go right ahead and use it anyway.</p>

<p>We will call it <abbr title="A ticket lock that calls sched_yield in a spin loop while waiting for its turn.">ticket yield</abbr> and it looks like this:</p>



<div><div><pre><code><span>/**
 * A ticket lock which uses sched_yield() while waiting
 * for the ticket to be served.
 */</span>
<span>class</span> <span>ticket_yield</span> <span>{</span>
    <span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>size_t</span><span>&gt;</span> <span>dispenser</span><span>{},</span> <span>serving</span><span>{};</span>

<span>public:</span>
    <span>void</span> <span>lock</span><span>()</span> <span>{</span>
        <span>auto</span> <span>ticket</span> <span>=</span> <span>dispenser</span><span>.</span><span>fetch_add</span><span>(</span><span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_relaxed</span><span>);</span>

        <span>while</span> <span>(</span><span>ticket</span> <span>!=</span> <span>serving</span><span>.</span><span>load</span><span>(</span><span>std</span><span>::</span><span>memory_order_acquire</span><span>))</span>
            <span>sched_yield</span><span>();</span>
    <span>}</span>

    <span>void</span> <span>unlock</span><span>()</span> <span>{</span>
        <span>serving</span><span>.</span><span>store</span><span>(</span><span>serving</span><span>.</span><span>load</span><span>()</span> <span>+</span> <span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_release</span><span>);</span>
    <span>}</span>
<span>};</span>
</code></pre></div></div>

<p>Let‚Äôs plot the performance results for this lock alongside the existing approaches:</p>



<p>This is level 3 visualized: it is an order of magnitude slower than the level 2 approaches. The slowdown comes from the <code>sched_yield</code> call: this is a system call and these are generally on the order of 100s of nanoseconds<sup id="fnref:spectre"><a href="#fn:spectre">10</a></sup>, and it shows in the results.</p>

<p>This lock <em>does</em> have a fast path where <code>sched_yield</code> isn‚Äôt called: if the lock is available, no spinning occurs and <code>sched_yield</code> is never called. However, the combination of being a <em>fair</em> lock and the high contention in this test means that a lock convoy quickly forms (we‚Äôll describe this in more detail later) and so the spin loop is entered basically ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</a></em></p>]]>
            </description>
            <link>https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757786</guid>
            <pubDate>Tue, 07 Jul 2020 10:51:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Event-Streaming: An Additional Architectural Style to Supplement API Design]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757781">thread link</a>) | @derberg
<br/>
July 7, 2020 | https://www.asyncapi.com/blog/event-streaming-an-additional-architectural-style-to-suplement-api-design/ | <a href="https://web.archive.org/web/*/https://www.asyncapi.com/blog/event-streaming-an-additional-architectural-style-to-suplement-api-design/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<blockquote>
<p>This post originally appeared on <a href="https://medium.com/capital-one-tech/event-streaming-an-additional-architectural-style-to-supplement-api-design-703c4f801722" target="_blank">Capital One Tech</a></p>
</blockquote>

<p>The growth and adoption of web-based APIs is key to the transformational technology journey of any enterprise. Those APIs, whether they are RESTful or not, remain synchronous. They, like the web, utilize the pattern of HTTP to implement a request-response interaction approach.</p>

<p>To illustrate, assume we have a project management API with the following interactions:</p>

<ol>
<li>Create a project (e.g. POST /projects)</li>
<li>Create a new task (e.g. POST /projects/{projectId}/tasks)</li>
<li>Assign the task to someone on our team (e.g. POST /tasks/{taskId}/assignees)</li>
<li>The assignee marks the task as complete (e.g. PUT /tasks/{taskId})</li>
</ol>

<p>An API following this design works if design of the user interface closely mirrors those endpoints. But suppose an additional application requirement is to ‚Äòautomatically‚Äô update a task‚Äôs status when marked complete by another user. With a request/response web-API, an option is to incessantly poll a status API on the chance a status might have changed. This is both cumbersome and error-prone.
Instead of polling, we can introduce an <strong>event-driven architecture</strong>.</p>

<h2 id="introduction-to-event-driven-architecture">Introduction to Event-Driven Architecture<a href="#introduction-to-event-driven-architecture" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>In an event-driven architecture (or EDA), an application is composed of independent components that react to events published by other components. EDA is popular for distributed applications, as new components may be introduced into a solution to solve emerging problems ‚Äî without the knowledge of previously developed components. Message brokers are used as an intermediary for communication, producing a loosely coupled design by preventing components from directly communicating with one another.</p>

<p>If you are familiar with service-oriented architecture (SOA), you have experienced EDA. Most service-oriented architectures used an enterprise service bus (ESB) for service communication rather than a message broker. Events were published to the ESB, where they were then routed to other services to integrate two or more software systems. However, ESBs proved problematic as they were used as ‚Äúintegration glue‚Äù, causing integration code to become scattered across services, apps, and the ESB; fragile systems were created. This fragility produced a greater need for coordination between teams, slowing software delivery.</p>

<h2 id="the-emergence-of-a-microservice-and-event-driven-architecture">The Emergence of a Microservice and Event-Driven Architecture<a href="#the-emergence-of-a-microservice-and-event-driven-architecture" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>To overcome this increased coordination, the microservice architecture was introduced as a replacement for traditional SOA. This newer distributed architecture, built on APIs and microservices, encourages ‚Äúdumb pipes, smart endpoints.‚Äù Integration logic is pushed to the consumers and producers. Message brokers, rather than ESBs, are used for message routing, not integration logic. Services and APIs talk to one another while hiding implementation details. This loose coupling makes software more resilient to evolution as new requirements emerge.</p>

<p>As enterprises shift to APIs backed by a microservice architecture, the number of published events has grown considerably. Message brokers are typically transactional in nature, ensuring once-and-only-once delivery of messages. While useful for traditional software development, the transactional nature of message brokers limits the scalability of service communication.</p>

<p>Distributed streaming data platforms, such as Apache Kafka, now offer enterprises higher throughput than traditional message brokers. Kafka removes the need for transactional messaging found in message brokers, opting instead for turning events into message streams. These streams are accessible by any authorized subscriber and may be accessed real-time or processed sequentially from a predetermined location or at the start of the stream.</p>

<h2 id="api-design-with-event-streaming">API Design with Event Streaming<a href="#api-design-with-event-streaming" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>Event streams help software extend beyond the request-response approach common to web API styles such as REST, GraphQL, and gRPC. Software can communicate bi-directionally, removing the need for API consumers to continually poll for state changes. Instead, APIs publish events to an event stream for notification of data changes or important business events to any number of subscribed services for further processing.</p>

<p>Let‚Äôs revisit our previous example. We needed to solve two separate requirements:</p>

<ol>
<li>Notification when a task is marked as completed. Our only option without a message-driven architecture is to require interested parties to constantly make API calls to see if the task has been completed (aka polling)</li>
<li>Alerting a project owner when a task has been modified or marked as completed. Our only option is to mix our user interface concerns with our API by making the API send an email. The API is no longer responsible for managing projects and tasks ‚Äî it is now responsible for the content and look-and-feel for email alerts</li>
</ol>

<p>If we introduce a message-driven architecture to our solution, we can develop an API that delivers project and task resources that offer the necessary capabilities (create, read, update, delete, and mark as complete). Our API doesn‚Äôt need to know about how the task completion event notification will be used, including that an email will be sent. All it needs to do is publish event messages when those events occur and allow other services to take action as appropriate. Events this API may publish include:</p>

<p><img src="https://www.asyncapi.com/images/posts/event-streaming-an-additional-architectural-style-to-suplement-api-design/event-examples.webp" alt="Example of API events" title="Example of API events"></p>

<p>Interested parties can then subscribe to the event(s) they are interested in and safely ignore the rest. In our example, we may end up with three components:</p>

<ol>
<li><strong>Projects API</strong> ‚Äî Manages the Projects and Project Tasks resources via a REST-based API. The API may be comprised of one or more microservices that implement the capabilities offered by the REST API. When any event, from the list in the table above, occurs then the API publishes an event into the appropriate message stream for consumption by event subscribers</li>
<li><strong>Task Completed Email Microservice</strong> ‚Äî Subscribes to the Task.Completed event, notifying project manager(s) via email when any task has been marked as completed</li>
<li><strong>Task Modified Email Microservice</strong> ‚Äî Subscribes to the Task.Updated event, notifying all team members via email when any task has been edited</li>
</ol>

<p>The API has no awareness of the two microservices subscribed to the specific events; it just publishes the events to the appropriate message stream. The solution is considered loosely coupled and therefore capable of evolving over time as new requirements emerge, perhaps with new types of notifications (e.g. SMS, web dashboard alerts) or integrations (e.g. synching to JIRA).</p>

<h2 id="conclusion">Conclusion<a href="#conclusion" arialabel="Anchor"> #Ô∏é</a> </h2>

<p>The demand for more robust methods of software communication is pushing the limits of today‚Äôs interface solutions. Request/response-based APIs are essential. However, today‚Äôs technical problems are now demanding event-driven support ‚Äî in addition to request/response ‚Äî to improve an API‚Äôs capability offerings.</p>

<p>As API designers, we must strive to use all available tools to offer a better developer experience. As you enhance your existing APIs and new APIs emerge, ask yourself:</p>

<ol>
<li>How can my solution architecture be improved by moving beyond standard REST APIs and into a loosely-coupled event-driven architecture?</li>
<li>What events should my API publish that would benefit API consumers?</li>
<li>How will my API consumers benefit from the addition of these events and how do they take advantage of them?</li>
</ol>

<p>Let‚Äôs shift our approach from strictly request-response to thinking in terms of how our APIs can not only offer endpoints for requests, but events that enable the API to push to other services. The result will be increased innovation and more transformative APIs both within and across our LOBs.</p>
</div></div>]]>
            </description>
            <link>https://www.asyncapi.com/blog/event-streaming-an-additional-architectural-style-to-suplement-api-design/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757781</guid>
            <pubDate>Tue, 07 Jul 2020 10:50:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Snapchat Detection on iOS (2019)]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 35 (<a href="https://news.ycombinator.com/item?id=23757666">thread link</a>) | @mpweiher
<br/>
July 7, 2020 | https://aeonlucid.com/Snapchat-detection-on-iOS/ | <a href="https://web.archive.org/web/*/https://aeonlucid.com/Snapchat-detection-on-iOS/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Previously we took a look at <a href="https://aeonlucid.com/Snapchat-detection-on-Android/">Snapchat‚Äôs root detection methods on Android</a>. This time we are taking a look at how they detect jailbreaks, tweaks and hooks on iOS.</p>



<p>All the research in this post is based on Snapchat 10.65.0.66 (832559634).</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_login_message.png" alt="Login Message">
</p>

<p>This is the message you see when you try to login with a detected tweak, although not all tweaks trigger this message. Two examples that trigger this message are <a href="http://cydia.saurik.com/package/com.johncoates.flex3/">Flex 3</a> and <a href="https://www.reddit.com/r/jailbreak/comments/9baacc/release_wraith_snapchatphantom_replacement/">Wraith</a>. Some just flag your account and will get you banned later in a ban wave if you are unlucky.</p>

<h2 id="avoiding-bans">Avoiding bans</h2>

<p>So obviously the first thing we want to look at is, what has the community tried so far to stay hidden? If you google around a bit you will most likely end up with these result. For a few of them, I will list the most notable features.</p>

<ul>
  <li>NoSub (or variants)
    <ul>
      <li>Disable Cydia Substrate / Substitute entirely for specific apps.</li>
      <li>Only if you can find an updated version and don‚Äôt want to use tweaks on Snapchat.</li>
    </ul>
  </li>
  <li><a href="https://github.com/NepetaDev/UnSub/blob/master/Tweak/Tweak.xm">UnSub</a>
    <ul>
      <li>Hooks and filters libc file system calls.</li>
      <li>Spoofs the libc getenv to remove the <code>DYLD_INSERT_LIBRARIES</code> variable.</li>
      <li>Spoofs <code>_dyld_image_count</code> and <code>_dyld_get_image_name</code> to hide tweak related dylibs.</li>
    </ul>
  </li>
  <li><a href="https://github.com/jjolano/shadow/blob/master/Tweak.xm">Shadow</a>
    <ul>
      <li>Too much to list.. it hooks way too much.</li>
      <li>Still misses lots of stuff for Snapchat specifically.</li>
    </ul>
  </li>
</ul>

<p>Even <a href="https://support.snapchat.com/en-US/a/jailbroken-iphone">Snapchat themselves recommend NoSub</a>..</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_snapchat_jailbroken_support.png" alt="Login Message">
</p>

<p>But it seems that nobody knows what Snapchat is <strong>exactly</strong> doing to detect everything. Which is why I am writing this post. Only one that I have seen <a href="https://twitter.com/cokepokes/status/1023114963550797824">publicly making efforts</a> to figure this out is the developer of Phantom, CokePokes.</p>

<h2 id="how-are-they-doing-it">How are they doing it?</h2>

<p>I will try my best to explain every check they do in Snapchat 10.65.0.66.</p>

<p>When you launch the app they create a new thread using <a href="http://man7.org/linux/man-pages/man3/pthread_create.3.html">pthread_create</a> that runs all the checks. At the end of these checks an integer is stored with flags of everything that was detected on the device. Some of these checks are then ran every 31 seconds.</p>

<p>All the code executed for these checks is obfuscated with <a href="https://www.crunchbase.com/organization/strong-codes">Snapchats in-house obfuscation tools</a> and thus very annoying to look at using tools such as IDA.</p>

<h3 id="code-signature-checks">Code signature checks</h3>

<p>One of the first things they do is checking and storing stuff from the code signature. This happens using the <code>sys_csops(169)</code> syscall, which is pretty much undocumented but is very similar to the code here.</p>

<ul>
  <li><a href="https://fergofrog.com/code/cbowser/xnu/bsd/kern/kern_proc.c.html#csops">xnu/bsd/kern/kern_proc.c.html#csops</a></li>
  <li><a href="https://fergofrog.com/code/cbowser/xnu/bsd/kern/kern_proc.c.html#csops_internal">xnu/bsd/kern/kern_proc.c.html#csops_internal</a></li>
</ul>

<p>They execute the following operations:</p>

<ul>
  <li><code>CS_OPS_STATUS</code></li>
  <li><code>CS_OPS_CDHASH</code></li>
  <li><code>CS_OPS_ENTITLEMENTS_BLOB</code></li>
</ul>

<p>The most important one of this is the <code>CS_OPS_STATUS</code>, this retrieves the current codesigning status of the process. A jailbroken device can respond with messy status flags. Such as:</p>

<ul>
  <li><code>CS_GET_TASK_ALLOW</code></li>
  <li><code>CS_INSTALLER</code></li>
  <li><code>CS_PLATFORM_BINARY</code></li>
  <li><code>CS_DEBUGGED</code> (Process was debugged / is being debugged)</li>
  <li>Or missing <code>CS_VALID</code>.</li>
</ul>

<p>A normal device would have these flags:</p>

<ul>
  <li><code>CS_VALID</code></li>
  <li><code>CS_HARD</code></li>
  <li><code>CS_KILL</code></li>
  <li><code>CS_ENFORCEMENT</code></li>
  <li><code>CS_REQUIRE_LV</code></li>
  <li><code>CS_DYLD_PLATFORM</code></li>
  <li><code>CS_SIGNED</code></li>
</ul>

<p>For all available flags and their descriptions, see <a href="https://fergofrog.com/code/cbowser/xnu/BUILD/obj/EXPORT_HDRS/osfmk/kern/cs_blobs.h.html#_M/CS_VALID">this page</a>.</p>

<p>The result of <code>CS_OPS_STATUS</code> and <code>CS_OPS_CDHASH</code> are stored and later sent to the Snapchat servers, encrypted.</p>

<h3 id="bundle-check">Bundle check</h3>

<p>This is a simple check but quite effective if not noticed by a tweak developer. Pseudo code looks like this.</p>

<div><div><pre><code>x0 = CFBundleGetMainBundle()
x1 = CFBundleGetIdentifier(x0)
x2 = CFStringGetCStringPtr(x1)
strncmp("com.toyopagroup.picaboo", x2)
</code></pre></div></div>

<h3 id="dyld-check">Dyld check</h3>

<p>Snapchat has two methods to iterate all loaded dylibs.</p>

<h4 id="first-attempt">First attempt</h4>

<p>One way is using <a href="https://github.com/theos/sdks/blob/master/iPhoneOS11.2.sdk/usr/include/mach-o/dyld.h#L48">dyld_get_image_header</a> and <a href="http://man7.org/linux/man-pages/man3/dladdr1.3.html">dladdr</a>. They iterate over <code>dyld_get_image_header</code> until it returns null and checks if it has seen everything with <a href="https://github.com/theos/sdks/blob/master/iPhoneOS11.2.sdk/usr/include/mach-o/dyld.h#L47">dyld_image_count</a>. The <code>dladdr</code> method provides them with the path of the dylib. These are checked against a few unknown strings but removing everything substrate related from the dyld list fixes this check.</p>

<h4 id="second-attempt">Second attempt</h4>

<p>The other method they use is calling <a href="https://developer.apple.com/documentation/kernel/1537934-task_info">task_info</a> with flavor <code>TASK_DYLD_INFO</code>. This also gives them a list of all loaded dylibs and must be fixed separately from the first dyld check.</p>

<h3 id="file-system-checks">File system checks</h3>

<p>There are a couple of file system checks, of which all use the <code>sys_access(33)</code> syscall.</p>

<h4 id="first-list">First list</h4>

<ul>
  <li>/Library/Application Support/PhLite/phlite.bundle/AuthAPI.pem</li>
  <li>/private/var/tmp/cydia.log</li>
  <li>/bin/bash</li>
  <li>/usr/sbin/sshd</li>
  <li>/usr/libexec/ssh-keysign</li>
  <li>/usr/libexec/sftp-server</li>
  <li>/etc/ssh/sshd_config</li>
  <li>/.installed_yaluX</li>
  <li>/Library/LaunchDaemons/dropbear.plist</li>
  <li>/usr/local/bin/dropbear</li>
  <li>/System/Library/Caches/com.apple.dyld/enable-dylibs-to-override-cache</li>
  <li>/.cydia_no_stash</li>
  <li>/var/log/jailbreakd-stdout.log</li>
  <li>/etc/motd</li>
  <li>/usr/lib/libsubstitute.dylib</li>
  <li>/var/tmp/slide.txt</li>
</ul>

<h4 id="second-list">Second list</h4>

<ul>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/Ghay</li>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/Snapchat.crc</li>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/embedded.mobileprovision</li>
</ul>

<h4 id="last-one-and-expected-to-exist">Last one (and expected to exist)</h4>

<ul>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/PlugIns</li>
</ul>

<p>The last one makes it a bit harder to fix, since you can not simply replace the arm instructions with something that makes it always return false. Thus requiring an inline hook as replacement for the syscall so you gain full control over it.</p>

<h3 id="obj-c---class-checks">Obj-C - Class checks</h3>

<p>A lot of classes are checked from a lot of different tweaks. This is done using <a href="https://developer.apple.com/documentation/objectivec/1418952-objc_getclass">objc_getClass</a>.</p>

<ul>
  <li><code>SCOthmanPrefs</code></li>
  <li><code>SCOthmanSnapSaver</code></li>
  <li><code>SCOFiltersOthman</code></li>
  <li><code>SCSnapchPrefs</code></li>
  <li><code>SCSnapchLocation</code></li>
  <li><code>SCOFiltersSnapch</code></li>
  <li><code>PHSnapSaver</code></li>
  <li><code>PHRegisterViewController</code></li>
  <li><code>phlite</code></li>
  <li><code>dfnvrknsv</code></li>
  <li><code>PHSSaver</code></li>
  <li><code>PHMainSettingsVC</code></li>
  <li><code>SCPPrivacySettings</code></li>
  <li><code>SCPSettings</code></li>
  <li><code>SCPSavedMediaSettings</code></li>
  <li><code>SNAPCHAT_SCPSnapUsageSettings</code></li>
  <li><code>SNAPCHAT_SCPSegmentedController</code></li>
  <li><code>SNAPCHAT_CZPickerView</code></li>
  <li><code>CTAdBase</code></li>
  <li><code>CTRequestModel</code></li>
  <li><code>CTBannerView</code></li>
  <li><code>CPAdManager</code></li>
  <li><code>MMNativeAdController</code></li>
  <li><code>TweakBoxStartupManager</code></li>
  <li><code>SNAPCHAT_GPHelper</code></li>
  <li><code>SCKsausaPrefs</code></li>
  <li><code>SCSCGoodSnapSaver</code></li>
  <li><code>SNAPCHAT_XXXXXXX_GPHelper</code></li>
  <li><code>SCOFiltersHelper</code></li>
  <li><code>_xxx</code></li>
  <li><code>PHSSaver</code></li>
  <li><code>SIGMAPOINT_GPHelper</code></li>
  <li><code>SCS     SnapSaver</code></li>
  <li><code>SCW    wSnapSaver</code></li>
  <li><code>CYJSObject</code></li>
  <li><code>P         D</code></li>
  <li><code>R              t</code></li>
  <li><code>AVCameraViewControlIer</code></li>
  <li><code>SCAppDeIegate</code></li>
  <li><code>FLEXManager</code></li>
  <li><code>oJXM</code></li>
  <li><code>fJWs</code></li>
  <li><code>yytp</code></li>
  <li><code>FLManager</code></li>
  <li><code>DecryptScriptAlertView</code></li>
  <li><code>DzAdsManager</code></li>
</ul>

<h3 id="obj-c---method-checks">Obj-C - Method checks</h3>

<p>They also check methods. This happens using <a href="https://developer.apple.com/documentation/objectivec/1418952-objc_getclass">objc_getClass</a> and then <a href="https://developer.apple.com/documentation/objectivec/1418530-class_getinstancemethod">class_getInstanceMethod</a>. If any exists, you get flagged.</p>

<ul>
  <li><code>NSMutableString</code>
    <ul>
      <li><code>a</code></li>
      <li><code>b</code></li>
      <li><code>c</code></li>
    </ul>
  </li>
  <li><code>SCAppDelegate</code>
    <ul>
      <li><code>MZ42SGH98C:</code></li>
    </ul>
  </li>
  <li><code>SCOperaPageViewController</code>
    <ul>
      <li><code>saveButtonPressed</code></li>
    </ul>
  </li>
  <li><code>UIViewController</code>
    <ul>
      <li><code>dzDidTapGalleryButton</code></li>
    </ul>
  </li>
</ul>

<h3 id="obj-c---method-integrity-checks">Obj-C - Method integrity checks</h3>

<p>Next up is Snapchats own methods. For the classes listed below they first call <a href="https://developer.apple.com/documentation/objectivec/1418490-class_copymethodlist">class_copyMethodList</a>. Then for every <a href="https://developer.apple.com/documentation/objectivec/method?language=objc">Method</a> they check if the <code>IMP</code> pointer (address of the function) is within its own <code>__text</code> segment. This is how they detect whether a method has been hooked.</p>

<ul>
  <li><code>SCAppDelegate</code></li>
  <li><code>MainViewController</code></li>
  <li><code>SCChatMainViewController</code></li>
  <li><code>SCChatViewControllerV3</code></li>
  <li><code>SCScreenshotDetector</code></li>
  <li><code>SCBaseMediaOperaPresenter</code></li>
  <li><code>SCOperaPageViewController</code></li>
  <li><code>SCLoginService</code></li>
  <li><code>SCAdsHoldoutExperimentContext</code></li>
  <li><code>SCExperimentManager</code></li>
  <li><code>SCCaptionDefaultTextView</code></li>
  <li><code>SCChatTypingHandler</code></li>
  <li><code>Story</code></li>
  <li><code>SCChatMessageV3</code></li>
  <li><code>SCOperaViewersLayer</code></li>
</ul>

<p>Thanks to <code>dzan</code> for telling me to check the <code>__text</code> segment. :-)</p>

<h3 id="symbol-checks">Symbol checks</h3>

<p>They also check for a couple of symbols using <a href="https://linux.die.net/man/3/dlsym">dlsym</a>. If the result is not null, you get flagged.</p>

<ul>
  <li><code>MSHookMessageEx</code></li>
  <li><code>MSHookFunction</code></li>
  <li><code>_Z17replaced_readlinkPKcPcm</code></li>
  <li><code>hooksArray</code></li>
  <li><code>_OBJC_METACLASS_$__xxx</code></li>
  <li><code>_OBJC_CLASS_$_PHSSaverV2</code></li>
  <li><code>plist</code></li>
  <li><code>flexBreakPoint</code></li>
  <li><code>convert_coordinates_from_device_to_interface</code></li>
  <li><code>OBJC_METACLASS_$_DzSnapHelper</code></li>
  <li><code>ChKey2</code></li>
</ul>

<h3 id="symbol-hook-checks">Symbol hook checks</h3>

<p>A few symbols are resolved using <a href="https://linux.die.net/man/3/dlsym">dlsym</a> to check whether they have been hooked. They first resolve <code>dlsym</code> using <code>dlsym</code>.. yeah.. That result gets used for the <code>dlsym</code> of the symbols below. For every address returned, the first 4 bytes are checked for common hook related instructions.</p>

<ul>
  <li><code>dlsym</code></li>
  <li><code>objc_getClass</code></li>
  <li><code>class_getInstanceMethod</code></li>
  <li><code>sel_registerName</code></li>
  <li><code>class_copyMethodList</code></li>
  <li><code>_dyld_image_count</code></li>
  <li><code>_dyld_get_image_header</code></li>
  <li><code>dladdr</code></li>
</ul>

<h3 id="environment-variables">Environment variables</h3>

<p>I need to be honest, this is a very annoying way how they check for injection because it is annoying to fix. Instead of using <a href="http://man7.org/linux/man-pages/man3/getenv.3.html">getenv</a> they use the <a href="http://sourceware.org/git/?p=glibc.git;a=blob;f=posix/environ.c">environ</a> variable. Since it is a variable, you can not ‚Äúhook‚Äù it.</p>

<p>At least the following variables are detected.</p>

<ul>
  <li><code>DYLD_INSERT_LIBRARIES=/usr/lib/TweakInject.dylib</code></li>
  <li><code>_MSSafeMode=0</code></li>
</ul>

<h3 id="sandbox-check">Sandbox check</h3>

<p>Probably not an issue for anyone.</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_sandbox.png" alt="iOS sandbox">
</p>

<h3 id="fingerprinting">Fingerprinting</h3>

<p>Not much detection done here but still relevant, using <code>sys_sysctl(202)</code> they request at least the following properties.</p>

<ul>
  <li><code>kern.version</code></li>
  <li><code>kern.osversion</code></li>
  <li><code>kern.proc.pid.&lt;PID&gt;</code></li>
  <li><code>hw.machine</code></li>
</ul>

<h3 id="other">Other</h3>

<p>The syscall <code>sys_proc_info(33)</code> is also called a couple of times, which could reveal stuff that is ptracing the process. They also use <code>sys_open(5)</code>, <a href="http://man7.org/linux/man-pages/man2/mmap.2.html">mmap</a>, <code>sys_close(6)</code> and <code>sys_lstat64(340)</code> on the <code>Snapchat</code> binary. Probably to check for modifications or generating a checksum.</p>

<h2 id="how-all-this-stuff-was-found">How all this stuff was found</h2>

<p>A lot of the work was done using a small iOS emulator build on top of <a href="https://github.com/unicorn-engine/unicorn">Unicorn</a>. Using an emulator you can see everything they do. Building this was also teached me a lot about the CoreFoundation library of iOS.</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_emulator.png" alt="iOS emulator">
</p>

<p>Later I implemented a counter for all of my discoveries in a tweak called <a href="https://github.com/AeonLucid/SnapHide">SnapHide</a> while carefully keeping track of how my changes modified the detection flags and slowly getting rid of all of them. You can easily find fixes for checks mentioned in this blog post in the ‚ÄúDetections‚Äù directory.</p>

<p>You could alternatively trace the syscalls using any of the methods discussed in the WhoYouGonnaSyscall talk by <a href="https://twitter.com/hexploitable">Hexploitable</a>. Slides of the talk can be found <a href="https://github.com/radareorg/r2con2019/blob/master/talks/WhoYouGonnaSyscall/Hex-r2con2019-WhoYouGonnaSyscall.pdf">here</a>.</p>

<h3 id="a-story-on-how-i-wasted-hours-on-fixing-syscalls">A story on how I wasted hours on fixing syscalls</h3>

<p>Let‚Äôs take <code>sys_access(33)</code> as an example. It‚Äôs implementation looks like <a href="http://man7.org/linux/man-pages/man2/access.2.html">this</a>. In short, when a file exists and permission is granted, return <code>0</code>. Otherwise return <code>-1</code>. First thing I did was force both of the results in my emulator but I saw no changes happening to the detection flags.</p>

<p>Later when implementing a fix for this in the <a href="https://github.com/AeonLucid/SnapHide">SnapHide</a> tweak, I was unable to have it fail. The arm instructions look like this:</p>

<div><div><pre><code>MOV             X0, X27 ; path
MOV             X1, #0  ; mode
MOV             X16, #0x21
SVC             0x80    ; SYS_access
MOV             X0, #0xFFFFFFFFFFFFFFFF
CSEL            X0, X0, XZR, CS
MOV             X27, X0 ; Use result
</code></pre></div></div>

<p>In ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aeonlucid.com/Snapchat-detection-on-iOS/">https://aeonlucid.com/Snapchat-detection-on-iOS/</a></em></p>]]>
            </description>
            <link>https://aeonlucid.com/Snapchat-detection-on-iOS/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757666</guid>
            <pubDate>Tue, 07 Jul 2020 10:35:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I Learnt From Reviewing 22 CVs]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 74 (<a href="https://news.ycombinator.com/item?id=23757585">thread link</a>) | @bryanrasmussen
<br/>
July 7, 2020 | https://youknowfordevs.com/2020/07/04/what-i-learnt-from-reviewing-22-cvs.html | <a href="https://web.archive.org/web/*/https://youknowfordevs.com/2020/07/04/what-i-learnt-from-reviewing-22-cvs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>I was recently asked to look over some CVs. It‚Äôs a while since I‚Äôve done this, so I thought that noting down my immediate reactions as I went through the CVs might help anyone having to circulate their own CV at the moment.</p>

<!--snip-->

<p><img src="https://youknowfordevs.com/images/uploads/christopher-sardegna-iRyGmA_no2Q-unsplash.jpg" alt="Photo by Christopher Sardegna on Unsplash"></p>

<p>I‚Äôm not for a moment saying I‚Äôm right or wrong in the following views, and this is definitely not one of those posts about ‚Äòhow to write your CV to land your dream job‚Äô. I‚Äôm merely laying out the responses I had and more importantly what I felt these reponses told me about the person behind the CV. My ‚Äògut reaction‚Äô may well be similar to others‚Äô and if they are, it might be worth bearing them in mind when you share your CV.</p>

<h2 id="looks-count-more-than-i-thought">Looks Count More Than I Thought</h2>

<p>First, it wasn‚Äôt until I reached the ninth CV that I realised how much a CV‚Äôs appearance makes a difference. When viewing numbers one to eight I hadn‚Äôt been thinking ‚Äòthese look terrible‚Äô, but when I reached the ninth, a part of my brain said: ‚ÄòFinally! A CV that looks good.‚Äô</p>

<p>I think if the role was for a C++ programmer then I probably would have simply smiled to myself, ignored my response, and moved on. That‚Äôs not to say that appearance doesn‚Äôt matter‚Äìor that C++ programmers don‚Äôt worry about their appearance‚Äìbut if I was trying to decide between two C++ programmers it wouldn‚Äôt be the look of their CV that was the deciding factor.</p>

<p>But the role for which I was reviewing this batch of CVs was a React developer and there are lots of very talented React developers out there. And when lots of people have worked with GraphQL and Docker and cloud services and D3 then it may well come down to whether or not you have made an effort to convey that you like things to ‚Äòlook nice‚Äô.</p>

<p>It‚Äôs worth saying too that the CVs that looked good didn‚Äôt go overboard; all they did was have a pleasing font, perhaps two columns instead of one for the layout, maybe a couple of icons and some colour, and probably didn‚Äôt span more than a couple of pages. But that was enough to convince me that these were people who would ensure that a bad-looking product didn‚Äôt get deployed.</p>

<h2 id="attention-to-detail">Attention to Detail</h2>

<p>Probably in the same vein, typos really jump out at you when you are looking at a lot of CVs. Again I‚Äôm not saying I‚Äôm right or wrong on whether this should be an important criteria, but the fact that my subconcscious reaction was to be turned off if I saw a spelling mistake‚Äìor a technology name that had been capitalised incorrectly‚Äìshows that somewhere in our psyches this stuff counts for something.</p>

<p>As with the previous point about looks, I‚Äôd probably see this as more relevant for front-end people.</p>

<p>And it might be worth saying that it‚Äôs usually not difficult to differentiate between those who have just not bothered to check their CV and those that have difficulty with spelling. I‚Äôve worked with people in the latter camp, both senior managers and junior programmers, and it‚Äôs not a big deal‚Äìyou can work with it and it would not stop me from hiring someone.</p>

<p>But to keep with the theme of my ‚Äòinitial reaction‚Äô, I can‚Äôt help that when I see someone write ‚ÄòGraphql‚Äô I‚Äôm going to doubt whether the applicant really has that much experience with ‚ÄòGraphQL‚Äô; maybe it‚Äôs worth just double-checking the website of the technologies you use one last time, before sending off that CV.</p>

<h2 id="approaches-v-technologies">Approaches v. Technologies</h2>

<p>One other thing that I hadn‚Äôt expected was that I was drawn to mark people more highly if they gave some indication of the <em>approach</em> they took to their coding and development. For example, a few people mentioned having experience with TDD, which I thought was good. That doesn‚Äôt mean I‚Äôd rule out someone who didn‚Äôt have TDD experience, but it‚Äôs an approach that people need to be aware of.</p>

<p>However, more importantly than TDD, only a handful indicated that they liked to get involved in code reviews and saw them as a good way to share knowledge and build a consistent and high quality codebase. Again, I would not rule out someone who didn‚Äôt mention code reviews, mentoring, and so on, provided they were relatively inexperienced; but I probably <em>would</em> rule out someone who clearly has experience, but hasn‚Äôt thought to mention these things.</p>

<h3 id="approach-from-technologies">Approach From Technologies</h3>

<p>What I was also surprised by was how the list of technologies on a person‚Äôs CV led to me forming an impression of the kind of coder that person was. If I saw GraphQL in the mix then I found myself thinking ‚Äòmodern tech stack‚Äô. It may be unfair, especially since GraphQL wasn‚Äôt mentioned in the job description that was circulated; but after reviewing all of the CVs I found that it was a pretty accurate indicator of the types of projects someone had been involved in.</p>

<p>There were other technologies that were similarly indicative, such as mention of ‚Äòmicroservices‚Äô, or use of MongoDB, Elasticsearch, Redis, RabbitMQ, and so on. But there were very few CVs where these technologies appeared without GraphQL.</p>

<p>There is probably no general rule here, since the technologies that differentiate will be different in each cohort of CVs; if every CV included GraphQL then it may have been the presence of something like Docker and/or Kubernetes that told you something about the kind of people you were looking at.</p>

<h2 id="public-profile">Public Profile</h2>

<p>This last point may also be controversial, but I‚Äôm going to describe it so that you can do whatever you like with the information; if someone was not on LinkedIn or didn‚Äôt have a public Git account, I found myself thinking ‚Äòwell, what exactly do they do?‚Äô</p>

<p>From this batch of 22 CVs, only one had answered any questions on Stack Overflow, and only one‚Äìa different person‚Äìhad done any talks at Meetups. A couple had GitHub accounts, a couple were on LinkedIn and a couple had blogs.</p>

<p>This is no doubt unfair, so again, blame my subconscious. But I can‚Äôt help think that if I‚Äôm going to work with some people day after day, I want to be with people that are sharing links to things they‚Äôve read, people who are trying out new technologies and languages, people who have weekend projects, or who are contributing bug fixes back to open source projects.</p>

<p>And although I‚Äôm not particularly a big fan of LinkedIn, I always quite like it when I see people who are at the early stages of their career making connections with everyone they met at last night‚Äôs Meetup.</p>

<p>None of this is to ignore the current discussion about work/life balance‚Äìto demand that people do their own education in their own time, spend all waking hours coding, attend Meetups every night of the week. But it is to recognise that we are in a fast-moving industry, and if you want your CV to be picked from amongst that batch of 22, then it‚Äôs going to be important to think about how you come across.</p>

<h2 id="qualifications">Qualifications</h2>

<p>One final thing has just occurred to me‚Ä¶I didn‚Äôt consider the qualifications of <em>anyone</em>, which I imagine is down to the role that the CVs were for. You‚Äôd certainly be interested in degrees and PhDs if you were hiring a data scientist or someone to write an operating system; in these spaces theory is a major element. But for fast-moving technologies like front-end development, you can probably tell everything about a person from their experience.</p>

<h2 id="conclusion">Conclusion</h2>

<p>I haven‚Äôt had to look at CVs for quite a while, so it was interesting to examine my own responses to reviewing this batch. What became clear is that I quickly ‚Äòmerged‚Äô the CV and the person in my mind. If there were mistakes in the CV I couldn‚Äôt help but imagine someone who lacked attention to detail. If there was a little bit of colour in the CV or the person had spoken at a Meetup then I couldn‚Äôt help but think that this was a person who was prepared to go the extra mile. And if the person had a public Git account then my spontaneous reaction was that this was someone who wanted to keep learning, and really enjoyed the work they do.</p>

<p>I may be wrong in my judgements or harsh in my conclusions, but if you‚Äôre about to send your CV out, at least you now have a couple more insights that might help you decide how your CV is representing you.</p>

  </div>
  
  
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://youknowfordevs.com/2020/07/04/what-i-learnt-from-reviewing-22-cvs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757585</guid>
            <pubDate>Tue, 07 Jul 2020 10:22:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Complete Spectrum ROM Disassembly]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 52 (<a href="https://news.ycombinator.com/item?id=23757449">thread link</a>) | @MindGods
<br/>
July 7, 2020 | https://speccy.xyz/rom/ | <a href="https://web.archive.org/web/*/https://speccy.xyz/rom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://speccy.xyz/rom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757449</guid>
            <pubDate>Tue, 07 Jul 2020 10:01:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Panic Better, fewer, syntax errors for LR parsers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757356">thread link</a>) | @fanf2
<br/>
July 7, 2020 | https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/ | <a href="https://web.archive.org/web/*/https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

<p><strong>Abstract</strong>  
<span>Syntax errors are generally easy to fix for humans, but not for parsers in general nor LR parsers in</span>
<span>particular. Traditional ‚Äòpanic mode‚Äô error recovery, though easy to implement and applicable to</span>
<span>any grammar, often leads to a cascading chain of errors that drown out the original. More</span>
<span>advanced error recovery techniques suffer less from this problem but have seen little practical use</span>
<span>because their typical performance was seen as poor, their worst case unbounded, and the</span>
<span>repairs they reported arbitrary. In this paper we introduce the </span><span>CPCT</span><span>+</span>  <span>algorithm, and an</span>
<span>implementation of that algorithm, that address these issues. First, </span><span>CPCT</span><span>+</span> <span>reports the complete set of</span>
<span>minimum cost repair sequences for a given location, allowing programmers to select the one that</span>
<span>best fits their intention. Second, on a corpus of 200,000 real-world syntactically invalid Java</span>
<span>programs, </span><span>CPCT</span><span>+</span>  <span>is able to repair 98.37%</span><span>¬±</span><span>0.017% </span><span>of files within a timeout of 0.5s. Finally,</span>
<span>CPCT</span><span>+</span> <span>uses the complete set of minimum cost repair sequences to reduce the cascading error</span>
<span>problem, where incorrect error recovery causes further spurious syntax errors to be identified.</span>
<span>Across the test corpus, </span><span>CPCT</span><span>+</span> <span>reports 435,812</span><span>¬±</span><span>473 </span><span>error locations to the user, reducing the</span>
<span>cascading error problem substantially relative to the 981,628</span><span>¬±</span><span>0 </span><span>error locations reported by panic</span>
<span>mode.</span>
</p>

<h3><span>1</span> <a id="x1-10001"></a>Introduction</h3>
<!--l. 131--><p>Programming is a humbling job which requires acknowledging that we will make untold errors in
our quest to perfect a program. Most troubling are semantic errors, where we intended the
program to do one thing, but it does another. Less troubling, but often no less irritating, are
syntax errors, which are generally minor deviances from the exacting syntax required by a
compiler. So common are syntax errors that parsers in modern compilers are designed to cope
with us making several: rather than stop on the first syntax error, they attempt to
<span>recover </span>from it. This allows them to report, and us to fix, all our syntax errors in one
go.
</p><!--l. 141--><p>When error recovery works well, it is a useful productivity gain. Unfortunately, most current
error recovery approaches are simplistic. The most common grammar-neutral approach to error
recovery are those algorithms described as ‚Äòpanic mode‚Äô (e.g.&nbsp;[<a href="#Xholub90compilerdesign">13</a>, p.&nbsp;348]) which skip input until
the parser finds something it is able to parse. A more grammar-specific variation of this
idea is to skip input until a pre-determined synchronisation token (e.g. ‚Äò;‚Äô in Java) is
reached&nbsp;[<a href="#Xdegano95comparison">8</a> , p.&nbsp;3], or to try inserting a single synchronisation token. Such strategies are
often unsuccessful, leading to a cascade of spurious syntax errors (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an
example). Programmers quickly learn that only the location of the first error in a file ‚Äì not
the reported repair, nor the location of subsequent errors ‚Äì can be relied upon to be
accurate.
</p>
                                                                            
                                                                            
<hr><div>
                                                                            
                                                                            
                                                                            
                                                                            
<div><div><table id="TBL-1"><colgroup id="TBL-1-1g"><col id="TBL-1-1"><col id="TBL-1-2"></colgroup><tbody><tr id="TBL-1-1-"><td id="TBL-1-1-1"> <!--l. 159--><!--l. 160--><p><span>(a)</span> </p> </td><td id="TBL-1-1-2"> <div><!--l. 166-->
<p><span><a id="x1-1002r1"></a></span><span>class</span><span>&nbsp;</span><span>C</span><span>&nbsp;</span><span>{</span><span>&nbsp;</span><br><span><a id="x1-1003r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1004r3"></a></span><span>}</span>
</p>
  </div>                         </td>
</tr><tr id="TBL-1-2-"><td id="TBL-1-2-1"> <!--l. 173--><!--l. 175--><p><span>(c)</span> </p></td><td id="TBL-1-2-2"> <div><!--l. 181-->
<p><span><a id="x1-1006r1"></a></span><span>Parsing</span><span>&nbsp;</span><span>error</span><span>&nbsp;</span><span>at</span><span>&nbsp;</span><span>line</span><span>&nbsp;</span><span>2</span><span>&nbsp;</span><span>col</span><span>&nbsp;</span><span>9.</span><span>&nbsp;</span><span>Repair</span><span>&nbsp;</span><br><span>
<a id="x1-1007r2"></a></span><span>sequences</span><span>&nbsp;</span><span>found</span><span>:</span><span>&nbsp;</span><br><span><a id="x1-1008r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>1:</span><span>&nbsp;</span><span>Delete</span><span>&nbsp;</span><span>y</span><span>&nbsp;</span><br><span>
<a id="x1-1009r4"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>2:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>,</span><span>&nbsp;</span><br><span><a id="x1-1010r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>3:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>=</span>
</p>
  </div>                         </td>
</tr></tbody></table></div>
</div><div><div><table id="TBL-2"><colgroup id="TBL-2-1g"><col id="TBL-2-1"><col id="TBL-2-2"></colgroup><tbody><tr id="TBL-2-1-"><td id="TBL-2-1-1"> <!--l. 195--><!--l. 197--><p><span>(b)</span> </p> </td><td id="TBL-2-1-2"> <div><!--l. 203-->
<p><span><a id="x1-1012r1"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>‚Äô;‚Äô</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1013r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1014r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span><span>&nbsp;</span><br><span>
<a id="x1-1015r4"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>&lt;</span><span>identifier</span><span>&gt;</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1016r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1017r6"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span>
</p>
  </div>                           </td>
</tr></tbody></table></div></div><p><span>
<span>Figure</span><span>&nbsp;1:  </span></span><span><span>An example of a simple, common Java syntax error (</span><a href="#x1-1001r1"><span>a</span></a><span>) and the problems traditional</span>
<span>error recovery has in dealing with it. </span><span>javac </span><span>(</span><a href="#x1-1011r2"><span>b</span></a><span>) spots the error when it encounters ‚Äò</span><span>y</span><span>‚Äô. Its error</span>
<span>recovery algorithm then repairs the input by inserting a semicolon before ‚Äò</span><span>y</span><span>‚Äô (i.e.</span><span>&nbsp;making the input</span>
<span>equivalent to ‚Äò</span><span>int x; y;</span><span>‚Äô). This then causes a spurious parsing error, since ‚Äò</span><span>y</span><span>‚Äô on its own is not</span>
<span>a valid statement. The </span><span>CPCT</span><span>+</span>  <span>error recovery algorithm we introduce in this paper produces the</span>
<span>output shown in (</span><a href="#x1-1005r3"><span>c</span></a><span>): after spotting an error when parsing encounters ‚Äò</span><span>y</span><span>‚Äô, it uses the Java grammar</span>
<span>to find the complete  set  of  minimum  cost  repair  sequences  (unlike  previous  approaches  which</span>
<span>non-deterministically find one minimum cost repair sequence). In this case three repair sequences</span>
<span>are reported to the user: one can delete ‚Äò</span><span>y</span><span>‚Äô entirely (‚Äò</span><span>int x;</span><span>‚Äô), or insert a comma (‚Äò</span><span>int x, y;</span><span>‚Äô), or</span>
<span>insert an equals sign (</span><span>‚Äòint x = y;‚Äô</span><span>).</span>
</span></p><!--tex4ht:label?: x1-1018r1 -->
                                                                            
                                                                            
</div><hr>
<!--l. 233--><p>It is possible to hand-craft error recovery algorithms for a specific language. These
generally allow better recovery from errors, but are challenging to create. For example,
the Java error recovery approach in the Eclipse IDE is 5KLoC long, making it only
slightly smaller than a modern version of Berkeley Yacc ‚Äî a complete parsing system!
Unsurprisingly, few real-world parsers contain effective hand-written error recovery
algorithms.
</p><!--l. 240--><p>Most of us are so used to these trade-offs (cheap generic algorithms and poor recovery
vs.&nbsp;expensive hand-written algorithms and reasonable recovery) that we assume them to be
inevitable. However, there is a long line of work on more advanced generic error recovery
algorithms. Probably the earliest such algorithm is Aho and Peterson&nbsp;[<a href="#Xaho72minimum">1</a>], which, upon
encountering an error, creates on-the-fly an alternative (possibly ambiguous) grammar which
allows the parser to recover. This algorithm has fallen out of favour in programming
language circles, probably because of its implementation complexity and the difficulty of
explaining to users what recovery has been used. A simpler family of algorithms, which
trace their roots to Fischer <span>et al.</span>&nbsp;[<a href="#Xfischer79locally">11</a>], instead try to find a single minimum cost <span>repair</span>
<span>sequence </span>of token insertions and deletions which allow the parser to recover. Algorithms in
this family are much better at recovering from errors than naive approaches and can
communicate the repairs they find in a way that humans can easily replicate. However, such
algorithms have seen little practical use because their typical performance is seen as
poor and their worst case unbounded [<a href="#Xmckenzie95error">17</a>, p.&nbsp;14]. We add a further complaint: such
approaches only report a single repair sequence to users. In general ‚Äì and especially in
syntactically rich languages ‚Äì there are multiple reasonable repair sequences for a given
error location, and the algorithm has no way of knowing which best matches the user‚Äôs
intentions.
</p><!--l. 261--><p>In this paper we introduce a new error recovery algorithm in the Fischer <span>et al. </span>family, <span>CPCT</span><span>+</span>.
This takes the approach of Corchuelo <span>et al.</span>&nbsp;[<a href="#Xcorchuelo02repairing">5</a>] as a base, corrects it, expands it, and
optimises its implementation. <span>CPCT</span><span>+</span> is simple to implement (under 500 lines of Rust
code), is able to repair nearly all errors in reasonable time, reports the complete set of
minimum cost repair sequences to users, and does so in less time than Corchuelo <span>et</span>
<span>al.</span>.
</p><!--l. 269--><p>We validate <span>CPCT</span><span>+</span> on a corpus of 200,000 real, syntactically incorrect, Java programs
(Section&nbsp;<a href="#x1-140006">6<!--tex4ht:ref: experiment --></a>). <span>CPCT</span><span>+</span> is able to recover 98.37%<span>¬±</span><span>0.017% </span>of files within a 0.5s timeout and does so
while reporting fewer than half the error locations as a traditional panic mode algorithm: in other
words, <span>CPCT</span><span>+</span> substantially reduces the cascading error problem. We also show ‚Äì for, as far as we
know, the first time ‚Äì that advanced error recovery can be naturally added to a Yacc-esque
system, allowing users to make fine-grained decisions about what to do when error recovery has
been applied to an input (Section&nbsp;<a href="#x1-180007">7<!--tex4ht:ref: sec:api --></a>). We believe that this shows that algorithms such as <span>CPCT</span><span>+</span>
are ready for wider usage, either on their own, or as part of a multi-phase recovery
system.
</p>
<h4><span>1.1</span> <a id="x1-20001.1"></a>Defining the problem</h4>
<!--l. 285--><p>Formally speaking, we first test the following hypothesis:
</p><!--l. 287--><dl><dt>
<span>H1</span></dt><dd>The complete set of minimum cost repair sequences can be found in acceptable time.</dd></dl>
                                                                            
                                                                            
<!--l. 292--><p>The only work we are aware of with a similar concept of ‚Äòacceptable time‚Äô is&nbsp;[<a href="#XdeJonge12natural">6</a>], who define it
as the total time spent in error recovery per file, with a threshold of 1s. We use that
definition with one change: Since many compilers are able to fully execute in less than 1s,
we felt that a tighter threshold is more appropriate: we use 0.5s since we think that
even the most demanding users will tolerate such a delay. We strongly validate this
hypothesis.
</p><!--l. 300--><p>The complete set of minimum cost repair sequences makes it more likely that the programmer
will see a repair sequence that matches their original intention (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an example;
Appendix&nbsp;<a href="#x1-28000A">A<!--tex4ht:ref: app:examples --></a> contains further examples in Java, Lua, and PHP). It also opens up a new
opportunity. Previous error recovery algorithms find a single repair sequence, apply that to the
input, and then continue parsing. While that repair sequence may have been a reasonable local
choice, it may cause cascading errors later. Since we have the complete set of minimum
cost repair sequences available, we can select from that set a repair sequence which
causes fewer cascading errors. We thus rank repair sequences by how far they allow
parsing to continue successfully (up to a threshold ‚Äî parsing the whole file would, in
general, be too costly), and choose from the subset that gets furthest (note that the
time required to do this is included in the 0.5s timeout). We thus also test a second
hypothesis:
</p><!--l. 315--><dl><dt>
<span>H2</span></dt><dd>Ranking the complete set of minimum cost repair sequences by how far they allow
parsing to continue locally reduces the global cascading error problem.</dd></dl>
<!--l. 321--><p>We also strongly validate this hypothesis. We do this by comparing ‚Äònormal‚Äô <span>CPCT</span><span>+</span> with a
simple variant <span>CPCT</span><span>+</span><span>rev</span> which reverses the ranking process, always selecting from amongst the
worst ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</a></em></p>]]>
            </description>
            <link>https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757356</guid>
            <pubDate>Tue, 07 Jul 2020 09:43:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Symbolic execution with SymCC: Don't interpret, compile]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757353">thread link</a>) | @DyslexicAtheist
<br/>
July 7, 2020 | http://www.s3.eurecom.fr/tools/symbolic_execution/symcc.html | <a href="https://web.archive.org/web/*/http://www.s3.eurecom.fr/tools/symbolic_execution/symcc.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

  <blockquote>
    <p>
      Symbolic execution with SymCC: Don't interpret, compile!
    </p>
    
    <em>Proceedings of the 29th USENIX Security Symposium (USENIX Security 20),
    Boston, MA, USA</em>
    
    
    <p>
      A major impediment to practical symbolic execution is speed, especially
      when compared to near-native speed solutions like fuzz testing. We propose
      a compilation-based approach to symbolic execution that performs better
      than state-of-the-art implementations by orders of magnitude. We present
      SymCC, an LLVM-based C and C++ compiler that builds concolic execution
      right into the binary. It can be used by software developers as a drop-in
      replacement for <tt>clang</tt> and <tt>clang++</tt>, and we show how to
      add support for other languages with little effort. In comparison with
      KLEE, SymCC is faster by up to three orders of magnitude and an average
      factor of 12. It also outperforms QSYM, a system that recently showed
      great performance improvements over other implementations, by up to two
      orders of magnitude and an average factor of 10. Using it on real-world
      software, we found that our approach consistently achieves higher
      coverage, and we discovered two vulnerabilities in the heavily tested
      OpenJPEG project, which have been confirmed by the project maintainers and
      assigned CVE identifiers.
    </p>
  </blockquote>

  <h2 id="intro">Introduction</h2>

  <p>
    SymCC is a fast compiler-based symbolic execution engine. On this page, we
    provide SymCC's source code, the raw results of the experiments described in
    the paper, as well as instructions how you can replicate those experiments
    yourself.
  </p>

  <h2>Code</h2>

  <p>
    SymCC is available
    on <a href="https://github.com/eurecom-s3/symcc">GitHub</a>.
  </p>

  <h2>Experiments</h2>

  <p>
    In the paper, we describe two sets of experiments: we first benchmark SymCC
    on the CGC programs, then we run it on real-world software. This section
    describes how to replicate our experiments, and provides links to our
    results.
  </p>

  <ol>
    <li>
      <p>
        CGC experiments (our results
        for <a href="http://www.s3.eurecom.fr/~seba/symcc_cgc_pure_time.csv">pure
        execution
        time</a>, <a href="http://www.s3.eurecom.fr/~seba/symcc_cgc_concolic_time.csv">concolic
        execution time</a>,
        and <a href="http://www.s3.eurecom.fr/~seba/symcc_cgc_concolic_coverage.tar.gz">coverage</a>)
      </p>

      <p>
        We used the <a href="https://github.com/trailofbits/cb-multios">Linux
          port</a> of the CGC programs by Trail of Bits. SymCC needs to be built
        with support for 32-bit compilation (see <tt>docs/32-bit.txt</tt>;
        this is not part of the Dockerfile because it would double the build
        time of the container while providing value to just a few users). Then
        you can simply export
        <tt>CC=/path/to/symcc</tt>, <tt>CXX=/path/to/sym++</tt> and <tt>SYMCC_NO_SYMBOLIC_INPUT=1</tt>, and
        build the CGC programs as usual (i.e., by invoking their build.sh script).
      </p>

      <p>
        Run the programs on the raw PoV inputs
        with <tt>SYMCC_NO_SYMBOLIC_INPUT=1</tt> to measure pure execution
        time, and unset the environment variable for symbolic execution. To
        assess coverage, we ran <tt>afl-showmap</tt> with the
        AFL-instrumented CGC programs on each generated input and accumulated
        the resulting coverage maps per program, resulting in a set of covered
        map entries for each CGC program. The sizes of those sets can then be
        fed to the scoring formula presented in the paper.
      </p>

      <p>
        For KLEE and QSYM, we used the setup
        described <a href="http://www.s3.eurecom.fr/tools/symbolic_execution/ir_study.html">here</a> but with the regular 32-bit
        binaries built by cb-multios.
      </p>
    </li>

    <li>
      <p>Real-world software</p>

      <p>
        The analysis of real-world software always follows the same procedure.
        Assuming you have exported <tt>CC=symcc</tt>, <tt>CXX=sym++</tt>
        and <tt>SYMCC_NO_SYMBOLIC_INPUT=1</tt>, first download the code,
        then build it using its own build system, finally
        unset <tt>SYMCC_NO_SYMBOLIC_INPUT</tt> and analyze the program in
        concert with AFL (which requires building a second time for AFL,
        see <tt>docs/Fuzzing.txt</tt>). We used AFL 2.56b and built the
        targets with <tt>AFL_USE_ASAN=1</tt>. Note that the fuzzing helper
        is already installed in the Docker container.
      </p>

      <ul>
        <li>
          <a href="https://github.com/uclouvain/openjpeg.git">OpenJPEG</a>
          (<a href="http://www.s3.eurecom.fr/~seba/symcc_afl_openjpeg.tar.gz">our
          results</a>): we used revision <tt>1f1e9682</tt>, built with CMake as
          described in the project's <tt>INSTALL.md</tt>
          (adding <tt>-DBUILD_THIRDPARTY=ON</tt> to make sure that third-party
          libraries are compiled with SymCC as well), and
          analyzed <tt>bin/opj_decompress -i @@ -o /tmp/image.pgm</tt>; the
          corpus consisted of test
          files <a href="https://github.com/uclouvain/openjpeg-data/blob/master/input/conformance/file1.jp2">file1.jp2</a>
          and <a href="https://github.com/uclouvain/openjpeg-data/blob/master/input/conformance/file8.jp2">file8.jp2</a>.
        </li>

        <li>
          <a href="https://github.com/libarchive/libarchive.git">libarchive</a>
          (<a href="http://www.s3.eurecom.fr/~seba/symcc_afl_libarchive.tar.gz">our
          results</a>): we used revision <tt>9ebb2484</tt>, built with CMake as
          described in the poject's <tt>INSTALL</tt> (but
          adding <tt>-DCMAKE_BUILD_TYPE=Release</tt>), and
          analyzed <tt>bin/bsdtar tf @@</tt>; the corpus consisted of just a
          single dummy file containing the character "A".
        </li>

        <li>
          tcpdump
          (<a href="http://www.s3.eurecom.fr/~seba/symcc_afl_tcpdump.tar.gz">our
          results</a>): we built both tcpdump and libpcap; in order to make the
          former find the latter, just place the source directories next to each
          other in the same folder. We used revision <tt>d615abec</tt>
          of <a href="https://github.com/the-tcpdump-group/libpcap.git">libpcap</a>
          and revision <tt>d57927e1</tt>
          of <a href="https://github.com/the-tcpdump-group/tcpdump.git">tcpdump</a>.
          We built first libpcap and then tcpdump with <tt>./configure
          &amp;&amp; make</tt>, and analyzed
          <tt>tcpdump/tcpdump -e -r @@</tt>; the corpus consisted of just a single dummy
          file containing the character "A".</li>
      </ul>

      <p>
        All experiments used one AFL master process, one secondary AFL process,
        and one SymCC process. We let them run for 24 hours and repeated each of
        them 30 times to create the graphs in the paper; AFL map density was
        extracted from the secondary AFL process' <tt>plot_data</tt> file,
        column <tt>map_size</tt>.
      </p>

      <p>
        The QSYM experiments used an analogous setup, replacing SymCC with QSYM
        and running it with AFL according to the QSYM
        authors' <a href="https://github.com/sslab-gatech/qsym#run-hybrid-fuzzing-with-afl">instructions</a>.
      </p>
    </li>
  </ol>

  <h2>Acknowledgements</h2>

  <p>
    This work was supported by the DAPCODS/IOTics ANR 2016 project (ANR-16-CE25-0015).
  </p>

  <h2>Contact</h2>

  <p>
    Feel free to <a href="http://www.s3.eurecom.fr/~seba/">reach out</a> to us
    if anything is unclear or if you need more information.
  </p>
</div></div>]]>
            </description>
            <link>http://www.s3.eurecom.fr/tools/symbolic_execution/symcc.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757353</guid>
            <pubDate>Tue, 07 Jul 2020 09:42:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚Äú[video]‚Äù Things You Should Never Spend Your Money On]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757351">thread link</a>) | @bekong
<br/>
July 7, 2020 | https://achahomebuilding.com/video-5-things-you-should-never-spend-your-money-on/ | <a href="https://web.archive.org/web/*/https://achahomebuilding.com/video-5-things-you-should-never-spend-your-money-on/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrap"><main id="main" role="main"><div id="content-wrap"><div id="primary"><div id="content"><article id="post-1474"><p><img width="389" height="280" src="https://achahomebuilding.com/wp-content/uploads/2020/07/unpleasant-pain-sad-unhappy-handsome-260nw-1060449161.jpg" alt="‚Äú(Video)‚Äù 5 Things You should Never Spend Your Money On." itemprop="image" srcset="https://achahomebuilding.com/wp-content/uploads/2020/07/unpleasant-pain-sad-unhappy-handsome-260nw-1060449161.jpg 389w, https://achahomebuilding.com/wp-content/uploads/2020/07/unpleasant-pain-sad-unhappy-handsome-260nw-1060449161-300x216.jpg 300w" sizes="(max-width: 389px) 100vw, 389px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20389%20280'%3E%3C/svg%3E" data-lazy-srcset="https://achahomebuilding.com/wp-content/uploads/2020/07/unpleasant-pain-sad-unhappy-handsome-260nw-1060449161.jpg 389w, https://achahomebuilding.com/wp-content/uploads/2020/07/unpleasant-pain-sad-unhappy-handsome-260nw-1060449161-300x216.jpg 300w" data-lazy-src="https://achahomebuilding.com/wp-content/uploads/2020/07/unpleasant-pain-sad-unhappy-handsome-260nw-1060449161.jpg"></p><div itemprop="text"><p>Someone with a business mindset doesn‚Äôt spend money on irrelevant things. Spending your money on what doesn‚Äôt add much value to you will instead make you poor. Be creative and wise in financial management. To be successful in life you need not do what everyone else is doing just because you don‚Äôt want to look odd. Do what you know is good even if no one cares about it. Many may not have seen what you are seeing, but when you make results they would celebrate you. Spend your money where necessary and forget about how people feel about you. The video below will show you those five things you shouldn‚Äôt spend your money on.</p><figure><div><div></div></div><figcaption>Be a wise financial manager.</figcaption></figure><h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The affiliate link for Amazon company Inc is below. It sells variety of fashion things ranging from cloths, shoes, cosmetics, breast enhancement cream, love books, marriage books, business books, academic books, food stuff, computers, laptops, computer parts, toys, medication, face mask, etc <a href="https://www.amazon.com/s?k=fashion+dresses+for+women&amp;ref=nb_sb_noss_1">https://www.amazon.com/s?k=fashion+dresses+for+women&amp;ref=nb_sb_noss_1</a></h2><h2>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;You need to type what ever you need in the search bar and click on the search button. The right product would be available for you at affordable prices. They offer door to door services. You can buy whatever you need from the comfort of your room. If you buy through this link, we would be able to get support from the company to develop this blog and take it to a higher level. Thanks for your understanding.&nbsp;</h2></div><section id="author-bio"><div id="author-bio-inner"><p><a href="https://achahomebuilding.com/author/admin/" title="Visit Author Page" rel="author"> <img alt="" src="https://secure.gravatar.com/avatar/fec2a289db45b797df90d423d339e74b?s=100&amp;r=g" srcset="https://secure.gravatar.com/avatar/fec2a289db45b797df90d423d339e74b?s=200&amp;r=g 2x" height="100" width="100" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3E%3C/svg%3E"> </a></p><div><h4> <a href="https://achahomebuilding.com/author/admin/" title="Visit Author Page"> admin </a></h4><p> I am a life coach and teacher by profession with over 12 years of work experience. I am married with three children. I believe in the power of counselling in resolving marital challenges. We grow by lifting others.</p></div></div></section></article></div></div></div></main></div></div>]]>
            </description>
            <link>https://achahomebuilding.com/video-5-things-you-should-never-spend-your-money-on/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757351</guid>
            <pubDate>Tue, 07 Jul 2020 09:42:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[More Testing Terminology]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757346">thread link</a>) | @chriswarbo
<br/>
July 7, 2020 | http://chriswarbo.net/blog/2020-07-07-more_testing_terminology.html | <a href="https://web.archive.org/web/*/http://chriswarbo.net/blog/2020-07-07-more_testing_terminology.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>This is mostly copypasta from <a href="https://softwareengineering.stackexchange.com/a/412281/112115">an answer I gave on StackOverflow</a> about how to avoid mocks when unit testing. It‚Äôs a continuation of the argument I gave in <a href="http://chriswarbo.net/blog/2017-11-10-unit_testing_terminology.html">an earlier blog post</a>.</p>
<p>I think the subject of automated testing suffers from conflated and co-opted terminology, which causes people to talk past each other.</p>
<p>For example, the questioner asks the following:</p>
<blockquote>
<p>Should I be writing only integration tests when there is dependency, and unit tests for pieces of code without any dependency?</p>
</blockquote>
<p>I think most people would answer this question by saying something like (ideally, modulo common sense, etc.):</p>
<blockquote>
<p>When there is no dependency, unit tests are sufficient and mocks aren‚Äôt needed; when there is dependency, unit tests may need mocks and there should also be integration tests.</p>
</blockquote>
<p>Let‚Äôs call this Answer A, and I‚Äôm going to assume that it‚Äôs a relatively uncontroversial thing to say.</p>
<p>However, two people might both give Answer A, but mean very different things when they say it!</p>
<p>When a person who the questioner terms a ‚Äúclassicist‚Äù says Answer A, they might mean the following (Answer B):</p>
<blockquote>
<p>Functionality that is internal to the application (e.g.&nbsp;a calculation which performs no I/O) doesn‚Äôt need integration tests, and its unit tests don‚Äôt need mocks. Functionality with some external dependency (e.g.&nbsp;a separate application like an RDBMS, or a third-party Web service) should have integration tests, and if it has unit tests they may need the external interactions to be mocked.</p>
</blockquote>
<p>When others (let‚Äôs call them ‚Äúmockists‚Äù) say Answer A, the might mean the following (Answer C):</p>
<blockquote>
<p>A class which doesn‚Äôt call methods of another class doesn‚Äôt need integration tests, and its unit tests don‚Äôt need mocks. Classes which call methods of other classes should mock those out during their unit tests, and they should probably have integration tests too.</p>
</blockquote>
<p>These testing strategies are objectively very different, but they both correspond to Answer A. This is due to the different meanings they are using for words. We can caricature someone who says Answer A, but means Answer B, as saying the following:</p>
<ul>
<li>A ‚Äúdependency‚Äù is a different application, Web service, etc. Possibly maintained by a third-party. Unchangeable, at least within the scope of our project. For example, our application might have MySQL as a dependency.</li>
<li>A ‚Äúunit‚Äù is a piece of functionality which makes some sort of sense on its own. For example ‚Äúadding a contact‚Äù may be a unit of functionality.</li>
<li>A ‚Äúunit test‚Äù checks some aspect of a unit of functionality. For example, ‚Äúif we add a contact with email address X, looking up that contact‚Äôs email address should give back X‚Äù.</li>
<li>An ‚Äúinterface‚Äù is the protocol our application should follow to interact with a dependency, or how our application should behave when used as a dependency by something else. For example, SQL with a certain schema when talking to a database; JSON with a certain schema, sent over HTTP, when talking to a ReST API.</li>
<li>An ‚Äúintegration test‚Äù checks that the interface our application is using with a dependency will actually have the desired effect. For example ‚ÄúThere will always be exactly one matching row after running an UPSERT query‚Äù.</li>
<li>A ‚Äúmock‚Äù is a simplified, in-memory alternative to a dependency. For example, <code>MockRedisConnection</code> may follow the same interface as <code>RedisConnection</code>, but just contains a <code>HashMap</code>. Mocks can sometimes be useful, e.g.&nbsp;if some of our unit tests are annoyingly slow, or if our monthly bill from a third-party Web service is too high due to all of the calls made by our tests.</li>
</ul>
<p>We can caricature someone who says Answer A, but means Answer C, as saying the following:</p>
<ul>
<li>A ‚Äúdependency‚Äù is a different class to the one we‚Äôre looking at. For example, if we‚Äôre looking at the <code>Invoice</code> class, then the <code>Product</code> class might be a dependency.</li>
<li>A ‚Äúunit‚Äù is a chunk of code, usually a method or class. For example <code>User::addContact</code> may be a unit.</li>
<li>A ‚Äúunit test‚Äù checks only the code inside a single unit (e.g.&nbsp;one class). For example ‚ÄúCalling <code>User::addContact</code> with a contact with email address X will ask the <code>DBConnection</code> to insert a contacts row containing email address X‚Äù.</li>
<li>An ‚Äúinterface‚Äù is like a class but only has the method names and types; the implementations are provided by each class extending that interface.</li>
<li>An ‚Äúintegration test‚Äù checks that code involving multiple classes gives the correct result. For example ‚ÄúAdding a <code>Discount</code> to a <code>ShoppingCart</code> affects the <code>Invoice</code> produced by the <code>Checkout</code>‚Äù.</li>
<li>A ‚Äúmock‚Äù is an object which records the method calls made on it, so we can check what the unit of code we‚Äôre testing tried to do in a unit test. They are essential if we want to isolate the unit under test from every other class.</li>
</ul>
<p>These are very different meanings, but the relationships between B‚Äôs meanings and between C‚Äôs meanings are similar, which is why both groups of people seem to agree with each other about Answer A (e.g.&nbsp;their definitions of ‚Äúdependency‚Äù and ‚Äúintegration test‚Äù differ, but both have the relationship ‚Äúdependencies should have integration tests‚Äù).</p>
<p>For the record, I would personally count myself as what that questioner calls a ‚Äúclassicist‚Äù (although I‚Äôd not come across that term before); hence why the above caricatures are clearly biased!</p>
<p>In any case, I think this problem of conflated meanings needs to be addressed before we can have constructive debates about the merits of one approach versus another. Unfortunately every time someone tries to introduce some new, more specialised vocabulary to avoid the existing conflations, those terms start getting mis-used until they‚Äôre just as conflated as before.</p>
<p>For example, ‚ÄúThought Leader X‚Äù might want to talk about physical humans clicking on a UI or typing in a CLI, so they say ‚Äúit‚Äôs important to describe how users can interact with the system; we‚Äôll call these ‚Äòbehaviours‚Äô‚Äù. Their terminology spreads around, and soon enough ‚ÄúThough Leader Y‚Äù (either through misunderstanding, or thinking they‚Äôre improving the situation), will say something like ‚ÄúI agree with X, that when we design a system like the <code>WidgetFactory</code> class, we should use behaviours to describe how it interacts with its users, like the <code>ValidationFactory</code> class‚Äù. This co-opted usage spreads around, obscuring the original meaning. Those reading old books and blog posts from X may get confused about the original message, and start applying their advice to the newer meanings (after all, this is a highly regarded book by that influential luminary X!).</p>
<p>We‚Äôve now reached the situation where ‚Äúmodule‚Äù means class, ‚Äúentity‚Äù means class, ‚Äúunit‚Äù means class, ‚Äúcollaborator‚Äù means class, ‚Äúdependency‚Äù means class, ‚Äúuser‚Äù means class, ‚Äúconsumer‚Äù means class, ‚Äúclient‚Äù means class, ‚Äúsystem under test‚Äù means class, ‚Äúservice‚Äù means class. Where ‚Äúboundary‚Äù means ‚Äúclass boundary‚Äù, ‚Äúexternal‚Äù means ‚Äúclass boundary‚Äù, ‚Äúinterface‚Äù means ‚Äúclass boundary‚Äù, ‚Äúprotocol‚Äù means ‚Äúclass boundary‚Äù. Where ‚Äúbehaviour‚Äù means ‚Äúmethod call‚Äù, where ‚Äúfunctionality‚Äù means ‚Äúmethod call‚Äù, where ‚Äúmessage send‚Äù means ‚Äúmethod call‚Äù‚Ä¶</p>
</div></div>]]>
            </description>
            <link>http://chriswarbo.net/blog/2020-07-07-more_testing_terminology.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757346</guid>
            <pubDate>Tue, 07 Jul 2020 09:41:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wi-Fi overview]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757008">thread link</a>) | @arazy
<br/>
July 7, 2020 | https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf | <a href="https://web.archive.org/web/*/https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>ÔøΩ√Ç~n¬£√Ø¬π√∏?4?¬°√†¬∏√û¬∂{√ë√çb≈∏√≤N√òÀú‚Ñ¢Q√å+6!¬¥‚Äú1√£.&nbsp;¬¶≈°√í‚Äù+√Ø}&lt;=‚Ä°√ΩÔøΩ/x√©√ë√¨'√¶√®‚Ñ¢¬∞X¬∑<i√Ær8√è{‚Ç¨:√ÆÀÜ6;m√µ¬≠√ëx√ïd!≈ì( e√¨o¬´sjpy√û¬∂√£‚Äùi}b¬∂ÔøΩ|¬∫x√©√°√¨'√¶√®¬≥‚Ä°≈°i‚Äû‚Äò2¬≠√†‚Äô#≈°√∑√à!‚Ä¶ÔøΩ√òea0¬∏√Ö≈æ9y‚Ä∫2\‚Ç¨wlÔøΩ√§="" ¬ª="" ¬∂‚Äù¬°_x+√®1√ã{_≈°√øÔøΩghoÔøΩÀú√†h√øÔøΩ¬≥¬¢a‚Äö√Ö√ôl#x√≥≈Ω!`xx\√©mj√¨l*h‚Äô√à%√è#8"√¢√ôÀú¬±:m="">¬ØOE)B~√∞'√ì√É√òO√ç√í√∑‚Äö√ñ√û¬∑¬µ√≠√Åkn¬æ]bbi&nbsp;x‚Äò¬≤9F√õf√™}B+{‚Ä∫$D√§Àú‚Ä¶&amp;√ö
‚Äù!n
√∫¬ØJP√ó¬º	√ô√°√Ç√øH√ø¬≥¬ß√∑‚Ç¨oOa?7DcÔøΩ√çÔøΩ¬±≈ì(R√ôÔøΩI¬¶√ãt√õmv√ñ¬®`√ÑG1‚ÄôI√å‚ÄòÔøΩ@OWC√´m√±√í‚Äù%√Ø}&lt;=‚Äû√º√ù7¬º√¶√≤√¨¬ø5√æ√éÔøΩÔøΩs#/¬¢R=qj√•ÔøΩ√ä√Ñ√áa%¬¨R5p√Ñ√ú‚ÄûV[^√áMt√ù)C¬æ√∞'√ì√É√òO√ç√ì√ª√Ä7¬ß‚Ä°¬∞≈∏‚Ä∫¬¢¬¨Àú‚Ä∞√ü2∆í‚Ä¢b√ölltZ√Äz¬∫√ñ√öR‚Äö=√†√ì√É√òO√ç√í√∑‚Ç¨&gt;≈æ√Ç~nÔøΩ√©R‚Äù√Ø}&lt;=‚Äû√º√ù/x√©√°√¨'√¶√®√û‚Ä¢)A√∞√ì√É√òO√ç√í√∑‚Ç¨&gt;≈æ√Ç~nÔøΩ√©R‚Äù√Ø}&lt;=‚Äû√º√ù/x√©√°√¨'√¶√®√û‚Ä¢)A√∞√ì√É√òO√ç√í√∑‚Ç¨&gt;≈æ√Ç~nÔøΩ√©R‚Äù√Ø}&lt;=‚Äû√º√ù/x√©√°√¨'√¶√®√û‚Ä¢)A√∞√ì√É√òO√ç√í√∑‚Ç¨&gt;≈æ√Ç~nÔøΩ√©R‚Äù√Ø}&lt;=‚Äû√º√ù/x√¥√∞√∂√≥toJ‚Äù&nbsp;ÔøΩx√¥√∞√∂√≥t¬Ω√†√ì√É√òO√ç√ë¬Ω*R‚Äö=√†√ì√É√òO√ç√í√∑‚Ç¨oOa?7F√¥¬©J√∑‚Ç¨oOa?7K√û√∫x{	√π¬∫7¬ß¬•(√û¬Ω&lt;=‚Äû√º√ù/x√¥√∞√∂√≥tqJ‚Äù&nbsp;√ø√ê√õ¬º√©{ÀÜ¬°@%¬±√≠√±¬¢He√°
≈†‚Ç¨|F√ø P√Æ√≤√ëd√ú@A¬∂"K_√Ü‚Ä∞0≈ì‚Ä¶√§¬≠x_|√ÖÀÜ`√ô√ê√ßm√£¬©J√°ÀÜ√°m¬Æ0√ù√ëy	ENt‚Äù√ê√∂√¥[-√≠√ódH2¬´`√àX√∫√Ä√ñQ¬π√°P√Ü¬≤√à#k√±n‚ÄûjnF¬´z√ì√ÅqB√¥+¬∑&nbsp;‚ÄπV√∂*tG,t√ãUjP√ÉN√Å√û√´‚Ä∞&gt;√Æb√ê¬≥G‚Ä°√≥¬ª√±√¢‚Äù‚ÄûÔøΩ,+¬∫ÔøΩ‚Ñ¢TÔøΩd
√Æ|¬∫√àw=√ôBIÀÜ‚ÄìH√Ö¬ÆÔøΩ√Åe!H66≈íiZ√≤¬∑WE¬™$√é&nbsp;H√íI¬Æ|[¬≠√∏≈í‚Äò¬£p|P3#¬£¬±kY‚Äù0ÔøΩ}zm¬Æ√ä¬∑≈Ω√∞gH#^Y-eu6RO‚Ç¨ÔøΩ√Å√ê¬ª‚Ä¢L‚Ä∞ÔøΩ√≥√•]4√ô¬≤¬£ÔøΩ√ú√¥√á*‚Ä∞!K√•d M¬∫√Å√™¬¢√Ñ√ß¬¢¬≤x¬™;≈∏¬∫ÔøΩYFP$ÔøΩ¬≤¬≤ÔøΩ¬¢√£h√©7¬©.98S‚Ä°9^q√∞¬∞mzA¬Ω¬≠n≈°≈æ	8s√ØÔøΩ‚Äπ6bIs√§¬™√ìs√Ñx¬£‚Äπ1f&amp;√´h√¨A¬Ω‚Ä¶√Ç√üK√©¬Ø‚Äì¬¢√†‚Äì!¬≤#¬±‚Ñ¢≈°	√ãG√èaf',O√ÖÔøΩ0b√§lP¬∏¬π√±
‚Äì%!√ç‚Äù√ò¬∞R‚Ä∫ÔøΩ=]=U6‚Äπ9V7/b
¬∂√®i√ï2.U√ò/¬¥√üi¬ø√â¬¨√∑4√í¬π√òlv.l≈ì2Gp√º`¬•ÔøΩfP3]NBv{¬¢¬∫`√û√õ
√ñ√∑:+
√Ædk‚Äö√ß‚Äò¬°$≈ì≈Ω√Å√µ,Z√∑ ÔøΩ¬ß¬Æ¬∂‚Ä¶"√û!n≈†VL@√õ¬Æ¬±¬∂√©√°√£/√ÉÔøΩEkÀÜ√πGEx¬µ;m¬∂¬§¬ª¬ß∆íc`Xqsc`1¬±#h√©sa√¢qgÔøΩXq¬∂ÔøΩ√∞z¬∑¬Ø√ìT¬∂√¶√°√ãÀú‚Äù√ù2√∏.¬ø≈íe¬•b¬¢¬ª¬´ÔøΩmUÀú≈í√°.#k\√õ[√õ`¬æ¬ß&nbsp;√ï¬´ÔøΩ√É¬Ω‚Ç¨√çv#(√†√ö√§l√Ä[‚Äú¬¶√ù‚Ä¢!‚ÄûÔøΩo‚Äì$√ö,-¬•¬∫=AQ\+'h¬∂U√ì(¬ªg$¬≤@√µ¬©Jy&amp;≈†≈ΩÔøΩ¬≤√ä√í√ú‚Äû¬ªN‚Äô√∫+,‚Ä∫¬°√Å√à¬∞√Ø‚Ä¢≈ì¬¢H‚Äùg√åT√ó~ÔøΩ‚Äì;m[≈°ÔøΩ√Ñ‚ÄôF√Ä*√ò√ò¬µX√Ä√†√óA√ö√å-¬¶√Ü√õ√´√í‚Ä¢≈æ=√ê‚Ä†N√±¬∏√âq√á&amp;√∂l‚Äûm√£i√≠√í√≥B√å¬ÆÔøΩÔøΩYT¬™3¬∏¬ªHP‚Äπ√òj-√ì√™V√Ö√É√Ä‚Ñ¢¬≤√Ñ¬£:‚Ä¶m&nbsp;|V¬®¬Æ‚ÄòÀú‚Äì√ñ¬∫√òX√ò√ú_√ï4¬•&lt;
"%‚Ñ¢¬™¬∂√Ä√π√ë¬∂√õcX√ï¬º√∏√æ¬§~]F(√í√ÑQ&amp;D]≈†6
≈æc√ï√≠≈†R¬´b"√öÔøΩ¬™Z√ó¬æ√ã√µ√ó8√Æ√ûp√´+F√ô√ú‚Äò¬®-{0]¬πE¬µ=#&nbsp;√óIÔøΩk√úhEÀÜ5K`√∞√¨C4HH√ô¬ß‚Äú√•
R¬´;¬•‚Ä†E‚Äπ‚Ä¶¬∫¬¥√ô≈†¬®R√§6$√òh*√Ü√Ñ√Ñ`y√Äb‚Äò√¶'B¬§√•√í√∂¬∏={)M√ñ%√¨o√£nW¬ØV,(¬´‚ÄòP√òTZ√ñ√ã‚Äì√ñ√≤R‚Ä¢‚Ä∞¬∑F$ÔøΩd15¬∏√º √éx¬•‚Äö¬∞√´¬ª{Z√î≈∏p$√åÔøΩ‚Ñ¢√ú¬¶@Y¬¨U√∏6%‚Ä†‚Ç¨√ív√ñÔøΩ‚Äû√Ç≈í¬§@≈ìQa&nbsp;√êZ√û√°¬ßl.‚Ä¢¬°R¬±r‚Ä¶‚Ä°‚Äô‚Äù¬¨qn¬¶¬¢Y$I≈ì\"‚Ä∞$6¬∞#`√±√º¬´ÔøΩk&nbsp;‚Äö)dBJ¬∫‚Ä†S‚Ñ¢¬µ\¬µZap√ë(X√°U`u√û¬ÆPB"√•U,@)J∆í8≈íÔøΩy*¬¨√á¬§√©j√å7B%X√å√™c3.d√≤qt√£1Qa¬¥)√õZ≈†‚Äô√ô¬ºD[√ão‚Ä¢TZ√ê&nbsp;√äK
‚Ä¶¬¥4¬•W√¶¬Æ*¬≥3*¬µ√µh√ù@¬∞'[ÔøΩ/m/¬∂¬¢√õ¬≠‚Ä†*√à√¢B&nbsp;FbF‚ÄìQ¬¥
kA√Ç√ÄE≈íHF≈°:‚Ä¶G√Äp√öy√äh√ó‚Äôn=jR&nbsp;wO¬±√è`@¬∏ÔøΩ√à:H6√î≈æ‚ÄπU√í√é#√Ç√â‚Ä∞
HH√ô√ÇÔøΩT≈ì&nbsp;‚Ä∫j.6S$5¬¢A≈∏‚Ä¢&nbsp;√óK{‚Ä†¬¶bS‚Äû¬®1¬≤‚Ä¢+√ëc¬¥P√±VVÀú‚Äò#≈†¬∞nV√´√íi√Ö√ÅpAO+5√≥_√Ñ:¬´¬ßY¬∞√∏,61√ÉD¬±5¬Ø¬≠¬∂m5}≈°¬∞¬≤fMN√±¬∂√éM¬•(‚Ñ¢@:tg¬¨√´¬©R¬®√ô¬©Y¬´5¬Æ¬•J¬£f¬•f¬•*T¬™6jVjR¬•J¬£f¬•f¬•*T¬™6jVjR¬•J¬£f¬•f¬•*T¬™6jVjR¬•J¬£f¬•f¬•*T¬™6jVjR¬•J¬£f¬•f¬•(√ø√ë¬∑{≈†m√Ñ‚Äπ√Å‚Äπ¬∏¬©≈°L‚Ä°[¬∫[¬§√µ¬°¬Æ¬ºÀú√ù√ï{√Ç¬∞‚Ä¶‚Ä¢‚ÄôS`¬¶√™5
C¬∑ÔøΩ√ò√ü√Ö\-√™cq1nw
¬£+¬±/‚Ä∫K√ò|‚Äô¬ª√átq`√ò√∞ÔøΩ√≥√ã√ª‚Ä¢ÔøΩ¬§√®√ìb¬≠√ç√ê¬πÔøΩ‚ÄöB_ e9¬≤&nbsp;6P√Ç√∑√ò,F¬∂¬≠¬∏¬ßÔøΩ`¬∂1‚Ä¢√ò(*√ã}K√Ñ
√©¬Æw‚Ä°cv√ö≈Ω|¬™q¬∫8√°¬∞A√±√è‚Ä¢L'a¬¨bENm√î√ÖC‚Äú6¬Ø√ä√°√Øl‚Ä¶‚Ä∞¬∫¬©√§[√Ö√ìR≈∏‚Äπ‚Äπ+√Ñ@¬´qK√á‚Äî∆í√Åo|√∫hN‚Äî√í¬™;¬°ÔøΩ`U‚Ä†‚Äö,A}¬™^h√£¬∫&nbsp;√µ¬§√πT√ÇvS√ö*√∏1√ò√ó‚Äì4‚Äì¬´$≈í√ÜE√à¬¨.H¬±76√®√µ√´¬•\o4q√ùPz√í|¬™^h√£¬∫&nbsp;√µ¬§√πT√ÇvS√õ]≈°√å¬≠ÀÜ√†d8‚Ç¨≈†√Ä¬∂N
‚Ñ¢‚Ä†[hM√Ä¬±√±{u√è√≥G√ï¬≠'√ä¬¶;¬°ÔøΩ"√ñ∆í√ñ‚Äú√•S	√òiÀÜm¬≠¬∏‚Äì√Ñ√∞‚Äò≈í0√£√§√•_∆í¬ø√ó¬∑¬´j‚Äì	¬ß8e√∞ÔøΩD¬∑l√Å¬∂√≤ÔøΩ√à¬¨ÔøΩ√™∆í√£¬ø*‚Äî‚Ä°√£z&nbsp;√∏√Ø√ä¬©g‚Äû.√£=}¬Ω@¬æ#Àú√ë9g¬∂√•Z√ï¬±¬æhZP&lt;∆íl‚Ä¶/‚Äì√∑¬Ø√∞
≈Ω√™&gt;-bS‚Äû√ö≈ì√°9^-≈°√ño√Ü√µA√±√ü‚Ä¢K√É√±¬ΩP|w√•VA!‚Ä¢¬∞∆í‚Äûh≈íÔøΩa‚ÄòY1¬∞√ÜfA√ås≈Ω√ä√®√°√æ
‚Ä¶i6^&gt;√ç¬æ;t√õmS‚Ä†li√ÑM√Ç‚Ç¨0√°√õ&amp;nY√ó¬£√Ö√•√µ+'‚Ä°√£z&nbsp;√∏√Ø√ä¬•√°√∏√û¬®&gt;;√≤¬´√∞¬∏#‚Ä¶√Ö¬£9√ä¬≥ÔøΩ√Ç&lt;=9F{kf5¬±y¬°1v.sf√§o‚Äö√æ√ï√òfÔøΩ√Ü√ú-√Ép‚Äôm¬æ√å√Ü√ñ¬øGW≈†¬π¬æÔøΩ√™∆í√£¬ø*‚Äî‚Ä°√£z&nbsp;√∏√Ø√ä¬°‚Äô¬°p√®√ó√ñ@‚Äπ√¢9√™≈ì¬µh
XW√ù∆í4bE&lt;‚Äîb√§√≤nt |√∞√®√¢¬•HÔøΩ3√¶√àZ√ç‚Äùu¬®‚Äπ√ì\√Ø√Ü√µA√±√ü‚Ä¢K√É√±¬ΩP|w√•VX‚Äì`pÔøΩ‚ÄùEEP"‚Ä¢Zu¬±≈°√õ‚Ä¶ÔøΩ¬∫√äT¬±‚Äû7ÔøΩ3^√§e¬µ√µ¬µ√∂U‚Äô&gt;XT√∏√êz√§W;√É√±¬ΩP|w√•R√∞√ºoT√πU	3SR‚Ä∞¬Æ¬§-≈°√õ¬≠√∫√†Ve‚Äú√°!H~9¬æ≈ì[kmmY<!--?√ï√á-->U/√Ü√µA√±√ü‚Ä¢X√Çv√é!¬∂¬∫√ó√£≈æ√à√∑Mr]√î,Q#‚Äô√Ö¬Ø#≈ìÔøΩ√£]tPGA√ì¬´¬¢≈∏√É√±¬ΩP|s√•R√∞√ºoT√πT√ÇvS√ö*RbwY¬°9#√†√•√î√©}≈Ω4√ï‚Ç¨√§√û√á√†¬∫-R√Ü&gt;√©p¬≤x:?U
‚Ä¢√ö
¬±kv\U~ÔøΩ√™∆í√£¬ø*‚Äî‚Ä°√£z&nbsp;√∏√Ø√ä¬¶¬≤Àú‚Ä†√ë]√å¬æ¬°√â√∞#1¬∞,.¬¶√ùw¬¨√ç¬∫|X√å,¬™¬™¬¨‚Ä∞,√ß6¬∑'`=G[T|?√ï√á~U/√Ü√µA√±√ü‚Ä¢L'a¬¶!¬¥T‚Äî¬∫≈Ω¬¥|≈†¬¥L√Ö‚Ä†k8√ï‚Ä†RG¬´z√©G/	{¬£¬•¬≠√ãm¬øQ5√ã√∞√ºoT√πT¬º?√ï√á~U0ÔøΩ‚Äù√Ñ6√ñ,L√∏√Æ√å¬§x!√ñ¬•√¨-¬ßWUv√∞o;a0√≠‚Ä∞f(‚Ç¨√≠)√õ√£¬¨≈í&amp;√•`$x¬§√πT√æÔøΩ√™∆í√£≈∏*¬∂1,√É¬Ø¬°√à‚ÄôXtÔøΩu√ØX1√çÀÜ√°U`XFK¬¥|‚Äô	√ïG√ê¬≠¬®&gt;@6√ñ√Ü√µA√±√ü‚Ä¢K√É√±¬ΩP|w√•V¬º'a¬©√¢Et√∞√¶oÔøΩ√Ç9√Æ
xKl√çmvx√™√ã√ó#√É√±¬ΩP|w√•R√∞√ºoT√πT√ÇvS√õ]{√í¬Ωr<!--?√ï√á~U/√Ü√µA√±√ü‚Ä¢L'a¬¶!¬∂¬µc√õ‚Äû%‚ÄôPr‚Ç¨P¬£)$√¥√üeP[8l¬©4j√ã`X¬°$¬±}:ÔøΩÔøΩ7¬®x~7¬™≈Ω√º¬™^ÔøΩ√™∆í√£¬ø*ÀúN√äbE:√â¬∫ ÔøΩ%√°¬§6≈í‚ÄöNw¬≤X¬ØB‚Äπ√∏√≠jQ-->9&amp;S/√ë‚Äî!¬∏&nbsp;√ú√§k‚Ä∫
B√≤m√£¬Ω7‚Ä°√£z&nbsp;√∏√Ø√ä¬•√°√∏√û¬®&gt;;√≤¬©‚Äû√¨¬¶!¬∂¬§√ç¬∫‚Ä†‚Ç¨√Ñ%36‚Äû¬∫¬´√∞y√â√îX√ö√ó√ó¬Æ‚Ñ¢[√ÅB¬¨&amp;%^√¨√Ä0b¬∫√ü5√ô‚Ä¶√à√®√µ¬µ¬µ7‚Ä°√£z&nbsp;√∏√Ø√ä¬•√°√∏√û¬®&gt;;√≤¬©‚Äû√¨¬¶!¬¥S√ù@p√Å¬º√∑\‚Ä¶√¨
6R√ó¬π66¬∑O]√™y√±bQ‚Äî¬Ø‚Ñ¢‚Ä∞t¬≥ÔøΩ≈°ÔøΩ¬≠¬¶¬¶√ñÔøΩ≈Ω¬£√°√∏√û¬®&gt;;√≤¬©xv;¬™Z_‚Ä¢L'a¬¶!¬¥WG
√Æ√òh≈í¬°‚Äû≈ì√ß,√ó√Ü√£√ãW^¬πÔøΩD:√∏¬•√πT¬º;√®a√∫≈í√ü*ÀúN√äH√õ]{√í¬Ωq√é?¬¢√¨!¬¨‚Ä∞@√∂√Ö7≈°X¬ø¬¢=i¬æU √ík¬≥zW¬Æ1√ù,P&lt;√≤‚Ä∞G√à¬•√®√£¬•,√Ç83‚Ä¢√â/`√ñ
/}&gt;¬≠ √ík¬≥zW¬ÆH√Ü√£d
‚Ä†-√ïy/S√∞ÔøΩ√ê√™∆í√£≈∏*‚Ä¶H√í¬§ÔøΩ¬µ√ì¬Ω+√ó3√ÇwC¬™≈Ω|¬™^¬∫P|s√•R
$WN√¥¬Ø\√è	√ù¬®&gt;9√≤¬©xN√®uA√±√è‚Ä¢H4‚Äò@√ø√í√è¬Ω{√∏√Ñj@√∫‚Äò¬≠√¢Y$√ÜGWNb≈ΩT‚Äôu√ã¬•¬¨*ÔøΩ√§‚Ç¨√ëH¬≠¬®√â{|Y¬¢√æ
?C√Æ√ñ√Ñ¬π‚Äû√Ñ≈ì¬∂‚ÄòLM;(x¬Æ2<ax√ê‚Äù‚Äò√â√å√ñm≈∏`¬£¬£a√®¬±¬µ√©√Ç√Æ‚Äπf√Çe √Ñ6sa¬®"√É≈í√áb6^√îa√Åe√®e.="" b)≈íq√ì="" √¢¬Æ="" √∞√•¬π`2‚Äû-pmn‚Ä∫v√ö√ñ√®√õsu¬£n‚Äú√ÖÔøΩ√ù¬∏√Å‚Ä¢v√ãn‚Äò{√ú√øÔøΩ√ö"√†¬£√¥"‚Äî¬°≈íc≈ΩÀúoq¬°lnc√É√ò‚Äπi`¬º^¬Ø)√µ¬™√º‚Ä¢√í√†b√¥"¬®i0ÀÜ√º√Åkr#0r√õ="" j√é1√ál≈†¬≤d¬•‚Äô¬µ‚Ñ¢p#√†√ìn¬£~‚Ä∫[√ó¬§¬≤√†‚Ä∫(√å¬†¬Ω‚Ç¨s¬£\√õkz¬¢‚Ä∫√†√£¬¨`5‚Äú%,‚Ä¢¬Æi¬∞q‚Äûf√ïdÔøΩ¬´(,,hpi√òtf'p√æ9¬¨√ôs[¬ß√à="" 7√Å√ál≈†¬≥d¬•‚Äô¬∑√Ü0√≥="" ‚Äô0n√É¬®¬©√∞1zlca¬¶√Ö\√ú‚Äù¬≤wkÔøΩ‚Äπ√ê≈†\="" ^‚Äûs|t√Äx¬´‚Ä∫‚Äô‚Äìj√©p1zulp√ê.y‚Ç¨*,3qÔøΩ‚Ä†‚Äπs¬≠7√Å√ál¬±d¬•‚Äô¬∂="" 0&√úx√µ√ãn8¬±u√©√©*q≈í<¬†Àú√≤¬µ¬¥="`√ö√∂#&nbsp;√ò√ì|t√Äx¬´JY+¬•√Ä√Ö√®E./B)¬æ:`<U√ç√âK%t¬∏¬Ω¬•√Ä√Ö√®E7√Å√áL≈†¬π¬π)d¬Æ‚Äî¬°¬∏¬Ω¬¶√∏8√©‚Ç¨√±W7%,‚Ä¢√í√†b√¥&quot;‚Äî¬°√ü0*√¶√§¬•‚Äô¬∫\" ^‚Äûr√†b√¥"‚Ä∫√†√£¬¶√Ö\√ú‚Äù¬≤wkÔøΩ‚Äπ√ê≈†\="" ^‚Äûs|t√Äx¬´‚Ä∫‚Äô‚Äìj√©p1zkÔøΩ‚Äπ√ê≈†o∆í≈ΩÀúsrr√â].="" b)p1zm√∞q√ì√¢¬Ænjy+¬•√Ä√Ö√®e.="" b)¬æ:`<u√ç√âk%t¬∏¬Ω¬•√Ä√Ö√®e7√Å√ál≈†¬π¬π)d¬Æ‚Äî¬°¬∏¬Ω¬¶√∏8√©‚Ç¨√±w7%,‚Ä¢√í√†b√¥"‚Äî¬°√ü0*√¶√§¬•‚Äô¬∫\="" ^‚Äûr√†b√¥"‚Ä∫√†√£¬¶√Ö\√ãe`e‚Ä†‚Ä°nÔøΩu‚Äôq{x‚Ä∫√±y9o‚Äù√ß√ö¬Æ¬ß¬°¬∏¬Ω¬°pv√ñb‚Äò¬≤¬πruk≈Ω+{√®5j¬π%ÔøΩ√â|√ä√ã√Ö√∏="" e‚Ä†l√Ç√ú"√ò‚Ä∫ÔøΩk¬±√Ä√Ö√®e.="" @+√Å√õ@¬§l¬Æ4¬Ø#√°="" l√Å≈Ωc¬†l√ç¬†="D√û¬∞¬¶:B√™ft1¬≠√Æ√¨N‚Äì√π√Ö¬º¬ΩFÀÜ¬§H√ïÀú‚Äô#D@√Ñ√òE}¬∑√™¬™U¬∞ÔøΩ¬ß" √´¬£¬¢√Ü√ö="" √ágpt‚Ä†*s{‚Ä∫km¬∂(@8¬∏√†ÀÜ√ô‚Ä¢p_)√°="">`n5ÀÜ¬µ¬≠ÔøΩ¬´ly‚Ä¢1EA$b√Ä√êt‚Ä¶:ÔøΩ¬ÆÀúvR√ê√à‚Äô¬¨6‚Äû√©√â√óZ¬´s@√°√∑@ucH√ÖÔøΩ$g≈ì√ß√ë¬¨]cs
√ÄXR6√¨√ìÔøΩ¬Æf¬•‚ÄîtttTWU√å≈ΩYv√¶+n≈°√ú¬£¬¨cD√ê+2‚Äì¬±¬π√ñ√ô≈Ωc¬ØÀÜyt¬Æ¬µ‚Ä¶,¬´√ïSg√Ör√†kXH\&nbsp;1¬•e¬≥‚Äπ(@‚Ä†√†√ùÔøΩOV‚Äì√±√ì√õ|¬°@¬≤√≤¬¨¬∂&amp;√ó√ó√´¬Æ≈æU√™¬•‚Ä¢z¬™8¬´8k$K&amp;_=¬∂k√¥[√§T√≤V≈í¬´√ïK*√µS0√ê√ø√ì}√§srv;√¶≈í¬≤)b
‚Äù\‚Ç¨P‚ÄúA√ª√â≈†Q{^;_√¢√ç√°√ë¬∞¬∞|√®‚ÄòNK‚Äô√ö¬™;L√á¬£[≈°R¬¢‚Ä∫¬°∆íu√Ç¬™%√¢$ÔøΩ)"¬≠√∞ÀÜ	¬∞‚ÄòX√¶U¬∞!ÔøΩ√ü‚Äô4¬æ√ö√äÀú\√¶]J√ÖlYH92√õMI"¬°‚Ä¶√ú√ú;I√∞ÀÜK
fÔøΩl¬∂c¬•)Z√£√Üae$G*¬∂[√ú∆í¬¶‚Ä°)√ó¬ß]*√†C√äA\¬® √¥√ñ(√∑*√§YK;:ÔøΩn√ôz6√ó¬∑¬¨+j≈í¬™√∑¬∞√¶√Ç√∂√≤)Jz√¶√â&gt;√£√à√¨√íb√¢¬≥_2p√®¬∂\‚Ñ¢¬≠}¬∂√æ√î‚Äî¬∫glB√ô√ÜV@¬æ+√û√Ñu√ó‚Äù23√éQfg ‚ÄôoRe√Å√§j≈ì≈Ω√å√™*√Ö¬¶T¬¨qÀú√õ‚Ä¢z‚Äô&gt;√°√Ü√°√ì‚Äò‚ÄîA4{V√Ä√û√Ω√∫√îc;ÔøΩLlv√•N"2¬™E√â7¬∞*+√ç|√é√ÜXy√û√í√öf[√±I√¢√æ#n¬ªiIp¬¶√ó 3¬ÆfeU¬ºv√ç¬© X_mF¬•^≈∏.#q√¶‚Ä∞qp¬øA√è$‚ÄπI¬Ω√∂‚Äπ√¥R\N√£¬¨rFqp¬ø√Ö¬§f≈æ2√Ñ√ò√≠¬µ√Ä√öW‚Ñ¢&gt;√¶c¬£6h√µ¬≥‚Ä∫fR@@I&amp;√áeÔøΩ¬∑_E√™
‚Ç¨√Ö,‚Äö&lt;‚Äîc‚ÄùY‚Ä¢‚Ä†@	-pm√êiJ√µ1[‚Äò‚Ä†√è√Åb&nbsp;F√åA≈æ3√¢√´¬´¬º√ì√ú√üM√Å√¨√ë√º√ïyQ√ú√ú`ÔøΩ√ÑP^√ô‚Äî`¬∂√ù¬æ-¬¥√ás√±ÔøΩ√≤pw&lt;‚ÄúB¬¨2ÔøΩÀú‚Ä∫∆ím‚Äù¬•z¬∑≈°{‚Ä∫√©¬∏=≈°?≈°¬•√¶≈æ√¶√∫nfÔøΩ√¶¬´√ä≈Ω√¶√£¬º	A≈∏!p3¬ßA¬∂¬∫‚Ä∫‚Äö,5¬∏5/2¬±√Ä√à%√ê
&nbsp;m√ç√êH¬®√®u¬•+√î√º√ì√ú√üM√Å√¨√ë√º√ïcÀún√≤¬¥√íb¬¢√å√•[9
√Ü‚Ñ¢√¥¬ø‚Äπ√•√ó≈ì6√•cÔøΩ√ë‚Ç¨YÔøΩ4lN√û¬ΩÔøΩu≈†‚Äù¬ØPx√∑¬§y6$√°
‚Äô¬´&lt;`Y~k¬≥M‚Ä¢¬´‚Äπ√ú¬¨2√£√ÜBT¬±`√ë‚Ä∫√î√ò√ü¬§√´√æ¬µy-*R¬Ω∆í√ç=√ç√¥√ú√ç√çR√≥Os}7¬≥G√≥U√£√¥¬©J√∂4√∑7√ìp{45K√ç=√ç√¥√ú√ç√çWÔøΩ√í¬•+√ò&lt;√ì√ú√üM√Å√¨√ë√º√ï/4√∑7√ìp{45^?J‚Äù¬Ø`√≥Os}7¬≥G√≥T¬º√ì√ú√üM√Å√¨√ë√º√ïx√Ω*R¬Ω∆í√ç=√ç√¥√ú√ç√çR√≥Os}7¬≥G√≥U√§√äQVb4ÔøΩ√≠¬ß√î√∞p
√â√ê√ÄG&lt;=‚Ä¶bs≈Ω*√µ¬ø4√∑7√ìp{45K√ç=√ç√¥√ú√ç√çWÔøΩ√í¬®Vk√ò&lt;√ì√ú√üM√Å√¨√ë√º√ï/4√∑7√ìp{45^?J‚Äù¬Ø`√≥Os}7¬≥G√≥T¬º√ì√ú√üM√Å√¨√ë√º√ïx√Ω*R¬Ω∆í√ç=√ç√¥√ú√ç√çR√≥Os}7¬≥G√≥U√£√¥¬©J√∂4√∑7√ìp{45K√ç=√ç√¥√ú√ç√çWÔøΩ√í¬•+√ò&lt;√ì√ú√üM√Å√¨√ë√º√ï/4√∑7√ìp{45^?J‚Äù¬Ø`√≥Os}7¬≥G√≥T¬º√ì√ú√üM√Å√¨√ë√º√ïx√Ω*R¬Ω∆í√ç=√ç√¥√ú√ç√çR√≥Os}7¬≥G√≥U√£√¥¬©J√∂4√∑7√ìp{45K√ç=√ç√¥√ú√ç√çWÔøΩ√í¬•+√ò&lt;√ì√ú√üM√Å√¨√ë√º√ï/4√∑7√ìp{45^?J‚Äù¬ØV√Ñ√£¬∑:R√äqP‚Ä¢x√Ç‚Äô¬≥G}¬ß√®^:g√ú√ï‚ÄìQ‚Ä∞w‚Äò¬§√ã√ã√í√Ä‚Ç¨t√≤¬™√∂h}√∑‚Äπ√©(√æ¬™)J√Ö‚Ä¶√Ä√∏F(∆í¬∞k\¬µ¬Ø√ï{√©O¬π¬æ√ºnÔøΩ√ì√£√Ω5mÔøΩ‚Ä°√è'‚Äú&amp;o:√ãr√ñ¬∂¬π¬Ø¬•√Ø√ï\√¨¬ºm¬∫o√å√Él,[√°Q√¥
O¬©Y√îz∆í¬§sÔøΩi]ZU‚Äú4√£%@√ë√àN√å‚Ñ¢Àú
m√Ö √≠ y/T√â‚Ä∞√ÜfL≈†A√†.√ã√Å‚Äô‚Ñ¢[0¬π@¬∑]√∫k≈°√®√í¬Æ{√¢1K‚ÄûFN3¬ª¬≤√∞ÔøΩ¬æP[)√ä&nbsp;X¬∞√ùÔøΩ‚Ä¢TxÔøΩ√í*√ñP√á‚Ä¶¬∞√éÔøΩ`¬∞√àe√Ø√ì&nbsp;√öz¬Æ¬≠*¬Æw‚Ä∞A‚Ä¢√ä√±‚Ç¨¬∏√©√õ¬≠YJP√ø√î}√§srv;√¶‚ÄπgÔøΩ‚Ä†‚Ä¶√¢√¢≈ì√™E≈ì]z√Ä ‚Äò√™√ê≈Ω√≤o√ÅKmOl<y√ç2b1x9"‚Äùpn√£($ÔøΩm¬¶¬§ √É¬Ø√§√í‚Ä¢[√Æt¬ÆÔøΩ)‚Ä∫√ü~i="" √ó√•s√û√¢√ú[√û√Ém√™√Ñ√Åi√Ñ¬≤ÔøΩ√°√ë‚Äò¬≤‚Ä∫p¬†≈í√ö√®¬∫√™="J√å77¬Ø√Ç+&amp;dO;7¬∞,¬πJ‚Äô‚Äö√óQr√¨i√Éa√ó'2≈Ω*√±‚Ä∫DÔøΩ‚ÄòqmNf">√ï)O∆í√Å¬∂¬§-&amp;p√πl2√õ‚Äô,I$‚Äú¬Ø¬¨:+]*T¬•!¬∂¬º^CiX√µ9√∑k√ö√ö√±yy√ó√≠v‚Äù¬≠¬∫8‚Ñ¢#11[7(√•ÔøΩÀú¬∏√±jk¬∫√ò√ê‚Äö2√ä√®¬Æ\+"¬∞¬∂c√ë¬≤√Ω‚Ä†‚Ä¢)[√©bN]Te‚Äù^√ålI¬Ω√¨√õ√ãQ8√ºAtÔøΩeSM&nbsp;¬Æ&gt;(√º≈†√ãJ‚Äù¬≠¬≠¬∫Àú¬¶‚Ä¢fl‚Ä†DR≈†‚ÄöE√â'√õ'√ú√ô¬•A¬±√∏‚Ä†e~*‚Äù‚Ä∞¬¢[(+‚Ä†.5‚Äì‚Ä¢)[[t√±,s6Rx&gt;
I¬™√û√∂√∑≈∏√†&amp;√ùlkfQ¬®:(‚Ä†√è¬≥g+_-`¬•JV√¥√ù|rD!2m@$√¥√Ωw¬¨¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JS¬Æ≈í≈íUÀú∆í≈°w=lj¬µ√ï‚Ç¨√±≈†¬∑¬™‚Äú¬∫¬¶√Ä√Ü¬∂‚Ä∞√ûf√∫¬øIjÔøΩ46√°=Àú¬™iR¬•Z¬™T¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬Øf‚Ä°√üx¬æ‚ÄôÔøΩ√™¬¢¬ºf¬Ω≈°}√¢√∫J?¬™≈†R¬≠¬Æn√¶s√ª¬°√¥√¥√øMG]*√•`c¬æ√©FM∆ícN¬∂√°QÔøΩ‚Ä†¬≥¬®√ñ‚Äò√é=¬•tf‚Ñ¢0√±4√í*≈ΩÔøΩI√ì`¬≥√á¬∫8yA√âÀú‚Ä¢(Xf'Rom,I√±√¨¬©√â)‚Ä†√é√§"≈æY9Z√¨H√ö:√≥Z¬©ÔøΩ¬π√®√≤d&lt;√í¬∞‚ÄòK!ÔøΩ¬ø‚ÄπS¬Ø^‚Äî√í¬±Y¬´‚Äú‚Ä¶{≈æ√ñ√òN‚Äî¬≤‚Äö&lt;¬§√©Z∆í(e7√ÑvV∆ís√£ÔøΩ1%¬∏ÀÜx¬Æ√év√™&nbsp;kmE√¥on‚ÄòZ¬°‚Äì)ÀÜ≈∏?e$√û√∫u‚Äú¬∑f√û≈°R¬≠¬•J‚Ä¢)@√ø√ï}√§srv;√¶‚Äπ√§¬ø√ñ¬Ω√≤‚Ä∫e√ë¬Øn‚Äπ√¥√êv√≤√ò¬¨¬∞√ö¬∞‚Äô=F4R‚Äôb8≈í√§evg])UJ1‚Äô,
≈†√™P!c‚Ñ¢GÔøΩ¬©¬≥jÔøΩ√∂√û√Ω5‚Äπp≈íÔøΩ‚Ñ¢&amp;3FC3f:.v≈æ) √©√ï¬•¬∫*X≈ítÔøΩ¬≥√Ü¬®¬¨√®√ã√∞G‚Äô√•√Ä_R√áO¬®G¬∫m PcUf√É=√Ö√ú)≈íl√∏+≈∏Z≈°iT√∞[¬Æ‚Äîl√å√°^√πT≈í√ç√é√≤K5‚Ç¨¬π]√™√™¬Æ¬§9√Ñ)√Ç_(√åXI¬∂¬∑¬•J6√éÔøΩ√à√ãq¬≤√°¬≠√™¬©"¬•Y≈°S√õ≈†.z6¬ΩÔøΩx√Ñ¬º√£√∂ÔøΩ¬ª^√ê6√ó‚Äπ√ã√é¬øh√ª¬µ≈†T)R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)N¬º¬°n¬±Vb	3¬π;s¬≠MÀú¬¢*√åA&amp;w'nc[‚Ä°t√ò√ï√∫KTy¬°√óOf*¬™T¬©V≈°‚Ä¢*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬´√ô¬°√∑√û/¬§¬£√∫¬®¬Ø¬Øf‚Ä°√üx¬æ‚ÄôÔøΩ√™¬¢‚Äù¬´k‚Ä∫¬π≈ì√æ√®}&gt;?√ìQ√óJ¬πX&gt;6√©√∞&lt;√ß‚Ä†¬∫ÔøΩ¬Ø]√á¬ØY√îkH√ß√í¬∫‚Ä¶G‚Ä¶‚Äò√úD¬≠`\√òt∆ín6≈°√ö¬®√∞hJD√ú¬∞√ä√†√ê1g#√Ö¬´‚Äú√æ¬µ&lt;√òi1xe≈†c‚Äò√â√å√ñ√£[F√®¬æ√ö√ã√§0$¬≥%‚Ä∞√ä¬¶√ô	l√´¬©¬æ¬™√§
¬Ωf¬±¬∂¬≥Z‚Ä∫‚Äò,e√â√à√Æ√•¬¨¬¶√¶K‚ÄúqkVÔøΩU&lt;.&lt; q'‚Äûl√Ü√∂√´√ï√•¬®√°¬∞¬¶√år¬±√äAaÀúV≈°^√ö(e√ΩM+U)J‚Ä¢*T¬•√ø√ñ[√â¬¢‚Ä¢N&nbsp;√áb&lt;¬Æh¬¥AÔøΩ@<sqvb √§&‚Äû√∑‚Äò√ç√â√ò√Ø≈°1¬•*-o|√™¬≠ÀúÔøΩn¬†√ú="" @7¬•‚Äò6√•[‚ÄπtÔøΩ√ô√´tt¬©r‚Äù√ÄpÔøΩÔøΩ√¥¬©r‚Äù‚Ä†√ö√±yy√ó√≠v¬Ω≈ì¬≤¬†.√Ü√ä¬¢√§≈æ‚Ç¨+√Ü$√ñg√≠v‚Äù¬®r¬•j‚Äù¬•j‚Ä¢*r‚Ä¢*t¬©jt¬©r¬•)r¬•j‚Äù¬•j‚Ä¢*r‚Ä¢*t¬©jt¬©r¬•)r¬•j‚Äù¬•j‚Ä¢*r≈ìmz≈ì√†‚Ä∞≈ì6√ú√Ü¬†¬º¬°√•f#y√û√ö√±ÔøΩm√êocw√©-q√¶‚Ä°8√∂b¬™¬•j‚Ä¢j¬©r¬•j‚Ä¢)j‚Ä¢*t¬•*t¬©r‚Äù¬©r¬•jr¬•j‚Ä¢)j‚Ä¢*t¬•*t¬©r‚Äù¬©r¬•jr¬•j‚Ä¢)j¬Ω≈°}√¢√∫j?¬™≈†√±≈°√∂h}√∑‚Äπ√©(√æ¬™)j¬∂¬π¬ª‚Ñ¢√Ø√Ü√®}="">?√ìQ√óJ¬π[√¶√ù|√Ø√†√õjE√ìY√îk√á8√∂‚Ä¢¬ø‚Äôa√ô"R√è‚Ñ¢
≈í√º√Üo¬©¬≥¬¶¬®√Öa√±3√è√Ç%ÔøΩpl≈†s√≤tml√ÅfKU√ê¬¢¬§‚Äπg√èpn3√ï√ëz√ÖÀÜ‚Ä∫t≈í‚Ä¶√∏‚ÄôÀú√ç¬£¬æ}‚Ä¢¬Æ¬¥7Q√ê/{‚Äò¬∂¬±Y¬´[‚Ä∞x ÔøΩÔøΩ1√â#0X*¬∞`K^√Å¬≠√¢√õ√ëT¬¶ta‚Ä∞BIÀú‚Ç¨T |¬•A√âr√≠6S¬∂¬≠Y¬±√º# √éd¬ø7v√çe√î‚Ä°¬∏ui¬©¬ÆÀÜ7≈æÔøΩ:-√≠q√ì≈†≈æ‚Ä¢*T¬•√ø√ó≈Ω√≥n0√ò‚Äö6√∞-√µf¬¢t@¬¶&amp;v.‚Ä∞√ì^‚Äπ√ê√û√≤9¬π;√≥F4¬•bi1#*√ÑE√≤XdUm-‚Äù‚Äù√ì¬®‚Ä∫√¥√ö¬ßÔøΩy≈æe.√ö≈í¬¶E√à√º‚ÄòÀúZ√ã&nbsp;k√õJ√ïJ‚Äù¬•J‚Ä¢*RÔøΩ√õ^//:√Ω¬£√Æ√ó¬¥
¬µ√¢√≤√≥¬Ø√ö&gt;√≠)P¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•:√≤‚Ä°‚ÄùUÀú≈æ}√≠¬ß√î√π√Ö¬∂√úZ¬¨√Ö[√Ç$¬∑¬£5¬∏wA√ΩÔøΩ_¬§¬µG‚Ä∫t√∂b¬©¬•J‚Ä¢i¬©R¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J‚Ä¢*T¬•*T¬©R‚Äù¬©R¬•JR¬•J‚Ä¢)J¬Ω≈°}√¢√∫J?¬™≈†√±≈°√∂h}√∑‚Äπ√©(√æ¬™)J¬∂¬π¬ª‚Ñ¢√è√Æ‚Ä°√ì√£√Ω5t¬´‚Ä∫¬π≈ì√æ√®}&gt;?√ìQ√ñu√Ü¬±√é=¬•t¬©R¬•X¬¨√í¬•J‚Ä¢)J‚Ä¢*T¬•√ø√ê}√§srv;√¶≈íh;y√úÔøΩ≈Ω√π¬£R‚Ä¢*T¬©JT¬©R¬•)
¬µ√¢√≤√≥¬Ø√ö&gt;√≠{9P√Ä¬©¬∏Z√†‚Ä¢&gt;¬°≈†√±‚Ä∞9√á√≠v‚Äù¬®R¬•J‚Äù¬•J‚Ä¢Mc‚Äò√ç‚ÄòY‚Ä∞√®≈°√à√®√≥¬®Li√ä¬°J¬¥.√é#¬ær.R4:√î≈∏s¬±√à√´@√°≈∏`√ãlVp0√î{√ïC|M√ñbtÔøΩ‚Äì‚Ä¢t&lt;√Ö√ùK_‚Ç¨o]~]1√ú}√ío]O√â¬®≈í√≤Mc¬µ√®bw√ê√≠√´*√ë.
¬∏H]o¬≥≈†O¬πSM√ç√á¬∫p‚Äπ‚Ä¢√´¬µ¬Ω¬£Y√Ç√õz¬¨√Ø¬∂√†k^!‚Äô‚Ä¢n‚Ä°rwG¬π√¢ÔøΩÀÜ√±√ô}√í*gq7Pm‚Ç¨√ΩI~]`ÔøΩ√òH≈æ√µX7¬≠
.∆í¬º‚Ä°o\√™U¬Ø√å√å~b≈ì√úZ√∫u√∏√©‚Äîs¬±√éHX√ò√ò√±MH¬£
*√É&nbsp;u√ñw√õ}];√®v√µ‚Äì‚Ä¢j]√é√á3√∞b√çk√ò¬©√ô√í¬Ø√≥u?¬©/√ã¬®≈æOtN]ÔøΩ
√´cK&nbsp;√Ø!√õ√ó:‚Ä¢m}√â√ù√πP7¬©f√∑	¬®ÔøΩ√å√ù@0?f‚Ä¢ ≈í@ ‚ÄöYV7√´]];√®v√µ‚Äô‚Ä¢i|5
≈°	√æ‚ÄöO¬πW&amp;√£n‚Ä∫≈í√ãX√µÔøΩ6√πM`‚Äö≈ì‚Ä†√ìÔøΩ¬¨√Ø¬∂√Üx√ì&gt;¬¥+
√®√Ç√ùb¬¨√Ñ√ì¬π;K√ó√¶.√©‚Äö/√õ√®‚Äî√•√ïX¬¨-%fh\√¶√á) √´√¢¬≠≈†f√ã‚Ç¨d√Ø≈†`g‚Äù6uv√õ8‚Ä°B`√®a√Ö√áY)V¬∏√∑7*p‚Äò√Ä√•z√≠m≈æZxw+t'¬£ÔøΩÀÜ¬π√ôvm√öEk ‚Ç¨I‚Äôj[√≠¬±&lt;4√à√Å√°
5≈Ω‚Ä¢t√¢√ÆÀú√õ√µ√ó√•√ïm¬π[¬¢¬∑¬º¬ßP¬ø¬πX≈Ω;&gt;√ä¬±¬øZ√¥1;√®v√µ≈Ω‚Ä¢^Àú&lt;[¬ø¬∞¬πk√ö√ôMX√õ‚Ñ¢ÔøΩY&amp;ÔøΩ√É6√Åo‚Äú¬≤¬≥‚Ä¶¬∂√µY7d]A‚Ä∞√í4VJU√í√≥u-~ÔøΩ≈†_‚ÄîU¬æ√§n‚Äùb√≠[√Öf√∑	¬¨c
C‚Ç¨‚Äö{√ê¬¨o√ñ¬ΩN√∫¬Ωa¬•Z√é√¶c√î`p√ç:√©‚Ä∫sq√®¬π≈°	√¨‚Äú√ÆVJ¬∞√í√®Vw√õg‚Ä∫N√∫¬Ωe¬•[¬£√ú}√í‚Ä¢C$
c√óe√∑H¬©√Ñ√ù1√∞∆í√µ%√πu‚Ä∞√Å ‚Äô'¬ΩV7√´C‚Ä∫N√∫¬Ωs√©V√è2¬∑F√∂√∞w√ì√ÖM√¶f√®X≈æ√¨6√©R(√ÉJ‚Äò√ê:√©¬øZ√™√©√üC¬∑¬¨‚Äù¬´T{ÔøΩ≈Ω‚Ä¢¬≤¬§H√õu+√≠‚Ä∫U√æbn¬ß√£√µ%√πu√Å√à√•√è√ã¬≥¬¨‚Ä∫√ñ√Ü‚ÄîA√ûC¬∑¬Æu*√ú√õ‚Äú¬∫)¬∂√õ√ëf√∑	¬¨√Ø‚Ä¶√Ñ√á√ã‚Ä∞√ó√ä¬§T‚Äö;	
√Ñm‚ÄòAv√õhu&lt;√¶¬©¬•J‚Ä¢F¬ßJ¬Ω≈°}√¢√∫J?¬™≈†√±≈°√∂h}√∑‚Äπ√©(√æ¬™)J¬∂¬π¬ª‚Ñ¢√è√Æ‚Ä°√ì√£√Ω5t¬´‚Ä∫¬π≈ì√æ√®}&gt;?√ìQ√ñu√Ü¬±√é=¬•t¬©R¬•X¬¨√í¬•J‚Ä¢)J‚Ä¢*T¬•√ø√ë}√§srv;√¶≈íh;y√úÔøΩ≈Ω√π¬£R‚Ä¢*T¬©JT¬©R¬•)
¬µ√¢√≤√≥¬Ø√ö&gt;√≠{@√õ^//:√Ω¬£√Æ√í‚Ä¢
T¬©R‚Äù√†‚Äò¬≤¬∫√ª‚Ä°≈†≈ì√Æ‚ÄûP¬ºrXz~Eq√´¬£¬∏&gt;¬∏~√ë√∫¬©¬©≈Ω√ê3*√í¬≤`√§uV¬´√™¬≠j√§‚Ç¨aHÔøΩTjM≈°√°≈°√†√©√Ñy/m‚Äù√¨√åx√Ñ√´ÔøΩt¬∞*6√®
¬∂S√ú√´&amp;√ûÔøΩ-Ly#¬´:√∂:y5√¶√ó2'e\√ù¬ª√ç√àUÔøΩua¬±F√èRH$,
√ô‚Ä¶≈†‚ÄúdCj√â¬∫√ò√â¬∞¬∏ÔøΩBWAbs%¬´FÔøΩ!-√î√ú√ü¬©\√≠√û¬∑‚Ñ¢2[ √≥√ò√π6≈°√ù¬πUZ√Ω&nbsp;B‚Äò:d¬≠√ù6√ï¬¨¬¥‚Ä∞√•^≈íJ#N√å¬ªZ√ó‚Äû‚Ñ¢¬•√Å√Å+ÔøΩ$a≈ΩD¬∏√ó√î5¬°dc‚Ä¢s¬π√Ü¬π@c¬≥B:¬µ¬¨‚Ä∫ÔøΩ3¬∞¬∂√è√å¬Ø'ei[√ß¬´√¶?√®√•x¬™√Ä√ünÀÜÔøΩ‚ÄûteR√úÀÜ‚Ä∫√ï¬æ
√§∆íP√ßl≈æ√∂M&lt;¬•¬∏0‚Äî*¬∑¬Ω√î√ô√Æ	√®U¬´&lt;√å√ä¬¨√Ñ‚Ç¨l√ó=[-T¬øG'a√ïum¬≠√≠R≈Ω√ú*XE√ä∆í√Ü√õP`√§f¬≥eG‚Ä°{BJG&lt;¬®√èOsf√ûN√§√¢¬¶√Ñ√£q≈ì)√í√äÔøΩF‚Ç¨ap:√´¬¨¬Æ√än¬¨√åln-√≠¬∂¬∏[∆í√Ø√Æ√®m√övm√•¬µw
√≠¬©s¬Ø√É4_S√á√ïV√π!√î‚Ä†‚Äö¬®≈Ω  
¬´N√†¬∂‚Äö√õ≈í+√ãÔøΩC]¬¥√¢≈æ√ÑU¬±¬±2√±Àú)¬±q‚Äù√≤¬≠¬≠4RJ≈†BÔøΩ√Ä‚Ä∫‚Äô√≠cs√ê/√ëL9:√´√Ö√∏f≈∏6√î√îF~‚Äù√õ√™x¬™≈ì9
√ùeD√ü √ùi√®√ôx¬ªnN√Æ√Æ‚Ä†'4&amp;P&amp;ÔøΩ≈Ωms√ã#B-]‚Äî¬∞r32√õ@[√àmC{√£√∑√Ø	¬≥‚Ä∫√®√ô√é‚ÄùJ√ó√é√ñ2m√∏-WwN[≈∏q¬®‚Ç¨¬π√à‚Ñ¢√Å:¬≥≈°√ëb√ö√ó≈Ω‚Äô√ç9¬°√åi
¬¢"√•∆í:√•√ô`Wh√ñ√Ωu&amp;‚Äò√Ñ‚Ç¨‚Äπ¬•‚Äö¬®6B/√ì√ï¬≤&nbsp;9-¬∂√ôz9G¬∑√óI¬πM√â√•√∫
¬ß‚Ä¢√£¬™P6m√≠+r¬¢‚Äπ√∑ √í6√µm7√Øc√∫√µ√ïx√¨T√ê√†¬ß‚Äî≈†
 #\√£V√Ö√óT√†1‚Ä†i‚Ä∞i√ùFE√ål&nbsp;u√ìn‚Äì‚Ä∫‚Ä∫‚Ä∞¬∑&lt;√¨r≈ì¬µ√õUn5√Ü	¬µ`|&amp;^F√û≈†¬º‚Äì√ì√Ñ6√≠√å+≈ín¬µ¬£8)19√•5]¬≠¬ß‚Ä°√õR¬£%"‚ÄòX√®3¬Æ¬∑√ß`¬§k_n\¬≠√§√õ*r‚Äòx¬°‚Ñ¢¬ÆWFM‚Ä¢Y¬ø√ê¬Øo‚Äö√•√∫≈æ*≈ì‚Ä∫~)¬ª}≈∏Q¬´¬™/X‚Ç¨b"√ã∆í√Ñ√è¬µ√Ñ√ìee¬∞¬∞¬πn7¬≠\ÀúwBiwr\*≈í√ãb¬ºU√ìi¬µtl:¬¢¬Ω√∫y√µ√ó	√∑Tb?k√ΩT√ï√ç√Ü≈†Wu¬™b√É√Ñ‚Ç¨c#Àú‚Ñ¢∆í√áZ¬∑e¬§/fTr√Ñ√¥C.y‚Äú¬¥√óqd`√Ä¬´¬π=ÔøΩ*√∫¬¶√ï(√ù¬¨\‚Äô√¨3≈ìh
¬Øa√¢¬®√õS!R'¬´√¢¬ßNl√û√º‚Äì√•l√§√¥x¬™¬°√Æw"¬∑√üD√Ä&nbsp;*‚Ç¨n√öÀú√ê√ï√ò√öt≈°Twe¬≥3s5‚Äùx‚Äî¬¨V
√õ√ábp√∏%‚Ä¢
‚Ä°i≈†√ä;‚Ä¢¬®√õ¬§!√™√è√ây&gt;*√•o‚Ä†√ûgGl¬£√ßO√Äry&amp;¬¨√Æ0&lt;&lt;√ô0$lRGz¬®√Æ√§Sk12√à√é≈íK‚Äì≈æ√í¬∫¬°√º√Æ&gt;3/≈ì√Ül¬©≈ì\¬®7¬π¬æ¬µ`‚Äò√âP√ål‚Ç¨¬µ√≥m√ï¬¥√ê√ïkÀúG¬≤ÔøΩ9ÔøΩDr¬∑RN_O≈Ω√ù;y~:√ó|
√∂√Ø¬∑fx¬´*≈†72B¬Øt¬°√ï#¬™√±√≠=¬®‚Ä∫√à√∑A{ ¬®√ó6¬´l√ï¬¢i≈°√°√≤ÔøΩ‚Äù√¨l√ùV¬™‚Ä¢√∞;√≠¬≥`√•}¬•√òD8¬ß‚Äò√ä√ôP
(ÔøΩ‚Ä†¬≠¬¶¬±u@√ú¬§√Üka¬£NG	;v√≥√´‚Äî¬∏√ò√ô¬±‚ÄòO$¬ß++¬™‚Äö‚Äπ¬∞jt√óQ]‚Ç¨9XÔøΩF¬π‚Äù%¬º`[S\=√≠_‚Ç¨√Ñ[7:¬º≈æV√É]¬≥s¬∑1√∫S‚Ä¢√ë√â√±√ï≈æH√ß¬∫\em√•‚ÄòuECr[E¬µ‚Äû*‚Ç¨¬£!√õN¬≠¬µ5v\√Öu¬∫¬Æ¬¨ÔøΩ‚Ä†√§i¬∂¬§‚Äô√ä¬®H`6k1√≤‚Äπ¬®√≠7¬∂√Ö√•r¬∂7¬∑√ïOa√í≈∏¬£9~¬≠U`'@√ê¬∫¬∫√à¬©YE6Àú@∆íz√Øaq√Ä√êFÔøΩ\]√ù√ùlV"ÀÜ%≈íJ√ó"√¶√¶√æ?q¬§√ù¬Ω√ë‚Ä¢J¬¥≈°‚Ç¨&nbsp;|≈†√ï¬æ≈∏√ô√å&amp;√èV¬∏‚Ä¢√ü√ú¬¨m√ô¬≥‚Äö¬§ÔøΩ√ä‚Ç¨‚Ä¢‚Ñ¢fjÀÜ¬±i‚Ñ¢≈ì¬¢¬≥l√à√≤√ám;1cv74√î¬©T√â,KI:I√å√ñ√™U√¨√ê√ª√Ø√íQ√ΩTW≈í√ó¬≥C√Ø¬º_IG√µQX¬•[\√ù√å√ß√∑C√©√±√æ≈°≈Ω¬∫U√ç√ú√ét&gt;≈∏√©¬®√´:ÔøΩcX√ß√í¬∫T¬©R¬¨ViR¬•J‚Äù¬•J‚Ä¢*R‚Ç¨√ø√í}√§srv;√¶≈íh;y√úÔøΩ≈Ω√π¬£R‚Ä¢*T¬©JT¬©R¬•)‚Ä∫&gt;S√Å√õ=≈Ω\√ó√ã~‚Äπ√õZ√±‚Ä∞9√á¬ø¬¢&gt;√≠{@√õ^//:√Ω¬£√Æ√í‚Ä¢
T¬©R‚Äù¬´¬£¬∏&gt;¬∏~√ë√∫¬©¬Æut¬∑√ß√ó√öo¬™≈°√Å√ê√ùt√∂U¬Æ√∑t¬Æu√Ü√¨ÔøΩ:√±_√™Z{¬µ√â&nbsp;¬∫√™9=;E9]O√≠√õ≈∏√§^Àú√™¬π¬∂√ù√óÔøΩ¬∞¬Ω√ß‚ÄîH√Æv¬¶¬Æn‚Äô7‚Ä∫‚Ñ¢∆íÀú√ñ5√óÔøΩsV√à√ú
√î}N¬©√™√ó7wÀÜ;‚Äú%≈†≈∏=ÔøΩ‚Äô,6√óJ√∂√£f¬µ√Ø√á¬µ√Å√∏≈æ≈†√ßn√≥_rd√£f√≥√ò√∂.^‚Äú[√∑u√≠s√èdx¬™[&nbsp;t‚Äπu√§√ï√ñ√ó¬¨√∂¬£≈ì4VÔøΩ√ç√Æv√Å√è≈ì¬Ø%¬≠√≤EhQ√á√çpA ≈æ8√ô¬©="¬≥√Ær√üs¬∞¬ºR√ûr¬ª/√â¬≠
8√°r√¨ √•¬Ω√à√ô¬Æn≈∏%B√øuo{√øJ<uÔøΩ√àf√¥≈ìj5ÔøΩ√áv∆í¬∑w√ö‚Äî√ät>√ñ√©¬æ√äh‚Ñ¢L¬©fÀÜ√±‚Ä†≈†¬∂;iI√ê¬ªt&lt;^ÔøΩ¬≠¬Æo‚ÄòJ7¬º¬®8@√úa¬ß‚Äî¬ß¬Æ&nbsp;t≈æy√Æh¬¨√ò7¬∑√¨J√™√´=t√∂≈ì√≥¬´‚Ä°¬∏&gt;√æ√£√º¬ßf‚Ä°‚Äì√ï√õ`@¬π¬∫√≠‚Äò¬≥/O¬∑√ï\=√Å√∑√∑t:u&gt;/∆íj√Æ√ä/ÔøΩ¬¶¬ªKg√´√í√ïk‚ÄôIn‚Ä¶</uÔøΩ√®f√¥≈ìj5ÔøΩ√ßv∆í¬∑w√∫‚Äî√™t></sqvb></y√≠2b1x9"‚Äùpn√£($ÔøΩm¬¶¬§></ax√∞‚Äù‚Äò√©√¨√∂m√ø`¬£¬£a√®¬±¬µ√©√¢√Æ‚Äπf√¢e></i√Ær8√Ø{‚Ç¨:√ÆÀÜ6;m√µ¬≠√±x√µd!≈ì(></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf">https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf</a></em></p>]]>
            </description>
            <link>https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757008</guid>
            <pubDate>Tue, 07 Jul 2020 08:42:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I built a desktop radiation monitor with Raspberry Pi, brass and wood]]>
            </title>
            <description>
<![CDATA[
Score 349 | Comments 63 (<a href="https://news.ycombinator.com/item?id=23756964">thread link</a>) | @chrisys
<br/>
July 7, 2020 | https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/ | <a href="https://web.archive.org/web/*/https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <p>I was always a fan of the steampunk style, and having also had experience building steam engines in the past, there was only one real direction this project could go. Once I had my radiation detector kit hooked up to my Raspberry Pi running InfluxDB and Grafana, I found myself woodworking, machining, and fabricobbling an enclosure out of mahogany, brass, copper, toggle switches and, because it just had to be done, nixie tubes.</p>

<p>Read the story of the almost year-long journey (<em>cough</em> some other stuff cropped up‚Ä¶) I went on to make my steampunk vision a reality below, and if you want to get up and running quickly, find out how to <a href="https://www.balena.io/blog/build-a-simple-radiation-monitor-using-a-raspberry-pi-influxdb-and-grafana/">build your own simple version right here</a>!</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/geiger-main.jpg" onclick="openModal();currentSlide(56)">  
</p>

<iframe width="100%" height="500" src="https://www.youtube.com/embed/lEL_XkN69n8" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<hr>

<h2 id="contents">Contents</h2>

<ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#inspiration">Inspiration &amp; Design</a></li>
<li><a href="#build">The build</a>
<ul><li><a href="#panel">The front panel</a></li>
<li><a href="#wood">Working with wood</a></li>
<li><a href="#brass">Top brass</a></li>
<li><a href="#dekatrons">Imitation Dekatrons</a></li>
<li><a href="#fasteners">Fussy about fasteners</a></li>
<li><a href="#pi">Plumbing in a Pi project</a></li>
<li><a href="#nixie">Nixie tubes</a></li>
<li><a href="#counter">Electrifying a mechanical counter</a></li>
<li><a href="#electronics">Electronics</a></li>
<li><a href="#geiger">Relocating the Geiger tube</a></li></ul></li>
<li><a href="#final">Final assembly</a></li>
<li><a href="#software">Programming and software</a></li>
<li><a href="#end">You have come to the end of your journey</a></li>
</ul>

<hr>

<h2 id="introductionspanidintrospan">Introduction <span id="intro"></span></h2>

<p>Low cost radiation monitors and Geiger counter kits have been available online for around $30-50US/¬£25-45 for a while, but standing alone they don‚Äôt do much other than make the recognizable ‚Äúclicking‚Äù sound we all know from movies and TV. I decided to up the ante by connecting one to a Raspberry Pi, storing the data with InfluxDB, and showing the readings with a Grafana dashboard.</p>



<p>I updated the tech, gave it a web interface, added remote management, and built a custom mahogany housing with brass and copper fittings to show everything off, because it‚Äôs important to look suitably <em>hip</em> when sitting on the desk next to your <a href="https://www.balena.io/blog/build-a-raspberry-pi-powered-train-station-oled-sign-for-your-desk/">train sign</a>‚Ä¶ right?</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/header.jpg" onclick="openModal();currentSlide(58)">  
</p>

<p>Anyway, I‚Äôm gonna show what I built to hopefully provide some inspiration, then show you how to get up and running with a simpler version of the project that anyone can build at home without any special tools. Let‚Äôs hit this.</p>

<hr>

<h2 id="inspirationdesignspanidinspirationspan">Inspiration &amp; design <span id="inspiration"></span></h2>

<p>I‚Äôve always found the idea of radiation fascinating; how there are invisible particles moving around at incredibly high speeds, crashing into things and flipping bits all around us. Due to my fascination, it doesn‚Äôt take a lot to capture my interest when it comes to this field.</p>

<p>One day last year I was reminiscing over the <a href="https://www.bbc.co.uk/news/business-44606771">now defunct</a> UK-based electronics retailer Maplin, and how they sold all sorts of interesting kits for the aspiring engineer. This led me to <a href="https://www.richardmudhar.com/blog/2019/09/maplin-geiger-counter/">Richard Mudhar‚Äôs blog</a> where he tells the story of the <em>Maplin Geiger Counter</em>.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/mudhar-example.png" alt="An excerpt and image from Richard Mudhar's post"></p>

<figure>  
The original Maplin Geiger Counter. Perhaps some of the design cues are visible here?! (Credit: <a href="https://www.richardmudhar.com/blog/2019/09/maplin-geiger-counter/">Richard Mudhar</a>)  
</figure>

<p>The kit that Richard has built above features both an electromechanical counter on the left, and two rings of LEDs reminiscent of <a href="https://en.wikipedia.org/wiki/Dekatron">dekatron tubes</a> on the right. This display has the neat design feature that as the rate of count increases, the display becomes more noticeable.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/dekatron.gif" alt=""></p>

<figure>  
The spinning light effect of the Dekatron is something I wanted to replicate. By Hellbus - Own work, CC BY-SA 3.0, <a href="https://commons.wikimedia.org/w/index.php?curid=4741470">https://commons.wikimedia.org/w/index.php?curid=4741470</a>.  
</figure>

<p>I liked the idea of combining the modern technology on the inside (Raspberry Pi, Grafana, etc.) with the timeless look of brass, copper, toggle switches, dark hardwood, and glass on the outside. The idea was now to build something that looked old and had that distinctive steampunk style, but was up to date and Internet-connected.</p>

<p>In addition to the total absolute count like the old Maplin counter, I wanted to offer a live display of the counts per minute (CPM) reading, and what better way to do this than with <a href="https://en.wikipedia.org/wiki/Nixie_tube">Nixie tubes</a>, to get that nice warm orange glow and keep things looking cosy.</p>

<p>I started scribbling down ideas and thoughts of materials I wanted to use alongside shopping lists for parts, and possible designs for the case.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/notes.jpg" alt="Original shop notes!"></p>

<figure>  
Notes don‚Äôt survive well in a machine shop, but these are what‚Äôs left of my original sketches.  
</figure>

<p>This process was very much led by an image I had in my mind about how the thing should look and feel and so I just had to make it real‚Ä¶ somehow.</p>

<hr>

<h2 id="thebuildspanidbuildspan">The build <span id="build"></span></h2>

<p>With some thoughts and ideas scribbled down it was time to get started. As this is for the most part going to be a bespoke, hand-built item, and made up as I go along, it‚Äôs not necessary to put everything in CAD. There are of course some core items that exist already and cannot change size; the Raspberry Pi and radiation detector board, for example. These are off-the-shelf parts that have to fit in the box no matter what, and start to dictate the size of the final unit.</p>

<p>Almost all other parts are completely hand made, machined and fabricated. This was necessitated by the desire to make everything authentic; I didn‚Äôt want to build things just for looks, I wanted any design choices made for aesthetic reasons to also be functional; by this I mean when I put 18 screws in something to make it look good, they are going to be 18 <em>real</em> screws that you have to take out to gain access!</p>

<p><strong>NOTE:</strong> Each of the build log images link to a separate gallery when clicked. You can look through the images that way if you prefer, or read on in full detail.</p>

<h3 id="thefrontpanelspanidpanelspan">The front panel <span id="panel"></span></h3>

<p>I started with the front panel of the housing, I knew I wanted two toggle switches; one for power and one for sound (to disable the clicking noise), along with 3 nixie tubes to display the CPM up to 999. Normal background radiation is in the range of about 25-75 CPM, so I figured if background radiation is above 999 CPM, we have bigger problems than worrying about enough digits on the counter.</p>



<p>The two front panel pieces are made from 6mm thick mild steel plate, cut to size with an angle grinder and then milled to dimension with the help of Bridget, the Bridgeport. Holes are then cut for the nixies and the toggle switches.</p>



<p>I manufactured labels for each by hand-punching lettering into 0.5mm thick brass sheet, polishing and fixing with M2 screws. The steel pieces are coated with a clear lacquer to prevent corrosion.</p>

<h3 id="workingwithwoodspanidwoodspan">Working with wood <span id="wood"></span></h3>

<p>Wood isn‚Äôt my favourite material to work with, I mean it just changes shape of its own accord! Who can work with that?! Anyhow, it‚Äôs very pretty, and so it was decided that the outer box should be made of hardwood. I started with a scrap piece of mahogany, cut it to halve the thickness on the bandsaw, and then set about planing and shaping the sides of the box to fit the dimensions of the Raspberry Pi (3A+) and the radiation detector.</p>



<p>The dimensions of the front panel along with the steel faceplates were planned out in Fusion 360 so that I could print a cutting and drilling template. This was taped onto the planed piece of mahogany, the holes for screws were drilled, and the openings for components cut out.</p>



<p>The pieces were cut at 45 degree angles to enable a mitre joint in each corner. The joints were reinforced with biscuits (mmm biscuits), and then the 4 sides were glued and clamped and allowed to cure overnight.</p>



<p>The top and bottom of the case are made from the same scrap mahogany, but planed a lot thinner - approximately 6mm, the same as the steel plate.</p>

<h3 id="topbrassspanidbrassspan">Top brass <span id="brass"></span></h3>

<p>I had the idea that it would look good to hold the box together with a totally unnecessary amount of screws, 36 to be exact; 18 on top and 18 on the bottom. To prevent the screws damaging the wood surface and to add some extra detail to the top of the case I decided to make a brass plate that the screws all go through to clamp the top cover down.</p>



<p>Some pieces of 2mm brass strip were cut, mitred on the corners and soldered together. Once soldered, sanded and polished, the joints are barely visible.</p>



<p>Holes for screws were then drilled, and the brass plate used to secure the oversize lid to the box whilst it was sanded to size on a drum sander. I later learned that using a drum sander for this was a mistake as it marked the sides of the box, but you live and learn!</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/top-brass-7.jpg" onclick="openModal();currentSlide(22)"></p><figure>  
Finished case and lid woodwork with brass frame temporarily fitted  
</figure>

</div>

<h3 id="imitationdekatronsspaniddekatronsspan">Imitation Dekatrons <span id="dekatrons"></span></h3>

<p>My attempt at imitating the Dekatron tube effect starts with a piece of 50mm stainless steel (or aluminium) bar. The bar is turned on a lathe down to 40mm, and to have a cavity for the electronics. The work is removed from the lathe and parted off on a bandsaw before being returned to the lathe to have a hole drilled in the rear for cabling to drive the LEDs.</p>



<p>The part is then put on the milling machine to have 10 holes drilled and M2 <del>taps snapped off in the holes</del> threaded ready to fasten the faceplate.</p>



<p>The brass faceplate is made from the same 0.5mm thick brass sheet as the labels from the faceplates. Each piece is drilled with 20 holes (10 for LEDs, 10 for fasteners), and then hand stamped with the numbering for each LED.</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/dekatrons-7.jpg" onclick="openModal();currentSlide(29)"></p><figure>  
The wired LED faceplate ready to be screwed into the housing.  
</figure>  
</div>

<p>The LEDs are wired with a common ground and connected using a piece of recycled floppy disk drive ribbon cable. All the work is then carried out a second time for the ‚ÄòX10‚Äô display. The eagle-eyed readers will notice that the second display is made from a different material than the first - this is due to the fact I snapped both a drill bit and a tap off in the M2 holes - working with stainless steel with these small tools is very difficult! I ended up making the second from aluminium, which machines like butter, in comparison.</p>



<p>Throughout the development of this project I found myself continually swapping fasteners and trying different combinations to see what looks best. The end result is a mix of M2 and M3 metric machine screws in both brass and stainless steel, cheese head and countersunk head, all slotted. You may notice that in earlier photos some of the parts were assembled with Allen-head cap screws but these were later swapped out. Ebay is usually a great place to get small quantities of fasteners of all different shapes and sizes.</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/screws.jpg" onclick="openModal();currentSlide(30)"></p><figure>  
A mix of fastener types used for this project - various M3 and M2 machine screws.  
</figure>  
</div>

<p>The wood screws used for the top and ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/">https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/</a></em></p>]]>
            </description>
            <link>https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756964</guid>
            <pubDate>Tue, 07 Jul 2020 08:33:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unitaskers: Introduction]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23756664">thread link</a>) | @nonoesp
<br/>
July 7, 2020 | https://sketch.nono.ma/unitaskers-intro | <a href="https://web.archive.org/web/*/https://sketch.nono.ma/unitaskers-intro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    <div>

     

    <p><img src="https://nono.imgix.net/img/u/sketch-nono-ma.svg?ixlib=php-3.3.0">

            <img src="https://nono.imgix.net/img/u/sketch-200707-panaderos-sapiens-book-spanish-color.jpg?auto=format%2Ccompress&amp;ixlib=php-3.3.0&amp;w=2500"></p>

    <p>This piece is an introduction a new series‚Äîcalled <em>Unitaskers</em>‚Äîthat will feature single-purpose artifacts that let you do one thing.</p>
<p>Think, for instance, of a graphite pencil. It's useful to write or draw. You can sharpen it to get thin lines or tilt it to get thicker, faded strokes. You can write a letter or draw a house. You can trace continuous lines or do pointillism. But there isn't much more you can do with it.</p>
<p>In the opposite spectrum are your computer or your smartphone‚Äîthey can virtually do anything, from drawing and writing to setting an alarm, sending emails, but they make doing something with focus harder than ever before.</p>
<p>How does your thought process change when you write with pencil and paper instead of typing on your laptop? When you read a book on Kindle instead of reading on your tablet? When you capture audio notes with a hand-recorder instead of using your phone?</p>
<p>Let‚Äôs find out.</p>
<p>Each essay of the series will use an object (or family of objects) as a source of inspirations to share stories and facts around finding focus in our age of distraction.</p>


  </div>



  </div><div>
      <p><img src="https://nono.imgix.net/folio/images/veil.gif" data-src="https://nono.imgix.net/img/u/sketch-nono-ma-logo.svg"></p>
<hr>
<!-- <p class="u-font-size--g u-opacity--high u-text-align--center">
My sketches and stories, in&nbsp;your&nbsp;inbox.
</p> -->
<p>
My sketches and stories, in&nbsp;your&nbsp;inbox.
</p>

<p><span>One email per week. No spam ever.</span></p>

<p><img src="https://sketch.nono.ma/img/u/profile-nono-ma-sketch.jpg" alt="Pencil sketch of Nono Mart√≠nez Alonso.">
</p>


      </div></div>]]>
            </description>
            <link>https://sketch.nono.ma/unitaskers-intro</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756664</guid>
            <pubDate>Tue, 07 Jul 2020 07:40:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Zed Shaw Phenomenon: A Look at Bullies in Tech]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23756105">thread link</a>) | @pcr910303
<br/>
July 6, 2020 | https://wilkie.how/posts/the-zed-shaw-phenomenon | <a href="https://web.archive.org/web/*/https://wilkie.how/posts/the-zed-shaw-phenomenon">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>

<h2>
A Look at Bullies in Tech
</h2>
<hr>
<div><p><img src="https://wilkie.how/images/the-zed-shaw-phenomenon/zedshaw.png" title="" alt="If you email me, please give me your best shot at describing what a crazy ass tweaker is."></p><p>If you email me, please give me your best shot at describing what a crazy ass tweaker is.</p></div>

<p>Goodness. The tech world must be really unfriendly, or alternatively I must be the absolute scum of the planet. Let's figure out what I did.</p>
<h2 id="indirection_is_not_abstraction">Indirection Is Not Abstraction</h2>
<p>Back in December of 2012, <a href="http://twitter.com/zedshaw" title="">Zed Shaw</a> wrote an essay entitled <a href="http://zedshaw.com/essays/indirection_is_not_abstraction.html" title="">Indirection Is Not Abstraction</a> (if link is <a href="https://wilkie.how/shaw_indirection.txt" title="">broken</a>). In this, Shaw notes that there are a few misconceptions about the definitions of several terms used to describe methods of modular design and code isolation: interfaces, abstractions, and indirection. Basically, he suggests that our fellow coders and engineers mix them up and conflate them with other concepts.</p>

<p>The article is clearly a bit of a work in progress, as noted by Shaw himself in the concluding paragraph. It is not particularly well-written or well-structured. Shaw uses a writing style that conjures this image of the ever irritating shock-jock. If there is something he doesn't like, he emphasizes with expletives. If there is <em>someone</em> he doesn't like, he will go out of his way to find the room to take a shot at them. For instance, later on, Zed Shaw manages to inexplicably slip in a link to a search for <em>"Dave Winer Asshole."</em></p>

<blockquote>
<p>It‚Äôs even worse
when the implementer realizes that if he implements the most complicated piece
of shit possible then he can go rogue consultant and make tons of mad cash
helping poor unsuspecting companies implement his steaming pile of bullshit.
Harsh words? You bet. But I‚Äôm fed up with people imposing their faulty
definitions and ideas on me without any way for me to easily fight back with a
reasonable explanation as to why their crap is steaming.</p>
</blockquote>

<p>This writing style is difficult to parse and makes the reader wonder how concise the article could be if such filler was removed. For instance, the paragraph above provides the motivation for the piece. You might believe, only knowing the intent of the article, that the motivation would be to provide a better structure for discussing modular design. However, Zed Shaw's stream of consciousness relays a motivation to provide a better means for him to tell you (male implementors, not women apparently) that your code is similar to excrement wasting away in the sunlight.</p>

<blockquote>
<p>An unbelievable 6 levels of indirection just to add a fucking object to a fucking collection. This is the kind of bullshit that chaps my ass purple and makes me want to eat babies.</p>
</blockquote>

<p>...and to prevent him from desiring the consumption of small children in this unbelievably lazy reference found later on. Sigh. People. Look. This isn't hard. Killing a baby is not a valid literary device. It does not invoke peaceful idyllic imagery that helps you make your point through nostalgia. Stop it.</p>

<p>Nevertheless, Zed Shaw hits some good points and gives some decent ideas about how to better describe what an abstraction is. Of course, this is done in a paragraph that was probably supposed to be a bulleted list because it has a bunch of random asterisks between each sentence, but, as I said, the content in that mess is actually very good. (Hint: he doesn't swear or talk about the color of his butt.)</p>

<p>Now let us focus on how I am involved. I research distributed systems and operating design. The whole indirection, interfaces, and abstractions thing? I'll let you in on a secret... That's what an operating system is. Therefore, I saw the gaps in an unfinished article and figured I had something useful to say. I gave the following post of my own in response to his article on <a href="https://lobste.rs/s/ja5ihv/indirection_is_not_abstraction/comments/nl5sy4" title="">lobste.rs</a>:</p>

<p><em>"I had no idea the terms were so misused! It‚Äôs pretty simple, though. You have interfaces‚Ä¶ if the implementations change behind them, that doesn‚Äôt mean your interface is flexible. It just means you have essentially a commit history that the interface allows you to ignore. Therefore, interfaces are not abstractions. Java misuses the term ‚Äòabstract,‚Äô because their usage only has meaning at the language parse time where it implies the lack of implementation logic. However, at runtime, an abstract class does not provide an abstraction, but an interface. However, we conflate the term with the notion of usage abstraction.</em></p>

<p><em>"Zed does a terrible job at illustrating a true abstraction. Abstractions take away things. They simplify. They consolidate, perhaps, but they consolidate power through generalization. A programming language is an abstraction of a machine language. A machine language is an interface to the CPU‚Äôs control and arithmetic units. A machine language doesn‚Äôt abstract because it doesn‚Äôt limit.</em></p>

<p><em>"I‚Äôll add that abstractions are generally not machine-driven. They are people-driven. We abstract because some interfaces are too complicated. We abstract with natural language. We want things to be easier for the sake of programmers. A programming language is an abstraction because ‚Äòvar i = j + 1‚Äô is so much better than the machine equivalent, however we sacrifice something to do this. That‚Äôs generally a good test for determining which something is. API‚Äôs are interfaces (yes, duh), Frameworks/languages are abstractions (read as: should be)</em></p>

<p><em>"Zed doesn‚Äôt really talk about where the discrepancy comes from (because people are dumb isn‚Äôt really good enough.) What really gets people is that interfaces usually have implementations which make use of abstractions. So, this is also a question of scoping. An implementation can make use of an abstraction, however, an interface cannot force the usage of an abstraction (since an interface is just a name and a behavior.) A test for that is whether or not the implementation can eschew the abstraction by reinventing the universe to provide equivalent behavior. But looking at the wrong scope when you design can certainly lead to this problem of term discrepancy."</em></p>
<h2 id="zed_shaw_responds">Zed Shaw Responds</h2>
<p>Apparently the post was well-received enough to catch Zed Shaw's attention, which I suppose was my first mistake.</p>

<p><img src="https://wilkie.how/images/the-zed-shaw-phenomenon/zedshaw_3.png" title="" alt="!zedshaw"></p>

<p>Zed Shaw's response was not a very friendly one. He stripped my handle out of the reply to Steve and gives that common criticism of criticism: <em>"you didn't even read it."</em> Steve did that thing that your friends do when you are out with them and they run into some Cool People, and he started to distance himself from me like it was coincidence that I was in the same room. That was disappointing, but I agree with Steve's careful implication that it is a bit confusing that I could both repeat what Shaw said and yet in the same small post also suggest that he was wrong.</p>

<p>It felt very odd to see this conversation unfold with me as the topic without either giving me an opportunity to contribute. <strong>I felt a bit restrained as I didn't seem to have the authority to defend myself</strong>. Yet, overall I didn't particularly care. <em>"Oh well,"</em> I thought, <em>"I got my Zed-Shaw-Hates-You-Achievement. 10 Points."</em> The thing is, the comment I posted is very on point, which is all that matters when you write. You always anger somebody with your research. There is this expression people like to console you with resembling <em>"if you make people angry, you're doing something right."</em> But, in reality, some people are just really touchy when you are working on a similar project. I'm not sure if it is fear, or related to what territorial dogs do in the park, but it happens.</p>

<p>The important part is that my post is not wrong and I stand by it. The idea that interfaces should be considered first-class over abstractions because abstractions are always summarizations of a set of interfaces is an important idea. One that I believe Zed Shaw didn't really care about, so I made instead. But what if it wasn't me and it was somebody else? There must be others that are completely suppressed by this behavior.</p>

<blockquote>
<p>Feel free to contact me with comments on this essay. It is still being worked on and is open for review. I‚Äôm pretty sure it makes no sense right now, but the major points should be there. I‚Äôm especially interested if you have any examples which you find relevant to the discussion, either for or against what I‚Äôm saying.</p>
</blockquote>

<p>In the end, I have to say; I was scratching my head a bit by his reaction. If he suggests himself that the post makes no sense and that he invites comments including criticism, why was my post so ill-received?</p>
<h2 id="the_bully_mindset">The Bully Mindset</h2>
<p>Zed Shaw insists that I said he is wrong. I did no such thing. I agreed with many of his points. However, if I squint my eyes, I think I can see where that sentiment is coming from: <em>"Zed does a terrible job at illustrating a true abstraction."</em></p>

<p>Why would I use the word <em>terrible</em> ? Because it is true. But I'm not calling him wrong, rather I'm suggesting that the writing quality is poor, because it is. It was an incredible eyesore for one. Also, he illustrates many examples of awful, tedious object hierarchies and gives some decent definitions of the terms, yet, he does not give any examples of what in the real-world actually abides by those definitions. Therefore, I did. I felt that this was the weakest part of the work, and I described it as such.</p>

<p>So wait. Could it be, then, that Zed Shaw is offended by the word <em>terrible</em> ? Could it be that the same person who desires a means to call your code a pile of feces shrieks at such a negative adjective?</p>

<p>Let's catch up to the present. How did this come back up almost 8 months later? Recently Zed Shaw published an <a href="http://xoratelier.com/" title="">idea</a> where people would pay him to work on his projects. Kurtis Rainbolt Greene offered reasonable criticism of the structure of the program. In reply, Zed Shaw spouts a stream of expletives about how absurd Kurtis apparently is to him.</p>

<p>In frustration, Kurtis issues a status about how Zed Shaw attacked rather than reasoned, and I felt the need to express solidarity. This is very much my experience from before where criticism was met with immediate aggression. I tagged Zed's handle (something he didn't afford me.) When Zed replied to me, shocked that I would be so brazen, I pointed out the tweet where he had attacked my post while ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wilkie.how/posts/the-zed-shaw-phenomenon">https://wilkie.how/posts/the-zed-shaw-phenomenon</a></em></p>]]>
            </description>
            <link>https://wilkie.how/posts/the-zed-shaw-phenomenon</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756105</guid>
            <pubDate>Tue, 07 Jul 2020 05:49:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[2019: The year when (as CEO) I crashed, burned and cried]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23756074">thread link</a>) | @boffinism
<br/>
July 6, 2020 | http://www.pavelsima.cz/blog/2019-the-year-when-as-ceo-i-crashed-burned-and-cried | <a href="https://web.archive.org/web/*/http://www.pavelsima.cz/blog/2019-the-year-when-as-ceo-i-crashed-burned-and-cried">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-6140b52a4b13c5c4e1be"><div><div><p>In 2016, I voluntarily quit a very well paying job and set out to build a start-up. I cut all other activities - stopped producing my podcasts, promoting my book and doing other freelance work - and threw myself fully into <strong>a new mission: to build a billion crown (CZK) company</strong>.&nbsp;</p></div><div><p>Not only did I burn all of my bridges and put all my eggs into one basket, I also went into personal debt well over a million to finance the young and fragile company, at the time it all seemed worth it.</p></div><p>There was excitement, there was novelty, there was challenge. During the first years, the number of clients, colleagues, and revenue kept rising, the world started noticing us, we signed big brands, won awards and even raised a bunch of money.&nbsp;</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_30945"><div><p>It was all sunshine and unicorns.<br></p><p>Until it wasn't.<br></p><p>Feeling that there was no time to waste, I pushed for rapid international expansion immediately after our September 2018 fundraise.&nbsp;<br></p><p>In the blink of an eye, the team doubled in size: we hired senior (expensive) managers and a local sales team in London (even more expensive) in order to take the UK market by storm.<br></p><p>In support of the sales effort, I was frequently flying to London. I would even do round trips - fly to London in the morning, attend two client pitches and be back in Prague by night. Using low budget airlines that had frequent delays, I found myself leaving the house before 6 AM and coming back at 1 the next morning. I would work the whole time on the train, at the airport and sometimes even on the cab ride back home. Consequently, my mind was rushing with thoughts and I couldn't fall asleep despite the exhaustion.</p><p>Sometimes, I'd miss my return flight. I'd be forced to stay the night in an airport hotel and show up to work the next day in Prague wearing day old clothes.</p><p>At the same time, we were trying to enter Polish and Romanian markets. Once in a four day span I managed to cover Prague --&gt; London --&gt; Warsaw --&gt; Manchester --&gt; Bucharest --&gt; Prague. Frequent flyer miles aside, I began to question whether it was still fun arriving at my hotel in Bucharest at 2AM only to find a colleague waiting for me to rehearse the next day's presentation.<br></p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_15646"><div><div><p><em>Life of a start-up CEO  -  pitching, traveling and more pitching‚Ä¶ managing the company in between whenever you steal the moment<br></em></p></div><h2><strong>Cracks begin to show</strong></h2><p>I love sleeping and hate early starts, so I was beginning to run on reserves.&nbsp;<br></p><p>Six months into our UK adventure we still had not closed any clients.</p><div><p>We were burning cash like crazy. Some months we were spending 3-4 times the revenue we were bringing in and serious worries started to emerge that we would not hit the targets we needed to hit to acquire another tranche of investment. The fear of running out of cash and going bust grew larger as weeks flew by.</p></div><div><p>What was worse there were underlying tensions between co-founders with totally opposite views of what the product should do and to whom should we sell to. Some pushed for enterprise, others for mid-sized e-commerce clientele with a wildly different customer and feature sets in mind. As we couldn't convince each other rival camps started to emerge within the company.</p></div><p>In spring 2019, when we received definite word that our seed-round investors would not chip in any more funds we needed to scramble to close another round of funding elsewhere. We managed to find two funds who loved our tech and team and could theoretically extend our runway by another year. "Just enough time to break into the UK market and turn things around" I thought.</p><p>It was April when even these new investors pulled out of the deal. I was left with only two choices: either cut costs by two-thirds or go out of business.&nbsp;</p><p>Just eight months after an incredible rush of positivity, great publicity and lots of enthusiasm and new energy to build business, I found myself:<br></p><ol data-rte-list="default"><li><p>Exhausted from all the travelling, stress and hours needed to put in when you are trying to quickly scale up a company.</p></li><li><p>Deep in personal debt on a start-up salary that didn't even cover lease payments and my basic living expenses.</p></li><li><p>Weeks away from corporate bankruptcy.</p></li><li><p>Facing an internal mutiny with the opposing faction attempting to replace me as CEO.</p></li></ol><p>Basically, I was on the brink of losing everything - my business, my reputation, and all my money.</p><div><p>The same thing - our company - that I had already sacrificed so much for was now pushing me against the wall, making it all the more difficult to see a clear way out of the situation.</p></div><h2><strong>The night I cried</strong><br></h2><p>In May 2019, I finally had to face the inevitable. I needed to dump all expansion plans, cut the marketing budget to zero, and most regrettably reduce the team by half.&nbsp;</p><p>One morning, we flew the whole team to Prague for an all hands meeting. I had to come ou and break the dire news in front of everybody.&nbsp;</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_34310"><div><p>The rest of the day I spent in one on one meetings telling colleagues who could stay and who had to go and how promptly.</p><p>I tried to help where I could, recommending my colleagues to other companies, even lending personal money to some who couldn't find new roles quickly enough.&nbsp;</p><p>Overall, the reaction of most of the team was better than I expected, but regardless, by the end of the meeting marathon I was drained to the bone marrow.</p><p>That night - for the first time in my life - I cried because of work.&nbsp;</p><p>I felt like a failure; a bad manager and CEO. I felt like I let a bunch of very good people down. I went through what was probably the lowest low I experienced in my whole life.</p><p>Thankfully, I have the best GF in the world. When I came home I found post-it notes all over our place with each stating one of my positive characters and skills.&nbsp;</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_37476"><div><p>Through time, with her support and the support of our investors I was able to pull myself together, regroup and lead again.</p><h2><strong>All Bad Leads To Something Good In The End</strong></h2><p>During the year of 2019 I must have aged 5 years.&nbsp;</p><p>However, looking back, I now know it was one of the best things to happen to our company and one of the best managerial/entrepreneurial lessons I have ever received and things turned back to good pretty quickly:&nbsp;<br></p><ul data-rte-list="default"><li><p>In the end, our investors backed us with a bridge round of financing so that we wouldn't go bust.&nbsp;</p></li><li><p>We let go of the people who weren't bringing real value to the company.&nbsp;</p></li><li><p>We got rid of all the mutineers who were creating a toxic working environment and restored a positive team spirit.&nbsp;</p></li><li><p>We have learned that we could make the same revenue with half of the staff!</p></li><li><p>In September 2019 we - for the first time in the history of the company - broke even (turned to black numbers).&nbsp;</p></li><li><p>And we've been profitable ever since.&nbsp;</p></li></ul><h2>Never forget, it‚Äôs just a job</h2><p>We entered 2020 in great shape. We had record breaking revenue and profits, big strong prospects for future growth... only for COVID to throw us right back into the fire.<br></p><div><p>But that's fine and part of the fun. Most of all it is a different story I am not ready to tell just yet. We march on knowing that the deepest shit - seen from just a slightly different angle - is usually the biggest opportunity to come back stronger than before.</p></div><p>So why did I write this?</p><div><p>Why am I coming clean about my relatively fresh failures?</p></div><p>We all go out to the world every morning attempting to exorcise internal demons and navigate through and against external - and often adverse - forces.</p><p>In start-ups especially, we live in a highly pretentious and deformed version of reality filled with over-hyped expectations, fear of failure and goals we are trying to reach.</p><p>Last year, a Czech start-up founder, supposedly after failing to raise a decisive round of financing and having to face the terror of coming clean, made the tragic decision to take his own life.&nbsp;<br></p><p>A big human tragedy. And probably not an isolated case.</p><p>It gives one a pause. It's not just the death - that already had me at a loss for words, but just that I could empathize with what it's like. I was just in this same situation around the same time this person was and if I wasn't lucky enough to have the support system that I had... I can see how slippery this slope is.</p><p>To all start-up founders and anyone else who might be standing at the edge of the abyss I want to say this:<strong> You are not alone. I've been through this and so have many more people before us than we could ever imagine. Don't succumb to the PR of the (allegedly) successful few. And know that even when you fail, it can be the best thing to ever happen to you.</strong></p><p>To end this with a quote from my friend and a fellow founder/CEO know this:&nbsp;</p><p><em>In the end it's just a job. If the company goes away, the world won't shit its pants. In fact, it will be barely noticed. Things will go on. And so will your life.</em></p></div></div></div>]]>
            </description>
            <link>http://www.pavelsima.cz/blog/2019-the-year-when-as-ceo-i-crashed-burned-and-cried</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756074</guid>
            <pubDate>Tue, 07 Jul 2020 05:41:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[War Story ‚Äì hunting down a memory leak in a C++ application]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23755727">thread link</a>) | @wheresvic3
<br/>
July 6, 2020 | https://smalldata.tech/blog/2020/07/01/war-story-hunting-down-a-memory-leak-in-a-c++-application | <a href="https://web.archive.org/web/*/https://smalldata.tech/blog/2020/07/01/war-story-hunting-down-a-memory-leak-in-a-c++-application">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
  Years ago, a colleague of mine read an article on Google's bitpacking algorithm for storing indexes and an idea was
  born to create a standalone text index and search solution (similar to Apache Lucene). This idea was brought to life
  in a C++ application called <a href="https://github.com/wheresvic/zsearch">Zsearch</a>. In hindsight it was a little
  bit ahead of its time as a few years later we saw the emergence of a more powerful Elasticsearch that did all that
  Zsearch could do + a lot more. Anyways, this is a story of how we hunted down a memory leak in our application.
</p>

<div>
  <p><a href="https://smalldata.tech/img/blog/020-c++-memory-leak.png">
    <img alt="" src="https://smalldata.tech/img/blog/020-c++-memory-leak.png">
  </a></p><p>
    Can you find the leak?
  </p>
</div>

<p>
  The idea behind Zsearch was to see how big of an index we could fit into ram with the data being stored in a key/value
  database, which in our implementation was <a href="https://en.wikipedia.org/wiki/LevelDB">leveldb</a>. Since RAM was a
  precious commodity back in the day, we really wanted to find the right balance between keeping all of our data
  structures in RAM vs. leveldb. During our initial load testing on a linux box, we found a linear memory growth and
  therefore suspected a memory leak. We then tried to find a memory leak using the following:
</p>

<ul>
  <li>running a load test in a function and calling the function multiple times to test memory usage</li>
  <li>logging in destructors to check whether objects were being deallocated</li>
  <li>debugging the application using valgrind</li>
</ul>

<p>
  Unfortunately for us, there were no memory leaks detected and eventually when testing on a mac, we found that memory
  stabilized at the expected peak. We therefore concluded that it was just the linux memory allocator that was acting
  weird. In reality, the memory allocator was doing what it was supposed to do but it did give us a good lead regarding
  how some of the C++ standard library was implemented. It turns out that one of our threads was making copies of an stl
  Map, which is ridiculously inefficient and something that we ended up reworking to keep our memory consumption on
  point :).
</p>

<p>Further reading:</p>
<ul>
  <li>
    <a href="https://lemire.me/blog/2016/09/15/the-memory-usage-of-stl-containers-can-be-surprising/">https://lemire.me/blog/2016/09/15/the-memory-usage-of-stl-containers-can-be-surprising/</a>
  </li>
  <li>
    <a href="https://stackoverflow.com/questions/2629018/how-do-i-force-my-stdmap-to-deallocate-memory-used">https://stackoverflow.com/questions/2629018/how-do-i-force-my-stdmap-to-deallocate-memory-used</a>
  </li>
</ul>
<p><a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fsmalldata.tech%2Fblog%2F2020%2F07%2F01%2Fwar-story-hunting-down-a-memory-leak-in-a-c%2B%2B-application&amp;t=War%20Story%20-%20hunting%20down%20a%20memory%20leak%20in%20a%20C%2B%2B%20application.">HackerNews submission / discussion</a></p></div></div>]]>
            </description>
            <link>https://smalldata.tech/blog/2020/07/01/war-story-hunting-down-a-memory-leak-in-a-c++-application</link>
            <guid isPermaLink="false">hacker-news-small-sites-23755727</guid>
            <pubDate>Tue, 07 Jul 2020 04:37:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google offers free fabbing for 130nm open-source chips]]>
            </title>
            <description>
<![CDATA[
Score 955 | Comments 346 (<a href="https://news.ycombinator.com/item?id=23755693">thread link</a>) | @tomcam
<br/>
July 6, 2020 | https://fossi-foundation.org/2020/06/30/skywater-pdk | <a href="https://web.archive.org/web/*/https://fossi-foundation.org/2020/06/30/skywater-pdk">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Did you ever dream about creating your own chip?
I mean, a physical chip.
One which you can hold in your hand, and which does exactly what you‚Äôve designed it to do?</p>

<p>Until today, there were two major road blocks: you had to get access to a process design kit (PDK) from a chip manufacturing house (a foundry), and you had to have enough money to actually pay for the manufacturing.
These times are over.
Today.</p>

<p>Today, in a FOSSi Dial-Up talk, Tim Ansell of Google announced <a href="https://github.com/google/skywater-pdk">SkyWater PDK</a>, the first manufacturable, open source <a href="https://en.wikipedia.org/wiki/Process_design_kit">process design kit</a>.
What differentiates this PDK from previous attempts is the fact that it is manufacturable: with this PDK, you can actually produce chips with the <a href="https://www.skywatertechnology.com/">SkyWater foundry</a> in the 130nm node.</p>

<p>That leaves you as chip designer only with one road block: money.
Manufacturing chips is expensive ‚Äì even for more than a decade old nodes like the 130nm node, you need to spend at least a couple thousand dollars.</p>

<p>You know what?
Don‚Äôt worry ‚Äì Google and efabless have got you covered!
They are providing <strong>completely free of cost</strong> chip manufacturing runs: one in November this year, and multiple more in 2021.
All open source chip designs qualify, no further strings attached!</p>

<p>Learn more about all of that by re-watching <a href="https://www.youtube.com/watch?v=EczW2IWdnOM">Tim‚Äôs Dial-Up talk</a> or click through the <a href="https://docs.google.com/presentation/d/e/2PACX-1vRtwZPc8ykkkgtUkHkoJZrP9jKOo3FYdKqbg-So0ic6_kx7ha1vHnxrWmuxWkTc9GfC8xl0TfEpMLwK/pub?start=false&amp;loop=false&amp;delayms=3000">slides</a>.</p>

<p>This is certainly a dream come true for us at the FOSSi Foundation.
We helped the Free and Open Source Silicon community, our community, grow and tackle huge challenges over the years.
An open, manufacturable PDK was the main blocker in a fully open flow between RTL and a physical chip, and we‚Äôre extremely excited to see that blocker removed.</p>

<p>As always, removing one roadblock only highlights more challenges:
RAM, ROM and flash compilers, analog blocks, optimizations to various tools, and much, much more.
Now is the perfect time to get involved in the Free and Open Source Silicon ecosystem ‚Äì or learn more about the accomplishments and challenges ahead of us.
A good starting point are the next Dial-Up talks.</p>

<p>Head over to the <a href="https://fossi-foundation.org/dial-up/">Dial-Up web site</a> for a listing of the upcoming talks on OpenROAD, cell design, OpenRAM, and Magic, an old, but surprisingly up-to-date tool!
To stay up-to-date with the latest developments in the FOSSi ecosystem <a href="https://librecores.us17.list-manage.com/subscribe?u=5d525b453672149a60c198960&amp;id=1241c8638b">subscribe to El Correo Libre</a>, our monthly newsletter bringing all the important news bits directly to your inbox (or <a href="https://medium.com/librecores">read it online</a>).</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/EczW2IWdnOM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

  </div>

</article>

	</div></div>]]>
            </description>
            <link>https://fossi-foundation.org/2020/06/30/skywater-pdk</link>
            <guid isPermaLink="false">hacker-news-small-sites-23755693</guid>
            <pubDate>Tue, 07 Jul 2020 04:26:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Faces of Microsoft (2017)]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 64 (<a href="https://news.ycombinator.com/item?id=23755238">thread link</a>) | @beefhash
<br/>
July 6, 2020 | https://www.typemag.org/post/the-faces-of-microsoft | <a href="https://web.archive.org/web/*/https://www.typemag.org/post/the-faces-of-microsoft">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

		
			<figure data-blockname="pull_quote">
				<p>‚ÄòWhy do we need more fonts?‚Äô asked Bill Gates. ‚ÄòWe‚Äôve got a	serif, a sans, and a monospace font. Why do we need more?‚Äô...</p>
				
			</figure>
			
			<header data-blockname="article_title">

				
				<h2><a href="https://www.typemag.org/category/3">History of type</a></h2>
				

				

				<p>The people and the rich story of type at the first big tech company.</p>

			</header>
			
			
			
			<figure data-blockname="single_image">
				<a data-lightbox="type-mag-slideshow" data-title="Steven Shaiman, the first program manager for type at Microsoft. He‚Äôs been on his own since 2010, living in the Pacific Northwest and working on family enterprises with his wife and five children." href="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg"><img data-src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg" alt="" src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg"></a>
				
				<figcaption>Steven Shaiman, the first program manager for type at Microsoft. He‚Äôs been on his own since 2010, living in the Pacific Northwest and working on family enterprises with his wife and five children.</figcaption>
			</figure>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-datetime.png" alt="" height="300" width="300"></span>Gates was having an informal meeting with Steve Shaiman, a cheerful gnome of a man with a head of frizzy hair who was general manager of Microsoft‚Äôs hardware division, and with Raleigh Roark one of the two people who had started the division. They were talking about fonts and applications, especially Word.</p>

<p>Roark gave Gates his answer: For printers, basically. This was the era of desktop publishing and proliferating office applications, and users needed more than just the bitmapped system fonts on their computers to get their work done. Courier, Tms Rmn, and Helv were not going to be enough. </p>

<p>Bill Gates is known for asking hard questions, but also for accepting hard answers and acting on them. As soon as he got his answer, he pointed at Steve and told him: ‚ÄúNow you run type!‚Äù</p>

<p>That‚Äôs the way things worked at Microsoft in those days, says Shaiman: whoever knew the most about a subject tended to end up in charge of it. So he ended up starting Microsoft‚Äôs first fonts group. It was Spring, 1989.</p>
			</section>
			

			





			
			<section data-blockname="sub_heading_1">
				<h2>The conquest of TrueType</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-phone.png" alt="" height="300" width="300"></span>STEVE SHAIMAN was on a business trip to Atlanta with Nathan Myhrvold, Microsoft‚Äôs celebrated head of advanced technology, when they got an unexpected phone call. Myhrvold had with him a satellite phone‚Äîan early mobile phone, ‚Äúwhich in those days,‚Äù as Shaiman put it, ‚Äúmeant something you‚Äôd carry in a suitcase.‚Äù The unexpected call was from Apple.</p>

<p>At that time, Adobe Systems dominated the digital font market, with its PostScript technology built into Apple‚Äôs LaserWriter printers, and with PostScript firmly established as the preferred format for high-quality fonts. Microsoft needed to find its own format and its own fonts if it didn‚Äôt want to be dependent on Adobe.</p>

<p>Like Microsoft, Apple was trying to find ways to license the PostScript language from Adobe, or to find an alternative. The Apple call was about font technology: Apple was developing its own font format, TrueType, as an alternative to PostScript, while Microsoft acquired a program called TrueImage, a potential PostScript clone, which Apple was interested in. How about a trade?</p>

<p>Shaiman says that his and Nathan Myhrvold‚Äôs reaction was immediate: ‚ÄúSure!‚Äù</p>

<p>Ironically, once Microsoft got hold of TrueType, they loved the concept but didn‚Äôt like the way it was implemented. Although they ended up only making slight modifications to the version that shipped with Windows 3.1, when it came time for the next version of Windows, they ended up ‚Äúthrowing out Apple‚Äôs code and rewriting it from scratch.‚Äù</p>

<p>When Microsoft and Apple publicly announced their collaboration on TrueType at the Seybold conference in September 1989, the announcement was handled in a contentious and aggressive manner that antagonized Adobe and famously brought Adobe‚Äôs John Warnock to tears of frustration. Steve Shaiman feels now that it was a poor way to do it: ‚ÄúWe couldn‚Äôt have done worse.‚Äù Although they were demonstrating what they felt was better technology, they made the mistake of shoving it in Adobe‚Äôs face. ‚ÄúWhat we really needed,‚Äù he says, ‚Äúwas a good PR person who could have helped us come up with a less aggressive approach.‚Äù But the deed was done. The ‚Äúfont wars‚Äù were in full swing.</p>

<p>The key developer of Microsoft‚Äôs new code was Eliyezer Kohen, whom Myhrvold met at a conference in Switzerland. Eliyezer was, as Steve Shaiman put it, ‚Äúreally, really smart.‚Äù He had a PhD from ETH Zurich, where he studied with Hans Eduard Meyer, the designer of the font Syntax, and Niklaus Wirth, designer of the Pascal language; and he developed his own technology for creating scalable fonts. Eliyezer, according to Shaiman, was ‚Äúa Turkish Jew with a German wife, who wanted to move to the United States, as one or the other of them wasn‚Äôt welcome in any country in Europe where they might find decent working conditions.‚Äù Microsoft happily brought him in.</p>
			</section>
			
			<figure data-blockname="single_image">
				<img data-src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-03-Hitchcock-Greg-135.jpg" alt="" src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-03-Hitchcock-Greg-135.jpg">
				<figcaption>Greg Hitchcock‚Äôs journey to Microsoft was a bit circuitous ‚Äîhe studied geography with a focus on computer cartography, and immersed himself in computer science.</figcaption>
			</figure>
			
			<section data-blockname="sub_heading_1">
				<h2>Even a DOS screen needs a font</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-dosscreen.png" alt="" height="300" width="300"></span>GREG HITCHCOCK was one of the early members of what he calls the ‚Äúvirtual team‚Äù that Shaiman and Dennis Adler put together in early 1990 to deal with fonts. Hitchcock is tall, blond, and slow-spoken; he doesn‚Äôt fit the image of the high-energy Microsoft employee, and he may seem unassertive, almost tentative, if you see him only in a neutral context. But when you see his attention snap to the subjects he knows and cares about, he is forceful and precise, and very, very knowledgeable. His memory is encyclopedic, and he has been at the heart of Microsoft‚Äôs typographic development for more than a quarter century. Today he manages Microsoft‚Äôs Advanced Reading Technologies (ART) team.</p>

<p>Although Microsoft had been dealing with fonts in one way or another from the very beginning (even a DOS screen needs a font to display its text), Hitchcock feels that the story of typography at Microsoft really begins here: When the first outline fonts were created for Windows 3.1, in 1990.</p>

<p>It was all brand-new technology. All fonts up until then had been bitmap fonts, crude forms made up of coarse screen pixels in a vague approximation of what real letters looked like. Although Microsoft‚Äôs new effort was driven by purely practical needs‚Äîmapping the screen fonts on a computer system to the fonts available on a printer‚ÄîHitchcock feels that it was also the beginning of thinking about screen fonts as something useful and readable in themselves.</p>

<p>The members of the virtual team came from all over Microsoft: Dennis Adler (Fonts), Jean-Fran√ßois Peyroux (OS/2, and later Windows), Michel Suignard (Windows International), Greg Hitchcock (OS/2), Eliyezer Kohen (Fonts), David Weise (Windows), Tim McCaffery (Windows), Raleigh Roark (Hardware), Gabe Newell (Printing), and later Ben Bauermeister, an outside consultant, whose ‚ÄúPANOSE system‚Äù for classifying typefaces by their visual characteristics (rather than their historical roots) might provide a roadmap between screen and print.</p>
			</section>
			
			<section data-blockname="sub_heading_1">
				<h2>Monotype send out S.O.S.</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-shake.png" alt="" height="300" width="300"></span>STEVE SHAIMAN hired Dennis Adler to manage the fonts groups.&nbsp; Together, they talked with several potential sources of font libraries and font technologies, including most of the big guns in the field. Linotype, the venerable manufacturer of hot-metal typesetting equipment, which owned the rights to, among others, the very popular typeface Helvetica, was being hard-nosed. ‚ÄúFonts were seen as incredibly valuable at the time,‚Äù says Shaiman, ‚Äúand Linotype‚Äôs attitude was, ‚ÄòWhat‚Äôs Microsoft going to do for us?‚Äô‚Äù So they were asking an enormous price for licensing the fonts. And Microsoft didn‚Äôt want to license the fonts; it wanted to own the rights. (When Shaiman told me this, he laughed and proclaimed: ‚ÄúMicrosoft doesn‚Äôt rent things!‚Äù)</p>

<p>Monotype, on the other hand, was much more receptive. Monotype was Linotype‚Äôs great rival; between them, the two companies had essentially created the business of mechanical typesetting in the late 19th century, with their competing hot-metal composition machines. But the Monotype Corporation had fallen on hard times. The typography division, the only part of the company working on digital fonts, was making money, but the larger machinery business was hemorrhaging cash, and the parent company was about to declare bankruptcy.</p>

<p>Out of that debacle rose a new type-only company, Monotype Typography Ltd, which was essentially the old typography division reconstituted as an independent business.</p>

<p>The new company, with its focus on digital fonts and information technology, was headed by a German, Rene Kerfante, who had joined Monotype in 1987 to head up the typography division, and an American, Ira Mirochnik, who had been Monotype‚Äôs chief financial officer. They were both quite ready to negotiate a deal with Microsoft.</p>

<p>So it was Monotype that began developing a set of ‚Äúcore fonts‚Äù for Microsoft: Scalable TrueType fonts that could be shipped with Windows and used freely by every Windows customer. The new fonts had to mimic the established core set of PostScript fonts, which included Times Roman and Helvetica. Since Monotype had originally developed the Times fonts back in the hot-metal days, that part was easy. To compete with Helvetica, though, they chose to adapt an earlier Monotype design with similar characteristics, called Arial.</p>

<p>Designing the outlines for these typefaces was the kind of task that the Monotype drawing office excelled at. The hard part was the hinting, the software instructions that control the rendering on various devices. That was what would make the fonts look good on screen.</p>

<p>Monotype had a team in the UK working on font hinting, but they were running into trouble. Although they had an auto-hinting program, called TypeMan, developed by Apple‚Äôs principal TrueType developer, Sampo Kaasila, the process was proving to be long, slow, and laborious. As Greg Hitchcock describes it, Monotype in desperation Monotype ‚Äúsent out the bat signal.‚Äù In response, in September 1990, he and Eliyezer made the first of many trips to the UK to provide hands-on help and supervision. This was the start of a back-and-forth pattern for Greg‚Äîthree weeks in the UK, one week in Redmond‚Äîthat lasted for the next nine months. Their main job was hinting type, working in little rooms in archaic buildings at the old Monotype works. ‚Ä¶</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.typemag.org/post/the-faces-of-microsoft">https://www.typemag.org/post/the-faces-of-microsoft</a></em></p>]]>
            </description>
            <link>https://www.typemag.org/post/the-faces-of-microsoft</link>
            <guid isPermaLink="false">hacker-news-small-sites-23755238</guid>
            <pubDate>Tue, 07 Jul 2020 02:53:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It's Talos all the way down]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 17 (<a href="https://news.ycombinator.com/item?id=23754536">thread link</a>) | @classichasclass
<br/>
July 6, 2020 | https://www.talospace.com/2020/06/its-talos-all-way-down.html | <a href="https://web.archive.org/web/*/https://www.talospace.com/2020/06/its-talos-all-way-down.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-6179143665681918893"><p>
Still can't bear the sticker shock of your very own Talos II, or even a itty bitty Blackbird? Why not do what we all do for the machines we can't own and emulate one instead? (And then decide you like it a lot, and save your pennies?)
</p><p>
QEMU 5.0.0 offers a machine model for the bare-metal PowerNV profile, to which the Raptor systems and other OpenPOWER POWER8 and POWER9 designs intended for Linux (i.e., not PowerVM machines) belong. Using the Talos II firmware image (mostly: one snag to be mentioned), you can boot the machine in QEMU and from there bring up an operating system in emulation. In this article we'll prove it works by bringing up <a href="https://voidlinux-ppc.org/">Void Linux for Power</a> (hi, Daniel!) in a variety of configurations. A set-up like this might be enough to test that your software or open-source package builds and runs on OpenPOWER, even if you don't own one yet. In a future article we'll talk about how you can boot your own code on the metal so you can port your favourite OS or build a unikernel.
</p><p>
(For the purposes of this article I'll assume an audience that isn't as familiar with OpenPOWER terminology as our usual readership. Kindly humour me.)
</p><p>
The emulation is imperfect, both if you're emulating it on a real Raptor family system or on an icky PC. While QEMU can emulate an AST2500 (i.e., the ARM-based Baseboard Management Controller, which acts as the service processor and provides the video framebuffer), and QEMU can also emulate a PowerNV system, it doesn't do both at the same time. That means the very lowest levels are actually being simulated here -- you can't watch Raptor's pretty Hostboot display, for example, and only the barest functions of the BMC are simulated enough to allow bring-up, not including the framebuffer. In fact, the hardware profiles we will use here do not in general match a real Raptor system either: we're just virtually plugging in PCI devices that give us necessary functionality, though of course none of the peripheral devices in a Raptor system is Raptor-proprietary. Finally, even though I have tagged this entry with KVM, KVM currently doesn't work right with the QEMU PowerNV machine model even though I'm pretty sure it should be technically possible. Sadly, I tried in vain to do so, could never get KVM-HV to be happy, and ended up kernel panicking the machine with KVM-PR. <a href="https://gist.github.com/classilla/0b95d7bea3e9a270385a2360fbcf7f40">See if you can triumph where I have failed</a>. In the meantime, naturally you can do everything here on a T2 or Blackbird as well because that's how I did it writing this article, but there is no special acceleration for those systems right now.
</p><p>
The first order of business is the first order of business with any emulator: get the ROMs. Fortunately, no one is going to bust you for pirating a set of these because we're an open platform, remember?
</p><p>
The two pieces required are Skiboot and Petitboot, both of which live in the system's PNOR flash. <a href="https://github.com/open-power/skiboot">Skiboot</a> contains OPAL, the OpenPOWER Abstraction Layer. It comes in after the BMC has turned on main power and started the Power CPUs' self-boot engines, which then IPL ("initial program load") Hostboot for the second-stage power-on sequence. When Hostboot completes, it chains into Skiboot, which initializes the PCIe host bus controllers (PHBs) and provides all the basic hardware calls needed by a guest kernel to support the platform. You can think of it as something like an overgrown BIOS. This is the lowest firmware level of an OpenPOWER system that QEMU currently supports emulating.
</p><p>
Skiboot lives only to service a kernel, so it immediately starts one. This initial payload is the bootloader for <a href="https://github.com/open-power/petitboot">Petitboot</a>, which is also stored in firmware. Petitboot has a small Linux root (Skiroot) and acts as a boot menu, finding bootable volumes on attached devices or over the network. Having found one (or you select one), it chains into it to start the main OS, and from then on Skiboot will provide platform services via OPAL for this final guest until the system is shut down or restarted. Because it's in firmware, Petitboot is always available, which can come in really handy when you're trying to do system recovery.
</p><p>
The first, best and most dedicated way is to <a href="https://github.com/open-power/op-build">build Skiboot and Petitboot yourself</a>. They are open-source and the process is relatively well documented and automated, and you should know how to do this if you own an OpenPOWER machine anyhow. If you aren't doing this on a real OpenPOWER machine you'll need a cross-compiler, but most Linux distros offer such a package nowadays. Do keep in mind that if it looks like you're building a tiny Linux distro, well, that's because that's exactly what you're doing. The advantage here is you can fool around with the firmware at your leisure, but it requires a bit of an investment in disk space and time.
</p><p>
The second way assumes you have a more casual interest and would prefer to go with something prefab. It's possible if you (or, you know, your "friend") has a Raptor-family system to extract the necessary components right from the BMC prompt. Log into the BMC over SSH (or via <a href="https://www.talospace.com/2020/04/what-to-do-when-bmc-wont-talk-to-you.html">direct serial connection</a>) and type <tt>pflash -i</tt>. You'll see a list of all the partitions stored in the PNOR flash. The ones we want are <tt>PAYLOAD</tt> (which contains Skiboot) and <tt>BOOTKERNEL</tt> (which contains Skiroot and Petitboot). The exact addresses may vary from system to system and firmware to firmware.
</p><p>
<tt>root@bmc:~# pflash -P PAYLOAD -r /tmp/pnor.PAYLOAD --skip=4096<br>
Reading to "/tmp/pnor.PAYLOAD" from 0x021a1000..0x022a1000 !<br>
[==================================================] 100%<br>
root@bmc:~# pflash -P BOOTKERNEL -r /tmp/pnor.BOOTKERNEL --skip=4096<br>
Reading to "/tmp/pnor.BOOTKERNEL" from 0x022a1000..0x03821000 !<br>
[==================================================] 100%
</tt></p><p>
We skip the first 4K page to avoid the wrapping around each partition. <tt>pnor.PAYLOAD</tt> is actually compressed and needs to be uncompressed prior to use, so:
</p><p>
<tt>root@bmc:~# cd /tmp<br>
root@bmc:/tmp# xz -d &lt; pnor.PAYLOAD &gt; skiboot.lid</tt>
</p><p>
Finally, <tt>scp</tt> both <tt>skiboot.lid</tt> and <tt>pnor.BOOTKERNEL</tt> to your desired system from the BMC.
</p><p>
Admittedly we just talked at length about the two ways most of you <em>won't</em> get the firmware, so let's talk about the third method and the way most of you will, i.e., you'll just download it. Currently there is an irregularity about Raptor's present Skiboot build for this purpose: it only boots if you are emulating a single <em>POWER8</em>. That's not a typo. If you use it to boot an emulated POWER9, the guest will simply panic, and the guest will go into a bootloop if you are emulating multiple POWER8 CPUs (necessary if you need a larger number of PCIe devices). This is undoubtedly a QEMU deficiency which will be corrected in future releases. In the meantime, if you just care about playing around using a single POWER8 on a terminal, then Raptor's builds (either from BMC flash or downloaded) will suffice. However, if you intend to emulate a POWER9 or SMP POWER8 system, <a href="https://github.com/qemu/qemu/blob/master/pc-bios/skiboot.lid">download QEMU's own pre-built <tt>skiboot.lid</tt></a> and use that instead.
</p><p>
For Petitboot, we will extract that directly from Raptor's PNOR images. Assuming you didn't get it using the process above, <a href="https://wiki.raptorcs.com/wiki/Talos_II/Firmware">download the current Talos II PNOR image</a> and decompress it. In the <tt>shell_upgrade</tt> directory you will see the <tt>bzip2</tt>-compressed PNOR image. Uncompress that, leaving you with a filename like <tt>talos-ii-v2.00.pnor</tt>. <a href="https://gist.github.com/classilla/4a2c907d0acec5b537cd4992a00801c3">Download my <tt>pnorex</tt> extractor tool</a> (it's in Perl, because I'm one of <em>those</em> people) and run it on the PNOR image:
</p><p>
<tt>% pnorex talos-ii-v2.00.pnor<br>
Version 1 PNOR archive with 33 entries.<br>
Extracting PAYLOAD at offset 8601.<br>
This is a xz format image.<br>
Wrote 1020K successfully.<br>
Extracting BOOTKERNEL at offset 8857.<br>
This is an ELF executable image.<br>
Wrote 22012K successfully.<br>
Extracted 2 partitions successfully.
</tt>
</p><p>
If you will be using Raptor's Skiroot, then uncompress <tt>pnor.PAYLOAD</tt> to <tt>skiroot.lid</tt> as above: <tt>xz -d &lt; pnor.PAYLOAD &gt; skiboot.lid</tt>
</p><p>
Now, with <tt>skiroot.lid</tt> (for this first example, either Raptor's or QEMU's) and <tt>pnor.BOOTKERNEL</tt> in the same folder, grab an ISO you want to boot. I used the prefab one Daniel offers on the <a href="https://voidlinux-ppc.org/">Void Linux for Power site</a> since I know it boots fine on OpenPOWER hardware. For our first example let's do a simple example of booting Void from a CD image on a POWER8 using the serial port. Our QEMU command line:
</p><p>
<tt>
qemu-system-ppc64 -M powernv8 -m 4G -cpu power8 \<br>
        -nographic \<br>
        -bios ./skiboot.lid \<br>
        -kernel ./pnor.BOOTKERNEL \<br>
        -device ich9-ahci,id=ahci0 \<br>
        -drive id=cd0,media=cdrom,file=void-live-ppc64le-musl-20200411.iso,if=none \<br>
        -device ide-cd,bus=ahci0.0,drive=cd0
</tt>
</p><p>
This configures a single-processor POWER8 system with 4GB of RAM, no graphics, and an Intel AHCI host controller with a single CD-ROM drive attached. The serial output should go to your terminal. It goes a little like this:
</p><p><a href="https://3.bp.blogspot.com/-3VII_RkIwcE/XvFb7tRycOI/AAAAAAAABs0/yyvLDu_1liEFaU2wpoZWtrf-au1P1YiDACLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-44-48.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://3.bp.blogspot.com/-3VII_RkIwcE/XvFb7tRycOI/AAAAAAAABs0/yyvLDu_1liEFaU2wpoZWtrf-au1P1YiDACLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-44-48.png" width="287"></a></p>
<p>
Here we are with Skiboot chaining into Petitboot. You can ignore the errors; there will be a lot of them since the platform is still incomplete. It will take a little bit of time to decompress the kernel (much slower than it would be on a regular system). You will notice a single device attached to the three available PCIe host bridges on the single POWER8 CPU, i.e., the host controller itself. Don't you just love that the vendor code for Intel is <tt>8086</tt>?
</p><p><a href="https://4.bp.blogspot.com/-3IKOOE6kD80/XvFb7uxi8sI/AAAAAAAABss/yKU2WHvBCbgDmXPvyFdSvsCu7yLHnnGuACLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-45-08.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://4.bp.blogspot.com/-3IKOOE6kD80/XvFb7uxi8sI/AAAAAAAABss/yKU2WHvBCbgDmXPvyFdSvsCu7yLHnnGuACLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-45-08.png" width="287"></a></p>
<p>
This is Petitboot. When the bootable choices appear, cursor up to the starred option and press E before it autoboots, because we need to tell Void its console is the on-board serial port (otherwise it uses a VGA console: not sure whose bug that is).
</p><p><a href="https://2.bp.blogspot.com/--dDE00hPAsk/XvFb7k5ug4I/AAAAAAAABsw/KD1kofJkAdIusk9rtl8WyjlknApxQRouQCLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-45-43.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://2.bp.blogspot.com/--dDE00hPAsk/XvFb7k5ug4I/AAAAAAAABsw/KD1kofJkAdIusk9rtl8WyjlknApxQRouQCLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-45-43.png" width="287"></a></p>
<p>
Add <tt>console=hvc0</tt> at the end, cursor down to <tt>OK</tt> and hit RETURN/ENTER a couple times to boot.
</p><p><a href="https://2.bp.blogspot.com/-h6UHepGrXLo/XvFb8GHW5jI/AAAAAAAABs4/STBtGNaljU4-3EvsmhlstoBbIpU0aLaKgCLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-47-38.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://2.bp.blogspot.com/-h6UHepGrXLo/XvFb8GHW5jI/AAAAAAAABs4/STBtGNaljU4-3EvsmhlstoBbIpU0aLaKgCLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-47-38.png" width="287"></a></p>
<p>
A successful login on your emulated baby POWER8. Ta-daa! To rudely pull the plug on the QEMU session, press Ctrl-A, and then X (<tt>QEMU: Terminated</tt>).
</p><p>
Let's now load out the POWER8. We would like to add a video card, an Ethernet card and a USB controller to our existing system, but POWER8 Turismo chips only offer enough PHBs for three PCI endpoints. How do we solve this problem? Easy: we'll add another processor!
</p><p>
At this point ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.talospace.com/2020/06/its-talos-all-way-down.html">https://www.talospace.com/2020/06/its-talos-all-way-down.html</a></em></p>]]>
            </description>
            <link>https://www.talospace.com/2020/06/its-talos-all-way-down.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754536</guid>
            <pubDate>Tue, 07 Jul 2020 01:03:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google and federated analytics: an effective tool in privacy signalling]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23754410">thread link</a>) | @exanimo_sai
<br/>
July 6, 2020 | https://4thquadrant.io/articles/business-models/google-and-federated-analytics-an-effective-tool-in-privacy-signalling/ | <a href="https://web.archive.org/web/*/https://4thquadrant.io/articles/business-models/google-and-federated-analytics-an-effective-tool-in-privacy-signalling/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="tdi_29_f23">

<div>
<p>Last month, the Google AI blog released an article called ‚ÄúFederated Analytics: Collaborative Data Science without Data Collection‚Äù, delving into a mode of data science that doesn‚Äôt depend on centralised data collection. What I noticed as I was reading it was a heavy handed subtext around privacy. A ctrl+f for ‚Äòprivacy‚Äô brought the word up thirteen times ‚Äì the subtext was very much ‚Äòat Google, we think about privacy‚Äô. But what makes this particularly interesting is that decentralised data analysis isn‚Äôt a new concept and didn‚Äôt find its origins in privacy, where Google had introduced systems for distributed analysis as early as 2014. While it‚Äôs not unusual for Google to put out content expounding some of its technical methods and processes, this article is an intentional signalling of the company‚Äôs evolved baseline perspective. Basically that privacy is a forefront concern and consideration in all its avenues of pursuit, this being just one of the many bricks in its united front against user-data related backlash.</p>



<div><p>Already subscribed? <a href="#popmake-login">Login</a></p>

<div>
<p><strong>Subscribe to 4th Quadrant to get access to our exclusive content.</strong></p>
<p>14 days free trial now available.</p>
<p><span><a href="https://4thquadrant.io/subscribe">View subscription options</a></span></p>
</div>
</div>
</div></div><div data-td-block-uid="tdi_30_470">

<div><h3><span>CONTACT THE EDITOR</span></h3>
<p>We welcome thoughtful discourse on all our content. If you would like to further explore or discuss any of the ideas covered in this article please contact our editors directly.<br><span>Contact Details</span></p>
</div></div></div>]]>
            </description>
            <link>https://4thquadrant.io/articles/business-models/google-and-federated-analytics-an-effective-tool-in-privacy-signalling/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754410</guid>
            <pubDate>Tue, 07 Jul 2020 00:40:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Resealing and Upgrading Trim on a '78-'90 Volvo 240 Windshield]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23754371">thread link</a>) | @luu
<br/>
July 6, 2020 | http://fewstreet.com/2018/06/13/volvo-240-windshield.html | <a href="https://web.archive.org/web/*/http://fewstreet.com/2018/06/13/volvo-240-windshield.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  <div>
    <h3>Resealing and Upgrading Trim on a '78-'90 Volvo 240 Windshield</h3>
    <h4>13 Jun 2018</h4>
    <p>The 1990 and earlier Volvo 240 windshields are known for their frustrating trim design which was held on 
by <a href="https://www.volvopartswebstore.com/products/Volvo/240/Clip-kit-Genuine-Classic-Part/1113962/270148.html">22 plastic clips</a>, 
set into the butyl rubber used to mount the windshield. My 1989 240 developed a leak near the top right of the 
windshield due to a combination of rust and shoddy resealing done by the previous owner.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-01-07%2016.30.16.jpg" alt="1989 Volvo 240"></p>

<p>Rather than try to bodge some silicon sealant into the leaky areas and buy myself another couple of years, I chose to fully remove the windshield and 
re-glue it with urethane, replacing the chrome trim strip and clips with more modern rubber trim at the same time.</p>

<p>Using a piece of braided steel wire and two dowels as handles, I sawed through the existing urethane after poking a hole with a exacto knife to feed the wire through.
What was waiting for me underneath was not pretty.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-04-28%2013.08.22.jpg" alt="Rusty Pinchweld"></p>

<p>The pinchweld had rusted enough that there was no choice but to cut it out in several places and weld in new sheet metal:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-03%2016.47.01.jpg" alt="Grinding out pinchweld"></p>

<p>I used a dremel with a cutting disk to remove the old metal and TIG welded in a patch with my <a href="https://amzn.to/2ya1l1F">AHP AlphaTIG 200X</a> (this job is what finally pushed me to buy it).</p>

<p>As I welded small sections, I used an air gun to cool the back side of the pinch seam to avoid setting the dashboard on fire. I kept a fire
extinguisher close by at all times regardless.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-03%2019.21.18.jpg" alt="New windshield corner"></p>

<p>I masked off the entire area and painted it with <a href="https://amzn.to/2JH2C1r">Rust-Oleum professional primer</a> and <a href="https://www.walmart.com/ip/Rust-Oleum-Professional-High-Performance-Enamel-Spray/35031494">high performance enamel</a>. 
The silver Rust-Oleum just happens to be a very close color match to the silver on the 240.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-04%2019.47.02.jpg" alt="Masking"></p>

<p>Considering the horrific condition of the windshield seam before the job, the result isn‚Äôt half bad:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-05%2020.55.08.jpg" alt="After painting"></p>

<p>Next, I had to answer a question that I couldn‚Äôt find clear information on anywhere on the internet. Is it possible to re-use a pre-‚Äò90 style windshield 
but replace the trim with the more modern glued rubber? The answer is <strong>yes</strong>. 
You do not need to buy a whole new ‚Äò91+ windshield if you already have an older pane of glass in good condition.</p>

<p>I bought some <a href="http://www.gggcorp.com/Universal_Mouldings.html#OriginalT">Gold Glass Group Universal Moulding T107B</a> 
on Ebay in a 15ft. roll and applied it to the edge of the old style windshield instead of the clips and chrome trim.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2018.07.48.jpg" alt="Applying Trim"></p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2018.08.02.jpg" alt="Applying Trim Closeup"></p>

<p>A test fit confirmed it fit into the windshield opening perfectly. I think moving from the 0.75‚Äù T107B to the 1‚Äù T109B trim would have been a good move, to better
cover some of the nasty surface where the old trim sat. During the test fit I made some marks around the perimeter to help locate the 
windshield later when I installed the urethane.</p>

<p>I bought two tubes of <a href="https://amzn.to/2HLgUfO">DOW U-428 Plus Primerless Windshield Adhesive</a> and a <a href="https://amzn.to/2JJCxii">air powered caulk gun</a> and 
laid down a bead about 9mm tall on the seam. The air powered caulk gun was absolutely essential; the U-428 is so thick that you could never
extrude it from a hand powered gun. I had the regulator on my compressor at nearly 60 PSI to get it to flow. I only ended up using one tube, but this isn‚Äôt the kind of job you can afford to run out of adhesive 90% of the way through!</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2018.49.28.jpg" alt="Applying Urethane"></p>

<p>With a helper, I lifted the windshield in and set it in place. We made final position adjustments and taped it in place with some blue tape. 
For the temperature and humidity of my location, Dow calls for at least 5 hours of cure time before drive-off.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2019.06.36.jpg" alt="Blue tape"></p>

<p>Overall, a pretty long process but nothing an experienced garage fabricator couldn‚Äôt do on their own. The final result doesn‚Äôt look too bad:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-14%2012.44.17.jpg" alt="Finished image"></p>

<p>I‚Äôm sure it‚Äôs a horrible misuse of the urethane, but I had a few grams left over, so I used it to glue the perpetually falling off glovebox back together:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2021.28.39.jpg" alt="Blue tape"></p>

  </div>
</div>


    


    

  </div></div>]]>
            </description>
            <link>http://fewstreet.com/2018/06/13/volvo-240-windshield.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754371</guid>
            <pubDate>Tue, 07 Jul 2020 00:31:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[REST ‚Äì Idempotency and Safety]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23754015">thread link</a>) | @pradeepl
<br/>
July 6, 2020 | https://pradeeploganathan.com/rest/rest-idempotency-safety/ | <a href="https://web.archive.org/web/*/https://pradeeploganathan.com/rest/rest-idempotency-safety/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-148">
														
							
														
							
														
							<div>
															<div>
									
<p>Implementing HTTP‚Äôs uniform interface&nbsp;as discussed in the previous <a rel="noopener noreferrer" href="https://pradeeploganathan.com/2016/09/20/rest-communicating-with-verbs-and-status-codes/" target="_blank">posts</a> has a surprisingly good architectural side effect. If it is Implemented as specified in the REST specifications (HTTP specification ‚Äì RFC 2616), you get two useful properties namely Idempotency and Safety.</p>



<h3>Safety</h3>



<p>Safety is the ability to invoke an operation without&nbsp;any side effects arising out of the client invoking&nbsp;that operation. It means that the client can invoke an operation&nbsp;with the explicit knowledge that it is not going to change the state of the resource on the server. However, it does not mean that the server should return the same response every time. The server can also perform additional actions when these methods are invoked such as logging calls or incrementing counters etc. but these should not change the state of the resource being acted upon. Generally, read only methods are safe methods. GET, HEAD and OPTIONS are safe methods.</p>



<h3>Idempotency</h3>



<p>Idempotency means that the effect of doing something multiple times&nbsp;will be the same as the effect of doing it only once. A simple example from Math‚Äôs&nbsp;would be the effect of multiplying any number by One. In math the number 1 is an idempotent of multiplication. e.g. 5 x 1 = 5 which is the same as 5 x 1 x 1 = 5. Similarly, an API operation that sets a user‚Äôs name is a typically idempotent operation. Whether it is called once&nbsp;or multiple&nbsp;times, the effect of the operation is that the user‚Äôs name will be set to the target value. Deleting a resource is an example of this distinction; the first time you invoke the delete, the object is deleted. The second time you attempt to delete it, there is no change in the state of the system, but the object remains deleted as requested. An idempotent operation generates no side effects.</p>



<p>Idempotency results in improved reliability, concurrency, prevents data loss and provides the ability to automatically retry /recover from failures. It improves reliability by providing the&nbsp;ability to safely retry requests that may or may not have been processed. This helps tide over network glitches and load spikes by replaying requests. Load balancers like HAProxy can retry requests when the server disconnects abruptly providing automatic recovery from failures. Since API calls are idempotent multiple API calls can be run concurrently without locks and mutexes to synchronize operations on data. This increases concurrency and system throughput resulting in better performance.</p>



<p>Safety and Idempotency let a client make reliable HTTP requests over an unreliable network. If you make a GET request and never get a response, just make another one. It‚Äôs safe even if your earlier request was fulfilled since&nbsp;it didn‚Äôt have any real effect on the state of the resource server. If you make a PUT request and never get a response, just make another one. If&nbsp;your earlier request got through, your second request will have no additional effect since PUT is&nbsp;idempotent and the operation can be repeated.</p>



<p>The following table lists shows you which HTTP method is safe, and which is&nbsp;idempotent</p>



<figure><table><thead><tr><th>HTTP Method</th><th>Safe</th><th>Idempotent</th></tr></thead><tbody><tr><td>&nbsp;GET</td><td>&nbsp;Yes</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;POST</td><td>&nbsp;No</td><td>&nbsp;No</td></tr><tr><td>&nbsp;PUT</td><td>No</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;DELETE</td><td>No</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;HEAD</td><td>Yes</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;OPTIONS</td><td>Yes</td><td>&nbsp;Yes</td></tr></tbody></table></figure>



<p>GET, HEAD, OPTIONS, PUT&nbsp;and DELETE requests are idempotent. If you DELETE a resource, it‚Äôs gone. If&nbsp;you DELETE it again, it‚Äôs still gone. The response codes in the above two requests can differ to indicate that the resource representation being deleted is gone. Two simultaneous Delete requests may result in the first request getting a 200 (OK) and the second request&nbsp;getting a 204&nbsp;(NO CONTENT).If you create a new resource with PUT, and then&nbsp;resend the PUT request, the resource is still there and it has the same properties you&nbsp;gave it when you created it. Making an absolute&nbsp;update to a resource‚Äôs state or deleting it outright has the same outcome whether&nbsp;the operation is attempted once or many times. Again, a PUT request can have differing return codes based on the validation done. It can be a 200 (OK) for a successful PUT or a 409 (Conflict) for a PUT where the server resource state is different from the one referenced by the client. A GET or HEAD request should be safe: a client that makes a GET or HEAD request&nbsp;is not requesting any changes to server state. Making any number of GET requests&nbsp;to a certain URI should have the same practical effect as making no requests at all. The safe methods, GET and HEAD, are automatically idempotent as well. POST is neither safe nor idempotent. Making two identical POST requests&nbsp;will result in two subordinate resources containing the same&nbsp;information.</p>



<p>Developing API‚Äôs requires us to adhere to the REST semantics which specifies the safety and idempotency requirements for the various verbs as shown in the table above. API consumers will and should expect GET to be safe and idempotent. Similarly, API consumers will incorporate logic to manage additional factors since POST is neither safe nor idempotent.</p>
<div id="snippet-box"><p>Summary</p><div itemscope="" itemtype="https://schema.org/Article"><div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject"><p><img width="180" src="https://pradeeploganathan.com/wp-content/uploads/2016/09/pop-zebra-wp81DxKUd1E-unsplash-scaled.jpg" alt="REST - Idempotency and Safety" data-lazy-src="https://pradeeploganathan.com/wp-content/uploads/2016/09/pop-zebra-wp81DxKUd1E-unsplash-scaled.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><meta itemprop="url" content="https://pradeeploganathan.com/wp-content/uploads/2016/09/pop-zebra-wp81DxKUd1E-unsplash-scaled.jpg"></div><div><p>Article Name</p><p><span itemprop="headline">REST - Idempotency and Safety</span></p><p>Description</p><p><span itemprop="description">Implementing HTTP‚Äôs uniform interface as discussed in the previous posts has a surprisingly good architectural side effect. If it is Implemented as specified in the REST specifications (HTTP specification - RFC 2616), you get two useful properties namely Idempotency and Safety.</span></p><p>Author</p>
							<div itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization"><p>Publisher Name</p><p><span itemprop="name">https://pradeeploganathan.com</span>
							</p>
							

							<p>Publisher Logo</p><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><p><img width="180" src="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg" alt="https://pradeeploganathan.com" data-lazy-src="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><meta itemprop="url" content="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg"></div></div><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="https://pradeeploganathan.com/rest/rest-idempotency-safety/"><meta itemprop="datePublished" content="2016-09-24T05:59:36+10:00"><meta itemprop="dateModified" content="2020-07-07T09:37:13+10:00"></div>
					</div></div></div>
														</div>
														

																				</article></div>]]>
            </description>
            <link>https://pradeeploganathan.com/rest/rest-idempotency-safety/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754015</guid>
            <pubDate>Mon, 06 Jul 2020 23:37:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Achaemenid Shields Are a Puzzle]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 4 (<a href="https://news.ycombinator.com/item?id=23753604">thread link</a>) | @diodorus
<br/>
July 6, 2020 | https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/ | <a href="https://web.archive.org/web/*/https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<!-- end .post-extras -->

		<div>
			<div data-shortcode="caption" id="attachment_7331"><p><a href="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg"><img aria-describedby="caption-attachment-7331" data-attachment-id="7331" data-permalink="https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/fig_6_2_six_shields/" data-orig-file="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg" data-orig-size="1600,2400" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fig_6_2_six_shields" data-image-description="" data-medium-file="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=200" data-large-file="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=529" src="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=529&amp;h=794" alt="" width="529" height="794" srcset="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=529&amp;h=794 529w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=1058&amp;h=1588 1058w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=100&amp;h=150 100w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=200&amp;h=300 200w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=768&amp;h=1152 768w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=683&amp;h=1024 683w" sizes="(max-width: 529px) 100vw, 529px"></a></p><p id="caption-attachment-7331">Figure 6-2 from my forthcoming book from Franz Steiner Verlag.  Some types of <em>gerron</em> (wicker shield) used in the Achaemenid empire in the time of Darius I and Xerxes.  Top: <em>peltƒì</em> and wooden imitation of a sticks-and-leather shield from Tuekta in the Altai (different sections of ‚Äòsticks‚Äô are painted red, white, and black; similar shields appear in Neo-Assyrian art). Middle: rectangular wicker shields.  Bottom: violin-shaped or figure-eight shields.  Note that they are worn on the arm like a <em>peltƒì</em> or an Argive shield, not held in the fist like the Tuekta shield.  Source: The J. Paul Getty Museum, Malibu CA, no. 83.AE.247 (digital image courtesy of the Getty‚Äôs Open Content Program), State Hermitage Museum, St. Petersburg, no. 2179/96 (photo by author); Gerhard 1847: Taf. CLXVI; western entrance of the Tachara of Darius (sketch by author), Persepolis; two reliefs on the Apadana, Persepolis (photo by author)</p></div>
<p>  If you look at modern paintings and miniatures, you would think we have a good idea of the type of shield used by Achaemenid infantry in the time of Darius and Xerxes.  They cite <a href="http://www.perseus.tufts.edu/hopper/text?doc=Hdt.+7.61&amp;fromdoc=Perseus%3Atext%3A1999.01.0126">Herodotus book 7 chapter 61</a> and show the large rectangular kind on the middle row of the picture above.  But as I argue in chapter 6.5.2 of my forthcoming book from Franz Steiner Verlag, things are more complicated.  These large rectangular shields appear on the doorposts of two buildings at Persepolis and on two or three vases from Athens (out of thousands of soldiers at Persepolis and Susa and thousands of Red Figure vases). The person who published the sketch on the middle left thought it showed a battle against the Phrygian allies of the Amazons.  And this type of shield does not agree with Herodotus‚Äô words that quivers were hanging beneath the shields, unless we understand ‚Äòbeneath‚Äô quite loosely.<br>
<span id="more-7332"></span></p>
<p>  The type in the top row is also popular with artists, but it seems specific to the Aegean/Sea of Marmara/Black Sea region.  Warriors of all the different nations in this region used small round, rectangular, or crescent-shaped shields, often made of wicker or covered with goatskin, but we do not see these shields in artwork from the heart of the empire.  Its also hard to imagine these forming a barrier which needed to be knocked over after a long struggle, like Herodotus describes.  But they are the type of shield which artists from Athens most often put in the hands of foreigners, probably because the Athenians were a bit provincial and Thracians and Scythians were the most exotic warriors they were familiar with.</p>
<p>  The type in the bottom row is the most common type at Persepolis, but it does not show up in Greek art at all.  This might be because it was too similar to the Boeotian or dipylon or figure-eight shield and Greek artists felt that it did not say ‚Äòbarbarian.‚Äô  A bronze boss for such a shield was found at Samos.  It is easy to imagine quivers hanging beneath such a shield, but hard to imagine them forming a solid barrier which needed to be pushed over.  </p>
<p>  We see even more types of shield in art from the empire, such as the small round center-grip shield on the √áan sarcophagus or the big deep round wicker shields carried by ?Thracians? at Persepolis.  But these three types in the three rows are the ones people today are most interested in.</p>
<p>  Diodorus describes the Persian shields at Thermopylae a bit differently than Herodotus describes them at Plataia (11.7.3, my translation) ‚ÄúFor the barbarians used small <em>aspides</em> and <em>peltai</em> which were advantageous in broad open spaces, being easy to move, so because of the narrow space they were not able to harm their enemies very well because they were packed close together with their whole bodies covered with the great <em>aspides</em>, while being at a disadvantage because of the lightness of their defensive arms, they suffered wound after wound.‚Äù  He seems to imagine Persian warriors using <em>peltai</em> like the barbarians in paintings (Xen. Cyr. 1.2.13)</p>
<p>  People in my lifetime have written a lot of nonsense about wicker shields supposedly being ‚Äòlight‚Äô or ‚Äòweak.‚Äô  I don‚Äôt know of any tests of this, and traditional wooden shields tend to be thinner and lighter than people expect (like 8 mm thick wood plus a layer of linen or parchment in the centre, and 3-5 mm thick wood plus a layer of linen or parchment at the edge).  Modern wooden shields often use heavy plywood and rawhide so the shield can stand up to pounding with blunt weapons: the fact that these shields are unnecessarily heavy is not important because the owners don‚Äôt have to march 20 miles with them on their backs, camp, cook dinner, and march 20 miles again.  Tough warriors like the Ottoman Turks used wicker shields and I don‚Äôt know of any of their opponents who said that these were poor protection.  Also, until about the time of Xerxes‚Äô punitive expedition against the Ionians-beyond-the-sea, Greek art often shows spearmen with a light figure-eight shields (Dipylon shields, Boeotian shields) which may well have been made of leather or wicker.  Neither art not archaeology shows that all Greek ‚Äúbearers of spear and shield‚Äù in 480 BCE carried a heavy Argive shield and a single long thrusting lance.</p>
<p>  The type of shield in the middle row is the best fit for Herodotus‚Äô descriptions of combat, but not the most common type in art, and it does not match his description of how Persian soldiers were armed.  And as we saw, <a href="https://bookandsword.com/2019/07/06/provisions-loin-girdling-and-battle-gear-in-the-long-sixth-century/">lists of equipment for soldiers in Babylonia</a> do not seem to mention shields at all.  So like a lot of things in ancient history, the idea that Xerxes‚Äô men carried large rectangular wicker shields is our best guess based on pretty thin evidence, not something certain.</p>
<p><em>Further Reading:</em> There are tests of arrows against reproductions of sticks-through-rawhide shields based on artefacts from Dura Europos and Pazyrzk in Barry Molloy‚Äôs <em>The Cutting Edge</em> (Tempus: Stroud, 2007) [ISBN 9780752441696 on <a href="https://www.bookfinder.com/search/?isbn=9780752441696&amp;st=xl&amp;ac=qr">Bookfinder</a>]</p>
<p><strong>Don‚Äôt leave my sites naked against a hail of financial arrows!  Support them on <a href="https://www.patreon.com/bookandswordblog">Patreon</a> or <a href="https://www.paypal.me/bookandswordblog">paypal.me</a> or even <a href="https://liberapay.com/bookandswordblog/">liberapay</a></strong></p>
<p><em>Edit 2020-07-08:</em> Hi Hacker News!  <a href="https://news.ycombinator.com/item?id=23753604" rel="nofollow">https://news.ycombinator.com/item?id=23753604</a><br>
<a href="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png"><img data-attachment-id="7751" data-permalink="https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/2020-07-08_traffic_cropped/" data-orig-file="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png" data-orig-size="989,236" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="2020-07-08_traffic_cropped" data-image-description="" data-medium-file="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=300" data-large-file="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=529" src="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=529&amp;h=126" alt="a bar chart of one month's traffic where half of all hits are on one day towards the end" width="529" height="126" srcset="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=529&amp;h=126 529w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=150&amp;h=36 150w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=300&amp;h=72 300w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=768&amp;h=183 768w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png 989w" sizes="(max-width: 529px) 100vw, 529px"></a></p>
					</div><!-- end .post-entry -->
	</div></div>]]>
            </description>
            <link>https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23753604</guid>
            <pubDate>Mon, 06 Jul 2020 22:39:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why you should share your salary]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23753402">thread link</a>) | @miraantabrez
<br/>
July 6, 2020 | https://miraan.co.uk/posts/why-you-should-share-your-salary/ | <a href="https://web.archive.org/web/*/https://miraan.co.uk/posts/why-you-should-share-your-salary/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h2 id="eliminating-one-of-the-darker-sides-of-capitalism">Eliminating one of the darker sides of capitalism</h2>

<p>There‚Äôs no reason companies should keep salaries a secret.</p>

<p>If salaries are determined rationally, according to principles that everyone in the company would agree to, then there‚Äôs nothing to hide.</p>

<p>When salaries are hidden, employees can be paid much less than they‚Äôre worth. The underpaid employees won‚Äôt know they‚Äôre underpaid. So they won‚Äôt ask for a raise, and they won‚Äôt go looking for another job.</p>

<p>If salaries are public, employees will know their true market worth. More importantly, they‚Äôll know their <em>potential future</em> market worth which lets them make informed life choices.</p>

<p>Your salary can have a huge impact on your life trajectory. It‚Äôs most people‚Äôs only source of income. It determines where you can live, what house you can buy, how often you can travel, when you can retire and how much time you get to spend on hobbies, personal projects or with family and friends. If you have kids, it determines how much you can spend on them too.</p>

<p>But salary information is still so opaque that people can‚Äôt effectively plan their financial future.</p>

<p>When I was a fresh computer science grad, I had no idea what salary to expect when applying for software engineering jobs. I got a couple of offers and accepted one from a London tech startup.</p>

<p>But after a year at the startup, I wanted to see what else was out there. I applied to Facebook and got an offer that was double my current compensation. I was blown away and counted myself lucky to stumble onto this information early in my career.</p>

<p>An old colleague also had no idea what he could be making if he switched jobs. He recently joined Facebook too and tripled his salary. It‚Äôs significantly changed his life trajectory. But here‚Äôs the crazy thing ‚Äî if I hadn‚Äôt told him what he could be making at Facebook, he still might not have known. He still might be making 3x less than he is now.</p>

<p>It‚Äôs sad to think that many will be in this situation for years. They‚Äôll spend a significant part of their life working for a company that is underpaying them. And this is mainly due to keeping salaries secret.</p>

<p>In most other parts of our life, we know what‚Äôs out there and how it compares to what we have. When we buy a car, we can compare the options objectively and make an informed decision. When we buy a house, we can do the same thing. The market is mostly fair and efficient because information is readily available.</p>

<p>But the choice that impacts people the most ‚Äî the job that determines their financial future and what they spend most of their prime waking hours on ‚Äî is not given the same treatment.</p>

<p>Companies have intentionally hidden salaries to make the labour market unfair and inefficient. They exploit this inefficiency by underpaying their employees so they can make more money. This is a darker side of capitalism which should be eliminated. Consider that we already send people to jail when they exploit nonpublic information in the stock market.</p>

<p>Sharing your own salary makes the labour market fairer and more efficient. It opens people‚Äôs eyes to their true market worth, but more importantly, their <em>potential future</em> market worth.</p>

<p>For a student, having the right information can alter their life trajectory. Knowing the market value of different skills can inform what they choose to study and specialize in. The same is true for working professionals.</p>

<p>Compensation at Facebook is mostly formulaic and everyone is pretty open internally about how much they‚Äôre paid. But not much is shared externally. If you want to explore tech salaries for yourself, <a href="https://www.levels.fyi/">levels.fyi</a> is a great resource.</p>

<p>In the next post I‚Äôll break down my own software engineering salary at Facebook.</p>


<p><a href="https://twitter.com/miraan_tabrez" data-show-count="false">Follow @miraan_tabrez</a></p>




</div></div>]]>
            </description>
            <link>https://miraan.co.uk/posts/why-you-should-share-your-salary/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23753402</guid>
            <pubDate>Mon, 06 Jul 2020 22:13:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Guarantee Success at Work]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23753084">thread link</a>) | @joebalcom
<br/>
July 6, 2020 | https://joebalcom.blog/2020/07/06/success-at-work/ | <a href="https://web.archive.org/web/*/https://joebalcom.blog/2020/07/06/success-at-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1452">
		<!-- .entry-header -->

	
	<div>
		
<figure><img data-attachment-id="1454" data-permalink="https://joebalcom.blog/2020/07/06/stand-out-at-work/photo-1516659257916-7be846591235/" data-orig-file="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=1350%2C900&amp;ssl=1" data-orig-size="1350,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="photo-1516659257916-7be846591235" data-image-description="" data-medium-file="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=300%2C200&amp;ssl=1" data-large-file="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=525%2C350&amp;ssl=1" src="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=525%2C350&amp;ssl=1" alt="The one thing you can do to stand out at work." width="644" height="429" srcset="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?w=1350&amp;ssl=1 1350w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=300%2C200&amp;ssl=1 300w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1024%2C683&amp;ssl=1 1024w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=768%2C512&amp;ssl=1 768w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1200%2C800&amp;ssl=1 1200w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=350%2C233&amp;ssl=1 350w" sizes="(max-width: 525px) 100vw, 525px" data-lazy-srcset="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?w=1350&amp;ssl=1 1350w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=300%2C200&amp;ssl=1 300w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1024%2C683&amp;ssl=1 1024w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=768%2C512&amp;ssl=1 768w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1200%2C800&amp;ssl=1 1200w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=350%2C233&amp;ssl=1 350w" data-lazy-src="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=525%2C350&amp;ssl=1&amp;is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>If you‚Äôre looking for a hack that will put you on the fast track to success at work, I have something for you.</p>



<p>You might not like it.</p>



<p>You might hate it.</p>



<p>You might even despise it so much that you do the opposite.</p>



<p>But sometimes we all must take our medicine and do what it takes to move onward and upward.</p>



<h3><strong>Going Against the Grain of Going Against the Grain</strong></h3>



<p>I know, I know. Since I started this blog, I‚Äôve been doing a lot of railing against the idea of working for someone else. While I do not back down from my stance one bit, I do realize that not everyone <em>wants</em> to work for themselves. I‚Äôve been doing a lot of thinking and a lot of studying on the topic of work, and I feel confident enough to divide the workforce into three camps:</p>



<p><strong>Group A: The small percentage of people who love their jobs</strong>. People in this camp find meaning and enjoyment in the work they do, and their salary is comfortable enough to support their preferred lifestyle. Kudos to these people! They have found the nexus between their version of meaningful work and financial freedom. To achieve this outcome is the ultimate purpose of why I write about <em>work</em>.</p>



<p><strong>Group B: People who hate their jobs and are looking for an alternate path</strong> to meaningful work and financial freedom. Finding suitable answers for these folks is my primary objective, and I find myself in the unique position of creating my own answer to this problem in the process.</p>



<p>There is a third and under-represented camp: <strong>Group C, the silent majority</strong>. These are people who don‚Äôt like one or more aspects of their job, but simply don‚Äôt feel the need or the urge to venture out on their own. If you find yourself in this camp, this article is for you.</p>







<h3><strong>The Status Quo Is Unacceptable</strong></h3>



<p>If you read <a href="https://joebalcom.blog/2020/06/05/ordinary/">How to be Extraordinarily Ordinary</a>, you‚Äôll see my disdain for the status quo on full display. That post was a bit tongue in cheek, but I will not mince words in this post.</p>



<p>There are a million and one reasons for someone not to like their job. Ranging from pay rates to petty office politics. From specific job functions to Pam from three cubicles way receiving preferential treatment. From not enough hours to too many hours. The list never ends. But one thing is for certain: <em>very few grievances are ever made known to those with the power to change it.</em></p>



<p>The rest are suppressed, hidden from sight, slowly growing into intense misery. This intense misery subsides after a while into dull indifference and acceptance. Selfishness and the ‚Äúwhat‚Äôs in it for me‚Äù mindset sets in, and newer employees are quickly influenced to follow the same path. This is the life cycle of status quo acceptance.</p>



<p>What I learned as an employee is that arranging a work environment conducive to happiness and success is not as hard as you would think. If you simply take the time to sit down with management to lay out your grievances, most of the time you can work something out. And in the rare instance they are not willing to work with you, then it‚Äôs a clear sign that you probably should move on.</p>



<p>What I learned from <em>leading</em> 80+ restaurant employees is that disgruntled employees are an inevitable part of managing such a complex system. There are so many moving parts in a large organization that you won‚Äôt be able to please everyone all the time. But the astonishing part is that most grievances will go undiscussed, no matter how open the door is. Employees who do not speak up will be condemned to their displeasure, and will inevitably poison the well. For those employees, this becomes a self-fulfilling prophecy.</p>



<p>In order to give success and happiness at work a fighting chance, you cannot accept a status quo that does not work for you. But <a href="https://joebalcom.blog/2020/06/08/12-lessons/">if you find that you cannot extract yourself from the situation</a>, your only choice is to lean into your work.</p>



<h3><strong>How to Get Ahead at </strong><strong>Work</strong></h3>



<p>I‚Äôve been on both sides of the fence and have experienced both perspectives of what is called the <a href="https://en.wikipedia.org/wiki/Principal%E2%80%93agent_problem#:~:text=The%20principal%E2%80%93agent%20problem%2C%20in,entity%3A%20the%20%22principal%22.">Principal-Agent Problem</a>. To put it simply, the principal (the owner or boss) has the incentives to do what is best for the good of the firm. The agent (the employee) often only has incentives to do what is best for themselves.</p>



<p>The norms of mediocrity have made this dichotomy an unfortunate reality. Most agents just don‚Äôt care enough about what the principal cares about. Different incentives, different goals.</p>



<p>As an agent who is committed to the firm, your best path forward is to <strong>think like the owner</strong>. It is the one thing you can do to guarantee getting ahead. When your aspirations are aligned with those of the owner, you instantly put yourself on the fast track to success.</p>



<h3><strong>Think Like an Owner and You Will Become the Owner</strong></h3>



<p>On the spectrum of happiness, those people closest to maximal happiness tend to be the ones in control of their own destiny. This simple fact is why I have repeatedly advocated for you to take an alternate path, take ownership of every aspect of your life, and leave the crowd behind.</p>



<p>If working for yourself is not an option in your mind, then your only option for true success and happiness at work is to lean into your work and <em>be excellent</em>. To be excellent in your workplace:</p>



<ul><li>Never say ‚Äúthat‚Äôs not my job.‚Äù</li><li>‚ÄúHow can I help‚Äù needs to become an instinct.</li><li>Become a leader within the organization, regardless of your title.</li><li>Don‚Äôt wait for someone to tell you to do the work that needs to be done.</li><li>Avoid petty workplace politics.</li><li>Take ownership of everything you do. No excuses.</li><li>Be consistent. The principal has to show up every day, and so should you.</li></ul>



<p>To illustrate this, I‚Äôll tell you about an employee, who worked for me at the restaurant I managed, named Mike. Mike personified every single item on the above list. He was a college student and a busser, but he was so meticulous, so consistent, and so reliable that he earned the nickname ‚ÄúCap,‚Äù as in Captain America.</p>



<p>I was so impressed by his work ethic and attitude, that I offered to promote him on more than one occasion. He turned down my offer every time because he believed what he was doing was the most effective way for him to help the restaurant.</p>



<p>The job wasn‚Äôt glamorous, but he leaned into his responsibilities in a way that earned him freedom, trust, and a sense of meaning in his work.</p>



<p>I‚Äôm confident that because he thinks like an owner, Mike will one day become an owner.</p>



<h3><strong>The Clear Path Ahead</strong></h3>



<p>There is a clear path to controlling your destiny within the confines of working for someone else. This path is not easy, you might not like it initially, but it will yield the most satisfying results over the long run.</p>



<p>By operating from a position of abundance, by going the extra mile to help others look good, by inspiring and lifting others around you, you will stand out above the rest over time.</p>



<p>I‚Äôll finish with a quote from Naval Ravikant, who sums it up nicely: ‚ÄúIf you think like the owner, and you act like the owner, it‚Äôs only a matter of time until you become the owner.‚Äù</p>



<p>###</p>



<p>Thank you so much for reading. If you enjoyed this post, please share it with someone who needs it! </p>









	</div><!-- .entry-content -->

	 <!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://joebalcom.blog/2020/07/06/success-at-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23753084</guid>
            <pubDate>Mon, 06 Jul 2020 21:37:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Future of Data Science Is Past]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752931">thread link</a>) | @srean
<br/>
July 6, 2020 | https://koaning.io/posts/the-future-is-past/ | <a href="https://web.archive.org/web/*/https://koaning.io/posts/the-future-is-past/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/future-past-draw.png"></p>
<p>After some reflection with friends and colleagues I can‚Äôt help but observe an odd fact:</p>
<p><strong>the Future of Data Science is Past</strong></p>
<p>This isn‚Äôt because data scientists try to predict the past (which granted, is pretty funny and ironic). It is also because hype and other circumstances have turned data science into a field of inflated expectations. It feels more like a certain type of dream got pushed (even sold) that didn‚Äôt solve all the problems that people were hoping for.</p>
<p>After I started hearing that a lot of data projects fail (here‚Äôs a nice example on <a href="https://www.reddit.com/r/MachineLearning/comments/beoxx8/discussion_when_ml_and_data_science_are_the_death/">reddit</a>) I started thinking about what was going on. Five years ago the future was so bright that some of us may have been blinded by it. In short, the hype around algorithms forgot to mention that:</p>
<ul>
<li>algorithms are merely cogs in a system</li>
<li>algorithms don‚Äôt understand problems</li>
<li>algorithms aren‚Äôt creative solutions</li>
<li>algorithms live in a mess</li>
</ul>
<p>In this document I‚Äôd like to address these points one by one so that I have something to refer to. I realise that I sound a bit cynical but I‚Äôll end the blog with some hope.</p>
<h2 id="algorithms-are-merely-cogs-in-a-system">Algorithms are Merely Cogs in a System</h2>
<p>I was once put in a team to design a recommendation service for the Dutch BBC. One of the first things we did was make a drawing of what the service should look like. It looked something like this.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/main_setup_numbers.png"></p>
<p>There were different parts of this design:</p>
<ol type="1">
<li>The UI layer</li>
<li>The AB splitting mechanism - we need this is we ever want to compare two algorithms.</li>
<li>The database that caches recommendations - we need this because at scale we cannot calculate these in real time</li>
<li>The scheduler that triggers a cluster to make calculations - we want to incorporate new data on a daily/hourly basis</li>
<li>An algorithm that calculates new recommendations - this is the data science code that takes log files and produces recommendations</li>
<li>The fallback/checker mechanism that ensures we only recommend things we‚Äôre allowed to recommend.</li>
</ol>
<p>Out of all these parts the final part (#6) is the most important in this system. It is the part that guarantees that we always have something to recommend even if any part before breaks. It is also the part that ensures that we always adhere to some very important business rules. Business rules like;</p>
<ul>
<li>make sure that we don‚Äôt violate a license (some content may only shown during certain parts of the day)</li>
<li>make sure that we don‚Äôt show mature content before 22:00</li>
<li>make sure we don‚Äôt recommend violent shows after a kids show</li>
</ul>
<p>It is unrealistic that a self learning algorithm is able to pick up these rules as hard constraints so it makes sense to handle this elsewhere in the system. With that in mind; notice how the algorithm is only a small cog in the entire system. The jupyter notebook that contains the recommender algorithm is <strong>not</strong> the investment that needs to be made by the team but rather it is all the stuff around the algorithm that requires practically <em>all</em> the work. Note that step 5 also requires communication with a big data cluster which also demonstrates that a recommender is more of an engineering investment than an algorithmic one. You don‚Äôt want a pure scientist team here, you need solid engineers and developers.</p>
<p>This is besides the fact that a lot of good algorithms can be created with simple heuristics that don‚Äôt require a maths degree. One could:</p>
<ul>
<li>recommend content that is often watched together</li>
<li>recommend content that is often watched together unless it is too popular</li>
<li>recommend the next episode</li>
</ul>
<p>These are all fair options to at least benchmark. I would also like to point out that the latter idea is a great idea even it isn‚Äôt technically machine learning. It should compete with any deep learning algorithm, any day.</p>
<h2 id="algorithms-dont-understand-problems">Algorithms don‚Äôt Understand Problems</h2>
<p>It takes a team a lot of time to realise what problem it is actually solving. Getting this right is hard. It‚Äôs even harder when the majority of the team consists of the same people. Worse; these people are trained in machine learning and prefer to keep themselves to the algorithmic part of their work.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/circle-half.png"></p>
<p>Thing can go wrong in this situation. The team might not be great at translating the actual problem into an algorithm that represents the business. At the same time, the business might not be able to adapt to a recommendation that comes out of the algorithm. Even worse, it is also possible that the algorithmic solution brings in new problems. If you‚Äôre unlucky these new problems can get translated into new algorithmic problems. Before you know it you‚Äôre stuck in a loop.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/circle-full.png"></p>
<p>People with an algorithmic background usually tackle a problem in isolation of the system that it is in. A better approach is not to focus on the isolated part but to focus on the communication between two parts of the system. If this is not part of the problem design from the get-go then you‚Äôre bound to waste resources until you realise it has to.</p>
<p>Let‚Äôs remember the recommender usecase. It is a bad idea to expect the algorithm to magically understand that it cannot recommend mature content before 22:00. When you realise this you know that you need a checking system between the algorithm and the serving layer. It is good to realise this early in the project and not when a large chunk of the code needs to get rewritten.</p>
<p>One potential cure against this ‚Äúisolation‚Äù way of thinking is to not have a team with data people. Instead you want to have teams that are interdisciplinary and maybe have a data person in it. A team with many backgrounds causes more discussion and a more holistic view of things that ‚Äúmight go wrong‚Äù. It makes sense to have a UI specialist, a backend engineer, an algorithm person <strong>and</strong> a content expert in a team that is making a recommender.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/better-worse.png"></p>
<p>It is really hard to think outside the box if your in it. By having multiple disciplines you ensure that there is always somebody who can cause a pivot. There‚Äôs always somebody who thinks outside of the box that you‚Äôre in.</p>
<h2 id="algorithms-arent-creative-solutions">Algorithms aren‚Äôt Creative Solutions</h2>
<p>Creative solutions to problems are usually not found by hyper-parameter search. The goal should not be to be the most efficient algorithm but the most effective. Do data teams ever consider that maybe the solution to the problem <strong>isn‚Äôt</strong> a machine learning model? Why would the algorithm ever be a good starting point to solving a problem?</p>
<p>To drive this point I‚Äôm reminded of a story in the eighties about a condom brand. The business was doing well but it was having some trouble planning production. It turned out to be very hard to predict demand. Both the factory and the warehouse are expensive so people were wondering what to do about it.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/timeseries-1.png"></p>
<p>Then a strategic consultancy firm came in and suggested that this was indeed a <strong>StatisticsProblem[tm]</strong>. The consultancy firm advised getting another third party involved to try to predict the demand curve. A small army of econometricians was brought in to tackle the business case.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/timeseries-2.png"></p>
<p>After two months (and many billed hours) the econometricians reported that no progress was made. The timeseries turned out to not show any predictable patterns that could help with the planning of either the factory or the warehouse. The original consultants and econometricians left (pockets filled) while they reminded their client of the NDA they all signed.</p>
<p>After a few weeks an alternative way of thinking made it‚Äôs way to management and it came from a factory worker. The problem turned out to be formulated incorrectly. The factory did not need to be turned off if the company had products to produce. It merely needed to look for a product that it could produce when demand for condoms was low. If it could find a product that correlates negatively with the original product then the factory might produce all year round.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/timeseries-yes.png"></p>
<p>Supposedly, this is how latex pacifiers got invented.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/baby-pacifier.png"></p>
<p>The issue with this fable is that it is very hard to verify it‚Äôs truth. Still, one might wonder what would happen if we allow ourselves to solve problems without algorithms for a change.</p>
<h2 id="algorithms-live-in-a-mess">Algorithms Live in a Mess</h2>
<p>From the perspective of a data scientist life is pretty easy. One gets to play in an isolated environment of historical data. One get‚Äôs to do this from a jupyter environment that somebody else set up. One even gets to use very complex algorithms by calling <code>model.fit()</code> followed by <code>model.predict()</code>. Lot‚Äôs of charts are made, metrics are compared and maybe a model is pushed to production.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/rockstar.png"></p>
<p>This is in stark contrast with businesses. Businesses are not confronted with problems that are in isolation. Businesses instead have dynamic situations that consist of complex systems of changing problems that interact with each other. To repeat what is said <a href="https://ackoffcenter.blogs.com/files/the-future-of-operational-research-is-past.pdf">here</a>; I call such situations messes. Problems are abstractions extracted from messes by analysis; they are to messes ‚Äôas atoms are to tables and chairs. We experience messes, tables, and chairs; not problems and atoms.</p>
<p>This is especially true when we consider that the world is a moving target. Optimality is usually of short duration and this is especially true if the consequences of the algorithm aren‚Äôt too well understood (who knows what happens when we call <code>.fit()</code> or <code>.predict()</code> given enough columns) or if the algorithm can‚Äôt be changed easily.</p>
<p>It get‚Äôs worse. The type of model deployed in our field implies a particular paradigm of problem solving. It consists of two parts: predicting the future and making a decision based on this. The effectiveness here depends on how well we can predict the future as well as our ability to act on it. The fact that you can predict something (churn, the weather) does not mean that you can act on it. The fact that you can act on it does not mean that it is predictable.</p>
<p>If we can make good decisions based on predictions then we have another problem: we will cause a shift in the world. This might be great for the short run but it will render our future predictions futile. If we don‚Äôt see a backlash in predictive power then our algorithm might cause a way worse problem: self fulfilling prophecies.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/rockstar-not.png"></p>
<p>This algorithmic attitude towards problem solving often leaves ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://koaning.io/posts/the-future-is-past/">https://koaning.io/posts/the-future-is-past/</a></em></p>]]>
            </description>
            <link>https://koaning.io/posts/the-future-is-past/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752931</guid>
            <pubDate>Mon, 06 Jul 2020 21:23:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Going Bananas with Naming Microservices?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752813">thread link</a>) | @hjacobs
<br/>
July 6, 2020 | https://srcco.de/posts/naming-applications-components-microservices.html | <a href="https://web.archive.org/web/*/https://srcco.de/posts/naming-applications-components-microservices.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody text">
    <div>
<p><img alt="../galleries/naming-applications-components/magic-baby.jpg" src="https://srcco.de/galleries/naming-applications-components/magic-baby.jpg"></p><p>Naming is hard.
Naming is communication.
Going bananas with naming microservices?
Probably something you will regret!
This post proposes a few guidelines to follow when naming internal applications and components.</p>
<!-- TEASER_END -->
<p>Developers seem to enjoy using clever, cute, funny names for their applications <a href="https://srcco.de/posts/naming-applications-components-microservices.html#id3" id="id1">[1]</a>.
I see many tech companies using codenames for internal applications and microservices.
For example, Airbnb goes bananas with "Banana":</p>
<p><a href="https://twitter.com/spikebrehm/status/1100566261191258114"><img alt="Years ago there started a trend at @AirbnbEng to come up with clever cheeky names for services. Now it's gotten out of control. Exhibit A: the internal web app for viewing microservice docs is called &quot;Banana&quot;. üçå  What does it mean??" src="https://srcco.de/galleries/naming-applications-components/twitter-airbnb-banana.png"></a></p><p>Twitter engineers seem to like bird names (no surprise):</p>
<p><a href="https://twitter.com/mjackson/status/1100624311872679938"><img alt="We did this at Twitter. It got to the point where I had no idea what people were talking about anymore. Hummingbird, dodo, snowflake, Parrott, we're all real system names" src="https://srcco.de/galleries/naming-applications-components/twitter-twitter-names.png"></a></p><p>Spotify seems to have a mixture of codenames ("Bieber", "horus", "hotdog") and meaningful system names ("charts-api", "userdata").
Slide from a <a href="https://www.slideshare.net/kevingoldsmith/how-spotify-builds-products-organization-architecture-autonomy-accountability/112">talk given by the CTO in 2016</a>:</p>
<p><a href="https://srcco.de/galleries/naming-applications-components/spotify-system-names.jpg"><img alt="Spotify system names" src="https://srcco.de/galleries/naming-applications-components/spotify-system-names.jpg"></a></p><p>The Rockefeller Archive Center <a href="https://blog.rockarch.org/project-electron-update-building-microservices-for-integration">uses constellation-themed names for microservices</a> ("aquarius", "fornax", "gemini"):</p>
<p><a href="https://srcco.de/galleries/naming-applications-components/rockarch-microservices-overhead.png"><img alt="Rockefeller Archive Center microservices" src="https://srcco.de/galleries/naming-applications-components/rockarch-microservices-overhead.png"></a></p><p>Zalando also started to use "fun" team and application IDs when introducing microservices in 2015.
Teams started to have naming schemes for their applications, e.g. "coastal shapes" or "characters from Agatha Christie's Poirot".
Some Georgian names turned out to be successful Open Source projects:</p>
<p><a href="https://twitter.com/try_except_/status/1266108151646035969"><img alt="Twitter: Our Georgian heritage at @ZalandoTech" src="https://srcco.de/galleries/naming-applications-components/twitter-zalando-georgian-names.png"></a></p><p>The <a href="https://news.ycombinator.com/item?id=1942384">orange site has more suggestions for ridiculous names</a>
and <a href="https://namingschemes.com/">namingschemes.com</a> can be your inspiration, too.
So if you want to go crazy with naming, by all means do, but please consider the consequences.
<a href="https://theiconic.tech/naming-your-microservices-needs-to-be-trivial-not-cryptic-288902e800e1">Naming your microservices needs to be trivial, not cryptic</a>:</p>
<blockquote>
How does this sound? I deployed ‚ÄúLeonardo‚Äù and it broke ‚ÄúErnest‚Äù</blockquote>
<p>VS</p>
<blockquote>
I deployed ‚Äúshipments‚Äù and that caused the outage on ‚Äúpick and pack‚Äù too.</blockquote>
<p>Or do you want your meetings to <a href="https://www.youtube.com/watch?v=y8OnoxKotPQ">sound like this</a>?</p>
<div id="guidelines">
<h2>Guidelines</h2>
<p>If random "fun" names are not the way to go, how to name internal applications, components, and microservices?
Here some proposed guidelines.</p>
<p>Application names‚Ä¶</p>
<ul>
<li>‚Ä¶ MUST NOT contain offensive terms</li>
<li>‚Ä¶ MUST NOT include organization/team identifiers</li>
<li>‚Ä¶ SHOULD describe the application's purpose</li>
<li>‚Ä¶ SHOULD NOT consist solely of acronyms</li>
<li>‚Ä¶ SHOULD NOT use broad/general names for local purposes</li>
<li>‚Ä¶ SHOULD NOT be clever or rely on temporary concepts</li>
<li>‚Ä¶ CAN represent a product branding (if established)</li>
</ul>
<div id="names-must-not-contain-offensive-terms">
<h3>Names MUST NOT contain offensive terms</h3>
<p>Avoid offensive words like "blacklist", "master", and "slave". Avoid violent names like "kill", "killer", and "war".
Also avoid political terms like "brexit" and "putin". Avoid names which can sound offensive for your colleagues,
e.g. "Den Den Mushi" are <a href="https://onepiece.fandom.com/wiki/Den_Den_Mushi">fictional snails</a>, but "Mushi" sounds a lot like "Muschi" (pussy) in German.
Other terminology can also be problematic. For example, imagine you work in a telecommunication company and name one of your services "big brother"
‚Äî guess what happens if this name is leaked to the press?</p>
</div>
<div id="names-must-not-include-organization-team-identifiers">
<h3>Names MUST NOT include organization/team identifiers</h3>
<p>Applications typically outlive their organization structure.
Adding department/team identifiers to your application names will cause confusion and unnecessary renaming.
This is especially problematic if your org/team names are codenames.
For example, team "kingpins" has created an application "kingpins-user-frontend", what happens if the application is handed over to team "gravity"?</p>
<p>Microservices should be owned by exactly one engineering team, but they should not reflect the team's identity.</p>
</div>
<div id="names-should-describe-the-application-s-purpose">
<h3>Names SHOULD describe the application's purpose</h3>
<p>The application's name should describe its business purpose, i.e. why it exists in the first place.
The application's purpose should not change, otherwise we need to introduce a new application with a different name.
A microservice should have one responsibility. This should be reflected in its name.</p>
<p>Don't assume that others will have the same context as you and understand the name's meaning.
Make sure to ask colleagues who are not familiar with your business domain to review your names.</p>
</div>
<div id="names-should-not-consist-solely-of-acronyms">
<h3>Names SHOULD NOT consist solely of acronyms</h3>
<p>Acronyms are sometimes a necessary evil, but avoid acronyms unless they are well established in your company.
"CMS" (Content Management System) is a well established acronym. CLOTS, BUGR, and NIPL are probably not well-known.
Avoid cryptic acronyms.</p>
</div>
<div id="names-should-not-use-broad-general-names-for-local-purposes">
<h3>Names SHOULD NOT use broad/general names for local purposes</h3>
<p>Large organizations tend to use similar entities in different domains, e.g. there is probably more than one "item", "order", and "user" entity in your company.
Avoid using too general names like "item processor" or "user service" unless you are absolutely sure that your organization only has exactly one definition for "item" and "user".</p>
</div>
<div id="names-should-not-be-clever-or-rely-on-temporary-concepts">
<h3>Names SHOULD NOT be clever or rely on temporary concepts</h3>
<p>I wholeheartedly agree with <a href="https://www.namingthings.co/naming-things-principles">Austerity as a naming principle</a>:</p>
<blockquote>
It can be tempting to use a bit of humor or a cultural reference in code to lighten the mood a bit, but doing this can violate many principles. For example, a joke name can reduce understandability of the underlying concept and reduce the name‚Äôs consistency and searchability. Colloquialisms (which are only understandable to certain audiences) and puns can cause similar issues. They may seem fun initially, but after dealing with them for years, that fun will turn into apathy and (more likely!) antipathy. When in doubt, choose names that are literal and dry.</blockquote>
</div>
<div id="names-can-represent-a-product-branding">
<h3>Names CAN represent a product branding</h3>
<p>Internal application names should not be cryptic codenames, but establishing a brand sometimes makes sense.
Don't introduce a codename unless you are willing to invest into establishing a (product) brand, e.g. a well-recognized codename within the company or for promoting an Open Source project.
Spotify released their developer portal "Backstage" which is now a <a href="https://github.com/spotify/backstage">recognized OSS project</a>.
Zalando has well-established codenames for central infrastructure components like <a href="https://nakadi.io/">Nakadi</a> and <a href="https://github.com/zalando/skipper">Skipper</a>.
Almost every Zalando engineer knows what Nakadi and Skipper are.</p>
<p>Your local "raccoon" and "wingman" microservices don't need branding, their codenames <a href="https://www.youtube.com/watch?v=y8OnoxKotPQ">just lead to confusion</a>.</p>
</div>
</div>
<div id="summary">
<h2>Summary</h2>
<p>Naming is hard, but there is no shortcut for finding a good name.
Selecting or inventing a naming scheme
and assigning a random name to each application sounds like fun.
Please don't prioritize this fun over the struggle of all your colleagues having to deal with these "fun" names.
Involve colleagues from other departments to find a "good" name which expresses the application's purpose.</p>
<p>Stop proliferating meaningless "fun" codenames for software systems.</p>
</div>

</div>
    </div></div>]]>
            </description>
            <link>https://srcco.de/posts/naming-applications-components-microservices.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752813</guid>
            <pubDate>Mon, 06 Jul 2020 21:12:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why marketing is eating the world]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23752747">thread link</a>) | @gmays
<br/>
July 6, 2020 | https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/ | <a href="https://web.archive.org/web/*/https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I was born and raised in the San Francisco Bay Area and grew up during the dot com boom in the late 1990s. One of the most interesting things in looking back are the stark differences in what it took to be successful back then with a software company and what it takes to be successful in building a software startup today in the US. </p>



	<div data-blog-id="155286968">
		<div>
			
			
				<p>
					Processing‚Ä¶				</p>
				<p>
					Success! You're on the list.				</p>
				<p>
					Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.				</p>

					</div>
	</div>
	


<p>When I was a teenager, if you wanted to get into internet startups, you needed to find information on how to build websites. Although there were some no-code website builders, they were largely terrible. Building websites from scratch was the way to go. Moreover, developer knowledge was not really available online, because content on the internet was still being written. You had to hop over to your local Barnes &amp; Noble bookstore to buy books on HTML, Javascript, Perl and whatnot. Lastly and most importantly, you needed access to servers. It was not uncommon for internet companies to spend boatloads of money setting up their infrastructure in a closet at their office. Back then, technical knowledge was a really valuable and a limited skill. If you could assemble the best technical teams and keep them happy, that was a really strong moat for you because you could prevent other would-be competitors from being able to build a competing offer.</p>



<figure><img data-attachment-id="4191" data-permalink="https://elizabethyin.com/pexels-photo-261821/" data-orig-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?fit=1880%2C1059&amp;ssl=1" data-orig-size="1880,1059" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="book bookstore close up college" data-image-description="" data-medium-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?fit=300%2C169&amp;ssl=1" data-large-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?fit=660%2C372&amp;ssl=1" src="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=660%2C372&amp;ssl=1" alt="" srcset="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=1024%2C577&amp;ssl=1 1024w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=768%2C433&amp;ssl=1 768w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=1536%2C865&amp;ssl=1 1536w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=483%2C272&amp;ssl=1 483w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?w=1880&amp;ssl=1 1880w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?w=1320&amp;ssl=1 1320w" sizes="(max-width: 660px) 100vw, 660px" data-recalc-dims="1"><figcaption>Photo by Pixabay on <a href="https://www.pexels.com/photo/book-bookstore-close-up-college-261821/" rel="nofollow">Pexels.com</a></figcaption></figure>



<p>And as a result, for many years, there were not that many websites in the US market (or anywhere). If you had a website, it was relatively easy to capture attention and web traffic. One such website, Craigslist, a simple peer-to-peer marketplace site that we are all familiar with, was started in 1995 and continues to reign to this day despite so many upstarts trying to compete with it on better design and usability. Why? Craigslist gets the job done and more importantly, people know about its existence. Distribution is king.</p>



<p>Although it often took months to build out a website in the 90s, today you can often get a fairly straightforward site out the door even with no-code tools in less than a day. And if you do need to write code, you can search for code examples on just about every possible topic in a variety of discussion forums and on YouTube. Even more advanced computer science topics such as in machine learning now have so many open source resources and infrastructure.  You can often use a variety of specialty libraries without having specialized knowledge. For the most part, in software, technical information has largely become commoditized. This isn‚Äôt to say that you can‚Äôt make good money being a software engineer ‚Äî and in fact, if you are a top engineer, you can now make a boatload of money! But it‚Äôs to say that most ‚Äúrun-of-the-mill‚Äù software development is not a unique skillset and most software businesses developed today don‚Äôt require specialized software development skills.</p>



<p>This has led to a flurry of many applications being built online ‚Äì often with multiple teams building the same thing. It is not uncommon to run into 50 different founding teams all trying to build a marketplace for gym trainers. Or 300 founding teams trying re-invent marketing automation.</p>



<figure><img data-attachment-id="4169" data-permalink="https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/numofsites/" data-orig-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?fit=960%2C684&amp;ssl=1" data-orig-size="960,684" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numofsites" data-image-description="" data-medium-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?fit=300%2C214&amp;ssl=1" data-large-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?fit=660%2C470&amp;ssl=1" src="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?w=660&amp;ssl=1" alt="" srcset="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?w=960&amp;ssl=1 960w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?resize=300%2C214&amp;ssl=1 300w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?resize=768%2C547&amp;ssl=1 768w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?resize=382%2C272&amp;ssl=1 382w" sizes="(max-width: 660px) 100vw, 660px" data-recalc-dims="1"></figure>



<p>According to <a href="https://www.statista.com/chart/19058/how-many-websites-are-there/">Statista</a>, the number of websites has ballooned to nearly 2B!</p>



<p>For most software businesses in the US, the problem isn‚Äôt technical knowledge anymore. The problem is getting a wedge into distribution ‚Äî also known as marketing. </p>



<p>Furthermore, incumbents who generally do a good job, often manage to continue reigning. According to Brad Gerstner, CEO of Altimeter Capital, who recently did a podcast on <em><a href="http://investorfieldguide.com/podcast/">Invest Like The Best</a></em>, large tech companies have managed to take even more market share than 10 years ago. Some people may argue this is because the large tech companies have improved their products over time to stay ahead due to their increased collection of data and better algorithms that feed on that data over time. That may be true for some companies but not all. This also applies to other products that have not made significant strides in their technology ‚Äî Craigslist, Salesforce CRM, Turbotax, Quickbooks to name a few. Even Google Search which arguably had a better product in the 1990s compared to its peers is about on par with alternative search engines today, but 90% of people worldwide still use Google. Old habits die hard, and distribution matters more than ever if you are just starting a business. It‚Äôs hard to topple incumbents who have strong distribution and already large audiences ‚Äî even if you can build a much better product. </p>



<p>So where are the opportunities in software? Is it even possible to build a company that takes an entire market?  I took to Twitter to find out. </p>



<figure><img data-attachment-id="4187" data-permalink="https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/screen-shot-2020-06-30-at-1-41-57-pm/" data-orig-file="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?fit=590%2C391&amp;ssl=1" data-orig-size="590,391" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screen-Shot-2020-06-30-at-1.41.57-PM" data-image-description="" data-medium-file="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?fit=300%2C199&amp;ssl=1" data-large-file="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?fit=590%2C391&amp;ssl=1" src="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?w=660&amp;ssl=1" alt="" srcset="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?w=590&amp;ssl=1 590w, https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?resize=300%2C199&amp;ssl=1 300w, https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?resize=410%2C272&amp;ssl=1 410w" sizes="(max-width: 590px) 100vw, 590px" data-recalc-dims="1"></figure>



<p>A big warm thanks to everyone who participated. A number of people came up with some great suggestions of winner-take-all companies within a variety of developer tools / API markets, but in large part, this was an incredibly difficult challenge. No one could think of a company that has started in the last decade and has clearly dominated above all other competitors. On the flipside, we‚Äôve already rattled off a number of older software companies that continue to dominate market share TO THIS DAY in a variety of areas: Google Search, Amazon Books, Turbotax, etc. This isn‚Äôt to say that you cannot build a big business if you don‚Äôt own a market, but it‚Äôs to say that the old way of thinking about market domination is just not applicable anymore.</p>



<p>Put another way, a lot of the ‚Äúlow hanging fruit‚Äù in the US software market is now gone. Software in the US generally works. And new opportunities get swept up with would-be competitors immediately. If the 90s was about thinking through your build, the 2020s is about thinking through marketing &amp; distribution. </p>



<p>As such, while many VCs are still fixated on finding unique technology in software and chasing companies that will ultimately be the sole winner, I‚Äôd contend that these two strategies ‚Äî while successful in the 90s and early 00s ‚Äî largely no longer work. There are certainly exceptions but if we are talking strictly about software, (not hardware, not drug discovery, not synthetic bio, etc) you‚Äôd be hard pressed to find a company where winning does not require a solid marketing and/or sales game. This is very different from the 1990s. Having a marketing skillset and mindset is what you need to win in 2020 in the US software market. </p>



<p>Although the low hanging fruit opportunities in the US are gone, it‚Äôs not to say that you can‚Äôt build a Salesforce competitor or a Craigslist competitor and be successful. The software market in the US has gotten so big ‚Äî you can still build a billion dollar business if you are the 15th email service provider. We are seeing more and more unicorns ($1b valuation businesses) and many in the same market. However, we are also seeing many more startups than in the 1990s being built. This means that while there are more unicorns as an aggregate number, there are also many more companies that will not become unicorns. And with increased competition, even if there are more winners, the cost of customer acquisition becomes more expensive for all. </p>



<figure><img data-attachment-id="4193" data-permalink="https://elizabethyin.com/pexels-photo-1564506-3/" data-orig-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?fit=1880%2C1208&amp;ssl=1" data-orig-size="1880,1208" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="boston terrier wearing unicorn pet costume" data-image-description="" data-medium-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?fit=300%2C193&amp;ssl=1" data-large-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?fit=660%2C424&amp;ssl=1" src="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=660%2C424&amp;ssl=1" alt="" srcset="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=1024%2C658&amp;ssl=1 1024w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=300%2C193&amp;ssl=1 300w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=768%2C493&amp;ssl=1 768w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=1536%2C987&amp;ssl=1 1536w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=423%2C272&amp;ssl=1 423w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?w=1880&amp;ssl=1 1880w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?w=1320&amp;ssl=1 1320w" sizes="(max-width: 660px) 100vw, 660px" data-recalc-dims="1"><figcaption>Photo by mark glancy on <a href="https://www.pexels.com/photo/boston-terrier-wearing-unicorn-pet-costume-1564506/" rel="nofollow">Pexels.com</a></figcaption></figure>



<p>In fact, there are economic schools of thought around where we are in the tech-economic landscape. As economist Carlotta Perez describes, we are now in the <a href="http://www.carlotaperez.org/downloads/media/PEREZTechnologyandbubblesforEngelsbergseminar.pdf">Deployment Phase</a> of the internet in the US ‚Äî meaning, we are in-process of exhausting all use cases for internet technologies in the US. What has traditionally happened at the end of a technology phase is oversaturation of investment dollars chasing smaller returns. Valuations go up, returns go down, and investors lose their money. (Sound familiar?) On a company level, what this means is, if not careful, a lot of companies will end up wasting marketing dollars in this type of landscape. Companies in the 2020s, unlike in the 1990s, need to really be performance-marketing driven in order to compete. The end of last year certainly showed us many examples of well-funded companies that could not make the unit economics work. The software industry has become a marketing game. </p>



<p>Even if you aren‚Äôt running a strictly software business but use software platforms to operate a business, marketing is still key. If you run your company off  Yelp, Shopify, Patreon, Stripe, Recurly, ConvertKit, Substack, or any of the others, you need to stand out, and that‚Äôs marketing. And the people who do the best at marketing make a LOT of money, and those who don‚Äôt, just can‚Äôt catch a break, even if they are good at their craft. Marketing is necessary.</p>



<p>There are, of course, exceptions to this ‚Äî there are still emerging markets (both in the geographical sense and technology sense) where marketing doesn‚Äôt matter as much. </p>



<p>In developing geographical markets, it‚Äôs largely greenfield. We have a portfolio company in Indonesia that was able to get 250k signups almost immediately from brick and mortar small businesses and no budget. In the US, without a large marketing budget, this would be challenging to do now. Why? Because every Square and Opentable is knocking on their door and has been for years. There‚Äôs just so much noise small businesses tend to ignore. But in Indonesia, that isn‚Äôt the case‚Ä¶yet. The software landscape there is similar to the 1990s in the US. It‚Äôs harder to piggyback off of existing software infrastructure ‚Äî whether it‚Äôs payments or platforms ‚Äî but there‚Äôs also a lot of obvious opportunity in software that no one is going after. The same could be said about investing elsewhere in Southeast Asia or in LatAm or Africa. There are fewer startups to compete with for attention, and it‚Äôs less of a marketing game than building a software company in the US. </p>



<p>In addition, for companies pursuing developing ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/">https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/</a></em></p>]]>
            </description>
            <link>https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752747</guid>
            <pubDate>Mon, 06 Jul 2020 21:05:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips to Write Landing Page Text Without Sounding Like a Salesman]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752746">thread link</a>) | @mratiebatie
<br/>
July 6, 2020 | https://targetaudience.app/articles/7-tips-to-write-landing-page-text-without-sounding-like-a-salesman | <a href="https://web.archive.org/web/*/https://targetaudience.app/articles/7-tips-to-write-landing-page-text-without-sounding-like-a-salesman">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://targetaudience.app/articles/7-tips-to-write-landing-page-text-without-sounding-like-a-salesman</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752746</guid>
            <pubDate>Mon, 06 Jul 2020 21:05:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mean Squared Terror ‚Äì GridSearch Is Not Enough]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752683">thread link</a>) | @amrrs
<br/>
July 6, 2020 | https://koaning.io/posts/mean-squared-terror/ | <a href="https://web.archive.org/web/*/https://koaning.io/posts/mean-squared-terror/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<blockquote>
<p>2020-06-29 This blogpost was edited the day after it got posted. During my morning walk I realised that my code had a glaring bug in the statistics. I was reporting training set figures, not the validation set. I re-ran the system with the appropriate numbers and while the conclusions did not change, some of the figures/numbers did.</p>
</blockquote>
<p>When I started in data, many years ago, people were actively working on heuristics. These are rules that could look at data and then make appropriate decisions. In schematics, this was the norm;</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-1"></span>
<img src="https://koaning.io/posts/mean-squared-terror/then.png" alt="Those were the days." width="100%"></p><p>
Figure 1: Those were the days.
</p>
</div>
</div>
<p>You had to understand the data to come up with these rules and this was very time consuming. But then machine learning changed everything. Instead of writing rules that fit a problem, we provide labels and have a machine figure out the rules instead.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-2"></span>
<img src="https://koaning.io/posts/mean-squared-terror/now.png" alt="The latest and greatest." width="100%"></p><p>
Figure 2: The latest and greatest.
</p>
</div>
</div>
<p>The latter approach has merit to it but it requires a new way of working. It also tends to be compute intensive because we‚Äôre interested in finding the best possible settings.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-3"></span>
<img src="https://koaning.io/posts/mean-squared-terror/alg.png" alt="All those settings." width="100%"></p><p>
Figure 3: All those settings.
</p>
</div>
</div>
<p>To find the best settings for all of these models we‚Äôve even got gridsearch via cross validation; an industry standard to make sure that we pick the best model.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-4"></span>
<img src="https://koaning.io/posts/mean-squared-terror/settings.png" alt="All this expensive compute better be worth it." width="100%"></p><p>
Figure 4: All this expensive compute better be worth it.
</p>
</div>
</div>
<p>Don‚Äôt get me wrong, there‚Äôs merit to the methodology. We want to demonstrate consistent results in our models. But we‚Äôre representing <strong>all the possible properties of a model</strong> as a single number. That‚Äôs a massive reduction of information, and frankly, an overly simplified way to think about models.</p>
<h2 id="dangerzone">Dangerzone</h2>
<p>I‚Äôve written before that ‚ÄúGridSearch is not Enough[tm]‚Äù but in this document I wanted to give an example of how the technique can also be a problem. GridSearch is insufficient at best, it can also be dangerous at worst.</p>

<p>The main reason is that I‚Äôve seen people put blind faith into the methodology causing a blind spot for other issues with the model. I‚Äôve also spoken to data scientists who think that machine learning algorithms are unbiased tools that find the ‚Äútruth‚Äù in the data and that grid search is a methodological purity. This is a dangerous attitude so I figured I‚Äôd create a counter-example.</p>
<h2 id="experiment">Experiment</h2>
<p>So let‚Äôs do a small experiment. The goal is to see the effect of machine learning on a biased dataset. Given a biased dataset, will grid search amplify the bias in the dataset or reduce it?</p>
<p>I‚Äôve draw a dataset using <a href="https://drawdata.xyz/">drawdata.xyz</a>. Let‚Äôs pretend that this usecase represents predicting salaries based on skill level. The skill level is plotted on the x-axis and the salary/reward is plotted on the y-axis. There‚Äôs two groups of datapoints and one represents a marginalized group. This group is under represented, only appears with low salaries and it also has a lower salary than it‚Äôs non-marginalised peers. The current illustration is a blunt representation of what might happen in a real life dataset (the bias can be more subtle) but the question is; what pattern will be picked up after grid search?</p>

<p>Below we‚Äôll have a look at the results of three different models. We‚Äôll also list the mean squared error that was reported back to us from the gridsearch.</p>

<h5 id="linear-model-with-dummy-variable">Linear Model with Dummy Variable</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-6"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot-linear.png" alt="Mean Squared Error, Train: 1166.64 Test: 1767.36" width="100%"></p><p>
Figure 5: Mean Squared Error, Train: 1166.64 Test: 1767.36
</p>
</div>
</div>
<h5 id="nearest-neighbor-regression-with-scaling">Nearest Neighbor Regression with Scaling</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-7"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot_nn.png" alt="Mean Squared Error, Train: 909.66 Test: 2337.65" width="100%"></p><p>
Figure 6: Mean Squared Error, Train: 909.66 Test: 2337.65
</p>
</div>
</div>
<h5 id="grouped-linear-model">Grouped Linear Model</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-8"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot_group.png" alt="Mean Squared Error, Train: 993.57 Test: 1343.09" width="100%"></p><p>
Figure 7: Mean Squared Error, Train: 993.57 Test: 1343.09
</p>
</div>
</div>
<p>Notice how the model that has the lowest mean squared error is also the model that causes the most bias between groups for higher skill levels. This increase in bias <em>cannot</em> be blamed merely on the data. It‚Äôs the choice of the model that increases this bias which is the responsibility of the algorithm designer.</p>
<p>Now, you could argue that this is a theoretical dataset. No professional would include something like gender into a model predicting salary. <a href="https://github.com/scailable/sclbl-tutorials/issues/7">Right?</a> We can repeat the same exercise with something that correlates with a sensitive attribute instead but you can expect similar result. You can get a smaller mean squared error when you can learn the bias in the dataset. No matter how subtle.</p>
<p>This is what I find scary about gridsearch. People have been learned to trust it even though it can pick a model you should not consider. Notice how the grid search would tell us that there <em>should</em> be a big payment gap between the two groups even if they display high levels of skill. In algorithmic terms some might call this behavior ‚Äúoptimal‚Äù while in real life, you would call this sexism, ageism or racism.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-9"></span>
<img src="https://koaning.io/posts/mean-squared-terror/mcsultancyy.png" alt="Mean Squared Terror: over 9000." width="100%"></p><p>
Figure 8: Mean Squared Terror: over 9000.
</p>
</div>
</div>
<p>The thing to remember here is that 100% unbiased datasets don‚Äôt really exist. This phenomenon of overfitting on a metric is something that gridsearch contributes to. Combine that with algorithm designers who don‚Äôt have domain knowledge in the domain that they‚Äôre applying your algorithm to and you might just get this.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-10"></span>
<img src="https://koaning.io/posts/mean-squared-terror/ivory.png" alt="Mean Squared Terror: np.inf" width="100%"></p><p>
Figure 9: Mean Squared Terror: np.inf
</p>
</div>
</div>
<h2 id="appendix">Appendix</h2>
<p>This post was prompted by a discussion on <a href="https://thegradient.pub/pulse-lessons/">twitter</a> as well as a discussion on <a href="https://www.linkedin.com/feed/update/urn:li:activity:6679637058597789696/?commentUrn=urn%3Ali%3Acomment%3A(activity%3A6679637058597789696%2C6679704886969475072)&amp;replyUrn=urn%3Ali%3Acomment%3A(activity%3A6679637058597789696%2C6679775009537343488)">linkedin</a>. It‚Äôs dissapointing to see data professionals be dismissive of how bias is amplified by algorithms. It‚Äôs not something the profession should be casual about.</p>
<!--radix_placeholder_article_footer-->
<p>
    <span>
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Mean%20Squared%20Terror&amp;url=https%3A%2F%2Fkoaning.io%2Fposts%2Fmean-squared-terror%2F">
        <i></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fkoaning.io%2Fposts%2Fmean-squared-terror%2F&amp;title=Mean%20Squared%20Terror">
        <i></i>
      </a>
    </span>
  </p>
<!--/radix_placeholder_article_footer-->
</div></div>]]>
            </description>
            <link>https://koaning.io/posts/mean-squared-terror/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752683</guid>
            <pubDate>Mon, 06 Jul 2020 20:58:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Abusing linear regression to make a point]]>
            </title>
            <description>
<![CDATA[
Score 82 | Comments 48 (<a href="https://news.ycombinator.com/item?id=23752561">thread link</a>) | @furcyd
<br/>
July 6, 2020 | http://www.goodmath.org/blog/2020/07/06/abusing-linear-regression-to-make-a-point/ | <a href="https://web.archive.org/web/*/http://www.goodmath.org/blog/2020/07/06/abusing-linear-regression-to-make-a-point/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>A bunch of people have been sending me links to a particularly sloppy article that (mis)uses linear regression to draw an incorrect conclusion from some data. So I guess I‚Äôve got to got back to good-old linear regression, and talk about it a bit.</p>



<p>Let‚Äôs start with the basics. What is linear regression?</p>



<p>If you have a collection of data ‚Äì typically data with one independent variable, and one dependent variable (that is, the first variable can vary any way it wants; changing it will change the second variable), then you‚Äôre probably interested in how the dependent variable relates to the independent. <em>If</em> you have reason to believe that they should have a linear relationship, then you‚Äôd like to know just what that linear relationship is.</p>



<p>If your data were perfect, then you‚Äôd just need to plot all of the data points on a graph, with the independent variable on the X axis, and the dependent on the Y, and then your graph would be a line, and you could get its slope and Y intercept, and thus completely capture the relationship.</p>



<p>But data is never perfect. There‚Äôs a lot of reasons for that, but no real set of collected data is ever perfect. No matter how perfect the real underlying linear relationship is, real measured data will always show some scatter. And that means that you can draw a lot of possible lines through the collected data. Which one of them represents the best fit?</p>



<p>Since that‚Äôs pretty abstract, I‚Äôm going to talk a bit about an example ‚Äì the very example that was used to ignite my interest in math!</p>



<p>Back in 1974 or so, when I was a little kid in second grade, my father was working for RCA, as a physicist involved in manufacturing electronics for satellite systems. One of the important requirements for the products they were manufacturing was that they be <em>radiation hard</em> ‚Äì meaning that they could be exposed to quite a bit of radiation before they would be damaged enough to stop working.</p>



<p>Their customers ‚Äì NASA, JPL, and various groups from the U. S. Military, had very strong requirements. They had to show, for a manufacturing setup of a particular component, what the failure profile was.</p>



<p>The primary failure mode of these chips they were making was circuit trace failure. If a sufficiently energetic gamma ray hit one of the circuit traces, it was possible that the trace would burn out ‚Äì breaking the circuit, and causing the chip to fail.</p>



<p>The test setup that that they used had a gamma ray emitter. So they‚Äôd make a manufacturing run to produce a batch of chips from the setup. Then they‚Äôd take those, and they‚Äôd expose them to increasing doses of radiation from the gamma emitter, and detect when they failed.</p>



<p>For trace failure, the probability of failure is linear in the size of the radiation dose that the chip is exposed to. So to satisfy the customer, they had to show them what the slope of the failure curve was. ‚ÄúRadiation hard‚Äù was defined as being able to sustain exposure to some dose of radiation with a specified probability of failure.</p>



<p>So, my dad had done a batch of tests, and he had a ton of little paper slips that described the test results, and he needed to computer the slop of that line ‚Äì which would give the probability of failure as a multiple of the radiation dose.</p>



<p>I walked into the dining room, where he was set up doing this, and asked what he was doing. So he explained it to me. A lot like I just explained above ‚Äì except that my dad was a much better teacher than me. I couldn‚Äôt explain this to a second or third grader the way that he did!</p>



<p>Anyway‚Ä¶ The method that we use to compute the best line is called <em>least squares</em>. The intuition behind it is that you‚Äôre trying to find the line where the average distance of all of the datapoints from that line is the smallest. But a simple average doesn‚Äôt work well ‚Äì because some of the data points are above the line, and some are below. Just because one point is, say, above a possible fit by 100, and another is below by 100 doesn‚Äôt mean that the two should cancel. So you take the distance between the data points and the line, and you square them ‚Äì making them all positive. Then you find the line where that total is the smallest ‚Äì and that‚Äôs the best fit.</p>



<p>So let‚Äôs look at a real-ish example.</p>



<p>For example, here‚Äôs a graph that I generated semi-randomly of data points. The distribution of the points isn‚Äôt really what you‚Äôd get from real observations, but it‚Äôs good enough for demonstration.<img src="http://www.goodmath.org/blog/wp-content/uploads/2013/01/graph.png" alt="scatter plot of randomly skewed data" srcset="http://www.goodmath.org/blog/wp-content/uploads/2013/01/graph.png 346w, http://www.goodmath.org/blog/wp-content/uploads/2013/01/graph-300x212.png 300w" sizes="(max-width: 346px) 100vw, 346px"></p>



<p>The way that we do that is: first we compute the means of <img src="http://l.wordpress.com/latex.php?latex=x&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="x" alt="x"> and <img src="http://l.wordpress.com/latex.php?latex=y&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="y" alt="y">, which we‚Äôll call <img src="http://l.wordpress.com/latex.php?latex=%5Coverline%7Bx%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="\overline{x}" alt="\overline{x}"> and <img src="http://l.wordpress.com/latex.php?latex=%5Coverline%7By%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="\overline{y}" alt="\overline{y}">. Then using those, we compute the slope as:</p>



<p><img src="http://l.wordpress.com/latex.php?latex=%20m%20%3D%20%5Cfrac%7B%5CSigma_%7Bi%3D1%7D%5En%20%28x-%5Chat%7Bx%7D%29%28y-%5Chat%7By%7D%29%7D%7B%5CSigma_%7Bi%3D1%7D%5E%7Bn%7D%20%28x-%5Chat%7Bx%7D%29%5E2%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title=" m = \frac{\Sigma_{i=1}^n (x-\hat{x})(y-\hat{y})}{\Sigma_{i=1}^{n} (x-\hat{x})^2}" alt=" m = \frac{\Sigma_{i=1}^n (x-\hat{x})(y-\hat{y})}{\Sigma_{i=1}^{n} (x-\hat{x})^2}"></p>



<p>Then for the y intercept: <img src="http://l.wordpress.com/latex.php?latex=b%20%3D%20%5Chat%7By%7D%20-%20m%5Chat%7Bx%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="b = \hat{y} - m\hat{x}" alt="b = \hat{y} - m\hat{x}">.</p>



<p>In the case of this data: I set up the script so that the slope would be about 2.2 +/- 0.5. The slope in the figure is 2.54, and the y-intercept is 18.4.</p>



<p>Now, we want to check how good the linear relationship is. There‚Äôs several different ways of doing that. The simplest is called the correlation coefficient, or <img src="http://l.wordpress.com/latex.php?latex=r&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="r" alt="r">.</p>



<p><img src="http://l.wordpress.com/latex.php?latex=%20r%20%3D%20%5Cfrac%7B%5Cleft%28%5CSigma%20%28x-%5Chat%7Bx%7D%29%5Cright%29%20%5Cleft%28%5CSigma%20%28y%20-%20%5Chat%7By%7D%29%5Cright%29%7D%7B%5Csqrt%7B%20%5Cleft%28%5CSigma%20%28x-%5Chat%7Bx%7D%29%5E2%5Cright%29%20%5Cleft%28%5CSigma%20%28y%20-%20%5Chat%7By%7D%29%5E2%5Cright%29%20%7D%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title=" r = \frac{\left(\Sigma (x-\hat{x})\right) \left(\Sigma (y - \hat{y})\right)}{\sqrt{ \left(\Sigma (x-\hat{x})^2\right) \left(\Sigma (y - \hat{y})^2\right) }}" alt=" r = \frac{\left(\Sigma (x-\hat{x})\right) \left(\Sigma (y - \hat{y})\right)}{\sqrt{ \left(\Sigma (x-\hat{x})^2\right) \left(\Sigma (y - \hat{y})^2\right) }}"></p>



<p>If you look at this, it‚Äôs really a check of how well the variation between the measured values and the expected values (according to the regression) match. On the top, you‚Äôve got a set of products; on the bottom, you‚Äôve got the square root of the same thing squared. The bottom is, essentially, just stripping the signs away. The end result is that if the correlation is perfect ‚Äì that is, if the dependent variable increases linearly with the independent, then the correlation will be 1. If the dependency variable decreases linearly in opposition to the dependent, then the correlation will be -1. If there‚Äôs no relationship, then the correlation will be 0.</p>



<p>For this particular set of data, I generated it with a linear equation with a little bit of random noise. The correlation coefficient is slighly greater than 0.95, which is exctly what you‚Äôd expect.</p>



<p>Ok, so that‚Äôs the basics of linear regression. Let‚Äôs get back to the bozo-brained article that started this.</p>



<figure><img src="http://www.goodmath.org/blog/wp-content/uploads/2020/07/EcCqXojUMAEBFnp.jpg" alt=""></figure>



<p>They featured this graph:</p>



<p>You can see the scatter-plot of the points, and you can see the line that was fit to the points by linear regression. How does that fit look to you? I don‚Äôt have access to the original dataset, so I can‚Äôt check it, but I‚Äôm guessing that the correlation there is somewhere around 0.1 or 0.2 ‚Äì also known as ‚Äúno correlation‚Äù.</p>



<p>You see, the author fell into one of the classic traps of linear regression. Look back at the top of this article, where I started explaining it. I said that <em>if</em> you had reason to believe in a linear relationship, then you could try to find it. That‚Äôs the huge catch to linear regression: no matter what data you put in, you‚Äôll always get a ‚Äúbest match‚Äù line out. If the dependent and independent variables don‚Äôt have a linear relation ‚Äì or don‚Äôt have any actual relation at all ‚Äì then the ‚Äúbest match‚Äù fit that you get back as a result is garbage.</p>



<p>That‚Äôs what the graph above shows: you‚Äôve got a collection of data points that to all appearances has no linear relationship ‚Äì and probably no direct relationship at all. The author is interpreting the fact that linear regression gave him an answer with a positive slope as if that positive slope is meaningful. But it‚Äôs only meaningful <em>if</em> there‚Äôs actually a relationship present.</p>



<p>But when you look at the data, you don‚Äôt see a linear relationship. You see what looks like a pretty random scatterplot. Without knowing the correlation coefficient, we don‚Äôt know for sure, but that line doesn‚Äôt look to me like a particularly good fit. And since the author doesn‚Äôt give us any evidence beyond the existence of that line to believe in the relationship that they‚Äôre arguing for, we really have no reason to believe them. All they‚Äôve done is demonstrate that they don‚Äôt understand the math that they‚Äôre using.</p>
					</div></div>]]>
            </description>
            <link>http://www.goodmath.org/blog/2020/07/06/abusing-linear-regression-to-make-a-point/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752561</guid>
            <pubDate>Mon, 06 Jul 2020 20:47:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A tool to check if your site is among the to-be-revoked SSL certs]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752467">thread link</a>) | @Mojah
<br/>
July 6, 2020 | https://ohdear.app/tools/certificate | <a href="https://web.archive.org/web/*/https://ohdear.app/tools/certificate">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
                We can check if your HTTPS certificates are valid, trusted in modern browsers and have the correct certificate chain.
            </p><p>
                These same checks happen every 5 minutes to alert you of unwanted changes if you <a href="https://ohdear.app/register">sign
                    up</a> for an Oh Dear account.
            </p><div>
                    <p>
                        Recent tests
                    </p>

                    <p>
                        The following websites have been tested recently. You can click through to view their results.
                    </p>

                    
                </div><div>
                <p>
                    These tests are based on the actual checks Oh Dear performs for its subscribers. On top of these
                    availability checks we can also send a wide variety of notifications to keep you informed about your
                    websites' availability.
                </p>
                <p>
                    Want to learn more about what Oh Dear can do? Have a look at our <a href="https://ohdear.app/features">feature
                        set</a>.
                </p>
            </div></div>]]>
            </description>
            <link>https://ohdear.app/tools/certificate</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752467</guid>
            <pubDate>Mon, 06 Jul 2020 20:36:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ages of Discord: A Structural-Demographic Analysis of American History]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23752331">thread link</a>) | @Reedx
<br/>
July 6, 2020 | https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/ | <a href="https://web.archive.org/web/*/https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752331</guid>
            <pubDate>Mon, 06 Jul 2020 20:24:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Booting a 486 from floppy with the most up-to-date stable Linux kernel]]>
            </title>
            <description>
<![CDATA[
Score 309 | Comments 164 (<a href="https://news.ycombinator.com/item?id=23752284">thread link</a>) | @LeoPanthera
<br/>
July 6, 2020 | https://www.insentricity.com/a.cl/283 | <a href="https://web.archive.org/web/*/https://www.insentricity.com/a.cl/283">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>
	<iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="400" src="https://www.youtube.com/embed/oBeE_z4HTwg" width="600"></iframe></p>
<div>
	<p>
		Back in August of 2019 I had a&nbsp;<a href="https://www.reddit.com/r/retrobattlestations/comments/cr6x9a/contest_singalong_week_until_aug_25/">Sing-Along Week contest on RetroBattlestations</a>&nbsp;with the challenge of playing a MIDI file synchronized to a speech synthesizer singing the lyrics. In my stash of cards I found an MQX-32M MIDI card (Roland MPU-401 clone) which I wanted to use for converting MIDI signals to interface to an Apple II+ with an Echo II speech synthesizer, but ended up using a laptop with a USB MIDI interface. The&nbsp;<a href="https://www.reddit.com/r/retrobattlestations/comments/fz6is8/contest_pizza_week_through_april_19th/">Pizza Week contest</a>&nbsp;made me more interested in finding a 486 in a pizza box case and so my search began for a suitable case.</p>
	
	<p>
		Searching eBay wasn't easy because there's not really a good search term that would find the kind of case I wanted. I didn't bother trying to make a saved search since this project wasn't a high priority. Instead every once in a while something would inspire to go hit eBay and try some other search terms. A couple of weeks ago I spotted this 486 and made a guess of the size based on the size of the 5.25" bay. It's fairly slim, it has a riser card to turn the cards sideways and the case <em>is</em> shorter than an ISA card, but I don't feel like it's slim enough to call it a pizza box. It's close though!</p>
	
	<p>
		The motherboard is a <a href="https://stason.org/TULARC/pc/motherboards/T/TMC-RESEARCH-CORPORATION-486-PAT48PG4-VER-1-2A.html">TMC PAT48PG4</a> and it came with 32MB of RAM (technically 36MB, it had four 30 pin SIMMs in it too) and 4 cards: VGA, SoundBlaster, modem, and multi-function IO. The seller had tested it and was sold as non-working, won't POST, although he said the cards all worked. I mostly wanted it for the case so I wasn't concerned. Of course when I got it I had to see if the motherboard was really dead. It didn't work for me either but then I discovered if I hit the reset button it would give me some error beeps. I tried another power supply and it came up after hitting reset! It still doesn't cold boot when powered on, not sure if there's a bad cap or if the very slight battery damage (battery was removed before I got it) is preventing the reset line from being pulled after power on. Nonetheless it was working enough that I needed to explore its capabilities more.</p>
	
	<p>
		My ultimate goal is to get a <em>very recent</em>&nbsp;Linux distro and Python 3 installed to a "large" hard drive, but being that this is a 486 installing a current Linux distro isn't trivial. The only Linux distros that still support installing from floppy media are quite dated. Normally I would bypass a floppy install entirely and just boot an older computer via PXE and then install over the network. I thought I could <a href="https://ipxe.org/appnote/buildtargets">put iPXE on a floppy</a> and stick in an ISA NIC but iPXE just hangs without any error messages right after it's loaded from floppy.&nbsp;</p>
	
	<p>
		The BIOS is ancient and struggles with handling the "large" hard drive I hooked up. The drive is 8.45GB and the BIOS can only see it as an 8.0GB drive. Enabling LBA in the BIOS causes the computer to hang during POST after it detects the drive. Win98 fdisk insists the drive is only 504MB. FreeDOS can't see the drive at all. I tried sticking in a NIC with XTIDE ROM on the socket and XTIDE also insists there's no drive connected.</p>
	
	<p>
		Since I wanted to see how Linux would detect the drive that meant I needed to find a way to boot Linux. After a bit of googling I discovered the <a href="http://tiny.wiki.kernel.org/">make tinyconfig option</a> which makes a very small (but useless) kernel, small enough to fit on a floppy. <a href="https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d">I enabled a couple of other options</a>, found a small enough initramfs, and was able to get it to boot on the 486. And as expected Linux has no problem with seeing that the drive is connected and the drive's full capacity.</p>
	
	<p>
		Next step is to actually get Linux installed to the hard drive. I'd rather not roll my own distro but maybe I'll have to. Another possibility is to boot Linux from floppy and then download a kernel and initrd from a current distro and kexec over to it. But that feels to me like reinventing iPXE.</p>
	<h4>
		Compiling the Linux Kernel From Source</h4>
	<p>
		A quick rundown of the steps to build the floppy image:</p>
</div>
<ul>
	<li>
		git clone https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git
		<ul>
			<li>
				v5.8-rc2-1-g625d3449788f&nbsp;at the time of writing</li>
		</ul>
	</li>
	<li>
		make ARCH=x86 tinyconfig</li>
	<li>
		make ARCH=x86 menuconfig
		<ul>
			<li>
				Set processor to 486: CONFIG_M486=y
				<ul>
					<li>
						Processor type and features &gt; Processor family &gt; 486</li>
				</ul>
			</li>
			<li>
				Enable tty: CONFIG_TTY=y
				<ul>
					<li>
						Device Drivers &gt; Character devices &gt; Enable TTY</li>
				</ul>
			</li>
			<li>
				Enable printk: CONFIG_PRINTK=y
				<ul>
					<li>
						General Setup &gt; Configure standard kernel features (expert users) &gt; Enable support for printk</li>
				</ul>
			</li>
			<li>
				Enable initramfs: CONFIG_INITRAMFS_COMPRESSION_GZIP=y
				<ul>
					<li>
						General Setup &gt;&nbsp;Initial RAM filesystem and RAM disk (initramfs/initrd) support &gt;&nbsp;Support initial ramdisk/ramfs compressed using gzip</li>
				</ul>
			</li>
			<li>
				Enable ELF: CONFIG_BINFMT_ELF=y
				<ul>
					<li>
						Executable file formats &gt;&nbsp;Kernel support for ELF binaries</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		make ARCH=x86 bzImage</li>
</ul>


<p>
	Test boot with qemu:</p>
<div>
	<pre>qemu-system-i386 -kernel arch/x86/boot/bzImage -initrd ../system-image-486/rootfs.cpio.gz</pre>
</div>
<p>
	Create a blank floppy image:</p>
<div>
	<pre>dd if=/dev/zero of=linux-boot.img bs=1k count=1440
mkdosfs linux-boot.img
syslinux --install linux-boot.img
mount -o loop linux-boot.img /mnt
cp arch/x86/boot/bzImage /mnt
cp rootfs.cpio.gz /mnt</pre>
</div>
<p>
	Create /mnt/syslinux.cfg:</p>
<div>
	<pre>DEFAULT linux
LABEL linux
 SAY Now booting the kernel from SYSLINUX...
 KERNEL bzImage
 APPEND initrd=rootfs.cpio.gz
</pre><p>
	Write the image to a floppy:
	</p><pre>umount /mnt
fdformat /dev/fd0
ddrescue -f -D linux-boot.img /dev/fd0
</pre>
	
</div>

</div></div>]]>
            </description>
            <link>https://www.insentricity.com/a.cl/283</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752284</guid>
            <pubDate>Mon, 06 Jul 2020 20:20:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Live from Ad√©lie: Streaming Spotify on Musl]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752130">thread link</a>) | @sthrs
<br/>
July 6, 2020 | https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/ | <a href="https://web.archive.org/web/*/https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>Over the July 4th holiday weekend, I was working on a secret project.  It was a resounding success and I can now announce to the world: Spotify runs on musl distributions!</p>
<p>This article will describe how I went about accomplishing this feat.  If you just want to take Spotify for a test drive on your Ad√©lie workstation or Void desktop, scroll to the ‚ÄúInstructions‚Äù heading.</p>
<h2>Greetz</h2>
<p>Thanks to these fine dwellers of IRC for helping make sense of the twisty mazes.</p>
<ul>
<li>[[sroracle]]</li>
<li>Aerdan</li>
<li>cb</li>
<li>dalias</li>
<li>skarnet</li>
</ul>
<h2>gcompat 0.4.0: how very cash LC_MONETARY of you</h2>
<p>The latest release version of gcompat did not get very far:</p>
<pre>awilcox on laptop spotify % ./spotify
Segmentation fault (core dumped)
</pre>
<p>Inspecting the core file was minimally helpful:</p>
<pre>Thread 1 "ld-musl-x86_64." received signal SIGSEGV, Segmentation fault.
0x0000000001d6ff60 in ?? ()
(gdb) bt
#0  0x0000000001d6ff60 in ?? ()
#1  0x00007fffffffd738 in ?? ()
#2  0x0000000001e94f13 in ?? ()
#3  0x00007fffffffd6d0 in ?? ()
#4  0x00007fffffffd738 in ?? ()
#5  0x0000000003e9d691 in ?? ()
#6  0x0000000003e9d698 in ?? ()
#7  0x0000000003e9d691 in ?? ()
#8  0x00007fffffffd738 in ?? ()
#9  0x00007fffffffdc40 in ?? ()
#10 0x0000000001ccd0f0 in ?? ()
#11 0x00007fffffffd7a0 in ?? ()
#12 0x0000000000000001 in ?? ()
#13 0x00007fffffffd720 in ?? ()
#14 0x0000000001e92e92 in ?? ()
#15 0x0000000003e9d691 in ?? ()
#16 0x0000000003e9d698 in ?? ()
#17 0x00007fffffffd738 in ?? ()
#18 0x00007fffffffd738 in ?? ()
#19 0x00007fffffffd760 in ?? ()
#20 0x0000000001e9dd51 in ?? ()
#21 0x00007fffffffdc40 in ?? ()
#22 0x0000000003e9b3e0 in ?? ()
#23 0x00007fffffffd7e8 in ?? ()
#24 0x00007fffffffd7b8 in ?? ()
#25 0x00007fffffffd7b8 in ?? ()
#26 0x00007fffffffd828 in ?? ()
#27 0x00007fffffffd810 in ?? ()
#28 0x0000000001e9df09 in ?? ()
#29 0x612f656d6f682f1a in ?? ()
#30 0x0000786f636c6977 in ?? ()
#31 0x0000000000000000 in ?? ()
(gdb) info registers
rax            0x54454e4f4d5f434c  6072345775086453580
rbx            0x53                83
rcx            0x53                83
rdx            0x2                 2
rsi            0x53                83
rdi            0x3e9b1a0           65647008
rbp            0x7fffffffd6f0      0x7fffffffd6f0
rsp            0x7fffffffd690      0x7fffffffd690
r8             0x0                 0
r9             0x0                 0
r10            0x1                 1
r11            0x7fffffffdb9c      140737488346012
r12            0x7fffffffd6b8      140737488344760
r13            0x7fffffffd6b0      140737488344752
r14            0x7fffffffd6a8      140737488344744
r15            0x7fffffffd6c0      140737488344768
rip            0x1d6ff60           0x1d6ff60
eflags         0x10202             [ IF RF ]
cs             0x33                51
ss             0x2b                43
ds             0x0                 0
es             0x0                 0
fs             0x0                 0
gs             0x0                 0
</pre>
<p>What are we trying to do?  Looking at symbols present in the Spotify binary, this is actually part of the G++ runtime; specifically, <code>std::ctype::do_tolower</code>:</p>
<pre>  1d6ff51:       48 8b 05 18 a8 12 02    mov    0x212a818(%rip),%rax        # 3e9a770 
  1d6ff58:       48 8b 40 70             mov    0x70(%rax),%rax
  1d6ff5c:       48 0f be cb             movsbq %bl,%rcx
=&gt;1d6ff60:       8a 1c 88                mov    (%rax,%rcx,4),%bl
  1d6ff63:       89 d8                   mov    %ebx,%eax
  1d6ff65:       5b                      pop    %rbx
  1d6ff66:       c3                      retq
</pre>
<p>That <code>rax</code> value looks suspicious, and we can see if we translate it to ASCII that it is the little-endian representation of the string ‚ÄúLC_MONETARY‚Äù.  We‚Äôre trying to reach 0x70 into a structure in %rax for a pointer value, but we‚Äôre getting a string instead.</p>
<p>It turns out that when libstdc++ is compiled on a glibc system, it will attempt to access the internal <code>__ctype_*</code> members in the <code>locale_t</code> of the current locale.  musl‚Äôs <code>locale_t</code> is not ABI-compatible with glibc‚Äôs.  In fact, it is only 48 bytes in length; 0x70 (or 112 bytes) is past the end of the locale object musl has provided it!</p>
<p>I implemented a <a href="https://code.foxkit.us/adelie/gcompat/-/commit/2eae317bd62a38645f35c46ca62cdde24ff718d8">stub locale module in gcompat</a>, and‚Ä¶ it tried to exec <code>/proc/self/exe</code>, which broke under the gcompat loader.  This required me to write a patch <a href="https://code.foxkit.us/adelie/gcompat/-/commit/18a847c22a04de22cc9c431e87b63a0cfd5f1286">interposing the execv* functions</a> to catch this.  And suddenly‚Ä¶</p>
<h2>The lights that stop me turn to stone</h2>
<p>Slight success!  We have a Spotify window!</p>
<p><img data-attachment-id="269" data-permalink="https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/photo_2020-07-05_13-26-11/" data-orig-file="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg" data-orig-size="1280,800" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blank Spotify" data-image-description="" data-medium-file="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=300" data-large-file="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=676" src="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=676" alt="Spotify, but only a white screen" srcset="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=676 676w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=150 150w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=300 300w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=768 768w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=1024 1024w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg 1280w" sizes="(max-width: 676px) 100vw, 676px"></p>
<p>‚Ä¶ but a blank white screen only.  After some inspecting, I found that one of the many zygotes CEF was forking was segfaulting:</p>
<pre>[158358.508029] ThreadPoolForeg[3230]: segfault at 0 ip 0000000000000000 sp 00007fe3203db448 error 14 in spotify[200000+1acd000]
[158365.067313] ThreadPoolForeg[3252]: segfault at 0 ip 0000000000000000 sp 00007f2d69c172e8 error 14 in spotify[200000+1acd000]
[158378.506832] ThreadPoolForeg[3312]: segfault at 0 ip 0000000000000000 sp 00007f52ed7c8448 error 14 in spotify[200000+1acd000]
[158383.654027] ThreadPoolForeg[3339]: segfault at 0 ip 0000000000000000 sp 00007fcb631eb2e8 error 14 in spotify[200000+1acd000]
</pre>
<p>I replaced libcef.so from the Spotify DEB package with a matched-version libcef.so from Spotify‚Äôs Open Source builds page.  This allowed me to have more debugging symbols, and generating a core dump revealed:</p>
<pre>Core was generated by `ld-linux-x86-64.so.2 --argv0 /usr/share/spotify/spotify --type=utility --field-'.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x0000000000000000 in ?? ()
[Current thread is 1 (LWP 12774)]
(gdb) bt
#0  0x0000000000000000 in ?? ()
#1  0x00007f79a8a3d671 in sqlite3MallocSize () at ../../third_party/sqlite/amalgamation/sqlite3.c:26957
#2  mallocWithAlarm () at ../../third_party/sqlite/amalgamation/sqlite3.c:26891
#3  sqlite3Malloc () at ../../third_party/sqlite/amalgamation/sqlite3.c:26913
#4  0x00007f79a8aff232 in sqlite3MallocZero () at ../../third_party/sqlite/amalgamation/sqlite3.c:27118
#5  pthreadMutexAlloc () at ../../third_party/sqlite/amalgamation/sqlite3.c:25755
#6  0x00007f79a8a4e9b2 in sqlite3MutexAlloc () at ../../third_party/sqlite/amalgamation/sqlite3.c:25298
#7  chrome_sqlite3_initialize () at ../../third_party/sqlite/amalgamation/sqlite3.c:24906
#8  0x00007f79a8a350bd in EnsureSqliteInitialized () at ../../sql/initialization.cc:55
#9  0x00007f79a8a30eb2 in OpenInternal () at ../../sql/database.cc:1357
#10 0x00007f79a8a30dfa in Open () at ../../sql/database.cc:270
#11 0x00007f79a8fb8de6 in InitializeDatabase () at ../../net/extras/sqlite/sqlite_persistent_store_backend_base.cc:99
#12 0x00007f79a8fb9751 in LoadNelPoliciesAndNotifyInBackground () at ../../net/extras/sqlite/sqlite_persistent_reporting_and_nel_store.cc:1041
#13 0x00007f79a5abe25b in Invoke&lt;void (leveldb_proto::ProtoDatabaseSelector::*)(base::OnceCallback), scoped_refptr, base::OnceCallback &gt; () at ../../base/bind_internal.h:498
#14 MakeItSo&lt;void (leveldb_proto::ProtoDatabaseSelector::*)(base::OnceCallback), scoped_refptr, base::OnceCallback &gt; ()
    at ../../base/bind_internal.h:598
#15 RunImpl&lt;void (leveldb_proto::ProtoDatabaseSelector::*)(base::OnceCallback), std::__1::tuple&lt;scoped_refptr, base::OnceCallback &gt;, 0, 1&gt; () at ../../base/bind_internal.h:671
#16 RunOnce () at ../../base/bind_internal.h:640
#17 0x00007f79a7776fa0 in Run () at ../../base/callback.h:98
#18 RunTask () at ../../base/task/common/task_annotator.cc:142
#19 0x00007f79a7792862 in base::internal::TaskTracker::RunBlockShutdown(base::internal::Task*) () at ../../base/task/thread_pool/task_tracker.cc:743
#20 0x00007f79a7792062 in RunTask () at ../../base/task/thread_pool/task_tracker.cc:598
#21 0x00007f79a77d42fb in RunTask () at ../../base/task/thread_pool/task_tracker_posix.cc:23
#22 0x00007f79a7791a43 in RunAndPopNextTask () at ../../base/task/thread_pool/task_tracker.cc:450
#23 0x00007f79a7798386 in RunWorker () at ../../base/task/thread_pool/worker_thread.cc:321
#24 0x00007f79a77980f4 in base::internal::WorkerThread::RunPooledWorker() () at ../../base/task/thread_pool/worker_thread.cc:223
#25 0x00007f79a77d4a05 in ThreadFunc () at ../../base/threading/platform_thread_posix.cc:81
#26 0x00007f79ac9fe2dd in ?? ()
#27 0x00007f79aca799e8 in ?? ()
#28 0x00007f7998247ce0 in ?? ()
#29 0x0000000000000000 in ?? ()
(gdb) frame 1
#1  0x00007f79a8a3d671 in sqlite3MallocSize () at ../../third_party/sqlite/amalgamation/sqlite3.c:26957
26957     return sqlite3GlobalConfig.m.xSize(p);
</pre>
<p>Inspecting the SQLite3 code, I realised that it was somehow getting a nullptr for the <code>malloc_usable_size</code> pointer.  Further inspection revealed that this was not exactly the case:</p>
<pre>(gdb) disassemble 0x7f79a77d5520
Dump of assembler code for function malloc_usable_size():
   0x00007f79a77d5520 :     push   %rbp
   0x00007f79a77d5521 :     mov    %rsp,%rbp
   0x00007f79a77d5524 :     mov    %rdi,%rsi
   0x00007f79a77d5527 :     mov    0x484a76a(%rip),%rdi        # 0x7f79ac01fc98 
   0x00007f79a77d552e :    mov    0x28(%rdi),%rax
   0x00007f79a77d5532 :    xor    %edx,%edx
   0x00007f79a77d5534 :    pop    %rbp
   0x00007f79a77d5535 :    jmpq   *%rax
End of assembler dump.
</pre>
<p>Looking at how <a href="https://chromium.googlesource.com/chromium/src/base/+/master/allocator/allocator_shim_default_dispatch_to_glibc.cc#60">the Chromium allocator works internally</a>, the issue is that <code>RTLD_NEXT</code> won‚Äôt work on libraries loaded before libcef.  And looking at the output of <code>ldd spotify</code> revealed both libm and libdl before libcef; musl always redirects these to libc for glibc ABI compatibility.</p>
<p>Using PatchELF to remove these two <code>DT_NEEDED</code>s from the binary yielded a surprising result‚Ä¶</p>
<h2>Music makes the people come together</h2>
<div data-shortcode="caption" id="attachment_274"><p><img aria-describedby="caption-attachment-274" data-attachment-id="274" data-permalink="https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/screenshot_20200706_114641/" data-orig-file="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png" data-orig-size="1280,800" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Spotify on Ad√©lie 1.0-RC1" data-image-description="" data-medium-file="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=300" data-large-file="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=676" src="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=676" alt="Spotify on Ad√©lie Linux" srcset="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=676 676w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=150 150w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=300 300w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=768 768w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=1024 1024w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png 1280w" sizes="(max-width: 676px) 100vw, 676px"></p><p id="caption-attachment-274">Spotify, playing ‚ÄúRhinestone Eyes‚Äù by Gorillaz, on my Ad√©lie laptop</p></div>
<p>It works!  All the features I tested work: Spotify Connect, which means I can control the laptop‚Äôs playback using the iOS and Apple Watch apps; radio playback; Bluetooth speaker support.</p>
<h2>Instructions</h2>
<p>You will need to download the official Spotify 64-bit DEB.  I have not tested this on a 32-bit system yet, but I see no reason it won‚Äôt work.  Once you have the DEB, extract the data.tar.xz file somewhere.  Use PatchELF on the Spotify binary as so:</p>
<pre>$ patchelf --remove-needed ‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/">https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/</a></em></p>]]>
            </description>
            <link>https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752130</guid>
            <pubDate>Mon, 06 Jul 2020 20:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Intro to BGP with Bird]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752093">thread link</a>) | @Agrosis
<br/>
July 6, 2020 | http://packetfire.org/post/intro-to-bgp/ | <a href="https://web.archive.org/web/*/http://packetfire.org/post/intro-to-bgp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3 id="introduction">Introduction:</h3>
<p>Border Gateway Protocol (BGP) is one of the core technologies involved in making our internet work, allowing networks to communicate their routes among eachother. Understanding how this tool can be used to define the topology of a network will both give you a better understanding of how internetworking and allow you translate this robustness into your own network.</p>
<p>By the end of this tutorial, you will be familiar with the core concepts of BGP and have the proper vocabulary to communicate this to another network engineer. You will also be able to use a userland routing daemon, BIRD, to establish peering sessions and begin announcing routes.</p>
<p>I plan to achieve this using a virtualized docker playground which can be downloaded <a href="https://github.com/ncatelli/bird_examples_docker.git">here</a>
. In order to complete this tutorial you will need to ensure you have docker and docker-compose installed.</p>
<h3 id="setup">Setup:</h3>
<p>To begin, you will need to clone the repo of the <a href="https://github.com/ncatelli/bird_examples_docker.git">bird_examples_docker</a> project.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; git clone https://github.com/ncatelli/bird_examples_docker.git
ncatelli@ofet&gt; cd bird_examples_docker
ncatelli@ofet&gt; docker-compose up -d
</code></pre></div><p>This should create three containers (peer1, peer2 and peer3), all of which have BIRD installed and have peering sessions established. Don‚Äôt worry if you don‚Äôt know what this means yet, we will cover it shortly after we have our BGP playground set up and ready to go.</p>
<h3 id="login-in-to-your-playground">Login in to your playground:</h3>
<p>We will start by connecting to peer1 and checking that everything was setup correctly.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; docker-compose exec peer1 bash
root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:03    
device1  Device   master   up     02:36:03    
direct1  Direct   master   up     02:36:03    
peer2    BGP      master   up     02:36:08    Established   
peer3    BGP      master   up     02:36:07    Established    
</code></pre></div><p>If you see that peer2 and peer3 are ‚ÄúEstablished‚Äù, everything is working as expected and we are ready to go. Before we begin playing with this playground, I will provide a brief overview of how BGP works.</p>
<h3 id="bgp-overview">BGP Overview:</h3>
<h4 id="terminology">Terminology:</h4>
<p>Border Gateway Protocol (<a href="https://en.wikipedia.org/wiki/Border_Gateway_Protocol">BGP</a>) is an exterior gateway protocol that is used to exchange routing information between autonomous systems. An autonomous system (<a href="https://en.wikipedia.org/wiki/Autonomous_system_(Internet)">AS</a>) is an organizational unit of routing prefixes and policies. These AS are identified by a unique 16-bit, and later 32-bit, autonomous system number (ASN). For example, Facebook‚Äôs ASN would be 32934 or as commonly presented AS32934. The power of BGP lies in its ability to communicate routing protocols and policies among tens of thousands of decentralized AS.</p>
<p>The internet, along with many other networks, is composed of many autonomous systems that communicate between each other. This communication is facilitated by a peering session, which allows two AS to exchange policies, routes and link status. All of this information is exchanged between two BGP daemons, which will be listening on TCP port 179.</p>
<p>While BGP is considered an exterior gateway protocol that is used for routing between large organizations on the internet, it can also be used within an AS to enable their network engineers to control the topology of their internal network. This is where the terms exterior BGP (eBGP) and interior BGP (iBGP) stem from. iBGP will be our focus for the rest of this tutorial. We will now start experimenting with these peering sessions using BIRD and its interactive command-line tool, birdc.</p>
<h3 id="introduction-to-bird">Introduction to BIRD:</h3>
<p>BIRD is a fully-functional routing daemon that supports many different routing protocols, including BGP. BIRD provides a simple configuration format and command line utility for interacting with sessions. BIRD also comes with built-in support for both IPv4 and IPv6 and the respective tools to work with both protocols.</p>
<h4 id="examining-sessions">Examining Sessions:</h4>
<p>Similiar to how we verified that our docker environment was provisioned properly, we can view running sessions by running:</p>
<div><pre><code data-lang="bash">root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:02    
device1  Device   master   up     02:36:02    
direct1  Direct   master   up     02:36:02    
peer2    BGP      master   up     02:36:07    Established   
peer3    BGP      master   up     02:36:06    Established         
</code></pre></div><p>This gives us a lot of information. However, let us focus on the last two entries, peer2 and peer3. We can see that they are both BGP protocols and that the info field is Established. Each of these entries correspond to a BGP session that peer1 has open with peer2 and peer3. To demonstrate the relationship of these values to our running sessions, let‚Äôs stop the bird service on peer2. In a new terminal window run the following to stop peer2, simulating a network failure.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; docker-compose stop peer2
Stopping bird_examples_peer2_1 ... <span>done</span>
</code></pre></div><div><pre><code data-lang="bash">root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:02    
device1  Device   master   up     02:36:02    
direct1  Direct   master   up     02:36:02    
peer2    BGP      master   start  02:43:38    Connect       Socket: Connection closed
peer3    BGP      master   up     02:36:06    Established  
</code></pre></div><p>By restarting peer2, a BIRD should restart and subsequently the peering session should be reestablished.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; docker-compose start peer2
Starting peer2 ... <span>done</span>
</code></pre></div><div><pre><code data-lang="bash">root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:02    
device1  Device   master   up     02:36:02    
direct1  Direct   master   up     02:36:02    
peer2    BGP      master   up     02:46:29    Established   
peer3    BGP      master   up     02:36:06    Established    
</code></pre></div><p>By stopping the bird daemon on peer2, we have made the TCP connection on port 179 close between peer1 and peer2. Doing this changes our peer session from Established to Connect. Established and Connect correspond to two of many BGP states, however for the sake of this tutorial we will focus only on Established and consider all other values as not-established. For those more curious, more information on session states can be found in the <a href="https://en.wikipedia.org/wiki/Border_Gateway_Protocol#Finite-state_machines">wikipedia article on BGP</a>.</p>
<h4 id="configuring-a-bgp-session">Configuring a BGP Session</h4>
<p>Although we now know how to check whether our session are up in our BGP playground, it‚Äôs also important to understand how these sessions were configured in the first place. For that, we need to dig into the bird configuration files. Let‚Äôs look at the configuration files under /etc/bird on peer1.</p>
<div><pre><code data-lang="bash">root@peer1:~# cat /etc/bird/bird.conf
router id 10.0.0.10;

protocol kernel <span>{</span>
  metric 0;
  import none;
  learn;
  export all;
<span>}</span>

protocol device <span>{</span>
<span>}</span>

protocol direct <span>{</span>
<span>}</span>

protocol bgp peer2 <span>{</span>
  local as 64512;
  neighbor 10.0.0.11 as 64513;
  import all;
  export all;
<span>}</span>

protocol bgp peer3 <span>{</span>
  local as 64512;
  neighbor 10.0.100.11 as 64514;
  import all;
  export all;
</code></pre></div><p>We can see that the configuration required to establish these initial sessions is very minimal. Let‚Äôs dig deeper into what actually makes this work. For that, we will focus on one specific block. Our protocol bgp peer2 block:</p>
<div><pre><code data-lang="bash">protocol bgp peer2 <span>{</span>
  local as 64512;
  neighbor 10.0.0.11 as 64513;
  import all;
  export none;
<span>}</span>
</code></pre></div><p>Earlier in this tutorial, we discussed the difference between eBGP and iBGP and how large AS identify themselves with a unique ASN. However, a small section of the available ASN have been reserved for private iBGP use. This range is 64512 - 65534. Knowing this, we can see that we have allocated a ASN from the private range to our peer2. This <em>local as</em> statement refers to the ASN of your local machine. In this case, peer1 is assigned the ASN 64512.</p>
<p>Looking at the next statement, we can see a neighbor statement with both an IP and an additional AS. This IP corresponds to the host, or neighbor in BGP lingo, that we are attempting to establish a session with, while the AS 64513 corresponds to the AS we‚Äôve assigned to the host, peer2. We can confirm this by looking at the configuration file on peer2.</p>
<div><pre><code data-lang="bash">root@peer2:/# grep -A4 peer1 /etc/bird/bird.conf
protocol bgp peer1 <span>{</span>
  local as 64513;
  neighbor 10.0.0.10 as 64512;
  export none;
<span>}</span>
</code></pre></div><p>It is these two directives in our protocol BGP blocks that handle the initial establishment of sessions.</p>
<p>While establishing and maintaining sessions is crucial to the operation of BGP, established sessions alone will not allow you to route any traffic. In the next section, we will explore some of the other elements of our configuration files and how we can use them to discover and announce routes between our nodes. Before we proceed with doing this. I‚Äôd like to review our current topology.</p>
<p>Currently we have three nodes in our network, peer1 (AS64512), peer2 (AS64513) and peer3 (AS64514). These are configured in the same broadcast domain however the peering is structured like peer3 &lt;-&gt; peer1 &lt;-&gt; peer2. This structure allows communication of routes from either peer2 or peer3 through our route server, peer1. Please keep this topology in mind as we proceed with the next step of this tutorial, advertising routes.</p>
<h3 id="advertising-routes-with-bgp">Advertising Routes with BGP:</h3>
<h4 id="kernel-protocol">Kernel Protocol:</h4>
<p>Before we begin announcing routes between bird daemons, we should first understand how BIRD communicates routes between the linux kernel and the BIRD daemon. This is where that kernel protocol block we saw earlier comes into play.</p>
<pre><code>protocol kernel {
  metric 0;
  learn;
  import none;
  export all; 
}
</code></pre><p>There are many options that can be specified in the kernel block, and more information on those can be found <a href="http://bird.network.cz/?get_doc&amp;f=bird-6.html#ss6.6">here</a>, however the bulk of what we want to do is defined by the import/export definitions.</p>
<pre><code>import none;
</code></pre><p>Tells BIRD to not read routes in from the kernel routing table into BIRD. We will be obtaining our routes via the direct protocol which we will configure shortly.</p>
<pre><code>export all;
</code></pre><p>Tells BIRD to export all routes learned by other announcements into the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://packetfire.org/post/intro-to-bgp/">http://packetfire.org/post/intro-to-bgp/</a></em></p>]]>
            </description>
            <link>http://packetfire.org/post/intro-to-bgp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752093</guid>
            <pubDate>Mon, 06 Jul 2020 20:01:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Programming Concepts Not Languages]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23751483">thread link</a>) | @rdd_user
<br/>
July 6, 2020 | https://remotedevdaily.com/learn-programming-concepts-not-languages/ | <a href="https://web.archive.org/web/*/https://remotedevdaily.com/learn-programming-concepts-not-languages/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1707"><div><div><p>A good programmer or software developer should be learning programming concepts and not languages.</p><p>Knowing many programming languages is great. However, does this alone really make you a good programmer?</p><h3>Learning Languages</h3><p>There are so many programming languages out there from Python to C++ to Rust to Go, and many many more.</p><p>Knowing different programming languages and understanding their details and quirks is great.  There is absolutely nothing wrong with that.  The more you can learn about the tools you use everyday the better.</p><p>Over the years I've used many different languages ranging from low level languages like C++, to higher level languages like Ruby.</p><p>These days, I program a lot in python and javascript, and I love experimenting with new language features and discovering cool new code snippets.</p><p>However, I realize that simply knowing these languages doesn't make me a good programmer and doesn't say a lot about my skill set.</p><h3>Learn Concepts Not Languages</h3><p>The important thing is not just to learn a language itself.  We need to remember that programming languages are tools, and many of these tools change, evolve, and sometimes even become irrelevant. The moral of the story is that you shouldn't become dependent on a certain language.</p><p>You should learn how to use a language to solve a problem. And when you do that, you will inveitably pick up new concepts.</p><p>Let's use Python as an example. You don't want to just "learn python".  You want to, for example, learn how to use python to scrape data from a website. And by doing this, you will learn a ton of new and interesting concepts like how to make http requests, how to select html elements from the dom using xpaths and css selectors, among many other concepts.</p><p>We want to learn concepts, not just languages.</p><p>Here are some other examples:</p><ul><li>Maybe you want to learn how to use C++ to build a game and learn about the inner workings of computer graphics.</li><li>Maybe you want to learn how to use SQL to design efficient tables and optomize database queries.</li><li>Maybe you want to use Javascript with Vue.js or React to learn how to create reactive web pages.</li><li>Maybe you want to use Django to build a backend application and learn about how webservers handle incoming requests.</li></ul><h3>What Makes a Developer Valuable</h3><p>Knowing the languages and frameworks that a company or project uses is certainly a plus.</p><p>However, the true value that you'll bring to any project that you end up working on is your conceptual knowledge. Companies can find any number of applicants that have experience with their stack. But finding developers who have the deep experience and conceptual knowledge needed to use these tools to build well-designed software is much harder.</p><p>Good software developers are the people that focus on learning concepts and not just languages. Languages come and go, but the core fundamentals of computer science and programming do not.</p><p>I hope you enjoyed this article.  If you did, here are some other interesting <a href="https://remotedevdaily.com/" title="interesting articles">interesting articles</a> for you to read.</p></div></div></article></div>]]>
            </description>
            <link>https://remotedevdaily.com/learn-programming-concepts-not-languages/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23751483</guid>
            <pubDate>Mon, 06 Jul 2020 19:02:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All the Loops in JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23751168">thread link</a>) | @MH15
<br/>
July 6, 2020 | https://matthall.codes/blog/loops/ | <a href="https://web.archive.org/web/*/https://matthall.codes/blog/loops/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>Modern JavaScript supports many different looping constructs. I often use these
different constructs for working with arrays. This is a reference, for myself
and for others, written to augment the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration">existing</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">MDN</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">documentation</a>.</p>
<p>An array <code>arr</code> is defined for all the below examples. The sample code for each
looping construct performs the same behavior.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#for-statement"><code>for</code> statement</a></li>
<li><a href="#dowhile-statement"><code>do...while</code> statement</a></li>
<li><a href="#while-statement"><code>while</code> statement</a></li>
<li><a href="#forin-statement"><code>for...in</code> statement</a></li>
<li><a href="#forof-statement"><code>for...of</code> statement</a></li>
<li><a href="#map-prototype"><code>map</code> prototype</a></li>
<li><a href="#reduce-prototype"><code>reduce</code> prototype</a></li>
<li><a href="#filter-prototype"><code>filter</code> prototype</a></li>
</ul>
<h2 id="basic-loop-constructs">Basic Loop Constructs</h2>
<h3 id="for-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for_statement"><code>for</code> statement</a></h3>
<p>This is the standard C-style loop.</p>
<pre><code>let arr = ["a","b","c","d"]
for(var i = 0; i &lt; arr.length; i++) {
    console.log(i, arr[i])
}</code></pre>
<h3 id="dowhile-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#do...while_statement"><code>do...while</code> statement</a></h3>
<p>Repeat until condition is false.</p>
<pre><code>var i = 0;
do {
    console.log(i, arr[i])
    i++
} while (i &lt; arr.length)</code></pre>
<h3 id="while-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#while_statement"><code>while</code> statement</a></h3>
<p>Repeat while condition is true.</p>
<pre><code>var i = 0
while (i &lt; arr.length) {
    console.log(i, arr[i])
    i++
}</code></pre>
<h2 id="object-loop-constructs">Object Loop Constructs</h2>
<h3 id="forin-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for...in_statement"><code>for...in</code> statement</a></h3>
<p>Executes on the properties (indices) of an object. In JavaScript, Arrays are objects, so
this is valid.</p>
<pre><code>for(var i in arr) {
    console.log(i, arr[i])
}</code></pre>
<h3 id="forof-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for...of_statement"><code>for...of</code> statement</a></h3>
<p>Loops over the values of iterable objects including Array, Map and Set.</p>
<pre><code>var i = 0
for(var val of arr) {
    console.log(i, val)
    i++
}</code></pre>
<p>Note that <code>for...of</code> loops the values, while <code>for...in</code> loops the properties/indices.</p>
<h2 id="functional-loop-constructs">Functional Loop Constructs</h2>
<p>Multiple functional-style prototypes exist on the Array object. Handy for
list comprehensions or for rewriting complicated loops with simpler syntax,
especially with <code>reduce</code> and <code>filter</code>. Promotes immutability.</p>
<h3 id="map-prototype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"><code>map</code> prototype</a></h3>
<p>Calls a callback function once for each element and returns the resulting array.
This map callback prints trivial debug information for the array.</p>
<pre><code>function callback(value, index, array) {
    console.log(index, value)
    return `value: ${value}, index: ${index}`;
}
var mappedArr = arr.map(callback)</code></pre>
<p>Does not mutate the source array.</p>
<h3 id="reduce-prototype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce"><code>reduce</code> prototype</a></h3>
<p>Calls a reducer callback to accumulate the array values into a single value.
This reducer callback joins the array with commas, similar to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join"><code>Array.prototype.join()</code></a>.</p>
<pre><code>function reducer(accumulator, value, index, array) {
    console.log(index, value)
    return accumulator + "," + value
}
var initialValue = ""
var joined = arr.reduce(reducer, initialValue)</code></pre>
<p>Does not mutate the source array. Note that if the <code>initialValue</code> parameter is
not included in the <code>arr.reduce()</code> call, the initial value is set to <code>array[0]</code>
and that first index will be skipped in the loop.</p>
<h3 id="filter-prototype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>filter</code> prototype</a></h3>
<p>Calls a filter callback to create a filtered array from the source array. The <code>filter</code> prototype
is very useful for cleaning <em>sparse arrays</em> as illustrated below or for, of course, filtering data
based on a condition in a more readable manner than with a <code>for</code> loop.</p>
<pre><code>function filter(value, index, array) {
    console.log(index, value)
    return typeof value !== 'undefined'
}
var filtered = arr.filter(filter)</code></pre>
<p>Does not mutate the source array.</p>
<h2 id="addendum">Addendum</h2>
<p>Discuss on <a href="https://news.ycombinator.com/item?id=23751168">HN</a></p>

    </article></div>]]>
            </description>
            <link>https://matthall.codes/blog/loops/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23751168</guid>
            <pubDate>Mon, 06 Jul 2020 18:37:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Buying and Selling stocks with maximum profit]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 7 (<a href="https://news.ycombinator.com/item?id=23750763">thread link</a>) | @codingifmycraft
<br/>
July 6, 2020 | http://codingismycraft.com/index.php/2020/07/05/buying-and-selling-stocks-with-maximum-profit/ | <a href="https://web.archive.org/web/*/http://codingismycraft.com/index.php/2020/07/05/buying-and-selling-stocks-with-maximum-profit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://codingismycraft.com/index.php/2020/07/05/buying-and-selling-stocks-with-maximum-profit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23750763</guid>
            <pubDate>Mon, 06 Jul 2020 18:03:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[D-Bus and Polkit, No More Mysticism and Confusion]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23750162">thread link</a>) | @venamresm__
<br/>
July 6, 2020 | https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html | <a href="https://web.archive.org/web/*/https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p><img src="https://venam.nixers.net/blog/assets/dbus_polkit/freedesktop_logo.png" alt="freedesktop logo"></p>

<p>Dbus and Polkit are two technologies that emanate an aura of
confusion. While their names are omnipresent in discussions, and the
internet has its share of criticism and rants about them, not many have
a grasp of what they actually do. In this article I‚Äôll give an
overview of these technologies.</p>

<p>D-Bus, or Desktop Bus, is often described as a software that allows other
processes to communicate with one another, to perform inter-process
communication (IPC). However, this term is generic and doesn‚Äôt convey
what it is used for. Many technologies exist that can perform IPC, from
plain socket, to messaging queue, so what differentiates D-Bus from them.</p>

<p>D-Bus can be considered a middleware, a software glue that sits
in the middle to provide services to software through a sort
of plugin/microkernel architecture. That‚Äôs what the bus metaphor
represents, it replicates the functionality of hardware buses, with
components attaching themselves to known interfaces that they implement,
and providing a mean of communication between them. With D-Bus these can
be either procedure calls aka methods or signals aka notifications.</p>

<p>While D-Bus does offer 1-to-1 and 1-to-many IPC, it‚Äôs more of a byproduct
of its original purpose than a mean of efficient process to process data
transfer ‚Äî it isn‚Äôt meant to be fast. D-Bus emerges from the world of
desktop environments where blocks are well known, and each implements a
functionality that should be accessible from other processes if needed
without having to reinvent the transfer mechanism for each and every
software.<br>
This is the problem it tackles: having components in a desktop environment
that are distributed in many processes, each fulfilling a specific job. In
such case, if a process implements the behavior needed, instead of
reimplementing it, it can instead harness the feature already provided
by that other process.</p>

<p>Its design is heavily influenced by Service Oriented Architectures
(SOA), Enterprise Service Buses (ESB), and microkernel architectures.<br>
A bus permits abstracting communication between software, replacing
all direct contact, and only allowing them to happen on the bus
instead.<br>
Additionally, the SOA allows software to expose objects that have
methods that can be called remotely, and also allows other software to
subscribe/publish events happening in remote objects residing in
other software.<br>
Moreover, D-Bus provides an easy plug-and-play, a loose coupling,
where any software could detach itself from the bus and allow another
process to be plugged, containing objects that implement the same features
the previous process implemented.<br>
In sum, it‚Äôs an abstraction layer for functionalities that could be
implemented by any software, a standardized way to create pluggable
desktop components. This is what D-Bus is about, this is the role it
plays, and it explains the difficulty in grasping the concepts that
gave rise to it.</p>

<p>The big conceptual picture goes as follows.<br>
We have a D-Bus daemon running at an address and services that implement
well known behaviors. These services attach to the D-Bus daemon and the
attachment edge has a name, a bus name.<br>
Inside these services, there are objects that implement the well known
behavior. These objects also have a path leading to them so that you
can target which object within that service implements the specific
interface needed.<br>
Then, the interface methods and events can be called or registered
on this object inside this service, connected to this bus name, from
another service that requires the behavior implemented by that interface
to be executed.</p>

<p>This is how these particular nested components interact with one another,
and it gives rise to the following:</p>

<div><div><pre><code>Address of D-Bus daemon -&gt;
Bus Name that the service attached to -&gt;
Path of the object within this service -&gt;
Interface that this object implements -&gt;
Method or Signal concrete implementation
</code></pre></div></div>

<p>Or in graphical form:</p>

<p><img src="https://venam.nixers.net/blog/assets/dbus_polkit/dbus_method_invocation.png" alt="D-Bus ecosystem"></p>

<p>Instead of having everyone talk to one another:</p>

<p><img src="https://venam.nixers.net/blog/assets/dbus_polkit/processes_without_dbus.png" alt="p2p interaction"></p>

<p>Let‚Äôs take a method call example that shows these 3 required pieces
of information.</p>

<div><div><pre><code>org.gnome.SessionManager \
/org/gnome/SessionManager \
org.gnome.SessionManager.CanShutdown

   boolean true
</code></pre></div></div>

<p>Here, we have the service bus name <code>org.gnome.SessionManager</code>, the
object path <code>/org/gnome/SessionManager</code>, and the interface/method name
<code>org.gnome.SessionManager.CanShutdown</code>, all separated by spaces. If the
<code>/org/gnome/SessionManager</code> only implements a single interface then we
could call it as such <code>CanShutdown</code>, but here it doesn‚Äôt.</p>

<p>Let‚Äôs dive deeper into the pieces we‚Äôve mentioned. They are akin to
the ones in an SOA ecosystem, but with the addition of the bus name,
bus daemon, and the abstraction for the plug-and-play.</p>

<ul>
  <li>Objects</li>
</ul>

<p>An object is an entity that resides in a process/service and that
effectuates some work. It is identified by a path name. The path name is
usually written, though not mandatory, in a namespace format where it
is grouped and divided by slashes <code>/</code>, just like Unix file system path.</p>

<p>For example: <code>/org/gnome/Nautilus/window/1</code>.</p>

<p>Objects have methods and signals, methods take input and return output,
while signals are events that processes can subscribe to.</p>

<ul>
  <li>Interfaces</li>
</ul>

<p>These methods and signals are concrete implementations of interfaces,
the same definition as in OOP.<br>
As with OOP, interfaces are a group of abstractions that have to be
defined in the object that implements them. The members, methods and
signals, are also namespaced under this interface name.</p>

<p>Example:</p>

<div><div><pre><code>interface=org.gnome.Shell.Introspect
member method=GetRunningApplications
absolute name of method=org.gnome.Shell.Introspect.GetRunningApplications
</code></pre></div></div>

<p>Some interfaces are commonly implemented by objects, such as the
<code>org.freedesktop.Introspectable</code> interface, which, as the name implies,
makes the object introspectable. It allows to query the object about
its capabilities, features, and other interfaces it implements. This is
a very useful feature because it allows discovery.<br>
It‚Äôs also worth mentioning that dbus can be used in a generic
way to set and get properties of services‚Äô objects through the
<code>org.freedesktop.DBus.Properties</code> interface.</p>

<p>Interfaces can be described as standard, and for documentation, in D-Bus
XML configuration files so that other programmers can use the reference
to implement them properly. These files can also be used to auto-generate
classes from the XML, making it quicker to implement and less error-prone.<br>
These files can usually be found under <code>/usr/share/dbus-1/interfaces/</code>.
Our <code>org.gnome.Shell.Introspect</code> of earlier is there in the
file <code>org.gnome.Shell.Introspect.xml</code> along with our method
<code>GetRunningApplications</code>. Here‚Äôs an excerpt of the relevant section.</p>

<div><div><pre><code>&lt;!--
	GetRunningApplications:
	@short_description: Retrieves the description of all running applications

	Each application is associated by an application ID. The details of
	each application consists of a varlist of keys and values. Available
	keys are listed below.

	'active-on-seats' - (as)   list of seats the application is active on
								(a seat only has at most one active
								application)
--&gt;
&lt;method name="GetRunningApplications"&gt;
	&lt;arg name="apps" direction="out" type="a{sa{sv}}" /&gt;
&lt;/method&gt;
</code></pre></div></div>

<p>Notice the <code>type=</code> part, which describes the format of the output,
we‚Äôll come back to what this means in the message format section,
but in short each letter represents a basic type. The <code>out</code> direction
means that it‚Äôs the type of an output value of the method, similarly
<code>in</code> is for method parameters. See the following example taken from
<code>org.gnome.Shell.Screenshot.xml</code>.</p>

<div><div><pre><code>&lt;!--
	ScreenshotArea:
	@x: the X coordinate of the area to capture
	@y: the Y coordinate of the area to capture
	@width: the width of the area to capture
	@height: the height of the area to capture
	@flash: whether to flash the area or not
	@filename: the filename for the screenshot
	@success: whether the screenshot was captured
	@filename_used: the file where the screenshot was saved

	Takes a screenshot of the passed in area and saves it
	in @filename as png image, it returns a boolean
	indicating whether the operation was successful or not.
	@filename can either be an absolute path or a basename, in
	which case the screenshot will be saved in the $XDG_PICTURES_DIR
	or the home directory if it doesn't exist. The filename used
	to save the screenshot will be returned in @filename_used.
--&gt;
&lt;method name="ScreenshotArea"&gt;
	&lt;arg type="i" direction="in" name="x"/&gt;
	&lt;arg type="i" direction="in" name="y"/&gt;
	&lt;arg type="i" direction="in" name="width"/&gt;
	&lt;arg type="i" direction="in" name="height"/&gt;
	&lt;arg type="b" direction="in" name="flash"/&gt;
	&lt;arg type="s" direction="in" name="filename"/&gt;
	&lt;arg type="b" direction="out" name="success"/&gt;
	&lt;arg type="s" direction="out" name="filename_used"/&gt;
&lt;/method&gt;
</code></pre></div></div>

<ul>
  <li>Proxies</li>
</ul>

<p>Proxies are the nuts and bolts of an RPC ecosystem, they represent
remote objects, along with their methods, in your native code as if
they were local. Basically, these are wrappers to make it more simple
to manipulate things on D-Bus programmatically instead of worrying about
all the components we‚Äôve mentioned above. Programming with proxies might
look like this.</p>

<div><div><pre><code>Proxy proxy = new Proxy(getBusConnection(), "/remote/object/path");
Object returnValue = proxy.MethodName(arg1, arg2);
</code></pre></div></div>

<ul>
  <li>Bus names</li>
</ul>

<p>The bus name, or also sometimes called connection name, is the name
of the connection that an application gets assigned when it connects
to D-Bus. Because D-Bus is a bus architecture, it requires that each
assigned name be unique, you can‚Äôt have two applications using the
same bus name. Usually, it is the D-Bus daemon that generates this
random unique value, one that begins with a colon by convention,
however, applications may ask to own well-known names instead. These
well-known names, as reverse domain names, are for cases when people
want to agree on a standard unique application that should implement
a certain behavior. Let‚Äôs say for instance a specification for a
<code>com.mycompany.TextEditor</code> bus name, ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html">https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html</a></em></p>]]>
            </description>
            <link>https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23750162</guid>
            <pubDate>Mon, 06 Jul 2020 17:22:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clean Architecture, 2 years later]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23749962">thread link</a>) | @eminetto
<br/>
July 6, 2020 | https://eltonminetto.dev/en/post/2020-07-06-clean-architecture-2years-later/ | <a href="https://web.archive.org/web/*/https://eltonminetto.dev/en/post/2020-07-06-clean-architecture-2years-later/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    

    

<p>In February 2018 I wrote what would become the most relevant text I have ever published: <a href="https://eltonminetto.dev/en/post/2018-03-05-clean-architecture-using-go/">Clean Architecture using Golang</a>. With more than 105k views, the post generated presentations at some Go and PHP events and allowed me to talk about software architecture with several people.</p>

<p>Using this architecture for the development of <a href="https://codenation.dev/">Codenation</a>‚Äôs products, we gained experience and solved problems. We wrote some posts reporting these experiences:</p>

<ul>
<li><a href="https://eltonminetto.dev/en/post/2018-06-25-golang-usando-build-tags/">Golang: using build tags to store configurations</a></li>
<li><a href="https://eltonminetto.dev/en/post/2018-08-01-monorepo-drone/">Continuous integration in projects using monorepo</a></li>
<li><a href="https://eltonminetto.dev/en/post/2018-11-28-monitorando-app-go-com-supervisor/">Monitoring a Golang application with Supervisor</a></li>
<li><a href="https://eltonminetto.dev/en/post/2019-01-23-migracao-de-dados-com-go-e-mongodb/">Data Migration with Golang and MongoDB</a></li>
<li><a href="https://eltonminetto.dev/en/post/2019-08-08-golang-linguagem-script/">Using Golang as a scripting language</a></li>
<li><a href="https://eltonminetto.dev/en/post/2019-12-19-gomock/">Creating test mocks using GoMock</a></li>
<li><a href="https://eltonminetto.dev/en/post/2020-03-13-golang-prometheus/">Using Prometheus to collect metrics from Golang applications</a></li>
<li><a href="https://eltonminetto.dev/en/post/2020-04-08-golang-pprof/">Profiling Golang applications using pprof</a></li>
<li><a href="https://eltonminetto.dev/en/post/2020-04-21-golang-apitest/">Testing APIs in Golang using apitest</a></li>
</ul>

<p>After this whole experience I can say::</p>

<blockquote>
<p>Choosing Clean Architecture was the best technical decision we made!</p>
</blockquote>

<p>With this post, I want to share a <a href="https://github.com/eminetto/clean-architecture-go-v2">repository</a> with a new example implementation in Go. It is an update with improvements in the organization of codes and directories, as well as a more complete example for those who are looking to implement this architecture.</p>

<p>In the next topics, I explain what each directory means.</p>

<h2 id="entity-layer">Entity layer</h2>

<p>Let‚Äôs start with the innermost layer of the architecture.</p>

<p>According to <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Uncle Bob‚Äôs post</a>:</p>

<blockquote>
<p>Entities encapsulate <em>Enterprise wide</em> business rules. An entity can be an object with methods, or it can be a set of data structures and functions. It doesn‚Äôt matter so long as the entities could be used by many different applications in the enterprise.</p>
</blockquote>

<p>The structure looked like this:</p>

<p><a href="https://eltonminetto.dev/images/posts/1-entity_book.png"><img src="https://eltonminetto.dev/images/posts/1-entity_book.png" alt="entity"></a></p>

<p>In this package, we have the definition of the entity (<code>entity.go</code>) and the interfaces of the <code>Repository</code> and <code>Manager</code> (in <code>interface.go</code>). The <code>Manager</code> will use a <code>Repository</code> to perform basic operations on the entity, such as the famous <code>CRUD</code>.</p>

<p>We also have the implementations of the repository in <code>MySQL</code> (<code>repository_mysql.go</code>) and in-memory (<code>repository_inmem.go</code>), as well as the implementation of the <code>Manager</code> interface (in <code>manager.go</code>).</p>

<p>We also found the <code>mocks</code> generated by <code>Gomock</code>, as explained in this <a href="https://eltonminetto.dev/en/post/2019-12-19-gomock/">post</a>. The other layers of the architecture will use this mocks during the tests.</p>

<h2 id="use-case-layer">Use Case Layer</h2>

<p>According to Uncle Bob::</p>

<blockquote>
<p>The software in this layer contains application specific business rules. It encapsulates and implements all of the use cases of the system</p>
</blockquote>

<p>The structure looked like this:</p>

<p><a href="https://eltonminetto.dev/images/posts/2-domain_loan.png"><img src="https://eltonminetto.dev/images/posts/2-domain_loan.png" alt="domain"></a></p>

<p>In packages within <code>domain/usecase</code> we implement the business rules for our product. According to the definition of the architecture, these <code>UseCases</code> make use of the entities and the <code>Managers</code> that deal with them. It is also possible to see the existence of mocks, as the previous layer.</p>

<h2 id="controller-layer">Controller layer</h2>

<p>In this application, there are two ways to access the <code>UseCases</code>. The first is through an <code>API</code> and the second is using a command line application (<code>CLI</code>).</p>

<p>The <code>CLI</code>‚Äôs structure is very simple:</p>

<p><a href="https://eltonminetto.dev/images/posts/4-cmd.png"><img src="https://eltonminetto.dev/images/posts/4-cmd.png" alt="cli"></a></p>

<p>It makes use of domain packages to perform a book search:</p>
<div><pre><code data-lang="go"><span>dataSourceName</span> <span>:=</span> <span>fmt</span><span>.</span><span>Sprintf</span><span>(</span><span>"%s:%s@tcp(%s:3306)/%s?parseTime=true"</span><span>,</span> <span>config</span><span>.</span><span>DB_USER</span><span>,</span> <span>config</span><span>.</span><span>DB_PASSWORD</span><span>,</span> <span>config</span><span>.</span><span>DB_HOST</span><span>,</span> <span>config</span><span>.</span><span>DB_DATABASE</span><span>)</span>
<span>db</span><span>,</span> <span>err</span> <span>:=</span> <span>sql</span><span>.</span><span>Open</span><span>(</span><span>"mysql"</span><span>,</span> <span>dataSourceName</span><span>)</span>
<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> <span>{</span>
  <span>log</span><span>.</span><span>Fatal</span><span>(</span><span>err</span><span>.</span><span>Error</span><span>())</span>
<span>}</span>
<span>defer</span> <span>db</span><span>.</span><span>Close</span><span>()</span>
<span>repo</span> <span>:=</span> <span>book</span><span>.</span><span>NewMySQLRepository</span><span>(</span><span>db</span><span>)</span>
<span>manager</span> <span>:=</span> <span>book</span><span>.</span><span>NewManager</span><span>(</span><span>repo</span><span>)</span>
<span>all</span><span>,</span> <span>err</span> <span>:=</span> <span>manager</span><span>.</span><span>Search</span><span>(</span><span>query</span><span>)</span>
<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> <span>{</span>
  <span>log</span><span>.</span><span>Fatal</span><span>(</span><span>err</span><span>)</span>
<span>}</span>
<span>for</span> <span>_</span><span>,</span> <span>j</span> <span>:=</span> <span>range</span> <span>all</span> <span>{</span>
  <span>fmt</span><span>.</span><span>Printf</span><span>(</span><span>"%s %s \n"</span><span>,</span> <span>j</span><span>.</span><span>Title</span><span>,</span> <span>j</span><span>.</span><span>Author</span><span>)</span>
<span>}</span></code></pre></div>
<p>In the example above, you can see the use of the <code>config</code> package. You can see its structure below, and more details in this <a href="https://eltonminetto.dev/post/2018-06-25-golang-usando-build-tags/">post</a>.</p>

<p><a href="https://eltonminetto.dev/images/posts/3-config.png"><img src="https://eltonminetto.dev/images/posts/3-config.png" alt="config"></a></p>

<p>The <code>API</code> structure is more complex, with three packages: <code>handler</code>, <code>presenter</code>, and <code>middleware</code>.</p>

<p>The <code>handler</code> package handle <code>HTTP</code> <code>requests</code> and <code>responses</code>, as well as using existing business rules in the <code>domain</code>.</p>

<p><a href="https://eltonminetto.dev/images/posts/5-handler.png"><img src="https://eltonminetto.dev/images/posts/5-handler.png" alt="handler"></a></p>

<p>The <code>presenters</code> are responsible for formatting the data generated as a <code>response</code> by <code>handlers</code>.</p>

<p><a href="https://eltonminetto.dev/images/posts/6-presenter.png"><img src="https://eltonminetto.dev/images/posts/6-presenter.png" alt="presenter"></a></p>

<p>In this way, the entity <code>User</code>:</p>
<div><pre><code data-lang="go"><span>type</span> <span>User</span> <span>struct</span> <span>{</span>
   <span>ID</span>        <span>entity</span><span>.</span><span>ID</span>
   <span>Email</span>     <span>string</span>
   <span>Password</span>  <span>string</span>
   <span>FirstName</span> <span>string</span>
   <span>LastName</span>  <span>string</span>
   <span>CreatedAt</span> <span>time</span><span>.</span><span>Time</span>
   <span>UpdatedAt</span> <span>time</span><span>.</span><span>Time</span>
   <span>Books</span>     <span>[]</span><span>entity</span><span>.</span><span>ID</span>
<span>}</span></code></pre></div>
<p>It can be transformed into:</p>
<div><pre><code data-lang="go"><span>type</span> <span>User</span> <span>struct</span> <span>{</span>
   <span>ID</span>        <span>entity</span><span>.</span><span>ID</span> <span>`json:"id"`</span>
   <span>Email</span>     <span>string</span>    <span>`json:"email"`</span>
   <span>FirstName</span> <span>string</span>    <span>`json:"first_name"`</span>
   <span>LastName</span>  <span>string</span>    <span>`json:"last_name"`</span>
<span>}</span></code></pre></div>
<p>This gives us control over how an entity will be delivered via the <code>API</code>.</p>

<p>In the last package of the <code>API</code> we find the <code>middlewares</code>, used by several <code>endpoints</code>:</p>

<p><a href="https://eltonminetto.dev/images/posts/7-middleware.png"><img src="https://eltonminetto.dev/images/posts/7-middleware.png" alt="middlware"></a></p>

<h2 id="support-packages">Support packages</h2>

<p>They are packages that provide common functionality such as encryption, logging, file handling, etc. These features are not part of the domain of our application, and all the layers can use them. Even other applications can import and use these packages.</p>

<p><a href="https://eltonminetto.dev/images/posts/8-pkg.png"><img src="https://eltonminetto.dev/images/posts/8-pkg.png" alt="pkg"></a></p>

<p>The <a href="https://github.com/eminetto/clean-architecture-go-v2">README.md</a> contains more details, such as instructions for compilation and usage examples.</p>

<p>My goals with this post to strengthen my recommendation on this architecture and also to receive feedback about the codes.</p>

<p>If you want to learn how to use this architecture in your favorite programming language, you could use this repository as an example of this learning. That way, we can have different implementations, in different languages, to ease the comparison.</p>

<p>Special thanks to my friend <a href="https://twitter.com/hurrycaner">Gustavo Schirmer</a>  who gave great feedbacks on the text and the codes.</p>


  </article></div>]]>
            </description>
            <link>https://eltonminetto.dev/en/post/2020-07-06-clean-architecture-2years-later/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749962</guid>
            <pubDate>Mon, 06 Jul 2020 17:08:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[1:60 scale Boeing 777 made from manila folders]]>
            </title>
            <description>
<![CDATA[
Score 865 | Comments 192 (<a href="https://news.ycombinator.com/item?id=23749821">thread link</a>) | @chha
<br/>
July 6, 2020 | https://www.lucaiaconistewart.com/model-777 | <a href="https://web.archive.org/web/*/https://www.lucaiaconistewart.com/model-777">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site">

      
      



      <div id="content">

        
        
          
            

  


          
        

        <main id="page" role="main">

          

          <div data-content-field="main-content">
            
            <div data-type="page" data-updated-on="1561691883296" id="page-5cef0d874437940001629f3f"><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559268252785_9085"><p><h2><em>1:60 SCALE MODEL OF AN AIR INDIA BOEING 777-300ER, MADE ENTIRELY FROM MANILA FOLDERS</em></h2></p></div><div data-block-type="2" id="block-yui_3_17_2_1_1559266243734_6718"><div><p>This project traces its beginnings to an <a href="https://www.lucaiaconistewart.com/architecture"><span>architecture class</span></a> in high school where we learned to use manila file folders to roughly model our building ideas. The more I worked with paper, the more I fell in love with its versatility. At some point, I got the idea to make a model of an airplane as a way of challenging myself with an unconventional shape.</p><p>Though the project began on a much smaller and simpler scale in mid-2008, it has since evolved through multiple revisions to become a highly detailed, true-to-life representation of a Boeing 777. I originally drew my plans by hand, but my desire to increase the accuracy and amount of detail led me to start using Adobe Illustrator to design and print increasingly intricate parts directly onto the folder.</p><p><em>The project has been in progress since May 2008</em></p></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559711406501_11179"><div><h2>RESEARCH</h2><p>I start with as much source material as I can. Often that means photos and videos found on the web, but sometimes I‚Äôm lucky enough to get my hands on technical drawings as well. I study these materials to form an understanding of the intrinsic shape and function of the particular section I‚Äôm working on. Once I feel confident in my basic understanding of the part, I can begin the design process.</p></div></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559711406501_13965"><div><h2>DESIGN</h2><p>Much of my work consists of figuring out how to flatten 3-D shapes into 2-D slices that can be printed onto paper and assembled. I work in Adobe Illustrator to create 2-D plans for all the parts of which the final product will be comprised. I typically start the process by working out the general shape and dimensions of the piece, then I drill down, adding more detail and functionality. Once the design has been ‚Äúfrozen,‚Äù I work to break it down into individual pieces and arrange them for printing. Often, if a piece is complex and I‚Äôm unsure of how well it will function in reality, I build a small test section to verify my designs.</p></div></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559711406501_16684"><div><h2>PRINTING &amp; ASSEMBLY</h2><p>This stage is as time-consuming as the design process. I cut folders down to printer-friendly sizes and print my plans directly onto them. Then, I cut out the individual pieces using an <a href="http://www.xacto.com/products/cutting-solutions/knives/detail/X3201" target="_blank"><span>Xacto knife</span></a>, arrange them into sections, and glue them together with <a href="https://www.aleenes.com/aleenes-clear-gel-tacky-glue" target="_blank"><span>Tacky Glue</span></a>. Often, a complex piece is actually a collection of much smaller sub-sections that each needs to be assembled separately before being joined together; this is especially true of something like the wing, which contains many articulating functions and thousands of parts.</p></div></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1561353870131_383468"><div><h2>TOOLS</h2><p>My tools of choice include the aforementioned Xacto knife, a cutting mat, straight edges, squares, and a toothpick for the precise application of glue.</p></div></div></div></div><div data-block-json="{&quot;hSize&quot;:null,&quot;floatDir&quot;:null,&quot;url&quot;:&quot;https://www.youtube.com/watch?v=77oRSCxGmYA&quot;,&quot;html&quot;:&quot;<iframe src=\&quot;//www.youtube.com/embed/77oRSCxGmYA?wmode=opaque&amp;amp;enablejsapi=1\&quot; height=\&quot;480\&quot; width=\&quot;854\&quot; scrolling=\&quot;no\&quot; frameborder=\&quot;0\&quot; allowfullscreen=\&quot;\&quot;>\n</iframe>&quot;,&quot;resolveObject&quot;:&quot;Video&quot;,&quot;resolvedBy&quot;:&quot;youtube&quot;,&quot;resolved&quot;:true,&quot;description&quot;:&quot;Many people have asked how I design and build the parts for the manila folder 777 I'm putting together, and this video is perhaps the best answer yet. This covers the design and build process for the main landing gear, and was made from almost 130 hours of raw footage.&quot;,&quot;title&quot;:&quot;Manila Folder 777 - Main Landing Gear - Design+Build Time-lapse with Info! **60FPS**&quot;,&quot;height&quot;:480,&quot;thumbnail_width&quot;:480,&quot;width&quot;:854,&quot;version&quot;:&quot;1.0&quot;,&quot;type&quot;:&quot;video&quot;,&quot;thumbnail_height&quot;:360,&quot;authorName&quot;:&quot;Luca Iaconi-Stewart&quot;,&quot;authorUrl&quot;:&quot;https://www.youtube.com/user/lucaiaconistewart&quot;,&quot;providerName&quot;:&quot;YouTube&quot;,&quot;providerUrl&quot;:&quot;https://www.youtube.com/&quot;,&quot;thumbnailUrl&quot;:&quot;https://i.ytimg.com/vi/77oRSCxGmYA/hqdefault.jpg&quot;}" data-block-type="22" id="block-yui_3_17_2_1_1559834399264_13753"><div><div><p><iframe scrolling="no" data-image-dimensions="854x480" allowfullscreen="" src="//www.youtube.com/embed/77oRSCxGmYA?wmode=opaque&amp;enablejsapi=1" width="854" data-embed="true" frameborder="0" height="480">
</iframe></p></div></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1559269142757_26027"><p><h3>CLICK BELOW FOR MORE INFO ON EACH SECTION</h3></p></div><div data-block-type="2" id="block-yui_3_17_2_1_1559870775542_20405"><div><p>Check out an expansive catalog of photos and videos about the project, and stay tuned for further updates!</p></div></div></div></div></div>
          </div>

          

          

        </main>

        

      </div>
    </div></div>]]>
            </description>
            <link>https://www.lucaiaconistewart.com/model-777</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749821</guid>
            <pubDate>Mon, 06 Jul 2020 16:57:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Waymo Challenge Report]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23749716">thread link</a>) | @lucaszsloan
<br/>
July 6, 2020 | https://lucassloan.github.io/2020/07/03/waymo-challenge.html | <a href="https://web.archive.org/web/*/https://lucassloan.github.io/2020/07/03/waymo-challenge.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h2 id="the-waymo-challenge">The Waymo Challenge</h2>

<p>In August 2019, Waymo shared a portion of their self-driving car‚Äôs data as the <a href="https://blog.waymo.com/2019/08/waymo-open-dataset-sharing-our-self.html">Waymo Open Dataset</a>.  The data set contains LIDAR point clouds and images from the 5 cameras on the Waymo test cars.  I previously used this dataset as additional training data for <a href="https://github.com/LucasSloan/speedchallenge">my entry</a> in the <a href="https://github.com/commaai/speedchallenge">Comma.ai Speed Prediction Challenge</a>.  In March 2020, Waymo released a major update to their dataset and <a href="https://blog.waymo.com/2020/03/announcing-waymos-open-dataset-challenges.html">announced</a> the <a href="https://waymo.com/open/challenges">Waymo Open Dataset Challenges</a>.  There were five challenges:</p>

<ol>
  <li>2D Detection</li>
  <li>2D Tracking</li>
  <li>3D Detection</li>
  <li>3D Tracking</li>
  <li>3D Detection Domain Adaptation</li>
</ol>

<h2 id="the-2d-detection-challenge">The 2D Detection Challenge</h2>

<p>Since most of my prior experience was with 2D computer vision tasks, I decided to try my hand at the 2D Detection challenge.  The 2D detection challenge falls under the computer vision task of <a href="https://en.wikipedia.org/wiki/Object_detection">Object Detection</a>.  Object detection is a more difficult task than the canonical computer vision task of image recognition - in image recognition the model only has to choose which of the supplied labels most applies to the image overall, but in object detection, the model has to localize the objects in the image.</p>

<p>Specifically for the Waymo Challenge, the task was to draw bounding boxes around the vehicles, bikes and pedestrians:</p>

<p><img src="https://lucassloan.github.io/assets/images/ground_truth.png" alt="Sample Waymo bounding boxes" title="Sample Waymo bounding boxes"></p>

<p>There are 5 cameras on the Waymo test vehicle - the front, front right and front left cameras with a resolution of 1920x1280 and the side right and side left cameras with a resolution of 1920x886.</p>

<h2 id="how-object-detection-works">How object detection works</h2>

<p>Almost all object detection models are composed of 2 parts:</p>

<ol>
  <li>A backbone CNN to extract reduced resolution feature maps</li>
  <li>A smaller CNN to predict the objectness of regions of the feature maps</li>
</ol>

<p><img src="https://lucassloan.github.io/assets/images/object_detection_diagram.jpg" alt="Object detection diagram" title="Object detection diagram"></p>

<p>The backbone CNN, usually lifted from a high performing ImageNet classification model produces reduced resolution ‚Äúimages‚Äù.  Then many regions, tiled across the ‚Äúimage‚Äù, are snapshotted and fed into the smaller CNN.  The regions of ‚Äúimage‚Äù where the smaller CNN fires strongly are the predicted boxes of the overall network.</p>

<p>High performing object detection networks add a number of wrinkles on top of this basic scheme, such as running the smaller CNN over feature maps extracted at multiple resolutions to handle detecting objects of different sizes or adding another small CNN to suggest small offsets from the location implied by the where the snapshot was taken.</p>

<h2 id="choosing-a-model">Choosing a Model</h2>

<p>After I decided to tackle the 2D Detection challenge, I did a survey of the top models and honed in on 3 top choices:</p>

<h3 id="spinenet"><a href="https://arxiv.org/pdf/1912.05027.pdf">SpineNet</a></h3>

<p>SpineNet is a very interesting take on the <a href="https://www.reddit.com/r/ProgrammerHumor/comments/8c1i45/stack_more_layers/">stack more layers</a> approach to machine learning.  State of the art object detection models snapshot at different resolutions of feature maps, but the higher resolution feature maps are taken earlier in the backbone, which means that they‚Äôre the result of less processing.  SpineNet permutes a standard ResNet-50 architecture so that there are feature maps of multiple resolutions at the end of the network, so that all the feature maps can be the result of all 50 layers.</p>

<h3 id="yolov3"><a href="https://arxiv.org/pdf/1804.02767.pdf">YOLOv3</a></h3>

<p>YOLO (You Only Look Once) is a series of object detection models designed for high speed on commodity hardware.  The project focuses on hardware utilization to guide its design choices, over the raw FLOPs count used by others.</p>

<h3 id="efficientdet"><a href="https://arxiv.org/pdf/1911.09070.pdf">EfficientDet</a></h3>

<p>EfficientDet is a family of models built on top of the <a href="https://arxiv.org/pdf/1905.11946.pdf">EfficientNet</a> family of image recognition models.  It uses the EfficientNet models as the CNN backbone and introduces a new method of aggregating information across resolution scales, the BiFPN.</p>

<p>SpineNet seemed like a promising candidate from the paper, but while it was <a href="https://github.com/tensorflow/tpu/blob/master/models/official/detection/MODEL_ZOO.md">technically opensource</a>, it was written to be run on TPUs and there wasn‚Äôt a community trying to leverage it.  YOLOv3 was designed to be run on commodity GPUs, had a large community and active support from the authors, but it didn‚Äôt have state of the art performance and was written in a custom ML framework, darknet.  EfficientDet did have the state of the art performance.  It was open source, supported by the author and a substantial community and written in TensorFlow (the framework I have the most experience with).  I decided to focus on EfficientDet.</p>

<h3 id="training-efficientdet">Training EfficientDet</h3>

<p>After fighting the usual fires trying to get a new model working (formatting the data the way the model wants it, difficulties getting the dependencies installed), I was able to finetune the smallest EfficientDet model.  The smallest EfficientDet, d0, is trained on <a href="http://cocodataset.org/#home">the standard COCO dataset</a>, on which it gets an AP of 33.8%.  Unfortunately, finetuning from that checkpoint on the Waymo dataset resulted in much worse performance.</p>

<p>I was able to apply a fact that I had previously learned working on self-driving car data - presenting the frames in order is really bad for performance.  I shuffled my input data better and got much improved performance.  I also changed the learning rate to match the (smaller) batch size that I was training at and got better performance still.  At this point I hit a wall at only 13% AP.  Waymo had preseeded the leaderboard with 2 dummy entries that had ~20% AP, so this clearly wasn‚Äôt good enough.</p>

<p>I was training over a period of 10 epochs and the AP basically plateaued after the first 1 or 2 epochs.  I took a look at the code and found that EfficientDet uses a cosine decay rule, so I wondered whether my issue was that the learning rate was falling off too fast.  I switched it out for a constant learning rate, but it had roughly the same performance.  I also tried replacing the default SGD optimizer with an ADAM optimizer, which also had roughly the same performance.</p>

<p>At this point, the deficit versus the COCO AP score had me concerned there was a bug in my code, so I dumped an image with the model‚Äôs bounding boxes:</p>

<p><img src="https://lucassloan.github.io/assets/images/sky_boxes.jpg" alt="Sample model detections" title="Sample model detections"></p>

<p>Which made it clear that the model was basically learning, but it did have weird issues with boxes in the sky.  Interestingly, the equivalent boxes from the side cameras (with their different aspect ratio) didn‚Äôt have the weird sky boxes.</p>

<p>I also wrote <a href="https://github.com/LucasSloan/waymochallenge/blob/master/dump_tfrecord.py">a tool to dump my tfrecords to json</a> so I could see if there was some obvious flaw in my tfrecord converter, but there wasn‚Äôt any.</p>

<p>At this point, faced with consistently worse performance than the COCO dataset, I was concerned that my ‚Äúfinetuning‚Äù process was actually making the model worse at detecting things.  The COCO dataset has a bunch of categories that overlap with the Waymo dataset (car, truck -&gt; vehicle), so I was able to write a translation layer that converted the COCO labels to Waymo labels.  With the translation layer, I was able to see what the model‚Äôs performance was before finetuning.  EfficientDet d0, the one I was training, had an AP of 6% just mapping the COCO classes, but an AP of 13% after finetuning.  The middle EfficientDet (d4) had a mapped AP of 16% and the largest (d7) had a mapped AP of 19%.</p>

<p>I also took a look at the pictures that comprised the COCO dataset and discovered that the objects in it were usually much larger than the objects in the Waymo dataset.</p>

<p>Between these findings, it was pretty clear that:</p>

<ol>
  <li>Finetuning was working (6% -&gt; 13% AP)</li>
  <li>The Waymo dataset was much more challenging that the COCO dataset</li>
  <li>Larger models would perform better</li>
</ol>

<p>Unfortunately there were issues running larger models on the EfficientDet codebase.  It wasn‚Äôt designed for multi-gpu training - I attempted to use <a href="https://www.tensorflow.org/api_docs/python/tf/distribute/Strategy">tf.distribute.Strategy</a> to parallelize the training, but some bug stopped it from working.  Another user‚Äôs attempted workaround resulted in my model failing with an out of memory error.  More importantly, EfficientDet was originally designed for TPUs and had some bug that caused much more memory usage on GPU.  On TPUs, the largest model could be run with a batchsize of 4 per 16 gb node.  On GPUs even with a batchsize of 1, the medium model couldn‚Äôt be trained.</p>

<p>At this point, the leaderboard had not only the Waymo dummy entries at 20% AP, but also some competitive scores at ~60% AP.  It seemed like I might be able to finetune a larger EfficientDet to beat the dummy entry scores, but I couldn‚Äôt possibly put together a really competitive score.</p>

<h2 id="yolov4">YOLOv4</h2>

<p>Fortunately, at this point the <a href="https://arxiv.org/pdf/2004.10934.pdf">YOLOv4 paper</a> came out.  It promised better performance than EfficientDet and emphasized that it was trainable on commodity hardware.</p>

<p>Unfortunately, YOLOv4 isn‚Äôt implemented in a standard framework like Tensorflow or Pytorch, it‚Äôs implemented in a custom framework called <a href="https://github.com/AlexeyAB/darknet">DarkNet</a>.  Getting it working required learning about CMake and Make, fixing a bug that prevented it from compiling with half-precision support and painfully learning that Make doesn‚Äôt natively take advantage of multi-core support.  It also takes in data as individual files, not optimized formats like tfrecord.  I was forced to move my data to my SSD to get full performance.</p>

<p>With all the setup difficulties sorted, I was able to train a YOLOv4 network with the recommended setup up.  I trained for several days and got a network with a performance of 34%!  That was much better than the 13% I‚Äôd gotten with EfficientDet.  Unfortunately, the default number that YOLO reports is the AP50 number, a less stringent test than the AP number that EfficientDet uses.  EfficientDet also reports the AP50 number, so I was able to guesstimate that my 34% would give me a true AP of around 20%.  That was maybe high enough to beat Waymo‚Äôs dummy entries, but nowhere near high enough to be competitive.</p>

<p>However, at this point, I was basically out of ideas for how to get a truly competitive score.  Since the ~20% AP was the highest number I had yet gotten, I put together the code necessary to turn the YOLO predictions into the Waymo format and uploaded my validation predictions.  <strong>Their system informed me that I had a score of 44%!</strong></p>

<h2 id="back-to-efficientdet">Back to EfficientDet</h2>

<p>At this point, I knew that my pessimism about the performance of my models was wrong - the Waymo metric was way more forgiving than either of the metrics I‚Äôd been paying attention to.  Now the job was to build on the models I had in order to beat the fore-runners.  Of ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lucassloan.github.io/2020/07/03/waymo-challenge.html">https://lucassloan.github.io/2020/07/03/waymo-challenge.html</a></em></p>]]>
            </description>
            <link>https://lucassloan.github.io/2020/07/03/waymo-challenge.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749716</guid>
            <pubDate>Mon, 06 Jul 2020 16:45:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Code only says what it does]]>
            </title>
            <description>
<![CDATA[
Score 163 | Comments 112 (<a href="https://news.ycombinator.com/item?id=23749676">thread link</a>) | @mjb
<br/>
July 6, 2020 | http://brooker.co.za/blog/2020/06/23/code.html | <a href="https://web.archive.org/web/*/http://brooker.co.za/blog/2020/06/23/code.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">


<p>Only loosely related to what it should do.</p>


<p>Code says what it does. That's important for the computer, because code is the way that we ask the computer to do something. It's OK for humans, as long as we never have to modify or debug the code. As soon as we do, we have a problem. Fundamentally, debugging is an exercise in changing what a program does to match what it should do. It requires us to know what a program should do, which isn't captured in the code. Sometimes that's easy: What it does is crash, what it should do is <em>not crash</em>. Outside those trivial cases, discovering intent is harder.</p>

<p>Debugging when <em>should do</em> is subtle, such as when building distributed systems protocols, is especially difficult. In our <a href="https://www.usenix.org/conference/nsdi20/presentation/brooker">Millions of Tiny Databases</a> paper, we say:</p>

<blockquote><p>Our code reviews, simworld tests, and design meetings frequently referred back to the TLA+ models of our protocols to resolve ambiguities in Java code or written communication.</p></blockquote>

<p>The problem is that the implementation (in Physalia's case the Java code) is both an imperfect implementation of the protocol, and an overly-specific implementation of the protocol. It's overly-specific because it needs to be fully specified. Computers demand that, and no less, while the protocol itself has some leeway and wiggle room. It's also overly-specific because it has to address things like low-level performance concerns that the specification can't be bothered with.</p>

<p><em>Are those values in an ArrayList because order is actually important, or because O(1) random seeks are important, or some other reason? Was it just the easiest thing to write? What happens when I change it?</em></p>

<p>Business logic code, while lacking the cachet of distributed protocols, have even more of these kinds of problems. Code both over-specifies the business logic, and specifies it inaccurately. I was prompted to write this by a tweet from @mcclure111 where she hits the nail on the head:</p>

<blockquote data-conversation="none" data-dnt="true"><p lang="en" dir="ltr">Since most software doesn't have a formal spec, most software "is what it does", there's an incredible pressure to respect authorial intent when editing someone else's code. You don't know which quirks are load-bearing.</p>‚Äî mcc üè≥Ô∏è‚Äç‚ößÔ∏èüè≥Ô∏è‚Äçüåà (@mcclure111) <a href="https://twitter.com/mcclure111/status/1274422600236765186?ref_src=twsrc%5Etfw">June 20, 2020</a></blockquote>




<p>This is a major problem with code: <em>You don't know which quirks are load-bearing.</em> You may remember, or be able to guess, or be able to puzzle it out from first principles, or not care, but all of those things are slow and error-prone. What can we do about it?</p>

<p><strong>Design Documentation</strong></p>

<p>Documentation is uncool. Most software engineers seem to come out of school thinking that documentation is below them (<em>tech writer work</em>), or some weird thing their SE professor talked about that is as archaic as Fortran. Part of this is understandable. My own software engineering courses emphasized painstakingly documenting the implementation in UML. No other mention of documentation was made. Re-writing software in UML helps basically nobody. I finished my degree thinking that documentation was unnecessary busywork. Even the <a href="https://agilemanifesto.org/">Agile Manifesto</a> agreed with me<sup><a href="#foot1">1</a></sup>:</p>

<blockquote><p>Working software over comprehensive documentation</p></blockquote>

<p>What I discovered later was that design documentation, encoding the intent and decisions made during developing a system, helps teams be successful in the short term, and people be successful in the long term. Freed from fitting everything in my head, emboldened by the confidence that I could rediscover forgotten facts later, I could move faster. The same applies to teams.</p>

<p>One thing I see successful teams doing is documenting not only the <em>what</em> and <em>why</em> behind their designs, but the <em>how they decided</em>. When it comes time to make changes to the system‚Äîeither for debugging or in response to changing requirements‚Äîthese documents are invaluable. It's hard to decide whether its safe to change something, when you don't know why it's like that in the first place. The record of how you decided is important because you are a flawed human, and understanding how you came to a decision is useful to know when that decision seems strange, or surprising.</p>

<p>This documentation process doesn't have to be heavyweight. You don't have to draw painstaking <a href="https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model">ER diagrams</a> unless you think they are helpful. You should probably ignore UML entirely. Instead, describe the system in prose as clearly and succinctly as you can. One place to start is by building an RFC template for your team, potentially inspired by one that you find on the web. <a href="https://static1.squarespace.com/static/56ab961ecbced617ccd2461e/t/5d792e5a4dac4074658ce64b/1568222810968/Squarespace+RFC+Template.pdf">SquareSpace</a>'s template seems reasonable. Some designs will fit well into that RFC format, other's won't. Prefer narrative writing where you can.</p>

<p>Then, keep the documents. Store them somewhere safe. Soak them in vinegar <a href="https://www.almanac.com/content/home-remedies-cough-relief">and tie them around your chest</a>. You're going to want to make sure that the people who need to maintain the system can find them. As they are spelunking through history, help them feel more like a library visitor and less like Lara Croft.</p>

<p>I'm not advocating for Big Design Up Front. Many of the most important things we learn about a project we learn during the implementation. Some of the most important things we learn years after the implementation is complete. Design documentation isn't a static one-time ahead-of-time deliverable, but an ongoing process. Most importantly, design documentation is not a commitment to bad ideas. If it's wrong, fix it and move forward. Documentation is not a deal with the devil.</p>

<p><strong>Comments</strong></p>

<p>Few topics invite a programmer flame war like comments. We're told that comments are silly, or childish, or make it hard to show how manly you are in writing that convoluted mess of code. If it was hard to write, it should be hard to read. After all, you're the James Joyce of code.</p>

<p>That silliness aside, back to @mcclure111's thread:</p>

<blockquote data-conversation="none" data-dnt="true"><p lang="en" dir="ltr">This means comments that *reveal* authorial intent are valuable, and comments that reveal *there was no authorial intent* are even more valuable. Without those hints, you're left editing superstitiously, preserving quirks even when you don't know why. <a href="https://t.co/YhvWnXjp9i">https://t.co/YhvWnXjp9i</a></p>‚Äî mcc üè≥Ô∏è‚Äç‚ößÔ∏èüè≥Ô∏è‚Äçüåà (@mcclure111) <a href="https://twitter.com/mcclure111/status/1274422825831596039?ref_src=twsrc%5Etfw">June 20, 2020</a></blockquote>




<p>Comments allow us to encode <em>authorial intent</em> into our code in a way that programming languages don't always. Types, traits, interfaces, and variable names do put intent into code, but not completely (I see you, type system maximalists). These same things allow us to communicate a lack of intent‚Äîconsider <a href="https://docs.oracle.com/javase/8/docs/api/java/util/RandomAccess.html">RandomAccess</a> vs <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html">ArrayList</a>‚Äîbut are also incomplete. Well-commented code should make the intent of the author clear, especially in cases where that intent is either lost in the translation to code, or where implementation constraints hide the intent of the design. Code comments that link back to design documents are especially useful.</p>

<p>Some languages need comments more than others. Some, like SQL, I find to nearly always obscure the intent of the design behind implementation details.</p>

<p><strong>Formal Specification</strong></p>

<p>In <a href="https://cacm.acm.org/magazines/2015/4/184705-who-builds-a-house-without-drawing-blueprints/fulltext">Who Builds a House Without Drawing Blueprints?</a> Leslie Lamport writes:</p>

<blockquote><p>The need for specifications follows from two observations. The first is that it is a good idea to think about what we are going to do before doing it, and as the cartoonist Guindon wrote: "Writing is nature's way of letting you know how sloppy your thinking is."</p>

<p>The second observation is that to write a good program, we need to think above the code level.</p></blockquote>

<p>I've found that specification, from informal specification with narrative writing to formal specification with TLA+, makes writing programs faster and helps reduce mistakes. As much as I like that article, I think Lamport misses a key part of the value of formal specification: it's a great communication tool. In developing some of the trickiest systems I've built, I've found that heavily-commented formal specifications are fantastically useful documentation. Specification languages are all about <em>intent</em>, and some make it easy to clearly separate intent from implementation.</p>

<p>Again, from our <a href="https://www.usenix.org/conference/nsdi20/presentation/brooker">Millions of Tiny Databases</a> paper:</p>

<blockquote><p>We use TLA+ extensively at Amazon, and it proved exceptionally useful in the development of Physalia.  Our team used TLA+ in three ways: writing specifications of our protocols to check that we understand them deeply, model checking specifications against correctness and liveness properties using the TLC model checker, and writing extensively commented TLA+ code to serve as the documentation of our distributed protocols. While all three of these uses added value, TLA+‚Äôs role as a sort of automatically tested (via TLC),and extremely precise, format for protocol documentation was perhaps the most useful.</p></blockquote>

<p>Formal specifications make excellent documentation. Like design docs, they aren't immutable artifacts, but a reflection of what we have learned about the problem.</p>

<p><strong> Conclusion </strong></p>

<p>Building long-lasting, maintainable, systems requires not only communicating with computers, but also communicating in space with other people, and in time with our future selves. Communicating, recording, and indexing the intent behind our designs is an important part of that picture. Make time for it, or regret it later.</p>

<p><strong>Footnotes</strong></p>

<ol>
<li><a name="foot1"></a> To be charitable to the Agile folks, <em>comprehensive</em> does seem to be load-bearing.</li>
</ol>


</div></div>]]>
            </description>
            <link>http://brooker.co.za/blog/2020/06/23/code.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749676</guid>
            <pubDate>Mon, 06 Jul 2020 16:41:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Concurrency Cost Hierarchy]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23749172">thread link</a>) | @benaadams
<br/>
July 6, 2020 | https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html | <a href="https://web.archive.org/web/*/https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    
<!-- boilerplate 
page.assets: /assets/concurrency-costs
assetpath: /assets/concurrency-costs
tablepath: /misc/tables/concurrency-costs
-->

<h2 id="introduction">Introduction</h2>

<p>Concurrency is hard to get <em>correct</em>, at least for those of us unlucky enough to be writing in languages which expose directly the guts of concurrent hardware: threads and shared memory. Getting concurrency correct <em>and</em> fast is hard, too. Your knowledge about single-threaded optimization often won‚Äôt help you: at a micro (instruction) level we can‚Äôt simply apply the usual rules of Œºops, dependency chains, throughput limits, and so on. The rules are different.</p>

<p>If that first paragraph got your hopes up, this second one is here to dash them: I‚Äôm not actually going to do a deep dive into the very low level aspects of concurrent performance. There are a lot of things we just don‚Äôt know about how atomic instructions and fences execute, and we‚Äôll save that for another day.</p>

<p>Instead, I‚Äôm going to describe a higher level taxonomy that I use to think about concurrent performance. We‚Äôll group the performance of concurrent operations into six broad <em>levels</em> running from fast to slow, with each level differing from its neighbors by roughly an order of magnitude in performance.</p>

<p>I often find myself thinking in terms of these categories when I need high performance concurrency: what is the best level I can practically achieve for the given problem? Keeping the levels in mind is useful both during initial design (sometimes a small change in requirements or high level design can allow you to achieve a better level), and also while evaluating existing systems (to better understand existing performance and evaluate the path of least resistance to improvements).</p>

<h3 id="a-real-world-example">A ‚ÄúReal World‚Äù Example</h3>

<p>I don‚Äôt want this to be totally abstract, so we will use a real-world-if-you-squint<sup id="fnref:realworld"><a href="#fn:realworld">1</a></sup> running example throughout: safely incrementing an integer counter across threads. By <em>safely</em> I mean without losing increments, producing out-of-thin air values, frying your RAM or making more than a minor rip in space-time.</p>

<h3 id="source-and-results">Source and Results</h3>

<p>The source for every benchmark here is <a href="https://github.com/travisdowns/concurrency-hierarchy-bench">available</a>, so you can follow along and even reproduce the results or run the benchmarks on your own hardware. All of the results discussed here (and more) are available in the same repository, and each plot includes a <code>[data table]</code> link to the specific subset used to generate the plot.</p>

<h3 id="hardware">Hardware</h3>

<p>All of the performance results are provided for several different hardware platforms: Intel Skylake, Ice Lake, Amazon Graviton and Graviton 2. However except when I explicitly mention other hardware, the prose refers to the results on Skylake. Although the specific numbers vary, most of the qualitative relationships hold for the hardware too, but <em>not always</em>. Not only does the hardware vary, but the OS and library implementations will vary as well.</p>

<p>It‚Äôs almost inevitable that this will be used to compare across hardware (‚Äúwow, Graviton 2 sure kicks Graviton 1‚Äôs ass‚Äù), but that‚Äôs not my goal here. The benchmarks are written primarily to tease apart the characteristics of the different levels, and <em>not</em> as a hardware shootout.</p>

<p>Find below the details of the hardware used:</p>

<table>
  <thead>
    <tr>
      <th>Micro-architecture</th>
      <th>ISA</th>
      <th>Model</th>
      <th>Tested Frequency</th>
      <th>Cores</th>
      <th>OS</th>
      <th>Instance Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Skylake</td>
      <td>x86</td>
      <td>i7-6700HQ</td>
      <td>2.6 GHz</td>
      <td>4</td>
      <td>Ubuntu 20.04</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Ice Lake</td>
      <td>x86</td>
      <td>i5-1035G4</td>
      <td>3.3 GHz</td>
      <td>4</td>
      <td>Ubuntu 19.10</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Graviton</td>
      <td>AArch64</td>
      <td>Cortex-A72</td>
      <td>2.3 GHz</td>
      <td>16</td>
      <td>Ubuntu 20.04</td>
      <td>a1.4xlarge</td>
    </tr>
    <tr>
      <td>Graviton 2</td>
      <td>AArch64</td>
      <td>Neoverse N1</td>
      <td>2.5 GHz</td>
      <td>16<sup id="fnref:g2cores"><a href="#fn:g2cores">2</a></sup></td>
      <td>Ubuntu 20.04</td>
      <td>c6g.4xlarge</td>
    </tr>
  </tbody>
</table>

<h2 id="level-2-contended-atomics">Level 2: Contended Atomics</h2>

<p>You‚Äôd probably expect this hierarchy to be introduced from fast to slow, or vice-versa, but we‚Äôre all about defying expectations here and we are going to start in the <em>middle</em> and work our way outwards. The middle (rounding down) turns out to be <em>level 2</em> and that‚Äôs where we will jump in.</p>

<p>The most elementary way to safely modify any shared object is to use a lock. It mostly <em>just works</em> for any type of object, no matter its structure or the nature of the modifications. Almost any mainstream CPU from the last thirty years has some type of locking<sup id="fnref:parisc"><a href="#fn:parisc">3</a></sup> instruction accessible to userspace.</p>

<p>So our baseline increment implementation will use a simple mutex of type <code>T</code> to protect a plain integer variable:</p>

<div><div><pre><code><span>T</span> <span>lock</span><span>;</span>
<span>uint64_t</span> <span>counter</span><span>;</span>

<span>void</span> <span>bench</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>std</span><span>::</span><span>lock_guard</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>holder</span><span>(</span><span>lock</span><span>);</span>
        <span>counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>We‚Äôll call this implementation <em><abbr title="Uses a std::mutex and std::lock_guard to protect a plain integer counter.">mutex add</abbr></em>, and on my 4 CPU Skylake-S i7-6700HQ machine, when I use the vanilla <code>std::mutex</code> I get the following results for 2 to 4 threads:</p>



<p>The reported value is the median of all trials, and the vertical black error lines at the top of each bar indicate the <em>interdecile range</em>, i.e., the values at the 10th and 90th percentile. Where the error bars don‚Äôt show up, it means there is no difference between the p10 and p90 values at all, at least within the limits of the reporting resolution (100 picoseconds).</p>

<p>This shows that the baseline contended cost to modify an integer protected by a lock starts at about 125 nanoseconds for two threads, and grows somewhat with increasing thread count.</p>

<p>I can already hear someone saying: <em>If you are just modifying a single 64-bit integer, skip the lock and just directly use the atomic operations that most ISAs support!</em></p>

<p>Sure, let‚Äôs add a couple of variants that do that. The <code>std::atomic&lt;T&gt;</code> template makes this easy: we can wrap any type meeting some basic requirements and then manipulate it atomically. The easiest of all is to use <code>std::atomic&lt;uint64&gt;::operator++()</code><sup id="fnref:post"><a href="#fn:post">4</a></sup> and this gives us <em><abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>atomic_counter</span><span>{};</span>

<span>void</span> <span>atomic_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>atomic_counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The other common approach would be to use <a href="https://en.wikipedia.org/wiki/Compare-and-swap">compare and swap (<abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>)</a> to load the existing value, add one and then <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> it back if it hasn‚Äôt changed. If it <em>has</em> changed, the increment raced with another thread and we try again.</p>

<p>Note that even if you use increment at the source level, the assembly might actually end up using <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> if your hardware doesn‚Äôt support atomic increment<sup id="fnref:atomicsup"><a href="#fn:atomicsup">5</a></sup>, or if your compiler or runtime just don‚Äôt take advantage of atomic operations even though they are available (e.g., see what even the newest version of <a href="https://godbolt.org/z/5h4K7y">icc does</a> for atomic increment, and what Java did for years<sup id="fnref:java"><a href="#fn:java">6</a></sup>). This caveat doesn‚Äôt apply to any of our tested platforms, however.</p>

<p>Let‚Äôs add a counter implementation that uses <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> as described above, and we‚Äôll call it <em><abbr title="Uses a CAS loop to increment a single shared counter.">cas add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>cas_counter</span><span>;</span>

<span>void</span> <span>cas_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>uint64_t</span> <span>v</span> <span>=</span> <span>cas_counter</span><span>.</span><span>load</span><span>();</span>
        <span>while</span> <span>(</span><span>!</span><span>cas_counter</span><span>.</span><span>compare_exchange_weak</span><span>(</span><span>v</span><span>,</span> <span>v</span> <span>+</span> <span>1</span><span>))</span>
            <span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Here‚Äôs what these look like alongside our existing <code>std::mutex</code> benchmark:</p>



<p>The first takeaway is that, at least in this <em>unrealistic maximum contention</em> benchmark, using <abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr> (<a href="https://www.felixcloutier.com/x86/xadd"><code>lock xadd</code></a> at the hardware level) is significantly better than <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>. The second would be that <code>std::mutex</code> doesn‚Äôt come out looking all that bad on Skylake. It is only slightly worse than the <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> approach at 2 cores and beats it at 3 and 4 cores. It is slower than the atomic increment approach, but less than three times as slow and seems to be scaling in a reasonable way.</p>

<p>All of these operations are belong to <em>level 2</em> in the hierarchy. The primary characteristic of level 2 is that they make a <em>contended access</em> to a shared variable. This means that at a minimum, the line containing the data needs to move out to the caching agent that manages coherency<sup id="fnref:l3"><a href="#fn:l3">7</a></sup>, and then back up to the core that will receive ownership next. That‚Äôs about 70 cycles minimum just for that operation<sup id="fnref:inter"><a href="#fn:inter">8</a></sup>.</p>

<p>Can it get slower? You bet it can. <em>Way</em> slower.</p>

<h3 id="level-3-system-calls">Level 3: System Calls</h3>

<p>The next level up (‚Äúup‚Äù is not good here‚Ä¶) is level 3. The key characteristic of implementations at this level is that they make a <em>system call on almost every operation</em>.</p>

<p>It is easy to write concurrency primitives that make a system call <em>unconditionally</em> (e.g., a lock which always tries to wake waiters via a <code>futex(2)</code> call, even if there aren‚Äôt any), but we won‚Äôt look at those here. Rather we‚Äôll take a look at a case where the fast path is written to avoid a system call, but the design or way it is used implies that such a call usually happens anyway.</p>

<p>Specifically, we are going to look at some <em>fair locks</em>. Fair locks allow threads into the critical section in the same order they began waiting. That is, when the critical section becomes available, the thread that has been waiting the longest is given the chance to take it.</p>

<p>Sounds like a good idea, right? Sometimes yes, but as we will see it can have significant performance implications.</p>

<p>On the menu are three different fair locks.</p>

<p>The first is a <a href="https://en.wikipedia.org/wiki/Ticket_lock">ticket lock</a> with a <code>sched_yield</code> in the spin loop. The idea of the yield is to give other threads which may hold the lock time to run. This <code>yield()</code> approach is publicly frowned upon by concurrency experts<sup id="fnref:notwhat"><a href="#fn:notwhat">9</a></sup>, who then sometimes go right ahead and use it anyway.</p>

<p>We will call it <abbr title="A ticket lock that calls sched_yield in a spin loop while waiting for its turn.">ticket yield</abbr> and it looks like this:</p>



<div><div><pre><code><span>/**
 * A ticket lock which uses sched_yield() while waiting
 * for the ticket to be served.
 */</span>
<span>class</span> <span>ticket_yield</span> <span>{</span>
    <span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>size_t</span><span>&gt;</span> <span>dispenser</span><span>{},</span> <span>serving</span><span>{};</span>

<span>public:</span>
    <span>void</span> <span>lock</span><span>()</span> <span>{</span>
        <span>auto</span> <span>ticket</span> <span>=</span> <span>dispenser</span><span>.</span><span>fetch_add</span><span>(</span><span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_relaxed</span><span>);</span>

        <span>while</span> <span>(</span><span>ticket</span> <span>!=</span> <span>serving</span><span>.</span><span>load</span><span>(</span><span>std</span><span>::</span><span>memory_order_acquire</span><span>))</span>
            <span>sched_yield</span><span>();</span>
    <span>}</span>

    <span>void</span> <span>unlock</span><span>()</span> <span>{</span>
        <span>serving</span><span>.</span><span>store</span><span>(</span><span>serving</span><span>.</span><span>load</span><span>()</span> <span>+</span> <span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_release</span><span>);</span>
    <span>}</span>
<span>};</span>
</code></pre></div></div>

<p>Let‚Äôs plot the performance results for this lock alongside the existing approaches:</p>



<p>This is level 3 visualized: it is an order of magnitude slower than the level 2 approaches. The slowdown comes from the <code>sched_yield</code> call: this is a system call and these are generally on the order of 100s of nanoseconds<sup id="fnref:spectre"><a href="#fn:spectre">10</a></sup>, and it shows in the results.</p>

<p>This lock <em>does</em> have a fast path where <code>sched_yield</code> isn‚Äôt called: if the lock is available, no spinning occurs and <code>sched_yield</code> is never called. However, the combination of being a <em>fair</em> lock and the high contention in this test means that a lock convoy quickly forms (we‚Äôll describe this in more detail later) and so the spin loop is entered basically ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</a></em></p>]]>
            </description>
            <link>https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749172</guid>
            <pubDate>Mon, 06 Jul 2020 15:53:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How I landed an interview almost every time I applied (as a developer)]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 8 (<a href="https://news.ycombinator.com/item?id=23748953">thread link</a>) | @yassinerajallah
<br/>
July 6, 2020 | https://devhypercharged.com/how-to-land-an-interview-almost-every-time-as-a-programmer/ | <a href="https://web.archive.org/web/*/https://devhypercharged.com/how-to-land-an-interview-almost-every-time-as-a-programmer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>Applying to startups, medium-big corps is a tedious task. The standard is to apply to 100+ companies and prepare 100+ programming problems. Does it have to be this hard? Short answer no. In fact, I applied to 30 companies and landed 25 interviews. And the good news is, it generally doesn‚Äôt take more than 2 weeks to finish with all that interview process (of course it depends on the company)&nbsp;</span></p>
<p><span>Let‚Äôs get started already. If you are applying to:</span></p>

<h4><span>Startup/Medium-Size Company:</span></h4>
<p><span>The hiring process depends on the company. More often than not, you talk to the CEO/CTO and are judged over your ‚Äúcompatibility‚Äù with the workplace‚Äôs culture. Generally, the first interview is just to get to know you, your rate (please don‚Äôt ask for a crazy salary if you are just starting out), and what you can bring to the ecosystem. At later stages, you are assigned a take-home project or a live coding interview.</span></p>
<p><span>Your responsibility depends on how much funding the startup has and its burn rate. The lesser the investment, the more critical your responsibility. It makes sense because the founder(s) can‚Äôt hire another developer to help you out. And you probably have been hired because you‚Äôre full-stack. You are also expected to have an ‚Äúentrepreneurial mindset‚Äù, you get the chance to make influential decisions. It‚Äôs important to know that you aren‚Äôt a ‚Äúcode monkey‚Äù.You‚Äôll need to make well-thought decisions for the sake of the startup.&nbsp;</span></p>
<p><b>To land an interview, your best bet is to reach out to the founders: </b><span>Skip sending your application through the website. Instead, craft your best looking, most personal, and professional email out there. You research the startup, research the founders, and link what they work on to your skills.&nbsp;</span></p>
<ul>
<li><span>Be careful of sounding too general ‚ÄúI‚Äôm interested in your company, it‚Äôs truly something the world needs‚Äù; Say what is special about it, if you have a question or 2, you can include them. But the main purpose is to show your interest.&nbsp;</span></li>
</ul>

<ul>
<li><span>Include your resume and make sure it‚Äôs clean and spacious enough. No one wants to read a 2-page resume full of little details. The most important on the top, and shoot your shot, no time to waste.</span></li>
</ul>

<ul>
<li><span>Include a call to action at the end of your email ‚ÄúWould love to hear from you.‚Äù&nbsp;</span></li>
</ul>

<ul>
<li><span>You are set! You‚Äôll be amazed by the response rate. And the founders are friendlier than you might think.</span></li>
</ul>
<p><span>To find startups that match your profile, you can use: </span></p>
<p><a href="https://angel.co/"><span>angel.co</span></a></p>
<p><a href="https://www.workatastartup.com/"><span>workatastartup.com</span></a></p>



<h4><span>Big tech</span></h4>
<p><span>This one is tricky. The application portals are heavily advertised and probably everyone applies through them. Result? Your application goes unnoticed.&nbsp;</span></p>
<p><span>I won‚Äôt beat around the bush, you need a recommendation. Unless you are some high profile employee at company X, you won‚Äôt be noticed. Most people I know got in with a recommendation. This legacy system puts other applicants at a disadvantage in the resume screening process.&nbsp;</span></p>
<p><span>But how can you get a recommendation? </span><span>So far there are 2 ways.</span></p>

<p><strong>Your circle/network</strong></p>
<p><span>Start by asking people in your circle. Note that a recommendation helps you with skipping the screening process and that‚Äôs it. The rest is on you. Being hired totally depends on your skills from this point forward.</span></p>
<p><strong>Create a relationship</strong></p>
<p><span>If you are applying to big corp XYZ, chances are you‚Äôre really interested in the company culture (salary aside). You can go on LinkedIn and connect with an employee from that company. Ideally, you want to stay in touch for months to come. A great way to do so is by asking questions!&nbsp; When you build this long term relationship, you can ask for a recommendation. Obviously, you don‚Äôt want to talk to employees just because of the recommendation, be authentic!&nbsp;</span></p>

<p><span>This brings it to the end of this article. If you learned something new or want to connect shoot me an email üôÇ Until next time. Take care!</span></p>
<p><span>Ps: If you found this helpful, please consider sharing and subscribing. It helps keep the website alive. Thank you!</span></p>

			
			
</div></div>]]>
            </description>
            <link>https://devhypercharged.com/how-to-land-an-interview-almost-every-time-as-a-programmer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748953</guid>
            <pubDate>Mon, 06 Jul 2020 15:30:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Purely Functional, Statically Typed Effect System for Python]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23748773">thread link</a>) | @suned
<br/>
July 6, 2020 | https://pfun.readthedocs.io/en | <a href="https://web.archive.org/web/*/https://pfun.readthedocs.io/en">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://pfun.readthedocs.io/en</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748773</guid>
            <pubDate>Mon, 06 Jul 2020 15:13:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amazon: The Company with a 100 CEOs Cannot Be Stopped]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23748686">thread link</a>) | @dsr12
<br/>
July 6, 2020 | https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html | <a href="https://web.archive.org/web/*/https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><div dir="ltr">

<h4>A company with a 100 CEOs can do anything.</h4>
<p>Amazon appears to be a unique success when it comes to not just the success it has achieved but the diversity of businesses it has succeeded in‚Ää‚Äî‚Ääfrom online retail to web services, and the march continues into many, many new lines of business.</p>
<p>Almost every large, successful company struggles with growing beyond its core business. Oracle is great at selling software, Salesforce is great at cloud CRM, Apple is great at selling devices and they do an okay to good job of selling products and services that are complimentary‚Ää‚Äî‚Ääoften through the exact same distribution channel.</p>
<h4>The constraint is senior leadership bandwidth.</h4>
<p>If your CEO and executive leadership of the company need to be bought in before you can execute, as a business leader you have to now convince leaders who have great instincts for say a retail or ad business to grok an entirely new business model. This is not easy. Most companies fail here.</p>
<p>Google is a great example‚Ää‚Äî‚Ääit‚Äôs done a great job of winning the online search market and almost anything that can be monetized using the same business model‚Ää‚Äî‚Ääads. But when it tries to get into new businesses like grocery delivery, selling phones (Motorola &amp; now Pixel), robots that walk, cars that drive themselves‚Ää‚Äî‚Ääit often appears to struggle on the goto-market and business side. Where it sets up clear business units with leaders it does well, YouTube under Susan Wojcicki being a great example.</p>
<h4 name="7d1e">What makes Amazon succeed where others struggle so&nbsp;hard?</h4>
<p>Amazon appears to be one company run well by Jeff Bezos and his direct reports like Andy Jassy‚Ää‚Äî‚Ääbut in reality Amazon has succeeded in building a culture of 100 CEOs‚Ää‚Äî‚Ääit hires, grooms, develops and builds ‚ÄúGeneral Managers‚Äù‚Ää‚Äî‚Ääthere is literally over 100+ of them*.</p>
<h4>A company with a 100 CEOs can do anything.</h4>
<p>While many companies give GM like titles to their executives, they are often constrained by central planning of some sort. They pay what is known as the corporate <a data-href="https://stratechery.com/2013/the-uncanny-valley-of-a-functional-organization/" href="https://stratechery.com/2013/the-uncanny-valley-of-a-functional-organization/" rel="noopener noreferrer" target="_blank">strategy tax</a>. At a company like Oracle, I couldn‚Äôt price product A if it would impact the profitability and revenue of (cash cow) product B. Every major successful company learns to protect its cash cow‚Ää‚Äî‚Ääand while this initially helps, often for decades, it eventually turns into a millstone around the neck of every business. Be it mainframes, databases, ERPs, ad revenue, or whatever.</p>
<figure name="b526"><img data-height="1354" data-image-id="1*uQtrDSN4gU64-spaJLGT_A.png" data-width="2546" src="https://www.anshublog.com/wp-content/uploads/2017/07/1-uQtrDSN4gU64-spaJLGT_A.png"><figcaption>100 Mini-Me&nbsp;CEOs</figcaption></figure>
<p>(Technically speaking, the titles at Amazon are a little mixed. Not all GM‚Äôs lead businesses but many do‚Ää‚Äî‚Ääfrom Alexa to Redshift Analytics. But the business is structured around these BU leads some run all of India while some are growing new businesses like ‚Äúlive video‚Äù.)</p>
<h4 name="f879">Why can‚Äôt every company declare 100&nbsp;CEOs?</h4>
<p>Companies often talk about agility and the desire to move faster and move decision making to the edge but they are not truly built for it.</p>
<h4>Amazon was built ground up on APIs and Categories</h4>
<p>Amazon‚Äôs first foray into books meant when it entered new categories, it appointed GMs for new categories who ran them as businesses. Pretty close to how a brand manager at P&amp;G can make decisions around Tide.</p>
<p>But it was the key technological architectural decision of being API driven for every single (micro) service in the company that truly enabled <strong>Amazon to be a network of business units‚Ää‚Äî‚Ää</strong>interacting and doing business with each other with clear APIs and rules of engagement.</p>
<p>Companies like Google realize this and hence the move to Alphabet, and appointing a clear CEO of Google Cloud (Diane Greene) but its hard to retrofit this model unless you have practiced it and its deeply ingrained in your culture.</p>
<p>In some ways, GE was the original conglomerate with many businesses operating under leaders but they are big businesses.</p>
<blockquote name="100f"><p>Amazon grows BU‚Äôs that look like startups from $0 to $100M and sometimes to $1B+ under GM‚Äôs that literally start out with nothing more than an idea. Amazon‚Äôs database business is one such example.</p></blockquote>
<p>As Amazon, welcomes its one more CEO‚Ää‚Äî‚ÄäMackey of Whole Foods, its good to remember that he joins a long list of executives at Amazon running billion dollar businesses, and there will be more grown internally, and acquired.</p>
</div>
<!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html"
    dc:identifier="https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html"
    dc:title="Amazon: The Company with a 100 CEOs Cannot Be Stopped"
    trackback:ping="https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html/trackback" />
</rdf:RDF>-->
</div></article></div>]]>
            </description>
            <link>https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748686</guid>
            <pubDate>Mon, 06 Jul 2020 15:05:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I made a macro keypad with 3D-printed switches]]>
            </title>
            <description>
<![CDATA[
Score 149 | Comments 36 (<a href="https://news.ycombinator.com/item?id=23748660">thread link</a>) | @jstanley
<br/>
July 6, 2020 | https://incoherency.co.uk/blog/stories/3pct-keyboard.html | <a href="https://web.archive.org/web/*/https://incoherency.co.uk/blog/stories/3pct-keyboard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h3>I made a macro keypad with 3d-printed switches</h3>
<p><i>Mon  6 July 2020</i></p>
<p><i>Tagged: <a href="https://incoherency.co.uk/blog/tags/electronics.html">electronics</a>, <a href="https://incoherency.co.uk/blog/tags/3dprinting.html">3dprinting</a></i></p>
<p>Latest on the 3d-printed keyboard switch project: I've reached a switch design that I think is probably reliable enough,
and I've put 3 of them together to form a macro keypad just to see how it all goes together before I commit to a
full keyboard. I don't have a number for how many presses the switch lasts, other than to say that
the motor on the testing machine stopped working before the switch did (after about 250,000 presses).</p>
<p><a href="https://img.incoherency.co.uk/2745"><img src="https://img.incoherency.co.uk/2745"></a></p>
<p>You can <a href="https://www.youtube.com/watch?v=uHkOPBxnLtM">watch my short demo video</a> if you want.</p>
<p>"80%" and "60%" keyboard layouts are quite popular, which are correspondingly reduced versions of a full keyboard layout.
I like to think of this keypad as a "3%" keyboard, it's fine as long as you only want to type "jes".</p>
<p><a href="https://img.incoherency.co.uk/2746"><img src="https://img.incoherency.co.uk/2746"></a></p>
<p>It's controlled by an Arduino Pro Micro. It's hard to tell from the pic because of the hot glue, but the switches are wired up to pins 2, 3, and 4, from
the other side of the board.</p>
<p>For the software side of it, I used the <a href="https://www.arduino.cc/reference/en/language/functions/usb/keyboard/">Arduino Keyboard library</a>,
using <a href="https://gist.github.com/jes/fe1aeb18457a06562516372684d1bd47">this quick and dirty Arduino code</a>.
Approximately all of the code is just related to the debounce logic.</p>
<p><a href="https://img.incoherency.co.uk/2748"><img src="https://img.incoherency.co.uk/2748"></a></p>
<p>The switches are printed in some generic no-name clear PETG.
The case and keycaps are printed in <a href="https://shop.prusa3d.com/en/prusament/711-prusament-pla-prusa-galaxy-black-1kg.html">Prusament Galaxy Black PLA</a>.
I'm a big fan of this filament. The glittery effect means the layer lines almost completely disappear. It's basically the same effect you get when printing with
carbon fibre-filled nylon, but with none of the difficulties of printing carbon fibre-filled nylon.</p>
<p>All of these parts, including the switches, were printed on my new <a href="https://www.prusa3d.com/original-prusa-mini/">Prusa Mini</a> printer, which arrived last week and I'm very pleased
with so far.</p>
<h2>Switches</h2>
<p>The problem with the switch design <a href="https://incoherency.co.uk/blog/stories/keyswitch-update.html">from last time</a> was that the copper tape was splitting apart, which prevents it from conducting along
its full length. I initially thought I had
solved this by applying a 2nd layer of copper tape, but that turned out not to be a workable solution. I did a bunch of tests of various combinations of 50% and 75% activation position, and 1 or 2 layers of copper
tape, and found no significant correlation between either of those 2 variables and how long the switch lasts. The switches lasted between 225 presses and 330,000 presses before
failure. 7 failed by the copper tape splitting, 2 failed by the PETG spiral spring breaking (both after more than 200,000 presses), and 1 didn't seem to have any broken parts, it just wasn't reliably working any more.</p>
<p>This is the CAD model of the latest design:</p>
<p><a href="https://img.incoherency.co.uk/2749"><img src="https://img.incoherency.co.uk/2749"></a></p>
<p>The "leaf spring" has that funny shape in its bend so that it can tilt easily, which ensures that it makes reliable contact with <i>both</i> contact wires, instead of
just the first one it happens to touch.</p>
<p>And here's a slow-motion video showing how it works (a slightly earlier iteration, but the same concept):</p>
<p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/peXFqVMugO4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>Also, just for fun, I did some <a href="https://incoherency.co.uk/blog/stories/freecad-fea.html">FEA</a> on the spiral spring
design, and it behaved just like the real version:</p>
<p><a href="https://img.incoherency.co.uk/2724"><img src="https://img.incoherency.co.uk/2724"></a></p>
<p>The red areas show the areas of highest stress, and indeed the springs tend to break around
the middle of the spiral.</p>
<h2>Print your own</h2>
<p>I consider this a "release candidate" rather than a finished design, because there is still
some work to do on it (in particular, I want to make it a bit less tall). But you can have it if you want it.</p>
<p>You will need:</p>
<ul>
<li>FDM 3D printer (although I'd also be interested to see results from resin printers!)</li>
<li>PETG filament. You can try other materials. PLA works but makes for a heavier feel and breaks more quickly.</li>
<li>1.0 mm diameter copper wire, 90 mm length per switch should be more than enough</li>
</ul>
<p><a href="https://incoherency.co.uk/interest/3dpswitch-rc1.tar.gz">Download the STL files</a> and arrange them on the build plate something like this (you'll probably have to rotate the spiral spring):</p>
<p><a href="https://img.incoherency.co.uk/2750"><img src="https://img.incoherency.co.uk/2750"></a></p>
<p>I suggest printing more than 1 of the "leafspring" part as it is a small part quite likely to
have defects in the print. Make sure you're printing at
a fine enough quality level to include all the features. In particular, make sure (both) the spirals on
the spring are connected all the way around, and that the leaf spring is connected all the way
along. I use the "0.15mm QUALITY" setting in PrusaSlicer. You shouldn't need any support material.
You might need to enable "detect thin walls".</p>
<p>You might need to add up to -0.3mm of X/Y size compensation. I have found that when printing
this on the Prusa Mini, optimal clearance is achieved when the 3.0 mm plunger rides inside
a 3.0 mm hole. On previous printers I've owned, this wouldn't even fit together. I'm not sure
what's going on, but obviously I modeled it to print on my machine, so you might need to apply X/Y
compensation on yours.</p>
<p><b>Step 1:</b> Print the parts. It takes about 40 minutes for me.</p>
<p><b>Step 2:</b> Clean up any stringing inside the case from the PETG. I use a lighter to burn off the worst of it,
and then a Stanley knife to trim off what remains.</p>
<p><b>Step 3:</b> Examine the spiral spring and ensure that it moves freely. You might need to cut any
stringing between the spirals with a knife, or re-print with different X/Y compensation, depending on whether it is a few small
tight spots or bad clearance all the way along.</p>
<p><b>Step 4:</b> Slide the spiral spring into the shelf at the top of the case. The orientation is not
critical, I tend to slide it in with the smoothest sides against the case just to make life easy
for myself.</p>
<p><b>Step 5:</b> Push the plunger through the top hole in the case, through the hole in the spiral
spring, and through the middle hole in the case. Verify that it moves up and down freely and that
the spring reliably returns it to the top. If not, take it back out and trim the tight spots with
a knife.</p>
<p><b>Step 6:</b> Cut off about a 13mm length of the copper wire. Slide it into the hole in the
leaf spring. If you can't get it through, you might need to widen the hole with a pin or sharp tool of
some kind. Use whatever you have.</p>
<p><b>Step 7:</b> Press the plunger down slightly to expose the attachment end inside the lower
chamber of the switch. Using a small pair of pliers or tweezers, push the attachment part of the
leaf spring onto the end of the plunger. Make sure it is pushed home. Looking in the big hole
at the bottom of the case, you should see the leaf spring roughly centred. When you let go
of the plunger, the spiral spring should still be stretched out slightly. This is desired, without
this preload the switch would start moving at 0 force.</p>
<p><b>Step 8:</b> Cut off 2x roughly 35mm lengths of copper wire. Using a pair of pliers, put a bend about
5mm from
one end. Insert the non-bent end through 1 of the wire holes and out the other side. Bend the wire
down the other side, and then in whatever direction you want your contacts to point. Repeat for
the second wire.</p>
<p>You should now have something that looks a bit like this:</p>
<p><a href="https://img.incoherency.co.uk/2752"><img src="https://img.incoherency.co.uk/2752"></a></p>
<p>And that should be it! Manually press the switch a few times and visually verify that the middle
copper wire appears to be making good contact with the other 2 wires, and then you're ready to
assemble it into a circuit! If you want it mechanically attached to a PCB, you could leave a longer
length of wire coming out of the first side, and you'd then have 4 soldering points. Otherwise,
mount it inside a 14mm square hole. You'll probably need cut-outs in the corners to accommodate
the wires sticking out, like this:</p>
<p><a href="https://img.incoherency.co.uk/2753"><img src="https://img.incoherency.co.uk/2753"></a></p>
<p>If you make one (or more!) I'd be really interested to hear your opinion on what could be designed
better, and to see pictures of your results. Email me: <a href="mailto:james@incoherency.co.uk">james@incoherency.co.uk</a>.</p>
<h2>Next steps</h2>
<p>We're getting pretty close to being able to put together a finished keyboard. I still
have the following things to do:</p>
<h3>Testing</h3>
<p>It would be good to get an accurate value for the number of presses that the switches can take. I
think currently a lot of the variability comes from the height at which the switch is positioned
relative to the tester. If it's doing 0.1mm short of a full stroke, the switch is likely to last
significantly longer than if it is being hammered 0.1mm longer than a full stroke. This is hard to
configure as I have only very coarse control of the height.</p>
<p>I watched the Linus Tech Tips tours of <a href="https://www.youtube.com/watch?v=Pu1gP4PfqCQ">the
Cherry MX factory</a> and <a href="https://www.youtube.com/watch?v=9fNiJKh6q-E">the Omron factory</a>. They're both interesting and worth watching. I took a screenshot of this testing machine in the
Omron video:</p>
<p><a href="https://img.incoherency.co.uk/2712"><img src="https://img.incoherency.co.uk/2712"></a></p>
<p>So there we have a single motor raising a platform up and down which is pressing 10 switches
at once. The platform glides on a pair of linear rails, and the exact vertical position of the press
is finely adjusted with a separate screw for each switch. The moving platform also has
a spring at each end, I am not completely sure why, I think just to take up some of its weight, to
reduce the load on the motor.</p>
<p>But this is a much better way to gang-test switches than what I have at the moment, which involves
wiring up a separate motor for each switch and gets messy quickly:</p>
<p><a href="https://img.incoherency.co.uk/2755"><img src="https://img.incoherency.co.uk/2755"></a></p>
<p>I'm past the point where more testing is critical (famous last words, I know), but it would be good
to do anyway, so I'd like to make a small-scale copy of the Omron testing machine.</p>
<h3>Switches</h3>
<p>The switch fits in a 14mm square hole (apart from the protruding wires), which is the same size
as a Cherry MX switch, but the total height from the bottom of the switch to the top of the keycap
is almost twice as large, about 45 mm vs 25 mm:</p>
<p><a href="https://img.incoherency.co.uk/2757"><img src="https://img.incoherency.co.uk/2757"></a></p>
<p>This directly translates to increased keyboard height, so it would be good to cut this down
as much as possible. I should be able to lose 2 mm from the wire support at the bottom of the switch,
and another 1 or 2 mm in the height of the leaf spring attachment, but there's no way it's going to be
as thin as the Cherry MX.</p>
<p>I'd like to find a way to add a tactile bump (ideally with a clicky noise) to the motion of
the plunger. I did try simply adding a bump to the side of the casing that would catch on the
leaf spring, but it didn't work very reliably.</p>
<h3>Keycaps</h3>
<p>Currently my keycaps are based on the one I designed in <a href="https://incoherency.co.uk/blog/cad-dojo/stories/keycap.html">my
CAD Dojo project</a>. This is suboptimal for several reasons:</p>
<ol>
<li>adding text in FreeCAD is extremely time-consuming, and it can't be edited without deleting it ‚Ä¶</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://incoherency.co.uk/blog/stories/3pct-keyboard.html">https://incoherency.co.uk/blog/stories/3pct-keyboard.html</a></em></p>]]>
            </description>
            <link>https://incoherency.co.uk/blog/stories/3pct-keyboard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748660</guid>
            <pubDate>Mon, 06 Jul 2020 15:03:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Panic! Better, Fewer, Syntax Errors for LR Parsers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23748582">thread link</a>) | @matt_d
<br/>
July 6, 2020 | https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/ | <a href="https://web.archive.org/web/*/https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

<p><strong>Abstract</strong>  
<span>Syntax errors are generally easy to fix for humans, but not for parsers in general nor LR parsers in</span>
<span>particular. Traditional ‚Äòpanic mode‚Äô error recovery, though easy to implement and applicable to</span>
<span>any grammar, often leads to a cascading chain of errors that drown out the original. More</span>
<span>advanced error recovery techniques suffer less from this problem but have seen little practical use</span>
<span>because their typical performance was seen as poor, their worst case unbounded, and the</span>
<span>repairs they reported arbitrary. In this paper we introduce the </span><span>CPCT</span><span>+</span>  <span>algorithm, and an</span>
<span>implementation of that algorithm, that address these issues. First, </span><span>CPCT</span><span>+</span> <span>reports the complete set of</span>
<span>minimum cost repair sequences for a given location, allowing programmers to select the one that</span>
<span>best fits their intention. Second, on a corpus of 200,000 real-world syntactically invalid Java</span>
<span>programs, </span><span>CPCT</span><span>+</span>  <span>is able to repair 98.37%</span><span>¬±</span><span>0.017% </span><span>of files within a timeout of 0.5s. Finally,</span>
<span>CPCT</span><span>+</span> <span>uses the complete set of minimum cost repair sequences to reduce the cascading error</span>
<span>problem, where incorrect error recovery causes further spurious syntax errors to be identified.</span>
<span>Across the test corpus, </span><span>CPCT</span><span>+</span> <span>reports 435,812</span><span>¬±</span><span>473 </span><span>error locations to the user, reducing the</span>
<span>cascading error problem substantially relative to the 981,628</span><span>¬±</span><span>0 </span><span>error locations reported by panic</span>
<span>mode.</span>
</p>

<h3><span>1</span> <a id="x1-10001"></a>Introduction</h3>
<!--l. 131--><p>Programming is a humbling job which requires acknowledging that we will make untold errors in
our quest to perfect a program. Most troubling are semantic errors, where we intended the
program to do one thing, but it does another. Less troubling, but often no less irritating, are
syntax errors, which are generally minor deviances from the exacting syntax required by a
compiler. So common are syntax errors that parsers in modern compilers are designed to cope
with us making several: rather than stop on the first syntax error, they attempt to
<span>recover </span>from it. This allows them to report, and us to fix, all our syntax errors in one
go.
</p><!--l. 141--><p>When error recovery works well, it is a useful productivity gain. Unfortunately, most current
error recovery approaches are simplistic. The most common grammar-neutral approach to error
recovery are those algorithms described as ‚Äòpanic mode‚Äô (e.g.&nbsp;[<a href="#Xholub90compilerdesign">13</a>, p.&nbsp;348]) which skip input until
the parser finds something it is able to parse. A more grammar-specific variation of this
idea is to skip input until a pre-determined synchronisation token (e.g. ‚Äò;‚Äô in Java) is
reached&nbsp;[<a href="#Xdegano95comparison">8</a> , p.&nbsp;3], or to try inserting a single synchronisation token. Such strategies are
often unsuccessful, leading to a cascade of spurious syntax errors (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an
example). Programmers quickly learn that only the location of the first error in a file ‚Äì not
the reported repair, nor the location of subsequent errors ‚Äì can be relied upon to be
accurate.
</p>
                                                                            
                                                                            
<hr><div>
                                                                            
                                                                            
                                                                            
                                                                            
<div><div><table id="TBL-1"><colgroup id="TBL-1-1g"><col id="TBL-1-1"><col id="TBL-1-2"></colgroup><tbody><tr id="TBL-1-1-"><td id="TBL-1-1-1"> <!--l. 159--><!--l. 160--><p><span>(a)</span> </p> </td><td id="TBL-1-1-2"> <div><!--l. 166-->
<p><span><a id="x1-1002r1"></a></span><span>class</span><span>&nbsp;</span><span>C</span><span>&nbsp;</span><span>{</span><span>&nbsp;</span><br><span><a id="x1-1003r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1004r3"></a></span><span>}</span>
</p>
  </div>                         </td>
</tr><tr id="TBL-1-2-"><td id="TBL-1-2-1"> <!--l. 173--><!--l. 175--><p><span>(c)</span> </p></td><td id="TBL-1-2-2"> <div><!--l. 181-->
<p><span><a id="x1-1006r1"></a></span><span>Parsing</span><span>&nbsp;</span><span>error</span><span>&nbsp;</span><span>at</span><span>&nbsp;</span><span>line</span><span>&nbsp;</span><span>2</span><span>&nbsp;</span><span>col</span><span>&nbsp;</span><span>9.</span><span>&nbsp;</span><span>Repair</span><span>&nbsp;</span><br><span>
<a id="x1-1007r2"></a></span><span>sequences</span><span>&nbsp;</span><span>found</span><span>:</span><span>&nbsp;</span><br><span><a id="x1-1008r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>1:</span><span>&nbsp;</span><span>Delete</span><span>&nbsp;</span><span>y</span><span>&nbsp;</span><br><span>
<a id="x1-1009r4"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>2:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>,</span><span>&nbsp;</span><br><span><a id="x1-1010r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>3:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>=</span>
</p>
  </div>                         </td>
</tr></tbody></table></div>
</div><div><div><table id="TBL-2"><colgroup id="TBL-2-1g"><col id="TBL-2-1"><col id="TBL-2-2"></colgroup><tbody><tr id="TBL-2-1-"><td id="TBL-2-1-1"> <!--l. 195--><!--l. 197--><p><span>(b)</span> </p> </td><td id="TBL-2-1-2"> <div><!--l. 203-->
<p><span><a id="x1-1012r1"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>‚Äô;‚Äô</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1013r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1014r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span><span>&nbsp;</span><br><span>
<a id="x1-1015r4"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>&lt;</span><span>identifier</span><span>&gt;</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1016r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1017r6"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span>
</p>
  </div>                           </td>
</tr></tbody></table></div></div><p><span>
<span>Figure</span><span>&nbsp;1:  </span></span><span><span>An example of a simple, common Java syntax error (</span><a href="#x1-1001r1"><span>a</span></a><span>) and the problems traditional</span>
<span>error recovery has in dealing with it. </span><span>javac </span><span>(</span><a href="#x1-1011r2"><span>b</span></a><span>) spots the error when it encounters ‚Äò</span><span>y</span><span>‚Äô. Its error</span>
<span>recovery algorithm then repairs the input by inserting a semicolon before ‚Äò</span><span>y</span><span>‚Äô (i.e.</span><span>&nbsp;making the input</span>
<span>equivalent to ‚Äò</span><span>int x; y;</span><span>‚Äô). This then causes a spurious parsing error, since ‚Äò</span><span>y</span><span>‚Äô on its own is not</span>
<span>a valid statement. The </span><span>CPCT</span><span>+</span>  <span>error recovery algorithm we introduce in this paper produces the</span>
<span>output shown in (</span><a href="#x1-1005r3"><span>c</span></a><span>): after spotting an error when parsing encounters ‚Äò</span><span>y</span><span>‚Äô, it uses the Java grammar</span>
<span>to find the complete  set  of  minimum  cost  repair  sequences  (unlike  previous  approaches  which</span>
<span>non-deterministically find one minimum cost repair sequence). In this case three repair sequences</span>
<span>are reported to the user: one can delete ‚Äò</span><span>y</span><span>‚Äô entirely (‚Äò</span><span>int x;</span><span>‚Äô), or insert a comma (‚Äò</span><span>int x, y;</span><span>‚Äô), or</span>
<span>insert an equals sign (</span><span>‚Äòint x = y;‚Äô</span><span>).</span>
</span></p><!--tex4ht:label?: x1-1018r1 -->
                                                                            
                                                                            
</div><hr>
<!--l. 233--><p>It is possible to hand-craft error recovery algorithms for a specific language. These
generally allow better recovery from errors, but are challenging to create. For example,
the Java error recovery approach in the Eclipse IDE is 5KLoC long, making it only
slightly smaller than a modern version of Berkeley Yacc ‚Äî a complete parsing system!
Unsurprisingly, few real-world parsers contain effective hand-written error recovery
algorithms.
</p><!--l. 240--><p>Most of us are so used to these trade-offs (cheap generic algorithms and poor recovery
vs.&nbsp;expensive hand-written algorithms and reasonable recovery) that we assume them to be
inevitable. However, there is a long line of work on more advanced generic error recovery
algorithms. Probably the earliest such algorithm is Aho and Peterson&nbsp;[<a href="#Xaho72minimum">1</a>], which, upon
encountering an error, creates on-the-fly an alternative (possibly ambiguous) grammar which
allows the parser to recover. This algorithm has fallen out of favour in programming
language circles, probably because of its implementation complexity and the difficulty of
explaining to users what recovery has been used. A simpler family of algorithms, which
trace their roots to Fischer <span>et al.</span>&nbsp;[<a href="#Xfischer79locally">11</a>], instead try to find a single minimum cost <span>repair</span>
<span>sequence </span>of token insertions and deletions which allow the parser to recover. Algorithms in
this family are much better at recovering from errors than naive approaches and can
communicate the repairs they find in a way that humans can easily replicate. However, such
algorithms have seen little practical use because their typical performance is seen as
poor and their worst case unbounded [<a href="#Xmckenzie95error">17</a>, p.&nbsp;14]. We add a further complaint: such
approaches only report a single repair sequence to users. In general ‚Äì and especially in
syntactically rich languages ‚Äì there are multiple reasonable repair sequences for a given
error location, and the algorithm has no way of knowing which best matches the user‚Äôs
intentions.
</p><!--l. 261--><p>In this paper we introduce a new error recovery algorithm in the Fischer <span>et al. </span>family, <span>CPCT</span><span>+</span>.
This takes the approach of Corchuelo <span>et al.</span>&nbsp;[<a href="#Xcorchuelo02repairing">5</a>] as a base, corrects it, expands it, and
optimises its implementation. <span>CPCT</span><span>+</span> is simple to implement (under 500 lines of Rust
code), is able to repair nearly all errors in reasonable time, reports the complete set of
minimum cost repair sequences to users, and does so in less time than Corchuelo <span>et</span>
<span>al.</span>.
</p><!--l. 269--><p>We validate <span>CPCT</span><span>+</span> on a corpus of 200,000 real, syntactically incorrect, Java programs
(Section&nbsp;<a href="#x1-140006">6<!--tex4ht:ref: experiment --></a>). <span>CPCT</span><span>+</span> is able to recover 98.37%<span>¬±</span><span>0.017% </span>of files within a 0.5s timeout and does so
while reporting fewer than half the error locations as a traditional panic mode algorithm: in other
words, <span>CPCT</span><span>+</span> substantially reduces the cascading error problem. We also show ‚Äì for, as far as we
know, the first time ‚Äì that advanced error recovery can be naturally added to a Yacc-esque
system, allowing users to make fine-grained decisions about what to do when error recovery has
been applied to an input (Section&nbsp;<a href="#x1-180007">7<!--tex4ht:ref: sec:api --></a>). We believe that this shows that algorithms such as <span>CPCT</span><span>+</span>
are ready for wider usage, either on their own, or as part of a multi-phase recovery
system.
</p>
<h4><span>1.1</span> <a id="x1-20001.1"></a>Defining the problem</h4>
<!--l. 285--><p>Formally speaking, we first test the following hypothesis:
</p><!--l. 287--><dl><dt>
<span>H1</span></dt><dd>The complete set of minimum cost repair sequences can be found in acceptable time.</dd></dl>
                                                                            
                                                                            
<!--l. 292--><p>The only work we are aware of with a similar concept of ‚Äòacceptable time‚Äô is&nbsp;[<a href="#XdeJonge12natural">6</a>], who define it
as the total time spent in error recovery per file, with a threshold of 1s. We use that
definition with one change: Since many compilers are able to fully execute in less than 1s,
we felt that a tighter threshold is more appropriate: we use 0.5s since we think that
even the most demanding users will tolerate such a delay. We strongly validate this
hypothesis.
</p><!--l. 300--><p>The complete set of minimum cost repair sequences makes it more likely that the programmer
will see a repair sequence that matches their original intention (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an example;
Appendix&nbsp;<a href="#x1-28000A">A<!--tex4ht:ref: app:examples --></a> contains further examples in Java, Lua, and PHP). It also opens up a new
opportunity. Previous error recovery algorithms find a single repair sequence, apply that to the
input, and then continue parsing. While that repair sequence may have been a reasonable local
choice, it may cause cascading errors later. Since we have the complete set of minimum
cost repair sequences available, we can select from that set a repair sequence which
causes fewer cascading errors. We thus rank repair sequences by how far they allow
parsing to continue successfully (up to a threshold ‚Äî parsing the whole file would, in
general, be too costly), and choose from the subset that gets furthest (note that the
time required to do this is included in the 0.5s timeout). We thus also test a second
hypothesis:
</p><!--l. 315--><dl><dt>
<span>H2</span></dt><dd>Ranking the complete set of minimum cost repair sequences by how far they allow
parsing to continue locally reduces the global cascading error problem.</dd></dl>
<!--l. 321--><p>We also strongly validate this hypothesis. We do this by comparing ‚Äònormal‚Äô <span>CPCT</span><span>+</span> with a
simple variant <span>CPCT</span><span>+</span><span>rev</span> which reverses the ranking process, always selecting from amongst the
worst ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</a></em></p>]]>
            </description>
            <link>https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748582</guid>
            <pubDate>Mon, 06 Jul 2020 14:56:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Visual Comparison of macOS Catalina and Big Sur]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23748563">thread link</a>) | @tomduncalf
<br/>
July 6, 2020 | https://www.andrewdenty.com/blog/2020/07/01/a-visual-comparison-of-macos-catalina-and-big-sur.html | <a href="https://web.archive.org/web/*/https://www.andrewdenty.com/blog/2020/07/01/a-visual-comparison-of-macos-catalina-and-big-sur.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/BlogPosting">

<div itemprop="articleBody">
<p><img src="https://www.andrewdenty.com/blog/assets/img/catalina-vs-big-sur.jpg" alt="Catalina vs Big Sur">
This post is an attempt to provide a visual comparison of pretty dramatic UI changes between macOS Catalina and Big Sur.</p>
<p>Why did I end up doing this? Well, this week I installed the developer beta of macOS Big Sur as I was curious what impact the new UI would have on the <a href="https://www.andrewdenty.com/airtame-desktop-app.html">app I currently design</a>. I wanted to make sure my team was ahead of any coming changes as we were burned by changes in last year‚Äôs release of Catalina.</p>
<p>I found myself taking lots of screenshots to try and track the changes and thought this might be worth sharing. I decided to carry out a quick catalogue of the UI changes as this may be helpful to other people getting ready for macOS Big Sur.</p>
<p>All of the screenshots below are taken on a default install of macOS and the Catalina version is always on the left. I made a conscious effort not to resize any windows or change any default settings. I haven‚Äôt captured everything, but it is a good taste of the changes so far.</p>
<h2 id="first-impressions">First impressions</h2>


<p>At first glance macOS is a lot more colourful with, and the biggest obvious change is the bright, slightly more cartoonish iOS shaped icons. Everything is more rounded and it feels like everything has gotten a little bigger. Could this be the first hint that macOS is preparing for touch support in the future? One interesting tidbit, is that even though the icons are based around the capsule shape, many of them (like Contacts, or Preview) have elements which protrude from them giving an extra feeling of depth.</p>
<h2 id="finder-and-preview">Finder and Preview</h2>
<p>Finder sees some significant changes. Of all the places I think Apple needs to get the new UI spot on, is Finder. Overall the default size of Finder seems to be bigger in macOS Big Sur.</p>


<p>One thing that struck me at this point is that Finder looks a mess with many of the more advanced features enabled. The bottom screenshot shows Finder with a Path Bar, Status Bar and multiple tabs. To me, it seems like the design team have not yet been able to find a way to elegantly integrate these elements into the iOS inspired UI.</p>
<p>One final thing to note is that in Finder the search bar at the top right has been replaced with a search icon that expands when clicked. This change seems a little inconsistent as it‚Äôs not made it to Preview. I can guarantee this will result in fewer people discovering Finder‚Äôs Spotlight search goodness.</p>
<h2 id="preferences">Preferences</h2>
<p>Preferences sees quite a lot of change in some areas.
The Dock preferences pane has become ‚ÄúDock and Menu Bar‚Äù and now integrates controls for the new macOS control center. It uses a nicely integrated sidebar to manage different categories.</p>
<p>It‚Äôs a shame that this sidebar hasn‚Äôt yet made it to other parts of the preferences UI with Network and Notifications still using a very old looking sidebar.</p>
<p>One aspect of preferences that has been quite controversial (on Twitter at least) is the new icons. I‚Äôm going to hold off judgement for now as they don‚Äôt yet look finished. For example, the Notifications icon does not even support retina displays.</p>


<p>You‚Äôll notice that the Startup Disk pane uses apples new dialog box UI. This is quite a departure from the existing drop-down - it feels much more iOS-like.</p>
<h2 id="menu-bar-and-notification-center">Menu Bar and Notification Center</h2>
<p>This is one of the areas where macOS has changed the most. It‚Äôs also difficult to take decent screenshots of both of these. Control Center looks like it‚Äôs been badly photocopied and the Notification Center in Catalina has a bug whereby it renders at double it‚Äôs normal width.</p>
<p>What was obvious within a few minutes of use was that the Control Center is a massive improvement on Catalina‚Äôs row of scattered Menu bar icons. The updated WiFi menu is also a massive improvement, as the old list could easily be overwhelming with the number of WiFi networks displayed.</p>
<p>I‚Äôm less convinced that the Notification Center is easier to use though. Now it has no background, there is less to separate a list of notifications from my messy desktop!</p>
<p>I will try and get better screenshots for this section and update it in the near future.</p>


<h2 id="safari">Safari</h2>





<h2 id="reminders">Reminders</h2>


<h2 id="notes">Notes</h2>
<p>The biggest news in Notes is that after years, the Skeuomorphic paper texture has finally been retired!</p>


<h2 id="photos">Photos</h2>


<h2 id="apple-music-and-podcasts">Apple Music and Podcasts</h2>
<p>Music and Podcasts were brand new last year with the release of Catalina. It‚Äôs obvious that the new UI has been planned for a while as Apple Music and Podcasts are mostly indistinguishable from their initial Catalina release. For example both apps already include the new full height sidebar.</p>
<p>For me this illustrates a bigger point that <a href="https://twitter.com/stevesi/status/1275311056672325633" target="_blank">Steven Sinofsky recently made on Twitter</a> - that Apple is executing a meticulous multi-year strategy.</p>


<p>One area where changes are evident are is in preferences windows. Both apps make use of Apple‚Äôs new accent colour and new glyph icon library.</p>
<h2 id="other-bundled-apps">Other bundled apps</h2>
<p>It was impossible to go into depth with every single bundled app. On the whole, the updates to Maps, Books and Mail all look solid with extensive use of the new sidebar.</p>


<h2 id="utilities">Utilities</h2>
<p>Both Activity Monitor and Disk Utility have received a new style toolbar. As with Finder, there are no longer any rows meaning all elements are at the same level. On first impressions, I feel this is a little visually confusing and makes it harder to scan. The search field also loses a lot of its contrast.</p>
<p>Unsurprisingly Terminal is almost unchanged.</p>



<h2 id="almost-unchanged">Almost unchanged</h2>
<p>On the subject of unchanged apps, there were a number of other apps that are so far relatively unchanged.</p>
<p>Siri in macOS Big Sur shows no apparent changes. I think this is a little strange considering the overhaul Siri is receiving in iOS 14. There don‚Äôt even seem to be any radius changes to the borders.</p>
<p>The most extreme case of no change is Stickies. It‚Äôs completely identical between both releases. What‚Äôs more, I don‚Äôt think it‚Äôs changed much since MacOS 9 judging from its weird, retro controls.</p>


<p>Boot Camp is also practically unchanged, although this is perhaps unsurprising given Apple‚Äôs move to Apple Silicon, so presumably Boot Camp‚Äôs days are numbered. It did receive a new icon though.</p>
<h2 id="takeaways">Takeaways</h2>
<p>Overall, the UI changes in macOS aren‚Äôt as dramatic as I was expecting. Big Sur‚Äôs new UI feels like a largely incremental set of changes to make macOS feel more coherent with iOS and iPad OS. Even if there are a few teething issues and the look is a little jarring at first, this has to be a good thing in the long-term.</p>
<p>Having said that, Apple still has a vast amount of work to do to perfect the new macOS UI. It unsurprising as this is the first developer beta, but there are still many rough edges.</p>
<p>I hope in the long term they focus on creating consistent patterns: for example for the first launch experience of apps. Right now there are several different layouts and approaches to this UI. I also hope Apple don‚Äôt leave pro users behind. Right now some of the less frequently used UI elements such as status bars and path bars look a little unloved. They don‚Äôt feel well integrated into the UI and in some cases lack visual separation.</p>
<p>If you‚Äôre interested in reading even more about the design changes in macOS Big Sur, Cult of Mac have <a href="https://www.cultofmac.com/715717/fantastic-fugly-all-new-app-icons-macos-big-sur/" target="_blank">a comprehensive overview of the new icons</a>.</p>
</div>
</article></div>]]>
            </description>
            <link>https://www.andrewdenty.com/blog/2020/07/01/a-visual-comparison-of-macos-catalina-and-big-sur.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748563</guid>
            <pubDate>Mon, 06 Jul 2020 14:55:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build to learn ‚Äì tame your shiny object syndrome]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 4 (<a href="https://news.ycombinator.com/item?id=23748435">thread link</a>) | @BartBoch
<br/>
July 6, 2020 | https://almostcake.com/buildToLearn.php | <a href="https://web.archive.org/web/*/https://almostcake.com/buildToLearn.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
                        It sounds simple, yet, it's challenging.<br>
<b>"Build to learn."</b><br>
It's a fantastic tool for chaotic minds.<br>
A way to benefit from your shortcomings.<br>
If you ever fell for the shiny object syndrome (chasing new cool thing, instead of focusing on the present project), then this is for you!
And the best part - you can turn it to your advantage!<br>
Turn it to build momentum, to become a better, wiser, fuller person.</p><p>

When you fell for the shiny, new, better idea, you could've gone through the guilt and growing anxiety for not finishing things.<br>
For some of us, this could end up in depression or/and quitting the whole "maker" realm.<br>
In this post, I will provide you a valid solution to make the most out of the shiny object syndrome. If you have it, at least you can get something positive out of it.<br>
The method, disguised under many names, sometimes called "build to learn," "build to fail," "ship to learn," is meant to make the most of your nature of jumping between the projects.<br>
It's also a way for you to grow as a builder and founder.</p><p>

I first started flirting with the idea independently - then, I found out that there is a micro-movement of sorts doing the same.<br>
Two main places are hubs for this, New York and Silicon Valley. Only there you could try to hack success and look for possible anomalies to benefit from, and still get support from your social circles!<br>
It's evident that financial capital (New York) is much less flexible about it (cross the border and you are gone) than Silicon Valley (cross the border, let's hire him, he might know something we don't).<br>
And then, culture and social conveniences are limiting this movement elsewhere, causing people to quit.<br>
Sadly - if you are from outside of those areas - how can you explain to people around that success is not your goal, and failure is acceptable?<br>
It's easy to treat people trying this method like fakes or daydreamers.<br>
When you go to college and spend 3-5 years learning, then you are a smart person.<br>
If you do the same, but in real life, you might be seen as an outsider.</p><p>

Let's get to the point, though!<br>
The idea is quite simple but might be tricky to pull it off.<br>
It's based on you abandoning the goal of achieving success while focusing on educational aspects.<br>
To create projects that you will stretch and experiment to gain knowledge with a slight chance of success.<br>
So next time you see great opportunity, instead of wondering how you can ride it to the top, wonder what you can get out of it short term.<br>
Will it give you more knowledge?<br>
If so, then how?<br>
Is it worth "educational" wise?<br>
Will you learn new tech/marketing/business knowledge that would be difficult to obtain otherwise?</p><p>

The worst part of working on a project and then quitting it is to get nothing from it.<br>
Sure, we can read a lot of post-mortems, but many say the same things. They ignore the whole process and often end up in a cliche, like "a startup doing exactly this opened at the same time."<br>
And how can you learn from reading the same things over and over?<br>
Going through the process while closely observing everything that happens is key to extensive experience.<br>
Practical knowledge always beats the theoretical.</p><p>

"Build to learn" is about being practical - using theory as a ground, and then build using practical knowledge.<br>
But instead of building a castle, or a palace, we create a set of small constructions first to learn the basics.<br>
Once we can handle the basics, we move to more advanced stuff.<br>
Sooner or later, we will be building the mentioned castles!<br>
If you think you might end up building dozens of projects in search of your success story, you might accept that instead of lying to yourself, and get the most of it.<br>
There is nothing worst than wasting your talents on something meaningful.<br>
Try to push forward; you might finally realize what your real goal is. What's behind your deepest intentions.</p><p>

"Build to learn" is meant to fuel your creativity, not to kill it.<br>
The first step of it is to put a clear goal:<br>
"I build this to learn."<br>
Assume that trophies and achievements are secondary goals.<br>
After all, every major player like Mark Zuckerberg, Steve Jobs, or Richard Branson started with small projects (sometimes failing), then used the knowledge to build something big!</p><p>

Force yourself to break your ego-infused box and look outside of it, to see what are real reasons for you to fail. Learn and keep trying to understand the events happening around you.<br>
You might find out the shortcomings that were unnoticeable!</p><p>

With this reasoning, don't be afraid to keep trying (as long as you won't bet everything on it). Fail, embrace the knowledge you get from it, grow your own self, and be a better person.<br>
Don't fall in the trap of glorifying the failures though - praise the experience instead.<br>
Don't build another shiny project to be the next unicorn company. When you are ready to make the next big thing, you'll know it (and feel it). There will be no guessing, no wondering (at least in the way you see now). There will be calculation and logic behind it.</p><p>

<b>"Experience is simply the name we give our mistakes."</b> - Oscar Wilde.</p><p>

World culture is critical of repeatable failure, even for a good cause.<br>
Fail once - at least you tried, fail twice - you are a fool.<br>
The social pressure is probably the most challenging part of this method.<br>
If success (or at least how people perceive success) is not achieved, you will be labeled as an outsider or even a loser.<br>
Missing a common goal (becoming wealthy) is perceived as an overall failure.<br>
You cannot really translate the perception of failure to make it look normal.<br>
You risk getting your close ones to be skeptical and even cynical of your journey. In extreme cases, I know situations where close circles would turn aggressive against the "rule breaker."<br>
The more "failures" you "achieve," the more negative the overall attitude of the society around you will be.<br>
It's not an easy road, but it's fruitful, to say the least.<br>
You can achieve a level of understanding, where you will see ALL the mechanics behind the money-making machinery.</p><p>

There are some risks when doing this method (as with everything).<br>
Do it for not long enough, and you can get overconfident and biased.<br>
Do it for longer than you should, and you will need months to get out from the trap of setting yourself impossible challenges.<br>
Out of around dozens of people following this method (that I knew directly that is, I assume there are thousands globally), only a few completed it.<br>
Some of them quit due to social pressure (even from their partners). They still got something out of it, and all but one run a small business now (they are unable to scale/grow though).<br>
The rest created profitable companies, often one of the key players in their industry.<br>
From the original group, I was the one that took the longest to complete the road. This is because of the opportunity given to me. My partner was studying, so I did not need to focus on sorting our life as of yet. And I felt that I needed to learn more (programming, viral growth) and to make sure that my ego is under control. I needed more time because my whole life was bumpy, and I thought that some scars could affect my business sense.<br>
I did miss a deadline, though, where I could complete this process without the substantial side-effects.<br>
I knew from conversations with others that by doing this method for too long, you would need to unwind. I thought it would take 2-3 months, but I am in my 9th month, and I feel that I need 2-3 more. Don't get me wrong, I still make money online, but focusing on a small project that's growing slowly is critical to prepare myself mentally for starting massive projects.<br>
I am working on <b>Almost <span>Cake</span></b>, which quickly turned into my full-time job.<br>
<b>Almost <span>Cake</span></b> is a reanimation of one of my old build-to-learn projects that performed well. This is another excellent part of this method - you have a set of field-tested projects, where some might prove to be moneymakers.</p><p>

It took me a few years, and over 30 projects completed to get where I am now, but as said, I did the extreme version of it.<br>
One of the guys that now run a massive operation did 4 "build to learn" projects and spent 1,5 year before he moved ahead (he had some business background though).<br>
Another person with no business experience and with no business-oriented parents completed it with 7 projects and 3 years. He now runs a company that's one of the USA's leading players in his niche.<br>
So, it's hard to say how long you need this run, but the timeframe should not be of the importance here.<br>
The whole point of this method is to tame yourself and start getting somewhere with yourself.</p><p>

The key concerns of "build to learn" are:<br>
-Can you finish the project before you get bored of it? Don't invest in long term projects, when you have a track of abandoning them. You don't need to ship the product or make thousands of dollars. Focus on your initial goals first.<br>
-Can you determine small goals before starting to work on the product? Can you identify a few realistic things you want to get out of this project?<br>
-Will working on this project help you to move forward in a space you want to? If you will learn things you don't feel you need, then maybe it's better to focus elsewhere for now.<br>
-Do you really need to work on the project, or should you turn around and do something completely different? Something that is far beyond your comfort zone?<br>
-Do you have significant chances of achieving your goals with this project? Try not to pursue goals that you assume you will fail. You need to take care of your mental health and not put to much strain on it.</p><p>

Using the "build to learn" method should not become an excuse for you failing to ship. Either you build to learn, or you build to achieve something. You should never go in the middle of the project and say, "just kidding, I was doing it to learn."</p><p>

Sure, if you are already in the middle of the project, then change your goals. But don't do this for future ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://almostcake.com/buildToLearn.php">https://almostcake.com/buildToLearn.php</a></em></p>]]>
            </description>
            <link>https://almostcake.com/buildToLearn.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748435</guid>
            <pubDate>Mon, 06 Jul 2020 14:44:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Addio Redis, I'm leaving Redis Labs]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23748190">thread link</a>) | @kristoff_it
<br/>
July 6, 2020 | https://kristoff.it/blog/addio-redis/ | <a href="https://web.archive.org/web/*/https://kristoff.it/blog/addio-redis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Thanks Antirez for the code, the Redis manifesto, and for the free karma especially.</p><div><p>Last week I resigned from my position as developer advocate at Redis Labs.</p>
<p>I‚Äôve never talked much about Redis on this blog because I made a point of trying to write interesting posts about different topics, and also to avoid any form of conflict of interest: I didn‚Äôt want people to think this blog was being used as a marketing outlet by Redis Labs.</p>
<p>Now that I‚Äôm not with the company anymore, I‚Äôm looking forward to sharing some of my thoughts on open-source software and related topics, using the direct and energetic tone that I always employ here. </p>
<p>This was the first job I took that wasn‚Äôt strictly about programming. It taught me a lot about communication, how information flows between groups of people, and how companies try to shape that flow.</p>
<p>While Redis Labs as a company isn‚Äôt perfect ‚Äî I wouldn‚Äôt have left otherwise, and it wouldn‚Äôt have hired me in the first place, as I‚Äôm not perfect either ‚Äî I‚Äôm happy with my experience overall. The one regret I have is that my position was in part meant to help the community better understand Redis, and I‚Äôm leaving behind me basically the same level of confusion that was there when I joined 1.5 years ago.</p>
<p>Redis is less obvious to describe than other tools in the same space, but that alone is not enough to explain why no one seems to agree on what Redis is good at, or what even is Redis. To me, the current situation seems caused by an ongoing turf war between tech companies, starting from the direct competitors of Redis Labs, up to the Cloud giants, who see themselves as the ultimate gatekeepers of modern software architecture.</p>
<p>Each of these factions wants Redis to be a different thing, and so they spend their budget accordingly, starting from developer advocates like me, up to de-facto astroturfers that I‚Äôll leave unnamed. While you and I, dear reader, are surely immune to marketing and scummy tactics, those techniques do work wonders on the public, and the strength of true statements is only used as a way of making marketing spend more efficient.</p>
<p>This is where I imagined I would spell out my take on Redis, but <a href="http://antirez.com/news/133" target="_blank" rel="nofollow noopener noreferrer">now that Antirez has left the project</a>, it doesn‚Äôt matter anymore. Whatever Redis is going to be in the future, it will be shaped by sales tactics, whatever the Clouds are going to do next, and other uninspired metrics.</p>
<p>Since this is my goodbye post to Redis, let me add an over-the-top Italian skit before jumping into the lessons learned.</p>
<h2 id="if-redis-were-pasta"><a href="#if-redis-were-pasta" aria-label="if redis were pasta permalink"></a>If Redis were pasta</h2>
<p>If Redis were pasta, it would be served in a restaurant called Salvatore‚Äôs. It would be a plate of spaghetti with tomato sauce and a single leaf of basil on top; basically the Italian symbol for a simple, versatile meal. </p>
<p>Big tech would be like McDonald‚Äôs and Burger King: convinced that the future of nutrition is fast-food and constantly screaming that Redis can‚Äôt be considered a real meal as it doesn‚Äôt contain any bacon: ‚ÄúCome eat our new burger, which now contains an extra 4th layer of meat, exquisitely designed to make it easier to digest the meal!‚Äù</p>
<p>On a table you would find Jepsen, essentially the equivalent of Yelp, ideally meant to keep restaurants honest, generally correct, but ultimately not that different from other tech companies, and thus well deserving of <a href="https://www.youtube.com/watch?v=pDlR_ccnZww" target="_blank" rel="nofollow noopener noreferrer">boogers and cum</a>.</p>
<p>Antirez, largely preferring cooking over serving, would end up selling the restaurant to the waiters, who at that point would make their priority to turn the restaurant into an Olive Garden.</p>
<h2 id="lessons-learned"><a href="#lessons-learned" aria-label="lessons learned permalink"></a>Lessons learned</h2>
<p>So where‚Äôs the Redis community in this story? Well, those are just the silent, mostly anonymous regulars that come, eat, and then go on with their lives. </p>
<p>It‚Äôs the people that occasionally show up on HN and point out that they‚Äôre happy with what Redis does for them, and that they rarely think about it even, as the software tends to chug along nicely. As much as I sympathize with them, the ultimate lesson I learned is that a passive community will inevitably lead to the death of a project.</p>
<p>While the ‚Äú<a href="https://news.ycombinator.com/item?id=23690123" target="_blank" rel="nofollow noopener noreferrer">spontaneus software</a>‚Äù world is busy infighting, big tech is systematically strip-mining it of any value, even when 99% of the value gets lost in the process. Tech companies are willing to go to any length to capture that 1%, and over time have learned to use Free software arguments against Free software itself, to ensure nobody would stop them.</p>
<p>The future of what we call today open-source software needs to learn to be in equal parts principled and pragmatic. The principles of human spontaneity must be preserved, to ensure we don‚Äôt turn in yet another fast-food chain, but we must understand that sophisticated ethical arguments require an equally sophisticated infrastructure beneath them, as without the latter the former can‚Äôt materialize into reality.</p>
<p>We need to keep our communities as much as possible engaged and invested in the success of our projects. The flow of information must be kept open and at high pressure, to ensure that our values and goals are well-understood by the majority of the community. Failing to do that means becoming servants of large donors and opening the community to all kinds of manipulations.</p>
<p>We need to reinvent the way we approach spontaneous collaboration in software and we must understand that it‚Äôs not going to be a peaceful process. Maybe it‚Äôs my native-american blood talking, but I feel I‚Äôm ready to get up close and personal with the world I dealt with for the last 1.5 years, except this time I won‚Äôt be wearing formal attire.</p>
<p><strong>I‚Äôm joining the Zig Software Foundation as VP of Community and it‚Äôs going to be my honor and pleasure to try to make all of this a reality for at least one project.</strong> If you want to follow us on this journey, <a href="https://zig.show/" target="_blank" rel="nofollow noopener noreferrer">join us Saturday 11th on Twitch for the live announcement and first fundraising</a>. It‚Äôs going to be fun and, if we hit the corresponding donation goal, I will reveal my (until now) secret recipe for a nice summer pasta. Not as simple as Salvatore‚Äôs, but pretty good nevertheless.</p>
<p>You can find more info at <a href="https://zig.show/" target="_blank" rel="nofollow noopener noreferrer">https://zig.show</a>.</p>
<figure>
    <span>
      <a href="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/fb329/IMG_5653.jpg" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f5e3c/IMG_5653.webp 100w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f2fbe/IMG_5653.webp 200w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/e227a/IMG_5653.webp 400w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/965c5/IMG_5653.webp 600w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/0cbce/IMG_5653.webp 800w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/34ef4/IMG_5653.webp 1920w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/5fb09/IMG_5653.jpg 100w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f544b/IMG_5653.jpg 200w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/41689/IMG_5653.jpg 400w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/82472/IMG_5653.jpg 600w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/a296c/IMG_5653.jpg 800w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/fb329/IMG_5653.jpg 1920w" sizes="(max-width: 400px) 100vw, 400px" type="image/jpeg">
        <img src="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/41689/IMG_5653.jpg" alt="A photo I took at the last AWS reinvent." title="Fuck you AWS.">
      </picture>
  </a>
    </span>
    <figcaption>Fuck you AWS.</figcaption>
  </figure></div></div>]]>
            </description>
            <link>https://kristoff.it/blog/addio-redis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748190</guid>
            <pubDate>Mon, 06 Jul 2020 14:23:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why is Berkshire Hathaway sitting on $137B in cash?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23747918">thread link</a>) | @sunnykgupta
<br/>
July 6, 2020 | https://eachlist.com/why-is-berkshire-hathaway-sitting-on-137-billion-in-cash/ | <a href="https://web.archive.org/web/*/https://eachlist.com/why-is-berkshire-hathaway-sitting-on-137-billion-in-cash/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://eachlist.com/why-is-berkshire-hathaway-sitting-on-137-billion-in-cash/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747918</guid>
            <pubDate>Mon, 06 Jul 2020 14:01:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Pyret Code; or a Rationale for the Pyret Programming Language]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23747849">thread link</a>) | @todsacerdoti
<br/>
July 6, 2020 | http://pyret.org/pyret-code/index.html | <a href="https://web.archive.org/web/*/http://pyret.org/pyret-code/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        <!-- Main column -->
        <div id="content">






          <div>
          
          <div>

          

          <p>We need better languages for introductory computing. A good introductory language makes good compromises between expressiveness and performance, and between simplicity and feature-richness. Pyret is our evolving experiment in this space.</p>

          <h3 id="why-not-just-use-java-python-racket-ocaml-or-haskell">Why not just use Java, Python, Racket, OCaml, or Haskell?</h3>

          <p>One of the enduring lessons from the Racket project is that <em>no full-blown, general-purpose programming language</em> is particularly appropriate for introductory education. By the time a language grows to be useful for building large-scale systems, it tends to have accumulated too many warts, odd corners, and complex features, all of which trip up students. The <a href="http://cs.brown.edu/~sk/Publications/Papers/Published/fffkf-drscheme-journal/">journal paper for DrScheme</a>  (the old name for DrRacket) explains this in some detail.</p>

          <p>In that respect, the closest fellow travelers of us Pyreteers are the Racketeers (see how that works?). In fact, the first version of Pyret was merely a <code>#lang</code> in Racket. Nevertheless, Pyret represents a departure from Racket (for now and for the near future, at least) for several reasons:</p>

          <ul>
           <li>
            <p>We wanted to experiment with syntax. Much as many of us love  parentheses, we fear that Racket will always bump into an acceptance  threshold due to its syntax. We‚Äôre delighted to see the growing  adoption in industry of languages like Racket and Clojure, and maybe  the days of paren-phobia are over. But academics are far more  hidebound than industrial programmers!</p></li>
           <li>
            <p>We wanted to build a really great run-time system for the Web browser. Going through Racket and  <a href="http://cs.brown.edu/~sk/Publications/Papers/Published/yk-whalesong-racket-browser/">Whalesong</a>  proved to be a non-starter in terms of performance, and Racket has  many features that make an efficient implementation on today‚Äôs  JavaScript very hard. Building a native JavaScript implementation  was the only option we could see. Over time, as technology changes,  this could change.</p></li>
           <li>
            <p>Though our pedagogy draws from and is very similar to that of the  Racketeers, it also diverges in some ways, reflecting the somewhat  different backgrounds and preferences of team. Pyret embodies <em>our</em>  educational philosophy. We felt we could more easily experiment if  we had a clean-slate design than if we had to keep fitting our work  into the constraints of Racket.</p></li>
           <li>
            <p>Ultimately, Racket‚Äôs <code>#lang</code> facilities, though designed to create  new languages‚Äîand a great prototyping ground for Pyret‚Äîproved to not  be quite enough to support a language creation process of the scale  of Pyret; and the need for a strong Web run-time system also meant  that we did not get enough out of the Racket ecosystem.  Nevertheless, that only represents the state of systems today; if  someday the two grew closer together, many or all of us would  rejoice.</p></li></ul>

          <h3 id="will-pyret-ever-be-a-full-fledged-programming-language">Will Pyret ever be a full-fledged programming language?</h3>

          <p>Yes.</p>

          <p>First of all, Pyret is much more powerful than you might realize. Pyret is already fully-fledged enough to self-host its compiler, which is a non-trivial and realistic challenge. What that means is, when you run Pyret in your browser, it loads JavaScript code that implements a Pyret-to-JavaScript compiler (i.e., it compiles the Pyret you type into JavaScript and runs it in the browser). This compiler was produced by the Pyret-to-JavaScript compiler by compiling the Pyret-to-JavaScript compiler. Take a look at the compiler‚Äôs <a href="https://github.com/brownplt/pyret-lang/">bootstrapping phases</a> to get a sense of its sophistication.</p>

          <p>Second, underneath Pyret is a very powerful run-time system based on over a decade of research. You don‚Äôt see it as a user of the language, and that‚Äôs the point. Many other languages expose the crippling limitations of JavaScript‚Äôs run-time to users (e.g., can‚Äôt halt a long-running computation, can‚Äôt yield control to the event loop, etc.). These languages effectively let <em>the medium become part of the message</em>, whereas we believe programmers ‚Äî especially early-stage student programmers ‚Äî should not have to confront these complexities, which are irrelevant to (and often significantly interfere with) the material they are trying to learn. Imagine if other languages said, ‚ÄúWe‚Äôd love to give you function calls, but your machine‚Äôs instruction set doesn‚Äôt contain them, so we can‚Äôt ‚Äî sorry!‚Äù Yet they do the equivalent when it comes to giving you control over your computation on top of JavaScript. In contrast, Pyret is uncompromising.</p>

          <p>Third, if you want to teach a media-rich curriculum, you actually need a pretty full-featured language at least under the hood. For instance, Pyret‚Äôs built-in support for reactive programming requires a much more sophisticated run-time system ‚Äî and corresponding language features ‚Äî than one that didn‚Äôt offer this at all or just punted to JavaScript for this support. (Essentially, event-loops are first-class entities in the language.) We just haven‚Äôt emphasized these features when talking about Pyret, focusing instead on the curriculum they support.</p>

          <p>Broadly, we view <em>building an awesome teaching language</em> as a useful design discipline that necessarily entails all the features typically expected of a mature language. When building a language, you‚Äôre constantly confronted with questions: what to do next, how to do it, and whether to do it at all. Language designers therefore need a mental framework that guides their choices. For some, it might be ‚ÄúBuild an awesome language for shared-memory concurrency!‚Äù For others it might be ‚ÄúBuild an awesome language for writing scientific computations very, very concisely!‚Äù For us, it‚Äôs ‚ÄúBuild an awesome teaching language!‚Äù So whenever we‚Äôre confronted with a design (or implementation) choice, we first ask how it would play out <em>in this specific context</em>. Then we ask how it would impact our long-term goal. We have yet to find actual contradictions between the two, but it‚Äôs certainly re-ordered priorities.</p>

          <h3 id="there-are-lots-of-kinds-of-education">There are lots of kinds of ‚Äúeducation‚Äù.</h3>

          <p>That‚Äôs right. We are focused on introductory programming education at a high-school and collegiate level ‚Äî what is often called ‚ÄúCS 1‚Äù and ‚ÄúCS 2‚Äù (roughly, the first year of college). Pyret is being actively <em>used</em> in everything from high-schools to upper-level collegiate courses, giving us a tight feedback loop.</p>

          <p>Of course, even in that setting there are differences of opinion about what needs to be taught. Some believe inheritance is so important it should be taught early in the first semester. We utterly reject this belief (as someone once wisely said, ‚Äúobject-oriented programming does not scale down‚Äù: what is the point of teaching classes and inheritance when students have not yet done anything interesting enough to encapsulate or inherit from?). Some have gone so far as to start teaching with Turing Machines. Unsurprisingly, we reject this view as well.</p>

          <p>What we do not take a dogmatic stance on is exactly how early state and types should be introduced. Pyret has the usual stateful operations. We discussed this at some length, but eventually decided an introduction to programming <em>must</em> teach state. Pyret also has optional annotations, so different instructors can, depending on their preference, introduce types at different times.</p>

          <h3 id="what-are-some-ways-the-educational-philosophy-influences-the-language">What are some ways the educational philosophy influences the language?</h3>

          <p>Pyret is driven by the <a href="http://www.htdp.org/"><em>How to Design Programs</em></a> (HtDP) philosophy of programming education; one could almost view it as a language designed to make teaching from HtDP comfortable. However, we also have our own curricular ideas that extend or run parallel to those of HtDP, which we are steadily writing up in <a href="http://papl.cs.brown.edu/"><em>Programming and Programming Languages</em></a> (PAPL). PAPL both exclusively uses Pyret and is slowly turning into a definitive book for teaching with it.</p>

          <p>Some of our central ideas include:</p>

          <ul>
           <li>
            <p>Languages should offer a rich set of values. For instance, images  should be primitive values, fully supported by the environment. This  improves the teaching of several things, from image-based  composition exercises (which are often far more interesting than  composition over numbers) to animations and games.</p></li>
           <li>
            <p>Languages should offer syntactic support for as much as possible of  the HtDP design recipe. (Pyret does not offer explicit support for  templates, but then again we‚Äôre rethinking the pedagogy of the  template step.)</p></li>
           <li>
            <p>Design recipe support includes good data definition primitives, including  the expression of invariants. Therefore, Pyret has support for refinements  (which are currently checked dynamically; a future version may add static  support, but this is not our highest priority). In particular, by allowing  algebraic datatypes to also be objects, Pyret offers significant flexibility  and expressiveness.</p></li>
           <li>
            <p>Students should be able to easily write examples as a precursor to  writing code. In this regard, Pyret borrows but (we believe) syntactically  improves upon Racket‚Äôs <code>check-expect</code> family of operations with <a href="https://www.pyret.org/docs/latest/testing.html">examples and  testing</a>.</p></li>
           <li>
            <p>Students should easily be able to escalate from simple examples to  sophisticated testing, such as writing test oracles.</p></li>
           <li>
            <p>Equality is subtle and languages should respect its nuances.  Students must understand the meaning of equality and its  consequences, especially with regard to observations in the presence  of state. Therefore, Pyret has carefully developed  <a href="https://www.pyret.org/docs/latest/equality.html">equality primitives</a>.</p></li></ul>

          <h3 id="is-pyret-also-a-research-project">Is Pyret also a research project?</h3>

          <p>Yes and no.</p>

          <p>Yes in that, broadly speaking, we view what we are doing as very much a research effort. We have specific, novel goals in mind (some of which we‚Äôve described elsewhere in this document), and finding good solutions to achieve those goals will require innovation. This is the very essence of research. Some of that research is on the curricular side, though, and may not require any language innovation. Indeed, as much as possible we want ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://pyret.org/pyret-code/index.html">http://pyret.org/pyret-code/index.html</a></em></p>]]>
            </description>
            <link>http://pyret.org/pyret-code/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747849</guid>
            <pubDate>Mon, 06 Jul 2020 13:54:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[H.266/Versatile Video Coding (VVC)]]>
            </title>
            <description>
<![CDATA[
Score 457 | Comments 415 (<a href="https://news.ycombinator.com/item?id=23747626">thread link</a>) | @caution
<br/>
July 6, 2020 | https://newsletter.fraunhofer.de/-viewonline2/17386/465/11/14SHcBTt/V44RELLZBp/1 | <a href="https://web.archive.org/web/*/https://newsletter.fraunhofer.de/-viewonline2/17386/465/11/14SHcBTt/V44RELLZBp/1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://newsletter.fraunhofer.de/-viewonline2/17386/465/11/14SHcBTt/V44RELLZBp/1</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747626</guid>
            <pubDate>Mon, 06 Jul 2020 13:28:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How I Built HelioHex]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23747596">thread link</a>) | @vb42
<br/>
July 6, 2020 | https://vinaybhaip.com/blog/2020/07/05/heliohex | <a href="https://web.archive.org/web/*/https://vinaybhaip.com/blog/2020/07/05/heliohex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <!--more-->

<p><em>TLDR: I built HelioHex: a highly-configurable, modular, hexagon-based lighting system from scratch that is controllable from any device and syncs to Spotify.</em></p>

<h2 id="table-of-contents">Table of Contents</h2>
<ol>
  <li><a href="#inspiration">Inspiration</a></li>
  <li><a href="#research">Research</a></li>
  <li><a href="#vision">Vision</a></li>
  <li><a href="#construction">Construction</a>
    <ol>
      <li><a href="#materials">Materials</a></li>
      <li><a href="#wooden-frames">Wooden Frames</a></li>
      <li><a href="#light-diffusion">Light Diffusion</a></li>
    </ol>
  </li>
  <li><a href="#electronics">Electronics</a>
    <ol>
      <li><a href="#wiring-lights">Wiring Lights</a></li>
      <li><a href="#supplying-current">Supplying Current</a></li>
      <li><a href="#extending-wires">Extending Wires</a></li>
    </ol>
  </li>
  <li><a href="#software">Software</a>
    <ol>
      <li><a href="#spotify-syncing">Spotify Syncing</a></li>
      <li><a href="#web-app-controller">Web App Controller</a>
 <!-- 3. [Starting on Boot](#starting-on-boot) --></li>
    </ol>
  </li>
  <li><a href="#final-touches">Final Touches</a></li>
  <li><a href="#reflections">Reflections</a></li>
</ol>



<p>For the past three months, I‚Äôve been building a highly configurable, modular, hexagon-based lighting system from scratch. Here‚Äôs a demo:</p>

<p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8TQva79vo88" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>

<p>Here‚Äôs some of the highlights of HelioHex:</p>

<ul>
  <li>Different lighting ‚Äòmodes‚Äô
    <ul>
      <li>Set the color of the whole display</li>
      <li>Set the color of individual hexagons</li>
      <li>Generate a random aesthetically-pleasing color palette</li>
      <li>Sync the color of the display to the time of the day</li>
    </ul>
  </li>
  <li>Spotify integration
    <ul>
      <li>Matches up the colors of each hexagon to the features of the song playing</li>
      <li>Changes depending on the emotions of the song e.g. sadder songs are more blue</li>
    </ul>
  </li>
  <li>Adaptable web controller
    <ul>
      <li>Use any device on the network to control the device</li>
      <li>Control all the different modes and brightness of the display</li>
      <li>Shows a virtual visualization of the display</li>
    </ul>
  </li>
  <li>Flexible design
    <ul>
      <li>Arrange the hexagons in whatever pattern you like - change the settings in one file and everything automatically updates</li>
      <li>Expand the structure easily if you build more hexagons</li>
    </ul>
  </li>
</ul>

<h2 id="inspiration">Inspiration</h2>

<p>Late March, I realized that all my schoolwork and testing would soon be over. In an effort to avoid spending my quarantine solely indulging in video games and Netflix, I sought a project.</p>

<p>While brainstorming ideas, I came across the <a href="https://nanoleaf.me/en/consumer-led-lighting/products/smarter-series/nanoleaf-light-panels-smarter-kit/">Nanoleaf Light Panels</a>, a vibrant lighting system that gamers frequently display in their rooms. I thought that I could extend the functionality of this to show lights based off events, like if I received a notification on my phone. And maybe Facebook notifications could be blue, Snapchat notifications yellow, and email notifications red. All of the pieces of this project were starting to come together until I saw the pricetag: <strong>$200</strong>.</p>

<p>Nope. No way was I gonna spend $200 on some lights. To make it worse, that was the price for nine measely panels. Don‚Äôt get me wrong - it looked impressive, just not worth a little over $20 per panel. And even if I still wanted it, the $200 set was sold out - I‚Äôd have to cough up $300 for fifteen panels instead.</p>

<p>Perhaps the coolest application of the Nanoleaf Light Panels is the <a href="https://www.youtube.com/watch?v=o41emqmX6ds">Rhythm Edition</a>, which syncs your lighting system to music. Watching the demo left me‚Ä¶ disappointed. It was highly customizable, but perhaps too customizable. I just wanted to click a button and have the lighting system sync up to all the nuances in the song - if the song was going to have the bass drop, I wanted to emphasize that and to make the lights to feel alive. Maybe I‚Äôm in the minority here, but I was pretty unsatisfied - especially considering I‚Äôd be shelling out hundreds of dollars for this.</p>

<p>Then something clicked; why don‚Äôt I just build my own system? I could customize it to my heart‚Äôs desire and I could make it for a lot cheaper than $200. I would also learn a lot from this project - it seemed perfect. And so, I set out to build my own lighting system - HelioHex.</p>

<h2 id="research">Research</h2>

<p>As should be with any project, the first step was research. <a href="https://www.youtube.com/watch?v=2OP-oEbzB6g">This DIY video from NerdForge</a> looked very similar to what I wanted. The key features I wanted to adopt from this was the modularity, the hexagon design (because it looked really cool), and the remote controller. However, I felt the app he developed didn‚Äôt make the most of the lights - specifically, I wanted to sync up my own system with Spotify. Also, he 3D-printed the frame for the hexagons. Unfortunately, I do not have the luxury of a 3D-printer (and I couldn‚Äôt 3D-print at the library due to the lockdown). This motivated me to alternatively make a wooden frame to give off a sleek, less-manufactured look.</p>

<p>I also <a href="https://www.youtube.com/watch?v=7vGa1oAYAX8">checked out</a> <a href="https://www.youtube.com/watch?v=PwmheNfCnXM">many</a> <a href="https://www.instructables.com/id/DIY-Hexagonal-Nanoleaf-LED-Light/">more</a> <a href="https://www.thingiverse.com/thing:3354082">guides</a> that helped me frame my goals. Ultimately, this research helped me answer one big question: was this project attainable?</p>

<p>The answer was a confident ¬Ø\<em>(„ÉÑ)</em>/¬Ø. A lot of the electronics scared me and the coding seemed decently formidable. I like challenges, though, so I went for it. Also, given that I had boatloads of free time, it seemed like I had nothing better to do.</p>

<h2 id="vision">Vision</h2>

<p>The next step for me was to create a concrete vision of my desired end-result. First up were the non-negotiables - things my project HAD to have to consider it successful:</p>

<ul>
  <li>Working lights that are easily controllable by a remote controller</li>
  <li>Seamless integration with a music app</li>
  <li>Modularity - changing the arrangement of the hexagon units should be relatively easy</li>
  <li>Self containment - each unit is independent of other units</li>
  <li>Preset lighting modes that ‚Äúlook nice‚Äù</li>
  <li>A clean UI for the remote controller</li>
</ul>

<p>Next up were some nice to haves - not needed, but would make me feel really accomplished</p>
<ul>
  <li>No <a href="https://en.wikipedia.org/wiki/Hard_coding">hard coding</a></li>
  <li>Anyone should be able to control the lighting system</li>
  <li>Each individual hexagon ‚Äúunit‚Äù can have their color set</li>
</ul>

<p>Some of these goals were scary, especially when you combine them together - having the ability to set individual hexagon colors without hardcoding while having the UI of the remote controller look clean? Yeesh.</p>

<p>The next step was materializing this vision. What helped me was using a <a href="https://en.wikipedia.org/wiki/Kanban_board">Kanban Board</a>. I wrote mini tasks for myself to reach different goals - divided into sections like software, hardware, and construction and prioritized by importance. A Kanban Board made this ambitious project much more digestable. It also made sure that I wouldn‚Äôt spend time on unnecessary, small fixes unless they were needed. The goal was to build the system as quickly as possible, and then go back and optimize it. Basically the <a href="https://en.wikipedia.org/wiki/Agile_software_development">Agile Development Technique</a>. Totally see how helpful it is now and why companies emphasize it so heavily.</p>

<h2 id="construction">Construction</h2>

<h3 id="materials">Materials</h3>

<table>
  <thead>
    <tr>
      <th>Material</th>
      <th>Cost</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://www.amazon.com/CHINLY-Individually-Addressable-Waterproof-waterproof/dp/B06XNJSKXN/ref=sr_1_5">LED Strip</a></td>
      <td>$29.90</td>
    </tr>
    <tr>
      <td><a href="https://www.amazon.com/ALITOVE-Female-Connector-WS2812B-SK6812-RGBW/dp/B071H5XCN5/ref=sr_1_5">JST Connectors</a></td>
      <td>$10.99</td>
    </tr>
    <tr>
      <td><a href="https://www.amazon.com/dp/B075SXMD9Z/ref=sspa_dk_detail_3">RF Remote Controller</a></td>
      <td>$8.99</td>
    </tr>
    <tr>
      <td><a href="https://www.homedepot.com/p/Sande-Plywood-Common-5-2-mm-x-2-ft-x-4-ft-Actual-0-205-in-x-23-75-in-x-47-75-in-103064/202093790">Plywood</a></td>
      <td>$10.96</td>
    </tr>
    <tr>
      <td><a href="https://www.homedepot.com/p/OPTIX-23-75-in-x-47-75-in-White-Acrylic-Light-Panel-1A20084A/100564898">Acrylic Light Panel</a></td>
      <td>$12.48</td>
    </tr>
    <tr>
      <td><a href="https://www.microcenter.com/product/622539/raspberry-pi-4-model-b---8gb-ddr4">Raspberry Pi 4</a></td>
      <td>$35.00</td>
    </tr>
    <tr>
      <td><a href="https://www.amazon.com/CHINLY-Universal-Regulated-Switching-Transformer/dp/B01LZRIWZD/ref=sr_1_4">Power Supply</a></td>
      <td>$20.99</td>
    </tr>
    <tr>
      <td><a href="https://www.lowes.com/pd/Southwire-25-ft-14-AWG-Stranded-Black-Copper-THHN-Wire-By-the-Roll/1000992054">Wires</a> x3</td>
      <td>$18.81</td>
    </tr>
    <tr>
      <td><a href="https://www.homedepot.com/p/Legrand-5-ft-Non-Metallic-Raceway-Wire-Channel-White-NMW1/100038290">Cord Cover</a></td>
      <td>$8.12</td>
    </tr>
    <tr>
      <td>Hot glue, super glue, push pins, clamps, etc.</td>
      <td>$30.00</td>
    </tr>
    <tr>
      <td><strong>Total</strong></td>
      <td><strong>$186.24</strong></td>
    </tr>
  </tbody>
</table>

<p>I got under my goal of $200! Ended up saving about $15 for three months of my time.</p>

<p>To be fair, I did buy other materials that I never ended up using and did not account for tax. This means that the <em>actual</em> cost of this project probably was $50-$100 higher, but we‚Äôll just say it‚Äôs under $200 because it makes me feel better.</p>

<h3 id="wooden-frames">Wooden Frames</h3>

<p>The first legitimate step in the project was to create the casing for each unit. All the guides I found used 3D printed cases, which was inaccessible for me, so I used wood. I bought a 24‚Äù by 12‚Äù wooden sheet and cut it out into rectangular pieces. I used a hexagon shape for each unit so I had to glue six of these rectangles together. I hotglued a metal hinge into the shape of a 120¬∞ angle and used that as a reference to put the rectangles together. The structural integrity of each hexagon was important so I used a trifecta of super glue, hot glue, and wood glue.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/wooden-hexagon-construction.jpg" alt="Wooden Hexagon Construction">
<em>Wooden hexagon construction. In the foreground, wooden side pairs are joined together that will eventually form full hexagons. In the background, you see that my worktable was a messy ping-pong table.</em></p>

<p>In the above picture, you‚Äôll notice small triangles cut out at the bottom of each plywood piece. This allows for wires to pass through connecting units. In line with my goal of modularity, this cutout was on every side so I could configure my system however I‚Äôd like. I made eight of these units, the most I could make given the length of the LED strip.</p>

<h3 id="light-diffusion">Light Diffusion</h3>

<p>The goal of this lighting system was to have each hexagon display a uniform, individual color. To achieve this uniformity, the material on top of each hexagon must evenly diffuse light from the LED strip that lines the inner perimeter of each hexagon.</p>

<p>This is where the acrylic sheet comes in. The sheet I bought is basically the same material as the light panels that covers school ceilings.</p>

<p>The problem is that acrylic is very brittle to the point that any cut I made - using scissors, a saw, even with the knife Home Depot recommended - completely fragmented the acrylic. After spending a week trying to figure it out, I decided to hold it off till I could laser cut it when the lockdown lifted.</p>

<p>In the meanwhile, I used a poor man‚Äôs acrylic - paper. It served its purpose for how easy it was to use.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/paper-light.gif" alt="Paper Light">
<em>Paper hexagons put on top of each unit. The lighting is controlled by a cheap RF remote.</em></p>

<p>Although it does look pretty cool, there‚Äôs a couple of problems. First, it‚Äôs not clean. Paper doesn‚Äôt give off that professional vibe I‚Äôm striving for and if I‚Äôm spending months on this, might as well make it look good. Second, paper is really flimsy. It wouldn‚Äôt stick well with tape, and I didn‚Äôt want a permanent solution like glue because I knew I wanted to change it eventually. Lastly, it doesn‚Äôt diffuse the light THAT well; it does the job, but it‚Äôs nothing amazing.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/acrylic-sheet-light.jpg" alt="Acrylic Sheet Light">
<em>The uncut acrylic sheet on top of a lit unit.</em></p>

<p>These images don‚Äôt do justice to the acrylic sheet. It looks miles better with material that‚Äôs meant to diffuse light. Instead of waiting for a laser cutter for who knows how long, I got lucky when a friend allowed me to borrow their <a href="https://en.wikipedia.org/wiki/Circular_saw">hand-held circular saw</a>. The fine teeth on this allowed me to cut the acrylic with no worry.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/acrylic-sheet-after.jpg" alt="Acrylic Sheet After">
<em>The acrylic sheet after I cut it. On the left of the sheet you can see the jaggedness resulting from my previous methods.</em></p>

<p>It turned out a success! I hotglued the cut-out acrylic pieces to the hexagons and shaved down the sharp edges.</p>

<h2 id="electronics">Electronics</h2>

<p>This is what I was worried about the most. Despite having taken multiple classes in high school dealing with electronics, I had no idea what I was doing - evident by me <em>almost</em> setting the house on fire a few times.</p>

<h3 id="wiring-lights">Wiring Lights</h3>

<p>I cut up the light strip to put 36 LEDs in each hexagon unit. Each LED draws 50mA at full brightness, meaning for eight hexagons, I would need 14.4 ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vinaybhaip.com/blog/2020/07/05/heliohex">https://vinaybhaip.com/blog/2020/07/05/heliohex</a></em></p>]]>
            </description>
            <link>https://vinaybhaip.com/blog/2020/07/05/heliohex</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747596</guid>
            <pubDate>Mon, 06 Jul 2020 13:24:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[M60 ‚Äì Open-Source USB&BLE, Hot-Swappable Mechanical Keyboard Powered by Python]]>
            </title>
            <description>
<![CDATA[
Score 123 | Comments 45 (<a href="https://news.ycombinator.com/item?id=23747255">thread link</a>) | @kfihihc
<br/>
July 6, 2020 | https://makerdiary.com/pages/m60-mechanical-keyboard | <a href="https://web.archive.org/web/*/https://makerdiary.com/pages/m60-mechanical-keyboard">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="PageContainer">

    <main id="MainContent" role="main" tabindex="-1">
      <div id="shopify-section-landing-page-hero"><div data-section-id="landing-page-hero" data-section-type="hero-section">
  
     <a href="https://github.com/makerdiary/python-keyboard" aria-label="View source on GitHub"></a>
  
<div id="Hero-landing-page-hero" data-layout="full_width" data-bg="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_300x300.jpg?v=1593771860" data-bgset="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_180x.jpg?v=1593771860 180w 120h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_360x.jpg?v=1593771860 360w 240h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_540x.jpg?v=1593771860 540w 360h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_720x.jpg?v=1593771860 720w 480h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_900x.jpg?v=1593771860 900w 600h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1080x.jpg?v=1593771860 1080w 720h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1296x.jpg?v=1593771860 1296w 864h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1512x.jpg?v=1593771860 1512w 1008h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1728x.jpg?v=1593771860 1728w 1152h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1950x.jpg?v=1593771860 1950w 1300h,
    
    
    
    
    
    
    
    
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0.jpg?v=1593771860 2048w 1365h" data-sizes="auto" data-parent-fit="cover"><div>
        <div><h2>M60 Mechanical Keyboard</h2><p>An Open Source, USB &amp; BLE 5.0, Modular, Hot-Swappable, 60% Keyboard powered by Python</p><p><a href="https://makerdiary.com/products/m60-mechanical-keyboard-pcba" aria-label="Pre-Order PCBA: M60 Mechanical Keyboard PCBA (Pre-Order)">Pre-Order PCBA</a></p></div>
      </div>
    </div>
    </div>



</div>





<div id="shopify-section-landing-page-map">

<div id="MapSection--landing-page-map" data-section-id="landing-page-map" data-section-type="map">
  <div>
    <div>
      <div>
        
        
          <h3>The Story of M60</h3>
        
        
          <p>A few months ago, we made a hand-wired keyboard and brought Python to it. This project received plenty of attention, but it is difficult for most people to make such a keyboard. We believe that a Python powered keyboard will make a big difference. We'd really like to take this work further, so we start to design a new keyboard hardware. It is called <em>M60</em>.</p>
          
        
      </div>
    </div>
    
  </div>
</div>




</div>

<div>

<div id="shopify-section-landing-page-feature-row">
<div>
  

  <div>
    
      
    <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-connectivity-1_1080x_5c2254bf-6f4a-41b8-a449-1c0f4088f20a_600x600@2x.jpg?v=1593785687" alt="" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-connectivity-1_1080x_5c2254bf-6f4a-41b8-a449-1c0f4088f20a_200x200.jpg?v=1593785687" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-connectivity-1_1080x_5c2254bf-6f4a-41b8-a449-1c0f4088f20a_{width}x.jpg?v=1593785687">

        
      
    </p>
  
    

    <div>
      
        <h2>USB Type-C &amp; BLE 5.0 Connectivity</h2>
      
      
        <p>M60 uses Nordic‚Äôs nRF52840 SoC to provide USB Type-C wired and Bluetooth LE 5.0 wireless connectivity. It can easily pair to your PC, laptop, smartphone, or tablet with Bluetooth LE.</p>
      
      
    </div>

    
  </div>
</div>


</div>

<div id="shopify-section-landing-page-feature-row-1">
<div>
  

  <div>
    

    <div>
      
        <h2>Powered by Python</h2>
      
      
        <p>It's not just a keyboard but also a USB drive containing Python files. Its Python code can be changed with any text editor and executed simultaneously, which makes it super easy to customize the keyboard or to add a new function. No need to download any software or setup a development environment.</p>
      
      
    </div>

    
      
    <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-2-python_1_600x600@2x.jpg?v=1593761089" alt="" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-2-python_1_200x200.jpg?v=1593761089" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-2-python_1_{width}x.jpg?v=1593761089">

        
      
    </p>
  
    
  </div>
</div>




</div>

<div id="shopify-section-landing-page-feature-row-2"><div>
  

  <div>
    
      
    <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-3_600x600@2x.jpg?v=1593752688" alt="" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-3_200x200.jpg?v=1593752688" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-3_{width}x.jpg?v=1593752688">

        
      
    </p>
  
    

    <div>
      
        <h2>Modular, Hot-Swappable &amp; Solder-Free</h2>
      
      
        <p>To take advantage of the <a href="https://makerdiary.com/products/nrf52840-m2-module" title="nRF52840 M.2 Module w/ PCB Antennas">removable M.2 module</a> and hot-swap sockets, assembly made easy. Everyday we find innovative assembly solutions to make things even easier for you because we care about the quality of our products.</p>
      
      
    </div>

    
  </div>
</div>




</div>



</div>

<div id="shopify-section-landing-page-logo-list">

<div>
  
    
  

  
    <ul>
      
        <li>
          
          
              
          
          
          
            <p>GitHub</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Cross-platform</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Multi-connections</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Python</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>60% Layout</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Multi-layers</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Highly configurable</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>RGB Lighting</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Battery</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>NKRO - Anti-ghost</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Productivity</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Modular Design</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>BLE 5.0</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>USB Type-C</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>NFC</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Hot-swappable</p>
          
        </li>
      
    </ul>
  

  
</div>




</div>

<div id="shopify-section-landing-page-hero-small">


<div data-section-id="landing-page-hero-small" data-section-type="hero-section"><div id="Hero-landing-page-hero-small" data-layout="full_width" data-bg="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_300x300.jpg?v=1593684925" data-bgset="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_180x.jpg?v=1593684925 180w 65h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_360x.jpg?v=1593684925 360w 130h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_540x.jpg?v=1593684925 540w 194h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_720x.jpg?v=1593684925 720w 259h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_900x.jpg?v=1593684925 900w 324h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1080x.jpg?v=1593684925 1080w 389h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1296x.jpg?v=1593684925 1296w 466h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1512x.jpg?v=1593684925 1512w 544h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1728x.jpg?v=1593684925 1728w 622h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1950x.jpg?v=1593684925 1950w 702h,
    
    
    
    
    
    
    
    
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x.jpg?v=1593684925 2048w 737h" data-sizes="auto" data-parent-fit="cover"><div>
        <div><p>We have prepared a few M60 PCBAs for developers before launch. If you really want to get involved early in the process, you can apply for an engineering sample.</p><p><a href="https://forms.office.com/Pages/ResponsePage.aspx?id=DQSIkWdsW0yxEjajBLZtrQAAAAAAAAAAAAa__aO1qn1UQktDRjFSN1FWRFRFRU0yRzhOT0xIUlNKSi4u" aria-label="Request a Sample">Request a Sample</a></p></div>
      </div>
    </div>
    </div>



</div>



<div id="shopify-section-landing-page-feature-update">
<div>
  
    
  

    <ul>
      
        <li>
          <article aria-labelledby="FeaturedBlogTitle-0-landing-page-feature-update">
            <header>
              <a href="https://makerdiary.com/blogs/mechanical-keyboards/the-story-of-m60-mechanical-keyboard">
                
                  
                  


                  <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/articles/m60-feature-row-1-1080x_1024x1024_45ae6d5b-e37c-4137-a179-bf1f89d42730_345x345@2x.jpg?v=1593768689" alt="M60 Mechanical Keyboard - from Prototype to Production" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/m60-feature-row-1-1080x_1024x1024_45ae6d5b-e37c-4137-a179-bf1f89d42730_300x300.jpg?v=1593768689" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/m60-feature-row-1-1080x_1024x1024_45ae6d5b-e37c-4137-a179-bf1f89d42730_{width}x.jpg?v=1593768689">
                    </p>
                  
                

                <h3 id="FeaturedBlogTitle-0-landing-page-feature-update">
                  M60 Mechanical Keyboard - from Prototype to Production
                </h3>
              </a>

              

              
                <span>
                  <time datetime="2020-07-03T08:49:00Z">July 3, 2020</time>
                </span>
              
            </header>

            <div>
              <p><span>A few months ago, we made a hand-wired keyboard powered by Python. It's a typical prototype, which got a lot of feedback. So we decided to turn the prototype into production, to make a new keyboard called M60.</span>
                
              </p>

              

              <ul>
                <li>
                  <a href="https://makerdiary.com/blogs/mechanical-keyboards/the-story-of-m60-mechanical-keyboard" aria-label="Read more: M60 Mechanical Keyboard - from Prototype to Production">
                    Read more
                  </a>
                </li>

                
              </ul>
            </div>
          </article>
        </li>
      
        <li>
          <article aria-labelledby="FeaturedBlogTitle-1-landing-page-feature-update">
            <header>
              <a href="https://makerdiary.com/blogs/mechanical-keyboards/a-hand-wired-usb-bluetooth-keyboard-powered-by-python">
                
                  
                  


                  <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/articles/python-inside-keyboard_345x345@2x.png?v=1593765150" alt="Hand-wiring a USB &amp; Bluetooth keyboard powered by Python" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/python-inside-keyboard_300x300.png?v=1593765150" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/python-inside-keyboard_{width}x.png?v=1593765150">
                    </p>
                  
                

                <h3 id="FeaturedBlogTitle-1-landing-page-feature-update">
                  Hand-wiring a USB &amp; Bluetooth keyboard powered by Python
                </h3>
              </a>

              

              
                <span>
                  <time datetime="2020-05-04T11:39:00Z">May 4, 2020</time>
                </span>
              
            </header>

            <div>
              <p>Before making this keyboard, I knew Python can be used in a microcontroller thanks to MicroPython and its variant CircuitPython. But I did not know Python can work so well and be so powerful in a keyboard. It's beyond my expectation.</p>

              

              <ul>
                <li>
                  <a href="https://makerdiary.com/blogs/mechanical-keyboards/a-hand-wired-usb-bluetooth-keyboard-powered-by-python" aria-label="Read more: Hand-wiring a USB &amp; Bluetooth keyboard powered by Python">
                    Read more
                  </a>
                </li>

                
              </ul>
            </div>
          </article>
        </li>
      
    </ul>
  

  
    
    
  
</div>




</div>


    </main>

    

    

  </div></div>]]>
            </description>
            <link>https://makerdiary.com/pages/m60-mechanical-keyboard</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747255</guid>
            <pubDate>Mon, 06 Jul 2020 12:42:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reverse Face Search Engine]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23747157">thread link</a>) | @stevoo
<br/>
July 6, 2020 | https://pimeyes.com/en/ | <a href="https://web.archive.org/web/*/https://pimeyes.com/en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<section id="search-component">
<video playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop" poster="https://pimeyes.com/assets/images/search_video2.jpg">
<source src="https://pimeyes.com/assets/images/search_video2.mp4" type="video/mp4">
<source src="https://pimeyes.com/assets/images/search_video3.webm" type="video/webm">
</video>
<div>
<div>

<p>UPLOAD YOUR PHOTO AND FIND WHERE YOUR FACE IMAGE APPEARS ONLINE. START PROTECTING YOUR PRIVACY.</p>
</div>
 </div>
<svg width="40px" height="100%" viewBox="0 0 247 390" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
<path id="wheel" d="M123.359,79.775l0,72.843" style="fill:none;stroke:#fff;stroke-width:20px;"></path>
<path id="mouse" d="M236.717,123.359c0,-62.565 -50.794,-113.359 -113.358,-113.359c-62.565,0 -113.359,50.794 -113.359,113.359l0,143.237c0,62.565 50.794,113.359 113.359,113.359c62.564,0 113.358,-50.794 113.358,-113.359l0,-143.237Z" style="fill:none;stroke:#fff;stroke-width:20px;"></path>
</svg> </section>
<section id="mainpage-content">
<div id="description">
<p>
PimEyes is a powerful face search engine that will help you find your face in the Internet. PimEyes focuses only on faces. Composition and colors of the image are not important. Our engine does not compare haircut, only facial features matter. It supports various scenarios - for example, authenticate people for access, protect privacy against scammers or unauthorized photo usage.
</p>
</div>


<div id="try-alerts">
<div>
<div>
<h3>PimEyes <span>Alerts</span></h3>
<p>Get the report when we find face similar to yours.<br>It‚Äôs simple.<br>It‚Äôs free.</p>
<p><a href="https://pimeyes.com/en/alerts" data-action-name="mainpage_alerts_info">
<span>Learn more</span>
</a>
</p></div>

</div>
</div>
<div id="try-premium">
<div>
<p><img src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="/svg/logo-white-premium.svg" alt="PimEyes Premium" width="252" height="82"></p><div>
<p>
The best search results are available only for premium members. With premium access you will improve quality of search and unlock all results.
</p>
<p><a href="https://pimeyes.com/en/premium" data-action-name="mainpage_premium_info">
<span>Get premium</span>
</a>
</p></div>
</div>
</div>
</section>







</div></div>]]>
            </description>
            <link>https://pimeyes.com/en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747157</guid>
            <pubDate>Mon, 06 Jul 2020 12:28:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How People Learn ‚Äì The Brain Basics]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23746896">thread link</a>) | @iuliangulea
<br/>
July 6, 2020 | https://iuliangulea.com/blog/how-people-learn-the-brain-basics/ | <a href="https://web.archive.org/web/*/https://iuliangulea.com/blog/how-people-learn-the-brain-basics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    
    <p>Have you ever thought about how people learn? What happens inside your brain when you learn some new information or practice a novel skill? And is there a way to enhance the outcomes of learning?</p>
<p>This article is the first in the series on ‚ÄúHow People Learn,‚Äù in which I invite you to embark on a journey toward a better understanding of the most sophisticated construct in the Universe‚Äîthe human brain.</p>
<p>And I would like to start with and exercise. You will need a piece of paper and something to write with. When you have them ready, write down the following sentence:</p>
<blockquote>
<p><strong>I can write fast and beautiful.</strong></p>
</blockquote>
<p>It should be pretty easy, if not effortless, isn‚Äôt it?</p>
<p>Now, I would like you to write the same sentence one more time, below the first one, but at this time, use the opposite hand (let‚Äôs call it the inexperienced hand). Therefore, if you initially wrote the sentence with your right hand, switch your pen to the left side and vice-versa.</p>
<p>Think about how was it now? Unless you are a person that learned to write with both hands, I bet your second sentence is not that beautiful, and you wrote it not that fast either. When I was lecturing at the university and doing this exercise with my students, it took them somewhere between 3 to 10 times longer to write down the second sentence than the first one.</p>
<p>If you did follow through and write the two sentences, I highly encourage you to write it with the inexperienced hand for the third (and last) time below the first two sentences. It should be slightly easier to write it now, but there will still be inadvertent trembling and awkward lines.</p>
<p>How do you explain this? You know how each letter should look, how it should be tilted, and how curved it should be‚Äîyou possess the theory at 100%. Yet very few can draw a well-rounded letter ‚Äòa‚Äô or ‚Äòo‚Äô with their inexperienced hand. It is very likely that you are also holding your pen as though it weighs 5kg, and your hand is trembling in the process.</p>
<h2 id="a-primer-on-brain-structure">A Primer On Brain Structure</h2>
<p>The answer resides in the structure of the brain. As you might know, the brain consists of brain cells called ‚Äúneurons.‚Äù Let‚Äôs represent a neuron as in the next image.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/one-neuron.png" alt="A Conceptual Representation Of A Neuron"></p>
<p>Neurons connect to other neurons, forming a complex net of interconnected brain cells. According to the latest plausible estimates,<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> there are 86 billion neurons in a human brain. And each cell can connect to up to ten thousand other neurons. That is an astounding amount!</p>
<p>I will not attempt to draw such a complex, interconnected set of neurons as in a human brain. I will not try to represent even the 302 neurons with its ~7,500 connections of a roundworm.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> Instead, I will rely on this <em>extremely</em> simplified version of a <strike>brain</strike> group of interconnected neurons to describe some essential events that take place inside one‚Äôs brain.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/many-interconnected-neurons.png" alt="A Conceptual Representation Of Many Interconnected Neurons"></p>
<p>All our memories, experiences, skills, thoughts, sensations, etc. are encoded and stored within those interconnected brain cells.</p>
<h2 id="neural-patterns">Neural Patterns</h2>
<p>Neurons communicate with each other through electric pulses and chemical neurotransmitters. Whenever we do something or think about something, specific neurons responsible for that action or thought get activated by sending impulses to each other. For instance, when you raise your right hand, a particular group of neurons gets activated simultaneously:</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-raise-hand.png" alt="A conceptual representation of the neural pattern responsible for raising your right hand"></p>
<p>When you write, another group of neurons fires together:</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-write.png" alt="A conceptual representation of the neural pattern responsible for writing"></p>
<p>These groups of neurons that fire together are called <em>neural patterns.</em> When activated, they are responsible for specific actions or thoughts. Keep in mind that the examples above are extremely simplified. Real patterns spread throughout large portions of the brain and can incorporate billions of neurons.</p>
<p>Note that these patterns can overlap, meaning that the same neuron or even huge chunks of neurons can be part of several patterns. Below you can see that <em>‚Äúwriting‚Äù</em> and <em>‚Äúraising hand‚Äù</em> share some of their neurons.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-common-neurons.png" alt="A conceptual representation of the neurons that participate in both raising hand and speaking"></p>
<p>This explains the associative nature of memory and our experiences‚Äîas you are thinking about something specific (i.e., your favorite childhood cartoon), parts of the neural patterns that get activated are also parts of circuits related to other memories. That gives you the possibility to ‚Äúhop‚Äù from one memory to the other. Just try to recall an instance of when you watched that cartoon and let your mind wander for some time. You‚Äôll be pleasantly surprised with where it might lead you.</p>
<h2 id="it-is-not-only-about-the-number-of-connections">It Is Not Only About The Number Of Connections</h2>
<p>Besides the number of neurons, one essential thing that characterizes a pattern is the strength of its connections. A connection can be strong or can be weak, and it represents the relationship between two neurons.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-strong-connections.png" alt="A conceptual representation of a neural pattern with different connection strengths between neurons"></p>
<p>In the image above, the thicker lines represent more durable links. The stronger a bond is, the easier it is to communicate between neurons through it, and the harder and longer it takes to break it apart. We‚Äôll see the implications of this in the next section below.</p>
<p>Therefore, activities that we know how to do and with which we have experience and thoughts that we think about often have strong links between neurons in their associated patterns. Conversely, skills we have just begun to practice, or thoughts we rarely think about have weak circuits.</p>
<p>To make an analogy, think of a link between two neurons as a pathway during winter.</p>
<figure>
    <img src="https://storage.needpix.com/rsynced_images/trace-3438236_1280.jpg" alt="Snow Trail"> <figcaption>
            <p>Source:
                    <a href="https://www.needpix.com/photo/download/1618289/trace-snow-background-mood-wintry-snow-tramp-footprints-snow-lane-deep-snow">Needpix.com</a></p>
        </figcaption>
</figure>

<p>Initially, when you have to go from point A to B, there is no path, so you have to walk through deep snow, leaving a narrow trail in the process. Have you ever walked in deep snow? That is exhausting, and so forming new circuits is. But the more you travel along that path, the more trodden it becomes, and the easier it is to walk it. Eventually, it will become a wide sidewalk that you can use to travel between point A and B effortlessly. But if you will abandon that path, the snow will gradually claim it back, until one day it will just disappear.</p>
<h2 id="the-process-of-forming-new-circuits">The Process Of Forming New Circuits</h2>
<p>Thus, all the information we know and skills we possess are encoded in our brains‚Äô neural patterns. It is time to discuss the process of brain circuits administration. Research from the last 100 years has incredibly advanced the understanding of how the brain rewires itself. This process is called  <em>Neuroplasticity.</em></p>
<blockquote>
<p><strong>Neuroplasticity,</strong> also known as <strong>brain plasticity,</strong> is the ability of the brain to undergo biological changes ranging from the cellular level (i.e., individual neurons) all the way to large-scale changes involving cortical remapping.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p>
</blockquote>
<p>One of the fundamental principles of how neuroplasticity functions is the idea that individual connections within the brain are continually being created, strengthened, or removed, largely dependent upon how they are used.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> Thus, neurons that are in close proximity and fire at the same time tend to form new connections (or, if they are already connected, the link strengthens). But in case a relationship is not used, it weakens over time, and eventually, it disappears, leaving the two neurons disconnected.</p>
<p>This theory was first introduced by Donald Hebb in 1949, and it is often summarized as <em>‚Äúneurons that fire together, wire together."</em></p>
<h2 id="going-back-to-writing">Going Back To Writing</h2>
<p>Knowing all that about our brain circuits and how they function, let‚Äôs analyze the previous writing exercise and describe it using our freshly acquired information.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-write-strong-connections.png" alt="Strong neural circuit responsible for writing with the experienced hand"></p>
<p>When you first wrote the sentence with your ‚Äúregular‚Äù hand, you have used your existing, robust neural pattern responsible for writing with that hand. That‚Äôs why it felt natural and seamless.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/2-hands-with-question-mark.png" alt="Inexistent neural circuit responsible for writing with the inexperienced hand"></p>
<p>But when you switched to the other hand, no pattern was found responsible for writing with that hand, so a new one started to emerge.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/2-hands-with-both-patterns.png" alt="Emerging neural circuit responsible for writing with the experienced hand"></p>
<p>Different neurons fired together while you were striving to write each letter, and new links started to form. In case you followed my advice and wrote the sentence for the third time, the writing process should have flown more easygoing. That‚Äôs because the new pattern is strengthening in the brain! The more you will practice writing with that hand, the easier it will become for you.</p>
<p>This simple exercise demonstrated a fundamental truth that we sometimes ignore:</p>
<blockquote>
<p><strong>Knowledge != Skills</strong></p>
</blockquote>
<p>We have a sound pattern responsible for the knowledge about each individual letter and another circuit that is responsible for writing those letters. If you would take one thing out of this article, please remember this: <strong>knowledge</strong> does not necessarily mean <strong>skills.</strong> You might know something (the alphabet), but this does not imply than you will be able to write those letters.</p>
<p>This principle applies to many areas of our lives. For instance, reading a book on self-improvement, sales, public speaking, or anything else, does not magically teach you the skills described in those books. Reading those books will strengthen your neuronal pattern related to knowing. It‚Äôs like learning the shape of letters, the theory. Only when you begin to write, when you apply the theory into practice, then you start developing the patterns responsible for the actual skills.</p>
<p>There is much more to possessing an ability than just knowing the theory:</p>
<ul>
<li>Knowing the shape of the letters is not enough to be able to write. You need to develop proper muscle movement to hold the pen and draw the lines that form the letters.</li>
<li>Knowing some five steps to efficient sales is not enough to be a salesman. You need to learn to listen to customers, understand what relevant questions to ask, process the information you receive, formulate correct benefits that solve their problems, etc.</li>
<li>Knowing how to write code does is not enough to be a programmer. You need to understand how to define the architecture of a project based on the requirements, how to organize and structure your code, how to test it, etc.</li>
</ul>
<p>It does not mean that the theory is not essential. Conversely, knowledge about a domain helps you gain experience faster since you can interpret how good or bad the outcome of your practice is. As described in <a href="https://iuliangulea.com/blog/the-path-toward-mastery-how-to-become-an-expert/">The Pyramid Of Mastery</a>, knowledge and skills are complementary. ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://iuliangulea.com/blog/how-people-learn-the-brain-basics/">https://iuliangulea.com/blog/how-people-learn-the-brain-basics/</a></em></p>]]>
            </description>
            <link>https://iuliangulea.com/blog/how-people-learn-the-brain-basics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746896</guid>
            <pubDate>Mon, 06 Jul 2020 11:50:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My 10 Years of Programming Experience]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23746291">thread link</a>) | @yamrzou
<br/>
July 6, 2020 | https://iximiuz.com/en/posts/my-10-years-of-programming-experience/ | <a href="https://web.archive.org/web/*/https://iximiuz.com/en/posts/my-10-years-of-programming-experience/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a name="cut"></a>
<a href="https://edition.cnn.com/2019/12/21/us/when-does-the-decade-end-begin-trnd/index.html">Regardless of whether it's the end of the calendar decade or not</a> it's the end of a programming decade for me. I started early in 2010 and since then I've been programming almost every day, including weekends and vacations. This was a really exciting period in my life and I realized that it's been a while since 2010 only recently. So, I decided to put into words some of my learnings from that time. Warning: the content of this article is highly opinionated and extremely subjective.
<a name="eofcut"></a></p>
<h2 id="combine-object-oriented-procedural-and-functional-programming-techniques">Combine object-oriented, procedural, and functional programming techniques</h2>
<p><i>OOP to me means only messaging, local retention and protection and hiding of state-process, and extreme late-binding of all things.</i></p>
<p><i>‚Äì‚Äì Dr. Alan Kay</i></p>


<p>Object-oriented programming seems to be a prevalent technique these days. Different people hear different things when one says <em>object-oriented</em>. I personally don't treat inheritance and polymorphism as necessary attributes of object-orientation. However, hiding and protection of the state by providing public methods is the mandatory attribute of the approach to me. Entities combining the hidden state with the public methods are called objects and they communicate with each other by sending messages (i.e. invoking the public methods of other objects). Most probably, this definition of OOP is too narrow, but these aspects seem the most practical and useful to me. I try to employ them to express any <em>suitable</em> problem in code.</p>
<p>However, the keyword in the previous paragraph is <em>suitable</em>. Yes, there are problems that fit well into the OO-paradigm. For instance, consider the <em>vector</em> - an abstract data structure solving <em>the dynamic array</em> problem:</p>
<pre><code>class Vector&lt;T&gt; {
    private int size;
    private int capacity;
    private T items;

    public Vector(int capacity) {
        this.size = 0;
        this.capacity = capacity;
        this.items = new T[capacity];
    }

    public int size() {
        return this.size;
    }

    public void push(T elem) {
        if (this.size == this.capacity) {
            this.realloc();
        }
        this.items[this.size++] = elem;
    }

    private realloc();

    // ...
}</code></pre>
<p>The <em>vector</em> hides its state (current size, current capacity, etc) and allows the modification only through its public interface. Thus, assuming the proper implementation, the consistency of the state is maintained constantly.</p>
<p>However, not every problem can be easily designed in terms of objects and their communications. And I'm not talking here about some specific domains. Consider the very common problem of registering a new user:</p>
<pre><code>def register_user(name, email):
    user = User(name, email)

    user_repo.save(user)
    start_trial_period(user)
    schedule_welcome_email(user)

    # etc, etc...

    return user</code></pre>
<p>What kind of object should be the owner of the <code>register_user()</code> method? Early at my programming career, I would argue that there should exist a <em>registration service</em> class. However, what's about its state? What attributes should the registration service possess? Are we modifying its state by registering a new user?</p>
<p>Another time, you can find yourself writing a method which performs some computation related to the current class but without accessing its attributes:</p>
<pre><code>class HttpClient:
    def __init__(self, foo, bar, baz, ...):
        pass

    def request(self, url, query, headers, etc, attempts=1):
        for c in range(attempts):
            resp = self._do_request(url, query, headers, etc)
            if is_fine(resp):
                return resp

            self.sleep(self._backoff_delay(c))

        raise Exception('HTTP request failed')

    def _backoff_delay(self, attempt_no):
        return min(1000, 100 * (attempt_no + 1))</code></pre>
<p>The <code>_backoff_delay</code> method can easily be just a self-sufficient function. And there is a huge benefit of having this function separate from the class - its testing becomes much simpler. If the function stayed a method, in order to test the backoff delay computation algorithm we would need to create an instance of the <code>HttpClient</code> supplying all its dependencies (and probably the dependencies of the dependencies) as well as the fake HTTP request parameters. With the pure function we can just do:</p>
<pre><code>assert _backoff_delay(0) == 100
assert _backoff_delay(1) == 200
assert _backoff_delay(10) == 1000</code></pre>
<p>So, eventually, I came to a conclusion, that from time to time it's absolutely fine to have just a function performing some logic. Quoting the gorgeous <a href="https://www.python.org/dev/peps/pep-0020/"><em>Zen of Python</em></a> ‚Äì‚Äì [...] practicality beats purity. <a href="https://pyvideo.org/pycon-us-2012/stop-writing-classes.html">Stop writing classes</a> for the sake of having classes. Use classes (or objects) only, if the problem fits well into the OO-paradigm. <a href="https://en.wikipedia.org/wiki/Procedural_programming">Procedural programming</a> is a valid and very powerful technique.</p>
<p>I confess, that for a long time I was biased toward the pure OO, ignoring and avoiding other approaches. Accepting the procedural style helped me to become a better programmer. At least I hope so.</p>
<p>However, during my career, I met quite a few developers with the opposite skewness. People have been applying procedural programming even for tasks when one can benefit from the OO-paradigm a lot:</p>
<pre><code>interface Player {
    cursed: boolean;
    scores: number;
}

function collectCoint(p: Player) {
    if (!p.cursed) {
        p.scores += 100;
    }
}

function killMonster(p: Player, m: Monster) {
    if (!p.cursed) {
        p.scores += m.rank;
    }
}</code></pre>
<p>We have a struct <code>Player</code> here and all its attributes are public. We also have a bunch of business logic functions, performing some game actions. These functions are so easy to test. Forge a fresh player object, pass it into the function and check the attributes afterward. However, there is a problem with this approach. Imagine, we added a new function:</p>
<pre><code>function savePrincess(p: Player) {
    p.scores += 100500;
}</code></pre>
<p>It's so easy to forget about the <code>is cursed</code> check. Thus, we broke the game logic by violating the consistency of the player's state. Having an OO-implementation of the player would allow us to avoid such a pitfall:</p>
<pre><code>class Player {
    addScores(score: number) {
        if (!this.cursed) {
            this.score += number;
        }
    }
}</code></pre>
<p>So, how to decide between these two techniques? My personal waymark is a potential violation of the incapsulation. If I see a publicly exposed state and a number of functions here and there modifying it, I will immediately factor it out to a class. In all the other cases, the procedural approach is superior due to its simplicity.</p>
<p>But what's about <a href="https://en.wikipedia.org/wiki/Functional_programming">the functional programming paradigm</a>? I incorporated it in my style on a lower-level. If my strategy is rather based on a mix of object-oriented and structural approaches, my tactic is based on functional methods. Compare the following implementations of a hypothetical <code>revenue</code> function:</p>
<pre><code>function revenue(orders) {
    let total = 0;
    for (const o of orders) {
        if (o.paid) {
            total += o.price;
        }
    }
    return total * fee;
}

// vs

function revenue(orders) {
    return _.sum(orders.filter(x =&gt; x.paid).map(x =&gt; x.price)) * fee;
}</code></pre>
<p>Due to its declarative form, the second version is much shorter. It even resembles the human-readable text. One can read it as <code>a sum of all paid order prices multiplied by the fee rate</code>.</p>
<p>Let's try to go one step further:</p>
<pre><code>function promoEligible(user, orders, etc...) {
    let total = 0;
    for (const o of orders) {
        if (o.paid) {
            total += o.price;
        }
    }

    if (total == 0) {
        return false;
    }


    // ...
    // do 42 more checks before returning true.
    // ...
}</code></pre>
<p>If we follow the imperative way here, the <code>total</code> variable will stay around until the very end of our function even though it was needed only at the very beginning. This increases the mental load, especially when I need to read this code a month later. I'd rewrite it as follows:</p>
<pre><code>function promoEligible(user, orders, etc...) {
    return orders.some(x =&gt; x.paid)
        &amp;&amp; anotherCheck(user)
        &amp;&amp; oneMoreCheck(etc);
}</code></pre>
<p>No single extra local variables have been introduced on the <code>promoEligible()</code> level.</p>
<p>I'd not call this technique full-fledged functional programming. It's rather an excerpt of some techniques. Once I started writing code in this way, I rarely can find for-loops in my code, my utility functions tend to be smaller and <em>pure</em> (i.e. avoiding mutation of their arguments, as well as any other side-effects) and my variables - to be immutable. And for some reason, I feel safer and sleep better.</p>
<p>I came to this technique rather intuitively, but it seems that modern languages like Rust are trying to make these patterns the first-class citizens. Variables in Rust are immutable by default and almost every statement in Rust is an expression, e.g.:</p>
<pre><code>let res = match compute_something() {
    VeryGood(x) =&gt; 5 * x,
    GoodEnough(x) =&gt; 2 * x,
};</code></pre>
<p>Take a look at the <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html"><code>std::iter::Iterator</code></a> trait, it's full of map-reduce alike methods:</p>
<pre><code>let a = [0i32, 1, 2];
let mut iter = a.iter().filter(|x| x.is_positive());

let a = [1, 2, 3];
let mut iter = a.iter().map(|x| 2 * x);

let a = [1, 2, 3];
let (even, odd): (Vec&lt;i32&gt;, Vec&lt;i32&gt;) = a
    .iter()
    .partition(|&amp;n| n % 2 == 0);

let a = [1, 2, 3];
let sum: i32 = a.iter().sum();</code></pre>
<p>The <a href="https://doc.rust-lang.org/std/result/enum.Result.html">error handling</a> and the <a href="https://doc.rust-lang.org/std/option/enum.Option.html"><em>optional</em></a> value also support functional-alike styles, not only in Rust, but in modern Java as well:</p>
<pre><code>Optional.ofNullable(smth).orElseThrow(NullPointerException::new);</code></pre>
<h2 id="use-fewer-local-variables">Use fewer local variables</h2>
<p>In my opinion, variables increase the mental load by introducing extra state and decreasing the expressiveness of the code, making it lower-level. And eventually, they complicate the refactoring.</p>
<blockquote><p lang="en" dir="ltr">Unpopular opinion: variables (even immutable) are harmful. Try to avoid them in your code. Functional programming techniques and decomposition often helps. Unnecessary variables are evil!<a href="https://twitter.com/hashtag/programming?src=hash&amp;ref_src=twsrc%5Etfw">#programming</a> <a href="https://twitter.com/hashtag/stateless?src=hash&amp;ref_src=twsrc%5Etfw">#stateless</a></p>‚Äî Ivan Velichko (@iximiuz) <a href="https://twitter.com/iximiuz/status/1194141015919210496?ref_src=twsrc%5Etfw">November 12, 2019</a></blockquote> 

<p>Imagine, you have a function with two local variables:</p>
<pre><code>function doStuff() {
    // ...

    const color = pickColor();
    const temperature = measureTemperature();

    ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://iximiuz.com/en/posts/my-10-years-of-programming-experience/">https://iximiuz.com/en/posts/my-10-years-of-programming-experience/</a></em></p>]]>
            </description>
            <link>https://iximiuz.com/en/posts/my-10-years-of-programming-experience/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746291</guid>
            <pubDate>Mon, 06 Jul 2020 10:12:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five Computers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23746253">thread link</a>) | @ingve
<br/>
July 6, 2020 | https://deprogrammaticaipsum.com/five-computers/ | <a href="https://web.archive.org/web/*/https://deprogrammaticaipsum.com/five-computers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<p>There is no direct evidence that Thomas Watson, Sr. predicted in 1943 that there would be ‚Äúa world market for five computers‚Äù. First, he probably didn‚Äôt know about computers back then: in the 1940s computers were classified research projects at the UK Government Code and Cipher School and the US Army, while Watson‚Äôs IBM were famously <a href="https://www.huffpost.com/entry/ibm-holocaust_b_1301691">involved with the other side</a> during the war. Second, it‚Äôs just not something there‚Äôs evidence of him talking about. When IBM presented plans for their early commercial computers to various businesses, they got about ten immediate sign-ups and as many expressions of interest. That‚Äôs already a market for twenty computers. Various people in government on both sides of the pond, including the UK National Physical Laboratory‚Äôs head Sir Charles Darwin (grandson of the one you‚Äôve heard of), may have said that their respective government‚Äôs <em>laboratory</em> needs could be satisfied by a small number of computers, but these seem to be estimates of immediate resource usage rather than predictions of future market growth.</p>
<p>Like the 640k RAM thing attributed to Bill Gates, the five computers quote seems to be a fabrication from a later age, invented to teach us a lesson about the futility of grand predictions. It‚Äôs a shame, though, because the five computers prediction looks like it may come true very soon.</p>
<p>Through a combination of adoption of virtualisation technologies (theoretically improving the portability of software deployments) and consolidation onto a small number of providers (practically ensuring that no such portability occurs), three of the five computers can easily be identified. Amazon, Alphabet‚Äôs Google and Microsoft each run one of the world‚Äôs three largest commercial computer-time rental businesses. Their three CFOs each centrally command an economy worth in the region of $1T (particular quotes taken from Yahoo! Finance on 14th June valued Amazon at $1.27T, Alphabet at $0.96T, and Microsoft at $1.42T), though as we shall soon see it‚Äôs probably best to see them as department heads of a single multi-trillion global computer economy encompassing the three businesses and more. To put that into comparison with other planned economies, the Soviet Union reached a GDP of $1T in 1979 and $2T before its dissolution a little over a decade later.</p>
<p>So which computers are fourth and fifth in the global market? Certainly none of the other cloud providers, who are all tiny in comparison. The closest runner is Alibaba ($0.58T), but forget the other western runners, Oracle ($0.16T) and IBM ($0.11T). They can both be seen as attempts to extract rental income from their existing hardware platforms ‚Äì SPARC and RS6000/Power, respectively.</p>
<p>And talking of RISC CPU designs leads us to disregard another wannabe competitor who‚Äôd definitely <em>like</em> to be in the big five, but seems destined to come crashing back down to the ground. As excitement mounts over whether certain high-profile computer vendors may switch to using the ARM CPU design in their systems, ARM sales and revenue are down and parent company Softbank is suffering losses, too (both directly, and its $100B Vision Development Fund). ARM‚Äôs heritage is in desktop and mobile computing (the chip was designed to run the Acorn Archimedes line of personal computers, and when ARM was spun out of Acorn they received funding from Apple to develop chips for the Newton line of handheld computers). This is clearly a market that current CEO, Simon Segars, sees as legacy business, the cash cow that he can squeeze to fund his real interest in the Internet of Things. Thus ARM‚Äôs new goal, to enable ‚Äúa trillion connected devices‚Äù.</p>
<p>You could see Softbank‚Äôs pattern of investments as an attempt to create that fourth computer in the market of five, the distributed computer of things. Whether you‚Äôre in the office (Slack, We), at home (Grofers, FirstCry, OpenDoor), or inbetween (Cambridge Mobile Telematics, Mapbox, GetAround), Softbank are hoping that you‚Äôre connected to Masa‚Äôs computer. Their particular choices, and scattergun approach, mean that this is unlikely to coalesce within the funds and time available to Softbank. It‚Äôs unlikely that they‚Äôd take ARM down with them before someone stepped in to buy it out. Which brings us on to the <em>real</em> contender for the world‚Äôs fourth computer:</p>
<p>Apple. The Apple cloud is a computer that contains a lot of music, TV shows, movies, games, books, news reports, and storage space that users of Apple‚Äôs consumer electronics can rent access on. As a cross-selling deal, a small amount of access is offered with the sale of each of the consumer devices. Unlike the other three computers we‚Äôve seen so far (Amazon‚Äôs, Alphabet‚Äôs, and Microsoft‚Äôs), you can‚Äôt rent time directly on the Apple computer to run your own code. You can upload your own software, but you rely on people discovering and choosing to run it themselves. The execution is actually done on the end devices, not on the Apple computer, though the documents people create may be synced via the Apple computer. By the way, Apple‚Äôs planned economy currently amounts to $1.47T.</p>
<p>You may notice that described this way, the Apple computer sounds a lot like the Ethereum computer, and expect me to suggest that it‚Äôs the fifth computer, or maybe the bitcoin computer, but no. It‚Äôs the Facebook computer. Like the four previously mentioned, the Facebook computer is a huge distributed computer with billions of users, running lots of different applications. Like the Apple computer, you can‚Äôt just run your own code on the Facebook computer (well you <em>can</em> run games), but that doesn‚Äôt matter, because most people use computers for the same reasons. The big feature of the Facebook computer is the contacts app, which has about a third of the world‚Äôs population on.</p>
<p>Those are the five computers of the world market, together directly controlling $5.8T of the world‚Äôs assets, roughly 2/3 the value of the total amount of gold in the world. Indirectly, their influence through app stores, subscription fees, software providers who are dependent on their services, resellers and so on is significantly larger.</p>
<p>And it‚Äôs important to consider them together, because the veneer of competing in an open market only goes so deep. Look at any relevant trade association and you‚Äôll see the trillion-dollar computer vendors working together toward their common interests, for example the Cloud Native Computing Foundation (Alibaba, Amazon, Apple, Softbank ARM, Google, IBM, Microsoft, Oracle, others), or the Linux Foundation (Fujitsu, Google, IBM, Microsoft, Oracle, Alibaba, Facebook, Amazon, Softbank ARM, others). There is really one central computing economy, controlling well over six trillion dollars of technology investment, with five different public faces.</p>
<p>How did the market for computers get consolidated to this extent? It certainly wasn‚Äôt inevitable. Early examples of outsourced computing were advantageous because the hardware was so expensive, needed specialist and frequent handling, and there just wasn‚Äôt much of it about. Those early IBM systems that Watson found more than five customers for could be rented for around $12k-18k per <em>month</em>, so you had to be sure that your computing job was going to save a few people‚Äôs salaries before you even ran it in the cloud.</p>
<p>Where companies did invest in computing hardware, offering the platform as a service to others help to offset the purchase and development costs. The first commercial computer in the UK was the Lyons Electronic Office I, developed from the EDSAC machine by food producer Lyons. LEO/I also ran payroll for Ford UK, and weather simulations for the Met Office (until they bought their own Ferranti computer). It was in use between the 1950s and the 1980s, demonstrating great longevity in the days before planned obsolence.</p>
<p>During those decades, the smaller size of components, greater reliability, lower costs, improved usability and application combined with the business vision of key people who set out to provide ‚Äúa computer on every desktop‚Äù. Rather than a small number of computers becoming more capable, capabilities became more widespread, more distributed, more affordable, and more accessible. Computers shrank in size and cost until every office building, every cubicle, every home, eventually every pocket could contain one.</p>
<p>None of the technical, physical or practical trends described above have reversed to lead to the cloud computing consolidation we see today, and the world market for five computers. The only change that can account for this behaviour is the business vision, and the direction in which the cadre of executives take their companies.</p>
<p>Since the dot com crash of 1999-2001, investors have looked to seed companies with the smallest amount of money possible to lead to either a rapid collapse or rapid growth supported by multiple follow-on investment rounds until an eventual exit. Hockey-stick charts, ‚Äúdisruption‚Äù, ‚ÄúMVPs‚Äù, ‚Äúgrowth hacking‚Äù, ‚Äúfail fast‚Äù are not neutral business advice, but a particular way of working designed to minimise risk and maximise payoff for a small clique of rich investors who expect the money they lend out to work its way back into the system ‚Äì perhaps through cloud subscription fees paid to companies they hold positions in. Don‚Äôt go buying expensive capital investments like offices, desks or computers when you can rent them‚Ä¶from us.</p>
<p>This has led to the situation where computing applications are architected with the goal of rapidly meeting the goal of tomorrow‚Äôs investor presentation, regardless of the effect this has on the later costs or usability of the product. One workload I now support would cost an estimated ¬£6000 per month to run on one of the large cloud providers, which would allow me to purchase the actual hardware in use four times over every year. But ‚Äúspinning up an instance‚Äù today using free credits means you can worry about that cost later, whereas ordering a box from Dell means waiting two to three business days by which ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://deprogrammaticaipsum.com/five-computers/">https://deprogrammaticaipsum.com/five-computers/</a></em></p>]]>
            </description>
            <link>https://deprogrammaticaipsum.com/five-computers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746253</guid>
            <pubDate>Mon, 06 Jul 2020 10:04:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúIndustrial Society and its Future‚Äù: the writings of the Unabomber]]>
            </title>
            <description>
<![CDATA[
Score 118 | Comments 186 (<a href="https://news.ycombinator.com/item?id=23746087">thread link</a>) | @roelp_be
<br/>
July 6, 2020 | https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/ | <a href="https://web.archive.org/web/*/https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2>Preface to this blog post</h2>



<p>Why review a book from the hand of a notorious terrorist who killed three and maimed dozens of people? That seems like the right question to answer before continuing this blog post. <a href="https://en.wikipedia.org/wiki/Ted_Kaczynski">Theodore J. Kaczynski</a> is an extremely intelligent yet wounded man. He‚Äôs been a victim of cold-war era social experiments and, throughout his life, has always been an outsider. He retreated from society and lived like a hermit in the woods in Montana. Nevertheless, he was an activist in search of attention for his ideology and manifesto.</p>



<p>Numerous human lives have been sacrificed on the altars of freedom, ideology, and a better world. Wherever you position yourself on the political spectrum, from left to right, your heroes have blood on their hands. Reagan, Lenin, Bush, Mao, Napoleon, Robespierre, Obama, Chavez, Macron, Selassie, and Guevara, in one way or another, are responsible for the death and suffering of many. Yet we read their memoirs, manifestoes, and biographies. We have their posters on the walls of our children‚Äôs rooms. In this light, <strong>the refusal to read and review <em>Industrial Society and its Future</em> would be an act of hypocrisy. </strong></p>



<p>Finally, the central claim that technology is inherently bad for society is of relevance to this blog. I completely distance myself from the man‚Äôs actions, but his manifesto definitely struck a chord. I currently cannot think of a better way to scrutinize my techno-optimism than to write about it.</p>



<h2>The Power Process</h2>



<p><em>Industrial Society and its Future</em> is an essay of 232 numbered paragraphs in which Kaczynski explains what‚Äôs wrong with society, how it should be, and how we can get there. The most interesting parts of the essay describe the core concept of the <em>Power Process</em>, its consequences, and how technology has an impact on it.</p>



<p><strong>Human drives</strong> can be classified in three broad categories:</p>



<ul><li>Drives that can be satisfied with minimal effort: a walk around the block.</li><li>Drives that can be satisfied at the cost of serious effort: chopping down a tree for burning wood.</li><li>Drives that cannot be satisfied, no matter the effort one puts in it: somersault from a high cliff and survive it</li></ul>



<p>Kaczynski claims that <strong>all humans need a power process</strong>: (1) we all need goals, (2) effort to attain them, and (3) the attainment of some of these goals. Finally, it requires a degree of (4) autonomy. Consequently, the power process is part of the second category of human drives.</p>



<p>If unattained goals result in death, they are important. If the non-attainment of one‚Äôs goals is compatible with survival (i.e. not important), it will lead to defeatism, low self-esteem, and depression (as I explain later on). In the Western world, one only needs minimum effort to survive. Satisfying biological needs has been reduced to triviality. One can live off welfare checks, or have a bullshit job to satisfy physical needs. The only thing required is a minimal degree of obedience. Humans have given up autonomy and effort to attain the needs to survive ‚Äî the important goals.  That‚Äôs why humans artificially create the four components of the power process for themselves: they are involved in <strong>surrogate activities</strong>: long-distance running, blogging, collecting stamps, gardening and even pursuing an academic career. </p>



<h2>Technology messes with the power process</h2>



<p>Kaczynski distinguishes between <strong>two kinds of technology</strong>: The first one is <strong>small-scale technology</strong>, like a mill or a water wheel. The second kind is <strong>organization-dependent technology</strong> that requires large-scale social organization: A refrigerator depends on complicated and industrially created parts and requires electricity. The first kind can produce real progress and freedom. The second kind has a negative impact on our freedom: the externalities outweigh the benefits. It‚Äôs <a href="https://en.wikipedia.org/wiki/Prisoner%27s_dilemma">the prisoner‚Äôs dilemma</a> on a global scale.</p>



<p>Since the Industrial Revolution, most new technologies are of the second kind. The wave of <em>smart</em> and <em>connected</em> devices and software that‚Äôs heading our way is no different. Algorithms can curate all available information on our timelines, only inviting more and more (fake?) articles to be produced. Autonomous cars are safer and offer the freedom to keep the hands of the wheel. Yet as self-driving cars are simply sensors on wheels, you will have zero privacy regarding your location. Self-service checkouts are supposed to be faster. Yet as supermarket customers more often use them, fewer registers with cashiers will be available, reducing human personal contact. Oh, and you need a loyalty card, which is digital-only, for which you need a smartphone.</p>



<p>Social and psychological problems arise when humans cannot go through the power process. <strong>In modern society, technology (especially of the second kind) tends to push drives into the first group</strong>: gathering food is now <a href="https://www.ubereats.com/">one tap away</a>.  Intimacy can be achieved by <a href="https://tinder.com/">swiping</a> or paying a <a href="https://www.pornhub.com/live">minimum fee</a>. Leisure can be found on <a href="https://www.netflix.com/be-en/">Netflix</a> or <a href="https://store.steampowered.com/">Steam</a>. Turn up the heat by asking your <a href="https://store.google.com/us/magazine/compare_thermostats">Nest</a>. </p>



<p>On the other hand,<strong> technology also moved other drives into the third category</strong>. With urbanization reaching record numbers; experiencing authenticity, harmony, nature, silence, and clean air is nearly impossible for many inhabitants of this planet.</p>



<p><strong>Some important goals that remain in the second category, like achieving status, can no longer be done autonomously</strong>. To reach the highest echelons of the corporate ladder, one needs to adhere to company culture, engage in networking, and pass opaque assessments. A management position is often at the goodwill of another manager, higher up.</p>



<p>The primitive man only had to fear disease and certain aspects of the environment. He could accept this stoically, or invent gods and demons. But these problems weren‚Äôt man-made, imposed on them by someone‚Äôs decision which he had no impact on. Although many of us create them for themselves, for others,<strong> surrogate activities do not suffice. The results are aggression, mental breakdowns, burnouts, depressions, mid-life crises, and declining fertility.</strong> As decisions are increasingly outsourced to <a href="https://www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing"><em>trustworthy </em>and <em>unbiased</em> machines</a> ‚Äî think<a href="https://www.nytimes.com/2020/01/12/technology/facial-recognition-police.html"> facial recognition by police departments</a>, or <a href="https://www.technologyreview.com/2019/01/21/137783/algorithms-criminal-justice-ai/">algorithms sending people to jail</a> ‚Äî hopelessness and rebellion will only increase.</p>



<p>In modern society, mental health is defined by how one behaves in accord with the needs of the system.</p>



<h2>Technology is a rational response to problems</h2>



<p>A compromise between freedom and technology is impossible because technology is a more powerful social force than the aspiration for freedom. That‚Äôs because each new technology appears to be desirable<strong> and only threatens our freedom later on</strong>. Motorized transport allows us to travel a lot farther. Yet once the adoption of cars reaches a critical threshold, one is <em>expected</em> to own a car: Local shops and public services disappear and become centralized in malls and government buildings. The internet allowed us to communicate with each other faster than ever. As companies adopted the internet, one can no longer apply for a job without an internet connection. Technology changes society as to make itself indispensable.</p>



<p>The following words read like a prophecy: ‚Äú<em>Generally speaking, <strong>technological control over human behavior will probably not be introduced with a totalitarian intention</strong> or even through a conscious desire to restrict human freedom. Each new step in the assertion of control over the humankind will be taken as a rational response to a problem that faces society‚Ä¶‚Äù</em></p>



<p>For example, society has given up privacy to battle COVID-19 with apps and track&amp;trace strategies. Facebook promised us freedom of speech and unlimited reach, but without the financial means, you‚Äôre <a href="https://blog.hootsuite.com/facebook-algorithm/">shouting in a vacuum</a>. The Patriot Act (and the <a href="https://www.aclu.org/issues/national-security/privacy-and-surveillance/surveillance-under-patriot-act">mass surveillance technology</a> that came with it) was designed to battle terrorism but introduced legal arbitrariness. These three examples were all <strong>rational responses to existing problems but produced unforeseen externalities</strong>.</p>



<p>As technology makes itself indispensable, machines will take care of more and more tasks and ‚Äú<em>on those who are employed, ever-increasing demands will be placed: the will need more training, more and more ability, and will have to be ever more reliable, conforming and docile, because they will be more and more like cells of a giant organism.</em>‚Äú</p>



<p>Think of the swarm of Uber or Lyft drivers who took a short training on how to use the app and are now driving people around in servile silence. Their data feeds the algorithm, and the algorithm thinks for them. <strong>The only thing left is to abide by the system.</strong></p>



<h2>Revolution</h2>



<p>Which brings us to Kaczynski‚Äôs ‚Äúsolution‚Äù. This topic lacks the depth and cunning analogies that can be found in the earlier chapters. His recipes aren‚Äôt new: one can find elements of <a href="https://en.wikipedia.org/wiki/Mikhail_Bakunin">Bakunist</a>, <a href="https://en.wikipedia.org/wiki/Cultural_hegemony">Gramscist</a>, and <a href="https://en.wikipedia.org/wiki/Foco">Debrayist</a> thinking.</p>



<p>Because technology is the strongest social force, <strong>gradual change is impossible</strong>. The only way to break this circle, this slippery slope to servitude to the machine, is a revolution. While the system might collapse under its own internal difficulties, Kaczynski claims we should promote social stress and instability in industrial society. Humanity should return to nature to live in small groups and to be in control of life-and-death issues: food, clothing, shelter, and defense. This is true freedom: the power to control the circumstances of one‚Äôs own life. It‚Äôs not an ideology, it‚Äôs Nature with a big N:</p>



<p><em>‚ÄúWe have no illusions about the feasibility of creating a new, ideal form of society. Our goal is only to destroy the existing form of society.‚Äù</em></p>



<h2>Final thoughts</h2>



<p>Manifestos are always dull, so I didn‚Äôt expect this book to be an enjoyable read. But quite a lot of insights were so masterfully crafted, that I often had to allow my mind to wander off in a quest to find (counter-)examples and arguments to what I just read. If you‚Äôre into political theory, this will be a treat.</p>



<p>Nevertheless, the structure of the book and the order of the chapters seemed strange to ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/">https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/</a></em></p>]]>
            </description>
            <link>https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746087</guid>
            <pubDate>Mon, 06 Jul 2020 09:26:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 0 Password, never losing your password manager password]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23745988">thread link</a>) | @AutumnWu
<br/>
July 6, 2020 | https://www.bluespace.tech/blog/0password/ | <a href="https://web.archive.org/web/*/https://www.bluespace.tech/blog/0password/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        
        <p><img src="https://www.bluespace.tech/blog/0password/forgot-password.png"></p>
        <p>A few months ago, Scott Stein shared an article on CNet, <a href="https://www.cnet.com/news/password-managers-great-until-you-lose-access-world-password-day/">Password managers are great -- until you lose your password manager password</a>. Many people shared and retweeted the article. You know that feeling if you ever lost the password to your password manager.</p>
        <h2 id="why-do-password-managers-require-a-master-password">Why do password managers require a master password?</h2>
        <p>The earliest first generation password managers can manage passwords, by keeping them somewhere, but not protect them well.</p>
        <p>About 20 years ago, <a href="https://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a> was recommended as a standard. It transforms a simple password into a complex key which can be used in cryptographic algorithms.</p>
        <p>Since then, lots of second and third generation password managers have been emerging. They derive encryption key from master password, then encrypt user data with the key. This is how it works:</p>
        <pre>            <code><p>graph TD

            subgraph 1. key derivation

            password --&gt; PBKDF2(PBKDF2)
            salt --&gt; PBKDF2
            PBKDF2 --&gt;|derive| key[[key]]

            end

            subgraph 2. encryption

            key --&gt; AES(AES)
            plaintext --&gt; AES
            AES --&gt; |encrypt| ciphertext[(ciphertext)]

            end

            style password fill:#fff, stroke: #aaa
            style ciphertext fill: #ddd, stroke: #aaa
            style salt fill:#fff
            style plaintext fill:#fff, stroke: #aaa
            </p></code>
        </pre>
        <blockquote>
        <p>In cryptography,</p>
        <ul>
        <li><code>plaintext</code> is unencrypted data intended to be encrypted;</li>
        <li><code>ciphertext</code> is the output of encryption of <code>plaintext</code>.</li>
        </ul>
        </blockquote>
        <p>To get the <code>plaintext</code> back, password managers derive the key just as above, but perform decrypt operation instead of encrypt operation in the second step.</p>
        <pre>            <code><p>graph TD

            subgraph 1. key derivation

            password --&gt; PBKDF2(PBKDF2)
            salt --&gt; PBKDF2
            PBKDF2 --&gt;|derive| key[[key]]

            end

            subgraph 2. decryption

            key --&gt; AES(AES)
            ciphertext[(ciphertext)] --&gt; AES
            AES --&gt; |decrypt| plaintext

            end

            style password fill:#fff, stroke: #aaa
            style salt fill:#fff
            style plaintext fill:#fff, stroke: #aaa
            style ciphertext fill:#ddd, stroke: #aaa
            </p></code>
        </pre>
        <p>I will not go deep for it in this article. If you are interested in the details, please checkout this series <a href="https://www.bluespace.tech/blog/evolution-of-password-manager/">The evolution of password manager</a>.</p>
        <p>Essentially, to encrypt user data, password managers must rely on some <strong>secret controlled by the user</strong>, so that hackers cannot get data from the ciphertext.</p>
        <h2 id="secret-in-security-chip">Secret in security chip</h2>
        <p><img src="https://www.bluespace.tech/blog/0password/security-chip.png" alt=""></p>
        <p><a href="https://developer.android.com/guide/topics/connectivity/nfc/hce#SecureElement">NFC card emulation with a secure element in Android.</a></p>
        <p>Nowadays, most smartphones, except some low-end ones, are equipped with a dedicated security chip(Trusted Execution Environment, Secure Element, or Secure Enclave in iOS). Emulated payment cards in iPhone and Android wallet apps are secured by this chip.</p>
        <p>Our fourth generation password manager, ID Guard Offline, can be safely used without a master password. The secret for encryption can be secured by the chip which is much more reliable than human brain. Again, if you are interested in how it works, please checkout <a href="https://www.bluespace.tech/blog/evolution-of-password-manager/fourth-generation-password-manager.html">The Evolution of Password Manager (4/4)</a>.</p>
        <h3 id="master-password">Master password</h3>
        <p>Scott Stein, the CNet staff, lost all his passwords because of forgetting master password. It is the nature of the algorithm above. In addition to using security chip protection, ID Guard Offline also offers master password protection (users can choose whether to use it). So our users may also encounter the same problem. We believe that availability is just as important as confidentiality to password managers and we need to resolve that problem.</p>
        <p>Some password manager providers allow user to reset master password, Google for example. If a user can reset master password and continue to view passwords stored previously, then those passwords are not secured by the master password.</p>
        <p>Our team of course do not compromise on security. The master password can never be reset. Then, is it possible to get the master password back when our user cannot recall it?</p>
        <h3 id="find-back-my-password">Find back my password</h3>
        <p>Some social services offer user account recovery with the help of trusted contacts when the user forgets the password. Here is how it works.</p>
        <ul>
        <li>The user is required to ask his/her trusted contacts to accomplish some tasks(e.g. sending a code).</li>
        <li>The service detects whether those trusted contacts complete the tasks.</li>
        <li>If so, the service lets the user login and asks he/she to reset password.</li>
        </ul>
        <p>Inspired by this, we have a simple idea: ask friends to help find password back. And finally, we perfected this design after several iterations.</p>
        <ol>
        <li>
            <p>Ask friends to save my password</p>
            
            <p>The first idea coming into our minds was just asking friends to save the password. When forgetting the password, ask a friend to tell me the password. It's like asking a friend to keep my house keys temporarily.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/key.jpg" alt=""></p>
            
            <p>Obviously, this is not safe. Passwords are always meant to be kept secretly. Lots of users reuse their passwords, one leaked password can endanger a large number of accounts.</p>
            

        </li>
        <li>
            <p>Encrypt the password then send to friends</p>
            
            <p>Encryption is a good idea. The problem is how to choose/derive the encryption key. We cannot ask user to set another password to encrypt the password, right?</p>
            
            <img src="https://www.bluespace.tech/blog/0password/russian-doll.jpg" alt="">
            
            <p>Stay safe</p>
            
            <p>If the encryption does not depend on user's secret, the encryption key must be hardcoded. We will not make <a href="https://team-sik.org/sik-2016-022/">the same mistake like other password managers did years ago</a>.</p>
            
        </li>
        <li>
        <p>Encrypt the password with a key inside the security chip on smartphone, and send only the <code>ciphertext</code> to friends</p>
        <pre>            <code>
                <p>graph TD

                key[[key]] --&gt; AES(AES)
                password --&gt; AES
                AES --&gt;|encrypt| ciphertext[(password file)]

                key --&gt; phone[Secure Element]
                ciphertext --&gt; friend[saved by friend]

                style password fill:#fff, stroke: #aaa
                style ciphertext fill: #ddd, stroke: #aaa
                style phone fill: #b3d26a
                style friend fill: #acf
                </p></code>
            </pre>
            <p>In this proposal, a password file(<code>ciphertext</code>) is kept by each friend, but the <code>keys</code> are secured by the security chip on the phone.
            The password can be decrypted if a friend sends back the password file, when finding back the password.</p>
            <pre>                <code><p>graph TD

                subgraph 1. find back password

                masterPasswordKey[[key]] --&gt; masterPasswordAes(AES)
                masterPasswordCiphertext[(password file)] --&gt; masterPasswordAes
                masterPasswordAes --&gt;|decrypt| password

                end

                subgraph 2. key derivation

                password --&gt; PBKDF2(PBKDF2)
                salt --&gt; PBKDF2
                PBKDF2 --&gt;|derive| key[[key]]

                end

                subgraph 3. decryption

                key --&gt; AES(AES)
                ciphertext[(ciphertext)] --&gt; AES
                AES --&gt; |decrypt| plaintext

                end

                style masterPasswordCiphertext fill: #ddd, stroke: #aaa
                style password fill:#fff, stroke: #aaa
                style ciphertext fill: #ddd, stroke: #aaa
                style salt fill:#fff
                style plaintext fill:#fff, stroke: #aaa
                </p></code>
            </pre>
        <p>Friends are required to save the password file into ID Guard Offline, which is secured by the security chip on the phone. So hackers cannot steal the password file. This finding back master password mechanism does not weaken the security of the data stored in ID Guard Offline.</p>
        <ul>
        <li>If a hacker steals a user's phone and unlocks it(by screen PIN), he/she still needs to enter the master password.
        <ul>
        <li>If the hacker does not know the master password, he/she has to steal and unlock the phone of a friend, and crack ID Guard Offline app on that friend's phone, which is really hard.</li>
        </ul>
        </li>
        <li>If a hacker cracks and gets the password file from a friend, he/she cannot decrypt the ciphertext without the encryption key inside the security chip on the user's phone.</li>
        </ul>
        </li>
        </ol>
        <h3 id="how-to-setup-and-find-back-the-password">How to setup and find back the password?</h3>
        <p>So how to use it?</p>
        <ol>
        <li>
            <p>If you are using master password to unlock the app, go to the <code>Find back master password</code> setup view, enter your friend's name, and touch <code>Send</code> button.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/send-password-file.png" alt=""></p>
            
        </li>
        <li>
            <p>Send the password file to your friend and ask him/her to save it in ID Guard Offline.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/save-password-file.png" alt=""></p>
            
        </li>
        <li>
            <p>If you forget your master password, you can check out the list of friends who can help you.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/friend-list.png" alt=""></p>
            
        </li>
        <li>
            <p>Ask a friend to send back the password file, open it with ID Guard Offline to unlock it. You need to change unlock method immediately.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/unlock-successfully.png" alt=""></p>
            
        </li>
        </ol>
        <h3 id="comparison">Comparison</h3>
        <h4 id="recover-account-with-trusted-contacts">Recover account with trusted contacts</h4>
        <p>Trusted contacts must be very trustworthy when using the account recovery feature offered by social services. Otherwise, those "bad friends" can hack into my account by initializing the account recovery process and completing the tasks required by the service.</p>
        <p>We borrow the idea from social services, but in our design, friends can be somewhat dependable because they cannot decrypt my passwords without the key. Also, I can get my password back as long as one of my friends can give me the password file.</p>
        <h4 id="password-managers-can-reset-master-password">Password managers can reset master password</h4>
        <p>Both those ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.bluespace.tech/blog/0password/">https://www.bluespace.tech/blog/0password/</a></em></p>]]>
            </description>
            <link>https://www.bluespace.tech/blog/0password/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23745988</guid>
            <pubDate>Mon, 06 Jul 2020 09:06:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacker News Design Is Ugly]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 9 (<a href="https://news.ycombinator.com/item?id=23745595">thread link</a>) | @neilpanchal
<br/>
July 6, 2020 | https://neil.computer/notes/hacker-news-design-is-ugly/ | <a href="https://web.archive.org/web/*/https://neil.computer/notes/hacker-news-design-is-ugly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <article>
        <h2>Hacker News Design is Ugly</h2>
        <p>This thing is straight up ugly. It is too simple, useful, pragmatic, dense and practical. Boring. These days the cool things are purple gradients, lots of negative space and loss of contrast. People on HN keep <a href="https://news.ycombinator.com/item?id=23199603">raving</a> about this design thing but boy they are so wrong.</p><p>Let's fix it.</p><h2 id="current-state">Current State</h2><p>This is what HN front-page looks like when you login. It has absolutely zero pop. Typical engineers, what do they know about design?</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png" alt="" width="1938" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 1600w, https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 1938w" sizes="(min-width: 720px) 720px"></figure><p>Let's make it pop, shall we?</p><h2 id="fixing-hn-design">Fixing HN Design</h2><p>First things first. <em>Padding</em>. When I am bored, running out of ideas, I like to do one thing that usually makes things 10x better. Padding is like a chef's knife in the kitchen. Know how to use it well and you'll be cutting through information rich UI like butter. It is what sets professional designers from these gray-beard types.</p><p>It is difficult to do it right, so please allow me to exemplify the process. First, add padding to the <code>body</code> tag.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png" alt="" width="1938" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 1600w, https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 1938w" sizes="(min-width: 720px) 720px"></figure><p>See the difference? Holy crap. The UI just suddenly started <em>breathing</em>.</p><p>Let's add more spacing between this conjested highly dense information rich piece of shit.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png" alt="" width="1938" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 1600w, https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 1938w" sizes="(min-width: 720px) 720px"></figure><p>The color orange is fine with me but it is not gonna get you through the design school and into the real world. The world today demands magenta. Magenta/Purple/Cyan all inspired by Stripe UI since 2015 or so and it really set the standard for a modern color palette. Throw your creativity and objectivity away, the trend dictates what we should choose<em>.</em> May be it PANTONE will come up with a <a href="https://www.pantone.com/color-intelligence/color-of-the-year/color-of-the-year-2020">color of the year</a> and it will change. But as per current design trends, purple is the safe choice.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png" alt="" width="2598" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>BAM. What you didn't notice is I also got rid of all background colors to flatten things a bit. I hate borders which are a graphical device invented to create logical spatial layouts but those things are for boring websites for techy folks.</p><p>Next up. Pro tip: Border-radius. It is not as complicated as it sounds. Simply put, we like to make things rounded as allows us to compete for a one of those web design <a href="https://www.awwwards.com/">awwwards</a> and border-radius is a mandatory requirement before creating a <a href="https://dribbble.com/">dribbble</a> account. So we must comply without the thought of originality.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png" alt="" width="2598" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>See? It really ties the web page together.</p><p>Those pesky informative sub-titles are jarring as it helps the user too much. Let's make it so that it loses contrast and fades away in the background. As a side effect, it makes the whole thing more minimal. Minimalism at all costs. Try to make things minimal by removing features and neutring functionality - no one will ever notice. </p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png" alt="" width="2598" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>It looks minimal af.</p><p>That's all folks. Hacker News redesigned. These are the basics but if there is enough interest, I can probably make another tutorial on how to do <em>this</em>:</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png" alt="" width="2510" height="2166" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>Until then, go here and browse some more trends to follow at the cost of authenticity, objectivity, originality, reasoning and fundamental understanding of how to design user interfaces: <a href="https://www.google.com/search?q=design+trends+2020">https://www.google.com/search?q=design+trends+2020</a></p>
        </article>
</div></div>]]>
            </description>
            <link>https://neil.computer/notes/hacker-news-design-is-ugly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23745595</guid>
            <pubDate>Mon, 06 Jul 2020 07:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to process more than 350K requests per month free using 3 free ETA services]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23745223">thread link</a>) | @Gen1us
<br/>
July 5, 2020 | https://blog.maddevs.io/how-to-make-three-paid-eta-services-one-free-6edc6affface | <a href="https://web.archive.org/web/*/https://blog.maddevs.io/how-to-make-three-paid-eta-services-one-free-6edc6affface">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://blog.maddevs.io/@meder33kg?source=post_page-----6edc6affface----------------------" rel="noopener"><img alt="Akkozov Meder" src="https://miro.medium.com/fit/c/96/96/2*87H69ujCEx7VLZYSZPQyig.jpeg" width="48" height="48"></a></p></div></div></div></div><figure><div><div><div><p><img alt="Estimated time of arrival." src="https://miro.medium.com/max/8000/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg" width="4000" height="2172" srcset="https://miro.medium.com/max/552/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 276w, https://miro.medium.com/max/1104/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 552w, https://miro.medium.com/max/1280/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 640w, https://miro.medium.com/max/1400/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg?q=20"></p></div></div></div><figcaption>Estimated time of arrival</figcaption></figure><p id="cce6">This is a story on how to not spend even a penny by using three ETA (estimated time of arrival) services instead of one. Everything is based on my personal experience working as a back-end developer at GoDee project. GoDee is a start-up project that offers booking seats on a bus online. You could find more information about this project here:</p><p id="e338">GoDee is a public transportation service. Bus transportation by GoDee is more convenient than motorbikes common for Southeast Asia and cheaper than a taxi. The app-based system allows users to find an appropriate route, select the time, book the seat, and pay for the ride online. And one of the problems of GoDee is traffic jams that severely impact the user experience. Users get tired of waiting and get annoyed by trying to guess the bus arrival time. So, to make the commuting more convenient, it needed service to calculate the bus‚Äôs approximate arrival time, aka ETA.</p><p id="5226">Developing ETA from scratch would take at least a year. So, to speed up the process, GoDee decided to implement the Google Distance Matrix API tool. Later they developed their own Pifia micro-service.</p><figure><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/500/1*vq9Ao08BtAdAMx5OYhbSlA.gif" width="250" height="429" data-old-src="https://miro.medium.com/freeze/max/34/1*vq9Ao08BtAdAMx5OYhbSlA.gif?q=20"></p></div></div></figure><p id="b97d">Over time, the business grew, and the user base increased. We encountered a problem with increasing requests in the Google Distance Matrix API.</p><h2 id="8971">Why is this a problem?</h2><p id="2a4f">Because every request costs money, Google API provides 10.000 free queries per month, after which every 1.000 queries are charged $20. At that time, we had about 150,000 requests per month.</p><p id="7492">My mentor was very dissatisfied with that. And said that system should change caching to store ETA every 30 minutes. At that time, the system sent requests to the Google API every 3 seconds to get fresh data. However, such a caching algorithm wasn‚Äôt efficient, since minibuses were stuck in traffic. And so the distance only changed once every ten minutes. There was another nuance. For example, five users are asking for information about the same bus, and this is the same request. The cache solved this type of problem.</p><figure><div></div><figcaption>–°ache Code</figcaption></figure><p id="8a43">The cache worked, but not for long since GoDee grew even further and faced the same problem ‚Äî the number of queries has increased again.</p><p id="9a57">It was decided to replace the Google API with OSRM. Basically, OSRM is a service for building a route based on ETA (this is a rough but the short description, if you need details, here is the <a href="http://project-osrm.org/" target="_blank" rel="noopener">link</a>).</p><blockquote><p id="113f">The Open Source Routing Machine or OSRM is a C++ implementation of a high-performance routing engine for the shortest paths in road networks.</p><p id="15be">Wikipedia.</p></blockquote><p id="97d4">OSRM has one problem: it builds routes and calculates ETA without taking traffic into account. To solve this problem, I started looking for services that can provide information about traffic in the specified part of the city. HERE Traffic was providing the data I needed. After a little study of the documentation, I wrote a small code that gets traffic information every 30 minutes. And to upload traffic information to OSRM, I wrote a small script with the command <code>./osrm-contract data.osrm --segment-speed-file updates.csv</code> (more details <a href="https://github.com/Project-OSRM/osrm-backend/wiki/Traffic" target="_blank" rel="noopener">here</a>).</p><p id="cbda">Math time: every half of the hour, there is a request to HERE to get traffic information this are two requests per hour, that is, a day is 48 requests (24 * 2 = 48) and a month is about ‚âà 1.488 (48*31 = 1.488) a year 17.520. Yes, we have these free requests from HERE for 15 years would be enough.</p><figure><div></div><figcaption>Code for getting traffic</figcaption></figure><p id="b1d9">Preliminary tests showed that the service works perfectly, but there is a problem, HERE gives traffic information in ‚Äúgibberish‚Äù and the data does not match the OSRM format. In order for the information to fit, you need to use another service HERE for geocoding + OSRM (for getting points on the map). This is approximately 450.000 requests per month. Later, OSRM was abandoned because the number of requests exceeded the free limit. We didn‚Äôt give up and enabled the HERE Distance Matrix API and temporarily removed the Google Distance Matrix API. The logic HERE is simple: we send coordinates from point A to point B and get the bus arrival time.</p><figure><div></div></figure><p id="2e81">After we installed everything on the test server and started checking, we received the first feedback from the testers. They said that ETA reads the time incorrectly. We started looking for the problem, looked at logs (we used Data dog for logs), logs, and tests showed that everything works perfectly. We decided to ask about the problem in a little more detail, and it turned out that if the car is in traffic for 15 minutes, ETA shows the same time. We decided that this is because of the cache because it stores the original time and does not update it for 30 minutes.</p><p id="1d5a">We started looking for the problem, at the beginning we checked the data on the web version of the HERE Distance Matrix API (which is called we go here), everything worked fine, we received the same ETA. This problem was also checked on the google map service. There was no problem. The services themselves show this ETA. We explained everything to testers and businesses, and they accepted everything.</p><p id="18ce">Our team lead suggested connecting another ETA service and returning the Google API as a backup option and writing code with the logic of switching services (the switch was needed if the requests pass the free number of requests).</p><p id="e9c2">The code works the following way:</p><pre><span id="b4e7">val = getCount() // getting the number of queries used</span><span id="9ff9"><em>if</em> getMax() &lt;= val { // checking for the limit of free requests for the service used</span><span id="e935">newService = switchService(s) // // if the limit is reached, switch the service return</span><span id="cae7"><em>return</em> newService(from, to) // giving the logic of the new service </span></pre><p id="054f">We found the following Mapbox service, connected it, installed it, and it worked. As a result, our ETA had:</p><blockquote><p id="625d">‚ÄúHere‚Äù ‚Äî 250,000 free requests per month<br>Google ‚Äî 10,000 free requests per month<br>Mapbox ‚Äî 100,000 free requests per month</p></blockquote><p id="4def">Always look for alternatives, sometimes it happens that the business doesn't want to pay the money for the service and refuses it. As a developer who has worked hard on the service, you should bring the task to real use. This article describes how we were trying to connect more services for the free use of ETA because the business did not want to pay for the service.</p><p id="4330">P.S. As a developer, I believe that if the tool is good and does its job well, then you can pay for the tool‚Äôs services (or find Open source projects :D).</p><figure><div></div></figure></div></div></section></div></div>]]>
            </description>
            <link>https://blog.maddevs.io/how-to-make-three-paid-eta-services-one-free-6edc6affface</link>
            <guid isPermaLink="false">hacker-news-small-sites-23745223</guid>
            <pubDate>Mon, 06 Jul 2020 06:26:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Facebook Ads to Land an Interview at Reddit]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23744652">thread link</a>) | @shsachdev
<br/>
July 5, 2020 | https://www.careerfair.io/reviews/how-to-land-interview-using-fb-ads | <a href="https://web.archive.org/web/*/https://www.careerfair.io/reviews/how-to-land-interview-using-fb-ads">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>
    The traditional way to get a job interview is to submit your resume and pray. 
    </p>
    <p>
    Everyone does this and it‚Äôs taken to be the default because it‚Äôs easy. You can send the same resume with the click of a button to totally different companies, no effort on your part other than preparing the resume.
    </p>
    <center>
            <img src="https://www.careerfair.io/assets_fbads/resume_blast.png" width="515" height="354" alt="">
              </center>


    
    <p>
    There‚Äôs no way to stand out, no uniqueness. 
    </p>
    <p>
    Generally, the way to get around this is to ask for a referral or to reach out to someone at the company for some sort of informational interview. Both of these methods allow for a more personalized approach to job hunting. 
    </p>
    <p>
    But is it possible to go even one step further? 
    </p>
    
    
    
    <p>
    In 2016, <a href="https://www.linkedin.com/in/dumbfounder/">Chris Seline</a> was coming off a failed startup and looking for new opportunities. 
    </p>
    <p>
    Unlike most other people, though, Chris wasn‚Äôt a fan of the resume blast method. 
    </p>
    <p>
    His strategy was to target specific companies and try to get noticed creatively rather than use the traditional channels and get lost in the shuffle. 
    </p>
    <p>
    Chris decided that he really wanted to work for Reddit. 
    </p>
    <p>
    His plan was to write a <a href="https://twicsy-blog.tumblr.com/post/135712326189/hey-reddit-lets-make-some-recommendations">blog post</a> and then email it to the CEO of Reddit. 
    </p>
    <p>
    The blog post is thorough - it‚Äôs 2000 words, technical, and you can tell a lot of effort was put into it. 
    </p>
    <p>
    Even if Chris had emailed his post to the Reddit CEO, there‚Äôs a strong chance he would have gotten an interview. 99% of applicants don‚Äôt put this much effort into an application and receiving such a personalized email is a positive signal. 
    </p>
    <p>
    But Chris didn‚Äôt just email him. 
    </p>
    
    
    
    <p>
    He decided to use Facebook Ads to target the CEO of Reddit (Steve Huffman). 
    </p>
    <p>
    Here‚Äôs how he did it:
    </p>
    <ol>
    
    <li>Find the Reddit CEO‚Äôs public Facebook profile
    
    </li><li>Use this to find out where he lived, what he liked, what he was interested in, etc
    
    </li><li>Use the above to run a super targeted FB Ads Campaign
    </li>
    </ol>
    <p>
    Note that Chris only wanted <em>one</em> person to click on this Ad, that‚Äôs why he had to go super targeted. 
    </p>

    <center>
        <img src="https://www.careerfair.io/assets_fbads/new_fb_ad.png" width="529" height="492" alt="">
          </center>
    
    
    
    
    <p>
    Chris ended up spending $10. The ad reached 197 people. 4 People clicked on it. One of them was the CEO of Reddit.
    </p>
    <p>
    Next thing you know, Reddit HR reached out to schedule an interview. Nicely done. 
    </p>
    <p>
    I contacted Chris to find out if he actually got the job - here‚Äôs what he said:
    </p>

    <blockquote>
    
        I did not. It turns out they were just starting a search for "head of search" at Reddit, and asked if I would like to interview for that job. That would have been my dream job, and definitely worth a move across the country, even with 3 kids and a wife in tow (I live in DC), so naturally I was very excited and said yes. But after a few talks they thought I didn't have enough experience with big companies, so they asked if I would be interested in an IC role. I was, but I wasn't willing to move across the country for that, and they didn't want to hire remote workers. So that was that.
        <span>Chris Seline</span>
    </blockquote>
   
    
    
    
    <p>
    The reason this is a fun story is because of the FB Ads. 
    </p>
    <p>
    But I think what people may gloss over is the amount of time and research Chris put into writing the blog post that he eventually showed to the Reddit CEO. 
    </p>
    <p>
    If we go back to the beginning of this case study, notice how I mentioned that just blasting a resume to a company signals nothing unique and frankly a lack of effort. 
    </p>
    <p>
    A good way to resolve problems is to invert them - if we do that here, we get the following:
    </p>

    <center>
        <img src="https://www.careerfair.io/assets_fbads/blast_v_tailored.png" width="536" height="225" alt="">
          </center>
    
    <p>
    Chris‚Äô blog post was well researched, relevant, and made him stand out. The FB Ads targeting was just the cherry on top.
    </p>
    <p>
    Next time you see a job you really want to get, think about how you can go that one step further. 
    </p>
    <p>
    Thanks to Chris for responding to my email. You can read his original blog post on this <a href="https://twicsy-blog.tumblr.com/post/174063770074/how-i-targeted-the-reddit-ceo-with-facebook-ads-to">here</a>. 
    </p>
          </div></div>]]>
            </description>
            <link>https://www.careerfair.io/reviews/how-to-land-interview-using-fb-ads</link>
            <guid isPermaLink="false">hacker-news-small-sites-23744652</guid>
            <pubDate>Mon, 06 Jul 2020 04:18:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making a RISC-V OS in Rust: Userspace Processes]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23744622">thread link</a>) | @azhenley
<br/>
July 5, 2020 | http://osblog.stephenmarz.com/ch11.html | <a href="https://web.archive.org/web/*/http://osblog.stephenmarz.com/ch11.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
<p>This is chapter 11 of a multi-part series on <a href="http://osblog.stephenmarz.com/index.html">writing a RISC-V OS in Rust</a>.</p>
<p><a href="http://osblog.stephenmarz.com/index.html">Table of Contents</a> ‚Üí <a href="http://osblog.stephenmarz.com/ch10.html">Chapter 10</a> ‚Üí (Chapter 11)</p>

<p>1 Jun 2020: Patreon only</p>
<p>8 Jun 2020: Public</p>
<h2>Resources and References</h2>
<p>
The ELF standard can be found here: <a href="http://osblog.stephenmarz.com/files/elf.pdf">ELF File Format (PDF)</a>.
</p>
<h2>Introduction</h2>
<p>
This is the moment we've all been waiting for. Ten chapters of setup have led us to this moment--to finally be able to load a process from the disk and run it. The file format for executables is called ELF (executable and linkable format). I will go into some detail about it, but there are plenty of avenues you can explore with this one file type.
</p>
<h2>The ELF File Format</h2>
<p>
The executable and linkable format (ELF) is a widely used file format. If you've used Linux, you no doubt have seen it or the effects of it. This file format contains an ELF header, followed by program headers. Each time, we're telling the OS where the linker has mapped the executable sections. If you don't remember, we have a .text section for CPU instructions, .rodata for global constants, .data for global initialized variables, and .bss section for global uninitialized variables. In the ELF format, the compiler decides where to put these. Also, since we're using virtual memory addresses, the ELF header specifies the <em>entry point</em>, which is what we'll put in the program counter when scheduling a process for the first time.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/elf_format.png"><img src="http://osblog.stephenmarz.com/imgs/elf_format.png"></a>
</p>
<p>
[joke]My handwriting hasn't improved since I was 4[/joke]
</p>
<p>
Let's look at some Rust structures that will help us. These are in elf.rs.
</p>
<pre><code>
#[repr(C)]
pub struct Header {
    pub magic: u32,
    pub bitsize: u8,
    pub endian: u8,
    pub ident_abi_version: u8,
    pub target_platform: u8,
    pub abi_version: u8,
    pub padding: [u8; 7],
    pub obj_type: u16,
    pub machine: u16, // 0xf3 for RISC-V
    pub version: u32,
    pub entry_addr: usize,
    pub phoff: usize,
    pub shoff: usize,
    pub flags: u32,
    pub ehsize: u16,
    pub phentsize: u16,
    pub phnum: u16,
    pub shentsize: u16,
    pub shnum: u16,
    pub shstrndx: u16,
}
</code>
</pre>
<p>
All ELF files start with this ELF Header structure. The very top is 0x7f followed by capital ELF, which is 0x7f 0x45 0x4c and 0x46 as you can see below. I took a simple hexdump of the ls (list) command. You can see sure as sh*t that the magic is right there.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/ls_elf.png"><img src="http://osblog.stephenmarz.com/imgs/ls_elf.png"></a>
</p>
<p>
The rest of the fields will tell us for which architecture this ELF file was made. RISC-V has reserved 0xf3 as its machine type. So, when we load an ELF from the disk, we must make sure it's for the correct architecture. You'll also notice that <code>entry_addr</code> is up there too. This is a virtual memory address where <code>_start</code> begins. Our _start just simply calls main and then when main returns, it calls the exit system call. This is how most programs actually work, but they do a much more rigorous job including getting command line arguments and so forth. Right now, we don't have those.
</p>
<p>
The field that we need to know is the <code>phoff</code> field which specifies the program headers' offset. The program headers is a table of one or more program sections. I took a snapshot of ls (again) and the program headers. You can do the same using <code>readelf -l /bin/ls</code>. The code below shows how I read the ELF header in Rust.
</p>
<pre><code>
let elf_hdr;
unsafe {
  elf_hdr = (buffer.get() as *const elf::Header).as_ref().unwrap();
}
if elf_hdr.magic != elf::MAGIC {
  println!("ELF magic didn't match.");
  return;
}
if elf_hdr.machine != elf::MACHINE_RISCV {
  println!("ELF loaded is not RISC-V.");
  return;
}
if elf_hdr.obj_type != elf::TYPE_EXEC {
  println!("ELF is not an executable.");
  return;
}
</code>
</pre>
<p>
You can see that now we're at the program headers, which I took a snapshot of for /bin/ls.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/ls_program_headers.png"><img src="http://osblog.stephenmarz.com/imgs/ls_program_headers.png"></a>
</p>
<p>
The program headers have the following structure in Rust.
</p>
<pre><code>
#[repr(C)]
pub struct ProgramHeader {
    pub seg_type: u32,
    pub flags: u32,
    pub off: usize,
    pub vaddr: usize,
    pub paddr: usize,
    pub filesz: usize,
    pub memsz: usize,
    pub align: usize,
}
</code>
</pre>
<p>
/bin/ls uses shared libraries, but we're not that good, yet. So, the only program headers we care about are the ones shown by LOAD. These are the sections that we need to load into memory for our static binaries. In the ProgramHeader structure, we need seg_type to be LOAD. The flags tell us how to protect the virtual memory. There are three flags EXECUTE (1), WRITE (2), and READ (4). We also need the off (offset), which tells us where in the ELF file that section to load into the program memory is contained. Finally, the vaddr is what we need to point the MMU to where we loaded this section into memory. You can see how I did this in test.rs in the test_elf() function.
</p>
<pre><code>
for i in 0..elf_hdr.phnum as usize {
  let ph = ph_tab.add(i).as_ref().unwrap();
  if ph.seg_type != elf::PH_SEG_TYPE_LOAD {
    continue;
  }
  if ph.memsz == 0 {
    continue;
  }
  memcpy(program_mem.add(ph.off), buffer.get().add(ph.off), ph.memsz);
  let mut bits = EntryBits::User.val();
  if ph.flags &amp; elf::PROG_EXECUTE != 0 {
    bits |= EntryBits::Execute.val();
  }
  if ph.flags &amp; elf::PROG_READ != 0 {
    bits |= EntryBits::Read.val();
  }
  if ph.flags &amp; elf::PROG_WRITE != 0 {
    bits |= EntryBits::Write.val();
  }
  let pages = (ph.memsz + PAGE_SIZE) / PAGE_SIZE;
  for i in 0..pages {
    let vaddr = ph.vaddr + i * PAGE_SIZE;
    let paddr = program_mem as usize + ph.off + i * PAGE_SIZE;
    map(table, vaddr, paddr, bits, 0);
  }
}
</code>
</pre>
<p>
All I do with the code above is enumerate all of the program headers. The ELF header tells us how many there are via the phnum field. We then check the segment type to see if it is LOAD. If it isn't, we skip it. Then, we check to see if that segment actually contains anything. If not, there's no use in loading it. Then, we copy what we read from the filesystem (buffer) into the process' memory (program_mem). Since these are virtual memory address, the rest of the code determines how we should map the pages.
</p>
<h2>Executing the Process</h2>
<p>
We need to map a few things, including the stack and the program. Also, don't forget to set the program counter to the entry_addr!
</p>
<pre><code>
(*my_proc.frame).pc = elf_hdr.entry_addr;
(*my_proc.frame).regs[2] = STACK_ADDR as usize + STACK_PAGES * PAGE_SIZE;
(*my_proc.frame).mode = CpuMode::User as usize;
(*my_proc.frame).pid = my_proc.pid as usize;
(*my_proc.frame).satp = build_satp(SatpMode::Sv39, my_proc.pid as usize, my_proc.root as usize);
</code>
</pre>
<p>
In here, regs[2] is the stack pointer (SP). This must be valid and mapped, otherwise the process will immediately page fault. Now that everything is set up, our last bit of execution is to add it to the process list. When the scheduler gets around to it, it will run our newly minted process!
</p>
<pre><code>
if let Some(mut pl) = unsafe { PROCESS_LIST.take() } {
  println!(
            "Added user process to the scheduler...get ready \
            for take-off!"
  );
  pl.push_back(my_proc);
  unsafe {
    PROCESS_LIST.replace(pl);
  }
}
else {
  println!("Unable to spawn process.");
}
</code>
</pre>
<h2>Writing Userspace Programs</h2>
<p>
We don't have a C library, yet. However, I'm making the OS come close to the newlib, which is a small C-library mainly for embedded systems. For now, I made a small library called <code>startlib</code> that will get us off the ground, and I copied printf into it.
</p>
<pre><code>
.section .text.init
.global _start
_start:
  call	main
  li	a0, 93
  j 	make_syscall
</code>
</pre>
<p>
The _start is a special label that the compiler will use as the entry point address. Recall that we set this in the program counter when we made a new process. After main returns, we schedule a system call number 93, which is the <code>exit</code> system call. All this system call does is deschedule the process and free all of its resources.
</p>
<p>
There are other utilities, including printf in our small library, but let's make a simple program to see if we can get it to work. To be more robust, I'm going to stretch all of our available sections to see if they load properly.
</p>
<pre><code>
#include &lt;printf.h&gt;

const int SIZE = 1000;
int myarray[SIZE];
int another_array[5] = {1, 2, 3, 4, 5};

int main()
{
  printf("I'm a C++ program, and I'm running in user space. How about a big, Hello World\n");
  printf("My array is at 0x%p\n", myarray);
  printf("I'm going to start crunching some numbers, so gimme a minute.\n");
  for (int i = 0;i &lt; SIZE;i++) {
    myarray[i] = another_array[i % 5];
  }
  for (int i = 0;i &lt; 100000000;i++) {
    myarray[i % SIZE] += 1;
  }
  printf("Ok, I'm done crunching. Wanna see myarray[0]? It's %d\n", myarray[0]);
  return 0;
}
</code>
</pre>
<p>
The program doesn't really do anything useful, but it will see if system calls work as well as context switching. On QEMU, this takes around 5 to 8 seconds to run on my machine at home.
</p>
<p>
We then compile this using our C++ toolchain (if you have one). <code>riscv64-unknown-elf-g++ -Wall -O0 -ffreestanding -nostartfiles -nostdlib -static -march=rv64g -mabi=lp64d -I./startlib -L./startlib -o helloworld.elf helloworld.cpp -lstart</code>
</p>
<p>
If you don't have a toolchain, you can download my program here: <a href="http://osblog.stephenmarz.com/helloworld.elf">helloworld.elf</a>. This requires that you have the systems calls identical to mine since it goes by a system call number.
</p>
<h2>Uploading the Program</h2>
<p>
We can use Linux to upload our elf file.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/upload_hw.png"><img src="http://osblog.stephenmarz.com/imgs/upload_hw.png"></a>
</p>
<p>
Take note of the inode number (26) and the file size (14776). Yours might be different, so make sure you stat it! Modify test.rs and put your inode and file size at the top.
</p>
<pre><code>
let files_inode = 26u32; // Change to yours!
let files_size = 14776; // Change to yours!
let bytes_to_read = 1024 * 50;
let mut buffer = BlockBuffer::new(bytes_to_read);
let bytes_read = syscall_fs_read(
                                  8,
                                  files_inode,
                                  buffer.get_mut(),
                                  bytes_to_read as u32,
                                  0,
);
if bytes_read != files_size {
  println!(
            "Unable to load program at inode {}, which should \
            be {} bytes, got {}",
            files_inode, files_size, bytes_read
  );
  return;
}
</code>
</pre>
<p>
This will use our filesystem read call to ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://osblog.stephenmarz.com/ch11.html">http://osblog.stephenmarz.com/ch11.html</a></em></p>]]>
            </description>
            <link>http://osblog.stephenmarz.com/ch11.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23744622</guid>
            <pubDate>Mon, 06 Jul 2020 04:11:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CoreBGP ‚Äì Plugging in to BGP]]>
            </title>
            <description>
<![CDATA[
Score 126 | Comments 8 (<a href="https://news.ycombinator.com/item?id=23744167">thread link</a>) | @jordanwhited
<br/>
July 5, 2020 | https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/ | <a href="https://web.archive.org/web/*/https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<hr>
<p><img src="https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/cover.png" alt="cover"></p>
<hr>

<p><a href="https://tools.ietf.org/html/rfc4271" target="_blank">BGP</a> is one of many protocols that powers the Internet. Chances are you have heard of it, even if you don‚Äôt work in or around the computer networking space. If you aren‚Äôt familiar, I‚Äôll try to provide some quick background:</p>
<ul>
<li>BGP is a <a href="https://en.wikipedia.org/wiki/Distance-vector_routing_protocol" target="_blank">distance-vector routing protocol</a> used to disseminate routing information.</li>
<li>A BGP speaker implements a <a href="https://en.wikipedia.org/wiki/Finite-state_machine" target="_blank">finite state machine</a> with 6 states:
<ul>
<li>Idle</li>
<li>Active</li>
<li>Connect</li>
<li>OpenSent</li>
<li>OpenConfirm</li>
<li>Established</li>
</ul>
</li>
<li>Inputs to the BGP FSM include messages, timer events, and administrative events.</li>
<li>Routing information is exchanged via UPDATE messages in the Established state.</li>
<li>BGP is extensible; speakers communicate their capabilities via OPEN messages.</li>
</ul>
<p>Expanding on that last bullet point, it‚Äôs difficult to summarize exactly how/where BGP is used due to its flexibility and extensibility. Various <a href="https://ietf.org/about/" target="_blank">IETF</a> Working Groups continue to publish BGP-related RFCs for a protocol that took shape in the early 90s. As the BGP landscape and application widens, we need software that enables us to keep up.</p>
<p>In this post I‚Äôll provide some of my personal experience and history working with BGP, and introduce a new BGP library, <a href="https://github.com/jwhited/corebgp" target="_blank">CoreBGP</a>, which can be used to build the next generation of BGP-enabled applications.</p>

<p>In October of 2010 I attended my first <a href="https://www.nanog.org/" target="_blank">NANOG</a> meeting in Atlanta, GA after accidentally falling into the position of Network Operations Engineer at work. I worked for a modest-sized hosting provider at the time, and was intrigued with BGP. Upon arriving in Atlanta, I vaguely remember some confusion after telling a cab driver that the hotel I needed to be dropped at was on Peachtree St. I later learned that there are 71 streets in Atlanta with a variant of ‚ÄúPeachtree‚Äù in their name, according to <a href="https://en.wikipedia.org/wiki/Peachtree_Street#Nomenclature" target="_blank">Wikpedia</a>.</p>
<p>I got where I needed to go, eventually, and the first talk I attended was <a href="https://archive.nanog.org/meetings/nanog50/presentations/Sunday/NANOG50.Talk33.NANOG50-BGP-Techniques.pdf" target="_blank">BGP techniques for Internet Service Providers</a> by <a href="http://www.bgp4all.com.au/" target="_blank">Philip Smith</a>. Philip started with the basics before getting into the techniques used at ISPs. So many light bulbs went off for me during this talk. I have yet to see any other BGP presentation cover such a breadth of information but still do it in a way that is beginner-friendly, useful as a refresher for any expert, and just downright interesting.</p>
<p>Fast-forward 10 years and I‚Äôve gained a fair share of experience operating networks that use BGP. In more recent years I‚Äôve shifted to software engineering where I‚Äôve had the opportunity to implement various BGP-enabled applications for network observability, data analytics, and SDN purposes.</p>
<p>Each time I started a new BGP-enabled app, I had to answer the following question ‚Äì which existing BGP implementation should be its foundation?</p>

<p>Of the handful of open source BGP implementations out there, I‚Äôve had hands-on experience with projects making use of:</p>
<ul>
<li><a href="https://bird.network.cz/" target="_blank">BIRD</a></li>
<li><a href="https://osrg.github.io/gobgp/" target="_blank">GoBGP</a></li>
<li><a href="https://www.opendaylight.org/what-we-do/odl-platform-overview" target="_blank">OpenDaylight</a></li>
<li><a href="https://www.quagga.net/" target="_blank">Quagga</a></li>
</ul>
<p>BIRD shines where a <a href="https://bird.network.cz/?get_doc&amp;v=20&amp;f=bird-5.html" target="_blank">rich policy language</a> is needed. GoBGP has a <a href="https://github.com/osrg/gobgp/tree/master/api" target="_blank">feature-rich gRPC API</a>, and can be embedded as a library. OpenDaylight‚Äôs BGP implementation is part of a larger SDN controller solution and has extensive support for <a href="https://docs.opendaylight.org/en/stable-oxygen/user-guide/bgpcep-guide/bgp/bgp-user-guide-linkstate-family.html" target="_blank">BGP-LS</a>. Quagga can reliably produce <a href="https://tools.ietf.org/html/rfc6396" target="_blank">MRT</a> dumps and has been around a long time, though I believe <a href="https://frrouting.org/" target="_blank">FRRouting</a> is now considered its successor.</p>
<p>These are all mature, established implementations. Some of them are in production at large ISPs, <a href="https://www.digitalocean.com/blog/scaling-droplet-public-networking/" target="_blank">Cloud Providers</a>, and <a href="https://joinup.ec.europa.eu/collection/open-source-observatory-osor/document/bird-manages-routing-worlds-largest-internet-exchanges-bird" target="_blank">Internet Exchange Points</a>. They are purpose-built and make various tradeoffs to suit their use cases (programming language, threading model, data structures, API, etc‚Ä¶).</p>
<p>But what if we are building something that doesn‚Äôt line up with the primary use cases of these widely used implementations? We may be locked in to decisions that are ultimately burdensome if we choose to build around them. Swapping in our own data structures for routing tables, or adding a new NLRI is non-trivial. Even if an implementation is intended to be embedded as library, it can still back us into a corner with resource consumption. There‚Äôs clearly a need to plug in or hook into specific parts of the BGP FSM, without inheriting decisions that went into a full-blown BGP daemon.</p>
<p>At the 27th IEEE International Conference On Network Protocols (ICNP), a group from the Universit√© catholique de Louvain presented a paper on <code>The Case for Pluginized Routing Protocols</code>:</p>
<blockquote>
<p>Abstract‚ÄîRouting protocols such as BGP and OSPF are key components of Internet Service Provider (ISP) networks. These protocols and the operator‚Äôs requirements evolve over time, but it often takes many years for network operators to convince their different router vendors and the IETF to extend routing protocols. Some network operators, notably in enterprise and datacenters have adopted Software Defined Networking (SDN) with its centralised control to be more agile. We propose a new approach to implement routing protocols that enables network operators to innovate while still using distributed routing protocols and thus keeping all their benefits compared to centralised routing approaches. We extend a routing protocol with a virtual machine that is capable of executing plugins. These plugins extend the protocol or modify its underlying algorithms through a simple API to meet the specific requirements of operators. We modify the OSPF and BGP implementations provided by FRRouting and demonstrate the applicability of our approach with several use cases.</p>
<p>‚Äî <!-- raw HTML omitted -->The Case for Pluginized Routing Protocols<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup><!-- raw HTML omitted --></p>
</blockquote>
<p>In their paper they present a method for plugging into a previously mentioned open-source BGP implementation, FRRouting. Plugins exist at a function level, either prior to invocation (PRE), as a replacement (REPLACE), or just before returning (POST). Much of their BGP plugin focus is around the reception of messages, and decisions made shortly after:</p>
<blockquote>
<p>The BGP daemon is also extended similarly. We add insertion points on functions receiving BGP messages from neighbours, on filters and inside the decision process. We also expose specific functions to the plugins that are executed by the uBPF VM.</p>
<p>‚Äî <!-- raw HTML omitted -->The Case for Pluginized Routing Protocols<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup><!-- raw HTML omitted --></p>
</blockquote>
<p>They take a clever approach with plugin sandboxing by leveraging a user space eBPF VM (<a href="https://github.com/iovisor/ubpf" target="_blank">uBPF</a>) linked to the FRRouting protocol implementation. Each plugin compiles to eBPF bytecode and runs inside of said VM. Plugins can be loaded and unloaded without impacting the primary protocol implementation. Using an eBPF VM also allowed them to utilise all the pre-existing Linux Kernel tooling.</p>
<p>I found this approach inspiring, but still not quite a match for my use cases:</p>
<ul>
<li>Plugins appear to be built around ‚Äúincoming‚Äù events, or messages. What if I want to inject an UPDATE message to a peer irrespective of what FRRouting wants to send?</li>
<li>FRRouting was not built with this plugin model in mind. Changes/Updates to FRRouting will result in a maintenance headache for the VM hook points.</li>
<li>eBPF bytecode is typically compiled from C. Writing C can be time-consuming in comparison to more modern languages.</li>
<li>I need to be an FRRouting expert to do anything non-trivial.</li>
</ul>
<p>This experience and research led me to create CoreBGP, a BGP library that I could re-use across my BGP-enabled applications.</p>

<p>CoreBGP is a BGP library written in Go that implements the BGP FSM with an event-driven, pluggable model. It exposes an API that empowers the user to:</p>
<ul>
<li>send and validate OPEN message capabilities</li>
<li>handle ‚Äúimportant‚Äù state transitions</li>
<li>handle incoming UPDATE messages</li>
<li>send outgoing UPDATE messages</li>
</ul>
<p>CoreBGP does not decode UPDATE messages (besides header validation), manage a routing table, or send its own UPDATE messages. These responsibilities are all passed down to the user. Therefore, the intended user is someone who wants that responsibility.</p>
<p>The primary building block of CoreBGP is a Plugin, defined by the following interface:</p>
<div><pre><code data-lang="go"><span>// Plugin is a BGP peer plugin.
</span><span></span><span>type</span> Plugin <span>interface</span> {
	<span>// GetCapabilities is fired when a peer's FSM is in the Connect state prior
</span><span></span>	<span>// to sending an Open message. The returned capabilities are included in the
</span><span></span>	<span>// Open message sent to the peer.
</span><span></span>	<span>GetCapabilities</span>(peer <span>*</span>PeerConfig) []<span>*</span>Capability

	<span>// OnOpenMessage is fired when an Open message is received from a peer
</span><span></span>	<span>// during the OpenSent state. Returning a non-nil Notification will cause it
</span><span></span>	<span>// to be sent to the peer and the FSM will transition to the Idle state.
</span><span></span>	<span>//
</span><span></span>	<span>// Per RFC5492 a BGP speaker should only send a Notification if a required
</span><span></span>	<span>// capability is missing; unknown or unsupported capabilities should be
</span><span></span>	<span>// ignored.
</span><span></span>	<span>OnOpenMessage</span>(peer <span>*</span>PeerConfig, capabilities []<span>*</span>Capability) <span>*</span>Notification

	<span>// OnEstablished is fired when a peer's FSM transitions to the Established
</span><span></span>	<span>// state. The returned UpdateMessageHandler will be fired when an Update
</span><span></span>	<span>// message is received from the peer.
</span><span></span>	<span>//
</span><span></span>	<span>// The provided writer can be used to send Update messages to the peer for
</span><span></span>	<span>// the lifetime of the FSM's current, established state. It should be
</span><span></span>	<span>// discarded once OnClose() fires.
</span><span></span>	<span>OnEstablished</span>(peer <span>*</span>PeerConfig, writer UpdateMessageWriter) UpdateMessageHandler

	<span>// OnClose is fired when a peer's FSM transitions out of the Established
</span><span></span>	<span>// state.
</span><span></span>	<span>OnClose</span>(peer <span>*</span>PeerConfig)
}
</code></pre></div><p>Here‚Äôs an example Plugin that logs when a peer enters/leaves an established state and when an UPDATE message is received:</p>
<div><pre><code data-lang="go"><span>type</span> plugin <span>struct</span>{}

<span>func</span> (p <span>*</span>plugin) <span>GetCapabilities</span>(c <span>*</span>corebgp.PeerConfig) []<span>*</span>corebgp.Capability {
	caps <span>:=</span> <span>make</span>([]<span>*</span>corebgp.Capability, <span>0</span>)
	<span>return</span> caps
}

<span>func</span> (p <span>*</span>plugin) <span>OnOpenMessage</span>(peer <span>*</span>corebgp.PeerConfig, capabilities []<span>*</span>corebgp.Capability) <span>*</span>corebgp.Notification {
	<span>return</span> <span>nil</span>
}

<span>func</span> (p <span>*</span>plugin) <span>OnEstablished</span>(peer <span>*</span>corebgp.PeerConfig, writer corebgp.UpdateMessageWriter) corebgp.UpdateMessageHandler {
	log.<span>Println</span>(<span>"peer established"</span>)
	<span>// send End-of-Rib
</span><span></span>	writer.<span>WriteUpdate</span>([]<span>byte</span>{<span>0</span>, <span>0</span>, <span>0</span>, <span>0</span>})
	<span>return</span> p.handleUpdate
}

<span>func</span> (p <span>*</span>plugin) <span>OnClose</span>(peer <span>*</span>corebgp.PeerConfig) {
	log.<span>Println</span>(<span>"peer closed"</span>)
}

<span>func</span> (p <span>*</span>plugin) <span>handleUpdate</span>(peer <span>*</span>corebgp.PeerConfig, u []<span>byte</span>) <span>*</span>corebgp.Notification {
	log.<span>Printf</span>(<span>"got update message of len: %d"</span>, <span>len</span>(u))
	<span>return</span> <span>nil</span>
}
</code></pre></div><p>Plugins are attached to peers when they are added to the Server, which manages their lifetime:</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/">https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/</a></em></p>]]>
            </description>
            <link>https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23744167</guid>
            <pubDate>Mon, 06 Jul 2020 02:39:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What should we do about network-effect monopolies]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23743610">thread link</a>) | @dmnd
<br/>
July 5, 2020 | https://www.benkuhn.net/nwe/ | <a href="https://web.archive.org/web/*/https://www.benkuhn.net/nwe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>Many large companies today are software monopolies that give their product away for free to get monopoly status, then do <a href="https://github.com/uBlockOrigin/uBlock-issues/issues/338#issuecomment-496009417" target="_blank">the</a> <a href="http://www.fbpurity.com/news/important-news-facebooks-legal-team-have-told-me-i-am-banned-from-facebook-because-of-f-b-purity/" target="_blank">most</a> <a href="https://www.theverge.com/2019/6/28/19154220/grubhub-seamless-fake-restaurant-domain-names-commission-fees" target="_blank">horrible</a> <a href="https://www.nytimes.com/wirecutter/blog/amazon-counterfeit-fake-products/" target="_blank">things</a> <a href="https://www.theverge.com/2020/6/16/21293419/hey-apple-rejection-ios-app-store-dhh-gangsters-antitrust" target="_blank">once</a> <a href="https://www.polemicdigital.com/google-amp-go-to-hell/" target="_blank">they‚Äôve</a> <a href="https://thetechnoskeptic.com/yelp-extortion-starring-role/" target="_blank">won</a>. (<a href="https://www.benkuhn.net/skinner/">Previously</a>, <a href="https://www.benkuhn.net/product/">previously</a>.) Can we do anything about this?</p><p>Unfortunately, ‚Äúyou‚Äôre the product‚Äù is a popular business model for a reason: businesses like Facebook would be really hard to support without them.</p><p>Facebook would be suicidal to charge its users money, because its entire selling point is that everyone uses it, and ‚Äúeveryone‚Äù <em>hates</em> paying money. In the US, Facebook makes over $25 per person on ads (<a href="https://www.statista.com/statistics/251328/facebooks-average-revenue-per-user-by-region/" target="_blank">source</a>). Can you imagine if instead of ads they tried to charge people $25 a year?</p><p>Even on the margin, anything that costs Facebook users also makes it less valuable for its remaining users‚Äîit‚Äôs a negative feedback loop. The same goes for any other site where users create value for other users, like Twitter or Craigslist or Yelp or Wikipedia. (It‚Äôs not an accident that these are some of the most stagnant popular websites!)</p><p>In fact, this is a fundamental problem with <a href="https://en.wikipedia.org/wiki/Network_effect" target="_blank">network effects</a> and low marginal costs. If a company wants to maintain a network effect, they need as many users as possible. If their marginal cost is low, then the easiest way to get users is to give the product away. To do that, they have to get paid by someone else. And when they start getting paid by someone else, they‚Äôll inevitably start prioritizing that person‚Äôs interests.</p><p>Historically with other network-effect businesses, we‚Äôve addressed this in a few different ways:</p><ul><li><p>regulation (e.g. local utilities)</p></li><li><p>breakups (e.g. Bell)</p></li><li><p>standardization and interoperability (e.g. email, the Web, cryptocurrency)</p></li></ul><p>So far for tech monopolies, people seem to be focused mostly on breakups‚Äîe.g. Facebook from Instagram/Whatsapp‚Äîbut standardization seems to have produced much better outcomes in the past. (I like email and the Web a lot more than National Grid‚Ä¶) I‚Äôd be interested to see more exploration of that option!</p></article></div>]]>
            </description>
            <link>https://www.benkuhn.net/nwe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23743610</guid>
            <pubDate>Mon, 06 Jul 2020 00:46:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Minimum Viable Kubernetes]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23743502">thread link</a>) | @shosti
<br/>
July 5, 2020 | https://eevans.co/blog/minimum-viable-kubernetes/ | <a href="https://web.archive.org/web/*/https://eevans.co/blog/minimum-viable-kubernetes/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  <section class="page">
  <article>
    <header>
      
    </header>

    
<p>
If you're reading this, chances are good that you've heard of Kubernetes. (If
you haven't, how exactly did you end up here?) But what actually is Kubernetes?
Is it <a href="https://kubernetes.io/">"Production-Grade Container Orchestration"</a>?  Is it a <a href="https://platform9.com/blog/kubernetes-as-a-cloud-native-operating-system-on-premises-too/">"Cloud-Native
Operating System"</a>? What do either of those phrases even mean?
</p>
<p>
To be completely honest, I'm not always 100% sure. But I think it's interesting
and informative to take a peek under the hood and see what Kubernetes actually
<em>does</em> under the many layers of abstraction and indirection. So just for fun,
let's see what the absolute bare minimum "Kubernetes cluster" actually looks
like. (It's going to be a lot more minimal than setting up Kubernetes <a href="https://github.com/kelseyhightower/kubernetes-the-hard-way">the hard
way</a>.)
</p>
<p>
I'm going to assume a basic familiarity with Kubernetes, Linux, and containers,
but nothing too advanced. By the way, this is all for learning/exploration
purposes, so don't run any of it in production!
</p>
<h2 id="headline-1">
Big Picture View
</h2>
<p>
Kubernetes has a lot of components and it's sometimes a bit difficult to keep
track of all of them. Here's what the overall architecture looks like according
to <a href="https://commons.wikimedia.org/w/index.php?curid=53571935">Wikipedia</a>:
</p>
<p>
<img src="https://eevans.co/blog/minimum-viable-kubernetes/k8s-arch.png" alt="k8s-arch.png" title="k8s-arch.png">
</p>
<p>
There are at least eight components listed in that diagram; we're going to be
ignoring most of them. I'm going to make the claim that the minimal thing you
could reasonably call Kubernetes consists of three essential components:
</p>
<ul>
<li>
<p>
kubelet
</p>
</li>
<li>
<p>
kube-apiserver (which depends on etcd as its database)
</p>
</li>
<li>
<p>
A container runtime (Docker in this case)
</p>
</li>
</ul>
<p>
Let's take a closer look at what each of these do, according to <a href="https://kubernetes.io/docs/concepts/overview/components/">the docs</a>. First,
<strong>kubelet</strong>:
</p>
<blockquote>
<p>
An agent that runs on each node in the cluster. It makes sure that containers
are running in a Pod.
</p>
</blockquote>
<p>
That sounds simple enough. What about the <strong>container runtime</strong>?
</p>
<blockquote>
<p>
The container runtime is the software that is responsible for running
containers.
</p>
</blockquote>
<p>
Tremendously informative. But if you're familiar with Docker, than you should
have a basic idea of what it does. (The details of the separation of concerns
between the container runtime and kubelet are actually a bit subtle, but I won't
be digging into them here.)
</p>
<p>
And the <strong>API server</strong>?
</p>
<blockquote>
<p>
The API server is a component of the Kubernetes control plane that exposes the
Kubernetes API. The API server is the front end for the Kubernetes control
plane.
</p>
</blockquote>
<p>
Anyone who's ever done anything with Kubernetes has interacted with the API,
either directly or through kubectl. It's the core of what makes Kubernetes
Kubernetes, the brain that turns the mountains of YAML we all know and love (?)
into running infrastructure. It seems obvious that we'll want to get it running
for our minimal setup.
</p>
<h2 id="headline-2">
Prerequisites If You Want to Follow Along
</h2>
<ul>
<li>
<p>
A Linux virtual or corporeal machine you're OK messing around with as
root (I'm using Ubuntu 18.04 on a VM).
</p>
</li>
<li>
<p>
That's it!
</p>
</li>
</ul>
<h2 id="headline-3">
The Boring Setup
</h2>
<p>
The machine we're using needs Docker installed. (I'm not going to dig too much
into how Docker and containers work; there are some <a href="https://blog.lizzie.io/linux-containers-in-500-loc.html">amazing rabbit holes</a> already
out there if you're interested.) Let's just install it using <code>apt</code>:
</p>
<div>
<div><pre><code data-lang="text">$ sudo apt install docker.io
$ sudo systemctl start docker</code></pre></div>
</div>
<p>
Next we'll need to get the Kubernetes binaries. We actually only need kubelet to
bootstrap our "cluster", since we can use kubelet to run the other server
components. We'll also grab kubectl to interact with our cluster once it's up
and running.
</p>
<div>
<div><pre><code data-lang="text">$ curl -L https://dl.k8s.io/v1.18.5/kubernetes-server-linux-amd64.tar.gz &gt; server.tar.gz
$ tar xzvf server.tar.gz
$ cp kubernetes/server/bin/kubelet .
$ cp kubernetes/server/bin/kubectl .
$ ./kubelet --version
Kubernetes v1.18.5</code></pre></div>
</div>
<h2 id="headline-4">
Off To The Races
</h2>
<p>
What happens when we try to run kubelet?
</p>
<div>
<div><pre><code data-lang="text">$ ./kubelet
F0609 04:03:29.105194    4583 server.go:254] mkdir /var/lib/kubelet: permission denied</code></pre></div>
</div>
<p>
kubelet needs to run as root; fair enough, since it's tasked with managing the
entire node. Let's see what the CLI options look like:
</p>
<div>
<div><pre><code data-lang="text">$ ./kubelet -h
&lt;far too much output to copy here&gt;
$ ./kubelet -h | wc -l
284</code></pre></div>
</div>
<p>
Holy cow, that's a lot of options! Thankfully we'll only need a couple of them
for our setup. Here's an option that looks kind of interesting:
</p>
<blockquote>
<p>
<code>--pod-manifest-path</code> string
</p>
<p>
Path to the directory containing static pod files to run, or the path to a
single static pod file. Files starting with dots will be ignored. (DEPRECATED:
This parameter should be set via the config file specified by the Kubelet's
‚Äìconfig flag. See
<a href="https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/">https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/</a> for
more information.)
</p>
</blockquote>
<p>
This option allows us to run <a href="https://kubernetes.io/docs/tasks/configure-pod-container/static-pod/">static pods</a>, which are pods that aren't managed
through the Kubernetes API. Static pods aren't that common in day-to-day
Kubernetes usage but are very useful for bootstrapping clusters, which is
exactly what we're trying to do here. We're going to ignore the loud deprecation
warning (again, don't run this in prod!) and see if we can run a pod.
</p>
<p>
First we'll make a static pod directory and run kubelet:
</p>
<div>
<div><pre><code data-lang="text">$ mkdir pods
$ sudo ./kubelet --pod-manifest-path=pods</code></pre></div>
</div>
<p>
Then, in another terminal/tmux window/whatever, we'll make a pod manifest:
</p>
<div>
<div><pre><code data-lang="text">$ cat &lt;&lt;EOF &gt; pods/hello.yaml
apiVersion: v1
kind: Pod
metadata:
  name: hello
spec:
  containers:
  - image: busybox
    name: hello
    command: ["echo", "hello world!"]
EOF</code></pre></div>
</div>
<p>
kubelet starts spitting out some warnings; other than that it anti-climatically
appears that nothing really happened. But not so! Let's check Docker:
</p>
<div>
<div><pre><code data-lang="text">$ sudo docker ps -a
CONTAINER ID        IMAGE                  COMMAND                 CREATED             STATUS                      PORTS               NAMES
8c8a35e26663        busybox                "echo 'hello world!'"   36 seconds ago      Exited (0) 36 seconds ago                       k8s_hello_hello-mink8s_default_ab61ef0307c6e0dee2ab05dc1ff94812_4
68f670c3c85f        k8s.gcr.io/pause:3.2   "/pause"                2 minutes ago       Up 2 minutes                                    k8s_POD_hello-mink8s_default_ab61ef0307c6e0dee2ab05dc1ff94812_0
$ sudo docker logs k8s_hello_hello-mink8s_default_ab61ef0307c6e0dee2ab05dc1ff94812_4
hello world!</code></pre></div>
</div>
<p>
kubelet read the pod manifest and instructed Docker to start a couple of
containers according to our specification. (If you're wondering about that
"pause" container, it's Kubernetes hackery that's used to reap zombie processes
‚Äîsee <a href="https://www.ianlewis.org/en/almighty-pause-container">this blog post</a> for the gory details.) kubelet will run our <code>busybox</code>
container with our command and restart it ad infinitum until the static pod is
removed.
</p>
<p>
Let's congratulate ourselves: we've just figured out one of the world's most
convoluted ways of printing out text to the terminal!
</p>
<h2 id="headline-5">
Getting etcd running
</h2>
<p>
Our eventual goal is to run the Kubernetes API, but in order to do that we'll
need <a href="https://etcd.io/">etcd</a> running first. A static pod ought to fit the bill. Let's run a minimal
etcd cluster by putting the following in a file in the <code>pods</code> directory
(e.g. <code>pods/etcd.yaml</code>):
</p>
<div>
<div><pre><code data-lang="yaml"><span>apiVersion</span>: v1
<span>kind</span>: Pod
<span>metadata</span>:
  <span>name</span>: etcd
  <span>namespace</span>: kube-system
<span>spec</span>:
  <span>containers</span>:
  - <span>name</span>: etcd
    <span>command</span>:
    - etcd
    - --data-dir=/var/lib/etcd
    <span>image</span>: k8s.gcr.io/etcd:<span>3.4.3-0</span>
    <span>volumeMounts</span>:
    - <span>mountPath</span>: /var/lib/etcd
      <span>name</span>: etcd-data
  <span>hostNetwork</span>: <span>true</span>
  <span>volumes</span>:
  - <span>hostPath</span>:
      <span>path</span>: /var/lib/etcd
      <span>type</span>: DirectoryOrCreate
    <span>name</span>: etcd-data</code></pre></div>
</div>
<p>
If you've ever worked with Kubernetes, this kind of YAML file should look
familiar. There are only two slightly unusual things worth noting:
</p>
<ul>
<li>
<p>
We mounted the host's <code>/var/lib/etcd</code> to the pod so that the etcd data will
survive restarts (if we didn't do this the cluster state would get wiped every
time the pod restarted, which would be a drag even for a minimal Kubernetes
setup).
</p>
</li>
<li>
<p>
We set <code>hostNetwork: true</code> which, unsurprisingly, sets up the etcd pod to use
the host network instead of the pod-internal network (this will make it easier
for the API server to find the etcd cluster).
</p>
</li>
</ul>
<p>
Some quick sanity checks show that etcd is indeed listening on localhost and
writing to disk:
</p>
<div>
<div><pre><code data-lang="text">$ curl localhost:2379/version
{"etcdserver":"3.4.3","etcdcluster":"3.4.0"}
$ sudo tree /var/lib/etcd/
/var/lib/etcd/
‚îî‚îÄ‚îÄ member
    ‚îú‚îÄ‚îÄ snap
    ‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ db
    ‚îî‚îÄ‚îÄ wal
        ‚îú‚îÄ‚îÄ 0.tmp
        ‚îî‚îÄ‚îÄ 0000000000000000-0000000000000000.wal</code></pre></div>
</div>
<h2 id="headline-6">
Running the API server
</h2>
<p>
Getting the Kubernetes API server running is even easier. The only CLI flag we
have to pass is <code>--etcd-servers</code>, which does what you'd expect:
</p>
<div>
<div><pre><code data-lang="yaml"><span>apiVersion</span>: v1
<span>kind</span>: Pod
<span>metadata</span>:
  <span>name</span>: kube-apiserver
  <span>namespace</span>: kube-system
<span>spec</span>:
  <span>containers</span>:
  - <span>name</span>: kube-apiserver
    <span>command</span>:
    - kube-apiserver
    - --etcd-servers=http://<span>127.0.0.1</span>:<span>2379</span>
    <span>image</span>: k8s.gcr.io/kube-apiserver:v1<span>.18.5</span>
  <span>hostNetwork</span>: <span>true</span></code></pre></div>
</div>
<p>
Put that YAML file in the <code>pods</code> directory and the API server will start. Some
quick <code>curl</code> ing shows that the Kubernetes API is listening on port 8080 with
completely open access‚Äîno authentication necessary!
</p>
<div>
<div><pre><code data-lang="text">$ curl localhost:8080/healthz
ok
$ curl localhost:8080/api/v1/pods
{
  "kind": "PodList",
  "apiVersion": "v1",
  "metadata": {
    "selfLink": "/api/v1/pods",
    "resourceVersion": "59"
  },
  "items": []
}</code></pre></div>
</div>
<p>
(Again, don't run this setup in production! I was a bit surprised that the
default setup is so insecure, but I assume it's to make development and testing
easier.)
</p>
<p>
And, as a nice surprise, kubectl works out of the box with no extra
configuration!
</p>
<div>
<div><pre><code data-lang="text">$ ./kubectl version
Client Version: version.Info{Major:"1", Minor:"18", GitVersion:"v1.18.5", GitCommit:"e6503f8d8f769ace2f338794c914a96fc335df0f", GitTreeState:"clean", BuildDate:"2020-06-26T03:47:41Z", GoVersion:"go1.13.9", Compiler:"gc", Platform:"linux/amd64"}
Server Version: version.Info{Major:"1", Minor:"18", GitVersion:"v1.18.5", GitCommit:"e6503f8d8f769ace2f338794c914a96fc335df0f", GitTreeState:"clean", BuildDate:"2020-06-26T03:39:24Z", GoVersion:"go1.13.9", Compiler:"gc", Platform:"linux/amd64"}
$ ./kubectl get pod
No resources found in default namespace.</code></pre></div>
</div>
<p>
Easy, right?
</p>
<h2 id="headline-7">
A Problem
</h2>
<p>
But digging a bit deeper, something seems amiss:
</p>
<div>
<div><pre><code data-lang="text">$ ./kubectl get pod -n kube-system
No resources found in kube-system namespace.</code></pre></div>
</div>
<p></p></article></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://eevans.co/blog/minimum-viable-kubernetes/">https://eevans.co/blog/minimum-viable-kubernetes/</a></em></p>]]>
            </description>
            <link>https://eevans.co/blog/minimum-viable-kubernetes/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23743502</guid>
            <pubDate>Mon, 06 Jul 2020 00:26:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust for JavaScript Developers ‚Äì Functions and Control Flow]]>
            </title>
            <description>
<![CDATA[
Score 183 | Comments 75 (<a href="https://news.ycombinator.com/item?id=23743363">thread link</a>) | @rkwz
<br/>
July 5, 2020 | http://www.sheshbabu.com/posts/rust-for-javascript-developers-functions-and-control-flow/ | <a href="https://web.archive.org/web/*/http://www.sheshbabu.com/posts/rust-for-javascript-developers-functions-and-control-flow/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This is the third part in a series about introducing the Rust language to JavaScript developers. Here are the past chapters:</p>
<ol>
<li><a href="http://www.sheshbabu.com/posts/rust-for-javascript-developers-tooling-ecosystem-overview/">Tooling Ecosystem Overview</a></li>
<li><a href="http://www.sheshbabu.com/posts/rust-for-javascript-developers-variables-and-data-types/">Variables and Data Types</a></li>
</ol>
<h2 id="Functions"><a href="#Functions" title="Functions"></a>Functions</h2><p>Rust‚Äôs function syntax is pretty much similar to the one in JavaScript.</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> income <span>=</span> <span>100</span><span>;</span>
  <span>let</span> tax <span>=</span> <span>calculate_tax</span><span>(</span>income<span>)</span><span>;</span>
  <span>println!</span><span>(</span><span>"{}"</span><span>,</span> tax<span>)</span><span>;</span>
<span>}</span>

<span>fn</span> <span>calculate_tax</span><span>(</span>income<span>:</span> i32<span>)</span> <span>-&gt;</span> i32 <span>{</span>
  <span>return</span> income <span>*</span> <span>90</span> <span>/</span> <span>100</span><span>;</span>
<span>}</span></code></pre>
<p>The only difference you might see above is the type annotations for arguments and return values.</p>
<p>The <code>return</code> keyword can be skipped and it‚Äôs very common to see code without an explicit return. If you‚Äôre returning implicitly, make sure to remove the semicolon from that line. The above function can be refactored as:</p>
<pre><code>fn main() {
  let income = 100;
  let tax = calculate_tax(income);
  println!("{}", tax);
}

fn calculate_tax(income: i32) -&gt; i32 {
<span>- return income * 90 / 100;</span>
<span>+ income * 90 / 100</span>
}</code></pre>
<h2 id="Arrow-Functions"><a href="#Arrow-Functions" title="Arrow Functions"></a>Arrow Functions</h2><p>Arrow functions are a popular feature in modern JavaScript - they allow us to write functional code in a concise way.</p>
<p>Rust has something similar and they are called ‚ÄúClosures‚Äù. The name might be a bit confusing and would require getting used to because in JavaScript, closures can be created using both normal and arrow functions.</p>
<p>Rust‚Äôs closure syntax is very similar to JavaScript‚Äôs arrow functions:</p>
<p><strong>Without arguments:</strong></p>
<pre><code>
<span>let</span> greet <span>=</span> <span>(</span><span>)</span> <span>=</span><span>&gt;</span> console<span>.</span><span>log</span><span>(</span><span>"hello"</span><span>)</span><span>;</span>

<span>greet</span><span>(</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> greet <span>=</span> <span>||</span> <span>println!</span><span>(</span><span>"hello"</span><span>)</span><span>;</span>

<span>greet</span><span>(</span><span>)</span><span>;</span> </code></pre>
<p><strong>With arguments:</strong></p>
<pre><code>
<span>let</span> greet <span>=</span> <span>(</span>msg<span>)</span> <span>=</span><span>&gt;</span> console<span>.</span><span>log</span><span>(</span>msg<span>)</span><span>;</span>

<span>greet</span><span>(</span><span>"good morning!"</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> greet <span>=</span> <span>|</span>msg<span>:</span> <span>&amp;</span>str<span>|</span> <span>println!</span><span>(</span><span>"{}"</span><span>,</span> msg<span>)</span><span>;</span>

<span>greet</span><span>(</span><span>"good morning!"</span><span>)</span><span>;</span> </code></pre>
<p><strong>Returning values:</strong></p>
<pre><code>
<span>let</span> add <span>=</span> <span>(</span>a<span>,</span> b<span>)</span> <span>=</span><span>&gt;</span> a <span>+</span> b<span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> add <span>=</span> <span><span>|</span>a<span>:</span> i32<span>,</span> b<span>:</span> i32<span>|</span></span> <span>-&gt;</span> i32 <span>{</span> a <span>+</span> b <span>}</span><span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<p><strong>Multiline:</strong></p>
<pre><code>
<span>let</span> add <span>=</span> <span>(</span>a<span>,</span> b<span>)</span> <span>=</span><span>&gt;</span> <span>{</span>
  <span>let</span> sum <span>=</span> a <span>+</span> b<span>;</span>
  <span>return</span> sum<span>;</span>
<span>}</span><span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> add <span>=</span> <span><span>|</span>a<span>:</span> i32<span>,</span> b<span>:</span> i32<span>|</span></span> <span>-&gt;</span> i32 <span>{</span>
  <span>let</span> sum <span>=</span> a <span>+</span> b<span>;</span>
  <span>return</span> sum<span>;</span>
<span>}</span><span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<p>Here‚Äôs a cheatsheet:<br><img src="http://www.sheshbabu.com/images/2020-rust-for-javascript-developers-3/image-2.png" alt=""></p>
<p>Closures don‚Äôt need the type annotations most of the time, but I‚Äôve added them here for clarity.</p>
<h2 id="If-Else"><a href="#If-Else" title="If Else"></a>If Else</h2><pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> income <span>=</span> <span>100</span><span>;</span>
  <span>let</span> tax <span>=</span> <span>calculate_tax</span><span>(</span>income<span>)</span><span>;</span>
  <span>println!</span><span>(</span><span>"{}"</span><span>,</span> tax<span>)</span><span>;</span>
<span>}</span>

<span>fn</span> <span>calculate_tax</span><span>(</span>income<span>:</span> i32<span>)</span> <span>-&gt;</span> i32 <span>{</span>
  <span>if</span> income <span>&lt;</span> <span>10</span> <span>{</span>
    <span>return</span> <span>0</span><span>;</span>
  <span>}</span> <span>else</span> <span>if</span> income <span>&gt;=</span> <span>10</span> <span>&amp;&amp;</span> income <span>&lt;</span> <span>50</span> <span>{</span>
    <span>return</span> <span>20</span><span>;</span>
  <span>}</span> <span>else</span> <span>{</span>
    <span>return</span> <span>50</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<h2 id="Loops"><a href="#Loops" title="Loops"></a>Loops</h2><p>While loops:</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> <span>mut</span> count <span>=</span> <span>0</span><span>;</span>

  <span>while</span> count <span>&lt;</span> <span>10</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> count<span>)</span><span>;</span>
    count <span>+=</span> <span>1</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<p>Normal <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for" target="_blank" rel="noopener">for loops</a> don‚Äôt exist in Rust, we need to use <code>while</code> or <code>for..in</code> loops. <code>for..in</code> loops are similar to the <code>for..of</code> loops in JavaScript and they loop over an iterator.</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> numbers <span>=</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>]</span><span>;</span>

  <span>for</span> n <span>in</span> numbers<span>.</span><span>iter</span><span>(</span><span>)</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> n<span>)</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<p>Notice that we‚Äôre not iterating directly over the array but instead using the <code>iter</code> method of the array.</p>
<p>We can also loop over <a href="https://doc.rust-lang.org/reference/expressions/range-expr.html" target="_blank" rel="noopener">ranges</a>:</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>for</span> n <span>in</span> <span>1</span><span>..</span><span>5</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> n<span>)</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<h2 id="Iterators"><a href="#Iterators" title="Iterators"></a>Iterators</h2><p>In JavaScript, we can use array methods like map/filter/reduce/etc instead of <code>for</code> loops to perform calculations or transformations on an array.</p>
<p>For example, here we take an array of numbers, double them and filter out the elements that are less than 10:</p>
<pre><code><span>function</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> numbers <span>=</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>]</span><span>;</span>

  <span>let</span> double <span>=</span> <span>(</span>n<span>)</span> <span>=</span><span>&gt;</span> n <span>*</span> <span>2</span><span>;</span>
  <span>let</span> less_than_ten <span>=</span> <span>(</span>n<span>)</span> <span>=</span><span>&gt;</span> n <span>&lt;</span> <span>10</span><span>;</span>

  <span>let</span> result <span>=</span> numbers<span>.</span><span>map</span><span>(</span>double<span>)</span><span>.</span><span>filter</span><span>(</span>less_than_ten<span>)</span><span>;</span>

  console<span>.</span><span>log</span><span>(</span>result<span>)</span><span>;</span> 
<span>}</span></code></pre>
<p>In Rust, we can‚Äôt directly use map/filter/etc over vectors, we need to follow these steps:</p>
<ol>
<li>Convert the vector into an iterator using <code>iter</code>, <code>into_iter</code> or <code>iter_mut</code> methods</li>
<li>Chain <code>adapters</code> such as map/filter/etc on the iterator</li>
<li>Finally convert the iterator back to a vector using <code>consumers</code> such as <code>collect</code>, <code>find</code>, <code>sum</code> etc</li>
</ol>
<p>Here‚Äôs the equivalent Rust code:</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> numbers <span>=</span> <span>vec!</span><span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>]</span><span>;</span>

  <span>let</span> double <span>=</span> <span><span>|</span>n<span>:</span> <span>&amp;</span>i32<span>|</span></span> <span>-&gt;</span> i32 <span>{</span> n <span>*</span> <span>2</span> <span>}</span><span>;</span>
  <span>let</span> less_than_10 <span>=</span> <span><span>|</span>n<span>:</span> <span>&amp;</span>i32<span>|</span></span> <span>-&gt;</span> bool <span>{</span> <span>*</span>n <span>&lt;</span> <span>10</span> <span>}</span><span>;</span>

  <span>let</span> result<span>:</span> Vec<span>&lt;</span>i32<span>&gt;</span> <span>=</span> numbers<span>.</span><span>iter</span><span>(</span><span>)</span><span>.</span><span>map</span><span>(</span>double<span>)</span><span>.</span><span>filter</span><span>(</span>less_than_10<span>)</span><span>.</span><span>collect</span><span>(</span><span>)</span><span>;</span>

  <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> result<span>)</span><span>;</span> 
<span>}</span></code></pre>
<p>You should be able to understand most of the code above but you might notice few things off here:</p>
<ul>
<li>The usage of <code>&amp;</code> and <code>*</code> in the closure</li>
<li>The <code>Vec&lt;i32&gt;</code> type annotation for the <code>result</code> variable</li>
</ul>
<p>The <code>&amp;</code> is the reference operator and the <code>*</code> is the dereference operator. The <code>iter</code> method instead of copying the elements in the vector, it passes them as references to the next adapter in the chain. This is why we use <code>&amp;i32</code> in the map‚Äôs closure (double). This closure returns <code>i32</code> but <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.filter" target="_blank" rel="noopener">filter</a> calls its closure (less_than_10) with reference so that‚Äôs why we need to use <code>&amp;i32</code> again. To dereference the argument, we use the <code>*</code> operator. We‚Äôll cover this in more detail in future chapters.</p>
<p>Regarding <code>Vec&lt;i32&gt;</code>, so far we haven‚Äôt added type annotations to variables as Rust can infer the types automatically, but for <code>collect</code>, we need to be explicitly tell Rust that we expect a <code>Vec&lt;i32&gt;</code> output.</p>
<p>Aside from map and filter, there are ton of other <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html" target="_blank" rel="noopener">useful adapters</a> that we can use in iterators.</p>
<p>Thanks for reading! Feel free to follow me in <a href="https://twitter.com/sheshbabu" target="_blank" rel="noopener">Twitter</a> for updates :)</p>
</div></div>]]>
            </description>
            <link>http://www.sheshbabu.com/posts/rust-for-javascript-developers-functions-and-control-flow/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23743363</guid>
            <pubDate>Mon, 06 Jul 2020 00:07:34 GMT</pubDate>
        </item>
    </channel>
</rss>
