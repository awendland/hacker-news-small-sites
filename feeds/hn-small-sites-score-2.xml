<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Mon, 24 Aug 2020 08:22:27 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Mon, 24 Aug 2020 08:22:27 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Linked List Operations – Traverse, Insert and Delete]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24242054">thread link</a>) | @Eyssant
<br/>
August 21, 2020 | https://www.alphacodingskills.com/ds/linked-list-operations.php | <a href="https://web.archive.org/web/*/https://www.alphacodingskills.com/ds/linked-list-operations.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 


 
 

<!-- blank -->






<!-- <script>
function myFunction(x) {
  var y = document.getElementById("ad_top");
  if (x.matches) { // If media query matches
    y.style.backgroundColor = "yellow";
  } else {
   y.style.backgroundColor = "pink";
  }
}

var x = window.matchMedia("(max-width: 1500px)")
myFunction(x) // Call listener function at run time
x.addListener(myFunction) // Attach listener function on state changes
</script> --><hr>
<p><a href="https://www.alphacodingskills.com/ds/linked-list.php">Previous Page</a>
<a href="https://www.alphacodingskills.com/ds/circular-singly-linked-list.php" role="button">Next Page</a></p><hr>

<p>In the <a href="https://www.alphacodingskills.com/ds/linked-list.php">previous section</a>, we had discussed about structure of linked list. In this section, we will learn about basic operations of a linked list.</p>

<h2>Traverse a Linked List</h2>
<p>Traversing through a linked list is very easy. It requires creating a temp node pointing to the head of the list. If the temp node is not null, display its content and move to the next node using temp next. Repeat the process till the temp node becomes null. If the temp node is empty at the start, then the list contains no item.</p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Display the content of the list
void PrintList() {
  
  //1. create a temp node pointing to head
  Node* temp = head;
  
  //2. if the temp node is not null continue 
  //   displaying the content and move to the 
  //   next node till the temp becomes null
  if(temp != NULL) {
    cout&lt;&lt;"\nThe list contains: ";
    while(temp != NULL) {
      cout&lt;&lt;temp-&gt;data&lt;&lt;" ";
      temp = temp-&gt;next;
    }
  } else {
    
    //3. If the temp node is null at the start, 
    //   the list is empty
    cout&lt;&lt;"\nThe list is empty.";
  }
} 
</pre>
</div>

<br>
<h2>Insert a new node in Linked List</h2>
<p>A new node can be inserted into a list in three ways:</p>
<ul>
  <li>Insert a node at the start</li>
  <li>Insert a node at the given position</li>
  <li>Insert a node at the end</li>
</ul>
<h3>Insert a new node at the start</h3>
<p>In this method, a new node is inserted at the beginning of the linked list. For example - if the given list is 10-&gt;20-&gt;30 and a new element 100 is added at the start, the list becomes 100-&gt;10-&gt;20-&gt;30.</p>

<p>Inserting a new node at the beginning of the Linked List is very easy. First, a new node with given element is created. It is then added before the head of the given list that makes the newly added node to new head of the list by changing the head pointer to point to the new node.  </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   --> 
<pre>//C++ Code
//Inserts a new node at the start 
void push_front(int newElement) {
  
  //1. allocate a new node
  Node* newNode = new Node();
  
  //2. assign data element 
  newNode-&gt;data = newElement;
  
  //3. make next node of new node as head
  newNode-&gt;next = head;
  
  //4. make new node as head 
  head = newNode;   
}
</pre>
</div>


<br>
<h3>Insert a new node at the given position</h3>
<p>In this method, a new element is inserted at the specified position in the linked list. For example - if the given list is 10-&gt;20-&gt;30 and a new element 100 is added at position 2, the list becomes 10-&gt;100-&gt;20-&gt;30.</p>
<p>First, a new node with given element is created. If the insert position is 1, then the new node is made to head. Otherwise, traverse to the node that is previous to the insert position and check if it is null or not. In case of null, the specified position does not exist. In other case, assign next of the new node as next of the previous node and next of previous node as new node.</p>


<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Inserts a new node at the given position
void push_at(int newElement, int position) {
  
  //1. allocate node to new element
  Node* newNode = new Node(); 
  newNode-&gt;data = newElement;
  newNode-&gt;next = NULL;

  //2. check if the position is &gt; 0
  if(position &lt; 1) {
    cout&lt;&lt;"\nposition should be &gt;= 1.";
  } else if (position == 1) {
  
  //3. if the position is 1, make next of the
  //   new node as head and new node as head
    newNode-&gt;next = head;
    head = newNode;
  } else {

   //4. Else, make a temp node and traverse to the 
   //   node previous to the position
    Node* temp = head;
    for(int i = 1; i &lt; position-1; i++) {
      if(temp != NULL) {
        temp = temp-&gt;next;
      }
    }
 
    //5. If the previous node is not null, make 
    //   newNode next as temp next and temp next 
    //   as newNode.
    if(temp != NULL) {
      newNode-&gt;next = temp-&gt;next;
      temp-&gt;next = newNode;  
    } else {
      
      //6. When the previous node is null
      cout&lt;&lt;"\nThe previous node is null.";
    } 
  }
}
</pre>
</div>

<br>
<h3>Insert a new node at the end</h3>
<p>In this method, a new node is inserted at the end of the linked list. For example - if the given list is 10-&gt;20-&gt;30 and a new element 100 is added at the end, the list becomes 10-&gt;20-&gt;30-&gt;100. </p>

<p>Inserting a new node at the end of the Linked List is very easy. First, a new node with given element is created. It is then added at the end of the list by linking the last node to the new node. </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Inserts a new node at the end
void push_back(int newElement) {
  
  //1. allocate node
  Node* newNode = new Node();
  
  //2. assign data element
  newNode-&gt;data = newElement;
  
  //3. assign null to the next of new node
  newNode-&gt;next = NULL; 
  
  //4. Check the list is empty or not,
  //   if empty make the new node as head 
  if(head == NULL) {
    head = newNode;
  } else {
    
    //5. Else, traverse to the last node
    Node* temp = head;
    while(temp-&gt;next != NULL)
      temp = temp-&gt;next;
    
    //6. Change the next of last node to new node
    temp-&gt;next = newNode;
  }    
}
</pre>
</div>

<br>
<h2>Delete a Node from Linked List</h2>
<p>A node can be deleted from a list in three ways:</p>
<ul>
  <li>Delete the first node</li>
  <li>Delete the node at given position</li>
  <li>Delete the last node</li>
</ul>
<h3>Delete the first node</h3>
<p>In this method, the first node of the linked list is deleted. For example - if the given list is 10-&gt;20-&gt;30-&gt;40 and the first node is deleted, the list becomes 20-&gt;30-&gt;40.</p>

<p>Deleting the first node of the linked list is very easy. If the head is not null then create a temp node pointing to head and move head to the next of head. Then delete the temp node. </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->     
<pre>//C++ Code
//Deletes the first node
void pop_front() {
  if(head != NULL) {
    
    //1. if head is not null, create a
    //   temp node pointing to head
    Node* temp = head;

    //2. move head to next of head
    head = head-&gt;next; 

    //3. delete temp node
    free(temp); 
  }
}
</pre>
</div>

<br>
<h3>Delete a node from middle</h3>
<p>In this method, a node at the specified position in the linked list is deleted. For example - if the given list is 10-&gt;20-&gt;30 and the 2<sup>nd</sup> node is deleted, the list becomes 10-&gt;20.</p>
<p>First, the specified position must be greater than equal to 1. If the specified position is 1 and head is not null, then make the head to head next. Else, traverse to the node that is previous to the specified position. If the specified node and previous to the specified node are not null then adjust the link and delete the node at specified position. In other case, the specified node will be already null.</p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Deletes the node at given position
void pop_at(int position) {     
  
  //1. check if the position is &gt; 0
  if(position &lt; 1) {
    cout&lt;&lt;"\nposition should be &gt;= 1.";
  } else if (position == 1 &amp;&amp; head != NULL) {
      
    //2. if the position is 1 and head is not null,
    //   make head to head next and delete the 
    //   previous head
    Node* nodeToDelete = head;
    head = head-&gt;next;
    free(nodeToDelete);
  } else {
    
    //3. Else, make a temp node and traverse to the 
    //   node previous to the position
    Node* temp = head;
    for(int i = 1; i &lt; position-1; i++) {
      if(temp != NULL) {
        temp = temp-&gt;next;
      }
    }
 
    //4. If the previous node and next of the previous  
    //   is not null, adjust links 
    if(temp != NULL &amp;&amp; temp-&gt;next != NULL) {
        Node* nodeToDelete = temp-&gt;next;
        temp-&gt;next = temp-&gt;next-&gt;next;
        free(nodeToDelete); 
    } else {

      //5. Else the given node will be empty.
      cout&lt;&lt;"\nThe node is already null.";
    }       
  }
} 
</pre>
</div>

<br>
<h3>Delete the last node</h3>
<p>In this method, the last node of the linked list is deleted. For example - if the given list is 10-&gt;20-&gt;30-&gt;40 and the last node is deleted, the list becomes 10-&gt;20-&gt;30.</p>
<p>Deleting the last node of the Linked List involves checking the head for empty. If it is not empty, then check the head next for empty. If the head next is empty, then release the head, else traverse to the second last node of the list. Then, link the next of second last node to NULL and delete the last node.  </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->  
<pre>//C++ Code
//Deletes the last node
void pop_back() {
  if(head != NULL) {
    
    //1. if head in not null and next of head
    //   is null, release the head
    if(head-&gt;next == NULL) {
      head = NULL;
    } else {
      
      //2. Else, traverse to the second last 
      //   element of the list
      Node* temp = head;
      while(temp-&gt;next-&gt;next != NULL)
        temp = temp-&gt;next;
      
      //3. Change the next of the second 
      //   last node to null and delete the
      //   last node
      Node* lastNode = temp-&gt;next;
      temp-&gt;next = NULL; 
      free(lastNode);
    }
  }
}
</pre>
</div>



<hr>
<p><a href="https://www.alphacodingskills.com/ds/linked-list.php">Previous Page</a>
<a href="https://www.alphacodingskills.com/ds/circular-singly-linked-list.php" role="button">Next Page</a></p><hr>


<!-- 2nd column end -->
</div></div>]]>
            </description>
            <link>https://www.alphacodingskills.com/ds/linked-list-operations.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-24242054</guid>
            <pubDate>Sat, 22 Aug 2020 06:12:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stef's Free Online Smalltalk Books]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24241561">thread link</a>) | @triyambakam
<br/>
August 21, 2020 | http://stephane.ducasse.free.fr/FreeBooks.html | <a href="https://web.archive.org/web/*/http://stephane.ducasse.free.fr/FreeBooks.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
	   I started to be fed up to see all the books I like to be out of print, so I started to contact authors and 
	   collect their old books. I would like to thanks them all and their publishers as well. If you
       know an author that is willing to give to the community a book, please give
       him my email. You can support me. </p><p> Thanks in advance. 




</p><p>
You can find a lot more recent and free books at <a href="http://books.pharo.org/">http://books.pharo.org</a>: Spec, Pharo by Example Updated, Pharo with Style, Learning OOD with TDD, and many more. 
In addition most the new books around Pharo are hosted at <a href="http://github.com/SquareBracketAssociates">http://github.com/SquareBracketAssociates</a> and each project has an automatic build with the latest PDF version.


</p><p>
If you have more books and you want to get them archived and listed here please contact me.

</p><div width="95%" height="174">

	<tbody><tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/DynamicWebDevInSeaside/DynWebDevInSeaside.png" width="100"></td>
	    <td>
	      <p><a href="http://book.seaside.st/">[ Dynamic Web Development with Seaside ]</a> Stephane Ducasse, Lukas Renggli, David C. Shaffer and Rick Zaccone. Square Bracket Associates, 2009.</p>
	     
	This book is made available under the Creative Commons Attribution-ShareAlike 3.0 license. You will be able to  buy a softcover copy from <a href="http://www.lulu.com/">lulu.com</a>. 
	    </td>
	  </tr>
	

	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/PBE/PharoByExample.png" width="100"></td>
	    <td>
	      <p><a href="http://books.pharo.org/">[ Pharo by Example (original version and translation) ]</a> Andrew P. Black, Stéphane Ducasse, Oscar Nierstrasz, Damien Pollet with Damien Cassou and Marcus Denker. Square Bracket Associates, 2009.</p> Pay attention there is also Pharo by Example Updated (for Pharo 50) and we are working on Pharo by Example for Pharo 80.
	     
	This book is made available under the Creative Commons Attribution-ShareAlike 3.0 license. You will be able to  buy a softcover copy from <a href="http://www.lulu.com/">lulu.com</a>. 
	    </td>
	  </tr>

	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Gnu/GNU.png" width="100"></td>
	    <td>
	     <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Gnu/computer_programming_using_gnu_smalltalk.pdf">[ Computer Programming using GNU Smalltalk ]</a> Canol Gokel, free e-book. 2009. 
	   <a href="http://www.canol.info/books/computer_programming_using_gnu_smalltalk">home page of the book to have an up to date version</a>.
		</p> 
	    </td>
	  </tr> 


  	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SBE/sbe.png" width="100"></td>
	    <td>
	      <p><a href="https://hal.inria.fr/inria-00441576/document">[ Squeak by Example ]</a> Andrew P. Black, Stéphane Ducasse, Oscar Nierstrasz and Damien Pollet. Square Bracket Associates, 2007.</p> Watch out this book is old. Better read <a href="http://books.pharo.org/">Pharo by Example book</a>.
	    </td>
	  </tr>
	
	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDesignPatternCompanion/coversm.gif" width="100"></td>
	    <td>
	      <p> <a href="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDesignPatternCompanion">[ Smalltalk design pattern companion book drafts ]</a> Sherman Alpert, Kyle Brown, and Bobby Woolf. Addison-Wesley,  978-02011846241998.</p>
		The chapters listed here are not in their final form but more in draft form. Buy the book it is really excellent. 
	    </td>
	  </tr>
	
	
   <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/ByExample/byExample.gif" width="100"></td>
    <td> 
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/ByExample/">[ Smalltalk by
      Example: the Developer's Guide ]</a> Alex Sharp, McGraw Hill Text; ISBN:
      0079130364, 1997.</p>
      This book covers all kinds of issues basic level, design, testing... I
      liked it a lot. The code and the book as a single file containing everything are available. Thank again
      Lukas Renggli for his effort for converting everything from Word.
       Thanks a lot Alec and thanks McGraw-Hill <a href="http://books.mcgraw-hill.com/">http://books.mcgraw-hill.com/</a>
  They were really nice with us so think about it if you hesitate to buy
  one of their books. Not all the publishers are that open-minded. 
  </td>
  </tr>
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/WithStyle/WithStyle.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/WithStyle/SmalltalkWithStyle.pdf">[ Smalltalk With Style ]</a> by Edward Klimas, Suzanne Skublics and David A. Thomas. 
		ISBN: 0-13-165549-3, Publisher: Prentice Hall, Copyright: 1996. A great and 
		small book that everybody should read. Thanks Ed, Suzanne and Dave to give it for free. 
		Thanks Don for the OCR!
	   </p>
    </td>
  </tr>
  
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalkV1.png" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalk.pdf">[ Inside Smalltalk 
       (Volume One) ]</a>  by LaLonde, Wilf R. and Pugh, John R., Prentice-Hall, 1990, ISBN 0-13-468414-1.
       Thanks Don for the OCR! 
	   </p>
    </td>
  </tr>
  
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalkV2.png" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalkII.pdf">[ Inside Smalltalk (Volume Two)],</a>  by LaLonde, Wilf R. and Pugh, John R., Prentice-Hall, 1990, ISBN 0-13-468414-1. Thanks Don for the OCR! </p>
    </td>
  </tr>
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/LittleSmalltalk/littleST.jpeg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/LittleSmalltalk/ALittleSmalltalk.pdf">[ A Little Smalltalk ] </a> by Tim Budd, Addison-Wesley 1987.  
      <br>Many thanks to Tim Budd and his  publisher. Please have a look at <a href="http://www.aw.com/catalog/academic/discipline/1,4094,69948,00.html">http://www.aw.com/catalog/academic/discipline/1,4094,69948,00.html</a>. Thanks Don for the OCR!.
		</p>
    </td>
  </tr>
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Art/Art.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Art/artAdded174186187Final.pdf">[ The Art and Science of Smalltalk ]</a>  by Simon Lewis, Prentice-Hall 1995-1999.  
      <br>Many thanks to the original publishers of this book Prentice-Hall, the responsible of the HP series and Simon Lewis.</p>
    </td>
  </tr>
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/PracticalSmalltalk/practical.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/PracticalSmalltalk/PracticalSmalltalk.pdf">[ Practical Smalltalk: Using Smalltalk/V ]</a>  by Dan Shafer and Dean A. Ritz, Springer Verlag; (July 1991).  
      <br>Many thanks to the original publishers of this book Springer Verlag,  and Dan. Thanks</p>
    </td>
  </tr>
  
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/HopkinsHoran/HopkinsHoran.jpg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/HopkinsHoran/HopkinsHoran.pdf">[ Smalltalk An Introduction to Application Development using VisualWorks ]</a> Trevor Hopkins and Bernard Horan,  Pearson Education, 1995. The answers of the exercises are at ftp://st.cs.uiuc.edu/pub/Smalltalk/books/Book_Answers.tar.gz
      <br>Many thanks to the original publishers of this book,  Pearson Education,  for permission to distribute this work, and of course the authors! </p>
    </td>
  </tr>

<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/STandOO/st-and-oo.jpg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/STandOO/Smalltalk-and-OO.pdf"> [ Smalltalk and Object Orientation: an Introduction ] </a> Springer-Verlag, ISBN 3-540-76115-2, 1997.
</p>
      <br>This book provides a good survey of Smalltalk. Some information are now obsolete 
      but it is still worth reading. Enjoy it. Thanks John to support our request. We want to thank Springer Verlag Publishing
    for allowing us to give you this book for free.
    </td>
  </tr>
  
 <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkVTutorial/emptyCover.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkVTutorial/SmalltalkVTutorial.pdf"> [ Smalltalk V Tutorial ]</a>
	   </p>
    </td>
  </tr>

  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Taste/taste.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Taste/"> [ The Taste of Smalltalk ] </a> Ted Kaehler and Dave Patterson, W W Norton Co.; ISBN: 0393955052; (May 1986).</p>
      This book is for collectors. The quotes are really excellent. 
      <br>All the chapters are ready (except chap.2 for now)
    Enjoy it. (Scanned ... by Stef, Alex, Gabriela, and Lukas).
    Thanks Ted.
    </td>
  </tr>

 <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/emptyCover.gif" width="100"></td>
    <td>
     <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Joy/">[ The Joy Of Smalltalk ]</a> Ivan
    Tomek (September 2000). 700 pages</p>
    Ivan wrote this book and he gave it to the community. It contains a lot of useful material. 
    Thanks again ivan and continue to write good books. 
    </td>
  </tr>
  
  
  
   <!--<tr>
    <td width="45%"><img src="FreeBooks/SmalltalkObjectAndDesign/SmalltalkObjectAndDesign.jpg" width=100></td>
    <td width="55%">
      <p><a href="http://books.iuniverse.com/viewbooks.asp?isbn=1583484906&page=fm1">Smalltalk,objects and design</a>
	  Liu, iUniverse books</p>
      
	  </font>
    </td>
  </tr>-->
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/BitsOfHistory/BitsOfHistory.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/BitsOfHistory/"> [ Smalltalk-80, Bits of History, Words of Advice] </a> By Glen Krasner, Editor
ISBN 0-201-11669-3. 344 pp. 1983</p>
      This book is for collectors. Thanks Glenn.
    </td>
  </tr>

  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/BlueBook/blueBook.jpg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/BlueBook/">[ Smalltalk-80: The Language and its Implementation ]</a>
	By Adele Goldberg and DavidRobson; 		Xerox Palo Alto Research Center
	ISBN 0-201-11371-6. 344 pp. 1983</p>
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/TheInteractiveProgrammingEnv/TheInteractiveProgrammingEnv.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/TheInteractiveProgrammingEnv/TheInteractiveProgrammingEnv.pdf">[ Smalltalk-80, The Interactive Programming Environment ]</a> By Adele Goldberg 
ISBN  0201113724. 560 pp. 1983</p> This book is for collectors. Thanks Adele. Thanks Don for the OCR!
    </td>
  </tr>
  
 <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/CollectiveNBlueBook/small-bluebook-cover.jpg" width="100"></td>
    <td>
    <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/CollectiveNBlueBook/">[ DRAFTS of Squeak, Open Personal Computing and Multimedia ]</a> Mirror of <a href="http://coweb.cc.gatech.edu/squeakbook/">http://coweb.cc.gatech.edu/squeakbook/</a> Edited by Mark Guzdial and Kim Rose. Prentice-Hall 2000.  It's available from Prentice-Hall.  </p>
    <br>
    </td>
  </tr>
  
  
   <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/GuzdialBookDrafts/mark1.jpg" width="100"></td>
    <td>
     <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/GuzdialBookDrafts/">[ DRAFS of Squeak: Open Personal Computing for Multimedia ]</a>
	 taken from <a href="http://www.cc.gatech.edu/~mark.guzdial/drafts/">http://www.cc.gatech.edu/~mark.guzdial/drafts/</a> 
	 Mark Guzdial, Prentice-Hall 2000. It's available from Prentice-Hall. </p>
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Syntax/BuchLogo.png" width="100"></td>
    <td>
      <p> <a href="http://sdmeta.gforge.inria.fr/FreeBooks/Syntax/Syntax.zip">[ (In German) Syntaxbasierte
      Programmierwerkzeuge ]</a> L. Schmitz, B.G. Teubner Stuttgart 1995.  
        1996.</p>
      <p>This book presents compilation techniques in german.
	 Lothar Schmitz is still developing a free visual compiler-compiler
	 (SIC and JACCIE).  <!-- <a
	 href="http://ist.unibw-muenchen.de/Research/Tools/SIC">http://ist.unibw-muenchen.de/Research/Tools/SIC</a> 
<a href="http://ist.unibw-muenchen.de/Research/Tools/JACCIE">http://ist.unibw-muenchen.de/Research/Tools/JACCIE</a> 
-->

</p>
    </td>
  </tr>

  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDE/emptyCover.gif" width="100"></td>
    <td>
      <p> <a href="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDE/smalltalkBuch.pdf">[ (In German) Smalltalk
      Einfuehrung in die objekt-orientierte Programmierung ]</a> Peter P. Bothner, Wolf-Michael Kaehler 1999.  
        1996.</p>
      <p>This book presents object-oriented programming in german with VisualWorks.  
<!-- <a href="http://e-books.zfn.uni-bremen.de/e-book-SMALLTALK.html</a>  
-->

</p>
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/emptyCover.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Swedish/">[  (In Swedish) Objektorienterad programmering i Smalltalk ]</a>
	  Bjoern Eiderbaeck, Per Haegglund, and Olle Baelter</p>
      <br>Thanks Bjoern Eiderbaeck.
	  
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Programando/Programando.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Programando/ProgramandoConSmalltalk-BORRADORFINAL07-Febrero-2006.pdf">[ (In Spanish) Programando con Smalltalk ]</a>
	  Diego Gomez Deck</p>
      <br>Thanks Diego. This book is distributed under the Creative Commons license.
	  
    </td>
  </tr>
  
</tbody></div><p>
 I added some other material because they illustrate the philosophy behind Smalltalk.

 </p></div>]]>
            </description>
            <link>http://stephane.ducasse.free.fr/FreeBooks.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241561</guid>
            <pubDate>Sat, 22 Aug 2020 04:33:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Debian Janitor: 60k Lintian Issues Automatically Fixed]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24241549">thread link</a>) | @zdw
<br/>
August 21, 2020 | https://www.jelmer.uk/janitor-update-3.html | <a href="https://web.archive.org/web/*/https://www.jelmer.uk/janitor-update-3.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="layout">
    <div>
        <div>
            <section>
                
            </section>
            <p>The <a href="https://jelmer.uk/debian-janitor.html">Debian Janitor</a> is an automated
system that commits fixes for (minor) issues in Debian packages that can be
fixed by software. It gradually started proposing merges in early
December. The first set of changes sent out ran <a href="https://salsa.debian.org/jelmer/lintian-brush">lintian-brush</a> on sid packages maintained in
Git. This post is part of <a href="https://jelmer.uk/tag/janitor-update.html">a series</a> about the progress of the
Janitor.</p>
<div id="scheduling-lintian-fixes">
<h2>Scheduling Lintian Fixes</h2>
<p>To determine which packages to process, the  <a href="https://janitor.debian.net/">Janitor</a>  looks at the import of  <a href="https://lintian.debian.org/">lintian</a>  output across the archive that is available
in  <a href="https://wiki.debian.org/UltimateDebianDatabase/">UDD</a> <a href="#f1" id="id1">[1]</a>. It
will prioritize those packages with the most and more severe issues that it has
fixers for.</p>
<p>Once a package is selected, it will clone the packaging repository and run
<a href="https://manpages.debian.org/testing/lintian-brush/lintian-brush.1.en.html">lintian-brush</a>
on it.  Lintian-brush provides a framework for applying a set of “fixers” to a
package. It will run each of a set of “fixers” in a pristine version of the
repository, and handles most of the heavy lifting.</p>
</div>
<div id="the-inner-workings-of-a-fixer">
<h2>The Inner Workings of a Fixer</h2>
<p>Each fixer is just an executable which gets run in a clean
checkout of the package, and can make changes there. Most
of the fixers are written in Python or shell, but they
can be in any language.</p>
<p>The contract for fixers is pretty simple:</p>
<ul>
<li>If the fixer exits with non-zero, the changes are reverted and fixer is
considered to have failed</li>
<li>If exits with zero and made changes, then it should write a summary of its
changes to standard out</li>
</ul>
<p>If a fixer is uncertain about the changes it has made, it should report so on
standard output using a pseudo-header.  By default, lintian-brush will discard
any changes with uncertainty but if you are running it locally you can still
apply them by specifying <tt><span>--uncertain</span></tt>.</p>
<p>The summary message on standard out will be used for the commit message and
(possibly) the changelog message, if the package doesn’t use gbp dch.</p>
</div>
<div id="example-fixer">
<h2>Example Fixer</h2>
<p>Let’s look at an example. The package priority “extra” is deprecated since
Debian Policy 4.0.1 (released August 2 017) – see
<a href="https://www.debian.org/doc/debian-policy/ch-archive.html#priorities">Policy 2.5 "Priorities"</a>.
Instead, most packages should use the “optional” priority.</p>
<p>Lintian will warn when a package uses the deprecated “extra” value for the
“Priority”  - the associated tag is
<a href="https://lintian.debian.org/tags/priority-extra-is-replaced-by-priority-optional.html">priority-extra-is-replaced-by-priority-optional</a>.
Lintian-brush has a fixer script that can automatically replace “extra” with
“optional”.</p>
<p>On systems that have lintian-brush installed, the source for the fixer lives in
<a href="https://salsa.debian.org/jelmer/lintian-brush/-/blob/master/fixers/priority-extra-is-replaced-by-priority-optional.py">/usr/share/lintian-brush/fixers/priority-extra-is-replaced-by-priority-optional.py</a>,
but here is a copy of it for reference:</p>
<table><tbody><tr><td><div><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td><div><pre><span></span><span>#!/usr/bin/python3</span>

<span>from</span> <span>debmutate.control</span> <span>import</span> <span>ControlEditor</span>
<span>from</span> <span>lintian_brush.fixer</span> <span>import</span> <span>report_result</span><span>,</span> <span>fixed_lintian_tag</span>

<span>with</span> <span>ControlEditor</span><span>()</span> <span>as</span> <span>updater</span><span>:</span>
    <span>for</span> <span>para</span> <span>in</span> <span>updater</span><span>.</span><span>paragraphs</span><span>:</span>
        <span>if</span> <span>para</span><span>.</span><span>get</span><span>(</span><span>"Priority"</span><span>)</span> <span>==</span> <span>"extra"</span><span>:</span>
            <span>para</span><span>[</span><span>"Priority"</span><span>]</span> <span>=</span> <span>"optional"</span>
            <span>fixed_lintian_tag</span><span>(</span>
                <span>para</span><span>,</span> <span>'priority-extra-is-replaced-by-priority-optional'</span><span>)</span>

<span>report_result</span><span>(</span><span>"Change priority extra to priority optional."</span><span>)</span>
</pre></div>
</td></tr></tbody></table><p>This fixer is written in Python and uses the  <a href="https://salsa.debian.org/jelmer/debmutate">debmutate</a>  library to easily modify
control files while preserving formatting — or back out if it is not possible
to preserve formatting.</p>
<p>All the current fixers come with tests, e.g. for this particular fixer the
tests can be found here:
<a href="https://salsa.debian.org/jelmer/lintian-brush/-/tree/master/tests/priority-extra-is-replaced-by-priority-optional">https://salsa.debian.org/jelmer/lintian-brush/-/tree/master/tests/priority-extra-is-replaced-by-priority-optional</a>.</p>
<p>For more details on writing new fixers, see the  <a href="https://salsa.debian.org/jelmer/lintian-brush#writing-new-fixers">README</a>  for
lintian-brush.</p>
<p>For more details on debugging them, see the  <a href="https://manpages.debian.org/unstable/lintian-brush/lintian-brush.1.en.html">manual page</a>.</p>
</div>


            

            

            
            <p><a href="#">Go Top</a></p>        </div>
    </div>
</div></div>]]>
            </description>
            <link>https://www.jelmer.uk/janitor-update-3.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241549</guid>
            <pubDate>Sat, 22 Aug 2020 04:30:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Nat Traversal Works]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24241105">thread link</a>) | @signa11
<br/>
August 21, 2020 | https://tailscale.com/blog/how-nat-traversal-works/ | <a href="https://web.archive.org/web/*/https://tailscale.com/blog/how-nat-traversal-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
<p>We covered a lot of ground in our post about <a href="https://tailscale.com/blog/how-tailscale-works/"><em>How Tailscale
Works</em></a>.  However, we glossed over how we can get through NATs
(Network Address Translators) and connect your devices directly to
each other, no matter what’s standing between them. Let’s talk about
that now!</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-intro.png">
    
    
</figure>

<p>Let’s start with a simple problem: establishing a peer-to-peer
connection between two machines. In Tailscale’s case, we want to set
up a WireGuard® tunnel, but that doesn’t really matter. The
techniques we use are widely applicable and the work of many people
over decades. For example, <a href="https://webrtc.org/">WebRTC</a> uses this bag of tricks to
send peer-to-peer audio, video and data between web browsers. VoIP
phones and some video games use similar techniques, though not always
successfully.</p>
<p>We’ll be discussing these techniques generically, using Tailscale and
others for examples where appropriate. Let’s say you’re making your
own protocol and that you want NAT traversal. You need two things.</p>
<p>First, the protocol should be based on UDP. You <em>can</em> do NAT traversal
with TCP, but it adds another layer of complexity to an already quite
complex problem, and may even require kernel customizations depending
on how deep you want to go. We’re going to focus on UDP for the rest
of this article.</p>
<p>If you’re reaching for TCP because you want a stream-oriented
connection when the NAT traversal is done, consider using QUIC
instead. It builds on top of UDP, so we can focus on UDP for NAT
traversal and still have a nice stream protocol at the end.</p>
<p>Second, you need direct control over the network socket that’s sending
and receiving network packets. As a rule, you can’t take an existing
network library and make it traverse NATs, because you have to send
and receive extra packets that aren’t part of the “main” protocol
you’re trying to speak. Some protocols tightly integrate the NAT
traversal with the rest (e.g. WebRTC). But if you’re building your
own, it’s helpful to think of NAT traversal as a separate entity that
shares a socket with your main protocol. Both run in parallel, one
enabling the other.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-deep-integration.png">
    
    
</figure>

<p>Direct socket access may be tough depending on your situation. One
workaround is to run a local proxy. Your protocol speaks to this
proxy, and the proxy does both NAT traversal and relaying of your
packets to the peer. This layer of indirection lets you benefit from
NAT traversal without altering your original program.</p>
<p>With prerequisites out of the way, let’s go through NAT traversal from
first principles. Our goal is to get UDP packets flowing
bidirectionally between two devices, so that our other protocol
(WireGuard, QUIC, WebRTC, …) can do something cool. There are two
obstacles to having this Just Work: stateful firewalls and NAT
devices.</p>
<h3 id="figuring-out-firewalls">Figuring out firewalls</h3>
<p>Stateful firewalls are the simpler of our two problems. In fact, most
NAT devices include a stateful firewall, so we need to solve this
subset before we can tackle NATs.</p>
<p>There are many incarnations to consider. Some you might recognize are
the Windows Defender firewall, Ubuntu’s ufw (using iptables/nftables),
BSD’s pf (also used by macOS) and AWS’s Security Groups. They’re all
very configurable, but the most common configuration allows all
“outbound” connections and blocks all “inbound” connections. There
might be a few handpicked exceptions, such as allowing inbound SSH.</p>
<p>But connections and “direction” are a figment of the protocol
designer’s imagination. On the wire, every connection ends up being
bidirectional; it’s all individual packets flying back and forth. How
does the firewall know what’s inbound and what’s outbound?</p>
<p>That’s where the stateful part comes in. Stateful firewalls remember
what packets they’ve seen in the past and can use that knowledge when
deciding what to do with new packets that show up.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-1a.png">
    
    
</figure>

<p>For UDP, the rule is very simple: the firewall allows an inbound UDP
packet if it previously saw a matching outbound packet. For example,
if our laptop firewall sees a UDP packet leaving the laptop from
<code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, it’ll make a note that incoming
packets from <code>7.7.7.7:5678</code> to <code>2.2.2.2:1234</code> are also fine. The
trusted side of the world clearly intended to communicate with
<code>7.7.7.7:5678</code>, so we should let them talk back.</p>
<p>(As an aside, some <em>very</em> relaxed firewalls might allow traffic from
anywhere back to <code>2.2.2.2:1234</code> once <code>2.2.2.2:1234</code> has communicated
with anyone. Such firewalls make our traversal job easier, but are
increasingly rare.)</p>
<h4 id="firewall-face-off">Firewall face-off</h4>
<p>This rule for UDP traffic is only a minor problem for us, as long as
all the firewalls on the path are “facing” the same way. That’s
usually the case when you’re communicating with a server on the
internet. Our only constraint is that the machine that’s <em>behind</em> the
firewall(s) must be the one initiating all connections. Nothing can
talk to it, unless it talks first.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-2.png">
    
    
</figure>

<p>This is fine, but not very interesting: we’ve reinvented client/server
communication, where the server makes itself easily reachable to
clients. In the VPN world, this leads to a hub-and-spoke topology: the
hub has no firewalls blocking access to it and the firewalled spokes
connect to the hub.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-3.png">
    
    
</figure>

<p>The problems start when two of our “clients” want to talk
directly. Now the firewalls are facing each other. According to the
rule we established above, this means both sides must go first, but
also that neither can go first, because the other side has to go
first!</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-4.png">
    
    
</figure>

<p>How do we get around this? One way would be to require users to
reconfigure one or both of the firewalls to “open a port” and allow
the other machine’s traffic. This is not very user friendly. It also
doesn’t scale to mesh networks like Tailscale, in which we expect the
peers to be moving around the internet with some regularity. And, of
course, in many cases you don’t have control over the firewalls: you
can’t reconfigure the router in your favorite coffee shop, or at the
airport. (At least, hopefully not!)</p>
<p>We need another option. One that doesn’t involve reconfiguring
firewalls.</p>
<h4 id="finessing-finicky-firewalls">Finessing finicky firewalls</h4>
<p>The trick is to carefully read the rule we established for our
stateful firewalls. For UDP, the rule is: <strong>packets must flow out
before packets can flow back in.</strong></p>
<p>However, nothing says the packets must be <em>related</em> to each other
beyond the IPs and ports lining up correctly. As long as <em>some</em> packet
flowed outwards with the right source and destination, any packet that
<em>looks like</em> a response will be allowed back in, even if the other
side never received your packet!</p>
<p>So, to traverse these multiple stateful firewalls, we need to share
some information to get underway: the peers have to know in advance
the <code>ip:port</code> their counterpart is using. One approach is to
statically configure each peer by hand, but this approach doesn’t
scale very far. To move beyond that, we built a <a href="https://tailscale.com/blog/how-tailscale-works/#the-control-plane-key-exchange-and-coordination">coordination
server</a> to keep the <code>ip:port</code> information synchronized in a
flexible, secure manner.</p>
<p>Then, the peers start sending UDP packets to each other. They must
expect some of these packets to get lost, so they can’t carry any
precious information unless you’re prepared to retransmit them. This
is generally true of UDP, but especially true here. We’re <em>going</em> to
lose some packets in this process.</p>
<p>Our laptop and workstation are now listening on fixed ports, so that
they both know exactly what <code>ip:port</code> to talk to. Let’s take a look at
what happens.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5a.png">
    
    
</figure>

<p>The laptop’s first packet, from <code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, goes
through the Windows Defender firewall and out to the internet. The
corporate firewall on the other end blocks the packet, since it has no
record of <code>7.7.7.7:5678</code> ever talking to <code>2.2.2.2:1234</code>. However,
Windows Defender now remembers that it should expect and allow
responses from <code>7.7.7.7:5678</code> to <code>2.2.2.2:1234</code>.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5b.png">
    
    
</figure>

<p>Next, the workstation’s first packet from <code>7.7.7.7:5678</code> to
<code>2.2.2.2:1234</code> goes through the corporate firewall and across the
internet. When it arrives at the laptop, Windows Defender thinks “ah,
a response to that outbound request I saw”, and lets the packet
through! Additionally, the corporate firewall now remembers that it
should expect responses from <code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, and
that those packets are also okay.</p>
<p>Encouraged by the receipt of a packet from the workstation, the laptop
sends another packet back. It goes through the Windows Defender
firewall, through the corporate firewall (because it’s a “response” to
a previously sent packet), and arrives at the workstation.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5c.png">
    
    
</figure>

<p>Success! We’ve established two-way communication through a pair of
firewalls that, at first glance, would have prevented it.</p>
<h4 id="creative-connectivity-caveats">Creative connectivity caveats</h4>
<p>It’s not always so easy. We’re relying on some indirect influence over
third-party systems, which requires careful handling. What do we need
to keep in mind when managing firewall-traversing connections?</p>
<p>Both endpoints must attempt communication at roughly the same time, so
that all the intermediate firewalls open up while both peers are still
around. One approach is to have the peers retry continuously, but this
is wasteful. Wouldn’t it be better if both peers knew to start
establishing a connection at the same time?</p>
<p>This may sound a little recursive: to communicate, first you need to
be able to communicate. However, this preexisting “side channel”
doesn’t need to be very fancy: it can have a few seconds of latency,
and only needs to deliver a few thousand bytes in total, so a tiny VM
can easily be a matchmaker for thousands of machines.</p>
<p>In the distant past, I used XMPP chat messages as the side channel,
with great results. As another example, WebRTC requires you to come up
with your own “signalling channel” (a name that reveals WebRTC’s IP
telephony ancestry), and plug it into the WebRTC APIs. In Tailscale,
our coordination server and fleet of DERP (Detour Encrypted Routing
Protocol) servers act as …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tailscale.com/blog/how-nat-traversal-works/">https://tailscale.com/blog/how-nat-traversal-works/</a></em></p>]]>
            </description>
            <link>https://tailscale.com/blog/how-nat-traversal-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241105</guid>
            <pubDate>Sat, 22 Aug 2020 02:36:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Gentle Introduction to Zero-Knowledge Proofs with Hands-On Examples]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24240915">thread link</a>) | @mariorz
<br/>
August 21, 2020 | https://dochdoch.gitlab.io/snark_intro/snark_intro_front/ | <a href="https://web.archive.org/web/*/https://dochdoch.gitlab.io/snark_intro/snark_intro_front/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://dochdoch.gitlab.io/snark_intro/snark_intro_front/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240915</guid>
            <pubDate>Sat, 22 Aug 2020 01:53:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bread, How Did They Make It? Part IV: Markets, Merchants and the Tax Man]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 7 (<a href="https://news.ycombinator.com/item?id=24240677">thread link</a>) | @Kednicma
<br/>
August 21, 2020 | https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>As the fourth and final part (<a href="https://acoup.blog/2020/07/24/collections-bread-how-did-they-make-it-part-i-farmers/">I</a>, <a href="https://acoup.blog/2020/07/31/collections-bread-how-did-they-make-it-part-ii-big-farms/">II</a>, <a href="https://acoup.blog/2020/08/06/collections-bread-how-did-they-make-it-part-iii-actually-farming/">III</a>) of our look at the basic structure of food production in the pre-modern world (particularly farming grain to make bread), this week we’re going to look at how at least some of the delicious food we made in the last post might make its way into the hands of people who are <em>not</em> <a href="https://acoup.blog/2020/07/24/collections-bread-how-did-they-make-it-part-i-farmers/">farmers </a>or even<a href="https://acoup.blog/2020/07/31/collections-bread-how-did-they-make-it-part-ii-big-farms/"> farm owners</a>.</p>



<p>In the previous three posts, I have mostly just used the magic word ‘markets’ to describe how the food produced in the countryside gets to the cities and people who are not farmers.  As we’ll see in this post, that is a bit of an oversimplifying fib, both in that the phrase ‘markets’ covers a <em>lot </em>of complexity, but also (as we’ll see) some of the major drivers of moving that food from the countryside into towns doesn’t involve money <em>or</em> market interactions.  That said, we’re going to <em>start</em> with market transactions, because while they are actually the minority-type in many of these societies, they are more readily familiar and understandable, I suspect, to modern readers.  Then we’ll move to <em>extraction</em> as the other category.</p>



<p>Speaking of extraction, as always, if you like what you are reading here, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreo</a>n. And if you want updates whenever a new post appears, you can click the button below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts, as well as my occasional ancient history, foreign policy or pop-culture thoughts.</p>






<h2>Point of Sale</h2>



<p>I want to start by leaning on (with small modifications for clarity) Paul Erdkamp’s taxonomy of the various options by which food might get into the stream of commerce.  A small farmer might sell their grain (I) directly to city-dwellers, (II) indirectly, via urban middlemen and grain merchants, either in the market or (III) ‘at the gate’ (meaning selling to merchants who come out to the farm in order to buy; the difference being who transports the food to the city), (IV) to itinerant traders at periodic rural markets or (V) to other local small farmers.  As we’ll see, <em>large </em>landholders have a <em>somewhat</em> larger range of options within this taxonomy, but the fundamentals are the same.</p>



<p>While all of these sale methods certainly happened, in every society I have looked at, Option I – selling directly to city-dwellers – is fairly rare for grains and other bulk agricultural goods.  Market <em>gardeners</em>, selling fruits, vegetables (and sometimes flowers) often do sell this way, maintaining a high-intensity garden near town and a shop or stall in the town market.  Likewise, while Option V – small-scale trade between farmers – absolutely happens, it is typically non-monetary: the banqueting of neighbors discussed in the first post.  Where it is monetary, it is typically quite small scale and very short distance.  By and large, small and mid-sized farmers hadn’t the time, expertise or infrastructure to sell their goods directly.  They needed to be farming, not manning a market stall or trying to figure out how to store their goods close to the point of sale.  And of course large landowners, being rich, aren’t going to stand in the market square either (and in many cases don’t want their obvious representative doing so either,  see below).  So while I and V happen, they’re not too common or too large a portion of total trade and we may lay them aside for this discussion.</p>



<p>That leaves Options II, III and IV, all of which involve selling grain to a middle-man merchant of some sort.  The main difference is the location of sale (in town, at the gate, or at periodic rural markets).  Outside of large cities and major ports, markets were likely to be <em>periodic</em>, occurring only on certain days (typically around once per week).  In Roman Italy, these were the <em>nundinae</em> (‘ninth days,’ although it was an 8-day cycle as the Romans count inclusively); the <em>nundinae</em> were minor festivals, days of rest and merrymaking, but they were also the days when the rural markets would be open – the rest-day from agricultural labor enabled farmers to head into local towns to buy or sell whatever they needed (interestingly, at Rome, the <em>nundinae</em> were <em>dies nefasti</em> – state business couldn’t generally be conducted on them – so poor farmers hoping to use their day off to participate politically were out of luck).  Similar periodic markets are common in the Middle Ages (and even today; most ‘farmer’s markets’ in the United States are periodic, <a href="http://www.carrborofarmersmarket.com/">including my town’s</a>).  The periodic nature of these markets is an adaptation to agricultural rhythms; for a market to function there need to be a lot of people together all at once and the small towns that dotted the countryside simply didn’t have the density to do that all of the time.</p>



<figure><img data-attachment-id="4249" data-permalink="https://acoup.blog/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg" data-orig-size="2325,663" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=2048 2048w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://en.wikipedia.org/wiki/Merchant#/media/File:Fresco_from_the_House_of_Julia_Felix,_Pompeii_depicting_scenes_from_the_Forum_market.JPG">Via Wikipedia</a>, a fresco showing market activity, with merchants showing off wares of fabric (left) and goods in pots (center) from the House of Julia Felix at Pompeii, first century CE.  Please note: the importance of pottery in modern archaeology has given many students and the general public the idea that the ancients were always shipping pots around for sale, as if there was a vast market in pottery.  <strong>Generally, people were buying what was in the pot, not the pot itself</strong>.</figcaption></figure>



<p>But as noted, our farmers are unlikely to be selling their grain directly to customers.  Instead, they are likely to be using some sort of middle-man merchant, which brings us to:</p>



<h2>Merchants!</h2>



<p>Merchants are a bit of a break from the people we have so far discussed in that they, by definition, live in the realm of the <em>market</em> (in the economic sense, although often also in a physical sense).  As we’ve seen so much of the world of our farmers and even our millers and bakers was governed by <em>non-market</em> interactions: horizontal and vertical social ties that carried expectations that weren’t quite transactional and certainly not monetized.  By contrast, merchants work with transactions and tend to be the <em>first</em> group in any society to attempt to monetize their operations once money becomes available.  I find students are often quick to feel identity with the merchant class, because these folks are more likely to travel, more likely to use money, more likely to employ or be employed in wage-labor; they feel more like modern people.</p>



<p>It thus tends to come as something of a surprise that with <em>stunning</em> consistency, <strong>the merchant class tended to be at best cordially disliked and at worst <em>despised</em> by the broader community</strong> (although not typically to the point of suffering legal disability, as did some other jobs; see S. Bond, <em>Trade and Taboo: Disreputable Professions in the Roman Mediterranean</em> (2016) for this in Rome).  This often strikes students as strange, both because we tend to think rather better of our own modern merchants but also because the image they have of the merchant class certainly looks elite.</p>



<figure><img data-attachment-id="4257" data-permalink="https://acoup.blog/britlibaddms35166apocalypseunkfolio3sealblackhorse/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg" data-orig-size="1134,766" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="britlibaddms35166apocalypseunkfolio3sealblackhorse" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=768 768w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg 1134w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://en.wikipedia.org/wiki/Merchant#/media/File:BritLibAddMS35166ApocalypseUnkFolio3SealBlackHorse.jpg">Via Wikipedia</a>, a manuscript illustration showing the Horseman of Famine depicted as a grain merchant (from Revalations 6:5-6), holding the scales he would use to measure out grain.</figcaption></figure>



<p>For the farmers who need to sell their crops (for reasons we will get to in a moment) and purchase the things they need that they cannot produce, the merchant feels like an adversary: always pushing his prices to his best advantage.  We expect this, but remember that our pre-modern farmers are just <em>not that exposed to market interactions</em>; most of their relationships are reciprocal, not transactional – the horizontal relationships we discussed before.  The merchant’s ‘money-grubbing’ feels like a betrayal of trust in a society where you banquet your neighbors in the good years so they’ll help you in the bad years.  <strong>The necessary function of a merchant is to transgress the ‘rules’ of village interactions which – and this <em>resounds</em> from the sources – the farmers tend to understand as being ‘cheated.’</strong></p>



<p>At the same time, <strong>while most merchant types are humble, the high-risk and potentially high-reward involved in trade meant that <em>some</em> merchants </strong>(again, a small number) <strong>could become <em>very</em> rich</strong>.  That, as you might imagine, <strong>did not go over well for the traditionally wealthy in these societies</strong>, the large landholders.  Again, the values here often strike modern readers as topsy-turvy compared to our own, but to the elite large landholders (who dominate the literary and political culture of their societies), the <em>morally correct</em> way to earn great wealth is to inherit it (or capture it in war).  The <em>morally correct</em> way to hold that wealth is with large landed estates.  Anything else is <em>morally</em> suspect, and so the idea that a successful merchant could – by a process that again, strikes the large landholder, just like the small farmer, as ‘cheating’ – leap-frog the social pyramid and skip to the top, without putting in the work at either having distinguished wealthy ancestors <em>or</em> tremendous military success was an open insult to elite values.  Often laws were put in place to limit the ability of wealthy non-aristocrats (likely merchants or successful artisans) from displaying their wealth (<a href="https://en.wikipedia.org/wiki/Sumptuary_law">sumptuary laws</a>) so as to keep them from competing with the aristocrats; at Rome, senators were forbidden from owning ships with much the same logic (Roman senators being clever, they still invested in trade through proxies while at the same time disapproving of the activity in public politics).</p>



<p>Such disdain appears, with varying justification, in the sources of every pre-modern agrarian society I’ve studied, to one degree or another.  One commonplace of Greek and Roman thinking – despite these being very active, maritime societies – was that the first production of ships and the first sailing was in some essential way a profanation of the divine realm of the sea, a space humans ought not have ever ventured into – and certainly not for anything as mean as profit (e.g. Euripides, <em>Medea</em> 1-6; Catullus. 64.1-20; Valerius Flaccus, <em>Argonautica</em> 627-632; Seneca, <em>Medea</em> 1-12; 301-379, <em>inter alia</em> – thanks to my old grad school pals <a href="https://www.usf.edu/arts-sciences/departments/world-languages/about-us/hedrick.aspx">Buddy Hedrick</a> and <a href="http://gdrsd.org/gdrhs/faculty/michael-hoffman/">Michael Hoffman </a>for …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/">https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240677</guid>
            <pubDate>Sat, 22 Aug 2020 01:04:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Help Turn the Tide on Climate Change]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24240431">thread link</a>) | @tempestn
<br/>
August 21, 2020 | https://projectvesta.org/crowdfunding/ | <a href="https://web.archive.org/web/*/https://projectvesta.org/crowdfunding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-elementor-type="wp-page" data-elementor-id="4416" data-elementor-settings="[]">
			<div>
				<div>
							<section data-id="f4b942a" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
				<div>
				<div data-id="90fc97b" data-element_type="column">
			<div>
					<div>
				<div data-id="9fb2e9b" data-element_type="widget" data-settings="{&quot;sticky_hide_on&quot;:[&quot;mobile&quot;],&quot;sticky_video_margin&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;top&quot;:&quot;&quot;,&quot;right&quot;:&quot;&quot;,&quot;bottom&quot;:&quot;&quot;,&quot;left&quot;:&quot;&quot;,&quot;isLinked&quot;:true},&quot;sticky_video_margin_tablet&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;top&quot;:&quot;&quot;,&quot;right&quot;:&quot;&quot;,&quot;bottom&quot;:&quot;&quot;,&quot;left&quot;:&quot;&quot;,&quot;isLinked&quot;:true},&quot;sticky_video_margin_mobile&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;top&quot;:&quot;&quot;,&quot;right&quot;:&quot;&quot;,&quot;bottom&quot;:&quot;&quot;,&quot;left&quot;:&quot;&quot;,&quot;isLinked&quot;:true}}" data-widget_type="uael-video.default">
				<div>
					<div data-stickybottom="" data-device="false" data-vsticky="yes" data-hidedesktop="" data-hidetablet="" data-hidemobile="mobile" data-vsticky-viewport="0" data-autoplay="0">
						<div>
				<div data-src="https://www.youtube.com/embed/X5m3an3f5S0?rel=0&amp;start&amp;end&amp;controls=1&amp;mute=0&amp;modestbranding=1&amp;autoplay=1">
					<p><img src="https://i.ytimg.com/vi/X5m3an3f5S0/maxresdefault.jpg"></p>
				</div>
									
											</div>
		</div>
				</div>
				</div>
				<section data-id="f01b556" data-element_type="section">
						
		</section>
						</div>
			</div>
		</div>
				<div data-id="92d8d9e" data-element_type="column">
			<div>
					<div>
				
				<div data-id="7011d65" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Help fund the pilot projects needed to take coastal enhanced weathering from the lab to the beach. Your contribution will make Project Vesta’s first pilot studies a reality, allowing us to demonstrate to the world the advantages and viability of the process. Our open-source models will advance the field and facilitate future deployments on much larger scales.</p>
				</div>
				</div>
				<section data-id="23275c8" data-element_type="section">
						<div>
				<div>
				
				<div data-id="c13b547" data-element_type="column">
			<div>
					<div>
				<div data-id="09f6d47" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>(total is updated weekly)</h2>		</p>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				
				<section data-id="e060fc3" data-element_type="section">
						
		</section>
				<div data-id="aa6c2be" data-element_type="widget" data-widget_type="wp-widget-yith_wc_donations_form.default">
				<div>
			<h5>Enter an amount or choose below</h5><div>
    
    <p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-admin/images/wpspin_light.gif" alt="loading" width="16" height="16"></p>
</div>
		</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="174a7e7" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
				<div>
				<div data-id="2d184e7" data-element_type="column">
			<div>
					<div>
				<section data-id="2959877" data-element_type="section">
						<div>
				<div>
				<div data-id="20d0a7a" data-element_type="column">
			<div>
					<div>
				<div data-id="7478fd5" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Help Turn The Tide On Climate Change</h2>		</p>
				</div>
				<div data-id="bfec0fa" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>To avoid the worst effects of climate change, we need to remove massive quantities of harmful carbon dioxide from the atmosphere – and soon.</p><p>At Project Vesta, we’re doing just that. We’re making green sand beaches which use natural wave energy to take carbon dioxide out of the air. We accelerate a natural process which has been capturing carbon dioxide in rocks for billions of years. There’s 30 years of scientific research showing that this works.</p><p>We’re making our cheap, permanent carbon dioxide removal process freely available so it can be used anywhere in the world.&nbsp;</p></div>
				</div>
				</div>
				<div data-id="0012585" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="960" height="294" src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-960x294.png" alt="" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-960x294.png 960w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-1400x429.png 1400w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-150x46.png 150w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-768x235.png 768w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-1536x471.png 1536w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-600x184.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal.png 1660w" sizes="(max-width: 960px) 100vw, 960px">											</p>
				</div>
				</div>
				<div data-id="cebc59a" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Inspired by Nature to Recreate Nature</h2>		</p>
				</div>
				<div data-id="fc76d0e" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>We’re a non-profit, raising $1.5M to fund two pilot sites where we’ll take this technology out of the lab and onto the beach. One study is designed to demonstrate the effects of adding olivine to a new environment, which allows us to establish the safety profile of the technique, and the second is designed to measure and help us optimize how quickly we remove carbon dioxide from the atmosphere.</span></p>
<p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-960x873.png" alt="" width="960" height="873" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-960x873.png 960w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-150x136.png 150w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-768x698.png 768w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-600x545.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects.png 1297w" sizes="(max-width: 960px) 100vw, 960px"></p></div>
				</div>
				</div>
				<div data-id="7a07a27" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Help Fund Our Pilot Demonstration Project(s)</h2>		</p>
				</div>
				<div data-id="3119839" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>We’re a non-profit, raising $1.5M to fund two pilot sites where we’ll take this technology out of the lab and onto the beach. One study is designed to demonstrate and establish the safety of the technique, and the second type of experiments will measure how quickly we remove carbon dioxide from the atmosphere in varying conditions. These two processes are the cornerstones that the will allow us to create a model that will enable us to quantify the carbon dioxide removal rate of the process.</span></p></div>
				</div>
				</div>
				<div data-id="3cb65f2" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Road Map to Global Deployment</h2>		</p>
				</div>
				<div data-id="c6d59f8" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>These two studies form a key part of our roadmap, which is designed not only to prove that the process works, but also to create an open-source Coastal Enhanced Weathering Integrated Assessment Model (CEWIAM), which is will enable the deployment of additional projects and be available to all. This will mean this cheap, permanent method for carbon removal can be rolled out all over the world.</span></p><p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-960x390.png" alt="" width="960" height="390" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-960x390.png 960w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-1400x569.png 1400w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-150x61.png 150w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-768x312.png 768w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-1536x624.png 1536w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-600x244.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240.png 1936w" sizes="(max-width: 960px) 100vw, 960px"></p></div>
				</div>
				</div>
				
				<div data-id="5942986" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Your donation will fund materials, equipment, and research staff to make the pilot projects happen.</span></p><p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2272.png" alt="" width="600" height="306" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2272.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2272-150x77.png 150w" sizes="(max-width: 600px) 100vw, 600px"></p></div>
				</div>
				</div>
				
				<div data-id="5cd31b3" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><span>We need your help. Humanity needs your help. The planet needs your help. Your donation goes directly into the fight against climate change.</span></p>
				</div>
				</div>
						</div>
			</div>
		</div>
				<div data-id="f9a3a5e" data-element_type="column">
			<div>
					<div>
				<div data-id="a863521" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Grain of Hope					</h2>
				
									<div>
						<p><b>$25</b></p><p>Single grain of San Carlos olivine suspended in a sand timer vial, symbolizing the hope that olivine can stop time from running out for us to reverse global warming. </p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				
				<div data-id="da4c715" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Small Size Olivine					</h2>
				
									<div>
						<p><b>$100</b></p><p>A piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="88dc510" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Medium Size Olivine					</h2>
				
									<div>
						<p><b>$250</b></p><p>A medium-sized piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="369676c" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Large Size Olivine					</h2>
				
									<div>
						<p><b>$500</b></p><p>A large-sized piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="d850099" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Large Size Olivine					</h2>
				
									<div>
						<p><b>$500</b></p><p>A large-sized piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="8c01bb4" data-element_type="widget" data-widget_type="wp-widget-yith_wc_donations_form.default">
				<div>
			<h5>Donate Any Amount</h5><div>
    
    <p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-admin/images/wpspin_light.gif" alt="loading" width="16" height="16"></p>
</div>
		</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="2c23ce7" data-element_type="section">
						
		</section>
						</div>
			</div>
		</div></div>]]>
            </description>
            <link>https://projectvesta.org/crowdfunding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240431</guid>
            <pubDate>Sat, 22 Aug 2020 00:26:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Having Fun with Microsoft's IoC Container for .NET Core]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24240187">thread link</a>) | @sahan
<br/>
August 21, 2020 | https://sahansera.dev/dotnet-core-ioc-container/ | <a href="https://web.archive.org/web/*/https://sahansera.dev/dotnet-core-ioc-container/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The objective of this post is to configure and use Microsoft’s default dependency injection container from scratch to understand how it all hangs together when in action. There are many other great articles explaining Dependency Injection and Inversion of Control (DI &amp; IoC from now on) in ASP.NET Core out there. This article assumes that you understand those principles. So I will not be covering those.</p>
<p>We will start with a simple console application, configure an IoC container, and have some fun with it by diving into the .NET Core DI Extensions’ source code.</p>
<blockquote>
<p>💡 Follow along with the code from my <a href="https://github.com/sahan91/dotnet-ioc-example">repository</a></p>
</blockquote>
<h3>Microsoft’s IoC Container in .NET Core</h3>
<p>The .NET Core IoC container is located in <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection?view=dotnet-plat-ext-3.1">Microsoft.Extensions.DependencyInjection</a> namespace.  Let’s look at what are the steps involved in order to use this in our application.</p>
<ol>
<li>We need to add this assembly via NuGet.</li>
<li>Types must be registered with <code>ServiceCollection</code></li>
<li>Types are retrieved from <code>ServiceProvider</code></li>
</ol>
<p>We will start off with a simple console application and see how we can achieve the above steps.</p>
<h3>Setup</h3>
<p>Let’s start by creating a console application.</p>
<div data-language="bash"><pre><code>dotnet new console -n IoCTutorial
dotnet new sln
dotnet sln <span>add</span> IoCTutorial</code></pre></div>
<p>Open it up in your favourite IDE and you are ready to follow along. I won’t be using any other dependency (such as logging) just to keep this tutorial simple.</p>
<p>Let’s go ahead and add the DI assembly from NuGet.</p>
<div data-language="bash"><pre><code>dotnet <span>add</span> package Microsoft.Extensions.DependencyInjection</code></pre></div>
<p>Your project structure should now look like this.</p>
<p><span>
      <span></span>
  <img alt="dotnet-core-ioc-container-2.png" title="dotnet-core-ioc-container-2.png" src="https://sahansera.dev/static/bd5adfb1aaa6a58e14d9a6d45525a500/5a190/dotnet-core-ioc-container-2.png" srcset="https://sahansera.dev/static/bd5adfb1aaa6a58e14d9a6d45525a500/772e8/dotnet-core-ioc-container-2.png 200w,
https://sahansera.dev/static/bd5adfb1aaa6a58e14d9a6d45525a500/e17e5/dotnet-core-ioc-container-2.png 400w,
https://sahansera.dev/static/bd5adfb1aaa6a58e14d9a6d45525a500/5a190/dotnet-core-ioc-container-2.png 800w,
https://sahansera.dev/static/bd5adfb1aaa6a58e14d9a6d45525a500/84cc5/dotnet-core-ioc-container-2.png 898w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy">
    </span></p>
<p>Let’s add two classes into our project; <a href="https://github.com/sahan91/dotnet-ioc-example/blob/master/IoCTutorial/MyService.cs">MyService</a> and <a href="https://github.com/sahan91/dotnet-ioc-example/blob/master/IoCTutorial/MyDependency.cs">MyDependency</a>. Here’s what’s gonna go into those two classes.</p>
<p> <code>MyService.cs</code></p>
<div data-language="csharp"><pre><code><span>public</span> <span>class</span> <span>MyService</span>
<span>{</span>
    <span>private</span> <span>readonly</span> <span>MyDependency</span> _myDependency<span>;</span>
    <span>public</span> <span>MyService</span><span>(</span><span>MyDependency</span> myDependency<span>)</span>
    <span>{</span>
        Console<span>.</span><span>WriteLine</span><span>(</span><span>"Constructed MyService"</span><span>)</span><span>;</span>
        _myDependency <span>=</span> myDependency<span>;</span>
    <span>}</span>
    
    <span>public</span> <span><span>void</span></span> <span>DoSomething</span><span>(</span><span>)</span>
    <span>{</span>
        _myDependency<span>.</span><span>DoWork</span><span>(</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span></code></pre></div>
<p><code>MyDependency.cs</code></p>
<div data-language="csharp"><pre><code><span>public</span> <span>class</span> <span>MyDependency</span>
<span>{</span>
    <span>public</span> <span>MyDependency</span><span>(</span><span>)</span>
    <span>{</span>
        Console<span>.</span><span>WriteLine</span><span>(</span><span>"Constructed MyDependency"</span><span>)</span><span>;</span>
    <span>}</span>
    
    <span>public</span> <span><span>void</span></span> <span>DoWork</span><span>(</span><span>)</span>
    <span>{</span>
        Console<span>.</span><span>WriteLine</span><span>(</span><span>"Doing some work in MyDependency"</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span></code></pre></div>
<p>As we can see, <code>MyService</code> has an (aptly named 😅 ) dependency on <code>MyDependency</code>. In order to invoke our service, we need to pass an instance of the required dependency into its constructor. In our driver code (Program.cs) without any IoC stuff, we could do something like this.</p>
<div data-language="csharp"><pre><code><span><span>var</span></span> myService <span>=</span> <span>new</span> <span>MyService</span><span>(</span><span>new</span> <span>MyDependency</span><span>(</span><span>)</span><span>)</span><span>;</span>
myService<span>.</span><span>DoSomething</span><span>(</span><span>)</span><span>;</span></code></pre></div>
<p>This is baaaaad 💀. Problem with this is, now we are responsible for managing the dependencies, their lifetimes (and also violates SOLID principles) etc. Let’s fix this by using the IoC container. We will simply give them a scoped lifetime.</p>
<div data-language="csharp"><pre><code>
<span><span>var</span></span> container <span>=</span> <span>new</span> <span>ServiceCollection</span><span>(</span><span>)</span><span>;</span>
container<span>.</span><span><span>AddScoped</span><span><span>&lt;</span>MyDependency<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span>
container<span>.</span><span><span>AddScoped</span><span><span>&lt;</span>MyService<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span>


<span><span>var</span></span> provider <span>=</span> container<span>.</span><span>BuildServiceProvider</span><span>(</span><span>)</span><span>;</span></code></pre></div>
<p>If you aren’t familiar with service lifetimes, it’s best if you refer to the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.1#service-lifetimes">official documentation</a> before continuing on.</p>
<blockquote>
<p>💡 Note that you don’t have to instantiate ServiceCollection in an ASP.NET Core Web or Worker Service application. You would ideally register your services using the IServiceCollection in the Startup class.</p>
</blockquote>
<h3>The quick &amp; dirty service registration</h3>
<p>Once we have set this up, we need to call <code>BuildServiceProvider</code> method on the container. This returns us a <code>ServiceProvider</code> as a result. Remember that we first need to register our types in the container (<code>ServiceCollection</code>) and then retrieve them using the provider. Bear with me on this one as we are using the concrete implementations rather than interfaces for this initial cut.</p>
<div data-language="csharp"><pre><code>
<span><span>var</span></span> myService <span>=</span> provider<span>.</span><span><span>GetService</span><span><span>&lt;</span>MyService<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span>
myService<span>.</span><span>DoSomething</span><span>(</span><span>)</span><span>;</span></code></pre></div>
<p>Now when we run this, it should create an instance of <code>MyDependency</code>, construct an instance of <code>MyService</code> and run the <code>DoSomething()</code> method.</p>
<p><span>
      <span></span>
  <img alt="dotnet-core-ioc-container-3.png" title="dotnet-core-ioc-container-3.png" src="https://sahansera.dev/static/52d70b184e7aa00a5b603b35eeb953b4/5a190/dotnet-core-ioc-container-3.png" srcset="https://sahansera.dev/static/52d70b184e7aa00a5b603b35eeb953b4/772e8/dotnet-core-ioc-container-3.png 200w,
https://sahansera.dev/static/52d70b184e7aa00a5b603b35eeb953b4/e17e5/dotnet-core-ioc-container-3.png 400w,
https://sahansera.dev/static/52d70b184e7aa00a5b603b35eeb953b4/5a190/dotnet-core-ioc-container-3.png 800w,
https://sahansera.dev/static/52d70b184e7aa00a5b603b35eeb953b4/0d1a4/dotnet-core-ioc-container-3.png 1036w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy">
    </span></p>
<p>Notice how we never constructed <code>MyDependency</code> because the DI framework resolved it and did the constructor injection for us. Nice!</p>
<h3>Internals of ServiceCollection and ServiceProvider</h3>
<p>Looking at our code, the <code>ServiceCollection</code> holds a bunch of <code>ServiceDescriptor</code>s and provides some utility methods to manipulate it. <code>ServiceDescriptor</code>s are really the objects that describe (type, implementation, lifetime etc.) our service registrations.</p>
<div data-language="csharp"><pre><code><span>public</span> <span>class</span> <span>ServiceCollection</span> <span>:</span> <span><span>IServiceCollection</span></span>
<span>{</span>
    <span>private</span> <span>readonly</span> <span>List<span>&lt;</span>ServiceDescriptor<span>&gt;</span></span> _descriptors <span>=</span> <span>new</span> <span>List<span>&lt;</span>ServiceDescriptor<span>&gt;</span></span><span>(</span><span>)</span><span>;</span>

    <span>public</span> <span><span>int</span></span> Count <span>=&gt;</span> _descriptors<span>.</span>Count<span>;</span>
    <span>public</span> <span><span>bool</span></span> IsReadOnly <span>=&gt;</span> <span>false</span><span>;</span>

    <span>public</span> <span>ServiceDescriptor</span> <span>this</span><span>[</span><span><span>int</span></span> index<span>]</span>
    <span>{</span>
        <span>get</span>
        <span>{</span>
            <span>return</span> _descriptors<span>[</span>index<span>]</span><span>;</span>
        <span>}</span>
        <span>set</span>
        <span>{</span>
            _descriptors<span>[</span>index<span>]</span> <span>=</span> <span>value</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>public</span> <span><span>void</span></span> <span>Clear</span><span>(</span><span>)</span> <span>{</span><span>..</span><span>.</span><span>}</span>

    <span>public</span> <span><span>bool</span></span> <span>Contains</span><span>(</span><span>ServiceDescriptor</span> item<span>)</span> <span>{</span><span>..</span><span>.</span><span>}</span>

    <span>public</span> <span><span>bool</span></span> <span>Remove</span><span>(</span><span>ServiceDescriptor</span> item<span>)</span> <span>{</span><span>..</span><span>.</span><span>}</span>

    <span><span>void</span></span> ICollection<span>&lt;</span>ServiceDescriptor<span>&gt;</span><span>.</span><span>Add</span><span>(</span><span>ServiceDescriptor</span> item<span>)</span> <span>{</span><span>..</span><span>}</span>

    
<span>}</span></code></pre></div>
<p>In the subsequent sections, we will look at how it gets utilised.</p>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.servicecollectionserviceextensions.addscoped?view=dotnet-plat-ext-3.1"><code>AddScoped</code></a> (and other service registration extension methods) method just adds our service registration (as a ServiceDescriptor) into the above <code>_descriptors</code> list.</p>
<p>Looking at <a href="https://github.com/dotnet/runtime/blob/60eff3f3766631bd4e7ee256ca17619fec90e9e6/src/libraries/Microsoft.Extensions.DependencyInjection/src/ServiceCollectionContainerBuilderExtensions.cs#L49">the internals</a> of the <code>BuildServiceProvider</code> extension method, we can see that it actually instantiates a new service provider with our given service registrations. As we saw earlier these service registrations are passed in as a <code>ServiceCollection</code> and if you put debug this, you will be able to see the following: </p>
<p><span>
      <span></span>
  <img alt="dotnet-core-ioc-container-4.png" title="dotnet-core-ioc-container-4.png" src="https://sahansera.dev/static/09fda0a1f94a3578a819ea52d1ce0fdd/5a190/dotnet-core-ioc-container-4.png" srcset="https://sahansera.dev/static/09fda0a1f94a3578a819ea52d1ce0fdd/772e8/dotnet-core-ioc-container-4.png 200w,
https://sahansera.dev/static/09fda0a1f94a3578a819ea52d1ce0fdd/e17e5/dotnet-core-ioc-container-4.png 400w,
https://sahansera.dev/static/09fda0a1f94a3578a819ea52d1ce0fdd/5a190/dotnet-core-ioc-container-4.png 800w,
https://sahansera.dev/static/09fda0a1f94a3578a819ea52d1ce0fdd/c1b63/dotnet-core-ioc-container-4.png 1200w,
https://sahansera.dev/static/09fda0a1f94a3578a819ea52d1ce0fdd/29007/dotnet-core-ioc-container-4.png 1600w,
https://sahansera.dev/static/09fda0a1f94a3578a819ea52d1ce0fdd/89557/dotnet-core-ioc-container-4.png 1928w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy">
    </span></p>
<p>If you are interested, one observation I made was to get an idea of <em>when</em> it actually instantiates our types. In our Program.cs if you update it as below,</p>
<div data-language="csharp"><pre><code><span><span>var</span></span> provider <span>=</span> container<span>.</span><span>BuildServiceProvider</span><span>(</span><span>)</span><span>;</span>
Console<span>.</span><span>WriteLine</span><span>(</span><span>"-----------"</span><span>)</span><span>;</span>
<span><span>var</span></span> myService <span>=</span> provider<span>.</span><span><span>GetService</span><span><span>&lt;</span>MyService<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span>
Console<span>.</span><span>WriteLine</span><span>(</span><span>"-----------"</span><span>)</span><span>;</span>
myService<span>.</span><span>DoSomething</span><span>(</span><span>)</span><span>;</span></code></pre></div>
<p>Should give you,</p>
<p><span>
      <span></span>
  <img alt="dotnet-core-ioc-container-5.png" title="dotnet-core-ioc-container-5.png" src="https://sahansera.dev/static/3f558d6bb41db8e1f1001e14345b938f/5a190/dotnet-core-ioc-container-5.png" srcset="https://sahansera.dev/static/3f558d6bb41db8e1f1001e14345b938f/772e8/dotnet-core-ioc-container-5.png 200w,
https://sahansera.dev/static/3f558d6bb41db8e1f1001e14345b938f/e17e5/dotnet-core-ioc-container-5.png 400w,
https://sahansera.dev/static/3f558d6bb41db8e1f1001e14345b938f/5a190/dotnet-core-ioc-container-5.png 800w,
https://sahansera.dev/static/3f558d6bb41db8e1f1001e14345b938f/525d3/dotnet-core-ioc-container-5.png 1090w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy">
    </span></p>
<p>See the dotted line before “Doing some work in MyDependency”? I initially thought that these types would have been constructed when we built the service provider. However, it seems that they are instantiated when we call <code>provider.GetService&lt;MyService&gt;();</code> instead. This should, however, not to be confused with service lifetimes in an ASP.NET Core web application where service lifetimes play a major role in the request pipeline.</p>
<blockquote>
<p>💡 The IoC container will instantiate our implementation types when the GetService<t>() method is called, not when the IoC container is built.</t></p>
</blockquote>
<p>Looking at the implementation of the <code>ServiceProviderEngine</code>’s code you will see that the data structure that holds all our type registrations is really a <code>ConcurrentDictionary</code>. If you drill down in the call chain of <code>GetService</code> far enough, you would come across the following class in the <a href="https://github.com/dotnet/runtime/blob/907f7da59b40c80941b02ac2a46650adf3f606bc/src/libraries/Microsoft.Extensions.DependencyInjection/src/ServiceLookup/CallSiteValidator.cs#L14">source of DI extensions</a>.</p>
<p>So, we have an idea of how we can register services in the IoC container. Nevertheless, this can still be improved by mapping interfaces rather than using concrete classes. We will look at it in the next section.</p>
<h3>Replacing Concrete Classes with Interfaces</h3>
<p>Let’s extract interfaces for <code>MyService</code> and <code>MyDependency</code></p>
<div data-language="csharp"><pre><code><span>public</span> <span>interface</span> <span>IMyService</span>
<span>{</span>
    <span><span>void</span></span> <span>DoSomething</span><span>(</span><span>)</span><span>;</span>
<span>}</span></code></pre></div>
<div data-language="csharp"><pre><code><span>public</span> <span>interface</span> <span>IMyDependency</span>
<span>{</span>
    <span><span>void</span></span> <span>DoWork</span><span>(</span><span>)</span><span>;</span>
<span>}</span></code></pre></div>
<p>Nothing interesting here. Let’s just implement these two interfaces in their corresponding classes. </p>
<p>Our <code>MyService</code> will now use the interface instead of the concrete class.</p>
<div data-language="csharp"><pre><code><span>public</span> <span>class</span> <span>MyService</span> <span>:</span> <span><span>IMyService</span></span>
<span>{</span>
    <span>private</span> <span>readonly</span> <span>IMyDependency</span> _myDependency<span>;</span>
    
    <span>public</span> <span>MyService</span><span>(</span><span>IMyDependency</span> myDependency<span>)</span>
    <span>{</span>
        Console<span>.</span><span>WriteLine</span><span>(</span><span>"Constructed MyService"</span><span>)</span><span>;</span>
        _myDependency <span>=</span> myDependency<span>;</span>
    <span>}</span>
    
    <span>public</span> <span><span>void</span></span> <span>DoSomething</span><span>(</span><span>)</span>
    <span>{</span>
        _myDependency<span>.</span><span>DoWork</span><span>(</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span></code></pre></div>
<p>In our Program.cs, we will update the following lines to use the abstractions instead of concrete classes,</p>
<div data-language="csharp"><pre><code>container<span>.</span><span><span>AddScoped</span><span><span>&lt;</span>IMyDependency<span>,</span> MyDependency<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span>
container<span>.</span><span><span>AddScoped</span><span><span>&lt;</span>IMyService<span>,</span> MyService<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span></code></pre></div>
<p>Now when we run the application, we will get the same result. However, to make things interesting, let’s add another <code>MyDependency</code> class that implements <code>IMyDependency</code> interface. Without spending too much time on a name, let’s name that <code>MyDependency2</code> and register it in the IoC container.</p>
<div data-language="csharp"><pre><code>container<span>.</span><span><span>AddScoped</span><span><span>&lt;</span>IMyDependency<span>,</span> MyDependency<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span>
container<span>.</span><span><span>AddScoped</span><span><span>&lt;</span>IMyDependency<span>,</span> MyDependency2<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span> 
container<span>.</span><span><span>AddScoped</span><span><span>&lt;</span>IMyService<span>,</span> MyService<span>&gt;</span></span></span><span>(</span><span>)</span><span>;</span></code></pre></div>
<p>What do we get now?</p>
<p><span>
      <span></span>
  <img alt="dotnet-core-ioc-container-6.png" title="dotnet-core-ioc-container-6.png" src="https://sahansera.dev/static/054d62c81104ef8c756fefbacd9cee15/5a190/dotnet-core-ioc-container-6.png" srcset="https://sahansera.dev/static/054d62c81104ef8c756fefbacd9cee15/772e8/dotnet-core-ioc-container-6.png 200w,
https://sahansera.dev/static/054d62c81104ef8c756fefbacd9cee15/e17e5/dotnet-core-ioc-container-6.png 400w,
https://sahansera.dev/static/054d62c81104ef8c756fefbacd9cee15/5a190/dotnet-core-ioc-container-6.png 800w,
https://sahansera.dev/static/054d62c81104ef8c756fefbacd9cee15/0d1a4/dotnet-core-ioc-container-6.png 1036w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy">
    </span></p>
<p>It’s no longer using <code>MyDependency</code>, but using <code>MyDependency2</code> instead.</p>
<blockquote>
<p>💡 Remember, if you add multiple concrete implementations for the same interface, it will always pick up the last one that got registered, by default.</p>
</blockquote>
<h3>Unravelling why we get the last registered implementation type</h3>
<p>So, how do we register multiple implementations for the same service type? It’s not supported as you might already know or have come across this <a href="https://github.com/aspnet/DependencyInjection/issues/360">discussion on Github</a>. Looking at the internals of the <code>GetService()</code> method we can uncover why this happens.</p>
<p>If you debug the <code>ServiceCollection</code>, you will be able to see that our two implementation types for <code>IMyDependency</code> are still there.</p>
<p><span>
      <span></span>
  <img alt="dotnet-core-ioc-container-7.png" title="dotnet-core-ioc-container-7.png" src="https://sahansera.dev/static/05de134123144e9df1171d4e14229b00/5a190/dotnet-core-ioc-container-7.png" srcset="https://sahansera.dev/static/05de134123144e9df1171d4e14229b00/772e8/dotnet-core-ioc-container-7.png 200w,
https://sahansera.dev/static/05de134123144e9df1171d4e14229b00/e17e5/dotnet-core-ioc-container-7.png 400w,
https://sahansera.dev/static/05de134123144e9df1171d4e14229b00/5a190/dotnet-core-ioc-container-7.png 800w,
https://sahansera.dev/static/05de134123144e9df1171d4e14229b00/c1b63/dotnet-core-ioc-container-7.png 1200w,
https://sahansera.dev/static/05de134123144e9df1171d4e14229b00/29007/dotnet-core-ioc-container-7.png 1600w,
https://sahansera.dev/static/05de134123144e9df1171d4e14229b00/89557/dotnet-core-ioc-container-7.png 1928w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy">
    </span></p>
<p>So there has to be something in the call stack which hands over the last registered implementation type to the service provider. If you start off from <code>GetService()</code> method in <code>ServiceProviderServiceExtensions</code> class, you would end up in <code>ServiceProviderEngine</code>’s <code>GetService()</code> method’s <a href="https://github.com/dotnet/runtime/blob/60eff3f3766631bd4e7ee256ca17619fec90e9e6/src/libraries/Microsoft.Extensions.DependencyInjection/src/ServiceLookup/ServiceProviderEngine.cs#L82">implementation</a>.</p>
<div data-language="csharp"><pre><code><span>internal</span> <span><span>object</span></span> <span>GetService</span><span>(</span><span>Type</span> serviceType<span>,</span> <span>ServiceProviderEngineScope</span> serviceProviderEngineScope<span>)</span>
<span>{</span>
    <span>if</span> <span>(</span>_disposed<span>)</span>
    <span>{</span>
        ThrowHelper<span>.</span><span>ThrowObjectDisposedException</span><span>(</span><span>)</span><span>;</span>
    <span>}</span>

    <span><span>var</span></span> realizedService <span>=</span> RealizedServices<span>.</span><span>GetOrAdd</span><span>(</span>serviceType<span>,</span> _createServiceAccessor<span>)</span><span>;</span>
    _callback<span>?.</span><span>OnResolve</span><span>(</span>serviceType<span>,</span> serviceProviderEngineScope<span>)</span><span>;</span>
    DependencyInjectionEventSource<span>.</span>Log<span>.</span><span>ServiceResolved</span><span>(</span>serviceType<span>)</span><span>;</span>
    <span>return</span> realizedService<span>.</span><span>Invoke</span><span>(</span>serviceProviderEngineScope<span>)</span><span>;</span>
<span>}</span></code></pre></div>
<p><code>RealizedServices</code> is a <code>ConcurrentDictionary</code> that keeps track of our service types and …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sahansera.dev/dotnet-core-ioc-container/">https://sahansera.dev/dotnet-core-ioc-container/</a></em></p>]]>
            </description>
            <link>https://sahansera.dev/dotnet-core-ioc-container/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240187</guid>
            <pubDate>Fri, 21 Aug 2020 23:56:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ethernet MTU and TCP MSS: Why Connections Stall]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24240030">thread link</a>) | @theojulienne
<br/>
August 21, 2020 | https://theojulienne.io/2020/08/21/mtu-mss-why-connections-stall.html | <a href="https://web.archive.org/web/*/https://theojulienne.io/2020/08/21/mtu-mss-why-connections-stall.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p>MTU and MSS are two terms that are easily mistaken and their misconfiguration is often the cause of networking problems. Spending enough time working on production systems that interface with large networks of computers or the Internet almost guarantees coming across situations where an interface was configured with the wrong MTU, or a firewall was filtering ICMP. This results in a client being unable to transfer large amounts of data when smaller transfers work fine. This post will walk through MTU, MSS and packet size negotiation for TCP connections, and the common situations where it breaks down. This post was inspired by multiple discussions during the course of investigating errors on production systems as part of my role at GitHub.</p>

<p>If you want to take away a simple snippet from this post, the summary is:</p>

<p>
The MTU of the interfaces on either side of a physical<br>
or logical link must be equal. Don't block ICMP.
</p>

<p>The examples mentioned in this blog post will be reproducible in the lab from <i></i> <a href="https://github.com/theojulienne/blog-lab-mtu">theojulienne/blog-lab-mtu</a> - clone this repository and <a href="https://www.vagrantup.com/">bring up the lab</a>, then poke around at these examples in a real system:</p>
<div><div><pre><code>$ git clone https://github.com/theojulienne/blog-lab-mtu.git
$ cd blog-lab-mtu
$ vagrant up
$ vagrant ssh
</code></pre></div></div>

<h2 id="ethernet-mtu-maximum-transmission-unit">Ethernet MTU: Maximum Transmission Unit</h2>

<p>The MTU (Maximum Transmission Unit) on an Ethernet network specifies the maximum payload size of the data to be transmitted along with an Ethernet header on a network. Typically this payload will be an IP packet, in which case the MTU specifies the maximum combined size of the IP header and IP data.</p>

<p><img alt="Ethernet / IP / TCP headers with MTU indicated" src="https://theojulienne.io/images/mtu-mss-why-connections-stall/mtu-packet.png">
</p>

<p>The MTU is specified at the interface level as it is a link-level setting, and is typically propagated down to the underlying network card driver. The expectation is that packets that are larger than this configured size that appear to be transmitted over the wire are invalid or corrupt and should be dropped. In a valid configuration, hosts connected together via a link will have the same MTU specified:</p>

<p><img alt="Client and server connected with matching MTU" src="https://theojulienne.io/images/mtu-mss-why-connections-stall/simple-2-computers-match.png">
</p>

<p>If interfaces on either side of a link have mismatching MTU configurations, then the smaller side will treat packets larger than the local MTU as invalid and drop the packets before any software has the chance to see them.</p>

<p><img alt="Client and server connected with mismatching MTU" src="https://theojulienne.io/images/mtu-mss-why-connections-stall/simple-2-computers-mismatch.png">
</p>

<p>Streams of data that are larger than the MTU will be broken up into packets that completely fill an Ethernet frame, up to the MTU in each. If the remote end has a smaller MTU configured for the same link, those larger packets will be dropped. MTU should be configured the same on both interfaces on either side of a link, and so the MTU should be considered a bidirectional maximum.</p>

<h3 id="mtu-in-the-lab">MTU in the lab</h3>

<p>The lab in this blog post can be used to observe this in an example system. In one terminal, bring up the lab hosts inside the Vagrant machine:</p>
<div><div><pre><code>$ vagrant ssh -- /vagrant/bin/run-lab
</code></pre></div></div>

<p>In another terminal, <code>vagrant ssh</code> then enable the first scenario from above with matching MTU of 1500 on client and server:</p>
<div><div><pre><code>vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/scenario direct_1500
</code></pre></div></div>

<p>Log in to the client and server hosts and observe that we can send a packet with 1400 bytes of payload as expected, since both hosts have an MTU of 1500. The <code>-s 1400</code> argument to <code>ping</code> sets the payload size, and the <code>-M do</code> argument instructs <code>ping</code> to set the <code>DF</code> (Don’t Fragment) bit, ensuring that the whole IP packet must arrive in one piece or not at all.</p>
<div><div><pre><code>vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/shell client
root@client:/# ping -c 2 -M do -s 1400 server-direct
PING server-direct (172.28.0.40) 1400(1428) bytes of data.
1408 bytes from server-direct (172.28.0.40): icmp_seq=1 ttl=64 time=0.096 ms
1408 bytes from server-direct (172.28.0.40): icmp_seq=2 ttl=64 time=0.080 ms

--- server-direct ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 2ms
rtt min/avg/max/mdev = 0.080/0.088/0.096/0.008 ms
root@client:/# exit
vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/shell server
root@server:/# ping -c 2 -M do -s 1400 client-direct
PING client-direct (172.28.0.10) 1400(1428) bytes of data.
1408 bytes from client-direct (172.28.0.10): icmp_seq=1 ttl=64 time=0.079 ms
1408 bytes from client-direct (172.28.0.10): icmp_seq=2 ttl=64 time=0.071 ms

--- client-direct ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 32ms
rtt min/avg/max/mdev = 0.071/0.075/0.079/0.004 ms
root@server:/# 
</code></pre></div></div>

<p>Now switch to the second scenario with mismatching MTU, and observe that 1400 byte payloads no longer succeed:</p>
<div><div><pre><code>vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/scenario direct_mismatch

vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/shell client
root@client:/# ping -c 2 -M do -s 1400 server-direct
PING server-direct (172.28.0.40) 1400(1428) bytes of data.
ping: local error: Message too long, mtu=1200
ping: local error: Message too long, mtu=1200

--- server-direct ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 10ms

root@client:/# exit
vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/shell server
root@server:/# ping -c 2 -M do -s 1400 client-direct
PING client-direct (172.28.0.10) 1400(1428) bytes of data.

--- client-direct ping statistics ---
2 packets transmitted, 0 received, 100% packet loss, time 19ms

root@server:/# 
</code></pre></div></div>

<p>Notice that the <code>client</code> host is immediately able to observe that it cannot send a packet this large since the MTU on the interface is 1200. However, the <code>server</code> host believes the MTU of the link is 1500, so sends the packet, however the <code>client</code> is unable to receive it. This occurs at such a low level that neither host is aware of the failure - the packet just disappears.</p>

<h2 id="tcp-mss-maximum-segment-size">TCP MSS: Maximum Segment Size</h2>

<p>The TCP MSS (Maximum Segment Size) sounds very similar to MTU, and since it relates to the maximum size of network packets, they are easy to conflate even though they are quite different. A TCP segment is the TCP header and TCP data that forms part of a single packet. The MSS specifies the expected maximum size of the data component of this segment that a host expects it would be able to receive without the IP packet being <a href="https://en.wikipedia.org/wiki/IP_fragmentation">fragmented</a>. IP fragmentation is typically disabled for TCP packets on modern networking stacks due to the added complexity and overhead, so the MSS represents the maximum size that the host expects to be able to receive in any given packet.</p>

<p><img alt="Ethernet / IP / TCP headers with MTU and MSS indicated" src="https://theojulienne.io/images/mtu-mss-why-connections-stall/mtu-mss-packet.png">
</p>

<p>Rather than being an interface-level configuration like MTU, the MSS advertisement forms a part of the typical TCP handshake and is calculated based on the underlying MTU of the interface that a local host will use to communicate with a remote host. MSS can be thought of as a TCP hint around how much data can be included in a single TCP packet, given the current MTU. Each host calculates the MSS it will advertise by taking the local MTU and subtracting the size of the IP and TCP headers, then includes that MSS in the TCP options of the SYN or SYN-ACK packet as part of the <a href="https://en.wikipedia.org/wiki/TCP_handshake">TCP three-way handshake</a>.</p>

<p>This is not a negotiation of a single MSS, but rather each host is giving the remote host an indication of the maximum size of a single packet it expects will be possible to send back. This number must be less than the MTU minus IP/TCP headers, since there’s no way any larger packet could arrive given the local MTU. Each host will use the remote host’s advertised MSS as a hint for what size individual outgoing packets should be. Since this is a configurable hint, it is also only unidirectional, and although a host may advertise a lower MSS than it can otherwise handle, that doesn’t in any way restrict it from sending packets larger than the MSS it advertised (providing the remote host allowed for it).</p>

<p>The simple MSS exchange happens to work around small misconfigurations of MTU, such as the trivial example described above:</p>

<p><img alt="Client and server connected with mismatching MTU" src="https://theojulienne.io/images/mtu-mss-why-connections-stall/simple-2-computers-mismatch.png">
</p>

<p>In this case, the client would advertise an MSS of <code>1200 (MTU) - 20 (IP hdr) - 20 (TCP hdr) = 1160</code>, which would cause the server to refrain from sending packets that contained more than 1160 bytes in the TCP payload, which also ensures it would be able to arrive within the bounds of the MTU of 1200 once those headers are added on.</p>

<p>However, the above network is still misconfigured, since even though TCP happens to work around it, other protocols will fail since they don’t exchange MSS values. MSS is actually intended to allow hosts to work around valid configurations where their own local networks have different MTU, such as the following:</p>

<p><img alt="Client and server connected with different MTUs, but valid configuration" src="https://theojulienne.io/images/mtu-mss-why-connections-stall/router-different-mtu.png">
</p>

<p>In this example, if the server with a valid MTU of 9000 attempted to send an Ethernet frame containing more than 1500 bytes without fragmentation being allowed, that packet would not be able to make it to the client. The intermediary router, being the first host that is aware of this problem as it is aware of the MTU of both links, would send an ICMPv4 “Fragmentation required, but DF set” message or an ICMPv6 “Packet Too Big” message back to the sender to inform it that forwarding the packet without breaking it up is not possible (and that the IP header had the DF, or Don’t Fragment, bit set).</p>

<p>However, TCP will succeed in unrestricted communications between these hosts due to the MSS advertisements. The server in this configuration will receive an MSS from the client that will ensure no Ethernet frames with a payload larger than 1500 bytes are generated, so they will be received successfully.</p>

<h3 id="mss-in-the-lab">MSS in the lab</h3>

<p>Select the scenario from above with the client on a network with 1500 MTU and the server on a network with 9000 MTU:</p>
<div><div><pre><code>vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/scenario client_net_smaller
</code></pre></div></div>

<p>Running a ping from the side with the larger MTU, we can observe that packets larger than the client’s MTU cause the intermediary router to return an ICMP message since it is unable to forward the packet:</p>
<div><div><pre><code>vagrant@blog-lab-mtu:/vagrant$ /vagrant/bin/shell server
root@server:/# ping -c 2 -M do -s 3000 client
PING client (172.29.0.10) 3000(3028) bytes of data.
From 172.30.0.20 icmp_seq=1 Frag needed and DF set (mtu = 1500)
ping: local error: Message too long, mtu=1500

--- client ping …</code></pre></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://theojulienne.io/2020/08/21/mtu-mss-why-connections-stall.html">https://theojulienne.io/2020/08/21/mtu-mss-why-connections-stall.html</a></em></p>]]>
            </description>
            <link>https://theojulienne.io/2020/08/21/mtu-mss-why-connections-stall.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240030</guid>
            <pubDate>Fri, 21 Aug 2020 23:37:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basic Intro to Lattices in Cryptography]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24239423">thread link</a>) | @lanecwagner
<br/>
August 21, 2020 | https://qvault.io/2020/08/21/very-basic-intro-to-lattices-in-cryptography/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/08/21/very-basic-intro-to-lattices-in-cryptography/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			
<p>Lattice-based cryptography has been coming into the spotlight recently. In January 2019, Many of the semifinalists in the <a href="https://www.nist.gov/news-events/news/2019/01/nist-reveals-26-algorithms-advancing-post-quantum-crypto-semifinals" rel="noopener">NIST post-quantum-cryptography competition</a> were based on lattices. Lattice based cryptography has promising aspects that make it a contender for the basis of cryptographic security in a post-quantum world.</p>



<h2>What is a Lattice?</h2>



<p> According to <a href="https://en.wikipedia.org/wiki/Lattice-based_cryptography" rel="noopener">Wikipedia</a>, a lattice&nbsp;is the set of all integer linear combinations of basis vectors:</p>



<div><div>
<div><figure><img loading="lazy" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/66095403ff779502911d684cccf77daff8981b56" alt="{\displaystyle \mathbf {b} _{1},\ldots ,\mathbf {b} _{n}\in \mathbb {R} ^{n}}" width="128" height="21" title="66095403ff779502911d684cccf77daff8981b56"></figure></div>
</div></div>



<p>i.e.</p>



<div><div>
<div><figure><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bfe3dc9615c168ff919b1c5b229ad392229b8c1d" alt="{\displaystyle L={\Big \{}\sum a_{i}\mathbf {b} _{i}\ :\ a_{i}\in \mathbb {Z} {\Big \}}\;.}" title="bfe3dc9615c168ff919b1c5b229ad392229b8c1d"></figure></div>
</div></div>



<p>More simply put, a lattice is defined by basis vectors, which are only able to be scaled by integers… yay no fractions! </p>



<p>For example, let’s create a lattice of all the integers in a two-dimensional plane:</p>



<figure><img loading="lazy" width="1024" height="740" src="https://qvault.io/wp-content/uploads/2020/01/Capture-1024x740.png" alt="two dimensional lattice" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture-1024x740.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture-300x217.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture-768x555.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture-100x72.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture-862x623.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture-1200x867.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture.png 1255w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture"></figure>



<p>The definition of our lattice contains only 2 basis vectors,</p>



<p>v1 = (0,1) </p>



<p>v2 = (1,0)</p>



<figure><img loading="lazy" width="1024" height="740" src="https://qvault.io/wp-content/uploads/2020/01/Capture2-1-1024x740.png" alt="lattice with two vectors" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture2-1-1024x740.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-300x217.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-768x555.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-100x72.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-862x623.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-1200x867.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1.png 1255w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture2 1"></figure>



<p>Our lattice is the set of <strong>all </strong>values that can be reached by any combination and scale of our basis vectors. For example, the point (2,0) is in our lattice because it can be reached by 2*v1</p>



<figure><img loading="lazy" width="1024" height="740" src="https://qvault.io/wp-content/uploads/2020/01/Capture3-1-1024x740.png" alt="lattice with combination of vectors" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture3-1-1024x740.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-300x217.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-768x555.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-100x72.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-862x623.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-1200x867.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1.png 1255w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture3 1"></figure>



<p>Similarly, we could create an entirely new lattice by changing our basis vectors to</p>



<p>v1 = (0,3)</p>



<p>v2 = (3,0)</p>



<figure><img loading="lazy" width="1024" height="583" src="https://qvault.io/wp-content/uploads/2020/01/Capture5-1-1024x583.png" alt="lattice with change of basic vectors" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture5-1-1024x583.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-300x171.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-768x437.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-100x57.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-862x491.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-1200x683.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1.png 1315w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture5 1"></figure>



<p>As you can see, now the intermediary points (0,1) and (0,1) <strong>no longer exist</strong> in our lattice. There is no way to scale v1 (0,3) and v2 (3,0) to reach those points without using fractional scalars. With lattices, we can only scale by whole integers.</p>



<h2>How Does This Help With Crypto?</h2>



<p>Cryptographic algorithms are typically based on mathematical problems that are easy to verify the answer of, but hard to calculate.</p>



<p>For example, RSA is based on prime factorization. If I told you to find prime factors of <em>27,919,645,564,169,759</em>, that would be hard. However, if I told you that 48,554,491 and 575,016,749 <em>are </em>prime factors, all you have to do is multiply them together in order to verify my answer.</p>



<p>RSA works great with classical computers. There are <a href="https://crypto.stackexchange.com/questions/10590/what-makes-rsa-secure-by-using-prime-numbers" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow">no known solutions to find prime factors</a> of a number reliably in less than exponential time.</p>



<p>In the quantum world, things don’t look so peachy. <a href="https://en.wikipedia.org/wiki/Shor%27s_algorithm" target="_blank" aria-label="Shor's algorithm (opens in a new tab)" rel="noreferrer noopener nofollow">Shor’s algorithm</a> on quantum computers can crack RSA in less than exponential time. For this reason, we need quantum-safe algorithms. Many believe that lattice math could be an answer.</p>



<h2>Shortest Vector Problem</h2>



<div><figure><img loading="lazy" width="220" height="112" src="https://qvault.io/wp-content/uploads/2020/01/220px-SVP.svg_.png" alt="shortest vector problem" srcset="https://qvault.io/wp-content/uploads/2020/01/220px-SVP.svg_.png 220w, https://qvault.io/wp-content/uploads/2020/01/220px-SVP.svg_-100x51.png 100w" sizes="(max-width: 220px) 100vw, 220px" title="220px SVP.svg"></figure></div>



<p><a aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Lattice_problem#Shortest_vector_problem_(SVP)" target="_blank">The shortest vector problem (SVP)</a> is one of the fundamentals problems presented by lattices that allow them to be useful in cryptography.</p>



<p>Simply put, the goal of SVP is for the attacker to find the shortest vector from the origin (above in red) when given the basis of a lattice (above in blue). A zero vector doesn’t work as an answer, we consider it trivial.</p>



<p>How is it solved?</p>



<p>Like RSA with classical computers, it is hard to find the shortest vector of a large lattice, especially if it exists in many dimensions. One such slow solution for approximating the shortest vector is <a href="https://en.wikipedia.org/wiki/L%C3%A1szl%C3%B3_Babai" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow">Babai</a>‘s algorithm, or <a href="https://cims.nyu.edu/~regev/teaching/lattices_fall_2004/ln/cvp.pdf" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow">Nearest Plane Algorithm</a>, which you can read about in the links provided.</p>



<div><div>
<h2>Thanks For Reading!</h2>



<p>Follow us on Twitter <a href="https://twitter.com/q_vault" rel="noopener">@q_vault</a> if you have any questions or comments</p>



<p>Take game-like coding courses on <a href="https://classroom.qvault.io/#/">Qvault Classroom</a></p>



<p><a href="https://mailchi.mp/5c7f5c281bbe/qvault-newsletter-subscribe" rel="noopener">Subscribe</a> to our Newsletter for more educational articles</p>
</div></div>



<h2>Related Articles</h2>



<ul><li><a href="https://qvault.io/2020/01/01/very-basic-intro-to-hash-functions-sha-256-md-5-etc/">(Very) Basic Intro to Hash Functions (SHA-256, MD-5, etc)</a></li><li><a href="https://qvault.io/2019/12/31/very-basic-intro-to-elliptic-curve-cryptography/">(Very) Basic Intro To Elliptic Curve Cryptography</a></li><li><a href="https://qvault.io/2019/12/30/very-basic-intro-to-key-derivation-functions-argon2-scrypt-etc/">(Very) Basic Intro to Key Derivation Functions (Argon2, Scrypt, etc)</a></li></ul>

		</div></div>]]>
            </description>
            <link>https://qvault.io/2020/08/21/very-basic-intro-to-lattices-in-cryptography/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24239423</guid>
            <pubDate>Fri, 21 Aug 2020 22:13:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PGP]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24239408">thread link</a>) | @achecouter
<br/>
August 21, 2020 | https://simplelogin.io/blog/introducing-pgp/ | <a href="https://web.archive.org/web/*/https://simplelogin.io/blog/introducing-pgp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="hello-bar" role="alert">
    <p>
    SimpleLogin is featured in
    <a href="https://lespepitestech.com/startup-de-la-french-tech/simplelogin" target="_blank" rel="noopener" data-toggle="tooltip" title="aka the French ProductHunt">Les PÃ©pites Tech â†—</a>
  </p></div><div id="content" role="main">
    <div>
        

        

        

        <p>Pretty Good Privacy (PGP) is a program to encrypt your emails, texts, files, etc. As emails on Gmail, Yahoo, Outlook and other popular email services are stored in <strong>cleartext</strong>, PGP can be a solution to keep your emails from being read &amp; analyzed by these big techs.</p>

<p>PGP is based on <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">public-key cryptography</a>. Essentially you have 2 keys: a public key and a private key. Your public key is <strong>known</strong> to everyone whereas <strong>only</strong> you have access to the private key. A message encrypted with the public key can only be decrypted with the private key. You can learn more about PGP on <a href="https://www.openpgp.org/">openpgp</a>.</p>

<blockquote>
<p>In practice, if someone wants to send you a secret message that only you can read, this person encrypts the message using your public key.</p>
</blockquote>

<p>Without PGP, the emails sent to an alias are forwarded by SimpleLogin <strong>as-is</strong> to your mailbox, leaving anyone in-between or your email service being able to read your emails.</p>



<p><img src="https://simplelogin.io/blog/without-pgp.png"></p><hr>

<p>With PGP enabled, all emails arrived at SimpleLogin are <strong>encrypted</strong> with your public key before being forwarded to your mailbox.</p>

<p>As emails are not stored on SimpleLogin, only you can read your emails.</p>



<p><img src="https://simplelogin.io/blog/with-pgp.png"></p><blockquote>
<p>If you upload your PGP public key on SimpleLogin, <strong>only you</strong> can now read the emails sent to your aliases.</p>
</blockquote>

<p>You can create and manage your keys when adding/editing your mailboxes. Check it out your <a href="https://app.simplelogin.io/dashboard/mailbox">mailbox dashboard â†—</a>.</p>

<p>As PGP encryption is resource-intensive, this feature is only available in the Premium plan or during the trial period.</p>

<p>After the trial, SimpleLogin stops encrypting the forwarded emails.</p>


        <p>
            Written by <img src="https://simplelogin.io/logo-square.svg">
            SimpleLogin team
            <a href="https://twitter.com/simple_login">
                [Follow on Twitter]
            </a>
        </p>


        
        <h3>Other posts</h3>
        
        


        <hr>
        <div>
            <p>Wonder why you received so many spams? Protect your email address with SimpleLogin alias. </p>
            <p><span>
                <a href="https://simplelogin.io/">Learn More</a>
            </span>
        </p></div>
    </div>
</div></div>]]>
            </description>
            <link>https://simplelogin.io/blog/introducing-pgp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24239408</guid>
            <pubDate>Fri, 21 Aug 2020 22:11:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing Traceroute in Go – Blog]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24239371">thread link</a>) | @rbanffy
<br/>
August 21, 2020 | https://blog.kalbhor.xyz/post/implementing-traceroute-in-go/ | <a href="https://web.archive.org/web/*/https://blog.kalbhor.xyz/post/implementing-traceroute-in-go/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p><em>(<a href="https://github.com/kalbhor/tracesite">link</a> for all the code)</em></p>
<h3 id="what-is-traceroute">What is traceroute?</h3>
<p>If you’ve fiddled with networks you must be familiar with the famous <code>traceroute</code> tool. Its a script that traces the path to a host and prints info on every hop it encounters. To give an example if you run <code>traceroute kalbhor.xyz</code> you should see something like this :</p>
<pre><code>❯ traceroute kalbhor.xyz
traceroute to kalbhor.xyz (18.140.218.13), 64 hops max, 52 byte packets
 1  dlinkrouter.dlink (192.168.0.1)  2.035 ms  1.276 ms  1.097 ms
 2  10.194.0.1 (10.194.0.1)  5.985 ms  4.006 ms  3.817 ms
 3  broadband.actcorp.in (49.207.47.201)  4.320 ms  4.715 ms  4.243 ms
 4  broadband.actcorp.in (49.207.47.225)  5.115 ms  5.390 ms  4.893 ms
 5  14.142.187.85.static-delhi.vsnl.net.in (14.142.187.85)  3.789 ms  3.746 ms  4.004 ms
 6  172.31.180.57 (172.31.180.57)  40.903 ms  41.661 ms  41.531 ms
 7  * * ix-ae-4-2.tcore1.cxr-chennai.as6453.net (180.87.36.9)  177.280 ms
 8  if-ae-13-2.tcore1.svw-singapore.as6453.net (180.87.36.83)  164.288 ms  176.561 ms  82.274 ms
 9  180.87.106.5 (180.87.106.5)  81.871 ms  84.931 ms  83.477 ms
10  52.93.11.197 (52.93.11.197)  82.368 ms  84.777 ms
    52.93.11.211 (52.93.11.211)  82.945 ms
11  52.93.11.79 (52.93.11.79)  83.587 ms
    52.93.11.67 (52.93.11.67)  78.292 ms
    52.93.11.87 (52.93.11.87)  79.452 ms
12  52.93.11.80 (52.93.11.80)  82.862 ms
    52.93.11.82 (52.93.11.82)  86.355 ms
    52.93.11.72 (52.93.11.72)  88.732 ms
13  52.93.9.161 (52.93.9.161)  83.706 ms
    52.93.9.95 (52.93.9.95)  82.498 ms
    52.93.9.139 (52.93.9.139)  84.551 ms
14  203.83.223.77 (203.83.223.77)  84.500 ms
    52.93.10.95 (52.93.10.95)  79.663 ms  79.812 ms
</code></pre><p>These might differ for you but for me this is the route my computer takes to connect to <code>kalbhor.xyz</code>. A few interesting details here include <code>dlinkrouter.dlink (192.168.0.1)</code>. Yes, that looks similar! It is my routers local IP, which means my router at home is the first machine to process my request. That’s pretty obvious.</p>
<p>Next we see <code>broadband.actcorp.in (49.207.47.201)</code> which is my ISP. We can also see that my request forwards to a ISP router in Delhi (most probably a regional level ISP) and further moves through Chennai and Singapore (kalbhor.xyz is hosted on an AWS Singapore server).</p>
<p>This tool is very useful to inspect network paths and solve problems. But aside from that, this tool is extremely interesting and its actual implementation is pretty simple.</p>
<hr>
<h3 id="how-does-traceroute-work">How does traceroute work?</h3>
<p>Now that we understand what traceroute does, lets take a look under the hood. Every TCP/UDP packet that travels has a bunch of headers containing info about the packet. One such header is the <code>ttl</code> header which is the number of hops the packet travels before being dropped. So if we set this <code>ttl</code> header to 1 our packet will reach the first hop and be dropped, if we set it to 2 our packet will reach the second hop and drop, and so on.</p>
<p>Now that we know how our packets can reach any of the hops between us and our destination, how do we collect info on the hop?
When a server/router drops a packet, it returns a  <code>ICMP Time Exceeded</code> message back. Parsing this message will allow us to retrieve info on the particular hop. Once the destination is reached (last hop) we are returned a <code>ICMP Destination Unreachable</code> message.</p>
<hr>
<h3 id="implementing-traceroute">Implementing traceroute</h3>
<p>Now that we understand what’s happening under the hood, we can roughly design a way to implement traceroute.
The steps to implement it should look something like this:</p>
<ul>
<li>Open a socket connection between us and our destination and send UDP packets</li>
<li>Start from TTL=1 and keep increasing the TTL value on the UDP packets</li>
<li>Open a socket that listens for the ICMP messages and parses them</li>
</ul>
<hr>
<h3 id="writing-a-go-application-that-implements-traceroute">Writing a Go application that implements traceroute</h3>
<p>Now we know what we want and all we need to do is implement it in any language. I’m implementing this in Go. The <code>net</code> and <code>syscall</code> package will help us along the way.</p>
<p><em>Note: I will be using minimal code just to show the main implementation (so you probably wont see me handling errors, etc here). For a more refinded well developed version of this code check out <a href="https://github.com/kalbhor/tracesite">the repository</a>.</em></p>
<p>Lets start by creating the sockets we’ll use for sending and recieving data.</p>
<pre><code>sendSocket, err := syscall.Socket(syscall.AF_INET, syscall.SOCK_DGRAM, syscall.IPPROTO_UDP)
recvSocket, err := syscall.Socket(syscall.AF_INET, syscall.SOCK_RAW, syscall.IPPROTO_ICMP)
defer syscall.Close(recvSocket)
defer syscall.Close(sendSocket)
</code></pre><p>Lets create a ttl variable which we’ll iterate and a timevalue variable that defines our timeout</p>
<pre><code>ttl := 1
// For 2000Ms
tv := syscall.NsecToTimeval(1000 * 1000 * (int64)(2000)) 
</code></pre><p>Next lets set the ttl and timeout value for the packets we’ll send in the socket</p>
<pre><code>syscall.SetsockoptInt(sendSocket, 0x0, syscall.IP_TTL, ttl)
syscall.SetsockoptTimeval(recvSocket, syscall.SOL_SOCKET, syscall.SO_RCVTIMEO, &amp;tv)
</code></pre><p>At this point our sockets are ready to send and recieve data. What we need to do is find the destination address for our <code>sendSocket</code> and a network interface on our machine for our <code>recvSocket</code></p>
<pre><code>func socketAddr() ([4]byte, error) {
    socketAddr := [4]byte{0, 0, 0, 0}
    addrs, err := net.InterfaceAddrs()
    if err != nil {
        return socketAddr, err
    }

    for _, a := range addrs {
        if ipnet, ok := a.(*net.IPNet); ok &amp;&amp; !ipnet.IP.IsLoopback() {
            if len(ipnet.IP.To4()) == net.IPv4len {
                copy(socketAddr[:], ipnet.IP.To4())
                return socketAddr, nil
            }
        }
    }
    err = errors.New("Not connected to the Internet")
    return socketAddr, err
}

func destAddr(dest string) ([4]byte, error) {
    destAddr := [4]byte{0, 0, 0, 0}
    addrs, err := net.LookupHost(dest)
    if err != nil {
        return destAddr, err
    }
    addr := addrs[0]

    ipAddr, err := net.ResolveIPAddr("ip", addr)
    if err != nil {
        return destAddr, err
    }
    copy(destAddr[:], ipAddr.IP.To4())
    return destAddr, nil
}
</code></pre><p>And in our main function we use these functions the get the addresses our sockets will use</p>
<pre><code>destAddr, err := destAddr("google.com")
socketAddr, err := socketAddr()
</code></pre><p>Lets bind our <code>recvSocket</code> so that it can recieve messages and lets send a null byte to our destination through our <code>sendSocket</code>. We connect to the port 33434.</p>
<pre><code>syscall.Bind(recvSocket, &amp;syscall.SockaddrInet4{Port: 33434, Addr: socketAddr})
syscall.Sendto(sendSocket, []byte{0x0}, 0, &amp;syscall.SockaddrInet4{Port: 33434, Addr: destAddr})
</code></pre><p>Now we need to parse the messages being sent on our <code>recvSocket</code></p>
<pre><code>p := make([]byte, options.Int(56)) // The integer here is the packet size
n, from, err := syscall.Recvfrom(recvSocket, p, 0)

ip := from.(*syscall.SockaddrInet4).Addr
ipString := fmt.Sprintf("%v.%v.%v.%v", ip[0], ip[1], ip[2], ip[3])
host, err := net.LookupAddr(ipString)

fmt.Println(host)
fmt.Println(ipString)
</code></pre><p>The Recvfrom method returns a <code>Sockaddr</code> type to our <code>from</code> variable. Hence if we parse our <code>from</code> variable we can get the IP info on the hop. We can use this with <code>net.LookupAddr</code> to run a reverse search and get the hostname (domain name) through the IP.</p>
<p>We’re almost done! All we need to do is wrap this functionality in a for loop and keep updating the <code>ttl</code> variable.</p>
<pre><code>func main() {
    sendSocket, err := syscall.Socket(syscall.AF_INET, syscall.SOCK_DGRAM, syscall.IPPROTO_UDP)
    recvSocket, err := syscall.Socket(syscall.AF_INET, syscall.SOCK_RAW, syscall.IPPROTO_ICMP)
    defer syscall.Close(recvSocket)
    defer syscall.Close(sendSocket)

    ttl := 1
    tv := syscall.NsecToTimeval(1000 * 1000 * (int64)(2000)) // For 2000Ms

    for {
        syscall.SetsockoptInt(sendSocket, 0x0, syscall.IP_TTL, ttl)
        syscall.SetsockoptTimeval(recvSocket, syscall.SOL_SOCKET, syscall.SO_RCVTIMEO, &amp;tv)

        destAddr, err := destAddr("google.com")
        socketAddr, err := socketAddr()
        destAddrString := fmt.Sprintf("%v.%v.%v.%v", destAddr[0], destAddr[1], destAddr[2], destAddr[3]) 


        syscall.Bind(recvSocket, &amp;syscall.SockaddrInet4{Port: 33434, Addr: socketAddr})
        syscall.Sendto(sendSocket, []byte{0x0}, 0, &amp;syscall.SockaddrInet4{Port: 33434, Addr: destAddr})

        p := make([]byte, options.Int(56)) // The integer here is the packet size
        n, from, err := syscall.Recvfrom(recvSocket, p, 0)

        ip := from.(*syscall.SockaddrInet4).Addr
        ipString := fmt.Sprintf("%v.%v.%v.%v", ip[0], ip[1], ip[2], ip[3])
        host, err := net.LookupAddr(ipString)
        
        fmt.Println(host)
        fmt.Println(ipString)
        
        // We stop our loop if we reach destination or reach max value for ttl
        if ipString == destAddrString || ttl &gt;= 56 { 
                break
        }

        ttl += 1

    }

}
</code></pre><p>Note that we added an if statement block to end our for loop once we reach the destination address or exceed max value for hops.</p>
<hr>
<h3 id="conclusion">Conclusion</h3>
<p>This is definitely not the most elegant solution but it explains how simple the implementation of <code>traceroute</code> actually is. If you want to check out a more refinded version of this code that compiles well and has many options like set ttl, max hops, timeout, etc check out - <a href="https://github.com/kalbhor/tracesite">My Github Repo</a></p>
<h5 id="voila----we-just-implemented-the-traceroute-tool">Voila  💫  we just implemented the traceroute tool</h5>

      
      
      
    </div></div>]]>
            </description>
            <link>https://blog.kalbhor.xyz/post/implementing-traceroute-in-go/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24239371</guid>
            <pubDate>Fri, 21 Aug 2020 22:08:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Practical Python – Python projects for beginners]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24239266">thread link</a>) | @sixhobbits
<br/>
August 21, 2020 | https://www.codewithrepl.it/python-projects-for-beginners.html | <a href="https://web.archive.org/web/*/https://www.codewithrepl.it/python-projects-for-beginners.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      <section>
        <p>
          <h2>
            Python projects for beginners
          </h2>
        </p>
        <div>
          <div>
            <h3>
              Learn to code by example
            </h3>
            <p>
              If you're learning Python, you might have asked "what should I build?" This site is for you. We walk you through 15+ projects using Python (and sometimes NodeJS). By the end, you'll not only have significantly improved your Python skills, but you'll also have some useful apps to use and put in your portfolio.
            </p>
            <p>
            Prefer offline? You can download all of the tutorials in Code with Repl.it in <a href="https://codewithrepl.it/static/code-with-replit.epub">.epub</a>, <a href="https://codewithrepl.it/static/code-with-replit.mobi">.mobi</a> or <a href="https://codewithrepl.it/static/code-with-replit.pdf">.pdf</a> formats, or access each tutorial directly below.
            </p>
            <p>
            You can follow the whole set in order, or pick the ones that look the most interesting and dive right in.
            </p>
            <p>
            Each project uses the online IDE and coding platform <a href="https://repl.it/">repl.it</a> for all examples, so all you'll need to follow along is a free account there.
            </p>
          </div>
          <div>
            <a href="https://github.com/sixhobbits/ritza/blob/master/showcase/repl.it/assets/coding-with-replit.epub?raw=true" target="_blank" rel="noreferrer noopener">
            <p><img alt="Code With Repl.it" src="https://d2sofvawe08yqg.cloudfront.net/coding-with-replit/hero?1596050711">
            </p>
          </a>
          </div>
        </div>
      </section>

      <section id="section-features">
        <p>
          <h2>
            Part 1: Beginner Python projects and Repl.it basics
          </h2>
        </p>

        
          
      </section>

      <section id="section-lessons">
        <p>
          <h2>
            Part 2: Intermediate Python projects and advanced Repl.it
          </h2>
        </p>

        
          
      </section>
      <section id="section-features">
        <p>
          <h2>
            Part 3: Python Projects
          </h2>
        </p>

        
          
            
      </section>
    </div></div>]]>
            </description>
            <link>https://www.codewithrepl.it/python-projects-for-beginners.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24239266</guid>
            <pubDate>Fri, 21 Aug 2020 21:53:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Over three billion people worldwide now play video games, study reports]]>
            </title>
            <description>
<![CDATA[
Score 230 | Comments 247 (<a href="https://news.ycombinator.com/item?id=24239234">thread link</a>) | @Gamermeme
<br/>
August 21, 2020 | https://nintendosmash.com/over-three-billion-people-worldwide-now-play-video-games-study-reports/ | <a href="https://web.archive.org/web/*/https://nintendosmash.com/over-three-billion-people-worldwide-now-play-video-games-study-reports/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="the-post">
			
			<p><img width="588" height="330" src="https://nintendosmash.com/wp-content/uploads/2020/08/gamers-588x330.jpg" alt="Three billion people worldwide now play video games, study reports">		</p>
	
		


			<div>

							

						
<p>
		
	
	
		
	<span><i></i>1 week ago</span>	
	<span><i></i><a href="https://nintendosmash.com/category/news/" rel="category tag">News</a></span>
	
	
</p>

			
				<div>
					
					
					
<p>By mid-2020, the number of people playing video games had grown to 3.1 billion, according to <a href="https://www.dfcint.com/product/video-game-consumer-segmentation-2/">DFC Intelligence</a>. Considering that in July the total population of the Earth exceeded 7.8 billion, just under 40% are familiar with games.</p>




<p>Analysts point out that almost half of the accounted three billion are those who play only on smartphones or mobile devices. This segment is also ahead of all others in terms of growth.</p>



<p>However, only about 250 million people are active console users who regularly buy new games for them. Although they represent only 8% of the total number of gamers, this is the group with the highest revenue per person.</p>



<p>1.5 billion are playing on PC – 48% of all gamers. However, this number includes not only regular users but also those who also enjoy video games on consoles and mobile platforms.</p>



<p>More than half of the world’s gamers live in Asia – there are 1.42 billion players there. Moreover, this region also accounts for 53% of people who play only on smartphones. The top four also include Europe (668 million), Latin America (383 million) and North America (261 million).</p>



<ul><li><figure><img src="https://nintendosmash.com/wp-content/uploads/2020/08/smartphome-user.jpg" alt="" data-id="4920" data-link="https://nintendosmash.com/over-three-billion-people-worldwide-now-play-video-games-study-reports/smartphome-user/" srcset="https://nintendosmash.com/wp-content/uploads/2020/08/smartphome-user.jpg 510w, https://nintendosmash.com/wp-content/uploads/2020/08/smartphome-user-300x231.jpg 300w" sizes="(max-width: 510px) 100vw, 510px"></figure></li></ul>

 
















<!-- AI CONTENT END 3 -->
					
									</div><!-- .entry /-->
								
				
				 <!-- .share-post -->				
			</div><!-- .post-inner -->
		</article><section id="check-also-box">
		<a href="#" id="check-also-close"><i></i></a>

		<p>
			<h3>Check Also</h3>
		</p>

				<div>
						
			<p><a href="https://nintendosmash.com/king-zell-claims-that-zelda-skyward-sword-hd-is-coming-to-nintendo-switch/">
					<img width="310" height="165" src="https://nintendosmash.com/wp-content/uploads/2020/08/zelda-skyword-310x165.jpg" alt="King Zell claims that Zelda: Skyward Sword HD is coming to Nintendo Switch">					<span></span>
				</a>
			</p><!-- post-thumbnail /-->
						
			<h2><a href="https://nintendosmash.com/king-zell-claims-that-zelda-skyward-sword-hd-is-coming-to-nintendo-switch/" rel="bookmark">King Zell claims that Zelda: Skyward Sword HD is coming to Nintendo Switch</a></h2>
			<p>In recent days, a rumor has been circulating the network that Zelda: Skyward Sword was …</p>
		</div>
				<div>
						
			<p><a href="https://nintendosmash.com/famous-granny-audie-shows-us-her-animal-crossing-new-horizons-island/">
					<img width="310" height="165" src="https://nintendosmash.com/wp-content/uploads/2020/08/animal-crossing-granny-island-310x165.jpg" alt="FAMOUS GRANNY AUDIE SHOWS US HER ANIMAL CROSSING: NEW HORIZONS ISLAND">					<span></span>
				</a>
			</p><!-- post-thumbnail /-->
						
			<h2><a href="https://nintendosmash.com/famous-granny-audie-shows-us-her-animal-crossing-new-horizons-island/" rel="bookmark">FAMOUS GRANNY AUDIE SHOWS US HER ANIMAL CROSSING: NEW HORIZONS ISLAND</a></h2>
			<p>Animal Crossing fans may remember Audrey, the 89-year-old grandmother who has famously clocked more than …</p>
		</div>
				<div>
						
			<p><a href="https://nintendosmash.com/crysis-remastered-coming-to-pc-and-consoles-on-september-18/">
					<img width="310" height="165" src="https://nintendosmash.com/wp-content/uploads/2020/04/crysis-for-the-switch-310x165.jpg" alt="Crysis Remastered Coming To PC And Consoles On September 18">					<span></span>
				</a>
			</p><!-- post-thumbnail /-->
						
			<h2><a href="https://nintendosmash.com/crysis-remastered-coming-to-pc-and-consoles-on-september-18/" rel="bookmark">Crysis Remastered Coming To PC And Consoles On September 18</a></h2>
			<p>Crytek not only announced the release date of the remaster, but also a teaser comparing …</p>
		</div>
				<div>
						
			<p><a href="https://nintendosmash.com/hitman-3-has-become-a-temporary-egs-exclusive/">
					<img width="310" height="165" src="https://nintendosmash.com/wp-content/uploads/2020/08/hitman3-310x165.jpg" alt="Hitman 3 has become a temporary EGS exclusive">					<span></span>
				</a>
			</p><!-- post-thumbnail /-->
						
			<h2><a href="https://nintendosmash.com/hitman-3-has-become-a-temporary-egs-exclusive/" rel="bookmark">Hitman 3 has become a temporary Epic Game Store exclusive</a></h2>
			<p>The developers decided to make a deal with Epic, since they publish the third part …</p>
		</div>
			</section></div>]]>
            </description>
            <link>https://nintendosmash.com/over-three-billion-people-worldwide-now-play-video-games-study-reports/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24239234</guid>
            <pubDate>Fri, 21 Aug 2020 21:50:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Dolthub SQL API]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24239129">thread link</a>) | @awmarthur
<br/>
August 21, 2020 | https://www.dolthub.com/blog/2020-08-21-dolthub-repository-apis/ | <a href="https://web.archive.org/web/*/https://www.dolthub.com/blog/2020-08-21-dolthub-repository-apis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-cy="blog-post-text"><p><a href="https://doltdb.com/">Dolt</a> is <a href="https://www.dolthub.com/blog/2020-03-06-so-you-want-git-for-data/">Git for data</a>,
a relational database built to create, publish and consume datasets.
<a href="https://www.dolthub.com/">DoltHub</a> hosts a growing collection of public open datasets stored as Dolt databases.
Dolthub allows you explore data through its SQL <a href="https://www.dolthub.com/repositories/Liquidata/nba-players/query/master?q=SELECT%20full_name%2C%20abbreviation%2C%20year_founded%20FROM%20%60teams%60%20LIMIT%20200%3B&amp;active=Tables">query interface</a>.
We're excited to announce that you can now query Dolthub datsets via the SQL API. </p>
<h2>How it works</h2>
<p>Dolthub's SQL API exposes repository data via an HTTP endpoint at <code>www.dolthub.com/api/v1alpha1</code>.
Query parameters are encoded in the URL in the form of:</p>
<div data-language="text"><pre><code>https://www.dolthub.com/api/v1alpha1/&lt;owner_name&gt;/&lt;repo_name&gt;/&lt;branch_name&gt;?q=&lt;sql_query&gt;</code></pre></div>
<p>The &lt;sql_query&gt; is specified as a query string keyed by "q". Any valid SQL read query is acceptable.</p>
<h2>An Example</h2>
<p>Basketball is back y'all!
The NBA bubble is fully inflated and sports fans out there are getting a much appreciated distraction from the day-to-day.</p>
<p><img src="https://www.dolthub.com/blog/2fdc8439bb19fa2e316349efbd30c89f/dame.gif" alt="It's Dame Time!"></p>
<p>The NBA hit pause on the regular season all the way back in March, so let's check out Dolthub's
<a href="https://www.dolthub.com/repositories/Liquidata/nba-players"><code>nba-players</code></a> dataset and figure out where we left off.
We'll use Python's <code>requests</code> library as a simple way to hit the API.</p>
<div data-language="python"><pre><code><span>&gt;&gt;</span><span>&gt;</span> <span>import</span> requests
<span>&gt;&gt;</span><span>&gt;</span> owner<span>,</span> repo <span>=</span> <span>'Liquidata'</span><span>,</span> <span>'nba-players'</span>
<span>&gt;&gt;</span><span>&gt;</span> res <span>=</span> requests<span>.</span>get<span>(</span><span>'https://dolthub.com/api/v1alpha1/{}/{}'</span><span>.</span><span>format</span><span>(</span>owner<span>,</span> repo<span>)</span><span>)</span>
<span>&gt;&gt;</span><span>&gt;</span> res<span>.</span>json<span>(</span><span>)</span>
<span>{</span>
     <span>'query_execution_status'</span><span>:</span> <span>'Success'</span><span>,</span>
     <span>'query_execution_message'</span><span>:</span> <span>''</span><span>,</span>
     <span>'repository_owner'</span><span>:</span> <span>'Liquidata'</span><span>,</span>
     <span>'repository_name'</span><span>:</span> <span>'nba-players'</span><span>,</span>
     <span>'commit_ref'</span><span>:</span> <span>'master'</span><span>,</span>
     <span>'sql_query'</span><span>:</span> <span>'SHOW TABLES;'</span><span>,</span>
     <span>'schema'</span><span>:</span> <span>[</span>
            <span>{</span><span>'columnName'</span><span>:</span> <span>'Table'</span><span>,</span><span>'columnType'</span><span>:</span> <span>'String'</span><span>,</span><span>'isPrimaryKey'</span><span>:</span> <span>False</span><span>}</span>
        <span>]</span><span>,</span> 
     <span>'rows'</span><span>:</span> <span>[</span>
            <span>{</span><span>'Table'</span><span>:</span> <span>'career_totals_allstar'</span><span>}</span><span>,</span> 
            <span>{</span><span>'Table'</span><span>:</span> <span>'career_totals_post_season'</span><span>}</span><span>,</span> 
            <span>{</span><span>'Table'</span><span>:</span> <span>'career_totals_regular_season'</span><span>}</span><span>,</span> 
            <span>.</span><span>.</span><span>.</span>
        <span>]</span>
<span>}</span></code></pre></div>
<p>The response gives some general metadata about the query as well as the schema of the query and its result rows.
A couple things to note here: &lt;branch_name&gt; and &lt;sql_query&gt; are optional parameters.
If they're not specified they default to 'master' and 'SHOW TABLES' respectively.
The nba-players dataset includes all of this season's stat totals up to the March stoppage.
Let's find out who's leading the league in scoring. </p>
<div data-language="python"><pre><code><span>&gt;&gt;</span><span>&gt;</span> owner<span>,</span> repo<span>,</span> branch <span>=</span> <span>'Liquidata'</span><span>,</span> <span>'nba-players'</span><span>,</span> <span>'master'</span>
<span>&gt;&gt;</span><span>&gt;</span> query <span>=</span> <span>'''SELECT tot.pts / tot.gp as ppg, ply.full_name as player
    FROM `season_totals_regular_season` as tot 
    JOIN `players` as ply ON tot.player_id = ply.id 
    WHERE tot.season_id = '2019-20' 
    ORDER BY ppg DESC LIMIT 10;'''</span>
<span>&gt;&gt;</span><span>&gt;</span> res <span>=</span> requests<span>.</span>get<span>(</span><span>'https://www.dolthub.com/api/v1alpha1/{}/{}/{}'</span><span>.</span><span>format</span><span>(</span>owner<span>,</span> repo<span>,</span> branch<span>)</span><span>,</span> params<span>=</span><span>{</span><span>'q'</span><span>:</span> query<span>}</span><span>)</span>
<span>&gt;&gt;</span><span>&gt;</span> res<span>.</span>json<span>(</span><span>)</span>
<span>{</span>
    <span>'query_execution_status'</span><span>:</span> <span>'Success'</span><span>,</span>
    <span>'query_execution_message'</span><span>:</span> <span>''</span><span>,</span>
    <span>'repository_owner'</span><span>:</span> <span>'Liquidata'</span><span>,</span>
    <span>'repository_name'</span><span>:</span> <span>'nba-players'</span><span>,</span>
    <span>'commit_ref'</span><span>:</span> <span>'master'</span><span>,</span>
    <span>'sql_query'</span><span>:</span> <span>"SELECT tot.pts / tot.gp as ppg, ply.full_name as player\n\tFROM `season_totals_regular_season` as tot \n\tJOIN `players` as ply ON tot.player_id = ply.id \n\tWHERE tot.season_id = '2019-20' \n\tORDER BY ppg DESC LIMIT 10;"</span><span>,</span>
    <span>'schema'</span><span>:</span> <span>[</span>
    	<span>{</span><span>'columnName'</span><span>:</span> <span>'ppg'</span><span>,</span><span>'columnType'</span><span>:</span> <span>'Int'</span><span>,</span><span>'isPrimaryKey'</span><span>:</span> <span>False</span><span>}</span><span>,</span> 
    	<span>{</span><span>'columnName'</span><span>:</span> <span>'player'</span><span>,</span><span>'columnType'</span><span>:</span> <span>'String'</span><span>,</span><span>'isPrimaryKey'</span><span>:</span> <span>False</span><span>}</span><span>]</span><span>,</span> 
    <span>'rows'</span><span>:</span> <span>[</span>
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'34'</span><span>,</span> <span>'player'</span><span>:</span> <span>'James Harden'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'30'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Bradley Beal'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'29'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Giannis Antetokounmpo'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'29'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Trae Young'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'28'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Damian Lillard'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'28'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Luka Doncic'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'27'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Russell Westbrook'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'27'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Kyrie Irving'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'26'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Kawhi Leonard'</span><span>}</span><span>,</span> 
    	<span>{</span><span>'ppg'</span><span>:</span> <span>'26'</span><span>,</span> <span>'player'</span><span>:</span> <span>'Anthony Davis'</span><span>}</span>
    <span>]</span>
<span>}</span></code></pre></div>
<p>This is a great example of the power of the SQL API.
You can execute joins against that API rather than having to fetch all the data and compute the matches yourself.</p>
<p>Why Harden is a distant third in the MVP race... we'll never know.
Speaking of Harden getting robbed, back in December this <a href="https://www.dolthub.com/blog/3e540a6d7ace830b78359178d9eb2afe/harden.mp4">happened</a>.
Harden's dunk wasn't counted and could not be overturned with video replay. (The Rockets went on to lose in double OT.)
Thankfully Liquidata has corrected the record on a <a href="https://www.dolthub.com/repositories/Liquidata/nba-players/compare/james-harden-basket-counts/asp1h2qhi1k8otrnk5o6jv87doahqn7v">separate branch</a> within this repo.
You can choose to believe either version of history: </p>
<div data-language="python"><pre><code><span>&gt;&gt;</span><span>&gt;</span> query <span>=</span> <span>"SELECT id FROM `players` where last_name='Harden'"</span>
<span>&gt;&gt;</span><span>&gt;</span> res <span>=</span> requests<span>.</span>get<span>(</span><span>'http://www.dolthub.com/api/v1alpha1/{}/{}'</span><span>.</span><span>format</span><span>(</span>owner<span>,</span> repo<span>)</span><span>,</span> params<span>=</span><span>{</span><span>'q'</span><span>:</span> query<span>}</span><span>)</span>
<span>&gt;&gt;</span><span>&gt;</span> res<span>.</span>json<span>(</span><span>)</span>
<span>{</span>
    <span>.</span><span>.</span><span>.</span>
    <span>'rows'</span><span>:</span> <span>[</span><span>{</span><span>'id'</span><span>:</span> <span>'201935'</span><span>}</span><span>]</span>
<span>}</span>
<span>&gt;&gt;</span><span>&gt;</span> query <span>=</span> <span>'''SELECT pts FROM `season_totals_regular_season` 
    WHERE player_id = 201935 AND season_id = '2019-20';'''</span>
<span>&gt;&gt;</span><span>&gt;</span> branch <span>=</span> <span>'master'</span>
<span>&gt;&gt;</span><span>&gt;</span> res <span>=</span> requests<span>.</span>get<span>(</span><span>'http://www.dolthub.com/api/v1alpha1/{}/{}/{}'</span><span>.</span><span>format</span><span>(</span>owner<span>,</span> repo<span>,</span> branch<span>)</span><span>,</span> params<span>=</span><span>{</span><span>'q'</span><span>:</span> query<span>}</span><span>)</span>
<span>&gt;&gt;</span><span>&gt;</span> res<span>.</span>json<span>(</span><span>)</span>
<span>{</span>
    <span>.</span><span>.</span><span>.</span>
    <span>'rows'</span><span>:</span> <span>[</span><span>{</span><span>'pts'</span><span>:</span> <span>'2096'</span><span>}</span><span>]</span><span>}</span>
<span>}</span>
<span>&gt;&gt;</span><span>&gt;</span> branch <span>=</span> <span>'james-harden-basket-counts'</span>
<span>&gt;&gt;</span><span>&gt;</span> res <span>=</span> requests<span>.</span>get<span>(</span><span>'http://www.dolthub.com/api/v1alpha1/{}/{}/{}'</span><span>.</span><span>format</span><span>(</span>owner<span>,</span> repo<span>,</span> branch<span>)</span><span>,</span> params<span>=</span><span>{</span><span>'q'</span><span>:</span> query<span>}</span><span>)</span>
<span>&gt;&gt;</span><span>&gt;</span> res<span>.</span>json<span>(</span><span>)</span>
<span>{</span> 
    <span>.</span><span>.</span><span>.</span>
    <span>'rows'</span><span>:</span> <span>[</span><span>{</span><span>'pts'</span><span>:</span> <span>'2098'</span><span>}</span><span>]</span>
<span>}</span></code></pre></div>
<p>And because much of Dolt's functionality is exposed via SQL, you can even query the commit log over the API:</p>
<div data-language="python"><pre><code><span>&gt;&gt;</span><span>&gt;</span> branch <span>=</span> <span>'james-harden-basket-counts'</span>
<span>&gt;&gt;</span><span>&gt;</span> query <span>=</span> <span>'SELECT committer, message FROM dolt_log'</span>
<span>&gt;&gt;</span><span>&gt;</span> res <span>=</span> requests<span>.</span>get<span>(</span><span>'https://www.dolthub.com/api/v1alpha1/{}/{}/{}'</span><span>.</span><span>format</span><span>(</span>owner<span>,</span> repo<span>,</span> branch<span>)</span><span>,</span> params<span>=</span><span>{</span><span>'q'</span><span>:</span> query<span>}</span><span>)</span>
<span>&gt;&gt;</span><span>&gt;</span> res<span>.</span>json<span>(</span><span>)</span>
<span>{</span>
    <span>.</span><span>.</span><span>.</span>
    <span>'rows'</span><span>:</span> <span>[</span>
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Added a field goal made as well'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>"James Harden's basket counts on Dec. 3, 2019"</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Relabeled columns in per36 views as per36 instead of per_game'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Changed description of views'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Added per36 views to README'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Merged master'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Added views for per36 stats'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Andy Arthur'</span><span>,</span> <span>'message'</span><span>:</span> <span>'putting description back'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Andy Arthur'</span><span>,</span> <span>'message'</span><span>:</span> <span>'moving player name to the front of saved query'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Andy Arthur'</span><span>,</span> <span>'message'</span><span>:</span> <span>'removing where clause from save query'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Added README'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Added views for per game stats'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Added sample query'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Initial import of player data'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Made appropriate columns doubles'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Initial schema for this NBA player database'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Initial import of teams and players'</span><span>}</span><span>,</span> 
        <span>{</span><span>'committer'</span><span>:</span> <span>'Tim Sehn'</span><span>,</span> <span>'message'</span><span>:</span> <span>'Initialize data repository'</span><span>}</span>
    <span>]</span>
<span>}</span></code></pre></div>
<h2>Anything is possible</h2>
<p><img src="https://www.dolthub.com/blog/cb52dacaef9e9e2dfa9cd355efbb278c/kg.gif" alt="Anything is possible"></p>
<p>The flexibility of the SQL API allows you to do anything you want with your data.
You can use the API to fetch data for visualization or as a simple backend for web app.
The SQL API is currently in alpha.
It's shape may change over time, but the basic principle of data access through SQL will remain.
The API is built of top of Dolt's SQL engine powered by <a href="https://github.com/liquidata-inc/go-mysql-server"><code>go-mysql-server</code></a>
so it's performance and compatibility are improving on a weekly basis.
Checkout our SQL support on <a href="https://github.com/liquidata-inc/go-mysql-server">Dolthub</a>.
We're excited to see how the SQL API gets used in the wild.
If you have any questions or requests, <a href="https://www.dolthub.com/contact">reach out</a> to us!</p></div></div>]]>
            </description>
            <link>https://www.dolthub.com/blog/2020-08-21-dolthub-repository-apis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24239129</guid>
            <pubDate>Fri, 21 Aug 2020 21:37:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Fragility of Efficiency and the Coronavirus]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24239000">thread link</a>) | @petewailes
<br/>
August 21, 2020 | https://wearenotsaved.com/2020/03/27/the-fragility-of-efficiency-and-the-coronavirus/ | <a href="https://web.archive.org/web/*/https://wearenotsaved.com/2020/03/27/the-fragility-of-efficiency-and-the-coronavirus/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						<p><span>If you prefer to listen rather than read, this blog is available as a podcast <a href="https://itunes.apple.com/us/podcast/we-are-not-saved/id1175122428">here</a>. Or if you want to listen to just this post:</span></p>

<p><span><a href="http://traffic.libsyn.com/wearenotsaved/The_Fragility_of_Efficiency_and_the_Coronavirus.mp3">Or download the MP3</a></span></p>
<hr>
<p><span>I heard a story recently about 3M (</span><a href="https://www.dictionary.com/e/acronyms/h-t/"><span>h/t</span></a><span>: frequent commenter Boonton). Supposedly, back during the SARS outbreak they decided they should build in some “surge capacity” around the construction of N95 masks. Enough additional capacity that they could double their production at a moment’s notice. It was unclear if they actually did that or if they were just thinking about it. And even if they had, it appears that the scope of the current crisis is great enough that it’s not as if this one decision would have dramatically altered the outcome. Still it’s hard to dispute that it would have helped.&nbsp;</span></p>
<p><span>The question which immediately suggests itself is how would the market have treated this development? In fact imagine that there were two companies, one who took some portion of their profits and plowed them back into various measures which would help in the event of a crisis and one that didn’t. How do you imagine that the stock market and investors would price these two companies? I’m reasonably certain that the latter, the one who took the profits and disbursed them as dividends, or found some other use for them, would end up with a higher valuation, all else being equal. In other words I would very much expect Wall Street to have punished 3M for this foresight, particularly over a sufficiently long time horizon where there were no additional epidemics, but even in the few years between doing it and needing it.</span></p>
<p><span>What this story illustrates is that attempts to maximize the efficiency of an economic system also have the effect of increasing and possibly maximizing the fragility as well. And while, in general, I don’t have much to say about the Coronavirus which hasn’t been said already and better by someone else. I do think that this may be one of the few areas where not enough has been said already and where I might, in fact, have something useful to add to the discussion.&nbsp;</span></p>
<p><span>To begin, I want to turn from examining the world we have to looking at the world we wished we had, at least with respect to the virus. And as long as we’re already on the subject of masks we might as well continue in this vein.&nbsp;</span></p>
<p><span>As the pandemic progresses one of the big things people are noticing is the difference in the number of infections between the various countries. In particular South Korea, Japan and Taiwan have done much better than places like Italy and Spain. There are of course a number of reasons for why this might be, but there’s increasing anecdotal evidence indicating that the availability of masks might be one part of the equation.&nbsp;</span></p>
<p><span>For example, Taiwan is very closely connected to China, and one might expect that they would have gotten the virus quite early. Probably before people really understood what was going on, but definitely well before the recent policies of social distancing really started to be implemented to say nothing of a full on quarantine, and yet somehow, they only have 235 infections, which as of this writing puts them below Utah!</span></p>
<p><span>There are of course numerous reasons for why this might be, but I’m more and more inclined to believe that one big factor is that Taiwan is a mask producing juggernaut. In fact as recently as a few days ago they pledged to send </span><a href="https://www.taiwannews.com.tw/en/news/3899531"><span>100,000 masks a week to us</span></a><span>. They can make this gesture (and I know 100k is actually just a drop in the bucket) because they’re currently producing </span><a href="https://focustaiwan.tw/business/202003090013"><span>10 million masks a day</span></a><span>! For a country that only has 24 million people. Meaning that while that won’t quite cover one mask per day per person it’s enough that if people avoid leaving the house unnecessarily and if some masks can be reused they have enough for everyone to be wearing one at all times when they’re out of doors.</span></p>
<p><span>South Korea is similar and the big challenge there was not that they weren’t producing enough masks, but to </span><a href="https://abcnews.go.com/International/south-korea-takes-measures-face-masks-domestically-amid/story?id=69254114"><span>stop exporting the masks</span></a><span> they were already making. Finally reports out of Japan indicate that about 95% of people are wearing masks. But more importantly reports were that even before the pandemic around 30-40% were wearing masks just as a matter of habit. Is it possible that this slowed things down enough to allow them to get on top of it once the true scale of the crisis was apparent?</span></p>
<p><span>As I was writing this post I did some research on the topic, but before the post was finished Scott Alexander of Slate Star Codex came along, as he frequently does, and released </span><a href="https://slatestarcodex.com/2020/03/23/face-masks-much-more-than-you-wanted-to-know/"><span>Face Masks: Much More Than You Wanted to Know</span></a><span> which is a very thorough examination of the mask question. What he found mostly supports my point, and in particular this story was fascinating:</span></p>
<p><em><span>Some people with swine flu travelled on a plane from New York to China, and many fellow passengers got infected. Some researchers </span></em><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3810906/"><em><span>looked at whether</span></em></a><em><span> passengers who wore masks throughout the flight stayed healthier. The answer was very much yes. They were able to track down 9 people who got sick on the flight and 32 who didn’t. 0% of the sick passengers wore masks, compared to 47% of the healthy passengers. Another way to look at that is that 0% of mask-wearers got sick, but 35% of non-wearers did. This was a significant difference, and of obvious applicability to the current question.</span></em></p>
<p><span>On the other hand, when we turn to the US and Europe, in contrast to Southeast Asia, there is definitely not a culture of mask-wearing and even if there had been, most of those countries apparently imported masks from places like Taiwan and China (a point I’ll return to) meaning that when those countries stopped exporting masks there were even fewer available here, enough that people started worrying about not having even enough for the healthcare providers. Once this problem became apparent various authorities started telling people that masks were ineffective. A policy which has since been called out for not merely being wrong, but </span><a href="https://www.nytimes.com/2020/03/17/opinion/coronavirus-face-masks.html"><span>contradictory, counterproductive and undermining trust in the authorities at a time when they needed it most.</span></a><span>&nbsp;</span></p>
<p><span>For most people, myself included, it’s just common sense that wearing a mask helps, the only question is how much? Based on evidence out of the countries just mentioned, and the SSC post I would venture to say that they help quite a bit. Also they’re cheap. Particularly when weighed against the eventual cost of this pandemic.</span></p>
<p><span>We’ve all learned many new things since the pandemic began, one of the things I didn’t realize was how bad the </span><a href="https://en.wikipedia.org/wiki/Severe_acute_respiratory_syndrome"><span>SARS</span></a><span> epidemic was and how much the current precautions and behavior of the Southeast Asian countries is based on l</span><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3320446/"><span>essons learned during that epidemic</span></a><span>. And while it’s understandable that I might have missed that (particularly since I didn’t start blogging until 2016) the CDC and the federal government on the other hand should have been paying </span><em><span>very close attention</span></em><span>. In fact, you would have expected that they might have taken some precautions in case something like that happened again or worse, started in the US. (Though to be fair, we don’t have wet markets, if that is where it started. As if we didn’t already have enough conspiracy theories.) Instead the US Government’s response has been borderline criminal. (Other people have done a much better job of talking about this than I could, but if you’re interested in a fairly short podcast just about the delay of testing that avoids sensational accusations, check out this </span><a href="https://www.npr.org/2020/03/18/818072542/episode-981-how-to-test-a-country"><span>Planet Money episode</span></a><span>.)</span></p>
<p><span>To continue using the example of masks, I think it’s worth asking what it would have taken for the government to have a one month supply for every single person in the country. Stockpiled against a potential pandemic. According to this </span><a href="https://www.wired.com/story/covid-19-amazon-curb-face-mask-price-gouging/"><span>Wired article</span></a><span>, before the pandemic 100 disposable masks were going for $3.75, let’s be conservative and round up and say that masks cost 4 cents a piece. From there the math is straightforward: 330 million people X 30 days X $0.04, is ~$400 million dollars, or 3% of the CDCs budget, or less than what the federal government spends in an hour. Still, I’ll agree, that’s a fair amount of money. But remember that’s the </span><em><span>absolute maximum</span></em><span> it would cost. I’d actually be surprised if once you factored in the huge economy of scale that we couldn’t do it for a 10th of that or even a 20th of that. And it would presumably have been cheaper still to just buy the necessary machinery for making masks and then mothball it, with a “break in case of emergency” sign on the door. Once you factor in all the potential cost savings, it’s hard to imagine that this would have cost more than $25 million (in fact if the government wants to offer me a $25 million contract to make it happen for next time I would be happy to take it.) And when you consider that it’s probably going to end up costing the US over a </span><a href="https://www.weforum.org/agenda/2020/03/coronavirus-covid-19-cost-economy-2020-un-trade-economics-pandemic/"><span>trillion dollars</span></a><span>, plus the expected odds of something like this happening, you start to wonder why on earth they didn’t do this </span><em><span>and countless other things</span></em><span> that might have come in handy. (A strategic toilet paper reserve? I’m just saying.)</span></p>
<p><span>When you consider all of the budgetary cuts that were proposed for the CDC, which have </span><a href="https://www.politifact.com/factchecks/2020/feb/28/michael-bloomberg/did-donald-trump-fire-pandemic-officials-defund-cd/"><span>emerged in the wake</span></a><span> of the pandemic, and which generally involved only tens of millions of dollars, it seems unlikely that even $25 million would be allocated just for masks, but why is that? With a federal budget of $3.8 trillion why are we so concerned about $25 million? (It’s the equivalent of worrying about $25 when you make $3.8 million a year.) I understand people who are opposed to government spending, </span><a href="https://wearenotsaved.com/2017/10/21/the-nation-debt-in-three-lists-of-six-items/"><span>heck I’m one of them</span></a><span>, but this also seems like one of those classic cases where people balk at spending anything to prevent a crisis, while somehow simultaneously being willing to bury the problem in a </span><em><span>giant mountain of money</span></em><span> once the crisis actually hits. It would be one thing if we refused to spend the money regardless of the circumstances, but if recent financial news is any indication we’re obviously willing to spend whatever it takes, just not in any precautionary way. …</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wearenotsaved.com/2020/03/27/the-fragility-of-efficiency-and-the-coronavirus/">https://wearenotsaved.com/2020/03/27/the-fragility-of-efficiency-and-the-coronavirus/</a></em></p>]]>
            </description>
            <link>https://wearenotsaved.com/2020/03/27/the-fragility-of-efficiency-and-the-coronavirus/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24239000</guid>
            <pubDate>Fri, 21 Aug 2020 21:21:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[F (2006)]]>
            </title>
            <description>
<![CDATA[
Score 166 | Comments 50 (<a href="https://news.ycombinator.com/item?id=24238846">thread link</a>) | @tosh
<br/>
August 21, 2020 | http://www.nsl.com/k/f/f.htm | <a href="https://web.archive.org/web/*/http://www.nsl.com/k/f/f.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">



<p><a href="http://www.nsl.com/k/f/f.k">F</a> is a pure functional concatenative 
language originally designed as an extension of <a href="http://www.nsl.com/papers/false.htm">False</a>. F contains the list-operations of <a href="http://www.kx.com/">K3</a> and the <em>dip</em> combinator 
of <a href="http://www.latrobe.edu.au/philosophy/phimvt/joy.html">Joy</a>. Floating-point and symbolic datatypes are supported. One-time assignment
is enforced in syntax. A theory of function-valence and -charge is outlined. F also contains a general continuation
primitive $, and the pattern sublanguage of <a href="http://www.nsl.com/k/xy/xy.htm">XY</a>.  <a href="http://www.nsl.com/k/f/g.k">G</a> is a variant of F in which the K3 adverbs are implemented as primitives.</p>

<h2>0. Introduction</h2>

<p>F has the following properties:</p>

<blockquote>
    <ul>
        <li>The language is concatenative</li>
        <li>The language is purely functional</li>
        <li>All K verbs are implemented</li>
        <li>All primitives are denoted by single symbols</li>
        <li>Primitive symbols are as mnemonic as possible</li>
    </ul>
</blockquote>

<p><em>The language is concatenative.</em> F tokens are words,
words denote functions, and the concatenation of words denotes
the composition of functions. In classical concatenative
languages, everything is a function from stacks to stacks. In F,
everything is a function from triples of
(environment;stack;queue) to triples of
(environment;stack;queue).</p>

<p><em>The language is purely functional.</em> There are no
side-effects. F has assignment, but not reassignment. This means
that you can't use a variable to store dynamic state. F
assignment associates names with values in an environment which
is passed as an argument and returned as a value. F also has
commands for interacting with the run-time environment and the
file-system, but these operations are notationally differentiated
from the operators of F: "h", "r", &amp;c.
They are intended as debugging aids only.</p>

<p><em>All K verbs are implemented.</em> Some K verbs are
implemented as primitives, and some are derived in the F prelude.
For example, the <em>atom</em> primitive @ of K is defined as
[#ints~]; i.e. shape matches the empty integer vector. Where K
provides a pair of functions, one of which is easily defined in
terms of the other, F implements one as a primitive and derives the
other. For example, <em>and</em> is primitive (&amp;) and <em>or</em>
is derived.  The criterion for dividing related pairs is simply
this:  the derived definition must not be egregiously inefficient
when compared to the primitive it supplants.</p>

<p><em>All primitives are denoted by single symbols.</em>
Although list-notation ([x y z]) is supported, any list can be
constructed functionally with ' (<em>quote</em>) and , (<em>join</em>).</p>

<p><em>Primitive symbols are as mnemonic as possible.</em> There
are five ways the mapping of a function to a symbol can be
mnemonic:</p>

<blockquote>
    <ol>
        <li>The symbol is in common use for the mapped function
            (e.g. + for addition)</li>
        <li>The symbol is mapped to that function in K (e.g. ?
            for <em>find</em>) or False (e.g. ! for <em>unquote</em>)</li>
        <li>The name of the symbol is a homonym for the mapped
            function (e.g. ' for <em>quote</em>)</li>
        <li>A pair of related functions (inverses, or
            near-inverses) are mapped to a pair of related
            symbols (e.g. / and \ for <em>take</em> and <em>drop</em>)</li>
        <li>Where several K primitives are mapped to one symbol,
            the primitives should form an easily remembered group
            based on some common property; e.g. both <em>upgrade</em>
            and <em>enum</em> return indices based on an
            ascending relation, so both are mapped to &lt;. </li>
    </ol>
</blockquote>

<h2>1. Datatypes</h2>

<p>The initial state of the interpreter consists of an
environment containing the F words of the prelude, an empty
result stack, and a string (character-vector) to be evaluated.
The input string is tokenized and parsed to obtain the initial
queue. </p>

<p>The input queue is a K list, possibly containing integers,
floats, symbols, <em>null</em>, functions, and lists
("quotations"). The result stack is initially empty.
The environment is a K dictionary. F processes the environment,
stack, and queue repeatedly until the queue is empty. </p>

<p>If the first item on the queue is an integer, float, <em>null</em>,
the prototype symbol `, or a list, the item is pushed onto the
stack.</p>

<p>If the first item is an undefined symbol, then if it's a <em>shuffle</em>
it's applied; otherwise, a variable is created (in the environment)
having the top of the stack as the value. </p>

<p>If the first item is a defined symbol, its value is
retrieved (from the environment) and pushed onto the stack.</p>

<p>If the first item is a function, then it is applied to the
environment, stack, and queue to produce a new environment,
stack, and queue.</p>

<p>Observe that the domain of the result stack is a proper subset
of the domain of the input queue. On the queue we may find
character-atoms, such as "r", and strings, such as
"blah". But character-atoms are executed away when they
are evaluated, and no F primitive ever produces one, and strings
are comments, which are not processed.</p>

<p>The <em>trace</em> command displays the stack and queue for
selected objects in the trace list T:</p>

<blockquote>
    <pre>F&gt;[fac] "t"

F&gt;3 fac!
                                       3 ♦ fac !
                                     3 2 ♦ fac ! *
                                   3 2 1 ♦ fac ! * *
6
F&gt;

F&gt;[fac cond] "t"

F&gt;3 fac!
                                       3 ♦ fac !
       3 [1 =] [] [dup ! pred ! fac ! *] ♦ cond !
                                     3 2 ♦ fac ! *
     3 2 [1 =] [] [dup ! pred ! fac ! *] ♦ cond ! *
                                   3 2 1 ♦ fac ! * *
   3 2 1 [1 =] [] [dup ! pred ! fac ! *] ♦ cond ! * *
6
F&gt;

F&gt;[] "t"

F&gt;3 fac!
6</pre>
</blockquote>

<h2>2. Primitives</h2>

<h3>Operators (O)</h3>

<blockquote>
    <pre>09*-		int		123 -&gt; 123
09*.09*-	float		123.45 -&gt; 123.45

az.AZ*		name		myName -&gt; value or null
az*-AZ*		shuffle		10 20 ab-ba -&gt; 20 10

[..]		list		[10 + [3 a]] -&gt; [10 + [3 a]]

+		add		1 2 + -&gt; 3
-		sub		2 3 - -&gt; 1
*		mul		3 4 * -&gt; 12
%		div		5 3 % -&gt; 1.666667
^		power		2 3 ^ -&gt; 8
_		floor		3.2 _ -&gt; 3

=		equal		2 2 = -&gt; 1
&gt;		more		4 6 &gt; -&gt; 0
&amp;		and/min		4 3 &amp; -&gt; 3

~		match		[1 2][1 2] ~ -&gt; 1

#		shape		[1 2 3] # -&gt; [3]

|		reverse		[1 2 3] | -&gt; [3 2 1]

@		where		[0 1 1 0 1] @ -&gt; [1 2 4]
@		flip		[[1 2 3][4 5 6]] @ -&gt; [[1 4][2 5][3 6]]

/		take		2[1 2 3] / -&gt; [1 2]
/		reshape		[3 2][1 2 3] / -&gt; [[1 2][3 1][2 3]]

\		drop		2[1 2 3] \ -&gt; [3]
\		cut		[0 2][1 2 3] \ -&gt; [[1 2][3]]
\		rotate		[1 2 3 4] 2 \ -&gt; [3 4 1 2]

?		find		[10 20 30] 20 ? -&gt; 1
?		mod		2 [3 4 5] ? -&gt; [1 0 1]

;		unique		[10 20 10 10 30] ; -&gt; [10 20 30]
:		group		[10 20 10 10 30] : -&gt; [[0 2 3][1][4]]

&lt;		enum		3 &lt; -&gt; [0 1 2]
&lt;		upgrade		[10 30 20] &lt; -&gt; [0 2 1]

.		infra		1 2 [[2 3 +]] . 3 4 -&gt; 1 2 [5] 3 4
.		index		[[1 2 3][[1 0]]] . -&gt; [2 1]
.		monad		[[1 2 3][[1 0]][-1*]] . -&gt; [-1 -2 3]
.		dyad		[[1 2 3][[1 0]]+[3 8]] . -&gt; [9 5 3]

!		unquote		2 [3 +] ! -&gt; 5
`		dip		2 3 4 [+] ` -&gt; 5 4
'		quote		'+ -&gt; [+]

,		join  		[1][2 3] , -&gt; [1 2 3]

$		state		1 2 3 '\ $ 4 5 6 -&gt; 4 5 6 1 2 3

)		s -&gt; s		stack-&gt;stack pattern
(		s -&gt; q		stack-&gt;queue pattern

}		q -&gt; s		queue-&gt;stack pattern
{		q -&gt; q		queue-&gt;queue pattern</pre>
</blockquote>

<h3>System Functions (K)</h3>

<p>The K system functions have reserved names:</p>

<blockquote>
    <pre>type (4::)
log exp abs sqr sqrt floor dot mul inv lsq
sin cos tan asin acos atan sinh cosh tanh
draw
in lin bin binl dv dvl di vs sv</pre>
</blockquote>

<h3>Literals (L)</h3>

<p>F has nine reserved names for literals:</p>

<blockquote>
    <pre>Nan		minint (0N)
Inf		maxint (0I)

nan		NaN (0n)
inf		infinity (0i)

null		null (_n)
sym		prototype sym (`)

ints		empty integer vector (!0)
floats		empty float vector (0#0.)
syms		empty sym vector (0#`)</pre>
</blockquote>

<h3>Commands (I)</h3>

<p>F has the following interactive commands:</p>

<blockquote>
    <pre>".."		comment		1 "skip" 2	comment not processed

"b"		break		'x "b"		signal error ('x)
"c"		clear		1 2 "c" 3 4	clear, load f, prelude
"d"		defined		'foo "d"	is foo defined?
"e"		error		0 "e"		set/unset error trap (\e)
"f"		F		"f" 2 unit!	set F semantics, clear
"j"		Joy		"j" 2 unit	set Joy semantics, clear
"k"		K		1 2 "k" 3 4	exit to K
"l"		load		'x "l"		load f/x.f|x.j
"m"		measure		[10&lt;] "m"	measure time in ms
"o"		words		'map "o"	show word form
"p"		precision	3 "p"		print precision (\p)
"r"		read		1 2 "r" 3 4	read, parse, eval
"s"		store		y 'x "s"	store f/x.f|x.j
"t"		trace		null "t" 3 4	set trace-list (T)
"u"		undefine	x "u"		undefine vars in x
"v"		variables	1 2 "v" 3 4	show vars (!environment)
"x"		exit		1 2 "x" 3 4	_exit 0
"w"		write		1 2 "w" 3 4	format, write
"z"		halt		1 2 "z" 3 4	: to continue
</pre></blockquote>

<h3>Names and numbers</h3>

<p>Spaces (<em>blank</em>, <em>tab</em>, <em>return</em>) are
necessary to separate names from names and numbers from numbers,
but not names from numbers.</p>

<p>A name must begin with a letter and may contain letters, .,
or a single -.  A name containing a - is a shuffle-symbol.</p>

<p>A numerical expression must begin with either a digit or - 
followed by a digit, and must end with a digit.  A floating-point 
numerical expression must contain exactly one . which
must be flanked by digits.</p>

<h3>Operators</h3>

<p>The math, logic, and relational operators are <em>atomic
functions</em>. For example,</p>

<blockquote>
    <pre>F&gt;[1 2 3][[4 5 6] 7 8]+
[[5 6 7] 9 11]</pre>
</blockquote>

<p>In several instances, distinct K operations have been mapped
to one symbol: </p>

<blockquote>
    <pre>int &lt;			enum			!x
~atom &lt;			upgrade			&lt;x
atom &lt;			nonce

int/ints @		where			&amp;x
list @			flip			+x
			nonce

atom y ?		mod			y!x
~atom y ?		find			x?y

list atom \		rotate			y!x
atom list \		drop			x _ y
atom atom \		drop			x _(),y
list list \		cut			x _ y

1=#x .			infra
x .			index/monad/dyad	. x</pre>
</blockquote>

<h3>Iterators</h3>

<p>The False combinators <em>if</em> and <em>while</em> have been
eliminated, and <em>cond</em>, <em>if</em>, and <em>while</em>
have been defined as words in the prelude. The truth-values of F
are more general than those of K: 0 is <em>false</em>, any other
value is <em>true</em>.</p>

<h3>Assignment</h3>

<p>Assignment has the form <em>value unassigned_name</em>. An
assigned name may not be re-assigned.</p>

<p>Reserved names cannot be assigned:</p>

<blockquote>
    <pre>F&gt;12 inf
12 inf</pre>
</blockquote>

<p>Use of an assigned name (a variable) places the value assigned
to it on the stack:</p>

<blockquote>
    <pre>F&gt;10 a

F&gt;a
10
F&gt;12 a
10 12 10
F&gt;a
10 12 10 10</pre>
</blockquote>

<p>A symbol can be produced indirectly:</p>

<blockquote>
    <pre>F&gt;10 foo

F&gt;foo
10
F&gt;[foo] first!
foo
F&gt;!
10</pre>
</blockquote>

<h3>Quotation</h3>

<p>The <em>quote</em> primitive ' takes the next item on the
queue and quotes it:</p>

<blockquote>
    <pre>F&gt;'+
[+]
F&gt;
F&gt;'[1 2 3]
[[1 2 3]]
F&gt;
F&gt;''
[']</pre>
</blockquote>

<p>The <em>unquote</em> combinator ! is Joy's <em>i</em>. ! takes
the top item <em>x</em> on the stack and prepends the elements of
<em>x</em> to the queue:</p>

<blockquote>
    <pre>F&gt;2 3 '+ !
5</pre>
</blockquote>

<p>The <em>dip</em> combinator is defined as it is in Joy. `
takes the top two items <em>x</em> <em>y</em> on the stack and</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.nsl.com/k/f/f.htm">http://www.nsl.com/k/f/f.htm</a></em></p>]]>
            </description>
            <link>http://www.nsl.com/k/f/f.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-24238846</guid>
            <pubDate>Fri, 21 Aug 2020 21:01:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generating sales from YouTube micro-influencers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24238732">thread link</a>) | @stin23
<br/>
August 21, 2020 | https://austinrepp.com/youtubemicro/ | <a href="https://web.archive.org/web/*/https://austinrepp.com/youtubemicro/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
            

            <div id="container">


<div>
    <article itemscope="" itemtype="http://schema.org/BlogPosting">
        

        <div itemprop="articleBody">
    

    <p>For the last few months, I’ve been reaching out to “micro influencers” on YouTube, with the hope of driving targeted traffic to my product, <a href="http://discordbotstudio.org/">http://discordbotstudio.org</a>. I’m classifying micro influencers as having between 1,000 – 10,000 subscribers on YouTube. The benefit of reaching channels of this size is that they have dedicated audiences based on a certain niche (in my case this is Discord Bots and the creation thereof).</p>

<p>Discord Bot Studio (DBS) is a visual programming tool I released on Steam on May 12th, 2020 (2 months prior to writing this). It’s a utility that lets users create Discord bots without needing to write any code, a task that usually requires programming knowledge. Up to this point I have sold about 1,000 copies of DBS, all through Steam. My only marketing efforts to this point have been SEO, through the landing page I’ve had setup for almost a year, and through Steam itself, where DBS is sold. I also grew a decently sized mailing list from the landing page, but I saw very poor conversion from that list. I’m content with the traffic I’m getting through SEO alone, but I recognize that I need to explore other marketing channels to continue to grow.</p>

<p>The basic strategy I followed was searching YouTube for channels that pertained to Discord bots, and the creation of Discord bots. I preferred channels that had some upload regularity, and consistent view counts. I would send these channels an email if I could find their address, and offer them a free copy of Discord Bot Studio in exchange for them hopefully creating a video about it. Most of the responses I got were positive, and many were open to at least trying out the product.</p>

<ul>
<li>📫 <strong>Emails Sent</strong>: ~55</li>
<li>💌 <strong>Response Rate</strong>: ~60%</li>
<li>🎥 <strong>Videos Created</strong>: 4 at the time of writing this</li>
<li>📈 <strong>Video Views</strong>: ~4,000</li>
<li>💰 <strong>My Costs Incurred</strong>: $0.00</li>
<li>💵 <strong>Sales Generated</strong>: Unknown. DBS is sold on Steam. Unfortunately Steam analytics and conversion tracking is super limited. They say this is because most purchases are made in the Steam desktop client, even if traffic originally arrives at the web page for the product. Anecdotally, I have spoken to a few customers who’ve told me they found DBS through the videos.</li>
</ul>

<p>It’s hard to tell at this point whether my efforts have, and will pay off. My hope is that these videos provide nearly evergreen marketing, since they will forever be on YouTube accruing views. I am happy with the amount of sales I’m currently making through organic traffic coming from Google and Steam. That being said, the traffic from those channels has leveled off, and I’m open to experimenting with new strategies to look for more growth opportunity. I think I will stop reaching out to YouTube influencers for the time being, and focus my marketing efforts elsewhere to find a strategy that sticks.</p>

<p>Being a low cost, one-time purchase product, it’s hard to imagine a scenario where any sort of paid advertising is going to work for DBS. With that in mind, I will continue to experiment with free, and low cost marketing channels which I haven’t tried yet. I believe the biggest potential opportunity is content marketing. Creating content obviously takes a lot of time, but it’s generally free, and therefore low risk for my young business.</p>

</div>

        

        
    </article>
</div>

            </div>
        </div></div>]]>
            </description>
            <link>https://austinrepp.com/youtubemicro/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24238732</guid>
            <pubDate>Fri, 21 Aug 2020 20:48:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Purpose of Technology]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 26 (<a href="https://news.ycombinator.com/item?id=24238641">thread link</a>) | @jacobedawson
<br/>
August 21, 2020 | https://balajis.com/the-purpose-of-technology/ | <a href="https://web.archive.org/web/*/https://balajis.com/the-purpose-of-technology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


                <figure>
                    <img srcset="https://balajis.com/content/images/size/w300/2020/07/the-purpose-of-technology--1-.png 300w,
                                https://balajis.com/content/images/size/w600/2020/07/the-purpose-of-technology--1-.png 600w,
                                https://balajis.com/content/images/size/w1200/2020/07/the-purpose-of-technology--1-.png 1000w,
                                https://balajis.com/content/images/size/w2000/2020/07/the-purpose-of-technology--1-.png 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 1170px,
                                2000px" src="https://balajis.com/content/images/size/w2000/2020/07/the-purpose-of-technology--1-.png" alt="The Purpose of Technology">
                </figure>
                <section>
                    <div>
                        <p>If the proximate purpose of technology is to reduce scarcity, the ultimate purpose of technology is to eliminate mortality.</p><p>At first that sounds crazy. But let's start with the premise: is the proximate purpose of technology to reduce scarcity? Think about how a breakthrough is described: faster, smaller, cheaper, better. All of these words mean that with this new technology, one can do <em>more with less</em>. In the digital world, Google made information on any topic free to anyone with an Internet connection, and WhatsApp made it free to communicate with the same. In the physical world, innovations like the <a href="https://en.wikipedia.org/wiki/Haber_process">Haber Process</a> or the <a href="https://en.wikipedia.org/wiki/Norman_Borlaug#Expansion_to_South_Asia:_the_Green_Revolution">Green Revolution</a> allowed us to produce more with less. In a real sense, these technologies <em>reduced scarcity</em>.</p><p>Now for second half of the sentence, the logical implication. Is the ultimate purpose of technology to eliminate mortality? Well, mortality is the main source of scarcity. If we had infinite time, we would be less concerned with whether something was faster. The reason speed has value is because time has value; the reason time has value is because human life has value, and lifespans are finite. If you made lifespans much longer, you'd reduce the effective cost of <em>everything</em>. Thus insofar as reducing scarcity is acknowledged to be the proximate purpose of technology, eliminating the main source of scarcity – namely mortality – is the ultimate purpose of technology. <strong>Life extension is the most important thing we can invent.</strong></p><p>And it's actually feasible today. It's been shown that we can extend healthy lifespans in mammals – and even <em>reverse</em> aging to bring people back to youth. Here's <a href="https://twitter.com/davidasinclair/status/1259084270854905856">link</a> after <a href="https://www.longevity.vc/">link</a> after <a href="https://www.nature.com/articles/s41467-020-15174-3">link</a> after <a href="https://news.harvard.edu/gazette/story/2019/11/researchers-able-to-improve-reverse-age-related-diseases-in-mice/">link</a> on the topic.</p><figure><blockquote data-width="550"><p lang="en" dir="ltr">Six years ago, a lifetime in the aging field, the mere suggestion that aging could be reversed was enough to have your colleagues &amp; donors screw up their noses. Tom Rando <a href="https://twitter.com/StanfordMed?ref_src=twsrc%5Etfw">@StanfordMed</a> deserves a shout out for being brave enough back then to use the word "reversal" openly 6/n</p>— David Sinclair, PhD (@davidasinclair) <a href="https://twitter.com/davidasinclair/status/1259912936602177536?ref_src=twsrc%5Etfw">May 11, 2020</a></blockquote>

</figure><p>You probably weren't aware of this, though. You probably also weren't aware of how far we've come on <a href="https://www.nature.com/articles/d41586-020-00339-3">gene therapy</a>, how much has been done in <a href="https://www.the-scientist.com/news-opinion/rna-injection-restores-hearing-in-guinea-pigs-30855">regenerative medicine</a>, how advanced the latest <a href="https://www.nature.com/articles/s41586-020-2285-x">bionic eyes</a> are – or how <a href="https://twitter.com/balajis/status/1228447944287932416">deadly</a> COVID-19 was as a threat until March of 2020.</p><h2 id="a-duty-to-evangelize-technological-progress">A duty to evangelize technological progress</h2><p>That is because people with scientific and technical backgrounds have not taken it upon ourselves to write about technological progress <em>as a duty</em>. We need to take time out of our busy days to make the case, repeatedly and with high production values, that technological progress is the <em>most </em>important thing we can do for broad-based prosperity and economic growth, and for life itself.</p><p>That starts with testing, drugs, treatments, and vaccines for COVID-19. But it goes far beyond that. Put another way: we may not get life extension or the whole suite of transhumanist technologies (brain-machine interfaces, stem cells, CRISPR gene therapy, and more) unless you, personally, evangelize them online. Not just tweets, but articles. Not just articles, but videos. Not just videos, but feature films. And not just a few films, but an <a href="https://www.whats-on-netflix.com/news/how-long-would-it-take-to-watch-all-of-netflix/">entire Netflix original library's worth</a>, a parallel tech media ecosystem full of inspirational content for technological progressives. A lifetime's worth of content that makes the case for immutable money, infinite frontier, artificial intelligence, and eternal life.</p><p>This may mean less focus on the businesses and personalities of technology. After all, do we care whether the technology for reversing aging is developed by a startup, an academic lab, a scientific consortium, or a solitary biohacker in their garage? No. What we care about is the goal of transcendence. If the technology ends up being <a href="https://www.amazon.com/Patenting-Sun-Polio-Salk-Vacine/dp/0688094945">completely free</a> and open source, so much the better. A corporate vehicle is just one means to an end, not an end in itself. We may need to understand every detail of operating a business, but we can't get lost in those details.</p><p>The point of doing a startup after all is to build something you can't buy. Money can't yet buy you a trip to <a href="https://www.spacex.com/human-spaceflight/mars/">Mars</a>. Or a <a href="https://www.neuralink.com/">neural implant</a>. Or a <a href="https://tricorder.xprize.org/prizes/tricorder">medical tricorder</a>. And at one point in the not-too-distant past it could not buy you a web browser, a search engine, or a smartphone. When the iPhone did not exist, people had to invent it. And they needed to be inspired to invent it.</p><figure><blockquote data-width="550"><div lang="en" dir="ltr"><p>for iphone 1:</p><p>the original mac,<br>blade runner,<br>2001: a space odyssey,<br>sony walkman TPS-L2, <br>braun ET66, <br>the concorde, <br>massimo vignale, <br>henry dreyfuss, <br>apollo 11, <br>the beatles,<br>warp records,<br>NASA,<br>polaroid,<br>arthur c. clarke,<br>eero saarinen</p><p>among others… <a href="https://t.co/F3ayC03T3y">https://t.co/F3ayC03T3y</a></p></div>— Imran Chaudhri (@imranchaudhri) <a href="https://twitter.com/imranchaudhri/status/1092194839540584449?ref_src=twsrc%5Etfw">February 3, 2019</a></blockquote>

</figure><h2 id="a-sense-of-purpose">A sense of purpose</h2><p>Why doesn't inspirational content for technological progressives exist in abundance? Part of the reason is adverse selection. While science fiction – even dystopian science fiction – can inspire, the scientists, engineers, founders, and funders thus inspired are often more occupied with building technology than evangelizing it. But this in turn means that we aren't directly educating the next generation, or the public at large.</p><p>We need to change that. Specifically, people who know math and science, who have experience in managing and investing, who are <em>technological progressives</em> rather than technological conservatives – these people need to learn to write, report, publish, and direct. We need to consciously build a parallel tech-driven decentralized media ecosystem, and we need it to become the first point of call for anyone seeking to learn about technology.</p><p>In this we will have allies around the world. Only the very richest people can afford to be cynical about the merits of technological progress. The <a href="https://www.ben-evans.com/benedictevans/2019/5/28/the-end-of-mobile">billions</a> of people who just got their first smartphone have had their lives dramatically improved as a consequence, and are too pragmatic to romanticize the past. If you haven't already internalized this point, take two minutes to watch <a href="https://www.youtube.com/watch?v=QpvEWVVnICE">this</a>.</p><figure><iframe width="612" height="344" src="https://www.youtube.com/embed/QpvEWVVnICE?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Back? OK. So, building a media ecosystem for technological progressives clearly starts with technical education. At the K-12 level, we've already got plenty of learning apps, and the next step is remote schools. And at the level of collegiate education and continuous learning, Lambda School, Fast.ai, Coursera, Udacity, Udemy, Binance Academy, and the countless GitHub tutorials are an amazing start. But our duty extends beyond education to media of all kinds, particularly visual media.</p><p>The tech ecosystem has natural advantages here. We have the domain knowledge. And the experts at hand. We're already doing content marketing, podcasts, conferences, and a tweetstorm or two. We understand search engines, social networks, and distribution. And yes, we have learned to code.</p><p>What we haven't done yet is <em>full stack narrative</em>. That is, with a <a href="https://wistia.com/series/one-ten-one-hundred">few exceptions</a>, like Elon Musk, we haven't really told story arcs with technological progress at the center. We haven't taken the pitch we use to recruit engineers and externalized it for the public. We haven't infused <a href="https://twitter.com/balajis/status/1276010131990261761">emotion</a> and meaning into our public communications. We haven't made every one of our companies a media company. We haven't set out to tell our story ourselves.</p><p>We need to correct that immediately, and start evangelizing technological progress with every word and action. To recognize that the purpose of technology is to transcend our limits, and to motivate everything we're doing with a sense of that purpose. To take the winnings from our web apps and <a href="https://www.quora.com/How-did-Elon-Musk-fund-his-businesses-from-PayPal-to-SpaceX-and-Tesla">put them towards Mars</a>, to feel no hesitation towards starting small and no shame in dreaming big, to tell the world that it actually is possible to <a href="https://www.the-scientist.com/news-opinion/rna-injection-restores-hearing-in-guinea-pigs-30855">cure the deaf</a>, <a href="https://www.nature.com/articles/s41586-020-2285-x">restore sight</a>, and <a href="http://med.stanford.edu/news/all-news/2020/03/old-human-cells-rejuvenated-with-stem-cell-technology.html">end</a> <a href="https://www.youtube.com/watch?v=9nXop2lLDa4">death</a> <a href="https://www.ldeming.com/longevityfaq">itself</a>.</p>
                    </div>
                </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://balajis.com/the-purpose-of-technology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24238641</guid>
            <pubDate>Fri, 21 Aug 2020 20:38:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Get Rid of AI Saviorism]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24238427">thread link</a>) | @tosh
<br/>
August 21, 2020 | https://www.shreya-shankar.com/ai-saviorism/ | <a href="https://web.archive.org/web/*/https://www.shreya-shankar.com/ai-saviorism/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I’m uneasy about the <em>saviorism</em> I see becoming more common in applied machine learning. The concept of “saviorism” dates back at least as far as Rudyard Kipling’s poem <a href="https://en.wikipedia.org/wiki/The_White_Man%27s_Burden">“The White Man’s Burden.”</a> In this poem, Kipling refers to 19th century imperialist “moral obligations” of white people to encourage people of color’s economic and social progress through colonialism. Some have discussed <a href="https://www.wired.com/story/tech-needs-to-listen-to-actual-researchers/">tech saviorism</a>, a modern-day manifestation of this phenomenon within the Silicon Valley bubble, and this problem has only been exacerbated by the explosive growth of the modern artificial intelligence and machine learning ecosystem. I’ve noticed that many people in the artificial intelligence and machine learning circles act as “AI Saviors,” believing that, when equipped with copious amounts of data and basic knowledge of artificial intelligence techniques, they can quickly solve open problems in unrelated fields.</p>
<p><strong>Machine learning is a tool to help build solutions, not the entire solution.</strong> Unfortunately, I hear about so many startups, ML<sup id="fnref-1"><a href="#fn-1">1</a></sup>  practitioners, VCs, and researchers that have forgotten the second part. In light of this worrying trend, I want to:</p>
<ul>
<li>Discuss examples of the AI Savior mentality and how this leads to failure. </li>
<li>Speak openly about my own mistaken use of the saviorism attitude to illustrate my points. </li>
<li>Avoid linking to specific current projects or calling out specific individuals for exhibiting AI Saviorism, since my goal is not to put people down — I want to demonstrate why machine learning practitioners must fight the AI Savior mentality in order to be effective problem-solvers. </li>
<li>Take a stab at rescoping the relationship between ML practitioners and domain experts (as an alternative to AI Saviorism) and invite people to add to or refine it.</li>
</ul>
<h2>My experience as an AI Savior</h2>
<p>In my five years at Stanford, I had plenty of access to high-profile AI thought leaders and researchers. I took several incredible machine learning courses, and there were many AI research opportunities open to me and other undergrads. These courses were incredibly popular—there were close to 1,000 students in one of my machine learning classes! </p>
<p>As I took more AI courses, I began to buy into the idea that AI methods could be quick solutions to many problems. Only upon reflection do I realize the small things in these courses probably contributed to the AI Saviorism narrative. For instance, an unfortunate consequence of having hundreds of students in these 10-week-long, project-based courses is that the projects tend to be rushed, poorly supervised, and hacked together at the last minute to boast impressive (and sometimes made-up) results for some arbitrary application of machine learning. The project fairs at the end of every class were extremely elaborate and involved lots of outside money: for example, several industry companies sponsored the project fair in my deep learning for NLP class and even <a href="https://web.stanford.edu/class/archive/cs/cs224n/cs224n.1174/reports.html">gave out prizes for the “best projects.”</a> After these classes, my peers flocked to bootcamps advertised as opportunities to use AI to solve big problems in a variety of fields within the span of one or two quarters. Could AI alone really save the world from health and climate issues in such a short time frame?</p>
<p>By the end of my undergraduate education, I (somewhat misguidedly) strongly believed that <a href="https://www.technologyreview.com/2016/01/12/163910/could-ai-solve-the-worlds-biggest-problems/">AI methods could be the solution to many problems</a>. In my deep learning for genomics class, we read Nature papers about how AI could diagnose illnesses based on x-rays, thus eliminating the need for doctors in the future<sup id="fnref-2"><a href="#fn-2">2</a></sup>. Large tech companies published blog posts describing their efforts to solve daunting medical challenges, climate questions, criminal justice issues, and more<sup id="fnref-2"><a href="#fn-2">2</a></sup>. It felt like every machine learning project went through the beginning stages of a <a href="https://en.wikipedia.org/wiki/Hype_cycle">Gartner hype cycle</a>. I’m ashamed to admit that I bought into the hype, but this issue is much larger than me and warrants greater attention, even if it’s at my expense.</p>
<h2>Losing my AI Saviorism in order to be an effective problem-solver</h2>
<p>Reality hit for me when I started working in industry. When recruiting for full-time roles, I checked all the boxes of a technically competent AI Savior — research experience, strong coding skills, an ability to “think critically” about the technology and acknowledge technical limitations, and a firm belief that non-domain experts could single-handedly revolutionize any industry with AI. The first time we ingested a client’s data, I jumped to coding up baseline models and then convolutional neural networks. Obviously, deep learning would outperform crude heuristics devised by people who couldn’t code, right? Wasn’t that what every applied ML paper boasted?</p>
<p>But my models didn’t work off the bat, and I felt disillusioned. Articles online indicated that I could blame my ML failures on <a href="https://neoteric.eu/blog/ai-projects-fail-heres-why/">data issues</a> — maybe there wasn’t enough data, or the data wasn’t clean. In communicating my ML results with the client, I kept giving excuse after excuse — the data format is inefficient, many rows have missing values, the dataset is only partially labeled, etc. — for why I, the AI Savior, couldn’t quickly deliver a solution. In hindsight, there are so many other barriers to making ML work in production, and at the time <a href="https://workera.ai/resources/machine-learning-engineer/">I thought I was only there to solve the modeling and engineering problems</a>.</p>
<p>
  <a href="https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/3e096/ml-engineer.png" target="_blank" rel="noopener">
  
  <span>
    <span>
      <img alt="Skills for a machine learning engineer" title="" src="https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/fcda8/ml-engineer.png" srcset="https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/12f09/ml-engineer.png 148w,
https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/e4a3f/ml-engineer.png 295w,
https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/fcda8/ml-engineer.png 590w,
https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/efc66/ml-engineer.png 885w,
https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/c83ae/ml-engineer.png 1180w,
https://www.shreya-shankar.com/static/247793cae5bfae3fc21f161dc9d5eb73/3e096/ml-engineer.png 1718w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    
<em>This figure (figure 2) depicts skills needed for a machine learning engineer, taken from the <a href="https://workera.ai/resources/machine-learning-engineer/">deeplearning.ai article</a> on what a machine learning engineer does.<sup id="fnref-3"><a href="#fn-3">3</a></sup></em></p>
<p>My frustration only deepened when I realized that our product needed to be a recurring solution, not a one-time solution. I couldn’t save the client with a quick AI patch to all their problems and move on. AI Saviorism was preventing me from being an effective engineer: I needed to stop blaming my failures on lack of data or things “not in my control.” If I were really interested in machine learning to make a positive impact, I needed to figure out what my clients needed, not write more TensorFlow code. </p>
<p>As I’ve learned this past year, it’s pretty naive to assume my clients will have perfectly cleaned data, lightweight infrastructure, and a clear idea of the correct machine learning metric to evaluate. If they had all these things, I wouldn’t have a job! To be an effective problem-solver, I had to realize:</p>
<ol>
<li>For any machine learning project to be successful, you need buy-in from relevant stakeholders. You need to figure out what they want, work with them to frame those goals in ways such that success can be quantified and measured, and help them understand how the models you produce (hopefully) achieve those objectives.</li>
<li>Building machine learning models is only part of the solution, not the entire solution. There are many other technical parts of the machine learning stack: data ingestion, validation, cleaning, training, evaluation, retraining, predicting, serving, and more. You can’t just build a big black AI box and hand it to the stakeholder — you need to figure out how to connect their data to your black box, and connect your black box outputs to a part of their technology stack that they use regularly.</li>
</ol>
<p>I now firmly believe that it is on the ML practitioner to work with the stakeholder to embed their tools into the stakeholder’s stack to enable solutions, not magically promise solutions that work out-of-the-box. Over time, my AI Savior complex crumbled as I began to clean the data myself, listen to domain experts on how one would solve the problem without ML, spend (sometimes too many) hours in meetings, empathize with the clients, and humbly accept that users don’t care deeply about machine learning like I do — they just care that the product works.</p>
<h2>Other examples and implications of AI Saviorism</h2>
<p>I think it’s hard to talk about many examples of AI Saviorism without hurting egos or feelings. However, one pedagogical, seemingly non-controversial example of AI Saviorism and its failure is the <a href="https://www.wired.com/2015/10/can-learn-epic-failure-google-flu-trends/">Google Flu Trends project</a>. A group of engineers and researchers devised a way to forecast flu prevalence based on Google searches, but its forecasts at the peak of the 2013 flu season were off by 140 percent. <a href="https://gking.harvard.edu/files/gking/files/0314policyforumff.pdf">An interesting follow-up critique</a> implied that the failure was a result of correlated, but not causal variables. The authors commented on the idea of “big data hubris” — “the often implicit assumption that big data are a substitute for, rather than a supplement to, traditional data collection and analysis.” A negative consequence of “big data hubris” is quite unfortunate: with large numbers of more-detailed observations, it’s easier than ever to find semantically or structurally unrelated correlations in data. Just because someone has access to a large amount of data doesn’t mean they can exhibit AI Saviorism and blindly ignore relationships between variables found in “small data” analysis. </p>
<p>Another more recent set of examples of AI Saviorism revolves around the COVID-19 pandemic. This <a href="https://www.wired.com/story/artificial-intelligence-couldnt-save-us-from-covid-19/">WIRED article</a> discusses compelling machine learning ideas, such as a chest CT scan classifier and a viral protein generative model. But the article also implies “lack of data” is a main challenge to making these ideas work. Limited data is <em>a</em> problem, but the underlying problem here is that AI practitioners aren’t focusing on integrating their methods into existing systems designed by domain experts. Our jobs shouldn’t be to pawn off our code on someone else once we’ve gone off and written it alone, but rather to ensure our work is integrated into existing pipelines — which will inevitably involve working with the domain experts to devise better data collection techniques, and more.</p>
<p>Why bother fighting AI Saviorism for reasons other than getting a model to be used by stakeholders? If one tries to hastily build an AI system to solve an open problem in another field, they might prioritize hastily constructing a train/test split and training a bunch of models rather than the <a href="https://christophergs.com/machine%20learning/2019/03/17/how-to-deploy-machine-learning-models/">infrastructure, robust validation techniques, and deployment</a> …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.shreya-shankar.com/ai-saviorism/">https://www.shreya-shankar.com/ai-saviorism/</a></em></p>]]>
            </description>
            <link>https://www.shreya-shankar.com/ai-saviorism/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24238427</guid>
            <pubDate>Fri, 21 Aug 2020 20:10:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Do Technical Recruiters Even Exist?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24238383">thread link</a>) | @brightstuff
<br/>
August 21, 2020 | https://scottturman.com/why-do-technical-recruiters-even-exist/ | <a href="https://web.archive.org/web/*/https://scottturman.com/why-do-technical-recruiters-even-exist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="5e947086" data-element_type="widget" data-widget_type="theme-post-content.default">
				<div>
					<div data-elementor-type="wp-post" data-elementor-id="685" data-elementor-settings="[]">
			<div>
				<div>
							<section data-id="796041f" data-element_type="section">
						<div>
				<div>
				<div data-id="33d71bb" data-element_type="column">
			<div>
					<div>
				<div data-id="cfc53ed" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We’re all familiar with the suited snakes that spend every 8-to-10-hour workday calling to convince us to leave our current, steady jobs for nothing more than a few bucks more and criminally bad insurance. With that said then, why do recruiters even exist?</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;At the surface, it’s easy to imagine that the company that’s actually hiring could accomplish everything that a recruiter supposedly does. If the company is looking to get a new employee and a person is looking to be that employee, then why do we need some middleman to come in and complicate everything?</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
				<div data-id="95ce783" data-element_type="column">
			<div>
					<div>
				<div data-id="61b8733" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><a href="https://scottturman.com/stop-getting-fcked-by-technical-recruiters?why-do">
							<img width="2048" height="1568" src="https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-2048x1568.jpg" alt="Book Cover - Stop Getting Fucked By Technical Recruiters" srcset="https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-2048x1568.jpg 2048w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-300x230.jpg 300w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-1024x784.jpg 1024w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-768x588.jpg 768w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-1536x1176.jpg 1536w" sizes="(max-width: 2048px) 100vw, 2048px" data-srcset="https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-2048x1568.jpg 2048w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-300x230.jpg 300w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-1024x784.jpg 1024w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-768x588.jpg 768w, https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-1536x1176.jpg 1536w" data-src="https://scottturman.com/wp-content/uploads/2020/02/Stop-Getting-Fucked-by-technical-recruiters-2048x1568.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">								</a>
											</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="9efbe6d" data-element_type="section">
						<div>
				<div>
				<div data-id="89f6c40" data-element_type="column">
			<div>
					<div>
				<div data-id="ef8899f" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span>Let’s take a look at how that would really play out: say a company is looking to hire a software developer in the greater Orlando area. Out of the 2.6 million-ish people there, it’s no stretch to suppose that at least one of them would be qualified for the job.</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span>Companies aren’t just looking for </span><i><span>any </span></i><span>candidate, of course. Depending on the position, they need someone with experience in specific technologies. We’ll say that this position needs someone with experience in Angular, C#, and AWS. Out of the 2.6-ish million, how many do you think would meet that?</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span>Try 117, according to LinkedIn’s Sales Navigator tool. The pool is still pretty good, though. We only need to get the one. But out of that 117, how many of them actually need a new job? My exact keyword search was&nbsp;</span>Angular AND C# AND AWS NOT recruiter NOT director.&nbsp;<span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span>&nbsp;</span></p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="2f3c5db" data-element_type="section">
						<div>
				<div>
				<div data-id="dc3d979" data-element_type="column">
			<div>
					<div>
				<div data-id="b971d09" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="800" height="564" src="https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-1024x722.png" alt="Sales Navigator Search" srcset="https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-1024x722.png 1024w, https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-300x211.png 300w, https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-768x541.png 768w, https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch.png 1166w" sizes="(max-width: 800px) 100vw, 800px" data-srcset="https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-1024x722.png 1024w, https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-300x211.png 300w, https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-768x541.png 768w, https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch.png 1166w" data-src="https://scottturman.com/wp-content/uploads/2020/08/SalesNavSearch-1024x722.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">											</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="a72ae61" data-element_type="section">
						<div>
				<div>
				<div data-id="cd58521" data-element_type="column">
			<div>
					<div>
				<div data-id="3a1e9ca" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>In my experience, that’s going to be 7-15% of them, depending on the current job market and how much you are offering. That number goes to 80% if you offer enough money. Now we’ve only got anywhere from 8 to 17 people to pick from. We just need one out of them, of course, but the pickings are starting to get a little slim.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;That’s assuming that all (or any) of them are even employable. Just because they list it on their resume doesn’t mean they can program their way out of a paper bag.&nbsp; With numbers this low you can see that the search would probably need to be expanded state-wide or even across the country.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;So the process would start over, with the added trouble of convincing someone to relocate to boot. This goes on and on at the cost of time that most companies simply do not have.<span>&nbsp;</span><span>&nbsp; &nbsp; &nbsp;&nbsp;</span></p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="1ac7924" data-element_type="section">
						<div>
				<div>
				<div data-id="2db97f5" data-element_type="column">
			<div>
					<div>
				<div data-id="410d9e3" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>&nbsp;And this is where the appeal of a recruiting company comes in.</b> They could probably reach out to 60-80% of the entire talent pool, and I would be willing to bet that they could do it in less than a week. Businesses whose main focus is not recruiting would have a very hard time matching this speed. When a company is looking at limited prospects and a lengthy process, it makes sense for them to outsource to a service that promises to deliver qualified candidates&nbsp;<i>fast</i>. It is, for this reason, I have always maintained that technical recruiters are marketing organizations, and not exactly technical ones.&nbsp;</p>
				</div>
				</div>
						</div>
			</div>
		</div>
				<div data-id="71ca428" data-element_type="column">
			<div>
					<div>
				<div data-id="c1ad7fe" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<p>
				I have always maintained that technical recruiters are marketing organizations, and not exactly technical ones.			</p>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="e72140f" data-element_type="section">
						<div>
				<div>
				<div data-id="9099802" data-element_type="column">
			<div>
					<div>
				<div data-id="5eed185" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>&nbsp;Most people in the industry have witnessed recruiters put the value on speed over quality. They frequently turn over people who don’t actually know how to do the job and leave everyone unhappy. <b>If companies invested the time and allocated resources to create real recruiting methods and in-house screening processes, then recruiters would lose their entire industry.</b> But until that happens, we need to keep our skills sharp, learn to play the game, learn to negotiate, and learn that we are the prize.&nbsp;</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="6bb5dbc" data-element_type="section">
						<div>
				<div>
				<div data-id="9b6089c" data-element_type="column">
			<div>
					<div>
				<div data-id="7e69e47" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<p>
				You are the one with the skills needed to make the technology go. 
			</p>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
				</div>
				</div></div>]]>
            </description>
            <link>https://scottturman.com/why-do-technical-recruiters-even-exist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24238383</guid>
            <pubDate>Fri, 21 Aug 2020 20:05:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SF Bay Area Fire Information and Resources]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24238094">thread link</a>) | @yangtheman
<br/>
August 21, 2020 | https://listorio.com/yangtheman/sf-bay-area-fire-information-and-resources | <a href="https://web.archive.org/web/*/https://listorio.com/yangtheman/sf-bay-area-fire-information-and-resources">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>yangtheman's</p><p>SF Bay Area Fire Information and Resources</p></div><div><p><span>san jose</span><span>bay area</span><span>san francisco</span><span>fire</span><span>information</span><span>resources</span></p></div><section><div><div><p><a target="_blank" href="https://nifc.maps.arcgis.com/apps/View/index.html?appid=69fca73a82df4fefa7c0e48b66d0899d&amp;extent=-123.2395,36.6849,-119.5618,38.1032"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--fc897f4618870dc2645be8f8bcc1eb086a699f0a/Screen%20Shot%202020-08-21%20at%207.50.23%20AM.png"></a></p><div><div>
  <p>The image may be stale. Click on the link for the most up-to-date map.Â&nbsp;</p>
</div>
</div></div></div></section><section><div><div><p><a target="_blank" href="https://www.fire.ca.gov/incidents/2020/8/18/scu-lightning-complex/"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBIZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5f3c3358ad22d726783b5861d0c359e3e9c35e95/Screen%20Shot%202020-08-21%20at%208.02.09%20AM.png"></a></p></div></div></section><section><div><div><p><a target="_blank" href="https://www.arcgis.com/apps/webappviewer/index.html?id=ac4e6acdd58d4afaa0b8ce0e314108e0&amp;fbclid=IwAR1RD6DxX1FX2dYv0bjE_MzXdSYW20gjzhOPM2RyMNGngl8_tOWxaB9dzQ4"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBJdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a2db8cd103a388a04acf8c02ac487fb8bd69c435/Screen%20Shot%202020-08-23%20at%205.38.30%20PM.png"></a></p><div><div>
  <p>The image may be stale. Click on the link for the most up-to-date map.Â&nbsp;</p>
</div>
</div></div></div></section><section><div><div><p><a target="_blank" href="https://www.windy.com/?37.672,-121.953,9"><img src="https://www.windy.com/img/socialshare3.jpg"></a></p></div></div></section><section><div><div><p><a target="_blank" href="http://google.org/crisismap/google.com/2020-bay-area-wildfires"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBIQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dc67d3483eb077a6feea43bf7b6d0e42287b1524/Screen%20Shot%202020-08-21%20at%207.57.19%20AM.png"></a></p><div><div>
  <p>The image may be stale. Click on the link for the most up-to-date map.Â&nbsp;</p>
</div>
</div></div></div></section><section><div><div><p><a target="_blank" href="https://experience.arcgis.com/experience/8ca8296b14384a468c72e63fd6de766a?fbclid=IwAR2RhZDvr5zQJ4LwF17SYXkeavne4tvOKN0bBD3geBIxE1snzpGrKPZWZwg"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8ee82e87d07f4cb518bb2171b839f975f9ac968b/Screen%20Shot%202020-08-21%20at%207.52.51%20AM.png"></a></p><div><div>
  <p>The image may be stale. Click on the link for the most up-to-date map.Â&nbsp;</p>
</div>
</div></div></div></section><section><div><div><p><a target="_blank" href="https://storymaps.arcgis.com/stories/f0121f7f2f0941afb3ed70529b2cee75"><img src="https://www.arcgis.com/sharing/rest/content/items/f0121f7f2f0941afb3ed70529b2cee75/info/thumbnail/ago_downloaded.jpg/?w=400"></a></p><div><div>
  <p>The image may be stale. Click on the link for the most up-to-date map.Â&nbsp;</p>
</div>
</div></div></div></section><section><div><div><p><a target="_blank" href="https://www.sccgov.org/sites/oes/alertscc/Pages/home.aspx"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBJZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--82fe1346b863b3b9c4811e9573411ce481e77370/Screen%20Shot%202020-08-23%20at%203.54.05%20PM.png"></a></p></div></div></section><section><div><div><p><a target="_blank" href="https://www.readyforwildfire.org/prepare-for-wildfire/get-set/wildfire-action-plan/"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBJUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1b127aac278d61a4d3b63f4f904503d500850c22/Screen%20Shot%202020-08-21%20at%202.34.39%20PM.png"></a></p></div></div></section><section><div><div><p><a target="_blank" href="https://defensibleapp.com/"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBJQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f3efc363026890b52b8437c6dc6b601fa2e07016/Screen%20Shot%202020-08-21%20at%201.58.08%20PM.png"></a></p><div><div>
  <p>The image may be stale. Click on the link for the most up-to-date map.Â&nbsp;</p>
</div>
</div></div></div></section><section><div><div><p><a target="_blank" href="https://www.fire.ca.gov/incidents/2020/8/17/lnu-lightning-complex-includes-hennessey-gamble-15-10-spanish-markley-13-4-11-16-walbridge/"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBIUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--142ca7234e287c4c6594a89c6a456900ae6a0013/Screen%20Shot%202020-08-21%20at%208.01.12%20AM.png"></a></p></div></div></section><section><div><div><p><a target="_blank" href="https://www.fire.ca.gov/incidents/2020/8/17/czu-lightning-complex-including-warnella-fire/"><img src="https://listorio.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBIdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8d5fb1790754ec2b1b9f46e69899e8716bfa13fc/Screen%20Shot%202020-08-21%20at%208.02.39%20AM.png"></a></p></div></div></section></div></div></div>]]>
            </description>
            <link>https://listorio.com/yangtheman/sf-bay-area-fire-information-and-resources</link>
            <guid isPermaLink="false">hacker-news-small-sites-24238094</guid>
            <pubDate>Fri, 21 Aug 2020 19:30:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things that are not strings]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24238007">thread link</a>) | @w1nter
<br/>
August 21, 2020 | https://frantic.im/no-strings | <a href="https://web.archive.org/web/*/https://frantic.im/no-strings">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <header>
    
    
  </header>
  <p>As programmers, we have a collective delusion that anything that can be represented as a string, is a string. This thinking causes a whole bunch of problems.</p>

<p>Let’s take SQL for example. Every API in every programming language that I’ve seen considers SQL statement a string.</p>

<div><div><pre><code>function execute(sql: string): Promise&lt;Result&gt;
</code></pre></div></div>

<p>The problem with this API is that not every string is a valid SQL (nor sometimes it is the SQL you actually want to run).</p>

<p>Here’s a classic example of the misuse:</p>

<div><div><pre><code>const query = 'SELECT * FROM posts WHERE id = '
  + params.id;
</code></pre></div></div>

<p>In this example <code>params.id</code> can be anything, including invalid or malicious SQL.</p>

<p>The root problem here is not the lack of sanitization. The problem is that SQL is treated as a string.</p>

<p>Think about JSON for another example. You could certainly implement adding an item to a hash by doing this (I hope this code makes you cringe):</p>

<div><div><pre><code>function addKeyValue(json, key, value) {
  return json.substr(0, json.length - 1)
    + ', "' + key + '": "' + value + '"}';
}
</code></pre></div></div>

<p>As with the SQL example, you could add escaping and sanitization, but it’s just hacks hiding the real problem:</p>

<p><em>A string can be a representation of a thing, but it’s not the thing itself.</em></p>

<p>And it’s not only about concatenating strings. Can you spot the problem with this function? <span onclick="event.target.innerText = 'This URL will be marked as safe by the code below https://evil.com/https://safe.com/'">(see answer)</span></p>

<div><div><pre><code>function isSafeDomain(url: string): boolean {
  return url.includes('https://safe.com/');
}
</code></pre></div></div>

<p>Or in this one? <span onclick="event.target.innerText = 'This code is prone to timing attacks'">(see answer)</span></p>

<div><div><pre><code>function checkPassword(pass: string, hash: string): boolean {
  return sha1(pass) === hash;
}
</code></pre></div></div>

<p>Strings are lower level, and thus are much more flexible than they need to be to properly implement valid operations on the higher level concepts.</p>

<p>Incomplete list of things that are not strings:</p>

<ul>
  <li>SQL</li>
  <li>HTML</li>
  <li>JSON</li>
  <li>URL</li>
  <li>File path</li>
  <li>Password</li>
</ul>

<h2 id="things-are-things">Things are… things</h2>

<p>You can save yourself a lot of headache if you stop treating everything that can be represented as a string, as a string.</p>

<p>Both OO and FP styles allow for abstracting away something as a type or a class. You can make a closed opaque structure for the thing and limit the ways it can be constructed.</p>

<p>For example, for SQL, you might want to make sure it’s only created from static string literals.</p>

<div><div><pre><code>// Allowed
new SQL('SELECT * FROM posts WHERE id = ?');

// No allowed (e.g. via a lint rule)
new SQL('SELECT * FROM posts' + filter);
</code></pre></div></div>

<p>Of course, at some point, you will need to serialize the thing into a string to pass it into an API that was designed to consume a string. Do it at the last possible moment and try to limit it to a single place in the codebase.</p>

<div><div><pre><code>function execute(sql: SQL): Promise&lt;Result&gt; {
  return unsafeExecute(sql.toString());
}
</code></pre></div></div>

<p>Strings are coming into your app from the outer world. Don’t trust them to be what they seem they are. Convert them into proper things as soon as possible, and convert them back to strings as late as possible.</p>

<p>Here’s a few libraries for inspiration of how to treat things as… things:</p>

<ul>
  <li>SQL: <a href="https://github.com/gajus/slonik">Slonik</a>, <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/basic-linq-query-operations">LINQ</a></li>
  <li>HTML: React, Elm, <a href="https://github.com/tonsky/rum">rum</a></li>
  <li>JSON: a dictionary in any programming language</li>
  <li>URL: <a href="https://docs.rs/url/2.1.1/url/">url - Rust</a></li>
  <li>File paths: <a href="https://doc.rust-lang.org/std/path/struct.Path.html">std::path::Path - Rust</a></li>
  <li>Passwords: <a href="https://github.com/myfreeweb/secstr">secstr</a>, <a href="https://hackage.haskell.org/package/securemem">securemem</a></li>
</ul>

<hr>

<p>Good discussions on <a href="https://www.reddit.com/r/programming/comments/ie3dqz/things_that_are_not_strings/">reddit</a>, <a href="https://lobste.rs/s/wjpj6n/things_are_not_strings">lobsters</a>.</p>

<p>2020-08-23: Added password library example</p>

  
  






  <div>
  <div>
    <p>Hi! My name is Alex. I’m a software engineer at Facebook, where I work on React&nbsp;Native, Oculus and Messenger. I love thinking about development experience.</p>
    <p>I write about programming, software design and side projects <a href="https://frantic.im/subscribe/" target="_blank"><svg viewBox="0 0 800 800"><path d="M493 652H392c0-134-111-244-244-244V307c189 0 345 156 345 345zm71 0c0-228-188-416-416-416V132c285 0 520 235 520 520z"></path><circle cx="219" cy="581" r="71"></circle></svg> Subscribe</a></p>
  </div>
</div>

</article></div>]]>
            </description>
            <link>https://frantic.im/no-strings</link>
            <guid isPermaLink="false">hacker-news-small-sites-24238007</guid>
            <pubDate>Fri, 21 Aug 2020 19:20:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fast.ai releases new deep learning course]]>
            </title>
            <description>
<![CDATA[
Score 609 | Comments 67 (<a href="https://news.ycombinator.com/item?id=24237207">thread link</a>) | @amardeep
<br/>
August 21, 2020 | https://www.fast.ai/2020/08/21/fastai2-launch/ | <a href="https://web.archive.org/web/*/https://www.fast.ai/2020/08/21/fastai2-launch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>Written: 21 Aug 2020 by <i>Jeremy Howard</i></span></p><p>fast.ai is a self-funded research, software development, and teaching lab, focused on making deep learning more accessible. We make all of our software, research papers, and courses freely available with no ads. We pay all of our costs out of our own pockets, and take no grants or donations, so you can be sure we’re truly independent.</p>

<p>Today is fast.ai’s biggest day in our four year history. We are releasing:</p>

<ul>
  <li><a href="https://docs.fast.ai/">fastai v2</a>: A complete rewrite of fastai which is faster, easier, and more flexible, implementing new approaches to deep learning framework design, as discussed in the peer reviewed fastai <a href="https://www.mdpi.com/2078-2489/11/2/108/htm">academic paper</a></li>
  <li><a href="https://fastcore.fast.ai/">fastcore</a>, <a href="https://fastscript.fast.ai/">fastscript</a>, and <a href="https://fastgpu.fast.ai/">fastgpu</a>: Foundational libraries used in fastai v2, and useful for many programmers and data scientists</li>
  <li><a href="https://course.fast.ai/">Practical Deep Learning for Coders</a> (2020 course, part 1): Incorporating both an introduction to machine learning, and deep learning, and production and deployment of data products</li>
  <li><a href="https://www.amazon.com/Deep-Learning-Coders-fastai-PyTorch/dp/1492045527">Deep Learning for Coders with fastai and PyTorch: AI Applications Without a PhD</a>: A book from O’Reilly, which covers the same material as the course (including the content planned for part 2 of the course)</li>
</ul>

<p>Also, in case you missed it, earlier this week we released the <a href="https://ethics.fast.ai/">Practical Data Ethics</a> course, which focuses on topics that are both urgent and practical.</p>

<h3 id="contents">Contents</h3>

<ul id="markdown-toc">
  <li><a href="#fastai-v2" id="markdown-toc-fastai-v2">fastai v2</a></li>
  <li><a href="#practical-deep-learning-for-coders-the-course" id="markdown-toc-practical-deep-learning-for-coders-the-course">Practical Deep Learning for Coders, the course</a></li>
  <li><a href="#deep-learning-for-coders-with-fastai-and-pytorch-the-book" id="markdown-toc-deep-learning-for-coders-with-fastai-and-pytorch-the-book">Deep Learning for Coders with fastai and PyTorch, the book</a></li>
  <li><a href="#fastcore-fastscript-and-fastgpu" id="markdown-toc-fastcore-fastscript-and-fastgpu">fastcore, fastscript, and fastgpu</a>    <ul>
      <li><a href="#fastcore" id="markdown-toc-fastcore">fastcore</a></li>
      <li><a href="#fastscript" id="markdown-toc-fastscript">fastscript</a></li>
      <li><a href="#fastgpu" id="markdown-toc-fastgpu">fastgpu</a></li>
    </ul>
  </li>
  <li><a href="#acknowledgements" id="markdown-toc-acknowledgements">Acknowledgements</a></li>
</ul>

<h2 id="fastai-v2">fastai v2</h2>

<p>fastai is a deep learning library which provides practitioners with high-level components that can quickly and easily provide state-of-the-art results in standard deep learning domains, and provides researchers with low-level components that can be mixed and matched to build new approaches. It aims to do both things without substantial compromises in ease of use, flexibility, or performance. This is possible thanks to a carefully layered architecture, which expresses common underlying patterns of many deep learning and data processing techniques in terms of decoupled abstractions. These abstractions can be expressed concisely and clearly by leveraging the dynamism of the underlying Python language and the flexibility of the PyTorch library. fastai includes:</p>

<ul>
  <li>A new type dispatch system for Python along with a semantic type hierarchy for tensors</li>
  <li>A GPU-optimized computer vision library which can be extended in pure Python</li>
  <li>An optimizer which refactors out the common functionality of modern optimizers into two basic pieces, allowing optimization algorithms to be implemented in 45 lines of code</li>
  <li>A novel 2-way callback system that can access any part of the data, model, or optimizer and change it at any point during training</li>
  <li>A new data block API</li>
  <li>And much more…</li>
</ul>

<figure>
  <img srcset="https://www.fast.ai/images/layered.png 2w" sizes="1px" src="https://www.fast.ai/images/layered.png">
  
  <figcaption>fastai's layered architecture</figcaption>
  
</figure>

<p>fastai is organized around two main design goals: to be approachable and rapidly productive, while also being deeply hackable and configurable. It is built on top of a hierarchy of lower-level APIs which provide composable building blocks. This way, a user wanting to rewrite part of the high-level API or add particular behavior to suit their needs does not have to learn how to use the lowest level.</p>

<p>To see what’s possible with fastai, take a look at the <a href="https://docs.fast.ai/quick_start.html">Quick Start</a>, which shows how to use around 5 lines of code to build an image classifier, an image segmentation model, a text sentiment model, a recommendation system, and a tabular model. For each of the applications, the code is much the same.</p>

<figure>
  <img srcset="https://www.fast.ai/images/segmentation-fastai.png 2w" sizes="1px" src="https://www.fast.ai/images/segmentation-fastai.png">
  
  <figcaption>Example of using fastai for image segmentation</figcaption>
  
</figure>

<p>Read through the <a href="https://docs.fast.ai/tutorial">Tutorials</a> to learn how to train your own models on your own datasets. Use the navigation sidebar to look through the fastai documentation. Every class, function, and method is documented here. To learn about the design and motivation of the library, read the <a href="https://www.mdpi.com/2078-2489/11/2/108/htm">peer reviewed paper</a>, or watch <a href="https://youtu.be/bHVqO5YyNbU">this presentation</a> summarizing some of the key design points.</p>

<p>All fast.ai projects, including fastai, are built with <a href="https://nbdev.fast.ai/">nbdev</a>, which is a full <a href="https://www.fast.ai/2019/12/02/nbdev/">literate programming environment</a> built on Jupyter Notebooks. That means that every piece of documentation can be accessed as interactive Jupyter notebooks, and every documentation page includes a link to open it directly on Google Colab to allow for experimentation and customization.</p>

<p>It’s very easy to migrate from plain PyTorch, Ignite, or any other PyTorch-based library, or even to use fastai in conjunction with other libraries. Generally, you’ll be able to use all your existing data processing code, but will be able to reduce the amount of code you require for training, and more easily take advantage of modern best practices. Here are migration guides from some popular libraries to help you on your way: <a href="https://docs.fast.ai/migrating_pytorch">Plain PyTorch</a>; <a href="https://docs.fast.ai/migrating_ignite">Ignite</a>; <a href="https://docs.fast.ai/migrating_lightning">Lightning</a>; <a href="https://docs.fast.ai/migrating_catalyst">Catalyst</a>. And because it’s easy to combine and part of the fastai framework with your existing code and libraries, you can just pick the bits you want. For instance, you could use fastai’s GPU-accelerated computer vision library, along with your own training loop.</p>

<p>fastai includes many modules that add functionality, generally through callbacks. Thanks to the flexible infrastructure, these all work together, so you can pick and choose what you need (and add your own), including: <a href="https://arxiv.org/abs/1710.09412">mixup</a> and <a href="https://arxiv.org/abs/1708.04552">cutout</a> augmentation, a uniquely flexible <a href="https://docs.fast.ai/vision.gan.html">GAN training</a> framework, a range of schedulers (many of which aren’t available in any other framework) including support for fine tuning following the approach described in <a href="https://arxiv.org/abs/1801.06146">ULMFiT</a>, mixed precision, gradient accumulation, support for a range of logging frameworks like Tensorboard (with particularly strong support for Weights and Biases, as <a href="https://app.wandb.ai/borisd13/demo_config/reports/Visualize-track-compare-Fastai-models--Vmlldzo4MzAyNA">demonstrated here</a>), <a href="http://docs.fast.ai/medical.imaging">medical imaging</a>, and much more. Other functionality is added through the <a href="https://github.com/nestordemeure/fastai-extensions-repository">fastai ecosystem</a>, such as support for <a href="https://ohmeow.github.io/blurr/">HuggingFace Transformers</a> (which can also be done manually, as shown in <a href="http://docs.fast.ai/tutorial.transformers">this tutorial</a>), <a href="https://github.com/rbracco/fastai2_audio">audio</a>, <a href="https://muellerzr.github.io/fastinference/inference/">accelerated inference</a>, and so forth.</p>

<figure>
  <img srcset="https://www.fast.ai/images/medical-fastai.png 2w" sizes="1px" src="https://www.fast.ai/images/medical-fastai.png">
  
  <figcaption>Medical imaging in fastai</figcaption>
  
</figure>

<p>There’s already some great learning material made available for fastai v2 by the community, such as the “Zero to Hero” series by Zach Mueller: <a href="https://muellerzr.github.io/fastblog/2020/08/20/_08_21-beginner.html">part 1</a>; <a href="https://muellerzr.github.io/fastblog/2020/08/20/_08_21-intermediate.html">part 2</a>.</p>

<h2 id="practical-deep-learning-for-coders-the-course">Practical Deep Learning for Coders, the course</h2>

<p>Previous fast.ai courses have been studied by hundreds of thousands of students, from all walks of life, from all parts of the world. Many students have told us about how they’ve become <a href="https://forums.fast.ai/t/my-first-gold-medal/54237">multiple gold medal winners</a> of <a href="https://towardsdatascience.com/my-3-year-journey-from-zero-python-to-deep-learning-competition-master-6605c188eec7">international machine learning competitions</a>, <a href="https://forums.fast.ai/t/how-has-your-journey-been-so-far-learners/6480/2">received offers</a> from top companies, and <a href="https://icml-compbio.github.io/2020/papers/WCBICML2020_paper_67.pdf">having</a> <a href="https://ui.adsabs.harvard.edu/abs/2020EGUGA..2221465A/abstract">research</a> <a href="https://arxiv.org/pdf/2004.14356.pdf">papers</a> <a href="https://pubs.rsna.org/doi/abs/10.1148/ryai.2019190113?journalCode=ai">published</a>. For instance, Isaac Dimitrovsky <a href="https://forums.fast.ai/t/thanks-ra2-dream-challenge-win/76875">told us</a> that he had “<em>been playing around with ML for a couple of years without really grokking it… [then] went through the fast.ai part 1 course late last year, and it clicked for me</em>”. He went on to achieve first place in the prestigious international <a href="https://www.synapse.org/#!Synapse:syn20545111/wiki/594083">RA2-DREAM Challenge</a> competition! He developed a <a href="https://www.synapse.org/#!Synapse:syn21478998/wiki/604432">multistage deep learning method</a> for scoring radiographic hand and foot joint damage in rheumatoid arthritis, taking advantage of the fastai library.</p>

<p><a href="https://course.fast.ai/">This year’s course</a> takes things even further. It incorporates both machine learning and deep learning in a single course, covering topics like random forests, gradient boosting, test and validation sets, and p values, which previously were in a separate machine learning course. In addition, production and deployment are also covered, including material on developing a web-based GUI for our own deep learning powered apps. The only prerequisite is high-school math, and a year of coding experience (preferably in Python). The course was recorded live, in conjunction with the <a href="https://www.usfca.edu/data-institute">Data Institute</a> at the University of San Francisco.</p>

<p>After finishing this course you will know:</p>

<ul>
  <li>How to train models that achieve state-of-the-art results in:
    <ul>
      <li>Computer vision, including image classification (e.g.,classifying pet photos by breed), and image localization and detection (e.g.,finding where the animals in an image are)</li>
      <li>Natural language processing (NLP), including document classification (e.g.,movie review sentiment analysis) and language modeling</li>
      <li>Tabular data (e.g.,sales prediction) with categorical data, continuous data, and mixed data, including time series</li>
      <li>Collaborative filtering (e.g.,movie recommendation)</li>
    </ul>
  </li>
  <li>How to turn your models into web applications, and deploy them</li>
  <li>Why and how deep learning models work, and how to use that knowledge to improve the accuracy, speed, and reliability of your models</li>
  <li>The latest deep learning techniques that really matter in practice</li>
  <li>How to implement stochastic gradient descent and a complete training loop from scratch</li>
  <li>How to think about the ethical implications of your work, to help ensure that you’re making the world a better place and that your work isn’t misused for harm</li>
</ul>

<p>We care a lot about teaching, using a <a href="https://www.fast.ai/2016/10/08/teaching-philosophy/">whole game</a> approach. In this course, we start by showing how to use a complete, working, very usable, state-of-the-art deep learning network to solve real-world problems, using simple, expressive tools. And then we gradually dig deeper and deeper into understanding how those tools are made, and how the tools that make those tools are made, and so on. We always teach through examples. We ensure that there is a context and a purpose that you can understand intuitively, rather than starting with algebraic symbol manipulation. We also dive right into the details, showing you how to build all the components of a deep learning model from scratch, including discussing performance and optimization details.</p>

<p>The whole course can be completed for free without any installation, by taking advantage of the guides for the Colab and Gradient platforms, which provide free, GPU-powered Notebooks.</p>

<h2 id="deep-learning-for-coders-with-fastai-and-pytorch-the-book">Deep Learning for Coders with fastai and PyTorch, the book</h2>

<p>To understand what the new book is about, and who it’s for, let’s see what others have said about it… Soumith Chintala, the co-creator of PyTorch, said in <a href="https://www.fast.ai/2020/08/20/soumith-forward/">the foreword</a> to  <a href="https://www.amazon.com/Deep-Learning-Coders-fastai-PyTorch/dp/1492045527">Deep Learning for Coders with fastai and PyTorch</a>:</p>

<blockquote>
  <p>But unlike me, Jeremy and …</p></blockquote></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.fast.ai/2020/08/21/fastai2-launch/">https://www.fast.ai/2020/08/21/fastai2-launch/</a></em></p>]]>
            </description>
            <link>https://www.fast.ai/2020/08/21/fastai2-launch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24237207</guid>
            <pubDate>Fri, 21 Aug 2020 17:51:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modern benchmark between kafka pulsar and rabbitmq – kafka still dominates]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24236910">thread link</a>) | @tamale
<br/>
August 21, 2020 | https://www.confluent.io/blog/kafka-fastest-messaging-system/ | <a href="https://web.archive.org/web/*/https://www.confluent.io/blog/kafka-fastest-messaging-system/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Apache Kafka<sup>®</sup> is one of the most popular event streaming systems. There are many ways to <a href="https://www.confluent.io/kafka-vs-pulsar/">compare systems</a> in this space, but one thing everyone cares about is performance. Kafka has been known to be <a href="https://engineering.linkedin.com/kafka/benchmarking-apache-kafka-2-million-writes-second-three-cheap-machines" target="_blank" rel="noopener noreferrer">fast</a>, but how fast is it today, and how does it stack up against other systems? We decided to test Kafka’s performance on the latest cloud hardware to find out.</p>
<p>For comparisons, we chose a traditional message broker, <a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a>, and one of the <a href="https://bookkeeper.apache.org/" target="_blank" rel="noopener noreferrer">Apache BookKeeper™</a>&nbsp;based message brokers, <a href="http://pulsar.apache.org/" target="_blank" rel="noopener noreferrer">Apache Pulsar</a>. We focused on (1) <strong>system throughput</strong> and (2) <strong>system latency</strong>, as these are the primary performance metrics for event streaming systems in production. In particular, the throughput test measures how efficient each system is in utilizing the hardware, specifically the disks and the CPU. The latency test measures how close each system is to delivering real-time messaging including tail latencies of up to p99.9th percentile, a key requirement for real-time and mission-critical applications as well as microservices architectures.</p>
<p>We found that Kafka delivers the best throughput while providing the lowest end-to-end latencies up to the p99.9th percentile. At lower throughputs, RabbitMQ delivers messages at very low latencies.</p>
<p><img src="https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles.png" alt="Throughput (MB/s) | End-to-End Latency Quantiles" width="2541" height="1000" srcset="https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles.png 2541w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-300x118.png 300w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-1024x403.png 1024w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-768x302.png 768w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-1536x604.png 1536w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-2048x806.png 2048w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-350x138.png 350w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-600x236.png 600w" sizes="(max-width: 2541px) 100vw, 2541px"></p>
<table>
<tbody>
<tr>
<td></td>
<td><strong>Kafka</strong></td>
<td><strong>Pulsar</strong></td>
<td><strong>RabbitMQ</strong><br>
<strong>(Mirrored)</strong></td>
</tr>
<tr>
<td><strong>Peak Throughput</strong><br>
<strong>(MB/s)</strong></td>
<td>605<br>
MB/s</td>
<td>305<br>
MB/s</td>
<td>38<br>
MB/s</td>
</tr>
<tr>
<td><strong>p99 Latency</strong><br>
<strong>(ms)</strong></td>
<td>5 ms<br>
(200 MB/s load)</td>
<td>25 ms<br>
(200 MB/s load)</td>
<td>1 ms*<br>
(reduced 30 MB/s load)</td>
</tr>
</tbody>
</table>
<p><em>*RabbitMQ latencies degrade significantly at throughputs higher than the 30 MB/s. Furthermore, the impact of mirroring is significant at higher throughput and better latencies can be achieved by using just classic queues without mirroring.</em></p>
<p>This blog post is structured to first walk you through the benchmarking framework we used, followed by a description of the testbed and the workloads. It will finish with an explanation of the results using the various system and application metrics. All of these are <a href="https://github.com/confluentinc/openmessaging-benchmark/" target="_blank" rel="noopener noreferrer">open source</a>, so curious readers can reproduce the results for themselves or dig deeper into the collected Prometheus metrics. As with most benchmarks, we compare performance on a setup for a specific workload. We always encourage readers to compare using their own workloads/setups, to understand how these translate to production deployments. For a deeper look at features, architecture, ecosystem, and more, read this <a href="https://www.confluent.io/kafka-vs-pulsar/">complete guide</a> comparing Kafka, Pulsar, and RabbitMQ.</p>
<h2 id="overview"><a id="overview"></a>Overview</h2>
<ul>
<li><a href="#background">Background</a></li>
<li><a href="#durability">Durability in distributed systems</a></li>
<li><a href="#benchmarking-framework">Benchmarking Framework</a>
<ul>
<li><a href="#omb-framework">Fixes to the OMB Framework</a></li>
<li><a href="#omb-kafka-driver">Fixes to the OMB Kafka driver</a></li>
<li><a href="#omb-rabbitmq-driver">Fixes to the OMB RabbitMQ driver</a></li>
<li><a href="#omb-pulsar-driver">Fixes to the OMB Pulsar driver</a></li>
</ul>
</li>
<li><a href="#testbed">Testbed</a>
<ul>
<li><a href="#disks">Disks</a></li>
<li><a href="#os-tuning">OS tuning</a></li>
<li><a href="#memory">Memory</a></li>
</ul>
</li>
<li><a href="#throughput-test">Throughput test</a>
<ul>
<li><a href="#fsync">Effect of fsync</a></li>
<li><a href="#test-setup">Test setup</a></li>
<li><a href="#throughput-results">Throughput results</a></li>
</ul>
</li>
<li><a href="#latency-test">Latency test</a>
<ul>
<li><a href="#latency-results">Latency results</a></li>
<li><a href="#latency-trade-offs">Latency trade-offs</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
<h2 id="background"><a id="background"></a>Background</h2>
<p>First, let’s discuss each of the systems briefly to understand their high-level design and architecture, looking at the trade-offs each system makes.</p>
<p><strong>Kafka</strong> is an open-source distributed event streaming platform, and one of the five most active projects of the Apache Software Foundation. At its core, Kafka is designed as a replicated, distributed, persistent commit log that is used to power event-driven microservices or large-scale stream processing applications. Clients produce or consume events directly to/from a cluster of brokers, which read/write events durably to the underlying file system and also automatically replicate the events synchronously or asynchronously within the cluster for fault tolerance and high availability.</p>
<p><strong>Pulsar</strong> is an open-source distributed pub/sub messaging system originally catered towards queuing use cases. It recently added event streaming functionality as well. Pulsar is designed as a tier of (almost) stateless broker instances that connect to a separate tier of BookKeeper instances, which actually read/write and, optionally, store/replicate the messages durably. Pulsar is not the only system of its kind as there are also other messaging systems like Apache DistributedLog and Pravega, which have been created on top of BookKeeper and aim to also provide some Kafka-like event streaming functionality.</p>
<p><strong>BookKeeper</strong> is an open-source distributed storage service that was originally designed as a write-ahead log for Apache™ Hadoop®’s NameNode. It provides persistent storage of messages in <em>ledgers</em>, across server instances called <em>bookies</em>. Each bookie synchronously writes each message to a local journal log for recovery purposes and then asynchronously into its local indexed ledger storage. Unlike Kafka brokers, bookies do not communicate with each other and it’s the BookKeeper clients that are responsible for replicating the messages across bookies using a quorum-style protocol.</p>
<p><strong>RabbitMQ</strong> is an open-source traditional messaging middleware that implements the AMQP messaging standard, catering to low-latency queuing use cases. RabbitMQ consists of a set of broker processes that host “exchanges” for publishing messages to and queues for consuming messages from. Availability and durability are properties of the various queue types offered. Classic queues offer the least availability guarantees. Classic mirrored queues replicate messages to other brokers and improve availability. Stronger durability is provided through the more recently introduced <a href="https://www.rabbitmq.com/quorum-queues.html" target="_blank" rel="noopener noreferrer">quorum queues</a> but at the <a href="https://www.rabbitmq.com/quorum-queues.html#use-cases" target="_blank" rel="noopener noreferrer">cost of performance</a>. Since this is a performance-oriented blog post, we restricted our evaluation to classic and mirrored queues.</p>
<h2 id="durability"><a id="durability"></a>Durability in distributed systems</h2>
<p>Single-node storage systems (e.g., RDBMS) depend on fsyncing writes to disk to ensure maximal durability. But in distributed systems, durability typically comes from replication, with multiple copies of the data that fail independently. Fsyncing data is just a way of reducing the impact of the failure when it does occur (e.g., fsyncing more often could lead to lower recovery time). Conversely, if enough replicas fail, a distributed system may be unusable regardless of fsync or not. Hence, whether we fsync or not is just a matter of what guarantees each system chooses to depend on for its replication design. While some depend closely on never losing data written to disk, thus requiring fsync on every write, others handle this scenario in their design.</p>
<p>Kafka’s replication protocol was carefully designed to ensure consistency and durability guarantees without the need for synchronous fsync by tracking what has been fsynced to the disk and what hasn’t. By assuming less, Kafka can handle a wider range of failures like filesystem-level corruptions or accidental disk de-provisioning and does not take for granted the correctness of data that is not known to be fsync’d. Kafka is also able to leverage the OS for batching writes to the disk for better performance.</p>
<p>We have not been able to ascertain categorically whether BookKeeper offers the same consistency guarantees without fsyncing each write—specifically, whether it can rely on replication for fault tolerance in the absence of synchronous disk persistence. This isn’t covered in the documentation or a write-up on the underlying replication algorithm. Based on our inspection and the fact that BookKeeper implements a grouped fsync algorithm, we believe it does rely on fsyncing on each write for its correctness, but we’d love to <a href="mailto:info@confluent.io" target="_blank" rel="noopener noreferrer">hear from folks</a> in the community who might know better if our conclusion is correct.</p>
<p>In any case, since this can be somewhat of a controversial topic, we’ve given results in both cases to ensure we are being as fair and complete as possible, though running Kafka with synchronous fsync is extremely uncommon and also unnecessary.</p>
<h2 id="benchmarking-framework"><a id="benchmarking-framework"></a>Benchmarking framework</h2>
<p>With any benchmark, one wonders what framework is being used and if it’s fair. To that end, we wanted to use the <a href="http://openmessaging.cloud/docs/benchmarks/" target="_blank" rel="noopener noreferrer">OpenMessaging Benchmark Framework</a> (OMB), originally authored, in large parts, by Pulsar contributors. OMB was a good starting point with basic workload specification, metrics collection/reporting for the test results, support for the three chosen messaging systems as well as a modular cloud deployment workflow tailored for each system. But of note, Kafka and RabbitMQ implementations did have some significant shortcomings that affected the fairness and reproducibility of these tests. The resulting benchmarking code including the fixes described in more detail below are available as <a href="https://github.com/confluentinc/openmessaging-benchmark" target="_blank" rel="noopener noreferrer">open source</a>.</p>
<h3 id="omb-framework"><a id="omb-framework"></a>Fixes to the OMB Framework</h3>
<p>We upgraded to Java 11 and Kafka 2.6, RabbitMQ 3.8.5, and Pulsar 2.6 (the latest releases at the time of writing). We significantly enhanced the monitoring capabilities across the three systems, with the Grafana/Prometheus monitoring stack, capturing metrics across messaging systems, JVM, Linux, disk, CPU, and network. This was critical for being able to not just report results but explain them. We have added support for producer-only tests and consumer-only tests with support for generating/draining backlogs, while also fixing an important bug with producer rate calculation when the number of topics is smaller than the number of producer workers.</p>
<h3 id="omb-kafka-driver"><a id="omb-kafka-driver"></a>Fixes to the OMB Kafka driver</h3>
<p>We fixed a critical bug in the Kafka driver that starved Kafka producers of TCP connections, bottlenecking on a single connection from each worker instance. The fix makes the Kafka numbers fair, compared to other systems—that is, all of them now use the same number of TCP connections to talk to their respective brokers. We also fixed a critical bug in the Kafka benchmark consumer driver, where offsets were being committed too frequently and synchronously causing degradation, whereas it was done asynchronously for other systems. We also tuned the Kafka consumer fetch size and replication threads to eliminate bottlenecks in message fetching at high throughputs and to configure the brokers equivalent to the other systems.</p>
<h3 id="omb-rabbitmq-driver"><a id="omb-rabbitmq-driver"></a>Fixes to the OMB RabbitMQ driver</h3>
<p>We enhanced RabbitMQ to use routing keys and configurable exchange types (<code>DIRECT</code> and <code>TOPIC</code> exchanges) and also fixed a bug in the RabbitMQ cluster setup deployment workflow. Routing keys were introduced to mimic the concept of partitions per …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.confluent.io/blog/kafka-fastest-messaging-system/">https://www.confluent.io/blog/kafka-fastest-messaging-system/</a></em></p>]]>
            </description>
            <link>https://www.confluent.io/blog/kafka-fastest-messaging-system/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24236910</guid>
            <pubDate>Fri, 21 Aug 2020 17:22:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cheap and Easy Ergonomic Setups (Essential Work-from-Home Advice)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24236740">thread link</a>) | @tosh
<br/>
August 21, 2020 | https://www.fast.ai/2020/08/06/ergonomics/ | <a href="https://web.archive.org/web/*/https://www.fast.ai/2020/08/06/ergonomics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>Written: 06 Aug 2020 by <i>Rachel Thomas</i></span></p><p>You weren’t expecting to spend 2020 working from home.  You can’t afford a fancy standing desk.  You don’t have a home office, or even much spare space, in your apartment. Your neck is getting a permanent crick from hunching over your laptop on the couch. While those of us who are able to work from home are privileged to have this option, we still don’t want to permanently damage our backs, necks, or arms from a bad ergonomic setup.</p>

<p>This is not a post for ergonomic aficionados (the setups I share could all be further optimized).  This is a post for folks who don’t know where to get started, have a limited budget, and are willing to try simple, scrappy approaches.  Key takeway: for 34 dollars (21 for a good mouse, and 13 for a cheap keyboard), as well as some household items, you can create an ergonomic setup like the one below. I will show many other options throughout the post, for both sitting and standing, as well as approaches you can easily assemble/disassemble (if you are using the family dinner table and need to clear it off each evening).</p>

<figure>
  <img width="400" src="https://www.fast.ai/images/ergonomic1.jpg" alt="While visiting family, I created an ergonomic setup on a counter">
  
  <figcaption>While visiting family, I created an ergonomic setup on a counter</figcaption>
  
</figure>

<h2 id="damage">You can permanently damage your body with bad ergonomics</h2>

<p>You can permanently damage your back, neck, and wrists from working without an ergonomic setup. Almost two decades ago, my partner Jeremy suffered from repetitive stress injury due to working without an ergonomic setup.  At the time, his arms were paralyzed and he had to take months off from work.  Even now and after years filled with good ergonomics and yoga, this still impacts his life, severely limiting how much time he can spend in cars or on planes, and creating painful flare-ups. Please take this issue seriously.</p>

<h2 id="separate">Key advice: Have a separate keyboard and mouse</h2>

<p>The most important thing to know is that you want your screen approximately at eye height, and your elbows at approximately right angles to your torso as they type and use the mouse. This is the case whether you are sitting or standing. If you are using a laptop, this will be impossible with the built-in keyboard and trackpad (no matter how nice they are). It is essential to have a separate keyboard and mouse. If you only do one thing to address ergonomics, obtain a separate keyboard and mouse.</p>

<p>If you can’t afford an external monitor, no worries, you can just elevate your laptop. Over the years, I have used cardboard boxes, drinking glasses, bottles of soda, board games, and stacks of books to elevate my laptop. I will recommend some keyboards and mice that I like below, but anything is better than using the ones built into your laptop (since that forces you to keep your screen at the wrong height). For example, the picture in the intro is of a set-up I created while visiting a family member’s apartment in 2014, using books and a cardboard box to elevate my keyboard, mouse, and laptop to the appropriate heights.</p>

<figure>
  <img width="400" src="https://www.fast.ai/images/ergonomic5.jpg" alt="For the deep learning study group, I routinely used a brown cardboard box. Bonus: I could store everything in the box when we had the clear out of that room each night.">
  
  <figcaption>For the deep learning study group, I routinely used a brown cardboard box. Bonus: I could store everything in the box when we had the clear out of that room each night.</figcaption>
  
</figure>

<p>Above is a picture from the deep learning study group, which meets 5 days a week, for 7 weeks, every time we run the deep learning course. I use a brown cardboard box to elevate my keyboard.  We have to clear out of that conference room each evening, and it is simple for me to put my items in the box.  This sort of solution could work if you don’t have a dedicated office space in your home, and need to be able to set up/take down your workstation regularly.</p>

<p>I rarely worked in coffee shops pre-pandemic (and never do now), but when I had to I would still try to create an ergonomic setup (and go to a coffeeshop where there was enough space!). Here, I’ve stacked my laptop on top of my rolled-up backpack. Ideally, my screen would be higher, but this is still better than having it at table level. Don’t let the perfect be the enemy of the good. Every step you take towards a more ergonomic setup is helpful.</p>

<figure>
  <img width="400" src="https://www.fast.ai/images/ergonomic2.jpg" alt="When working at a coffee shop (pre-pandemic), I brought an external keyboard and mouse, and used my rolled-up backpack to raise the height of my laptop screen ">
  
  <figcaption>When working at a coffee shop (pre-pandemic), I brought an external keyboard and mouse, and used my rolled-up backpack to raise the height of my laptop screen </figcaption>
  
</figure>

<h2 id="standing-desks">About standing desks</h2>

<p>If you have a regular desk (or even just a table) at home and want a standing desk, one option is to convert it using the <a href="https://alphacolin.com/ikea-standing-desk-for-22-dollars/">$22 standing desk approach</a>, which involves an Ikea side table and shelf. I had a previous job in which this was quite popular. Here is a photo of my work desk from that time.</p>

<figure>
  <img width="400" src="https://www.fast.ai/images/ergonomic3.jpg" alt="In a previous job, many of us set up $22 standing desks using Ikea side tables">
  
  <figcaption>In a previous job, many of us set up $22 standing desks using Ikea side tables</figcaption>
  
</figure>

<p>Standing on a hard floor can be difficult for your back. I have a GelPro mat, which I love.  If you can’t afford a GelPro mat, standing on a folded-up yoga mat works great too.</p>

<p>Note that standing desks are not a cure-all.  I’ve often seen people with expensive standing-desk converters (also known as desktop risers) that still have their monitor way too low.  Even if you have an external monitor and desktop riser, makes sure your monitor is at an appropriate height.  It is likely you will still need to stack it on top of something.  If you don’t like the aesthetics of using books or other household items, you can buy a monitor stand, <a href="https://www.kensington.com/p/products/ergonomic-desk-accessorries/laptop-risers-monitor-stands/kensington-smartfit-monitor-stand-plus-for-up-to-21-screens/">such as this one</a>.</p>

<p>Using a standing desk with poor posture is not very ergonomic, so be cognizant of when you start feeling fatigued.  I prefer to switch between standing and sitting throughout the day, as my energy fluctuates.</p>

<h2 id="budget-recs">Budget Recommendations</h2>

<p>My “budget recommendation” would be to get an <a href="https://www.newegg.com/p/0TP-005H-00095">Anker vertical mouse</a> for $21 and literally any keyboard. If you have to choose, I’ve found that having a good mouse is way more important than a good keyboard.  It is important that you get some keyboard though, so that you can elevate your laptop screen.  In the setup below, I’m using a lightweight travel keyboard that isn’t particularly ergonomic, but it works fine.</p>

<figure>
  <img width="400" src="https://www.fast.ai/images/ergonomic4.jpg" alt="The barista at this coffee shop kindly let me use 2 plastic tubs to prop up my laptop.">
  
  <figcaption>The barista at this coffee shop kindly let me use 2 plastic tubs to prop up my laptop.</figcaption>
  
</figure>

<p>I realize that at a time when many Americans do not have enough to eat, that you may not have 34 dollars to spare (21 dollars for a mouse and 13 dollars for a cheap keyboard). However, if this is an option for you, it is well worth the cost. If you permanently damage your back, neck, or arms, no amount of money may be enough to heal them later.</p>

<h2 id="products">Other products I like</h2>

<p>My favorite mouse is the <a href="https://www.newegg.com/Logitech-910-001799/p/24W-001B-00008">Logitech wireless trackball mouse</a>. I have also used and liked the <a href="https://www.newegg.com/p/0TP-005H-00095">Anker vertical mouse</a>.  For keyboards, I like <a href="https://www.newegg.com/p/12K-00XE-00002">Goldtouch</a> (I use an older version of this one) or the <a href="https://www.newegg.com/microsoft-natural-4000-b2m-00012-usb-wired/p/N82E16823109148">Microsoft Ergonomic Keyboard</a>. And if you are looking for a compact, lightweight travel keyboard, I like the <a href="https://www.iclever.com/products/BK03-Bluetooth-Portable-Keyboard">iClever foldup keyboard</a>.</p>

<p>As mentioned above, <a href="https://www.gelpro.com/">GelPro mats</a> are great if you are going to be standing, and a folded-up yoga mat is a cheaper alternative.</p>

<p>I have a <a href="https://www.therooststand.com/">Roost portable, lightweight laptop stand</a>, which is great, although I can’t use it since I switched from a Macbook Air to a Microsoft Surface Pro. None of the links in this post are affiliate links; I’m just recommending what I’ve personally used and like.</p>

<p>For more about home office set-ups, Jeremy recently posted a twitter thread about his preferred computer set-up (which includes some pricier options). It’s also worth noting that his desk has a small footprint, and fits in the corner of our living room.</p>

<center>
<blockquote><p lang="en" dir="ltr">I couldn't be happier with my little standing desk setup. I have tried far to many products over the years, and here's what I highly recommend:<br>1/ <a href="https://t.co/lMagQPLys1">pic.twitter.com/lMagQPLys1</a></p>— Jeremy Howard (@jeremyphoward) <a href="https://twitter.com/jeremyphoward/status/1285747820482318336?ref_src=twsrc%5Etfw">July 22, 2020</a></blockquote> 
</center>



</div>



    </div></div>]]>
            </description>
            <link>https://www.fast.ai/2020/08/06/ergonomics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24236740</guid>
            <pubDate>Fri, 21 Aug 2020 17:05:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Efficiency is dangerous and slowing down makes life better]]>
            </title>
            <description>
<![CDATA[
Score 606 | Comments 268 (<a href="https://news.ycombinator.com/item?id=24236489">thread link</a>) | @joubert
<br/>
August 21, 2020 | https://psyche.co/ideas/why-efficiency-is-dangerous-and-slowing-down-makes-life-better | <a href="https://web.archive.org/web/*/https://psyche.co/ideas/why-efficiency-is-dangerous-and-slowing-down-makes-life-better">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><blockquote>â€˜Slow down, you move too fast <em>â€¦</em>â€™ <br>â€“ â€˜The 59th Street Bridge Song (Feelinâ€™ Groovy)â€™ (1966) by Paul Simon</blockquote>
<p><strong>We worship efficiency</strong>. Use less to get more. Same-day delivery. Multitask; text on one device while emailing on a second, and perhaps conversing on a third. Efficiency is seen as good. Inefficiency as wasteful.</p>
<p>Thereâ€™s a sound rationale for thinking this way. Economists teach us that increased efficiency is the major way to improve our standard of living. If your company gives you a pay rise without becoming more efficient, it will also have to raise its prices to make up the shortfall. If all companies do the same, everyone ends up running in place â€“ youâ€™ll need your higher wages to match the higher prices of the things you buy. So, if we want to make material progress, we must become more efficient. Streamlined supply chains, just-in-time deliveries and no slack in the workforce all serve to raise efficiency. Achieve this, and all our lives will get better and better, or so weâ€™re promised.</p>
<p>For automobile manufacturers, who wish to squeeze as many miles per gallon as possible out of their car designs, air resistance and the grab of the road are the enemies of efficiency. In the world of finance, it is at the point of exchange that most friction arises. Before money, the potato farmer had to use sacks of potatoes to trade for eggs and milk. As the British historian Niall Ferguson reminds us in his <a href="https://www.penguin.co.uk/books/178/178638/the-ascent-of-money/9780141990262.html">book</a> <em>The Ascent of Money</em> (2008), the invention of money went a long way toward reducing this inefficiency, and much that has happened in the financial world over the past 200 years can be seen as a continuation of that revolution.</p>
<p>Credit, for example, meant that you could go shopping for eggs and milk even without having the money right now. Financial markets have since taken this efficiency to another level. The creation of â€˜option marketsâ€™ means that you donâ€™t have to go to the trouble of buying a stock that youâ€™re going to be selling soon anyway. You can just promise to buy it, and then sell it at a price and date specified by the option contract. And then you can trade the option rather than the underlying stock.</p>
<p>Each of these developments and many others have made it easier to do oneâ€™s business without wasted time and energy â€“ without friction. Each has made economic transactions quicker and more efficient. Thatâ€™s obviously good in some ways. But the financial crisis of 2008 suggested that maybe there could be too much of a good thing. If mortgages and other loans hadnâ€™t been transformed into tradable assets (â€˜securitiesâ€™), then bankers might have taken the time to assess the credit-worthiness of each applicant. If people had to visit a bank to withdraw cash, they might spend less and save more. This is not mere speculation â€“ for instance, <a href="https://doi.org/10.1002/(SICI)1099-0771(199909)12:3%3c183::AID-BDM318%3e3.0.CO;2-F">research</a> <a href="https://doi.org/10.1016/0167-2681(80)90051-7">reviewed</a> by the Nobel Prize-winning economist Richard Thaler shows that people will pay more for an item with a credit card than with cash. Arguably, a little friction to slow us down would have enabled both institutions and individuals to make better financial decisions.</p>
<p>A decade ago, the American psychologist Adam Grant and I argued in a journal <a href="https://journals.sagepub.com/doi/full/10.1177/1745691610393523?url_ver=Z39.88-2003&amp;rfr_id=ori:rid:crossref.org&amp;rfr_dat=cr_pub%20%200pubmed">paper</a> that this â€˜too much of a good thingâ€™ phenomenon might be a general rule. Some motivation produces excellent performance; too much motivation produces choking. Some group collaboration produces cohesion and enhances productivity; too much of it leads to staleness. Some empathy enables you to understand what another person is going through; too much could prevent you from saying and doing hard things. Similarly, in my <a href="https://www.harpercollins.com/products/the-paradox-of-choice-barry-schwartz?variant=32207920234530">book</a> <em>The Paradox of Choice</em> (2004), I argued that, whereas a life with no freedom to choose is not worth living, a life with too much choice leads to paralysis, bad decisions and dissatisfaction. Finding the right amount â€“ what Aristotle called the â€˜meanâ€™ â€“ of motivation, collaboration, empathy, choice and many other aspects of life, including efficiency, is a key challenge we face, both as individuals and as a society.</p>
<p>To be better prepared next time, we need to learn to live less efficiently in the here and now</p>
<p>But finding the mean isnâ€™t easy. As the English poet William Blake observed in <em>The Marriage of Heaven and Hell</em> (1790-93): â€˜You never know what is enough unless you know what is more than enough.â€™</p>
<p><strong>If the financial crisis</strong> taught us that we had become too efficient with our transactions, what of the COVID-19 pandemic? Why hadnâ€™t we stockpiled key supplies and machines, built up hospital capacity, or ensured the robustness of our supply chains? The reason, of course, is that it would have been seen as inefficient and profit-robbing. Money spent on masks and gowns gathering dust in a warehouse could always be put to more â€˜productiveâ€™ use in the marketplace. Likewise, employing more people than needed under â€˜ordinaryâ€™ circumstances, or making products yourself rather than relying on international supply chains, would have been seen as inefficient. One lesson, then, is that to be better prepared next time, we need to learn to live less â€˜efficientlyâ€™ in the here and now.</p>
<p>Seen in this light, at least some inefficiency is like an insurance policy. Think about your own situation. Every year that you donâ€™t get into a car accident and your house doesnâ€™t burn down and you stay healthy, you could think to yourself that you have â€˜wastedâ€™ your money on various pointless insurance products, and that youâ€™d be financially better off without all those insurance premiums to pay.</p>
<p>Most of us donâ€™t like the sense that weâ€™re wasting money on insurance. We would rather be wearing that money, or eating it, or driving it. Some years ago, with a struggle, I convinced my ageing mother to supplement her basic health insurance policy with a more comprehensive insurance product. Her resources were modest and the policy wasnâ€™t cheap. The year went by and, happily, she had no serious medical conditions that required the use of the extra cover. When the time came to renew, my mother resisted, because, indeed, the money she spent the year before had been â€˜wastedâ€™. My reply, perhaps unduly snarky, was to suggest to her that maybe the next year she would get lucky, have a really serious illness, and get her moneyâ€™s worth out of her insurance.</p>
<p>Thankfully, in many domains, government regulations protect us from our desire for ever-greater personal financial efficiency by forcing us to have insurance. Laws require that our cars be insured, and mortgagers require the same for our homes. In the United States, â€˜Obamacareâ€™ (the Affordable Care Act enacted in 2010, designed to increase the number of US citizens covered by health insurance) essentially compelled people to have health insurance, until the Supreme Court challenged this aspect of the Act as unconstitutional. I suspect that many of us are underinsured in general, but the problem would be much worse without these various, state-imposed insurance requirements.</p>
<p>One way to think about insurance, however inefficient it might feel, is that it enables us to be resilient against shocks that could befall us from a world that is radically uncertain. And the world <em>is</em> radically uncertain. As the British economists John Kay and Mervyn King point out in their <a href="https://wwnorton.com/books/9781324004776">book</a> <em>Radical Uncertainty</em> (2020), efforts to quantify risk by attaching probabilities to various unlikely future states of the world are mostly science fiction. The world is much messier than a roulette wheel or a pair of dice.</p>
<p>A little bit of friction can forestall disaster when you encounter an icy road</p>
<p><strong>What should we do</strong> in the face of this radical uncertainty? When making decisions, instead of asking ourselves which option will give us the best results, we should be asking which option will give us good-enough results under the widest range of future states of the world. Instead of trying to maximise return on investment in our retirement account, we should be setting a financial goal and then choosing investments that will allow us to achieve that goal under the widest set of future financial circumstances. Instead of looking for the â€˜bestâ€™ job, we should be looking for a job that will be good enough â€“ satisfying enough â€“ as co-workers and managers come and go, and the future economy gyrates. Instead of choosing the best college to go to, we should be choosing a college that will be good enough, even with an obnoxious roommate and a boring Bio 1 teacher.</p>
<p>The term used to describe this approach to decision-making is <em>satisficing</em>. And satisficing with an eye toward a radically uncertain future might be called <em>robust satisficing</em>. Satisficing is a form of insurance â€“ insurance against financial meltdowns, global pandemics, nasty bosses, boring teachers and crappy roommates. Insurance can seem stodgy â€“ like the guy who wears a belt <em>and</em> suspenders. Perhaps we donâ€™t need both, but what happens if we have neither?</p>
<p>I think the real flaw in capitalism revealed by the 2008 financial crisis was its unbridled, single-minded pursuit of profit and efficiency. And perhaps the real flaw revealed in our lack of readiness for the 2019-20 pandemic was a manifestation of the same thing. Capitalism neednâ€™t be either unbridled or single-minded. It isnâ€™t in other societies with high standards of living, and it hasnâ€™t been at all points in history in the US. So perhaps itâ€™s time to rekindle certain social norms that serve to slow us down. For example, if people thought about their homes less as financial investments and more as places to live, full of the friction of kids, dogs, friends, neighbours and community, there might be less property speculation with an eye toward buying and selling houses merely for profit. If companies felt the friction of being caretakers of their communities, they might look differently at streamlining their operations by eliminating jobs.</p>
<p>Weâ€™d all like a car that gets 100 miles to a gallon. The forces of …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/ideas/why-efficiency-is-dangerous-and-slowing-down-makes-life-better">https://psyche.co/ideas/why-efficiency-is-dangerous-and-slowing-down-makes-life-better</a></em></p>]]>
            </description>
            <link>https://psyche.co/ideas/why-efficiency-is-dangerous-and-slowing-down-makes-life-better</link>
            <guid isPermaLink="false">hacker-news-small-sites-24236489</guid>
            <pubDate>Fri, 21 Aug 2020 16:43:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ammonia as a fuel for compression ignition engines]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 29 (<a href="https://news.ycombinator.com/item?id=24236204">thread link</a>) | @airstrike
<br/>
August 21, 2020 | https://www.ammoniaenergy.org/articles/review-of-ammonia-as-a-ci-fuel-published/ | <a href="https://web.archive.org/web/*/https://www.ammoniaenergy.org/articles/review-of-ammonia-as-a-ci-fuel-published/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><p>The diesel engine, also known as the compression ignition (CI) engine, has been a workhorse of the modern energy economy for more than a hundred years.&nbsp;Its role in the coming sustainable energy economy will be determined by its ability to co-evolve with climate-friendly fuels.&nbsp;Two researchers from the National Institute of Advanced Industrial Science and Technology in Japan have now examined the fit between ammonia and the CI engine.&nbsp;</p><p>Pavlos Dimitriou and Rahat Javaid arrive at a two-part conclusion in their paper, “<a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://www.sciencedirect.com/science/article/abs/pii/S0360319920300124" target="_blank">A review of ammonia as a compression ignition engine fuel</a>,” published in January in the <em>International Journal of Hydrogen Energy</em>. Part one is good news: “Ammonia as a compression ignition fuel can be currently seen as a feasible solution.”&nbsp;Part two is a dose of qualifying reality: to manage emissions of N2O, NOx, and unburnt NH3, “aftertreatment systems are mandatory for the adaptation of this technology,” which means that ammonia-fueled CI engines are likely to be feasible “only for marine, power generation and possibly heavy-duty applications where no significant space constraints exist.”</p><p>The paper provides a detailed and readable account of efforts over the last eight decades to develop a viable version of an ammonia-fueled CI engine.&nbsp;The authors state that, “to the best of [their] knowledge, this is the first review approach focusing entirely on ammonia utilisation for compression ignition.”&nbsp;A major challenge confronted by the development efforts derives from ammonia’s “poor combustion characteristics … such as high autoignition temperature, low flame speed, narrow flammability limits and high heat of vaporization.” They continue, “successful ammonia compression ignition operation could only be observed for engine designs that featured extremely high compression ratios from 35:1 to 100:1.”</p><p>To address this challenge, most researchers resorted to the expedient of co-combustion.&nbsp;With the addition of fuels like diesel, biodiesel, and dimethyl ether, “the combustion of ammonia … is a realistic conception, as the secondary fuel, with lower Autoignition temperature, can be used to trigger the combustion of the mixture.”&nbsp;Different researchers have used a variety of fuel ratios under a variety of conditions.&nbsp;Ammonia ratios as high as 95% have been achieved, but numbers in the range of 40 to 80% are more prevalent in the literature. Hydrogen has been used successfully as the complementary fuel.&nbsp;This includes hydrogen derived from on-board ammonia cracking, but the authors of one study determined that “the introduction of pure hydrogen [from an off-board source] seems to be the most promising in terms of emissions reduction and engine performance enhancement.”</p><p>The dual-fuel approach opens the door to CI for ammonia, but another challenge soon arises: when ammonia is burned as a CI fuel, it tends to produce problematic levels of nitrogen oxides and unburned ammonia. To compound the issue, NOx tends to be a product of high combustion temperatures and unburned ammonia of low temperatures – and there is no “sweet spot” temperature where neither species is a problem.&nbsp;</p><p>Contemporary researchers are attacking this problem with two methods.&nbsp;The first is with advanced fuel injection techniques.&nbsp;By injecting fuel at several points during the engine’s compression stroke, with fine control of the fuel increments, it is possible to achieve “simultaneous reduction of N2O and NH3 emissions in ammonia dual-fuel engines.”&nbsp;The second method is exhaust after-treatment.&nbsp;Selective catalytic reduction (SCR) technologies have been found that can reduce both NOx and unburned ammonia to acceptable levels, a result furthered by “the effect of ammonia in NOx reduction as observed in the modern after-treatment systems.”</p><p>The authors’ conclusion that ammonia is unlikely to become a major fuel for passenger cars will not come as a surprise to most members of the ammonia energy community.&nbsp;Ships, of course, are a different story.</p><p>Engine manufacturer MAN Energy Solutions expects to bring its dual-fueled maritime engine to market in 2024. (An <em>Ammonia Energy</em> <a href="https://www.ammoniaenergy.org/articles/man-ammonia-engine-update/">update on the MAN ammonia engine</a> appeared in January.)&nbsp;Success in the maritime realm will certainly encourage development of engines scaled for off-grid and back-up power generation.&nbsp;For other transportation applications, long the near-exclusive province of internal combustion, CI might have its hands full fighting off electrification via battery and fuel cell.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.ammoniaenergy.org/articles/review-of-ammonia-as-a-ci-fuel-published/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24236204</guid>
            <pubDate>Fri, 21 Aug 2020 16:19:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: App to never fall out of touch with friends and family again]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24236182">thread link</a>) | @stephentitus_29
<br/>
August 21, 2020 | http://nurtureapp.co.uk/android | <a href="https://web.archive.org/web/*/http://nurtureapp.co.uk/android">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://nurtureapp.co.uk/android</link>
            <guid isPermaLink="false">hacker-news-small-sites-24236182</guid>
            <pubDate>Fri, 21 Aug 2020 16:17:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I asked PhilosopherAI about coding datastructures of thoughts]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24236079">thread link</a>) | @emteycz
<br/>
August 21, 2020 | https://philosopherai.com/philosopher/how-to-code-a-data-structure-for-thoughts-273398 | <a href="https://web.archive.org/web/*/https://philosopherai.com/philosopher/how-to-code-a-data-structure-for-thoughts-273398">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="layout"><div id="content-container"><p><a href="https://philosopherai.com/">Philosopher AI</a></p><div><p>You are getting an AI to generate text on different topics.</p><p>This is an experiment in what one might call "prompt engineering", which is a way to utilize OpenAI's newest neural network named GPT-3.</p><p>GPT-3 is a language model, meaning that when it is given some text, it generates predictions for what might come next. It is remarkably good at adapting to different contexts, as defined by the user input, plus a pre-programmed prompt (in this case hidden from the user).</p><p>Please remember that the AI will generate different outputs each time; and that it lacks any specific opinions or knowledge -- it merely mimics opinions, proven by how it can produce conflicting outputs on different attempts.</p><p>by <a href="https://twitter.com/mayfer">Murat Ayfer</a></p></div></div></div></div>]]>
            </description>
            <link>https://philosopherai.com/philosopher/how-to-code-a-data-structure-for-thoughts-273398</link>
            <guid isPermaLink="false">hacker-news-small-sites-24236079</guid>
            <pubDate>Fri, 21 Aug 2020 16:09:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Nat Traversal Works]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24236010">thread link</a>) | @psanford
<br/>
August 21, 2020 | https://tailscale.com/blog/how-nat-traversal-works/ | <a href="https://web.archive.org/web/*/https://tailscale.com/blog/how-nat-traversal-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
<p>We covered a lot of ground in our post about <a href="https://tailscale.com/blog/how-tailscale-works/"><em>How Tailscale
Works</em></a>.  However, we glossed over how we can get through NATs
(Network Address Translators) and connect your devices directly to
each other, no matter what’s standing between them. Let’s talk about
that now!</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-intro.png">
    
    
</figure>

<p>Let’s start with a simple problem: establishing a peer-to-peer
connection between two machines. In Tailscale’s case, we want to set
up a WireGuard® tunnel, but that doesn’t really matter. The
techniques we use are widely applicable and the work of many people
over decades. For example, <a href="https://webrtc.org/">WebRTC</a> uses this bag of tricks to
send peer-to-peer audio, video and data between web browsers. VoIP
phones and some video games use similar techniques, though not always
successfully.</p>
<p>We’ll be discussing these techniques generically, using Tailscale and
others for examples where appropriate. Let’s say you’re making your
own protocol and that you want NAT traversal. You need two things.</p>
<p>First, the protocol should be based on UDP. You <em>can</em> do NAT traversal
with TCP, but it adds another layer of complexity to an already quite
complex problem, and may even require kernel customizations depending
on how deep you want to go. We’re going to focus on UDP for the rest
of this article.</p>
<p>If you’re reaching for TCP because you want a stream-oriented
connection when the NAT traversal is done, consider using QUIC
instead. It builds on top of UDP, so we can focus on UDP for NAT
traversal and still have a nice stream protocol at the end.</p>
<p>Second, you need direct control over the network socket that’s sending
and receiving network packets. As a rule, you can’t take an existing
network library and make it traverse NATs, because you have to send
and receive extra packets that aren’t part of the “main” protocol
you’re trying to speak. Some protocols tightly integrate the NAT
traversal with the rest (e.g. WebRTC). But if you’re building your
own, it’s helpful to think of NAT traversal as a separate entity that
shares a socket with your main protocol. Both run in parallel, one
enabling the other.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-deep-integration.png">
    
    
</figure>

<p>Direct socket access may be tough depending on your situation. One
workaround is to run a local proxy. Your protocol speaks to this
proxy, and the proxy does both NAT traversal and relaying of your
packets to the peer. This layer of indirection lets you benefit from
NAT traversal without altering your original program.</p>
<p>With prerequisites out of the way, let’s go through NAT traversal from
first principles. Our goal is to get UDP packets flowing
bidirectionally between two devices, so that our other protocol
(WireGuard, QUIC, WebRTC, …) can do something cool. There are two
obstacles to having this Just Work: stateful firewalls and NAT
devices.</p>
<h3 id="figuring-out-firewalls">Figuring out firewalls</h3>
<p>Stateful firewalls are the simpler of our two problems. In fact, most
NAT devices include a stateful firewall, so we need to solve this
subset before we can tackle NATs.</p>
<p>There are many incarnations to consider. Some you might recognize are
the Windows Defender firewall, Ubuntu’s ufw (using iptables/nftables),
BSD’s pf (also used by macOS) and AWS’s Security Groups. They’re all
very configurable, but the most common configuration allows all
“outbound” connections and blocks all “inbound” connections. There
might be a few handpicked exceptions, such as allowing inbound SSH.</p>
<p>But connections and “direction” are a figment of the protocol
designer’s imagination. On the wire, every connection ends up being
bidirectional; it’s all individual packets flying back and forth. How
does the firewall know what’s inbound and what’s outbound?</p>
<p>That’s where the stateful part comes in. Stateful firewalls remember
what packets they’ve seen in the past and can use that knowledge when
deciding what to do with new packets that show up.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-1a.png">
    
    
</figure>

<p>For UDP, the rule is very simple: the firewall allows an inbound UDP
packet if it previously saw a matching outbound packet. For example,
if our laptop firewall sees a UDP packet leaving the laptop from
<code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, it’ll make a note that incoming
packets from <code>7.7.7.7:5678</code> to <code>2.2.2.2:1234</code> are also fine. The
trusted side of the world clearly intended to communicate with
<code>7.7.7.7:5678</code>, so we should let them talk back.</p>
<p>(As an aside, some <em>very</em> relaxed firewalls might allow traffic from
anywhere back to <code>2.2.2.2:1234</code> once <code>2.2.2.2:1234</code> has communicated
with anyone. Such firewalls make our traversal job easier, but are
increasingly rare.)</p>
<h4 id="firewall-face-off">Firewall face-off</h4>
<p>This rule for UDP traffic is only a minor problem for us, as long as
all the firewalls on the path are “facing” the same way. That’s
usually the case when you’re communicating with a server on the
internet. Our only constraint is that the machine that’s <em>behind</em> the
firewall(s) must be the one initiating all connections. Nothing can
talk to it, unless it talks first.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-2.png">
    
    
</figure>

<p>This is fine, but not very interesting: we’ve reinvented client/server
communication, where the server makes itself easily reachable to
clients. In the VPN world, this leads to a hub-and-spoke topology: the
hub has no firewalls blocking access to it and the firewalled spokes
connect to the hub.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-3.png">
    
    
</figure>

<p>The problems start when two of our “clients” want to talk
directly. Now the firewalls are facing each other. According to the
rule we established above, this means both sides must go first, but
also that neither can go first, because the other side has to go
first!</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-4.png">
    
    
</figure>

<p>How do we get around this? One way would be to require users to
reconfigure one or both of the firewalls to “open a port” and allow
the other machine’s traffic. This is not very user friendly. It also
doesn’t scale to mesh networks like Tailscale, in which we expect the
peers to be moving around the internet with some regularity. And, of
course, in many cases you don’t have control over the firewalls: you
can’t reconfigure the router in your favorite coffee shop, or at the
airport. (At least, hopefully not!)</p>
<p>We need another option. One that doesn’t involve reconfiguring
firewalls.</p>
<h4 id="finessing-finicky-firewalls">Finessing finicky firewalls</h4>
<p>The trick is to carefully read the rule we established for our
stateful firewalls. For UDP, the rule is: <strong>packets must flow out
before packets can flow back in.</strong></p>
<p>However, nothing says the packets must be <em>related</em> to each other
beyond the IPs and ports lining up correctly. As long as <em>some</em> packet
flowed outwards with the right source and destination, any packet that
<em>looks like</em> a response will be allowed back in, even if the other
side never received your packet!</p>
<p>So, to traverse these multiple stateful firewalls, we need to share
some information to get underway: the peers have to know in advance
the <code>ip:port</code> their counterpart is using. One approach is to
statically configure each peer by hand, but this approach doesn’t
scale very far. To move beyond that, we built a <a href="https://tailscale.com/blog/how-tailscale-works/#the-control-plane-key-exchange-and-coordination">coordination
server</a> to keep the <code>ip:port</code> information synchronized in a
flexible, secure manner.</p>
<p>Then, the peers start sending UDP packets to each other. They must
expect some of these packets to get lost, so they can’t carry any
precious information unless you’re prepared to retransmit them. This
is generally true of UDP, but especially true here. We’re <em>going</em> to
lose some packets in this process.</p>
<p>Our laptop and workstation are now listening on fixed ports, so that
they both know exactly what <code>ip:port</code> to talk to. Let’s take a look at
what happens.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5a.png">
    
    
</figure>

<p>The laptop’s first packet, from <code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, goes
through the Windows Defender firewall and out to the internet. The
corporate firewall on the other end blocks the packet, since it has no
record of <code>7.7.7.7:5678</code> ever talking to <code>2.2.2.2:1234</code>. However,
Windows Defender now remembers that it should expect and allow
responses from <code>7.7.7.7:5678</code> to <code>2.2.2.2:1234</code>.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5b.png">
    
    
</figure>

<p>Next, the workstation’s first packet from <code>7.7.7.7:5678</code> to
<code>2.2.2.2:1234</code> goes through the corporate firewall and across the
internet. When it arrives at the laptop, Windows Defender thinks “ah,
a response to that outbound request I saw”, and lets the packet
through! Additionally, the corporate firewall now remembers that it
should expect responses from <code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, and
that those packets are also okay.</p>
<p>Encouraged by the receipt of a packet from the workstation, the laptop
sends another packet back. It goes through the Windows Defender
firewall, through the corporate firewall (because it’s a “response” to
a previously sent packet), and arrives at the workstation.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5c.png">
    
    
</figure>

<p>Success! We’ve established two-way communication through a pair of
firewalls that, at first glance, would have prevented it.</p>
<h4 id="creative-connectivity-caveats">Creative connectivity caveats</h4>
<p>It’s not always so easy. We’re relying on some indirect influence over
third-party systems, which requires careful handling. What do we need
to keep in mind when managing firewall-traversing connections?</p>
<p>Both endpoints must attempt communication at roughly the same time, so
that all the intermediate firewalls open up while both peers are still
around. One approach is to have the peers retry continuously, but this
is wasteful. Wouldn’t it be better if both peers knew to start
establishing a connection at the same time?</p>
<p>This may sound a little recursive: to communicate, first you need to
be able to communicate. However, this preexisting “side channel”
doesn’t need to be very fancy: it can have a few seconds of latency,
and only needs to deliver a few thousand bytes in total, so a tiny VM
can easily be a matchmaker for thousands of machines.</p>
<p>In the distant past, I used XMPP chat messages as the side channel,
with great results. As another example, WebRTC requires you to come up
with your own “signalling channel” (a name that reveals WebRTC’s IP
telephony ancestry), and plug it into the WebRTC APIs. In Tailscale,
our coordination server and fleet of DERP (Detour Encrypted Routing
Protocol) servers act as …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tailscale.com/blog/how-nat-traversal-works/">https://tailscale.com/blog/how-nat-traversal-works/</a></em></p>]]>
            </description>
            <link>https://tailscale.com/blog/how-nat-traversal-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24236010</guid>
            <pubDate>Fri, 21 Aug 2020 16:04:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Joy of Appropriation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24235996">thread link</a>) | @Reedx
<br/>
August 21, 2020 | https://www.persuasion.community/p/the-joy-of-appropriation | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/the-joy-of-appropriation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a target="_blank" href="https://cdn.substack.com/image/fetch/c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0ae2cd5f-5642-491d-8a94-f693529b0fc1_620x330.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0ae2cd5f-5642-491d-8a94-f693529b0fc1_620x330.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/0ae2cd5f-5642-491d-8a94-f693529b0fc1_620x330.jpeg&quot;,&quot;height&quot;:330,&quot;width&quot;:620,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:14935,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></p><p>Of late, it seems that we can scarcely go a day without hearing yet another sad report of good people brought low for their interest in other cultures. Some of her followers <a href="https://www.irishtimes.com/culture/tv-radio-web/morgan-bullock-irish-dancing-tiktok-star-people-said-i-m-appropriating-irish-culture-1.4308680">criticized an African-American teenager</a> for displaying her immense talent at Irish dancing on TikTok. A member of a UK knitting circle <a href="https://www.telegraph.co.uk/radio/what-to-listen-to/did-knitting-become-battleground-cancel-culture/">was ostracized</a> for acknowledging that she had drawn creative inspiration from a trip to India. <a href="https://www.change.org/p/trader-joe-s-remove-racist-packaging-from-your-products">A petition</a> was launched to compel the Trader Joe’s grocery chain to stop labeling its vaguely Latin American products as “Trader José’s” and its Chinese-themed products as “Trader Ming’s.”</p><p>For the most part, mainstream institutions have not come to the defense of these embattled&nbsp;innocents. The <em>Los Angeles Times </em><a href="https://www.latimes.com/business/story/2020-08-05/trader-joes-joses-mings-labels-branding-backlash">covered the Trader Joe’s story</a> with strained neutrality, citing one former customer who bemoaned the company’s “failure to reflect on what their goal is in this movement” for racial justice—as if the grocery chain were a student activist who had overslept and missed a demonstration. The <em>New York Times</em> ran <a href="https://www.nytimes.com/2019/03/29/style/modern-love-race-i-broke-up-with-her-because-shes-white.html">a pitiable op-ed</a> by a confused young person who broke up with a romantic partner because of their ethnoracial differences. (What greater appropriation could there be than to take another into your heart?) The BBC <a href="https://www.bbc.co.uk/news/newsbeat-51177738">has solemnly reported</a> about the efforts of haute couture to eliminate such transgressions as cornrows on “white” male models. </p><p>It would be nearly unthinkable for any establishment media outlet today to run an op-ed defending, say, the wearing of dreadlocks by a person of European descent—even though this hairstyle was known as the <em>plica polonica</em> or “Polish plait” and associated with the Tatar horsemen who inhabited the Polish-Lithuanian duchy long before it was associated with the African diaspora. Yet, outside of our current cultural context, such arguments seem moderate and reasonable. </p><p>Cultural appropriation is far too widespread a process to be classified in Manichean terms like <em>good</em> and <em>bad</em>. It is simply a general law of culture: it explains why, for example, horses and guns are to be found in nearly every populated corner of the world, why there are Muslim Indonesians and Christian Inuit, why the Taliban use Toyota pick-up trucks, and why I like Siberian epic poetry.</p><p>I want to focus here on the kind of case that is now most frequently derided as “problematic”: freely adopting aspects of another culture simply because one values them as crystallizations of human excellence. Cultural appropriation, in this narrower sense, is an unqualified good—and to oppose it is nothing less than anti-human. </p><p>The most familiar critique of cultural appropriation is that all cultures are made up of borrowings from one another. In <a href="https://www.theguardian.com/commentisfree/2016/sep/13/lionel-shrivers-full-speech-i-hope-the-concept-of-cultural-appropriation-is-a-passing-fad">a scandalous speech</a> at the 2016 Brisbane Writers’ Festival, novelist Lionel Shriver defied our era’s sensibilities by donning a sombrero and declaring that the work of an author necessarily involves “putting on other people’s hats”—that is, imagining her way into their worlds in a manner that the new prohibitions on cultural appropriation seek to prevent. The well-known boy’s-life guru Jordan Peterson, for his part, <a href="https://www.youtube.com/watch?v=NNUcR-eMxaE">has observed</a> that “there’s no difference between cultural appropriation and learning from each other.” &nbsp;</p><p>These arguments are true enough. Art has no higher purpose than to transcend our limited, provincial subjectivity. And there is no more edifying or noble pursuit than learning from others whose subjectivities differ from our own. But we would do well to rethink our apprehension regarding cultural appropriation for another, more important reason: individual cultures are variations on a fairly limited range of patterns that are grounded in human nature. </p><p>All human beings are the product of the same evolutionary forces. We all have the same brains, and the same mortal bodies, more or less, and we all inhabit the same natural world. A return to an unafraid universalism regarding human nature would require us to pay attention to the ways in which the history of culture as an idea has contributed to our fragmentation. It is no mere coincidence that the word that came to be used for the vital and unique character of particular human communities is the same as the word used to describe the bacteria that give yogurt its strange essence. Early culture theorists like J. G. Herder were motivated by their rejection of the universalist orientation of the Enlightenment, which—in spite of its claim to belong to no particular soil or tradition—seemed to many to speak with a distinctly French accent. Over the course of Herder’s lifetime, significant portions of the German-speaking world, fragmented into a vast number of politically and militarily feeble duchies, principalities and margraviates, came under the occupation of an expansionist French empire. It was only natural to interpret French claims to represent a universalist civilization as politically motivated.</p><p>To oppose this Enlightenment conception of civilization, German intellectuals adopted a metaphor of organic growth. It contrasted the form of life that develops spontaneously in a particular soil to the purportedly universal, or universalizable, condition to which modern man might aspire through force of will, ingenuity, planning and hard work. To that end, Herder exhorted his countrymen to “speak German, O you Germans” and to “spew out ... the ugly slime of the Seine.” Yet, while Herder hated the <em>conceit</em> of universality, which he saw as a pretext for one group of people to impose their form of life on another, he regarded individual human cultures as the distinct local inflections of patterns of behavior that may be found wherever there are human beings—and viewed no culture as either superior to or totally distinct from any other.</p><p>This basic understanding shaped the emergent field of anthropology. For all its complicity with imperialism, the discipline demonstrates that there is a possible third way between the hierarchical measurement of progress implicit in the idea of civilization and the bleak atomism of provincial exceptionalisms. For most early anthropologists, the human species is one, and the variety of its cultures is a flourish upon that underlying unity. To lose sight of this unity is as great a failure as to forget to value cultural specificity. As G. W. Leibniz put it as early as the seventeenth century, both the entire natural world and the human world contained within it are characterized by “unity in variety.”</p><p>Even when we can find no evidence of borrowing between two cultures, or when they are geographically remote from one another, what those cultures are <em>doing</em>—what they are cooking, sewing and singing—is not <em>theirs</em> in any robust sense. Cultural properties are really only a local modulation of species-specific capacities, part of a natural, evolved repertoire of human behavior. </p><p>A version of this naturalistic universalism came to dominate mid-twentieth-century theories of language, thanks in no small measure to Noam Chomsky’s theory of universal grammar. &nbsp;Vladimir Propp identified the thirty-one basic structural elements of folktales, showing that to tell a story is not so much to engage in pure literary invention as to follow the rules of a combinatorial game. Claude Lévi-Strauss pursued this project further by seeking the underlying patterns in Native North American myths, while Alan Lomax studied the folk music of the American South, the Caribbean and Eastern Europe in order to build an invaluable archive of cultural expressions.</p><p>Like many of his contemporaries, Lomax was driven by a desire “to explore and sustain the world’s expressive traditions with humanistic commitment and scientific engagement.” It is just such commitment and engagement—such love of culture and of learning about other cultures—that the campaign against cultural appropriation would, should it prove successful, destroy. </p><p>Many uses of other cultures’ productions truly are morally wrong. Some are even materially and politically harmful. But this is not in virtue of whatever element of appropriation they may involve. Rather, it is usually because someone else’s culture is being used in an exploitative way—and is thus wrong in the same way all forms of exploitation are wrong.</p><p>The opponents of cultural appropriation fail to identify the real sources of exploitation. It is not, for example, the individual “white” American musician who is guilty of exploitation, unable as he is to avoid channeling the Black musical forms in which he has been immersed his whole life. It is the record companies that cynically promote him, even as they deny the same opportunities to equally talented Black artists. </p><p>We can see one egregious example of this misunderstanding in the infernal question of Halloween costumes. It is not enough to problematize cultural appropriation by invoking the common slogan <em>my culture is not a costume</em>. For it is difficult to see what a culture could be other than the sum total of such things as recipes, songs, lines of epic poetry, prayers and, yes, costumes. I myself have memorized significant portions of Sakha epic poetry, and have worn the traditional costumes associated with its recitation—in order to work my way into the culture as best I can, with the encouragement of those born into it. Anyone who insists that a culture is not a costume has never put on the right costume in the right cultural context. What the slogan really should signal is opposition to the decontextualized appearance of serious elements of culture in a setting of charivari and subversion. </p><p>The venerable tradition of Halloween upends our ordinary values and rules of conduct, and, in such a context, the natural presumption is that one’s clothes are chosen specifically to make one look foolish or savage. Combine this carnivalesque element—which has equivalents all over the world—with the cynical incentives of the contemporary commercial behemoth into which Halloween has been swallowed up, and it is not difficult to see why many people frown at the sight of some …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.persuasion.community/p/the-joy-of-appropriation">https://www.persuasion.community/p/the-joy-of-appropriation</a></em></p>]]>
            </description>
            <link>https://www.persuasion.community/p/the-joy-of-appropriation</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235996</guid>
            <pubDate>Fri, 21 Aug 2020 16:02:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple and Microsoft performance virtually tied since Jobs]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24235862">thread link</a>) | @toado85
<br/>
August 21, 2020 | https://stockcomps.com/apple-microsoft-stock-compare | <a href="https://web.archive.org/web/*/https://stockcomps.com/apple-microsoft-stock-compare">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://stockcomps.com/apple-microsoft-stock-compare</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235862</guid>
            <pubDate>Fri, 21 Aug 2020 15:50:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Golden Gates: Fighting for Housing in America – Conor Dougherty]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24235859">thread link</a>) | @jseliger
<br/>
August 21, 2020 | https://jakeseliger.com/2020/08/21/golden-gates-fighting-for-housing-in-america-conor-dougherty/ | <a href="https://web.archive.org/web/*/https://jakeseliger.com/2020/08/21/golden-gates-fighting-for-housing-in-america-conor-dougherty/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<div>
						<p><a href="https://www.amazon.com/Golden-Gates-Fighting-Housing-America/dp/0525560211?ie=UTF8&amp;tag=thstsst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957"><em>Golden Gates: Fighting for Housing in America</em></a> is up there with <em><a href="https://www.amazon.com/Rent-Too-Damn-High-Matters-ebook/dp/B0078XGJXO?ie=UTF8&amp;tag=thstsst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957">The Rent Is Too Damn High</a></em>, where it foregrounds what should be if not the top, then one of the top policy issues in the country. “<a href="https://www.nytimes.com/2020/02/13/business/economy/housing-crisis-conor-dougherty-golden-gates.html">Build Build Build Build Build Build Build Build Build Build Build Build Build Build</a>: When California’s housing crisis slammed into a wealthy suburb, one public servant became a convert to a radically simple doctrine” is an excerpt that gives much of the book’s flavor. While I personally like books and papers that use abstract reasoning to make their points, most people don’t, and need stories to understand the world: “Build Build Build” uses Steve Falk’s story to explain why even liberty-shy Californians are sometimes coming around to letting the state change a bit. Most importantly, a baby boomer like him began to see that his own kids’s lives were being constricted by the odious zoning monster that almost all municipalities in California have fed:</p>
<blockquote><p>Mr. Falk began his career on the local control side of that debate. But somewhere along the Deer Hill odyssey, he started to sympathize with his insurrectionist opponents. His son lived in San Francisco and paid a fortune to live with a pile of roommates. His daughter was a dancer in New York, where the housing crunch was just as bad. It was hard to watch his kids struggle with rent and not start to think that maybe Ms. Trauss had a point.</p></blockquote>
<p>New York and San Francisco are strangling their young, and even their middle-aged, in ways that many local politicians aren’t adequately grappling with. <em>Golden Gates</em> expertly surfaces ideas about what is or should be “normal” and whether those things should be normal:</p>
<blockquote><p><img loading="lazy" data-attachment-id="6570" data-permalink="https://jakeseliger.com/2020/08/21/golden-gates-fighting-for-housing-in-america-conor-dougherty/golden_gates/" data-orig-file="https://jseliger.files.wordpress.com/2020/08/golden_gates.jpg" data-orig-size="329,499" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="golden_gates" data-image-description="" data-medium-file="https://jseliger.files.wordpress.com/2020/08/golden_gates.jpg?w=198" data-large-file="https://jseliger.files.wordpress.com/2020/08/golden_gates.jpg?w=329" src="https://jseliger.files.wordpress.com/2020/08/golden_gates.jpg?w=198&amp;h=300" alt="" width="198" height="300" srcset="https://jseliger.files.wordpress.com/2020/08/golden_gates.jpg?w=198&amp;h=300 198w, https://jseliger.files.wordpress.com/2020/08/golden_gates.jpg?w=99&amp;h=150 99w, https://jseliger.files.wordpress.com/2020/08/golden_gates.jpg 329w" sizes="(max-width: 198px) 100vw, 198px">Patterned on the American mind, in ways we rarely stop to notice, are layers of zoning and land-use rules that say what can be built where. They are so central to how American cities look and operate that they have become a kind of geographic DNA that forms our opinion of what seems proper and right.</p></blockquote>
<p>But what is perceived as normal—what is “patterned”—may not be “proper and right,” even if what’s regarded as “proper and right” gets unfairly mapped to normal. The “layers” of zoning and other rules occur at the neighborhood level, city level, sometimes the county level, and sometimes the state level: each veto point chokes off potential projects and creates a kind of suffocating conformity that has drained cities’s vitality, without many people noticing. Somehow, preventing anyone from doing much of anything almost anywhere is said to increase vitality: instead, we get suffocating rents, millennials who are now themselves reaching into middle age and yet often feel they can’t afford to have kids, because who’s going to pay the rent, let alone the health insurance and the student loans?</p>
<p>We need more freedom and greater liberalization—or at least that’s the framing that I’d choose, using the thinking behind George Lakoff’s work on the language of political ideas. Oddly, though, the most reactionary groups in local housing fights tend to frame themselves as preserving freedom—the freedom from having other people make any changes in their neighborhoods. The result, as Doherty writes, is that “In effect, we shattered urban regions into a constellation of smallish cities and reactionary single-family house neighborhoods whose influence over local land use decisions give them an astounding amount of control over how much shelter we build, where, and at what cost.” The problem goes back decades—”City planners started documenting the urban housing shortage in the 1970s, and in the decades since economists have shown that many of the country’s highest-income regions have become so expensive that they have all but gated out middle-class jobs and people”—but problems that compound enough over time become enormous and menacing.</p>
<p>Housing can’t be both a good investment and an affordable place to live. Preferring one goal intrinsically compromises the other. For the last five decades, we’ve tried to make housing an investment that yields above-market returns: consequently, it’s now incredibly expensive in many productive cities. Perhaps the biggest way we may see changes in this dynamic is through changes in the composition of renters versus owners. <a href="https://www.cnbc.com/2017/01/31/invitation-homes-raises-154-billion-in-ipo-source.html">Invitation Homes</a> is now one of the largest landlords in the country, and it specializes in buying single-family houses (or “oneplexes”) and renting them out. That’s it. The company has realized that the not-in-my-backyard (NIMBY) phenomenon is also a business opportunity. Airbnb exists in part because most cities forbid hoteliers from building sufficient hotel capacity—so renting private housing units is an arbitrage on those rules. <a href="https://www.canvascoliving.com/">Canvas Co-Living</a> is a startup that is working to allow “facilitated shared homes.”</p>
<p><em>Golden Gates’s</em> best story may be that of Sonja Truss, a woman who was tired of the Bay Area’s relentless housing cost increases—so she decided to do something about it:</p>
<blockquote><p>But for a young adult with no obvious signs of intoxication to show up at a midday city meeting to say she was just generally in favor of housing because San Francisco didn’t have enough of it? That made no sense. Nobody attended eight-hour city meetings if they didn’t have to, and while the planning commission was a place of arguments and strange behavior, it was also a place where people at least knew where each other’s lanes were.</p></blockquote>
<p>She decided to scramble the lanes, by arguing that the problem isn’t too much housing but too little. She finds herself in weird ideological waters, because many people who proclaim their progressive bonafides are more conservative, in many ways, than the current occupant of the White House. Labeling one’s opponents is a big deal in Bay Area politics: “Only in San Francisco would a gay man who opposed the death penalty and marched in the local BDSM festival in leather straps have to argue he was truly of the left.” There are lots of racial politics involved too: many of the kinds of people who want to proclaim themselves to be opposed to racism nonetheless support housing and development policies that are racist in practice and effect.</p>
<p>Another chapter discusses <a href="https://factoryos.com/">Factory_OS</a>, a company that’s trying to do modular building. Housing is expensive for many reasons, with zoning at the top of the list—but the actual cost of construction is high, and, in many high-cost metros, the zoning drives up the cost of construction. Why? As zoning artificially restricts housing construction, the construction workers who build new housing have to pay more for existing housing, which means that they have to be paid more by anyone trying to build housing. One gets a kind of perverse ratchet that, again, ends with absurdities like San Francisco. Modular housing, <a href="https://www.vox.com/energy-and-environment/2020/1/15/21058051/climate-change-building-materials-mass-timber-cross-laminated-clt">like cross-laminated timber</a>, promises to reduce the cost of building. Unfortunately, building a housing factory is expensive up front, and the returns are spread across many years—leaving a wide space for bankruptcy. Previous efforts at modular housing have tended to fail when the market turns and the maker goes out of business. Dougherty points out that a recession could doom Factory_OS and its competitors. As of this writing, we’re already likely in the worst recession since 2008, and that was the worst since the Great Depression. What happens with the COVID Recession remains to be seen (the recession is made worse by many laid-off people being stuck with expensive leases and mortgages, due to decades of failure to build enough housing). One of the best ways to be successful in business is to start while a rising economy naturally lifts your company. Many business geniuses are really people with lucky timing—which isn’t to knock them: I’d love to have lucky timing too. As of July 23 2020, it appears that <a href="https://www.sfchronicle.com/business/article/Google-commits-over-100-million-of-1-billion-15428754.php">Google has promised to invest more money in Factory_OS</a>, so the company is still presumably alive. But it has an ominously small number of mentions in the media over the last year.</p>
<p><strong>One major thing might</strong> break the zoning logjam: by now, intellectuals and investors know the single-family zoning racket and know that single-family zoning is designed to enrich property owners. It’s not hard to figure out how to profit from above-market returns, as Invitation Homes has: buy the asset. But as investment funds buy single-family properties, the composition of renters versus owners will change, and more renters will be part of the voting pool. If renters can figure out how supply and demand work—a big “if,” given anti-market bias—they’ll vote to expand the supply of housing. So far, we’ve not seen much of this dynamic, but, as the costs of housing continue to increase, we might see more of it as people go looking for answers. Voters can ineffectively blame landlords and “greedy” developers, or they can effectively look for solutions. <em>Golden Gates</em> is part of the solutions firmament, if enough people read it and change their behavior based on new knowledge. That’s a big “if,” however.</p>
<p>To me, it remains strange and interesting that many people who are superficially interested in lowering housing costs won’t believe that the obvious solution, known for centuries—since the time of Adam Smith—to high prices is greater supply. Any solution that is not “more supply” will entail shortages. We can’t legislate away supply and demand. Yet a common urban trope involves blaming the people attempting to respond to price signals with more product for being “greedy.” The ineffectiveness of this response is obvious, but until recently there’s been no organized political response to the problem. Dougherty is chronicling that response—and telling the stories of the people responding.</p>
<hr>
<p><a href="https://www.wsj.com/articles/golden-gates-review-build-it-here-build-it-now-11584398214">A review in an interesting venue</a>. There should be bipartisan support for zoning reform.</p>
					</div><!-- .entry-content -->
	</div></div>]]>
            </description>
            <link>https://jakeseliger.com/2020/08/21/golden-gates-fighting-for-housing-in-america-conor-dougherty/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235859</guid>
            <pubDate>Fri, 21 Aug 2020 15:50:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The crazy story of how we got our .com domain]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24235827">thread link</a>) | @yeldarb
<br/>
August 21, 2020 | https://blog.roboflow.com/acquiring-the-dot-com-domain/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/acquiring-the-dot-com-domain/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p>For almost a year, Roboflow has lived at roboflow.ai. It's served us well but we have always lusted after the dot com. No longer! We managed to acquire roboflow.com from the giant German company that owned it since 2001.</p><h2 id="the-history">The history</h2><p>When we chose the name, we did diligence to ensure that it was available and found that the .com was owned by a German fluid control system company called Bürkert.</p><figure><img src="https://blog.roboflow.com/content/images/2020/08/image-35.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/08/image-35.png 600w, https://blog.roboflow.com/content/images/size/w1000/2020/08/image-35.png 1000w, https://blog.roboflow.com/content/images/size/w1600/2020/08/image-35.png 1600w, https://blog.roboflow.com/content/images/2020/08/image-35.png 2278w" sizes="(min-width: 720px) 720px"><figcaption>The domain just redirected to their homepage.</figcaption></figure><p>After some digging, we discovered that they had acquired a company called Robolux in 2005 that previously had a product called Roboflow. But, after the acquisition, it was discontinued and the trademark expired in 2009.</p><figure><img src="https://blog.roboflow.com/content/images/2020/08/image-36.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/08/image-36.png 600w, https://blog.roboflow.com/content/images/size/w1000/2020/08/image-36.png 1000w, https://blog.roboflow.com/content/images/size/w1600/2020/08/image-36.png 1600w, https://blog.roboflow.com/content/images/2020/08/image-36.png 1718w" sizes="(min-width: 720px) 720px"><figcaption>They abandoned the mark in 2009.</figcaption></figure><p>That gave me some hope that we could someday acquire the domain, but we wanted to wait until we were on more solid footing before reaching out. We assessed the probability of a giant company selling us one of their domains as "slim" (and the chances we could afford the asking price even if they were willing to part with it as even smaller).</p><h2 id="reaching-out">Reaching Out</h2><p>Things have been growing fast at Roboflow over the past few months so, earlier this summer, we decided it wouldn't hurt to start a conversation to buy the domain. We figured doing this before announcing any funding would be a good strategy so they wouldn't Google us and jack up the price.</p><p>I took a stab in the dark and messaged one of the only people at the company I could find on LinkedIn with open messaging enabled, a salesperson in California. He didn't know what to do so he connected me with someone in marketing.</p><figure><img src="https://blog.roboflow.com/content/images/2020/08/image-37.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/08/image-37.png 600w, https://blog.roboflow.com/content/images/2020/08/image-37.png 976w" sizes="(min-width: 720px) 720px"><figcaption>To my surprise, he replied!</figcaption></figure><p>This guy was super helpful. A few days later, he gave me the email of someone in IT at the headquarters in Germany that I should talk to.</p><p>That person in IT gave me the email of the person in eCommerce tasked with managing the domain names of the company. I sent an up-front email with the history I had researched and crossed my fingers that she would be willing to help.</p><figure><img src="https://blog.roboflow.com/content/images/2020/08/inquiry.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/08/inquiry.png 600w, https://blog.roboflow.com/content/images/size/w1000/2020/08/inquiry.png 1000w, https://blog.roboflow.com/content/images/2020/08/inquiry.png 1312w" sizes="(min-width: 720px) 720px"><figcaption>No misdirection; just an up-front ask to buy the domain.</figcaption></figure><p>A week went by and I heard nothing back. I was beginning to lose hope at this point. But I followed up to see if the internal discussions had happened at all and, if so, whether they had yielded any decision.</p><p>The next morning, I awoke to a reply in my inbox from the contact at Burkert. My heart skipped a beat and all of the sudden thoughts of million dollar price tags entered my head. There was no way, I thought, that we'd be able to afford the domain even if they were willing to sell.</p><p>I clicked the email and...</p><h2 id="the-offer">The offer</h2><p>To my surprise, they were willing to sell at a reasonable price!</p><figure><img src="https://blog.roboflow.com/content/images/2020/08/image-39.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/08/image-39.png 600w, https://blog.roboflow.com/content/images/size/w1000/2020/08/image-39.png 1000w, https://blog.roboflow.com/content/images/2020/08/image-39.png 1102w" sizes="(min-width: 720px) 720px"><figcaption>Success!</figcaption></figure><p>What I wanted to reply was "HECK YES" but I didn't want to blow the deal by tipping my hand that we had been prepared to pay much more.</p><p>I waited a half hour or so and sent a more tempered reply.</p><figure><img src="https://blog.roboflow.com/content/images/2020/08/image-41.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/08/image-41.png 600w, https://blog.roboflow.com/content/images/size/w1000/2020/08/image-41.png 1000w, https://blog.roboflow.com/content/images/2020/08/image-41.png 1306w" sizes="(min-width: 720px) 720px"><figcaption>Woohoo!!!</figcaption></figure><h2 id="the-transfer">The transfer</h2><p>After that, the domain provider sent me their bank info and I blindly wired the money overseas. After almost another week of waiting I received confirmation that the payment had come through and got the transfer codes.</p><p>It still felt a little bit surreal at this point. But when the domain showed up in our account and I was able to transfer the name servers and point the DNS at our homepage it all sunk in. We leveled up.</p><p>It's time to start the next chapter in our story as <a href="https://roboflow.com/">roboflow.com</a></p></div>
                
              </div>
            </div></div>]]>
            </description>
            <link>https://blog.roboflow.com/acquiring-the-dot-com-domain/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235827</guid>
            <pubDate>Fri, 21 Aug 2020 15:46:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[But I was helping the compiler]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 38 (<a href="https://news.ycombinator.com/item?id=24235783">thread link</a>) | @aw1621107
<br/>
August 21, 2020 | https://pankajraghav.com/2020/08/16/RVO.html | <a href="https://web.archive.org/web/*/https://pankajraghav.com/2020/08/16/RVO.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Compilers are getting better with each release. Sometimes a noticeable difference can be observed in the assembly output for the same piece code in a different version of the same compiler (can be easily done via <a href="https://godbolt.org/">compiler explore</a>).</p>

<p>I have gotten into the practice of checking the assembly output lately to analyze the overhead of various implementations. Beware, sometimes it can get addictive. But I think it is a nice way of learning to read assembly and also be amazed at how clever the compilers are these days.</p>

<p>In this article, I am going to cover one such incident that happened when I was looking at the assembly output of a function during my <a href="https://github.com/Panky-codes/CHIP8">CHIP8</a> implementation.</p>

<p>But the context of the problem first!</p>

<h2 id="the-magic-of-move-semantics">The magic of move semantics</h2>
<p>Move semantics was introduced in C++11. We can think of move semantics as a way of transferring ownership of an object. If you are really new to move semantics, consider the following example:</p>

<p>So your colleague has a document that you also want. We have two options here. The first option, you take that document to a copier, take a copy of the document for yourself, and return the original document to your colleague. The second option, assuming your colleague doesn’t need the document anymore, instead of throwing it away, your colleague can give it to you, thereby, saving paper.</p>

<p>Replace the document with a memory resource in a program, then the first option is doing a copy, and the second option is doing a move, where you transfer the ownership instead of wasting the resource.</p>
<h2 id="putting-what-i-learned-in-action">Putting what I learned in action</h2>
<p>While implementing my <a href="https://github.com/Panky-codes/CHIP8">CHIP8</a> emulator, I saw an opportunity to replace an expensive copy operation into a cheap move operation (at least that is what I thought).</p>

<p>To give a bit of context: In each frame cycle, I had to return an array containing 2048 integers that will be used to draw the graphics on the screen. The pseudo-C++ code is shown below:</p>

<div><div><pre><code><span>// chip8.cpp</span>
<span>static</span> <span>constexpr</span> <span>display_size</span> <span>=</span> <span>2048</span><span>;</span>
<span>class</span> <span>Chip8</span> <span>{</span>
    <span>...</span> 
    <span>public</span> <span>:</span> 
        <span>std</span><span>::</span><span>array</span><span>&lt;</span><span>uint8_t</span><span>,</span> <span>display_size</span><span>&gt;</span> <span>get_display_pixels</span><span>()</span> <span>{</span>
              <span>// Do some computation</span>
              <span>return</span> <span>gfx</span><span>;</span>
          <span>}</span>
    <span>...</span> 
    <span>private</span> <span>:</span> 
        <span>std</span><span>::</span><span>array</span><span>&lt;</span><span>uint8_t</span><span>,</span> <span>display_size</span><span>&gt;</span> <span>gfx</span><span>{};</span>
<span>};</span>

<span>// main.cpp</span>
<span>while</span> <span>(</span><span>displayOn</span><span>)</span> <span>{</span>
    <span>...</span> 
    <span>const</span> <span>auto</span> <span>disp_pixels</span> <span>=</span> <span>emulator</span><span>.</span><span>get_display_pixels</span><span>();</span>
    <span>...</span>
    <span>// Use disp_pixels to draw pixels on the screen</span>
<span>}</span>
</code></pre></div></div>

<p>This is what I assumed was going on when I did the call to <code>get_display_pixels()</code> member function:</p>
<ol>
  <li>The compiler <code>copies</code> the <code>gfx</code> private variable of the <code>Chip8</code> class to the return value of the <code>get_display_pixels()</code> member function.</li>
  <li>The compiler calls the <code>copy constructor</code> to copy the return value of the function call to the <code>disp_pixels</code> variable.</li>
</ol>

<p>So, I concluded that I could use a <code>move constructor</code> to transfer the contents to my local variable <code>disp_pixels</code> to avoid a copy in the second step as described above.</p>

<p>So I changed my code in the <code>main</code> function as follows:</p>
<div><div><pre><code><span>// main.cpp</span>
<span>while</span> <span>(</span><span>displayOn</span><span>)</span> <span>{</span>
    <span>...</span> 
    <span>const</span> <span>auto</span> <span>disp_pixels</span> <span>=</span> <span>std</span><span>::</span><span>move</span><span>(</span><span>emulator</span><span>.</span><span>get_display_pixels</span><span>());</span>
    <span>...</span>
    <span>// Use disp_pixels to draw pixels on the screen</span>
<span>}</span>
</code></pre></div></div>

<p>Before you get furious and stop reading the article further because what I assumed was completely wrong, I realized that too, and the rest of the article is about that.</p>

<p>As soon as I used a <code>std::move</code> as shown in my previous code snippet, I observed the compiler was generating more assembly code than my initial code without a <code>std::move</code>(with std::move: <a href="https://godbolt.org/z/WulpDX">link</a>, without std::move: <a href="https://godbolt.org/z/oU8Tq4">link</a>).</p>

<p>What went wrong? Hmm….</p>
<h2 id="nrvo-to-the-rescue">NRVO to the rescue</h2>
<p>NRVO stands for Named Return Value Optimization. It is a nice trick that the compiler uses to omit unnecessary copy or move if certain conditions are met. Compilers have been using this trick for a long time. If <code>NRVO</code> takes place in our function call, then effectively we just do one copy instead of two. Let’s see how it works.</p>

<p>Even though the function signature of <code>get_display_pixels</code> indicates that it does not take any parameters, the compiler will pass one extra parameter behind the scenes from the caller (initialization call of <code>disp_pixels</code> from <code>main.cpp</code>) to the callee (<code>get_display_pixels</code> function in <code>chip8.cpp</code>). The caller will allocate the memory for the return value and pass the address of that memory to the callee. The callee will use that memory to construct the object and copy the value of the private variable <code>gfx</code> (in this case). As the memory of the caller (<code>disp_pixels</code>) was used by the callee, there is no need to copy the return value again, thereby, saving one unnecessary copy/move operation.</p>

<p>We should see the assembly output to really understand how <code>NRVO</code> is happening under the hood. The assembly code from the caller side is as follows:</p>
<div><div><pre><code><span>1</span>   <span>lea</span>  <span>rax</span><span>,</span> <span>[</span><span>rbp</span><span>-</span><span>16384</span><span>]</span>
<span>2</span>   <span>lea</span>  <span>rdx</span><span>,</span> <span>[</span><span>rbp</span><span>-</span><span>8192</span><span>]</span>
<span>3</span>   <span>mov</span>  <span>rsi</span><span>,</span> <span>rdx</span>
<span>4</span>   <span>mov</span>  <span>rdi</span><span>,</span> <span>rax</span>
<span>5</span>   <span>call</span> <span>Chip8</span><span>::</span><span>get_display_pixels</span><span>()</span>
</code></pre></div></div>
<p>Before the function call, <code>rsi</code> and <code>rdi</code> registers are loaded with upper and lower bound of the memory address of the <code>disp_pixels</code> variable. And, the trimmed assembly output from the callee side is as follows:</p>

<div><div><pre><code><span>1</span>   <span>Chip8</span><span>::</span><span>get_display_pixels</span><span>()</span><span>:</span>
<span>2</span>   <span>push</span> <span>rbp</span>
<span>3</span>   <span>mov</span>  <span>rbp</span><span>,</span> <span>rsp</span>
<span>4</span>   <span>mov</span>  <span>QWORD</span> <span>PTR</span> <span>[</span><span>rbp</span><span>-</span><span>8</span><span>],</span> <span>rdi</span>
<span>5</span>   <span>mov</span>  <span>QWORD</span> <span>PTR</span> <span>[</span><span>rbp</span><span>-</span><span>16</span><span>],</span> <span>rsi</span>
<span>...</span>
</code></pre></div></div>
<p>As seen from the callee side, the <code>rdi</code> and <code>rsi</code> values are moved to the stack, and further operations are performed with that memory address. Pretty neat!</p>

<p>A <code>simple analogy</code> for <code>NRVO</code> I like to think of is when you are asking a friend to fill in water inside a water bottle, you would give your bottle to fill water from the tap directly. It would be inefficient to first fill the water in a temporary bottle and transfer the contents again to your bottle. In the C++ context, <code>bottle</code> is the <code>memory space</code> and the <code>water</code> it holds is the <code>return value</code>.</p>

<p>If we assume that the  <code>NRVO</code> will take place, then the most efficient way of writing my function call is:</p>
<div><div><pre><code><span>// main.cpp</span>
<span>while</span> <span>(</span><span>displayOn</span><span>)</span> <span>{</span>
    <span>...</span> 
    <span>const</span> <span>auto</span> <span>disp_pixels</span> <span>=</span> <span>emulator</span><span>.</span><span>get_display_pixels</span><span>();</span>
    <span>...</span>
    <span>// Use disp_pixels to draw pixels on the screen</span>
<span>}</span>
</code></pre></div></div>
<p>GCC and Clang even have an extra warning flag <code>-Wpessimizing-move</code> which detects when we are trying to use a <code>move</code> where compiler-generated NRVO is much more efficient.</p>

<p>Even though we can assume in many situations that a <code>NRVO</code> will take place, especially if optimizations are turned on, C++ standard does not guarantee <code>NRVO</code> in all situations<sup>1</sup>. But what if compiler does not perform a <code>NRVO</code>?</p>
<h2 id="lvalues-and-rvalues-and-all-other-value-categories-in-between">Lvalues and Rvalues (and all other value categories in between)</h2>
<p>Even though there are some <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2025r0.html">proposals</a> to guarantee <code>NRVO</code>, it is not yet guaranteed by the standard. As it is not guaranteed, should we explicitly indicate a move operation to save a copy just in case the compiler doesn’t do a <code>NRVO</code>? To answer that, I added the flag <code>-fno-elide-constructors</code> that disables copy elision (the super-set of NRVO) in our code, thereby, allowing to see what the compiler does otherwise.</p>

<p>I was surprised to see that compiler was still performing a <code>NRVO</code> for <code>C++17</code> standard with <code>-fno-elide-constructors</code> enabled. But this was not the case for <code>C++14</code>, the compiler generated different assembly with <code>-fno-elide-constructors</code> enabled. If someone knows the reason why this difference occurs between <code>C++17</code> and <code>C++14</code> even though <code>NRVO</code> is not guaranteed, please email me about it. Godbolt <a href="https://godbolt.org/z/hPW3rh">link</a>.</p>

<p>Let’s use <code>C++14</code> with <code>-fno-elide-constructors</code> flag to simulate the scenario where the compiler fails to apply <code>NRVO</code> so that we can check whether we needed to do something extra to avoid superfluous copies.</p>

<p>So I added <code>-fno-elide-constructors</code> to disable any <code>NRVO</code> to the final code of the previous section. The caller generated the following assembly code:</p>

<div><div><pre><code><span>1</span>   <span>lea</span>  <span>rdx</span><span>,</span> <span>[</span><span>rbp</span><span>-</span><span>8192</span><span>]</span>
<span>2</span>   <span>lea</span>  <span>rax</span><span>,</span> <span>[</span><span>rbp</span><span>-</span><span>16384</span><span>]</span>
<span>3</span>   <span>mov</span>  <span>rsi</span><span>,</span> <span>rdx</span>
<span>4</span>   <span>mov</span>  <span>rdi</span><span>,</span> <span>rax</span>
<span>5</span>   <span>call</span> <span>Chip8</span><span>::</span><span>get_display</span><span>()</span>
<span>6</span>   <span>lea</span>  <span>rdx</span><span>,</span> <span>[</span><span>rbp</span><span>-</span><span>8192</span><span>]</span>
<span>7</span>   <span>lea</span>  <span>rax</span><span>,</span> <span>[</span><span>rbp</span><span>-</span><span>16384</span><span>]</span>
<span>8</span>   <span>mov</span>  <span>rsi</span><span>,</span> <span>rdx</span>
<span>9</span>   <span>mov</span>  <span>rdi</span><span>,</span> <span>rax</span>
<span>10</span>  <span>call</span> <span>std</span><span>::</span><span>array</span><span>&lt;</span><span>unsigned</span> <span>char</span><span>,</span> <span>32ul</span><span>&gt;::</span><span>array</span><span>(</span><span>std</span><span>::</span><span>array</span><span>&lt;</span><span>unsigned</span> <span>char</span><span>,</span> <span>32ul</span><span>&gt;&amp;&amp;</span><span>)</span>
</code></pre></div></div>

<p>As we can notice, the first 5 assembly instructions are the same as the version with NRVO enabled, and there are 5 more assembly instructions in this version as we disabled NRVO. The most important instruction we need to focus on is line number 10 where a <code>move constructor</code>(notice <code>&amp;&amp;</code> in the function signature). Wait, a <code>move constructor</code> is invoked? I did not use a <code>std::move</code> but the compiler decided to do it anyway. To really comprehend the reason, we need to understand <code>value categories</code> in C++.</p>

<p>In these two articles: <a href="https://eli.thegreenplace.net/2011/12/15/understanding-lvalues-and-rvalues-in-c-and-c">Understanding lvalues and rvalues in C and C++ </a> and <a href="http://eel.is/c++draft/basic.lval#1">basic.lval#1</a>, value categories are explained in detail<sup>2</sup>. In brief, quoting from the first article: “An lvalue (locator value) represents an object that occupies some identifiable location in memory. Rvalue is an expression that does not represent an object occupying some identifiable location in memory.”. Of course, there are more categories than just a <code>lvalue</code> and a <code>rvalue</code>. I would highly recommend reading both articles. Though you don’t need a perfect grasp of them to understand what comes later in this article. Let’s get back to our original example and analyze why the move constructor was called.</p>

<div><div><pre><code><span>// main.cpp</span>
<span>while</span> <span>(</span><span>displayOn</span><span>)</span> <span>{</span>
    <span>...</span> 
    <span>const</span> <span>auto</span> <span>disp_pixels</span> <span>=</span> <span>emulator</span><span>.</span><span>get_display_pixels</span><span>();</span>
    <span>...</span>
    <span>// Use disp_pixels to draw pixels on the screen</span>
<span>}</span>
</code></pre></div></div>
<p>In the above code snippet, the function call to <code>get_display_pixels</code> belongs to the <code>rvalue</code> (more precisely a <code>prvalue</code>) category and it generates a temporary. The compiler can now safely <code>move</code> that temporary into the <code>disp_pixels</code> variable because that temporary will be destroyed anyway after this statement. If the type that is being returned does not have a move constructor (in our case <code>std::array</code> has a move constructor), then the compiler will call the <code>copy constructor</code>.</p>

<p>In principle, if any of the <code>moveable</code> types (standard or user-defined) is returned from a function by <code>value</code>, we can safely assume either <code>NRVO</code> or <code>move operation</code> will take place resulting in no superfluous copies for standard compilers that support <code>C++11</code> and above.</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pankajraghav.com/2020/08/16/RVO.html">https://pankajraghav.com/2020/08/16/RVO.html</a></em></p>]]>
            </description>
            <link>https://pankajraghav.com/2020/08/16/RVO.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235783</guid>
            <pubDate>Fri, 21 Aug 2020 15:41:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Pen Plotter, the Rust, and the Shed]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24235632">thread link</a>) | @cmsj
<br/>
August 21, 2020 | http://blog.pzs.me/posts/pen-plotter/ | <a href="https://web.archive.org/web/*/http://blog.pzs.me/posts/pen-plotter/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/p2mess_zoom_hu8e325a65af689050d72be44b66a03b9f_716964_636x0_resize_q75_box.jpg" alt="Penrose P2 mess" data-zoom-src="/posts/pen-plotter/images/p2mess_zoom.jpg" data-zoomable=""><figcaption>Penrose P2 mess</figcaption></figure><p>For the last ~2 years, I’ve been making generative art. So far, it’s been bad for my health, wallet, sanity and general focus. I enjoy creating complex, emergent, generative content that makes your eyeballs perplexed and lost for a while until you figure out simple rules that are used to make it.</p><p>It all started when I was looking for a new toy project to write in the Rust programming language (which, itself, is super neat. Fighting with the borrow checker is 10/10 experience). I decided to make it draw pretty, silly things. Initially, I played with particles being affected by fields, which resulted in stuff like this:</p><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/star1_hu48a0a69b33a045876d91b7df7bdcad4f_1955328_636x0_resize_q75_box.jpg" alt="Particles trails, a lot of particles" data-zoom-src="/posts/pen-plotter/images/star1.jpg" data-zoomable=""><figcaption>Particles trails, a lot of particles</figcaption></figure><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/mantis_hudef7f76de08ea44bcc0eee363c479bae_2166917_636x0_resize_q75_box.jpg" alt="Particles trails, wobbling up and down" data-zoom-src="/posts/pen-plotter/images/mantis.jpg" data-zoomable=""><figcaption>Particles trails, wobbling up and down</figcaption></figure><p>Then, predictably, I got bored. Some time afterwards, I randomly found the art of <a href="http://robertfathauer.com/">Robert Fathauer</a> and I was mesmerized. <a href="http://robertfathauer.com/6FoldFTiling.html">6Fold Tiling</a> is a print made with a laser-cut woodblock. I had an access to a laser cutter at my work. I found <a href="http://www.fractalcurves.com/">Fractal Curves</a>, which is a great resource if you’re looking for funky, self-similar, fractal shapes. I played with <a href="http://www.fractalcurves.com/Root3.html">Terdragon</a> curve a bit. It’s a magnificent beast, can be tiled, it’s self avoiding, and the legend says it was found by Donald Knuth. I came up with some neat tesselations, burned two design plywood sheets with differing iteration steps. The results were quite pleasing. I did not stop there, and made a few other designs.</p><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/terdragons_hu27f7dc34c9db8fd2b063f3fba6be9864_314128_636x0_resize_q75_box.jpg" alt="Printing with laser-etched plywood" data-zoom-src="/posts/pen-plotter/images/terdragons.jpg" data-zoomable=""><figcaption>Printing with laser-etched plywood</figcaption></figure><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/IMG_20190227_192650_hub9bcfbd7fbe079a33acfd2e29bcc3094_526602_636x0_resize_q75_box.jpg" alt="L-system based design made with woodblock printing" data-zoom-src="/posts/pen-plotter/images/IMG_20190227_192650.jpg" data-zoomable=""><figcaption>L-system based design made with woodblock printing</figcaption></figure><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/MVIMG_20190227_194557_hu6c91ec9686bdb0086c368885c2bfcfd0_490600_636x0_resize_q75_box.jpg" alt="Another L-system, a &quot;recurrent mean frog&quot;" data-zoom-src="/posts/pen-plotter/images/MVIMG_20190227_194557.jpg" data-zoomable=""><figcaption>Another L-system, a "recurrent mean frog"</figcaption></figure><p>Sadly, laser-cut woodblock printing is very laborious and requires access to a beefy laser cutter. It’s fun from time to time, but I can’t see me doing it as a hobby. But, pen plotters! They have an active and healthy community of artists and hackers doing marvellous <a href="https://twitter.com/hashtag/plottertwitter">things</a> with them. They are usually built with mechanicals lifted from recent 3d printers. Steppers, Arduino, v-slots, etc. I got myself an EleksMaker EleksDraw pen plotter.</p><p>And I was very happy with it. It’s mesmerizing to watch. I used it mostly to generate some squiggles based on Penrose P2 tiling, some 3d renders using Michael Fogleman excellent <a href="https://github.com/fogleman/ln">ln art engine</a>, and some spirals.</p><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/IMG_20191113_200736_hu60a10dbc35e8b7122d3fdacc3a0ec497_1353701_636x0_resize_q75_box.jpg" alt="&quot;Squeres on Cubes&quot;" data-zoom-src="/posts/pen-plotter/images/IMG_20191113_200736.jpg" data-zoomable=""><figcaption>"Squeres on Cubes"</figcaption></figure><p>But I had this urge to go larger with my work. Obviously, larger == better :). I upgraded the long axis of EleksDraw with longer rails, but it made it very difficult to use. I blame gravity and my lack of understanding of physics. When extended to the furthest position, the penholder was sagging too low. When near, it was too high. Pen drops from large height are very unkind toa pen tip. I had to write down a special, slow pen up/down sequence that was making the plotting process painfully slow. Because of that, I started making a lot of single-line plots.</p><p>Recently I acquired a shed in my garden, It was an ideal excuse to go wild with my pen plotter obsession.</p><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/PXL_20200710_120008520_hu618f6de8682f0d9213d6858de3a74c01_525666_636x0_resize_q75_box.jpg" alt="The Shed. Yellow skinned, weirdly haired presence in my garden" data-zoom-src="/posts/pen-plotter/images/PXL_20200710_120008520.jpg" data-zoomable=""><figcaption>The Shed. Yellow skinned, weirdly haired presence in my garden</figcaption></figure><p>I decided to build a plotter using <a href="https://openbuilds.com/builds/openbuilds-acro-system.5416/">OpenBuilds Acro</a> 150x100 frame. I ordered one from <a href="https://ratrig.com/">RatRig</a>, and most of the electronics from <a href="https://ooznest.co.uk/">ooznest</a> (extremely reliable company, fast shipping times, but that’s probably because they are located fairly close :D). I cut down an MDF board to size, assembled the whole thing, connected motors to GRBL Arduino shield.</p><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/PXL_20200710_115940029_hu7fa27841d7f828a81e5890bf4d723758_978081_636x0_resize_q75_box.jpg" alt="The Plotter. Because of it's size, and terrible cabling,  it has been nicknamed 'Your mom'" data-zoom-src="/posts/pen-plotter/images/PXL_20200710_115940029.jpg" data-zoomable=""><figcaption>The Plotter. Because of it's size, and terrible cabling, it has been nicknamed 'Your mom'</figcaption></figure><p>Then I got some hard lessons on how steppers work. They do vibrate, that’s what they do. I spend multiple days trying to figure out if the problem is exacerbated by the frame, loose belts, steppers, wiring or electronics.</p><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/PXL_20200704_183342254_hucd8e8854f91f1da0f86932b0da09896d_84429_636x0_resize_q75_box.jpg" alt="Y axis wobbling. At low speeds, steepers were vibrating like excited toddlers" data-zoom-src="/posts/pen-plotter/images/PXL_20200704_183342254.jpg" data-zoomable=""><figcaption>Y axis wobbling. At low speeds, steepers were vibrating like excited toddlers</figcaption></figure><p>After a painful and long inspection, I found a culprit, it was <a href="https://ooznest.co.uk/product/drv8825-stepper-motor-driver/">DRV8825</a> stepper drivers. I got them because of their 1/32 microstepping and high current output. Apparently, using them is a bit like a lottery, either they work with your steppers without a problem, or they are a pain in the ass.</p><p>I had more luck with <a href="https://ooznest.co.uk/product/a4988-stepper-motor-driver">A4988</a> steppers, they were more reliable, and the wibbling decreased. But was still present, unless I limited the current to silly levels.</p><p>Then I got <a href="https://shop.watterott.com/SilentStepStick-TMC2209-Stepper-Motor-Driver">TMC2809</a> based drivers from Watterott. They are worth their weight in gold. Really smooth, motors are silent, there’s no wobbling.</p><p>Just in case, and to get better performance with higher speeds, I got myself some <a href="https://www.oriental-motor.co.uk/Products/Stepper_motors/Accessories/Accessories/Dampers/">clean dampers</a>, but they will have to wait for some dual-shaft steppers, so I can mount them easily.</p><p>This is the first A2 work I finished. I’m quite proud.</p><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/PXL_20200712_183148014_hu4e6e62bba50aeabbea985434601a816f_405040_636x0_resize_q75_box.jpg" alt="Human growth #1" data-zoom-src="/posts/pen-plotter/images/PXL_20200712_183148014.jpg" data-zoomable=""><figcaption>Human growth #1</figcaption></figure><figure><img src="http://blog.pzs.me/posts/pen-plotter/images/PXL_20200710_203221728_hudeaf633ca98413b9db1e5465eeaf09e0_436891_636x0_resize_q75_box.jpg" alt="P2 tiling hatching" data-zoom-src="/posts/pen-plotter/images/PXL_20200710_203221728.jpg" data-zoomable=""><figcaption>P2 tiling hatching</figcaption></figure></div></div>]]>
            </description>
            <link>http://blog.pzs.me/posts/pen-plotter/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235632</guid>
            <pubDate>Fri, 21 Aug 2020 15:22:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Dab detector – Pose recognition to detect when you dab]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24235391">thread link</a>) | @guimcaballero
<br/>
August 21, 2020 | https://caballerocoll.com/experiments/dab-detector/ | <a href="https://web.archive.org/web/*/https://caballerocoll.com/experiments/dab-detector/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Disclaimer:</strong> Don’t dab if you have epilepsy.</p>
<h2 id="dab-detector">Dab detector</h2>
<p>This is a simple experiment playing around with <a href="https://ml5js.org/" rel="nofollow noopener noreferrer" target="_blank">ml5.js</a>. It uses the PoseNet model to recognize when you <a href="https://en.wikipedia.org/wiki/Dab_(dance)" rel="nofollow noopener noreferrer" target="_blank">dab</a> and shows you a little surprise when you do.</p>
<p>To use it, make sure you are in a well <span title="💯😂👌💯">lit</span> environment, accept the camera use request, and stand up so that your whole body shows in the image.</p>
<h2 id="how-does-it-work">How does it work?</h2>
<p>It uses PoseNet, a ml5 model for Real-time Human Pose Estimation. With the data provided by the model, it preforms a really simple check to see if the pose should count as a Dab. It works by checking if the right hand is close to the left ear, and the angles of the elbows are above or under a specified threshold. Vice-versa for the left side. This is a very naive approach, and it wasn’t what I originally intended to do, but after implementing this as a prototype, I realized it worked much better than expected. You can see the function used in the code below, called <code>isPoseADab()</code>.</p>
<p>My plan was to train a simple categorization model using ml5, so it’s a bit of a shame that it doesn’t now. I intend to make some other experiment that does use that feature.</p>
<p>The video, skeleton and emojis are drawn using the <a href="https://p5js.org/" rel="nofollow noopener noreferrer" target="_blank">p5.js</a> rendering library, which works really well next to ml5.</p>
<h2 id="why">Why?</h2>
<p>Uuuhhh... Because my sense of humor got stuck a couple years ago and I non-ironically think this is funny. </p>
<p>In all seriousness, because I wanted to try something with pose recognition, and the first pose that came to mind that was interesting was a Dab.</p></div></div>]]>
            </description>
            <link>https://caballerocoll.com/experiments/dab-detector/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235391</guid>
            <pubDate>Fri, 21 Aug 2020 14:54:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tell Me I'm Working on Pretty Things]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24235373">thread link</a>) | @caiobegotti
<br/>
August 21, 2020 | https://productionwithscissors.run/2020/08/21/tell-me-im-working-on-pretty-things/ | <a href="https://web.archive.org/web/*/https://productionwithscissors.run/2020/08/21/tell-me-im-working-on-pretty-things/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p><em>Reward the behavior you seek</em></p>



<p>In the fable “The Golden Axe,” a woodcutter accidentally drops his axe in a river, losing his only means of support. The god Hermes takes pity on him and retrieves a golden axe from the river. The woodcutter replies that it was not his axe, so Hermes returns with a silver axe. Once again, the woodcutter says that axe was not his. The woodcutter only accepts when the god returns with his actual, lowly axe. Hermes, impressed with the woodcutter’s honesty, gives him all three axes.</p>



<p>When the woodcutter’s neighbor hears what had passed and covets the first woodcutter’s new wealth (golden axes apparently being worth quite a lot on the open market), he throws his own axe into the river to try to reap the same rewards. Hermes comes with a golden axe, which the neighbor claims is his. Hermes punishes his dishonesty by depriving him of the golden axe, the silver axe, and his own original axe.</p>



<hr>



<p>Picture an engineering team. One engineer, either by choice or by mediocre management, spends most of their time paying down technical debt, making proactive improvements to tooling and infrastructure, and building out low-friction ways to add monitoring for production applications.</p>



<p>Meanwhile, another engineer on the same team always seems to get the new, shiny projects to work on: the high visibility features, the highly-touted initiative to “increase engineering velocity” by breaking an application monolith into microservices (to be followed in a year by an equally-touted initiative to merge those microservices back into a monolith), or the fancy new customer product.</p>



<p>Both engineers may be equally skilled and work just as hard, but which one do you think will get the lion’s share of recognition? (If you answered, “The one doing critical glue work,” you either work in a singular organization or you’re seriously out of touch with reality.) And what happens when a new engineer joins the team? Someone who is neither a total narcissist who needs constant adoration nor a masochist who likes to suffer? After seeing the pattern of which engineer gets the public accolades, which behavior do you think they will more likely emulate? The one the team treats as most valuable, of course.</p>



<p>I worked at a company where anyone could nominate a co-worker for demonstrating one of the company “values.” Recipients would get recognized at company all-hands meetings. Let’s see if you can spot a problem here.</p>



<p>Customer success nominates an engineer who helped them troubleshoot a customer-facing problem. Hey, that sounds important, right?</p>



<p>Okay, but what if I tell you that that engineer was the one who pushed the code that broke the service in the first place? Um, well, you don’t want to punish engineers for making mistakes, right? Of course not, but do you really want to give them a t-shirt when they do?</p>



<p>What if I tell you that same engineer had ignored warnings in staging that indicated there were likely performance issues? (In the real-life version of this story, when I sent links to monitoring graphs to ask why we were seeing elevated values for Java heap usage, he replied that the QA team was probably running tests. “Did you ask them?” Crickets. Why didn’t I escalate before the deployment? Ask our common manager at the time what <em>my</em> reward tended to be when I tried to push for the product dev teams to take responsibility for their components’ quality and performance before it got pushed to production.)</p>



<p>The customer success team member who nominated him for helping out during the customer-facing issues did not know the issue’s backstory, though. This recognition system, while not intentionally built to reward “bad” behavior, had no guardrails to prevent rewarding counterproductive habits, either.</p>



<p>Meanwhile, another engineer might deliver a feature that sales can’t really hype to customers and marketing can’t really spin. The code goes live and nothing breaks. Crickets. On the one hand, yes, that engineer did their job and did it correctly. However, an engineer doing troubleshooting, whether for an issue they create in the first place or not, is also doing their job. Again, why does one engineer get recognized and the other does not?</p>



<p>“Human nature” and a number of cognitive biases come into play. We become habituated to things that maintain a predictable state or cadence. We only notice when they stop working, even though that long-lived steady state of reliable functionality required consistent effort behind the curtain to maintain. And of course, new features correlate more strongly with money in the psychology of tech companies. While that association holds some truth, specifically a prominently accepted truth, it’s not the <em>only</em> truth. Quality, service availability and reliability, the ability to maintain engineering development velocity, writing internal documentation: the company cannot bill customers directly for these functions, but try running a sustainable, efficient company without at least some of them. (And many, many, many startups do try to do just that.)</p>



<p>Try this: reward the behavior you seek. And the implicit, but often overlooked, corollary: don’t reward behavior that is, or could easily become, detrimental.</p>



<p>A robust system of positive feedback requires another variable: the difference between publicly rewarding someone compared to privately validating their work.</p>



<figure><img data-attachment-id="609" data-permalink="https://productionwithscissors.run/sketch1597996757340-01/" data-orig-file="https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg" data-orig-size="1157,721" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="sketch1597996757340-01" data-image-description="" data-medium-file="https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg?w=300" data-large-file="https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg?w=736" src="https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg?w=1024" alt="Table of good and bad contexts for recognizing example engineering achievements:
Fire fighting and working on waterfall tasks are best recognized privately. Writing missing docs and onboarding new hires should be rewarded publicly. " srcset="https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg?w=1024 1024w, https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg?w=150 150w, https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg?w=300 300w, https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg?w=768 768w, https://nightmarebeforedevops.files.wordpress.com/2020/08/sketch1597996757340-01.jpeg 1157w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>When to recognize what kind of engineering achievements</figcaption></figure>



<p>If you want to encourage healthy behaviors, such as writing internal documentation or onboarding new engineers, as a basis for your engineering culture, recognize them in a public forum. Giving only a private thank-you, while better than nothing, can send a subliminal message to the recipient that, yes, they did something beneficial, but it’s not really something to be proud of. And because the acknowledgement is private, no one else gets the message that the team and company deeply value this kind of effort.</p>



<p>However, you still need to be careful here with what you openly reward. If you constantly publicly recognize someone for putting in overtime, for example, you create the expectation, whether you intend to or not, that to get recognized, an engineer has to work much longer hours. Maybe you and your company want and expect that, but don’t come crying to me when your Glassdoor reviews all talk about burnout from being expected to work long hours. If you do genuinely want to create a culture and company with sustainable work practices, call out quality over quantity, value over volume, practical over pretty. </p>



<p>On another side of encouraging healthy efforts, all engineering teams face some amount of work which, while it must get done, should not be presented or encouraged as “normal,” let alone ideal. “Unplanned” work comprises most, if not all, of this category in most organizations, usually in the form of troubleshooting outages or of other “waterfall” tasks that, for one reason or another, were not the result of otherwise standard proactive planning and prioritization, even in a team that claims to follow Agile methodologies.</p>



<p>For any given instance of these suboptimal tasks, obviously the people who worked on them need to be acknowledged. However, they should be thanked privately, to avoid the normalization of disruptive work within the rest of the team and the company as a whole.</p>



<p>Truly healthy organizations will go beyond thanking the individuals left to work on waterfall tasks. Teams genuinely focused on improvement should respond by making real effort to change or prevent whatever cultural or less-than-ideal management or cross-team dynamics ultimately create these “surprise” (which should really surprise no one who pays attention) situations. Working to minimize or eradicate disruptive work not only increases team efficiency and health over time, it represents a much more genuine acknowledgement of engineers and the value of their time and effort than a thank-you note or yet another company t-shirt can.</p>



<p>You also want to avoid creating a culture of “heroes.” Start by minimizing the occurrence of catastrophic events wherein someone needs to save the day. However, even major projects can create breeding grounds for hero worship. Make sure any forms of public recognition note the wider team context of these efforts. Nothing ever gets done in a true vacuum. Even if one engineer did most of the work for a given project, presumably other team members were taking up the slack as their peer’s time was allocated elsewhere. Also remember and remind your team that not all projects are going to be high-profile “game changers,” but someone will still need to do the work. You don’t want to make people who work on smaller, but still vital, projects to feel less important, and you don’t want to encourage the creation of marquee, but ultimately less valuable, work because you’ve sent the message that those projects and the people who work on them are more important.</p>



<p>Unfortunately, this culture of rewarding people who “create” new shinies, even though maintaining old rusties was more critical and valuable to the company, exists all over. And I have countless examples for my time at Yahoo! alone at how it tends to be both a symptom and an accelerator of an unhealthy, moribund, and highly-politicized company culture.</p>



<p>If you want to create a culture where people do the right thing and do it well, start by learning to recognize what the right thing is. Sometimes it’s better to create something new while sometimes, probably more often, maintaining the current system is both more critical and a better investment, at least for the near future. Then make sure engineers who focus on what’s best over what’s exciting get the recognition they deserve, both for the work they do and for the ability to see the difference.</p>



<p>Unless you reward the behavior that provides real engineering and company value, instead of counterproductive …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://productionwithscissors.run/2020/08/21/tell-me-im-working-on-pretty-things/">https://productionwithscissors.run/2020/08/21/tell-me-im-working-on-pretty-things/</a></em></p>]]>
            </description>
            <link>https://productionwithscissors.run/2020/08/21/tell-me-im-working-on-pretty-things/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235373</guid>
            <pubDate>Fri, 21 Aug 2020 14:51:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero-Downtime Kubernetes Deployments]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24235020">thread link</a>) | @olswtf
<br/>
August 21, 2020 | https://sbg.technology/2020/08/21/zero-downtime-kubernetes-deployments/ | <a href="https://web.archive.org/web/*/https://sbg.technology/2020/08/21/zero-downtime-kubernetes-deployments/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <section>
        <div>
            <header>
                
                <p><time datetime="2020-08-21">
                        <span>21</span>
                        <span>Aug '20</span>
                    </time>
                </p>
                
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            <span>
                                <a href="https://sbg.technology/category/operations/">Operations</a>
                            </span>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                
            </header>

            <p>There has been a lot of work going on in Core Customer over the last few months to migrate our OIDC/OAuth2 identity service from our tactical container platform to on-premises Kubernetes clusters. I’ve spoken about our homebrew container platform (Corbenetes) before, but here’s the essentials.</p>

<blockquote>
  <p>We built a container platform using Chef and Docker as a stepping stone to Kubernetes. It utilised our existing apps-on-virtual-machines deployment and operational patterns, and so this allowed Software Engineers to develop their applications in a cloud-native manner in a familiar way, and without needing to use the (at the time) brand new Kubernetes platform.</p>

  <p>Now we have a very high level of confidence in said new Kubernetes platform, we are migrating projects over and decommissioning our middle-ground solution.</p>
</blockquote>

<p>The migration actually went a lot smoother than we anticipated, especially seeing as this is the first large-scale service we have built on Kubernetes. One thing we hadn’t initially accounted for was the different ways in which health checks would be used by the underlying platform to detect whether or not traffic should be sent to a specific container. For some context, our current Corbenetes architecture looks similar to the below with one traefik container and two app containers per host (alongside a number of supporting containers for logging and metrics that aren’t shown here).</p>

<p><img src="https://sbg.technology/images/zero-downtime-kubernetes/corbenetes_architecture.png" alt=""></p>

<p>Traefik acts as a proxy, handling both TLS-termination and sending requests to the two backends that are available on the host. The upstream load balancer examines the health endpoints of the applications (via traefik) as well as traefik’s own <code>/ping</code> endpoint. When we do a restart of the application as part of a release, we stop traefik, which allows existing connections to the application to clear down, and takes it out of service in the load balancer so no further requests are sent to this host. Once the applications have finished dealing with their requests, they too are closed down. Because of this, the shutdown of the application itself doesn’t need to be the cleanest, as by the time it receives the shutdown signal there are no requests being served by it.</p>

<p>The following image shows our current architecture now we’re on Kuberbetes, again very high level. We have traefik and app Pods, each exposed with a Service (essentially a cluster of Pods and a policy allowing access to them). The traefik Service is exposed outside the cluster to allow incoming connections from the load balancer, and we make use of the Ingress resource to direct traffic destined for specific URLs to the app backend Service.</p>

<p><img src="https://sbg.technology/images/zero-downtime-kubernetes/kubernetes_architecture.png" alt=""></p>

<h2 id="how-kubernetes-handles-health-checks">How Kubernetes handles health checks</h2>

<p>Our health checks are defined as part of our Deployment manifest, for both traefik and the application. Initially we used the same health check endpoints as we had been using previously. Our manifest looked a little like this.</p>

<h3 id="traefik">traefik</h3>

<div><div><pre><code>livenessProbe:
  failureThreshold: 2
  httpGet:
    path: /ping
    port: 80
    scheme: HTTP
  initialDelaySeconds: 10
  periodSeconds: 5
readinessProbe:
  failureThreshold: 2
  httpGet:
    path: /ping
    port: 80
    scheme: HTTP
  periodSeconds: 5
</code></pre></div></div>

<h3 id="application">application</h3>

<div><div><pre><code>livenessProbe:
  failureThreshold: 2
  httpGet:
    path: /ping
    port: 8081
    scheme: HTTP
  initialDelaySeconds: 10
  periodSeconds: 5
readinessProbe:
  failureThreshold: 2
  httpGet:
    path: /ping
    port: 8081
    scheme: HTTP
  periodSeconds: 5
</code></pre></div></div>

<p>This seemed to work out alright. Our Pods were up and running when we expected them to be, and when we force stopped the application, the health check went bad and the Pod was deleted. It was at this point we started doing extensive performance testing of the application on this new platform. We noticed an issue with cold starts. It appeared that the first time a non-health check request was made to each application Pod, the response time was around <strong>six seconds</strong>. The was obviously a suboptimal situation, and another reason why we do lots of performance testing using production-like load profiles.</p>

<p>After this first slow response, the application was absolutely fine. Turns out that the application doesn’t compile its JavaScript components until the first page load.</p>

<h2 id="its-alive-but-is-it-ready">It’s alive, but is it ready?</h2>

<p>It’s almost as though the team that built Kubernetes knew this would be a thing, as they specifically define both a <code>livenessProbe</code> and a <code>readinessProbe</code> that can be applied to the Pods. Their <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">own documentation</a> explains the difference between the two:</p>

<ul>
  <li><strong>livenessProbe</strong> defines when to restart a container, e.g. the <code>/ping</code> endpoint returns a bad response</li>
  <li><strong>readinessProbe</strong> defines when a container is ready to start accepting traffic, e.g. a script has run to synchronise data in your stateful application</li>
</ul>

<p>In our case, we needed to change our <code>readinessProbe</code> to try and load the <code>/login</code> endpoint, and allow the application to be properly ready for accepting <strong>all</strong> traffic, not just health check traffic.</p>

<div><div><pre><code>readinessProbe:
  failureThreshold: 5
  httpGet:
    path: /login?client_id=auth_provider
    port: 8081
  initialDelaySeconds: 25
  periodSeconds: 10
  timeoutSeconds: 1
  successThreshold: 1
</code></pre></div></div>

<p>This was a great success. Each Pod took about 15 seconds longer to start, but that’s a small price to pay to be confident in the ability of the Pod to handle traffic straight away. We went back to our performance testing and low and behold… we still saw issues with dropped requests during an application release, or scale down of the Pods.</p>

<p>Something about how this application works did not appreciate the way in which Kubernetes was terminating it.</p>

<h2 id="let-me-down-gently">Let me down gently</h2>

<p>When Kubernetes decides that it needs to terminate a Pod (whether this be to evacuate a host, move things around for resource utilisation purposes, or just because there is change to the Deployment warranting the creation of new Pods) it sends a <code>SIGTERM</code> (graceful shutdown request) to PID 1 of the container and waits for up to thirty seconds. In our case, PID 1 was the <code>node</code> parent process.</p>

<p>Remember the way we used to stop the applications on Corbenetes? We’d cut them off from receiving new requests and then eventually stop the application itself. Because at a basic level there is no link in Kubernetes between the state of the application Pods, and the state of the traefik Pods, we can’t hide the application behind traefik any more.</p>

<p>Thankfully, we had a way around this. We could use the Kubernetes <a href="https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/">container hooks</a> to implement a PreStop hook to do something <em>before</em> Kubernetes attempts to stop the container. We knew that straight killing the <code>node</code> parent was bad, even if it was graceful, so we experimented with the best way to gracefully terminate the container.</p>

<div><div><pre><code>lifecycle:
  preStop:
    exec:
      command: [
        "sh", "-c", "sleep 2 &amp;&amp; kill -15 $(pidof node | awk '{print $1}') &amp;&amp; sleep 2"
      ]
</code></pre></div></div>

<p>We ended up with this PreStop hook, which waits a couple of seconds, then sends a <code>SIGTERM</code> to the <code>node</code> child process, before waiting for another couple of seconds.</p>

<p>We went back to our performance tests and it was smoother than the proverbial. No matter how aggressively we were terminating Pods and restarting Deployments (the quickest way to test a release without actually releasing), we saw absolutely no degradation in service whatsoever.</p>

<p>This was all fine and dandy, but it taught us an important lesson: even if you are moving from one container-based platform to another, there is no such thing as a lift-and-shift. Each of them have their own nuances that need to be addressed. Now we know that Kubernetes is our standard, and we know how to handle zero-downtime deployments for our applications, we can properly spec out work in future, and not spend days chasing our tail trying to work out why it doesn’t just work.</p>

        </div>

        
        
        
    </section>

    
</article></div>]]>
            </description>
            <link>https://sbg.technology/2020/08/21/zero-downtime-kubernetes-deployments/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235020</guid>
            <pubDate>Fri, 21 Aug 2020 14:11:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Problem-Solving Techniques That Work for All Types of Challenges]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24235009">thread link</a>) | @MaysonL
<br/>
August 21, 2020 | https://www.spencergreenberg.com/2017/06/1514/ | <a href="https://web.archive.org/web/*/https://www.spencergreenberg.com/2017/06/1514/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>A lot of people don’t realize that there are general purpose problem solving techniques that cut across domains. They can help you deal with thorny challenges in work, your personal life, startups, or even if you’re trying to prove a new theorem in math.</p>



<p>Below are the 26 general purpose problem solving techniques that I like best, along with a one-word name I picked for each, and hypothetical examples to illustrate what sort of strategy I’m referring to.</p>



<p>Consider opening up this list whenever you’re stuck solving a challenging problem. It’s likely that one or more of these techniques can help!</p>



<h4>General Purpose Techniques for Solving Challenging Problems of All Kinds</h4>



<p>1. <strong>Clarifying</strong> – try to define the problem you are facing as precisely as you can, maybe by writing down a detailed description of exactly what the problem is and what constraints exist for a solution, or by describing it in detail to another person, which may lead to you realizing the problem is not quite what you had thought, or that it has a more obvious solution than you thought.</p>



<p>Life Example: <em>“I thought that I needed to find a new job, but when I thought really carefully about what I don’t like about my current job, I realized that I could likely fix those things by talking to my boss or even, potentially, just by thinking about them differently.”</em></p>



<p>Startup Example: <em>“we thought we had a problem with users not wanting to sign up for the product, but when we carefully investigated what the problem really was, we discovered it was actually more of a problem of users wanting the product but then growing frustrated because of bad interface design.”</em></p>



<p>2. <strong>Subdividing</strong> – break the problem down into smaller problems in such a way that if you solve each of the small problems, you will have solved the entire problem.</p>



<p>Startup Example:<em> “My goal is to get company Z to become a partner with my company, and that seems hard, so let me break that goal into the steps of (a) listing the ways that company Z would benefit from becoming a partner with us, (b) finding an employee at company Z who would be responsive to hearing about these benefits, and (c) tracking down someone who can introduce me to that employee.”</em></p>



<p>Math Example:<em> “I want to prove that a certain property applies to all functions of a specific type, so I start by (a) showing that every function of that type can be written as a sum of a more specific type of function, then I show that (b) the property applies to each function of the more specific type, and finally I show that (c) if the property applies to each function in a set of functions then it applies to arbitrary sums of those functions as well.”</em></p>



<p>3. <strong>Simplifying </strong>– think of the simplest variation of the problem that you expect you can solve that shares important features in common with your problem, and see if solving this simpler problem gives you ideas for how to solve the more difficult version.</p>



<p>Startup Example: <em>“I don’t know how to hire a CTO, but I do know how to hire a software engineer because I’ve done it many times, and good CTOs will often themselves be good software engineers, so how can I tweak my software engineer hiring to make it appropriate for hiring a CTO?”</em></p>



<p>Math Example: <em>“I don’t know how to calculate this integral as it is, but if I remove one of the free parameters, I actually do know how to calculate it, and maybe doing that calculation will give me insight into the solution of the more complex integral.”</em></p>



<p>4. <strong>Crowd-sourcing</strong> – use suggestions from multiple people to gain insight into how to solve the problem, for instance by posting on Facebook or Twitter requesting people’s help, or by posting to a Q&amp;A site like Quora, or by sending emails to 10 people you know explaining the problem and requesting assistance.</p>



<p>Business Example: <em>“Do you have experience outsourcing manufacturing to China? If so, I’d appreciate hearing your thoughts about how to approach choosing a vendor.”</em></p>



<p>Health Example: <em>“I have trouble getting myself to stick to doing exercise daily. If you also used to have trouble getting yourself to exercise but don’t anymore, I’d love to know what worked to make it easier for you.”</em></p>



<p>5. <strong>Splintering</strong> – if the problem you are trying to solve has special cases that a solution to the general problem would also apply to, consider just one or two of these special cases as examples and solve the problem just for those cases first. Then see if a solution to one of those special cases helps you solve the problem in general.</p>



<p>Startup Example: <em>“I want to figure out how to improve employee retention in general, let me examine how I could have improved retention in the case of the last three people that quit.”</em></p>



<p>Startup Example: <em>“I want to figure out how to convince a large number of people to become customers, let me first figure out how to convince just Bill and John to become customers since they seem like the sort of customer I want to attract, and see what general lessons I learn from doing that.”</em></p>



<p>6. <strong>Reading</strong> – read the books or textbooks that seems most related to the topic, and see whether they provide a solution to the problem, or teach you enough related information that you can now solve it yourself. </p>



<p>Economics Example: <em>“Economists probably have already figured out reasonable ways to estimate demand elasticity, let’s see what an econometrics textbook says rather than trying to invent a technique from scratch.”</em></p>



<p>Mental Health Example: <em>“I’ve been feeling depressed for a long time, maybe I should read some well-liked books about depression, such as ‘Feeling Good.'”</em></p>



<p>7. <strong>Searching </strong>– think of a similar problem that you think practitioners, bloggers or academics might have already solved and search online (e.g., via google, Q&amp;A sites, or google scholar academic paper search) to see if anyone has done a write-up about how they solved it.</p>



<p>Advertising Example: <em>“I’m having trouble figuring out the right advertising keywords to bid on for my specific product, I bet someone has a blog post describing how to approach choosing keywords for other related products.”</em></p>



<p>Machine Learning Example:<em> “I can’t get this neural network to train properly in my specific case, I wonder if someone has written a tutorial about how to apply neural networks to related problems.”</em></p>



<p>8. <strong>Unconstraining</strong> – list all the constraints of the problem, then temporarily ignore one or more of the constraints that make the problem especially hard, and try to solve it without those constraints. If you can, then see if you can modify that unconstrained solution until it becomes a solution for the fully constrained problem.</p>



<p>Startup Example: <em>“I need to hire someone who can do work at the intersection of machine learning and cryptography, let me drop the constraint of having cryptography experience and recruit machine learning people, then pick from among them a person that seems both generally capable and well positioned to learn the necessary cryptography.”</em></p>



<p>Computer Science Example: <em>“I need to implement a certain algorithm, and it needs to be efficient, but that seems very difficult, so let me first figure out how to implement an inefficient version of the algorithm (i.e., drop the efficiency constraint), then at the end I will try to figure out how to optimize that algorithm for efficiency.”</em></p>



<p>9. <strong>Distracting</strong> – fill your mind with everything you know about the problem, including facts, constraints, challenges, considerations, etc. and then stop thinking about the problem, and go and do a relaxing activity that requires little focus, such as walking, swimming, cooking, napping or taking a bath to see if new ideas or potential solutions pop into your mind unexpectedly as your subconscious continues to work on the problem without your attention.</p>



<p>Example: <em>“For three days, I’ve been trying to solve this problem at work, but the solution only came to me when I was strolling in the woods and not even thinking about it.”</em></p>



<p>Example from mathematician Henri Poincaré: <em>“The incidents of the travel made me forget my mathematical work. Having reached Coutances, we entered an omnibus to go someplace or other. At the moment when I put my foot on the step, the idea came to me, without anything in my former thoughts seeming to have paved the way for it, that the transformations I had used to define the Fuchsian functions were identical with those of non-Euclidean geometry.”</em></p>



<p>10. <strong>Reexamining</strong> – write down all the assumptions you’ve been making about the problem or about what a solution should look like (yes – make an actual list). Then start challenging them one by one to see if they are actually needed or whether some may be unnecessary or mistaken.</p>



<p>Psychology Example: <em>“We were assuming in our lab experiments that when people get angry they have some underlying reason behind it, but there may be some anger that is better modeled as a chemical fluctuation that is only loosely related to what happens in the lab, such as when people are quick to anger because they are hungry.”</em></p>



<p>Math Example: <em>“I need to construct a function that has this strange property, and so far I’ve assumed that the function must be smooth, but if it doesn’t actually need to be then perhaps I can construct just such a function out of simple linear pieces that are glued together.”</em></p>



<p>11.<strong> Reframing</strong> – try to see the problem differently. For instance, by flipping the default, analyzing the inverse of the problem instead, thinking about how you would achieve the opposite of what you want, or shifting to an opposing perspective.</p>



<p>Startup Example: <em>“If we were building this company over again completely from scratch, what would we do differently in the design of our product, and can we pivot the product in that direction right now?”</em></p>



<p>Life Example: <em>“Should move to New York to take a job that pays $20,000 more per year? Well, if I already lived in New York, the decision to stay there rather than taking a $20,000 pay cut to move here would be an easy one. …</em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spencergreenberg.com/2017/06/1514/">https://www.spencergreenberg.com/2017/06/1514/</a></em></p>]]>
            </description>
            <link>https://www.spencergreenberg.com/2017/06/1514/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24235009</guid>
            <pubDate>Fri, 21 Aug 2020 14:10:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Intro to Lattices in Cryptography]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24234962">thread link</a>) | @lanecwagner
<br/>
August 21, 2020 | https://qvault.io/2020/08/21/very-basic-intro-to-lattices-in-cryptography/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/08/21/very-basic-intro-to-lattices-in-cryptography/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			
<p>Lattice-based cryptography has been coming into the spotlight recently. In January 2019, Many of the semifinalists in the <a href="https://www.nist.gov/news-events/news/2019/01/nist-reveals-26-algorithms-advancing-post-quantum-crypto-semifinals" rel="noopener">NIST post-quantum-cryptography competition</a> were based on lattices. Lattice based cryptography has promising aspects that make it a contender for the basis of cryptographic security in a post-quantum world.</p>



<h2>What is a Lattice?</h2>



<p> According to <a href="https://en.wikipedia.org/wiki/Lattice-based_cryptography" rel="noopener">Wikipedia</a>, a lattice&nbsp;is the set of all integer linear combinations of basis vectors:</p>



<div><div>
<div><figure><img loading="lazy" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/66095403ff779502911d684cccf77daff8981b56" alt="{\displaystyle \mathbf {b} _{1},\ldots ,\mathbf {b} _{n}\in \mathbb {R} ^{n}}" width="128" height="21" title="66095403ff779502911d684cccf77daff8981b56"></figure></div>
</div></div>



<p>i.e.</p>



<div><div>
<div><figure><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bfe3dc9615c168ff919b1c5b229ad392229b8c1d" alt="{\displaystyle L={\Big \{}\sum a_{i}\mathbf {b} _{i}\ :\ a_{i}\in \mathbb {Z} {\Big \}}\;.}" title="bfe3dc9615c168ff919b1c5b229ad392229b8c1d"></figure></div>
</div></div>



<p>More simply put, a lattice is defined by basis vectors, which are only able to be scaled by integers… yay no fractions! </p>



<p>For example, let’s create a lattice of all the integers in a two-dimensional plane:</p>



<figure><img loading="lazy" width="1024" height="740" src="https://qvault.io/wp-content/uploads/2020/01/Capture-1024x740.png" alt="two dimensional lattice" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture-1024x740.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture-300x217.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture-768x555.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture-100x72.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture-862x623.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture-1200x867.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture.png 1255w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture"></figure>



<p>The definition of our lattice contains only 2 basis vectors,</p>



<p>v1 = (0,1) </p>



<p>v2 = (1,0)</p>



<figure><img loading="lazy" width="1024" height="740" src="https://qvault.io/wp-content/uploads/2020/01/Capture2-1-1024x740.png" alt="lattice with two vectors" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture2-1-1024x740.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-300x217.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-768x555.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-100x72.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-862x623.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1-1200x867.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture2-1.png 1255w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture2 1"></figure>



<p>Our lattice is the set of <strong>all </strong>values that can be reached by any combination and scale of our basis vectors. For example, the point (2,0) is in our lattice because it can be reached by 2*v1</p>



<figure><img loading="lazy" width="1024" height="740" src="https://qvault.io/wp-content/uploads/2020/01/Capture3-1-1024x740.png" alt="lattice with combination of vectors" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture3-1-1024x740.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-300x217.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-768x555.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-100x72.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-862x623.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1-1200x867.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture3-1.png 1255w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture3 1"></figure>



<p>Similarly, we could create an entirely new lattice by changing our basis vectors to</p>



<p>v1 = (0,3)</p>



<p>v2 = (3,0)</p>



<figure><img loading="lazy" width="1024" height="583" src="https://qvault.io/wp-content/uploads/2020/01/Capture5-1-1024x583.png" alt="lattice with change of basic vectors" srcset="https://qvault.io/wp-content/uploads/2020/01/Capture5-1-1024x583.png 1024w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-300x171.png 300w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-768x437.png 768w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-100x57.png 100w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-862x491.png 862w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1-1200x683.png 1200w, https://qvault.io/wp-content/uploads/2020/01/Capture5-1.png 1315w" sizes="(max-width: 1024px) 100vw, 1024px" title="Capture5 1"></figure>



<p>As you can see, now the intermediary points (0,1) and (0,1) <strong>no longer exist</strong> in our lattice. There is no way to scale v1 (0,3) and v2 (3,0) to reach those points without using fractional scalars. With lattices, we can only scale by whole integers.</p>



<h2>How Does This Help With Crypto?</h2>



<p>Cryptographic algorithms are typically based on mathematical problems that are easy to verify the answer of, but hard to calculate.</p>



<p>For example, RSA is based on prime factorization. If I told you to find prime factors of <em>27,919,645,564,169,759</em>, that would be hard. However, if I told you that 48,554,491 and 575,016,749 <em>are </em>prime factors, all you have to do is multiply them together in order to verify my answer.</p>



<p>RSA works great with classical computers. There are <a href="https://crypto.stackexchange.com/questions/10590/what-makes-rsa-secure-by-using-prime-numbers" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow">no known solutions to find prime factors</a> of a number reliably in less than exponential time.</p>



<p>In the quantum world, things don’t look so peachy. <a href="https://en.wikipedia.org/wiki/Shor%27s_algorithm" target="_blank" aria-label="Shor's algorithm (opens in a new tab)" rel="noreferrer noopener nofollow">Shor’s algorithm</a> on quantum computers can crack RSA in less than exponential time. For this reason, we need quantum-safe algorithms. Many believe that lattice math could be an answer.</p>



<h2>Shortest Vector Problem</h2>



<div><figure><img loading="lazy" width="220" height="112" src="https://qvault.io/wp-content/uploads/2020/01/220px-SVP.svg_.png" alt="shortest vector problem" srcset="https://qvault.io/wp-content/uploads/2020/01/220px-SVP.svg_.png 220w, https://qvault.io/wp-content/uploads/2020/01/220px-SVP.svg_-100x51.png 100w" sizes="(max-width: 220px) 100vw, 220px" title="220px SVP.svg"></figure></div>



<p><a aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Lattice_problem#Shortest_vector_problem_(SVP)" target="_blank">The shortest vector problem (SVP)</a> is one of the fundamentals problems presented by lattices that allow them to be useful in cryptography.</p>



<p>Simply put, the goal of SVP is for the attacker to find the shortest vector from the origin (above in red) when given the basis of a lattice (above in blue). A zero vector doesn’t work as an answer, we consider it trivial.</p>



<p>How is it solved?</p>



<p>Like RSA with classical computers, it is hard to find the shortest vector of a large lattice, especially if it exists in many dimensions. One such slow solution for approximating the shortest vector is <a href="https://en.wikipedia.org/wiki/L%C3%A1szl%C3%B3_Babai" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow">Babai</a>‘s algorithm, or <a href="https://cims.nyu.edu/~regev/teaching/lattices_fall_2004/ln/cvp.pdf" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow">Nearest Plane Algorithm</a>, which you can read about in the links provided.</p>



<div><div>
<h2>Thanks For Reading!</h2>



<p>Follow us on Twitter <a href="https://twitter.com/q_vault" rel="noopener">@q_vault</a> if you have any questions or comments</p>



<p>Take game-like coding courses on <a href="https://classroom.qvault.io/#/">Qvault Classroom</a></p>



<p><a href="https://mailchi.mp/5c7f5c281bbe/qvault-newsletter-subscribe" rel="noopener">Subscribe</a> to our Newsletter for more educational articles</p>
</div></div>



<h2>Related Articles</h2>



<ul><li><a href="https://qvault.io/2020/01/01/very-basic-intro-to-hash-functions-sha-256-md-5-etc/">(Very) Basic Intro to Hash Functions (SHA-256, MD-5, etc)</a></li><li><a href="https://qvault.io/2019/12/31/very-basic-intro-to-elliptic-curve-cryptography/">(Very) Basic Intro To Elliptic Curve Cryptography</a></li><li><a href="https://qvault.io/2019/12/30/very-basic-intro-to-key-derivation-functions-argon2-scrypt-etc/">(Very) Basic Intro to Key Derivation Functions (Argon2, Scrypt, etc)</a></li></ul>

		</div></div>]]>
            </description>
            <link>https://qvault.io/2020/08/21/very-basic-intro-to-lattices-in-cryptography/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24234962</guid>
            <pubDate>Fri, 21 Aug 2020 14:03:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[France, UE, Covid, democracry and the research of complete stupidity]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 11 (<a href="https://news.ycombinator.com/item?id=24234839">thread link</a>) | @polote
<br/>
August 21, 2020 | https://blog.luap.info/france-ue-covid-democracry-and-the-research-of-complete-stupidity.html?hn3 | <a href="https://web.archive.org/web/*/https://blog.luap.info/france-ue-covid-democracry-and-the-research-of-complete-stupidity.html?hn3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		  <div role="main">
	<article>

		


		<p>Everything about France work system can be understood reading one sentence : In France it is legally impossible to fire an employee who doesn't want to leave. </p>
<p>This is something I've never understood, how can we think that an employee possesses his job ? An employee is working for a salary and benefits, that's all, the rest belongs to the company, which belongs to its investors.</p>
<p>France is a touristic country which doesn't grow anymore. It is not doing worst than <a href="https://data.worldbank.org/indicator/NY.GDP.PCAP.KD.ZG?end=2019&amp;locations=FR-GB-DE-US&amp;start=1961&amp;view=chart">neighbour countries</a> but this can't be an excuse. The youngest company of the CAC40 (40 biggest companies in france) was <a href="https://twitter.com/paulg/status/650702144186662914?lang=en">founded in 1967</a>. Building a company there is tough, there are a lot of taxes (paying an 1$ to an employee requires the company to pay one other dollar to the government). The work system is outdated, people can't be fired, the work legislation is more complex (3000 pages) than building a fusion reactor. Founders are limited and will either try to sell their company as soon as it is a bit successfull or move their headquarter in the US. The EU is not a unified market, every country has its own legislation, culture, language, ... And at the end if you are successfull there will be millions of people try to explain to you that you should not be rich.</p>
<p>But the problem is not only the system, the people are also the problem (the system is the people and the people are the system I know). France political system is an oligarchy hidden behind that everyone can vote. But a country can't be smarter than its own population. France as a country doesn't have any goal, people are living in the country complaining all the time about everything, there is no wish to progress or to help people, the only goal is to preserve its own privilege. Rich people make friends with politic people to preserve their advantages, poor people try to work less, profit from employment benefits and complain about everything else. People in the middle live together and use their money to balance the failing of the {school,retiring} systems. As a result the whole system is stuck.</p>
<p>Our school system is shit, it is designed for already priviledged students to be successfull and for poor people to fail. Because, of course it is easier to educate already educated people and tell to others that it is their fault if they do not succeed.  Our retiring system is complete garbage, nobody understand how 25M people working can pay for 14M people not working, and for french people it is normal to retire at 62 years old, this is normal because it has always been like that, so why change ? But thanks to debt our country is not fucked. It is always easier to borrow money than to earn it so why bother ?</p>
<p>Our 'democracies' are not working, you can't accept that all opinions are equals, you would not choose your CEO by making everyone in the company vote. The covid crisis is a good example showing that a democracy can't handle important crisi. Everyone has become an epidemiologist, anyone knows what is a good traitment, anyone knows how to protect himself, anyone is able to read a scientific study and make its own conclusion. The more follower you have the smarter epidemiologist you are. China suggested to do a lockdown, well lets do a lockdown, some tv host suggested that we wear mask ? Well lets wear mask. Masks doesn't prevent the virus to spread ? then lets make the mask mandatory, student are going to be in class touching each other, exchanging pens and papers ? well let's take the most stupid decision ever and madate them to wear a mask? When everyone has an opinion and this opinion has to be taken seriously the opinion of no one has any value. Democracy seems to be the worst politic system when you want to achieve best performance.</p>
<p>We are trying to reach the maximum level of stupidity and everybody seems to be fine with it.</p>
<h2>How to fix that ?</h2>
<p>On the short term this is impossible, you can't change the mentality of people in the short term, you can't educate greater than 25 years old people, you can't change the work system in a few years. The only thing that can save us is education. Educate your children, force them to go to school to do their homework, tell them that they will be able to become software engineers if they study and start working with a better salary than 90% of the population. Vote for people who care about education, and vote for people who will try to improve education of unpriviledege people, the smarter 'the most stupid' people are, the smarter the country is going to be. Don't vote for a president, this is useless, they are all the same and complete garbage, the system is not designed for a competent person to be elected. Fortunately climate change is coming and is going to kill most of the population, that way the few people who will be there (if any ) to rebuilt the world will be able to make better foundations. If you want to live a pleasant life, ignore the rules, the laws, the governements and focus on doing good around you, educate your children, help the cleaning lady, dont give your money to your children when you die, give it to charity, dont take any time caring about politics dont go voting for someone linked to a party, vote for motivated people who wants to make things change.... Try to think with your brain and stop listening to what media tell you</p>
<p>Not everything is bad, look at the US and appreciate how lucky we are</p>	

	</article>


		  </div>	

		  

	  </div></div>]]>
            </description>
            <link>https://blog.luap.info/france-ue-covid-democracry-and-the-research-of-complete-stupidity.html?hn3</link>
            <guid isPermaLink="false">hacker-news-small-sites-24234839</guid>
            <pubDate>Fri, 21 Aug 2020 13:48:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Feynman, Harassment, and the Culture of Science]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24234837">thread link</a>) | @strogonoff
<br/>
August 21, 2020 | https://caltechletters.org/viewpoints/feynman-harassment-science | <a href="https://web.archive.org/web/*/https://caltechletters.org/viewpoints/feynman-harassment-science">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">

<p><span></span><em>Viewpoint articles are a vehicle for members of the Caltech community to express their opinions on issues surrounding the interface of science and society. The views expressed here do not necessarily reflect the views of Caltech or the editorial board of Caltech Letters. Please see <a href="https://caltechletters.org/disclaimer/" target="_blank">our disclaimer</a>.</em></p>
<p><em>Content note: this article contains discussion of sexual harassment.</em></p>
<p><span>W</span>hen family friends heard that I wanted to be a physicist, I was gifted not one but two copies of <em>“Surely You’re Joking, Mr. Feynman!”: (Adventures of a Curious Character)</em>. Mainly autobiographical, <em>Surely You’re Joking</em> is a collection of anecdotes from the physicist Richard Feynman that span his youth, work on the Manhattan project, and experiences as a Caltech professor in the 60’s and 70’s, at which point he was well-established as one of the greatest minds of the 20th century.</p>
<p>At 15, when I received the books, I was nerdy and deeply committed to a vision of becoming a great scientist. Feynman was certainly great. His contributions to physics cannot be overstated—they were nothing less than transformative to the field. I believed that his writings would be a window into the mind of an indisputable genius, and provide guidance on how to develop an objective and ethical mindset in the true spirit of science. Because after all, doesn’t vast knowledge translate to wisdom?</p>
<p><em>Surely You’re Joking</em> doesn’t go into much detail on Feynman’s extensions to <a href="https://en.wikipedia.org/wiki/Quantum_electrodynamics" target="_blank">quantum electrodynamics</a> or <a href="https://en.wikipedia.org/wiki/Quark" target="_blank">quark theory</a>. Instead, he recounts becoming a radio repairman at age 12, wisecracking his way through the required humanities courses at MIT, and picking the locks on safes containing atomic secrets at the Los Alamos Manhattan project site. There are also anecdotes about frat brothers teaching him how to pick up girls, impressing women with his bongo drum skills, and hitting on the visiting wives and sisters of his peers in graduate school.</p>
<p>I read with growing unease to the book’s halfway point, where Feynman describes his frustrations with the girls at an Albuquerque nightclub near Los Alamos<sup><a href="#1">1</a></sup>:</p>
<blockquote>
<p>I adopted the attitude that those bar girls are all bitches, that they aren’t worth anything, and all they’re in there for is to get you to buy them a drink, and they’re not going to give you a goddamn thing; I’m not going to be a gentleman to such worthless bitches, and so on. I learned it till it was automatic.</p>
</blockquote>
<p>I was shocked, but still found it hard to condemn my hero. Besides, Feynman is considered the ultimate offbeat, free-wheeling physicist, judged as eccentric and often rude by his colleagues; his behavior towards women, I reasoned, must be a weird one-off—there’s no way it can be prevalent in the scientific community today.</p>
<p>I maintained this false optimism until I was sexually harassed during my first research internship at the <a href="https://www.noao.edu/" target="_blank">National Optical Astronomy Observatory</a> (NOAO). I arrived eager to apply my college physics courses to the task at hand—searching for supermassive black holes surrounded by bright halos of matter known as <a href="https://en.wikipedia.org/wiki/Active_galactic_nucleus" target="_blank">active galactic nuclei</a>. The research was fascinating, but I had to contend with something else. Over the summer, the staff scientist appointed as our program director conducted a careful campaign of isolating the female students in the program—getting us alone within the research facility and on trips to telescope observatories in remote locations—to solicit inappropriate and unwanted physical contact. He would enter our lab space and disturb our work with long sermons on his connections to illustrious institutions like Caltech, heavily dropping hints that he could put in a good word when we applied to graduate school if we impressed him. Once, on the pretense of looking at another intern’s code on her computer screen, I witnessed him lean towards her and rest his head on her shoulder for several minutes. This is one of the milder incidents of harassment we dealt with, but I am not comfortable recounting anything more explicit.</p>
<p>At the end of the internship I spoke with the other female students about what we had experienced. We all agreed that if this treatment of women was standard for physics and astronomy, we would search for jobs outside of science. This kind of <a href="https://www.sciencemag.org/news/2017/10/disturbing-allegations-sexual-harassment-antarctica-leveled-noted-scientist" target="_blank">harassment</a> <a href="https://www.buzzfeednews.com/article/azeenghorayshi/how-harassment-stays-secret" target="_blank">often</a> <a href="https://www.buzzfeednews.com/article/azeenghorayshi/ott-harassment-investigation#.qj3ky4Bw53" target="_blank">forces</a> <a href="https://www.columbiaspectator.com/eye-lead/2018/04/20/under-the-veil-the-silence-surrounding-sexual-harassment-in-labs-at-columbia/" target="_blank">women</a> <a href="https://www.bostonglobe.com/metro/2018/11/15/lawsuit-describes-century-animal-house-dartmouth-college/OVtrcSKDRJFTAWdvOWsyfL/story.html" target="_blank">out</a> of academia.</p>
<p>I am now a planetary science graduate student at Caltech where I research <a href="https://en.wikipedia.org/wiki/Exoplanet" target="_blank">exoplanets</a>—planets outside our Solar System that orbit stars other than the sun. But though my work has strayed from pure physics, Feynman’s presence is inescapable no matter what you study here. His books grace the shelves of my professors and his likeness is displayed in the form of countless statues, murals, and posters across campus. For over two years, I received weekly emails advertising “The Mind’s Eye: Richard Feynman in Word and Image,” a Caltech Archives exhibition of his lecture notes and visual materials celebrating 100 years since his birth. <a href="http://dining.sites.caltech.edu/students/board-plan-options" target="_blank">The student meal plan was named after him</a>. And among the alumni and students, he has achieved <a href="https://www.quora.com/What-role-did-Richard-Feynman-play-at-Caltech" target="_blank">cult-level adoration</a>—at Caltech, Feynman is undeniably a giant.</p>
<p><img src="https://caltechletters.org/media/posts/2019-10-08-feynman-harassment-science/feynman_bas_relief.png" alt=""></p>
<p>Bas-relief celebrating Richard Feynman displayed above an entrance to Dabney Hall, an undergraduate residence at Caltech.</p>
<p><a href="https://www.quora.com/What-role-did-Richard-Feynman-play-at-Caltech" target="_blank">Quora</a></p>
<p>Either I had misjudged Feynman, or others weren’t judging him enough. I borrowed a copy of <em>Surely You’re Joking</em> from the Caltech library (there are 11 available) to investigate. In my second reading, I learned that Feynman enjoyed doing research at topless bars near Caltech, where he also picked up a habit of drawing nude portraits of women.<sup><a href="#1">1</a></sup> Many of his later nude models were his students.<sup><a href="#1">1</a></sup> I also learned that when he was a professor at Cornell, he regularly pretended to be a student to convince undergraduates to sleep with him.<sup><a href="#1">1</a>,<a href="#2">2</a></sup></p>
<p>I was most unsettled by a story<sup><a href="#1">1</a></sup> about one of his nude portraits, featuring, in his words, “a beautiful blonde model” to which he gave the title “Madame Curie<sup><a href="#3">3</a></sup> Observing the Radiations from Radium.”</p>
<blockquote>
<p>…The message I intended to convey was, nobody thinks of Madame Curie as a woman, as feminine, with beautiful hair, bare breasts, and all that. They only think of the radium part.</p>
</blockquote>
<p>Why was I so bothered by this amidst the other accounts of harassment and discrimination? I realized that throughout my growing disappointment with Feynman, I still clung to the belief that he reserved some measure of respect for his fellow scientists, regardless of their gender or other characteristics. But now I was forced to consider that he likely regarded all women (even two time Nobel Prize winners) as little more than objects for his shallow enjoyment, who served no purpose beyond acting as ‘muses’ for his own great scientific endeavors. Sexism in any context is unacceptable, but for me, this case hit especially close to home.</p>
<p><img src="https://caltechletters.org/media/posts/2019-10-08-feynman-harassment-science/myers.jpg" alt=""></p>
<p>“Cathy McAlpine Myers,” a separate nude drawing by Richard Feynman, 1975.</p>
<p>Richard Feynman.</p>
<p>Why should we care about the bad behavior of a brilliant physicist who died more than thirty years ago? Why can’t we separate Feynman’s scientific achievements from his other actions, and write off his sexism as a product of its time? Because the power structures that enabled Feynman’s sexism then are the same ones that now allow us to forget his conduct, remembering him only as a great scientist. They let famed astronomer <a href="https://www.buzzfeednews.com/article/azeenghorayshi/how-harassment-stays-secret" target="_blank">Geoff Marcy</a> engage in decades of sexual predation in his field and permitted Caltech to preserve <a href="https://www.buzzfeednews.com/article/azeenghorayshi/ott-harassment-investigation" target="_blank">Christian Ott’s</a> professorship after he harassed his female students. And now, they allow Caltech professors to continue defending Ott to my peers and me, claiming that the female students who endured his inappropriate and discriminatory behavior “ruined his career.”</p>
<p>For female scientists, sexual harassment remains a common experience. A study by the National Academy of Sciences reports that in academic science, engineering, and medicine, more than 50 percent of female faculty/staff and 20-50 percent of female students at all levels have experienced harassment.<sup><a href="#4">4</a></sup> These numbers are significantly higher for women of color.<sup><a href="#4">4</a>,<a href="#5">5</a></sup> One of my closest friends at Caltech participated in the same NOAO internship as me the following year and was harassed by the same program director because our complaints that year weren’t taken seriously enough to warrant assigning another scientist to the position.</p>
<p><img src="https://caltechletters.org/media/posts/2019-10-08-feynman-harassment-science/noao-letter.jpg" alt=""></p>
<p>A letter I received from the program director at the end of the summer, following a fruitless investigation with NOAO human resources.</p>
<p>Aida Behmard</p>
<p>None of this is to paint Feynman as a villain; on some level I can understand his enduring popularity. A great teacher and scientific communicator, he is also proof that nerdy men can be funny, popular, and (reputedly) successful with women, and is perhaps idolized for these attributes as much as for his accomplishments in physics. In spite of his sexism, he encouraged his younger sister’s interest in science when their parents did not. Joan Feynman is now a solar astrophysicist who spent the bulk of her career at NASA. He also dealt with significant discrimination while climbing the scientific ivory tower in the 30’s and 40’s, which was then characterized by strong antisemitism.</p>
<p>But we must consider Feynman in all his manifestations—a brilliant scientist, but also a narcissist whose sexist behavior did undeniable harm. And while his contributions to physics are immense, it is worth considering that science is not, nor has it ever been, a level playing field. It is unlikely that Feynman would have been able to make the scientific strides he did if he had been born a hundred years earlier, when antisemitism would have barred him from elite academic spaces entirely. In the same vein, it is possible that someone else would have made Feynman’s discoveries decades before him if the world were truly fair. Perhaps it would have been a woman.</p>
<p><img src="https://caltechletters.org/media/posts/2019-10-08-feynman-harassment-science/feynman_letter_clean.png" alt=""></p>
<p>“It is important that you correct the impression conveyed by your books that science, including physics, is the province of males only.” A critical letter addressed to Feynman in 1971, previously on display at the Caltech Archives …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://caltechletters.org/viewpoints/feynman-harassment-science">https://caltechletters.org/viewpoints/feynman-harassment-science</a></em></p>]]>
            </description>
            <link>https://caltechletters.org/viewpoints/feynman-harassment-science</link>
            <guid isPermaLink="false">hacker-news-small-sites-24234837</guid>
            <pubDate>Fri, 21 Aug 2020 13:48:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Task Orchestration: Airflow vs. Luigi vs. Argo vs. MLFlow vs. KubeFlow]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24234742">thread link</a>) | @FHMS
<br/>
August 21, 2020 | https://datarevenue.com/en-blog/airflow-vs-luigi-vs-argo-vs-mlflow-vs-kubeflow | <a href="https://web.archive.org/web/*/https://datarevenue.com/en-blog/airflow-vs-luigi-vs-argo-vs-mlflow-vs-kubeflow">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><figure id="w-node-3c3bb06319f0-018ecc93"><p><img src="https://global-uploads.webflow.com/5d3ec351b1eba4332d213004/5f3d5fc780831e76858de29f_Brf1OrUmBPyoy2MDKr7p4CCiYQPPUMJZIREGyh5muKrHVcZhesUPs7jk3qT2nNb_5WMP0f1YF1slTvD8x4I4PkNsctfTG2sUwxcOMnpRqTSQTc47EcLJWBuimCrF54QRsnopfCMR.png" alt="A graph showing the growth of various workflow tools since 2014."></p><figcaption>Airflow is the most popular solution, followed by Luigi. There are newer contenders too, and they’re all growing fast. (<a href="https://star-history.t9t.io/#spotify/luigi&amp;argoproj/argo&amp;kubeflow/kubeflow&amp;mlflow/mlflow">source</a>)</figcaption></figure><h2><strong>Task orchestration tools and workflows</strong></h2><p>Recently there’s been <a href="https://huyenchip.com/2020/06/22/mlops.html">an explosion of new tools</a> for orchestrating task- and data workflows (sometimes referred to as “MLOps”). The quantity of these tools can make it hard to choose which ones to use and to understand how they overlap, so we decided to compare some of the most popular ones head to head.&nbsp;</p><p>Overall Apache Airflow is both the most popular tool and also the one with the broadest range of features, but Luigi is a similar tool that’s simpler to get started with. Argo is the one teams often turn to when they’re already using Kubernetes, and Kubeflow and MLFlow serve more niche requirements related to deploying machine learning models and tracking experiments.</p><p>Before we dive into a detailed comparison, it’s useful to understand some broader concepts related to task orchestration.</p><h2><strong>What is task orchestration and why is it useful?</strong></h2><p>Smaller teams usually start out by managing tasks manually – such as cleaning data, training machine learning models, tracking results, and deploying the models to a production server. As the size of the team and the solution grows, so does the number of repetitive steps. It also becomes more important that these tasks are executed reliably.</p><p>The complex ways these tasks depend on each other also increases. When you start out, you might have a <strong>pipeline</strong> of tasks that needs to be run once a week, or once a month. These tasks need to be run in a specific order. As you grow, this pipeline becomes a <strong>network </strong>with dynamic branches. In certain cases, some tasks set off other tasks, and these might depend on several other tasks running first.</p><p>This network can be modelled as a DAG – a Directed Acyclic Graph, which models each task and the dependencies between them.</p><figure id="w-node-8feefc03e37d-018ecc93"><p><img src="https://global-uploads.webflow.com/5d3ec351b1eba4332d213004/5f3d5fc803a7a16ca9eda2c3_v545yQmSJm0bgn5gGK1gmAK4Jw1W232zutQ3zs32lDq0HxhsteO97EG2a7NnoObsNoE4Zl0084kpBwZCt7T-BiDil1Z-MvaE_s8C0Ytc7gN5bFnGibnOxWAbOnraEXLxZvAi5HcL.png" alt="A diagram showing a pipeline with simply connected tasks and a DAG with more complicated connections."></p><figcaption>A pipeline is a limited DAG where each task has one upstream and one downstream dependency at most.</figcaption></figure><p>Workflow orchestration tools allow you to define DAGs by specifying all of your tasks and how they depend on each other. The tool then executes these tasks on schedule, in the correct order, retrying any that fail before running the next ones. It also monitors the progress and notifies your team when failures happen.</p><p><a href="https://en.wikipedia.org/wiki/CI/CD">CI/CD</a> tools such as Jenkins are commonly used to automatically test and deploy code, and there is a strong parallel between these tools and task orchestration tools – but there are important distinctions too. Even though in theory <a href="http://blog.paracode.com/2017/10/08/airflow/">you can use these CI/CD tools to orchestrate dynamic, interlinked tasks</a>, at a certain level of complexity you’ll find it easier to use more general tools like Apache Airflow instead.</p><p>[Want more articles like this? <a href="https://datarevenue.com/signup">Sign up to our newsletter</a>. We share a maximum of one article per week and never send any kind of promotional mail].</p><p>Overall, the focus of any orchestration tool is ensuring <strong>centralized, repeatable, reproducible, </strong>and <strong>efficient</strong> workflows: a virtual command center for all of your automated tasks. With that context in mind, let’s see how some of the most popular workflow tools stack up.</p><h2><strong>Just tell me which one to use</strong></h2><p>You should probably use:</p><ul role="list"><li><a href="https://airflow.apache.org/"><strong>Apache Airflow</strong></a><strong> </strong>if you want the most full-featured, mature tool and you can dedicate time to learning how it works, setting it up, and maintaining it.</li><li><a href="https://github.com/spotify/luigi"><strong>Luigi</strong></a><strong> </strong>if you need something with an easier learning curve than Airflow. It has fewer features, but it’s easier to get off the ground.</li><li><a href="https://argoproj.github.io/"><strong>Argo</strong></a> if you’re already deeply invested in the Kubernetes ecosystem and want to manage all of your tasks as pods, defining them in YAML instead of Python.</li><li><a href="https://www.kubeflow.org/"><strong>KubeFlow</strong></a><strong> </strong>if you want to use Kubernetes but still define your tasks with Python instead of YAML.</li><li><a href="https://mlflow.org/"><strong>MLFlow</strong></a> if you care more about tracking experiments or tracking and deploying models using MLFlow’s predefined patterns than about finding a tool that can adapt to your existing custom workflows.</li></ul><h2><strong>Comparison table</strong></h2><figure id="w-node-abe9bcb589cf-018ecc93"><p><img src="https://global-uploads.webflow.com/5d3ec351b1eba4332d213004/5f3d5fc9ba987f20a06c2e7f_4JEzgpYZM7va4Dj7GHftJaIskEjGSalpTOn70ASVq7GFe0z5hcmbukEUWM5XG8E_mQDKEYkzIa_uvuMdGrUC8gvp6qC5dquz3aulcBtsqdk9JSHh0PkqdmP4AoEWngwZ6bNQAEvm.png" alt=""></p><figcaption>For more Machine Learning Tips - <a href="https://www.datarevenue.com/signup">Get our weekly newsletter</a></figcaption></figure><p>For a quick overview, we’ve compared the libraries when it comes to:&nbsp;</p><ul role="list"><li><strong>Maturity: </strong>based on the age of the project and the number of fixes and commits;</li><li><strong>Popularity:</strong> based on adoption and GitHub stars;</li><li><strong>Simplicity: </strong>based on ease of onboarding and adoption;</li><li><strong>Breadth:</strong> based on how specialized vs. how adaptable each project is;</li><li><strong>Language: </strong>based on the primary way you interact with the tool.</li></ul><p>These are not rigorous or scientific benchmarks, but they’re intended to give you a quick overview of how the tools overlap and how they differ from each other. For more details, see the head-to-head comparison below.</p><h2><strong>Luigi vs. Airflow</strong></h2><p>Luigi and Airflow solve similar problems, but Luigi is far simpler. It’s contained in a single component, while Airflow has multiple modules which can be configured in different ways. Airflow has a larger community and some extra features, but a much steeper learning curve. Specifically, Airflow is far more powerful when it comes to scheduling, and it provides a calendar UI to help you set up when your tasks should run. With Luigi, you need to write more custom code to run tasks on a schedule.</p><p>Both tools use Python and DAGs to define tasks and dependencies. Use Luigi if you have a small team and need to get started quickly. Use Airflow if you have a larger team and can take an initial productivity hit in exchange for more power once you’ve gotten over the learning curve.</p><h2><strong>Luigi vs. Argo</strong></h2><p>Argo is built on top of <a href="https://www.datarevenue.com/ml-tools/kubernetes">Kubernetes</a>, and each task is run as a separate Kubernetes pod. This can be convenient if you’re already using Kubernetes for most of your infrastructure, but it will add complexity if you’re not. Luigi is a Python library and can be installed with Python package management tools, such as pip and conda. Argo is a <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">Kubernetes extension</a> and is installed using Kubernetes. While both tools let you define your tasks as DAGs, with Luigi you’ll use Python to write these definitions, and with Argo you’ll use YAML.</p><p>Use Argo if you’re already invested in Kubernetes and know that all of your tasks will be pods. You should also consider it if the developers who’ll be writing the DAG definitions are more comfortable with YAML than Python. Use Luigi if you’re not running on Kubernetes and have Python expertise on the team.</p><h2><strong>Luigi vs. Kubeflow</strong></h2><p>Luigi is a Python-based library for general task orchestration, while Kubeflow is a Kubernetes-based tool specifically for machine learning workflows. Luigi is built to orchestrate general tasks, while Kubeflow has prebuilt patterns for experiment tracking, hyper-parameter optimization, and serving Jupyter notebooks. Kubeflow consists of two distinct components: Kubeflow and Kubeflow Pipelines. The latter is focused on model deployment and CI/CD, and it can be used independently of the main Kubeflow features.</p><p>Use Luigi if you need to orchestrate a variety of different tasks, from data cleaning through model deployment. Use Kubeflow if you already use Kubernetes and want to orchestrate common machine learning tasks such as experiment tracking and model training.</p><h2><strong>Luigi vs. MLFlow</strong></h2><p>Luigi is a general task orchestration system, while MLFlow is a more specialized tool to help manage and track your machine learning lifecycle and experiments. You can use Luigi to define general tasks and dependencies (such as training and deploying a model), but you can import MLFlow directly into your machine learning code and use its helper function to log information (such as the parameters you’re using) and artifacts (such as the trained models). You can also use MLFlow as a command-line tool to serve models built with common tools (such as scikit-learn) or deploy them to common platforms (such as AzureML or Amazon SageMaker).</p><h2><strong>Airflow vs. Argo</strong></h2><p>Argo and Airflow both allow you to define your tasks as DAGs, but in Airflow you do this with Python, while in Argo you use YAML. Argo runs each task as a Kubernetes pod, while Airflow lives within the Python ecosystem. Canva evaluated both options before settling on Argo, and you can <a href="https://www.youtube.com/watch?v=oXPgX7G_eow">watch this talk to get their detailed comparison and evaluation</a>.</p><p>Use Airflow if you want a more mature tool and don’t care about Kubernetes. Use Argo if you’re already invested in Kubernetes and want to run a wide variety of tasks written in different stacks.</p><h2><strong>Airflow vs. Kubeflow</strong></h2><p>Airflow is a generic task orchestration platform, while Kubeflow focuses specifically on machine learning tasks, such as experiment tracking. Both tools allow you to define tasks using Python, but Kubeflow runs tasks on Kubernetes. Kubeflow is split into Kubeflow and Kubeflow Pipelines: the latter component allows you to specify DAGs, but it’s more focused on deployment and model serving than on general tasks.</p><p>Use Airflow if you need a mature, broad ecosystem that can run a variety of different tasks. Use Kubeflow if you already use Kubernetes and want more out-of-the-box patterns for machine learning solutions.</p><h2><strong>Airflow vs. MLFlow</strong></h2><p>Airflow is a generic task orchestration platform, while MLFlow is specifically built to optimize the machine learning lifecycle. This means that MLFlow has the functionality to run and track experiments, and to train and deploy machine learning models, while Airflow has a broader range of use cases, and you could use it to run any set of tasks. Airflow is a set of components and plugins for managing and scheduling tasks. MLFlow is a Python library you can import into your existing machine learning code and a command-line tool you can use to train and deploy machine learning models written in scikit-learn to Amazon SageMaker or AzureML.</p><p>Use MLFlow if you want an opinionated, out-of-the-box way of managing your machine learning experiments and deployments. Use Airflow if you have more complicated requirements and want more control over how you manage your machine learning lifecycle.</p><h2><strong>Argo vs. Kubeflow</strong></h2><p>Parts of Kubeflow (like Kubeflow Pipelines) are built on top of Argo, but Argo is built to orchestrate any task, while Kubeflow focuses on those specific to machine learning – such as experiment tracking, …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://datarevenue.com/en-blog/airflow-vs-luigi-vs-argo-vs-mlflow-vs-kubeflow">https://datarevenue.com/en-blog/airflow-vs-luigi-vs-argo-vs-mlflow-vs-kubeflow</a></em></p>]]>
            </description>
            <link>https://datarevenue.com/en-blog/airflow-vs-luigi-vs-argo-vs-mlflow-vs-kubeflow</link>
            <guid isPermaLink="false">hacker-news-small-sites-24234742</guid>
            <pubDate>Fri, 21 Aug 2020 13:34:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Cop Playbook. Public Safety Has Nothing to Do with It (2012)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24234379">thread link</a>) | @wonder_er
<br/>
August 21, 2020 | https://www.fullertonsfuture.org/2012/the-cop-playbook-public-safety-has-nothing-to-do-with-it/ | <a href="https://web.archive.org/web/*/https://www.fullertonsfuture.org/2012/the-cop-playbook-public-safety-has-nothing-to-do-with-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><em><strong>For paranoia, sheer cynicism and demonstration of unbridled self-interest there’s nothing that can beat this “playbook” created by the law firm of Lackie, Dammeier &amp; McGill for use by their clients: cop unions.</strong></em></p>
<p><em><strong>See how many of these tactics strike you as familiar in Fullerton. Paranoia, cynicism and self-interest. Check, check, check.</strong></em></p>

<p><strong>Lackie, Dammeier &amp; McGill</strong><br>
Former Cops Defending Current Ones</p>
<p><strong>Negotiations After Impasse –&nbsp;Association Options</strong><br>
In gearing up for negotiations, hopefully your association has developed some political ties with members of your governing body. Now is the time those political endorsements, favors, and friendships come into play. When negotiations reach an impasse, the association will have options which may be utilized simultaneously, or one before the other.</p>
<p><strong>Political Option</strong><br>
As most association leaders already know, associations should be selective in their battles. However, this does not mean that the association should roll over for everything either. Association respect (by the employer) is gained over years of actions or inactions. Associations who rarely, if ever, take things to the mat or challenge the employer gain little respect at the bargaining table or elsewhere. The flip side is also true. Those associations that battle over every minor issue may be seen as an association that simply cannot be pleased, so why bother. While it is a fine line, somewhere in the middle is where you want to be. The association should be like a quiet giant in the position of, “do as I ask and don’t piss me off.” Depending on the circumstances surrounding the negotiations impasse, there are various <strong>tools</strong> available to an association to put political pressure on the decision makers. A few things to keep in mind when utilizing these tools are the following:</p>
<p><strong>Public Message</strong><br>
Always keep this in mind. The public could care less about your pay, medical coverage and pension plan. All they want to know is “what is in it for them.” Any public positions or statements by the association should always keep that focus. The message should always be public safety first. You do not want wage increases for yourselves, but simply to attract better qualified candidates and to keep more experienced officers from leaving.</p>
<p><strong>The Future</strong><br>
Also keep in mind that once the fight is over, you and your members will still be working there. Avoid activities where one or just a few members are involved who can be singled out for retaliation. Always keep in mind your department policies and the law. You should be in very close contact with your association’s attorney during these times to ensure you are not going to get yourself or any of your members in trouble. For associations in the Legal Defense Fund, please keep in mind that concerted labor activity should always be discussed with the LDF Trustees prior to the activity to ensure coverage.</p>
<p><strong>Let the Debate Begin</strong><br>
Again, the ideas listed below are not in any particular order. Just as in your use-of-force guidelines, you can start with simple verbal commands or jump to a higher level, based on the circumstances.<br>
Keep in mind that most of these <strong>tools</strong> are not to deliver your message to the public but are designed to simply get the decision makers into giving in to your position.</p>
<ul>
<li><strong>Storm City Council</strong> – While an association is at impasse, no city council or governing board meeting should take place where members of your association and the public aren’t present publicly chastising them for their lack of concern for public safety.</li>
<li><strong>Picketing –</strong> Plan a few well organized picketing events. Keep these events spread out to avoid burning out your membership.</li>
<li><strong>Public Appearances</strong> – During impasse, the association should make known at every significant public event, such as parades, Christmas tree lightings, the Mayor’s Gala and any other event of interest to the decision makers, that the association is upset about the lack of concern for public safety.</li>
<li><strong>Newspaper Ads –</strong> Again, keep the message focused on “public safety.”</li>
<li><strong>Billboards</strong> – Nothing seems to get more attention than a billboard entering the city limits which reads that crime is up and the City could care less about your safety.</li>
<li><strong>Websites</strong> – <a href="http://gardengrovesucks.com/" rel="nofollow" target="_blank">GardenGroveSucks.com</a> was a big hit.</li>
<li><strong>Job Fair</strong> – Getting your members to apply at a large local agency, which causes an influx of personnel file checks by background investigators always sends a strong signal. Keep this for last, as some of your members may ultimately leave anyway.</li>
<li><strong>Work Slowdown</strong> – This involves informing your members to comply closely with Department policy and obey all speed limits. It also involves having members do thorough investigations, such as canvassing the entire neighborhood when taking a 459 report and asking for a back-up unit on most calls. Of course, exercising officer discretion in not issuing citations and making arrests is also encouraged.</li>
<li><strong>Blue Flu</strong> – This one is very rarely used and only in dire circumstances. As with all of these, please consult your association’s attorney before even discussing this issue with your members.</li>
<li><strong>Public Ridicule</strong> – Blunders by the City Manager, Mayor, or City Council members or wasteful spending should be highlighted and pointed out to the public at every opportunity.</li>
<li><strong>Referendum / Ballot Initiatives</strong> – Getting the public to vote for a wage increase is seldom going to fly, however, as a pressure tactic, seeking petition to file a referendum on eliminating the City Manager’s position for a full time elected mayor may cause the City Manager to rethink his or her position.</li>
<li><strong>Mailers</strong> – Again, the message should be for “public safety” in getting the public to attend city council meetings and to call the City Council members (preferably at home) to chastize them for their inaction.</li>
<li><strong>Campaigning</strong> – If any members of the governing body are up for election, the association should begin actively campaigning against them, again for their lack of concern over public safety. If you are in a non-election year, make political flyers which you can explain will be mailed out the following year during the election season.</li>
<li><strong>Focus on an Individual</strong> – Avoid spreading your energy. Focus on a city manager, councilperson, mayor or police chief and keep the pressure up until that person assures you his loyalty and then move on to the next victim.</li>
<li><strong>Press Conferences</strong> – Every high profile crime that takes place should result in the association’s uproar at the governing body for not having enough officers on the street, which could have avoided the incident.</li>
</ul>
<p>Of course, other ideas that cops come up with are very imaginative. Just keep in mind, the idea is to show the decision makers that the public favors public safety and it will only harm their public support by not prioritizing you and almost equally as important, to let them know that next time they should agree with you much sooner.</p>
</div></div>]]>
            </description>
            <link>https://www.fullertonsfuture.org/2012/the-cop-playbook-public-safety-has-nothing-to-do-with-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24234379</guid>
            <pubDate>Fri, 21 Aug 2020 12:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Splitgraph Data Delivery Network – query over 40k public datasets]]>
            </title>
            <description>
<![CDATA[
Score 281 | Comments 85 (<a href="https://news.ycombinator.com/item?id=24233948">thread link</a>) | @mildbyte
<br/>
August 21, 2020 | https://www.splitgraph.com/blog/data-delivery-network-launch | <a href="https://web.archive.org/web/*/https://www.splitgraph.com/blog/data-delivery-network-launch">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><div><nav><ol><li><a href="#usage" as="#usage">Usage</a><ol><li><a href="#connecting" as="#connecting">Connecting</a></li><li><a href="#workspaces" as="#workspaces">Workspaces</a></li><li><a href="#running-queries" as="#running-queries">Running queries</a></li></ol></li><li><a href="#behind-the-scenes" as="#behind-the-scenes">Behind the scenes</a></li><li><a href="#future-and-roadmap" as="#future-and-roadmap">Future and roadmap</a></li><li><a href="#conclusion" as="#conclusion">Conclusion</a></li></ol></nav><p>Today, we are announcing the next step for Splitgraph: the <a href="https://www.splitgraph.com/connect" as="https://www.splitgraph.com/connect"><strong>Splitgraph Data Delivery Network</strong></a>.</p><p>The Splitgraph DDN is a single SQL endpoint that lets you query over 40,000 public datasets hosted on or proxied by Splitgraph.</p><p>You can connect to it from most PostgreSQL clients and BI tools <strong>without having to install anything else</strong>. It supports all read-only SQL constructs, including filters and aggregations. It even lets you run joins across distinct datasets.</p><p>In this post, we will give you a quick introduction to the DDN as well as discuss how it works behind the scenes and our plan for its future.</p><section><h3 id="usage">Usage</h3><section><h4 id="connecting">Connecting</h4><p>The endpoint is at <code>postgresql://data.splitgraph.com:5432/ddn</code>. You will need a Splitgraph API key and secret to access it.</p><p>You don't need to install anything to use the endpoint. If you go to your Splitgraph <a href="https://www.splitgraph.com/connect" as="https://www.splitgraph.com/connect">account settings</a>, you can generate a pair of credentials. You can then plug them into your SQL client.</p><p>If you're already using the <a href="https://www.splitgraph.com/docs/architecture/sgr-client"><code>sgr</code> client</a> and had registered for Splitgraph before, you can check your <code>.sgconfig</code> file for the API keys. You can also upgrade your client to version 0.2.0 with <code>sgr upgrade</code> and run <code>sgr cloud sql</code> to get a libpq-compatible connection string.</p><p><a href="https://www.splitgraph.com/docs/getting-started/installation">Installing Splitgraph locally</a> will let you snapshot these datasets and use them in <a href="https://www.splitgraph.com/docs/concepts/splitfiles">Splitfiles</a>.</p><p>There are more setup methods available in <a href="https://www.splitgraph.com/docs/splitgraph-cloud/data-delivery-network">our documentation</a>. This includes connecting to Splitgraph with clients like DBeaver, BI tools like Metabase or Google Data Studio or even other databases through ODBC.</p></section><section><h4 id="workspaces">Workspaces</h4><p>When you connect to Splitgraph, your SQL client will show you some schemas. These are data repositories featured on our <a href="https://www.splitgraph.com/explore">explore page</a> as well as datasets that you upload to Splitgraph.</p><p>We call this feature "workspaces". It works by implementing the <a href="https://en.wikipedia.org/wiki/Information_schema" as="https://en.wikipedia.org/wiki/Information_schema">ANSI information schema</a> standard. We'll expand on workspaces more in the future. For example, we'll let you:</p><ul><li>bookmark repositories that you want to show up in your workspace</li><li>allow you to have multiple workspaces and manage access to them</li><li>search for Splitgraph repositories directly from your SQL client.</li></ul></section><section><h4 id="running-queries">Running queries</h4><p>You can run queries on Splitgraph images by referencing them as PostgreSQL schemata: <code>namespace/repository[:hash_or_tag]</code>. By default, we query the <code>latest</code> tag.</p><p>For example, if you want to query the <a href="https://www.splitgraph.com/cityofchicago/covid19-daily-cases-deaths-and-hospitalizations-naz8-j4nc" as="https://www.splitgraph.com/cityofchicago/covid19-daily-cases-deaths-and-hospitalizations-naz8-j4nc"><code>cityofchicago/covid19-daily-cases-deaths-and-hospitalizations-naz8-j4nc</code> repository</a>, proxied by Splitgraph to <a href="https://data.cityofchicago.org/Health-Human-Services/COVID-19-Daily-Cases-and-Deaths/naz8-j4nc" as="https://data.cityofchicago.org/Health-Human-Services/COVID-19-Daily-Cases-and-Deaths/naz8-j4nc">Socrata</a>, you can run:</p><pre><code metastring=""><span>SELECT</span> <span>*</span> <span>FROM</span>
    <span>"cityofchicago/covid19-daily-cases-deaths-and-hospitalizations-naz8-j4nc"</span><span>.</span>covid19_daily_cases_deaths_and_hospitalizations
</code></pre><p>We let you use SQL <code>SELECT</code> and <code>EXPLAIN</code> statements. You can use any SQL clauses, including group-bys, aggregations, filters and joins. Splitgraph pushes filters down to the origin data source.</p><p>This sample query that we used in our <a href="https://www.splitgraph.com/docs/ingesting-data/socrata#using-metabase-to-join-and-plot-data-from-multiple-data-portals" as="/docs/ingesting-data/socrata#using-metabase-to-join-and-plot-data-from-multiple-data-portals">Metabase demo</a> runs a JOIN between two datasets:</p><pre><code metastring=""><span>SELECT</span>
    cambridge_cases<span>.</span><span>date</span> <span>AS</span> <span>date</span><span>,</span>
    chicago_cases<span>.</span>cases_total <span>AS</span> chicago_daily_cases<span>,</span>
    cambridge_cases<span>.</span>new_positive_cases <span>AS</span> cambridge_daily_cases
<span>FROM</span>
    <span>"cityofchicago/covid19-daily-cases-deaths-and-hospitalizations-naz8-j4nc"</span><span>.</span>covid19_daily_cases_deaths_and_hospitalizations chicago_cases
<span>FULL</span> <span>OUTER</span> <span>JOIN</span>
    <span>"cambridgema-gov/covid19-cumulative-cases-by-date-tdt9-vq5y"</span><span>.</span>covid19_cumulative_cases_by_date cambridge_cases
<span>ON</span>
    date_trunc<span>(</span><span>'day'</span><span>,</span> chicago_cases<span>.</span>lab_report_date<span>)</span> <span>=</span> cambridge_cases<span>.</span><span>date</span>
<span>ORDER</span> <span>BY</span> <span>date</span> <span>ASC</span><span>;</span>
</code></pre><p>This will join the data between two distinct Socrata data portals (<a href="https://data.cityofchicago.org/Health-Human-Services/COVID-19-Daily-Cases-Deaths-and-Hospitalizations/naz8-j4nc" as="https://data.cityofchicago.org/Health-Human-Services/COVID-19-Daily-Cases-Deaths-and-Hospitalizations/naz8-j4nc">Chicago, IL</a> and <a href="https://data.cambridgema.gov/Public-Safety/COVID-19-Cumulative-Cases-by-Date/tdt9-vq5y" as="https://data.cambridgema.gov/Public-Safety/COVID-19-Cumulative-Cases-by-Date/tdt9-vq5y">Cambridge, MA</a>).</p><p><img src="https://raw.githubusercontent.com/splitgraph/splitgraph.com/master/content/docs/0900_splitgraph-cloud/images/sql-endpoint/2-dbeaver-join.png" alt="Splitgraph SQL endpoint JOIN query example"></p><p>We also support <a href="https://postgis.net/" as="https://postgis.net/">PostGIS</a>, letting you query and visualize geospatial data. For example, you can query the <a href="https://www.splitgraph.com/splitgraph/london_wards/" as="https://www.splitgraph.com/splitgraph/london_wards/">London ward boundary data</a> image as follows:</p><pre><code metastring=""><span>SELECT</span>
    name<span>,</span>
    gss_code<span>,</span>
    
    ST_Transform<span>(</span>ST_SetSRID<span>(</span>geom<span>,</span> <span>27700</span><span>)</span><span>,</span> <span>4326</span><span>)</span><span>,</span>
    
    ST_Area<span>(</span>ST_Transform<span>(</span>ST_SetSRID<span>(</span>geom<span>,</span> <span>27700</span><span>)</span><span>,</span> <span>3035</span><span>)</span><span>)</span> <span>/</span> <span>1000000</span> <span>AS</span> area_sqkm
<span>FROM</span>
    <span>"splitgraph/london_wards"</span><span>.</span>city_merged_2018
<span>ORDER</span> <span>BY</span> gss_code <span>ASC</span><span>;</span>
</code></pre><p><img src="https://raw.githubusercontent.com/splitgraph/splitgraph.com/master/content/docs/0900_splitgraph-cloud/images/sql-endpoint/3-dbeaver-geodata.png" alt="PostGIS data on Splitgraph DDN"></p><p>There are more sample queries on our <a href="https://www.splitgraph.com/connect" as="https://www.splitgraph.com/connect">Connect page</a>.</p></section></section><section><h3 id="behind-the-scenes">Behind the scenes</h3><p>The Splitgraph Data Delivery Network is the result of all the work we've put into the <a href="https://www.splitgraph.com/docs/architecture/sgr-client"><code>sgr</code> client</a> and the <a href="https://github.com/splitgraph/splitgraph" as="https://github.com/splitgraph/splitgraph">Splitgraph Core</a> code over the past two years.</p><p>It would also have not been possible without some other open source technologies.</p><p>We use PostgreSQL foreign data wrappers. They let us perform query execution and planning across federated data sources. We wrote about <a href="https://www.splitgraph.com/blog/foreign-data-wrappers">foreign data wrappers</a> before: they're powerful and underused!</p><p>We manage connections using a fork of <a href="https://www.pgbouncer.org/" as="https://www.pgbouncer.org">pgBouncer</a>, a PostgreSQL connection pooler. Our fork lets us perform authentication outside of PostgreSQL. We can issue and revoke API keys without having to manipulate database roles. Several inbound Splitgraph users can run queries as a single PostgreSQL user.</p><p>We also use pgBouncer to transform queries on the fly. We rewrite clients' introspection queries and let them reference Splitgraph images as PostgreSQL schemata.</p><p>Each client essentially operates within its own isolated virtual database. The obvious implementation of this would be spinning up one database per client. But our query transformations let us do this at a <strong>much lower infrastructure cost</strong>. We also use this feature to inspect and drop unwanted queries on the fly.</p><p>Finally, we use our own <code>sgr</code> client to orchestrate this. Splitgraph engines power the data delivery network. They manage foreign data wrapper instantiation and querying Splitgraph images via <a href="https://www.splitgraph.com/docs/large-datasets/layered-querying">layered querying</a>. In the future, we will use Splitgraph's <a href="https://www.splitgraph.com/docs/concepts/objects">storage format</a> to snapshot remote datasets or cache frequent queries.</p></section><section><h3 id="future-and-roadmap">Future and roadmap</h3><p>There are a lot of directions we would like to pursue with Splitgraph.</p><p>You will be able to use Splitgraph to <strong>replace some of your data lake or ETL pipelines</strong> and query the data at source. This is similar to the idea of "data virtualization". But, unlike other software in this space, Splitgraph uses an open PostgreSQL procotol. This makes it immediately compatible with most of your BI tools and dashboards. It won't lock you into a proprietary query language.</p><p>We will soon have the ability to add <a href="https://www.splitgraph.com/docs/splitgraph-cloud/external-repositories">external repositories</a> to public or on-premises Splitgraph data catalogs. You will be able to query any dataset indexed in this catalog over the single SQL endpoint or our <a href="https://www.splitgraph.com/docs/splitgraph-cloud/publish-rest-api">REST API</a>. You will be able to even use these datasets in <a href="https://www.splitgraph.com/concepts/splitfiles">Splitfiles</a>. This will let you define reproducible transformations on your data, enrich it with public datasets and track lineage.</p><p>You will be able to use Splitgraph as an <strong>SQL firewall and a rewrite layer</strong>. You won't need to use views to set up access policies for your data warehouse. Data consumers won't need to manage credentials to disjoint data silos. Splitgraph can inspect proxied queries and enforce granular access policies on individual columns. It will even be able to do PII masking and access auditing.</p><p>The single SQL endpoint is well suited for a <strong>data marketplace</strong>. Data vendors currently ship data in CSV files or other ad-hoc formats. They have to maintain pages of instructions on ingesting this data. With Splitgraph, data consumers will be able to acquire and interact with data directly from their applications and clients.</p></section><section><h3 id="conclusion">Conclusion</h3><p>Today, we launched the Splitgraph Data Delivery Network. It's a seamless experience of a single database with thousands of datasets at your fingertips, compatible with most existing clients and BI tools.</p><p>If you wish to try it out, you can get credentials to access it in less than a minute: just head on to the <a href="https://www.splitgraph.com/connect" as="https://www.splitgraph.com/connect">landing page</a>.</p><p>We're also building towards a <a href="https://www.splitgraph.com/about/company/private-cloud-beta">"Splitgraph Private Cloud" product</a> that will let setup your own private Splitgraph cluster, managed by us and deployed to the cloud region of your choice. <a href="mailto:support@splitgraph.com" as="mailto:support@splitgraph.com">Contact us</a> if you're interested!</p></section></div></article></section></div>]]>
            </description>
            <link>https://www.splitgraph.com/blog/data-delivery-network-launch</link>
            <guid isPermaLink="false">hacker-news-small-sites-24233948</guid>
            <pubDate>Fri, 21 Aug 2020 11:28:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Portable Web?]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24233922">thread link</a>) | @ColinWright
<br/>
August 21, 2020 | https://m0yng.uk/2020/08/The-Portable-Web/ | <a href="https://web.archive.org/web/*/https://m0yng.uk/2020/08/The-Portable-Web/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>Recently I discovered some spare parts from past projects, and ended up with this, a battery powered Raspberry Pi Zero W. But what to do with it?</p>
<p><img src="https://m0yng.uk/images/2020/pizerowlipo.jpg" alt="A Green case with ZeroLipo Hat and LiPo cell connected"></p>
<p>A few ideas came to mind or were suggested, such as a portable DMR hotspot, POCSAG transmitter, and others. But one idea came together from a few other bits.</p>
<p>What if I could have a WiFi hotspot that served content, rather than the Internet? What if the Pi was an isolated network that followed me around?</p>
<h2 id="Basic-Setup"><a href="#Basic-Setup" title="Basic Setup"></a>Basic Setup</h2><p>The basic setup has the following parts</p>
<ul>
<li>An open WiFi hotspot (using <a href="https://github.com/billz/raspap-webgui" target="_blank" rel="noopener">RaspAP</a>)</li>
<li>A “Captive Portal” to introduce users to the “Network” (using <a href="https://github.com/nodogsplash/nodogsplash" target="_blank" rel="noopener">NoDogSplash</a>)</li>
<li>Lighttpd to host stuff on HTTP</li>
<li>dnsmasq to resolve domains to our Pi</li>
<li>USB network gadget mode to load content etc.</li>
</ul>
<p>I won’t go into detail of how this is configured, because it isn’t anything special. Basically I set a few domains to resolve to the fixed IP of the Pi, and lighttpd is set to serve static files from the PI’s SD.</p>
<p>When a user joins the network they are greeted with a page introducing the idea, and a button to connect. They should then be directed to the custom domain <code>home.portableweb</code> which provides some more info and links to services available on the Pi.</p>
<h2 id="What-can-it-do"><a href="#What-can-it-do" title="What can it do?"></a>What can it do?</h2><p>Not much, yet!</p>
<h3 id="My-website"><a href="#My-website" title="My website"></a>My website</h3><p>I have a full mirror of my website on the Pi. As it is all static html files this is really easy to do, I just copy the files to the Pi and it “Just Works”.</p>
<h3 id="Cheltenham-Amateur-Radio-Association-News-Archive"><a href="#Cheltenham-Amateur-Radio-Association-News-Archive" title="Cheltenham Amateur Radio Association News Archive"></a>Cheltenham Amateur Radio Association News Archive</h3><p>The CARA website is larger, and more complex. However, I have a simple page with some info on the club, and an archive of CARA News in PDF format.</p>
<h3 id="A-guestbook"><a href="#A-guestbook" title="A guestbook"></a>A guestbook</h3><p>I’ve made a very basic PHP guestbook that lets users read and post messages for me, and future users. It is very simple and just stores everything in a json file.</p>
<h3 id="USB-Sync"><a href="#USB-Sync" title="USB Sync"></a>USB Sync</h3><p>The Pi is configured to act as a USB network “gadget” when connected to another computer using the “data” USB port. This way I can run a small bash script that runs a handful of rsync commands to sync updates to the various “sites” to the Pi, and copy the guestbook off the Pi.</p>
<h2 id="But-Why"><a href="#But-Why" title="But Why?"></a>But Why?</h2><p>Honestly? Because I thought I could, but wasn’t sure, and it seemed fun.</p>
<p>Maybe you are reading this whilst connected to my “Portable Web”? If so, please put something in my guestbook and tell me what you think!</p>
<p>This is also a kind of experiment. It seems that every website these days has huge piles of javascript, tracking, cookies, adverts, and requires a farm of servers to make one page display. This is different, one tiny computer, no infrastructure, just you and me! That your access to the information goes away when the two of us are no longer close makes the experience mean more. Maybe. I don’t know, but it seemed worth exploring.</p>
<p>Being an open WiFi, and the impracticality of using HTTPS, everything is unencrypted. My guestbook has some security in that PHP filters out “bad stuff” the user submits, but basically this is all open. Which suits the experimental nature of amateur radio quite nicely. How long that will even be practical, I don’t know, I’m sure browsers will soon start warning users not to touch anything that isn’t HTTPS.</p>
<p>Are “portable webs” going to take over? I seriously doubt it.</p>
<p>Could they become a thing? Maybe? Has someone else already done this before, I’m sure they have! Could they be a fun way to provide more information at events, clubs, etc., maybe. (the <a href="https://google.github.io/physical-web/" target="_blank" rel="noopener">Physical Web</a> sort of does this, but in a more “cloud” way) Could I find a better name for it? I really wish I had done before using it so many times…</p>
<h2 id="What-next"><a href="#What-next" title="What next?"></a>What next?</h2><p>I want to add some more services to the Pi. Some ideas are:</p>
<ul>
<li>Telnet server to play Snakes and Ladders</li>
<li>Gopher server with similar content to the http stuff. I’d probably need to provide a gopher client too!</li>
<li>An e-paper display so I can see if there are new entries in the guestbook, connected users, etc.</li>
<li>Some live info on the Pi, such as uptime, for the users to see (as proof it really is real?)</li>
<li>Some basic contact logging software that would show what I’m doing when /P and then sync with my main log later</li>
<li>A “Portable Web Protocol” that can let units chat or something? Like StreetPass for the 3DS?</li>
<li>Improve the DNS so it catches non existent domains and returns you to some help, rather than just failing.</li>
<li>A way to trick Android (and others) to think they <em>DO</em> have Internet, so they don’t use use mobile data and ignore the Pi</li>
<li>More info on Amateur Radio, maybe clone Wikipedia? Some videos from Essex Ham?</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" title="Conclusion"></a>Conclusion</h2><p>In the end, this is probably pointless and I’ll never have anyone spontaneously use it, and I doubt anyone else will try to replicate the idea.</p>
<p>However, it was fun to build, and with some hot glue to hold the wire and LiPo in place it looks pretty neat!</p>
<p><img src="https://m0yng.uk/images/2020/pizerowlipo-glued.jpg" alt="A Green case with ZeroLipo Hat and LiPo cell glued behind"></p>
<p>If you do have thoughts, come talk to me on mastodon! I’m <a href="https://mastodon.radio/@M0YNG" target="_blank" rel="noopener">@M0YNG@mastodon.radio</a></p>

  </div></div>]]>
            </description>
            <link>https://m0yng.uk/2020/08/The-Portable-Web/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24233922</guid>
            <pubDate>Fri, 21 Aug 2020 11:20:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Product-led Growth]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 22 (<a href="https://news.ycombinator.com/item?id=24233859">thread link</a>) | @yakkomajuri
<br/>
August 21, 2020 | https://posthog.com/blog/product-led-growth | <a href="https://web.archive.org/web/*/https://posthog.com/blog/product-led-growth">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><!-- ![PLG Banner](../images/plg-header.png) -->
<p>You will need sales, but do you need a sales team to achieve revenue?</p>
<p>Let's say you are the founder of a new tech startup.&nbsp;</p>
<p>A few months back, you and a couple of friends (all developers) built an amazing tool and have now received Seed funding.&nbsp;</p>
<p>As a result, you're under some pressure to grow. You took a few million from some VCs here and there, and they want to see some results.</p>
<p>Since the realization of needing to grow hit you, you've started to lose some sleep.&nbsp;</p>
<p>Before, you were just a group of friends working your ass off to build an amazing product, with some revenue coming in from your immediate network. Now you actually have to focus on ramping up your sales.</p>
<p>You call in a founders meeting to discuss next steps, and a conclusion is reached: you can't spend all your budget on engineers, which is what you wanted to do.&nbsp;</p>
<p>Instead, you need to hire some Sales people. Or some Marketing people. Or both. Whoever can get you some users that pay for your product. Or do you? Could you invest in engineering instead to drive more revenue, and perhaps building a better company along the way?</p>
<h2 id="getting-people-to-pay-you"><a href="#getting-people-to-pay-you" aria-label="getting people to pay you permalink"></a>Getting People to Pay&nbsp;You</h2>
<p>VC funding or not, all startups will eventually need to get paid for what they do.&nbsp;</p>
<p>Irrespective of how cool your idea is, or how helpful it may be, if you're not getting money in, you can't push it forward.&nbsp;
You need customers.</p>
<p>Traditionally, there are two ways to do this: sales and marketing. They are not mutually exclusive, but one strategy or the other generally takes the lead in generating growth.  To understand them, it's helpful to refer to a funnel:</p>
<p><span>
      <a href="https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/c211c/hogflix-funnel.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="HogFlix Example Funnel" title="HogFlix Example Funnel" src="https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/fcda8/hogflix-funnel.png" srcset="https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/12f09/hogflix-funnel.png 148w,
https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/e4a3f/hogflix-funnel.png 295w,
https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/fcda8/hogflix-funnel.png 590w,
https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/efc66/hogflix-funnel.png 885w,
https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/c83ae/hogflix-funnel.png 1180w,
https://posthog.com/static/9eb858a4ac5b01f3c783e295f0444fe1/c211c/hogflix-funnel.png 1502w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h3 id="marketing-led-growth-"><a href="#marketing-led-growth-" aria-label="marketing led growth  permalink"></a>Marketing-led Growth&nbsp;📈</h3>
<p>The goal of marketing is to increase the number of people going through the funnel. </p>
<p>The idea is to make your business be seen. But not just that - it's also about being seen by the right people and seen in a positive light.</p>
<p>This involves a wide variety of aspects, from branding, to social media, and, of course, ads. If this is done well, the customer should come to you, so you won't need to go after them.</p>
<h3 id="sales-led-growth-🤝"><a href="#sales-led-growth-%F0%9F%A4%9D" aria-label="sales led growth 🤝 permalink"></a>Sales-led Growth&nbsp;🤝</h3>
<p>Sales, on the other hand, is about improving the conversion between steps of the funnel. </p>
<p>In some ways, it is the opposite of Marketing, as you will often go after the customer, rather than try to make them come to you. This can be done in a variety of ways, from cold calls to leveraging leads.&nbsp;</p>
<p>Essentially, the assumption is that there are people out there who are willing to pay for your product, so you need to do your best to find them and get them to pay you.</p>
<h2 id="the-underrated-alternative"><a href="#the-underrated-alternative" aria-label="the underrated alternative permalink"></a>The Underrated Alternative</h2>
<p>There are various benefits to Sales-led and Marketing-led growth strategies, and they are still widely used today.&nbsp;</p>
<p>However, a new approach has been gaining traction in the past few years, called Product-led Growth (PLG).</p>
<h3 id="let-your-product-do-the-talking"><a href="#let-your-product-do-the-talking" aria-label="let your product do the talking permalink"></a>Let your product do the&nbsp;talking</h3>
<p>With Product-led Growth, the idea is that rather than bringing users through an active sales team or aggressive marketing campaigns, you just focus on building your product - and ensure you make it great.</p>
<p>The concept is based on the assumption that if you build something that is useful and works well, the users will eventually come to you as result... with a little push, of course.</p>
<p>As such, your primary objective should be to make something truly amazing, rather than portray your product as amazing (which is what great Sales and Marketing people can do).</p>
<p>Now, following a PLG approach does not substitute having a Sales or Marketing team. It just means growth is <em>led</em> by the product, and the other teams in the organization operate in alignment with this methodology. </p>
<p>Additionally, operating a B2B company without a Sales team does become impractical at a large scale. We would know, since our founders used to close software sales deals in the seven figures.</p>
<h2 id="the-key-is-in-the-dna"><a href="#the-key-is-in-the-dna" aria-label="the key is in the dna permalink"></a>The Key is in the&nbsp;DNA</h2>
<p>While this "strategy" sounds more like common sense than a methodical approach, there's more to Product-led growth than meets the eye.</p>
<p>To truly succeed as a business that drives growth primarily through its product, this concept needs to be built into the company culture.</p>
<p>While Sales and Marketing can often work well as segregated teams that draw from the product but operate independently in practice, focusing on building a product is an organization-wide effort.</p>
<p>As <a href="https://www.productled.org/foundations/what-is-product-led-growth">PLGC</a> put it, different teams often operate in different wavelengths, but with Product-Led Growth, you need everyone to converge into one single wavelength: user experience.&nbsp;</p>
<p>At PostHog, we follow a Product-led Growth approach. And we'll tell you, this has implications for all areas of the company:</p>
<h3 id="sales"><a href="#sales" aria-label="sales permalink"></a>Sales</h3>
<p>Don't make a sale if your product is not a good fit for the customer.&nbsp;</p>
<p>From the first paragraph of <a href="https://posthog.com/handbook/growth/sales">PostHog's Handbook Sales page</a>:</p>
<blockquote>
<p>Always focus on delivering what the customer needs. Sometimes that will mean sending them to a competitor or turning them&nbsp;down.</p>
</blockquote>
<p>Yes, this is literally an official guideline for doing Sales at PostHog.</p>
<h3 id="team"><a href="#team" aria-label="team permalink"></a>Team</h3>
<p>If you're a software company, PLG might mean opting for more Engineers than Sales people, for instance. In our case, we still don't have a single person doing Sales or Marketing exclusively. Almost our entire team is made up of Engineers, including people not working day-to-day on our codebase.&nbsp;</p>
<p>More than with other approaches, you also need to make sure your hires are individuals who understand and are passionate about the product, as well as are proactive in making it better.&nbsp;</p>
<p>Your Sales people shouldn't cut corners to close a deal, and the Marketing team should focus on highlighting the product you built.</p>
<h3 id="communication"><a href="#communication" aria-label="communication permalink"></a>Communication</h3>
<p>Listen to your users on everything.</p>
<p>Built something? Get feedback. New idea? Get feedback. Launched a release? Get feedback.</p>
<p>As one of our <a href="https://twitter.com/mariusandra">core devs</a> put it following interviews with users about a new feature he built: "Your assumptions are mostly wrong. Talk to people to correct them".</p>
<p>When generating growth primarily through Sales or Marketing, the segregation between the people who are building the product and those selling it can lead to diversion between what users want and what is being offered to them.</p>
<p>When focusing on the product, you should always be touching base with your users, and be willing to drop features you love if they don't feel the same way.</p>
<h3 id="priorities"><a href="#priorities" aria-label="priorities permalink"></a>Priorities</h3>
<p>At PostHog, our methodology is:</p>
<blockquote>
<p>If we keep our team first and users second, then our investors will take care of themselves!</p>
</blockquote>
<p>Users are key and should be a top priority.</p>
<p>However, you must remember that your team consists of the first users of your product, its main advocates, and its builders!&nbsp;</p>
<p>Hence, since users are a priority, and the team takes care of the users, you need to take care of your team!</p>
<h3 id="growth"><a href="#growth" aria-label="growth permalink"></a>Growth</h3>
<p>Since you're not aggressively seeking out users with Product-Led Growth, you are likely to experience slower growth at first.&nbsp;
Later on, however, if you did truly build something great, you may benefit from a network effect that skyrockets your userbase.&nbsp;</p>
<p>Facebook and Slack are great examples of this.&nbsp;</p>
<table>
<thead>
<tr>
<th><span>
      <a href="https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/d56b5/facebook-stock.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Facebook Stock Price" title="Facebook Stock Price" src="https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/fcda8/facebook-stock.png" srcset="https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/12f09/facebook-stock.png 148w,
https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/e4a3f/facebook-stock.png 295w,
https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/fcda8/facebook-stock.png 590w,
https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/efc66/facebook-stock.png 885w,
https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/c83ae/facebook-stock.png 1180w,
https://posthog.com/static/5af23dc0fcb6241bc4469deb48ef0a9c/d56b5/facebook-stock.png 1215w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></th>
</tr>
</thead>
<tbody>
<tr>
<td><center> Facebook (FB) Stock Price - Source: <a href="https://finance.yahoo.com/chart/FB">Yahoo Finance</a></center></td>
</tr>
</tbody>
</table>
<p>Facebook, in fact, actually grew fast early on, while following a primarily PLG approach. This goes on to show that it is possible
to grow fast despite following a Product-led Growth approach, or, perhaps even because of it. When you're an industry disruptor, your product speaks for itself, since it is something new, rather than an improvement on something that already exists. As such, your product can potentially drive your growth even if you don't explicitly follow a PLG strategy.</p>
<p>Tesla is another example of a company that lets its disruptive product do the talking. They reportedly spend a <a href="https://www.forbes.com/sites/johnkoetsier/2019/05/06/tesla-spends-zero-on-ads-heres-where-bmw-toyota-ford-and-porsche-spend-digital-ad-dollars/#4a574ec911d4">whopping 0$ on advertising</a>, yet have a brand that is known worldwide, and a <a href="https://finance.yahoo.com/quote/TSLA/">stock price that seems to just keep on rising</a>. </p>
<h3 id="revenue"><a href="#revenue" aria-label="revenue permalink"></a>Revenue&nbsp;</h3>
<p>Since the initial focus is on building a product rather than selling it, you will likely make less money in the short-run.</p>
<p>With the goal not being to hit a Sales metric, you might be turning down opportunities to generate revenue if they are not perfectly aligned with what you're building.</p>
<p>As such, you need to make sure your team and investors are aligned with this. It should be understood that <a href="https://posthog.com/blog/raising-3m-for-os">it's okay to not be making money in the early stages</a>.</p>
<h2 id="one-size-doesnt-fit-all"><a href="#one-size-doesnt-fit-all" aria-label="one size doesnt fit all permalink"></a>One Size Doesn't Fit&nbsp;All</h2>
<p>Product-Led Growth is not a magic pill. It does have its shortcomings.</p>
<p>Primarily, how can you let your product speak for itself if you can't get anyone to look at it in the first place?</p>
<p>But rather than tell you when Product-led Growth might not work, let's explore some aspects that may be beneficial to it.</p>
<h3 id="funding"><a href="#funding" aria-label="funding permalink"></a>Funding</h3>
<p>It's much easier to focus almost exclusively on building a product when you're already well-funded. This is our case at PostHog.</p>
<p>To build a great product, you need a great team. And to build a great team, you need money.&nbsp;</p>
<p>Thus, if you're a company without a lot of money in the bank, you might just need to get some Sales done now, simply to fund your operations.</p>
<p>Not having funding shouldn't discourage you from trying a PLG approach, however. It can still work, just look at GitLab. They first raised money after already having 100,000 users and Sid (their CEO) <a href="https://posthog.com/blog/a-chat-with-sid">told us</a> they didn't even have a significant marketing budget until then. Wow.</p>
<h3 id="open-source-software"><a href="#open-source-software" aria-label="open source software permalink"></a>Open Source&nbsp;Software</h3>
<p>Being open source is a great characteristic for companies looking to follow a PLG approach.&nbsp;</p>
<p>This is because you can get users excited not only about the usability of your product, but also how it's built.</p>
<p>Additionally, open source software projects by default encourage community participation, since anyone is able to suggest a change, raise an issue, or even contribute code.&nbsp;</p>
<p>As such, you are more involved with your users and can gain better insight into how people feel about your product.</p>
<h3 id="breadth-of-experience"><a href="#breadth-of-experience" aria-label="breadth of experience permalink"></a>Breadth of Experience</h3>
<p>With regards to professional experience, depth refers to extensive experience in a specific field, whereas breadth can be seen as experience across fields.</p>
<p>Depth of experience is an essential characteristic of a world-class team. However, having some focus on breadth can also be beneficial. …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://posthog.com/blog/product-led-growth">https://posthog.com/blog/product-led-growth</a></em></p>]]>
            </description>
            <link>https://posthog.com/blog/product-led-growth</link>
            <guid isPermaLink="false">hacker-news-small-sites-24233859</guid>
            <pubDate>Fri, 21 Aug 2020 11:07:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple SSH privacy bug actively “exploited at large” still unpatched]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24233724">thread link</a>) | @axsharma
<br/>
August 21, 2020 | https://securityreport.com/apple-ssh-privacy-bug-actively-exploited-at-large-remains-unpatched-after-2-years/ | <a href="https://web.archive.org/web/*/https://securityreport.com/apple-ssh-privacy-bug-actively-exploited-at-large-remains-unpatched-after-2-years/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
            




<p>A privacy bug lurking around in Apple Mac OS X since at least 2018 continues to remain unpatched.</p>



<p>The severity of the bug could be considered <em>moderate</em>, as the attacker would first need to establish an SSH connection to the system. However, it forms one of the Improper Authorization exploits actively leveraged by the <a href="https://blog.trendmicro.com/trendlabs-security-intelligence/xcsset-mac-malware-infects-xcode-projects-performs-uxss-attack-on-safari-other-browsers-leverages-zero-day-exploits/" target="_blank" rel="noreferrer noopener">XCSSET Mac Malware</a>, described in <em>TrendMicro’s</em> report.</p>



<p>XCSSET malware targets XCode projects, altering them in such a way, that they execute malicious code on building. </p>



<p>In a technical brief PDF provided by <em>TrendMicro</em>, the “Data Vault vulnerability used in Safari cookie theft” specifically refers to this very SSH vulnerability. </p>



<p>The bug was previously discovered and reported by Howard Oakley in his <a href="https://eclecticlight.co/2018/11/12/who-put-that-in-my-full-disk-access-list-ssh-and-mojaves-privacy-protection/" target="_blank" rel="noreferrer noopener">blog</a> post titled <em>“Who put that in my Full Disk Access list?”</em></p>



<p>In fact, security engineer Mikey (<a href="https://twitter.com/0xmachos/status/1296064717098811392" target="_blank" rel="noreferrer noopener">0xmachos</a>) wasted no time in calling out <em>TrendMicro</em> for not referencing Oakley in their report.</p>



<figure></figure>



<p>Oakley explained how in certain cases, macOS would automatically give <code>ssh</code> <strong>Full Disk Access </strong>to a connected user, effectively bypassing their privacy settings.</p>



<figure><img loading="lazy" src="https://eclecticlightdotcom.files.wordpress.com/2020/08/ssh02.jpg?w=940" alt="ssh02" width="580" height="509"><figcaption><strong>macOS Full Disk Access list contains “sshd-keygen-wrapper” and “sshd”</strong><br>Source: EclecticLight blog</figcaption></figure>



<p>Typically, macOS systems are in one of the three states, with regards to SSH access:</p>



<ul><li>they were never accessed over SSH. Therefore, the&nbsp;<code>sshd-keygen-wrapper</code>&nbsp;entry is not present in the&nbsp;<strong>Full Disk Access</strong>&nbsp;list, <strong>or</strong><br></li><li>have been accessed over SSH with Full Disk Access permission granted, due to&nbsp;<code>sshd-keygen-wrapper</code>&nbsp;being listed and ticked, <strong>or</strong><br></li><li>accessed over SSH but permissions were now removed, with&nbsp;<code>sshd-keygen-wrapper</code>&nbsp;listed under Full Disk Access but <strong>not ticked</strong>.</li></ul>



<p>“It is only when&nbsp;<strong>Privacy</strong>&nbsp;settings are in the last state that access to protected data will be refused. The only control that the user has is enabling and disabling the&nbsp;<code>sshd-keygen-wrapper</code>&nbsp;in the&nbsp;<strong>Full Disk Access</strong>&nbsp;list, which has the effect of toggling access to protected data for that user,” stated Oakley in his original blog post.</p>



<p>Moreover, removing the <code>sshd-keygen-wrapper</code> from the Full Disk Access list didn’t prevent access to protected data at all!</p>



<div><p>This means, ideally when in the first state, macOS should<em> by default</em> <em>prevent</em> granting access to areas specified by “sshd-keygen-wrapper,” should the setting had been ticked. But that isn’t the case.</p><p>Unchecking “sshd-keygen-wrapper” from the list is acceptable, and works as intended. But removing it altogether will actually add it back into the list in a “ticked” state.</p></div>



<h2>Consequences? Exploited at large.</h2>



<p>This means a user accessing macOS over SSH will now have full permissions and privileges offered as if this option was ticked. This directly concerns the user’s privacy.</p>



<p>“To gain full access to any privacy-protected directory, all an attacker has to do is establish an ssh connection. Provided Remote Login is enabled, and <code>sshd-keygen-wrapper</code> <strong>isn’t both present and disabled (unticked)</strong> in the Full Disk Access list, macOS will automatically bypass its own privacy protection without any further control,” states Oakley in his latest <a href="https://eclecticlight.co/2020/08/20/the-vulnerability-in-remote-login-ssh-persists/" target="_blank" rel="noreferrer noopener">post</a>.</p>



<p>This behaviour can be exploited by malware and sophisticated “vulnerability chaining” exploits to steal sensitive files, such as Safari browser cookies.</p>



<figure><img loading="lazy" width="1024" height="712" src="https://securityreport.com/wp-content/uploads/2020/08/image-2-1024x712.png" alt="" srcset="https://securityreport.com/wp-content/uploads/2020/08/image-2-1024x712.png 1024w, https://securityreport.com/wp-content/uploads/2020/08/image-2-300x209.png 300w, https://securityreport.com/wp-content/uploads/2020/08/image-2-768x534.png 768w, https://securityreport.com/wp-content/uploads/2020/08/image-2.png 1248w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://securityreport.com/wp-content/uploads/2020/08/image-2-1024x712.png 1024w, https://securityreport.com/wp-content/uploads/2020/08/image-2-300x209.png 300w, https://securityreport.com/wp-content/uploads/2020/08/image-2-768x534.png 768w, https://securityreport.com/wp-content/uploads/2020/08/image-2.png 1248w" data-src="https://securityreport.com/wp-content/uploads/2020/08/image-2-1024x712.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure>



<p>“macOS protects the Safari cookie file <code>~/Library/Cookies/Cookies.binarycookies</code> with the System Integrity<br>Protection (SIP) feature. However, we found a bypass method when analyzing the malware’s <code>safari_cookie</code> module. It is a zero-day vulnerability exploitation that is at large,” reads <em>TrendMicro’s</em> technical brief on XCSSET.</p>



<h2>Remediating what’s <em>not a “zero-day”</em></h2>



<p>While <em>TrendMicro</em> refers to this vulnerability as a “zero-day,” not all experts agree.</p>



<p>For example, Thomas Reed, Director of Mac and Mobile at Malwarebytes told <em><a href="https://portswigger.net/daily-swig/apple-security-sophisticated-mac-malware-targets-developers" target="_blank" rel="noreferrer noopener nofollow">The Daily Swig</a></em>:</p>



<p>“The Data Vault vulnerability is definitely not a zero-day, as it’s been known for a couple of years that using SSH/SCP bypasses TCC restrictions. This is a known issue, but it’s been known since 2018 and may, at this point, be something that Apple considers to be working as intended.”</p>



<p>Oakley’s recommendation advice comes in two measures which would make it harder for attackers to exploit this bug:</p>



<p>“Disable <strong>Remote Login</strong> and ensure that <code>sshd-keygen-wrapper</code> has been added to your Mac’s <strong>Full Disk Access</strong> list but is <strong>unticked</strong> there.”</p>



<p>Until Apple patches this privacy <em>omission</em> in their OS X builds, the vulnerability may continue to be exploited as a part of advanced attacks on Apple systems.</p>
                <div>
                    <h3>About the author</h3>
                                        
        <div>

                <p><a href="https://securityreport.com/author/ax-sharma/"><img alt="" src="https://secure.gravatar.com/avatar/d0d95768ca47b1764f5fb964cf860afa?s=150&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/d0d95768ca47b1764f5fb964cf860afa?s=300&amp;d=retro&amp;r=pg 2x" height="150" width="150" loading="lazy" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></a>
                </p>
                <div>
                    <h4>
                        <a href="https://securityreport.com/author/ax-sharma/">Ax Sharma</a>
                    </h4>

                    
                    
                                            <p>
                        <a href="https://axsharma.com/" target="_blank">https://axsharma.com/</a>
                        </p>
                                        <div>
                        <p>Ax Sharma is a Security Researcher, Engineer, and Tech Columnist. His works and expert analyses have frequently been featured by leading media outlets like Fortune, The Register, TechRepublic, CIO, etc.</p>
<p>Ax’s expertise lies in vulnerability research, reverse engineering, software development, and web app security. He’s an active community member of the OWASP Foundation and the British Association of Journalists (BAJ).</p>
<p>Send any tips via email or Twitter DM.</p>
                    </div>
                    
                                    </div>
        </div>

                                            </div>
                                            
                        
	<nav role="navigation" aria-label="Continue Reading">
		<h2>Continue Reading</h2>
		
	</nav>                    </div><!-- .entry-content -->
    </div></div>]]>
            </description>
            <link>https://securityreport.com/apple-ssh-privacy-bug-actively-exploited-at-large-remains-unpatched-after-2-years/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24233724</guid>
            <pubDate>Fri, 21 Aug 2020 10:37:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Researchers achieve 178,000Gbps Internet speed]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24233660">thread link</a>) | @vvpvijay
<br/>
August 21, 2020 | https://androidrookies.com/researchers-achieve-a-whopping-178000gbps-internet-speed/ | <a href="https://web.archive.org/web/*/https://androidrookies.com/researchers-achieve-a-whopping-178000gbps-internet-speed/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-10413"><div><div><div><h2>UCL engineers set new world record internet speed by achieving a mindboggling 178,000Gbps speed aka 178Tbps</h2><p>The current generation thrives on the Internet and its speed. The normal speed we have in our home is about 10 to 100Mbps but just imagine what will happen if you have a download speed of 178,000 gigabits per second on your home Wi-Fi network. You could download the entire Netflix library of movies/serials and TV shows in just under a second. Mind-blowing isn’t it!</p><p>Researchers from University College London have achieved the impossible speed of 178Tbps during their research. The importance of UCL researchers’ achievement can be surmised from the fact that the current optical fiber-enabled data centers are capable of transmitting data at speeds of 35Tbps. The existing world record for maximum Internet speed was set by an Australian research team at 44.2Tbps in May this year. But all these records pale in light of the mind-boggling speed that UCL researchers have achieved.</p><p>A team of researchers from University College London led by Dr. Lidia Galdino in collaboration with Xtera and KDDI Research has succeeded in achieving 4 times the speed of Australian researchers’ earlier world record.</p><p>The researchers have published a <a href="https://www.ucl.ac.uk/news/2020/aug/ucl-engineers-set-new-world-record-internet-speed">blog post</a> explaining how they achieved the world record Internet speed of 178,000Gbps. The researchers say that they used wavelengths much wider than those used in existing fiber optic systems and a spectral bandwidth of 16.8 THz. To understand the bandwidth used by the researchers, we can compare it with the currently used networks which use 4.5 THz bandwidth. The next-gen 9THz bandwidth is just being implemented in some parts of the world.</p><p>To achieve this spectral bandwidth, the researchers combined different amplifier technologies needed to boost the signal power over this wider bandwidth and maximized speed by developing new Geometric Shaping (GS) constellations or patterns of signal combinations that make the best use of the phase, brightness and polarization properties of the light. They were able to manipulate the properties of each individual wavelength to get the desired spectrum. By using a system-tailored set of geometrically shaped constellations, the UCL engineers demonstrated the transmission of 660 ×25 GBd channels over 40 km, resulting in a record single-mode fiber net throughput of 178.08 Tbit/s.</p><p>The researchers say that the data transmission rate of 178 terabits a second (178,000,000 megabits a second) could take less than an hour to download the data that made up the world’s first image of a black hole (which, because of its size, had to be stored on half a ton of hard drives and transported by plane).</p><p>Interestingly the Internet transmission speed achieved by UCL researchers is very close to the theoretical limit for data transmission given by the American mathematician Claude Shannon in 1949.</p><p>While the earlier research was limited to labs, UCL research could actually be commercialized says Dr.Gadlino, “While current state-of-the-art cloud data-center interconnections are capable of transporting up to 35 terabits a second, we are working with new technologies that utilize more efficiently the existing infrastructure, making better use of optical fiber bandwidth and enabling a world record transmission rate of 178 terabits a second.”</p><p>The UCL team’s research was funded by the Royal Academy of Engineering, The Royal Society Research Grant, and the EPSRC program grant. The team has written a research paper on their achievement called the <a href="https://ieeexplore.ieee.org/abstract/document/9144561"><strong>IEEE Photonics Technology Letters</strong></a>. You can visit Dr.Gadlino’s academic profile <a href="https://iris.ucl.ac.uk/iris/browse/profile?upi=LGALD74">here</a>.</p></div></div></div></article></div>]]>
            </description>
            <link>https://androidrookies.com/researchers-achieve-a-whopping-178000gbps-internet-speed/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24233660</guid>
            <pubDate>Fri, 21 Aug 2020 10:23:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Brutalist and Modernist Architectures Collide at Sunshine Plaza in Prague]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24233293">thread link</a>) | @vackosar
<br/>
August 21, 2020 | https://vaclavkosar.com/ml/Brutalist-and-Modernist-Architectures-Collide-at-Sunshine-Plaza-in-Prague | <a href="https://web.archive.org/web/*/https://vaclavkosar.com/ml/Brutalist-and-Modernist-Architectures-Collide-at-Sunshine-Plaza-in-Prague">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://vaclavkosar.com/ml/Brutalist-and-Modernist-Architectures-Collide-at-Sunshine-Plaza-in-Prague</link>
            <guid isPermaLink="false">hacker-news-small-sites-24233293</guid>
            <pubDate>Fri, 21 Aug 2020 09:02:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Linux Kernel is no longer Free Software? [video]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24232828">thread link</a>) | @URfejk
<br/>
August 21, 2020 | https://flix.librenet.co.za/videos/watch/0f9f51c2-42cb-45b5-91f0-64308bacb35e | <a href="https://web.archive.org/web/*/https://flix.librenet.co.za/videos/watch/0f9f51c2-42cb-45b5-91f0-64308bacb35e">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://flix.librenet.co.za/videos/watch/0f9f51c2-42cb-45b5-91f0-64308bacb35e</link>
            <guid isPermaLink="false">hacker-news-small-sites-24232828</guid>
            <pubDate>Fri, 21 Aug 2020 07:24:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding Memory Fragmentation in Haskell]]>
            </title>
            <description>
<![CDATA[
Score 47 | Comments 12 (<a href="https://news.ycombinator.com/item?id=24232809">thread link</a>) | @tirumaraiselvan
<br/>
August 21, 2020 | https://www.well-typed.com/blog/2020/08/memory-fragmentation/ | <a href="https://web.archive.org/web/*/https://www.well-typed.com/blog/2020/08/memory-fragmentation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
          <p>Recently I’ve done a bit of work for <a href="https://hasura.io/">Hasura</a>, investigating some strange memory behavior in <a href="https://github.com/hasura/graphql-engine">graphql-engine</a>. When measuring memory usage, we can ask the operating system (OS) how much memory our process is using, but we can also use the GHC runtime system’s (RTS) heap profiler. After running a <code>graphql-engine</code> benchmark, the server’s memory usage reported by the OS was much higher than the “heap residency” reported by GHC’s heap profiler. This led us down a bit of a rabbit hole of understanding memory allocation and memory fragmentation in programs compiled with GHC.</p>
<p>In this blog post, we look at memory fragmentation in the Haskell heap and how it arises. We look at how fragmentation affects the discrepancy between heap residency reported by the RTS and memory usage reported by the OS. In particular, we focus on a pathological case of a program that makes use of pinned data and transitions from high heap residency to relatively low heap residency.</p>
<!-- more -->
<h3 id="memory-metrics">Memory Metrics</h3>
<p>On Linux there are multiple ways to measure memory usage of a process, but the one we’ll focus on is <em>virtual memory resident set size</em>, <code>VmRSS</code>. This can be sampled from <code>/proc/&lt;PID&gt;/status</code> where <code>&lt;PID&gt;</code> is a process ID. We won’t get into the details of this, but suffice it to say that we consider <code>VmRSS</code> the “true” memory usage of our Haskell program.</p>
<p><em>Heap residency</em> is a measurement taken by the runtime system’s heap profiler. It measures the size of all <em>live</em> data on the Haskell heap. <code>VmRSS</code> is always higher than heap residency. The reason is that heap residency is only a measure of <em>live</em> data on the Haskell heap while <code>VmRSS</code> is “all inclusive”. <a href="https://downloads.haskell.org/~ghc/8.10.2/docs/html/users_guide/profiling.html#actual-memory-residency">The GHC user’s guide</a> gives the following reasons for a higher <code>VmRSS</code>:</p>
<ol type="1">
<li>Overhead due to a profiled build. Each heap object uses an extra 2 words that are usually not counted in the heap profile.</li>
<li>Garbage collection. The copying collector (i.e.&nbsp;the default collector) makes a copy of all live unpinned data causing a peak in memory usage.</li>
<li>Thread stacks are not counted in the heap profile by default. Profiling with the <code>-xt</code> runtime system option includes stacks in the profile.</li>
<li>The program text itself, the C stack, any “non-heap” data (e.g.&nbsp;data allocated by foreign libraries and data allocated by the RTS itself), and <code>mmap()</code>‘d memory are not counted in the heap profile.</li>
</ol>
<p>In the following section is an example program which we focus on for this blog post. We’ll dive into the details shortly, but this program exhibits much higher <code>VmRss</code> than heap residency, so let’s consider why this might be:</p>
<ul>
<li><p>We’re not using a profiled build, so point 1 does not apply.</p></li>
<li><p>In general, stack usage can be significant and you should profile with <code>-xt</code> to diagnose this. The example program has negligible stack size, so point 3 also doesn’t apply.</p></li>
<li><p>The runtime system (RTS) is written in C and has it’s own stack and non-heap data, but this is negligible compared to the large amount of data we’re allocating on the Haskell heap. The program text is small and we’re also not calling any foreign code nor <code>mmap()</code>’ing any memory, so point 4 doesn’t apply.<a href="#fn1" id="fnref1" role="doc-noteref"><sup>1</sup></a></p></li>
</ul>
<p>That leaves point 2 which is certainly applicable, but there is another reason that the above list does not mention: fragmentation.</p>
<p>Another metric from the RTS is the <em>heap size</em>. Heap size is an all inclusive metric of the Haskell heap. It includes fragmentation. <code>VmRSS</code> and heap size are about equal in our example program.<a href="#fn2" id="fnref2" role="doc-noteref"><sup>2</sup></a> Comparing <code>VmRSS</code> and heap size is a good way to check if the memory usage is truly in the Haskell heap or if there are other issues as listed in point 4.</p>
<h4 id="kilobyte-vs-kibibyte">Kilobyte vs Kibibyte</h4>
<p>As we’re closely counting bytes, we should make clear the awkward situation that memory is sometimes reported in base 10 units (e.g.&nbsp;kilobyte (kB) = 1000 bytes) and sometimes in base 2 units (e.g.&nbsp;kibibyte (KiB) = 1024 bytes). To make it worse, the “i” used in the symbols for base 2 units (e.g.&nbsp;“KiB”) is often omitted so they look just like the base 10 counterpart (e.g.&nbsp;“KB”). Confusingly, <code>/proc/&lt;PID&gt;/status</code> says “kB” but means “KiB”. The <code>eventlog2html</code> output says “G”, “M”, and “K” but means “GB”, “MB”, “kB”. The debugging output from the <code>-Dg</code> RTS option prints “MB” but means “MiB.”<a href="#fn3" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>With the exception of the heap profile graphs (generated with <code>eventlog2html</code>), all numbers in the blog post will be in base 2: gibibyte (GiB) = 1024 MiB, mebibyte (MiB) = 1024 KiB, and kibibyte (KiB) = 1024 bytes.</p>
<h3 id="example">Example</h3>
<p>Let’s consider the following application that allocates a list of <code>ByteString</code>s and then retains a smaller 1/10th subset of them:</p>
<div id="cb1"><pre><code><span id="cb1-1"><a href="#cb1-1"></a><span>-- Main.hs</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span>{-# LANGUAGE BangPatterns #-}</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span>{-# OPTIONS_GHC -Wall #-}</span></span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span>import</span> <span>Control.Concurrent</span> (threadDelay)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span>import</span> <span>Control.DeepSeq</span> (force)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span>import</span> <span>Control.Monad</span> (forM_)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span>import</span> <span>qualified</span> <span>Data.ByteString</span> <span>as</span> <span>BS</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span>import</span> <span>System.Mem</span> (performGC)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span>import</span> <span>System.Environment</span> (getArgs)</span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span>main ::</span> <span>IO</span> ()</span>
<span id="cb1-13"><a href="#cb1-13"></a>main <span>=</span> <span>do</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>  n <span>&lt;-</span> <span>read</span> <span>.</span> <span>head</span> <span>&lt;$&gt;</span> getArgs</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a>  <span>-- Allocate lots of ByteStrings (ByteStrings are backed with pinned data)</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>  <span>let</span> <span>!</span>superset <span>=</span> force <span>$</span> <span>take</span> n [BS.singleton x <span>|</span> x <span>&lt;-</span> <span>cycle</span> [<span>minBound</span><span>..</span><span>maxBound</span>]]</span>
<span id="cb1-18"><a href="#cb1-18"></a>  <span>putStrLn</span> <span>"1st Plateau start"</span></span>
<span id="cb1-19"><a href="#cb1-19"></a>  spin <span>3</span></span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a>  <span>-- Extract only a small subset of the superset and allow superset to be</span></span>
<span id="cb1-22"><a href="#cb1-22"></a>  <span>-- garbage collected. Specifically retain every 10th element.</span></span>
<span id="cb1-23"><a href="#cb1-23"></a>  <span>let</span> subsetFactor <span>=</span> <span>10</span><span> ::</span> <span>Int</span></span>
<span id="cb1-24"><a href="#cb1-24"></a>  <span>let</span> <span>!</span>subset <span>=</span> force <span>$</span> [x <span>|</span> (x, <span>1</span>) <span>&lt;-</span> <span>zip</span> superset (<span>cycle</span> [<span>1</span><span>..</span>subsetFactor])]</span>
<span id="cb1-25"><a href="#cb1-25"></a>  <span>putStrLn</span> <span>"2nd Plateau start"</span></span>
<span id="cb1-26"><a href="#cb1-26"></a>  spin (<span>3</span> <span>*</span> subsetFactor)</span>
<span id="cb1-27"><a href="#cb1-27"></a></span>
<span id="cb1-28"><a href="#cb1-28"></a>  <span>-- Stop `subset` from being garbage collected by using it here.</span></span>
<span id="cb1-29"><a href="#cb1-29"></a>  <span>print</span> (<span>length</span> subset)</span>
<span id="cb1-30"><a href="#cb1-30"></a></span>
<span id="cb1-31"><a href="#cb1-31"></a><span>-- Spin and allow heap profiler to collect samples.</span></span>
<span id="cb1-32"><a href="#cb1-32"></a><span>spin ::</span> <span>Int</span> <span>-&gt;</span> <span>IO</span> ()</span>
<span id="cb1-33"><a href="#cb1-33"></a>spin i <span>=</span> forM_ [<span>1</span><span>..</span>i] (\_ <span>-&gt;</span> threadDelay <span>1</span> <span>&gt;&gt;</span> performGC)</span></code></pre></div>
<p>Compile with <code>ghc -rtsopts -eventlog -debug Main.hs</code> and run with <code>./Main 10000000 +RTS -s -Dg -hT -l --disable-delayed-os-memory-return -RTS</code>. The <code>-hT -l</code> options produce an eventlog with a memory profile that we can be visualized with <code>eventlog2html</code>. The <code>-Dg</code> option prints garbage collector statistics to standard error. The <code>--disable-delayed-os-memory-return</code> option is explained later.</p>
<p>Consider what we expect when running a heap profile. The program should allocate some memory then spin a bit. Next, <code>superset</code> is garbage collected and we’re left with <code>subset</code>. We expect heap residency to drop to 1/10 of the size. After spinning for some more time the program will exit. That’s what we expect. Here is what the heap profile shows:</p>
<p><img src="https://www.well-typed.com/blog/aux/images/memory-fragmentation/prof-heap-strip.svg"></p>
<p>The majority of memory is <code>PS</code>, <code>ARR_WORDS</code>, <code>:</code>, and <code>PlainPtr</code>. These are the type constructors found in a list of <code>ByteString</code>. <code>PS</code> is the <code>ByteString</code> constructor and <code>PlainPtr</code> and <code>ARR_WORDS</code> are internal to <code>ByteString</code>. We see that allocating <code>superset</code> results in about 1.04GiB (1.12GB) of heap residency corresponding to the first plateau in the heap profile between 27 and 39 seconds. After this, we take 1/10 of that data, <code>subset</code>, and allow the rest of <code>superset</code> to be garbage collected. Hence, we expect the heap residency to drop to about 1/10 of the size, 0.10GiB (0.11GB), but this is not what the profile shows! Heap residency decreases only to about 0.37GiB (0.4GB) and all of <code>ARR_WORDS</code> is unexpectedly retained.</p>
<p>This is not some subtle mistake in the code causing <code>ARR_WORDS</code> to be retained. This is in fact due to how the RTS handles pinned memory. Let’s look at the memory residency reported by the operating system. I sampled the <code>VmRSS</code> reported in <code>/proc/&lt;pid&gt;/status</code> every 0.01 seconds:</p>
<p><img src="https://www.well-typed.com/blog/aux/images/memory-fragmentation/prof-vmrss-strip.svg"></p>
<p>The <code>VmRSS</code> has some discrepancies with the heap profile. The OS is reporting about 1.84GiB of memory at the first plateau. That’s almost 1.8 times more than the heap profile. In synch with the heap profile, between 40 and 61 seconds, there is a second plateau where <code>VmRSS</code> is about 1.5GiB. That’s about 4 times more than the heap profile. So not only is the <code>VmRSS</code> significantly higher than heap residency on the first plateau, but the discrepancy is much worse on the second plateau.</p>
<h3 id="the-heap">The Heap</h3>
<p>In order to make sense of the memory profile we need to understand the structure of GHC’s Haskell heap, how allocation works, and a bit about garbage collection. I’ll give a simplified overview of this. In particular I’m ignoring megablock/block groups, block descriptors, and am only considering the oldest garbage collector generation. I’m also assuming that the default copying garbage collector is in use.</p>
<h4 id="megablocks-blocks-and-objects">Megablocks, Blocks, and Objects</h4>
<p>The Haskell heap is made up of 1MiB “megablocks”. Within those are 4KiB “blocks”. Within those blocks are the actual data objects. Blocks are designated as exclusively containing either pinned or unpinned data. Here is an example of what the heap might look like in virtual memory space:</p>
<p><img src="https://www.well-typed.com/blog/aux/images/memory-fragmentation/heap-legend.png"> <img src="https://www.well-typed.com/blog/aux/images/memory-fragmentation/heap-example.png"></p>
<p>This is not to scale. In reality a megablock contains many more blocks, a block typically contains many more objects, and objects can vary in size. Notice that megablocks are not necessarily contiguous within virtual memory space. We call the unused gaps between megablocks “megablock level fragmentation”:</p>
<p><img src="https://www.well-typed.com/blog/aux/images/memory-fragmentation/megablock-level-frag.png"></p>
<p>Likewise the unused gaps between blocks within megablocks is called “block level fragmentation”:</p>
<p><img src="https://www.well-typed.com/blog/aux/images/memory-fragmentation/block-level-frag.png"></p>
<p>Dead objects within blocks are called “object level fragmentation”:</p>
<p><img src="https://www.well-typed.com/blog/aux/images/memory-fragmentation/object-level-frag.png"></p>
<p>Note that some blocks have some unused space at the end because we have yet to add objects there or there was not enough space to add an object so the RTS allocated a new block instead. That extra space is called “slop” and we don’t count this as object level fragmentation. We mostly ignore slop for this post.</p>
<h4 id="pinned-data">Pinned Data</h4>
<p>What is pinned data? Thanks to referential transparency, the memory address of an object in Haskell is usually not important. This permits the RTS’s default copying garbage collector to move objects around in memory i.e.&nbsp;changing their memory location. In practice, we may want a chunk of memory that won’t be moved by the RTS. The most obvious example is when passing data to foreign code. The foreign code won’t be very happy if the RTS suddenly moves that data. As such, GHC supports the notion of “pinned” data which can be allocated via <code>GHC.Exts.newPinnedByteArray#</code> and similar variants. Pinned data is guaranteed not to be moved by the RTS. We refer to all other data as “unpinned”. …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.well-typed.com/blog/2020/08/memory-fragmentation/">https://www.well-typed.com/blog/2020/08/memory-fragmentation/</a></em></p>]]>
            </description>
            <link>https://www.well-typed.com/blog/2020/08/memory-fragmentation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24232809</guid>
            <pubDate>Fri, 21 Aug 2020 07:21:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ReMarkable MicroSD (2019)]]>
            </title>
            <description>
<![CDATA[
Score 354 | Comments 120 (<a href="https://news.ycombinator.com/item?id=24232801">thread link</a>) | @devnonymous
<br/>
August 21, 2020 | http://www.davisr.me/projects/remarkable-microsd/ | <a href="https://web.archive.org/web/*/http://www.davisr.me/projects/remarkable-microsd/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      
      <p>This page discusses how I added a microSD card to my <a href="https://arstechnica.com/gadgets/2017/12/remarkable-tablet-review-the-high-price-of-getting-that-paper-feeling/">reMarkable tablet</a>. I did this because I want to develop software for my rM without wearing out the internal eMMC. I chose an external card because I want to be able to swap them easily; it also makes backups faster.<br>
</p>
<img src="http://www.davisr.me/projects/remarkable-microsd/34.jpg" alt="Opened reMarkable tablet">




<h2><a name="opening">Opening the Case</a></h2>
<p>
The aluminum back panel is held to the plastic case with glue. I have 
not yet determined what melts this glue, or how to “properly” take the 
back off. I was able to lift it off, by starting slowly in a corner. 
Thereafter, I used a putty knife to slowly peel it away. The panel bent,
 but I was able to bend it mostly-flat again.
</p><p>
Next, there is a magnesium chassis screwed to the plastic case. 
Underneath the rubber feet are six silver screws. There are also XX 
black screws, that must be removed.
</p><p>
The epaper display is glued to the magnesium chassis; don’t try to pull 
it apart. There is also a white silicone-like substance around the edge 
of the epaper panel, which seems to disintegrate and flake off. I think 
it fills the gap, and perhaps offers a little waterproofing. This is 
non-replaceable. The screen can be pushed apart from the plastic 
chassis. It is held on the perimeter with plastic latches, so split it 
with a spudger and go slowly.
</p><p>
With the case off, the guts can be removed. There are five connectors to
 the logic board. In clockwise order starting at top-left: power button,
 touch panel, antenna, epaper display, USB daughterboard and buttons, 
and Wacom digitizer.
</p><p>
Finally, the logic board can be removed. It is held with six small 
screws and washers. Underneath the logic board is a plastic tape, a 
section of which must be removed around the SD pads.
</p>

<img src="http://www.davisr.me/projects/remarkable-microsd/mmc-pads.jpg" alt="MMC solder pads">

<h2>
<a name="positioning">Positioning the Card</a>
</h2>
<p>
The bottom-right seemed like an appropriate placement for the card 
socket, because the area is already spacious. The right side was easier 
to route the cables to, because of the channels cut in the white plastic
 case. I reassembled the reMarkable 
prior to soldering, to ensure no bulges or deformities appered.
</p>

<img src="http://www.davisr.me/projects/remarkable-microsd/placement.JPG" alt="Placing the microSD slot in the lower right corner">

<h2>
<a name="soldering">Soldering the Wires</a>
</h2>
<p>
Using ten 30 AWG wires and plenty of flux, I connected the board to the 
socket. The board indicates which pin is first. The board has a ninth 
pin, which is used for card-detect. This gets pulled low when a card is 
inserted.
</p>

<img src="http://www.davisr.me/projects/remarkable-microsd/flatcable.JPG" alt="Wires underneath logic board">
<p>
To keep things as flat as possible, I used cellophane tape to mate the 
wires to the board. They feed out beneath the digitizer’s FFC cable in 
one beautiful ribbon. This also prevents elecrical contact to the grounded chassis.<br>
</p>

<img src="http://www.davisr.me/projects/remarkable-microsd/wires.JPG" alt="Wires on back">

<h2>
<a name="cutting">Cutting the Case</a>
</h2>
<p>
I drilled the SD slot by-hand with a rotary tool. Starting with a carving bit
 on the inside, I first hollowed out the area to give me a thin veneer, 
measured with a flashlight. Once I felt it was thin enough, I drilled 
from the front with a pointy sanding bit, and cut longitudinally.</p><p>
The magnesium chassis had a small section removed, which was easy with a
 tiny wire cutter. While it sacrifices a little
 bit of strength, it makes up for it in storage capacity.
</p><p>
After testing the fit once again, I fillited epoxy around the edge 
of the socket, gluing it down. I was careful not to get any inside the 
socket.
</p>

<img src="http://www.davisr.me/projects/remarkable-microsd/externalshot.JPG" alt="microSD slot from the outside">

<h2>
<a name="loading">Loading the Kernel</a>
</h2>
<p>The stock rM kernel doesn't enable the SDHC1 slot, which is how these
 pins are designated in the device tree file. I recommend first being 
comforable with <a href="https://github.com/torwag/remarkableflash">this remarkable-flash guide</a>, the <a href="http://www.davisr.me/projects/remarkable-microsd/i.MX_BSP_Porting_Guide_Linux.pdf">NXP porting guide for the i.MX6 processor</a>, and the <a href="http://www.davisr.me/projects/remarkable-microsd/i.MX_Yocto_Project_User%27s_Guide_Linux.pdf">i.MX Yocto user guide</a>.<br>

</p>
  <p>The rM is a mostly-vanilla i.MX6 board (many share similaries, including the <a href="http://www.davisr.me/projects/remarkable-microsd/pico-imx6ul-emmc-hobbit-reva1-hardware-manual-20160328.pdf">Hobbitboard</a>).
 As such, it shares the same SDHC interface. What the microSD slot 
connects to, and what the stock kernel does not activate, is the SDHC1 
interface. This can be enabled in the device tree, and the kernel may be
 recompiled to include support for an SD card.<br>
  </p>
<p>
By default, the sdhc1 interface is disabled in the device tree. Enabling
 this is the first step. Copy the 
<code>arch/arm/boot/dts/zero-gravitas-factory.dts</code> over 
<code>arch/arm/boot/dts/zero-gravitas.dts</code>. Then, edit it to enable the sdhc1 
interface like shown in the diff below.
</p>
<pre> &amp;usdhc1 {<br>        pinctrl-names = "default", "state_100mhz", "state_200mhz";<br>        pinctrl-0 = &lt;&amp;pinctrl_usdhc1&gt;;<br>        pinctrl-1 = &lt;&amp;pinctrl_usdhc1_100mhz&gt;;<br>        pinctrl-2 = &lt;&amp;pinctrl_usdhc1_200mhz&gt;;<br>        bus-width = &lt;4&gt;;<br>        cd-gpios = &lt;&amp;gpio4 7 GPIO_ACTIVE_LOW&gt;;<br>        disable-wp;<br>        wp-controller;<br>        keep-power-in-suspend;<br>        enable-sdio-wakeup;<br>        no-1-8-v;<br>        /*disable-wp;*/<br>-       status = "disabled";<br>+       status = "okay";<br> };
</pre>


<p>Next, <code>make zero-gravitas_defconfig</code> and edit the <code>.config</code> file produced to include the following drivers.</p><pre>CONFIG_CFG80211=y
CONFIG_MAC80211=y
CONFIG_BRCMUTIL=y
CONFIG_BRCMFMAC=y
CONFIG_RTL_CARDS=y
CONFIG_BATTERY_BQ27XXX=y
CONFIG_BATTERY_BQ27XXX_I2C=y
CONFIG_USB_ACM=y
CONFIG_USB_F_ACM=y
CONFIG_USB_U_SERIAL=y
CONFIG_USB_CDC_COMPOSITE=y
CONFIG_CRYPTO_AEAD=y
CONFIG_CRYPTO_GF128MUL=y
CONFIG_CRYPTO_NULL=y
CONFIG_CRYPTO_CCM=y
CONFIG_CRYPTO_GCM=y
CONFIG_CRYPTO_SEQIV=y
CONFIG_CRYPTO_CTR=y
CONFIG_CRYPTO_GHASH=y
CONFIG_CRYPTO_ARC4=y
</pre>
<p>
Once done, rebuild the Linux kernel with <code>make</code>. Copy the artifacts to the rM's <code>/boot</code> directory: <code>arch/arm/boot/dts/zero-gravitas.dtb</code> and <code>arch/arm/boot/zImage</code>. I have included my artifacts <a href="http://www.davisr.me/projects/remarkable-microsd/boot.tar">here</a> for posterity, but it is foolish to install a kernel that someone else compiled.<br>
</p><p>
Reboot the rM, to make sure xochitl still runs. Then, check <code>dmesg | grep
 ‘mmc0’</code> to ensure the card was detected, and double-check it with <code>fdisk 
-l</code>. Partition your card as you like, then change the /etc/fstab option 
to mount that partition at /home.
</p>
<pre>root@reMarkable:~# dmesg | grep mmc0
[    2.091218] mmc0: SDHCI controller on 2190000.usdhc [2190000.usdhc] using DMA
[    2.377570] mmc0: new high speed SDXC card at address aaaa
[    2.391939] mmcblk0: mmc0:aaaa SC200 183 GiB 
</pre>
<pre>#/dev/mmcblk1p7 /home auto defaults,nofail 1 2
/dev/mmcblk0p7 /home auto defaults,nofail 1 2
</pre>
<p>
Reboot, and bask in the increased storage capacity.
</p>
<img src="http://www.davisr.me/projects/remarkable-microsd/storage-screen.png" alt="Storage screen showing 179 GB free">

<h2>
<a name="notes">Ending Notes</a>
</h2>
<ul>
<li>Now, the aluminum back is held on with gaffer tape. I am afraid to glue it shut, in case I want to access the guts again.
</li><li>Maybe the white stuff that came out around the bezel can be replaced with calk</li><li>I wish I had used multicolor wires, because it was difficult following them with my eyes.
</li><li>I didn’t cut close enough to the top of the plastic case, and 
so my SD slot is taller than it needs to be, but it isn't very 
noticable. I shimmed the extra vertical space with a folded up business 
card for a tighter fit.
</li><li>Before using solid-core wirewrap wire, I tried making my own 
ribbon cable with magenet wire and masking tape. This didn’t work well, 
because the enamel was hard to remove from just the ends, and the 
masking tape was too thick. The wirewrap wire turned out much nicer.
</li><li>Technically, I think the IMX needs to be changed too (and 
re-wrote over /dev/mmcblk1boot0) but I didn’t do this, and it seems to 
work alright. I'm fine using it just for the data partition so my OS updates work.
</li>
<li>I am glad this article has created encouragement from other people. I
 would like to extend an offer: if you would like a microSD card in your
 rM, and are willing to let me install one with the possibility of it 
not coming out exactly perfect (i.e. someone who finds ultimate use of 
rM in its utility, not pristine beauty) I would like to refine this 
process. One thing could be to install an internal card using quality 
flash media. I would like to know how many people could go for something
 like that, and if there could be a market doing that kind of thing. I 
will soon have installed my own CNC machine, and can practice doing this
 modification better, eventually charging for the service.<br>
</li>
</ul>

<h2><a name="images">More Images</a></h2>
<img src="http://www.davisr.me/projects/remarkable-microsd/backpanel.jpg" alt="Back panel">
<img src="http://www.davisr.me/projects/remarkable-microsd/connectors.jpg" alt="Connectors">
<img src="http://www.davisr.me/projects/remarkable-microsd/cracking-open.jpg" alt="Splitting the case open">
<img src="http://www.davisr.me/projects/remarkable-microsd/dontpullscreen.jpg" alt="Don't pull the screen like this">
<p>Don't peel the screen off!</p>
<img src="http://www.davisr.me/projects/remarkable-microsd/openback.jpg" alt="Open back">
<img src="http://www.davisr.me/projects/remarkable-microsd/split-chassis.jpg" alt="Split chassis">

</article></div>]]>
            </description>
            <link>http://www.davisr.me/projects/remarkable-microsd/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24232801</guid>
            <pubDate>Fri, 21 Aug 2020 07:20:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Early Impressions of Go from a Rust Programmer]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24232409">thread link</a>) | @RMPR
<br/>
August 20, 2020 | https://www.ncameron.org/blog/early-impressions-of-go-from-a-rust-programmer/ | <a href="https://web.archive.org/web/*/https://www.ncameron.org/blog/early-impressions-of-go-from-a-rust-programmer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main" role="main">
    <div>

        <article>

            


            <section>
                <!--kg-card-begin: markdown--><p>This post was originally published on the <a href="https://pingcap.com/blog/early-impressions-of-go-from-a-rust-programmer/">PingCAP blog</a>.</p>
<p>I've been using <a href="https://en.wikipedia.org/wiki/Go_(programming_language)">Go</a> for the past few weeks. It's my first time using Go for a large (-ish), serious project. I've previously looked at Go a lot and played with examples and toy programs when researching features for <a href="https://en.wikipedia.org/wiki/Rust_(programming_language)">Rust</a>. Real programming is a very different experience.</p>
<p>I thought it would be interesting to write about my impressions. I'll try and avoid too much comparison with Rust, but since that is the language I'm coming from, there will be some. I should declare in advance a strong bias for Rust, but I'll do my best to be objective.</p>
<h2 id="generalimpression">General impression</h2>
<p>Programming with Go is nice. It had everything I wanted in the libraries and there were not too many rough edges. Learning it was a smooth experience, and it is a well-designed and practical language. Some examples: once you know the syntax, many idioms from other languages carry over to Go. Once you've learned some Go, it is relatively easy to predict other features. With some knowledge of other languages, I was able to read Go code and understand it without too much googling.</p>
<p>It is a lot less frustrating and a lot more productive than using C/C++, Java, Python, etc. It did feel, however, like part of that generation of languages. It has learnt some lessons from them, and I think it is probably the best language of that generation; but it is definitely part of that generation. It is an incremental improvement, rather than doing something radically different (to be clear, this is not a value judgement, incremental is often good in software engineering). A good example of this is <code>nil</code>: languages like Rust and Swift have removed the concept of <code>null</code> and eliminated a whole class of errors. Go makes it a bit less dangerous: no null <em>values</em>, distinguishes between <code>nil</code> and <code>0</code>. But the core idea is still there, and so is the common runtime error of dereferencing a null pointer.</p>
<h2 id="learnability">Learnability</h2>
<p>Go is incredibly easy to learn. I know this is an often-touted benefit, but I was really surprised how quickly I was able to be productive. Thanks to the language, docs, and tools, I was writing 'interesting', commit-able code after literally two days.</p>
<p>A few factors contributing to learnability are:</p>
<ul>
<li>Go is small. Lots of languages try to be small, Go really is small; really small. (This is mostly a good thing and I'm impressed with the discipline this must have taken).</li>
<li>The standard library is good (and again, small). Finding and using libraries from the ecosystem is very easy.</li>
<li>There is very little in the language which is not in other languages. Go takes lots of bits from other established languages, polishes them, and puts them together nicely. It tries very hard to avoid novelty.</li>
</ul>
<h2 id="boilerplate">Boilerplate</h2>
<p>Go code becomes very repetitive very quickly. It is missing any mechanism like macros or generics for reducing repetition (interfaces are nice for abstraction, but don't work so well to reduce code duplication). I often end up with lots of functions, identical except for types.</p>
<p>Error handling also causes repetition. Many functions have more <code>if err != nil { return err }</code> boilerplate than interesting code.</p>
<p>Using generics or macros to reduce boilerplate is sometimes criticised for making code easy to write at the expense of making it harder to read. But I found the opposite with Go. It is quick and easy to copy and paste code, but reading Go code is frustrating because you have to ignore so much of it or search for subtle differences.</p>
<h2 id="thingsilike">Things I like</h2>
<ul>
<li>Compile times. Definitely quick; definitely a lot quicker than Rust. But not actually as quick as I was expecting (it feels to me to be similar to or a little faster than C/C++ for medium to large projects, I was kind of expecting instant).</li>
<li>Go routines and channels. Having lightweight syntax for spawning Go routines and using channels is really nice. It really shows the power of syntax that such a small detail makes concurrent programming feel so much nicer than in other languages.</li>
<li>Interfaces. They're not very sophisticated but they are easy to understand and use, and useful in a lot of places.</li>
<li><code>if ...; ... { }</code> syntax. Being able to restrict the scope of variables to the body of <code>if</code> statements is nice. This has a similar effect to <code>if let</code> in Swift and Rust, but is more general purpose (Go does not have pattern matching like Swift and Rust, so it cannot use <code>if let</code>.</li>
<li>Testing and doc comments are easy to use.</li>
<li>The <code>Go</code> tool is nice - having everything in one place rather than requiring multiple tools on the command line.</li>
<li>Having a garbage collector (GC)! Not thinking about memory management really does make programming easier.</li>
<li>Varargs.</li>
</ul>
<h2 id="thingsididnotlike">Things I did not like</h2>
<p>In no particular order.</p>
<ul>
<li><code>nil</code> slices - <code>nil</code>, a <code>nil</code> slice, and an empty slice are all different. I'm pretty sure you only need two of those things, not three.</li>
<li>No first class enums. Using constants feels backwards.</li>
<li>Disallowing import cycles. This really limits how useful packages are for modularising a project, since it encourages putting lots of files in a package (or having lots of small packages, which can be just as bad if files which should be together are not).</li>
<li><code>switch</code> may be non-exhaustive.</li>
<li><code>for ... range</code> returns a pair of index/value. Getting just the index is easy (just ignore the value) but getting just the value requires being explicit. This seems back-to-front to me since I need the value and not the index in most cases.</li>
<li>Syntax:
<ul>
<li>Inconsistency between definitions and uses.</li>
<li>Pickiness of the compiler (e.g., requiring or forbidding trailing commas); this is mostly alleviated by good tooling, but there a still a few times when this creates an annoying extra step.</li>
<li>When using multiple-value return types, parentheses are required on the type, but not in the <code>return</code> statement.</li>
<li>Declaring a struct requires two keywords (<code>type</code> and <code>struct</code>).</li>
<li>Using capitalisation for marking variables public or private. It's like Hungarian notation but worse.</li>
</ul>
</li>
<li>Implicit interfaces. I know I have this on my thing I like list too, but sometimes it is really annoying - e.g., trying to find all types which implement an interface, or which interfaces are implemented for a given type.</li>
<li>You can't write functions with a receiver in a different package, so even though interfaces are 'duck typed' they can't be implemented for upstream types making them much less useful.</li>
</ul>
<p>I've already mentioned the lack of generics and macros above.</p>
<h2 id="consistency">Consistency</h2>
<p>As a language designer and a programmer, probably the thing that most surprised me about Go is the frequent inconsistency between what is built-in and what is available to users. It has been a goal of many languages to eliminate as much magic as possible, and make built-in features available to users. Operator overloading is a simple, but controversial, example. Go has a lot of magic! And you very easily run into the wall of not being able to do things that built-in stuff can.</p>
<p>Some things that stood out to me:</p>
<ul>
<li>There is nice syntax for returning multiple values and for channels, but the two cannot be used together because there are no tuple types.</li>
<li>There is a <code>for ... range</code> statement for iterating over arrays and slices, but you can't iterate over other collections because there is no concept of iterators.</li>
<li>Functions like <code>len</code> and <code>append</code>, are global, but there is no way to make your own functions global. Those global functions only work with built-in types. They can also be generic, even though Go has 'no generics'!</li>
<li>There is no operator overloading, this is particularly annoying with <code>==</code> because it means you can't use custom types as keys in a map unless they are <em>comparable</em>. That property is derived from the structure of a type and can't be overridden by the programmer.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Go is a simple, small, and enjoyable language. It has some odd corners, but is mostly well-designed. It is incredibly fast to learn, and avoids any features which are not well-known in other languages.</p>
<p>Go is a very different language to Rust. Although both can vaguely be described as systems languages or 'replacements' for C, they have different goals and applications, styles of language design, and priorities. Garbage collection is a really huge differentiator. Having GC in Go makes the language much simpler and smaller, and easy to reason about. Not having GC in Rust makes it <em>really</em> fast (especially if you need guaranteed latency, not just high throughput), and enables features and programming patterns which are not possible in Go (or at least not without sacrificing performance).</p>
<p>Go is a compiled language with a well-implemented runtime. It is fast. Rust is also compiled, but has a much smaller runtime. It is <em>really fast</em>. Assuming no other constraints, I think the choice between using Go and Rust is a trade-off between a much shorter learning curve and simpler programs (which means faster development), versus Rust being really, really fast, and having a more expressive type system (which makes your programs safer and means faster debugging and error hunting).</p>
<!--kg-card-end: markdown-->
            </section>


            


        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://www.ncameron.org/blog/early-impressions-of-go-from-a-rust-programmer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24232409</guid>
            <pubDate>Fri, 21 Aug 2020 05:59:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One-Shot Sales Meetings]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24232330">thread link</a>) | @neoslash
<br/>
August 20, 2020 | https://neoslash.net/this-is-your-one-shot | <a href="https://web.archive.org/web/*/https://neoslash.net/this-is-your-one-shot">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><div><div itemprop="text"><p>I've worked in IT consulting for over 10 years in various roles. My current job includes meeting with prospects and discussing our IT services and how they fit into their business. This has been the first position I've held where I deal with a lot more of the business side and sales of IT Consulting.  </p>
<p>One thing has become very apparent in meetings with prospects. <strong>You have to treat every meeting as if this is your one and only shot. You cannot assume that this is just merely an introduction and later on in subsequent meetings you will be able to present more in depth information</strong>. If you have a visual presentation or any type a hard copy documentation you want to present, you have to present it in this meeting.  </p>
<p>A good example of this- A while ago a former colleague reached out to me and we discussed how my current employer and I could help them. Everything sounded great and initially we discussed a quick meeting to go over some of the very basics of how my firm is structured and our support options. I thought of this meeting as merely an introduction and the first step in the process of winning them over as a client. We had the meeting and I answered all their questions. A couple weeks went by and I hadn’t heard anything so I followed up with my former colleague. He informed me that they decided to go with another provider.  </p>
<p>At first I was a bit surprised because It seemed like a really good fit. There were a couple of outside forces that ultimately made them choose the other firm but one thing that he did mention is that the other provider delivered an entire presentation about their services and how they operate. This is when the alarm bells really went off and I ultimately felt like I squandered this opportunity. I have a presentation however I was planning on presenting that in a second meeting with my management team.  </p>
<p>After going through this and losing out on this potential client I have learned to treat every opportunity as if it’s my last and I have much better results with this mindset. There definitely have been times where I have had an initial introduction however we are going into it with the proper mindset and treating it as if it’s my one and only opportunity , It’s lead into second and possibly even additional meetings with other management and or teams in the organization.  </p>
<p>Consulting sales and MSP sales can a treacherous endeavor . Hope this helps give you some perspective or insight and helps someone along the way.</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://neoslash.net/this-is-your-one-shot</link>
            <guid isPermaLink="false">hacker-news-small-sites-24232330</guid>
            <pubDate>Fri, 21 Aug 2020 05:42:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I got the French Tech Visa to start my company in France]]>
            </title>
            <description>
<![CDATA[
Score 147 | Comments 190 (<a href="https://news.ycombinator.com/item?id=24232025">thread link</a>) | @christpetron
<br/>
August 20, 2020 | https://christianpetroske.com/how-i-got-the-french-tech-visa-to-start-my-company-in-france/ | <a href="https://web.archive.org/web/*/https://christianpetroske.com/how-i-got-the-french-tech-visa-to-start-my-company-in-france/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>Three years ago, things were different. I didn’t know any French, I didn’t have a business, and I didn’t have a job.</p>



<p>I had just quit a great job in Singapore to start my own company. My partner was starting her master’s in Paris and told me to come stay. So I packed up everything, shipped some of it to my mom in New York, and hopped on a flight to CDG.</p>



<figure><img src="http://christianpetroske.com/wp-content/uploads/2020/08/paris.png" alt="" srcset="https://christianpetroske.com/wp-content/uploads/2020/08/paris.png 878w, https://christianpetroske.com/wp-content/uploads/2020/08/paris-300x74.png 300w, https://christianpetroske.com/wp-content/uploads/2020/08/paris-768x191.png 768w" sizes="(max-width: 878px) 100vw, 878px"></figure>



<p>Around this time, French President Macron released an iconic video as part of the <a rel="noreferrer noopener" href="https://makeourplanetgreatagain.fr/en/business" target="_blank">Make Our Planet Great Again campaign</a>. He told scientists, researchers, and innovators from around the world to come to France. I was supposed to be an innovator now. My ears perked up.</p>



<p>“Your new homeland” it said. It continued: “Entrepreneurs and skilled employees from all over the world, France is made for you!”</p>



<p>Made for me, huh? Okay, I’ll bite.</p>



<p>I bit.</p>



<p>A few clicks later I found myself reading about <a rel="noreferrer noopener" href="https://lafrenchtech.com/en/how-france-helps-startups/french-tech-visa/" target="_blank">the French Tech Visa</a>, a visa scheme that awards founders of tech companies a visa for four years to live and start their business in France.</p>



<p>This seemed like the ultimate three-birds-one-stone: I would get to start my company, be with my partner, and live in effing Paris—learning French, discussing philosophy, eating croissants, whatever else people do in Paris. Life sorted for the next few years! Right?</p>



<p>In retrospect, I was right about the big stuff: starting the company, living with my partner, learning French, and the croissants (oh oui). </p>



<p>But it did not come easy. I learned a ton. I am incredibly grateful that it worked out. There were many moments when it almost didn’t. Through a combination of luck, hustle, privilege, and the kindness of others, I am where I am today: running my own business, living in France with my partner, speaking French, eating croissants, and looking back on it all muttering <em>putain</em> in happy disbelief.</p>



<p>Looking back too, I’m struck by how little information there was out there for people in my situation. I kept finding out critical information through chance conversations—and I’d done my research. I started thinking that he whole process should be a lot more transparent.</p>



<p>I’ve since had conversations with several people who were considering this path. So I decided to write down some of it to help others who are thinking about coming to France to start their company.</p>



<p>If that’s you, here are the basics of what you need to know. The challenge generally breaks down into 1) the visa, 2) the business, and 3) the language and culture.</p>



<p>(If you’re really serious about this, I’m writing a complete guide to the French Tech Visa which <a href="https://gum.co/SRUhE" target="_blank" rel="noreferrer noopener">you can preorder here</a>.)</p>



<h2>First: the visa</h2>



<p>There are three different French Tech visas: for <a rel="noreferrer noopener" href="https://lafrenchtech.com/en/how-france-helps-startups/french-tech-visa/visa-for-founders/" target="_blank">founders</a>, <a rel="noreferrer noopener" href="https://lafrenchtech.com/en/how-france-helps-startups/french-tech-visa/visa-for-employees/" target="_blank">employees</a>, and <a rel="noreferrer noopener" href="https://lafrenchtech.com/en/how-france-helps-startups/french-tech-visa/visa-for-les-investors/" target="_blank">investors</a>. I have the one for founders. That’s the one I know the most about, so it’s the one I focus on here.</p>



<p>The first step to getting the French Tech Visa for founders is to look at this list of incubators.</p>



<figure><a href="https://lafrenchtech.com/en/how-france-helps-startups/french-tech-visa/visa-for-founders/" target="_blank" rel="noopener noreferrer"><img src="http://christianpetroske.com/wp-content/uploads/2020/08/image-1024x707.png" alt="" srcset="https://christianpetroske.com/wp-content/uploads/2020/08/image-1024x707.png 1024w, https://christianpetroske.com/wp-content/uploads/2020/08/image-300x207.png 300w, https://christianpetroske.com/wp-content/uploads/2020/08/image-768x530.png 768w, https://christianpetroske.com/wp-content/uploads/2020/08/image-1536x1061.png 1536w, https://christianpetroske.com/wp-content/uploads/2020/08/image-2048x1414.png 2048w, https://christianpetroske.com/wp-content/uploads/2020/08/image-1200x829.png 1200w, https://christianpetroske.com/wp-content/uploads/2020/08/image-1980x1367.png 1980w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<p>These incubators are all partnered with the French government to support foreign founders. The kind of support varies, but your goal is to find one that can offer you the visa.</p>



<p>One week, I decided I would do this. So I came up with a startup idea, made a pitch deck, website, and email address, and started sending emails. I reached out to probably 30 of these and had conversations with about 10 until it got down to 2-3 that seemed promising. </p>



<p>I just found the deck I made in Canva. It was an employee engagement app called Purpose, Go! (I know right?).</p>



<figure><img src="http://christianpetroske.com/wp-content/uploads/2020/08/image-2-1024x768.png" alt="" srcset="https://christianpetroske.com/wp-content/uploads/2020/08/image-2-1024x768.png 1024w, https://christianpetroske.com/wp-content/uploads/2020/08/image-2-300x225.png 300w, https://christianpetroske.com/wp-content/uploads/2020/08/image-2-768x576.png 768w, https://christianpetroske.com/wp-content/uploads/2020/08/image-2-1536x1152.png 1536w, https://christianpetroske.com/wp-content/uploads/2020/08/image-2-1200x900.png 1200w, https://christianpetroske.com/wp-content/uploads/2020/08/image-2.png 1754w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Lol ok, not bad. How an app was supposed to accomplish that, lord knows.</figcaption></figure>



<p>I ended up on the phone with <a rel="noreferrer noopener" href="https://theschoolab.com/en/" target="_blank">Schoolab</a> in Paris, who said they liked my idea and told me to come in to meet the team. I met them, did a tour, and got offered a spot. It cost me €650 a month for their 6 month program, including the visa, access to the community of startups and mentors, and office space. I took the deal.</p>



<p>Fees vary by incubator, but overall you’ll need around €5,000 in the bank to pay for the incubator program plus taxes and fees in the application process.</p>



<p>Then, you’ll need to prove that you have money equal to the French minimum wage (€18,254.60 in 2019). I didn’t have this. Instead, you can find someone who does have this kind of money to be your “guarantor”. The visa office will accept it as long as that person signs a letter saying they will support you if needed while you’re in France.</p>



<p>Once you get into the incubator, they will help you apply to get your three-page business proposal approved by the relevant government agency. They even helped me translate mine into French. It takes a couple of months, but once you have that approval letter, you are on the fast track for a four year visa.</p>



<p>There are differences by country, but being a US citizen, I had to go back to my home consulate in New York to complete the visa process.</p>



<p>I arrived in France in August, started the incubator in September, and didn’t get my provisional visa until February… So that gives you an idea. </p>



<h2>Second: the business</h2>



<p>Once I was in the incubator, the next challenge arose: What the hell was I going to do with this business?</p>



<p>For about two solid months I worked on Purpose, Go! alongside various client projects to keep some money coming in. I networked hard in the HR tech world in Paris and got to know some interesting people. But it became clear that these relationships were not going anywhere—and without relationships, I had no hope of selling into businesses.</p>



<p>So I started spending more time with a friend I’d made in the program, <a rel="noreferrer noopener" href="https://plentyworks.io/outer-space-mindset/" target="_blank">Buddhika</a>, who was working on a VR fitness company. When it became clear my thing wasn’t going to work (and they were struggling a bit too), we started talking in earnest about partnering up. Becoming co-founders.</p>



<p>So I started to work with them on the VR fitness idea. It was clear it was going to take a while to mature into something that could make money, so we looked around for income sources. One of our friends in the program needed an app built, so we decided to go into software development. That’s what led to our real French company.</p>



<p>We started out as individual micro-entrepreneurs, since it’s super easy to get started and get paid legally through that status. Eventually, we opened up a SAS entity in what seemed like an extremely painful and expensive process. It didn’t need to be.</p>



<p>The perfect time to start a SAS (the equivalent of a US Corporation) is when you’re building something you want to raise money for at some point. We wanted to keep our options open, so we did that. </p>



<p>Many small businesses start as SARL entities (rough equivalent of a US LLC) instead, since taxes are lower but fundraising ability is null.</p>



<p>Whatever you choose, the most important (and most difficult) thing is to find a way to actually get paid in the first place. French business is highly networked, even more so than the US, which means that people like to only do business with people they have a relationship with. So investing in building relationships is the number one most important thing you can do for the success of your French business.</p>



<p>Speaking of which…</p>



<h2>Third: the language</h2>



<p>To build relationships with people, you will need some level of French. It’s certainly possible to only run in circles where you can speak English, don’t get me wrong. But you will miss opportunities if you’re constrained by language.</p>



<p>One of the first places you may run into this problem is when looking for an incubator. Schoolab, for instance, has since shrunk or canceled their English-language programming since I was there because it was too difficult to maintain programs in two languages (and they couldn’t get everyone to switch over to English). </p>



<p>So how do you learn French quickly, cheaply, and effectively?</p>



<p>This is exactly what I tried to do, being hyper-conscious that my runway was dwindling with each passing month. Here was my rough language-learning regimen that got me conversational in about 6 months:</p>



<ul><li>Start out with cheap private lessons through iTalki. You can spend $10-15 an hour for a junior teacher to talk with you and teach you core grammar principles and vocab.</li><li>Listen to French podcasts constantly. This is key to improving comprehension. Read the transcript along if you can. My favorites at the beginning were <a rel="noreferrer noopener" href="https://savoirs.rfi.fr/fr/apprendre-enseigner/langue-fran%C3%A7aise/journal-en-fran%C3%A7ais-facile" target="_blank">Le Journal en Français Facile from RFI</a>, <a rel="noreferrer noopener" href="https://podcasts.apple.com/gb/podcast/learn-french-by-podcast/id160256534" target="_blank">Learn French by Podcast</a>, and <a rel="noreferrer noopener" href="https://podcasts.apple.com/gb/podcast/coffee-break-french/id263170419" target="_blank">Coffee Break French</a>. Now I love <a rel="noreferrer noopener" href="https://www.lesechos.fr/podcasts/la-story" target="_blank">La Story by Les Echos</a>, <a rel="noreferrer noopener" href="https://www.binge.audio/podcast/a-bientot-de-te-revoir/" target="_blank">A bientôt de te revoir</a>, and many more.</li><li>Read French news and blogs. Focus on what you’re interested in. I’m interested in technology and startups so I would read <a rel="noreferrer noopener" href="https://www.maddyness.com/" target="_blank">Maddyness</a>.</li><li>Get grammar lessons from YouTube. My hands-down favorite here is <a rel="noreferrer noopener" href="https://learnfrenchwithalexa.com/" target="_blank">Learn French with Alexa</a>. She explains even the advanced concepts so clearly.</li><li>And of course, take every opportunity to talk to real people! Having friends who are willing to suffer through your awful French (and laugh at you a bit, yes) is one of the things that will accelerate your learning the most. Go to events you find on Facebook. Take a dance class. Get out there. The more uncomfortable you are with your language ability, the more motivated you will be to learn faster.</li></ul>



<p>There’s also the culture to get used to, but maybe we’ll save that one for another post. </p>



<p>It’s wild that I’m coming up on three years in France. It has been an adventure. Hopefully some of this will help others navigating this for the first time. </p>



<p>If you liked this story and you want to stay in touch, follow me on <a href="https://twitter.com/christpetron" target="_blank" rel="noreferrer noopener">Twitter</a>.</p>



<hr>



<p>I’m compiling all this info and more into <a rel="noreferrer noopener" href="https://gum.co/SRUhE" target="_blank">the Complete Guide to the French Tech Visa</a>, which <a rel="noreferrer noopener" href="https://gum.co/SRUhE" target="_blank">you can pre-order right here</a>. It includes:</p>



<ul><li>Step-by-step instructions on how to obtain your French Tech Visa</li><li>The full list of documents you’ll need</li><li>The full timeline of how long you can expect it to take</li><li>The full set of visa-related costs you’ll face</li><li>Step-by-step guidance on creating your French business entity (Micro-entrepreneur, SAS and SARL)</li><li>Important information on taxes, insurance, employment, and liability</li><li>Opening a personal …</li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://christianpetroske.com/how-i-got-the-french-tech-visa-to-start-my-company-in-france/">https://christianpetroske.com/how-i-got-the-french-tech-visa-to-start-my-company-in-france/</a></em></p>]]>
            </description>
            <link>https://christianpetroske.com/how-i-got-the-french-tech-visa-to-start-my-company-in-france/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24232025</guid>
            <pubDate>Fri, 21 Aug 2020 04:38:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Braess' Paradox and the Price of Anarchy (2019)]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24231860">thread link</a>) | @luu
<br/>
August 20, 2020 | http://cadlag.org/posts/braess-paradox-and-the-price-of-anarchy.html | <a href="https://web.archive.org/web/*/http://cadlag.org/posts/braess-paradox-and-the-price-of-anarchy.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
            

            <p>
    Posted on August 10, 2019
    
        by Erik Davis
    
</p>




<p>Consider the following scenario. A large number of independent agents wish to traverse a network, from some start vertex to some end vertex. Each edge they travel will take some time, which could in general depend on the number of agents traveling along the edge. For the sake of simplicity, we’ll normalize things so that <span>\(x\)</span> denotes a proportion of agents (i.e. <span>\(x\)</span> ranges from 0 to 1). In what follows, we will let <span>\(\mathcal{E}\)</span> denote the set of edges, and <span>\(c_e :
[0,1] \to \mathbb{R}\)</span> the <em>cost</em> function associated with edge <span>\(e\)</span>. A very simple example is something like the following, where <span>\(s\)</span> is the start and <span>\(d\)</span> is the destination, and edges have been labeled with their cost.</p>
<div>
<p><img src="http://cadlag.org/ancillary/braess/initial.png" alt="A simple routing network, with variable edge cost."></p><p>A simple routing network, with variable edge cost.</p>
</div>
<p>One way to summarize the entire set of paths chosen is via a <em>flow</em> <span>\(f\)</span>, which assigns to each edge the normalized proportion of agents who have chosen to travel along it. For example, if all agents chose the top route in the above network, then we would have <span>\(f_{su} = 1, f_{ud} = 1\)</span> and <span>\(f_{sv} = 0, f_{vd} =
0\)</span>. There are of course other possible flows; one could consider the flow that puts all agents along the bottom path, or another which mixes the top and bottom paths somehow. <a href="#fn1" id="fnref1"><sup>1</sup></a></p>
<p>For a general flow <span>\(f\)</span>, the <em>total cost</em> borne by the agents in navigating the network is</p>
<p><span>\[
C(f) = \sum_{e \in E} f_e c_e(f_e).
\]</span></p>
<p>In the above example, routing all traffic along the top path (or equivalently, the bottom path) has a total cost of <span>\(2\)</span>. However, if one split the traffic so that half travels along the top path and half along the bottom path, then the total cost is only <span>\(0.5 c_{su}(0.5) + 0.5 \cdot c_{ud} + 0.5 \cdot c_{sv}(0.5) +
0.5 \cdot_{vd}(0.5) = 1.5\)</span>. In this example, this turns out that this is the minimum cost flow. One could imagine that if we were benevolent dictators controlling the choices of the agents, we might opt for this as an outcome.</p>

<p>Another way of looking at this routing problem is from the agent’s point of view. Suppose that, for each path <span>\(P\)</span>, some proportion of agents choose <span>\(P\)</span> for their traversal. In other words, we may imagine that we have a distribution <span>\(g\)</span> with <span>\(g_P \geq 0\)</span> and <span>\(\sum_{P \in \mathcal{P}} g_P = 1\)</span>, where <span>\(\mathcal{P}\)</span> denotes the set of <span>\(s-d\)</span> paths through the network. Thus <span>\(g_P\)</span> is the proportion of agents choosing path <span>\(P\)</span>. We’ll call such a <span>\(g\)</span> a <em>path distribution</em>, for lack of a better name.</p>
<p>There’s nothing lost by thinking about path distributions rather than flows. Indeed, given a path distribution <span>\(g\)</span> we can recover a flow by letting <span>\(f_e =
\sum_{P : e \in P} g_P\)</span>, where the sum is over all paths containing the edge <span>\(e\)</span>. It’s not hard to show that this is an honest flow.<a href="#fn2" id="fnref2"><sup>2</sup></a></p>
<p>So, from this vantage point: which path would an agent like to pick? In general, the cost of an edge depends on hhow much traffic it gets, so the answer is really contingent on the paths chosen by the other agents.</p>
<p>To give some clarity around this, let’s introduce an assumption about behavior: an agent will choose a path only if there are no cheaper alternatives. This is both a weak assumption, in the sense that it’s hard to argue with the rationale, and a strong one, in the sense that we’re granting each agent quite a lot of information about the problem at hand (e.g. the network topology, the behavior of the other agents, and so on).</p>
<p>With this in mind, note that relative to a fixed flow <span>\(f\)</span>, the cost of a path <span>\(P\)</span> is</p>
<p><span>\[ C(P; f) = \sum_{e \in P} c_e(f_e). \]</span></p>
<p>Formally, a path distribution <span>\(g\)</span> is said to be a (pure Nash) <em>equilibrium</em> distribution if</p>
<p><span>\[ g_P &gt; 0 \text{ only if } P \text{ minimizes } C(P; f), \]</span></p>
<p>where <span>\(f\)</span> is the flow associated with <span>\(g\)</span>.</p>
<p>In other words, in an equilibrium distribution every agent takes a path that is minimal <em>with respect to the flow induced by the others</em>.</p>
<p>It’s worth mulling this over a bit. With an equilibrium distribution, there’s no incentive for any particular agent to switch paths. Each agent sees the social world around it as essentially fixed; the others have induced some flow <span>\(f\)</span>, and the best one can do is pick the path that’s cheapest relative to this.</p>
<p>In our simple network, there is only one equilibrium distribution: half of the agents take the top path, and half take the bottom. The cost of this equilibrium distribution is <span>\(1.5\)</span>, just as before.</p>

<p>To briefly recap, we’ve singled out two sorts of flows as being special.</p>
<ul>
<li>Cost-minimizing flows are the ones that we’d pick if were playing the part of a benevolent dictator.</li>
<li>Equilibrium flows (i.e. those induced by an equilibrium path distribution) are the ones that we can imagine a bunch of independent agents settling for.</li>
</ul>
<p>It was something of a coincidence that in our toy network these two ended up being the same. But they don’t have to be.</p>
<p>So what happens if we start adding edges to the network? Naively, it seems like it can only make things better. Certainly, adding an edge doesn’t increase the cost of any previous flows (since they simply do not use the new edge), and in fact it’s possible that it makes available a new, cheaper flow. So as benevolent dictators, there’s not much to lose.</p>
<p>But what happens when we think from the agent’s perspective? Surprisingly enough, adding an edge can shift the equilibrium flow to something even costlier! For an extreme example, consider adding a free edge to our previous network.</p>
<div>
<p><img src="http://cadlag.org/ancillary/braess/augmented.png" alt="A network augmented with a zero cost edge."></p><p>A network augmented with a zero cost edge.</p>
</div>
<p>With this addition, the equilibrium distribution <a href="#fn3" id="fnref3"><sup>3</sup></a> puts all of the agents on the path <span>\(suvd\)</span>, for a total cost of 2! This is <a href="https://en.wikipedia.org/wiki/Braess%27s_paradox">Braess’ paradox</a>: adding capacity to a network can actually increase the cost of an equilibrium flow.</p>
<div>
<p><img src="http://cadlag.org/ancillary/braess/equilibrium.png" alt="The new equilibrium flow."></p><p>The new equilibrium flow.</p>
</div>
<p>I’m not going to prove that this flow is equilibrium, but let me give a glimpse of the incentives: the previous distribution, which put half of the agents on the top half and half of the agents on the bottom, is now unappealing from a traveller’s vantage point: relative to that flow, the effect of an agent on <span>\(sud\)</span> switching to <span>\(suvd\)</span> is to reduce their path cost by <span>\(0.5\)</span>. And so on.</p>

<p>By definition, an equilibrium flow is at least as costly as a cost-minimizing flow. The ratio</p>
<p><span>\[ \frac{\text{maximum cost of an equilibrium flow}}{\text{cost of min cost flow}} \]</span></p>
<p>is sometimes referred to as the <a href="https://en.wikipedia.org/wiki/Price_of_anarchy">Price of Anarchy</a>. For our original network, it was <span>\(1\)</span>. After adding the edge, it was <span>\(4/3\)</span>.</p>







        </div></div>]]>
            </description>
            <link>http://cadlag.org/posts/braess-paradox-and-the-price-of-anarchy.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24231860</guid>
            <pubDate>Fri, 21 Aug 2020 04:05:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Mechanist's Guide to the Coronavirus Genome]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24231490">thread link</a>) | @telotortium
<br/>
August 20, 2020 | https://csvoss.com//a-mechanists-guide-to-the-coronavirus-genome | <a href="https://web.archive.org/web/*/https://csvoss.com//a-mechanists-guide-to-the-coronavirus-genome">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p>Hello and welcome to my Coronavirus Genome Walkthrough.</p>

<p>(Hoping someone comes out with that Vaccine Speedrun soon. This boss battle is really shaping up to be an intense one and we’ll need all the artifacts we can get.)</p>

<p>Here, I aim to provide a <em>mechanistic explanation</em> of the SARS-CoV-2 genome’s syntax and semantics. Let’s investigate what the SARS-CoV-2 viral genome actually does as if reading through code like a compiler, from nucleotides to amino acids all the way to proteins. From the four base pairs all the way up to the completed protein-coated virus, what is a virus like this is actually made of on the concrete, physical level?</p>

<h3 id="understanding-a-full-system">Understanding a Full System</h3>

<p>The underlying purpose of this essay is less about the coronavirus <em>per se</em> and more about how having a small—but functionally complete—piece of viral RNA to analyze gives me a unique opportunity to try to understand a complete self-replicating machine from scratch. This is not a feat that I would have the fortitude to manually replicate with the full human genome, for example—but the coronavirus genome, like the <a href="http://openworm.org/">nematode genome</a>, is small enough that we stand a chance at building a complete understanding. The task is perhaps akin to <a href="https://distill.pub/2018/building-blocks/">interpretability</a>, but for biological systems instead of artificial neural networks.</p>

<p>As a consequence, this essay is not intended to produce epidemiological conclusions; there are plenty of other sources for that! This essay is about fully understanding a biological system at the chemical and physical level.</p>

<h3 id="play-curiosity-and-mechanical-understanding">Play, Curiosity, and Mechanical Understanding</h3>

<p>Throughout this essay, I follow my curiosity in the style of <a href="https://en.wikipedia.org/wiki/Serious_play">serious play</a>: if I <a href="https://www.readthesequences.com/Noticing-Confusion-Sequence">notice I’m confused</a> about something, I look into it and explore it until I’m satisfied that I now understand, and that my understanding is <em>a <a href="https://plato.stanford.edu/entries/science-mechanisms/#ConMec">mechanical</a> understanding</em>. Things are made of stuff! It turns out that we can understand that stuff!</p>

<p>I may skip over some details that were not confusing to me during my own research, but your journey need not be the same as mine. If you’re confused about something while reading this essay, I encourage you to go and look it up! <a href="http://agentyduck.blogspot.com/2015/06/the-art-of-noticing.html">Notice</a> when your curiosity arises; that’s the meditation. Together, we can <a href="http://samoburja.com/how-to-find-the-frontier-of-knowledge/">learn new things</a>.</p>

<p>This all, at least, has been my intention as I set out to create this piece! As Ken Liu said of his philosophy while translating The Three-Body Problem, “I may not have succeeded, but these were the standards I had in mind as I set about my task.”</p>

<p>Part 1, here, covers just the genome and its translation to proteins. I hope to also write a Part 2 which would cover the structure and function of those proteins, their protein-protein interactions, and the full viral life cycle.</p>

<!--Finally, as you may already be able to tell, this essay also serves as a philosophical manifesto-by-example of how to think concretely about problems in biology. Along the way, I give some of my thoughts about the role of thermodynamics in molecular biology, legibility in complex systems, pedagogy, and the future of computational modeling.-->

<p>Let’s get started.</p>



<p>As a reminder, SARS-CoV-2 is a <em>positive-sense single-stranded RNA virus</em>.</p>



<p>What does this mean we can expect?</p>

<ol>
  <li><em>Single-stranded</em>: Its genome is a single strand of <a href="https://en.wikipedia.org/wiki/RNA">RNA</a> (ssRNA).</li>
  <li><em>Positive-sense</em>: That single strand of RNA can be immediately translated into protein by the ribosomes of the cell it infects.</li>
</ol>

<p>From this we can also infer that one of the proteins the virus encodes for must be <em>RNA-dependent RNA polymerase</em> (RdRP), a protein which synthesizes new RNA given an RNA template. That’s right: RNA → RNA. However, according to the <a href="https://en.wikipedia.org/wiki/Central_dogma_of_molecular_biology">central dogma of molecular biology</a>, isn’t RNA → RNA an unconscionable heresy? Correspondingly, RdRP is not naturally found in cells! All known positive-sense ssRNA viruses therefore <em>must encode</em> RdRP in order to successfully commit this heresy.</p>



<p>…Wait a minute, the phrase “positive-sense ssRNA virus” implies the existence of <em>negative-sense</em> viruses. If those don’t encode their proteins directly, how can they possibly work?</p>

<h2 id="positive-sense-and-negative-sense">Positive sense and negative sense</h2>

<p>Negative-sense ssRNA viruses also exist! Influenza, Ebola, and measles are examples.</p>



<p>The inner contents of <em>negative-sense</em> ssRNA viruses consist not of an RNA genome but of a <em>ribonucleoprotein</em>, which incorporates both an RNA genome as well as a cohort of viral proteins capable of replicating RNA. Unlike positive-sense ssRNA viruses, negative-sense ssRNA viruses must travel with a working copy of their RNA-replicating proteins. This ribonucleoprotein has enzymatic activity!</p>

<h2 id="rdrp-as-drug-target">RdRP as drug target</h2>

<p>Since RdRP has (as far as I know) no legitimate purpose in human cells and is not naturally coded by them, might it offer a potential target for novel antiviral drugs?</p>

<p><a href="https://pubmed.ncbi.nlm.nih.gov/24102407/">Velkov et al. 2014</a> explores RdRP as a drug target for antivirals against the <a href="https://en.wikipedia.org/wiki/Henipavirus">Hendra virus</a>, a negative-sense ssRNA virus, though I am unable to find the full text.</p>

<!-- <div class="unfurl-embed-info-media-default gallery-item-selectable"><img class="unfurl-embed-card-feature-image" src="https://cdn.ncbi.nlm.nih.gov/pubmed/persistent/pubmed-meta-image.png"><div class="unfurl-embed-card-title unfurl-embed-card-title-default notranslate"><a href="https://pubmed.ncbi.nlm.nih.gov/24102407/">The RNA-dependent-RNA Polymerase, an Emerging Antiviral Drug Target for the Hendra Virus - PubMed</a></div><div class="unfurl-embed-card-description unfurl-embed-card-description-default notranslate"><div style="overflow: hidden; text-overflow: ellipsis; -webkit-box-orient: vertical; display: -webkit-box; -webkit-line-clamp: 2;">Australia is facing a major national medical challenge with the emergence of the Hendra virus (HeV) as a medically and economically important pathogen of humans and animals. Clinical symptoms of human HeV infection can include fever, hypotension, dizziness, encephalitis, respiratory haemorrhage and …</div></div><div class="unfurl-embed-card-url notranslate">pubmed.ncbi.nlm.nih.gov</div></div> -->

<blockquote>
  <p>This review examines the current knowledge based on the multi-domain architecture of the Hendra RdRP and highlights which essential domain functions represent tangible targets for drug development against this deadly disease.</p>
</blockquote>

<p>There must be some reason that developing antivirals against this protein is technically (or socially) complicated, or I’d have expected us to do it by now – there are a lot of RNA viruses that this drug target could theoretically hit. Flagging this discrepancy for further research.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">1</a></sup></p>



<p>Back to SARS-CoV-2! First, let’s get us a genome. Obviously this virus has seen some mutations as it’s spread around, as you can explore at <a href="https://nextstrain.org/ncov/global">NextStrain</a>, so we’ve technically got choices as to which one to analyze. For this thread I’ll just stick to analyzing <em>one</em> version of the genome: Wuhan-Hu-1.</p>

<p>As a reminder, each <code>A</code>, <code>G</code>, <code>C</code>, and <code>T</code> in a genome is one of the four <a href="https://en.wikipedia.org/wiki/Nucleotide">nucleotides</a>: <a href="https://en.wikipedia.org/wiki/Adenine">adenine</a>, <a href="https://en.wikipedia.org/wiki/Guanine">guanine</a>, <a href="https://en.wikipedia.org/wiki/Cytosine">cytosine</a>, and <a href="https://en.wikipedia.org/wiki/Thymine">thymine</a>. There are actually <a href="https://www.scripps.edu/romesberg/publications.html">plenty of ways to engineer</a> different <a href="https://pubmed.ncbi.nlm.nih.gov/22850726/">unnatural base pair systems</a> by adding <a href="https://science.sciencemag.org/content/363/6429/884">artificial nucleotides</a>, and these can even be integrated into <a href="https://www.pnas.org/content/98/9/4922">transcription</a> and <a href="https://www.nature.com/articles/nature24659">translation</a>, but <a href="https://carlbrannen.wordpress.com/2007/06/13/why-does-dna-only-use-4-nucleotides/">for</a> <a href="https://dreamerbiologist.wordpress.com/2013/02/16/why-did-nature-settle-on-just-four-nucleotides/">whatever</a> <a href="https://www.pnas.org/content/114/32/E6476">reason</a>, these four <a href="https://www.nature.com/articles/s41467-018-07389-2">and not others</a> are <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3331698/">what life ultimately ended up with</a>.</p>

<p><img src="https://csvoss.com/images/nucleotides.png"></p>
<p><small>The four nucleotides in DNA.</small></p>

<p>The genome of Wuhan-Hu-1 is available from <a href="https://www.ncbi.nlm.nih.gov/nuccore/MN908947.3">NCBI GenBank</a>. Since SARS-CoV-2 is an RNA virus, each <code>T</code> in this string technically represents a <code>U</code>, for <a href="https://en.wikipedia.org/wiki/Uracil">uracil</a>, RNA’s information-equivalent of thymine. The genome sequence is therefore:</p>

<div><div><pre><code>1     AUUAAAGGUU UAUACCUUCC CAGGUAACAA ACCAACCAAC UUUCGAUCUC UUGUAGAUCU
61    GUUCUCUAAA CGAACUUUAA AAUCUGUGUG GCUGUCACUC GGCUGCAUGC UUAGUGCACU
121   CACGCAGUAU AAUUAAUAAC UAAUUACUGU CGUUGACAGG ACACGAGUAA CUCGUCUAUC

...

29761 ACAGUGAACA AUGCUAGGGA GAGCUGCCUA UAUGGAAGAG CCCUAAUGUG UAAAAUUAAU
29821 UUUAGUAGUG CUAUCCCCAU GUGAUUUUAA UAGCUUCUUA GGAGAAUGAC AAAAAAAAAA
29881 AAAAAAAAAA AAAAAAAAAA AAA
</code></pre></div></div>

<p><a target="blank" href="https://benchling.com/s/seq-28k9llmwnY475iv7ogwF/edit">Follow along with the genome »</a></p>

<p>That’s 29,903 nucleotides. Since there are only four possible nucleotides, we can estimate the information compression value of each nucleotide at approximately 2 bits; the virus’s genome therefore requires only 7.5 kilobytes to store. That’s roughly as much data, byte for byte, as there are characters in this essay up to this point!</p>

<!-- <img src="https://s3-us-west-2.amazonaws.com/courses-images/wp-content/uploads/sites/110/2016/05/02212445/Figure_03_05_03.png"> -->

<p>Lay out those 29,903 nucleobases along a ribose-phosphate backbone, reading them left to right <a href="https://en.wikipedia.org/wiki/Directionality_(molecular_biology)">from the 5’ end to the 3’ end</a>, and bam – if that single molecule* were teleported into a cell, that’s 100% chemically sufficient** to infect a person with the plague du jour.</p>

<p>*plus the 5’ cap, discussed below</p>

<p>**modulo viral load effects??</p>

<p><img src="https://csvoss.com/images/polynucleotide.png"></p>
<p><small>How to interpret the Wuhan-Hu-1 genome as a complete molecule.</small></p>

<h2 id="poly-a-tail">Poly-A tail</h2>

<p>First question, and perhaps the most obvious one to the naked eye – what’s with all the <code>AAAAA</code> at the end of the viral genome?</p>

<div><div><pre><code>29821 ...                                                ... AAAAAAAAAA
29881 AAAAAAAAAA AAAAAAAAAA AAA
</code></pre></div></div>
<p><a target="blank" href="https://benchling.com/s/seq-28k9llmwnY475iv7ogwF/edit">Follow along with the genome »</a></p>

<p>It’s… yelling at us? Is it… suffering? Should we <a href="https://reducing-suffering.org/is-there-suffering-in-fundamental-physics/">help</a>?</p>

<p>Simple: It’s a <a href="https://bioinformatics.stackexchange.com/questions/11227/why-does-the-sars-cov2-coronavirus-genome-end-in-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa">3’ poly-A tail</a>! This <a href="https://en.wikipedia.org/wiki/Polyadenylation">long tail of adenosine monomers</a> is extremely common in both our own cells and in RNA viruses.</p>

<p>Our own messenger RNA (mRNA) has a poly-A tail when it’s freshly produced in the nucleus so as to slow its degradation by the cell, allowing it to last long enough to be transcribed into protein. Naturally, if you’re a positive-strand RNA virus, you’re also going to want to last long enough to be transcribed into protein – so, you need the same feature, yourself.</p>

<p>Genome 0.11% explained. So far so good!</p>

<h2 id="5-cap">5’ cap</h2>

<p>While we’re discussing chemical features of mRNA, note that the viral genome presumably must also have a <a href="https://en.wikipedia.org/wiki/Five-prime_cap">5’ cap</a> – an extra <a href="https://en.wikipedia.org/wiki/7-Methylguanosine">7-methylguanosine</a> at the 5’ end of its RNA strand – just like mRNAs do.</p>

<p><img src="https://csvoss.com/images/5primecap.png"></p>
<p><small>A 5' cap, consisting of a 7-methylguanosine as well as methylation of the first two ribose sugars.</small></p>

<p>The cap is not directly shown in the viral genome sequence or mentioned in NCBI GenBank, but it is referenced in multiple papers discussing coronaviral genomes:</p>

<blockquote>
  <p>Since 2003, the outbreak of severe acute respiratory syndrome coronavirus has drawn increased attention and stimulated numerous studies on the molecular virology of coronaviruses. Here, we review the current understanding of the mechanisms adopted by coronaviruses to produce the 5′-cap structure and methylation modification of viral genomic RNAs.</p>
</blockquote>



<blockquote>
  <p>Coronaviruses possess a cap structure at the 5′ ends of viral genomic RNA and subgenomic RNAs, which is generated through consecutive methylations by virally encoded guanine-N7-methyltransferase (N7-MTase) and 2′-O-methyltransferase (2′-O-MTase). The coronaviral N7-MTase is unique for its physical linkage with an exoribonuclease (ExoN) harbored in nonstructural protein 14 (nsp14) of coronaviruses.</p>
</blockquote>



<blockquote>
  <p>Here, we have reconstituted complete SARS-CoV mRNA cap methylation <em>in vitro</em>.</p>
</blockquote>



<p>Like the poly-A tail, the 5’ cap helps the genome to be recognized and translated by ribosomes rather than destroyed by the cell’s immune response.</p>

<p>How does the virus even ensure that it receives a 5’ cap and a poly-A tail, not to mention its outer coat? Hopefully these questions will be resolved by our review of its genes and proteins… let’s move on to look at those!</p>



<p>Per the “Features” section of the genome, again from <a href="https://www.ncbi.nlm.nih.gov/nuccore/MN908947.3">NCBI GenBank</a>, here are the identifiable genes in this genome, in order:</p>

<ol>
  <li><code>Orf1ab</code> (for <a href="https://www.ncbi.nlm.nih.gov/protein/1791269089">orf1ab polyprotein</a>)</li>
  <li><code>S</code> (for <a href="https://www.ncbi.nlm.nih.gov/protein/1791269090">surface glycoprotein</a>)</li>
  <li><code>Orf3a</code> (for <a href="https://www.ncbi.nlm.nih.gov/protein/1791269091">orf3a protein</a>)</li>
  <li><code>E</code> (for <a href="https://www.ncbi.nlm.nih.gov/protein/1791269092">envelope …</a></li></ol></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://csvoss.com//a-mechanists-guide-to-the-coronavirus-genome">https://csvoss.com//a-mechanists-guide-to-the-coronavirus-genome</a></em></p>]]>
            </description>
            <link>https://csvoss.com//a-mechanists-guide-to-the-coronavirus-genome</link>
            <guid isPermaLink="false">hacker-news-small-sites-24231490</guid>
            <pubDate>Fri, 21 Aug 2020 02:54:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Did Mozilla Remove XUL Add-Ons?]]>
            </title>
            <description>
<![CDATA[
Score 378 | Comments 302 (<a href="https://news.ycombinator.com/item?id=24231017">thread link</a>) | @est31
<br/>
August 20, 2020 | https://yoric.github.io/post/why-did-mozilla-remove-xul-addons/ | <a href="https://web.archive.org/web/*/https://yoric.github.io/post/why-did-mozilla-remove-xul-addons/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>TL;DR: Firefox used to have a great extension mechanism based on the XUL and XPCOM. This mechanism served us well for a long time. However, it came at an ever-growing cost in terms of maintenance for both Firefox developers and add-on developers. On one side, this growing cost progressively killed any effort to make Firefox secure, fast or to try new things. On the other side, this growing cost progressively killed the community of add-on developers. Eventually, after spending years trying to protect this old add-on mechanism, Mozilla made the hard choice of removing this extension mechanism and replacing this with the less powerful but much more maintainable WebExtensions API. Thanks to this choice, Firefox developers can once again make the necessary changes to improve security, stability or speed.</p>

<p>During the past few days, I’ve been chatting with Firefox users, trying to separate fact from rumor regarding the consequences of the August 2020 Mozilla layoffs. One of the topics that came back a few times was the removal of XUL-based add-ons during the move to Firefox Quantum. I was very surprised to see that, years after it happened, some community members still felt hurt by this choice.</p>

<p>And then, as someone pointed out on reddit, I realized that we still haven’t taken the time to explain in-depth why we <em>had no choice</em> but to remove XUL-based add-ons.</p>

<p>So, if you’re ready for a dive into some of the internals of add-ons and Gecko, I’d like to take this opportunity to try and give you a bit more detail.</p>



<p>For a very long time, Firefox was composed of a very small core on top of which everything was implemented as extensions. Many of these extensions were written in C++, others in JavaScript and many involved the XUL interface language and the XBL binding language. C++ and JavaScript code were connected thanks to a technology called XPCOM. Whenever an extension developer wished to customize Firefox, it was simple and extremely powerful, as the exact same building blocks used to power Firefox could be used to customize it.</p>

<p>This is how Session Restore (the technology that lets you resume Firefox where you left it the last time, even in case of crash) or the Find Bar were first implemented in Firefox, among other features. This is the technology that powers Firefox and <a href="https://www.thunderbird.net/">Thunderbird</a>. This is how tools such as <a href="https://en.wikipedia.org/wiki/Songbird_(software)">Songbird</a> (an open-source iTunes competitor) or <a href="https://en.wikipedia.org/wiki/Instantbird">Instantbird</a> (a chat client) were developed. This is also how I customized Firefox to become an eBook reader a long time ago. And this is how thousands of Firefox add-ons were developed.</p>

<p>Many people call this extension mechanism “XUL-based Add-Ons”, or sometimes “XPCOM-based Add-Ons”, and I’ll use both terms in this blog entry, but I often think of this as the “Promiscuous Extension Mechanism”, for several reasons:</p>

<ul>
<li>very quickly, add-on developers realized that anything they did could break anything else in the system, including other add-ons and Firefox itself, and they often had no way to prevent this;</li>
<li>similarly, anything Firefox developers did could break add-ons, and they often had no way to prevent this;</li>
<li>also, some of the changes that Firefox needed to be as fast, as stable and as secure as possible were going to break most add-ons immediately, possibly all add-ons in the longer term;</li>
<li>oh, and by the way, since add-ons could do everything, they could very easily do anything to the operating system, from stealing passwords to pretending to be your bank.</li>
</ul>

<p>Note: Having read in comments that some users apparently do not care about security, let me add that being secure is a really, really important point for Mozilla and has been since the first day. Regardless of add-ons, <em>not</em> having security means that an exploit is eventually going to show up that will steal user’s passwords and use them to steal their bank accounts – and that exploit will get sold around and will soon show up everywhere. Firefox developers fight this threat daily by all sorts of means, including code reviews, defensive programming, crash scene investigations, several types of sandboxing, static analysis, memory-safe languages, … Consequently, for Mozilla, if a feature prevents us from achieving great security, we <em>always</em> pick security over features.</p>

<p>I’ll return to these points in more details later. For the moment, suffices to say that it had been clear to Firefox developers for a long time (at least since 2010) that this situation was untenable. So Mozilla came up with a backup plan called the <em>Firefox Jetpack</em>.</p>

<p>Firefox Jetpack was a very different manner of extending Firefox. It was much cleaner. It finally had a permissions mechanism (something that had been suggested even before Firefox was called Firefox and that was generally considered too hard to implement). Out of the box, add-ons could not break each other or Firefox (I seem to remember that it was still sometimes possible by exploiting the observer service, but you had to work hard at it), it made extensive use of async programming (which was great to achieve a feeling of high-performance) and thanks to the fact that it had a finite API, it could be tested, which meant that when Firefox developers broke add-ons, they knew about it immediately and could fix the breakages! That was several enormous steps forward. This came at the cost of a more limited API but in most cases, the tradeoff seemed worth it.</p>

<p>Unfortunately, it turned out that there was an unexpected incompatibility between the design of Jetpack and some of the major changes that were needed in Firefox. I’m not entirely clear about what this incompatibility was but this meant that we had to abandon Jetpack.
Instead, we introduced WebExtensions. Overall, WebExtensions had a similar objective as Jetpack-based add-ons, with a similarly restricted API and the added bonus that they could be made to work on both Chromium-based browsers and Firefox.</p>

<p>If you needed very advanced APIs, switching from the promiscuous extension mechanism to Jetpack or WebExtensions was not always possible, but for most extensions, the transition was simple – in my personal experience, it was even pleasant.</p>

<p>Firefox introduced WebExtensions in time for Firefox Quantum because this is when the promiscuous add-on model was scheduled to break.</p>

<p>At this stage, we’re done with the historical overview. I hope you’re ready for a more technical dive because that’s how I’m going to explain to you exactly which problems were solved as we switched from the promiscuous extension model to WebExtensions.</p>



<h2 id="how-it-started">How it started</h2>

<p>XPCOM, the Xross-Platform Component Object Model, is perhaps the feature of Firefox that can best be described as <em>the core</em> (for people who know Gecko in-depth, I’m counting XPConnect and the Cycle Collector as part of XPCOM), alongside SpiderMonkey, our JavaScript Virtual Machine.</p>

<p>XPCOM is a technology that lets you write code in two languages and have each other call the other. The code of Firefox is full of C++ calling JavaScript, JavaScript calling C++ and a long time ago, we had projects that added Python and .Net in the mix. This piece of machinery is extremely complicated because languages do not share the same definitions (what’s a 64-bit integer in JavaScript? what’s a JavaScript exception in C++?) or the same memory model (how do you handle a JavaScript object holding a reference to a C++ object that C++ might wish to <code>delete</code> from memory?) or the same concurrency model (JavaScript workers share nothing while C++ threads share everything).</p>

<p>Gecko itself was originally designed as thousands of XPCOM components that could each be implemented in C++ or in JavaScript, tested individually, plugged, unplugged or replaced dynamically and <em>it worked</em>. In addition, the XPCOM architecture made for much cleaner C++ programming than was available at the time, worked on dozens of platforms, and let us combine the convenience of writing code in JavaScript and the raw speed permitted by C++.</p>

<p>To write a XPCOM component, you typically define <a href="https://searchfox.org/mozilla-central/rev/6cc48251bb97600fdf11a5b4c5f621bfc8606d55/dom/interfaces/base/nsIFocusManager.idl">an interface</a>, then write the implementation in either C++ or JavaScript (or Rust, nowadays, and maybe soon Wasm). Some boilerplate is needed, but hey, it works.</p>

<p>When early Firefox developers decided to open the platform to extensions, XPCOM was immediately picked as the base technology for add-ons. Firefox just had to let add-on authors plug anywhere within the code and they would have tremendous power at their disposal.</p>

<p>And add-on developers (including myself) certainly did and had lots of fun with it!</p>

<h2 id="the-era-of-immutable-xpcom">…the era of immutable XPCOM</h2>

<p>Unfortunately, problems progressively started to creep up.</p>

<p>When you’re developing a large application, you need to change things, either to fix bugs or to add new features, or to improve performance. In the XPCOM world, this meant changing XPCOM components. Sometimes to add new features to a component. Sometimes to entirely remove one because this design has been replaced with a better design.</p>

<p>In the first era of the XPCOM-based extension mechanism, this was often forbiddden. If there was an XPCOM component used by add-ons, it simply <strong>could not</strong> be changed in incompatible ways. This was great for add-on developers but it quickly became a nightmare for Firefox developers. Because every single change had to be made in backwards-compatible way both externally (for web developers) and internally (for add-on developers). This meant that each XPCOM component <code>nsISomething</code> was quickly accompanied by a <code>nsISomething2</code>, which was the better component – and both needed to be made to work alongside each other - One case was even more complicated to handle by Firefox developers: XPCOM-based add-ons could replace <em>any existing XPCOM component</em>. Needless to say, this was a very good way to break Firefox in ways that puzzled Firefox crash investigators.</p>

<p>This meant that development became slower and slower as we needed to check each new feature or each improvement against not only current features, but also past/deprecated features or simply old ways to work …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://yoric.github.io/post/why-did-mozilla-remove-xul-addons/">https://yoric.github.io/post/why-did-mozilla-remove-xul-addons/</a></em></p>]]>
            </description>
            <link>https://yoric.github.io/post/why-did-mozilla-remove-xul-addons/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24231017</guid>
            <pubDate>Fri, 21 Aug 2020 01:30:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Promised Land: Religious Ideology and Solarpunk Science Fiction]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24230502">thread link</a>) | @apsec112
<br/>
August 20, 2020 | http://thenewmodality.com/promised-land-religious-ideology-and-solarpunk-science-fiction/ | <a href="https://web.archive.org/web/*/http://thenewmodality.com/promised-land-religious-ideology-and-solarpunk-science-fiction/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
<div>
  <p><span>Octavia Butler, the Black science fiction author to whom all others were compared until the coming of N.K. Jemisin, published the novel </span><i><span>Parable of the Sower</span></i><span> in 1993,</span> <span>first of a trilogy. In her fictional near-future, Southern California will become but one of the newly red-lined regions earmarked for a corner pocket of Hell, because the end is nigh. I’m talking, dolphins Snapchatting us, “WE OUT! NO-THANKS-FOR-THE-MERCURY-MARINATED-FISH!”-type of climatic environmental and societal collapse. No kaiju necessary. We will die of consumption after a fifty-plus year bender, drunk on neoliberal, late-stage capitalist moonshine.</span></p>
<p><em><span>[[This article appears in <a href="http://thenewmodality.com/letter-from-the-editor-newmo-issue-one/">Issue One</a> of </span></em><span>The New Modality.</span><em><span><a href="https://thenewmodality.backerkit.com/hosted_preorders"> Buy your copy or subscribe here</a>.]]</span></em></p>
<p><span>Fast forward to our present non-fiction. My day job is teaching elementary school. Yet despite the allure of two months of do-whatever-I-want-time, more and more I dread the coming of summer, because glaciers the size of islands are falling into the ocean. Is this the season when my <em>Westworld</em> kingdom is invaded by drought and famine? When Russia’s permafrost melts, releasing primeval microscopic disease-titans (</span><a href="http://www.bbc.com/earth/story/20170504-there-are-diseases-hidden-in-ice-and-they-are-waking-up"><span>they are real, 2017</span></a><span>) to gobble me up in a surprise Greek tragedy? When the floodgates of my Amazon-fueled desires are permanently clogged by natural man-made disaster? Of course, Prime will continue to deliver, but the markup would be understandably obscene.</span></p>
<p><span>Will this be the season my melanin hard-fails me?</span></p>
<p><span>I joke because I’m afraid. Not only is this specific dystopia possible, Butler seems to have predicted it twenty-seven years ago. </span><i><span>Parable of the Sower</span></i><span> is set somewhere in the 2020s during a presidential election in which the candidate’s campaign slogan is “Make America Great Again</span><i><span>.” </span></i><span>Oh yes, and California actually </span><i><span>is</span></i> <span>burning right now. This is a horrible present. I ordered the exact opposite of this nightmare. I asked for solarpunk.</span></p>
<p><b>Solarpunk: The Genre of Solutions</b></p>
<p><span>Solarpunk is the environmentally conscious speculative arts movement that best navigates the terrors ahead. Detractors label it a kind of Pollyanna utopianism full of empty calories. It’s true that the Google replicator machine will serve up a visual feast</span><span> of enforested skyscrapers and lush solar energy mushroom cities (possibly under the sea, possibly shared with amiable, buck-toothed invertebrates with ageless comedic timing). The solarpunk aesthetic will sometimes wear utopian clothing, but it’s nobody’s fault, really. Ursula K. Le Guin helped plant solarpunk seeds decades ago, in stories such as the 1972 novel </span><i><span>The Dispossessed,</span></i> <span>her 1982 essay “</span><a href="https://www.fifthestate.org/archive/382-spring-2010/non-euclidean-view-california-cold-place-1982/"><span>A Non-Euclidean View of California as a Cold Place to Be</span></a><span>,”</span> <span>and many othe</span><span>r Daoist-inspired works</span><i><span>.</span></i><span> Thus, the movement was growing long before the term was coined in 2008. So after decades of imagineering and community building, there are bound to be layers and crumbly edges. And to be fair, it is impossible to dream of Hell and not pine for its opposite.</span></p>
<p><span>In truth, solarpunk is functional AF. The primary colors of its aura are red, orange, and yellow: Courageously compassionate, creatively scientific, and awakened interdependence. In many ways, it can be more rigorous than so-called “hard science fiction.” Don’t @ the messenger; I’m quoting Kim Stanley Robinson, author of </span><i><span>New York 2140</span></i><span> among many other groundbreaking stories of eco-fiction. He takes issue with the viral over-affixation of “-punk” (Google punk genres and see how many you get). However, at Boskone 57, one of the largest science fiction conventions in the country, where he was guest of honor, Robinson described a genre full of futures to defy the Anthropocene. Stories where sacrifices are made, but in the end, we find ways to survive and become wise. I told him afterwards that it sounded like solarpunk, and he stage-whispered, “That’s because it is.”&nbsp;</span></p>
<p><span>If we focus primarily on the genre’s textual artifacts — including the discourses on the various social media platforms, but especially the genre fiction it produces — solarpunk’s better qualities become unimpeachable. I have read all the major solarpunk anthologies that have come out in the last five years. To quote Sarena Ulibarri, editor of </span><i><span>Glass and Gardens: Solarpunk Summers</span></i><span> and newly out </span><i><span>Solarpunk Winters,</span></i><span> because she’s so damn quotable, “[Solarpunk] stories depict adaptation and compromise rather than destruction and conquest… empathy over greed.” They are an antidote for the toxin, yin to counteract the damage done by the big yang motorcycle trip, and I am a believer.</span></p>
<p><span>Yet after reading and enjoying these stories, I noticed a pattern. The viewpoint characters of solarpunk stories roughly fall into categories with similar confluences; Joênia from Thomas Badlan’s “Orchidae” (in </span><i><span>Glass and Gardens: Solarpunk Winters,</span></i> <span>2020) is one among many intrepid scientists you will find in the genre, racing the clock to preserve life or help us adapt. Young makers, like Del the biotech tinkerer in D.K. Mok’s “The Spider and the Stars,” and the community that comes together to ceremonially re-create the vanished Arctic in Andrew Dana Hudson’s “Black Ice City” (both in </span><i><span>Solarpunk Summers,</span></i><span> 2018), are also well represented in solarpunk.&nbsp;&nbsp;</span></p>
<p><span>There’s some spillover from the makers into the anarchists. In T.X. Waston’s “The Boston Hearth Project” (in </span><i><span>Sunvault</span></i><i><span>,</span></i><span> a 2017 anthology edited by Wagner and Wieland), these are people who thrive on the leftmost bleeding edge of society, breaking rules that should never have been in order to shelter the homeless. But many solarpunk characters — and most salient to this conversation — are young people, often women of color, adjusting to the dangers of the new normal brought on by severe environmental changes and doing so in ways their elders did not have the foresight or perspective to do themselves. Daesha in “Fyrewall” by Stefani Cox </span><i><span>(Solarpunk Summers)</span></i><span> is one like this, gifted with responsibilities beyond her years when she must fix the wall protecting future Californians from raging wildfires. All these stories showcase new or repurposed material resources and technologies for increased sustainability.&nbsp;&nbsp;</span></p>
<p><span>Clearly these voices are necessary. But there’s something missing. The intersection with communities of faith is roped off.</span></p>
<p><b>Spirit in the Machine: The Missing Piece</b></p>
<p><span>The heroine of Butler’s </span><i><span>Parable of the Sower</span></i> <span>is</span> <span>Lauren Oya Olamina. She will be little more than a child before inevitable mayhem and metastasized, commodified suffering rolls up on her family, murders everyone, and destroys what is left of her community. She will escape with her life, but orphaned and traumatized. What is she to do?</span></p>
<p><span>Step one: Become a self-made messiah.</span></p>
<p><span>Step two: Reengineer God.</span></p>
<p><span>Step three: Save humanity.</span></p>
<p><span><span>Step four: Bong hits.</span></span></p>
<p><span>Hers is an incredibly powerful story. She very much fits the mold of solarpunk heroines with one exception: She’s a faith leader. Why aren’t there more characters like her? Where are the griots and santeras? Where are the bodhisattvas and the saints? Those who speak the languages of heaven’s heart? Where are the Lauren Oya Olaminas?</span></p>
<p><span>Her absence, given what she might represent, is understandable. Ideology (the dogmatic kind) has often been the death of free thinkers and first adopters. It has produced conservative paradigms that sustained brutal hierarchies, birthed unforgettable monsters, and poured bleach on other people’s history. But too often to ignore, the opposite has also been the case. Tibetan Buddhism and the Dalai Lama comes to mind. The Southern Christian Leadership Conference, the nonviolent Civil Rights Era organizing group whose goal was to redeem “the soul of America,” was not an aberration of history. Martin Luther King may have been a GOAT (Greatest Of All Time, for those without access to Urban Dictionary), but if time’s memory was more robust, his would not be the only spirit we commune with on special occasions.&nbsp;</span></p>
<p><span>So, whether it has been a purposeful or subconscious omission, this issue must be addressed for solarpunk to move beyond artists, and progressive secularists. We need to mainstream the radical.</span></p>
<p><b>The Intersection is Under Construction</b></p>
<p><span>There are three tenets of solarpunk orthodoxy that are relevant here. The first is that solarpunk is an overtly inclusive space. If it could be a real boy, anti-racism would be in its DNA. Keep that in mind when I tell you that the US Census <a href="https://www.brookings.edu/blog/the-avenue/2018/03/14/the-us-will-become-minority-white-in-2045-census-projects/%20">projects</a> that by the year 2045, the majority of US population will be people of color (already the case for residents under age eighteen) and the majority of us profess some kind of faith (itinerant Seon Buddhist right here).<br></span></p>
<p><span>In 2008, when last Pew Research asked the question, 95% of those surveyed reported belief in a higher power of some kind. Even among scientists, the believers were in the majority. Both numbers go up if you include the rest of the world, particularly the black and brown parts. So, for solarpunk to be properly inclusive of us in possible futures, it would be a mistake to blackbox significant guiding tenets because of an aversion to the dominant ideologies and the much-discussed potential for evil in organized religion. Evil is everywhere. Search for kittens on your favorite browser and scroll down for about thirty seconds. There be evil.&nbsp;</span></p>
</div>
</div><div>
    
<div>
    
<p><span>
  <img alt="Image" src="http://imaketheater.com/newmodality_x/wp-content/uploads/2019/09/mini_gradient_divider.png" width="69" height="6">
</span></p><blockquote>
    <div>
    <p><span>There is no greater or more fundamental technology than culture. It, and the ark of ideologies that arise from it, are more than just peer pressure from dead people. Culture is </span><i><span>software. </span></i><span>And more often than not, that includes a spiritual platform.</span></p>      </div>
  </blockquote>

<p><span>
  <img alt="Image" src="http://imaketheater.com/newmodality_x/wp-content/uploads/2019/09/mini_gradient_divider.png" width="69" height="6">
</span></p><div>
  <p><span>Claudie Arseneault, author of <i>Wings of Revival: A Solarpunk Dragon Anthology</i>, gives us the second tenet: “[Solarpunk should work] from existing technologies, from things we already know are possible.” This is key. There is no greater or more fundamental technology than culture. It, and the ark of ideologies that arise from it, are more than just peer pressure from dead people. Culture is <i>software.</i> And more often than not, that includes a spiritual platform.</span></p>
<p><span>Now, a deep dive into the Pokémon competitions …</span></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://thenewmodality.com/promised-land-religious-ideology-and-solarpunk-science-fiction/">http://thenewmodality.com/promised-land-religious-ideology-and-solarpunk-science-fiction/</a></em></p>]]>
            </description>
            <link>http://thenewmodality.com/promised-land-religious-ideology-and-solarpunk-science-fiction/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24230502</guid>
            <pubDate>Fri, 21 Aug 2020 00:13:15 GMT</pubDate>
        </item>
    </channel>
</rss>
