<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sun, 27 Dec 2020 08:42:56 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sun, 27 Dec 2020 08:42:56 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[How the freemium model makes 4k MRR for logolix]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535491">thread link</a>) | @theXspidy
<br/>
December 25, 2020 | https://pondum.com/how-the-freemium-model-makes-4k-mrr-for-logolix/ | <a href="https://web.archive.org/web/*/https://pondum.com/how-the-freemium-model-makes-4k-mrr-for-logolix/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	

<p><strong>Link</strong>: https://logolix.com/</p>



<p><strong>Founder</strong>: Joven Babovic</p>



<p><strong>Revenue</strong>: $4k MRR</p>



<p><strong>Product</strong>: “Free logo design for your projects.”</p>



<p><strong>Who is Joven Babovic and what business he started?</strong></p>



<p>Joven Babovic is a brand designer from Belgrade, Serbia. He is working on a productized logo design agency for tech founders, called Logolix, which starts three years ago.</p>



<p><strong>What is the backstory behind logolix and how he comes up with the idea?</strong></p>



<p>Back from 2012 to 2017, Joven is doing freelancing and participating in the design competition. But the competition on this platform is rapidly increasing, so he decided to start his agency. Logo design is a passion for Joven. But the problem is that compony only need new look ones every few years. That’s why he needs to find a new client after every work done. But he needs a steady stream of leads.</p>



<p>He analyzed the market and start plan what to do next and came up with an idea to give his some logo design for free. As he was designing the logo for three years and every client need 3-4 logos to choose the good one. However, after taking the best logos, the other logo is still unused, so he used that logos for people who were testing their ideas but don’t have money to spend on good looking logo’s. And give it free for them, hoping that they would come back and order a custom design later.</p>



<p>And this work for Joven is a stream of clients for three years without any additional marketing.</p>



<p><strong>How Joven came up with the prototype of his idea?</strong></p>



<p>Joven takes two weeks to create it’s the initial product.<br>He used a theme from ThemeForest as he is not a developer, but he has a good knowledge of customizing ThemeForest themes. Other then theme he purchased a domain and hosting which cost him around $100.</p>



<p>Here are the full steps involved in the two weeks of making initial product<br>1 Sort out best logos and package them for easy download.</p>



<ol start="2"><li>Write down landing page copy and created three different pricing packages</li><li>Customize the theme to match Logolix branding and add all of the logos</li><li>Create the design brief and integrate Typeform into the website.</li><li>Upload the website and make sure everything is functioning correctly (Google Analytics, Typeform, Download feature, Contact form, etc.)</li><li>Prepare the images and copy to launch on Product Hunt</li><li>Launch!</li></ol>



<p>He didn’t spend too much time on MVP and focused on the product’s back end and delivering exceptional service.</p>



<p><strong>Since launch what worked for Jovan to attract customers for logolix</strong>.</p>



<p>Joven knows the importance of freemium model people wanted to try something before they purchased it and that realize Joven that founders didn’t want to spend money on a new logo when just testing their ideas.</p>



<p>For getting customers, he researched where tech founders spend their time online, and that’s when he found product hunt. He saw many products are launching on product hunt, but the competition for logo design category didn’t have much competition.</p>



<p>And after a few days later Joven launched Logolix on Producthunt<br>And go to sleep after wake up he saw 11 new inquiries and Logolix got #1 product of the day with 780 upvotes. Logolix got 12000 visits, but the traffic is slowly died off in the next month.</p>



<p>Other then that referral is the most significant source of new clients for logolix.</p>



<p>Logolix started as a side hustle, and Joven doesn’t have any plan to scale it as it only provides additional income and allow him to work on projects that he likes to enjoy.</p>



<p><strong>Joven future plans with logolix</strong></p>



<p>Joven wants to write a guest post for getting extra exposure for logolix.</p>



<p>Other than that Joven wants to start a unique productized service soon.</p>



<p><strong>Through starting Logolix what challenges Joven faced. And how he overcome those.</strong></p>



<p>The first mistake Joven did is that he get too excited after launch and after checking 12 orders, as he gets one to three clients per month, after seeing 12 orders at once, he gets a burden. He cancelled some order and worked with good earning potential orders if he takes all order and finds a good designer of its level to scale logolix to a different story.</p>



<p>The second mistake was to redesigning logolix landing page several time, which got him to bounce rate.<br>Here Is the lesson: don’t make massive changes if something is already working, just because you think it will work even better. Follow the data and try to improve your product step-by-step slowly.</p>



<p><strong>Through starting Logolix what Joven learn which is particularly helpful or advantages for him?</strong></p>



<p>I can’t pinpoint specific advice that helped me, but immersing myself in digital marketing content and the SaaS world gave me many insights. I wouldn’t have even thought of promoting my logos by giving them away for free if there wasn’t a SaaS article about freemiums.</p>



<p><strong>Advice from Joven for future entrepreneurs who were starting?</strong></p>



<p>Just start something. You don’t learn until you launch and nothing will be as you planned. You might fail bad, but take it as a lesson. You might also succeed beyond your wildest predictions.<br>Everything is about the mindset, and this cannot be overstated. I used to be a wantrepreneur and never thought that I could somehow scale my skills beyond selling $200 logos. Start believing in yourself and follow what people on the next level are doing. Don’t copy, but emulate.</p>



<p>One more piece of advice for anyone in the creative profession is to read Steven Pressfield’s work. I used to continually battle with procrastination until his books showed me a way out. If you struggle to start a new project or wait until the deadline to complete a task, resistance beats you. You have to learn how to overcome it if you want to achieve something great. Anyways, he’ll explain it much better than me.</p>


<div>
    <div>
        <div>
            <p><a href="https://pondum.com/profile/pondum/" rel="author">
					<img alt="" src="https://secure.gravatar.com/avatar/9055b421ae993acbdf7c415dc5f1ca0b?s=80&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9055b421ae993acbdf7c415dc5f1ca0b?s=160&amp;d=mm&amp;r=g 2x" height="80" width="80" loading="lazy">                </a>
            </p>
            <p><span>
                    
                </span>
				                    <span>
                        <span>Member since</span>
                        <time datetime="2020-12-24 08:29">
                            December 21, 2020                        </time>
                    </span>
				            </p>

			
	    

			
        </div>
		    </div>

	        <div>
            <p><span>Contributor</span>
            </p>
            <div>
                <p><a href="https://pondum.com/profile/omkar/" rel="author">
						<img alt="" src="https://secure.gravatar.com/avatar/60dc37d778466bd4dd06d45445d3641c?s=80&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/60dc37d778466bd4dd06d45445d3641c?s=160&amp;d=mm&amp;r=g 2x" height="80" width="80" loading="lazy">                    </a>
                </p>
            </div>
        </div>
	
	</div>
</div></div>]]>
            </description>
            <link>https://pondum.com/how-the-freemium-model-makes-4k-mrr-for-logolix/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535491</guid>
            <pubDate>Fri, 25 Dec 2020 10:00:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Linux Hardening Guide]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535489">thread link</a>) | @ignoramous
<br/>
December 25, 2020 | https://madaidans-insecurities.github.io/guides/linux-hardening.html | <a href="https://web.archive.org/web/*/https://madaidans-insecurities.github.io/guides/linux-hardening.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    

    <p><i><time datetime="2020-12-25">Last edited: December 25, 2020</time></i></p>

    <div>
      <p><a href="https://madaidans-insecurities.github.io/linux.html">Linux is not a secure operating system</a>. However, there are steps you can take to improve it. This guide aims to explain
      how to harden Linux as much as possible for security and privacy. This guide attempts to be distribution-agnostic and is not tied to any specific one. </p><p>
      
      DISCLAIMER: Do not attempt to apply anything in this article if you do not know exactly what you are doing. This guide is focused purely on security and privacy,
      not performance, usability, or anything else. </p><p>
      
      All commands listed in this guide will require root privileges. Words beginning with "$" sign indicate a variable that may differ between users as to suit their
      setup.
    </p></div>

    <h2>Contents</h2>

    

    <h2 id="choosing-the-right-distro"><a href="#choosing-the-right-distro">1. Choosing the right Linux distribution</a></h2>

    <p>
      There are many factors that go into choosing a good Linux distribution.
    </p>

    <ul>
      <li>
        Avoid distributions that freeze packages as <a href="https://madaidans-insecurities.github.io/linux.html#debian">they are often quite behind on security updates</a>.
      </li>

      <li>
        Use a distribution with an init system other than <a href="https://systemd.io/">systemd</a>. systemd contains a lot of unnecessary
        attack surface; <a href="https://ewontfix.com/14/">it attempts to do far more things than necessary</a> and goes beyond what an
        init system should do. An init system should not need many lines of code to function properly.
      </li>

      <li>
        Use <a href="https://musl.libc.org/">musl</a> as the default C library. musl is heavily focused on minimality which <a href="https://github.com/NixOS/nixpkgs/issues/90147#issuecomment-643473182">results in very small attack surface</a> whereas other C libraries
        such as glibc are overly complex and prone to vulnerabilities. For example, <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-72/product_id-767/GNU-Glibc.html">
        over a hundred vulnerabilities in glibc have been publicly disclosed</a> compared to the <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-16859/product_id-39652/Musl-libc-Musl.html">
        very few in musl</a>. While counting CVEs by itself is often an inaccurate statistic, it can sometimes be used to represent an overaching issue such as
        in this case. musl also has <a href="https://www.dustri.org/b/security-features-of-musl.html"> decent exploit mitigations</a>, particularly its
        <a href="https://www.openwall.com/lists/musl/2020/05/13/1">new hardened memory allocator</a>.
      </li>

      <li>
        Preferably use a distribution that utilizes <a href="https://www.libressl.org/">LibreSSL</a> by default rather than <a href="https://www.openssl.org/">
        OpenSSL</a>. <a href="https://arstechnica.com/information-technology/2014/04/openssl-code-beyond-repair-claims-creator-of-libressl-fork/">OpenSSL contains
        tremendous amounts of totally unnecessary attack surface and follows poor security practices</a>. For example, it still maintains OS/2 and VMS support —
        ancient operating systems that are multiple decades old. These abhorrent security practices are what led to the dreaded <a href="https://en.wikipedia.org/wiki/Heartbleed">Heartbleed vulnerability</a>. LibreSSL is a fork of OpenSSL by the OpenBSD team that applies
        <a href="https://en.wikipedia.org/wiki/LibreSSL#Changes">superior programming practices</a> and <a href="https://opensslrampage.org/">eradicates
        a lot of attack surface</a>. Within LibreSSL's first year, <a href="https://www.openbsd.org/papers/libtls-fsec-2015/mgp00005.html">it mitigated a
        large number of vulnerabilities, including a few high severity ones</a>.
      </li>
    </ul>

    <div><p>
      The best distribution to use as a base for your hardened operating system would be <a href="https://www.gentoo.org/">Gentoo Linux</a> as it allows you to configure
      your system exactly how you want it to be which will be extremely useful, especially when we come to <a href="#hardened-compilation-flags">more secure compilation
      flags</a> later in the guide. </p><p>
      
      However, Gentoo may not be feasible for many people due to its significant usability pitfalls. In this case, <a href="https://voidlinux.org/">Void Linux</a>'s musl
      build is a good compromise.
    </p></div>

    <h2 id="kernel"><a href="#kernel">2. Kernels</a></h2>

    <p>
      The kernel is the core of the operating system and is unfortunately very prone to attacks. As Brad Spengler has once said, <a href="https://grsecurity.net/huawei_hksp_introduces_trivially_exploitable_vulnerability">it can be thought of as the largest,
      most vulnerable setuid root binary on the system</a>. Thus, it is very important for the kernel to be hardened as much as possible.
    </p>

    <h3 id="stable-vs-lts"><a href="#stable-vs-lts">2.1 Stable vs. LTS kernels</a></h3>

    <div><p>
      The Linux kernel is released under two main forms: stable and long-term support (LTS). Stable releases are more recent whereas LTS
      releases are an older stable release that is being supported for a long time. <a href="https://www.grsecurity.net/the_truth_about_linux_4_6">
      There are many consequences to choosing either of the aforementioned releases</a>. </p><p>
      
      The Linux kernel <a href="https://grsecurity.net/reports_of_cves_death_greatly_exaggerated">does not use CVEs to identify security
      vulnerabilities properly</a>. This means that fixes for most security vulnerabilities are not able to be backported to LTS kernels;
      but stable releases contain all security fixes made so far. </p><p>
      
      With those fixes however, a stable kernel includes a lot more new features, therefore vastly increasing the attack surface of the
      kernel and introducing a large amount of new bugs. On the contrary, LTS kernels have less attack surface because these features are
      not being constantly added. </p><p>
      
      Additionally, stable kernels include newer hardening features to mitigate certain exploits which LTS kernels do not. A few examples
      of such features are the <a href="https://mjg59.dreamwidth.org/55105.html">Lockdown LSM</a> and <a href="https://a13xp0p0v.github.io/2018/11/04/stackleak.html">STACKLEAK GCC plugin</a>. </p><p>
      
      To conclude, there is a trade-off when choosing a stable or LTS kernel. LTS kernels have less hardening features and not all public bug fixes
      at that point have been backported, but it generally has less attack surface and potentially a smaller chance of introducing unknown bugs.
      Stable kernels have more hardening features and all known bug fixes are included but it also has more attack surface and greater chances of
      introducing more unknown bugs. In the end though, a more recent LTS branch such as the 4.19 kernel would be preferred due to the much smaller
      attack surface.
    </p></div>

    <h3 id="sysctl"><a href="#sysctl">2.2 Sysctl</a></h3>

    <p>
      Sysctl is a tool that allows the user to configure certain kernel settings and enable various security features or disable dangerous
      features to reduce attack surface. To change settings temporarily you can execute:
    </p>

    <pre><code>sysctl -w $tunable = $value</code></pre>

    <div><p>
      To change sysctls permanently you can add the one you want to change to <code>/etc/sysctl.conf</code> or the corresponding files within
      <code>/etc/sysctl.d</code>, depending on your Linux distribution. </p><p>
      
      The following are the recommended sysctl settings that you should change.
    </p></div>

    <h4 id="sysctl-kernel"><a href="#sysctl-kernel">2.2.1 Kernel self-protection</a></h4>

    <pre><code>kernel.kptr_restrict=2</code></pre>

    <p>
      A kernel pointer points to a specific location in kernel memory. <a href="https://kernsec.org/wiki/index.php/Bug_Classes/Kernel_pointer_leak">
      These can be very useful in exploiting the kernel</a> but kernel pointers are not hidden by default — it is easy to uncover them by, for example,
      reading the contents of <code>/proc/kallsyms</code>. This setting aims to mitigate kernel pointer leaks. Alternatively, you can set
      <code>kernel.kptr_restrict=1</code> to only hide kernel pointers from processes without the <code>CAP_SYSLOG</code> <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.dmesg_restrict=1</code></pre>

    <p>
      <a href="https://en.wikipedia.org/wiki/Dmesg">dmesg</a> is the kernel log. It exposes a large amount of useful kernel debugging information but this
      can often leak sensitive information such as kernel pointers. Changing the above sysctl restricts the kernel log to the <code>CAP_SYSLOG</code>
      <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.printk=3 3 3 3</code></pre>

    <p>
      Despite the value of <code>dmesg_restrict</code>, the kernel log will still be displayed in the console during boot. Malware that is
      able to record the screen during boot may be able to abuse this to gain higher privileges. This option prevents those information
      leaks. This must be used in combination with certain boot parameters <a href="#boot-kernel">described below</a> to be fully effective.
    </p>

    <pre><code>kernel.unprivileged_bpf_disabled=1
net.core.bpf_jit_harden=2</code></pre>

    <p>
      <a href="https://madaidans-insecurities.github.io/linux.html#kernel">eBPF exposes quite large attack surface</a>. As such, it must be restricted. These sysctls restrict eBPF
      to the <code>CAP_BPF</code> <a href="#capabilities">capability</a> (<code>CAP_SYS_ADMIN</code> on kernel versions prior to 5.8) and enable
      JIT hardening techniques such as <a href="https://github.com/torvalds/linux/blob/9e4b0d55d84a66dbfede56890501dc96e696059c/include/linux/filter.h#L1039-L1070">constant blinding</a>.
    </p>

    <pre><code>dev.tty.ldisc_autoload=0</code></pre>

    <p>
      This <a href="https://lkml.org/lkml/2019/4/15/890">restricts loading TTY line disciplines</a> to the <code>CAP_SYS_MODULE</code>
      <a href="#capabilities">capability</a> to prevent unprivileged attackers from loading vulnerable line disciplines with the <code>TIOCSETD</code>
      ioctl which <a href="https://a13xp0p0v.github.io/2017/03/24/CVE-2017-2636.html">has been abused in a number of exploits before</a>.
    </p>

    <pre><code>vm.unprivileged_userfaultfd=0</code></pre>

    <p>
      The <code><a href="https://man7.org/linux/man-pages/man2/userfaultfd.2.html">userfaultfd()</a></code> syscall is <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=cefdca0a86be517bc390fc4541e3674b8e7803b0">often</a> <a href="https://duasynt.com/blog/linux-kernel-heap-spray">abused</a> to exploit use-after-free flaws. Due to this, this sysctl is used to restrict
      this syscall to the <code>CAP_SYS_PTRACE</code> <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.kexec_load_disabled=1</code></pre>

    <p>
      <a href="https://en.wikipedia.org/wiki/Kexec">kexec is a system call that is used to boot another kernel during runtime</a>. This functionality can
      be abused to load a malicious kernel and gain arbitrary code execution in kernel mode so this sysctl disables it.
    </p>

    <pre><code>kernel.sysrq=4</code></pre>

    <p>
      The <a href="https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html">SysRq key</a> exposes a lot of potentially dangerous debugging functionality
      to unprivileged users. Contrary to common assumptions, SysRq is not only an issue for physical attacks as <a href="https://github.com/xairy/unlockdown">
      it can also be triggered remotely</a>. The value of this sysctl makes it so that a user can only use the <a href="https://www.kernel.org/doc/Documentation/SAK.txt">
      secure attention key</a> which will be necessary for <a href="#accessing-root-securely">accessing root securely</a>. Alternatively, you can simply set the
      value to <code>0</code> to disable SysRq completely.
    </p>

    <pre><code>kernel.unprivileged_userns_clone=0</code></pre>

    <div><p>
      User namespaces are a feature in the kernel which aim to improve sandboxing and make it easily accessible for unprivileged users however, <a href="https://madaidans-insecurities.github.io/linux.html#kernel">this feature exposes significant kernel attack surface for privilege escalation</a> so this sysctl restricts the
      usage of user namespaces to the <code>CAP_SYS_ADMIN</code> <a href="#capabilities">capability</a>. For unprivileged sandboxing,
      it is instead recommended to use a setuid binary with little attack surface to minimize the potential for privilege escalation. This topic is
      covered further in the <a href="#application-sandboxing">sandboxing section</a>. </p><p>
      
      Be aware though that this sysctl only exists on certain Linux distributions as it requires a kernel patch. If your kernel does not include
      this patch, you can alternatively disable user namespaces completely (including for root) by setting <code>user.max_user_namespaces=0</code>.
    </p></div>

    <pre><code>kernel.perf_event_paranoid=3</code></pre>

    

    <h4 id="sysctl-network"><a href="#sysctl-network">2.2.2 Network</a></h4>

    <pre><code>net.ipv4.tcp_syncookies=1</code></pre>

    <p>
      This helps protect against <a href="https://en.wikipedia.org/wiki/SYN_flood">SYN flood attacks</a> which are a form of denial of service attack
      in which an attacker sends a large amount of bogus SYN requests in an attempt to consume enough resources to make the system unresponsive to
      legitimate traffic.
    </p>

    <pre><code>net.ipv4.tcp_rfc1337=1</code></pre>

    <p>
      This protects against <a href="https://tools.ietf.org/html/rfc1337">time-wait assassination</a>…</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://madaidans-insecurities.github.io/guides/linux-hardening.html">https://madaidans-insecurities.github.io/guides/linux-hardening.html</a></em></p>]]>
            </description>
            <link>https://madaidans-insecurities.github.io/guides/linux-hardening.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535489</guid>
            <pubDate>Fri, 25 Dec 2020 09:59:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Communication in Development Teams]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25534925">thread link</a>) | @stebunovd
<br/>
December 24, 2020 | https://teamplify.com/blog/improving-communication/ | <a href="https://web.archive.org/web/*/https://teamplify.com/blog/improving-communication/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
  

  <p>
    <span>December 7, 2020</span>
    <span>●</span>
    
  </p>

  <p>
    In software development, communicating productively is as important as
    writing quality code quickly. Maybe even more important - studies show that
    most problems in software projects are in fact communication problems.
  </p>

  
  <h2 id="why-focus-on-communication">
    <a href="#why-focus-on-communication">Why focus on communication?</a>
  </h2>


  <p>
    On the Internet, you can find many articles and studies about
    <a href="https://www.google.com/search?q=why+software+projects+fail" rel="noopener noreferrer" target="_blank">
      why software projects fail
    </a>. They cite different reasons, for example:
  </p>

  <ul>
    <li>Lack of understanding of business needs;</li>
    <li>Vague or poorly communicated requirements;</li>
    <li>Unrealistic timelines or expectations;</li>
    <li>False belief that scope can be defined upfront;</li>
    <li>Inadequate planning;</li>
    <li>Too many or too few people assigned to a project;</li>
    <li>Poor reporting of project status;</li>
    <li>Unmanaged risks;</li>
    <li>... and so on.</li>
  </ul>

  <p>
    If you look closer, you'll notice that these reasons point to one thing in
    common: a disconnect between management and developers. So removing this
    disconnect should yield great returns.
  </p>

  
  <h2 id="does-it-mean-we-should-talk-more">
    <a href="#does-it-mean-we-should-talk-more">Does it mean we should talk more?</a>
  </h2>


  <p>
    What would improve communication between developers and management? This is
    a broad topic, but one idea's obvious: they must communicate frequently
    enough to be on the same page about goals, requirements, priorities, work
    progress, project challenges, and risks.
  </p>

  <p>
    This creates another problem though: to be productive, developers need
    prolonged periods of quiet time. They need to do focused work, without
    distractions. Meetings distract developers from writing code. And waiting
    for the meeting can be even worse. If people know they'll be interrupted
    soon, they'll feel discouraged from starting anything big. Paul Graham
    wrote a great article about this -
    <a href="http://www.paulgraham.com/makersschedule.html" rel="noopener noreferrer" target="_blank">
      Maker's Schedule, Manager's Schedule
    </a>.
  </p>

  <p>
    Ok, so on one hand we need to talk to developers, but on the other we
    shouldn't distract them so much that they can't be productive. Finding this
    delicate balance may be hard, but we can make the job easier by removing
    trivial questions from the discussion. Below I'll give some examples of how
    well organized processes and technology can help us talk less, but do more.
  </p>

  
  <h2 id="stop-asking-whos-working-on-what">
    <a href="#stop-asking-whos-working-on-what">Stop asking who's working on what</a>
  </h2>


  <p>
    One such trivial question is “Who's working on what?” Isn't that what the
    task tracker's for? All task trackers incorporate concepts like Assignee
    and Status. When tasks are accurately assigned with up-to-date statuses,
    you'll have immediate visibility about who's working on what and how long
    they've been working on it. Besides that, you may occasionally need to
    return to old completed tasks. Having an accurate task history helps you
    return easily.
  </p>

  <p>
    Though task tracking sounds simple, in practice it requires a manager's
    effort to keep your task tracker in good shape. People may forget to switch
    task statuses, or assign tasks to themselves. Someone might not have a task
    in progress at all. Someone else might have multiple tasks in progress,
    which once again, doesn't tell us what exactly they're working on.
  </p>

  <p>
    That's why we created these "In progress"
    <a href="https://teamplify.com/notification-types/">notifications</a>
    in Teamplify:
  </p>

  <p>
    <img alt="No issues in progress" src="https://cdn.teamplify.com/blog/img/no-issues-in-progress.png?3470" srcset="https://cdn.teamplify.com/blog/img/no-issues-in-progress@2x.png?3470 2x">
  </p>

  <p>
    Teamplify connects to your task tracker, like Jira or Trello. If it's not
    clear what developers are working on, it will politely ask, in Slack or
    over email, to update their task status. These notifications are smart and
    unobtrusive. They also take all kinds of non-working days into
    consideration, so they won't disturb your teammates on their vacation.
    More on that later.
  </p>

  
  
  <h2 id="make-work-progress-visible">
    <a href="#make-work-progress-visible">Make work progress visible</a>
  </h2>


  <p>
    Today, almost every development team uses at least some version of these
    collaboration tools:
  </p>

  <ul>
    <li>code hosting - for example, GitHub or GitLab;</li>
    <li>task tracker - Jira, Trello, or similar;</li>
    <li>chat - many teams use Slack;</li>
    <li>video conferencing software, such as Zoom.</li>
  </ul>

  <p>
    These tools are usually shared with the whole team, so any team member can
    take a look and learn something about work progress. Unfortunately,
    looking over each tool is not a convenient way to learn what the team has
    been busy on. Because the information is fragmented, not everyone will be
    willing to dig through it. It's much easier to ask about the status in a
    meeting.
  </p>

  <p>
    That's why we created the Team Calendar view, which collects all the work
    activity from your team tools and puts it in one place. It also shows
    national holidays, vacations, sick days, and other
    <a href="https://teamplify.com/member-status/">member statuses</a>:
  </p>

  <p>
    <img alt="Team Calendar" src="https://cdn.teamplify.com/blog/img/team-calendar.png?3470" srcset="https://cdn.teamplify.com/blog/img/team-calendar@2x.png?3470 2x">
  </p>

  <p>
    The calendar displays the most important types of team work activity,
    including code commits, task updates, and communication over video and chat.
    It also automatically detects when someone mentions a task in chat messages
    and code commits. For example, if a task was discussed somewhere in Slack,
    you'll see it, and be able to click directly to that discussion.
  </p>

  <p>
    Better visibility into work progress means better informed managers, with
    less need for meetings and less developer distractions.
  </p>

  
  <h2 id="make-time-off-visible">
    <a href="#make-time-off-visible">Make time-off visible</a>
  </h2>


  <p>
    Time off plays an important role in short-term project planning. Even in
    small organizations, people don't always remember who's going on vacation
    next week. And if your team is distributed, it's quite easy to forget about
    other country's national holidays.
  </p>

  <p>
    When someone's absence is a surprise, it's not good for your project.
    Making time-off clearly visible helps people better plan around it.
  </p>

  <p>
    That's why we added time-off management to Teamplify. National holidays,
    vacations, sick days, and other
    <a href="https://teamplify.com/member-status/">member statuses</a> are visible on the
    <a href="#make-work-progress-visible">Team Calendar</a> mentioned above.
    You can also configure notifications for Slack or email:
  </p>

  <p>
    <img alt="Sick day notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-sick-day.png?3470" srcset="https://cdn.teamplify.com/blog/img/slack-sick-day@2x.png?3470 2x">
  </p>

  <p>
    Even if people miss the notification and mention someone who is absent
    today, Teamplify will politely remind them:
  </p>

  <p>
    <img alt="Time off friendly reminder" src="https://cdn.teamplify.com/blog/img/slack-friendly-reminder.png?3470" srcset="https://cdn.teamplify.com/blog/img/slack-friendly-reminder@2x.png?3470 2x">
  </p>

  <p>
    You can also request a vacation or add another status via the Teamplify
    Slack bot, so you can manage off time without leaving Slack.
  </p>

  
  <h2 id="identify-stuck-progress">
    <a href="#identify-stuck-progress">Identify stuck progress</a>
  </h2>


  <p>
    Even the best and brightest developers get stuck sometimes. There may be an
    unexpected technical problem, or maybe the task turns out to be more
    difficult than previously thought. In such cases, brainstorming with
    colleagues may help find a solution or an alternative path and boost the
    progress significantly.
  </p>

  <p>
    If we haven't seen any code activity from a developer in a while, it
    doesn't necessarily mean that they're stuck, but it might signal a good
    time to check if everything's alright.
  </p>

  <p>
    <img alt="No recent commits notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-no-recent-commits.png?3470" srcset="https://cdn.teamplify.com/blog/img/slack-no-recent-commits@2x.png?3470 2x">
  </p>

  <p>
    Stuck communication is just another form of stuck progress. This could be a
    lengthy discussion without any productive decision. More often, it's just a
    question that's been waiting too long for an answer:
  </p>

  <p>
    <img alt="Pending questions notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-pending-questions.png?3470" srcset="https://cdn.teamplify.com/blog/img/slack-pending-questions@2x.png?3470 2x">
  </p>

  <p>
    If a bot can politely remind your correspondent about your pending
    question, it means you don't have to. Besides that, bot notifications are
    sometimes better perceived. If a person reminds you every day about pending
    questions, it might be annoying. But if a bot does the same - it's probably
    okay, because, you know, it's just a bot.
  </p>

  
  <h2 id="bottom-line">
    <a href="#bottom-line">Bottom line</a>
  </h2>


  <p>
    When communication improvements add up, the result is a more productive
    work environment, where people are better informed and spend less time on
    discussing trivial questions. We have a lot of complex problems to solve,
    let's focus on them instead.
  </p>

    </div>
  </div></div>]]>
            </description>
            <link>https://teamplify.com/blog/improving-communication/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534925</guid>
            <pubDate>Fri, 25 Dec 2020 07:32:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Impact of Apple Silicon Macs on Broadway]]>
            </title>
            <description>
<![CDATA[
Score 75 | Comments 68 (<a href="https://news.ycombinator.com/item?id=25534863">thread link</a>) | @da02
<br/>
December 24, 2020 | https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/ | <a href="https://web.archive.org/web/*/https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container"><main><article role="article"><div><p>In a previous life, I was an electronic music designer working on Broadway shows in New York City. Broadway shows look glamorous and expensive on the outside, but it’s often quite the opposite on the inside –&nbsp;at least for the music department. One of the toughest parts of my job as an electronic music designer was to find the best performance-to-cost ratio for computer rigs powering keyboards, guitars, playback tracks, and more.</p><p>Over the past decade, Broadway has replaced large sections of traditional orchestras with synthesizers, playback systems, and electronic drum pads. I’m not in support of that, but that’s a story for another day. The point here is that Broadway’s reliance on computer-driven rigs has increased, while the typical budget required to build high-end stable rigs hasn’t increased at the same rate.</p><p>Some shows I’ve worked at set aside a $10,000-$12,000 budget for two keyboard rigs. That sounds like a lot of money at first, but it’s not. For live shows, it’s usually best to have a 1:1 backup in case the main rig fails. That fact alone means you have to design a rig that fits within 50% of the proposed budget. Furthermore, a high-quality keyboard controller alone is $1,500-2,000 –&nbsp;so that means there’s $3,000 left for a computer and everything else.</p><p>Due to budget constraints, many shows end up using Mac minis. Historically speaking, the Mac mini’s computing power has been a bottleneck for electronic music designers on Broadway. In a perfect world, we’d all like to use the best-sounding sample libraries for our work, but that was never feasible with the Mac mini. Thus, the compromise was always to reduce sound quality to fit within the Mac mini’s compute constraints.</p><p>Apple Silicon changes everything for Broadway electronic music designers. The new M1 Mac mini is capable of running high-end sample libraries and virtual instruments in a stable manner, and it’s only going to get better with M2, M3, and M4-series chips in the future. The performance per dollar characteristics of Apple Silicon machines are going to have a huge impact on Broadway’s sound, and I’m very excited to see, or hear, what happens.</p></div></article></main></div></div>]]>
            </description>
            <link>https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534863</guid>
            <pubDate>Fri, 25 Dec 2020 07:14:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The aftermath of “No, 'Open Source' does not mean 'Includes Free Support'”]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25534492">thread link</a>) | @EMIRELADERO
<br/>
December 24, 2020 | https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
      Got some hilarious reactions. Gotta share.
    </p><div>

<p>Well, <a href="https://raccoon.onyxbits.de/blog/bugreport-free-support">my last post hit it big</a>. Poor blog had a couple social media death hugs on that day. Gosh, people were fuming about me (supposedly) stating that I would not accept their hand-laced, gold-edged, rose scented bug reports without prior payment. How dare I?! Well, I simply do. </p><figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/problem.png">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/problem.png">
  </a>
  
</figure>
                             
                             

<p>The statement was actually that I ignore support requests from non-customers, <strong>especially</strong> when they come <u>disguised</u> as bugreports in order to avoid my fee. I don’t deliberately delete bug reports from my inbox, I simply risk loosing genuine ones because they are drowned out.</p>

<p>But hey, social media. Fast paced universe. Gotta comment while it’s hot, no time to (properly) read the original article. Some people hold some hilarious opinions, though!</p>

<h2 id="what-people-wrote">What people wrote</h2>

<blockquote>
<p>Bugs must be fixed!</p>
</blockquote>

<p>No, they don’t. Have you read the license agreement? Search for the phrase “AS IS”. Every <a href="https://opensource.org/licenses">OSI approved license</a> contains it (usually in caps). It means, I am under no obligation to provide any further work and you are not entitled to it.</p>

<p>Of course, there’s a simple way to make me owe you a service (and I’m even offering it): put money in my bank account.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>The bug was your fault in the first place!</p>
</blockquote>

<p>So? Oh wait. Is this going to be one of those conspiracy theories where I deliberately put bugs into my code in order to make you pay for removing them? Nice idea, but…</p>

<ul>
<li>That plan does not scale. There are only so many bugs I could plant.</li>
<li>Fixing bugs is the most time consuming form of support. I’m making a loss on that (in particular when considering the time required to design a good bug that some<u>one</u> might pay for getting removed).</li>
<li>I gave you the source, that takes the leverage out of my hands.</li>
</ul>

<p>The choice to use my software was yours. The disclaimer that it might not work is in the license agreement. I did not put myself in the position of being your only option to solve the issue.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>My bug reports are a work of art, you prick! I spent MY TIME on helping YOU to improve YOUR software!</p>
</blockquote>

<p>Your bug doesn’t bother me. If it did, I’d have fixed it myself. When submitting a bug report, you are not working for me, you are working for yourself and the user community. The same way I was, when making the original software available free of charge (whether or not you want to do it is entirely your choice, I’m not asking you to). Does your bug report include a patch? If yes, then the problem’s solved for you, if not, then you are expecting me to come up with a fix. That’s a work order, here’s my bill.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Ignoring bug reports is stupid!</p>
</blockquote>

<p>Why? If I look at the mail, I’ll be tempted to act on it, giving someone a free ride. That’s unfair to those who paid for it.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>But I’ll have to pay and get no guarantee that my bug will be fixed.</p>
</blockquote>

<p>No, but you are guaranteed, that I will be listening to you and give you a definitive answer in a timely manner. That’s something you don’t get from public bugtrackers. See the problem here? You base your risk assessment on your experience with developers you don’t pay and who therefore have no incentive to help you. When I take your money, you are a customer.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Every other open source project accepts free bug reports</p>
</blockquote>

<p>I don’t care.</p>

<ul>
<li>If some other developer wants to self exploit and thinks his time is only worth cheers, that’s their choice.</li>
<li>If the project(s) you are talking about are mission critical (and are otherwise funded), then yes, running a community support forum is a sensible choice.</li>
</ul>

<p>Whatever the reason, I don’t tend to jump off bridges, just because someone else does it.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You hypocrite! You advertise your software as a solution to MY problem on your website</p>
</blockquote>

<p>Part of letting you use my solution is letting you know what problem I solve (by the way, that’s a service, saving you from reading the code in order to figure out what it does - you’re welcome). The conclusion that we both have the same problem was yours to draw. And yes, my software has long since grown beyond my own needs. But guess what, that still doesn’t compel me to work for you for free.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You can avoid hosting costs by publishing on platform X</p>
</blockquote>

<p>Hey, remember SourceForge? Used to be <strong>the</strong> hosting platform for open source projects. Got sold. New owners added shady <a href="https://en.wikipedia.org/wiki/SourceForge#Controversies">monetization practices</a>. Developers had a choice: leave and lose your backlinks or stay and have your reputation tarnished.</p>

<p>Hey, remember Github? Used to be <strong>the</strong> hosting platform for open source projects. Got sold. New owner is Microsoft! The queen of vendor lock-in and shady monetization practices. Developers had a choice: leave and lose your backlinks or stay and see what Microsoft will pull out of their hat in the coming years.</p>

<p>Hey, do you know Gitlab? It is <strong>the</strong> hosting platform for open source projects! <small>Until it will get sold!</small>
</p>

<p>Do you <a href="https://raccoon.onyxbits.de/blog/why-not-use-github/">see the pattern here</a>?</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You made yourself the sole address for support. At least provide a community support forum!</p>
</blockquote>

<p>Outsource self-exploitation while eating up the infrastructure cost? Sounds like a plan. <strong>NOT!</strong> Get your ass out of your echo chamber. The idea of community support is one of the big criticisms <strong>against</strong> open source. When people have a problem, they want someone to talk to and they want their problem fixed in a timely manner. They don’t want to sign up for forum accounts and they don’t want to monitor them for weeks in the hopes that some community member might eventually come up with an answer.</p>

<p>When it comes to my software, I’m the most competent person to talk to. So whether I like to or not, people will (try to) contact me. As a developer, that puts a choice on your table:</p>

<ul>
<li>Stop your spare time being eaten up with tech support by pulling the software.</li>
<li>Start accepting payment and realize that you are now running a business that creates additional overhead cost.</li>
</ul>

<p>Yes, I made myself the sole address for support. That is the only logical conclusion. If I’m running a business, why should I let it be cannibalized by running a public support forum / bug tracker? That’s just adding infrastructure cost to choke profit.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Offering free support helps your project to grow!</p>
</blockquote>

<p>Math wiz ey? Ever tried applying a scaling factor to a project where the expenses exceed the revenue?</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You should have a donation button instead!</p>
</blockquote>

<p>Great idea! How often do you click those?</p>

<p>Seriously, I’m not a registered charity and only those may accept donations. For everyone else it’s just mislabelled, but still taxable income. The moment you put up a “donation” button, you are running a business, which automatically generates overhead costs. Getting five bucks once every blue moon with the implication of having to kiss the generous donor’s feet is simply not sustainable.</p>

<p>I’m not running a charity and I don’t want your “support”. I want, same as you, being paid for the work I do. I find it utterly dishonest to put my work under an open source license, then spend a ridiculous amount of extra work on guilt tripping my users in order to collect alms.</p>

<p>If the license says, “the software is free to use”, then that’s the deal. You get exactly that. Nothing more, nothing less. Everything else is extra and billable.</p>
</div></div>]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534492</guid>
            <pubDate>Fri, 25 Dec 2020 05:41:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Curl Year 2020]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25534338">thread link</a>) | @pabs3
<br/>
December 24, 2020 | https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
		
	
	<!-- #masthead -->

	<div id="main">

	<div id="primary">
		<div id="content" role="main">
			
<article id="post-15375">
	
		<p><img width="672" height="372" src="https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-672x372.jpg" alt="" loading="lazy" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-672x372.jpg 672w, https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-1038x576.jpg 1038w" sizes="(max-width: 672px) 100vw, 672px">		</p>

		
	<!-- .entry-header -->

		<div>
		
<p>As we’re approaching the end of the year, I just want to sum up the curl year with a few words.</p>



<p>2020 has been another glorious year in the curl project. We’ve seen a series of accomplishments and introductions of new things during this the year of the plague.</p>



<h2>Accomplishments</h2>



<p>I personally have done more commits in the git repository since any year after 2004 (890 so far).</p>



<p>The total number of commits done in git is the largest since 2014 (1445 plus some).</p>



<p>The number of published curl related CVEs is the lowest since 2013 (6). For the ones we announced, we could reward record amounts in our bug bounty program!</p>



<p>139 authors wrote commits that were merged (so far).</p>



<p>We did nine curl releases, out of which two unfortunately were quicker “panic releases” that patched up problems in the previous release.</p>



<h2>Seven changes to remember</h2>



<p>We’ve logged no less than <strong>905 bug-fixes</strong> and <strong>30 changes</strong> in the releases of this year, but the seven perhaps most memorable things we’ve introduced in 2020 are…</p>



<ul><li><a href="https://daniel.haxx.se/blog/2019/07/22/curl-goez-parallel/" data-type="post" data-id="12568">Parallel transfers</a> with curl</li><li><a href="https://daniel.haxx.se/blog/2020/04/14/curl-mqtt-true/" data-type="post" data-id="13836">MQTT</a>://</li><li><a href="https://daniel.haxx.se/blog/2020/11/03/hsts-your-curl/" data-type="post" data-id="11415">HSTS</a></li><li><a href="https://daniel.haxx.se/blog/2020/09/04/curl-help-remodeled/" data-type="post" data-id="14601"><code>--help</code> refined</a></li><li><a href="https://daniel.haxx.se/blog/2020/08/19/curl-7-72-0-more-compression/" data-type="post" data-id="14463">Zstd</a></li><li><a href="https://daniel.haxx.se/blog/2020/03/17/curl-write-out-json/" data-type="post" data-id="13740">JSON output</a> in -w</li><li><a href="https://daniel.haxx.se/blog/2020/01/12/curl-even-more-wolfed/" data-type="post" data-id="13130">wolfSSH backend</a></li></ul>



<h2>Videos</h2>



<p>This year I’ve introduced the concept of doing a “release presentation” for every release. Those are videos where I go through and discuss the changes, the security releases and some interesting bug-fixes. Each release links to those from <a href="https://curl.se/changes.html">the changelog page</a> on the website.</p>



<h2>New home</h2>



<p>This is the year when we finally got ourselves a curl domain. <a href="https://daniel.haxx.se/blog/2020/11/04/the-journey-to-a-curl-domain/" data-type="post" data-id="14930">curl.se is our new home</a>.</p>



<h2>What didn’t happen</h2>



<p>We cancelled curl up 2020 due to Covid-19. It was planned to happen in Berlin. We did it purely online instead. We’re not planning any new physical curl up for 2021 either. Let’s just wait and see what happens with the pandemic next year and hope that we might be able to go back and have a physical meetup in 2022…</p>



<h2>It is a curl world</h2>



<figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2020/12/slide-a-curl-world-2020.jpg"><img loading="lazy" width="2000" height="1125" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/12/slide-a-curl-world-2020.jpg" alt=""></a></figure>




	</div><!-- .entry-content -->
	
	</article><!-- #post-15375 -->
		<nav role="navigation">
		
		<!-- .nav-links -->
		</nav><!-- .navigation -->
		
<!-- #comments -->
		</div><!-- #content -->
	</div><!-- #primary -->

<!-- #content-sidebar -->
<div id="secondary">
		<h2>tech, open source and networking</h2>
	
	
		<!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div><!-- #main -->

		<!-- #colophon -->
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534338</guid>
            <pubDate>Fri, 25 Dec 2020 05:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Programming Languages as Objects in Nature]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25533846">thread link</a>) | @alokrai
<br/>
December 24, 2020 | https://parentheticallyspeaking.org/articles/pls-nature/ | <a href="https://web.archive.org/web/*/https://parentheticallyspeaking.org/articles/pls-nature/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>In the early 1990s, the programming languages research community was in an
optimistic mood. In the recent past, two of its paradigmatic languages—<wbr>Scheme
and ML—<wbr>had formalized their semantics. For ML, it took the form of a whole
book by Milner, et al. Scheme provided a denotational semantics in its
standard. Surely, it seemed, it was only a matter of time before all languages
went in this direction.</p><p>What went wrong?</p><blockquote><p>If you’re a working programmer without a theoretical background, you might
wonder why a formal semantics matters at all. It’s actually for reasons you can
understand easily. When you write programs against code that someone else
wrote, you like having an interface, or <span>API</span>, to program against. It mediates
your conversation with the remote code, and anchors conversations about whom to
blame if something doesn’t work as expected.</p><p>The formal semantics of a language does exactly the same thing. The language
itself is the “remote code” you’re programming against. What it does should
be pinned down as precisely as possible—<wbr>but also as understandably as
possible!—<wbr>for you to work with.</p><p>The semantics isn’t just an interface for the user of a language. It’s also a
crucial interface for tool authors, who must (also) otherwise guess at the
behavior of the language. If you want an example of how even the relatively
simple act of a variable rename refactoring can go wrong, see Appendix 2 of
our <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/pmmwplck-python-full-monty/">Python semantics</a>. A semantics
doesn’t guarantee those kinds of errors won’t occur, but its absence makes them
far more likely to.</p></blockquote><p>For many researchers, it’s a given that programming languages are
<span>mathematical</span> objects. This is a natural and attractive view. Languages
are formal objects, after all; they are therefore amenable to codification by
everything from logic to topology and more. (Formal) Specification is a natural
consequence of this worldview.</p><p>The world, however, is full of programming languages that do not fit this
model.<span><span><span>Some may even have been created by programming language
semanticists, which is worth pondering.</span></span></span> Created by the ostensibly unwashed,
they rudely announce their arrival with nothing more than an
implementation. People pick them up, find them useful, do worthwhile things
with them, and a million lines later, the next big “scripting language” is
born. Let’s call these <span>informal</span> languages.</p><p>Informal languages are, of course, also amenable to formal specification. However,
a crucial difference governs these two types of languages. Suppose we observe a
difference between what the specification says and what the implementation
does. In the case of Standard ML, for instance, one can approach the
implementor, walk through the reasoning in the specification, and explain why
the implementation is wrong. If the implementor agrees with your reasoning, no
matter how unhappy this makes them, they must admit to and eventually fix their
implementation.</p><p>The implementor of an informal language faces no such constraint. Faced with a
mismatch between an ostensible specification and their implementation, they are
free to simply laugh, question the specification’s parentage, and exit stage
right. The specification can <span>at best</span> track what “the language is
doing”, not really dictate its behavior.</p><p>Specification still serves a role. It can:
</p><div><ul><li><p>Shed light on what is happening inside a large and otherwise opaque
implementation.</p></li><li><p>Point out complex designs that would warrant being simplified.</p></li><li><p>Highlight design aspects that are prone to cause programmer error,
security violations, and so on.</p></li><li><p>Serve all the other uses of a specification, such as serving as a basis
for building tools.</p></li></ul></div><p>To do all these things <span>usefully</span>, however, the specification must take
significant steps to show its conformance to the reality of the informal
language, such as by running the same test suites as the implementations.</p><p>An informal language, then, is much more like an object found in nature:</p><p><img src="https://parentheticallyspeaking.org/articles/pls-nature/rock.jpg" alt="A rock."></p><p>We can push at it, poke it, and prod it, and hope that it will yield its
secrets. But we can never be certain—<wbr>without the help of the
implementors—<wbr>that we have properly characterized all of it.</p><p>That doesn’t mean we can’t approach the problem systematically. Geologists,
confronted with a rock, don’t flail helplessly. In high-school chemistry, I was
taught to approach unknown substances with the <span>SCODS</span> test: check for its
state, color, odor, density, and solubility.<span><span><span>They never included a letter
for “taste”, a reflection perhaps more of their aspiration than of the
reality in a high school chemistry lab.</span></span></span> That is, we identify some of
dimensions of classification, and proceed along the principal axes.</p><p>We have these axes for programming languages, too. We can talk about their
scope rules, their evaluation semantics, their type system, and so on. Indeed,
because so much of a programmer’s career will be spent confronting informal
languages and having to rapidly make sense out of them, I’ve long felt that how
we <span>teach</span> programming languages should
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/sk-teach-pl-post-linnaean/">also be divided along these
dimensions</a>.</p><p>The problem of informal languages will not go away, so long as a dedicated
amateur can scare up a new language’s implementation. Indeed, the size of our
informal language space grows ever-bigger, and vastly so, than that of
mathematical languages. In 2015, I made this slide:</p><p><img src="https://parentheticallyspeaking.org/articles/pls-nature/stack.png" alt="Our programming stack." width="560" height="420"></p><p>It shows the stack atop which a typical client-side Web program of the day
resided. What it actually shows is something much more subtle and important:</p><p><span>Programmers do not program in “languages”.</span></p><p>Rather, they program in some complex combination of languages, libraries,
frameworks (which can impose their own operational behavior—<wbr>e.g., seemingly
turn a call-by-value language into a reactive one), and more. What a programmer
needs is a semantics not just for the language sitting near the bottom, but
rather for the mountain on top of which their program resides.</p><p>For illustrative examples of what such semantics might look like, see our work
on the <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/lckqk-model-reason-dom-events/">operational semantics of
the <span>DOM</span></a> (it’s a giant control operator, y’all!), and
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/lelk-types-jquery-programs/">the type structure of jQuery</a>. But
these are just a tiny sliver of a tiny sliver. How do we make real progress up
the mountain and keep our position there as it keeps thrusting further out of
the ground?</p><p>We can’t expect the date-picker library’s author to also be a semanticist. But
we shouldn’t therefore resignedly conclude that we can never get there. Rather,
we should acknowledge that there are useful divisions of labor. Instead of
scolding informal language designers for their practices, semanticists need to
find methods to bridge that gap, keeping in mind:</p><blockquote><p><span>One can’t proceed from the informal to the formal by formal means.Alan Perlis</span></p></blockquote><p>Whatever we propose needs to be:
</p><div><ul><li><p>Reasonable (in terms of skill) for the implementor to produce.</p></li><li><p>Useful for them to produce.</p></li><li><p>Useful for us to consume and work with.</p></li></ul></div><p>One especially good intermediate proxy is a test suite of some sort. Tests
don’t always get the respect they deserve, but they too are a form of
specification. I like to call them “specifications from below”, precisely
defining what should happen in individual cases, whereas the typical formal
specification is “specification from above”, defining what happens across a
family of cases. Ultimately, of course, we need specifications “from above”,
but it’s worth noting that specifications “from below” are both useful to
developers and something they are skilled at producing. The recent trend in
languages of producing “confirmance suites” or “litmus tests” is especially
promising in this regard. (Our work on formalizing the
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/pclpk-s5-semantics/">strict mode of of ECMAScript 5.1</a>,
for instance, made use of the ECMAScript conformance suite.)</p><p>How we use them remains a little bit of an open question. The most obvious use
is to test our semantics: what <a href="https://ccs.neu.edu/~arjunguha/main/home/">Arjun Guha</a> and I, to perhaps the horror
of some, called a <span>tested semantics</span>. But we might also be able to
generalize these tests, from “below” to “above”, i.e., it’s a synthesis
problem. This requires some structure to produce a semantics that is also
meaningful. Our paper on <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/kle-next-700-semantics//">The Next 700
Semantics</a> describes some of the contours for this line of work to consider.</p></div></div></div>]]>
            </description>
            <link>https://parentheticallyspeaking.org/articles/pls-nature/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25533846</guid>
            <pubDate>Fri, 25 Dec 2020 03:06:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Traveler’s Notebook: The Last Notebook You’ll Ever Need]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25533181">thread link</a>) | @thomas
<br/>
December 24, 2020 | https://unsharpen.com/travelers-notebook/ | <a href="https://web.archive.org/web/*/https://unsharpen.com/travelers-notebook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><small>Unsharpen may earn a commission when you buy through links on our site.</small></p><div>

                                
                                <p>Even a few minutes of research into the best journals and notebooks will yield a recommendation for the Traveler’s Notebook. The universal love of this notebook system makes it clear that this is one of the most unique stationery products sold today as well as being one of the one’s people are simply obsessed with.</p>
<p>So, what’s the deal with the Traveler’s Notebook?</p>

<p><iframe src="https://www.youtube.com/embed/SMxJPZN5hqE" allowfullscreen="allowfullscreen"></iframe></p>

<h2><span id="Travelers_Notebook_Background">Traveler’s Notebook Background</span></h2>
<p>The Traveler’s Notebook is made by the Traveler’s Company. This company is based in the&nbsp;Nakameguro section of Tokyo, Japan but the notebooks are sold all over the place, from an official company store at the Narita Airport (also in Tokyo) to paper stores all over the world. The notebooks and accessories are also sold many places online, including <a href="https://amzn.to/3gVgJAB" target="_blank" rel="nofollow noopener noreferrer">Amazon</a>, and nearly ever premium stationery retailer.</p>
<p>The notebook might seem like something that has been made for dozens of years — a wonderful throwback to the pre-computer era — but that’s not the case. The standard Traveler’s notebook has been sold since 2006 and the smaller passport size first went on sale in 2010. The company that makes the Traveler’s notebook was original called Midori, but the name was changed to the “Traveler’s Company” in 2015.</p>
<p>The parent company of the Traveler’s Company as well as Midori Paper is Designphil Inc., which has been in existence since 1950 when it was formed under the name Midori Shokai Co., Ltd.</p>
<p>While officially known as the “Traveler’s Notebook” most people refer to the notebook as the “Travelers notebook,” dropping the possessive which seems unnecessary and counter-intuitive.</p>
<h2><span id="Travelers_Notebook_Basics">Traveler’s Notebook Basics</span></h2>
<p>The Traveler’s Notebook is a notebook system, which is to say that there is no canonical “Traveler’s Notebook” but rather endless variations on the company’s notebook system. The basic components are a leather cover, notebook inserts, and then a range of accessories that include rubber bands, pockets, stickers and so forth.</p>
<p>The notebooks are prized for their ability to be refilled, their excellent accessories, and their ability to be incredibly customized so no two Traveler’s notebooks are alike.</p>
<h3><span id="Travelers_Notebook_Inserts">Traveler’s Notebook Inserts</span></h3>
<p>Each notebook is composed of a leather cover and then inserts. These insert components include:</p>
<ul><li>Covers</li>
<li>Refills</li>
<li>Storage</li>
<li>Accessories</li>
</ul><p>We’ll dig into each type in a bit.</p>
<h3><span id="Travelers_Notebook_Sizes">Traveler’s Notebook Sizes</span></h3>
<p>The notebooks are sold in two sizes: Regular and Passport. It’s critical to know what cover you have so that you buy the right inserts to fit it. The two sizes are different and are not cross compatible.</p>
<p>The only real difference between the two sizes are their dimensions. They are as follows:</p>
<ul><li><strong>Regular</strong>: 12.0 x 22.0 x 1.0 cm (W x H x D)</li>
<li><strong>Passport</strong>: 9.8 x 13.4 x 1.0 cm (W x H x D)</li>
</ul><p>The paper that each notebook uses is different as well. Traveler’s notebook paper has the following dimensions:</p>
<ul><li><strong>Regular</strong>: 11.0 x 21.0 x 0.4 cm (W x H x D)&nbsp;and 64 pages</li>
<li><strong>Passport</strong>:&nbsp;8.9 x 12.4 x&nbsp;0.4 cm (W x H x D)&nbsp;and 64 pages</li>
</ul><p>The notebooks do not adhere to <a href="https://unsharpen.com/paper-sizes/">standard paper sizes</a>. The closest standard sizes would be B6 for the Regular and B7 for Passport.</p>
<h2><span id="Travelers_Notebook_Covers">Traveler’s Notebook Covers</span></h2>
<p>The outside of a Traveler’s notebook is a single layer leather cover that is smooth on the outside and suede on the inside. It’s sold in black, brown, dark blue, and a reddish brown, known as “Camel.” The covers are made of a fine leather and they age wonderful, even if you are not particularly careful with them.</p>
<p>The covers lie nearly flat when open and have no branding on them. The main features on the cover are an elastic band that hold it shut and one that holds the inserts in place.</p>
<p>Each leather cover ships in a linen bag that protects it when en route to its own. The cover is prized by buyers but doesn’t have a purpose outside of presentation.</p>
<p>The leather covers are made in Thailand while all the paper is made in Japan.</p>
<h2><span id="Travelers_Notebook_Refills">Traveler’s Notebook Refills</span></h2>
<p>The refills are the beating heart of the notebook — they are the paper that goes inside. The refills come in Regular and Passport size, just like the covers and use excellent quality Midori paper, which is a major selling point, especially for fountain pen users. The paper does come in a number of varieties.</p>
<p>For the Regular size notebooks these include:</p>
<ul><li><strong>Regular Paper, White</strong>: Blank, Lined, Dot Grid</li>
<li><strong>Regular Paper, Cream</strong>: Blank</li>
<li><strong>Special Paper:</strong> Lightweight (Tomoe River), Sketch, Craft, Watercolor</li>
<li><strong>Planners:</strong> Daily, Weekly, Weekly Vertical, Monthly</li>
</ul><p>For Passport the selection is a bit more limited:</p>
<ul><li><strong>Regular Paper, White</strong>: Blank, Lined, Dot Grid</li>
<li><strong>Regular Paper, Cream</strong>: Blank</li>
<li><strong>Special Paper:</strong>&nbsp;Watercolor</li>
<li><strong>Planners:</strong>&nbsp;Weekly, Weekly Mid-Year Start, Monthly</li>
</ul><p>While the notebooks are not a standard size, competing companies do make compatible notebooks. Some of the top options for these non-Traveler’s refills are Yamamoto with their Ro-Biki refills and Raymay’a A5 Slim refills.</p>
<h2><span id="Travelers_Notebook_Storage_Options">Traveler’s Notebook Storage Options</span></h2>
<p>Traveler’s notebooks are small but mighty, partly because they have options for holding more than just your ideas.</p>
<p>The <a href="https://amzn.to/2OdwuGH" target="_blank" rel="nofollow noopener noreferrer">Card File</a> is a bit outdated in the era of the iPhone, but it’s use for storing business cards. There is also a Craft Paper Card File that will store more cards than the standard model, or can be used for assorted scraps of paper, stickers, and so forth.</p>
<p>Double-sided stickers are sold to insert photographs, cut out articles, and other mementos. The <a href="https://amzn.to/3iR9knv" target="_blank" rel="nofollow noopener noreferrer">Film Pocket Sticker</a> is quite similar, but it’s actually a light plastic sticker that adheres to your notebook or inside a refill and then you can place a photo or piece of paper inside without damaging it. Traveler’s Pocket Stickers are similar but are angled at the top and fully open, so they can used for storing taller items. The Large Pocket Sticker can hole a full photograph or index card on its side.</p>
<p>The most robust storage options are the <a href="https://amzn.to/2W8Dau7" target="_blank" rel="nofollow noopener noreferrer">Zipper Case</a> and Three-fold File, which can handle larger items and much more of then. The Three-fold File for the standard notebook can even hold a full-sized piece of A4 paper that has been triple-folded (like a you would do to a letter). The Zipper Case can hold ink cartridges, a small pencil sharpener, paper clips, refills or other similar items that won’t fit in a pocket.</p>
<h2><span id="Travelers_Notebook_Accessories">Traveler’s Notebook Accessories</span></h2>
<p>Traveler’s Company loves their accessories… and so do Traveler’s notebook enthusiasts. Some of the accessories include:</p>
<ul><li>Pen holder</li>
<li>Additional elastic bands (known as Connecting Bands)</li>
<li>Plastic Sheet Underlay</li>
<li>Repair Kit (replacement elastic bands)</li>
<li>Refill Binder (for storing refills that are full and no longer needed in your notebook)</li>
<li>Brass charm (for accessorizing the notebook)</li>
<li>Traveler’s Company stickers</li>
</ul><h2><span id="Travelers_Notebook_Alternatives">Traveler’s Notebook Alternatives</span></h2>
<p>The Traveler’s notebook might be a distinct thing made by a specific brand, but many other brands have recognized its success and sell similar products. After all, it’s not like the Traveler’s Company was the first to invent a leather notebook cover or to put excellent paper and handy pockets inside of a notebook, journal, folder, or folio!</p>
<p>The main choice with an alternative will be if you want a leather-covered notebook or just a customizable notebook system. Both of these are reasonable ways to define the Traveler’s system, so shop according to your desires for a leather cover, a modular notebook system, or both.</p>
<p>Some of our favorite options for alternatives are:</p>
<ul><li><strong><a href="https://amzn.to/2ATOyma" target="_blank" rel="nofollow noopener noreferrer">Kokuyo Jibun Techo 2020 3 in 1 Set</a></strong></li>
<li>Kokuyo Systemic cover and notebooks</li>
<li>Chic Sparrow Notebook system</li>
<li>Field Notes Everyday Inspiration Leather Cover and memo pads</li>
<li>Bellroy leather notebook cover and notebook inserts</li>
</ul><h2><span id="FAQs">FAQs</span></h2>
<h3><span id="Is_there_an_A5_sized_Travelers_Notebook">Is there an A5 sized Traveler’s Notebook?</span></h3>
<p>No, an official Traveler’s notebook in A5 does not exist. Chic Sparrow does sell a similar refillable, leather-covered notebook in A5 as do other, <a href="https://amzn.to/325etCx" target="_blank" rel="nofollow noopener noreferrer">lesser known brands</a>, but Traveler’s does not.</p>
<h3><span id="How_do_I_care_for_a_Travelers_Notebook_leather_cover">How do I care for a Traveler’s Notebook leather cover?</span></h3>
<p>The leather cover on a Traveler’s notebook is made to wear in and weather over time. It uses a natural dye that is beautiful but not as tough as some other leather products. The leather should never be washed or cleaned except in the case of a spill where it can be blotted with a damp cloth.</p>
<h3><span id="What_do_I_do_if_the_Travelers_notebook_cover_gets_wet">What do I do if the Traveler’s notebook cover gets wet?</span></h3>
<p>If the leather cover gets wet, you should pat it dry, not rub it, so as to not pull out any of the natural dye. Unnecessary rubbing or friction can pull dye from the leather when it’s wet, so this should be minimized. When as much of the moisture is removed as possible the notebook should be emptied and left to dry in the shade, not out in the sun.</p>
<h3><span id="What_to_do_if_notebooks_cover_has_a_stain_or_blemish">What to do if notebook’s cover has a stain or blemish?</span></h3>
<p>The Traveler’s notebook’s cover was lightly treated exactly so that the cover could wear in. Try to ignore the blemish and continue to use the notebook. Over time it will wear and developer a patina and personality and the blemish will be unnoticeable (or at least well hidden). Unsightly stains and oil spots can be treated carefully with any leather cleaner or leather care cream, though try a small patch first to make sure the natural dye is not affected.</p>

                            </div></div>]]>
            </description>
            <link>https://unsharpen.com/travelers-notebook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25533181</guid>
            <pubDate>Fri, 25 Dec 2020 00:56:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Just start a dang blog already]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25532886">thread link</a>) | @mcrittenden
<br/>
December 24, 2020 | https://critter.blog/2020/12/24/just-start-a-dang-blog-already/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/12/24/just-start-a-dang-blog-already/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-4646">

	
<!-- .entry-header -->

	<div>

		<div>

			
<p>I’m talking to you, Mr. or Mrs. Person who keeps saying “I should really start a blog.” Or maybe it’s more like “I should really post to my poor, lonely blog.”</p>



<p>Yes, you should. <a href="https://critter.blog/2020/10/02/write-5x-more-but-write-5x-less/">I already wrote my manifesto on why</a>, so I won’t repeat it here. But you should. So either <a href="https://critter.blog/2020/11/24/intense-intervention-or-acceptance-pick-one/">do it or stop talking about it</a>.</p>



<p>Stop waiting for motivation, and <a href="https://critter.blog/2020/11/18/discipline-eats-motivation-for-breakfast/">use some discipline</a>. Make writing a part of your daily routine.</p>



<p>For me, when I sit down at my desk in the morning I <a href="https://critter.blog/2020/12/18/100-daily-blog-posts/">write a quick blog post</a>. It’s how I ramp up for the day. Maybe that works for you too, and maybe not. But either way, work it into your routine somewhere or it won’t become a habit.</p>



<p>Do it, right now. Schedule it on <a href="https://critter.blog/2020/08/03/your-calendar-should-be-an-allowlist-not-a-blocklist/">your calendar</a>. Make a plan. Tell yourself it’s <a href="https://critter.blog/2020/09/21/experimenting-on-myself/">just an experiment</a>, so it’s <a href="https://critter.blog/2020/10/26/you-cant-fail-at-experiments/">not scary</a> or permanent.</p>



<p>Maybe you’ll be glad you did. <a href="https://critter.blog/2020/09/28/2-months-of-daily-blogging/">I know I am</a>!</p>





		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://critter.blog/2020/12/24/just-start-a-dang-blog-already/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25532886</guid>
            <pubDate>Fri, 25 Dec 2020 00:09:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Creating a MIDI pass-through recorder]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25532601">thread link</a>) | @TheRealPomax
<br/>
December 24, 2020 | https://pomax.github.io/arduino-midi-recorder/ | <a href="https://web.archive.org/web/*/https://pomax.github.io/arduino-midi-recorder/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      

      

<p>If you’ve ever used audio software on the computer, you probably know that MIDI exists: a signalling protocol that allows controllers to control virtual instruments like synths. It’s also the protocol used by real audio hardware to talk to each, and you can think of it as the language in which, rathar than communicating a fluctuating voltage signal or series of discrete sample values, devices talk about what is being done on them (“A4 got pressed”, “F4 got released”,  “the mod wheel moved down”, etc).</p>

<p>As such, there are two ways to record digital instruments (real or virtual): you can record the sound they’re making, or you can record the MIDI events that cause them to make those sounds, and that’s where things get interesting.</p>

<p>There are many, <em>many</em> ways to record audio, from microphones to line monitors to audio interfaces, on dedicated hardware, computers, phones, etc. etc., but there aren’t all that many ways to record MIDI events. Essentially: unless you’re running software that monitors MIDI events, there just isn’t really any way to record MIDI. So I set out to change that: in the same way that you can just hook up an audio field recorder (like a Tascam DR-05) to sit between an audio-out on something that generates audio and an audio-in on something that should be listening to that audio, writing that to an SD card as <code>.wav</code> or <code>.mp3</code> or the like,  I built a MIDI “field recorder” that you plug in between your MIDI-out and some MIDI-in, indiscriminately recording every MIDI event that gets sent over the wire to an SD card as a <code>.mid</code> file.</p>

<p>You’d think this would be something that already exists as a product you can just buy (even if at probably quite the markup because it’s made of “powder-coated extruded aluminium” with “audiophile quality” components, but still). Amazingly, it is not. There’s just nothing.</p>

<p>So: if you want a MIDI recorder, you’ll have to build one… and if you want to build one, this post might be useful to you!</p>

<h2 id="table-of-contents">Table of contents</h2>

<ol>
  <li><a href="#the-circuitry">The circuitry</a>
    <ol>
      <li><a href="#the-midi-part-of-our-recorder">MIDI</a></li>
      <li><a href="#the-sd-part-of-our-recorder">SD card</a></li>
      <li><a href="#adding-a-midi-marker-button">MIDI marker button</a></li>
      <li><a href="#adding-a-beep-for-debugging">All the beep beeps</a></li>
    </ol>
  </li>
  <li><a href="#the-software">The software</a>
    <ol>
      <li><a href="#program-basics">Basics</a></li>
      <li><a href="#midi-handling">MIDI handling</a></li>
      <li><a href="#file-management">File management</a></li>
      <li><a href="#saving-midi-markers">Saving MIDI markers</a></li>
      <li><a href="#making-some-beeps">Making some beeps</a></li>
      <li><a href="#creating-a-new-file-when-idling">idle handling</a></li>
      <li><a href="#a-final-helper-script">A final helper script</a></li>
    </ol>
  </li>
  <li><a href="#importing-midi-data-into-your-daw">Importing MIDI data into your DAW</a></li>
  <li><a href="#comments-and-or-questions">Comments/questions</a></li>
</ol>

<h2 id="the-circuitry">The circuitry</h2>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/banner.jpg" target="_blank"><img src="https://pomax.github.io/arduino-midi-recorder/banner.jpg" width="100%"></a></p>

<p>To build this, we’re going to basically build a standard “MIDI-In + MIDI-Thru” circuit using an Arduino, with an SD card module hooked up so we can save the data that comes flying by. To build everything, we’ll need some special components:</p>

<ol>
  <li>An Arduino SD card module (~$10 for a pack of five)</li>
  <li>Two female 5-pin DIN connectors (~$5 for a pack of ten)</li>
  <li>A 6N138 optocoupler (~$10 for a pack of ten)</li>
</ol>

<p>And of course, the bits that you’ll get with pretty much any Arduino starter kit:</p>

<ol>
  <li>An Arduino UNO R3 or equivalent board</li>
  <li>4x 220 ohm resistors</li>
  <li>1x 4.7k ohm resistor</li>
  <li>A diode</li>
  <li>A piezo buzzer</li>
  <li>Two clicky pushy buttons</li>
</ol>

<h3 id="the-midi-part-of-our-recorder">The MIDI part of our recorder</h3>

<p>We set up MIDI-In on the Arduino <code>RX&lt;-0</code> pin, with MIDI-Thru tapping straight into signal that’s getting sent to <code>RX&lt;-0</code>, too. The only tricky bit about this is that MIDI signals are isolated from the rest of the circuitry via an optocoupler (which gets around ground loop problems by literally transmitting signals by running them through a LED, which emits the electrical signal as light, which then gets picked up by a phototransistor that turns the light back into an electrical signal). When placing and connecting the optocoupler, it is very important to make sure you know which pin is pin 1: it’ll have a little mark next to it (typically a dot on the chip casing) to tell you that that side has pins 1 through 4 running top to bottom, and pins 5 through 8 on the other side <em>running bottom to top</em>. Also note that we’re not using pins 1 and 4 for this circuit: only pins 2 and 3 are connected to the MIDI-In connector, and pins 5 through 8 are connected to the various arduino pins.</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/MIDI.jpg" target="_blank"><img alt="MIDI circuit diagram" src="https://pomax.github.io/arduino-midi-recorder/MIDI.png" width="75%"></a></p>

<p>(I know, “Thru isn’t a word!”, but that’s what <a href="http://www.shclemen.com/download/The%20Complete%20MIDI1.0%20Detailed%20Spec.pdf#page=7&amp;zoom=auto,-206,478">the MIDI spec</a> calls it, so English gets to take a back seat here…)</p>

<h3 id="the-sd-part-of-our-recorder">The SD part of our recorder</h3>

<p>The SD card circuitry is literally just a matter of “connect the pins to the pins”, with the only oddity being that the pins don’t <em>quite</em> line up well enough to literally just stick the SD card module directly into the Arduino.</p>

<p>However, note that your SD card module <strong>may have a different pin layout</strong> so be sure to double-check before wiring things up!</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/sd%20card.jpg" target="_blank"><img alt="SD module diagram" src="https://pomax.github.io/arduino-midi-recorder/sd%20card.png" width="50%"></a></p>

<h3 id="adding-a-midi-marker-button">Adding a MIDI marker button</h3>

<p>In order to make it easier to find particularly “worth revisiting” parts of what got recorded, we add a button that connects to pin 4, that we can use to write MIDI markers into our file. There is barely anything to this circuit:</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/button.jpg" target="_blank"><img alt="simple button diagram" src="https://pomax.github.io/arduino-midi-recorder/button.png" width="50%"></a></p>

<h3 id="adding-a-beep-for-debugging">Adding a beep, for debugging</h3>

<p>And finally, we’re going to add a little piezo speaker and a button that we can press to turn on (or off) playing a note corresponding to a MIDI note getting played, mostly as the audio equivalent of visual debugging. There’s barely any work here: we hook up the “speaker” between pin 8 and ground, and the button to pin 2. Beep, beep!</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/beep.jpg" target="_blank"><img alt="beep beep button diagram" src="https://pomax.github.io/arduino-midi-recorder/beep.png" width="50%"></a></p>

<h2 id="the-software">The Software</h2>

<p>With the circuitry set up, let’s start writing our program, focussing on dealing with each circuit in its own section</p>

<ol>
  <li><a href="#program-basics">Program basics</a></li>
  <li><a href="#midi-handling">Basic signal handling (MIDI library)</a></li>
  <li><a href="#file-management">Basic file writing (SD library)</a></li>
  <li><a href="#saving-midi-markers">Saving MIDI markers</a></li>
  <li><a href="#making-some-beeps">Audio debugging (beep beep)</a></li>
  <li><a href="#creating-a-new-file-when-idling">Usability bonus: “clean restart” on idle</a></li>
  <li><a href="#a-final-helper-script">Usability bonus 2: “fix the track length” script</a></li>
</ol>

<h3 id="program-basics">Program basics</h3>

<p>Our basic program will need to import the standard <a href="https://www.arduino.cc/en/reference/SD">SD</a> library, as well as the <a href="https://github.com/FortySevenEffects/arduino_midi_library">MIDI</a> library (which you’ll probably need to <a href="https://github.com/FortySevenEffects/arduino_midi_library#getting-started">install first</a>).</p>

<p>Note that if you don’t want to “follow along” and instead you just want the code, you can copy-paste the code found over in <a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/midi-recorder.ino">midi-recorder.ino</a> into the Arduino IDE.</p>

<div><div><pre><code><span>#include &lt;SD.h&gt;
#include &lt;MIDI.h&gt;
</span>
<span>MIDI_CREATE_DEFAULT_INSTANCE</span><span>();</span>

<span>void</span> <span>setup</span><span>()</span> <span>{</span>
  <span>// we'll put some more code here in the next sections</span>
<span>}</span>

<span>void</span> <span>loop</span><span>()</span> <span>{</span>
  <span>// we'll put some more code here in the next sections</span>
<span>}</span>
</code></pre></div></div>

<p>And we’re done!</p>

<p>Of course this doesn’t <em>do</em> anything yet, so let’s add the rest of the code, too.</p>

<h3 id="midi-handling">MIDI handling</h3>

<p>For our MIDI handling, we’ll need to set up listeners for MIDI events, and make sure to poll for that data during the program loop:</p>

<div><div><pre><code><span>void</span> <span>setup</span><span>()</span> <span>{</span>
  <span>MIDI</span><span>.</span><span>begin</span><span>(</span><span>MIDI_CHANNEL_OMNI</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandleNoteOn</span><span>(</span><span>handleNoteOn</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandleNoteOff</span><span>(</span><span>handleNoteOff</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandlePitchBend</span><span>(</span><span>handlePitchBend</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandleControlChange</span><span>(</span><span>handleControlChange</span><span>);</span>
<span>}</span>

<span>void</span> <span>loop</span><span>()</span> <span>{</span>
  <span>MIDI</span><span>.</span><span>read</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>This sets up MIDI listening on all MIDI channels (there are sixteen of them, and we don’t want to guess which channels are active), and reads out the MIDI data from <code>RX&lt;-0</code> - you may have noticed we don’t explicitly set a baud rate: the MIDI spec only allows for 31,250 bits per second, so the Arduino MIDI library automatically makes sure to set the correct polling rate for us.</p>

<p>That leaves implementing our MIDI event handling:</p>

<div><div><pre><code><span>#define NOTE_OFF_EVENT 0x81
#define NOTE_ON_EVENT 0x91
#define CONTROL_CHANGE_EVENT 0xB1
#define PITCH_BEND_EVENT 0xE1
</span>
<span>void</span> <span>handleNoteOff</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>writeToFile</span><span>(</span><span>NOTE_OFF_EVENT</span><span>,</span> <span>pitch</span><span>,</span> <span>velocity</span><span>);</span>
<span>}</span>

<span>void</span> <span>handleNoteOn</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>writeToFile</span><span>(</span><span>NOTE_ON_EVENT</span><span>,</span> <span>pitch</span><span>,</span> <span>velocity</span><span>);</span>
<span>}</span>

<span>void</span> <span>handleControlChange</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>controller</span><span>,</span> <span>byte</span> <span>value</span><span>)</span> <span>{</span>
  <span>writeToFile</span><span>(</span><span>CONTROL_CHANGE_EVENT</span><span>,</span> <span>controller</span><span>,</span> <span>value</span><span>);</span>
<span>}</span>

<span>void</span> <span>handlePitchBend</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>int</span> <span>bend_value</span><span>)</span> <span>{</span>
  <span>// First off, we need to "recenter" the bend value,</span>
  <span>// because in MIDI, the bend value is a positive value</span>
  <span>// in the range 0x0000-0x3FFF with 0x2000 considered</span>
  <span>// the "neutral" mid point:</span>
  <span>bend_value</span> <span>+=</span> <span>0x2000</span><span>;</span>

  <span>// Then, per the MIDI spec, bend_value is 14 bits, and</span>
  <span>// needs to be encoded as two 7-bit bytes, encoded as</span>
  <span>// the lowest 7 bits in the first byte, and the highest</span>
  <span>// 7 bits in the second byte:</span>
  <span>byte</span> <span>lowBits</span> <span>=</span> <span>(</span><span>byte</span><span>)</span> <span>(</span><span>bend_value</span> <span>&amp;</span> <span>0x7F</span><span>);</span>
  <span>byte</span> <span>highBits</span> <span>=</span> <span>(</span><span>byte</span><span>)</span> <span>((</span><span>bend_value</span> <span>&gt;&gt;</span> <span>7</span><span>)</span> <span>&amp;</span> <span>0x7F</span><span>);</span>

  <span>writeToFile</span><span>(</span><span>PITCH_BEND_EVENT</span><span>,</span> <span>lowBits</span><span>,</span> <span>highBits</span><span>);</span>
<span>}</span>
</code></pre></div></div>
<p>(note that we’re ignoring the <code>channel</code> byte: we’ll be creating a “simple” format 0 MIDI file, and for maximum usability in terms of importing our data in a DAW, we’re putting all the events on channel 2)</p>

<p>This is a good start, but MIDI events are just that: events, and events happen “at some specific time” which we’re still going to have to capture. MIDI events don’t rely on absolute time based on some kind of real time clock (which is good for us, because Arduino doesn’t have an RTC built in!) and instead relies on counting a “time delta”: it marks events with the number of “MIDI clock ticks” since the previous event, with the very first event in the event stream having an explicit time delta of zero.</p>

<p>So: let’s write a <code>getDelta()</code> function that we can use to get the number of MIDI ticks since the last event (=since the last time <code>getDelta()</code> got called) so that we have all the data we need ready to start writing MIDI to file:</p>

<div><div><pre><code><span>unsigned</span> <span>long</span> <span>startTime</span> <span>=</span> <span>0</span><span>;</span>
<span>unsigned</span> <span>long</span> <span>lastTime</span> <span>=</span> <span>0</span><span>;</span>

<span>int</span> <span>getDelta</span><span>()</span> <span>{</span>
  <span>if</span> <span>(</span><span>startTime</span> <span>==</span> <span>0</span><span>)</span> <span>{</span>
    <span>startTime</span> <span>=</span> <span>millis</span><span>();</span>
    <span>lastTime</span> <span>=</span> <span>startTime</span><span>;</span>
    <span>return</span> <span>0</span><span>;</span>
  <span>}</span>
  <span>unsigned</span> <span>long</span> <span>now</span> <span>=</span> <span>millis</span><span>();</span>
  <span>unsigned</span> <span>int</span> <span>delta</span> <span>=</span> <span>(</span><span>now</span> <span>-</span> <span>lastTime</span><span>);</span>
  <span>lastTime</span> <span>=</span> <span>now</span><span>;</span>
  <span>return</span> <span>delta</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This function seems bigger than it has to be: we <em>could</em> just start the clock when our sketch starts, setting <code>lastTime=millis()</code> in <code>setup()</code>, and then in <code>getDelta</code> only have the <code>timeDelta</code> calculation and <code>lastTime</code> update, but that would be explicitly encoding “a lot of nothing” at the start of our MIDI file: we’d be counting the ticks for the first event relative to starting the program, rather than treating the first event as starting at tick zero. So instead, we explicitly encode the time that the first event happens as <code>startTime</code> and then we start delta calculation relative to that, instead.</p>

<p>That then leaves updating our handlers:</p>

<div><div><pre><code><span>void</span> <span>handleNoteOn</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>...</span>
  <span>writeToFile</span><span>(...,</span> <span>getDelta</span><span>());</span>
<span>}</span>

<span>void</span> <span>handleNoteOff</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>...</span>
  <span>writeToFi…</span></code></pre></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pomax.github.io/arduino-midi-recorder/">https://pomax.github.io/arduino-midi-recorder/</a></em></p>]]>
            </description>
            <link>https://pomax.github.io/arduino-midi-recorder/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25532601</guid>
            <pubDate>Thu, 24 Dec 2020 23:31:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Conquest's Three Laws of Politics]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25531979">thread link</a>) | @benjaminjosephw
<br/>
December 24, 2020 | https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/ | <a href="https://web.archive.org/web/*/https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-2479">
			
<!-- Time -->
			<p><small>Friday, July 11th, 2008</small></p><div>
				<p><a href="http://www.eternityroad.info/index.php/weblog/screeds/14/">Robert Conquest’s Three Laws of Politics</a>:</p>
<ol>
<li>Everyone is conservative about what he knows best.  </li>
<li>Any organization not explicitly right-wing sooner or later becomes left-wing.  </li>
<li>The simplest way to explain the behavior of any bureaucratic organization is to assume that it is controlled by a cabal of its enemies. </li>
</ol>
<p><a href="http://www.nationalreview.com/thecorner/03_06_22_corner-archive.asp#010158">John Derbyshire</a> adds this:</p>
<blockquote><p>Of the Second Law, Conquest gave the Church of England and Amnesty International as examples. Of the Third, he noted that a bureaucracy sometimes actually <em>is</em> controlled by a secret cabal of its enemies — e.g. the postwar British secret service. </p>
</blockquote>
<p><a href="http://www.tinyvital.com/BlogArchives/000322.html">John Moore</a> thinks the third law is <em>almost</em> right; it should read “assume that it is controlled by a cabal of <em>the enemies of the stated purpose of that bureaucracy</em>.”</p>
<p>Francis W. Porretto notes that Cyril Northcote Parkinson studied the same phenomenon of bureaucratic behavior:</p>
<blockquote><p>Parkinson promulgated a number of laws of bureaucracy that serve to explain a huge percentage of its characteristics. They’ve exhibited remarkable predictive power within their domain. The first of these is the best known:</p>
<blockquote><p><strong>Parkinson’s First Law</strong>: Work expands to fill the time available for its completion. </p>
</blockquote>
<p>Parkinson inferred this effect from two central principles governing the behavior of bureaucrats:</p>
<ol>
<li>Officials want to multiply subordinates, not rivals. </li>
<li>Officials make work for one another. </li>
</ol>
<p>Like most generalizations, these are not always true…but the incentives that apply specifically to tax-funded government bureaucracies make them true much more often than not. They make a striking contrast with the almost exactly opposite behavior observable in private enterprise.<br>[...]<br>That young bureaucrat will profit from deliberate ineffectiveness to the extent that he can get himself viewed as an asset by his superiors and a non-threat by his peers. His superiors want him to produce justifications for the enlargement of their domains. His peers simply ask that he not tread on their provinces. </p>
</blockquote>
<p>Miltion Friedman noted that bureaucratic resource allocation involves spending other people’s money on other people, so there are no compelling reasons to control either cost or quality — but a bureaucrat will learn, given time, how to “spend on others” in such a fashion that the primary benefit flows to himself.</p>
<p>To do this, bureaucrats must manage perceptions, so that their work seems both necessary and successful:</p>
<blockquote><p>Von Clausewitz and others have termed war “a continuation of politics by other means,” but when viewed from the perspective of the State Department official, war is the declaration that his organization has failed of its purpose. He sees it as bad public relations for his entire function. Thus, even when the nation’s interests would be overwhelmingly better served by war than by the continuation of diplomacy, the State Department man will prefer diplomacy. It’s in his demesne, and enhances his prestige by enhancing the prestige of his trade.</p>
<p>It’s not too much to say that averting war regardless of its desirability or justifiability is near the top of every State Department functionary’s list of priorities. In this pursuit, the State Department will often find itself opposing even peacetime operations of the military designed to improve its effectiveness, such as the acquisition of new weapons or the enlargement of its ranks. </p>
</blockquote>

								<!-- Meta -->
<p> Posted in <a href="https://www.isegoria.net/category/john-derbyshire/" title="View all posts in John Derbyshire" rel="category tag">John Derbyshire</a>, <a href="https://www.isegoria.net/category/policy/" title="View all posts in Policy" rel="category tag">Policy</a> |   <a href="https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/#comments" title="Comment on Robert Conquest’s Three Laws of Politics">20 Comments »</a></p>

<!--
				<p class="postmetadata alt">
					<small>
						This entry was posted
												on Friday, July 11th, 2008 at 1:30 am						and is filed under <a href="https://www.isegoria.net/category/john-derbyshire/" title="View all posts in John Derbyshire" rel="category tag">John Derbyshire</a>, <a href="https://www.isegoria.net/category/policy/" title="View all posts in Policy" rel="category tag">Policy</a>.
						You can follow any responses to this entry through the <a href='https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/feed/'>RSS 2.0</a> feed.

													You can <a href="#respond">leave a response</a>, or <a href="https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/trackback/" rel="trackback">trackback</a> from your own site.

						
					</small>
				</p>
-->
			</div>
		</div></div>]]>
            </description>
            <link>https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25531979</guid>
            <pubDate>Thu, 24 Dec 2020 22:15:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mermaid – Markdownish syntax for generating flowcharts, sequence diagrams]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25531209">thread link</a>) | @jstanley
<br/>
December 24, 2020 | https://mermaid-js.github.io/mermaid/#/ | <a href="https://web.archive.org/web/*/https://mermaid-js.github.io/mermaid/#/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://mermaid-js.github.io/mermaid/#/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25531209</guid>
            <pubDate>Thu, 24 Dec 2020 20:40:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing Anonymous Posts on Gurlic]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25531158">thread link</a>) | @SubGenius
<br/>
December 24, 2020 | https://gurlic.com/root/implementing-anonymous-posts-on-gurlic | <a href="https://web.archive.org/web/*/https://gurlic.com/root/implementing-anonymous-posts-on-gurlic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                

<section>
                <section>
                  <p>
                    Implementing Anonymous Posts On Gurlic
                  </p>
                  
                  
                </section>
  

</section>

          </div><article>
          
          <p><img src="https://static.gurlic.com/post-featured/16801023637385968737572668552444.webp">
          </p>
          
              <section>
              <p>Anonymous posts on Gurlic are quite straight-forward. There is an actual user with the username <code>anonymous</code>. Whenever a new anonymous post is created, the database query looks like this:</p><pre><code>INSERT into posts(content, user_id) 
VALUES($1, (SELECT id from users where username='anonymous'))</code></pre><p>Initially, I wanted a way for users to be able to edit their anonymous posts. That is a little tricky though, because there has to be some record that ties the user to the post itself - which defeats the purpose of anonymous posts. In the case of a database leak, that connection is out in the public. We don't want that.</p><p>So anonymous posts are pretty much a one-off action because once they're created, the user no longer has any control over them - whether it's editing the post, marking it as NSFW, deleting it and so on. </p><p>This also means that the <code>anonymous</code> user has a <a href="https://gurlic.com/anonymous" rel="noopener noreferrer nofollow">profile</a>, just like any other user, and can be followed, mentioned etc.</p><p>I'm sure someone has a much better way to implement anonymous posts that are tied to the users that created them, while being secure at the same time. It does seem like a lot of extra work though. </p><p>Why be not lazy when you can be lazy?</p>
              </section>
              <section>
                

                


              </section>
        </article></div>]]>
            </description>
            <link>https://gurlic.com/root/implementing-anonymous-posts-on-gurlic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25531158</guid>
            <pubDate>Thu, 24 Dec 2020 20:33:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fictional Videogame Stills]]>
            </title>
            <description>
<![CDATA[
Score 136 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25530307">thread link</a>) | @doener
<br/>
December 24, 2020 | https://www.suzannetreister.net/Ampages/Amenu.html | <a href="https://web.archive.org/web/*/https://www.suzannetreister.net/Ampages/Amenu.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
      <td colspan="4"> 
        <p><span size="2" face="Verdana, Arial, Helvetica, sans-serif"><b><span size="1" color="#99CC33">Suzanne 
          Treister<br>
          </span></b><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33">1991-1992</span><span size="1" color="#99CC33"> 
          </span></span> </p>
        <p><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><i><strong>Fictional 
          Videogame Stills</strong></i> </span></p>
        <p><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33">In 
          the late 1980s I was making paintings about computer games. In January 1991 I bought an Amiga computer and made a series of fictional 
          videogame stills using Deluxe Paint II. I photographed them straight 
          from the screen as there was no other way to output them that I knew 
          of apart from through a very primitive daisy wheel printer where they appeared as washed out dots. <p>
          
          The effect of the photographs perfectly reproduced the highly 
          pixellated, raised needlepoint effect of the Amiga screen image. Conceptually 
          this means of presentation was also appropriate in that it made it seem 
          like I had gone into a videogame arcade and photographed the games there, 
          lending authenticity to the fiction.</p></span><span color="#99cc33" face="Verdana, Arial, Helvetica, sans-serif" size="1">The first seven works on this page form a series titled, 'Q. Would you recognise a Virtual Paradise?'</span><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><p>
          
          Many of these works were shown in London at the Edward Totah Gallery in March 
        1992 (<a href="https://www.suzannetreister.net/Ampics/Installations/Totah-Installation1992/EdwardTotah_1992.html" target="_self">view installation</a>) and later that year</p></span><span color="#99cc33" face="Verdana, Arial, Helvetica, sans-serif" size="1"> at the Exeter Hotel in Adelaide, Australia.<br> 
        In 1995 the 'Q. Would you recognise a Virtual Paradise?' series was shown in London at the Royal Festival Hall in the exhibition<em> It's a Pleasure</em>, curated by Leah Kharibian.</span><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><br>
        Recent venues: Somerset House, London, 2018 <a href="https://www.suzannetreister.net/Ampics/Installations/SomersetHouse2018/SomersetHouse2018.html" target="_self">view installation</a> ; Akron Art Museum, Ohio, USA 2019 and tour; Moderna Museet, Stockholm, Sweden, 2019/20 <a href="https://www.suzannetreister.net/InstallationV/Moderna-Museet_2019.html" target="_self">view installation</a><p>
          
          The original Amiga floppy disks which stored the image files are  corrupt, but the  photographic art works remain.</p></span><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><p>
          
          For 
          more information <a href="https://www.suzannetreister.net/Ampages/Treister_Essay.pdf">download my essay</a> 
          from '<a href="http://www.intellectbooks.co.uk/ppbooks.php?isbn=9781841501420" target="_blank">Videogames 
            and Art</a>', Ed. Andy Clarke, Grethe Mitchell, Publ. Intellect Books, 
        UK 2007</p></span></p>
<p><span color="#996633" size="1" face="Verdana, Arial, Helvetica, sans-serif"> <a href="https://www.suzannetreister.net/Videography/Videogames_Video.html" target="_self">view video version</a><p>
            
          click 
  titles below to view enlargements of photo works</p></span></p></td>
    </div></div>]]>
            </description>
            <link>https://www.suzannetreister.net/Ampages/Amenu.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25530307</guid>
            <pubDate>Thu, 24 Dec 2020 19:01:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hotwire vs. Htmx – Comparison]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25530101">thread link</a>) | @ksec
<br/>
December 24, 2020 | https://discuss.hotwire.dev/t/hotwire-vs-htmx-comparison/1614 | <a href="https://web.archive.org/web/*/https://discuss.hotwire.dev/t/hotwire-vs-htmx-comparison/1614">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>I’ll respond as someone who is very familiar with both htmx and Intercooler (the predecessor of htmx).</p>
<p>I would say htmx happens to very nicely support progressive enhancement, if that’s your goal. Take this description of the hx:boost attribute for example:</p>
<blockquote>
<p>The <code>hx-boost</code> attribute allows you to “boost” normal anchors and form tags to use AJAX instead. This has the <a href="https://en.wikipedia.org/wiki/Progressive_enhancement" rel="noopener nofollow ugc">nice fallback</a> that, if the user does not have javascript enabled, the site will continue to work.</p>
</blockquote>
<p><em><strong>But what really sets htmx apart</strong></em> imho, is that you get to update <em>parts</em> of the page dynamically, by just adding some html attributes! I.e. no JavaScript required.</p>
<p>It doesn’t end there of course, it makes implementing many web app staples like lazy loading, type-ahead search, dependent selects, click-to-edit, etc. absolutely trivial to implement (here’s the list of examples: <a href="https://htmx.org/examples" rel="noopener nofollow ugc">https://htmx.org/examples</a>).</p>
<p>Then there’s event handling, animation transitions, websockets, sse … the list goes on … ALL through specifying some attributes on bog standard html elements!</p>
<p>The clue is in the name really: htm<strong>x</strong>… as in <em>extending</em> html. I like to think of it as extending the html spec to bring you everything we’ve come to expect from modern web app development, purely through html, css and your favorite back-end framework.</p>
<p>My personal intercooler/htmx journey began by wanting to “ajaxify” a rather large, traditional MVC, full-page-refresh app, without doing a complete rewrite (it’s a Playframework app, so essentially the Java-based equivalent of Rails).</p>
<p>It was trivially easy to start “sprinkling in” aka progressively enhancing the app, with no backend changes at all, just by adding a few attributes on the existing html elements.</p>
<p>Not long after that, we had transformed the entire app into what feels like any other SPA (not a single full page refresh in sight), complete with history (back-button) support, while it still being a bog standard MVC app, with server side templates being rendered to the frontend. This, as they say, was a MASSIVE win <img src="https://sjc2.discourse-cdn.com/standard10/images/emoji/apple/grin.png?v=9" title=":grin:" alt=":grin:"></p>
<p>Bottom line: if you believe that simplicity beats the “sexy" complexity introduced by heavy JS frameworks like React, Vue, Angular, etc; if you’re a single developer/small team wanting to productively churn out simple, easy to understand code that doesn’t require a bunch of extra build steps; if you buy into philosophies like the idea behind Tailwind CSS, Alpine.js and yes some parts of Hotwire (<em>especially</em> the “html over the wire” part), then I suggest you at least try out htmx before you make a decision.</p>
<p>I’m willing to bet you won’t regret it <img src="https://sjc2.discourse-cdn.com/standard10/images/emoji/apple/slight_smile.png?v=9" title=":slight_smile:" alt=":slight_smile:"></p>
<p>P.S. I Just saw that the guy who made both intercooler and htmx responded while I was writing this, by pretty much saying what I was trying to say, just much more succinctly <img src="https://sjc2.discourse-cdn.com/standard10/images/emoji/apple/joy.png?v=9" title=":joy:" alt=":joy:"></p>
        </div></div>]]>
            </description>
            <link>https://discuss.hotwire.dev/t/hotwire-vs-htmx-comparison/1614</link>
            <guid isPermaLink="false">hacker-news-small-sites-25530101</guid>
            <pubDate>Thu, 24 Dec 2020 18:39:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LLVM for Programming Language Creators]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25529702">thread link</a>) | @techcreator4
<br/>
December 24, 2020 | https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/ | <a href="https://web.archive.org/web/*/https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><h3>Creating the Bolt Compiler: Part 8</h3><p><h3>December 24, 2020</h3><h3>12 min read</h3></p><nav><h2>Series: Creating the Bolt Compiler</h2><ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><strong>Part 8: A Complete Guide to LLVM for Programming Language Creators</strong></li><li><em>Part 9: Concurrency is a Runtime Feature, Not a Compiler Feature*</em></li><li><em>Part 10: Inheritance and method overriding in Bolt*</em></li><li><em>Part 11: Generics - adding polymorphism to Bolt*</em></li><p>*coming soon! </p></ul></nav><hr><p><strong>Update</strong>: this post has now taken off on <a href="https://news.ycombinator.com/item?id=25539797">Hacker News</a> and <a href="https://www.reddit.com/r/programming/comments/kjjijf/a_complete_guide_to_llvm_for_programming_language/">Reddit</a>. Thank you all!</p><p>I have a small request:</p><div><div><div> <h3>Share This On Twitter</h3><p>If you find this useful, please share on Twitter, thank you!</p></div></div></div><h2 id="whos-this-tutorial-for"><a href="#whos-this-tutorial-for" aria-label="whos this tutorial for permalink"></a>Who’s this tutorial for?</h2><p>This series of compiler tutorials is for people who don’t just want to create a <em>toy</em> language.
You want objects. You want polymorphism. You want concurrency. You want garbage collection. Wait you don’t want GC? Okay, no worries, we won’t do that :P</p><p>If you’ve just joined the series at this stage, here’s a quick recap. We’re designing a Java-esque concurrent object-oriented programming language <em>Bolt</em>. We’ve gone through the compiler frontend, where we’ve done the parsing, type-checking and dataflow analysis. We’ve <a href="https://mukulrathi.co.uk/create-your-own-programming-language/lower-language-constructs-to-llvm/">desugared our language to get it ready for LLVM</a> - the main takeaway is that objects have been desugared to structs, and their methods desugared to functions.</p><p>Learn about LLVM and you’ll be the envy of your friends. Rust uses LLVM for its backend, so it must be cool. You’ll beat them on all those performance benchmarks, without having to hand-optimise your code or write machine assembly code. Shhhh, I won’t tell them.</p><h2 id="just-give-me-the-code"><a href="#just-give-me-the-code" aria-label="just give me the code permalink"></a>Just give me the code!</h2><p>All the code can be found in the <a href="https://github.com/mukul-rathi/bolt">Bolt compiler repository</a>.</p><p>The C++ class definitions for our desugared representation (we call this <em>Bolt IR</em>) can be found in <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/deserialise_ir">deserialise_ir</a> folder. The code for this post (the LLVM IR generation) can be found in the <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/llvm_ir_codegen">llvm_ir_codegen</a> folder. The repo uses the Visitor design pattern and ample use of <code>std::unique_ptr</code> to make memory management easier.</p><p>To cut through the boilerplate, to find out how to generate LLVM IR for a particular language expression, search for the <code>IRCodegenVisitor::codegen</code> method that takes in the corresponding <code>ExprIR</code> object. e.g. for if-else statements:</p><div><div><pre><p><span>Value </span><span>*</span><span>IRCodegenVisitor</span><span>::</span><span>codegen</span><span>(</span><span>const</span><span> ExprIfElseIR </span><span>&amp;</span><span>expr</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>.</span><span>.</span><span>.</span><span> </span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="understanding-llvm-ir"><a href="#understanding-llvm-ir" aria-label="understanding llvm ir permalink"></a>Understanding LLVM IR</h2><p>LLVM sits in the <strong>middle-end</strong> of our compiler, <em>after</em> we’ve desugared our language features, but <em>before</em> the backends that target specific machine architectures (x86, ARM etc.)</p><p>LLVM’s IR is pretty low-level, it can’t contain language features present in some languages but not others (e.g. classes are present in C++ but not C). If you’ve come across instruction sets before, LLVM IR is a <a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer#:~:text=A%20reduced%20instruction%20set%20computer,instruction%20set%20computer%20(CISC).">RISC</a> instruction set.</p><p>The upshot of it is that LLVM IR looks like a more <em>readable</em> form of assembly. As LLVM IR is <strong>machine independent</strong>, we don’t need to worry about the number of registers, size of datatypes, calling conventions or other machine-specific details.</p><p>So instead of a fixed number of physical registers, in LLVM IR we have an unlimited set of <em>virtual</em> registers (labelled <code>%0</code>, <code>%1</code>, <code>%2</code>, <code>%3</code>… we can write and read from. It’s the backend’s job to map from virtual to physical registers.</p><p>And rather than allocating specific sizes of datatypes, we retain <strong>types</strong> in LLVM IR. Again, the backend will take this type information and map it to the size of the datatype. LLVM has types for different sizes of <code>int</code>s and floats, e.g. <code>int32</code>, <code>int8</code>, <code>int1</code> etc. It also has derived types: like <strong>pointer</strong> types, <strong>array</strong> types, <strong>struct</strong> types, <strong>function</strong> types. To find out more, check out the <a href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> documentation.</p><p>Now, built into LLVM are a set of optimisations we can run over the LLVM IR e.g. <a href="https://en.wikipedia.org/wiki/Dead_code_elimination">dead-code elimination</a>, <a href="https://en.wikipedia.org/wiki/Inline_expansion">function inlining</a>, <a href="https://cran.r-project.org/web/packages/rco/vignettes/opt-common-subexpr.html">common subexpression elimination</a> etc. The details of these algorithms are irrelevant: LLVM implements them for us.</p><p>Our side of the bargain is that we write LLVM IR in <a href="https://en.wikipedia.org/wiki/Static_single_assignment_form">Static Single Assignment (SSA) form</a>, as SSA form makes life easier for optimisation writers. SSA form sounds fancy, but it just means we define variables before use and assign to variables <strong>only once</strong>. In SSA form, we cannot reassign to a variable, e.g. <code>x = x+1</code>; instead we assign to a fresh variable each time (<code>x2 = x1 + 1</code>).</p><p>So in short: LLVM IR looks like assembly with <strong>types</strong>, minus the messy machine-specific details. LLVM IR must be in SSA form, which makes it easier to optimise. Let’s look at an example!</p><h3 id="an-example-factorial"><a href="#an-example-factorial" aria-label="an example factorial permalink"></a>An example: Factorial</h3><p>Let’s look at a simple factorial function in our language Bolt:</p><div><p><span>factorial.bolt</span></p><div><pre><p><span>function </span><span>int</span><span> </span><span>factorial</span><span>(</span><span>int</span><span> n</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>if</span><span> </span><span>(</span><span>n</span><span>==</span><span>0</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>1</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>else</span><span>{</span><span></span></p><p><span>    n </span><span>*</span><span> </span><span>factorial</span><span>(</span><span>n </span><span>-</span><span> </span><span>1</span><span>)</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>The corresponding LLVM IR is as follows:</p><div><p><span>factorial.ll</span></p><div><pre><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>eq </span><span>=</span><span> icmp eq i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>0</span><span>   </span><span></span></p><p><span>  br i1 </span><span>%</span><span>eq</span><span>,</span><span> label </span><span>%</span><span>then</span><span>,</span><span> label </span><span>%</span><span>else</span><span></span></p><p><span>then</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span></span><span>else</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  </span><span>%</span><span>sub </span><span>=</span><span> sub i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>1</span><span>   </span><span></span></p><p><span>  </span><span>%</span><span>2</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>%</span><span>sub</span><span>)</span><span> </span><span></span></p><p><span>  </span><span>%</span><span>mult </span><span>=</span><span> mul i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>%</span><span>2</span><span>  </span><span></span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span>ifcont</span><span>:</span><span>                                           </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>else</span><span>,</span><span> </span><span>%</span><span>then</span></p><p><span>  </span><span>%</span><span>iftmp </span><span>=</span><span> phi i32 </span><span>[</span><span> </span><span>1</span><span>,</span><span> </span><span>%</span><span>then </span><span>]</span><span>,</span><span> </span><span>[</span><span> </span><span>%</span><span>mult</span><span>,</span><span> </span><span>%</span><span>else</span><span> </span><span>]</span><span></span></p><p><span>  ret i32 </span><span>%</span><span>iftmp</span></p><p><span></span><span>}</span></p></pre></div></div><p>Note the <code>.ll</code> extension is for <strong>human-readable</strong> LLVM IR output. There’s also <code>.bc</code> for bit-code, a more compact machine representation of LLVM IR.</p><p>We can walk through this IR in 4 levels of detail:</p><h4 id="at-the-instruction-level"><a href="#at-the-instruction-level" aria-label="at the instruction level permalink"></a>At the Instruction Level:</h4><p>Notice how LLVM IR contains assembly instructions like <code>br</code> and <code>icmp</code>, but abstracts the machine-specific messy details of function calling conventions with a single <code>call</code> instruction.</p><p><span>
      <a href="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial instructions" title="Factorial instructions" src="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png" srcset="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/222b7/factorial-instructions.png 163w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/ff46a/factorial-instructions.png 325w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png 650w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/e548f/factorial-instructions.png 975w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/3c492/factorial-instructions.png 1300w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png 1806w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-control-flow-graph-level"><a href="#at-the-control-flow-graph-level" aria-label="at the control flow graph level permalink"></a>At the Control Flow Graph Level:</h4><p>If we take a step back, you can see the IR defines the <strong>control flow graph</strong> of the program. IR instructions are grouped into labeled <strong>basic blocks</strong>, and the <code>preds</code> labels for each block represent incoming edges to that block. e.g. the <code>ifcont</code> basic block has predecessors <code>then</code> and <code>else</code>:</p><p>At this point, I’m going to assume you have come across Control Flow Graphs and basic blocks. We introduced Control Flow Graphs in a previous post in the series, where we used them to perform different dataflow analyses on the program. I’d recommend you go and check the <a href="http://mukulrathi.co.uk/create-your-own-programming-language/data-race-dataflow-analysis/#control-flow-graph">CFG section of that dataflow analysis post</a> now. I’ll wait here :)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial control flow graph" title="Factorial control flow graph" src="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png" srcset="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/222b7/factorial-cfg.png 163w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/ff46a/factorial-cfg.png 325w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png 650w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/e548f/factorial-cfg.png 975w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/3c492/factorial-cfg.png 1300w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png 2034w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>The <code>phi</code> instruction represents <strong>conditional assignment</strong>: assigning different values depending on which preceding basic block we’ve just come from. It is of the form <code>phi type [val1, predecessor1], [val2, predecessor2], ...</code> In the example above, we set <code>%iftmp</code> to 1 if we’ve come from the <code>then</code> block, and <code>%mult</code> if we’ve come from the <code>else</code> block. Phi nodes must be at the <strong>start</strong> of a block, and include one entry for each predecessor.</p><h4 id="at-the-function-level"><a href="#at-the-function-level" aria-label="at the function level permalink"></a>At the Function Level:</h4><p>Taking another step back, the overall structure of a function in LLVM IR is as follows:</p><p><span>
      <a href="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial fn" title="Factorial fn" src="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png" srcset="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/222b7/factorial-fn.png 163w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/ff46a/factorial-fn.png 325w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png 650w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/e548f/factorial-fn.png 975w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/3c492/factorial-fn.png 1300w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png 1708w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-module-level"><a href="#at-the-module-level" aria-label="at the module level permalink"></a>At the Module Level:</h4><p>An LLVM <strong>module</strong> contains all the information associated with a program file. (For multi-file programs, we’d link together their corresponding modules.)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="LLVM Module" title="LLVM Module" src="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png" srcset="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/222b7/module.png 163w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/ff46a/module.png 325w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png 650w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/e548f/module.png 975w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/3c492/module.png 1300w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png 1988w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>Our <code>factorial</code> function is just one function definition in our module. If we want to execute the program, e.g. to compute <code>factorial(10)</code> we need to define a
<code>main</code> function, which will be the entrypoint for our program’s execution. The <code>main</code> function’s signature is a hangover from C (we return 0 to indicate successful execution):</p><div><p><span>example_program.c</span></p><div><pre><p><span></span><span>int</span><span> </span><span>main</span><span>(</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>factorial</span><span>(</span><span>10</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>0</span><span>;</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>We specify that we want to compile for an Intel Macbook Pro in the module target info:</p><div><p><span>example_module.ll</span></p><div><pre><p><span>source_filename </span><span>=</span><span> </span><span>"Module"</span><span></span></p><p><span>target triple </span><span>=</span><span> </span><span>"x86_64-apple-darwin18.7.0"</span><span></span></p><p><span></span><span>.</span><span>.</span><span>.</span><span></span></p><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>.</span><span>.</span><span>.</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span>define i32 @</span><span>main</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>0</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>10</span><span>)</span><span></span></p><p><span>  ret i32 </span><span>0</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="the-llvm-api-key-concepts"><a href="#the-llvm-api-key-concepts" aria-label="the llvm api key concepts permalink"></a>The LLVM API: Key Concepts</h2><p>Now we’ve got the basics of LLVM IR down, let’s introduce the LLVM API. We’ll go through the key concepts, then introduce more of the API as we explore LLVM IR further.</p><p>LLVM defines a whole host of classes that map to the concepts we’ve talked about.</p><ul><li><code>Value</code></li><li><code>Module</code></li><li><code>Type</code></li><li><code>Function</code></li><li><code>BasicBlock</code></li><li><code>BranchInst</code>
…</li></ul><p>These are all in the namespace <code>llvm</code>. In the Bolt repo, I chose to make this namespacing explicit by referring to them as <code>llvm::Value</code>, <code>llvm::Module</code> etc.)</p><p>Most of the LLVM API is quite mechanical. Now you’ve seen the diagrams that define modules, functions and basic blocks, the relationship between their corresponding classes in the API falls out nicely. You can query a <code>Module</code> object to get a list of its <code>Function</code> objects, and query a <code>Function</code> to get the list of its <code>BasicBlock</code>s, and the other way round: you can query a <code>BasicBlock</code> to get its parent <code>Function</code> object.</p><p><code>Value</code> is the base class for any value computed by the program. This could be a function (<code>Function</code> subclasses <code>Value</code>), a basic block (<code>BasicBlock</code> also subclasses <code>Value</code>), an instruction, or the result of an intermediate computation.</p><p>Each of the expression <code>codegen</code> methods returns a <code>Value *</code>: the result of executing that expression. You can think of these <code>codegen</code> methods as generating the IR for that expression and the <code>Value *</code> representing the virtual register containing the expression’s result.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.h#L64-L84"> <!-- -->ir_codegen_visitor.h</a></span></p><div><pre><p><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIntegerIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprBooleanIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIdentifierIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprConstructorIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprLetIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprAssignIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span></p></pre></div></div><p>How do we generate the IR for these expressions? We create a <strong>unique</strong> <code>Context</code> object to tie our whole code generation together. We use this <code>Context</code> to get access to core LLVM data structures e.g LLVM modules and <code>IRBuilder</code> objects.</p><p>We’ll use the context to create just one module, which we’ll imaginatively name <code>"Module"</code>.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.cc#L17-L19"> <!-- -->ir_codegen_visitor.cc</a></span></p><div><pre><p><span>context </span><span>=</span><span> make_unique</span><span>&lt;</span><span>LLVMContext</span><span>&gt;</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>builder </span><span>=</span><span> std</span><span>::</span><span>unique_ptr</span><span>&lt;</span><span>IRBuilder</span><span>&lt;</span><span>&gt;&gt;</span><span>(</span><span>new</span><span> IRBuilder</span><span>&lt;</span><span>&gt;</span><span>(</span><span>*</span><span>context</span><span>)</span><span>)</span><span>;</span><span></span></p><p><span>module </span><span>=</span><span> make_unique</span><span>&lt;</span><span>Module</span><span>&gt;</span><span>(</span><span>"Module"</span><span>,</span><span> </span><span>*</span><span>context</span><span>)</span><span>;</span></p></pre></div></div><h3 id="irbuilder"><a href="#irbuilder" aria-label="irbuilder permalink"></a>IRBuilder</h3><p>We use the <code>IRBuilder</code> object to incrementally build up our IR. It is intuitively the equivalent of a file pointer when reading/writing a file - it carries around <em>implicit</em> state, e.g. the last instruction added, the basic block of that …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</a></em></p>]]>
            </description>
            <link>https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529702</guid>
            <pubDate>Thu, 24 Dec 2020 17:55:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GoDaddy employees told they were getting a holiday bonus in a phishing test]]>
            </title>
            <description>
<![CDATA[
Score 178 | Comments 234 (<a href="https://news.ycombinator.com/item?id=25529584">thread link</a>) | @arkadiyt
<br/>
December 24, 2020 | https://coppercourier.com/story/godaddy-employees-holiday-bonus-secruity-test/ | <a href="https://web.archive.org/web/*/https://coppercourier.com/story/godaddy-employees-holiday-bonus-secruity-test/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					
<h2>Roughly 500 employees failed the test, which claimed they would receive a $650 bonus.</h2>



<p>“2020 has been a record year for GoDaddy, thanks to you!” the email read.</p>



<p>Sent by Happyholiday@Godaddy.com, tucked underneath a glittering banner of a snowflake and stamped with the words “GoDaddy Holiday Party,” the Dec. 14 email to hundreds of GoDaddy employees promised some welcome financial relief during an <a href="https://coppercourier.com/story/tens-of-millions-of-americans-face-economic-ruin-unless-congress-gets-its-sht-together/">otherwise stressful year</a>.</p>



<p>“Though we cannot celebrate together during our annual Holiday Party, we want to show our appreciation and share a $650 one-time Holiday bonus!” the email read. “To ensure that you receive your one-time bonus in time for the Holidays, please select your location and fill in the details by Friday, December 18th.”</p>



<p>But, two days later, the company sent another email.</p>



<p>“You’re getting this email because you failed our recent phishing test,” the company’s chief security officer Demetrius Comes<strong> </strong>wrote. “You will need to retake the Security Awareness Social Engineering training.”</p>



<figure><picture>
	<source media="(max-width: 320px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=284">
	<source media="(max-width: 768px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=676">
	<source media="(max-width: 1280px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=1400">
	<img src="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=1400" width="1400" height="9999" alt="" title="">
	
	
</picture></figure>



<figure>
		<picture>
	<source media="(max-width: 320px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=284">
	<source media="(max-width: 768px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=676">
	<source media="(max-width: 1280px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=1400">
	<img src="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=1400" width="1400" height="9999" alt="" title="">
	
	
</picture><span>A Dec. 14 email sent to hundreds of GoDaddy employees offered a holiday bonus to employees. It turned out to be a phishing test.</span><figcaption>Screenshots of the email were sent to The Copper Courier by multiple GoDaddy employees.</figcaption>
	</figure>



<p>Phishing tests are sent by companies to gauge their employees’ susceptibility to phishing attacks, where people outside the company will attempt to disguise themselves as trusted sources to gain access to sensitive information, like usernames and passwords.</p>



<p>The follow-up email from Comes said that roughly 500 GoDaddy employees clicked on the holiday bonus email and “failed the test.”</p>



<p>Scottsdale-based GoDaddy, the world’s largest domain registrar and web-hosting company, did not respond to repeated requests for comment about the emails. The emails were forwarded to The Copper Courier by three GoDaddy employees.</p>



<p>Earlier this year, <a href="https://www.forbes.com/sites/daveywinder/2020/05/05/godaddy-confirms-data-breach-what-19-million-customers-need-to-know/?sh=235bf0a91daa">Forbes reported</a> that 28,000 GoDaddy customers were impacted after a data breach compromised their account usernames and passwords.&nbsp;</p>



<p>Despite the company <a href="https://investors.godaddy.net/newsroom/news-releases/press-release-details/2020/GoDaddy-Reports-Second-Quarter-2020-Earnings-Results/default.aspx">surpassing 20 million customers this year</a> and reporting “record customer growth,” the company <a href="https://aboutus.godaddy.net/newsroom/news-releases/press-release-details/2020/GoDaddy-Blog-Update/default.aspx">laid off or reassigned</a> hundreds of employees during the coronavirus pandemic, <a href="https://www.abc15.com/news/business/godaddy-to-lay-off-hundreds-close-texas-offices">including in Arizona</a>, Iowa, and Texas.</p>



<p>GoDaddy is not the first company this year to trick employees into falling for phishing scams by dangling the carrot of a potential bonus.</p>



<p>In September, Tribune Publishing, which owns <a href="https://www.tribpub.com/#">several major newspapers</a> around the country, sent a similar email to its employees.</p>



<p>The email, circulated by <a href="https://twitter.com/justin_fenton/status/1308851669397053440">several furious Tribune employees on Twitter</a>, said the company was giving out targeted bonuses of $5,000-$10,000, only to later reveal itself as a phishing test sent by the company.</p>



<figure><div>
<figure><blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p>I've been able to confirm that this was in fact! an internal test from <a href="https://twitter.com/tribpub?ref_src=twsrc%5Etfw">@tribpub</a>. If you click the links, you get a message from the company's training contractor saying you clicked on a simulated phishing test.</p><p>The level of cruelty is actually stunning, even for this company.</p></div>— Danielle Ohl (@DTOhl) <a href="https://twitter.com/DTOhl/status/1308850196978298880?ref_src=twsrc%5Etfw">September 23, 2020</a></blockquote></figure>
</div></figure>



<p>“The level of cruelty is actually stunning,” Tribune reporter Danielle Ohl <a href="https://twitter.com/DTOhl/status/1308850196978298880?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1308850196978298880%7Ctwgr%5E%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Fwww.vice.com%2Fen%2Farticle%2Fy3z8g5%2Ftribune-publishing-out-evils-itself-with-phishing-email-promising-bonuses">wrote at the time</a>.</p>



<p>A Tribune spokesperson <a href="https://www.vice.com/en/article/y3z8g5/tribune-publishing-out-evils-itself-with-phishing-email-promising-bonuses">later told Vice News</a> that the exercise was part of a regular, internal test to assess phishing risks and said that it had no intention of offending its employees. “In retrospect, the topic of the email was misleading and insensitive, and the company apologizes for its use,” the statement read.</p>



<p><em>Want to talk about phishing tests you’ve received from your employer? Reach the reporter at <a href="mailto:lorraine@couriernewsroom.com">lorraine@couriernewsroom.com</a> or 480-243-4086.</em></p>
				</div><div>
	<hr>
	<div>
    <a href="https://coppercourier.com/author/lorrainelonghi/">
        <picture>
	<source media="(max-width: 90px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/11/Lorraine-Longhi-.jpg?w=90">
	<img src="https://fwiw.imgix.net/wp-content/uploads/2020/11/Lorraine-Longhi-.jpg?w=90" width="90" height="9999" alt="Lorraine Longhi" title="Lorraine Longhi">
</picture>    </a>
    <div>
        <p>
            <a href="https://coppercourier.com/author/lorrainelonghi/">
                Lorraine Longhi            </a>
            is a reporter for The Copper Courier. She is a native of the Southwest and has lived in Phoenix since 2006. A graduate of ASU’s Walter Cronkite School of Journalism, she previously worked for The Arizona Republic, covering city government, education, and the impact of statewide decisions.        </p>
        
    </div>
</div>
</div></div>]]>
            </description>
            <link>https://coppercourier.com/story/godaddy-employees-holiday-bonus-secruity-test/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529584</guid>
            <pubDate>Thu, 24 Dec 2020 17:42:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Functional Programming as a Scientific Revolution]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25529450">thread link</a>) | @jbmilgrom
<br/>
December 24, 2020 | https://softwarefordays.com/post/fp-as-a-scientific-revolution/ | <a href="https://web.archive.org/web/*/https://softwarefordays.com/post/fp-as-a-scientific-revolution/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      

<p>Excerpted from <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time/">Functional Programming and the Semantics of Change, State &amp; Time</a> because sometimes you need to see the waterfall to want to take the hike.</p>
<blockquote>
<p>We were all object-oriented programmers at one point in time — Rich Hickey, <a href="https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/ValueOfValuesLong.md">The Value of Values</a></p>
</blockquote>
<p>Assimilation of functional semantics with any regular conception of the physical world is no easy task. Look again around the room, bus or park and you will likely still identify distinct objects that may change over time. I kicked around chapter 3 of <a href="https://web.mit.edu/alexmv/6.037/sicp.pdf">SICP</a> for over a year before wrapping my head around it. That we may still be experiencing disbelief at the thought of a new model for time suggests a larger game at play.</p>
<p>Dominant scientific paradigms pervade our language, on the one hand, and way of thinking, on the other.</p>
<blockquote>
<p>Scientific practice always involves the production and the explanation of generalizations about nature; those activities presuppose a language with some minimal richness; and the acquisition of such a language brings knowledge of nature with it. When the exhibit of examples is part of the process of learning terms like “motion,” ‘‘cell,‘‘ or ‘‘energy element,’’ what is acquired is knowledge of language and of the world together. <strong>On the one hand</strong>, the student learns what these terms mean, what features are relevant to attaching them to nature, what things cannot be said of them on pain of self-contradiction, and so on. <strong>On the other hand</strong>, the student learns what categories of things populate the world, what their salient features are, and something about the behavior that is and is not permitted to them. In much of language learning these two sorts of knowledge — <strong>knowledge of words and knowledge of nature</strong> — are acquired together, not really two sorts of knowledge at all, but two faces of the single coinage that a language provides. — Thomas Kuhn, <a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">What are Scientific Revolutions?</a></p>
</blockquote>
<p>As a result, a new discovery “that cannot be accommodated within the concepts in use before” may elicit surprise or even disbelief. “One cannot get from the old to the new simply by an addition to what was already known. Nor can one quite describe the new in the vocabulary of the old or vice versa.” (<a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">Thomas Kuhn</a>) Rather, in order to “make or to assimilate such a discovery one must alter the way one thinks about and describes some range of natural phenomena”; even the articulation of an observation that runs counter to the dominant paradigm can only be “formulated by altering the language with which nature [is] described.” (<a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">Thomas Kuhn</a>)</p>
<blockquote>
<p>Consider the compound sentence, “In the Ptolemaic system planets revolve about the earth; in the Copernican they revolve about the sun.” Strictly construed, that sentence is incoherent. The first occurrence of the term “planet” is Ptolemaic, the second Copernican, and the two attach to nature differently. For no univocal reading of the term “planet” is the compound sentence true. — Thomas Kuhn, <a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">What are Scientific Revolutions?</a></p>
</blockquote>
<p>Similarly, object-orientation pervades our language, on the one hand. That “objects change as time elapses” is a statement of obvious fact betrays the object-oriented presumption embedded in our language. “Object” (and “identity”), “change” (and “state”), and “time” work together to describe a coherent <em>object-oriented</em> view. On the other hand, objects orient our perception of our own physical reality.</p>
<blockquote>
<p>Modeling with objects is powerful and intuitive, largely because this matches the perception of interacting with a world of which we are part. — <a href="https://web.mit.edu/alexmv/6.037/sicp.pdf">SICP</a> Section 3.5.5</p>
</blockquote>
<p>Look again around the room, bus, park or wherever you find yourself reading this sentence, and you will likely identify “a collection of distinct objects,” such as dogs, people, and trees, “whose behaviors may change over time.”</p>
<p>Yet, the behavior of a functional program cannot be described in terms that attribute change to the enduring identity of objects as time elapses. And because of the dominance of object-orientation as reflected in the presumptions of our natural language, we cannot so much as describe the semantics of a functional program except through altering our language and reconstituting our physical reality. Meaningful “identity” must disappear in favor of change itself. “State” must describe the result of change instead of an object quality. “Time” must describe discrete state changes rather than any continuous dynamicness attributable to all objects.</p>
<p>No wonder the functional model may still elicit disbelief. <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time">This essay</a> can be seen as an uphill climb against the gravity of a dominant paradigm; the functional view is perhaps expressible now, but only because of <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time">the arduous work put in above</a>. Our natural language is not so easily distorted, violated and repurposed and our thought patterns are comorbid with our language.</p>
<blockquote>
<p>Until those changes had occurred, language itself resisted the invention and introduction of the sought after new theories. The same resistance by language is, I take it, the reason for Planck’s switch from ‘‘element’’ and ‘‘resonator’’ to ‘‘quantum’’ and ‘‘oscillator.’’ Violation or distortion of a previously unproblematic scientific language is the touchstone for revolutionary change. — Thomas Kuhn, <a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">What are Scientific Revolutions?</a></p>
</blockquote>
<p>As a result, teaching functional programming to anyone is like teaching Copernican astronomy to a Ptolemaic astronomer or quantum mechanics to a Newtonian physicist. We lack the basic language to articulate the underlying concepts. Worse still, the language we do have is endemic to a conflicting paradigm. Perhaps the disparity between the efficacy<sup><a href="#fn1" id="fnref1">[1]</a></sup> and popularity<sup><a href="#fn2" id="fnref2">[2]</a></sup> of functional programming languages is best explained in this light.</p>
<blockquote>
<p>A new scientific truth does not triumph by convincing its opponents and making them see the light, but rather because its opponents eventually die, and a new generation grows up that is familiar with it — Max Plank, <a href="https://pubs.acs.org/doi/pdf/10.1021/ed027p288.1">autobiography</a>, quoted by Thomas Kuhn, <a href="https://en.wikipedia.org/wiki/The_Structure_of_Scientific_Revolutions">The Structure of Scientific Revolutions</a></p>
</blockquote>
<p>Nevertheless, the functional view is indeed expressible as a result of the <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time">work put in above</a>. We can see change as creating something new, instead of altering something of old, and time as a series of successive states. We can alter our language and reimagine our physical reality to support a functional view of change, state and time.</p>
<hr>
<section>
<ol>
<li id="fn1"><p>There are many advantages to functional programming. Programs that deal with mutation are “drastically more difficult” to reason about than ones that do not.</p>
<blockquote>
<p>Referential transparency is violated when we include set! [i.e. assignment operations] in our computer language. This makes it tricky to determine when we can simplify expressions by substituting equivalent expressions. Consequently, reasoning about programs that use assignment becomes drastically more difficult — SICP Section 3.1.3</p>
</blockquote>
<p>In particular, functions avoid <a href="https://www.yegor256.com/2015/12/08/temporal-coupling-between-method-calls.html">temporal coupling</a> since there is no time,</p>
<blockquote>
<p>In general, programming with assignment forces us to carefully consider the relative orders of the assignments to make sure that each statement is using the correct version of the variables that have been changed. This issue simply does not arise in functional programs. — SICP Section 3.1.3</p>
</blockquote>
<p>and dramatically reduce debugging and unit testing complexity since there is no meaningful context.</p>
<blockquote>
<p>“And that is the problem with places. You have this sort of global state that you have to reproduce in order to debug a field problem. That is very very tough.” Rich Hickey, <a href="https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/ValueOfValuesLong.md">The Value of Values</a></p>
</blockquote>
<p>Reified state couches in writing what must otherwise live in a programmer’s heads — each member of a team can read a function signature instead of building up (hopefully) the same working memory for each object. Couching state in language makes it accessible to static language analysis tools. <a href="https://blog.ploeh.dk/2019/07/01/yes-silver-bullet/#bd2d47d8dac2401e936ca7902bc9109d">A compiler may exhaustively permute the set of application states</a> without actually running manually-written (exhaust<em>ing</em>) unit tests. Functional programs are more easily parallelized since they are just functions with no internal model for time.</p>
<blockquote>
<p>Unfortunately, the complexities introduced by assignment become even more problematic in the presence of concurrency. — SICP Section 3.4</p>
</blockquote>
<p>These advantages have been known for decades. John Backus “gave high visibility to functional programming” (SICP Section 3.5.5; also see Simon Peyton-Jones, <a href="https://www.youtube.com/watch?v=re96UgMk6GQ">Escape from the ivory tower: the Haskel journey</a>) through his <a href="https://www.thocp.net/biographies/papers/backus_turingaward_lecture.pdf">Turing Award lecture</a> in 1978, seven years before the creation of <a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a> and thirteen before <a href="https://en.wikipedia.org/wiki/Java_%28programming_language%29">Java</a>. <a href="#fnref1">↩︎</a></p>
</li>
<li id="fn2"><p>The <a href="https://www.tiobe.com/tiobe-index/">20 most popular languages</a> are predominantly imperative or object-oriented. <a href="#fnref2">↩︎</a></p>
</li>
</ol>
</section>




    </div></div>]]>
            </description>
            <link>https://softwarefordays.com/post/fp-as-a-scientific-revolution/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529450</guid>
            <pubDate>Thu, 24 Dec 2020 17:30:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a React Native App for Your Christmas Lights]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25528794">thread link</a>) | @burningion
<br/>
December 24, 2020 | https://www.makeartwithpython.com/blog/minimum-viable-christmas-lights/ | <a href="https://web.archive.org/web/*/https://www.makeartwithpython.com/blog/minimum-viable-christmas-lights/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      <section itemprop="text">
        

<p><img src="https://makeartwithpython.s3-us-west-2.amazonaws.com/mcyds.png" alt="McDonalds!"></p>

<p>There is no shortage of questionable products to connect you and your home to the internet.</p>

<p>Each brings another sketchy WiFi device connected to your network, and another set of microphones, each listening in your home for their special trigger word.</p>

<p>Rather than invite more digital strangers into our home, it feels more appropriate to keep a personal garden of digital things we’ve made.</p>

<p>In today’s post, we’ll build a tiny web application (and iPhone / Android app!) to control Christmas lights that only works when you’re home, and connected to your home network.</p>



<p><img src="https://kpkaiser.s3-us-west-2.amazonaws.com/react-native-christmas1.png" alt="React Native Christmas Lights"></p>

<p>The <a href="https://amzn.to/3hezYGq">Jetson Nano</a> is my favorite platforms for building localized internet of things projects.</p>

<p>It’s an ARM64 device, with four built in USB ports, and was designed to do machine learning at the edge.</p>

<p>We’ll use it as a server for a <a href="https://amzn.to/3pmSe3c">Z-Wave USB Stick</a>. Z-Wave is a protocol that exists to do home automation. Importantly for us, it operates separately from your WiFi.</p>

<p>In my case, I’ve hooked it up to 2 <a href="https://amzn.to/3hgyxHt">outdoor light switches</a>, to turn on and off my Christmas lights.</p>

<p>The light switches come in a waterproof shielding, with a single manual button on them. You can press the button to enable pair mode, and also to manually turn the lights on and off.</p>

<p>Finally, there’s the React Native app running on my iPhone.</p>

<p>Normally, I wouldn’t attempt to build an iPhone app for such a small project.</p>

<p>But <a href="https://expo.io/">Expo</a> has made running code on your phone a great experience. They automatically build and push to your phone via an app and the command line.</p>

<h2 id="building-an-api-for-your-christmas-lights">Building an API for Your Christmas Lights</h2>

<p>The first thing we’ll want to do is check to make sure we’ve got the Z-Wave stick installed and running on our USB drive in the Jetson Nano.</p>

<p>Every time I work with Z-Wave, I forget details of how the Z-Wave network model works. Because of this, I like to open up an IPython session, and start playing around with the network:</p>

<div><div><pre><code><span>import</span> <span>openzwave</span>
<span>from</span> <span>openzwave.option</span> <span>import</span> <span>ZWaveOption</span>
<span>from</span> <span>openzwave.network</span> <span>import</span> <span>ZWaveNetwork</span>

<span># make sure these Z-wave commands get flushed with a time.sleep</span>
<span># also, /dev/ttyACM0 is the name of my USB port for the Z-Stick</span>

<span>options</span> <span>=</span> <span>ZWaveOption</span><span>(</span><span>'/dev/ttyACM0'</span><span>)</span>
<span>options</span><span>.</span><span>lock</span><span>()</span>

<span>network</span> <span>=</span> <span>ZWaveNetwork</span><span>(</span><span>options</span><span>)</span>

<span># the next two lines start an IPython session in line</span>
<span>import</span> <span>IPython</span>
<span>IPython</span><span>.</span><span>embed</span><span>()</span>
</code></pre></div></div>

<p>From here, I start to remember how things work, and see that <code>list(network.nodes.keys())</code> gives me a list of the <code>nodes</code> connected to the Z-Wave network. Because I’m in IPython, I can also tab through each object to see the functions available.</p>

<p>But how do you know what capabilities each Z-Wave node has?</p>

<p>Some Z-Wave devices have multiple switches built into them, each potentially with their own dimmer. To grab switches, we need to do a <code>list(network.nodes[node].get_switches.keys())</code>.</p>

<p>Putting it all together, we can then set state on each node with a <code>set_switch</code> function call:</p>

<div><div><pre><code><span>node_list</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>.</span><span>keys</span><span>())</span>
<span>for</span> <span>node</span> <span>in</span> <span>node_list</span><span>:</span>
    <span>switches</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switches</span><span>()</span><span>.</span><span>keys</span><span>())</span>
    <span>if</span> <span>switches</span><span>:</span>
        <span>if</span> <span>change</span><span>[</span><span>'state'</span><span>]</span> <span>==</span> <span>'ON'</span><span>:</span>
            <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>True</span><span>)</span>
        <span>else</span><span>:</span>
            <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>False</span><span>)</span>
</code></pre></div></div>

<p>Now that I know how to effect change, I can build an API in Flask to serve up changes:</p>

<div><div><pre><code><span>@app.route</span><span>(</span><span>'/state'</span><span>,</span> <span>methods</span><span>=</span><span>[</span><span>'GET'</span><span>,</span> <span>'POST'</span><span>])</span>
<span>def</span> <span>get_state</span><span>():</span>
    <span>if</span> <span>request</span><span>.</span><span>method</span> <span>==</span> <span>'GET'</span><span>:</span>
        <span>node_list</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>.</span><span>keys</span><span>())</span>
        <span>ON</span> <span>=</span> <span>False</span>
        <span>for</span> <span>node</span> <span>in</span> <span>node_list</span><span>:</span>
            <span>switches</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switches</span><span>()</span><span>.</span><span>keys</span><span>())</span>
            <span>if</span> <span>switches</span><span>:</span>
                <span>state</span> <span>=</span> <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switch_state</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>])</span>
                <span>if</span> <span>state</span><span>:</span>
                    <span>ON</span> <span>=</span> <span>True</span>
                    <span>continue</span>
        <span>if</span> <span>ON</span><span>:</span>
            <span>return</span> <span>jsonify</span><span>({</span><span>'state'</span><span>:</span> <span>'ON'</span><span>})</span>

        <span>return</span> <span>jsonify</span><span>({</span><span>'state'</span><span>:</span> <span>'OFF'</span><span>})</span>
    
    <span>change</span> <span>=</span> <span>request</span><span>.</span><span>json</span>

    <span>node_list</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>.</span><span>keys</span><span>())</span>
    <span>for</span> <span>node</span> <span>in</span> <span>node_list</span><span>:</span>
        <span>switches</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switches</span><span>()</span><span>.</span><span>keys</span><span>())</span>
        <span>if</span> <span>switches</span><span>:</span>
            <span>if</span> <span>change</span><span>[</span><span>'state'</span><span>]</span> <span>==</span> <span>'ON'</span><span>:</span>
                <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>True</span><span>)</span>
            <span>else</span><span>:</span>
                <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>False</span><span>)</span>
    <span>time</span><span>.</span><span>sleep</span><span>(</span><span>2</span><span>)</span>
    <span>return</span> <span>jsonify</span><span>(</span><span>change</span><span>)</span>
</code></pre></div></div>

<p>I’ve added a <code>time.sleep</code>, because it can take a bit for the Z-Wave network to propagate state. Two seconds is probably too long to sleep for, but hey, it works, and I’m not in a hurry.</p>

<h2 id="building-a-react-native-app-with-expo">Building a React Native App with Expo</h2>

<p>Again, building an app is usually too much work for such a small project. But it had been a while since I’d built an app, and I kept hearing about React Native, so I decided to give it a go.</p>

<p>I was surprised to be able to have a built version of my app on my phone in under an hour. There’s a new platform called Expo, which handles all of the heavy lifting usually associated with deploying an iPhone app.</p>

<p>Indeed, because my “app” was so small (literally a single button and a single state of <code>ON</code> or <code>OFF</code>), I really didn’t have much to do beyond the basic, example app:</p>

<div><div><pre><code><span>import</span> <span>React</span><span>,</span> <span>{</span><span>useState</span><span>,</span> <span>useEffect</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>
<span>import</span> <span>{</span> <span>StyleSheet</span><span>,</span> <span>Text</span><span>,</span> <span>View</span><span>,</span> <span>Button</span><span>,</span> <span>Alert</span> <span>}</span> <span>from</span> <span>'react-native'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>()</span> <span>{</span>
  <span>const</span> <span>[</span><span>currentState</span><span>,</span> <span>setCurrentState</span><span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>);</span>

  <span>const</span> <span>handlePress</span> <span>=</span> <span>e</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> <span>newState</span> <span>=</span> <span>(</span><span>currentState</span> <span>==</span> <span>'ON'</span><span>)</span> <span>?</span> <span>'OFF'</span> <span>:</span> <span>'ON'</span>
    <span>const</span> <span>data</span> <span>=</span> <span>{</span><span>'state'</span><span>:</span> <span>newState</span><span>}</span>

    <span>const</span> <span>requestOptions</span> <span>=</span> <span>{</span>
      <span>method</span><span>:</span> <span>"POST"</span><span>,</span>
      <span>headers</span><span>:</span> <span>{</span> <span>"Content-Type"</span><span>:</span> <span>"application/json"</span> <span>},</span>
      <span>body</span><span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>data</span><span>)</span>
    <span>}</span>
    <span>fetch</span><span>(</span><span>'http://192.168.1.44:8050/state'</span><span>,</span> <span>requestOptions</span><span>)</span>
      <span>.</span><span>then</span><span>(</span><span>response</span> <span>=&gt;</span> <span>response</span><span>.</span><span>json</span><span>())</span>
      <span>.</span><span>then</span><span>(</span><span>res</span> <span>=&gt;</span> <span>setCurrentState</span><span>(</span><span>res</span><span>.</span><span>state</span><span>))</span>
  <span>}</span>

  <span>useEffect</span><span>(()</span> <span>=&gt;</span> <span>{</span>
    <span>fetch</span><span>(</span><span>'http://192.168.1.44:8050/state'</span><span>).</span><span>then</span><span>(</span><span>res</span> <span>=&gt;</span> <span>res</span><span>.</span><span>json</span><span>()).</span><span>then</span><span>(</span><span>data</span> <span>=&gt;</span> <span>{</span>
      <span>setCurrentState</span><span>(</span><span>data</span><span>.</span><span>state</span><span>);</span>
    <span>})</span>
  <span>},</span> <span>[]);</span>

  <span>return</span> <span>(</span>
    <span>&lt;</span><span>View</span> <span>style</span><span>=</span><span>{</span><span>styles</span><span>.</span><span>container</span><span>}</span><span>&gt;</span>
      <span>&lt;</span><span>Text</span><span>&gt;</span><span>Lights</span> <span>are</span> <span>currently</span> <span>{</span><span>currentState</span><span>}</span> <span>&lt;</span><span>/Text</span><span>&gt;
</span>      <span>&lt;</span><span>Button</span> <span>title</span><span>=</span><span>"Toggle Lights"</span> <span>onPress</span><span>=</span><span>{</span><span>handlePress</span><span>}</span> <span>/</span><span>&gt;
</span>    <span>&lt;</span><span>/View</span><span>&gt;
</span>  <span>);</span>
<span>}</span>

<span>const</span> <span>styles</span> <span>=</span> <span>StyleSheet</span><span>.</span><span>create</span><span>({</span>
  <span>container</span><span>:</span> <span>{</span>
    <span>flex</span><span>:</span> <span>1</span><span>,</span>
    <span>backgroundColor</span><span>:</span> <span>'#fff'</span><span>,</span>
    <span>alignItems</span><span>:</span> <span>'center'</span><span>,</span>
    <span>justifyContent</span><span>:</span> <span>'center'</span><span>,</span>
  <span>},</span>
<span>});</span>
</code></pre></div></div>

<p>Here, you can see the call to my Flask app’s API, on my local area network. I’ve set a static IP address for my Jetson Nano, and am running a Flask server on a non-standard port, <code>8050</code>. I did this because I have other Flask apps running on my Nano.</p>

<p>When the app is opened, a <code>GET</code> request is made to the <code>/state</code> resource. It returns a JSON object, with the current state of the Z-Wave switches. If one is on, the network is considered <code>ON</code>.</p>

<p>From here, we can press a single button, to flip the state. This makes a <code>POST</code> request to the <code>/state</code> resource, with the desired new state.</p>

<p>I can build the app from my terminal to the Expo App on my phone via an <code>expo build:ios</code>. Once that’s done, I can open up the Expo app and control my Christmas lights.</p>

<p>Mission Accomplished!</p>

<h2 id="alright-im-sold-wheres-the-code">Alright I’m sold, where’s the code?</h2>

<p><img src="https://makeartwithpython.s3-us-west-2.amazonaws.com/christmas-lights.gif" alt="Pressing the button"></p>

<p>All of the code is open source, and lives on <a href="https://github.com/burningion/minimum-viable-christmas-lights">Github</a>. I didn’t mention it, but there’s also a view in the Flask app you can visit in the browser to control the lights too. You can see it at the <code>/</code> url.</p>

<p>I encourage you to make your app look better than mine, and share the results.</p>

<p>Happy holidays!</p>

        
      </section>

      

      


      
  

    </div></div>]]>
            </description>
            <link>https://www.makeartwithpython.com/blog/minimum-viable-christmas-lights/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528794</guid>
            <pubDate>Thu, 24 Dec 2020 16:19:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Emerging languages and frameworks to watch in 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25528773">thread link</a>) | @jeremybasso
<br/>
December 24, 2020 | https://jeremybasso.dev/5-emerging-languages-and-frameworks-to-watch-in-2021 | <a href="https://web.archive.org/web/*/https://jeremybasso.dev/5-emerging-languages-and-frameworks-to-watch-in-2021">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>2020 has been an awesome year for developers, and we can expect 2021 to be the same. This is why I decided to share with you some of the languages and frameworks I expect to take over the world in 2021.</p>
<h2 id="deno">Deno</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608822461114/qkKraPGRu.png?auto=compress" alt="deno.png"></p>
<p>Deno is a runtime for Javascript launched this year. It has lived a fair amount of attention since the creator of Deno is known to be the creator of Node.js. One of the focuses of Deno is to rise where Node.js has difficulties. </p>
<p>Deno is completely written in Rust, using the V8 engine, and shows some impressive performance insights. </p>
<p>Here are some awesome pointers for Deno:</p>
<ul>
<li>Secure by default: security is ensured by the runtime until you make some breaking changes</li>
<li>TypeScript support</li>
<li>Ships executable file</li>
<li>URL-based dependency management (no more npm or yarn)</li>
<li>very cool logo (I like dinosaurs)</li>
</ul>
<p>For all those reasons, the rise of Deno may be something to notice in 2021, and we can expect Deno to steal some light from Node.js in the future.</p>
<h2 id="kotlin">Kotlin</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608823329851/UC0BFqhX3.png?auto=compress" alt="kotlin_+.png"></p>
<p>Kotlin is a JVM-based language launched in 2017 by the fantastic company JetBrains. The idea is to keep concepts from Java while eliminating boiler-plates and improving the developer experience.</p>
<p>An interesting point is that Kotlin and Java are interoperable, meaning you can add Kotlin to your Java project, or Java to your Kotlin project (why would you do that ?).</p>
<p>Kotlin kept rising inside the Android ecosystem, becoming a supported language with Java and is now the main language for Android developers.</p>
<p>I have been using Kotlin for backend development for some years now, and I can ensure that the language is mature and I had a great developer experience. If you come from Java, there are high chances you will never go back to Java again after trying Kotlin.</p>
<p>Also, Kotlin Multi-Platform is a project to use Kotlin as a language for multi-platform development (iOS, Android, Web). While still being at an early stage, the project saw some great companies such as Netflix or VMWare give a try to Kotlin MP, which a sign of great potential.</p>
<p>Kotlin will keep rising in 2021, and you can expect it to take over the JVM-based languages.</p>
<h2 id="flutter">Flutter</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608824604977/w1ts7oclN.jpeg?auto=compress" alt="flutter-banner.jpg"></p>
<p>Flutter is an open-source SDK allowing users to develop mobile applications using only one codebase written in Dart. It was created by Google in 2015 and </p>
<p>Over the years, a lot of frameworks were created to avoid writing code for Android and for iOS by using one codebase instead: Xamarin, Ionic, Cordova, React Native ...
If you tried some of them, you may have seen some issues such as performances, or specific bugs on specific devices.</p>
<p>Flutter, even though it is not perfect, manages to solve some of those issues. </p>
<p>By using an ahead-of-time compilation, meaning before the execution, Flutter ensures high performances on devices. Maintaining a high FPS rate is not something rare in Flutter while being impossible in React Native as an example.</p>
<p>Also, Flutter is working at a very low level using C++ based libraries. Flutter directly writes on the screen using the Skia graphic library, thus maintaining performance.</p>
<p>In terms of developer experience, I suggest you all give it a try. With Flutter, you can create your UIs programmatically, enjoy features such as dev tools, or hot reload, which is really refreshing.</p>
<p>Flutter already some great app references, such as The New York Times, Tencent, or the Google Assistant, showing huge maturity.</p>
<p>We can expect Flutter to take over the multi-platform mobile development in 2021.</p>
<h2 id="rust">Rust</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608825320545/pnRY3DYsd.png?auto=compress" alt="rust.png">
Rust is an open-source language created by Mozilla in 2010 and launched 1.0 in 2015.</p>
<p>The goal of Rust from the beginning is to be efficient, secure, and performing. The language kept improving for some years now, using the contributions of the community to build the roadmap.</p>
<p>Rust is now in a very good state, putting Rust as one of the best languages in terms of pure performance, making great use of concepts such as functional programming and concurrency. Rust is often mentioned as the successor of C and C++.</p>
<p>We can expect Rust to keep rising in 2021, and become one of the top languages.</p>
<h2 id="solidity">Solidity</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608826038695/ZJ4YVlCfc.png?auto=compress" alt="solidity.png"></p>
<p>Solidity is a language created in 2014 by the Ethereum Solidity team.</p>
<p>If you are not familiar with blockchain, chances are high that you never heard about Solidity.</p>
<p>Solidity is an object-oriented language, mainly designed to write blockchain smart contracts. It is a leader from the start because it is one of the main languages for the Ethereum implementation, which is one of the top crypto-currencies currently (number two). </p>
<p>Some private blockchains are using Solidity as well, such as HyperLedger.</p>
<p>With the rise of ICO as a funding tool for crypto-currencies, Solidity developers became an essential resource. Indeed, for an Initial Coin Offering, you will need to write (at least on paper) implementation of your future currency, involving tech experts in the matter. </p>
<p>We can expect Solidity to keep rising in the developers market in 2021, with growth tied to the blockchain environment growth.</p>
<h2 id="conclusion">Conclusion</h2>
<p>With Deno, Flutter, Kotlin, Rust, and Solidity, we have 5 strong contenders for the most high-potential languages and frameworks in 2021!</p>
<p>Let me know in the comments if you think of some others!</p>
<p><strong>Thanks for reading !</strong></p>
</div></div>]]>
            </description>
            <link>https://jeremybasso.dev/5-emerging-languages-and-frameworks-to-watch-in-2021</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528773</guid>
            <pubDate>Thu, 24 Dec 2020 16:17:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In CPython, types implemented in C are part of the type tree]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 78 (<a href="https://news.ycombinator.com/item?id=25528557">thread link</a>) | @todsacerdoti
<br/>
December 24, 2020 | https://utcc.utoronto.ca/~cks/space/blog/python/CPythonCTypesHaveTree | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/python/CPythonCTypesHaveTree">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>In CPython, types implemented in C actually are part of the type tree</h2>

	<p><small>December 24, 2020</small></p>
</div><div><p>In Python, in theory all types descend from <code>object</code> (they are
direct or indirect subclasses of it). For years, I've believed (and
written) that this was not the case at the implementation level for
types written in native C code in CPython (the standard implementation
of Python and the one you're probably using). Types written in C
might behave as if they descended from <code>object</code>, but I thought their
behavior was actually entirely stand-alone, implemented by each
type separately in C. Courtesy of <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">Python behind the scenes #6:
how Python object system works</a>,
I've discovered that I'm wrong.</p>

<p>In CPython, C level Python types are not literally subclasses of
the C level version of <code>object</code>, because of course C doesn't have
classes and subclasses in that sense. Instead, you usually describe
your type by defining a <a href="https://docs.python.org/3/c-api/typeobj.html"><code>PyTypeObject</code></a> struct for it, with
all sorts of fields that you fill in or don't fill in as you need
them, including a <a href="https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_base"><code>tp_base</code></a> field
for your base type (if you want more than one base type, you need
to take the alternate path of a <a href="https://docs.python.org/3/c-api/typeobj.html#heap-types">heap type</a>). When
CPython needs to execute special methods or other operations on
your type, it will directly use fields on your <code>PyTypeObject</code>
structure (and as far as I know, it only uses those fields, with
no fallbacks). On the surface, this looks like the <code>tp_base</code> field
is essentially decorative and is only used to report your claimed
<code>__base__</code> if people ask.</p>

<p>However, there is a bit of CPython magic hiding behind the scenes.
In order to actually use a <code>PyTypeObject</code> as a type, you must
register it and make it ready by calling <a href="https://docs.python.org/3/c-api/type.html#c.PyType_Ready"><code>PyType_Ready</code></a>. As part
of this, <code>PyType_Ready</code> will use your type's <code>tp_base</code> to fill
in various fields of your <code>PyTypeObject</code> if you didn't already do
that, which effectively means that your C level type will inherit
those fields from its base type (and so on all the way up to
<code>object</code>). This is outlined in <a href="https://docs.python.org/3/c-api/typeobj.html#cols">a section of the C API</a>, but of course
I never read the C API myself because I never needed to use it.
The <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">how [the] Python object system works</a>
article has more details on how this works, if you're curious, along
with details on how special methods also work (which is more
interesting than I had any idea, and I've looked at this area
before).</p>

<p>(The distinction between what is considered a 'type' and what is
considered a 'class' by <code>repr()</code> is somewhat arbitrary; see the
sidebar <a href="https://utcc.utoronto.ca/~cks/space/blog/python/ClassesAndTypes">here</a>. C level things defined with
<code>PyTypeObject</code> will probably always be considered types instead of
classes.)</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/python/CPythonCTypesHaveTree</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528557</guid>
            <pubDate>Thu, 24 Dec 2020 15:54:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hotwiring the Web: What Does Basecamp’s “New Magic” Bring to the Table?]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25528426">thread link</a>) | @davish
<br/>
December 24, 2020 | https://davi.sh/blog/2020/12/hotwiring-the-web/ | <a href="https://web.archive.org/web/*/https://davi.sh/blog/2020/12/hotwiring-the-web/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://hotwire.dev/">Hotwire</a>, which seems to be short for (H)tml (O)ver (T)he (Wire), is a collection of frameworks just announced by Basecamp that work together to help build "traditional" server-rendered web applications that look and feel to users like modern, Single-Page Applications (SPAs) built in React, Angular, Vue or other frontend frameworks. <a href="https://m.signalvnoise.com/html-over-the-wire/">Basecamp's CTO put out a blog post</a> on why he believes in Hotwire, but most of the justification seems to be handwavy claims that JavaScript is inherently "complex," never mind that Ruby's syntax and dynamic type system can be just as head-scratching to a newcomer. I think that Basecamp's built a really interesting tool, and a better argument for Hotwire can be made by fully engaging with the benefits that SPA "<a href="https://www.computerhope.com/jargon/t/thickcli.htm">thick clients</a>" bring to the table, their specific shortcomings, and all the different ways framework developers are trying to address those shortcomings today.</p><h2 id="headline-1">Problems with Web Application Development Today</h2><p>I want to separate "web app" development from general "web" development, simply because most websites aren't single-page applications, or web apps in the sense we think of gmail, or <a href="https://hey.com/">hey.com</a>. It's put most concisely in "<a href="https://css-tricks.com/how-the-web-is-really-built/">How the Web is Really Built</a>". Here, though, I'll be talking about that subset of the web which <em>can</em> be categorized more as an application than simply a web site.</p><p>Building a web app is always going to be a complex endeavour. SPA view libraries like React have emerged in the past five or so years as an awesome way to handle that complexity on the client side, allowing developers to build interactive user-interfaces in a composable way, re-using components easily in different parts of the site.</p><h3 id="headline-2">Duplication of Concerns</h3><p>Generally, when building a React app, you get any dynamic data through a loosely coupled JSON API (in my personal preference, probably written with <a href="https://www.django-rest-framework.org/">Django REST Framework</a>). If you're using a web framework like Django or Ruby on Rails, then you're going to have a lot of complexity and business logic on both the frontend and backend. Whenever you add a feature, you need to ask yourself where it should be added. The loose coupling between parts that may very well be written in different languages means that it's really difficult to share code, and even if you're doing something as simple as validating a form, you'll probably end up with a decent amount of duplicated business logic, a big no-no if you follow the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY principle</a>!</p><h3 id="headline-3">Data Fetching Boilerplate</h3><p>Loosely-coupled APIs present another challenge when building web apps: the boilerplate that comes along with getting the data out of your database and displayed in a browser. The general process for an SPA follows this outline:</p><ol><li><p>[User] Navigates to a page, submits a form, or clicks on a resource.</p></li><li><p>[Browser] Send a request, along with any route parameters and arguments, to a backend API endpoint.</p></li><li><p>[Server] API endpoint is called, fetches data from the database using the parameters in the request.</p></li><li><p>[Server] After retrieving data from the database, marshal that data into JSON to be sent back to the client.</p></li><li><p>[Browser] Receive JSON from request, un-marshal the JSON into data structures that the web app can understand.
For a React app, this would include passing the data as props to each component that uses the data to for render itself.</p></li></ol><p>And that's only the happy path! In the case of a validation error, for example, the server would return a 400 response with some JSON details, and the client again would need to catch that error, and render it properly. It really is a lot of boilerplate for any given request.</p><p>There are frontend libraries like <a href="https://swr.vercel.app/">SWR</a> which factor out as much boilerplate as possible and encourage declarative patterns for your own data fetching, but "thick client" web apps will always need to marshal data to JSON on the server, and un-marshal to some view-able format on the client.</p><h2 id="headline-4">Managing SPA Complexity in 2020</h2><p>There's a bunch of different solutions to these problems for those who still want to provide an SPA experience, and they fall broadly into two separate categories.</p><h3 id="headline-5">Frontend-First: The JAMStack</h3><p>In recent years, there's been a big push towards the <a href="https://jamstack.org/what-is-jamstack/">JAMStack</a>: pushing all your complexity and business logic onto your frontend, and relying mostly on commodified API services for your backend work. JSON is still the lingua franca here, but reliance on pre-built backends as a service for different functionalities, along with query languages like GraphQL, means that there isn't any backend boilerplate handled by developers. All the complexity and business logic is pushed to the client-side, which alleviates worries about duplication of concerns.</p><p>JAMStack and associated "micro-backends" like <a href="https://auth0.com/">Auth0</a>, or "backends-as-a-service" like <a href="https://supabase.io/">Supabase</a> and <a href="https://firebase.google.com/">Google Firebase</a> allow people who haven't done too much backend work in the past to build truly full-stack apps on their own. <a href="https://m3o.com/">m3o</a> is even building a constellation of JAMStack-oriented "micro-services" to provide the batteries to power most web apps. Hmmâ€¦ "batteries included"? Where <a href="https://www.phoenixframework.org/">have</a> we <a href="https://www.djangoproject.com/">heard</a> <a href="https://laravel.com/">that</a> <a href="https://rubyonrails.org/">before</a>â€¦</p><h3 id="headline-6">Backend-First: Re-discovering the batteries</h3><p>MVC Frameworks like Django and Rails came about during the heyday of Web 2.0 to abstract away a lot of the boilerplate associated with building CRUD web applications, the exact issues that we spoke about above. Back in 2006, all those interactions were through normal browser HTTP requests. SPAs, built with anything from <a href="https://backbonejs.org/">Backbone</a> or <a href="https://emberjs.com/">Ember</a> to React and Vue, were more responsive. These web frameworks became frameworks for JSON API servers, and for many web app developers, functionality like Django's <a href="https://docs.djangoproject.com/en/3.1/ref/templates/">templates</a> and <a href="https://docs.djangoproject.com/en/3.1/topics/forms/#more-about-django-form-classes">forms</a> and the battle-tested <a href="https://docs.djangoproject.com/en/3.1/topics/class-based-views/generic-display/">abstractions</a> for linking them together became vestiges of an earlier age. Django's <code>Form</code> classes can render validation errors in templates with virtually no boilerplate written by developers. As soon as you want to put that form action over a JSON API, any responses from your server, which were previously just the HTML that the browser displayed, now have to be un-marshalled from JSON on the client and handled specifically. How much was Django really a "batteries included" framework if you needed to pull in <a href="https://www.django-rest-framework.org/">REST Framework</a> and <a href="https://github.com/jazzband/django-oauth-toolkit">OAuth Toolkit</a> whenever you wanted to work with a "modern" frontend?</p><p>Many people, myself included, enjoy modeling business logic in the ways Django and its ilk allow for. Backend-first fullstack frameworks have begun to proliferate built on top of these existing frameworks. <a href="https://www.phoenixframework.org/blog/build-a-real-time-twitter-clone-in-15-minutes-with-live-view-and-phoenix-1-5">Phoenix LiveView</a> and <a href="https://laravel-livewire.com/">Laravel Livewire</a> are two that come to mind immediately, and have been around for a year or more.</p><p>On Monday, even the React Core team at Facebook threw their hat in the ring, with their <a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html">Server Components</a> that have the opportunity to allow for React components to be rendered much like PHP templates, interspersing database calls and server-side JavaScript with the layout description inside a server component's <code>render</code> function.</p><p>These fullstack frameworks go a long way towards solving both of the concerns with traditional SPAs listed above. Separation of concerns is no longer an issue, since there is no separate, loosely coupled frontend codebase. Data fetching is drastically simpler in this paradigm. No longer does all your data need to be serialized to JSON before being converted into HTML; your data-fetching flow looks a lot more like this:</p><ol><li><p>[User] Navigates to a page, submits a form, etc.</p></li><li><p>[Server] Backend route is called, fetches/stores appropriate data from the database based on the request.</p></li><li><p>[Server] Data is used to populate an HTML template, which is sent to the client and rendered with the help of the framework.</p></li></ol><p>Your backend business logic renders HTML directly, completely replacing steps 3, 4 and 5 above with a single step: map your data into its visual representation in HTML. The two server steps remaining <em>are</em> the actual business logic in your application: the full-stack framework handles the smooth transitions, without the developer having to worry about serializing and de-serializing their own data. The logical flow of your application becomes a lot simpler for a single developer to follow and to handle.</p><p>Even React's Server Components fit this new paradigm: Data fetching no longer happens in AJAX requests, but by declaring a child server component which fetches the data and displays it in its own DOM tree without the developer having to serialize to/from JSON themselves. After the component renders on the backend, its virtual DOM gets sent to the frontend <em>by React itself</em> for display. The developer's interface into this whole process remains high-level and declarative.</p><h3 id="headline-7">As the Pendulum Swings</h3><p>We started the decade with frameworks like <a href="https://www.meteor.com/">Meteor.js</a> with extremely tight couplings between the client and server, and after a long time wandering in the wilderness of duplicated compelxity across loosely-coupled frontend and backend, it seems like we're entering the twenties with a renewed push towards a <a href="https://m.signalvnoise.com/the-majestic-monolith/">more monolithic</a> approach to web development. When even a frontend framework like React is beginning to bridge the gap with the backend, you know it's an interesting idea to explore right now.</p><h2 id="headline-8">So what is Hotwire?</h2><p>The folks at Basecamp, the company behind Hotwire, have always been skeptical of thick clients with loads of JavaScript. Hotwire is Basecamp's latest answer to the challenge of building modern, responsive, "snappy" single-page applications where the domain logic lives entirely on the server. They used it to build out their new email service, Hey.com.</p><p>At Hotwire's core is <a href="https://turbo.hotwire.dev/">Turbo</a>, a new library that takes HTML from AJAX requests and dynamically modifies the currrent page. It comes out of an existing library called Turbolinks, now called "<a href="https://turbo.hotwire.dev/handbook/drive">Turbo Drive</a>" as of today, which is a utility that intercepts all click events on anchor tags, loads the resources over AJAX, and swaps out the <code>&lt;body&gt;</code> tags, all while handling browser history.</p><p><a href="https://turbo.hotwire.dev/handbook/frames">Turbo Frames</a>, one of the new components, is pretty intriguing. Turbo Drive will still AJAX-ify form submissions and link clicks behind the scenes, but instead of swapping out the entire …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://davi.sh/blog/2020/12/hotwiring-the-web/">https://davi.sh/blog/2020/12/hotwiring-the-web/</a></em></p>]]>
            </description>
            <link>https://davi.sh/blog/2020/12/hotwiring-the-web/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528426</guid>
            <pubDate>Thu, 24 Dec 2020 15:42:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Polymath Playbook]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25527893">thread link</a>) | @dayve
<br/>
December 24, 2020 | https://salman.io/blog/polymath-playbook/ | <a href="https://web.archive.org/web/*/https://salman.io/blog/polymath-playbook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		


		

		<div>
			<p>You’ve likely heard the saying: “A jack of all trades is a master of none.” It warns against the futility of pursuing too many disciplines. Be a specialist, or you’ll be nothing.</p>
<p>It may surprise you to learn there’s actually an extended version: “A jack of all trades is a master of none, but oftentimes better than a master of one.” With a subtle addition, its meaning becomes inverted to tout the benefits of being a polymath (a.k.a. generalist).</p>
<p>Why is the former so common, and the latter so unknown?</p>
<p>The answer lies in modern society’s preference for <strong>specialization</strong>. We’ll explore its origin, the limits it places on workers’ freedoms, and how the polymath approach can offer a reprieve. Finally, I’ll share my own experiences and learnings exploring a multitude of pursuits.</p>
<h2 id="cost-of-specialization">Cost of Specialization</h2>
<p>Following unprecedented growth during the industrial revolution, businesses faced more competition than ever before. In order to thrive, they sought new ways to operate more efficiently and productively. Division of labor was the solution they were looking for. By dividing the tasks needed to produce goods and services, individual workers could focus on specific tasks rather than developing a variety of expertise.</p>
<p>One important criteria to optimize for specialization is ensuring that workers stay in the same role for prolonged periods of time. This facilitates increased efficiency by reducing the need for training and allowing individuals to iteratively improve their ability to perform similar tasks. In exchange for their loyalty, the company offers its employees the security of long-term employment, along with additional incentives including tax-sheltered retirement accounts and access to healthcare.</p>
<p>In some parts of the world, these benefits come at a heavy cost to an individual’s freedom. In the United States for example, if you’re employed with a company, you get healthcare. Otherwise, you’re out of luck. Workers are often hesitant to switch jobs (let alone spend extended time without one) out of fear of losing their healthcare benefits. Another part of the problem is that the cost of healthcare in the U.S. is so high. A few days without healthcare and a single accident can push someone into financial ruin. As a result, many people stay at the same job year after year <a href="https://www.forbes.com/sites/jackkelly/2019/10/25/more-than-half-of-us-workers-are-unhappy-in-their-jobs-heres-why-and-what-needs-to-be-done-now/#e8bfe3d20247" target="_blank">even if they’re unhappy</a>.</p>
<p>The lack of freedom might be a worthy sacrifice in exchange for job security. But therein lies the problem: few companies can actually guarantee long-term stability. Many workers already face ambiguity with their job security due to the impending effects of automation. Now, with the tornado of change brought about by the COVID pandemic, the brittleness of even large corporations’ stability has become apparent.</p>
<p>So how do we survive these waves of change? <strong>Adaptability</strong>.</p>
<p>Workers need to embrace a life of learning and self-evolution in order to thrive.</p>
<blockquote>
<p>In order to keep up with the world of 2050, you will need not merely to invent new ideas and products – you will above all need to reinvent yourself again and again.
—Yuval Noah Harari</p>
</blockquote>
<p>Luckily, we have a template for how to do just that: the <strong>polymath</strong>.</p>
<p>Polymaths engage in extended learning across disparate fields, and apply their learnings to connect ideas and solve problems in unique ways. By nature, they’re well suited to thrive in a constantly changing environment.</p>
<h2 id="polymath-advantage">Polymath Advantage</h2>
<p>The key advantage that polymaths hold is their ability to develop <strong>mental models</strong> from different fields and apply them to solve problems in a unique way. This enables them to <strong>differentiate</strong> from their competition. Further, it creates opportunities for them to find truly <strong>meaningful work</strong> by pursuing their passions.</p>
<h3 id="differentiation">Differentiation</h3>
<p>One of the challenges with specialization is that it becomes harder to compete over time. This is a bit counter-intuitive. At first you might think the more ‘specialized’ you become, the more ‘rare’ your skillset is and thus, the better you are in terms of competition. There are two issues that arise as you continue down the path of linear specialization:</p>
<p><strong>1.</strong> <strong>Over-specialization</strong>: This often happens to PhD students who have pursued very niche, highly specific areas of expertise. It’s rare to find jobs that can actually serve their level of specialization. They find themselves given a choice to continue their career in academia, or take a less desirable job in the workforce that doesn’t actually leverage their unique skills.</p>
<p><strong>2.</strong> <strong>Diminishing returns</strong>: The larger your team is, the more difficult it becomes to be the <em>absolute best</em> in a particular area. As a simple example: It’s quite difficult to become the most technically proficient engineer in a given company. However, it’s much more straightforward to differentiate yourself through excellent communication skills, design sensibilities, leadership skills, and so on.</p>
<p>Once you hit the diminishing returns of specialization on one pursuit (<strong>the limits of depth</strong>), it makes sense to expand to other pursuits and diversify your skills (<strong>the opportunities of breadth</strong>).</p>
<h3 id="mental-models">Mental Models</h3>
<p>When you work in a particular industry for a while, you start to develop mental models based on its structures and dynamics. These are widely known <em>within</em> the industry, but not as much outside of it.</p>
<p>There’s where the opportunity comes in. If you find yourself working in a new area later in your life, you can combine mental models from different areas in ways that few others can.</p>
<blockquote>
<p>In the 17th century, Johannes Kepler didn’t have a wealth of existing knowledge or technology to work with. There was no concept of gravity as a force, and he had no notion of momentum that keeps the planets in motion.</p>
<p>Analogies were all he had.</p>
<p>From research on magnets, Kepler began to understand why planets moved toward and away from the sun. By picturing how boats might move in a whirlpool, Kepler began to understand the elliptical orbit patterns of planets.</p>
<p>—David Epstein, <em>Range</em></p>
</blockquote>
<p>The more pursuits you expose yourself to, the more models you have to work from, and the more you can stand out from the competition.</p>
<h3 id="purpose">Purpose</h3>
<p>I believe the strongest reason polymaths become polymaths is that they simply don’t have a choice. The urge to pursue one’s inner passions is strong, and those blessed with a variety of them often find them difficult to ignore.</p>
<p>The polymath’s search for meaning and purpose through different pursuits can be related to the Japanese concept of <em>Ikigai</em> (“a reason for being”):</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/18d8ec9ae04a2c4c035133ad9aab1f75d1df93f7/200f9/img/ikigai.jpg">
</p>
<p>It can take many years or even decades before one sees any intersection between different circles. Yet a single taste can be intoxicating, and motivate a lifetime of pursuit.</p>
<p>What purpose could be greater than discovering purpose itself?</p>
<h2 id="my-inner-fox">My Inner Fox</h2>
<p>When I first began to study polymaths, I was excited to see a template for a life I didn’t know I was living. But when I started to embrace the polymath identity, my inner critics appeared. I wondered whether I’m even qualified to write about polymaths, let alone call myself one. After all, the <a href="https://salman.io/notes/the-definition-of-a-polymath">the definition of a polymath</a> is somewhat murky. I’ve spoken to a lot of peers who feel this same hesitation, and it’s been refreshing to connect with others who are taking a similar approach to life.</p>
<p>I also got a boost of confidence from a book called <em>Hedgehog and the Fox</em> by Isaiah Berlin. The book is a major source of inspiration for the generalist approach, and contrasts two proverbial animals: the specialist hedgehog and the generalist fox. I was elated to discover that the spirit animal for my <em><a href="https://letter.salman.io/" target="_blank">Quick Brown Fox</a></em> newsletter (inspired by <em>The Little Prince</em>’s fox) was incredibly prescient. It seems my destiny as a polymath fox was written long ago…</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/0450a5b1e748e81b5268216cb24537296d940d00/2e56c/img/fox.jpg">
</p>
<p>I’ve been lucky to have held a lot of different roles and explored a lot of varied interests in my life. I’ve been a startup founder, software engineer, manager, teacher, public speaker, advisor, DJ and writer. Some of these are roles I’ve explored for decades, while others for just a year. Beyond that, I’ve also spent a lot of time on artistic hobbies like illustration and animation. In hindsight, there were a number of benefits I enjoyed as a result of combining different pursuits.</p>
<p>As a DJ, I had to learn to not just play my playlist, but to pay close attention to the audience and cater to them. Looking back, I think <a href="https://soundcloud.com/daretodj" target="_blank">each one of my sets</a> was a live lesson on how to find product-market fit.</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/a46c9dc99267b1f6c2063c80a13243e7dca38bba/ef187/img/salman-dj.jpg">
</p>
<p>Thanks to my <a href="https://vimeo.com/134677777" target="_blank">obsession with animation</a>, I learned to incorporate the principles of animation into the software I built. Later, when I was building digital healthcare experiences, I was able to use animation to bring the patients’ user experience to life. I brought a different perspective to the healthcare world (specifically: the idea that filling out a form could be <strong>fun</strong>).</p>
<p><a target="_blank" href="https://vimeo.com/134677777?autoplay=1">
    <img src="https://d33wubrfki0l68.cloudfront.net/70b053e6d9945d332a18b5ca6bca42ae4ff61e32/ee79e/img/animation-talk-preview.jpg">
  </a>
</p>
<p>Through extended <a href="https://medium.com/@salmansays/teaching-in-paradise-12159066cd86" target="_blank">teaching stints at software development schools</a>, I built strong communication skills that paid dividends in future public speaking engagements as well as all my daily interactions with coworkers. As it turns out, explaining our ideas is crucial to our effectiveness, and teaching provides excellent practice for this skill.</p>
<p>The list goes on.</p>
<p>I didn’t do any of these things with a goal of being a polymath. I did them because <strong>I was drawn to them</strong>. It took many years before I started to see any benefits from mixing these pursuits.</p>
<p>Now that I’m intentionally embracing a polymath life, I hope to see the benefits compound even more. I’m excited to see how this plays out!</p>
<h2 id="freedom-isnt-free">Freedom Isn’t Free</h2>
<p>We’ve talked a lot about the benefits of the polymath lifestyle. I’d be remiss if I didn’t leave you with a few warnings about the obstacles.</p>
<p>One of the strange things about having multiple pursuits is that <strong>you never quite fit</strong> into social groups. I remember joining an iOS developers group where most of the members had been doing iOS development for more than a decade. Meanwhile, I had worked on countless platforms, in different roles across a variety of industries. We may have been in the same group, but we had lived completely different …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://salman.io/blog/polymath-playbook/">https://salman.io/blog/polymath-playbook/</a></em></p>]]>
            </description>
            <link>https://salman.io/blog/polymath-playbook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25527893</guid>
            <pubDate>Thu, 24 Dec 2020 14:50:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why I'm Losing Trust in the Institutions]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25527385">thread link</a>) | @elsewhen
<br/>
December 24, 2020 | https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff318afb6-8f85-48ba-a2a1-ff939ef474ac_6048x4024.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff318afb6-8f85-48ba-a2a1-ff939ef474ac_6048x4024.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f318afb6-8f85-48ba-a2a1-ff939ef474ac_6048x4024.jpeg&quot;,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:11570082,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>Who should be first in line to get the vaccine against Covid-19?</p><p>These kinds of decisions are never easy, and there are many competing considerations. Highly trained moral philosophers can have deep disagreements about them. Though I myself have studied ethics and political philosophy for much of my academic career, I am deeply grateful that I don't have to make those judgment calls. But for all of those difficulties, there are also some bedrock principles on which virtually all moral philosophers have long agreed.</p><p>The first is that we should avoid “leveling down” everyone’s quality of life for the purpose of achieving equality. It is unjust when some people have plenty of food while others are starving. But alleviating that inequality by making sure that an even greater number of people starve is clearly wrong. The second is that we should not use ascriptive characteristics like race or ethnicity to allocate medical resources. To save one patient rather than another based on the color of their skin rightly strikes most philosophers—and most Americans—as barbaric.&nbsp;The Centers for Disease Control have just thrown both of these principles overboard in the name of social justice.</p><p>In one of the most shocking moral misjudgments by a public body I have ever seen, the CDC invoked considerations of “social justice” to recommend providing vaccinations&nbsp;to essential workers before older Americans even though this would, according to its own models, lead to a much greater death toll. After a massive public outcry, the agency has adopted revised recommendations. But though these are a clear improvement, they still violate the two bedrock principles of allocative justice—and are likely to cause unnecessary suffering on a significant scale.</p><p>Since states will now have to decide whether to follow the CDC’s recommendations, the fight for a just distribution of the vaccine is not yet over. At the same time, the past days have already taught us two lessons that sum up some of the most worrying developments of the past years: The attack on philosophically liberal principles has by now migrated from leafy college campuses to the most important and powerful organizations in the country. And, in part as a result, it is getting harder and harder to trust institutions from the CDC to the <em>New York Times</em>.</p><p><em>To learn more about Persuasion, <a href="https://www.persuasion.community/p/the-purpose-of-persuasion">read our founding manifesto</a>.</em></p><p>On November 23rd, Kathleen Dooling, a public health official at the CDC, <a href="https://www.cdc.gov/vaccines/acip/meetings/downloads/slides-2020-11/COVID-04-Dooling.pdf">gave a presentation</a> to the&nbsp;Advisory Committee on Immunization Practices&nbsp;(ACIP), which is tasked with developing the recommendation on who should first get access to the vaccine against Covid. In a stark departure from the course of action adopted in virtually every other developed democracy, Dooling recommended that 87 million essential workers—a very broad category including bankers and movie crews as well as teachers or supermarket cashiers—should get the vaccine before older Americans, even though the elderly are much more likely to die from the disease. The committee unanimously accepted the recommendations.</p><p>Dooling’s presentation laid out three different metrics for evaluating whether 87 million “essential workers” or Americans over the age of 65 should be next in line: feasibility, science, and ethics. According to the CDC's own evaluation, considerations of feasibility give us reasons to prioritize older Americans. This makes sense. It is both difficult to determine who should count as an essential worker and to communicate to people who do fall into that category that they are eligible. A straightforward age cut-off makes it easier to decide who's in and reach the target population. As a result, prioritizing the older than 65s leads by this metric.</p><p>Considerations of “science” also seemed to point in the same direction. As the presentation acknowledged, the likelihood of dying from Covid strongly depends on age. According to the CDC’s model, prioritizing essential workers over the elderly would therefore increase the overall number of deaths by between 0.5% and 6.5%. In other words, it would likely result in the preventable deaths of thousands of Americans.</p><p>And yet, the presentation concluded that science does <em>not</em> provide a reason to prioritize the elderly. For, as Kathleen Dooling wrote in one of the most jaw-dropping sentences I have ever seen in a document written by a public official, differences in expected consequences that could amount to thousands of additional deaths are “minimal.”</p><p>This allowed Dooling to focus on “ethical” principles in selecting the best course of action. Highlighting the most important consideration in red, Dooling emphasized that “racial and ethnic minority groups are underrepresented among adults &gt; 65.” In other words, America’s elderly are too white to be considered a top priority for the distribution of the vaccine against Covid. It is on this basis that ACIP awarded three times as many points to prioritizing the more racially diverse group of essential workers, making the crucial difference in the overall determination. Astonishingly, the higher overall death toll that would have resulted from this course of action does not feature as an ethical reason to prioritize older Americans.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F781c2d1d-4bc5-4578-86f1-330254e6936e_2556x1430.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F781c2d1d-4bc5-4578-86f1-330254e6936e_2556x1430.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/781c2d1d-4bc5-4578-86f1-330254e6936e_2556x1430.png&quot;,&quot;height&quot;:815,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:191902,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>In the days after ACIP published its preliminary recommendations, barely any epidemiologists or health officials publicly criticized its findings or its reasoning. But thankfully, prominent journalists like <a href="https://zeynep.substack.com/p/will-the-us-snatch-defeat-from-the">Zeynep Tufecki</a>, <a href="https://www.slowboring.com/p/vaccinate-elderly">Matt Yglesias</a> and <a href="https://twitter.com/NateSilver538/status/1340361755403366400">Nate Silver</a> publicly made the case against them. (<a href="https://twitter.com/Yascha_Mounk/status/1340009058280103938">So did I</a>.)</p><p>It is, all of us acknowledge, very important to ensure that members of ethnic minorities are not excluded from access to the vaccine on the basis of their race. But to prioritize a 23-year-old Latino Uber driver who is very likely to weather infection with Covid over an 80-year-old white retiree who is likely to die from it because the former is part of a group that includes marginally more brown people and the latter is part of a group that includes marginally more white people is to inscribe racial discrimination at the heart of American public policy in an astonishing manner.</p><p>It gets even more shocking. The difference in the percentage of white people across age groups is comparatively small. The difference in the percentage of infected people who succumb to Covid across all age groups is massive. Giving the vaccine to African-American essential workers before elderly African-Americans would likely raise the overall death toll of African-Americans even if a somewhat greater number of African-Americans were to receive the vaccine as a result.</p><p>In other words,&nbsp;the CDC was effectively about to recommend that a greater <em>number</em> of African-Americans die so that the <em>share</em> of African-Americans who receive the vaccine is slightly higher.&nbsp;In blatant violation of the “leveling down objection,” prioritizing essential workers in the name of equality would likely kill more people in&nbsp;<em>all</em>&nbsp;relevant demographic groups.</p><p>As criticism of the recommendations mounted, epidemiologists mostly circled the wagon. But thankfully, the pressure was too strong to ignore. At a meeting that had, before the mounting controversy, been expected to rubber-stamp the recommendations that had already been unanimously accepted, ACIP changed course. It now suggested a more complicated scheme. Once medical workers had received the vaccine, both Americans over the age of 74 and essential <em>frontline</em> workers would be vaccinated; in a second phase, Americans over the age of 64 and the broader group of all remaining essential workers would get access to the vaccine.</p><p>Since over half of all deaths from Covid have so far occurred among Americans over the age of 74, this is an undoubted improvement over the initial guidance. But, for two reasons, it too probably sacrifices American lives on the altar of social justice. First, vaccinating Americans over the age of 74 <em>over the same period of time </em>as frontline essential workers will significantly delay when some of those who are at greatest risk will receive the vaccine. And second, starting to vaccinate Americans between the ages of 65 and 74 <em>after </em>30 million frontline essential workers will still put a large group with a comparatively low risk of death ahead of a large group with a significantly higher risk of death. </p><p>Just how many additional deaths will result from the ongoing refusal to prioritize those who are at the highest risk of dying? The CDC won’t tell us. In the updated presentation, Dooling once again claims that the difference between the CDC’s preferred course of action and a more strictly age-based approach is “minimal.” But this time around, ACIP has hidden the ball. The updated guidance, which was adopted with a 11-1 majority on December 20th, no longer includes an estimate of how many more people are likely to die if states follow its recommendation.</p><p><em>Get our articles directly into your inbox, and support the work of Persuasion, by <a href="https://www.persuasion.community/subscribe">becoming a subscriber</a>.</em></p><p>Over the past years, stories of campus craziness have frequently made the national news. Whenever some student group or another tried to stop a public figure from speaking at their university, or boycotted the local dining hall over the inauthentic nature of its sushi, many people understandably responded in a dismissive manner: “Activists on campus have always been a little silly,” they’d say. “This won't affect the real world.”</p><p>It is now clear that this was a serious misjudgment. Many of the trends that started on campus have been rapidly taking over established institutions, from Google to the Centers for Disease Control. Perhaps the most dangerous of these is that many professionals now fear to oppose any proposal that is presented, however implausibly, in the language of social justice—even if its foreseeable consequence is to kill a greater number of African-Americans in the name of “ethics.”</p><p>America’s botched guidance on who gets the vaccine first should, once and for all, put the idea that the excesses of wokeness are a small …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions">https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions</a></em></p>]]>
            </description>
            <link>https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions</link>
            <guid isPermaLink="false">hacker-news-small-sites-25527385</guid>
            <pubDate>Thu, 24 Dec 2020 13:46:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Run for Free Xbox]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25526714">thread link</a>) | @derdeat
<br/>
December 24, 2020 | https://www.sotwe.com/tweet/1341973662866485248 | <a href="https://web.archive.org/web/*/https://www.sotwe.com/tweet/1341973662866485248">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.sotwe.com/tweet/1341973662866485248</link>
            <guid isPermaLink="false">hacker-news-small-sites-25526714</guid>
            <pubDate>Thu, 24 Dec 2020 11:46:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Social Media Considered Harmful]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25526518">thread link</a>) | @wslh
<br/>
December 24, 2020 | https://maraoz.com/2020/12/23/bye-social-media/ | <a href="https://web.archive.org/web/*/https://maraoz.com/2020/12/23/bye-social-media/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p><img src="https://maraoz.com/img/bye-social-media/cover.jpg"></p>

<p><span>N</span>ot long ago, we lived in small hunter-gatherer tribes. Social skills evolved along our abilities to use physical tools and language. We spent our days hunting or foraging our food, and had plenty of free time to ponder life. Our survival was dependent upon our social skills. We were rewarded (by the fruits of cooperation) for having friends and social support, and killed (mostly by hunger or predators) if we were antisocial. Our brains developed to be very sensitive to social interactions. The ability to read other’s emotions, give them importance, and respond to them is a part of our hard-wired social brain. It also takes a lot of mental energy.</p>

<p>In the early days of social media, I was (as is usual with me) an avid promoter and ethusiast. Social media is just <em>amazing</em> for so many things: exploring ideas, being up to date with many topics, connecting with tons of people. Social media helped me bootstrap my professional life, and meet some of the most amazing people. However, I’ve now come to believe that in a couple of years, most people will view using social media as unhealthy, like we do today with smoking. We might need to find better ways to get these benefits withtout the costs.</p>

<p>I stopped using Facebook ~3 years ago, and Instagram ~2 years ago. My online life has been much better since. My offline life too. Today (actually,&nbsp;a month ago), I left Twitter. The costs are simply too high for me. I noticed the less I use any of those apps, the calmer my mind, the more I read, and the more time I spend outside, in real contact with other people and nature. These are things I value more than instant access to news and daily contact with thousands of people at this time.</p>

<p>It is very hard to argue that social media is not harmful for most. We are simply not made to continually know what everyone else is doing or thinking, all the time! And it’s not a neutral tech. It is actively addictive and destructive to our volition. Most of the people I’ve talked to say they’d like to use these apps less. Yet somehow they don’t. Our brains are wired to pay attention to each other and to care about what others think about us. Social media is designed to exploit both these things. It is engineered to hook us in, and to influence our behavior. That’s the product Facebook, Instagram and Twitter sell to their customers: changing your ideas and behavior. And they got some pretty talented people working on that.</p>

<p>I don’t really think I can convince anyone to leave social media. I don’t even think it’s bad for everyone or that the benefits can’t outweigh the costs for some. I’m writing this post because many of you will already be close to leaving one of these apps. You’ve been thinking about it already. You’ve already made up your mind about it, and you’re waiting for the right moment. If just one person makes the final step into at least <em>trying</em> to live without social media, I’ll be happy.&nbsp;It has made a huge change for me. If you think this is stupid or I don’t understand the beauty of the Internet, I think you’ll change your mind in a few years. Or social media will ;)</p>

<p>If you do leave social media, feel free to contact me after a couple of months to share experiences. It’s been amazing for me, and I’m not going back. I’m really interested in knowing more about how this change can affect other people’s life. I’m also curious to find new ways to stay in touch with people outside my local community which are less toxic to my mind.</p>

<p>To close this brief post, I’ll share a bold prediction (and hope) on this topic: Facebook, Instagram, and Twitter will have less monthly active users in 2025 than today (~2.6 billion, ~1 billion, ~330 million, respectively). I added this to my <a href="https://maraoz.com/2016/03/20/2026/">predictions for 2026 post</a>.</p>

<h3 id="additional-resources-and-learning">Additional Resources and Learning</h3>
<ul>
  <li><a href="https://www.ted.com/talks/cal_newport_why_you_should_quit_social_media?language=en">Cal Newport’s talk on “Why you should quit social media”</a>. Watching this was the first time I seriously considered quitting it forever.</li>
  <li><a href="https://www.imdb.com/title/tt11464826/">The Social Dilemma documentary</a>. Available on Netflix.</li>
  <li><a href="https://www.imdb.com/title/tt5962210/">Ingrid Goes West movie</a>. Thanks Vera!</li>
  <li><a href="https://www.youtube.com/watch?v=Czg_9C7gw0o">“Is Social Media Hurting Your Mental Health?” talk by Bailey Parnell</a>.</li>
  <li><a href="https://www.imdb.com/title/tt5497778/">Black Mirror’s “Nosedive” episode</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=gM3KIvZO5oU">“What I learned from my social media fast” talk by Amber Quinney</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=pOchBnZJdEk">“Live in the Moment: Delete Social Media” talk by Ryan Thomas</a></li>
</ul>

<h3 id="acknowledgements">Acknowledgements</h3>

<p><span>Cover photo by <a href="https://unsplash.com/@milo_contreras?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Camilo Contreras</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>

<h3 id="comments-and-discussion">Comments and Discussion</h3>
<p><a href="https://news.ycombinator.com/item?id=25524429">Discuss on HN</a> - <a href="https://www.reddit.com/r/simpleliving/comments/kj6j15/social_media_considered_harmful/">Discuss on Reddit</a> - <a href="https://maraoz.com/cdn-cgi/l/email-protection#bfddc6da92ccd0dcd6ded392d2dadbd6deffd2decdded0c591dcd0d2">Email a private comment</a></p>

  </article>
  

</div>

      </div>
    </div></div>]]>
            </description>
            <link>https://maraoz.com/2020/12/23/bye-social-media/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25526518</guid>
            <pubDate>Thu, 24 Dec 2020 10:59:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Oklab: A perceptual color space for image processing]]>
            </title>
            <description>
<![CDATA[
Score 222 | Comments 75 (<a href="https://news.ycombinator.com/item?id=25525726">thread link</a>) | @ingve
<br/>
December 23, 2020 | https://bottosson.github.io/posts/oklab/ | <a href="https://web.archive.org/web/*/https://bottosson.github.io/posts/oklab/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><div><p>A perceptual color space is desirable when doing many kinds of image processing. It is useful for things like:</p><ul><li>Turning an image grayscale, while keeping the perceived lightness the same</li><li>Increasing the saturation of colors, while maintaining perceived hue and lightness</li><li>Creating smooth and uniform looking transitions between colors</li></ul><p>Unfortunately, as far as I am aware, while there are color spaces that aim to be perceptually uniform, none are without significant drawbacks when used for image processing.</p><p>For this reason I have designed a new perceptual color space, designed to be simple to use, while doing a good job at predicting perceived lightness, <a href="https://en.wikipedia.org/wiki/Colorfulness">chroma</a> and hue. It is called the <strong>Oklab color space</strong>, because it is an OK Lab color space.</p><p>Before diving into the details of why a new color space is needed and how it was derived, here is the everything needed to use the color space:</p><p>A color in Oklab is represented with three coordinates, similar to how <a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a> works, but with better perceptual properties. Oklab uses a D65 whitepoint, since this is what sRGB and other common color spaces use. The three coordinates are:</p><ul><li><span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span> – perceived lightness</li><li><span><span><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></span> – how green/red the color is</li><li><span><span><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span></span> – how blue/yellow the color is</li></ul><p>For many operations, <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span>-coordinates can be used directly, but they can also be transformed into polar form, with the coordinates lightness, chroma and hue, <span><span><math><semantics><mrow><mi>L</mi><mi>C</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">LCh</annotation></semantics></math></span></span>:</p><p><span><span><span><math><semantics><mrow><mi>C</mi><mo>=</mo><mrow><msqrt><mrow><msup><mi>a</mi><mn>2</mn></msup><mo>+</mo><msup><mi>b</mi><mn>2</mn></msup></mrow></msqrt></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup><mo>=</mo><mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi><mn>2</mn></mtext><mo>(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">C={\sqrt {a^2+b^2}}, \qquad h^{\circ}=\text{atan2}(b,a)</annotation></semantics></math></span></span></span></p><p>From <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{\circ}</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span></span> can be computed like this:</p><p><span><span><span><math><semantics><mrow><mi>a</mi><mo>=</mo><mi>C</mi><mi>cos</mi><mo>(</mo><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup><mo>)</mo><mo separator="true">,</mo><mspace width="2em"></mspace><mi>b</mi><mo>=</mo><mi>C</mi><mi>sin</mi><mo>(</mo><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">a=C\cos(h^{\circ}),\qquad b=C\sin(h^{\circ})</annotation></semantics></math></span></span></span></p><p>Lets look at a practical example to see how Oklab performs, before looking at how the <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span> coordinates are computed.</p><blockquote><h4 id="comparing-oklab-to-hsv">Comparing Oklab to HSV <a href="#comparing-oklab-to-hsv"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Here’s an Oklab color gradient with varying hue and constant lightness and chroma.</p><p><img alt="Oklab varying hue plot" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_oklab.png" width="1130"></p><p>Compare this to a similar plot of a HSV color gradient with varying hue and constant value and saturation (HSV using the sRGB color space).</p><p><img alt="HSV varying hue plot" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_hsv.png" width="1130"></p><p>The gradient is quite uneven and there are clear differences in lightness for different hues. Yellow, magenta and cyan appear much lighter than red and blue.</p><p>Here is lightness of the HSV plot, as predicted by Oklab:</p><p><img alt="HSV varying hue plot lightness" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_hsv_lightness.png" width="1130"></p></blockquote><h3 id="implementation">Implementation <a href="#implementation"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><h4 id="converting-from-xyz-to-oklab">Converting from XYZ to Oklab <a href="#converting-from-xyz-to-oklab"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Given a color in <span><span><math><semantics><mrow><mi>X</mi><mi>Y</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">XYZ</annotation></semantics></math></span></span> coordinates, with a D65 whitepoint, Oklab coordinates can be computed like this:</p><p>First the <span><span><math><semantics><mrow><mi>X</mi><mi>Y</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">XYZ</annotation></semantics></math></span></span> coordinates are converted to an approximate cone responses:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l \\ m \\ s \end{pmatrix} = \mathbf{M_1} \times \begin{pmatrix} X \\ Y \\ Z \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>A non-linearity is applied:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l' \\ m' \\ s' \end{pmatrix} = \begin{pmatrix} l^{\frac 1 3} \\ m^{\frac 1 3} \\ s^{\frac 1 3} \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>Finally, this is transformed into the <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span>-coordinates:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} L \\ a \\ b \end{pmatrix} = \mathbf{M_2} \times \begin{pmatrix} l' \\ m' \\ s' \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>with the following values for <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1}</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2}</annotation></semantics></math></span></span>:</p><p><span><span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>8</mn><mn>1</mn><mn>8</mn><mn>9</mn><mn>3</mn><mn>3</mn><mn>0</mn><mn>1</mn><mn>0</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>3</mn><mn>6</mn><mn>1</mn><mn>8</mn><mn>6</mn><mn>6</mn><mn>7</mn><mn>4</mn><mn>2</mn><mn>4</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>1</mn><mn>2</mn><mn>8</mn><mn>8</mn><mn>5</mn><mn>9</mn><mn>7</mn><mn>1</mn><mn>3</mn><mn>7</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>3</mn><mn>2</mn><mn>9</mn><mn>8</mn><mn>4</mn><mn>5</mn><mn>4</mn><mn>3</mn><mn>6</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>9</mn><mn>2</mn><mn>9</mn><mn>3</mn><mn>1</mn><mn>1</mn><mn>8</mn><mn>7</mn><mn>1</mn><mn>5</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>3</mn><mn>6</mn><mn>1</mn><mn>4</mn><mn>5</mn><mn>6</mn><mn>3</mn><mn>8</mn><mn>7</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>4</mn><mn>8</mn><mn>2</mn><mn>0</mn><mn>0</mn><mn>3</mn><mn>0</mn><mn>1</mn><mn>8</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>2</mn><mn>6</mn><mn>4</mn><mn>3</mn><mn>6</mn><mn>6</mn><mn>2</mn><mn>6</mn><mn>9</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>6</mn><mn>3</mn><mn>3</mn><mn>8</mn><mn>5</mn><mn>1</mn><mn>7</mn><mn>0</mn><mn>7</mn><mn>0</mn></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1} = \begin{pmatrix} +0.8189330101 &amp; +0.3618667424 &amp; -0.1288597137 \\ +0.0329845436 &amp; +0.9293118715 &amp; +0.0361456387 \\ +0.0482003018 &amp; +0.2643662691 &amp; +0.6338517070 \end{pmatrix}</annotation></semantics></math></span></span></span></p><p><span><span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>2</mn><mn>1</mn><mn>0</mn><mn>4</mn><mn>5</mn><mn>4</mn><mn>2</mn><mn>5</mn><mn>5</mn><mn>3</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>9</mn><mn>3</mn><mn>6</mn><mn>1</mn><mn>7</mn><mn>7</mn><mn>8</mn><mn>5</mn><mn>0</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>0</mn><mn>4</mn><mn>0</mn><mn>7</mn><mn>2</mn><mn>0</mn><mn>4</mn><mn>6</mn><mn>8</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>1</mn><mi mathvariant="normal">.</mi><mn>9</mn><mn>7</mn><mn>7</mn><mn>9</mn><mn>9</mn><mn>8</mn><mn>4</mn><mn>9</mn><mn>5</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>2</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>2</mn><mn>8</mn><mn>5</mn><mn>9</mn><mn>2</mn><mn>2</mn><mn>0</mn><mn>5</mn><mn>0</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>5</mn><mn>0</mn><mn>5</mn><mn>9</mn><mn>3</mn><mn>7</mn><mn>0</mn><mn>9</mn><mn>9</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>2</mn><mn>5</mn><mn>9</mn><mn>0</mn><mn>4</mn><mn>0</mn><mn>3</mn><mn>7</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>8</mn><mn>2</mn><mn>7</mn><mn>7</mn><mn>1</mn><mn>7</mn><mn>6</mn><mn>6</mn><mn>2</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>8</mn><mn>0</mn><mn>8</mn><mn>6</mn><mn>7</mn><mn>5</mn><mn>7</mn><mn>6</mn><mn>6</mn><mn>0</mn></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2} = \begin{pmatrix} +0.2104542553 &amp; +0.7936177850 &amp; -0.0040720468 \\ +1.9779984951 &amp; -2.4285922050 &amp; +0.4505937099 \\ +0.0259040371 &amp; +0.7827717662 &amp; -0.8086757660 \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>The inverse operation, going from Oklab to XYZ is done with the following steps:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><msup><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><msup><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l' \\ m' \\ s' \end{pmatrix} = \mathbf{M_2}^{-1} \times \begin{pmatrix} L \\ a \\ b \end{pmatrix},\qquad \begin{pmatrix} l \\ m \\ s \end{pmatrix} = \begin{pmatrix} {(l')}^{3} \\ {(m')}^{3} \\ {(s')}^{3} \end{pmatrix},\qquad \begin{pmatrix} X \\ Y \\ Z \end{pmatrix} = \mathbf{M_1}^{-1} \times \begin{pmatrix} l \\ m \\ s \end{pmatrix}</annotation></semantics></math></span></span></span></p><h4 id="converting-from-linear-srgb-to-oklab">Converting from linear sRGB to Oklab <a href="#converting-from-linear-srgb-to-oklab"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Since this will be a common use case, here is the code to convert linear sRGB values to Oklab and back. To compute linear sRGB values, see <a href="https://bottosson.github.io/posts/colorwrong/#what-can-we-do%3F">my previous post</a>.</p><p>The code is in C++, but without any fancy features so should be easy to translate. The code is available in public domain, feel free to use it any way you please.</p><pre><code>struct Lab {float L; float a; float b;};
struct RGB {float r; float g; float b;};

Lab linear_srgb_to_oklab(RGB c) 
{
    float l = 0.4121656120f * c.r + 0.5362752080f * c.g + 0.0514575653f * c.b;
    float m = 0.2118591070f * c.r + 0.6807189584f * c.g + 0.1074065790f * c.b;
    float s = 0.0883097947f * c.r + 0.2818474174f * c.g + 0.6302613616f * c.b;

    float l_ = cbrtf(l);
    float m_ = cbrtf(m);
    float s_ = cbrtf(s);

    return {
        0.2104542553f*l_ + 0.7936177850f*m_ - 0.0040720468f*s_,
        1.9779984951f*l_ - 2.4285922050f*m_ + 0.4505937099f*s_,
        0.0259040371f*l_ + 0.7827717662f*m_ - 0.8086757660f*s_,
    };
}

RGB oklab_to_linear_srgb(Lab c) 
{
    float l_ = c.L + 0.3963377774f * c.a + 0.2158037573f * c.b;
    float m_ = c.L - 0.1055613458f * c.a - 0.0638541728f * c.b;
    float s_ = c.L - 0.0894841775f * c.a - 1.2914855480f * c.b;

    float l = l_*l_*l_;
    float m = m_*m_*m_;
    float s = s_*s_*s_;

    return {
        + 4.0767245293f*l - 3.3072168827f*m + 0.2307590544f*s,
        - 1.2681437731f*l + 2.6093323231f*m - 0.3411344290f*s,
        - 0.0041119885f*l - 0.7034763098f*m + 1.7068625689f*s,
    };
}
</code></pre><p>This is everything you need to use the Oklab color space! If you need a simple perceptual color space, try it out.</p><p>The rest of the post will go into why a new color space was needed, how it has been constructed and how it compares with existing color spaces.</p><hr><p>What properties does a perceptual color space need to satisfy to be useful for image processing? The answer to this is always going to be a bit subjective, but based on my experience, these are a good set of requirements:</p><blockquote><ul><li><strong>Should be an opponent color space</strong>, similar to for example <a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a>.</li><li><strong>Should predict lightness, chroma and hue well</strong>. <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span> should be perceived as orthogonal, so one can be altered without affecting the other two. This is useful for things like turning an image black and white and increasing colorfulness without introducing hue shifts etc.</li><li><strong>Blending two colors should result in even transitions</strong>. The transition colors should appear to be in between the blended colors (e.g. passing through a warmer color than either original color is not good).</li><li><strong>Should assume a D65 whitepoint</strong>. This is what common color spaces like sRGB, rec2020 and Display P3 uses.</li><li><strong>Should behave well numerically</strong>. The model should be easy to compute, numerically stable and differentiable.</li><li><strong>Should assume normal well lit viewing conditions</strong>. The complexity of supporting different viewing conditions is not practical in most applications. Other models could be used in conjunction if this is needed in some case.</li><li><strong>If the scale/exposure of colors are changed, the perceptual coordinates should just be scaled by a factor</strong>. More complex models that depend on absolute luminance should be avoided since the viewing conditions can not be accurately controlled and incorrect behavior would be confusing.</li></ul></blockquote><h3 id="what-about-existing-models%3F">What about existing models? <a href="#what-about-existing-models%3F"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><p>Let’s look at existing models and how they stack up against these requirements. Further down there are graphs that illustrate some of these issues.</p><blockquote><ul><li><strong><a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a> and <a href="https://en.wikipedia.org/wiki/CIELUV">CIELUV</a></strong> – Largest issue is their inability to predict hue. In particular blue hues are predicted badly. Other smaller issues exist as well</li><li><strong><a href="https://en.wikipedia.org/wiki/CIECAM02">CIECAM02-UCS</a> and the newer CAM16-UCS</strong> – Does a good job at being perceptually uniform overall, but doesn’t meet other requirements: Bad numerical behavior, it is not scale invariant and blending does not behave well because of its compression of chroma. Hue uniformity is decent, but other models predict it more accurately.</li><li><strong><a href="https://en.wikipedia.org/wiki/OSA-UCS">OSA-UCS</a></strong> – Overall does a good job. The transformation to OSA-UCS lacks an analytical inverse unfortunately which makes it impractical.</li><li><strong><a href="https://scholarworks.rit.edu/theses/2858/">IPT</a></strong> – Does a great job modelling hue uniformity. Doesn’t predict lightness and chroma well unfortunately, but meets all other requirements. Is simple computationally and does not depend on the scale/exposure.</li><li><strong><a href="https://www.osapublishing.org/oe/fulltext.cfm?uri=oe-25-13-15131&amp;id=368272">JzAzBz</a></strong> – Overall does a fairly good job. Designed to have uniform scaling of lightness for HDR data. While useful in some cases this introduces a dependence on the scale/exposure that makes it hard to use in general cases.</li><li><strong><a href="https://en.wikipedia.org/wiki/HSL_and_HSV">HSV</a> representation of sRGB</strong> – Only on this list because it is widely used. Does not meet any of the requirements except having a D65 whitepoint.</li></ul></blockquote><p>So, all in all, all these existing models have drawbacks.</p><p>Out of all of these, two models stand out: CAM16-UCS, for being the model with best properties of perceptual uniformity overall, and IPT for having a simple computational structure that meets all the requirements besides predicting lightness and chroma well.</p><p>For this reason it is reasonable to try to make a new color space, with the same computational structure as IPT, but that performs closer to CAM16-UCS in terms of predicting lightness and chroma. This exploration resulted in Oklab.</p><h3 id="how-oklab-was-derived">How Oklab was derived <a href="#how-oklab-was-derived"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><p>To derive Oklab, three datasets were used:</p><ul><li>A generated data set of pairs of colors with the same lightness but random hue and chroma, generated using CAM16 and normal viewing conditions. Colors were limited to be within Pointer’s Gamut – the set of possible surface colors.</li><li>A generated data set of pairs of colors with the same chroma but random hue and lightness, generated using CAM16 and normal viewing conditions. Colors were limited to be within Pointer’s Gamut</li><li>The <a href="https://github.com/nschloe/colorio/blob/master/colorio/data/ebner_fairchild.yaml">uniform perceived hue</a> data used to derive IPT. From this data, colors were combined into pairs of colors with equal perceived hue.</li></ul><p>These datasets can be used to test prediction of lightness, chroma and hue respectively. If a color space accurately models <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>, then all pairs in lightness dataset should have the same value for <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, all pairs in the chroma dataset the same value for <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and all pairs in the hue dataset the same values for <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>.</p><p>To test a color space it is not possible to simply check the distance in predictions in the tested color space however, since that will depend on the scaling of the color space. It is also not desirable to exactly predict ground truth values for <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>, since it is more important that our model has perceptually orthogonal coordinates, than that the model has the same spacing within each coordinate.</p><p>Instead the following approach was used to create an error metric independent of the color space:</p><ul><li>For each dataset all the pairs are converted to the tested color space.</li><li>Coordinates that are supposed to be the same within a pair are swapped to generate a new set of altered pairs:<ul><li>For the lightness dataset, the L coordinates are swapped between the pairs, and so on.</li><li>These altered pair would be equal to the original pair if the model predicts the datasets perfectly.</li></ul></li><li>The perceived distance between the original colors and the altered colors are are computed using <a href="https://en.wikipedia.org/wiki/Color_difference">CIEDE2000</a>.</li><li>The error for each pair is given as the minimum of the two color differences.</li><li>The error for the entire dataset is the root mean squared error of the color differences.</li></ul><p>Oklab was derived by optimizing the parameters of a color space with the same structure as IPT, to get a low error on all the datasets. For completeness, here is the structure of the color space – the parameters to optimize are the 3x3 matrices <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1}</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2}</annotation></semantics></math></span></span> and the positive number <span><span><math><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span></span>.</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l \\ m \\ s \end{pmatrix} = \mathbf{M_1} \times \begin{pmatrix} X \\ Y \\ Z \end{pmatrix}</annotation></semantics></math></span></span></span></p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mi>γ</mi></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mi>γ</mi></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mi>γ</mi></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} L \\ a \\ b \end{pmatrix} = \mathbf{M_2} \times \begin{pmatrix} l^\gamma \\ m^\gamma \\ s^\gamma \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>A couple of extra constraints were …</p></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bottosson.github.io/posts/oklab/">https://bottosson.github.io/posts/oklab/</a></em></p>]]>
            </description>
            <link>https://bottosson.github.io/posts/oklab/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525726</guid>
            <pubDate>Thu, 24 Dec 2020 07:34:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MeshCentral: Self-hosted web-based management of remote computers]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525535">thread link</a>) | @aiNohY6g
<br/>
December 23, 2020 | https://www.meshcommander.com/meshcentral2 | <a href="https://web.archive.org/web/*/https://www.meshcommander.com/meshcentral2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId"><div><div id="h.772be894b56c9933_256"><div><div><p dir="ltr">Connect to your home or office devices from anywhere in the world using MeshCentral, the open source, remote monitoring and management server. Once installed, each enabled computer will show up in the "My Devices" section of the web site and will be able to perform remote desktop, remote terminal, file transfers and more. Get started by installing a MeshCentral server of your own or if you are not familiar with MeshCentral, you can try the public server at your own risk at <span><a href="https://www.google.com/url?q=https%3A%2F%2Fmeshcentral.com&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF72XMOagiPwq0rSbmLUbf3ea9sZw" target="_blank">MeshCentral.com</a></span>. You can install your own server on Linux or Windows, it will run on anything from a large cloud instance to a Raspberry Pi. This is still beta code. <span><strong>Your privacy matters</strong></span>: When installing your own MeshCentral server, no usage data or telemetry is collected.</p><h3 id="h.p_I7Fa7qSzsHeJ" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fmeshcentral&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGlxrm4X04dUy1SJBLzKJMhuITNkQ" target="_blank">Use NPM to download &amp; install</a></span> - NodeJS application, Apache 2.0 License.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentralInstaller-2.9.exe&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGSz1tqKwy-e65faDtHoEfv2V-pZA" target="_blank">Windows Installer v2.9</a></span> - Win32 executable, Apache 2.0 License.</p></li></ul><h3 id="h.p_NI8XlBIe3JF7" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2UserGuide-0.2.9.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF6k7CRu8xhJ6UjuKqTKrGLJ1YPLg" target="_blank">User's Guide v0.2.9</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2InstallGuide-0.1.0.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNENA3FWn6JCC3RU6xPn6JvBklkltw" target="_blank">Install Guide v0.1.0</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2DesignArchitecture.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEJWbeXE64eROflRUP2DbLMUKYXbA" target="_blank">Design &amp; Architecture Guide v0.0.4</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="http://www.google.com/url?q=http%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2RouterUserGuide-0.0.2.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHYNX3jlmoBOwMEZkI22RMgrfYt4w" target="_blank">MeshCentral Router User Guide v0.0.2</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCtrlUsersGuide-0.0.1.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEP_2gB0THJK7zOapJI_i3A1TGp8A" target="_blank">MeshCtrl User Guide v0.0.1</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2ManagementFeaturesGuide.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEsQ0B8LCeoaoOxx7YlOFBjgMUfgw" target="_blank">Manageability Features</a></span> - Single page PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2SecurityFeaturesGuide.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFFgy77nDwf9m2z5yPPTYqWsxiVMg" target="_blank">Security Features</a></span> - Single page PDF document.</p></li></ul><h3 id="h.p_FGUfZPmtZThQ" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr">Get the latest update: <span><a href="https://www.google.com/url?q=https%3A%2F%2Fmeshcentral2.blogspot.com%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEmr_JWg6uvu2brOrDffCRKXTTLLw" target="_blank">News Blog</a></span>.</p></li><li dir="ltr"><p dir="ltr">Comments and feedback: <span><a href="https://www.google.com/url?q=https%3A%2F%2Fwww.reddit.com%2Fr%2FMeshCentral%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHE2mphqK_2uoHNaJq8inmk3COfBQ" target="_blank">Reddit Forum</a></span>.</p></li></ul><h3 id="h.p_nidQqr8rakPZ" dir="ltr" tabindex="-1"></h3><p dir="ltr">More Videos on the <span><a href="https://www.meshcommander.com/meshcentral2/tutorials">Tutorials page</a></span></p></div></div></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.meshcommander.com/meshcentral2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525535</guid>
            <pubDate>Thu, 24 Dec 2020 06:49:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cryptographic Wear-Out for Symmetric Encryption]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525450">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>As we look upon the sunset of a remarkably tiresome year, I thought it would be appropriate to talk about <strong>cryptographic wear-out</strong>.</p>



<h3>What is cryptographic wear-out?</h3>



<p>It’s the threshold when you’ve used the same key to encrypt so much data that you should probably switch to a new key before you encrypt any more. Otherwise, you might let someone capable of observing all your encrypted data perform interesting attacks that compromise the security of the data you’ve encrypted.</p>



<div><figure><img data-attachment-id="126" data-permalink="https://soatok.blog/professor/" data-orig-file="https://soatok.files.wordpress.com/2020/04/professor.png" data-orig-size="224,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Professor Furry" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" data-large-file="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" src="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" alt="Soatok Explains it All" srcset="https://soatok.files.wordpress.com/2020/04/professor.png 224w, https://soatok.files.wordpress.com/2020/04/professor.png?w=150 150w" sizes="(max-width: 224px) 100vw, 224px"><figcaption>My definitions always aim to be more understandable than pedantically correct.<br>(Art by <a href="https://twitter.com/Swizzlestixick">Swizz</a>)</figcaption></figure></div>



<p>The exact value of the threshold varies depending on how exactly you’re encrypting data (n.b. AEAD modes, block ciphers + cipher modes, etc. each have different wear-out thresholds due to their composition).</p>



<p>Let’s take a look at the wear-out limits of the more popular <a href="https://soatok.blog/2020/07/12/comparison-of-symmetric-encryption-methods/">symmetric encryption methods</a>, and calculate those limits ourselves.</p>



<h2>Specific Ciphers and Modes</h2>



<div><figure><img data-attachment-id="1615" data-permalink="https://soatok.blog/2020/10/16/commission-prices-for-furries-and-artists/soatok_stickerpackedit-math/" data-orig-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok_STICKERPACKEDIT-Math" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=512" src="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=512" alt="I did the math" srcset="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png 512w, https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=150 150w, https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>. Poorly edited by the author.)</figcaption></figure></div>



<h3 id="aes-gcm-limits">Cryptographic Limits for AES-GCM</h3>



<p>I’ve written about AES-GCM before (and <a href="https://soatok.blog/2020/05/13/why-aes-gcm-sucks/">why I think it sucks</a>).</p>



<p>AES-GCM is a construction that combines AES-CTR with an authenticator called GMAC, whose consumption of nonces looks something like this:</p>



<ul><li>Calculating H (used in GHASH for all messages encrypted under the same key, regardless of nonce):<ul><li><code>Encrypt(00000000 00000000 00000000 00000000)</code></li></ul></li><li>Calculating J<sub>0</sub> (the pre-counter block):<ul><li>If the nonce is 96 bits long:<ul><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 00000001</code> where the <code>N</code> spaces represent the nonce hexits.</li></ul></li><li>Otherwise:<ul><li><code>s = 128 * ceil(len(nonce)/nonce) - len(nonce)</code></li></ul><ul><li><code>J0 = GHASH(H, nonce || zero(s+64) || int2bytes(len(nonce))</code></li></ul></li></ul></li><li>Each block of data encrypted uses J0 + block counter (starting at 1) as a CTR nonce.</li><li>J0 is additionally used as the nonce to calculate the final GMAC tag.</li></ul>



<p>AES-GCM is one of the algorithms where it’s easy to separately calculate the safety limits per message (i.e. for a given nonce and key), as well as for all messages under a key.</p>



<h4>AES-GCM Single Message Length Limits</h4>



<p>In the simplest case (nonce is 96 bits), you end up with the following nonces consumed:</p>



<ul><li>For each key: <code>00000000 00000000 00000000 00000000</code></li><li>For each (nonce, key) pair:<ul><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000001</code> for J0</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000002</code> for encrypting the first 16 bytes of plaintext</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000003</code> for the next 16 bytes of plaintext…</li><li>…</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN FFFFFFFFF</code> for the final 16 bytes of plaintext.</li></ul></li></ul>



<p>From here, it’s pretty easy to see that you can encrypt the blocks from <code>00000002</code> to <code>FFFFFFFF</code> without overflowing and creating a nonce reuse. This means that each (key, nonce) can be used to encrypt a single message up to <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D+-+2&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32} - 2" title="2^{32} - 2"> blocks of the underlying ciphertext.</p>



<p>Since the block size of AES is 16 bytes, this means the maximum length of a single AES-GCM (key, nonce) pair is <img src="https://s0.wp.com/latex.php?latex=2%5E%7B36%7D+-+256&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{36} - 256" title="2^{36} - 256"> <strong>bytes</strong> (or 68,719,476,480 bytes). This is approximately 68 GB or 64 GiB.</p>



<p>Things get a bit tricker to analyze when the nonce is not 96 bits, since it’s hashed.</p>



<p>The disadvantage of this hashing behavior is that it’s possible for two different nonces to produce overlapping ranges of AES-CTR output, which makes the security analysis very difficult.</p>



<p>However, this hashed output is also hidden from network observers since they do not know the value of H. Without some method of reliably detecting when you have an overlapping range of hidden block counters, you can’t exploit this.</p>



<p>(If you want to live dangerously and motivate cryptanalysis research, mix 96-bit and non-96-bit nonces with the same key in a system that does something valuable.)</p>



<h4>Multi-Message AES-GCM Key Wear-Out</h4>



<p>Now that we’ve established the maximum length for a single message,  how many messages you can safely encrypt under a given AES-GCM key depends entirely on how your nonce is selected.</p>



<p>If you have a reliable counter, which is guaranteed to never repeat, and start it at 0 you can theoretically encrypt <img src="https://s0.wp.com/latex.php?latex=2%5E%7B96%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{96}" title="2^{96}"> messages safely. Hooray!</p>







<p>You probably don’t have a reliable counter, especially in real-world settings (distributed systems, multi-threaded applications, virtual machines that might be snapshotted and restored, etc.).</p>



<div><figure><img data-attachment-id="130" data-permalink="https://soatok.blog/computeranger/" data-orig-file="https://soatok.files.wordpress.com/2020/04/computeranger.png" data-orig-size="224,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="This is outrageous!" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" data-large-file="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" src="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" alt="Soatok angrily grasping computer monitor" srcset="https://soatok.files.wordpress.com/2020/04/computeranger.png 224w, https://soatok.files.wordpress.com/2020/04/computeranger.png?w=150 150w" sizes="(max-width: 224px) 100vw, 224px"><figcaption>Confound you, technical limitations!<br>(Art by <a href="https://twitter.com/Swizzlestixick">Swizz</a>)</figcaption></figure></div>



<p>Additionally (thanks to <a href="https://twitter.com/2adic">2adic</a> for the expedient correction), you cannot safely encrypt more than <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> blocks with AES because the keystream blocks–as the output of a block cipher–cannot repeat.</p>



<p>Most systems that cannot guarantee unique incrementing nonces simply generate nonces with a cryptographically secure random number generator. This is a good idea, but no matter how high quality your random number generator is, random functions will produce collisions with a discrete probability.</p>



<p>If you have <img src="https://s0.wp.com/latex.php?latex=2%5En&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^n" title="2^n"> possible values, you should expect a single collision(with 50% probability) after <img src="https://s0.wp.com/latex.php?latex=%5Csqrt%7B2%5E%7Bn%7D%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="\sqrt{2^{n}}" title="\sqrt{2^{n}}"> (or <img src="https://s0.wp.com/latex.php?latex=2%5E%7Bn%2F2%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{n/2}" title="2^{n/2}">)samples. This is called the <strong>birthday bound</strong>.</p>



<p>However, 50% of a nonce reuse isn’t exactly a comfortable safety threshold for most systems (especially since nonce reuse will cause AES-GCM to become vulnerable to active attackers). 1 in 4 billion is a much more comfortable safety margin against nonce reuse via collisions than 1 in 2. Fortunately, you can <a href="https://en.wikipedia.org/wiki/Birthday_problem">calculate the discrete probability of a birthday collision</a> pretty easily.</p>



<p>If you want to rekey after your collision probability exceeds <img src="https://s0.wp.com/latex.php?latex=2%5E%7B-32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{-32}" title="2^{-32}"> (for a random nonce between 0 and <img src="https://s0.wp.com/latex.php?latex=2%5E%7B96%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{96}" title="2^{96}">), you simply need to re-key after <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32}" title="2^{32}"> messages.</p>



<h4>AES-GCM Safety Limits</h4>







<div><figure><img data-attachment-id="1388" data-permalink="https://soatok.blog/soatoktelegrams2020-12/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-12" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Not bad, but we can do better.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3 id="chacha20poly1305-limits">Cryptographic Limits for ChaCha20-Poly1305</h3>



<p>The IETF version of ChaCha20-Poly1305 uses 96-bit nonces and 32-bit internal counters. A similar analysis follows from AES-GCM’s, with a few notable exceptions.</p>



<p>For starters, the one-time Poly1305 key is derived from the first 32 bytes of the ChaCha20 keystream output (block 0) for a given (nonce, key) pair. There is no equivalent to AES-GCM’s H parameter which is static for each key. (The ChaCha20 encryption begins using block 1.)</p>



<p>Additionally, each block for ChaCha20 is 512 bits, unlike AES’s 128 bits. So the message limit here is a little more forgiving.</p>



<p>Since the block size is 512 bits (or 64 bytes), and only one block is consumed for Poly1305 key derivation, we can calculate a message length limit of <img src="https://s0.wp.com/latex.php?latex=2%5E%7B38%7D+-+64&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{38} - 64" title="2^{38} - 64">, or 274,877,906,880 bytes–nearly 256 GiB for each (nonce, key) pair.</p>



<p>The same rules for handling 96-bit nonces applies as with AES-GCM, so we can carry that value forward.</p>



<h4>ChaCha20-Poly1305 Safety Limits</h4>







<div><figure><img data-attachment-id="120" data-permalink="https://soatok.blog/soatok_stickerpack-smile/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=512" alt="Soatok" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>A significant improvement, but still practically limited.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3 id="chacha20poly1305-limits">Cryptographic Limits for XChaCha20-Poly1305</h3>



<p>XChaCha20-Poly1305 is a variant of XSalsa20-Poly1305 (as used in libsodium) and the IETF’s ChaCha20-Poly1305 construction. It features 192-bit nonces and 32-bit internal counters.</p>



<p>XChaCha20-Poly1305 is instantiated by using HChaCha20 of the key over the first 128 bits of the nonce to produce a subkey, which is used with the remaining nonce bits using the aforementioned ChaCha20-Poly1305.</p>



<p>This doesn’t change the maximum message length, but it <em>does</em> change the number of messages you can safely encrypt (since you’re actually using up to <img src="https://s0.wp.com/latex.php?latex=2%5E%7B128%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{128}" title="2^{128}"> distinct keys).</p>



<p>Thus, even if you manage to repeat the final ChaCha20-Poly1305 nonce, as long as the total nonce differs, each encryptions will be performed with a distinct key (thanks to the HChaCha20 key derivation; see the <a href="https://cr.yp.to/snuffle/xsalsa-20110204.pdf">XSalsa20 paper</a> and <a href="https://tools.ietf.org/html/draft-irtf-cfrg-xchacha-03">IETF RFC draft</a> for details).</p>



<h4>XChaCha20-Poly1305 Safety Limits</h4>







<div><figure><img loading="lazy" data-attachment-id="1201" data-permalink="https://soatok.blog/soatoktelegrams2020-01/" data-orig-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-01" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=512" src="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=512" alt="Galaxy Brain meme, but a furry" width="512" height="512" srcset="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png 512w, https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=150 150w, https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>I can <s>see</s> encrypt forever, man.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3>Cryptographic Limits for AES-CBC</h3>



<p>It’s tempting to compare non-AEAD constructions and block cipher modes such as CBC (Cipher Block Chaining), but they’re totally different monsters.</p>



<ul><li>AEAD ciphers have a clean delineation between message length limit and the message quantity limit</li><li>CBC and other cipher modes do not have this separation</li></ul>



<p>Every time you encrypt a block with AES-CBC, you are depleting from a <strong>universal</strong> bucket that affects the birthday bound security of encrypting more messages under that key. (And unlike AES-GCM with long nonces, AES-CBC’s IV is public.)</p>



<p>This is in addition to the operational requirements of AES-CBC (plaintext padding, initialization vectors that never repeat <em>and</em> must be unpredictable, separate message authentication since CBC doesn’t provide integrity and is vulnerable to chosen-ciphertext atacks, etc.).</p>



<div><figure><img data-attachment-id="1210" data-permalink="https://soatok.blog/soatok_stickerpack_ind_cca2/" data-orig-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok_STICKERPACK_IND_CCA2" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=512" src="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=512" alt="This isn't IND-CCA2 Secure!" srcset="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png 512w, https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=150 150w, https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>My canned response to most queries about AES-CBC.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p>For this reason, most cryptographers don’t even bother calculating the safety limit for AES-CBC in the same breath as discussing AES-GCM. And they’re right to do so!</p>



<p>If you find yourself using AES-CBC (or AES-CTR, for that matter), you’d best be performing a separate HMAC-SHA256 over the ciphertext (and verifying this HMAC with <a href="https://soatok.blog/2020/08/27/soatoks-guide-to-side-channel-attacks/#string-comparison">a secure comparison function</a> before decrypting). Additionally, you should consider using <a href="https://github.com/defuse/php-encryption/blob/master/docs/CryptoDetails.md">an extended nonce construction to split one-time encryption and authentication keys</a>.</p>







<p>However, for the sake of completeness, let’s figure out what our practical limits are.</p>



<p>CBC operates on entire blocks of plaintext, whether you need the entire block or not.</p>



<p>On encryption, the output of the previous block is mixed (using XOR) with the current block, then encrypted with the block cipher. For the first block, the IV is used in the place of a “previous” block. (Hence, its requirements to be non-repeating <em>and</em> unpredictable.)</p>



<p>This means you can informally model (IV xor PlaintextBlock) and (PB<sub>n</sub> xor PB<sub>n+1</sub>) as a pseudo-random function, before it’s encrypted with the block cipher.</p>



<p>If those words don’t mean anything to you, here’s the kicker: You can use the above discussion about birthday bounds to calculate the upper safety bounds for the <strong>total</strong> number of blocks encrypted under a single AES key (assuming IVs are generated from a secure random source).</p>



<p>If you’re okay with a 50% probability of a collision, you should re-key after <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> blocks have been encrypted.</p>



<figure><p><span><iframe width="580" height="327" src="https://www.youtube.com/embed/v0IsYNDMV7A?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p><figcaption>This video …</figcaption></figure></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/">https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/</a></em></p>]]>
            </description>
            <link>https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525450</guid>
            <pubDate>Thu, 24 Dec 2020 06:24:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things Wrong with Wayland]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525367">thread link</a>) | @kirbykevinson
<br/>
December 23, 2020 | https://kirby.kevinson.org/blog/things-wrong-with-wayland/ | <a href="https://web.archive.org/web/*/https://kirby.kevinson.org/blog/things-wrong-with-wayland/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				

				
				
	<p>I, as a person who tries to use cutting edge technology, am a Wayland
user, and ever since I started using it, I haven’t been able to get
the thoughts about its problems out of my head. It’s time to get this
thing off my chest. Here are the reasons Wayland is still not here:</p>
<h2 id="the-main-problem">The main problem</h2>
<p>You may think that it’s the fact that it was decided to move from the
“there’s only 1 display server” idea. You’re wrong, as that would
invalidate the <a href="https://wayland.freedesktop.org/">core goals</a> of the project - to be just a protocol
that requires implementations.</p>
<p>What can’t be denied, however, is the fact that instead of creating a
full-featured “batteries included” set of protocols and a reference
implementation of a library, compositors based on which could compete
with X by being just as feature complete, there was created only a
<a href="https://gitlab.freedesktop.org/wayland/weston" title="weston">simple compositor</a>, which can only satisfy the needs of a kiosk and
not a modern desktop environment. An unofficial version of <a href="https://github.com/swaywm/wlroots/" title="wlroots">such a
library</a> didn’t even appear until 2017.</p>
<h2 id="the-consequences-it-has">The consequences it has</h2>
<h3 id="feature-incompleteness">Feature incompleteness</h3>
<p>After 12 years of development, the implementations of the protocol
still have a series of features incompletely implemented:</p>
<ul>
<li>Color management -
<a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/-/merge_requests/14">1</a>,
<a href="https://github.com/swaywm/wlroots/pull/2353">2</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/issues/1360">3</a>,
<a href="https://invent.kde.org/plasma/kwin/-/issues/11">4</a></li>
<li>Variable refresh rate support -
<a href="https://gitlab.freedesktop.org/wayland/wayland/-/issues/84">1</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/merge_requests/1154">2</a>,
<a href="https://bugs.kde.org/show_bug.cgi?id=405912">3</a></li>
<li>High bit depth display support -
<a href="https://github.com/swaywm/wlroots/issues/1378">1</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/issues/1391">2</a></li>
<li>DRM leasing -
<a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/-/merge_requests/49">1</a>,
<a href="https://github.com/swaywm/wlroots/issues/1723">2</a></li>
<li><a href="https://github.com/obsproject/rfcs/pull/14">Screencasting</a></li>
<li><a href="https://community.teamviewer.com/English/discussion/26340/state-of-wayland-teamviewer">Remote desktop</a></li>
<li><a href="https://github.com/ReimuNotMoe/ydotool">Input simulation and window control</a></li>
<li>Client-side global hotkey binding</li>
<li>Nvidia GPU support - yes it is indeed Nvidia’s fault, but to the
end user it makes no difference</li>
</ul>
<p>As you can see, it’s not so many, and the partial fault here is on
clients rather than servers.</p>
<h3 id="implementation-difficulty">Implementation difficulty</h3>
<p>On the server side, while it’s true that Wayland makes implementing a
display server much easier, implementing a window manager is still a
nightmare. For example, even using a library, you need to write <a href="https://github.com/swaywm/wlroots/tree/master/tinywl" title="tinywl">a
thousand lines of code</a> to implement the absolute bare bones
compositor, which won’t even support such critical things as damage
tracking, hi-DPI, graphical tablets, multiseat, and any input/output
configuration. X, on the other hand, allows you to write as few as <a href="http://incise.org/tinywm.html" title="tinywm">50
lines of code</a> because it handles most of things such as the ones
listed itself.</p>
<h3 id="lack-of-standardization">Lack of standardization</h3>
<p>Wayland’s <a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/">core set of protocols</a> while covering a wide range things,
doesn’t provide ones needed to build a modern desktop environment such
as a desktop shell protocol (to build such things as panels and
launchers), a protocol to simulate input and control windows, a
protocol to control the clipboard, and others, leaving that to the
compositors. While <a href="https://github.com/swaywm/wlr-protocols/" title="wlr-protocols">such a set of protocols</a> does exist, it’s not
adopted by the majority of the compositors. A similar problem is
happening to <a href="https://github.com/flatpak/xdg-desktop-portal" title="xdg-desktop-portal">the set of protocols</a> required to screenshot, screencast
and remote desktop - the adoption by clients is extremely low. This
makes working with Wayland and debugging it much less flexible and
compositor-dependable than X, and makes developing clients even
harder.</p>
<h3 id="lack-of-configurability">Lack of configurability</h3>
<p>In contrast to X.org, which has <a href="https://linux.die.net/man/5/xorg.conf">a unified config system</a>, each
Wayland compositor has to implement configuration separately. This
results in not only inconvenience when trying to move the config from
one compositor to another or describing how to configure something,
but also different feature coverage by different compositors. For
example, a compositor may not implement an input configuration such as
scrolling speed or graphical tablet mapping or an output configuration
such as display bit depth. <a href="https://github.com/Hjdskes/cage/issues/138">In some cases</a> the compositor may not even
implement any input configuration, which makes using it extremely
problematic, especially considering such a problem doesn’t exist when
using X.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Considering the listed problems, the Wayland’s future doesn’t look
that bright. But don’t give up hope just yet, as long as we have
projects like wlroots pushing the innovation, not everything is lost!</p>


			</div></div>]]>
            </description>
            <link>https://kirby.kevinson.org/blog/things-wrong-with-wayland/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525367</guid>
            <pubDate>Thu, 24 Dec 2020 05:55:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does C Have a Runtime?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524989">thread link</a>) | @desi_ninja
<br/>
December 23, 2020 | https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html | <a href="https://web.archive.org/web/*/https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>07 Jun 2020</span></p><p><img src="https://pratikone.github.io/public/images/speech_bubble1.png" alt="bubble" title="Image source : https://pixabay.com/illustrations/speech-bubble-thinking-talk-5775045/" height="auto" width="30%"></p>

<p>Java has a runtime. We have seen countless times to install or update JRE - Java Runtime environment. Python too has runtime. It is provided by the python executable. But what about C ? Does it have a runtime ? I have never come across a C runtime installer. How about C++ ?<br>
The short answer is <strong>YES</strong>. <br>
C has a runtime, albeit a tiny one and C++ also has a runtime. We don’t notice it because it is usually provided by the OS itself and with every new OS update, it gets updated. There is a small exception with that (VC runtime library on Windows) but we will talk about it later. Let’s get to the basics.</p>

<h2 id="what-is-c-runtime-crt-">What is C runtime (CRT) ?</h2>
<p>Whenever we refer to C runtime, we usually mean one or both of these things:</p>
<ol>
  <li><em>Bootstrap and Runtime environment</em>  : It sets up the necessary bootstrapping code which tells the OS how to run this binary code, followed by code for setting up the runtime environment for executing user code. It is included as inline assembly in the compiled binary itself.</li>
  <li><em>Runtime library</em> : it contains functions to interact with the OS; functions to allocate memory, read and write to files, network etc.</li>
</ol>

<h3 id="bootstrap-and-c-runtime-environment">Bootstrap and C runtime environment</h3>
<p>As the name suggests, this is the code which sets up the execution point for the program for the OS to call. It defines the structure of functions, setup call stack and its calling convention (_stdcall, __cdecl ). This is the most important and necessary code to run our program in the OS.  It is specific to the OS version and doesn’t usually change but gets updated by the OS itself during its update. Among those dozens of Windows update we receive regularly, some of them update the CRT too.</p>

<p><img src="https://www.howtogeek.com/wp-content/uploads/2018/06/img_5b2d86d471d92.png" alt="winupdate" title="Please wait while Windows is updating ..." height="auto" width="50%"></p>

<p><a href="https://en.wikipedia.org/wiki/Crt0"><code>crt0</code></a> is a special file which gets linked to every program during the linking phase of compilation. It has basic program loading routines which instruct the compiler on how to call this program’s <code>main()</code> function and even exit the running program. Like everything else in the C and C++ ecosystem, there is a flexibility of choice on including it. If one wants to write his/her own startup code, they can avoid linking to crt0 altogether (<a href="https://gcc.gnu.org/onlinedocs/gcc/Link-Options.html">nostartfiles</a> in GCC) and just provide their code in <code>_start</code> label in assembly (<a href="https://stackoverflow.com/questions/29694564/what-is-the-use-of-start-in-c"><code>_start</code> calls <code>main()</code> of user code</a>). 
In case of C++, <code>crt1</code> can be linked alternatively,  which provides some extra functionality for constructor and destructors.</p>

<h3 id="c-runtime-library">C runtime library</h3>
<p>The runtime library or standard library (<code>stdlib</code>) contains a series of useful functions like <code>malloc</code>, <code>free</code>, <code>printf</code>, <code>memcpy</code> (<a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/crt-alphabetical-function-reference?view=msvc-160">MSVC</a>, <a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins">GCC</a> ) for interacting with the OS which almost every program needs. This part can be statically or dynamically linked. Windows provides libcmt.lib for C and libcpmt.lib for C++. 
If one chooses to link it statically, only the code called by the user’s program gets added to its binary, increasing the size. Removing stdlib can significantly reduce the binary size, which could be as significant as 90% in tiny programs. If one has to create the C code binary with smallest size, this would be the key step in reducing binary size to ~ 1 kb.</p>

<p>If one dynamically links to CRT, this size bump is not there (it is standard for programs to dynamically link to this library for multiple reasons like compatibility with other dll, apart from small size saving). Every OS provides an implementation. <code>UCRT.dll</code> on Windows and <code>libc.so</code> (GLibc) on Linux.</p>

<blockquote>
  <p>Normal dynamic loading of dll rule applies : If the program loads two different versions of CRT dll, they won’t share global variables. Not taking care of this fact could cause very subtle bugs in multi-dll codebases,  in calling runtime functions which maintain any state.</p>
</blockquote>

<p>A user code cannot be faster than its runtime library’s performance.
Runtime libraries keep getting improvements through updates and one can receive those fixes as part of VC++Runtime updates on Windows or libc updates on Linux. Programs compiled with a specific CRT lib may expect that specific or compatible CRT dll. Thus, it is possible to keep side by side copies of different versions of CRT dlls (<a href="https://en.wikipedia.org/wiki/DLL_Hell">DLL hell ?</a>).</p>

<h2 id="all-you-need-is-c">All you need is C</h2>
<p>C runtime is an interesting piece of software - it depends not only on OS and architecture but also on compiler. To give an example, runtime code generated on 64 bit windows by GCC would be different from that generated by MSVC. 
If you want to port C to a brand new OS,  all you need apart from the compiler is a working C runtime and that’s it, C gets ported.</p>

<p>Thanks for reading this far. For the last couple of months, I have been interested in inner workings of C and C++ ecosystem. This is an article in that direction. Tweet any suggestions or corrections to me at <a href="https://twitter.com/pratikone">@pratikone</a></p>

<h2 id="references">References</h2>
<p><a href="https://stackoverflow.com/questions/2709998/crt0-o-and-crt1-o-whats-the-difference">https://stackoverflow.com/questions/2709998/crt0-o-and-crt1-o-whats-the-difference</a></p>

<p><a href="http://www.vishalchovatiya.com/crt-run-time-before-starting-main">http://www.vishalchovatiya.com/crt-run-time-before-starting-main</a></p>

<p><a href="https://blogs.oracle.com/linux/hello-from-a-libc-free-world-part-1-v2">https://blogs.oracle.com/linux/hello-from-a-libc-free-world-part-1-v2</a></p>

<p><a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/c-run-time-library-reference?view=msvc-160">https://docs.microsoft.com/en-us/cpp/c-runtime-library/c-run-time-library-reference?view=msvc-160</a></p>

<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins">https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins</a></p>

</div>





    </div></div>]]>
            </description>
            <link>https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524989</guid>
            <pubDate>Thu, 24 Dec 2020 04:10:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring the methods of looking into Ethereum’s transaction pool]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524749">thread link</a>) | @toxzic
<br/>
December 23, 2020 | https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/ | <a href="https://web.archive.org/web/*/https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img loading="lazy" width="1024" height="542" src="https://chainstack.com/wp-content/uploads/2020/12/image-1-1024x542.png" alt="" srcset="https://chainstack.com/wp-content/uploads/2020/12/image-1-1024x542.png 1024w, https://chainstack.com/wp-content/uploads/2020/12/image-1-300x159.png 300w, https://chainstack.com/wp-content/uploads/2020/12/image-1-768x407.png 768w, https://chainstack.com/wp-content/uploads/2020/12/image-1-1536x814.png 1536w, https://chainstack.com/wp-content/uploads/2020/12/image-1-530x281.png 530w, https://chainstack.com/wp-content/uploads/2020/12/image-1-330x175.png 330w, https://chainstack.com/wp-content/uploads/2020/12/image-1.png 1701w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><h2>Introduction</h2><p>The mempool of the Ethereum mainnetâ€”called transaction pool or txpoolâ€”is the dynamic in-memory area where pending transactions reside before they are included in a block and thus become static.</p><p>The notion of a global txpool is a bit abstract as there is no single defined pool for all pending transactions. Instead, each node on the Ethereum mainnet has its own pool of transactions and, combined, they all form the global pool.</p><p>The thousands of pending transactions that enter the global pool by being broadcast on the network and before being included in a block are an always changing data set that’s holding millions of dollars at any given second.</p><p>There’s a lot that one can do hereâ€”and many do and make this txpool business a highly competitive market.</p><p>A few examples, listed in the order of inconspicuous to contentious:</p><ul><li>Yield farming â€” you can watch the transactions movement between DeFi applications to be one of the first to detect the yield farming profitability changes.</li><li>Liquidity providing â€” you detect the potential liquidity movements in and out of DeFi applications and act on the changes.</li><li>Arbitrage â€” you can detect the movement of transactions that will affect token prices at different DEXes and make your arbitrage trades based on that.</li><li>Front running â€” you can automatically grab the existing pending transactions, simulate them to identify the potential profit if the transaction is executed, copy the transaction and swap the existing address with your own, and submit it with a higher miner fee so that your transaction gets executed on-chain before the one you are copying.</li><li>Doing a MEV â€” MEV stands for Miner Extractable Value, and it’s based on that miners are theoretically free to include any transactions in the blocks and/or reorder them. This is a variation of the front running where instead of submitting your transaction with a higher fee to the same pool you picked it from, you get it directly into a block through a miner and bypass the pool.</li></ul><p>To run any of the described scenarios, you need access to the Ethereum txpool, and you need the methods to retrieve the transactions from the txpool. While Chainstack has you covered with fast dedicated nodes for the former, this article focuses on all the ways you can look into the txpool.</p><h2>Retrieving pending transactions with Geth</h2><p>Since pending transactions are your targets in the txpool space, we are now going to make this a structured effort and focus on answering the following questions while accompanying the answers with practical examples:</p><ul><li>How do I retrieve pending transactions?</li><li>Why do I view global or local pending transactions?</li><li>Can I view global pending transactions without txpool namespace?</li></ul><p>There are a few ways to retrieve pending transactions.</p><ul><li>Filters</li><li>Subscriptions</li><li>Txpool API</li><li>GraphQL API</li></ul><p>Before we start, lets clarify a few things:</p><ul><li><strong>Global pending transactions</strong> refer to pending transactions that are happening globally, which includes your newly created local pending transactions.<br><strong>Local pending transactions</strong> refer strictly to the transactions that you created on your local node. Note that you need â€˜personalâ€™ namespace enabled for Geth to send local transactions.</li><li><strong>Pending transactions</strong> refer to transactions that are pending due to various reasons, like extremely low gas, out of order nonce, etc.</li><li>Chainstack is using <strong>Geth (Go Ethereum)</strong> client.</li></ul><h3>Filters</h3><p>When we create a filter on Geth, Geth will return a unique <code>filter_id</code>. Do note that this <code>filter_id</code> will only live for 5 minutes from the last query on that specific filter. If you query this filter after 5 minutes, the filter will not exist anymore.</p><h4>Creating a pending transaction filter and retrieving data from it</h4><h5>cURL</h5><p><strong>Create filter</strong></p><p>Request body:</p><pre><code>'{"jsonrpc":"2.0","method":"eth_newPendingTransactionFilter","params":[],"id":73}'</code></pre><p>Response body:</p><pre><code>{ "id":73, "jsonrpc": "2.0", "result": "0xb337f6e2f833ecffc6e9315ba06cd03d" }</code></pre><h5>Web3.js</h5><p>Filter for pending transactions is not supported anymore. Please use <a href="#subscriptions">Subscriptions</a>.</p><h5>Web3.py</h5><p><strong>Create filter</strong></p><pre><code>pending_transaction_filter= web3.eth.filter('pending')</code></pre><p><strong>Access filter</strong></p><pre><code>print(pending_transaction_filter.get_new_entries())</code></pre><h3>Common sources of confusion on filters</h3><h4>Web3.py and the pending argument</h4><p>Why does web3.py have their input arguments as <em>pending</em> instead of a dictionary which contains the usual filter parameters like <code>fromBlock</code>, <code>toBlock</code>, <code>address</code>, <code>topics</code>.</p><p>This is because Web3 does the mapping internally. If we look at the <a href="https://github.com/ethereum/web3.py/blob/72457e6f9f3cb6d51fe492d1a65bed7904639760/web3/eth.py#L474" target="_blank" rel="noreferrer noopener nofollow">web3.py source code</a>, when web3.py receives a string pending, it will be mapped to <code>eth_newPendingTransactionFilter</code>, and when web3.py receives a dictionary, it is mapped to <code>eth_newFilter</code>.</p><p>To add to this, web3.py has <code>get_new_entries</code> as well as <code>get_all_entries</code> for filters but <code>get_all_entries</code> does not work in our case. This is because <code>eth_newPendingTransactionFilter</code> does not have <code>get_all_entries</code> available for it.</p><h4>From latest block to pending block filter</h4><p>Why doesn’t the following filter give me real-time pending transactions?</p><pre><code>web3.eth.filter({'fromBlock': 'latest', 'toBlock': 'pending'})</code></pre><p>A filter only returns <code>new_entries()</code> when the state has changed. This specific filter state changes only when there is a new latest block or pending block. Thus, you will only receive changes when there is a new latest block or pending block, i.e. <code>(eth.getBlock('latest') / pending)</code>.</p><h4>The getPendingTransactions filter</h4><p>Why is the following giving me a different or empty result?</p><pre><code>web3.eth.getPendingTransactions().then(console.log)</code></pre><p>This function is mapped to <code>eth.pendingTransactions</code> which is a function to check local pending transactions and does not give you global transactions.</p><p>Based on the <a href="https://github.com/ethereum/go-ethereum/blob/ead814616c094331915b03edd82d4200a7880178/internal/ethapi/api.go#L1700" target="_blank" rel="noreferrer noopener nofollow">Geth source code</a>, only <code>pendingTransactions</code> that has its <code>from</code> field matching with your personal account will be shown.</p><h3 id="subscriptions">Subscriptions</h3><p>Subscriptions is real-time streaming of data from server to client through WebSocket. You will need a constantly active connection to stream such events. You cannot use curl for this and have to use a WebSocket client like <a href="https://github.com/vi/websocat" target="_blank" rel="noreferrer noopener nofollow">websocat</a> if you want to access it via command line. Once executed, a stream of pending transaction IDs will start flowing in.</p><p>For other supported subscriptions, check the Geth documentation: <a href="https://geth.ethereum.org/docs/rpc/pubsub#supported-subscriptions" target="_blank" rel="noreferrer noopener nofollow">Supported Subscriptions</a>.</p><h4>Creating a subscription</h4><h5>Websocat</h5><p><strong>Connect to node</strong></p><pre><code>websocat wss://username:<a href="https://chainstack.com/cdn-cgi/l/email-protection" data-cfemail="a8d8c9dbdbdfc7dacce8dfdb85c6cc85999a9b859c9d9e859f909186d89ad8c1ced186cbc7c5">[email&nbsp;protected]</a></code></pre><p><strong>Create subscription</strong></p><p>Request body:</p><pre><code>{"id": 1, "method": "eth_subscribe", "params": ["newPendingTransactions"]}</code></pre><p>Response body:</p><pre><code>{"jsonrpc":"2.0","id":1,"result":"0x2d4f3eb938cdb0b6fa9052de7c4da5de"}</code></pre><p><strong>Incoming stream</strong></p><pre><code>{"jsonrpc":"2.0","method":"eth_subscription","params":{"subscription":"0x2d4f3eb938cdb0b6fa9052de7c4da5de","result":"0xee426dbaef2a432d0433d5de600347e97b6a8a855daf8765c18cf1b7efc53461"}}
...</code></pre><h3>Txpool API</h3><p>Txpool is a Geth-specific API namespace that keeps pending and queued transactions in the local memory pool. Geth’s default is 4096 pending and 1024 queued transactions. However, <a href="https://etherscan.io/txsPending" target="_blank" rel="noreferrer noopener nofollow">Etherescan reports</a> a much bigger number of pending transactions. If we view Geth’s txpool, we will not be able to get all of the transactions. Once the pool of 4096 is full, Geth replaces older pending values with newer pending transactions.</p><p>If you need a bigger pool to be stored on your node, the flag <code>--txpool.globalslots</code> can be adjusted to a higher value on <a href="https://geth.ethereum.org/docs/interface/command-line-options" target="_blank" rel="noreferrer noopener nofollow">Geth CLI options</a>. Do note that the larger the number, the bigger the payload size.</p><p>If you see your <code>txpool_status</code> to be empty, it can mean your node has not fully synced.</p><p>The txpool namespace is only supported on Chainstack dedicated nodes.</p><h4>Creating a txpool filter</h4><h5>cURL</h5><p><strong>Create filter</strong></p><p>Request body:</p><pre><code>{"jsonrpc":"2.0","method":"eth_newPendingTransactionFilter","params":[],"id":73}</code></pre><p>Response body:</p><pre><code>{ "jsonrpc": "2.0", "id": 73, "result": { "pending": {...}, "queued": {...} } }</code></pre><h5>Web3.js</h5><p><a href="https://web3js.readthedocs.io/en/v2.0.0-alpha/web3-eth-txpool.html" target="_blank" rel="noreferrer noopener">TxPool Module</a>.</p><h5>Web3.py</h5><p><a href="https://web3py.readthedocs.io/en/stable/web3.geth.html" target="_blank" rel="noreferrer noopener">Geth API</a>.</p><h3>GraphQL API</h3><p>The biggest advantage of <a href="https://chainstack.com/graphql-on-ethereum-availability-on-chainstack-and-a-quick-rundown/" target="_blank" rel="noreferrer noopener">using GraphQL</a> is that you can filter out the specific fields of the transaction that you want. The query in GraphQL goes through the elements within the txpool. Thus, its limitations are the same as the ones of txpool as stated above.</p><p>The following is an example which shows the information of a pending transaction.</p><p>Query example:</p><pre><code>query {
  pending {
    transactions {
      hash
      gas
      value
      gasPrice
      nonce
      r
      s
      v
      inputData
      status
      gasUsed
      cumulativeGasUsed
      from {
        address
      }
      to {
        address
      }
    }
  }
}</code></pre><p>GraphQL API is currently supported on Chainstack <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">dedicated Ethereum nodes</a>.</p><p>I hope this blog serves you well in understanding the various ways of retrieving pending transactions.</p><h2>Additional resources</h2><ul><li><a href="https://web3js.readthedocs.io/en/v1.3.0/web3-eth.html" target="_blank" rel="noreferrer noopener nofollow">Web3.eth</a></li><li><a href="https://eth.wiki/json-rpc/API" target="_blank" rel="noreferrer noopener nofollow">Ethereum JSON-RPC API</a></li><li><a href="https://support.chainstack.com/hc/en-us/articles/900000820506-Checking-pending-and-queued-transactions-in-your-Ethereum-node-s-local-pool" target="_blank" rel="noreferrer noopener">Checking pending and queued transactions in your Ethereum node’s local pool</a></li><li><a href="https://support.chainstack.com/hc/en-us/articles/900003426246-Subscribing-to-global-new-pending-transactions" target="_blank" rel="noreferrer noopener">Subscribing to global new pending transactions</a></li></ul><h2>Join our community of innovators</h2><ul><li>To learn more about Chainstack, visit our <a href="https://docs.chainstack.com/" target="_blank" rel="noreferrer noopener">Knowledge Center</a> or join our <a href="https://gitter.im/chainstack/Lobby" target="_blank" rel="noreferrer noopener">Gitter Lobby</a>.</li><li>Sign up for a <a href="https://console.chainstack.com/user/account/create" target="_blank" rel="noreferrer noopener">free Developer account</a>, or explore the options offered by <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">Growth or Business plans</a>.</li><li>Take a look at our pricing tiers using a <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">handy calculator</a> to estimate usage and number of nodes.</li></ul><p>Have you already explored what you can achieve with Chainstack? <a rel="noreferrer noopener" href="https://console.chainstack.com/user/account/create" target="_blank">Get started for free today</a>.</p></div></div>]]>
            </description>
            <link>https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524749</guid>
            <pubDate>Thu, 24 Dec 2020 03:15:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Three Great Videos About Regex Derivatives]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524555">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | http://www.oilshell.org/blog/2020/12/regex-videos.html | <a href="https://web.archive.org/web/*/http://www.oilshell.org/blog/2020/12/regex-videos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  <!-- INSERT LATCH HTML -->
<p><a href="http://www.oilshell.org/blog/">blog</a> | <a href="http://www.oilshell.org/">oilshell.org</a></p>

<p>
  2020-12-23
</p>
<p>I usually don't post videos here, but the first one in this series <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">got a
positive reaction on Reddit</a>, and there are two more.</p>
<p>I've been interested in implementing simple and efficient <strong>regex matching</strong>
with the derivatives technique for a couple years. But I haven't had time to
play with code that implements it, or read the original papers more carefully.</p>
<p>These videos helped me understand the technique despite the fact I haven't
done math in over a decade.  Others apparently felt the same way.  The
explanation is simple but not dumbed down.</p>
 
<a name="context"></a>
<h2>Context</h2>
<p>For context, see the two July 2020 posts  tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=eggex#eggex">eggex</a>,
particularly <a href="http://www.oilshell.org/blog/2020/07/ideas-questions.html#regular-expression-derivatives-papers-and-code">this part of the second post, on derivatives</a>.</p>
<p>Summary: A 2009 paper revived this regex matching technique.  There have been
many implementations since, though no popular ones.</p>
<a name="how-does-this-relate-to-shell"></a>
<h3>How Does This Relate to Shell?</h3>
<ul>
<li>As mentioned in those posts, a <strong>glob</strong> like <code>[a-c]*.py</code> is essentially a
limited form of regex.
<ul>
<li>I noted in <a href="https://news.ycombinator.com/item?id=25491467">this Hacker News comment</a> that the obscure
"extended glob" feature of bash gives globs the power of regular
expressions, by adding repetition and alternation.</li>
</ul>
</li>
<li>It would be nice if <a href="http://www.oilshell.org/cross-ref.html?tag=eggex#eggex">egg expressions</a> could be <strong>compiled</strong> to a
full DFA in C, as we do in <a href="http://www.oilshell.org/blog/tags.html?tag=lexing#lexing">Oil's lexer</a> via <a href="http://www.oilshell.org/cross-ref.html?tag=re2c#re2c">re2c</a>.
<ul>
<li>This seems doable, and the author of an <a href="https://github.com/jack-pappas/facio/tree/master/Reggie">F# compiler
toolkit</a> relays
valuable experience at the bottom of the thread.  I'd like to do the same
thing without the .NET runtime, depending only on code in Oil.</li>
</ul>
</li>
<li>It would be nice if <a href="http://www.oilshell.org/cross-ref.html?tag=eggex#eggex">egg expressions</a> weren't limited to the
features of the pattern matching engine in <a href="http://www.oilshell.org/cross-ref.html?tag=libc#libc">libc</a>.  Non-greedy
capturing like <code>foo.*?bar</code> would be nice, although capturing and matching are
two different problems.</li>
</ul>
<a name="easytheory-videos"></a>
<h2>EasyTheory Videos</h2>
<a name="derivative-of-a-regex-brzozowski-derivative"></a>
<h3>Derivative of a Regex?! (Brzozowski Derivative)</h3>
<p>This video explains what a derivative is using the recursive definition of
regular expressions.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/s9EPoy9r-ok" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope;
picture-in-picture" allowfullscreen=""></iframe>

<a name="example"></a>
<h3>Example</h3>
<p>This one walks through an example of a regex and its derivative.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/P9FtoOCZMDM?list=PLylTVsqZiRXN3Q86XJV6OWOmIzvVZs75E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<a name="regex-to-dfa-directly-using-brzozowski-derivatives-no-nfa"></a>
<h3>Regex to DFA Directly Using Brzozowski Derivatives (No NFA)</h3>
<p>This one shows how to directly convert a regular expression to a DFA with
derivatives.  This is interesting because DFAs can be executed efficiently.
See the <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">Reddit thread</a> for more color on this.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/rcjR3--M7iM?list=PLylTVsqZiRXN3Q86XJV6OWOmIzvVZs75E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<a name="why-call-this-operation-a-derivative"></a>
<h2>Why Call This Operation a Derivative?</h2>
<p>I don't know, and the videos don't explain it!  I assume there is some
connection between algebra and calculus.</p>
<p>The <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">Reddit thread</a> has some speculation on this.  <a href="https://old.reddit.com/r/oilshell/comments/kj6svq/three_great_videos_about_regex_derivatives/?">Leave a
comment</a> if you have ideas.</p>
<p>I recently explained that <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/k5yj4c/modern_parser_generator/geiew2e/">languages are sets, not algorithms</a>.
And MathOverflow says that <a href="https://math.stackexchange.com/a/1574197">derivatives can be expressed in set
theory</a>.  But I don't know if that's
a useful way to think about it.</p>
<a name="more-info"></a>
<h2>More Info</h2>
<ul>
<li>These videos are part of the <a href="https://www.youtube.com/c/EasyTheory/videos">EasyTheory
channel</a>, which started 9 months
ago, and has many videos that go deeply into the theory of computation.
<ul>
<li>Caveat: this is pure theory, and I'm mainly interested in <strong>engineering
consequences</strong>, like compiling with fewer lines of code and executing
efficiently.  Posts tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=computer-science#computer-science">computer-science</a> explain other
such connections.</li>
</ul>
</li>
<li>Recent posts tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=eggex#eggex">eggex</a>:
<ul>
<li><a href="http://www.oilshell.org/blog/2020/07/eggex-theory.html">Comments on Eggex and Regular
Languages</a> (July 2020)</li>
<li><a href="http://www.oilshell.org/blog/2020/07/ideas-questions.html">Regular Languages, Part 2: Ideas and
Questions</a> (July
2020).  This post contains the section with many links about regex
derivatives, also linked above.</li>
</ul>
</li>
</ul>
<p><strong>Ad</strong>: I'm looking for help with Oil, which is written in Python, shell, and
C++.  See our
<a href="https://github.com/oilshell/oil/blob/master/README.md">README.md</a>.</p>




</div>]]>
            </description>
            <link>http://www.oilshell.org/blog/2020/12/regex-videos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524555</guid>
            <pubDate>Thu, 24 Dec 2020 02:34:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fitting all human knowledge in a box]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25524460">thread link</a>) | @moj3
<br/>
December 23, 2020 | https://monadical.com/posts/knowledge-in-box.html | <a href="https://web.archive.org/web/*/https://monadical.com/posts/knowledge-in-box.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://monadical.com/posts/knowledge-in-box.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524460</guid>
            <pubDate>Thu, 24 Dec 2020 02:11:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fabbrica: A sans serif typeface with a utilitarian aesthetic]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524216">thread link</a>) | @kmckiern
<br/>
December 23, 2020 | https://www.cinetype.com/fabbrica | <a href="https://web.archive.org/web/*/https://www.cinetype.com/fabbrica">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.cinetype.com/fabbrica</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524216</guid>
            <pubDate>Thu, 24 Dec 2020 01:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rocky Linux December 2020 community update]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25523895">thread link</a>) | @curt15
<br/>
December 23, 2020 | https://forums.rockylinux.org/t/community-update-december-2020/1157 | <a href="https://web.archive.org/web/*/https://forums.rockylinux.org/t/community-update-december-2020/1157">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          


          <p><span>
              <meta itemprop="datePublished" content="2020-12-23T03:10:41Z">
              <time itemprop="dateModified" datetime="2020-12-23T16:26:26Z">
                December 23, 2020,  4:26pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<h2>Summary</h2>
<p>Our teams are working to coordinate the many individuals and organizations that have offered to help advance The Rocky Linux Foundation, Inc. (Rocky Linux). The core team is working to lay the infrastructure that will support the legal entity and the engineering efforts required to deliver and support an initial release. Updates regarding project news, release dates, and more will be announced on our <a href="https://forums.rockylinux.org/">forums</a>, <a href="https://rockylinux.org/">website</a>, and <a href="https://forums.rockylinux.org/t/all-rocky-linux-links/833">other social media platforms</a>.</p>
<h3>Timeline</h3>
<p>Transparency with the community and for those that will be relying on Rocky Linux to supplant their CentOS 8 installations before support expiration is paramount. We will soon be communicating a timeline for the delivery of the following:</p>
<ul>
<li>Build systems and infrastructure readiness</li>
<li>Automatic package build infrastructures</li>
<li>When the testing package repository will be made public</li>
<li>Installer testing readiness</li>
<li>ETA for length of time needed for community testing</li>
<li>Release candidate availability</li>
</ul>
<p>We are targeting Q2 2021 to deliver our first release of Rocky Linux, made available not only in standard commercial regions, but also <a href="https://aws.amazon.com/govcloud-us">GovCloud</a>, and China.</p>
<hr>
<p>Over the past three weeks, here is some of the progress we’ve made:</p>
<h2>Infrastructure</h2>
<ul>
<li>We have selected and vetted auditing, logging, and user account management tooling.</li>
<li>Amazon Web Services (AWS):
<ul>
<li>The team selected AWS as the primary build platform for development of Rocky Linux. AWS was chosen primarily to protect the integrity of the software supply chain for Rocky Linux.</li>
<li>Unfortunately, donated hardware and rack space isn’t sufficient to meet our supply chain integrity needs.</li>
<li>Traditional physical hardware separate from our production build environment will still be necessary, and we expect a large portion of our infrastructure will exist outside of AWS for the purposes of business continuity, cost, and platform agnosticity.</li>
<li>We have outlined an infrastructure to best secure and facilitate our engineering efforts using multiple VPCs, subnets, and regions for high availability.</li>
</ul>
</li>
<li>Data Centers:
<ul>
<li>We are negotiating with several data center providers for the secure hosting of our physical infrastructure.</li>
<li>After we have our physical infrastructure provider solidified, we will reach back out to those that have offered to donate hardware .</li>
<li>Discussions with the Oregon State University Open Source Lab (<a href="https://osuosl.org/">OSUOSL</a>) regarding resources are in the works.</li>
</ul>
</li>
</ul>
<p>The core tenets of the Infrastructure Team are:</p>
<ul>
<li>To provide a platform for the automatic and secure builds of packages and components which will allow for community participation without sacrificing security or trust in the resulting packages</li>
<li>The integrity of the build pipeline and software supply chain are paramount.</li>
<li>Be as vendor and platform agnostic as possible. Avoid vendor lock-in.</li>
<li>Be transparent with the community, to the extent possible and practical.</li>
</ul>
<h2>Release Engineering and Packaging</h2>
<ul>
<li>The build process for Rocky Linux will use <a href="https://fedoraproject.org/wiki/Koji">Koji</a> and <a href="https://pagure.io/fm-orchestrator/tree/master">MBS</a>.</li>
<li>We are developing scripts and build tools to create a pipeline that allows pulling sources, debranding, and building through Koji and <a href="https://github.com/rpm-software-management/mock/wiki">Mock</a>.</li>
<li>The progress of proof of concepts and processes utilized by the Rocky Linux build process, including all errors and dependencies, is being documented in the <a href="https://wiki.rockylinux.org/en/Development">wiki</a>.</li>
</ul>
<h2>Security</h2>
<ul>
<li>The Security team has drafted a Data Classification Policy, which will be made available for public comment pending review.</li>
<li>Groups, members, and permissions structures for the build infrastructure have been laid out for review and evaluation.</li>
<li>In parallel with the infrastructure team, we have architected and designed AWS network and security topologies aligned with best practices and security standards.</li>
<li>Work has started on OpenSCAP documents for popular STIGs.</li>
<li>Plans are being made with the goal of Rocky Linux becoming FIPS compliant.</li>
</ul>
<h2>Web</h2>
<ul>
<li>In only 12 days, our <a href="https://forums.rockylinux.org/">forums</a> have received nearly 150K page views.</li>
<li>Bandwidth to GitHub resources has exceeded the current plan, requiring an upgrade.</li>
</ul>
<h2>Community</h2>
<ul>
<li>We have chosen <a href="https://rbcreative.team/">Red Barn Creative Team</a> (<em>formerly Hackerthreads</em> ) as the designated / authorized vendor to sell Rocky Linux branded merchandise. We are awaiting proofs from their designers to present to the community, and will as well be accepting submissions for designs.</li>
<li>Over 370 people have responded to our <a href="https://docs.google.com/forms/d/e/1FAIpQLSfEXnqD1sNHz9cslkMNOk6krUtDdSCYbxL68TTsn7uGZnoSFQ/viewform">form for registering volunteers</a> and supporters.</li>
<li>A blog and mailing list for future announcements and community updates is in development.</li>
<li>We have outgrown Slack due to the size of the community and required feature sets, and will therefore be migrating to <a href="https://mattermost.com/">Mattermost</a>. This open source platform has a number of features we’ll be taking advantage of, including: an IRC bridge, multi-factor authentication, advanced logging / auditing / security capabilities, and fidelity in channel and access permissions.</li>
<li>Social media following:
<ul>
<li>4.3K active members on Slack</li>
<li>169 followers on <a href="https://linkedin.com/company/rockylinux">LinkedIn</a> with 1.3K post impressions</li>
<li>4K followers on <a href="https://twitter.com/rocky_linux">Twitter</a> with an average of 22K impressions and 3575 interactions per tweet</li>
<li>3K members in <a href="https://www.reddit.com/r/RockyLinux">/r/RockyLinux on Reddit</a>.</li>
</ul>
</li>
</ul>
<h2>Special Interest Groups (SIG)</h2>
<ul>
<li>We have received a number of requests for SIGs on a variety of different topics:
<ul>
<li>Desktop / Laptop</li>
<li>Enhanced Security</li>
<li>Kubernetes / Cloud Native</li>
<li>Minimal Install / OS Bootstrap</li>
<li>Storage appliance</li>
<li>HPC and next generation HPC</li>
</ul>
</li>
<li>The evolution of a SIG should result in optional package repositories and/or custom installers.</li>
<li>We will need leaders for SIGs as well as proposals.</li>
<li>Timelines for these proposals will be coming soon.</li>
</ul>
<p><em>Note: Rocky Linux is first and foremost a freely available Enterprise Linux clone. SIGs will optionally enhance that base and provide extra packages and capabilities to that stable base. At no point will a SIG affect the default core of Rocky Linux.</em></p>
<h2>Sponsors</h2>
<ul>
<li>We have a number of companies who have stepped up to sponsor the Rocky Linux Foundation in the form of developers, hardware, cloud instances, and money.</li>
<li>Sponsorship will have different levels, and we are happy to speak with organizations interested in helping.</li>
<li>All contributors will be publicly thanked on our website.</li>
</ul>
<h2>Legal</h2>
<ul>
<li>The Rocky Linux Foundation, Inc. has been registered as a legal not-for-profit entity in the United States (Delaware).</li>
<li>An application for 501(​c)(3) non-profit status will be submitted as we mature and can afford the legal representation to do so.</li>
<li>We are considering licensing for our data that will enable the greatest flexibility for our community. At present, the team is leaning towards the 3 Clause BSD license, but community input is welcome on this decision.</li>
</ul>
<h2>Localization</h2>
<ul>
<li>A <a href="https://forums.rockylinux.org/c/localization/10">localization category</a> has been created on our forums, with many people interested in helping with translations to a number of languages including Spanish, French, Italian, German, Chinese, Afrikaans, Greek, Turkish, and many more.</li>
<li>We will be working to ensure future newsletters are translated to as many languages as possible.</li>
</ul>
<p>If you have an interest in assisting with translations, please reach out via the <a href="https://forums.rockylinux.org/c/localization/10">localization category of our forums</a>.</p>
<hr>
<p>Lastly, this wouldn’t at all be possible without <em>you</em>. We’re immensely grateful for the community’s enthusiasm, excitement, and help. Rocky Linux is, and will  remain a community-driven effort.</p>
<p>If you would like to contribute to Rocky Linux, please take a moment to fill out our <a href="https://forms.gle/F3crDYVkq79pDtr49">participation form</a> if you haven’t already done so. This form will allow us to expand and gauge interest in teams.</p>
<p>If you have any questions, comments, concerns, suggestions, or would like to help out, please reach out to us via email at:  <a href="mailto:hello@rockylinux.org">hello@rockylinux.org</a>.</p>
<p>Sincerely,<br>
The Rocky Linux Foundation<br>
<a href="https://rockylinux.org/">https://rockylinux.org</a></p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">
          <meta itemprop="keywords" content="">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/jorp"><span itemprop="name">jorp</span></a>
            
              pinned globally 
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T03:40:32Z">
                December 23, 2020,  3:40am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T03:40:32Z">
          <span itemprop="position">#2</span>
          </span>
        </p></div>
        

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>Thanks for the update <a href="https://forums.rockylinux.org/u/jorp">@jorp</a>, great summary.</p>
<p>Minor nit, can we change the wording of ‘Spring 2021’ to something more internationally consistent? eg. a month or quarter in 2021.</p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/jorp"><span itemprop="name">jorp</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T06:02:44Z">
                December 23, 2020,  6:02am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T06:02:44Z">
          <span itemprop="position">#5</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>That was a great suggestion and definitely not a nitpick in my book. I’ve edited accordingly, thank you for pointing that out.</p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/defcon3"><span itemprop="name">defcon3</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T08:45:14Z">
                December 23, 2020,  8:45am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T08:45:14Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        <p>GREAT,<br>
thanks for the update.</p>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/Faisal"><span itemprop="name">Faisal</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T09:15:26Z">
                December 23, 2020,  9:15am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T09:15:26Z">
          <span itemprop="position">#7</span>
          </span>
        </p></div>
        <p>I’m suggesting something that maybe seen as a huge undertake that I don’t know if it’s even possible or at least could prove stable.<br>
A migration script from CentOS 7/8 to our Rocky.</p>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/muzilee"><span itemprop="name">muzilee</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T09:35:52Z">
                December 23, 2020,  9:35am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T09:35:52Z">
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/xtus"><span itemprop="name">xtus</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T10:14:56Z">
                December 23, 2020, 10:14am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T10:14:56Z">
          <span itemprop="position">#9</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>I’m not a US …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://forums.rockylinux.org/t/community-update-december-2020/1157">https://forums.rockylinux.org/t/community-update-december-2020/1157</a></em></p>]]>
            </description>
            <link>https://forums.rockylinux.org/t/community-update-december-2020/1157</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523895</guid>
            <pubDate>Thu, 24 Dec 2020 00:24:04 GMT</pubDate>
        </item>
    </channel>
</rss>
