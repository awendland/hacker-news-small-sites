<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sun, 27 Dec 2020 17:02:47 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sun, 27 Dec 2020 17:02:47 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Show HN: System for Private Data Management]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25542456">thread link</a>) | @dariuszW
<br/>
December 26, 2020 | http://personal-management-system.pl/login | <a href="https://web.archive.org/web/*/http://personal-management-system.pl/login">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>

            <div>

                <h3>Personal Management System</h3>
                <p><img src="http://personal-management-system.pl/assets/images/logo/smaller.png">
                </p>
                <h4>Login</h4>
                                <form method="post">
                    <p><label>Username:</label>

                                                
                    </p>
                    <p><label>Password:</label>

                                                
                    </p>

                    

                    <div>
                        <div>
                            <div>
                                <p>
                                    <label for="inputCall1">
                                        <span>Remember Me</span>
                                    </label>
                                </p>
                            </div>
                            
                        </div>
                    </div>

                                                                                <div>
                        <p>
                            
                            <a href="https://github.com/Volmarg/personal-management-system" target="_blank"> Github project </a>
                        </p>
                    </div>
                    <div>
                        <p>
                            
                            <a href="https://volmarg.github.io/" target="_blank">Documentation</a>
                        </p>
                    </div>

                </form>

            </div>
        </div>
    </div></div>]]>
            </description>
            <link>http://personal-management-system.pl/login</link>
            <guid isPermaLink="false">hacker-news-small-sites-25542456</guid>
            <pubDate>Sat, 26 Dec 2020 10:03:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Hacker News Daily ‚Äì Lightweight glance over the past best stories]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25542226">thread link</a>) | @lopespm
<br/>
December 26, 2020 | https://lopespm.github.io/hackernews-daily | <a href="https://web.archive.org/web/*/https://lopespm.github.io/hackernews-daily">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<a href="https://news.ycombinator.com/item?id=25539319">
						
							
								<p>"&gt; "But why", I hear from the back. Having Linux available makes it easier to port emulators and fb or console games.&gt; Most importantly, because I can.Good. All I can say is at least it is something different to what I keep seeing on HN. (React, Rust, Kubernetes, JAMstack, JavaScript, etc.)Probably present this somewhere in a conference (CCC, FOSDEM, etc). Who knows who could be looking at this."</p>
							
						
							
								<p>"To be clear, this is a tech demo; we're long past the point where running anything useful on a system with graphics and 4MB (8MB with expansion) of RAM under Linux is reasonable. You can barely get the kernel itself that small. There's a reason why even cheapo consumer routers have at least 64MB of RAM.So it's for fun; you won't be able to run any existing "normal" Linux emulators and you'd be better off porting stuff to run on bare metal than trying to squeeze it in under Linux on an N64. Cool project, fun, great that it's getting upstreamed... just keep in mind it's not really useful for end users for anything (unlike, say, Wii Linux, where with ~80MB of RAM you can actually get somewhere, though still with many limitations).OTOH, as other people have mentioned, it makes a good test case for N64 emulators. If they can run this, that's good validation."</p>
							
						
							
								<p>"This is, of course, cool. No doubt. I have an EverDrive 64 and I‚Äôll probably test this out later today or tomorrow.I am skeptical that this would be the preferred way to port emulators or graphical games. You‚Äôre not getting a budget SGI workstation out of this, because the OS kernel itself is only a small part.The N64 is built around a chip called the Reality Control Processor, or RCP. This contains the RSP, stripped-down MIPS CPU core with a fixed-point SIMD vector unit, and the RDP, a rasterization engine that does simple trilinear texture interpolation and color blending. This is the hard part of programming the N64, and it‚Äôs not something that‚Äôs addressed by swapping out the OS kernel.There are‚Ä¶ a number of major challenges you will still have to face if you want to make homebrew software for the N64, unless you are okay with just having something on the CPU and writing to the framebuffer."</p>
							
						
						</a>
					</div>
				</div></div>]]>
            </description>
            <link>https://lopespm.github.io/hackernews-daily</link>
            <guid isPermaLink="false">hacker-news-small-sites-25542226</guid>
            <pubDate>Sat, 26 Dec 2020 08:51:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WebGL Shader Experiment]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25542101">thread link</a>) | @germanka
<br/>
December 26, 2020 | https://gyro851.github.io/webgl-shader-experiment/ | <a href="https://web.archive.org/web/*/https://gyro851.github.io/webgl-shader-experiment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://gyro851.github.io/webgl-shader-experiment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25542101</guid>
            <pubDate>Sat, 26 Dec 2020 08:08:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Manga Guide to Lisp]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25541919">thread link</a>) | @joubert
<br/>
December 25, 2020 | http://lambda.bugyo.tk/cdr/mwl/ | <a href="https://web.archive.org/web/*/http://lambda.bugyo.tk/cdr/mwl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://lambda.bugyo.tk/cdr/mwl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25541919</guid>
            <pubDate>Sat, 26 Dec 2020 06:57:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Japanese Sentence Structure Intro]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25541124">thread link</a>) | @sova
<br/>
December 25, 2020 | https://japanesecomplete.com/articles/?p=1265 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/articles/?p=1265">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1265">

	

	
			<figure>
				<img width="1568" height="1045" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/lanterns.jpg" alt="" loading="lazy">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>Aside from always having a verb at the end, Japanese does not depend on sequence.  Japanese is a grammar defined by <em>grammar particles</em>, functional ‚Äúwords‚Äù that glue on to nouns to indicate what purpose the noun serves.</p>



<p>Here we highlight some common Japanese particles in a slice of the „Å≤„Çâ„Åå„Å™ [hiragana] syllabary.</p>



<figure><img loading="lazy" width="1069" height="834" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/japanese-particles.png" alt=""></figure>



<p>You can practice your üéµ listening comprehensionüëÇ of the „Å≤„Çâ„Åå„Å™ üéé <a href="http://japanesecomplete.com/hiragana">here</a>.  But we digress, Japanese relies on <em>grammatical particles</em> to indicate the <strong>who, what, when,  where, and how</strong> of a sentence.</p>



<h2><strong>Who, what, when, where, and how</strong>.</h2>



<h2>„Åß  (de) <strong>where and how</strong></h2>



<p>For example, „Åß [‚Äúdeh‚Äù] implies <em>manner of accomplishment</em> or <em>setting-locality where something takes place.</em> Mapping to English, we cover the <strong>where</strong> [setting] and <strong>how</strong> [means] with „Åß„ÄÇ</p>



<figure><img loading="lazy" width="246" height="142" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.34.24-PM.png" alt=""></figure>



<hr>



<h2>„Å´ (ni) where and when</h2>



<p>For destinations, or specific times, or precise physical points of existence (being), Japanese relies on the use of the <em>grammatical particle</em> „Å´ [‚Äúni‚Äù as in, <a href="https://www.youtube.com/watch?v=zIV4poUZAQo">‚Äúwe are the knights who say‚Ä¶‚Äù</a>].  „Å´ [‚Äúknee!‚Äù] therefore covers <strong>where</strong> [destination] and <strong>when</strong> [moment].</p>



<figure><img loading="lazy" width="648" height="446" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.36.55-PM.png" alt=""></figure>



<hr>



<h2>„Åå  (ga) who and what</h2>



<p>The <em>grammatical particle</em> „Åå [‚Äúga‚Äù] is used to explain <strong>who</strong> and <strong>what</strong> when used as the <strong>grammatical subjects</strong> of a sentence.  </p>



<p>For example: Vegetables are delicious.  Candy is sweet.<br>  (Veggies are <strong>what</strong> is delicious)<br>  (The candy is <strong>what</strong> is sweet)</p>



<figure><img loading="lazy" width="366" height="295" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.38.46-PM.png" alt=""></figure>



<hr>



<p>Finally, in this brief primer, we want to show the concept of <strong>bunsetsu jar</strong> which we have featured on our <a href="http://japanesecomplete.com/reverse-engineer/">‚ÄúReverse Engineer Some Japanese‚Äù</a> page.</p>



<figure><img loading="lazy" width="737" height="138" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.41.05-PM.png" alt=""></figure>



<p>Within a <strong>bunsetsu jar</strong>, we place a noun and cap off the <strong>jar</strong> with a <strong>lid</strong> containing a <em>grammatical particle</em> such as „Åå„ÄÅ„Å´„ÄÅ„Åß or one of the many others.  </p>



<p>In total, there is an estimated 233 + particles (some are multi-mora, that is, multiple letters) and we teach them in a gradual and comprehensible way in <a href="https://japanesecomplete.com/articles/?p=83">Japanese Complete</a>.</p>



<p>Finally, a sentence-final verb is placed at the end of a sentence.  In English, this would be akin to moving the ‚Äúis/are‚Äù or ‚Äúbe/exists‚Äù verb to the end of every sentence.  Japanese fun is.  Grammar easy is.  Japanese-about thinking = interesting is.</p>



<p>So that‚Äôs it. You pick your nouns, you pick the <em>grammatical particles</em> to match based on the meaning of <strong>who, what, when, where, and how</strong>, and you figure out the sentence-final verb element.  Now you‚Äôre thinking in Japanese.</p>



<p>Of course, developing the reflex and intuition around this takes some practice, which is why we devised quizzes for Japanese Complete that help train your intuition on the particles, one-by-one.  You can watch a brief video showing some of the quizzes in action on our <a href="https://japanesecomplete.com/guide">free guide page</a>.</p>



<hr>



<h2>Kanji in English Context</h2>



<p>In order to accelerate Kanji comprehension into English context, as you can see in a sonnet by Shakespeare on <a href="http://japanesecomplete.com/learning-to-read">this page</a>.  This pattern follows a similar pattern of adoption that native Japanese took: grab kanji from mainland Asia for their ideographic value and smash them together with your native syllabary to add helpful meaning, nuance, and context.</p>



<figure><img loading="lazy" width="496" height="177" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.46.27-PM.png" alt=""></figure>



<p><strong>Temple NI arrive.</strong> [unstated subjects arrive to the temple]</p>



<p><strong>Enter-before NI, hands OH let‚Äôs wash, NE.</strong> [before entering, let‚Äôs wash our hands, right?]</p>



<p>We‚Äôve created a substack newsletter to share <em>Kanji in English Context </em>once or twice a month, you can <a href="https://japanesecomplete.substack.com/p/coming-soon">sign up for it here</a> if you‚Äôre interested in getting interesting <em>Kanji in English Context</em> lessons to your inbox.</p>



<hr>



<p>One great thing about Japanese grammar is that the <strong>bunsetsu jars</strong> can be arranged in any sequence before the final verb, provided each noun has its appropriately matching <em>grammar particle</em> glued on and intact.  This leads to great fun with parsing, as one can create a <a href="https://japanesecomplete.com/articles/?p=811">rudimentary Japanese grammar parser</a> from a 5-line EBNF grammar.</p>



<figure><img loading="lazy" width="1080" height="1349" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/osaka-castle.jpg" alt=""></figure>



<p>Hopefully this post made the inner mechanics of Japanese more clear.  Developing intuition and unlocking the language takes study, practice, and determination!  If you‚Äôre looking for a program to break the language down logically <strong>and</strong> provide practice and training to help your newfound understanding become intuitive and fast, might we humbly suggest <a href="https://japanesecomplete.com/">Japanese Complete</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://japanesecomplete.com/articles/?p=1265</link>
            <guid isPermaLink="false">hacker-news-small-sites-25541124</guid>
            <pubDate>Sat, 26 Dec 2020 03:25:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Disabled snap store in Linux Mint 20]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25540780">thread link</a>) | @backing
<br/>
December 25, 2020 | https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html#disabled-snap-store-in-linux-mint-20 | <a href="https://web.archive.org/web/*/https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html#disabled-snap-store-in-linux-mint-20">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div id="snap-store">

<p>The <a href="https://snapcraft.io/">Snap Store</a>, also known as the <cite>Ubuntu Store</cite>, is a commercial centralized software store operated by <a href="https://canonical.com/">Canonical</a>.</p>
<p>Similar to AppImage or Flatpak the Snap Store is able to provide up to date software no matter what version of Linux you are running and how old your libraries are.</p>
<div id="criticism">
<h2>Criticism<a href="#criticism" title="Permalink to this headline">¬∂</a></h2>
<div id="centralized-control">
<h3>Centralized control<a href="#centralized-control" title="Permalink to this headline">¬∂</a></h3>
<p>Anyone can create APT repositories and distribute software freely. Users can point to multiple repositories and define priorities. Thanks to the way APT works, if a bug isn‚Äôt fixed upstream, Debian can fix it with a patch. If Debian doesn‚Äôt, Ubuntu can. If Ubuntu doesn‚Äôt Linux Mint can. If Linux Mint doesn‚Äôt, anyone can, and not only can they fix it, they can distribute it with a PPA.</p>
<p>Flatpak isn‚Äôt as flexible. Still, anyone can distribute their own Flatpaks. If Flathub decides they don‚Äôt want to do this or that, anyone else can create another Flatpak repository. Flatpak itself can point to multiple sources and doesn‚Äôt depend on Flathub.</p>
<p>Although it is open-source, Snap on the other hand, only works with the Ubuntu Store. Nobody knows how to make a Snap Store and nobody can. The Snap client is designed to work with only one source, following a protocol which isn‚Äôt open, and using only one authentication system. Snapd is nothing on its own, it can only work with the Ubuntu Store.</p>
<p>This is a store we can‚Äôt audit, which contains software nobody can patch. If we can‚Äôt fix or modify software, open-source or not, it provides the same limitations as proprietary software.</p>
</div>
<div id="backdoor-via-apt">
<h3>Backdoor via APT<a href="#backdoor-via-apt" title="Permalink to this headline">¬∂</a></h3>
<p>When Snap was introduced Canonical promised it would never replace APT. This promise was broken. Some APT packages in the Ubuntu repositories not only install snap as a dependency but also run snap commands as root without your knowledge or consent and connect your computer to the remote proprietary store operated by Canonical.</p>
</div>
</div>
<div id="disabled-snap-store-in-linux-mint-20">
<h2>Disabled Snap Store in Linux Mint 20<a href="#disabled-snap-store-in-linux-mint-20" title="Permalink to this headline">¬∂</a></h2>
<p>Following the decision made by Canonical to replace parts of APT with Snap and have the Ubuntu Store install itself without users knowledge or consent, the Snap Store is forbidden to be installed by APT in Linux Mint 20.</p>

</div>
<div id="how-to-install-the-snap-store-in-linux-mint-20">
<h2>How to install the Snap Store in Linux Mint 20<a href="#how-to-install-the-snap-store-in-linux-mint-20" title="Permalink to this headline">¬∂</a></h2>
<p>Recommended or not, if you want to use the Snap Store, re-enabling and installing it is very easy.</p>
<div><div><pre><span></span>sudo rm /etc/apt/preferences.d/nosnap.pref
apt update
apt install snapd
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div></div>]]>
            </description>
            <link>https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html#disabled-snap-store-in-linux-mint-20</link>
            <guid isPermaLink="false">hacker-news-small-sites-25540780</guid>
            <pubDate>Sat, 26 Dec 2020 02:10:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VPN ‚Äì A Precarious Narrative]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25540314">thread link</a>) | @aminozuur
<br/>
December 25, 2020 | https://schub.wtf/blog/2019/04/08/very-precarious-narrative.html | <a href="https://web.archive.org/web/*/https://schub.wtf/blog/2019/04/08/very-precarious-narrative.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content">
        
        <p>
  
  <span><i aria-label="This item was published on:"></i> 2019-04-08</span>
  <span><i aria-label="This item was updated on:"></i> 2019-04-22</span>
  <span><i aria-label="This item was tagged with:"></i> privacy, security</span>
</p>


        





        

        <section id="main_content">
          <p>I just watched a <em>great</em> YouTube video, touching technical, political, and philosophical questions around the whole ‚Äúwho controls the algorithm‚Äù topic, from one of those multi-million subscriber channels, spending lots and lots of time and resources on researching and producing. The video was perfect, but the end did upset me slightly. In the end, the sponsoring message was read, and the sponsor was one of those VPN companies, with their usual marketing lingo. You surely know what I am talking about, but let me quote the sponsoring message here for context:</p>

<blockquote>
  <p>Your internet connection, right now, is broadcasting your IP address, which is the way people track you online. Check this out [shows a screencap of a website displaying the IP and GeoLocation information], when I go to this website, it tests everything that my internet connection is leaking. You can see my IP address, but you can also see where I am. Your internet connection is doing this right now. Here is how [VPN company] works: It is a Virtual Private Network, you turn it on with one click. My internet traffic is now encrypted, and going through [VPN company]s servers located throughout the world, so people can no longer figure out where I am located. I protect myself online with [VPN company]. [‚Ä¶] There is a 30-day money back guarantee which I am confident you are not going to use, because I feel comforted knowing that my personal information is protected on the internet.</p>
</blockquote>

<p>Here is another one, from a different channel:</p>

<blockquote>
  <p>With all the recent news about online security breaches, it is hard not to worry about where my data goes. Make an online purchase or simply accessing your email puts your private information at risk. You are being tracked online all the time by social media sites, marketing companies, and mobile internet providers. That is why you need to take your internet privacy back right now. Use [VPN company]! [VPN company] has the easiest apps that run seamlessly in the background of any computer, phone, and tablet. Turning on [VPN company] protection only takes one click. I am going to tell you what takes more than one click: getting your identity and data back after it‚Äôs been lost. Try getting back the money from your stolen credit cards. Do one click now. [VPN company] secures and anoymizes your internet browsing by encrypting your data and hiding your public IP address.</p>
</blockquote>

<p>The popularity of those services and the way they are recommended and promoted is bad. So bad that I feel impelled to write this article on it, to explain two problematic points. Those are:</p>

<ol>
  <li>In most circumstances, <strong>VPNs do very little to enhance your data security or privacy</strong> unless paired with other changes.</li>
  <li>Acting as they do, and <strong>promoting commercial VPN providers</strong> as a solution to potential issues <strong>does more harm than good</strong>.</li>
</ol>

<p>Just stick around for a bit, and I will explain everything. Before I start, though, let me clarify that I am writing this post with non-technical, but curious people in mind. This means that I will be using simplified terms and sometimes generalize a bit. However, I can assure you that all information is still very accurate. Sometimes, using technical words is necessary to avoid this post becoming inaccurate. If you do not understand something, just read on, the next paragraph might be more apparent.</p>

<h2 id="what-a-vpn-is-and-what-it-is-not">What a VPN is, and what it is not.</h2>

<blockquote>
  <p>[‚Ä¶] another worrying aspect of today‚Äôs market of VPN services is the large misinformation end users are exposed to, which makes it hard for them to properly tell apart vague and bold claims typical of product advertisement campaigns with actual facts.</p>

  <p>- <em>a <a href="https://www.degruyter.com/downloadpdf/j/popets.2015.1.issue-1/popets-2015-0006/popets-2015-0006.pdf" target="_blank" rel="noopener">paper published in 2015</a></em>.</p>
</blockquote>

<p><img src="https://schub.wtf/statics/blog/20190408/vpn-banner.png" alt="VPN - a Very Precarious Narrative"></p>

<p>To start, <a href="https://en.wikipedia.org/wiki/Virtual_private_network" target="_blank" rel="noopener">Wikipedia</a> has a very nice summary of what a VPN is:</p>

<blockquote>
  <p>A virtual private network (VPN) extends a private network across a public network, and enables users to send and receive data across shared or public networks as if their computing devices were directly connected to the private network.</p>
</blockquote>

<p>A VPN is a <em>tunnel</em> connecting two different networks. You throw traffic into one end of the tunnel, and it will come out somewhere else, even if the destination might not be reachable on the public internet. VPNs are popular in company environments: Imagine a large company running their servers with private sale data on them. The company does not want those servers to be reachable via the internet for security reasons, but at the same time, salespeople need to be able to access those datasets, even if they are on the road. The salesperson can use the company‚Äôs VPN to ‚Äúmove their laptop into the company network‚Äù, without the need to physically be there, so they have access to that information. In addition, network traffic sent over VPNs is generally encrypted, so even if the salesperson is using a maybe insecure network, the data is probably safe, if everything is configured correctly.</p>

<p>The VPNs that get advertised at the end of YouTube videos are different. They are not used to access protected, internal infrastructure. Instead, they are used to tunnel <em>all</em> network traffic into a datacenter you neither know nor can control in any way. To understand why this might be a bad idea and is absolutely not necessary in most cases, let‚Äôs look at the marketing claims.</p>

<h2 id="your-ip-is-used-for-tracking-and-leaks-private-information-you-should-hide-it">‚ÄúYour IP is used for tracking and leaks private information. You should hide it.‚Äù</h2>

<p>One thing that most VPN advertisements have in common is some babble around IP addresses. Providers claim that your IP address leaks tons of private information, even your physical location, and they also claim that IP addresses are used for tracking. I call that fearmongering and deliberate misinformation.</p>

<p><img src="https://schub.wtf/statics/blog/20190408/vpn-check.jpg" alt="Two screenshots from VPN websites showing my &quot;unprotected&quot; IP address"></p>

<p>I am sure you have seen notices like these on VPN provider‚Äôs websites before. They claim that your IP can be used to track you, and they even show a map of where you are located to make it look scarier.</p>

<p>Before I address those two things, let me say something more generic. Notice how both sites show my IP, claim that my connection is ‚Äúunprotected‚Äù, and one is even showing a map? Well. In reality, I am actually <em>using a VPN</em> in those screenshots, I just happened to use <a href="https://protonvpn.com/" target="_blank" rel="noopener">ProtonVPN</a> for this example, so I should be protected very well, right? How come they claim I am unprotected?</p>

<p>That is because those ‚Äútests‚Äù do not do anything useful. The only check these things are doing is a simple ‚Äúis the user currently connected via one of our IPs, and thus is using our VPN? If yes, say the user is protected, otherwise, act like the world is on fire‚Äù. Not very productive.</p>

<h3 id="ip-addresses-for-user-identification">IP addresses for user identification</h3>

<p>One of the sponsor messages I quoted earlier explicitly claims that IP addresses are how you ‚Äúare being tracked online all the time by social media sites and marketing companies‚Äù. But is that so? We all know that Facebook is pretty big in the whole ‚Äútracking people‚Äù business, so if you have an active subscription at one of those VPN providers and a Facebook account, let‚Äôs do a test together!</p>

<ol>
  <li>Open a new Private Window/Incognito Window in your favorite browser.</li>
  <li>In that window, open two tabs: Facebook, and the ‚ÄúWhat is my IP?‚Äù page of your VPN provider, like <a href="https://www.expressvpn.com/what-is-my-ip" target="_blank" rel="noopener">this one from ExpressVPN</a>.</li>
  <li>Log in to your Facebook account.</li>
  <li>With the VPN disabled, verify that the ‚Äútest‚Äù site shows ‚Äúyou are unprotected‚Äù, like in my screenshots above.</li>
  <li>Connect to your VPN. Refresh the VPN test page, which should now say that your IP is hidden and your connection is protected. Right?</li>
  <li>Now, switch over to the Facebook tab, and hit reload.</li>
</ol>

<p>So, what happened? Did Facebook forget who you are, and boot you back out to the login form? No, of course not. Even though your IP address changed, Facebook still knew <em>exactly</em> who you are. So do marketing companies and other tracking parties.</p>

<p>The reality here is that your IP address is only a tiny piece of your trackable profile and a pretty unreliable one as such. Tracking companies are interested in tracking <em>you</em>, not a specific device or a specific browsing session. Your IP changes all the time, take your mobile phone as an example: You may be connected to your home WiFi, to your mobile connection, the network at work, ‚Ä¶ and you will have a different IP in each network. Moreover, these IPs are not even unique to you in most cases: most mobile phone networks share their public IPs to hundreds, sometimes thousands of mobile phones in a process called <a href="https://en.wikipedia.org/wiki/Network_address_translation" target="_blank" rel="noopener">NAT</a>. Tracking companies have to distinguish between all those people - their profiles would be useless otherwise.</p>

<p>Tracking companies have far more advanced methods. One well-known identification method is <em>Cookies</em>, little portions of data in your browser or mobile client. However, since Cookies can easily be altered or removed by users, trackers came up with far more advanced technologies like browser fingerprinting and even running behavioral pattern recognition to uniquely identify users. All these things cannot be influenced or altered in any way by a VPN.</p>

<p>If you are worried about these things, then use a browser with integrated tracking protection features. In Firefox, <a href="https://blog.mozilla.org/firefox/facebook-container-extension/" target="_blank" rel="noopener">Multi-Account Containers and the Facebook Container Extension</a> for example help by locking those tracking sites into their isolated sandbox, so they cannot track you when you are not actively using them. The whole ‚Äúa VPN makes you browse anonymously‚Äù thing is just marketing.</p>

<h3 id="location-leaking">Location leaking</h3>

<p>Another very effective method these VPN marketing people are using is showing your location on their sites. This is very effective at scaring people since those sites hit either your actual hometown or a city nearby. Nobody wants to share their location publicly.</p>

<p>‚ÄúYour IP address‚Äù is not leaking your home address.</p>

<p>You see, your modem is not connected to a cable that leads directly to your ISPs main router. Instead, your internet data is <em>merged together</em> with other peoples data on the way. ISPs split up their network into multiple segments to make their network more manageable, ‚Ä¶</p></section></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://schub.wtf/blog/2019/04/08/very-precarious-narrative.html">https://schub.wtf/blog/2019/04/08/very-precarious-narrative.html</a></em></p>]]>
            </description>
            <link>https://schub.wtf/blog/2019/04/08/very-precarious-narrative.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25540314</guid>
            <pubDate>Sat, 26 Dec 2020 00:30:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Backdoor in Zyxel Products]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25539876">thread link</a>) | @ta988
<br/>
December 25, 2020 | https://www.eyecontrol.nl/blog/undocumented-user-account-in-zyxel-products.html | <a href="https://web.archive.org/web/*/https://www.eyecontrol.nl/blog/undocumented-user-account-in-zyxel-products.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<div>
							<p>TL;DR: If you have a Zyxel USG, ATP, VPN, ZyWALL or USG FLEX you should update to the latest firmware version today. You can find the full list of affected devices <a href="https://businessforum.zyxel.com/discussion/5252/zld-v4-60-revoke-and-wk48-firmware-release">here</a> and the Zyxel advisory <a href="https://www.zyxel.com/support/CVE-2020-29583.shtml">here</a>.</p>
                            <p>Zyxel is a popular brand for firewalls that are marketed towards small and medium businesses. Their Unified Security Gateway (USG) product line is often used as a firewall or VPN gateway. As a lot of us are working from home, VPN-capable devices have been quite selling well lately.</p>
                            <p>When doing some research (rooting) on my Zyxel USG40, I was surprised to find a user account 'zyfwp' with a password hash in the latest firmware version (4.60 patch 0). The plaintext password was visible in one of the binaries on the system. I was even more surprised that this account seemed to work on both the SSH and web interface.</p>
                            <pre>$ ssh <a href="https://www.eyecontrol.nl/cdn-cgi/l/email-protection" data-cfemail="651f1c03121525545c574b54535d4b544b575057">[email&nbsp;protected]</a>
Password: Pr*******Xp
Router&gt; show users current
No: 1
  Name: zyfwp
  Type: admin
(...)
Router&gt;</pre>
                            <p>The user is not visible in the interface and its password cannot be changed. I checked the previous firmware version (4.39) and although the user was present, it did not have a password. It seemed the vulnerability had been introduced in the latest firmware version. Even though older versions do not have this vulnerability, they do have others (such as this <a href="https://www.zyxel.com/us/en/support/Zyxel-security-advisory-for-buffer-overflow-vulnerability.shtml">buffer overflow</a>) so you should still update.</p>
                            <p>As SSL VPN on these devices operates on the same port as the web interface, a lot of users have exposed port 443 of these devices to the internet. Using publicly available data from Project Sonar, I was able to identify about 3.000 Zyxel USG/ATP/VPN devices in the Netherlands. Globally, more than 100.000 devices have exposed their web interface to the internet.</p>
                            <p>In our experience, most users of these devices will not update the firmware very often. Zyxel devices do not expose their firmware version to unauthenticated users, so determining if a device is vulnerable is a bit more difficult. We wanted to get an idea of the amount of affected devices, but simply trying the password is not really an option (ethically and legally). Luckily, some javascript and css files can be requested from the web interface of these devices without authentication. These files seem to change with every firmware release. Using this information, we can obtain a unique fingerprint of the vulnerable firmware version. We used this information to identify the firmware version of 1.000 devices in The Netherlands and found that around 10% of devices are running the affected firmware version. Zyxel does offer automatic updates, but these are not enabled by default. Luckily, we were able to find this vulnerability just a few weeks after it had been introduced, or the number of affected devices could have been much larger.</p>
                            <p>As the zyfwp user has admin privileges, this is a serious vulnerability. An attacker could completely compromise the confidentiality, integrity and availability of the device. Someone could for example change firewall settings to allow or block certain traffic. They could also intercept traffic or create VPN accounts to gain access to the network behind the device.  Combined with a vulnerability like Zerologon this could be devastating to small and medium businesses.</p>
                            <p>Because of the seriousness of the vulnerability and it being so easy to exploit, we have decided not to release the password for this account at this time. We do expect others to find and release it, which is why we suggest you install the updated firmware as soon as possible.</p>
                            <p>I quickly sent out a mail to Zyxel to report the undocumented user account. According to Zyxel, the account was designed to deliver automatic firmware updates for access points via FTP. They released a fixed firmware version less than two weeks later. You can find the release notes for the USG40 <a href="ftp://ftp.zyxel.com/USG40/firmware/USG40_4.60(AALA.1)C0_2.pdf">here</a>.</p>
                            <p>This is the entry in the release notes that describes this vulnerability:</p>
                            <pre>[BUG FIX][CVE-2020-29583]
a. Vulnerability fix for undocumented user account.</pre>
                            <p>We would like to thank the Zyxel Security Team for their quick response and patch.</p>
                            <p><b>Disclosure timeline</b></p>
                            <p>2020-11-29: EYE reports vulnerability to Zyxel security</p>
                            <p>2020-11-30: Zyxel acknowledges receipt</p>
                            <p>2020-12-02: Zyxel requests more information about how the vulnerability was discovered</p>
                            <p>2020-12-03: EYE sends more details</p>
                            <p>2020-12-08: Zyxel releases beta firmware 4.60-WK48 and removes the vulnerable firmware version from their site</p>
                            <p>2020-12-15: Zyxel releases firmware 4.60 patch 1 for most devices</p>
                            <p>2020-12-18: Zyxel releases firmware 4.60 patch 1 for all remaining devices</p>
                            <p>2020-12-23: Zyxel publishes <a href="https://www.zyxel.com/support/CVE-2020-29583.shtml">advisory</a></p>

						</div>
						
					</div>
                </div></div>]]>
            </description>
            <link>https://www.eyecontrol.nl/blog/undocumented-user-account-in-zyxel-products.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25539876</guid>
            <pubDate>Fri, 25 Dec 2020 23:15:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Complete Guide to LLVM for Programming Language Creators]]>
            </title>
            <description>
<![CDATA[
Score 284 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25539797">thread link</a>) | @mseri
<br/>
December 25, 2020 | https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/ | <a href="https://web.archive.org/web/*/https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><h3>Creating the Bolt Compiler: Part 8</h3><p><h3>December 24, 2020</h3><h3>12 min read</h3></p><nav><h2>Series: Creating the Bolt Compiler</h2><ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><strong>Part 8: A Complete Guide to LLVM for Programming Language Creators</strong></li><li><em>Part 9: Concurrency is a Runtime Feature, Not a Compiler Feature*</em></li><li><em>Part 10: Inheritance and method overriding in Bolt*</em></li><li><em>Part 11: Generics - adding polymorphism to Bolt*</em></li><p>*coming soon! </p></ul></nav><hr><p><strong>Update</strong>: this post has now taken off on <a href="https://news.ycombinator.com/item?id=25539797">Hacker News</a> and <a href="https://www.reddit.com/r/programming/comments/kjjijf/a_complete_guide_to_llvm_for_programming_language/">Reddit</a>. Thank you all!</p><p>I have a small request:</p><div><div><div> <h3>Share This On Twitter</h3><p>If you find this useful, please share on Twitter, thank you!</p></div></div></div><h2 id="whos-this-tutorial-for"><a href="#whos-this-tutorial-for" aria-label="whos this tutorial for permalink"></a>Who‚Äôs this tutorial for?</h2><p>This series of compiler tutorials is for people who don‚Äôt just want to create a <em>toy</em> language.
You want objects. You want polymorphism. You want concurrency. You want garbage collection. Wait you don‚Äôt want GC? Okay, no worries, we won‚Äôt do that :P</p><p>If you‚Äôve just joined the series at this stage, here‚Äôs a quick recap. We‚Äôre designing a Java-esque concurrent object-oriented programming language <em>Bolt</em>. We‚Äôve gone through the compiler frontend, where we‚Äôve done the parsing, type-checking and dataflow analysis. We‚Äôve <a href="https://mukulrathi.co.uk/create-your-own-programming-language/lower-language-constructs-to-llvm/">desugared our language to get it ready for LLVM</a> - the main takeaway is that objects have been desugared to structs, and their methods desugared to functions.</p><p>Learn about LLVM and you‚Äôll be the envy of your friends. Rust uses LLVM for its backend, so it must be cool. You‚Äôll beat them on all those performance benchmarks, without having to hand-optimise your code or write machine assembly code. Shhhh, I won‚Äôt tell them.</p><h2 id="just-give-me-the-code"><a href="#just-give-me-the-code" aria-label="just give me the code permalink"></a>Just give me the code!</h2><p>All the code can be found in the <a href="https://github.com/mukul-rathi/bolt">Bolt compiler repository</a>.</p><p>The C++ class definitions for our desugared representation (we call this <em>Bolt IR</em>) can be found in <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/deserialise_ir">deserialise_ir</a> folder. The code for this post (the LLVM IR generation) can be found in the <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/llvm_ir_codegen">llvm_ir_codegen</a> folder. The repo uses the Visitor design pattern and ample use of <code>std::unique_ptr</code> to make memory management easier.</p><p>To cut through the boilerplate, to find out how to generate LLVM IR for a particular language expression, search for the <code>IRCodegenVisitor::codegen</code> method that takes in the corresponding <code>ExprIR</code> object. e.g. for if-else statements:</p><div><div><pre><p><span>Value </span><span>*</span><span>IRCodegenVisitor</span><span>::</span><span>codegen</span><span>(</span><span>const</span><span> ExprIfElseIR </span><span>&amp;</span><span>expr</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>.</span><span>.</span><span>.</span><span> </span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="understanding-llvm-ir"><a href="#understanding-llvm-ir" aria-label="understanding llvm ir permalink"></a>Understanding LLVM IR</h2><p>LLVM sits in the <strong>middle-end</strong> of our compiler, <em>after</em> we‚Äôve desugared our language features, but <em>before</em> the backends that target specific machine architectures (x86, ARM etc.)</p><p>LLVM‚Äôs IR is pretty low-level, it can‚Äôt contain language features present in some languages but not others (e.g. classes are present in C++ but not C). If you‚Äôve come across instruction sets before, LLVM IR is a <a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer#:~:text=A%20reduced%20instruction%20set%20computer,instruction%20set%20computer%20(CISC).">RISC</a> instruction set.</p><p>The upshot of it is that LLVM IR looks like a more <em>readable</em> form of assembly. As LLVM IR is <strong>machine independent</strong>, we don‚Äôt need to worry about the number of registers, size of datatypes, calling conventions or other machine-specific details.</p><p>So instead of a fixed number of physical registers, in LLVM IR we have an unlimited set of <em>virtual</em> registers (labelled <code>%0</code>, <code>%1</code>, <code>%2</code>, <code>%3</code>‚Ä¶ we can write and read from. It‚Äôs the backend‚Äôs job to map from virtual to physical registers.</p><p>And rather than allocating specific sizes of datatypes, we retain <strong>types</strong> in LLVM IR. Again, the backend will take this type information and map it to the size of the datatype. LLVM has types for different sizes of <code>int</code>s and floats, e.g. <code>int32</code>, <code>int8</code>, <code>int1</code> etc. It also has derived types: like <strong>pointer</strong> types, <strong>array</strong> types, <strong>struct</strong> types, <strong>function</strong> types. To find out more, check out the <a href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> documentation.</p><p>Now, built into LLVM are a set of optimisations we can run over the LLVM IR e.g. <a href="https://en.wikipedia.org/wiki/Dead_code_elimination">dead-code elimination</a>, <a href="https://en.wikipedia.org/wiki/Inline_expansion">function inlining</a>, <a href="https://cran.r-project.org/web/packages/rco/vignettes/opt-common-subexpr.html">common subexpression elimination</a> etc. The details of these algorithms are irrelevant: LLVM implements them for us.</p><p>Our side of the bargain is that we write LLVM IR in <a href="https://en.wikipedia.org/wiki/Static_single_assignment_form">Static Single Assignment (SSA) form</a>, as SSA form makes life easier for optimisation writers. SSA form sounds fancy, but it just means we define variables before use and assign to variables <strong>only once</strong>. In SSA form, we cannot reassign to a variable, e.g. <code>x = x+1</code>; instead we assign to a fresh variable each time (<code>x2 = x1 + 1</code>).</p><p>So in short: LLVM IR looks like assembly with <strong>types</strong>, minus the messy machine-specific details. LLVM IR must be in SSA form, which makes it easier to optimise. Let‚Äôs look at an example!</p><h3 id="an-example-factorial"><a href="#an-example-factorial" aria-label="an example factorial permalink"></a>An example: Factorial</h3><p>Let‚Äôs look at a simple factorial function in our language Bolt:</p><div><p><span>factorial.bolt</span></p><div><pre><p><span>function </span><span>int</span><span> </span><span>factorial</span><span>(</span><span>int</span><span> n</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>if</span><span> </span><span>(</span><span>n</span><span>==</span><span>0</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>1</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>else</span><span>{</span><span></span></p><p><span>    n </span><span>*</span><span> </span><span>factorial</span><span>(</span><span>n </span><span>-</span><span> </span><span>1</span><span>)</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>The corresponding LLVM IR is as follows:</p><div><p><span>factorial.ll</span></p><div><pre><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>eq </span><span>=</span><span> icmp eq i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>0</span><span>   </span><span></span></p><p><span>  br i1 </span><span>%</span><span>eq</span><span>,</span><span> label </span><span>%</span><span>then</span><span>,</span><span> label </span><span>%</span><span>else</span><span></span></p><p><span>then</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span></span><span>else</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  </span><span>%</span><span>sub </span><span>=</span><span> sub i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>1</span><span>   </span><span></span></p><p><span>  </span><span>%</span><span>2</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>%</span><span>sub</span><span>)</span><span> </span><span></span></p><p><span>  </span><span>%</span><span>mult </span><span>=</span><span> mul i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>%</span><span>2</span><span>  </span><span></span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span>ifcont</span><span>:</span><span>                                           </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>else</span><span>,</span><span> </span><span>%</span><span>then</span></p><p><span>  </span><span>%</span><span>iftmp </span><span>=</span><span> phi i32 </span><span>[</span><span> </span><span>1</span><span>,</span><span> </span><span>%</span><span>then </span><span>]</span><span>,</span><span> </span><span>[</span><span> </span><span>%</span><span>mult</span><span>,</span><span> </span><span>%</span><span>else</span><span> </span><span>]</span><span></span></p><p><span>  ret i32 </span><span>%</span><span>iftmp</span></p><p><span></span><span>}</span></p></pre></div></div><p>Note the <code>.ll</code> extension is for <strong>human-readable</strong> LLVM IR output. There‚Äôs also <code>.bc</code> for bit-code, a more compact machine representation of LLVM IR.</p><p>We can walk through this IR in 4 levels of detail:</p><h4 id="at-the-instruction-level"><a href="#at-the-instruction-level" aria-label="at the instruction level permalink"></a>At the Instruction Level:</h4><p>Notice how LLVM IR contains assembly instructions like <code>br</code> and <code>icmp</code>, but abstracts the machine-specific messy details of function calling conventions with a single <code>call</code> instruction.</p><p><span>
      <a href="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial instructions" title="Factorial instructions" src="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png" srcset="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/222b7/factorial-instructions.png 163w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/ff46a/factorial-instructions.png 325w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png 650w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/e548f/factorial-instructions.png 975w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/3c492/factorial-instructions.png 1300w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png 1806w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-control-flow-graph-level"><a href="#at-the-control-flow-graph-level" aria-label="at the control flow graph level permalink"></a>At the Control Flow Graph Level:</h4><p>If we take a step back, you can see the IR defines the <strong>control flow graph</strong> of the program. IR instructions are grouped into labeled <strong>basic blocks</strong>, and the <code>preds</code> labels for each block represent incoming edges to that block. e.g. the <code>ifcont</code> basic block has predecessors <code>then</code> and <code>else</code>:</p><p>At this point, I‚Äôm going to assume you have come across Control Flow Graphs and basic blocks. We introduced Control Flow Graphs in a previous post in the series, where we used them to perform different dataflow analyses on the program. I‚Äôd recommend you go and check the <a href="http://mukulrathi.co.uk/create-your-own-programming-language/data-race-dataflow-analysis/#control-flow-graph">CFG section of that dataflow analysis post</a> now. I‚Äôll wait here :)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial control flow graph" title="Factorial control flow graph" src="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png" srcset="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/222b7/factorial-cfg.png 163w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/ff46a/factorial-cfg.png 325w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png 650w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/e548f/factorial-cfg.png 975w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/3c492/factorial-cfg.png 1300w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png 2034w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>The <code>phi</code> instruction represents <strong>conditional assignment</strong>: assigning different values depending on which preceding basic block we‚Äôve just come from. It is of the form <code>phi type [val1, predecessor1], [val2, predecessor2], ...</code> In the example above, we set <code>%iftmp</code> to 1 if we‚Äôve come from the <code>then</code> block, and <code>%mult</code> if we‚Äôve come from the <code>else</code> block. Phi nodes must be at the <strong>start</strong> of a block, and include one entry for each predecessor.</p><h4 id="at-the-function-level"><a href="#at-the-function-level" aria-label="at the function level permalink"></a>At the Function Level:</h4><p>Taking another step back, the overall structure of a function in LLVM IR is as follows:</p><p><span>
      <a href="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial fn" title="Factorial fn" src="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png" srcset="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/222b7/factorial-fn.png 163w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/ff46a/factorial-fn.png 325w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png 650w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/e548f/factorial-fn.png 975w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/3c492/factorial-fn.png 1300w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png 1708w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-module-level"><a href="#at-the-module-level" aria-label="at the module level permalink"></a>At the Module Level:</h4><p>An LLVM <strong>module</strong> contains all the information associated with a program file. (For multi-file programs, we‚Äôd link together their corresponding modules.)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="LLVM Module" title="LLVM Module" src="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png" srcset="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/222b7/module.png 163w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/ff46a/module.png 325w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png 650w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/e548f/module.png 975w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/3c492/module.png 1300w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png 1988w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>Our <code>factorial</code> function is just one function definition in our module. If we want to execute the program, e.g. to compute <code>factorial(10)</code> we need to define a
<code>main</code> function, which will be the entrypoint for our program‚Äôs execution. The <code>main</code> function‚Äôs signature is a hangover from C (we return 0 to indicate successful execution):</p><div><p><span>example_program.c</span></p><div><pre><p><span></span><span>int</span><span> </span><span>main</span><span>(</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>factorial</span><span>(</span><span>10</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>0</span><span>;</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>We specify that we want to compile for an Intel Macbook Pro in the module target info:</p><div><p><span>example_module.ll</span></p><div><pre><p><span>source_filename </span><span>=</span><span> </span><span>"Module"</span><span></span></p><p><span>target triple </span><span>=</span><span> </span><span>"x86_64-apple-darwin18.7.0"</span><span></span></p><p><span></span><span>.</span><span>.</span><span>.</span><span></span></p><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>.</span><span>.</span><span>.</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span>define i32 @</span><span>main</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>0</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>10</span><span>)</span><span></span></p><p><span>  ret i32 </span><span>0</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="the-llvm-api-key-concepts"><a href="#the-llvm-api-key-concepts" aria-label="the llvm api key concepts permalink"></a>The LLVM API: Key Concepts</h2><p>Now we‚Äôve got the basics of LLVM IR down, let‚Äôs introduce the LLVM API. We‚Äôll go through the key concepts, then introduce more of the API as we explore LLVM IR further.</p><p>LLVM defines a whole host of classes that map to the concepts we‚Äôve talked about.</p><ul><li><code>Value</code></li><li><code>Module</code></li><li><code>Type</code></li><li><code>Function</code></li><li><code>BasicBlock</code></li><li><code>BranchInst</code>
‚Ä¶</li></ul><p>These are all in the namespace <code>llvm</code>. In the Bolt repo, I chose to make this namespacing explicit by referring to them as <code>llvm::Value</code>, <code>llvm::Module</code> etc.)</p><p>Most of the LLVM API is quite mechanical. Now you‚Äôve seen the diagrams that define modules, functions and basic blocks, the relationship between their corresponding classes in the API falls out nicely. You can query a <code>Module</code> object to get a list of its <code>Function</code> objects, and query a <code>Function</code> to get the list of its <code>BasicBlock</code>s, and the other way round: you can query a <code>BasicBlock</code> to get its parent <code>Function</code> object.</p><p><code>Value</code> is the base class for any value computed by the program. This could be a function (<code>Function</code> subclasses <code>Value</code>), a basic block (<code>BasicBlock</code> also subclasses <code>Value</code>), an instruction, or the result of an intermediate computation.</p><p>Each of the expression <code>codegen</code> methods returns a <code>Value *</code>: the result of executing that expression. You can think of these <code>codegen</code> methods as generating the IR for that expression and the <code>Value *</code> representing the virtual register containing the expression‚Äôs result.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.h#L64-L84"> <!-- -->ir_codegen_visitor.h</a></span></p><div><pre><p><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIntegerIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprBooleanIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIdentifierIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprConstructorIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprLetIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprAssignIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span></p></pre></div></div><p>How do we generate the IR for these expressions? We create a <strong>unique</strong> <code>Context</code> object to tie our whole code generation together. We use this <code>Context</code> to get access to core LLVM data structures e.g LLVM modules and <code>IRBuilder</code> objects.</p><p>We‚Äôll use the context to create just one module, which we‚Äôll imaginatively name <code>"Module"</code>.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.cc#L17-L19"> <!-- -->ir_codegen_visitor.cc</a></span></p><div><pre><p><span>context </span><span>=</span><span> make_unique</span><span>&lt;</span><span>LLVMContext</span><span>&gt;</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>builder </span><span>=</span><span> std</span><span>::</span><span>unique_ptr</span><span>&lt;</span><span>IRBuilder</span><span>&lt;</span><span>&gt;&gt;</span><span>(</span><span>new</span><span> IRBuilder</span><span>&lt;</span><span>&gt;</span><span>(</span><span>*</span><span>context</span><span>)</span><span>)</span><span>;</span><span></span></p><p><span>module </span><span>=</span><span> make_unique</span><span>&lt;</span><span>Module</span><span>&gt;</span><span>(</span><span>"Module"</span><span>,</span><span> </span><span>*</span><span>context</span><span>)</span><span>;</span></p></pre></div></div><h3 id="irbuilder"><a href="#irbuilder" aria-label="irbuilder permalink"></a>IRBuilder</h3><p>We use the <code>IRBuilder</code> object to incrementally build up our IR. It is intuitively the equivalent of a file pointer when reading/writing a file - it carries around <em>implicit</em> state, e.g. the last instruction added, the basic block of that ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</a></em></p>]]>
            </description>
            <link>https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25539797</guid>
            <pubDate>Fri, 25 Dec 2020 23:03:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[State of Mobile phone encryption research paper [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25539088">thread link</a>) | @lifeisstillgood
<br/>
December 25, 2020 | http://securephones.io/main.pdf | <a href="https://web.archive.org/web/*/http://securephones.io/main.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://securephones.io/main.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25539088</guid>
            <pubDate>Fri, 25 Dec 2020 21:16:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new class of antibiotics active against wide range of bacteria]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25538833">thread link</a>) | @finphil
<br/>
December 25, 2020 | https://nuadox.com/post/638507012246962176/novel-antibiotics-class | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638507012246962176/novel-antibiotics-class">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638507012246962176">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638507012246962176/novel-antibiotics-class"><h2>A new class of antibiotics active against wide range of bacteria</h2></a>
                                <figure data-orig-width="1316" data-orig-height="724"><img src="https://64.media.tumblr.com/1ab56328ce982dcec0be6556881aecfd/a64f4c2145ca1551-b3/s1280x1920/ae083956af2a3a0cfdddb9fc14b53c4e83d23744.jpg" alt="image" data-orig-width="1316" data-orig-height="724" width="1280" height="704"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwistar.org%2F&amp;t=ZjI2YTI1MGJkMjRlODE1MTNkZDVjYzZmYjFkMzBkMzUyYmFlODQ0Nyx2TVBmZ0tzTg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638507012246962176%2Fnovel-antibiotics-class&amp;m=0&amp;ts=1609088574">The Wistar Institute</a> -</b></p><p>Wistar Institute scientists have discovered a new class of compounds that uniquely combine direct antibiotic killing of pan drug-resistant bacterial pathogens with a simultaneous rapid immune response for combatting antimicrobial resistance (AMR).&nbsp;</p><p>These finding were published on Wednesday in <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.nature.com%2Farticles%2Fs41586-020-03074-x&amp;t=YTVjY2VkZTEwYzQ5N2M5ODAzNjFhNDA4Y2ViOTZlNjdhNTM1NzEzYyx2TVBmZ0tzTg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638507012246962176%2Fnovel-antibiotics-class&amp;m=0&amp;ts=1609088574"><i>Nature</i></a>.</p><p>The World Health Organization (WHO) has declared AMR as one of the top 10 global public health threats against humanity. It is estimated that by 2050, antibiotic-resistant infections could claim 10 million lives each year and impose a cumulative $100 trillion burden on the global economy. The list of bacteria that are becoming resistant to treatment with all available antibiotic options is growing and few new drugs are in the pipeline, creating a pressing need for new classes of antibiotics to prevent public health crises. </p><p>‚ÄúWe took a creative, double-pronged strategy to develop new molecules that can kill difficult-to-treat infections while enhancing the natural host immune response,‚Äù said <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwistar.org%2Four-scientists%2Ffarokh-dotiwala&amp;t=Y2JkZGFmMDliMTBjM2VkNmE5YzI5NTliODNmN2IxZmZkNjdjOWVmMix2TVBmZ0tzTg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638507012246962176%2Fnovel-antibiotics-class&amp;m=0&amp;ts=1609088574">Farokh Dotiwala, M.B.B.S., Ph.D.</a>, assistant professor in the Vaccine &amp; Immunotherapy Center and lead author of the effort to identify a new generation of antimicrobials named dual-acting immuno-antibiotics (DAIAs). </p><p>Existing antibiotics target essential bacterial functions, including nucleic acid and protein synthesis, building of the cell membrane, and metabolic pathways. However, bacteria can acquire drug resistance by mutating the bacterial target the antibiotic is directed against, inactivating the drugs or pumping them out. </p><p>‚ÄúWe reasoned that harnessing the immune system to simultaneously attack bacteria on two different fronts makes it hard for them to develop resistance,‚Äù said Dotiwala.</p><p>He and colleagues focused on a metabolic pathway that is essential for most bacteria but absent in humans, making it an ideal target for antibiotic development. This pathway, called methyl-D-erythritol phosphate (MEP) or non-mevalonate pathway, is responsible for biosynthesis of isoprenoids ‚Äî molecules required for cell survival in most pathogenic bacteria. The lab targeted the IspH enzyme, an essential enzyme in isoprenoid biosynthesis, as a way to block this pathway and kill the microbes. Given the broad presence of IspH in the bacterial world, this approach may target a wide range of bacteria. </p><p>Researchers used computer modeling to screen several million commercially available compounds for their ability to bind with the enzyme, and selected the most potent ones that inhibited IspH function as starting points for drug discovery.</p><p>Since previously available IspH inhibitors could not penetrate the bacterial cell wall, Dotiwala collaborated with Wistar‚Äôs medicinal chemist <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwistar.org%2Four-scientists%2Fjoseph-salvino&amp;t=NDFkNzNkNDZhNDU5OWZmNzgyN2NmOTIyNGExY2I5MTAyMWYzMDU4NSx2TVBmZ0tzTg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638507012246962176%2Fnovel-antibiotics-class&amp;m=0&amp;ts=1609088574">Joseph Salvino, Ph.D.</a>, professor in The Wistar Institute Cancer Center and a co-senior author on the study, to identify and synthesize novel IspH inhibitor molecules that were able to get inside the bacteria.</p><figure data-orig-width="1440" data-orig-height="1161"><img src="https://64.media.tumblr.com/7ded80bcfb9d5c7a58928160401c0658/a64f4c2145ca1551-72/s1280x1920/8825881c16af26c9d1608fc30a8f0c54ceae4885.jpg" alt="image" data-orig-width="1440" data-orig-height="1161" width="1280" height="1032"></figure><p><i>Image:&nbsp;Flourescence microscopy staining showing the effects of DAIA treatment on bacteria viability. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.eurekalert.org%2Fmultimedia%2Fpub%2F252278.php&amp;t=Y2Q5NzBiY2Q4MGFhZDU1MDVmNzViMDVhZmYwNjhhM2MwZWVhMGRmOCx2TVBmZ0tzTg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638507012246962176%2Fnovel-antibiotics-class&amp;m=0&amp;ts=1609088574">The Wistar Institute</a>.</i></p><p>The team demonstrated that the IspH inhibitors stimulated the immune system with more potent bacterial killing activity and specificity than current best-in-class antibiotics when tested in vitro on clinical isolates of antibiotic-resistant bacteria, including a wide range of pathogenic gram negative and gram positive bacteria. In preclinical models of gram negative bacterial infection, the bactericidal effects of the IspH inhibitors outperformed traditional pan antibiotics. All compounds tested were shown to be nontoxic to human cells. </p><p>‚ÄúImmune activation represents the second line of attack of the DAIA strategy,‚Äù said Kumar Singh, Ph.D., Dotiwala lab postdoctoral fellow and first author of the study. </p><p>‚ÄúWe believe this innovative DAIA strategy may represent a potential landmark in the world‚Äôs fight against AMR, creating a synergy between the direct killing ability of antibiotics and the natural power of the immune system,‚Äù echoed Dotiwala. </p><p><b>Co-authors:</b> Rishabh Sharma, Poli Adi Narayana Reddy, Prashanthi Vonteddu, Madeline Good, Anjana Sundarrajan, Hyeree Choi, Kar Muthumani, Andrew Kossenkov, Aaron R. Goldman, Hsin-Yao Tang, Joel Cassel, Maureen E. Murphy, Rajasekharan Somasundaram, and Meenhard Herlyn from Wistar; and Maxim Totrov from Molsoft LLC. </p><p><b>Work supported by:</b> The G. Harold and Leila Y. Mathers Foundation, funds from the Commonwealth Universal Research Enhancement (CURE) Program and the Wistar Science Discovery Fund; The Pew Charitable Trusts supported Farokh Dotiwala with a Wistar Institute recruitment grant; Additional support was provided by the Adelson Medical Research Foundation and the Department of Defense. Support for The Wistar Institute facilities was provided by Cancer Center Support Grant P30 CA010815 and National Institutes of Health instrument grant S10 OD023586. </p><p>‚Äì</p><p><b>Source: <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwistar.org%2Fnews%2Fpress-releases%2Fwistar-reports-new-class-antibiotics-active-against-wide-range-bacteria&amp;t=MTJkNTEwZTk4ZTBiOGJkYWNmMTZhYmQwYjg4MmE4ZjI1MDFhNDZhMCx2TVBmZ0tzTg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638507012246962176%2Fnovel-antibiotics-class&amp;m=0&amp;ts=1609088574">The Wistar Institute</a></b></p><p><b>Full study:</b>&nbsp;‚ÄúIspH inhibitors kill Gram-negative bacteria and mobilize immune clearance‚Äù, <i>Nature</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1038%2Fs41586-020-03074-x&amp;t=M2IxYjk5MDVhYTFkY2VlMWU1NmI3N2NmY2Q0OTE2ZmNjNzU0MTNjYSx2TVBmZ0tzTg%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638507012246962176%2Fnovel-antibiotics-class&amp;m=0&amp;ts=1609088574">https://doi.org/10.1038/s41586-020-03074-x</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/190268086337/antibiotic-resistance-new-strategy">A new strategy in the fight against antibiotic resistance</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/antibiotics">antibiotics</a>
                                    
                                        <a href="https://nuadox.com/tagged/bacteria">bacteria</a>
                                    
                                        <a href="https://nuadox.com/tagged/medicine">medicine</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/pharma">pharma</a>
                                    
                                        <a href="https://nuadox.com/tagged/pharmaceuticals">pharmaceuticals</a>
                                    
                                        <a href="https://nuadox.com/tagged/antibiotics-resistance">antibiotics resistance</a>
                                    
                                        <a href="https://nuadox.com/tagged/biology">biology</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638507012246962176/novel-antibiotics-class</link>
            <guid isPermaLink="false">hacker-news-small-sites-25538833</guid>
            <pubDate>Fri, 25 Dec 2020 20:33:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NixOS on ARM/Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 15 (<a href="https://news.ycombinator.com/item?id=25538764">thread link</a>) | @botayhard
<br/>
December 25, 2020 | https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi | <a href="https://web.archive.org/web/*/https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr">
<div>
<table>
<tbody><tr>
<th colspan="2">Raspberry Pi Family
</th></tr>
<tr>
<td colspan="2"><a href="https://nixos.wiki/wiki/File:Raspberry_pi_3_glamour.jpg" title="A Raspberry Pi 3 with enclosure."><img alt="A Raspberry Pi 3 with enclosure." src="https://nixos.wiki/images/thumb/4/40/Raspberry_pi_3_glamour.jpg/x256px-Raspberry_pi_3_glamour.jpg.pagespeed.ic.oggU_vQtmX.jpg" width="256" height="204" srcset="https://nixos.wiki/images/thumb/4/40/Raspberry_pi_3_glamour.jpg/x384px-Raspberry_pi_3_glamour.jpg.pagespeed.ic.Jh6nwVCkVn.jpg 1.5x, https://nixos.wiki/images/thumb/4/40/Raspberry_pi_3_glamour.jpg/x512px-Raspberry_pi_3_glamour.jpg.pagespeed.ic.oXV576JEG6.jpg 2x"></a>
</td></tr>
<tr>
<th colspan="2">Raspberry Pi
</th></tr>
<tr>
<th>Architecture
</th>
<td>ARMv6
</td></tr>
<tr>
<th colspan="2">Raspberry Pi 2
</th></tr>
<tr>
<th>Architecture
</th>
<td>ARMv7
</td></tr>
<tr>
<th colspan="2">Raspberry Pi 3
</th></tr>
<tr>
<th>Architecture
</th>
<td>AArch64 + ARMv7
</td></tr>
<tr>
<th colspan="2">Raspberry Pi 4
</th></tr>
<tr>
<th>Architecture
</th>
<td>AArch64 + ARMv7
</td></tr></tbody></table>
</div>
<p>The Raspberry Pi family of devices is a series of single-board computers made by the Raspberry Pi Foundation. They are all based on Broadcom System-on-a-chip (SOCs). 
</p>


<h2><span id="Status"></span>Status</h2>
<p>Only the <i>Raspberry Pi 3 Family</i> is supported upstream, with the AArch64 effort.
</p><p>The Raspberry Pi 4B is not <em>supported</em> by NixOS, though a beta-quality disk image specific for it is produced. It will be supported the same as the Pi 3 family once the mainline kernel and mainline U-Boot boot fine through the generic mainline image.
</p><p>Other Raspberry Pis (0, 1, and 2) are part of diverse community porting efforts to ARMv6 and ARMv7.
</p><p>The Linux kernel in use, except for the Raspberry Pi 1 family, is the mainline Linux kernel, and not the Raspberry Pi Foundation's fork. This could reduce compatibility with some add-on boards or third-party libraries<sup>[expanded explanation needed]</sup>.
</p><p>The following table is intended to be updated by the NixOS contributors with the current status of the boards. For a list of products, <a rel="nofollow" href="https://www.raspberrypi.org/products/">see the <i>Products Archive</i></a>.
</p>
<table>

<tbody><tr>
<th> Board name
</th>
<th> Architecture
</th>
<th> Support
</th></tr>
<tr>
<th colspan="3">Raspberry&nbsp;Pi&nbsp;1
</th></tr>
<tr>
<td> Raspberry Pi 1 Model B
</td>
<td rowspan="5"> armv6
</td>
<td> C
</td></tr>
<tr>
<td> Raspberry Pi 1 Model A+
</td>
<td> C*
</td></tr>
<tr>
<td> Raspberry Pi 1 Model B+
</td>
<td> C
</td></tr>
<tr>
<td> Raspberry Pi Zero
</td>
<td> C*
</td></tr>
<tr>
<td> Raspberry Pi Zero W
</td>
<td> C
</td></tr>
<tr>
<th colspan="3">Raspberry&nbsp;Pi&nbsp;2
</th></tr>
<tr>
<td> Raspberry Pi 2 Model B
</td>
<td> armv7
</td>
<td> C
</td></tr>
<tr>
<th colspan="3">Raspberry&nbsp;Pi&nbsp;3
</th></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3 Model B</a>
</td>
<td rowspan="3"> AArch64<br> <i>+&nbsp;armv7</i>
</td>
<td> YES
</td></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3 Model B+</a>
</td>
<td> YES
</td></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3 Model A+</a>
</td>
<td>&nbsp;?
</td></tr>
<tr>
<th colspan="3">Raspberry Pi 4
</th></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_4" title="NixOS on ARM/Raspberry Pi 4">Raspberry Pi 4 Model B</a>
</td>
<td> AArch64<br> <i>+ armv7</i>
</td>
<td> YES* (<a rel="nofollow" href="https://github.com/NixOS/nixpkgs/issues/63720">GitHub issue</a>)
</td></tr></tbody></table>
<p><i>Support</i>
</p>
<ul><li> YES: Supported architecture by Nixpkgs downstream and tested to be working.</li>
<li> YES*: Available in Nixpkgs downstream but experimental.</li>
<li> C: Community supported, and tested to be working.</li>
<li> C*: Community supported, unverified but should be working.</li>
<li>&nbsp;?&nbsp;: Unverified, unknown if it will work.</li></ul>
<p>The Raspberry Pi 3 Family is only supported as <b>AArch64</b>. Use as armv7 is community supported.
</p>
<h2><span id="Board-specific_installation_notes"></span>Board-specific installation notes</h2>
<p>First follow the <a href="https://nixos.wiki/wiki/NixOS_on_ARM#Installation" title="NixOS on ARM">generic installation steps</a> to get the installer image and install using the <a href="https://nixos.wiki/wiki/NixOS_on_ARM#NixOS_installation_.26_configuration" title="NixOS on ARM">installation and configuration steps</a>.
</p>
<h3><span id="Raspberry_Pi_.281.29"></span>Raspberry Pi (1)</h3>
<p>The ARMv6 image boots out-of-the-box.
</p>
<h3><span id="Raspberry_Pi_2"></span>Raspberry Pi 2</h3>
<p>The ARMv7 image should boot out-of-the-box, though the author hasn't personally tested this.
</p>
<h3><span id="Raspberry_Pi_3_.2F_3B.2B"></span>Raspberry Pi 3 / 3B+</h3>
<p><a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3#Board-specific_installation_notes" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3#Board-specific installation notes</a>
</p>
<h3><span id="Raspberry_Pi_4B"></span>Raspberry Pi 4B</h3>
<p><a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_4#Board-specific_installation_notes" title="NixOS on ARM/Raspberry Pi 4">Raspberry Pi 4#Board-specific installation notes</a>
</p>
<h2><span id="Serial_console"></span>Serial console</h2>
<p>Your <code>configuration.nix</code> will need to add <code>console=ttyS1,115200n8</code> to the <code>boot.kernelParams</code> configuration to use the serial console.
</p>
<p><img alt="Breeze-text-x-plain.png" src="https://nixos.wiki/images/e/ef/xBreeze-text-x-plain.png.pagespeed.ic.CzagNXRrGf.png" width="16" height="16"></p><pre>/etc/nixos/configuration.nix
</pre><div dir="ltr"><pre><span>{</span> config<span>,</span> pkgs<span>,</span> lib<span>,</span> <span>...</span> <span>}:</span>
<span>{</span>
  boot<span>.</span><span>kernelParams =</span> <span>[</span>
    <span>"console=ttyS1,115200n8"</span>
  <span>];</span>
<span>}</span>
</pre></div>
<p>If the Raspberry Pi downstream kernel is used the serial interface is named <code>serial0</code> instead.
</p>
<h2><span id="Binary_Cache"></span>Binary Cache</h2>
<p>Depending on the architecture used, binary caches availability varies. Binary caches instructions are on the main <a href="https://nixos.wiki/wiki/NixOS_on_ARM#Binary_cache" title="NixOS on ARM">NixOS on ARM</a>&nbsp;page. The following table describes the architectures supported by each board. 
</p>
<table>

<tbody><tr>
<th> Raspberry Pi 1
</th>
<td> armv6
</td></tr>
<tr>
<th> Raspberry Pi 2
</th>
<td> armv7
</td></tr>
<tr>
<th rowspan="2">Raspberry Pi 3
</th>
<td> armv7
</td></tr>
<tr>
<td> AArch64
</td></tr>
<tr>
<th rowspan="2">Raspberry Pi 4
</th>
<td> armv7
</td></tr>
<tr>
<td> AArch64
</td></tr></tbody></table>
<h2><span id="Notes_about_the_boot_process"></span>Notes about the boot process</h2>
<p>The custom bootloader, part of the Raspberry Pi firmware, is abstracted away for NixOS by making it boot U-Boot instead.
</p><p>U-Boot gives us the ability to provide a generation selection menu during the boot process, in addition to storing the boot files on the main partition, rather than on the firmware partition.
</p>
<h3><span id="Raspberry_Pi_.28all_versions.29"></span>Raspberry Pi (all versions)</h3>
<p>USB keyboards and HDMI displays should work, though some issues have been reported (see Troubleshooting below).
</p><p>Using the 3.3v serial port via the pin headers (exact location depends on hardware version) will get u-boot output and, when configured, a Linux kernel console.
</p>
<h2><span id="Troubleshooting"></span>Troubleshooting</h2>
<h3><span id="Power_issues"></span>Power issues</h3>
<p>Especially with the newer power-hungry Raspberry Pi families (3, 4), it is important to have a <a rel="nofollow" href="https://www.raspberrypi.org/documentation/hardware/raspberrypi/power/README.md">sufficient enough power supply</a> or <i>weirdness</i> may happen. Weirdness may include:
</p>
<ul><li> Lightning bolt on HDMI output "breaking" the display.</li>
<li> Screen switching back to u-boot text
<ul><li> Fixable temporarily when power is sufficient by switching VT (alt+F2 / alt+F1)</li></ul></li>
<li> Random hangs</li></ul>
<p>This problem is a hard problem. It is caused by the Raspberry Pi warning about power issues, but the current drivers (as of 
Linux 4.14) have a hard time dealing with it properly. If the power supply is rated properly AND the cable is not incurring too much power losses, it may be required to disable the lightning bolt indicator so the display driver isn't messed up.<sup id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> The lightning bolt indicator can be disabled by adding the line <code>avoid_warnings=1</code> in config.txt<sup id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup>
</p>
<p><strong> Note: </strong>A <i>properly rated</i> USB power supply, AND a good cable are necessary. The cable has to be short enough to not incur power losses through the length. Do note that thin and cheap cables usually have thinner copper wires, which in turn accentuates power losses.</p>
<h3><span id="Additional_Troubleshooting"></span>Additional Troubleshooting</h3>
<p>Additional troubleshooting information may be found <a rel="nofollow" href="https://elinux.org/R-Pi_Troubleshooting">at elinux.org</a>.
</p>
<hr><ol>
<li id="cite_note-1"><span><a href="#cite_ref-1">‚Üë</a></span> <span><a rel="nofollow" href="https://logs.nix.samueldr.com/nixos/2017-12-20#1513784657-1513784714">https://logs.nix.samueldr.com/nixos/2017-12-20#1513784657-1513784714</a>;</span>
</li>
<li id="cite_note-2"><span><a href="#cite_ref-2">‚Üë</a></span> <span><a rel="nofollow" href="https://www.raspberrypi.org/documentation/configuration/config-txt/README.md">https://www.raspberrypi.org/documentation/configuration/config-txt/README.md</a></span>
</li>
</ol>

<!-- 
NewPP limit report
Cached time: 20201118204625
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.016 seconds
Real time usage: 0.019 seconds
Preprocessor visited node count: 144/1000000
Preprocessor generated node count: 456/1000000
Post‚Äêexpand include size: 1767/2097152 bytes
Template argument size: 866/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    6.785      1 -total
 26.47%    1.796      1 Template:Note
 17.97%    1.219      1 Template:File
 17.95%    1.218      1 Template:META_Box_Blue
 10.17%    0.690      1 Template:META_Box
  8.31%    0.564      1 Template:ARM/breadcrumb
-->

<!-- Saved in parser cache with key nixoswiki-nixos:pcache:idhash:290-0!*!0!!en!5!* and timestamp 20201118204625 and revision id 4737
 -->
</div></div>]]>
            </description>
            <link>https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi</link>
            <guid isPermaLink="false">hacker-news-small-sites-25538764</guid>
            <pubDate>Fri, 25 Dec 2020 20:22:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding Calculus]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25538017">thread link</a>) | @happy-go-lucky
<br/>
December 25, 2020 | https://understandingcalculus.com/index.php | <a href="https://web.archive.org/web/*/https://understandingcalculus.com/index.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="80%">&nbsp;<div>
        <center>
        <p><span size="2" face="Verdana">

<table>
   <thead>
   <tr> <th colspan="3"><a href="#" onclick="showHide('fruit','fruitspan')">
        <span id="fruitspan">+</span> 
	<span id="message"> Share page with friends </span> </a></th></tr>
   </thead> 
   <tbody id="fruit">
	<form name="myform"></form>
      <tr> <th> Your Name: </th><td>  </td> </tr>
      <tr> <th> Friend Emails: </th><td>  </td> </tr>
      <tr> <td> <i> Your Email - optional: </i> </td><td>  </td> </tr>
      <tr> <td colspan="2"> <center> 
	
	 </center> </td> </tr>
   </tbody>
</table>

<h3> Understanding Calculus </h3>
<p>
Understanding Calculus is a complete online introductory book that focuses on 
concepts. Integrated throughout the e-book are many engineering 
applications aimed at developing the student's scientific approach towards problem 
solving. 


</p><p> The book has as much to do with calculus as with philosophy. My
motivation in writing it was to prove to myself that I could understand
a complex subject like calculus by applying simple rules
of logic and reason. As Henry Ford said, " Nothing is particularly 
hard if you divide it
into small jobs ".  Too much of the world is
complicated by layers of evolution. If you understand how each layer is
put down then you can begin to understand the complex systems that
govern our world. 


Charles Darwin wrote in 1859 in his 
<a href="http://en.wikipedia.org/wiki/The_Origin_of_Species" target="new">
On The Origin of Species</a>,

</p><blockquote>
<i>

" When we no longer look at an organic being as a savage looks at a
ship, as at something wholly beyond his comprehension; when we regard
every production of nature as one which had a history; when we
contemplate every complex structure and instinct as the summing up of
many contrivances, each useful to the possessor, nearly in the same as
when we look at any great mechanical invention as the summing of the
labour, the experience, the reason, and even the blunders of numerous
workmen; when we thus view each organic being, how far more interesting,
I speak from experience, will the study of natural history become! "</i>
</blockquote>

<p> Darwin's words are equally applicable to art as well as science.
Every artist's performance requires a great deal of craft. Even
stand-up comedy is not a question of going on stage and saying funny things.
There is an enormous amount of work, practice and thought that would
have to go into it. 	


</p><p> My advice to students is to find something that
fascinates you. As Physics Nobel Laureate 
<a href="http://en.wikipedia.org/wiki/Richard_Feynman" target="new">
Richard Feynman</a>
 said, " Study hard
what interests you the most in the most undisciplined and
original manner possible." The price for seeking understanding is that one must be
willing to tolerate ambiguities and accept one's own ignorance. Feynman
said, " I can live with doubt and uncertainty. I think it is much more
interesting to live not knowing than to have answers which might be
wrong."

</p><p>


I hope you find the book enlightening as the goal is to learn by
understanding, not by memorizing. 

</p><p>
Faraz Hussain - Author  

<!-- <p>Try a simple high school math test for free at <a 
href=http://www.highschooldiplomaonline.net target=new> High School 
Diploma Online</a>  -->


</p><form action="http://www.online-web-software.com/cgi-bin/scripts/contact" method="POST">










<p><table>
<tbody><tr>
  <th rowspan="2">



</th>

  <td>&nbsp; <b>Email: </b></td>
</tr>
<tr>
  <td><center> </center></td>
</tr>
</tbody></table>


</p><center>
<br>
<b> <center><span face="ARIAL" size="1.5">

 ¬© Copyright  -  UnderstandingCalculus.com 

<br>
Web Design by <a href="http://www.online-web-software.com/"> Online-Web-Software.com </a>
<br>
<b>  Developers of <a href="http://event-registration.online-web-software.com/"> 
Event Registration Software</a><br>





</b></span></center><span face="ARIAL" size="1.5"><b>



</b></span></b></center></form></span></p>
        </center>
      </div>
      </div></div>]]>
            </description>
            <link>https://understandingcalculus.com/index.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-25538017</guid>
            <pubDate>Fri, 25 Dec 2020 18:14:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Simple Neural Network (]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25537878">thread link</a>) | @lukastyrychtr
<br/>
December 25, 2020 | https://explog.in/notes/funnn.html | <a href="https://web.archive.org/web/*/https://explog.in/notes/funnn.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<p>
I've always enjoyed terse programs that show how things work
<i>without</i> magic hiding incidental complexity. After realizing that my
initial attempt at a neural net only cost <span>less than 200 lines of Rust</span>,
I decided to take a snapshot and write about building it before I go
on and extend (and possibly over-complicate or abandon) the system.
</p>

<p>
More than anything else, treat this as encouragement to write your own
neural network ‚Äì the core implementation turned out to be
surprisingly compact ‚Äì enough to encourage me to write about it.
</p>

<p>
<b>This is not an introduction to neural nets</b>: There are several excellent
resources already available online that can describe the underlying
math and structure of networks; I'll just talk through them enough to
explain the structure of the code.
</p>

<p>
It's also entirely likely that I have mistakes in here; this was
written quickly with the main <b>aim</b> of encouraging more people to write
their own nets from scratch ‚Äì and given one simple point for
comparison. If you do write your own, please share it with me!
</p>

<div id="outline-container-orgd2852bf">
<h2 id="orgd2852bf">Choosing a simple problem &amp; architecture</h2>
<div id="text-orgd2852bf">
<p>
Achieving SotA on MNIST is an explicit non-goal: this project is aimed
at exploring the mechanics of a neural network, and being able to play
around with it while changing one feature at a time.
</p>

<p>
Instead of trying to see if the network can accurately predict results
from data I can't understand or reason about, I'm going to have the
network try to behave like a simple continuous function of my choice
instead ‚Äì I'll play with different functions like \(y=x^2\), \(y=x^3\),
\(y=x * sin(x)\), etc.
</p>

<p>
This greatly simplifies some parts of the network ‚Äì there's a single
input, and single output. The <a href="http://neuralnetworksanddeeplearning.com/chap4.html">Universality Theorem</a> suggests that I
should be able to get fairly far with a single layer, so that's where
I'm starting.
</p>

<p>
I like <a href="https://www.kaggle.com/dansbecker/rectified-linear-units-relu-in-deep-learning">ReLU</a> and leaky ReLU because of their simplicity, and I'll stick
with them here ‚Äì though I don't have any strong justification about
the choice of activation function yet.
</p>
</div>
</div>

<div id="outline-container-org4236674">
<h2 id="org4236674">Building the network</h2>

<div id="outline-container-orgcfce027">
<h3 id="orgcfce027">Storing a network</h3>
<div id="text-orgcfce027">
<p>
The very first decision was figuring out how to store the neural
network ‚Äì my very first attempt at doing this involved a lot of pure
functions and state being passed around all over the place which
quickly became messy ‚Äì it was much more maintainable to have a single
place to represent a neural network.
</p>



<p>
Happily enough, with the decision to have a single input and output, a
single hidden layer means that there are only so many weights I need
to store. 
</p>

<p>
The overall structure is fairly simple:
</p>
<pre>
    o
  /   \
x - o  - y
  .   .
   . .
    o 

</pre>

<p>
Before drawing in the calculations that need to happen, I'm going to
introduce a system for indexing nodes which should make this much
easier to talk about and parse:
</p>
<pre>
          Layer -&gt;
   +-------------------------&gt;
   |    
N  |               0       1
e  |               |       |
u  |          0 -  o       .
r  |       /         \     .
o  | 0 - x -  1 -  o - 0 - y
n  |       .         .
|  |        .       .
v  |         ns -  o
   v               

</pre>

<p>
It's a fairly simple system for drawing neurons ‚Äì a layer index that
starts at the first hidden layer; and a per-layer index into the
neuron itself.
</p>

<p>
For each <b>weight</b> in the system, there are going to be 3 coordinates:
the neuron it's at, and then the <i>input</i> it's specified for ‚Äì this is a
little bit different than most online courses, because I'm <i>not</i>
directly using vectors to be very explicit about the underlying
calculations (both avoiding matrix calculations and paying the price
in terms of speed as the price).
</p>

<p>
Drawing in the calculations for evaluating the network forward to make
this a little bit more concrete:
</p>

<pre>         0    1
         |    |                   layer input   
                                    |     |
     0 - o &lt;------- n[0,0] = relu(w[0, 0, 0]x + b[0, 0, 0])
  /        \                           |
x -  1 - o -  y                      neuron   
  .        .   \
   .      .     relu(sum(w[1, x, i]*n[0, i] + b[1, x, i]))
    ns - o

</pre>

<p>
I also have somewhat stronger constraints on the potential values for
my indexes:
</p>
<ul>
<li>for layer = 0
<ul>
<li>the neuron's index can go from 0 -&gt; <code>ns</code> (number of neurons)</li>
<li>the input can only be 0</li>
</ul></li>
<li>for layer = 1
<ul>
<li>the neuron's index can only be 0 (just one output)</li>
<li>and the input can go from 0 -&gt; ns (# of neurons in previous layer)</li>
</ul></li>
</ul>
<p>
In the code, I often refer to the <code>[layer, neuron, input]</code> index as <code>[x,
y, z]</code>.
</p>

<p>
Having this written out explicitly helped me a lot in implementing the
network, and I hope the constraints should make sense to you given the
structure of the network.
</p>

<p>
Finally, instead of dealing with initializing and taking care of
multi-dimensional vectors or arrays, I'm going to use a trick I often
rely on in Advent of Code for complex grid structures and keep a
single vector ‚Äì with a function to translate my custom indexing
system into offsets.
</p>

<div>
<pre><span>struct</span> <span>Net</span> {
    <span>ws</span>: <span>Vec</span>&lt;<span>f64</span>&gt;,
    <span>bs</span>: <span>Vec</span>&lt;<span>f64</span>&gt;,
    <span>ns</span>: <span>usize</span>,
}

<span>impl</span> <span>Net</span> {

    <span>pub</span> <span>fn</span> <span>new</span>(<span>ns</span>: <span>usize</span>) -&gt; <span>Net</span> {
        <span>let</span> <span>size</span> = ns * 2;
        <span>let</span> <span>ws</span>: <span>Vec</span>&lt;<span>f64</span>&gt; = <span>vec!</span>[0; size]; <span>// </span><span>This will change</span>
        <span>let</span> <span>bs</span>: <span>Vec</span>&lt;<span>f64</span>&gt; = <span>vec!</span>[0; size]; 

        <span>Net</span> { ws, bs, ns }
    }

    <span>pub</span> <span>fn</span> <span>pt</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>usize</span> {
        <span>match</span> x {
            0 <span>if</span> z == 0 &amp;&amp; y &lt; <span>self</span>.ns =&gt; y,
            1 <span>if</span> y == 0 &amp;&amp; z &lt; <span>self</span>.ns =&gt; <span>self</span>.ns + z,
            _ =&gt; <span>panic!</span>(<span>"Invalid location: {}, {}, {}"</span>, x, y, z),
        }
    }
}
</pre>
</div>
</div>
</div>


<div id="outline-container-orgf6e246d">
<h3 id="orgf6e246d">Initializing the network</h3>
<div id="text-orgf6e246d">
<p>
Starting the network with all weights initialized to 0 is a good way
to get stuck with 0 gradients during gradient descent: and a good
experiment to run while running the code yourself.
</p>

<p>
For this first iteration, I'm hard coding random initialization of
weights into the program ‚Äì but I'll expose another function that
accepts custom initial weights in the next iteration for exploration.
</p>

<div>
<pre><span>+</span><span> use rand::thread_rng;</span>
<span>+</span><span> use rand::{distributions::Standard, Rng};</span>

  impl Net {

      pub fn new(ns: usize) -&gt; Net {
          let size = ns * 2;
<span>-</span><span>         let ws: Vec&lt;f64&gt; = vec![0; size]; // This will change</span>
<span>+</span><span>         let ws: Vec&lt;f64&gt; = thread_rng().sample_iter(Standard).take(size).collect();</span>
<span>-</span><span>         let bs: Vec&lt;f64&gt; = vec![0; size]; </span>
<span>+</span><span>         let bs: Vec&lt;f64&gt; = thread_rng().sample_iter(Standard).take(size).collect();</span>

          Net { ws, bs, ns }
      }

  }
</pre>
</div>

<p>
And a corresponding dependency in <code>Cargo.toml</code>:
</p>
<pre>[dependencies]
rand = "0.7.3"
</pre>

<p>
I admit being disappointed about having to use an external crate that
<i>does</i> have some magic, but RNGs are another black box to open and play
with for another day.
</p>
</div>
</div>

<div id="outline-container-org2965953">
<h3 id="org2965953">Evaluating a single point</h3>
<div id="text-org2965953">
<p>
Up next is evaluating the value predicted by the network at a single
point, which is a straight forward traversal through the network. I'm
going to use a leaky ReLU as my activation function, so I'll quickly
define it:
</p>

<div>
<pre><span>fn</span> <span>relu</span>(<span>v</span>: <span>f64</span>) -&gt; <span>f64</span> {
    <span>if</span> v &gt;= 0.0 {
        v
    } <span>else</span> {
        0.01 * v
    }
}
</pre>
</div>

<p>
First, I'm going to throw in several utility functions to access or
calculate values in different parts of the net ‚Äì in my first
implementation, I extracted these out after implementing back-prop,
but there's no harm in putting them up here first.
</p>

<div>
<pre><span>impl</span> <span>Net</span> {

    <span>/// Relu(w * input + b) for coordinates x, y, z with input val</span>
    <span>fn</span> <span>rwxb</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        relu(<span>self</span>.wxb(val, x, y, z))
    }

    <span>/// w * input + b for coordinates x, y, z with input val</span>
    <span>fn</span> <span>wxb</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.w(x, y, z) * val + <span>self</span>.b(x, y, z)
    }

    <span>fn</span> <span>w</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.ws[<span>self</span>.pt(x, y, z)]
    }

    <span>fn</span> <span>b</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.bs[<span>self</span>.pt(x, y, z)]
    }

}
</pre>
</div>

<p>
Iterating through the net and calculating values lends itself
comfortably to Rust's beautiful iterator/expression based system:
</p>

<div>
<pre><span>impl</span> <span>Net</span> {
    <span>pub</span> <span>fn</span> <span>eval</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>) -&gt; <span>f64</span> {
        relu(
            (0..<span>self</span>.ns)
                .map(|i| <span>self</span>.rwxb(<span>self</span>.rwxb(val, 0, i, 0), 1, 0, i))
                .sum(),
        )
    }
}
</pre>
</div>

<p>
If you look at the diagram, I need to calculate the values of the
individual neurons ‚Äì \(Relu(w * x + b)\) ‚Äì which can be expressed as
<code>rwxb(x, 0, i, 0)</code> with <code>x</code> as the input and <code>i</code> ranging from <code>0</code> to <code>ns</code>
(number of neurons).
</p>

<p>
Then, the value of y is the value of these neurons as inputs added up,
and passed through Relu <i>again</i>. Which  is exactly what the function
above does.
</p>

<p>
(I admit to messing up the naming convention a little bit with x
playing double duty as both the input and the first coordinate; I'll
try to clean this up later if I find anyone actually reading this post.)
</p>
</div>
</div>

<div id="outline-container-org016c8dc">
<h3 id="org016c8dc">Expenses</h3>
<div id="text-org016c8dc">
<p>
Keeping loss as simple as possible, I'm simply calculating it as \((y -
y')^2\) at a data point. The <i>cost</i>, or loss across a given set of data
is then the average of the total loss. The implementation is as
straightforward as you would expect, given data in the form of tuples.
</p>

<p>
This is yet another decision to play around with in the future with
alternative functions.
</p>

<div>
<pre><span>impl</span> <span>Net</span> {
    <span>pub</span> <span>fn</span> <span>cost</span>(<span>self</span>: &amp;<span>Self</span>, <span>data</span>: &amp;[(<span>f64</span>, <span>f64</span>)]) -&gt; <span>f64</span> {
        <span>let</span> <span>mut</span> <span>loss</span> = 0.0;
        <span>for</span> (x, y) <span>in</span> data {
            <span>let</span> <span>val</span> = <span>self</span>.eval(*x);
            loss += (y - val).powi(2);
        }
        loss / <span>self</span>.ns <span>as</span> <span>f64</span>
    }
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org414d409">
<h3 id="org414d409"><a href="https://www.youtube.com/watch?v=_YYmfM2TfUA">Training!</a></h3>
<div id="text-org414d409">
<p>
Training involves calculating the cost for a given set of inputs,
determining the gradients of the cost for that set of inputs in terms
of all the weights and biases.
</p>

<p>
And then updating the weights and biases with the given learning rate
‚Äì which involves even more decisions and hyperparameters.
</p>
</div>
</div>

<div id="outline-container-org5642496">
<h3 id="org5642496">Determining the gradient</h3>
<div id="text-org5642496">
<p>
This was the hardest part of the whole exercise: packages like Pytorch
allow automating the gradient calculation ‚Äì by swapping out the
implementation of all the other mathematical functions, and
transparently converting that to the gradient with <code>autodiff</code>.
</p>

<p>
Instead of building a system to do ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://explog.in/notes/funnn.html">https://explog.in/notes/funnn.html</a></em></p>]]>
            </description>
            <link>https://explog.in/notes/funnn.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25537878</guid>
            <pubDate>Fri, 25 Dec 2020 17:50:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chang‚Äôe 5 observations from ATA on December 19 and 20]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25537392">thread link</a>) | @parsecs
<br/>
December 25, 2020 | https://destevez.net/2020/12/change-5-observations-from-ata-on-december-19-and-20/ | <a href="https://web.archive.org/web/*/https://destevez.net/2020/12/change-5-observations-from-ata-on-december-19-and-20/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9423">

	

	<div>
		
<p>As we‚Äôve been doing lately, last weekend we observed the <a href="https://en.wikipedia.org/wiki/Chang%27e_5">Chang‚Äôe 5</a> orbiter at <a href="https://en.wikipedia.org/wiki/Allen_Telescope_Array">Allen Telescope Array</a> as part of the <a href="https://www.gnuradio.org/">GNU Radio</a> community activities in the telescope. This post contains a large overview of these observations, including the efforts to determine the spacecraft orbit, the study of the signal polarization, and the data obtained by decoding the telemetry.</p>



<p>I am still transferring the IQ data from the telescope, but I will publish the recordings in <a href="https://zenodo.org/">Zenodo</a> in a few days and update this post.</p>



<h4>Orbit</h4>



<p>On December 16, the orbiter did an Earth fly by, avoiding reentry and dropping the capsule containing the lunar samples. The fate of the orbiter was unknown at that time, but there were words that it had plenty of spare fuel and an extended mission was being planned.</p>



<p>Amateur observers such as <a href="https://twitter.com/df2mz">Edgar Kaiser DF2MZ</a> and <a href="https://twitter.com/coastal8049">Scott Tilley VE7TIL</a> were able to <a href="https://twitter.com/df2mz/status/1339490142206234624">detect</a> the orbiter‚Äôs <a href="https://twitter.com/coastal8049/status/1339603055164067843">telemetry signals</a> on December 17, confirming that the spacecraft was still in space. However, its new orbit wasn‚Äôt know. Scott, <a href="https://twitter.com/Astrogator_Mike">Mike Loucks</a> and <a href="https://www.projectpluto.com/">Bill Gray</a> set to try to determine the orbit.</p>



<p>The initial data <a href="https://twitter.com/Astrogator_Mike/status/1339857762482671617">suggested</a> an elliptical orbit with apogee at the Moon‚Äôs orbit, so that in three revolutions a Moon flyby could be performed to send the orbiter somewhere else. Observations with the ATA are of large help for this, because the 6.1 metre dishes have a rather narrow beamwidth at 8.4 GHz, so dish pointing data from ATA tends to be accurate to within 0.2 degrees, which is much better than what can be achieved with the smaller dishes of Amateur stations.</p>



<p>On the other hand, the narrow beamwidth of ATA makes it more difficult to find the signal, since even a small error in pointing will make it disappear completely in the noise. On Saturday 19 I used the pointing data from Edgar as a starting point for my search and managed to locate the spacecraft after some 45 minutes of manual search.</p>



<p>On Sunday 20 I wasn‚Äôt so lucky. I used the orbit that Bill had estimated as my initial search location, and after searching for a while manually, I decided to automate the search by slowly sweeping a small area of the sky to produce a signal intensity map. I started at the point predicted by Bill‚Äôs orbit and continued outwards, sweeping an ever increasing circular patch of the sky.</p>



<p>The resulting map can be seen below. Each of the squares in the image corresponds to 0.2 x 0.2 degrees and takes several seconds to generate, including 3 seconds of integration and the time that it takes to command and move the dish. In fact, this image took one hour and 15 minutes to generate.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_find.png"><img width="590" height="567" src="https://destevez.net/wp-content/uploads/2020/12/ce5_find.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_find.png 590w, https://destevez.net/wp-content/uploads/2020/12/ce5_find-300x288.png 300w" sizes="(max-width: 590px) 100vw, 590px"></a></figure>



<p>We can already see the signal leaking in at the upper left border of the scanned circle, so at that point I decided to stop this search and start a new one centred at that point with the objective of fine tuning the signal location.</p>



<p>The resulting image is below. Here we clearly locate the spacecraft‚Äôs signal to one particular point of the sky. Note the change in the colour map range between this image and the previous one.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_find2.png"><img width="597" height="561" src="https://destevez.net/wp-content/uploads/2020/12/ce5_find2.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_find2.png 597w, https://destevez.net/wp-content/uploads/2020/12/ce5_find2-300x282.png 300w" sizes="(max-width: 597px) 100vw, 597px"></a></figure>



<p>As it turns out, the real position of the spacecraft was more than one degree away from my initial search location (which was taken from Bill‚Äôs orbit). The reason for this is that our initial ideas for the orbit were wrong. After including this new pointing data in his orbit solution, Bill noticed that the orbit‚Äôs apogee was much larger than we thought. In fact, the spacecraft was already on a direct path to the Sun-Earth L1 <a href="https://en.wikipedia.org/wiki/Lagrange_point">Lagrange point</a>. An official statement of this fact <a href="https://m.weibo.cn/status/4584346742690791?">appeared in the news</a> more or less at the same time we realized this.</p>



<p>Still, our orbit estimate is far from perfect and has to be refined using further pointing and Doppler data. One of the main questions is whether the <a href="https://en.wikipedia.org/wiki/Elongation_(astronomy)">elongation</a> and inclination is correct for a direct route to L1 or whether it will just go nearby L1.</p>



<p>The figure below shows a simulation in <a href="http://gmat.sourceforge.net/docs/">GMAT</a> using some preliminary orbit data. We see that the spacecraft lags 45 degrees behind the L1 point until April 2021, when it starts being ejected slowly. It may happen that this is already good enough to wait until the appropriate moment to hop to a near-Earth asteroid, which seems the most likely science target, or that small corrections can keep the spacecraft hovering around L1 for longer or nudge it closer to it.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/GmatScreenShot_016.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2020/12/GmatScreenShot_016-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/GmatScreenShot_016-644x315.png 644w, https://destevez.net/wp-content/uploads/2020/12/GmatScreenShot_016-300x147.png 300w, https://destevez.net/wp-content/uploads/2020/12/GmatScreenShot_016-768x376.png 768w, https://destevez.net/wp-content/uploads/2020/12/GmatScreenShot_016.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Chang‚Äôe 5 preliminary orbit estimate to Sun-Earth L1</figcaption></figure>



<p>The orbit data used in the image above was taken from <a href="https://www.projectpluto.com/temp/ch5.htm">Bill‚Äôs pseudo-MPEC</a> from Dec 20 21:46:31 UT, which gives the following state vector in GMAT.</p>



<pre>GMAT CE5.Epoch = '17 Dec 2020 00:00:00.000';<br>GMAT CE5.CoordinateSystem = EarthMJ2000Eq;<br>GMAT CE5.DisplayStateType = Keplerian;<br>GMAT CE5.SMA = 900894.1644560199;<br>GMAT CE5.ECC = 0.9907153885000005;<br>GMAT CE5.INC = 41.77831500000001;<br>GMAT CE5.RAAN = 34.46469513000001;<br>GMAT CE5.AOP = 27.48516173000009;<br>GMAT CE5.TA = 148.0487466775136;</pre>



<h4>Polarization and signal strength</h4>



<p>Both on Saturday 19 and Sunday 20 the spacecraft signals were recorded during the full pass, until the spacecraft was lost below the 16.8 degree minimum elevation for tracking. On the 20th a lot of time was lost searching for the signal, so the recording starts some two hours late.</p>



<p>As usual, the signal at 8471.2 MHz was strong. The second orbiter signal at 8486.2 MHz was also present, but it was much weaker, so telemetry could only be decoded from 8471.2 MHz. However, an initial study of the Doppler from these two signals shows that the 8486.2 MHz signal drifts much less. This is probably caused by the two transmitters being in different locations, with the 8486.2 MHz transmitter at a more thermally stable position, perhaps shaded from the Sun. Thus, even if weaker, the 8486.2 MHz signal can give us more accurate Doppler data.</p>



<p>The figures below show the waterfall for the 8471.2 MHz and 8486.2 MHz signals for December 19. We can see a large increase in the noise floor around 17:00 UTC. I‚Äôm not sure of the cause of this, but I suspect ground noise entering through some of the dish sidelobes. We see that the signal is not in ground lock, since the idle telecommand signal being looped back at +/- 8 kHz from the main carrier is missing. The data sidebands are clearly visible in the 8471.2 MHz signal and almost in the noise in the 8486.2 MHz.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall.png"><img width="644" height="403" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall-644x403.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall-644x403.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall-300x188.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall-768x480.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall.png 902w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall2.png"><img width="644" height="403" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall2-644x403.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall2-644x403.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall2-300x188.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall2-768x480.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_waterfall2.png 902w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The waterfalls for December 20 are very similar. There is no noise hump, but the recording starts after 17:00 UTC. The sky track was quite similar on both days, so if the noise increase happens at a particular azimuth and elevation, then we would have missed it because of the late start on the 20th.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall.png"><img width="644" height="433" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall-644x433.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall-644x433.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall-300x202.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall-768x517.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall.png 899w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall2.png"><img width="644" height="433" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall2-644x433.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall2-644x433.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall2-300x202.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall2-768x517.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_waterfall2.png 899w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>






<p>The signal strength (Stokes \(I\)) is shown in the plots below. The wiggles are an artefact caused by how the measurement is made (scalloping loss in the FFT). The measurement is signal plus noise of the main carrier, rather than just signal, so the measurement of the weak carrier 8486.2 MHz is not accurate.</p>



<p>The small jumps in the traces correspond to the moments when I tried to move the pointing slightly to improve the signal. Any variations seen here should not be taken too seriously, since they can be caused by a the pointing not being very good, rather than a real change in signal strength.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_strength.png"><img width="644" height="343" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_strength-644x343.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_strength-644x343.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_strength-300x160.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_strength.png 726w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_power.png"><img width="644" height="347" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_power-644x347.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_power-644x347.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_power-300x161.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_power.png 719w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The polarized fraction (Stokes \(P/I = \sqrt{Q^2 + U^2 + V^2}/I\)) shows the degradation caused when unpolarized noise is included in the measurement for the weaker SNRs. For the weak 8486.2 MHz carrier we see that, in the measurement bandwidth, 50% or more of the power is unpolarized noise. Therefore, to normalize the Stokes \(L = Q + iU\) and \(V\) I have decided to divide by \(P\) rather than \(I\) as I was doing in <a href="https://destevez.net/2020/12/change-5-reception-from-ata-on-its-return-trajectory-polarization/" data-type="post" data-id="9400">previous polarization studies of Chang‚Äôe 5</a>.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_fraction.png"><img width="644" height="344" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_fraction-644x344.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_fraction-644x344.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_fraction-300x160.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_fraction.png 724w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_fraction.png"><img width="644" height="344" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_fraction-644x344.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_fraction-644x344.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_fraction-300x160.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_fraction.png 724w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The plots below show Stokes \(V/P\), which indicates the circular polarization fraction and handedness. As in the previous weekend we see that the signal at 8471.2 MHz has almost ideal RHCP. This makes sense, because this should be the antenna that is pointing directly to Earth. The signal from 8486.2 MHz is seen with elliptic polarization, since it is probably pointing in a different direction.</p>



<p>On the 20th we see a decrease in the Stokes \(V\) of the 8471.2 MHz signal. This, together with the decrease in signal strength may be caused by a dish pointing error, but it could indicate that the spacecraft‚Äôs antenna is slowly moving away from Earth. In fact, since the Chinese are probably not going to monitor the spacecraft so often during the long trip to L1 (as evidenced by the lack of a ground lock seen in these observations), it is not so important that one of the antennas is kept pointing to Earth.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_V.png"><img width="644" height="339" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_V-644x339.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_V-644x339.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_V-300x158.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_V.png 735w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_V.png"><img width="644" height="339" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_V-644x339.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_V-644x339.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_V-300x158.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_V.png 735w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The two figures below show the relative strength and angle of the linear polarization on December 19th. Something weird happens with the polarization angle of the 8471.2 MHz signal around 17:00 UTC, but otherwise both signals show a slow increase in the angle throughout the observation. Note that this data is not corrected for parallactic angle rotation.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_L.png"><img width="644" height="324" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_L-644x324.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_L-644x324.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_L-300x151.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_L-768x386.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_L.png 770w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_L_2.png"><img width="644" height="324" src="https://destevez.net/wp-content/uploads/2020/12/ce5_L_2-644x324.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_L_2-644x324.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_L_2-300x151.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_L_2-768x386.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_L_2.png 770w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>On December 20th we see a similar slow increase in the polarization angle throughout the observation. We also see a noticeable increase in the fractional linear polarization of the 8471.2 MHz signal, which matches the decrease in Stokes \(V\) we saw above.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_L.png"><img width="644" height="324" src="https://destevez.net/wp-content/uploads/2020/12/ce5_L-644x324.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_L-644x324.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_L-300x151.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_L-768x386.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_L.png 770w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_L_2.png"><img width="644" height="324" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_L_2-644x324.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_L_2-644x324.png 644w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_L_2-300x151.png 300w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_L_2-768x386.png 768w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_L_2.png 770w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The Jupyter notebooks used to produce these plots can be found <a href="https://github.com/daniestevez/ata_notebooks/blob/main/CE5/Polarization%202020-12-19.ipynb">here</a> and <a href="https://github.com/daniestevez/ata_notebooks/blob/main/CE5/Polarization%202020-12-20.ipynb">here</a>.</p>



<h4>Telemetry</h4>



<p>The telemetry decoded from the 8471.2 MHz signal contains, as usual, CCSDS AOS frames using virtual channel 1 for real time telemetry. I have analysed it in a <a href="https://github.com/daniestevez/jupyter_notebooks/blob/master/CE5/CE-5%20frame%20analysis%20ATA%202020-12-19.ipynb">Jupyter notebook for 2020-12-19</a> and <a href="https://github.com/daniestevez/jupyter_notebooks/blob/master/CE5/CE-5%20frame%20analysis%20ATA%202020-12-20.ipynb">another one for 2020-12-20</a>.</p>



<p>The decoded frames and frame loss for Saturday 19 are shown below. The decoding is quite good, except for a short interval around 17:00 UTC when the noise level rose higher and the signal became a bit weaker.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_frames.png"><img width="638" height="387" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_frames.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_frames.png 638w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_frames-300x182.png 300w" sizes="(max-width: 638px) 100vw, 638px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_19_loss.png"><img width="606" height="387" src="https://destevez.net/wp-content/uploads/2020/12/ce5_19_loss.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_19_loss.png 606w, https://destevez.net/wp-content/uploads/2020/12/ce5_19_loss-300x192.png 300w" sizes="(max-width: 606px) 100vw, 606px"></a></figure>



<p>The frames decoded on Sunday 20 do not have any gaps, but during the last hour of the observation we have some frame loss, since the signal was a bit weaker.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_frames.png"><img width="639" height="387" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_frames.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_frames.png 639w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_frames-300x182.png 300w" sizes="(max-width: 639px) 100vw, 639px"></a></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2020/12/ce5_20_loss.png"><img width="607" height="387" src="https://destevez.net/wp-content/uploads/2020/12/ce5_20_loss.png" alt="" srcset="https://destevez.net/wp-content/uploads/2020/12/ce5_20_loss.png 607w, https://destevez.net/wp-content/uploads/2020/12/ce5_20_loss-300x191.png 300w" sizes="(max-width: 607px) 100vw, 607px"></a></figure>



<p>In the real time ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://destevez.net/2020/12/change-5-observations-from-ata-on-december-19-and-20/">https://destevez.net/2020/12/change-5-observations-from-ata-on-december-19-and-20/</a></em></p>]]>
            </description>
            <link>https://destevez.net/2020/12/change-5-observations-from-ata-on-december-19-and-20/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25537392</guid>
            <pubDate>Fri, 25 Dec 2020 16:39:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Mountain Peaks in WebGL]]>
            </title>
            <description>
<![CDATA[
Score 259 | Comments 37 (<a href="https://news.ycombinator.com/item?id=25537377">thread link</a>) | @pheelicks
<br/>
December 25, 2020 | https://felixpalmer.github.io/peaks-of-austria/ | <a href="https://web.archive.org/web/*/https://felixpalmer.github.io/peaks-of-austria/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://felixpalmer.github.io/peaks-of-austria/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25537377</guid>
            <pubDate>Fri, 25 Dec 2020 16:37:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Aliens Likely Annihilated Themselves Through Progress]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 43 (<a href="https://news.ycombinator.com/item?id=25537049">thread link</a>) | @elorant
<br/>
December 25, 2020 | https://www.ibtimes.sg/aliens-likely-annihilated-themselves-through-progress-suggests-new-extraterrestrial-research-54416 | <a href="https://web.archive.org/web/*/https://www.ibtimes.sg/aliens-likely-annihilated-themselves-through-progress-suggests-new-extraterrestrial-research-54416">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody" id="v_main"><p>There are many people who strongly believe that aliens are real and they are living somewhere far from the blue planet, Earth. But a new scientific study suggested that such civilizations destroyed themselves through progress.</p><p>NASA Jet Propulsion Laboratory and California Institute of Technology researchers have surmised in a study that the galaxy might be home to alien civilizations that destroyed themselves through technological advancements that eventually lead to destruction and biological degeneration.</p><p>According to <a href="https://arxiv.org/ftp/arxiv/papers/2012/2012.07902.pdf" rel="nofollow" target="_blank">the paper</a>, "A Statistical Estimation of the Occurrence of Extraterrestrial Intelligence in the Milky Way Galaxy", any intelligent alien life that lived in the Milky Way before humans did likely already killed itself off.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="800px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=800 800w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i44626" src="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=736" alt="Milky Way Galaxy" title="Milky Way Galaxy" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg"><meta itemprop="width" content="800"><meta itemprop="height" content="450">
<figcaption>
<span itemprop="caption">Alien life in Milky Way</span>
<span itemprop="copyrightHolder">Pikrepo</span>
</figcaption></div>
</figure><h3><strong>Dead Alien Civilization </strong></h3><p>The researchers behind this study, Xiang Cai, Jonathan H. Jiang, Kristen A. Fahy, and Yuk L. Yung, explained in the paper that "if intelligent life is likely to destroy themselves, it is not surprising that there is little or no intelligent life elsewhere".</p><p>If people are wondering why humans, the most intelligent living being on planet Earth and on the solar system, might still be alive, it is because the species are billions of years behind these now-extinct alien civilizations. The intelligent species or aliens probably noticed life form around eight billion years after the formation of the Milky Way, whereas humans did not reach until 13.5 billion years after the creation. This means the humans are almost over five billion years behind.</p><p>According to Jiang, the NASA Jet Propulsion Laboratory astrophysicist, since Carl Sagan's time, there has been lots of research on alien life, especially when the Hubble Space Telescope and Kepler Space Telescope were created. "We have lots of knowledge about the densities in the Milky Way galaxy and star formation rates and exoplanet formation...and the occurrence rate of supernova explosions. We actually know some of the numbers," he <a href="https://www.livescience.com/milky-way-alien-life-map.html" rel="nofollow">added</a>.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i28417" src="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=736" alt="Center of the Milky Way Galaxy" title="Center of the Milky Way Galaxy" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg"><meta itemprop="width" content="1041"><meta itemprop="height" content="738">
<figcaption>
<span itemprop="caption">Photo of the Milky Way's center taken by the Spitzer Space Telescope</span>
<span itemprop="copyrightHolder">NASA, JPL-Caltech, Susan Stolovy SSC/Caltech et al.</span>
</figcaption></div>
</figure><p>The numbers are actually related to the mystery variables that the American astronomer and the planetary scientist Segan referred to in his Cosmos miniseries in which he discussed the Drake equation. This formula proposed by American astrophysicist Frank Drake estimates N, the number of transmitting societies in the Milky Way galaxy. It is actually the equation that may give the scientists an idea about how many alien societies exist and are detectable.</p><p>Because of the scientific limitations at that time, Drake and Sagan included variables that could not be identified more precisely. But now Jiang and the team of scientists have learned about some of those numbers which Drake and Segan failed to identify. The paper says when and where life is most likely to flourish in the Milky Way and it identifies the most important factor affecting its prevalence that is intelligent creatures' tendency toward self-annihilation.</p><p>Understanding the factors helped the team of scientists believe that advanced alien civilizations did exist at one point in the galaxy, but they likely destroyed themselves by way of progress. However, according to some scientific theories, there might be <a href="https://www.syfy.com/syfywire/there-might-be-36-alien-races-in-the-milky-way" rel="nofollow">36</a> extraterrestrial races among the stars.</p><p>Earlier in 2018, scientists claimed that the galaxy used to be the home to aliens but it was the effect of climate change that vanished all the life forms, as per a <a href="https://www.forbes.com/sites/brucedorminey/2018/12/31/galaxy-may-be-littered-with-dead-aliens-blindsided-by-natural-climate-change/?sh=497bde101955" rel="nofollow" target="_blank">report</a> from Forbes. In the recently released paper, the researchers said, "The simulated age distributions also suggest that most of the intelligent life in our galaxy are young, thus making observation or detection difficult."</p><p>They also found that even if the galaxy reached its civilizational peak over five billion years ago, most of the civilizations that were around that time have likely self-annihilated. However, the paper has been submitted to a journal for publication and it is currently awaiting peer review.</p></div></div>]]>
            </description>
            <link>https://www.ibtimes.sg/aliens-likely-annihilated-themselves-through-progress-suggests-new-extraterrestrial-research-54416</link>
            <guid isPermaLink="false">hacker-news-small-sites-25537049</guid>
            <pubDate>Fri, 25 Dec 2020 15:42:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cracking the Senior Software Interview]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25537033">thread link</a>) | @whack
<br/>
December 25, 2020 | https://software.rajivprab.com/2019/06/02/cracking-the-senior-software-interview/ | <a href="https://web.archive.org/web/*/https://software.rajivprab.com/2019/06/02/cracking-the-senior-software-interview/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<div><figure><a href="http://dizitall.com/senior-developer-will-encounter-9-experiences/" target="_blank" rel="noreferrer noopener"><img data-attachment-id="135" data-permalink="https://software.rajivprab.com/businessmann-zeigt-seine-visitenkarte/" data-orig-file="https://softwarerajivprab.files.wordpress.com/2019/06/senior-developer.jpg" data-orig-size="500,301" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;6.3&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Canon EOS 450D&quot;,&quot;caption&quot;:&quot;Businessmann zeigt seine Visitenkarte&quot;,&quot;created_timestamp&quot;:&quot;1234532325&quot;,&quot;copyright&quot;:&quot;Mammut Vision - Fotolia&quot;,&quot;focal_length&quot;:&quot;135&quot;,&quot;iso&quot;:&quot;200&quot;,&quot;shutter_speed&quot;:&quot;0.003125&quot;,&quot;title&quot;:&quot;Businessmann zeigt seine Visitenkarte&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Businessmann zeigt seine Visitenkarte" data-image-description="" data-medium-file="https://softwarerajivprab.files.wordpress.com/2019/06/senior-developer.jpg?w=300" data-large-file="https://softwarerajivprab.files.wordpress.com/2019/06/senior-developer.jpg?w=500" src="https://softwarerajivprab.files.wordpress.com/2019/06/senior-developer.jpg" alt=""></a></figure></div>



<p>The following is a post which I found on the Blind app. It covers all the preparation and experiences of someone who received multiple job offers from the best tech companies, including multiple offers in the range of $550,000/year.</p>



<p>Because it can only be accessed via the app, I have copied it in its entirety here, so others can benefit from it. In order to respect the anonymity of the poster, I have not included their name. If you are the poster and wish to be credited, please contact me and I‚Äôll update this article.</p>



<hr>



<p>I learnt a lot about interviews from blind community. This is my effort to give back to the community. This thread is not about TC, but for the curious ones, I have multiple offers around 550k and I still negotiating, I will start another thread with comp details.</p>



<p>Offers I got ‚Äì Facebook (E6), Uber (5b), Oracle (IC5), Google (L5), Lyft (L5), Pinterest (L5), Cruise (Sr SDE 2), Compass (Staff), Convoy (Staff)</p>



<p>Where I failed ‚Äì Airbnb (Onsite), Netflix (Phone screen), Dropbox (PS)</p>



<p>I am SDE3 in Amazon and YoE: 11 and TC: 355k.</p>



<p>My interview preparation ‚Äì</p>



<h2>Algo and Coding</h2>



<p>I started with <a rel="noreferrer noopener" aria-label="CodeSignal (opens in a new tab)" href="https://codesignal.com/" target="_blank">CodeSignal</a>. This helped me to kick start the coding prep. After solving 2-3 problems on each topic, I moved onto Leetcode. On Leetcode, I started solving ‚ÄúTop interview questions‚Äù, after solving 50+ questions, I started mock interviews on <a href="http://interviewing.io/" target="_blank" rel="noreferrer noopener" aria-label="Interviewing.io (opens in a new tab)">Interviewing.io</a>, I failed the first 2 but I learned from my failures. I succeeded in the next 2 interviews and started attending onsite interviews of companies that I don‚Äôt mind failing. As of now, I completed 120 questions on Leetcode, Easy/Medium/Hard ratio is 30/75/15.</p>



<p>For Staff and higher level interviews, System design and Behavioral/experience interviews play very important role. Hiring panel assesses your level based your interview perf in these interviews.</p>



<h2>System design</h2>



<p>I reviewed all the designs in <a rel="noreferrer noopener" aria-label="Grokking the System Design Interview (opens in a new tab)" href="https://www.educative.io/" target="_blank">Grokking the System Design Interview</a> and watched most of the system design videos in <a rel="noreferrer noopener" aria-label="this YouTube playlist (opens in a new tab)" href="https://www.youtube.com/watch?v=mhUQe4BKZXs&amp;list=PLkQkbY7JNJuBoTemzQfjym0sqbOHt5fnV" target="_blank">this YouTube playlist</a> and read this <a rel="noreferrer noopener" aria-label="Primer on System Design (opens in a new tab)" href="https://github.com/donnemartin/system-design-primer" target="_blank">Primer on System Design</a>.</p>



<p>In Amazon I used various AWS applications like Dynamo, S3, SQS, SWF etc and I also watched design videos of these services. That also helped me in doing well in these interviews.</p>



<p>My approach for system design interview ‚Äì </p>



<p>3-5 mins: Clarify requirements and define functional and non-functional (scaling and perf) requirements</p>



<p>5-10 mins: Define APIs including input and output params. Discuss about data model (primary key, 2ndary key etc)</p>



<p>10-15 mins: Define higher level architecture. Talk about various components in the overall architecture, Web client, Load balancer, Application servers, Data bases etc. Take couple of APIs and talk about end to end data flow from user to the storage. Talk about performance issues and how caching can help (sometimes caching is a bad thing). </p>



<p>15-20 mins: Talk about critical use case(s) that is specific to the given problem. For twitter it is about fanning out updates and handling celebrity update issue, for messaging apps it will be maintaining device connection status and taking care of offline use case and read/unread status etc.</p>



<p>If there is more time, discuss about scaling bottlenecks and discuss about how to address those issues. Talk about failures and how do you handle failures (retries, exponential back off etc)</p>



<h2>Behavioral and experience interviews</h2>



<p>In behavioral interviews, interviewers expect you to answer following, be prepare with convincing examples from your past experience.</p>



<p>* Tell me about a recent project which was very challenging, explain the challenge and tell me how you went about solving it?</p>



<p>* Tell me about a project where you had to work with cross functional teams and had difficulty in managing the expectation from one of those teams? How did you handle such scenario?</p>



<p>* Tell me about a scenario where you had a conflict with senior/junior in your team, how did you resolve this?</p>



<p>* Tell me about a scenario where you couldn‚Äôt meet your commitments on a project, what was the situation and impact? how did you handle the situation?</p>



<p>* Tell me about a scenario where you discovered an issue in your design in the middle of the project and how do you went about resolving it?</p>



<p>* What is your process of project prioritization? What do you do, if in the middle of the project requirement changes?</p>



<h2>Some tips</h2>



<p>* I was very nervous before my first onsite as I appeared for an interview after long time. It went well. That game me lot of confidence.</p>



<p>* Treat the interviewer as a peer and have an open discussion in design interviews. When an interviewer enters the interview room, greet them with a smile. Interviews can be very nervous, a smile can calm both of you.</p>



<p>* When one of the interviews doesn‚Äôt go as expected in your onsite, you have to quickly forget it and move on positively to the next interview. If you do well in 4 out of 5 interviews, they might still offer you the position.</p>



<p>If I missed anything, you can add a comment, I will be happy to answer.</p>
	</div></div>]]>
            </description>
            <link>https://software.rajivprab.com/2019/06/02/cracking-the-senior-software-interview/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25537033</guid>
            <pubDate>Fri, 25 Dec 2020 15:38:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing Good Unit Tests; Don‚Äôt Mock Database Connections]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536565">thread link</a>) | @wagslane
<br/>
December 25, 2020 | https://qvault.io/2020/11/23/writing-good-unit-tests-dont-mock-database-connections/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/11/23/writing-good-unit-tests-dont-mock-database-connections/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<p>Unit tests are unbelievably important to us as developers because they allow us to demonstrate the correctness of the code we‚Äôve written. More importantly, unit tests allow us to make updates to our code base with the confidence that we haven‚Äôt broken anything. In our eagerness to get 100% code coverage, however, we often write tests for logic that perhaps we have no business testing. I‚Äôm here to assert that creating mock database abstractions in order to write unit tests is a bad idea<em> almost all of the time.</em></p>
<p>At <a href="https://qvault.io/">Qvault</a> we have a Postgres database running behind a RESTful Go API server, but we do our best to write small testable functions so that we don‚Äôt need to write useless mocks. That kind of code dirties the repository, adds unnecessary abstractions that make the code harder to understand, and doesn‚Äôt add any value to the robustness of the test suite.</p>
<h2>What Is a Unit Test?</h2>
<blockquote><p>In computer programming, unit testing is a software testing method by which individual units of source code‚Äîsets of one or more computer program modules together with associated control data, usage procedures, and operating procedures‚Äîare tested to determine whether they are fit for use.</p><cite><a aria-label="https://en.wikipedia.org/wiki/Unit_testing (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Unit_testing" target="_blank">Wikipedia</a></cite></blockquote>
<p>In Go, unit tests can be executed using the <code>go test</code> command and some example source code looks something like this:</p>
<pre><code lang="go">func TestLogPow(t *testing.T) {
	expected := math.Round(math.Log2(math.Pow(7, 8)))
	actual := math.Round(logPow(7, 8, 2))
	if actual != expected {
		t.Errorf("Expected %v, got %v", expected, actual)
	}

	expected = math.Round(math.Log2(math.Pow(10, 11)))
	actual = math.Round(logPow(10, 11, 2))
	if actual != expected {
		t.Errorf("Expected %v, got %v", expected, actual)
	}
}</code></pre>
<p>Where we are testing the <code>logPow</code> function that looks like this:</p>
<pre><code lang="go">// logPow calculates log_base(x^y)
// without leaving logspace for each multiplication step
// this makes it take less space in memory
func logPow(expBase float64, pow int, logBase float64) float64 {
	// logb (MN) = logb M + logb N
	total := 0.0
	for i := 0; i &lt; pow; i++ {
		total += logX(logBase, expBase)
	}
	return total
}</code></pre>
<p>The goal of unit tests is to test a ‚Äúunit‚Äù, or small portion, of code. If we can break our code into many small testable units, then we can automate much of our testing through these kinds of test suites.</p>
<h2>Good Code Is Easier To Test</h2>
<p><code>logPow</code> is a great example of the perfect candidate for a suite of unit tests. It‚Äôs a mathematical function with predictable outputs for any given inputs. Not all functions we write will be nearly this straightforward to test. However, if we can write small and ideally<a href="https://qvault.io/2020/09/07/purity-in-my-programming-please/"> pure functions where possible</a>, writing tests for them becomes much easier.</p>
<p><strong>Testing shouldn‚Äôt be hard.</strong> Simple code is easy to test.</p>
<h2>Unit Tests Shouldn‚Äôt Depend On Infrastructure</h2>
<p>In web development, it is commonly regarded as good practice (see <a href="https://reflectoring.io/book-review-clean-code/" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener nofollow">Clean Code</a>) to create architectural boundaries at every point of I/O. For example, your database functions with all their <code>SQL</code> and driver libraries should be separate from the code that ensures <a href="https://github.com/lane-c-wagner/go-password-validator" rel="noopener">your user‚Äôs passwords are secure.</a></p>
<p>Take a look at the following function:</p>
<pre><code lang="go">func saveUser(db *sql.DB, user *User) error {
	if user.EmailAddress == "" {
		return errors.New("user requires an email")
	}
	if len(user.Password) &lt; 8 {
		return errors.New("user password requires at least 8 characters")
	}
	hashedPassword, err = hash(user.Password)
	if err != nil {
		return err
	}
	_, err := db.Exec(`                                                                                                                          
		INSERT INTO usr (password, email_address, created)                                                                                                                                                                                                                                                                                                                                                                                       
		VALUES ($1, $2, $3);`,
		hashedPassword, user.EmailAddress, time.Now(),
	)
	if err != nil {
		return err
	}
	return nil
}</code></pre>
<p>There is no way to test this function without having a database connection available at the time of testing. If a new developer clones the project they will need to set up a database or else tests will fail. If you set up continuous integration testing pipelines they will also fail without a dummy database on the server. The point is, this is <em>bad</em>.</p>
<p>Developers should be able to clone a repo and immediately run tests that pass.</p>
<p>The way to fix the code so that tests can be implemented would be to separate the testable logic. For example:</p>
<pre><code lang="go">func saveUser(db *sql.DB, user *User) error {
	err := validateUser(user)
	if err != nil{
		return err
	}
	user.Password, err = hash(user.Password)
	if err != nil {
		return err
	}
	if err := saveUserInDB(user); err != nil{
		return err
	}
	return nil
}</code></pre>
<p>Now our primary function for saving users has been broken into three different functions:</p>
<ul><li>Validate the user</li><li>Hash the password</li><li>Save the user in the database</li></ul>
<p>We don‚Äôt need to write a test that tests this function as a whole, we can test the parts we care about independently. Assuming the <code>saveUserInDB</code> function is just making a SQL query, it probably doesn‚Äôt need a unit test at all. If the password hashing algorithm contains any more logic than a simple call to a well-tested crypto library then we can easily write a test for it, otherwise, we can trust the tests in the crypto library. The only test we probably need here is to test our own business logic, the <code>validateUser</code> function.</p>
<pre><code lang="go">func TestValidateUser(t *testing.T) {
	err := validateUser(&amp;User{})
	if err == nil {
		t.Error("expected an error")
	}

	err := validateUser(&amp;User{
		Email: "<a href="https://qvault.io/cdn-cgi/l/email-protection" data-cfemail="572332242317233224237934383a">[email&nbsp;protected]</a>",
		Password: "thisIsALongEnoughPassword"
	})
	if err != nil {
		t.Error("should have passed")
	}
}
</code></pre>
<p>The point is, we need to break our large functions into smaller encapsulated units if we want to have an easy time of writing good tests.</p>
<h2>Don‚Äôt Mock Your External Dependencies Either</h2>
<p>While the last rule of thumb, ‚Äúunit tests shouldn‚Äôt depend on infrastructure‚Äù is fairly uncontroversial, this next one is a more fiercely debated topic. I believe that the majority of database and API mocking is a result of bad code, and that to fix the problem, the best course of action is to refactor into smaller functions or ‚Äúunits‚Äù as we did a moment ago.</p>
<p>However, some engineers would rather lazily create a mock database interface and test the whole damn thing.</p>
<pre><code lang="go">type sqlDB interface {
	Exec(query string, args ...interface{}) (sql.Result, error)
}

type mockDB struct {}

func (mdb *mockDB) Exec(query string, args ...interface{}) (sql.Result, error) {
        return nil, nil
}

func saveUser(db sqlDB, user *User) error {
	if user.EmailAddress == "" {
		return errors.New("user requires an email")
	}
	if len(user.Password) &lt; 8 {
		return errors.New("user password requires at least 8 characters")
	}
	hashedPassword, err := hash(user.Password)
	if err != nil {
		return err
	}
	_, err := db.Exec(`                                                                                                                          
		INSERT INTO usr (password, email_address, created)                                                                                                                                                                                                                                                                                                                                                                                       
		VALUES ($1, $2, $3);`,
		hashedPassword, user.EmailAddress, time.Now(),
	)
	if err != nil {
		return err
	}
	return nil
}</code></pre>
<p>With this code, we could now write a unit test that calls the entire <code>saveUser</code> function by passing in a <code>mockDB</code> so that we don‚Äôt depend on a running database for tests. As I hope is clear, there are several issues with this approach:</p>
<ul><li>The mock database code is unused in production. <em>We are testing code that literally doesn‚Äôt matter.</em></li><li>We technically have better ‚Äútest coverage‚Äù with this approach, but our tests aren‚Äôt actually any more robust. We get a false sense of security.</li><li>We have made the <em>real</em> code harder to find by abstracting it behind an interface.</li><li>The fact that <code>saveUser</code> was hard to test was a great signal to us as developers that it needed refactoring. We‚Äôve silenced a good signal that our code needs to be cleaned up.</li></ul>
<h2>Don‚Äôt Test Your Dependencies, Ensure They Pass Their Own Tests</h2>
<p>Building on the example of the refactored <code>saveUser</code> function before, we sill have two functions that are likely dependent on third party libraries, namely the <code>hash</code> function and the <code>saveUserToDB</code> function. If we‚Äôve written our code well, those functions shouldn‚Äôt do much more than encapsulate a libraries API.</p>
<pre><code lang="go">func hash(password string) (string, error) {
	const cost = 10
	bytes, err := bcrypt.GenerateFromPassword([]byte(password), cost)
	return string(bytes), err
}</code></pre>
<p>There is no reason I can see to write a test for the <code>hash</code> function. Before importing the <code>bcrypt</code> library I should have done due diligence and made sure that the maintainers of that codebase have written good tests. Once I‚Äôm confident that they had done so, I don‚Äôt need to redundantly test all the exported functions.</p>
<p>If you have any questions or comments about the article be sure to contact me on social and let me know.</p>

 </div></div>]]>
            </description>
            <link>https://qvault.io/2020/11/23/writing-good-unit-tests-dont-mock-database-connections/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536565</guid>
            <pubDate>Fri, 25 Dec 2020 14:10:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Outwitting the Grim Reaper]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536528">thread link</a>) | @CapitalistCartr
<br/>
December 25, 2020 | http://m.nautil.us/issue/94/evolving/outwitting-the-grim-reaper | <a href="https://web.archive.org/web/*/http://m.nautil.us/issue/94/evolving/outwitting-the-grim-reaper">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
			<p><span>S</span>ome <a href="http://nautil.us/issue/46/balance/why-evolution-is-ageist" target="_blank">evolutionary biologists</a> say that after we pass reproductive age, nature, like a cat who‚Äôs been fed, is done with us. The bodily systems that thrived and repaired themselves to ensure that we pass on healthy genes cease to function well and leave us to slink to the finish line the best we can. Neuroscientist <a href="http://daniellevitin.com/" target="_blank">Daniel Levitin</a>, author of this year‚Äôs <a href="https://www.penguinrandomhouse.com/books/598506/successful-aging-by-daniel-j-levitin/9781524744182/" target="_blank"><i>Successful Aging</i></a>, says ‚Äúthat‚Äôs not an unreasonable interpretation,‚Äù but he doesn‚Äôt settle for the view that aging after 40 is a long and listless mosey to the grave.</p><p>Levitin, 62, emeritus professor of psychology and neuroscience at McGill University, has lit up readers‚Äô minds with his books on the joys of music, <i>This Is Your Brain on Music</i> and <i>The World in Six Songs</i>. But unlike an aging rocker playing his hits on an oldies tour, Levitin has remained fresh as a writer on the brain, exploring, in <i>The Organized Mind</i>, how to navigate our way through information overload to sane shores. In <i>Successful Aging</i> he details the effects of aging on this too solid flesh, from cell function to motor actions to sleep patterns, and prescribes ways of living to mute the insults of growing old.</p><p>Levitin nicely articulated his insights into better aging and living in our interview. After I transcribed our lively talk, I decided to step out of the picture and present his views on their own, under short subheads.</p> <figure data-alt="Berger_BREAKER"><img src="http://static.nautil.us/18026_8031e8f282c78983bc47cc24ce5d90d3.png" width="733" alt=""><figcaption><span><strong>a new tune:</strong> ‚ÄúAnything that pushes you out of your comfort zone and forces your brain to do things it hasn‚Äôt done before is good,‚Äù says Daniel Levitin, also a longtime backing musician and producer. This year he stepped into the spotlight himself and released an embracing album of his songs called <i>Turnaround</i>.</span><span>David Livingston</span></figcaption></figure><p><b>How We Age</b></p><p>We all age at different rates due to our history of exposure to environmental toxins and other stressors, both physical and psychological. That could include a history of a disease like diabetes, or whether you‚Äôve been hit in the head repeatedly. We all know about people who are 50 and whose bodies are giving out, and people who are 90 and going strong. And the brain is a part of the body. Some people are able to enjoy long, sustained periods of cellular housekeeping and repair and others are not. To a neuroscientist, stress is a biological process. It‚Äôs not just road rage or being frustrated at work. Stress is a chemical response to things that happen to you and actually impairs the body‚Äôs ability to repair itself.</p><p><b>Why We Age</b></p><p>The question of why we age has produced a lot of false answers, such as, ‚ÄúWe age because if we didn‚Äôt we would overpopulate the earth.‚Äù But evolution doesn‚Äôt know about overpopulation, so that doesn‚Äôt make sense. Or ‚ÄúWe age so we don‚Äôt take for granted the time that we have.‚Äù But that‚Äôs nonsensical as well. These might be religious or philosophical notions, but they‚Äôre not scientific. We age because there‚Äôs been no evolutionary pressure to keep our bodies alive for a long time. I don‚Äôt know why that is and I don‚Äôt think anybody does.</p><blockquote><p>Successful aging is being able to continue to take pleasure from activities that have historically brought you pleasure.</p> </blockquote><p><b>When We Age</b><br></p><p>Aging begins with conception, fertilization, and cell division. You age in the womb, you age on the day you‚Äôre born, you continue to age. After reproductive age, it‚Äôs not that nature is done with us, although that‚Äôs not an unreasonable interpretation. But the whole idea of Darwinian theory, of descent with modification, random mutation, and natural selection, is that whatever shows up in your genome gets passed to the next generation. It influences the next generation and the generation after that and so on.</p><p>Suppose there were people who had this super genome that allowed them to live to be 100. Let‚Äôs take women because the reproductive cut off for women is pretty well defined. If a woman has some genetic modification or mutation that allows her to live to be a 100, that isn‚Äôt going to show up in the reproductive genome at age 40 necessarily. It will get passed on, but there‚Äôs no selection force. That is, no evolutionary mechanism that causes it to become more common in the population.</p><p>The traits that allow you to attract a mate have to do with your health and mental and physical stability at age 20, 30, and 40. If there‚Äôs something that could be happening to you at age 90, there‚Äôs no way for that to be selected by evolution because you are likely beyond reproductive age. There‚Äôs no evolutionary pressure for it. That‚Äôs been the hardline that Alison Gopnik and others have talked about with the ‚Äú<a href="http://nautil.us/issue/36/aging/what-good-is-grandma" target="_blank">grandparents syndrome</a>.‚Äù In Orca whales and humans, grandparents play a role in raising the grandkids, and so although a grandparent is only passing on a quarter of their genes, to a grandchild as opposed to half their genes to their own children. They are strengthening the viability of that child to go on and reproduce by nurturing it. In other words, the evolutionary pressure to pass on genes might be fulfilled in part by grandparents who have a gene for nurturing behavior that makes both their children and grandchildren more successful in life.</p><p><b>How We Die</b></p><p>At some point, unless we get hit by a bus, we‚Äôre all going to die of disease. Which is a way of saying that our ability to repair our bodies and cells won‚Äôt be able to keep up with the accumulated damage that life has brought to them. The system just doesn‚Äôt function as efficiently as we get older. And at some point it catches up to us and the body shuts down. I mean, nobody just dies, they die of something. A friend of mine‚Äôs mother just died. She had cancer and doctors gave her a few months to live. Then she got an <i>E. coli</i> infection because her immune system was compromised trying to fight the cancer. And so then they give her antibiotics. It got rid of the <i>E. coli</i> but then metabolizing the antibiotic was tough on her liver, and her liver wasn‚Äôt able to keep up with the cleansing procedures necessary to make it function well, and so she ended up dying about a week later of liver failure. The biggest risk factor for death is age.</p><div>
<article>
<p><a href="http://m.nautil.us/issue/12/Feedback/ants-swarm-like-brains-think" data-trval="ants-swarm-like-brains-think" data-trlbl="foc_rec" data-tract="internal_art">
<img src="http://static.nautil.us/3117_8b313cbf30999888de32da1ec83ff503.png" alt="Sapolsky_TH-F1" width="314" height="177">
</a>
</p>
<div>
<p><span>
<span>

<span><a href="http://m.nautil.us/term/f/Neuroscience">Also in Neuroscience</a></span>&nbsp;&nbsp;</span>
</span></p><h4><a href="http://m.nautil.us/issue/12/Feedback/ants-swarm-like-brains-think" data-trval="ants-swarm-like-brains-think" data-trlbl="foc_rec" data-tract="internal_art">Ants Swarm Like Brains Think</a></h4>
<p>By Carrie  Arnold</p>
<p>
Deborah Gordon spent the morning of August 27 watching a group of harvester ants foraging for seeds outside the dusty town of Rodeo, N.M. Long before the first rays of sun hit the desert floor, a group of patroller ants...<strong><a href="http://m.nautil.us/issue/12/Feedback/ants-swarm-like-brains-think" data-trval="ants-swarm-like-brains-think" data-trlbl="foc_rec" data-tract="internal_art">READ MORE</a></strong>
</p>

</div>

</article>
</div><p><b>Take Pleasure</b></p><p>Successful aging is being able to continue to take pleasure from activities that have historically brought you pleasure, and being able to find new things that provide pleasure. It‚Äôs being able to engage with life, with friends and relationships, and being able to make a contribution to the world‚Äîwhether it‚Äôs the way the Dalai Lama and Jane Goodall are doing it, or just the world of your own family.</p><p><b>Be Upbeat</b></p><p>People who have an upbeat personality are more inclined to engage with other people. And other people are more inclined to want to engage with them. Nobody wants to be around a perpetual sourpuss. And social connections are vitally important to life satisfaction and successful aging, and in fact loneliness has been associated with a greatly increased risk of premature death. It compromises the immune system. Upbeat people tend to explore the environment more, which means they‚Äôre going to be more apt to learn new things and stay mentally challenged. They don‚Äôt get into despair. An optimistic person will more likely take steps to safeguard themselves because they think those steps are going to amount to something.</p><blockquote><p>People who have a personality that‚Äôs more generous have brains that are physically different.</p> </blockquote><p><b>Be Sociable</b><br></p><p>The neurochemical serotonin is responsible for mood regulation, and it‚Äôs also a precursor to immune system function. So if you‚Äôre in a good mood, and your serotonin levels are healthy, that‚Äôs going to produce T cells and natural killer cells, which are like the James Bond of the immune system. They handle the most difficult cases. Many of us have cancerous tumors growing in us all the time, but our immune system gets rid of them. We just don‚Äôt know about it. That‚Äôs how the immune system is supposed to work. When the immune system is compromised, or the cancer evolves some kind of special mutation that makes them resistant to our immune system, you can end up with a malignancy. But being upbeat, being sociable, being engaged with life tends to increase serotonin. And being stressed, which releases cortisol and adrenaline, for evolutionary reasons, turns your immune system off. It also turns off higher cognitive thought, digestion, and libido. In the short term, if you‚Äôre trying to escape from a tiger, it‚Äôs OK to shut down those systems. But you don‚Äôt want them chronically shut down.</p><p><b>Be Realistic</b></p><p>Be optimistic but realistic. You get a big ugly black growth on your arm and you think it couldn‚Äôt possibly be cancer and so you don‚Äôt have it checked. That‚Äôs too much optimism. False hope is tricky. If you‚Äôre convinced you‚Äôre going to die, and it sends you into a mental funk, depression and stress, that shuts down your immune system. If you‚Äôre optimistic and think you can fight this, you may be able to tilt the balance. Somebody could say, ‚ÄúI‚Äôve got a 20 percent chance of living with this for another five years. Screw this, I‚Äôm just going to make out my will and sit on the couch and eat bonbons until I go.‚Äù But the other person would say, ‚Äú20 percent? Maybe I can increase that to 30 if I do these things.‚Äù And that‚Äôs worth doing. You want to avoid the extremes of gullible optimism and fatalistic pessimism.</p><p><b>Be Prepared</b></p><p>We shouldn‚Äôt fear death. We need to prepare for it. If you‚Äôre afraid of a traffic accident, you still have to drive. You wear your seatbelt, you make sure the car is in good shape, the tires are inflated. Employ the same kind of conscientiousness you do before a long road trip to your own aging process. Follow healthy practices‚Äîa good diet, exercise, and good sleep hygiene. Make sure you have a doctor you trust, one you can communicate frankly with, one who sees ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://m.nautil.us/issue/94/evolving/outwitting-the-grim-reaper">http://m.nautil.us/issue/94/evolving/outwitting-the-grim-reaper</a></em></p>]]>
            </description>
            <link>http://m.nautil.us/issue/94/evolving/outwitting-the-grim-reaper</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536528</guid>
            <pubDate>Fri, 25 Dec 2020 14:02:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reading, That Strange and Uniquely Human Thing]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536522">thread link</a>) | @CapitalistCartr
<br/>
December 25, 2020 | http://m.nautil.us/issue/94/evolving/reading-that-strange-and-uniquely-human-thing | <a href="https://web.archive.org/web/*/http://m.nautil.us/issue/94/evolving/reading-that-strange-and-uniquely-human-thing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
			<p><span>T</span>he Chinese artist Xu Bing has long experimented to stunning effect with the limits of the written form. Last year I visited the Centre del Carme in Valencia, Spain, to see a retrospective of his work. One installation, <i>Book from the Sky</i>, featured scrolls of paper looping down from the ceiling and lying along the floor of a large room, printed Chinese characters emerging into view as I moved closer to the reams of paper. But this was no ordinary Chinese text: Xu Bing had taken the form, even constituent parts, of real characters, to create around 4,000 entirely false versions. The result was a text which <i>looked</i> readable but had no meaning at all. As Xu Bing himself has noted, his made-up characters ‚Äúseem to upset intellectuals,‚Äù in a sly sendup of our respect for the written word.</p><blockquote><p>There was a long way to go from recording goods to writing great works of literature.</p> </blockquote><p>In another room was <i>Book from the Ground</i>, a slim volume, displayed in a room of Xu Bing‚Äôs inspiration: symbols and emojis, gathered from around the world and from different contexts, from an airport to a keyboard. Xu Bing scoured the world to find universal images and the result stands in stark contrast to <i>Book from the Sky</i>: This book was designed to be read by anyone. The first page was slightly awkward to read, translating the pictures to the (in my case, English) word. But as I turned the pages, the meaning emerged more fluently, and I was drawn into its story of a day in the life of an office worker. It was as if Xu Bing was asking me to wonder what was happening in my brain as these tiny pictures on the page transformed into meaning, a narrative. How was the process of reading pictorial symbols different from reading letters based on phonetic symbols?<br></p><p>Xu Bing was illustrating what recent studies in neuroscience have revealed: People everywhere read words made from pictures, such as Chinese characters (known as pictographs), and words made from letters, in a remarkably similar way. It‚Äôs an insight that opens a window on how writing developed and how we read‚Äîand how we might tap deeper wells of creativity and communication.</p><p><span>H</span>umans in different places and times have felt impelled to overcome the limitations of pictures in communicating. Despite the pressing need to capture spoken language in this form, some societies never felt the demand. Until colonialism, aboriginal communities in Australia lived in societies governed by extremely complex laws that passed through the generations entirely through oral means. For tens of thousands of years, rules governing hunting, finding your way, marriage, and ceremony have been embedded in song and performed, learned, and taught in everyday life. There‚Äôs beautiful sacred rock art throughout the continent, and symbols used for specific identification, but neither developed into a written system to capture a whole language.</p> <figure data-alt="Wilson_BREAKER"><img src="http://static.nautil.us/18052_58f170c366f582dba770b94119f6099a.png" alt="" width="733"><figcaption><span><strong>BOOKKEEPING:</strong> This example of ancient cuneiform writing dates back to the Bronze Age. Irving Finkel of the British Museum says ‚Äúa kind of administrative responsibility produced the first stumbling attempt at writing and then eventually a proper fluent script.‚Äù</span><span>Fedor Selivanov / Shutterstock</span></figcaption></figure> <p>Some of the earliest writing‚Äîsymbols for meaning rather than pictures alone‚Äîis from Mesopotamia, dated to around 3000 B.C.; clay tablets dug up in the archaeological site of Kunara, near the Zagros mountains in modern-day Iraqi Kurdistan. These tablets record quantities of goods in a form of bookkeeping‚Äîincoming and outgoing amounts of flour and grains. ‚ÄúThe thing about human ingenuity is that when there‚Äôs a sharp need for something, it tends to crystallize in discovery,‚Äù says Irving Finkel, an assistant keeper of ancient Mesopotamian script, languages, and cultures in the British Museum. Necessity being the mother of invention, in other words. ‚ÄúIt‚Äôs very probable that it was [a] kind of administrative responsibility which produced the first stumbling attempt at writing and then eventually a proper fluent script,‚Äù Finkel says.</p><p>Egyptologist Gunther Dreyer came to similar conclusions during a lifetime of excavating Ancient Egypt, discovering artefacts crucial to our understanding of the development of writing. ‚ÄúWhy is there a need to write something down? I think the reason for that is simple,‚Äù Dreyer says. ‚ÄúThose are the requirements of accounting.‚Äù Dreyer points out that ruling back then, as today, involved ‚Äúcollecting taxes and redistributing. And in a big area, you somehow needed to note down who delivered what when.‚Äù Indigenous Australians feeding themselves and their communities through a hunter-gatherer lifestyle, bartering goods with other communities, didn‚Äôt need to record such trade, either for a third party far away (such as a tax office) or for posterity.</p><blockquote><p>No writing system goes back much further than 5,000 years, a blink of an eye in evolutionary terms.</p> </blockquote><p>But there was still a long way to go from recording goods and quantities to writing great works of literature. Humans all over the world faced the same problems in expressing themselves beyond the here-and-now that speech has covered. It turns out that every ancient writing system solved these problems in exactly the same way. ‚ÄúWe like to call it the giant leap for mankind,‚Äù Finkel says. The leap is from using a picture as a picture (a logogram) to using it to portray a sound (or phonogram)‚Äîthe Rebus Principle. Many children play a game using this principle, when they discover that a bee can be used for the sound ‚Äúbe,‚Äù and combined with a drawing of a leaf, these two unrelated objects can suddenly produce a meaning‚Äîbelief.</p><p>But then ambiguity arises: When is a bee a bee, and when is it a sound? Cuneiform, Egyptian, and Mayan hieroglyphs and Chinese all solved the problem in the same way: They added unspoken elements now known as ‚Äúclassifiers‚Äù to clear up whether the writer is talking about keeping bees or simply using ‚Äúbe‚Äù as a sound. Chinese still uses this system, with picture, phonetic, and classifier elements all crucial to their written system. But in other places a different system took over: the alphabet, invented around 4,000 years ago in the Sinai Peninsula. Stripped of anything but sound, this handful of symbols can be learned quickly, unlike the thousands of Chinese characters that must be mastered for literacy. After a few centuries of remaining at the margins, the alphabet from the Sinai swept through Europe and much of Asia and Africa, changing into the dizzying range we have today.</p><p><span>N</span>o writing system goes back much further than 5,000 years, a mere blink of an eye in evolutionary terms. ‚ÄúRelative to speech [reading is] very young,‚Äù says Tae Twomey of University College London, who has spent her career looking into this new trick of <i>Homo sapiens</i>. ‚ÄúThe part of the brain that deals with reading had to evolve somehow from the brain that we used before writing was invented.‚Äù And it wasn‚Äôt just one part that was recruited. ‚ÄúIf you think about it, it‚Äôs a complex task. You are extracting visual information in order, ultimately, to get to a meaning.‚Äù Once I do start to think about this process‚Äîa process I can‚Äôt remember not being able to do‚Äîit starts to seem extremely alien: Thoughts, ideas, instructions, information are being transferred from one human brain into mine, via my optic nerve. But the visual element is only part of the story.</p><p>Twomey‚Äôs research uses scans to show the different areas of the brain that are active when we read. ‚ÄúIt‚Äôs a distributed network,‚Äù she explains. Neurologist Thomas Hope, a senior research associate at University College London, offers an analogy. ‚ÄúLike most cognitive behavior, we think reading works like the Nile Delta.‚Äù It‚Äôs not fed by one stream, he says, ‚Äúbut a bunch of potentially redundant streams.‚Äù</p> <figure data-alt="Wilson_BREAKER-2"><img src="http://static.nautil.us/18051_dd5f1fd8442d4ba6b35dd13c9db44343.png" alt="" width="733"><figcaption><span><strong>WRITE ON:</strong> Writing arose at different places around the globe, diverging from pictographic to alphabetic symbols. But when we look deep inside the brain, it turns out people everywhere write and read in remarkably similar ways.</span><span>Wikimedia</span></figcaption></figure> <p>For reading, there are two large tributaries, broadly correlated with sound and vision. (The third major area working on the task is the Broca‚Äôs area, in charge of executive function, which acts as the conductor, orchestrating all the inputs.) Beginning readers sound out each letter to get to the meaning. ‚ÄúReading is not just to communicate meaning, but also to communicate generally,‚Äù Hope says. ‚ÄúAnd the most common way that we communicate is by speaking. So when you read a word, some part of your brain is sounding out what that word would sound like if you were saying it or if someone was saying it to you.‚Äù And that act of speech communication is the same across cultures, whatever the written form of the language, so most readers will be hearing as they read.<br></p><p>But sound isn‚Äôt all. ‚ÄúI‚Äôve been watching my children learn to read,‚Äù Hope says. ‚ÄúYou can‚Äôt learn to read just by learning the letters. You have to learn to understand and recognize the words, too.‚Äù Readers in an alphabetic system have to learn the equivalent of characters: Learning the shape of a word is basically the same job as extracting the meaning from a pictographic character. But once we get more fluent at reading we tend to use a different tributary more. ‚ÄúAnother way, that most skilled readers prefer, is to recognize the whole word as a single entity and connect it directly to meaning,‚Äù Hope says.</p><p>The so-called ‚ÄúCambridge letter,‚Äù a meme in 2003, gives a proficient reader a chance to test this latter mode of reading, through shape recognition rather than sounding out the letters:</p><p>Aoccdrnig to a rscheearch at Cmabrigde Uinervtisy, it deosn‚Äôt mttaer in waht oredr the ltteers in a wrod are, the olny iprmoetnt tihng is taht the frist and lsat ltteer be at the rghit pclae. The rset can be a toatl mses and you can sitll raed it wouthit porbelm. Tihs is bcuseae the huamn mnid deos not raed ervey lteter by istlef, but the wrod as a wlohe.</p><p>Most people can extract the meaning from this quotation without too much problem, which ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://m.nautil.us/issue/94/evolving/reading-that-strange-and-uniquely-human-thing">http://m.nautil.us/issue/94/evolving/reading-that-strange-and-uniquely-human-thing</a></em></p>]]>
            </description>
            <link>http://m.nautil.us/issue/94/evolving/reading-that-strange-and-uniquely-human-thing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536522</guid>
            <pubDate>Fri, 25 Dec 2020 14:01:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Over Time, Buddhism and Science Agree]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536514">thread link</a>) | @CapitalistCartr
<br/>
December 25, 2020 | http://m.nautil.us/issue/94/evolving/over-time-buddhism-and-science-agree-rr | <a href="https://web.archive.org/web/*/http://m.nautil.us/issue/94/evolving/over-time-buddhism-and-science-agree-rr">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
			<p><span>I</span> remember my grandfather commenting‚Äîwry amusement tinged with grim resignation‚Äîthat what made him finally feel old was seeing his children reach middle age. I was a child then. Now I see my own children, not quite middle aged, starting to have children of their own.</p> <p>Becoming a grandparent is quite lovely, an affirmation of continuity and a front-row-seat to watch (and even, on occasion, participate) as life itself is conveyed into the future. But aging is also our most undeniable <i>memento mori</i>, a reminder not so much of life as one‚Äôs own eventual death. My grandfather‚Äôs death frightened me as few things have since, except for the recurring recognition (usually at night, alone, in the dark) that his life, everyone‚Äôs life, even‚Äîastoundingly‚Äîmy own, is short indeed.</p><blockquote><p>As Buddhists see it, all organisms are necessarily‚Äîeven marvelously and gloriously‚Äîimpermanent.</p> </blockquote>


 <p>All things, especially living ones, are marinating in the river of time. We see and understand that our bodies will wear out and we will die. At least that‚Äôs how it looks through the lens of Western science, where all things come to an end, winding down in a final surrender to entropy. But there‚Äôs another perspective, surprisingly in harmony with science, that helps us revisit that huge and ancient terror‚Äîfear of time itself‚Äîin a new and perhaps even reassuring way. And that is the perspective offered by Buddhism.</p> <p>For Buddhists, the ‚Äúcenter cannot hold,‚Äù as the poet W.B. Yeats pointed out, because it doesn‚Äôt exist as something rigidly separate from everything else. Nothing is permanent and unchanging, ourselves included. Attempting to cling to a solid, immutable core of a self is a fool‚Äôs errand because time not only creates anarchy, it provides the unavoidable matrix within which everything‚Äîanimate and inanimate, sentient and insensate‚Äîebbs and flows.</p> <p>As Buddhists see it, all organisms are necessarily, unavoidably‚Äîeven marvelously and gloriously‚Äîimpermanent. In Sanskrit, the word for impermanence is <i>anitya</i>. To understand <i>anitya</i> is to achieve something remarkable: opening a door onto the accord between modern western science and ancient eastern wisdom.</p> <p>In his book, <i>Physics and Philosophy</i>, Werner Heisenberg‚Äîone of the commanding figures in the development of modern quantum physics‚Äîwrote that ‚Äúin the history of human thinking the most fruitful developments frequently take place at those points where two different lines of thought meet.‚Äù Contrary to Rudyard Kipling‚Äôs injunction, ‚ÄúEast is East, and West is West, and never the twain shall meet,‚Äù I have found, as a trained biologist, that some of the most fruitful developments in modern thinking occur precisely where the twain of biology and Buddhism meet.</p><div>
<article>
<p><a href="http://m.nautil.us/issue/4/The%20Unlikely/a-treatise-on-miracles-by-historys-most-famous-atheist" data-trval="a-treatise-on-miracles-by-historys-most-famous-atheist" data-trlbl="foc_rec" data-tract="internal_art">
<img src="http://static.nautil.us/769_288cc0ff022877bd3df94bc9360b9c5d.png" alt="Sapolsky_TH-F1" width="314" height="177">
</a>
</p>


</article>
</div> 


<p>Even inanimate objects that appear solid and persistent are revealed by modern physics to be in a constant state of flux. An iron bar is mostly empty space, and even the ostensibly solid, sub-atomic particles occupying that space are either moving so rapidly as to be unimaginable or, alternately, exist as clouds of probability rather than as stationary monuments to permanence.</p> <p>With living things, the world is even less fixed. As Yeats observed: ‚ÄúO body swayed to music, O brightening glance / How can we know the dancer from the dance?‚Äù Biologists as well as Buddhists know that living stuff is always dancing, constantly replenished by, and created from, nonliving components. At every moment, our existence takes place only on the instantaneous, knife-edge of Now, which can never be captured and held immobile.</p> <p>The story goes that as a young man, the Buddha sought to overcome the imperfections of the real world‚Äîsickness, old age, and death‚Äîby following the path of traditional Hindu asceticism, mortifying the flesh and nearly starving himself. His eventual enlightenment, however, is said to have involved recognition that all things are temporary, ever-changing, and impermanent. Unlike Christ, who promises eternal life, the last words of the Buddha reportedly began, ‚ÄúDecay is inherent in all things.‚Äù</p> <p>But even decay‚Äîan unavoidable consequence of time impacting the real world‚Äîisn‚Äôt something to regret. As the Vietnamese Buddhist monk and scholar, Thich Nhat Hanh, put it, impermanence (<i>anitya</i>) is intimately tied to continuity. ‚ÄúLook back,‚Äù he counsels, ‚Äúand you will see that you not only exist in your father and mother, but you also exist in your grandparents and in your great grandparents.‚Äù Look again, and you will see we ‚Äúhave been gas, sunshine, water, fungi, and plants,‚Äù he writes. ‚ÄúNothing can be born and also nothing can die.‚Äù To understand this, and to do so deep in our ever-changing bones, may forever change our sense of time and what it means to participate in life on earth.</p>  <p><span>A</span>ging is undoubtedly the most apparent and unavoidable manifestation of how <i>anitya</i> is both revealed by time and produced by it, how impermanence is manifest in every body. Precisely how bodies age is the domain of biological gerontology, which studies such events as the increased accumulation of somatic mutations, reductions in tissue elasticity, increase in autoimmune responses, and diminished length of telomeres (end-pieces of chromosomes that can be likened to the plastic tips at the end of shoelaces, and which evidently protect chromosomes as they undergo cell division). Most human cells poop out after about 60 or so replications, apparently in conjunction with the loss of telomeres, which become a bit shorter with every bout of mitosis‚Äîalthough it isn‚Äôt clear whether aging-related decrepitude results from this reduction in telomere length, or vice versa.</p> <p>Whatever the causative sequence, there is no fountain of youth. We can reduce the rate of decline by eating healthy foods, reducing stress, and exercising regularly. But the effect, at best, is to slow the process, never to stop it altogether. To be a museum conservator, exercise fanatic, or just a dedicated daily dental flosser is to be more Sisyphus than Ponce de Le√≥n.</p> <p>But this is too pessimistic. A Buddhistically informed view suggests that even as everything changes over time, this very impermanence is connected to a deeper kind of persistence. One of the more striking visual demonstrations of this is the practice among Tibetan monks of constructing gorgeous sand mandalas, complex designs and patterns laboriously built over many days, after which they are ceremoniously swept away. Proxies for ourselves, mandalas symbolize the impermanence of everything, no matter how lovely, complex, treasured, or important.</p><figure data-alt="Barash_BREAKER_Mandala" data-title="Sands%20of%20Time" data-capper="Tibetan%20Buddhist%20monks%20create%20a%20mandala%20of%20colored%20sand%2C%20a%20symbol%20of%20impermanence." data-credits="DIBYANGSHU%20SARKAR/AFP/Getty%20Images"><img src="http://static.nautil.us/2217_b5c01503041b70d41d80e3dbe31bbd8c.png" width="733" alt=""><figcaption><span><strong>Sands of Time:</strong> Tibetan Buddhist monks create a mandala of colored sand, a symbol of impermanence.</span><span>DIBYANGSHU SARKAR/AFP/Getty Images</span></figcaption></figure><p><span>Some years ago, while waiting for a wilderness permit at a Forest Service ranger station in the small town of Sedro Woolley, Wash., I overheard a radio message sent in by a ranger: ‚ÄúDead elk in Agnes Creek decomposing nicely. Over.‚Äù The ranger was ecologically sophisticated as well as Buddhistically accurate. Although a decomposing elk might not be everyone‚Äôs idea of ‚Äúnice,‚Äù the process is as necessary to a healthy ecosystem as it is unavoidable. (The ‚Äúover‚Äù was an especially nice touch.)</span><br></p> <p>For another good example of biological <i>anitya</i>, one that overturned prior biological dogma, consider Dolly, who famously emerged as the world‚Äôs first artificially cloned sheep. Before Dolly, it was widely held that once vertebrate cells had fully differentiated‚Äîbecoming, say, muscle or skin or, in the case of Dolly‚Äôs ‚Äúmother,‚Äù mammary gland tissue‚Äîthey were permanently fixed and couldn‚Äôt become a different kind of cell.</p> <p>Dolly was created when an already differentiated nucleus was implanted into an enucleated egg cell, and a new animal emerged, complete with a full array of distinctly different cell types. Cell differentiation is evidently not a one-way street, as previously believed. One of the things built into life itself is, ironically, impermanence and the capacity to change.</p> <p>The reality of <i>anitya</i> extends to whole genomes, which are permeable to genes introduced from other lineages. This is why we can put cold-resistance genes from halibut into frost-vulnerable tomatoes. (Whether we should is another question.) Even without high-tech human intervention, the evolutionary reality of continuity among all living things is inseparable from the fact that all lineages have themselves evolved‚Äîthat is, they have changed over time, and continue to do so. The seemingly rigid boundaries between cells and within species are flexible and inconstant. Living things do not simply have the capacity for impermanence; rather, at what we might oxymoronically call their ‚Äúcore,‚Äù they are profoundly and deeply impermanent and ever-changing.</p> <p>What about whole organisms taken in their entirety? After all, each halibut, hickory tree, or human being appears to be distinct and fixed in time‚Äîor at least identifiable as this object, this creature, this person. But each ‚Äúthis‚Äù is largely an artifact of our own limited perception of time and its impact. Wait long enough, give time the opportunity to work its way, and every living thing changes, undergoing embryogenesis, growth, senescence, and finally death. In short, time will tell.</p> <p>Question: When a Buddhist nun goes to a beauty parlor, what is she is likely to get? Answer: an impermanent.</p>  <p><span>I</span>t would seem, nonetheless, that living things struggle to defy <i>anitya</i>, to resist change. The technical term among physiologists is ‚Äúhomeostasis,‚Äù the process whereby organisms maintain their internal environment within limits. This is notably true of mammals, which possess various adaptations to keep their internal temperature independent of the outside environment. At least as important, however, is the internal chemical environment: not too acid, not too alkaline, enough sodium, potassium, and calcium. Without a precisely stable Goldilocks balance, life ceases.</p> <p>In a narrow sense, that is a defiance of <i>anitya</i>. But the physiological constancy required by life can only be achieved in ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://m.nautil.us/issue/94/evolving/over-time-buddhism-and-science-agree-rr">http://m.nautil.us/issue/94/evolving/over-time-buddhism-and-science-agree-rr</a></em></p>]]>
            </description>
            <link>http://m.nautil.us/issue/94/evolving/over-time-buddhism-and-science-agree-rr</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536514</guid>
            <pubDate>Fri, 25 Dec 2020 14:00:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Structuring Narratives in the Real World]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536403">thread link</a>) | @ghgr
<br/>
December 25, 2020 | https://narrativefirst.com/articles/series/structuring-narratives-in-the-real-world | <a href="https://web.archive.org/web/*/https://narrativefirst.com/articles/series/structuring-narratives-in-the-real-world">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Everyone has a story tell, whether you are an individual, a local group, or a business striving to define itself narrative helps put the events of our lives into context and gives meaning to the day in and day out. But putting that story into action and telling it in a way that is compelling and engaging can be quite overwhelming.</p>
<p>That is where <em>Narrative First</em> and the Dramatica theory of story come in. Whether you want to tell the story of your walkabout through Europe, your quest to climb the tallest mountain in California, your nights and weekends developing the skills of your daughter's soccer team, or your efforts to transform the culture of your business or organization you need to know and appreciate the various complexities of effective narrative. By using techniques proven time and time again to be successful towards the structuring of a great story, we can help frame your life's events into something truly captivating--and meaningful.</p>
<p>As mentioned several times here and elsewhere, life is meaningless until we put the events of our lives into context. <strong>Stories give meaning to our lives by putting everything in context.</strong> Fusing character, plot, theme, and genre into one cohesive "message" the mundane, chaotic, seemingly inconsequential moments of our lives become transformative.  </p>
<p>The following is a sneak-peak at the step-by-step approach we use when <a href="https://narrativefirst.com/mentorship">helping writers craft their story</a>, whether fiction or non-fiction. Feel free to start using it in developing your own projects, and we look forward to hearing your story soon.</p>
<h2 id="the-basic-plot">The Basic Plot</h2>
<p>The first four story points concern the story itself. What were you after and how it all turned out. Where the pressure came from and how you felt about the experience. Laying the groundwork for the narrative up front helps set the stage and starts to give form to the formless. </p>
<h3 id="step-one-the-story-goal">Step One: The Story Goal</h3>
<p>The first and possibly the easiest step to take is to define the Goal of your story. The <a href="https://narrativefirst.com/appreciations/story-goal" title="Story Goal - Appreciations - Subtext">Story Goal</a> helps set the context for what you will be looking at and gives a starting and ending point for the narrative. Did you want to learn everything you could about Eastern culture? Maybe you had a half-marathon you wanted to compete in. Maybe you wanted to win the half-marathon.<sup id="fnref-1"><a href="#fn-1">1</a></sup> Or maybe you wanted to help your business embody Old World principles of respect and honor. Regardless the type of Goal, there was some endgame you had in mind--something you set out to accomplish. Write about that Goal.</p>
<h3 id="step-two-the-story-continuum">Step Two: The Story Continuum</h3>
<p>Now that you have set the context for your story, begin to take a look at the kind of story you want to tell. Every great story comes to an end because the characters run out of time, or run out of options. Both exist within the context of a story, but one will be seen as the lens to <em>appreciate</em> the other.</p>
<p>Since you are the character in this story, which one sounds most appropriate? Did you set out on a walkabout through five Eastern European countries?  If so, then your story elevates space over time; the countries take precedence over which one was first, or which one was second. Your story explores conflict in <a href="https://narrativefirst.com/dynamics/spacetime">Spacetime</a>. You likely felt as if time was running out when you hit that last country, but that is what it is like to be <em>in</em> your story.</p>
<p>With Dramatica and these Story Points, you want to step outside of yourself and your own experience and see story as this <em>thing</em>--this entity that you are sculpting. It can be difficult at times, especially since the fun part of writing is pretending you are the characters and living vicariously through them. The only problem with that approach is you will never be able to see the forest for the trees. You might find meaning, but <a href="https://narrativefirst.com/articles/the-veil-between-author-and-audience" title="The Veil Between Author And Audience - Narrative First">you will never be able to predict how your story should work</a> to give that meaning.</p>
<p>The <a href="https://narrativefirst.com/appreciations/story-continuum" title="Story Continuum - Appreciations - Subtext">Story Continuum</a> looks one way to the Author, but a completely different way to the characters within the story. As you are crafting a story, you need to be able to see outside of your own experience and see what <em>objective</em> elements set the narrative into motion. With the walkabout through Europe, it may have felt at the time as if you were running out of time, but putting that kind of time limit on a narrative would not grant the same feeling to your readers. A Continuum of Spacetime gives the characters, and by proxy the Audience, a feeling of time running out.</p>
<p>Perhaps your story took time to look at space. Maybe you were preparing for a marathon that took place 57 days from when you started. You probably pulled out a calendar and circled that date. Each morning you woke up, checked off a day, and set about training for the end. As that day rapidly approached, you probably felt panicked as if you were <em>running out of things you could do</em>--options you could take. Your story would explore conflict in <a href="https://narrativefirst.com/articles/series/dynamics/timespace">Timespace</a>.</p>
<p>Whether writing a story about the relative potentials of various options (Spacetime) or the temporal sequencing of linearity (Timespace), take some now to weave that Story Continuum into your paragraph about the Story Goal.</p>
<p>Each of these Story Points builds upon the last. The Goal sets a finish line, the Continuum sets the path towards that Goal. In fact, all of these Story Points work together to tell the holistic "message" of your story. In essence, you sculpt your story by adding to it, rather than shaving away the bits you don't need. With each of these steps, build upon the last to create a lasting and transformative narrative.</p>
<h3 id="step-three-the-story-outcome">Step Three: The Story Outcome</h3>
<p>This one is easy. Did you win or lose?</p>
<p>Did you land that account or climb that mountain? Did your sales team embody those principles of success or did they tear themselves apart? Did you fail to make the quarterfinals in that screenplay contest? Or did you find out that you can never truly know all there is to know about a culture?</p>
<p>Whatever the <a href="https://narrativefirst.com/appreciations/story-outcome" title="Story Outcome - Appreciations - Subtext">Story Outcome</a>, write a new paragraph about what happened at the end of your story. Silly and simple, yes--but essential towards communicating the eventual message of your story. You set out to achieve the Story Goal. The Story Continuum defined the context and direction of those efforts. At the end, you either achieved success or you failed miserably.</p>
<p>And not personal success or personal failure. It is likely you set out to accomplish one thing, but learned something else was far more important. That is a great story and one many want to communicate. But the "far more important" angle is found in another Story Points, not this one. What you want to do with the Story Outcome is focus on whether or not the Goal was reached. How you felt about that outcome is the subject of our next Story Point.</p>
<h3 id="step-four-the-story-judgment">Step Four: The Story Judgment</h3>
<p>In a separate paragraph at the end, write about how you felt about your entire experience. Was it worth it visiting all those countries? Did you find relief after finishing the marathon? Or did you feel worse about even participating? Did you end up even more lost and confused at your workplace?</p>
<p>The Story Goal--the thing you originally set out for--is a cold and logical Story Point, devoid of emotion or any real passion. The same can be said of the Story Continuum and the Story Outcome. But here at the end, clueing us in on how you felt about the story gives us the Audience a reason to care. It helps us empathize with your plight and understand everything you went through.</p>
<p>Our minds crave emotional logic every bit as much as they chew on rational logic. A story needs both sides lest it risk having "holes" in the logic. Failing to give an Audience an emotional assessment of a narrative is akin to reading the stock section of the Wall Street Journal. Unless you tell us how you feel about Progress, we see only numbers.</p>
<p>As you can see with this last Story Point--the <a href="https://narrativefirst.com/appreciations/story-judgment" title="Story Judgment - Appreciations - Subtext">Story Judgment</a>--we are starting to work our way towards the more personal side of things. We start with the rational side of things because it can often be easier, particularly if you are dealing with your own life's story. But Audiences want to know the intimate details. They want to know who you are, where you came from, and what issues you had to overcome.</p>
<h2 id="opening-up">Opening Up</h2>
<p>Having established a framework for your story and a context for the events, we now turn our attention towards you. This is often the most difficult part of turning anyone's life into a story because it can be hard to sit back and take an objective look at yourself. We need to identify the personal issues in your life as they are the key to giving your story emotional resonance.</p>
<p>Your readers or viewers want a reason to care. They want to know something intimate about you that they can somehow relate to their own life's struggle. If you stay closed off and refuse to open up and be honest about what you went through, the story itself will feel closed and muted. No one wants to sit through a story like that.</p>
<p>If these events just occurred, the emotional fallout may still be so overwhelming that you're not sure where to start or know exactly where it is you were coming from. The more time you have between the end of what happened and the time when you begin the story can make all the difference in understanding your own issues.</p>
<h2 id="the-characters">The Characters</h2>
<p>For a story to connect, an emotional attachment needs to be made between Author and Audience. Successful Authors do this by giving the central character of their story deep personal issues--issues that may be familiar or recognizable to an Audience. The more honest and true these issues are, the greater the connection.</p>
<h3 id="step-five-your-own-personal-baggage">Step Five: Your Own Personal Baggage</h3>
<p>In a separate paragraph at the beginning of your story, write about your own personal baggage and those issues you brought to this narrative. What made it more difficult for you to reach the Story Goal and what prevented you from seeing the endgame? In the middle of your story, write about how you worked through that baggage, and then at the end let us know what happened to it all.</p>
<p>In Dramatica, this personal baggage is known as the <a href="https://narrativefirst.com/appreciations/main-character-domain" title="Main Character Domain - Appreciations - Subtext">Main Character Throughline</a>. You are the Main ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://narrativefirst.com/articles/series/structuring-narratives-in-the-real-world">https://narrativefirst.com/articles/series/structuring-narratives-in-the-real-world</a></em></p>]]>
            </description>
            <link>https://narrativefirst.com/articles/series/structuring-narratives-in-the-real-world</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536403</guid>
            <pubDate>Fri, 25 Dec 2020 13:39:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Switching from Apple to Lenovo]]>
            </title>
            <description>
<![CDATA[
Score 84 | Comments 73 (<a href="https://news.ycombinator.com/item?id=25536216">thread link</a>) | @ynv
<br/>
December 25, 2020 | https://ayedo.github.io/hardware/2020/12/25/switching-from-apple-to-lenovo.html | <a href="https://web.archive.org/web/*/https://ayedo.github.io/hardware/2020/12/25/switching-from-apple-to-lenovo.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Some of my friends have been telling me that Windows machines got a lot better. I decided to give it a try, and bought a top of the line Lenovo X1 Carbon Gen 8. For all of you thinking about doing the same switch, you might want to read this first.</p>

<p>Even though Apple is known for overpricing, and taking advantage of their customer base, they do it in a larger scheme of things, and do not engage in business practices which have a low customer experience. Unfortunately, you can‚Äôt say the same about the Lenovo universe.</p>

<p>Just go to their <a href="https://www.lenovo.com/">website</a> for a minute. Try to figure out which Laptop to buy, without getting the feeling you are being scammed. Everything seems to be on sale all the time, there are laptops of different generations of the same product line being advertised to you. They lie to your face about the battery life-times. People who are buying these machines got used to this experience, and are proud of being able to navigate such websites. You really need to do your homework before buying anything.</p>

<p>For example: I bought the X1 with their standard FHD screen, and it feels older than my 7 years old MBP. When trying to figure out why, I found out that Lenovo has a ‚Äú<a href="https://www.notebookcheck.net/Lenovo-s-Panel-Lottery-continues-with-3-different-14-inch-LowPower-displays.426538.0.html">panel lottery</a>‚Äù: They use different suppliers with remarkable quality differences for their displays. Which one you get is just based on luck. Turns out the panel I got is the same they use for their cheapest product line. This means I have a ghosting mouse pointer on a $2000 brand new machine. Nice.</p>

<p>Even if you are lucky with the screen: it does not come color calibrated out of the box! Good luck trying to find the correct color profile, unless you want to spend money on a calibration tool you‚Äôre only going to use once.
Then comes Windows:</p>

<p>Yeah, it got better, but wow, do they carry a lot of baggage around. When trying to calibrate the display I found out that Windows has no less than three different system configuration UIs, which are also intertwined in unexpected ways. On top of that Lenovo installed their own buggy configuration tool. Configuring Windows feels like walking on ice. Even with all this configuration might, it still was not possible to get the exact serial number of my display panel without installing a third party tool.</p>

<p>Microsoft is also constantly nagging you about something that marginally helps their bottom line, but costs you a lot of your user experience. Like their constant push to trick people into giving them their data, or the fact that they try to force you to use their browser whenever they can.</p>

<p>I‚Äôm still not sure if I ticked the right boxes so that Microsoft does not get my browsing behaviour. I feel stressed every time Microsoft wants something from me. How are they trying to scam me this time?</p>

<p>For me this reinforces my belief that people who like Windows are simply used to it, because they need it for work or playing games. There is no point arguing with this, as their added value is their own experience, and the fact they know the tools and tricks to make the system usable to them.</p>

<p>One friend even told me that one of his favourite improvements in newer Windows versions is that they made it a lot easier to completely reset the operation system. My Apple machine has never been reset since I bought it almost a decade ago, and works flawlessly.  His statement seems like a subtle warning as to what is expecting me in the near future using my new  machine.</p>

</div></div>]]>
            </description>
            <link>https://ayedo.github.io/hardware/2020/12/25/switching-from-apple-to-lenovo.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536216</guid>
            <pubDate>Fri, 25 Dec 2020 13:01:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Types to Guarantee Domain Invariants]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536010">thread link</a>) | @lukastyrychtr
<br/>
December 25, 2020 | https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/ | <a href="https://web.archive.org/web/*/https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  <article>
    
      
      
<ul id="frontmatter">
    <li>
        <time datetime="2020-12-11T15:00:10.47Z">December 11, 2020</time>
    </li>
    <span></span>
    <li> 6504 words </li>
    <span></span>
    <li> 33 min </li>
</ul>

      <p><em><a href="https://zero2prod.com/"><strong>Zero To Production In Rust</strong></a> is an opinionated introduction to backend development in Rust.<br>
You can pre-order the book on <a href="https://zero2prod.com/">zero2prod.com</a>.<br>
<a href="https://www.lpalmieri.com/subscribe">Subscribe to the newsletter</a> to be notified when a new episode is published.</em></p>

<ol>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#1-requirements">Requirements</a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#11-domain-constraints">1.1. Domain Constraints</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#12-security-constraints">1.2. Security Constraints</a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#2-first-implementation">First Implementation</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#3-validation-is-a-leaky-cauldron">Validation Is A Leaky Cauldron</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#4-type-driven-development">Type-Driven Development</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#5-ownership-meets-invariants">Ownership Meets Invariants</a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#51-asref">5.1. <code>AsRef</code></a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#6-panics">Panics</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#7-error-as-values---result">Errors As Values - <code>Result</code></a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#71-converting-parse-to-return-result">7.1. Converting <code>parse</code> To Return <code>Result</code></a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#8-insightful-assertion-errors-claim">Insightful Assertion Errors: <code>claim</code></a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#9-unit-tests">Unit Tests</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#10-handling-a-result">Handling A <code>Result</code></a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#101-map_err">10.1. <code>map_err</code></a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#102-the--operator">10.2. The <code>?</code> Operator</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#103-400-bad-request">10.3. 400 Bad Request</a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#11-summary">Summary</a></li>
</ol>
<p>Our newsletter API is live, hosted on a Cloud provider.<br>
We have a basic set of instrumentation to troubleshoot issues that might arise.<br>
There is an exposed endpoint (<code>POST /subscriptions</code>) to subscribe to our content.</p>
<p>We have come a long way!</p>
<p>But we have cut a few corners along the way: <code>POST /subscriptions</code> is fairly... permissive.<br>
Our input validation is extremely limited: we just ensure that both the name and the email fields are provided, nothing else.</p>
<p>We can add a new integration test to probe our API with some "troublesome" inputs:</p>
<pre><code><span>//! tests/health_check.rs
// [...]

</span><span>#[</span><span>actix_rt</span><span>::</span><span>test</span><span>]
async </span><span>fn </span><span>subscribe_returns_a_200_when_fields_are_present_but_empty</span><span>() {
    </span><span>// Arrange
    </span><span>let</span><span> app = </span><span>spawn_app</span><span>().await;
    </span><span>let</span><span> client = reqwest::Client::new();
    </span><span>let</span><span> test_cases = vec![
        ("</span><span>name=&amp;email=ursula_le_guin%40gmail.com</span><span>", "</span><span>empty name</span><span>"),
        ("</span><span>name=Ursula&amp;email=</span><span>", "</span><span>empty email</span><span>"),
        ("</span><span>name=Ursula&amp;email=definitely-not-an-email</span><span>", "</span><span>invalid email</span><span>"),
    ];

    </span><span>for </span><span>(body, description) in test_cases {
        </span><span>// Act
        </span><span>let</span><span> response = client
            .</span><span>post</span><span>(&amp;format!("</span><span>{}</span><span>/subscriptions</span><span>", &amp;app.address))
            .</span><span>header</span><span>("</span><span>Content-Type</span><span>", "</span><span>application/x-www-form-urlencoded</span><span>")
            .</span><span>body</span><span>(body)
            .</span><span>send</span><span>()
            .await
            .</span><span>expect</span><span>("</span><span>Failed to execute request.</span><span>");

        </span><span>// Assert
        </span><span>assert_eq!(
            </span><span>200</span><span>,
            response.</span><span>status</span><span>().</span><span>as_u16</span><span>(),
            "</span><span>The API did not return a 200 OK when the payload was {}.</span><span>",
            description 
        );
    }
}
</span></code></pre>
<p>The new test, unfortunately, passes.<br>
Although all those payloads are clearly invalid, our API is gladly accepting them, returning a <code>200 OK</code>.<br>
Those troublesome subscriber details end up straight in our database, ready to give us problems down the line when it is time to deliver a newsletter issue.</p>
<p>We are asking for two pieces of information when subscribing to our newsletter: a name and an email.<br>
This chapter will focus on name validation: what should we look out for?</p>
<blockquote>
<p><em>Discuss the article on HackerNews or <a href="https://www.reddit.com/r/rust/comments/kbddrq/zero_to_production_in_rust_part_six_using_types/">r/rust</a></em>.</p>
</blockquote>

<h2 id="1-1-domain-constraints">1.1. Domain Constraints</h2>
<p>It turns out that names are complicated<sup><a href="#patio-names">1</a></sup>.<br>
Trying to nail down what makes a name <em>valid</em> is a fool's errand. Remember that we chose to collect a name to use it in the opening line of our emails - we do not need it to match the real identity of a person, whatever that means in their geography. It would be totally unnecessary to inflict the pain of incorrect or overly prescriptive validation on our users.</p>
<p>We could thus settle on simply requiring the name field to be non-empty (as in, it must contain at least a non-whitespace character).</p>
<h2 id="1-2-security-constraints">1.2. Security Constraints</h2>
<p>Unfortunately, not all people on the Internet are good people.<br>
Given enough time, especially if our newsletter picks up traction and becomes successful, we are bound to capture the attention of malicious visitors.<br>
Forms and user inputs are a primary attack target - if they are not properly sanitised, they might allow an attacker to mess with our database (<a href="https://en.wikipedia.org/wiki/SQL_injection">SQL injection</a>), execute code on our servers, crash our service and other nasty stuff.<br>
Thanks, but no thanks.</p>
<p>What is likely to happen in our case? What should we brace for in the wild range of possible attacks?<sup><a href="#threat-modelling">2</a></sup><br>
We are building an email newsletter, which leads us to focus on:</p>
<ul>
<li>denial of service - e.g. trying to take our service down to prevent other people from signing up. A common threat for basically any online service;</li>
<li>data theft - e.g. steal a huge list of email addresses;</li>
<li>phishing - e.g. use our service to send what looks like a legitimate email to a victim to trick them into clicking on some links or perform other actions.</li>
</ul>
<p>Should we try to tackle all these threats in our validation logic?<br>
Absolutely not!<br>
But it is good practice to have a layered security approach<sup><a href="#defense-in-depth">3</a></sup>: by having mitigations to reduce the risk for those threats at multiple levels in our stack (e.g. input validation, parametrised queries to avoid SQL injection, escaping parametrised input in emails, etc.) we are less likely to be vulnerable should any of those checks fail us or be removed later down the line.</p>
<p>We should always keep in mind that software is a living artifact: holistic understanding of a system is the first victim of the passage of time.<br>
You have the whole system in your head when writing it down for the first time, but the next developer touching it will not - at least not from the get-go. It is therefore possible for a load-bearing check in an obscure corner of the application to disappear (e.g. HTML escaping) leaving you exposed to a class of attacks (e.g. phishing).<br>
Redundancy reduces risk.</p>
<p>Let's get to the point - what validation should we perform on names to improve our security posture given the class of threats we identified?<br>
I suggest:</p>
<ul>
<li>Enforcing a maximum length. We are using <code>TEXT</code> as type for our email in Postgres, which is virtually unbounded - well, until disk storage starts to run out. Names come in all shapes and forms, but 256 characters should be enough for the greatest majority of our users<sup><a href="#longest-name">4</a></sup> - if not, we will politely ask them to enter a nickname.</li>
<li>Reject names containing troublesome characters. <code>/()"&lt;&gt;\{}</code> are fairly common in URLs, SQL queries and HTML fragments - not as much in names<sup><a href="#xkcd">5</a></sup>. Forbidding them raises the complexity bar for SQL injection and phishing attempts.</li>
</ul>

<p>Let's have a look at our request handler, as it stands right now:</p>
<pre><code><span>//! src/routes/subscriptions.rs
</span><span>use </span><span>actix_web::{web, HttpResponse};
</span><span>use </span><span>chrono::Utc;
</span><span>use </span><span>sqlx::PgPool;
</span><span>use </span><span>uuid::Uuid;

#[</span><span>derive</span><span>(serde::Deserialize)]
</span><span>pub struct </span><span>FormData {
    </span><span>email</span><span>: String,
    </span><span>name</span><span>: String,
}

#[</span><span>tracing</span><span>::</span><span>instrument</span><span>(
    name = "</span><span>Adding a new subscriber</span><span>",
    </span><span>skip</span><span>(form, pool),
    </span><span>fields</span><span>(
        email = %form.email,
        name = %form.name
    )
)]
</span><span>pub</span><span> async </span><span>fn </span><span>subscribe</span><span>(
    </span><span>form</span><span>: web::Form&lt;FormData&gt;,
    </span><span>pool</span><span>: web::Data&lt;PgPool&gt;,
) -&gt; Result&lt;HttpResponse, HttpResponse&gt; {
    </span><span>insert_subscriber</span><span>(&amp;pool, &amp;form)
        .await
        .</span><span>map_err</span><span>(|_| HttpResponse::InternalServerError().</span><span>finish</span><span>())?;
    Ok(HttpResponse::Ok().</span><span>finish</span><span>())
}

</span><span>// [...]
</span></code></pre>
<p>Where should our new validation live?</p>
<p>A first sketch could look somewhat like this:</p>
<pre><code><span>//! src/routes/subscriptions.rs
 
// An extension trait to provide the `graphemes` method 
// on`String` and `&amp;str`
</span><span>use </span><span>unicode_segmentation::UnicodeSegmentation;
</span><span>// [...]

</span><span>pub</span><span> async </span><span>fn </span><span>subscribe</span><span>(
    </span><span>form</span><span>: web::Form&lt;FormData&gt;,
    </span><span>pool</span><span>: web::Data&lt;PgPool&gt;,
) -&gt; Result&lt;HttpResponse, HttpResponse&gt; {
    </span><span>if </span><span>!</span><span>is_valid_name</span><span>(&amp;form.name) {
        </span><span>return </span><span>Err(HttpResponse::BadRequest().</span><span>finish</span><span>());
    }
    </span><span>insert_subscriber</span><span>(&amp;pool, &amp;form)
        .await
        .</span><span>map_err</span><span>(|_| HttpResponse::InternalServerError().</span><span>finish</span><span>())?;
    Ok(HttpResponse::Ok().</span><span>finish</span><span>())
}

</span><span>/// Returns `true` if the input satisfies all our validation constraints 
/// on subscriber names, `false` otherwise.
</span><span>pub fn </span><span>is_valid_name</span><span>(</span><span>s</span><span>: &amp;</span><span>str</span><span>) -&gt; </span><span>bool </span><span>{
    </span><span>// `.trim()` returns a view over the input `s` without trailing 
    // whitespace-like characters.
    // `.is_empty` checks if the view contains any character.
    </span><span>let</span><span> is_empty_or_whitespace = s.</span><span>trim</span><span>().</span><span>is_empty</span><span>();

    </span><span>// A grapheme is defined by the Unicode standard as a "user-perceived" 
    // character: `√•` is a single grapheme, but it is composed of two characters 
    // (`a` and `Ãä`).
    //
    // `graphemes` returns an iterator over the graphemes in the input `s`.
    // `true` specifies that we want to use the extended grapheme definition set,
    // the recommended one.
    </span><span>let</span><span> is_too_long = s.</span><span>graphemes</span><span>(</span><span>true</span><span>).</span><span>count</span><span>() &gt; </span><span>256</span><span>;

    </span><span>// Iterate over all characters in the input `s` to check if any of them matches 
    // one of the characters in the forbidden array.
    </span><span>let</span><span> forbidden_characters = ['</span><span>/</span><span>', '</span><span>(</span><span>', '</span><span>)</span><span>', '</span><span>"</span><span>', '</span><span>&lt;</span><span>', '</span><span>&gt;</span><span>', '</span><span>\\</span><span>', '</span><span>{</span><span>', '</span><span>}</span><span>'];
    </span><span>let</span><span> contains_forbidden_characters = s.</span><span>chars</span><span>().</span><span>any</span><span>(|</span><span>g</span><span>| forbidden_characters.</span><span>contains</span><span>(&amp;g));

    </span><span>// Return `false` if any of our conditions has been violated 
    </span><span>!(is_empty_or_whitespace || is_too_long || contains_forbidden_characters)
}
</span></code></pre>
<p>To compile the new function successfully we will have to add the <code>unicode-segmentation</code> crate to our dependencies:</p>
<pre><code><span>cargo</span><span> add unicode-segmentation
</span></code></pre>
<p>While it <em>looks like</em> a perfectly fine solution (assuming we add a bunch of tests), functions like <code>is_valid_name</code> give us a false sense of safety.</p>

<p>Let's shift our attention to <code>insert_subscriber</code>.<br>
Let's imagine, for a second, that it requires <code>form.name</code> to be non-empty otherwise something horrible is going to happen (e.g. a panic!).</p>
<p>Can <code>insert_subscriber</code> safely assume that <code>form.name</code> will be non-empty?<br>
Just by looking at its <em>type</em>, it cannot: <code>form.name</code> is a <code>String</code>. There is no guarantee about its content.<br>
If you were to look at our program in its entirety you might say: we are checking that it is non-empty at the edge, in the request handler, therefore we can safely assume that <code>form.name</code> will be non-empty every time <code>insert_subscriber</code> is invoked.</p>
<p>But we had to shift from a <em>local</em> approach (let's look at this function's parameters) to a <em>global</em> approach (let's scan the whole codebase) to make such a claim.<br>
And while it might be feasible for a small project such as ours, examining all the calling sites of a function (<code>insert_subscriber</code>) to ensure that a certain validation step has been performed beforehand quickly becomes unfeasible on larger projects.</p>
<p>If we are to stick with <code>is_valid_name</code>, the only viable approach is validating <em>again</em> <code>form.name</code> inside <code>i‚Ä¶</code></p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/">https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/</a></em></p>]]>
            </description>
            <link>https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536010</guid>
            <pubDate>Fri, 25 Dec 2020 12:09:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Minimum Complete Tutorial of CPU Power Management, C-states and P-states]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536006">thread link</a>) | @usr1106
<br/>
December 25, 2020 | https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/ | <a href="https://web.archive.org/web/*/https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><nav id="TableOfContents"></nav><p>How does CPU save power√Ç&nbsp;? You will learn all the basics about the CPU power management in this post.</p><p>The processor/CPU is designed to operate forever under a specific load. As almost none of us are doing a <code>24x7</code> calculation employing all the resources of the CPU continuously, it is most of the time not operating in its designed maximum. So what is the point of keeping the whole CPU powered on at its full capacity√Ç&nbsp;? This is the point of CPU power management. The power management topic covers much more than this, including the RAM, GPU etc., but I am going to tell you only about the CPU side of the story in this post.</p><p>If you know about C-states and P-states and how CPU enters to and exits from these states, probably there is nothing new in this post for you. If not, continue reading.</p><p>I was planning to include a few real-world examples from Linux, but the post was getting longer and taking even more time to finish, so I will do that in another post.</p><p>The general information in this post is applicable to all modern CPUs but the details can be very specific to the individual CPU (esp. to the processor family) and I am using an Intel√Ç¬Æ Xeon√Ç¬Æ E3-1245 v5 @ 3.50GHz, this is a Xeon E3√¢‚Ç¨‚Äú1200 v5 series (formerly Skylake) processor (model number 0x5e).</p><p>The main references used in this post are:</p><ul><li><a href="https://www.intel.com/content/www/us/en/processors/xeon/xeon-technical-resources.html">Intel(R) Xeon Processor E3√¢‚Ç¨‚Äú1200 v5 Product Family Datasheets</a></li><li><a href="https://ark.intel.com/products/88173/Intel-Xeon-Processor-E3-1245-v5-8M-Cache-3_50-GHz">Intel(R) Xeon Processor E3√¢‚Ç¨‚Äú1245 v5 Product Specification</a></li><li><a href="https://www.intel.com/content/dam/doc/white-paper/energy-efficient-platforms-2011-white-paper.pdf">Sofware Impact to Platform Energy-Efficiency (Intel White Paper)</a></li><li><a href="https://software.intel.com/sites/default/files/managed/39/c5/325462-sdm-vol-1-2abcd-3abcd.pdf">Intel(R) 64 and IA-32 Architectures Software Developer‚Äôs Manual</a></li><li><a href="http://www.uefi.org/sites/default/files/resources/ACPI_6_2.pdf">ACPI Specification v6.2</a></li><li><a href="https://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface">ACPI page on Wikipedia</a></li><li>Linux Kernel Sources version 4.13.0</li></ul><p>Unless otherwise noted, all original figures and tables are from the datasheet.</p><ul><li>2019/03/01: Added CoreFreq output to last section.</li></ul><p>On its <a href="https://ark.intel.com/products/52274/Intel-Xeon-Processor-E3-1245-8M-Cache-3_30-GHz">official product page</a>, my CPU has the following features listed:</p><ul><li>Idle States</li><li>Enhanced Intel SpeedStep√Ç¬Æ Technology</li></ul><p>You can see on the page that ‚ÄúIdle States (C-states) are used to save power when the processor is idle.‚Äù and ‚ÄúIntel SpeedStep√Ç¬Æ Technology switches both voltage and frequency in tandem between high and low levels in response to processor load.‚Äù</p><p>You will learn what both of these descriptions mean throughout this post.</p><p>On a production CPU (so not considering the things that can be done while designing the CPU), to save power, you can do two things. You can:</p><ul><li>eliminate the power consumption of a subsystem (a core or other resources like clock or cache) by completely powering it down (so cutting down the voltage, reducing it to zero)</li></ul><p>or</p><ul><li>decrease the power consumption by decreasing the voltage and/or the frequency of the subsystem and/or the whole processor</li></ul><p>The first one is simple to understand, if you shut down the power, you do not consume any power.</p><p>The second requires a bit more explanation. The power consumption of an integrated circuit (such as a processor) is proportional linearly to frequency and quadratically to voltage.</p><p>P ~ f V√Ç¬≤</p><blockquote><p>Note for those of you knowing more about digital electronics:</p></blockquote><blockquote><p>Pcpu is actually = Pdynamic + Psc + Pleak</p></blockquote><blockquote><p>On an active CPU, Pdynamic is the most important part, it is the part I mention here, being proportional to the frequency and quadratically to the voltage.</p></blockquote><blockquote><p>Psc=Pshort-circuit is proportional to the frequency.</p></blockquote><blockquote><p>Pleak is proportional to the voltage.</p></blockquote><p>Also, the voltage and frequency is not independent, and seems to have a linear relationship. (<a href="http://async.org.uk/tech-reports/NCL-EEE-MICRO-TR-2015-197.pdf">http://async.org.uk/tech-reports/NCL-EEE-MICRO-TR-2015-197.pdf</a>)</p><p>Higher (serial) performance requires both higher frequency and higher voltage, thus having even a larger effect on the power consumption.</p><p>This depends a lot on the processor but E3√¢‚Ç¨‚Äú1245 v5 @ 3.50 Ghz has Thermal Design Power (TDP) of 80 Watts. This is an average value the CPU can sustain forever (Power Limit/PL1 in the figure below) and it is usually the value that the cooling solutions should be designed at for reliability. Actual power CPU consumes can temporarily go higher (as shown as PL2, PL3 and PL4 in the figure below). TDP is measured under a high-complexity (~worst case) load with all cores active at the base frequency (of 3.50 Ghz).</p><figure><img data-src="https://metebalci.com/img/blog/cpu-package-power-control-figure-5-1.png" alt="CPU Package Power Control" src="https://metebalci.com/img/blog/cpu-package-power-control-figure-5-1.png"><figcaption><p>CPU Package Power Control</p></figcaption></figure><p>You can see in the figure above that the CPU can consume more power than TDP at PL2 for up to 100 seconds, that is actually quite a long duration.</p><p>The two ways to decrease the power consumption of a processor:</p><ul><li>powering down subsystems</li><li>voltage/frequency reduction</li></ul><p>is accomplished by using:</p><ul><li>C-states</li><li>P-states</li></ul><p>respectively.</p><p>C-states describe the first case, so they are the idle (power saving) states. In order to power down a subsystem, that subsystem should not be running anything, so it should be at idle, doing nothing, executing nothing. So C-state x, Cx, means one or more subsystems of the CPU is at idle, powered down.</p><p>On the other hand, P-states describe the second case, so they are the executing (power saving) states. The subsystem is actually running but it does not require full performance so the voltage and/or frequency it operates is decreased. So P-state x, Px, means the subsystem it refers to (e.g. a CPU core) is operating at a specific (frequency, voltage) pair.</p><p>Because most modern CPUs have multiple cores in a single package, C-states are further divided into core C-states (CC-states) and package C-states (PC-states). The reason for PC-states is there are other (shared) components in the processor that can also be powered down after all cores using them are powered down (e.g. the shared cache). However, as a user or programmer, we cannot control these, since we do not interact with the package directly, but we interact with the individual cores. So we can only affect the CC-states directly, PC-states are indirectly affected based on the CC-states of the cores.</p><p>The states are numbered starting from zero like C0, C1√¢‚Ç¨¬¶ and P0, P1‚Ä¶ The higher the number is the more power is saved. C0 means no power saving by shutting down something, so everything is powered on. P0 means maximum performance, thus maximum frequency, voltage and power used.</p><p>The basic C-states (defined by ACPI) are:</p><ul><li>C0: Active, CPU/Core is executing instructions. P-states are relevant here, CPU/Core may be operating at its maximum performance (thus at P0) or at a lower performance/power (thus at anything other than P0).</li><li>C1: Halt, nothing is being executed, but it can return to C0 instantenously. Since it is not working (but halted), P-states are not relevant for C1 or any Cx other than C0.</li><li>C2: Stop-Clock, similar to C1 but it takes longer time to go back to C0.</li><li>C3: Sleep. It can go back to C0, but it will take considerably longer time.</li></ul><p>Many modern CPUs have plenty more C-states and according to its datasheet Intel√Ç¬Æ Xeon√Ç¬Æ E3-1200 v5 Family has C0, C1, C1E (C1 Enhanced), C2, C3, C6, C7 and C8. C1 and C1E are CC-states only, and C2 is only a PC-state. All others are both a CC-state and a PC-state.</p><blockquote><p>Note: There are also thread level C-states because of Intel Hyper-Threading. However, the individual threads can only request C-states but power saving action only takes place when the core enters to that C-state. I will in general omit talking about Thread C-states and Hyper-Threading in this post.</p></blockquote><p>The descriptions of these states from the datasheet are:</p><figure><img data-src="https://metebalci.com/img/blog/processor-ia-core-package-state-support-table-4-2.png" alt="Processor IA Core / Package State Support Table" src="https://metebalci.com/img/blog/processor-ia-core-package-state-support-table-4-2.png"><figcaption><p>Processor IA Core / Package State Support Table</p></figcaption></figure><blockquote><p>Note: LLC above refers to Last Level Cache, meaning the shared L3 cache in the processor.</p></blockquote><p>and here there is a visual description:</p><figure><img data-src="https://metebalci.com/img/blog/flexible-c-states-to-select-idle-power-level-vs-responsiveness-figure-4.png" alt="Flexible C-states to select Idle Power Level vs. Responsiveness (from Software Impact to Platform Energy-Efficiency White Paper)" src="https://metebalci.com/img/blog/flexible-c-states-to-select-idle-power-level-vs-responsiveness-figure-4.png"><figcaption><p>Flexible C-states to select Idle Power Level vs. Responsiveness (from Software Impact to Platform Energy-Efficiency White Paper)</p></figcaption></figure><p>A very basic timeline of power saving using C-states is:</p><ul><li>The normal operation is at C0.</li><li>First, the clocks of idle core is stopped. (C1)</li><li>Then, the local caches (L1/L2) of the core is flushed and the core is powered down. (C3)</li><li>Then, when all the cores are powered down, the shared cache (L3/LLC) of the package is flushed and at the end the package/whole CPU can be (almost) powered down. I said almost because I guess there has to be something powered on to return back to C0.</li></ul><p>As you might guess, CC-states and PC-states are not independent, so some combinations are impossible. Figure below summarizes this:</p><figure><img data-src="https://metebalci.com/img/blog/processor-package-and-ia-core-c-states-figure-4-2.png" alt="Processor Package and IA Core C-States of Intel Xeon E3√¢‚Ç¨‚Äú1200 v5 Product Family" src="https://metebalci.com/img/blog/processor-package-and-ia-core-c-states-figure-4-2.png"><figcaption><p>Processor Package and IA Core C-States of Intel Xeon E3√¢‚Ç¨‚Äú1200 v5 Product Family</p></figcaption></figure><p>Obviously, if a core is running (C0), the package cannot be in a state other than C0. On the other hand, if a core is completely powered down (C8), the package can still be at C0 if any other core is still running.</p><blockquote><p>Note: Intel Software Developer‚Äôs Manual mentions sub C-states, or substates, meaning a C-state (type) actually contains one or more sub C-states. After checking the intel_idle driver code in the Linux kernel, I understand for example C1 and C1E has the same state type C1, but they are subtypes 0 and 1.</p><p>The number of subtypes of the eight C-state types (0..7) for C1..C8 is discovered by CPUID instruction. Looking at my CPU, cpuid program output returns:</p></blockquote><pre><code>MONITOR/MWAIT (5):
      smallest monitor-line size (bytes)       = 0x40 (64)
      largest monitor-line size (bytes)        = 0x40 (64)
      enum of Monitor-MWAIT exts supported     = true
      supports intrs as break-event for MWAIT  = true
      number of C0 sub C-states using MWAIT    = 0x0 (0)
      number of C1 sub C-states using MWAIT    = 0x2 (2)
      number of C2 sub C-states using MWAIT    = 0x1 (1)
      number of C3 sub C-states using MWAIT    = 0x2 (2)
      number of C4 sub C-states using MWAIT    = 0x4 (4)
      number of C5 sub C-states using MWAIT    = 0x1 (1)
      number of C6 sub C-states using MWAIT    = 0x0 (0)
      number of C7 sub C-states using MWAIT    = 0x0 (0)
</code></pre><blockquote><p>Also note from the Intel manual: ‚ÄúThe definition of C0 through C7 states for MWAIT extension are processor-specific C-states, not ACPI Cstates‚Äù. So do not confuse these with the ACPI C-states I mentioned before, they are obviously related and there is a mapping between but they are not exactly same.</p></blockquote><p>I have created the chart below from the <code>intel_idle</code> driver source code for my cpu (model 0x5e). The horizontal axis labels indicate the C-state name:processor specific state:processor ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/">https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/</a></em></p>]]>
            </description>
            <link>https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536006</guid>
            <pubDate>Fri, 25 Dec 2020 12:08:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Security on Mobile Devices:State of the Art,Open Problems,Proposed Solutions [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25535996">thread link</a>) | @anonypla
<br/>
December 25, 2020 | https://securephones.io/main.pdf | <a href="https://web.archive.org/web/*/https://securephones.io/main.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://securephones.io/main.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535996</guid>
            <pubDate>Fri, 25 Dec 2020 12:05:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Some Differences Between macOS and Common Unix Systems]]>
            </title>
            <description>
<![CDATA[
Score 160 | Comments 65 (<a href="https://news.ycombinator.com/item?id=25535971">thread link</a>) | @dongyx
<br/>
December 25, 2020 | https://www.dyx.name/posts/macunix.html | <a href="https://web.archive.org/web/*/https://www.dyx.name/posts/macunix.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Discuss some differences between macOS and common Unix systems to help Unix users get familiar with macOS sooner.</p><div>
				
<h2 id="users-and-groups">Users and Groups</h2>

<p>macOS manages users and groups by directory services instead of <code>/etc/passwd</code> and  <code>/etc/group</code>.  Consider a local network, for example, the one in your office, there‚Äôre many computers in the network and each has its own files, accounts, etc. A directory service organizes these distributed resources into one single index and makes them look like a directory hierarchy.</p>

<p>For example, <code>/Hosts/PC1</code> represents a host in the network and <code>/Users/Smith</code> represents a user in the network.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup></p>

<p>macOS uses the <code>dscl</code> command to interact with directory services.</p>

<p>To list all users on the system, we could run the following.</p>



<p>The first argument sets which datasource we want to retrieve from. A dot means the local datasource.</p>

<div><div><pre><code># List groups
dscl . -list /Groups
</code></pre></div></div>

<p>The <code>-list</code> option lets <code>dscl</code> print subitems of a resource.  Subitems of <code>/Users</code> are all users. Subitems of <code>/Groups</code> are all groups.</p>

<p>If we want to check the information about the resource instead of listing subitems we should use <code>-read</code>. For example, we could check the information of the user <code>Smith</code> like
the following.</p>

<div><div><pre><code># Retrieve the information of Smith
dscl . -read /Users/Smith
</code></pre></div></div>

<p><code>-read</code> prints keys and values of the specified resource. We could also specify the keys we want.</p>

<div><div><pre><code># Get the primary group ID and default shell of Smith
dscl . -read /Users/Smith PrimaryGroupID UserShell
</code></pre></div></div>

<p>To add a resource, we use <code>dscl . -create</code>. The following command adds a new user <code>belson</code>.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson
</code></pre></div></div>

<p>It seems ok but it‚Äôs actually not. If we try to set a password for <code>belson</code> using <code>sudo passwd belson</code>, <code>passwd</code> will tell us the user doesn‚Äôt exist. Because <code>dscl</code> just adds a record to the data source but is doesn‚Äôt check the integrity. It doesn‚Äôt even assign a UID for <code>belson</code>. We must assign a UID and a primary group for <code>belson</code> after adding it to the datasource by ourselves.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson UniqueID 511	# UID 511 for example
sudo dscl . -create /Users/belson PrimaryGroupID 20	# The staff group
</code></pre></div></div>

<p>Now, <code>belson</code> is a Unix user and you can set a password for him using <code>passwd</code>. However, you still can‚Äôt login as <code>belson</code> for we don‚Äôt assign him a shell.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson UserShell /bin/bash
</code></pre></div></div>

<p>Well we can login as <code>belson</code> now but he doesn‚Äôt have a home directory. We must create the directory and specify it with <code>dscl</code>.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson NFSHomeDirectory /Users/belson
sudo mkdir /User/belson
sudo chmod -R belson:staff /User/belson
</code></pre></div></div>

<p>Sounds hell right? But it‚Äôs not over. Run <code>dscl . -read /Groups/staff</code> and you will find that
neither the <code>GroupMembers</code> nor the <code>GroupMembership</code> attribute has any information about <code>belson</code>.  We have specified his primary group to <code>staff</code>. But as mentioned above, <code>dscl</code> doesn‚Äôt check the integrity. Bidirectional relationships must be maintained manually. This is the real hell.</p>

<p>To solve the user-group relationship problem, we could use <code>dseditgroup</code>. The following command adds <code>belson</code> to the <code>staff</code> group and it takes care of the integrity.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<div><div><pre><code>sudo dseditgroup -o edit -a belson -t user staff
</code></pre></div></div>

<p>We should make a summary here. To create a user <code>belson</code> in the group <code>staff</code>, we need:</p>

<div><div><pre><code>sudo dscl . -create /Users/belson
sudo dscl . -create /Users/belson UniqueID 511	# UID 511 for example
sudo dscl . -create /Users/belson PrimaryGroupID 20	# The staff group
sudo dscl . -create /Users/belson UserShell /bin/bash
sudo dscl . -create /Users/belson NFSHomeDirectory /Users/belson
sudo dseditgroup -o edit -a belson -t user staff
sudo mkdir /User/belson
sudo chmod -R belson:staff /User/belson
</code></pre></div></div>

<p>It is painful for a system administrator to type so many commands just to create a new user. You must miss <code>adduser</code> and <code>addgroup</code> in Debian so much.</p>

<p>Luckily, since Mac OS X 10.10, the <code>sysadminctl</code> command is provided. It‚Äôs a high-level interface of <code>dscl</code>. Type <code>sysadminctl</code> in the terminal to see its usage<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup>.</p>

<div><div><pre><code>Usage: sysadminctl
	-deleteUser &lt;user name&gt; [-secure || -keepHome] (interactive || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-newPassword &lt;new password&gt; -oldPassword &lt;old password&gt; [-passwordHint &lt;password hint&gt;]
	-resetPasswordFor &lt;local user name&gt; -newPassword &lt;new password&gt; [-passwordHint &lt;password hint&gt;] (interactive] || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-addUser &lt;user name&gt; [-fullName &lt;full name&gt;] [-UID &lt;user ID&gt;] [-shell &lt;path to shell&gt;] [-password &lt;user password&gt;] [-hint &lt;user hint&gt;] [-home &lt;full path to home&gt;] [-admin] [-picture &lt;full path to user image&gt;] (interactive] || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-secureTokenStatus &lt;user name&gt;
	-secureTokenOn &lt;user name&gt; -password &lt;password&gt; (interactive || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-secureTokenOff &lt;user name&gt; -password &lt;password&gt; (interactive || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-guestAccount &lt;on || off || status&gt;
	-afpGuestAccess &lt;on || off || status&gt;
	-smbGuestAccess &lt;on || off || status&gt;
	-automaticTime &lt;on || off || status&gt;
	-filesystem status
	-screenLock &lt;immediate || off&gt; -password &lt;password&gt;

Pass '-' instead of password in commands above to request prompt.
'-adminPassword' used mostly for scripted operation. Use '-' or 'interactive' to get the authentication string interactivly. This preferred for security reasons
</code></pre></div></div>

<p>We use <code>sysadminctl</code> to delete <code>belson</code> first.</p>

<div><div><pre><code>sudo sysadminctl -deleteUser belson -secure
</code></pre></div></div>

<p>Using <code>dscl</code> to check the directory service, we could find that everything we did is removed.</p>

<p>Now, we add <code>belson</code> again with <code>sysadminctl</code>:</p>

<div><div><pre><code>sudo sysadminctl -addUser belson
sudo dseditgroup -o edit -a belson -t user staff
</code></pre></div></div>

<p>Two commands finish the job.</p>

<h2 id="filesystem-hierarchy">Filesystem Hierarchy</h2>

<p>If you check the root directory, you will see some traditional Unix things like <code>/usr</code>, <code>/var</code>, and <code>/etc</code>. You may also find mac-specified things like <code>/Library</code> <code>/Applications</code>, and <code>/cores</code>.</p>

<p>A list of mac-specified directories with their purposes in the root directory is here<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup>.</p>

<table>
  <thead>
    <tr>
      <th>Directory</th>
      <th>Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/private</td>
      <td>Contains the tmp, var, etc, directories. <code>/tmp</code>, <code>/var</code>, <code>/etc</code> are symbolic links to these subdirectories</td>
    </tr>
    <tr>
      <td>/Library</td>
      <td>Contains support files for locally installed applications, among other things.</td>
    </tr>
    <tr>
      <td>/System</td>
      <td>Contains a subdirectory, Library, that holds support files for the system and system applications, among other things.</td>
    </tr>
    <tr>
      <td>/Network</td>
      <td>Contains network-mounted Application, Library, and Users directories, as well as a Servers directory that contains directories mounted by the auto mount daemon.</td>
    </tr>
    <tr>
      <td>/Users</td>
      <td>Contains home directories for the users on the system. The root user‚Äôs home directory is /var/root (actually /private/var/root).</td>
    </tr>
    <tr>
      <td>/Volumes</td>
      <td>Contains all visible mounted filesystems, including removable media and mounted disk images.</td>
    </tr>
  </tbody>
</table>

<p>We could make a list to compare some of them with Linux.</p>

<table>
  <thead>
    <tr>
      <th>macOS</th>
      <th>Linux</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/System/Library</td>
      <td>/lib</td>
    </tr>
    <tr>
      <td>/Library</td>
      <td>/usr/lib, /usr/local/lib</td>
    </tr>
    <tr>
      <td>/Users</td>
      <td>/home</td>
    </tr>
    <tr>
      <td>/Volumes</td>
      <td>/mnt, /media</td>
    </tr>
  </tbody>
</table>

<p>You may be confused here for the difference between <code>/Library</code> and <code>/usr/lib</code>. Which directory should we put libraries into?</p>

<p><code>/Library</code> is for macOS-specified softwares, like the data of things you download from the App Store, and BSD programs shipped with macOS, like modules of pre-installed Perl and of pre-installed Python.</p>

<p><code>/usr/lib</code> and <code>/usr/local/lib</code> are for Unix programs installed by yourself.</p>

<h2 id="booting">Booting</h2>

<p>In modern Linux, the first program launched by the kernel is <code>systemd</code>. In macOS it‚Äôs <code>launchd</code><sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup>.</p>

<p><code>launchd</code> manages two types of services, <code>LaunchDaemon</code> and <code>LaunchAgent</code>. <code>LaunchDaemon</code> will be launched after the system is booted. <code>LaunchAgent</code> will be launched after a user is logged-in.</p>

<p>If a program needs to be launched after the system is booted, a <code>.plist</code> file is required to be placed into <code>/Library/LaunchDaemons</code> or <code>/System/LaunchDaemons</code>.</p>

<p>If a program needs to be launched after a user logged-in, a <code>.plist</code> file is required to be placed into <code>/Library/LaunchAgents</code> or <code>/System/LaunchAgents</code>, or <code>~/Library/LaunchAgents</code> of the user.</p>

<p>The <code>launchctl</code> command is used to control services of <code>launchd</code>.</p>

<div><div><pre><code># to enable sshd
sudo launchctl load -w /System/Library/LaunchDaemons/ssh.plist

# to disable sshd
sudo launchctl unload -w /System/Library/LaunchDaemons/ssh.plist
</code></pre></div></div>

<h2 id="development">Development</h2>

<p>You bought a Mac for development. People told you that you need to do the following two things:</p>

<ul>
  <li>
    <p>Install Xcode from the app store</p>
  </li>
  <li>
    <p>Install command line tools using <code>xcode-select --install</code></p>
  </li>
</ul>

<p>You finished them, opened the terminal and found everything is familiar. You decided to write a classic Hello World with C to celebrate.</p>

<div><div><pre><code>#include &lt;stdio.h&gt;

int main(void)
{
	printf("%s\n", "hello, world");
	return 0;
}
</code></pre></div></div>

<p>If you‚Äôre using a 3rd party compiler, the compiler may tell you that <code>stdio.h</code> can‚Äôt be found.</p>

<p>No such fundamental file? You want to check <code>/usr/include</code> and you will find that even <code>/usr/include</code> doesn‚Äôt exist.</p>

<p>The reason is that header files are put into the package of Xcode in newer Xcode like Xcode 10. You can run <code>xcrun --show-sdk-path</code> to print the path<sup id="fnref:6" role="doc-noteref"><a href="#fn:6">6</a></sup>.</p>

<div><div><pre><code>$ xcrun --show-sdk-path
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
</code></pre></div></div>

<p>Then you can use <code>-isysroot</code> to specify the path for the compiler, for example:</p>

<div><div><pre><code>gcc -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk hello.c
</code></pre></div></div>

<h2 id="package-manager">Package Manager</h2>

<p>The first package installed to the system is usually a package manager. However, macOS has no default package manager. If you search online, you will find that <a href="https://brew.sh/">Homebrew</a> is the most popular package manager for macOS.</p>

<p>Homebrew is good for many people but not for one who wants things to go more like common Unix systems.</p>

<p>Homebrew can‚Äôt run as root. If you want to install python, you run <code>brew install python</code> instead of <code>sudo brew install python</code>. Homebrew installs packages to <code>/usr/local</code>. To achieve its goal about sudo-free, Homebrew changes the owner of all files and subdirectories under <code>/usr/local</code> to the user who installed Homebrew.</p>

<p>This brings security issues. Considering a malware ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.dyx.name/posts/macunix.html">https://www.dyx.name/posts/macunix.html</a></em></p>]]>
            </description>
            <link>https://www.dyx.name/posts/macunix.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535971</guid>
            <pubDate>Fri, 25 Dec 2020 12:00:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Planner 2.6 ‚Äì An open-source Todoist alternative for Linux]]>
            </title>
            <description>
<![CDATA[
Score 230 | Comments 42 (<a href="https://news.ycombinator.com/item?id=25535822">thread link</a>) | @rayrag
<br/>
December 25, 2020 | https://useplanner.com/release/2020/12/24/merry-christmas-everyone-planner-2-6-is-here/ | <a href="https://web.archive.org/web/*/https://useplanner.com/release/2020/12/24/merry-christmas-everyone-planner-2-6-is-here/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<h2 id="board-view-is-here">Board View is here</h2>

<p>For Todoist users, the Board View was introduced in this new update, a more visual way to organize your Planner projects. This new layout makes it easy to see the big picture of your projects and make progress from start to finish.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/board.png" alt="Planner 2.6 Planner Board"></p>

<p>To see your projects in the <b>Board View</b>, press the three dots icon in the top right, and select <b>View as board</b>. You‚Äôll be able to rearrange your sections, create new ones, and drag your tasks to anywhere on your board.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/board-settings.png" alt="Planner 2.6 Planner Board 2"></p>

<h2 id="sub-project">Sub-project</h2>
<p>One of the most requested features comes to Planner 2.6, keep your ever-growing project list neat and organized with sub-projects.</p>

<p>You can collapse sub-projects under their ‚Äúparent‚Äù projects to temporarily hide them from view. This helps to focus on the right projects at the right time, without getting distracted by everything else.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/sub-project.png" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="how-to-turn-a-project-into-a-sub-project">How to turn a project into a sub-project</h3>

<ol>
  <li>Right click on a project.</li>
  <li>Select the <b>Move</b> option.</li>
  <li>Select a project.</li>
</ol>

<h2 id="new-features">New Features</h2>
<h3 id="quick-search">Quick Search</h3>

<p>A big update for the Quick Find feature is here, with new views and feactures.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/Quick%20Search.png" alt="Planner 2.6 Planner Board 2"></p>

<ul>
  <li>Quick Search now saves your last searches, so you can hop around without even typing.</li>
  <li>Added new <b>Tomorrow</b> view.</li>
  <li>Now it is possible to search between <b>Sections</b></li>
</ul>

<h3 id="task-defaults">Task defaults</h3>

<p>Added a new view in <b>Preferences</b> to edit task defaults.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/tasks-defaults.png" alt="Planner 2.6 Planner Board 2"></p>

<ul>
  <li>New tasks on top: Indicate the position where the new tasks were created.</li>
  <li>Underline completed tasks.</li>
  <li>Default priority: Select the default priority when creating a task.</li>
</ul>

<h3 id="add-tasks-projects-sections-asynchronously">Add tasks, projects, sections asynchronously</h3>

<p>Adding a task, project or section is a quick process but sometimes this process stops or does not respond mainly to problems with the internet connection. Planner 2.6 creates the tasks asynchronously with the possibility of being able to cancel the process at any time.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/AsyncTask.gif" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="filter-your-projects-by-labels">Filter your projects by labels</h3>
<p>It is now possible to filter the tasks within a project by labels.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/filter-labels.gif" alt="Planner 2.6 Planner Board 2"></p>


<p>Labels have been added in the sidebar to make the use of filter by labels much faster.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/label-sidebar.png" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="more-customization">More customization</h3>

<p>It is now possible to sort the position <b>Inbox</b>, <b>Today</b> and <b>Upcoming</b> by 
Drag &amp; Drop.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/ActionMoved.png" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="code-cleanup--performance-improvement">Code cleanup &amp; performance improvement</h3>
<p>A giant code cleanup was done and resource usage was improved. Now Planner is faster and works much better.</p>

<p>Planner 2.6 is available for download now on <a href="https://appcenter.elementary.io/com.github.alainm23.planner/">AppCenter</a> and <a href="https://flathub.org/apps/details/com.github.alainm23.planner">Flathub</a>. We hope you‚Äôll enjoy these improvements.</p>

<p>Planner is being developed with ‚ù§Ô∏è and passion for Open Source. However, if you like Planner and want to support its development, consider donating to via:</p>
<ul>
  <li><a href="https://www.patreon.com/alainm23">Patreon</a></li>
  <li><a href="https://www.paypal.me/alainm23">PayPal</a></li>
</ul>



		<!-- <div class="author">
			
			
			<div class="square-image"><img src="https://avatars0.githubusercontent.com/u/33765137?v=4
" alt="Alain"/></div>
			<p class="blurb">Alain likes to discover and create new things.</p>
		</div> -->

		

		
			
			
			
		
	</div></div>]]>
            </description>
            <link>https://useplanner.com/release/2020/12/24/merry-christmas-everyone-planner-2-6-is-here/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535822</guid>
            <pubDate>Fri, 25 Dec 2020 11:19:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comprehensive Python Cheatsheet (2020)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535648">thread link</a>) | @zombiemama
<br/>
December 25, 2020 | https://gto76.github.io/python-cheatsheet/ | <a href="https://web.archive.org/web/*/https://gto76.github.io/python-cheatsheet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  <header>
    
    
  </header>

  <span><i></i></span>
   <div><br><div><h2 id="toc"><a href="#toc" name="toc">#</a>Contents</h2><pre><code><strong>ToC</strong> = {
    <strong><span><span>'1. Collections'</span></span></strong>: [<a href="#list">List</a>, <a href="#dictionary">Dictionary</a>, <a href="#set">Set</a>, <a href="#tuple">Tuple</a>, <a href="#range">Range</a>, <a href="#enumerate">Enumerate</a>, <a href="#iterator">Iterator</a>, <a href="#generator">Generator</a>],
    <strong><span><span>'2. Types'</span></span></strong>:       [<a href="#type">Type</a>, <a href="#string">String</a>, <a href="#regex">Regular_Exp</a>, <a href="#format">Format</a>, <a href="#numbers">Numbers</a>, <a href="#combinatorics">Combinatorics</a>, <a href="#datetime">Datetime</a>],
    <strong><span><span>'3. Syntax'</span></span></strong>:      [<a href="#arguments">Args</a>, <a href="#inline">Inline</a>, <a href="#closure">Closure</a>, <a href="#decorator">Decorator</a>, <a href="#class">Class</a>, <a href="#ducktypes">Duck_Type</a>, <a href="#enum">Enum</a>, <a href="#exceptions">Exception</a>],
    <strong><span><span>'4. System'</span></span></strong>:      [<a href="#exit">Exit</a>, <a href="#print">Print</a>, <a href="#input">Input</a>, <a href="#commandlinearguments">Command_Line_Arguments</a>, <a href="#open">Open</a>, <a href="#path">Path</a>, <a href="#oscommands">OS_Commands</a>],
    <strong><span><span>'5. Data'</span></span></strong>:        [<a href="#json">JSON</a>, <a href="#pickle">Pickle</a>, <a href="#csv">CSV</a>, <a href="#sqlite">SQLite</a>, <a href="#bytes">Bytes</a>, <a href="#struct">Struct</a>, <a href="#array">Array</a>, <a href="#memoryview">Memory_View</a>, <a href="#deque">Deque</a>],
    <strong><span><span>'6. Advanced'</span></span></strong>:    [<a href="#threading">Threading</a>, <a href="#operator">Operator</a>, <a href="#introspection">Introspection</a>, <a href="#metaprograming">Metaprograming</a>, <a href="#eval">Eval</a>, <a href="#coroutines">Coroutine</a>],
    <strong><span><span>'7. Libraries'</span></span></strong>:   [<a href="#progressbar">Progress_Bar</a>, <a href="#plot">Plot</a>, <a href="#table">Table</a>, <a href="#curses">Curses</a>, <a href="#logging">Logging</a>, <a href="#scraping">Scraping</a>, <a href="#web">Web</a>, <a href="#profiling">Profile</a>,
                       <a href="#numpy">NumPy</a>, <a href="#image">Image</a>, <a href="#audio">Audio</a>, <a href="#pygame">Games</a>, <a href="#pandas">Data</a>, <a href="#pysimplegui">GUI</a>]
}
</code></pre></div></div>






<div><h2 id="main"><a href="#main" name="main">#</a>Main</h2><pre><code><span>if</span> __name__ == <span>'__main__'</span>:     
    main()
</code></pre></div>

<div><h2 id="list"><a href="#list" name="list">#</a>List</h2><pre><code>&lt;list&gt; = &lt;list&gt;[from_inclusive : to_exclusive : ¬±step_size]
</code></pre></div>

<pre><code>&lt;list&gt;.append(&lt;el&gt;)            
&lt;list&gt;.extend(&lt;collection&gt;)    
</code></pre>
<pre><code>&lt;list&gt;.sort()
&lt;list&gt;.reverse()
&lt;list&gt; = sorted(&lt;collection&gt;)
&lt;iter&gt; = reversed(&lt;list&gt;)
</code></pre>
<pre><code>sum_of_elements  = sum(&lt;collection&gt;)
elementwise_sum  = [sum(pair) <span>for</span> pair <span>in</span> zip(list_a, list_b)]
sorted_by_second = sorted(&lt;collection&gt;, key=<span>lambda</span> el: el[<span>1</span>])
sorted_by_both   = sorted(&lt;collection&gt;, key=<span>lambda</span> el: (el[<span>1</span>], el[<span>0</span>]))
flatter_list     = list(itertools.chain.from_iterable(&lt;list&gt;))
product_of_elems = functools.reduce(<span>lambda</span> out, el: out * el, &lt;collection&gt;)
list_of_chars    = list(&lt;str&gt;)
</code></pre>
<ul>
<li><strong>Module <a href="#operator">operator</a> provides functions itemgetter() and mul() that offer the same functionality as <a href="#lambda">lambda</a> expressions above.</strong></li>
</ul>
<pre><code>&lt;int&gt; = &lt;list&gt;.count(&lt;el&gt;)     
index = &lt;list&gt;.index(&lt;el&gt;)     
&lt;list&gt;.insert(index, &lt;el&gt;)     
&lt;el&gt; = &lt;list&gt;.pop([index])     
&lt;list&gt;.remove(&lt;el&gt;)            
&lt;list&gt;.clear()                 
</code></pre>
<div><h2 id="dictionary"><a href="#dictionary" name="dictionary">#</a>Dictionary</h2><pre><code>&lt;view&gt; = &lt;dict&gt;.keys()                          
&lt;view&gt; = &lt;dict&gt;.values()                        
&lt;view&gt; = &lt;dict&gt;.items()                         
</code></pre></div>

<pre><code>value  = &lt;dict&gt;.get(key, default=<span>None</span>)          
value  = &lt;dict&gt;.setdefault(key, default=<span>None</span>)   
&lt;dict&gt; = collections.defaultdict(&lt;type&gt;)        
&lt;dict&gt; = collections.defaultdict(<span>lambda</span>: <span>1</span>)     
</code></pre>
<pre><code>&lt;dict&gt; = dict(&lt;collection&gt;)                     
&lt;dict&gt; = dict(zip(keys, values))                
&lt;dict&gt; = dict.fromkeys(keys [, value])          
</code></pre>
<pre><code>&lt;dict&gt;.update(&lt;dict&gt;)                           
value = &lt;dict&gt;.pop(key)                         
{k <span>for</span> k, v <span>in</span> &lt;dict&gt;.items() <span>if</span> v == value}    
{k: v <span>for</span> k, v <span>in</span> &lt;dict&gt;.items() <span>if</span> k <span>in</span> keys}  
</code></pre>
<div><h3 id="counter">Counter</h3><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections <span>import</span> Counter
<span>&gt;&gt;&gt; </span>colors = [<span>'blue'</span>, <span>'blue'</span>, <span>'blue'</span>, <span>'red'</span>, <span>'red'</span>]
<span>&gt;&gt;&gt; </span>counter = Counter(colors)
<span>&gt;&gt;&gt; </span>counter[<span>'yellow'</span>] += <span>1</span>
Counter({<span>'blue'</span>: <span>3</span>, <span>'red'</span>: <span>2</span>, <span>'yellow'</span>: <span>1</span>})
<span>&gt;&gt;&gt; </span>counter.most_common()[<span>0</span>]
(<span>'blue'</span>, <span>3</span>)
</code></pre></div>



<pre><code>&lt;set&gt;.add(&lt;el&gt;)                                 
&lt;set&gt;.update(&lt;collection&gt; [, ...])              
</code></pre>
<pre><code>&lt;set&gt;  = &lt;set&gt;.union(&lt;coll.&gt;)                   
&lt;set&gt;  = &lt;set&gt;.intersection(&lt;coll.&gt;)            
&lt;set&gt;  = &lt;set&gt;.difference(&lt;coll.&gt;)              
&lt;set&gt;  = &lt;set&gt;.symmetric_difference(&lt;coll.&gt;)    
&lt;bool&gt; = &lt;set&gt;.issubset(&lt;coll.&gt;)                
&lt;bool&gt; = &lt;set&gt;.issuperset(&lt;coll.&gt;)              
</code></pre>
<pre><code>&lt;el&gt; = &lt;set&gt;.pop()                              
&lt;set&gt;.remove(&lt;el&gt;)                              
&lt;set&gt;.discard(&lt;el&gt;)                             
</code></pre>
<div><h3 id="frozenset">Frozen Set</h3><ul>
<li><strong>Is immutable and hashable.</strong></li>
<li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong></li>
</ul><pre><code>&lt;frozenset&gt; = frozenset(&lt;collection&gt;)
</code></pre></div>


<div><h2 id="tuple"><a href="#tuple" name="tuple">#</a>Tuple</h2><p><strong>Tuple is an immutable and hashable list.</strong></p><pre><code>&lt;tuple&gt; = ()
&lt;tuple&gt; = (&lt;el&gt;, )
&lt;tuple&gt; = (&lt;el_1&gt;, &lt;el_2&gt; [, ...])
</code></pre></div>


<div><h3 id="namedtuple">Named Tuple</h3><p><strong>Tuple's subclass with named elements.</strong></p><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections <span>import</span> namedtuple
<span>&gt;&gt;&gt; </span>Point = namedtuple(<span>'Point'</span>, <span>'x y'</span>)
<span>&gt;&gt;&gt; </span>p = Point(<span>1</span>, y=<span>2</span>)
Point(x=<span>1</span>, y=<span>2</span>)
<span>&gt;&gt;&gt; </span>p[<span>0</span>]
<span>1</span>
<span>&gt;&gt;&gt; </span>p.x
<span>1</span>
<span>&gt;&gt;&gt; </span>getattr(p, <span>'y'</span>)
<span>2</span>
<span>&gt;&gt;&gt; </span>p._fields  
(<span>'x'</span>, <span>'y'</span>)
</code></pre></div>


<div><h2 id="range"><a href="#range" name="range">#</a>Range</h2><pre><code>&lt;range&gt; = range(to_exclusive)
&lt;range&gt; = range(from_inclusive, to_exclusive)
&lt;range&gt; = range(from_inclusive, to_exclusive, ¬±step_size)
</code></pre></div>

<pre><code>from_inclusive = &lt;range&gt;.start
to_exclusive   = &lt;range&gt;.stop
</code></pre>
<div><h2 id="enumerate"><a href="#enumerate" name="enumerate">#</a>Enumerate</h2><pre><code><span>for</span> i, el <span>in</span> enumerate(&lt;collection&gt; [, i_start]):
    ...
</code></pre></div>

<div><h2 id="iterator"><a href="#iterator" name="iterator">#</a>Iterator</h2><pre><code>&lt;iter&gt; = iter(&lt;collection&gt;)                 
&lt;iter&gt; = iter(&lt;function&gt;, to_exclusive)     
&lt;el&gt;   = next(&lt;iter&gt; [, default])           
&lt;list&gt; = list(&lt;iter&gt;)                       
</code></pre></div>

<div><h3 id="itertools">Itertools</h3><pre><code><span>from</span> itertools <span>import</span> count, repeat, cycle, chain, islice
</code></pre></div>

<pre><code>&lt;iter&gt; = count(start=<span>0</span>, step=<span>1</span>)             
&lt;iter&gt; = repeat(&lt;el&gt; [, times])             
&lt;iter&gt; = cycle(&lt;collection&gt;)                
</code></pre>
<pre><code>&lt;iter&gt; = chain(&lt;coll_1&gt;, &lt;coll_2&gt; [, ...])  
&lt;iter&gt; = chain.from_iterable(&lt;collection&gt;)  
</code></pre>
<pre><code>&lt;iter&gt; = islice(&lt;coll&gt;, to_exclusive)       
&lt;iter&gt; = islice(&lt;coll&gt;, from_inclusive, ‚Ä¶)  
</code></pre>
<div><h2 id="generator"><a href="#generator" name="generator">#</a>Generator</h2><ul>
<li><strong>Any function that contains a yield statement returns a generator.</strong></li>
<li><strong>Generators and iterators are interchangeable.</strong></li>
</ul><pre><code><span><span>def</span> <span>count</span><span>(start, step)</span>:</span>
    <span>while</span> <span>True</span>:
        <span>yield</span> start
        start += step
</code></pre></div>


<pre><code><span>&gt;&gt;&gt; </span>counter = count(<span>10</span>, <span>2</span>)
<span>&gt;&gt;&gt; </span>next(counter), next(counter), next(counter)
(<span>10</span>, <span>12</span>, <span>14</span>)
</code></pre>
<div><h2 id="type"><a href="#type" name="type">#</a>Type</h2><ul>
<li><strong>Everything is an object.</strong></li>
<li><strong>Every object has a type.</strong></li>
<li><strong>Type and class are synonymous.</strong></li>
</ul><pre><code>&lt;type&gt; = type(&lt;el&gt;)                          
&lt;bool&gt; = isinstance(&lt;el&gt;, &lt;type&gt;)            
</code></pre></div>


<pre><code><span>&gt;&gt;&gt; </span>type(<span>'a'</span>), <span>'a'</span>.__class__, str
(&lt;<span><span>class</span> '<span>str</span>'&gt;, &lt;<span>class</span> '<span>str</span>'&gt;, &lt;<span>class</span> '<span>str</span>'&gt;)
</span></code></pre>
<div><h4 id="sometypesdonothavebuiltinnamessotheymustbeimported">Some types do not have built-in names, so they must be imported:</h4><pre><code><span>from</span> types <span>import</span> FunctionType, MethodType, LambdaType, GeneratorType
</code></pre></div>

<div><h3 id="abstractbaseclasses">Abstract Base Classes</h3><p><strong>Each abstract base class specifies a set of virtual subclasses. These classes are then recognized by isinstance() and issubclass() as subclasses of the ABC, although they are really not. ABC can also manually decide whether or not a specific class is its virtual subclass, usually based on which methods the class has implemented (Collection, Iterable).</strong></p><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections.abc <span>import</span> Sequence, Collection, Iterable
<span>&gt;&gt;&gt; </span>isinstance([<span>1</span>, <span>2</span>, <span>3</span>], Iterable)
<span>True</span>
</code></pre></div>


<pre><code>‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ                  ‚îÇ  Sequence  ‚îÇ Collection ‚îÇ  Iterable  ‚îÉ
‚î†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î®
‚îÉ list, range, str ‚îÇ     ‚úì      ‚îÇ     ‚úì      ‚îÇ     ‚úì      ‚îÉ
‚îÉ dict, set        ‚îÇ            ‚îÇ     ‚úì      ‚îÇ     ‚úì      ‚îÉ
‚îÉ iter             ‚îÇ            ‚îÇ            ‚îÇ     ‚úì      ‚îÉ
‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
</code></pre>
<pre><code><span>&gt;&gt;&gt; </span><span>from</span> numbers <span>import</span> Integral, Rational, Real, Complex, Number
<span>&gt;&gt;&gt; </span>isinstance(<span>123</span>, Number)
<span>True</span>
</code></pre>
<pre><code>‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ                    ‚îÇ Integral ‚îÇ Rational ‚îÇ   Real   ‚îÇ Complex  ‚îÇ  Number  ‚îÉ
‚î†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î®
‚îÉ int                ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ fractions.Fraction ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ float              ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ complex            ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ decimal.Decimal    ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÉ
‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
</code></pre>
<div><h2 id="string"><a href="#string" name="string">#</a>String</h2><pre><code>&lt;str&gt;  = &lt;str&gt;.strip()                       
&lt;str&gt;  = &lt;str&gt;.strip(<span>'&lt;chars&gt;'</span>)              
</code></pre></div>

<pre><code>&lt;list&gt; = &lt;str&gt;.split()                       
&lt;list&gt; = &lt;str&gt;.split(sep=<span>None</span>, maxsplit=<span>-1</span>)  
&lt;list&gt; = &lt;str&gt;.splitlines(keepends=<span>False</span>)    
&lt;str&gt;  = &lt;str&gt;.join(&lt;coll_of_strings&gt;)       
</code></pre>
<pre><code>&lt;bool&gt; = &lt;sub_str&gt; <span>in</span> &lt;str&gt;                  
&lt;bool&gt; = &lt;str&gt;.startswith(&lt;sub_str&gt;)         
&lt;bool&gt; = &lt;str&gt;.endswith(&lt;sub_str&gt;)           
&lt;int&gt;  = &lt;str&gt;.find(&lt;sub_str&gt;)               
&lt;int&gt;  = &lt;str&gt;.index(&lt;sub_str&gt;)              
</code></pre>
<pre><code>&lt;str&gt;  = &lt;str&gt;.replace(old, new [, count])   
&lt;str&gt;  = &lt;str&gt;.translate(&lt;table&gt;)            
</code></pre>
<pre><code>&lt;str&gt;  = chr(&lt;int&gt;)                          
&lt;int&gt;  = ord(&lt;str&gt;)                          
</code></pre>
<ul>
<li><strong>Also: <code><span>'lstrip()'</span></code>, <code><span>'rstrip()'</span></code>.</strong></li>
<li><strong>Also: <code><span>'lower()'</span></code>, <code><span>'upper()'</span></code>, <code><span>'capitalize()'</span></code> and <code><span>'title()'</span></code>.</strong></li>
</ul>
<div><h3 id="propertymethods">Property Methods</h3><pre><code>‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ               ‚îÇ [ !#$%‚Ä¶] ‚îÇ [a-zA-Z] ‚îÇ  [¬º¬Ω¬æ]   ‚îÇ  [¬≤¬≥¬π]   ‚îÇ  [0-9]   ‚îÉ
‚î†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î®
‚îÉ isprintable() ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isalnum()     ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isnumeric()   ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isdigit()     ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isdecimal()   ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÉ
‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
</code></pre></div>

<ul>
<li><strong>Also: <code><span>'isspace()'</span></code> checks for <code><span>'[ \t\n\r\f\v‚Ä¶]'</span></code>.</strong></li>
</ul>
<div><h2 id="regex"><a href="#regex" name="regex">#</a>Regex</h2><pre><code><span>import</span> re
&lt;str&gt;   = re.sub(&lt;regex&gt;, new, text, count=<span>0</span>)  
&lt;list&gt;  = re.findall(&lt;regex&gt;, text)            
&lt;list&gt;  = re.split(&lt;regex&gt;, text, maxsplit=<span>0</span>)  
&lt;Match&gt; = re.search(&lt;regex&gt;, text)             
&lt;Match&gt; = re.match(&lt;regex&gt;, text)              
&lt;iter&gt;  = re.finditer(&lt;regex&gt;, text)           
</code></pre></div>

<ul>
<li><strong>Search() and match() return None if they can't find a match.</strong></li>
<li><strong>Argument <code><span>'flags=re.IGNORECASE'</span></code> can be used with all functions.</strong></li>
<li><strong>Argument <code><span>'flags=re.MULTILINE'</span></code> makes <code><span>'^'</span></code> and <code><span>'$'</span></code> match the start/end of each line.</strong></li>
<li><strong>Argument <code><span>'flags=re.DOTALL'</span></code> makes dot also accept the <code><span>'\n'</span></code>.</strong></li>
<li><strong>Use <code><span>r'\1'</span></code> or <code><span>'\\1'</span></code> for backreference.</strong></li>
<li><strong>Add <code><span>'?'</span></code> after an operator to make it non-greedy.</strong></li>
</ul>
<div><h3 id="matchobject">Match Object</h3><pre><code>&lt;str&gt;   = &lt;Match&gt;.group()                      
&lt;str&gt;   = &lt;Match&gt;.group(<span>1</span>)                     
&lt;tuple&gt; = &lt;Match&gt;.groups()                     
&lt;int&gt;   = &lt;Match&gt;.start()                      
&lt;int&gt;   = &lt;Match&gt;.end()                        
</code></pre></div>

<div><h3 id="specialsequences">Special Sequences</h3><ul>
<li><strong>By default digits, alphanumerics and whitespaces from all alphabets are matched, unless <code><span>'flags=re.ASCII'</span></code> argument is used.</strong></li>
<li><strong>Use a capital letter for negation.</strong></li>
</ul><pre><code><span>'\d'</span> == <span>'[0-9]'</span>                                
<span>'\w'</span> == <span>'[a-zA-Z0-9_]'</span>                         
<span>'\s'</span> == <span>'[ \t\n\r\f\v]'</span>                        
</code></pre></div>


<div><h2 id="format"><a href="#format" name="format">#</a>Format</h2><pre><code>&lt;str&gt; = <span>f'<span>{&lt;el_1&gt;}</span>, <span>{&lt;el_2&gt;}</span>'</span>
&lt;str&gt; = <span>'{}, {}'</span>.format(&lt;el_1&gt;, &lt;el_2&gt;)
</code></pre></div>

<div><h3 id="attributes">Attributes</h3><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections <span>import</span> namedtuple
<span>&gt;&gt;&gt; </span>Person = namedtuple(<span>'Person'</span>, <span>'name height'</span>)
<span>&gt;&gt;&gt; </span>person = Person(<span>'Jean-Luc'</span>, <span>187</span>)
<span>&gt;&gt;&gt; </span><span>f'<span>{person.height}</span>'</span>
<span>'187'</span>
<span>&gt;&gt;&gt; </span><span>'{p.height}'</span>.format(p=pers‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gto76.github.io/python-cheatsheet/">https://gto76.github.io/python-cheatsheet/</a></em></p>]]>
            </description>
            <link>https://gto76.github.io/python-cheatsheet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535648</guid>
            <pubDate>Fri, 25 Dec 2020 10:38:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Outer Orbit ‚Äì old school Spacewar-for-one game]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25535626">thread link</a>) | @masswerk
<br/>
December 25, 2020 | https://www.masswerk.at/outerorbit/ | <a href="https://web.archive.org/web/*/https://www.masswerk.at/outerorbit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="about">
		<p><strong>About Outer Orbit</strong><br>
		<em>Outer Orbit</em> is an attempt to create a ‚ÄúSpacewar!-for-one‚Äù as a tribute to the line of heritage of digital video games. It combines elements of the most classic shooter games, <em>Spacewar!</em> (1961/62) <a href="https://www.masswerk.at/spacewar/">[1]</a>, the first known video game on a digital computer, <em>Computer Space</em> (1971) <a href="https://www.masswerk.at/rc2017/04/02.html" target="_blank">[2]</a> <a href="https://www.masswerk.at/icss/" target="_blank">[3]</a> <a href="https://en.wikipedia.org/wiki/Computer_Space" target="_blank" rel="noopener">[4]</a>, the first coin-operated digital video game, and <em>Asteroids</em> (1979) <a href="https://en.wikipedia.org/wiki/Asteroids_(video_game)" target="_blank" rel="noopener">[5]</a>:</p>
		<ul>
			<li>From <em>‚Äú<a href="https://www.masswerk.at/spacewar/" target="_blank">Spacewar!</a>‚Äù</em> it borrows the comic book spaceship, the central star, gravity and orbital mechanics,</li>
			<li>from <em>‚Äú<a href="https://www.masswerk.at/icss/" target="_blank">Computer Space</a>‚Äù</em> the game mechanics of the saucer opponents and the time-based gameplay,</li>
			<li>from <em>‚Äú<a href="https://en.wikipedia.org/wiki/Asteroids_(video_game)" target="_blank" rel="noopener">Asteroids</a>‚Äù,</em> well, the asteroids, which serve here just as additional obstacles to make the game a bit trickier.</li>
		</ul>
		<p>Enjoy!</p>
		<p><strong>Note:</strong> A wave has a fixed duration of 80 seconds. You may progress to the next wave/level, if you manage to outscore the saucers in a given level, i.e. shoot the saucers more often than your ship crashes, by this maintaining a positive balance. Mind that the balance is reset to zero at the start of each level.</p>
		<p><strong>Tip:</strong> Like in <em>Spacewar!</em> enter an orbit around the gravitational star by aligning your spaceship perpendicular to its center and firing your thruster for two or three seconds. ‚Äî Do not attempt to destroy asteroids, dodge them.</p>
		<p><strong>Implementation Notes:</strong> The sound-scape is for the most a homage to <em>Computer Space,</em> less the background hum. The display font is based on definitions for a PDP-1 font renderer (early 1960s) and implemented in software. In order to bring the iterative machanics of a gravity based game to the modern age of asynchronous rendering, the game is computed internally in fixed time slices of an 1/100<sup>th</sup> of a second and the display rendered on demand.</p>
		<p><strong>Setting an Initial Level:</strong> Experienced players may want to select the initial level by specifying a wave as an URL-parameter, as in <a href="https://www.masswerk.at/outerorbit/?wave=30">https://www.masswerk.at/outerorbit/?wave=30</a> for a game starting at wave #30.</p>
		<p>¬© 2017‚Äì2020 Norbert Landsteiner, <a href="https://www.masswerk.at/">www.masswerk.at</a>.</p>
	</div></div>]]>
            </description>
            <link>https://www.masswerk.at/outerorbit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535626</guid>
            <pubDate>Fri, 25 Dec 2020 10:33:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How the freemium model makes 4k MRR for logolix]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535491">thread link</a>) | @theXspidy
<br/>
December 25, 2020 | https://pondum.com/how-the-freemium-model-makes-4k-mrr-for-logolix/ | <a href="https://web.archive.org/web/*/https://pondum.com/how-the-freemium-model-makes-4k-mrr-for-logolix/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	

<p><strong>Link</strong>: https://logolix.com/</p>



<p><strong>Founder</strong>: Joven Babovic</p>



<p><strong>Revenue</strong>: $4k MRR</p>



<p><strong>Product</strong>: ‚ÄúFree logo design for your projects.‚Äù</p>



<p><strong>Who is Joven Babovic and what business he started?</strong></p>



<p>Joven Babovic is a brand designer from Belgrade, Serbia. He is working on a productized logo design agency for tech founders, called Logolix, which starts three years ago.</p>



<p><strong>What is the backstory behind logolix and how he comes up with the idea?</strong></p>



<p>Back from 2012 to 2017, Joven is doing freelancing and participating in the design competition. But the competition on this platform is rapidly increasing, so he decided to start his agency. Logo design is a passion for Joven. But the problem is that compony only need new look ones every few years. That‚Äôs why he needs to find a new client after every work done. But he needs a steady stream of leads.</p>



<p>He analyzed the market and start plan what to do next and came up with an idea to give his some logo design for free. As he was designing the logo for three years and every client need 3-4 logos to choose the good one. However, after taking the best logos, the other logo is still unused, so he used that logos for people who were testing their ideas but don‚Äôt have money to spend on good looking logo‚Äôs. And give it free for them, hoping that they would come back and order a custom design later.</p>



<p>And this work for Joven is a stream of clients for three years without any additional marketing.</p>



<p><strong>How Joven came up with the prototype of his idea?</strong></p>



<p>Joven takes two weeks to create it‚Äôs the initial product.<br>He used a theme from ThemeForest as he is not a developer, but he has a good knowledge of customizing ThemeForest themes. Other then theme he purchased a domain and hosting which cost him around $100.</p>



<p>Here are the full steps involved in the two weeks of making initial product<br>1 Sort out best logos and package them for easy download.</p>



<ol start="2"><li>Write down landing page copy and created three different pricing packages</li><li>Customize the theme to match Logolix branding and add all of the logos</li><li>Create the design brief and integrate Typeform into the website.</li><li>Upload the website and make sure everything is functioning correctly (Google Analytics, Typeform, Download feature, Contact form, etc.)</li><li>Prepare the images and copy to launch on Product Hunt</li><li>Launch!</li></ol>



<p>He didn‚Äôt spend too much time on MVP and focused on the product‚Äôs back end and delivering exceptional service.</p>



<p><strong>Since launch what worked for Jovan to attract customers for logolix</strong>.</p>



<p>Joven knows the importance of freemium model people wanted to try something before they purchased it and that realize Joven that founders didn‚Äôt want to spend money on a new logo when just testing their ideas.</p>



<p>For getting customers, he researched where tech founders spend their time online, and that‚Äôs when he found product hunt. He saw many products are launching on product hunt, but the competition for logo design category didn‚Äôt have much competition.</p>



<p>And after a few days later Joven launched Logolix on Producthunt<br>And go to sleep after wake up he saw 11 new inquiries and Logolix got #1 product of the day with 780 upvotes. Logolix got 12000 visits, but the traffic is slowly died off in the next month.</p>



<p>Other then that referral is the most significant source of new clients for logolix.</p>



<p>Logolix started as a side hustle, and Joven doesn‚Äôt have any plan to scale it as it only provides additional income and allow him to work on projects that he likes to enjoy.</p>



<p><strong>Joven future plans with logolix</strong></p>



<p>Joven wants to write a guest post for getting extra exposure for logolix.</p>



<p>Other than that Joven wants to start a unique productized service soon.</p>



<p><strong>Through starting Logolix what challenges Joven faced. And how he overcome those.</strong></p>



<p>The first mistake Joven did is that he get too excited after launch and after checking 12 orders, as he gets one to three clients per month, after seeing 12 orders at once, he gets a burden. He cancelled some order and worked with good earning potential orders if he takes all order and finds a good designer of its level to scale logolix to a different story.</p>



<p>The second mistake was to redesigning logolix landing page several time, which got him to bounce rate.<br>Here Is the lesson: don‚Äôt make massive changes if something is already working, just because you think it will work even better. Follow the data and try to improve your product step-by-step slowly.</p>



<p><strong>Through starting Logolix what Joven learn which is particularly helpful or advantages for him?</strong></p>



<p>I can‚Äôt pinpoint specific advice that helped me, but immersing myself in digital marketing content and the SaaS world gave me many insights. I wouldn‚Äôt have even thought of promoting my logos by giving them away for free if there wasn‚Äôt a SaaS article about freemiums.</p>



<p><strong>Advice from Joven for future entrepreneurs who were starting?</strong></p>



<p>Just start something. You don‚Äôt learn until you launch and nothing will be as you planned. You might fail bad, but take it as a lesson. You might also succeed beyond your wildest predictions.<br>Everything is about the mindset, and this cannot be overstated. I used to be a wantrepreneur and never thought that I could somehow scale my skills beyond selling $200 logos. Start believing in yourself and follow what people on the next level are doing. Don‚Äôt copy, but emulate.</p>



<p>One more piece of advice for anyone in the creative profession is to read Steven Pressfield‚Äôs work. I used to continually battle with procrastination until his books showed me a way out. If you struggle to start a new project or wait until the deadline to complete a task, resistance beats you. You have to learn how to overcome it if you want to achieve something great. Anyways, he‚Äôll explain it much better than me.</p>


<div>
    <div>
        <div>
            <p><a href="https://pondum.com/profile/pondum/" rel="author">
					<img alt="" src="https://secure.gravatar.com/avatar/9055b421ae993acbdf7c415dc5f1ca0b?s=80&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9055b421ae993acbdf7c415dc5f1ca0b?s=160&amp;d=mm&amp;r=g 2x" height="80" width="80" loading="lazy">                </a>
            </p>
            <p><span>
                    
                </span>
				                    <span>
                        <span>Member since</span>
                        <time datetime="2020-12-24 08:29">
                            December 21, 2020                        </time>
                    </span>
				            </p>

			
	    

			
        </div>
		    </div>

	        <div>
            <p><span>Contributor</span>
            </p>
            <div>
                <p><a href="https://pondum.com/profile/omkar/" rel="author">
						<img alt="" src="https://secure.gravatar.com/avatar/60dc37d778466bd4dd06d45445d3641c?s=80&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/60dc37d778466bd4dd06d45445d3641c?s=160&amp;d=mm&amp;r=g 2x" height="80" width="80" loading="lazy">                    </a>
                </p>
            </div>
        </div>
	
	</div>
</div></div>]]>
            </description>
            <link>https://pondum.com/how-the-freemium-model-makes-4k-mrr-for-logolix/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535491</guid>
            <pubDate>Fri, 25 Dec 2020 10:00:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Linux Hardening Guide]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535489">thread link</a>) | @ignoramous
<br/>
December 25, 2020 | https://madaidans-insecurities.github.io/guides/linux-hardening.html | <a href="https://web.archive.org/web/*/https://madaidans-insecurities.github.io/guides/linux-hardening.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    

    <p><i><time datetime="2020-12-25">Last edited: December 25, 2020</time></i></p>

    <div>
      <p><a href="https://madaidans-insecurities.github.io/linux.html">Linux is not a secure operating system</a>. However, there are steps you can take to improve it. This guide aims to explain
      how to harden Linux as much as possible for security and privacy. This guide attempts to be distribution-agnostic and is not tied to any specific one. </p><p>
      
      DISCLAIMER: Do not attempt to apply anything in this article if you do not know exactly what you are doing. This guide is focused purely on security and privacy,
      not performance, usability, or anything else. </p><p>
      
      All commands listed in this guide will require root privileges. Words beginning with "$" sign indicate a variable that may differ between users as to suit their
      setup.
    </p></div>

    <h2>Contents</h2>

    

    <h2 id="choosing-the-right-distro"><a href="#choosing-the-right-distro">1. Choosing the right Linux distribution</a></h2>

    <p>
      There are many factors that go into choosing a good Linux distribution.
    </p>

    <ul>
      <li>
        Avoid distributions that freeze packages as <a href="https://madaidans-insecurities.github.io/linux.html#debian">they are often quite behind on security updates</a>.
      </li>

      <li>
        Use a distribution with an init system other than <a href="https://systemd.io/">systemd</a>. systemd contains a lot of unnecessary
        attack surface; <a href="https://ewontfix.com/14/">it attempts to do far more things than necessary</a> and goes beyond what an
        init system should do. An init system should not need many lines of code to function properly.
      </li>

      <li>
        Use <a href="https://musl.libc.org/">musl</a> as the default C library. musl is heavily focused on minimality which <a href="https://github.com/NixOS/nixpkgs/issues/90147#issuecomment-643473182">results in very small attack surface</a> whereas other C libraries
        such as glibc are overly complex and prone to vulnerabilities. For example, <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-72/product_id-767/GNU-Glibc.html">
        over a hundred vulnerabilities in glibc have been publicly disclosed</a> compared to the <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-16859/product_id-39652/Musl-libc-Musl.html">
        very few in musl</a>. While counting CVEs by itself is often an inaccurate statistic, it can sometimes be used to represent an overaching issue such as
        in this case. musl also has <a href="https://www.dustri.org/b/security-features-of-musl.html"> decent exploit mitigations</a>, particularly its
        <a href="https://www.openwall.com/lists/musl/2020/05/13/1">new hardened memory allocator</a>.
      </li>

      <li>
        Preferably use a distribution that utilizes <a href="https://www.libressl.org/">LibreSSL</a> by default rather than <a href="https://www.openssl.org/">
        OpenSSL</a>. <a href="https://arstechnica.com/information-technology/2014/04/openssl-code-beyond-repair-claims-creator-of-libressl-fork/">OpenSSL contains
        tremendous amounts of totally unnecessary attack surface and follows poor security practices</a>. For example, it still maintains OS/2 and VMS support ‚Äî
        ancient operating systems that are multiple decades old. These abhorrent security practices are what led to the dreaded <a href="https://en.wikipedia.org/wiki/Heartbleed">Heartbleed vulnerability</a>. LibreSSL is a fork of OpenSSL by the OpenBSD team that applies
        <a href="https://en.wikipedia.org/wiki/LibreSSL#Changes">superior programming practices</a> and <a href="https://opensslrampage.org/">eradicates
        a lot of attack surface</a>. Within LibreSSL's first year, <a href="https://www.openbsd.org/papers/libtls-fsec-2015/mgp00005.html">it mitigated a
        large number of vulnerabilities, including a few high severity ones</a>.
      </li>
    </ul>

    <div><p>
      The best distribution to use as a base for your hardened operating system would be <a href="https://www.gentoo.org/">Gentoo Linux</a> as it allows you to configure
      your system exactly how you want it to be which will be extremely useful, especially when we come to <a href="#hardened-compilation-flags">more secure compilation
      flags</a> later in the guide. </p><p>
      
      However, Gentoo may not be feasible for many people due to its significant usability pitfalls. In this case, <a href="https://voidlinux.org/">Void Linux</a>'s musl
      build is a good compromise.
    </p></div>

    <h2 id="kernel"><a href="#kernel">2. Kernels</a></h2>

    <p>
      The kernel is the core of the operating system and is unfortunately very prone to attacks. As Brad Spengler has once said, <a href="https://grsecurity.net/huawei_hksp_introduces_trivially_exploitable_vulnerability">it can be thought of as the largest,
      most vulnerable setuid root binary on the system</a>. Thus, it is very important for the kernel to be hardened as much as possible.
    </p>

    <h3 id="stable-vs-lts"><a href="#stable-vs-lts">2.1 Stable vs. LTS kernels</a></h3>

    <div><p>
      The Linux kernel is released under two main forms: stable and long-term support (LTS). Stable releases are more recent whereas LTS
      releases are an older stable release that is being supported for a long time. <a href="https://www.grsecurity.net/the_truth_about_linux_4_6">
      There are many consequences to choosing either of the aforementioned releases</a>. </p><p>
      
      The Linux kernel <a href="https://grsecurity.net/reports_of_cves_death_greatly_exaggerated">does not use CVEs to identify security
      vulnerabilities properly</a>. This means that fixes for most security vulnerabilities are not able to be backported to LTS kernels;
      but stable releases contain all security fixes made so far. </p><p>
      
      With those fixes however, a stable kernel includes a lot more new features, therefore vastly increasing the attack surface of the
      kernel and introducing a large amount of new bugs. On the contrary, LTS kernels have less attack surface because these features are
      not being constantly added. </p><p>
      
      Additionally, stable kernels include newer hardening features to mitigate certain exploits which LTS kernels do not. A few examples
      of such features are the <a href="https://mjg59.dreamwidth.org/55105.html">Lockdown LSM</a> and <a href="https://a13xp0p0v.github.io/2018/11/04/stackleak.html">STACKLEAK GCC plugin</a>. </p><p>
      
      To conclude, there is a trade-off when choosing a stable or LTS kernel. LTS kernels have less hardening features and not all public bug fixes
      at that point have been backported, but it generally has less attack surface and potentially a smaller chance of introducing unknown bugs.
      Stable kernels have more hardening features and all known bug fixes are included but it also has more attack surface and greater chances of
      introducing more unknown bugs. In the end though, a more recent LTS branch such as the 4.19 kernel would be preferred due to the much smaller
      attack surface.
    </p></div>

    <h3 id="sysctl"><a href="#sysctl">2.2 Sysctl</a></h3>

    <p>
      Sysctl is a tool that allows the user to configure certain kernel settings and enable various security features or disable dangerous
      features to reduce attack surface. To change settings temporarily you can execute:
    </p>

    <pre><code>sysctl -w $tunable = $value</code></pre>

    <div><p>
      To change sysctls permanently you can add the one you want to change to <code>/etc/sysctl.conf</code> or the corresponding files within
      <code>/etc/sysctl.d</code>, depending on your Linux distribution. </p><p>
      
      The following are the recommended sysctl settings that you should change.
    </p></div>

    <h4 id="sysctl-kernel"><a href="#sysctl-kernel">2.2.1 Kernel self-protection</a></h4>

    <pre><code>kernel.kptr_restrict=2</code></pre>

    <p>
      A kernel pointer points to a specific location in kernel memory. <a href="https://kernsec.org/wiki/index.php/Bug_Classes/Kernel_pointer_leak">
      These can be very useful in exploiting the kernel</a> but kernel pointers are not hidden by default ‚Äî it is easy to uncover them by, for example,
      reading the contents of <code>/proc/kallsyms</code>. This setting aims to mitigate kernel pointer leaks. Alternatively, you can set
      <code>kernel.kptr_restrict=1</code> to only hide kernel pointers from processes without the <code>CAP_SYSLOG</code> <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.dmesg_restrict=1</code></pre>

    <p>
      <a href="https://en.wikipedia.org/wiki/Dmesg">dmesg</a> is the kernel log. It exposes a large amount of useful kernel debugging information but this
      can often leak sensitive information such as kernel pointers. Changing the above sysctl restricts the kernel log to the <code>CAP_SYSLOG</code>
      <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.printk=3 3 3 3</code></pre>

    <p>
      Despite the value of <code>dmesg_restrict</code>, the kernel log will still be displayed in the console during boot. Malware that is
      able to record the screen during boot may be able to abuse this to gain higher privileges. This option prevents those information
      leaks. This must be used in combination with certain boot parameters <a href="#boot-kernel">described below</a> to be fully effective.
    </p>

    <pre><code>kernel.unprivileged_bpf_disabled=1
net.core.bpf_jit_harden=2</code></pre>

    <p>
      <a href="https://madaidans-insecurities.github.io/linux.html#kernel">eBPF exposes quite large attack surface</a>. As such, it must be restricted. These sysctls restrict eBPF
      to the <code>CAP_BPF</code> <a href="#capabilities">capability</a> (<code>CAP_SYS_ADMIN</code> on kernel versions prior to 5.8) and enable
      JIT hardening techniques such as <a href="https://github.com/torvalds/linux/blob/9e4b0d55d84a66dbfede56890501dc96e696059c/include/linux/filter.h#L1039-L1070">constant blinding</a>.
    </p>

    <pre><code>dev.tty.ldisc_autoload=0</code></pre>

    <p>
      This <a href="https://lkml.org/lkml/2019/4/15/890">restricts loading TTY line disciplines</a> to the <code>CAP_SYS_MODULE</code>
      <a href="#capabilities">capability</a> to prevent unprivileged attackers from loading vulnerable line disciplines with the <code>TIOCSETD</code>
      ioctl which <a href="https://a13xp0p0v.github.io/2017/03/24/CVE-2017-2636.html">has been abused in a number of exploits before</a>.
    </p>

    <pre><code>vm.unprivileged_userfaultfd=0</code></pre>

    <p>
      The <code><a href="https://man7.org/linux/man-pages/man2/userfaultfd.2.html">userfaultfd()</a></code> syscall is <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=cefdca0a86be517bc390fc4541e3674b8e7803b0">often</a> <a href="https://duasynt.com/blog/linux-kernel-heap-spray">abused</a> to exploit use-after-free flaws. Due to this, this sysctl is used to restrict
      this syscall to the <code>CAP_SYS_PTRACE</code> <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.kexec_load_disabled=1</code></pre>

    <p>
      <a href="https://en.wikipedia.org/wiki/Kexec">kexec is a system call that is used to boot another kernel during runtime</a>. This functionality can
      be abused to load a malicious kernel and gain arbitrary code execution in kernel mode so this sysctl disables it.
    </p>

    <pre><code>kernel.sysrq=4</code></pre>

    <p>
      The <a href="https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html">SysRq key</a> exposes a lot of potentially dangerous debugging functionality
      to unprivileged users. Contrary to common assumptions, SysRq is not only an issue for physical attacks as <a href="https://github.com/xairy/unlockdown">
      it can also be triggered remotely</a>. The value of this sysctl makes it so that a user can only use the <a href="https://www.kernel.org/doc/Documentation/SAK.txt">
      secure attention key</a> which will be necessary for <a href="#accessing-root-securely">accessing root securely</a>. Alternatively, you can simply set the
      value to <code>0</code> to disable SysRq completely.
    </p>

    <pre><code>kernel.unprivileged_userns_clone=0</code></pre>

    <div><p>
      User namespaces are a feature in the kernel which aim to improve sandboxing and make it easily accessible for unprivileged users however, <a href="https://madaidans-insecurities.github.io/linux.html#kernel">this feature exposes significant kernel attack surface for privilege escalation</a> so this sysctl restricts the
      usage of user namespaces to the <code>CAP_SYS_ADMIN</code> <a href="#capabilities">capability</a>. For unprivileged sandboxing,
      it is instead recommended to use a setuid binary with little attack surface to minimize the potential for privilege escalation. This topic is
      covered further in the <a href="#application-sandboxing">sandboxing section</a>. </p><p>
      
      Be aware though that this sysctl only exists on certain Linux distributions as it requires a kernel patch. If your kernel does not include
      this patch, you can alternatively disable user namespaces completely (including for root) by setting <code>user.max_user_namespaces=0</code>.
    </p></div>

    <pre><code>kernel.perf_event_paranoid=3</code></pre>

    

    <h4 id="sysctl-network"><a href="#sysctl-network">2.2.2 Network</a></h4>

    <pre><code>net.ipv4.tcp_syncookies=1</code></pre>

    <p>
      This helps protect against <a href="https://en.wikipedia.org/wiki/SYN_flood">SYN flood attacks</a> which are a form of denial of service attack
      in which an attacker sends a large amount of bogus SYN requests in an attempt to consume enough resources to make the system unresponsive to
      legitimate traffic.
    </p>

    <pre><code>net.ipv4.tcp_rfc1337=1</code></pre>

    <p>
      This protects against <a href="https://tools.ietf.org/html/rfc1337">time-wait assassination</a>‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://madaidans-insecurities.github.io/guides/linux-hardening.html">https://madaidans-insecurities.github.io/guides/linux-hardening.html</a></em></p>]]>
            </description>
            <link>https://madaidans-insecurities.github.io/guides/linux-hardening.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535489</guid>
            <pubDate>Fri, 25 Dec 2020 09:59:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Trading Time for Money]]>
            </title>
            <description>
<![CDATA[
Score 102 | Comments 33 (<a href="https://news.ycombinator.com/item?id=25535366">thread link</a>) | @nicbou
<br/>
December 25, 2020 | https://nicolasbouliane.com/blog/trading-time-for-money | <a href="https://web.archive.org/web/*/https://nicolasbouliane.com/blog/trading-time-for-money">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            <div>
        <article>
            <p>
                Posted on <time datetime="2020-12-24 09:53:00">December 24, 2020</time>
            </p>
                        <p>According to conventional wisdom, if you earn 31‚Ç¨/hour, and a task costs less than that to outsource, then you should always pay someone else to do it. For example, if your cleaning person charges 15‚Ç¨/hour, you save 16‚Ç¨ for every hour you spend at work instead of cleaning your house.</p>
<p>I've encountered this advice quite often, particularly among the wealthier, productivity porn-loving, <em>4-Hour Work Week</em>-thumping entrepreneur crowd.<br></p>
<p>I don't think that advice is quite right.</p>
<h2>Your time is worth less than you think</h2>
<p>There is a hefty tax on converting time to money. In Germany, if you earned the average income (42 421‚Ç¨ per year)<sup><a href="https://www.statista.com/statistics/416207/average-annual-wages-germany-y-on-y-in-euros/">1</a></sup>, you'd lose roughly a quarter of it to income tax<sup><a href="http://www.parmentier.de/steuer/index.php?site=einkommensteuerrechnerjava">1</a></sup>. Your 31‚Ç¨/hour salary<sup><a href="https://www.statista.com/statistics/416207/average-annual-wages-germany-y-on-y-in-euros/">1</a>, <a href="https://clockify.me/working-hours">2</a></sup> is actually worth 24‚Ç¨/hour after taxes.</p>
<p>But there is more to account for: health insurance (7.3%), unemployment insurance (1.25%), public pension (9.3%) and nursing care insurance (1.775%)<sup><a href="http://www.parmentier.de/steuer/index.php?site=lohnsteuerrechnerjava">1</a></sup> are also deducted from your salary. When it's all said and done, you take home about 20‚Ç¨/hour. If you also pay church tax and get the most expensive health insurance, you keep 19‚Ç¨/hour.</p>
<p>So again, if you earn the average 31‚Ç¨/hour, and work the average 1386 hours per year, you save about 4‚Ç¨ per hour - not 16‚Ç¨ - by hiring a cleaning person who charges half your rate.</p>
<p>Taxes aren't the only thing that whittle away your disposable income. You also have some unavoidable expenses, namely rent, groceries and utilities. That's 550‚Ç¨, 150‚Ç¨ and 100‚Ç¨ per month for a single, thrifty Berliner. That's 35% of your take-home salary, so you're left with 12.50‚Ç¨/hour in disposable income. At this point, I'm including decimals, because they start to matter.</p>
<p>In other words, you must sell 72 minutes of your life to buy 60 minutes of your cleaning person's life, even though you earn twice as much.</p>
<p>Here's a recap for the mathematically inclined:</p>
<pre>hourly_disposable income = (
    (gross_income - income_tax)
    - health_insurance
    - unemployment_insurance
    - pension_insurance
    - nursing_care_insurance
    - (rent + groceries + utilities) * 12
) / hours_worked_per_year</pre>
<p>Keep in mind that this describes the reality in Germany, where people work much less, but pay higher taxes. You will get wildly different results in your own country.</p>
<h2>Outsourcing costs more than you think</h2>
<p>Eating out is often used as an example of trading money for time. It's faster than cooking your own food: no shopping, no cooking, no cleaning.<br></p>
<p>In Berlin, you can get a square meal for 10‚Ç¨. A croissant, a coffee and two square meals would set you back 20‚Ç¨ a day. By comparison, my grocery bill is 5‚Ç¨ a day. That's a 450‚Ç¨/month difference, or 37.5 hours of your time (see above), but you'd probably spend that much time between the supermarket and the kitchen anyway.<br></p>
<p>However, getting to&nbsp;the restaurant, ordering, waiting for your food, then waiting for the bill takes time too. Personally, I&nbsp;find cooking every other day more convenient  than eating out twice a day. Eating out only makes sense when I'm too tired to cook.<br></p>
<p>This also applies to hiring professionals. You still need time to find one and to work with their schedule. I can change the oil or the brakes on my motorcycle in about 30 minutes. It takes me about as long to drop my bike off at the dealership, but I&nbsp;have to do it during office hours, and wait a few days to get it back.<br></p>
<p>In short, outsourcing your work does not always make life easier. It can lighten your mental load, but so does working less by having lower expenses.<br> </p>
<h2>Time is not a liquid asset</h2>
<p>In practice, you don't get to choose how much of your time you sell.&nbsp;If your expenses are covered, you just can't stop going to work. If you need more money, you could work more, but rarely on your own terms, just when you need to. You couldn't sell an extra 2 hours of programming on a Thursday night, because you have nothing else going on.&nbsp; There's also a limit on how much time you can sustainably sell, regardless of demand - about 60 hours a week.<br></p>
<p>You can't choose which time you sell either. Most employers will only buy your office hours. You can't decide to work night shifts, or to work 80 hour weeks in the winter, then take the summer off. You can't even decide where to allocate the time you <em>didn't</em> sell. Your employer usually decides when you take your lunch breaks, and when you can use your holidays. If you're on call, even your free time isn't quite yours.</p>
<p>In other words, you don't really trade more time at the office for less time cleaning your house. You're stuck at the office for 40 hours a week regardless, so you're just using some of your fixed budget. However, if you <em>don't</em> hire a cleaning person, and you don't spend your money, then you can buy some&nbsp;of your time back later, either as a gap year, or as an early retirement.</p>
<p>As a freelancer, you have much more control over what time you sell, and in which amount. Nonetheless, you are still bound to standard contract lengths, to the limits of your body, and to cyclical demand in your industry. A freelance accountant likely won't take time off during tax season. A freelance developer will mostly find 3 to 6 month contracts.<br></p>
<p>Put shortly, time is not a liquid asset. You can't easily  sell more or less of it according to your needs.</p>
<h2>Time does not have a fixed value</h2>
<p>Let's pretend that your boss lets you work for as long as you need, whenever you need to. You could spend an extra hour at the office, and pay someone to save you an hour of cleaning.</p>
<p>I'd make that deal. Swearing at my computer brings me joy, but doing the dishes doesn't. I'd gladly trade a few hours of programming for a few hours of cleaning.</p>
<figure><img src="https://nicolasbouliane.com/images/_fullWidth2x/good-time.jpg" alt=""><figcaption>My definition of a good time</figcaption></figure>
<p>After 30 hours a week, I'd start to value my time at the office a bit more. I'd rather spend that time at home, sipping a beer on my balcony with a pie in the oven, so I&nbsp;wouldn't be so keen to sell it.</p>
<p>After 50 hours, I'd be selling my time at a much higher price. There's a point where work takes a toll on your body, and seeps into other aspects of your life.&nbsp;By then, menial work feels like a release, rather than a chore.</p>
<p>Unless you&nbsp;<em>really</em> like your job, there comes a point where you'd rather do something else, even if has a lower market value than your profession.<br></p>
<h2>The hidden benefits of doing it yourself</h2>
<p>The most understated benefit of doing things yourself is the skills and the tools you acquire along the way. Your cooking gets better and more diversified with every meal you cook. Bike repairs get cheaper and easier with every attempt. Those skills stay with you, and over time, the benefits compound. You can tackle bigger and bigger projects, and the results look better and better.</p>
<figure><img src="https://nicolasbouliane.com/images/_fullWidth2x/level-up.jpg" alt=""></figure>
<p>Outsourcing, on the other hand, doesn't get better and cheaper. It either gets better and more expensive, or cheaper and worse. This ties your quality of life to a single variable: your income. Your lifestyle is much more reliant on your ability to stay employed, because it's the only thing you can do.<br></p>
<p>Beyond that, doing things yourself is immensely rewarding. Wrenching on your own motorcycle feels good. Delighting your guests with a home-cooked meal feels good. Using shelves you built yourself feels good. These are direct products of your hard work, and symbols of the control you have over your environment.</p>
<p>I'd also argue that it gives you a greater appreciation for the world you live in. It allows you to see things beyond the surface. Musicians appreciate music on a different level,
 and the same can be said for gardeners, machinists, architects and 
every other kind of enthusiast. My fledgling interest in gardening quite literally made me see the forest for the trees.<br></p>
<p>Paying someone else to do it robs you of this joy. Climbing through the career ladder provides its own rewards, but those always felt too abstract to me. If I  indirectly make my company a little leaner, I&nbsp;get 4% more disposable income. Big whoop.</p>
<h2>Caveats</h2>
<p>Some tasks don't develop useful skills. They don't get easier, cheaper or more enjoyable with time. Chores are chores, and some work is just plain tedious. No matter how good I&nbsp;get at painting walls, I still hate it with a passion.&nbsp;My father fixed cars his entire life, and he won't change his oil in the winter, when the car is caked in&nbsp;slush.</p>
<p>Life is short, and the 40 hour work week isn't going anywhere, so it's okay to spare your free time for things you enjoy. That's worth paying a premium for.</p>
<p>Even if you enjoy doing something, the timing isn't always right.&nbsp;I found that my motorcycle's front rim was bent just before leaving for a 3 month trip. I already had a lot on my plate with work and trip preparations, so I paid a mechanic to do it. Outsourcing lets you solve multiple problems in parallel.</p>
<p>In some cases, the upfront cost of doing things yourself is just too high. I won't resurface my motorcycle's cylinder head at home, because the tools cost more than my net worth, and highly trained machinists will do it for 100‚Ç¨.&nbsp;Sometimes, it's better to let economies of scale do their thing.</p>
<p>In other cases, the running costs are too high. All those things you maintain will chip away at your free time. In aggregate, they can swallow your evenings. For example, think twice about running your own server to save a few euros per month. These needy buggers tend to require your attention at the most inopportune times. Outsourcing means someone else is taking care of it, and invoicing you once a month.</p>
<p>Sometimes, the risk isn't worth the potential savings. It's important to learn how to do things yourself, but don't bite off more than you can chew. Don't cause hundreds of euros worth of damage to save a few euros. Hire a professional, and let them do their job.&nbsp;If they cock up, <em>they</em> are liable to fix the mess, not you.</p>
<h2>Conclusion</h2>
<p>Yes, outsourcing has its time and place, but it's more expensive than it appears. Sometimes, it's better to do things yourself, and acquire useful skills ‚Ä¶</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolasbouliane.com/blog/trading-time-for-money">https://nicolasbouliane.com/blog/trading-time-for-money</a></em></p>]]>
            </description>
            <link>https://nicolasbouliane.com/blog/trading-time-for-money</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535366</guid>
            <pubDate>Fri, 25 Dec 2020 09:30:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Manifesto for Slow Thinking in Projects]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535204">thread link</a>) | @alanfranz
<br/>
December 25, 2020 | https://overthefence.com.de/manifesto/?lang=en | <a href="https://web.archive.org/web/*/https://overthefence.com.de/manifesto/?lang=en">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

	<!-- mfn_hook_top --><!-- mfn_hook_top -->
	
	
	<div id="Wrapper">

		
		
		

		
		<!-- mfn_hook_content_before --><!-- mfn_hook_content_before -->
<div id="Content">
	<div>

		<div>

			<div itemprop="mainContentOfPage">

				<div><div><div><div><div><div><p><img src="https://overthefence.com.de/wp-content/uploads/2019/03/Manifesto-banner_small.png" alt="Manifesto" title=""></p></div>
</div></div></div></div></div><div><div><div><div><div><p><span>We are uncovering better ways of collaborating in interdisciplinary projects. We appreciate the value of: </span></p></div><div><div><div>
<ul>
<span color="#ee7224"><b>
 <li>Questions</li>
 <li>Observations</li>
 <li>Change of perspective</li>
 <li>Self-reflection</li>
</b></span>
</ul>
</div>
<div>
<ul>
<span color="#A2A2A2">
<li>before</li>
<li>before</li>
<li>before</li>
<li>before</li>
</span>
</ul>
</div>
<div>
<ul><b>
 <li>answers</li>
 <li>evaluations</li>
 <li>point of view</li>
 <li>criticism</li>
</b></ul>
</div></div></div><div><div><p><span>People tend to ‚Äúthink fast‚Äù*. This can lead to undesirable effects. The items on the left side facilitate ‚Äúslow thinking‚Äù. They improve the quality of the right side and should therefore be applied consciously and intensively.</span><br>
<span color="#ee7224">Apply the items on the left side one time more than your intuition tells you to!</span></p><p><span color="#cecece">*‚ÄùFast thinking‚Äù and ‚Äúslow thinking‚Äù refer to the work of Nobel Prize in Economics winner Daniel Kahneman. Thousands of people have already incorporated the manifest for slow thinking into their daily work. Apply it for your purposes too!</span></p></div></div></div></div></div></div><div><div><div><div><div><p><h3><span color="#ffffff">Yes, I want to sign the manifesto!</span></h3></p></div></div></div></div></div><div><div><div><div><div><p><span color="#cecece"><p>Once you've signed the manifesto, your name will appear on the list below. Your email address is for confirmation only and won't appear on the website. We do neither share your personal data with any third party nor use it for any other purposes. </p></span>

















</p></div></div></div></div></div><div><div><div><div><div><div><div id="participants-list-2">
    <table>

              

    
      <thead>
        <tr>
          <th scope="col">First Name</th><th scope="col">Last Name</th><th scope="col">Country</th>        </tr>
      </thead>

      <tbody>
                    <tr>
    
              <td>
      Rajshree              </td>

          
              <td>
      .              </td>

          
              <td>
      India              </td>

                    </tr>
            <tr>
    
              <td>
      Nadim              </td>

          
              <td>
      Abdulrashid              </td>

          
              <td>
      UAE              </td>

                    </tr>
            <tr>
    
              <td>
      Jacob              </td>

          
              <td>
      Abrahams              </td>

          
              <td>
      Netherlands              </td>

                    </tr>
            <tr>
    
              <td>
      Ulrich              </td>

          
              <td>
      Ackermann              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      HEMANT              </td>

          
              <td>
      AGARWAL              </td>

          
              <td>
      Sweden              </td>

                    </tr>
            <tr>
    
              <td>
      Olaia              </td>

          
              <td>
      Agirre              </td>

          
              <td>
      Spain              </td>

                    </tr>
            <tr>
    
              <td>
      Angel              </td>

          
              <td>
      Agueda Barrero              </td>

          
              <td>
      Spain              </td>

                    </tr>
            <tr>
    
              <td>
      Fabrice              </td>

          
              <td>
      Aimetti              </td>

          
              <td>
      France              </td>

                    </tr>
            <tr>
    
              <td>
      Khurshid              </td>

          
              <td>
      Akbar              </td>

          
              <td>
      Canada              </td>

                    </tr>
            <tr>
    
              <td>
      Jeremy Nathaniel              </td>

          
              <td>
      Akers              </td>

          
              <td>
      Netherlands              </td>

                    </tr>
            <tr>
    
              <td>
      nikolaus              </td>

          
              <td>
      albrecht              </td>

          
              <td>
      Deutschland              </td>

                    </tr>
            <tr>
    
              <td>
      David              </td>

          
              <td>
      Alisauski              </td>

          
              <td>
      United States              </td>

                    </tr>
            <tr>
    
              <td>
      David              </td>

          
              <td>
      Allen              </td>

          
              <td>
      USA              </td>

                    </tr>
            <tr>
    
              <td>
      Chris              </td>

          
              <td>
      Altmikus              </td>

          
              <td>
      Switzerland              </td>

                    </tr>
            <tr>
    
              <td>
      Fatima              </td>

          
              <td>
      Altumbabic              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      Yannick              </td>

          
              <td>
      AMEUR              </td>

          
              <td>
      France              </td>

                    </tr>
            <tr>
    
              <td>
      Thomas              </td>

          
              <td>
      Andersen              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      Jon              </td>

          
              <td>
      Aristi              </td>

          
              <td>
      Spain              </td>

                    </tr>
            <tr>
    
              <td>
      Helga              </td>

          
              <td>
      Artelt              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      Milton              </td>

          
              <td>
      Artunduaga              </td>

          
              <td>
      Colombia              </td>

                    </tr>
            <tr>
    
              <td>
      Andreas              </td>

          
              <td>
      Aulinger              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      Franziska              </td>

          
              <td>
      B.              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      Christian              </td>

          
              <td>
      Baeriswyl              </td>

          
              <td>
      Switzerland              </td>

                    </tr>
            <tr>
    
              <td>
      Ivo              </td>

          
              <td>
      Baeriswyl              </td>

          
              <td>
      Schweiz              </td>

                    </tr>
            <tr>
    
              <td>
      Oliver              </td>

          
              <td>
      Baier              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      aslan              </td>

          
              <td>
      balik              </td>

          
              <td>
      turkey              </td>

                    </tr>
            <tr>
    
              <td>
      Benjamin              </td>

          
              <td>
      Barth              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      Nicole              </td>

          
              <td>
      Bartko              </td>

          
              <td>
      Germany              </td>

                    </tr>
            <tr>
    
              <td>
      Sam              </td>

          
              <td>
      Bates              </td>

          
              <td>
      UK              </td>

                    </tr>
            <tr>
    
              <td>
      Kerry              </td>

          
              <td>
      Batt              </td>

          
              <td>
      Australia              </td>

                    </tr>
        </tbody>


  </table>
  </div></div></div></div></div></div></div>
				

			</div>

			
		</div>

		
	</div>
</div>


<!-- mfn_hook_content_after --><!-- mfn_hook_content_after -->

	

</div>




<!-- mfn_hook_bottom --><!-- mfn_hook_bottom -->
<!-- Cookie Bar -->
<p>Lust auf Kekse? Wenn Du hier weitermachst, akzeptierst Du unsere <a href="https://overthefence.com.de/cookie-policy?lang=de" target="_blank" rel="nofollow">Verwendung von Cookies</a>. // Wanna have cookies? By continuing, you are agreeing to our <a href="https://overthefence.com.de/cookie-policy?lang=en" target="_blank" rel="nofollow">use of cookies</a>. </p>
<!-- End Cookie Bar -->






















</div>]]>
            </description>
            <link>https://overthefence.com.de/manifesto/?lang=en</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535204</guid>
            <pubDate>Fri, 25 Dec 2020 08:51:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I've Never Been a Businessman]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535171">thread link</a>) | @Tomte
<br/>
December 25, 2020 | https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html | <a href="https://web.archive.org/web/*/https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="screen">

<div>
<div>
    
    <section>
        <h2>Mit Werbung weiterlesen</h2>
        <p>Besuchen Sie Golem.de wie gewohnt mit Werbung und Tracking, indem Sie der Nutzung aller Cookies zustimmen.
            Details zum Tracking finden Sie
            <!-- in der <a target="_blank" href="https://www.golem.de/sonstiges/Datenschutz.html">Datenschutz&shy;erkl&auml;rung</a> und -->
            im <span id="gsptextpc1">Privacy Center</span>.
        </p>
        <p id="loadhint">
                Skript wurde nicht geladen. Informationen zur Problembehandlung finden Sie
                <a href="https://www.golem.de/sonstiges/techinfo.html" target="_blank">hier</a>.
        </p>
        <div>
            
            <p id="gspcookiehint">Um der Nutzung von Golem.de mit Werbung zustimmen zu k√∂nnen,
                m√ºssen Cookies in Ihrem Browser aktiviert sein. Weitere Informationen finden Sie
                <a href="https://www.golem.de/sonstiges/techinfo.html" target="_blank">hier</a>.
            </p>
            <p id="gspiframehint">Die Zustimmung in einem iFrame ist nicht m√∂glich.<br>
                <a href="#" onclick="GolemConsent.redirectBack(true);">Seite in eigenem Fenster √∂ffnen</a>.
            </p>
            <p id="fallbackhint">Der Zustimmungs-Dialog konnte nicht korrekt geladen werden,
                eine Zustimmung gilt nur vorl√§ufig. Informationen zur Problem¬≠behandlung finden Sie
                <a href="https://www.golem.de/sonstiges/techinfo.html" target="_blank">hier</a>.
            </p>
        </div>
        <p>
            Die M√∂glichkeit zum Widerruf finden Sie
            in unserer <a target="_blank" href="https://www.golem.de/sonstiges/Datenschutz.html#Widerruf">Datenschutz¬≠erkl√§rung</a>
            oder √ºber den Link <span id="gsptextpc2">Cookies &amp; Tracking</span> am Ende jeder Seite.
        </p>
    </section>
    
    <section>
        <h2>‚Ä¶ oder Golem pur bestellen</h2>
        <p>Mit Golem pur ab 3 Euro pro Monat k√∂nnen Sie Golem.de ohne Analyse- und
            Werbe¬≠cookies nutzen, es kommen nur f√ºr unser Angebot erforderliche Cookies zum Einsatz.
        </p>
        <a target="_blank" href="https://redirect.golem.de/nl.php?id=account_cta_cmp">Zu Golem pur</a>
        <p id="loginhint">
        Bereits Pur-Leser?
        <a href="https://account.golem.de/user/login?redirect=https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html">Hier anmelden</a>.            <span id="nosubhint">Kein aktives Abo vorhanden.</span>
        </p>
    </section>
    <div>
        
        <div>
            <details>
                <summary>Informationen auf einem Ger√§t speichern und/oder abrufen</summary>
                <p>F√ºr die Ihnen angezeigten Verarbeitungszwecke k√∂nnen Cookies, Ger√§te-Kennungen
                    oder andere Informationen auf Ihrem Ger√§t gespeichert oder abgerufen werden.
                </p>
            </details>
            <details>
                <summary>Personalisierte Anzeigen und Inhalte, Anzeigen- und Inhaltsmessungen, Erkenntnisse √ºber Zielgruppen und Produktentwicklungen</summary>
                <p>Anzeigen und Inhalte k√∂nnen basierend auf einem Profil personalisiert werden.
                    Es k√∂nnen mehr Daten hinzugef√ºgt werden, um Anzeigen und Inhalte besser zu personalisieren.
                    Die Performance von Anzeigen und Inhalten kann gemessen werden.
                    Erkenntnisse √ºber Zielgruppen, die die Anzeigen und Inhalte betrachtet haben, k√∂nnen abgeleitet werden.
                    Daten k√∂nnen verwendet werden, um Benutzerfreundlichkeit, Systeme und Software aufzubauen oder zu verbessern.
                </p>
            </details>
            <details>
                <summary>Genaue Standortdaten verwenden</summary>
                <p>Es k√∂nnen genaue Standortdaten verarbeitet werden,
                    um sie f√ºr einen oder mehrere Verarbeitungszwecke zu nutzen.
                </p>
            </details>
        </div>
    </div>
    
</div><!-- c2_content -->
</div><!-- c2_wrapper -->

</div></div>]]>
            </description>
            <link>https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535171</guid>
            <pubDate>Fri, 25 Dec 2020 08:44:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Communication in Development Teams]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25534925">thread link</a>) | @stebunovd
<br/>
December 24, 2020 | https://teamplify.com/blog/improving-communication/ | <a href="https://web.archive.org/web/*/https://teamplify.com/blog/improving-communication/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
  

  <p>
    <span>December 7, 2020</span>
    <span>‚óè</span>
    
  </p>

  <p>
    In software development, communicating productively is as important as
    writing quality code quickly. Maybe even more important - studies show that
    most problems in software projects are in fact communication problems.
  </p>

  
  <h2 id="why-focus-on-communication">
    <a href="#why-focus-on-communication">Why focus on communication?</a>
  </h2>


  <p>
    On the Internet, you can find many articles and studies about
    <a href="https://www.google.com/search?q=why+software+projects+fail" rel="noopener noreferrer" target="_blank">
      why software projects fail
    </a>. They cite different reasons, for example:
  </p>

  <ul>
    <li>Lack of understanding of business needs;</li>
    <li>Vague or poorly communicated requirements;</li>
    <li>Unrealistic timelines or expectations;</li>
    <li>False belief that scope can be defined upfront;</li>
    <li>Inadequate planning;</li>
    <li>Too many or too few people assigned to a project;</li>
    <li>Poor reporting of project status;</li>
    <li>Unmanaged risks;</li>
    <li>... and so on.</li>
  </ul>

  <p>
    If you look closer, you'll notice that these reasons point to one thing in
    common: a disconnect between management and developers. So removing this
    disconnect should yield great returns.
  </p>

  
  <h2 id="does-it-mean-we-should-talk-more">
    <a href="#does-it-mean-we-should-talk-more">Does it mean we should talk more?</a>
  </h2>


  <p>
    What would improve communication between developers and management? This is
    a broad topic, but one idea's obvious: they must communicate frequently
    enough to be on the same page about goals, requirements, priorities, work
    progress, project challenges, and risks.
  </p>

  <p>
    This creates another problem though: to be productive, developers need
    prolonged periods of quiet time. They need to do focused work, without
    distractions. Meetings distract developers from writing code. And waiting
    for the meeting can be even worse. If people know they'll be interrupted
    soon, they'll feel discouraged from starting anything big. Paul Graham
    wrote a great article about this -
    <a href="http://www.paulgraham.com/makersschedule.html" rel="noopener noreferrer" target="_blank">
      Maker's Schedule, Manager's Schedule
    </a>.
  </p>

  <p>
    Ok, so on one hand we need to talk to developers, but on the other we
    shouldn't distract them so much that they can't be productive. Finding this
    delicate balance may be hard, but we can make the job easier by removing
    trivial questions from the discussion. Below I'll give some examples of how
    well organized processes and technology can help us talk less, but do more.
  </p>

  
  <h2 id="stop-asking-whos-working-on-what">
    <a href="#stop-asking-whos-working-on-what">Stop asking who's working on what</a>
  </h2>


  <p>
    One such trivial question is ‚ÄúWho's working on what?‚Äù Isn't that what the
    task tracker's for? All task trackers incorporate concepts like Assignee
    and Status. When tasks are accurately assigned with up-to-date statuses,
    you'll have immediate visibility about who's working on what and how long
    they've been working on it. Besides that, you may occasionally need to
    return to old completed tasks. Having an accurate task history helps you
    return easily.
  </p>

  <p>
    Though task tracking sounds simple, in practice it requires a manager's
    effort to keep your task tracker in good shape. People may forget to switch
    task statuses, or assign tasks to themselves. Someone might not have a task
    in progress at all. Someone else might have multiple tasks in progress,
    which once again, doesn't tell us what exactly they're working on.
  </p>

  <p>
    That's why we created these "In progress"
    <a href="https://teamplify.com/notification-types/">notifications</a>
    in Teamplify:
  </p>

  <p>
    <img alt="No issues in progress" src="https://cdn.teamplify.com/blog/img/no-issues-in-progress.png?3471" srcset="https://cdn.teamplify.com/blog/img/no-issues-in-progress@2x.png?3471 2x">
  </p>

  <p>
    Teamplify connects to your task tracker, like Jira or Trello. If it's not
    clear what developers are working on, it will politely ask, in Slack or
    over email, to update their task status. These notifications are smart and
    unobtrusive. They also take all kinds of non-working days into
    consideration, so they won't disturb your teammates on their vacation.
    More on that later.
  </p>

  
  
  <h2 id="make-work-progress-visible">
    <a href="#make-work-progress-visible">Make work progress visible</a>
  </h2>


  <p>
    Today, almost every development team uses at least some version of these
    collaboration tools:
  </p>

  <ul>
    <li>code hosting - for example, GitHub or GitLab;</li>
    <li>task tracker - Jira, Trello, or similar;</li>
    <li>chat - many teams use Slack;</li>
    <li>video conferencing software, such as Zoom.</li>
  </ul>

  <p>
    These tools are usually shared with the whole team, so any team member can
    take a look and learn something about work progress. Unfortunately,
    looking over each tool is not a convenient way to learn what the team has
    been busy on. Because the information is fragmented, not everyone will be
    willing to dig through it. It's much easier to ask about the status in a
    meeting.
  </p>

  <p>
    That's why we created the Team Calendar view, which collects all the work
    activity from your team tools and puts it in one place. It also shows
    national holidays, vacations, sick days, and other
    <a href="https://teamplify.com/member-status/">member statuses</a>:
  </p>

  <p>
    <img alt="Team Calendar" src="https://cdn.teamplify.com/blog/img/team-calendar.png?3471" srcset="https://cdn.teamplify.com/blog/img/team-calendar@2x.png?3471 2x">
  </p>

  <p>
    The calendar displays the most important types of team work activity,
    including code commits, task updates, and communication over video and chat.
    It also automatically detects when someone mentions a task in chat messages
    and code commits. For example, if a task was discussed somewhere in Slack,
    you'll see it, and be able to click directly to that discussion.
  </p>

  <p>
    Better visibility into work progress means better informed managers, with
    less need for meetings and less developer distractions.
  </p>

  
  <h2 id="make-time-off-visible">
    <a href="#make-time-off-visible">Make time-off visible</a>
  </h2>


  <p>
    Time off plays an important role in short-term project planning. Even in
    small organizations, people don't always remember who's going on vacation
    next week. And if your team is distributed, it's quite easy to forget about
    other country's national holidays.
  </p>

  <p>
    When someone's absence is a surprise, it's not good for your project.
    Making time-off clearly visible helps people better plan around it.
  </p>

  <p>
    That's why we added time-off management to Teamplify. National holidays,
    vacations, sick days, and other
    <a href="https://teamplify.com/member-status/">member statuses</a> are visible on the
    <a href="#make-work-progress-visible">Team Calendar</a> mentioned above.
    You can also configure notifications for Slack or email:
  </p>

  <p>
    <img alt="Sick day notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-sick-day.png?3471" srcset="https://cdn.teamplify.com/blog/img/slack-sick-day@2x.png?3471 2x">
  </p>

  <p>
    Even if people miss the notification and mention someone who is absent
    today, Teamplify will politely remind them:
  </p>

  <p>
    <img alt="Time off friendly reminder" src="https://cdn.teamplify.com/blog/img/slack-friendly-reminder.png?3471" srcset="https://cdn.teamplify.com/blog/img/slack-friendly-reminder@2x.png?3471 2x">
  </p>

  <p>
    You can also request a vacation or add another status via the Teamplify
    Slack bot, so you can manage off time without leaving Slack.
  </p>

  
  <h2 id="identify-stuck-progress">
    <a href="#identify-stuck-progress">Identify stuck progress</a>
  </h2>


  <p>
    Even the best and brightest developers get stuck sometimes. There may be an
    unexpected technical problem, or maybe the task turns out to be more
    difficult than previously thought. In such cases, brainstorming with
    colleagues may help find a solution or an alternative path and boost the
    progress significantly.
  </p>

  <p>
    If we haven't seen any code activity from a developer in a while, it
    doesn't necessarily mean that they're stuck, but it might signal a good
    time to check if everything's alright.
  </p>

  <p>
    <img alt="No recent commits notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-no-recent-commits.png?3471" srcset="https://cdn.teamplify.com/blog/img/slack-no-recent-commits@2x.png?3471 2x">
  </p>

  <p>
    Stuck communication is just another form of stuck progress. This could be a
    lengthy discussion without any productive decision. More often, it's just a
    question that's been waiting too long for an answer:
  </p>

  <p>
    <img alt="Pending questions notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-pending-questions.png?3471" srcset="https://cdn.teamplify.com/blog/img/slack-pending-questions@2x.png?3471 2x">
  </p>

  <p>
    If a bot can politely remind your correspondent about your pending
    question, it means you don't have to. Besides that, bot notifications are
    sometimes better perceived. If a person reminds you every day about pending
    questions, it might be annoying. But if a bot does the same - it's probably
    okay, because, you know, it's just a bot.
  </p>

  
  <h2 id="bottom-line">
    <a href="#bottom-line">Bottom line</a>
  </h2>


  <p>
    When communication improvements add up, the result is a more productive
    work environment, where people are better informed and spend less time on
    discussing trivial questions. We have a lot of complex problems to solve,
    let's focus on them instead.
  </p>

    </div>
  </div></div>]]>
            </description>
            <link>https://teamplify.com/blog/improving-communication/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534925</guid>
            <pubDate>Fri, 25 Dec 2020 07:32:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The impact of Apple Silicon Macs on Broadway]]>
            </title>
            <description>
<![CDATA[
Score 234 | Comments 271 (<a href="https://news.ycombinator.com/item?id=25534863">thread link</a>) | @da02
<br/>
December 24, 2020 | https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/ | <a href="https://web.archive.org/web/*/https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container"><main><article role="article"><div><p>In a previous life, I was an electronic music designer working on Broadway shows in New York City. Broadway shows look glamorous and expensive on the outside, but it‚Äôs often quite the opposite on the inside ‚Äì&nbsp;at least for the music department. One of the toughest parts of my job as an electronic music designer was to find the best performance-to-cost ratio for computer rigs powering keyboards, guitars, playback tracks, and more.</p><p>Over the past decade, Broadway has replaced large sections of traditional orchestras with synthesizers, playback systems, and electronic drum pads. I‚Äôm not in support of that, but that‚Äôs a story for another day. The point here is that Broadway‚Äôs reliance on computer-driven rigs has increased, while the typical budget required to build high-end stable rigs hasn‚Äôt increased at the same rate.</p><p>Some shows I‚Äôve worked at set aside a $10,000-$12,000 budget for two keyboard rigs. That sounds like a lot of money at first, but it‚Äôs not. For live shows, it‚Äôs usually best to have a 1:1 backup in case the main rig fails. That fact alone means you have to design a rig that fits within 50% of the proposed budget. Furthermore, a high-quality keyboard controller alone is $1,500-2,000 ‚Äì&nbsp;so that means there‚Äôs $3,000 left for a computer and everything else.</p><p>Due to budget constraints, many shows end up using Mac minis. Historically speaking, the Mac mini‚Äôs computing power has been a bottleneck for electronic music designers on Broadway. In a perfect world, we‚Äôd all like to use the best-sounding sample libraries for our work, but that was never feasible with the Mac mini. Thus, the compromise was always to reduce sound quality to fit within the Mac mini‚Äôs compute constraints.</p><p>Apple Silicon changes everything for Broadway electronic music designers. The new M1 Mac mini is capable of running high-end sample libraries and virtual instruments in a stable manner, and it‚Äôs only going to get better with M2, M3, and M4-series chips in the future. The performance per dollar characteristics of Apple Silicon machines are going to have a huge impact on Broadway‚Äôs sound, and I‚Äôm very excited to see, or hear, what happens.</p></div></article></main></div></div>]]>
            </description>
            <link>https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534863</guid>
            <pubDate>Fri, 25 Dec 2020 07:14:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learning to Play the Chaos Game]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25534794">thread link</a>) | @hardmath123
<br/>
December 24, 2020 | https://hardmath123.github.io/chaos-game-fractal-foliage.html | <a href="https://web.archive.org/web/*/https://hardmath123.github.io/chaos-game-fractal-foliage.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="postcontent">
            <section>
                
                <center><em><p>I, Thomasina Coverly, have found a truly wonderful method whereby all the forms of nature must give up their numerical secrets and draw themselves through number alone‚Ä¶</p>
</em></center>
                <h4>Friday, December 25, 2020 ¬∑ 7 min read</h4>
<p>It‚Äôs Christmastime again! Shall we talk about trees? This post is about my new
holiday hobby: hallucinating tree-shaped fractals using our old friend,
gradient descent.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/tree-building.gif" alt="Christmas tree"></p>
<hr>
<p>But ‚Äî let me start at the beginning. For a variety of reasons, the cover
image of Douglas Hofstadter‚Äôs <a href="https://en.wikipedia.org/wiki/I_Am_a_Strange_Loop"><em>I am a Strange
Loop</em></a> has been on my mind
this month. I have been thinking a lot about this wonderful image created by
pointing a camera at a projector that displays what the camera is seeing. In
modern terms: what happens if you screen-share the screen sharing window? This
happens:</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/strange-loop.png" alt="from the cover of the book"></p>
<p>Such ‚Äúfeedback loop‚Äù recursions often rapidly converge to breathtaking
fixed-points. The NYC MoMath even has an <a href="https://momath.org/25-feedback-fractals-1/">art
installation</a> that lets you play
with a camera-and-projector setup to make <a href="https://twitter.com/momath1/status/824740594564075520">wonderful
patterns</a>.</p>
<p>As you can imagine, there is a mathematical theory here. At risk of ruining the
mystery, I will tell you about it, though without writing any equations. :-)
The theory is the theory of <a href="https://en.wikipedia.org/wiki/Iterated_function_system">Iterated Function
Systems</a>, which is
almost exactly what it sounds like. Start with a set of affine functions
(affine because that‚Äôs what camera-projector-systems do) and repeatedly apply
them to a set of points, taking the union at each step. Regardless of where you
start, you will soon end up with a fractal structure which is the fixed point
of the system. Why fractal? ‚Äîbecause the self-similarity comes from the
infinitely-nested composition of the affine functions.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/Ifs-construction.png" alt="from Wikipedia"></p>
<p>There are theorems that ensure convergence towards and uniqueness of this fixed
point in the limit, but‚Ä¶ it‚Äôs believable enough, don‚Äôt you think? Following
your intuition, you can build Sierpinski Triangles and <a href="https://en.wikipedia.org/wiki/Barnsley_fern">Barnsley
Ferns</a> and all sorts of other
beautiful structures using an IFS. I refer you to Section 8.2 of <a href="http://algorithmicbotany.org/papers/#abop"><em>The
Algorithmic Beauty of Plants</em> by Prusinkiewicz and Lindenmayer (yes, <em>that</em>
Lindenmayer)</a> for more botanical
connections.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/Fractal_fern_explained.png" alt="from Wikipedia"></p>
<hr>
<p>Now here is the question that has been on my mind: if I give you a picture of a
fractal-fern, can you give me a set of affine functions whose fixed point is
that fern? This is the <a href="https://en.wikipedia.org/wiki/Iterated_function_system#The_inverse_problem"><em>inverse
problem</em></a>
for IFSes. According to Wikipedia, this problem has real-world applications in
image compression, but it is <em>hard</em> to do in general.</p>
<p>Hmm. Interesting. Can our favorite tool, gradient descent, come to the rescue?
At least in an approximate sense? Recall that a two-dimensional affine function
is really just a 3x3 matrix (with 6 free parameters) that encodes the details
of the transformation. If we could easily compute images of IFS fixed points
from a set of matrices, then perhaps we could try to optimize the parameters of
these matrices to make the fixed point look the way we want it to.</p>
<p>The challenge, of course, is efficiently <em>finding</em> the fixed point ‚Äî
repeatedly rasterizing and compositing affine transformations on images sounds
expensive ‚Äî and doing so differentiably sounds like a scalability nightmare!
But there is a wonderful solution to this problem, which is to play the
so-called ‚Äú<a href="https://en.wikipedia.org/wiki/Chaos_game">chaos game</a>.‚Äù Instead of
<em>densely</em> applying all the functions to all the points on the plane, you can
<em>sparsely</em> approximate the fixed point as follows: Start with a point ‚Äî any
point! ‚Äî and <em>randomly</em> select one of the affine functions of the IFS and
apply it to the point. Repeat this process with the new point. It turns out
that in the limit, the ‚Äútrail‚Äù left behind by this wandering point converges to
the fixed point of the IFS. (This, too, is a theorem, but again I think it is
believable enough that I will not demand a proof.) This is what the ‚Äúchaos
game‚Äù looks like for the Sierpinski triangle; notice how the salt-and-pepper
spattering of points soon converges boldly into the fractal we know and love
(it‚Äôs an animation ‚Äî stare for a few seconds).</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/Sierpinski_chaos_animated.gif" alt="from Wikipedia"></p>
<p>So here is the plan: we start with a point, and play the chaos game with our
current IFS matrices to obtain a <em>point cloud</em> that stochastically approximates
the fixed-point. Then, we compare this <em>point cloud</em> to our target fern-image
to obtain a ‚Äúloss.‚Äù Finally, we update our IFS matrix parameters to minimize
this loss, until at last the fixed-point converges to the target image. It‚Äôs
just ‚Äúmachine learning,‚Äù really: we‚Äôre learning to play the chaos game!</p>
<p>Here is an outline of the algorithm (with some details elided):</p>
<pre><code># initialize IFS
F = [random_3x3_affine() for _ in range(4)]
o = torch.optim.Adam(F, lr=0.0001)

for step in range(100_000):
    o.zero_grad()
    # start at origin
    v = torch.tensor([0., 0., 1.])

    # play the chaos game once
    trace = []
    for _ in range(200):
          # applying an affine function is just
        # a matrix multiplication!
        v = torch.matmul(random.choice(F), v)
        trace.append(v)

    # treat the trace as a point cloud
    loss = compare(target_image, trace)

    # update parameters
    loss.backward()
    o.step()
</code></pre>
<p>Ah! Actually, there is <em>one</em> detail that I <em>should</em> explain: how do you compare
a point cloud and an image? My idea is to convert the target image to a
<em>second</em> point cloud by uniformly sampling points from it, for example by
rejection-sampling. Then you can compare the two point clouds by the so-called
‚Äúchamfer distance,‚Äù which is the mean distance from each point to its nearest
neighbor in the opposite point cloud. This is quadratic-time to compute, and
the most expensive part of the whole operation, but with ~100 points in each
set it is quite doable.</p>
<blockquote>
<p>A pedagogical aside: notice that the ‚Äútrick‚Äù here is really a <em>change in
representation.</em> This optimization problem is easier to solve on point clouds
than on raster images! An important lesson, that applies across the
ML-for-graphics domain‚Ä¶ and more broadly to all differentiable programming
enterprises.</p>
</blockquote>
<hr>
<p>Remarkably, this zany scheme works quite well! Let‚Äôs try it with a heart. (A
heart, because it‚Äôs an easy low-entropy shape, but also because it felt
symbolically appropriate in relation to Hofstadter‚Äôs broader philosophical
project of souls-within-souls-within-souls.)</p>
<p>When we initialize the system with 4 random affine transformations, the trail
left behind by the chaos game is very unimpressive. The sparsity is because I
simulate only 200 steps of the chaos game for each step of gradient descent ‚Äî
there‚Äôs a tradeoff between noise and computation time, of course, as there is
with any form of SGD.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart-samples-early.png" alt="chaos game on a heart"></p>
<p>Okay. Time to optimize! Here is what it looks like after 100K steps of
optimization with an Adam optimizer (that‚Äôs about 40 minutes of wall-time
computation on my old MacBook). It looks pretty good, don‚Äôt you think? The
chamfer distance scheme works!</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart-samples.png" alt="chaos game on a heart"></p>
<p>Now we can export the four affine matrices out from PyTorch and work out the
‚Äútrue‚Äù fixed point with a more expensive offline computation (for example, by
simulating a few <em>million</em> steps of the chaos game). It looks like this ‚Äî not
perfect, and indeed quite crayon-scribble-ey, but clearly <em>something</em>
interesting has happened, and the result is convincingly heartlike.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart-fractal.png" alt="extended chaos game on a heart"></p>
<p>Where is the fractal structure hidden in this heart? This needs some
vizualization tooling to see clearly. After a bit of JS-canvas-hacking: here is
a GIF of the heart that reveals its fixed-point structure.
Hearts-in-hearts-in-hearts!</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart.gif" alt="Heart"></p>
<p>I will admit to blinking a few times when I first saw this animation play out
in full ‚Äî I did <em>not</em> expect it to work, and even now I find myself marveling
at this creation? discovery? of a heart encoded in 24 numbers.</p>
<hr>
<p>But it still doesn‚Äôt look <em>quite right</em> ‚Äî the fractalness isn‚Äôt <em>obvious</em>.
How come? It‚Äôs because our affine transformations stretch and squash the heart
into almost unrecognizable blobs. A final, natural improvement is to force our
affine transformations to be <em>rigid</em>, so that there isn‚Äôt any squishing or
skewing in the fractal. This is actually not too bad to implement: the solution
to problems of constraint are typically reparametrizations, and indeed in this
case we can simply reparametrize the matrices in terms of a rotation, an
(isotropic) scale, and a translation. Now we‚Äôre down from 6 parameters per
matrix to just 4 ‚Äî even more magical! The result is a much more ‚Äúobviously‚Äù
fractal-ey fixed point, simply because your eye can more easily pick out the
structural recursion when it is made of rigid motions.</p>
<p>Let‚Äôs take it for a ‚Äî pardon ‚Äî <em>spin!</em></p>
<p>Since I promised you trees, here is some fractal foliage. The target image was
a picture of a maple leaf! I‚Äôd never thought about this before, but indeed a
maple leaf contains within it an echo of the whole tree. (Full disclosure: it
takes a couple of randomized restarts to get a really impressive result ‚Äî the
low dimensionality of the fractal‚Äôs parametrization leads to the same
stuck-in-a-local-optimum woes that differentiable rendering folks face all the
time‚Ä¶)</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/foliage.gif" alt="Leaf"></p>
<p>This one uses just three matrices ‚Äî experimentally, three matrices tend to be
enough to get really good results, and more just lead to very busy and crowded
fractals. (I don‚Äôt know if there is a word for number-of-maps‚Äìin-an-IFS, but
let‚Äôs call it the IFS‚Äôs <em>arity</em>. In this terminology, I like <em>ternary</em> IFSes.)</p>
<p>And finally, since I promised you Christmas trees‚Ä¶</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/christmas-tree.gif" alt="Christmas tree"></p>
<p>This last animation is actually absolutely <em>baffling</em> to me. In part, this is
because of how <em>treelike</em> the fractal turned out ‚Äî here it is overlayed
against the silhouette I optimized against. Can you imagine this is encoded by
just 12 parameters? Odd.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/christmas-tree-match.png" alt="Tree vs. silhouette"></p>
<p>But even more bafflingly: the actual geometry of the recursion is <em>nothing</em>
like the tree recursion geometry you and I are used to from CS106! Compare the
GIF above to Barnsley‚Äôs Fern: while Barnsley turns each full leaf into two
smaller leaves with ‚Äúsemantic‚Äù affine maps, this Christmas tree does all sorts
of <em>bizarre</em> uninterpretable cartwheels and somehow almost magically works
itself out in the end. It is mesmerizing to me, ‚Ä¶</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hardmath123.github.io/chaos-game-fractal-foliage.html">https://hardmath123.github.io/chaos-game-fractal-foliage.html</a></em></p>]]>
            </description>
            <link>https://hardmath123.github.io/chaos-game-fractal-foliage.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534794</guid>
            <pubDate>Fri, 25 Dec 2020 06:55:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The aftermath of ‚ÄúNo, 'Open Source' does not mean 'Includes Free Support'‚Äù]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25534492">thread link</a>) | @EMIRELADERO
<br/>
December 24, 2020 | https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
      Got some hilarious reactions. Gotta share.
    </p><div>

<p>Well, <a href="https://raccoon.onyxbits.de/blog/bugreport-free-support">my last post hit it big</a>. Poor blog had a couple social media death hugs on that day. Gosh, people were fuming about me (supposedly) stating that I would not accept their hand-laced, gold-edged, rose scented bug reports without prior payment. How dare I?! Well, I simply do. </p><figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/problem.png">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/problem.png">
  </a>
  
</figure>
                             
                             

<p>The statement was actually that I ignore support requests from non-customers, <strong>especially</strong> when they come <u>disguised</u> as bugreports in order to avoid my fee. I don‚Äôt deliberately delete bug reports from my inbox, I simply risk loosing genuine ones because they are drowned out.</p>

<p>But hey, social media. Fast paced universe. Gotta comment while it‚Äôs hot, no time to (properly) read the original article. Some people hold some hilarious opinions, though!</p>

<h2 id="what-people-wrote">What people wrote</h2>

<blockquote>
<p>Bugs must be fixed!</p>
</blockquote>

<p>No, they don‚Äôt. Have you read the license agreement? Search for the phrase ‚ÄúAS IS‚Äù. Every <a href="https://opensource.org/licenses">OSI approved license</a> contains it (usually in caps). It means, I am under no obligation to provide any further work and you are not entitled to it.</p>

<p>Of course, there‚Äôs a simple way to make me owe you a service (and I‚Äôm even offering it): put money in my bank account.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>The bug was your fault in the first place!</p>
</blockquote>

<p>So? Oh wait. Is this going to be one of those conspiracy theories where I deliberately put bugs into my code in order to make you pay for removing them? Nice idea, but‚Ä¶</p>

<ul>
<li>That plan does not scale. There are only so many bugs I could plant.</li>
<li>Fixing bugs is the most time consuming form of support. I‚Äôm making a loss on that (in particular when considering the time required to design a good bug that some<u>one</u> might pay for getting removed).</li>
<li>I gave you the source, that takes the leverage out of my hands.</li>
</ul>

<p>The choice to use my software was yours. The disclaimer that it might not work is in the license agreement. I did not put myself in the position of being your only option to solve the issue.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>My bug reports are a work of art, you prick! I spent MY TIME on helping YOU to improve YOUR software!</p>
</blockquote>

<p>Your bug doesn‚Äôt bother me. If it did, I‚Äôd have fixed it myself. When submitting a bug report, you are not working for me, you are working for yourself and the user community. The same way I was, when making the original software available free of charge (whether or not you want to do it is entirely your choice, I‚Äôm not asking you to). Does your bug report include a patch? If yes, then the problem‚Äôs solved for you, if not, then you are expecting me to come up with a fix. That‚Äôs a work order, here‚Äôs my bill.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Ignoring bug reports is stupid!</p>
</blockquote>

<p>Why? If I look at the mail, I‚Äôll be tempted to act on it, giving someone a free ride. That‚Äôs unfair to those who paid for it.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>But I‚Äôll have to pay and get no guarantee that my bug will be fixed.</p>
</blockquote>

<p>No, but you are guaranteed, that I will be listening to you and give you a definitive answer in a timely manner. That‚Äôs something you don‚Äôt get from public bugtrackers. See the problem here? You base your risk assessment on your experience with developers you don‚Äôt pay and who therefore have no incentive to help you. When I take your money, you are a customer.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Every other open source project accepts free bug reports</p>
</blockquote>

<p>I don‚Äôt care.</p>

<ul>
<li>If some other developer wants to self exploit and thinks his time is only worth cheers, that‚Äôs their choice.</li>
<li>If the project(s) you are talking about are mission critical (and are otherwise funded), then yes, running a community support forum is a sensible choice.</li>
</ul>

<p>Whatever the reason, I don‚Äôt tend to jump off bridges, just because someone else does it.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You hypocrite! You advertise your software as a solution to MY problem on your website</p>
</blockquote>

<p>Part of letting you use my solution is letting you know what problem I solve (by the way, that‚Äôs a service, saving you from reading the code in order to figure out what it does - you‚Äôre welcome). The conclusion that we both have the same problem was yours to draw. And yes, my software has long since grown beyond my own needs. But guess what, that still doesn‚Äôt compel me to work for you for free.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You can avoid hosting costs by publishing on platform X</p>
</blockquote>

<p>Hey, remember SourceForge? Used to be <strong>the</strong> hosting platform for open source projects. Got sold. New owners added shady <a href="https://en.wikipedia.org/wiki/SourceForge#Controversies">monetization practices</a>. Developers had a choice: leave and lose your backlinks or stay and have your reputation tarnished.</p>

<p>Hey, remember Github? Used to be <strong>the</strong> hosting platform for open source projects. Got sold. New owner is Microsoft! The queen of vendor lock-in and shady monetization practices. Developers had a choice: leave and lose your backlinks or stay and see what Microsoft will pull out of their hat in the coming years.</p>

<p>Hey, do you know Gitlab? It is <strong>the</strong> hosting platform for open source projects! <small>Until it will get sold!</small>
</p>

<p>Do you <a href="https://raccoon.onyxbits.de/blog/why-not-use-github/">see the pattern here</a>?</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You made yourself the sole address for support. At least provide a community support forum!</p>
</blockquote>

<p>Outsource self-exploitation while eating up the infrastructure cost? Sounds like a plan. <strong>NOT!</strong> Get your ass out of your echo chamber. The idea of community support is one of the big criticisms <strong>against</strong> open source. When people have a problem, they want someone to talk to and they want their problem fixed in a timely manner. They don‚Äôt want to sign up for forum accounts and they don‚Äôt want to monitor them for weeks in the hopes that some community member might eventually come up with an answer.</p>

<p>When it comes to my software, I‚Äôm the most competent person to talk to. So whether I like to or not, people will (try to) contact me. As a developer, that puts a choice on your table:</p>

<ul>
<li>Stop your spare time being eaten up with tech support by pulling the software.</li>
<li>Start accepting payment and realize that you are now running a business that creates additional overhead cost.</li>
</ul>

<p>Yes, I made myself the sole address for support. That is the only logical conclusion. If I‚Äôm running a business, why should I let it be cannibalized by running a public support forum / bug tracker? That‚Äôs just adding infrastructure cost to choke profit.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Offering free support helps your project to grow!</p>
</blockquote>

<p>Math wiz ey? Ever tried applying a scaling factor to a project where the expenses exceed the revenue?</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You should have a donation button instead!</p>
</blockquote>

<p>Great idea! How often do you click those?</p>

<p>Seriously, I‚Äôm not a registered charity and only those may accept donations. For everyone else it‚Äôs just mislabelled, but still taxable income. The moment you put up a ‚Äúdonation‚Äù button, you are running a business, which automatically generates overhead costs. Getting five bucks once every blue moon with the implication of having to kiss the generous donor‚Äôs feet is simply not sustainable.</p>

<p>I‚Äôm not running a charity and I don‚Äôt want your ‚Äúsupport‚Äù. I want, same as you, being paid for the work I do. I find it utterly dishonest to put my work under an open source license, then spend a ridiculous amount of extra work on guilt tripping my users in order to collect alms.</p>

<p>If the license says, ‚Äúthe software is free to use‚Äù, then that‚Äôs the deal. You get exactly that. Nothing more, nothing less. Everything else is extra and billable.</p>
</div></div>]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534492</guid>
            <pubDate>Fri, 25 Dec 2020 05:41:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Curl Year 2020]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25534338">thread link</a>) | @pabs3
<br/>
December 24, 2020 | https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
		
	
	<!-- #masthead -->

	<div id="main">

	<div id="primary">
		<div id="content" role="main">
			
<article id="post-15375">
	
		<p><img width="672" height="372" src="https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-672x372.jpg" alt="" loading="lazy" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-672x372.jpg 672w, https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-1038x576.jpg 1038w" sizes="(max-width: 672px) 100vw, 672px">		</p>

		
	<!-- .entry-header -->

		<div>
		
<p>As we‚Äôre approaching the end of the year, I just want to sum up the curl year with a few words.</p>



<p>2020 has been another glorious year in the curl project. We‚Äôve seen a series of accomplishments and introductions of new things during this the year of the plague.</p>



<h2>Accomplishments</h2>



<p>I personally have done more commits in the git repository since any year after 2004 (890 so far).</p>



<p>The total number of commits done in git is the largest since 2014 (1445 plus some).</p>



<p>The number of published curl related CVEs is the lowest since 2013 (6). For the ones we announced, we could reward record amounts in our bug bounty program!</p>



<p>139 authors wrote commits that were merged (so far).</p>



<p>We did nine curl releases, out of which two unfortunately were quicker ‚Äúpanic releases‚Äù that patched up problems in the previous release.</p>



<h2>Seven changes to remember</h2>



<p>We‚Äôve logged no less than <strong>905 bug-fixes</strong> and <strong>30 changes</strong> in the releases of this year, but the seven perhaps most memorable things we‚Äôve introduced in 2020 are‚Ä¶</p>



<ul><li><a href="https://daniel.haxx.se/blog/2019/07/22/curl-goez-parallel/" data-type="post" data-id="12568">Parallel transfers</a> with curl</li><li><a href="https://daniel.haxx.se/blog/2020/04/14/curl-mqtt-true/" data-type="post" data-id="13836">MQTT</a>://</li><li><a href="https://daniel.haxx.se/blog/2020/11/03/hsts-your-curl/" data-type="post" data-id="11415">HSTS</a></li><li><a href="https://daniel.haxx.se/blog/2020/09/04/curl-help-remodeled/" data-type="post" data-id="14601"><code>--help</code> refined</a></li><li><a href="https://daniel.haxx.se/blog/2020/08/19/curl-7-72-0-more-compression/" data-type="post" data-id="14463">Zstd</a></li><li><a href="https://daniel.haxx.se/blog/2020/03/17/curl-write-out-json/" data-type="post" data-id="13740">JSON output</a> in -w</li><li><a href="https://daniel.haxx.se/blog/2020/01/12/curl-even-more-wolfed/" data-type="post" data-id="13130">wolfSSH backend</a></li></ul>



<h2>Videos</h2>



<p>This year I‚Äôve introduced the concept of doing a ‚Äúrelease presentation‚Äù for every release. Those are videos where I go through and discuss the changes, the security releases and some interesting bug-fixes. Each release links to those from <a href="https://curl.se/changes.html">the changelog page</a> on the website.</p>



<h2>New home</h2>



<p>This is the year when we finally got ourselves a curl domain. <a href="https://daniel.haxx.se/blog/2020/11/04/the-journey-to-a-curl-domain/" data-type="post" data-id="14930">curl.se is our new home</a>.</p>



<h2>What didn‚Äôt happen</h2>



<p>We cancelled curl up 2020 due to Covid-19. It was planned to happen in Berlin. We did it purely online instead. We‚Äôre not planning any new physical curl up for 2021 either. Let‚Äôs just wait and see what happens with the pandemic next year and hope that we might be able to go back and have a physical meetup in 2022‚Ä¶</p>



<h2>It is a curl world</h2>



<figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2020/12/slide-a-curl-world-2020.jpg"><img loading="lazy" width="2000" height="1125" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/12/slide-a-curl-world-2020.jpg" alt=""></a></figure>




	</div><!-- .entry-content -->
	
	</article><!-- #post-15375 -->
		<nav role="navigation">
		
		<!-- .nav-links -->
		</nav><!-- .navigation -->
		
<!-- #comments -->
		</div><!-- #content -->
	</div><!-- #primary -->

<!-- #content-sidebar -->
<div id="secondary">
		<h2>tech, open source and networking</h2>
	
	
		<!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div><!-- #main -->

		<!-- #colophon -->
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534338</guid>
            <pubDate>Fri, 25 Dec 2020 05:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I Learned in 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25534126">thread link</a>) | @berkserbet
<br/>
December 24, 2020 | https://www.berkserbetcioglu.com/posts/what-i-learned-in-2020/ | <a href="https://web.archive.org/web/*/https://www.berkserbetcioglu.com/posts/what-i-learned-in-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  


  <article itemscope="" itemtype="http://schema.org/BlogPosting">
    <header>
      
      
    </header>

  
    <div itemprop="articleBody">
      <p>This is inspired by the post <a href="https://ideopunk.com/2020/12/22/100-tips-for-a-better-life/">100 Tips for a Better Life by Conor Barnes</a>. I recommend you go read that if you haven‚Äôt.</p>

<p>Almost none of this will be new to you, but there is value in reminding yourself.</p>

<ol>
<li>Learn about things that you are curious about. Seems obvious, but put effort into it.</li>
<li>When you find a book that seems interesting, add it to a list. I use the Audible wish list. For regular books I just buy them on Ebay or Amazon.</li>
<li>If you have a task that takes less than 10 minutes, just do it now.</li>
<li>Keep a list of reminders. I like to set them so they notify me at weekly or monthly intervals.</li>
<li>Don‚Äôt take any small excuse as a sign not to work out. If you skip one day, definitely don‚Äôt skip the next.</li>
<li>Ordering yourself fun little toys on Ebay that take weeks to arrive is very fun.</li>
<li>Setting up a home desk with good equipment is well worth the cost. Your monitor, chair, keyboard and mouse should be good.</li>
<li>If I start gaming, I don‚Äôt sleep enough.</li>
<li>Businesses are hard to start. Try to test an idea before building the whole thing.</li>
<li>Go on walks.</li>
<li>Give away things you don‚Äôt really like.</li>
<li>Gigabit internet is not worth it. You won‚Äôt notice the difference between that and 300-500 Mbps. Save yourself the money.</li>
<li>Have a computer you really like to use, opting for a chromebook leads to much less productivity.</li>
<li>The point of creating an audience is to get feedback. Twitter or karma are not meaningless.</li>
<li>You won‚Äôt get an opposing opinion if you don‚Äôt seek it out.</li>
<li>Make sure the thing you are buying doesn‚Äôt charge via micro-usb.</li>
<li>Do small programming projects. It will help you learn and it‚Äôs a great creative outlet.</li>
<li>People who are good writers or speakers have put a lot of effort into it.</li>
<li>Life is unpredictable, make sure you spend it with people you love.</li>
</ol>

    </div>
  </article>

  
  





  


  


  </div></div>]]>
            </description>
            <link>https://www.berkserbetcioglu.com/posts/what-i-learned-in-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534126</guid>
            <pubDate>Fri, 25 Dec 2020 04:12:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Programming Languages as Objects in Nature]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25533846">thread link</a>) | @alokrai
<br/>
December 24, 2020 | https://parentheticallyspeaking.org/articles/pls-nature/ | <a href="https://web.archive.org/web/*/https://parentheticallyspeaking.org/articles/pls-nature/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>In the early 1990s, the programming languages research community was in an
optimistic mood. In the recent past, two of its paradigmatic languages‚Äî<wbr>Scheme
and ML‚Äî<wbr>had formalized their semantics. For ML, it took the form of a whole
book by Milner, et al. Scheme provided a denotational semantics in its
standard. Surely, it seemed, it was only a matter of time before all languages
went in this direction.</p><p>What went wrong?</p><blockquote><p>If you‚Äôre a working programmer without a theoretical background, you might
wonder why a formal semantics matters at all. It‚Äôs actually for reasons you can
understand easily. When you write programs against code that someone else
wrote, you like having an interface, or <span>API</span>, to program against. It mediates
your conversation with the remote code, and anchors conversations about whom to
blame if something doesn‚Äôt work as expected.</p><p>The formal semantics of a language does exactly the same thing. The language
itself is the ‚Äúremote code‚Äù you‚Äôre programming against. What it does should
be pinned down as precisely as possible‚Äî<wbr>but also as understandably as
possible!‚Äî<wbr>for you to work with.</p><p>The semantics isn‚Äôt just an interface for the user of a language. It‚Äôs also a
crucial interface for tool authors, who must (also) otherwise guess at the
behavior of the language. If you want an example of how even the relatively
simple act of a variable rename refactoring can go wrong, see Appendix 2 of
our <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/pmmwplck-python-full-monty/">Python semantics</a>. A semantics
doesn‚Äôt guarantee those kinds of errors won‚Äôt occur, but its absence makes them
far more likely to.</p></blockquote><p>For many researchers, it‚Äôs a given that programming languages are
<span>mathematical</span> objects. This is a natural and attractive view. Languages
are formal objects, after all; they are therefore amenable to codification by
everything from logic to topology and more. (Formal) Specification is a natural
consequence of this worldview.</p><p>The world, however, is full of programming languages that do not fit this
model.<span><span><span>Some may even have been created by programming language
semanticists, which is worth pondering.</span></span></span> Created by the ostensibly unwashed,
they rudely announce their arrival with nothing more than an
implementation. People pick them up, find them useful, do worthwhile things
with them, and a million lines later, the next big ‚Äúscripting language‚Äù is
born. Let‚Äôs call these <span>informal</span> languages.</p><p>Informal languages are, of course, also amenable to formal specification. However,
a crucial difference governs these two types of languages. Suppose we observe a
difference between what the specification says and what the implementation
does. In the case of Standard ML, for instance, one can approach the
implementor, walk through the reasoning in the specification, and explain why
the implementation is wrong. If the implementor agrees with your reasoning, no
matter how unhappy this makes them, they must admit to and eventually fix their
implementation.</p><p>The implementor of an informal language faces no such constraint. Faced with a
mismatch between an ostensible specification and their implementation, they are
free to simply laugh, question the specification‚Äôs parentage, and exit stage
right. The specification can <span>at best</span> track what ‚Äúthe language is
doing‚Äù, not really dictate its behavior.</p><p>Specification still serves a role. It can:
</p><div><ul><li><p>Shed light on what is happening inside a large and otherwise opaque
implementation.</p></li><li><p>Point out complex designs that would warrant being simplified.</p></li><li><p>Highlight design aspects that are prone to cause programmer error,
security violations, and so on.</p></li><li><p>Serve all the other uses of a specification, such as serving as a basis
for building tools.</p></li></ul></div><p>To do all these things <span>usefully</span>, however, the specification must take
significant steps to show its conformance to the reality of the informal
language, such as by running the same test suites as the implementations.</p><p>An informal language, then, is much more like an object found in nature:</p><p><img src="https://parentheticallyspeaking.org/articles/pls-nature/rock.jpg" alt="A rock."></p><p>We can push at it, poke it, and prod it, and hope that it will yield its
secrets. But we can never be certain‚Äî<wbr>without the help of the
implementors‚Äî<wbr>that we have properly characterized all of it.</p><p>That doesn‚Äôt mean we can‚Äôt approach the problem systematically. Geologists,
confronted with a rock, don‚Äôt flail helplessly. In high-school chemistry, I was
taught to approach unknown substances with the <span>SCODS</span> test: check for its
state, color, odor, density, and solubility.<span><span><span>They never included a letter
for ‚Äútaste‚Äù, a reflection perhaps more of their aspiration than of the
reality in a high school chemistry lab.</span></span></span> That is, we identify some of
dimensions of classification, and proceed along the principal axes.</p><p>We have these axes for programming languages, too. We can talk about their
scope rules, their evaluation semantics, their type system, and so on. Indeed,
because so much of a programmer‚Äôs career will be spent confronting informal
languages and having to rapidly make sense out of them, I‚Äôve long felt that how
we <span>teach</span> programming languages should
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/sk-teach-pl-post-linnaean/">also be divided along these
dimensions</a>.</p><p>The problem of informal languages will not go away, so long as a dedicated
amateur can scare up a new language‚Äôs implementation. Indeed, the size of our
informal language space grows ever-bigger, and vastly so, than that of
mathematical languages. In 2015, I made this slide:</p><p><img src="https://parentheticallyspeaking.org/articles/pls-nature/stack.png" alt="Our programming stack." width="560" height="420"></p><p>It shows the stack atop which a typical client-side Web program of the day
resided. What it actually shows is something much more subtle and important:</p><p><span>Programmers do not program in ‚Äúlanguages‚Äù.</span></p><p>Rather, they program in some complex combination of languages, libraries,
frameworks (which can impose their own operational behavior‚Äî<wbr>e.g., seemingly
turn a call-by-value language into a reactive one), and more. What a programmer
needs is a semantics not just for the language sitting near the bottom, but
rather for the mountain on top of which their program resides.</p><p>For illustrative examples of what such semantics might look like, see our work
on the <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/lckqk-model-reason-dom-events/">operational semantics of
the <span>DOM</span></a> (it‚Äôs a giant control operator, y‚Äôall!), and
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/lelk-types-jquery-programs/">the type structure of jQuery</a>. But
these are just a tiny sliver of a tiny sliver. How do we make real progress up
the mountain and keep our position there as it keeps thrusting further out of
the ground?</p><p>We can‚Äôt expect the date-picker library‚Äôs author to also be a semanticist. But
we shouldn‚Äôt therefore resignedly conclude that we can never get there. Rather,
we should acknowledge that there are useful divisions of labor. Instead of
scolding informal language designers for their practices, semanticists need to
find methods to bridge that gap, keeping in mind:</p><blockquote><p><span>One can‚Äôt proceed from the informal to the formal by formal means.Alan Perlis</span></p></blockquote><p>Whatever we propose needs to be:
</p><div><ul><li><p>Reasonable (in terms of skill) for the implementor to produce.</p></li><li><p>Useful for them to produce.</p></li><li><p>Useful for us to consume and work with.</p></li></ul></div><p>One especially good intermediate proxy is a test suite of some sort. Tests
don‚Äôt always get the respect they deserve, but they too are a form of
specification. I like to call them ‚Äúspecifications from below‚Äù, precisely
defining what should happen in individual cases, whereas the typical formal
specification is ‚Äúspecification from above‚Äù, defining what happens across a
family of cases. Ultimately, of course, we need specifications ‚Äúfrom above‚Äù,
but it‚Äôs worth noting that specifications ‚Äúfrom below‚Äù are both useful to
developers and something they are skilled at producing. The recent trend in
languages of producing ‚Äúconfirmance suites‚Äù or ‚Äúlitmus tests‚Äù is especially
promising in this regard. (Our work on formalizing the
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/pclpk-s5-semantics/">strict mode of of ECMAScript 5.1</a>,
for instance, made use of the ECMAScript conformance suite.)</p><p>How we use them remains a little bit of an open question. The most obvious use
is to test our semantics: what <a href="https://ccs.neu.edu/~arjunguha/main/home/">Arjun Guha</a> and I, to perhaps the horror
of some, called a <span>tested semantics</span>. But we might also be able to
generalize these tests, from ‚Äúbelow‚Äù to ‚Äúabove‚Äù, i.e., it‚Äôs a synthesis
problem. This requires some structure to produce a semantics that is also
meaningful. Our paper on <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/kle-next-700-semantics//">The Next 700
Semantics</a> describes some of the contours for this line of work to consider.</p></div></div></div>]]>
            </description>
            <link>https://parentheticallyspeaking.org/articles/pls-nature/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25533846</guid>
            <pubDate>Fri, 25 Dec 2020 03:06:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Principles of Life]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25533213">thread link</a>) | @mbrodersen
<br/>
December 24, 2020 | http://wasdarwinwrong.com/korthof66.htm | <a href="https://web.archive.org/web/*/http://wasdarwinwrong.com/korthof66.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://wasdarwinwrong.com/korthof66.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25533213</guid>
            <pubDate>Fri, 25 Dec 2020 01:02:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Traveler‚Äôs Notebook: The Last Notebook You‚Äôll Ever Need]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25533181">thread link</a>) | @thomas
<br/>
December 24, 2020 | https://unsharpen.com/travelers-notebook/ | <a href="https://web.archive.org/web/*/https://unsharpen.com/travelers-notebook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><small>Unsharpen may earn a commission when you buy through links on our site.</small></p><div>

                                
                                <p>Even a few minutes of research into the best journals and notebooks will yield a recommendation for the Traveler‚Äôs Notebook. The universal love of this notebook system makes it clear that this is one of the most unique stationery products sold today as well as being one of the one‚Äôs people are simply obsessed with.</p>
<p>So, what‚Äôs the deal with the Traveler‚Äôs Notebook?</p>

<p><iframe src="https://www.youtube.com/embed/SMxJPZN5hqE" allowfullscreen="allowfullscreen"></iframe></p>

<h2><span id="Travelers_Notebook_Background">Traveler‚Äôs Notebook Background</span></h2>
<p>The Traveler‚Äôs Notebook is made by the Traveler‚Äôs Company. This company is based in the&nbsp;Nakameguro section of Tokyo, Japan but the notebooks are sold all over the place, from an official company store at the Narita Airport (also in Tokyo) to paper stores all over the world. The notebooks and accessories are also sold many places online, including <a href="https://amzn.to/3gVgJAB" target="_blank" rel="nofollow noopener noreferrer">Amazon</a>, and nearly ever premium stationery retailer.</p>
<p>The notebook might seem like something that has been made for dozens of years ‚Äî a wonderful throwback to the pre-computer era ‚Äî but that‚Äôs not the case. The standard Traveler‚Äôs notebook has been sold since 2006 and the smaller passport size first went on sale in 2010. The company that makes the Traveler‚Äôs notebook was original called Midori, but the name was changed to the ‚ÄúTraveler‚Äôs Company‚Äù in 2015.</p>
<p>The parent company of the Traveler‚Äôs Company as well as Midori Paper is Designphil Inc., which has been in existence since 1950 when it was formed under the name Midori Shokai Co., Ltd.</p>
<p>While officially known as the ‚ÄúTraveler‚Äôs Notebook‚Äù most people refer to the notebook as the ‚ÄúTravelers notebook,‚Äù dropping the possessive which seems unnecessary and counter-intuitive.</p>
<h2><span id="Travelers_Notebook_Basics">Traveler‚Äôs Notebook Basics</span></h2>
<p>The Traveler‚Äôs Notebook is a notebook system, which is to say that there is no canonical ‚ÄúTraveler‚Äôs Notebook‚Äù but rather endless variations on the company‚Äôs notebook system. The basic components are a leather cover, notebook inserts, and then a range of accessories that include rubber bands, pockets, stickers and so forth.</p>
<p>The notebooks are prized for their ability to be refilled, their excellent accessories, and their ability to be incredibly customized so no two Traveler‚Äôs notebooks are alike.</p>
<h3><span id="Travelers_Notebook_Inserts">Traveler‚Äôs Notebook Inserts</span></h3>
<p>Each notebook is composed of a leather cover and then inserts. These insert components include:</p>
<ul><li>Covers</li>
<li>Refills</li>
<li>Storage</li>
<li>Accessories</li>
</ul><p>We‚Äôll dig into each type in a bit.</p>
<h3><span id="Travelers_Notebook_Sizes">Traveler‚Äôs Notebook Sizes</span></h3>
<p>The notebooks are sold in two sizes: Regular and Passport. It‚Äôs critical to know what cover you have so that you buy the right inserts to fit it. The two sizes are different and are not cross compatible.</p>
<p>The only real difference between the two sizes are their dimensions. They are as follows:</p>
<ul><li><strong>Regular</strong>: 12.0 x 22.0 x 1.0 cm (W x H x D)</li>
<li><strong>Passport</strong>: 9.8 x 13.4 x 1.0 cm (W x H x D)</li>
</ul><p>The paper that each notebook uses is different as well. Traveler‚Äôs notebook paper has the following dimensions:</p>
<ul><li><strong>Regular</strong>: 11.0 x 21.0 x 0.4 cm (W x H x D)&nbsp;and 64 pages</li>
<li><strong>Passport</strong>:&nbsp;8.9 x 12.4 x&nbsp;0.4 cm (W x H x D)&nbsp;and 64 pages</li>
</ul><p>The notebooks do not adhere to <a href="https://unsharpen.com/paper-sizes/">standard paper sizes</a>. The closest standard sizes would be B6 for the Regular and B7 for Passport.</p>
<h2><span id="Travelers_Notebook_Covers">Traveler‚Äôs Notebook Covers</span></h2>
<p>The outside of a Traveler‚Äôs notebook is a single layer leather cover that is smooth on the outside and suede on the inside. It‚Äôs sold in black, brown, dark blue, and a reddish brown, known as ‚ÄúCamel.‚Äù The covers are made of a fine leather and they age wonderful, even if you are not particularly careful with them.</p>
<p>The covers lie nearly flat when open and have no branding on them. The main features on the cover are an elastic band that hold it shut and one that holds the inserts in place.</p>
<p>Each leather cover ships in a linen bag that protects it when en route to its own. The cover is prized by buyers but doesn‚Äôt have a purpose outside of presentation.</p>
<p>The leather covers are made in Thailand while all the paper is made in Japan.</p>
<h2><span id="Travelers_Notebook_Refills">Traveler‚Äôs Notebook Refills</span></h2>
<p>The refills are the beating heart of the notebook ‚Äî they are the paper that goes inside. The refills come in Regular and Passport size, just like the covers and use excellent quality Midori paper, which is a major selling point, especially for fountain pen users. The paper does come in a number of varieties.</p>
<p>For the Regular size notebooks these include:</p>
<ul><li><strong>Regular Paper, White</strong>: Blank, Lined, Dot Grid</li>
<li><strong>Regular Paper, Cream</strong>: Blank</li>
<li><strong>Special Paper:</strong> Lightweight (Tomoe River), Sketch, Craft, Watercolor</li>
<li><strong>Planners:</strong> Daily, Weekly, Weekly Vertical, Monthly</li>
</ul><p>For Passport the selection is a bit more limited:</p>
<ul><li><strong>Regular Paper, White</strong>: Blank, Lined, Dot Grid</li>
<li><strong>Regular Paper, Cream</strong>: Blank</li>
<li><strong>Special Paper:</strong>&nbsp;Watercolor</li>
<li><strong>Planners:</strong>&nbsp;Weekly, Weekly Mid-Year Start, Monthly</li>
</ul><p>While the notebooks are not a standard size, competing companies do make compatible notebooks. Some of the top options for these non-Traveler‚Äôs refills are Yamamoto with their Ro-Biki refills and Raymay‚Äôa A5 Slim refills.</p>
<h2><span id="Travelers_Notebook_Storage_Options">Traveler‚Äôs Notebook Storage Options</span></h2>
<p>Traveler‚Äôs notebooks are small but mighty, partly because they have options for holding more than just your ideas.</p>
<p>The <a href="https://amzn.to/2OdwuGH" target="_blank" rel="nofollow noopener noreferrer">Card File</a> is a bit outdated in the era of the iPhone, but it‚Äôs use for storing business cards. There is also a Craft Paper Card File that will store more cards than the standard model, or can be used for assorted scraps of paper, stickers, and so forth.</p>
<p>Double-sided stickers are sold to insert photographs, cut out articles, and other mementos. The <a href="https://amzn.to/3iR9knv" target="_blank" rel="nofollow noopener noreferrer">Film Pocket Sticker</a> is quite similar, but it‚Äôs actually a light plastic sticker that adheres to your notebook or inside a refill and then you can place a photo or piece of paper inside without damaging it. Traveler‚Äôs Pocket Stickers are similar but are angled at the top and fully open, so they can used for storing taller items. The Large Pocket Sticker can hole a full photograph or index card on its side.</p>
<p>The most robust storage options are the <a href="https://amzn.to/2W8Dau7" target="_blank" rel="nofollow noopener noreferrer">Zipper Case</a> and Three-fold File, which can handle larger items and much more of then. The Three-fold File for the standard notebook can even hold a full-sized piece of A4 paper that has been triple-folded (like a you would do to a letter). The Zipper Case can hold ink cartridges, a small pencil sharpener, paper clips, refills or other similar items that won‚Äôt fit in a pocket.</p>
<h2><span id="Travelers_Notebook_Accessories">Traveler‚Äôs Notebook Accessories</span></h2>
<p>Traveler‚Äôs Company loves their accessories‚Ä¶ and so do Traveler‚Äôs notebook enthusiasts. Some of the accessories include:</p>
<ul><li>Pen holder</li>
<li>Additional elastic bands (known as Connecting Bands)</li>
<li>Plastic Sheet Underlay</li>
<li>Repair Kit (replacement elastic bands)</li>
<li>Refill Binder (for storing refills that are full and no longer needed in your notebook)</li>
<li>Brass charm (for accessorizing the notebook)</li>
<li>Traveler‚Äôs Company stickers</li>
</ul><h2><span id="Travelers_Notebook_Alternatives">Traveler‚Äôs Notebook Alternatives</span></h2>
<p>The Traveler‚Äôs notebook might be a distinct thing made by a specific brand, but many other brands have recognized its success and sell similar products. After all, it‚Äôs not like the Traveler‚Äôs Company was the first to invent a leather notebook cover or to put excellent paper and handy pockets inside of a notebook, journal, folder, or folio!</p>
<p>The main choice with an alternative will be if you want a leather-covered notebook or just a customizable notebook system. Both of these are reasonable ways to define the Traveler‚Äôs system, so shop according to your desires for a leather cover, a modular notebook system, or both.</p>
<p>Some of our favorite options for alternatives are:</p>
<ul><li><strong><a href="https://amzn.to/2ATOyma" target="_blank" rel="nofollow noopener noreferrer">Kokuyo Jibun Techo 2020 3 in 1 Set</a></strong></li>
<li>Kokuyo Systemic cover and notebooks</li>
<li>Chic Sparrow Notebook system</li>
<li>Field Notes Everyday Inspiration Leather Cover and memo pads</li>
<li>Bellroy leather notebook cover and notebook inserts</li>
</ul><h2><span id="FAQs">FAQs</span></h2>
<h3><span id="Is_there_an_A5_sized_Travelers_Notebook">Is there an A5 sized Traveler‚Äôs Notebook?</span></h3>
<p>No, an official Traveler‚Äôs notebook in A5 does not exist. Chic Sparrow does sell a similar refillable, leather-covered notebook in A5 as do other, <a href="https://amzn.to/325etCx" target="_blank" rel="nofollow noopener noreferrer">lesser known brands</a>, but Traveler‚Äôs does not.</p>
<h3><span id="How_do_I_care_for_a_Travelers_Notebook_leather_cover">How do I care for a Traveler‚Äôs Notebook leather cover?</span></h3>
<p>The leather cover on a Traveler‚Äôs notebook is made to wear in and weather over time. It uses a natural dye that is beautiful but not as tough as some other leather products. The leather should never be washed or cleaned except in the case of a spill where it can be blotted with a damp cloth.</p>
<h3><span id="What_do_I_do_if_the_Travelers_notebook_cover_gets_wet">What do I do if the Traveler‚Äôs notebook cover gets wet?</span></h3>
<p>If the leather cover gets wet, you should pat it dry, not rub it, so as to not pull out any of the natural dye. Unnecessary rubbing or friction can pull dye from the leather when it‚Äôs wet, so this should be minimized. When as much of the moisture is removed as possible the notebook should be emptied and left to dry in the shade, not out in the sun.</p>
<h3><span id="What_to_do_if_notebooks_cover_has_a_stain_or_blemish">What to do if notebook‚Äôs cover has a stain or blemish?</span></h3>
<p>The Traveler‚Äôs notebook‚Äôs cover was lightly treated exactly so that the cover could wear in. Try to ignore the blemish and continue to use the notebook. Over time it will wear and developer a patina and personality and the blemish will be unnoticeable (or at least well hidden). Unsightly stains and oil spots can be treated carefully with any leather cleaner or leather care cream, though try a small patch first to make sure the natural dye is not affected.</p>

                            </div></div>]]>
            </description>
            <link>https://unsharpen.com/travelers-notebook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25533181</guid>
            <pubDate>Fri, 25 Dec 2020 00:56:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Playstation Architecture ‚Äì A Practical Analysis]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25533177">thread link</a>) | @fagnerbrack
<br/>
December 24, 2020 | https://www.copetti.org/projects/consoles/playstation/ | <a href="https://web.archive.org/web/*/https://www.copetti.org/projects/consoles/playstation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.copetti.org/projects/consoles/playstation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25533177</guid>
            <pubDate>Fri, 25 Dec 2020 00:56:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Just start a dang blog already]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25532886">thread link</a>) | @mcrittenden
<br/>
December 24, 2020 | https://critter.blog/2020/12/24/just-start-a-dang-blog-already/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/12/24/just-start-a-dang-blog-already/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-4646">

	
<!-- .entry-header -->

	<div>

		<div>

			
<p>I‚Äôm talking to you, Mr. or Mrs. Person who keeps saying ‚ÄúI should really start a blog.‚Äù Or maybe it‚Äôs more like ‚ÄúI should really post to my poor, lonely blog.‚Äù</p>



<p>Yes, you should. <a href="https://critter.blog/2020/10/02/write-5x-more-but-write-5x-less/">I already wrote my manifesto on why</a>, so I won‚Äôt repeat it here. But you should. So either <a href="https://critter.blog/2020/11/24/intense-intervention-or-acceptance-pick-one/">do it or stop talking about it</a>.</p>



<p>Stop waiting for motivation, and <a href="https://critter.blog/2020/11/18/discipline-eats-motivation-for-breakfast/">use some discipline</a>. Make writing a part of your daily routine.</p>



<p>For me, when I sit down at my desk in the morning I <a href="https://critter.blog/2020/12/18/100-daily-blog-posts/">write a quick blog post</a>. It‚Äôs how I ramp up for the day. Maybe that works for you too, and maybe not. But either way, work it into your routine somewhere or it won‚Äôt become a habit.</p>



<p>Do it, right now. Schedule it on <a href="https://critter.blog/2020/08/03/your-calendar-should-be-an-allowlist-not-a-blocklist/">your calendar</a>. Make a plan. Tell yourself it‚Äôs <a href="https://critter.blog/2020/09/21/experimenting-on-myself/">just an experiment</a>, so it‚Äôs <a href="https://critter.blog/2020/10/26/you-cant-fail-at-experiments/">not scary</a> or permanent.</p>



<p>Maybe you‚Äôll be glad you did. <a href="https://critter.blog/2020/09/28/2-months-of-daily-blogging/">I know I am</a>!</p>





		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://critter.blog/2020/12/24/just-start-a-dang-blog-already/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25532886</guid>
            <pubDate>Fri, 25 Dec 2020 00:09:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Creating a MIDI pass-through recorder]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25532601">thread link</a>) | @TheRealPomax
<br/>
December 24, 2020 | https://pomax.github.io/arduino-midi-recorder/ | <a href="https://web.archive.org/web/*/https://pomax.github.io/arduino-midi-recorder/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      

      

<p>If you‚Äôve ever used audio software on the computer, you probably know that MIDI exists: a signalling protocol that allows controllers to control virtual instruments like synths. It‚Äôs also the protocol used by real audio hardware to talk to each, and you can think of it as the language in which, rathar than communicating a fluctuating voltage signal or series of discrete sample values, devices talk about what is being done on them (‚ÄúA4 got pressed‚Äù, ‚ÄúF4 got released‚Äù,  ‚Äúthe mod wheel moved down‚Äù, etc).</p>

<p>As such, there are two ways to record digital instruments (real or virtual): you can record the sound they‚Äôre making, or you can record the MIDI events that cause them to make those sounds, and that‚Äôs where things get interesting.</p>

<p>There are many, <em>many</em> ways to record audio, from microphones to line monitors to audio interfaces, on dedicated hardware, computers, phones, etc. etc., but there aren‚Äôt all that many ways to record MIDI events. Essentially: unless you‚Äôre running software that monitors MIDI events, there just isn‚Äôt really any way to record MIDI. So I set out to change that: in the same way that you can just hook up an audio field recorder (like a Tascam DR-05) to sit between an audio-out on something that generates audio and an audio-in on something that should be listening to that audio, writing that to an SD card as <code>.wav</code> or <code>.mp3</code> or the like,  I built a MIDI ‚Äúfield recorder‚Äù that you plug in between your MIDI-out and some MIDI-in, indiscriminately recording every MIDI event that gets sent over the wire to an SD card as a <code>.mid</code> file.</p>

<p>You‚Äôd think this would be something that already exists as a product you can just buy (even if at probably quite the markup because it‚Äôs made of ‚Äúpowder-coated extruded aluminium‚Äù with ‚Äúaudiophile quality‚Äù components, but still). Amazingly, it is not. There‚Äôs just nothing.</p>

<p>So: if you want a MIDI recorder, you‚Äôll have to build one‚Ä¶ and if you want to build one, this post might be useful to you!</p>

<h2 id="table-of-contents">Table of contents</h2>

<ol>
  <li><a href="#the-circuitry">The circuitry</a>
    <ol>
      <li><a href="#the-midi-part-of-our-recorder">MIDI</a></li>
      <li><a href="#the-sd-part-of-our-recorder">SD card</a></li>
      <li><a href="#adding-a-midi-marker-button">MIDI marker button</a></li>
      <li><a href="#adding-a-beep-for-debugging">All the beep beeps</a></li>
    </ol>
  </li>
  <li><a href="#the-software">The software</a>
    <ol>
      <li><a href="#program-basics">Basics</a></li>
      <li><a href="#midi-handling">MIDI handling</a></li>
      <li><a href="#file-management">File management</a></li>
      <li><a href="#saving-midi-markers">Saving MIDI markers</a></li>
      <li><a href="#making-some-beeps">Making some beeps</a></li>
      <li><a href="#creating-a-new-file-when-idling">idle handling</a></li>
      <li><a href="#a-final-helper-script">A final helper script</a></li>
    </ol>
  </li>
  <li><a href="#importing-midi-data-into-your-daw">Importing MIDI data into your DAW</a></li>
  <li><a href="#comments-and-or-questions">Comments/questions</a></li>
</ol>

<h2 id="the-circuitry">The circuitry</h2>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/banner.jpg" target="_blank"><img src="https://pomax.github.io/arduino-midi-recorder/banner.jpg" width="100%"></a></p>

<p>To build this, we‚Äôre going to basically build a standard ‚ÄúMIDI-In + MIDI-Thru‚Äù circuit using an Arduino, with an SD card module hooked up so we can save the data that comes flying by. To build everything, we‚Äôll need some special components:</p>

<ol>
  <li>An Arduino SD card module (~$10 for a pack of five)</li>
  <li>Two female 5-pin DIN connectors (~$5 for a pack of ten)</li>
  <li>A 6N138 optocoupler (~$10 for a pack of ten)</li>
</ol>

<p>And of course, the bits that you‚Äôll get with pretty much any Arduino starter kit:</p>

<ol>
  <li>An Arduino UNO R3 or equivalent board</li>
  <li>4x 220 ohm resistors</li>
  <li>1x 4.7k ohm resistor</li>
  <li>A diode</li>
  <li>A piezo buzzer</li>
  <li>Two clicky pushy buttons</li>
</ol>

<h3 id="the-midi-part-of-our-recorder">The MIDI part of our recorder</h3>

<p>We set up MIDI-In on the Arduino <code>RX&lt;-0</code> pin, with MIDI-Thru tapping straight into signal that‚Äôs getting sent to <code>RX&lt;-0</code>, too. The only tricky bit about this is that MIDI signals are isolated from the rest of the circuitry via an optocoupler (which gets around ground loop problems by literally transmitting signals by running them through a LED, which emits the electrical signal as light, which then gets picked up by a phototransistor that turns the light back into an electrical signal). When placing and connecting the optocoupler, it is very important to make sure you know which pin is pin 1: it‚Äôll have a little mark next to it (typically a dot on the chip casing) to tell you that that side has pins 1 through 4 running top to bottom, and pins 5 through 8 on the other side <em>running bottom to top</em>. Also note that we‚Äôre not using pins 1 and 4 for this circuit: only pins 2 and 3 are connected to the MIDI-In connector, and pins 5 through 8 are connected to the various arduino pins.</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/MIDI.jpg" target="_blank"><img alt="MIDI circuit diagram" src="https://pomax.github.io/arduino-midi-recorder/MIDI.png" width="75%"></a></p>

<p>(I know, ‚ÄúThru isn‚Äôt a word!‚Äù, but that‚Äôs what <a href="http://www.shclemen.com/download/The%20Complete%20MIDI1.0%20Detailed%20Spec.pdf#page=7&amp;zoom=auto,-206,478">the MIDI spec</a> calls it, so English gets to take a back seat here‚Ä¶)</p>

<h3 id="the-sd-part-of-our-recorder">The SD part of our recorder</h3>

<p>The SD card circuitry is literally just a matter of ‚Äúconnect the pins to the pins‚Äù, with the only oddity being that the pins don‚Äôt <em>quite</em> line up well enough to literally just stick the SD card module directly into the Arduino.</p>

<p>However, note that your SD card module <strong>may have a different pin layout</strong> so be sure to double-check before wiring things up!</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/sd%20card.jpg" target="_blank"><img alt="SD module diagram" src="https://pomax.github.io/arduino-midi-recorder/sd%20card.png" width="50%"></a></p>

<h3 id="adding-a-midi-marker-button">Adding a MIDI marker button</h3>

<p>In order to make it easier to find particularly ‚Äúworth revisiting‚Äù parts of what got recorded, we add a button that connects to pin 4, that we can use to write MIDI markers into our file. There is barely anything to this circuit:</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/button.jpg" target="_blank"><img alt="simple button diagram" src="https://pomax.github.io/arduino-midi-recorder/button.png" width="50%"></a></p>

<h3 id="adding-a-beep-for-debugging">Adding a beep, for debugging</h3>

<p>And finally, we‚Äôre going to add a little piezo speaker and a button that we can press to turn on (or off) playing a note corresponding to a MIDI note getting played, mostly as the audio equivalent of visual debugging. There‚Äôs barely any work here: we hook up the ‚Äúspeaker‚Äù between pin 8 and ground, and the button to pin 2. Beep, beep!</p>

<p><a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/beep.jpg" target="_blank"><img alt="beep beep button diagram" src="https://pomax.github.io/arduino-midi-recorder/beep.png" width="50%"></a></p>

<h2 id="the-software">The Software</h2>

<p>With the circuitry set up, let‚Äôs start writing our program, focussing on dealing with each circuit in its own section</p>

<ol>
  <li><a href="#program-basics">Program basics</a></li>
  <li><a href="#midi-handling">Basic signal handling (MIDI library)</a></li>
  <li><a href="#file-management">Basic file writing (SD library)</a></li>
  <li><a href="#saving-midi-markers">Saving MIDI markers</a></li>
  <li><a href="#making-some-beeps">Audio debugging (beep beep)</a></li>
  <li><a href="#creating-a-new-file-when-idling">Usability bonus: ‚Äúclean restart‚Äù on idle</a></li>
  <li><a href="#a-final-helper-script">Usability bonus 2: ‚Äúfix the track length‚Äù script</a></li>
</ol>

<h3 id="program-basics">Program basics</h3>

<p>Our basic program will need to import the standard <a href="https://www.arduino.cc/en/reference/SD">SD</a> library, as well as the <a href="https://github.com/FortySevenEffects/arduino_midi_library">MIDI</a> library (which you‚Äôll probably need to <a href="https://github.com/FortySevenEffects/arduino_midi_library#getting-started">install first</a>).</p>

<p>Note that if you don‚Äôt want to ‚Äúfollow along‚Äù and instead you just want the code, you can copy-paste the code found over in <a href="https://raw.githubusercontent.com/Pomax/arduino-midi-recorder/master/midi-recorder.ino">midi-recorder.ino</a> into the Arduino IDE.</p>

<div><div><pre><code><span>#include &lt;SD.h&gt;
#include &lt;MIDI.h&gt;
</span>
<span>MIDI_CREATE_DEFAULT_INSTANCE</span><span>();</span>

<span>void</span> <span>setup</span><span>()</span> <span>{</span>
  <span>// we'll put some more code here in the next sections</span>
<span>}</span>

<span>void</span> <span>loop</span><span>()</span> <span>{</span>
  <span>// we'll put some more code here in the next sections</span>
<span>}</span>
</code></pre></div></div>

<p>And we‚Äôre done!</p>

<p>Of course this doesn‚Äôt <em>do</em> anything yet, so let‚Äôs add the rest of the code, too.</p>

<h3 id="midi-handling">MIDI handling</h3>

<p>For our MIDI handling, we‚Äôll need to set up listeners for MIDI events, and make sure to poll for that data during the program loop:</p>

<div><div><pre><code><span>void</span> <span>setup</span><span>()</span> <span>{</span>
  <span>MIDI</span><span>.</span><span>begin</span><span>(</span><span>MIDI_CHANNEL_OMNI</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandleNoteOn</span><span>(</span><span>handleNoteOn</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandleNoteOff</span><span>(</span><span>handleNoteOff</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandlePitchBend</span><span>(</span><span>handlePitchBend</span><span>);</span>
  <span>MIDI</span><span>.</span><span>setHandleControlChange</span><span>(</span><span>handleControlChange</span><span>);</span>
<span>}</span>

<span>void</span> <span>loop</span><span>()</span> <span>{</span>
  <span>MIDI</span><span>.</span><span>read</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>This sets up MIDI listening on all MIDI channels (there are sixteen of them, and we don‚Äôt want to guess which channels are active), and reads out the MIDI data from <code>RX&lt;-0</code> - you may have noticed we don‚Äôt explicitly set a baud rate: the MIDI spec only allows for 31,250 bits per second, so the Arduino MIDI library automatically makes sure to set the correct polling rate for us.</p>

<p>That leaves implementing our MIDI event handling:</p>

<div><div><pre><code><span>#define NOTE_OFF_EVENT 0x81
#define NOTE_ON_EVENT 0x91
#define CONTROL_CHANGE_EVENT 0xB1
#define PITCH_BEND_EVENT 0xE1
</span>
<span>void</span> <span>handleNoteOff</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>writeToFile</span><span>(</span><span>NOTE_OFF_EVENT</span><span>,</span> <span>pitch</span><span>,</span> <span>velocity</span><span>);</span>
<span>}</span>

<span>void</span> <span>handleNoteOn</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>writeToFile</span><span>(</span><span>NOTE_ON_EVENT</span><span>,</span> <span>pitch</span><span>,</span> <span>velocity</span><span>);</span>
<span>}</span>

<span>void</span> <span>handleControlChange</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>controller</span><span>,</span> <span>byte</span> <span>value</span><span>)</span> <span>{</span>
  <span>writeToFile</span><span>(</span><span>CONTROL_CHANGE_EVENT</span><span>,</span> <span>controller</span><span>,</span> <span>value</span><span>);</span>
<span>}</span>

<span>void</span> <span>handlePitchBend</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>int</span> <span>bend_value</span><span>)</span> <span>{</span>
  <span>// First off, we need to "recenter" the bend value,</span>
  <span>// because in MIDI, the bend value is a positive value</span>
  <span>// in the range 0x0000-0x3FFF with 0x2000 considered</span>
  <span>// the "neutral" mid point:</span>
  <span>bend_value</span> <span>+=</span> <span>0x2000</span><span>;</span>

  <span>// Then, per the MIDI spec, bend_value is 14 bits, and</span>
  <span>// needs to be encoded as two 7-bit bytes, encoded as</span>
  <span>// the lowest 7 bits in the first byte, and the highest</span>
  <span>// 7 bits in the second byte:</span>
  <span>byte</span> <span>lowBits</span> <span>=</span> <span>(</span><span>byte</span><span>)</span> <span>(</span><span>bend_value</span> <span>&amp;</span> <span>0x7F</span><span>);</span>
  <span>byte</span> <span>highBits</span> <span>=</span> <span>(</span><span>byte</span><span>)</span> <span>((</span><span>bend_value</span> <span>&gt;&gt;</span> <span>7</span><span>)</span> <span>&amp;</span> <span>0x7F</span><span>);</span>

  <span>writeToFile</span><span>(</span><span>PITCH_BEND_EVENT</span><span>,</span> <span>lowBits</span><span>,</span> <span>highBits</span><span>);</span>
<span>}</span>
</code></pre></div></div>
<p>(note that we‚Äôre ignoring the <code>channel</code> byte: we‚Äôll be creating a ‚Äúsimple‚Äù format 0 MIDI file, and for maximum usability in terms of importing our data in a DAW, we‚Äôre putting all the events on channel 2)</p>

<p>This is a good start, but MIDI events are just that: events, and events happen ‚Äúat some specific time‚Äù which we‚Äôre still going to have to capture. MIDI events don‚Äôt rely on absolute time based on some kind of real time clock (which is good for us, because Arduino doesn‚Äôt have an RTC built in!) and instead relies on counting a ‚Äútime delta‚Äù: it marks events with the number of ‚ÄúMIDI clock ticks‚Äù since the previous event, with the very first event in the event stream having an explicit time delta of zero.</p>

<p>So: let‚Äôs write a <code>getDelta()</code> function that we can use to get the number of MIDI ticks since the last event (=since the last time <code>getDelta()</code> got called) so that we have all the data we need ready to start writing MIDI to file:</p>

<div><div><pre><code><span>unsigned</span> <span>long</span> <span>startTime</span> <span>=</span> <span>0</span><span>;</span>
<span>unsigned</span> <span>long</span> <span>lastTime</span> <span>=</span> <span>0</span><span>;</span>

<span>int</span> <span>getDelta</span><span>()</span> <span>{</span>
  <span>if</span> <span>(</span><span>startTime</span> <span>==</span> <span>0</span><span>)</span> <span>{</span>
    <span>startTime</span> <span>=</span> <span>millis</span><span>();</span>
    <span>lastTime</span> <span>=</span> <span>startTime</span><span>;</span>
    <span>return</span> <span>0</span><span>;</span>
  <span>}</span>
  <span>unsigned</span> <span>long</span> <span>now</span> <span>=</span> <span>millis</span><span>();</span>
  <span>unsigned</span> <span>int</span> <span>delta</span> <span>=</span> <span>(</span><span>now</span> <span>-</span> <span>lastTime</span><span>);</span>
  <span>lastTime</span> <span>=</span> <span>now</span><span>;</span>
  <span>return</span> <span>delta</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This function seems bigger than it has to be: we <em>could</em> just start the clock when our sketch starts, setting <code>lastTime=millis()</code> in <code>setup()</code>, and then in <code>getDelta</code> only have the <code>timeDelta</code> calculation and <code>lastTime</code> update, but that would be explicitly encoding ‚Äúa lot of nothing‚Äù at the start of our MIDI file: we‚Äôd be counting the ticks for the first event relative to starting the program, rather than treating the first event as starting at tick zero. So instead, we explicitly encode the time that the first event happens as <code>startTime</code> and then we start delta calculation relative to that, instead.</p>

<p>That then leaves updating our handlers:</p>

<div><div><pre><code><span>void</span> <span>handleNoteOn</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>...</span>
  <span>writeToFile</span><span>(...,</span> <span>getDelta</span><span>());</span>
<span>}</span>

<span>void</span> <span>handleNoteOff</span><span>(</span><span>byte</span> <span>channel</span><span>,</span> <span>byte</span> <span>pitch</span><span>,</span> <span>byte</span> <span>velocity</span><span>)</span> <span>{</span>
  <span>...</span>
  <span>writeToFi‚Ä¶</span></code></pre></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pomax.github.io/arduino-midi-recorder/">https://pomax.github.io/arduino-midi-recorder/</a></em></p>]]>
            </description>
            <link>https://pomax.github.io/arduino-midi-recorder/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25532601</guid>
            <pubDate>Thu, 24 Dec 2020 23:31:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Conquest's Three Laws of Politics]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25531979">thread link</a>) | @benjaminjosephw
<br/>
December 24, 2020 | https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/ | <a href="https://web.archive.org/web/*/https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-2479">
			
<!-- Time -->
			<p><small>Friday, July 11th, 2008</small></p><div>
				<p><a href="http://www.eternityroad.info/index.php/weblog/screeds/14/">Robert Conquest‚Äôs Three Laws of Politics</a>:</p>
<ol>
<li>Everyone is conservative about what he knows best.  </li>
<li>Any organization not explicitly right-wing sooner or later becomes left-wing.  </li>
<li>The simplest way to explain the behavior of any bureaucratic organization is to assume that it is controlled by a cabal of its enemies. </li>
</ol>
<p><a href="http://www.nationalreview.com/thecorner/03_06_22_corner-archive.asp#010158">John Derbyshire</a> adds this:</p>
<blockquote><p>Of the Second Law, Conquest gave the Church of England and Amnesty International as examples. Of the Third, he noted that a bureaucracy sometimes actually <em>is</em> controlled by a secret cabal of its enemies ‚Äî e.g. the postwar British secret service. </p>
</blockquote>
<p><a href="http://www.tinyvital.com/BlogArchives/000322.html">John Moore</a> thinks the third law is <em>almost</em> right; it should read ‚Äúassume that it is controlled by a cabal of <em>the enemies of the stated purpose of that bureaucracy</em>.‚Äù</p>
<p>Francis W. Porretto notes that Cyril Northcote Parkinson studied the same phenomenon of bureaucratic behavior:</p>
<blockquote><p>Parkinson promulgated a number of laws of bureaucracy that serve to explain a huge percentage of its characteristics. They‚Äôve exhibited remarkable predictive power within their domain. The first of these is the best known:</p>
<blockquote><p><strong>Parkinson‚Äôs First Law</strong>: Work expands to fill the time available for its completion. </p>
</blockquote>
<p>Parkinson inferred this effect from two central principles governing the behavior of bureaucrats:</p>
<ol>
<li>Officials want to multiply subordinates, not rivals. </li>
<li>Officials make work for one another. </li>
</ol>
<p>Like most generalizations, these are not always true‚Ä¶but the incentives that apply specifically to tax-funded government bureaucracies make them true much more often than not. They make a striking contrast with the almost exactly opposite behavior observable in private enterprise.<br>[...]<br>That young bureaucrat will profit from deliberate ineffectiveness to the extent that he can get himself viewed as an asset by his superiors and a non-threat by his peers. His superiors want him to produce justifications for the enlargement of their domains. His peers simply ask that he not tread on their provinces. </p>
</blockquote>
<p>Miltion Friedman noted that bureaucratic resource allocation involves spending other people‚Äôs money on other people, so there are no compelling reasons to control either cost or quality ‚Äî but a bureaucrat will learn, given time, how to ‚Äúspend on others‚Äù in such a fashion that the primary benefit flows to himself.</p>
<p>To do this, bureaucrats must manage perceptions, so that their work seems both necessary and successful:</p>
<blockquote><p>Von Clausewitz and others have termed war ‚Äúa continuation of politics by other means,‚Äù but when viewed from the perspective of the State Department official, war is the declaration that his organization has failed of its purpose. He sees it as bad public relations for his entire function. Thus, even when the nation‚Äôs interests would be overwhelmingly better served by war than by the continuation of diplomacy, the State Department man will prefer diplomacy. It‚Äôs in his demesne, and enhances his prestige by enhancing the prestige of his trade.</p>
<p>It‚Äôs not too much to say that averting war regardless of its desirability or justifiability is near the top of every State Department functionary‚Äôs list of priorities. In this pursuit, the State Department will often find itself opposing even peacetime operations of the military designed to improve its effectiveness, such as the acquisition of new weapons or the enlargement of its ranks. </p>
</blockquote>

								<!-- Meta -->
<p> Posted in <a href="https://www.isegoria.net/category/john-derbyshire/" title="View all posts in John Derbyshire" rel="category tag">John Derbyshire</a>, <a href="https://www.isegoria.net/category/policy/" title="View all posts in Policy" rel="category tag">Policy</a> |   <a href="https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/#comments" title="Comment on Robert Conquest‚Äôs Three Laws of Politics">20 Comments ¬ª</a></p>

<!--
				<p class="postmetadata alt">
					<small>
						This entry was posted
												on Friday, July 11th, 2008 at 1:30 am						and is filed under <a href="https://www.isegoria.net/category/john-derbyshire/" title="View all posts in John Derbyshire" rel="category tag">John Derbyshire</a>, <a href="https://www.isegoria.net/category/policy/" title="View all posts in Policy" rel="category tag">Policy</a>.
						You can follow any responses to this entry through the <a href='https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/feed/'>RSS 2.0</a> feed.

													You can <a href="#respond">leave a response</a>, or <a href="https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/trackback/" rel="trackback">trackback</a> from your own site.

						
					</small>
				</p>
-->
			</div>
		</div></div>]]>
            </description>
            <link>https://www.isegoria.net/2008/07/robert-conquests-three-laws-of-politics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25531979</guid>
            <pubDate>Thu, 24 Dec 2020 22:15:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mermaid ‚Äì Markdownish syntax for generating flowcharts, sequence diagrams]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25531209">thread link</a>) | @jstanley
<br/>
December 24, 2020 | https://mermaid-js.github.io/mermaid/#/ | <a href="https://web.archive.org/web/*/https://mermaid-js.github.io/mermaid/#/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://mermaid-js.github.io/mermaid/#/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25531209</guid>
            <pubDate>Thu, 24 Dec 2020 20:40:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing Anonymous Posts on Gurlic]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25531158">thread link</a>) | @SubGenius
<br/>
December 24, 2020 | https://gurlic.com/root/implementing-anonymous-posts-on-gurlic | <a href="https://web.archive.org/web/*/https://gurlic.com/root/implementing-anonymous-posts-on-gurlic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                

<section>
                <section>
                  <p>
                    Implementing Anonymous Posts On Gurlic
                  </p>
                  
                  
                </section>
  

</section>

          </div><article>
          
          <p><img src="https://static.gurlic.com/post-featured/16801023637385968737572668552444.webp">
          </p>
          
              <section>
              <p>Anonymous posts on Gurlic are quite straight-forward. There is an actual user with the username <code>anonymous</code>. Whenever a new anonymous post is created, the database query looks like this:</p><pre><code>INSERT into posts(content, user_id) 
VALUES($1, (SELECT id from users where username='anonymous'))</code></pre><p>Initially, I wanted a way for users to be able to edit their anonymous posts. That is a little tricky though, because there has to be some record that ties the user to the post itself - which defeats the purpose of anonymous posts. In the case of a database leak, that connection is out in the public. We don't want that.</p><p>So anonymous posts are pretty much a one-off action because once they're created, the user no longer has any control over them - whether it's editing the post, marking it as NSFW, deleting it and so on. </p><p>This also means that the <code>anonymous</code> user has a <a href="https://gurlic.com/anonymous" rel="noopener noreferrer nofollow">profile</a>, just like any other user, and can be followed, mentioned etc.</p><p>I'm sure someone has a much better way to implement anonymous posts that are tied to the users that created them, while being secure at the same time. It does seem like a lot of extra work though. </p><p>Why be not lazy when you can be lazy?</p>
              </section>
              <section>
                

                


              </section>
        </article></div>]]>
            </description>
            <link>https://gurlic.com/root/implementing-anonymous-posts-on-gurlic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25531158</guid>
            <pubDate>Thu, 24 Dec 2020 20:33:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Processing RSS Feeds with Repl.it]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25530346">thread link</a>) | @jacobobryant
<br/>
December 24, 2020 | https://findka.com/blog/replit-rss/ | <a href="https://web.archive.org/web/*/https://findka.com/blog/replit-rss/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The other day I made <a href="https://rssstuff.jobryant.repl.co/" target="_blank">a small web service</a>
with Repl.it that does a simple transformation on an RSS feed (<a href="https://repl.it/@jobryant/RSSStuff" target="_blank">source
code</a>). I created it mainly because of
<a href="https://hnblogs.substack.com/" target="_blank">this excellent newsletter</a>, which is a daily
roundup of potentially interesting, non-commercial blog posts from Hacker News
that didn't hit the front page. I've found quite a few good articles from it.</p><p>I've been reading the newsletter via email, but after releasing <a href="https://findka.com/blog/new-take-on-rss/">Findka's
bandit-driven RSS aggregator</a>, I
wanted to switch to the RSS feed. Only one problem: Substack provides a feed,
but each entry goes to an edition of the newsletter, which contains a
collection of links. Findka needs each entry to go to one of the individual
links.</p><p><img src="https://findka.com/img/hnblogs.png" alt="Screenshot of the newsletter"></p><p><a href="https://repl.it/" target="_blank">Repl.it</a> is one of the easiest ways to deploy a simple web
service, so it was great for my little RSS <code>mapcat</code>-er. It's exposed via
<code>https://rssstuff.jobryant.repl.co/feed?url={some-url}&amp;exclude={some-regex}</code>.
You send it a source feed and you get back a sink feed that has an entry for
every link contained within the source feed's entries. You can also supply an
exclude regex to filter out links. <a href="https://rssstuff.jobryant.repl.co/" target="_blank">The root
page</a> has a form you can use to construct
the URL.</p><p><img src="https://findka.com/img/rssstuff.png" alt="Screenshot of the Repl.it service"></p><p>This does require one small hack. Repl.it services will shut down after a while
if they aren't getting any traffic. You can get around that with the help of
your favorite pinging service. Repl.it says they're going to include "always-on
repls" in their paid plan soon, after which this will no longer be necessary.</p><p>I'm excited to see what happens with Repl.it. As I've <a href="https://findka.com/blog/four-ideals/#extensibility">written
before</a>, I would love for
open-source, self-hosted web apps to become more common. <a href="https://www.jsalter.net/posts/what-if-users-brought-the-infrastructure" target="_blank">Here's
another</a>,
great post on the topic (which I discovered <a href="https://hnblogs.substack.com/p/hn-blogs-171020" target="_blank">thanks to that
newsletter</a>!). Lately I've been
thinking that Repl.it is probably the perfect platform for this. I've got a
handful of small web services I'd like to make, and I think it'd be fun to see
how far I can push Repl.it.</p><p>Now if only there was a good way to use my local editor instead of the web UI.
:)</p></div></div>]]>
            </description>
            <link>https://findka.com/blog/replit-rss/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25530346</guid>
            <pubDate>Thu, 24 Dec 2020 19:04:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fictional Videogame Stills]]>
            </title>
            <description>
<![CDATA[
Score 154 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25530307">thread link</a>) | @doener
<br/>
December 24, 2020 | https://www.suzannetreister.net/Ampages/Amenu.html | <a href="https://web.archive.org/web/*/https://www.suzannetreister.net/Ampages/Amenu.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
      <td colspan="4"> 
        <p><span size="2" face="Verdana, Arial, Helvetica, sans-serif"><b><span size="1" color="#99CC33">Suzanne 
          Treister<br>
          </span></b><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33">1991-1992</span><span size="1" color="#99CC33"> 
          </span></span> </p>
        <p><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><i><strong>Fictional 
          Videogame Stills</strong></i> </span></p>
        <p><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33">In 
          the late 1980s I was making paintings about computer games. In January 1991 I bought an Amiga computer and made a series of fictional 
          videogame stills using Deluxe Paint II. I photographed them straight 
          from the screen as there was no other way to output them that I knew 
          of apart from through a very primitive daisy wheel printer where they appeared as washed out dots. <p>
          
          The effect of the photographs perfectly reproduced the highly 
          pixellated, raised needlepoint effect of the Amiga screen image. Conceptually 
          this means of presentation was also appropriate in that it made it seem 
          like I had gone into a videogame arcade and photographed the games there, 
          lending authenticity to the fiction.</p></span><span color="#99cc33" face="Verdana, Arial, Helvetica, sans-serif" size="1">The first seven works on this page form a series titled, 'Q. Would you recognise a Virtual Paradise?'</span><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><p>
          
          Many of these works were shown in London at the Edward Totah Gallery in March 
        1992 (<a href="https://www.suzannetreister.net/Ampics/Installations/Totah-Installation1992/EdwardTotah_1992.html" target="_self">view installation</a>) and later that year</p></span><span color="#99cc33" face="Verdana, Arial, Helvetica, sans-serif" size="1"> at the Exeter Hotel in Adelaide, Australia.<br> 
        In 1995 the 'Q. Would you recognise a Virtual Paradise?' series was shown in London at the Royal Festival Hall in the exhibition<em> It's a Pleasure</em>, curated by Leah Kharibian.</span><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><br>
        Recent venues: Somerset House, London, 2018 <a href="https://www.suzannetreister.net/Ampics/Installations/SomersetHouse2018/SomersetHouse2018.html" target="_self">view installation</a> ; Akron Art Museum, Ohio, USA 2019 and tour; Moderna Museet, Stockholm, Sweden, 2019/20 <a href="https://www.suzannetreister.net/InstallationV/Moderna-Museet_2019.html" target="_self">view installation</a><p>
          
          The original Amiga floppy disks which stored the image files are  corrupt, but the  photographic art works remain.</p></span><span size="1" face="Verdana, Arial, Helvetica, sans-serif" color="#99CC33"><p>
          
          For 
          more information <a href="https://www.suzannetreister.net/Ampages/Treister_Essay.pdf">download my essay</a> 
          from '<a href="http://www.intellectbooks.co.uk/ppbooks.php?isbn=9781841501420" target="_blank">Videogames 
            and Art</a>', Ed. Andy Clarke, Grethe Mitchell, Publ. Intellect Books, 
        UK 2007</p></span></p>
<p><span color="#996633" size="1" face="Verdana, Arial, Helvetica, sans-serif"> <a href="https://www.suzannetreister.net/Videography/Videogames_Video.html" target="_self">view video version</a><p>
            
          click 
  titles below to view enlargements of photo works</p></span></p></td>
    </div></div>]]>
            </description>
            <link>https://www.suzannetreister.net/Ampages/Amenu.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25530307</guid>
            <pubDate>Thu, 24 Dec 2020 19:01:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hotwire vs. Htmx ‚Äì Comparison]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25530101">thread link</a>) | @ksec
<br/>
December 24, 2020 | https://discuss.hotwire.dev/t/hotwire-vs-htmx-comparison/1614 | <a href="https://web.archive.org/web/*/https://discuss.hotwire.dev/t/hotwire-vs-htmx-comparison/1614">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>I‚Äôll respond as someone who is very familiar with both htmx and Intercooler (the predecessor of htmx).</p>
<p>I would say htmx happens to very nicely support progressive enhancement, if that‚Äôs your goal. Take this description of the hx:boost attribute for example:</p>
<blockquote>
<p>The <code>hx-boost</code> attribute allows you to ‚Äúboost‚Äù normal anchors and form tags to use AJAX instead. This has the <a href="https://en.wikipedia.org/wiki/Progressive_enhancement" rel="noopener nofollow ugc">nice fallback</a> that, if the user does not have javascript enabled, the site will continue to work.</p>
</blockquote>
<p><em><strong>But what really sets htmx apart</strong></em> imho, is that you get to update <em>parts</em> of the page dynamically, by just adding some html attributes! I.e. no JavaScript required.</p>
<p>It doesn‚Äôt end there of course, it makes implementing many web app staples like lazy loading, type-ahead search, dependent selects, click-to-edit, etc. absolutely trivial to implement (here‚Äôs the list of examples: <a href="https://htmx.org/examples" rel="noopener nofollow ugc">https://htmx.org/examples</a>).</p>
<p>Then there‚Äôs event handling, animation transitions, websockets, sse ‚Ä¶ the list goes on ‚Ä¶ ALL through specifying some attributes on bog standard html elements!</p>
<p>The clue is in the name really: htm<strong>x</strong>‚Ä¶ as in <em>extending</em> html. I like to think of it as extending the html spec to bring you everything we‚Äôve come to expect from modern web app development, purely through html, css and your favorite back-end framework.</p>
<p>My personal intercooler/htmx journey began by wanting to ‚Äúajaxify‚Äù a rather large, traditional MVC, full-page-refresh app, without doing a complete rewrite (it‚Äôs a Playframework app, so essentially the Java-based equivalent of Rails).</p>
<p>It was trivially easy to start ‚Äúsprinkling in‚Äù aka progressively enhancing the app, with no backend changes at all, just by adding a few attributes on the existing html elements.</p>
<p>Not long after that, we had transformed the entire app into what feels like any other SPA (not a single full page refresh in sight), complete with history (back-button) support, while it still being a bog standard MVC app, with server side templates being rendered to the frontend. This, as they say, was a MASSIVE win <img src="https://sjc2.discourse-cdn.com/standard10/images/emoji/apple/grin.png?v=9" title=":grin:" alt=":grin:"></p>
<p>Bottom line: if you believe that simplicity beats the ‚Äúsexy" complexity introduced by heavy JS frameworks like React, Vue, Angular, etc; if you‚Äôre a single developer/small team wanting to productively churn out simple, easy to understand code that doesn‚Äôt require a bunch of extra build steps; if you buy into philosophies like the idea behind Tailwind CSS, Alpine.js and yes some parts of Hotwire (<em>especially</em> the ‚Äúhtml over the wire‚Äù part), then I suggest you at least try out htmx before you make a decision.</p>
<p>I‚Äôm willing to bet you won‚Äôt regret it <img src="https://sjc2.discourse-cdn.com/standard10/images/emoji/apple/slight_smile.png?v=9" title=":slight_smile:" alt=":slight_smile:"></p>
<p>P.S. I Just saw that the guy who made both intercooler and htmx responded while I was writing this, by pretty much saying what I was trying to say, just much more succinctly <img src="https://sjc2.discourse-cdn.com/standard10/images/emoji/apple/joy.png?v=9" title=":joy:" alt=":joy:"></p>
        </div></div>]]>
            </description>
            <link>https://discuss.hotwire.dev/t/hotwire-vs-htmx-comparison/1614</link>
            <guid isPermaLink="false">hacker-news-small-sites-25530101</guid>
            <pubDate>Thu, 24 Dec 2020 18:39:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LLVM for Programming Language Creators]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25529702">thread link</a>) | @techcreator4
<br/>
December 24, 2020 | https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/ | <a href="https://web.archive.org/web/*/https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><h3>Creating the Bolt Compiler: Part 8</h3><p><h3>December 24, 2020</h3><h3>12 min read</h3></p><nav><h2>Series: Creating the Bolt Compiler</h2><ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><strong>Part 8: A Complete Guide to LLVM for Programming Language Creators</strong></li><li><em>Part 9: Concurrency is a Runtime Feature, Not a Compiler Feature*</em></li><li><em>Part 10: Inheritance and method overriding in Bolt*</em></li><li><em>Part 11: Generics - adding polymorphism to Bolt*</em></li><p>*coming soon! </p></ul></nav><hr><p><strong>Update</strong>: this post has now taken off on <a href="https://news.ycombinator.com/item?id=25539797">Hacker News</a> and <a href="https://www.reddit.com/r/programming/comments/kjjijf/a_complete_guide_to_llvm_for_programming_language/">Reddit</a>. Thank you all!</p><p>I have a small request:</p><div><div><div> <h3>Share This On Twitter</h3><p>If you find this useful, please share on Twitter, thank you!</p></div></div></div><h2 id="whos-this-tutorial-for"><a href="#whos-this-tutorial-for" aria-label="whos this tutorial for permalink"></a>Who‚Äôs this tutorial for?</h2><p>This series of compiler tutorials is for people who don‚Äôt just want to create a <em>toy</em> language.
You want objects. You want polymorphism. You want concurrency. You want garbage collection. Wait you don‚Äôt want GC? Okay, no worries, we won‚Äôt do that :P</p><p>If you‚Äôve just joined the series at this stage, here‚Äôs a quick recap. We‚Äôre designing a Java-esque concurrent object-oriented programming language <em>Bolt</em>. We‚Äôve gone through the compiler frontend, where we‚Äôve done the parsing, type-checking and dataflow analysis. We‚Äôve <a href="https://mukulrathi.co.uk/create-your-own-programming-language/lower-language-constructs-to-llvm/">desugared our language to get it ready for LLVM</a> - the main takeaway is that objects have been desugared to structs, and their methods desugared to functions.</p><p>Learn about LLVM and you‚Äôll be the envy of your friends. Rust uses LLVM for its backend, so it must be cool. You‚Äôll beat them on all those performance benchmarks, without having to hand-optimise your code or write machine assembly code. Shhhh, I won‚Äôt tell them.</p><h2 id="just-give-me-the-code"><a href="#just-give-me-the-code" aria-label="just give me the code permalink"></a>Just give me the code!</h2><p>All the code can be found in the <a href="https://github.com/mukul-rathi/bolt">Bolt compiler repository</a>.</p><p>The C++ class definitions for our desugared representation (we call this <em>Bolt IR</em>) can be found in <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/deserialise_ir">deserialise_ir</a> folder. The code for this post (the LLVM IR generation) can be found in the <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/llvm_ir_codegen">llvm_ir_codegen</a> folder. The repo uses the Visitor design pattern and ample use of <code>std::unique_ptr</code> to make memory management easier.</p><p>To cut through the boilerplate, to find out how to generate LLVM IR for a particular language expression, search for the <code>IRCodegenVisitor::codegen</code> method that takes in the corresponding <code>ExprIR</code> object. e.g. for if-else statements:</p><div><div><pre><p><span>Value </span><span>*</span><span>IRCodegenVisitor</span><span>::</span><span>codegen</span><span>(</span><span>const</span><span> ExprIfElseIR </span><span>&amp;</span><span>expr</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>.</span><span>.</span><span>.</span><span> </span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="understanding-llvm-ir"><a href="#understanding-llvm-ir" aria-label="understanding llvm ir permalink"></a>Understanding LLVM IR</h2><p>LLVM sits in the <strong>middle-end</strong> of our compiler, <em>after</em> we‚Äôve desugared our language features, but <em>before</em> the backends that target specific machine architectures (x86, ARM etc.)</p><p>LLVM‚Äôs IR is pretty low-level, it can‚Äôt contain language features present in some languages but not others (e.g. classes are present in C++ but not C). If you‚Äôve come across instruction sets before, LLVM IR is a <a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer#:~:text=A%20reduced%20instruction%20set%20computer,instruction%20set%20computer%20(CISC).">RISC</a> instruction set.</p><p>The upshot of it is that LLVM IR looks like a more <em>readable</em> form of assembly. As LLVM IR is <strong>machine independent</strong>, we don‚Äôt need to worry about the number of registers, size of datatypes, calling conventions or other machine-specific details.</p><p>So instead of a fixed number of physical registers, in LLVM IR we have an unlimited set of <em>virtual</em> registers (labelled <code>%0</code>, <code>%1</code>, <code>%2</code>, <code>%3</code>‚Ä¶ we can write and read from. It‚Äôs the backend‚Äôs job to map from virtual to physical registers.</p><p>And rather than allocating specific sizes of datatypes, we retain <strong>types</strong> in LLVM IR. Again, the backend will take this type information and map it to the size of the datatype. LLVM has types for different sizes of <code>int</code>s and floats, e.g. <code>int32</code>, <code>int8</code>, <code>int1</code> etc. It also has derived types: like <strong>pointer</strong> types, <strong>array</strong> types, <strong>struct</strong> types, <strong>function</strong> types. To find out more, check out the <a href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> documentation.</p><p>Now, built into LLVM are a set of optimisations we can run over the LLVM IR e.g. <a href="https://en.wikipedia.org/wiki/Dead_code_elimination">dead-code elimination</a>, <a href="https://en.wikipedia.org/wiki/Inline_expansion">function inlining</a>, <a href="https://cran.r-project.org/web/packages/rco/vignettes/opt-common-subexpr.html">common subexpression elimination</a> etc. The details of these algorithms are irrelevant: LLVM implements them for us.</p><p>Our side of the bargain is that we write LLVM IR in <a href="https://en.wikipedia.org/wiki/Static_single_assignment_form">Static Single Assignment (SSA) form</a>, as SSA form makes life easier for optimisation writers. SSA form sounds fancy, but it just means we define variables before use and assign to variables <strong>only once</strong>. In SSA form, we cannot reassign to a variable, e.g. <code>x = x+1</code>; instead we assign to a fresh variable each time (<code>x2 = x1 + 1</code>).</p><p>So in short: LLVM IR looks like assembly with <strong>types</strong>, minus the messy machine-specific details. LLVM IR must be in SSA form, which makes it easier to optimise. Let‚Äôs look at an example!</p><h3 id="an-example-factorial"><a href="#an-example-factorial" aria-label="an example factorial permalink"></a>An example: Factorial</h3><p>Let‚Äôs look at a simple factorial function in our language Bolt:</p><div><p><span>factorial.bolt</span></p><div><pre><p><span>function </span><span>int</span><span> </span><span>factorial</span><span>(</span><span>int</span><span> n</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>if</span><span> </span><span>(</span><span>n</span><span>==</span><span>0</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>1</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>else</span><span>{</span><span></span></p><p><span>    n </span><span>*</span><span> </span><span>factorial</span><span>(</span><span>n </span><span>-</span><span> </span><span>1</span><span>)</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>The corresponding LLVM IR is as follows:</p><div><p><span>factorial.ll</span></p><div><pre><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>eq </span><span>=</span><span> icmp eq i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>0</span><span>   </span><span></span></p><p><span>  br i1 </span><span>%</span><span>eq</span><span>,</span><span> label </span><span>%</span><span>then</span><span>,</span><span> label </span><span>%</span><span>else</span><span></span></p><p><span>then</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span></span><span>else</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  </span><span>%</span><span>sub </span><span>=</span><span> sub i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>1</span><span>   </span><span></span></p><p><span>  </span><span>%</span><span>2</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>%</span><span>sub</span><span>)</span><span> </span><span></span></p><p><span>  </span><span>%</span><span>mult </span><span>=</span><span> mul i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>%</span><span>2</span><span>  </span><span></span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span>ifcont</span><span>:</span><span>                                           </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>else</span><span>,</span><span> </span><span>%</span><span>then</span></p><p><span>  </span><span>%</span><span>iftmp </span><span>=</span><span> phi i32 </span><span>[</span><span> </span><span>1</span><span>,</span><span> </span><span>%</span><span>then </span><span>]</span><span>,</span><span> </span><span>[</span><span> </span><span>%</span><span>mult</span><span>,</span><span> </span><span>%</span><span>else</span><span> </span><span>]</span><span></span></p><p><span>  ret i32 </span><span>%</span><span>iftmp</span></p><p><span></span><span>}</span></p></pre></div></div><p>Note the <code>.ll</code> extension is for <strong>human-readable</strong> LLVM IR output. There‚Äôs also <code>.bc</code> for bit-code, a more compact machine representation of LLVM IR.</p><p>We can walk through this IR in 4 levels of detail:</p><h4 id="at-the-instruction-level"><a href="#at-the-instruction-level" aria-label="at the instruction level permalink"></a>At the Instruction Level:</h4><p>Notice how LLVM IR contains assembly instructions like <code>br</code> and <code>icmp</code>, but abstracts the machine-specific messy details of function calling conventions with a single <code>call</code> instruction.</p><p><span>
      <a href="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial instructions" title="Factorial instructions" src="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png" srcset="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/222b7/factorial-instructions.png 163w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/ff46a/factorial-instructions.png 325w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png 650w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/e548f/factorial-instructions.png 975w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/3c492/factorial-instructions.png 1300w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png 1806w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-control-flow-graph-level"><a href="#at-the-control-flow-graph-level" aria-label="at the control flow graph level permalink"></a>At the Control Flow Graph Level:</h4><p>If we take a step back, you can see the IR defines the <strong>control flow graph</strong> of the program. IR instructions are grouped into labeled <strong>basic blocks</strong>, and the <code>preds</code> labels for each block represent incoming edges to that block. e.g. the <code>ifcont</code> basic block has predecessors <code>then</code> and <code>else</code>:</p><p>At this point, I‚Äôm going to assume you have come across Control Flow Graphs and basic blocks. We introduced Control Flow Graphs in a previous post in the series, where we used them to perform different dataflow analyses on the program. I‚Äôd recommend you go and check the <a href="http://mukulrathi.co.uk/create-your-own-programming-language/data-race-dataflow-analysis/#control-flow-graph">CFG section of that dataflow analysis post</a> now. I‚Äôll wait here :)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial control flow graph" title="Factorial control flow graph" src="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png" srcset="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/222b7/factorial-cfg.png 163w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/ff46a/factorial-cfg.png 325w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png 650w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/e548f/factorial-cfg.png 975w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/3c492/factorial-cfg.png 1300w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png 2034w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>The <code>phi</code> instruction represents <strong>conditional assignment</strong>: assigning different values depending on which preceding basic block we‚Äôve just come from. It is of the form <code>phi type [val1, predecessor1], [val2, predecessor2], ...</code> In the example above, we set <code>%iftmp</code> to 1 if we‚Äôve come from the <code>then</code> block, and <code>%mult</code> if we‚Äôve come from the <code>else</code> block. Phi nodes must be at the <strong>start</strong> of a block, and include one entry for each predecessor.</p><h4 id="at-the-function-level"><a href="#at-the-function-level" aria-label="at the function level permalink"></a>At the Function Level:</h4><p>Taking another step back, the overall structure of a function in LLVM IR is as follows:</p><p><span>
      <a href="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial fn" title="Factorial fn" src="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png" srcset="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/222b7/factorial-fn.png 163w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/ff46a/factorial-fn.png 325w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png 650w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/e548f/factorial-fn.png 975w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/3c492/factorial-fn.png 1300w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png 1708w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-module-level"><a href="#at-the-module-level" aria-label="at the module level permalink"></a>At the Module Level:</h4><p>An LLVM <strong>module</strong> contains all the information associated with a program file. (For multi-file programs, we‚Äôd link together their corresponding modules.)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="LLVM Module" title="LLVM Module" src="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png" srcset="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/222b7/module.png 163w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/ff46a/module.png 325w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png 650w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/e548f/module.png 975w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/3c492/module.png 1300w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png 1988w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>Our <code>factorial</code> function is just one function definition in our module. If we want to execute the program, e.g. to compute <code>factorial(10)</code> we need to define a
<code>main</code> function, which will be the entrypoint for our program‚Äôs execution. The <code>main</code> function‚Äôs signature is a hangover from C (we return 0 to indicate successful execution):</p><div><p><span>example_program.c</span></p><div><pre><p><span></span><span>int</span><span> </span><span>main</span><span>(</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>factorial</span><span>(</span><span>10</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>0</span><span>;</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>We specify that we want to compile for an Intel Macbook Pro in the module target info:</p><div><p><span>example_module.ll</span></p><div><pre><p><span>source_filename </span><span>=</span><span> </span><span>"Module"</span><span></span></p><p><span>target triple </span><span>=</span><span> </span><span>"x86_64-apple-darwin18.7.0"</span><span></span></p><p><span></span><span>.</span><span>.</span><span>.</span><span></span></p><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>.</span><span>.</span><span>.</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span>define i32 @</span><span>main</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>0</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>10</span><span>)</span><span></span></p><p><span>  ret i32 </span><span>0</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="the-llvm-api-key-concepts"><a href="#the-llvm-api-key-concepts" aria-label="the llvm api key concepts permalink"></a>The LLVM API: Key Concepts</h2><p>Now we‚Äôve got the basics of LLVM IR down, let‚Äôs introduce the LLVM API. We‚Äôll go through the key concepts, then introduce more of the API as we explore LLVM IR further.</p><p>LLVM defines a whole host of classes that map to the concepts we‚Äôve talked about.</p><ul><li><code>Value</code></li><li><code>Module</code></li><li><code>Type</code></li><li><code>Function</code></li><li><code>BasicBlock</code></li><li><code>BranchInst</code>
‚Ä¶</li></ul><p>These are all in the namespace <code>llvm</code>. In the Bolt repo, I chose to make this namespacing explicit by referring to them as <code>llvm::Value</code>, <code>llvm::Module</code> etc.)</p><p>Most of the LLVM API is quite mechanical. Now you‚Äôve seen the diagrams that define modules, functions and basic blocks, the relationship between their corresponding classes in the API falls out nicely. You can query a <code>Module</code> object to get a list of its <code>Function</code> objects, and query a <code>Function</code> to get the list of its <code>BasicBlock</code>s, and the other way round: you can query a <code>BasicBlock</code> to get its parent <code>Function</code> object.</p><p><code>Value</code> is the base class for any value computed by the program. This could be a function (<code>Function</code> subclasses <code>Value</code>), a basic block (<code>BasicBlock</code> also subclasses <code>Value</code>), an instruction, or the result of an intermediate computation.</p><p>Each of the expression <code>codegen</code> methods returns a <code>Value *</code>: the result of executing that expression. You can think of these <code>codegen</code> methods as generating the IR for that expression and the <code>Value *</code> representing the virtual register containing the expression‚Äôs result.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.h#L64-L84"> <!-- -->ir_codegen_visitor.h</a></span></p><div><pre><p><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIntegerIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprBooleanIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIdentifierIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprConstructorIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprLetIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprAssignIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span></p></pre></div></div><p>How do we generate the IR for these expressions? We create a <strong>unique</strong> <code>Context</code> object to tie our whole code generation together. We use this <code>Context</code> to get access to core LLVM data structures e.g LLVM modules and <code>IRBuilder</code> objects.</p><p>We‚Äôll use the context to create just one module, which we‚Äôll imaginatively name <code>"Module"</code>.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.cc#L17-L19"> <!-- -->ir_codegen_visitor.cc</a></span></p><div><pre><p><span>context </span><span>=</span><span> make_unique</span><span>&lt;</span><span>LLVMContext</span><span>&gt;</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>builder </span><span>=</span><span> std</span><span>::</span><span>unique_ptr</span><span>&lt;</span><span>IRBuilder</span><span>&lt;</span><span>&gt;&gt;</span><span>(</span><span>new</span><span> IRBuilder</span><span>&lt;</span><span>&gt;</span><span>(</span><span>*</span><span>context</span><span>)</span><span>)</span><span>;</span><span></span></p><p><span>module </span><span>=</span><span> make_unique</span><span>&lt;</span><span>Module</span><span>&gt;</span><span>(</span><span>"Module"</span><span>,</span><span> </span><span>*</span><span>context</span><span>)</span><span>;</span></p></pre></div></div><h3 id="irbuilder"><a href="#irbuilder" aria-label="irbuilder permalink"></a>IRBuilder</h3><p>We use the <code>IRBuilder</code> object to incrementally build up our IR. It is intuitively the equivalent of a file pointer when reading/writing a file - it carries around <em>implicit</em> state, e.g. the last instruction added, the basic block of that ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</a></em></p>]]>
            </description>
            <link>https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529702</guid>
            <pubDate>Thu, 24 Dec 2020 17:55:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Maslow's Pyramid in the Workplace]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25529672">thread link</a>) | @techmoderate
<br/>
December 24, 2020 | https://techmoderate.com/p/maslows-pyramid-in-the-workplace | <a href="https://web.archive.org/web/*/https://techmoderate.com/p/maslows-pyramid-in-the-workplace">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Maslow‚Äôs pyramid is a framework for understanding human motivation.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4ec888a4-7602-418a-ab7a-94b966dc7e00_1024x791.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4ec888a4-7602-418a-ab7a-94b966dc7e00_1024x791.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/4ec888a4-7602-418a-ab7a-94b966dc7e00_1024x791.jpeg&quot;,&quot;height&quot;:791,&quot;width&quot;:1024,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:301908,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null}" alt=""></a></figure></div><p>The base of this pyramid lie the physiological needs of every human: air, water, food, shelter, sleep, clothing, reproduction. Each stage of the pyramid must be met in order to reach the top - self-actualization.</p><p>The value of a knowledge worker stems from their ability to solve problems and be creative - both at the top of the pyramid. Tech workplaces already acknowledge this basic reality: healthy food, air, water (12 varieties) and countless wellness programs are offered across the industry, typically for free.</p><p>Companies boast about providing all of these foundational needs to their employees - except sex (for obvious reasons). In one word, it‚Äôs distracting and that‚Äôs disastrous for an early stage company. Here‚Äôs an example from Twitter to illustrate:</p><p>At first glance, this comes off as incendiary. I think the intention was to say ‚Äúdon‚Äôt ruin team dynamics before you find product market fit‚Äù. But that wouldn‚Äôt read well or suggest a backstory. Obviously, this tweet was not received well:</p><p>Women joining the industry may see this as yet another hurdle they have to face in order to succeed while those already in the industry may wonder whether this question influenced their chances at past employment. These are the reasonable concerns I could come up with - perhaps there are more.</p><p>Does that invalidate Slava‚Äôs advice? He‚Äôs saying you should consider team dynamics when hiring based on what‚Äôs best for your team over society as a whole. In this case, don‚Äôt hire someone if they will pull down your team‚Äôs productivity - even if it‚Äôs not their fault. Traits like personality and work style also factor into this.</p><p>Ultimately, it‚Äôs hard to encourage any meaningful notion of diversity within a small startup. These teams are too small to matter and it‚Äôs hard to blame them when big companies with vast recruiting budgets don‚Äôt do much better. But we can, and should, encourage *more* teams to form, with a diversity of compositions (for example, a  startup composed mostly of women).</p></div></div>]]>
            </description>
            <link>https://techmoderate.com/p/maslows-pyramid-in-the-workplace</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529672</guid>
            <pubDate>Thu, 24 Dec 2020 17:51:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making a digital clock in Google Sheets]]>
            </title>
            <description>
<![CDATA[
Score 60 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25529618">thread link</a>) | @DamnInteresting
<br/>
December 24, 2020 | https://www.therobinlord.com/making-a-digital-clock-in-google-sheets/ | <a href="https://web.archive.org/web/*/https://www.therobinlord.com/making-a-digital-clock-in-google-sheets/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-920">

<div>
<p>‚ÄúThis is cool, really cool, but I feel like maybe you need an intervention‚Äù ‚Äì Friend‚Äôs reaction when I showed them this.</p>

<h2>What have I done?</h2>
<p>Using only Google Sheets formulas I‚Äôve made a digital clock. It updates every minute, it‚Äôs a clock, that‚Äôs pretty much it.</p>
<h2>Why have I done it?</h2>
<p><strong>I‚Äôm a very strong believer in getting the most out of the tools available to us and this kind of rubbish is a great way to learn things which are </strong><em><strong>way</strong></em><strong> more useful elsewhere</strong>!</p>
<p>Without doing anything like custom functions in JavaScript ‚Äì Google Sheets is <em>amazingly </em>flexible. I‚Äôve used it to automate things like <a href="https://moz.com/blog/visualising-time-using-google-sheets">project management tasks</a> and even <a href="https://www.distilled.net/resources/screaming-frog-and-google-sheets/">website change detection using Screaming Frog</a>. </p>
<p>Google Sheets is also <em>really</em> accessible ‚Äì if you make something in Google Sheets you can share it with colleagues and clients without them needing to install anything, without them needing an account, and without them being made nervous by any mention of code.</p>
<p>Languages like Python and JavaScript are great ways to get things done but it is fun to see what we can achieve with little ole Sheets.</p>
<h2>The sheet</h2>
<p>Access the <a href="https://docs.google.com/spreadsheets/d/1_EjJsdfzLL6LaTtJnTZ26BzHRHBDJy1paHeeZ87toT0/copy">Google Sheets digital clock here</a> if you want to have a play with it. I‚Äôve set the link to automatically copy so you have your own version where you can see the formulas at work.</p>

<h2>How have I done it? (The important bit!)</h2>
<p>As I say ‚Äì the value of these things is what we are able to learn. So let‚Äôs see what we‚Äôve learned.</p>
<h3>1. Getting the current time ‚Äì now()</h3>
<p><em>=now()</em> returns current date and time in this format: <strong><em>24/10/2020 23:24:00</em></strong></p>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.24.12.png.webp" type="image/webp"><img src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.24.12.png" alt="" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.24.12.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></picture></figure>
<p>We‚Äôll put that in cell A1.</p>
<h3>2. Getting minutes and hours ‚Äì hour() and minute()</h3>
<p><em>=hour(A1)</em> will give us the hour contained in a specific time. If we used hour() on the timestamp above we would get <em><strong>23</strong></em></p>
<p><em>=minute(A1)</em> gives us the minute. If we used minute() on the timestamp above we‚Äôd get <strong><em>24</em></strong></p>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.24.06.png.webp" type="image/webp"><img src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.24.06.png" alt="" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.24.06.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></picture></figure>
<h3>3. Splitting minutes and hours into individual digits ‚Äì regexextract()</h3>
<p>=regexextract() lets us get part of the value out of a cell, but only as long as it‚Äôs used on text (digits can be interpreted as either numbers or text in Sheets). So <span>first</span> we use =text(hour(A1),‚Äù##‚Äù) ‚Äì that takes the hour from the timestamp and turn it into text.</p>
<p>You may notice below that the hour and minute values are left-aligned rather than right-aligned. That‚Äôs one way to spot whether Sheets might be treating digits as a number or as text.</p>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.27.16.png.webp" type="image/webp"><img src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.27.16.png" alt="" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.27.16.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></picture></figure>
<p>Then we use =regexextract() to get the first number of the hour like so <em>=regexextract(text(HOUR(A1),‚Äù##‚Äù),‚Äù^\d‚Äù)</em>. Don‚Äôt worry too much about that RegEx, all it means is ‚Äúthe first digit‚Äù. If you want to learn more about RegEx ‚Äì check out my <a href="https://www.therobinlord.com/projects/slash-escape">RegEx learning game ‚Äì Slash Escape</a>.</p>
<p>We‚Äôll extract the last number of the hour like this; <em>=regexextract(text(HOUR(A1),‚Äù##‚Äù),‚Äù\d$‚Äù)</em></p>
<p>Then we do the same for both of the minute digits.</p>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50.png.webp 329w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50-300x158.png.webp 300w" sizes="(max-width: 329px) 100vw, 329px" type="image/webp"><img src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50.png" alt="" srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50.png 329w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50-300x158.png 300w" sizes="(max-width: 329px) 100vw, 329px" data-srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50.png 329w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50-300x158.png 300w" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-24-at-23.34.50.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></picture></figure>
<h3>3. Changing colours ‚Äì Sheets conditional formatting</h3>
<p>To create our digital clock, we need to tell sheets which cells to highlight at which time. To do that we‚Äôll use Sheets‚Äô amazingly flexible conditional formatting.</p>
<p>We‚Äôll apply a different conditional format to each space in our clock. To make it clearer ‚Äì here‚Äôs each of them highlighted in a different colour.</p>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png.webp 464w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45-300x184.png.webp 300w" sizes="(max-width: 464px) 100vw, 464px" type="image/webp"><img alt="" data-srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png 464w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45-300x184.png 300w" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png" data-sizes="(max-width: 464px) 100vw, 464px" srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png 464w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45-300x184.png 300w" src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png"></picture></figure>
<p>We have four rules, one for each digit in our clock. Each splits out a portion of the time for our display. Our broad process is;</p>
<ul><li>The rule defining the green number above<ul><li>When the first digit of the hour is 1 ‚Äì highlight all the cells in the first block which we‚Äôve marked as ‚Äú1 cells‚Äù</li><li>When the first digit of the hour is 8 ‚Äì highlight all the cells in the first block which we‚Äôve marked as ‚Äú8 cells‚Äù<br></li></ul></li><li>The rule defining the blue number above<ul><li>When the first digit of the minute is 6 ‚Äì highlight all the cells in the last block which we‚Äôve marked as ‚Äú6 cells‚Äù</li></ul></li></ul>
<p>etc. etc. etc.</p>
<div>
<div>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05.png.webp 297w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05-183x300.png.webp 183w" sizes="(max-width: 297px) 100vw, 297px" type="image/webp"><img src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05.png" alt="" srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05.png 297w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05-183x300.png 183w" sizes="(max-width: 297px) 100vw, 297px" data-srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05.png 297w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05-183x300.png 183w" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.14.05.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></picture></figure>
</div>
<div>
<p>Our first, green digit, at maximum will occupy any of the cells between C3 and H14.</p>
<p>In each of the cells in that range, we‚Äôve written out a RegEx which tells us if a digit will use that cell.</p>
<p>For example, cell C3 will be highlighted if we are creating the digits 4, 5 or 7. It won‚Äôt be highlighted if we‚Äôre creating the digits 0, 1, 2, 3, 6, 8, or 9. So in C3 we have written<em> ^(4|5|7)$</em> which means ‚Äúmatch 4, 5, or 7, exactly ‚Äì nothing else.</p>
<p>In this case ‚Äì U1 is where we‚Äôve put our first extracted digit of the hour. So the custom formula written there means ‚Äúwhen the first digit of the hour matches 4, 5, or 7, highlight C3‚Äù. </p>
</div>
</div>
<p>One smart thing about custom formulas in Google Sheets is, if you apply it to a range of cells (like C3:H14) it will take relative and absolute cell references into account. In our formula we‚Äôve used $U$1 ‚Äì that‚Äôs an absolute cell reference ‚Äì no matter where we are applying this custom formula ‚Äì that part will always refer to U1. However ‚Äì we haven‚Äôt written $C$3 ‚Äì we‚Äôve just written C3. So, in the first cell of our range, we‚Äôll refer to C3 but if we apply this formula to a cell one row down it‚Äôll refer to C4, if we then move one column across it‚Äôll refer to D4.</p>
<p>This is how we create our clock without having to write out a different conditional formula for each one. When the conditional formatting is applied to C4, it‚Äôll check whether the regex in C4 matches the first digit of the hour. The regex in C4 is <em>^(2|3|4|5|6|8|9|0)$</em> so if the first digit of the hour is 2 ‚Äì C4 will be highlighted and C3 won‚Äôt be.</p>
<h3>4. Drawing all the numbers ‚Äì join()</h3>
<p>It would be a massive pain to just try to write out all of these regex formulas one-by-one. Instead we‚Äôll write out each of the possible digits we want to represent and then combine them into our regex.</p>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-1024x358.png.webp 1024w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-300x105.png.webp 300w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-768x269.png.webp 768w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38.png.webp 1440w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" type="image/webp"><img src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-1024x358.png" alt="" srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-1024x358.png 1024w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-300x105.png 300w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-768x269.png 768w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38.png 1440w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-1024x358.png 1024w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-300x105.png 300w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-768x269.png 768w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38.png 1440w" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.41.38-1024x358.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></picture></figure>
<p>Our Clock C3 cell in our is a combination of the numbers in our digits sheet <em>A3, G3, M3, S3, Y3, AE3, AK3, AQ3, AW3, BC3</em>. Clock C4 is <em>A4, G4, M4</em> etc. etc. etc.</p>
<p>The formula we use to do that is; <em>JOIN(‚Äú|‚Äù,Digits!A3,Digits!G3,Digits!M3,Digits!S3,Digits!Y3,Digits!AE3,Digits!AK3,Digits!AQ3,Digits!AW3,Digits!BC3)</em></p>
<p>Basically ‚Äì take the value from each of these cells and join them together with a pipe | in between them (because pipe in regex means <strong>or</strong>).</p>
<h3>5. Removing errant pipes ‚Äì regexreplace()</h3>
<p>The problem with this is we have some empty cells so we can end up with a regex that reads <em>|||4|5||7||| </em> ‚Äì having those empty spaces means we won‚Äôt just match numbers ‚Äì we‚Äôll match a lack of number too, which could screw up our clock. To get rid of those problematic extra bits we‚Äôll use regex <em>on</em> our regex. </p>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Yo-Dawg-Heard-You.jpg.webp 500w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Yo-Dawg-Heard-You-300x194.jpg.webp 300w" sizes="(max-width: 500px) 100vw, 500px" type="image/webp"><img alt="" data-srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Yo-Dawg-Heard-You.jpg 500w, https://www.therobinlord.com/wp-content/uploads/2020/10/Yo-Dawg-Heard-You-300x194.jpg 300w" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Yo-Dawg-Heard-You.jpg" data-sizes="(max-width: 500px) 100vw, 500px" srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Yo-Dawg-Heard-You.jpg 500w, https://www.therobinlord.com/wp-content/uploads/2020/10/Yo-Dawg-Heard-You-300x194.jpg 300w" src="https://www.therobinlord.com/wp-content/uploads/2020/10/Yo-Dawg-Heard-You.jpg"></picture></figure>
<p><em>=regexreplace(JOIN(‚Ä¶),‚Äù\|{2,}‚Äù,‚Äù|‚Äù)</em></p>
<p>This formula will take the result of our join, identify anything that matches <strong>\|{2,}</strong> (basically two or more pipes in the row) and replaces them with | ‚Äì one pipe.</p>
<p>We also don‚Äôt want to end up with pipes at the start or end like this; |4|5| so we‚Äôll regexreplace on our regexreplace</p>

<p><em>=regexreplace(regexreplace(‚Ä¶),‚Äù(^\||\|$)‚Äù,‚Äù‚Äù))</em></p>
<p>This formula will look at the result of our last regexreplace(), find anything that matches <strong>^\|</strong> (a pipe at the start of the text) or <strong>\|$</strong> (a pipe at the end of the text) and replace either with ‚Äú‚Äù (nothing).</p>
<p>So now we have a regex like this; <strong>4|5</strong></p>
<h2>5. Complete our regex ‚Äì &amp; concatenation</h2>
<p>To make sure we have a nice, specific, regex to match on we can add some text to the start and end. Google Sheets has a concatenate function but I find using &amp; easier to read</p>
<p>=‚Äù^(‚Äú&amp;regexreplace(‚Ä¶)&amp;‚Äù)$‚Äù</p>
<p>That formula will take our cleaned up regex, add brakcets and a ‚Äústart‚Äô and ‚Äúend‚Äù symbol so we have something like this; <strong>^(</strong>4|5)$</p>
<p>We know that regex will only match either the digit 4 or the digit 5 and nothing else. Nice and specific.</p>
<h3>6. Create all the rest of our digits ‚Äì arrayformula()</h3>
<p>At this point we‚Äôve created the template for our first hour digit. We don‚Äôt want to go through all of that for each of the other templates and they can all be identical. So we use arrayformula to copy one block of cells to another place.</p>
<p><em>=arrayformula($C$3:$H$14) </em>duplicates our template, we can do that for each of our other digits.</p>
<h3>7. Highlighting the rest of our digits ‚Äì Sheets conditional formatting</h3>
<figure><picture><source srcset="https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png.webp 464w, https://www.therobinlord.com/wp-content/webp-express/webp-images/doc-root/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45-300x184.png.webp 300w" sizes="(max-width: 464px) 100vw, 464px" type="image/webp"><img alt="" data-srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png 464w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45-300x184.png 300w" data-src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png" data-sizes="(max-width: 464px) 100vw, 464px" srcset="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png 464w, https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45-300x184.png 300w" src="https://www.therobinlord.com/wp-content/uploads/2020/10/Screenshot-2020-10-25-at-11.06.45.png"></picture></figure>
<p>Our first conditional formatting formula checked each cell in the green block against the first digit of the current hour. Our second formula checks the cells in the yellow block against the second digit of the hour, our third block checks the cells in the blue block against the first digit of the minute etc. etc.</p>

<h2>Any ideas?</h2>
<p>As above ‚Äì feel free to play around with the Google Sheet and see how it works.</p>

<p>This is a bit of fun which hopefully helps you learn some Sheets tricks that‚Äôll be valuable elsewhere. One thing I love about open platforms like sheets is there are <em>loads</em> of people creating this kind of thing. When I started to share this, a colleague pointed out that <a href="https://www.benlcollins.com/spreadsheets/google-sheets-formula-clock/">Ben Collins actually created a working </a><em><a href="https://www.benlcollins.com/spreadsheets/google-sheets-formula-clock/">analogue</a></em><a href="https://www.benlcollins.com/spreadsheets/google-sheets-formula-clock/"> clock using Sheets sparkline formulas, which is very impressive.</a></p>
<p>Have you seen any cool sheets projects recently? Anything you think I could have done better here? Tweet me @robinlord8 </p>
</div>
</article></div>]]>
            </description>
            <link>https://www.therobinlord.com/making-a-digital-clock-in-google-sheets/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529618</guid>
            <pubDate>Thu, 24 Dec 2020 17:45:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GoDaddy employees told they were getting a holiday bonus in a phishing test]]>
            </title>
            <description>
<![CDATA[
Score 194 | Comments 243 (<a href="https://news.ycombinator.com/item?id=25529584">thread link</a>) | @arkadiyt
<br/>
December 24, 2020 | https://coppercourier.com/story/godaddy-employees-holiday-bonus-secruity-test/ | <a href="https://web.archive.org/web/*/https://coppercourier.com/story/godaddy-employees-holiday-bonus-secruity-test/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					
<h2>Roughly 500 employees failed the test, which claimed they would receive a $650 bonus.</h2>



<p>‚Äú2020 has been a record year for GoDaddy, thanks to you!‚Äù the email read.</p>



<p>Sent by Happyholiday@Godaddy.com, tucked underneath a glittering banner of a snowflake and stamped with the words ‚ÄúGoDaddy Holiday Party,‚Äù the Dec. 14 email to hundreds of GoDaddy employees promised some welcome financial relief during an <a href="https://coppercourier.com/story/tens-of-millions-of-americans-face-economic-ruin-unless-congress-gets-its-sht-together/">otherwise stressful year</a>.</p>



<p>‚ÄúThough we cannot celebrate together during our annual Holiday Party, we want to show our appreciation and share a $650 one-time Holiday bonus!‚Äù the email read. ‚ÄúTo ensure that you receive your one-time bonus in time for the Holidays, please select your location and fill in the details by Friday, December 18th.‚Äù</p>



<p>But, two days later, the company sent another email.</p>



<p>‚ÄúYou‚Äôre getting this email because you failed our recent phishing test,‚Äù the company‚Äôs chief security officer Demetrius Comes<strong> </strong>wrote. ‚ÄúYou will need to retake the Security Awareness Social Engineering training.‚Äù</p>



<figure><picture>
	<source media="(max-width: 320px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=284">
	<source media="(max-width: 768px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=676">
	<source media="(max-width: 1280px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=1400">
	<img src="https://fwiw.imgix.net/wp-content/uploads/2020/12/GoDaddy-Email.png?w=1400" width="1400" height="9999" alt="" title="">
	
	
</picture></figure>



<figure>
		<picture>
	<source media="(max-width: 320px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=284">
	<source media="(max-width: 768px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=676">
	<source media="(max-width: 1280px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=1400">
	<img src="https://fwiw.imgix.net/wp-content/uploads/2020/12/Use2.png?w=1400" width="1400" height="9999" alt="" title="">
	
	
</picture><span>A Dec. 14 email sent to hundreds of GoDaddy employees offered a holiday bonus to employees. It turned out to be a phishing test.</span><figcaption>Screenshots of the email were sent to The Copper Courier by multiple GoDaddy employees.</figcaption>
	</figure>



<p>Phishing tests are sent by companies to gauge their employees‚Äô susceptibility to phishing attacks, where people outside the company will attempt to disguise themselves as trusted sources to gain access to sensitive information, like usernames and passwords.</p>



<p>The follow-up email from Comes said that roughly 500 GoDaddy employees clicked on the holiday bonus email and ‚Äúfailed the test.‚Äù</p>



<p>Scottsdale-based GoDaddy, the world‚Äôs largest domain registrar and web-hosting company, did not respond to repeated requests for comment about the emails. The emails were forwarded to The Copper Courier by three GoDaddy employees.</p>



<p>Earlier this year, <a href="https://www.forbes.com/sites/daveywinder/2020/05/05/godaddy-confirms-data-breach-what-19-million-customers-need-to-know/?sh=235bf0a91daa">Forbes reported</a> that 28,000 GoDaddy customers were impacted after a data breach compromised their account usernames and passwords.&nbsp;</p>



<p>Despite the company <a href="https://investors.godaddy.net/newsroom/news-releases/press-release-details/2020/GoDaddy-Reports-Second-Quarter-2020-Earnings-Results/default.aspx">surpassing 20 million customers this year</a> and reporting ‚Äúrecord customer growth,‚Äù the company <a href="https://aboutus.godaddy.net/newsroom/news-releases/press-release-details/2020/GoDaddy-Blog-Update/default.aspx">laid off or reassigned</a> hundreds of employees during the coronavirus pandemic, <a href="https://www.abc15.com/news/business/godaddy-to-lay-off-hundreds-close-texas-offices">including in Arizona</a>, Iowa, and Texas.</p>



<p>GoDaddy is not the first company this year to trick employees into falling for phishing scams by dangling the carrot of a potential bonus.</p>



<p>In September, Tribune Publishing, which owns <a href="https://www.tribpub.com/#">several major newspapers</a> around the country, sent a similar email to its employees.</p>



<p>The email, circulated by <a href="https://twitter.com/justin_fenton/status/1308851669397053440">several furious Tribune employees on Twitter</a>, said the company was giving out targeted bonuses of $5,000-$10,000, only to later reveal itself as a phishing test sent by the company.</p>



<figure><div>
<figure><blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p>I've been able to confirm that this was in fact! an internal test from <a href="https://twitter.com/tribpub?ref_src=twsrc%5Etfw">@tribpub</a>. If you click the links, you get a message from the company's training contractor saying you clicked on a simulated phishing test.</p><p>The level of cruelty is actually stunning, even for this company.</p></div>‚Äî Danielle Ohl (@DTOhl) <a href="https://twitter.com/DTOhl/status/1308850196978298880?ref_src=twsrc%5Etfw">September 23, 2020</a></blockquote></figure>
</div></figure>



<p>‚ÄúThe level of cruelty is actually stunning,‚Äù Tribune reporter Danielle Ohl <a href="https://twitter.com/DTOhl/status/1308850196978298880?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1308850196978298880%7Ctwgr%5E%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Fwww.vice.com%2Fen%2Farticle%2Fy3z8g5%2Ftribune-publishing-out-evils-itself-with-phishing-email-promising-bonuses">wrote at the time</a>.</p>



<p>A Tribune spokesperson <a href="https://www.vice.com/en/article/y3z8g5/tribune-publishing-out-evils-itself-with-phishing-email-promising-bonuses">later told Vice News</a> that the exercise was part of a regular, internal test to assess phishing risks and said that it had no intention of offending its employees. ‚ÄúIn retrospect, the topic of the email was misleading and insensitive, and the company apologizes for its use,‚Äù the statement read.</p>



<p><em>Want to talk about phishing tests you‚Äôve received from your employer? Reach the reporter at <a href="mailto:lorraine@couriernewsroom.com">lorraine@couriernewsroom.com</a> or 480-243-4086.</em></p>
				</div><div>
	<hr>
	<div>
    <a href="https://coppercourier.com/author/lorrainelonghi/">
        <picture>
	<source media="(max-width: 90px)" srcset="https://fwiw.imgix.net/wp-content/uploads/2020/11/Lorraine-Longhi-.jpg?w=90">
	<img src="https://fwiw.imgix.net/wp-content/uploads/2020/11/Lorraine-Longhi-.jpg?w=90" width="90" height="9999" alt="Lorraine Longhi" title="Lorraine Longhi">
</picture>    </a>
    <div>
        <p>
            <a href="https://coppercourier.com/author/lorrainelonghi/">
                Lorraine Longhi            </a>
            is a reporter for The Copper Courier. She is a native of the Southwest and has lived in Phoenix since 2006. A graduate of ASU‚Äôs Walter Cronkite School of Journalism, she previously worked for The Arizona Republic, covering city government, education, and the impact of statewide decisions.        </p>
        
    </div>
</div>
</div></div>]]>
            </description>
            <link>https://coppercourier.com/story/godaddy-employees-holiday-bonus-secruity-test/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529584</guid>
            <pubDate>Thu, 24 Dec 2020 17:42:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Functional Programming as a Scientific Revolution]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25529450">thread link</a>) | @jbmilgrom
<br/>
December 24, 2020 | https://softwarefordays.com/post/fp-as-a-scientific-revolution/ | <a href="https://web.archive.org/web/*/https://softwarefordays.com/post/fp-as-a-scientific-revolution/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      

<p>Excerpted from <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time/">Functional Programming and the Semantics of Change, State &amp; Time</a> because sometimes you need to see the waterfall to want to take the hike.</p>
<blockquote>
<p>We were all object-oriented programmers at one point in time ‚Äî Rich Hickey, <a href="https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/ValueOfValuesLong.md">The Value of Values</a></p>
</blockquote>
<p>Assimilation of functional semantics with any regular conception of the physical world is no easy task. Look again around the room, bus or park and you will likely still identify distinct objects that may change over time. I kicked around chapter 3 of <a href="https://web.mit.edu/alexmv/6.037/sicp.pdf">SICP</a> for over a year before wrapping my head around it. That we may still be experiencing disbelief at the thought of a new model for time suggests a larger game at play.</p>
<p>Dominant scientific paradigms pervade our language, on the one hand, and way of thinking, on the other.</p>
<blockquote>
<p>Scientific practice always involves the production and the explanation of generalizations about nature; those activities presuppose a language with some minimal richness; and the acquisition of such a language brings knowledge of nature with it. When the exhibit of examples is part of the process of learning terms like ‚Äúmotion,‚Äù ‚Äò‚Äòcell,‚Äò‚Äò or ‚Äò‚Äòenergy element,‚Äô‚Äô what is acquired is knowledge of language and of the world together. <strong>On the one hand</strong>, the student learns what these terms mean, what features are relevant to attaching them to nature, what things cannot be said of them on pain of self-contradiction, and so on. <strong>On the other hand</strong>, the student learns what categories of things populate the world, what their salient features are, and something about the behavior that is and is not permitted to them. In much of language learning these two sorts of knowledge ‚Äî <strong>knowledge of words and knowledge of nature</strong> ‚Äî are acquired together, not really two sorts of knowledge at all, but two faces of the single coinage that a language provides. ‚Äî Thomas Kuhn, <a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">What are Scientific Revolutions?</a></p>
</blockquote>
<p>As a result, a new discovery ‚Äúthat cannot be accommodated within the concepts in use before‚Äù may elicit surprise or even disbelief. ‚ÄúOne cannot get from the old to the new simply by an addition to what was already known. Nor can one quite describe the new in the vocabulary of the old or vice versa.‚Äù (<a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">Thomas Kuhn</a>) Rather, in order to ‚Äúmake or to assimilate such a discovery one must alter the way one thinks about and describes some range of natural phenomena‚Äù; even the articulation of an observation that runs counter to the dominant paradigm can only be ‚Äúformulated by altering the language with which nature [is] described.‚Äù (<a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">Thomas Kuhn</a>)</p>
<blockquote>
<p>Consider the compound sentence, ‚ÄúIn the Ptolemaic system planets revolve about the earth; in the Copernican they revolve about the sun.‚Äù Strictly construed, that sentence is incoherent. The first occurrence of the term ‚Äúplanet‚Äù is Ptolemaic, the second Copernican, and the two attach to nature differently. For no univocal reading of the term ‚Äúplanet‚Äù is the compound sentence true. ‚Äî Thomas Kuhn, <a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">What are Scientific Revolutions?</a></p>
</blockquote>
<p>Similarly, object-orientation pervades our language, on the one hand. That ‚Äúobjects change as time elapses‚Äù is a statement of obvious fact betrays the object-oriented presumption embedded in our language. ‚ÄúObject‚Äù (and ‚Äúidentity‚Äù), ‚Äúchange‚Äù (and ‚Äústate‚Äù), and ‚Äútime‚Äù work together to describe a coherent <em>object-oriented</em> view. On the other hand, objects orient our perception of our own physical reality.</p>
<blockquote>
<p>Modeling with objects is powerful and intuitive, largely because this matches the perception of interacting with a world of which we are part. ‚Äî <a href="https://web.mit.edu/alexmv/6.037/sicp.pdf">SICP</a> Section 3.5.5</p>
</blockquote>
<p>Look again around the room, bus, park or wherever you find yourself reading this sentence, and you will likely identify ‚Äúa collection of distinct objects,‚Äù such as dogs, people, and trees, ‚Äúwhose behaviors may change over time.‚Äù</p>
<p>Yet, the behavior of a functional program cannot be described in terms that attribute change to the enduring identity of objects as time elapses. And because of the dominance of object-orientation as reflected in the presumptions of our natural language, we cannot so much as describe the semantics of a functional program except through altering our language and reconstituting our physical reality. Meaningful ‚Äúidentity‚Äù must disappear in favor of change itself. ‚ÄúState‚Äù must describe the result of change instead of an object quality. ‚ÄúTime‚Äù must describe discrete state changes rather than any continuous dynamicness attributable to all objects.</p>
<p>No wonder the functional model may still elicit disbelief. <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time">This essay</a> can be seen as an uphill climb against the gravity of a dominant paradigm; the functional view is perhaps expressible now, but only because of <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time">the arduous work put in above</a>. Our natural language is not so easily distorted, violated and repurposed and our thought patterns are comorbid with our language.</p>
<blockquote>
<p>Until those changes had occurred, language itself resisted the invention and introduction of the sought after new theories. The same resistance by language is, I take it, the reason for Planck‚Äôs switch from ‚Äò‚Äòelement‚Äô‚Äô and ‚Äò‚Äòresonator‚Äô‚Äô to ‚Äò‚Äòquantum‚Äô‚Äô and ‚Äò‚Äòoscillator.‚Äô‚Äô Violation or distortion of a previously unproblematic scientific language is the touchstone for revolutionary change. ‚Äî Thomas Kuhn, <a href="http://sites.fas.harvard.edu/~hsci161/Sci._Rev._Reader/12_S6_Kuhn.pdf">What are Scientific Revolutions?</a></p>
</blockquote>
<p>As a result, teaching functional programming to anyone is like teaching Copernican astronomy to a Ptolemaic astronomer or quantum mechanics to a Newtonian physicist. We lack the basic language to articulate the underlying concepts. Worse still, the language we do have is endemic to a conflicting paradigm. Perhaps the disparity between the efficacy<sup><a href="#fn1" id="fnref1">[1]</a></sup> and popularity<sup><a href="#fn2" id="fnref2">[2]</a></sup> of functional programming languages is best explained in this light.</p>
<blockquote>
<p>A new scientific truth does not triumph by convincing its opponents and making them see the light, but rather because its opponents eventually die, and a new generation grows up that is familiar with it ‚Äî Max Plank, <a href="https://pubs.acs.org/doi/pdf/10.1021/ed027p288.1">autobiography</a>, quoted by Thomas Kuhn, <a href="https://en.wikipedia.org/wiki/The_Structure_of_Scientific_Revolutions">The Structure of Scientific Revolutions</a></p>
</blockquote>
<p>Nevertheless, the functional view is indeed expressible as a result of the <a href="https://softwarefordays.com/post/functional-programming-and-identity-state-and-time">work put in above</a>. We can see change as creating something new, instead of altering something of old, and time as a series of successive states. We can alter our language and reimagine our physical reality to support a functional view of change, state and time.</p>
<hr>
<section>
<ol>
<li id="fn1"><p>There are many advantages to functional programming. Programs that deal with mutation are ‚Äúdrastically more difficult‚Äù to reason about than ones that do not.</p>
<blockquote>
<p>Referential transparency is violated when we include set! [i.e. assignment operations] in our computer language. This makes it tricky to determine when we can simplify expressions by substituting equivalent expressions. Consequently, reasoning about programs that use assignment becomes drastically more difficult ‚Äî SICP Section 3.1.3</p>
</blockquote>
<p>In particular, functions avoid <a href="https://www.yegor256.com/2015/12/08/temporal-coupling-between-method-calls.html">temporal coupling</a> since there is no time,</p>
<blockquote>
<p>In general, programming with assignment forces us to carefully consider the relative orders of the assignments to make sure that each statement is using the correct version of the variables that have been changed. This issue simply does not arise in functional programs. ‚Äî SICP Section 3.1.3</p>
</blockquote>
<p>and dramatically reduce debugging and unit testing complexity since there is no meaningful context.</p>
<blockquote>
<p>‚ÄúAnd that is the problem with places. You have this sort of global state that you have to reproduce in order to debug a field problem. That is very very tough.‚Äù Rich Hickey, <a href="https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/ValueOfValuesLong.md">The Value of Values</a></p>
</blockquote>
<p>Reified state couches in writing what must otherwise live in a programmer‚Äôs heads ‚Äî each member of a team can read a function signature instead of building up (hopefully) the same working memory for each object. Couching state in language makes it accessible to static language analysis tools. <a href="https://blog.ploeh.dk/2019/07/01/yes-silver-bullet/#bd2d47d8dac2401e936ca7902bc9109d">A compiler may exhaustively permute the set of application states</a> without actually running manually-written (exhaust<em>ing</em>) unit tests. Functional programs are more easily parallelized since they are just functions with no internal model for time.</p>
<blockquote>
<p>Unfortunately, the complexities introduced by assignment become even more problematic in the presence of concurrency. ‚Äî SICP Section 3.4</p>
</blockquote>
<p>These advantages have been known for decades. John Backus ‚Äúgave high visibility to functional programming‚Äù (SICP Section 3.5.5; also see Simon Peyton-Jones, <a href="https://www.youtube.com/watch?v=re96UgMk6GQ">Escape from the ivory tower: the Haskel journey</a>) through his <a href="https://www.thocp.net/biographies/papers/backus_turingaward_lecture.pdf">Turing Award lecture</a> in 1978, seven years before the creation of <a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a> and thirteen before <a href="https://en.wikipedia.org/wiki/Java_%28programming_language%29">Java</a>. <a href="#fnref1">‚Ü©Ô∏é</a></p>
</li>
<li id="fn2"><p>The <a href="https://www.tiobe.com/tiobe-index/">20 most popular languages</a> are predominantly imperative or object-oriented. <a href="#fnref2">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>




    </div></div>]]>
            </description>
            <link>https://softwarefordays.com/post/fp-as-a-scientific-revolution/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25529450</guid>
            <pubDate>Thu, 24 Dec 2020 17:30:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a React Native App for Your Christmas Lights]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25528794">thread link</a>) | @burningion
<br/>
December 24, 2020 | https://www.makeartwithpython.com/blog/minimum-viable-christmas-lights/ | <a href="https://web.archive.org/web/*/https://www.makeartwithpython.com/blog/minimum-viable-christmas-lights/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      <section itemprop="text">
        

<p><img src="https://makeartwithpython.s3-us-west-2.amazonaws.com/mcyds.png" alt="McDonalds!"></p>

<p>There is no shortage of questionable products to connect you and your home to the internet.</p>

<p>Each brings another sketchy WiFi device connected to your network, and another set of microphones, each listening in your home for their special trigger word.</p>

<p>Rather than invite more digital strangers into our home, it feels more appropriate to keep a personal garden of digital things we‚Äôve made.</p>

<p>In today‚Äôs post, we‚Äôll build a tiny web application (and iPhone / Android app!) to control Christmas lights that only works when you‚Äôre home, and connected to your home network.</p>



<p><img src="https://kpkaiser.s3-us-west-2.amazonaws.com/react-native-christmas1.png" alt="React Native Christmas Lights"></p>

<p>The <a href="https://amzn.to/3hezYGq">Jetson Nano</a> is my favorite platforms for building localized internet of things projects.</p>

<p>It‚Äôs an ARM64 device, with four built in USB ports, and was designed to do machine learning at the edge.</p>

<p>We‚Äôll use it as a server for a <a href="https://amzn.to/3pmSe3c">Z-Wave USB Stick</a>. Z-Wave is a protocol that exists to do home automation. Importantly for us, it operates separately from your WiFi.</p>

<p>In my case, I‚Äôve hooked it up to 2 <a href="https://amzn.to/3hgyxHt">outdoor light switches</a>, to turn on and off my Christmas lights.</p>

<p>The light switches come in a waterproof shielding, with a single manual button on them. You can press the button to enable pair mode, and also to manually turn the lights on and off.</p>

<p>Finally, there‚Äôs the React Native app running on my iPhone.</p>

<p>Normally, I wouldn‚Äôt attempt to build an iPhone app for such a small project.</p>

<p>But <a href="https://expo.io/">Expo</a> has made running code on your phone a great experience. They automatically build and push to your phone via an app and the command line.</p>

<h2 id="building-an-api-for-your-christmas-lights">Building an API for Your Christmas Lights</h2>

<p>The first thing we‚Äôll want to do is check to make sure we‚Äôve got the Z-Wave stick installed and running on our USB drive in the Jetson Nano.</p>

<p>Every time I work with Z-Wave, I forget details of how the Z-Wave network model works. Because of this, I like to open up an IPython session, and start playing around with the network:</p>

<div><div><pre><code><span>import</span> <span>openzwave</span>
<span>from</span> <span>openzwave.option</span> <span>import</span> <span>ZWaveOption</span>
<span>from</span> <span>openzwave.network</span> <span>import</span> <span>ZWaveNetwork</span>

<span># make sure these Z-wave commands get flushed with a time.sleep</span>
<span># also, /dev/ttyACM0 is the name of my USB port for the Z-Stick</span>

<span>options</span> <span>=</span> <span>ZWaveOption</span><span>(</span><span>'/dev/ttyACM0'</span><span>)</span>
<span>options</span><span>.</span><span>lock</span><span>()</span>

<span>network</span> <span>=</span> <span>ZWaveNetwork</span><span>(</span><span>options</span><span>)</span>

<span># the next two lines start an IPython session in line</span>
<span>import</span> <span>IPython</span>
<span>IPython</span><span>.</span><span>embed</span><span>()</span>
</code></pre></div></div>

<p>From here, I start to remember how things work, and see that <code>list(network.nodes.keys())</code> gives me a list of the <code>nodes</code> connected to the Z-Wave network. Because I‚Äôm in IPython, I can also tab through each object to see the functions available.</p>

<p>But how do you know what capabilities each Z-Wave node has?</p>

<p>Some Z-Wave devices have multiple switches built into them, each potentially with their own dimmer. To grab switches, we need to do a <code>list(network.nodes[node].get_switches.keys())</code>.</p>

<p>Putting it all together, we can then set state on each node with a <code>set_switch</code> function call:</p>

<div><div><pre><code><span>node_list</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>.</span><span>keys</span><span>())</span>
<span>for</span> <span>node</span> <span>in</span> <span>node_list</span><span>:</span>
    <span>switches</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switches</span><span>()</span><span>.</span><span>keys</span><span>())</span>
    <span>if</span> <span>switches</span><span>:</span>
        <span>if</span> <span>change</span><span>[</span><span>'state'</span><span>]</span> <span>==</span> <span>'ON'</span><span>:</span>
            <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>True</span><span>)</span>
        <span>else</span><span>:</span>
            <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>False</span><span>)</span>
</code></pre></div></div>

<p>Now that I know how to effect change, I can build an API in Flask to serve up changes:</p>

<div><div><pre><code><span>@app.route</span><span>(</span><span>'/state'</span><span>,</span> <span>methods</span><span>=</span><span>[</span><span>'GET'</span><span>,</span> <span>'POST'</span><span>])</span>
<span>def</span> <span>get_state</span><span>():</span>
    <span>if</span> <span>request</span><span>.</span><span>method</span> <span>==</span> <span>'GET'</span><span>:</span>
        <span>node_list</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>.</span><span>keys</span><span>())</span>
        <span>ON</span> <span>=</span> <span>False</span>
        <span>for</span> <span>node</span> <span>in</span> <span>node_list</span><span>:</span>
            <span>switches</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switches</span><span>()</span><span>.</span><span>keys</span><span>())</span>
            <span>if</span> <span>switches</span><span>:</span>
                <span>state</span> <span>=</span> <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switch_state</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>])</span>
                <span>if</span> <span>state</span><span>:</span>
                    <span>ON</span> <span>=</span> <span>True</span>
                    <span>continue</span>
        <span>if</span> <span>ON</span><span>:</span>
            <span>return</span> <span>jsonify</span><span>({</span><span>'state'</span><span>:</span> <span>'ON'</span><span>})</span>

        <span>return</span> <span>jsonify</span><span>({</span><span>'state'</span><span>:</span> <span>'OFF'</span><span>})</span>
    
    <span>change</span> <span>=</span> <span>request</span><span>.</span><span>json</span>

    <span>node_list</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>.</span><span>keys</span><span>())</span>
    <span>for</span> <span>node</span> <span>in</span> <span>node_list</span><span>:</span>
        <span>switches</span> <span>=</span> <span>list</span><span>(</span><span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>get_switches</span><span>()</span><span>.</span><span>keys</span><span>())</span>
        <span>if</span> <span>switches</span><span>:</span>
            <span>if</span> <span>change</span><span>[</span><span>'state'</span><span>]</span> <span>==</span> <span>'ON'</span><span>:</span>
                <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>True</span><span>)</span>
            <span>else</span><span>:</span>
                <span>network</span><span>.</span><span>nodes</span><span>[</span><span>node</span><span>]</span><span>.</span><span>set_switch</span><span>(</span><span>switches</span><span>[</span><span>0</span><span>],</span> <span>False</span><span>)</span>
    <span>time</span><span>.</span><span>sleep</span><span>(</span><span>2</span><span>)</span>
    <span>return</span> <span>jsonify</span><span>(</span><span>change</span><span>)</span>
</code></pre></div></div>

<p>I‚Äôve added a <code>time.sleep</code>, because it can take a bit for the Z-Wave network to propagate state. Two seconds is probably too long to sleep for, but hey, it works, and I‚Äôm not in a hurry.</p>

<h2 id="building-a-react-native-app-with-expo">Building a React Native App with Expo</h2>

<p>Again, building an app is usually too much work for such a small project. But it had been a while since I‚Äôd built an app, and I kept hearing about React Native, so I decided to give it a go.</p>

<p>I was surprised to be able to have a built version of my app on my phone in under an hour. There‚Äôs a new platform called Expo, which handles all of the heavy lifting usually associated with deploying an iPhone app.</p>

<p>Indeed, because my ‚Äúapp‚Äù was so small (literally a single button and a single state of <code>ON</code> or <code>OFF</code>), I really didn‚Äôt have much to do beyond the basic, example app:</p>

<div><div><pre><code><span>import</span> <span>React</span><span>,</span> <span>{</span><span>useState</span><span>,</span> <span>useEffect</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>
<span>import</span> <span>{</span> <span>StyleSheet</span><span>,</span> <span>Text</span><span>,</span> <span>View</span><span>,</span> <span>Button</span><span>,</span> <span>Alert</span> <span>}</span> <span>from</span> <span>'react-native'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>()</span> <span>{</span>
  <span>const</span> <span>[</span><span>currentState</span><span>,</span> <span>setCurrentState</span><span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>);</span>

  <span>const</span> <span>handlePress</span> <span>=</span> <span>e</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> <span>newState</span> <span>=</span> <span>(</span><span>currentState</span> <span>==</span> <span>'ON'</span><span>)</span> <span>?</span> <span>'OFF'</span> <span>:</span> <span>'ON'</span>
    <span>const</span> <span>data</span> <span>=</span> <span>{</span><span>'state'</span><span>:</span> <span>newState</span><span>}</span>

    <span>const</span> <span>requestOptions</span> <span>=</span> <span>{</span>
      <span>method</span><span>:</span> <span>"POST"</span><span>,</span>
      <span>headers</span><span>:</span> <span>{</span> <span>"Content-Type"</span><span>:</span> <span>"application/json"</span> <span>},</span>
      <span>body</span><span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>data</span><span>)</span>
    <span>}</span>
    <span>fetch</span><span>(</span><span>'http://192.168.1.44:8050/state'</span><span>,</span> <span>requestOptions</span><span>)</span>
      <span>.</span><span>then</span><span>(</span><span>response</span> <span>=&gt;</span> <span>response</span><span>.</span><span>json</span><span>())</span>
      <span>.</span><span>then</span><span>(</span><span>res</span> <span>=&gt;</span> <span>setCurrentState</span><span>(</span><span>res</span><span>.</span><span>state</span><span>))</span>
  <span>}</span>

  <span>useEffect</span><span>(()</span> <span>=&gt;</span> <span>{</span>
    <span>fetch</span><span>(</span><span>'http://192.168.1.44:8050/state'</span><span>).</span><span>then</span><span>(</span><span>res</span> <span>=&gt;</span> <span>res</span><span>.</span><span>json</span><span>()).</span><span>then</span><span>(</span><span>data</span> <span>=&gt;</span> <span>{</span>
      <span>setCurrentState</span><span>(</span><span>data</span><span>.</span><span>state</span><span>);</span>
    <span>})</span>
  <span>},</span> <span>[]);</span>

  <span>return</span> <span>(</span>
    <span>&lt;</span><span>View</span> <span>style</span><span>=</span><span>{</span><span>styles</span><span>.</span><span>container</span><span>}</span><span>&gt;</span>
      <span>&lt;</span><span>Text</span><span>&gt;</span><span>Lights</span> <span>are</span> <span>currently</span> <span>{</span><span>currentState</span><span>}</span> <span>&lt;</span><span>/Text</span><span>&gt;
</span>      <span>&lt;</span><span>Button</span> <span>title</span><span>=</span><span>"Toggle Lights"</span> <span>onPress</span><span>=</span><span>{</span><span>handlePress</span><span>}</span> <span>/</span><span>&gt;
</span>    <span>&lt;</span><span>/View</span><span>&gt;
</span>  <span>);</span>
<span>}</span>

<span>const</span> <span>styles</span> <span>=</span> <span>StyleSheet</span><span>.</span><span>create</span><span>({</span>
  <span>container</span><span>:</span> <span>{</span>
    <span>flex</span><span>:</span> <span>1</span><span>,</span>
    <span>backgroundColor</span><span>:</span> <span>'#fff'</span><span>,</span>
    <span>alignItems</span><span>:</span> <span>'center'</span><span>,</span>
    <span>justifyContent</span><span>:</span> <span>'center'</span><span>,</span>
  <span>},</span>
<span>});</span>
</code></pre></div></div>

<p>Here, you can see the call to my Flask app‚Äôs API, on my local area network. I‚Äôve set a static IP address for my Jetson Nano, and am running a Flask server on a non-standard port, <code>8050</code>. I did this because I have other Flask apps running on my Nano.</p>

<p>When the app is opened, a <code>GET</code> request is made to the <code>/state</code> resource. It returns a JSON object, with the current state of the Z-Wave switches. If one is on, the network is considered <code>ON</code>.</p>

<p>From here, we can press a single button, to flip the state. This makes a <code>POST</code> request to the <code>/state</code> resource, with the desired new state.</p>

<p>I can build the app from my terminal to the Expo App on my phone via an <code>expo build:ios</code>. Once that‚Äôs done, I can open up the Expo app and control my Christmas lights.</p>

<p>Mission Accomplished!</p>

<h2 id="alright-im-sold-wheres-the-code">Alright I‚Äôm sold, where‚Äôs the code?</h2>

<p><img src="https://makeartwithpython.s3-us-west-2.amazonaws.com/christmas-lights.gif" alt="Pressing the button"></p>

<p>All of the code is open source, and lives on <a href="https://github.com/burningion/minimum-viable-christmas-lights">Github</a>. I didn‚Äôt mention it, but there‚Äôs also a view in the Flask app you can visit in the browser to control the lights too. You can see it at the <code>/</code> url.</p>

<p>I encourage you to make your app look better than mine, and share the results.</p>

<p>Happy holidays!</p>

        
      </section>

      

      


      
  

    </div></div>]]>
            </description>
            <link>https://www.makeartwithpython.com/blog/minimum-viable-christmas-lights/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528794</guid>
            <pubDate>Thu, 24 Dec 2020 16:19:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Emerging languages and frameworks to watch in 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25528773">thread link</a>) | @jeremybasso
<br/>
December 24, 2020 | https://jeremybasso.dev/5-emerging-languages-and-frameworks-to-watch-in-2021 | <a href="https://web.archive.org/web/*/https://jeremybasso.dev/5-emerging-languages-and-frameworks-to-watch-in-2021">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>2020 has been an awesome year for developers, and we can expect 2021 to be the same. This is why I decided to share with you some of the languages and frameworks I expect to take over the world in 2021.</p>
<h2 id="deno">Deno</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608822461114/qkKraPGRu.png?auto=compress" alt="deno.png"></p>
<p>Deno is a runtime for Javascript launched this year. It has lived a fair amount of attention since the creator of Deno is known to be the creator of Node.js. One of the focuses of Deno is to rise where Node.js has difficulties. </p>
<p>Deno is completely written in Rust, using the V8 engine, and shows some impressive performance insights. </p>
<p>Here are some awesome pointers for Deno:</p>
<ul>
<li>Secure by default: security is ensured by the runtime until you make some breaking changes</li>
<li>TypeScript support</li>
<li>Ships executable file</li>
<li>URL-based dependency management (no more npm or yarn)</li>
<li>very cool logo (I like dinosaurs)</li>
</ul>
<p>For all those reasons, the rise of Deno may be something to notice in 2021, and we can expect Deno to steal some light from Node.js in the future.</p>
<h2 id="kotlin">Kotlin</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608823329851/UC0BFqhX3.png?auto=compress" alt="kotlin_+.png"></p>
<p>Kotlin is a JVM-based language launched in 2017 by the fantastic company JetBrains. The idea is to keep concepts from Java while eliminating boiler-plates and improving the developer experience.</p>
<p>An interesting point is that Kotlin and Java are interoperable, meaning you can add Kotlin to your Java project, or Java to your Kotlin project (why would you do that ?).</p>
<p>Kotlin kept rising inside the Android ecosystem, becoming a supported language with Java and is now the main language for Android developers.</p>
<p>I have been using Kotlin for backend development for some years now, and I can ensure that the language is mature and I had a great developer experience. If you come from Java, there are high chances you will never go back to Java again after trying Kotlin.</p>
<p>Also, Kotlin Multi-Platform is a project to use Kotlin as a language for multi-platform development (iOS, Android, Web). While still being at an early stage, the project saw some great companies such as Netflix or VMWare give a try to Kotlin MP, which a sign of great potential.</p>
<p>Kotlin will keep rising in 2021, and you can expect it to take over the JVM-based languages.</p>
<h2 id="flutter">Flutter</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608824604977/w1ts7oclN.jpeg?auto=compress" alt="flutter-banner.jpg"></p>
<p>Flutter is an open-source SDK allowing users to develop mobile applications using only one codebase written in Dart. It was created by Google in 2015 and </p>
<p>Over the years, a lot of frameworks were created to avoid writing code for Android and for iOS by using one codebase instead: Xamarin, Ionic, Cordova, React Native ...
If you tried some of them, you may have seen some issues such as performances, or specific bugs on specific devices.</p>
<p>Flutter, even though it is not perfect, manages to solve some of those issues. </p>
<p>By using an ahead-of-time compilation, meaning before the execution, Flutter ensures high performances on devices. Maintaining a high FPS rate is not something rare in Flutter while being impossible in React Native as an example.</p>
<p>Also, Flutter is working at a very low level using C++ based libraries. Flutter directly writes on the screen using the Skia graphic library, thus maintaining performance.</p>
<p>In terms of developer experience, I suggest you all give it a try. With Flutter, you can create your UIs programmatically, enjoy features such as dev tools, or hot reload, which is really refreshing.</p>
<p>Flutter already some great app references, such as The New York Times, Tencent, or the Google Assistant, showing huge maturity.</p>
<p>We can expect Flutter to take over the multi-platform mobile development in 2021.</p>
<h2 id="rust">Rust</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608825320545/pnRY3DYsd.png?auto=compress" alt="rust.png">
Rust is an open-source language created by Mozilla in 2010 and launched 1.0 in 2015.</p>
<p>The goal of Rust from the beginning is to be efficient, secure, and performing. The language kept improving for some years now, using the contributions of the community to build the roadmap.</p>
<p>Rust is now in a very good state, putting Rust as one of the best languages in terms of pure performance, making great use of concepts such as functional programming and concurrency. Rust is often mentioned as the successor of C and C++.</p>
<p>We can expect Rust to keep rising in 2021, and become one of the top languages.</p>
<h2 id="solidity">Solidity</h2>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1608826038695/ZJ4YVlCfc.png?auto=compress" alt="solidity.png"></p>
<p>Solidity is a language created in 2014 by the Ethereum Solidity team.</p>
<p>If you are not familiar with blockchain, chances are high that you never heard about Solidity.</p>
<p>Solidity is an object-oriented language, mainly designed to write blockchain smart contracts. It is a leader from the start because it is one of the main languages for the Ethereum implementation, which is one of the top crypto-currencies currently (number two). </p>
<p>Some private blockchains are using Solidity as well, such as HyperLedger.</p>
<p>With the rise of ICO as a funding tool for crypto-currencies, Solidity developers became an essential resource. Indeed, for an Initial Coin Offering, you will need to write (at least on paper) implementation of your future currency, involving tech experts in the matter. </p>
<p>We can expect Solidity to keep rising in the developers market in 2021, with growth tied to the blockchain environment growth.</p>
<h2 id="conclusion">Conclusion</h2>
<p>With Deno, Flutter, Kotlin, Rust, and Solidity, we have 5 strong contenders for the most high-potential languages and frameworks in 2021!</p>
<p>Let me know in the comments if you think of some others!</p>
<p><strong>Thanks for reading !</strong></p>
</div></div>]]>
            </description>
            <link>https://jeremybasso.dev/5-emerging-languages-and-frameworks-to-watch-in-2021</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528773</guid>
            <pubDate>Thu, 24 Dec 2020 16:17:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In CPython, types implemented in C are part of the type tree]]>
            </title>
            <description>
<![CDATA[
Score 106 | Comments 96 (<a href="https://news.ycombinator.com/item?id=25528557">thread link</a>) | @todsacerdoti
<br/>
December 24, 2020 | https://utcc.utoronto.ca/~cks/space/blog/python/CPythonCTypesHaveTree | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/python/CPythonCTypesHaveTree">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>In CPython, types implemented in C actually are part of the type tree</h2>

	<p><small>December 24, 2020</small></p>
</div><div><p>In Python, in theory all types descend from <code>object</code> (they are
direct or indirect subclasses of it). For years, I've believed (and
written) that this was not the case at the implementation level for
types written in native C code in CPython (the standard implementation
of Python and the one you're probably using). Types written in C
might behave as if they descended from <code>object</code>, but I thought their
behavior was actually entirely stand-alone, implemented by each
type separately in C. Courtesy of <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">Python behind the scenes #6:
how Python object system works</a>,
I've discovered that I'm wrong.</p>

<p>In CPython, C level Python types are not literally subclasses of
the C level version of <code>object</code>, because of course C doesn't have
classes and subclasses in that sense. Instead, you usually describe
your type by defining a <a href="https://docs.python.org/3/c-api/typeobj.html"><code>PyTypeObject</code></a> struct for it, with
all sorts of fields that you fill in or don't fill in as you need
them, including a <a href="https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_base"><code>tp_base</code></a> field
for your base type (if you want more than one base type, you need
to take the alternate path of a <a href="https://docs.python.org/3/c-api/typeobj.html#heap-types">heap type</a>). When
CPython needs to execute special methods or other operations on
your type, it will directly use fields on your <code>PyTypeObject</code>
structure (and as far as I know, it only uses those fields, with
no fallbacks). On the surface, this looks like the <code>tp_base</code> field
is essentially decorative and is only used to report your claimed
<code>__base__</code> if people ask.</p>

<p>However, there is a bit of CPython magic hiding behind the scenes.
In order to actually use a <code>PyTypeObject</code> as a type, you must
register it and make it ready by calling <a href="https://docs.python.org/3/c-api/type.html#c.PyType_Ready"><code>PyType_Ready</code></a>. As part
of this, <code>PyType_Ready</code> will use your type's <code>tp_base</code> to fill
in various fields of your <code>PyTypeObject</code> if you didn't already do
that, which effectively means that your C level type will inherit
those fields from its base type (and so on all the way up to
<code>object</code>). This is outlined in <a href="https://docs.python.org/3/c-api/typeobj.html#cols">a section of the C API</a>, but of course
I never read the C API myself because I never needed to use it.
The <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">how [the] Python object system works</a>
article has more details on how this works, if you're curious, along
with details on how special methods also work (which is more
interesting than I had any idea, and I've looked at this area
before).</p>

<p>(The distinction between what is considered a 'type' and what is
considered a 'class' by <code>repr()</code> is somewhat arbitrary; see the
sidebar <a href="https://utcc.utoronto.ca/~cks/space/blog/python/ClassesAndTypes">here</a>. C level things defined with
<code>PyTypeObject</code> will probably always be considered types instead of
classes.)</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/python/CPythonCTypesHaveTree</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528557</guid>
            <pubDate>Thu, 24 Dec 2020 15:54:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hotwiring the Web: What Does Basecamp‚Äôs ‚ÄúNew Magic‚Äù Bring to the Table?]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25528426">thread link</a>) | @davish
<br/>
December 24, 2020 | https://davi.sh/blog/2020/12/hotwiring-the-web/ | <a href="https://web.archive.org/web/*/https://davi.sh/blog/2020/12/hotwiring-the-web/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://hotwire.dev/">Hotwire</a>, which seems to be short for (H)tml (O)ver (T)he (Wire), is a collection of frameworks just announced by Basecamp that work together to help build "traditional" server-rendered web applications that look and feel to users like modern, Single-Page Applications (SPAs) built in React, Angular, Vue or other frontend frameworks. <a href="https://m.signalvnoise.com/html-over-the-wire/">Basecamp's CTO put out a blog post</a> on why he believes in Hotwire, but most of the justification seems to be handwavy claims that JavaScript is inherently "complex," never mind that Ruby's syntax and dynamic type system can be just as head-scratching to a newcomer. I think that Basecamp's built a really interesting tool, and a better argument for Hotwire can be made by fully engaging with the benefits that SPA "<a href="https://www.computerhope.com/jargon/t/thickcli.htm">thick clients</a>" bring to the table, their specific shortcomings, and all the different ways framework developers are trying to address those shortcomings today.</p><h2 id="headline-1">Problems with Web Application Development Today</h2><p>I want to separate "web app" development from general "web" development, simply because most websites aren't single-page applications, or web apps in the sense we think of gmail, or <a href="https://hey.com/">hey.com</a>. It's put most concisely in "<a href="https://css-tricks.com/how-the-web-is-really-built/">How the Web is Really Built</a>". Here, though, I'll be talking about that subset of the web which <em>can</em> be categorized more as an application than simply a web site.</p><p>Building a web app is always going to be a complex endeavour. SPA view libraries like React have emerged in the past five or so years as an awesome way to handle that complexity on the client side, allowing developers to build interactive user-interfaces in a composable way, re-using components easily in different parts of the site.</p><h3 id="headline-2">Duplication of Concerns</h3><p>Generally, when building a React app, you get any dynamic data through a loosely coupled JSON API (in my personal preference, probably written with <a href="https://www.django-rest-framework.org/">Django REST Framework</a>). If you're using a web framework like Django or Ruby on Rails, then you're going to have a lot of complexity and business logic on both the frontend and backend. Whenever you add a feature, you need to ask yourself where it should be added. The loose coupling between parts that may very well be written in different languages means that it's really difficult to share code, and even if you're doing something as simple as validating a form, you'll probably end up with a decent amount of duplicated business logic, a big no-no if you follow the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY principle</a>!</p><h3 id="headline-3">Data Fetching Boilerplate</h3><p>Loosely-coupled APIs present another challenge when building web apps: the boilerplate that comes along with getting the data out of your database and displayed in a browser. The general process for an SPA follows this outline:</p><ol><li><p>[User] Navigates to a page, submits a form, or clicks on a resource.</p></li><li><p>[Browser] Send a request, along with any route parameters and arguments, to a backend API endpoint.</p></li><li><p>[Server] API endpoint is called, fetches data from the database using the parameters in the request.</p></li><li><p>[Server] After retrieving data from the database, marshal that data into JSON to be sent back to the client.</p></li><li><p>[Browser] Receive JSON from request, un-marshal the JSON into data structures that the web app can understand.
For a React app, this would include passing the data as props to each component that uses the data to for render itself.</p></li></ol><p>And that's only the happy path! In the case of a validation error, for example, the server would return a 400 response with some JSON details, and the client again would need to catch that error, and render it properly. It really is a lot of boilerplate for any given request.</p><p>There are frontend libraries like <a href="https://swr.vercel.app/">SWR</a> which factor out as much boilerplate as possible and encourage declarative patterns for your own data fetching, but "thick client" web apps will always need to marshal data to JSON on the server, and un-marshal to some view-able format on the client.</p><h2 id="headline-4">Managing SPA Complexity in 2020</h2><p>There's a bunch of different solutions to these problems for those who still want to provide an SPA experience, and they fall broadly into two separate categories.</p><h3 id="headline-5">Frontend-First: The JAMStack</h3><p>In recent years, there's been a big push towards the <a href="https://jamstack.org/what-is-jamstack/">JAMStack</a>: pushing all your complexity and business logic onto your frontend, and relying mostly on commodified API services for your backend work. JSON is still the lingua franca here, but reliance on pre-built backends as a service for different functionalities, along with query languages like GraphQL, means that there isn't any backend boilerplate handled by developers. All the complexity and business logic is pushed to the client-side, which alleviates worries about duplication of concerns.</p><p>JAMStack and associated "micro-backends" like <a href="https://auth0.com/">Auth0</a>, or "backends-as-a-service" like <a href="https://supabase.io/">Supabase</a> and <a href="https://firebase.google.com/">Google Firebase</a> allow people who haven't done too much backend work in the past to build truly full-stack apps on their own. <a href="https://m3o.com/">m3o</a> is even building a constellation of JAMStack-oriented "micro-services" to provide the batteries to power most web apps. Hmm√¢‚Ç¨¬¶ "batteries included"? Where <a href="https://www.phoenixframework.org/">have</a> we <a href="https://www.djangoproject.com/">heard</a> <a href="https://laravel.com/">that</a> <a href="https://rubyonrails.org/">before</a>√¢‚Ç¨¬¶</p><h3 id="headline-6">Backend-First: Re-discovering the batteries</h3><p>MVC Frameworks like Django and Rails came about during the heyday of Web 2.0 to abstract away a lot of the boilerplate associated with building CRUD web applications, the exact issues that we spoke about above. Back in 2006, all those interactions were through normal browser HTTP requests. SPAs, built with anything from <a href="https://backbonejs.org/">Backbone</a> or <a href="https://emberjs.com/">Ember</a> to React and Vue, were more responsive. These web frameworks became frameworks for JSON API servers, and for many web app developers, functionality like Django's <a href="https://docs.djangoproject.com/en/3.1/ref/templates/">templates</a> and <a href="https://docs.djangoproject.com/en/3.1/topics/forms/#more-about-django-form-classes">forms</a> and the battle-tested <a href="https://docs.djangoproject.com/en/3.1/topics/class-based-views/generic-display/">abstractions</a> for linking them together became vestiges of an earlier age. Django's <code>Form</code> classes can render validation errors in templates with virtually no boilerplate written by developers. As soon as you want to put that form action over a JSON API, any responses from your server, which were previously just the HTML that the browser displayed, now have to be un-marshalled from JSON on the client and handled specifically. How much was Django really a "batteries included" framework if you needed to pull in <a href="https://www.django-rest-framework.org/">REST Framework</a> and <a href="https://github.com/jazzband/django-oauth-toolkit">OAuth Toolkit</a> whenever you wanted to work with a "modern" frontend?</p><p>Many people, myself included, enjoy modeling business logic in the ways Django and its ilk allow for. Backend-first fullstack frameworks have begun to proliferate built on top of these existing frameworks. <a href="https://www.phoenixframework.org/blog/build-a-real-time-twitter-clone-in-15-minutes-with-live-view-and-phoenix-1-5">Phoenix LiveView</a> and <a href="https://laravel-livewire.com/">Laravel Livewire</a> are two that come to mind immediately, and have been around for a year or more.</p><p>On Monday, even the React Core team at Facebook threw their hat in the ring, with their <a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html">Server Components</a> that have the opportunity to allow for React components to be rendered much like PHP templates, interspersing database calls and server-side JavaScript with the layout description inside a server component's <code>render</code> function.</p><p>These fullstack frameworks go a long way towards solving both of the concerns with traditional SPAs listed above. Separation of concerns is no longer an issue, since there is no separate, loosely coupled frontend codebase. Data fetching is drastically simpler in this paradigm. No longer does all your data need to be serialized to JSON before being converted into HTML; your data-fetching flow looks a lot more like this:</p><ol><li><p>[User] Navigates to a page, submits a form, etc.</p></li><li><p>[Server] Backend route is called, fetches/stores appropriate data from the database based on the request.</p></li><li><p>[Server] Data is used to populate an HTML template, which is sent to the client and rendered with the help of the framework.</p></li></ol><p>Your backend business logic renders HTML directly, completely replacing steps 3, 4 and 5 above with a single step: map your data into its visual representation in HTML. The two server steps remaining <em>are</em> the actual business logic in your application: the full-stack framework handles the smooth transitions, without the developer having to worry about serializing and de-serializing their own data. The logical flow of your application becomes a lot simpler for a single developer to follow and to handle.</p><p>Even React's Server Components fit this new paradigm: Data fetching no longer happens in AJAX requests, but by declaring a child server component which fetches the data and displays it in its own DOM tree without the developer having to serialize to/from JSON themselves. After the component renders on the backend, its virtual DOM gets sent to the frontend <em>by React itself</em> for display. The developer's interface into this whole process remains high-level and declarative.</p><h3 id="headline-7">As the Pendulum Swings</h3><p>We started the decade with frameworks like <a href="https://www.meteor.com/">Meteor.js</a> with extremely tight couplings between the client and server, and after a long time wandering in the wilderness of duplicated compelxity across loosely-coupled frontend and backend, it seems like we're entering the twenties with a renewed push towards a <a href="https://m.signalvnoise.com/the-majestic-monolith/">more monolithic</a> approach to web development. When even a frontend framework like React is beginning to bridge the gap with the backend, you know it's an interesting idea to explore right now.</p><h2 id="headline-8">So what is Hotwire?</h2><p>The folks at Basecamp, the company behind Hotwire, have always been skeptical of thick clients with loads of JavaScript. Hotwire is Basecamp's latest answer to the challenge of building modern, responsive, "snappy" single-page applications where the domain logic lives entirely on the server. They used it to build out their new email service, Hey.com.</p><p>At Hotwire's core is <a href="https://turbo.hotwire.dev/">Turbo</a>, a new library that takes HTML from AJAX requests and dynamically modifies the currrent page. It comes out of an existing library called Turbolinks, now called "<a href="https://turbo.hotwire.dev/handbook/drive">Turbo Drive</a>" as of today, which is a utility that intercepts all click events on anchor tags, loads the resources over AJAX, and swaps out the <code>&lt;body&gt;</code> tags, all while handling browser history.</p><p><a href="https://turbo.hotwire.dev/handbook/frames">Turbo Frames</a>, one of the new components, is pretty intriguing. Turbo Drive will still AJAX-ify form submissions and link clicks behind the scenes, but instead of swapping out the entire ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://davi.sh/blog/2020/12/hotwiring-the-web/">https://davi.sh/blog/2020/12/hotwiring-the-web/</a></em></p>]]>
            </description>
            <link>https://davi.sh/blog/2020/12/hotwiring-the-web/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25528426</guid>
            <pubDate>Thu, 24 Dec 2020 15:42:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Polymath Playbook]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25527893">thread link</a>) | @dayve
<br/>
December 24, 2020 | https://salman.io/blog/polymath-playbook/ | <a href="https://web.archive.org/web/*/https://salman.io/blog/polymath-playbook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		


		

		<div>
			<p>You‚Äôve likely heard the saying: ‚ÄúA jack of all trades is a master of none.‚Äù It warns against the futility of pursuing too many disciplines. Be a specialist, or you‚Äôll be nothing.</p>
<p>It may surprise you to learn there‚Äôs actually an extended version: ‚ÄúA jack of all trades is a master of none, but oftentimes better than a master of one.‚Äù With a subtle addition, its meaning becomes inverted to tout the benefits of being a polymath (a.k.a. generalist).</p>
<p>Why is the former so common, and the latter so unknown?</p>
<p>The answer lies in modern society‚Äôs preference for <strong>specialization</strong>. We‚Äôll explore its origin, the limits it places on workers‚Äô freedoms, and how the polymath approach can offer a reprieve. Finally, I‚Äôll share my own experiences and learnings exploring a multitude of pursuits.</p>
<h2 id="cost-of-specialization">Cost of Specialization</h2>
<p>Following unprecedented growth during the industrial revolution, businesses faced more competition than ever before. In order to thrive, they sought new ways to operate more efficiently and productively. Division of labor was the solution they were looking for. By dividing the tasks needed to produce goods and services, individual workers could focus on specific tasks rather than developing a variety of expertise.</p>
<p>One important criteria to optimize for specialization is ensuring that workers stay in the same role for prolonged periods of time. This facilitates increased efficiency by reducing the need for training and allowing individuals to iteratively improve their ability to perform similar tasks. In exchange for their loyalty, the company offers its employees the security of long-term employment, along with additional incentives including tax-sheltered retirement accounts and access to healthcare.</p>
<p>In some parts of the world, these benefits come at a heavy cost to an individual‚Äôs freedom. In the United States for example, if you‚Äôre employed with a company, you get healthcare. Otherwise, you‚Äôre out of luck. Workers are often hesitant to switch jobs (let alone spend extended time without one) out of fear of losing their healthcare benefits. Another part of the problem is that the cost of healthcare in the U.S. is so high. A few days without healthcare and a single accident can push someone into financial ruin. As a result, many people stay at the same job year after year <a href="https://www.forbes.com/sites/jackkelly/2019/10/25/more-than-half-of-us-workers-are-unhappy-in-their-jobs-heres-why-and-what-needs-to-be-done-now/#e8bfe3d20247" target="_blank">even if they‚Äôre unhappy</a>.</p>
<p>The lack of freedom might be a worthy sacrifice in exchange for job security. But therein lies the problem: few companies can actually guarantee long-term stability. Many workers already face ambiguity with their job security due to the impending effects of automation. Now, with the tornado of change brought about by the COVID pandemic, the brittleness of even large corporations‚Äô stability has become apparent.</p>
<p>So how do we survive these waves of change? <strong>Adaptability</strong>.</p>
<p>Workers need to embrace a life of learning and self-evolution in order to thrive.</p>
<blockquote>
<p>In order to keep up with the world of 2050, you will need not merely to invent new ideas and products ‚Äì you will above all need to reinvent yourself again and again.
‚ÄîYuval Noah Harari</p>
</blockquote>
<p>Luckily, we have a template for how to do just that: the <strong>polymath</strong>.</p>
<p>Polymaths engage in extended learning across disparate fields, and apply their learnings to connect ideas and solve problems in unique ways. By nature, they‚Äôre well suited to thrive in a constantly changing environment.</p>
<h2 id="polymath-advantage">Polymath Advantage</h2>
<p>The key advantage that polymaths hold is their ability to develop <strong>mental models</strong> from different fields and apply them to solve problems in a unique way. This enables them to <strong>differentiate</strong> from their competition. Further, it creates opportunities for them to find truly <strong>meaningful work</strong> by pursuing their passions.</p>
<h3 id="differentiation">Differentiation</h3>
<p>One of the challenges with specialization is that it becomes harder to compete over time. This is a bit counter-intuitive. At first you might think the more ‚Äòspecialized‚Äô you become, the more ‚Äòrare‚Äô your skillset is and thus, the better you are in terms of competition. There are two issues that arise as you continue down the path of linear specialization:</p>
<p><strong>1.</strong> <strong>Over-specialization</strong>: This often happens to PhD students who have pursued very niche, highly specific areas of expertise. It‚Äôs rare to find jobs that can actually serve their level of specialization. They find themselves given a choice to continue their career in academia, or take a less desirable job in the workforce that doesn‚Äôt actually leverage their unique skills.</p>
<p><strong>2.</strong> <strong>Diminishing returns</strong>: The larger your team is, the more difficult it becomes to be the <em>absolute best</em> in a particular area. As a simple example: It‚Äôs quite difficult to become the most technically proficient engineer in a given company. However, it‚Äôs much more straightforward to differentiate yourself through excellent communication skills, design sensibilities, leadership skills, and so on.</p>
<p>Once you hit the diminishing returns of specialization on one pursuit (<strong>the limits of depth</strong>), it makes sense to expand to other pursuits and diversify your skills (<strong>the opportunities of breadth</strong>).</p>
<h3 id="mental-models">Mental Models</h3>
<p>When you work in a particular industry for a while, you start to develop mental models based on its structures and dynamics. These are widely known <em>within</em> the industry, but not as much outside of it.</p>
<p>There‚Äôs where the opportunity comes in. If you find yourself working in a new area later in your life, you can combine mental models from different areas in ways that few others can.</p>
<blockquote>
<p>In the 17th century, Johannes Kepler didn‚Äôt have a wealth of existing knowledge or technology to work with. There was no concept of gravity as a force, and he had no notion of momentum that keeps the planets in motion.</p>
<p>Analogies were all he had.</p>
<p>From research on magnets, Kepler began to understand why planets moved toward and away from the sun. By picturing how boats might move in a whirlpool, Kepler began to understand the elliptical orbit patterns of planets.</p>
<p>‚ÄîDavid Epstein, <em>Range</em></p>
</blockquote>
<p>The more pursuits you expose yourself to, the more models you have to work from, and the more you can stand out from the competition.</p>
<h3 id="purpose">Purpose</h3>
<p>I believe the strongest reason polymaths become polymaths is that they simply don‚Äôt have a choice. The urge to pursue one‚Äôs inner passions is strong, and those blessed with a variety of them often find them difficult to ignore.</p>
<p>The polymath‚Äôs search for meaning and purpose through different pursuits can be related to the Japanese concept of <em>Ikigai</em> (‚Äúa reason for being‚Äù):</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/18d8ec9ae04a2c4c035133ad9aab1f75d1df93f7/200f9/img/ikigai.jpg">
</p>
<p>It can take many years or even decades before one sees any intersection between different circles. Yet a single taste can be intoxicating, and motivate a lifetime of pursuit.</p>
<p>What purpose could be greater than discovering purpose itself?</p>
<h2 id="my-inner-fox">My Inner Fox</h2>
<p>When I first began to study polymaths, I was excited to see a template for a life I didn‚Äôt know I was living. But when I started to embrace the polymath identity, my inner critics appeared. I wondered whether I‚Äôm even qualified to write about polymaths, let alone call myself one. After all, the <a href="https://salman.io/notes/the-definition-of-a-polymath">the definition of a polymath</a> is somewhat murky. I‚Äôve spoken to a lot of peers who feel this same hesitation, and it‚Äôs been refreshing to connect with others who are taking a similar approach to life.</p>
<p>I also got a boost of confidence from a book called <em>Hedgehog and the Fox</em> by Isaiah Berlin. The book is a major source of inspiration for the generalist approach, and contrasts two proverbial animals: the specialist hedgehog and the generalist fox. I was elated to discover that the spirit animal for my <em><a href="https://letter.salman.io/" target="_blank">Quick Brown Fox</a></em> newsletter (inspired by <em>The Little Prince</em>‚Äôs fox) was incredibly prescient. It seems my destiny as a polymath fox was written long ago‚Ä¶</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/0450a5b1e748e81b5268216cb24537296d940d00/2e56c/img/fox.jpg">
</p>
<p>I‚Äôve been lucky to have held a lot of different roles and explored a lot of varied interests in my life. I‚Äôve been a startup founder, software engineer, manager, teacher, public speaker, advisor, DJ and writer. Some of these are roles I‚Äôve explored for decades, while others for just a year. Beyond that, I‚Äôve also spent a lot of time on artistic hobbies like illustration and animation. In hindsight, there were a number of benefits I enjoyed as a result of combining different pursuits.</p>
<p>As a DJ, I had to learn to not just play my playlist, but to pay close attention to the audience and cater to them. Looking back, I think <a href="https://soundcloud.com/daretodj" target="_blank">each one of my sets</a> was a live lesson on how to find product-market fit.</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/a46c9dc99267b1f6c2063c80a13243e7dca38bba/ef187/img/salman-dj.jpg">
</p>
<p>Thanks to my <a href="https://vimeo.com/134677777" target="_blank">obsession with animation</a>, I learned to incorporate the principles of animation into the software I built. Later, when I was building digital healthcare experiences, I was able to use animation to bring the patients‚Äô user experience to life. I brought a different perspective to the healthcare world (specifically: the idea that filling out a form could be <strong>fun</strong>).</p>
<p><a target="_blank" href="https://vimeo.com/134677777?autoplay=1">
    <img src="https://d33wubrfki0l68.cloudfront.net/70b053e6d9945d332a18b5ca6bca42ae4ff61e32/ee79e/img/animation-talk-preview.jpg">
  </a>
</p>
<p>Through extended <a href="https://medium.com/@salmansays/teaching-in-paradise-12159066cd86" target="_blank">teaching stints at software development schools</a>, I built strong communication skills that paid dividends in future public speaking engagements as well as all my daily interactions with coworkers. As it turns out, explaining our ideas is crucial to our effectiveness, and teaching provides excellent practice for this skill.</p>
<p>The list goes on.</p>
<p>I didn‚Äôt do any of these things with a goal of being a polymath. I did them because <strong>I was drawn to them</strong>. It took many years before I started to see any benefits from mixing these pursuits.</p>
<p>Now that I‚Äôm intentionally embracing a polymath life, I hope to see the benefits compound even more. I‚Äôm excited to see how this plays out!</p>
<h2 id="freedom-isnt-free">Freedom Isn‚Äôt Free</h2>
<p>We‚Äôve talked a lot about the benefits of the polymath lifestyle. I‚Äôd be remiss if I didn‚Äôt leave you with a few warnings about the obstacles.</p>
<p>One of the strange things about having multiple pursuits is that <strong>you never quite fit</strong> into social groups. I remember joining an iOS developers group where most of the members had been doing iOS development for more than a decade. Meanwhile, I had worked on countless platforms, in different roles across a variety of industries. We may have been in the same group, but we had lived completely different ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://salman.io/blog/polymath-playbook/">https://salman.io/blog/polymath-playbook/</a></em></p>]]>
            </description>
            <link>https://salman.io/blog/polymath-playbook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25527893</guid>
            <pubDate>Thu, 24 Dec 2020 14:50:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why I'm Losing Trust in the Institutions]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25527385">thread link</a>) | @elsewhen
<br/>
December 24, 2020 | https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff318afb6-8f85-48ba-a2a1-ff939ef474ac_6048x4024.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff318afb6-8f85-48ba-a2a1-ff939ef474ac_6048x4024.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f318afb6-8f85-48ba-a2a1-ff939ef474ac_6048x4024.jpeg&quot;,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:11570082,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>Who should be first in line to get the vaccine against Covid-19?</p><p>These kinds of decisions are never easy, and there are many competing considerations. Highly trained moral philosophers can have deep disagreements about them. Though I myself have studied ethics and political philosophy for much of my academic career, I am deeply grateful that I don't have to make those judgment calls. But for all of those difficulties, there are also some bedrock principles on which virtually all moral philosophers have long agreed.</p><p>The first is that we should avoid ‚Äúleveling down‚Äù everyone‚Äôs quality of life for the purpose of achieving equality. It is unjust when some people have plenty of food while others are starving. But alleviating that inequality by making sure that an even greater number of people starve is clearly wrong. The second is that we should not use ascriptive characteristics like race or ethnicity to allocate medical resources. To save one patient rather than another based on the color of their skin rightly strikes most philosophers‚Äîand most Americans‚Äîas barbaric.&nbsp;The Centers for Disease Control have just thrown both of these principles overboard in the name of social justice.</p><p>In one of the most shocking moral misjudgments by a public body I have ever seen, the CDC invoked considerations of ‚Äúsocial justice‚Äù to recommend providing vaccinations&nbsp;to essential workers before older Americans even though this would, according to its own models, lead to a much greater death toll. After a massive public outcry, the agency has adopted revised recommendations. But though these are a clear improvement, they still violate the two bedrock principles of allocative justice‚Äîand are likely to cause unnecessary suffering on a significant scale.</p><p>Since states will now have to decide whether to follow the CDC‚Äôs recommendations, the fight for a just distribution of the vaccine is not yet over. At the same time, the past days have already taught us two lessons that sum up some of the most worrying developments of the past years: The attack on philosophically liberal principles has by now migrated from leafy college campuses to the most important and powerful organizations in the country. And, in part as a result, it is getting harder and harder to trust institutions from the CDC to the <em>New York Times</em>.</p><p><em>To learn more about Persuasion, <a href="https://www.persuasion.community/p/the-purpose-of-persuasion">read our founding manifesto</a>.</em></p><p>On November 23rd, Kathleen Dooling, a public health official at the CDC, <a href="https://www.cdc.gov/vaccines/acip/meetings/downloads/slides-2020-11/COVID-04-Dooling.pdf">gave a presentation</a> to the&nbsp;Advisory Committee on Immunization Practices&nbsp;(ACIP), which is tasked with developing the recommendation on who should first get access to the vaccine against Covid. In a stark departure from the course of action adopted in virtually every other developed democracy, Dooling recommended that 87 million essential workers‚Äîa very broad category including bankers and movie crews as well as teachers or supermarket cashiers‚Äîshould get the vaccine before older Americans, even though the elderly are much more likely to die from the disease. The committee unanimously accepted the recommendations.</p><p>Dooling‚Äôs presentation laid out three different metrics for evaluating whether 87 million ‚Äúessential workers‚Äù or Americans over the age of 65 should be next in line: feasibility, science, and ethics. According to the CDC's own evaluation, considerations of feasibility give us reasons to prioritize older Americans. This makes sense. It is both difficult to determine who should count as an essential worker and to communicate to people who do fall into that category that they are eligible. A straightforward age cut-off makes it easier to decide who's in and reach the target population. As a result, prioritizing the older than 65s leads by this metric.</p><p>Considerations of ‚Äúscience‚Äù also seemed to point in the same direction. As the presentation acknowledged, the likelihood of dying from Covid strongly depends on age. According to the CDC‚Äôs model, prioritizing essential workers over the elderly would therefore increase the overall number of deaths by between 0.5% and 6.5%. In other words, it would likely result in the preventable deaths of thousands of Americans.</p><p>And yet, the presentation concluded that science does <em>not</em> provide a reason to prioritize the elderly. For, as Kathleen Dooling wrote in one of the most jaw-dropping sentences I have ever seen in a document written by a public official, differences in expected consequences that could amount to thousands of additional deaths are ‚Äúminimal.‚Äù</p><p>This allowed Dooling to focus on ‚Äúethical‚Äù principles in selecting the best course of action. Highlighting the most important consideration in red, Dooling emphasized that ‚Äúracial and ethnic minority groups are underrepresented among adults &gt; 65.‚Äù In other words, America‚Äôs elderly are too white to be considered a top priority for the distribution of the vaccine against Covid. It is on this basis that ACIP awarded three times as many points to prioritizing the more racially diverse group of essential workers, making the crucial difference in the overall determination. Astonishingly, the higher overall death toll that would have resulted from this course of action does not feature as an ethical reason to prioritize older Americans.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F781c2d1d-4bc5-4578-86f1-330254e6936e_2556x1430.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F781c2d1d-4bc5-4578-86f1-330254e6936e_2556x1430.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/781c2d1d-4bc5-4578-86f1-330254e6936e_2556x1430.png&quot;,&quot;height&quot;:815,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:191902,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>In the days after ACIP published its preliminary recommendations, barely any epidemiologists or health officials publicly criticized its findings or its reasoning. But thankfully, prominent journalists like <a href="https://zeynep.substack.com/p/will-the-us-snatch-defeat-from-the">Zeynep Tufecki</a>, <a href="https://www.slowboring.com/p/vaccinate-elderly">Matt Yglesias</a> and <a href="https://twitter.com/NateSilver538/status/1340361755403366400">Nate Silver</a> publicly made the case against them. (<a href="https://twitter.com/Yascha_Mounk/status/1340009058280103938">So did I</a>.)</p><p>It is, all of us acknowledge, very important to ensure that members of ethnic minorities are not excluded from access to the vaccine on the basis of their race. But to prioritize a 23-year-old Latino Uber driver who is very likely to weather infection with Covid over an 80-year-old white retiree who is likely to die from it because the former is part of a group that includes marginally more brown people and the latter is part of a group that includes marginally more white people is to inscribe racial discrimination at the heart of American public policy in an astonishing manner.</p><p>It gets even more shocking. The difference in the percentage of white people across age groups is comparatively small. The difference in the percentage of infected people who succumb to Covid across all age groups is massive. Giving the vaccine to African-American essential workers before elderly African-Americans would likely raise the overall death toll of African-Americans even if a somewhat greater number of African-Americans were to receive the vaccine as a result.</p><p>In other words,&nbsp;the CDC was effectively about to recommend that a greater <em>number</em> of African-Americans die so that the <em>share</em> of African-Americans who receive the vaccine is slightly higher.&nbsp;In blatant violation of the ‚Äúleveling down objection,‚Äù prioritizing essential workers in the name of equality would likely kill more people in&nbsp;<em>all</em>&nbsp;relevant demographic groups.</p><p>As criticism of the recommendations mounted, epidemiologists mostly circled the wagon. But thankfully, the pressure was too strong to ignore. At a meeting that had, before the mounting controversy, been expected to rubber-stamp the recommendations that had already been unanimously accepted, ACIP changed course. It now suggested a more complicated scheme. Once medical workers had received the vaccine, both Americans over the age of 74 and essential <em>frontline</em> workers would be vaccinated; in a second phase, Americans over the age of 64 and the broader group of all remaining essential workers would get access to the vaccine.</p><p>Since over half of all deaths from Covid have so far occurred among Americans over the age of 74, this is an undoubted improvement over the initial guidance. But, for two reasons, it too probably sacrifices American lives on the altar of social justice. First, vaccinating Americans over the age of 74 <em>over the same period of time </em>as frontline essential workers will significantly delay when some of those who are at greatest risk will receive the vaccine. And second, starting to vaccinate Americans between the ages of 65 and 74 <em>after </em>30 million frontline essential workers will still put a large group with a comparatively low risk of death ahead of a large group with a significantly higher risk of death. </p><p>Just how many additional deaths will result from the ongoing refusal to prioritize those who are at the highest risk of dying? The CDC won‚Äôt tell us. In the updated presentation, Dooling once again claims that the difference between the CDC‚Äôs preferred course of action and a more strictly age-based approach is ‚Äúminimal.‚Äù But this time around, ACIP has hidden the ball. The updated guidance, which was adopted with a 11-1 majority on December 20th, no longer includes an estimate of how many more people are likely to die if states follow its recommendation.</p><p><em>Get our articles directly into your inbox, and support the work of Persuasion, by <a href="https://www.persuasion.community/subscribe">becoming a subscriber</a>.</em></p><p>Over the past years, stories of campus craziness have frequently made the national news. Whenever some student group or another tried to stop a public figure from speaking at their university, or boycotted the local dining hall over the inauthentic nature of its sushi, many people understandably responded in a dismissive manner: ‚ÄúActivists on campus have always been a little silly,‚Äù they‚Äôd say. ‚ÄúThis won't affect the real world.‚Äù</p><p>It is now clear that this was a serious misjudgment. Many of the trends that started on campus have been rapidly taking over established institutions, from Google to the Centers for Disease Control. Perhaps the most dangerous of these is that many professionals now fear to oppose any proposal that is presented, however implausibly, in the language of social justice‚Äîeven if its foreseeable consequence is to kill a greater number of African-Americans in the name of ‚Äúethics.‚Äù</p><p>America‚Äôs botched guidance on who gets the vaccine first should, once and for all, put the idea that the excesses of wokeness are a small ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions">https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions</a></em></p>]]>
            </description>
            <link>https://www.persuasion.community/p/why-im-losing-trust-in-the-institutions</link>
            <guid isPermaLink="false">hacker-news-small-sites-25527385</guid>
            <pubDate>Thu, 24 Dec 2020 13:46:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Run for Free Xbox]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25526714">thread link</a>) | @derdeat
<br/>
December 24, 2020 | https://www.sotwe.com/tweet/1341973662866485248 | <a href="https://web.archive.org/web/*/https://www.sotwe.com/tweet/1341973662866485248">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.sotwe.com/tweet/1341973662866485248</link>
            <guid isPermaLink="false">hacker-news-small-sites-25526714</guid>
            <pubDate>Thu, 24 Dec 2020 11:46:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Social Media Considered Harmful]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25526518">thread link</a>) | @wslh
<br/>
December 24, 2020 | https://maraoz.com/2020/12/23/bye-social-media/ | <a href="https://web.archive.org/web/*/https://maraoz.com/2020/12/23/bye-social-media/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p><img src="https://maraoz.com/img/bye-social-media/cover.jpg"></p>

<p><span>N</span>ot long ago, we lived in small hunter-gatherer tribes. Social skills evolved along our abilities to use physical tools and language. We spent our days hunting or foraging our food, and had plenty of free time to ponder life. Our survival was dependent upon our social skills. We were rewarded (by the fruits of cooperation) for having friends and social support, and killed (mostly by hunger or predators) if we were antisocial. Our brains developed to be very sensitive to social interactions. The ability to read other‚Äôs emotions, give them importance, and respond to them is a part of our hard-wired social brain. It also takes a lot of mental energy.</p>

<p>In the early days of social media, I was (as is usual with me) an avid promoter and ethusiast. Social media is just <em>amazing</em> for so many things: exploring ideas, being up to date with many topics, connecting with tons of people. Social media helped me bootstrap my professional life, and meet some of the most amazing people. However, I‚Äôve now come to believe that in a couple of years, most people will view using social media as unhealthy, like we do today with smoking. We might need to find better ways to get these benefits withtout the costs.</p>

<p>I stopped using Facebook ~3 years ago, and Instagram ~2 years ago. My online life has been much better since. My offline life too. Today (actually,&nbsp;a month ago), I left Twitter. The costs are simply too high for me. I noticed the less I use any of those apps, the calmer my mind, the more I read, and the more time I spend outside, in real contact with other people and nature. These are things I value more than instant access to news and daily contact with thousands of people at this time.</p>

<p>It is very hard to argue that social media is not harmful for most. We are simply not made to continually know what everyone else is doing or thinking, all the time! And it‚Äôs not a neutral tech. It is actively addictive and destructive to our volition. Most of the people I‚Äôve talked to say they‚Äôd like to use these apps less. Yet somehow they don‚Äôt. Our brains are wired to pay attention to each other and to care about what others think about us. Social media is designed to exploit both these things. It is engineered to hook us in, and to influence our behavior. That‚Äôs the product Facebook, Instagram and Twitter sell to their customers: changing your ideas and behavior. And they got some pretty talented people working on that.</p>

<p>I don‚Äôt really think I can convince anyone to leave social media. I don‚Äôt even think it‚Äôs bad for everyone or that the benefits can‚Äôt outweigh the costs for some. I‚Äôm writing this post because many of you will already be close to leaving one of these apps. You‚Äôve been thinking about it already. You‚Äôve already made up your mind about it, and you‚Äôre waiting for the right moment. If just one person makes the final step into at least <em>trying</em> to live without social media, I‚Äôll be happy.&nbsp;It has made a huge change for me. If you think this is stupid or I don‚Äôt understand the beauty of the Internet, I think you‚Äôll change your mind in a few years. Or social media will ;)</p>

<p>If you do leave social media, feel free to contact me after a couple of months to share experiences. It‚Äôs been amazing for me, and I‚Äôm not going back. I‚Äôm really interested in knowing more about how this change can affect other people‚Äôs life. I‚Äôm also curious to find new ways to stay in touch with people outside my local community which are less toxic to my mind.</p>

<p>To close this brief post, I‚Äôll share a bold prediction (and hope) on this topic: Facebook, Instagram, and Twitter will have less monthly active users in 2025 than today (~2.6 billion, ~1 billion, ~330 million, respectively). I added this to my <a href="https://maraoz.com/2016/03/20/2026/">predictions for 2026 post</a>.</p>

<h3 id="additional-resources-and-learning">Additional Resources and Learning</h3>
<ul>
  <li><a href="https://www.ted.com/talks/cal_newport_why_you_should_quit_social_media?language=en">Cal Newport‚Äôs talk on ‚ÄúWhy you should quit social media‚Äù</a>. Watching this was the first time I seriously considered quitting it forever.</li>
  <li><a href="https://www.imdb.com/title/tt11464826/">The Social Dilemma documentary</a>. Available on Netflix.</li>
  <li><a href="https://www.imdb.com/title/tt5962210/">Ingrid Goes West movie</a>. Thanks Vera!</li>
  <li><a href="https://www.youtube.com/watch?v=Czg_9C7gw0o">‚ÄúIs Social Media Hurting Your Mental Health?‚Äù talk by Bailey Parnell</a>.</li>
  <li><a href="https://www.imdb.com/title/tt5497778/">Black Mirror‚Äôs ‚ÄúNosedive‚Äù episode</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=gM3KIvZO5oU">‚ÄúWhat I learned from my social media fast‚Äù talk by Amber Quinney</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=pOchBnZJdEk">‚ÄúLive in the Moment: Delete Social Media‚Äù talk by Ryan Thomas</a></li>
</ul>

<h3 id="acknowledgements">Acknowledgements</h3>

<p><span>Cover photo by <a href="https://unsplash.com/@milo_contreras?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Camilo Contreras</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>

<h3 id="comments-and-discussion">Comments and Discussion</h3>
<p><a href="https://news.ycombinator.com/item?id=25524429">Discuss on HN</a> - <a href="https://www.reddit.com/r/simpleliving/comments/kj6j15/social_media_considered_harmful/">Discuss on Reddit</a> - <a href="https://maraoz.com/cdn-cgi/l/email-protection#d8baa1bdf5abb7bbb1b9b4f5b5bdbcb1b998b5b9aab9b7a2f6bbb7b5">Email a private comment</a></p>

  </article>
  

</div>

      </div>
    </div></div>]]>
            </description>
            <link>https://maraoz.com/2020/12/23/bye-social-media/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25526518</guid>
            <pubDate>Thu, 24 Dec 2020 10:59:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Oklab: A perceptual color space for image processing]]>
            </title>
            <description>
<![CDATA[
Score 228 | Comments 82 (<a href="https://news.ycombinator.com/item?id=25525726">thread link</a>) | @ingve
<br/>
December 23, 2020 | https://bottosson.github.io/posts/oklab/ | <a href="https://web.archive.org/web/*/https://bottosson.github.io/posts/oklab/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><div><p>A perceptual color space is desirable when doing many kinds of image processing. It is useful for things like:</p><ul><li>Turning an image grayscale, while keeping the perceived lightness the same</li><li>Increasing the saturation of colors, while maintaining perceived hue and lightness</li><li>Creating smooth and uniform looking transitions between colors</li></ul><p>Unfortunately, as far as I am aware, while there are color spaces that aim to be perceptually uniform, none are without significant drawbacks when used for image processing.</p><p>For this reason I have designed a new perceptual color space, designed to be simple to use, while doing a good job at predicting perceived lightness, <a href="https://en.wikipedia.org/wiki/Colorfulness">chroma</a> and hue. It is called the <strong>Oklab color space</strong>, because it is an OK Lab color space.</p><p>Before diving into the details of why a new color space is needed and how it was derived, here is the everything needed to use the color space:</p><p>A color in Oklab is represented with three coordinates, similar to how <a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a> works, but with better perceptual properties. Oklab uses a D65 whitepoint, since this is what sRGB and other common color spaces use. The three coordinates are:</p><ul><li><span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span> ‚Äì perceived lightness</li><li><span><span><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></span> ‚Äì how green/red the color is</li><li><span><span><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span></span> ‚Äì how blue/yellow the color is</li></ul><p>For many operations, <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span>-coordinates can be used directly, but they can also be transformed into polar form, with the coordinates lightness, chroma and hue, <span><span><math><semantics><mrow><mi>L</mi><mi>C</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">LCh</annotation></semantics></math></span></span>:</p><p><span><span><span><math><semantics><mrow><mi>C</mi><mo>=</mo><mrow><msqrt><mrow><msup><mi>a</mi><mn>2</mn></msup><mo>+</mo><msup><mi>b</mi><mn>2</mn></msup></mrow></msqrt></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><msup><mi>h</mi><mrow><mo>‚àò</mo></mrow></msup><mo>=</mo><mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi><mn>2</mn></mtext><mo>(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">C={\sqrt {a^2+b^2}}, \qquad h^{\circ}=\text{atan2}(b,a)</annotation></semantics></math></span></span></span></p><p>From <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><msup><mi>h</mi><mrow><mo>‚àò</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{\circ}</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span></span> can be computed like this:</p><p><span><span><span><math><semantics><mrow><mi>a</mi><mo>=</mo><mi>C</mi><mi>cos</mi><mo>(</mo><msup><mi>h</mi><mrow><mo>‚àò</mo></mrow></msup><mo>)</mo><mo separator="true">,</mo><mspace width="2em"></mspace><mi>b</mi><mo>=</mo><mi>C</mi><mi>sin</mi><mo>(</mo><msup><mi>h</mi><mrow><mo>‚àò</mo></mrow></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">a=C\cos(h^{\circ}),\qquad b=C\sin(h^{\circ})</annotation></semantics></math></span></span></span></p><p>Lets look at a practical example to see how Oklab performs, before looking at how the <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span> coordinates are computed.</p><blockquote><h4 id="comparing-oklab-to-hsv">Comparing Oklab to HSV <a href="#comparing-oklab-to-hsv"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Here‚Äôs an Oklab color gradient with varying hue and constant lightness and chroma.</p><p><img alt="Oklab varying hue plot" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_oklab.png" width="1130"></p><p>Compare this to a similar plot of a HSV color gradient with varying hue and constant value and saturation (HSV using the sRGB color space).</p><p><img alt="HSV varying hue plot" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_hsv.png" width="1130"></p><p>The gradient is quite uneven and there are clear differences in lightness for different hues. Yellow, magenta and cyan appear much lighter than red and blue.</p><p>Here is lightness of the HSV plot, as predicted by Oklab:</p><p><img alt="HSV varying hue plot lightness" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_hsv_lightness.png" width="1130"></p></blockquote><h3 id="implementation">Implementation <a href="#implementation"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><h4 id="converting-from-xyz-to-oklab">Converting from XYZ to Oklab <a href="#converting-from-xyz-to-oklab"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Given a color in <span><span><math><semantics><mrow><mi>X</mi><mi>Y</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">XYZ</annotation></semantics></math></span></span> coordinates, with a D65 whitepoint, Oklab coordinates can be computed like this:</p><p>First the <span><span><math><semantics><mrow><mi>X</mi><mi>Y</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">XYZ</annotation></semantics></math></span></span> coordinates are converted to an approximate cone responses:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>√ó</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l \\ m \\ s \end{pmatrix} = \mathbf{M_1} \times \begin{pmatrix} X \\ Y \\ Z \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>A non-linearity is applied:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l' \\ m' \\ s' \end{pmatrix} = \begin{pmatrix} l^{\frac 1 3} \\ m^{\frac 1 3} \\ s^{\frac 1 3} \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>Finally, this is transformed into the <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span>-coordinates:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>√ó</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} L \\ a \\ b \end{pmatrix} = \mathbf{M_2} \times \begin{pmatrix} l' \\ m' \\ s' \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>with the following values for <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1}</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2}</annotation></semantics></math></span></span>:</p><p><span><span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>8</mn><mn>1</mn><mn>8</mn><mn>9</mn><mn>3</mn><mn>3</mn><mn>0</mn><mn>1</mn><mn>0</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>3</mn><mn>6</mn><mn>1</mn><mn>8</mn><mn>6</mn><mn>6</mn><mn>7</mn><mn>4</mn><mn>2</mn><mn>4</mn></mrow></mtd><mtd><mrow><mo>‚àí</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>1</mn><mn>2</mn><mn>8</mn><mn>8</mn><mn>5</mn><mn>9</mn><mn>7</mn><mn>1</mn><mn>3</mn><mn>7</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>3</mn><mn>2</mn><mn>9</mn><mn>8</mn><mn>4</mn><mn>5</mn><mn>4</mn><mn>3</mn><mn>6</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>9</mn><mn>2</mn><mn>9</mn><mn>3</mn><mn>1</mn><mn>1</mn><mn>8</mn><mn>7</mn><mn>1</mn><mn>5</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>3</mn><mn>6</mn><mn>1</mn><mn>4</mn><mn>5</mn><mn>6</mn><mn>3</mn><mn>8</mn><mn>7</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>4</mn><mn>8</mn><mn>2</mn><mn>0</mn><mn>0</mn><mn>3</mn><mn>0</mn><mn>1</mn><mn>8</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>2</mn><mn>6</mn><mn>4</mn><mn>3</mn><mn>6</mn><mn>6</mn><mn>2</mn><mn>6</mn><mn>9</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>6</mn><mn>3</mn><mn>3</mn><mn>8</mn><mn>5</mn><mn>1</mn><mn>7</mn><mn>0</mn><mn>7</mn><mn>0</mn></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1} = \begin{pmatrix} +0.8189330101 &amp; +0.3618667424 &amp; -0.1288597137 \\ +0.0329845436 &amp; +0.9293118715 &amp; +0.0361456387 \\ +0.0482003018 &amp; +0.2643662691 &amp; +0.6338517070 \end{pmatrix}</annotation></semantics></math></span></span></span></p><p><span><span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>2</mn><mn>1</mn><mn>0</mn><mn>4</mn><mn>5</mn><mn>4</mn><mn>2</mn><mn>5</mn><mn>5</mn><mn>3</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>9</mn><mn>3</mn><mn>6</mn><mn>1</mn><mn>7</mn><mn>7</mn><mn>8</mn><mn>5</mn><mn>0</mn></mrow></mtd><mtd><mrow><mo>‚àí</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>0</mn><mn>4</mn><mn>0</mn><mn>7</mn><mn>2</mn><mn>0</mn><mn>4</mn><mn>6</mn><mn>8</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>1</mn><mi mathvariant="normal">.</mi><mn>9</mn><mn>7</mn><mn>7</mn><mn>9</mn><mn>9</mn><mn>8</mn><mn>4</mn><mn>9</mn><mn>5</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>‚àí</mo><mn>2</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>2</mn><mn>8</mn><mn>5</mn><mn>9</mn><mn>2</mn><mn>2</mn><mn>0</mn><mn>5</mn><mn>0</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>5</mn><mn>0</mn><mn>5</mn><mn>9</mn><mn>3</mn><mn>7</mn><mn>0</mn><mn>9</mn><mn>9</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>2</mn><mn>5</mn><mn>9</mn><mn>0</mn><mn>4</mn><mn>0</mn><mn>3</mn><mn>7</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>8</mn><mn>2</mn><mn>7</mn><mn>7</mn><mn>1</mn><mn>7</mn><mn>6</mn><mn>6</mn><mn>2</mn></mrow></mtd><mtd><mrow><mo>‚àí</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>8</mn><mn>0</mn><mn>8</mn><mn>6</mn><mn>7</mn><mn>5</mn><mn>7</mn><mn>6</mn><mn>6</mn><mn>0</mn></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2} = \begin{pmatrix} +0.2104542553 &amp; +0.7936177850 &amp; -0.0040720468 \\ +1.9779984951 &amp; -2.4285922050 &amp; +0.4505937099 \\ +0.0259040371 &amp; +0.7827717662 &amp; -0.8086757660 \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>The inverse operation, going from Oklab to XYZ is done with the following steps:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><msup><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mrow><mo>‚àí</mo><mn>1</mn></mrow></msup><mo>√ó</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>l</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>m</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>s</mi><mrow><mi mathvariant="normal">‚Ä≤</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><msup><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mrow><mo>‚àí</mo><mn>1</mn></mrow></msup><mo>√ó</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l' \\ m' \\ s' \end{pmatrix} = \mathbf{M_2}^{-1} \times \begin{pmatrix} L \\ a \\ b \end{pmatrix},\qquad \begin{pmatrix} l \\ m \\ s \end{pmatrix} = \begin{pmatrix} {(l')}^{3} \\ {(m')}^{3} \\ {(s')}^{3} \end{pmatrix},\qquad \begin{pmatrix} X \\ Y \\ Z \end{pmatrix} = \mathbf{M_1}^{-1} \times \begin{pmatrix} l \\ m \\ s \end{pmatrix}</annotation></semantics></math></span></span></span></p><h4 id="converting-from-linear-srgb-to-oklab">Converting from linear sRGB to Oklab <a href="#converting-from-linear-srgb-to-oklab"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Since this will be a common use case, here is the code to convert linear sRGB values to Oklab and back. To compute linear sRGB values, see <a href="https://bottosson.github.io/posts/colorwrong/#what-can-we-do%3F">my previous post</a>.</p><p>The code is in C++, but without any fancy features so should be easy to translate. The code is available in public domain, feel free to use it any way you please.</p><pre><code>struct Lab {float L; float a; float b;};
struct RGB {float r; float g; float b;};

Lab linear_srgb_to_oklab(RGB c) 
{
    float l = 0.4121656120f * c.r + 0.5362752080f * c.g + 0.0514575653f * c.b;
    float m = 0.2118591070f * c.r + 0.6807189584f * c.g + 0.1074065790f * c.b;
    float s = 0.0883097947f * c.r + 0.2818474174f * c.g + 0.6302613616f * c.b;

    float l_ = cbrtf(l);
    float m_ = cbrtf(m);
    float s_ = cbrtf(s);

    return {
        0.2104542553f*l_ + 0.7936177850f*m_ - 0.0040720468f*s_,
        1.9779984951f*l_ - 2.4285922050f*m_ + 0.4505937099f*s_,
        0.0259040371f*l_ + 0.7827717662f*m_ - 0.8086757660f*s_,
    };
}

RGB oklab_to_linear_srgb(Lab c) 
{
    float l_ = c.L + 0.3963377774f * c.a + 0.2158037573f * c.b;
    float m_ = c.L - 0.1055613458f * c.a - 0.0638541728f * c.b;
    float s_ = c.L - 0.0894841775f * c.a - 1.2914855480f * c.b;

    float l = l_*l_*l_;
    float m = m_*m_*m_;
    float s = s_*s_*s_;

    return {
        + 4.0767245293f*l - 3.3072168827f*m + 0.2307590544f*s,
        - 1.2681437731f*l + 2.6093323231f*m - 0.3411344290f*s,
        - 0.0041119885f*l - 0.7034763098f*m + 1.7068625689f*s,
    };
}
</code></pre><p>This is everything you need to use the Oklab color space! If you need a simple perceptual color space, try it out.</p><p>The rest of the post will go into why a new color space was needed, how it has been constructed and how it compares with existing color spaces.</p><hr><p>What properties does a perceptual color space need to satisfy to be useful for image processing? The answer to this is always going to be a bit subjective, but based on my experience, these are a good set of requirements:</p><blockquote><ul><li><strong>Should be an opponent color space</strong>, similar to for example <a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a>.</li><li><strong>Should predict lightness, chroma and hue well</strong>. <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span> should be perceived as orthogonal, so one can be altered without affecting the other two. This is useful for things like turning an image black and white and increasing colorfulness without introducing hue shifts etc.</li><li><strong>Blending two colors should result in even transitions</strong>. The transition colors should appear to be in between the blended colors (e.g. passing through a warmer color than either original color is not good).</li><li><strong>Should assume a D65 whitepoint</strong>. This is what common color spaces like sRGB, rec2020 and Display P3 uses.</li><li><strong>Should behave well numerically</strong>. The model should be easy to compute, numerically stable and differentiable.</li><li><strong>Should assume normal well lit viewing conditions</strong>. The complexity of supporting different viewing conditions is not practical in most applications. Other models could be used in conjunction if this is needed in some case.</li><li><strong>If the scale/exposure of colors are changed, the perceptual coordinates should just be scaled by a factor</strong>. More complex models that depend on absolute luminance should be avoided since the viewing conditions can not be accurately controlled and incorrect behavior would be confusing.</li></ul></blockquote><h3 id="what-about-existing-models%3F">What about existing models? <a href="#what-about-existing-models%3F"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><p>Let‚Äôs look at existing models and how they stack up against these requirements. Further down there are graphs that illustrate some of these issues.</p><blockquote><ul><li><strong><a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a> and <a href="https://en.wikipedia.org/wiki/CIELUV">CIELUV</a></strong> ‚Äì Largest issue is their inability to predict hue. In particular blue hues are predicted badly. Other smaller issues exist as well</li><li><strong><a href="https://en.wikipedia.org/wiki/CIECAM02">CIECAM02-UCS</a> and the newer CAM16-UCS</strong> ‚Äì Does a good job at being perceptually uniform overall, but doesn‚Äôt meet other requirements: Bad numerical behavior, it is not scale invariant and blending does not behave well because of its compression of chroma. Hue uniformity is decent, but other models predict it more accurately.</li><li><strong><a href="https://en.wikipedia.org/wiki/OSA-UCS">OSA-UCS</a></strong> ‚Äì Overall does a good job. The transformation to OSA-UCS lacks an analytical inverse unfortunately which makes it impractical.</li><li><strong><a href="https://scholarworks.rit.edu/theses/2858/">IPT</a></strong> ‚Äì Does a great job modelling hue uniformity. Doesn‚Äôt predict lightness and chroma well unfortunately, but meets all other requirements. Is simple computationally and does not depend on the scale/exposure.</li><li><strong><a href="https://www.osapublishing.org/oe/fulltext.cfm?uri=oe-25-13-15131&amp;id=368272">JzAzBz</a></strong> ‚Äì Overall does a fairly good job. Designed to have uniform scaling of lightness for HDR data. While useful in some cases this introduces a dependence on the scale/exposure that makes it hard to use in general cases.</li><li><strong><a href="https://en.wikipedia.org/wiki/HSL_and_HSV">HSV</a> representation of sRGB</strong> ‚Äì Only on this list because it is widely used. Does not meet any of the requirements except having a D65 whitepoint.</li></ul></blockquote><p>So, all in all, all these existing models have drawbacks.</p><p>Out of all of these, two models stand out: CAM16-UCS, for being the model with best properties of perceptual uniformity overall, and IPT for having a simple computational structure that meets all the requirements besides predicting lightness and chroma well.</p><p>For this reason it is reasonable to try to make a new color space, with the same computational structure as IPT, but that performs closer to CAM16-UCS in terms of predicting lightness and chroma. This exploration resulted in Oklab.</p><h3 id="how-oklab-was-derived">How Oklab was derived <a href="#how-oklab-was-derived"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><p>To derive Oklab, three datasets were used:</p><ul><li>A generated data set of pairs of colors with the same lightness but random hue and chroma, generated using CAM16 and normal viewing conditions. Colors were limited to be within Pointer‚Äôs Gamut ‚Äì the set of possible surface colors.</li><li>A generated data set of pairs of colors with the same chroma but random hue and lightness, generated using CAM16 and normal viewing conditions. Colors were limited to be within Pointer‚Äôs Gamut</li><li>The <a href="https://github.com/nschloe/colorio/blob/master/colorio/data/ebner_fairchild.yaml">uniform perceived hue</a> data used to derive IPT. From this data, colors were combined into pairs of colors with equal perceived hue.</li></ul><p>These datasets can be used to test prediction of lightness, chroma and hue respectively. If a color space accurately models <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>, then all pairs in lightness dataset should have the same value for <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, all pairs in the chroma dataset the same value for <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and all pairs in the hue dataset the same values for <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>.</p><p>To test a color space it is not possible to simply check the distance in predictions in the tested color space however, since that will depend on the scaling of the color space. It is also not desirable to exactly predict ground truth values for <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>, since it is more important that our model has perceptually orthogonal coordinates, than that the model has the same spacing within each coordinate.</p><p>Instead the following approach was used to create an error metric independent of the color space:</p><ul><li>For each dataset all the pairs are converted to the tested color space.</li><li>Coordinates that are supposed to be the same within a pair are swapped to generate a new set of altered pairs:<ul><li>For the lightness dataset, the L coordinates are swapped between the pairs, and so on.</li><li>These altered pair would be equal to the original pair if the model predicts the datasets perfectly.</li></ul></li><li>The perceived distance between the original colors and the altered colors are are computed using <a href="https://en.wikipedia.org/wiki/Color_difference">CIEDE2000</a>.</li><li>The error for each pair is given as the minimum of the two color differences.</li><li>The error for the entire dataset is the root mean squared error of the color differences.</li></ul><p>Oklab was derived by optimizing the parameters of a color space with the same structure as IPT, to get a low error on all the datasets. For completeness, here is the structure of the color space ‚Äì the parameters to optimize are the 3x3 matrices <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1}</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2}</annotation></semantics></math></span></span> and the positive number <span><span><math><semantics><mrow><mi>Œ≥</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span></span>.</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>√ó</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l \\ m \\ s \end{pmatrix} = \mathbf{M_1} \times \begin{pmatrix} X \\ Y \\ Z \end{pmatrix}</annotation></semantics></math></span></span></span></p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>√ó</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mi>Œ≥</mi></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mi>Œ≥</mi></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mi>Œ≥</mi></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} L \\ a \\ b \end{pmatrix} = \mathbf{M_2} \times \begin{pmatrix} l^\gamma \\ m^\gamma \\ s^\gamma \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>A couple of extra constraints were ‚Ä¶</p></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bottosson.github.io/posts/oklab/">https://bottosson.github.io/posts/oklab/</a></em></p>]]>
            </description>
            <link>https://bottosson.github.io/posts/oklab/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525726</guid>
            <pubDate>Thu, 24 Dec 2020 07:34:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MeshCentral: Self-hosted web-based management of remote computers]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25525535">thread link</a>) | @aiNohY6g
<br/>
December 23, 2020 | https://www.meshcommander.com/meshcentral2 | <a href="https://web.archive.org/web/*/https://www.meshcommander.com/meshcentral2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId"><div><div id="h.772be894b56c9933_256"><div><div><p dir="ltr">Connect to your home or office devices from anywhere in the world using MeshCentral, the open source, remote monitoring and management server. Once installed, each enabled computer will show up in the "My Devices" section of the web site and will be able to perform remote desktop, remote terminal, file transfers and more. Get started by installing a MeshCentral server of your own or if you are not familiar with MeshCentral, you can try the public server at your own risk at <span><a href="https://www.google.com/url?q=https%3A%2F%2Fmeshcentral.com&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF72XMOagiPwq0rSbmLUbf3ea9sZw" target="_blank">MeshCentral.com</a></span>. You can install your own server on Linux or Windows, it will run on anything from a large cloud instance to a Raspberry Pi. This is still beta code. <span><strong>Your privacy matters</strong></span>: When installing your own MeshCentral server, no usage data or telemetry is collected.</p><h3 id="h.p_I7Fa7qSzsHeJ" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fmeshcentral&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGlxrm4X04dUy1SJBLzKJMhuITNkQ" target="_blank">Use NPM to download &amp; install</a></span> - NodeJS application, Apache 2.0 License.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentralInstaller-2.9.exe&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGSz1tqKwy-e65faDtHoEfv2V-pZA" target="_blank">Windows Installer v2.9</a></span> - Win32 executable, Apache 2.0 License.</p></li></ul><h3 id="h.p_NI8XlBIe3JF7" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2UserGuide-0.2.9.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF6k7CRu8xhJ6UjuKqTKrGLJ1YPLg" target="_blank">User's Guide v0.2.9</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2InstallGuide-0.1.0.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNENA3FWn6JCC3RU6xPn6JvBklkltw" target="_blank">Install Guide v0.1.0</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2DesignArchitecture.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEJWbeXE64eROflRUP2DbLMUKYXbA" target="_blank">Design &amp; Architecture Guide v0.0.4</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="http://www.google.com/url?q=http%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2RouterUserGuide-0.0.2.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHYNX3jlmoBOwMEZkI22RMgrfYt4w" target="_blank">MeshCentral Router User Guide v0.0.2</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCtrlUsersGuide-0.0.1.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEP_2gB0THJK7zOapJI_i3A1TGp8A" target="_blank">MeshCtrl User Guide v0.0.1</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2ManagementFeaturesGuide.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEsQ0B8LCeoaoOxx7YlOFBjgMUfgw" target="_blank">Manageability Features</a></span> - Single page PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2SecurityFeaturesGuide.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFFgy77nDwf9m2z5yPPTYqWsxiVMg" target="_blank">Security Features</a></span> - Single page PDF document.</p></li></ul><h3 id="h.p_FGUfZPmtZThQ" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr">Get the latest update: <span><a href="https://www.google.com/url?q=https%3A%2F%2Fmeshcentral2.blogspot.com%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEmr_JWg6uvu2brOrDffCRKXTTLLw" target="_blank">News Blog</a></span>.</p></li><li dir="ltr"><p dir="ltr">Comments and feedback: <span><a href="https://www.google.com/url?q=https%3A%2F%2Fwww.reddit.com%2Fr%2FMeshCentral%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHE2mphqK_2uoHNaJq8inmk3COfBQ" target="_blank">Reddit Forum</a></span>.</p></li></ul><h3 id="h.p_nidQqr8rakPZ" dir="ltr" tabindex="-1"></h3><p dir="ltr">More Videos on the <span><a href="https://www.meshcommander.com/meshcentral2/tutorials">Tutorials page</a></span></p></div></div></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.meshcommander.com/meshcentral2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525535</guid>
            <pubDate>Thu, 24 Dec 2020 06:49:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cryptographic Wear-Out for Symmetric Encryption]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525450">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>As we look upon the sunset of a remarkably tiresome year, I thought it would be appropriate to talk about <strong>cryptographic wear-out</strong>.</p>



<h3>What is cryptographic wear-out?</h3>



<p>It‚Äôs the threshold when you‚Äôve used the same key to encrypt so much data that you should probably switch to a new key before you encrypt any more. Otherwise, you might let someone capable of observing all your encrypted data perform interesting attacks that compromise the security of the data you‚Äôve encrypted.</p>



<div><figure><img data-attachment-id="126" data-permalink="https://soatok.blog/professor/" data-orig-file="https://soatok.files.wordpress.com/2020/04/professor.png" data-orig-size="224,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Professor Furry" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" data-large-file="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" src="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" alt="Soatok Explains it All" srcset="https://soatok.files.wordpress.com/2020/04/professor.png 224w, https://soatok.files.wordpress.com/2020/04/professor.png?w=150 150w" sizes="(max-width: 224px) 100vw, 224px"><figcaption>My definitions always aim to be more understandable than pedantically correct.<br>(Art by <a href="https://twitter.com/Swizzlestixick">Swizz</a>)</figcaption></figure></div>



<p>The exact value of the threshold varies depending on how exactly you‚Äôre encrypting data (n.b. AEAD modes, block ciphers + cipher modes, etc. each have different wear-out thresholds due to their composition).</p>



<p>Let‚Äôs take a look at the wear-out limits of the more popular <a href="https://soatok.blog/2020/07/12/comparison-of-symmetric-encryption-methods/">symmetric encryption methods</a>, and calculate those limits ourselves.</p>



<h2>Specific Ciphers and Modes</h2>



<div><figure><img data-attachment-id="1615" data-permalink="https://soatok.blog/2020/10/16/commission-prices-for-furries-and-artists/soatok_stickerpackedit-math/" data-orig-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok_STICKERPACKEDIT-Math" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=512" src="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=512" alt="I did the math" srcset="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png 512w, https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=150 150w, https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>. Poorly edited by the author.)</figcaption></figure></div>



<h3 id="aes-gcm-limits">Cryptographic Limits for AES-GCM</h3>



<p>I‚Äôve written about AES-GCM before (and <a href="https://soatok.blog/2020/05/13/why-aes-gcm-sucks/">why I think it sucks</a>).</p>



<p>AES-GCM is a construction that combines AES-CTR with an authenticator called GMAC, whose consumption of nonces looks something like this:</p>



<ul><li>Calculating H (used in GHASH for all messages encrypted under the same key, regardless of nonce):<ul><li><code>Encrypt(00000000 00000000 00000000 00000000)</code></li></ul></li><li>Calculating J<sub>0</sub> (the pre-counter block):<ul><li>If the nonce is 96 bits long:<ul><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 00000001</code> where the <code>N</code> spaces represent the nonce hexits.</li></ul></li><li>Otherwise:<ul><li><code>s = 128 * ceil(len(nonce)/nonce) - len(nonce)</code></li></ul><ul><li><code>J0 = GHASH(H, nonce || zero(s+64) || int2bytes(len(nonce))</code></li></ul></li></ul></li><li>Each block of data encrypted uses J0 + block counter (starting at 1) as a CTR nonce.</li><li>J0 is additionally used as the nonce to calculate the final GMAC tag.</li></ul>



<p>AES-GCM is one of the algorithms where it‚Äôs easy to separately calculate the safety limits per message (i.e. for a given nonce and key), as well as for all messages under a key.</p>



<h4>AES-GCM Single Message Length Limits</h4>



<p>In the simplest case (nonce is 96 bits), you end up with the following nonces consumed:</p>



<ul><li>For each key: <code>00000000 00000000 00000000 00000000</code></li><li>For each (nonce, key) pair:<ul><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000001</code> for J0</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000002</code> for encrypting the first 16 bytes of plaintext</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000003</code> for the next 16 bytes of plaintext‚Ä¶</li><li>‚Ä¶</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN FFFFFFFFF</code> for the final 16 bytes of plaintext.</li></ul></li></ul>



<p>From here, it‚Äôs pretty easy to see that you can encrypt the blocks from <code>00000002</code> to <code>FFFFFFFF</code> without overflowing and creating a nonce reuse. This means that each (key, nonce) can be used to encrypt a single message up to <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D+-+2&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32} - 2" title="2^{32} - 2"> blocks of the underlying ciphertext.</p>



<p>Since the block size of AES is 16 bytes, this means the maximum length of a single AES-GCM (key, nonce) pair is <img src="https://s0.wp.com/latex.php?latex=2%5E%7B36%7D+-+256&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{36} - 256" title="2^{36} - 256"> <strong>bytes</strong> (or 68,719,476,480 bytes). This is approximately 68 GB or 64 GiB.</p>



<p>Things get a bit tricker to analyze when the nonce is not 96 bits, since it‚Äôs hashed.</p>



<p>The disadvantage of this hashing behavior is that it‚Äôs possible for two different nonces to produce overlapping ranges of AES-CTR output, which makes the security analysis very difficult.</p>



<p>However, this hashed output is also hidden from network observers since they do not know the value of H. Without some method of reliably detecting when you have an overlapping range of hidden block counters, you can‚Äôt exploit this.</p>



<p>(If you want to live dangerously and motivate cryptanalysis research, mix 96-bit and non-96-bit nonces with the same key in a system that does something valuable.)</p>



<h4>Multi-Message AES-GCM Key Wear-Out</h4>



<p>Now that we‚Äôve established the maximum length for a single message,  how many messages you can safely encrypt under a given AES-GCM key depends entirely on how your nonce is selected.</p>



<p>If you have a reliable counter, which is guaranteed to never repeat, and start it at 0 you can theoretically encrypt <img src="https://s0.wp.com/latex.php?latex=2%5E%7B96%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{96}" title="2^{96}"> messages safely. Hooray!</p>







<p>You probably don‚Äôt have a reliable counter, especially in real-world settings (distributed systems, multi-threaded applications, virtual machines that might be snapshotted and restored, etc.).</p>



<div><figure><img data-attachment-id="130" data-permalink="https://soatok.blog/computeranger/" data-orig-file="https://soatok.files.wordpress.com/2020/04/computeranger.png" data-orig-size="224,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="This is outrageous!" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" data-large-file="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" src="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" alt="Soatok angrily grasping computer monitor" srcset="https://soatok.files.wordpress.com/2020/04/computeranger.png 224w, https://soatok.files.wordpress.com/2020/04/computeranger.png?w=150 150w" sizes="(max-width: 224px) 100vw, 224px"><figcaption>Confound you, technical limitations!<br>(Art by <a href="https://twitter.com/Swizzlestixick">Swizz</a>)</figcaption></figure></div>



<p>Additionally (thanks to <a href="https://twitter.com/2adic">2adic</a> for the expedient correction), you cannot safely encrypt more than <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> blocks with AES because the keystream blocks‚Äìas the output of a block cipher‚Äìcannot repeat.</p>



<p>Most systems that cannot guarantee unique incrementing nonces simply generate nonces with a cryptographically secure random number generator. This is a good idea, but no matter how high quality your random number generator is, random functions will produce collisions with a discrete probability.</p>



<p>If you have <img src="https://s0.wp.com/latex.php?latex=2%5En&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^n" title="2^n"> possible values, you should expect a single collision(with 50% probability) after <img src="https://s0.wp.com/latex.php?latex=%5Csqrt%7B2%5E%7Bn%7D%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="\sqrt{2^{n}}" title="\sqrt{2^{n}}"> (or <img src="https://s0.wp.com/latex.php?latex=2%5E%7Bn%2F2%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{n/2}" title="2^{n/2}">)samples. This is called the <strong>birthday bound</strong>.</p>



<p>However, 50% of a nonce reuse isn‚Äôt exactly a comfortable safety threshold for most systems (especially since nonce reuse will cause AES-GCM to become vulnerable to active attackers). 1 in 4 billion is a much more comfortable safety margin against nonce reuse via collisions than 1 in 2. Fortunately, you can <a href="https://en.wikipedia.org/wiki/Birthday_problem">calculate the discrete probability of a birthday collision</a> pretty easily.</p>



<p>If you want to rekey after your collision probability exceeds <img src="https://s0.wp.com/latex.php?latex=2%5E%7B-32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{-32}" title="2^{-32}"> (for a random nonce between 0 and <img src="https://s0.wp.com/latex.php?latex=2%5E%7B96%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{96}" title="2^{96}">), you simply need to re-key after <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32}" title="2^{32}"> messages.</p>



<h4>AES-GCM Safety Limits</h4>







<div><figure><img data-attachment-id="1388" data-permalink="https://soatok.blog/soatoktelegrams2020-12/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-12" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Not bad, but we can do better.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3 id="chacha20poly1305-limits">Cryptographic Limits for ChaCha20-Poly1305</h3>



<p>The IETF version of ChaCha20-Poly1305 uses 96-bit nonces and 32-bit internal counters. A similar analysis follows from AES-GCM‚Äôs, with a few notable exceptions.</p>



<p>For starters, the one-time Poly1305 key is derived from the first 32 bytes of the ChaCha20 keystream output (block 0) for a given (nonce, key) pair. There is no equivalent to AES-GCM‚Äôs H parameter which is static for each key. (The ChaCha20 encryption begins using block 1.)</p>



<p>Additionally, each block for ChaCha20 is 512 bits, unlike AES‚Äôs 128 bits. So the message limit here is a little more forgiving.</p>



<p>Since the block size is 512 bits (or 64 bytes), and only one block is consumed for Poly1305 key derivation, we can calculate a message length limit of <img src="https://s0.wp.com/latex.php?latex=2%5E%7B38%7D+-+64&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{38} - 64" title="2^{38} - 64">, or 274,877,906,880 bytes‚Äìnearly 256 GiB for each (nonce, key) pair.</p>



<p>The same rules for handling 96-bit nonces applies as with AES-GCM, so we can carry that value forward.</p>



<h4>ChaCha20-Poly1305 Safety Limits</h4>







<div><figure><img data-attachment-id="120" data-permalink="https://soatok.blog/soatok_stickerpack-smile/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=512" alt="Soatok" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>A significant improvement, but still practically limited.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3 id="chacha20poly1305-limits">Cryptographic Limits for XChaCha20-Poly1305</h3>



<p>XChaCha20-Poly1305 is a variant of XSalsa20-Poly1305 (as used in libsodium) and the IETF‚Äôs ChaCha20-Poly1305 construction. It features 192-bit nonces and 32-bit internal counters.</p>



<p>XChaCha20-Poly1305 is instantiated by using HChaCha20 of the key over the first 128 bits of the nonce to produce a subkey, which is used with the remaining nonce bits using the aforementioned ChaCha20-Poly1305.</p>



<p>This doesn‚Äôt change the maximum message length, but it <em>does</em> change the number of messages you can safely encrypt (since you‚Äôre actually using up to <img src="https://s0.wp.com/latex.php?latex=2%5E%7B128%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{128}" title="2^{128}"> distinct keys).</p>



<p>Thus, even if you manage to repeat the final ChaCha20-Poly1305 nonce, as long as the total nonce differs, each encryptions will be performed with a distinct key (thanks to the HChaCha20 key derivation; see the <a href="https://cr.yp.to/snuffle/xsalsa-20110204.pdf">XSalsa20 paper</a> and <a href="https://tools.ietf.org/html/draft-irtf-cfrg-xchacha-03">IETF RFC draft</a> for details).</p>



<h4>XChaCha20-Poly1305 Safety Limits</h4>







<div><figure><img loading="lazy" data-attachment-id="1201" data-permalink="https://soatok.blog/soatoktelegrams2020-01/" data-orig-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-01" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=512" src="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=512" alt="Galaxy Brain meme, but a furry" width="512" height="512" srcset="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png 512w, https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=150 150w, https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>I can <s>see</s> encrypt forever, man.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3>Cryptographic Limits for AES-CBC</h3>



<p>It‚Äôs tempting to compare non-AEAD constructions and block cipher modes such as CBC (Cipher Block Chaining), but they‚Äôre totally different monsters.</p>



<ul><li>AEAD ciphers have a clean delineation between message length limit and the message quantity limit</li><li>CBC and other cipher modes do not have this separation</li></ul>



<p>Every time you encrypt a block with AES-CBC, you are depleting from a <strong>universal</strong> bucket that affects the birthday bound security of encrypting more messages under that key. (And unlike AES-GCM with long nonces, AES-CBC‚Äôs IV is public.)</p>



<p>This is in addition to the operational requirements of AES-CBC (plaintext padding, initialization vectors that never repeat <em>and</em> must be unpredictable, separate message authentication since CBC doesn‚Äôt provide integrity and is vulnerable to chosen-ciphertext atacks, etc.).</p>



<div><figure><img data-attachment-id="1210" data-permalink="https://soatok.blog/soatok_stickerpack_ind_cca2/" data-orig-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok_STICKERPACK_IND_CCA2" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=512" src="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=512" alt="This isn't IND-CCA2 Secure!" srcset="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png 512w, https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=150 150w, https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>My canned response to most queries about AES-CBC.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p>For this reason, most cryptographers don‚Äôt even bother calculating the safety limit for AES-CBC in the same breath as discussing AES-GCM. And they‚Äôre right to do so!</p>



<p>If you find yourself using AES-CBC (or AES-CTR, for that matter), you‚Äôd best be performing a separate HMAC-SHA256 over the ciphertext (and verifying this HMAC with <a href="https://soatok.blog/2020/08/27/soatoks-guide-to-side-channel-attacks/#string-comparison">a secure comparison function</a> before decrypting). Additionally, you should consider using <a href="https://github.com/defuse/php-encryption/blob/master/docs/CryptoDetails.md">an extended nonce construction to split one-time encryption and authentication keys</a>.</p>







<p>However, for the sake of completeness, let‚Äôs figure out what our practical limits are.</p>



<p>CBC operates on entire blocks of plaintext, whether you need the entire block or not.</p>



<p>On encryption, the output of the previous block is mixed (using XOR) with the current block, then encrypted with the block cipher. For the first block, the IV is used in the place of a ‚Äúprevious‚Äù block. (Hence, its requirements to be non-repeating <em>and</em> unpredictable.)</p>



<p>This means you can informally model (IV xor PlaintextBlock) and (PB<sub>n</sub> xor PB<sub>n+1</sub>) as a pseudo-random function, before it‚Äôs encrypted with the block cipher.</p>



<p>If those words don‚Äôt mean anything to you, here‚Äôs the kicker: You can use the above discussion about birthday bounds to calculate the upper safety bounds for the <strong>total</strong> number of blocks encrypted under a single AES key (assuming IVs are generated from a secure random source).</p>



<p>If you‚Äôre okay with a 50% probability of a collision, you should re-key after <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> blocks have been encrypted.</p>



<figure><p><span><iframe width="580" height="327" src="https://www.youtube.com/embed/v0IsYNDMV7A?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p><figcaption>This video ‚Ä¶</figcaption></figure></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/">https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/</a></em></p>]]>
            </description>
            <link>https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525450</guid>
            <pubDate>Thu, 24 Dec 2020 06:24:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things Wrong with Wayland]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525367">thread link</a>) | @kirbykevinson
<br/>
December 23, 2020 | https://kirby.kevinson.org/blog/things-wrong-with-wayland/ | <a href="https://web.archive.org/web/*/https://kirby.kevinson.org/blog/things-wrong-with-wayland/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				

				
				
	<p>I, as a person who tries to use cutting edge technology, am a Wayland
user, and ever since I started using it, I haven‚Äôt been able to get
the thoughts about its problems out of my head. It‚Äôs time to get this
thing off my chest. Here are the reasons Wayland is still not here:</p>
<h2 id="the-main-problem">The main problem</h2>
<p>You may think that it‚Äôs the fact that it was decided to move from the
‚Äúthere‚Äôs only 1 display server‚Äù idea. You‚Äôre wrong, as that would
invalidate the <a href="https://wayland.freedesktop.org/">core goals</a> of the project - to be just a protocol
that requires implementations.</p>
<p>What can‚Äôt be denied, however, is the fact that instead of creating a
full-featured ‚Äúbatteries included‚Äù set of protocols and a reference
implementation of a library, compositors based on which could compete
with X by being just as feature complete, there was created only a
<a href="https://gitlab.freedesktop.org/wayland/weston" title="weston">simple compositor</a>, which can only satisfy the needs of a kiosk and
not a modern desktop environment. An unofficial version of <a href="https://github.com/swaywm/wlroots/" title="wlroots">such a
library</a> didn‚Äôt even appear until 2017.</p>
<h2 id="the-consequences-it-has">The consequences it has</h2>
<h3 id="feature-incompleteness">Feature incompleteness</h3>
<p>After 12 years of development, the implementations of the protocol
still have a series of features incompletely implemented:</p>
<ul>
<li>Color management -
<a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/-/merge_requests/14">1</a>,
<a href="https://github.com/swaywm/wlroots/pull/2353">2</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/issues/1360">3</a>,
<a href="https://invent.kde.org/plasma/kwin/-/issues/11">4</a></li>
<li>Variable refresh rate support -
<a href="https://gitlab.freedesktop.org/wayland/wayland/-/issues/84">1</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/merge_requests/1154">2</a>,
<a href="https://bugs.kde.org/show_bug.cgi?id=405912">3</a></li>
<li>High bit depth display support -
<a href="https://github.com/swaywm/wlroots/issues/1378">1</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/issues/1391">2</a></li>
<li>DRM leasing -
<a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/-/merge_requests/49">1</a>,
<a href="https://github.com/swaywm/wlroots/issues/1723">2</a></li>
<li><a href="https://github.com/obsproject/rfcs/pull/14">Screencasting</a></li>
<li><a href="https://community.teamviewer.com/English/discussion/26340/state-of-wayland-teamviewer">Remote desktop</a></li>
<li><a href="https://github.com/ReimuNotMoe/ydotool">Input simulation and window control</a></li>
<li>Client-side global hotkey binding</li>
<li>Nvidia GPU support - yes it is indeed Nvidia‚Äôs fault, but to the
end user it makes no difference</li>
</ul>
<p>As you can see, it‚Äôs not so many, and the partial fault here is on
clients rather than servers.</p>
<h3 id="implementation-difficulty">Implementation difficulty</h3>
<p>On the server side, while it‚Äôs true that Wayland makes implementing a
display server much easier, implementing a window manager is still a
nightmare. For example, even using a library, you need to write <a href="https://github.com/swaywm/wlroots/tree/master/tinywl" title="tinywl">a
thousand lines of code</a> to implement the absolute bare bones
compositor, which won‚Äôt even support such critical things as damage
tracking, hi-DPI, graphical tablets, multiseat, and any input/output
configuration. X, on the other hand, allows you to write as few as <a href="http://incise.org/tinywm.html" title="tinywm">50
lines of code</a> because it handles most of things such as the ones
listed itself.</p>
<h3 id="lack-of-standardization">Lack of standardization</h3>
<p>Wayland‚Äôs <a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/">core set of protocols</a> while covering a wide range things,
doesn‚Äôt provide ones needed to build a modern desktop environment such
as a desktop shell protocol (to build such things as panels and
launchers), a protocol to simulate input and control windows, a
protocol to control the clipboard, and others, leaving that to the
compositors. While <a href="https://github.com/swaywm/wlr-protocols/" title="wlr-protocols">such a set of protocols</a> does exist, it‚Äôs not
adopted by the majority of the compositors. A similar problem is
happening to <a href="https://github.com/flatpak/xdg-desktop-portal" title="xdg-desktop-portal">the set of protocols</a> required to screenshot, screencast
and remote desktop - the adoption by clients is extremely low. This
makes working with Wayland and debugging it much less flexible and
compositor-dependable than X, and makes developing clients even
harder.</p>
<h3 id="lack-of-configurability">Lack of configurability</h3>
<p>In contrast to X.org, which has <a href="https://linux.die.net/man/5/xorg.conf">a unified config system</a>, each
Wayland compositor has to implement configuration separately. This
results in not only inconvenience when trying to move the config from
one compositor to another or describing how to configure something,
but also different feature coverage by different compositors. For
example, a compositor may not implement an input configuration such as
scrolling speed or graphical tablet mapping or an output configuration
such as display bit depth. <a href="https://github.com/Hjdskes/cage/issues/138">In some cases</a> the compositor may not even
implement any input configuration, which makes using it extremely
problematic, especially considering such a problem doesn‚Äôt exist when
using X.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Considering the listed problems, the Wayland‚Äôs future doesn‚Äôt look
that bright. But don‚Äôt give up hope just yet, as long as we have
projects like wlroots pushing the innovation, not everything is lost!</p>


			</div></div>]]>
            </description>
            <link>https://kirby.kevinson.org/blog/things-wrong-with-wayland/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525367</guid>
            <pubDate>Thu, 24 Dec 2020 05:55:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does C Have a Runtime?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524989">thread link</a>) | @desi_ninja
<br/>
December 23, 2020 | https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html | <a href="https://web.archive.org/web/*/https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>07 Jun 2020</span></p><p><img src="https://pratikone.github.io/public/images/speech_bubble1.png" alt="bubble" title="Image source : https://pixabay.com/illustrations/speech-bubble-thinking-talk-5775045/" height="auto" width="30%"></p>

<p>Java has a runtime. We have seen countless times to install or update JRE - Java Runtime environment. Python too has runtime. It is provided by the python executable. But what about C ? Does it have a runtime ? I have never come across a C runtime installer. How about C++ ?<br>
The short answer is <strong>YES</strong>. <br>
C has a runtime, albeit a tiny one and C++ also has a runtime. We don‚Äôt notice it because it is usually provided by the OS itself and with every new OS update, it gets updated. There is a small exception with that (VC runtime library on Windows) but we will talk about it later. Let‚Äôs get to the basics.</p>

<h2 id="what-is-c-runtime-crt-">What is C runtime (CRT) ?</h2>
<p>Whenever we refer to C runtime, we usually mean one or both of these things:</p>
<ol>
  <li><em>Bootstrap and Runtime environment</em>  : It sets up the necessary bootstrapping code which tells the OS how to run this binary code, followed by code for setting up the runtime environment for executing user code. It is included as inline assembly in the compiled binary itself.</li>
  <li><em>Runtime library</em> : it contains functions to interact with the OS; functions to allocate memory, read and write to files, network etc.</li>
</ol>

<h3 id="bootstrap-and-c-runtime-environment">Bootstrap and C runtime environment</h3>
<p>As the name suggests, this is the code which sets up the execution point for the program for the OS to call. It defines the structure of functions, setup call stack and its calling convention (_stdcall, __cdecl ). This is the most important and necessary code to run our program in the OS.  It is specific to the OS version and doesn‚Äôt usually change but gets updated by the OS itself during its update. Among those dozens of Windows update we receive regularly, some of them update the CRT too.</p>

<p><img src="https://www.howtogeek.com/wp-content/uploads/2018/06/img_5b2d86d471d92.png" alt="winupdate" title="Please wait while Windows is updating ..." height="auto" width="50%"></p>

<p><a href="https://en.wikipedia.org/wiki/Crt0"><code>crt0</code></a> is a special file which gets linked to every program during the linking phase of compilation. It has basic program loading routines which instruct the compiler on how to call this program‚Äôs <code>main()</code> function and even exit the running program. Like everything else in the C and C++ ecosystem, there is a flexibility of choice on including it. If one wants to write his/her own startup code, they can avoid linking to crt0 altogether (<a href="https://gcc.gnu.org/onlinedocs/gcc/Link-Options.html">nostartfiles</a> in GCC) and just provide their code in <code>_start</code> label in assembly (<a href="https://stackoverflow.com/questions/29694564/what-is-the-use-of-start-in-c"><code>_start</code> calls <code>main()</code> of user code</a>). 
In case of C++, <code>crt1</code> can be linked alternatively,  which provides some extra functionality for constructor and destructors.</p>

<h3 id="c-runtime-library">C runtime library</h3>
<p>The runtime library or standard library (<code>stdlib</code>) contains a series of useful functions like <code>malloc</code>, <code>free</code>, <code>printf</code>, <code>memcpy</code> (<a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/crt-alphabetical-function-reference?view=msvc-160">MSVC</a>, <a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins">GCC</a> ) for interacting with the OS which almost every program needs. This part can be statically or dynamically linked. Windows provides libcmt.lib for C and libcpmt.lib for C++. 
If one chooses to link it statically, only the code called by the user‚Äôs program gets added to its binary, increasing the size. Removing stdlib can significantly reduce the binary size, which could be as significant as 90% in tiny programs. If one has to create the C code binary with smallest size, this would be the key step in reducing binary size to ~ 1 kb.</p>

<p>If one dynamically links to CRT, this size bump is not there (it is standard for programs to dynamically link to this library for multiple reasons like compatibility with other dll, apart from small size saving). Every OS provides an implementation. <code>UCRT.dll</code> on Windows and <code>libc.so</code> (GLibc) on Linux.</p>

<blockquote>
  <p>Normal dynamic loading of dll rule applies : If the program loads two different versions of CRT dll, they won‚Äôt share global variables. Not taking care of this fact could cause very subtle bugs in multi-dll codebases,  in calling runtime functions which maintain any state.</p>
</blockquote>

<p>A user code cannot be faster than its runtime library‚Äôs performance.
Runtime libraries keep getting improvements through updates and one can receive those fixes as part of VC++Runtime updates on Windows or libc updates on Linux. Programs compiled with a specific CRT lib may expect that specific or compatible CRT dll. Thus, it is possible to keep side by side copies of different versions of CRT dlls (<a href="https://en.wikipedia.org/wiki/DLL_Hell">DLL hell ?</a>).</p>

<h2 id="all-you-need-is-c">All you need is C</h2>
<p>C runtime is an interesting piece of software - it depends not only on OS and architecture but also on compiler. To give an example, runtime code generated on 64 bit windows by GCC would be different from that generated by MSVC. 
If you want to port C to a brand new OS,  all you need apart from the compiler is a working C runtime and that‚Äôs it, C gets ported.</p>

<p>Thanks for reading this far. For the last couple of months, I have been interested in inner workings of C and C++ ecosystem. This is an article in that direction. Tweet any suggestions or corrections to me at <a href="https://twitter.com/pratikone">@pratikone</a></p>

<h2 id="references">References</h2>
<p><a href="https://stackoverflow.com/questions/2709998/crt0-o-and-crt1-o-whats-the-difference">https://stackoverflow.com/questions/2709998/crt0-o-and-crt1-o-whats-the-difference</a></p>

<p><a href="http://www.vishalchovatiya.com/crt-run-time-before-starting-main">http://www.vishalchovatiya.com/crt-run-time-before-starting-main</a></p>

<p><a href="https://blogs.oracle.com/linux/hello-from-a-libc-free-world-part-1-v2">https://blogs.oracle.com/linux/hello-from-a-libc-free-world-part-1-v2</a></p>

<p><a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/c-run-time-library-reference?view=msvc-160">https://docs.microsoft.com/en-us/cpp/c-runtime-library/c-run-time-library-reference?view=msvc-160</a></p>

<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins">https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins</a></p>

</div>





    </div></div>]]>
            </description>
            <link>https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524989</guid>
            <pubDate>Thu, 24 Dec 2020 04:10:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring the methods of looking into Ethereum‚Äôs transaction pool]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25524749">thread link</a>) | @toxzic
<br/>
December 23, 2020 | https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/ | <a href="https://web.archive.org/web/*/https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img loading="lazy" width="1024" height="542" src="https://chainstack.com/wp-content/uploads/2020/12/image-1-1024x542.png" alt="" srcset="https://chainstack.com/wp-content/uploads/2020/12/image-1-1024x542.png 1024w, https://chainstack.com/wp-content/uploads/2020/12/image-1-300x159.png 300w, https://chainstack.com/wp-content/uploads/2020/12/image-1-768x407.png 768w, https://chainstack.com/wp-content/uploads/2020/12/image-1-1536x814.png 1536w, https://chainstack.com/wp-content/uploads/2020/12/image-1-530x281.png 530w, https://chainstack.com/wp-content/uploads/2020/12/image-1-330x175.png 330w, https://chainstack.com/wp-content/uploads/2020/12/image-1.png 1701w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><h2>Introduction</h2><p>The mempool of the Ethereum mainnet√¢‚Ç¨‚Äùcalled transaction pool or txpool√¢‚Ç¨‚Äùis the dynamic in-memory area where pending transactions reside before they are included in a block and thus become static.</p><p>The notion of a global txpool is a bit abstract as there is no single defined pool for all pending transactions. Instead, each node on the Ethereum mainnet has its own pool of transactions and, combined, they all form the global pool.</p><p>The thousands of pending transactions that enter the global pool by being broadcast on the network and before being included in a block are an always changing data set that‚Äôs holding millions of dollars at any given second.</p><p>There‚Äôs a lot that one can do here√¢‚Ç¨‚Äùand many do and make this txpool business a highly competitive market.</p><p>A few examples, listed in the order of inconspicuous to contentious:</p><ul><li>Yield farming √¢‚Ç¨‚Äù you can watch the transactions movement between DeFi applications to be one of the first to detect the yield farming profitability changes.</li><li>Liquidity providing √¢‚Ç¨‚Äù you detect the potential liquidity movements in and out of DeFi applications and act on the changes.</li><li>Arbitrage √¢‚Ç¨‚Äù you can detect the movement of transactions that will affect token prices at different DEXes and make your arbitrage trades based on that.</li><li>Front running √¢‚Ç¨‚Äù you can automatically grab the existing pending transactions, simulate them to identify the potential profit if the transaction is executed, copy the transaction and swap the existing address with your own, and submit it with a higher miner fee so that your transaction gets executed on-chain before the one you are copying.</li><li>Doing a MEV √¢‚Ç¨‚Äù MEV stands for Miner Extractable Value, and it‚Äôs based on that miners are theoretically free to include any transactions in the blocks and/or reorder them. This is a variation of the front running where instead of submitting your transaction with a higher fee to the same pool you picked it from, you get it directly into a block through a miner and bypass the pool.</li></ul><p>To run any of the described scenarios, you need access to the Ethereum txpool, and you need the methods to retrieve the transactions from the txpool. While Chainstack has you covered with fast dedicated nodes for the former, this article focuses on all the ways you can look into the txpool.</p><h2>Retrieving pending transactions with Geth</h2><p>Since pending transactions are your targets in the txpool space, we are now going to make this a structured effort and focus on answering the following questions while accompanying the answers with practical examples:</p><ul><li>How do I retrieve pending transactions?</li><li>Why do I view global or local pending transactions?</li><li>Can I view global pending transactions without txpool namespace?</li></ul><p>There are a few ways to retrieve pending transactions.</p><ul><li>Filters</li><li>Subscriptions</li><li>Txpool API</li><li>GraphQL API</li></ul><p>Before we start, lets clarify a few things:</p><ul><li><strong>Global pending transactions</strong> refer to pending transactions that are happening globally, which includes your newly created local pending transactions.<br><strong>Local pending transactions</strong> refer strictly to the transactions that you created on your local node. Note that you need √¢‚Ç¨Àúpersonal√¢‚Ç¨‚Ñ¢ namespace enabled for Geth to send local transactions.</li><li><strong>Pending transactions</strong> refer to transactions that are pending due to various reasons, like extremely low gas, out of order nonce, etc.</li><li>Chainstack is using <strong>Geth (Go Ethereum)</strong> client.</li></ul><h3>Filters</h3><p>When we create a filter on Geth, Geth will return a unique <code>filter_id</code>. Do note that this <code>filter_id</code> will only live for 5 minutes from the last query on that specific filter. If you query this filter after 5 minutes, the filter will not exist anymore.</p><h4>Creating a pending transaction filter and retrieving data from it</h4><h5>cURL</h5><p><strong>Create filter</strong></p><p>Request body:</p><pre><code>'{"jsonrpc":"2.0","method":"eth_newPendingTransactionFilter","params":[],"id":73}'</code></pre><p>Response body:</p><pre><code>{ "id":73, "jsonrpc": "2.0", "result": "0xb337f6e2f833ecffc6e9315ba06cd03d" }</code></pre><h5>Web3.js</h5><p>Filter for pending transactions is not supported anymore. Please use <a href="#subscriptions">Subscriptions</a>.</p><h5>Web3.py</h5><p><strong>Create filter</strong></p><pre><code>pending_transaction_filter= web3.eth.filter('pending')</code></pre><p><strong>Access filter</strong></p><pre><code>print(pending_transaction_filter.get_new_entries())</code></pre><h3>Common sources of confusion on filters</h3><h4>Web3.py and the pending argument</h4><p>Why does web3.py have their input arguments as <em>pending</em> instead of a dictionary which contains the usual filter parameters like <code>fromBlock</code>, <code>toBlock</code>, <code>address</code>, <code>topics</code>.</p><p>This is because Web3 does the mapping internally. If we look at the <a href="https://github.com/ethereum/web3.py/blob/72457e6f9f3cb6d51fe492d1a65bed7904639760/web3/eth.py#L474" target="_blank" rel="noreferrer noopener nofollow">web3.py source code</a>, when web3.py receives a string pending, it will be mapped to <code>eth_newPendingTransactionFilter</code>, and when web3.py receives a dictionary, it is mapped to <code>eth_newFilter</code>.</p><p>To add to this, web3.py has <code>get_new_entries</code> as well as <code>get_all_entries</code> for filters but <code>get_all_entries</code> does not work in our case. This is because <code>eth_newPendingTransactionFilter</code> does not have <code>get_all_entries</code> available for it.</p><h4>From latest block to pending block filter</h4><p>Why doesn‚Äôt the following filter give me real-time pending transactions?</p><pre><code>web3.eth.filter({'fromBlock': 'latest', 'toBlock': 'pending'})</code></pre><p>A filter only returns <code>new_entries()</code> when the state has changed. This specific filter state changes only when there is a new latest block or pending block. Thus, you will only receive changes when there is a new latest block or pending block, i.e. <code>(eth.getBlock('latest') / pending)</code>.</p><h4>The getPendingTransactions filter</h4><p>Why is the following giving me a different or empty result?</p><pre><code>web3.eth.getPendingTransactions().then(console.log)</code></pre><p>This function is mapped to <code>eth.pendingTransactions</code> which is a function to check local pending transactions and does not give you global transactions.</p><p>Based on the <a href="https://github.com/ethereum/go-ethereum/blob/ead814616c094331915b03edd82d4200a7880178/internal/ethapi/api.go#L1700" target="_blank" rel="noreferrer noopener nofollow">Geth source code</a>, only <code>pendingTransactions</code> that has its <code>from</code> field matching with your personal account will be shown.</p><h3 id="subscriptions">Subscriptions</h3><p>Subscriptions is real-time streaming of data from server to client through WebSocket. You will need a constantly active connection to stream such events. You cannot use curl for this and have to use a WebSocket client like <a href="https://github.com/vi/websocat" target="_blank" rel="noreferrer noopener nofollow">websocat</a> if you want to access it via command line. Once executed, a stream of pending transaction IDs will start flowing in.</p><p>For other supported subscriptions, check the Geth documentation: <a href="https://geth.ethereum.org/docs/rpc/pubsub#supported-subscriptions" target="_blank" rel="noreferrer noopener nofollow">Supported Subscriptions</a>.</p><h4>Creating a subscription</h4><h5>Websocat</h5><p><strong>Connect to node</strong></p><pre><code>websocat wss://username:<a href="https://chainstack.com/cdn-cgi/l/email-protection" data-cfemail="2959485a5a5e465b4d695e5a04474d04181b1a041d1c1f041e111007591b59404f50074a4644">[email&nbsp;protected]</a></code></pre><p><strong>Create subscription</strong></p><p>Request body:</p><pre><code>{"id": 1, "method": "eth_subscribe", "params": ["newPendingTransactions"]}</code></pre><p>Response body:</p><pre><code>{"jsonrpc":"2.0","id":1,"result":"0x2d4f3eb938cdb0b6fa9052de7c4da5de"}</code></pre><p><strong>Incoming stream</strong></p><pre><code>{"jsonrpc":"2.0","method":"eth_subscription","params":{"subscription":"0x2d4f3eb938cdb0b6fa9052de7c4da5de","result":"0xee426dbaef2a432d0433d5de600347e97b6a8a855daf8765c18cf1b7efc53461"}}
...</code></pre><h3>Txpool API</h3><p>Txpool is a Geth-specific API namespace that keeps pending and queued transactions in the local memory pool. Geth‚Äôs default is 4096 pending and 1024 queued transactions. However, <a href="https://etherscan.io/txsPending" target="_blank" rel="noreferrer noopener nofollow">Etherescan reports</a> a much bigger number of pending transactions. If we view Geth‚Äôs txpool, we will not be able to get all of the transactions. Once the pool of 4096 is full, Geth replaces older pending values with newer pending transactions.</p><p>If you need a bigger pool to be stored on your node, the flag <code>--txpool.globalslots</code> can be adjusted to a higher value on <a href="https://geth.ethereum.org/docs/interface/command-line-options" target="_blank" rel="noreferrer noopener nofollow">Geth CLI options</a>. Do note that the larger the number, the bigger the payload size.</p><p>If you see your <code>txpool_status</code> to be empty, it can mean your node has not fully synced.</p><p>The txpool namespace is only supported on Chainstack dedicated nodes.</p><h4>Creating a txpool filter</h4><h5>cURL</h5><p><strong>Create filter</strong></p><p>Request body:</p><pre><code>{"jsonrpc":"2.0","method":"eth_newPendingTransactionFilter","params":[],"id":73}</code></pre><p>Response body:</p><pre><code>{ "jsonrpc": "2.0", "id": 73, "result": { "pending": {...}, "queued": {...} } }</code></pre><h5>Web3.js</h5><p><a href="https://web3js.readthedocs.io/en/v2.0.0-alpha/web3-eth-txpool.html" target="_blank" rel="noreferrer noopener">TxPool Module</a>.</p><h5>Web3.py</h5><p><a href="https://web3py.readthedocs.io/en/stable/web3.geth.html" target="_blank" rel="noreferrer noopener">Geth API</a>.</p><h3>GraphQL API</h3><p>The biggest advantage of <a href="https://chainstack.com/graphql-on-ethereum-availability-on-chainstack-and-a-quick-rundown/" target="_blank" rel="noreferrer noopener">using GraphQL</a> is that you can filter out the specific fields of the transaction that you want. The query in GraphQL goes through the elements within the txpool. Thus, its limitations are the same as the ones of txpool as stated above.</p><p>The following is an example which shows the information of a pending transaction.</p><p>Query example:</p><pre><code>query {
  pending {
    transactions {
      hash
      gas
      value
      gasPrice
      nonce
      r
      s
      v
      inputData
      status
      gasUsed
      cumulativeGasUsed
      from {
        address
      }
      to {
        address
      }
    }
  }
}</code></pre><p>GraphQL API is currently supported on Chainstack <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">dedicated Ethereum nodes</a>.</p><p>I hope this blog serves you well in understanding the various ways of retrieving pending transactions.</p><h2>Additional resources</h2><ul><li><a href="https://web3js.readthedocs.io/en/v1.3.0/web3-eth.html" target="_blank" rel="noreferrer noopener nofollow">Web3.eth</a></li><li><a href="https://eth.wiki/json-rpc/API" target="_blank" rel="noreferrer noopener nofollow">Ethereum JSON-RPC API</a></li><li><a href="https://support.chainstack.com/hc/en-us/articles/900000820506-Checking-pending-and-queued-transactions-in-your-Ethereum-node-s-local-pool" target="_blank" rel="noreferrer noopener">Checking pending and queued transactions in your Ethereum node‚Äôs local pool</a></li><li><a href="https://support.chainstack.com/hc/en-us/articles/900003426246-Subscribing-to-global-new-pending-transactions" target="_blank" rel="noreferrer noopener">Subscribing to global new pending transactions</a></li></ul><h2>Join our community of innovators</h2><ul><li>To learn more about Chainstack, visit our <a href="https://docs.chainstack.com/" target="_blank" rel="noreferrer noopener">Knowledge Center</a> or join our <a href="https://gitter.im/chainstack/Lobby" target="_blank" rel="noreferrer noopener">Gitter Lobby</a>.</li><li>Sign up for a <a href="https://console.chainstack.com/user/account/create" target="_blank" rel="noreferrer noopener">free Developer account</a>, or explore the options offered by <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">Growth or Business plans</a>.</li><li>Take a look at our pricing tiers using a <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">handy calculator</a> to estimate usage and number of nodes.</li></ul><p>Have you already explored what you can achieve with Chainstack? <a rel="noreferrer noopener" href="https://console.chainstack.com/user/account/create" target="_blank">Get started for free today</a>.</p></div></div>]]>
            </description>
            <link>https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524749</guid>
            <pubDate>Thu, 24 Dec 2020 03:15:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Three Great Videos About Regex Derivatives]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524555">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | http://www.oilshell.org/blog/2020/12/regex-videos.html | <a href="https://web.archive.org/web/*/http://www.oilshell.org/blog/2020/12/regex-videos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  <!-- INSERT LATCH HTML -->
<p><a href="http://www.oilshell.org/blog/">blog</a> | <a href="http://www.oilshell.org/">oilshell.org</a></p>

<p>
  2020-12-23
</p>
<p>I usually don't post videos here, but the first one in this series <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">got a
positive reaction on Reddit</a>, and there are two more.</p>
<p>I've been interested in implementing simple and efficient <strong>regex matching</strong>
with the derivatives technique for a couple years. But I haven't had time to
play with code that implements it, or read the original papers more carefully.</p>
<p>These videos helped me understand the technique despite the fact I haven't
done math in over a decade.  Others apparently felt the same way.  The
explanation is simple but not dumbed down.</p>
 
<a name="context"></a>
<h2>Context</h2>
<p>For context, see the two July 2020 posts  tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=eggex#eggex">eggex</a>,
particularly <a href="http://www.oilshell.org/blog/2020/07/ideas-questions.html#regular-expression-derivatives-papers-and-code">this part of the second post, on derivatives</a>.</p>
<p>Summary: A 2009 paper revived this regex matching technique.  There have been
many implementations since, though no popular ones.</p>
<a name="how-does-this-relate-to-shell"></a>
<h3>How Does This Relate to Shell?</h3>
<ul>
<li>As mentioned in those posts, a <strong>glob</strong> like <code>[a-c]*.py</code> is essentially a
limited form of regex.
<ul>
<li>I noted in <a href="https://news.ycombinator.com/item?id=25491467">this Hacker News comment</a> that the obscure
"extended glob" feature of bash gives globs the power of regular
expressions, by adding repetition and alternation.</li>
</ul>
</li>
<li>It would be nice if <a href="http://www.oilshell.org/cross-ref.html?tag=eggex#eggex">egg expressions</a> could be <strong>compiled</strong> to a
full DFA in C, as we do in <a href="http://www.oilshell.org/blog/tags.html?tag=lexing#lexing">Oil's lexer</a> via <a href="http://www.oilshell.org/cross-ref.html?tag=re2c#re2c">re2c</a>.
<ul>
<li>This seems doable, and the author of an <a href="https://github.com/jack-pappas/facio/tree/master/Reggie">F# compiler
toolkit</a> relays
valuable experience at the bottom of the thread.  I'd like to do the same
thing without the .NET runtime, depending only on code in Oil.</li>
</ul>
</li>
<li>It would be nice if <a href="http://www.oilshell.org/cross-ref.html?tag=eggex#eggex">egg expressions</a> weren't limited to the
features of the pattern matching engine in <a href="http://www.oilshell.org/cross-ref.html?tag=libc#libc">libc</a>.  Non-greedy
capturing like <code>foo.*?bar</code> would be nice, although capturing and matching are
two different problems.</li>
</ul>
<a name="easytheory-videos"></a>
<h2>EasyTheory Videos</h2>
<a name="derivative-of-a-regex-brzozowski-derivative"></a>
<h3>Derivative of a Regex?! (Brzozowski Derivative)</h3>
<p>This video explains what a derivative is using the recursive definition of
regular expressions.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/s9EPoy9r-ok" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope;
picture-in-picture" allowfullscreen=""></iframe>

<a name="example"></a>
<h3>Example</h3>
<p>This one walks through an example of a regex and its derivative.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/P9FtoOCZMDM?list=PLylTVsqZiRXN3Q86XJV6OWOmIzvVZs75E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<a name="regex-to-dfa-directly-using-brzozowski-derivatives-no-nfa"></a>
<h3>Regex to DFA Directly Using Brzozowski Derivatives (No NFA)</h3>
<p>This one shows how to directly convert a regular expression to a DFA with
derivatives.  This is interesting because DFAs can be executed efficiently.
See the <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">Reddit thread</a> for more color on this.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/rcjR3--M7iM?list=PLylTVsqZiRXN3Q86XJV6OWOmIzvVZs75E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<a name="why-call-this-operation-a-derivative"></a>
<h2>Why Call This Operation a Derivative?</h2>
<p>I don't know, and the videos don't explain it!  I assume there is some
connection between algebra and calculus.</p>
<p>The <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">Reddit thread</a> has some speculation on this.  <a href="https://old.reddit.com/r/oilshell/comments/kj6svq/three_great_videos_about_regex_derivatives/?">Leave a
comment</a> if you have ideas.</p>
<p>I recently explained that <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/k5yj4c/modern_parser_generator/geiew2e/">languages are sets, not algorithms</a>.
And MathOverflow says that <a href="https://math.stackexchange.com/a/1574197">derivatives can be expressed in set
theory</a>.  But I don't know if that's
a useful way to think about it.</p>
<a name="more-info"></a>
<h2>More Info</h2>
<ul>
<li>These videos are part of the <a href="https://www.youtube.com/c/EasyTheory/videos">EasyTheory
channel</a>, which started 9 months
ago, and has many videos that go deeply into the theory of computation.
<ul>
<li>Caveat: this is pure theory, and I'm mainly interested in <strong>engineering
consequences</strong>, like compiling with fewer lines of code and executing
efficiently.  Posts tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=computer-science#computer-science">computer-science</a> explain other
such connections.</li>
</ul>
</li>
<li>Recent posts tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=eggex#eggex">eggex</a>:
<ul>
<li><a href="http://www.oilshell.org/blog/2020/07/eggex-theory.html">Comments on Eggex and Regular
Languages</a> (July 2020)</li>
<li><a href="http://www.oilshell.org/blog/2020/07/ideas-questions.html">Regular Languages, Part 2: Ideas and
Questions</a> (July
2020).  This post contains the section with many links about regex
derivatives, also linked above.</li>
</ul>
</li>
</ul>
<p><strong>Ad</strong>: I'm looking for help with Oil, which is written in Python, shell, and
C++.  See our
<a href="https://github.com/oilshell/oil/blob/master/README.md">README.md</a>.</p>




</div>]]>
            </description>
            <link>http://www.oilshell.org/blog/2020/12/regex-videos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524555</guid>
            <pubDate>Thu, 24 Dec 2020 02:34:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fitting all human knowledge in a box]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25524460">thread link</a>) | @moj3
<br/>
December 23, 2020 | https://monadical.com/posts/knowledge-in-box.html | <a href="https://web.archive.org/web/*/https://monadical.com/posts/knowledge-in-box.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://monadical.com/posts/knowledge-in-box.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524460</guid>
            <pubDate>Thu, 24 Dec 2020 02:11:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fabbrica: A sans serif typeface with a utilitarian aesthetic]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524216">thread link</a>) | @kmckiern
<br/>
December 23, 2020 | https://www.cinetype.com/fabbrica | <a href="https://web.archive.org/web/*/https://www.cinetype.com/fabbrica">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.cinetype.com/fabbrica</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524216</guid>
            <pubDate>Thu, 24 Dec 2020 01:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rocky Linux December 2020 community update]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25523895">thread link</a>) | @curt15
<br/>
December 23, 2020 | https://forums.rockylinux.org/t/community-update-december-2020/1157 | <a href="https://web.archive.org/web/*/https://forums.rockylinux.org/t/community-update-december-2020/1157">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          


          <p><span>
              <meta itemprop="datePublished" content="2020-12-23T03:10:41Z">
              <time itemprop="dateModified" datetime="2020-12-23T16:26:26Z">
                December 23, 2020,  4:26pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<h2>Summary</h2>
<p>Our teams are working to coordinate the many individuals and organizations that have offered to help advance The Rocky Linux Foundation, Inc. (Rocky Linux). The core team is working to lay the infrastructure that will support the legal entity and the engineering efforts required to deliver and support an initial release. Updates regarding project news, release dates, and more will be announced on our <a href="https://forums.rockylinux.org/">forums</a>, <a href="https://rockylinux.org/">website</a>, and <a href="https://forums.rockylinux.org/t/all-rocky-linux-links/833">other social media platforms</a>.</p>
<h3>Timeline</h3>
<p>Transparency with the community and for those that will be relying on Rocky Linux to supplant their CentOS 8 installations before support expiration is paramount. We will soon be communicating a timeline for the delivery of the following:</p>
<ul>
<li>Build systems and infrastructure readiness</li>
<li>Automatic package build infrastructures</li>
<li>When the testing package repository will be made public</li>
<li>Installer testing readiness</li>
<li>ETA for length of time needed for community testing</li>
<li>Release candidate availability</li>
</ul>
<p>We are targeting Q2 2021 to deliver our first release of Rocky Linux, made available not only in standard commercial regions, but also <a href="https://aws.amazon.com/govcloud-us">GovCloud</a>, and China.</p>
<hr>
<p>Over the past three weeks, here is some of the progress we‚Äôve made:</p>
<h2>Infrastructure</h2>
<ul>
<li>We have selected and vetted auditing, logging, and user account management tooling.</li>
<li>Amazon Web Services (AWS):
<ul>
<li>The team selected AWS as the primary build platform for development of Rocky Linux. AWS was chosen primarily to protect the integrity of the software supply chain for Rocky Linux.</li>
<li>Unfortunately, donated hardware and rack space isn‚Äôt sufficient to meet our supply chain integrity needs.</li>
<li>Traditional physical hardware separate from our production build environment will still be necessary, and we expect a large portion of our infrastructure will exist outside of AWS for the purposes of business continuity, cost, and platform agnosticity.</li>
<li>We have outlined an infrastructure to best secure and facilitate our engineering efforts using multiple VPCs, subnets, and regions for high availability.</li>
</ul>
</li>
<li>Data Centers:
<ul>
<li>We are negotiating with several data center providers for the secure hosting of our physical infrastructure.</li>
<li>After we have our physical infrastructure provider solidified, we will reach back out to those that have offered to donate hardware .</li>
<li>Discussions with the Oregon State University Open Source Lab (<a href="https://osuosl.org/">OSUOSL</a>) regarding resources are in the works.</li>
</ul>
</li>
</ul>
<p>The core tenets of the Infrastructure Team are:</p>
<ul>
<li>To provide a platform for the automatic and secure builds of packages and components which will allow for community participation without sacrificing security or trust in the resulting packages</li>
<li>The integrity of the build pipeline and software supply chain are paramount.</li>
<li>Be as vendor and platform agnostic as possible. Avoid vendor lock-in.</li>
<li>Be transparent with the community, to the extent possible and practical.</li>
</ul>
<h2>Release Engineering and Packaging</h2>
<ul>
<li>The build process for Rocky Linux will use <a href="https://fedoraproject.org/wiki/Koji">Koji</a> and <a href="https://pagure.io/fm-orchestrator/tree/master">MBS</a>.</li>
<li>We are developing scripts and build tools to create a pipeline that allows pulling sources, debranding, and building through Koji and <a href="https://github.com/rpm-software-management/mock/wiki">Mock</a>.</li>
<li>The progress of proof of concepts and processes utilized by the Rocky Linux build process, including all errors and dependencies, is being documented in the <a href="https://wiki.rockylinux.org/en/Development">wiki</a>.</li>
</ul>
<h2>Security</h2>
<ul>
<li>The Security team has drafted a Data Classification Policy, which will be made available for public comment pending review.</li>
<li>Groups, members, and permissions structures for the build infrastructure have been laid out for review and evaluation.</li>
<li>In parallel with the infrastructure team, we have architected and designed AWS network and security topologies aligned with best practices and security standards.</li>
<li>Work has started on OpenSCAP documents for popular STIGs.</li>
<li>Plans are being made with the goal of Rocky Linux becoming FIPS compliant.</li>
</ul>
<h2>Web</h2>
<ul>
<li>In only 12 days, our <a href="https://forums.rockylinux.org/">forums</a> have received nearly 150K page views.</li>
<li>Bandwidth to GitHub resources has exceeded the current plan, requiring an upgrade.</li>
</ul>
<h2>Community</h2>
<ul>
<li>We have chosen <a href="https://rbcreative.team/">Red Barn Creative Team</a> (<em>formerly Hackerthreads</em> ) as the designated / authorized vendor to sell Rocky Linux branded merchandise. We are awaiting proofs from their designers to present to the community, and will as well be accepting submissions for designs.</li>
<li>Over 370 people have responded to our <a href="https://docs.google.com/forms/d/e/1FAIpQLSfEXnqD1sNHz9cslkMNOk6krUtDdSCYbxL68TTsn7uGZnoSFQ/viewform">form for registering volunteers</a> and supporters.</li>
<li>A blog and mailing list for future announcements and community updates is in development.</li>
<li>We have outgrown Slack due to the size of the community and required feature sets, and will therefore be migrating to <a href="https://mattermost.com/">Mattermost</a>. This open source platform has a number of features we‚Äôll be taking advantage of, including: an IRC bridge, multi-factor authentication, advanced logging / auditing / security capabilities, and fidelity in channel and access permissions.</li>
<li>Social media following:
<ul>
<li>4.3K active members on Slack</li>
<li>169 followers on <a href="https://linkedin.com/company/rockylinux">LinkedIn</a> with 1.3K post impressions</li>
<li>4K followers on <a href="https://twitter.com/rocky_linux">Twitter</a> with an average of 22K impressions and 3575 interactions per tweet</li>
<li>3K members in <a href="https://www.reddit.com/r/RockyLinux">/r/RockyLinux on Reddit</a>.</li>
</ul>
</li>
</ul>
<h2>Special Interest Groups (SIG)</h2>
<ul>
<li>We have received a number of requests for SIGs on a variety of different topics:
<ul>
<li>Desktop / Laptop</li>
<li>Enhanced Security</li>
<li>Kubernetes / Cloud Native</li>
<li>Minimal Install / OS Bootstrap</li>
<li>Storage appliance</li>
<li>HPC and next generation HPC</li>
</ul>
</li>
<li>The evolution of a SIG should result in optional package repositories and/or custom installers.</li>
<li>We will need leaders for SIGs as well as proposals.</li>
<li>Timelines for these proposals will be coming soon.</li>
</ul>
<p><em>Note: Rocky Linux is first and foremost a freely available Enterprise Linux clone. SIGs will optionally enhance that base and provide extra packages and capabilities to that stable base. At no point will a SIG affect the default core of Rocky Linux.</em></p>
<h2>Sponsors</h2>
<ul>
<li>We have a number of companies who have stepped up to sponsor the Rocky Linux Foundation in the form of developers, hardware, cloud instances, and money.</li>
<li>Sponsorship will have different levels, and we are happy to speak with organizations interested in helping.</li>
<li>All contributors will be publicly thanked on our website.</li>
</ul>
<h2>Legal</h2>
<ul>
<li>The Rocky Linux Foundation, Inc. has been registered as a legal not-for-profit entity in the United States (Delaware).</li>
<li>An application for 501(‚Äãc)(3) non-profit status will be submitted as we mature and can afford the legal representation to do so.</li>
<li>We are considering licensing for our data that will enable the greatest flexibility for our community. At present, the team is leaning towards the 3 Clause BSD license, but community input is welcome on this decision.</li>
</ul>
<h2>Localization</h2>
<ul>
<li>A <a href="https://forums.rockylinux.org/c/localization/10">localization category</a> has been created on our forums, with many people interested in helping with translations to a number of languages including Spanish, French, Italian, German, Chinese, Afrikaans, Greek, Turkish, and many more.</li>
<li>We will be working to ensure future newsletters are translated to as many languages as possible.</li>
</ul>
<p>If you have an interest in assisting with translations, please reach out via the <a href="https://forums.rockylinux.org/c/localization/10">localization category of our forums</a>.</p>
<hr>
<p>Lastly, this wouldn‚Äôt at all be possible without <em>you</em>. We‚Äôre immensely grateful for the community‚Äôs enthusiasm, excitement, and help. Rocky Linux is, and will  remain a community-driven effort.</p>
<p>If you would like to contribute to Rocky Linux, please take a moment to fill out our <a href="https://forms.gle/F3crDYVkq79pDtr49">participation form</a> if you haven‚Äôt already done so. This form will allow us to expand and gauge interest in teams.</p>
<p>If you have any questions, comments, concerns, suggestions, or would like to help out, please reach out to us via email at:  <a href="mailto:hello@rockylinux.org">hello@rockylinux.org</a>.</p>
<p>Sincerely,<br>
The Rocky Linux Foundation<br>
<a href="https://rockylinux.org/">https://rockylinux.org</a></p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">
          <meta itemprop="keywords" content="">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/jorp"><span itemprop="name">jorp</span></a>
            
              pinned globally 
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T03:40:32Z">
                December 23, 2020,  3:40am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T03:40:32Z">
          <span itemprop="position">#2</span>
          </span>
        </p></div>
        

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>Thanks for the update <a href="https://forums.rockylinux.org/u/jorp">@jorp</a>, great summary.</p>
<p>Minor nit, can we change the wording of ‚ÄòSpring 2021‚Äô to something more internationally consistent? eg. a month or quarter in 2021.</p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/jorp"><span itemprop="name">jorp</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T06:02:44Z">
                December 23, 2020,  6:02am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T06:02:44Z">
          <span itemprop="position">#5</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>That was a great suggestion and definitely not a nitpick in my book. I‚Äôve edited accordingly, thank you for pointing that out.</p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/defcon3"><span itemprop="name">defcon3</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T08:45:14Z">
                December 23, 2020,  8:45am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T08:45:14Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        <p>GREAT,<br>
thanks for the update.</p>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/Faisal"><span itemprop="name">Faisal</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T09:15:26Z">
                December 23, 2020,  9:15am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T09:15:26Z">
          <span itemprop="position">#7</span>
          </span>
        </p></div>
        <p>I‚Äôm suggesting something that maybe seen as a huge undertake that I don‚Äôt know if it‚Äôs even possible or at least could prove stable.<br>
A migration script from CentOS 7/8 to our Rocky.</p>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/muzilee"><span itemprop="name">muzilee</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T09:35:52Z">
                December 23, 2020,  9:35am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T09:35:52Z">
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/xtus"><span itemprop="name">xtus</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T10:14:56Z">
                December 23, 2020, 10:14am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T10:14:56Z">
          <span itemprop="position">#9</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>I‚Äôm not a US ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://forums.rockylinux.org/t/community-update-december-2020/1157">https://forums.rockylinux.org/t/community-update-december-2020/1157</a></em></p>]]>
            </description>
            <link>https://forums.rockylinux.org/t/community-update-december-2020/1157</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523895</guid>
            <pubDate>Thu, 24 Dec 2020 00:24:04 GMT</pubDate>
        </item>
    </channel>
</rss>
